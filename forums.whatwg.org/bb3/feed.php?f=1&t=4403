<br />
<b>Strict Standards</b>:  Non-static method phpbb_feed_factory::init() should not be called statically in <b>/home/whatforums/forums.whatwg.org/bb3/feed.php</b> on line <b>66</b><br />
<b>[phpBB Debug] PHP Notice</b>: in file <b>/feed.php</b> on line <b>171</b>: <b>Cannot modify header information - headers already sent by (output started at /feed.php:66)</b><br />
<b>[phpBB Debug] PHP Notice</b>: in file <b>/feed.php</b> on line <b>172</b>: <b>Cannot modify header information - headers already sent by (output started at /feed.php:66)</b><br />
<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="https://forums.whatwg.org/bb3/feed.php?f=1&amp;t=4403" />

<title>WHATWG forums</title>
<subtitle>A Forum for HTML Discussions: Semantics, DOM APIs, Microdata, Canvas, WebGL, Offline Web Applications, Local Storage, WebM Video, WebSockets, Web Workers, Drag and Drop, Forms, Accessibility, Syntax, News, Keywords, Yet More Keywords &amp; More.</subtitle>
<link href="https://forums.whatwg.org/bb3/index.php" />
<updated>2010-08-24T15:47:42+00:00</updated>

<author><name><![CDATA[WHATWG forums]]></name></author>
<id>https://forums.whatwg.org/bb3/feed.php?f=1&amp;t=4403</id>
<entry>
<author><name><![CDATA[riete]]></name></author>
<updated>2010-08-24T15:47:42+00:00</updated>
<id>https://forums.whatwg.org/bb3/viewtopic.php?t=4403&amp;p=6217#p6217</id>
<link href="https://forums.whatwg.org/bb3/viewtopic.php?t=4403&amp;p=6217#p6217"/>
<title type="html"><![CDATA[transaction and global variables]]></title>

<content type="html" xml:base="https://forums.whatwg.org/bb3/viewtopic.php?t=4403&amp;p=6217#p6217"><![CDATA[
Hi there! I'm new to this forum and hope that this will be a long term cooperation.<br /><br />I'm also new to HTML5 <img src="https://forums.whatwg.org/bb3/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" />, my first question concern the way transaction can be use to return result to main process.<br /><br />I have tried two different ways without success. The first one is by returning value(s) and the second by the affectation a global variable.<br /><br />This part of thecode will explain better:(don't blame me about the way I wrote the SQL query, I know this is a securty issue, I'll deal with it later on)<dl class="codebox"><dt>Code: </dt><dd><code>function singleHandler&#40;transaction, results, dest_ID&#41; &#123;<br /><br />   var mydest = document.getElementById&#40;dest_ID&#41;;<br />   mydest.style.display = &quot;block&quot;;<br /><br />   // Handle the results<br />   if &#40;!results.rows.length&#41; &#123;<br />      mydest.innerHTML=&quot;No result found ...&quot;;<br />   &#125;<br />   else&#123;<br />   <br />      var string = &quot;&lt;b&gt;&quot;; <br />      for &#40;var i=0; i&lt;results.rows.length; i++&#41; &#123; <br />         var row = results.rows.item&#40;i&#41;; <br />         string = string + row&#91;'Nom'&#93;; <br />      &#125;<br />      mydest.innerHTML=string;<br />      window.Ref = row&#91;'Ref'&#93;;<br />   &#125;<br />&#125;<br /><br />function Query_Single_Data&#40;db, table, field, value, dest_ID&#41;&#123;<br />   db.transaction&#40;<br />      function &#40;transaction&#41; &#123;<br />         transaction.executeSql&#40;&quot;SELECT * from &quot; + table + &quot; WHERE &quot; + field + &quot; LIKE '&quot; + value + &quot;';&quot;, &#91;&#93;, function&#40;transaction, results&#41; &#123;<br />            singleHandler&#40;transaction, results, dest_ID&#41;;<br />         &#125;, errorHandler&#41;;<br />      &#125;<br />   <br />   &#41;;<br />&#125;</code></dd></dl>The mydest block is well affected, but I would like to avoid this way of modifying the content of the page. I would prefer to modify the global variable Ref.<br />The trouble is Ref is not correctly affected. It looks like it takes time to exÃ©cute this affectation.<br />When I submit the form to fire the transaction it return the value of the declation of window.Ref. But if I submit again, the value is affected.<br /><br />I'm probably doing something wrong ?<br /><br />I hope this is clear enough<p>Statistics: Posted by <a href="https://forums.whatwg.org/bb3/memberlist.php?mode=viewprofile&amp;u=1416">riete</a> — Tue Aug 24, 2010 3:47 pm</p><hr />
]]></content>
</entry>
</feed>