<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Removing the need for separate feeds
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Removing%20the%20need%20for%20separate%20feeds&In-Reply-To=%3CPine.LNX.4.62.0906102156070.1648%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="062606.html">
   <LINK REL="Next"  HREF="062611.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Removing the need for separate feeds</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Removing%20the%20need%20for%20separate%20feeds&In-Reply-To=%3CPine.LNX.4.62.0906102156070.1648%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Removing the need for separate feeds">ian at hixie.ch
       </A><BR>
    <I>Wed Jun 10 15:15:13 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="062606.html">[whatwg] Naming of &quot;Self-closing start tag state&quot;
</A></li>
        <LI>Next message: <A HREF="062611.html">[whatwg] page refresh and resubmitting POST state
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62609">[ date ]</a>
              <a href="thread.html#62609">[ thread ]</a>
              <a href="subject.html#62609">[ subject ]</a>
              <a href="author.html#62609">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 22 May 2009, Dan Brickley wrote:
&gt;<i> On 22/5/09 09:21, Ian Hickson wrote:
</I>&gt;<i> &gt; On Fri, 22 May 2009, Henri Sivonen wrote:
</I>&gt;<i> &gt; &gt; On May 22, 2009, at 09:01, Ian Hickson wrote:
</I>&gt;<i> &gt; &gt; &gt;    USE CASE: Remove the need for feeds to restate the content of HTML
</I>&gt;<i> &gt; &gt; &gt; pages
</I>&gt;<i> &gt; &gt; &gt;    (i.e. replace Atom with HTML).
</I>&gt;<i> &gt; &gt; Did you do some kind of &quot;Is this Good for the Web?&quot; analysis on this
</I>&gt;<i> &gt; &gt; one? That is, do things get better if there's yet another feed format?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; As far as I can tell, things get better if the feed format and the default
</I>&gt;<i> &gt; output format are the same, yes. Generally, redundant information has
</I>&gt;<i> &gt; tended to lead to problems.
</I>&gt;<i> 
</I>&gt;<i> Would this include having a mechanism (microdata? xml islands?) that preserves
</I>&gt;<i> extension markup from Atom feeds? eg. see
</I>&gt;<i> <A HREF="http://www.ibm.com/developerworks/xml/library/x-extatom1/">http://www.ibm.com/developerworks/xml/library/x-extatom1/</A>
</I>
Actually the algorithm to convert HTML to Atom doesn't even support all of 
Atom, let alone extensions. However, it's quite possible to extend HTML 
itself if it is to be used as a native feed format, as described here:

   <A HREF="http://wiki.whatwg.org/wiki/FAQ#HTML5_should_support_a_way_for_anyone_to_invent_new_elements.21">http://wiki.whatwg.org/wiki/FAQ#HTML5_should_support_a_way_for_anyone_to_invent_new_elements.21</A>


On Fri, 22 May 2009, Adrian Sutton wrote:
&gt;<i> On 22/05/2009 08:21, &quot;Ian Hickson&quot; &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; As far as I can tell, things get better if the feed format and the 
</I>&gt;<i> &gt; default output format are the same, yes. Generally, redundant 
</I>&gt;<i> &gt; information has tended to lead to problems.
</I>&gt;<i> 
</I>&gt;<i> Can you point to examples of this in relation to the use of feeds in 
</I>&gt;<i> particular?
</I>
Smylers listed more than I could think of:

On Fri, 22 May 2009, Smylers wrote:
&gt;<i> 
</I>&gt;<i> I can't find examples right now, but I have encountered various problems 
</I>&gt;<i> along these lines in the past, including:
</I>&gt;<i> 
</I>&gt;<i> * The feed suddenly becomes empty.
</I>&gt;<i> * A new blog has a 'feed' link, but it never works.
</I>&gt;<i> * A blog's feed URL changes, but doesn't redirect.
</I>&gt;<i> * A feed is misformatted in a way which causes it to be ignored.
</I>&gt;<i> * The content of a feed is misformatted, such that in a feed reader its
</I>&gt;<i>   display is mangled, such as HTML tags and entities showing, or spaces
</I>&gt;<i>   having been squeezed out from around tags such that linked words don't
</I>&gt;<i>   have spaces around them.
</I>&gt;<i> * The content of a feed has certain critical information, such as an
</I>&gt;<i>   image, stripped from it, such that it makes no sense, or has a
</I>&gt;<i>   different meaning from the full post.
</I>&gt;<i> * The content of a feed has certain critical mark-up stripped from it,
</I>&gt;<i>   such as &lt;sup&gt; around exponents in a mathematical expression rendering
</I>&gt;<i>   &quot;36&quot; where &quot;3 to the power of 6&quot; was intended.
</I>&gt;<i> 
</I>&gt;<i> In all cases the HTML version of the blog had correctly displaying and 
</I>&gt;<i> updating content; only the feed was affected by the issues.  This 
</I>&gt;<i> usually left the author unaware of the problem, as they don't subscribe 
</I>&gt;<i> to their own blog.
</I>

On Fri, 22 May 2009, Adrian Sutton wrote:
&gt;<i>
</I>&gt;<i> This feels a lot like jumping the shark and solving a problem that has 
</I>&gt;<i> already been solved at one end (syndicating content) and doesn't exist 
</I>&gt;<i> at the other (syndicated content being out of sync with the HTML 
</I>&gt;<i> version).
</I>
It seems like defining how one converts HTML to Atom is useful in general 
even if -- maybe even especially if -- the desire is to use Atom.


On Fri, 22 May 2009, Eduard Pascual wrote:
&gt;<i>
</I>&gt;<i> While redundant *source* information easily leads to problems, for what 
</I>&gt;<i> I have seen the sites using feeds tend to be almost always dynamic: both 
</I>&gt;<i> the HTML pages and the feeds are generated via server scripts from the 
</I>&gt;<i> *same set of source data*, normally from a database. This is especially 
</I>&gt;<i> true for blogs, and any other CMS-based site, since CMSs normally rely a 
</I>&gt;<i> lot on databases and server-side scripting. So on these cases we don't 
</I>&gt;<i> actually have redundant information, but just multiple ways to retrieve 
</I>&gt;<i> the same information.
</I>
That seems plausible, yes.


&gt;<i> For manually authored pages and feeds things would be different; but are 
</I>&gt;<i> there really a significant ammount of such cases out there? I can't say 
</I>&gt;<i> I have seen the entire web (who can?), but among what I have seen, I 
</I>&gt;<i> have never encountered any hand authored feed, except for code examples 
</I>&gt;<i> and similar &quot;experimental&quot; stuff.
</I>
On Fri, 22 May 2009, Toby Inkster wrote:
&gt;<i> 
</I>&gt;<i> Surely this proves the need for a way of extracting feeds from HTML?
</I>
I don't know if it proves it per se, but it certainly indicates that there 
is a possible need.

I added the section on how to convert HTML pages to Atom based on requests 
over the years and most recently specifically in the context of the 
microdata section. It doesn't replace Atom, nor is anyone required to 
author HTML in any particular way because of this; it merely provides a 
migration path if one is desired. I think enabling this kind of 
interoperability between standards can only be good.


On Fri, 22 May 2009, Adrian Sutton wrote:
&gt;<i> On 22/05/2009 11:36, &quot;Toby Inkster&quot; &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mail at tobyinkster.co.uk</A>&gt; wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; You never see manually written feeds because people can't be bothered 
</I>&gt;<i> &gt; to manually write feeds. So the people who manually author HTML simply 
</I>&gt;<i> &gt; don't bother providing feeds at all.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; If an HTML page can *be* a feed, this allows manually authored HTML 
</I>&gt;<i> &gt; pages to be subscribed to in feed readers.
</I>&gt;<i> 
</I>&gt;<i> For this to make sense, these people would also be manually adding new 
</I>&gt;<i> entries to the top of the page and dropping old ones off the bottom all 
</I>&gt;<i> by hand.  Feeds aren't used for checking for updates to a page - they're 
</I>&gt;<i> used to check for updates for a site (or section of a site). There are 
</I>&gt;<i> very few cases where every item in a feed corresponds to the same page, 
</I>&gt;<i> even where the entries may be aggregated into a single index page.
</I>
I actually do see this happen from time to time, and it used to be quite 
common; but I agree that CMSes have made this practice rarer over time.


On Fri, 22 May 2009, Philip Taylor wrote:
&gt;<i> 
</I>&gt;<i> Perhaps a page like <A HREF="http://philip.html5.org/data.html">http://philip.html5.org/data.html</A> - people might 
</I>&gt;<i> want to subscribe in their feed reader to see all the exciting updates, 
</I>&gt;<i> and the markup is all hand-written. It's not at all like a blog, but 
</I>&gt;<i> maybe it's data that could be usefully represented with Atom.
</I>&gt;<i> 
</I>&gt;<i> Currently the markup looks like:
</I>&gt;<i> 
</I>&gt;<i>   &lt;ol&gt;
</I>&gt;<i>     &lt;li&gt;&lt;a href=&quot;<A HREF="http://philip.html5.org/data/abbr-acronym.txt">http://philip.html5.org/data/abbr-acronym.txt</A>&quot;&gt;&lt;code&gt;abbr&lt;/code&gt;,
</I>&gt;<i> &lt;code&gt;acronym&lt;/code&gt; titles and contents.&lt;/a&gt; &lt;!-- 2008-02-03 --&gt;
</I>&gt;<i>     &lt;li&gt;&lt;a href=&quot;<A HREF="http://philip.html5.org/data/spaced-uris.txt">http://philip.html5.org/data/spaced-uris.txt</A>&quot;&gt;URIs
</I>&gt;<i> containing spaces.&lt;/a&gt; &lt;!-- 2008-02-02 --&gt;
</I>&gt;<i>     ...
</I>&gt;<i>   &lt;/ol&gt;
</I>&gt;<i> 
</I>&gt;<i> If I understand the spec correctly, I would have to write something like:
</I>&gt;<i> 
</I>&gt;<i>   &lt;ol&gt;
</I>&gt;<i>     &lt;li&gt;
</I>&gt;<i>       &lt;article pubdate=&quot;2008-02-03T00:00:00Z&quot;&gt;
</I>&gt;<i>         &lt;h1&gt;&lt;a href=&quot;<A HREF="http://philip.html5.org/data/abbr-acronym.txt">http://philip.html5.org/data/abbr-acronym.txt</A>&quot;
</I>&gt;<i> rel=&quot;bookmark&quot;&gt;&lt;code&gt;abbr&lt;/code&gt;, &lt;code&gt;acronym&lt;/code&gt; titles and
</I>&gt;<i> contents.&lt;/a&gt;&lt;/h1&gt;
</I>&gt;<i>       &lt;/article&gt;
</I>&gt;<i>     &lt;li&gt;
</I>&gt;<i>       &lt;article pubdate=&quot;2008-02-02T00:00:00Z&quot;&gt;
</I>&gt;<i>         &lt;h1&gt;&lt;a href=&quot;<A HREF="http://philip.html5.org/data/spaced-uris.txt">http://philip.html5.org/data/spaced-uris.txt</A>&quot;
</I>&gt;<i> rel=&quot;bookmark&quot;&gt;URIs containing spaces.&lt;/a&gt;&lt;/h1&gt;
</I>&gt;<i>       &lt;/article&gt;
</I>&gt;<i>     ...
</I>&gt;<i>   &lt;/ol&gt;
</I>&gt;<i> 
</I>&gt;<i> and then it would hopefully work.
</I>
Sounds right.


On Fri, 22 May 2009, Adrian Sutton wrote:
&gt;<i> 
</I>&gt;<i> Given the arguments for justifying the cost of additional attributes 
</I>&gt;<i> I've seen go by on this list, this is probably the weakest I've seen and 
</I>&gt;<i> somehow it made it into the draft.
</I>
The difference is that this particular feature doesn't require any support 
from any tools other than HTML to Atom convertors.


&gt;<i> HTML 5 doesn't need to solve every possible problem, nor should it try 
</I>&gt;<i> to.
</I>
Agreed.


On Fri, 22 May 2009, Brett Zamir wrote:
&gt;<i>
</I>&gt;<i> I also wonder if feeds being accessible in HTML might give rise, as with 
</I>&gt;<i> stylesheets and scripts contained in the head (convenient as those can 
</I>&gt;<i> be too), to excessive bandwidth, as agents repeatedly request updates to 
</I>&gt;<i> a whole HTML page containing a lot of other data.
</I>&gt;<i> 
</I>&gt;<i> (If we had external entities working though, that might be different for 
</I>&gt;<i> XHTML at least, as the file could be included easily as well as reside 
</I>&gt;<i> in its own independently discoverable location (via &lt;link/&gt;)...)
</I>
I would imagine that high-traffic sites would continue using dedicated 
low-bandwidth feeds.


On Sun, 24 May 2009, Eduard Pascual wrote:
&gt;<i> 
</I>&gt;<i> Now, having seen some of the cases, I must say that this addition
</I>&gt;<i> looks like a good idea, but it still needs some work (some issues and
</I>&gt;<i> shortcommings have already been highlighted).
</I>
If there are any issues still outstanding, please let me know.


&gt;<i> There are cases where keeping a separate feed is still a good idea, most 
</I>&gt;<i> prominently for site-wide feeds (because it's not possible to put all 
</I>&gt;<i> the relevant stuff into a single HTML document, unless such document is 
</I>&gt;<i> made for that purpose, but that would be a separate feed on itself 
</I>&gt;<i> then), and for cases where the traffic on the feed is significantly 
</I>&gt;<i> higher than for the document and/or the size of the document is 
</I>&gt;<i> significantly bigger than the feed. These cases, however, are just 
</I>&gt;<i> unaffected by the addition, and shouldn't prevent the relveant ones to 
</I>&gt;<i> take benefit of it.
</I>
Agreed.


On Sat, 23 May 2009, Kornel Lesinski wrote:
&gt;<i> On Fri, 22 May 2009 07:01:51 +0100, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; It doesn't collect the blogroll or the blog post tags yet, mostly 
</I>&gt;<i> &gt; because I'm not sure how to do that. Any suggestions of improvements 
</I>&gt;<i> &gt; are naturally welcome.
</I>&gt;<i> 
</I>&gt;<i> There's hAtom that solves this problem already, and appears to have been 
</I>&gt;<i> proliferated by popular blogging software:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://search.yahoo.com/search?p=searchmonkeyid%3Acom.yahoo.page.uf.hatom">http://search.yahoo.com/search?p=searchmonkeyid%3Acom.yahoo.page.uf.hatom</A>
</I>&gt;<i> 
</I>&gt;<i> but I doubt that many users take advantage of it. Almost all of these 
</I>&gt;<i> pages have standard feeds as well (and all of them can provide them via 
</I>&gt;<i> hAtom2Atom proxy).
</I>&gt;<i> 
</I>&gt;<i> Maybe a better approach would be to extend hAtom or define extraction in 
</I>&gt;<i> terms of hAtom? (e.g. make &lt;div class=&quot;hentry&quot;&gt; and &lt;article&gt; 
</I>&gt;<i> interchangeable?)
</I>
The HTML-to-Atom convertor algorithm ended up being based exclusively on 
native HTML semantics, but I agree that it could be merged with hAtom or 
something like hAtom to provide an even higher-fidelity conversion.



&gt;<i> # For each article element article that does not have an ancestor 
</I>&gt;<i> # article element
</I>&gt;<i> 
</I>&gt;<i> That excludes possibility of syndicating article's comments from markup 
</I>&gt;<i> like this:
</I>&gt;<i> 
</I>&gt;<i> &lt;body&gt;
</I>&gt;<i> &lt;article&gt;
</I>&gt;<i> 	post
</I>&gt;<i> 	&lt;article&gt;comment&lt;/article&gt;
</I>&gt;<i> 	&lt;article&gt;comment&lt;/article&gt;
</I>&gt;<i> &lt;/article&gt;
</I>&gt;<i> &lt;/body&gt;
</I>&gt;<i> 
</I>&gt;<i> Feed with only single entry &quot;post&quot; or &quot;post comment comment&quot; would not 
</I>&gt;<i> be useful.
</I>
Yes. I couldn't figure out how to include comments in an Atom feed along 
with the articles to which they apply.

We could update the HTML-to-Atom algorithm to support extracting 
subarticles if that would be helpful, though.


&gt;<i> Another problem is that algorithm cannot create &lt;summary&gt;. Perhaps 
</I>&gt;<i> &lt;summary&gt; could be assumed if there's alternate link and article doesn't 
</I>&gt;<i> contain more than one header? Or has entire contents wrapped in 
</I>&gt;<i> &lt;blockquote&gt;?
</I>
I'm not sure those really match the &lt;summary&gt; concept. The algorithm 
definitely doesn't support everything Atom does.


&gt;<i> I haven't noticed any way to exclude articles from the feed (except hack 
</I>&gt;<i> &lt;article&gt;&lt;article&gt;...&lt;/article&gt;&lt;/article&gt;). I may have news that's not 
</I>&gt;<i> important enough to justify notification of all subscribers. Are 
</I>&gt;<i> trackbacks and tweets appropriate for &lt;article&gt;? I might want to show 
</I>&gt;<i> them on my page, but wouldn't want to repost them in my feeds.
</I>
This is the kind of thing that would need more fine-grained control, and 
for which I'd recommend extending this algorithm to work with hAtom.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="062606.html">[whatwg] Naming of &quot;Self-closing start tag state&quot;
</A></li>
	<LI>Next message: <A HREF="062611.html">[whatwg] page refresh and resubmitting POST state
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62609">[ date ]</a>
              <a href="thread.html#62609">[ thread ]</a>
              <a href="subject.html#62609">[ subject ]</a>
              <a href="author.html#62609">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
