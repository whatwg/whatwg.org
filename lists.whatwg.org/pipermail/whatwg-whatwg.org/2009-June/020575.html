<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] nested hashchange events
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20nested%20hashchange%20events&In-Reply-To=%3C4A4338DB.4020407%40helsinki.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020574.html">
   <LINK REL="Next"  HREF="020576.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] nested hashchange events</H1>
<!--htdig_noindex-->
    <B>Olli Pettay</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20nested%20hashchange%20events&In-Reply-To=%3C4A4338DB.4020407%40helsinki.fi%3E"
       TITLE="[whatwg] nested hashchange events">Olli.Pettay at helsinki.fi
       </A><BR>
    <I>Thu Jun 25 01:44:11 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020574.html">[whatwg] The political and legal status of WHATWG
</A></li>
        <LI>Next message: <A HREF="020576.html">[whatwg] nested hashchange events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20575">[ date ]</a>
              <a href="thread.html#20575">[ thread ]</a>
              <a href="subject.html#20575">[ subject ]</a>
              <a href="author.html#20575">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi all,

currently &quot;6.11.9 History traversal&quot; doesn't seem to handle
nested hashchange events too well.
If there is a fragment id change to A, hashchange is dispatched, then
if the listener changes the fragment to B, there is a new hashchange and 
after that the page will scroll to B. But the fragment change to A 
hasn't finished yet, so the page will then scroll to A.

Either one should be able prevent the default action of hashchange 
(scrolling), or hashchange should be dispatched after scrolling.
I think I'd prefer the latter. That would keep things simple and prevent 
all sort of strange cases like the example above if preventDefault isn't 
called.

Also, what is the reason for &quot;if the Document's current document 
readiness is the string 'complete'&quot; requirement?
I often click fragment links while the page is still loading, especially 
when the page is large or slow loading. Why shouldn't the
page get notified that it has scrolled to some new location because of
fragment id change.



-Olli
</PRE>





































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020574.html">[whatwg] The political and legal status of WHATWG
</A></li>
	<LI>Next message: <A HREF="020576.html">[whatwg] nested hashchange events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20575">[ date ]</a>
              <a href="thread.html#20575">[ thread ]</a>
              <a href="subject.html#20575">[ subject ]</a>
              <a href="author.html#20575">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
