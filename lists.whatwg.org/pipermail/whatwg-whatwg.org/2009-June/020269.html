<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Annotating structured data that HTML has no semantics for
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Annotating%20structured%20data%20that%20HTML%20has%20no%20semantics%0A%20for&In-Reply-To=%3CPine.LNX.4.62.0906090325080.1648%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020279.html">
   <LINK REL="Next"  HREF="020270.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Annotating structured data that HTML has no semantics for</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Annotating%20structured%20data%20that%20HTML%20has%20no%20semantics%0A%20for&In-Reply-To=%3CPine.LNX.4.62.0906090325080.1648%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Annotating structured data that HTML has no semantics for">ian at hixie.ch
       </A><BR>
    <I>Tue Jun  9 01:40:54 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020279.html">[whatwg] Asynchronous file upload
</A></li>
        <LI>Next message: <A HREF="020270.html">[whatwg] Annotating structured data that HTML has no semantics	for
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20269">[ date ]</a>
              <a href="thread.html#20269">[ thread ]</a>
              <a href="subject.html#20269">[ subject ]</a>
              <a href="author.html#20269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, 11 May 2009, Simon Pieters wrote:
&gt;<i> On Sun, 10 May 2009 12:32:34 +0200, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt;    Page 3:
</I>&gt;<i> &gt;    &lt;h2&gt;My Cats&lt;h2&gt;
</I>&gt;<i> &gt;    &lt;dl&gt;
</I>&gt;<i> &gt;     &lt;dt&gt;Schr&amp;ouml;dinger
</I>&gt;<i> &gt;     &lt;dd item=&quot;com.damowmow.cat&quot;&gt;
</I>&gt;<i> &gt;      &lt;meta property=&quot;com.damowmow.name&quot; content=&quot;Schr&amp;ouml;dinger&quot;&gt;
</I>&gt;<i> &gt;      &lt;meta property=&quot;com.damowmow.age&quot; content=&quot;9&quot;&gt;
</I>&gt;<i> &gt;      &lt;p property=&quot;com.damowmow.desc&quot;&gt;Orange male.
</I>&gt;<i> &gt;     &lt;dt&gt;Erwin
</I>&gt;<i> &gt;     &lt;dd item=&quot;com.damowmow.cat&quot;&gt;
</I>&gt;<i> &gt;      &lt;meta property=&quot;com.damowmow.name&quot; content=&quot;Lord Erwin&quot;&gt;
</I>&gt;<i> &gt;      &lt;meta property=&quot;com.damowmow.age&quot; content=&quot;3&quot;&gt;
</I>&gt;<i> &gt;      &lt;p property=&quot;com.damowmow.desc&quot;&gt;Siamese color-point.
</I>&gt;<i> &gt;      &lt;img property=&quot;com.damowmow.img&quot; alt=&quot;&quot; src=&quot;/images/erwin.jpeg&quot;&gt;
</I>&gt;<i> &gt;    &lt;/dl&gt;
</I>&gt;<i> 
</I>&gt;<i> Given the microdata solution and this example, there is now a reason other
</I>&gt;<i> than styling to introduce &lt;di&gt;, since here you duplicate the &lt;dt&gt; information
</I>&gt;<i> in &lt;meta&gt;.
</I>&gt;<i> 
</I>&gt;<i>   &lt;dl&gt;
</I>&gt;<i>    &lt;di item=&quot;com.damowmow.cat&quot;&gt;
</I>&gt;<i>     &lt;dt property=&quot;com.damowmow.name&quot;&gt;Schr&amp;ouml;dinger
</I>&gt;<i>     &lt;dd&gt;
</I>&gt;<i>      &lt;meta property=&quot;com.damowmow.age&quot; content=&quot;9&quot;&gt;
</I>&gt;<i>      &lt;p property=&quot;com.damowmow.desc&quot;&gt;Orange male.
</I>&gt;<i>    &lt;/di&gt;
</I>&gt;<i>    ...
</I>&gt;<i> 
</I>&gt;<i> The styling problem is discussed at
</I>&gt;<i> <A HREF="http://forums.whatwg.org/viewtopic.php?t=47">http://forums.whatwg.org/viewtopic.php?t=47</A>
</I>
Yeah, I noticed that. I agree that if it turns out that this is a common 
authoring pattern (and assuming we can work around the difficulties in 
adjusting the parser to handle this), we should probably introduce &lt;di&gt; 
after all. I intend to wait and see what happens first though.


On Mon, 11 May 2009, Giovanni Gentili wrote:
&gt;<i> Ian Hickson:
</I>&gt;<i> &gt; &#160; USE CASE: Annotate structured data that HTML has no semantics for, and
</I>&gt;<i> &gt; &#160; which nobody has annotated before, and may never again, for private use or
</I>&gt;<i> &gt; &#160; use in a small self-contained community.
</I>&gt;<i> &gt; (..)
</I>&gt;<i> &gt; &#160; SCENARIOS:
</I>&gt;<i> 
</I>&gt;<i> Between the scenarios should be considered also this case:
</I>&gt;<i> 
</I>&gt;<i> * a user (or groups of users) wants to annotate
</I>&gt;<i> items present on a generic web page with
</I>&gt;<i> additional properties in a certain vocabulary.
</I>&gt;<i> for example Joe wants to gather in a blog
</I>&gt;<i> a series of personal annotation to movies
</I>&gt;<i> (or other type of items) present in imdb.com.
</I>
This isn't really a use case, it's a solution. What is the end-user 
scenario that the author is trying to address? For example, what kind of 
software will collect this information? What problem are we solving?


&gt;<i> a) In the case of properties specified for element without ancestor with 
</I>&gt;<i> an item attribute specified the corresponding item should be the 
</I>&gt;<i> document? (element body with implicit item attribute).
</I>
We already have mechanisms for providing name-value pairs for a document; 
namely, &lt;meta name&gt; and &lt;link rel&gt;.


&gt;<i> b) Do we need to require UA to offer a standard way to visualize (at 
</I>&gt;<i> least as an option left to the user) the structured information carried 
</I>&gt;<i> in microdata ?
</I>
Not as far as I can tell; what use case would this be for?


&gt;<i> And copy&amp;paste?
</I>
The spec already requires user agents to include microdata in copy and 
paste.


On Tue, 12 May 2009, Tim Tepa&#223;e wrote:
&gt;<i> &gt; 
</I>&gt;<i> &gt; (Note the &lt;meta&gt;s in the last example -- since sometimes the 
</I>&gt;<i> &gt; information isn't visible, rather than requiring that people put it in 
</I>&gt;<i> &gt; and hide it with display:none, which has a rather poor accessibility 
</I>&gt;<i> &gt; story, I figured we could just allow &lt;meta&gt; anywhere, if it has a 
</I>&gt;<i> &gt; property=&quot;&quot; attribute.)
</I>&gt;<i> 
</I>&gt;<i> That seems to be a solution optimised for extremely invisible metadata 
</I>&gt;<i> but not for metadata which differs from the human visible data.
</I>
It handles both -- instead of:

   &lt;span itemprop=&quot;x&quot;&gt;y&lt;/span&gt;

...you can do:

   &lt;span&gt;&lt;meta itemprop=&quot;x&quot; content=&quot;y&quot;&gt;z&lt;/span&gt;


&gt;<i> Imagine as an example the simple act of marking up a number (and 
</I>&gt;<i> ignoring what the number denotes). For human consumption a thousands 
</I>&gt;<i> seperator is often used, the type of seperator differs by language, 
</I>&gt;<i> locale and context. Just in my little word I see on regular basis the 
</I>&gt;<i> point, the comma, the space, the thin space and sometimes the the 
</I>&gt;<i> apostrophe. Parsing different representations of numbers would be a 
</I>&gt;<i> chore. The value of textContent of the element &lt;span 
</I>&gt;<i> itemprop=&quot;com.example.price&quot;&gt;&#128;&amp;nbsp;1thinsp;000thinsp;000,&amp;mdash;&lt;/span&gt; 
</I>&gt;<i> is clearly unusable, demanding an additional invisible &lt;meta 
</I>&gt;<i> property=&quot;com.example.price&quot; content=&quot;1000000&quot;&gt;.
</I>
Right.


&gt;<i> My irritation lies in the element proliferation, requiring one element/ 
</I>&gt;<i> attribute combination for machines, one element/text content combination 
</I>&gt;<i> for humans. Of course, any sane author would arrange both elements in a 
</I>&gt;<i> close relation, as parent/child or sibling but there would be still two 
</I>&gt;<i> different elements to maintain, leading to a higher cognitive load. Not 
</I>&gt;<i> just for authors but also for programmers: a fluctating price had to be 
</I>&gt;<i> actualized on two different elements; tree walking DOM scripts had to 
</I>&gt;<i> take meta-Elements in account. Furthermore it clashes with the familiar 
</I>&gt;<i> habit of other elements in HTML. A hyperlink is one element with a 
</I>&gt;<i> machine-readable attribute and human- readable text content. A citation 
</I>&gt;<i> is one element with a machine-readable reference and human-readable text 
</I>&gt;<i> content. The same model is used in &lt;meter&gt;, &lt;progress&gt;, &lt;time&gt;, &lt;abbr&gt; 
</I>&gt;<i> ... but not in user-defined objects. I'd prefer an additional 
</I>&gt;<i> @content-like attribute which supersedes the text content and maybe even 
</I>&gt;<i> the default values of the other value-bearing elements, reducing two 
</I>&gt;<i> different elements to maintain or change to just one.
</I>
I don't really understand what you are proposing. How would you reduce the 
number of places where the value is represented?

I think on the long run if we find particular data types (such as numbers) 
are commonly used in these scenarios, we'll just introduce a new element 
like we did for dates and times (&lt;time&gt;), which can then just render the 
number in a locale-specific manner automatically.


&gt;<i> &gt; Instead, let us try using the regular &quot;IDREF&quot; functionality that HTML 
</I>&gt;<i> &gt; uses in a variety of other places, like &lt;label for=&quot;&quot;&gt;. For this we'll 
</I>&gt;<i> &gt; need a new attribute, but unfortunately we can't use about=&quot;&quot; (which 
</I>&gt;<i> &gt; would be the obvious name to use), because that would conflict with 
</I>&gt;<i> &gt; RDFa, so instead we'll use subject=&quot;&quot;:
</I>&gt;<i> 
</I>&gt;<i> I'm slighty irritated by the implied change from active, possessive 
</I>&gt;<i> formulating (&#147;The cat has the name Hedral.&#148;) to something more passive-y 
</I>&gt;<i> (&#147;Hedral is a name owned by that cat.&#147;). My mental model for property 
</I>&gt;<i> relationships orients itself more on the former wording; link 
</I>&gt;<i> relationships are similar in that regard. @about/@subject are like @rev; 
</I>&gt;<i> a @resource alias @rel would feel more natural. There are practical 
</I>&gt;<i> relation by the missing @resource, I think. Imagine a document 
</I>&gt;<i> documenting an household and a household vocabulary which allows triples 
</I>&gt;<i> of &lt;human&gt;s which are in an &lt;owner&gt; relationship to a &lt;cat&gt;. Given an 
</I>&gt;<i> household of two humans and one cat; how does one markup the assumption 
</I>&gt;<i> that the cat has two owners?
</I>
I agree that there are use cases for both subject=&quot;&quot; like &quot;reverse&quot; links 
back to an item, and &quot;inclusion&quot;-style links that embed other data into an 
item. I have a rough proposal in the form of a &lt;ref&gt; element that could be 
used to do inclusions (based somewhat on the Microformats include 
pattern), but I think we should wait to see how well microdata works in 
the wild before we start adding more features. If it turns out that 
microdata doesn't work, then there's no point worrying about inclusions!


On Tue, 12 May 2009, Eduard Pascual wrote:
&gt;<i>
</I>&gt;<i> First issue: it solves a (major) subset of what RDFa would solve. 
</I>&gt;<i> However, it has been taken as a requirement to avoid 
</I>&gt;<i> clashes/incompatibilities with RDFa. In other words, as things stand, 
</I>&gt;<i> authors will face two options: either use RDFa in HTML5, which would 
</I>&gt;<i> forsake validation but actually work; or take a less powerful, less 
</I>&gt;<i> supported (at least for now: many RDFa-aware agents vs. zero HTML5's 
</I>&gt;<i> microdata -aware agents) that validates but provides no pragmatic 
</I>&gt;<i> advantages.
</I>&gt;<i>
</I>&gt;<i> IMO, an approach that forces authors to choose between 
</I>&gt;<i> validity/conformance which doesn't *yet* works vs. invalid solutions 
</I>&gt;<i> that actually work is a horrible idea: it encourages authors to forsake 
</I>&gt;<i> validity if they want things to work.
</I>&gt;<i>
</I>&gt;<i> Wouldn't the RDFa + @prefix solution suggested many times work better 
</I>&gt;<i> and require less effort (for spec writters, for implementors, and for 
</I>&gt;<i> content authors)? Keep in mind that I don't think RDFa + @prefix is the 
</I>&gt;<i> solution we need; I'm just trying to point out that the current approach 
</I>&gt;<i> is even worse than that.
</I>
I covered the problems with RDFa in the e-mail introducing microdata:

   <A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2009-May/019681.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2009-May/019681.html</A>

I agree that introducing yet another proposal for this is unfortunate, but 
I couldn't find a way to address RDFa's issues (or Microformat's issues, 
or the issues with a number of other technologies I looked at) without 
changing RDFa in an incompatible manner. I believe the problems with 
introducing yet another technology to do this are minor compared to the 
problems with the existing technologies.


&gt;<i> Second issue: as the &quot;decaffeinated RDFa&quot; it is, the HTML5 Microdata 
</I>&gt;<i> approach tends to fail where RDFa itself fails. It's nice that, thanks 
</I>&gt;<i> to the &lt;time&gt; element, the problem with trying to reuse human-readable 
</I>&gt;<i> dates as machine-readable is dodged; but there are other cases where 
</I>&gt;<i> separate values might be needed: for example using a street address for 
</I>&gt;<i> the human-readable representation of a location and the exact geographic 
</I>&gt;<i> coordinates as the machine-readable (since not all micro-data parsers 
</I>&gt;<i> can rely on Google Maps's database to resolve street addresses, you 
</I>&gt;<i> know); or using a colored name (such as &quot;lime green&quot; displayed on lime 
</I>&gt;<i> green color) as the human-readable representation of a color, and the 
</I>&gt;<i> hexcode (like #00FF00) as the machine-readable representation. These are 
</I>&gt;<i> just the cases from the top of my head, and this can't be considered in 
</I>&gt;<i> any way a complete list. While *favoring* the reuse of human-readable 
</I>&gt;<i> values for the machine-readable ones is appropiate, because it's the 
</I>&gt;<i> widely most common case, *forcing* that reuse is a quite bad idea, 
</I>&gt;<i> because it is *not* the *only* case.
</I>
Microdata doesn't force that reuse; you can use &lt;meta&gt; instead.


&gt;<i> Third issue: also a flaw inherited from RDFa, it can be summarized as 
</I>&gt;<i> completelly ignoring the requirement I submitted to this list on April 
</I>&gt;<i> 28th, in reply to Ian asking us to review the use cases [1]. I'll try to 
</I>&gt;<i> illustrate it with a example, inspired by the original use-case: Let's 
</I>&gt;<i> say someone's marking up a collection of iguanas (or cats, or even CDs, 
</I>&gt;<i> doesn't really make a difference when illustrating this issue), making a 
</I>&gt;<i> page for each iguana (or whatever) with all the details for it; and then 
</I>&gt;<i> making an &quot;index&quot; page listing the maybe 20 iguanas with their name, 
</I>&gt;<i> picture, and link to the corresponding page. Adding micro-data to that 
</I>&gt;<i> &quot;index&quot;, either with RDFa or with Ian's microdata proposal, would 
</I>&gt;<i> involve stating 20 times in the markup something like &quot;this is the 
</I>&gt;<i> iguana's picture; this is the iguana's name; and this is the iguana's 
</I>&gt;<i> URL&quot;. It would be preferable to be able to state something like &quot;each 
</I>&gt;<i> (row) &lt;tr&gt; in the &lt;table&gt; describes an iguana: the &lt;img&gt;s are each 
</I>&gt;<i> iguana's picture, the contents of the &lt;a&gt;'s are the names, and the @href 
</I>&gt;<i> of the &lt;a&gt;'s are the URLs to their main pages&quot; just once. If I only need 
</I>&gt;<i> to state the table headings once for the users to understand this 
</I>&gt;<i> concept, why should a micro-data consumer require me to state it 20 
</I>&gt;<i> times, once for each row? Please note how such a page would be quite 
</I>&gt;<i> painful to maintain: any mistake in the micro-data mark-up would 
</I>&gt;<i> generate invalid data and require a manual harvest of the data on the 
</I>&gt;<i> page, thus killing the whole purpose of micro-data. And repeating 
</I>&gt;<i> something 20 (or more) times brings a lot of chances to put a typo in, 
</I>&gt;<i> or to miss an attribute, or any minor but devastating mistake like 
</I>&gt;<i> these.
</I>
I agree entirely. I actually tried to find a workable solution to address 
this but unfortunately the only general solutions I could come up with 
that would allow this were selector-based, and in practice authors are 
still having trouble understanding how to use Selectors even with CSS. 
There's also the problem with separating the data from the rules that say 
how to interpret the data, which would likely lead to more problems than 
the typos one would get from repeating the itemprop=&quot;&quot;s.

I'll probably look at this again in more detail when responding to the 
thread specifically on this topic.


&gt;<i> Last, but not least, I'm not sure if it was wise to start defining a 
</I>&gt;<i> solution while some of the requirements seem to be still under 
</I>&gt;<i> discussion.
</I>
Well, they were under discussion for about a year; at some point we have 
to just do something, or else this feature would have missed the HTML5 
train altogether.


On Wed, 13 May 2009, Eduard Pascual wrote:
&gt;<i> On Sun, May 10, 2009 at 12:32 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; [...]
</I>&gt;<i> &gt;     * Any additional markup or data used to allow the machine to understand
</I>&gt;<i> &gt;       the actual information shouldn't be redundantly repeated (e.g. on each
</I>&gt;<i> &gt;       cell of a table, when setting it on the column is possible).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This isn't met at all with the current proposal. Unfortunately the only
</I>&gt;<i> &gt; general solutions I could come up with that would allow this were
</I>&gt;<i> &gt; selector-based, and in practice authors are still having trouble
</I>&gt;<i> &gt; understanding how to use Selectors even with CSS.
</I>&gt;<i> 
</I>&gt;<i> First, I'd like to ask for a clarification from Ian: what do you mean by 
</I>&gt;<i> &quot;autrhos are still having trouble understanding how to use Selectors&quot;? 
</I>&gt;<i> If you mean that they have trouble when trying to select something like 
</I>&gt;<i> &quot;the second cell of the first row that has a 'foo' attribute different 
</I>&gt;<i> from 'bar' within tables that have four or more rows&quot; or even more 
</I>&gt;<i> obscure stuff, then I should agree: most authors will definitely have 
</I>&gt;<i> trouble dealing with so complex cases, and I bet many will always have 
</I>&gt;<i> such trouble. However, if you mean that authors can't deal with simple 
</I>&gt;<i> class, id, and/or children/descendant selectors, then I think you are 
</I>&gt;<i> seriously understimating authors.
</I>
I was referring to the kind of selectors one would need to make good use 
of a semantic-extraction mechanism using selectors.


&gt;<i> Actually, I was thinking about the cost of deploying implementations, 
</I>&gt;<i> rather than writting them, since RDFa consumers are already out there 
</I>&gt;<i> and working. This, however, strays a bit out of the original idea: it's 
</I>&gt;<i> not really a matter of how big the cost is on its own, but of what do 
</I>&gt;<i> you get for that cost. This is probably my own fault, but I still fail 
</I>&gt;<i> to see what Ian's suggestion offers that RDFa doesn't; so my impression 
</I>&gt;<i> is that these costs, even if they are small, are buying nothing, so they 
</I>&gt;<i> are not worth it. If someone is willing to highlight what makes this 
</I>&gt;<i> proposal worth the costs (ie: what makes it better than RDFa), I'm 
</I>&gt;<i> willing to listen.
</I>
The main benefit as I see it is is simplicity. I've seen even RDFa 
advocates stumble over exactly what triples get generated from some 
particularly gnarly RDFa snippets. With microdata, there's really no way 
to form a gnarly snippet. Each group is introduced by an item=&quot;&quot;, each 
name/value pair is introduced by an itemprop=&quot;&quot;, and there's subject=&quot;&quot; to 
handle non-nested cases. No prefixes, no CURIEs, no rel vs rev, no data 
types, no hanging triples, no resource=&quot;&quot; vs src=&quot;&quot;, etc.


On Tue, 12 May 2009, Shelley Powers wrote:
&gt;<i> &gt; 
</I>&gt;<i> &gt; If we can come up with a way of using the string &quot;foaf:name&quot; without 
</I>&gt;<i> &gt; having to declare &quot;foaf&quot; in each document, I'm totally in agreement. 
</I>&gt;<i> &gt; I've considered maybe registering the &quot;foaf&quot; URL scheme, or using some 
</I>&gt;<i> &gt; other punctuation character and having people register prefixes, but I 
</I>&gt;<i> &gt; don't know what punctuation character to use (':' and '.' are both 
</I>&gt;<i> &gt; taken).
</I>&gt;<i>
</I>&gt;<i> But then we would lose the extensibility, which is the power behind all 
</I>&gt;<i> of this.
</I>
I don't see why registering particular prefixes involves losing 
extensibility... aren't URI's extensible?


&gt;<i> But regardless, the majority of people will include metadata markup by 
</I>&gt;<i> installing a plug-in or module, and making a couple of choices. And if 
</I>&gt;<i> you put together a good ten-minute tutorial for the average developer, 
</I>&gt;<i> they'll have no problem with &quot;foaf:name&quot;. Training and clarity of 
</I>&gt;<i> communication is much ore important than form, it always has been with 
</I>&gt;<i> technology.
</I>
I think you significantly underestimate the difficulty of getting Web 
authors interested in doing the right thing.


On Wed, 13 May 2009, Leif Halvard Silli wrote:
&gt;<i>
</I>&gt;<i> CSS and selectors appears to be one of the best understood technologies 
</I>&gt;<i> of the web.
</I>
That certainly hasn't been my experience, at least not with anything 
beyond the simplest of selectors.


On Wed, 13 May 2009, Giovanni Gentili wrote:
&gt;<i> &gt;
</I>&gt;<i> &gt; If we can come up with a way of using the string &quot;foaf:name&quot; without 
</I>&gt;<i> &gt; having to declare &quot;foaf&quot; in each document, I'm totally in agreement. 
</I>&gt;<i> &gt; I've considered maybe registering the &quot;foaf&quot; URL scheme, or using some 
</I>&gt;<i> &gt; other punctuation character and having people register prefixes, but I 
</I>&gt;<i> &gt; don't know what punctuation character to use (':' and '.' are both 
</I>&gt;<i> &gt; taken).
</I>&gt;<i> 
</I>&gt;<i> put in HTML5 some predefined prefixes for @itemprop:
</I>&gt;<i> 
</I>&gt;<i> dc = <A HREF="http://purl.org/dc/terms/">http://purl.org/dc/terms/</A>
</I>&gt;<i> foaf = <A HREF="http://xmlns.com/foaf/0.1/">http://xmlns.com/foaf/0.1/</A>
</I>&gt;<i> vcard = <A HREF="http://www.w3.org/2001/vcard-rdf/3.0#">http://www.w3.org/2001/vcard-rdf/3.0#</A>
</I>&gt;<i> owl = <A HREF="http://www.w3.org/2002/07/owl#">http://www.w3.org/2002/07/owl#</A>
</I>&gt;<i> rdf = <A HREF="http://www.w3.org/1999/02/22-rdf-syntax-ns#">http://www.w3.org/1999/02/22-rdf-syntax-ns#</A>
</I>&gt;<i> rdfs = <A HREF="http://www.w3.org/2000/01/rdf-schema#">http://www.w3.org/2000/01/rdf-schema#</A>
</I>&gt;<i> sioc = <A HREF="http://rdfs.org/sioc/ns#">http://rdfs.org/sioc/ns#</A>
</I>&gt;<i> skos = <A HREF="http://www.w3.org/2004/02/skos/core#">http://www.w3.org/2004/02/skos/core#</A>
</I>&gt;<i> xsd = <A HREF="http://www.w3.org/2001/XMLSchema#">http://www.w3.org/2001/XMLSchema#</A>
</I>
If we're going to predefine things, we're better off predefining all the 
terms so that we don't need prefixes at all.


&gt;<i> also, instead of @item @itemprop @subject
</I>&gt;<i> is better @item @prop @subj
</I>
Why is that better?


&gt;<i> or @rdf-typeof @rdf-property @rdf-about (and @rdf-rel)
</I>
This isn't really about RDF, so I think that would be confusing.


On Thu, 14 May 2009, Shelley Powers wrote:
&gt;<i>
</I>&gt;<i> Actually, I believe there are other differences, as others have pointed 
</I>&gt;<i> out.
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.jenitennison.com/blog/node/103">http://www.jenitennison.com/blog/node/103</A>
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://realtech.burningbird.net/semantic-web/semantic-web-issues-and-practices/holding-on-html5">http://realtech.burningbird.net/semantic-web/semantic-web-issues-and-practices/holding-on-html5</A>
</I>&gt;<i> 
</I>&gt;<i> Some of the differences have resulted in more modifications to the 
</I>&gt;<i> underlying HTML5 spec, which is curious, because Ian has stated in 
</I>&gt;<i> comments that support for RDF is only a side interest and not the main 
</I>&gt;<i> purpose behind the microdata section.
</I>
Even side interests need some love.


On Thu, 14 May 2009, Philip Taylor wrote:
&gt;<i> 
</I>&gt;<i> If I understand RDF correctly, the idea is that everything can be
</I>&gt;<i> URIs, subjects and objects can instead be blank nodes, and objects can
</I>&gt;<i> instead be literals. If we restrict literals to strings (optionally
</I>&gt;<i> with languages), then I think all triples must follow one of these
</I>&gt;<i> eight patterns:
</I>&gt;<i> 
</I>&gt;<i>   &lt;urn:subject&gt; &lt;urn:predicate&gt; &lt;urn:object&gt; .
</I>&gt;<i>   &lt;urn:subject&gt; &lt;urn:predicate&gt; &quot;object&quot; .
</I>&gt;<i>   &lt;urn:subject&gt; &lt;urn:predicate&gt; &quot;object&quot;@lang .
</I>&gt;<i>   &lt;urn:subject&gt; &lt;urn:predicate&gt; _:X .
</I>&gt;<i>   _:X &lt;urn:predicate&gt; &lt;urn:object&gt; .
</I>&gt;<i>   _:X &lt;urn:predicate&gt; &quot;object&quot; .
</I>&gt;<i>   _:X &lt;urn:predicate&gt; &quot;object&quot;@lang .
</I>&gt;<i>   _:X &lt;urn:predicate&gt; _:Y .
</I>&gt;<i> 
</I>&gt;<i> These cases can be trivially mapped into HTML5 microdata as:
</I>&gt;<i> 
</I>&gt;<i>   &lt;div item&gt;
</I>&gt;<i>     &lt;link itemprop=&quot;about&quot; href=&quot;urn:subject&quot;&gt;
</I>&gt;<i>     &lt;link itemprop=&quot;urn:predicate&quot; href=&quot;urn:object&quot;&gt;
</I>&gt;<i>   &lt;/div&gt;
</I>&gt;<i> 
</I>&gt;<i>   &lt;div item&gt;
</I>&gt;<i>     &lt;link itemprop=&quot;about&quot; href=&quot;urn:subject&quot;&gt;
</I>&gt;<i>     &lt;meta itemprop=&quot;urn:predicate&quot; content=&quot;object&quot;&gt;
</I>&gt;<i>   &lt;/div&gt;
</I>&gt;<i> 
</I>&gt;<i>   &lt;div item&gt;
</I>&gt;<i>     &lt;link itemprop=&quot;about&quot; href=&quot;urn:subject&quot;&gt;
</I>&gt;<i>     &lt;meta itemprop=&quot;urn:predicate&quot; content=&quot;object&quot; lang=&quot;lang&quot;&gt;
</I>&gt;<i>   &lt;/div&gt;
</I>&gt;<i> 
</I>&gt;<i>   &lt;div item&gt;
</I>&gt;<i>     &lt;link itemprop=&quot;about&quot; href=&quot;urn:subject&quot;&gt;
</I>&gt;<i>     &lt;meta itemprop=&quot;urn:predicate&quot; item id=&quot;X&quot;&gt;
</I>&gt;<i>   &lt;/div&gt;
</I>&gt;<i> 
</I>&gt;<i>   &lt;link subject=&quot;X&quot; itemprop=&quot;urn:predicate&quot; href=&quot;urn:object&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i>   &lt;meta subject=&quot;X&quot; itemprop=&quot;urn:predicate&quot; content=&quot;object&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i>   &lt;meta subject=&quot;X&quot; itemprop=&quot;urn:predicate&quot; content=&quot;object&quot; lang=&quot;lang&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i>   &lt;meta subject=&quot;X&quot; itemprop=&quot;urn:predicate&quot; item id=&quot;Y&quot;&gt;
</I>
On Fri, 15 May 2009, Philip Taylor wrote:
&gt;<i> 
</I>&gt;<i> Hmm, I think I'm wrong here. 'id' has to be unique, which means this 
</I>&gt;<i> pattern won't work if _:X is the object for triples with two different 
</I>&gt;<i> subjects.
</I>
Right; this would require the &quot;include pattern&quot; idea from Microformats, 
which I have some ideas on (using a &lt;ref itemprop=&quot;&quot; href=&quot;&quot;&gt; element), 
but I think we should wait to see how microdata fares as is first (none of 
the use cases for microdata actually needed this).


On Mon, 18 May 2009, Eduard Pascual wrote:
&gt;<i>
</I>&gt;<i> Ian's initial message goes step by step through the creation of this new 
</I>&gt;<i> syntax; but does *not* mention at all *why* it was being created on the 
</I>&gt;<i> first place. The insight into the choices taken is indeed a good think, 
</I>&gt;<i> and I thank Ian for it; but he omitted to provide insight into the first 
</I>&gt;<i> choice taken: discarding the multiple options already available (not 
</I>&gt;<i> only Microformats and RDFa, but also other less discussed ones such as 
</I>&gt;<i> eRDF, EASE, etc). Sure, there has been a lot of discussion on this 
</I>&gt;<i> topic; and it's possible that the choice was taken as part of such 
</I>&gt;<i> discussions. In any case, I think Ian should have clearly stated the 
</I>&gt;<i> reasons to build a brand new solution when many others have been out for 
</I>&gt;<i> a while and users have been able to try and test them.
</I>
I didn't list every solution I considered (such as eRDF and EASE) because 
those solutions were already so widely criticised by the supporters of 
technologies like RDFa and Microformats that I didn't really think there 
was any point going into more detail about those.

eRDF's main problem is the use of class=&quot;&quot;; like Microformats, this causes 
confusion with authors.

RDF EASE separates the semantics from the data, which in general I believe 
would lead to a very brittle system.

Both also suffer from many of the indirection problems inherent of any 
prefix-based system.

However, like Microformats, nothing prevents either of these systems from 
being used with HTML5 today, as far as I can tell. Unlike RDFa, they do 
not require any changes to the underlying markup language. If they are 
better than microdata, then they will see adoption, and we can drop 
microdata from the HTML5 draft.


&gt;<i> Ok, the syntax is simpler for a subset of the use cases; but it leaves 
</I>&gt;<i> entirely out the rest of use cases.
</I>
As far as I'm aware, microdata handles all the use cases that were 
mentioned that are also solved by RDFa and Microformats (as well as 
solving a number of other use cases that the other two don't solve, such 
as the drag-and-drop cases). If there are use cases that should be 
addressed that I did not address, please raise them.


&gt;<i> *extensibility*. And, with over two decades between versions of the 
</I>&gt;<i> specs, this is a strong requirement: if a problem is noticed after HTML5 
</I>&gt;<i> becomes &quot;the standard&quot;, it's essential to be able to solve it without 
</I>&gt;<i> waiting 10 or 20 years for HTML6 to come out. In addition, your alleged 
</I>&gt;<i> &quot;simplified&quot; data model is actually an over-complication, as it is 
</I>&gt;<i> defined in the form of restrictions and/or limitations over RDF's model. 
</I>&gt;<i> Try to explain what can be represented in RDF, and what can be 
</I>&gt;<i> represented with microdata, and you'll see what's simpler.
</I>
The only reason there was a long wait between HTML4 and HTML5 is that HTML 
was abandoned by the W3C. As soon as someone wanted to maintain HTML 
again, development resumed. There's no reason to believe it would take 20 
years to add a new feature -- it could be done overnight if there was the 
will and the need.


&gt;<i> Henri:
</I>&gt;<i> &gt; I consider it an advantage that reverse domains don't suggest that you 
</I>&gt;<i> &gt; should try dereferencing identifiers as if they were addresses.
</I>&gt;<i>
</I>&gt;<i> But they still try to look address-like enough. Lots of users will try 
</I>&gt;<i> to &quot;reorder&quot; the domain and recover the address behind it (without 
</I>&gt;<i> knowing that there isn't a real address behind it), with the obvious 
</I>&gt;<i> confussion when they fail at all attempts (since something that doesn't 
</I>&gt;<i> exist can't be recovered).
</I>
I don't see any reason to believe this is the case. Do people do this with 
Java identifiers? I've never heard of anyone trying to do that.


On Fri, 15 May 2009, Eduard Pascual wrote:
&gt;<i> On Thu, May 14, 2009 at 10:17 PM, Maciej Stachowiak &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mjs at apple.com</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; From my cursory study, I think microdata could subsume many of the use 
</I>&gt;<i> &gt; cases of both microformats and RDFa.
</I>&gt;<i>
</I>&gt;<i> Maybe. But microformats and RDFa can handle *all* of these cases.
</I>
Actually, this isn't true. For example, neither Microformats and RDFa have 
a DOM or integration with the drag-and-drop API in HTML5.


&gt;<i> Allright, an API may be a benefit. Most probably it is. However, a 
</I>&gt;<i> similar API could have been built from RDFa, or eRDF, or EASE, or any 
</I>&gt;<i> other already existing or new solution
</I>
As has been discussed, I did consider RDFa, but IMHO it has some fatal 
problems that make it inappropriate for text/html. eRDF's use of &quot;class&quot; 
is suboptimal, and it hasn't been found especially popular amongst the RDF 
community. EASE would be significantly more complicated for user agents to 
implement as a DOM API than the other three.



&gt;<i> Now microdata comes out, some drawbacks are highlighted in comparison 
</I>&gt;<i> with RDFa (lack of typing,
</I>
As far as I can tell, per-instance typing (as opposed to per-class typing, 
where all properties of a particular name are implicitly typed) is not a 
requirement for any of the use cases that were listed and that I tried to 
address. If there are use cases that require per-instance typing, please 
do bring them up so that they can be considered.


&gt;<i> inability to depict the full RDF model, 
</I>
Depicting the RDF model isn't necessary to resolve the use cases that were 
brought up; that there is any RDF support at all is opportunistic rather 
than a design goal. (That is, adding RDF support was simple enough to do 
that I figured I might as well, rather than something that's key to the 
use cases listed.)


&gt;<i> Reversed domains are as ugly as CURIEs (but at least CURIEs resolve to 
</I>&gt;<i> something useful, while reversed domains often don't resolve at all)
</I>
As Henri has pointed out, not resolving is actually a benefit; there has 
been ample evidence that making identifiers resolve causes more problems 
than it solves. For example:

   <A HREF="http://www.w3.org/blog/systeam/2008/02/08/w3c_s_excessive_dtd_traffic">http://www.w3.org/blog/systeam/2008/02/08/w3c_s_excessive_dtd_traffic</A>


&gt;<i> what does microdata provide to make up for its drawbacks?
</I>
A simpler, more usable syntax; a DOM API; and integration with the HTML5 
drag-and-drop model, amongst other things that other have listed.


&gt;<i> Of course. I'm willing to experiment. I experimented with RDFa some
</I>&gt;<i> time ago and found it unsuitable for my needs. I have taken a look at
</I>&gt;<i> microdata and it isn't any more suitable.
</I>
I will look carefully at your proposal shortly; hopefully that thread will 
clarify what your needs are.


&gt;<i> Technical problems have already been cited. Here's a summary, just 
</I>&gt;<i> review the thread for further details on each:
</I>&gt;<i>
</I>&gt;<i> - Microdata can't handle non-string objects: even if I use the &lt;time&gt; 
</I>&gt;<i> element to mark up a date with microdata, it will be taken as a string 
</I>&gt;<i> rather than as a date. Since tools may be relying on explicit typing for 
</I>&gt;<i> some tasks, this limitation renders microdata less usable than RDFa.
</I>
What are the use cases for which this matters? As far as I can tell, 
typing was not necessary for any of the use cases that were brought up, 
which are listed in the e-mails cited here:

   <A HREF="http://lists.w3.org/Archives/Public/public-html/2009May/0207.html">http://lists.w3.org/Archives/Public/public-html/2009May/0207.html</A>

For example, consider the calendar use cases. The output format is vEvent, 
and the typing information doesn't affect the conversion.


&gt;<i> - Microdata is an entirely new syntax. It requires implementation and 
</I>&gt;<i> deployment of consumers before it can be used at all; while RDFa has 
</I>&gt;<i> already gone through this step. (This is not a very serious problem, but 
</I>&gt;<i> is a cost to be considered.)
</I>
I think that relative to the long term goals here, no format has really 
gotten significant traction. RDFa and Microformats have the most usage, 
but even they see virtually no usage when examined at the scale of the Web 
as a whole.

This isn't a criticism of RDFa or Microformats; but I do think it is naive 
to claim that RDFa has &quot;gone through the implementation and deployment 
stage&quot;. Note that implementation of microdata fetaures has been shown to 
be basically trivial -- two people implemented basically the entire 
microdata model within 24 hours of hearing of the proposal (in fact one of 
them did it between when I checked in the spec text and went to bed, and 
when I woke up the next morning).


&gt;<i> - Microdata can't represent the full RDF data model (while RDFa can): 
</I>&gt;<i> some complex structures are just not expressable with microdata.
</I>
As far as I can tell none of the use cases actually need RDF at all, let 
alone the more complex features of RDF, so this doesn't seem to be a 
problem in practice.

(The only exception might be the validation use case, for which one 
possible solution is reusing RDFS/OWL, but personally my stance on 
validation is that schemas aren't a good solution and hard-coded tools are 
better, so I'm not really convinced of even this exception.)


&gt;<i> - Microdata inherits all of the flaws from RDFa (except for the use of 
</I>&gt;<i> CURIEs, which some people here consider an inconvenient). For example, 
</I>&gt;<i> marking up a list of items requires lots of redundant code.
</I>
Yes, it would be nice to find a better solution for this that doesn't 
involve external resources or Selectors.


&gt;<i> - Microdata relies on reversed domains. While some people argue these to 
</I>&gt;<i> be better than CURIEs, they are equally horrendous for the average user, 
</I>&gt;<i> and have the additional disadvantage that they don't map to anything 
</I>&gt;<i> useful (if they map to something at all), while CURIEs map to the 
</I>&gt;<i> descriptions and/or definitions of what they represent.
</I>
Not mapping to anything is an intentional design decision; I do not 
believe that having identifiers be resolvable as URIs is good design. I do 
not think that reversed-DNS identifiers (which are basically just opaque 
strings with dots in them) are anywhere near as horrendous as prefix-based 
solutions or even straight URIs, though straight URIs are supported in 
microdata if that is preferred.


On Fri, 15 May 2009, Shelley Powers wrote:
&gt;<i> 
</I>&gt;<i> You don't have to take my word for it -- check out Philip's testing demo 
</I>&gt;<i> for microdata. You get triples with the following:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.w3.org/1999/xhtml/custom#com.damowmow.cat">http://www.w3.org/1999/xhtml/custom#com.damowmow.cat</A>
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://philip.html5.org/demos/microdata/demo.html#output_ntriples">http://philip.html5.org/demos/microdata/demo.html#output_ntriples</A>
</I>&gt;<i> 
</I>&gt;<i> Not only do you face problems with link rot, you also face a significant 
</I>&gt;<i> amount of confusion, as people look at that and go, &quot;What the hell is 
</I>&gt;<i> that?&quot;
</I>
If anyone has a better suggestion for how to map reversed DNS names to RDF 
identifiers, I'd be glad to update the spec. (The only requirement is that 
it not be possible for two different conforming microdata identifiers to 
result in the same RDF identifier -- to this end, for instance, the 
&quot;<A HREF="http://www.w3.org/1999/xhtml/custom#&quot;">http://www.w3.org/1999/xhtml/custom#&quot;</A> prefix is not conforming in any 
itemprop=&quot;&quot; names in HTML5.)

The current mapping is just there because I couldn't find a better 
solution. RDF doesn't seem to support non-URI identifiers.


&gt;<i> But hey, you've given me another idea. I think I'll create my own 
</I>&gt;<i> vocabulary items, with the reversed DNS 
</I>&gt;<i> <A HREF="http://www.w3.org/1999/xhtml/custom#com.sun.*.">http://www.w3.org/1999/xhtml/custom#com.sun.*.</A> No, maybe 
</I>&gt;<i> <A HREF="http://www.w3.org/1999/xhtml/custom#com.opera.*.">http://www.w3.org/1999/xhtml/custom#com.opera.*.</A> Nah, how about 
</I>&gt;<i> <A HREF="http://www.w3.org/1999/xhtml/custom#com.microsoft.*.">http://www.w3.org/1999/xhtml/custom#com.microsoft.*.</A> Yeah, that's cool. 
</I>&gt;<i> And there is no mechanism is place to prevent this, because unlike 
</I>&gt;<i> &quot;regular&quot; URIs, where the domain is actually controlled by specific 
</I>&gt;<i> entity, you've created the world famous W3C fudge pot. Anything goes.
</I>
What stops you from creating <A HREF="http://sun.com/*">http://sun.com/*</A> identifiers?

Reversed DNS names use the exact same registration mechanism as URIs.


&gt;<i> But Foobar takes a dive in the dot com pool, and foobar.com gets taken 
</I>&gt;<i> over by a porn establishment. Yeah, I can't wait for people to explain 
</I>&gt;<i> that one to the boss. Just because it doesn't link, won't mean it won't 
</I>&gt;<i> end up on Twitter as a big, huge joke.
</I>
This seems to be a problem for URIs far more than reversed DNS names...


On Fri, 15 May 2009, Manu Sporny wrote:
&gt;<i> Kristof Zelechovski wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; (WHATWG wants HTML documents to be readable 1000 years from now.)
</I>&gt;<i> 
</I>&gt;<i> Is that really a requirement?
</I>
I believe Kristof is refering to my personal desire to write documentation 
that describes the Web infrastructure in enough detail that a software 
archeologist 1000 years from now, armed only with the spec and an archive 
of today's Web content, would be able to write a user agent to render the 
Web content as today's browsers do, without having to reverse engineer the 
expected behaviour from the content.


&gt;<i> Also, why 1000 years, that seems a bit arbitrary? =P
</I>
The number is arbitrary; I just mean a sufficiently long time that it is 
plausible that there would be no way to actually run today's software.


On Thu, 14 May 2009, Eduard Pascual wrote:
&gt;<i>
</I>&gt;<i> But *why* restrict literals to strings?? Being unable to state that 
</I>&gt;<i> &quot;2009-05-14&quot; is a date makes that value completely useless
</I>
This is demonstrably false -- vEvent blobs in HTML5 microdata have a 
defined mapping to raw iCalendar data, including roundtripping of dates, 
despite their being treated as strings.


&gt;<i> it would only be useful on contexts where a date is expected (bascially, 
</I>&gt;<i> because it is a date), but it can't be used on such contexts because the 
</I>&gt;<i> tool retrieving the value has no hint about it being a date. Same is 
</I>&gt;<i> true for integers, prices (a.k.a. decimals plus a currency symbol), 
</I>&gt;<i> geographic coordinates, iguana descriptions, and so on.
</I>
You can distinguish all of those by inspection.

In any case, why would you put a price in the same field as a date? If you 
use stringly typed _fields_, rather than _values_, you can sidestep the 
entire issue cleanly.


On Thu, 14 May 2009, Jonas Sicking wrote:
&gt;<i> 
</I>&gt;<i> Some of the improvement suggestions that I have heard that sounds 
</I>&gt;<i> interesting, though possibly for the next version of microdata.
</I>&gt;<i> 
</I>&gt;<i> * Support for specifying a machine-readable value, such as for dates, 
</I>&gt;<i> colors, numbers, etc.
</I>
I expect we will add support for these based on demand, the same way we 
added &lt;time&gt; in the first place.


&gt;<i> I even wonder it would allow replacing the &lt;time&gt; element with a 
</I>&gt;<i> standardized microformat, such as:
</I>&gt;<i> 
</I>&gt;<i> Christmas is going down on &lt;span item=&quot;w3c.time&quot;
</I>&gt;<i> itemvalue=&quot;12-25-2009&quot;&gt;The 25th day of December&lt;span&gt;!
</I>
I don't really understand how that would be better than dedicated 
elements.


&gt;<i> * Support for tabular data.
</I>
This would be nice if we can find a way to do it that doesn't put undue 
burdens on simple implementations. (e.g. I would imagine that while a 
microdata implementation today can be a few hundred lines total, adding 
support for the table model could easily double that.)

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>





































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020279.html">[whatwg] Asynchronous file upload
</A></li>
	<LI>Next message: <A HREF="020270.html">[whatwg] Annotating structured data that HTML has no semantics	for
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20269">[ date ]</a>
              <a href="thread.html#20269">[ thread ]</a>
              <a href="subject.html#20269">[ subject ]</a>
              <a href="author.html#20269">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
