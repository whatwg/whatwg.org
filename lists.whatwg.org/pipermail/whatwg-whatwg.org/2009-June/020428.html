<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Browser Bundled Javascript Repository
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Browser%20Bundled%20Javascript%20Repository&In-Reply-To=%3CA96E3E1B-63DF-4B1C-887A-1565BCD72B07%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020427.html">
   <LINK REL="Next"  HREF="020431.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Browser Bundled Javascript Repository</H1>
<!--htdig_noindex-->
    <B>Oliver Hunt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Browser%20Bundled%20Javascript%20Repository&In-Reply-To=%3CA96E3E1B-63DF-4B1C-887A-1565BCD72B07%40apple.com%3E"
       TITLE="[whatwg] Browser Bundled Javascript Repository">oliver at apple.com
       </A><BR>
    <I>Mon Jun 15 11:55:37 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020427.html">[whatwg] Browser Bundled Javascript Repository
</A></li>
        <LI>Next message: <A HREF="020431.html">[whatwg] Browser Bundled Javascript Repository
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20428">[ date ]</a>
              <a href="thread.html#20428">[ thread ]</a>
              <a href="subject.html#20428">[ subject ]</a>
              <a href="author.html#20428">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> Pros:
</I>&gt;<i> - Pre-Compiled: By bundling known JS Libraries with the browser, the  
</I>&gt;<i> browser could store a more efficient representation of the file.   
</I>&gt;<i> For instance pre-compiled into Bytecode or something else browser  
</I>&gt;<i> specific.
</I>I think something needs to be clarified wrt to compile times and the  
like.  In the WebKit project we do a large amount of performance  
analysis and except in the most trivial of cases compile time just  
doesn't show up as being remotely significant in any profiles.   
Additionally the way JS works, certain forms of static analysis result  
in behaviour that cannot reasonably be cached.  Finally the optimised  
object lookup and function call behaviour employed by JavaScriptCore,  
V8 and (i *think*) TraceMonkey is not amenable to caching, even within  
a single browser session, so for modern engines i do not believe  
caching bytecode or native is really reasonable -- i suspect the logic  
required to make this safe would not be significantly cheaper than  
just compiling anyway.

&gt;<i> - Less HTTP Requests / Cache Checks: If a library is in the  
</I>&gt;<i> repository no request is needed. Cache checks don't need to be  
</I>&gt;<i> performed.  Also, for the 100 sites you visit that all send you the  
</I>&gt;<i> equivalent jquery.js you now would send 0 requests.  I think this  
</I>&gt;<i> would be enticing to mobile browsers which would benefit from this  
</I>&gt;<i> Space vs. Time tradeoff.
</I>I believe http can specify how long you should wait before validating  
the cached copy of a resource so i'm not know if this is a real win,  
but i'm not a networking person so am not entirely sure of this :D

&gt;<i> - Standardizing Identifier For Libraries: Providing a common  
</I>&gt;<i> identifier for libraries would be open for discussion.  The best  
</I>&gt;<i> idea I've had would be to provide the SHA1 Hash of the Desired  
</I>&gt;<i> Release of a Javascript Library.  This would ensure a common  
</I>&gt;<i> identifier for the same source file across browsers that support the  
</I>&gt;<i> feature. This would be useful for developers as well.  A debug tool  
</I>&gt;<i> can indicate to a developer that the script they are using is  
</I>&gt;<i> available in the Browser Repository with a certain identifier.
</I>This isn't a pro -- it's additional work for the standards body

&gt;<i> Cons:
</I>&gt;<i>
</I>&gt;<i> - May Not Grow Fast Enough: If JS Libraries change too quickly the  
</I>&gt;<i> repository won't get used enough.
</I>&gt;<i> - May Not Scale: Are there too many JS Libraries, versions, etc  
</I>&gt;<i> making this unrealistic?  Would storage become too large?
</I>- Adds significant spec complexity
- Adds developer complexity, imagine a developer modifies their  
servers copy of a given script but forgets to update the references to  
the script, now they get inconsistent behaviour between browsers that  
support this feature and browsers that don't.

--Oliver

</PRE>































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020427.html">[whatwg] Browser Bundled Javascript Repository
</A></li>
	<LI>Next message: <A HREF="020431.html">[whatwg] Browser Bundled Javascript Repository
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20428">[ date ]</a>
              <a href="thread.html#20428">[ thread ]</a>
              <a href="subject.html#20428">[ subject ]</a>
              <a href="author.html#20428">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
