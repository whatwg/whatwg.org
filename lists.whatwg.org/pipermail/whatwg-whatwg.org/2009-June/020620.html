<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Codecs%20for%20%3Caudio%3E%20and%20%3Cvideo%3E&In-Reply-To=%3CPine.LNX.4.62.0906292331380.1648%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020232.html">
   <LINK REL="Next"  HREF="020621.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Codecs%20for%20%3Caudio%3E%20and%20%3Cvideo%3E&In-Reply-To=%3CPine.LNX.4.62.0906292331380.1648%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;">ian at hixie.ch
       </A><BR>
    <I>Mon Jun 29 21:50:31 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020232.html">[whatwg] Codec mess with &lt;video&gt; and &lt;audio&gt; tags
</A></li>
        <LI>Next message: <A HREF="020621.html">[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20620">[ date ]</a>
              <a href="thread.html#20620">[ thread ]</a>
              <a href="subject.html#20620">[ subject ]</a>
              <a href="author.html#20620">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
[This message is bcc'ed to around 100 people who at some point or other 
sent comments to the WHATWG list on this topic.]

After an inordinate amount of discussions, both in public and privately, 
on the situation regarding codecs for &lt;video&gt; and &lt;audio&gt; in HTML5, I have 
reluctantly come to the conclusion that there is no suitable codec that 
all vendors are willing to implement and ship.

I have therefore removed the two subsections in the HTML5 spec in which 
codecs would have been required, and have instead left the matter 
undefined, as has in the past been done with other features like &lt;img&gt; and 
image formats, &lt;embed&gt; and plugin APIs, or Web fonts and font formats.

The current situation is as follows:

   Apple refuses to implement Ogg Theora in Quicktime by default (as used 
   by Safari), citing lack of hardware support and an uncertain patent 
   landscape.

   Google has implemented H.264 and Ogg Theora in Chrome, but cannot 
   provide the H.264 codec license to third-party distributors of 
   Chromium, and have indicated a belief that Ogg Theora's quality-per-bit 
   is not yet suitable for the volume handled by YouTube.

   Opera refuses to implement H.264, citing the obscene cost of the 
   relevant patent licenses.

   Mozilla refuses to implement H.264, as they would not be able to obtain 
   a license that covers their downstream distributors.

   Microsoft has not commented on their intent to support &lt;video&gt; at all.

(Sorry if I've mischaracterised any positions above; the positions are 
relatively subtle and so it's likely that I have oversimplified matters.)

I considered requiring Ogg Theora support in the spec, since we do have 
three implementations that are willing to implement it, but it wouldn't 
help get us true interoperabiliy, since the people who are willing to 
implement it are willing to do so regardless of the spec, and the people 
who aren't are not going to be swayed by what the spec says.

Going forward, I see several (not mutually exclusive) possibilities, all 
of which will take several years:

 1. Ogg Theora encoders continue to improve. Off-the-shelf hardware Ogg 
    Theora decoder chips become available. Google ships support for the 
    codec for long enough without getting sued that Apple's concern 
    regarding submarine patents is reduced. =&gt; Theora becomes the de facto 
    codec for the Web.

 2. The remaining H.264 baseline patents owned by companies who are not 
    willing to license them royalty-free expire, leading to H.264 support 
    being available without license fees. =&gt; H.264 becomes the de facto 
    codec for the Web.

When either of these happen, I will reconsider updating HTML5 accodingly.

The situation for audio codecs is similar, but less critical as there are 
more formats. Since audio has a much lower profile than video, I propose 
to observe the audio feature and see if any common codecs surface, instead 
of specifically requiring any. I will revisit this particular topic in the 
future when common codecs emerge.

I would encourage proponents of particular codecs to attempt to address 
the points listed above, as eventually I expect one codec will emerge as 
the common codec, but not before it fulfills all these points:

 - is implementable without cost and distributable by anyone
 - has off-the-shelf decoder hardware chips available
 - is used widely enough to justify the extra patent exposure
 - has a quality-per-bit high enough for large volume sites


This topic received hundreds of e-mails. Most covered the same points, and 
I have not replied to each one individually. I include below a small 
sample of some of the more interesting e-mails that were sent on this 
topic, along with some comments.


On Wed, 21 Mar 2007, Asbj&#248;rn Ulsberg wrote:
&gt;<i> 
</I>&gt;<i> I think that specifying a mandatory baseline codec is so valuable that 
</I>&gt;<i> it will be more gained than lost from doing it. It will enable authors 
</I>&gt;<i> to use one baseline format in all of their videos without thinking about 
</I>&gt;<i> browser support. Only if they choose another codec will they have to 
</I>&gt;<i> test for support in browsers, because its support isn't required by the 
</I>&gt;<i> HTML specification.
</I>
I agree in principle. Sadly it seems that we are unable to force the issue 
through the spec.


On Thu, 22 Mar 2007, Thomas Davies wrote:
&gt;<i> 
</I>&gt;<i> Having been pointed at this discussion by Christian, I thought I'd let 
</I>&gt;<i> you know a bit more about where Dirac is as a royalty-free open source 
</I>&gt;<i> codec. We're certainly very keen for Dirac to be considered as one of 
</I>&gt;<i> the supported video formats.
</I>
It's unclear to me why Dirac hasn't received as close investigation as 
Theora and H.264. I encourage you to approach the browser vendors directly 
and discuss it with them. I expect, however, that the situation is 
basically the same as with Theora (some UAs would be happy to support it; 
others would cite lack of off-the-shelf hardware decoders and an unclear 
patent landscape).


&gt;<i> We have been developing Dirac hardware as well. Hardware for the 
</I>&gt;<i> professional applications will be on sale in a very few weeks, and we're 
</I>&gt;<i> developing a prototype hardware HDTV encoder too.
</I>
Is the hardware support something that could be used by Apple in iPods?


On Sat, 31 Mar 2007, Martin Atkins wrote:
&gt;<i> 
</I>&gt;<i> If there is no baseline codec in the specification, I firmly believe 
</I>&gt;<i> that one of the following will happen:
</I>&gt;<i> 
</I>&gt;<i>  * Everyone will end up implementing whatever Microsoft implements.
</I>&gt;<i>  * Microsoft won't implement &lt;video&gt; anyway, so no-one will use it.
</I>&gt;<i> 
</I>&gt;<i> In practice, everyone's just mimicking whatever Microsoft does. At least 
</I>&gt;<i> when they violate the spec they can be called on it; if what they do is 
</I>&gt;<i> allowable by the spec, then everyone will have to copy it or they'll 
</I>&gt;<i> have a useless browser.
</I>
I think this gives the spec more power than it actually has.


On Tue, 11 Dec 2007, Christian Montoya wrote:
&gt;<i> On 12/11/07, ryan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ryan at theryanking.com</A>&gt; wrote:
</I>&gt;<i> &gt; On Dec 11, 2007, at 11:28 AM, Christian Montoya wrote:
</I>&gt;<i> &gt; &gt; If even just 3 browsers, IE, Firefox, and Opera, supported OGG as a 
</I>&gt;<i> &gt; &gt; de facto HTML standard, and Safari did its own thing, that would 
</I>&gt;<i> &gt; &gt; still be a thousand times better than the crap we web developers 
</I>&gt;<i> &gt; &gt; deal with now.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Even though the spec doesn't require these vendors to support OGG, 
</I>&gt;<i> &gt; they can still do so.
</I>&gt;<i> 
</I>&gt;<i> Yes, but if it is not required, then there is no way of telling whether 
</I>&gt;<i> or not that support will be permanent.
</I>
Sadly, even if the spec does require something, it's no guarantee that 
it'll remain implemented. The spec doesn't force browsers to do anything. 
Implementors only do the parts they want to do.


&gt;<i> &gt; How do you propose that the WHATWG help web developers without browser 
</I>&gt;<i> &gt; makers?
</I>&gt;<i> 
</I>&gt;<i> By making OGG part of the spec.
</I>
Unfortunately, it seems that this would not force Apple to implement it.


On Tue, 11 Dec 2007, Dan Dorman wrote:
&gt;<i> On Dec 11, 2007 9:06 AM, Joseph Harry &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jharry at lapcat.org</A>&gt; wrote:
</I>&gt;<i> &gt; One thing to remember, HTML is created by people who can be bought, 
</I>&gt;<i> &gt; and it is clearly what has happened here.
</I>&gt;<i> 
</I>&gt;<i> Hey, let's not get carried away. Ian et al. have been working tirelessly 
</I>&gt;<i> and scrupulously on this spec; there's no reason to cast aspersions on 
</I>&gt;<i> anyone's character.
</I>
Joseph is right that I can be bought... but sadly for me this has never 
happened with HTML5. :-(  I guess I picked the wrong area to work in if I 
wanted to make money through bribes!


On Tue, 11 Dec 2007, Fernando wrote:
&gt;<i>
</I>&gt;<i> Please reconsider the decision to exclude the recommendation of the 
</I>&gt;<i> Theora/OGG Vorbis codec in HTML 5 guidelines.
</I>&gt;<i> 
</I>&gt;<i> I expect that in a sophisticated group such as this one:
</I>&gt;<i> 
</I>&gt;<i> * skepticism with how well the interests of powerful corporations match 
</I>&gt;<i> those of individuals that are not their employees or shareholders;
</I>&gt;<i> 
</I>&gt;<i> * an understanding of the economic and civil rights damage being done to 
</I>&gt;<i> the rights of individuals by proprietary formats; and
</I>&gt;<i> 
</I>&gt;<i> * an understanding of the wisdom behind the original wording of this 
</I>&gt;<i> portion of the document;
</I>&gt;<i> 
</I>&gt;<i> Will enable you to see the need to readmit common sense and wisdom into 
</I>&gt;<i> HTML 5 by including OGG.
</I>
The problem is that at this point whether the spec requires Ogg or not 
won't affect which browsers support it. All the browsers that would 
support it do support it; the other browsers would just ignore that part 
of the spec, which seems like a bad precedent to set.


On Tue, 11 Dec 2007, Jeff McAdams wrote:
&gt;<i> 
</I>&gt;<i> Wait...Apple and Nokia posit an potential patent threat as justification 
</I>&gt;<i> to remove the text, but patent and other &quot;Intellectual Property&quot; reasons 
</I>&gt;<i> aren't justification for putting it back?
</I>
The text was removed not because of any specific reason Nokia or Apple 
gave, but because they won't implement the requirement. It actually 
doesn't matter what the reason is in terms of editing the spec. Mozilla 
could say &quot;we don't want to support H.264 because numerology says that 264 
is an evil number&quot;, the end result would be the same -- if a browser 
refuses to implement something, then we can't require it.

(The reasons are relevant when trying to convince them to change their 
mind, of course, or when trying to find a solution that they would agree 
to instead -- I'm not saying we should ignore the reason altogether.)


On Tue, 11 Dec 2007, Manuel Amador (Rudd-O) wrote:
&gt;<i> &gt;
</I>&gt;<i> &gt; Actually those are pretty much the only reasons being taken into 
</I>&gt;<i> &gt; account here. Sadly, Ogg doesn't keep the Web free of IP licensing 
</I>&gt;<i> &gt; horrors, due to the submarine patent issue -- as Microsoft experienced 
</I>&gt;<i> &gt; with MP3 and with the Eolas patent over the past few years, for 
</I>&gt;<i> &gt; instance, even things that seem to have well-understood patent 
</I>&gt;<i> &gt; landscapes can be unexpectedly attacked by patent trolls.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This does suggest we need patent reform, but in practice this is out 
</I>&gt;<i> &gt; of scope for HTML5's development. We can't design our spec on the 
</I>&gt;<i> &gt; assumption that the patent system will be reformed.
</I>&gt;<i> 
</I>&gt;<i> Interesting.  Finally patents have brought free multimedia innovation to 
</I>&gt;<i> a standstill.  Two quite long paragraphs to say &quot;we admit defeat&quot;.
</I>
No, that was just a tactical withdrawal. This e-mail here is the one that 
admits defeat. :-)


&gt;<i> &gt; In the absence of IP constraints, there are strong technical reasons 
</I>&gt;<i> &gt; to prefer H.264 over [Theora]. For a company like Apple, where the 
</I>&gt;<i> &gt; MPEG-LA licensing fee cap for H.264 is easily reached, the technical 
</I>&gt;<i> &gt; reasons are very compelling.
</I>&gt;<i> 
</I>&gt;<i> [...] Sure, Theora simply can't compress as good as 264.  But Theora is 
</I>&gt;<i> free and its related patents have been irrevocably granted to the world.
</I>
&quot;In the absence of IP constraints&quot; was a very important phrase. :-)


&gt;<i> &gt; The problem is that if the big players don't follow the spec, even the 
</I>&gt;<i> &gt; SHOULD requirements, then the spec is basically pointless. What we 
</I>&gt;<i> &gt; want isn't that some people support Ogg, what we fundamentally want is 
</I>&gt;<i> &gt; that _everyone_ support the same codec, whatever that may be.
</I>&gt;<i> 
</I>&gt;<i> Therefore, put Ogg Vorbis/Theora in the spec, and let everyone implement 
</I>&gt;<i> it.
</I>
Putting Ogg Theora in the spec doesn't lead to Apple implementing it, it 
just leads to them ignoring that part of the spec.


&gt;<i> The two bullies that don't want to implement it simply don't get 
</I>&gt;<i> the content delivered to their machines
</I>
YouTube isn't going to not support the iPhone just because Apple doesn't 
follow HTML5. They're just going to send the iPhone H.264 content (as they 
do now), leading to Apple's products using less bandwidth or having higher 
quality video that the implementations that did follow the spec. That 
doesn't sound like a particularly good win for the spec.


&gt;<i> OR authors who would like to cater to bullies could use the JavaScript 
</I>&gt;<i> posted in the News section of Ogg Theora that automatically turns 
</I>&gt;<i> standards-conformant VIDEO into legacy crap.  Brilliant and gracefully 
</I>&gt;<i> degradable.
</I>
&lt;video&gt; itself supports multiple sources, so there's no need for 
JavaScript to do this. But it does mean we end up with exactly the 
situation we're in now, with different implementations supporting 
different codecs and the spec not having any power over this.

I would rather the spec not say anything than say something that will be 
ignored.


&gt;<i> &gt; I don't see how this affects Apple's stance here. Today they can get 
</I>&gt;<i> &gt; significant traction with just H.264 (for example, Google is also 
</I>&gt;<i> &gt; moving to H.264 and Apple can therefore implement YouTube applications 
</I>&gt;<i> &gt; on iPhone without using anything but H.264). With Ogg, they get very 
</I>&gt;<i> &gt; little traction, yet significant financial risk.
</I>&gt;<i> 
</I>&gt;<i> That's no reason to NOT SUGGEST Ogg Vorbis / Theora.  No one here is 
</I>&gt;<i> saying that HTML5 should forbid proprietary codecs -- all we're claiming 
</I>&gt;<i> for is the judicious and well-deserved mention of two free technologies 
</I>&gt;<i> in a document that will be read by MILLIONS of people to come.  And you 
</I>&gt;<i> just killed that.
</I>
HTML5 is not an advertising platform for free codecs. It's a description 
of what browsers (and other user agent classes) implement.


&gt;<i> &gt; Small companies aren't targetted by patent trolls. Only big (really 
</I>&gt;<i> &gt; big) companies are.
</I>&gt;<i> 
</I>&gt;<i> And therefore they're deserving of more protection?  Sounds like a 
</I>&gt;<i> racket to me.
</I>
I believe patent trolls pretty much are the definition of a racket, yes.


&gt;<i> &gt; I am sorry you perceive them this way.
</I>&gt;<i> 
</I>&gt;<i> Be honest, don't tell me you're sorry because you are not.
</I>
I am incredibly sorry about the state of video codecs in HTML5. Truly, I 
am. This is a terrible situation for the spec to be in. I wish we had good 
answers instead of this quagmirish deadlock.


&gt;<i> You're sorry when something personally sad happens to someone you know, 
</I>&gt;<i> not when there's a perfectly valid disagreement on an action you took.
</I>
I really am sorry in this particular case. Possibly, having worked on 
HTML5 for the past few years, it has become like a person I know. :-)


&gt;<i> [...snip text about fear and bad-faith tactics...]
</I>&gt;<i>
</I>&gt;<i> &gt; If we require Ogg, then what will happen is the big players will 
</I>&gt;<i> &gt; support something else, then that will become the de-facto standard, 
</I>&gt;<i> &gt; and you will get screwed. What we _want_ is for everyone to support 
</I>&gt;<i> &gt; the same codec. We don't get that by having a SHOULD-level requirement 
</I>&gt;<i> &gt; for Ogg.
</I>&gt;<i> 
</I>&gt;<i> Well, tough luck, you can't. 
</I>
That is indeed my conclusion also, at this time.


&gt;<i> The next-best option is Ogg, that favors small independent content 
</I>&gt;<i> producers.
</I>
That seems to be what Opera, Mozilla, and Chrome are implementing.


&gt;<i> But no-siree, we can't have that, can we?
</I>
Well we can have the implementations, but there's not much point having 
the spec require it if it's not going to be followed by everyone.


&gt;<i> &gt; At the end of the day, the browser vendors have a very effective 
</I>&gt;<i> &gt; absolute veto on anything in the browser specs,
</I>&gt;<i> 
</I>&gt;<i> You mean they have the power to derail a spec?
</I>
They have the power to not implement the spec, turning the spec from a 
useful description of implementations into a work of fiction.


&gt;<i> That's something I would have considered before the advent of Mozilla 
</I>&gt;<i> Firefox.
</I>
Mozilla also has the power of veto here. For example, if we required that 
the browsers implement H.264, and Mozilla did not, then the spec would be 
just as equally fictional as it would be if today we required Theora.


On Thu, 13 Dec 2007, Shannon wrote:
&gt;<i>
</I>&gt;<i> Ian, are you saying that not implementing a SHOULD statement in the spec would
</I>&gt;<i> make a browser non-compliant with HTML5?
</I>&gt;<i> Are you saying that if a vendor does not implement the OPTIONAL Ogg support
</I>&gt;<i> then they would not use HTML5 at all?
</I>
No, I'm just saying that there's not much point requiring a codec unless 
everyone implements it. We don't gain anything saying &quot;you can do Theora, 
or you can do something else, you know, whatever you feel like&quot;.

Generally speaking, we don't specify what other formats are to be 
supported by an HTML implementation, the only reason to make an exception 
would be if we could get uniform support across all implementations.


&gt;<i> What will it take to get this (apparently unilateral) change revoked?
</I>
I would be happy to change the spec as soon as all the implementors are 
willing to implement a common codec.


&gt;<i> Finally, what is Google/YouTube's official position on this?
</I>
As I understand it, based on other posts to this mailing list in recent 
days: Google ships both H.264 and Theora support in Chrome; YouTube only 
supports H.264, and is unlikely to use Theora until the codec improves 
substantially from its current quality-per-bit.


On Mon, 31 Mar 2008, Robert J Crisler wrote:
&gt;<i> 
</I>&gt;<i> I notice that HTML5's video section is incomplete and lacking.
</I>&gt;<i> 
</I>&gt;<i> The text under 3.12.7.1 could have been written ten years ago:
</I>&gt;<i> 
</I>&gt;<i> &quot;It would be helpful for interoperability if all browsers could support 
</I>&gt;<i> the same codecs. However, there are no known codecs that satisfy all the 
</I>&gt;<i> current players: we need a codec that is known to not require per-unit 
</I>&gt;<i> or per-distributor licensing, that is compatible with the open source 
</I>&gt;<i> development model, that is of sufficient quality as to be usable, and 
</I>&gt;<i> that is not an additional submarine patent risk for large companies. 
</I>&gt;<i> This is an ongoing issue and this section will be updated once more 
</I>&gt;<i> information is available.&quot;
</I>&gt;<i> 
</I>&gt;<i> The time has come for the W3C to swallow a bit of pride and cede this 
</I>&gt;<i> control, this area, to the Motion Picture Experts Group. While MPEG does 
</I>&gt;<i> not produce a codec that is free of any licensing constraints, the 
</I>&gt;<i> organization has produced a codec, actually several, that are world 
</I>&gt;<i> standards. You may have a digital cable or satellite service (that's 
</I>&gt;<i> MPEG-2 or MPEG-4). You may have a DVD player (MPEG-2), or a Blu-Ray 
</I>&gt;<i> player (MPEG-4). You may have an iPod (MPEG-4). And you may have heard 
</I>&gt;<i> of MP3.
</I>&gt;<i> 
</I>&gt;<i> The time has come for the W3C, despite misgivings, to support an ISO/IEC 
</I>&gt;<i> organization that is charged with the development of video and audio 
</I>&gt;<i> encoding standards. We can't have a separate set of standards for web 
</I>&gt;<i> distribution. It simply complicates workflows and stunts any potential 
</I>&gt;<i> transition to the web as the dominant distribution mechanism for such 
</I>&gt;<i> media.
</I>&gt;<i> 
</I>&gt;<i> Whatever the misgivings, it's time to say that the ISO/IEC standards are 
</I>&gt;<i> preferable to proprietary codecs (Windows Media, Flash), and that MPEG-4 
</I>&gt;<i> AVC is recommended over other codecs for video. It would be really great 
</I>&gt;<i> if an intrepid group of smart people were to come up with something 
</I>&gt;<i> technically superior to MPEG-4, make it a world standard for encoding 
</I>&gt;<i> audio and video, and make it available without any patent or royalty 
</I>&gt;<i> constraints. That has not happened, despite some strong efforts 
</I>&gt;<i> particularly from the OGG people, and it's time to acknowledge that fact 
</I>&gt;<i> and stop holding out.
</I>&gt;<i> 
</I>&gt;<i> Again, the W3C should cede these issues to the ISO/IEC standards 
</I>&gt;<i> organization set up for the purpose of defining world standards in video 
</I>&gt;<i> and audio compression and decompression.
</I>
Unfortunately, the organisation to which you refer does not create a 
standard that can be implemented in and distributed by free and open 
source software projects, so it doesn't really solve the problem at all.


On Tue, 1 Apr 2008, David Gerard wrote:
&gt;<i> 
</I>&gt;<i> The actual solution is a large amount of compelling content in Theora or 
</I>&gt;<i> similar. Wikimedia is working on this, though we're presently hampered 
</I>&gt;<i> by a severe lack of money for infrastructure and are unlikely to have 
</I>&gt;<i> enough in time for FF3/Webkit/HTML5.
</I>
Having significant content using Theora would definitely be one way to 
address this logjam, in that it would encourage hardware manufacturers to 
support Theora, and would encourage companies like Apple to support Theora 
despite the increased patent exposure.


On Fri, 4 Apr 2008, Robert J Crisler wrote:
&gt;<i> 
</I>&gt;<i> The W3C, by offering no actionable advice on standards support in this 
</I>&gt;<i> area, is implying by omission that any of the existing formats is just 
</I>&gt;<i> as good for interoperability as any other. I think in general principle 
</I>&gt;<i> that it would be better to &quot;bless&quot; (great word, and that's just it) 
</I>&gt;<i> MPEG-4 AVC for the present, despite its legal encumbrances, and to 
</I>&gt;<i> continue to press for a technically-excellent format that does not have 
</I>&gt;<i> those encumbrances.
</I>
At this point, if a video publisher wants his video to work with existing 
&lt;video&gt; implementations, Theora and H.264 are the two codecs that are the 
most effective in each implementation. I don't think we need to provide 
much guidance at this point. People aren't going to use, say, RealPlayer's 
format, because it's not supported and so wouldn't work.


&gt;<i> The W3C is not only about web standards. It's also the road map. Right 
</I>&gt;<i> now, that road map, where video is concerned, says the following: &quot;User 
</I>&gt;<i> agents may support any video and audio codecs and container formats.&quot; It 
</I>&gt;<i> might as well say &quot;Here be dragons.&quot; I think it's time, at the very 
</I>&gt;<i> least, to say goodbye to single-company proprietary dreck. To say both 
</I>&gt;<i> that existing international standards are OK for now, but the ideal as 
</I>&gt;<i> currently expressed in the boxed copy under 3.12.7.1 is still not met.
</I>
Why is this the case for video but not images? We don't require a 
particular image format for &lt;img&gt; either, but people know you can just PNG 
and JPEG.


On Fri, 29 May 2009 <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jjcogliati-whatwg at yahoo.com</A> wrote:
&gt;<i> 
</I>&gt;<i> I propose that a MPEG-1 subset should be considered as the required 
</I>&gt;<i> codec for the HTML-5 video tag.
</I>&gt;<i> 
</I>&gt;<i> == MPEG-1 Background ==
</I>&gt;<i> 
</I>&gt;<i> MPEG-1 was published as the ISO standard ISO 11172 in August 1993.  It
</I>&gt;<i> is a widely used standard for audio and video compression.  Both
</I>&gt;<i> Windows Media and Apple Quicktime support playing MPEG-1 videos using
</I>&gt;<i> Audio Layer 2.  MPEG-1 provides three different audio layers.  The
</I>&gt;<i> simplest is Audio Layer 1 and the most complicated is Audio Layer 3,
</I>&gt;<i> usually known as MP3. Since MPEG-1 includes MP3, a full implementation
</I>&gt;<i> of a MPEG-1 decoder would not be royalty free until either all the
</I>&gt;<i> essential MP3 patents expire, or a royalty free license is granted for
</I>&gt;<i> all the essential MP3 patents.
</I>&gt;<i> 
</I>&gt;<i> == MPEG-1 PRF ==
</I>&gt;<i> 
</I>&gt;<i> I propose the following subset of MPEG-1 as the MPEG-1 Potentially
</I>&gt;<i> royalty free subset (MPEG-1 PRF):
</I>&gt;<i> 
</I>&gt;<i> MPEG-1 Video without:
</I>&gt;<i> forward and backward prediction frames (B-frames)
</I>&gt;<i> dc-pictures (D-frames)
</I>&gt;<i> 
</I>&gt;<i> MPEG-1 Audio Layers 1 and 2 only (no Layer 3 audio)
</I>&gt;<i> 
</I>&gt;<i> This subset eliminates the currently patented MP3 portion of the
</I>&gt;<i> MPEG-1 Audio.  It also eliminates the non-needed B-frames and D-frames
</I>&gt;<i> because there is less prior art for them and this has the side effect
</I>&gt;<i> of simplifying MPEG-1 PRF decoding. 
</I>&gt;<i> 
</I>&gt;<i> == Patents ==
</I>&gt;<i> 
</I>&gt;<i> To the best of my knowledge, there are no essential patents on this
</I>&gt;<i> MPEG-1 PRF subset.  I have discussed this on a kuro5hin article, a
</I>&gt;<i> post on the gstreamer mailing list and the MPEG-1 discussion page at
</I>&gt;<i> Wikipedia, and no-one has been able to definitively list any patents on
</I>&gt;<i> this subset.
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.kuro5hin.org/story/2008/7/18/232618/312">http://www.kuro5hin.org/story/2008/7/18/232618/312</A>
</I>&gt;<i> <A HREF="http://sourceforge.net/mailarchive/message.php?msg_id=257198.16969.qm%40web62405.mail.re1.yahoo.com">http://sourceforge.net/mailarchive/message.php?msg_id=257198.16969.qm%40web62405.mail.re1.yahoo.com</A>
</I>&gt;<i> <A HREF="http://en.wikipedia.org/wiki/Talk:MPEG-1#Can_MPEG-1_be_used_without_Licensing_Fees.3F">http://en.wikipedia.org/wiki/Talk:MPEG-1#Can_MPEG-1_be_used_without_Licensing_Fees.3F</A>
</I>&gt;<i> 
</I>&gt;<i> That said, &quot;absence of evidence is not evidence of absence&quot;.  There
</I>&gt;<i> still may certainly be patents on MPEG-1 PRF.  Next I will discuss
</I>&gt;<i> some prior art that exists for this subset.
</I>&gt;<i> 
</I>&gt;<i> == Prior Art for MPEG-1 PRF == 
</I>&gt;<i> 
</I>&gt;<i> The H.261 (12/90) specification contains most of the elements that
</I>&gt;<i> appear in MPEG-1 video with the exception of the B-Frames and
</I>&gt;<i> D-frames.  H.261 however only allows 352 x 288 and 176 x 144 sized
</I>&gt;<i> video.  H.261 is generally considered to be royalty free (such as by
</I>&gt;<i> the OMS video project).  There are no unexpired US patents listed for it on
</I>&gt;<i> the ITU patent database.
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.itu.int/rec/T-REC-H.261">http://www.itu.int/rec/T-REC-H.261</A>
</I>&gt;<i> <A HREF="http://www.itu.int/ipr/IPRSearch.aspx?iprtype=PS">http://www.itu.int/ipr/IPRSearch.aspx?iprtype=PS</A>
</I>&gt;<i> <A HREF="http://blogs.sun.com/openmediacommons/entry/oms_video_a_project_of">http://blogs.sun.com/openmediacommons/entry/oms_video_a_project_of</A>
</I>&gt;<i> 
</I>&gt;<i> As for MPEG-1 Audio Layer 2, it is very close to MASCAM, which was
</I>&gt;<i> described in &quot;Low bit-rate coding of high-quality audio signals. An
</I>&gt;<i> introduction to the MASCAM system&quot; by G. Thiele, G. Stoll and M. Link,
</I>&gt;<i> published in EBU Technical Review, no. 230, pp. 158-181, August 1988
</I>&gt;<i> 
</I>&gt;<i> The Pseudo-QMF filter bank used by Layer 2 is similar to that
</I>&gt;<i> described in H. J. Nussbaumer. &quot;Pseudo-QMF Filter Bank&quot;, IBM technical
</I>&gt;<i> disclosure bulletin., Vol 24. pp 3081-3087, November 1981.
</I>&gt;<i> 
</I>&gt;<i> The MPEG-1 committee draft was publicly available as ISO CD 11172 by
</I>&gt;<i> December 6, 1991.  There is only a few year window for patents to have
</I>&gt;<i> been filed before this counts as prior art, and not have expired.
</I>&gt;<i> 
</I>&gt;<i> This list of prior art is by no means complete, in that there
</I>&gt;<i> certainly could be patents that are essential for a MPEG-1 PRF
</I>&gt;<i> implementation, but can not be invalided by this list of prior art.
</I>&gt;<i> 
</I>&gt;<i> In the US, patents filed before 1995 last the longer of 20 years after
</I>&gt;<i> they are filed or 17 years after they are granted.  They also have to
</I>&gt;<i> be filed within a year of the first publication of the method. This
</I>&gt;<i> means that for US patents, most (that is all that took less than three
</I>&gt;<i> years to be granted) patents that could apply to MPEG-1 will be
</I>&gt;<i> expired by December 2012 (21 years after the committee draft was
</I>&gt;<i> published.). 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> == Brief comparison to other video codecs ==
</I>&gt;<i> 
</I>&gt;<i> Motion JPEG with PCM audio is the only codec that I know of that can
</I>&gt;<i> be played in a stock Windows, Linux and Mac OS X setup.  On the other
</I>&gt;<i> hand, since it is basically a series of JPEG images and a 'WAV' file,
</I>&gt;<i> the compression is much poorer than MPEG-1 PRF.
</I>&gt;<i> 
</I>&gt;<i> Ogg Theora and Ogg Vorbis are newer standards than MPEG-1.  My guess
</I>&gt;<i> is that they can do substantially better at compression than MPEG-1.
</I>&gt;<i> Assuming there are no submarine patents, I think the OGG codecs would
</I>&gt;<i> be a better choice than MPEG-1.  If you think that MPEG-1 PRF is not
</I>&gt;<i> royalty free, but Ogg Theora and Ogg Vorbis are, you may find that
</I>&gt;<i> comparing Theora to H.261 or Theora and Vorbis to MPEG-1 PRF is an
</I>&gt;<i> enlightening exercise.  Much of what is in MPEG-1 PRF is also in Ogg
</I>&gt;<i> Theora and Ogg Vorbis.
</I>&gt;<i> 
</I>&gt;<i> MPEG-2 is the next MPEG standard.  It mainly adds error correction and
</I>&gt;<i> interlacing.  Neither of these features is particularly important for
</I>&gt;<i> streaming video to computer monitors using a reliable data transport.
</I>&gt;<i> MPEG-2 definitely is patented, and will be until at least the 2018
</I>&gt;<i> time-frame. I don't think that this buys much over MPEG-1 PRF, and it
</I>&gt;<i> definitely adds more patent issues.
</I>&gt;<i> 
</I>&gt;<i> MPEG-4, H.264 have better codecs than MPEG-1, but these have a long
</I>&gt;<i> time till the patents expire, so are unsuitable for use royalty free. 
</I>&gt;<i> 
</I>&gt;<i> == Remaining Work ==
</I>&gt;<i> 
</I>&gt;<i> I am not a lawyer.  In order to use MPEG-1 PRF, patent lawyers will
</I>&gt;<i> have to investigate the patent issue and publicly report on the
</I>&gt;<i> patent status.  Unless there is a report sitting around that can be
</I>&gt;<i> published, this will likely be expensive.
</I>&gt;<i> 
</I>&gt;<i> As well, the prior art review is not complete.  The biggest missing
</I>&gt;<i> piece is synthesis window for the audio layer.  
</I>&gt;<i> 
</I>&gt;<i> It would be useful if there is any large company that uses MPEG-1 who
</I>&gt;<i> does not have a MPEG-2 or MPEG-4 license.  One possible example of
</I>&gt;<i> this might be a software only video CD player.
</I>&gt;<i> 
</I>&gt;<i> I created a wikia page to put up information on MPEG-1 status:
</I>&gt;<i> <A HREF="http://scratchpad.wikia.com/wiki/MPEG_patent_status">http://scratchpad.wikia.com/wiki/MPEG_patent_status</A>    
</I>&gt;<i> 
</I>&gt;<i> == Satisfaction of requirements ==
</I>&gt;<i> 
</I>&gt;<i> &gt;From 4.8.7.1 HTML 5 draft:
</I>&gt;<i> 1. does not require per-unit or per-distributor licensing
</I>&gt;<i> Probably.  There does not seem to be anyone requesting this kind of
</I>&gt;<i> licensing right now.
</I>&gt;<i> 
</I>&gt;<i> 2. Must be compatible with the open source development model.
</I>&gt;<i> Probably.  There does not seem to be any identified patents for MPEG-1 PRF.
</I>&gt;<i> 
</I>&gt;<i> 3. Is of sufficient quality as to be usable
</I>&gt;<i> Yes.  Much better than the next best option of Motion JPEG.  Probably 
</I>&gt;<i> worse than Ogg Theora or H.264.
</I>&gt;<i> 
</I>&gt;<i> 4. Is not an additional submarine patent risk for large companies.
</I>&gt;<i> Probably.  It has been widely implemented (in DVD players, in Apple
</I>&gt;<i> Quicktime and Microsoft Media Player) Note that these example uses
</I>&gt;<i> have either a license for MPEG-2 or MPEG-4 however.
</I>&gt;<i> 
</I>&gt;<i> == Conclusion == 
</I>&gt;<i> 
</I>&gt;<i> The MPEG-1 PRF subset defined here seems to fit all the requirements
</I>&gt;<i> of a codec for video for HTML5.  It seems to be patent free.  A final
</I>&gt;<i> conclusion will depend on whether or not patent lawyers can sign off
</I>&gt;<i> on this proposal and if the quality of MPEG-1 PRF is deemed
</I>&gt;<i> sufficient.
</I>&gt;<i> 
</I>&gt;<i> == Disclaimers ==
</I>&gt;<i> 
</I>&gt;<i> I am not a lawyer.  These are my own views.  I probably made
</I>&gt;<i> mistakes. Please correct me where I am wrong.
</I>
Thank you for this detailed proposal.

The only point I would make, and probably the reason why this proposal 
hasn't been implemented by browser vendors, is in the following:

&gt;<i> 3. Is of sufficient quality as to be usable
</I>&gt;<i> Yes.  Much better than the next best option of Motion JPEG.  Probably 
</I>&gt;<i> worse than Ogg Theora or H.264.
</I>
MPEG-1 is nowhere near good enough at this point to be a serious 
contender. There have been suggestions that even Theora isn't good enough 
yet (for example, YouTube won't use Theora with the current state of 
encoders), an it _far_ outperforms MPEG-1.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>









<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020232.html">[whatwg] Codec mess with &lt;video&gt; and &lt;audio&gt; tags
</A></li>
	<LI>Next message: <A HREF="020621.html">[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20620">[ date ]</a>
              <a href="thread.html#20620">[ thread ]</a>
              <a href="subject.html#20620">[ subject ]</a>
              <a href="author.html#20620">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
