<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] DOMTokenList is unordered but yet requires sorting
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20DOMTokenList%20is%20unordered%20but%20yet%20requires%20sorting&In-Reply-To=%3CPine.LNX.4.62.0906092251120.1648%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="062549.html">
   <LINK REL="Next"  HREF="062556.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] DOMTokenList is unordered but yet requires sorting</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20DOMTokenList%20is%20unordered%20but%20yet%20requires%20sorting&In-Reply-To=%3CPine.LNX.4.62.0906092251120.1648%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] DOMTokenList is unordered but yet requires sorting">ian at hixie.ch
       </A><BR>
    <I>Tue Jun  9 15:55:39 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="062549.html">[whatwg] (no subject)
</A></li>
        <LI>Next message: <A HREF="062556.html">[whatwg] DOMTokenList is unordered but yet requires sorting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62555">[ date ]</a>
              <a href="thread.html#62555">[ thread ]</a>
              <a href="subject.html#62555">[ subject ]</a>
              <a href="author.html#62555">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 13 May 2009, Erik Arvidsson wrote:
&gt;<i>
</I>&gt;<i> Section 2.9.3 DOMTokenList says:
</I>&gt;<i> 
</I>&gt;<i> The DOMTokenList interface represents an interface to an underlying 
</I>&gt;<i> string that consists of an *unordered* set of unique space-separated 
</I>&gt;<i> tokens.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Yet, the item method says:
</I>&gt;<i> 
</I>&gt;<i> The item(index) method must split the underlying string on spaces, *sort 
</I>&gt;<i> the resulting list of tokens by Unicode code point*, remove exact 
</I>&gt;<i> duplicates, and then return the indexth item in this list. If index is 
</I>&gt;<i> equal to or greater than the number of tokens, then the method must 
</I>&gt;<i> return null.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> What is the reason for requiring the set to be ordered in item?
</I>
Ensuring consistency between browsers, to reduce the likelihood that any 
particular browser's ordering becomes important and then forcing that 
browser's ordering (which could be some arbitrary ordering dependent on 
some particular hash function, say) into the platform de facto.

This is similar to what happened to ES property names -- they were 
supposedly unordered, UAs were allowed to sort them however they liked, 
and now we are locked in to a particular order.


&gt;<i> If we still want to enforce that item returns the items in the sorted 
</I>&gt;<i> order we should change the spec to say that DOMTokenList represents an 
</I>&gt;<i> ordered set instead.
</I>
The spec doesn't say that DOMTokenList represents an unordered set; it 
says that the underlying attribute represents an unordered set.


On Mon, 18 May 2009, Erik Arvidsson wrote:
&gt;<i> 
</I>&gt;<i> Simon, I think you have convinced me at least. I therefore think that a 
</I>&gt;<i> better wording in the spec is to say that DOMTokenList acts as a sorted 
</I>&gt;<i> set.
</I>
I've added a note to this effect.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="062549.html">[whatwg] (no subject)
</A></li>
	<LI>Next message: <A HREF="062556.html">[whatwg] DOMTokenList is unordered but yet requires sorting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62555">[ date ]</a>
              <a href="thread.html#62555">[ thread ]</a>
              <a href="subject.html#62555">[ subject ]</a>
              <a href="author.html#62555">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
