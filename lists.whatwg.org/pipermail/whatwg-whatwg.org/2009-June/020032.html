<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Exposing EventTarget to JavaScript
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Exposing%20EventTarget%20to%20JavaScript&In-Reply-To=%3Cc9e12660906011753o63a0326ay8d16c1201da79868%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020174.html">
   <LINK REL="Next"  HREF="020033.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Exposing EventTarget to JavaScript</H1>
<!--htdig_noindex-->
    <B>Garrett Smith</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Exposing%20EventTarget%20to%20JavaScript&In-Reply-To=%3Cc9e12660906011753o63a0326ay8d16c1201da79868%40mail.gmail.com%3E"
       TITLE="[whatwg] Exposing EventTarget to JavaScript">dhtmlkitchen at gmail.com
       </A><BR>
    <I>Mon Jun  1 17:53:38 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020174.html">[whatwg] First or last Content-Type header?
</A></li>
        <LI>Next message: <A HREF="020033.html">[whatwg] Exposing EventTarget to JavaScript
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20032">[ date ]</a>
              <a href="thread.html#20032">[ thread ]</a>
              <a href="subject.html#20032">[ subject ]</a>
              <a href="author.html#20032">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Apr 24, 2009 at 2:41 PM, Alex Russell &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">slightlyoff at google.com</A>&gt; wrote:
&gt;<i> On Fri, Apr 24, 2009 at 11:46 AM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:
</I>&gt;&gt;<i> Erik Arvidsson wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> To help out with this scenario
</I>&gt;&gt;&gt;<i> it would be good if an implementation of the EventTarget interface
</I>&gt;&gt;&gt;<i> could be exposed to JavaScript.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Why do you want the eventTarget interface as opposed to a sane callback
</I>&gt;&gt;<i> function registration setup?
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The next and more important step is to allow a JavaScript &quot;class&quot; to
</I>&gt;&gt;&gt;<i> extend an EventTarget. For example:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> function MyClass() {
</I>&gt;&gt;&gt;<i> &#160;EventTarget.call(this);
</I>&gt;&gt;&gt;<i> &#160;...
</I>&gt;&gt;&gt;<i> }
</I>&gt;&gt;&gt;<i> MyClass.prototype = new EventTarget; // *[1]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So this already works, no?
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> One more thing needs to be mentioned and that is how event propagation
</I>&gt;&gt;&gt;<i> should work in scenario. If the object has a &quot;parentNode&quot; property
</I>&gt;&gt;&gt;<i> then the event dispatching mechanism will do the right thing.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What, precisely, is the use case for this in general? &#160;In the DOM,
</I>&gt;&gt;<i> propagating events to parents makes sense (esp. because parents are unique).
</I>&gt;&gt;<i> &#160;What would be the use case in a general object graph?
</I>&gt;<i>
</I>&gt;<i> Most of the JS object graphs that you'll see in the wild either
</I>&gt;<i> represent data hierarchies (wherein updates might trigger a UI change)
</I>&gt;<i> or wrapped sets of DOM nodes as a way to make up for the fact that you
</I>&gt;<i> can't freaking subclass Element from JS. In the latter case, it's
</I>&gt;<i> natural to need it to keep up the facade. In the former, it's a
</I>&gt;<i> performance convenience.
</I>&gt;<i>
</I>
If I understand you correctly, you want to subclass the Element interface.

If I got that right, then I am not sure how that concept would relate,
as there are not interfaces in javascript, and so I am not sure how an
object that has the interface of Element could also have the interface
of your subclass. In the could have been ES4, maybe, but that is
would-be fiction now.

I can't think of any reason that anyone would even want that, anyway.
In a fictitious version of javascript where interfaces could be
created, you could just create your own, then implement both in the
target class.

But in reality, you could do something retarded like try to subclass
NodeList. Oh yeah, someone already tried that, didn't they?

Garrett
</PRE>
























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020174.html">[whatwg] First or last Content-Type header?
</A></li>
	<LI>Next message: <A HREF="020033.html">[whatwg] Exposing EventTarget to JavaScript
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20032">[ date ]</a>
              <a href="thread.html#20032">[ thread ]</a>
              <a href="subject.html#20032">[ subject ]</a>
              <a href="author.html#20032">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
