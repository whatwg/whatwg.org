<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Issues with Web Sockets API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Issues%20with%20Web%20Sockets%20API&In-Reply-To=%3Cfa2eab050906261649g776831efhcf3d79ccc727c631%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020602.html">
   <LINK REL="Next"  HREF="020605.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Issues with Web Sockets API</H1>
<!--htdig_noindex-->
    <B>Michael Nordman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Issues%20with%20Web%20Sockets%20API&In-Reply-To=%3Cfa2eab050906261649g776831efhcf3d79ccc727c631%40mail.gmail.com%3E"
       TITLE="[whatwg] Issues with Web Sockets API">michaeln at google.com
       </A><BR>
    <I>Fri Jun 26 16:49:18 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020602.html">[whatwg] Issues with Web Sockets API
</A></li>
        <LI>Next message: <A HREF="020605.html">[whatwg] Issues with Web Sockets API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20603">[ date ]</a>
              <a href="thread.html#20603">[ thread ]</a>
              <a href="subject.html#20603">[ subject ]</a>
              <a href="author.html#20603">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Jun 26, 2009 at 4:34 PM, Jeff Walden
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jwalden+whatwg at mit.edu</A>&lt;jwalden%<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">2Bwhatwg at mit.edu</A>&gt;
&gt;<i> wrote:
</I>
&gt;<i> On 26.6.09 13:52, Michael Nordman wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> There isn't a way to determine if the WebSocket is successfully sending
</I>&gt;&gt;<i> the postMessage data? For all the caller knows, its just backing up and
</I>&gt;&gt;<i> not going anywhere.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> You can't really know data has been successfully sent until you get a
</I>&gt;<i> response that acknowledges it.  Getting it &quot;on the wire&quot; doesn't mean it'll
</I>&gt;<i> actually be received; I'm not really sure how much value knowing that's
</I>&gt;<i> happened actually has, other than for doing network diagnostics (which
</I>&gt;<i> hardly seems a use case to support).
</I>

Progress bars are routinely implemented without get hi-level application
acks from the other side. XMLHttpRequest.upload.onprogress is one such
example.

&gt;<i> diagnostics
</I>
Cell-phone signal strength bars are a form of diagnostics... existence proof
of diagnostics being a significant use case.


&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  postMessage() may want another exception condition... 'too much data
</I>&gt;&gt;<i> pending exception'... consider calling postMessage in a while(true)
</I>&gt;&gt;<i> loop... at some point the system is going to have to give up queing the
</I>&gt;&gt;<i> data if its not actually making its way out on the wire.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Nothing prevents the data from being thrown in a FIFO queue until it
</I>&gt;<i> actually can be sent, and I don't see a reason why OOM in the event queueing
</I>&gt;<i> failed should be handled differently from any other OOM.
</I>

This info about the status of the WebSocket would be easy to provide to
callers of this API. There are easily found valid use cases for this
additional status info. What compelling reason is there to not do so? Seems
like low-hanging fruit if you ask me.


&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Jeff
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090626/7d5fce20/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090626/7d5fce20/attachment.htm</A>&gt;
</PRE>





































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020602.html">[whatwg] Issues with Web Sockets API
</A></li>
	<LI>Next message: <A HREF="020605.html">[whatwg] Issues with Web Sockets API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20603">[ date ]</a>
              <a href="thread.html#20603">[ thread ]</a>
              <a href="subject.html#20603">[ subject ]</a>
              <a href="author.html#20603">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
