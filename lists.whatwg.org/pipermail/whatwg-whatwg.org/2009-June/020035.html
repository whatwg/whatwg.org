<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Google's use of FFmpeg in Chromium and Chrome Was: Re:	MPEG-1 subset proposal for HTML5 video codec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Google%27s%20use%20of%20FFmpeg%20in%20Chromium%20and%20Chrome%20Was%3A%20Re%3A%0A%09MPEG-1%20subset%20proposal%20for%20HTML5%20video%20codec&In-Reply-To=%3C7d9492d90906011858y2c311e9v3bf7ac19417b9d14%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020036.html">
   <LINK REL="Next"  HREF="020038.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Google's use of FFmpeg in Chromium and Chrome Was: Re:	MPEG-1 subset proposal for HTML5 video codec</H1>
<!--htdig_noindex-->
    <B>Chris DiBona</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Google%27s%20use%20of%20FFmpeg%20in%20Chromium%20and%20Chrome%20Was%3A%20Re%3A%0A%09MPEG-1%20subset%20proposal%20for%20HTML5%20video%20codec&In-Reply-To=%3C7d9492d90906011858y2c311e9v3bf7ac19417b9d14%40mail.gmail.com%3E"
       TITLE="[whatwg] Google's use of FFmpeg in Chromium and Chrome Was: Re:	MPEG-1 subset proposal for HTML5 video codec">cdibona at gmail.com
       </A><BR>
    <I>Mon Jun  1 18:58:21 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020036.html">[whatwg] Exposing EventTarget to JavaScript
</A></li>
        <LI>Next message: <A HREF="020038.html">[whatwg] Google's use of FFmpeg in Chromium and Chrome
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20035">[ date ]</a>
              <a href="thread.html#20035">[ thread ]</a>
              <a href="subject.html#20035">[ subject ]</a>
              <a href="author.html#20035">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I'd like to address some questions that have been raised about the use
of FFmpeg in Chromium and Chrome as well as H.264 decoding in Chrome
(Google's distribution of Chromium). The use of FFmpeg in Chromium and
Chrome is fully compliant with the obligations of the associated
licenses. It feels a little thread/list jacking to do this, but I
don't like letting these kinds of questions stand, so...

1. FFmpeg and potential patent license issues

FFmpeg is licensed under the LGPL 2.1 (there are some components that
are licensed under the GPL but those are not relevant here, as
explained below).  The LGPL 2.1 states: &quot;If you cannot distribute so
as to satisfy simultaneously your obligations under this License and
any other pertinent obligations, then as a consequence you may not
distribute the Library at all.&quot;

The LGPL 2.1 only requires that a party distributing LGPL code give
other people the same rights to that code that they themselves
received under the license.  The Chromium project happily does exactly
this.  Google takes the FFmpeg libraries under the LGPL 2.1, with no
attached patent license.  Subsequently, Google makes the FFmpeg
libraries available as part of Chromium under the LGPL 2.1, with no
patent license attached.

One participant quoted one of the examples from the LGPL 2.1, which
says &quot;For example, if a patent license would not permit royalty-free
redistribution of the Library by all those who receive copies directly
or indirectly through you, then the only way you could satisfy both it
and this License would be to refrain entirely from distribution of the
Library.&quot;

To be clear, there are two situations here:

Situation 1:

(a) Party A gives Party B a library licensed under the LGPL 2.1 along
with a patent license which says only Party B has the right to use it
(b) Party B wants to distribute the library to others

That's the situation the example in the LGPL 2.1 text is talking about
and would likely be a violation.

Situation 2:

(a) Party A gives Party B a library licensed under the LGPL 2.1
(b) Party B gets a patent license from Party C
(c) Party B then distribute the library under the LGPL 2.1

This situation is *not* prohibited by the LGPL 2.1 (see the LGPL 3.0
for a license that does deal with this situation).  Under the LGPL
2.1, the fact that Party B may have a patent license with an unrelated
third-party is irrelevant as long as it doesn't prevent Party B from
granting people the rights LGPL 2.1 requires they grant them (namely,
only those rights it in fact received from Party A).

2. Location of FFmpeg source code

The source code for FFmpeg is easily locatable in the same place as
the rest of the Chromium source:

<A HREF="http://src.chromium.org/viewvc/chrome/trunk/deps/third_party/ffmpeg/">http://src.chromium.org/viewvc/chrome/trunk/deps/third_party/ffmpeg/</A>

3. GPL licensed code in FFmpeg

FFmpeg can be configured to use GPL licensed code, but it is not
configured that way in Chromium.  We use the set of configuration
flags that only enables the LGPL 2.1 code.

The list of configuration flags used is listed in the README file in
the source directory:

<A HREF="http://src.chromium.org/viewvc/chrome/trunk/deps/third_party/ffmpeg/README.chromium?revision=16648&amp;view=markup">http://src.chromium.org/viewvc/chrome/trunk/deps/third_party/ffmpeg/README.chromium?revision=16648&amp;view=markup</A>

We take our obligations under all open source licenses very seriously,
and work hard to ensure we are in compliance with these licenses

Chris DiBona

On Mon, Jun 1, 2009 at 11:21 AM,  &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jjcogliati-whatwg at yahoo.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Thank you for a very informative reply. &#160;Inline comments follow.
</I>&gt;<i>
</I>&gt;<i> --- On Sun, 5/31/09, Gregory Maxwell &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">gmaxwell at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> From: Gregory Maxwell &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">gmaxwell at gmail.com</A>&gt;
</I>&gt;&gt;<i> Subject: Re: [whatwg] MPEG-1 subset proposal for HTML5 video codec
</I>&gt;&gt;<i> To: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>
</I>&gt;&gt;<i> Date: Sunday, May 31, 2009, 2:17 PM
</I>&gt;&gt;<i> 2009/5/31&#160; &lt;jjcogliati-whatwg
</I>&gt;&gt;<i> at yahoo.com&gt;:
</I>&gt;&gt;<i> &gt; Since the near complete MPEG-1 committee draft was
</I>&gt;&gt;<i> publicly available in December 1991,
</I>&gt;&gt;<i> [snip]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You keep repeating this particular piece of misinformation,
</I>&gt;&gt;<i> so I'm
</I>&gt;&gt;<i> worried that people are going to take your word for it and
</I>&gt;&gt;<i> get into
</I>&gt;&gt;<i> trouble.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What you are claiming with respect to the inventors
</I>&gt;&gt;<i> disclosure and
</I>&gt;&gt;<i> patent duration is correct for patents filed and granted
</I>&gt;&gt;<i> today but it
</I>&gt;&gt;<i> not true for patents from the mid-1990s.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Prior to mid-1995 was possible to use application
</I>&gt;&gt;<i> extensions to defer
</I>&gt;&gt;<i> the grant date of a patent indefinitely.&#160; You could
</I>&gt;&gt;<i> begin an
</I>&gt;&gt;<i> application in 1988, publicly expose your invention in
</I>&gt;&gt;<i> 1991, all the
</I>&gt;&gt;<i> while filing extensions only to have the patent granted in
</I>&gt;&gt;<i> 1995.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am somewhat surprised that you are unaware of this
</I>&gt;&gt;<i> issue,
</I>&gt;&gt;<i> considering that you mentioned it specifically by name
</I>&gt;&gt;<i> (submarine
</I>&gt;&gt;<i> patent).
</I>&gt;<i>
</I>&gt;<i> Yes, I agree and I was not making this clear in my reply posts. &#160;The first email I sent I did detail this.
</I>&gt;<i>
</I>&gt;&gt;<i> I'm more familiar with the area of audio coding than video,
</I>&gt;&gt;<i> so I don't
</I>&gt;&gt;<i> have a ready list of patents that read on mpeg1 video.
</I>&gt;&gt;<i> However, There
</I>&gt;&gt;<i> are mid-90s patents which read on both layer-2 (e.g.
</I>&gt;&gt;<i> 5,214,678) and
</I>&gt;&gt;<i> layer-3 audio which followed the 'submarine patent' style
</I>&gt;&gt;<i> of prolonged
</I>&gt;&gt;<i> application and late disclosure times.
</I>&gt;<i>
</I>&gt;<i> That is interesting that 5,214,678 is considered to read on Layer-2 since
</I>&gt;<i> AudioMPEG says that they are not doing licensing for Video-CD, which uses
</I>&gt;<i> MPEG-1 Layer 2 audio. &#160;It was granted in May 25, 1993 and filed on May 31,
</I>&gt;<i> 1990, so it barely made it in three years (and will not expire till
</I>&gt;<i> May 31, 2010).
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://patft1.uspto.gov/netacgi/nph-Parser?patentnumber=5,214,678">http://patft1.uspto.gov/netacgi/nph-Parser?patentnumber=5,214,678</A>
</I>&gt;<i> <A HREF="http://www.audiompeg.com/">http://www.audiompeg.com/</A>
</I>&gt;<i>
</I>&gt;&gt;<i> Additionally, Theora avoids some techniques used in MPEG1
</I>&gt;&gt;<i> which have
</I>&gt;&gt;<i> been believed to be patented.&#160; For example, the
</I>&gt;&gt;<i> differential coding of
</I>&gt;&gt;<i> motion vectors. While I don't have the knowledge needed to
</I>&gt;&gt;<i> provide a
</I>&gt;&gt;<i> detailed analysis, even I know enough to point out at least
</I>&gt;&gt;<i> a few
</I>&gt;&gt;<i> engineering reasons why Theora has less patent exposure
</I>&gt;&gt;<i> surface than
</I>&gt;&gt;<i> MPEG1.
</I>&gt;<i>
</I>&gt;<i> I can certainly believe that MPEG-1 Video might be non-royalty free and
</I>&gt;<i> Theora might be. &#160;I haven't really looked at the exact coding of Theora motion vectors. &#160;That is an interesting thing to look at.
</I>&gt;<i>
</I>&gt;&gt;<i> Without the benefit of mpeg layer-3 audio MPEG1 is left
</I>&gt;&gt;<i> enormously
</I>&gt;&gt;<i> handicapped compared to Theora+Vorbis. 16kHz 16bit stereo
</I>&gt;&gt;<i> PCM is
</I>&gt;&gt;<i> 512kbit/sec on it own, which is comparable to the total
</I>&gt;&gt;<i> bitrate 'high
</I>&gt;&gt;<i> quality' option delivered by sites like Youtube. And 16kHz
</I>&gt;&gt;<i> audio is
</I>&gt;&gt;<i> pretty poor for anything that needs to carry music.
</I>&gt;<i>
</I>&gt;<i> Layer-2 audio can certainly beat PCM for compression, since it can reduce
</I>&gt;<i> the bit rate for coding the quieter frequency bands. &#160;Typical stereo bit
</I>&gt;<i> rates for stereo Layer 2 audio are probably more on the order of 256
</I>&gt;<i> kbit/s. &#160;Vorbis and MPEG-1 Audio Layer 3 certainly can beat this rate.
</I>&gt;<i>
</I>&gt;&gt;<i> While you could
</I>&gt;&gt;<i> argue for using MPEG1+Vorbis, none of the few parties who
</I>&gt;&gt;<i> indicated
</I>&gt;&gt;<i> that they would not ship Theora have stated they would (or
</I>&gt;&gt;<i> are
</I>&gt;&gt;<i> already) shipping Vorbis. (For example, Nokia does not ship
</I>&gt;&gt;<i> Vorbis on
</I>&gt;&gt;<i> their Linux tables)&#160; Everyone shipping Vorbis already
</I>&gt;&gt;<i> seems to have no
</I>&gt;&gt;<i> issue with Theora.
</I>&gt;<i>
</I>&gt;<i> I am not going to argue for MPEG-1 video plus Vorbis audio.
</I>&gt;<i>
</I>&gt;&gt;<i> Even if you pay fairly low prices for transit the cost of
</I>&gt;&gt;<i> sending PCM
</I>&gt;&gt;<i> audio vs Vorbis is likely enough to pay for the H.264+AAC
</I>&gt;&gt;<i> licensing no
</I>&gt;&gt;<i> matter what it turns out to be in 2010.&#160; A 'free'
</I>&gt;&gt;<i> format which has an
</I>&gt;&gt;<i> effective price much higher than the 'non-free' stuff would
</I>&gt;&gt;<i> be
</I>&gt;&gt;<i> something of a hollow victory.
</I>&gt;<i>
</I>&gt;<i> Interesting point. &#160;I think that transit costs will decrease
</I>&gt;<i> faster than H.264+AAC licensing costs, (unless Theora and Vorbis
</I>&gt;<i> start causing serious competion.)
</I>&gt;<i>
</I>&gt;&gt;<i> And really, now that we see multiple large companies with
</I>&gt;&gt;<i> experienced
</I>&gt;&gt;<i> legal teams and non-trivial exposure committed to shipping
</I>&gt;&gt;<i> Theora I
</I>&gt;&gt;<i> think we're kidding ourselves when we attempt to analyze
</I>&gt;&gt;<i> this as a
</I>&gt;&gt;<i> legal issue. It's not. It's a business/political decision.
</I>&gt;&gt;<i> The market
</I>&gt;&gt;<i> is now going to battle it out.&#160; Enjoy the show.
</I>&gt;<i>
</I>&gt;<i> I agree. &#160;I was not aware that Google planned on shipping Theora support when I made the first email last week (Wikipedia article since updated).
</I>&gt;<i> If Ogg Theora and Vorbis become the defacto standard, that is
</I>&gt;<i> fine with me.
</I>&gt;<i>
</I>&gt;<i> Right now, the best video codec/audio codec that works with Gstreamer good
</I>&gt;<i> plugins (i.e. Linux), Quicktime and Media Player is Motion JPEG with PCM
</I>&gt;<i> audio, which I have used for shipping videos on CDs and USB drives, but is
</I>&gt;<i> impractical for online transfers. &#160;I am hoping for a better outcome with
</I>&gt;<i> the video tag.
</I>&gt;<i>
</I>&gt;<i> Josh Cogliati
</I>&gt;<i>
</I>


-- 
Open Source Programs Manager, Google Inc.
Google's Open Source program can be found at <A HREF="http://code.google.com">http://code.google.com</A>
Personal Weblog: <A HREF="http://dibona.com">http://dibona.com</A>
</PRE>

























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020036.html">[whatwg] Exposing EventTarget to JavaScript
</A></li>
	<LI>Next message: <A HREF="020038.html">[whatwg] Google's use of FFmpeg in Chromium and Chrome
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20035">[ date ]</a>
              <a href="thread.html#20035">[ thread ]</a>
              <a href="subject.html#20035">[ subject ]</a>
              <a href="author.html#20035">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
