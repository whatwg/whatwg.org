<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas - toTempURL - A dangerous proposal - Summary
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20-%20toTempURL%20-%20A%20dangerous%20proposal%20-%20Summary&In-Reply-To=%3CPine.LNX.4.62.0906031954470.1648%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="062387.html">
   <LINK REL="Next"  HREF="062451.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas - toTempURL - A dangerous proposal - Summary</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20-%20toTempURL%20-%20A%20dangerous%20proposal%20-%20Summary&In-Reply-To=%3CPine.LNX.4.62.0906031954470.1648%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Canvas - toTempURL - A dangerous proposal - Summary">ian at hixie.ch
       </A><BR>
    <I>Wed Jun  3 12:57:56 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="062387.html">[whatwg] Canvas extensions from opera-2dgame
</A></li>
        <LI>Next message: <A HREF="062451.html">[whatwg] Canvas - toTempURL - A dangerous proposal - Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62374">[ date ]</a>
              <a href="thread.html#62374">[ thread ]</a>
              <a href="subject.html#62374">[ subject ]</a>
              <a href="author.html#62374">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 8 Apr 2009, Charles Pritchard wrote:
&gt;<i> 
</I>&gt;<i> Legacy clients may have terrible support for extensibility. With some 
</I>&gt;<i> HTML consumers, base 64 encoded images are not usable in the global 
</I>&gt;<i> scope. To get around this, we proposed using toTempURL(), to save an 
</I>&gt;<i> image to the local temporary files directory, and return a reference 
</I>&gt;<i> which the legacy client could support.
</I>&gt;<i> [...]
</I>&gt;<i> 
</I>&gt;<i> I suggested to Boris, that perhaps I could tie into a custom protocol 
</I>&gt;<i> handler, to hide the location of the file on the user hard drive. 
</I>&gt;<i> Obviously, this was not a well thought-out response. Boris replied:
</I>&gt;<i> 
</I>&gt;<i> &quot;I guess I'm not clear on one thing: you can add support for 
</I>&gt;<i> <A HREF="customHandler://">customHandler://</A> to this platform but not support for data: ? &quot;
</I>&gt;<i> 
</I>&gt;<i> At this point, I conceded that perhaps trying to support &quot;data:&quot; was a 
</I>&gt;<i> better goal than trying to advocate toTempURL. We're trying now to 
</I>&gt;<i> implement data:image/png support for Internet Explorer 6.0+.
</I>
That would be cool.


&gt;<i> A new &quot;problem&quot;: Short data URLs.
</I>&gt;<i> 
</I>&gt;<i> There is likely a cost, though it could be addressed in implementation, 
</I>&gt;<i> in passing around toDataURL strings. Compressing a bitmap to a png, 
</I>&gt;<i> base64 encoding it, copying the string, twice, and decoding it, can be 
</I>&gt;<i> expensive, and for some implementations and use-cases, completely 
</I>&gt;<i> unnecessary.
</I>&gt;<i> 
</I>&gt;<i> If we could reference a short string, of a hundred or so bytes, instead 
</I>&gt;<i> of a very large base64 string, it may help with memory management (and 
</I>&gt;<i> related efficiencies).
</I>&gt;<i> 
</I>&gt;<i> Ian Hickson writes:
</I>&gt;<i> 
</I>&gt;<i> &quot;On the long term I expect once we have a File/Blob API, we'll use that 
</I>&gt;<i> to expose the canvas data as a file.&quot;
</I>&gt;<i> 
</I>&gt;<i> My response, while we await such an API, is to perhaps introduce a new 
</I>&gt;<i> mime output for toDataURL, one which for now will be implementation 
</I>&gt;<i> dependent, but may hopefully grow to see more use.
</I>
It seems that inventing one API instead of another better one is a weird 
way of going around things. If we have the time to invent this API, why 
not just invent the File API?

In fact, Arun is doing the File API this week.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="062387.html">[whatwg] Canvas extensions from opera-2dgame
</A></li>
	<LI>Next message: <A HREF="062451.html">[whatwg] Canvas - toTempURL - A dangerous proposal - Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62374">[ date ]</a>
              <a href="thread.html#62374">[ thread ]</a>
              <a href="subject.html#62374">[ subject ]</a>
              <a href="author.html#62374">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
