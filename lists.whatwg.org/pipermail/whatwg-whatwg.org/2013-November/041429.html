<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N	proposal)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cimgset%3E%20responsive%20imgs%20proposition%20%28Re%3A%20The%20src-N%0A%09proposal%29&In-Reply-To=%3CCAJE5ia-6dX32OzwMZXRS3BbpkjkrHqfY7OwZgAxOO0RgqSpGEw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041428.html">
   <LINK REL="Next"  HREF="041430.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N	proposal)</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cimgset%3E%20responsive%20imgs%20proposition%20%28Re%3A%20The%20src-N%0A%09proposal%29&In-Reply-To=%3CCAJE5ia-6dX32OzwMZXRS3BbpkjkrHqfY7OwZgAxOO0RgqSpGEw%40mail.gmail.com%3E"
       TITLE="[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N	proposal)">w3c at adambarth.com
       </A><BR>
    <I>Tue Nov 12 10:40:00 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="041428.html">[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N	proposal)
</A></li>
        <LI>Next message: <A HREF="041430.html">[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N	proposal)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41429">[ date ]</a>
              <a href="thread.html#41429">[ thread ]</a>
              <a href="subject.html#41429">[ subject ]</a>
              <a href="author.html#41429">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Nov 12, 2013 at 10:17 AM, Markus Lanthaler
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">markus.lanthaler at gmx.net</A>&gt; wrote:
&gt;<i> On Tuesday, November 12, 2013 6:50 PM, Adam Barth wrote:
</I>&gt;&gt;<i> We might even be able to make this work without inventing anything:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;style type=&quot;text/css&quot;&gt;
</I>&gt;&gt;<i> @media (min-width: 480px) {
</I>&gt;&gt;<i>   .artdirected {
</I>&gt;&gt;<i>     width: 30px;
</I>&gt;&gt;<i>     height: 30px;
</I>&gt;&gt;<i>     background-image: image-set(url(small.png) 1x, url(small-hires.png)
</I>&gt;&gt;<i> 2x);
</I>&gt;&gt;<i>  }
</I>&gt;&gt;<i> }
</I>&gt;&gt;<i> @media (min-width: 600px) {
</I>&gt;&gt;<i>   .artdirected {
</I>&gt;&gt;<i>     width: 60px;
</I>&gt;&gt;<i>     height: 60px;
</I>&gt;&gt;<i>     background-image: image-set(url(large.png) 1x, url(large-hires.png)
</I>&gt;&gt;<i> 2x);
</I>&gt;&gt;<i>  }
</I>&gt;&gt;<i> }
</I>&gt;&gt;<i> &lt;/style&gt;
</I>&gt;&gt;<i> &lt;div class=&quot;artdirected&quot;&gt;&lt;/div&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> All the information is there.
</I>&gt;<i>
</I>&gt;<i> Except if there are other, external stylesheets that might overwrite these
</I>&gt;<i> definitions
</I>
The preloader is just heuristic.  There are many cases where it loads
resources that aren't needed by the page.

&gt;&gt;<i> We just need to teach the preload
</I>&gt;&gt;<i> scanner to parse a subset of CSS and match a subset of selectors.  If
</I>&gt;&gt;<i> you stay within the &quot;preloadable&quot; subset, then your images will be
</I>&gt;&gt;<i> loaded by the preload scanner.  Otherwise, they'll just be loaded
</I>&gt;&gt;<i> normally.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What's most attractive to me about this approach is that it doesn't
</I>&gt;&gt;<i> require inventing anything new, which means the compatibility story
</I>&gt;&gt;<i> for older user agents is solid.  You don't need a polyfill or anything
</I>&gt;&gt;<i> like that.
</I>&gt;<i>
</I>&gt;<i> I see a number of other problems with this approach as well. E.g., how would
</I>&gt;<i> this work for videos?
</I>
That sounds like a separate problem that we can solve separately.
Neither srcset nor src-N nor &lt;picture&gt; address videos.

&gt;<i> What about browsers not supporting media queries (or
</I>&gt;<i> CSS for that matter)?
</I>
The web site will likely need to do something different to support
those browsers.  That's likely the case already if the web site wants
to support browsers that don't implement CSS.

&gt;<i> With this solution you need to replace all img tags
</I>&gt;<i> with meaningless divs. Right clicking to save an image would break as well.
</I>
It's extremely common practice to use background-image to supply
images today.  Perhaps we should solve the
right-click-to-save-a-CSS-background-image problem in a way that works
for all these uses.

On Tue, Nov 12, 2013 at 10:23 AM, matmarquis.com &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mat at matmarquis.com</A>&gt; wrote:
&gt;<i> This is possible using a set of proposals already underway, last I checked in on them: <A HREF="http://nicolasgallagher.com/responsive-images-using-css3/">http://nicolasgallagher.com/responsive-images-using-css3/</A> Considering the delay involved in skipping the preparser and waiting for CSS to download (as well as the fact that the `src` *will* be prefetched, resulting in a double-request), this really leaves us in the same position as any number of script-based solutions&#8212;we&#8217;re just creating a responsive images &#8220;engine&#8221; in CSS, rather than in JavaScript or inside an SVG.
</I>
Please read my proposal.  I'm suggesting that we teach the preload
scanner how to understand a subset of CSS large enough to cover these
use cases.  It doesn't involve any futuristic CSS technology.  It just
requires adding smarts to existing implementations of existing
standards.  You point about prefetching the src attribute is also
incorrect because there is no src attribute in my proposal.  Fallback
isn't handled by src.  It's handled by CSS.

&gt;<i> This subject has come up a number of times on the respimg list, and it always plays out largely the same way: an optimization like this would be beneficial for sure (and I&#8217;m in favor of one myself), but in this context we&#8217;re looking at creating an entire variable syntax specific to images.
</I>
My proposal did not include any new syntax.  Please read my proposal
before trying to shoot it down.  :)

&gt;<i> Obviously there&#8217;s a huge amount of implementation overhead involved in something like this, and making it a requirement in any proposal would create a *huge* barrier to implementation vs. getting a simple *extendable* markup pattern in place and building on that. Once we have a solution in place for responsive images, it makes sense that it would become a consideration in larger discussions such as <A HREF="http://lists.w3.org/Archives/Public/www-style/2013May/0638.html">http://lists.w3.org/Archives/Public/www-style/2013May/0638.html</A>
</I>
Given that I'm an implementor and you don't appear to be an
implementor, I'd like to ask you to believe me when I say that my
proposal is a smaller implementation burden than &lt;picture&gt; or src-N.

&gt;<i> We don&#8217;t want the search for the all-time-perfect responsive image solution to stand in the way of setting up the foundation for one, and we definitely don&#8217;t want to create a set of solutions to larger problems that can only ever apply to image sources.
</I>
My proposal doesn't involve inventing anything.  It's just a proposal
to optimize a subset of CSS.  These optimizations will benefit folks
interested in responsive images.  They will also benefit existing
content that happens to fall into the subset without caring about
responsive images.

Adam
</PRE>










































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041428.html">[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N	proposal)
</A></li>
	<LI>Next message: <A HREF="041430.html">[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N	proposal)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41429">[ date ]</a>
              <a href="thread.html#41429">[ thread ]</a>
              <a href="subject.html#41429">[ subject ]</a>
              <a href="author.html#41429">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
