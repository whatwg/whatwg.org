<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N	proposal)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cimgset%3E%20responsive%20imgs%20proposition%20%28Re%3A%20The%20src-N%0A%09proposal%29&In-Reply-To=%3CCAJE5ia-_YiJRRCrBABU6gam_-gTYnOAz6MqDwWCV_ZbGNZhOqQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083698.html">
   <LINK REL="Next"  HREF="083700.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N	proposal)</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cimgset%3E%20responsive%20imgs%20proposition%20%28Re%3A%20The%20src-N%0A%09proposal%29&In-Reply-To=%3CCAJE5ia-_YiJRRCrBABU6gam_-gTYnOAz6MqDwWCV_ZbGNZhOqQ%40mail.gmail.com%3E"
       TITLE="[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N	proposal)">w3c at adambarth.com
       </A><BR>
    <I>Tue Nov 12 09:50:16 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083698.html">[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N proposal)
</A></li>
        <LI>Next message: <A HREF="083700.html">[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N	proposal)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83699">[ date ]</a>
              <a href="thread.html#83699">[ thread ]</a>
              <a href="subject.html#83699">[ subject ]</a>
              <a href="author.html#83699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Nov 12, 2013 at 9:22 AM, Markus Ernst &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">derernst at gmx.ch</A>&gt; wrote:
&gt;<i> Am 12.11.2013 17:48 schrieb Markus Lanthaler:
</I>&gt;&gt;<i> On Tuesday, November 12, 2013 5:04 PM, Markus Ernst wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> We could define some ways to list set of images that could be
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> replaced for a given img element in HTML and then let CSS pick which
</I>&gt;&gt;&gt;<i> one to use for example.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;style type=&quot;text/css&quot;&gt;
</I>&gt;&gt;&gt;<i> @media (min-width: 480px) {
</I>&gt;&gt;&gt;<i>     img.artdirected {
</I>&gt;&gt;&gt;<i>       use-src: 1;
</I>&gt;&gt;&gt;<i>     }
</I>&gt;&gt;&gt;<i> }
</I>&gt;&gt;&gt;<i> @media (min-width: 600px) {
</I>&gt;&gt;&gt;<i>     img.artdirected {
</I>&gt;&gt;&gt;<i>       use-src: 2;
</I>&gt;&gt;&gt;<i>     }
</I>&gt;&gt;&gt;<i> }
</I>&gt;&gt;&gt;<i> &lt;/style&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;img class=&quot;artdirected&quot;
</I>&gt;&gt;&gt;<i>        src=&quot;small.jpg&quot;
</I>&gt;&gt;&gt;<i>        src-1=&quot;medium.jpg&quot;
</I>&gt;&gt;&gt;<i>        src-2=&quot;large.jpg&quot;
</I>&gt;&gt;&gt;<i>        alt=&quot;Alternative text&quot;&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> [...]
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> This may be technically incorrect or incomplete; it's just a sketch of
</I>&gt;&gt;&gt;<i> the idea, based on my conviction that sources belong into the &lt;img&gt;
</I>&gt;&gt;&gt;<i> element, while MQs should be kept centralised.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Using URL templates this could be simplified even further. For example by
</I>&gt;&gt;<i> extending the meta element to allow it to set some form of global
</I>&gt;&gt;<i> configuration variables it would be possible to define images using a
</I>&gt;&gt;<i> simple
</I>&gt;&gt;<i> naming convention:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;head&gt;
</I>&gt;&gt;<i>    &lt;meta var=&quot;img-size&quot; content=&quot;small&quot;&gt;
</I>&gt;&gt;<i>    &lt;meta var=&quot;img-size&quot; content=&quot;medium&quot; media=&quot;min-width: 480px&quot;&gt;
</I>&gt;&gt;<i>    &lt;meta var=&quot;img-size&quot; content=&quot;large&quot; media=&quot;min-width: 900px&quot;&gt;
</I>&gt;&gt;<i> &lt;/head&gt;
</I>&gt;&gt;<i> &lt;body&gt;
</I>&gt;&gt;<i>    &lt;img src=&quot;teaser-fallback.jpg&quot; src-t=&quot;teaser-{img-size}.jpg&quot;&gt;
</I>&gt;&gt;<i>    &lt;img src=&quot;profile-fallback.jpg&quot; src-t=&quot;profile-{img-size}.jpg&quot;&gt;
</I>&gt;&gt;<i> &lt;/body&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If a variable is set multiple times as in the case above, the latest
</I>&gt;&gt;<i> assignment wins. As soon as the closing head tag is encountered, the value
</I>&gt;&gt;<i> of all variables is known and they effectively become constants that can
</I>&gt;&gt;<i> be
</I>&gt;&gt;<i> used to fill the URL templates of the images in the document's body.
</I>&gt;<i>
</I>&gt;<i> That looks really cool to me. Is there any reason why this kind of approach
</I>&gt;<i> is not part of the discussion?
</I>
We might even be able to make this work without inventing anything:

&lt;style type=&quot;text/css&quot;&gt;
@media (min-width: 480px) {
  .artdirected {
    width: 30px;
    height: 30px;
    background-image: image-set(url(small.png) 1x, url(small-hires.png) 2x);
 }
}
@media (min-width: 600px) {
  .artdirected {
    width: 60px;
    height: 60px;
    background-image: image-set(url(large.png) 1x, url(large-hires.png) 2x);
 }
}
&lt;/style&gt;
&lt;div class=&quot;artdirected&quot;&gt;&lt;/div&gt;

All the information is there.  We just need to teach the preload
scanner to parse a subset of CSS and match a subset of selectors.  If
you stay within the &quot;preloadable&quot; subset, then your images will be
loaded by the preload scanner.  Otherwise, they'll just be loaded
normally.

What's most attractive to me about this approach is that it doesn't
require inventing anything new, which means the compatibility story
for older user agents is solid.  You don't need a polyfill or anything
like that.

Adam

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083698.html">[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N proposal)
</A></li>
	<LI>Next message: <A HREF="083700.html">[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N	proposal)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83699">[ date ]</a>
              <a href="thread.html#83699">[ thread ]</a>
              <a href="subject.html#83699">[ subject ]</a>
              <a href="author.html#83699">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
