<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Simplified &lt;picture&gt; element draft
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Simplified%20%3Cpicture%3E%20element%20draft&In-Reply-To=%3C1428ed10bb0.276d.7ba2dab7ab189bf60d5422e61747bcec%40geekhood.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083921.html">
   <LINK REL="Next"  HREF="083923.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Simplified &lt;picture&gt; element draft</H1>
<!--htdig_noindex-->
    <B>Kornel Lesi&#324;ski</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Simplified%20%3Cpicture%3E%20element%20draft&In-Reply-To=%3C1428ed10bb0.276d.7ba2dab7ab189bf60d5422e61747bcec%40geekhood.net%3E"
       TITLE="[whatwg] Simplified &lt;picture&gt; element draft">kornel at geekhood.net
       </A><BR>
    <I>Mon Nov 25 02:32:31 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083921.html">[whatwg] Simplified &lt;picture&gt; element draft
</A></li>
        <LI>Next message: <A HREF="083923.html">[whatwg] Simplified &lt;picture&gt; element draft
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83922">[ date ]</a>
              <a href="thread.html#83922">[ thread ]</a>
              <a href="subject.html#83922">[ subject ]</a>
              <a href="author.html#83922">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 25 November 2013 08:00:10 Yoav Weiss &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">yoav at yoav.ws</A>&gt; wrote:

&gt;<i> It contains some parts that I'm not sure have a consensus around them yet:
</I>&gt;<i> * It defines &lt;picture&gt; as controlling &lt;img&gt;, where earlier on this list we
</I>&gt;<i> discussed mostly the opposite (&lt;img&gt; querying its parent &lt;picture&gt;, if one
</I>&gt;<i> exists)
</I>
Controlling image is a great idea. It greatly simplifies the spec and 
hopefully implementations as well.

I chose not to expose that implementation detail, assuming that one day 
(when all UAs, crawlers implement it) we will not need explicit &lt;img&gt; 
fallback any more.

If picture was explicitly controlled by img then websites could start 
depending on that behavior, and we'd be stuck with it. OTOH picture can 
have &quot;native&quot; DOM interface and still reuse img for implementation.

&gt;<i> * It defines &lt;img&gt; as a part of &lt;picture&gt;'s shadow DOM, which we need to
</I>&gt;<i> see how it fits with having fallback &lt;img&gt; elements (which are necessary in
</I>&gt;<i> the near future).
</I>
I've added section about preloader. The img in fallback content should be 
ignored by the preloader. It's purely for picture-less UAs.

I do wonder however if fallback img should be used as equivalent of a 
&lt;source&gt; to save authors a bit of repetition. (in selection algorithm the 
first step would be &quot;for each source or img child...&quot;) or perhaps be used 
as last-resort fallback when no source matches (step 2 of the algorithm).

&gt;<i> This proposal does contain srcset as a subcomponent, but it's not the same
</I>&gt;<i> srcset as defined in the HTML spec, but a modified version based on
</I>&gt;<i> improvements from the src-N spec. (that cover the variable-width images
</I>&gt;<i> use-case)
</I>
Indeed. This part of the spec isn't ironed out yet.

&gt;<i> The proposal will also require some changes to &lt;img&gt; and specifically, when
</I>&gt;<i> not created by JS, &lt;img&gt; will have to avoid loading of resources until the
</I>&gt;<i> element is added to the DOM, and can see if its direct parent is &lt;picture&gt;.
</I>&gt;<i> If the parent is &lt;picture&gt;, &lt;img&gt; would then query the parent (or wait to
</I>&gt;<i> be &quot;controlled&quot; by its parent), otherwise, it'll load its resources as
</I>&gt;<i> usual.
</I>
I've specified something like that. I think it can be as simple as a flag 
that preload scanner uses internally.

I think we don't need to add any runtime behavior changes for this, as 
scripts constructing &lt;picture&gt; will not insert explicit fallback &lt;img&gt; node 
- it makes more sense to rely on &lt;picture&gt; polyfill instead (that will use 
img with correct src from the start).

-- 
regards, Kornel



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083921.html">[whatwg] Simplified &lt;picture&gt; element draft
</A></li>
	<LI>Next message: <A HREF="083923.html">[whatwg] Simplified &lt;picture&gt; element draft
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83922">[ date ]</a>
              <a href="thread.html#83922">[ thread ]</a>
              <a href="subject.html#83922">[ subject ]</a>
              <a href="author.html#83922">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
