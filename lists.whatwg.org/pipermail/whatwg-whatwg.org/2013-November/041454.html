<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N	proposal)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cimgset%3E%20responsive%20imgs%20proposition%20%28Re%3A%20The%20src-N%0A%09proposal%29&In-Reply-To=%3CCAMssEfQ%3DkVgnyJ%2BJX4AWfgFssyNd8_hSkUHEk%3D%2BALxJabQovyg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041492.html">
   <LINK REL="Next"  HREF="041445.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N	proposal)</H1>
<!--htdig_noindex-->
    <B>D. Pitchford</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cimgset%3E%20responsive%20imgs%20proposition%20%28Re%3A%20The%20src-N%0A%09proposal%29&In-Reply-To=%3CCAMssEfQ%3DkVgnyJ%2BJX4AWfgFssyNd8_hSkUHEk%3D%2BALxJabQovyg%40mail.gmail.com%3E"
       TITLE="[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N	proposal)">dpitchford1 at gmail.com
       </A><BR>
    <I>Wed Nov 13 10:31:01 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="041492.html">[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N proposal)
</A></li>
        <LI>Next message: <A HREF="041445.html">[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N proposal)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41454">[ date ]</a>
              <a href="thread.html#41454">[ thread ]</a>
              <a href="subject.html#41454">[ subject ]</a>
              <a href="author.html#41454">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Nov 12, 2013 at 12:50 PM, Adam Barth &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">w3c at adambarth.com</A>&gt; wrote:

&gt;<i> On Tue, Nov 12, 2013 at 9:22 AM, Markus Ernst &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">derernst at gmx.ch</A>&gt; wrote:
</I>&gt;<i> &gt; Am 12.11.2013 17:48 schrieb Markus Lanthaler:
</I>&gt;<i> &gt;&gt; On Tuesday, November 12, 2013 5:04 PM, Markus Ernst wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; We could define some ways to list set of images that could be
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; replaced for a given img element in HTML and then let CSS pick which
</I>&gt;<i> &gt;&gt;&gt; one to use for example.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &lt;style type=&quot;text/css&quot;&gt;
</I>&gt;<i> &gt;&gt;&gt; @media (min-width: 480px) {
</I>&gt;<i> &gt;&gt;&gt;     img.artdirected {
</I>&gt;<i> &gt;&gt;&gt;       use-src: 1;
</I>&gt;<i> &gt;&gt;&gt;     }
</I>&gt;<i> &gt;&gt;&gt; }
</I>&gt;<i> &gt;&gt;&gt; @media (min-width: 600px) {
</I>&gt;<i> &gt;&gt;&gt;     img.artdirected {
</I>&gt;<i> &gt;&gt;&gt;       use-src: 2;
</I>&gt;<i> &gt;&gt;&gt;     }
</I>&gt;<i> &gt;&gt;&gt; }
</I>&gt;<i> &gt;&gt;&gt; &lt;/style&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &lt;img class=&quot;artdirected&quot;
</I>&gt;<i> &gt;&gt;&gt;        src=&quot;small.jpg&quot;
</I>&gt;<i> &gt;&gt;&gt;        src-1=&quot;medium.jpg&quot;
</I>&gt;<i> &gt;&gt;&gt;        src-2=&quot;large.jpg&quot;
</I>&gt;<i> &gt;&gt;&gt;        alt=&quot;Alternative text&quot;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; [...]
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; This may be technically incorrect or incomplete; it's just a sketch of
</I>&gt;<i> &gt;&gt;&gt; the idea, based on my conviction that sources belong into the &lt;img&gt;
</I>&gt;<i> &gt;&gt;&gt; element, while MQs should be kept centralised.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Using URL templates this could be simplified even further. For example
</I>&gt;<i> by
</I>&gt;<i> &gt;&gt; extending the meta element to allow it to set some form of global
</I>&gt;<i> &gt;&gt; configuration variables it would be possible to define images using a
</I>&gt;<i> &gt;&gt; simple
</I>&gt;<i> &gt;&gt; naming convention:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; &lt;head&gt;
</I>&gt;<i> &gt;&gt;    &lt;meta var=&quot;img-size&quot; content=&quot;small&quot;&gt;
</I>&gt;<i> &gt;&gt;    &lt;meta var=&quot;img-size&quot; content=&quot;medium&quot; media=&quot;min-width: 480px&quot;&gt;
</I>&gt;<i> &gt;&gt;    &lt;meta var=&quot;img-size&quot; content=&quot;large&quot; media=&quot;min-width: 900px&quot;&gt;
</I>&gt;<i> &gt;&gt; &lt;/head&gt;
</I>&gt;<i> &gt;&gt; &lt;body&gt;
</I>&gt;<i> &gt;&gt;    &lt;img src=&quot;teaser-fallback.jpg&quot; src-t=&quot;teaser-{img-size}.jpg&quot;&gt;
</I>&gt;<i> &gt;&gt;    &lt;img src=&quot;profile-fallback.jpg&quot; src-t=&quot;profile-{img-size}.jpg&quot;&gt;
</I>&gt;<i> &gt;&gt; &lt;/body&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; If a variable is set multiple times as in the case above, the latest
</I>&gt;<i> &gt;&gt; assignment wins. As soon as the closing head tag is encountered, the
</I>&gt;<i> value
</I>&gt;<i> &gt;&gt; of all variables is known and they effectively become constants that can
</I>&gt;<i> &gt;&gt; be
</I>&gt;<i> &gt;&gt; used to fill the URL templates of the images in the document's body.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; That looks really cool to me. Is there any reason why this kind of
</I>&gt;<i> approach
</I>&gt;<i> &gt; is not part of the discussion?
</I>&gt;<i>
</I>&gt;<i> We might even be able to make this work without inventing anything:
</I>&gt;<i>
</I>&gt;<i> &lt;style type=&quot;text/css&quot;&gt;
</I>&gt;<i> @media (min-width: 480px) {
</I>&gt;<i>   .artdirected {
</I>&gt;<i>     width: 30px;
</I>&gt;<i>     height: 30px;
</I>&gt;<i>     background-image: image-set(url(small.png) 1x, url(small-hires.png)
</I>&gt;<i> 2x);
</I>&gt;<i>  }
</I>&gt;<i> }
</I>&gt;<i> @media (min-width: 600px) {
</I>&gt;<i>   .artdirected {
</I>&gt;<i>     width: 60px;
</I>&gt;<i>     height: 60px;
</I>&gt;<i>     background-image: image-set(url(large.png) 1x, url(large-hires.png)
</I>&gt;<i> 2x);
</I>&gt;<i>  }
</I>&gt;<i> }
</I>&gt;<i> &lt;/style&gt;
</I>&gt;<i> &lt;div class=&quot;artdirected&quot;&gt;&lt;/div&gt;
</I>&gt;<i>
</I>
Based on the above, the &quot;Feature&quot; image of say an article or recipe would
be added as a background image?
&gt;<i>From an Authors point of view.. yikes that's ugly, but more importantly
</I>could be a large maintenance nightmare.

Real world use case #1:
- I have a large scale corporate website that serves Articles and Recipes
through the same template(s), including the &lt;head&gt;.
- In order to have an Article and Recipe &quot;feature image&quot; responsive with
this solution I would need to now put this in the &lt;head&gt;:

&lt;style type=&quot;text/css&quot;&gt;
@media (min-width: 480px) {
  .artdirected-article {
    width: 30px;
    height: 30px;
    background-image: image-set(url(article-small.png) 1x,
url(article-small-hires.png) 2x);
    }
.artdirected-recipe {
    width: 30px;
    height: 30px;
    background-image: image-set(url(recipe-small.png) 1x,
url(recipe-small-hires.png) 2x);
    }
}
@media (min-width: 600px) {
  .artdirected-article {
    width: 60px;
    height: 60px;
    background-image: image-set(url(article-large.png) 1x,
url(article-large-hires.png) 2x);
    }
.artdirected-recipe {
    width: 60px;
    height: 60px;
    background-image: image-set(url(recipe-large.png) 1x,
url(recipe-large-hires.png) 2x);
    }
}
&lt;/style&gt;

Then, modify templates in order to render these separately:
&lt;div class=&quot;artdirected-article&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;artdirected-recipe&quot;&gt;&lt;/div&gt;

Now what if my templates are also used for TV Show details, Host details...
- Add 2 more entries into the &lt;head&gt;
- abstract the templates for more logic and/or just create separate
templates (which seems as though it may be easier to now do that, yikes)

It also seems as though we'd be adding a boatload of code to the head that
may or may not even be used, so now I would need new MasterPages to render
different &lt;head&gt;'s for different templates.... you get where I'm going with
this?



&gt;<i>
</I>&gt;<i> All the information is there.  We just need to teach the preload
</I>&gt;<i> scanner to parse a subset of CSS and match a subset of selectors.  If
</I>&gt;<i> you stay within the &quot;preloadable&quot; subset, then your images will be
</I>&gt;<i> loaded by the preload scanner.  Otherwise, they'll just be loaded
</I>&gt;<i> normally.
</I>&gt;<i>
</I>&gt;<i> What's most attractive to me about this approach is that it doesn't
</I>&gt;<i> require inventing anything new, which means the compatibility story
</I>&gt;<i> for older user agents is solid.  You don't need a polyfill or anything
</I>&gt;<i> like that.
</I>&gt;<i>
</I>
Real world use case #2 (based on &quot;Compatibility is solid&quot;):

Based on the Content from Use Case #1 (Articles and Recipes):
- There is an overall corporate requirement to have Article and Recipe
&quot;Feature&quot; images print along with the Content (Directions, Ingredients
etc.) when a user prints the page. (The Recipes community is notoriously
adept at printing)
- UA's are notoriously horrible at printing css background images.
- I have a choice to make now as an Author -- Do not make Feature images
responsive (based on this solution) or add in more work-a-rounds to have an
image available for printing.


&gt;<i> Adam
</I>&gt;<i>
</I>

I applaud the effort to try and utilize existing infrastructure with this
but use case #2 (printing) makes it a show stopper for me.

Cheers,
D.
</PRE>




















































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041492.html">[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N proposal)
</A></li>
	<LI>Next message: <A HREF="041445.html">[whatwg] &lt;imgset&gt; responsive imgs proposition (Re: The src-N proposal)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41454">[ date ]</a>
              <a href="thread.html#41454">[ thread ]</a>
              <a href="subject.html#41454">[ subject ]</a>
              <a href="author.html#41454">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
