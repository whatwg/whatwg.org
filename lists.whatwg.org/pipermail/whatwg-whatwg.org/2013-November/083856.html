<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] The src-N proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20src-N%20proposal&In-Reply-To=%3C528C9D4A.3010007%40hoppipolla.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083864.html">
   <LINK REL="Next"  HREF="083858.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] The src-N proposal</H1>
<!--htdig_noindex-->
    <B>James Graham</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20src-N%20proposal&In-Reply-To=%3C528C9D4A.3010007%40hoppipolla.co.uk%3E"
       TITLE="[whatwg] The src-N proposal">james at hoppipolla.co.uk
       </A><BR>
    <I>Wed Nov 20 03:30:18 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083864.html">[whatwg] The src-N proposal
</A></li>
        <LI>Next message: <A HREF="083858.html">[whatwg] The src-N proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83856">[ date ]</a>
              <a href="thread.html#83856">[ thread ]</a>
              <a href="subject.html#83856">[ subject ]</a>
              <a href="author.html#83856">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 19/11/13 22:07, Simon Pieters wrote:

&gt;<i> The selection algorithm would only consider &lt;source&gt; elements that are
</I>&gt;<i> previous siblings of the &lt;img&gt; if the parent is a &lt;picture&gt; element, and
</I>&gt;<i> would be called in place of the current 'process the image candidates'
</I>&gt;<i> in the spec (called from 'update the image data'). 'Update the image
</I>&gt;<i> data' gets run when an img element is created, has its src or
</I>&gt;<i> crossorigin (or srcset if we still want that on img) attributes
</I>&gt;<i> changed/set/removed, is inserted or removed from its parent, when
</I>&gt;<i> &lt;source&gt; is inserted to a &lt;picture&gt; as a previous sibling, or a &lt;source&gt;
</I>&gt;<i> that is a previous sibling is removed from &lt;picture&gt;, or when a &lt;source&gt;
</I>&gt;<i> that is a previous sibling and is in &lt;picture&gt; has its src or srcset (or
</I>&gt;<i> whatever attributes we want to use on &lt;source&gt;) attributes
</I>&gt;<i> changed/set/removed. 'Update the image data' aborts if the
</I>&gt;<i> parser-created flag is set. When img is inserted to the document, if the
</I>&gt;<i> parser-created flag is set, the flag is first unset and then 'update the
</I>&gt;<i> image data' is run but without the await a stable state step.
</I>
This seems like a nice proposal. There seems to be a minor problem that 
elements created through innerHTML will have the parser created flag set 
and so will not start loading until they are inserted into the document. 
So you probably want to call the flag the &quot;delayed load&quot; flag or 
somesuch, and only set it if the parser isn't in the fragment case.


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083864.html">[whatwg] The src-N proposal
</A></li>
	<LI>Next message: <A HREF="083858.html">[whatwg] The src-N proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83856">[ date ]</a>
              <a href="thread.html#83856">[ thread ]</a>
              <a href="subject.html#83856">[ subject ]</a>
              <a href="author.html#83856">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
