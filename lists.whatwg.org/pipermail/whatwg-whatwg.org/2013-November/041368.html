<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Question on HTML5 media element, the seeking algorithm and the seeked event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Question%20on%20HTML5%20media%20element%2C%0A%20the%20seeking%20algorithm%20and%20the%20seeked%20event&In-Reply-To=%3C1383908228.8334.37.camel%40pomeron.local.igalia.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041366.html">
   <LINK REL="Next"  HREF="041369.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Question on HTML5 media element, the seeking algorithm and the seeked event</H1>
<!--htdig_noindex-->
    <B>Andres Gomez</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Question%20on%20HTML5%20media%20element%2C%0A%20the%20seeking%20algorithm%20and%20the%20seeked%20event&In-Reply-To=%3C1383908228.8334.37.camel%40pomeron.local.igalia.com%3E"
       TITLE="[whatwg] Question on HTML5 media element, the seeking algorithm and the seeked event">agomez at igalia.com
       </A><BR>
    <I>Fri Nov  8 02:57:08 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="041366.html">[whatwg] Updates to Web developer edition of HTML Living Standard
</A></li>
        <LI>Next message: <A HREF="041369.html">[whatwg] The src-N proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41368">[ date ]</a>
              <a href="thread.html#41368">[ thread ]</a>
              <a href="subject.html#41368">[ subject ]</a>
              <a href="author.html#41368">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

because of my recent work related to a bug and test in WebKit, I've
gotten to deal with the HTML5 media element's &quot;seeking&quot; algorithm and
&quot;seeked&quot; event.

During my analysis I was unable, following the specs preview, to
determine whether on specific conditions, after a &quot;seek&quot; request a
&quot;seeked&quot; event would be received.

The cases could be more complicated but, trying to put it simple, in the
&quot;seeking&quot; algorithm of the specs:
<A HREF="http://dev.w3.org/html5/spec-preview/media-elements.html#seeking">http://dev.w3.org/html5/spec-preview/media-elements.html#seeking</A>

We can read on the step 7, that, on certain conditions:
&quot;... If there are no ranges given in the seekable attribute then set the
seeking IDL attribute to false and abort these steps.&quot;

Hence, we won't walk the following steps, including the last ones, 13
and 14, which would fire the &quot;timeupdate&quot; and &quot;seeked&quot; events.

However, reading the events summary for the &quot;seeked&quot; one:
<A HREF="http://dev.w3.org/html5/spec-preview/media-elements.html#event-media-seeked">http://dev.w3.org/html5/spec-preview/media-elements.html#event-media-seeked</A>

We can read that it is &quot;Fired when...&quot;:
&quot;The seeking IDL attribute changed to false.&quot;

... which is what happens in the mentioned step 7 of the &quot;seeking&quot;
algorithm.


Because of this, I'm unsure whether a &quot;seeked&quot; (and &quot;timeupdate&quot; ?)
event should be fired when the conditions in step 7 happen.

I've checked with Chromium on Ubuntu 13.04 and it doesn't fire the
event. However, although I don't have enough experience in the matter,
it seems to me that the most consistent behavior would be to fire the
&quot;seeked&quot; event even when those conditions happen, so the user can have
some feedback upon their &quot;seek&quot; request.

In any case, even if the expected behavior would be the one implemented
in Chromium, not firing the event, it seems to me that it should be
stated more explicitly in the specs.

Comments are welcome :)

-- 
Br,

Andres

</PRE>























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041366.html">[whatwg] Updates to Web developer edition of HTML Living Standard
</A></li>
	<LI>Next message: <A HREF="041369.html">[whatwg] The src-N proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41368">[ date ]</a>
              <a href="thread.html#41368">[ thread ]</a>
              <a href="subject.html#41368">[ subject ]</a>
              <a href="author.html#41368">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
