<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal: Locale Preferences API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20Locale%20Preferences%20API&In-Reply-To=%3CCADaTyXWhFuM2eoq%2Bem%2BS74iu8n%3Dq7RCt4hxqmnR9b0kbo010OQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083940.html">
   <LINK REL="Next"  HREF="083943.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal: Locale Preferences API</H1>
<!--htdig_noindex-->
    <B>Jungshik Shin (&#49888;&#51221;&#49885;, &#30003;&#25919;&#28252;)</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20Locale%20Preferences%20API&In-Reply-To=%3CCADaTyXWhFuM2eoq%2Bem%2BS74iu8n%3Dq7RCt4hxqmnR9b0kbo010OQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Proposal: Locale Preferences API">jshin at chromium.org
       </A><BR>
    <I>Wed Nov 27 13:28:04 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083940.html">[whatwg] Fetch SVG images with No CORS tainted cross-origin
</A></li>
        <LI>Next message: <A HREF="083943.html">[whatwg] Proposal: Locale Preferences API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41669">[ date ]</a>
              <a href="thread.html#41669">[ thread ]</a>
              <a href="subject.html#41669">[ subject ]</a>
              <a href="author.html#41669">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>The proposal looks good except for one reservation I have about. A few
years ago, we proposed a similar API to webkit-dev, but it's 'killed' there
and we didn't bring it up in whatwg (Chromium ended up adding an extension
API for that for Chrome extensions).

My reservation is :  it's not a good idea to &quot;conflate&quot; the browser's UI
language and the ordered list of preferred content languages
(Accept-Language).  Specifically, I think it's better to leave alone
'navigator.language' when the preferred list of languages is changed.


*2.1 If the first item of the lang list is not the same value as the value
of*
*the 'navigator' object's `language` attribute, update the `navigator`
object's `*
*attribute` to be the first item lang list.*

That is, I suggest that 'navigator.language' always be the UI language of a
web browser. When the 'preferred lang list' changes, it should NOT affect
'navigator.language' (singular) but ONLY updates 'navigator.languages'
(plural).

If 'language vs languages' is likely to cause confusion/errors, we might as
well choose to use 'preferredLanguages' or 'preferredContentLanguages' for
the latter.


Jungshik






2013/10/16 Erik Arvidsson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">arv at chromium.org</A>&gt;

&gt;<i> This looks very useful and the proposal looks solid.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, Oct 14, 2013 at 6:43 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; On Mon, 14 Oct 2013, Marcos Caceres wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Ping?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Mozilla would like to know if anyone else is interested or specially if
</I>&gt;<i> &gt; &gt; people are NOT interested. We would like to implement this and expose
</I>&gt;<i> it
</I>&gt;<i> &gt; &gt; on the platform.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; See:  <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=780953">https://bugzilla.mozilla.org/show_bug.cgi?id=780953</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I was just looking at this, actually. I filed the following bug to track
</I>&gt;<i> &gt; it: <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=23517">https://www.w3.org/Bugs/Public/show_bug.cgi?id=23517</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Seems like a reasonable feature to me, FWIW.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; See also:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    Notification of change to navigator.language (locale change)
</I>&gt;<i> &gt;    <A HREF="https://www.w3.org/bugzilla_public/show_bug.cgi?id=21289">https://www.w3.org/bugzilla_public/show_bug.cgi?id=21289</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    API to expose locale-specific settings
</I>&gt;<i> &gt;    <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=22679">https://www.w3.org/Bugs/Public/show_bug.cgi?id=22679</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    API to expose actual language of a node, to aid scripts doing
</I>&gt;<i> &gt;    localisation and CJK editors during copy&amp;paste and drag&amp;drop
</I>&gt;<i> &gt;    <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=23512">https://www.w3.org/Bugs/Public/show_bug.cgi?id=23512</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Ian Hickson               U+1047E                )\._.,--....,'``.    fL
</I>&gt;<i> &gt; <A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
</I>&gt;<i> &gt; Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> erik
</I>&gt;<i>
</I></PRE>






<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083940.html">[whatwg] Fetch SVG images with No CORS tainted cross-origin
</A></li>
	<LI>Next message: <A HREF="083943.html">[whatwg] Proposal: Locale Preferences API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41669">[ date ]</a>
              <a href="thread.html#41669">[ thread ]</a>
              <a href="subject.html#41669">[ subject ]</a>
              <a href="author.html#41669">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
