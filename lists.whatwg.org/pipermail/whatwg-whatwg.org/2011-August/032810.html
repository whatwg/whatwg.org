<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Script tags with src and content
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Script%20tags%20with%20src%20and%20content&In-Reply-To=%3C4E3B1DEC.1040803%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032806.html">
   <LINK REL="Next"  HREF="075086.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Script tags with src and content</H1>
<!--htdig_noindex-->
    <B>Den.Molib</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Script%20tags%20with%20src%20and%20content&In-Reply-To=%3C4E3B1DEC.1040803%40gmail.com%3E"
       TITLE="[whatwg] Script tags with src and content">den.molib at gmail.com
       </A><BR>
    <I>Thu Aug  4 15:32:12 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="032806.html">[whatwg] Bug in defineProperty
</A></li>
        <LI>Next message: <A HREF="075086.html">[whatwg] Script tags with src and content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32810">[ date ]</a>
              <a href="thread.html#32810">[ thread ]</a>
              <a href="subject.html#32810">[ subject ]</a>
              <a href="author.html#32810">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I noticed that the html spec doesn't state what should be done with a 
script tag with a non-empty src attribute *and* content inside.

Per section 4.3.1.3 [1] we just know that 'If a |script 
&lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#the-script-element">http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#the-script-element</A>&gt;| 
element's |src 
&lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#attr-script-src">http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#attr-script-src</A>&gt;| 
attribute is specified, then the contents of the |script 
&lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#the-script-element">http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#the-script-element</A>&gt;| 
element, if any, must correspond to putting the contents of the element 
in JavaScript comments'
I think that such content would be ignored: since it has a src tag, it 
would be marked as 'from an external file' and 'The contents of that 
file are the script source', but it could also be considered to be 
external and inline at the same time.

I realised this when looking at the recommended code for embedding 
Google+ [2] (choose a language other than US English). It looks like
&gt;<i> &lt;script type=&quot;text/javascript&quot; 
</I>&gt;<i> src=&quot;<A HREF="https://apis.google.com/js/plusone.js">https://apis.google.com/js/plusone.js</A>&quot;&gt;
</I>&gt;<i>   {lang: 'en-GB'}
</I>&gt;<i> &lt;/script&gt;
</I>
The script [3] is too minified to follow, but it looks they are using 
the same tag for including the script and embedding parameters, even 
though they are disobeying a must by doing so. Maybe they have a string 
reason and it's the spec what should allow such use. Either way, a 
clarification in the specification looks good.


1- 
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#inline-documentation-for-external-scripts">http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#inline-documentation-for-external-scripts</A>
2- <A HREF="http://www.google.com/webmasters/+1/button/index.html">http://www.google.com/webmasters/+1/button/index.html</A>
3- <A HREF="https://apis.google.com/js/plusone.js">https://apis.google.com/js/plusone.js</A>

</PRE>



































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032806.html">[whatwg] Bug in defineProperty
</A></li>
	<LI>Next message: <A HREF="075086.html">[whatwg] Script tags with src and content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32810">[ date ]</a>
              <a href="thread.html#32810">[ thread ]</a>
              <a href="subject.html#32810">[ subject ]</a>
              <a href="author.html#32810">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
