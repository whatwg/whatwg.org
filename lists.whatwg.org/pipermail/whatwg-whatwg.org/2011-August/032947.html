<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Allowing Clickjacking Prevention using a Minimal	Javascript API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Allowing%20Clickjacking%20Prevention%20using%20a%20Minimal%0A%09Javascript%20API&In-Reply-To=%3CCAJsGU-oFi2jqhs4fNYq94S7H%2BeQrCfr9E5aqpDjpU9LztzN3Eg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075227.html">
   <LINK REL="Next"  HREF="075224.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Allowing Clickjacking Prevention using a Minimal	Javascript API</H1>
<!--htdig_noindex-->
    <B>Rob Ennals</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Allowing%20Clickjacking%20Prevention%20using%20a%20Minimal%0A%09Javascript%20API&In-Reply-To=%3CCAJsGU-oFi2jqhs4fNYq94S7H%2BeQrCfr9E5aqpDjpU9LztzN3Eg%40mail.gmail.com%3E"
       TITLE="[whatwg] Allowing Clickjacking Prevention using a Minimal	Javascript API">rje at google.com
       </A><BR>
    <I>Wed Aug 17 15:51:39 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="075227.html">[whatwg] &lt;video preload&gt; implementation feedback
</A></li>
        <LI>Next message: <A HREF="075224.html">[whatwg] Allowing Clickjacking Prevention using a Minimal Javascript API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32947">[ date ]</a>
              <a href="thread.html#32947">[ thread ]</a>
              <a href="subject.html#32947">[ subject ]</a>
              <a href="author.html#32947">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Guys,

I'd like to present a proposal for a minimal API that would allow
clickjacking prevention, while still allowing useful cross-domain
iframing such as share buttons etc.

(for context: <A HREF="http://en.wikipedia.org/wiki/Clickjacking">http://en.wikipedia.org/wiki/Clickjacking</A>)

To allow an iframe to detect clickjacking, the browser would provide
API functions to determine the following:
* The origins of all enclosing documents
* The size of the iframe viewport
* Whether any of the iframe content might be covered by something else
    - scrolled into view, and no overlapping rectangles with higher z-order
* It's absolute position in the window
* The complete computed style applied to the iframe (e.g. is it zoomed
or transparent)
* Receive an event whenever any of these change
* Any other information I've forgotten that might indicate clickjacking


The intention is that the browser would expose sufficient information
to allow the iframe to detect clickjacking if it happens.
Responsibility for detecting clickjacking is passed over to the iframe
javascript. The browser just gives the iframe the tools it needs to do
it's job.

A developer would not be expected to implement clickjacking detection
themselves. Instead they would import a standard library that does it.
Such a library could be included as a default part of libraries like
Closure and jQuery.


Several proposals for preventing clickjacking have been proposed
before, but, as yet, browsers do little to prevent clickjacking, other
than X-Frame-Options, which disallows cross-domain iframing
completely.

Michal Zelewski sent out an interesting proposal back a while back,
but that seems to have been rejected on the grounds that it was
complex to implement, and it wasn't clear that the proposed solution
would be the correct one in all use cases.
<A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2008-September/016284.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2008-September/016284.html</A>

NoScript's ClearClick also does similar client-side checking.


The motivation behind the proposal above is:
* Make it be something that is minimal enough that browser vendors can
implement it relatively easy.
* Don't make any claims about it being complete. Instead allow library
vendors to explore the appropriate rules to use to disallow
clickjacking.


Thoughts?


Thanks

-Rob
</PRE>

























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075227.html">[whatwg] &lt;video preload&gt; implementation feedback
</A></li>
	<LI>Next message: <A HREF="075224.html">[whatwg] Allowing Clickjacking Prevention using a Minimal Javascript API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32947">[ date ]</a>
              <a href="thread.html#32947">[ thread ]</a>
              <a href="subject.html#32947">[ subject ]</a>
              <a href="author.html#32947">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
