<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] WebSocket framing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebSocket%20framing&In-Reply-To=%3C4E5200BA.7050901%40bauglir.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075242.html">
   <LINK REL="Next"  HREF="075244.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] WebSocket framing</H1>
<!--htdig_noindex-->
    <B>Bronislav Klu&#269;ka</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebSocket%20framing&In-Reply-To=%3C4E5200BA.7050901%40bauglir.com%3E"
       TITLE="[whatwg] WebSocket framing">Bronislav.Klucka at bauglir.com
       </A><BR>
    <I>Mon Aug 22 00:09:46 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="075242.html">[whatwg] WebSocket framing
</A></li>
        <LI>Next message: <A HREF="075244.html">[whatwg] WebSocket framing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75243">[ date ]</a>
              <a href="thread.html#75243">[ thread ]</a>
              <a href="subject.html#75243">[ subject ]</a>
              <a href="author.html#75243">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>

On 21.8.2011 18:44, John Tamplin wrote:
&gt;<i> On Sun, Aug 21, 2011 at 5:05 AM, Bronislav Klu&#269;ka&lt;
</I>&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">Bronislav.Klucka at bauglir.com</A>&gt;  wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hello,
</I>&gt;&gt;<i> I'm looking at current WebSocket interface specification
</I>&gt;&gt;<i> <A HREF="http://www.whatwg.org/specs/**web-apps/current-work/**">http://www.whatwg.org/specs/**web-apps/current-work/**</A>
</I>&gt;&gt;<i> complete/network.html#the-**websocket-interface&lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/complete/network.html#the-websocket-interface">http://www.whatwg.org/specs/web-apps/current-work/complete/network.html#the-websocket-interface</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1/ and I'm missing the ability to specify, whether data to be sent are
</I>&gt;&gt;<i> final or not (whether the frame to be sent should be continuous or not)
</I>&gt;&gt;<i> I suppose some parameter for specifying final/continuing frame should be
</I>&gt;&gt;<i> there, or some new methods for framing. I've tried to send 100 MiB text from
</I>&gt;&gt;<i> Chrome for testing purposes and since there is no way to specify framing it
</I>&gt;&gt;<i> was send in one piece.  There is no way to stream data from client to
</I>&gt;&gt;<i> server, all data must be kept in memory and sent at once.
</I>&gt;&gt;<i>
</I>&gt;<i> The JS API is entirely at the message level -- the fact that it might be
</I>&gt;<i> fragmented into frames is an implementation detail of the browser and the
</I>&gt;<i> rest of the network.
</I>That was not the point, the point was that current WebSocket JS API does 
not allow streaming of data either from browser or from server (browser 
sends data as one frame, and when receiving exposes to the programmer 
the whole message at once regardless of how server sent the message).  
As persistent and low latency connection, WS would be perfect for 
streaming data. But due to this JS API inability to handle frames, one 
has to implement streaming on server and client all over again even 
though the protocol can be used.
So the point is, couldn't JS API use the ability of the protocol to ease 
streaming implementation?

&gt;<i>
</I>&gt;&gt;<i> 3/ MessageEvent should expose what kind of data was received, textual, blob
</I>&gt;&gt;<i> or arrayBuffer. This would prevent testing for data type and problems with
</I>&gt;&gt;<i> testing |binaryType&lt;<A HREF="http://dev.w3.org/html5/**websockets/#dom-websocket-*">http://dev.w3.org/html5/**websockets/#dom-websocket-*</A>
</I>&gt;&gt;<i> *binarytype&lt;<A HREF="http://dev.w3.org/html5/websockets/#dom-websocket-binarytype">http://dev.w3.org/html5/websockets/#dom-websocket-binarytype</A>&gt;&gt;
</I>&gt;&gt;<i> |property if changed during data receiving.
</I>&gt;&gt;<i>
</I>&gt;<i> At the WebSocket protocol level, there is only text data and byte data.
</I>&gt;<i>   There is no notion of it being sent as a blob or array buffer, and any
</I>&gt;<i> binary data could be received as either, as is convenient to the receiver.
</I>&gt;<i>
</I>This notice was not about how data are sent, but how data are received.
Regardless of data type the message is received by onmesssage event and 
exposed in data property,
but I guess one can test for data type of this property

Brona.


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075242.html">[whatwg] WebSocket framing
</A></li>
	<LI>Next message: <A HREF="075244.html">[whatwg] WebSocket framing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75243">[ date ]</a>
              <a href="thread.html#75243">[ thread ]</a>
              <a href="subject.html#75243">[ subject ]</a>
              <a href="author.html#75243">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
