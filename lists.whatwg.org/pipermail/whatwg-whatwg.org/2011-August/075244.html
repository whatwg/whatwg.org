<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] WebSocket framing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebSocket%20framing&In-Reply-To=%3C4E520EB9.6020803%40opera.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075243.html">
   <LINK REL="Next"  HREF="032974.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] WebSocket framing</H1>
<!--htdig_noindex-->
    <B>James Graham</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebSocket%20framing&In-Reply-To=%3C4E520EB9.6020803%40opera.com%3E"
       TITLE="[whatwg] WebSocket framing">jgraham at opera.com
       </A><BR>
    <I>Mon Aug 22 01:09:29 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="075243.html">[whatwg] WebSocket framing
</A></li>
        <LI>Next message: <A HREF="032974.html">[whatwg] registerProtocolHandler() whitelist
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75244">[ date ]</a>
              <a href="thread.html#75244">[ thread ]</a>
              <a href="subject.html#75244">[ subject ]</a>
              <a href="author.html#75244">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 08/22/2011 09:09 AM, Bronislav Klu&#269;ka wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 21.8.2011 18:44, John Tamplin wrote:
</I>&gt;&gt;<i> On Sun, Aug 21, 2011 at 5:05 AM, Bronislav Klu&#269;ka&lt;
</I>&gt;&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">Bronislav.Klucka at bauglir.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hello,
</I>&gt;&gt;&gt;<i> I'm looking at current WebSocket interface specification
</I>&gt;&gt;&gt;<i> <A HREF="http://www.whatwg.org/specs/**web-apps/current-work/**">http://www.whatwg.org/specs/**web-apps/current-work/**</A>
</I>&gt;&gt;&gt;<i> complete/network.html#the-**websocket-interface&lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/complete/network.html#the-websocket-interface">http://www.whatwg.org/specs/web-apps/current-work/complete/network.html#the-websocket-interface</A>&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 1/ and I'm missing the ability to specify, whether data to be sent are
</I>&gt;&gt;&gt;<i> final or not (whether the frame to be sent should be continuous or not)
</I>&gt;&gt;&gt;<i> I suppose some parameter for specifying final/continuing frame should be
</I>&gt;&gt;&gt;<i> there, or some new methods for framing. I've tried to send 100 MiB
</I>&gt;&gt;&gt;<i> text from
</I>&gt;&gt;&gt;<i> Chrome for testing purposes and since there is no way to specify
</I>&gt;&gt;&gt;<i> framing it
</I>&gt;&gt;&gt;<i> was send in one piece. There is no way to stream data from client to
</I>&gt;&gt;&gt;<i> server, all data must be kept in memory and sent at once.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> The JS API is entirely at the message level -- the fact that it might be
</I>&gt;&gt;<i> fragmented into frames is an implementation detail of the browser and the
</I>&gt;&gt;<i> rest of the network.
</I>&gt;<i> That was not the point, the point was that current WebSocket JS API does
</I>&gt;<i> not allow streaming of data either from browser or from server (browser
</I>&gt;<i> sends data as one frame, and when receiving exposes to the programmer
</I>&gt;<i> the whole message at once regardless of how server sent the message). As
</I>&gt;<i> persistent and low latency connection, WS would be perfect for streaming
</I>&gt;<i> data. But due to this JS API inability to handle frames, one has to
</I>&gt;<i> implement streaming on server and client all over again even though the
</I>&gt;<i> protocol can be used.
</I>&gt;<i> So the point is, couldn't JS API use the ability of the protocol to ease
</I>&gt;<i> streaming implementation?
</I>
I imagine that at some point in the future we will expose an interface 
that is optimised for streaming data over websockets. But it seems 
foolhardy to do that before we have any real-world experience with the 
basic API. It is also something that will need to be designed to 
integrate with other streaming APIs in the platform, e.g. the audio and 
video stuff that is currently being discussed (mostly elsewhere).

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075243.html">[whatwg] WebSocket framing
</A></li>
	<LI>Next message: <A HREF="032974.html">[whatwg] registerProtocolHandler() whitelist
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75244">[ date ]</a>
              <a href="thread.html#75244">[ thread ]</a>
              <a href="subject.html#75244">[ subject ]</a>
              <a href="author.html#75244">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
