<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fixing undo on the Web - UndoManager and Transaction
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fixing%20undo%20on%20the%20Web%20-%20UndoManager%20and%20Transaction&In-Reply-To=%3CCA%2Bc2ei_cek-ufDiKpHDzMg09gd16zh%3D8E5RH%3DkP3HQSjwcBDxg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075183.html">
   <LINK REL="Next"  HREF="075190.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fixing undo on the Web - UndoManager and Transaction</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fixing%20undo%20on%20the%20Web%20-%20UndoManager%20and%20Transaction&In-Reply-To=%3CCA%2Bc2ei_cek-ufDiKpHDzMg09gd16zh%3D8E5RH%3DkP3HQSjwcBDxg%40mail.gmail.com%3E"
       TITLE="[whatwg] Fixing undo on the Web - UndoManager and Transaction">jonas at sicking.cc
       </A><BR>
    <I>Thu Aug 11 15:07:48 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="075183.html">[whatwg] Fixing undo on the Web - UndoManager and Transaction
</A></li>
        <LI>Next message: <A HREF="075190.html">[whatwg] Fixing undo on the Web - UndoManager and Transaction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75185">[ date ]</a>
              <a href="thread.html#75185">[ thread ]</a>
              <a href="subject.html#75185">[ subject ]</a>
              <a href="author.html#75185">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Aug 11, 2011 at 2:56 PM, Ryosuke Niwa &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">rniwa at webkit.org</A>&gt; wrote:
&gt;<i> On Thu, Aug 11, 2011 at 2:53 PM, Ehsan Akhgari &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ehsan at mozilla.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I think the confusion is arising because you chose to attach undoManager
</I>&gt;&gt;<i> to elements, not nodes. &#160;Note that document _is_ a node in the DOM, but it's
</I>&gt;&gt;<i> not an element. &#160;I think we should just modify the spec to attach
</I>&gt;&gt;<i> undoManager to nodes. &#160;Once we have that, we don't need to treat
</I>&gt;&gt;<i> documentElement specially at all, it just looks at its parent (the document
</I>&gt;&gt;<i> node) and gets the undoManager from there.
</I>&gt;<i>
</I>&gt;<i> Makes sense.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The only downside is that we should explicitly prohibit some node types
</I>&gt;&gt;<i> from having an undoManager where it doesn't make sense (such as text nodes,
</I>&gt;&gt;<i> comment nodes, etc.). &#160;We can enumerate them explicitly and say that
</I>&gt;&gt;<i> accessing the undoManager on these types of nodes will throw.
</I>&gt;<i>
</I>&gt;<i> Alternatively, can we say that only Element and Document are allowed to have
</I>&gt;<i> it?
</I>
Yup, that's what I think we should do. Though it'll sort of fall out
naturally since UndoManagers are by default only available on
Documents, and the only way you can enable it on other Nodes is
through attributes, which only exist on Elements.

But mentioning it explicitly too is a good idea.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075183.html">[whatwg] Fixing undo on the Web - UndoManager and Transaction
</A></li>
	<LI>Next message: <A HREF="075190.html">[whatwg] Fixing undo on the Web - UndoManager and Transaction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75185">[ date ]</a>
              <a href="thread.html#75185">[ thread ]</a>
              <a href="subject.html#75185">[ subject ]</a>
              <a href="author.html#75185">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
