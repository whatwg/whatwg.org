<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Add &quot;naturalOrientation&quot; property to &lt;img&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Add%20%22naturalOrientation%22%20property%20to%20%3Cimg%3E&In-Reply-To=%3CCAAWBYDA%3DzmdWuW%2BGT3BmvKceRsjJebM-eVBnmrHi2PGVuMKSUg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075258.html">
   <LINK REL="Next"  HREF="075262.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Add &quot;naturalOrientation&quot; property to &lt;img&gt;</H1>
<!--htdig_noindex-->
    <B>Tab Atkins Jr.</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Add%20%22naturalOrientation%22%20property%20to%20%3Cimg%3E&In-Reply-To=%3CCAAWBYDA%3DzmdWuW%2BGT3BmvKceRsjJebM-eVBnmrHi2PGVuMKSUg%40mail.gmail.com%3E"
       TITLE="[whatwg] Add &quot;naturalOrientation&quot; property to &lt;img&gt;">jackalmage at gmail.com
       </A><BR>
    <I>Fri Aug 26 08:37:34 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="075258.html">[whatwg] adding microdata to basic links
</A></li>
        <LI>Next message: <A HREF="075262.html">[whatwg] Add &quot;naturalOrientation&quot; property to &lt;img&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32988">[ date ]</a>
              <a href="thread.html#32988">[ thread ]</a>
              <a href="subject.html#32988">[ subject ]</a>
              <a href="author.html#32988">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Summary
=======
The &lt;img&gt; element should expose a readonly &quot;naturalOrientation&quot;
property that returns the EXIF orientation of the image (an integer
1-8), or 1 if the image has no EXIF orientation metadata or it is
corrupted or the image type doesn't expose EXIF data at all.


Background
==========
Some cameras (sometimes automatically, sometimes through an option)
record the orientation of the camera when a picture was taken.  This
data is used by many image-viewing programs to auto-rotate the image
to its &quot;correct&quot; orientation.  For example, if you take a picture of
the Eiffel Tower by holding your camera sideways to get more vertical
distance, you'd prefer the Tower to be vertical when you view it, not
pointing to the side like the raw image data would have you believe.

(Why do cameras express this as metadata instead of just rotating the
image data directly?  CCDs tend to stream the image data in row-major
format.  If you need to buffer the entire image before storing it so
you can do a rotation first, this may negatively affect performance in
terms of shots/second.  I dunno if this is still an issue with modern
hardware, but it apparently was with early digital cameras.)

A more thorough explanation of the EXIF orientation can be found at
&lt;<A HREF="http://www.impulseadventure.com/photo/exif-orientation.html">http://www.impulseadventure.com/photo/exif-orientation.html</A>&gt;.


Reasoning
=========
Webapps that manipulate images need to have the ability to tell when
an image should be rotated before being displayed, like desktop
image-manipulation software has.  The only way to do so currently is
to parse the binary data of the image and extract the EXIF metadata
yourself.  We can make this reasonably common need much easier by
exposing it directly.

The Google Gears API exposed this data for webpages already
(&lt;<A HREF="http://code.google.com/apis/gears/api_desktop.html#Desktop">http://code.google.com/apis/gears/api_desktop.html#Desktop</A>&gt;), and
according to the team, it was useful there.

~TJ
</PRE>



















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075258.html">[whatwg] adding microdata to basic links
</A></li>
	<LI>Next message: <A HREF="075262.html">[whatwg] Add &quot;naturalOrientation&quot; property to &lt;img&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32988">[ date ]</a>
              <a href="thread.html#32988">[ thread ]</a>
              <a href="subject.html#32988">[ subject ]</a>
              <a href="author.html#32988">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
