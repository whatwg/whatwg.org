<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Need clarification on DOM exceptions thrown by canvas	2D drawImage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Need%20clarification%20on%20DOM%20exceptions%20thrown%20by%20canvas%0A%092D%20drawImage&In-Reply-To=%3C2AEB1D60-D93C-40BA-9F7E-E0D618BE60C2%40mozilla.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075123.html">
   <LINK REL="Next"  HREF="075137.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Need clarification on DOM exceptions thrown by canvas	2D drawImage</H1>
<!--htdig_noindex-->
    <B>Jeff Muizelaar</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Need%20clarification%20on%20DOM%20exceptions%20thrown%20by%20canvas%0A%092D%20drawImage&In-Reply-To=%3C2AEB1D60-D93C-40BA-9F7E-E0D618BE60C2%40mozilla.com%3E"
       TITLE="[whatwg] Need clarification on DOM exceptions thrown by canvas	2D drawImage">jmuizelaar at mozilla.com
       </A><BR>
    <I>Mon Aug  8 14:08:20 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="075123.html">[whatwg] Need clarification on DOM exceptions thrown by canvas 2D drawImage
</A></li>
        <LI>Next message: <A HREF="075137.html">[whatwg] Need clarification on DOM exceptions thrown by canvas	2D drawImage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75124">[ date ]</a>
              <a href="thread.html#75124">[ thread ]</a>
              <a href="subject.html#75124">[ subject ]</a>
              <a href="author.html#75124">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On 2011-08-08, at 4:58 PM, Ian Hickson wrote:

&gt;<i> On Mon, 8 Aug 2011, Justin Novosad wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> This inquiry is regarding this page of the specification: 
</I>&gt;&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html">http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html</A> 
</I>&gt;&gt;<i> In section 4.8.11.1.10 Images, about drawImage(), it is stated that &quot;If 
</I>&gt;&gt;<i> one of the sw or sh arguments is zero, the implementation must raise an 
</I>&gt;&gt;<i> INDEX_SIZE_ERR exception&quot;  There are no other references to other 
</I>&gt;&gt;<i> circumstances under which INDEX_SIZE_ERR should be thrown, and there is 
</I>&gt;&gt;<i> no indication of what the correct behavior is when the source rectangle 
</I>&gt;&gt;<i> is completely or partially outside the bounds of the source image.
</I>&gt;<i> 
</I>&gt;<i> A bit lower down in the same section, the spec says: &quot;When the filtering 
</I>&gt;<i> algorithm requires a pixel value from outside the original image data, it 
</I>&gt;<i> must instead use the value from the nearest edge pixel. (That is, the 
</I>&gt;<i> filter uses 'clamp-to-edge' behavior.)&quot;
</I>
The clamp-to-edge behavior doesn't really work well with Coregraphics' drawImage call. This means that this behaviour is not implemented in Firefox on OS X and I expect WebKit doesn't implement it for a similar reason. I was actually hoping the spec could be changed to the simpler behaviour of just clamping the source rectangle to the bounds of the image. This behaviour is easy to implement on all platforms and is still quite reasonable. 

-Jeff
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075123.html">[whatwg] Need clarification on DOM exceptions thrown by canvas 2D drawImage
</A></li>
	<LI>Next message: <A HREF="075137.html">[whatwg] Need clarification on DOM exceptions thrown by canvas	2D drawImage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75124">[ date ]</a>
              <a href="thread.html#75124">[ thread ]</a>
              <a href="subject.html#75124">[ subject ]</a>
              <a href="author.html#75124">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
