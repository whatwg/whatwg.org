<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Prevent a document from being manipulated by a &quot;top&quot;	document
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Prevent%20a%20document%20from%20being%20manipulated%20by%20a%20%22top%22%0A%09document&In-Reply-To=%3Cop.vzk0d5j348yz2f%40dennis-work.fritz.box%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032747.html">
   <LINK REL="Next"  HREF="075023.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Prevent a document from being manipulated by a &quot;top&quot;	document</H1>
<!--htdig_noindex-->
    <B>Dennis Joachimsthaler</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Prevent%20a%20document%20from%20being%20manipulated%20by%20a%20%22top%22%0A%09document&In-Reply-To=%3Cop.vzk0d5j348yz2f%40dennis-work.fritz.box%3E"
       TITLE="[whatwg] Prevent a document from being manipulated by a &quot;top&quot;	document">dennis at efjot.de
       </A><BR>
    <I>Tue Aug  2 03:21:31 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="032747.html">[whatwg] PeerConnection, MediaStream, getUserMedia(),	and other feedback
</A></li>
        <LI>Next message: <A HREF="075023.html">[whatwg] Prevent a document from being manipulated by a &quot;top&quot; document
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32749">[ date ]</a>
              <a href="thread.html#32749">[ thread ]</a>
              <a href="subject.html#32749">[ subject ]</a>
              <a href="author.html#32749">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I think this needs a better thread title... Feel free to change it.


I've been having this idea. Usually when you insert an &lt;iframe&gt;, for  
example
you can easily manipulate it's DOM structure.

There is no way to prevent this, or? The top document can even just sandbox
the iframe and allow scripts, but not allow top navigation. In this case
the sandboxed iframe is stuck. The top can do whatever it wants with it,  
unless
the sandbox does some weird combination of javascript that might save it  
from
manipulation. Many sites do this, but some do not!

I propose a &lt;head&gt; or &lt;html&gt; attribute or tag which puts the document into  
a
&quot;protected&quot; mode, thus preventing it from being put into an iframe and/or  
manipulated.

The dangers of this situation could be as follows:

Somebody puts &lt;insert social network here&gt; into an iframe, making you log  
in
automatically. He has now access to your data. Instantly. When you access  
any site.

Proposing a very easy to implement protection from iframe manipulation is  
something
that would be very helpful for webmasters.

A few ideas of implementation:

&lt;html topmanipulation=&quot;protected&quot;&gt;
&lt;html protected&gt;
&lt;html topprotected&gt;
&lt;html contentprotected&gt;
&lt;body contentprotected&gt;

&lt;body contentprotected=&quot;all&quot;&gt; could protect it from all script access.  
This could be
sent for webserver responses that MUST NOT be caught by anything (user  
scripts?).

Also being able to apply this to any container tag, if someone wants to  
fine-grain
the security.
</PRE>












<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032747.html">[whatwg] PeerConnection, MediaStream, getUserMedia(),	and other feedback
</A></li>
	<LI>Next message: <A HREF="075023.html">[whatwg] Prevent a document from being manipulated by a &quot;top&quot; document
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32749">[ date ]</a>
              <a href="thread.html#32749">[ thread ]</a>
              <a href="subject.html#32749">[ subject ]</a>
              <a href="author.html#32749">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
