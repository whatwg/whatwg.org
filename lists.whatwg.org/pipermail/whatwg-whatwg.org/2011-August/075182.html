<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fixing undo on the Web - UndoManager and Transaction
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fixing%20undo%20on%20the%20Web%20-%20UndoManager%20and%20Transaction&In-Reply-To=%3C4E444F5E.3050405%40mozilla.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075093.html">
   <LINK REL="Next"  HREF="075183.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fixing undo on the Web - UndoManager and Transaction</H1>
<!--htdig_noindex-->
    <B>Ehsan Akhgari</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fixing%20undo%20on%20the%20Web%20-%20UndoManager%20and%20Transaction&In-Reply-To=%3C4E444F5E.3050405%40mozilla.com%3E"
       TITLE="[whatwg] Fixing undo on the Web - UndoManager and Transaction">ehsan at mozilla.com
       </A><BR>
    <I>Thu Aug 11 14:53:34 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="075093.html">[whatwg] Fixing undo on the Web - UndoManager and Transaction
</A></li>
        <LI>Next message: <A HREF="075183.html">[whatwg] Fixing undo on the Web - UndoManager and Transaction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75182">[ date ]</a>
              <a href="thread.html#75182">[ thread ]</a>
              <a href="subject.html#75182">[ subject ]</a>
              <a href="author.html#75182">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 11-08-05 1:01 PM, Ryosuke Niwa wrote:
&gt;<i> On Fri, Aug 5, 2011 at 9:57 AM, Jonas Sicking&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonas at sicking.cc</A>&gt;  wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Why treat documentElement specially here? Just make the documentElement
</I>&gt;&gt;<i> *not* have a undoManager by default and have it just use it's ancestor's,
</I>&gt;&gt;<i> just like all other elements.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The document is an ancestor of the documentElement after all.
</I>&gt;&gt;<i>
</I>&gt;<i> Anne had a different idea to make documentElement have the root undoManager
</I>&gt;<i> to avoid adding a new property to Document.  I personally like your approach
</I>&gt;<i> but I don't know enough about Web IDLs to give a call.
</I>&gt;<i>
</I>&gt;<i> Anyone else have opinions on this?
</I>
I think the confusion is arising because you chose to attach undoManager 
to elements, not nodes.  Note that document _is_ a node in the DOM, but 
it's not an element.  I think we should just modify the spec to attach 
undoManager to nodes.  Once we have that, we don't need to treat 
documentElement specially at all, it just looks at its parent (the 
document node) and gets the undoManager from there.

The only downside is that we should explicitly prohibit some node types 
from having an undoManager where it doesn't make sense (such as text 
nodes, comment nodes, etc.).  We can enumerate them explicitly and say 
that accessing the undoManager on these types of nodes will throw.

Does that make sense?

Ehsan

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075093.html">[whatwg] Fixing undo on the Web - UndoManager and Transaction
</A></li>
	<LI>Next message: <A HREF="075183.html">[whatwg] Fixing undo on the Web - UndoManager and Transaction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75182">[ date ]</a>
              <a href="thread.html#75182">[ thread ]</a>
              <a href="subject.html#75182">[ subject ]</a>
              <a href="author.html#75182">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
