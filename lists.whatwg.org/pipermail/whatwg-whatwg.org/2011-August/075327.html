<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fwd: Should Paths be First Class Citizens?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fwd%3A%20Should%20Paths%20be%20First%20Class%20Citizens%3F&In-Reply-To=%3CCA%2B44znhAOcsuPxWjZUQ-o1mB8MTFAUV_-_x9psZGnu2iAb3DjQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033052.html">
   <LINK REL="Next"  HREF="033053.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fwd: Should Paths be First Class Citizens?</H1>
<!--htdig_noindex-->
    <B>David Geary</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fwd%3A%20Should%20Paths%20be%20First%20Class%20Citizens%3F&In-Reply-To=%3CCA%2B44znhAOcsuPxWjZUQ-o1mB8MTFAUV_-_x9psZGnu2iAb3DjQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Fwd: Should Paths be First Class Citizens?">david.mark.geary at gmail.com
       </A><BR>
    <I>Wed Aug 31 10:54:57 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="033052.html">[whatwg] Should Paths be First Class Citizens?
</A></li>
        <LI>Next message: <A HREF="033053.html">[whatwg] windowToCanvas()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75327">[ date ]</a>
              <a href="thread.html#75327">[ thread ]</a>
              <a href="subject.html#75327">[ subject ]</a>
              <a href="author.html#75327">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Forgive me if this shows up twice on the list. I&#8217;m new at this, and I
believe I sent the original to the wrong address.

---------- Forwarded message ----------
From: David Geary &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">david.mark.geary at gmail.com</A>&gt;
Date: Wed, Aug 31, 2011 at 11:48 AM
Subject: Should Paths be First Class Citizens?
To: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at whatwg.org</A>


I&#8217;ve implemented some polygon objects for my book that I can drag around in
a canvas. I detect mouse clicks in the polygons with the isPointInPath()
method. Here&#8217;s a simple code snippet that detects mouse clicks in a set of
polygons (dnd code is too lengthy for this purpose):

context.canvas.onmousedown = function (e) {
   var loc = windowToCanvas(context.canvas, e);

   polygons.forEach( function (polygon) {  // polygons is an array of
polygon objects
      polygon.createPath();  // my polygons have a createPath() method

      if (context.isPointInPath(loc.x, loc.y)) {
         alert('mouse clicked in polygon');
      }
   });
}

Notice that I have to recreate each path for every polygon.
Polygon.createPath() is implemented with beginPath()...moveTo()...repeated
calls to lineTo()...and finally...closePath().

It seems to me that it would be great if the Canvas context provided two new
methods: Path getPath(), which would return a path object representing the
context&#8217;s current path, and setPath(Path), which would set the current path.

Those two methods seem like they&#8217;d be easy for UAs to implement. It also
seems like they would, under certain circumstances, give a significant boost
to performance. If I have thousands of polygons, for example, I must be
paying some price for all that path building.


David
Author of Core HTML5 Canvas (corehtml5canvas.com)

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033052.html">[whatwg] Should Paths be First Class Citizens?
</A></li>
	<LI>Next message: <A HREF="033053.html">[whatwg] windowToCanvas()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75327">[ date ]</a>
              <a href="thread.html#75327">[ thread ]</a>
              <a href="subject.html#75327">[ subject ]</a>
              <a href="author.html#75327">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
