<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] WebSocket framing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebSocket%20framing&In-Reply-To=%3C4E50CA44.3020407%40bauglir.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032967.html">
   <LINK REL="Next"  HREF="075242.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] WebSocket framing</H1>
<!--htdig_noindex-->
    <B>Bronislav Klu&#269;ka</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebSocket%20framing&In-Reply-To=%3C4E50CA44.3020407%40bauglir.com%3E"
       TITLE="[whatwg] WebSocket framing">Bronislav.Klucka at bauglir.com
       </A><BR>
    <I>Sun Aug 21 02:05:08 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="032967.html">[whatwg] Getting started with the W3C AR Community Group
</A></li>
        <LI>Next message: <A HREF="075242.html">[whatwg] WebSocket framing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32968">[ date ]</a>
              <a href="thread.html#32968">[ thread ]</a>
              <a href="subject.html#32968">[ subject ]</a>
              <a href="author.html#32968">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hello,
I'm looking at current WebSocket interface specification
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/complete/network.html#the-websocket-interface">http://www.whatwg.org/specs/web-apps/current-work/complete/network.html#the-websocket-interface</A>

1/ and I'm missing the ability to specify, whether data to be sent are 
final or not (whether the frame to be sent should be continuous or not)
I suppose some parameter for specifying final/continuing frame should be 
there, or some new methods for framing. I've tried to send 100 MiB text 
from Chrome for testing purposes and since there is no way to specify 
framing it was send in one piece.  There is no way to stream data from 
client to server, all data must be kept in memory and sent at once.

2/ The same issue for receiving. I understand the need for simple API. 
But again, there is streaming ability missing, all data are received at 
once. Receiving large amount of data could hang up browser. There should 
be onFrameMessage event intercepting frames one by one and (probably by 
some event property) define, whether all those frames should be cached 
and finally exposed by onMessage event (true by default). Programmer 
than can choose to ignore such event (not implement it) and receive all 
messages by onmessage event or implement it, use it for streaming, and 
possibly prevent onMessage calls and unnecessary caching of large data

3/ MessageEvent should expose what kind of data was received, textual, 
blob or arrayBuffer. This would prevent testing for data type and 
problems with testing |binaryType 
&lt;<A HREF="http://dev.w3.org/html5/websockets/#dom-websocket-binarytype">http://dev.w3.org/html5/websockets/#dom-websocket-binarytype</A>&gt; |property 
if changed during data receiving.

Brona Klucka
</PRE>













<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032967.html">[whatwg] Getting started with the W3C AR Community Group
</A></li>
	<LI>Next message: <A HREF="075242.html">[whatwg] WebSocket framing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32968">[ date ]</a>
              <a href="thread.html#32968">[ thread ]</a>
              <a href="subject.html#32968">[ subject ]</a>
              <a href="author.html#32968">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
