<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] File API Streaming Blobs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20File%20API%20Streaming%20Blobs&In-Reply-To=%3C4E42F2A1.9030608%40jumis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075143.html">
   <LINK REL="Next"  HREF="075177.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] File API Streaming Blobs</H1>
<!--htdig_noindex-->
    <B>Charles Pritchard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20File%20API%20Streaming%20Blobs&In-Reply-To=%3C4E42F2A1.9030608%40jumis.com%3E"
       TITLE="[whatwg] File API Streaming Blobs">chuck at jumis.com
       </A><BR>
    <I>Wed Aug 10 14:05:37 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="075143.html">[whatwg] File API Streaming Blobs
</A></li>
        <LI>Next message: <A HREF="075177.html">[whatwg] File API Streaming Blobs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75168">[ date ]</a>
              <a href="thread.html#75168">[ thread ]</a>
              <a href="subject.html#75168">[ subject ]</a>
              <a href="author.html#75168">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 8/9/2011 9:38 AM, Aaron Colwell wrote:
&gt;<i> FYI I'm working on an experimental extension to Chromium to allow 
</I>&gt;<i> media data to be streamed into a media element via JavaScript. Here is 
</I>&gt;<i> the draft spec 
</I>&gt;<i> &lt;<A HREF="http://html5-mediasource-api.googlecode.com/svn/tags/0.2/draft-spec/mediasource-draft-spec.html">http://html5-mediasource-api.googlecode.com/svn/tags/0.2/draft-spec/mediasource-draft-spec.html</A>&gt; and 
</I>&gt;<i> pending WebKit patch 
</I>&gt;<i> &lt;<A HREF="https://bugs.webkit.org/show_bug.cgi?id=64731">https://bugs.webkit.org/show_bug.cgi?id=64731</A>&gt; related to this work. 
</I>&gt;<i> I have simple WebM VOD playback w/ seeking working where all media 
</I>&gt;<i> data is fetched via XHR.
</I>
It's nice to see this patch.

I'm hoping to see streamed array buffers in XHR, though fetching in 
chunks can work,
given the relatively small overhead of HTTP headers vs Video content.

The WHAWG specs have a Media Stream example which uses URL createObjectURL:
navigator.getUserMedia('video user', gotStream, noStream);
function gotStream(stream) {
     video.src = URL.createObjectURL(stream);
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/complete/video-conferencing-and-peer-to-peer-communication.html#dom-mediastream">http://www.whatwg.org/specs/web-apps/current-work/complete/video-conferencing-and-peer-to-peer-communication.html#dom-mediastream</A>

The WHATWG spec seems closer to (mediaElement.createStream()).append() 
semantics.
Both WHATWG and the draft spec agree on src=uri;

File API has to toURL semantics on objects, simlar to the draft spec, 
for getting <A HREF="filesystem://">filesystem://</A> uris.

My understanding: The draft spec is simpler, intended only to be used by 
HTMLMediaElement
and only by one element at a time, without introducing a new object. In 
the long
run, it may make sense to create a media stream object, consistent with 
the WHATWG direction.

On another note, Mozilla Labs has some experiments on recording video 
from &lt;canvas&gt; (as well as general webcam, etc):
<A HREF="https://mozillalabs.com/rainbow/">https://mozillalabs.com/rainbow/</A>
<A HREF="https://github.com/mozilla/rainbow">https://github.com/mozilla/rainbow</A>
<A HREF="https://github.com/mozilla/rainbow/blob/master/content/example_canvas.html">https://github.com/mozilla/rainbow/blob/master/content/example_canvas.html</A>


-Charles


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075143.html">[whatwg] File API Streaming Blobs
</A></li>
	<LI>Next message: <A HREF="075177.html">[whatwg] File API Streaming Blobs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75168">[ date ]</a>
              <a href="thread.html#75168">[ thread ]</a>
              <a href="subject.html#75168">[ subject ]</a>
              <a href="author.html#75168">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
