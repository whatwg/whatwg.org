<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Callback driven initialization of canvas
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Callback%20driven%20initialization%20of%20canvas&In-Reply-To=%3C48FF435F.1050505%40sicking.cc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059056.html">
   <LINK REL="Next"  HREF="059041.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Callback driven initialization of canvas</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Callback%20driven%20initialization%20of%20canvas&In-Reply-To=%3C48FF435F.1050505%40sicking.cc%3E"
       TITLE="[whatwg] Callback driven initialization of canvas">jonas at sicking.cc
       </A><BR>
    <I>Wed Oct 22 08:14:39 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="059056.html">[whatwg] Callback driven initialization of canvas
</A></li>
        <LI>Next message: <A HREF="059041.html">[whatwg] Arbitrary HTML in option-elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59061">[ date ]</a>
              <a href="thread.html#59061">[ thread ]</a>
              <a href="subject.html#59061">[ subject ]</a>
              <a href="author.html#59061">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Fabien Meghazi wrote:
&gt;<i> Will it be possible for the browsers to allow an extension such as
</I>&gt;<i> canvas block ?
</I>&gt;<i> 
</I>&gt;<i> My understanding is that it won't be possible (please correct me if
</I>&gt;<i> I'm wrong, I'm not an expert) as the initialization of a canvas
</I>&gt;<i> context is done as follow :
</I>&gt;<i> 
</I>&gt;<i> var canvas = document.getElementById('tutorial');
</I>&gt;<i> if (canvas.getContext){
</I>&gt;<i>   var ctx = canvas.getContext('2d');
</I>&gt;<i>   // drawing code here
</I>&gt;<i> } else {
</I>&gt;<i>   // canvas-unsupported code here
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> But if the initialization of the canvas tag was callback driven, then
</I>&gt;<i> I guess it would be possible to do a canvas block.
</I>&gt;<i> 
</I>&gt;<i> var canvas = document.getElementById('tutorial');
</I>&gt;<i> if (canvas.getContext){
</I>&gt;<i>   canvas.getContext('2d', function(ctx) {
</I>&gt;<i>        // drawing code here
</I>&gt;<i>   });
</I>&gt;<i> } else {
</I>&gt;<i>   // canvas-unsupported code here
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> With this scheme, I guess it would be possible to hook the getContext
</I>&gt;<i> function and do whathever with the callback function (eg: call it when
</I>&gt;<i> user click the canvas element like flash block)
</I>
Callback driven features are definitely important for features where you 
want to engage the user before enabling the feature. For example the 
geolocation specs uses this pattern, as does the FileDialog interface in 
the fileupload draft.

However I'm less convinced that this applies to canvas. You could 
accomplish the same thing by turning off rendering for all canvases for 
a page until the user has opted in. This allows asynchronous opt-in from 
the user, without requiring a callback driven API for the developer.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059056.html">[whatwg] Callback driven initialization of canvas
</A></li>
	<LI>Next message: <A HREF="059041.html">[whatwg] Arbitrary HTML in option-elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59061">[ date ]</a>
              <a href="thread.html#59061">[ thread ]</a>
              <a href="subject.html#59061">[ subject ]</a>
              <a href="author.html#59061">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
