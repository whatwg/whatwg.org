<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Forms: change event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Forms%3A%20change%20event&In-Reply-To=%3C490938F1.7030006%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016882.html">
   <LINK REL="Next"  HREF="016951.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Forms: change event</H1>
<!--htdig_noindex-->
    <B>Garrett Smith</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Forms%3A%20change%20event&In-Reply-To=%3C490938F1.7030006%40gmail.com%3E"
       TITLE="[whatwg] Web Forms: change event">dhtmlkitchen at gmail.com
       </A><BR>
    <I>Wed Oct 29 21:32:49 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="016882.html">[whatwg] Web Forms: change event
</A></li>
        <LI>Next message: <A HREF="016951.html">[whatwg] Web Forms: change event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16945">[ date ]</a>
              <a href="thread.html#16945">[ thread ]</a>
              <a href="subject.html#16945">[ subject ]</a>
              <a href="author.html#16945">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> On Wed, 6 Jun 2007, Sander wrote:
</I>&gt;&gt;<i> The specs say that for &lt;select&gt; &quot;...the change event shall be fired when 
</I>&gt;&gt;<i> the selection is completed...&quot;. Does this mean that, when using a 
</I>&gt;&gt;<i> keyboard for navigation, the change event is fired when the user hits 
</I>&gt;&gt;<i> 'enter' or when she navigates from one option to another? I assume it's 
</I>&gt;&gt;<i> the former, but I just to be sure as selectboxes with change event 
</I>&gt;&gt;<i> handlers are often (ab)used for navigation purposes. So, can anyone 
</I>&gt;&gt;<i> confirm my assumption? Thanks.
</I>&gt;<i> 
</I>The HTML 4 specification[1] says:

|<i> The onchange event occurs when a control loses the input focus and its
</I>|<i> value has been modified since gaining focus.
</I>
A &quot;test case&quot;[2] I found does expects that onchange fires when the 
select has been changed and while it still has focus.

|<i> Procedure
</I>|<i>   1. Using the keyboard or an assistive technology that emulates the
</I>|<i> keyboard, move focus to the select control.
</I>|<i>   2. Using the keyboard or an assistive technology that emulates the
</I>|<i> keyboard, select a value from the menu to trigger the onChange event.
</I>
[example]

|<i> Expected results
</I>|<i>
</I>|<i>   1. A star colored according to the select option value appears when
</I>|<i> the onchange event is triggered.
</I>
Firing onchange before the select loses focus does not follow the HTML 
specification but is more useful and is what browsers mostly do.

Often, a select is used to trigger another action, such as showing more 
fields in a form. The user chooses an option and, based on the 
selection, a section of the form is shown. If the change event does not 
fire when the item is chosen, the callback will not be called and the 
user will not see the event until he changes focus by tabbing or 
clicking away.

Instead, the chagne event should (ideally) fire when a different option 
has been selected.


&gt;<i> Depends on the platform. 
</I>
Yep. Select-multiple adds one more variant.

&gt;<i> I've used different wording in HTML5, let me know 
</I>&gt;<i> if it's confusing still (it probably is), and what it should say instead.
</I>&gt;<i> 
</I>
Link or text?

It would be useful to have x-browser way to get a select change event.

The change does not bubble in all browsers.

Depending on the implementation, a change event may or may not fire on:
  * alphanumeric key press (selects an element)
  * up/down arrow key press (selects an element)
  * select via enter after arrow key press

It is generally desirable to have a select fire the event when the value 
has changed, even if it still has focus.

Garrett

[1]<A HREF="http://www.w3.org/WAI/UA/TS/html401/cp0102/0102-ONCHANGE-SELECT.html">http://www.w3.org/WAI/UA/TS/html401/cp0102/0102-ONCHANGE-SELECT.html</A>
[2]<A HREF="http://www.w3.org/TR/html401/interact/scripts.html#adef-onchange">http://www.w3.org/TR/html401/interact/scripts.html#adef-onchange</A>
-- 
comp.lang.javascript FAQ &lt;URL: <A HREF="http://jibbering.com/faq/">http://jibbering.com/faq/</A> &gt;

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016882.html">[whatwg] Web Forms: change event
</A></li>
	<LI>Next message: <A HREF="016951.html">[whatwg] Web Forms: change event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16945">[ date ]</a>
              <a href="thread.html#16945">[ thread ]</a>
              <a href="subject.html#16945">[ subject ]</a>
              <a href="author.html#16945">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
