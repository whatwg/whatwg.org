<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] video tag : loop for ever
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20video%20tag%20%3A%20loop%20for%20ever&In-Reply-To=%3C4908A897.8030603%40sicking.cc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059109.html">
   <LINK REL="Next"  HREF="059190.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] video tag : loop for ever</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20video%20tag%20%3A%20loop%20for%20ever&In-Reply-To=%3C4908A897.8030603%40sicking.cc%3E"
       TITLE="[whatwg] video tag : loop for ever">jonas at sicking.cc
       </A><BR>
    <I>Wed Oct 29 11:16:55 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="059109.html">[whatwg] video tag : loop for ever
</A></li>
        <LI>Next message: <A HREF="059190.html">[whatwg] video tag : loop for ever
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59189">[ date ]</a>
              <a href="thread.html#59189">[ thread ]</a>
              <a href="subject.html#59189">[ subject ]</a>
              <a href="author.html#59189">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Silvia Pfeiffer wrote:
&gt;<i> On Sat, Oct 25, 2008 at 6:18 PM, Jonas Sicking &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonas at sicking.cc</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i>  After thinking about this, I'm not sure that limiting playback to a
</I>&gt;&gt;&gt;&gt;&gt;<i> section of a media file will be used very often. A developer can easily
</I>&gt;&gt;&gt;&gt;&gt;<i> script the same functionality as long as they don't use the default
</I>&gt;&gt;&gt;&gt;&gt;<i> controller, so it seems to me that attributes for this aren't warranted.
</I>&gt;&gt;&gt;&gt;<i> I think they are useful if you want to:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> a) Loop a fragment (might be useful for audio for the same reason people
</I>&gt;&gt;&gt;&gt;<i> chop up a single large image to use multiple background images)
</I>&gt;&gt;&gt;<i> Does having a boolean loop attribute (also included in the DOM)
</I>&gt;&gt;&gt;<i> satisfy your needs?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> b) Use the default controls and get the right behavior. This is pretty
</I>&gt;&gt;&gt;&gt;<i> important, I don't think we should require writing a full custom set of
</I>&gt;&gt;&gt;&gt;<i> media controls just to be able to play a fragment without getting clearly
</I>&gt;&gt;&gt;&gt;<i> bogus UI.
</I>&gt;&gt;&gt;<i> I think controlling a video or audio player requires a decent
</I>&gt;&gt;&gt;<i> javascript API. Mabye we are still lacking in that respect. But I
</I>&gt;&gt;&gt;<i> don't think start and end should be a feature of html elements,
</I>&gt;&gt;&gt;<i> because if they are mainly used for dynamic stuff, they are not well
</I>&gt;&gt;&gt;<i> expressed as attributes.
</I>&gt;&gt;<i> It sounds to me like there are 3 proposals:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1. Have 'start' and 'end' as content attributes. This means that they
</I>&gt;&gt;<i>   are accessible though getAttribute/setAttribute and &lt;video start=...
</I>&gt;&gt;<i>   end=...&gt; in the markup).
</I>&gt;&gt;<i>   They are also available as DOM attributes, i.e. myVideo.start = ...
</I>&gt;&gt;<i>   myVideo.end = ...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2. Allow a fragment identifier to be specified in the src that specifies
</I>&gt;&gt;<i>   a part of the file to be played.
</I>&gt;&gt;<i>   Expose DOM attributes to control the start and the end, i.e.
</I>&gt;&gt;<i>   myVideo.start = ..., myVideo.end = ...
</I>&gt;&gt;<i>   Setting these attributes would change the value of the fragment
</I>&gt;&gt;<i>   identifier in the src attribute and thus which part is being played
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 3. Allow a fragment identifier to be specified in the src that specifies
</I>&gt;&gt;<i>   a part of the file to be played.
</I>&gt;&gt;<i>   Don't expose myVideo.start or myVideo.end DOM attributes. Instead
</I>&gt;&gt;<i>   address the use case of having multiple sound effects in a single
</I>&gt;&gt;<i>   downloaded file in some other way (for example using zip files,
</I>&gt;&gt;<i>   playlists, or simply letting people set the fragment identifier
</I>&gt;&gt;<i>   manually using the src attribute)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There is also the somewhat orthogonal issue of if the default UI should only
</I>&gt;&gt;<i> display the selected range (be it if the selection happens through content
</I>&gt;&gt;<i> start/end attributes or a fragment identifier).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I would personally be fine with all three proposals. The risk with proposals
</I>&gt;&gt;<i> 1 and 2 that I see is that a implementation might be expected to download
</I>&gt;&gt;<i> the whole file even if just part of it is specified to be played so that
</I>&gt;&gt;<i> transitions can happen rapidly.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Just to clarify: the specification of a media fragment in a URI is
</I>&gt;<i> supposed to enable receiving of just the specified fragment, not only
</I>&gt;<i> the full resource. The media fragments Working Group is creating a
</I>&gt;<i> specificaton that will enable that.
</I>&gt;<i> 
</I>&gt;<i> I actually think that your options 2 and 3 are orthogonal. 2 is about
</I>&gt;<i> playing (and looping over) a media fragment, while 3 is about creating
</I>&gt;<i> a playlist of multiple media resources (potentially also having a
</I>&gt;<i> fragment specifier).
</I>
Sorry, I think I was being unclear.

Maciej (and I think others) have suggested that it would be useful if it 
was possible to allow &lt;audio&gt; to be used such that a single file can be 
downloaded that contains multiple sound effects, and then use javascript 
to play different sound effects contained in that file at various times.

For example someone creating a shoot-em-up game might create a file that 
contains the sound for &quot;shoot weapon&quot;, &quot;enemy exploding&quot;, &quot;player 
dying&quot;, and &quot;player finishes level&quot;. It can then when appropriate use 
javascript to play any one of these sound effects.

I have heard three proposed &quot;solutions&quot; for this use case:

1. Have start=&quot;..&quot; and end=&quot;..&quot; content attributes.  This means that
    they are accessible though getAttribute/setAttribute and
    &lt;audio start=... end=...&gt; in the markup).
    They are also available as DOM attributes, i.e. myAudio.start = ...
    myAudio.end = ...
    So to play a specific sound effect script would do:
    myAudio.start = enemyExplodingStart;
    myAudio.end = enemyExplodingEnd;
    myAudio.play();

2. Allow a fragment identifier to be specified in the src that specifies
    a part of the file to be played.
    Expose DOM attributes to control the start and the end, i.e.
    myAudio.start = ..., myAudio.end = ...
    Setting these attributes would change the value of the fragment
    identifier in the src attribute and thus which part is being played.
    To play a specific sound effect script would do:
    myAudio.start = enemyExplodingStart;
    myAudio.end = enemyExplodingEnd;
    myAudio.play();

3. Not add specific support to &lt;audio&gt; for now. Instead rely on
    specifications such as xspf playlists or jar protocols.
    It would still be possible for a page to do:
    myAudio.src = audioURL + &quot;#start=&quot; + enemyExplodingStart +
                  &quot;;end=&quot; + enemyExplodingEnd;
    myAudio.play();

My concern with 2 (and 3 if people use the .src=... hack) is that it'll 
work as long as the server doesn't support downloading just a range 
since then the browser sucks down the whole file and can quickly jump to 
any part. However it stops working smoothly once servers support 
fragment downloads since then the browser will only have part of the file.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059109.html">[whatwg] video tag : loop for ever
</A></li>
	<LI>Next message: <A HREF="059190.html">[whatwg] video tag : loop for ever
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59189">[ date ]</a>
              <a href="thread.html#59189">[ thread ]</a>
              <a href="subject.html#59189">[ subject ]</a>
              <a href="author.html#59189">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
