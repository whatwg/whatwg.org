<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Spec comments, sections 4.9-4.10
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Spec%20comments%2C%20sections%204.9-4.10&In-Reply-To=%3C7c2a12e20909060257j2c491fffh15492673a4596b0f%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022696.html">
   <LINK REL="Next"  HREF="022930.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Spec comments, sections 4.9-4.10</H1>
<!--htdig_noindex-->
    <B>Aryeh Gregor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Spec%20comments%2C%20sections%204.9-4.10&In-Reply-To=%3C7c2a12e20909060257j2c491fffh15492673a4596b0f%40mail.gmail.com%3E"
       TITLE="[whatwg] Spec comments, sections 4.9-4.10">Simetrical+w3c at gmail.com
       </A><BR>
    <I>Sun Sep  6 02:57:44 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="022696.html">[whatwg] Spec comments, sections 4.9-4.10
</A></li>
        <LI>Next message: <A HREF="022930.html">[whatwg] Spec comments, sections 4.9-4.10
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22710">[ date ]</a>
              <a href="thread.html#22710">[ thread ]</a>
              <a href="subject.html#22710">[ subject ]</a>
              <a href="author.html#22710">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Sep 4, 2009 at 7:42 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i> (BTW, section names are more useful than section numbers because the
</I>&gt;<i> sections move about a lot, and because the section numbers aren't in my
</I>&gt;<i> source document, so I have to go and look up which section it is first.)
</I>
Ah, okay.  I'll use section names in the future.

&gt;&gt;<i> In 4.10.4:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It's a little confusing that no visual distinction is made between
</I>&gt;&gt;<i> content attributes and DOM attributes here. &#160;I thought it was an error
</I>&gt;&gt;<i> that checked occurred twice, for instance. &#160;(Or is it an error? Things
</I>&gt;&gt;<i> like max and min only occur once even though they have both content and
</I>&gt;&gt;<i> DOM attributes.)
</I>&gt;<i>
</I>&gt;<i> Do you mean in the table?
</I>
Yes.

&gt;<i> I'm not really sure what you mean here.
</I>&gt;<i>
</I>&gt;<i> &#160;- There's the element's &quot;value&quot; content attribute.
</I>&gt;<i> &#160;- There's the element's &quot;value&quot; DOM attribute.
</I>&gt;<i> &#160;- There's the &quot;value&quot; mode that the &quot;value&quot; DOM attribute can be in.
</I>&gt;<i> &#160;- There's the element's &quot;defaultValue&quot; DOM attribute (which reflects the
</I>&gt;<i> &#160; element's &quot;value&quot; content attribute).
</I>&gt;<i> &#160;- There's the element's actual value.
</I>&gt;<i> &#160;- There's the value exposed to the user.
</I>&gt;<i>
</I>&gt;<i> Are you asking that the fifth of these (the value concept) should be
</I>&gt;<i> renamed to something else?
</I>
I'm not really sure, I just know I got confused by which &quot;value&quot; was
being referred to in various cases.  I'm not sure I can suggest any
better wording, because I think I still don't understand what &quot;value&quot;
is being referred to in a lot of cases.

&gt;&gt;<i> Likewise, sentences like &quot;Unless otherwise specified, the user agent
</I>&gt;&gt;<i> should not allow the user to modify the element's value or checkedness.&quot;
</I>&gt;&gt;<i> are very perplexing. &#160;It would make more sense at first sight if it said
</I>&gt;&gt;<i> &quot;. . . the element's default value or default checkedness.&quot;
</I>&gt;<i>
</I>&gt;<i> What's the element's default value or default checkedness?
</I>
I guess it's the same as the value content attribute, actually.  Or
the presence/absence of the checked content attribute.

&gt;<i> It means that the internal states named &quot;value&quot; and &quot;checkedness&quot; can't be
</I>&gt;<i> changed by the user unless otherwise stated. These aren't default
</I>&gt;<i> anythings, and can have little to no bearing on what is exposed through
</I>&gt;<i> the DOM or markup.
</I>
So this is overridden for a lot of things by saying &quot;the user agent
should allow the user to change X&quot;, then, and you really mean the
actual current value that will be submitted with the form.  I didn't
get that at all from reading it; I thought it referred to the
value/checked content attributes or something, because saying that the
current/submittable value couldn't be changed unless otherwise stated
seemed very unlikely to me.  The general rule is it *can* be changed,
in practice, with some exceptions, so this way of stating it seems
backwards (and thus confusing given all the meanings of &quot;value&quot; flying
around).

&gt;&gt;<i> In 4.10.4.1.2:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What's the purpose of type=search? &#160;Is it envisioned that this be used
</I>&gt;&gt;<i> as an inline substitute for OpenSearch, for instance? Or is it mainly
</I>&gt;&gt;<i> intended to allow separate styling (e.g., to match platform
</I>&gt;&gt;<i> conventions)? &#160;I can't find any practical normative difference, so it
</I>&gt;&gt;<i> would be useful if there were an informative note making it clear what
</I>&gt;&gt;<i> some differences might be in practice.
</I>&gt;<i>
</I>&gt;<i> The difference is stylistic. Compare the two in Safari.
</I>
I think more informative notes about the purpose of things like this
would make the spec a lot easier to comprehend.

&gt;&gt;<i> In 4.10.4.1.7:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &quot;If the element is mutable, the user agent should allow the user to
</I>&gt;&gt;<i> change the global date and time represented by its value, as obtained by
</I>&gt;&gt;<i> parsing a global date and time from it. User agents must not allow the
</I>&gt;&gt;<i> user to set the value to a string that is not a valid global date and
</I>&gt;&gt;<i> time string expressed in UTC, though user agents may allow the user to
</I>&gt;&gt;<i> set and view the time in another time zone and silently translate the
</I>&gt;&gt;<i> time to and from the UTC time zone in the value. If the user agent
</I>&gt;&gt;<i> provides a user interface for selecting a global date and time, then the
</I>&gt;&gt;<i> value must be set to a valid global date and time string expressed in
</I>&gt;&gt;<i> UTC representing the user's selection. User agents should allow the user
</I>&gt;&gt;<i> to set the value to the empty string.&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This paragraph looks repetitive to me. &#160;I think the third sentence can
</I>&gt;&gt;<i> just be dropped, unless I'm missing something -- does it add anything?
</I>&gt;<i>
</I>&gt;<i> This paragraph is setting out precisely what the requirements are for user
</I>&gt;<i> agents. The four sentences each cover a slightly different aspect of the
</I>&gt;<i> requirements.
</I>&gt;<i>
</I>&gt;<i> They don't seem to overlap at all -- the first says that the UI needs to
</I>&gt;<i> allow changes, the second that if the user can set the value directly, the
</I>&gt;<i> UA needs to prevent invalid values from being set, the third says that if
</I>&gt;<i> the UA allows the user to set the value using some sort of UI, that the UI
</I>&gt;<i> should convert the value to one of those valid things, and the fourth one
</I>&gt;<i> says that in addition, the UA can allow the user to reset the value to
</I>&gt;<i> nothing.
</I>
As I'm reading it, the first two sentences imply the third.  The user
must be allowed to change it, but not to invalid values; so obviously
any input mechanism that's provided must only allow valid values to be
input.  What incorrect behavior does the third sentence rule out,
which the rest of the spec would permit?

&gt;&gt;<i> 1) If the user goes to another page (e.g., submits the form) and then
</I>&gt;&gt;<i> goes back, the form will be emptied of whatever he entered into it. (At
</I>&gt;&gt;<i> least in the versions of Firefox and Chrome I've tried it in -- I didn't
</I>&gt;&gt;<i> test systematically.)
</I>&gt;<i>
</I>&gt;<i> . . .
</I>&gt;<i>
</I>&gt;&gt;<i> I guess that in HTML 5, the correct way to implement this behavior would
</I>&gt;&gt;<i> be to dynamically populate a datalist element. &#160;Perhaps some (possibly
</I>&gt;&gt;<i> informative) wording should be added to this effect, saying that authors
</I>&gt;&gt;<i> shouldn't use autocomplete just to replace the default suggestions list?
</I>&gt;&gt;<i> (Although of course they will until UAs support datalist, regardless of
</I>&gt;&gt;<i> what the spec says.)
</I>&gt;<i>
</I>&gt;<i> I haven't mentioned datalist here.
</I>
Any reason why not?  Point (1) can actually make this use of
autocomplete very annoying.  In the case of Google and Wikipedia it
doesn't really matter, because they provide a new, identical search
box on the search results page, so you have no reason to go back.  But
in other cases it can be pretty irritating.  For instance, on this
page:

<A HREF="http://www.vbulletin.com/forum/search.php">http://www.vbulletin.com/forum/search.php</A>

There are a bunch of options, so you fill in a lot of them (including
username, which is auto-completed by JS).  Then you do the search, and
realize you got one option wrong.  So you hit back, change the option,
resubmit . . . and find that now the search is still wrong, because
the username field was blanked when you went back.

&gt;<i> &quot;readonly&quot; means that the value should be selectable for copy-and-paste
</I>&gt;<i> (thus it makes no sense for buttons and other non-text controls to be
</I>&gt;<i> readonly), while &quot;disabled&quot; means that the control should not be
</I>&gt;<i> responsive to user interaction.
</I>&gt;<i>
</I>&gt;<i> These conventions are common to most GUI systems.
</I>
Is this behavior specified anywhere?  If not, it seems like it should
be, even if some subset of readers would be expected to guess it from
familiarity with the conventions of GUI systems.

&gt;&gt;<i> In 4.10.5:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It's not clear from reading the spec what the difference is between
</I>&gt;&gt;<i> buttons and inputs of the same type. &#160;Is there any?
</I>&gt;<i>
</I>&gt;<i> Not especially. You set their labels differently, and there are a few
</I>&gt;<i> minor differences like that, but nothing major.
</I>
Then why do both exist, rather than removing one or the other as with
abbr/acronym and so on?  Too many sites using &lt;button&gt; that you don't
want to gratuitously invalidate?

Assuming both are kept, this is another case where a brief informative
note would be helpful -- it's logical to expect that new features add
something new, and if you can't spot the difference you're left
uncertain as to whether there is any.

&gt;&gt;<i> In 4.10.10:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &quot;The purposes of this requirement, lines are delimited by the start of
</I>&gt;&gt;<i> the string, the end of the string, and U+000D CARRIAGE RETURN - U+000A
</I>&gt;&gt;<i> LINE FEED (CRLF) character pairs.&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I can't parse this sentence.
</I>&gt;<i>
</I>&gt;<i> Does it make more sense with a &quot;for&quot; in front? :-)
</I>
Yes, it does.  :)

&gt;&gt;<i> I can find two uses of the invalid event (are there more?), but I'm
</I>&gt;&gt;<i> not sure what it's meant to do. &#160;You can cancel it to make sure an
</I>&gt;&gt;<i> element is treated as valid for form submission -- although then
</I>&gt;&gt;<i> you'll confuse the entire rest of the constraint validation API -- but
</I>&gt;&gt;<i> why is it called on checkValidity()? &#160;I'm not sure what it's meant to
</I>&gt;&gt;<i> be used for. &#160;Or, consequently, what checkValidity() is meant to be
</I>&gt;&gt;<i> used for, as opposed to validity.valid (since the only difference
</I>&gt;&gt;<i> seems to be firing an invalid event).
</I>&gt;<i>
</I>&gt;<i> checkValidity() on the &lt;form&gt; element tells you if the form is valid.
</I>&gt;<i>
</I>&gt;<i> oninvalid=&quot;&quot; can be used to override the constraints in particular cases.
</I>&gt;<i> For example, ignoring a pattern=&quot;&quot; attribute in certain edge cases, like
</I>&gt;<i> if a checkbox saying &quot;don't validate&quot; is checked or something.
</I>
I see.  Again, it would be helpful for the spec to give some idea of
how authors are intended to use these features.  In this case an
example would serve as well as a note.
</PRE>







































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022696.html">[whatwg] Spec comments, sections 4.9-4.10
</A></li>
	<LI>Next message: <A HREF="022930.html">[whatwg] Spec comments, sections 4.9-4.10
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22710">[ date ]</a>
              <a href="thread.html#22710">[ thread ]</a>
              <a href="subject.html#22710">[ subject ]</a>
              <a href="author.html#22710">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
