<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Global Script proposal.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal.&In-Reply-To=%3CPine.LNX.4.62.0909141138120.14605%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065042.html">
   <LINK REL="Next"  HREF="065262.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Global Script proposal.</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal.&In-Reply-To=%3CPine.LNX.4.62.0909141138120.14605%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Global Script proposal.">ian at hixie.ch
       </A><BR>
    <I>Mon Sep 14 04:41:36 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="065042.html">[whatwg] Global Script proposal.
</A></li>
        <LI>Next message: <A HREF="065262.html">[whatwg] Global Script proposal.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65207">[ date ]</a>
              <a href="thread.html#65207">[ thread ]</a>
              <a href="subject.html#65207">[ subject ]</a>
              <a href="author.html#65207">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, 7 Sep 2009, Dimitri Glazkov wrote:
&gt;<i> On Sat, Aug 29, 2009 at 2:40 PM, Ian Hickson&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; Another case is an application that uses navigation from page to page 
</I>&gt;<i> &gt;&gt; using menu or some site navigation mechanism. Global Script Context 
</I>&gt;<i> &gt;&gt; could keep the application state so it doesn't have to be 
</I>&gt;<i> &gt;&gt; round-tripped via server in a cookie or URL.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; You can keep the state using sessionStorage or localStorage, or you 
</I>&gt;<i> &gt; can use pushState() instead of actual navigation.
</I>&gt;<i> 
</I>&gt;<i> First off, sessionStorage and localStorage are not anywhere close to 
</I>&gt;<i> being useful if you're dealing with the actual DOM objects. The JS code 
</I>&gt;<i> that would freeze-dry them and bring back to life will make the whole 
</I>&gt;<i> exercise cost-prohibitive.
</I>
Indeed. I don't see why you would want to be keeping nodes alive while 
navigating to entirely new documents though.


&gt;<i> But more to the point, I think globalScript is a good replacement for 
</I>&gt;<i> the pushState additions to the History spec. I've been reading up on the 
</I>&gt;<i> spec an the comments made about pushState and I am becoming somewhat 
</I>&gt;<i> convinced that pushState is confusing, hard to get right, and full of 
</I>&gt;<i> fail. You should simply look at the motivation behind building JS-based 
</I>&gt;<i> history state managers -- it all becomes fairly clear.
</I>&gt;<i> 
</I>&gt;<i> The best analogy I can muster is this: pushHistory is like creating 
</I>&gt;<i> Rhoad's-like kinetic machines for moving furniture around the house in 
</I>&gt;<i> an effort to keep the tenant standing still. Whereas globalScript 
</I>&gt;<i> proposes to just let the poor slob to walk to the chest to get the damn 
</I>&gt;<i> socks.
</I>&gt;<i> 
</I>&gt;<i> My big issue with pushHistory is that it messes with the nature of the 
</I>&gt;<i> Web: a URL is a resource you request from the server. Not something you 
</I>&gt;<i> arrive to via clever sleight of hand in a user agent. So, you've managed 
</I>&gt;<i> to pushState your way to a.com/some/path/10/clicks/from/the/home/page. 
</I>&gt;<i> Now the user bookmarks it. What are you going to do know? Intuitively, 
</I>&gt;<i> it feels like we should be improving the user agent to eliminate the 
</I>&gt;<i> need for mucking with history, not providing more tools to encourage it.
</I>
The only criticism of substance in the above -- that pushState() lets you 
change the URL of the current page when you change the page dynamically -- 
is pretty much the entire point of the feature, and I don't understand why 
it's bad. I certainly don't want to require that every pan on Google Maps 
require a new page load.


On Tue, 8 Sep 2009, Anne van Kesteren wrote:
&gt;<i>
</I>&gt;<i> If JavaScript can be somehow kept-alive while navigating to a new page 
</I>&gt;<i> within a single domain, be in control of what is displayed and without 
</I>&gt;<i> security issues and all that'd be rather cool and also solve the issue.
</I>
This seems substantially less preferable, performance-wise, than having a 
single Document and script, using pushState().

The pushState() model is basically fixing the AJAX model to work right; it 
seems like a good thing to me.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065042.html">[whatwg] Global Script proposal.
</A></li>
	<LI>Next message: <A HREF="065262.html">[whatwg] Global Script proposal.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65207">[ date ]</a>
              <a href="thread.html#65207">[ thread ]</a>
              <a href="subject.html#65207">[ subject ]</a>
              <a href="author.html#65207">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
