<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Application defined &quot;locks&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Application%20defined%20%22locks%22&In-Reply-To=%3C11e306600909091955x7e66e874u61dcccf6b6ecd58e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022824.html">
   <LINK REL="Next"  HREF="022859.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Application defined &quot;locks&quot;</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Application%20defined%20%22locks%22&In-Reply-To=%3C11e306600909091955x7e66e874u61dcccf6b6ecd58e%40mail.gmail.com%3E"
       TITLE="[whatwg] Application defined &quot;locks&quot;">robert at ocallahan.org
       </A><BR>
    <I>Wed Sep  9 19:55:11 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="022824.html">[whatwg] Application defined &quot;locks&quot;
</A></li>
        <LI>Next message: <A HREF="022859.html">[whatwg] Application defined &quot;locks&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22826">[ date ]</a>
              <a href="thread.html#22826">[ thread ]</a>
              <a href="subject.html#22826">[ subject ]</a>
              <a href="author.html#22826">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Sep 10, 2009 at 2:38 PM, Michael Nordman &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">michaeln at google.com</A>&gt;wrote:

&gt;<i> If this feature existed, we likely would have used it for offline Gmail to
</I>&gt;<i> coordinate which instance of the app (page with gmail in it) should be
</I>&gt;<i> responsible for sync'ing the local database with the mail service. In the
</I>&gt;<i> absence of a feature like this, instead we used the local database itself to
</I>&gt;<i> register which page was the 'syncagent'. This involved periodically updating
</I>&gt;<i> the db by the syncagent, and periodic polling by the would be syncagents
</I>&gt;<i> waiting to possibly take over. Much ugliness.
</I>&gt;<i> var isSyncAgent = false;
</I>&gt;<i> window.acquireFlag(&quot;syncAgency&quot;, function() { isSyncAgent = true; });
</I>&gt;<i>
</I>&gt;<i> Much nicer.
</I>&gt;<i>
</I>
How do you deal with the user closing the syncagent while other app
instances remain open?

Rob
-- 
&quot;He was pierced for our transgressions, he was crushed for our iniquities;
the punishment that brought us peace was upon him, and by his wounds we are
healed. We all, like sheep, have gone astray, each of us has turned to his
own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
53:5-6]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090910/56406cc2/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090910/56406cc2/attachment.htm</A>&gt;
</PRE>


































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022824.html">[whatwg] Application defined &quot;locks&quot;
</A></li>
	<LI>Next message: <A HREF="022859.html">[whatwg] Application defined &quot;locks&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22826">[ date ]</a>
              <a href="thread.html#22826">[ thread ]</a>
              <a href="subject.html#22826">[ subject ]</a>
              <a href="author.html#22826">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
