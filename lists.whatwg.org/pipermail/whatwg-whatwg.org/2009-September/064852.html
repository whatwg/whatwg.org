<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fakepath revisited
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fakepath%20revisited&In-Reply-To=%3Ce89c552e0909022307n453434c5x6f59084fc79c51b3%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065179.html">
   <LINK REL="Next"  HREF="064855.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fakepath revisited</H1>
<!--htdig_noindex-->
    <B>Alex Henrie</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fakepath%20revisited&In-Reply-To=%3Ce89c552e0909022307n453434c5x6f59084fc79c51b3%40mail.gmail.com%3E"
       TITLE="[whatwg] Fakepath revisited">alexhenrie24 at gmail.com
       </A><BR>
    <I>Wed Sep  2 23:07:16 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="065179.html">[whatwg] Setting document.location.hash to a not-yet-loaded	element
</A></li>
        <LI>Next message: <A HREF="064855.html">[whatwg] Fakepath revisited
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64852">[ date ]</a>
              <a href="thread.html#64852">[ thread ]</a>
              <a href="subject.html#64852">[ subject ]</a>
              <a href="author.html#64852">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Dear WHATWG,

I would like to revisit HTML5 section 4.10.4.3, as circumstances have
changed since it was last discussed. For those of you not familiar
with the issue, section 4.10.4.3 defines the value property of &lt;input
type=&quot;file&quot;/&gt; elements. This behavior is not currently consistent
across all browsers. For example, if I were uploading a file called
&quot;upload.txt&quot; into input element &quot;foo&quot;, foo.value would be...

In Firefox 3: &quot;upload.txt&quot;
In Safari 4: &quot;upload.txt&quot;
In Chrome 2: &quot;upload.txt&quot;
In Internet Explorer 8: &quot;C:\fakepath\upload.txt&quot;
In Opera 10: &quot;C:\fakepath\upload.txt&quot;

Firefox, Safari, and Chrome have an intuitive behavior that requires
no extra parsing and no workarounds such as using &quot;foo.files[0]&quot;
instead. This behavior also reflects what is sent on to the web
server, which all browsers agree should be simply &quot;upload.txt&quot;.

IE and Opera recognize that some web pages, in particular some old
router firmwares, are poorly designed. These firmwares were designed
to apply superfluous validation to foo.value, only allowing new
firmware to be uploaded from Windows, and only in an old web browser
which provides the full path to the file. So, to make sure that users
can upgrade the firmware of these old routers, but not wanting to
reveal to the web page the actual path to the file, IE and Opera
append &quot;C:\fakepath\&quot; to foo.value, thus confusing new web developers
but ensuring compatibility with poorly designed software.

HTML5 would declare IE and Opera's &quot;fakepath&quot; behavior to be
&quot;standard&quot; and Firefox, Safari, and Chrome's behavior to be
&quot;nonstandard&quot;. HTML5 assumes that Mozilla, Apple, and Google are
willing to change their browsers' behavior to match IE and Opera.
However, as far as I can tell, none of these companies plan to do so.
Further, HTML5 expects us web developers to work around the fakepath
behavior for the next 20+ years in the name of compatibility.

A better solution exists: drop the fakepath requirement. Browsers that
desire extra compatibility can add fakepath to their compatibility
modes as they choose. Like other compatibility mode behavior,
implementation would be voluntary and not governed by the W3C. And
even without browser compatibility modes, bookmarklets, GreaseMonkey
scripts, and other tools will surface to help mitigate the problem.

The bottom line is that no web developer wants to have a confusing,
unintuitive, and very permanent standard. Please remove this
requirement from HTML5 before it becomes a standard. Don't punish all
web developers for the poor past designs of the few.

Sincerely,

Alex Henrie

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065179.html">[whatwg] Setting document.location.hash to a not-yet-loaded	element
</A></li>
	<LI>Next message: <A HREF="064855.html">[whatwg] Fakepath revisited
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64852">[ date ]</a>
              <a href="thread.html#64852">[ thread ]</a>
              <a href="subject.html#64852">[ subject ]</a>
              <a href="author.html#64852">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
