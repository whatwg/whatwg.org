<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Criticism of pushState (was Global Script proposal)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Criticism%20of%20pushState%20%28was%20Global%20Script%20proposal%29&In-Reply-To=%3Cc84706c70909071953x1453b925vaa31700a5e6ae4ef%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065414.html">
   <LINK REL="Next"  HREF="065013.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Criticism of pushState (was Global Script proposal)</H1>
<!--htdig_noindex-->
    <B>Justin Lebar</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Criticism%20of%20pushState%20%28was%20Global%20Script%20proposal%29&In-Reply-To=%3Cc84706c70909071953x1453b925vaa31700a5e6ae4ef%40mail.gmail.com%3E"
       TITLE="[whatwg] Criticism of pushState (was Global Script proposal)">justin.lebar at gmail.com
       </A><BR>
    <I>Mon Sep  7 19:53:26 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="065414.html">[whatwg] Spec comments, section 4.11
</A></li>
        <LI>Next message: <A HREF="065013.html">[whatwg] Criticism of pushState (was Global Script proposal)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65012">[ date ]</a>
              <a href="thread.html#65012">[ thread ]</a>
              <a href="subject.html#65012">[ subject ]</a>
              <a href="author.html#65012">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> Dimitri Glazkov wrote:
</I>&gt;<i> But more to the point, I think globalScript is a good replacement for
</I>&gt;<i> the pushState additions to the History spec.
</I>
I'm not sure I agree. &#160;pushState lets you change the URI very quickly,
without doing any kind of navigation at all. &#160;To emulate a pushSate
with globalScript, you'd have to save and restore the whole document,
and the browser would still have to do at least one network request,
unless you were only changing the hash of the URI.

&gt;<i> I am becoming
</I>&gt;<i> somewhat convinced that pushState is confusing, hard to get right, and
</I>&gt;<i> full of fail. You should simply look at the motivation behind building
</I>&gt;<i> JS-based history state managers -- it all becomes fairly clear.
</I>
Could you elaborate on these points? &#160;It seems to me that pushState
attacks a specific problem and delivers a simple solution which is
much better than the current workarounds (using the URL's hash to
identify a page and store state). &#160;Yes, it's nontrivial to develop an
AJAX app which uses pushState and works correctly with bookmarking and
page refreshes. &#160;On the other hand, pushState makes this a lot easier
than it would be otherwise.

&gt;<i> My big issue with pushHistory is that it messes with the nature of the
</I>&gt;<i> Web: a URL is a resource you request from the server. Not something
</I>&gt;<i> you arrive to via clever sleight of hand in a user agent.
</I>
Like it or not, this ship has already sailed. &#160;When I load Gmail, I'm
taken to <A HREF="https://mail.google.com/mail/#inbox,">https://mail.google.com/mail/#inbox,</A> but my browser never
sends &quot;#inbox&quot; to the server as part of the HTTP request. &#160;Pandora and
Facebook do something like this too. &#160;Perhaps the new intuition is
that a URL tells you how to get back to where you were.

&gt;<i> So, you've managed to pushState your way to
</I>&gt;<i> a.com/some/path/10/clicks/from/the/home/page. Now the user bookmarks
</I>&gt;<i> it. What are you going to do know?
</I>
When reading this message in Gmail, my browser shows that I'm at
<A HREF="https://mail.google.com/mail/#label/WhatWG/{guid">https://mail.google.com/mail/#label/WhatWG/{guid</A>} . &#160;If I bookmark
this page and go back to it, Gmail takes me back to this exact
message. &#160;There's no actual resource named #label/WhatWG/{guid} on
Google's servers, but the URL I bookmarked is sufficient to identify
where I was, and Gmail's servers were intelligent enough to take me
there.

Maybe you think that Gmail's URLs should name &quot;real&quot; resources; maybe
they should look like
<A HREF="https://mail.google.com/mail.cgi?label=WhatWG&amp;message={guid">https://mail.google.com/mail.cgi?label=WhatWG&amp;message={guid</A>} or
something. &#160;I'm not convinced this is better, but even if it suits
you, pushState still helps you navigate between mail.cgi?label=WhatWG
and mail.cgi?label=Drafts without a page refresh.

I think pushState API is really useful, but what do I know? &#160;We're
going to land it in Firefox trunk Real Soon Now, so developers and
members of this list will be able to play with it and decide for
themselves whether it's the right API to solve the problem at hand.

-Justin

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065414.html">[whatwg] Spec comments, section 4.11
</A></li>
	<LI>Next message: <A HREF="065013.html">[whatwg] Criticism of pushState (was Global Script proposal)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65012">[ date ]</a>
              <a href="thread.html#65012">[ thread ]</a>
              <a href="subject.html#65012">[ subject ]</a>
              <a href="author.html#65012">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
