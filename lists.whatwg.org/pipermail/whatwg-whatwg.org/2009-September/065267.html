<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Global Script proposal.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal.&In-Reply-To=%3Cfa2eab050909151901q7798edddg11e746de486d6293%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065262.html">
   <LINK REL="Next"  HREF="065350.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Global Script proposal.</H1>
<!--htdig_noindex-->
    <B>Michael Nordman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal.&In-Reply-To=%3Cfa2eab050909151901q7798edddg11e746de486d6293%40mail.gmail.com%3E"
       TITLE="[whatwg] Global Script proposal.">michaeln at google.com
       </A><BR>
    <I>Tue Sep 15 19:01:35 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="065262.html">[whatwg] Global Script proposal.
</A></li>
        <LI>Next message: <A HREF="065350.html">[whatwg] Global Script proposal.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65267">[ date ]</a>
              <a href="thread.html#65267">[ thread ]</a>
              <a href="subject.html#65267">[ subject ]</a>
              <a href="author.html#65267">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> to say that every app should necessarily be a single complex AJAX page
</I>morphing itself.&gt; That in itself may be a serious limitation.

Agree very much so.

On Tue, Sep 15, 2009 at 5:54 PM, Dmitry Titov &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dimich at chromium.org</A>&gt; wrote:

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, Sep 14, 2009 at 4:41 AM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On Mon, 7 Sep 2009, Dimitri Glazkov wrote:
</I>&gt;&gt;<i> &gt; On Sat, Aug 29, 2009 at 2:40 PM, Ian Hickson&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; &gt;&gt; Another case is an application that uses navigation from page to page
</I>&gt;&gt;<i> &gt; &gt;&gt; using menu or some site navigation mechanism. Global Script Context
</I>&gt;&gt;<i> &gt; &gt;&gt; could keep the application state so it doesn't have to be
</I>&gt;&gt;<i> &gt; &gt;&gt; round-tripped via server in a cookie or URL.
</I>&gt;&gt;<i> &gt; &gt;
</I>&gt;&gt;<i> &gt; &gt; You can keep the state using sessionStorage or localStorage, or you
</I>&gt;&gt;<i> &gt; &gt; can use pushState() instead of actual navigation.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; First off, sessionStorage and localStorage are not anywhere close to
</I>&gt;&gt;<i> &gt; being useful if you're dealing with the actual DOM objects. The JS code
</I>&gt;&gt;<i> &gt; that would freeze-dry them and bring back to life will make the whole
</I>&gt;&gt;<i> &gt; exercise cost-prohibitive.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Indeed. I don't see why you would want to be keeping nodes alive while
</I>&gt;&gt;<i> navigating to entirely new documents though.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; But more to the point, I think globalScript is a good replacement for
</I>&gt;&gt;<i> &gt; the pushState additions to the History spec. I've been reading up on the
</I>&gt;&gt;<i> &gt; spec an the comments made about pushState and I am becoming somewhat
</I>&gt;&gt;<i> &gt; convinced that pushState is confusing, hard to get right, and full of
</I>&gt;&gt;<i> &gt; fail. You should simply look at the motivation behind building JS-based
</I>&gt;&gt;<i> &gt; history state managers -- it all becomes fairly clear.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; The best analogy I can muster is this: pushHistory is like creating
</I>&gt;&gt;<i> &gt; Rhoad's-like kinetic machines for moving furniture around the house in
</I>&gt;&gt;<i> &gt; an effort to keep the tenant standing still. Whereas globalScript
</I>&gt;&gt;<i> &gt; proposes to just let the poor slob to walk to the chest to get the damn
</I>&gt;&gt;<i> &gt; socks.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; My big issue with pushHistory is that it messes with the nature of the
</I>&gt;&gt;<i> &gt; Web: a URL is a resource you request from the server. Not something you
</I>&gt;&gt;<i> &gt; arrive to via clever sleight of hand in a user agent. So, you've managed
</I>&gt;&gt;<i> &gt; to pushState your way to a.com/some/path/10/clicks/from/the/home/page.
</I>&gt;&gt;<i> &gt; Now the user bookmarks it. What are you going to do know? Intuitively,
</I>&gt;&gt;<i> &gt; it feels like we should be improving the user agent to eliminate the
</I>&gt;&gt;<i> &gt; need for mucking with history, not providing more tools to encourage it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The only criticism of substance in the above -- that pushState() lets you
</I>&gt;&gt;<i> change the URL of the current page when you change the page dynamically --
</I>&gt;&gt;<i> is pretty much the entire point of the feature, and I don't understand why
</I>&gt;&gt;<i> it's bad. I certainly don't want to require that every pan on Google Maps
</I>&gt;&gt;<i> require a new page load.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Tue, 8 Sep 2009, Anne van Kesteren wrote:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; If JavaScript can be somehow kept-alive while navigating to a new page
</I>&gt;&gt;<i> &gt; within a single domain, be in control of what is displayed and without
</I>&gt;&gt;<i> &gt; security issues and all that'd be rather cool and also solve the issue.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This seems substantially less preferable, performance-wise, than having a
</I>&gt;&gt;<i> single Document and script, using pushState().
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It depends, right? That single Document+script would have to have all the
</I>&gt;<i> resources and code to be able to morph itself into all the possible app
</I>&gt;<i> states, preventing benefits of lazy-loading. Or, to be more efficient, it
</I>&gt;<i> should load additional resources on demand, which looks very close to
</I>&gt;<i> navigation to subsequent pages.
</I>&gt;<i>
</I>&gt;<i> Today, those natural navigations from page to page are prohibitively
</I>&gt;<i> expensive, even with caches - they are equivalent to serialization of
</I>&gt;<i> everything into some storage, terminating the app, then launching the app
</I>&gt;<i> again, loading state from storage and/or cloud, setting up the UI etc. So
</I>&gt;<i> AJAX is the only real alternative today, although it comes with complex
</I>&gt;<i> pages that have to construct UI dynamically.
</I>&gt;<i>
</I>&gt;<i> History management API is great, but it is also an overkill to say that
</I>&gt;<i> every app should necessarily be a single complex AJAX page morphing itself.
</I>&gt;<i> That in itself may be a serious limitation.
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090915/b458eb8c/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090915/b458eb8c/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065262.html">[whatwg] Global Script proposal.
</A></li>
	<LI>Next message: <A HREF="065350.html">[whatwg] Global Script proposal.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65267">[ date ]</a>
              <a href="thread.html#65267">[ thread ]</a>
              <a href="subject.html#65267">[ subject ]</a>
              <a href="author.html#65267">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
