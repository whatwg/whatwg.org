<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Storage: structured clones lead to ambiguity in	detecting if a key is set w/ getItem()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20structured%20clones%20lead%20to%20ambiguity%20in%0A%09detecting%20if%20a%20key%20is%20set%20w/%20getItem%28%29&In-Reply-To=%3C6eeb8bd10909231437m323e359fyf745dc96d7d18e8c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023160.html">
   <LINK REL="Next"  HREF="023162.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Storage: structured clones lead to ambiguity in	detecting if a key is set w/ getItem()</H1>
<!--htdig_noindex-->
    <B>Erik Arvidsson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20structured%20clones%20lead%20to%20ambiguity%20in%0A%09detecting%20if%20a%20key%20is%20set%20w/%20getItem%28%29&In-Reply-To=%3C6eeb8bd10909231437m323e359fyf745dc96d7d18e8c%40mail.gmail.com%3E"
       TITLE="[whatwg] Web Storage: structured clones lead to ambiguity in	detecting if a key is set w/ getItem()">erik.arvidsson at gmail.com
       </A><BR>
    <I>Wed Sep 23 14:37:41 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="023160.html">[whatwg] Web Storage: structured clones lead to ambiguity in detecting if a key is set w/ getItem()
</A></li>
        <LI>Next message: <A HREF="023162.html">[whatwg] Web Storage: structured clones lead to ambiguity in	detecting if a key is set w/ getItem()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23161">[ date ]</a>
              <a href="thread.html#23161">[ thread ]</a>
              <a href="subject.html#23161">[ subject ]</a>
              <a href="author.html#23161">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Sep 23, 2009 at 14:28, Jo&#227;o Eiras &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">joaoe at opera.com</A>&gt; wrote:
&gt;<i> On Wed, 23 Sep 2009 23:03:38 +0200, Erik Arvidsson
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">erik.arvidsson at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> What are the arguments against adding a containsKey method? This would
</I>&gt;&gt;<i> map consistently to the in operator and hasOwnProperty in ES5.
</I>&gt;&gt;<i> object.containsKey(name) would be mapped to [[GetOwnProperty]](object,
</I>&gt;&gt;<i> name) !== undefined in ES5 meta language. That seems most consistent
</I>&gt;&gt;<i> to existing APIs.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> A containsKey or hasItem, preferably, would still not address the ambiguity
</I>&gt;<i> issue.
</I>
ES and most other languages that do not throw when you try to get a
non existing item out of a collection will have this problem. If they
return a value, getItem will never be able to tell if that value was
due to an absent item or not. The only way to make getItem handle this
is to either throw or return two values. Both are not very consistent
with other web apis.

&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>


-- 
erik
</PRE>





















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023160.html">[whatwg] Web Storage: structured clones lead to ambiguity in detecting if a key is set w/ getItem()
</A></li>
	<LI>Next message: <A HREF="023162.html">[whatwg] Web Storage: structured clones lead to ambiguity in	detecting if a key is set w/ getItem()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23161">[ date ]</a>
              <a href="thread.html#23161">[ thread ]</a>
              <a href="subject.html#23161">[ subject ]</a>
              <a href="author.html#23161">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
