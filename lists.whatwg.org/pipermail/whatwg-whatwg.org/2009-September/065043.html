<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Criticism of pushState (was Global Script proposal)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Criticism%20of%20pushState%20%28was%20Global%20Script%20proposal%29&In-Reply-To=%3Cc84706c70909080921r5783e537gef904ac0234a9582%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065040.html">
   <LINK REL="Next"  HREF="065044.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Criticism of pushState (was Global Script proposal)</H1>
<!--htdig_noindex-->
    <B>Justin Lebar</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Criticism%20of%20pushState%20%28was%20Global%20Script%20proposal%29&In-Reply-To=%3Cc84706c70909080921r5783e537gef904ac0234a9582%40mail.gmail.com%3E"
       TITLE="[whatwg] Criticism of pushState (was Global Script proposal)">justin.lebar at gmail.com
       </A><BR>
    <I>Tue Sep  8 09:21:33 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="065040.html">[whatwg] Criticism of pushState (was Global Script proposal)
</A></li>
        <LI>Next message: <A HREF="065044.html">[whatwg] Criticism of pushState (was Global Script proposal)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65043">[ date ]</a>
              <a href="thread.html#65043">[ thread ]</a>
              <a href="subject.html#65043">[ subject ]</a>
              <a href="author.html#65043">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>To be clear, I'm not suggesting that pushState obviates the need for
global script.  My point is that pushState is useful in its own right,
with our without global script.

Without pushstate, you can't make a non-hash navigation without
hitting the network.  Even if you're clever and store all of JQuery
and your whole DOM in global storage, if you want to change the
pre-hash part of the URI, you need to load a new page.

Imagine Google Maps trying to update the URI to match your current
location as you pan around the map.  Right now, they could update the
hash as you panned.  With pushstate, they could update the URI in an
arbitrary way.  With global state, they'd have to load a new page
every time you panned.  That's obviously worse, and probably not even
an option.

&gt;<i> Then why the heck would we want to come up with a fancier way to
</I>&gt;<i> provide hash-navigation?
</I>
Perhaps the point is to do something which works like hash-navigation,
but to the user, looks like real navigation.  Imagine Bugzilla using
pushstate to navigate between bugs, but keeping the familiar
show_bug.cgi?id=1234 URI.  I don't pretend that the code necessary to
make this work would be easy to write, but it's certainly no more
difficult than changing the hash, and the resulting URLs are much
nicer.

&gt;<i> Once you introduce pushState, you deviate from the normalcy -- now you
</I>&gt;<i> can have a URL in the address bar that the user agent hasn't requested
</I>&gt;<i> from the server.
</I>
Again, this is just what happens when you're at your Gmail Inbox and
click a link to <A HREF="http://mail.google.com/mail/#Drafts.">http://mail.google.com/mail/#Drafts.</A>  You now have a
URL in the address bar that the UA hasn't requested from the server.
pushState improves this -- at least now the URL you didn't request
from the server looks like one which you plausibly might have
requested from the server.

&gt;<i> I really don't care about how the URLs
</I>&gt;<i> look. I just want the Web development to be easier. And in my humble
</I>&gt;<i> opinion, building a request controller in JS and essentially a whole
</I>&gt;<i> alternative reality navigation system using hashes is not.
</I>
If you don't care how URLs look or if you don't mind making a network
request when you navigate a page, then don't use the feature!  A lot
of people do care about one or both of those things, though, and
they're willing to go through the pain of developing these
alternative-reality navigation systems.

PushState does not subsume global script.  For many applications,
storing the whole DOM in global script would get you sufficiently fast
navigations -- I agree.

But global script does not subsume pushState, either.  Even with
global script, you can't change the URI arbitrarily without navigating
the page.  Panning on Google Maps and changing the referer sent to a
page are two instances where extra page navigations might be
unacceptable.

I understand that pushState doesn't alleviate much of the pain of
developing no-navigation web apps.  But I don't think that's a reason
to get rid of it.

-Justin

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065040.html">[whatwg] Criticism of pushState (was Global Script proposal)
</A></li>
	<LI>Next message: <A HREF="065044.html">[whatwg] Criticism of pushState (was Global Script proposal)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65043">[ date ]</a>
              <a href="thread.html#65043">[ thread ]</a>
              <a href="subject.html#65043">[ subject ]</a>
              <a href="author.html#65043">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
