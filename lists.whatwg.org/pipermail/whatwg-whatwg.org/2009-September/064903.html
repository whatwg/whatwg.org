<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Storage: apparent contradiction in spec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20apparent%20contradiction%20in%20spec&In-Reply-To=%3Cdd0fbad0909031544t30e5961fyd4386204fb190956%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064899.html">
   <LINK REL="Next"  HREF="064905.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Storage: apparent contradiction in spec</H1>
<!--htdig_noindex-->
    <B>Tab Atkins Jr.</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20apparent%20contradiction%20in%20spec&In-Reply-To=%3Cdd0fbad0909031544t30e5961fyd4386204fb190956%40mail.gmail.com%3E"
       TITLE="[whatwg] Web Storage: apparent contradiction in spec">jackalmage at gmail.com
       </A><BR>
    <I>Thu Sep  3 15:44:17 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064899.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
        <LI>Next message: <A HREF="064905.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64903">[ date ]</a>
              <a href="thread.html#64903">[ thread ]</a>
              <a href="subject.html#64903">[ subject ]</a>
              <a href="author.html#64903">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Sep 3, 2009 at 5:33 PM, Ian Hickson&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i> On Thu, 3 Sep 2009, Tab Atkins Jr. wrote:
</I>&gt;&gt;<i> On Thu, Sep 3, 2009 at 7:56 AM, Ian Hickson&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; On Mon, 31 Aug 2009, Jens Alfke wrote:
</I>&gt;&gt;<i> &gt;&gt; On Aug 31, 2009, at 3:11 AM, Ian Hickson wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; We can't treat cookies and persistent storage differently, because
</I>&gt;&gt;<i> &gt;&gt; &gt; otherwise we'll expose users to cookie resurrection attacks.
</I>&gt;&gt;<i> &gt;&gt; &gt; Maintaining the user's expectations of privacy is critical.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; The fact that local storage can be used as a type of super-cookie
</I>&gt;&gt;<i> &gt;&gt; doesn't mean the two are the same thing.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; The fact that local storage can be used for cookie resurrection means
</I>&gt;&gt;<i> &gt; we have to make sure that clearing one clears the other. Anything else
</I>&gt;&gt;<i> &gt; would be a huge privacy issue (just as Flash has been).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> And as Flash will continue to be, forever, in a manner that is generally
</I>&gt;&gt;<i> opaque from the user, especially as more people lean on it for things
</I>&gt;&gt;<i> like a halfway-dependable storage location.
</I>&gt;<i>
</I>&gt;<i> On Thu, 3 Sep 2009, Aryeh Gregor wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The *only* reason Flash is a privacy issue is because there's no easy
</I>&gt;&gt;<i> way for users to clear its storage. &#160;The issue here isn't the
</I>&gt;&gt;<i> technical details of how the storage works, but the UI. &#160;Adobe, for
</I>&gt;&gt;<i> whatever reason, has chosen not to bother with helping Flash users
</I>&gt;&gt;<i> preserve their privacy, and because of lock-in, browser vendors are
</I>&gt;&gt;<i> unable to do anything about it. &#160;All major browser vendors have a
</I>&gt;&gt;<i> track record of going to great lengths to ensure that their users'
</I>&gt;&gt;<i> privacy is protected from third-party websites. &#160;I think it's safe to
</I>&gt;&gt;<i> say they'll compete to create good UI in this case -- even if
</I>&gt;&gt;<i> technically, the functionality of HTML 5 localStorage is identical to
</I>&gt;&gt;<i> that of Flash local storage. &#160;The spec doesn't need to try specifying
</I>&gt;&gt;<i> UI here (especially since it seems like it will be ignored).
</I>&gt;<i>
</I>&gt;<i> Indeed.
</I>&gt;<i>
</I>&gt;<i> Flash's privacy problem can be removed by uninstalling Flash. They're not
</I>&gt;<i> a license to add more privacy problems to the platform.
</I>
And more-than-a-cache-Storage can be explicitly turned off or have its
quota dropped to zero.  If that's important, the browsers will make it
easy.  And more importantly, they'll make it *consistent* (within the
browser), rather than the user having to figure out how to do it
within Flash, then possibly within the next technology that hacks
around this lack in browser technology, and the next one...

&gt;<i> On Thu, 3 Sep 2009, Tab Atkins Jr. wrote:
</I>&gt;&gt;<i> On Thu, Sep 3, 2009 at 7:56 AM, Ian Hickson&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; On Mon, 31 Aug 2009, Jens Alfke wrote:
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; That's going to come as a shock to developers who were planning to use
</I>&gt;&gt;<i> &gt;&gt; it for user-created data (whether drafts of content to be pushed to the
</I>&gt;&gt;<i> &gt;&gt; cloud, or strictly-local documents.) Without this, the safe usage of
</I>&gt;&gt;<i> &gt;&gt; local storage diminishes to a download cache.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I don't see what else we can do.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You could just *not* specify that LocalStorage is worthless for anything
</I>&gt;&gt;<i> but a cache. &#160;Is there *anything* that would allow a permanent
</I>&gt;&gt;<i> site-accessible storage solution in your mind, or is cookie resurrection
</I>&gt;&gt;<i> a deal-killer for all time?
</I>&gt;<i>
</I>&gt;<i> The latter.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> If the latter, you're not doing anyone any favors, least of all users,
</I>&gt;&gt;<i> as they'll still have their privacy violated but by entities other than
</I>&gt;&gt;<i> their browser which may be more difficult to review and regulate.
</I>&gt;<i>
</I>&gt;<i> If Adobe wants to violate their users' privacy, that's their prerogative.
</I>&gt;<i> But I'm not speccing something that so blatently allows users to be
</I>&gt;<i> tracked without their consent -- and worse -- despite their attempts to
</I>&gt;<i> stop it.
</I>
It doesn't 'allow users to be tracked without their consent' any more
than cookies by themselves do.  If this is important, browsers will
expose the ability to blow away all of a site's storages at once.
There's nothing to resurrect then.  On the other hand, if someone
wants a site to keep its permanent Storage, then cookie resurrection
isn't a big deal.

You're seem to be assuming that either permanent Storage is *really*
permanent, or that browsers will never expose a way to delete that
data to the user (which amounts to the same).  That's silly.  The
whole *point* of specifying a permanent Storage in HTML is so browsers
can produce something that *they* control the UI for, rather than
leaving the user's privacy to unknown plugins and other hacky means.

Would an approach like the &lt;input type=save&gt; be okay, where the user
has to explicitly take an action to enable permanent Storage for a
site the first time?  That makes simple navigation exactly as safe as
it is today, where cookies can leak privacy but they can be wiped.
You have to actively opt in to reducing your privacy.  I *want* to be
able to reduce my privacy for sites that I trust.

~TJ

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064899.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
	<LI>Next message: <A HREF="064905.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64903">[ date ]</a>
              <a href="thread.html#64903">[ thread ]</a>
              <a href="subject.html#64903">[ subject ]</a>
              <a href="author.html#64903">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
