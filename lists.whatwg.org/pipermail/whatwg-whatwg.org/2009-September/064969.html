<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Spec comments, sections 4.9-4.10
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Spec%20comments%2C%20sections%204.9-4.10&In-Reply-To=%3CPine.LNX.4.62.0909042210000.6775%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064858.html">
   <LINK REL="Next"  HREF="064983.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Spec comments, sections 4.9-4.10</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Spec%20comments%2C%20sections%204.9-4.10&In-Reply-To=%3CPine.LNX.4.62.0909042210000.6775%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Spec comments, sections 4.9-4.10">ian at hixie.ch
       </A><BR>
    <I>Fri Sep  4 16:42:48 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064858.html">[whatwg] Spec comments, sections 4.9-4.10
</A></li>
        <LI>Next message: <A HREF="064983.html">[whatwg] Spec comments, sections 4.9-4.10
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64969">[ date ]</a>
              <a href="thread.html#64969">[ thread ]</a>
              <a href="subject.html#64969">[ subject ]</a>
              <a href="author.html#64969">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 3 Sep 2009, Aryeh Gregor wrote:
&gt;<i>
</I>&gt;<i> In 4.9.11:
</I>&gt;<i> 
</I>&gt;<i> &quot;The rowSpan DOM attribute must reflect the content attribute of the 
</I>&gt;<i> same name. Its default value, which must be used if parsing the 
</I>&gt;<i> attribute as a non-negative integer returns an error, is also 1.&quot;
</I>&gt;<i> 
</I>&gt;<i> What does &quot;also&quot; refer to?
</I>
Nothing, nothing at all. Fixed!

(BTW, section names are more useful than section numbers because the 
sections move about a lot, and because the section numbers aren't in my 
source document, so I have to go and look up which section it is first.)


&gt;<i> In 4.10.4:
</I>&gt;<i> 
</I>&gt;<i> It's a little confusing that no visual distinction is made between 
</I>&gt;<i> content attributes and DOM attributes here.  I thought it was an error 
</I>&gt;<i> that checked occurred twice, for instance.  (Or is it an error? Things 
</I>&gt;<i> like max and min only occur once even though they have both content and 
</I>&gt;<i> DOM attributes.)
</I>
Do you mean in the table?


&gt;<i> The use of &quot;value&quot; to mean both &quot;current value&quot; and &quot;default value&quot; is 
</I>&gt;<i> confusing.  It would be clearer if all uses were replaced by &quot;current 
</I>&gt;<i> value&quot;, &quot;default value&quot;, or something like &quot;value content attribute&quot; or 
</I>&gt;<i> &quot;value DOM attribute&quot;.
</I>
I'm not really sure what you mean here.

 - There's the element's &quot;value&quot; content attribute.
 - There's the element's &quot;value&quot; DOM attribute.
 - There's the &quot;value&quot; mode that the &quot;value&quot; DOM attribute can be in.
 - There's the element's &quot;defaultValue&quot; DOM attribute (which reflects the 
   element's &quot;value&quot; content attribute).
 - There's the element's actual value.
 - There's the value exposed to the user.

Are you asking that the fifth of these (the value concept) should be 
renamed to something else?


&gt;<i> For instance, the &quot;value sanitization algorithm&quot; really seems to be 
</I>&gt;<i> executed only for default values, not on every value change.  I expected 
</I>&gt;<i> it to be applied to all values based on the name.  (Or actually, is it 
</I>&gt;<i> also applied to scripted value changes, but not changes due to user 
</I>&gt;<i> input?  Now I'm doubly confused.)
</I>
The &quot;value sanitization algorithm&quot; is invoked in these cases:

 - when the element is first created
 - when type=&quot;&quot; changes state
 - when the control is reset
 - when the .value DOM attribute is set, if the .value DOM attribute has 
   the &quot;value&quot; mode


&gt;<i> Likewise, sentences like &quot;Unless otherwise specified, the user agent 
</I>&gt;<i> should not allow the user to modify the element's value or checkedness.&quot; 
</I>&gt;<i> are very perplexing.  It would make more sense at first sight if it said 
</I>&gt;<i> &quot;. . . the element's default value or default checkedness.&quot;
</I>
What's the element's default value or default checkedness?

It means that the internal states named &quot;value&quot; and &quot;checkedness&quot; can't be 
changed by the user unless otherwise stated. These aren't default 
anythings, and can have little to no bearing on what is exposed through 
the DOM or markup.


&gt;<i> In 4.10.4.1.2:
</I>&gt;<i> 
</I>&gt;<i> What's the purpose of type=search?  Is it envisioned that this be used
</I>&gt;<i> as an inline substitute for OpenSearch, for instance? Or is it mainly
</I>&gt;<i> intended to allow separate styling (e.g., to match platform
</I>&gt;<i> conventions)?  I can't find any practical normative difference, so it
</I>&gt;<i> would be useful if there were an informative note making it clear what
</I>&gt;<i> some differences might be in practice.
</I>
The difference is stylistic. Compare the two in Safari.


&gt;<i> In 4.10.4.1.5:
</I>&gt;<i> 
</I>&gt;<i> &quot;not an valid e-mail address list&quot; -&gt; &quot;not a valid e-mail address list&quot;
</I>
Fixed.


&gt;<i> In 4.10.4.1.7:
</I>&gt;<i> 
</I>&gt;<i> &quot;If the element is mutable, the user agent should allow the user to 
</I>&gt;<i> change the global date and time represented by its value, as obtained by 
</I>&gt;<i> parsing a global date and time from it. User agents must not allow the 
</I>&gt;<i> user to set the value to a string that is not a valid global date and 
</I>&gt;<i> time string expressed in UTC, though user agents may allow the user to 
</I>&gt;<i> set and view the time in another time zone and silently translate the 
</I>&gt;<i> time to and from the UTC time zone in the value. If the user agent 
</I>&gt;<i> provides a user interface for selecting a global date and time, then the 
</I>&gt;<i> value must be set to a valid global date and time string expressed in 
</I>&gt;<i> UTC representing the user's selection. User agents should allow the user 
</I>&gt;<i> to set the value to the empty string.&quot;
</I>&gt;<i> 
</I>&gt;<i> This paragraph looks repetitive to me.  I think the third sentence can 
</I>&gt;<i> just be dropped, unless I'm missing something -- does it add anything?
</I>
This paragraph is setting out precisely what the requirements are for user 
agents. The four sentences each cover a slightly different aspect of the 
requirements.

They don't seem to overlap at all -- the first says that the UI needs to 
allow changes, the second that if the user can set the value directly, the 
UA needs to prevent invalid values from being set, the third says that if 
the UA allows the user to set the value using some sort of UI, that the UI 
should convert the value to one of those valid things, and the fourth one 
says that in addition, the UA can allow the user to reset the value to 
nothing.


&gt;<i> Would it be useful to allow the step for datetime to be expressed in 
</I>&gt;<i> some more human-readable format in addition to seconds?
</I>
Yeah, probably, but then it would make the processing for step=&quot;&quot; way more 
complicated than it already is.


&gt;<i> In 4.10.4.2.1:
</I>&gt;<i> 
</I>&gt;<i> &quot;The autocompletion mechanism must be implemented by the user agent 
</I>&gt;<i> acting as if the user had modified the element's value, and must be done 
</I>&gt;<i> at a time where the element is mutable (e.g. just after the element has 
</I>&gt;<i> been inserted into the document, or when the user agent stops parsing).&quot;
</I>&gt;<i> 
</I>&gt;<i> I don't think this is a very complete specification of the behavior of 
</I>&gt;<i> autocomplete=off in practice.  There are two major points that it 
</I>&gt;<i> doesn't explicitly address:
</I>&gt;<i> 
</I>&gt;<i> 1) If the user goes to another page (e.g., submits the form) and then 
</I>&gt;<i> goes back, the form will be emptied of whatever he entered into it. (At 
</I>&gt;<i> least in the versions of Firefox and Chrome I've tried it in -- I didn't 
</I>&gt;<i> test systematically.)
</I>
Oh, good point. Fixed.


&gt;<i> 2) The user agent not only won't remember what the user enters now, it 
</I>&gt;<i> also won't pop up a list of suggestions from the past.
</I>
Fixed.


&gt;<i> I guess that in HTML 5, the correct way to implement this behavior would 
</I>&gt;<i> be to dynamically populate a datalist element.  Perhaps some (possibly 
</I>&gt;<i> informative) wording should be added to this effect, saying that authors 
</I>&gt;<i> shouldn't use autocomplete just to replace the default suggestions list?  
</I>&gt;<i> (Although of course they will until UAs support datalist, regardless of 
</I>&gt;<i> what the spec says.)
</I>
I haven't mentioned datalist here.


&gt;<i> In 4.10.4.2.3:
</I>&gt;<i> 
</I>&gt;<i> I don't understand what the difference is supposed to be between 
</I>&gt;<i> readonly and disabled.  disabled also doesn't submit the input?  Why 
</I>&gt;<i> does readonly not apply to range, color, checkbox, radio button, or file 
</I>&gt;<i> input?
</I>
&quot;readonly&quot; means that the value should be selectable for copy-and-paste 
(thus it makes no sense for buttons and other non-text controls to be 
readonly), while &quot;disabled&quot; means that the control should not be 
responsive to user interaction.

These conventions are common to most GUI systems.


&gt;<i> In 4.10.4.2.9:
</I>&gt;<i> 
</I>&gt;<i> &quot;If the element has a min attribute, and the result of applying the
</I>&gt;<i> algorithm to convert a string to a number to the value of the min
</I>&gt;<i> attribute is a number, then that number is the element's minimum;
</I>&gt;<i> otherwise, if the type attribute's current state defines a default
</I>&gt;<i> minimum, then that is the minimum; otherwise, the element has no
</I>&gt;<i> minimum.)&quot;
</I>&gt;<i> 
</I>&gt;<i> &quot;If the element has a max attribute, and the result of applying the
</I>&gt;<i> algorithm to convert a string to a number to the value of the max
</I>&gt;<i> attribute is a number, then that number is the element's maximum;
</I>&gt;<i> otherwise, if the type attribute's current state defines a default
</I>&gt;<i> maximum, then that is the maximum; otherwise, the element has no
</I>&gt;<i> maximum.)&quot;
</I>&gt;<i> 
</I>&gt;<i> There's a stray parenthesis at the end of each of these paragraphs.
</I>
Yikes. Fixed. Thanks.


&gt;<i> In 4.10.4.4:
</I>&gt;<i> 
</I>&gt;<i> &quot;The task source for these task is the user interaction task source.&quot;
</I>&gt;<i> 
</I>&gt;<i> I'm not sure what this means, but I assume it should be &quot;these tasks&quot;.
</I>
Fixed.


&gt;<i> In 4.10.5:
</I>&gt;<i> 
</I>&gt;<i> It's not clear from reading the spec what the difference is between
</I>&gt;<i> buttons and inputs of the same type.  Is there any?
</I>
Not especially. You set their labels differently, and there are a few 
minor differences like that, but nothing major.


&gt;<i> In 4.10.9:
</I>&gt;<i> 
</I>&gt;<i> &quot;The Option() constructor with two or more arguments overrides the
</I>&gt;<i> initial state of the selectedness state to always be false even if the
</I>&gt;<i> third argument is true (implying that a selected attribute is to be
</I>&gt;<i> set).&quot;
</I>&gt;<i> 
</I>&gt;<i> I'm confused why this is here, and not with the docs for the Option
</I>&gt;<i> constructor.
</I>
It's just reminding the reader.


&gt;<i> Also, isn't this statement incorrect if the fourth argument is present 
</I>&gt;<i> and set to true?
</I>
Fixed.


&gt;<i> In 4.10.10:
</I>&gt;<i> 
</I>&gt;<i> &quot;The purposes of this requirement, lines are delimited by the start of
</I>&gt;<i> the string, the end of the string, and U+000D CARRIAGE RETURN - U+000A
</I>&gt;<i> LINE FEED (CRLF) character pairs.&quot;
</I>&gt;<i> 
</I>&gt;<i> I can't parse this sentence.
</I>
Does it make more sense with a &quot;for&quot; in front? :-)


&gt;<i> In 4.10.14.6:
</I>&gt;<i> 
</I>&gt;<i> &quot;Attributes for form submission can be specified both on form elements
</I>&gt;<i> and on submit button&quot;
</I>&gt;<i> 
</I>&gt;<i> &quot;button&quot; -&gt; &quot;buttons&quot;
</I>
Fixed.


&gt;<i> In 4.10.15:
</I>&gt;<i> 
</I>&gt;<i> I can find two uses of the invalid event (are there more?), but I'm
</I>&gt;<i> not sure what it's meant to do.  You can cancel it to make sure an
</I>&gt;<i> element is treated as valid for form submission -- although then
</I>&gt;<i> you'll confuse the entire rest of the constraint validation API -- but
</I>&gt;<i> why is it called on checkValidity()?  I'm not sure what it's meant to
</I>&gt;<i> be used for.  Or, consequently, what checkValidity() is meant to be
</I>&gt;<i> used for, as opposed to validity.valid (since the only difference
</I>&gt;<i> seems to be firing an invalid event).
</I>
checkValidity() on the &lt;form&gt; element tells you if the form is valid.

oninvalid=&quot;&quot; can be used to override the constraints in particular cases. 
For example, ignoring a pattern=&quot;&quot; attribute in certain edge cases, like 
if a checkbox saying &quot;don't validate&quot; is checked or something.


&gt;<i> In 4.10.16.1:
</I>&gt;<i> 
</I>&gt;<i> Perhaps replace &quot;.../find.cgi?t=cats&amp;q=fur&quot; by just
</I>&gt;<i> &quot;/find.cgi?t=cats&amp;q=fur&quot;.  I briefly mistook the ... for .. and got
</I>&gt;<i> confused.
</I>
Ok, done.


On Thu, 3 Sep 2009, Kevin Benson wrote:
&gt;<i> 
</I>&gt;<i> [...] There's also an accidental phrase duplication in the sentence 
</I>&gt;<i> prior to the above:
</I>&gt;<i> 
</I>&gt;<i> &quot;so that each line so that each line has no more than character width 
</I>&gt;<i> characters.&quot;
</I>
Thanks, fixed.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064858.html">[whatwg] Spec comments, sections 4.9-4.10
</A></li>
	<LI>Next message: <A HREF="064983.html">[whatwg] Spec comments, sections 4.9-4.10
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64969">[ date ]</a>
              <a href="thread.html#64969">[ thread ]</a>
              <a href="subject.html#64969">[ subject ]</a>
              <a href="author.html#64969">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
