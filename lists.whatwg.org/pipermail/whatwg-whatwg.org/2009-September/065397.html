<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] registerProtocolHandler - allow site to specify more info and do custom handling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20registerProtocolHandler%20-%20allow%20site%20to%20specify%20more%0A%20info%20and%20do%20custom%20handling&In-Reply-To=%3Cop.u0nti0r864w2qv%40annevk-t60%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065357.html">
   <LINK REL="Next"  HREF="065400.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] registerProtocolHandler - allow site to specify more info and do custom handling</H1>
<!--htdig_noindex-->
    <B>Anne van Kesteren</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20registerProtocolHandler%20-%20allow%20site%20to%20specify%20more%0A%20info%20and%20do%20custom%20handling&In-Reply-To=%3Cop.u0nti0r864w2qv%40annevk-t60%3E"
       TITLE="[whatwg] registerProtocolHandler - allow site to specify more info and do custom handling">annevk at opera.com
       </A><BR>
    <I>Tue Sep 22 06:10:02 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="065357.html">[whatwg] registerProtocolHandler - allow site to specify more info and do custom handling
</A></li>
        <LI>Next message: <A HREF="065400.html">[whatwg] registerProtocolHandler - allow site to specify more info and do custom handling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65397">[ date ]</a>
              <a href="thread.html#65397">[ thread ]</a>
              <a href="subject.html#65397">[ subject ]</a>
              <a href="author.html#65397">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, 19 Sep 2009 13:49:15 +0200, Michael A. Puls II  
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">shadow2531 at gmail.com</A>&gt; wrote:
&gt;<i> Currently, registerProtcolHandler works like this:
</I>&gt;<i>
</I>&gt;<i> navigator.registerProtocolHandler(&quot;protocol&quot;,  
</I>&gt;<i> &quot;<A HREF="http://example.org/?uri=%s">http://example.org/?uri=%s</A>&quot;, &quot;title&quot;);
</I>&gt;<i>
</I>&gt;<i> However, this doesn't allow the site to specify some useful and  
</I>&gt;<i> important information about the site like:
</I>&gt;<i>
</I>&gt;<i> 1. What encoding the server expects. For example, uri= might expect the  
</I>&gt;<i> protocol link that was invoked in the browser to be interpreted as  
</I>&gt;<i> koi8-r instead of utf-8. This might be the case even if the page that  
</I>&gt;<i> uses registerProtocolHandler uses Windows-1251 for example.
</I>
The IRI specification dictates UTF-8 already.


&gt;<i> 2. The location of an icon like a favicon.ico file or png etc.
</I>
Is this not already known? Or is there no same-origin restriction on these  
methods?


&gt;<i> 3. URI to a help page where the site explains how it makes uses of  
</I>&gt;<i> registerProtocolHandler and gives help and support contacts etc.
</I>
How does this help the user?


&gt;<i> 4. Whether to use &quot;POST&quot; instead of GET.
</I>
That seems dangerous. Following a link should always use GET.


&gt;<i> [...]
</I>&gt;<i>
</I>&gt;<i> Point being, registerProtocolHandler needs to be more robust. And,  
</I>&gt;<i> although this post is long, the requested additions are quite simple to  
</I>&gt;<i> specify.
</I>&gt;<i>
</I>&gt;<i> Maybe these things can be supported in registerProtocolHandler v.02 once  
</I>&gt;<i> sites like the above prove that they are needed.
</I>
I don't see why existing sites would not update what they accept to make  
registerProtocolHandler work. And if user agents want to support sites  
that do not support registerProtocolHandler that is their business I think  
and not an necessarily an issue for the feature.


-- 
Anne van Kesteren
<A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065357.html">[whatwg] registerProtocolHandler - allow site to specify more info and do custom handling
</A></li>
	<LI>Next message: <A HREF="065400.html">[whatwg] registerProtocolHandler - allow site to specify more info and do custom handling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65397">[ date ]</a>
              <a href="thread.html#65397">[ thread ]</a>
              <a href="subject.html#65397">[ subject ]</a>
              <a href="author.html#65397">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
