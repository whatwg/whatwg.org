<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] LocalStorage in workers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20LocalStorage%20in%20workers&In-Reply-To=%3C11e306600909161636q68b7c4fey70d01a6867c98b4a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065327.html">
   <LINK REL="Next"  HREF="065329.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] LocalStorage in workers</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20LocalStorage%20in%20workers&In-Reply-To=%3C11e306600909161636q68b7c4fey70d01a6867c98b4a%40mail.gmail.com%3E"
       TITLE="[whatwg] LocalStorage in workers">robert at ocallahan.org
       </A><BR>
    <I>Wed Sep 16 16:36:00 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="065327.html">[whatwg] LocalStorage in workers
</A></li>
        <LI>Next message: <A HREF="065329.html">[whatwg] LocalStorage in workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65328">[ date ]</a>
              <a href="thread.html#65328">[ thread ]</a>
              <a href="subject.html#65328">[ subject ]</a>
              <a href="author.html#65328">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Sep 17, 2009 at 11:17 AM, Jeremy Orlow &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jorlow at chromium.org</A>&gt; wrote:

&gt;<i> The use cases all revolve around having a backend in a worker that handles
</I>&gt;<i> offline and/or caching.  It could either feed its data to the page via
</I>&gt;<i> messages or shared memory.  The former requires at least worker-only and the
</I>&gt;<i> latter requires storage shared between the worker and the page.  The latter
</I>&gt;<i> is technically an optimization, but I agree that it's a fairly major one.
</I>&gt;<i>
</I>
I don't think copying data from a worker to a page through any kind of
database is going to outperform copying Javascript objects or even
serializing to strings and then deserializing. You don't even necessarily
need to copy all the JS objects passed from one thread to another if you're
willing to do some COW or other tricks.

Maybe I'm wrong, but at least it seems a premature optimization to declare
that shared database storage between page and worker is necessary for
performance.

Rob
-- 
&quot;He was pierced for our transgressions, he was crushed for our iniquities;
the punishment that brought us peace was upon him, and by his wounds we are
healed. We all, like sheep, have gone astray, each of us has turned to his
own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
53:5-6]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090917/f1cb4fb1/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090917/f1cb4fb1/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065327.html">[whatwg] LocalStorage in workers
</A></li>
	<LI>Next message: <A HREF="065329.html">[whatwg] LocalStorage in workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65328">[ date ]</a>
              <a href="thread.html#65328">[ thread ]</a>
              <a href="subject.html#65328">[ subject ]</a>
              <a href="author.html#65328">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
