<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] RFC: Alternatives to storage mutex for cookies and localStorage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20RFC%3A%20Alternatives%20to%20storage%20mutex%20for%20cookies%20and%0A%20localStorage&In-Reply-To=%3C4A66792A-2555-427B-8E88-9D4150EAAE7C%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022796.html">
   <LINK REL="Next"  HREF="022801.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] RFC: Alternatives to storage mutex for cookies and localStorage</H1>
<!--htdig_noindex-->
    <B>Maciej Stachowiak</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20RFC%3A%20Alternatives%20to%20storage%20mutex%20for%20cookies%20and%0A%20localStorage&In-Reply-To=%3C4A66792A-2555-427B-8E88-9D4150EAAE7C%40apple.com%3E"
       TITLE="[whatwg] RFC: Alternatives to storage mutex for cookies and localStorage">mjs at apple.com
       </A><BR>
    <I>Tue Sep  8 18:00:50 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="022796.html">[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage
</A></li>
        <LI>Next message: <A HREF="022801.html">[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22798">[ date ]</a>
              <a href="thread.html#22798">[ thread ]</a>
              <a href="subject.html#22798">[ subject ]</a>
              <a href="author.html#22798">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Sep 8, 2009, at 4:27 PM, Chris Jones wrote:

&gt;<i>
</I>&gt;<i> I think I haven't been explaining my proposal clearly enough.  Let  
</I>&gt;<i> me try to err on the other side of brevity.  Sorry if this is too  
</I>&gt;<i> pedantic.
</I>&gt;<i>
</I>&gt;<i> Currently, UAs either (i) support localStorage or (ii) don't.  Web  
</I>&gt;<i> apps using localStorage must therefore determine whether the UA  
</I>&gt;<i> they're running in supports localStorage, and adjust their behavior  
</I>&gt;<i> accordingly.  If they don't, they won't run in type (ii) UAs.
</I>&gt;<i>
</I>&gt;<i> So how do web apps implement this check?  If I were implementing it,  
</I>&gt;<i> I would test |window.localStorage === undefined|.  I have no clue  
</I>&gt;<i> how web devs actually implement it; I solicited feedback from them  
</I>&gt;<i> in earlier posts.
</I>
I think this has a few problems:

1) There are probably Web apps that actually detect based on user  
agent sniffing, rather than based on feature testing. No matter how  
much we tell people to feature-test, there are still many Web sites  
(and even popular JavaScript libraries) out there that look at the  
User-Agent string.

2) There are probably mobile-targeted Web apps aimed at devices like  
iPhone, Palm Pre and Android which just assume LocalStorage is there  
(since it is available on all their target devices).

3) For Web apps that used the older feature in good faith, it would be  
suddenly taken away from their existing deployed apps. I expect this  
will make developers unhappy even if it doesn't technically break  
their site but rather just makes some functionality regress in  
browsers that support LocalStorage, down to the level of non- 
supporting browsers. I would rather let them keep using a suboptimal  
form of the feature than take it away supposedly for their own good.

Regards,
Maciej

</PRE>













































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022796.html">[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage
</A></li>
	<LI>Next message: <A HREF="022801.html">[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22798">[ date ]</a>
              <a href="thread.html#22798">[ thread ]</a>
              <a href="subject.html#22798">[ subject ]</a>
              <a href="author.html#22798">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
