<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fakepath revisited
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fakepath%20revisited&In-Reply-To=%3Ce89c552e0909071141r410e4e60t11ad64b7a2770172%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064999.html">
   <LINK REL="Next"  HREF="065004.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fakepath revisited</H1>
<!--htdig_noindex-->
    <B>Alex Henrie</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fakepath%20revisited&In-Reply-To=%3Ce89c552e0909071141r410e4e60t11ad64b7a2770172%40mail.gmail.com%3E"
       TITLE="[whatwg] Fakepath revisited">alexhenrie24 at gmail.com
       </A><BR>
    <I>Mon Sep  7 11:41:16 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064999.html">[whatwg] Fakepath revisited
</A></li>
        <LI>Next message: <A HREF="065004.html">[whatwg] Fakepath revisited
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65002">[ date ]</a>
              <a href="thread.html#65002">[ thread ]</a>
              <a href="subject.html#65002">[ subject ]</a>
              <a href="author.html#65002">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Sep 7, 2009 at 9:41 AM, Anne van Kesteren&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at opera.com</A>&gt; wrote:
&gt;<i> On Mon, 07 Sep 2009 17:38:39 +0200, Nils Dagsson Moskopp
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">nils-dagsson-moskopp at dieweltistgarnichtso.net</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As the fakepath problem occured precisely because Web Developers Are
</I>&gt;&gt;<i> Stupid, maybe an easy way out would be to spec a method to get the real
</I>&gt;&gt;<i> value (or write it boldly into the spec annotations) ?
</I>&gt;<i>
</I>&gt;<i> File.name -- <A HREF="http://dev.w3.org/2006/webapi/FileUpload/publish/FileAPI.html">http://dev.w3.org/2006/webapi/FileUpload/publish/FileAPI.html</A>
</I>
Think about how this will affect web development 20 years from now.
Inexperienced web developers will try to use the more intuitive
property foo.value, not realizing that they should use
foo.files[0].name instead. They may not know that foo.files[0].name
exists, or they may assume that it behaves the same as foo.value. Some
of those developers will think that the compatibility problems that
led to fakepath still exist, and will use
foo.value.substr(foo.value.lastIndexOf(&quot;\\&quot;) + 1) despite the
potential problems if the filename actually contains a backslash. In
all, HTML will be harder to learn and bad designs will continue to be
made.

Actually, I just realized one reason why Firefox's omission of
fakepath hasn't caused widespread compatibility problems. Think about
it: if there are no backslashes in the file name, then
foo.value.substr(foo.value.lastIndexOf(&quot;\\&quot;) + 1) will work perfectly
happily with both &quot;C:\fakepath\upload.txt&quot; and &quot;upload.txt&quot;, because
lastIndexOf will return -1 if no backslashes are found. Clearly, the
affected web pages are doing a bit more than just trying to extract
the file name or extension. Can you please share the list of web pages
you found that are affected by this problem, so that we can see
exactly what they're trying to do?

On Mon, Sep 7, 2009 at 9:56 AM, Aryeh Gregor &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">Simetrical+w3c at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> On Mon, Sep 7, 2009 at 4:24 AM, Alex Henrie &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">alexhenrie24 at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Also, I suspect that if the manufacturers of
</I>&gt;<i> &gt; the affected routers aren't interested in releasing updates to make
</I>&gt;<i> &gt; them work in non-fakepath browsers like Firefox, they may not be
</I>&gt;<i> &gt; interested in releasing updates for them at all.
</I>&gt;<i>
</I>&gt;<i> IIRC, the problem is that you can't upload the new firmware to the
</I>&gt;<i> router at all, so the manufacturer can't release an update to fix it.
</I>&gt;<i> It can only make sure it's fixed in new models.
</I>
You know, if the manufacturers cared they could release a program that
updated the router without using the broken web interface.

&gt;<i> &gt; Essentially, you are choosing to trade long-term good design for
</I>&gt;<i> &gt; short-term compatibility.
</I>&gt;<i>
</I>&gt;<i> Browser vendors cannot sacrifice compatibility for long-term goals,
</I>&gt;<i> because their users will rebel. &#160;Any standard that demands
</I>&gt;<i> incompatibility with existing content will be ignored by implementors,
</I>&gt;<i> as XHTML was, and thus useless to authors. &#160;That's the fact of the
</I>&gt;<i> matter, whether we like it or not. &#160;New APIs can be introduced, but
</I>&gt;<i> old ones can't be changed in incompatible ways.
</I>
CSS2 demanded incompatibility with IE6 and IE7's previous
implementations. IE8 resolved these problems and IE8 users haven't
taken to the streets of Redmond with pitchforks yet. I'm asking the
same thing: take good behavior from Firefox, Safari, and Chrome and
get it working in IE and Opera too. It's not impossible, and it's well
worth it in the long term.

-Alex

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064999.html">[whatwg] Fakepath revisited
</A></li>
	<LI>Next message: <A HREF="065004.html">[whatwg] Fakepath revisited
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65002">[ date ]</a>
              <a href="thread.html#65002">[ thread ]</a>
              <a href="subject.html#65002">[ subject ]</a>
              <a href="author.html#65002">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
