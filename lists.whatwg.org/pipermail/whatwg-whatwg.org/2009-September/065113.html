<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Application defined &quot;locks&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Application%20defined%20%22locks%22&In-Reply-To=%3Cbd8f24d20909092207g1b13f668m386838fec489037e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065111.html">
   <LINK REL="Next"  HREF="065115.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Application defined &quot;locks&quot;</H1>
<!--htdig_noindex-->
    <B>Darin Fisher</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Application%20defined%20%22locks%22&In-Reply-To=%3Cbd8f24d20909092207g1b13f668m386838fec489037e%40mail.gmail.com%3E"
       TITLE="[whatwg] Application defined &quot;locks&quot;">darin at chromium.org
       </A><BR>
    <I>Wed Sep  9 22:07:39 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="065111.html">[whatwg] Application defined &quot;locks&quot;
</A></li>
        <LI>Next message: <A HREF="065115.html">[whatwg] Application defined &quot;locks&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65113">[ date ]</a>
              <a href="thread.html#65113">[ thread ]</a>
              <a href="subject.html#65113">[ subject ]</a>
              <a href="author.html#65113">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Sep 9, 2009 at 10:03 PM, Aaron Boodman &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">aa at google.com</A>&gt; wrote:

&gt;<i> On Wed, Sep 9, 2009 at 9:13 PM, Darin Fisher&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">darin at chromium.org</A>&gt; wrote:
</I>&gt;<i> &gt; If I call showModalDialog from within a database transaction, and then
</I>&gt;<i> &gt; showModalDialog
</I>&gt;<i> &gt; tries to create another database transaction, should I expect that the
</I>&gt;<i> &gt; transaction
</I>&gt;<i> &gt; can be started within the nested run loop of the modal dialog?
</I>&gt;<i>
</I>&gt;<i> By definition, in that case, the second transaction would not start
</I>&gt;<i> until the dialog was closed.
</I>&gt;<i>
</I>&gt;<i>
</I>Good, but....



&gt;<i> &gt; If not, then it may cause
</I>&gt;<i> &gt; the app to get confused and never allow the dialog to be closed (e.g.,
</I>&gt;<i> &gt; perhaps the close
</I>&gt;<i> &gt; action is predicated on a database query.)
</I>&gt;<i>
</I>&gt;<i> That is true, but it is an easily reproducible, deterministic
</I>&gt;<i> application bug. It also doesn't destabilize the environment -- by
</I>&gt;<i> making tabs or dialogs unclosable or whatever.
</I>&gt;<i>
</I>
Well, the problem is that the creator of the transaction and the code
associated with the showModalDialog call may not be related.  The
showModalDialog code might normally be used outside the context of a
transaction, in which case the code would normally work fine.  However, if
triggered from within a transaction, the dialog would be stuck.

-Darin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090909/b2fa478b/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090909/b2fa478b/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065111.html">[whatwg] Application defined &quot;locks&quot;
</A></li>
	<LI>Next message: <A HREF="065115.html">[whatwg] Application defined &quot;locks&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65113">[ date ]</a>
              <a href="thread.html#65113">[ thread ]</a>
              <a href="subject.html#65113">[ subject ]</a>
              <a href="author.html#65113">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
