<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Global Script proposal.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal.&In-Reply-To=%3Cfbbf8c7c0909071430w1cad0794sadee39cfdec85f04%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064883.html">
   <LINK REL="Next"  HREF="065039.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Global Script proposal.</H1>
<!--htdig_noindex-->
    <B>Dimitri Glazkov</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal.&In-Reply-To=%3Cfbbf8c7c0909071430w1cad0794sadee39cfdec85f04%40mail.gmail.com%3E"
       TITLE="[whatwg] Global Script proposal.">dglazkov at chromium.org
       </A><BR>
    <I>Mon Sep  7 14:30:42 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064883.html">[whatwg] Global Script proposal.
</A></li>
        <LI>Next message: <A HREF="065039.html">[whatwg] Global Script proposal.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65005">[ date ]</a>
              <a href="thread.html#65005">[ thread ]</a>
              <a href="subject.html#65005">[ subject ]</a>
              <a href="author.html#65005">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, Aug 29, 2009 at 2:40 PM, Ian Hickson&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;&gt;<i> Another case is an application that uses navigation from page to page using
</I>&gt;&gt;<i> menu or some site navigation mechanism. Global Script Context could keep the
</I>&gt;&gt;<i> application state so it doesn't have to be round-tripped via server in a
</I>&gt;&gt;<i> cookie or URL.
</I>&gt;<i>
</I>&gt;<i> You can keep the state using sessionStorage or localStorage, or you can
</I>&gt;<i> use pushState() instead of actual navigation.
</I>
First off, sessionStorage and localStorage are not anywhere close to
being useful if you're dealing with the actual DOM objects. The JS
code that would freeze-dry them and bring back to life will make the
whole exercise cost-prohibitive.

But more to the point, I think globalScript is a good replacement for
the pushState additions to the History spec. I've been reading up on
the spec an the comments made about pushState and I am becoming
somewhat convinced that pushState is confusing, hard to get right, and
full of fail. You should simply look at the motivation behind building
JS-based history state managers -- it all becomes fairly clear.

The best analogy I can muster is this: pushHistory is like creating
Rhoad's-like kinetic machines for moving furniture around the house in
an effort to keep the tenant standing still. Whereas globalScript
proposes to just let the poor slob to walk to the chest to get the
damn socks.

My big issue with pushHistory is that it messes with the nature of the
Web: a URL is a resource you request from the server. Not something
you arrive to via clever sleight of hand in a user agent. So, you've
managed to pushState your way to
a.com/some/path/10/clicks/from/the/home/page. Now the user bookmarks
it. What are you going to do know? Intuitively, it feels like we
should be improving the user agent to eliminate the need for mucking
with history, not providing more tools to encourage it.

:<i>DG&lt;
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064883.html">[whatwg] Global Script proposal.
</A></li>
	<LI>Next message: <A HREF="065039.html">[whatwg] Global Script proposal.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65005">[ date ]</a>
              <a href="thread.html#65005">[ thread ]</a>
              <a href="subject.html#65005">[ subject ]</a>
              <a href="author.html#65005">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
