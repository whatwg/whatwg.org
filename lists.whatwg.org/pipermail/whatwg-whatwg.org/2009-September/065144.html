<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Application defined &quot;locks&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Application%20defined%20%22locks%22&In-Reply-To=%3C11e306600909101655m441d3b01qcea36d83efb1fbd5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065090.html">
   <LINK REL="Next"  HREF="065117.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Application defined &quot;locks&quot;</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Application%20defined%20%22locks%22&In-Reply-To=%3C11e306600909101655m441d3b01qcea36d83efb1fbd5%40mail.gmail.com%3E"
       TITLE="[whatwg] Application defined &quot;locks&quot;">robert at ocallahan.org
       </A><BR>
    <I>Thu Sep 10 16:55:41 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="065090.html">[whatwg] Application defined &quot;locks&quot;
</A></li>
        <LI>Next message: <A HREF="065117.html">[whatwg] cloneNode and HTML elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65144">[ date ]</a>
              <a href="thread.html#65144">[ thread ]</a>
              <a href="subject.html#65144">[ subject ]</a>
              <a href="author.html#65144">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Sep 10, 2009 at 10:46 AM, Darin Fisher &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">darin at chromium.org</A>&gt; wrote:

&gt;<i> On Wed, Sep 9, 2009 at 3:37 PM, Maciej Stachowiak &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mjs at apple.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I'm really hesitant to expose explicit locking to the Web platform.
</I>&gt;&gt;<i> Mutexes are incredibly hard to program with correctly, and we will surely
</I>&gt;&gt;<i> end up with stuck locks, race conditions, livelocks, and so forth. For
</I>&gt;&gt;<i> Workers I was happy that we managed to avoid any locking primitives by using
</I>&gt;&gt;<i> a message-passing model, but explicit mutexes would ruin that.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Note: I probably made a mistake calling these locks since they do not work
</I>&gt;<i> like normal mutexes.  You can only wait for one of these locks
</I>&gt;<i> asynchronously.  There is no synchronous blocking, which avoids most of the
</I>&gt;<i> problems you mention.
</I>&gt;<i>
</I>
I don't think it does. It makes deadlock less bad, because the application
can still respond to events. But there will still be deadlocks in the sense
that cyclic waits-for graphs will permanently stop the application from
making progress. It won't help at all with livelocks or race conditions.

Rob
-- 
&quot;He was pierced for our transgressions, he was crushed for our iniquities;
the punishment that brought us peace was upon him, and by his wounds we are
healed. We all, like sheep, have gone astray, each of us has turned to his
own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
53:5-6]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090911/6479b3be/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090911/6479b3be/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065090.html">[whatwg] Application defined &quot;locks&quot;
</A></li>
	<LI>Next message: <A HREF="065117.html">[whatwg] cloneNode and HTML elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65144">[ date ]</a>
              <a href="thread.html#65144">[ thread ]</a>
              <a href="subject.html#65144">[ subject ]</a>
              <a href="author.html#65144">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
