<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Storage: apparent contradiction in spec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20apparent%20contradiction%20in%20spec&In-Reply-To=%3Cd62cf1d10909021136ob764acdmfa8af7b1852e90e7%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022556.html">
   <LINK REL="Next"  HREF="022558.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Storage: apparent contradiction in spec</H1>
<!--htdig_noindex-->
    <B>Peter Kasting</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20apparent%20contradiction%20in%20spec&In-Reply-To=%3Cd62cf1d10909021136ob764acdmfa8af7b1852e90e7%40mail.gmail.com%3E"
       TITLE="[whatwg] Web Storage: apparent contradiction in spec">pkasting at google.com
       </A><BR>
    <I>Wed Sep  2 11:36:43 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="022556.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
        <LI>Next message: <A HREF="022558.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22557">[ date ]</a>
              <a href="thread.html#22557">[ thread ]</a>
              <a href="subject.html#22557">[ subject ]</a>
              <a href="author.html#22557">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Sep 2, 2009 at 11:08 AM, Jens Alfke &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">snej at google.com</A>&gt; wrote:

&gt;<i> On Aug 31, 2009, at 12:04 PM, Peter Kasting wrote:
</I>&gt;<i>
</I>&gt;<i> If you combine that statement with section 6.1's &quot;User agents should
</I>&gt;&gt;<i> present the persistent storage feature to the user in a way that does not
</I>&gt;&gt;<i> distinguish them from HTTP session cookies&quot;, then the result is that, when
</I>&gt;&gt;<i> the user requests to delete cookies from a site, the UA will also delete
</I>&gt;&gt;<i> that site's local storage. That is *exactly* the behavior I am concerned
</I>&gt;&gt;<i> about.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> That's not true.  You're misinterpreting a statement about the granularity
</I>&gt;<i> of control users should have as one about what terminology a UA should use.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The [lack of] granularity of control actually is a serious concern,
</I>&gt;<i> whatever the terminology.
</I>&gt;<i>
</I>
It still seems like you are interpreting this statement as saying that the
UA must not allow users to keep/clear cookies separately from Local Storage
data.  While on the face of it that seems like a possible interpretation, I
think it's clear that this would be a lousy user experience and detrimental
to developers as well.  Therefore I am convinced that the intent of the
statement is to say that UAs must give users the same _abilities_ to see and
clear Local Storage data as they already have with cookies, not that the two
things should always be lumped together and made indistinguishable.

Of course, Hixie could step in here and clarify what he means.  But if he
really means what you think he means (that users must not be able to tell a
difference or control the two separately) then that seems like obvious
grounds for a revolt.

&gt;<i> The spec already recommends a bunch of things about what users should be
</I>&gt;<i> shown w.r.t. Local Storage, such as how much space a site is using, so it's
</I>&gt;<i> clear that a UA that wants to comply with this &quot;should&quot; is going to need to
</I>&gt;<i> construct UI that doesn't just use the word &quot;cookies&quot; everywhere but
</I>&gt;<i> actually presents the data as &quot;here's your locally stored data for this
</I>&gt;<i> site&quot; with local storage content enumerated.  Users won't be given a prompt
</I>&gt;<i> that says &quot;clear cookies&quot; that, confusingly, clears more than cookies;
</I>&gt;<i> they'll be given a prompt like &quot;clear all locally stored data&quot;.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The command will have to say something about cookies or it'll confuse
</I>&gt;<i> anyone but an HTML5 expert. It'd have to be more like &quot;Clear cookies and
</I>&gt;<i> other locally stored data&quot;.
</I>&gt;<i>
</I>
In general UAs should have separate checkboxes for these on their &quot;clear
private data&quot; UIs.

The fundamental problem here is that *some uses of local storage are nothing
&gt;<i> at all like cookies*, for the same reason that ~/Documents is not the same
</I>&gt;<i> as ~/Library/Caches.
</I>&gt;<i>
</I>
Yes, this is precisely why UAs should present them separately.

In the example I gave, the user needs to delete cookies for a site, but
&gt;<i> absolutely should not delete local storage. For the spec to tell browser
</I>&gt;<i> developers to present the two as being the same thing makes no sense here.
</I>&gt;<i>
</I>
See comment above.

PK
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090902/edf8c646/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090902/edf8c646/attachment.htm</A>&gt;
</PRE>










































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022556.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
	<LI>Next message: <A HREF="022558.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22557">[ date ]</a>
              <a href="thread.html#22557">[ thread ]</a>
              <a href="subject.html#22557">[ subject ]</a>
              <a href="author.html#22557">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
