<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20RFC%3A%20Alternatives%20to%20storage%20mutex%20for%20cookies%20and%0A%09localStorage&In-Reply-To=%3C11e306600909080202x26b07482h5f882c5cfc33fa9d%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065027.html">
   <LINK REL="Next"  HREF="065035.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20RFC%3A%20Alternatives%20to%20storage%20mutex%20for%20cookies%20and%0A%09localStorage&In-Reply-To=%3C11e306600909080202x26b07482h5f882c5cfc33fa9d%40mail.gmail.com%3E"
       TITLE="[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage">robert at ocallahan.org
       </A><BR>
    <I>Tue Sep  8 02:02:44 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="065027.html">[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage
</A></li>
        <LI>Next message: <A HREF="065035.html">[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65033">[ date ]</a>
              <a href="thread.html#65033">[ thread ]</a>
              <a href="subject.html#65033">[ subject ]</a>
              <a href="author.html#65033">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Sep 8, 2009 at 8:38 PM, Jeremy Orlow &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jorlow at chromium.org</A>&gt; wrote:

&gt;<i> To be clear, Chrome is not going to implement the storage mutex with
</I>&gt;<i> respect to cookies, but we are going to implement it for LocalStorage.
</I>&gt;<i>  Because of this, we can handle the localStorage mutex on a per-origin basis
</I>&gt;<i> (which I'm implementing right now).
</I>&gt;<i>
</I>
Looking back over previous threads on the storage mutex, I can't seem to
remember or find the reason that implementing the storage mutex for cookies
can't easily be done with a mutex per domain. Ian pointed out this approach
breaks if you can make synchronous script calls across origins (e.g. across
IFRAME boundaries), but can you actually make such calls? Or if you can
(NPAPI?), can we just declare that those APIs release the storage mutex?

I know that setting document.domain makes this tricky because it
synchronously enables new cross-domain interactions, but can't we handle
that by declaring that setting document.domain releases the storage mutex?

Rob
-- 
&quot;He was pierced for our transgressions, he was crushed for our iniquities;
the punishment that brought us peace was upon him, and by his wounds we are
healed. We all, like sheep, have gone astray, each of us has turned to his
own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
53:5-6]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090908/a6fc8196/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090908/a6fc8196/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065027.html">[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage
</A></li>
	<LI>Next message: <A HREF="065035.html">[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65033">[ date ]</a>
              <a href="thread.html#65033">[ thread ]</a>
              <a href="subject.html#65033">[ subject ]</a>
              <a href="author.html#65033">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
