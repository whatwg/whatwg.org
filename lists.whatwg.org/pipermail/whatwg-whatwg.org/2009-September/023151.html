<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Resolving the persistent vs cache dilemma with	file|save
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Resolving%20the%20persistent%20vs%20cache%20dilemma%20with%0A%09file%7Csave&In-Reply-To=%3C5dd9e5c50909231247u21ecaa44r3dbe4b02811066a9%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023145.html">
   <LINK REL="Next"  HREF="023165.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Resolving the persistent vs cache dilemma with	file|save</H1>
<!--htdig_noindex-->
    <B>Jeremy Orlow</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Resolving%20the%20persistent%20vs%20cache%20dilemma%20with%0A%09file%7Csave&In-Reply-To=%3C5dd9e5c50909231247u21ecaa44r3dbe4b02811066a9%40mail.gmail.com%3E"
       TITLE="[whatwg] Resolving the persistent vs cache dilemma with	file|save">jorlow at chromium.org
       </A><BR>
    <I>Wed Sep 23 12:47:57 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="023145.html">[whatwg] Resolving the persistent vs cache dilemma with file|save
</A></li>
        <LI>Next message: <A HREF="023165.html">[whatwg] Resolving the persistent vs cache dilemma with	file|save
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23151">[ date ]</a>
              <a href="thread.html#23151">[ thread ]</a>
              <a href="subject.html#23151">[ subject ]</a>
              <a href="author.html#23151">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Some of the suggestions in the thread were very similar to this.  If you
read it more carefully, I think you'll find answers to all your questions
and counter points to what you're suggesting.
I'm not saying there's no merit to this, but since the thread was not that
long ago, I don't think the burden should be on everyone on this list to
re-explain their points.

J

On Wed, Sep 23, 2009 at 8:04 AM, Mike Hearn &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mike at plan99.net</A>&gt; wrote:

&gt;<i> Hiya,
</I>&gt;<i>
</I>&gt;<i> I read the threads on whether local storage should be managed by the
</I>&gt;<i> browser or user with interest. I'm not sure if there was agreement on
</I>&gt;<i> this or not (didn't read the whole thing), but had an idea for one
</I>&gt;<i> solution. Namely, that local storage is indeed managed by the browser
</I>&gt;<i> automatically and can be purged at any time .... long-term client
</I>&gt;<i> persistence of web app data is instead done by letting webapps handle
</I>&gt;<i> the file-&gt;save menu item that exists in nearly every browser except
</I>&gt;<i> smartphones (see below).
</I>&gt;<i>
</I>&gt;<i> The advantages of providing onfilesave=&quot;&quot; and onfileload=&quot;&quot; event handlers
</I>&gt;<i> are:
</I>&gt;<i>
</I>&gt;<i> 1) It does not add complexity, because the user isn't expected to do
</I>&gt;<i> any more than they are today (no new ui to manage local storage etc)
</I>&gt;<i>
</I>&gt;<i> 2) It is 100% compatible with users existing mental model for how they
</I>&gt;<i> export data from an application that they wish to save, back up to
</I>&gt;<i> disk etc
</I>&gt;<i>
</I>&gt;<i> 3) It fixes the existing behavior of file|save for web apps which is
</I>&gt;<i> pretty useless and not what the user expects, unlike for regular web
</I>&gt;<i> pages where it does work
</I>&gt;<i>
</I>&gt;<i> 4) It solves the problem of client-side backups
</I>&gt;<i>
</I>&gt;<i> How could it work? In response to an onsave event, the app could
</I>&gt;<i> return a Storage object that contains the data that makes sense to
</I>&gt;<i> persist (ie, not big data files). There could be a few reserved keys
</I>&gt;<i> for things like the icon, default file name and URL to open in
</I>&gt;<i> conjunction with that &quot;web bundle&quot;. If the user double clicks or uses
</I>&gt;<i> file|open on such a file, the browser would load the URL named in the
</I>&gt;<i> bundle file and fire the onfileload handler with that storage object.
</I>&gt;<i>
</I>&gt;<i> This seems like a decent compromise between the two positions, in that
</I>&gt;<i> it'd let you make traditional desktop-style apps written in HTML as
</I>&gt;<i> Apple want, but for pure &quot;cloud&quot; apps that happen to just need more
</I>&gt;<i> local storage, the user isn't asked to do more than they are today -
</I>&gt;<i> which I personally consider vital for the evolution of the web.
</I>&gt;<i>
</I>&gt;<i> What about clients where there is no user-accessible file system, like
</I>&gt;<i> smartphones or perhaps ChromeOS? Then onfilesave/onfileload can be
</I>&gt;<i> integrated with whatever other UI is wanted - for instance, perhaps
</I>&gt;<i> starring/bookmarking should trigger a save to local storage, or a
</I>&gt;<i> basic &quot;documents associated with this web site&quot; list could be used.
</I>&gt;<i>
</I>&gt;<i> What do you think?
</I>&gt;<i>
</I>&gt;<i> thanks -mike
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090923/2b32f69d/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090923/2b32f69d/attachment.htm</A>&gt;
</PRE>


















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023145.html">[whatwg] Resolving the persistent vs cache dilemma with file|save
</A></li>
	<LI>Next message: <A HREF="023165.html">[whatwg] Resolving the persistent vs cache dilemma with	file|save
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23151">[ date ]</a>
              <a href="thread.html#23151">[ thread ]</a>
              <a href="subject.html#23151">[ subject ]</a>
              <a href="author.html#23151">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
