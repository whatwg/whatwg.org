<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20RFC%3A%20Alternatives%20to%20storage%20mutex%20for%20cookies%20and%0A%09localStorage&In-Reply-To=%3C11e306600909081945q6673c908n2484358aba95e062%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065073.html">
   <LINK REL="Next"  HREF="065027.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20RFC%3A%20Alternatives%20to%20storage%20mutex%20for%20cookies%20and%0A%09localStorage&In-Reply-To=%3C11e306600909081945q6673c908n2484358aba95e062%40mail.gmail.com%3E"
       TITLE="[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage">robert at ocallahan.org
       </A><BR>
    <I>Tue Sep  8 19:45:29 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="065073.html">[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage
</A></li>
        <LI>Next message: <A HREF="065027.html">[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65075">[ date ]</a>
              <a href="thread.html#65075">[ thread ]</a>
              <a href="subject.html#65075">[ subject ]</a>
              <a href="author.html#65075">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Sep 9, 2009 at 12:54 PM, Maciej Stachowiak &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mjs at apple.com</A>&gt; wrote:

&gt;<i> Yet another possibility is to keep a per-domain mutex, also offer a
</I>&gt;<i> transactional API, and accept that careless authors may indefinitely lock up
</I>&gt;<i> the UI for all pages in their domain (up to the slow script execution limit)
</I>&gt;<i> if they code poorly, but in exchange won't have unexpected race conditions
</I>&gt;<i> with themselves.
</I>&gt;<i>
</I>
I prefer this. If the app has a bug that causes one window to get stuck,
most likely that's the window the user cares about anyway, so the other
windows (temporarily) getting stuck is not a big deal. Also, if one window
is hogging the database then an asynchronously dispatched transaction is
going to be delayed indefinitely*, so some or all user operations in other
windows will not be able to complete, even if the other windows appear to be
responsive to events.

* Unless we adopt a model where scripts are required to detect aborts and
restart.

Rob
-- 
&quot;He was pierced for our transgressions, he was crushed for our iniquities;
the punishment that brought us peace was upon him, and by his wounds we are
healed. We all, like sheep, have gone astray, each of us has turned to his
own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
53:5-6]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090909/1c2c2d2a/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090909/1c2c2d2a/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065073.html">[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage
</A></li>
	<LI>Next message: <A HREF="065027.html">[whatwg] RFC: Alternatives to storage mutex for cookies and	localStorage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65075">[ date ]</a>
              <a href="thread.html#65075">[ thread ]</a>
              <a href="subject.html#65075">[ subject ]</a>
              <a href="author.html#65075">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
