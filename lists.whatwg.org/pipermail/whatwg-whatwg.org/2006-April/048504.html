<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Registering protocol handlers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Registering%20protocol%20handlers&In-Reply-To=%3C443EC73E.7090609%40web.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048502.html">
   <LINK REL="Next"  HREF="048505.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Registering protocol handlers</H1>
<!--htdig_noindex-->
    <B>Christian Biesinger</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Registering%20protocol%20handlers&In-Reply-To=%3C443EC73E.7090609%40web.de%3E"
       TITLE="[whatwg] Registering protocol handlers">cbiesinger at web.de
       </A><BR>
    <I>Thu Apr 13 14:48:46 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="048502.html">[whatwg] Language tags
</A></li>
        <LI>Next message: <A HREF="048505.html">[whatwg] Registering protocol handlers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48504">[ date ]</a>
              <a href="thread.html#48504">[ thread ]</a>
              <a href="subject.html#48504">[ subject ]</a>
              <a href="author.html#48504">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

so, the latest WhatWG spec has a way to register protocol handlers:
<A HREF="http://whatwg.org/specs/web-apps/current-work/#browser">http://whatwg.org/specs/web-apps/current-work/#browser</A>

Its specification seems to have some issues:
- The mimeType argument description says &quot;If mimeType values passed to 
this method include characters such as commas or whitespace&quot;

It seems to me that using &quot;such as&quot; in a normative part of the 
specification is a rather bad idea. This also doesn't define what to do 
with syntactically malformed types (throw an exception or do nothing?).

(Are schemes ever syntactically invalid as far as this method is 
concerned, and should an exception be thrown if they are?)

- The spec doesn't say what should happen if multiple pages try to 
register a handler, but maybe that's intentional (should it say that 
this is outside the scope of the spec?)

- The character set that should be used before escaping the URI is not 
defined. I assume it's UTF-8 (for all parts of the URI, including the 
query)?

- Which characters should be escaped? The example that's later given 
seems to imply &quot;everything that's not an ASCII alphanumeric character&quot;. 
Is that the right interpretation?

- What should happen with a syntactically malformed URI? Exception or 
silently do nothing?

- The section &quot;4.10.2.1. Security and privacy concerns [...]&quot; has an 
informative-sounding heading but does in fact seem to have normative 
statements like &quot;User agents must never send username or password 
information in the URIs that are escaped and included sent to the 
handler sites.&quot;

- It also doesn't define what exactly the registered handlers should be 
applied to (just link clicks/loads initiated from URL bar and similar), 
or also embedded content, but this seems to be intentional?

But maybe all that doesn't matter so much, given:
&quot;User agents may do whatever they like when the methods are called.&quot;
&quot;This section does not define how the pages registered by these methods 
are used.&quot;
???

Is this feature a serious part of the spec? Why bother specifying the 
above when UAs can ignore it or parts of it anyway? With this amount of 
undefined behaviour, there doesn't seem to be any hope for interoperability.

-biesi
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 4762 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20060413/8a3ff2b2/attachment-0001.bin">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20060413/8a3ff2b2/attachment-0001.bin</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048502.html">[whatwg] Language tags
</A></li>
	<LI>Next message: <A HREF="048505.html">[whatwg] Registering protocol handlers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48504">[ date ]</a>
              <a href="thread.html#48504">[ thread ]</a>
              <a href="subject.html#48504">[ subject ]</a>
              <a href="author.html#48504">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
