<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Audio Interface
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Audio%20Interface&In-Reply-To=%3C9540d010604242311x2fe6237ra1a7d509e1e3ac28%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048562.html">
   <LINK REL="Next"  HREF="048565.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Audio Interface</H1>
<!--htdig_noindex-->
    <B>Vladimir Vukicevic</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Audio%20Interface&In-Reply-To=%3C9540d010604242311x2fe6237ra1a7d509e1e3ac28%40mail.gmail.com%3E"
       TITLE="[whatwg] Audio Interface">vladimirv at gmail.com
       </A><BR>
    <I>Mon Apr 24 23:11:11 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="048562.html">[whatwg] Audio Interface
</A></li>
        <LI>Next message: <A HREF="048565.html">[whatwg] &amp;apos; in text/html
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48563">[ date ]</a>
              <a href="thread.html#48563">[ thread ]</a>
              <a href="subject.html#48563">[ subject ]</a>
              <a href="author.html#48563">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 4/24/06, Jeff Schiller &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">codedread at gmail.com</A>&gt; wrote:
&gt;<i> Vlad,
</I>&gt;<i>
</I>&gt;<i> Thanks for the reply.  I would prefer something with the actual MIME
</I>&gt;<i> types.  Here are some important ones (in my opinion):
</I>&gt;<i>
</I>&gt;<i> audio/x-wav
</I>&gt;<i> audio/mpeg
</I>&gt;<i> application/ogg
</I>&gt;<i> audio/mid
</I>
Sure, the actual mime types would be fine.  One problem is that
application/ogg isn't specifically an audio format, since ogg is just
a container format... the same would apply to mpeg4, say.  Not sure
what to do about that, since the MIME types aren't descriptive enough
there.

&gt;<i> &gt; &lt;audio id=&quot;background&quot; src=&quot;background.wav&quot; state=&quot;playing&quot; repeat=&quot;true&quot;&gt;
</I>&gt;<i> &gt; &lt;audio id=&quot;fx1&quot; src=&quot;fx1.wav&quot;&gt;
</I>&gt;<i> &gt; &lt;audio id=&quot;fx1&quot; src=&quot;fx1.wav&quot;&gt;
</I>&gt;<i>
</I>&gt;<i> I don't personally see a strong need at this point, but if you're
</I>&gt;<i> going to do this, at least make them valid XML elements :P
</I>
HTML isn't a XML language :)  But yes, in XHTML they would be &lt;audio/&gt;, sure.

    - Vlad

&gt;<i> On 4/24/06, Vladimir Vukicevic &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">vladimirv at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; On 4/21/06, Jeff Schiller &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">codedread at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; 2) Can you clarify the mechanism to determine if a user agent supports
</I>&gt;<i> &gt; &gt; a particular content type?  Otherwise, as a developer do I just assume
</I>&gt;<i> &gt; &gt; that every browser will support .wav or .mp3 or .ogg or .mid or .... ?
</I>&gt;<i> &gt; &gt;  What about a static method on the Audio interface to query content
</I>&gt;<i> &gt; &gt; types?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; A static method would probably be best (or even a sting, with &quot;wav mp3
</I>&gt;<i> &gt; ogg m4a&quot; or something in it, or even the actual mime type for the
</I>&gt;<i> &gt; format).  WAV would probably be the baseline required format.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; 3) I think full URIs should be allowed in the Audio constructor.  Why
</I>&gt;<i> &gt; &gt; must the URI be a relative one?  Is this some crude means of
</I>&gt;<i> &gt; &gt; preventing leaching of bandwidth?  I feel this is artifically
</I>&gt;<i> &gt; &gt; constraining what I should be allowed to do as a developer and as a
</I>&gt;<i> &gt; &gt; service provider.  What if Google wants to start an audio ad program
</I>&gt;<i> &gt; &gt; for websites?  What if I want to start a web service to let web
</I>&gt;<i> &gt; &gt; developers use sounds on my server?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I don't see where the spec states that the URI must be relative -- it
</I>&gt;<i> &gt; merely states that the URI that is used for resolving relative URIs is
</I>&gt;<i> &gt; the window.location.href URI.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; 4) The term &quot;repeat count&quot; is misleading.The word &quot;repeat&quot; implies a
</I>&gt;<i> &gt; &gt; re-occurence, so &quot;to repeat once&quot; means to play a total of two times.
</I>&gt;<i> &gt; &gt; Just globally rename &quot;repeat count&quot; to &quot;play count&quot;.  This is more
</I>&gt;<i> &gt; &gt; accurate of what this number actually is (the number of times the
</I>&gt;<i> &gt; &gt; sound will play).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I agree; play count would be more descriptive.  I'd also like to see a
</I>&gt;<i> &gt; pause() method, that pauses playback at whatever current frame is
</I>&gt;<i> &gt; playing, and then resumes playback there on play().
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On the same subject, here's a copy of an email I sent a little while
</I>&gt;<i> &gt; ago, that I ended up mistakenly not Cc'ing the whatwg list on:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I've been recently thinking about audio as well.. however, I'm not
</I>&gt;<i> &gt; sure about them not having a DOM presence.  This may be totally off
</I>&gt;<i> &gt; the wall, but what about adding &lt;audio src=&quot;foo.wav&quot;&gt; as an element
</I>&gt;<i> &gt; within &lt;head&gt;?  The default state of an &lt;audio&gt; element would be
</I>&gt;<i> &gt; &quot;stopped&quot;, but we could do something like:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &lt;audio id=&quot;background&quot; src=&quot;background.wav&quot; state=&quot;playing&quot; repeat=&quot;true&quot;&gt;
</I>&gt;<i> &gt; &lt;audio id=&quot;fx1&quot; src=&quot;fx1.wav&quot;&gt;
</I>&gt;<i> &gt; &lt;audio id=&quot;fx1&quot; src=&quot;fx1.wav&quot;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; the state attribute would take a value of &quot;stopped&quot; (frame 0),
</I>&gt;<i> &gt; &quot;playing&quot;, &quot;paused&quot; (paused/stopped with playback resuming at whatever
</I>&gt;<i> &gt; frame when it was paused).  These could be mapped to CSS -audio-state
</I>&gt;<i> &gt; and -audio-repeat or something.  Having these as elements would make
</I>&gt;<i> &gt; operations like &quot;save as complete web page&quot; be able to do something
</I>&gt;<i> &gt; useful with the audio elements (even though they could still be
</I>&gt;<i> &gt; created/loaded purely programmatically).  The default attributes might
</I>&gt;<i> &gt; be state=&quot;playing&quot; with repeat=&quot;false&quot;; a bgsound equivalent would be
</I>&gt;<i> &gt; obtained by state=&quot;playing&quot; repeat=&quot;true&quot;.  The UA should provide a
</I>&gt;<i> &gt; way to disable audio elements; I'm not a huge fan of bgsound.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Something else that I think would be useful would be an onrepeat
</I>&gt;<i> &gt; handler; that is, whenever a looping audio stream repeats, it would
</I>&gt;<i> &gt; fire the handler.  This could be useful for audio synchronization,
</I>&gt;<i> &gt; e.g. you want to have something happen every time your alarm klaxon
</I>&gt;<i> &gt; audio repeats, and timers aren't quite precise enough.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    - Vlad
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048562.html">[whatwg] Audio Interface
</A></li>
	<LI>Next message: <A HREF="048565.html">[whatwg] &amp;apos; in text/html
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48563">[ date ]</a>
              <a href="thread.html#48563">[ thread ]</a>
              <a href="subject.html#48563">[ subject ]</a>
              <a href="author.html#48563">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
