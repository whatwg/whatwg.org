<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Conformance requirements for IRIs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Conformance%20requirements%20for%20IRIs&In-Reply-To=%3CFF8864C2-5542-460A-90C7-91BB02A2D152%40iki.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048519.html">
   <LINK REL="Next"  HREF="048567.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Conformance requirements for IRIs</H1>
<!--htdig_noindex-->
    <B>Henri Sivonen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Conformance%20requirements%20for%20IRIs&In-Reply-To=%3CFF8864C2-5542-460A-90C7-91BB02A2D152%40iki.fi%3E"
       TITLE="[whatwg] Conformance requirements for IRIs">hsivonen at iki.fi
       </A><BR>
    <I>Mon Apr 17 09:14:14 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="048519.html">[whatwg] Boolean attributes on datagrid
</A></li>
        <LI>Next message: <A HREF="048567.html">[whatwg] Conformance requirements for IRIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48520">[ date ]</a>
              <a href="thread.html#48520">[ thread ]</a>
              <a href="subject.html#48520">[ subject ]</a>
              <a href="author.html#48520">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>In WA 1.0 and WF 2.0 some values are required to be IRIs and some  
values are required to be IRI references. I'm confused about what  
exactly this means in terms of conformance checking. (WF 2.0 does say  
something about processing in a browser, though.)

First, I was amazed to learn that for pure non-infoset-augmenting  
validation xsd:anyURI datatype does not mean anything useful beyond  
token and that it is not exactly an IRI reference.
<A HREF="http://www.imc.org/atom-syntax/mail-archive/msg17990.html">http://www.imc.org/atom-syntax/mail-archive/msg17990.html</A>
<A HREF="http://www.mail-archive.com/rng-users@yahoogroups.com/msg00350.html">http://www.mail-archive.com/rng-users@yahoogroups.com/msg00350.html</A>

Having read
<A HREF="http://www.w3.org/TR/xlink/#link-locators">http://www.w3.org/TR/xlink/#link-locators</A>
I started to suspect that just about every string indeed can be  
considered sort of an IRI reference that can munged into an IRI  
reference so there's nothing to check.

Then I found
<A HREF="http://jena.sourceforge.net/tmp/javadoc/com/hp/hpl/jena/iri/">http://jena.sourceforge.net/tmp/javadoc/com/hp/hpl/jena/iri/</A> 
IRIFactory.html
which provides a fascinating number of enforcement options. I could  
write a custom datatype wrapper for it, but I don't know which  
options to use.

I'd appreciate some guidance on which enforcement options to use.  
(E.g. should knowledge of the http scheme used? Should security  
issues be flagged as non-conforming? Should &quot;SHOULD&quot; violations be  
flagged as non-conforming? Etc.)



(This is the first time I venture into the world of IRIs. I have  
intuitively thought that they are trouble, so I have knowingly  
avoided minting non-URI IRIs myself.

I suspected that bad stuff happens with IRIs containing decomposed  
character sequences. (These can be found in the URI form due to HFS+- 
backed Apache setups.) Now that I've read the RFC, I think it is a  
very bad idea to allow decomposed characters in IRIs and that the RFC  
does not require percent encoding character sequences that are not  
invariant under NFC.

This may have relevance to how the WF 2.0 url input works. That is,  
it probably SHOULD (MUST?) NOT percent-decode URIs that would result  
in IRIs that are not invariant under NFC.)

-- 
Henri Sivonen
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at iki.fi</A>
<A HREF="http://hsivonen.iki.fi/">http://hsivonen.iki.fi/</A>



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048519.html">[whatwg] Boolean attributes on datagrid
</A></li>
	<LI>Next message: <A HREF="048567.html">[whatwg] Conformance requirements for IRIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48520">[ date ]</a>
              <a href="thread.html#48520">[ thread ]</a>
              <a href="subject.html#48520">[ subject ]</a>
              <a href="author.html#48520">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
