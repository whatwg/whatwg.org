<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] id and xml:id
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20id%20and%20xml%3Aid&In-Reply-To=%3C44303B67.4030808%40inkedblade.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048444.html">
   <LINK REL="Next"  HREF="048453.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] id and xml:id</H1>
<!--htdig_noindex-->
    <B>fantasai</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20id%20and%20xml%3Aid&In-Reply-To=%3C44303B67.4030808%40inkedblade.net%3E"
       TITLE="[whatwg] id and xml:id">fantasai.lists at inkedblade.net
       </A><BR>
    <I>Sun Apr  2 14:00:23 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="048444.html">[whatwg] id and xml:id
</A></li>
        <LI>Next message: <A HREF="048453.html">[whatwg] id and xml:id
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48446">[ date ]</a>
              <a href="thread.html#48446">[ thread ]</a>
              <a href="subject.html#48446">[ subject ]</a>
              <a href="author.html#48446">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Henri Sivonen wrote:
&gt;<i> On Apr 2, 2006, at 18:56, fantasai wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> I'd rather see the id attribute restricted to an NCName token insofar
</I>&gt;&gt;<i> as possible. We can make an exception for Hixie's repetition  templates,
</I>&gt;&gt;<i> but otherwise I think it should be compatible with the XML ID syntax.
</I>&gt;<i> 
</I>&gt;<i> Do you mean common attrs should have a co-occurrence constraint that  
</I>&gt;<i> changes the datatype of the id attribute if the repeat attribute is  
</I>&gt;<i> present?
</I>
Yes. Or, at the very least, if the repetition module is loaded.

&gt;<i> I was planning on defining the datatype of the id attribute as
</I>&gt;<i>   xsd:string {
</I>&gt;<i>     pattern = &quot;\S+&quot;
</I>&gt;<i>   }
</I>&gt;<i> 
</I>&gt;<i> NCName with the exception that it allows [ and ] will be one huge  
</I>&gt;<i> regexp. (But doable, of course.) If that is what we want, the syntax  
</I>&gt;<i> should probably be
</I>&gt;<i> (Letter | '_') (NCNameCharWithout02D1and00B7)* (('[' | #x02D1)  ( 
</I>&gt;<i> NCNameCharWithout02D1and00B7)+ (']' | #x00B7)))?  ( 
</I>&gt;<i> NCNameCharWithout02D1and00B7)*
</I>&gt;<i> with the XML 1.0 definitions of Letter and NCNameChar.
</I>
Cool, that would even catch mismatched brackets. :)

&gt;&gt;<i> The concept of &quot;idness&quot; is a useful one for many tools, and even if
</I>&gt;&gt;<i> browsers don't care what characters there are, other tools do. We  can't
</I>&gt;&gt;<i> express IDness in a schema if we insist on ignoring its syntactic
</I>&gt;&gt;<i> restrictions.
</I>&gt;<i> 
</I>&gt;<i> I didn't bother to make that argument, because I thought changing the  
</I>&gt;<i> language to fit schemas wouldn't go down well with Hixie. :-)
</I>&gt;<i> 
</I>&gt;<i> (In <A HREF="http://hsivonen.iki.fi/lists-in-attributes/">http://hsivonen.iki.fi/lists-in-attributes/</A> I tried to bring a  
</I>&gt;<i> general &quot;less code and more reuse of correct code&quot; argument into it  
</I>&gt;<i> instead of only playing the &quot;it's incompatible with my schema  language 
</I>&gt;<i> of choice&quot; argument.)
</I>
It's not &quot;my schema language of choice&quot;, it's &quot;the top three (by a long
shot) schema languages in use for XML&quot;.

&gt;<i> I wasn't even expecting to be able to do IDREF integrity checks in  
</I>&gt;<i> RELAX NG. I was planning on doing it in Schematron or Java. Besides,  
</I>&gt;<i> general IDREF integrity checking does not check that, for example,  the 
</I>&gt;<i> form attribute references only form elements and not just any ids.
</I>
I would want that in the RelaxNG schema because there are editing tools
that hook into RelaxNG, but not many (or any besides validators) that can
hook into Schematron (Glazou, for example, is working on a RelaxNG-driven
editor.) RelaxNG /can/ do IDREF integrity checks. The part about form
attributes referencing only form elements can be checked by Schematron.
 From an authoring standpoint, the *most* useful part of IDREF integrity
checking is to check against typos, not against misinterpretation of the
idref attribute's intent. :)

~fantasai

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048444.html">[whatwg] id and xml:id
</A></li>
	<LI>Next message: <A HREF="048453.html">[whatwg] id and xml:id
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48446">[ date ]</a>
              <a href="thread.html#48446">[ thread ]</a>
              <a href="subject.html#48446">[ subject ]</a>
              <a href="author.html#48446">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
