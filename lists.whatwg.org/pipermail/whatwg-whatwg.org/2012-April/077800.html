<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Encoding Sniffing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Encoding%20Sniffing&In-Reply-To=%3CFAA095D7-6F14-4F76-9D30-8574C9B3D019%40webkit.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077791.html">
   <LINK REL="Next"  HREF="035513.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Encoding Sniffing</H1>
<!--htdig_noindex-->
    <B>Alexey Proskuryakov</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Encoding%20Sniffing&In-Reply-To=%3CFAA095D7-6F14-4F76-9D30-8574C9B3D019%40webkit.org%3E"
       TITLE="[whatwg] Encoding Sniffing">ap at webkit.org
       </A><BR>
    <I>Mon Apr 23 10:58:17 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077791.html">[whatwg] Encoding Sniffing
</A></li>
        <LI>Next message: <A HREF="035513.html">[whatwg] Elements to markup article headings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77800">[ date ]</a>
              <a href="thread.html#77800">[ thread ]</a>
              <a href="subject.html#77800">[ subject ]</a>
              <a href="author.html#77800">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
21.04.2012, &#1074; 3:21, Anne van Kesteren &#1085;&#1072;&#1087;&#1080;&#1089;&#1072;&#1083;(&#1072;):

&gt;<i> 1) Is this something we want to define and eventually implement the same way?
</I>
I think that the general direction should be getting rid of encoding sniffing. It's very rarely helpful if ever, and implementations are wildly different.

WebKit can optionally use ICU for charset detection. We also have custom built-in heuristics to switch between Japanese encodings only (think rendering unlabeled EUC-JP pages when default browser encoding is set to Shift-JIS). Safari doesn't enable ICU based detection to no visible user disconcert, and I don't know if the Japanese heuristics are still important.

&gt;<i> 2) Does this need to apply outside HTML? For JavaScript it forbidden per the HTML standard at the moment. CSS and XML do not allow it either. Is it used for decoding text/plain at the moment?
</I>&gt;<i> 3) Is there a limit to how many bytes we should look at?
</I>
Related to the last question, WebKit doesn't implement re-navigation (neither for charset sniffing, nor for &lt;meta charset&gt;), and I don't think that we ever should.

- WBR, Alexey Proskuryakov


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077791.html">[whatwg] Encoding Sniffing
</A></li>
	<LI>Next message: <A HREF="035513.html">[whatwg] Elements to markup article headings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77800">[ date ]</a>
              <a href="thread.html#77800">[ thread ]</a>
              <a href="subject.html#77800">[ subject ]</a>
              <a href="author.html#77800">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
