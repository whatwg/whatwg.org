<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [Canvas] Text height
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BCanvas%5D%20Text%20height&In-Reply-To=%3CC9FC62B6-1D64-4122-A993-DCEE29791588%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035521.html">
   <LINK REL="Next"  HREF="077811.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [Canvas] Text height</H1>
<!--htdig_noindex-->
    <B>Tyler Larson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BCanvas%5D%20Text%20height&In-Reply-To=%3CC9FC62B6-1D64-4122-A993-DCEE29791588%40gmail.com%3E"
       TITLE="[whatwg] [Canvas] Text height">talltyler at gmail.com
       </A><BR>
    <I>Mon Apr 23 10:29:29 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="035521.html">[whatwg] Proposal for readyState behavior
</A></li>
        <LI>Next message: <A HREF="077811.html">[whatwg] [Canvas] Text height
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35524">[ date ]</a>
              <a href="thread.html#35524">[ thread ]</a>
              <a href="subject.html#35524">[ subject ]</a>
              <a href="author.html#35524">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>The measureText method in canvas' 2d context only returns the width of a span of text. Why not the height? 
I understand the desire to keep text rendering simple but for people that want to expand on this even a little bit needing to work around not having access to the height only complicates the simplicity of the whole thing.

Already included in the canvas context is the ability to set the context.textBaseline, this is actually a rather advanced feature I would think but the problem is that if you are changing it from the default and filling text at 0,0 the text will be rendered off the screen. To figure out the position that the text needs to be rendered to get it back on the screen with a textBaseline as 'alphabetic' you would need the height of the text I would think? Also if you are rendering a few lines of text, you would want to know the height of the last line to know where the next line should be rendered. 

Early versions of Bespin used the width of a 'm' character to guess at what the height of all characters would be. This is far to obscure for the standard user to figure out or even have an understanding why in my mind. But that trick doesn't work with fonts that don't have standard proportions. 

I have seen other far more complicated ways to get at the same information but how about just adding height to the measureText method?

Here are some post around the internet of people complicating things to get at this information
<A HREF="http://stackoverflow.com/questions/1134586/how-can-you-find-the-height-of-text-on-an-html-canvas">http://stackoverflow.com/questions/1134586/how-can-you-find-the-height-of-text-on-an-html-canvas</A>
<A HREF="http://www.html5rocks.com/en/tutorials/canvas/texteffects/#toc-text-shadow-clipping">http://www.html5rocks.com/en/tutorials/canvas/texteffects/#toc-text-shadow-clipping</A>
<A HREF="http://mudcu.be/journal/2011/01/html5-typographic-metrics/#measure">http://mudcu.be/journal/2011/01/html5-typographic-metrics/#measure</A>


This is my first post to this list, I'm sorry if this isn't formatted the way proposals should be. 
I'm happy to include more information or examples if needed.
I have other ideas to add but I thought I would start here, one property at a time.

Thanks, 
Tyler Larson



</PRE>
















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035521.html">[whatwg] Proposal for readyState behavior
</A></li>
	<LI>Next message: <A HREF="077811.html">[whatwg] [Canvas] Text height
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35524">[ date ]</a>
              <a href="thread.html#35524">[ thread ]</a>
              <a href="subject.html#35524">[ subject ]</a>
              <a href="author.html#35524">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
