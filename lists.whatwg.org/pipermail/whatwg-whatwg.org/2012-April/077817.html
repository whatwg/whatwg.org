<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] File based permission files?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20File%20based%20permission%20files%3F&In-Reply-To=%3C4F985C3D.5010301%40jumis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077816.html">
   <LINK REL="Next"  HREF="077819.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] File based permission files?</H1>
<!--htdig_noindex-->
    <B>Charles Pritchard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20File%20based%20permission%20files%3F&In-Reply-To=%3C4F985C3D.5010301%40jumis.com%3E"
       TITLE="[whatwg] File based permission files?">chuck at jumis.com
       </A><BR>
    <I>Wed Apr 25 13:19:09 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077816.html">[whatwg] File based permission files?
</A></li>
        <LI>Next message: <A HREF="077819.html">[whatwg] File based permission files?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77817">[ date ]</a>
              <a href="thread.html#77817">[ thread ]</a>
              <a href="subject.html#77817">[ subject ]</a>
              <a href="author.html#77817">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 4/25/2012 1:01 PM, Tyler Larson wrote:
&gt;&gt;<i> You can do cross-domain permission via IFRAME and postMessage.
</I>&gt;&gt;<i> Now that transfer semantics are widely accepted, you can efficiently send an array buffer across frames.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So you setup something like trampoline.html, you connect to it via iframe and send it a message, then trampoline.html does an XHR request (in its own domain) and sends back the data.
</I>&gt;&gt;<i> It's better than a .xml file because it's scriptable.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -Charles
</I>&gt;&gt;<i>
</I>&gt;<i> Good to know, I haven't used this before but it still seems to be intended for a different use case.
</I>&gt;<i> I'm basing my knowledge on write ups like this, <A HREF="https://developer.mozilla.org/en/DOM/window.postMessage">https://developer.mozilla.org/en/DOM/window.postMessage</A>
</I>&gt;<i>  From my understanding the pixel data would need to be loaded into the iframes page, that page would then get the pixel data and post that data back so that I could then use it.
</I>Yes, you'd send pixel data or you'd send the file data (as received from 
XHR as an array buffer or blob).

&gt;<i> I can get around my issue a bunch of different ways and people will be forced to create all forms of hacks and proxy servers to make their applications work but based on the things I have seen, what you are suggesting is far more complicated than a standard crossdomain.xml setup. Setting something up once and moving on, rather than needing to script a communication layer between what files you want to load and sending that information across a messing system.
</I>
It's not very complicated, it's a few lines of code.

It's certainly more complicated than things &quot;just working&quot; with 
crossdomain.xml and/or CORS.
But it is a solution that works across all browsers that work with 
postMessage.

It's also a solution that we may see more of with things like web 
intents and wider use of SharedWorker.

&gt;<i> I still think that my proposal is valid.
</I>&gt;<i> Lets say I am building anything using the canvas that loads images from anywhere else on the internet and then wants to manipulate them.
</I>&gt;<i> If javascript used the same setup, a crossdomain.xml file would be loaded without the developer needing to do anything as soon as they requested something that needed the permissions. An event would be fired if this you tried to do something that you didn't have permissions to do, otherwise everything would just work.
</I>
Your proposal is certainly valid. Currently one could probably use Flash 
for crossdomain.xml.
You're looking to put something out there that people can use without 
needing to change settings on their web host.
That's a reasonable goal. And crossdomain.xml did work well for a 
limited set of cases with Flash.

I'm just saying that we have methods in place today that do work.

&gt;<i> The current COR setup is also transparent which I like, what I don't like about it is simply that system admins will fight needing to reconfigure their servers to add these headers leaving developers unable to use these features. If we make use of the security files already in place we can get going on canvas based image manipulation today without anyone needing to change anything.
</I>
Seems like it's about four lines of code in Flash:
<A HREF="http://stackoverflow.com/questions/1088323/flash-crossdomain-xml-problems">http://stackoverflow.com/questions/1088323/flash-crossdomain-xml-problems</A>

postMessage isn't much different. I doubt you'll see vendor buy-in on 
the proposal simply because so much is working with web messaging.

-Charles

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077816.html">[whatwg] File based permission files?
</A></li>
	<LI>Next message: <A HREF="077819.html">[whatwg] File based permission files?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77817">[ date ]</a>
              <a href="thread.html#77817">[ thread ]</a>
              <a href="subject.html#77817">[ subject ]</a>
              <a href="author.html#77817">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
