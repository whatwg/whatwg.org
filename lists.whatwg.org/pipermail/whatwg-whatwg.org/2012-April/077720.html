<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Adding blending to the canvas API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Adding%20blending%20to%20the%20canvas%20API&In-Reply-To=%3CCA%2B44znhexs2sfuPURn0XiN9yHqtG8hHxC7Umt01dfB85M-UO4Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077718.html">
   <LINK REL="Next"  HREF="077721.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Adding blending to the canvas API</H1>
<!--htdig_noindex-->
    <B>David Geary</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Adding%20blending%20to%20the%20canvas%20API&In-Reply-To=%3CCA%2B44znhexs2sfuPURn0XiN9yHqtG8hHxC7Umt01dfB85M-UO4Q%40mail.gmail.com%3E"
       TITLE="[whatwg] Adding blending to the canvas API">david.mark.geary at gmail.com
       </A><BR>
    <I>Fri Apr 13 10:36:48 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077718.html">[whatwg] Adding blending to the canvas API
</A></li>
        <LI>Next message: <A HREF="077721.html">[whatwg] Adding blending to the canvas API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77720">[ date ]</a>
              <a href="thread.html#77720">[ thread ]</a>
              <a href="subject.html#77720">[ subject ]</a>
              <a href="author.html#77720">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Apr 13, 2012 at 11:16 AM, Rik Cabanier &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">cabanier at gmail.com</A>&gt; wrote:

&gt;<i> On Fri, Apr 13, 2012 at 2:17 AM, Ashley Gullen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ashley at scirra.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; This looks very handy for games as well!  Things like 'screen' work very
</I>&gt;<i> &gt; nicely for some effects, especially explosions.
</I>&gt;<i>
</I>&gt;<i> Yes, these effects are very commonly used in games, animation and artwork.
</I>&gt;<i>
</I>
And presumably having them implemented by browser vendors will be more
efficient than doing it by hand.

&gt;<i> Surely you'd want to extend the existing list of globalCompositeOperation
</I>&gt;<i> &gt; though?
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> That seemed the easiest way to go.
</I>&gt;<i> I can see some edge cases that you wouldn't be able to implement easy (ie
</I>&gt;<i> do a src-out with a screen). I think it would still be possible to do but
</I>&gt;<i> it would take an extra step.
</I>

And presumably the extra step will be less efficient than if the browser
did it. Also, the developer must implement the extra step. It seems to me
that the extra step may also require an additional offscreen bitmap.

&gt;<i>  Otherwise you'd have to define how globalCompositeOperation and
</I>
&gt;<i> globalBlendOperation interact.
</I>&gt;<i>
</I>

&gt;<i> &gt; My spec is trying to define how they interact. Basically, blending is
</I>&gt;<i> done
</I>&gt;<i> first and replaces the original source. This new source is then composited.
</I>&gt;<i>
</I>
Sorry, I&#8217;m confused. If that&#8217;s how they interact, then musn&#8217;t blending and
compositing be separate things? If you extend the list of
globalCompositeOperation valid values to include blends, then you can do
either a blend or a composite, but not both.


david


&gt;<i>
</I>&gt;<i> Thanks for the feedback!
</I>&gt;<i>
</I>&gt;<i> Rik
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 12 April 2012 00:39, Rik Cabanier &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">cabanier at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; :-)
</I>&gt;<i> &gt;&gt; They are definitely more familiar to designers but they both have their
</I>&gt;<i> &gt;&gt; place.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; On Wed, Apr 11, 2012 at 4:30 PM, Jeremy Apthorp &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jeremya at chromium.org</A>
</I>&gt;<i> &gt;&gt; &gt;wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt; On Wed, Apr 11, 2012 at 4:05 PM, Rik Cabanier &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">cabanier at gmail.com</A>&gt;
</I>&gt;<i> &gt;&gt; wrote:
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; All,
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; I'm working on a spec to add blending and compositing through simple
</I>&gt;<i> &gt;&gt; CSS
</I>&gt;<i> &gt;&gt; &gt;&gt; keywords. It is trying to define a generic model that is not specific
</I>&gt;<i> &gt;&gt; to
</I>&gt;<i> &gt;&gt; &gt;&gt; Canvas, HTML or SVG and then lists how the model could be
</I>&gt;<i> implemented.
</I>&gt;<i> &gt;&gt; &gt;&gt; We've gotten some comments that this feature would be useful in
</I>&gt;<i> Canvas
</I>&gt;<i> &gt;&gt; as
</I>&gt;<i> &gt;&gt; &gt;&gt; well so I was wondering if it made sense to add it to the canvas API.
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; I can see 2 ways of adding this:
</I>&gt;<i> &gt;&gt; &gt;&gt; 1. extend the list of compositing operators (
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#compositing">http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#compositing</A>
</I>&gt;<i> &gt;&gt; &gt;&gt; )
</I>&gt;<i> &gt;&gt; &gt;&gt; with blending. This is what is currently in the draft spec (
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> <A HREF="https://dvcs.w3.org/hg/FXTF/rawfile/tip/compositing/index.htmlchapter">https://dvcs.w3.org/hg/FXTF/rawfile/tip/compositing/index.htmlchapter</A> 7)
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; 2. create a new attribute on the context called
</I>&gt;<i> 'globalBlendOperation'
</I>&gt;<i> &gt;&gt; &gt;&gt; that
</I>&gt;<i> &gt;&gt; &gt;&gt; takes the same list of blend operations as css (
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> <A HREF="https://dvcs.w3.org/hg/FXTF/rawfile/tip/compositing/index.html#blend-mode">https://dvcs.w3.org/hg/FXTF/rawfile/tip/compositing/index.html#blend-mode</A>
</I>&gt;<i> &gt;&gt; &gt;&gt; )
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; Any thoughts?
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; This seems much more useful than the existing composite operations :)
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077718.html">[whatwg] Adding blending to the canvas API
</A></li>
	<LI>Next message: <A HREF="077721.html">[whatwg] Adding blending to the canvas API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77720">[ date ]</a>
              <a href="thread.html#77720">[ thread ]</a>
              <a href="subject.html#77720">[ subject ]</a>
              <a href="author.html#77720">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
