<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Drag-and-drop folders/files support with directory structure using DirectoryEntry
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Drag-and-drop%20folders/files%20support%20with%20directory%0A%20structure%20using%20DirectoryEntry&In-Reply-To=%3CCAMWgRNZyCSRJ4GHKm%3Do%3Du27L9bGsAv9%3DuC2sZ4iEhh5J3TSAiQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077644.html">
   <LINK REL="Next"  HREF="077672.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Drag-and-drop folders/files support with directory structure using DirectoryEntry</H1>
<!--htdig_noindex-->
    <B>Kinuko Yasuda</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Drag-and-drop%20folders/files%20support%20with%20directory%0A%20structure%20using%20DirectoryEntry&In-Reply-To=%3CCAMWgRNZyCSRJ4GHKm%3Do%3Du27L9bGsAv9%3DuC2sZ4iEhh5J3TSAiQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Drag-and-drop folders/files support with directory structure using DirectoryEntry">kinuko at chromium.org
       </A><BR>
    <I>Mon Apr  9 01:35:51 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077644.html">[whatwg] Drag-and-drop folders/files support with directory structure using DirectoryEntry
</A></li>
        <LI>Next message: <A HREF="077672.html">[whatwg] Drag-and-drop folders/files support with directory structure using DirectoryEntry
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77663">[ date ]</a>
              <a href="thread.html#77663">[ thread ]</a>
              <a href="subject.html#77663">[ subject ]</a>
              <a href="author.html#77663">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>uOn Fri, Apr 6, 2012 at 10:37 PM, Glenn Maynard &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">glenn at zewt.org</A>&gt; wrote:

&gt;<i> On Thu, Apr 5, 2012 at 11:42 PM, Kinuko Yasuda &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">kinuko at chromium.org</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Does this actually need to be async?  The only information you need to
</I>&gt;&gt;<i> create the Entry are the filename and the file type (file or directory),
</I>&gt;&gt;<i> which the browser can load before performing the drop, so no file I/O is
</I>&gt;&gt;<i> needed here.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I wanted to make it synchronous, but determining the file type (file or
</I>&gt;&gt;<i> directory) usually requires blocking file I/O operation, which could spoil
</I>&gt;&gt;<i> the async nature of this proposal if we perform the blocking stat operation
</I>&gt;&gt;<i> on every drag-enter event.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This can be done before exposing the drop event to the page in the first
</I>&gt;<i> place, though, which means it can still happen asynchronously.  The same
</I>&gt;<i> can be done for &lt;input&gt; file pickers.
</I>&gt;<i>
</I>
I don't think we should do this.  The change would be invasive and could
delay firing a drop event indefinitely if the number of dropped files is
very huge.  Adding a drop event handler doesn't always mean the script is
interested in dropped file items (unlike &lt;input&gt; case).
If we keep it asynchronous the Web page could have more control over which
to instantiate when, e.g. it could only show the first few items upon drop
and then keep loading more items asynchronously only when necessary.

-- 
&gt;<i> Glenn Maynard
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077644.html">[whatwg] Drag-and-drop folders/files support with directory structure using DirectoryEntry
</A></li>
	<LI>Next message: <A HREF="077672.html">[whatwg] Drag-and-drop folders/files support with directory structure using DirectoryEntry
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77663">[ date ]</a>
              <a href="thread.html#77663">[ thread ]</a>
              <a href="subject.html#77663">[ subject ]</a>
              <a href="author.html#77663">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
