<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%0A%09%3D%3Futf-8%3Fq%3F%3D5Bcanvas%3D5D_request_for_%3D7Bcreate%3D2C_get%3D2C_p%3F%3D%0A%09%3D%3Futf-8%3Fq%3Fut%3D7DImageDataHD_and_ctx%3D2EbackingStorePixelRatio%3F%3D&In-Reply-To=%3C20120416204043.70B74200210%40homiemail-mx22.g.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077728.html">
   <LINK REL="Next"  HREF="077738.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio</H1>
<!--htdig_noindex-->
    <B>Tim Streater</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%0A%09%3D%3Futf-8%3Fq%3F%3D5Bcanvas%3D5D_request_for_%3D7Bcreate%3D2C_get%3D2C_p%3F%3D%0A%09%3D%3Futf-8%3Fq%3Fut%3D7DImageDataHD_and_ctx%3D2EbackingStorePixelRatio%3F%3D&In-Reply-To=%3C20120416204043.70B74200210%40homiemail-mx22.g.dreamhost.com%3E"
       TITLE="[whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio">tim at clothears.org.uk
       </A><BR>
    <I>Mon Apr 16 13:40:00 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077728.html">[whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio
</A></li>
        <LI>Next message: <A HREF="077738.html">[whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77737">[ date ]</a>
              <a href="thread.html#77737">[ thread ]</a>
              <a href="subject.html#77737">[ subject ]</a>
              <a href="author.html#77737">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 16 Apr 2012 at 19:07, Darin Fisher &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">darin at chromium.org</A>&gt; wrote: 

&gt;<i> Aren't we missing an opportunity here?  By giving web developers this easy
</I>&gt;<i> migration path, you're also giving up the opportunity to encourage them to
</I>&gt;<i> use a better API.  Asynchronous APIs are harder to use, and that's why we
</I>&gt;<i> need to encourage their adoption.  If you just give people a synchronous
</I>&gt;<i> version that accomplishes the same thing, then they will just use that,
</I>&gt;<i> even if doing so causes their app to perform poorly.
</I>&gt;<i>
</I>&gt;<i> See synchronous XMLHttpRequest.  I'm sure every browser vendor wishes that
</I>&gt;<i> didn't exist.  Note how we recently withdrew support for synchronous
</I>&gt;<i> ArrayBuffer access on XHR?  We did this precisely to discourage use of
</I>&gt;<i> synchronous mode XHR. Doing so actually broke some existing web pages.  The
</I>&gt;<i> pain was deemed worth it.
</I>
In my app I have about 90 async XMLHttpRequest calls. I have one synchronous one that I'd really like to keep as it facilitates a clean tidy up if the user ignores my Exit button and quits by closing the window. When the app closes I need to run a script in order to shut down a local apache instance amongst other things. I hope I'm not going to find this to be a problem if synchronous mode XMLHttpRequest is removed from Safari at some future point. My code looks like this:


function quitbyClose ()
     {

     // User clicked window close button. Must make a synchronous ajax call to tidy up. We have to ensure
     // SESE with no &quot;return&quot; being executed due to the odd way that onbeforeunload operates, in two cases:
     // 1) Where Safari re-opens myapp after user quits Safari and user has already restarted myapp
     // 2) Where user might try to start this file by hand

     var  request, data;

     if  (portnum&gt;0)
          {

          closeWindows ();                                                      // Close any popups

          data = &quot;datarootpath=&quot; + encodeURIComponent (datarootpath) + &quot;&amp;debugfl=&quot; + debugfl;

          request = new XMLHttpRequest ();
          request.open (&quot;POST&quot;, &quot;<A HREF="http://localhost:">http://localhost:</A>&quot; + portnum + &quot;/bin/myapp-terminate.php&quot;, false);
          request.setRequestHeader (&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=utf-8&quot;); 
          request.onreadystatechange = function() { if  (request.readyState!=4)  return false; }
          request.send (data);

          }

     }


--
Cheers  --  Tim
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077728.html">[whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio
</A></li>
	<LI>Next message: <A HREF="077738.html">[whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77737">[ date ]</a>
              <a href="thread.html#77737">[ thread ]</a>
              <a href="subject.html#77737">[ subject ]</a>
              <a href="author.html#77737">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
