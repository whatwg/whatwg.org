<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [canvas] request for {create, get,	put}ImageDataHD and ctx.backingStorePixelRatio
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bcanvas%5D%20request%20for%20%7Bcreate%2C%20get%2C%0A%09put%7DImageDataHD%20and%20ctx.backingStorePixelRatio&In-Reply-To=%3CCABirCh-pNHUWuq1S%2BXr6o1yYpwSnFMvZwt2Ve8pe8k%2BUGsgqEg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077773.html">
   <LINK REL="Next"  HREF="077787.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [canvas] request for {create, get,	put}ImageDataHD and ctx.backingStorePixelRatio</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bcanvas%5D%20request%20for%20%7Bcreate%2C%20get%2C%0A%09put%7DImageDataHD%20and%20ctx.backingStorePixelRatio&In-Reply-To=%3CCABirCh-pNHUWuq1S%2BXr6o1yYpwSnFMvZwt2Ve8pe8k%2BUGsgqEg%40mail.gmail.com%3E"
       TITLE="[whatwg] [canvas] request for {create, get,	put}ImageDataHD and ctx.backingStorePixelRatio">glenn at zewt.org
       </A><BR>
    <I>Fri Apr 20 06:53:02 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077773.html">[whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio
</A></li>
        <LI>Next message: <A HREF="077787.html">[whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77781">[ date ]</a>
              <a href="thread.html#77781">[ thread ]</a>
              <a href="subject.html#77781">[ subject ]</a>
              <a href="author.html#77781">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Apr 19, 2012 at 11:28 PM, Maciej Stachowiak &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mjs at apple.com</A>&gt; wrote:

&gt;<i> You could also address this by adding a way to be notified when the
</I>&gt;<i> contents of an ImageData are available without blocking. That would work
</I>&gt;<i> with both vanilla getImageData and the proposed getImageDataHD. It would
</I>&gt;<i> also give the author the alternative of just blocking (e.g. if they know
</I>&gt;<i> the buffer is small) or of sending the data off to a worker for processing.
</I>&gt;<i>
</I>
This would result in people writing poor code, based on incorrect
assumptions.  It doesn't matter how big the buffer is; all that matters is
how long the drawing calls before the getImageData take.  For example, if
multiple canvases are being drawn to (eg. on other pages running in the
same thread), they may share a single drawing queue.

Any time you retrieve image data synchronously, and it happens to require a
draw flush, you freeze the UI for all pages sharing that thread.  Why is
that okay for people to do?  We should know better by now than to expose
APIs that encourage people to block the UI thread, after spending so much
time trying to fix that mistake in early APIs.

(This should expose a synchronous API in workers if and when Canvas makes
it there, of course, just like all other APIs.)

-- 
Glenn Maynard

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077773.html">[whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio
</A></li>
	<LI>Next message: <A HREF="077787.html">[whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77781">[ date ]</a>
              <a href="thread.html#77781">[ thread ]</a>
              <a href="subject.html#77781">[ subject ]</a>
              <a href="author.html#77781">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
