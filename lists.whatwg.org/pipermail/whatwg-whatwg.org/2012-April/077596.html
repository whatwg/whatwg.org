<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal: location.parentOrigin
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20location.parentOrigin&In-Reply-To=%3CCAJE5ia9dh9Wvh6V1wXFp35WVNaXfdUzhanM7Zo30bL9RLkxzjA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077593.html">
   <LINK REL="Next"  HREF="077607.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal: location.parentOrigin</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20location.parentOrigin&In-Reply-To=%3CCAJE5ia9dh9Wvh6V1wXFp35WVNaXfdUzhanM7Zo30bL9RLkxzjA%40mail.gmail.com%3E"
       TITLE="[whatwg] Proposal: location.parentOrigin">w3c at adambarth.com
       </A><BR>
    <I>Tue Apr  3 20:46:47 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077593.html">[whatwg] Proposal: location.parentOrigin
</A></li>
        <LI>Next message: <A HREF="077607.html">[whatwg] Proposal: location.parentOrigin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77596">[ date ]</a>
              <a href="thread.html#77596">[ thread ]</a>
              <a href="subject.html#77596">[ subject ]</a>
              <a href="author.html#77596">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Apr 3, 2012 at 6:54 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i> On Tue, 3 Apr 2012, Adam Barth wrote:
</I>&gt;&gt;<i> On Tue, Apr 3, 2012 at 4:32 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; On Tue, 3 Apr 2012, Adam Barth wrote:
</I>&gt;&gt;<i> &gt;&gt; Talking with some folks off-list, there are also use cases for knowing
</I>&gt;&gt;<i> &gt;&gt; the origin of the top-most document.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Could you elaborate on those use cases? (And also those for parent.origin,
</I>&gt;&gt;<i> &gt; though those seem more obvious, e.g. disabling features to protect against
</I>&gt;&gt;<i> &gt; clickjacking in unauthorised embeddings.)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The use case is the same as in the previous email, specifically:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ---8&lt;---
</I>&gt;&gt;<i> Some widgets want to behave differently depending on the context in
</I>&gt;&gt;<i> which they are embedded. &#160;For example, a payment widget might want to
</I>&gt;&gt;<i> send the user to a confirmation page for most web sites but might be
</I>&gt;&gt;<i> confortable with a more streamlined user experience when embedded on a
</I>&gt;&gt;<i> whitelist of sites with which they have a contractual relationship.
</I>&gt;&gt;<i> ---&gt;8---
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The payment widget might care about all of its ancestors. &#160;For example,
</I>&gt;&gt;<i> suppose the payment operator has a relationship with store.example.com.
</I>&gt;&gt;<i> They might wish to fall back to using a confirmation page if
</I>&gt;&gt;<i> store.example.com is embedded as a frame in another web site (e.g.,
</I>&gt;&gt;<i> pintrest).
</I>&gt;<i>
</I>&gt;<i> Why don't they just ask the parent frame for their parent's origin, since
</I>&gt;<i> they trust them?
</I>
&gt;<i>From my original email:
</I>
---8&lt;---
3) The widget could use postMessage to communicate with the embedder
and to establish the origin of the embedder.  However, this requires
running code in the embedder that knows how to respond to the messages
appropriately.  If the widget provider supplies the code, then the
embedder needs to trust the widget provider to run code in its origin,
which is undesirable.  If the embedder provides the code, then that
greatly increases the complexity of embedding the widget (see 2(b) for
a related discussion).
---&gt;8---

Adam

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077593.html">[whatwg] Proposal: location.parentOrigin
</A></li>
	<LI>Next message: <A HREF="077607.html">[whatwg] Proposal: location.parentOrigin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77596">[ date ]</a>
              <a href="thread.html#77596">[ thread ]</a>
              <a href="subject.html#77596">[ subject ]</a>
              <a href="author.html#77596">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
