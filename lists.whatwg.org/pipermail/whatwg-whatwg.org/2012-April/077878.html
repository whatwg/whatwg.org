<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Request for new DOM property textarea.selectionText
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Request%20for%20new%20DOM%20property%20textarea.selectionText&In-Reply-To=%3CCABNRm603hhD_HBerHRxGzb%2B2VbHOzfPg6edGetsjqT151d5swQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077877.html">
   <LINK REL="Next"  HREF="077879.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Request for new DOM property textarea.selectionText</H1>
<!--htdig_noindex-->
    <B>Ryosuke Niwa</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Request%20for%20new%20DOM%20property%20textarea.selectionText&In-Reply-To=%3CCABNRm603hhD_HBerHRxGzb%2B2VbHOzfPg6edGetsjqT151d5swQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Request for new DOM property textarea.selectionText">rniwa at webkit.org
       </A><BR>
    <I>Mon Apr 30 23:17:49 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077877.html">[whatwg] Request for new DOM property textarea.selectionText
</A></li>
        <LI>Next message: <A HREF="077879.html">[whatwg] Request for new DOM property textarea.selectionText
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77878">[ date ]</a>
              <a href="thread.html#77878">[ thread ]</a>
              <a href="subject.html#77878">[ subject ]</a>
              <a href="author.html#77878">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Apr 30, 2012 at 11:01 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:

&gt;<i> On Mon, 30 Apr 2012, Ojan Vafai wrote:
</I>&gt;<i> &gt; I'd also like to see us expose a method for getting the text that
</I>&gt;<i> &gt; accepts optional start/end arguments. Mainly, this allows for the
</I>&gt;<i> &gt; possibility of browser vendors to performance optimize (e.g. don't need
</I>&gt;<i> &gt; to convert the whole string to a JS string just to get the 5 selected
</I>&gt;<i> &gt; characters out).
</I>&gt;<i>
</I>&gt;<i> Is that really that expensive? Seems like it'd be better just to have UAs
</I>&gt;<i> optimise their JS string implementations so that it can just be backed by
</I>&gt;<i> the same thing as the DOM or the control's editor. (I believe Mozilla may
</I>&gt;<i> in fact already do that.)
</I>&gt;<i>
</I>
In theory, this is possible. But any sort of proxy, etc... that lazily
obtain the value (e.g. delaying it until substr, etc... is called) is hard
to implement in practice because we need to serialize text before DOM is
modified. e.g.

1 var inputValue = input.value;
2 var textUsed = input.value.substr(5, 10);

In the above example, inputValue could be a proxy object. However, in the
example below:

1 var inputValue = input.value;
2 input.value = 'bar';
3 var textUsed = input.value.substr(5, 10);

we need to serialize the string immediately before the statement in the
line 2 is evaluated.

- Ryosuke

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077877.html">[whatwg] Request for new DOM property textarea.selectionText
</A></li>
	<LI>Next message: <A HREF="077879.html">[whatwg] Request for new DOM property textarea.selectionText
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77878">[ date ]</a>
              <a href="thread.html#77878">[ thread ]</a>
              <a href="subject.html#77878">[ subject ]</a>
              <a href="author.html#77878">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
