<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Media queries, viewport dimensions, srcset and picture
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Media%20queries%2C%20viewport%20dimensions%2C%20srcset%20and%20picture&In-Reply-To=%3CE6A5CD59-89E8-48CE-AE3F-818EC6012E88%40matmarquis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078943.html">
   <LINK REL="Next"  HREF="078949.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Media queries, viewport dimensions, srcset and picture</H1>
<!--htdig_noindex-->
    <B>Mathew Marquis</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Media%20queries%2C%20viewport%20dimensions%2C%20srcset%20and%20picture&In-Reply-To=%3CE6A5CD59-89E8-48CE-AE3F-818EC6012E88%40matmarquis.com%3E"
       TITLE="[whatwg] Media queries, viewport dimensions, srcset and picture">mat at matmarquis.com
       </A><BR>
    <I>Tue Jul 24 08:05:20 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="078943.html">[whatwg] Media queries, viewport dimensions, srcset and picture
</A></li>
        <LI>Next message: <A HREF="078949.html">[whatwg] Media queries, viewport dimensions, srcset and picture
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78948">[ date ]</a>
              <a href="thread.html#78948">[ thread ]</a>
              <a href="subject.html#78948">[ subject ]</a>
              <a href="author.html#78948">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Jul 23, 2012, at 5:38 PM, Steve Faulkner wrote:

&gt;<i> Hi Mat,
</I>&gt;<i> as I previously previously mentioned, I am concerned about the use of the
</I>&gt;<i> alt attribute on &lt;picture&gt; when it would be much better to allow text
</I>&gt;<i> alternatives inside the picture element.
</I>&gt;<i> Some of the advantages are:
</I>&gt;<i> Markup can be used to structure text alternative content.
</I>&gt;<i> The length of the alt text is no longer a constraint, as it is currently
</I>&gt;<i> for assistive tech.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &lt;picture alt=&quot;Description of image subject.&quot;&gt;
</I>&gt;<i> &lt;source srcset=&quot;small.jpg 1x, small-highres.jpg 2x&quot;&gt;
</I>&gt;<i> &lt;source media=&quot;(min-width: 18em)&quot; srcset=&quot;med.jpg 1x, med-highres.jpg 2x&quot;&gt;
</I>&gt;<i> &lt;source media=&quot;(min-width: 45em)&quot; srcset=&quot;large.jpg 1x, large-highres.jpg
</I>&gt;<i> 2x&quot;&gt;
</I>&gt;<i> &lt;img src=&quot;small.jpg&quot; alt=&quot;Description of image subject.&quot;&gt;
</I>&gt;<i> &lt;/picture&gt;
</I>&gt;<i> 
</I>&gt;<i> is there any reason why you think the use of alt attribute on picture is
</I>&gt;<i> preferable to
</I>&gt;<i> 
</I>&gt;<i> &lt;picture role=&quot;img&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;p&gt;alt text&lt;/p&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;source srcset=&quot;small.jpg 1x, small-highres.jpg 2x&quot;&gt;
</I>&gt;<i> &lt;source media=&quot;(min-width: 18em)&quot; srcset=&quot;med.jpg 1x, med-highres.jpg 2x&quot;&gt;
</I>&gt;<i> &lt;source media=&quot;(min-width: 45em)&quot; srcset=&quot;large.jpg 1x, large-highres.jpg
</I>&gt;<i> 2x&quot;&gt;
</I>&gt;<i> &lt;img src=&quot;small.jpg&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;/picture&gt;
</I>
Yeah, this would be a bit tricky in terms of backwards-compatibility, as you said. I feel the gut reaction from a lot of authors would be &#8220;I don&#8217;t want that text showing up in some browsers but not others,&#8221; then (sadly) omission. It&#8217;s hide-able with CSS, as you said, but it would add some complexity.

&gt;<i> 
</I>&gt;<i> note:role=img is just of polyfill purposes.
</I>&gt;<i> 
</I>&gt;<i> or
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &lt;figure&gt;
</I>&gt;<i> &lt;picture&gt;
</I>&gt;<i> &lt;source srcset=&quot;small.jpg 1x, small-highres.jpg 2x&quot;&gt;
</I>&gt;<i> &lt;source media=&quot;(min-width: 18em)&quot; srcset=&quot;med.jpg 1x, med-highres.jpg 2x&quot;&gt;
</I>&gt;<i> &lt;source media=&quot;(min-width: 45em)&quot; srcset=&quot;large.jpg 1x, large-highres.jpg
</I>&gt;<i> 2x&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;img src=&quot;small.jpg&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;/picture&gt;
</I>&gt;<i> &lt;figcaption&gt;caption text&lt;/figcaption&gt;
</I>&gt;<i> &lt;/figure&gt;
</I>
This seems like a great candidate for `figcaption`, and could be pollyfilled, in a way, through the use of `aria-describedby`. I wouldn&#8217;t want to discourage the use of `alt` tags on either `picture` or the fallback `img`, but &#8212; and correct me if I&#8217;m wrong &#8212; isn&#8217;t `aria-describedby` specced to take precedence over the `alt` attribute? That might be the ideal approach &#8212; and even if not, a bit of redundancy may not hurt there.

&gt;<i> 
</I>&gt;<i> I can understand that backwards compatibility may be of concern in the
</I>&gt;<i> first example, but that can be resolved through the use of CSS to clip or
</I>&gt;<i> hide text content if so desired.
</I>&gt;<i> 
</I>&gt;<i> regards
</I>&gt;<i> Stevef
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On 23 July 2012 20:06, &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-request at lists.whatwg.org</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Send whatwg mailing list submissions to
</I>&gt;&gt;<i>        <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;&gt;<i>        <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org</A>
</I>&gt;&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;&gt;<i>        <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-request at lists.whatwg.org</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> You can reach the person managing the list at
</I>&gt;&gt;<i>        <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-owner at lists.whatwg.org</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;&gt;<i> than &quot;Re: Contents of whatwg digest...&quot;
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> When replying to digest messages, please please PLEASE update the subject
</I>&gt;&gt;<i> line so it isn't the digest subject line.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Today's Topics:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>   1. Re: Media queries, viewport dimensions, srcset and picture
</I>&gt;&gt;<i>      (Mathew Marquis)
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> ----------------------------------------------------------------------
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Message: 1
</I>&gt;&gt;<i> Date: Mon, 23 Jul 2012 11:39:14 -0400
</I>&gt;&gt;<i> From: Mathew Marquis &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mat at matmarquis.com</A>&gt;
</I>&gt;&gt;<i> To: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>
</I>&gt;&gt;<i> Cc: Florian Rivoal &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">florianr at opera.com</A>&gt;
</I>&gt;&gt;<i> Subject: Re: [whatwg] Media queries, viewport dimensions, srcset and
</I>&gt;&gt;<i>        picture
</I>&gt;&gt;<i> Message-ID: &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">E4FEB344-8A53-438F-928A-9B9F0F3FE270 at matmarquis.com</A>&gt;
</I>&gt;&gt;<i> Content-Type: text/plain;       charset=windows-1252
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> WHATWG,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The Responsive Images Community Group was recently asked to furnish a
</I>&gt;&gt;<i> formal draft proposal for consideration by the HTML WG. I thought it best
</I>&gt;&gt;<i> to post it here along with some details, where Ian Hickson has mentioned
</I>&gt;&gt;<i> that he?ll be considering this issue again within a few days.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> More and more it seems that it?s a waste of effort trying to retrofit the
</I>&gt;&gt;<i> original srcset proposal to cover all the use cases of the original
</I>&gt;&gt;<i> `picture` proposal. As we attempt to do so, the `srcset` msyntax grows more
</I>&gt;&gt;<i> confusing, and shares an increasing amount of overlap with media queries ?
</I>&gt;&gt;<i> though with some obvious holes, for example: units other than `px`. To
</I>&gt;&gt;<i> those ends, the Responsive Images Community Group has officially published
</I>&gt;&gt;<i> a draft proposal based on Florian Rivoal?s proposed compromise (
</I>&gt;&gt;<i> <A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-May/036160.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-May/036160.html</A>) between the two markup patterns. In this way, `srcset` retains the
</I>&gt;&gt;<i> purpose for which it was originally proposed: a terse, easily-implemented
</I>&gt;&gt;<i> syntax for switching image sources based on the client resolution.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The draft proposal can be found here:
</I>&gt;&gt;<i> <A HREF="http://www.w3.org/community/respimg/wiki/Picture_Element_Proposal">http://www.w3.org/community/respimg/wiki/Picture_Element_Proposal</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Discussion with the HTML WG can be found here:
</I>&gt;&gt;<i> <A HREF="http://lists.w3.org/Archives/Public/public-html/2012Jun/0113.html">http://lists.w3.org/Archives/Public/public-html/2012Jun/0113.html</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> ## Proposed Markup
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> &lt;picture alt=&quot;Description of image subject.&quot;&gt;
</I>&gt;&gt;<i> &lt;source srcset=&quot;small.jpg 1x, small-highres.jpg 2x&quot;&gt;
</I>&gt;&gt;<i> &lt;source media=&quot;(min-width: 18em)&quot; srcset=&quot;med.jpg 1x, med-highres.jpg 2x&quot;&gt;
</I>&gt;&gt;<i> &lt;source media=&quot;(min-width: 45em)&quot; srcset=&quot;large.jpg 1x, large-highres.jpg
</I>&gt;&gt;<i> 2x&quot;&gt;
</I>&gt;&gt;<i> &lt;img src=&quot;small.jpg&quot; alt=&quot;Description of image subject.&quot;&gt;
</I>&gt;&gt;<i> &lt;/picture&gt;
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The chain of events followed by the above markup pattern are:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 1. If the `picture` element is unsupported, the `img` contained therein is
</I>&gt;&gt;<i> shown as fallback markup.
</I>&gt;&gt;<i> 2. If picture is supported, use `media` attributes to determine which
</I>&gt;&gt;<i> source element best suits the user?s viewport, following the same logic as
</I>&gt;&gt;<i> `video`?s specced use of `media` attributes.
</I>&gt;&gt;<i> 3. Once an appropriate source element has been selected, the `srcset`
</I>&gt;&gt;<i> attribute determines which image source is best suited to the user?s screen
</I>&gt;&gt;<i> resolution. If only a single resolution is necessary, the `src` attribute
</I>&gt;&gt;<i> will function as expected, instead.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> In terms of selecting a source element, this markup leverages all the
</I>&gt;&gt;<i> strengths of media queries ? the syntax created for this very purpose ? to
</I>&gt;&gt;<i> handle the ?art direction? use case.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> However, as has been detailed at length here and elsewhere,
</I>&gt;&gt;<i> `device-pixel-ratio` media queries are poorly suited towards these
</I>&gt;&gt;<i> decisions. As an author, using vendor-prefixed `min-device-pixel-ratio`
</I>&gt;&gt;<i> media queries in the example above would involve a massive amount of text
</I>&gt;&gt;<i> and twice as many source elements. This could get unwieldy for authors very
</I>&gt;&gt;<i> quickly, a concern voiced numerous times in these ongoing discussions.
</I>&gt;&gt;<i> Further, implementation of MQ-based resolution switching is far more
</I>&gt;&gt;<i> difficult on the UA side: a very real concern.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Once we?ve used media queries to determine the most appropriate source
</I>&gt;&gt;<i> element, srcset?s originally intended usage becomes absolutely ideal for
</I>&gt;&gt;<i> our purposes: simply determining the appropriate image source for a user?s
</I>&gt;&gt;<i> resolution.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> It?s worth noting that this example is, in fact, the most convoluted this
</I>&gt;&gt;<i> element can ever be. This pattern in no way precludes the use of srcset on
</I>&gt;&gt;<i> an `img` tag for simply preforming resolution switching, nor does it
</I>&gt;&gt;<i> preclude the use of `picture` as originally proposed for the ?art
</I>&gt;&gt;<i> direction?/screen size use cases, with `src` in source elements rather than
</I>&gt;&gt;<i> `srcset`.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> ## Bandwidth
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> We cannot reliably make assumptions about bandwidth based on client
</I>&gt;&gt;<i> capabilities ? a MacBook Pro with a Retina display may be tethered to a 3G
</I>&gt;&gt;<i> phone; a high-resolution mobile device is as likely to be connected to WiFi
</I>&gt;&gt;<i> as it is an EDGE connection.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Based on previous discussion on the list, I think we?re largely in
</I>&gt;&gt;<i> agreement that bandwidth decisions are best left to the browser. It would
</I>&gt;&gt;<i> assume a great deal if authors were to make this decision for the users. It
</I>&gt;&gt;<i> would add a point of failure: we would be taking the bandwidth information
</I>&gt;&gt;<i> afforded us by the browser, and selectively applying that information. Some
</I>&gt;&gt;<i> of us may do it wrong; some of us may find ourselves forced to make a
</I>&gt;&gt;<i> decision as to whether we account for users with limited bandwidth or not.
</I>&gt;&gt;<i> To not account for it would be, in my opinion, untenable ? I?ve expressed
</I>&gt;&gt;<i> that elsewhere, in no uncertain terms. The decision to download high vs.
</I>&gt;&gt;<i> standard resolution images should be made by user agents, depending on the
</I>&gt;&gt;<i> bandwidth available ? and further, I believe there should be a user
</I>&gt;&gt;<i> settable preference for ?always use standard resolution images,? ?always
</I>&gt;&gt;<i> use high resolution images,? ?download high resolution as bandwidth
</I>&gt;&gt;<i> permits,? and so on.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> In discussing the final markup pattern, we have to consider the above.
</I>&gt;&gt;<i> Somewhere, that markup is going to contain a suggestion, rather than an
</I>&gt;&gt;<i> imperative. I think `srcset` affords us that opportunity: a new syntax
</I>&gt;&gt;<i> _designed_ to be treated as such. I wouldn?t want to introduce that sort of
</I>&gt;&gt;<i> variance to the media query spec ? a syntax long established as a set of
</I>&gt;&gt;<i> absolutes.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> It seems `srcset` won?t be going anywhere, and that?s not an indictment.
</I>&gt;&gt;<i> There is a time and a place for `srcset`, and I feel that place is
</I>&gt;&gt;<i> resolution switching ? as it was originally intended. Our best efforts to
</I>&gt;&gt;<i> bring srcset closer in-line with the originally proposed picture element
</I>&gt;&gt;<i> only stand to leave us with a siloed microsyntax that inconsistently serves
</I>&gt;&gt;<i> the purpose of media queries. With that comes further opportunity for
</I>&gt;&gt;<i> errors by implementors and authors alike ? countless new potential points
</I>&gt;&gt;<i> of failure.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> ## Updated Polyfill
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> In order to better wrap my head around this pattern, I?ve updated Scott
</I>&gt;&gt;<i> Jehl?s Picturefill to make use of the proposed syntax. The source code is
</I>&gt;&gt;<i> available on GitHub ( <A HREF="https://github.com/Wilto/picturefill-proposal/">https://github.com/Wilto/picturefill-proposal/</A> ),
</I>&gt;&gt;<i> and I?ve posted a demo ( <A HREF="http://wil.to/picturefill/">http://wil.to/picturefill/</A> ) as well.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Thank you for your ongoing consideration, sincerely. I look forward to
</I>&gt;&gt;<i> finally putting this issue to rest.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Mat Marquis
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> ------------------------------
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> whatwg mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> End of whatwg Digest, Vol 100, Issue 28
</I>&gt;&gt;<i> ***************************************
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> with regards
</I>&gt;<i> 
</I>&gt;<i> Steve Faulkner
</I>&gt;<i> Technical Director - TPG
</I>&gt;<i> 
</I>&gt;<i> www.paciellogroup.com | www.HTML5accessibility.com |
</I>&gt;<i> www.twitter.com/stevefaulkner
</I>&gt;<i> HTML5: Techniques for providing useful text alternatives -
</I>&gt;<i> dev.w3.org/html5/alt-techniques/
</I>&gt;<i> Web Accessibility Toolbar - www.paciellogroup.com/resources/wat-ie-about.html
</I>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078943.html">[whatwg] Media queries, viewport dimensions, srcset and picture
</A></li>
	<LI>Next message: <A HREF="078949.html">[whatwg] Media queries, viewport dimensions, srcset and picture
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78948">[ date ]</a>
              <a href="thread.html#78948">[ thread ]</a>
              <a href="subject.html#78948">[ subject ]</a>
              <a href="author.html#78948">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
