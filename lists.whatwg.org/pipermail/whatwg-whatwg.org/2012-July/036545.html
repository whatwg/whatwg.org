<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposed addition to Drag and Drop API (Alex Bain)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposed%20addition%20to%20Drag%20and%20Drop%20API%20%28Alex%20Bain%29&In-Reply-To=%3CB11C3036-AF2F-497F-BC20-4B61E16718ED%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078817.html">
   <LINK REL="Next"  HREF="036546.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposed addition to Drag and Drop API (Alex Bain)</H1>
<!--htdig_noindex-->
    <B>Trevor Burnham</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposed%20addition%20to%20Drag%20and%20Drop%20API%20%28Alex%20Bain%29&In-Reply-To=%3CB11C3036-AF2F-497F-BC20-4B61E16718ED%40gmail.com%3E"
       TITLE="[whatwg] Proposed addition to Drag and Drop API (Alex Bain)">trevorburnham at gmail.com
       </A><BR>
    <I>Mon Jul  2 14:56:49 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="078817.html">[whatwg] Proposed addition to Drag and Drop API
</A></li>
        <LI>Next message: <A HREF="036546.html">[whatwg] Media queries, viewport dimensions, srcset and picture
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36545">[ date ]</a>
              <a href="thread.html#36545">[ thread ]</a>
              <a href="subject.html#36545">[ subject ]</a>
              <a href="author.html#36545">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> I did a bit of reading about what the WhatWG spec says setDragImage should do and wanted to ensure I understand what the spec is saying and how Webkit is behaving.
</I>&gt;<i> 
</I>&gt;<i> Spec: <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/dnd.html#dom-datatransfer-setdragimage">http://www.whatwg.org/specs/web-apps/current-work/multipage/dnd.html#dom-datatransfer-setdragimage</A>
</I>&gt;<i> 
</I>&gt;<i> The spec says defines &quot;setDragImage&quot; as: setDragImage(element, x, y) 
</I>&gt;<i> 
</I>&gt;<i> Element argument is defined as: &quot;If the element argument is an img element, then set the drag data store bitmap to the element's image (at its intrinsic size); otherwise, set the drag data store bitmap to an image generated from the given element (the exact mechanism for doing so is not currently specified).&quot;
</I>&gt;<i> 
</I>&gt;<i> This says, if I'm understanding it correctly, that I can provide any element as the first argument and a bitmap image will be generated as a drag image. This would allow me to accomplish what I'm trying to do (setting a small drag element to represent a larger draggable container). However, in my testing, Webkit will not render anything unless the element specified is an image.
</I>&gt;<i> 
</I>&gt;<i> Am I misunderstanding the spec, or might this be a bug in the implementation?
</I>
I can't say which without an example of how you're using setDragImage, but I assure you that it works with non-img elements in WebKit browsers: <A HREF="http://jsfiddle.net/mZGP7/1/">http://jsfiddle.net/mZGP7/1/</A>

Note, however, that (at least for WebKit-based browsers) the element must be in the document body, and it can't have visibility: hidden or display: none or even positioning that puts it outside of the window bounds. None of this is dictated by the spec, which simply declares that the mechanism for turning an element into a bitmap is unspecified.

At this point, I would take your questions to StackOverflow rather than the WHATWG list (unless you would like to draft a proposal for making the setDragImage spec more precise).

Best,
Trevor
</PRE>



<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078817.html">[whatwg] Proposed addition to Drag and Drop API
</A></li>
	<LI>Next message: <A HREF="036546.html">[whatwg] Media queries, viewport dimensions, srcset and picture
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36545">[ date ]</a>
              <a href="thread.html#36545">[ thread ]</a>
              <a href="subject.html#36545">[ subject ]</a>
              <a href="author.html#36545">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
