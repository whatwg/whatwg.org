<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal for readyState behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20readyState%20behavior&In-Reply-To=%3CCAJQvAudTTZCx7zs8A8s4dTuNh%2Bxq-W8Wnt8dK%2Bs9QEFUHvWE-A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036592.html">
   <LINK REL="Next"  HREF="036593.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal for readyState behavior</H1>
<!--htdig_noindex-->
    <B>Henri Sivonen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20readyState%20behavior&In-Reply-To=%3CCAJQvAudTTZCx7zs8A8s4dTuNh%2Bxq-W8Wnt8dK%2Bs9QEFUHvWE-A%40mail.gmail.com%3E"
       TITLE="[whatwg] Proposal for readyState behavior">hsivonen at iki.fi
       </A><BR>
    <I>Mon Jul 16 05:29:51 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="036592.html">[whatwg] Proposal for readyState behavior
</A></li>
        <LI>Next message: <A HREF="036593.html">[whatwg] DOMTokenList methods would be more useful with a space separated token list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78908">[ date ]</a>
              <a href="thread.html#78908">[ thread ]</a>
              <a href="subject.html#78908">[ subject ]</a>
              <a href="author.html#78908">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Jul 10, 2012 at 10:15 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i> Done.
</I>
Thanks.

&gt;&gt;<i>  4) Whenever a transition to &quot;interactive&quot; is made, &quot;DOMContentLoaded&quot;
</I>&gt;&gt;<i> must eventually get fired later if the document stays in a state where
</I>&gt;&gt;<i> events can fire on it.
</I>&gt;&gt;<i>      Rationale:
</I>&gt;&gt;<i>        * This seems sensible for consistency with the common case.
</I>&gt;&gt;<i> Currently, there are cases where Firefox fires DOMContentLoaded
</I>&gt;&gt;<i> without a transition to &quot;interactive&quot; or transitions to &quot;interactive&quot;
</I>&gt;&gt;<i> without ever firing DOMContentLoaded, but these cases are inconsistent
</I>&gt;&gt;<i> with other browsers, so it's hard to believe they are well-considered
</I>&gt;&gt;<i> compatibility features.
</I>&gt;&gt;<i>     Delta from the spec: Same as for point 3.
</I>&gt;<i>
</I>&gt;<i> Disagreed. IMHO DOMContentLoaded is equivalent to 'load', just a bit
</I>&gt;<i> earlier (it's basically 'load' but before the scripts have run). In fact,
</I>&gt;<i> I'd specifically define DOMContentLoaded as meaning &quot;the DOM content was
</I>&gt;<i> completely loaded&quot;, which clearly can't happen if the parser aborted.
</I>
Could you &quot;please leave your sense of logic at the door&quot; instead of
rocking the interop boat like this? Personally, I'm already spending
way more than enough time in this quagmire of trying to sort out
events and readyStates with abnormal document loads that I have about
zero interest in making Gecko not fire an event in a situation where
Firefox, IE10 and Opera currently fire it. Furthermore, I think that
in a situation like this change is more harmful and likely to break
something than the sort of logic you offered is useful.

&gt;&gt;<i> 10) XSLT error pages don't count as aborts but instead as non-aborted
</I>&gt;&gt;<i> loads of the error page.
</I>&gt;&gt;<i>      Rationale:
</I>&gt;&gt;<i>        * Makes parent pages less confused about events they are waiting.
</I>&gt;&gt;<i>        * Already true except for bugs in Firefox which is the only
</I>&gt;&gt;<i> browser with XSLT error pages.
</I>&gt;&gt;<i>     Delta from the spec: Make explicit in spec.
</I>&gt;<i>
</I>&gt;<i> I haven't defined this because to define this I'd have to define a ton of
</I>&gt;<i> infrastructure that explains how XSLT works in the first place, and I'm
</I>&gt;<i> still waiting for the XSLT community to write the tests that demonstrate
</I>&gt;<i> what the requirements should be:
</I>&gt;<i>
</I>&gt;<i>    <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=14689">https://www.w3.org/Bugs/Public/show_bug.cgi?id=14689</A>
</I>
I don't think you need to spec infrastructure to define a high-level
expectation that loads with XSLT errors are supposed to finish as if
they were successful loads rather than aborted loads.

-- 
Henri Sivonen
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at iki.fi</A>
<A HREF="http://hsivonen.iki.fi/">http://hsivonen.iki.fi/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036592.html">[whatwg] Proposal for readyState behavior
</A></li>
	<LI>Next message: <A HREF="036593.html">[whatwg] DOMTokenList methods would be more useful with a space separated token list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78908">[ date ]</a>
              <a href="thread.html#78908">[ thread ]</a>
              <a href="subject.html#78908">[ subject ]</a>
              <a href="author.html#78908">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
