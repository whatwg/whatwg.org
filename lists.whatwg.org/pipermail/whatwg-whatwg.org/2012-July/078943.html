<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Media queries, viewport dimensions, srcset and picture
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Media%20queries%2C%20viewport%20dimensions%2C%20srcset%20and%20picture&In-Reply-To=%3CCA%2Bri%2BV%3DrZEbP%2B-VyGEBamjEdSiqSFhRkP2fhTm_bKpaQiea-AA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078942.html">
   <LINK REL="Next"  HREF="078948.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Media queries, viewport dimensions, srcset and picture</H1>
<!--htdig_noindex-->
    <B>Steve Faulkner</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Media%20queries%2C%20viewport%20dimensions%2C%20srcset%20and%20picture&In-Reply-To=%3CCA%2Bri%2BV%3DrZEbP%2B-VyGEBamjEdSiqSFhRkP2fhTm_bKpaQiea-AA%40mail.gmail.com%3E"
       TITLE="[whatwg] Media queries, viewport dimensions, srcset and picture">faulkner.steve at gmail.com
       </A><BR>
    <I>Mon Jul 23 14:38:19 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="078942.html">[whatwg] Media queries, viewport dimensions, srcset and picture
</A></li>
        <LI>Next message: <A HREF="078948.html">[whatwg] Media queries, viewport dimensions, srcset and picture
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78943">[ date ]</a>
              <a href="thread.html#78943">[ thread ]</a>
              <a href="subject.html#78943">[ subject ]</a>
              <a href="author.html#78943">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Mat,
as I previously previously mentioned, I am concerned about the use of the
alt attribute on &lt;picture&gt; when it would be much better to allow text
alternatives inside the picture element.
Some of the advantages are:
Markup can be used to structure text alternative content.
The length of the alt text is no longer a constraint, as it is currently
for assistive tech.


&lt;picture alt=&quot;Description of image subject.&quot;&gt;
&lt;source srcset=&quot;small.jpg 1x, small-highres.jpg 2x&quot;&gt;
&lt;source media=&quot;(min-width: 18em)&quot; srcset=&quot;med.jpg 1x, med-highres.jpg 2x&quot;&gt;
&lt;source media=&quot;(min-width: 45em)&quot; srcset=&quot;large.jpg 1x, large-highres.jpg
2x&quot;&gt;
&lt;img src=&quot;small.jpg&quot; alt=&quot;Description of image subject.&quot;&gt;
&lt;/picture&gt;

is there any reason why you think the use of alt attribute on picture is
preferable to

&lt;picture role=&quot;img&quot;&gt;

&lt;p&gt;alt text&lt;/p&gt;

&lt;source srcset=&quot;small.jpg 1x, small-highres.jpg 2x&quot;&gt;
&lt;source media=&quot;(min-width: 18em)&quot; srcset=&quot;med.jpg 1x, med-highres.jpg 2x&quot;&gt;
&lt;source media=&quot;(min-width: 45em)&quot; srcset=&quot;large.jpg 1x, large-highres.jpg
2x&quot;&gt;
&lt;img src=&quot;small.jpg&quot;&gt;

&lt;/picture&gt;

note:role=img is just of polyfill purposes.

or


&lt;figure&gt;
&lt;picture&gt;
&lt;source srcset=&quot;small.jpg 1x, small-highres.jpg 2x&quot;&gt;
&lt;source media=&quot;(min-width: 18em)&quot; srcset=&quot;med.jpg 1x, med-highres.jpg 2x&quot;&gt;
&lt;source media=&quot;(min-width: 45em)&quot; srcset=&quot;large.jpg 1x, large-highres.jpg
2x&quot;&gt;

&lt;img src=&quot;small.jpg&quot;&gt;

&lt;/picture&gt;
&lt;figcaption&gt;caption text&lt;/figcaption&gt;
&lt;/figure&gt;

I can understand that backwards compatibility may be of concern in the
first example, but that can be resolved through the use of CSS to clip or
hide text content if so desired.

regards
Stevef



On 23 July 2012 20:06, &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-request at lists.whatwg.org</A>&gt; wrote:

&gt;<i> Send whatwg mailing list submissions to
</I>&gt;<i>         <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i>         <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i>         <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-request at lists.whatwg.org</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i>         <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-owner at lists.whatwg.org</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of whatwg digest...&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> When replying to digest messages, please please PLEASE update the subject
</I>&gt;<i> line so it isn't the digest subject line.
</I>&gt;<i>
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i>    1. Re: Media queries, viewport dimensions, srcset and picture
</I>&gt;<i>       (Mathew Marquis)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Mon, 23 Jul 2012 11:39:14 -0400
</I>&gt;<i> From: Mathew Marquis &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mat at matmarquis.com</A>&gt;
</I>&gt;<i> To: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>
</I>&gt;<i> Cc: Florian Rivoal &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">florianr at opera.com</A>&gt;
</I>&gt;<i> Subject: Re: [whatwg] Media queries, viewport dimensions, srcset and
</I>&gt;<i>         picture
</I>&gt;<i> Message-ID: &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">E4FEB344-8A53-438F-928A-9B9F0F3FE270 at matmarquis.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain;       charset=windows-1252
</I>&gt;<i>
</I>&gt;<i> WHATWG,
</I>&gt;<i>
</I>&gt;<i> The Responsive Images Community Group was recently asked to furnish a
</I>&gt;<i> formal draft proposal for consideration by the HTML WG. I thought it best
</I>&gt;<i> to post it here along with some details, where Ian Hickson has mentioned
</I>&gt;<i> that he?ll be considering this issue again within a few days.
</I>&gt;<i>
</I>&gt;<i> More and more it seems that it?s a waste of effort trying to retrofit the
</I>&gt;<i> original srcset proposal to cover all the use cases of the original
</I>&gt;<i> `picture` proposal. As we attempt to do so, the `srcset` msyntax grows more
</I>&gt;<i> confusing, and shares an increasing amount of overlap with media queries ?
</I>&gt;<i> though with some obvious holes, for example: units other than `px`. To
</I>&gt;<i> those ends, the Responsive Images Community Group has officially published
</I>&gt;<i> a draft proposal based on Florian Rivoal?s proposed compromise (
</I>&gt;<i> <A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-May/036160.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-May/036160.html</A>) between the two markup patterns. In this way, `srcset` retains the
</I>&gt;<i> purpose for which it was originally proposed: a terse, easily-implemented
</I>&gt;<i> syntax for switching image sources based on the client resolution.
</I>&gt;<i>
</I>&gt;<i> The draft proposal can be found here:
</I>&gt;<i> <A HREF="http://www.w3.org/community/respimg/wiki/Picture_Element_Proposal">http://www.w3.org/community/respimg/wiki/Picture_Element_Proposal</A>
</I>&gt;<i>
</I>&gt;<i> Discussion with the HTML WG can be found here:
</I>&gt;<i> <A HREF="http://lists.w3.org/Archives/Public/public-html/2012Jun/0113.html">http://lists.w3.org/Archives/Public/public-html/2012Jun/0113.html</A>
</I>&gt;<i>
</I>&gt;<i> ## Proposed Markup
</I>&gt;<i>
</I>&gt;<i> &lt;picture alt=&quot;Description of image subject.&quot;&gt;
</I>&gt;<i> &lt;source srcset=&quot;small.jpg 1x, small-highres.jpg 2x&quot;&gt;
</I>&gt;<i> &lt;source media=&quot;(min-width: 18em)&quot; srcset=&quot;med.jpg 1x, med-highres.jpg 2x&quot;&gt;
</I>&gt;<i> &lt;source media=&quot;(min-width: 45em)&quot; srcset=&quot;large.jpg 1x, large-highres.jpg
</I>&gt;<i> 2x&quot;&gt;
</I>&gt;<i> &lt;img src=&quot;small.jpg&quot; alt=&quot;Description of image subject.&quot;&gt;
</I>&gt;<i> &lt;/picture&gt;
</I>&gt;<i>
</I>&gt;<i> The chain of events followed by the above markup pattern are:
</I>&gt;<i>
</I>&gt;<i> 1. If the `picture` element is unsupported, the `img` contained therein is
</I>&gt;<i> shown as fallback markup.
</I>&gt;<i> 2. If picture is supported, use `media` attributes to determine which
</I>&gt;<i> source element best suits the user?s viewport, following the same logic as
</I>&gt;<i> `video`?s specced use of `media` attributes.
</I>&gt;<i> 3. Once an appropriate source element has been selected, the `srcset`
</I>&gt;<i> attribute determines which image source is best suited to the user?s screen
</I>&gt;<i> resolution. If only a single resolution is necessary, the `src` attribute
</I>&gt;<i> will function as expected, instead.
</I>&gt;<i>
</I>&gt;<i> In terms of selecting a source element, this markup leverages all the
</I>&gt;<i> strengths of media queries ? the syntax created for this very purpose ? to
</I>&gt;<i> handle the ?art direction? use case.
</I>&gt;<i>
</I>&gt;<i> However, as has been detailed at length here and elsewhere,
</I>&gt;<i> `device-pixel-ratio` media queries are poorly suited towards these
</I>&gt;<i> decisions. As an author, using vendor-prefixed `min-device-pixel-ratio`
</I>&gt;<i> media queries in the example above would involve a massive amount of text
</I>&gt;<i> and twice as many source elements. This could get unwieldy for authors very
</I>&gt;<i> quickly, a concern voiced numerous times in these ongoing discussions.
</I>&gt;<i> Further, implementation of MQ-based resolution switching is far more
</I>&gt;<i> difficult on the UA side: a very real concern.
</I>&gt;<i>
</I>&gt;<i> Once we?ve used media queries to determine the most appropriate source
</I>&gt;<i> element, srcset?s originally intended usage becomes absolutely ideal for
</I>&gt;<i> our purposes: simply determining the appropriate image source for a user?s
</I>&gt;<i> resolution.
</I>&gt;<i>
</I>&gt;<i> It?s worth noting that this example is, in fact, the most convoluted this
</I>&gt;<i> element can ever be. This pattern in no way precludes the use of srcset on
</I>&gt;<i> an `img` tag for simply preforming resolution switching, nor does it
</I>&gt;<i> preclude the use of `picture` as originally proposed for the ?art
</I>&gt;<i> direction?/screen size use cases, with `src` in source elements rather than
</I>&gt;<i> `srcset`.
</I>&gt;<i>
</I>&gt;<i> ## Bandwidth
</I>&gt;<i>
</I>&gt;<i> We cannot reliably make assumptions about bandwidth based on client
</I>&gt;<i> capabilities ? a MacBook Pro with a Retina display may be tethered to a 3G
</I>&gt;<i> phone; a high-resolution mobile device is as likely to be connected to WiFi
</I>&gt;<i> as it is an EDGE connection.
</I>&gt;<i>
</I>&gt;<i> Based on previous discussion on the list, I think we?re largely in
</I>&gt;<i> agreement that bandwidth decisions are best left to the browser. It would
</I>&gt;<i> assume a great deal if authors were to make this decision for the users. It
</I>&gt;<i> would add a point of failure: we would be taking the bandwidth information
</I>&gt;<i> afforded us by the browser, and selectively applying that information. Some
</I>&gt;<i> of us may do it wrong; some of us may find ourselves forced to make a
</I>&gt;<i> decision as to whether we account for users with limited bandwidth or not.
</I>&gt;<i> To not account for it would be, in my opinion, untenable ? I?ve expressed
</I>&gt;<i> that elsewhere, in no uncertain terms. The decision to download high vs.
</I>&gt;<i> standard resolution images should be made by user agents, depending on the
</I>&gt;<i> bandwidth available ? and further, I believe there should be a user
</I>&gt;<i> settable preference for ?always use standard resolution images,? ?always
</I>&gt;<i> use high resolution images,? ?download high resolution as bandwidth
</I>&gt;<i> permits,? and so on.
</I>&gt;<i>
</I>&gt;<i> In discussing the final markup pattern, we have to consider the above.
</I>&gt;<i> Somewhere, that markup is going to contain a suggestion, rather than an
</I>&gt;<i> imperative. I think `srcset` affords us that opportunity: a new syntax
</I>&gt;<i> _designed_ to be treated as such. I wouldn?t want to introduce that sort of
</I>&gt;<i> variance to the media query spec ? a syntax long established as a set of
</I>&gt;<i> absolutes.
</I>&gt;<i>
</I>&gt;<i> It seems `srcset` won?t be going anywhere, and that?s not an indictment.
</I>&gt;<i> There is a time and a place for `srcset`, and I feel that place is
</I>&gt;<i> resolution switching ? as it was originally intended. Our best efforts to
</I>&gt;<i> bring srcset closer in-line with the originally proposed picture element
</I>&gt;<i> only stand to leave us with a siloed microsyntax that inconsistently serves
</I>&gt;<i> the purpose of media queries. With that comes further opportunity for
</I>&gt;<i> errors by implementors and authors alike ? countless new potential points
</I>&gt;<i> of failure.
</I>&gt;<i>
</I>&gt;<i> ## Updated Polyfill
</I>&gt;<i>
</I>&gt;<i> In order to better wrap my head around this pattern, I?ve updated Scott
</I>&gt;<i> Jehl?s Picturefill to make use of the proposed syntax. The source code is
</I>&gt;<i> available on GitHub ( <A HREF="https://github.com/Wilto/picturefill-proposal/">https://github.com/Wilto/picturefill-proposal/</A> ),
</I>&gt;<i> and I?ve posted a demo ( <A HREF="http://wil.to/picturefill/">http://wil.to/picturefill/</A> ) as well.
</I>&gt;<i>
</I>&gt;<i> Thank you for your ongoing consideration, sincerely. I look forward to
</I>&gt;<i> finally putting this issue to rest.
</I>&gt;<i>
</I>&gt;<i> Mat Marquis
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> whatwg mailing list
</I>&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>
</I>&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> End of whatwg Digest, Vol 100, Issue 28
</I>&gt;<i> ***************************************
</I>&gt;<i>
</I>


-- 
with regards

Steve Faulkner
Technical Director - TPG

www.paciellogroup.com | www.HTML5accessibility.com |
www.twitter.com/stevefaulkner
HTML5: Techniques for providing useful text alternatives -
dev.w3.org/html5/alt-techniques/
Web Accessibility Toolbar - www.paciellogroup.com/resources/wat-ie-about.html

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078942.html">[whatwg] Media queries, viewport dimensions, srcset and picture
</A></li>
	<LI>Next message: <A HREF="078948.html">[whatwg] Media queries, viewport dimensions, srcset and picture
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78943">[ date ]</a>
              <a href="thread.html#78943">[ thread ]</a>
              <a href="subject.html#78943">[ subject ]</a>
              <a href="author.html#78943">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
