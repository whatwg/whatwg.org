<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Workers feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Workers%20feedback&In-Reply-To=%3CPine.LNX.4.62.0808081730050.5136%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015670.html">
   <LINK REL="Next"  HREF="015672.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Workers feedback</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Workers%20feedback&In-Reply-To=%3CPine.LNX.4.62.0808081730050.5136%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Workers feedback">ian at hixie.ch
       </A><BR>
    <I>Fri Aug  8 10:36:55 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="015670.html">[whatwg] Workers feedback
</A></li>
        <LI>Next message: <A HREF="015672.html">[whatwg] Workers feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15671">[ date ]</a>
              <a href="thread.html#15671">[ thread ]</a>
              <a href="subject.html#15671">[ subject ]</a>
              <a href="author.html#15671">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 8 Aug 2008, Jonas Sicking wrote:
&gt;<i>
</I>&gt;<i> So the API I'm proposing is the following:
</I>
This seems to be a strict subset of what the spec has now; the only 
difference being that there's no easy way to create a worker and then pass 
it to someone else to take care of, and there seems to be no easy way for 
a worker to hear about a new &quot;parent&quot;.

&gt;<i> (We might want to add an onconnect property to WorkerGlobalScope, but it 
</I>&gt;<i> doesn't seem strictly needed)
</I>
How else would you connect to a shared worker?


&gt;<i> I think that it has the following advantages over the current draft spec:
</I>&gt;<i> 
</I>&gt;<i> * We don't expose users to MessagePort objects in the majority of
</I>&gt;<i>   scenarios.
</I>
I do not consider this an advantage. All we're doing is moving the 
complexity to a later point -- instead of learning part of the API and 
then more of the API if they want to, authors have to learn two APIs, one 
of which is just as complicated as today's, and another that is not quite 
the same as either Window.postMessage() or port.postMessage() but is 
similar enough to get them confused.


&gt;<i> * There is no permanent .port properties anywhere that would go dead if
</I>&gt;<i>   the port is passed somewhere.
</I>
The .parent property is as likely to go dead, e.g. if the parent goes away 
after the worker has been provided a port to another window.


&gt;<i> * There is no need for pseudo properties anywhere (the port variable
</I>&gt;<i>   inside the WorkerGlobalScript)
</I>
Replacing 'port' with 'parent' doesn't really change much. :-)


&gt;<i> * The current draft duplicates the onunload property on both the
</I>&gt;<i>   worker and its port. Not sure if this is needed or just a bug.
</I>
It's not strictly needed but it's useful to distinguish the death of the 
port from the death of the worker.


&gt;<i> * All onX objects live on the same object rather than some living
</I>&gt;<i>   on the worker, some living on worker.port.
</I>
They still also live on .port, it's just that you're not exposing this 
explicitly now. This is a false simplification IMHO.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015670.html">[whatwg] Workers feedback
</A></li>
	<LI>Next message: <A HREF="015672.html">[whatwg] Workers feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15671">[ date ]</a>
              <a href="thread.html#15671">[ thread ]</a>
              <a href="subject.html#15671">[ subject ]</a>
              <a href="author.html#15671">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
