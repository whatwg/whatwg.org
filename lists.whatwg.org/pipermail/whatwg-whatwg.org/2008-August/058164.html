<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fallback behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fallback%20behavior&In-Reply-To=%3C48AE08EF.2060807%40sicking.cc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="058162.html">
   <LINK REL="Next"  HREF="058088.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fallback behavior</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fallback%20behavior&In-Reply-To=%3C48AE08EF.2060807%40sicking.cc%3E"
       TITLE="[whatwg] Fallback behavior">jonas at sicking.cc
       </A><BR>
    <I>Thu Aug 21 17:31:43 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="058162.html">[whatwg] Fallback behavior
</A></li>
        <LI>Next message: <A HREF="058088.html">[whatwg] &lt;object&gt; element feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58164">[ date ]</a>
              <a href="thread.html#58164">[ thread ]</a>
              <a href="subject.html#58164">[ subject ]</a>
              <a href="author.html#58164">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Simon Pieters wrote:
&gt;<i> On Thu, 21 Aug 2008 23:54:44 +0200, Jonas Sicking &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonas at sicking.cc</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Here is the list of elements that we *don't* execute scripts inside of 
</I>&gt;&gt;<i> in firefox:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://mxr.mozilla.org/mozilla-central/source/content/base/src/nsScriptElement.cpp#148">http://mxr.mozilla.org/mozilla-central/source/content/base/src/nsScriptElement.cpp#148</A> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> i.e. &lt;iframe&gt;, &lt;noframes&gt;, &lt;noembed&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Everywhere else we do execute the script.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The reason these elements ended up at the list is in bugs
</I>&gt;&gt;<i> <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=5847">https://bugzilla.mozilla.org/show_bug.cgi?id=5847</A>
</I>&gt;&gt;<i> <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=26669">https://bugzilla.mozilla.org/show_bug.cgi?id=26669</A>
</I>&gt;<i> 
</I>&gt;<i> iframe, noframes and noembed are parsed as CDATA elements
</I>&gt;<i> 
</I>&gt;<i>    
</I>&gt;<i> <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Ciframe%3E%3Cscript%3Ealert(1">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Ciframe%3E%3Cscript%3Ealert(1</A>)%3C%2Fscript%3E%3C%2Fiframe%3E 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> so there can't be any script elements as children of those in text/html. 
</I>&gt;<i> In Opera and WebKit, the script executes in
</I>&gt;<i> 
</I>&gt;<i>    data:text/xml,&lt;iframe 
</I>&gt;<i> xmlns='<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>'&gt;&lt;script&gt;alert(1)&lt;/script&gt;&lt;/iframe&gt;
</I>&gt;<i> 
</I>&gt;<i> and it hasn't caused us any problems AFAIK.
</I>
Looks like firefox doesn't parse the contents of the &lt;iframe&gt; as markup 
either, but rather treat it as CDATA. Which makes me wonder why we ever 
look for &lt;iframe&gt;s in the parent chain :)

I suspect it's just remnants from when things worked differently, the 
check was put in in 1999 :)

But the effect is that even in XHTML, like the example you're providing 
above, scripts in iframes don't execute. This was not intentional though 
given that this code was put in in 1999, before we had xhtml support.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="058162.html">[whatwg] Fallback behavior
</A></li>
	<LI>Next message: <A HREF="058088.html">[whatwg] &lt;object&gt; element feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58164">[ date ]</a>
              <a href="thread.html#58164">[ thread ]</a>
              <a href="subject.html#58164">[ subject ]</a>
              <a href="author.html#58164">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
