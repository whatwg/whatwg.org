<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Workers proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Workers%20proposal&In-Reply-To=%3CPine.LNX.4.62.0808210608000.19930%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015857.html">
   <LINK REL="Next"  HREF="015872.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Workers proposal</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Workers%20proposal&In-Reply-To=%3CPine.LNX.4.62.0808210608000.19930%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Workers proposal">ian at hixie.ch
       </A><BR>
    <I>Wed Aug 20 23:21:46 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="015857.html">[whatwg] Workers proposal
</A></li>
        <LI>Next message: <A HREF="015872.html">[whatwg] Workers proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15859">[ date ]</a>
              <a href="thread.html#15859">[ thread ]</a>
              <a href="subject.html#15859">[ subject ]</a>
              <a href="author.html#15859">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 20 Aug 2008, Jonas Sicking wrote:
&gt;<i> 
</I>&gt;<i> Do we really need the SharedWorker interface. I.e. couldn't we just 
</I>&gt;<i> return a MessagePort?
</I>
We could. It would mean either putting onerror on all message ports, or 
not reporting error information for shared workers. Actually even if we 
did put onerror on ports, it would be difficult to define which ports 
actually get the error events.

It would also mean not using a constructor, but that's fine.

Finally, it would make extending the interface later much harder if we 
found that it was useful to allow different users of the shared worker to 
control something.

Anyone else have any opinions on this?


&gt;<i> This would probably require that we use a factory function rather than a 
</I>&gt;<i> constructor, like &quot;getPortForSharedWorker&quot; or some such. In other words, 
</I>&gt;<i> do we really need onclose and onerror for shared workers (onerror seems 
</I>&gt;<i> to make some sense, onclose i'm less sure about).
</I>
I don't mind dropping them.


&gt;<i> I think startConversation makes as much sense on shared workers as 
</I>&gt;<i> dedicated ones, so moving that API up to Worker/WorkerGlobalScope seems 
</I>&gt;<i> like a good idea.
</I>
startConversation is on the port(s) in the shared worker case. I'm not 
sure what it would mean on the worker or global scope in the shared case, 
since there's no target without the port in that case.


&gt;<i> If we keep the constructors (see first paragraph), I would prefer the 
</I>&gt;<i> syntax &quot;new Worker&quot; over &quot;new DedicatedWorker&quot;.
</I>
That's fine, I can change the base to be AbstractWorker and then have 
Worker and SharedWorker as the interfaces inheriting from it.


I'll wait for slightly more input and then update the spec.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015857.html">[whatwg] Workers proposal
</A></li>
	<LI>Next message: <A HREF="015872.html">[whatwg] Workers proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15859">[ date ]</a>
              <a href="thread.html#15859">[ thread ]</a>
              <a href="subject.html#15859">[ subject ]</a>
              <a href="author.html#15859">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
