<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTML 5 : Misconceptions Documented
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%205%20%3A%20Misconceptions%20Documented&In-Reply-To=%3C697C0EA4-FF2C-4AEA-A1F7-CDF724773F33%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057878.html">
   <LINK REL="Next"  HREF="057896.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTML 5 : Misconceptions Documented</H1>
<!--htdig_noindex-->
    <B>Maciej Stachowiak</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%205%20%3A%20Misconceptions%20Documented&In-Reply-To=%3C697C0EA4-FF2C-4AEA-A1F7-CDF724773F33%40apple.com%3E"
       TITLE="[whatwg] HTML 5 : Misconceptions Documented">mjs at apple.com
       </A><BR>
    <I>Wed Aug  6 19:03:49 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="057878.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
        <LI>Next message: <A HREF="057896.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57887">[ date ]</a>
              <a href="thread.html#57887">[ thread ]</a>
              <a href="subject.html#57887">[ subject ]</a>
              <a href="author.html#57887">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Aug 6, 2008, at 11:23 AM, Garrett Smith wrote:

&gt;<i>
</I>&gt;<i> My apologies for being rude.
</I>&gt;<i>
</I>&gt;<i> What would you suggest, Maciej?
</I>
I would suggest:

a) Point out mistakes courteously.
b) Preferably do so in the appropriate public forum where others can  
see them (I don't see any mail from you on this topic in public- 
webapps).
c) Assume good faith on the part of the editor, even if you do not  
receive an immediate reply.

&gt;<i> If Cameron McCormick ignores constructive criticism for three weeks,
</I>&gt;<i> what's to say he'll won't ignore it another three weeks and then
</I>&gt;<i> forget about it altogether?
</I>
Because he has a track record of responding to feedback

&gt;<i> I tried to elicit a response by providing test cases and through
</I>&gt;<i> constructive criticism.
</I>&gt;<i>
</I>&gt;<i> The longer that document stays up there in its current form, the
</I>&gt;<i> greater the chance that someone will come along and write a book or
</I>&gt;<i> blog about this and teach those who are less knowledgeable, and pretty
</I>&gt;<i> soon, it starts appearing as a 'bug' on webbugtrack and filed as a bug
</I>&gt;<i> against IE. It has happened before. I can see on the JScript blog
</I>&gt;<i> right now, a bug that is not a bug, filed against IE, and comments
</I>&gt;<i> from the JScript team about how they will &quot;fix&quot; it.
</I>
This lacks all sense of proportion. No one expects a W3C Working Draft  
to be technically correct in all details, and browser vendors and  
authors of books in particular know to test things and not rely on  
specs, and to look at the maturity level of documents. I would hasten  
to add that the mistake they'd make based on this (that '0' in  
HTMLCollection might be false when it is in fact true) is an error  
that would have almost no effect on anyone in practice.

While pointing out technical errors in specifications is extremely  
valuable, please do not assume that just because you found it, it must  
become the most important thing in the world for the editor.

&gt;<i> (my name is Garrett BTW)
</I>
My apologies for the typo.

&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> that the
</I>&gt;&gt;<i> way we describe magical dynamic properties in a way that makes  
</I>&gt;&gt;<i> clear they
</I>&gt;&gt;<i> are also visible to the &quot;in&quot; operator and to
</I>&gt;&gt;<i> Object.prototype.hasOwnProperty. Are there any DOM bindings that  
</I>&gt;&gt;<i> have index
</I>&gt;&gt;<i> (or named) properties which are *not* visible in such a way? If  
</I>&gt;&gt;<i> not, then
</I>&gt;&gt;<i> the current [IndexGetter] definition is useless and we need a better
</I>&gt;&gt;<i> formalism.
</I>&gt;<i>
</I>&gt;<i> Did you miss the demo that I posted yesterday? The one Cameron
</I>&gt;<i> mentioned in his comment, (that you're replying to)? It shows that
</I>&gt;<i> implementations will provide access to items/elements that are not
</I>&gt;<i> properties on Form.
</I>


&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Also, for NamedNodeMap, it seems that IE and Opera add attributes as
</I>&gt;<i> properties to the object,
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I think that Web IDL can't provide as much syntactic help for HTML
</I>&gt;&gt;&gt;<i> collections where the properties are real.  So HTML will probably  
</I>&gt;&gt;&gt;<i> have
</I>&gt;&gt;&gt;<i> to include a sentence such as:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I also don't understand what is meant to by calling some properties  
</I>&gt;&gt;<i> &quot;real&quot;.
</I>&gt;&gt;<i> I don't think this is a meaningful distinction. The core of the  
</I>&gt;&gt;<i> point that
</I>&gt;&gt;<i> Garret raised (as far as I can tell) is that the properties are  
</I>&gt;&gt;<i> visible to
</I>&gt;&gt;<i> has/in checks as well as gettable, and I think this is true in all  
</I>&gt;&gt;<i> cases of
</I>&gt;&gt;<i> DOM objects with dynamic index/named properties.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> That is not true. I posted results and explained in discussion of my
</I>&gt;<i> last example that in Firefox3, FORM has:
</I>&gt;<i>
</I>&gt;<i> # [[IndexGetter]]
</I>&gt;<i> # No Indexed Property
</I>
[[IndexGetter]] is a spec fiction, as is the notion of whether  
something &quot;has&quot; a property. What is observable is the effects of  
getting the property, hasOwnProperty, in, and attempts to delete or  
put the property. If you describe things in those terms it will be  
easier to know what you mean.

It may be that we need two different ways to spec dynamically  
available properties if the difference matters for compatibility.

&gt;<i> Additionally, the NamedNodeMap in FF3 and Safari3 will provide access
</I>&gt;<i> to properties that would have otherwise have to be got via
</I>&gt;<i> 'getNamedItem()'
</I>&gt;<i>
</I>&gt;<i> For example:
</I>&gt;<i>
</I>&gt;<i> &lt;body id='test'&gt;
</I>&gt;<i> &lt;script&gt;
</I>&gt;<i> alert('id' in document.body.attributes)
</I>&gt;<i> &lt;/script&gt;
</I>&gt;<i> &lt;/body&gt;
</I>&gt;<i>
</I>&gt;<i> alerts &quot;false&quot; in FF3 and Saf2 (but 'true' in Saf3).
</I>
It probably doesn't matter which behavior is chosen on this, since it  
is such an unlikey thing to do, but better to choose one. And better  
for such things to be consistent if possible.


&gt;&gt;&gt;<i> In the ECMAScript language binding, for every node in the collection
</I>&gt;&gt;&gt;<i> there must exist a property on the collection object whose name is
</I>&gt;&gt;&gt;<i> the index of the node in the collection, and whose value is the  
</I>&gt;&gt;&gt;<i> node.
</I>&gt;&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sounds fine to me, but I would probably have chosen SHOULD over MUST.
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> With some wording about whether these extra properties take  
</I>&gt;&gt;&gt;<i> precedence
</I>&gt;&gt;&gt;<i> over other properties on the object due to the interface, etc.  Ian?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I disagree with that.
</I>&gt;<i>
</I>&gt;<i> Testcases to determine what implementations do and what are the worst
</I>&gt;<i> problems to avoid would be the most useful at this point. For example,
</I>&gt;<i> a HTMLFORMElement with the name &quot;length&quot;, and attribute &quot;length&quot; on
</I>&gt;<i> the form.
</I>&gt;<i>
</I>&gt;<i> &lt;form length=&quot;10&quot;&gt;
</I>&gt;<i>  &lt;input name=&quot;length&quot;&gt;
</I>&gt;<i> &lt;/form&gt;
</I>&gt;<i>
</I>&gt;<i> Please do make up some test cases. You can post these to the list.
</I>&gt;<i> Talk to Ian about where to upload them for reference.
</I>&gt;<i>
</I>&gt;<i> There is a testcase on connect.microsoft.com. I don't have time to
</I>&gt;<i> look it up now, (site is kind of hard to use and slow) but was filed
</I>&gt;<i> by &quot;PPKPPK&quot; about the &quot;attributes array&quot; (deja vu).
</I>&gt;<i>
</I>&gt;&gt;<i> I think Web IDL should provide a formalism to cater to this,  
</I>&gt;&gt;<i> because nearly
</I>&gt;&gt;<i> all bindings with special dynamic properties work like this afaik.  
</I>&gt;&gt;<i> But I
</I>&gt;&gt;<i> think it would have to involve a pseudo-method for the  
</I>&gt;&gt;<i> &quot;hasOwnProperty&quot;
</I>&gt;&gt;<i> check (which &quot;in&quot; is based on).
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> WRONG.
</I>&gt;<i>
</I>&gt;<i> The 'in' operator is based on the [[HasProperty]], not  
</I>&gt;<i> &quot;hasOwnProperty&quot;
</I>
First of all, [[HasProperty]] is often implemented in terms of  
hasOwnProperty, since it cannot return true unless hasOwnProperty does  
for some element of the prototype chain. Second, how could this  
distinction possibly make a difference in this case? If the property  
is an own property, then there is no operational difference between  
[[HasProperty]] and hasOwnProperty. Thus, your all-caps &quot;WRONG&quot; seems  
a little over the top.

Regards,
Maciej




</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057878.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
	<LI>Next message: <A HREF="057896.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57887">[ date ]</a>
              <a href="thread.html#57887">[ thread ]</a>
              <a href="subject.html#57887">[ subject ]</a>
              <a href="author.html#57887">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
