<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] WebWorkers vs. Threads
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebWorkers%20vs.%20Threads&In-Reply-To=%3C1CDB897B979B44C69A4D164896482C90%40POCZTOWIEC%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="058019.html">
   <LINK REL="Next"  HREF="058026.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] WebWorkers vs. Threads</H1>
<!--htdig_noindex-->
    <B>Kristof Zelechovski</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebWorkers%20vs.%20Threads&In-Reply-To=%3C1CDB897B979B44C69A4D164896482C90%40POCZTOWIEC%3E"
       TITLE="[whatwg] WebWorkers vs. Threads">giecrilj at stegny.2a.pl
       </A><BR>
    <I>Thu Aug 14 00:23:46 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="058019.html">[whatwg] WebWorkers vs. Threads
</A></li>
        <LI>Next message: <A HREF="058026.html">[whatwg] WebWorkers vs. Threads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58025">[ date ]</a>
              <a href="thread.html#58025">[ thread ]</a>
              <a href="subject.html#58025">[ subject ]</a>
              <a href="author.html#58025">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Sorry, I do not get it.  Where does the value of (la) make it into
(e.message)?

-----Original Message-----
From: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>
[mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>] On Behalf Of Aaron Boodman
Sent: Wednesday, August 13, 2008 10:04 PM
To: Shannon
Cc: WHAT working group; Kristof Zelechovski; Jonas Sicking
Subject: Re: [whatwg] WebWorkers vs. Threads


You're right that if you try to use workers like threads, you end up
with threads. A more message-passing style implementation is easier.
In particular you would not want to allow the worker to 'get' and
'set' individual variables, but pass it messages about work you would
like it to perform, and have it pass back messages about the result.
This is less flexible than threading but easier to reason about.

// main.js
var la = 0; // what is with this variable name?
var worker = createWorker(&quot;worker.js&quot;);
worker.port.addEventListener(&quot;message&quot;, function(e) {
  la = parseInt(e.message);
  alert(la);
}, false);

// worker.js
workerGlobalScope.port.addEventListener(&quot;message&quot;, function(e) {
  workerGlobalScope.port.sendMessage(
someLongRunningFunction(parseInt(e.message)));
}, false);




</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="058019.html">[whatwg] WebWorkers vs. Threads
</A></li>
	<LI>Next message: <A HREF="058026.html">[whatwg] WebWorkers vs. Threads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58025">[ date ]</a>
              <a href="thread.html#58025">[ thread ]</a>
              <a href="subject.html#58025">[ subject ]</a>
              <a href="author.html#58025">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
