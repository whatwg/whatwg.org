<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] hashchange only dispatched in history traversal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20hashchange%20only%20dispatched%20in%20history%20traversal&In-Reply-To=%3CPine.LNX.4.62.0808212304270.19930%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="058146.html">
   <LINK REL="Next"  HREF="058171.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] hashchange only dispatched in history traversal</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20hashchange%20only%20dispatched%20in%20history%20traversal&In-Reply-To=%3CPine.LNX.4.62.0808212304270.19930%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] hashchange only dispatched in history traversal">ian at hixie.ch
       </A><BR>
    <I>Thu Aug 21 16:09:26 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="058146.html">[whatwg] hashchange only dispatched in history traversal
</A></li>
        <LI>Next message: <A HREF="058171.html">[whatwg] hashchange only dispatched in history traversal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58155">[ date ]</a>
              <a href="thread.html#58155">[ thread ]</a>
              <a href="subject.html#58155">[ subject ]</a>
              <a href="author.html#58155">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 21 Aug 2008, Garrett Smith wrote:
&gt;<i> 
</I>&gt;<i> HTML 5 expands &quot;hashchange&quot; to any element. Any element, such as div
</I>&gt;<i> or pre? How can you know if an element supports &quot;hashchange&quot; or not?
</I>
I'm not sure what you mean. In HTML5, all event handler _attributes_ can 
be placed on any element, but that doesn't mean that the event will be 
fired by the UA at any element. The spec only fires the event at the body 
element.


&gt;<i> &quot;hashchange&quot; seems closely related to the Location interface, so it 
</I>&gt;<i> would seem to make sense to have &quot;hashchange&quot; implemented for objects 
</I>&gt;<i> that implement Location.
</I>&gt;<i> 
</I>&gt;<i> Has this been considered?
</I>
Yes, but the benefit of being able to do &lt;body onhashchange=&quot;&quot;&gt; outweighs 
the logicalness of dispatching events to the Location object.


&gt;<i> &gt;&gt; I'm not sure what that has to do with the body element.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Nothing especially, except that that is where the event is fired, so 
</I>&gt;<i> &gt; that you can do &lt;body onhashchange=&quot;...&quot;&gt;.
</I>&gt;<i> 
</I>&gt;<i>  &quot;fires at the body element&quot;  sounds as if the event is firing itself, 
</I>&gt;<i> at the body. Instead, say the EventTarget fires the event. For example: 
</I>&gt;<i> &quot;The window fires the hashchange event.&quot;
</I>
I disagree with your interpretation of the terminology, but that's not 
just editorial so it's not a big deal.


&gt;<i> Body event handler attributes cascading to window is unclear and creates 
</I>&gt;<i> ambiguity as to what the event is being attached to.
</I>&gt;<i> 
</I>&gt;<i> &lt;body onmousedown=&quot;alert(this)&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> alerts &quot;window&quot; in Firefox 3. The mousedown event fires anywhere, not 
</I>&gt;<i> just on the body. This creates ambiguity. So it is a practice that 
</I>&gt;<i> should be avoided in attempt to be cross browser. Has this problem been 
</I>&gt;<i> considered?
</I>
Yeah, this is an open issue. I'm hoping that the DOM Events spec handles 
it.


&gt;<i> 1) add a note about bubbling. hashchange events bubble
</I>
Per the spec, it doesnt.


&gt;<i> 2) replace the &quot;fires at the body element&quot; with &quot;the EventTarget fires 
</I>&gt;<i> the event&quot;
</I>
I disagree with this interpretation of the terminology.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="058146.html">[whatwg] hashchange only dispatched in history traversal
</A></li>
	<LI>Next message: <A HREF="058171.html">[whatwg] hashchange only dispatched in history traversal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58155">[ date ]</a>
              <a href="thread.html#58155">[ thread ]</a>
              <a href="subject.html#58155">[ subject ]</a>
              <a href="author.html#58155">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
