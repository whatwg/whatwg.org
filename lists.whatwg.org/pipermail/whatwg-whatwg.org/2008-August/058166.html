<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Scripted &lt;video&gt; query proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Scripted%20%3Cvideo%3E%20query%20proposal&In-Reply-To=%3C48AE1CD4.3020006%40wikimedia.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="058342.html">
   <LINK REL="Next"  HREF="058167.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Scripted &lt;video&gt; query proposal</H1>
<!--htdig_noindex-->
    <B>Tim Starling</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Scripted%20%3Cvideo%3E%20query%20proposal&In-Reply-To=%3C48AE1CD4.3020006%40wikimedia.org%3E"
       TITLE="[whatwg] Scripted &lt;video&gt; query proposal">tstarling at wikimedia.org
       </A><BR>
    <I>Thu Aug 21 18:56:36 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="058342.html">[whatwg] Workers
</A></li>
        <LI>Next message: <A HREF="058167.html">[whatwg] Scripted &lt;video&gt; query proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58166">[ date ]</a>
              <a href="thread.html#58166">[ thread ]</a>
              <a href="subject.html#58166">[ subject ]</a>
              <a href="author.html#58166">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>interface HTMLMediaElement {
    ...
    boolean supportsType(in DOMString type);
    ...
}

The supportsType() method must return false if the user agent is sure it
cannot support the given type, and true if the user agent either can
support the given type, or cannot determine whether it can support the
given type.

The type parameter must be a MIME type. The codecs parameter may be
specified and might be necessary to specify exactly how the resource is
encoded [RFC2046] [RFC4281].

[end spec proposal]

Sample of simple detection JavaScript code:

div = document.getElementById('videocontainer');
video = document.getElementById( 'video1' );
if (!video.supportsType('application/ogg;codecs=&quot;theora&quot;)) {
    div.innerHTML = &quot;Sorry, you can't play this content&quot;;
} else {
    video.play();
}

Complains only if the browser is sure it doesn't support the type,
otherwise it will try to play.

Sample of complex detection code:

supportsJava = navigator.javaEnabled &amp;&amp; navigator.javaEnabled();
badVideo = false;
goodVideo = false;
if (HTMLVideoElement) {
    video = new HTMLVideoElement;
    if (!video) {
        // no &lt;video&gt; support
    } else if (video.supportsType('application/x-nonsense-type')) {
        badVideo = true;
    } else if (video.supportsType('application/ogg;codecs=&quot;theora&quot;')) {
        goodVideo = true;
    }
}
if (goodVideo) {
    embedVideo();
} else if (supportsJava) {
    embedCortado();
} else if (badVideo) {
    embedVideo();
} else {
    showErrorMessage();
}

Shows the &lt;video&gt; only if the browser is reasonably likely to support
it, or if there is no Java alternative.

-- Tim Starling


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="058342.html">[whatwg] Workers
</A></li>
	<LI>Next message: <A HREF="058167.html">[whatwg] Scripted &lt;video&gt; query proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58166">[ date ]</a>
              <a href="thread.html#58166">[ thread ]</a>
              <a href="subject.html#58166">[ subject ]</a>
              <a href="author.html#58166">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
