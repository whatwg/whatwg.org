<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Scripted querying of &lt;video&gt; capabilities
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Scripted%20querying%20of%20%3Cvideo%3E%20capabilities&In-Reply-To=%3C489A9C04.9040006%40wikimedia.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057894.html">
   <LINK REL="Next"  HREF="057905.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Scripted querying of &lt;video&gt; capabilities</H1>
<!--htdig_noindex-->
    <B>Tim Starling</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Scripted%20querying%20of%20%3Cvideo%3E%20capabilities&In-Reply-To=%3C489A9C04.9040006%40wikimedia.org%3E"
       TITLE="[whatwg] Scripted querying of &lt;video&gt; capabilities">tstarling at wikimedia.org
       </A><BR>
    <I>Wed Aug  6 23:53:56 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="057894.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
        <LI>Next message: <A HREF="057905.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57904">[ date ]</a>
              <a href="thread.html#57904">[ thread ]</a>
              <a href="subject.html#57904">[ subject ]</a>
              <a href="author.html#57904">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Robert O'Callahan wrote:
&gt;<i> That would be nice to have. Unfortunately DirectShow and Quicktime do
</I>&gt;<i> not seem to expose the ability to enumerate supported codecs, so it
</I>&gt;<i> might be hard to implement for some browsers.
</I>&gt;<i>
</I>&gt;<i> As things stand, you can use &lt;source&gt; elements to offer different
</I>&gt;<i> formats, and you can try to play a stream and use script to detect if
</I>&gt;<i> it fails to play.
</I>
DirectShow and QuickTime can add those interfaces at a later date. When
the backends develop this capability, there should be a standard way to
go the next step and expose it to JavaScript. Otherwise every
implementor will develop their own interface.

In fact, QuickTime already has enough query capabilities for Wikimedia's
purposes. Here is part of the JavaScript code I wrote to embed QuickTime:

    // Detect XiphQT (may throw)
    var xiphQtVersion = false, done = false;
    try {
        xiphQtVersion = videoElt.GetComponentVersion('imdc','XiTh', 'Xiph');
        done = true;
    } catch ( e ) {}
    if ( done ) {
        window.clearInterval( this_.qtTimers[params.id] );
        if ( !xiphQtVersion || xiphQtVersion == '0.0' ) {
            // ... show error message &quot;no XiphQt&quot; ...
        }
        // Disable autoplay on back button
        this_.setParam( videoElt, 'AUTOPLAY', 'False' );
    }

It works very well, but it's the sort of thing that I'd rather not have
to implement a dozen times for a dozen incompatible scriptable interfaces.

--
Tim Starling
Wikimedia Foundation

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057894.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
	<LI>Next message: <A HREF="057905.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57904">[ date ]</a>
              <a href="thread.html#57904">[ thread ]</a>
              <a href="subject.html#57904">[ subject ]</a>
              <a href="author.html#57904">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
