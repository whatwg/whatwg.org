<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] WebWorkers vs. Threads
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebWorkers%20vs.%20Threads&In-Reply-To=%3C489E7FD2.10202%40arc.net.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057956.html">
   <LINK REL="Next"  HREF="057960.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] WebWorkers vs. Threads</H1>
<!--htdig_noindex-->
    <B>Shannon</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebWorkers%20vs.%20Threads&In-Reply-To=%3C489E7FD2.10202%40arc.net.au%3E"
       TITLE="[whatwg] WebWorkers vs. Threads">shannon at arc.net.au
       </A><BR>
    <I>Sat Aug  9 22:42:42 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="057956.html">[whatwg] CanvasRenderingContext2D::createPattern and partially	loaded images
</A></li>
        <LI>Next message: <A HREF="057960.html">[whatwg] WebWorkers vs. Threads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57959">[ date ]</a>
              <a href="thread.html#57959">[ thread ]</a>
              <a href="subject.html#57959">[ subject ]</a>
              <a href="author.html#57959">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I've been following the WebWorkers discussion for some time trying to 
make sense of the problems it is trying to solve. I am starting to come 
to the conclusion that it provides little not already provided by:

setTimeout(mainThreadFunc,1)
setTimeout(workThreadFunc,2)
setTimeout(workThreadFunc,2)
....

This is especially true if our main function sets up a &quot;thread-safe&quot; 
communication channel of some sort.

Obviously WebWorkers would make all this clearer and possibly easier but 
surely any number of free JS libraries could do that too. The only 
feature of WebWorkers that Javascript can't emulate is the ability for 
the worker to hang around after a page is closed; but I think this 
clearly falls into the category of a &quot;web annoyance&quot;. When I close a 
page I want it gone - immediately. Passing workers around between pages 
sounds like something that would be good for advertising banner network 
trackers to avoid privacy settings.

I believe that babysitting developers (through feature elimination) is a 
bad idea. While WebWorkers aims to protect developers from common 
mistakes it will probalt force them into adopting worse hacks and 
workarounds. There is still a common conception of Javascript as a toy 
language, and in many ways that is true. However HTML5 calls itself a 
&quot;WebApplications&quot; language and we are indeed entering a time where many 
sophisticated desktop applications are being ported to Javascript. This 
raises a new issue, which is how do you port a threaded application to a 
language with no real threads or mutexes? With great difficulty I imagine.

One of the Mozilla JS developers has come out gunning against 
traditional threading in JS so it may be we never see an official thread 
object anytime soon (&quot;over his dead body&quot;, in his own words). I realise 
WebWorkers tries to solve his concerns (mainly race conditions) by 
preventing  direct shared access to global variables but again this is 
something a threading library or good programming style should be able 
to solve. The workaround for webworker limitations is settimeout hacks 
so I wonder whether this is going to create horrible hybrid 
webworker+setimeout code that is generally unreadable.

Another issue with eliminating threads is that they are very desirable 
to developers. Because they are desirable it's likely that one of more 
browser vendors may go ahead and implement them anyway, essentially 
&quot;embracing and extending&quot; HTML5 and ECMAScript. If this happens then its 
likely a large number of popular multithreaded desktop applications will 
only be ported to those browsers. History has already shown us the 
problems this causes.

I am aware that the use cases and feature set of Web Workers has not 
been agreed on yet and there may be things I've overlooked. However I 
would much rather see an API that gives the developer more options and 
allows them to use or abuse them as required than a crippled API that 
pushes them into proprietary extensions, plugins and hacks to achieve 
something that every other major language already provides.

Shannon

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057956.html">[whatwg] CanvasRenderingContext2D::createPattern and partially	loaded images
</A></li>
	<LI>Next message: <A HREF="057960.html">[whatwg] WebWorkers vs. Threads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57959">[ date ]</a>
              <a href="thread.html#57959">[ thread ]</a>
              <a href="subject.html#57959">[ subject ]</a>
              <a href="author.html#57959">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
