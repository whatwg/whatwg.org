<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] document.readyState and its initial value
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20document.readyState%20and%20its%20initial%20value&In-Reply-To=%3C4898D917.2020208%40sicking.cc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015591.html">
   <LINK REL="Next"  HREF="015588.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] document.readyState and its initial value</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20document.readyState%20and%20its%20initial%20value&In-Reply-To=%3C4898D917.2020208%40sicking.cc%3E"
       TITLE="[whatwg] document.readyState and its initial value">jonas at sicking.cc
       </A><BR>
    <I>Tue Aug  5 15:49:59 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="015591.html">[whatwg] document.readyState and its initial value
</A></li>
        <LI>Next message: <A HREF="015588.html">[whatwg] Web Workers and MessagePort feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15595">[ date ]</a>
              <a href="thread.html#15595">[ thread ]</a>
              <a href="subject.html#15595">[ subject ]</a>
              <a href="author.html#15595">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> On Tue, 5 Aug 2008, Jonas Sicking wrote:
</I>&gt;&gt;<i> Ian Hickson wrote:
</I>&gt;&gt;&gt;&gt;<i> But, oddity is par for the course in DOM, so I guess we'll just follow the
</I>&gt;&gt;&gt;&gt;<i> HTML 5 spec as-is, initialize readyState to &quot;loading&quot; in the object
</I>&gt;&gt;&gt;&gt;<i> constructor, and keep our fingers crossed.
</I>&gt;&gt;&gt;<i> If you find any problems with doing this, please let me know, so we can
</I>&gt;&gt;&gt;<i> update the spec!
</I>&gt;&gt;<i> The concern I have with doing that is that document created through 
</I>&gt;&gt;<i> other means, such as .implementation.createDocument, 
</I>&gt;&gt;<i> XSLTProccessor.transformToDocument, DOMParser.parse, etc, probably 
</I>&gt;&gt;<i> should not be in the 'uninitialized' state. Especially the last two 
</I>&gt;&gt;<i> should return documents that is in the 'complete' state I would think.
</I>&gt;<i> 
</I>&gt;<i> IE doesn't have any of those mechanisms. In IE,
</I>&gt;<i> 
</I>&gt;<i>    w(new ActiveXObject(&quot;Msxml.DOMDocument&quot;).readyState);
</I>&gt;<i> 
</I>&gt;<i> ...returns &quot;4&quot;, which isn't any of the values I expected.
</I>&gt;<i> 
</I>&gt;<i> Right now the spec says that anything that doesn't go through a parser 
</I>&gt;<i> will remain in the readyState == &quot;loading&quot; state forever. Is that a 
</I>&gt;<i> problem?
</I>
The one usecase I have heard for .readystate is to figure out if the 
document has had its onload event fired yet, or if one is coming later. 
In that scenario it would seem unexpected to return &quot;loading&quot; as no 
onload event is about to fire.

&gt;<i> We could define that mechanisms that create a Document object 
</I>&gt;<i> without an associated parser set it to &quot;complete&quot; if you want. I'm not 
</I>&gt;<i> sure that that would be especially useful, although it would, I guess, be 
</I>&gt;<i> somewhat more self-consistent.
</I>
Yeah, i think so.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015591.html">[whatwg] document.readyState and its initial value
</A></li>
	<LI>Next message: <A HREF="015588.html">[whatwg] Web Workers and MessagePort feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15595">[ date ]</a>
              <a href="thread.html#15595">[ thread ]</a>
              <a href="subject.html#15595">[ subject ]</a>
              <a href="author.html#15595">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
