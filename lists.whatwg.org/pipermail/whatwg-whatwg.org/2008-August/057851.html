<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTML 5 : Misconceptions Documented
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%205%20%3A%20Misconceptions%20Documented&In-Reply-To=%3Cc9e12660808042303q21d19484nfb91e6f92bd636c3%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057839.html">
   <LINK REL="Next"  HREF="057869.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTML 5 : Misconceptions Documented</H1>
<!--htdig_noindex-->
    <B>Garrett Smith</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%205%20%3A%20Misconceptions%20Documented&In-Reply-To=%3Cc9e12660808042303q21d19484nfb91e6f92bd636c3%40mail.gmail.com%3E"
       TITLE="[whatwg] HTML 5 : Misconceptions Documented">dhtmlkitchen at gmail.com
       </A><BR>
    <I>Mon Aug  4 23:03:08 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="057839.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
        <LI>Next message: <A HREF="057869.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57851">[ date ]</a>
              <a href="thread.html#57851">[ thread ]</a>
              <a href="subject.html#57851">[ subject ]</a>
              <a href="author.html#57851">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Aug 4, 2008 at 3:17 PM, Thomas Broyer &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">t.broyer at gmail.com</A>&gt; wrote:
&gt;<i> On Wed, Jul 30, 2008 at 8:33 AM, Garrett Smith wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> (3) There is no specification for a special [[Get]] for the &quot;elements&quot;
</I>&gt;&gt;<i> HTMLCollection as a shortcut to &quot;namedItem&quot;, either (though this would not
</I>&gt;&gt;<i> seem to be a problem,
</I>&gt;<i>
</I>&gt;<i> Actually, there is:
</I>&gt;<i> <A HREF="http://www.w3.org/TR/html5/dom.html#htmlcollection">http://www.w3.org/TR/html5/dom.html#htmlcollection</A>
</I>&gt;<i> and I believe the &quot;elements&quot; property of HTMLFormElement is actually
</I>&gt;<i> an HTMLFormControlsCollection:
</I>&gt;<i> <A HREF="http://www.w3.org/TR/html5/dom.html#htmlformcontrolscollection">http://www.w3.org/TR/html5/dom.html#htmlformcontrolscollection</A>
</I>&gt;<i>
</I>
First off, the IndexGetter behavior on the HTMLCollection[1] is the
authors imagination. It is a shame to see such misinformation has made
it so far.

The following example shows that indexed Properties exist on
NamedNodeMap, HTMLCollection, NodeList (just like they do on Arrays).
There is no [[ IndexGetter ]] as Cameron likes to make pretend.

======================================================
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Additional Properties on NamedNodeMap, HTMLCollection, NodeList&lt;/title&gt;
&lt;link rel=&quot;author&quot; title=&quot;Garrett Smith&quot; href=&quot;mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dhtmlkitchen at gmail.com</A>&quot;/&gt;
&lt;/head&gt;

&lt;body id=&quot;body&quot;&gt;
&lt;select id='s'&gt;
&lt;option&gt;&lt;/option&gt;
&lt;/select&gt;
&lt;pre&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
var s = document.getElementById('s');
document.write([
  &quot;NamedNodeMap: '0'in document.body.attributes : &quot;
  + ('0'in document.body.attributes),
  &quot;HTMLCollection '0'in document.body.childNodes : &quot;
  + ('0'in document.body.childNodes),
  &quot;HTMLOptionsCollection '0'in s.options : &quot;
  + ('0'in s.options),
  &quot;NodeList: '0'in document.getElementsByTagName('*') : &quot;
  + ('0'in document.getElementsByTagName('*')),
  &quot;'id'in document.body.attributes : &quot;
  + ('id'in document.body.attributes)
].join('\n'));
&lt;/script&gt;
&lt;/pre&gt;

&lt;p&gt;
    This test is informative. It is not pass/fail. There is no public standard.
&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
======================================================

Even if the author wrote 0 tests, simple observations should show him
just how wrong he is. I wrote about this twice on public-webapi list,
addressing Cameron McCormick with direct questions. Both messages died
with 0 replies. The second one I wrote to the public-webapi list:-

|<i> It can be demonstrated that all of: NamedNodeMap, NodeList, and
</I>|<i> HTMLCollection are implemented in the top 4 browsers with extra
</I>|<i> numeric properties being added.
</I>
|<i> <A HREF="http://html5.googlecode.com/svn/trunk/incoming/garrett-smith/noIndexGetter.html">http://html5.googlecode.com/svn/trunk/incoming/garrett-smith/noIndexGetter.html</A>
</I>
|<i> StyleSheetList, and CSSRuleList also have this behavior. I can't
</I>|<i> find an object that implements indexed properties the way you
</I>|<i> have documented them.
</I>
|<i> Although the HTML DOM spec defines a 'length' property for
</I>|<i> NamedNodeMap, yet provides no way to access items by index. This
</I>|<i> seems to be a strange design decision, though not the most harmful.
</I>|<i> Ideally, such decisions would be tested out before writing a lengthy
</I>|<i> document. Firefox, Opera, Safari, and IE all allow access by ordinal
</I>|<i> index, via property access, but not by the way you have described in
</I>|<i> your document.
</I>
My example demonstrates that there is no [[ IndexGetter ]] on
NamedNodeMap, et c. Ignoring valid criticism serves no useful purpose.
This was documented in IDL, of all the places.

&gt;&gt;<i> and all implementations have supported this behavior for quite a long time).
</I>&gt;<i>
</I>&gt;<i> Note that all implementations also supports the same behavior on
</I>&gt;<i> HTMLFormElement and HTMLDocument.
</I>&gt;<i>
</I>
That is not true about document. There no indexed properties, no [[
IndexGetter ]], and no [[ NameGetter ]] and no named property. There
may be either a specialized [[ IndexGetter ]] or an indexed property
on a Form Element, and the [[ IndexedGetter ]] exists only in Firefox,
on the HTMLFormElement. I cannot understand decision to specify [[
IndexGetter ]] as &quot;standard&quot; for all objects with indexed properties
when it has been demonstrated to exist only on HTMLFormElement and
only in one browser:

Firefox.

==========================
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
      &lt;title&gt;Document&lt;/title&gt;
      &lt;style type='text/css'&gt;
li {
      display: none;
}
      &lt;/style&gt;
&lt;/head&gt;
&lt;body id=&quot;test&quot;&gt;

&lt;h1&gt;Document Has&lt;/h1&gt;
&lt;ul&gt;
      &lt;li id='nameProperty'&gt;Named Property&lt;/li&gt;
      &lt;li id='noNameProperty'&gt;No Named Property&lt;/li&gt;
      &lt;li id='nameGetter'&gt; [[ NameGetter ]]&lt;/li&gt;
      &lt;li id='indexProperty'&gt;Indexed Property&lt;/li&gt;
      &lt;li id='indexGetter'&gt;[[IndexGetter]]&lt;/li&gt;
      &lt;li id='noIndexProperty'&gt;No Indexed Property&lt;/li&gt;
&lt;/ul&gt;

&lt;h1&gt;Form Has&lt;/h1&gt;
&lt;ul&gt;
      &lt;li id='fnameProperty'&gt;Named Property&lt;/li&gt;
      &lt;li id='fnoNameProperty'&gt;No Named Property&lt;/li&gt;
      &lt;li id='fnameGetter'&gt;[[ NameGetter ]]&lt;/li&gt;
      &lt;li id='findexProperty'&gt;Indexed Property&lt;/li&gt;
      &lt;li id='findexGetter'&gt;[[IndexGetter]]&lt;/li&gt;
      &lt;li id='fnoIndexProperty'&gt;No Indexed Property&lt;/li&gt;
&lt;/ul&gt;

&lt;form action=&quot;&quot; name=&quot;f&quot;&gt;
 &lt;input type=&quot;text&quot; name=&quot;t&quot; id=&quot;t&quot;&gt;
&lt;/form&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
var ids = [];
if('test' in document) ids.push('nameProperty');
else {
 ids.push('noNameProperty');
 if(document.test) ids.push(&quot;nameGetter&quot;);
}
if('0'in document) ids.push('indexProperty');
else {
      ids.push('noIndexProperty');
      if(document[0]) ids.push('indexGetter');
}

var f = document.forms[0];
if('t'in f) ids.push('fnameProperty');
else {
 ids.push('fnoNameProperty');
 if(f.t) ids.push(&quot;fnameGetter&quot;);
}if('0'in f) ids.push('findexProperty');
else {
 ids.push('fnoIndexProperty');
 if(f[0]) ids.push('findexGetter');
}

try{
for(var i = 0; i &lt; ids.length; i++)
 document.getElementById(ids[i]).style.display = &quot;block&quot;;
 } catch(x) { alert(ids[i]); }
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
==========================
Safari3, Opera9, IE8

Document Has
  No Named Property
  No Indexed Property
Form Has
  Named Property
  Indexed Property

Firefox3:
Document Has
    * No Named Property
    * No Indexed Property
Form Has
    * Named Property
    * [[IndexGetter]]
    * No Indexed Property

The results show that document has no [[ NameGetter ]] or [[
IndexGetter]], and a Form has no [[ NameGetter ]] or [[IndexGetter]],
except in Firefox, which implements some sort of specialized [[Get]]
(Cameron would call this the &quot;[[IndexGetter]]&quot;) on the Form, and my
example uses that term.

Historically, Netscape's document object had FORM and Image named
elements' names as properties. It is unnecessary to have these
lookups, as we can easily use the DOM document.forms collection.
Creating a specification for new functionality based on a the
deprecated Netscape API is pointless because we have the &quot;elements&quot;
collection, and it is bad because it may introduce problems (it is in
fact specified incorrectly).

There is no point of using Netscape 4 DOM document property lookups in
HTML 5 for examples, and certainly not for a specification. This is
intellectual idiocy.

[1] HTML DOM
<A HREF="http://www.w3.org/TR/2003/REC-DOM-Level-2-HTML-20030109/ecma-script-binding.html">http://www.w3.org/TR/2003/REC-DOM-Level-2-HTML-20030109/ecma-script-binding.html</A>

Garrett

&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Thomas Broyer
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057839.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
	<LI>Next message: <A HREF="057869.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57851">[ date ]</a>
              <a href="thread.html#57851">[ thread ]</a>
              <a href="subject.html#57851">[ subject ]</a>
              <a href="author.html#57851">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
