<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Scripted querying of &lt;video&gt; capabilities
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Scripted%20querying%20of%20%3Cvideo%3E%20capabilities&In-Reply-To=%3C489ADB2E.50405%40wikimedia.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057911.html">
   <LINK REL="Next"  HREF="057915.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Scripted querying of &lt;video&gt; capabilities</H1>
<!--htdig_noindex-->
    <B>Tim Starling</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Scripted%20querying%20of%20%3Cvideo%3E%20capabilities&In-Reply-To=%3C489ADB2E.50405%40wikimedia.org%3E"
       TITLE="[whatwg] Scripted querying of &lt;video&gt; capabilities">tstarling at wikimedia.org
       </A><BR>
    <I>Thu Aug  7 04:23:26 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="057911.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
        <LI>Next message: <A HREF="057915.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57914">[ date ]</a>
              <a href="thread.html#57914">[ thread ]</a>
              <a href="subject.html#57914">[ subject ]</a>
              <a href="author.html#57914">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Mikko Rantalainen wrote:
&gt;<i> Tim Starling wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Henri Sivonen wrote:
</I>&gt;&gt;<i>     
</I>&gt;&gt;&gt;<i> On Aug 7, 2008, at 09:53, Tim Starling wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;&gt;&gt;<i>        xiphQtVersion = videoElt.GetComponentVersion('imdc','XiTh',
</I>&gt;&gt;&gt;&gt;<i> 'Xiph');
</I>&gt;&gt;&gt;&gt;<i>         
</I>&gt;&gt;&gt;<i> This kind of FourCC use is exactly the kind of thing I meant earlier
</I>&gt;&gt;&gt;<i> when I asked if the MIME stuff is really the best match for frameworks.
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;<i> FourCC and MIME are not mutually exclusive, see RFC 2361.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> RFC 2361 doesn't seem to provide a method for describing both video
</I>&gt;<i> codec and audio codec for a resource. The same parameter (&quot;codec&quot;) is
</I>&gt;<i> used for both audio and video codec information but I cannot understand
</I>&gt;<i> how a resource that contains both video and audio should be labeled.
</I>&gt;<i>
</I>&gt;<i> RFC 4281 seems to provide a parameter &quot;codecs&quot; that is a comma separated
</I>&gt;<i> list of used codecs. The detail required (&quot;MUST&quot;) for the &quot;codecs&quot;
</I>&gt;<i> parameter seems quite high and I'm afraid that this parameter will not
</I>&gt;<i> be correctly used in real world, unfortunately. In theory, this would
</I>&gt;<i> seem a good way to provide the information needed for a resource.
</I>&gt;<i>
</I>&gt;<i>   
</I>
Well, I was thinking of an interface which would list the codecs, rather
than the overall file types. But it could be done either way. By file type:

if ( video.supportsType( 'application/ogg;codecs=&quot;vorbis,theora&quot;' ) ) {
 ...
}

By codec/container:

if ( 'application/ogg' in video.supportedTypes
  &amp;&amp; 'video/theora' in video.supportedTypes
  &amp;&amp; 'audio/vorbis' in video.supportedTypes )
{
  ...
}

The first one looks easier in this application, and allows for multiple
backends with different allowed combinations of container and codec. The
second one allows for complete enumeration of client capabilities.

Obviously you couldn't provide an interface to enumerate every possible
combination of container, audio codec and video codec.

The reason this is needed, as opposed to using multiple &lt;source&gt; tags,
is because inevitably, some clients will support certain formats via
&lt;object&gt; (or in our special case, &lt;applet&gt;) and not via &lt;video&gt;.
Querying the browser's &lt;video&gt; capabilities allows JS to decide what
sort of embedding method to use. It's an essential migration feature.

-- Tim Starling

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057911.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
	<LI>Next message: <A HREF="057915.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57914">[ date ]</a>
              <a href="thread.html#57914">[ thread ]</a>
              <a href="subject.html#57914">[ subject ]</a>
              <a href="author.html#57914">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
