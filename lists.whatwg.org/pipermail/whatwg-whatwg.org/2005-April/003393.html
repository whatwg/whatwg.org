<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [html5] tags, elements and generated DOM
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bhtml5%5D%20tags%2C%20elements%20and%20generated%20DOM&In-Reply-To=%3C42534E44.8080101%40lachy.id.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003386.html">
   <LINK REL="Next"  HREF="003394.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [html5] tags, elements and generated DOM</H1>
<!--htdig_noindex-->
    <B>Lachlan Hunt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bhtml5%5D%20tags%2C%20elements%20and%20generated%20DOM&In-Reply-To=%3C42534E44.8080101%40lachy.id.au%3E"
       TITLE="[whatwg] [html5] tags, elements and generated DOM">lachlan.hunt at lachy.id.au
       </A><BR>
    <I>Tue Apr  5 19:49:40 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="003386.html">[whatwg] [html5] tags, elements and generated DOM
</A></li>
        <LI>Next message: <A HREF="003394.html">[whatwg] [html5] tags, elements and generated DOM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3393">[ date ]</a>
              <a href="thread.html#3393">[ thread ]</a>
              <a href="subject.html#3393">[ subject ]</a>
              <a href="author.html#3393">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> On Wed, 6 Apr 2005, Lachlan Hunt wrote:
</I>&gt;&gt;&gt;<i>The &lt;body&gt; will always be implied, though.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Not in a conforming SGML parser...
</I>&gt;<i> 
</I>&gt;<i> Yeah, I meant in browsers, not per SGML.
</I>
Ok, fair enough.  But can you explain why Opera doesn't when in 
standards-compliant mode, as I explained in my previous e-mail.  Is it a 
bug or intentional?

&gt;<i> According to the HTML spec, the 
</I>&gt;<i> handling of the above is completely undefined since it is invalid. (Note 
</I>&gt;<i> that something being invalid or non-conformant does _not_ make the 
</I>&gt;<i> rendering undefined in most cases in Web Apps 1 / HTML5. That's one of the 
</I>&gt;<i> main things I'm making sure of.)
</I>
Ok, if the spec is going to address this, then I think it should say 
something like:

   &quot;If a required element with an optional start-tag is entirely missing
    from the document, a user agent *may* imply it and include it within
    the DOM.  Missing elements with required start-tags *must not* be
    automatically implied.

   &quot;Note: It is common for existing user agents to automatically imply
    both the head and body elements, even when those sections are omitted
    entirely from the document markup.&quot;

I used &quot;may&quot;, because if &quot;must&quot; or &quot;should&quot; were used instead, it may 
conflict with anything the SGML spec says on the matter and it would 
make OpenSP, and thus the validator, non-conformant.  I would stick with 
&quot;may&quot; because, as I showed previously, existing UAs don't do the same 
for &lt;tbody&gt;.

I included the part about start-tags because elements like &lt;li&gt; (which 
require a start-tag) do not be implied by existing UAs when they are 
missing.

Also, while on the topic of handling invalid documents, is this spec 
going to attempt to address the &lt;x&gt;&lt;y&gt;&lt;/x&gt;&lt;/y&gt; problem?

&gt;&gt;<i>However, if the &lt;body&gt; element were to be automatically implied 
</I>&gt;&gt;<i>regardless, then the same would be true of the &lt;tbody&gt; element...
</I>&gt;&gt;<i>Neither Mozilla or Opera implies the missing tbody element within 
</I>&gt;&gt;<i>&lt;table&gt;&lt;/table&gt;, although IE does. However, OpenSP does not imply the 
</I>&gt;&gt;<i>missing elements in either case.
</I>&gt;<i> 
</I>&gt;<i> &lt;tbody&gt; is implied if there is a &lt;tr&gt; there.
</I>
Yes, exactly, just like &lt;body&gt; is implied if there is a &lt;p&gt;, &lt;div&gt;, or 
other element/content there; but not if there isn't.

&gt;&gt;<i>Opera and OpenSP correctly don't imply the missing head element.
</I>&gt;<i> 
</I>&gt;<i> I'm not sure what you mean by &quot;correctly&quot; here
</I>
Well, I read somewhere that OpenSP is &quot;the reference implementation&quot; of 
SGML, so I assumed that means what it does is correct.  In this case, 
Opera showed the same behaviour so I called it correct as well. 
However, if this behaviour is not defined in SGML at all, then I should 
not have said &quot;correctly&quot; either.

&gt;<i> since an HTML4 document without a &lt;title&gt; is invalid and thus parsing
</I>&gt;<i> is undefined in HTML4.
</I>
Is it not defined by SGML either?  I really must get a copy of 
Goldfarb's SGML Handbook later and check for sure.

&gt;<i> If there is a &lt;title&gt; then the &lt;head&gt; must be implied per SGML.
</I>
Agreed.

-- 
Lachlan Hunt
<A HREF="http://lachy.id.au/">http://lachy.id.au/</A>
<A HREF="http://GetFirefox.com/">http://GetFirefox.com/</A>     Rediscover the Web
<A HREF="http://GetThunderbird.com/">http://GetThunderbird.com/</A> Reclaim your Inbox


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003386.html">[whatwg] [html5] tags, elements and generated DOM
</A></li>
	<LI>Next message: <A HREF="003394.html">[whatwg] [html5] tags, elements and generated DOM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3393">[ date ]</a>
              <a href="thread.html#3393">[ thread ]</a>
              <a href="subject.html#3393">[ subject ]</a>
              <a href="author.html#3393">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
