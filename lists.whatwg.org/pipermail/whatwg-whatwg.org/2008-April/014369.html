<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] ApplicationCache add/remove and relative URIs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20ApplicationCache%20add/remove%20and%20relative%20URIs&In-Reply-To=%3C47FC1B12.9050903%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014365.html">
   <LINK REL="Next"  HREF="014368.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] ApplicationCache add/remove and relative URIs</H1>
<!--htdig_noindex-->
    <B>Jeff Walden</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20ApplicationCache%20add/remove%20and%20relative%20URIs&In-Reply-To=%3C47FC1B12.9050903%40mit.edu%3E"
       TITLE="[whatwg] ApplicationCache add/remove and relative URIs">jwalden+whatwg at MIT.EDU
       </A><BR>
    <I>Tue Apr  8 18:25:38 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="014365.html">[whatwg] ApplicationCache add/remove and relative URIs
</A></li>
        <LI>Next message: <A HREF="014368.html">[whatwg] Clarification of Storage interface details
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14369">[ date ]</a>
              <a href="thread.html#14369">[ thread ]</a>
              <a href="subject.html#14369">[ subject ]</a>
              <a href="author.html#14369">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Anders Carlsson wrote:
&gt;<i> The spec for the add and remove ApplicationCache methods does not say 
</I>&gt;<i> what to do about how relative URIs should be resolved.
</I>&gt;<i> 
</I>&gt;<i> I think it would be most intuitive to resolve them agains't the URI o 
</I>&gt;<i> the document that the ApplicationCache object is associated with.
</I>
Generally I believe URIs have been resolved against the URI of the document that the script that invoked the method is associated with.  For example, if I have origin A and pages A_1 and A_2, a script on A_1 that uses, say, A_2.XMLHttpRequest.open with a relative URI will have that URI resolved against A_1.location.href.  Similar precedent applies to loading scripts or iframes, calculating the sender's URI for events dispatched by postMessage, and other such uses.  Think of it this way: a relative URI used from script is &quot;lexically&quot; scoped to the document that loaded the script, and any relative URIs used have the same semantics any time that code executes -- they're not dependent on the location of the document associated with the ApplicationCache, which might or might not be what you actually expected it to be at runtime.

What you suggest goes against a lot of precedent, from my point of view.  If only for consistency, I think we're better off making relative URIs be lexically scoped such that they're resolved against the location of the document in which the script is executed.

Jeff

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014365.html">[whatwg] ApplicationCache add/remove and relative URIs
</A></li>
	<LI>Next message: <A HREF="014368.html">[whatwg] Clarification of Storage interface details
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14369">[ date ]</a>
              <a href="thread.html#14369">[ thread ]</a>
              <a href="subject.html#14369">[ subject ]</a>
              <a href="author.html#14369">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
