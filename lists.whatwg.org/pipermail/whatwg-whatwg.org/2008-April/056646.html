<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Database storage API and argument type conversion
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Database%20storage%20API%20and%20argument%20type%20conversion&In-Reply-To=%3Cfb15ac210804100432ob1a4f3duf5c329fdbd0ab501%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="056698.html">
   <LINK REL="Next"  HREF="056650.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Database storage API and argument type conversion</H1>
<!--htdig_noindex-->
    <B>Dimitri Glazkov</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Database%20storage%20API%20and%20argument%20type%20conversion&In-Reply-To=%3Cfb15ac210804100432ob1a4f3duf5c329fdbd0ab501%40mail.gmail.com%3E"
       TITLE="[whatwg] Database storage API and argument type conversion">dimitri.glazkov at gmail.com
       </A><BR>
    <I>Thu Apr 10 04:32:11 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="056698.html">[whatwg] Supporting MathML and SVG in text/html,	and related topics
</A></li>
        <LI>Next message: <A HREF="056650.html">[whatwg] Database storage API and argument type conversion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56646">[ date ]</a>
              <a href="thread.html#56646">[ thread ]</a>
              <a href="subject.html#56646">[ subject ]</a>
              <a href="author.html#56646">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>It would be &quot;a good thing&quot; to specify some standard way to convert
argument types for the executeSql call. This question was first raised
on public-html list
(<A HREF="http://lists.w3.org/Archives/Public/public-html/2008Feb/0401.html">http://lists.w3.org/Archives/Public/public-html/2008Feb/0401.html</A>),
suggesting that the types, not directly supported by the database
engine (SQLite seems to be the logical choice) are treated as strings.

In other words, if the type of the argument is not null, string,
double, or int, the argument is implicitly converted to to string.

As an alternative, I would like to present a slightly different
approach: if, during step 3 of the executeSql algorithm
(<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/section-sql.html#executing">http://www.whatwg.org/specs/web-apps/current-work/multipage/section-sql.html#executing</A>),
an argument is found to be unpalatable for the underlying database
implementation, the statement is marked bogus.

Though a bit more stringent than the implicit conversion, this
approach explicitly prevents any subtle coercion bugs and will
probably lead to more debuggable code.

What are your thoughts on this, oh wise WHATWG oracle?

:<i>DG&lt;
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="056698.html">[whatwg] Supporting MathML and SVG in text/html,	and related topics
</A></li>
	<LI>Next message: <A HREF="056650.html">[whatwg] Database storage API and argument type conversion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56646">[ date ]</a>
              <a href="thread.html#56646">[ thread ]</a>
              <a href="subject.html#56646">[ subject ]</a>
              <a href="author.html#56646">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
