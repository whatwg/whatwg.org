<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Modal dialogs in HTML5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Modal%20dialogs%20in%20HTML5&In-Reply-To=%3CBAY116-DAV100C4D74D43F05B3034362A4D90%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="056848.html">
   <LINK REL="Next"  HREF="056847.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Modal dialogs in HTML5</H1>
<!--htdig_noindex-->
    <B>Mike Wilson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Modal%20dialogs%20in%20HTML5&In-Reply-To=%3CBAY116-DAV100C4D74D43F05B3034362A4D90%40phx.gbl%3E"
       TITLE="[whatwg] Modal dialogs in HTML5">mikewse at hotmail.com
       </A><BR>
    <I>Tue Apr 29 05:38:57 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="056848.html">[whatwg] Modal dialogs in HTML5
</A></li>
        <LI>Next message: <A HREF="056847.html">[whatwg] Error: 2nd example datetime for the time element
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56872">[ date ]</a>
              <a href="thread.html#56872">[ thread ]</a>
              <a href="subject.html#56872">[ subject ]</a>
              <a href="author.html#56872">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>If I understand it correctly, the suggested sections and &quot;irrelevant&quot; 
attribute would make dialogs work quite like current modal HTML 
dialogs from various js libs (the latter making use of backdrops to 
hinder access to original page content) as new content from the same 
page is swapped into view &quot;in front&quot; of the original content.
The modality comes natural when the original content is swapped out
from view and only the dialog content is accessible.

Though, I wonder if these two cases are addressed by sections/
&quot;irrelevant&quot;:

1. See-through-view modality
Is it possible to &quot;pop a dialog&quot; on top of (while still showing) the 
original content, but hindering interaction with it? (much like what 
current js libs offer with their dialog classes)

2. Unload modality
Most modality discussed so far has been about the view modality, ie
disallowing the user from accessing the original page content until
the dialog has been dismissed. Browser modality may also be about
not letting the browser unload/reload the page until a dialog has 
been dismissed (eg &quot;do you want to save before closing the window?&quot;).
Is there any way to force a user to respond to a modal dialog
section before unloading the page?
If not, ideally a generic modality feature could be added to assist
both sections and current style HTML dialogs in achieving this
unload modality.

Best regards
Mike Wilson

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">public-webapi-request at w3.org</A> 
</I>&gt;<i> [mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">public-webapi-request at w3.org</A>] On Behalf Of Ian Hickson
</I>&gt;<i> Sent: den 27 april 2008 10:59
</I>&gt;<i> To: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at whatwg.org</A>
</I>&gt;<i> Cc: Web APIs WG (public)
</I>&gt;<i> Subject: Modal dialogs in HTML5
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Fri, 27 Apr 2007, Jon Barnett wrote:
</I>&gt;<i> &gt; On 4/26/07, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; On Sun, 26 Jun 2005, Karl Pongratz wrote:
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; I had a short look at the webforms and web applications 
</I>&gt;<i> &gt; &gt; &gt; specification at whatwg.org, I didn't find anything 
</I>&gt;<i> about modal and 
</I>&gt;<i> &gt; &gt; &gt; modeless windows. If there is anything to improve for 
</I>&gt;<i> html, xhtml, 
</I>&gt;<i> &gt; &gt; &gt; xforms and compound documents, then, in my opinion, the first 
</I>&gt;<i> &gt; &gt; &gt; missing feature that comes into my mind is the lack of 
</I>&gt;<i> modal and 
</I>&gt;<i> &gt; &gt; &gt; modeless windows.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; I've now added window.open(), irrelevant=&quot;&quot;, and target=&quot;&quot; to the 
</I>&gt;<i> &gt; &gt; specification, which should provide various ways of obtaining the 
</I>&gt;<i> &gt; &gt; effect you're looking for. For example, with 
</I>&gt;<i> irrelevant=&quot;&quot; you can 
</I>&gt;<i> &gt; &gt; hide the content you want to disable, and force the 
</I>&gt;<i> &quot;modal&quot; aspect of 
</I>&gt;<i> &gt; &gt; the application to be responded to before reshowing the 
</I>&gt;<i> other parts.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Can I ask how that would work with a dialog?  Would it be like this?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; myframeddocument.designMode = &quot;on&quot;;
</I>&gt;<i> &gt; mytoolbar.hyperlinkButton.onclick =  function() {
</I>&gt;<i> &gt; myframeddocument.body.irrelevant = true;
</I>&gt;<i> &gt; var dialog = window.open(&quot;hyperlinkDialog.html&quot;);
</I>&gt;<i> &gt; // a dialog where the user may either enter a URL or choose 
</I>&gt;<i> from a preset
</I>&gt;<i> &gt; list of pages on his site
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; dialog.onunload = function() {
</I>&gt;<i> &gt;  processHyperlinkSelections();
</I>&gt;<i> &gt;  myframeddocument.body.irrelevant = false;
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Is that really the best way?
</I>&gt;<i> 
</I>&gt;<i> No, I meant everything within the one document, with 
</I>&gt;<i> &lt;section&gt;s for each 
</I>&gt;<i> part of the app, and all but the current &lt;section&gt; having 
</I>&gt;<i> irrelevant=&quot;&quot; 
</I>&gt;<i> set.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; Would that keep &quot;dialog&quot; on top of the main browser window 
</I>&gt;<i> until it's 
</I>&gt;<i> &gt; dismissed?
</I>&gt;<i> 
</I>&gt;<i> You should only use one browser window ever, as a Web app author.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; I used the WYSIWYG example because I think it's a good case where 
</I>&gt;<i> &gt; authors really want some sort of modal dialog that's 
</I>&gt;<i> synchronous in the 
</I>&gt;<i> &gt; opener document's javascript.  Is there a better way to handle that?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I'm also curious why the &quot;features&quot; argument of window.open 
</I>&gt;<i> is supposed 
</I>&gt;<i> &gt; to &quot;have no effect&quot;.  That's something I can search the 
</I>&gt;<i> archives for on 
</I>&gt;<i> &gt; my own if it's been asked and answered.
</I>&gt;<i> 
</I>&gt;<i> Because none of the features that browsers support are things that 
</I>&gt;<i> actually should be supported, as they are not things that 
</I>&gt;<i> help the user.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Fri, 27 Apr 2007, Thomas Broyer wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; If I correctly understood Ian's proposal, the &quot;best way&quot; 
</I>&gt;<i> would be to not 
</I>&gt;<i> &gt; use another window.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 1. put the content of hyperlinkDialog.html within the &quot;current&quot; page
</I>&gt;<i> &gt; (or eventually load it within an iframe) and make it irrelevant=true
</I>&gt;<i> &gt; (let's call this the &quot;hyperlink editing section&quot;)
</I>&gt;<i> &gt; 2. when you click the &quot;hyperlink&quot; toolbar button, make the 
</I>&gt;<i> &quot;hyperlink
</I>&gt;<i> &gt; editing section&quot; irrelevant=false
</I>&gt;<i> &gt; 3. when the OK or Cancel button inside the &quot;hyperlink 
</I>&gt;<i> editing section&quot;
</I>&gt;<i> &gt; is clicked, do what's needed and switch the section back to
</I>&gt;<i> &gt; irrelevant=true
</I>&gt;<i> 
</I>&gt;<i> Pretty much.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Sun, 27 Jan 2008, Karl Pongratz wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; You say:
</I>&gt;<i> &gt; &quot;Notwithstanding the features that make this possible, I 
</I>&gt;<i> have to say that  in
</I>&gt;<i> &gt; general Web applications on the Web should not be written 
</I>&gt;<i> as if they are
</I>&gt;<i> &gt; desktop applications.&quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 1.) We actually miss web application models. Do you know of 
</I>&gt;<i> any where 
</I>&gt;<i> &gt; they are defined, though some which don't have any quirks? 
</I>&gt;<i> Application 
</I>&gt;<i> &gt; models where the web browser back/next and reload button 
</I>&gt;<i> doesn't harm 
</I>&gt;<i> &gt; anything? Maybe its time to fix this issues by defining web 
</I>&gt;<i> application 
</I>&gt;<i> &gt; models (single page web applications and multi-page web 
</I>&gt;<i> applications) 
</I>&gt;<i> &gt; which do not suck. It would be great if someone could point 
</I>&gt;<i> me to this 
</I>&gt;<i> &gt; information, I would i.e. be interested of how they deal with the 
</I>&gt;<i> &gt; problem with un-saved data if the user closes the web browser.
</I>&gt;<i> 
</I>&gt;<i> I don't know off hand of good resources on the matter, but 
</I>&gt;<i> this would be 
</I>&gt;<i> an interesting area to document.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; 2.) Modal Windows / Modal Elements
</I>&gt;<i> &gt; What we actually need are modal elements inside a page. 
</I>&gt;<i> Even applications with
</I>&gt;<i> &gt; minor editing features such as the Google Reader uses modal 
</I>&gt;<i> windows, in this
</I>&gt;<i> &gt; particular case a prompt().
</I>&gt;<i> &gt; I would guess modal elements will be supported sooner or 
</I>&gt;<i> later. They will
</I>&gt;<i> &gt; replace the current alert() and prompt() function.
</I>&gt;<i> &gt; Maybe modal elements (or modal forms) are already part of HTML5?
</I>&gt;<i> 
</I>&gt;<i> Well, we have disabled=&quot;&quot; and irrelevant=&quot;&quot;, what else were 
</I>&gt;<i> you thinking 
</I>&gt;<i> of?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Fri, 1 Jul 2005, Sanghyeon Seo wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/meth">http://msdn.microsoft.com/workshop/author/dhtml/reference/meth</A>
</I>&gt;<i> ods/showmodaldialog.asp
</I>&gt;<i> 
</I>&gt;<i> On Sun, 3 Sep 2006, Anders Rundgren wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; [...] it is very hard to create certain types of 
</I>&gt;<i> applications without 
</I>&gt;<i> &gt; having modal dialogs.  AFAIK the existing alert() box is 
</I>&gt;<i> already modal 
</I>&gt;<i> &gt; (at least in MSIE) so modality is well established.
</I>&gt;<i> 
</I>&gt;<i> On Tue, 18 Mar 2008, Travis Leithead wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; ...but why [did WebKit implement the showModalDialog()] API and not 
</I>&gt;<i> &gt; showModelessDialog too? I'd be interested to know the 
</I>&gt;<i> rationale for this 
</I>&gt;<i> &gt; decision on WebKit's part.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Also, was openDialog considered (from FF)?
</I>&gt;<i> 
</I>&gt;<i> On Tue, 18 Mar 2008, Boris Zbarsky wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; My guess (not being a Safari implementor) is that there 
</I>&gt;<i> isn't much call 
</I>&gt;<i> &gt; for showModelessDialog because you can get pretty close with 
</I>&gt;<i> &gt; window.open().  That was certainly the reason Gecko didn't 
</I>&gt;<i> implement 
</I>&gt;<i> &gt; it...
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; Also, was openDialog considered (from FF)?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Note that Gecko 1.9 (Firefox 3) will implement 
</I>&gt;<i> showModalDialog as well.
</I>&gt;<i> 
</I>&gt;<i> On Tue, 18 Mar 2008, Maciej Stachowiak wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; We've been shipping showModalDialog for years on Mac, but I 
</I>&gt;<i> think it 
</I>&gt;<i> &gt; didn't work on Windows in our betas. We had to add it for 
</I>&gt;<i> certification 
</I>&gt;<i> &gt; with certain &quot;enterprise&quot; web applications years ago.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; We've never had a request for showModelessDialog or equivalent 
</I>&gt;<i> &gt; functionality (as far as I know).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; Also, was openDialog considered (from FF)?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; We asked the ISVs who wanted a way to do a modal dialog and they 
</I>&gt;<i> &gt; preferred the IE API. Neither seemed technically better or 
</I>&gt;<i> worse as far 
</I>&gt;<i> &gt; as we could tell.
</I>&gt;<i> 
</I>&gt;<i> Against my better judgement, I have specced out showModalDialog().
</I>&gt;<i> 
</I>&gt;<i> (We clearly need to spec it somewhere if everyone's going to be 
</I>&gt;<i> implementing it, otherwise we'll have an interop nightmare -- 
</I>&gt;<i> and indeed 
</I>&gt;<i> showModalDialog() works differently in all three browsers 
</I>&gt;<i> mentioned above. 
</I>&gt;<i> I figured HTML5 was the right place since showModalDialog() interacts 
</I>&gt;<i> directly with the navigation algorithm and browsing contexts, 
</I>&gt;<i> which are 
</I>&gt;<i> currently defined in HTML5.)
</I>&gt;<i> 
</I>&gt;<i> This is a first draft. It has issues, I'm sure. Let me know 
</I>&gt;<i> what I should 
</I>&gt;<i> fix...
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Ian Hickson               U+1047E                
</I>&gt;<i> )\._.,--....,'``.    fL
</I>&gt;<i> <A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   
</I>&gt;<i> _\  ;`._ ,.
</I>&gt;<i> Things that are impossible just take longer.   
</I>&gt;<i> `._.-(,_..'--(,_..'`-.;.'
</I>&gt;<i> 
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="056848.html">[whatwg] Modal dialogs in HTML5
</A></li>
	<LI>Next message: <A HREF="056847.html">[whatwg] Error: 2nd example datetime for the time element
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56872">[ date ]</a>
              <a href="thread.html#56872">[ thread ]</a>
              <a href="subject.html#56872">[ subject ]</a>
              <a href="author.html#56872">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
