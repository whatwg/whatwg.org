<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] require img dimensions to be correct?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20require%20img%20dimensions%20to%20be%20correct%3F&In-Reply-To=%3CPine.LNX.4.62.0804110657240.7575%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014391.html">
   <LINK REL="Next"  HREF="014397.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] require img dimensions to be correct?</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20require%20img%20dimensions%20to%20be%20correct%3F&In-Reply-To=%3CPine.LNX.4.62.0804110657240.7575%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] require img dimensions to be correct?">ian at hixie.ch
       </A><BR>
    <I>Fri Apr 11 00:02:20 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="014391.html">[whatwg] Fwd: Re:  Heading, binding, LH (was:XSLT: HTML 5 --&gt; HTML)
</A></li>
        <LI>Next message: <A HREF="014397.html">[whatwg] require img dimensions to be correct?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14392">[ date ]</a>
              <a href="thread.html#14392">[ thread ]</a>
              <a href="subject.html#14392">[ subject ]</a>
              <a href="author.html#14392">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sun, 4 Mar 2007, Sander Tekelenburg wrote:
&gt;<i> 
</I>&gt;<i> Allowing percentages would be entirely presentational and thus have no 
</I>&gt;<i> place in HTML.
</I>&gt;<i> 
</I>&gt;<i> We struggled with this for the WRI requirements[*]. We seem to be 
</I>&gt;<i> settling on requiring a width and height to be specified in HTML, 
</I>&gt;<i> because as nice as CSS is, Web pages must not be CSS-dependant. Even if 
</I>&gt;<i> the author means to provide CSS, it might not be available 
</I>&gt;<i> (network/server error; saving and local viewing of the HTML file; User 
</I>&gt;<i> CSS overrides) (A followup requirement would probably have to be that 
</I>&gt;<i> when CSS is available, and specifies IMG size in px, it must be the same 
</I>&gt;<i> as the size specified in the HTML.)
</I>&gt;<i> 
</I>&gt;<i> The only other sensible option would be to completely disallow width and 
</I>&gt;<i> height in HTML. But that will result in 'jumpy rendering' because 
</I>&gt;<i> browsers can't allocate the proper rendering space until the image's 
</I>&gt;<i> dimensions are known.
</I>&gt;<i> 
</I>&gt;<i> [*] &lt;<A HREF="http://webrepair.org/02strategy/02certification/01requirements.php">http://webrepair.org/02strategy/02certification/01requirements.php</A>&gt; 
</I>&gt;<i> Btw, this is our initial take. We very much welcome community feedback.
</I>
On Sat, 17 Mar 2007, Dean Edridge wrote:
&gt;<i> 
</I>&gt;<i> Firstly, the chance of someone not being able to access the CSS for a 
</I>&gt;<i> web page is I'm guessing, pretty slim.
</I>&gt;<i>
</I>&gt;<i> The chance of someone not being able to access this CSS, *and* actually 
</I>&gt;<i> noticing or caring that the images aren't rendered correctly (if in fact 
</I>&gt;<i> they aren't), is very very slim. So I don't think it's really worth 
</I>&gt;<i> throwing away the benefits of CSS just for a very rare occasion like 
</I>&gt;<i> this that would probably not be of benefit to anyone anyway.
</I>&gt;<i> 
</I>&gt;<i> Secondly, when scaling images you would normally just set the height, 
</I>&gt;<i> not the width. This ensures that the images proportions are kept intact, 
</I>&gt;<i> as specifying a width distorts the image.
</I>&gt;<i> 
</I>&gt;<i> This being said I hope no one makes it a requirement to specify just the 
</I>&gt;<i> in-line height, as this would still create problems. For example if you 
</I>&gt;<i> had an images height set within the html to 100% of the parent elements 
</I>&gt;<i> height, and there was no CSS available to specify the parents height 
</I>&gt;<i> (for example a div), the user agent would probably just stretch the 
</I>&gt;<i> image to the full height of the screen (FF doesn't do this, but IE and 
</I>&gt;<i> Opera do), therefore causing more problems than if you had just left all 
</I>&gt;<i> the styling in the CSS to begin with. So the long and the short of it 
</I>&gt;<i> IMO is to just use CSS and rely on the user-agent to show the page the 
</I>&gt;<i> best it can in the absence of CSS.
</I>
On Fri, 16 Mar 2007, Benjamin West wrote:
&gt;<i> 
</I>&gt;<i> &lt;img style=&quot;height: 50px; width: 50px;&quot; /&gt; Why is accessing CSS a 
</I>&gt;<i> problem?
</I>
On Fri, 16 Mar 2007, Gareth Hay wrote:
&gt;<i>
</I>&gt;<i> If i'm not mistaken, the idea of separation of content and style means 
</I>&gt;<i> you can use your own css, or even none at all, and still have the 
</I>&gt;<i> ability to view the content.
</I>&gt;<i> 
</I>&gt;<i> If a page is dependent on the css, then, although in a separate file, it 
</I>&gt;<i> is fundamentally not separate at all, and we might as well just shove 
</I>&gt;<i> the css into the same html file anyway.
</I>
On Sat, 17 Mar 2007, Dean Edridge wrote:
&gt;<i>
</I>&gt;<i> I never proposed that a web page should be dependant on CSS, nor did I 
</I>&gt;<i> say that there shouldn't be a separation of content and style. Quite the 
</I>&gt;<i> opposite. I said that if there is no CSS available for an &lt;img&gt; tag, the 
</I>&gt;<i> browser should just display the image the best it can(and they do this 
</I>&gt;<i> quite well already, in my experience). And that this very rare occasion 
</I>&gt;<i> of CSS failure does not warrant the mandatory requirement of in-line 
</I>&gt;<i> styling of the &lt;img&gt; tag.
</I>
On Tue, 20 Mar 2007, Gareth Hay wrote:
&gt;<i> 
</I>&gt;<i> [...] users may choose to apply their own css (even if this is not 
</I>&gt;<i> widespread in use), or even disable css altogether.
</I>&gt;<i> 
</I>&gt;<i> I don't doubt you do some elaborate and cool things with inline styles, 
</I>&gt;<i> I have been known to use them myself, but it is my understanding that 
</I>&gt;<i> conceptually, HTML is for content markup and CSS for styling that 
</I>&gt;<i> markuped content. Maybe someone can correct me on this, if I am 
</I>&gt;<i> incorrect.
</I>
On Sat, 17 Mar 2007, Dean Edridge wrote:
&gt;<i>
</I>&gt;<i> I never said that accessing the CSS would be a problem. It was suggested 
</I>&gt;<i> earlier that in case it was, we should make it compulsory to set the 
</I>&gt;<i> width and height of images in-line. If you read my post it explains the 
</I>&gt;<i> problems of having a mix of in-line styling and styles in a CSS file, 
</I>&gt;<i> and suggests that styling should just be left in the CSS and not a mix 
</I>&gt;<i> of both. This is because, if there is no CSS available, the browser only 
</I>&gt;<i> has styling rules for some of the elements and this can sometimes be a 
</I>&gt;<i> problem.
</I>
On Sat, 17 Mar 2007, Sander Tekelenburg wrote:
&gt;<i> 
</I>&gt;<i> The argument is not rendering &quot;correctly&quot;, but to avoid &quot;jumpy&quot; 
</I>&gt;<i> rendering/achieve faster page loading by letting the browser know 
</I>&gt;<i> beforehand what amount of space to allocate for the image.
</I>&gt;<i> 
</I>&gt;<i> I don't see how this throws away CSS benefits. Quite the contrary, as it 
</I>&gt;<i> disallows specifying width and height in percentages[*] through HTML. 
</I>&gt;<i> I'd prefer to say that defining width and height in HTML would be 
</I>&gt;<i> illegal, as it is presentational and should therefore be done through 
</I>&gt;<i> Style Sheets. The only problem then is that, when CSS is not available, 
</I>&gt;<i> the UA won't know what amount of space to allocate to the image until it 
</I>&gt;<i> is completely fetched. It's a (mild) case of CSS-dependancy. The only 
</I>&gt;<i> way I see to avoid that is to specify a width and height in HTML. And 
</I>&gt;<i> we're talking about pixels only[*], not percentages which would be 
</I>&gt;<i> purely presentational and thus should be done through Style Sheets.
</I>&gt;<i> 
</I>&gt;<i> Maybe the requirement should in fact be that the image's *actual* width 
</I>&gt;<i> and height be specifed through HTML.
</I>&gt;<i> 
</I>&gt;<i> Btw, remember that the target for the WRI's requirements are &quot;Automated 
</I>&gt;<i> Web Publishing Systems&quot;. It can't be hard for an authoring system to 
</I>&gt;<i> ensure that the width and height for a particular image is set the same 
</I>&gt;<i> both in HTMl and CSS. And note that this synchronicity is only required 
</I>&gt;<i> when the image's height and width is specified in px[1] -- scaling 
</I>&gt;<i> through %/em/ex, a CSS benefit, is specifically allowed.
</I>&gt;<i> 
</I>&gt;<i> [1] I see it didn't clearly say so at 
</I>&gt;<i> &lt;<A HREF="http://webrepair.org/02strategy/02certification/01requirements.php#req24">http://webrepair.org/02strategy/02certification/01requirements.php#req24</A>&gt;. 
</I>&gt;<i> It does now.
</I>
On Sat, 17 Mar 2007, Andrew Fedoniouk wrote:
&gt;<i> 
</I>&gt;<i> So the main motivation is to avoid &quot;jumpy&quot; rendering, correct?
</I>&gt;<i> 
</I>&gt;<i> In principle style sheet downloading is also asynchronous process. And 
</I>&gt;<i> CSS can do many things that may cause &quot;jumps&quot;. So if we will require 
</I>&gt;<i> image to have known dimensions up front then this means that CSS has to 
</I>&gt;<i> be loaded before any initial rendering.
</I>&gt;<i> 
</I>&gt;<i> I mean that &lt;img width=... height=...&gt; is only one piece of the puzzle.
</I>&gt;<i> 
</I>&gt;<i> I think that in most cases will be better if we could package complex 
</I>&gt;<i> pages into zip envelopes and deliver them in the whole. That would be 
</I>&gt;<i> real solution of &quot;jumps&quot;.  And &lt;img width=... height=...&gt; is a 
</I>&gt;<i> palliative.
</I>
On Sun, 18 Mar 2007, Sander Tekelenburg wrote:
&gt;<i> 
</I>&gt;<i> &gt; I think that in most cases will be better if we could package complex 
</I>&gt;<i> &gt; pages into zip envelopes and deliver them in the whole.
</I>&gt;<i> 
</I>&gt;<i> Maybe. But then you'd need sophisticated content-negotiation, or 
</I>&gt;<i> otherwise you'd force data to be downloaded by UAs that can't or won't 
</I>&gt;<i> handle it. (I don't mean the zip file itself, but its content.)
</I>
On Sun, 18 Mar 2007, Alexey Feldgendler wrote:
&gt;<i> 
</I>&gt;<i> Such a technology exists: MHTML. However, it's a waste of traffic to 
</I>&gt;<i> include repeated images with every page served.
</I>
Taking all the above into account, I'm not sure that there is really a 
strong argument to change the spec (which allows dimensions to be 
specified, but not percentages). So I have left the spec as is for now.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014391.html">[whatwg] Fwd: Re:  Heading, binding, LH (was:XSLT: HTML 5 --&gt; HTML)
</A></li>
	<LI>Next message: <A HREF="014397.html">[whatwg] require img dimensions to be correct?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14392">[ date ]</a>
              <a href="thread.html#14392">[ thread ]</a>
              <a href="subject.html#14392">[ subject ]</a>
              <a href="author.html#14392">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
