<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] The origin of pages on the local file system
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20origin%20of%20pages%20on%20the%20local%20file%20system&In-Reply-To=%3C4818D2AB.2020800%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="056915.html">
   <LINK REL="Next"  HREF="056904.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] The origin of pages on the local file system</H1>
<!--htdig_noindex-->
    <B>Jeff Walden</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20origin%20of%20pages%20on%20the%20local%20file%20system&In-Reply-To=%3C4818D2AB.2020800%40mit.edu%3E"
       TITLE="[whatwg] The origin of pages on the local file system">jwalden+whatwg at MIT.EDU
       </A><BR>
    <I>Wed Apr 30 13:12:27 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="056915.html">[whatwg] scrollIntoView jarring?
</A></li>
        <LI>Next message: <A HREF="056904.html">[whatwg] The origin of pages on the local file system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56899">[ date ]</a>
              <a href="thread.html#56899">[ thread ]</a>
              <a href="subject.html#56899">[ subject ]</a>
              <a href="author.html#56899">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>It was brought up during the latest postMessage patching in Mozilla that the HTML5-mandated origin for file: URIs groups all local file system pages into a single origin.  Pages are increasingly being used in application-like contexts, and if Java is any example, grouping all files into the same origin will eventually be problematic (if one even chooses to argue it isn't now).  (Firefox 3's postMessage will be intentionally non-conforming with respect to file: pages in that sending a message to a file: page will only work if you use &quot;*&quot; as the targetOrigin, in the interests of not having different security behaviors.)

Firefox 3 changes from an all-files-are-same-origin model to a contains-based model, roughly this in at least some cases: a file may load any file which is a sibling of it, and it may load any file which is a descendant of the file's parent directory.  I'm certain I'm horribly mangling what actually happens in practice in at least some situations, based on what I've read of the security comparison functions, but this is at least a start at describing the behavior for specification.  The original bug was &lt;<A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=230606">https://bugzilla.mozilla.org/show_bug.cgi?id=230606</A>&gt;, but follow dependencies and read comments to see what sort of issues were actually encountered in practice and couldn't be ignored without breaking wide swathes of content.

Jeff

-- 
Life would be so much easier if humans had a natural affinity for remembering 128-bit integers.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="056915.html">[whatwg] scrollIntoView jarring?
</A></li>
	<LI>Next message: <A HREF="056904.html">[whatwg] The origin of pages on the local file system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56899">[ date ]</a>
              <a href="thread.html#56899">[ thread ]</a>
              <a href="subject.html#56899">[ subject ]</a>
              <a href="author.html#56899">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
