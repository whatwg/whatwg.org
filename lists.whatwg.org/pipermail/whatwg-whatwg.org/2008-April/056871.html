<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] postMessage support now in Firefox trunk, implementation issues, feedback, tests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20postMessage%20support%20now%20in%20Firefox%20trunk%2C%0A%20implementation%20issues%2C%20feedback%2C%20tests&In-Reply-To=%3CPine.LNX.4.62.0804290943220.21650%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="056873.html">
   <LINK REL="Next"  HREF="056874.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] postMessage support now in Firefox trunk, implementation issues, feedback, tests</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20postMessage%20support%20now%20in%20Firefox%20trunk%2C%0A%20implementation%20issues%2C%20feedback%2C%20tests&In-Reply-To=%3CPine.LNX.4.62.0804290943220.21650%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] postMessage support now in Firefox trunk, implementation issues, feedback, tests">ian at hixie.ch
       </A><BR>
    <I>Tue Apr 29 02:55:22 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="056873.html">[whatwg] HTML5 frame navigation policy
</A></li>
        <LI>Next message: <A HREF="056874.html">[whatwg] More ImageData issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56871">[ date ]</a>
              <a href="thread.html#56871">[ thread ]</a>
              <a href="subject.html#56871">[ subject ]</a>
              <a href="author.html#56871">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 30 Jan 2008, Jeff Walden wrote:
&gt;<i>
</I>&gt;<i> The spec's incomplete or vague on a few points right now.  The points I 
</I>&gt;<i> know where I forged new ground or think clarifications/explicit notes 
</I>&gt;<i> may be in order are:
</I>&gt;<i> 
</I>&gt;<i> * event.domain/uri values in a rewritten about:blank document The spec 
</I>&gt;<i> seems to somewhat indicate that we should be using about:blank and &quot;&quot; as 
</I>&gt;<i> uri/domain right now, but that's fairly useless in terms of allowing 
</I>&gt;<i> postMessage in dynamically-created pages.  This probably wants to change 
</I>&gt;<i> to reflect the document's origin/principal, and assuming things go the 
</I>&gt;<i> way most browsers have implemented it, this means those values are the 
</I>&gt;<i> same as for the opener of about:blank.  This is tested in 
</I>&gt;<i> test_postMessage_special.xhtml. Note that there are two different tests 
</I>&gt;<i> of this behavior which change the document in slightly different ways, 
</I>&gt;<i> and Mozilla expects them to have the same results right now.
</I>
Fixed.


&gt;<i> * event.domain/uri values for IDN URLs
</I>&gt;<i> We use the Unicode-ized values of these, not the Punycode versions.
</I>&gt;<i> (Actually, that's a lie -- what we use depends on whether the relevant TLD is
</I>&gt;<i> whitelisted for non-punycode display or not, which is clearly the wrong
</I>&gt;<i> behavior; at the moment I doubt this will be fixed for Firefox 3, sadly.)  I
</I>&gt;<i> think this is what authors would most likely expect, if not now then when IDN
</I>&gt;<i> is truly widespread (when we'd be stuck with punycode if we were to choose it
</I>&gt;<i> now), but the spec doesn't say anything about IDN yet.
</I>
Fixed.


[snip many other comments that either I've already replied to or that have 
been overtaken by events]

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="056873.html">[whatwg] HTML5 frame navigation policy
</A></li>
	<LI>Next message: <A HREF="056874.html">[whatwg] More ImageData issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56871">[ date ]</a>
              <a href="thread.html#56871">[ thread ]</a>
              <a href="subject.html#56871">[ subject ]</a>
              <a href="author.html#56871">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
