<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Calling HTMLDocument.open() should change the origin of the document to the caller's origin
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Calling%20HTMLDocument.open%28%29%20should%20change%20the%20origin%0A%20of%20the%20document%20to%20the%20caller%27s%20origin&In-Reply-To=%3CPine.LNX.4.62.0804290142010.21650%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="056864.html">
   <LINK REL="Next"  HREF="056869.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Calling HTMLDocument.open() should change the origin of the document to the caller's origin</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Calling%20HTMLDocument.open%28%29%20should%20change%20the%20origin%0A%20of%20the%20document%20to%20the%20caller%27s%20origin&In-Reply-To=%3CPine.LNX.4.62.0804290142010.21650%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Calling HTMLDocument.open() should change the origin of the document to the caller's origin">ian at hixie.ch
       </A><BR>
    <I>Mon Apr 28 18:44:19 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="056864.html">[whatwg] Lowercase attribute values
</A></li>
        <LI>Next message: <A HREF="056869.html">[whatwg] Origin feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56867">[ date ]</a>
              <a href="thread.html#56867">[ thread ]</a>
              <a href="subject.html#56867">[ subject ]</a>
              <a href="author.html#56867">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 23 Jan 2008, Jeff Walden wrote:
&gt;<i>
</I>&gt;<i> The current verbiage describing open() says nothing about the document's 
</I>&gt;<i> origin reflecting that of the mutator, which is an oversight which 
</I>&gt;<i> should eventually be corrected.  This came up when considering the 
</I>&gt;<i> values of the domain/uri properties on a MessageEvent created by a 
</I>&gt;<i> document.open()ed document which calls postMessage.  Just making sure 
</I>&gt;<i> this gets in the queue to be addressed...
</I>
Since you can only call document.open() if you are same-origin or if both 
you and the victim have set document.domain to the same value, it seems 
that this is a non-issue. As it stands, the origin of the manufactured 
document will match the URI of that document as given by window.location, 
etc, instead of the origin of the document that created it, but that seems 
to be the most consistent behaviour and thus desireable. (It can't be too 
far from the other origin anyway, since document.domain must have been 
used to get from one to the other.)

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="056864.html">[whatwg] Lowercase attribute values
</A></li>
	<LI>Next message: <A HREF="056869.html">[whatwg] Origin feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56867">[ date ]</a>
              <a href="thread.html#56867">[ thread ]</a>
              <a href="subject.html#56867">[ subject ]</a>
              <a href="author.html#56867">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
