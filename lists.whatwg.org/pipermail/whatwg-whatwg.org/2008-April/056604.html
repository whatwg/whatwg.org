<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Request: window.postMessage should be async
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Request%3A%20window.postMessage%20should%20be%20async&In-Reply-To=%3C7789133a0804050143l3ca23cxbb89a8569e3ecda2%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="056603.html">
   <LINK REL="Next"  HREF="056608.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Request: window.postMessage should be async</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Request%3A%20window.postMessage%20should%20be%20async&In-Reply-To=%3C7789133a0804050143l3ca23cxbb89a8569e3ecda2%40mail.gmail.com%3E"
       TITLE="[whatwg] Request: window.postMessage should be async">hk9565 at gmail.com
       </A><BR>
    <I>Sat Apr  5 01:43:47 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="056603.html">[whatwg] Request: window.postMessage should be async
</A></li>
        <LI>Next message: <A HREF="056608.html">[whatwg] Request: window.postMessage should be async
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56604">[ date ]</a>
              <a href="thread.html#56604">[ thread ]</a>
              <a href="subject.html#56604">[ subject ]</a>
              <a href="author.html#56604">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Peter,

On Sat, Apr 5, 2008 at 12:38 AM, Peter Kasting &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">pkasting at google.com</A>&gt; wrote:
&gt;<i> Or, if you like, take the position that the argument should stay optional,
</I>&gt;<i> and if someone for some reason doesn't have to care about security (?!),
</I>&gt;<i> they can avoid passing it.  Although I'm not sure this is a particularly
</I>&gt;<i> great idea :)
</I>
If the caller doesn't care who receives the message, it makes sense to
omit the targetOrigin parameter.  For example, if Google Maps were to
implement it's map gadget using postMessage, it would be happy to send
messages to and receive messages from any web page.

&gt;<i> Are you sure?  I'm reading the docs in section 4.1.4, and it seems to say
</I>&gt;<i> that this is only true for changes within the unit of related browsing
</I>&gt;<i> contexts.  If it is possible to get a reference to a Window outside this
</I>&gt;<i> group, then your statement is untrue.  But I'm not sure whether that's
</I>&gt;<i> possible.
</I>
It is not possible to obtain a JavaScript pointer to a window outside
your unit of related browsing contexts.  In most browsers, it is
possible to script windows outside your unit of related browsing
contexts via window.open(&quot;javascript:...&quot;, &quot;foo&quot;), but (1) this method
can't pass pointers and (2) HTML 5 does not promise that this will
succeed:

&quot;...and the user agent determines that the two browsing contexts are
related enough that it is ok if they reach each other ...&quot;
&lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/#the-rules">http://www.whatwg.org/specs/web-apps/current-work/#the-rules</A>&gt;

Adam

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="056603.html">[whatwg] Request: window.postMessage should be async
</A></li>
	<LI>Next message: <A HREF="056608.html">[whatwg] Request: window.postMessage should be async
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56604">[ date ]</a>
              <a href="thread.html#56604">[ thread ]</a>
              <a href="subject.html#56604">[ subject ]</a>
              <a href="author.html#56604">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
