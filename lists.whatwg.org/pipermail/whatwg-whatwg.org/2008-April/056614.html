<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Request: window.postMessage should be async
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Request%3A%20window.postMessage%20should%20be%20async&In-Reply-To=%3C278fd46c0804060152w56d3fb1dqfb4835db25644e00%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="056611.html">
   <LINK REL="Next"  HREF="056615.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Request: window.postMessage should be async</H1>
<!--htdig_noindex-->
    <B>Aaron Boodman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Request%3A%20window.postMessage%20should%20be%20async&In-Reply-To=%3C278fd46c0804060152w56d3fb1dqfb4835db25644e00%40mail.gmail.com%3E"
       TITLE="[whatwg] Request: window.postMessage should be async">aa at google.com
       </A><BR>
    <I>Sun Apr  6 01:52:41 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="056611.html">[whatwg] Request: window.postMessage should be async
</A></li>
        <LI>Next message: <A HREF="056615.html">[whatwg] Request: window.postMessage should be async
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56614">[ date ]</a>
              <a href="thread.html#56614">[ thread ]</a>
              <a href="subject.html#56614">[ subject ]</a>
              <a href="author.html#56614">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Here is one more point on the async vs sync thing.

In my opinion, one of the most compelling reasons to make an API
synchronous instead of asynchronous is convenience. This is why I was
so passionate about having a synchronous database API: getting the
result of a call via a return value is much simpler conceptually than
getting it via a callback. I was rightfully proven wrong on this issue
-- blocking indefinitely on the UI thread is not worth the convenience
of a procedure-call style interface.

But as postMessage is currently spec'd, it is synchronous, but it does
not have the convenience of a procedure-call style interface. If you
send an iframe a message with postMessage, you don't get the result of
that message as a return value. You have to hook up a listener and
wait for it from a separate message.

Which brings me back to my previous question: what advantage is there
to the API being synchronous? We have on one hand authors with reasons
(however edge casey you may believe them to be) they would prefer the
API be asynchronous, but I have not heard any reason for it to be
synchronous. There doesn't seem to be any advantage to it.

- a

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="056611.html">[whatwg] Request: window.postMessage should be async
</A></li>
	<LI>Next message: <A HREF="056615.html">[whatwg] Request: window.postMessage should be async
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56614">[ date ]</a>
              <a href="thread.html#56614">[ thread ]</a>
              <a href="subject.html#56614">[ subject ]</a>
              <a href="author.html#56614">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
