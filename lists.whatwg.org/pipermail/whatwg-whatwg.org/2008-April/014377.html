<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Database storage API and argument type conversion
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Database%20storage%20API%20and%20argument%20type%20conversion&In-Reply-To=%3C6272F0AF-B372-43E4-A899-73485DCF988A%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014373.html">
   <LINK REL="Next"  HREF="014381.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Database storage API and argument type conversion</H1>
<!--htdig_noindex-->
    <B>Timothy Hatcher</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Database%20storage%20API%20and%20argument%20type%20conversion&In-Reply-To=%3C6272F0AF-B372-43E4-A899-73485DCF988A%40apple.com%3E"
       TITLE="[whatwg] Database storage API and argument type conversion">timothy at apple.com
       </A><BR>
    <I>Thu Apr 10 09:34:27 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="014373.html">[whatwg] Database storage API and argument type conversion
</A></li>
        <LI>Next message: <A HREF="014381.html">[whatwg] Database storage API and argument type conversion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14377">[ date ]</a>
              <a href="thread.html#14377">[ thread ]</a>
              <a href="subject.html#14377">[ subject ]</a>
              <a href="author.html#14377">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Converting an object to a string has a very defined path in  
JavaScript, toString is called. Perhaps the spec should mention  
toString.

Marking the query as bogus seems wrong, since the JavaScript language  
is very lenient about types and implicit type conversions when needed.  
Implicit conversion to strings is what any proficient JavaScript  
author would expect to happen. I don't see any reason to make the  
storage spec behave differently.

On Apr 10, 2008, at 4:32 AM, Dimitri Glazkov wrote:

&gt;<i> In other words, if the type of the argument is not null, string,
</I>&gt;<i> double, or int, the argument is implicitly converted to to string.
</I>&gt;<i>
</I>&gt;<i> As an alternative, I would like to present a slightly different
</I>&gt;<i> approach: if, during step 3 of the executeSql algorithm
</I>&gt;<i> (<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/section-sql.html#executing">http://www.whatwg.org/specs/web-apps/current-work/multipage/section-sql.html#executing</A> 
</I>&gt;<i> ),
</I>&gt;<i> an argument is found to be unpalatable for the underlying database
</I>&gt;<i> implementation, the statement is marked bogus.
</I>&gt;<i>
</I>&gt;<i> Though a bit more stringent than the implicit conversion, this
</I>&gt;<i> approach explicitly prevents any subtle coercion bugs and will
</I>&gt;<i> probably lead to more debuggable code.
</I>
&#8212; Timothy Hatcher


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20080410/01742837/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20080410/01742837/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014373.html">[whatwg] Database storage API and argument type conversion
</A></li>
	<LI>Next message: <A HREF="014381.html">[whatwg] Database storage API and argument type conversion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14377">[ date ]</a>
              <a href="thread.html#14377">[ thread ]</a>
              <a href="subject.html#14377">[ subject ]</a>
              <a href="author.html#14377">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
