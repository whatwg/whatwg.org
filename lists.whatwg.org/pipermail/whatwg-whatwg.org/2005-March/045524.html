<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] ContextAgnosticXmlHttpRequest: an informal RFC
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20ContextAgnosticXmlHttpRequest%3A%20an%20informal%20RFC&In-Reply-To=%3C4240671C.6519.3FB2281B%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045523.html">
   <LINK REL="Next"  HREF="045526.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] ContextAgnosticXmlHttpRequest: an informal RFC</H1>
<!--htdig_noindex-->
    <B>Hallvord Reiar Michaelsen Steen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20ContextAgnosticXmlHttpRequest%3A%20an%20informal%20RFC&In-Reply-To=%3C4240671C.6519.3FB2281B%40localhost%3E"
       TITLE="[whatwg] ContextAgnosticXmlHttpRequest: an informal RFC">hallvord at hallvord.com
       </A><BR>
    <I>Tue Mar 22 09:42:36 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="045523.html">[whatwg] ContextAgnosticXmlHttpRequest: an informal RFC
</A></li>
        <LI>Next message: <A HREF="045526.html">[whatwg] ContextAgnosticXmlHttpRequest: an informal RFC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45524">[ date ]</a>
              <a href="thread.html#45524">[ thread ]</a>
              <a href="subject.html#45524">[ subject ]</a>
              <a href="author.html#45524">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 21 Mar 2005 at 17:57, Chris Holland wrote:

&gt;<i> The X-Allow-Foreign-Hosts header we were talking about earlier,
</I>&gt;<i> wouldn't lend itself to much granularity on specific resources.
</I>
I'm not sure what you mean by that - the header can be sent with a 
specific URL only. You don't get much more &quot;granular&quot; than that, 
unless I missed something?

&gt;<i> But let's be paranoid, and say they misconfigure their server, and all
</I>&gt;<i> responses include our header. blam, /my/* is exposed, foreign
</I>&gt;<i> documents can start sending authenticated queries to /my/*, and sniff
</I>&gt;<i> results by crawling the resulting DOM.
</I>
It is a valid concern but it takes a seriously misconfigured server, 
and even then it's only worth exploiting if the data you would find 
is really valuable - something like user names and passwords or 
credit card numbers, because the exploit is fairly involved (you must 
know a lot to find the vulnerability in the first place, then write a 
JavaScript that exploits it, then spam a million people to get a fair 
number of commerce.foo.com 's customers to go to your exploit page.)

There is a certain barrier to entry when using a HTTP header that 
hopefully would exclude people who don't understand what they are 
doing :-) and I think a header that probably usually would be printed 
out by the script handling requests to that specific URL and thus may 
be more difficult to misconfigure than for the example the 
complicated Mozilla-model document..

&gt;<i> 1) disable cookies for a ContextAgnosticHttpRequest
</I>&gt;<i> 2) maintain an entirely separate cookie table for this request. the
</I>&gt;<i> question then becomes, do we maintain a separate cookie table for each
</I>&gt;<i> referring document? We'd essentially be considering each referring
</I>&gt;<i> document to be a separate application through which a user would
</I>&gt;<i> re-establish credentials to communicate with a foreign site. sounds
</I>&gt;<i> rather painful.
</I>
Yes, sounds like that would really complicate browser cookie 
handling. A third way would be to discard previous cookies and not 
send any with the first request, but keep and send any cookies during 
subsequent http communication.

I still think that though misconfiguration can have serious exploit 
potential it would not be a severe problem in real life. Perhaps 
other list members can step in and comment on whether that's too 
optimistic?
-- 
Hallvord Reiar Michaelsen Steen
<A HREF="http://www.hallvord.com/">http://www.hallvord.com/</A>

Note: mail to hallvors at online.no will still be read but you may want to start using 
hallvord at hallvord.com instead


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045523.html">[whatwg] ContextAgnosticXmlHttpRequest: an informal RFC
</A></li>
	<LI>Next message: <A HREF="045526.html">[whatwg] ContextAgnosticXmlHttpRequest: an informal RFC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45524">[ date ]</a>
              <a href="thread.html#45524">[ thread ]</a>
              <a href="subject.html#45524">[ subject ]</a>
              <a href="author.html#45524">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
