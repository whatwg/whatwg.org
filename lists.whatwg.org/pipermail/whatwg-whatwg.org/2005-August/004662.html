<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] some feedback on Web Apps 1.0 client-side storage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20some%20feedback%20on%20Web%20Apps%201.0%20client-side%20storage&In-Reply-To=%3C11e30660050831154667134f2f%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004655.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] some feedback on Web Apps 1.0 client-side storage</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20some%20feedback%20on%20Web%20Apps%201.0%20client-side%20storage&In-Reply-To=%3C11e30660050831154667134f2f%40mail.gmail.com%3E"
       TITLE="[whatwg] some feedback on Web Apps 1.0 client-side storage">rocallahan at gmail.com
       </A><BR>
    <I>Wed Aug 31 15:46:00 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="004655.html">Are the semantic inline elements really useful? (Re: [whatwg]	What exactly is contentEditable for?)
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4662">[ date ]</a>
              <a href="thread.html#4662">[ thread ]</a>
              <a href="subject.html#4662">[ subject ]</a>
              <a href="author.html#4662">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>3.4.2 &quot;DOM Node objects&quot; browser DOM nodes often have state that isn't 
apparent in the DOM --- e.g., the contents of a &lt;canvas&gt;, or the state of 
form controls. Please clarify that this state is not restored and ONLY the 
listed attributes and children may be restored.

3.4.2 &quot;other objects&quot; this is entirely ECMAscript specific, is it not? How 
can this work across language bindings? It might be a lot simpler for 
everyone to only specify storage for DOM types.

3.4.6.1 &lt;<A HREF="http://3.4.6.1">http://3.4.6.1</A>&gt; &quot;The space limits on public storage areas should 
not affect the limits for non-public domains, however.&quot; The definition of 
&quot;public&quot; is troublesome, as you note below. With this policy the most 
reasonable thing for implementors is to be conservative about what domains 
are declared &quot;public&quot; ... allowing denial of service attacks against sites 
in deeper/obscure public domains but preventing sites from grabbing 
unlimited storage. Of course grabbing lots of domain names isn't unthinkable 
so UAs will probably need additional mechanisms to manage quota. Some more 
discussion of this problem would be helpful.

3.4.6.2 &lt;<A HREF="http://3.4.6.2">http://3.4.6.2</A>&gt; Is it obvious what &quot;run to completion&quot; means for a 
script? I think here you need to say that the intended semantics is that *as 
far as scripts can tell*, there is no concurrent script execution, and hence 
no concurrent access to storage objects, and any implementation technique 
that preserves this is allowed. If that's not the intended semantics, it 
should be! The behaviour currently described is one such technique but there 
could be others (e.g., optimistic transactional script execution).

Two things that I didn't see that I think should be mentioned; apologies if 
they are:
-- From the security discussion, it's obvious that UAs are permitted to 
arbitrarily discard persistent storage data. This should be stated up-front. 
Exactly *when* is such discarding permitted, though?
-- There should be some atomicity property that authors can rely on to 
safely update storage under potential failures (of the UA, or the hardware, 
or whatever). It's probably enough to require that setItem and removeItem 
are atomic with respect to failure. In other words, if the UA fails during a 
setItem or removeItem, then later the operation will be observed to either 
have succeeded normally or not happened at all (and of course the storage 
object will not be corrupted!).

Rob
-- 
[&quot;Therefore, my dear friends, as you have always obeyed&#8211;not only in my
presence, but now much more in my absence&#8211;continue to work out your
salvation with fear and trembling, for it is God who works in you to will
and to act according to his good purpose.&quot; Philippians 2:12-13.]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20050901/6116d934/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20050901/6116d934/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004655.html">Are the semantic inline elements really useful? (Re: [whatwg]	What exactly is contentEditable for?)
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4662">[ date ]</a>
              <a href="thread.html#4662">[ thread ]</a>
              <a href="subject.html#4662">[ subject ]</a>
              <a href="author.html#4662">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
