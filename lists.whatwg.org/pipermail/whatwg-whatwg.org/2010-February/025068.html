<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] DOMContentLoaded and stylesheets
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20DOMContentLoaded%20and%20stylesheets&In-Reply-To=%3C4B734767.9030506%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025044.html">
   <LINK REL="Next"  HREF="025069.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] DOMContentLoaded and stylesheets</H1>
<!--htdig_noindex-->
    <B>Mathias Sch&#228;fer</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20DOMContentLoaded%20and%20stylesheets&In-Reply-To=%3C4B734767.9030506%40gmail.com%3E"
       TITLE="[whatwg] DOMContentLoaded and stylesheets">zapperlott at gmail.com
       </A><BR>
    <I>Wed Feb 10 15:55:19 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="025044.html">[whatwg] [html5] r4685 - [e] (0) Add an example of forcing fallback from &lt;source&gt;.
</A></li>
        <LI>Next message: <A HREF="025069.html">[whatwg] DOMContentLoaded and stylesheets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25068">[ date ]</a>
              <a href="thread.html#25068">[ thread ]</a>
              <a href="subject.html#25068">[ subject ]</a>
              <a href="author.html#25068">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hello everyone,

In a JavaScript tutorial, I wanted to explain what DOMContentLoaded
actually does. But the tests I made revealed that there isn't a
consistent behavior across browsers with regard to stylesheets. In fact,
it's a total mess. These are the results of my tests:

<A HREF="http://molily.de/weblog/domcontentloaded">http://molily.de/weblog/domcontentloaded</A>

Please have a quick look at these findings (you can skip the
introduction part). My questions are:

1. Am I right that HTML5 will standardize Opera's pure DOMContentLoaded
model, never waiting for stylesheets? My assumption is that this will
break compatibility with the current Gecko and Webkit implementations.

2. Does the HTML5 parser specify that external stylesheets defer
external script execution? As far as I understand the specs, it doesn't.
But according to my tests, that's how it is implemented in Gecko, WebKit
and Internet Explorer. Many scripts on the Web seem to rely on this
non-standard feature.

In Gecko and IE, the loading of stylesheets also defers the execution of
subsequent *inline* scripts. I haven't found a rule for that in the
HTML5 parsing algorithm either. Does it conform to the specs, is it
against the rules or a legitimate extension which is not covered by HTML5?

3. If I'm right in my conclusions, could HTML5 provide a solution for
this quirks? Does HTML5 require browsers to change their parsing
behavior with regard to stylesheets as well as their DOMContentLoaded
handling? Is it likely that the browser vendors will do so? What would
be a proper solution?

(By the way, I tried the experimental HTML5 parser in Gecko, but it
seems to apply the same rules as the standard parser.)

Regards,
Mathias
</PRE>

































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025044.html">[whatwg] [html5] r4685 - [e] (0) Add an example of forcing fallback from &lt;source&gt;.
</A></li>
	<LI>Next message: <A HREF="025069.html">[whatwg] DOMContentLoaded and stylesheets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25068">[ date ]</a>
              <a href="thread.html#25068">[ thread ]</a>
              <a href="subject.html#25068">[ subject ]</a>
              <a href="author.html#25068">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
