<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Structured clone for an Error object
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Structured%20clone%20for%20an%20Error%20object&In-Reply-To=%3Cf965ae411002261044h43a7c428q5fc5c22cc3ba76ce%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="067631.html">
   <LINK REL="Next"  HREF="067644.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Structured clone for an Error object</H1>
<!--htdig_noindex-->
    <B>Drew Wilson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Structured%20clone%20for%20an%20Error%20object&In-Reply-To=%3Cf965ae411002261044h43a7c428q5fc5c22cc3ba76ce%40mail.gmail.com%3E"
       TITLE="[whatwg] Structured clone for an Error object">atwilson at google.com
       </A><BR>
    <I>Fri Feb 26 10:44:17 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="067631.html">[whatwg] Structured clone for an Error object
</A></li>
        <LI>Next message: <A HREF="067644.html">[whatwg] Structured clone for an Error object
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67633">[ date ]</a>
              <a href="thread.html#67633">[ thread ]</a>
              <a href="subject.html#67633">[ subject ]</a>
              <a href="author.html#67633">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>BTW, the spec says that unhandled exceptions are either propagated to the
parent Worker object (in the case of dedicated workers) or reported to the
user via the console (for shared workers).

So I'm not certain why passing Error objects via postMessage() would be
necessary for a spec-compliant UA (note that some UAs have bugs in their
implementation such that not all exceptions in Workers are logged to the
console, but that shouldn't motivate a change in the spec).

-atw

On Thu, Feb 25, 2010 at 8:21 PM, ATSUSHI TAKAYAMA &lt;
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">taka.atsushi at googlemail.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> Right now, in the spec &quot;2.7.5 Safe passing of structured data&quot;, it says
</I>&gt;<i>
</I>&gt;<i> If input is another native object type (e.g. Error)
</I>&gt;<i> Return the null value.
</I>&gt;<i>
</I>&gt;<i> but if we want to debug workers, it's more convenient to be able to
</I>&gt;<i> pass the error directly rather than
</I>&gt;<i>
</I>&gt;<i> postMessage({name: err.name, message: err.message})
</I>&gt;<i>
</I>&gt;<i> which loses all information like line number, etc. or we will just
</I>&gt;<i> start cloning every property of the Error (stack, lineNumber,
</I>&gt;<i> stacktrace, etc depending on the browser).
</I>&gt;<i>
</I>&gt;<i> I think that's an unnecessary chore for all developers. We should just
</I>&gt;<i> be able to postMessage an error.
</I>&gt;<i>
</I>&gt;<i> (of course, the best solution would be to be able to console.debug
</I>&gt;<i> from a worker thread, but it's not a standard way yet)
</I>&gt;<i>
</I>&gt;<i> A. TAKAYAMA
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100226/255addfd/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100226/255addfd/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="067631.html">[whatwg] Structured clone for an Error object
</A></li>
	<LI>Next message: <A HREF="067644.html">[whatwg] Structured clone for an Error object
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67633">[ date ]</a>
              <a href="thread.html#67633">[ thread ]</a>
              <a href="subject.html#67633">[ subject ]</a>
              <a href="author.html#67633">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
