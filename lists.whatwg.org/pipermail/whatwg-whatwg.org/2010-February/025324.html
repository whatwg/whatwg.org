<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTML Cookie API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%20Cookie%20API&In-Reply-To=%3C4E45EC6AD219FD47AD1BC06E4EE3845D04854D9C%40SNV-EXVS09.ds.corp.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025321.html">
   <LINK REL="Next"  HREF="025325.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTML Cookie API</H1>
<!--htdig_noindex-->
    <B>Nicholas Zakas</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%20Cookie%20API&In-Reply-To=%3C4E45EC6AD219FD47AD1BC06E4EE3845D04854D9C%40SNV-EXVS09.ds.corp.yahoo.com%3E"
       TITLE="[whatwg] HTML Cookie API">nzakas at yahoo-inc.com
       </A><BR>
    <I>Wed Feb 24 11:11:47 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="025321.html">[whatwg] HTML Cookie API
</A></li>
        <LI>Next message: <A HREF="025325.html">[whatwg] HTML Cookie API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25324">[ date ]</a>
              <a href="thread.html#25324">[ thread ]</a>
              <a href="subject.html#25324">[ subject ]</a>
              <a href="author.html#25324">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I like the idea of creating an easier way to deal with cookies (which is why I wrote the YUI Cookie utility way back when). The thing that seems to be missing in your proposed API is what I consider to be the most common use case: retrieving the value of a single cookie. There's not many times when I need to get every single cookie that's available on the page, but there are plenty of times when I want to check the value of a single cookie. Using your API, getting the value of a single cookie with a known name becomes:

    document.getCookies(function(cookies) {
      for (var i=0; i &lt; cookies.length; ++i){
          if(cookies[i].name == &quot;my_cookie_name&quot;){
              doSomething(cookies[i]);
          }
      }
    });

That seems like a lot of work just to retrieve a single cookie value. 

I'm also less-than-thrilled with this being asynchronous, as I think the use cases for cookies are vastly differently than those for databases and web storage. The world is already parsing cookies synchronously right now, it doesn't seem like asynchronicity buys much benefit, it just introduces an additional level of indirection.

-Nicholas
 
______________________________________________
Commander Lock: &quot;Damnit Morpheus, not everyone believes what you believe!&quot;
Morpheus: &quot;My beliefs do not require them to.&quot;

-----Original Message-----
From: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A> [mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>] On Behalf Of Adam Barth
Sent: Wednesday, February 24, 2010 8:47 AM
To: Darin Fisher
Cc: whatwg
Subject: Re: [whatwg] HTML Cookie API

Done.

On Wed, Feb 24, 2010 at 12:29 AM, Darin Fisher &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">darin at chromium.org</A>&gt; wrote:
&gt;<i> An explicit deleteCookie method might also be nice.
</I>&gt;<i> -Darin
</I>&gt;<i>
</I>&gt;<i> On Tue, Feb 23, 2010 at 8:56 PM, Adam Barth &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">w3c at adambarth.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The document.cookie API is kind of terrible. &#160;Web developers shouldn't
</I>&gt;&gt;<i> have to parse a cookie-string or prepare a properly formated
</I>&gt;&gt;<i> set-cookie-string. &#160;Here's a proposal for an HTML cookie API that
</I>&gt;&gt;<i> isn't as terrible:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://docs.google.com/Doc?docid=0AZpchfQ5mBrEZGQ0cDh3YzRfMTRmdHFma21kMg&amp;hl=en">https://docs.google.com/Doc?docid=0AZpchfQ5mBrEZGQ0cDh3YzRfMTRmdHFma21kMg&amp;hl=en</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'd like to propose we include this API in a future version of HTML.
</I>&gt;&gt;<i> As always, feedback welcome.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Adam
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>














<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025321.html">[whatwg] HTML Cookie API
</A></li>
	<LI>Next message: <A HREF="025325.html">[whatwg] HTML Cookie API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25324">[ date ]</a>
              <a href="thread.html#25324">[ thread ]</a>
              <a href="subject.html#25324">[ subject ]</a>
              <a href="author.html#25324">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
