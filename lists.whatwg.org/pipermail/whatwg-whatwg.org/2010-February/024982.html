<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Window id - a proposal to leverage session usage in web application
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Window%20id%20-%20a%20proposal%20to%20leverage%20session%20usage%20in%0A%20web%20application&In-Reply-To=%3C4B6B3781.7030100%40laliluna.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024980.html">
   <LINK REL="Next"  HREF="025039.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Window id - a proposal to leverage session usage in web application</H1>
<!--htdig_noindex-->
    <B>Sebastian Hennebrueder</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Window%20id%20-%20a%20proposal%20to%20leverage%20session%20usage%20in%0A%20web%20application&In-Reply-To=%3C4B6B3781.7030100%40laliluna.de%3E"
       TITLE="[whatwg] Window id - a proposal to leverage session usage in web application">usenet at laliluna.de
       </A><BR>
    <I>Thu Feb  4 13:09:21 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="024980.html">[whatwg] Window id - a proposal to leverage session usage in	web application
</A></li>
        <LI>Next message: <A HREF="025039.html">[whatwg] Window id - a proposal to leverage session usage in web application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24982">[ date ]</a>
              <a href="thread.html#24982">[ thread ]</a>
              <a href="subject.html#24982">[ subject ]</a>
              <a href="author.html#24982">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Tim Hutt schrieb:
&gt;<i> On 4 February 2010 20:49, Sebastian Hennebrueder &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">usenet at laliluna.de</A>&gt; wrote:
</I>&gt;&gt;<i> What is the idea about?
</I>&gt;<i> 
</I>&gt;<i> I think &quot;Web Storage&quot; does what you want and is already implemented
</I>&gt;<i> (apparently even in IE). The description from the spec:
</I>&gt;<i> 
</I>&gt;<i> &quot;This specification introduces two related mechanisms, similar to HTTP
</I>&gt;<i> session cookies, for storing structured data on the client side.
</I>&gt;<i> 
</I>&gt;<i> The first is designed for scenarios where the user is carrying out a
</I>&gt;<i> single transaction, but could be carrying out multiple transactions in
</I>&gt;<i> different windows at the same time.
</I>&gt;<i> 
</I>&gt;<i> Cookies don't really handle this case well. For example, a user could
</I>&gt;<i> be buying plane tickets in two different windows, using the same site.
</I>&gt;<i> If the site used cookies to keep track of which ticket the user was
</I>&gt;<i> buying, then as the user clicked from page to page in both windows,
</I>&gt;<i> the ticket currently being purchased would &quot;leak&quot; from one window to
</I>&gt;<i> the other, potentially causing the user to buy two tickets for the
</I>&gt;<i> same flight without really noticing.
</I>&gt;<i> 
</I>&gt;<i> To address this, this specification introduces the sessionStorage IDL
</I>&gt;<i> attribute. Sites can add data to the session storage, and it will be
</I>&gt;<i> accessible to any page from the same site opened in that window.
</I>&gt;<i> 
</I>&gt;<i> For example, a page could have a checkbox that the user ticks to
</I>&gt;<i> indicate that he wants insurance:
</I>&gt;<i> 
</I>&gt;<i> &lt;label&gt;
</I>&gt;<i>  &lt;input type=&quot;checkbox&quot; onchange=&quot;sessionStorage.insurance = checked&quot;&gt;
</I>&gt;<i>  I want insurance on this trip.
</I>&gt;<i> &lt;/label&gt;
</I>&gt;<i> A later page could then check, from script, whether the user had
</I>&gt;<i> checked the checkbox or not:
</I>&gt;<i> 
</I>&gt;<i> if (sessionStorage.insurance) { ... }
</I>&gt;<i> If the user had multiple windows opened on the site, each one would
</I>&gt;<i> have its own individual copy of the session storage object.&quot;
</I>&gt;<i> 
</I>Hi Tim,

thank you for the feedback. I hope that I see your point correctly. You 
are right, that for JavaScript based applications this can easily be 
solved with a sessionStorage. All technologies around GoogleWebToolkit, 
Dojo, Echo etc which hold the state in the client and make use of a 
stateless server side application can use the session storage to 
distinguish browser windows.

But there are a lot of web technologies which hold the state on the 
server using the browser session. Technologies like Ruby on Rails, 
JavaServerFaces, Wicket, Struts, Tapestry to name a couple of them. 
Those technologies can not make a simple use of the session storage. 
They are only aware of the browser session which is a common space of 
all browser windows. The windows id let them split the session in a per 
browser window scope.

Originally, when playing with the window id concept, I simulated a 
window id by storing it in a session storage and adding it with the help 
of JavaScript as parameter to all links and as hidden field to all 
forms. It works to some extend but it pollutes the URL and is likely to 
cause problems with bookmarking and there is a use case where it fails. 
If you open a link in a new windows. In that case the first request is 
sending the wrong windows id.


-- 
Best Regards / Viele Gr&#252;&#223;e

Sebastian Hennebrueder
-----
Software Developer and Trainer for Hibernate / Java Persistence
<A HREF="http://www.laliluna.de">http://www.laliluna.de</A>


</PRE>






















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024980.html">[whatwg] Window id - a proposal to leverage session usage in	web application
</A></li>
	<LI>Next message: <A HREF="025039.html">[whatwg] Window id - a proposal to leverage session usage in web application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24982">[ date ]</a>
              <a href="thread.html#24982">[ thread ]</a>
              <a href="subject.html#24982">[ subject ]</a>
              <a href="author.html#24982">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
