<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] canvas, img, file api and blobs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20canvas%2C%20img%2C%20file%20api%20and%20blobs&In-Reply-To=%3CAB2311FB-06B5-4705-B9A0-D1340B945D74%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="067418.html">
   <LINK REL="Next"  HREF="067428.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] canvas, img, file api and blobs</H1>
<!--htdig_noindex-->
    <B>Maciej Stachowiak</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20canvas%2C%20img%2C%20file%20api%20and%20blobs&In-Reply-To=%3CAB2311FB-06B5-4705-B9A0-D1340B945D74%40apple.com%3E"
       TITLE="[whatwg] canvas, img, file api and blobs">mjs at apple.com
       </A><BR>
    <I>Mon Feb 15 23:47:10 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="067418.html">[whatwg] canvas, img, file api and blobs
</A></li>
        <LI>Next message: <A HREF="067428.html">[whatwg] canvas, img, file api and blobs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67427">[ date ]</a>
              <a href="thread.html#67427">[ thread ]</a>
              <a href="subject.html#67427">[ subject ]</a>
              <a href="author.html#67427">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Feb 15, 2010, at 1:53 PM, Jonas Sicking wrote:

&gt;<i> On Mon, Feb 15, 2010 at 6:43 AM, Stef Epardaud &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">stef at epardaud.fr</A>&gt;  
</I>&gt;<i> wrote:
</I>&gt;&gt;<i> Hello,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am trying to write a client-side application in HTML5 that resizes
</I>&gt;&gt;<i> images before uploading them to the server. I saw several demos  
</I>&gt;&gt;<i> that did
</I>&gt;&gt;<i> this resizing using canvas and img, but I have only seen how to get a
</I>&gt;&gt;<i> data URL out of a canvas, and since Base64 is about 1.37% larger than
</I>&gt;&gt;<i> the equivalent binary data (according to <A HREF="http://en.wikipedia.org/wiki/Base64">http://en.wikipedia.org/wiki/Base64</A> 
</I>&gt;&gt;<i> ),
</I>&gt;&gt;<i> I wonder why it is not possible to get a Blob out of the canvas?
</I>&gt;&gt;<i> Especially since the File API supports uploading Blobs.
</I>&gt;<i>
</I>&gt;<i> It has been suggested earlier on this list that we add a
</I>&gt;<i>
</I>&gt;<i> canvas.toFile
</I>&gt;<i> or
</I>&gt;<i> canvas.toBlob
</I>&gt;<i>
</I>&gt;<i> function, which would return a binary Blob instead of a data URL. For
</I>&gt;<i> exactly the reasons that you mention. I hope to write a test
</I>&gt;<i> implementation of this for firefox in the near future.
</I>
I still think we need a type for binary data that can represent in- 
memory resources. Blobs only allow asynchronous access, since they are  
meant to represent something like a file, a slice of a file, or a  
chunk of data in an on-disk database. It doesn't make sense to use  
such an inconvenient interface to pull out the contents of the canvas,  
which pretty much have to already be in memory.

Even something like WebGL's typed arrays would be better, if the  
ECMAScript committee doesn't come up with a good solution for basic  
binary data soon.

Regards,
Macie


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="067418.html">[whatwg] canvas, img, file api and blobs
</A></li>
	<LI>Next message: <A HREF="067428.html">[whatwg] canvas, img, file api and blobs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67427">[ date ]</a>
              <a href="thread.html#67427">[ thread ]</a>
              <a href="subject.html#67427">[ subject ]</a>
              <a href="author.html#67427">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
