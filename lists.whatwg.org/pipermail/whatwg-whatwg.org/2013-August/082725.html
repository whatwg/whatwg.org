<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Blurry lines in 2D Canvas (and SVG)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Blurry%20lines%20in%202D%20Canvas%20%28and%20SVG%29&In-Reply-To=%3CCABirCh-NiwtSMzs5J5%3DcqazNYGAKufA3s1Lz1cW-6YvhGbt8pg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082724.html">
   <LINK REL="Next"  HREF="082729.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Blurry lines in 2D Canvas (and SVG)</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Blurry%20lines%20in%202D%20Canvas%20%28and%20SVG%29&In-Reply-To=%3CCABirCh-NiwtSMzs5J5%3DcqazNYGAKufA3s1Lz1cW-6YvhGbt8pg%40mail.gmail.com%3E"
       TITLE="[whatwg] Blurry lines in 2D Canvas (and SVG)">glenn at zewt.org
       </A><BR>
    <I>Fri Aug  9 22:07:18 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082724.html">[whatwg] Blurry lines in 2D Canvas (and SVG)
</A></li>
        <LI>Next message: <A HREF="082729.html">[whatwg] Blurry lines in 2D Canvas (and SVG)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82725">[ date ]</a>
              <a href="thread.html#82725">[ thread ]</a>
              <a href="subject.html#82725">[ subject ]</a>
              <a href="author.html#82725">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Aug 9, 2013 at 11:07 PM, Rik Cabanier &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">cabanier at gmail.com</A>&gt; wrote:

&gt;<i> How would you fix a 1.5 pixel width for the stroke or a 1.5 transform?
</I>&gt;<i>
</I>
By snapping the final, post-transform width of the stroke to an integer.
If you scale by 1.25, eg. ctx.scale(1.25, 1.25), then draw a stroke with a
lineWidth of 1.5, the resulting width is 1.875 pixels.  That would be
rounded up to 2 pixels, after applying the transform (scale) and before
invoking the &quot;trace a path&quot; algorithm.

&gt;<i>
</I>&gt;<i> Chrome seems ignore stroke widths that are smaller than 1 (which is
</I>&gt;&gt;&gt;<i> reasonable).
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> (That seems wrong to me--it should continue to draw based on pixel
</I>&gt;&gt;<i> coverage--but that's a separate issue...)
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Is it? Obviously you can't draw less than a pixel, but the user did
</I>&gt;<i> specify that he wants it too look black.
</I>&gt;<i>
</I>
strokeStyle = &quot;black&quot; doesn't mean &quot;every pixel in the stroke should be
black&quot;.  It's the color of the pen.  If you draw over half of a pixel with
a black pen, you get 50% grey.

It'd be one thing if Chrome didn't antialias at all, but if Chrome is
antialiasing a stroke with a lineWidth of 1.5, it doesn't make sense that
it's not antialiasing a stroke with a lineWidth of 0.75.  I don't think
this is strictly specified; the only mention of anti-aliasing is an example
of how to do it (oversampling).

This is tangental, though.  Might want to start another thread if you want
to go over this more, or we'll derail this one...

-- 
Glenn Maynard

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082724.html">[whatwg] Blurry lines in 2D Canvas (and SVG)
</A></li>
	<LI>Next message: <A HREF="082729.html">[whatwg] Blurry lines in 2D Canvas (and SVG)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82725">[ date ]</a>
              <a href="thread.html#82725">[ thread ]</a>
              <a href="subject.html#82725">[ subject ]</a>
              <a href="author.html#82725">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
