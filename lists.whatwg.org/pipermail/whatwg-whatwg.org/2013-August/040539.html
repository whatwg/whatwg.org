<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Forms-related feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Forms-related%20feedback&In-Reply-To=%3CCAGH7WqHPBsEPMvNhHjV9xE6GXOyVngykHnjeTiWuLLXtJH2tnA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040534.html">
   <LINK REL="Next"  HREF="082824.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Forms-related feedback</H1>
<!--htdig_noindex-->
    <B>TAMURA, Kent</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Forms-related%20feedback&In-Reply-To=%3CCAGH7WqHPBsEPMvNhHjV9xE6GXOyVngykHnjeTiWuLLXtJH2tnA%40mail.gmail.com%3E"
       TITLE="[whatwg] Forms-related feedback">tkent at chromium.org
       </A><BR>
    <I>Tue Aug 20 18:27:05 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="040534.html">[whatwg] Styling &lt;details&gt;
</A></li>
        <LI>Next message: <A HREF="082824.html">[whatwg] Forms-related feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40539">[ date ]</a>
              <a href="thread.html#40539">[ thread ]</a>
              <a href="subject.html#40539">[ subject ]</a>
              <a href="author.html#40539">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>

On Sat, Jul 13, 2013 at 6:39 AM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i> On Wed, 9 Jan 2013, TAMURA, Kent wrote:
</I>&gt;&gt;<i> On Wed, Nov 21, 2012 at 7:51 AM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; On Fri, 7 Sep 2012, TAMURA, Kent wrote:
</I>&gt;&gt;<i> &gt; &gt;
</I>&gt;&gt;<i> &gt; &gt; * For date, datetime, datetime-local, month, time, week, the
</I>&gt;&gt;<i> &gt; &gt; attribute returns a string in a field. If a field is text-editable,
</I>&gt;&gt;<i> &gt; &gt; it should return user-editing string like email and number.  If a
</I>&gt;&gt;<i> &gt; &gt; field has a fixed localized date/time string chosen by a date/time
</I>&gt;&gt;<i> &gt; &gt; picker, the attribute should return the localized string. [...]
</I>&gt;&gt;<i> &gt; &gt;
</I>&gt;&gt;<i> &gt; &gt; - We can enable text field selection APIs for email, number, and
</I>&gt;&gt;<i> &gt; &gt; other types
</I>
&gt;&gt;<i> &gt; How would this work when the control isn't a text control? I don't
</I>&gt;&gt;<i> &gt; understand. For example, consider a date control that is actually
</I>&gt;&gt;<i> &gt; three separate text fields (year month day); how do you envisage the
</I>&gt;&gt;<i> &gt; selection API working and how would rawValue help with this?
</I>
&gt;&gt;<i> I think it's ok that rawValue doesn't work with form controls without
</I>&gt;&gt;<i> any text. One of use cases of rawValue would be to handle user input
</I>&gt;&gt;<i> errors.  I think non-text form controls should be clever enough to avoid
</I>&gt;&gt;<i> bad user input. For example, users can't set bad values to
</I>&gt;&gt;<i> input[type=range].
</I>
&gt;<i> I still don't understand how this would work. You suggest that it should
</I>&gt;<i> work for type=date, but how? What happens when it's mutated by script,
</I>&gt;<i> for instance? I really don't understand the purpose here or how it would
</I>&gt;<i> work to achieve that purpose.
</I>
As for type=date, rawValue should return what a user see. Value set by
script
or not doesn't matter.
In Google Chrome, rawValue should return a localized date value such
as &quot;21/08/2013&quot;.

I saw some questions/requests of a way to get a localized date string in
crbug.com and stackoverflow.com.  One of reasons one wanted to get it was
that there are no ways for script to get localized date format used in
type=date.
One wanted to get the format to use consistent date format in a web page,
another
wanted to get the format to focus on specific field in type=date (Note that
a type=date
instance in Google Chrome contains multiple focus targets.)

As for type=number, I heard a web author wanted to get invalid value typed
by
a user in order to show friendly error message without HTML interactive
form validation.


&gt;&gt;<i> &gt; On Tue, 11 Sep 2012, TAMURA, Kent wrote:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; &gt; Yes, I'd like to enable selection API for at least type=email and
</I>&gt;&gt;<i> &gt; &gt; type=number.  All of their existing implementations are text fields.
</I>&gt;&gt;<i> &gt; &gt; I haven't seen a request to suport selection API for type=email,
</I>&gt;&gt;<i> &gt; &gt; etc.. However lack of selection API looks a defect to me.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Why does the page need to touch the selection?
</I>
&gt;&gt;<i> It must be same as input[type=text].
</I>&gt;&gt;<i> e.g.
</I>&gt;&gt;<i>    - A page author wants to select the whole value or nothing of an email
</I>&gt;&gt;<i>      form control when it gets focus.
</I>
&gt;<i> Why is that a valid thing for a page to be doing? The browser should take
</I>&gt;<i> care of doing that, not the page. If the page does it, it'll be different
</I>&gt;<i> on each page and the user will get confused.
</I>
We can't force it.  Web authors do what they want.

<A HREF="https://code.google.com/p/chromium/issues/detail?id=263910#c3">https://code.google.com/p/chromium/issues/detail?id=263910#c3</A>
This is an actual case.  I talked with him, and he said &lt;datalist&gt; didn't
work
in his case because he wanted to show images on choices.


&gt;&gt;<i>    - A user entered an email address with unacceptable domain name.
</I>&gt;&gt;<i>      A page author wants to move the caret to the beginning of the domain
</I>&gt;&gt;<i> name.
</I>
&gt;<i> How is that possible in the case of a custom e-mail widget where the
</I>&gt;<i> e-mail address isn't shown, but a user picture and name is shown instead?
</I>
I think rawValue isn't necessary in such UI. However all of existing
type=email
implementation is a text field.



-- 
TAMURA Kent
Software Engineer, Google
</PRE>






































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040534.html">[whatwg] Styling &lt;details&gt;
</A></li>
	<LI>Next message: <A HREF="082824.html">[whatwg] Forms-related feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40539">[ date ]</a>
              <a href="thread.html#40539">[ thread ]</a>
              <a href="subject.html#40539">[ subject ]</a>
              <a href="author.html#40539">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
