<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Window and WindowProxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Window%20and%20WindowProxy&In-Reply-To=%3Calpine.DEB.2.00.1308081849060.27623%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082693.html">
   <LINK REL="Next"  HREF="082703.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Window and WindowProxy</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Window%20and%20WindowProxy&In-Reply-To=%3Calpine.DEB.2.00.1308081849060.27623%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Window and WindowProxy">ian at hixie.ch
       </A><BR>
    <I>Thu Aug  8 11:50:56 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082693.html">[whatwg] Window and WindowProxy
</A></li>
        <LI>Next message: <A HREF="082703.html">[whatwg] Window and WindowProxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82701">[ date ]</a>
              <a href="thread.html#82701">[ thread ]</a>
              <a href="subject.html#82701">[ subject ]</a>
              <a href="author.html#82701">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 8 Aug 2013, Boris Zbarsky wrote:
&gt;<i> On 8/8/13 7:22 AM, Boris Zbarsky wrote:
</I>&gt;<i> &gt; On 8/8/13 2:11 AM, Ian Hickson wrote:
</I>&gt;<i> &gt; &gt; I would imagine most languages other than JavaScript would break 
</I>&gt;<i> &gt; &gt; that invariant.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Why are we suddenly worrying about languages other than JavaScript?
</I>&gt;<i> 
</I>&gt;<i> Let me try that with less snark.
</I>&gt;<i> 
</I>&gt;<i> I believe that WindowProxy is solving an issue specific to the 
</I>&gt;<i> JavaScript bindings for the web platform: an issue caused by conflating 
</I>&gt;<i> &quot;the object representing the current page&quot; and &quot;the object representing 
</I>&gt;<i> a given navigation context&quot;.
</I>&gt;<i> 
</I>&gt;<i> If I were creating bindings for the web platform in another language, or 
</I>&gt;<i> for that matter green-field designing JS bindings, I would simply expose 
</I>&gt;<i> those as two separate objects, with a &quot;get the current page&quot; getter on 
</I>&gt;<i> the navigation context and a &quot;get the navigation context&quot; getter on the 
</I>&gt;<i> object representing a page.
</I>&gt;<i> 
</I>&gt;<i> So I'm not terribly worried about how other languages will deal with 
</I>&gt;<i> WindowProxy, because I don't really expect them to have a WindowProxy. 
</I>&gt;<i> And I'm not terribly worries about how they will deal with indexed 
</I>&gt;<i> access on a Window, because I don't expect them to do such a thing at 
</I>&gt;<i> all in their bindings... Just like I don't expect other languages to 
</I>&gt;<i> have a global scope polluter.
</I>
I'd go further -- I wouldn't expose WindowProxy to other languages at all, 
personally. I would just make every attribute that returns a WindowProxy 
return whatever the current Window is, or some such. Or alternatively, 
have WindowProxy just defined as:

   interface WindowProxy {
     readonly attribute Window currentWindow;
   };

...but that seems like it'd make the API unnecessarily ugly.

My point is that either way, if we do this, that means all the security 
checks have to be on Window, not WindowProxy.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082693.html">[whatwg] Window and WindowProxy
</A></li>
	<LI>Next message: <A HREF="082703.html">[whatwg] Window and WindowProxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82701">[ date ]</a>
              <a href="thread.html#82701">[ thread ]</a>
              <a href="subject.html#82701">[ subject ]</a>
              <a href="author.html#82701">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
