<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Promise.every() arguments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Promise.every%28%29%20arguments&In-Reply-To=%3CCAHWpXeaw%2BQ1JYwKTW6Cvw9wwU903SASPmS%3DkGbbk9RO8X1R0QA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082789.html">
   <LINK REL="Next"  HREF="082792.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Promise.every() arguments</H1>
<!--htdig_noindex-->
    <B>Alec Flett</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Promise.every%28%29%20arguments&In-Reply-To=%3CCAHWpXeaw%2BQ1JYwKTW6Cvw9wwU903SASPmS%3DkGbbk9RO8X1R0QA%40mail.gmail.com%3E"
       TITLE="[whatwg] Promise.every() arguments">alecflett at chromium.org
       </A><BR>
    <I>Tue Aug 20 14:42:37 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082789.html">[whatwg] Promise.every() arguments
</A></li>
        <LI>Next message: <A HREF="082792.html">[whatwg] Promise.every() arguments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82790">[ date ]</a>
              <a href="thread.html#82790">[ thread ]</a>
              <a href="subject.html#82790">[ subject ]</a>
              <a href="author.html#82790">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hey spreading sounds great... I miss that from python.

But, the promise array issue still feels really awkward to me.

One confusing example of this is that if you *do* pass an array,
(incorrectly) the then() gets an array of an array of unresolved promises:

Promise.every([Promise.resolve(1),
Promise.resolve(2)]).then(function(results) {
    // here results is [[Promise, Promise]]
})

Which again from a developer perspective seems more like Promise.every()
forgot to resolve all the promises, not that you're using the API wrong.

Whereas if the API were the other way around, and you pass
Promise.every(Promise.resolve(1), Promise.resolve(2)) by accident,
Promise.every() can throw an exception to say &quot;don't do that, you clearly
misunderstand&quot;

Promises are going to be out way before ES6, it seems unfortunate that
everyone's going to have to use Promise.every.apply though, since spreading
is a syntax error in non-ES6... it means you can't polyfill it in the
general case. (And maybe there's some generic answer to that aspect of ES6
- I'm admittedly not up to speed on the ES6 future-compatible story)

Alec


On Tue, Aug 20, 2013 at 2:23 PM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at annevk.nl</A>&gt; wrote:

&gt;<i> On Tue, Aug 20, 2013 at 10:00 PM, Tab Atkins Jr. &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jackalmage at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; ES6 has array spreading, so you can do `Promise.every(...pending)`.
</I>&gt;<i> &gt; This already works in Firefox, and V8 (Chrome's JS engine) is adding
</I>&gt;<i> &gt; these kinds of features as well.
</I>&gt;<i>
</I>&gt;<i> Domenic made an argument somewhere that since the value of the promise
</I>&gt;<i> will be an array, the input should maybe be an array too. Seemed
</I>&gt;<i> somewhat reasonable. I agree that due to spreading we shouldn't
</I>&gt;<i> consider OP's argument though.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> <A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082789.html">[whatwg] Promise.every() arguments
</A></li>
	<LI>Next message: <A HREF="082792.html">[whatwg] Promise.every() arguments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82790">[ date ]</a>
              <a href="thread.html#82790">[ thread ]</a>
              <a href="subject.html#82790">[ subject ]</a>
              <a href="author.html#82790">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
