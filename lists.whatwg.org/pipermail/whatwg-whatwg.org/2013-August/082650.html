<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20BinaryEncoding%20for%20Typed%20Arrays%20using%20window.btoa%20and%0A%09window.atob&In-Reply-To=%3CCAMtH1gB0StwDi%2Bk-rFgNgyYH_buGTj%2BgbBNcF9W1Gj9e%3DxGOLg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082649.html">
   <LINK REL="Next"  HREF="082651.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob</H1>
<!--htdig_noindex-->
    <B>Chang Shu</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20BinaryEncoding%20for%20Typed%20Arrays%20using%20window.btoa%20and%0A%09window.atob&In-Reply-To=%3CCAMtH1gB0StwDi%2Bk-rFgNgyYH_buGTj%2BgbBNcF9W1Gj9e%3DxGOLg%40mail.gmail.com%3E"
       TITLE="[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob">cshu01 at gmail.com
       </A><BR>
    <I>Mon Aug  5 18:15:47 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082649.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob
</A></li>
        <LI>Next message: <A HREF="082651.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and window.atob
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82650">[ date ]</a>
              <a href="thread.html#82650">[ thread ]</a>
              <a href="subject.html#82650">[ subject ]</a>
              <a href="author.html#82650">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi, Kenneth,

I think the atob implementation is able to enlarge the buffer size
from c++ side if necessary. And during the decoding process, I thought
the algorithm first decodes base64 string into a binary string and
casts/copies it into the desired type based on the input
ArrayBufferView. So it is the user who decides the type of the output
not the encoded string. I think it's the same thing for the current
atob function. The encoded string has no information about what the
type of the output would be. Do you think the above is correct?
There have been some email exchanges about the different approaches of
binary encoding. I was told that the binary encoding part was taken
out of the encoding spec on purpose and the bota/atob approach was
preferred. But people are also talking about bringing it back to the
encoding spec. My bottom line is to have something working so I can
use it in my project. btoa/atob seems a natural enhancement and
low-hanging fruit to me.

Thanks,
Chang
&gt;<i>
</I>&gt;<i> Chang, in your proposal for modifying atob, how does the developer
</I>&gt;<i> know how many characters were written into the outgoing
</I>&gt;<i> ArrayBufferView?
</I>&gt;<i>
</I>&gt;<i> What happens if the ArrayBufferView argument isn't large enough to
</I>&gt;<i> hold the decoded string?
</I>&gt;<i>
</I>&gt;<i> During the decoding process, is the type of the ArrayBufferView
</I>&gt;<i> significant? In your example, what would happen if an Int16Array were
</I>&gt;<i> passed instead of an Int32Array?
</I>&gt;<i>
</I>&gt;<i> The Encoding spec at <A HREF="http://encoding.spec.whatwg.org/">http://encoding.spec.whatwg.org/</A> seems to have
</I>&gt;<i> handled issues like these. Perhaps a better route would be to fold
</I>&gt;<i> this functionality into that spec.
</I>&gt;<i>
</I>&gt;<i> -Ken
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082649.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob
</A></li>
	<LI>Next message: <A HREF="082651.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and window.atob
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82650">[ date ]</a>
              <a href="thread.html#82650">[ thread ]</a>
              <a href="subject.html#82650">[ subject ]</a>
              <a href="author.html#82650">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
