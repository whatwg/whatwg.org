<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20BinaryEncoding%20for%20Typed%20Arrays%20using%20window.btoa%20and%0A%09window.atob&In-Reply-To=%3CCAAWBYDAdFASoyV6fv3bQ1hohqfhoXypjc569p5Yx-LHf0b6%2BJA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082641.html">
   <LINK REL="Next"  HREF="082644.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob</H1>
<!--htdig_noindex-->
    <B>Tab Atkins Jr.</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20BinaryEncoding%20for%20Typed%20Arrays%20using%20window.btoa%20and%0A%09window.atob&In-Reply-To=%3CCAAWBYDAdFASoyV6fv3bQ1hohqfhoXypjc569p5Yx-LHf0b6%2BJA%40mail.gmail.com%3E"
       TITLE="[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob">jackalmage at gmail.com
       </A><BR>
    <I>Mon Aug  5 13:30:21 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082641.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and window.atob
</A></li>
        <LI>Next message: <A HREF="082644.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82642">[ date ]</a>
              <a href="thread.html#82642">[ thread ]</a>
              <a href="subject.html#82642">[ subject ]</a>
              <a href="author.html#82642">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Aug 5, 2013 at 12:41 PM, Simon Pieters &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">simonp at opera.com</A>&gt; wrote:
&gt;&gt;<i> var newarr = new Int32Array();
</I>&gt;&gt;<i> window.atob(encodedData, newarr); //decode base-64 string back to integer
</I>&gt;&gt;<i> array
</I>&gt;&gt;<i> //newarr[0] should be 1, newarr[1] should be 2 and newarr[2] should be 3.
</I>&gt;<i>
</I>&gt;<i> Is there a reason to support an arbitrary typed array for atob rather than
</I>&gt;<i> returning a new typed array?
</I>&gt;<i>
</I>&gt;<i> e.g.
</I>&gt;<i>
</I>&gt;<i> var newarr = atob(encodedData, {typedarray:true});
</I>&gt;<i>
</I>&gt;<i> (I'm not sure which view is most appropriate to return.)
</I>
Decoding into a given typed array means you can reuse the same
(potentially large) buffer multiple times, rather than creating new
ones with every call.  Avoiding the GC churn can be significant.  It
also means you can decode several strings into the same typed array at
different offsets.

~TJ

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082641.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and window.atob
</A></li>
	<LI>Next message: <A HREF="082644.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82642">[ date ]</a>
              <a href="thread.html#82642">[ thread ]</a>
              <a href="subject.html#82642">[ subject ]</a>
              <a href="author.html#82642">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
