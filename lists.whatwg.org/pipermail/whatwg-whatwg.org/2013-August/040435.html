<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] remove resetClip from the Canvas 2D spec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20remove%20resetClip%20from%20the%20Canvas%202D%20spec&In-Reply-To=%3CCAPeKFTjBh08ihwtwKPo54LTr14JbbiwYequMsPZD-Oq2EGk8QA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040413.html">
   <LINK REL="Next"  HREF="082709.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] remove resetClip from the Canvas 2D spec</H1>
<!--htdig_noindex-->
    <B>Stephen White</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20remove%20resetClip%20from%20the%20Canvas%202D%20spec&In-Reply-To=%3CCAPeKFTjBh08ihwtwKPo54LTr14JbbiwYequMsPZD-Oq2EGk8QA%40mail.gmail.com%3E"
       TITLE="[whatwg] remove resetClip from the Canvas 2D spec">senorblanco at chromium.org
       </A><BR>
    <I>Fri Aug  9 13:11:37 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="040413.html">[whatwg] Sandboxed IFrames and downloads.
</A></li>
        <LI>Next message: <A HREF="082709.html">[whatwg] remove resetClip from the Canvas 2D spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40435">[ date ]</a>
              <a href="thread.html#40435">[ thread ]</a>
              <a href="subject.html#40435">[ subject ]</a>
              <a href="author.html#40435">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Although Skia could support resetClip() via SkRegion::kReplace_Op, it's
problematic for the API in general, and I think we should avoid it.

In particular, it makes it impossible to place a display list (SkPicture in
Skia parlance) inside a parent display list containing a clip and be
assured that the child will not draw outside the given region, since the
child display list can always resetClip() its way out of the parent's
clip. It probably also prevents culling optimizations for the same reason.

For example, if one used Skia to draw the entirety of a browser UI
including chrome and content, the resetClip() inside the web page contents
would overwrite the browser UI. Obviously we don't do that in Chrome, but
it goes some idea of the problem at the API level.

Stephen


On Thu, Jul 18, 2013 at 1:39 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:

&gt;<i> On Tue, 29 Jan 2013, Rik Cabanier wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; we were looking at how resetClip could be implemented in WebKit. Looking
</I>&gt;<i> &gt; over the Core Graphics implementation, this feature can't be implemented
</I>&gt;<i> &gt; without significant overhead. I also found an email from 2007 where
</I>&gt;<i> &gt; Maciej states the same concern:
</I>&gt;<i> &gt;    <A HREF="http://permalink.gmane.org/gmane.org.w3c.whatwg.discuss/10582">http://permalink.gmane.org/gmane.org.w3c.whatwg.discuss/10582</A>
</I>&gt;<i>
</I>&gt;<i> The solution on Mac is probably for Apple to update CoreGraphics to
</I>&gt;<i> support this feature.
</I>&gt;<i>
</I>&gt;<i> This is a quite widely requested feature.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; Since no browser has implemented it, can it be removed from the spec?
</I>&gt;<i>
</I>&gt;<i> It's new, so no browser having implemented it is expected.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If browsers don't implement it, it'll get removed in due course. But it
</I>&gt;<i> would be sad for authors, who are the main concern here.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Ian Hickson               U+1047E                )\._.,--....,'``.    fL
</I>&gt;<i> <A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
</I>&gt;<i> Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</I>&gt;<i>
</I></PRE>

























































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040413.html">[whatwg] Sandboxed IFrames and downloads.
</A></li>
	<LI>Next message: <A HREF="082709.html">[whatwg] remove resetClip from the Canvas 2D spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40435">[ date ]</a>
              <a href="thread.html#40435">[ thread ]</a>
              <a href="subject.html#40435">[ subject ]</a>
              <a href="author.html#40435">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
