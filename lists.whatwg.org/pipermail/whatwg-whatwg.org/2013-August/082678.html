<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20BinaryEncoding%20for%20Typed%20Arrays%20using%20window.btoa%20and%0A%09window.atob&In-Reply-To=%3CCABirCh-Zneyjc3J9yDLwcsh_NwjNL3hihu3OQ_qx-zuvj3it7Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082676.html">
   <LINK REL="Next"  HREF="082680.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20BinaryEncoding%20for%20Typed%20Arrays%20using%20window.btoa%20and%0A%09window.atob&In-Reply-To=%3CCABirCh-Zneyjc3J9yDLwcsh_NwjNL3hihu3OQ_qx-zuvj3it7Q%40mail.gmail.com%3E"
       TITLE="[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob">glenn at zewt.org
       </A><BR>
    <I>Wed Aug  7 06:29:24 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082676.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and window.atob
</A></li>
        <LI>Next message: <A HREF="082680.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82678">[ date ]</a>
              <a href="thread.html#82678">[ thread ]</a>
              <a href="subject.html#82678">[ subject ]</a>
              <a href="author.html#82678">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Aug 7, 2013 at 5:28 AM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at annevk.nl</A>&gt; wrote:

&gt;<i> On Tue, Aug 6, 2013 at 9:48 PM, Chang Shu &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">cshu01 at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; But it appears to me we have to introduce
</I>&gt;<i> &gt; another pair of coders, say BinaryDecoder/BinaryEncoder, in addition
</I>&gt;<i> &gt; to TextDecoder/TextEncode since the signatures of the decode/encode
</I>&gt;<i> &gt; functions are different.
</I>&gt;<i>
</I>&gt;<i> So TextDecoder is bytes to string and TextEncoder is string to bytes.
</I>&gt;<i> If we always represent the base64-variant as a sequence of bytes the
</I>&gt;<i> signature seems fine. If you want to get a string out of those bytes
</I>&gt;<i> again you could utf-8 decode it for instance.
</I>&gt;<i>
</I>
If base64 was treated as a sequence of bytes then both encoding and
decoding would be bytes to bytes, which doesn't match either of those.

base64 data is a string, though.  Having encode to a UTF-8 binary array to
convert to base64, and decode back to a string after decoding base64, would
be pretty awkward for the common case.  Signature-wise, you'd want
TextDecoder to convert from data to base64, and TextEncoder to convert from
base64 to data.

The only annoying thing is that results in the function names being
backwards (logically the former is &quot;encoding to base64&quot; and the latter is
&quot;decoding base64&quot;).  That's livable, though.

-- 
Glenn Maynard

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082676.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and window.atob
</A></li>
	<LI>Next message: <A HREF="082680.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82678">[ date ]</a>
              <a href="thread.html#82678">[ thread ]</a>
              <a href="subject.html#82678">[ subject ]</a>
              <a href="author.html#82678">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
