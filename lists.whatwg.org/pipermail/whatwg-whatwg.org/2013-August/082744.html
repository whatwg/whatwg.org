<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20BinaryEncoding%20for%20Typed%20Arrays%20using%20window.btoa%20and%0A%09window.atob&In-Reply-To=%3CCA%2Bc2ei9%2BnNdF6Keyy3xHTNcWjnpAdtAJ-K6YTdNbiOe4yGMmtA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082733.html">
   <LINK REL="Next"  HREF="082745.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20BinaryEncoding%20for%20Typed%20Arrays%20using%20window.btoa%20and%0A%09window.atob&In-Reply-To=%3CCA%2Bc2ei9%2BnNdF6Keyy3xHTNcWjnpAdtAJ-K6YTdNbiOe4yGMmtA%40mail.gmail.com%3E"
       TITLE="[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob">jonas at sicking.cc
       </A><BR>
    <I>Mon Aug 12 16:26:13 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082733.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob
</A></li>
        <LI>Next message: <A HREF="082745.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82744">[ date ]</a>
              <a href="thread.html#82744">[ thread ]</a>
              <a href="subject.html#82744">[ subject ]</a>
              <a href="author.html#82744">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Aug 12, 2013 at 10:27 AM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at annevk.nl</A>&gt; wrote:
&gt;<i> On Mon, Aug 12, 2013 at 6:16 PM, Joshua Bell &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jsbell at google.com</A>&gt; wrote:
</I>&gt;&gt;<i> FWIW, I've landed an experimental (behind a flag) implementation of the API
</I>&gt;&gt;<i> in Blink/Chromium; changing it is definitely possible for us. I believe Moz
</I>&gt;&gt;<i> is shipping it web-exposed already in FF?
</I>&gt;<i>
</I>&gt;<i> Yes, since Firefox 18 (since Firefox 20 in workers).
</I>
I assume we are talking about TextEncoder/TextDecoder here, and not
new versions of atob and btoa.

If so, yes, we've been shipping that for a while now.

&gt;&gt;<i> To recap history: early iterations of the Encoding API proposal did have
</I>&gt;&gt;<i> base64 but it was removed with the suggestion to extend atob()/btoa()
</I>&gt;&gt;<i> instead, and due to the confusion around the encode/decode verbs. If the
</I>&gt;&gt;<i> APIs were something like StringToBytesConverter::convert() and
</I>&gt;&gt;<i> BytesToStringConverter::convert() it would make more sense for encoding of
</I>&gt;&gt;<i> both text (use StringToBytes) and binary data (use BytesToString).
</I>&gt;<i>
</I>&gt;<i> I can't really speak for Gecko, but I suspect we wouldn't like
</I>&gt;<i> changing it over half a year after deploying it. Jonas?
</I>
I guess we'd have to do a cost/benefit analysis. What is it that
people want to change about the current API, and why?

Moving to new function names might be doable, by implementing the new
names and adding warnings to the old ones. But we should consider the
confusion it will cause, and how much it will delay deployment.

&gt;&gt;<i> While we're re-opening this can of worms, there's been a request to add a
</I>&gt;&gt;<i> flush() method to the TextEncoder/TextDecoder objects, which would behave
</I>&gt;&gt;<i> the same as calling encode(null, {stream: false}) / decode(null,
</I>&gt;&gt;<i> {stream:false}) but make the code more readable. This fails the &quot;adding a
</I>&gt;&gt;<i> new method for something that behaves exactly like something we already
</I>&gt;&gt;<i> have&quot; test. Opinions?
</I>&gt;<i>
</I>&gt;<i> Adding that seems fine.
</I>
I don't have strong opinions either way.

I don't think that base64 encoding fits with the current
TextEncoder/Decoder API. Not because of names, but because base64
encoding is by nature opposite. I.e. the encoded format is in string
form, whereas the decoded format is in binary form.

I.e. encodings like utf8 and friends encode string data into binary
data. base64 encodes binary data into string data.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082733.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob
</A></li>
	<LI>Next message: <A HREF="082745.html">[whatwg] BinaryEncoding for Typed Arrays using window.btoa and	window.atob
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82744">[ date ]</a>
              <a href="thread.html#82744">[ thread ]</a>
              <a href="subject.html#82744">[ subject ]</a>
              <a href="author.html#82744">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
