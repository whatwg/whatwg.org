<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Gears caching at identical URIs (was: Gears design	goals)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Gears%20caching%20at%20identical%20URIs%20%28was%3A%20Gears%20design%0A%09goals%29&In-Reply-To=%3C68fba5c50707021736i43a479d1yfb7e867de0759e54%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054393.html">
   <LINK REL="Next"  HREF="054396.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Gears caching at identical URIs (was: Gears design	goals)</H1>
<!--htdig_noindex-->
    <B>Robert Sayre</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Gears%20caching%20at%20identical%20URIs%20%28was%3A%20Gears%20design%0A%09goals%29&In-Reply-To=%3C68fba5c50707021736i43a479d1yfb7e867de0759e54%40mail.gmail.com%3E"
       TITLE="[whatwg] Gears caching at identical URIs (was: Gears design	goals)">sayrer at gmail.com
       </A><BR>
    <I>Mon Jul  2 17:36:04 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="054393.html">[whatwg] Gears caching at identical URIs (was: Gears design	goals)
</A></li>
        <LI>Next message: <A HREF="054396.html">[whatwg] Gears caching at identical URIs (was: Gears design	goals)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54395">[ date ]</a>
              <a href="thread.html#54395">[ thread ]</a>
              <a href="subject.html#54395">[ subject ]</a>
              <a href="author.html#54395">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 7/2/07, Robert O'Callahan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt; wrote:
&gt;<i> On 7/3/07, Robert Sayre &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">sayrer at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; On 7/2/07, Robert O'Callahan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; On 7/2/07, Robert Sayre &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">sayrer at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Basically, I think offline caches should respect the Vary: HTTP
</I>&gt;<i> &gt; &gt; &gt; header, and maybe more. Applications will need to do this right
</I>&gt;<i> &gt; &gt; &gt; anyway, if they want to function correctly in the presence of ISP HTTP
</I>&gt;<i> &gt; &gt; &gt; proxies (AOL, TMobile, etc),  corporate firewalls, and server-side
</I>&gt;<i> &gt; &gt; &gt; stuff like Citrix Netscalers.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; No they don't. For example, they can just use Cache-Control:private to
</I>&gt;<i> &gt; &gt; bypass those caches. That's what GMail does.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Yes, I should have mentioned that I don't think an Offline API will be
</I>&gt;<i> &gt; able to handle Cache-Control:private stuff better than other proxies
</I>&gt;<i> &gt; unless it reinvents other HTTP caching mechanisms.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I don't know what you mean. Offline storage is a private cache and can
</I>&gt;<i> ignore Cache-Control:private.
</I>
Seems to me that if you are worried about users seeing content
intended for other users, it isn't a private cache.

&gt;<i>
</I>&gt;<i> &gt; &gt; &gt; To me, it looks like the caching mechanisms in HTTP 1.1 can satisfy
</I>&gt;<i> &gt; &gt; &gt; this requirement. I think Rob is correct that it adds substantial
</I>&gt;<i> &gt; &gt; &gt; complexity, but it is already required.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; In what way is it already required? Browsers are not required to store
</I>&gt;<i> &gt; &gt; multiple resources for the same URI. We don't; we just use Vary to help
</I>&gt;<i> &gt; &gt; (in)validate the resource we've got.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I mean that it is required for web application authors that want to
</I>&gt;<i> &gt; scale cheaply and have personalized pages. I don't think you agree
</I>&gt;<i> &gt; with me.
</I>&gt;<i>
</I>&gt;<i> The first app I checked (GMail) doesn't use Vary. If people aren't using it,
</I>&gt;<i> it can hardly be a requirement. Actually I'm skeptical that Vary helps much
</I>&gt;<i> with scalability, even if it works interoperably across browsers and caches:
</I>
It helps quite a bit when you're close to the source, but see below:

Here are some examples:
<A HREF="http://www.djangobook.com/en/beta/chapter14/#cn125">http://www.djangobook.com/en/beta/chapter14/#cn125</A>
<A HREF="http://webmaster.info.aol.com/vary.html">http://webmaster.info.aol.com/vary.html</A>
<A HREF="http://oregonstate.edu/~hopsonro/2006/10/01/internet-explorer-fails-to-explore-internet/">http://oregonstate.edu/~hopsonro/2006/10/01/internet-explorer-fails-to-explore-internet/</A>
<A HREF="http://www.somebits.com/weblog/tech/modgzipMSIECache.html">http://www.somebits.com/weblog/tech/modgzipMSIECache.html</A>

So, there you have it. mod_rewrite, mod_gzip, django, and AOL are
pretty popular. And IE is kinda broken.

&gt;<i> &gt;
</I>&gt;<i> &gt; Etag and Content-Location could be used.
</I>&gt;<i>
</I>&gt;<i> I think they're unnecessary given the above proposal.
</I>
They're unnecessary if you restrict the proposal to read-only content.
And I suppose that makes sense for negotiated resources. So I agree
that we need to invent a new header to compensate for the fact
authentication is brokenly included in with the cookies in almost all
HTTP apps, and route around a certain browser.

Par for the course in HTTP conformance, I guess. :/

-- 

Robert Sayre

&quot;I would have written a shorter letter, but I did not have the time.&quot;

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054393.html">[whatwg] Gears caching at identical URIs (was: Gears design	goals)
</A></li>
	<LI>Next message: <A HREF="054396.html">[whatwg] Gears caching at identical URIs (was: Gears design	goals)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54395">[ date ]</a>
              <a href="thread.html#54395">[ thread ]</a>
              <a href="subject.html#54395">[ subject ]</a>
              <a href="author.html#54395">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
