<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Gears caching at identical URIs (was: Gears design	goals)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Gears%20caching%20at%20identical%20URIs%20%28was%3A%20Gears%20design%0A%09goals%29&In-Reply-To=%3C11e306600707020328o41dc7aabxc2d8980075fe8301%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054387.html">
   <LINK REL="Next"  HREF="054391.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Gears caching at identical URIs (was: Gears design	goals)</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Gears%20caching%20at%20identical%20URIs%20%28was%3A%20Gears%20design%0A%09goals%29&In-Reply-To=%3C11e306600707020328o41dc7aabxc2d8980075fe8301%40mail.gmail.com%3E"
       TITLE="[whatwg] Gears caching at identical URIs (was: Gears design	goals)">robert at ocallahan.org
       </A><BR>
    <I>Mon Jul  2 03:28:24 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="054387.html">[whatwg] Gears caching at identical URIs (was: Gears design goals)
</A></li>
        <LI>Next message: <A HREF="054391.html">[whatwg] Gears caching at identical URIs (was: Gears design	goals)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54389">[ date ]</a>
              <a href="thread.html#54389">[ thread ]</a>
              <a href="subject.html#54389">[ subject ]</a>
              <a href="author.html#54389">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 7/2/07, Robert Sayre &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">sayrer at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Basically, I think offline caches should respect the Vary: HTTP
</I>&gt;<i> header, and maybe more. Applications will need to do this right
</I>&gt;<i> anyway, if they want to function correctly in the presence of ISP HTTP
</I>&gt;<i> proxies (AOL, TMobile, etc),  corporate firewalls, and server-side
</I>&gt;<i> stuff like Citrix Netscalers.
</I>

No they don't. For example, they can just use Cache-Control:private to
bypass those caches. That's what GMail does.

To me, it looks like the caching mechanisms in HTTP 1.1 can satisfy
&gt;<i> this requirement. I think Rob is correct that it adds substantial
</I>&gt;<i> complexity, but it is already required.
</I>

In what way is it already required? Browsers are not required to store
multiple resources for the same URI. We don't; we just use Vary to help
(in)validate the resource we've got.

So how would you use Vary here, anyway? Serve pages with &quot;Vary: Cookie&quot;? I
guess that could work, but app authors would have to pass no cookies except
for the session cookie. That could be difficult.

Using an HTTP response header to specify how a URI can map to multiple
resources is a good idea, though. It avoids ambiguities and offers a simple
default. If we have to have that feature, this seems like a good way to do
it.

Rob
-- 
&quot;Two men owed money to a certain moneylender. One owed him five hundred
denarii, and the other fifty. Neither of them had the money to pay him back,
so he canceled the debts of both. Now which of them will love him more?&quot;
Simon replied, &quot;I suppose the one who had the bigger debt canceled.&quot; &quot;You
have judged correctly,&quot; Jesus said. [Luke 7:41-43]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20070702/8cd941f3/attachment-0001.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20070702/8cd941f3/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054387.html">[whatwg] Gears caching at identical URIs (was: Gears design goals)
</A></li>
	<LI>Next message: <A HREF="054391.html">[whatwg] Gears caching at identical URIs (was: Gears design	goals)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54389">[ date ]</a>
              <a href="thread.html#54389">[ thread ]</a>
              <a href="subject.html#54389">[ subject ]</a>
              <a href="author.html#54389">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
