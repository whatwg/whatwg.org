<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Gears caching at identical URIs (was: Gears design	goals)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Gears%20caching%20at%20identical%20URIs%20%28was%3A%20Gears%20design%0A%09goals%29&In-Reply-To=%3C68fba5c50707020642r78efae1cw695065985a6c072e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054389.html">
   <LINK REL="Next"  HREF="054393.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Gears caching at identical URIs (was: Gears design	goals)</H1>
<!--htdig_noindex-->
    <B>Robert Sayre</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Gears%20caching%20at%20identical%20URIs%20%28was%3A%20Gears%20design%0A%09goals%29&In-Reply-To=%3C68fba5c50707020642r78efae1cw695065985a6c072e%40mail.gmail.com%3E"
       TITLE="[whatwg] Gears caching at identical URIs (was: Gears design	goals)">sayrer at gmail.com
       </A><BR>
    <I>Mon Jul  2 06:42:24 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="054389.html">[whatwg] Gears caching at identical URIs (was: Gears design	goals)
</A></li>
        <LI>Next message: <A HREF="054393.html">[whatwg] Gears caching at identical URIs (was: Gears design	goals)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54391">[ date ]</a>
              <a href="thread.html#54391">[ thread ]</a>
              <a href="subject.html#54391">[ subject ]</a>
              <a href="author.html#54391">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 7/2/07, Robert O'Callahan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt; wrote:
&gt;<i> On 7/2/07, Robert Sayre &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">sayrer at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Basically, I think offline caches should respect the Vary: HTTP
</I>&gt;<i> &gt; header, and maybe more. Applications will need to do this right
</I>&gt;<i> &gt; anyway, if they want to function correctly in the presence of ISP HTTP
</I>&gt;<i> &gt; proxies (AOL, TMobile, etc),  corporate firewalls, and server-side
</I>&gt;<i> &gt; stuff like Citrix Netscalers.
</I>&gt;<i>
</I>&gt;<i> No they don't. For example, they can just use Cache-Control:private to
</I>&gt;<i> bypass those caches. That's what GMail does.
</I>
Yes, I should have mentioned that I don't think an Offline API will be
able to handle Cache-Control:private stuff better than other proxies
unless it reinvents other HTTP caching mechanisms.

&gt;<i>
</I>&gt;<i> &gt; To me, it looks like the caching mechanisms in HTTP 1.1 can satisfy
</I>&gt;<i> &gt; this requirement. I think Rob is correct that it adds substantial
</I>&gt;<i> &gt; complexity, but it is already required.
</I>&gt;<i>
</I>&gt;<i> In what way is it already required? Browsers are not required to store
</I>&gt;<i> multiple resources for the same URI. We don't; we just use Vary to help
</I>&gt;<i> (in)validate the resource we've got.
</I>
I mean that it is required for web application authors that want to
scale cheaply and have personalized pages. I don't think you agree
with me.

&gt;<i>
</I>&gt;<i> So how would you use Vary here, anyway? Serve pages with &quot;Vary: Cookie&quot;? I
</I>&gt;<i> guess that could work, but app authors would have to pass no cookies except
</I>&gt;<i> for the session cookie. That could be difficult.
</I>
Or you could standardize the cookie value in some way.

&gt;<i> Using an HTTP response header to specify how a URI can map to multiple
</I>&gt;<i> resources is a good idea, though. It avoids ambiguities and offers a simple
</I>&gt;<i> default. If we have to have that feature, this seems like a good way to do
</I>&gt;<i> it.
</I>
Etag and Content-Location could be used.

&lt;<A HREF="http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.6">http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.6</A>&gt;

-- 

Robert Sayre

&quot;I would have written a shorter letter, but I did not have the time.&quot;

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054389.html">[whatwg] Gears caching at identical URIs (was: Gears design	goals)
</A></li>
	<LI>Next message: <A HREF="054393.html">[whatwg] Gears caching at identical URIs (was: Gears design	goals)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54391">[ date ]</a>
              <a href="thread.html#54391">[ thread ]</a>
              <a href="subject.html#54391">[ subject ]</a>
              <a href="author.html#54391">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
