<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Script preloading
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Script%20preloading&In-Reply-To=%3CCE034A2D.6B58E%25bruno%40hexanet.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082245.html">
   <LINK REL="Next"  HREF="082241.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Script preloading</H1>
<!--htdig_noindex-->
    <B>Bruno Racineux</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Script%20preloading&In-Reply-To=%3CCE034A2D.6B58E%25bruno%40hexanet.net%3E"
       TITLE="[whatwg] Script preloading">bruno at hexanet.net
       </A><BR>
    <I>Wed Jul 10 17:29:28 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082245.html">[whatwg] Script preloading
</A></li>
        <LI>Next message: <A HREF="082241.html">[whatwg] Script preloading
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82264">[ date ]</a>
              <a href="thread.html#82264">[ thread ]</a>
              <a href="subject.html#82264">[ subject ]</a>
              <a href="author.html#82264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 7/10/13 4:20 AM, &quot;Jake Archibald&quot; &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jaffathecake at gmail.com</A>&gt; wrote:

&gt;<i>On 10 July 2013 11:31, Bruno Racineux &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bruno at hexanet.net</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>Anyway, as per your previous email I think we mostly agree that solution
</I>&gt;&gt;<i>#1 is not very practical (or infeasible per your word)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Given the suggestions I made to #1 in
</I>&gt;<i><A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2013-July/039968.html,">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2013-July/039968.html,</A>
</I>&gt;<i>do you still think it's impractical (and why)?
</I>I think the very idea of having the concept of 'dependency' attributes and
relying or asking to the browser to handle it through markup is misguided.

This is somehow throwing the entire (or a portion of) dependency
information of your platform, asking the browser to deal with it.
I can already imagine bloated pages with an entire set of script markup,
bigger than that of the page itself. That's not very good for performance.

I think Kyle has given more than enough substantiated arguments in:
<A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2013-July/039981.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2013-July/039981.html</A>
not to have me repeat them.




&gt;<i>
</I>&gt;&gt;<i>I think that preloading without executing is really what we should are
</I>&gt;&gt;<i>
</I>&gt;<i>after.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>*hits usecase button* Why would you want to do that? Are those cases
</I>&gt;<i>already (better) solved by link[rel=subresource] and dynamic script
</I>&gt;<i>insertion?
</I>Again I'll differ to Kyle's extensive list for the use case.
Modular approach, widgets, etc.

As for link [rel=subresource] I am slightly unclear at to its full purpose
really.
Unless I am mistaken, (and if so correct me) it's a priority-prefetch. No
a preload.

While slightly useful. It doesn't really address, the &quot;pre-load that
script and have it waiting, ready at a moment's notice to say &quot;it's ok to
execute, do it now! now! now!&quot;. :)


An alternative perhaps ignorant suggestion:


Wouldn't a link[rel=preload] sending cookies would be simpler tool for
basic script-preloading? In that I could dynamically insert a list of
subresources to have them ready. Leaving the loading part to markup. And
the request part to javascript.

In order to address caching caveats (or possible lack of caching headers)
that Kyle mentioned. rel=preload would guarantee a one time cache as well
a pre-parsing the resource according, to its link 'type' if provided (i.e.
css, js, etc).

Now wether a HXR request from there has a cross-browser hurdle when the
script is already in the cache is something I am not familiar with...

And I am unfortunately very confused on the link[prerender] spec for
scripts.



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082245.html">[whatwg] Script preloading
</A></li>
	<LI>Next message: <A HREF="082241.html">[whatwg] Script preloading
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82264">[ date ]</a>
              <a href="thread.html#82264">[ thread ]</a>
              <a href="subject.html#82264">[ subject ]</a>
              <a href="author.html#82264">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
