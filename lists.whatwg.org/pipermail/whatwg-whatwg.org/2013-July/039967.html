<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] URL resolution of fragment urls in html5 webapps
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20URL%20resolution%20of%20fragment%20urls%20in%20html5%20webapps&In-Reply-To=%3CCAO9zZYMo79Dqn-EK8S0j-M9sNJeFEGQg_XgP6%2BfsszDmq5oDMQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082459.html">
   <LINK REL="Next"  HREF="082251.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] URL resolution of fragment urls in html5 webapps</H1>
<!--htdig_noindex-->
    <B>Igor Minar</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20URL%20resolution%20of%20fragment%20urls%20in%20html5%20webapps&In-Reply-To=%3CCAO9zZYMo79Dqn-EK8S0j-M9sNJeFEGQg_XgP6%2BfsszDmq5oDMQ%40mail.gmail.com%3E"
       TITLE="[whatwg] URL resolution of fragment urls in html5 webapps">iminar at google.com
       </A><BR>
    <I>Tue Jul  9 23:11:48 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082459.html">[whatwg] Script preloading
</A></li>
        <LI>Next message: <A HREF="082251.html">[whatwg] URL resolution of fragment urls in html5 webapps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39967">[ date ]</a>
              <a href="thread.html#39967">[ thread ]</a>
              <a href="subject.html#39967">[ subject ]</a>
              <a href="author.html#39967">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>The current url resolution as
described&lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/#resolving-urls">http://www.whatwg.org/specs/web-apps/current-work/#resolving-urls</A>&gt;in
the spec results in some unhelpful behavior when the following
combination of web technologies are used in a client-side web app:

- a combination of path-relative urls (&lt;a
href=&quot;relative/url/to/somewhere&quot;&gt;link&lt;/a&gt;) and fragment/anchor urls (&lt;a
href=&quot;#anchorUrl&quot;&gt;link&lt;/a&gt;)
- history.pushState - used for deep-linking
- base[href] - used to properly resolve the relative urls to the root of
the application in various deployment environments


Once history.pushState is used to change location.href, the path-relative
urls resolve correctly as expected against the base[href], but anchor urls
that are only useful if resolved against the current document.baseURI also
unsurprisingly resolve against the base[href]. This behavior makes them
unsuitable for this kind of applications which is a big loss in developers
toolbox and in fact breaks existing web features like svg that depend on
anchor urls to reference nodes in the current document.

Does anyone have thoughts on how one could build a client-side app that can
be deployed in various contexts without any special server-side templating
or build-time pre-processing?

The base element looks like a perfect solution for this, if only it didn't
break anchor urls.
</PRE>
















































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082459.html">[whatwg] Script preloading
</A></li>
	<LI>Next message: <A HREF="082251.html">[whatwg] URL resolution of fragment urls in html5 webapps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39967">[ date ]</a>
              <a href="thread.html#39967">[ thread ]</a>
              <a href="subject.html#39967">[ subject ]</a>
              <a href="author.html#39967">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
