<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal: createImageBitmap should return a &quot;Promise&quot; instead of using a callback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20createImageBitmap%20should%20return%20a%20%22Promise%22%0A%20instead%20of%20using%20a%20callback&In-Reply-To=%3Calpine.DEB.2.00.1307180032090.27623%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082408.html">
   <LINK REL="Next"  HREF="082405.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal: createImageBitmap should return a &quot;Promise&quot; instead of using a callback</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20createImageBitmap%20should%20return%20a%20%22Promise%22%0A%20instead%20of%20using%20a%20callback&In-Reply-To=%3Calpine.DEB.2.00.1307180032090.27623%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Proposal: createImageBitmap should return a &quot;Promise&quot; instead of using a callback">ian at hixie.ch
       </A><BR>
    <I>Wed Jul 17 17:39:26 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082408.html">[whatwg] Proposal: createImageBitmap should return a &quot;Promise&quot; instead of using a callback
</A></li>
        <LI>Next message: <A HREF="082405.html">[whatwg] Proposal: createImageBitmap should return a &quot;Promise&quot; instead of using a callback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82401">[ date ]</a>
              <a href="thread.html#82401">[ thread ]</a>
              <a href="subject.html#82401">[ subject ]</a>
              <a href="author.html#82401">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 18 Jul 2013, Silvia Pfeiffer wrote:
&gt;<i> 
</I>&gt;<i> We have the same issues with WebRTC, which already has a callback based 
</I>&gt;<i> API, but there is a suggestion to replace/augment with a Promise based 
</I>&gt;<i> API, so I just wanted to understand the motivation, potential 
</I>&gt;<i> complications and implications.
</I>
WebRTC's constructor is synchronous, no? There are callbacks, sure; there 
are callbacks all over the place in the Web platform. Promises themselves 
use callbacks. I don't understand the relevance to createImageBitmap().


&gt;<i> One issue is the change in API paradigm that we use. People have got 
</I>&gt;<i> used to wrapping the callback API with a Promise style API when they 
</I>&gt;<i> need it. Now they have to do both: wrap the browser API for a Promise 
</I>&gt;<i> style API and wrap it for a callback style API.
</I>
You don't have to wrap it for a callback style API. It _is_ a callback- 
style API. The only difference is the order of arguments.

Instead of:

   foo(success, failure);

...you write:

   foo().then(success, failure);

It's hardly cumbersome.


&gt;<i> It may well be that Promises are the right way to go for 
</I>&gt;<i> createImageBitmap(), but we are blazing a new trail here and need to be 
</I>&gt;<i> careful about the implications.
</I>
As far as I can tell, the only implications are that you can later use the 
Promise utility methods to combine things together, so you don't have to 
manage the callbacks yourself. This seems like a win.


&gt;<i> For example, here is an interesting discussion thread with a statement 
</I>&gt;<i> that node.js originally used Promises, but moved away from them for 
</I>&gt;<i> several reasons, not least because they created a 20% performance 
</I>&gt;<i> degradation with v8: 
</I>&gt;<i> <A HREF="https://github.com/gladiusjs/gladius-core/issues/127#issuecomment-5212272">https://github.com/gladiusjs/gladius-core/issues/127#issuecomment-5212272</A> 
</I>
I think you're massively misreading that parenthetical.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082408.html">[whatwg] Proposal: createImageBitmap should return a &quot;Promise&quot; instead of using a callback
</A></li>
	<LI>Next message: <A HREF="082405.html">[whatwg] Proposal: createImageBitmap should return a &quot;Promise&quot; instead of using a callback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82401">[ date ]</a>
              <a href="thread.html#82401">[ thread ]</a>
              <a href="subject.html#82401">[ subject ]</a>
              <a href="author.html#82401">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
