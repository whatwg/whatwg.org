<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20Adding%20methods%20like%20getElementById%20and%0A%20getElementsByTagName%20to%20DocumentFragments&In-Reply-To=%3CCALrbKZgrrmQKZZAbwUXaxovQhG0q%3DSyOJhoMsmYPc6W5meSXsA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082503.html">
   <LINK REL="Next"  HREF="082510.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments</H1>
<!--htdig_noindex-->
    <B>James Greene</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20Adding%20methods%20like%20getElementById%20and%0A%20getElementsByTagName%20to%20DocumentFragments&In-Reply-To=%3CCALrbKZgrrmQKZZAbwUXaxovQhG0q%3DSyOJhoMsmYPc6W5meSXsA%40mail.gmail.com%3E"
       TITLE="[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments">james.m.greene at gmail.com
       </A><BR>
    <I>Wed Jul 24 17:51:57 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082503.html">[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments
</A></li>
        <LI>Next message: <A HREF="082510.html">[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82505">[ date ]</a>
              <a href="thread.html#82505">[ thread ]</a>
              <a href="subject.html#82505">[ subject ]</a>
              <a href="author.html#82505">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>While I'm not familiar with the spec for DocumentFragments, I've always
consider them to be more equivalent to a detached element node than a
document node.

Keeping that interpretation in mind, adding these methods wouldn't make
sense to me personally.  Unless my understanding is completely off-base and
fragments *are* supposed to be most similar to document nodes, I'd agree
with the earlier suggestion that those who want this functionality should
just add it themselves via JS.


Sincerely,
    James Greene



On Wed, Jul 24, 2013 at 7:39 PM, Ryosuke Niwa &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">rniwa at apple.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> On Jun 28, 2013, at 5:32 PM, Zirak A &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">zirak at mail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; But that's a bit looking at it backwards. Selectors are supposed to be an
</I>&gt;<i> &gt; abstraction over these methods, not the other way around.
</I>&gt;<i>
</I>&gt;<i> No.
</I>&gt;<i>
</I>&gt;<i> &gt; The point here is that document fragments are documents - so they should
</I>&gt;<i> have a consistent API.
</I>&gt;<i>
</I>&gt;<i> No.
</I>&gt;<i>
</I>&gt;<i> &gt; Adding this isn't about &quot;backwards compatibility&quot; or anything of the
</I>&gt;<i> sort. It's
</I>&gt;<i> &gt; adding methods that people already use, because as said, not everyone
</I>&gt;<i> uses
</I>&gt;<i> &gt; selectors (and not just because of browser-compat).
</I>&gt;<i>
</I>&gt;<i> getElementById is okay but we want to discourage authors from using
</I>&gt;<i> methods like getElementsByTagName and getElementsByClassName that return
</I>&gt;<i> live NodeList objects. They incur a lot of implementation cost in WebKit
</I>&gt;<i> and hurts the DOM performance. e.g. whenever there is a LiveNode list
</I>&gt;<i> somewhere in a document, WebKit walks up all ancestors of an inserted or
</I>&gt;<i> removed element to clear their live node lists' caches.
</I>&gt;<i>
</I>&gt;<i> On Jun 29, 2013, at 3:47 PM, Glenn Maynard &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">glenn at zewt.org</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; On Sat, Jun 29, 2013 at 4:55 PM, Tim Streater &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">tim at clothears.org.uk</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; But what I'm doing, I'm not doing for CSS purposes. I'm trying to find a
</I>&gt;<i> &gt;&gt; particular row, by id, in order to modify the contents of cells in that
</I>&gt;<i> &gt;&gt; row. I find it perverse to be using a style-related API call to do that.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; CSS uses selectors, not the other way around.  querySelector() has
</I>&gt;<i> nothing
</I>&gt;<i> &gt; to do with styles.
</I>&gt;<i>
</I>&gt;<i> Indeed.  Note that querySelector implementations in WebKit and Blink
</I>&gt;<i> optimize #foo, .foo, etc... so that they're equally if not faster than
</I>&gt;<i> getElementsById, getElementsByClassName, etc...
</I>&gt;<i>
</I>&gt;<i> - R. Niwa
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082503.html">[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments
</A></li>
	<LI>Next message: <A HREF="082510.html">[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82505">[ date ]</a>
              <a href="thread.html#82505">[ thread ]</a>
              <a href="subject.html#82505">[ subject ]</a>
              <a href="author.html#82505">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
