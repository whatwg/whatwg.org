<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Script preloading
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Script%20preloading&In-Reply-To=%3Cop.wz0moznate2ec8%40aimac%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082352.html">
   <LINK REL="Next"  HREF="082235.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Script preloading</H1>
<!--htdig_noindex-->
    <B>Kornel Lesi&#324;ski</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Script%20preloading&In-Reply-To=%3Cop.wz0moznate2ec8%40aimac%3E"
       TITLE="[whatwg] Script preloading">kornel at geekhood.net
       </A><BR>
    <I>Wed Jul 10 09:56:49 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082352.html">[whatwg] Script preloading: Browser Pre-compiled Scripts Cache?
</A></li>
        <LI>Next message: <A HREF="082235.html">[whatwg] Script preloading
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82249">[ date ]</a>
              <a href="thread.html#82249">[ thread ]</a>
              <a href="subject.html#82249">[ subject ]</a>
              <a href="author.html#82249">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 10 Jul 2013 16:39:42 +0100, Kyle Simpson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">getify at gmail.com</A>&gt; wrote:

&gt;<i> I personally don't care about scripts being discoverable by pre-parsers.
</I>[...]
&gt;<i> For instance, I've added like &lt;link rel=prefetch&gt; annotations for my  
</I>&gt;<i> scripts into the head of my document, and then done my normal  
</I>&gt;<i> script-based script loading as usual, and benchmarked if them being in  
</I>&gt;<i> the markup somehow magically sped up the page. I saw no appreciable  
</I>&gt;<i> increase in average page load speed in my testing.
</I>
The result you've seen is expected, as pre-parser and link prefetching are  
different mechanisms.

Prefetching of resources from rel=&quot;prefetch&quot; is only done after page  
completely finishes loading, so it won't affect loading time of page that  
contains it (it's for future navigation, like &quot;step1.html&quot; containing  
prefetch for &quot;step2.html&quot;).

There's rel=&quot;subresource&quot; that's for immediate prefetching in the way  
you'd expect. You should see some improvement with it in cases where  
script loader makes it impossible for browser to start fetching scripts  
before the script loader is run:
<A HREF="http://www.chromium.org/spdy/link-headers-and-server-hint/link-rel-subresource">http://www.chromium.org/spdy/link-headers-and-server-hint/link-rel-subresource</A>

HTML pre-parser is basically equivalent of having rel=&quot;subresource&quot; for  
all &lt;script&gt; elements.

-- 
regards, Kornel

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082352.html">[whatwg] Script preloading: Browser Pre-compiled Scripts Cache?
</A></li>
	<LI>Next message: <A HREF="082235.html">[whatwg] Script preloading
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82249">[ date ]</a>
              <a href="thread.html#82249">[ thread ]</a>
              <a href="subject.html#82249">[ subject ]</a>
              <a href="author.html#82249">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
