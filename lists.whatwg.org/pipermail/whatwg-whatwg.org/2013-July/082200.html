<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Another issue in 12.2.5.5 parsing tokens in foreign content
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Another%20issue%20in%2012.2.5.5%20parsing%20tokens%20in%20foreign%0A%20content&In-Reply-To=%3C51D27B93.6090508%40yeslogic.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039919.html">
   <LINK REL="Next"  HREF="082206.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Another issue in 12.2.5.5 parsing tokens in foreign content</H1>
<!--htdig_noindex-->
    <B>Michael Day</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Another%20issue%20in%2012.2.5.5%20parsing%20tokens%20in%20foreign%0A%20content&In-Reply-To=%3C51D27B93.6090508%40yeslogic.com%3E"
       TITLE="[whatwg] Another issue in 12.2.5.5 parsing tokens in foreign content">mikeday at yeslogic.com
       </A><BR>
    <I>Tue Jul  2 00:04:51 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="039919.html">[whatwg] Another issue in 12.2.5.5 parsing tokens in foreign content
</A></li>
        <LI>Next message: <A HREF="082206.html">[whatwg] Another issue in 12.2.5.5 parsing tokens in foreign content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82200">[ date ]</a>
              <a href="thread.html#82200">[ thread ]</a>
              <a href="subject.html#82200">[ subject ]</a>
              <a href="author.html#82200">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Ian,

&gt;<i> I ended up removing this from the spec for other reasons, so this should
</I>&gt;<i> be resolved now. Let me know if it's not.
</I>&gt;<i>
</I>&gt;<i> (No, I don't know what I had originally intended.)
</I>
I don't think the new spec is correct. The question is what happens if 
we are tokenizing some foreign content, and we see an HTML start tag.

In the normal case, we pop off all the foreign elements until we get 
back to the HTML namespace, then reprocess the token.

In the fragment case, the context element may be a foreign element, so 
there was the wrinkle of having to handle that appropriately when we 
have this fake &quot;root&quot; &lt;html&gt; element that makes everything confusing.

The new text reads:

&quot;If the parser was originally created for the HTML fragment parsing 
algorithm, then act as described in the &quot;any other start tag&quot; entry 
below. (fragment case)&quot;

This always just adds the HTML element in place inside the foreign 
content, even if the fragment context element *is* a HTML element!

This can't be right, as it means parsing document.body.innerHTML will 
behave totally differently to parsing &lt;html&gt;&lt;body&gt;, for no reason.

Looking back a couple of years, this section of the spec seems to be 
drifting in a random walk away from reality. We can study this further 
and try suggesting some text based on what we have implemented so far.

Best regards,

Michael

-- 
Prince: Print with CSS!
<A HREF="http://www.princexml.com">http://www.princexml.com</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039919.html">[whatwg] Another issue in 12.2.5.5 parsing tokens in foreign content
</A></li>
	<LI>Next message: <A HREF="082206.html">[whatwg] Another issue in 12.2.5.5 parsing tokens in foreign content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82200">[ date ]</a>
              <a href="thread.html#82200">[ thread ]</a>
              <a href="subject.html#82200">[ subject ]</a>
              <a href="author.html#82200">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
