<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Script preloading, optional dependencies
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Script%20preloading%2C%20optional%20dependencies&In-Reply-To=%3Cop.wz7s7himte2ec8%40aimac%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082322.html">
   <LINK REL="Next"  HREF="082433.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Script preloading, optional dependencies</H1>
<!--htdig_noindex-->
    <B>Kornel Lesi&#324;ski</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Script%20preloading%2C%20optional%20dependencies&In-Reply-To=%3Cop.wz7s7himte2ec8%40aimac%3E"
       TITLE="[whatwg] Script preloading, optional dependencies">kornel at geekhood.net
       </A><BR>
    <I>Sun Jul 14 07:00:43 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082322.html">[whatwg] Script preloading
</A></li>
        <LI>Next message: <A HREF="082433.html">[whatwg] Script preloading
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82340">[ date ]</a>
              <a href="thread.html#82340">[ thread ]</a>
              <a href="subject.html#82340">[ subject ]</a>
              <a href="author.html#82340">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 12 Jul 2013 21:20:57 +0100, Kyle Simpson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">getify at gmail.com</A>&gt; wrote:

&gt;<i> So, just to clarify, `&lt;script dependencies=&#8230;&gt;` waiting on some other  
</I>&gt;<i> &lt;script&gt; tag is ONLY waiting on that script tag loading to have some  
</I>&gt;<i> sort of positive network result, whether that be a 2xx, 3xx, 4xx, or  
</I>&gt;<i> 5xx, and it cares not whether the script in question actually loaded,  
</I>&gt;<i> nor whether it fired its `onerror` event? Do I have that correct?
</I>
What should happen is an interesting question.

If execution continued when dependency fails to load/parse, then later  
scripts could try to recover/use fallback/run with reduced functionality  
(e.g. if jQuery plugin for fancy animations fails to load the application  
can disable fancy animations and run anyway).

OTOH aborting execution of the rest of the dependency chain is probably  
what most developers expect, and it often makes sense as most scripts  
without dependencies met will fail.


So maybe a concept of optional dependency would be useful?

e.g. error handler could signal somehow that execution should continue:

     &lt;script id=&quot;fancy-animations&quot; src=&quot;//flaky.cdn/js&quot; onerror=&quot;return  
false;&quot; /&gt;

or there could be a microsyntax in dependencies:

     &lt;script dependencies=&quot;fancy-animations? required-stuff&quot; /&gt;

or:

     &lt;script id=&quot;fancy-animations-cdn&quot; src=&quot;//flaky.cdn/js&quot; /&gt;
     &lt;script id=&quot;fancy-animations-local&quot; src=&quot;/fancy-animations-copy.js&quot; /&gt;
     &lt;script id=&quot;nothing&quot; /&gt;
     &lt;script dependencies=&quot;(fancy-animations-cdn or fancy-animations-local  
or nothing) required-stuff&quot; /&gt;

-- 
regards, Kornel

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082322.html">[whatwg] Script preloading
</A></li>
	<LI>Next message: <A HREF="082433.html">[whatwg] Script preloading
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82340">[ date ]</a>
              <a href="thread.html#82340">[ thread ]</a>
              <a href="subject.html#82340">[ subject ]</a>
              <a href="author.html#82340">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
