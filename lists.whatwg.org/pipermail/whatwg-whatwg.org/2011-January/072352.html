<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] New method for obtaining a CSS property
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20New%20method%20for%20obtaining%20a%20CSS%20property&In-Reply-To=%3C4D413F81.6060606%40yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072350.html">
   <LINK REL="Next"  HREF="072354.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] New method for obtaining a CSS property</H1>
<!--htdig_noindex-->
    <B>Brett Zamir</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20New%20method%20for%20obtaining%20a%20CSS%20property&In-Reply-To=%3C4D413F81.6060606%40yahoo.com%3E"
       TITLE="[whatwg] New method for obtaining a CSS property">brettz9 at yahoo.com
       </A><BR>
    <I>Thu Jan 27 01:48:49 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072350.html">[whatwg] New method for obtaining a CSS property
</A></li>
        <LI>Next message: <A HREF="072354.html">[whatwg] New method for obtaining a CSS property
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72352">[ date ]</a>
              <a href="thread.html#72352">[ thread ]</a>
              <a href="subject.html#72352">[ subject ]</a>
              <a href="author.html#72352">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 1/27/2011 3:59 PM, Tab Atkins Jr. wrote:
&gt;<i> On Wed, Jan 26, 2011 at 10:23 PM, Brett Zamir&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">brettz9 at yahoo.com</A>&gt;  wrote:
</I>&gt;&gt;<i> For example, we want the designer guy to be able to freely change the colors
</I>&gt;&gt;<i> in the stylesheet for indicating say a successful transition (green), an
</I>&gt;&gt;<i> error (red), or waiting (yellow) for an Ajax request. The JavaScript girl
</I>&gt;&gt;<i> does not want to have to change her code every time the designer has a new
</I>&gt;&gt;<i> whim about making the error color a darker or lighter red, and the designer
</I>&gt;&gt;<i> is afraid of getting balled out for altering her code improperly. So the
</I>&gt;&gt;<i> JavaScript girl queries the &quot;.error&quot; class for the &quot;background-color&quot;
</I>&gt;&gt;<i> property to get whatever the current error color is and then indicates to an
</I>&gt;&gt;<i> animation script that &quot;darkred&quot; should be the final background color of the
</I>&gt;&gt;<i> button after the transition. The retrieval might look something like:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> document.getCSSPropertyValue(&quot;.error&quot;, &quot;background-color&quot;); // 'darkred'
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> While the JavaScript would choose the intermediate RGB steps to get there in
</I>&gt;&gt;<i> the fashion desired by the developer.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Yes, there are CSS transitions, or maybe SVG, but this is for cases where
</I>&gt;&gt;<i> you want control tied to JavaScript.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Or, for canvas specifically. You draw an animated &quot;Hello&quot; and want the
</I>&gt;&gt;<i> designer to be able to choose the fill color. You want to be able to query
</I>&gt;&gt;<i> the stylesheet easily to get the styling info.
</I>&gt;<i> Given a selector, multiple declaration blocks could match, and within
</I>&gt;<i> a single declaration block, multiple copies of the property can match.
</I>&gt;<i>   You could get any number of values back from a call like that, and
</I>&gt;<i> there's no guarantee that the value you get is worth anything, because
</I>&gt;<i> a property from some other declaration block with a different selector
</I>&gt;<i> could be winning instead.
</I>I was thinking of it grabbing the &quot;winning&quot; property for the whole 
document, i.e., the one which would be applicable without knowing more 
contextual information. So, if the selector specified were &quot;.error&quot;, it 
wouldn't get &quot;div.error&quot;, but it could be defined for example to get the 
last &quot;.error&quot; and property (or perhaps giving precedence to !important). 
Whatever the rules, it would be the team's responsibility to ensure it 
was unique enough to provide the right value (as it is within CSS itself 
via cascading).
&gt;<i> It seems that your problem is that you want a way to declare a certain
</I>&gt;<i> value to be reused in both CSS and javascript, so that you can change
</I>&gt;<i> it in either realm without having to care about it in the other.
</I>&gt;<i>
</I>&gt;<i> This can be solved cleanly and easily with CSS Variables.  The CSS
</I>&gt;<i> Working Group has tried several times to agree on how such a thing
</I>&gt;<i> should work, so far without success, but Chrome is trying again now.
</I>&gt;<i> Check out my blog post on the subject:
</I>&gt;<i> &lt;<A HREF="http://www.xanthir.com/blog/b49w0">http://www.xanthir.com/blog/b49w0</A>&gt;
</I>I was only proposing a read-only system, but CSS Variables as you 
describe is indeed an excellent and attractively comprehensive and clean 
solution (and also address canvas requirements more smoothly, since 
variables could be defined with values which did not even map to a real 
CSS property, such as shadow color, as long as variables were made 
available to JavaScript whether or not they were actually used in the CSS).

Still, also having the ability to easily get the value which &quot;wins out&quot; 
would have the one advantage of working without needing to change 
existing code to use variables.

thanks,
Brett


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072350.html">[whatwg] New method for obtaining a CSS property
</A></li>
	<LI>Next message: <A HREF="072354.html">[whatwg] New method for obtaining a CSS property
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72352">[ date ]</a>
              <a href="thread.html#72352">[ thread ]</a>
              <a href="subject.html#72352">[ subject ]</a>
              <a href="author.html#72352">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
