<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Structured clones of Files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Structured%20clones%20of%20Files&In-Reply-To=%3CAANLkTikS-z735vbLj8Lx07kkOv0fw8BSCk%2B0-HvY61oV%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072117.html">
   <LINK REL="Next"  HREF="072407.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Structured clones of Files</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Structured%20clones%20of%20Files&In-Reply-To=%3CAANLkTikS-z735vbLj8Lx07kkOv0fw8BSCk%2B0-HvY61oV%40mail.gmail.com%3E"
       TITLE="[whatwg] Structured clones of Files">glenn at zewt.org
       </A><BR>
    <I>Wed Jan 12 16:57:12 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072117.html">[whatwg] Control over selection direction
</A></li>
        <LI>Next message: <A HREF="072407.html">[whatwg] Structured clones of Files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29821">[ date ]</a>
              <a href="thread.html#29821">[ thread ]</a>
              <a href="subject.html#29821">[ subject ]</a>
              <a href="author.html#29821">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Does the &quot;same underlying data&quot; of a structured clone of a File refer
to a reference to the file (eg. the path and filename, which is the
real underlying data of a File object), or the contents of the file?

As it's used by web worker messaging, it's obviously the pathname.
However, HTML Storage (in theory, anyway) and IndexedDB also use
structured clones, and I'm guessing you're not meant to be able to
store a reference to a File (or FileList) persistently and reopen it
later, which suggests that the actual contents of the file should be
stored.

Personally, I think it's both acceptable from a security perspective
and incredibly useful to allow the user to grant access to a file
(or--more importantly--a directory, eventually) just once, and then
access it from then on without the user having to manually grant
access each and every time he uses the application, perhaps requiring
one-time user permission at some point to do so.  Storing a reference
in an IndexedDB would allow that.  But from what I recall, that's not
currently meant to be allowed.

-- 
Glenn Maynard
</PRE>













































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072117.html">[whatwg] Control over selection direction
</A></li>
	<LI>Next message: <A HREF="072407.html">[whatwg] Structured clones of Files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29821">[ date ]</a>
              <a href="thread.html#29821">[ thread ]</a>
              <a href="subject.html#29821">[ subject ]</a>
              <a href="author.html#29821">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
