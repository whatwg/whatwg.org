<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTML5 video: frame accuracy / SMPTE
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML5%20video%3A%20frame%20accuracy%20/%20SMPTE&In-Reply-To=%3CAANLkTimNjmvCRmUo329ghk0u3dP-UmwOdV3jskPoo-qm%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030037.html">
   <LINK REL="Next"  HREF="030046.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTML5 video: frame accuracy / SMPTE</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML5%20video%3A%20frame%20accuracy%20/%20SMPTE&In-Reply-To=%3CAANLkTimNjmvCRmUo329ghk0u3dP-UmwOdV3jskPoo-qm%40mail.gmail.com%3E"
       TITLE="[whatwg] HTML5 video: frame accuracy / SMPTE">robert at ocallahan.org
       </A><BR>
    <I>Mon Jan 24 12:10:21 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030037.html">[whatwg] HTML5 video: frame accuracy / SMPTE
</A></li>
        <LI>Next message: <A HREF="030046.html">[whatwg] HTML5 video: frame accuracy / SMPTE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30045">[ date ]</a>
              <a href="thread.html#30045">[ thread ]</a>
              <a href="subject.html#30045">[ subject ]</a>
              <a href="author.html#30045">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Jan 24, 2011 at 11:32 PM, Philip J&#228;genstedt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>&gt;wrote:

&gt;<i> On Mon, 24 Jan 2011 02:36:15 +0100, Robert O'Callahan &lt;
</I>&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>  Interop problems are going to arise with approximate seeking no matter
</I>&gt;&gt;<i> what
</I>&gt;&gt;<i> we do, which is why it shouldn't be the default.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> OK, let's go with that, then.
</I>

Yay! :-)


&gt;<i>  You don't want seekApproximate(T) to always land on the same T'. For
</I>&gt;&gt;<i> example, if a player wants to &quot;seek forward approximately N seconds&quot; via
</I>&gt;&gt;<i> seekApproximate(currentTime + N), but the approximation to currentTime + N
</I>&gt;&gt;<i> is fixed to be some T' less than or equal to currentTime, that would be
</I>&gt;&gt;<i> broken.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I would say that seekApproximate(T) should be specified to aim as close as
</I>&gt;&gt;<i> possible to T while being &quot;fast&quot;, but the only guarantee is that it seeks
</I>&gt;&gt;<i> somewhere after currentTime if T &gt; currentTime, or somewhere before
</I>&gt;&gt;<i> currentTime if T &lt; currentTime.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 1. There's a race condition here, seekApproximate(currentTime+0.001) will
</I>&gt;<i> be quite random since currentTime changes while the script is running.
</I>&gt;<i>
</I>
Interesting. It doesn't in Firefox; script always sees a snapshot of a
consistent state until it returns to the event loop or does something modal
(although audio, and soon video, will continue to play while script runs).
I'm not sure if the spec should require that ... overall our APIs try pretty
hard not to expose races to JS.

But maybe you want seekApproximateRelative(deltaT) then...

2. No media framework I've worked with seems to provide fast seeking with
&gt;<i> any guarantee of direction, so it might be hard to actually implement this
</I>&gt;<i> way on many platforms, while fast seeking in general is very easy.
</I>&gt;<i>
</I>
Perhaps you could implement it as &quot;seek fast to T + deltaT, then if that
didn't land us on the right side of currentTime (hopefully rare), do an
exact seek to T + deltaT&quot;?

If approximate seeking can't be used to reliably implement &quot;go forward/back
a bit&quot;, then it'll be significantly less useful IMHO.

(I'm becoming increasingly glad we didn't go with the approach of using an
off-the-shelf media framework!)

Rob
-- 
&quot;Now the Bereans were of more noble character than the Thessalonians, for
they received the message with great eagerness and examined the Scriptures
every day to see if what Paul said was true.&quot; [Acts 17:11]
</PRE>



<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030037.html">[whatwg] HTML5 video: frame accuracy / SMPTE
</A></li>
	<LI>Next message: <A HREF="030046.html">[whatwg] HTML5 video: frame accuracy / SMPTE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30045">[ date ]</a>
              <a href="thread.html#30045">[ thread ]</a>
              <a href="subject.html#30045">[ subject ]</a>
              <a href="author.html#30045">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
