<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] New method for obtaining a CSS property
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20New%20method%20for%20obtaining%20a%20CSS%20property&In-Reply-To=%3C4D426099.8070004%40yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072353.html">
   <LINK REL="Next"  HREF="072365.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] New method for obtaining a CSS property</H1>
<!--htdig_noindex-->
    <B>Brett Zamir</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20New%20method%20for%20obtaining%20a%20CSS%20property&In-Reply-To=%3C4D426099.8070004%40yahoo.com%3E"
       TITLE="[whatwg] New method for obtaining a CSS property">brettz9 at yahoo.com
       </A><BR>
    <I>Thu Jan 27 22:22:17 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072353.html">[whatwg] New method for obtaining a CSS property
</A></li>
        <LI>Next message: <A HREF="072365.html">[whatwg] New method for obtaining a CSS property
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72363">[ date ]</a>
              <a href="thread.html#72363">[ thread ]</a>
              <a href="subject.html#72363">[ subject ]</a>
              <a href="author.html#72363">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 1/28/2011 2:19 AM, Boris Zbarsky wrote:
&gt;<i> On 1/27/11 1:23 AM, Brett Zamir wrote:
</I>&gt;&gt;<i> I'll give a more concrete example, but I did state the problem:
</I>&gt;&gt;<i> separation of concerns, and the data I want, getting a CSS property for
</I>&gt;&gt;<i> a given selector.
</I>&gt;<i>
</I>&gt;<i> &quot;selectors&quot; don't have properties.   Elements have properties, and 
</I>&gt;<i> declarations have properties.  &quot;selectors&quot; are a mechanism for tying 
</I>&gt;<i> rulesets to declarations.
</I>
My point is that a selector can be tied to a property through the 
ruleset. I recognize there may be more than one declaration even with 
the same property being associated with the same selector, but I'm 
suggesting to define some rules for selecting the most logical match. 
Even if it cannot match the same behavior for contextual style 
determination (which as Ashley pointed out follows its own cascading 
rules which do not apply here), interpreting it predictably (e.g., 
either the very first or very last exact match if there are other exact 
duplicate selector references) and as literally as possible (e.g., 
&quot;.error&quot; would not match &quot;.error.error&quot; nor &quot;div.error&quot;) should address 
the use cases I am mentioning.

&gt;&gt;<i> For example, we want the designer guy to be able to freely change the
</I>&gt;&gt;<i> colors in the stylesheet for indicating say a successful transition
</I>&gt;&gt;<i> (green), an error (red), or waiting (yellow) for an Ajax request. The
</I>&gt;&gt;<i> JavaScript girl does not want to have to change her code every time the
</I>&gt;&gt;<i> designer has a new whim about making the error color a darker or lighter
</I>&gt;&gt;<i> red, and the designer is afraid of getting balled out for altering her
</I>&gt;&gt;<i> code improperly. So the JavaScript girl queries the &quot;.error&quot; class for
</I>&gt;&gt;<i> the &quot;background-color&quot; property to get whatever the current error color
</I>&gt;&gt;<i> is and then indicates to an animation script that &quot;darkred&quot; should be
</I>&gt;&gt;<i> the final background color of the button after the transition. The
</I>&gt;&gt;<i> retrieval might look something like:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> document.getCSSPropertyValue(&quot;.error&quot;, &quot;background-color&quot;); // 'darkred'
</I>&gt;<i>
</I>&gt;<i> You can do that right now using getComputedStyle, with a bit more 
</I>&gt;<i> code, right?
</I>
Yes, or by iterating through document.stylesheets. But as Ashley pointed 
out, it is needlessly complex to create one's own pseudo document for 
this purpose, and I think it should be a simple operation to be able to 
do something as fundamental as following best practices. But the CSS 
Variables Tab suggested would work pretty well to meet this need as 
well, though it would require altering existing CSS to be parameterized.

&gt;&gt;<i> Or, for canvas specifically. You draw an animated &quot;Hello&quot; and want the
</I>&gt;&gt;<i> designer to be able to choose the fill color. You want to be able to
</I>&gt;&gt;<i> query the stylesheet easily to get the styling info.
</I>&gt;<i>
</I>&gt;<i> Or just set a class on your canvas and let styles apply to it as normal?
</I>
Maybe you are thinking of SVG here?

One can't do something like this with canvas:
&lt;canvas style=&quot;fillStyle:rgb(200,0,0)&quot;&gt;&lt;/canvas&gt;

..and even if one could, it would not be targeted to the specific shapes 
needing styling.

thanks,
Brett


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072353.html">[whatwg] New method for obtaining a CSS property
</A></li>
	<LI>Next message: <A HREF="072365.html">[whatwg] New method for obtaining a CSS property
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72363">[ date ]</a>
              <a href="thread.html#72363">[ thread ]</a>
              <a href="subject.html#72363">[ subject ]</a>
              <a href="author.html#72363">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
