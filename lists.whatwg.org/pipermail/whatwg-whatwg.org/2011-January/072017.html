<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] WebWorkers and images
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebWorkers%20and%20images&In-Reply-To=%3CAANLkTi%3D_kwLjXePHh_8d7oj3VnVUORO0vVF-xJ9z%2BCvh%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072013.html">
   <LINK REL="Next"  HREF="072018.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] WebWorkers and images</H1>
<!--htdig_noindex-->
    <B>Drew Wilson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebWorkers%20and%20images&In-Reply-To=%3CAANLkTi%3D_kwLjXePHh_8d7oj3VnVUORO0vVF-xJ9z%2BCvh%40mail.gmail.com%3E"
       TITLE="[whatwg] WebWorkers and images">atwilson at chromium.org
       </A><BR>
    <I>Fri Jan  7 17:16:31 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072013.html">[whatwg] WebWorkers and images
</A></li>
        <LI>Next message: <A HREF="072018.html">[whatwg] WebWorkers and images
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72017">[ date ]</a>
              <a href="thread.html#72017">[ thread ]</a>
              <a href="subject.html#72017">[ subject ]</a>
              <a href="author.html#72017">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I would recommend that people review this thread:
<A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-February/025254.htmlto">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-February/025254.htmlto</A>
understand the objections previously raised to this idea.

-atw

On Fri, Jan 7, 2011 at 4:08 PM, Glenn Maynard &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">glenn at zewt.org</A>&gt; wrote:

&gt;<i> On Fri, Jan 7, 2011 at 6:22 PM, David Levin &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">levin at chromium.org</A>&gt; wrote:
</I>&gt;<i> &gt; fwiw, ImageData can be used in a worker. Many folks have argued that
</I>&gt;<i> canvas
</I>&gt;<i> &gt; isn't that useful in a worker and that the gpu acceleration will make it
</I>&gt;<i> &gt; less useful (and that most image manipulation would be able to use
</I>&gt;<i> ImageData
</I>&gt;<i> &gt; for its needs).
</I>&gt;<i>
</I>&gt;<i> This is wrong.  You can't download, decompress and blit images to a
</I>&gt;<i> canvas in realtime from the main thread without causing UI hitches.
</I>&gt;<i>
</I>&gt;<i> For example, if you load an HTMLImageElement to blit into a canvas,
</I>&gt;<i> image decompression often doesn't happen asynchronously during the
</I>&gt;<i> download, but synchronously when the image data is first used.  I
</I>&gt;<i> often see the UI freeze for 500-700ms to blit and scale a large image
</I>&gt;<i> in Chrome.  Implementations can alleviate this, but generally at a
</I>&gt;<i> cost elsewhere.  The real fix is to stop doing these expensive
</I>&gt;<i> operations from the UI thread--which is what threads are for.  GPU
</I>&gt;<i> acceleration won't magically fix every case where synchronous canvas
</I>&gt;<i> and canvas-related operations take too much time in the UI thread.
</I>&gt;<i>
</I>&gt;<i> ImageData is only useful for a limited set of image operations.  For
</I>&gt;<i> image blitting and transformations--the most common canvas
</I>&gt;<i> operations--you need the canvas itself.  I'd suspect even more
</I>&gt;<i> important cases with WebGL; for example, long-running computations
</I>&gt;<i> using fragment shaders.
</I>&gt;<i>
</I>&gt;<i> I understand why Canvas isn't available right now.  There are sticky
</I>&gt;<i> issues to make all of the parts practical to expose to threads, and
</I>&gt;<i> I'm sure getting the basic web workers API in place is much higher
</I>&gt;<i> priority.  But, I hope this will be revisited seriously at an
</I>&gt;<i> appropriate time, and not dismissed as not useful.  Image manipulation
</I>&gt;<i> is one of the most obvious candidates for threading.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Glenn Maynard
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072013.html">[whatwg] WebWorkers and images
</A></li>
	<LI>Next message: <A HREF="072018.html">[whatwg] WebWorkers and images
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72017">[ date ]</a>
              <a href="thread.html#72017">[ thread ]</a>
              <a href="subject.html#72017">[ subject ]</a>
              <a href="author.html#72017">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
