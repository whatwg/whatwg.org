<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Limiting the amount of downloaded but not watched video
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Limiting%20the%20amount%20of%20downloaded%20but%20not%20watched%20video&In-Reply-To=%3CAANLkTi%3D127qEGOb4MbuqZBqvYtfkAko6xbJrZPat1_0g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072218.html">
   <LINK REL="Next"  HREF="072175.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Limiting the amount of downloaded but not watched video</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Limiting%20the%20amount%20of%20downloaded%20but%20not%20watched%20video&In-Reply-To=%3CAANLkTi%3D127qEGOb4MbuqZBqvYtfkAko6xbJrZPat1_0g%40mail.gmail.com%3E"
       TITLE="[whatwg] Limiting the amount of downloaded but not watched video">glenn at zewt.org
       </A><BR>
    <I>Tue Jan 18 17:14:16 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072218.html">[whatwg] Limiting the amount of downloaded but not watched video
</A></li>
        <LI>Next message: <A HREF="072175.html">[whatwg] Limiting the amount of downloaded but not watched	video
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72221">[ date ]</a>
              <a href="thread.html#72221">[ thread ]</a>
              <a href="subject.html#72221">[ subject ]</a>
              <a href="author.html#72221">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Jan 18, 2011 at 7:32 PM, David Singer &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">singer at apple.com</A>&gt; wrote:

&gt;<i> I'm sorry, perhaps that was a shorthand.
</I>&gt;<i>
</I>&gt;<i> In RTSP-controlled RTP, there is a tight relationship between the play
</I>&gt;<i> point, and play state, the protocol state (delivering data or paused) and
</I>&gt;<i> the data delivered (it is delivered in precisely real-time, and played and
</I>&gt;<i> discarded shortly after playing).  The server delivers very little more data
</I>&gt;<i> than is actually watched.
</I>&gt;<i>
</I>&gt;<i> In HTTP, however, the entire resource is offered to the client, and there
</I>&gt;<i> is no protocol to convey play/paused back to the server, and the typical
</I>&gt;<i> behavior when offered a resource in HTTP is to make a simple binary decision
</I>&gt;<i> to either load it (all) or not load it (at all).  So, by providing a media
</I>&gt;<i> resource over HTTP, the server should kinda be expecting this 'download'
</I>&gt;<i> behavior.
</I>&gt;<i>
</I>
The only practical server-side problem I can think of is that capping the
prebuffer may result in keeping HTTP connections open longer; rather than
opening the connection long enough to download the video, it's likely to be
kept open for the entire duration of the video.  That's something to think
carefully on, and influences implementations (eg. when the cap is reached,
close the connection if the video is paused), but it doesn't seem like a
showstopper.

Not only that, but if my client downloads as much as possible as soon as
&gt;<i> possible and caches as much as possible, and yours downloads as little as
</I>&gt;<i> possible as late as possible, you may get brownie points from the server
</I>&gt;<i> owner, but I get brownie points from my local user -- the person I want to
</I>&gt;<i> please if I am a browser vendor.  There is every incentive to be resilient
</I>&gt;<i> and 'burn' bandwidth to achieve a better user experience.
</I>&gt;<i>
</I>&gt;<i> Servers are at liberty to apply a 'throttle' to the supply, of course
</I>&gt;<i> (&quot;download as fast as you like at first, but after a while I'll only supply
</I>&gt;<i> at roughly the media rate&quot;).  They can suggest that the client be a little
</I>&gt;<i> less aggressive in buffering, but it's easily ignored and the incentive is
</I>&gt;<i> to ignore it.
</I>&gt;<i>
</I>&gt;<i> So I tend to return to &quot;if you want more tightly-coupled behavior, use a
</I>&gt;<i> more tightly-coupled protocol&quot;...
</I>&gt;<i>
</I>
Browser vendors always have incentives to benefit the user at the expense of
servers.  Parallel HTTP connections are the most obvious example: although
you could make pages load faster by opening 20 parallel connections to a
server, as I recall most browsers are around 6, which is out of spec but a
reasonable value that improves the user experience without hammering
servers.  Some browsers are less civil and open far more, of course; but
enough browser vendors seem reasonable about this sort of thing, even when
the incentive is to open the floodgates, for this to be useful.

So if the suggestion is that a &quot;maximumPrebuffer&quot; setting wouldn't be
implemented because not doing so makes the browser look better to the user,
at least on first impression I'm not so sure.  I think that's only true if
it's impossible to implement capped prebuffering reliably, but I don't think
anyone's made that argument.

-- 
Glenn Maynard

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072218.html">[whatwg] Limiting the amount of downloaded but not watched video
</A></li>
	<LI>Next message: <A HREF="072175.html">[whatwg] Limiting the amount of downloaded but not watched	video
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72221">[ date ]</a>
              <a href="thread.html#72221">[ thread ]</a>
              <a href="subject.html#72221">[ subject ]</a>
              <a href="author.html#72221">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
