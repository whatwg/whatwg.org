<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] AppCache feature request: An https manifest should be able to list resources from other https origins.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20AppCache%20feature%20request%3A%20An%20https%20manifest%20should%20be%0A%20able%20to%20list%20resources%20from%20other%20https%20origins.&In-Reply-To=%3CAANLkTikHGWpPEPOpaEa5KDpMGNxRUTO4RNC9PsQwFKpp%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072346.html">
   <LINK REL="Next"  HREF="072362.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] AppCache feature request: An https manifest should be able to list resources from other https origins.</H1>
<!--htdig_noindex-->
    <B>Michael Nordman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20AppCache%20feature%20request%3A%20An%20https%20manifest%20should%20be%0A%20able%20to%20list%20resources%20from%20other%20https%20origins.&In-Reply-To=%3CAANLkTikHGWpPEPOpaEa5KDpMGNxRUTO4RNC9PsQwFKpp%40mail.gmail.com%3E"
       TITLE="[whatwg] AppCache feature request: An https manifest should be able to list resources from other https origins.">michaeln at google.com
       </A><BR>
    <I>Thu Jan 27 17:16:57 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072346.html">[whatwg] AppCache feature request: An https manifest should be able to list resources from other https origins.
</A></li>
        <LI>Next message: <A HREF="072362.html">[whatwg] AppCache feature request: An https manifest should be able to list resources from other https origins.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72361">[ date ]</a>
              <a href="thread.html#72361">[ thread ]</a>
              <a href="subject.html#72361">[ subject ]</a>
              <a href="author.html#72361">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>A CORS based answer to this would work for the folks that have
expressed an interest in this capability to me.

cc'ing some other appcache implementors too... any thoughts?


On Wed, Jan 26, 2011 at 12:28 PM, Michael Nordman &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">michaeln at google.com</A>&gt; wrote:
&gt;<i> I was alluding to a simple robots.txt like solution with the static
</I>&gt;<i> 'allow' file, but it seems like CORS could work too, it is more
</I>&gt;<i> burdensome to setup due to the additional HTTP headers.
</I>&gt;<i>
</I>&gt;<i> GET /some-resource
</I>&gt;<i> Origin: <A HREF="https://acme.com">https://acme.com</A>
</I>&gt;<i>
</I>&gt;<i> HTTP/1.x 200 OK
</I>&gt;<i> Access-Control-Allow-Origin: * | <A HREF="https://acme.com">https://acme.com</A>
</I>&gt;<i>
</I>&gt;<i> Unless the the origin is allowed, the resource will not be added to
</I>&gt;<i> the cache and the update will fail.
</I>&gt;<i>
</I>&gt;<i> ......
</I>&gt;<i> On Wed, Jan 26, 2011 at 12:50 AM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at opera.com</A>&gt; wrote:
</I>&gt;&gt;<i> On Tue, 25 Jan 2011 23:37:55 +0100, Michael Nordman &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">michaeln at google.com</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Would the public-webapps list be better for discussing appcache
</I>&gt;&gt;&gt;<i> feature requests?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It's not a feature drafted in any of the WebApps WG specifications. If you
</I>&gt;&gt;<i> want to discuss at the W3C the appropriate place would be the HTML WG.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Also,
</I>&gt;&gt;<i> <A HREF="http://wiki.whatwg.org/wiki/FAQ#Is_there_a_process_for_adding_new_features_to_a_specification.3F">http://wiki.whatwg.org/wiki/FAQ#Is_there_a_process_for_adding_new_features_to_a_specification.3F</A>
</I>&gt;&gt;<i> might be interesting. (Though you are probably aware of it.)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> This could be as simple as the presence of an
</I>&gt;&gt;&gt;<i> 'applicationcaching_allowed' file at the top level. An https manifest
</I>&gt;&gt;&gt;<i> update that wants to retrieve resources from another https origin
</I>&gt;&gt;&gt;<i> would first have to fetch the 'allow' file and see an expected
</I>&gt;&gt;&gt;<i> response, and if it doesn't see a good response, those xorigin entries
</I>&gt;&gt;&gt;<i> would be skipped (matching today's behavior).
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The request...
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> GET /applicationcaching_allowed
</I>&gt;&gt;&gt;<i> Referer: &lt;manifestUrl of the cache trying &#160;to include resources from this
</I>&gt;&gt;&gt;<i> host&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The expected response headers...
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> HTTP/1.x 200 OK
</I>&gt;&gt;&gt;<i> Content-Type: text/plain
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The expected response body...
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Allowed:*
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So far we have avoided this type of design as it is rather brittle. Maybe
</I>&gt;&gt;<i> CORS can be used?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Anne van Kesteren
</I>&gt;&gt;<i> <A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072346.html">[whatwg] AppCache feature request: An https manifest should be able to list resources from other https origins.
</A></li>
	<LI>Next message: <A HREF="072362.html">[whatwg] AppCache feature request: An https manifest should be able to list resources from other https origins.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72361">[ date ]</a>
              <a href="thread.html#72361">[ thread ]</a>
              <a href="subject.html#72361">[ subject ]</a>
              <a href="author.html#72361">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
