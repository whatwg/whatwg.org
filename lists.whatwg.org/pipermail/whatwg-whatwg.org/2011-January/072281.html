<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTML5 video: frame accuracy / SMPTE
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML5%20video%3A%20frame%20accuracy%20/%20SMPTE&In-Reply-To=%3CAANLkTikprc6p%3DJzoxEQCfCFUmb%2BipAz0jMSv%2Bp7pTbuh%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072280.html">
   <LINK REL="Next"  HREF="072282.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTML5 video: frame accuracy / SMPTE</H1>
<!--htdig_noindex-->
    <B>Gregory Maxwell</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML5%20video%3A%20frame%20accuracy%20/%20SMPTE&In-Reply-To=%3CAANLkTikprc6p%3DJzoxEQCfCFUmb%2BipAz0jMSv%2Bp7pTbuh%40mail.gmail.com%3E"
       TITLE="[whatwg] HTML5 video: frame accuracy / SMPTE">gmaxwell at gmail.com
       </A><BR>
    <I>Fri Jan 21 18:23:53 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072280.html">[whatwg] HTML5 video: frame accuracy / SMPTE
</A></li>
        <LI>Next message: <A HREF="072282.html">[whatwg] HTML5 video: frame accuracy / SMPTE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72281">[ date ]</a>
              <a href="thread.html#72281">[ thread ]</a>
              <a href="subject.html#72281">[ subject ]</a>
              <a href="author.html#72281">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Jan 21, 2011 at 8:19 PM, Chris Pearce &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">chris at pearce.org.nz</A>&gt; wrote:
&gt;<i> On 22/01/2011 7:31 a.m., Gregory Maxwell wrote:
</I>&gt;&gt;<i> It's usually the decoding, not the file access that kill you. &#160;Firefox
</I>&gt;&gt;<i> seeking on low resolution clips is very snappy index or not. But try a
</I>&gt;&gt;<i> 1080p clip encoded with a 10 second maximum keyframe interval...
</I>&gt;<i>
</I>&gt;<i> This is true. If you want fast frame accurate seeking, particularly over the
</I>&gt;<i> internet, it's best to not encode with such a large keyframe interval. This
</I>&gt;<i> is a problem caused by a webdev's inappropriate encoding choice, not by a
</I>&gt;<i> bad API choice.
</I>
One second of decoding time is already a fairly slow seek. Surely you
aren't suggesting that people should be using one-to-sub-second
keyframe intervals?

~Two second intervals are a norm for conservative intervals. It's not
unusual for keyframes to be 7x the size of delta frames for low motion
HD footage, and going lower than this starts to seriously inflate the
file size for a given quality (e.g. you're looking at something like a
11% file size boost from going from 64 to 32). A two second seek is
slow enough to be annoying, but thats what you'll get on a pretty
typical file with a pretty conservative keyframe interval which can
only be decoded in realtime.

I can equally turn your argument around and say that setting the
keyframe interval so long that it's unacceptable for seeking is a
problem of a webdev's inappropriate encoding choice.

In either case&#8212; an inaccurate seek or a slow exact seek you end up
wasting the error's worth of additional time. In the inaccurate case
it's irrelevant if your desired seek wasn't accurate to being with
(e.g. clicking on a small seek bar), and regardless you'll spend that
time watching output. In the exact case a faster than realtime decode
may reduce the waiting but whatever waiting you do you'll spend
watching the spinner.  (Though I full agree that when the
decode&amp;download is much faster than realtime (e.g. 10x) that exact is
the way to go)

[snip]
&gt;<i> Seeks would only be &quot;slow&quot; in the case where keyframes were infrequent. In
</I>&gt;<i> many cases a &quot;snap to keyframe&quot; seek would be inaccurate enough to be
</I>&gt;<i> annoying with infrequent keyframes. I can only imagine the bugs we'll get
</I>&gt;<i> filed if we make it the default!
</I>
Inaccurate seeking is pretty much universal in media-player
applications. ::shrugs:: I haven't conducted an exhaustive survey
across systems, but on my desktop firefox is the only tool that does
frame accurate seeking by default. Totem doesn't, VLC doesn't, Mplayer
doesn't.

I'm very happy that Firefox can do exact seeking and I've bragged
about it, but I think you're underestimating the cost. Cortado (which
doesn't do accurate seeking) makes firefox seeking look like a joke&#8212;
it plays pretty much as fast as you can click, even over a slow
network connection&#8212; and with sane keyframe intervals no one even
notices that it's not accurate.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072280.html">[whatwg] HTML5 video: frame accuracy / SMPTE
</A></li>
	<LI>Next message: <A HREF="072282.html">[whatwg] HTML5 video: frame accuracy / SMPTE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72281">[ date ]</a>
              <a href="thread.html#72281">[ thread ]</a>
              <a href="subject.html#72281">[ subject ]</a>
              <a href="author.html#72281">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
