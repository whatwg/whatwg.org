<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Media elements statistics
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Media%20elements%20statistics&In-Reply-To=%3C4D420586.80206%40pearce.org.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072360.html">
   <LINK REL="Next"  HREF="072359.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Media elements statistics</H1>
<!--htdig_noindex-->
    <B>Chris Pearce</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Media%20elements%20statistics&In-Reply-To=%3C4D420586.80206%40pearce.org.nz%3E"
       TITLE="[whatwg] Media elements statistics">chris at pearce.org.nz
       </A><BR>
    <I>Thu Jan 27 15:53:42 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072360.html">[whatwg] Media elements statistics
</A></li>
        <LI>Next message: <A HREF="072359.html">[whatwg] Media elements statistics
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72358">[ date ]</a>
              <a href="thread.html#72358">[ thread ]</a>
              <a href="subject.html#72358">[ subject ]</a>
              <a href="author.html#72358">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Steve et al,

I'm working on a similar feature for Firefox: 
<A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=580531">https://bugzilla.mozilla.org/show_bug.cgi?id=580531</A>

Though we're implementing this more as a way of measuring the 
performance of our decoding and rendering pipeline, rather than 
providing playback/decode-rate stats.

&gt;<i> unsigned long audioBytesDecoded;
</I>&gt;<i> unsigned long videoBytesDecoded;
</I>
Out of curiosity, why do you want this feature? What does it give you 
that @buffered and @currentTime does not?

Raw bytes reasonable to me, the feedback on the FOMS list regarding 
playback statistics showed webdevs liked that idea.

How would you handle frames dropped by the decoder in order to prevent 
it falling behind? Would you count their bytes as decoded?

&gt;<i> Another open question: what are sensible values if the information is
</I>&gt;<i> not available. Zero seems wrong.
</I>
Return Number.NaN? Or provide some kind of ability to query whether 
there is audio and video?


Regards,
Chris P.

On 28/01/2011 12:22 p.m., Steve Lacey wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I'd like the raise this thread again:
</I>&gt;<i> <A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-August/027929.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-August/027929.html</A>
</I>&gt;<i> (I wasn't on the list at that point, so starting a new thread here and
</I>&gt;<i> cc'ing a couple of folks from it...)
</I>&gt;<i>
</I>&gt;<i> I work on the media stack in Chromium and we'd like to implement
</I>&gt;<i> something pretty similar. So I'm looking for comments...
</I>&gt;<i>
</I>&gt;<i> The original suggestion for the video element looks good:
</I>&gt;<i>
</I>&gt;<i> [Video Element]
</I>&gt;<i>
</I>&gt;<i> // Frames decoded and available for playback.
</I>&gt;<i> unsigned long decodedFrames;
</I>&gt;<i>
</I>&gt;<i> // Frames dropped during playback for performance reasons.
</I>&gt;<i> unsigned long droppedFrames;
</I>&gt;<i>
</I>&gt;<i> But for the media element I'd like to propose raw bytes instead of a
</I>&gt;<i> rate as this allows the developer to construct their own rates (if
</I>&gt;<i> needed) based on whatever window they want. It would also be useful to
</I>&gt;<i> separate audio from video. A suggestion might be:
</I>&gt;<i>
</I>&gt;<i> [Media Element]
</I>&gt;<i>
</I>&gt;<i> unsigned long audioBytesDecoded;
</I>&gt;<i> unsigned long videoBytesDecoded;
</I>&gt;<i>
</I>&gt;<i> Though this seems a little strange to have these specifically on the
</I>&gt;<i> media element as they reference particular media types. Another idea
</I>&gt;<i> would be to move these to the video element and also add
</I>&gt;<i> audioBytesDecoded to the audio element.
</I>&gt;<i>
</I>&gt;<i> Another open question: what are sensible values if the information is
</I>&gt;<i> not available. Zero seems wrong.
</I>&gt;<i>
</I>&gt;<i> Thoughts?
</I>&gt;<i>
</I>&gt;<i> Cheers!
</I>&gt;<i> Steve
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072360.html">[whatwg] Media elements statistics
</A></li>
	<LI>Next message: <A HREF="072359.html">[whatwg] Media elements statistics
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72358">[ date ]</a>
              <a href="thread.html#72358">[ thread ]</a>
              <a href="subject.html#72358">[ subject ]</a>
              <a href="author.html#72358">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
