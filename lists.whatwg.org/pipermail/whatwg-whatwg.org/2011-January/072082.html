<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTML5 video: frame accuracy / SMPTE
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML5%20video%3A%20frame%20accuracy%20/%20SMPTE&In-Reply-To=%3C9DB7C828-366A-4498-B22E-76AD260AB262%40longtailvideo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072080.html">
   <LINK REL="Next"  HREF="072083.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTML5 video: frame accuracy / SMPTE</H1>
<!--htdig_noindex-->
    <B>Jeroen Wijering</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML5%20video%3A%20frame%20accuracy%20/%20SMPTE&In-Reply-To=%3C9DB7C828-366A-4498-B22E-76AD260AB262%40longtailvideo.com%3E"
       TITLE="[whatwg] HTML5 video: frame accuracy / SMPTE">jeroen at longtailvideo.com
       </A><BR>
    <I>Wed Jan 12 02:15:30 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072080.html">[whatwg] HTML5 video: frame accuracy / SMPTE
</A></li>
        <LI>Next message: <A HREF="072083.html">[whatwg] HTML5 video: frame accuracy / SMPTE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72082">[ date ]</a>
              <a href="thread.html#72082">[ thread ]</a>
              <a href="subject.html#72082">[ subject ]</a>
              <a href="author.html#72082">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Jan 12, 2011, at 11:04 AM, <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-request at lists.whatwg.org</A> wrote:

&gt;<i> Date: Wed, 12 Jan 2011 11:54:47 +0200
</I>&gt;<i> From: Mikko Rantalainen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mikko.rantalainen at peda.net</A>&gt;
</I>&gt;<i> To: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>
</I>&gt;<i> Subject: Re: [whatwg] HTML5 video: frame accuracy / SMPTE
</I>&gt;<i> Message-ID: &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">4D2D7A67.7090104 at peda.net</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=ISO-8859-1
</I>&gt;<i> 
</I>&gt;<i> 2011-01-12 00:40 EEST: Rob Coenen:
</I>&gt;&gt;<i> Hi David- that is b/c in an ideal world I'd want to seek to a time expressed
</I>&gt;&gt;<i> as a SMPTE timecode (think web apps that let users step x frames back, seek
</I>&gt;&gt;<i> y frames forward etc.). In order to convert SMPTE to the floating point
</I>&gt;&gt;<i> value for video.seekTime I need to know the frame rate.
</I>&gt;<i> 
</I>&gt;<i> It seems to me that such an application really requires a method for
</I>&gt;<i> querying the timestamp for previous and next frames when given a
</I>&gt;<i> timestamp. If such an application requires FPS value, it can then
</I>&gt;<i> compute it by itself it such a value is assumed meaningful. (Simply get
</I>&gt;<i> next frame timestamp from zero timestamp and continue for a couple of
</I>&gt;<i> frames to compute FPS and check if the FPS seems to be stable.)
</I>&gt;<i> 
</I>&gt;<i> Perhaps there should be a method
</I>&gt;<i> 
</I>&gt;<i> getRelativeFrameTime(timestamp, relation)
</I>&gt;<i> 
</I>&gt;<i> where timestamp is the &quot;current&quot; timestamp and relation is one of
</I>&gt;<i> previousFrame, nextFrame, previousKeyFrame, nextKeyFrame?
</I>&gt;<i> 
</I>&gt;<i> Use of this method could be allowed only for paused video if needed for
</I>&gt;<i> simple implementation.
</I>

Alternatively, one could look at a step() function instead of a seek(pos,exact) function. The step function can be used for frame-accurate controls. e.g. step(2) or step(-1). The advantage over a seek(pos,exact) function (and the playback rate controls) is that the viewer really knows the video is X frames offset. This is very useful for both artistic/editing applications and for video analysis applications (think sports, medical or experiments).

The downside of a step() to either always accurate seeking or a seek(pos,exact) is that it requires two steps in situations like bookmarking or chaptering. 

It seems like the framerate / SMPTE proposals done here are all a means to end up with frame-accurate seeking. With a step() function in place, there's no need for such things. In fact, one could do a step(10) or so and then use the difference in position to calculate framerate. 

- Jeroen
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072080.html">[whatwg] HTML5 video: frame accuracy / SMPTE
</A></li>
	<LI>Next message: <A HREF="072083.html">[whatwg] HTML5 video: frame accuracy / SMPTE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72082">[ date ]</a>
              <a href="thread.html#72082">[ thread ]</a>
              <a href="subject.html#72082">[ subject ]</a>
              <a href="author.html#72082">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
