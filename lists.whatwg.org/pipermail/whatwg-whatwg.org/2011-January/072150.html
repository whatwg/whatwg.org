<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Control over selection direction
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Control%20over%20selection%20direction&In-Reply-To=%3CAANLkTi%3DazwG0vXyXK_V-WzvzmqSLrtsJq2jA4Pg-Zgtj%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072141.html">
   <LINK REL="Next"  HREF="072151.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Control over selection direction</H1>
<!--htdig_noindex-->
    <B>Ryosuke Niwa</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Control%20over%20selection%20direction&In-Reply-To=%3CAANLkTi%3DazwG0vXyXK_V-WzvzmqSLrtsJq2jA4Pg-Zgtj%40mail.gmail.com%3E"
       TITLE="[whatwg] Control over selection direction">rniwa at webkit.org
       </A><BR>
    <I>Fri Jan 14 10:09:03 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072141.html">[whatwg] Control over selection direction
</A></li>
        <LI>Next message: <A HREF="072151.html">[whatwg] Control over selection direction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72150">[ date ]</a>
              <a href="thread.html#72150">[ thread ]</a>
              <a href="subject.html#72150">[ subject ]</a>
              <a href="author.html#72150">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Jan 14, 2011 at 3:09 AM, Tim Down &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">timdown at gmail.com</A>&gt; wrote:

&gt;<i> If you don't need the TextRange-like character-based modification, you
</I>&gt;<i> can instead use the selection's extend() method (supported in Mozilla,
</I>&gt;<i> WebKit and Opera for years) to create a backwards selection:
</I>&gt;<i>
</I>&gt;<i> function selectRangeBackwards(range) {
</I>&gt;<i>    var sel = window.getSelection();
</I>&gt;<i>    var endRange = range.cloneRange();
</I>&gt;<i>    endRange.collapse(false);
</I>&gt;<i>    sel.addRange(endRange);
</I>&gt;<i>    sel.extend(range.startContainer, range.startOffset);
</I>&gt;<i> }
</I>

WebKit-based browsers also support setBaseAndExtent, which takes
startContainer, startOffset, endContainer, endOffset.  IMHO, this function
is better than extend because it can set the whole selection at once.

On Fri, Jan 14, 2011 at 3:53 AM, Tim Down &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">timdown at gmail.com</A>&gt; wrote:

&gt;<i> I'm sorry, I thought you were referring to regular selections as
</I>&gt;<i> opposed to inputs or textareas, since you mentioned
</I>&gt;<i> window.getSelection(). It hadn't occurred to me to use modify() to try
</I>&gt;<i> and affect the selection in a textarea.
</I>

Maybe we can spec this so that regular selection primitives work properly
for textarea/input.  e.g. you can expect that when
startContainer/endContainer is textarea/input, selection is set inside
textarea/input.

- Ryosuke

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072141.html">[whatwg] Control over selection direction
</A></li>
	<LI>Next message: <A HREF="072151.html">[whatwg] Control over selection direction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72150">[ date ]</a>
              <a href="thread.html#72150">[ thread ]</a>
              <a href="subject.html#72150">[ subject ]</a>
              <a href="author.html#72150">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
