<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas in workers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20in%20workers&In-Reply-To=%3C525DC7DA.9000308%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083388.html">
   <LINK REL="Next"  HREF="083393.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas in workers</H1>
<!--htdig_noindex-->
    <B>David Bruant</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20in%20workers&In-Reply-To=%3C525DC7DA.9000308%40gmail.com%3E"
       TITLE="[whatwg] Canvas in workers">bruant.d at gmail.com
       </A><BR>
    <I>Tue Oct 15 15:55:22 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083388.html">[whatwg] Canvas in workers
</A></li>
        <LI>Next message: <A HREF="083393.html">[whatwg] Canvas in workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83390">[ date ]</a>
              <a href="thread.html#83390">[ thread ]</a>
              <a href="subject.html#83390">[ subject ]</a>
              <a href="author.html#83390">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Le 16/10/2013 00:12, Robert O'Callahan a &#233;crit :
&gt;<i> On Wed, Oct 16, 2013 at 10:19 AM, Justin Novosad &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">junov at google.com</A> 
</I>&gt;<i> &lt;mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">junov at google.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     rAF doesn't work in a worker, but that is easy to work around. You can
</I>&gt;<i>     have a rAF handler on the main thread that propagates the signal
</I>&gt;<i>     to your
</I>&gt;<i>     workers by posting a &quot;rAF&quot; message to them.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> That isn't a good solution since it forces the app to drop frames if 
</I>&gt;<i> the main thread is blocked.
</I>If the main thread is blocked, the app drops frames anyway, no?
Anyway, on not-so-good hardware (most mobiles?), workers communication 
cost is non-trivial and eats a bit of the 16,6ms budget.

A friend told me recently that in AS3, objects on the screen can all 
listen to a &quot;beforeframe&quot; event (or something like that). In web 
platform equivalents, they have a per-element requestAnimationFrame 
(instead of only a global one).
I found this idea interesting. Among other things, it allows 
implementors to not emit the event if the object isn't on the screen. It 
feels like it encourages good practices too; if my &lt;canvas&gt; element is 
too low in the document to be on screen, maybe I don't want to draw on 
it... I wonder how many people check if the thing they want to update is 
actually on screen...

In the case of canvas, the UA not only could decide to not dispatch 
events, but could also tell precisely which part of the canvas is 
visible so that if the app cares or is capable or partial canvas paints, 
it can decide to do so.

In case the main thread is blocked, events can be saved in the worker 
and save processing resource/battery.

David

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083388.html">[whatwg] Canvas in workers
</A></li>
	<LI>Next message: <A HREF="083393.html">[whatwg] Canvas in workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83390">[ date ]</a>
              <a href="thread.html#83390">[ thread ]</a>
              <a href="subject.html#83390">[ subject ]</a>
              <a href="author.html#83390">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
