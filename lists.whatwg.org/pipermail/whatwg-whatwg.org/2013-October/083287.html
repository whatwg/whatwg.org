<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Stroking algorithm in Canvas 2d
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Stroking%20algorithm%20in%20Canvas%202d&In-Reply-To=%3CCAA0H%2BQQExXtUm%2BuONysuw1Z_SFGzczwaCD-RhRWxGcgg3ouQXA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083280.html">
   <LINK REL="Next"  HREF="083299.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Stroking algorithm in Canvas 2d</H1>
<!--htdig_noindex-->
    <B>Jasper St. Pierre</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Stroking%20algorithm%20in%20Canvas%202d&In-Reply-To=%3CCAA0H%2BQQExXtUm%2BuONysuw1Z_SFGzczwaCD-RhRWxGcgg3ouQXA%40mail.gmail.com%3E"
       TITLE="[whatwg] Stroking algorithm in Canvas 2d">jstpierre at mecheye.net
       </A><BR>
    <I>Thu Oct 10 05:55:57 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083280.html">[whatwg] Stroking algorithm in Canvas 2d
</A></li>
        <LI>Next message: <A HREF="083299.html">[whatwg] Stroking algorithm in Canvas 2d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83287">[ date ]</a>
              <a href="thread.html#83287">[ thread ]</a>
              <a href="subject.html#83287">[ subject ]</a>
              <a href="author.html#83287">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Oct 10, 2013 at 2:19 AM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:

&gt;<i> On Wed, 9 Oct 2013, Rik Cabanier wrote:
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Yep, this is where assumptions went wrong. Dashes are calculated per
</I>&gt;<i> &gt; &gt; &gt; subpath, not per 'line'/whole path.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; On what basis are you asserting this?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; see this fiddle: <A HREF="http://jsfiddle.net/6eGxU/25/">http://jsfiddle.net/6eGxU/25/</A>
</I>&gt;<i>
</I>&gt;<i> This demonstrates pretty well what is wrong with the algorithm you're
</I>&gt;<i> suggesting (and which is implemented in Chrome). Why shouldn't we take
</I>&gt;<i> this opportunity to fix it?
</I>&gt;<i>
</I>&gt;<i> Here's an even better example of the problem:
</I>&gt;<i>
</I>&gt;<i>    <A HREF="http://goo.gl/hwK7fv">http://goo.gl/hwK7fv</A>
</I>&gt;<i>
</I>&gt;<i> It doesn't make any sense, as far as I can tell, that the lines in the
</I>&gt;<i> discontinuous box would have different gaps than the line in the
</I>&gt;<i> continuous box. They're the same lines. Only the joins should be
</I>&gt;<i> different. Why would we do this?
</I>&gt;<i>
</I>&gt;<i> (Note that in most cases you can simulate the effect of restarting with
</I>&gt;<i> each subpath pretty easily by just painting the subpaths separately,
</I>&gt;<i> instead of as one single path. I don't see any good way to simulate the
</I>&gt;<i> way it's specced with the model you describe.)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; I think most (all?) graphics libraries traces their root back to
</I>&gt;<i> &gt; PostScript. PDF, Core Graphics, Cairo and Direct2D all follow the same
</I>&gt;<i> &gt; algorithm.
</I>&gt;<i>
</I>&gt;<i> If there's a good reason to do this, other than &quot;we've always done it this
</I>&gt;<i> way&quot;, then it's certainly a good thing to consider. If none of the
</I>&gt;<i> browsers are willing to implement it the way the spec describes it, that's
</I>&gt;<i> also a reason to change the spec. But just that it's always been done that
</I>&gt;<i> way isn't a reason at all.
</I>&gt;<i>
</I>
Differentiating from the drawing model we've always been used that can
easily be used by their underlying libraries seems like churn for both
people used to vector graphics libraries (a number of people using cairo
are porting their projects over to &lt;canvas&gt;), and implementers.


&gt;<i> &gt; They're not always lines though. What about curves?
</I>&gt;<i>
</I>&gt;<i> Curves are lines too. The spec uses the term &quot;path&quot;, though.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Ian Hickson               U+1047E                )\._.,--....,'``.    fL
</I>&gt;<i> <A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
</I>&gt;<i> Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</I>&gt;<i>
</I>


-- 
  Jasper

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083280.html">[whatwg] Stroking algorithm in Canvas 2d
</A></li>
	<LI>Next message: <A HREF="083299.html">[whatwg] Stroking algorithm in Canvas 2d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83287">[ date ]</a>
              <a href="thread.html#83287">[ thread ]</a>
              <a href="subject.html#83287">[ subject ]</a>
              <a href="author.html#83287">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
