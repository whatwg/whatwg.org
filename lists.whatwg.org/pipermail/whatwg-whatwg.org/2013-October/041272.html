<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] The behaviour of Notification.requestPermission() in	Workers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20behaviour%20of%20Notification.requestPermission%28%29%20in%0A%09Workers&In-Reply-To=%3CCANg7hhoa86ZSfmee4g%2BDjkY3BtgaB6UPh7rnSKPH88GgQgjWFg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083518.html">
   <LINK REL="Next"  HREF="083546.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] The behaviour of Notification.requestPermission() in	Workers</H1>
<!--htdig_noindex-->
    <B>Nikhil Marathe</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20behaviour%20of%20Notification.requestPermission%28%29%20in%0A%09Workers&In-Reply-To=%3CCANg7hhoa86ZSfmee4g%2BDjkY3BtgaB6UPh7rnSKPH88GgQgjWFg%40mail.gmail.com%3E"
       TITLE="[whatwg] The behaviour of Notification.requestPermission() in	Workers">nsm.nikhil at gmail.com
       </A><BR>
    <I>Wed Oct 23 18:19:10 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083518.html">[whatwg] Synchronizing Canvas updates in a worker to DOM changes in the UI thread
</A></li>
        <LI>Next message: <A HREF="083546.html">[whatwg] The behaviour of Notification.requestPermission() in	Workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41272">[ date ]</a>
              <a href="thread.html#41272">[ thread ]</a>
              <a href="subject.html#41272">[ subject ]</a>
              <a href="author.html#41272">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hello,

There has been considerable interest in exposing the Notification API on
workers, and especially service workers. The behaviour of
Notification.requestPermission() requires some consensus. The problem of
requestPermission() on workers is that the user agent may not always be in
a position to present UI to the user. The worker may be started on a page
that is not the active tab, the worker may be a service worker running in
the background, or it may be a shared worker with no single window with
which to associate UI (related [1]).

The easiest solution for implementors and authors is to make the
requestPermission() call in a HTML page before spawning a worker or
registering a service worker. Inside the Worker scope we then have two
options:
1) requestPermission() is not defined.
2) requestPermission() does not ask the user, but uses the permission
associated with that origin, or denied.

I believe option 2 is better in terms of having a complete API.

Feedback is appreciated about what the right approach should be.

Regards,
Nikhil

[1]:
<A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2013-March/039311.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2013-March/039311.html</A>
</PRE>






































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083518.html">[whatwg] Synchronizing Canvas updates in a worker to DOM changes in the UI thread
</A></li>
	<LI>Next message: <A HREF="083546.html">[whatwg] The behaviour of Notification.requestPermission() in	Workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41272">[ date ]</a>
              <a href="thread.html#41272">[ thread ]</a>
              <a href="subject.html#41272">[ subject ]</a>
              <a href="author.html#41272">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
