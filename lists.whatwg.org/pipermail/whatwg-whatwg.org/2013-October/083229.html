<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] onclose events for MessagePort
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20onclose%20events%20for%20MessagePort&In-Reply-To=%3C1410130868.1598018.1380715358709.JavaMail.zimbra%40mozilla.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083227.html">
   <LINK REL="Next"  HREF="040949.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] onclose events for MessagePort</H1>
<!--htdig_noindex-->
    <B>Gene Lian</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20onclose%20events%20for%20MessagePort&In-Reply-To=%3C1410130868.1598018.1380715358709.JavaMail.zimbra%40mozilla.com%3E"
       TITLE="[whatwg] onclose events for MessagePort">clian at mozilla.com
       </A><BR>
    <I>Wed Oct  2 05:02:38 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083227.html">[whatwg] onclose events for MessagePort
</A></li>
        <LI>Next message: <A HREF="040949.html">[whatwg] Bug in 12.2.5.4.8 (The &quot;text&quot; insertion mode) when invoking the &quot;spin the event loop&quot; algorithm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83229">[ date ]</a>
              <a href="thread.html#83229">[ thread ]</a>
              <a href="subject.html#83229">[ subject ]</a>
              <a href="author.html#83229">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi guys,

Not really be able to follow all the details and technical terms. However, I'd also highly agree it's worth adding an onclose event to imply the aliveness of the owner (on the other end).

We can imagine in the future MessagePort will be a very generic structure utilised in lots of messaging purposes. If an API that wants to do the so-called *connection-oriented* messaging, the port had better need a way to know when the connection is being unexpectedly disconnected. If both of the owners are still alive, they can naturally use postMessage/onmessage to explicitly do the disconnection with each other.

However, what's happening if one of the owner has gone away without saying goodbye? For example, window can be closed when its owning process gets killed or crashed. Under the circumstances, the central/parent process is the only role to be aware of that and responsible for delivering the onclose event to the other end. From the point of view of implementation, it's definitely doable.

IMO, adding onclose event can make the MessagePort more flexible and more friendly to be applied in lots of messaging APIs. I'd vote for that.

Gene

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083227.html">[whatwg] onclose events for MessagePort
</A></li>
	<LI>Next message: <A HREF="040949.html">[whatwg] Bug in 12.2.5.4.8 (The &quot;text&quot; insertion mode) when invoking the &quot;spin the event loop&quot; algorithm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83229">[ date ]</a>
              <a href="thread.html#83229">[ thread ]</a>
              <a href="subject.html#83229">[ subject ]</a>
              <a href="author.html#83229">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
