<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] onclose events for MessagePort
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20onclose%20events%20for%20MessagePort&In-Reply-To=%3C6895562440443179599%40gmail297201516%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083303.html">
   <LINK REL="Next"  HREF="083305.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] onclose events for MessagePort</H1>
<!--htdig_noindex-->
    <B>David Barrett-Kahn</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20onclose%20events%20for%20MessagePort&In-Reply-To=%3C6895562440443179599%40gmail297201516%3E"
       TITLE="[whatwg] onclose events for MessagePort">dbk at google.com
       </A><BR>
    <I>Thu Oct 10 10:14:59 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083303.html">[whatwg] onclose events for MessagePort
</A></li>
        <LI>Next message: <A HREF="083305.html">[whatwg] onclose events for MessagePort
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83304">[ date ]</a>
              <a href="thread.html#83304">[ thread ]</a>
              <a href="subject.html#83304">[ subject ]</a>
              <a href="author.html#83304">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On GC being a source of cross-browser difficulty: I think you can fix that
by stating in the messageport spec when we guarantee to implicitly close
the connection (when its host page closes) and when we provide no
guarantees (when it loses all its references).

On people relying on GC timing: Those people are being silly and deserve
what they get, as they do in Java.  Using destructors in that language is
very nearly always a bad idea, but they still put them there and it was
fine.

I guess I think people who misinterpret the spec and do things which are
obviously a bad idea are only to a limited extent our problem.  The web
needs to become a place where serious, large applications can be written,
it's not going to get there if the standard we set ourselves for the APIs
is &quot;they can't possibly misuse this even if they've read no documentation
and are just guessing&quot;.

-Dave

On Thu Oct 10 2013 at 1:00:54 PM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:

&gt;<i> On 10/10/13 11:43 AM, David Barrett-Kahn wrote:
</I>&gt;<i> &gt; Why is revealing when garbage collection happens such a terrible thing
</I>&gt;<i> &gt; anyway?
</I>&gt;<i>
</I>&gt;<i> Because web pages can then start depending on GC timing, limiting the
</I>&gt;<i> kinds of GC optimizations browsers can do.
</I>&gt;<i>
</I>&gt;<i> -Boris
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083303.html">[whatwg] onclose events for MessagePort
</A></li>
	<LI>Next message: <A HREF="083305.html">[whatwg] onclose events for MessagePort
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83304">[ date ]</a>
              <a href="thread.html#83304">[ thread ]</a>
              <a href="subject.html#83304">[ subject ]</a>
              <a href="author.html#83304">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
