<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] onclose events for MessagePort
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20onclose%20events%20for%20MessagePort&In-Reply-To=%3CCA%2Bc2ei9Oj0vjb0-QUb0R1Rq5S92M0KvRNLYYfwkawWsmgtKTdA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041241.html">
   <LINK REL="Next"  HREF="040994.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] onclose events for MessagePort</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20onclose%20events%20for%20MessagePort&In-Reply-To=%3CCA%2Bc2ei9Oj0vjb0-QUb0R1Rq5S92M0KvRNLYYfwkawWsmgtKTdA%40mail.gmail.com%3E"
       TITLE="[whatwg] onclose events for MessagePort">jonas at sicking.cc
       </A><BR>
    <I>Tue Oct 22 08:23:56 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="041241.html">[whatwg] onclose events for MessagePort
</A></li>
        <LI>Next message: <A HREF="040994.html">[whatwg] onclose events for MessagePort
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41249">[ date ]</a>
              <a href="thread.html#41249">[ thread ]</a>
              <a href="subject.html#41249">[ subject ]</a>
              <a href="author.html#41249">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Oct 21, 2013 6:06 PM, &quot;Ehsan Akhgari&quot; &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ehsan at mozilla.com</A>&gt; wrote:
&gt;&gt;<i> We could further define that &quot;channeldropped&quot; is fired when the owner
</I>&gt;&gt;<i> of the *other side* is navigated away from. This would mean that
</I>&gt;&gt;<i> events can be received even after a &quot;channeldropped&quot; event has been
</I>&gt;&gt;<i> fired since other windows could still hold a reference to the port and
</I>&gt;&gt;<i> send messages through it. However it would allow us to release the
</I>&gt;&gt;<i> strong reference that the &quot;channeldropped&quot; event listener implicitly
</I>&gt;&gt;<i> creates as soon as either side is navigated away from.
</I>&gt;<i>
</I>&gt;<i> But what if the page is navigated back to?  I think this implies that
</I>having fired a &quot;channeldropped&quot; event because of this reason means that the
UA needs to make it impossible to navigate back to the same window, which
means disabling optimizations such as Gecko's back-forward cache, which
sucks.

We could define that it is not automatically sent until the page is kicked
out of the bfcache.

But yeah, that maight make this behavior unreliable enough that it's not
worth doing.

/ Jonas
</PRE>







<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041241.html">[whatwg] onclose events for MessagePort
</A></li>
	<LI>Next message: <A HREF="040994.html">[whatwg] onclose events for MessagePort
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41249">[ date ]</a>
              <a href="thread.html#41249">[ thread ]</a>
              <a href="subject.html#41249">[ subject ]</a>
              <a href="author.html#41249">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
