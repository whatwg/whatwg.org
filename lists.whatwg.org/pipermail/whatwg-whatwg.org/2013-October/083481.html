<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20Adding%20methods%20like%20getElementById%20and%0A%20getElementsByTagName%20to%20DocumentFragments&In-Reply-To=%3Calpine.DEB.2.00.1310182048430.11763%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083480.html">
   <LINK REL="Next"  HREF="083483.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20Adding%20methods%20like%20getElementById%20and%0A%20getElementsByTagName%20to%20DocumentFragments&In-Reply-To=%3Calpine.DEB.2.00.1310182048430.11763%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments">ian at hixie.ch
       </A><BR>
    <I>Fri Oct 18 13:50:35 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083480.html">[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments
</A></li>
        <LI>Next message: <A HREF="083483.html">[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83481">[ date ]</a>
              <a href="thread.html#83481">[ thread ]</a>
              <a href="subject.html#83481">[ subject ]</a>
              <a href="author.html#83481">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 18 Oct 2013, Tab Atkins Jr. wrote:
&gt;<i> On Fri, Oct 18, 2013 at 11:09 AM, James Greene &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">james.m.greene at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; I would also love to see `getElementById` added to the 
</I>&gt;<i> &gt; HTMLElement/Element interface. It would be nice to capitalize on that 
</I>&gt;<i> &gt; potential perf boost in jQuery as well.
</I>&gt;<i> 
</I>&gt;<i> There's no perf boost available for searching by id on an arbitrary 
</I>&gt;<i> element.  The reason you may get a better perf for the normal functions 
</I>&gt;<i> is that documents cache a map from id-&gt;element on themselves, so you 
</I>&gt;<i> just have to do a fast hash-lookup.  Arbitrary elements don't have this 
</I>&gt;<i> map (it would be way too much memory cost), so it'll fall back to a 
</I>&gt;<i> standard tree search, exactly as a querySelector would.
</I>
Well, you _could_ just use the element's document's hash lookup, then walk 
up the tree from the matching node to see if you reach the element, and 
only if you don't, then fall back on walking the tree. Assuming most such 
calls are not failing, that would give you pretty good performance (O(N) 
on the depth of the subtree, more or less).

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083480.html">[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments
</A></li>
	<LI>Next message: <A HREF="083483.html">[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83481">[ date ]</a>
              <a href="thread.html#83481">[ thread ]</a>
              <a href="subject.html#83481">[ subject ]</a>
              <a href="author.html#83481">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
