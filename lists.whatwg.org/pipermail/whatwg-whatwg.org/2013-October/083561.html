<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Stroking algorithm in Canvas 2d
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Stroking%20algorithm%20in%20Canvas%202d&In-Reply-To=%3CCAGN7qDCXyFbVwfZpx9S4YrRAZKGLudXvjxKN4QoA8aYaCefXCA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083559.html">
   <LINK REL="Next"  HREF="083562.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Stroking algorithm in Canvas 2d</H1>
<!--htdig_noindex-->
    <B>Rik Cabanier</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Stroking%20algorithm%20in%20Canvas%202d&In-Reply-To=%3CCAGN7qDCXyFbVwfZpx9S4YrRAZKGLudXvjxKN4QoA8aYaCefXCA%40mail.gmail.com%3E"
       TITLE="[whatwg] Stroking algorithm in Canvas 2d">cabanier at gmail.com
       </A><BR>
    <I>Mon Oct 28 10:39:31 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083559.html">[whatwg] Stroking algorithm in Canvas 2d
</A></li>
        <LI>Next message: <A HREF="083562.html">[whatwg] Stroking algorithm in Canvas 2d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83561">[ date ]</a>
              <a href="thread.html#83561">[ thread ]</a>
              <a href="subject.html#83561">[ subject ]</a>
              <a href="author.html#83561">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Oct 28, 2013 at 7:04 AM, Justin Novosad &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">junov at google.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> On Sun, Oct 27, 2013 at 10:36 PM, Rik Cabanier &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">cabanier at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>  The outline should be done in such a way that it is not affected by
</I>&gt;&gt;<i> winding.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Why is that important? Enforcing that can add a lot of complexity to cases
</I>&gt;<i> of self intersecting strokes, or line caps that overlap (
</I>&gt;<i> <A HREF="http://jsfiddle.net/aBmZ4/2/">http://jsfiddle.net/aBmZ4/2/</A>).  Today, these problems are easy to solve
</I>&gt;<i> correctly by using a non-zero fill.
</I>&gt;<i>
</I>
Hi Justin,

this was for APIs that calculates the outline/path of a stroke. Regular
strokes can use nzo-fill (if they're implemented by drawing paths).
Being winding agnostic is more author friendly. Otherwise the author would
have to remember that the other winding would give bad results. I've relied
on this behavior of our path optimizer many times in the past.
Compared to how difficult it is to get a useful outlined stroke, reversing
paths is very easy.

A &quot;useful&quot; stroke needs to remove subsections that have a color on both
sides.
I've attached an example outlined_stroke.png.
Example 1 is a dashed stroke where the endcaps overlap
Example 2 is the path that is calculated by the stroking algorithm and
filled with NZO
Example 3 is the path that describes the region of the stroke and is what
would be useful for an author
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083559.html">[whatwg] Stroking algorithm in Canvas 2d
</A></li>
	<LI>Next message: <A HREF="083562.html">[whatwg] Stroking algorithm in Canvas 2d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83561">[ date ]</a>
              <a href="thread.html#83561">[ thread ]</a>
              <a href="subject.html#83561">[ subject ]</a>
              <a href="author.html#83561">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
