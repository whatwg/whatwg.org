<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Notifications: usage feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Notifications%3A%20usage%20feedback&In-Reply-To=%3CCAHgY_ifyQtTh2zTonHTduRajSnnm8wKyYGPjVxgTC3w41rjaxQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041086.html">
   <LINK REL="Next"  HREF="083565.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Notifications: usage feedback</H1>
<!--htdig_noindex-->
    <B>James Burke</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Notifications%3A%20usage%20feedback&In-Reply-To=%3CCAHgY_ifyQtTh2zTonHTduRajSnnm8wKyYGPjVxgTC3w41rjaxQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Notifications: usage feedback">jrburke at gmail.com
       </A><BR>
    <I>Wed Oct 16 13:22:15 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="041086.html">[whatwg] Notifications: usage feedback
</A></li>
        <LI>Next message: <A HREF="083565.html">[whatwg] Notifications: usage feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83410">[ date ]</a>
              <a href="thread.html#83410">[ thread ]</a>
              <a href="subject.html#83410">[ subject ]</a>
              <a href="author.html#83410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Oct 14, 2013 at 7:09 AM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at annevk.nl</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> It seems using a structured clone makes the most sense. Transfering
</I>&gt;<i> objects won't work here. It's not entirely clear to me what the best
</I>&gt;<i> is for Blob, File, etc. Effectively the page can shut down, but they
</I>&gt;<i> will still be kept alive through this Notification. I guess it's not
</I>&gt;<i> too different from what Indexed DB can do.
</I>&gt;<i>
</I>&gt;<i> Is what what we want?
</I>
For my purposes, I was fine limiting to &quot;JSON-serializable&quot;, as that
is basically what I got with the iconURL hack we use now. However it
is likely that you have a better idea of what makes sense across the
platform.

For the email use case for notifications, we expect the app to be
completely removed from memory every so often, so we just want to
store enough simple state to route the action to take for the
notification correctly. The data in that case is more like a GET
querystring.

&gt;<i> My proposal would be to add a data member to NotificationsOptions and
</I>&gt;<i> a data property to Notification objects. The constructor does a
</I>&gt;<i> structured clone so that the data property returns a fresh object and
</I>&gt;<i> its established the object can indeed be cloned. I guess we'd also
</I>&gt;<i> have to keep a copy alive somewhere in case we need to create a new
</I>&gt;<i> instance of the Notification object (e.g. when Notification.get() is
</I>&gt;<i> used).
</I>
Those API changes work for me.

James

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041086.html">[whatwg] Notifications: usage feedback
</A></li>
	<LI>Next message: <A HREF="083565.html">[whatwg] Notifications: usage feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83410">[ date ]</a>
              <a href="thread.html#83410">[ thread ]</a>
              <a href="subject.html#83410">[ subject ]</a>
              <a href="author.html#83410">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
