<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20Adding%20methods%20like%20getElementById%20and%0A%20getElementsByTagName%20to%20DocumentFragments&In-Reply-To=%3CCABirCh8VVbJp_OJ7xxksOXLYwaY9GZLqocy1_-R41aNFs-MwBQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083336.html">
   <LINK REL="Next"  HREF="083320.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20Adding%20methods%20like%20getElementById%20and%0A%20getElementsByTagName%20to%20DocumentFragments&In-Reply-To=%3CCABirCh8VVbJp_OJ7xxksOXLYwaY9GZLqocy1_-R41aNFs-MwBQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments">glenn at zewt.org
       </A><BR>
    <I>Mon Oct 14 17:18:07 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083336.html">[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments
</A></li>
        <LI>Next message: <A HREF="083320.html">[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83372">[ date ]</a>
              <a href="thread.html#83372">[ thread ]</a>
              <a href="subject.html#83372">[ subject ]</a>
              <a href="author.html#83372">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Oct 10, 2013 at 1:41 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:

&gt;<i> Leaving aside the issue that &quot;CSS-escape&quot; is more than one operation
</I>&gt;<i> depending on what kind of token you're creating,
</I>

My understanding is that you can do both of them, at least for
selector-related escaping, so the author doesn't have to know about the
difference.  That's based on Simon's earlier mail:

On Thu, Oct 10, 2013 at 6:06 AM, Simon Pieters &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">simonp at opera.com</A>&gt; wrote:

&gt;<i> The common case is escaping as ident. An API to escape as ident could be
</I>&gt;<i> used for escaping strings, too. In order to not make people think more than
</I>&gt;<i> just remembering to escape at all, it might be a good idea to just have one
</I>&gt;<i> API to serve both cases, e.g. CSS.escape(foo).
</I>&gt;<i>
</I>

I don't think it's actually as trivial as you think.
&gt;<i>
</I>&gt;<i>    document.getElementById(id)
</I>&gt;<i>
</I>&gt;<i> ...becomes:
</I>&gt;<i>
</I>&gt;<i>    document.querySelector('#' + escapeCSSIdent(id))
</I>&gt;<i>
</I>&gt;<i> ...which is a lot less pretty and understandable, especially when you
</I>&gt;<i> consider that many authors are actually coming from:
</I>&gt;<i>
</I>&gt;<i>    document.all[id]
</I>&gt;<i>
</I>&gt;<i> ...which is briefer than either, and still self-explanatory.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I feel this is a case where we're not putting authors first, but are
</I>&gt;<i> instead putting spec purity first.
</I>&gt;<i>
</I>
(Nothing about this discussion relates to &quot;spec purity&quot;, whatever that
means.  My argument is that this function is useless legacy, and that
proliferating it to DocumentFragment seems to be for consistency's sake
only.)

I think the example you gave is trivial and perfectly fine, particularly
since you need to do the same thing anyway as soon as you're doing anything
other than ID lookups or the other couple special cases.  I find that
happens very quickly, so my code is a lot more readable when I just use
querySelector everywhere.

But adding another getElementById is probably low cost, so it doesn't
bother me that much.

--
Glenn Maynard

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083336.html">[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments
</A></li>
	<LI>Next message: <A HREF="083320.html">[whatwg] Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83372">[ date ]</a>
              <a href="thread.html#83372">[ thread ]</a>
              <a href="subject.html#83372">[ subject ]</a>
              <a href="author.html#83372">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
