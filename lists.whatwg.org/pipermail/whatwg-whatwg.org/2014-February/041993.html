<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal: Specify SHA512 hash of JavaScript files in &lt;script&gt; tag
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20Specify%20SHA512%20hash%20of%20JavaScript%20files%20in%0A%20%3Cscript%3E%20tag&In-Reply-To=%3Calpine.DEB.2.00.1402042216400.26647%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084287.html">
   <LINK REL="Next"  HREF="084267.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal: Specify SHA512 hash of JavaScript files in &lt;script&gt; tag</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20Specify%20SHA512%20hash%20of%20JavaScript%20files%20in%0A%20%3Cscript%3E%20tag&In-Reply-To=%3Calpine.DEB.2.00.1402042216400.26647%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Proposal: Specify SHA512 hash of JavaScript files in &lt;script&gt; tag">ian at hixie.ch
       </A><BR>
    <I>Tue Feb  4 15:59:59 PST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="084287.html">[whatwg] hit regions: moving an element out of the shadow tree
</A></li>
        <LI>Next message: <A HREF="084267.html">[whatwg] Proposal: Specify SHA512 hash of JavaScript files in &lt;script&gt; tag
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41993">[ date ]</a>
              <a href="thread.html#41993">[ thread ]</a>
              <a href="subject.html#41993">[ subject ]</a>
              <a href="author.html#41993">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, 14 Dec 2013, Some Developer wrote:
&gt;<i>
</I>&gt;<i> Currently most people store their JavaScript code on a CDN of some sort. 
</I>&gt;<i> This often involves uploading their JavaScript files to a server hosted 
</I>&gt;<i> and run by a third party which means the control and security of the 
</I>&gt;<i> server is out of the hands of the website owner. If the CDN is hacked or 
</I>&gt;<i> a rogue employee decides to edit your JavaScript you might end up 
</I>&gt;<i> serving malicious JavaScript to your users without even knowing it.
</I>&gt;<i> 
</I>&gt;<i> In order to overcome this problem I propose that a new attribute is 
</I>&gt;<i> added to the &lt;script&gt; tag which allows the website owner to specify a 
</I>&gt;<i> SHA512 hash of the JavaScript file ahead of time. If when the file is 
</I>&gt;<i> downloaded from the CDN by the browser it does not match the SHA512 hash 
</I>&gt;<i> in the HTML the browser should discard the JavaScript file and display a 
</I>&gt;<i> warning to the user that the file has been modified and that it should 
</I>&gt;<i> be considered as malicious.
</I>
How common is this problem? Are there really sufficiently large numbers of 
people who use trusted computers to serve one part of their application, 
but use comparatively untrusted computers to serve subresources, to 
warrant such a feature? Presumably, anyone using shared hosting or a colo 
with a private server would be no more able to trust their primary server 
as their CDN. (Or equivalently, they'd be no less able to trust their CDN 
than their primary server.)

Does anyone do this manually today? It would be relatively straight- 
forward to use CORS-enabled XHR to obtain the remote script, and then 
check the hash manually using script obtained from the primary server, and 
only eval the script if it matched. If nobody is doing this today, this 
probably indicates it's not a high priority for the platform. On the other 
hand, if people _are_ doing this, then that's a good indication that we 
should add it.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>










<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084287.html">[whatwg] hit regions: moving an element out of the shadow tree
</A></li>
	<LI>Next message: <A HREF="084267.html">[whatwg] Proposal: Specify SHA512 hash of JavaScript files in &lt;script&gt; tag
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41993">[ date ]</a>
              <a href="thread.html#41993">[ thread ]</a>
              <a href="subject.html#41993">[ subject ]</a>
              <a href="author.html#41993">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
