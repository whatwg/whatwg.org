<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [Canvas] Behavior on non-invertable CTM
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BCanvas%5D%20Behavior%20on%20non-invertable%20CTM&In-Reply-To=%3Calpine.DEB.2.00.1402062253400.30855%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042003.html">
   <LINK REL="Next"  HREF="084279.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [Canvas] Behavior on non-invertable CTM</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BCanvas%5D%20Behavior%20on%20non-invertable%20CTM&In-Reply-To=%3Calpine.DEB.2.00.1402062253400.30855%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] [Canvas] Behavior on non-invertable CTM">ian at hixie.ch
       </A><BR>
    <I>Thu Feb  6 14:55:27 PST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="042003.html">[whatwg] [Canvas] Behavior on non-invertable CTM
</A></li>
        <LI>Next message: <A HREF="084279.html">[whatwg] [Canvas] Behavior on non-invertable CTM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84277">[ date ]</a>
              <a href="thread.html#84277">[ thread ]</a>
              <a href="subject.html#84277">[ subject ]</a>
              <a href="author.html#84277">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 6 Feb 2014, Justin Novosad wrote:
&gt;<i>
</I>&gt;<i> I am looking into correcting Chrome's behavior to make it spec-compliant in
</I>&gt;<i> this case.  There is one specific primitive that is proving problematic:
</I>&gt;<i> arcTo
</I>&gt;<i>
</I>&gt;<i> The problem is that the algorithm needs to bring the last point in the 
</I>&gt;<i> subpath into the arc's local coordinate space, which requires inverting 
</I>&gt;<i> the CTM.
</I>&gt;<i> 
</I>&gt;<i> Current text: If the point (x0, y0) is equal to the point (x1, y1), or 
</I>&gt;<i> if the point (x1, y1) is equal to the point (x2, y2), or if both radiusX 
</I>&gt;<i> and radiusY are zero, then the method must add the point (x1, y1) to the 
</I>&gt;<i> subpath, and connect that point to the previous point (x0, y0) by a 
</I>&gt;<i> straight line.
</I>
I don't understand why this needs the last point in the subpath to be 
converted to the arc's local coordinate space, rather than the other way 
around. Can you elaborate? why can't you convert all the points to the 
current coordinate space before doing the comparisons?

(I'm probably missing something critical here.)


&gt;<i> As far as I can tell, quadraticCurveTo and bezierCurveTo do not have 
</I>&gt;<i> this problem because the curves can be computed by first transforming 
</I>&gt;<i> all points to global coordinate space, to compute the curves in global 
</I>&gt;<i> space.
</I>
Why is this not the case for arcs?

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042003.html">[whatwg] [Canvas] Behavior on non-invertable CTM
</A></li>
	<LI>Next message: <A HREF="084279.html">[whatwg] [Canvas] Behavior on non-invertable CTM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84277">[ date ]</a>
              <a href="thread.html#84277">[ thread ]</a>
              <a href="subject.html#84277">[ subject ]</a>
              <a href="author.html#84277">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
