<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Guessing the fallback encoding from the top-level domain name before trying to guess from the browser localization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Guessing%20the%20fallback%20encoding%20from%20the%20top-level%0A%20domain%20name%20before%20trying%20to%20guess%20from%20the%20browser%20localization&In-Reply-To=%3CCANXqsR%2BmQPTzULdDKBEeWzUDqLJT7LhpQTGS6GWFP8Hn%2BttE5Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084286.html">
   <LINK REL="Next"  HREF="042015.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Guessing the fallback encoding from the top-level domain name before trying to guess from the browser localization</H1>
<!--htdig_noindex-->
    <B>Henri Sivonen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Guessing%20the%20fallback%20encoding%20from%20the%20top-level%0A%20domain%20name%20before%20trying%20to%20guess%20from%20the%20browser%20localization&In-Reply-To=%3CCANXqsR%2BmQPTzULdDKBEeWzUDqLJT7LhpQTGS6GWFP8Hn%2BttE5Q%40mail.gmail.com%3E"
       TITLE="[whatwg] Guessing the fallback encoding from the top-level domain name before trying to guess from the browser localization">hsivonen at hsivonen.fi
       </A><BR>
    <I>Wed Feb 26 03:07:25 PST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="084286.html">[whatwg] Guessing the fallback encoding from the top-level domain name before trying to guess from the browser localization
</A></li>
        <LI>Next message: <A HREF="042015.html">[whatwg] microdata questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84381">[ date ]</a>
              <a href="thread.html#84381">[ thread ]</a>
              <a href="subject.html#84381">[ subject ]</a>
              <a href="author.html#84381">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, Feb 8, 2014 at 12:37 AM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i> What have you learnt so far?
</I>
I've learned that I've misattributed the cause of high frequency of
character encoding menu usage in the case of the Traditional Chinese
localization. We've been shipping after the wrong fallback encoding
(UTF-8) even after the fallback encoding was supposedly fixed (to
Big5). Shows what kind of a mess our previous mechanism for setting
the fallback encoding in a locale-dependent way was. The fallback
encoding for Traditional Chinese will change to Big5 for real in
Firefox 28.

I might have improved (hopefully; to be seen still) Firefox for the
wrong reason. Oops. :-)

Also, more baseline telemetry data (i.e. data without TLD-based
guessing) is now available. The last 3 weeks of Firefox 25 on the
release channel:
<A HREF="https://bug965707.bugzilla.mozilla.org/attachment.cgi?id=8381393">https://bug965707.bugzilla.mozilla.org/attachment.cgi?id=8381393</A> . The
last 3 weeks of Firefox 26 on the release channel:
<A HREF="https://bug965707.bugzilla.mozilla.org/attachment.cgi?id=8381394">https://bug965707.bugzilla.mozilla.org/attachment.cgi?id=8381394</A> . The
rows for locales with such little usage overall but even a couple of
sessions with the encoding menu use puts them of the list
percentage-wise are grayed. In both cases, the top entries in black
are Traditional Chinese and Thai, both of which have the wrong
fallback. Up next are CJK followed by the Cyrillic locales that have a
detector on by default (Russian and Ukrainian), which makes one wonder
if the detectors are doing more harm than good. Up next is Arabic,
which has the wrong fallback. (These wrong fallbacks are fixed in
Firefox 28. In Firefox 28, no locale falls back to UTF-8.)

-- 
Henri Sivonen
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at hsivonen.fi</A>
<A HREF="https://hsivonen.fi/">https://hsivonen.fi/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084286.html">[whatwg] Guessing the fallback encoding from the top-level domain name before trying to guess from the browser localization
</A></li>
	<LI>Next message: <A HREF="042015.html">[whatwg] microdata questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84381">[ date ]</a>
              <a href="thread.html#84381">[ thread ]</a>
              <a href="subject.html#84381">[ subject ]</a>
              <a href="author.html#84381">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
