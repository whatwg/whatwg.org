<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal: requestBackgroundProcessing()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20requestBackgroundProcessing%28%29&In-Reply-To=%3CCAABs73gGRovUOzxFFg_5f%2B-gov34Dyg1rBhbHDrdzQgineH-1A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084356.html">
   <LINK REL="Next"  HREF="084358.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal: requestBackgroundProcessing()</H1>
<!--htdig_noindex-->
    <B>Ashley Gullen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20requestBackgroundProcessing%28%29&In-Reply-To=%3CCAABs73gGRovUOzxFFg_5f%2B-gov34Dyg1rBhbHDrdzQgineH-1A%40mail.gmail.com%3E"
       TITLE="[whatwg] Proposal: requestBackgroundProcessing()">ashley at scirra.com
       </A><BR>
    <I>Thu Feb 20 14:32:47 PST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="084356.html">[whatwg] Proposal: requestBackgroundProcessing()
</A></li>
        <LI>Next message: <A HREF="084358.html">[whatwg] Proposal: requestBackgroundProcessing()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84357">[ date ]</a>
              <a href="thread.html#84357">[ thread ]</a>
              <a href="subject.html#84357">[ subject ]</a>
              <a href="author.html#84357">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Since it's a peer-to-peer engine, the user acting as the server is also a
participant in the game. This means the server is also running the full
game experience with rendering and audio. The game logic is tied to rAF,
since we intend to step the world once per screen draw, including for the
player acting as a server. It looks like the server is caught between
running in the UI thread and hanging when in the background, or running in
the worker and not having a straightforward way to provide the rendering
and audio game experience for the host player.

One solution is to make web workers able to access many of the same APIs
the UI thread can, especially with WebGL, Web Audio, WebRTC and rAF. Then
it might be practical to move a full game engine in to a worker. If that is
planned, I guess there is no need for a new feature.

Ashley




On 20 February 2014 21:55, Glenn Maynard &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">glenn at zewt.org</A>&gt; wrote:

&gt;<i> On Thu, Feb 20, 2014 at 3:29 PM, Ashley Gullen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ashley at scirra.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> There's a lot of worker features that aren't widely supported yet, like
</I>&gt;&gt;<i> rendering to canvas with WebGL and 2D, Web Audio support, inputs, various
</I>&gt;&gt;<i> APIs like speech and fullscreen, so I don't think that's practical right
</I>&gt;&gt;<i> now. I guess that's not a reason to standardise a new feature, but is there
</I>&gt;&gt;<i> not at least a workaround for the mean time? Are workers able to wake the
</I>&gt;&gt;<i> UI with postMessage()?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> You were talking about running the server of a multiplayer game.  Other
</I>&gt;<i> than communicating with other clients, it doesn't need any of that, right?
</I>&gt;<i>  Those are all client-side behaviors.
</I>&gt;<i>
</I>&gt;<i> You can send a message to the UI thread.  I didn't suggest that, since it
</I>&gt;<i> feels like an arms race of trying to sidestep browser behavior.  It may not
</I>&gt;<i> matter, since the common things they're trying to stop are probably things
</I>&gt;<i> like never-ending animation timers running when you can't even see it (who
</I>&gt;<i> have no reason to drive their timers from a worker to bypass the timer
</I>&gt;<i> throttling), but I'd recommend trying to move your actual server logic into
</I>&gt;<i> a worker.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Glenn Maynard
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084356.html">[whatwg] Proposal: requestBackgroundProcessing()
</A></li>
	<LI>Next message: <A HREF="084358.html">[whatwg] Proposal: requestBackgroundProcessing()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84357">[ date ]</a>
              <a href="thread.html#84357">[ thread ]</a>
              <a href="subject.html#84357">[ subject ]</a>
              <a href="author.html#84357">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
