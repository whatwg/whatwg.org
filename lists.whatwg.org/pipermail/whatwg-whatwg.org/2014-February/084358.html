<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal: requestBackgroundProcessing()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20requestBackgroundProcessing%28%29&In-Reply-To=%3CCABirCh_f3OMEzdKunZknouKWo72-923VbYr-Y3fcVW0n6wNCJA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084357.html">
   <LINK REL="Next"  HREF="084359.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal: requestBackgroundProcessing()</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20requestBackgroundProcessing%28%29&In-Reply-To=%3CCABirCh_f3OMEzdKunZknouKWo72-923VbYr-Y3fcVW0n6wNCJA%40mail.gmail.com%3E"
       TITLE="[whatwg] Proposal: requestBackgroundProcessing()">glenn at zewt.org
       </A><BR>
    <I>Thu Feb 20 16:50:48 PST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="084357.html">[whatwg] Proposal: requestBackgroundProcessing()
</A></li>
        <LI>Next message: <A HREF="084359.html">[whatwg] Proposal: requestBackgroundProcessing()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84358">[ date ]</a>
              <a href="thread.html#84358">[ thread ]</a>
              <a href="subject.html#84358">[ subject ]</a>
              <a href="author.html#84358">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Feb 20, 2014 at 4:32 PM, Ashley Gullen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ashley at scirra.com</A>&gt; wrote:

&gt;<i> Since it's a peer-to-peer engine, the user acting as the server is also a
</I>&gt;<i> participant in the game. This means the server is also running the full
</I>&gt;<i> game experience with rendering and audio.
</I>&gt;<i>
</I>
The user is a client, and also a server for all clients (including
itself).  There should be no need for the client to run in the same
environment as the server.  The user's client is just another client to the
server (that happens to be running in a worker in the same browser).

The game logic is tied to rAF, since we intend to step the world once per
&gt;<i> screen draw, including for the player acting as a server.
</I>&gt;<i>
</I>
That doesn't make sense.  requestAnimationFrame is bound to the refresh
rate of the user's monitor, and each user can have a monitor with a
different refresh rate.  (You can even have different monitors on the same
system with different refresh rates, though I don't know if that happens in
practice today.)  Even if everyone's monitor happens to have the same
refresh rate, the monitors won't all be refreshing in sync.  You also
wouldn't want gameplay behavior to change in subtle ways depending on
whether some user's display was at 50Hz or 60Hz or 120Hz.


&gt;<i> It looks like the server is caught between running in the UI thread and
</I>&gt;<i> hanging when in the background, or running in the worker and not having a
</I>&gt;<i> straightforward way to provide the rendering and audio game experience for
</I>&gt;<i> the host player.
</I>&gt;<i>
</I>
The host player just connects to the server, like any other client does.
(The actual connection layer is likely to be different, of course, since
you can just post messages across and not establish any network connection.)


&gt;<i> One solution is to make web workers able to access many of the same APIs
</I>&gt;<i> the UI thread can, especially with WebGL, Web Audio, WebRTC and rAF. Then
</I>&gt;<i> it might be practical to move a full game engine in to a worker. If that is
</I>&gt;<i> planned, I guess there is no need for a new feature.
</I>&gt;<i>
</I>
Not a &quot;full game engine&quot;, just the server logic where gameplay state,
physics and so on are handled and communicated to clients.

-- 
Glenn Maynard

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084357.html">[whatwg] Proposal: requestBackgroundProcessing()
</A></li>
	<LI>Next message: <A HREF="084359.html">[whatwg] Proposal: requestBackgroundProcessing()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84358">[ date ]</a>
              <a href="thread.html#84358">[ thread ]</a>
              <a href="subject.html#84358">[ subject ]</a>
              <a href="author.html#84358">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
