<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] WA1 - The Section Header Problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WA1%20-%20The%20Section%20Header%20Problem&In-Reply-To=%3C419E24C9.1050109%40earthlink.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044770.html">
   <LINK REL="Next"  HREF="044773.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] WA1 - The Section Header Problem</H1>
<!--htdig_noindex-->
    <B>Matthew Raymond</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WA1%20-%20The%20Section%20Header%20Problem&In-Reply-To=%3C419E24C9.1050109%40earthlink.net%3E"
       TITLE="[whatwg] WA1 - The Section Header Problem">mattraymond at earthlink.net
       </A><BR>
    <I>Fri Nov 19 08:52:25 PST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="044770.html">[whatwg] onformoutput?
</A></li>
        <LI>Next message: <A HREF="044773.html">[whatwg] WA1 - The Section Header Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44772">[ date ]</a>
              <a href="thread.html#44772">[ thread ]</a>
              <a href="subject.html#44772">[ subject ]</a>
              <a href="author.html#44772">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>James Graham wrote:
&gt;<i> Matthew Raymond wrote:
</I>&gt;&gt;<i> James Graham wrote:
</I>&gt;&gt;&gt;<i> Giving UAs options tends to lead to non-interoperable solutions.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    Why do outlines build entirely by user agents have to interoperate?
</I>&gt;<i> 
</I>&gt;<i> Because one &quot;User Agent&quot; might be an editor which automatically inserts 
</I>&gt;<i> a table of contents whilst the other might be a browser which shows an 
</I>&gt;<i> outline, for example.
</I>
    How is that every different from right now, except that you're 
throwing &lt;section&gt; into the mix? Since I define that &lt;section&gt; structure 
must not be overridden, it sounds more like you want a greater 
definition of how the header elements themselves can be used to create 
an outline.

&gt;&gt;<i> Furthermore, I'm not giving the user agents anything they didn't 
</I>&gt;&gt;<i> already have. I'm simply defining a way vendors can continue using 
</I>&gt;&gt;<i> &lt;h1&gt;-&lt;h6&gt; as they were using it before without breaking the structure 
</I>&gt;&gt;<i> created by &lt;section&gt; elements. 
</I>&gt;<i> 
</I>&gt;<i> Vendors of what?
</I>
    Vendors in my above statement are people who create user agents.

&gt;<i> And breaking the structure how?
</I>
    As previously stated, user agents would not be able to process 
header elements in such a way that they alter the structure created by 
the &lt;section&gt; elements. If the user agent vendor so chooses, the UA can 
append to that structure, but not alter it.

 &gt; I don't see how a
&gt;<i> clearly defined relationship between &lt;hn&gt; and &lt;section&gt; will break 
</I>&gt;<i> anything.
</I>
    Are you kidding me? Look at this:

|<i> &lt;section&gt;
</I>|<i>  &lt;h1&gt;Header A&lt;/h1&gt;
</I>|<i>  &lt;section&gt;
</I>|<i>   &lt;h2&gt;Header B&lt;/h2&gt;
</I>|<i>   &lt;h1&gt;Header C&lt;/h1&gt;
</I>|<i>  &lt;/section&gt;
</I>|<i> &lt;/section&gt;
</I>
    If you only look at the the headers, you have this structure:

Header A
+- Header B
Header C

    This violates the structure of the &lt;section&gt; elements. Therefore, 
the example above can only have the following structure:

Header A
|<i>- Header B
</I>+- Header C

    Now, let's change that example a bit:

|<i> &lt;section&gt;
</I>|<i>  &lt;h1&gt;Header A&lt;/h1&gt;
</I>|<i>  &lt;section&gt;
</I>|<i>   &lt;h1&gt;Header B&lt;/h1&gt;
</I>|<i>   &lt;h2&gt;Header C&lt;/h2&gt;
</I>|<i>  &lt;/section&gt;
</I>|<i> &lt;/section&gt;
</I>
    According to the header information alone, the structure could look 
like this:

Header A
Header B
+- Header C

    This violates the &lt;section&gt; structure, which looks like this:

Header A
|<i>- Header B
</I>+- Header C

    What my model lets user agents do is interpret the headers in a way 
that preserves the existing structure, but can also append to it, so the 
second markup example above could, if the UA vendor so chooses, yield 
this structure:

Header A
+- Header B
    +- Header C

&gt;&gt;<i> &gt; If they don't know that why have any spec at all?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    HTML 4.01, with regards to headers, has virtually no specification. 
</I>&gt;&gt;<i> this is the entire specification of it:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &quot;Heading information may be used by user agents, for example, to 
</I>&gt;&gt;<i> construct a table of contents for a document automatically.&quot;
</I>&gt;<i> 
</I>&gt;<i> I'm aware of the limitations of HTML 4 on this issue. That doesn't mean 
</I>&gt;<i> we should do a bunch of stuff to make headings work properly and then 
</I>&gt;<i> throw away that progress at the last minute &quot;because HTML 4 got this 
</I>&gt;<i> wrong&quot;.
</I>
    You're missing the point. HTML doesn't even define what &quot;right&quot; and 
&quot;wrong&quot; are. Therefore, in theory, we have no way of knowing how user 
agents may interpret headers. I'm simply suggesting that we go from a 
&quot;do what you want&quot; model to a &quot;do what you want, but don't break the 
sections&quot; model.

&gt;&gt;&gt;<i> What do you mean by &quot;structual semantics&quot; other than the ability of a 
</I>&gt;&gt;&gt;<i> UA to infer an document structure, of which an outline is a 
</I>&gt;&gt;&gt;<i> representation.  The whole concept of semantics is only useful 
</I>&gt;&gt;&gt;<i> insofar as
</I>&gt;&gt;&gt;<i> it allows UAs to do something and in the case of structure the 
</I>&gt;&gt;&gt;<i> obvious thing for a UA to do is present the structure. What's the 
</I>&gt;&gt;&gt;<i> point of speccing up a robust structural model if we don't specify 
</I>&gt;&gt;&gt;<i> how one can infer structure from the model? You seem to be 
</I>&gt;&gt;&gt;<i> sidestepping the problem rather than solving it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    I'm not sure what you're getting at here. The &lt;hn&gt; elements, as 
</I>&gt;&gt;<i> defined in HTML 4.01, don't have any semantic meaning related to 
</I>&gt;&gt;<i> structure.
</I>&gt;<i> 
</I>&gt;<i> Yes they do. They head (unmarked) sections of the document. It's poorly 
</I>&gt;<i> defined in the spec how those document sections are related to each 
</I>&gt;<i> other but, given the markup in the spec itself, we can infer how HTML 4 
</I>&gt;<i> headings are supposed to be used.
</I>
    Not really. The example given uses &lt;div&gt; elements to create 
structure in the markup. From that example, you could make a better 
argument that &lt;div&gt; equals &lt;section&gt;. Allow me to quote:

|<i> &lt;DIV class=&quot;section&quot; id=&quot;forest-elephants&quot; &gt;
</I>|<i> &lt;H1&gt;Forest elephants&lt;/H1&gt;
</I>|<i> &lt;P&gt;In this section, we discuss the lesser known forest elephants.
</I>|<i> ...this section continues...
</I>|<i> &lt;DIV class=&quot;subsection&quot; id=&quot;forest-habitat&quot; &gt;
</I>|<i> &lt;H2&gt;Habitat&lt;/H2&gt;
</I>|<i> &lt;P&gt;Forest elephants do not live in trees but among them.
</I>|<i> ...this subsection continues...
</I>|<i> &lt;/DIV&gt;
</I>|<i> &lt;/DIV&gt;
</I>
    Let's format this in XHTML and replace &quot;div&quot; with &quot;section&quot;:

|<i> &lt;section id=&quot;forest-elephants&quot; &gt;
</I>|<i> &lt;h1&gt;Forest elephants&lt;/h1&gt;
</I>|<i> &lt;p&gt;In this section, we discuss the lesser known forest elephants.
</I>|<i> ...this section continues...&lt;/p&gt;
</I>|<i> &lt;section id=&quot;forest-habitat&quot; &gt;
</I>|<i> &lt;h2&gt;Habitat&lt;/h2&gt;
</I>|<i> &lt;p&gt;Forest elephants do not live in trees but among them.
</I>|<i> ...this subsection continues...&lt;/p&gt;
</I>|<i> &lt;/section&gt;
</I>|<i> &lt;/section&gt;
</I>
    In the HTML 4.01 spec example, you don't even need importance levels 
to determine the document structure. In fact, from the example, there is 
the suggestion that &lt;div&gt; elements are required to associate the headers 
with their respective content, which is probably not a road we want to 
go down.

&gt;&gt;<i> In fact, there is no definition in the specification of how to 
</I>&gt;&gt;<i> associate headers with content or even how they relate to each other. 
</I>&gt;&gt;<i> All I'm attempting to do is say that if vendors decide to make up 
</I>&gt;&gt;<i> their own set of rules regarding how to use that header information, 
</I>&gt;&gt;<i> those rules can't violate the structure created by the &lt;section&gt; 
</I>&gt;&gt;<i> elements. 
</I>&gt;<i> 
</I>&gt;<i> Why are vendors going to be making up their own rules at all. I really 
</I>&gt;<i> don't understand what that gives anyone. Vendors, authors and users are 
</I>&gt;<i> all better off if there is a single, working, header model (and, in 
</I>&gt;<i> general, if the spec defines expected behavior as far as possible).
</I>
    Let's say you have a document with the following contents in the &lt;body&gt;:

|<i> &lt;h1&gt;Heading A&lt;/h1&gt;
</I>|<i> &lt;p&gt;...content...&lt;/p&gt;
</I>|<i> &lt;h2&gt;Heading A.1&lt;/h1&gt;
</I>|<i> &lt;p&gt;...content...&lt;/p&gt;
</I>|<i> &lt;h3&gt;Heading A.1.1&lt;/h1&gt;
</I>|<i> &lt;p&gt;...content...&lt;/p&gt;
</I>|<i> &lt;h2&gt;Heading A.2&lt;/h1&gt;
</I>|<i> &lt;p&gt;...content...&lt;/p&gt;
</I>|<i> &lt;h3&gt;Heading A.2.1&lt;/h1&gt;
</I>|<i> &lt;p&gt;...content...&lt;/p&gt;
</I>
    Now let's say you copy the entire block into section in another 
document:

|<i> &lt;section&gt;
</I>|<i>  &lt;h1&gt;Heading A&lt;/h1&gt;
</I>|<i>  &lt;p&gt;...content...&lt;/p&gt;
</I>|<i>  &lt;h2&gt;Heading A.1&lt;/h1&gt;
</I>|<i>  &lt;p&gt;...content...&lt;/p&gt;
</I>|<i>  &lt;h3&gt;Heading A.1.1&lt;/h1&gt;
</I>|<i>  &lt;p&gt;...content...&lt;/p&gt;
</I>|<i>  &lt;h2&gt;Heading A.2&lt;/h1&gt;
</I>|<i>  &lt;p&gt;...content...&lt;/p&gt;
</I>|<i>  &lt;h3&gt;Heading A.2.1&lt;/h1&gt;
</I>|<i>  &lt;p&gt;...content...&lt;/p&gt;
</I>|<i> &lt;/section&gt;
</I>
    If we define &lt;hn&gt; as having no structure inside a &lt;section&gt;, we 
loose what structure there was in the first document and force a 
structural rewrite of the markup. (Keep in mind, I use Notepad for my 
HTML, so the argument of letting the editor convert the code for you is 
a bit weak for me.) If you define specific rules for how headings work 
within a section, and those rules don't apply outside a &lt;section&gt;, you 
create confusion for webmasters. If you apply new rules to headings in a 
general manner, you are likely to break the way existing HTML 4.01 user 
agents handle the markup.

    UA vendors have already made up their own rules in the absence of 
good spec writing. The only question is whether we try to accommodate 
those rules or break them.

&gt;&gt;<i>    I don't see a point to this limitation. In my model, an &lt;hn&gt; 
</I>&gt;&gt;<i> element renders the same regardless of where it's used, unless it's 
</I>&gt;&gt;<i> used as a tab label, and &lt;h&gt; = &lt;h[level]&gt; with regards to both 
</I>&gt;&gt;<i> semantics and presentation. Are you referring to levels greater than 
</I>&gt;&gt;<i> six? We can just make the default presentation for a header with a 
</I>&gt;&gt;<i> level greater than six the same as &lt;h6&gt;. Actually, correct me if I'm 
</I>&gt;&gt;<i> wrong, but would this work for that:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> |   h1, section[level=1] h { /* H1 styling */ }
</I>&gt;&gt;<i> |   h2, section[level=2] h { /* H2 styling */ }
</I>&gt;&gt;<i> |   h3, section[level=3] h { /* H3 styling */ }
</I>&gt;&gt;<i> |   h4, section[level=4] h { /* H4 styling */ }
</I>&gt;&gt;<i> |   h5, section[level=5] h { /* H5 styling */ }
</I>&gt;&gt;<i> |   h6, section[level=6] h { /* H6 styling */ }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    Well, in theory, some jerk could do &lt;section level=&quot;7&quot;&gt;, I suppose. 
</I>&gt;&gt;<i> I wish you could do this in CSS:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> |   h6, section[level&gt;=6] h { /* H6 styling */ } 
</I>&gt;<i> 
</I>&gt;<i> As other people have pointed out, the point of allowing nested 
</I>&gt;<i> &lt;sections&gt; is that you don't have to do this. Besides, what does:
</I>&gt;<i> &lt;section level=&quot;25&quot;&gt;
</I>&gt;<i> &lt;section level=&quot;3&quot;&gt;
</I>&gt;<i> &lt;/section&gt;
</I>&gt;<i> &lt;/section&gt;
</I>&gt;<i> 
</I>&gt;<i> mean?
</I>
    It means the subsection is more important than the section. For 
instance, I may think that SGML is of trivial importance and that HTML 
is far more important, but since HTML is a child of SGML and not the 
other way around, HTML ends up a child of SGML.

 &gt; This idea seems to reproduce all the problems of the HTML4 heading
&gt;<i> model.
</I>
    If you mean that it preserves the HTML4 heading model as much as 
possible for backwards compatibility, then yes, it does.

 &gt; And I'm still trying to work out what the real advantage would be.

    Here's some advantages:

1) Legacy header markup renders in an HTML5 UAs in the same way it would 
in the HTML4 version of the same UA.

2) Markup is rendered and processes in the same way by the UA regardless 
of whether it's inside a &lt;section&gt; element or not.

3) Cutting and pasting legacy header content doesn't change how it's 
processed unless it directly conflicts with the &lt;section&gt; structure.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044770.html">[whatwg] onformoutput?
</A></li>
	<LI>Next message: <A HREF="044773.html">[whatwg] WA1 - The Section Header Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44772">[ date ]</a>
              <a href="thread.html#44772">[ thread ]</a>
              <a href="subject.html#44772">[ subject ]</a>
              <a href="author.html#44772">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
