<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] More thoughts about custom widgets
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20More%20thoughts%20about%20custom%20widgets&In-Reply-To=%3C41A334B3.8030002%40olav.dk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002532.html">
   <LINK REL="Next"  HREF="002536.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] More thoughts about custom widgets</H1>
<!--htdig_noindex-->
    <B>Olav Junker Kj&#230;r</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20More%20thoughts%20about%20custom%20widgets&In-Reply-To=%3C41A334B3.8030002%40olav.dk%3E"
       TITLE="[whatwg] More thoughts about custom widgets">olav at olav.dk
       </A><BR>
    <I>Tue Nov 23 05:01:39 PST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="002532.html">[whatwg] New suggestion for mutually exclusive sections in WF2
</A></li>
        <LI>Next message: <A HREF="002536.html">[whatwg] More thoughts about custom widgets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2533">[ date ]</a>
              <a href="thread.html#2533">[ thread ]</a>
              <a href="subject.html#2533">[ subject ]</a>
              <a href="author.html#2533">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I thought a little bit more about custom widgets.

Two audiences are involved. People writing custom widgets, and people 
using custom widgets developed by others. The first group have at least 
some experience with javascript. The last group might not understand 
javascript at all, but may have used some cut-and-paste scripts.

I should be as easy as possible to use a custom widget (developed by 
someone else) on a WF2, preferable it should be done without any javascript.

Using a color picker in a form should be as easy as

1) include &lt;script src=&quot;customcolorpicker.js&quot;&gt;&lt;/script&gt; in the header
2) writing: &lt;input type=&quot;text&quot; widget=&quot;colorpicker&quot;&gt; in the form.

On the other hand, in a platform specific environment, is should be just 
as easy to use some advanced extension mechanism:

&lt;input type=&quot;text&quot; widget=&quot;colorpicker1&quot;&gt;
&lt;cyberwidgets:colorpicker id=colorpicker1&gt;
&lt;/cyberwidgets:colorpicker&gt;

The widget probably need to execute some code at initialization time, to 
generate its initial html representation. If the widget is implemented 
as a xbl or something like this, the widget element can handle this on 
its own. However, if the widget is implemented in a javascript file, 
some initialization method must be called from the WF2 field.

I imagine something like: a field has a widget attribute which is either 
the ID of an element or the name of a globally defined javascript 
function. Or it could be a javascript expression which evaluates to a 
function or object/element reference.
If the property is sat through the DOM, the value might be a reference 
rather than a name or expression.

When the field is initialized, the widget attribute is checked. If it is 
present, the default widget is hidden and the value is evaluated.
- If it evaluates to a javascript function, the function is executed 
with the field as parameter.
- If it evaluates to an element (or javascript object), and that object 
has a method 'initializeWidget()', that method it is called with the 
field as parameter.

The function (which might be a constructor) or method initializes the 
widget, generates additional HTML in the document, and keeps a reference 
to the underlying field for tracking and updating its value.

This is a bit fuzzy I know, but I think the important part is that it 
should be very easy for casual HTML authors to connect a 3rd party 
widget to a WF2 field. The API for custom widget should be simple, but 
not at the expense of making it more complicated to integrate the widget 
in a form.

Olav Junker Kj&#230;r

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002532.html">[whatwg] New suggestion for mutually exclusive sections in WF2
</A></li>
	<LI>Next message: <A HREF="002536.html">[whatwg] More thoughts about custom widgets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2533">[ date ]</a>
              <a href="thread.html#2533">[ thread ]</a>
              <a href="subject.html#2533">[ subject ]</a>
              <a href="author.html#2533">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
