<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [WF2] Comments on sections 2.3 -- 2.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BWF2%5D%20Comments%20on%20sections%202.3%20--%202.5&In-Reply-To=%3CPine.LNX.4.62.0507110201340.5916%40dhalsim.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="046490.html">
   <LINK REL="Next"  HREF="046493.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [WF2] Comments on sections 2.3 -- 2.5</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BWF2%5D%20Comments%20on%20sections%202.3%20--%202.5&In-Reply-To=%3CPine.LNX.4.62.0507110201340.5916%40dhalsim.dreamhost.com%3E"
       TITLE="[whatwg] [WF2] Comments on sections 2.3 -- 2.5">ian at hixie.ch
       </A><BR>
    <I>Sun Jul 10 20:28:54 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="046490.html">[whatwg] [WF2] Comments on sections 2.3 -- 2.5
</A></li>
        <LI>Next message: <A HREF="046493.html">[whatwg] [WF2] Comments on sections 2.3 -- 2.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46491">[ date ]</a>
              <a href="thread.html#46491">[ thread ]</a>
              <a href="subject.html#46491">[ subject ]</a>
              <a href="author.html#46491">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sun, 10 Jul 2005, Boris Zbarsky wrote:
&gt;<i> 
</I>&gt;<i> It's not clear what happens in XHTML when a non-empty form is placed in 
</I>&gt;<i> the head.  That is, is emptyness a conformance requirement for authors 
</I>&gt;<i> or UAs, and what are UAs expected to do about it?
</I>
Already defined in section 2.18. It seems clear that this is an authoring 
requirement, since it says that the form element &quot;is allowed&quot;, not &quot;user 
agents must&quot; or similar.


&gt;<i> It's not clear what should happen if the constraint in the paragraph 
</I>&gt;<i> starting with &quot;The children of a form element must be block-level 
</I>&gt;<i> elements&quot; is violated.  Is this constraint to be enforced by UAs (if so, 
</I>&gt;<i> how), or by authors (if so, what are UAs expected to do if it's not?).
</I>
Again, the statement seems to me to be clearly an authoring requirement 
(it's a statement made about the content model of the element), not a user 
agent requirement. There is no user agent requirement here. The user agent 
processing requirements are independent of whether the document is valid 
or not. (This is, or will be, made much clearer in HTML5.) Added a section 
to 2.18 to cover this vaguely.


&gt;<i> The specification says: &quot;In any case, events targeted at form controls 
</I>&gt;<i> within a label must not be handled by the label itself.&quot;  What about 
</I>&gt;<i> links within a label?  What about nested labels?
</I>
Added a section to 2.18 to cover nested labels.

Rephrased the quoted text above to cover links as well.


&gt;<i> The section on implicit submission does not talk about firing click 
</I>&gt;<i> events, if any, on the submit button.  IE does this in some cases 
</I>&gt;<i> (though not others), and web sites depend on them being fired when IE 
</I>&gt;<i> does fire them....
</I>
Can you elaborate?


&gt;<i> 2.4:
</I>&gt;<i> 
</I>&gt;<i> ISO8601 claims to be a &quot;Withdrawn standard&quot;.  Is this an issue?
</I>
What is it withdrawn in favour of? Do you know?


&gt;<i> If I understand correctly, Week 1 of a year may contain some days from 
</I>&gt;<i> the previous year, right?  If the last day of a year is a Monday, will 
</I>&gt;<i> the week containing it be considered Week 1 of the next year, or Week 53 
</I>&gt;<i> of the current year, or both?  None of this is very clear to me from the 
</I>&gt;<i> text...
</I>
Clarified.


&gt;<i> Controls with no default value specified are supposed to have no value 
</I>&gt;<i> selected.  At the same time, the widget types recommended for rendering 
</I>&gt;<i> the control (eg the clock recommended for time) do not lend themselves 
</I>&gt;<i> well to having no value selected.  They lend themselves even less to 
</I>&gt;<i> having a value unselected (the equivalent of a user clearing a text 
</I>&gt;<i> control completely), and it's not clear whether UAs may, should, must, 
</I>&gt;<i> should not, or must not allow form control values to be cleared by the 
</I>&gt;<i> user.
</I>
Added a paragraph regarding this.


&gt;<i> The terms &quot;no value selected&quot; and &quot;left blank&quot; are used interchangeably 
</I>&gt;<i> here, it seems.  Perhaps it would be good to settle on one of the terms 
</I>&gt;<i> (and define it somewhere)?
</I>
Changed the one occurance of &quot;blank&quot; in this context to &quot;no value 
selected&quot; and defined the term.


&gt;<i> &quot;Empty fields (those with no value) do not need to match their type.&quot; -- 
</I>&gt;<i> it's not clear what this means.  Does &quot;no value&quot; mean the same as &quot;no 
</I>&gt;<i> value selected&quot; or &quot;left blank&quot;?
</I>
Clarified.


&gt;<i> What does it mean for a field to &quot;match its type&quot;?
</I>
Clarified.


&gt;<i> What happens to selected values when the type of a form control is 
</I>&gt;<i> changed? Should the UA attempt to perform some sort of conversion to the 
</I>&gt;<i> new type?
</I>
Clarified.


&gt;<i> What happens to selected values when the min/max/step attributes of a 
</I>&gt;<i> form control are changed?  Should they be coerced to the closest valid 
</I>&gt;<i> value?  Note that there may be cases when the selected value can no 
</I>&gt;<i> longer be shown using the widget that shows the control's value (eg a 
</I>&gt;<i> range control's max may be changed to be less than the current slider 
</I>&gt;<i> position).
</I>
This is already covered by 2.18, but added a parenthetical in 2.18 to be 
explicit about that case, and made earlier sections link to it.


&gt;<i> What happens if the 'value' DOM attribute is set to a string that's not 
</I>&gt;<i> in a valid format for the control type?
</I>
Covered by 2.18.


&gt;<i> What happens if the 'value' DOM attribute is set to a string that's out 
</I>&gt;<i> of range given the min/max attributes on the control or isn't an 
</I>&gt;<i> integral number of steps from the min or max?  Note that there may be 
</I>&gt;<i> cases when the widget being used for the control can't show the 
</I>&gt;<i> out-of-bounds value (eg it's a range slider).
</I>
Covered by 2.18.


&gt;<i> 2.4.1:
</I>&gt;<i> 
</I>&gt;<i> &quot;A field with a max less than its min can never be satisfied when it has 
</I>&gt;<i> a value&quot; -- there is no definition of &quot;satisfied&quot; in this specification.
</I>
Changed the words &quot;be satisfied&quot; here to &quot;fulfill both conditions&quot;.


&gt;<i> What happens to the default min/max values if the form control type is 
</I>&gt;<i> changed?
</I>
Clarified.


&gt;<i> 2.4.2:
</I>&gt;<i> 
</I>&gt;<i> Description of 1970-W01 should probably talk about 1970-01-04, not 1970-01-01.
</I>
The key point is that it contains 1970-01-01. If it had been 1969-W53 that 
contained it, then that would have been the zero point instead. It's just 
lucky that the 1970-W01 week contains both 01-01 and 01-04.


&gt;<i> What happens if the step of a number or range control is set to a 
</I>&gt;<i> nonpositive number?  Is this treated as if step were not set?  If so, 
</I>&gt;<i> that's not obvious from the text here.
</I>
It is explictly stated: &quot;For numeric controls (number and range), ... the 
value must be greater than zero. The default value is 1. ... If the given 
step value is not one of the allowed values, then the default is used.&quot;


&gt;<i> If the UA rounds to the nearest allowed value, does that mean &quot;allowed 
</I>&gt;<i> by step and within the min/max constraints&quot;?  In other words, given 
</I>&gt;<i> &lt;input type=&quot;number&quot; min=&quot;0&quot; max=&quot;99&quot; step=&quot;15&quot;&gt;, what should 98 be 
</I>&gt;<i> rounded to?  105, 90, or something else?
</I>
Clarified.


&gt;<i> I'm not sure what to make of the recommendation for doing comparisons in 
</I>&gt;<i> string form when dealing with number types or with step.  It sounds 
</I>&gt;<i> pretty complicated to get right for those cases...
</I>
It's not a requirement, merely a suggestion (albeit a &quot;recommended&quot; one).


&gt;<i> If a fieldset is disabled, does that affect the value of the DOM 
</I>&gt;<i> attribute disabled on descendant form controls?  Or just their visual 
</I>&gt;<i> appearance and behavior?
</I>
Defined in 7.8.


&gt;<i> Implementing maxlength efficiently on textarea as described (esp. for 
</I>&gt;<i> the wrap=hard case) is likely to be somewhat difficult.  I don't really 
</I>&gt;<i> have a decent suggestion on how this can be improved, but I fully expect 
</I>&gt;<i> uses to start complaining that typing in textareas with maxlength set is 
</I>&gt;<i> slow (with the display lagging behind the user), especially if the 
</I>&gt;<i> maxlength and the total text are both large.
</I>
The number of characters N in the value is easy to determine O(1). The 
number of newlines M in the value is easy to determine O(N), easily 
caching to O(1). The number of lines L in the output is something you have 
to know anyway to render it (or to render the scrollbar). The number of 
characters in the submission is N - M + L*2.

I don't see the problem.


&gt;<i> There have been repeated bugs filed on Mozilla to support readonly on 
</I>&gt;<i> radio and checkbox inputs (authors want the inputs to be successful but 
</I>&gt;<i> not allow the user to modify the value).  This is not to say that Web 
</I>&gt;<i> Forms should allow this, necessarily, but it's worth considering....
</I>
It has been raised many, many times. The concept of a read-only radio 
button is something that makes no sense, IMHO.

I have been considering saying that if you have a read-only radio button 
it should render as a completely different thing, though (e.g. render as 
an obviously non-interactive non-control label). This won't make WF2, 
however. Maybe WA1 or WF3.


&gt;<i> I'm not sure what the clause &quot;the interface concept of 'readonly' values 
</I>&gt;<i> does not apply to button-like interfaces.&quot; means.
</I>
It means that having a read-only button makes no sense. I don't understand 
what you don't understand. :-)


&gt;<i> I'm not sure what the sentence &quot;The DOM readonly attribute ([DOM2HTML]) 
</I>&gt;<i> obviously applies to the same set of types as the HTML attribute.&quot; means 
</I>&gt;<i> -- the DOM attribute simply reflects the current HTML attribute value, 
</I>&gt;<i> no?  Or is this sentence trying to say something stronger?
</I>
Good question. I've commented it out for now. Does &quot;foo.readonly&quot; really 
just reflect the content attribute in implementations or does it only 
return true for controls that can be disabled?

Updated spec at:
   <A HREF="http://whatwg.org/specs/web-forms/current-work/">http://whatwg.org/specs/web-forms/current-work/</A>

There is a diff between this version and the version from a week ago at:
   <A HREF="http://whatwg.org/specs/web-forms/current-work/diff-2005-07-03">http://whatwg.org/specs/web-forms/current-work/diff-2005-07-03</A>

Thanks for your comments so far!
-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="046490.html">[whatwg] [WF2] Comments on sections 2.3 -- 2.5
</A></li>
	<LI>Next message: <A HREF="046493.html">[whatwg] [WF2] Comments on sections 2.3 -- 2.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46491">[ date ]</a>
              <a href="thread.html#46491">[ thread ]</a>
              <a href="subject.html#46491">[ subject ]</a>
              <a href="author.html#46491">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
