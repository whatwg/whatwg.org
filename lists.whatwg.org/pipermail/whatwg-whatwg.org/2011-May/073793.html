<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] ArrayBuffer and the structured clone algorithm
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20ArrayBuffer%20and%20the%20structured%20clone%20algorithm&In-Reply-To=%3C4DC89B46.9060402%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031518.html">
   <LINK REL="Next"  HREF="074073.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] ArrayBuffer and the structured clone algorithm</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20ArrayBuffer%20and%20the%20structured%20clone%20algorithm&In-Reply-To=%3C4DC89B46.9060402%40mit.edu%3E"
       TITLE="[whatwg] ArrayBuffer and the structured clone algorithm">bzbarsky at MIT.EDU
       </A><BR>
    <I>Mon May  9 18:56:22 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="031518.html">[whatwg] ArrayBuffer and the structured clone algorithm
</A></li>
        <LI>Next message: <A HREF="074073.html">[whatwg] ArrayBuffer and the structured clone algorithm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73793">[ date ]</a>
              <a href="thread.html#73793">[ thread ]</a>
              <a href="subject.html#73793">[ subject ]</a>
              <a href="author.html#73793">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 5/9/11 6:44 PM, Ian Hickson wrote:
&gt;&gt;<i> For this reason I think we need to keep CanvasPixelArray distinct. I
</I>&gt;&gt;<i> certainly hope that Web IDL does not change its conversion rules to
</I>&gt;&gt;<i> mimic the clamping behavior in CanvasPixelArray. Right now Web IDL
</I>&gt;&gt;<i> delegates to the ECMA-262 specification for primitive conversions, which
</I>&gt;&gt;<i> have the wrapping behavior of C-style casts rather than clamping
</I>&gt;&gt;<i> behavior. Forcing clamping for out-of-range integer values would impose
</I>&gt;&gt;<i> a significant negative performance constraint on typed arrays.
</I>&gt;<i>
</I>&gt;<i> I haven't changed CanvasPixelArray.
</I>
Note that Gecko implements CanvasPixelArray as a kind of typed array 
that has the right kind of behavior on assignment.

This means that you can extract the array buffer as usual create other 
typed views of it, etc.

We feel that there are significant benefits to doing this and would be 
interested in trying to get something like that standardized if others 
are interested as well.  If not, of course, then we just keep our 
current behavior, but that does mean that CanvasPixelArray in Gecko has 
properties/methods not present in some other UAs....

-Boris

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031518.html">[whatwg] ArrayBuffer and the structured clone algorithm
</A></li>
	<LI>Next message: <A HREF="074073.html">[whatwg] ArrayBuffer and the structured clone algorithm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73793">[ date ]</a>
              <a href="thread.html#73793">[ thread ]</a>
              <a href="subject.html#73793">[ subject ]</a>
              <a href="author.html#73793">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
