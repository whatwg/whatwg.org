<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] DOMContentLoaded, load and current document readiness
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20DOMContentLoaded%2C%20load%20and%20current%20document%20readiness&In-Reply-To=%3C1306832542.2453.27.camel%40shuttle%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="074144.html">
   <LINK REL="Next"  HREF="074143.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] DOMContentLoaded, load and current document readiness</H1>
<!--htdig_noindex-->
    <B>Henri Sivonen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20DOMContentLoaded%2C%20load%20and%20current%20document%20readiness&In-Reply-To=%3C1306832542.2453.27.camel%40shuttle%3E"
       TITLE="[whatwg] DOMContentLoaded, load and current document readiness">hsivonen at iki.fi
       </A><BR>
    <I>Tue May 31 02:02:22 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="074144.html">[whatwg] Generalized execCommand() alternatives, or standardized selection and range handling
</A></li>
        <LI>Next message: <A HREF="074143.html">[whatwg] DOMContentLoaded, load and current document readiness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31868">[ date ]</a>
              <a href="thread.html#31868">[ thread ]</a>
              <a href="subject.html#31868">[ subject ]</a>
              <a href="author.html#31868">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Recently, there was discussion about changing media element state in the
same task that fires the event about the state change so that scripts
that probe the state can make non-racy conclusions about whether a
certain event has fired already.

Currently, there seems to be no correct non-racy way to write code that
probes a document to determine if DOMContentLoaded or load has fired and
runs code immediately if the event of interest has fired or adds a
listener to wait for the event if the event hasn't fired.

Are there compat or other reasons why we couldn't or shouldn't make it
so that the same task that fires DOMContentLoaded changes the readyState
to &quot;interactive&quot; and the same task that fires load changes readyState to
&quot;complete&quot;?

-- 
Henri Sivonen
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at iki.fi</A>
<A HREF="http://hsivonen.iki.fi/">http://hsivonen.iki.fi/</A>

</PRE>








<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="074144.html">[whatwg] Generalized execCommand() alternatives, or standardized selection and range handling
</A></li>
	<LI>Next message: <A HREF="074143.html">[whatwg] DOMContentLoaded, load and current document readiness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31868">[ date ]</a>
              <a href="thread.html#31868">[ thread ]</a>
              <a href="subject.html#31868">[ subject ]</a>
              <a href="author.html#31868">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
