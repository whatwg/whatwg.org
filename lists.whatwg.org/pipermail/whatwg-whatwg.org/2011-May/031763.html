<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Clarification on applicationCache events
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Clarification%20on%20applicationCache%20events&In-Reply-To=%3CB66541E954ECF146AD8CA69D34A283FF3AA7804BE8%40SP2-EX07VS02.ds.corp.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031762.html">
   <LINK REL="Next"  HREF="031765.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Clarification on applicationCache events</H1>
<!--htdig_noindex-->
    <B>Nicholas Zakas</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Clarification%20on%20applicationCache%20events&In-Reply-To=%3CB66541E954ECF146AD8CA69D34A283FF3AA7804BE8%40SP2-EX07VS02.ds.corp.yahoo.com%3E"
       TITLE="[whatwg] Clarification on applicationCache events">nzakas at yahoo-inc.com
       </A><BR>
    <I>Mon May 23 11:14:38 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="031762.html">[whatwg] Ongoing work on an editing commands (execCommand())	specification
</A></li>
        <LI>Next message: <A HREF="031765.html">[whatwg] Request for feedback: supported elements for formatBlock
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31763">[ date ]</a>
              <a href="thread.html#31763">[ thread ]</a>
              <a href="subject.html#31763">[ subject ]</a>
              <a href="author.html#31763">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>The spec currently states this about the obsolete and error events on window.applicationCache (5.6.1.1):


 *   Obsolete - The manifest was found to have become a 404 or 410 page, so the application cache is being deleted.
 *   Error - The manifest was a 404 or 410 page, so the attempt to cache the application has been aborted.

Later on (5.6.4), the spec states about 404 or 410 manifest files:


 *   For each cache host associated with an application cache in cache group, create a task to fire a simple event named obsolete that is cancelable at the ApplicationCache singleton of the cache host, and append it to task list. The default action of these events must be, if the user agent shows caching progress, the display of some sort of user interface indicating to the user that the application is no longer available for offline use.
 *   For each entry in cache group's list of pending master entries, create a task to fire a simple event that is cancelable named error (not obsolete!) at the ApplicationCache singleton of the cache host the Document for this entry, if there still is one, and append it to task list. The default action of this event must be, if the user agent shows caching progress, the display of some sort of user interface indicating to the user that the user agent failed to save the application for offline use.

This seems to indicate that the obsolete event is always fired and the error event may optionally fire afterward. If that's correct, then I think the table in section 5.6.1.1 needs some updating to better reflect the expected behavior.

-N
</PRE>





































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031762.html">[whatwg] Ongoing work on an editing commands (execCommand())	specification
</A></li>
	<LI>Next message: <A HREF="031765.html">[whatwg] Request for feedback: supported elements for formatBlock
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31763">[ date ]</a>
              <a href="thread.html#31763">[ thread ]</a>
              <a href="subject.html#31763">[ subject ]</a>
              <a href="author.html#31763">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
