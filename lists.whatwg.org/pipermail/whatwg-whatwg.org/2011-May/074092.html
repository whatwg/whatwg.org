<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &quot;Content-Disposition&quot; property for &lt;a&gt; tags
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%22Content-Disposition%22%20property%20for%20%3Ca%3E%20tags&In-Reply-To=%3Cop.vv3olsjg48yz2f%40dennis.fritz.box%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073682.html">
   <LINK REL="Next"  HREF="074093.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &quot;Content-Disposition&quot; property for &lt;a&gt; tags</H1>
<!--htdig_noindex-->
    <B>Dennis Joachimsthaler</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%22Content-Disposition%22%20property%20for%20%3Ca%3E%20tags&In-Reply-To=%3Cop.vv3olsjg48yz2f%40dennis.fritz.box%3E"
       TITLE="[whatwg] &quot;Content-Disposition&quot; property for &lt;a&gt; tags">dennis at efjot.de
       </A><BR>
    <I>Thu May 26 11:06:54 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073682.html">[whatwg] &quot;Content-Disposition&quot; property for &lt;a&gt; tags
</A></li>
        <LI>Next message: <A HREF="074093.html">[whatwg] &quot;Content-Disposition&quot; property for &lt;a&gt; tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74092">[ date ]</a>
              <a href="thread.html#74092">[ thread ]</a>
              <a href="subject.html#74092">[ subject ]</a>
              <a href="author.html#74092">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Oh hey,

I didn't realize this topic was discussed again one month ago.
I originally even started this ;-).

&gt;&gt;<i> Note that somewhat counterintuitively, there would be some security
</I>&gt;&gt;<i> concerns with markup-level content disposition controls (or any JS
</I>&gt;&gt;<i> equivalent). For example, consider evil.com doing this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;a href='<A HREF="http://example.com/user_content/harmless_text_file.txt">http://example.com/user_content/harmless_text_file.txt</A>'
</I>&gt;&gt;<i> disposition='attachment; filename=&quot;Important_Security_Update.exe&quot;'&gt;
</I>&gt;<i>
</I>&gt;<i> At least in the case of Firefox for that particular case on Windows the 
</I>&gt;<i> filename will be sanitized...
</I>
So what does Firefox do in this case?
Also I think that maybe the &quot;filename&quot; part is not necessary at all.

The filename is only necessary when you feed the file from a dynamic
page, like directly from the PHP processor. And in this case you can
directly use the contend-disposition HTTP header.

I was talking about cases where there are direct links to files that
WOULD open directly, but we want to suggest the browser to download them
instead. In this case we would have to fiddle around with server
side scripting and suggesting the attachment-flag from a HTTP standpoint
even though there is absolutely no other reason than this single http  
header.

More trouble than it's worth.

So if the filename part of this kind of disposition tag is too insecure, we
can leave it out without destroying my intended reason for such a tag.

Of course there might be reasons to have the filename part anyways, let
me write down an example:

You have files in a folder that are numbered in one continous numbering
scheme. The files are heavily downloaded so server side scripting falls
out of the question because sending files through this is, to say the  
least,
slow, unless you use some special tricks.

Instead of giving the user a link to the file called &quot;A342378437.pdf&quot;
you can use the disposition attribute to

a) Let him directly download it. He doesn't have to go the long way
    around by right clicking this way.

b) Give it a meaningful name that the user will appreciate

This is though the initial idea which sparked this thread. And it has been
expanded upon already.

&gt;<i> But yes, there are other situations where things could be more  
</I>&gt;<i> problematic.
</I>
Which are these? Please enlighten me.

- Dennis Joachimsthaler





</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073682.html">[whatwg] &quot;Content-Disposition&quot; property for &lt;a&gt; tags
</A></li>
	<LI>Next message: <A HREF="074093.html">[whatwg] &quot;Content-Disposition&quot; property for &lt;a&gt; tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74092">[ date ]</a>
              <a href="thread.html#74092">[ thread ]</a>
              <a href="subject.html#74092">[ subject ]</a>
              <a href="author.html#74092">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
