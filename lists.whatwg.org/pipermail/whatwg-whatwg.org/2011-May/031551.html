<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas and drawWindow
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20and%20drawWindow&In-Reply-To=%3CPine.LNX.4.64.1105120524170.19153%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031550.html">
   <LINK REL="Next"  HREF="073861.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas and drawWindow</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20and%20drawWindow&In-Reply-To=%3CPine.LNX.4.64.1105120524170.19153%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Canvas and drawWindow">ian at hixie.ch
       </A><BR>
    <I>Wed May 11 22:58:35 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="031550.html">[whatwg] Proposal for &lt;canvas src&gt; to allow images with structured fallback
</A></li>
        <LI>Next message: <A HREF="073861.html">[whatwg] Canvas and drawWindow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31551">[ date ]</a>
              <a href="thread.html#31551">[ thread ]</a>
              <a href="subject.html#31551">[ subject ]</a>
              <a href="author.html#31551">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 11 Mar 2011, Erik M&#246;ller wrote:
&gt;<i>
</I>&gt;<i> I bet this has been discussed before, but I'm curious as to what people 
</I>&gt;<i> think about breathing some life into a more general version of Mozillas 
</I>&gt;<i> canvas.drawWindow() that draws a snapshot of a DOM window into the 
</I>&gt;<i> canvas? 
</I>
This is something that is rife with serious security concerns: exposing 
history, the potential for cross-origin data leakage, introspecting 
spelling-checker user dictionaries, inspecting data that is otherwise 
hidden such as user theme preferences or file input paths...

This is not something to undertake lightly. Even if we found a way to 
actually determine when to taint a drawn image, we could never allow such 
data to be uploaded to a server or reused in WebGL (due to the shader 
timing attacks). And working out when something has any cross-origin 
pixels is vastly more complicated than it appears. CSS reflections, SVG 
transforms, fonts, iframes, the CSS 'content' property... the list of 
possible ways one could taint something is absurdly high.

This is an area where more than ever I think browsers will have to lead by 
experimentation. If a solid safe solution can be figured out and that 
everyone is willing to implement, meaning one that doesn't involve laundry 
lists of things to test for or risk a whack-a-mole race, then I'd be happy 
to specify it.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>















































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031550.html">[whatwg] Proposal for &lt;canvas src&gt; to allow images with structured fallback
</A></li>
	<LI>Next message: <A HREF="073861.html">[whatwg] Canvas and drawWindow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31551">[ date ]</a>
              <a href="thread.html#31551">[ thread ]</a>
              <a href="subject.html#31551">[ subject ]</a>
              <a href="author.html#31551">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
