<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Microdata feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Microdata%20feedback&In-Reply-To=%3CPine.LNX.4.64.1105312249540.19153%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="074126.html">
   <LINK REL="Next"  HREF="031842.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Microdata feedback</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Microdata%20feedback&In-Reply-To=%3CPine.LNX.4.64.1105312249540.19153%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Microdata feedback">ian at hixie.ch
       </A><BR>
    <I>Tue May 31 16:17:07 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="074126.html">[whatwg] Proposed simplification to Microdata
</A></li>
        <LI>Next message: <A HREF="031842.html">[whatwg] on* attributes on DOM elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74149">[ date ]</a>
              <a href="thread.html#74149">[ thread ]</a>
              <a href="subject.html#74149">[ subject ]</a>
              <a href="author.html#74149">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Tue, 15 Mar 2011, Hay (Husky) wrote:
&gt;<i> 
</I>&gt;<i> Consider, for example, a list that contains custom data that needs to be 
</I>&gt;<i> displayed using Javascript. In most cases, the data-* attributes are a 
</I>&gt;<i> nice way to embed non-visual data to be read out later, but that doesn't 
</I>&gt;<i> work for hierarchical structures.
</I>
You can use nested HTML elements with data-* attributes. For example, the 
JSON value {a:{b:'x',y:'z'}} could be represented as:

   &lt;div data-a&gt;
    &lt;div data-b='x'&gt;&lt;/div&gt;
    &lt;div data-c='y'&gt;&lt;/div&gt;
   &lt;/div&gt;


&gt;<i> 1) Microdata. This could work, but only if the data should be displayed 
</I>&gt;<i> as well. If the data should be processed (and for example, be shown in 
</I>&gt;<i> another part of the page) this doesn't work really well. You could the 
</I>&gt;<i> hide the parent element with CSS, but that's pretty clunky.
</I>
You can use microdata with &lt;link&gt; and &lt;meta&gt; if you don't want to actually 
show the information.

Hiding information in a page (whether it's in microdata, data-*, &lt;script&gt; 
data blocks, or anything else) if generally frowned upon as the data tends 
to end up less accurate than if it's visible, but that's something you 
have to take under advisement.


&gt;<i> 2) data-* attributes with JSON data. Would work, but pretty ugly and not 
</I>&gt;<i> very expressive and readable.
</I>
True.


&gt;<i> 3) 'Data blocks' in a &lt;script&gt; element, as described in the spec. You 
</I>&gt;<i> can, for example, use a &lt;script&gt; element with an 'application/xml' or 
</I>&gt;<i> 'application/json' type, which will not be processed by a browser, and 
</I>&gt;<i> use Javascript to do the parsing.
</I>
Yup.


&gt;<i> Data blocks seem to be the current most usable solution, but i get the 
</I>&gt;<i> feeling that it's not quite expressive enough. &lt;script&gt; tags should 
</I>&gt;<i> contain scripts, and XML and JSON are not scripting languages. 
</I>
&lt;script&gt; elements can contain either scripts, or data blocks. Both are 
allowed and equally valid.


&gt;<i> Semantically, 'xml islands' as used in older versions of IE seem like an 
</I>&gt;<i> elegant solution but are not supported in other browsers.
</I>
I'm not sure what you mean by &quot;semantically&quot; here.


&gt;<i> Something like a &lt;data&gt; tag, with a required 'type' attribute that can 
</I>&gt;<i> contain a mime type that could indicate to browsers what type of content 
</I>&gt;<i> follows might be an interesting solution, but i'm not sure what the 
</I>&gt;<i> implications might be. It would be cool if you do a &lt;data 
</I>&gt;<i> type=&quot;application/json&quot;&gt; and get an automatic Javascript object when 
</I>&gt;<i> getting the element with document.getElementById.
</I>
That's what &lt;script&gt; data blocks are (except for the automatic JS object 
part, but that's easy to add with a script library).


On Mon, 21 Mar 2011, Philip J&#228;genstedt wrote:
&gt;<i>
</I>&gt;<i> On <A HREF="http://foolip.org/microdatajs/live/#json">http://foolip.org/microdatajs/live/#json</A> I have a &quot;Download it!&quot; 
</I>&gt;<i> function which uses data: URLs to save JSON generated by JavaScript. The 
</I>&gt;<i> only real limitation with this approach is that one cannot suggest a 
</I>&gt;<i> file name, so in Opera the suggested file name is &quot;default&quot;.
</I>&gt;<i> 
</I>&gt;<i> Are there other ways to save script-generated data that don't involve 
</I>&gt;<i> bouncing against a server? If not, any ideas how one might fix this with 
</I>&gt;<i> data: URLs? The Content-Disposition header solves this problem, but 
</I>&gt;<i> can't be applied here.
</I>
I recommend extending the data: spec to have a filename=&quot;&quot; parameter.


On Mon, 21 Mar 2011, Boris Zbarsky wrote:
&gt;<i> 
</I>&gt;<i> For your particular use case, a &quot;disposition&quot; attribute on &lt;a&gt; or 
</I>&gt;<i> something would also work; I'm pretty sure that this has come up before 
</I>&gt;<i> as well.
</I>
Is it a common enough use case to warrant an extension to HTML?


On Fri, 15 Apr 2011, Justin Karneges wrote:
&gt;<i> 
</I>&gt;<i> I'm desiring a way to markup &quot;mentions of a person&quot; semantically within 
</I>&gt;<i> HTML, for use in an open standard.  Think of a more rich form of the 
</I>&gt;<i> @person convention used on Twitter and elsewhere:
</I>&gt;<i> 
</I>&gt;<i> &lt;p&gt;@justin I totally agree&lt;/p&gt;
</I>&gt;<i> 
</I>&gt;<i> My first thought was to use a data-* attribute.  For example:
</I>&gt;<i> 
</I>&gt;<i> &lt;p&gt;&lt;a href=&quot;<A HREF="http://example.org/justin/">http://example.org/justin/</A>&quot; data-mention- 
</I>&gt;<i> id=&quot;acct:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">justin at example.org</A>&quot; data-mention-context=&quot;reply&quot;&gt;justin&lt;/a&gt; I 
</I>&gt;<i> totally agree.&lt;/p&gt;
</I>&gt;<i> 
</I>&gt;<i> However, the HTML specification says custom data attributes are only to 
</I>&gt;<i> be used privately.  So, I am not sure if it is appropriate to create a 
</I>&gt;<i> public standard whereby independent developers are encouraged to utilize 
</I>&gt;<i> a common data-* attribute.
</I>&gt;<i> 
</I>&gt;<i> Another way is to use Microdata, though I seem to have to hack it a bit 
</I>&gt;<i> to have hidden values:
</I>&gt;<i> 
</I>&gt;<i> &lt;p&gt;&lt;a href=&quot;<A HREF="http://example.org/justin/">http://example.org/justin/</A>&quot; itemscope 
</I>&gt;<i> itemtype=&quot;<A HREF="http://example.org/itemtypes/mention">http://example.org/itemtypes/mention</A>&quot; 
</I>&gt;<i> itemid=&quot;acct:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">justin at example.org</A>&quot;&gt;&lt;span itemprop=&quot;context:reply&quot;/&gt;&lt;span 
</I>&gt;<i> itemprop=&quot;name&quot;&gt;justin&lt;/span&gt;&lt;/a&gt; I totally agree.&lt;/p&gt;
</I>
I'm not sure exactly what you're trying to do there (the markup seems to 
be invalid and I'm not sure what you intended), but there's no need to 
hack anything to have hidden data in microdata, just use &lt;meta&gt; or &lt;link&gt;.


On Mon, 18 Apr 2011, Justin Karneges wrote:
&gt;<i> 
</I>&gt;<i> Yes, this is meant to be processed by machines, as part of a data 
</I>&gt;<i> exchange protocol.  It is not browser-specific.  For example, this kind 
</I>&gt;<i> of HTML formatting may find its way into an Atom feed, or even an XMPP 
</I>&gt;<i> message.  It is not expected that this format would be shoved directly 
</I>&gt;<i> to a browser for render (although, if someone does that, ideally it 
</I>&gt;<i> should degrade gracefully, hence the use of &lt;a&gt; around the name).
</I>&gt;<i> 
</I>&gt;<i> Here are two things I'd expect apps to do:
</I>&gt;<i> 
</I>&gt;<i>   1) Render the mentions in a special way.  For example, our application 
</I>&gt;<i> shows the mentioned name inside of a colored, button-looking box with an 
</I>&gt;<i> icon image based on the domain of the person being mentioned.  This kind 
</I>&gt;<i> of presentation- level detail would not be encoded in the HTML itself.
</I>&gt;<i> 
</I>&gt;<i>   2) Keep display names up to date.  In the event that a user changes 
</I>&gt;<i> his/her name, but the account id is not changed, future replays or 
</I>&gt;<i> retransmissions of this HTML may contain different name text (the 
</I>&gt;<i> 'justin' part in my example).  For example, an aggregator may track name 
</I>&gt;<i> changes, and update its cached HTML accordingly rather than holding onto 
</I>&gt;<i> stale names.
</I>&gt;<i> 
</I>&gt;<i> Regarding #2, it may also be useful for servers that persist this data 
</I>&gt;<i> to do so without saving any name text at all (imagine the 'a' element in 
</I>&gt;<i> the earlier example having no cdata).  Whenever the HTML blob is 
</I>&gt;<i> extracted from the db, it would need to be stamped with the name of the 
</I>&gt;<i> mentioned user before sending out to a client.
</I>&gt;<i> 
</I>&gt;<i> So I take it that using data-* for this is not recommended?
</I>
For this kind of thing, I'd recommend a Microformat or microdata.


On Mon, 18 Apr 2011, Justin Karneges wrote:
&gt;<i> 
</I>&gt;<i> Now we have this:
</I>&gt;<i> 
</I>&gt;<i> &lt;p&gt;
</I>&gt;<i>   &lt;span itemscope itemtype=&quot;<A HREF="http://data-vocabulary.org/Person">http://data-vocabulary.org/Person</A>&quot; 
</I>&gt;<i> itemid=&quot;acct:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">justin at example.org</A>&quot;&gt;
</I>&gt;<i>     &lt;meta itemprop=&quot;context&quot; content=&quot;reply&quot;/&gt;
</I>&gt;<i>     &lt;a itemprop=&quot;url&quot; href=&quot;<A HREF="http://example.org/justin/">http://example.org/justin/</A>&quot;&gt;&lt;span 
</I>&gt;<i> itemprop=&quot;name&quot;&gt;justin&lt;/span&gt;&lt;/a&gt;
</I>&gt;<i>   &lt;/span&gt; I totally agree.
</I>&gt;<i> &lt;/p&gt;
</I>
Yup, that works.


On Tue, 26 Apr 2011, Benjamin Hawkes-Lewis wrote:
&gt;<i> 
</I>&gt;<i> So the extractable data is: &quot;the United Nations is the source of the 
</I>&gt;<i> quotation 'We the Peoples of the United Nations determined to save 
</I>&gt;<i> succeeding generations from the scourge of war, which twice in our 
</I>&gt;<i> lifetime has brought untold sorrow to mankind...'&quot;?
</I>&gt;<i> 
</I>&gt;<i> Microdata (like microformats) is supposed to encourage visible data 
</I>&gt;<i> rather than hidden metadata. Both your markup examples seem to express 
</I>&gt;<i> authorship of the quotation through hidden metadata. A visible data 
</I>&gt;<i> approach might look something like:
</I>&gt;<i> 
</I>&gt;<i>   &lt;blockquote
</I>&gt;<i>     cite=&quot;<A HREF="http://www.un.org/en/documents/charter/preamble.shtml">http://www.un.org/en/documents/charter/preamble.shtml</A>&quot;
</I>&gt;<i>     itemscope
</I>&gt;<i>     itemtype=&quot;<A HREF="http://tei-vocabulary.example.com/cit">http://tei-vocabulary.example.com/cit</A>&quot;
</I>&gt;<i>     itemprop=&quot;quote&quot;&gt;
</I>&gt;<i>       We the Peoples of the
</I>&gt;<i>       &lt;span itemprop=&quot;bibl&quot;&gt;
</I>&gt;<i>         &lt;span itemprop=&quot;author&quot;
</I>&gt;<i>               itemtype=&quot;<A HREF="http://tei-vocabulary.example.com/orgName">http://tei-vocabulary.example.com/orgName</A>&quot;&gt;
</I>
This itemtype=&quot;&quot; is invalid, for what it's worth. (itemtype=&quot;&quot; only makes 
sense on an element with itemscope=&quot;&quot;.)

&gt;<i>           United Nations
</I>&gt;<i>         &lt;/span&gt;
</I>&gt;<i>       &lt;/span&gt; determined to save succeeding
</I>&gt;<i>       generations from the scourge of war, which twice in our lifetime has
</I>&gt;<i>       brought untold sorrow to mankind...
</I>&gt;<i>   &lt;/blockquote&gt;
</I>

On Wed, 27 Apr 2011, Brett Zamir wrote:
&gt;<i>
</I>&gt;<i> Thanks for the references. While this may be relevant for the likes of 
</I>&gt;<i> blogs and other documents whose requirements for semantic density is 
</I>&gt;<i> limited enough to allow such reshaping for practical effect and whose 
</I>&gt;<i> content is reshapeable by the content creator (as opposed to 
</I>&gt;<i> republishing of already completed books), for more semantically dense 
</I>&gt;<i> content, such as the types of classical documents marked up by TEI, it 
</I>&gt;<i> is simply not possible to expose text for each bit of semantic 
</I>&gt;<i> information or to generate new text to meet that need. And of course, 
</I>&gt;<i> even with microformats/microdata as it is now, the semantic content 
</I>&gt;<i> itself is not necessarily exposed just because text is visible on the 
</I>&gt;<i> page.
</I>&gt;<i> 
</I>&gt;<i> The issue of discoverability is I think more related to how it will be 
</I>&gt;<i> consumed or may be consumed. And even if some pieces of information are 
</I>&gt;<i> less discoverable, it does not mean that they have no value. For such 
</I>&gt;<i> rich documents, a lot of attention is being paid to these texts since 
</I>&gt;<i> they are themselves considered important enough to be worth the time.
</I>&gt;<i> 
</I>&gt;<i> If the Declaration of Independence of the United States was marked up 
</I>&gt;<i> with hidden information about prior emendations, their likely reasons, 
</I>&gt;<i> etc., or about suspected authors of particular passages, or the United 
</I>&gt;<i> Nations Declaration of Human Rights were marked up to indicate which 
</I>&gt;<i> countries have expressed reservations (qualifications) about which 
</I>&gt;<i> rights, while a browsing application or query tool ought to be able 
</I>&gt;<i> (optionally) expose this hidden information, there is no automatic need 
</I>&gt;<i> for the markup to be polluted with extra (hidden) (and especially 
</I>&gt;<i> URI-based or other non-textual) tags when an attribute would suffice.
</I>&gt;<i> 
</I>&gt;<i> For things that are truly important, there may be a great deal of care 
</I>&gt;<i> put into building up many layers which are meant to be peeled away, and 
</I>&gt;<i> it is worth allowing some of that information (particularly the 
</I>&gt;<i> non-textual information, e.g., the conditions of authorship, publisher, 
</I>&gt;<i> etc.), especially which the original publication did not expose, to be 
</I>&gt;<i> still selectively revealed to queries and deeper browsing.
</I>&gt;<i> 
</I>&gt;<i> If a site like Wikisource (the online library sister project of 
</I>&gt;<i> Wikipedia's) would be able to offer such officially sanctioned semantic 
</I>&gt;<i> attributes, classic texts could become enhanced in this way over time, 
</I>&gt;<i> with the wiki exposing the hidden semantic information, which indeed may 
</I>&gt;<i> not be as important as the visible text, but with queries by interested 
</I>&gt;<i> to users, any problems in encoding could be discovered just as well.
</I>&gt;<i> 
</I>&gt;<i> While I know most hip web authors and developers are minimalists, can't 
</I>&gt;<i> we all just get along? Can't those of us interested in such richness, 
</I>&gt;<i> and with a view to progressively enhancing documents into the far 
</I>&gt;<i> future, also be welcomed into the web?
</I>
I'm not really sure what you're proposing here. If you are advocating for 
a change to the HTML specification, could you elaborate on that aspect of 
your idea?


On Thu, 26 May 2011, Tab Atkins Jr. wrote:
&gt;<i> On Thu, May 26, 2011 at 12:02 PM, Guha &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">guha at google.com</A>&gt; wrote:
</I>&gt;<i> &gt; We are trying to simplify statement of a fairly common thing that crops up
</I>&gt;<i> &gt; with microdata
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; E.g.,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Consider the block:
</I>&gt;<i> &gt; 1) &lt;div itemscope itemtype=&#8221;<A HREF="http://schema.org/Book&#8221;">http://schema.org/Book&#8221;</A>&gt;
</I>&gt;<i> &gt; &#160; &#160; &#160;&lt;span itemprop=&#8221;name&#8221;&gt;The Catcher in the Rye&lt;/span&gt; -
</I>&gt;<i> &gt; &#160; &#160; by &lt;span itemprop=&#8221;hasAuthor&#8221;&gt;J.D. Salinger&lt;/span&gt;
</I>&gt;<i> &gt; &#160; &lt;/div&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Now, the site wants to use the wikipedia (or freebase) entry for Salinger,
</I>&gt;<i> &gt; just to be clear and wants the value of the &#160;hasAuthor property to be an
</I>&gt;<i> &gt; item with that ID.
</I>&gt;<i> &gt; I believe the following says that:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 2) &lt;div itemscope itemtype=&#8221;<A HREF="http://schema.org/Book&#8221;">http://schema.org/Book&#8221;</A>&gt;
</I>&gt;<i> &gt; &#160; &#160; &#160;&lt;span itemprop=&#8221;name&#8221;&gt;The Catcher in the Rye&lt;/span&gt; -
</I>&gt;<i> &gt; &#160; by &lt;a href=&quot;<A HREF="http://en.wikipedia.org/wiki/J._D._Salinger">http://en.wikipedia.org/wiki/J._D._Salinger</A>&quot;
</I>&gt;<i> &gt; itemprop=&#8221;hasAuthor&#8221;&gt;J.D.
</I>&gt;<i> &gt; Salinger&lt;/a&gt;
</I>&gt;<i> &gt; &#160; &lt;/div&gt;
</I>
That says that the &quot;hasAuthor&quot; is the URL 
&quot;<A HREF="http://en.wikipedia.org/wiki/J._D._Salinger">http://en.wikipedia.org/wiki/J._D._Salinger</A>&quot;. The vocabulary could 
further define that that means that that URL is the itemid=&quot;&quot; if an item 
that, if found, contains information about that &quot;hasAuthor&quot;; that's up to 
the person specifying the vocabulary.


&gt;<i> &gt; Often, the site does not want to link out to the wikipedia (or other
</I>&gt;<i> &gt; canonical url) page, but only specify
</I>&gt;<i> &gt; it in the microdata. This can be done by:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 3) &lt;div itemscope itemtype=&#8221;<A HREF="http://schema.org/Book&#8221;">http://schema.org/Book&#8221;</A>&gt;
</I>&gt;<i> &gt; &#160; &#160; &lt;span itemprop=&#8221;name&#8221;&gt;The Catcher in the Rye&lt;/span&gt; -
</I>&gt;<i> &gt; &#160; by &lt;span itemscope
</I>&gt;<i> &gt; itemid=&quot;<A HREF="http://en.wikipedia.org/wiki/J._D._Salinger">http://en.wikipedia.org/wiki/J._D._Salinger</A>&quot;
</I>&gt;<i> &gt; itemprop=&#8221;hasAuthor&#8221;&gt;J.D.
</I>&gt;<i> &gt; Salinger&lt;/span&gt;
</I>&gt;<i> &gt; &#160;&lt;/div&gt;
</I>
itemid=&quot;&quot; currently only makes sense in the context of a vocabulary (given 
by itemtype=&quot;&quot;), and currently only the vocabulary of the item itself can 
define it, not the vocabulary of the &quot;parent&quot; item (as in this example). 

But it's unnecessary to go to these lengths to get the same effect as 
above but with the link being hidden, one can just use &lt;link&gt;, as Tab 
says:

&gt;<i> The correct way to solve this case is with markup like this:
</I>&gt;<i> 
</I>&gt;<i> &lt;div itemscope itemtype=&quot;<A HREF="http://scheme.org/Book">http://scheme.org/Book</A>&quot;&gt;
</I>&gt;<i>   &lt;span itemprop=&quot;name&quot;&gt;The Catcher in the Rye&lt;/span&gt; -
</I>&gt;<i>   by J.D. Salinger
</I>&gt;<i>   &lt;link itemprop=&quot;hasAuthor&quot; href=&quot;<A HREF="http://en.wikipedia.org/wiki/J._D._Salinger">http://en.wikipedia.org/wiki/J._D._Salinger</A>&quot;&gt;
</I>&gt;<i> &lt;/div&gt;
</I>
Indeed.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="074126.html">[whatwg] Proposed simplification to Microdata
</A></li>
	<LI>Next message: <A HREF="031842.html">[whatwg] on* attributes on DOM elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74149">[ date ]</a>
              <a href="thread.html#74149">[ thread ]</a>
              <a href="subject.html#74149">[ subject ]</a>
              <a href="author.html#74149">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
