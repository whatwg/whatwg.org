<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] script element onerror event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20script%20element%20onerror%20event&In-Reply-To=%3C4DE1C1F3.6060200%40johnjbarton.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="074151.html">
   <LINK REL="Next"  HREF="074118.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] script element onerror event</H1>
<!--htdig_noindex-->
    <B>John J. Barton</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20script%20element%20onerror%20event&In-Reply-To=%3C4DE1C1F3.6060200%40johnjbarton.com%3E"
       TITLE="[whatwg] script element onerror event">johnjbarton at johnjbarton.com
       </A><BR>
    <I>Sat May 28 20:48:03 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="074151.html">[whatwg] Unlimited pageStorage for App Cached web pages
</A></li>
        <LI>Next message: <A HREF="074118.html">[whatwg] script element onerror event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31844">[ date ]</a>
              <a href="thread.html#31844">[ thread ]</a>
              <a href="subject.html#31844">[ subject ]</a>
              <a href="author.html#31844">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>To allow optional JavaScript download, some widely used JavaScript 
libraries, such as jQuery and requireJS, use script elements added to 
the document dynamically by JavaScript. (Of course this feature is also 
used by applications directly as well).   For normal deployment this 
approach works well in practice. At development time however, or in the 
presence of network or server problems, the approach gives poor error 
recovery information. Fundamentally the problem is that the insertion 
mechanism has no error return path.

The script element does support one event, 'onload' which fires after 
the script has finished loading. I suggest the addition of one new 
event, 'onerror', which fires in every other case. For examples, a 
network error (4XX, 5XX) or JavaScript parse error would trigger onerror 
but not onload.  On the other hand, a runtime error for the 
outer-function of the script element would trigger onload (I guess), but 
the developer can handle this with try/catch.

Very long load times would still have poor error recovery information, 
but developers could implement UI to signal &quot;loading...&quot; once they know 
they will get some update event eventually.

jjb
</PRE>



















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="074151.html">[whatwg] Unlimited pageStorage for App Cached web pages
</A></li>
	<LI>Next message: <A HREF="074118.html">[whatwg] script element onerror event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31844">[ date ]</a>
              <a href="thread.html#31844">[ thread ]</a>
              <a href="subject.html#31844">[ subject ]</a>
              <a href="author.html#31844">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
