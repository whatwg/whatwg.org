<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Side effects free scripts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Side%20effects%20free%20scripts&In-Reply-To=%3Ccee13aa30605312121mbf1a6f1ncfe990557132fd50%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006488.html">
   <LINK REL="Next"  HREF="006487.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Side effects free scripts</H1>
<!--htdig_noindex-->
    <B>liorean</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Side%20effects%20free%20scripts&In-Reply-To=%3Ccee13aa30605312121mbf1a6f1ncfe990557132fd50%40mail.gmail.com%3E"
       TITLE="[whatwg] Side effects free scripts">liorean at gmail.com
       </A><BR>
    <I>Wed May 31 21:21:02 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="006488.html">[whatwg] Side effects free scripts
</A></li>
        <LI>Next message: <A HREF="006487.html">[whatwg] Side effects free scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6486">[ date ]</a>
              <a href="thread.html#6486">[ thread ]</a>
              <a href="subject.html#6486">[ subject ]</a>
              <a href="author.html#6486">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 01/06/06, Andrew Fedoniouk &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">news at terrainformatica.com</A>&gt; wrote:
&gt;&gt;<i> There is nothing in that definition that I find indicates that it has
</I>&gt;&gt;<i> any side effects. It's all about generating a number, no side effects
</I>&gt;&gt;<i> are specified or implied.
</I>&gt;<i> This does not mean that it has no side effects.
</I>
Well, it does mean that it typically doesn't have any side effects
within the ECMAScript language. It may have implementation side
effects built in to chosen algorithm, but those side effects are not
apparent in the language.

&gt;<i> So in some circumstances external &quot;no side effects script&quot;, being invoked,
</I>&gt;<i> can force legacy code to produce not so random data. I think you understand
</I>&gt;<i> implications of this.
</I>
Sure, data might be less than perfectly random. But the algorithm is
not specified, so any patterns will be implementation specific. Even
hardware specific in many cases.

&gt;<i> Formally: as there is no formal detection algorithm
</I>&gt;<i> as term &quot;side effect free script&quot; is a nonsence, mathematicaly speaking.
</I>
Can't that definition, in the specific context of ECMAScript, be
established? Let's say something like this:
- All functions (including constructors, methods and host object
methods) are sent an internal boolean argument representing a
requirement for them to throw a permission error if any action they
perform lead to possible data persistence after the local scope has
been destroyed.
- All variable assignments must be to local variables.
- Objects stored in non-local variables may not be assigned to local variables.
- Member assignment may only take place on objects stored in local variables.

Or something like that...

The problem is that verifying whether function may result in side
effects is a pain that must be delayed until runtime. You cannot know
that methods, functions or constructors are side effect free unless
they are host objects and readonly. You can't even assume that
    hello+' world';
is side effect free since the hello variable might contain an object
with a toString method that has side effects.

So, determining if a function is side effect free needs to be done
while that function is run.
-- 
David &quot;liorean&quot; Andersson
&lt;uri:<A HREF="http://liorean.web-graphics.com/">http://liorean.web-graphics.com/</A>&gt;

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006488.html">[whatwg] Side effects free scripts
</A></li>
	<LI>Next message: <A HREF="006487.html">[whatwg] Side effects free scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6486">[ date ]</a>
              <a href="thread.html#6486">[ thread ]</a>
              <a href="subject.html#6486">[ subject ]</a>
              <a href="author.html#6486">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
