<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Socket Default Ports Confusing?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Socket%20Default%20Ports%20Confusing%3F&In-Reply-To=%3C9124e09b0908191840x47479ad3we79dc81ea8787534%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022164.html">
   <LINK REL="Next"  HREF="022177.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Socket Default Ports Confusing?</H1>
<!--htdig_noindex-->
    <B>Yuzo Fujishima</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Socket%20Default%20Ports%20Confusing%3F&In-Reply-To=%3C9124e09b0908191840x47479ad3we79dc81ea8787534%40mail.gmail.com%3E"
       TITLE="[whatwg] Web Socket Default Ports Confusing?">yuzo at google.com
       </A><BR>
    <I>Wed Aug 19 18:40:07 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="022164.html">[whatwg] FYI: How to write a spec document.
</A></li>
        <LI>Next message: <A HREF="022177.html">[whatwg] Microdata DOM API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22167">[ date ]</a>
              <a href="thread.html#22167">[ thread ]</a>
              <a href="subject.html#22167">[ subject ]</a>
              <a href="author.html#22167">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

as per <A HREF="http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol-35">http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol-35</A> ,
in web socket handshake, a client omits the port number if it is 80/443
while
a server omits it if it is 81/815.

Isn't this confusing?

I guess the client side behavior mimics HTTP and hence hard
to be changed. How about changing the server side behavior such that
port number is always explicitly stated regardless of the value?
(Behavior is still inconsistent but less confusing, IMHO.)
....
4.  Client-side requirements
    4.1.  Handshake
      6.   Send the following bytes:

             48 6f 73 74 3a 20

          Send the /host/ value, converted to ASCII lowercase, and encoded
          as US-ASCII.

          If /secure/ is false, and /port/ is not 80, or if /secure/ is
          true, and /port/ is not 443, then send an 0x3a byte (&quot;:&quot;)
          followed by the value of /port/, expressed as a base-ten
          integer, encoded as US-ASCII.
...
5.  Server-side requirements
    5.1.  Minimal handshake
         NOTE: Do not include the port if it is the default port for Web
     Socket protocol connections of the type in question (81 for
     unencrypted connections and 815 for encrypted connections).

Yuzo
</PRE>






































































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022164.html">[whatwg] FYI: How to write a spec document.
</A></li>
	<LI>Next message: <A HREF="022177.html">[whatwg] Microdata DOM API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22167">[ date ]</a>
              <a href="thread.html#22167">[ thread ]</a>
              <a href="subject.html#22167">[ subject ]</a>
              <a href="author.html#22167">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
