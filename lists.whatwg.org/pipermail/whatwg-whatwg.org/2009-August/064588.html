<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Storage mutex
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Storage%20mutex&In-Reply-To=%3C5dd9e5c50908252236m8e47075p767c28e11e5ad41c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064587.html">
   <LINK REL="Next"  HREF="064606.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Storage mutex</H1>
<!--htdig_noindex-->
    <B>Jeremy Orlow</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Storage%20mutex&In-Reply-To=%3C5dd9e5c50908252236m8e47075p767c28e11e5ad41c%40mail.gmail.com%3E"
       TITLE="[whatwg] Storage mutex">jorlow at chromium.org
       </A><BR>
    <I>Tue Aug 25 22:36:22 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064587.html">[whatwg] Storage mutex
</A></li>
        <LI>Next message: <A HREF="064606.html">[whatwg] Storage mutex
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64588">[ date ]</a>
              <a href="thread.html#64588">[ thread ]</a>
              <a href="subject.html#64588">[ subject ]</a>
              <a href="author.html#64588">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Aug 25, 2009 at 10:28 PM, Robert O'Callahan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt;wrote:

&gt;<i> On Tue, Aug 25, 2009 at 11:51 AM, Jeremy Orlow &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jorlow at chromium.org</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> To me, getStorageUpdates seems to imply that updates have already happened
</I>&gt;&gt;<i> and we're working with an old version of the data.  I think many developers
</I>&gt;&gt;<i> will be quite shocked that getStorageUpdates _enables_ others to update
</I>&gt;&gt;<i> storage.  In other words, 'get' seems to imply that you're consuming state
</I>&gt;&gt;<i> that's happening anyway, not affecting behavior.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> fetchStorageUpdates?
</I>

fetch has the same problem.  If we want to keep the &quot;StorageUpdates&quot; suffix,
I'd go with something like allowStorageUpdates.  But, no matter what, it
just doesn't seem very clear that you're actively allowing another thread to
use the storage mutex.

What about yieldStorageMutex?  Yield is enough different from unlock that I
don't think it'll leave developers looking for the lock function.  Yield
fits pretty well since this is essentially cooperative multi-tasking.
 StorageMutex is good because that's what its actually affecting.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090825/2da8e35d/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090825/2da8e35d/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064587.html">[whatwg] Storage mutex
</A></li>
	<LI>Next message: <A HREF="064606.html">[whatwg] Storage mutex
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64588">[ date ]</a>
              <a href="thread.html#64588">[ thread ]</a>
              <a href="subject.html#64588">[ subject ]</a>
              <a href="author.html#64588">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
