<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Global Script proposal.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal.&In-Reply-To=%3C278fd46c0908181232q6f43ea9bh3f4af56aaf058f4e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022131.html">
   <LINK REL="Next"  HREF="022134.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Global Script proposal.</H1>
<!--htdig_noindex-->
    <B>Aaron Boodman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal.&In-Reply-To=%3C278fd46c0908181232q6f43ea9bh3f4af56aaf058f4e%40mail.gmail.com%3E"
       TITLE="[whatwg] Global Script proposal.">aa at google.com
       </A><BR>
    <I>Tue Aug 18 12:32:05 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="022131.html">[whatwg] Global Script proposal.
</A></li>
        <LI>Next message: <A HREF="022134.html">[whatwg] Global Script proposal.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22132">[ date ]</a>
              <a href="thread.html#22132">[ thread ]</a>
              <a href="subject.html#22132">[ subject ]</a>
              <a href="author.html#22132">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Aug 18, 2009 at 12:20 PM, Mike Wilson&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mikewse at hotmail.com</A>&gt; wrote:
&gt;<i> Michael Nordman&#160;wrote:
</I>&gt;<i>
</I>&gt;<i> On Tue, Aug 18, 2009 at 6:07 AM, Mike Wilson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mikewse at hotmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Threading:
</I>&gt;&gt;<i> This is the unavoidable question ;-) How do you envision
</I>&gt;&gt;<i> multiple threads accessing this shared context to be
</I>&gt;&gt;<i> coordinated?
</I>&gt;<i>
</I>&gt;<i> Nominally, they don't. In our design for chrome's multi-process
</I>&gt;<i> architecture, the global-script would only be shared within a single
</I>&gt;<i> 'renderer' process (in which all page's, and global-scripts, execute in a
</I>&gt;<i> single thread).
</I>&gt;<i>
</I>&gt;<i> This might not be the same in other browsers. I think you need to&#160;define how
</I>&gt;<i> concurrent access should be handled so it can be applied to f ex a browser
</I>&gt;<i> using&#160;a single&#160;process&#160;but a thread per top-level window. If I understand
</I>&gt;<i> correctly it would be something like letting only one thread call inside the
</I>&gt;<i> GlobalScript context at a time?
</I>
I think it is likely impractical for windows that have javascript
access to each other to be on separate threads.

The relationship between the global script and pages accessing it is
similar to a parent windows and an iframe that are on the same origin,
or to a window and a popup window on the same origin.

Objects should be able to be freely passed across both sides. For
example, the global script should be able to have a JavaScript object
graph which represents some application state and share it (by
reference) with its clients.

I don't see how it is realistic to do this when the windows are
separated by a thread boundary.

Therefore, I would say it is totally valid for a UA to put a bunch of
windows that want to use the same global script URL in different
threads, but it should group them by thread. Each thread should get
its own global script that is shared among the windows that are on
that thread.

- a
</PRE>



















































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022131.html">[whatwg] Global Script proposal.
</A></li>
	<LI>Next message: <A HREF="022134.html">[whatwg] Global Script proposal.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22132">[ date ]</a>
              <a href="thread.html#22132">[ thread ]</a>
              <a href="subject.html#22132">[ subject ]</a>
              <a href="author.html#22132">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
