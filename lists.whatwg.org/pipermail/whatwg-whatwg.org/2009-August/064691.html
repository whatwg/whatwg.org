<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] origin+path namespacing and security
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20origin%2Bpath%20namespacing%20and%20security&In-Reply-To=%3C07bb01ca27bb%2446f6afa0%240a01a8c0%40mikedeskxp%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064687.html">
   <LINK REL="Next"  HREF="064692.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] origin+path namespacing and security</H1>
<!--htdig_noindex-->
    <B>Mike Wilson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20origin%2Bpath%20namespacing%20and%20security&In-Reply-To=%3C07bb01ca27bb%2446f6afa0%240a01a8c0%40mikedeskxp%3E"
       TITLE="[whatwg] origin+path namespacing and security">mikewse at hotmail.com
       </A><BR>
    <I>Fri Aug 28 01:41:02 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064687.html">[whatwg] origin+path namespacing and security
</A></li>
        <LI>Next message: <A HREF="064692.html">[whatwg] origin+path namespacing and security
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64691">[ date ]</a>
              <a href="thread.html#64691">[ thread ]</a>
              <a href="subject.html#64691">[ subject ]</a>
              <a href="author.html#64691">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Adam Barth wrote:
&gt;<i> Mike Wilson&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mikewse at hotmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; I see what you mean. The ideal thing would be if we
</I>&gt;<i> &gt; could implement path-based security with the same
</I>&gt;<i> &gt; construct that adds path-based namespacing.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I realize the problem of backwards-compat, but have
</I>&gt;<i> &gt; there been any efforts or definitive conclusions made
</I>&gt;<i> &gt; in this area?
</I>&gt;<i> 
</I>&gt;<i> I suspect the scheme+host+port model is too entrenched 
</I>&gt;<i> at this point to add +path to the origin tuple.
</I>
Just to be clear, I wasn't suggesting that we'd redefine 
&quot;origin&quot; to contain path, but rather saying there are 
cases where we could benefit from namespacing on 
origin (=scheme/host/port) + path.

The namespacing bit is probably not so hard, but making
it secure also is non-trivial, due to the by-default
unrestricted access between documents from the same
origin that Anne mentions:


Anne van Kesteren wrote:
&gt;<i> Note also that someone on /evilpath/ can simply inject an 
</I>&gt;<i> &lt;iframe&gt; loading /targetpath/ and extract cookies from 
</I>&gt;<i> there via ECMAScript or initiate requests from there, etc. 
</I>&gt;<i> Paths cannot be trusted to provide security.  
</I>
Yes, I guess this is what Ian had in mind in his initial
response, and it means cookies are already &quot;lost&quot; for this 
cause. But maybe we can still save new HTML5 features from
this exploit.

My chain of thoughts is something like below (this is just
a general picture so don't take it too literally):

- invent a more restrictive mechanism for script access
  between documents from the same origin (&quot;host&quot;) so it 
  can be limited based on a base path
- this mechanism needs a way to specify the blessed path,
  maybe something along the lines of document.domain or a
  response header
- the default blessed path should probably be as
  permissive as today to not break existing content on
  the Web (though maybe some smart algorithm may be
  developed that adds some restrictions)
- if new browsers implement this mechanism, it means it
  will be possible to secure all new HTML5 features
  implemented at the same time or later, as authors can
  depend on that, if a browser has feature X, then it also
  has path-based security
- old browsers will still ignore the new path-based
  restrictions, but they will not have the new HTML5
  features so these can not be exploited
- cookies will still be exploitable in old browsers and
  for legacy content, but as old browsers are phased out
  application authors can more and more depend on cookies
  also being &quot;safe&quot; based on configured path security

But maybe there has been previous efforts done on this 
topic?


Best regards
Mike


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064687.html">[whatwg] origin+path namespacing and security
</A></li>
	<LI>Next message: <A HREF="064692.html">[whatwg] origin+path namespacing and security
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64691">[ date ]</a>
              <a href="thread.html#64691">[ thread ]</a>
              <a href="subject.html#64691">[ subject ]</a>
              <a href="author.html#64691">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
