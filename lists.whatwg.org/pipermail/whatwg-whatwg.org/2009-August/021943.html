<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] BWTP for WebSocket transfer protocol
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20BWTP%20for%20WebSocket%20transfer%20protocol&In-Reply-To=%3C63df84f0908120306v796d53ao62ff1a0a0f1969b6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021946.html">
   <LINK REL="Next"  HREF="021942.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] BWTP for WebSocket transfer protocol</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20BWTP%20for%20WebSocket%20transfer%20protocol&In-Reply-To=%3C63df84f0908120306v796d53ao62ff1a0a0f1969b6%40mail.gmail.com%3E"
       TITLE="[whatwg] BWTP for WebSocket transfer protocol">jonas at sicking.cc
       </A><BR>
    <I>Wed Aug 12 03:06:40 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="021946.html">[whatwg] BWTP for WebSocket transfer protocol
</A></li>
        <LI>Next message: <A HREF="021942.html">[whatwg] BWTP for WebSocket transfer protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21943">[ date ]</a>
              <a href="thread.html#21943">[ thread ]</a>
              <a href="subject.html#21943">[ subject ]</a>
              <a href="author.html#21943">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Missed a few parts to reply to:

On Wed, Aug 12, 2009 at 1:10 AM, Greg Wilkins&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">gregw at mortbay.com</A>&gt; wrote:
&gt;<i> Of course the 0x80 length framed binary data type could be
</I>&gt;<i> used to send mime encoded messages, but then there would need
</I>&gt;<i> to be other standards to work out what style of meta-data was
</I>&gt;<i> used - if at all.
</I>
We'll need standards on top of BWTP/WS anyway, just getting a JSON
object doesn't really describe what to do with it. I.e. say that you
get

{ &quot;message&quot;: &quot;hello world&quot;, &quot;from&quot;: &quot;Eric&quot; }

what do you do? Do you append &quot;Eric: hello world&quot; to your IM
conversation? Reject the message because it doesn't contain a
&quot;channel&quot; property which your irc application requires?

&gt;<i> But from a protocol point of view, I simply do not like the
</I>&gt;<i> favoured-son status given to UTF-8 messages. &#160;What good is
</I>&gt;<i> knowing the character encoding if you don't know if the content
</I>&gt;<i> is XML or JSON? &#160;Are we going to have to write sniffers to
</I>&gt;<i> look for XML, JSON, HTML content?
</I>&gt;<i>
</I>&gt;<i> Why is utf-8 given it's own framing type (sentinels), when
</I>&gt;<i> the length framed binary framing is capable of carry the
</I>&gt;<i> messages just as efficiently and the sentinel framing fails
</I>&gt;<i> to support common transports such as gzipping etc.
</I>&gt;<i>
</I>&gt;<i> I really think that the ws protocol started from some
</I>&gt;<i> assumptions that are just too special case for the javascript
</I>&gt;<i> API usage and that it will be easier to come up with new
</I>&gt;<i> clean protocols rather than push websocket protocol away
</I>&gt;<i> from the assumptions that underlay is basic design.
</I>
While I agree that the protocol should be useful not just to be useful
for a single API, I do think we should keep APIs for using the
protocol in mind when designing it. From that point of view it makes
sense to me to separate text data from binary data. Not just for the
javascript API, but for other APIs as well.

/ Jonas
</PRE>

























































































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021946.html">[whatwg] BWTP for WebSocket transfer protocol
</A></li>
	<LI>Next message: <A HREF="021942.html">[whatwg] BWTP for WebSocket transfer protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21943">[ date ]</a>
              <a href="thread.html#21943">[ thread ]</a>
              <a href="subject.html#21943">[ subject ]</a>
              <a href="author.html#21943">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
