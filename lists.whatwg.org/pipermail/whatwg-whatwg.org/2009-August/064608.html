<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Run to completion in the face of modal dialog boxes (WAS:	Storage mutex)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Run%20to%20completion%20in%20the%20face%20of%20modal%20dialog%20boxes%20%28WAS%3A%0A%09Storage%20mutex%29&In-Reply-To=%3C5dd9e5c50908261249y146e7f59k4f42ac82e6d58b2e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064595.html">
   <LINK REL="Next"  HREF="064609.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Run to completion in the face of modal dialog boxes (WAS:	Storage mutex)</H1>
<!--htdig_noindex-->
    <B>Jeremy Orlow</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Run%20to%20completion%20in%20the%20face%20of%20modal%20dialog%20boxes%20%28WAS%3A%0A%09Storage%20mutex%29&In-Reply-To=%3C5dd9e5c50908261249y146e7f59k4f42ac82e6d58b2e%40mail.gmail.com%3E"
       TITLE="[whatwg] Run to completion in the face of modal dialog boxes (WAS:	Storage mutex)">jorlow at chromium.org
       </A><BR>
    <I>Wed Aug 26 12:49:39 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064595.html">[whatwg] formNoValidate/novalidate/willValidate
</A></li>
        <LI>Next message: <A HREF="064609.html">[whatwg] Run to completion in the face of modal dialog boxes	(WAS: Storage mutex)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64608">[ date ]</a>
              <a href="thread.html#64608">[ thread ]</a>
              <a href="subject.html#64608">[ subject ]</a>
              <a href="author.html#64608">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Aug 26, 2009 at 11:17 AM, Darin Fisher &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">darin at chromium.org</A>&gt; wrote:

&gt;<i> On Wed, Aug 26, 2009 at 1:27 AM, Jeremy Orlow &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jorlow at chromium.org</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On Wed, Aug 26, 2009 at 12:51 AM, Darin Fisher &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">darin at chromium.org</A>&gt;wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  On Sun, Aug 23, 2009 at 11:33 PM, Robert O'Callahan &lt;
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt; wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> That behaviour sounds worse than what Firefox currently does, where an
</I>&gt;&gt;&gt;&gt;<i> alert disables input to all tabs in the window (which is already pretty
</I>&gt;&gt;&gt;&gt;<i> bad), because it willl make applications in visually unrelated tabs and
</I>&gt;&gt;&gt;&gt;<i> windows hang.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> You can have script connections that span multiple tabs in multiple
</I>&gt;&gt;&gt;<i> windows, so in order to preserve the run-to-completion semantics of
</I>&gt;&gt;&gt;<i> JavaScript, it is important that
</I>&gt;&gt;&gt;<i> window.{alert,confirm,prompt,showModalDialog} be modal across all windows in
</I>&gt;&gt;&gt;<i> the browser.  This is why those APIs suck rocks, and we should never create
</I>&gt;&gt;&gt;<i> APIs like them again.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I don't understand your point here.  Are you saying that the current
</I>&gt;&gt;<i> firefox behavior is not correct, that releasing the storage lock on these
</I>&gt;&gt;<i> events is not correct, or something else?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I meant that the current Firefox behavior is technically incorrect.  No one
</I>&gt;<i> likes app modal dialogs, but how else can you guarantee run-to-completion
</I>&gt;<i> semantics? How else do you prevent other scripts from modifying your state
</I>&gt;<i> while you are stuck calling into window.alert().
</I>&gt;<i>
</I>
I don't know much about this issue, but it seems like something that should
either be fixed in Firefox (and other browsers?) or changed in the spec.
 I'm interested to hear if others have thoughts on it.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090826/600ea8ed/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090826/600ea8ed/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064595.html">[whatwg] formNoValidate/novalidate/willValidate
</A></li>
	<LI>Next message: <A HREF="064609.html">[whatwg] Run to completion in the face of modal dialog boxes	(WAS: Storage mutex)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64608">[ date ]</a>
              <a href="thread.html#64608">[ thread ]</a>
              <a href="subject.html#64608">[ subject ]</a>
              <a href="author.html#64608">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
