<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposed changes to the History API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposed%20changes%20to%20the%20History%20API&In-Reply-To=%3Cc84706c70908210946i41c67822o1a72faab270cd16e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064454.html">
   <LINK REL="Next"  HREF="064466.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposed changes to the History API</H1>
<!--htdig_noindex-->
    <B>Justin Lebar</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposed%20changes%20to%20the%20History%20API&In-Reply-To=%3Cc84706c70908210946i41c67822o1a72faab270cd16e%40mail.gmail.com%3E"
       TITLE="[whatwg] Proposed changes to the History API">justin.lebar at gmail.com
       </A><BR>
    <I>Fri Aug 21 09:46:20 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064454.html">[whatwg] Proposed changes to the History API
</A></li>
        <LI>Next message: <A HREF="064466.html">[whatwg] Proposed changes to the History API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64462">[ date ]</a>
              <a href="thread.html#64462">[ thread ]</a>
              <a href="subject.html#64462">[ subject ]</a>
              <a href="author.html#64462">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> Sorry, it seems we are not talking about the same application.
</I>&gt;<i> Jonas referred to attachment pages in your bug database, which
</I>&gt;<i> I assumed would f ex be a page like this one:
</I>&gt;<i> <A HREF="https://bugzilla.mozilla.org/attachment.cgi?id=386244&amp;action=edit">https://bugzilla.mozilla.org/attachment.cgi?id=386244&amp;action=edit</A>
</I>&gt;<i> (The textarea in this app is not created onload, it is delivered
</I>&gt;<i> in the server-generated HTML and thus is subject to form field
</I>&gt;<i> value persistence.)
</I>
STR:
  * Open <A HREF="https://bugzilla.mozilla.org/attachment.cgi?id=386244&amp;action=edit">https://bugzilla.mozilla.org/attachment.cgi?id=386244&amp;action=edit</A>
  * Click &quot;Edit as comment&quot;
  * Change the text in the textarea
  * Close and re-open your browser

Actual behavior: The textarea is back to its original state, read-only
and without your edits.  Even after you press &quot;edit as comment&quot;, the
state still doesn't reflect the changes you made before you closed the
browser.

Behavior with History API: When you click &quot;edit as comment&quot; and as you
type your comments, the page periodically saves the data to pageState.
 When the page receives a popstate, it restores the state of the
textarea.

I imagine that one could rework the Bugzilla page to function better
on browser restart using existing web technologies.  But as the page
is designed right now, some kind of pageStorage would be helpful.

-Justin

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064454.html">[whatwg] Proposed changes to the History API
</A></li>
	<LI>Next message: <A HREF="064466.html">[whatwg] Proposed changes to the History API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64462">[ date ]</a>
              <a href="thread.html#64462">[ thread ]</a>
              <a href="subject.html#64462">[ subject ]</a>
              <a href="author.html#64462">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
