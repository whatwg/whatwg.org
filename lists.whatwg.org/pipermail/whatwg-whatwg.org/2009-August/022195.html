<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposed changes to the History API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposed%20changes%20to%20the%20History%20API&In-Reply-To=%3C5dd9e5c50908211239s4a56c6e5h50b1ff100839a1b9%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022193.html">
   <LINK REL="Next"  HREF="022148.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposed changes to the History API</H1>
<!--htdig_noindex-->
    <B>Jeremy Orlow</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposed%20changes%20to%20the%20History%20API&In-Reply-To=%3C5dd9e5c50908211239s4a56c6e5h50b1ff100839a1b9%40mail.gmail.com%3E"
       TITLE="[whatwg] Proposed changes to the History API">jorlow at chromium.org
       </A><BR>
    <I>Fri Aug 21 12:39:08 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="022193.html">[whatwg] Proposed changes to the History API
</A></li>
        <LI>Next message: <A HREF="022148.html">[whatwg] Text areas with pattern attributes?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22195">[ date ]</a>
              <a href="thread.html#22195">[ thread ]</a>
              <a href="subject.html#22195">[ subject ]</a>
              <a href="author.html#22195">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Aug 21, 2009 at 12:26 PM, Mike Wilson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mikewse at hotmail.com</A>&gt; wrote:

&gt;<i> Justin Lebar wrote:
</I>&gt;<i> &gt; Mike Wilson wrote:
</I>&gt;<i> &gt; &gt; Sorry, it seems we are not talking about the same application.
</I>&gt;<i> &gt; &gt; Jonas referred to attachment pages in your bug database, which
</I>&gt;<i> &gt; &gt; I assumed would f ex be a page like this one:
</I>&gt;<i> &gt; &gt; <A HREF="https://bugzilla.mozilla.org/attachment.cgi?id=386244&amp;action=edit">https://bugzilla.mozilla.org/attachment.cgi?id=386244&amp;action=edit</A>
</I>&gt;<i> &gt; &gt; (The textarea in this app is not created onload, it is delivered
</I>&gt;<i> &gt; &gt; in the server-generated HTML and thus is subject to form field
</I>&gt;<i> &gt; &gt; value persistence.)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; STR:
</I>&gt;<i> &gt;   * Open
</I>&gt;<i> &gt; <A HREF="https://bugzilla.mozilla.org/attachment.cgi?id=386244&amp;action=edit">https://bugzilla.mozilla.org/attachment.cgi?id=386244&amp;action=edit</A>
</I>&gt;<i> &gt;   * Click &quot;Edit as comment&quot;
</I>&gt;<i> &gt;   * Change the text in the textarea
</I>&gt;<i> &gt;   * Close and re-open your browser
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Actual behavior: The textarea is back to its original state, read-only
</I>&gt;<i> &gt; and without your edits.  Even after you press &quot;edit as comment&quot;, the
</I>&gt;<i> &gt; state still doesn't reflect the changes you made before you closed the
</I>&gt;<i> &gt; browser.
</I>&gt;<i>
</I>&gt;<i> Hm, it seems you didn't get my point. I was referring to
</I>&gt;<i> your statement saying that it wasn't possible for the form
</I>&gt;<i> field value persistence to do its job because the textarea
</I>&gt;<i> was created and populated onload. I was pointing out that
</I>&gt;<i> this is not the case, as the textarea and its content
</I>&gt;<i> are indeed delivered in the &quot;static&quot; HTML right from the
</I>&gt;<i> server and not created onload.
</I>&gt;<i> Thus, this textarea is fully functional with the browser's
</I>&gt;<i> form field value persistence mechanism, as can be seen if
</I>&gt;<i> you revisit the textarea within the same browser session.
</I>&gt;<i>
</I>&gt;<i> I understand that persistence between browser restarts is
</I>&gt;<i> one of your goals, but I have never said that the current
</I>&gt;<i> incarnation of form field value persistence persists
</I>&gt;<i> between browser restarts. Or are you saying that?
</I>&gt;<i> Indeed, if Mozilla's implementation did that, I would
</I>&gt;<i> expect it to work straight off with the discussed bugzilla
</I>&gt;<i> page, due to its simple and form-friendly design.
</I>

I think whether or not a particular UA persists form field data (or anything
other than history API data) is completely orthogonal to this discussion.
 For the sake of this discussion, lets assume there's some UA out there that
ONLY persists history API data for recovery.  That way the history API
doesn't depend on any of these other features.  Agreed?

Getting back to your question, with both the original and the newly proposed
API this is possible.  The difference is that with the newer API, it's much
easier to update an entry.  For example, if I wanted history to include what
was typed into a particular form field, I could just keep updating the
history entry whenever the text changes or when I add a new history entry.
 With the old API, I'd have to create a unique ID that gets pushed via the
history API, and then maintain all of that state elsewhere.  I then depend
on either both or neither of those APIs surviving a recovery.

This is one of the reasons I think the proposed changes to the API are much
more usable.

J
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090821/1f4cfdb0/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090821/1f4cfdb0/attachment.htm</A>&gt;
</PRE>






















































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022193.html">[whatwg] Proposed changes to the History API
</A></li>
	<LI>Next message: <A HREF="022148.html">[whatwg] Text areas with pattern attributes?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22195">[ date ]</a>
              <a href="thread.html#22195">[ thread ]</a>
              <a href="subject.html#22195">[ subject ]</a>
              <a href="author.html#22195">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
