<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Global Script proposal.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal.&In-Reply-To=%3C4A8C0E28.9050908%40muellerware.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064403.html">
   <LINK REL="Next"  HREF="064424.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Global Script proposal.</H1>
<!--htdig_noindex-->
    <B>Patrick Mueller</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal.&In-Reply-To=%3C4A8C0E28.9050908%40muellerware.org%3E"
       TITLE="[whatwg] Global Script proposal.">pmuellr at muellerware.org
       </A><BR>
    <I>Wed Aug 19 07:37:28 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064403.html">[whatwg] Global Script proposal.
</A></li>
        <LI>Next message: <A HREF="064424.html">[whatwg] Global Script proposal.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64419">[ date ]</a>
              <a href="thread.html#64419">[ thread ]</a>
              <a href="subject.html#64419">[ subject ]</a>
              <a href="author.html#64419">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>This looks interesting.

Dmitry Titov wrote:
&gt;<i> 
</I>&gt;<i> A web page will be able to create a Global Script and connect to it, as in
</I>&gt;<i> this example:
</I>&gt;<i> 
</I>&gt;<i> var context = new GlobalScript();  // perhaps 'webkitGlobalScript' as
</I>&gt;<i> experimental feature?
</I>&gt;<i> context.onload = function () {...}
</I>&gt;<i> context.onerror = function () {...}
</I>&gt;<i> context.load('foo.js');
</I>
Presumably this script is being loaded asynchronously, hence the 
callbacks.  But since the GlobalScript() constructor returns the 
&quot;global&quot; object, probably doesn't make sense to attach the handlers 
directly there, but actually on the load request somehow.  And 
presumably you'd be able to load multiple .js files.  This will be 
interesting, as the .js files presumably will get interpreted in an 
arbitrary order - we'll be inventing some new idioms (not a problem, 
just an observation).

Is this then really the only API exposed?  A constructor and a js 
loader?  (+1, less is more)

I guess I'm wondering if there will be some desire to have pages opt-in 
to this support, signaling this through an additional API, or like the 
app-cache's manifest attribute on the &lt;html&gt; element, something in the 
DOM; doesn't seem like we should drag the DOM in here, just mentioned it 
because I was reminded of the way the opt-in works there.

Or perhaps these GlobalScripts - should really be called GlobalObjects 
or GlobalContexts maybe; SharedScope? - could be named, by passing a 
string on the constructor?  Would there be value in having multiple 
named scopes available?  In the current scenario with a no-arg 
constructor, what happens when I invoke it again?  If it should return 
the same object, then don't use a constructor, use a plain old function 
- SharedScope.getCurrent().

-- 
Patrick Mueller - <A HREF="http://muellerware.org">http://muellerware.org</A>


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064403.html">[whatwg] Global Script proposal.
</A></li>
	<LI>Next message: <A HREF="064424.html">[whatwg] Global Script proposal.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64419">[ date ]</a>
              <a href="thread.html#64419">[ thread ]</a>
              <a href="subject.html#64419">[ subject ]</a>
              <a href="author.html#64419">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
