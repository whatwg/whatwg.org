<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Global Script proposal.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal.&In-Reply-To=%3C012101ca2a4f%2478c0e190%240a01a8c0%40mikedeskxp%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064748.html">
   <LINK REL="Next"  HREF="064779.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Global Script proposal.</H1>
<!--htdig_noindex-->
    <B>Mike Wilson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal.&In-Reply-To=%3C012101ca2a4f%2478c0e190%240a01a8c0%40mikedeskxp%3E"
       TITLE="[whatwg] Global Script proposal.">mikewse at hotmail.com
       </A><BR>
    <I>Mon Aug 31 08:26:53 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064748.html">[whatwg] Global Script proposal.
</A></li>
        <LI>Next message: <A HREF="064779.html">[whatwg] Global Script proposal.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64777">[ date ]</a>
              <a href="thread.html#64777">[ thread ]</a>
              <a href="subject.html#64777">[ subject ]</a>
              <a href="author.html#64777">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> 
</I>&gt;<i> Given that all frames in a 
</I>&gt;<i> browsing context have to be on the same thread, 
</I>&gt;<i> regardless of domain, then unless we put all the 
</I>&gt;<i> browsing contexts on the same thread, we can't 
</I>&gt;<i> guarantee that all frames from the same domain 
</I>&gt;<i> across all browsing contexts will be on the same 
</I>&gt;<i> thread.
</I>
Right, the GlobalScript proposal would cause an
additional vector that enlarges the sets of 
&quot;related similar-origin browsing contexts&quot;, ie
making more browsing contexts share event loop.

But there are already a number of relationships
that cause this, so can we really say that 
having one more is not possible? 

As an application developer I wouldn't have any
problem with knowing up-front that my 
application would &quot;share thread&quot; with the other 
&quot;instances&quot; (pages) of my application if I use
the GlobalScipt feature.
(And has been mentioned, it wouldn't be a forced
requirement.)

@Dmitry: as an implementor, do you find problems
with having a loaded page change event loop and
thread, or is that just about swapping around 
data structures?
What I'm thinking about is that if swapping is
possible, then every page can start on its own
thread, and then only swap over to the shared 
thread for that &quot;unit of related similar-origin 
browsing contexts&quot; if referencing a GlobalScript.

(If swapping is not possible, then every page 
would have to try to join the thread for its 
origin at load time, to be prepared for 
GlobalScript sharing, and that would probably
pull together more browsing contexts than 
desired into shared threds...)

&gt;<i> [...]
</I>&gt;<i> Granted, programmers today don't want to use 
</I>&gt;<i> threads -- but, well, tough.
</I>&gt;<i> All indications are that that's what the 
</I>&gt;<i> programming model of the next few decades is 
</I>&gt;<i> going to be; now is the time to move that way. 
</I>&gt;<i> We shouldn't be adding features that actually 
</I>&gt;<i> move us back to the single-threaded world.
</I>
FWIW, I don't see the GlobalScript proposal as
something that wants to avoid multi-threading.
Though, with JavaScript's &quot;shared nothing&quot;
approach between threads, single-threading is
a side-effect of having &quot;live&quot; access (no
intermediate serializing/cloning) to shared 
data. If there was multi-threaded access to
data (you could say there already is with
cookies and the storage mutex) I'm sure the
GlobalScript proposal could be tailored to take 
advantage of that.

Best regards
Mike


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064748.html">[whatwg] Global Script proposal.
</A></li>
	<LI>Next message: <A HREF="064779.html">[whatwg] Global Script proposal.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64777">[ date ]</a>
              <a href="thread.html#64777">[ thread ]</a>
              <a href="subject.html#64777">[ subject ]</a>
              <a href="author.html#64777">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
