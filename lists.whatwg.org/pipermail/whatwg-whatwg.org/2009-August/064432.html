<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Global Script proposal.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal.&In-Reply-To=%3Ch6hnkp%24lo3%241%40ger.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064428.html">
   <LINK REL="Next"  HREF="064435.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Global Script proposal.</H1>
<!--htdig_noindex-->
    <B>Patrick Mueller</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal.&In-Reply-To=%3Ch6hnkp%24lo3%241%40ger.gmane.org%3E"
       TITLE="[whatwg] Global Script proposal.">pmuellr at muellerware.org
       </A><BR>
    <I>Wed Aug 19 13:34:33 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064428.html">[whatwg] Global Script proposal.
</A></li>
        <LI>Next message: <A HREF="064435.html">[whatwg] Global Script proposal.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64432">[ date ]</a>
              <a href="thread.html#64432">[ thread ]</a>
              <a href="subject.html#64432">[ subject ]</a>
              <a href="author.html#64432">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Dmitry Titov wrote:

&gt;<i> The return value from a constructor is the Global Script's &quot;global scope
</I>&gt;<i> object&quot;. It can be used to directly access functions and variables defined
</I>&gt;<i> in global scope of the Global Script. While this global scope does not have
</I>&gt;<i> 'window' or 'document' and does not have visual page associated with it, the
</I>&gt;<i> local storage, database, timers and XHR are exposed to it, and it can build
</I>&gt;<i> up DOM for the connected pages using their 'document' object. 
</I>
This turns out to be fairly similar to the serverJS concept of 
&quot;modules&quot;.  I could see how you might want to use it this way, to get 
script code loaded into it's own sandbox, and allow the client of the 
&quot;module&quot; to name the object as they see fit.

This would require the use of a name when you create it, so as to allow 
multiple to be created, and to allow other sharers to find those objects.

This also allows folks to programmatically load JS code without having 
to resort to XHR/eval or adding &lt;script&gt; nodes to the DOM.  Big plus, 
because those scripts will then be associated with an honest-to-gods 
name, which will show up in debuggers.  And is obviously cleaner than 
the other techniques.


&gt;<i> The list of
</I>&gt;<i> interfaces exposed in the global scope of the Global Script is similar to
</I>&gt;<i> that of Shared Worker, except message-passing interface. It could also
</I>&gt;<i> include events fired when a page connects/disconnects to it and before it is
</I>&gt;<i> terminated.
</I>
Can I create additional GlobalScript's from within an existing 
GlobalScript?

The load() method is very similar to the worker loadScript() (or 
whatever) function.  Perhaps we should combine them into one API, that 
allows sync or async in a worker, but only allows async in a 
GlobalScript.  Or at least advises against use of sync.


-- 
Patrick Mueller - <A HREF="http://muellerware.org">http://muellerware.org</A>


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064428.html">[whatwg] Global Script proposal.
</A></li>
	<LI>Next message: <A HREF="064435.html">[whatwg] Global Script proposal.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64432">[ date ]</a>
              <a href="thread.html#64432">[ thread ]</a>
              <a href="subject.html#64432">[ subject ]</a>
              <a href="author.html#64432">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
