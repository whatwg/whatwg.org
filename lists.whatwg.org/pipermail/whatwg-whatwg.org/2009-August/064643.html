<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Storage: apparent contradiction in spec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20apparent%20contradiction%20in%20spec&In-Reply-To=%3C41F24A33-1AFC-4254-AF28-B4FBDB3E1E86%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064646.html">
   <LINK REL="Next"  HREF="064660.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Storage: apparent contradiction in spec</H1>
<!--htdig_noindex-->
    <B>Brady Eidson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20apparent%20contradiction%20in%20spec&In-Reply-To=%3C41F24A33-1AFC-4254-AF28-B4FBDB3E1E86%40apple.com%3E"
       TITLE="[whatwg] Web Storage: apparent contradiction in spec">beidson at apple.com
       </A><BR>
    <I>Wed Aug 26 21:13:14 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064646.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
        <LI>Next message: <A HREF="064660.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64643">[ date ]</a>
              <a href="thread.html#64643">[ thread ]</a>
              <a href="subject.html#64643">[ subject ]</a>
              <a href="author.html#64643">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I understand you want the web to be safe.  I do too, and I think we  
all do.

It never has been, it currently isn't, but it's better.  The situation  
has been improving for many years.

I'm not convinced that the idea of guaranteed persistent storage  
inherently takes us backwards.

I think the current language in the spec (and whatever language we  
eventually settle on) allows user agents the flexibility to implement  
their own extra restrictions to accommodate its idea of &quot;safe&quot; while  
still guaranteeing the persistence of data it has claimed to store  
locally.

I am convinced that if we change the language to solidify that  
LocalStorage is just a cache, we're discounting its use in offline web  
applications and the other examples of applications that desire local,  
persistent state and do not want a server/cloud component.  We'd be  
driving these applications back to plug-ins, and I personally find  
that unacceptable.

If that's what we're doing, then we haven't actually gained much with  
LocalStorage and might as well drop it.

~Brady

On Aug 26, 2009, at 8:23 PM, Linus Upson wrote:

&gt;<i> I simply want clicking on links to be safe. In a previous thread I  
</I>&gt;<i> wrote &quot;safe and stateless&quot; but I'm coming to the opinion that  
</I>&gt;<i> stateless is a corollary of safe. Clicking on links shouldn't,  
</I>&gt;<i> either by filling my disk or hitting my global quota, someday lead  
</I>&gt;<i> to a dialog which reads, &quot;Please choose what to delete so that web  
</I>&gt;<i> sites will continue to work.&quot; The candidate delete list will be  
</I>&gt;<i> thousands long and hidden in that haystack will be a few precious  
</I>&gt;<i> needles.
</I>&gt;<i>
</I>&gt;<i> I also want to avoid any [Yes] [No] dialogs. Can I do something  
</I>&gt;<i> scary [Yes] [No]? Can I do something innocuous [Yes] [No]? Users  
</I>&gt;<i> shouldn't be forced to make those kinds of safety judgements. I'm  
</I>&gt;<i> guilty of instigating at least one of those dialogs. As shamed  
</I>&gt;<i> politicians do I'll retreat to the passive voice: Mistakes were made.
</I>&gt;<i>
</I>&gt;<i> I'm not opposed to web apps manipulating files on the user's  
</I>&gt;<i> computer, but the user should be in explicit control. I'd support  
</I>&gt;<i> &lt;input type=&quot;open&quot;&gt; and &lt;input type=&quot;save&quot;&gt; that worked similarly to  
</I>&gt;<i> &lt;input type=&quot;file&quot;&gt;. User agents are already registering for file  
</I>&gt;<i> types so that double clicking a file with a certain extension can be  
</I>&gt;<i> automatically sent to an URL, perhaps residing in an AppCache.
</I>&gt;<i>
</I>&gt;<i> In addition, I'd like to see the pop-up dialogs for the location API  
</I>&gt;<i> removed. I find the &quot;Can I know where you are?&quot; dialogs on the  
</I>&gt;<i> iPhone very annoying. Mistakes were made. Perhaps we can find a way  
</I>&gt;<i> to make &lt;input type=&quot;location&quot;&gt; work well instead.
</I>&gt;<i>
</I>&gt;<i> Linus
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Wed, Aug 26, 2009 at 5:14 PM, Brady Eidson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">beidson at apple.com</A>&gt;  
</I>&gt;<i> wrote:
</I>&gt;<i> I started writing a detailed rebuttal to Linus's reply, but by the  
</I>&gt;<i> time I was finished, many others had already delivered more  
</I>&gt;<i> targetted replies.
</I>&gt;<i>
</I>&gt;<i> So I'll cut the rebuttal format and make a few specific points.
</I>&gt;<i>
</I>&gt;<i>  - Many apps act as a &quot;shoebox&quot; for managing specific types of data,  
</I>&gt;<i> and users are used to using these apps to manage that data  
</I>&gt;<i> directly.  See iTunes, Windows Media Player, iPhoto, and desktop  
</I>&gt;<i> mail clients as examples.  This trend is growing, not waning.   
</I>&gt;<i> Browsers are already a &quot;shoebox&quot; for history, bookmarks, and other  
</I>&gt;<i> types of data.
</I>&gt;<i> Claiming that this data is &quot;hidden&quot; from users who are used to  
</I>&gt;<i> handling obscure file management scenarios  and therefore we  
</I>&gt;<i> shouldn't fully respect it is trying to fit in with the past, not  
</I>&gt;<i> trying to make the future better.
</I>&gt;<i>
</I>&gt;<i>  - No one is suggesting that UAs not have whatever freedom they want  
</I>&gt;<i> in deciding *what* or *how much* to store.  We're only suggesting  
</I>&gt;<i> that once the UA has committed to storing it, it *not* be allowed to  
</I>&gt;<i> arbitrarily purge it.
</I>&gt;<i>
</I>&gt;<i>  - One use of LocalStorage is as a cache for data that is transient  
</I>&gt;<i> and non-critical in nature, or that will live on a server.  But  
</I>&gt;<i> another, just-as-valid use of LocalStorage is for persistent,  
</I>&gt;<i> predictable storage in the client UA that will never rely on  
</I>&gt;<i> anything in the cloud.
</I>&gt;<i>
</I>&gt;<i>  - And on that note, if developers don't have faith that data in  
</I>&gt;<i> LocalStorage is actually persistent and safe, they won't use it.
</I>&gt;<i> I've given talks on this point 4 times in the last year, and I am  
</I>&gt;<i> stating this as a fact, based on real-world feedback from actual,  
</I>&gt;<i> real-world web developers:  If LocalStorage is defined in the  
</I>&gt;<i> standard to be a purgable cache, developers will continue to use  
</I>&gt;<i> what they're already comfortable with, which is Flash's LocalStorage.
</I>&gt;<i>
</I>&gt;<i> When a developer is willing to instantiate a plug-in just to  
</I>&gt;<i> reliably store simple nuggets of data - like user preferences and  
</I>&gt;<i> settings - because they don't trust the browser, then I think we've  
</I>&gt;<i> failed in moving the web forward.
</I>&gt;<i>
</I>&gt;<i> I truly hope we can sway the &quot;LocalStorage is a cache crowd.&quot;  But  
</I>&gt;<i> if we can't, then I would have to suggest something crazy - that we  
</I>&gt;<i> add a third Storage object.
</I>&gt;<i>
</I>&gt;<i> (Note that Jens - from Google - has already loosely suggested this)
</I>&gt;<i>
</I>&gt;<i> So we'd have something like:
</I>&gt;<i> -SessionStorage - That fills the &quot;per browsing context&quot; role and  
</I>&gt;<i> whose optionally transient nature is already well spec'ed
</I>&gt;<i> -CachedStorage - That fills Google's interpretation of the  
</I>&gt;<i> &quot;LocalStorage&quot; role in that it's global, and &quot;will probably be  
</I>&gt;<i> around on the disk in the future, maybe&quot;
</I>&gt;<i> -FileStorage - That fills Apple's interpretation of the  
</I>&gt;<i> &quot;LocalStorage&quot; role in that it's global, and is as sacred as a file  
</I>&gt;<i> on the disk (or a song in your media library, or a photo in your  
</I>&gt;<i> photo library, or a bookmark, or...)
</I>&gt;<i>
</I>&gt;<i> The names are just suggestions at this point.
</I>&gt;<i>
</I>&gt;<i> ~Brady
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090826/141f6147/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090826/141f6147/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064646.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
	<LI>Next message: <A HREF="064660.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64643">[ date ]</a>
              <a href="thread.html#64643">[ thread ]</a>
              <a href="subject.html#64643">[ subject ]</a>
              <a href="author.html#64643">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
