<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;object&gt; behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cobject%3E%20behavior&In-Reply-To=%3C4A7ACFB1.8030808%40ado.is-a-geek.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064274.html">
   <LINK REL="Next"  HREF="064037.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;object&gt; behavior</H1>
<!--htdig_noindex-->
    <B>Andrew Oakley</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cobject%3E%20behavior&In-Reply-To=%3C4A7ACFB1.8030808%40ado.is-a-geek.net%3E"
       TITLE="[whatwg] &lt;object&gt; behavior">andrew at ado.is-a-geek.net
       </A><BR>
    <I>Thu Aug  6 05:42:25 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064274.html">[whatwg] Editorial section 1.5.1 serialising
</A></li>
        <LI>Next message: <A HREF="064037.html">[whatwg] &lt;object&gt; behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64036">[ date ]</a>
              <a href="thread.html#64036">[ thread ]</a>
              <a href="subject.html#64036">[ subject ]</a>
              <a href="author.html#64036">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>The rules in the HTML5 spec for which plugin to load for an &lt;object&gt; do
not seem to be followed by any browser, and in some cases are different
to behavior that is common to Opera, Webkit and Gecko (I haven't tested
with IE due to its lack of nsplugin support).

Most notably HTML5 says that the Content-Type header is used in
preference to the type attribute, whereas the browsers seem to honour
the attribute in preference to the header.  (If the spec is changed to
match the browsers behaviour then the conditions on when to load a new
plugin also need to be changed.)  HTML5 also seems to prefer the type
attribute on &lt;script&gt;s rather than the Content-Type header.

Detaching and reattaching a &lt;object&gt; from the document seems to make the
browsers destroy the object and then recreate it.  Presumably this means
that the DOM objects also change depending on whether or not an &lt;object&gt;
is attached to the document (haven't confirmed that this is the case).

Changing the attributes on an &lt;object&gt; that is attached to the document
doesn't seem to &quot;work&quot; - Webkit does nothing, Opera seems to stop
scripting (presumably some kind of error), Firefox reloads the plugin in
some cases (even if its not the right one anymore).

Removing an &lt;object&gt; from the document (browsers destroy plugin object),
changing the attributes and reattaching it to the document (browser
creates plugin object) seems to work fairly reliably across browsers.

In effect it seems that browsers use the attributes that were on the
&lt;object&gt; when it was attached to the document, and do not respond to
changes in the attributes.

The test cases I used are available at
<A HREF="http://ado.is-a-geek.net/~andrew/pluginstest.tar.bz2">http://ado.is-a-geek.net/~andrew/pluginstest.tar.bz2</A> (sorry they are
somewhat linux based due to the platform specific plugins).

In summary I have a few questions related to &lt;object&gt;s:
- Should the type attribute take precedence over the Content-Type header?
- Should &lt;object&gt;s exist all the time whether they are attached to the
document or not?
- Should changing the attributes change the plugin, or should we just
use the attributes when the object was attached to the document?

Cheers

-- 
Andrew Oakley

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064274.html">[whatwg] Editorial section 1.5.1 serialising
</A></li>
	<LI>Next message: <A HREF="064037.html">[whatwg] &lt;object&gt; behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64036">[ date ]</a>
              <a href="thread.html#64036">[ thread ]</a>
              <a href="subject.html#64036">[ subject ]</a>
              <a href="author.html#64036">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
