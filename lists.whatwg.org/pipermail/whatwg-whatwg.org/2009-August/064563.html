<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Storage: apparent contradiction in spec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20apparent%20contradiction%20in%20spec&In-Reply-To=%3C661ec83d0908251338l5c177a78s18bee45eb873fb66%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064562.html">
   <LINK REL="Next"  HREF="064564.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Storage: apparent contradiction in spec</H1>
<!--htdig_noindex-->
    <B>Linus Upson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20apparent%20contradiction%20in%20spec&In-Reply-To=%3C661ec83d0908251338l5c177a78s18bee45eb873fb66%40mail.gmail.com%3E"
       TITLE="[whatwg] Web Storage: apparent contradiction in spec">linus at google.com
       </A><BR>
    <I>Tue Aug 25 13:38:36 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064562.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
        <LI>Next message: <A HREF="064564.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64563">[ date ]</a>
              <a href="thread.html#64563">[ thread ]</a>
              <a href="subject.html#64563">[ subject ]</a>
              <a href="author.html#64563">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>It is important that all local state be treated as a cache. User agents need
to be free to garbage collect any local state. If they can't then attackers
(or the merely lazy) will be able to fill up the user's disk. We can't
expect web sites or users to do the chore of taking out the garbage. Better
user agents will have better garbage collection algorithms.
It would be better to remove section 4.3.

Linus


On Tue, Aug 25, 2009 at 1:18 PM, Jens Alfke &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">snej at google.com</A>&gt; wrote:

&gt;<i> I've just noticed an apparent self-contradiction in the Web Storage spec&lt;<A HREF="http://dev.w3.org/html5/webstorage">http://dev.w3.org/html5/webstorage</A>&gt; (24
</I>&gt;<i> August draft).
</I>&gt;<i> Section 4.3 states:
</I>&gt;<i>
</I>&gt;<i> Data stored in local storage areas should be considered potentially
</I>&gt;<i> user-critical. It is expected that Web applications will use the local
</I>&gt;<i> storage areas for storing user-written documents.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Section 6.1 states:
</I>&gt;<i>
</I>&gt;<i> User agents should present the persistent storage feature to the user in a
</I>&gt;<i> way that does not distinguish them from HTTP session cookies.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> These statements are contradictory, because cookies don't store
</I>&gt;<i> user-critical data such as documents. The user model of cookies is that
</I>&gt;<i> they're conveniences (at best) for keeping you logged into a site or
</I>&gt;<i> remembering preferences like font-size, so deleting them is no more than an
</I>&gt;<i> inconvenience. If local storage is presented to the user as being cookies,
</I>&gt;<i> then a user may delete it without understanding the consequences.
</I>&gt;<i>
</I>&gt;<i> Potential result: &quot;I was having trouble logging into FooDocs.com, so my
</I>&gt;<i> friend suggested I delete the cookies for that site. After that I could log
</I>&gt;<i> in, but now the document I was working on this morning has lost all the
</I>&gt;<i> changes I made! How do I get them back?&quot;
</I>&gt;<i>
</I>&gt;<i> I suggest that the sub-section &quot;Treating persistent storage as cookies&quot; of
</I>&gt;<i> section 6.1 be removed.
</I>&gt;<i>
</I>&gt;<i> &#8212;Jens
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090825/a9040858/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090825/a9040858/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064562.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
	<LI>Next message: <A HREF="064564.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64563">[ date ]</a>
              <a href="thread.html#64563">[ thread ]</a>
              <a href="subject.html#64563">[ subject ]</a>
              <a href="author.html#64563">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
