<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Storage: apparent contradiction in spec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20apparent%20contradiction%20in%20spec&In-Reply-To=%3C278fd46c0908271043u4c02f2aemf0741800b10413cc%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064643.html">
   <LINK REL="Next"  HREF="064663.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Storage: apparent contradiction in spec</H1>
<!--htdig_noindex-->
    <B>Aaron Boodman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20apparent%20contradiction%20in%20spec&In-Reply-To=%3C278fd46c0908271043u4c02f2aemf0741800b10413cc%40mail.gmail.com%3E"
       TITLE="[whatwg] Web Storage: apparent contradiction in spec">aa at google.com
       </A><BR>
    <I>Thu Aug 27 10:43:41 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064643.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
        <LI>Next message: <A HREF="064663.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64660">[ date ]</a>
              <a href="thread.html#64660">[ thread ]</a>
              <a href="subject.html#64660">[ subject ]</a>
              <a href="author.html#64660">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Aug 26, 2009 at 8:23 PM, Linus Upson&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">linus at google.com</A>&gt; wrote:
&gt;<i> I simply want clicking on links to be safe. In a previous thread I wrote
</I>&gt;<i> &quot;safe and stateless&quot; but I'm coming to the opinion that stateless is
</I>&gt;<i> a&#160;corollary&#160;of safe. Clicking on links shouldn't, either by filling my disk
</I>&gt;<i> or hitting my global quota, someday lead to a dialog which reads, &quot;Please
</I>&gt;<i> choose what to delete so that web sites will continue to work.&quot; The
</I>&gt;<i> candidate delete list will be thousands long and hidden in that haystack
</I>&gt;<i> will be a few precious needles.
</I>
I see what you're saying. If the web is able to use local storage and
UAs aren't allowed to prune it, then the storage used by web browsers
tends to grow forever.  If you want the web to continue to be
completely stateless, there is no way around this.

On Thu, Aug 27, 2009 at 10:18 AM, Erik Kay&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">erikkay at google.com</A>&gt; wrote:
&gt;<i> I also think this thread is jumping to hyperbole about how the UA
</I>&gt;<i> would be deleting data arbitrarily.  Reasonable cache eviction
</I>&gt;<i> algorithms won't cause much of a problem here.  Do you use offline
</I>&gt;<i> email all of the time?  Guess what?  It won't be evicted.  Did you
</I>&gt;<i> recently make change to an offline document that you didn't sync?  It
</I>&gt;<i> won't be evicted.  The things that are problematic are the things
</I>&gt;<i> which are accessed infrequently yet only exist in this local storage.
</I>&gt;<i> See my argument above for why I think local storage isn't a great
</I>&gt;<i> solution to offline only data anyway.
</I>
I agree you could get 95% of the way there. But I can prove that this
problem will happen in the real world. All I have to do is have a user
with a small enough disk (an iPhone) and enough applications storing
precious data. No amount of heuristics will stop the UA from either
accidentally deleting something the user wanted, or asking the user to
choose something to delete in this case.

On Thu, Aug 27, 2009 at 10:18 AM, Erik Kay&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">erikkay at google.com</A>&gt; wrote:
&gt;<i> What kinds of applications do people write against non-prompted Flash
</I>&gt;<i> storage?  As far as I can tell, it's used as a way to store cookies
</I>&gt;<i> that are less likely to be deleted.  It's not for data that the user
</I>&gt;<i> would define as precious.  How do I get data out of Flash storage?
</I>&gt;<i> How do I back it up?  Nobody does because they don't care and there
</I>&gt;<i> isn't a use case driving this need today.  The data isn't precious.
</I>
Sure, but we're only having this conversation at all because we
believe that the existing technology isn't meeting some use cases.
People want to build offline applications based on web technology, and
those apps tend to want to store data persistently and have it be
treated as precious.

If you accept this use case exists, and you accept that it is not
possible for a UA to automatically make this decision, then we're just
left with how to get the user involved.

I think we are seeing, again, that there needs to be a difference
between &quot;installed&quot; apps built on the web platform and the web as it
is today. The web we know and love is stateless and should stay that
way. Installed apps have state, and have to be actively managed by
users.

In that world, I think that the spec should be silent on what promises
the UA makes wrt the data. It will be client-type-dependent.

- a

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064643.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
	<LI>Next message: <A HREF="064663.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64660">[ date ]</a>
              <a href="thread.html#64660">[ thread ]</a>
              <a href="subject.html#64660">[ subject ]</a>
              <a href="author.html#64660">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
