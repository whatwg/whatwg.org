<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Global Script proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal&In-Reply-To=%3Cfa2eab050908241534w44ae3d91i187ffa9419c78225%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064528.html">
   <LINK REL="Next"  HREF="064521.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Global Script proposal</H1>
<!--htdig_noindex-->
    <B>Michael Nordman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Global%20Script%20proposal&In-Reply-To=%3Cfa2eab050908241534w44ae3d91i187ffa9419c78225%40mail.gmail.com%3E"
       TITLE="[whatwg] Global Script proposal">michaeln at google.com
       </A><BR>
    <I>Mon Aug 24 15:34:07 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064528.html">[whatwg] Global Script proposal
</A></li>
        <LI>Next message: <A HREF="064521.html">[whatwg] Global Script proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64530">[ date ]</a>
              <a href="thread.html#64530">[ thread ]</a>
              <a href="subject.html#64530">[ subject ]</a>
              <a href="author.html#64530">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Agreed, blocking semantics are definitely not OK for GlobalScript, this
context-type calls for some form of async importScript functionality. If
order load order matters, apps certainly could defer loading the scripts
until what they depend on have been already loaded already. Where load order
doesn't matter, seems unfortunate to penalize those callers.
Maybe

importScripts(['one.js', 'two.js'], onloadcallback, onerrorcallback);

Immediately initiates in-order loading of the given array of
resources. A second call to importScripts would also begin immediately
as well. So if order matters, put them in the same importScripts call,
and if it doesn't make individual calls.


On Mon, Aug 24, 2009 at 3:15 PM, Drew Wilson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">atwilson at google.com</A>&gt; wrote:

&gt;<i> BTW, the WorkerGlobalScope.importScript() API blocks the current thread of
</I>&gt;<i> execution, which is probably not acceptable for code executed from page
</I>&gt;<i> context. So for globalscripts we'll need some way to do async notifications
</I>&gt;<i> when the loading is complete, and report errors. We may also want to have
</I>&gt;<i> some way to automatically enforce ordering (so if I call
</I>&gt;<i> GlobalScript.importScripts() twice in a row, the second script is not
</I>&gt;<i> executed until after the first script is loaded/executed, to deal with
</I>&gt;<i> dependencies between scripts). The alternative is to force applications to
</I>&gt;<i> do their own manual ordering.
</I>&gt;<i> -atw
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, Aug 24, 2009 at 11:32 AM, Michael Nordman &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">michaeln at google.com</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Dmitry had a later note which combined creation of the context and
</I>&gt;&gt;&gt;<i> loading of the script.  But I suspect one thing people will want to do, in
</I>&gt;&gt;&gt;<i> development anyway, is load multiple scripts into a context - like you can
</I>&gt;&gt;&gt;<i> in workers.  Which would mean we'd still need a function to load a script,
</I>&gt;&gt;&gt;<i> or the only way to load a script would be by also creating a new context -
</I>&gt;&gt;&gt;<i> which is much like the serverJS module concept.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I think the plan is to provide an importScript(...) function to
</I>&gt;&gt;<i> globalScripts as is done for workers...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://www.whatwg.org/specs/web-workers/current-work/#importing-scripts-and-libraries">http://www.whatwg.org/specs/web-workers/current-work/#importing-scripts-and-libraries</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090824/a4ed3fd9/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090824/a4ed3fd9/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064528.html">[whatwg] Global Script proposal
</A></li>
	<LI>Next message: <A HREF="064521.html">[whatwg] Global Script proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64530">[ date ]</a>
              <a href="thread.html#64530">[ thread ]</a>
              <a href="subject.html#64530">[ subject ]</a>
              <a href="author.html#64530">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
