<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposed changes to the History API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposed%20changes%20to%20the%20History%20API&In-Reply-To=%3Cc84706c70908201131r7b338d59x9c1dc1661606370a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064442.html">
   <LINK REL="Next"  HREF="064454.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposed changes to the History API</H1>
<!--htdig_noindex-->
    <B>Justin Lebar</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposed%20changes%20to%20the%20History%20API&In-Reply-To=%3Cc84706c70908201131r7b338d59x9c1dc1661606370a%40mail.gmail.com%3E"
       TITLE="[whatwg] Proposed changes to the History API">justin.lebar at gmail.com
       </A><BR>
    <I>Thu Aug 20 11:31:15 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064442.html">[whatwg] Proposed changes to the History API
</A></li>
        <LI>Next message: <A HREF="064454.html">[whatwg] Proposed changes to the History API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64446">[ date ]</a>
              <a href="thread.html#64446">[ thread ]</a>
              <a href="subject.html#64446">[ subject ]</a>
              <a href="author.html#64446">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> I guess this is just a vision about what the developer really
</I>&gt;<i> wants to do, or are you thinking of any solutions that would
</I>&gt;<i> actually allow changing path (or query string) without loading
</I>&gt;<i> a new Document?
</I>
The pushState function as currently specified allows you to do
precisely this.  History.pushState(obj, title, url) creates a new
history entry with the given URL, but doesn't load a new document.

&gt;&gt;<i> &#160;It would further be nice if your comments weren't lost even if you
</I>&gt;&gt;<i> navigate away from the page.
</I>&gt;<i>
</I>&gt;<i> This is the way it works in most browsers, as the browser persists
</I>&gt;<i> form field values when you navigate back and forth in history.
</I>
Right.  But the difficulty with this page in particular is that it's
structured such that it's difficult/impossible for the browser to
properly restore its form state after a crash.  Onload, the page
creates a &lt;textarea&gt; and populates it with the text of the patch.  So
if we crash then restore, the page won't have created the textarea by
the time the browser looks to restore the text.

One can imagine reworking this page to make it play nicely with
session restore as it currently exists, but what we really want is a
way to programmatically do the restore.

&gt;<i> &#160;click link to navigate from page1.html#a to page1.html#b:
</I>&gt;<i>
</I>&gt;<i> [snip]
</I>
I think this is pretty much what we want to do, except that we'd like
to let authors use arbitrary URIs instead of constraining them to
using URIs which differ only in their hashes, so we still want
PopState to fire on all loads, not like hashchange.

The idea of having an unload event similar to PopState is intriguing, however.

-Justin

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064442.html">[whatwg] Proposed changes to the History API
</A></li>
	<LI>Next message: <A HREF="064454.html">[whatwg] Proposed changes to the History API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64446">[ date ]</a>
              <a href="thread.html#64446">[ thread ]</a>
              <a href="subject.html#64446">[ subject ]</a>
              <a href="author.html#64446">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
