<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Storage: apparent contradiction in spec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20apparent%20contradiction%20in%20spec&In-Reply-To=%3C20090831210431.f536wd8mos40cwg8%40staff.opera.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064792.html">
   <LINK REL="Next"  HREF="064580.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Storage: apparent contradiction in spec</H1>
<!--htdig_noindex-->
    <B>James Graham</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20apparent%20contradiction%20in%20spec&In-Reply-To=%3C20090831210431.f536wd8mos40cwg8%40staff.opera.com%3E"
       TITLE="[whatwg] Web Storage: apparent contradiction in spec">jgraham at opera.com
       </A><BR>
    <I>Mon Aug 31 14:04:31 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064792.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
        <LI>Next message: <A HREF="064580.html">[whatwg] Adding alpha channel to &lt;input type=color&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64796">[ date ]</a>
              <a href="thread.html#64796">[ thread ]</a>
              <a href="subject.html#64796">[ subject ]</a>
              <a href="author.html#64796">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Quoting Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt;:

&gt;<i> On Tue, 25 Aug 2009, Jens Alfke wrote:
</I>&gt;&gt;<i> Potential result: &quot;I was having trouble logging into FooDocs.com,   
</I>&gt;&gt;<i> so my friend
</I>&gt;&gt;<i> suggested I delete the cookies for that site. After that I could log in, but
</I>&gt;&gt;<i> now the document I was working on this morning has lost all the changes I
</I>&gt;&gt;<i> made! How do I get them back?&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I suggest that the sub-section &quot;Treating persistent storage as cookies&quot; of
</I>&gt;&gt;<i> section 6.1 be removed.
</I>&gt;<i>
</I>&gt;<i> We can't treat cookies and persistent storage differently, because
</I>&gt;<i> otherwise we'll expose users to cookie resurrection attacks. Maintaining
</I>&gt;<i> the user's expectations of privacy is critical.
</I>
I think the paragraph under &quot;treating persistent storage as cookies&quot;  
should simply be removed. The remainder of that section already does  
an adequate job of explaining the privacy implications of persistent  
storage. The UI should be entirely at the discretion of the browser  
vendor since it involves a variety of tradeoffs, with the optimum  
solution depending on the anticipated user base of the browser.  
Placing spec requirements simply limits the abilities of browser  
vendors to find innovative solutions to the problem. In addition,  
since there is no interoperability requirement here, using RFC 2119  
language seems inappropriate; especially since the justification given  
is rather weak (&quot;this might encourage users?&quot;) and not supported by  
any evidence.

As to what browser vendors should actually _do_, it seems to me that  
the &quot;user's expectations of privacy&quot; is actually an illusion in this  
case; all the bad stuff that can be done with persistent storage can  
already be done using a variety of techniques. Trying to fix up this  
one case seems like closing the stable door after the horse has  
bolted. Therefore the &quot;delete local storage when you delete cookies&quot;  
model seems flawed, particularly as it can lead to the type of problem  
that Jens described above.

On a slightly different topic, it is unclear what the relationship  
between the statement in section 4.3 &quot;User agents should expire data  
from the local storage areas only for security reasons or when  
requested to do so by the user&quot; and the statement in section 6.1 &quot;User  
agents may automatically delete stored data after a period of time.&quot;  
is supposed to be. Does the latter count as a security reason?


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064792.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
	<LI>Next message: <A HREF="064580.html">[whatwg] Adding alpha channel to &lt;input type=color&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64796">[ date ]</a>
              <a href="thread.html#64796">[ thread ]</a>
              <a href="subject.html#64796">[ subject ]</a>
              <a href="author.html#64796">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
