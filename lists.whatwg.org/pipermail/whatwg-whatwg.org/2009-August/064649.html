<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Storage: apparent contradiction in spec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20apparent%20contradiction%20in%20spec&In-Reply-To=%3C7805560CD71B3B4793F5FDBCDE22E52B194E3053E6%40tpexmb01%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="064648.html">
   <LINK REL="Next"  HREF="064652.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Storage: apparent contradiction in spec</H1>
<!--htdig_noindex-->
    <B>Chris Taylor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Storage%3A%20apparent%20contradiction%20in%20spec&In-Reply-To=%3C7805560CD71B3B4793F5FDBCDE22E52B194E3053E6%40tpexmb01%3E"
       TITLE="[whatwg] Web Storage: apparent contradiction in spec">Chris.Taylor at figureout.com
       </A><BR>
    <I>Thu Aug 27 08:10:56 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="064648.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
        <LI>Next message: <A HREF="064652.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64649">[ date ]</a>
              <a href="thread.html#64649">[ thread ]</a>
              <a href="subject.html#64649">[ subject ]</a>
              <a href="author.html#64649">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Adrian Sutton said:
&gt;<i> On 27/08/2009 15:47, &quot;Maciej Stachowiak&quot; &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mjs at apple.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - Cached for convenience - discarding this will affect performance but not functionality.
</I>&gt;&gt;<i> - Useful for offline use - discarding this will prevent some data from being accessed when offline.
</I>&gt;&gt;<i> - Critical for offline use - discarding this will prevent the app storing this data from working offline at all.
</I>&gt;&gt;<i> - Critical user data - discarding this will lead to permanent user data loss.
</I>&gt;<i>
</I>&gt;<i> The only catch being that if the web app decides this for itself, a malicious script or tracking cookie will be marked as critical user data when in fact the user would disagree.
</I>&gt;<i>
</I>&gt;<i> On the plus side, it would mean a browser could default to not allowing storage in the critical user data by default and then let users whitelist just the sites they want.  This could be through an evil dialog, or just a less intrusive indicator somewhere - the website itself would be able to detect that it couldn't save and warn the user in whatever way is most appropriate.
</I>
This seems to me a better idea than having multiple storage areas (SessionStorage, CachedStorage and FileStorage as suggested by Brady). However this could lead to even more evil dialogs: &quot;Do you want to save this data? Is it important? How important is it?&quot; The user - and for that matter, the app or UA - doesn't necessarily know how critical a piece of data is.

The user doesn't know because without some form of notification they won't know what the lifetime of that data is (and even if they do they will have to know how that lifetime impacts on app functionality). The UA doesn't know because it doesn't understand the nature of the data without the user telling it. The app doesn't necessarily know because it can't see the wider implications of saving the data - storage space on the machine etc. Catch 22.

So, to what extent do people think that automatic decisions could be made by the UA and app regarding the criticality of a particular piece of data? The more the saving of data can be automated - with the right level of importance attached to it - the better, saving obtrusive and potentially confusing dialogs, and (hopefully) saving the right data in the right way. Perhaps UAs could notify apps of the storage space available and user preferences on the saving of data up front, helping the app and UA to make reasonable decisions, only asking for user confirmation where an reasonable automatic decision can't be made.

It's a head-twister, this one.

Chris


This message has been scanned for malware by SurfControl plc. www.surfcontrol.com

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="064648.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
	<LI>Next message: <A HREF="064652.html">[whatwg] Web Storage: apparent contradiction in spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64649">[ date ]</a>
              <a href="thread.html#64649">[ thread ]</a>
              <a href="subject.html#64649">[ subject ]</a>
              <a href="author.html#64649">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
