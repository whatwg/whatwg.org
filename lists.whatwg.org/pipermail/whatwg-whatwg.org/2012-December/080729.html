<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas: dash list API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%3A%20dash%20list%20API&In-Reply-To=%3C50D5BE94.6030800%40mcc.id.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080728.html">
   <LINK REL="Next"  HREF="080730.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas: dash list API</H1>
<!--htdig_noindex-->
    <B>Cameron McCormack</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%3A%20dash%20list%20API&In-Reply-To=%3C50D5BE94.6030800%40mcc.id.au%3E"
       TITLE="[whatwg] Canvas: dash list API">cam at mcc.id.au
       </A><BR>
    <I>Sat Dec 22 06:07:16 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080728.html">[whatwg] Canvas: dash list API
</A></li>
        <LI>Next message: <A HREF="080730.html">[whatwg] Canvas: dash list API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80729">[ date ]</a>
              <a href="thread.html#80729">[ thread ]</a>
              <a href="subject.html#80729">[ subject ]</a>
              <a href="author.html#80729">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 23/12/12 1:01 AM, Tobie Langel wrote:
&gt;<i> Array-like objects which don't &quot;inherit&quot; from the Array object and are
</I>&gt;<i> thus missing methods one would expect to find on them (forEach, join,
</I>&gt;<i> etc.) is one of the biggest WTF of the Web platform. We should be doing
</I>&gt;<i> whatever it takes to fix this.
</I>
I agree that that would be confusing.

I think there is some tension between having an Array subclass so that 
assignments to array elements can be type checked (and so they an be 
&quot;notice&quot; by the owning object) and being able to assign a new Array object.

For example it seems reasonable to be able to do:

   ctx.dashList = [5, 10];

but then after this assignment is dashList a NumberArray (or whatever we 
would call the subclass), and thus not the same object that you assigned?

   var a = [5, 10];
   ctx.dashList = a;
   a.push(20);

If the Array object were converted into a NumberArray, then the a.push() 
call wouldn't affect the dashList.


If we don't have the type checking of array elements, and also don't 
need any noticing of individual element assignments, then we can just 
have a reference to a plain Array object and look at its elements at the 
time the dash array is needed.  That could preserve the author 
expectation that after assigning a new Array object to the property you 
would get the same object back when getting the property.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080728.html">[whatwg] Canvas: dash list API
</A></li>
	<LI>Next message: <A HREF="080730.html">[whatwg] Canvas: dash list API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80729">[ date ]</a>
              <a href="thread.html#80729">[ thread ]</a>
              <a href="subject.html#80729">[ subject ]</a>
              <a href="author.html#80729">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
