<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Sortable Tables
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Sortable%20Tables&In-Reply-To=%3CPine.LNX.4.64.1212280815120.12992%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038467.html">
   <LINK REL="Next"  HREF="038469.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Sortable Tables</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Sortable%20Tables&In-Reply-To=%3CPine.LNX.4.64.1212280815120.12992%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Sortable Tables">ian at hixie.ch
       </A><BR>
    <I>Fri Dec 28 00:21:16 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="038467.html">[whatwg] Sortable Tables
</A></li>
        <LI>Next message: <A HREF="038469.html">[whatwg] Sortable Tables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38468">[ date ]</a>
              <a href="thread.html#38468">[ thread ]</a>
              <a href="subject.html#38468">[ subject ]</a>
              <a href="author.html#38468">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 27 Dec 2012, Tab Atkins Jr. wrote:
&gt;<i> On Dec 27, 2012 6:04 PM, &quot;Ian Hickson&quot; &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; 2. What values should the sort property allow. One idea is that it 
</I>&gt;<i> &gt; &gt; takes a JS function similar to what JavaScript's sort function 
</I>&gt;<i> &gt; &gt; takes. If you leave it out then it just does alphanumeric sort.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I was going to have a comparator function, but I couldn't see a sane 
</I>&gt;<i> &gt; way to make it work in the face of hostile functions that mutate the 
</I>&gt;<i> &gt; DOM, so I dropped it. You can do custom sort orders by giving a key in 
</I>&gt;<i> &gt; the &lt;data&gt; element's value=&quot;&quot; attribute, though.
</I>&gt;<i> 
</I>&gt;<i> In JS, the comparator passed to sort() can potentially mutate the array 
</I>&gt;<i> that's being sorted, or delete it entirely. JS engines cope somehow. 
</I>&gt;<i> It's silly to not support a custom comparator here, since any problems 
</I>&gt;<i> you can possibly come up with are already present in the existing 
</I>&gt;<i> Array#sort function.
</I>
If you can work out how to spec it, I'm all for it. I couldn't figure out 
how to do it in a way that didn't have a very high chance of being 
misimplemented and probably becoming an attack vector.

I don't think an array is as dodgy as DOM manipulation, by the way. For 
example, arrays don't have origins, you can't change their prototype by 
appending the entries to another document, you can't navigate away from an 
array, you can't make one entry in the array be a child of another entry 
in the array, when sorting an array you only have one list of entries to 
sort, not one per column, and you use the same comparator for all entries, 
you don't mix it with a non-JS comparator. And that's just the problems I 
could think of off the top of my head; I'm not at all convinced I even 
understand the problem well enough to enumerate all the issues.

Note that using the 'sort' event you can manually implement the sorting if 
you want to; it'll fire whenever the browser would otherwise sort. So the 
capability is there, just not in the convenient comparator function form. 
(Canceling the sort event overrides the UA's normal sorting behaviour.)

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>



<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038467.html">[whatwg] Sortable Tables
</A></li>
	<LI>Next message: <A HREF="038469.html">[whatwg] Sortable Tables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38468">[ date ]</a>
              <a href="thread.html#38468">[ thread ]</a>
              <a href="subject.html#38468">[ subject ]</a>
              <a href="author.html#38468">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
