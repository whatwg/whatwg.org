<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fwd: fallback section taking over for 4xx and 5xx responses while online
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fwd%3A%20fallback%20section%20taking%20over%20for%204xx%20and%205xx%0A%20responses%20while%20online&In-Reply-To=%3C50D2E754.5010007%40peda.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038376.html">
   <LINK REL="Next"  HREF="038436.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fwd: fallback section taking over for 4xx and 5xx responses while online</H1>
<!--htdig_noindex-->
    <B>Mikko Rantalainen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fwd%3A%20fallback%20section%20taking%20over%20for%204xx%20and%205xx%0A%20responses%20while%20online&In-Reply-To=%3C50D2E754.5010007%40peda.net%3E"
       TITLE="[whatwg] Fwd: fallback section taking over for 4xx and 5xx responses while online">mikko.rantalainen at peda.net
       </A><BR>
    <I>Thu Dec 20 02:24:20 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="038376.html">[whatwg] Fwd: fallback section taking over for 4xx and 5xx responses while online
</A></li>
        <LI>Next message: <A HREF="038436.html">[whatwg] Fwd: fallback section taking over for 4xx and 5xx responses while online
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38432">[ date ]</a>
              <a href="thread.html#38432">[ thread ]</a>
              <a href="subject.html#38432">[ subject ]</a>
              <a href="author.html#38432">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson, 2012-12-17 23:30 (Europe/Helsinki):
&gt;<i> On Tue, 11 Dec 2012, David Barrett-Kahn wrote:
</I>&gt;&gt;<i> browser that the response is not to trigger the fallback entry, despite 
</I>&gt;&gt;<i> its response code.  Something like it could be considered for 
</I>&gt;<i> 
</I>&gt;<i> Can you elaborate on the need for this feature? Why would you ever send 
</I>&gt;<i> the user to a 404 page intentionally (i.e. when the server isn't broken)? 
</I>&gt;<i> Similarly, why would you not consider the server returning 500 a good 
</I>&gt;<i> indication that the cache should be used?
</I>
I'm not sure about 404 but if the UA is able to connect the server and
gets HTTP 410 Gone, I'd be pretty upset if cached offline copy would be
used automatically. The server has clearly responded that the requested
document is intentionally removed. End user seeing cached (stale) copy
instead is very far from intented result in this case.

In my opinion the UA should *always* use server returned response if
server responded at all. If UA cannot connect to the server or server
does not return any response in UA defined timeout, then use offline
version automatically. For 4xx and 5xx online responses, perhaps provide
UI to allow viewing stale offline copy instead of server response. For
example, in case of Firefox, perhaps display the yellow bar at
top-of-the-page saying that &quot;An offline copy of this document is
available&quot; with a button &quot;Show offline copy&quot;.

I would be somewhat okay with 404 and 503 getting &quot;fallback to offline
copy silently&quot; but any other response that UA receives should be used
instead of offline copy. In both cases, I'd prefer being able to see the
actual response. For example, a well made 503 would contain human
readable information about when the service is available again.

Redirecting 4xx and 5xx responses to offline copy silently would only
work if a HTTP header such as Response-Origin: generic-http-server-error
did exist. The idea is that if the error message is generated by Apache,
IIS or some other non-application specific software, then fallback to
offline copy. In all other cases, it's probably a good idea to display
the server response.

-- 
Mikko

</PRE>



<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038376.html">[whatwg] Fwd: fallback section taking over for 4xx and 5xx responses while online
</A></li>
	<LI>Next message: <A HREF="038436.html">[whatwg] Fwd: fallback section taking over for 4xx and 5xx responses while online
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38432">[ date ]</a>
              <a href="thread.html#38432">[ thread ]</a>
              <a href="subject.html#38432">[ subject ]</a>
              <a href="author.html#38432">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
