<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Loading and executing script as quickly as possible	using multipart/mixed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Loading%20and%20executing%20script%20as%20quickly%20as%20possible%0A%09using%20multipart/mixed&In-Reply-To=%3C1A4B0793-7019-49F3-8EEC-F70ADD8AEE5C%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080524.html">
   <LINK REL="Next"  HREF="080507.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Loading and executing script as quickly as possible	using multipart/mixed</H1>
<!--htdig_noindex-->
    <B>Kyle Simpson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Loading%20and%20executing%20script%20as%20quickly%20as%20possible%0A%09using%20multipart/mixed&In-Reply-To=%3C1A4B0793-7019-49F3-8EEC-F70ADD8AEE5C%40gmail.com%3E"
       TITLE="[whatwg] Loading and executing script as quickly as possible	using multipart/mixed">getify at gmail.com
       </A><BR>
    <I>Mon Dec  3 18:15:58 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080524.html">[whatwg] Proposal: Loading and executing script as quickly as	possible using multipart/mixed
</A></li>
        <LI>Next message: <A HREF="080507.html">[whatwg] Loading and executing script as quickly as possible using multipart/mixed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38233">[ date ]</a>
              <a href="thread.html#38233">[ thread ]</a>
              <a href="subject.html#38233">[ subject ]</a>
              <a href="author.html#38233">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Adam-

&gt;<i> To load and execute a script as quickly as possible, the author would
</I>&gt;<i> use the following markup:
</I>&gt;<i> 
</I>&gt;<i> &lt;script async src=&quot;path/to/script.js&quot;&gt;&lt;/script&gt;
</I>&gt;<i> 
</I>&gt;<i> The HTTP server would then break script.js into chunks that are safe
</I>&gt;<i> to execute sequentially and provide each chunk as a separate MIME part
</I>&gt;<i> in a multipart/mixed response.
</I>
I like the spirit of this idea, but one concern I have is about the script load and readystate events. It seems that authors will want to know when each chunk has finished executing (in the same way they want to know that scripts themselves finish).

There's a contingent on this list which thinks that all script authors should change their code to never have &quot;side effects&quot; of execution, and should all instead be executable by having some other logic invoke them (aka &quot;module style&quot; coding). The reality is that a mixture of both types of approaches will be available on the web for any foreseeable future (well beyond the time when ES6 has provided first-class module support to all in-use browsers, so probably nearly a decade from now I'd think). So authors will likely want to be able to monitor when each chunk &quot;onload&quot;s.

One suggestion is to added a state to the readyState mechanism like &quot;chunkReady&quot;, where the event fires and includes in its event object properties the numeric index, the //@sourceURL, the separator identifier, or otherwise some sort of identifier for which the author can tell which chunk executed.



--Kyle



</PRE>


































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080524.html">[whatwg] Proposal: Loading and executing script as quickly as	possible using multipart/mixed
</A></li>
	<LI>Next message: <A HREF="080507.html">[whatwg] Loading and executing script as quickly as possible using multipart/mixed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38233">[ date ]</a>
              <a href="thread.html#38233">[ thread ]</a>
              <a href="subject.html#38233">[ subject ]</a>
              <a href="author.html#38233">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
