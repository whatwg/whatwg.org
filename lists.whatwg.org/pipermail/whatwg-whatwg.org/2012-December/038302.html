<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Autocomplete and autofill features and feedback thereon
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Autocomplete%20and%20autofill%20features%20and%20feedback%20thereon&In-Reply-To=%3CPine.LNX.4.64.1212110031000.9975%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038299.html">
   <LINK REL="Next"  HREF="080577.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Autocomplete and autofill features and feedback thereon</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Autocomplete%20and%20autofill%20features%20and%20feedback%20thereon&In-Reply-To=%3CPine.LNX.4.64.1212110031000.9975%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Autocomplete and autofill features and feedback thereon">ian at hixie.ch
       </A><BR>
    <I>Mon Dec 10 19:49:09 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="038299.html">[whatwg] Quirks mode handling of rowspan=&quot;0&quot;
</A></li>
        <LI>Next message: <A HREF="080577.html">[whatwg] Autocomplete and autofill features and feedback thereon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38302">[ date ]</a>
              <a href="thread.html#38302">[ thread ]</a>
              <a href="subject.html#38302">[ subject ]</a>
              <a href="author.html#38302">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 21 Nov 2012, Ilya Sherman wrote:
&gt;<i> On Tue, Nov 20, 2012 at 5:17 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; On Tue, 16 Oct 2012, Ilya Sherman wrote:
</I>&gt;<i> &gt; &gt; The payment instrument type is almost certainly appropriate to add 
</I>&gt;<i> &gt; &gt; -- it is included on almost every website that I've encountered that 
</I>&gt;<i> &gt; &gt; includes payment card fields.  It was an oversight on my part to 
</I>&gt;<i> &gt; &gt; omit it from the initial proposal.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It's redundant data, the credit card number itself says what type it 
</I>&gt;<i> &gt; is.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; More importantly, I don't know how to store the information. What 
</I>&gt;<i> &gt; values should we be expecting here? If a site has radio buttons &quot;v&quot;, 
</I>&gt;<i> &gt; &quot;m&quot; and &quot;a&quot;, and another has a &lt;select&gt; with &quot;4&quot;, &quot;5&quot;, and &quot;3&quot;, and 
</I>&gt;<i> &gt; yet another has three buttons which set a type=hidden with the values 
</I>&gt;<i> &gt; &quot;visa&quot;, &quot;mastercard&quot; and &quot;amex&quot;, how is the user agent to figure out 
</I>&gt;<i> &gt; what's going on? This makes the magic needed around dates look 
</I>&gt;<i> &gt; positively easy.
</I>&gt;<i> 
</I>&gt;<i> I agree that it's redundant data, but many websites ask for it 
</I>&gt;<i> separately anyway.  One common reason for this is that the website only 
</I>&gt;<i> supports a subset of all possible credit card issuers -- for example, 
</I>&gt;<i> many do not support DiscoverCard.  While the site *could* theoretically 
</I>&gt;<i> infer from the entered card number that the card is not supported, and 
</I>&gt;<i> show the user an error, most sites instead force the user to select the 
</I>&gt;<i> card type, and inform the user of unsupported card types by omitting 
</I>&gt;<i> them from the list.
</I>&gt;<i> 
</I>&gt;<i> Regarding storing of the data: I think being able to fill the data is 
</I>&gt;<i> more important than being able to store it.  For example, Chrome stores 
</I>&gt;<i> just the card number, and not the type; but Chrome supports filling the 
</I>&gt;<i> type by inferring it from the stored card number.  For filling the card 
</I>&gt;<i> type, I think it's strictly easier than filling a &lt;select&gt; dropdown 
</I>&gt;<i> containing country names, since localization issues don't come into play 
</I>&gt;<i> as much.  The user agent is presumably not going to be able to handle 
</I>&gt;<i> *every* case; but in my experience, it's not too hard to handle 
</I>&gt;<i> many/most of the real-world cases.  Since this attribute is used just as 
</I>&gt;<i> a hint, esoteric difficult cases don't seem like enough reason to omit 
</I>&gt;<i> the card type as a known token in the spec.
</I>
Fair enough. Added.


&gt;<i> &gt; &gt; Finally, I have gotten a request to include a field type for bank 
</I>&gt;<i> &gt; &gt; account numbers, though I have only seen this info actually 
</I>&gt;<i> &gt; &gt; requested on a small handful of extremely prominent (and generally 
</I>&gt;<i> &gt; &gt; trusted) websites: Amazon, PayPal, and I think Google Wallet.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is there any reason we shouldn't just treat bank accounts like just 
</I>&gt;<i> &gt; another credit card, and use cc-number for these?
</I>&gt;<i> 
</I>&gt;<i> Yes: Most websites that support credit card numbers as inputs do not 
</I>&gt;<i> support bank account numbers.  The few websites that do support bank 
</I>&gt;<i> account numbers use separate fields for these vs. credit card number 
</I>&gt;<i> inputs.  Labeling both fields identically would leave the browser unable 
</I>&gt;<i> to distinguish which field to fill with what info.
</I>
Fair enough. So what do you need for bank account information? Account 
number? Account holder name (and subproperties for that like for cc-*)? 
Routing transit number? IBAN? SWIFT-BIC? I hesitate to do something US- 
specific here; what do sites ask for in other countries? If it's always a 
name, a bank number of some sort, and an account number, I can add those 
three fields (plus the two name subfields) pretty easily.


&gt;<i> &gt; On Wed, 31 Oct 2012, Dan Beam wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; The experimental implementation [1] has been updated to dispatch an 
</I>&gt;<i> &gt; &gt; &quot;autocompleteerror&quot; as per convention/your feedback.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &quot;autocompleteerror&quot; seems like it'd be fired for an error, not user 
</I>&gt;<i> &gt; cancelation. User cancelation is usually called either &quot;abort&quot; or 
</I>&gt;<i> &gt; &quot;cancel&quot;. I think autocompletecancel is fine. It's consistent with 
</I>&gt;<i> &gt; oncancel, which we used for &lt;dialog&gt;. (Fullscreen's &quot;error&quot; event is 
</I>&gt;<i> &gt; for a slightly different case, based on what the spec says.)
</I>&gt;<i> 
</I>&gt;<i> There are also cases where we'd want to return actual errors.  For 
</I>&gt;<i> example, in Chrome, we are only planning to support this dialog for 
</I>&gt;<i> sites served over HTTPS and without security errors.  We might also want 
</I>&gt;<i> to fire an error in case the input fails to pass the form's validation 
</I>&gt;<i> requirements. Should we use autocompleteerror for the errors, and 
</I>&gt;<i> autocompletecancel for user cancelations?  Firing separate events for 
</I>&gt;<i> cancelations vs. errors forces developers to check for each of these 
</I>&gt;<i> cases separately, which seems like a less convenient API than just 
</I>&gt;<i> checking for one sort of failure event.  Perhaps we should have a single 
</I>&gt;<i> event named something like autocompletefail or something like that?
</I>
autocompleteerror is fine.


On Wed, 21 Nov 2012, Dan Beam wrote:
&gt;<i> 
</I>&gt;<i> I definitely agree to a single event.  It would be great to do this and 
</I>&gt;<i> give enumerable failure reasons (if this is deemed secure enough).
</I>&gt;<i>
</I>&gt;<i> An example:
</I>&gt;<i> 
</I>&gt;<i>   enum ErrorCause {
</I>&gt;<i>     FROM_FRAME,
</I>&gt;<i>     NEEDS_GESTURE,
</I>&gt;<i>     NOT_SECURE,
</I>&gt;<i>   };
</I>&gt;<i> 
</I>&gt;<i> This could be a property on the event (event.cause, event.reason?) 
</I>&gt;<i> argument passed to the error event (kind of like DOM exceptions). This 
</I>&gt;<i> seems akin to event.property in CSS transition end events (and 
</I>&gt;<i> disputably many other examples).
</I>
Sounds fine to me. If it's implemented that way by two browsers, it's what 
I'll spec. (Document it on the wiki page to increase the chance of other 
browsers doing it that way too :-) .)


As a reminder to other vendors, right now &quot;A method to trigger autofill&quot; 
is one of the features on this list that only has one vendor registering 
interest, which is why I haven't yet specced it:

   <A HREF="http://wiki.whatwg.org/wiki/New_Features_Awaiting_Implementation_Interest">http://wiki.whatwg.org/wiki/New_Features_Awaiting_Implementation_Interest</A>

If you want to compete with Chrome on convenience, better get on it, cos 
it looks like the Chrome folk are going ahead with this either way. ;-)

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>


































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038299.html">[whatwg] Quirks mode handling of rowspan=&quot;0&quot;
</A></li>
	<LI>Next message: <A HREF="080577.html">[whatwg] Autocomplete and autofill features and feedback thereon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38302">[ date ]</a>
              <a href="thread.html#38302">[ thread ]</a>
              <a href="subject.html#38302">[ subject ]</a>
              <a href="author.html#38302">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
