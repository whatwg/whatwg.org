<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] events when navigating away before page load?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20events%20when%20navigating%20away%20before%20page%20load%3F&In-Reply-To=%3CSNT129-DS1976DEDB8264FB73AD021DA44D0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080606.html">
   <LINK REL="Next"  HREF="080618.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] events when navigating away before page load?</H1>
<!--htdig_noindex-->
    <B>Mike Wilson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20events%20when%20navigating%20away%20before%20page%20load%3F&In-Reply-To=%3CSNT129-DS1976DEDB8264FB73AD021DA44D0%40phx.gbl%3E"
       TITLE="[whatwg] events when navigating away before page load?">mikewse at hotmail.com
       </A><BR>
    <I>Fri Dec 14 09:07:11 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080606.html">[whatwg] API for unique identification of devices (mobile/tablet/pc)
</A></li>
        <LI>Next message: <A HREF="080618.html">[whatwg] events when navigating away before page load?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38344">[ date ]</a>
              <a href="thread.html#38344">[ thread ]</a>
              <a href="subject.html#38344">[ subject ]</a>
              <a href="author.html#38344">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>What events are supposed to be fired when the browsing context
gets navigated away before the current page has finished loading,
ie before the load event has been fired?

Trying the below script:
(also on <A HREF="http://jsfiddle.net/Skt22/">http://jsfiddle.net/Skt22/</A>)
...
&lt;head&gt;
  &lt;script&gt;
    document.addEventListener(&quot;DOMContentLoaded&quot;, 
      function(){console.log(&quot;domload&quot;);}, false);

    window.addEventListener(&quot;load&quot;, 
      function(){console.log(&quot;load&quot;);}, false);

    window.addEventListener(&quot;unload&quot;, 
      function(){console.log(&quot;unload&quot;);}, false);

    window.location = &quot;about:blank&quot;;
  &lt;/script&gt;
&lt;/head&gt;
...

gives the following result in a couple of browsers:

          FF17  Chr23 IE9
          ----- ----- -----
domload   y     y     n
load      n     n     n
unload&#8203;   y     y     n

Could someone help me out on what behaviour is spec compliant
here? (I've been reading
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/#navigating-across-documents">http://www.whatwg.org/specs/web-apps/current-work/#navigating-across-documents</A>
but this stuff is quite complex)

Thanks
Mike Wilson

</PRE>
















































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080606.html">[whatwg] API for unique identification of devices (mobile/tablet/pc)
</A></li>
	<LI>Next message: <A HREF="080618.html">[whatwg] events when navigating away before page load?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38344">[ date ]</a>
              <a href="thread.html#38344">[ thread ]</a>
              <a href="subject.html#38344">[ subject ]</a>
              <a href="author.html#38344">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
