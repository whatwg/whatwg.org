<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Error in Comment start dash state (8.2.4.19)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Error%20in%20Comment%20start%20dash%20state%20%288.2.4.19%29&In-Reply-To=%3Cea09c0d10812121714p4eaf1020h310c939dc9bfa39%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017780.html">
   <LINK REL="Next"  HREF="017782.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Error in Comment start dash state (8.2.4.19)</H1>
<!--htdig_noindex-->
    <B>Philip Taylor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Error%20in%20Comment%20start%20dash%20state%20%288.2.4.19%29&In-Reply-To=%3Cea09c0d10812121714p4eaf1020h310c939dc9bfa39%40mail.gmail.com%3E"
       TITLE="[whatwg] Error in Comment start dash state (8.2.4.19)">excors+whatwg at gmail.com
       </A><BR>
    <I>Fri Dec 12 17:14:16 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017780.html">[whatwg] Error in Comment start dash state (8.2.4.19)
</A></li>
        <LI>Next message: <A HREF="017782.html">[whatwg] Error in Comment start dash state (8.2.4.19)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17781">[ date ]</a>
              <a href="thread.html#17781">[ thread ]</a>
              <a href="subject.html#17781">[ subject ]</a>
              <a href="author.html#17781">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, Dec 13, 2008 at 1:01 AM, Jonas Sicking &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonas at sicking.cc</A>&gt; wrote:
&gt;<i> On Fri, Dec 12, 2008 at 4:52 PM, Jonas Sicking &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonas at sicking.cc</A>&gt; wrote:
</I>&gt;&gt;<i> Currently tokenizing the following string (starting at Data state)
</I>&gt;&gt;<i> &quot;&lt;!--foo&quot; results in a parse error when hitting the 'f'. It seems like
</I>&gt;&gt;<i> the error is in the &quot;Comment start dash state&quot; (section 8.2.4.19). It
</I>&gt;&gt;<i> should switch to 'comment state' when a '-' is consumed, which is not
</I>&gt;&gt;<i> what it currently does.
</I>&gt;<i>
</I>&gt;<i> One more thing I forgot to mention. Several of the states regarding
</I>&gt;<i> comments refer to outputting 'the comment token' and 'the comment
</I>&gt;<i> tokens data'. However there is no mention that I could find for when
</I>&gt;<i> the comment token is created. Maybe this isn't an error but a general
</I>&gt;<i> pattern?
</I>
The comment tokens are created in:

  &quot;8.2.4.17 Markup declaration open state
  ...
  If the next two characters are both U+002D HYPHEN-MINUS (-)
characters, consume those two characters, create a comment token whose
data is the empty string, and switch to the comment start state.&quot;

I believe that also deals with your first comment: the two dashes are
consumed before switching to the comment start state, and so they're
not going to be seen again in the comment start state or comment start
dash state. (Those states are there to handle &lt;!---&gt; and &lt;!----&gt;.)

-- 
Philip Taylor
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">excors at gmail.com</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017780.html">[whatwg] Error in Comment start dash state (8.2.4.19)
</A></li>
	<LI>Next message: <A HREF="017782.html">[whatwg] Error in Comment start dash state (8.2.4.19)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17781">[ date ]</a>
              <a href="thread.html#17781">[ thread ]</a>
              <a href="subject.html#17781">[ subject ]</a>
              <a href="author.html#17781">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
