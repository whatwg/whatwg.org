<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Section 5.7.3.3 Parsing cache manifests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Section%205.7.3.3%20Parsing%20cache%20manifests&In-Reply-To=%3C7047FA17-093B-464A-A961-5CB2CEED4D3B%40webkit.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018000.html">
   <LINK REL="Next"  HREF="018010.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Section 5.7.3.3 Parsing cache manifests</H1>
<!--htdig_noindex-->
    <B>Alexey Proskuryakov</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Section%205.7.3.3%20Parsing%20cache%20manifests&In-Reply-To=%3C7047FA17-093B-464A-A961-5CB2CEED4D3B%40webkit.org%3E"
       TITLE="[whatwg] Section 5.7.3.3 Parsing cache manifests">ap at webkit.org
       </A><BR>
    <I>Tue Dec 30 00:56:50 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="018000.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
        <LI>Next message: <A HREF="018010.html">[whatwg] Section 5.7.3.3 Parsing cache manifests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18001">[ date ]</a>
              <a href="thread.html#18001">[ thread ]</a>
              <a href="subject.html#18001">[ subject ]</a>
              <a href="author.html#18001">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>1. The signature of manifest is &quot;^&lt;BOM&gt;?CACHE MANIFEST[ \t]*$&quot;. Since  
arbitrary whitespace is allowed at the end, it is not possible to  
verify it with a simple binary comparison, yet it unnecessarily  
forbids e.g. comments at the end.

I suggest changing the signature to &quot;^&lt;BOM&gt;?CACHE MANIFEST&quot; - then it  
will be easier to verify, and it will be possible to add comments at  
the end. This is how we have it in WebKit now, and changing the check  
to the more strict HTML5 one may affect existing clients.

2. When parsing fallback maps, there is a requirement to drop entries  
whose namespaces are already in the mapping. I don't think that it is  
helpful - fallback namespaces are matched by prefix, so it doesn't  
resolve ambiguity. I suggest dropping this requirement, possibly  
specifying that if the map is ambiguous, the first match wins.

- WBR, Alexey Proskuryakov



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018000.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
	<LI>Next message: <A HREF="018010.html">[whatwg] Section 5.7.3.3 Parsing cache manifests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18001">[ date ]</a>
              <a href="thread.html#18001">[ thread ]</a>
              <a href="subject.html#18001">[ subject ]</a>
              <a href="author.html#18001">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
