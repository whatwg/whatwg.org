<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Caching offline Web applications
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Caching%20offline%20Web%20applications&In-Reply-To=%3CPine.LNX.4.62.0812240128520.24109%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="060208.html">
   <LINK REL="Next"  HREF="060214.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Caching offline Web applications</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Caching%20offline%20Web%20applications&In-Reply-To=%3CPine.LNX.4.62.0812240128520.24109%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Caching offline Web applications">ian at hixie.ch
       </A><BR>
    <I>Tue Dec 23 18:13:35 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="060208.html">[whatwg] input type=image width/height attributes
</A></li>
        <LI>Next message: <A HREF="060214.html">[whatwg] StorageEvent deficiency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60211">[ date ]</a>
              <a href="thread.html#60211">[ thread ]</a>
              <a href="subject.html#60211">[ subject ]</a>
              <a href="author.html#60211">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 18 Nov 2008, Michael Nordman wrote:
&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 4) Why require text/cache-manifest mimetype?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Presents a small hurdle to get over. What is being accomplished with 
</I>&gt;<i> &gt; &gt; this requirement?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This is actually just a restatement of HTTP's requirements. If you 
</I>&gt;<i> &gt; want the Content-Type to be ignored, please contact the HTTP working 
</I>&gt;<i> &gt; group and have them change the requirements for handling HTTP 
</I>&gt;<i> &gt; Content-Type headers. :-)
</I>&gt;<i> 
</I>&gt;<i> Could we specify text/plain (or text/*) as the valid content type so a 
</I>&gt;<i> developer doesn't need access to the server infrastructure to get UAs to 
</I>&gt;<i> accept her/his text resource as a manifest file?
</I>
I would be fine with that, but it would be a violation of HTTP semantics. 
If you can get the HTTP working group to change their requirements, I'd be 
very happy to change the spec here.


&gt;<i> * Its not clear that resources add()ed around update initiation time 
</I>&gt;<i> will make their way to a new cache that results from the update. I think 
</I>&gt;<i> the intent is that add()ed resources will show up in the new cache 
</I>&gt;<i> regardless of when add() is initiated or completed, but this isn't 
</I>&gt;<i> clear.
</I>
Clarified.


&gt;<i> * Is it an error to initiate the add() of a resource to a cache after it 
</I>&gt;<i> has become obsolete?
</I>
No, but it won't do the application much good.


&gt;<i> * Should there be onaddsuccess / onadderror events that fires when 
</I>&gt;<i> add(s) complete?
</I>
A network fetch can take an indeterminate amount of time, so it's not 
clear to me that this would be that useful. There's hasItem() method if 
the application needs to know if the add has succeeded yet. add() is 
idempotent, too, so if the app really wants to make sure something is in 
the cache it could just keep trying to add it or something...


&gt;<i> * Pseudo code omission (i think):  I don't see where the pseudo code 
</I>&gt;<i> inserts new master entries or informs already running update of newly 
</I>&gt;<i> discovered master entry.
</I>
It's done in the application cache selection algorithm, and then as part 
of step 1 of the application cache update process. I've hyperlinked one 
use of the word &quot;master&quot; that wasn't hyperlinked before, which might help. 
I agree that this text isn't uber-clear.


&gt;<i> * Towards the end of an update, 'candidates' are not associated with the 
</I>&gt;<i> new cache in the upgrade attempt case. The differences between the cache 
</I>&gt;<i> attempt vs upgrade attempt seems odd.
</I>
In the upgrade case, they're already associated.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="060208.html">[whatwg] input type=image width/height attributes
</A></li>
	<LI>Next message: <A HREF="060214.html">[whatwg] StorageEvent deficiency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60211">[ date ]</a>
              <a href="thread.html#60211">[ thread ]</a>
              <a href="subject.html#60211">[ subject ]</a>
              <a href="author.html#60211">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
