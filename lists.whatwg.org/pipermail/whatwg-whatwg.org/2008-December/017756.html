<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Implement XMLHttpRequest interface subset	onHTMLDocument
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Implement%20XMLHttpRequest%20interface%20subset%0A%09onHTMLDocument&In-Reply-To=%3Cfb8299e10812100928u67463832vd25fa946d307013%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017753.html">
   <LINK REL="Next"  HREF="017760.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Implement XMLHttpRequest interface subset	onHTMLDocument</H1>
<!--htdig_noindex-->
    <B>Weston Ruter</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Implement%20XMLHttpRequest%20interface%20subset%0A%09onHTMLDocument&In-Reply-To=%3Cfb8299e10812100928u67463832vd25fa946d307013%40mail.gmail.com%3E"
       TITLE="[whatwg] Implement XMLHttpRequest interface subset	onHTMLDocument">weston at shepherd-interactive.com
       </A><BR>
    <I>Wed Dec 10 09:28:11 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017753.html">[whatwg] Implement XMLHttpRequest interface subset	onHTMLDocument
</A></li>
        <LI>Next message: <A HREF="017760.html">[whatwg] Thoughts on video accessibility
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17756">[ date ]</a>
              <a href="thread.html#17756">[ thread ]</a>
              <a href="subject.html#17756">[ subject ]</a>
              <a href="author.html#17756">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Dec 10, 2008 at 6:01 AM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at opera.com</A>&gt; wrote:


&gt;<i> I think we need more use cases than just this (especially since this one
</I>&gt;<i> seems addressed already) to consider this.
</I>&gt;<i>
</I>
I agree we need more use cases. You understand that the Accept-Language
header is just one example of a header that needs to be read via scripting;
the use case addressed by &quot;Language JSONP Service&quot; highlights the need for
getRequestHeaders() since its solution is an inefficient (although clever)
hack. Ideally, scripts should be able to access all of the request and
response headers.

Another use case would be getting the &quot;Accept&quot; header to detect if the
client can be served XHTML.

Weston


On Wed, Dec 10, 2008 at 6:01 AM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at opera.com</A>&gt; wrote:

&gt;<i> On Thu, 30 Oct 2008 08:21:10 +0100, Weston Ruter &lt;
</I>&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">weston at shepherd-interactive.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I have an amendment to my proposal. There was a
</I>&gt;&gt;<i> post&lt;<A HREF="http://ajaxian.com/archives/language-jsonp-service">http://ajaxian.com/archives/language-jsonp-service</A>&gt;on Ajaxian
</I>&gt;&gt;<i> today about a &quot;Language JSONP Service&quot; which &quot;calculates the
</I>&gt;&gt;<i> users language based on browser headers&quot;. This seems like a terrible
</I>&gt;&gt;<i> workaround since the Accept-Language header is sent from the same browser
</I>&gt;&gt;<i> that the script is running in; a script shouldn't have to make an HTTP
</I>&gt;&gt;<i> request just to find out what the browser's request headers are.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Did you read what kriszyp wrote in a comment to that post?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Therefore, I propose that in addition to implementing on HTMLDocument the
</I>&gt;&gt;<i> XMLHttpRequest interface subset I initially suggested, I see that it would
</I>&gt;&gt;<i> also be very useful for a script to obtain the request headers that were
</I>&gt;&gt;<i> sent which resulted in the current document as the response. The current
</I>&gt;&gt;<i> version of XMLHttpRequest hints to a future version including a
</I>&gt;&gt;<i> getRequestHeader() method, a method which would complement
</I>&gt;&gt;<i> getResponseHeader(); there could also be a getAllRequestHeaders() method
</I>&gt;&gt;<i> that would correspond to the existing getAllResponseHeaders() method.
</I>&gt;&gt;<i> (Obviously it would not make sense to implement the setRequestHeader()
</I>&gt;&gt;<i> method.)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If these two methods ( getRequestHeader() and getAllRequestHeaders() )
</I>&gt;&gt;<i> were
</I>&gt;&gt;<i> implemented, then there would be no need for a &quot;Language JSONP Service&quot;
</I>&gt;&gt;<i> because there would be a better way to get the same result synchronously
</I>&gt;&gt;<i> without any HTTP request, for example:
</I>&gt;&gt;<i> document.getRequestHeader('Accept-Language')
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I think we need more use cases than just this (especially since this one
</I>&gt;<i> seems addressed already) to consider this.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Anne van Kesteren
</I>&gt;<i> &lt;<A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://www.opera.com/">http://www.opera.com/</A>&gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20081210/1c898b5c/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20081210/1c898b5c/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017753.html">[whatwg] Implement XMLHttpRequest interface subset	onHTMLDocument
</A></li>
	<LI>Next message: <A HREF="017760.html">[whatwg] Thoughts on video accessibility
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17756">[ date ]</a>
              <a href="thread.html#17756">[ thread ]</a>
              <a href="subject.html#17756">[ subject ]</a>
              <a href="author.html#17756">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
