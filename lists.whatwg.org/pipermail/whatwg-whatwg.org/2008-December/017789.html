<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] URL parsing and same-document	references	[was:	Re:	Citing multiple &lt;blockquote&gt; elements in HTML5]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20URL%20parsing%20and%0A%20same-document%09references%09%5Bwas%3A%09Re%3A%09Citing%20multiple%20%3Cblockquote%3E%20elements%20in%0A%20HTML5%5D&In-Reply-To=%3C49444167.2090705%40email.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017788.html">
   <LINK REL="Next"  HREF="017723.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] URL parsing and same-document	references	[was:	Re:	Citing multiple &lt;blockquote&gt; elements in HTML5]</H1>
<!--htdig_noindex-->
    <B>Calogero Alex Baldacchino</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20URL%20parsing%20and%0A%20same-document%09references%09%5Bwas%3A%09Re%3A%09Citing%20multiple%20%3Cblockquote%3E%20elements%20in%0A%20HTML5%5D&In-Reply-To=%3C49444167.2090705%40email.it%3E"
       TITLE="[whatwg] URL parsing and same-document	references	[was:	Re:	Citing multiple &lt;blockquote&gt; elements in HTML5]">alex.baldacchino at email.it
       </A><BR>
    <I>Sat Dec 13 15:12:39 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017788.html">[whatwg] URL parsing and same-document	references	[was:	Re:	Citing multiple &lt;blockquote&gt; elements in HTML5]
</A></li>
        <LI>Next message: <A HREF="017723.html">[whatwg] Citing multiple &lt;blockquote&gt; elements in HTML5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17789">[ date ]</a>
              <a href="thread.html#17789">[ thread ]</a>
              <a href="subject.html#17789">[ subject ]</a>
              <a href="author.html#17789">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Nils Dagsson Moskopp ha scritto:
&gt;<i> Am Samstag, den 13.12.2008, 19:09 +0100 schrieb Calogero Alex
</I>&gt;<i> Baldacchino:
</I>&gt;<i>   
</I>&gt;&gt;<i> Actually I'm not from any faction, to be honest. I think a rationale for 
</I>&gt;&gt;<i> that may be &quot;people write strange things, both in address bars and in 
</I>&gt;&gt;<i> html code&quot;, thus relaxing rules when parsing an URL is meaningful; but I 
</I>&gt;&gt;<i> think when resolving and recomposing a whole URI the strictest rules 
</I>&gt;&gt;<i> should be applied.
</I>&gt;&gt;<i>     
</I>&gt;<i> Accepting weird input is not a problem here, outputting is. Try writing
</I>&gt;<i> a valid URI into the address bar, then get an invalid displayed.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Greetings
</I>&gt;<i>   
</I>
Could you make an example, please? I wasn't able to reproduce such in 
IE7 - Opera 9.27 (e.g., 
&quot;<A HREF="http://real.addressofasite.com/index.html#foo%20bar&quot;">http://real.addressofasite.com/index.html#foo%20bar&quot;</A> wasn't changed 
into &quot;<A HREF="http://real.addressofasite.com/index.html#foo">http://real.addressofasite.com/index.html#foo</A> bar&quot;).

Anyway, I guess you got the point. Relaxed parsing rules are for input 
URLs, but after parsing, a normalization and/or the resolution algorithm 
should be applied, and the showed URL, being absolute and complete, 
should conform to RFC3986. Actual resolution algorithm (section 2.5.3 of 
html5 spec) does not mention fragment identifiers explicitly, and, 
although its 10th step says &quot;Apply any relevant conformance criteria of 
RFC 3986 and RFC 3987, returning an error and aborting these steps if 
appropriate.&quot;, step 9 says &quot;Apply the algorithm described in RFC 3986 
section 5.2 Relative Resolution, using url as the potentially relative 
URI reference (R), and base as the base URI (Base)&quot;: AIUI, the algorithm 
described in section 5.2 of rfc3986 might be applied to each component 
of an URI without building a complete URI (instead, leaving each part 
separated and held as a property of an object - a components 
recomposition algorithm is defined in section 5.3 of rfc3986, but that's 
not a 'must'); when a single component of an URI is to be handled, 
rfc3986 does not require %-encoding as a 'must', thus the freedom of 
interpretations and the different behaviors in different UAs, leading to 
inconsistent results when copying a URL from a UA and pasting it into 
another one. I think a uniform behaviour should be defined as standard 
(and implemented!), instead (the concern you rised about copy&amp;paste 
perhaps results in a further issue regarding how line breaks should be 
handled by parsing rules - e.g. stripped like leading and trailing 
characters).

Regards,
Alex
 
 
 --
 Caselle da 1GB, trasmetti allegati fino a 3GB e in piu' IMAP, POP3 e SMTP autenticato? GRATIS solo con Email.it <A HREF="http://www.email.it/f">http://www.email.it/f</A>
 
 Sponsor:
 CheBanca! La prima banca che ti d&#224; gli interessi in anticipo.
* Fino al 4,70% sul Conto Deposito, zero spese e interessi subito. Aprilo!
 Clicca qui: <A HREF="http://adv.email.it/cgi-bin/foclick.cgi?mid=7918&amp;d=14-12">http://adv.email.it/cgi-bin/foclick.cgi?mid=7918&amp;d=14-12</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017788.html">[whatwg] URL parsing and same-document	references	[was:	Re:	Citing multiple &lt;blockquote&gt; elements in HTML5]
</A></li>
	<LI>Next message: <A HREF="017723.html">[whatwg] Citing multiple &lt;blockquote&gt; elements in HTML5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17789">[ date ]</a>
              <a href="thread.html#17789">[ thread ]</a>
              <a href="subject.html#17789">[ subject ]</a>
              <a href="author.html#17789">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
