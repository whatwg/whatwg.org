<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] salvaging work while navigating away from a web app --	onunload=&quot;confirm('save before quitting?')
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20salvaging%20work%20while%20navigating%20away%20from%20a%20web%20app%0A%20--%09onunload%3D%22confirm%28%27save%20before%20quitting%3F%27%29&In-Reply-To=%3C4942C32A.9%40degeneration.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017771.html">
   <LINK REL="Next"  HREF="017790.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] salvaging work while navigating away from a web app --	onunload=&quot;confirm('save before quitting?')</H1>
<!--htdig_noindex-->
    <B>Martin Atkins</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20salvaging%20work%20while%20navigating%20away%20from%20a%20web%20app%0A%20--%09onunload%3D%22confirm%28%27save%20before%20quitting%3F%27%29&In-Reply-To=%3C4942C32A.9%40degeneration.co.uk%3E"
       TITLE="[whatwg] salvaging work while navigating away from a web app --	onunload=&quot;confirm('save before quitting?')">mart at degeneration.co.uk
       </A><BR>
    <I>Fri Dec 12 12:01:46 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017771.html">[whatwg] salvaging work while navigating away from a web app --	onunload=&quot;confirm('save before quitting?')
</A></li>
        <LI>Next message: <A HREF="017790.html">[whatwg] salvaging work while navigating away from a web app --	onunload=&quot;confirm('save before quitting?')
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17772">[ date ]</a>
              <a href="thread.html#17772">[ thread ]</a>
              <a href="subject.html#17772">[ subject ]</a>
              <a href="author.html#17772">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Bil Corry wrote:
&gt;<i> 
</I>&gt;<i> Here's a fun one, I made this as a demo to show how a website could trap a user forever:
</I>&gt;<i> 
</I>&gt;<i> 	<A HREF="http://www.corry.biz/neverleave.lasso">http://www.corry.biz/neverleave.lasso</A>
</I>&gt;<i> 
</I>&gt;<i> I haven't tried it in any browsers lately, but a quick test with IE7 shows it still is effective (for it at least).
</I>&gt;<i> 
</I>
I think this makes a good case for not allowing any site to create 
browser-modal UI. Could browsers handle confirm() and friends in such a 
way that they only block the contents of the tab, not the whole browser? 
In particular, the &quot;close tab&quot; and &quot;close window&quot; features, ideally 
along with things such as &quot;Back&quot;, &quot;Forward&quot; and &quot;Home&quot; should still be 
available.

This does of course create some tricky interactions where onbeforeunload 
is concerned. If I try to close the browser/tab and the page uses 
onbeforeunload to create a confirmation prompt, how does this interact 
with the confirmation prompt only being tab-modal?

Here's a strawman (which I'm sure has some subtleties I've not 
considered): When the user navigates away from the page, fire 
onbeforeunload. However, if the user navigates away from the page WHILE 
THE ONBEFOREUNLOAD EVENT IS BEING HANDLED kill off the onbeforeunload 
handler and do whatever the user asked for.

A browser could potentially display some hard-coded (i.e. not 
site-overridable) UI here letting the user know that there's a page 
that's in the middle of &quot;shutting down&quot; and giving the option to kill it 
much like what happens when an application blocks Shutdown in Microsoft 
Windows. (though ideally without the confusing auto-timeout thing)



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017771.html">[whatwg] salvaging work while navigating away from a web app --	onunload=&quot;confirm('save before quitting?')
</A></li>
	<LI>Next message: <A HREF="017790.html">[whatwg] salvaging work while navigating away from a web app --	onunload=&quot;confirm('save before quitting?')
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17772">[ date ]</a>
              <a href="thread.html#17772">[ thread ]</a>
              <a href="subject.html#17772">[ subject ]</a>
              <a href="author.html#17772">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
