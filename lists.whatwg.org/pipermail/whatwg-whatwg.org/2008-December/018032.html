<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] number-related feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20number-related%20feedback&In-Reply-To=%3C20090101003608.GA7312%40arc.mcc.id.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018031.html">
   <LINK REL="Next"  HREF="018000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] number-related feedback</H1>
<!--htdig_noindex-->
    <B>Cameron McCormack</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20number-related%20feedback&In-Reply-To=%3C20090101003608.GA7312%40arc.mcc.id.au%3E"
       TITLE="[whatwg] number-related feedback">cam at mcc.id.au
       </A><BR>
    <I>Wed Dec 31 16:36:08 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="018031.html">[whatwg] number-related feedback
</A></li>
        <LI>Next message: <A HREF="018000.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18032">[ date ]</a>
              <a href="thread.html#18032">[ thread ]</a>
              <a href="subject.html#18032">[ subject ]</a>
              <a href="author.html#18032">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Ian, Jonas.

Ian Hickson:
&gt;<i> The UA would set a limit on the value it accepts for maxlength=&quot;&quot;, and 
</I>&gt;<i> then cap the result at that, preventing someone from entering more than 
</I>&gt;<i> 4GB (or 2GB, or 4TB, or whatever limit the UA has). Does that answer your 
</I>&gt;<i> question? In practice I would expect other limitations to come into play 
</I>&gt;<i> long before a test for this limit could be triggered.
</I>
I don&#8217;t think it does answer the question, since you need to know what
happens if you do:

  e.setAttribute('maxlength', '5000000000');
  alert(e.maxlength)

The text currently in the spec isn&#8217;t clear:

  If a reflecting DOM attribute is an unsigned integer type (unsigned
  long) then, on getting, the content attribute must be parsed according
  to rules for parsing non-negative integers, and if that is successful,
  the resulting value must be returned. If, on the other hand, it fails,
  or if the attribute is absent, the default value must be returned
  instead, or 0 if there is no default value.

The &#8220;rules for parsing non-negative integers&#8221; algorithm can return any
non-negative integer.  Web IDL doesn&#8217;t define what to do if a spec
defines an operation to return a value that is not a member of its
return type.  I&#8217;d classify that as a bug in the description of
reflecting DOM attributes.

I suggest to reword that paragraph to something like the following:

  If a reflecting DOM attribute is an unsigned integer type (unsigned
  long) then, on getting, the content attribute must be parsed according
  to rules for parsing non-negative integers, and if that successfully
  returns a value in the range of an unsigned long, that resulting value
  must be returned. If, on the other hand, it fails, returns an out of
  range value, or if the attribute is absent, the default value must be
  returned instead, or 0 if there is no default value.

Similar wording would be needed for other paragraphs in this section.

-- 
Cameron McCormack &#8797; <A HREF="http://mcc.id.au/">http://mcc.id.au/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018031.html">[whatwg] number-related feedback
</A></li>
	<LI>Next message: <A HREF="018000.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18032">[ date ]</a>
              <a href="thread.html#18032">[ thread ]</a>
              <a href="subject.html#18032">[ subject ]</a>
              <a href="author.html#18032">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
