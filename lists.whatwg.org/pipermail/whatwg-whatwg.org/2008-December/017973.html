<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Error propagation in child workers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Error%20propagation%20in%20child%20workers&In-Reply-To=%3C21b1517c0812271213oc8f900x6780f8c12476ad89%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017942.html">
   <LINK REL="Next"  HREF="017977.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Error propagation in child workers</H1>
<!--htdig_noindex-->
    <B>ben turner</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Error%20propagation%20in%20child%20workers&In-Reply-To=%3C21b1517c0812271213oc8f900x6780f8c12476ad89%40mail.gmail.com%3E"
       TITLE="[whatwg] Error propagation in child workers">bent.mozilla at gmail.com
       </A><BR>
    <I>Sat Dec 27 12:13:27 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017942.html">[whatwg] Error propagation in child workers
</A></li>
        <LI>Next message: <A HREF="017977.html">[whatwg] Error propagation in child workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17973">[ date ]</a>
              <a href="thread.html#17973">[ thread ]</a>
              <a href="subject.html#17973">[ subject ]</a>
              <a href="author.html#17973">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I'm implementing these latest changes and it looks like there are some
typos in this edit:

- The ErrorEvent interface has a 'fileno' property, not a 'lineno'
property as mentioned elsewhere. I believe it should be 'lineno'.

- There's a stray 'span&gt;' before 'queue a task'.

Then I have a few more observations and questions:

1. The part about the initial value of onerror being undefined... I
understand why you'd want that, but we don't have a similar
requirement for onmessage. Should we?

2. Should we allow multiple error handlers in the scope via
addEventListener? Or should there only ever be one?

3. Currently the mozilla implementation also uses the error event
mechanism for parse errors in the worker script, and these errors will
be impossible to trap in the scope's onerror handler. I don't really
care about that but I wanted to mention it in case someone else does.

-Ben

On Wed, Dec 24, 2008 at 7:25 AM, Jonas Sicking &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonas at sicking.cc</A>&gt; wrote:
&gt;<i> On Wed, Dec 24, 2008 at 12:51 AM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;&gt;<i> On Tue, 23 Dec 2008, Jonas Sicking wrote:
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt; I ended up using a combination of both the event mechanism and the old
</I>&gt;&gt;&gt;<i> &gt; Window.onerror mechanism. The spec now says to fire onerror in the
</I>&gt;&gt;&gt;<i> &gt; worker global scope, using the old mechanism, and if that doesn't
</I>&gt;&gt;&gt;<i> &gt; handle the error then a series of events going up the chain to the
</I>&gt;&gt;&gt;<i> &gt; browsing context is fired until one is canceled.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> What is the advantage of this? Seems like this is just re-inventing
</I>&gt;&gt;&gt;<i> try-catch. (yes, the same question can be posed for window.onerror, but
</I>&gt;&gt;&gt;<i> at least there there are legacy reasons).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Having the error be first reported outside of the context that created the
</I>&gt;&gt;<i> error seems really weird. window.onerror is a very widely used feature, I
</I>&gt;&gt;<i> don't see why it wouldn't be equally widely used in workers.
</I>&gt;<i>
</I>&gt;<i> If window.onerror really is popular despite the fact that try/catch
</I>&gt;<i> now exists (it didn't when window.onerror was originally created) then
</I>&gt;<i> I'm fine either way.
</I>&gt;<i>
</I>&gt;<i> / Jonas
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017942.html">[whatwg] Error propagation in child workers
</A></li>
	<LI>Next message: <A HREF="017977.html">[whatwg] Error propagation in child workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17973">[ date ]</a>
              <a href="thread.html#17973">[ thread ]</a>
              <a href="subject.html#17973">[ subject ]</a>
              <a href="author.html#17973">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
