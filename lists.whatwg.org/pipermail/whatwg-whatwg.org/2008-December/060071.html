<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Stability of tokenizing/dom algorithms
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Stability%20of%20tokenizing/dom%20algorithms&In-Reply-To=%3CPine.LNX.4.62.0812150434540.30197%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="060076.html">
   <LINK REL="Next"  HREF="060077.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Stability of tokenizing/dom algorithms</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Stability%20of%20tokenizing/dom%20algorithms&In-Reply-To=%3CPine.LNX.4.62.0812150434540.30197%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Stability of tokenizing/dom algorithms">ian at hixie.ch
       </A><BR>
    <I>Sun Dec 14 20:41:07 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="060076.html">[whatwg] Stability of tokenizing/dom algorithms
</A></li>
        <LI>Next message: <A HREF="060077.html">[whatwg] Stability of tokenizing/dom algorithms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60071">[ date ]</a>
              <a href="thread.html#60071">[ thread ]</a>
              <a href="subject.html#60071">[ subject ]</a>
              <a href="author.html#60071">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sun, 14 Dec 2008, Edward Z. Yang wrote:
&gt;<i> 
</I>&gt;<i> I was curious to know how stable/complete HTML 5's tokenizing and DOM 
</I>&gt;<i> algorithms are (specifically section 8).
</I>
Pretty stable. There are some known issues [1], and more issues will 
surely be found as implementations grow in usage, but the basic 
architecture is unlikely to change and the specifics are unlikely to 
change much. The only major pending change is adding SVG, but that will 
likely be done in a way similar to what is currently specified but 
commented out.

[1] Mostly listed here: <A HREF="http://www.whatwg.org/issues/#parsing">http://www.whatwg.org/issues/#parsing</A>


&gt;<i> The reason I'd like to know this is because I am the author of a tool 
</I>&gt;<i> named HTML Purifier, which takes user-input HTML and cleans it for 
</I>&gt;<i> standards-compliance as well as XSS. We insist on output being standards 
</I>&gt;<i> compliant, because the result is unambiguous.
</I>&gt;<i> 
</I>&gt;<i> As far as I can tell, this is quite unlike the tools that HTML5 is 
</I>&gt;<i> tooled towards; compliance checkers, user agents and data miners. There 
</I>&gt;<i> certainly is overlap: we have our own parsing and DOM-building 
</I>&gt;<i> algorithms which work decently well, although they do trip up on a 
</I>&gt;<i> number of edge-cases (active formatting elements being one notable 
</I>&gt;<i> example). However, using the HTML5 algorithm wholesale is not possible 
</I>&gt;<i> for several reasons:
</I>&gt;<i> 
</I>&gt;<i> 1. Users input HTML fragments, not actual HTML documents. A parser I 
</I>&gt;<i> would use needs to be able to enter parsing in a specific state, and has 
</I>&gt;<i> to ignore any requests by the user to exit that state (i.e. a &lt;/body&gt; 
</I>&gt;<i> tag)
</I>
As Anne pointed out, we do have a section to handle that case (it's 
similar to innerHTML in browsers); if there's anything I can do to make 
those sections more helpful to you, please let me know.


&gt;<i> 2. No one actually codes their HTML in HTML5 (yet), so the only parts of 
</I>&gt;<i> the algorithm I want to use are the ones that are emulating browser 
</I>&gt;<i> behavior with HTML4. However, HTML5 interweaves it's additions with the 
</I>&gt;<i> browser research it has done.
</I>
In general you should be able to just implement what the spec says and 
then either leave the HTML5 support in (it's unlikely to cause any harm) 
or just comment out the support for the new elements, that should be 
relatively easy.

HTH,
-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="060076.html">[whatwg] Stability of tokenizing/dom algorithms
</A></li>
	<LI>Next message: <A HREF="060077.html">[whatwg] Stability of tokenizing/dom algorithms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60071">[ date ]</a>
              <a href="thread.html#60071">[ thread ]</a>
              <a href="subject.html#60071">[ subject ]</a>
              <a href="author.html#60071">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
