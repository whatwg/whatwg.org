<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Thoughts on HTML 5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Thoughts%20on%20HTML%205&In-Reply-To=%3C494A949E.3050705%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="060160.html">
   <LINK REL="Next"  HREF="060173.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Thoughts on HTML 5</H1>
<!--htdig_noindex-->
    <B>Benjamin Hawkes-Lewis</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Thoughts%20on%20HTML%205&In-Reply-To=%3C494A949E.3050705%40googlemail.com%3E"
       TITLE="[whatwg] Thoughts on HTML 5">bhawkeslewis at googlemail.com
       </A><BR>
    <I>Thu Dec 18 10:21:18 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="060160.html">[whatwg] Thoughts on HTML 5
</A></li>
        <LI>Next message: <A HREF="060173.html">[whatwg] Thoughts on HTML 5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60162">[ date ]</a>
              <a href="thread.html#60162">[ thread ]</a>
              <a href="subject.html#60162">[ subject ]</a>
              <a href="author.html#60162">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Giovanni Campagna wrote:
&gt;<i> 2008/12/18 Benjamin Hawkes-Lewis &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bhawkeslewis at googlemail.com</A> 
</I>&gt;<i> &lt;mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bhawkeslewis at googlemail.com</A>&gt;&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     Perhaps (got any actual evidence about author expectations in this
</I>&gt;<i>     case?), but that's not a problem for tokenizer performance. You're
</I>&gt;<i>     &quot;shifting the goalposts&quot;.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> My comment about tokenizer performance was later. By the way, author 
</I>&gt;<i> should not expect that invalid markup work in any particular way (in the 
</I>&gt;<i> past they did and wrote specific markup for specific implementation)
</I>
Depends on the context of that expectation. Authors should expect 
HTML5-conforming parsers to handle invalid markup precisely as specified 
in the HTML5 specification. They should not expect legacy browsers to do 
the same, but probably will in practice.

&gt;<i>     Anyway, if we're talking authorial expectations, ordinary authors
</I>&gt;<i>     don't expect
</I>&gt;<i> 
</I>&gt;<i>     &lt;a href=&quot;<A HREF="http://example.com?foobar&amp;baz">http://example.com?foobar&amp;baz</A> &lt;<A HREF="http://example.com?foobar&amp;baz">http://example.com?foobar&amp;baz</A>&gt;&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i>     to be an unrecoverable error, but it is in XHTML.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> authors didn't expect that example.com?foobar&amp;section=1 
</I>&gt;<i> &lt;<A HREF="http://example.com?foobar&amp;section=1">http://example.com?foobar&amp;section=1</A>&gt; became example.com?foobar 
</I>&gt;<i> &lt;<A HREF="http://example.com?foobar">http://example.com?foobar</A>&gt;&#167;ion=1 but this happened in Netscape and IE 
</I>&gt;<i> quite long ago
</I>&gt;<i> if they got an error, at least they knew that it was not a correct 
</I>&gt;<i> syntax and should have been avoided, since it could lead to different 
</I>&gt;<i> results in different browsers
</I>&gt;<i> (it is not valid HTML, btw)
</I>
If the author ever saw the error, which would be dependent on a culture 
of bug reporting.

&gt;<i>     It's not like either of these syntaxes make sense to ordinary people
</I>&gt;<i>     or were even intended to do so. The original authoring model for
</I>&gt;<i>     HTML was supposed to be &quot;paragraph&quot; and &quot;anchor&quot;, mediated by some
</I>&gt;<i>     sort of vaguely WYSIWYG type editor, not angle-bracketed tags.
</I>&gt;<i> 
</I>&gt;<i> If you don't like like less-than and greater-than (it is not Unicode 
</I>&gt;<i> angle bracket actually), publish your work in PDF or DOC. 
</I>
Those have even worse syntaxes - and as with most HTML, they aren't 
typically written by hand.

&gt;<i> HTML stays for 
</I>&gt;<i> HyperText Markup Language. Markup (i.e. tags) can't be removed.
</I>
Not sure what you're arguing here.

You're the one suggesting people move from one serialization (text/html) 
to another (XML) on the basis that one is easier to understand. I'm 
basically saying that XML is still so hard for ordinary people to 
understand that it's not obviously worth the pain of migration on 
ease-of-use grounds and that, in this context, its draconian 
error-handling acts as an incentive to drive people back to text/html. 
They don't understand that either, but at least it works (or at least, 
appears to).

&gt;<i>     A conforming browser will interpret the markup as specified by the
</I>&gt;<i>     specification, so there is no difference.
</I>&gt;<i> 
</I>&gt;<i> Yes, the fact is that the specification itself &quot;guesses&quot; what an average 
</I>&gt;<i> author thinks when it writes HTML
</I>
Correct. Likewise for XHTML (guessing that the author meant paragraph 
when a &quot;p&quot; element is supplied and quotation when a &quot;blockquote&quot; element 
is supplied, for example).

&gt;<i>     In practice, people find this very hard for XML and most web
</I>&gt;<i>     publishing systems (WordPress etc.) don't work like this even if
</I>&gt;<i>     they should.
</I>&gt;<i> 
</I>&gt;<i> Why do SQL injections or buffer overrun attacks happen? Because 
</I>&gt;<i> applications don't check for input. The same for XML: you check, you're 
</I>&gt;<i> sure nobody will try to take your site down. You don't check, that's 
</I>&gt;<i> your fault.
</I>
Absolutely true; I'm personally a big fan of aggressive input validation 
for text/html.

Input validation is worth advocating on its own grounds, whether for 
HTML or XHTML.

It doesn't automatically follow from this that making end-users suffer 
because of input validation failures where error-recovery could be 
graceful is a good idea.

&gt;<i>     Also, much of the web is ad-supported. The ads ecosystem is based
</I>&gt;<i>     around including markup from trusted sources. Those including the
</I>&gt;<i>     markup are generally not able to exert much control over the
</I>&gt;<i>     included markup, even when they are some of the biggest publishers
</I>&gt;<i>     on the web. Getting ads to have user-friendly HTML (e.g. alt
</I>&gt;<i>     attributes for image links) is nigh impossible; trying to get
</I>&gt;<i>     conforming HTML is a wet dream; and trying to get ads in valid XML
</I>&gt;<i>     is a likely to be a complete non-starter. Why would an ad creator
</I>&gt;<i>     bother, when they could choose a different partner and use their old
</I>&gt;<i>     text/html ads?
</I>&gt;<i> 
</I>&gt;<i> If ad buyer refuses to buy a non-valid-XML ad, probably the ad creator 
</I>&gt;<i> will rewrite them.
</I>
You're ignoring the fact that there is a competitive advantage in 
supporting text/html ads, because the most popular browser doesn't 
support application/xhtml+xml and because text/html has non-draconian 
error handling so end-users are more likely to see the ad.

You're best hope would be to identify a competitive advantage for a 
person buying advertising to show a application/xhtml+xml ad that would 
justify a higher risk of users not seeing the ad. Good luck with that. :)

&gt;<i>     &quot;Probably&quot; - got any empirical evidence for that? I don't usually
</I>&gt;<i>     report errors in websites I visit (even _I_ usually have other
</I>&gt;<i>     things to do with my time).
</I>&gt;<i> 
</I>&gt;<i> If any error prevents someone from correctly browsing that page, he 
</I>&gt;<i> first reports that to web owner, then to browser creator.
</I>
Does he? Again, I don't normally report such problems at all; I 
typically just go to another (competitor's) site. I suspect most users 
do the same. And I'm sure ad-supported or commercial websites aren't 
interested in converting potential ad revenue or customers into bug 
reports or their competitors' gain.

&gt;<i> If an user complains about a warning (not error) indication, he can 
</I>&gt;<i> disable it (but not security errrors).
</I>
If they know how and care. (Actually, you can typically disable a lot of 
security warnings too.)

&gt;<i> On the other hand, some user will 
</I>&gt;<i> complain with the site creator, instead of with the browser creator.
</I>
What's the incentive for browser creators? What's the incentive for 
end-users?

&gt;<i>     Ian was effectively asking: &quot;Why deprecate text/html?&quot; You appear to
</I>&gt;<i>     be trying to answer: &quot;How would we deprecate text/html?&quot; which is a
</I>&gt;<i>     different question (and I've indicated some problems with your
</I>&gt;<i>     suggestion above).
</I>&gt;<i> 
</I>&gt;<i> Sorry, I didn't understand (it looked like &quot;we want to deprecate html 
</I>&gt;<i> but we don't have instruments&quot;, but it didn't make much sense).
</I>&gt;<i> 
</I>&gt;<i>     Except on the ad-supported web&#8230;
</I>&gt;<i> 
</I>&gt;<i> 1) use &lt;iframe&gt;
</I>&gt;<i> 2) use &lt;object&gt;
</I>&gt;<i> 3) use &lt;embed&gt;
</I>
Resulting in additional HTTP requests and still requiring use of 
text/html in the including content. Not always an option and doesn't 
actually allow you to deprecate text/html.

&gt;<i> 4) use &lt;img&gt;
</I>
Using images for text poses accessibility problems, reduces performance, 
and doesn't help if you want an animated ad or an ad with interactive 
elements. Not an option.

&gt;<i> 5) use well-formed XHTML
</I>
Your competitors will support bad HTML, so you will fail to persuade ad 
buyers to use well-formed XHTML. Not an option.

&gt;<i> 6) use JS + DOM
</I>
Ads already do use JS + DOM. They especially like using document.write 
to inject strings of text/html.

&gt;<i> Do you think it is enough?
</I>
No, I think it's hopelessly unrealistic to be honest.

If the web had begun with draconian error-handling and systems like 
WordPress and ads designed to survive such error-handling, it might have 
been realistic.

Now that we have a _commercial_ ecosystem built on tolerance for broken 
input and broken output and therefore _commercial_ advantages for being 
interoperable with that ecosystem, I think you'd need to fix that 
ecosystem before moving everybody to a serialization with draconian 
error-handling. That means arguing for input validation and conforming 
markup on their own grounds (e.g. security, reliability, accessibility), 
not hitched to the XHTML bandwagon.

--
Benjamin Hawkes-Lewis

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="060160.html">[whatwg] Thoughts on HTML 5
</A></li>
	<LI>Next message: <A HREF="060173.html">[whatwg] Thoughts on HTML 5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60162">[ date ]</a>
              <a href="thread.html#60162">[ thread ]</a>
              <a href="subject.html#60162">[ subject ]</a>
              <a href="author.html#60162">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
