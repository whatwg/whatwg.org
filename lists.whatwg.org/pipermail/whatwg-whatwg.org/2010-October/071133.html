<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Exposing filenames in DataTransfer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Exposing%20filenames%20in%20DataTransfer&In-Reply-To=%3CAANLkTi%3DEuaaq9L2emqVC%3DVBE14St9%3DpHUGBMUkc%3Dcn5S%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071132.html">
   <LINK REL="Next"  HREF="071139.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Exposing filenames in DataTransfer</H1>
<!--htdig_noindex-->
    <B>Daniel Cheng</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Exposing%20filenames%20in%20DataTransfer&In-Reply-To=%3CAANLkTi%3DEuaaq9L2emqVC%3DVBE14St9%3DpHUGBMUkc%3Dcn5S%40mail.gmail.com%3E"
       TITLE="[whatwg] Exposing filenames in DataTransfer">dcheng at chromium.org
       </A><BR>
    <I>Mon Oct 18 15:15:27 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="071132.html">[whatwg] Exposing filenames in DataTransfer
</A></li>
        <LI>Next message: <A HREF="071139.html">[whatwg] Exposing filenames in DataTransfer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71133">[ date ]</a>
              <a href="thread.html#71133">[ thread ]</a>
              <a href="subject.html#71133">[ subject ]</a>
              <a href="author.html#71133">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Sorry, I'm using &quot;properties&quot; as a generic term for different types of data
that might be set in a drag. A lot of file managers try to be helpful and
populate alternative metadata for a file. Some of this metadata contains
file system paths. If the web dragging clipboard mirrors the native dragging
clipboard, then the metadata will be visible to web apps. In this example,
if you were on Linux with my patch, you could call
event.dataTransfer.getData(&quot;x-special/gnome-icon-list&quot;) while handling a
drop and the returned string would contain the file system path.

Daniel

On Mon, Oct 18, 2010 at 14:12, Tab Atkins Jr. &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jackalmage at gmail.com</A>&gt; wrote:

&gt;<i> On Mon, Oct 18, 2010 at 1:59 PM, Daniel Cheng &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dcheng at chromium.org</A>&gt; wrote:
</I>&gt;<i> &gt; However, this leads to issues like file system paths being exposed
</I>&gt;<i> through
</I>&gt;<i> &gt; properties like &quot;x-special/gnome-icon-list&quot; or even &quot;text/plain&quot;. What is
</I>&gt;<i> &gt; the expected behavior here? Mirroring the native dragging clipboard
</I>&gt;<i> allows
</I>&gt;<i> &gt; for a much richer interaction with the system, but I'm not sure if we
</I>&gt;<i> need
</I>&gt;<i> &gt; to go out of our way to try to scrub all paths from the drag. After all,
</I>&gt;<i> if
</I>&gt;<i> &gt; you're dropping the file on the page, you're already exposing the
</I>&gt;<i> contents
</I>&gt;<i> &gt; of the file, which are probably much more interesting than just the path.
</I>&gt;<i>
</I>&gt;<i> Could you provide some more detail?  I have no idea what you mean by
</I>&gt;<i> &quot;However, this leads to issues like file system paths being exposed
</I>&gt;<i> through properties like &quot;x-special/gnome-icon-list&quot; or even
</I>&gt;<i> &quot;text/plain&quot;.&quot;  Those aren't properties, nor do they expose
</I>&gt;<i> file-system paths.
</I>&gt;<i>
</I>&gt;<i> Do you perhaps mean that they expose generally the origin of the file,
</I>&gt;<i> such that you know if you see &quot;x-special/gnome-icon-list&quot; that the
</I>&gt;<i> file is probably coming from wherever gnome stores that kind of file?
</I>&gt;<i>
</I>&gt;<i> ~TJ
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20101018/6b085ac1/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20101018/6b085ac1/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071132.html">[whatwg] Exposing filenames in DataTransfer
</A></li>
	<LI>Next message: <A HREF="071139.html">[whatwg] Exposing filenames in DataTransfer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71133">[ date ]</a>
              <a href="thread.html#71133">[ thread ]</a>
              <a href="subject.html#71133">[ subject ]</a>
              <a href="author.html#71133">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
