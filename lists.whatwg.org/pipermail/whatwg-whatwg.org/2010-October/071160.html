<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Timed tracks: feedback compendium
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Timed%20tracks%3A%20feedback%20compendium&In-Reply-To=%3CAANLkTininsA0WLdUN6AJBRCfckv7um-91P%2Bz5qHRSUT5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071159.html">
   <LINK REL="Next"  HREF="071161.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Timed tracks: feedback compendium</H1>
<!--htdig_noindex-->
    <B>Silvia Pfeiffer</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Timed%20tracks%3A%20feedback%20compendium&In-Reply-To=%3CAANLkTininsA0WLdUN6AJBRCfckv7um-91P%2Bz5qHRSUT5%40mail.gmail.com%3E"
       TITLE="[whatwg] Timed tracks: feedback compendium">silviapfeiffer1 at gmail.com
       </A><BR>
    <I>Fri Oct 22 02:21:44 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="071159.html">[whatwg] Timed tracks: feedback compendium
</A></li>
        <LI>Next message: <A HREF="071161.html">[whatwg] Timed tracks: feedback compendium
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71160">[ date ]</a>
              <a href="thread.html#71160">[ thread ]</a>
              <a href="subject.html#71160">[ subject ]</a>
              <a href="author.html#71160">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Oct 22, 2010 at 7:19 PM, Philip J&#228;genstedt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>&gt; wrote:
&gt;<i> On Tue, 19 Oct 2010 22:35:50 +0200, Silvia Pfeiffer
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">silviapfeiffer1 at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On Tue, Sep 14, 2010 at 7:49 PM, Philip J&#228;genstedt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Tue, 14 Sep 2010 10:30:03 +0200, Simon Pieters &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">simonp at opera.com</A>&gt;
</I>&gt;&gt;&gt;<i> wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On Tue, 14 Sep 2010 10:11:16 +0200, Philip J&#228;genstedt
</I>&gt;&gt;&gt;&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>&gt;
</I>&gt;&gt;&gt;&gt;<i> wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> The point of a header is that browsers can identify WebSRT files and
</I>&gt;&gt;&gt;&gt;&gt;<i> not
</I>&gt;&gt;&gt;&gt;&gt;<i> keep parsing through a 100GB movie file,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I don't think we should break SRT compat for this. I don't think this is
</I>&gt;&gt;&gt;&gt;<i> a
</I>&gt;&gt;&gt;&gt;<i> problem at all. We already have this situation elsewhere, e.g. what if
</I>&gt;&gt;&gt;&gt;<i> you
</I>&gt;&gt;&gt;&gt;<i> do &lt;link rel=stylesheet href=movie.webm&gt;?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> If it really turns out to be a problem you could just apply the hardware
</I>&gt;&gt;&gt;&gt;<i> limitations clause and abort parsing if you haven't found any cues after
</I>&gt;&gt;&gt;&gt;<i> parsing X bytes or whatever.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> In any case, the spec currently requires text/srt (or other supported
</I>&gt;&gt;&gt;&gt;<i> subtitle format MIME type) for &lt;track&gt;, so a movie file would be
</I>&gt;&gt;&gt;&gt;<i> rejected
</I>&gt;&gt;&gt;&gt;<i> based on the MIME type per spec (see step 4 in
</I>&gt;&gt;&gt;&gt;<i> #sourcing-out-of-band-timed-tracks).
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Well, I was hoping to sidestep the issue of MIME types and file
</I>&gt;&gt;&gt;<i> extensions
</I>&gt;&gt;&gt;<i> by always ignoring them. Last I checked Apache doesn't have a default
</I>&gt;&gt;&gt;<i> mapping for .srt, so everyone using &lt;track&gt; would have to add it
</I>&gt;&gt;&gt;<i> themselves.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> About metadata, I noticed that there's a voice called &lt;credit&gt;...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I think that's only for the credits at the start or end of a movie.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Anyway: I'm trying to summarize the changes that were discussed this
</I>&gt;&gt;<i> far to WebSRT. I think we have the following:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> * add a header to identify the kind of websrt file &amp; the language
</I>&gt;&gt;<i> * add a means to add metadata as name-value pairs
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> e.g.
</I>&gt;&gt;<i> WebSRT
</I>&gt;&gt;<i> language: en-US
</I>&gt;&gt;<i> author: Frank
</I>&gt;&gt;<i> date: 2010-09-20
</I>&gt;&gt;<i> kind: subtitle
</I>&gt;&gt;<i> copyright: WGBH, 2010
</I>&gt;&gt;<i> license: CC-BY-SA, <A HREF="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</A>
</I>&gt;<i>
</I>&gt;<i> What should happen when the language in &lt;track srclang&gt; doesn't match the
</I>&gt;<i> language in the file itself?
</I>
Since the attributes in &lt;track&gt; are a hint, probably what is available
in the file should overrule what is in the &lt;track&gt; attributes. It is
the same for the @charset attribute, which is overruled to utf-8 for
WebSRT IIRC.

You could on the other hand argue that the Web developer wanted to
override a falsely specified language, but I believe it is much more
likely that the author of the file knows the correct language rather
than the Web page author, since the first is closer to authoring the
file.


&gt;<i> Also, why is kind needed in the file?
</I>
For those occasions where no Web page with &lt;track&gt; is available, i.e.
offline applications such as vlc.


&gt;<i>
</I>&gt;&gt;<i> * add a means to add comments
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> e.g.
</I>&gt;&gt;<i> // Lines starting with // are comments
</I>&gt;<i>
</I>&gt;<i> So far the web two comment syntaxes: &lt;!-- SGML style --&gt; and /* CSS style
</I>&gt;<i> */, so if we need comments I think we should pick one of these.
</I>
I'm not fussed. I thought your analysis pointed to //, which is also
nicer because it takes the full line into account without a need for
end tags. Also, it is common from C++ and other programming languages.
But I don't really mind - we just need a decision and reasons for why.


&gt;&gt;<i> And some changes on &lt;track&gt;:
</I>&gt;&gt;<i> * make @kind a required attribute
</I>&gt;<i>
</I>&gt;<i> Why was this?
</I>
Earlier in this thread we were discussing the differences between
subtitles and captions. And one solution to making sure people picked
the right @kind instead of the default always catching and possibly
catching the wrong types is to make @kind a required attribute. I
support that idea.


&gt;&gt;<i> * add @type for mime type identification as we allow more than just
</I>&gt;&gt;<i> WebSRT as external formats, e.g. TTML
</I>&gt;<i>
</I>&gt;<i> Having more than one format seems to complicate rendering. The WebSRT
</I>&gt;<i> rendering rules tries to avoid overlap between cues from different tracks,
</I>&gt;<i> but I don't see how that could work between different formats, unless all
</I>&gt;<i> formats have basically the same model. It certainly wouldn't work with a
</I>&gt;<i> fixed-layout format like TTML. In other words, can't this wait until some
</I>&gt;<i> implementor has shown concrete interest in implementing more than one
</I>&gt;<i> format?
</I>
That interest has already been expressed multiple times in the W3C
HTML5 accessibility task force and here, too, I think. Hixie confirmed
in an email [1] that the element is indeed meant to be usable with
other formats. That doesn't mean that browsers need to implement more
than the baseline. I would personally support having WebSRT as the
baseline.

[1] <A HREF="http://lists.w3.org/Archives/Public/public-html-a11y/2010Aug/0020.html">http://lists.w3.org/Archives/Public/public-html-a11y/2010Aug/0020.html</A>


&gt;<i> Anyway, I agree that at least a magic header like &quot;WebSRT&quot; is needed because
</I>&gt;<i> of the horrors of legacy SRT parsing. Breaking SRT compat means that we can
</I>&gt;<i> go back to requiring UTF-8 as the encoding. However, UTF-8 does complicate
</I>&gt;<i> the magic header a bit due to the possibility of a BOM [1]. While it would
</I>&gt;<i> be nice to forbid the use of a BOM, I expect we'd then see lots of
</I>&gt;<i> frustration from authors who's editors automatically insert it...
</I>&gt;<i>
</I>&gt;<i> [1] <A HREF="http://en.wikipedia.org/wiki/Byte_order_mark#UTF-8">http://en.wikipedia.org/wiki/Byte_order_mark#UTF-8</A>
</I>
I'm happy to enforce UTF-8 on WebSRT. The @charset can work for other
formats. I didn't know about the BOM problem - but having read it, I
would think it makes sense to forbid it. What tools do and how they
deal with erroneous files is a different matter.

Cheers,
Silvia.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071159.html">[whatwg] Timed tracks: feedback compendium
</A></li>
	<LI>Next message: <A HREF="071161.html">[whatwg] Timed tracks: feedback compendium
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71160">[ date ]</a>
              <a href="thread.html#71160">[ thread ]</a>
              <a href="subject.html#71160">[ subject ]</a>
              <a href="author.html#71160">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
