<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] WebSRT feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebSRT%20feedback&In-Reply-To=%3Cop.vkiwcltvsr6mfa%40philip-pc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028817.html">
   <LINK REL="Next"  HREF="028808.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] WebSRT feedback</H1>
<!--htdig_noindex-->
    <B>Philip J&#228;genstedt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebSRT%20feedback&In-Reply-To=%3Cop.vkiwcltvsr6mfa%40philip-pc%3E"
       TITLE="[whatwg] WebSRT feedback">philipj at opera.com
       </A><BR>
    <I>Wed Oct 13 09:34:59 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="028817.html">[whatwg] WebSRT feedback
</A></li>
        <LI>Next message: <A HREF="028808.html">[whatwg] WebSRT feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28815">[ date ]</a>
              <a href="thread.html#28815">[ thread ]</a>
              <a href="subject.html#28815">[ subject ]</a>
              <a href="author.html#28815">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 08 Oct 2010 04:39:43 -0700, Silvia Pfeiffer
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">silviapfeiffer1 at gmail.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> On 08/10/2010, at 1:28 PM, &quot;Philip J&#228;genstedt&quot; &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On Thu, 07 Oct 2010 13:18:37 -0700, Silvia Pfeiffer  
</I>&gt;&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">silviapfeiffer1 at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Thu, Oct 7, 2010 at 4:06 PM, Philip J&#228;genstedt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>&gt;  
</I>&gt;&gt;&gt;<i> wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On Thu, 07 Oct 2010 01:57:17 -0700, James Graham &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jgraham at opera.com</A>&gt;
</I>&gt;&gt;&gt;&gt;<i> wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On 10/06/2010 04:04 AM, Philip J&#228;genstedt wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> As an aside, the idea of using an HTML parser for the cue text wasn't
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> very popular.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Why? Were any technical reasons given?
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> The question was directed at the media player/framework developers  
</I>&gt;&gt;&gt;&gt;<i> present.
</I>&gt;&gt;&gt;&gt;<i> One of them didn't care and one was strongly opposed on the basis of  
</I>&gt;&gt;&gt;&gt;<i> bloat.
</I>&gt;&gt;&gt;&gt;<i> This was an aside, if anyone is serious about using the HTML fragment  
</I>&gt;&gt;&gt;&gt;<i> parser
</I>&gt;&gt;&gt;&gt;<i> for WebSRT, we really should approach the developer mailing lists of  
</I>&gt;&gt;&gt;&gt;<i> media
</I>&gt;&gt;&gt;&gt;<i> players/frameworks. I doubt we will find much love, but would be  
</I>&gt;&gt;&gt;&gt;<i> happy to be
</I>&gt;&gt;&gt;&gt;<i> shown wrong.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The one I talked to said that HTML markup should totally be used in  
</I>&gt;&gt;&gt;<i> cues (he
</I>&gt;&gt;&gt;<i> even mentioned more generally why we didn't pick up USF). The reason  
</I>&gt;&gt;&gt;<i> being
</I>&gt;&gt;&gt;<i> that it clearly defines extensibility and would in fact already  
</I>&gt;&gt;&gt;<i> provide any
</I>&gt;&gt;&gt;<i> use case that anyone can come up with, thus stopping people from  
</I>&gt;&gt;&gt;<i> inventing
</I>&gt;&gt;&gt;<i> their own screwed up extensions, such as the use of ass commands in {}
</I>&gt;&gt;&gt;<i> inside srt subtitles.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The thing is: while the full set of features of HTML fragments seems  
</I>&gt;&gt;&gt;<i> bloat,
</I>&gt;&gt;&gt;<i> not every subtitle will consist of all the possible markup. Just like  
</I>&gt;&gt;&gt;<i> Web
</I>&gt;&gt;&gt;<i> pages are often created with very simple markup which uses less then  
</I>&gt;&gt;&gt;<i> 1% of
</I>&gt;&gt;&gt;<i> what HTML is capable of, we will see the same happening with subtitle  
</I>&gt;&gt;&gt;<i> cues.
</I>&gt;&gt;&gt;<i> But the availability and clear definition of how such features should  
</I>&gt;&gt;&gt;<i> be
</I>&gt;&gt;&gt;<i> used prevents the introduction of crappy extension.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Even if very few subtitles use inline SVG, SVG in &lt;object&gt;, &lt;img&gt;,  
</I>&gt;&gt;<i> &lt;iframe&gt;, &lt;video&gt;, self-referencing &lt;track&gt;, etc in the cue text, all  
</I>&gt;&gt;<i> implementations would have to support it in the same way for it to be  
</I>&gt;&gt;<i> interoperable. That's quite an undertaking and I don't think it's  
</I>&gt;&gt;<i> really worth it.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> They all need to be interoperable on all of these features already. It  
</I>&gt;<i> should be easier to keep them interoperable on something known and  
</I>&gt;<i> already implemented than on a set of new features, in particular when  
</I>&gt;<i> the new feature set is restricted and features beyond the limited given  
</I>&gt;<i> set are not available such that custom &quot;markup&quot; will be produced by  
</I>&gt;<i> plugins etc.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> As for extensibility, I suggest that we generalize the WebSRT parser  
</I>&gt;&gt;<i> somewhat to produce a normal DOM with elements in a non-HTML namespace  
</I>&gt;&gt;<i> and then use CSS to style them as usual. Unknown element names  
</I>&gt;&gt;<i> shouldn't be valid, of course, but they'd still appear in the DOM. If  
</I>&gt;&gt;<i> &quot;XML5&quot; (<A HREF="http://annevankesteren.nl/2007/10/xml5">http://annevankesteren.nl/2007/10/xml5</A>) was ready, I'd suggest  
</I>&gt;&gt;<i> we use that, with the constraint that it should only be able to output  
</I>&gt;&gt;<i> elements in that non-HTML namespace. (Just thinking out loud here.)
</I>&gt;<i>
</I>&gt;<i> I think that's ok, even though I think it makes more sense to have HTML  
</I>&gt;<i> fragments than arbitrary markup that is related but somewhat different.  
</I>&gt;<i> I think we are then just re-inventing HTML.
</I>
On Fri, 08 Oct 2010 05:20:28 -0700, Robert O'Callahan
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt; wrote:

&gt;<i> User agents only need to be interoperable over the common subset of HTML
</I>&gt;<i> features they support. HTML is mostly designed to degrade gracefully  
</I>&gt;<i> when a
</I>&gt;<i> user agent encounters elements it doesn't support. The simplest possible
</I>&gt;<i> video player would use an HTML parser (hopefully off-the-shelf) to build
</I>&gt;<i> some kind of DOM structure. Then it can group text into paragraphs for
</I>&gt;<i> rendering, and ignore the rest of the content.
</I>&gt;<i>
</I>&gt;<i> In practice, we'll have to deal with user agents that support different  
</I>&gt;<i> sets
</I>&gt;<i> of WebSRT features --- when version 2 of WebSRT is developed, if not  
</I>&gt;<i> before.
</I>&gt;<i> Why not use existing, proven machinery --- HTML --- to cope with that
</I>&gt;<i> situation?
</I>
I do think that a syntax that looks similar to HTML and XML should have  
similar parsing, which WebSRT currently doesn't. However, using HTML seems  
to create plenty of complications, such as:

* What are relative URLs in &lt;a&gt; and &lt;img&gt; relative to? Is it the  
containing document or the WebSRT document? When following links, which  
window is navigated?

* When are external resources like &lt;img&gt;, &lt;object&gt; and &lt;video&gt; loaded?

* If a WebSRT cue includes &lt;video autoplay&gt;, when should that nested video  
play?

* If a WebSRT cue starting at time 0 includes a self-referring  
&lt;video&gt;&lt;track&gt; that will be enabled by default, what should happen?

* When should the track be considered ready? This delays the  
loadedmetadata on &lt;video&gt;, see  
&lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#the-timed-tracks-are-ready">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#the-timed-tracks-are-ready</A>&gt;

I'd like to understand in more detail what exactly is being suggested be  
done with the HTML fragments returned by the parser, in order to answer  
these questions. Neither of the two obvious implementation approaches  
&quot;temporary document in iframe&quot; and &quot;temporary part of containing document&quot;  
seem like very good solutions, but I'll hold off more concrete criticism  
until there is a concrete suggestion.

(Finally, I should mention that I'm assuming that the cue text format of  
WebSRT will also be used in WebM when we add support for in-band captions,  
unless EBML can somehow be leveraged.)

On Fri, 08 Oct 2010 06:00:25 -0700, Jeroen Wijering
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jeroen at longtailvideo.com</A>&gt; wrote:

&gt;<i> The requests we receive on the captioning functionality of the JW Player  
</I>&gt;<i> always revolve around styling. Font size, color, style, weight, outline  
</I>&gt;<i> and family. Block x, y, width, height, text-align, vertical-align,  
</I>&gt;<i> padding, margin, background and alpha. Both for an entire SRT file, for  
</I>&gt;<i> distinct captioning entries and for specific parts of a captioning  
</I>&gt;<i> entry. Not to say that a full parsing engine wouldn't be nice or useful,  
</I>&gt;<i> but at present there's simply no requests for it (not even for &lt;a&gt; ;).  
</I>&gt;<i> Plus, more advanced timed track applications can easily be built with  
</I>&gt;<i> javascript (timed boucing 3D balls using WebGL).
</I>&gt;<i>
</I>&gt;<i> W3C's timed text does a decent job in facilitating the styling needs for  
</I>&gt;<i> captioning authors. Overall regions, single paragraphs and inline chunks  
</I>&gt;<i> (through &lt;span&gt;) can be styled. There are a few small misses, such as  
</I>&gt;<i> text outline, and vertical alignment (which can be done with separate  
</I>&gt;<i> regions though). IMO the biggest con of TT is that it uses its own,  
</I>&gt;<i> in-document styling namespace, instead of relying upon page CSS.
</I>
Another thing that TTML does pretty well is the &quot;agent metadata&quot;, i.e.  
marking up the speaker, linking that with the name of the character and  
actor. It adds one level of indirection, but allows using a short-hand id  
in the markup instead of the full character name. Other cons are:

* It's an interchange format, so it has the complexity of many other  
formats combined.
* Almost completely presentational markup.
* Hard-coded to a particular resolution of video, at least the examples  
are.

Now and then someone suggests using a subset of TTML, but I haven't seen  
any concrete proposal of what exactly would remain.

-- 
Philip J&#228;genstedt
Core Developer
Opera Software
</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028817.html">[whatwg] WebSRT feedback
</A></li>
	<LI>Next message: <A HREF="028808.html">[whatwg] WebSRT feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28815">[ date ]</a>
              <a href="thread.html#28815">[ thread ]</a>
              <a href="subject.html#28815">[ subject ]</a>
              <a href="author.html#28815">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
