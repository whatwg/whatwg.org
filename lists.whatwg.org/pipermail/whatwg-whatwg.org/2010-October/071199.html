<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Exposing filenames in DataTransfer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Exposing%20filenames%20in%20DataTransfer&In-Reply-To=%3CAANLkTin2sz7XCNbBbmJDaLARHGrzzBQ3TqXV33SkSZoi%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071187.html">
   <LINK REL="Next"  HREF="071134.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Exposing filenames in DataTransfer</H1>
<!--htdig_noindex-->
    <B>Daniel Cheng</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Exposing%20filenames%20in%20DataTransfer&In-Reply-To=%3CAANLkTin2sz7XCNbBbmJDaLARHGrzzBQ3TqXV33SkSZoi%40mail.gmail.com%3E"
       TITLE="[whatwg] Exposing filenames in DataTransfer">dcheng at chromium.org
       </A><BR>
    <I>Fri Oct 29 16:24:30 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="071187.html">[whatwg] Exposing filenames in DataTransfer
</A></li>
        <LI>Next message: <A HREF="071134.html">[whatwg] Exposing filenames in DataTransfer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71199">[ date ]</a>
              <a href="thread.html#71199">[ thread ]</a>
              <a href="subject.html#71199">[ subject ]</a>
              <a href="author.html#71199">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>In that case, I'd like to propose a set of MIME types that the spec
explicitly mentions for interoperability with native apps:
- text/plain for compatibility with IE
- text/uri-list for compatibility with IE
- text/html for rich text formatting. One potential usage--a reference site
such as Wikipedia could implement a drag-out handler which automatically
encapsulates the dragged snippet in a &quot;quote&quot; box and links back to the
source.
- application/rtf for rich text data. RTF is called out in particular since
it allows embedded images, which HTML does not. This would allow someone to
drag-and-drop cells and a graph from a spreadsheet into an email.
- image/png for image transfers. Native drag and drop usually involves
bitmaps, so the UA would automatically perform a lossless conversion from
the native platform-dependent bitmap format to a PNG if the page requested
this type. One example usage is uploading a picture of your desktop--simply
hit 'Print Screen', navigate to the image sharing site, and ^V.
- image/svg+xml for vector image transfers. It should be possible to convert
the various vector formats (WMF, PS, PDF) into SVG, but I'm not sure how
valuable doing this would be.

Those 6 types seem to cover a fairly wide variety of use cases without being
too domain-specific. What do people think?

Daniel

On Tue, Oct 26, 2010 at 03:15, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at opera.com</A>&gt; wrote:

&gt;<i> On Thu, 21 Oct 2010 02:20:57 +0200, Daniel Cheng &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dcheng at chromium.org</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> To clarify, I wasn't proposing that pages need to know details of a
</I>&gt;&gt;<i> particular OS. Things like &quot;text/plain&quot;, &quot;text/uri-list&quot;, &quot;text/html&quot;,
</I>&gt;&gt;<i> etc. are automatically mapped by the UA to whatever the appropriate platform
</I>&gt;&gt;<i> idiom is.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I just thought it would be useful to also expose things that the UA itself
</I>&gt;&gt;<i> doesn't natively understand--it just gets passed through to the web content.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I was saying that if you get this on one OS but not another you might get
</I>&gt;<i> pages that depend on a particular OS if not coded carefully.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  However, this led to the above problem with filenames being exposed. This
</I>&gt;&gt;<i> can, to some extent, be mitigated by blacklisting certain types; I'm just
</I>&gt;&gt;<i> wondering if people feel that the additional utility is worth the risk of
</I>&gt;&gt;<i> potentially exposing file paths because of a chatty file manager, or if
</I>&gt;&gt;<i> anyone has any ideas on how to mitigate this risk.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It should probably work with a whitelist.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Anne van Kesteren
</I>&gt;<i> <A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20101029/ae791087/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20101029/ae791087/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071187.html">[whatwg] Exposing filenames in DataTransfer
</A></li>
	<LI>Next message: <A HREF="071134.html">[whatwg] Exposing filenames in DataTransfer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71199">[ date ]</a>
              <a href="thread.html#71199">[ thread ]</a>
              <a href="subject.html#71199">[ subject ]</a>
              <a href="author.html#71199">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
