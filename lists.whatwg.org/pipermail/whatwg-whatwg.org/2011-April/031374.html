<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] MTU Size PeerConnection send method (was RE: PeerConnection feedback)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20MTU%20Size%20PeerConnection%20send%20method%20%28was%20RE%3A%0A%20PeerConnection%20feedback%29&In-Reply-To=%3C4DBA5AAF.9050901%40alvestrand.no%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031348.html">
   <LINK REL="Next"  HREF="031375.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] MTU Size PeerConnection send method (was RE: PeerConnection feedback)</H1>
<!--htdig_noindex-->
    <B>Harald Alvestrand</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20MTU%20Size%20PeerConnection%20send%20method%20%28was%20RE%3A%0A%20PeerConnection%20feedback%29&In-Reply-To=%3C4DBA5AAF.9050901%40alvestrand.no%3E"
       TITLE="[whatwg] MTU Size PeerConnection send method (was RE: PeerConnection feedback)">harald at alvestrand.no
       </A><BR>
    <I>Thu Apr 28 23:29:03 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="031348.html">[whatwg] MTU Size PeerConnection send method (was RE: PeerConnection feedback)
</A></li>
        <LI>Next message: <A HREF="031375.html">[whatwg] MTU Size PeerConnection send method (was RE: PeerConnection feedback)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31374">[ date ]</a>
              <a href="thread.html#31374">[ thread ]</a>
              <a href="subject.html#31374">[ subject ]</a>
              <a href="author.html#31374">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 04/28/11 20:55, Stefan H&#229;kansson LK wrote:
&gt;&gt;&gt;<i> Wouldn't it be possible to abstract this away for the web developer? I.e. the send method should, like for WebSockets, not have a max size. Instead the sending UA would be responsible for chopping up (the receiving UA for re-assembling) the message into packets not larger than the minimum path MTU. Depending on the UA (and how integrated with the IP stack of the device it is) different levels of implementation sophistication could be used (e.g. max 576 byte, or select 576/1280 depending on IP version, or even using MTU path discovery to find out max size).
</I>&gt;&gt;<i> Yes, we could reimplement UDP's defragmentation mechanism at the higher level.
</I>&gt;&gt;<i> There are a few things to keep in mind if you do that (for instance, there's a well known resource exhaustion attack where an attacker sends you the first part of UDP packets and never sends you the rest of it, until you run out of reassembly buffers, and of course the chance of losing a packet goes up significantly when all the fragments need to make it in order to achieve correct reassembly).
</I>&gt;<i> The attacker in this case would be a (hacked) browser as the web developer can do no such thing. Of course larger data chunks increases the risk of not getting it over. This may be problematic: how can you explain this to the web developer in an understandable way?
</I>&gt;<i>
</I>The attacker can be anyone who is able to convince your web browser to 
make a PeerConnection to a machine they control. The attacker isn't 
limited to running web browsers that obey protocol.

The defense is well known - you simply limit the number of reassembly 
buffers, and throw away packets that haven't been reassembled for a 
while when you run out of buffers to reassemble them in. And the defense 
can be implemented wholly within the browser - no need to explain it to 
a web developer.

It's just one example of things one has to think about when implementing 
this kind of thing.
&gt;<i>
</I>&gt;<i>
</I>
</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031348.html">[whatwg] MTU Size PeerConnection send method (was RE: PeerConnection feedback)
</A></li>
	<LI>Next message: <A HREF="031375.html">[whatwg] MTU Size PeerConnection send method (was RE: PeerConnection feedback)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31374">[ date ]</a>
              <a href="thread.html#31374">[ thread ]</a>
              <a href="subject.html#31374">[ subject ]</a>
              <a href="author.html#31374">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
