<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal to extend registerProtocolHandler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20to%20extend%20registerProtocolHandler&In-Reply-To=%3CBANLkTi%3D7dVCy6iWtmMScWOfQdt%3DCSzdEKA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031299.html">
   <LINK REL="Next"  HREF="031315.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal to extend registerProtocolHandler</H1>
<!--htdig_noindex-->
    <B>James Kozianski</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20to%20extend%20registerProtocolHandler&In-Reply-To=%3CBANLkTi%3D7dVCy6iWtmMScWOfQdt%3DCSzdEKA%40mail.gmail.com%3E"
       TITLE="[whatwg] Proposal to extend registerProtocolHandler">koz at chromium.org
       </A><BR>
    <I>Wed Apr 20 23:32:00 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="031299.html">[whatwg] Cache
</A></li>
        <LI>Next message: <A HREF="031315.html">[whatwg] Dynamic pseudo-classes on video/audio element to allow	styling of controls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31309">[ date ]</a>
              <a href="thread.html#31309">[ thread ]</a>
              <a href="subject.html#31309">[ subject ]</a>
              <a href="author.html#31309">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

I'd like to propose the following changes to the registerProtocolHandler
spec.

1. Introduce an isRegistered() function.

Currently if a site wants its users to register it as a handler for a given
protocol it has two options:

    a) It can call registerProtocolHandler() on page load. (This approach
was suggested in [1])

    b) It can have a button that the user clicks (or similar) to enact the
registration.


The former is problematic because the call to registerProtocolHandler will
cause the browser's UI to notify them of the registration (or prompt them to
make a decision), which is redundant if it occurs on every page load.


The latter is problematic because it puts the onus on each site developer to
provide the UI to allow the user to make the change. Also, as the site
doesn't know whether the user has already registered the given protocol
handler, it can't tailor its UI to reflect this. This means the UI either
always shows, or never shows, both of which are undesirable.


Having an isRegistered() function would allow a site to simply make the RPH
call conditionally on load, or to provide a UI for it that reflects the
user's current preference.


2. Introduce an unregisterProtocolHandler() function.

Such a function is desirable because it allows sites to remove outdated
handlers from clients and would enable clients to provide a UI for managing
their registered protocol handlers.


3. Require all URL arguments to have the same origin as the page executing
the call.

This would would make the behaviour of this set of functions more consistent
(isRegistered() should only work for same-domain queries, to prevent
information leaking).


Cheers,
James

[1] - <A HREF="http://www.mail-archive.com/whatwg@lists.whatwg.org/msg14548.html">http://www.mail-archive.com/whatwg@lists.whatwg.org/msg14548.html</A>
</PRE>
























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031299.html">[whatwg] Cache
</A></li>
	<LI>Next message: <A HREF="031315.html">[whatwg] Dynamic pseudo-classes on video/audio element to allow	styling of controls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31309">[ date ]</a>
              <a href="thread.html#31309">[ thread ]</a>
              <a href="subject.html#31309">[ subject ]</a>
              <a href="author.html#31309">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
