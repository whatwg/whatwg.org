<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Decimal comma in numeric input
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Decimal%20comma%20in%20numeric%20input&In-Reply-To=%3C273A0E8BC9384EC7B421122859493331%40JukanPC%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073614.html">
   <LINK REL="Next"  HREF="073524.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Decimal comma in numeric input</H1>
<!--htdig_noindex-->
    <B>Jukka K. Korpela</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Decimal%20comma%20in%20numeric%20input&In-Reply-To=%3C273A0E8BC9384EC7B421122859493331%40JukanPC%3E"
       TITLE="[whatwg] Decimal comma in numeric input">jkorpela at cs.tut.fi
       </A><BR>
    <I>Thu Apr 14 02:05:08 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073614.html">[whatwg] Proposing &lt;canvas&gt;.toBlob(contentType)
</A></li>
        <LI>Next message: <A HREF="073524.html">[whatwg] Decimal comma in numeric input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31250">[ date ]</a>
              <a href="thread.html#31250">[ thread ]</a>
              <a href="subject.html#31250">[ subject ]</a>
              <a href="author.html#31250">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I was surprised at seeing that the Finnish-language version of Google Chrome 
11 beta accepts a number with a comma, such as &quot;4,2&quot;, in &lt;input 
type=&quot;number&quot;&gt;. It silently converts the comma to a full stop, &quot;4.2&quot;.

This looked like a useful feature at first sight, as decimal comma is 
standard in Finnish as in most human languages. But this seems to violate 
the rules, since &lt;input type=&quot;number&quot;&gt; is defined as allowing a &quot;valid 
floating point number&quot; (the definition of which clearly allows FULL STOP as 
the only decimal separator) only and, moreover, there is prescribed error 
processing: an error shall be returned, and the value sanitization algorithm 
shall set the value to the empty string; ref.:
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/number-state.html#number-state">http://www.whatwg.org/specs/web-apps/current-work/multipage/number-state.html#number-state</A>

So the Google Chrome implementation is in error here, right?

On the other hand, would it be useful to _allow_ localization so that a 
browser _may_ interpret a comma as a decimal separator? Perhaps assuming the 
localization settings of the browser or the underlying system specify comma 
as decimals separator, or perhaps independently of that.

Google Chrome seems to take the localization so far that if I specify 
value=&quot;4.2&quot;, it gets displayed as &quot;4,2&quot;, and if I type &quot;5.5&quot; in the field, 
it gets automatically converted to &quot;5,5&quot; in the visible rendering - though 
in DOM and in the submitted form data, it's &quot;5.5&quot;.

Things get risky, because if the user then enters &quot;1.500&quot; (which corresponds 
to the old way of writing one thousand five hundred in digits in Finnish, a 
notation still used to some extent and still official in some other 
languages) in &lt;input type=&quot;number&quot;&gt; field, it gets accepted and sent as 
&quot;1.500&quot; (one and a half), if the value restrictions allow it - though the 
visual rendering is automatically changed to &quot;1,5&quot;.

I guess the big question is: Should localization issues be concerned in the 
specification of &lt;input type=&quot;number&quot;&gt;? If not, the usefulness of the 
construct is limited, since in many contexts it is unacceptable to require 
that users input and see numbers in a format that does not correspond to 
conventions that are normal for their language and culture.

-- 
Yucca, <A HREF="http://www.cs.tut.fi/~jkorpela/">http://www.cs.tut.fi/~jkorpela/</A> 

</PRE>








































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073614.html">[whatwg] Proposing &lt;canvas&gt;.toBlob(contentType)
</A></li>
	<LI>Next message: <A HREF="073524.html">[whatwg] Decimal comma in numeric input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31250">[ date ]</a>
              <a href="thread.html#31250">[ thread ]</a>
              <a href="subject.html#31250">[ subject ]</a>
              <a href="author.html#31250">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
