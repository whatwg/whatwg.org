<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas.getContext error handling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas.getContext%20error%20handling&In-Reply-To=%3CBANLkTi%3DRRBpCL8PV48C1f44AEtfNFavpnw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031240.html">
   <LINK REL="Next"  HREF="031239.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas.getContext error handling</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas.getContext%20error%20handling&In-Reply-To=%3CBANLkTi%3DRRBpCL8PV48C1f44AEtfNFavpnw%40mail.gmail.com%3E"
       TITLE="[whatwg] Canvas.getContext error handling">glenn at zewt.org
       </A><BR>
    <I>Tue Apr 12 16:32:45 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="031240.html">[whatwg] Canvas.getContext error handling
</A></li>
        <LI>Next message: <A HREF="031239.html">[whatwg] Canvas.getContext error handling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31227">[ date ]</a>
              <a href="thread.html#31227">[ thread ]</a>
              <a href="subject.html#31227">[ subject ]</a>
              <a href="author.html#31227">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Based on some discussion[1], it looks like a clean way to handle the
&quot;permanent failure&quot; case is: If the GPU is blacklisted, or any other
permanent error occurs, treat &quot;webgl&quot; as an unsupported context.  This means
instead of WebGL's context creation algorithm executing and returning null,
it would never be run at all; instead, step 2 of getContext[2] would return
null.

For transient errors, eg. too many open contexts, return a WebGL context in
the &quot;lost&quot; state as Kenneth described.

It was mentioned that the GPU blacklist can change as the browser runs.
That's supported with this method, since whether a context type is
&quot;supported&quot; or not can change over time.

Are there any cases where this wouldn't work?

(I'm not sure if or how webglcontextcreationerror fits in this.  It would
either go away entirely, or be wedged between steps 1 and 2 of getContext; I
don't know how WebGL would specify that.)


[1] <A HREF="http://krijnhoetmer.nl/irc-logs/whatwg/20110413#l-77">http://krijnhoetmer.nl/irc-logs/whatwg/20110413#l-77</A>
[2]
<A HREF="http://dev.w3.org/html5/spec/the-canvas-element.html#dom-canvas-getcontext">http://dev.w3.org/html5/spec/the-canvas-element.html#dom-canvas-getcontext</A>

-- 
Glenn Maynard
</PRE>

































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031240.html">[whatwg] Canvas.getContext error handling
</A></li>
	<LI>Next message: <A HREF="031239.html">[whatwg] Canvas.getContext error handling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31227">[ date ]</a>
              <a href="thread.html#31227">[ thread ]</a>
              <a href="subject.html#31227">[ subject ]</a>
              <a href="author.html#31227">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
