<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Decimal comma in numeric input
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Decimal%20comma%20in%20numeric%20input&In-Reply-To=%3CA55C1FCDFFB64FC691F042DEC8F33905%40JukanPC%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031254.html">
   <LINK REL="Next"  HREF="031261.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Decimal comma in numeric input</H1>
<!--htdig_noindex-->
    <B>Jukka K. Korpela</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Decimal%20comma%20in%20numeric%20input&In-Reply-To=%3CA55C1FCDFFB64FC691F042DEC8F33905%40JukanPC%3E"
       TITLE="[whatwg] Decimal comma in numeric input">jkorpela at cs.tut.fi
       </A><BR>
    <I>Thu Apr 14 09:40:19 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="031254.html">[whatwg] Decimal comma in numeric input
</A></li>
        <LI>Next message: <A HREF="031261.html">[whatwg] Decimal comma in numeric input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31259">[ date ]</a>
              <a href="thread.html#31259">[ thread ]</a>
              <a href="subject.html#31259">[ subject ]</a>
              <a href="author.html#31259">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>John Tamplin wrote:

&gt;<i> The entire web application, which includes both client and
</I>&gt;<i> server-side code, must have the same idea about what locale the user
</I>&gt;<i> is using.
</I>
Well, HTML(5) is not just about client-server applications. It&#8217;s also about 
offline applications and about the bulk of web and intranet content that 
cannot be characterized as &#8220;applications&#8221; in any significant meaning.

Moreover, part of the very idea of client-server model is that the client 
can handle user interaction in the user&#8217;s preferred locale and generally the 
way that suits the user, whereas the server-side processing and storage can 
use globalized format of data. The server can remain totally ignorant of the 
user interaction; it just gets and send data in a global well-defined 
format, which may be almost or completely unreadable to humans, or at least 
odd-looking to most, like ISO 8601 date and time, language codes, or real 
numbers in binary format.

New input types like &quot;color&quot;, &quot;date&quot;, and &quot;number&quot; are interesting steps 
towards allowing localized user interfaces with strictly defined and 
controlled interfaces to server-side and client-side processing of data. But 
they are perhaps not quite _conscious_ steps, and they are relatively 
limited, and they are (probably intentionally) silent about most 
localization issues.

&gt;<i> If the app provides a drop-down box or preference setting
</I>&gt;<i> to choose a different locale, as most localized apps do,
</I>
Do they? Is that a good move, as opposite to using one centralized set of 
settings in the user's system? How many times am I actually supposed to tell 
my preferred language, country, currency, decimal separator, and so on, when 
using different applications? Localization is far more than choosing a 
locale from a dropdown, or at least it should be to be genuinely useful.

&gt;<i> the web browser has to be using the same locale for any native locale
</I>&gt;<i> processing it uses
</I>
I&#8217;m not sure I follow you here. If an application is used via a web browser, 
then according to your words the application normally provides its own 
locale selection. Are you now saying that a web browser should somehow try 
to access such choices and turn them into its own choices. I was confused, 
and I am getting more and more confused.

&gt;<i> Otherwise, you run a serious risk of having
</I>&gt;<i> incorrect data -- if a user types &quot;10,000&quot; in a field when they think
</I>&gt;<i> they are using a locale with a comma as the decimal separator, does
</I>&gt;<i> the app receive that as 10000 or 10.000?
</I>
That was the issue I raised, and I don&#8217;t see how it would vanish according 
to the approach to selecting a locale.

&gt;<i> If the app is running in
</I>&gt;<i> en-US because the user requested it or their system locale isn't
</I>&gt;<i> supported by the app, and the browser sends &quot;10.000&quot; as the value
</I>&gt;<i> because the system locale is &quot;de&quot;, then that is a problem.
</I>
Independently of the ways in which some software decides to use some locale 
settings, there is the problem that the user does not what to enter when he 
needs to enter a number with a decimal part. I think non-localized UIs 
(e.g., UIs that always use full stop as decimal separator) are definitely 
better than poorly-localized UIs.

&gt;&gt;<i> Thus, it would be safer to compute the language of the input
</I>&gt;&gt;<i> element,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In practical terms, no. We know that authors generally fail to
</I>&gt;&gt;<i> specify the content language or have it mis-specified (typically, as
</I>&gt;&gt;<i> English irrespective of the real language) by authoring software.
</I>&gt;<i>
</I>&gt;<i> If you can't rely on getting the locale the app is running in, then
</I>&gt;<i> apps are not going to be able to use any fancy features and will
</I>&gt;<i> continue to implement their own localization since they can't rely on
</I>&gt;<i> the browser getting it right.
</I>
They can hardly expect browsers to get it right now or in the near future, 
as there isn&#8217;t even any definition for what is right. And there is 
considerable conceptual confusion too &#8211; you seem to imply that the language 
of the input element is the same as the locale some application is running 
in.

Most forms in HTML documents aren&#8217;t part of any &#8220;application&#8221; with some 
localization features. It&#8217;s just a form, and the page has some language 
(though usually detectable only by analyzing the content), and it&#8217;s used in 
a browser that has some user interface language (language of menus, error 
messages etc.) and little localization outside that. The best approximation 
of what is generally most natural for the user is in the settings of the 
underlying system. But users can&#8217;t and won&#8217;t really expect web pages to 
apply those settings (usually just silently accepted by the user) to, say, 
their methods of input for decimal numbers.

What I&#8217;m saying is, I guess, that HTML specifications should _discourage_ 
browsers from setting up localized methods for numeric input. It's different 
with calendars for example. When using an English-language page, I&#8217;m quite 
prepared to seeing a calendar with English month names, but I would not be 
too surprised at seeing Finnish month names (when using a Finnish version of 
an OS _and_ a browser), even though it may look somewhat messy. And a 
calendar _needs_ to have language-specific information, with month names and 
names for days of the week at least.

-- 
Yucca, <A HREF="http://www.cs.tut.fi/~jkorpela/">http://www.cs.tut.fi/~jkorpela/</A> 

</PRE>









































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031254.html">[whatwg] Decimal comma in numeric input
</A></li>
	<LI>Next message: <A HREF="031261.html">[whatwg] Decimal comma in numeric input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31259">[ date ]</a>
              <a href="thread.html#31259">[ thread ]</a>
              <a href="subject.html#31259">[ subject ]</a>
              <a href="author.html#31259">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
