<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [WHATWG] HTMLElement ids as global object properties
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BWHATWG%5D%20HTMLElement%20ids%20as%20global%20object%20properties&In-Reply-To=%3CC40C058ECD9048DBA67AD1AF0B400E66%40JukanPC%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031109.html">
   <LINK REL="Next"  HREF="073384.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [WHATWG] HTMLElement ids as global object properties</H1>
<!--htdig_noindex-->
    <B>Jukka K. Korpela</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BWHATWG%5D%20HTMLElement%20ids%20as%20global%20object%20properties&In-Reply-To=%3CC40C058ECD9048DBA67AD1AF0B400E66%40JukanPC%3E"
       TITLE="[whatwg] [WHATWG] HTMLElement ids as global object properties">jkorpela at cs.tut.fi
       </A><BR>
    <I>Fri Apr  1 01:24:55 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="031109.html">[whatwg] [WHATWG] HTMLElement ids as global object properties
</A></li>
        <LI>Next message: <A HREF="073384.html">[whatwg] [WHATWG] HTMLElement ids as global object properties
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73383">[ date ]</a>
              <a href="thread.html#73383">[ thread ]</a>
              <a href="subject.html#73383">[ subject ]</a>
              <a href="author.html#73383">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Alexandre Morgaut wrote:

&gt;<i> My biggest nightmare today is that recent browsers like Chrome, IE9,
</I>&gt;<i> FF4 generate a global variable from the id of each HTMLElement of the
</I>&gt;<i> document...
</I>
On a day like this, I was very suspicious about information like that, but 
it turns out to be true and also applies to Opera and Safari.

Using &lt;h1 id=&quot;foo&quot;&gt;Hello world&lt;/h1&gt; in markup and alert(foo.innerHTML) I get 
&quot;Hello world&quot; instead of an error message. On the other hand, if I declare 
var foo, I don't get an error message about duplicate declaration.

&gt;<i> Let's imagine the effects of existing HTMLElements with id like
</I>&gt;<i> &quot;location&quot;, &quot;document&quot;, &quot;event&quot;, &quot;toolbar&quot;, or even &quot;window&quot;...
</I>
Using &quot;location&quot; instead of &quot;foo&quot;, I get &quot;undefined&quot;. Ditto if I declare a 
function with that name, before _or after_ the reference to foo.

So the automagic generation of variables corresponding to id attribute 
values does not extend to names that are already defined.

But it's not that simple:

alert(foo.innerHTML);
var foo;

causes the error message &quot;foo is undefined&quot;.

Is there something about this in some document on HTML(5)?

Technically this might be regarded as JavaScript error handling (treating an 
undefined identifier as referring to an HTMLElement with that id) that is 
outside the scope of any HTML specs. But in practice it looks far too 
important to be ignored, especially since the browser behavior is so 
consistent.

When I test the simple case (no defined name clashing with the id value) on 
Firefox with Firebug enabled, I get a _warning_ from Firebug, saying that an 
element was referred to using an ID/NAME and that the W3C-conforming 
document.getElementById() request should be used instead. So this seems to 
be a known issue to some extent.

-- 
Yucca, <A HREF="http://www.cs.tut.fi/~jkorpela/">http://www.cs.tut.fi/~jkorpela/</A> 


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031109.html">[whatwg] [WHATWG] HTMLElement ids as global object properties
</A></li>
	<LI>Next message: <A HREF="073384.html">[whatwg] [WHATWG] HTMLElement ids as global object properties
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73383">[ date ]</a>
              <a href="thread.html#73383">[ thread ]</a>
              <a href="subject.html#73383">[ subject ]</a>
              <a href="author.html#73383">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
