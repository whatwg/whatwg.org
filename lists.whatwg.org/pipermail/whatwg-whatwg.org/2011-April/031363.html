<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] CSSElementMap - updates needed for out-of-document elements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20CSSElementMap%20-%20updates%20needed%20for%20out-of-document%0A%20elements&In-Reply-To=%3CPine.LNX.4.64.1104282157230.19153%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073645.html">
   <LINK REL="Next"  HREF="073642.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] CSSElementMap - updates needed for out-of-document elements</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20CSSElementMap%20-%20updates%20needed%20for%20out-of-document%0A%20elements&In-Reply-To=%3CPine.LNX.4.64.1104282157230.19153%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] CSSElementMap - updates needed for out-of-document elements">ian at hixie.ch
       </A><BR>
    <I>Thu Apr 28 15:02:43 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073645.html">[whatwg] &lt;comment&gt; element in HTML5 Spec?
</A></li>
        <LI>Next message: <A HREF="073642.html">[whatwg] CSSElementMap - updates needed for out-of-document	elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31363">[ date ]</a>
              <a href="thread.html#31363">[ thread ]</a>
              <a href="subject.html#31363">[ subject ]</a>
              <a href="author.html#31363">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 16 Dec 2010, Tab Atkins Jr. wrote:
&gt;<i>
</I>&gt;<i> The CSSElementMap object defined in 
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/complete/dom.html#dom-document-csselementmap">http://www.whatwg.org/specs/web-apps/current-work/complete/dom.html#dom-document-csselementmap</A>&gt; 
</I>&gt;<i> allows an author to map an element to an identifier that CSS can then 
</I>&gt;<i> use to refer to the element.  However, it allows elements that are 
</I>&gt;<i> outside the DOM tree to be mapped, which creates a problem for CSS - CSS 
</I>&gt;<i> has no notion of elements outside the element-tree.
</I>&gt;<i> 
</I>&gt;<i> We want to preserve this ability, so authors can, for example, generate 
</I>&gt;<i> &lt;canvas&gt; in script, map it to an identifier, and then refer to it with 
</I>&gt;<i> the element() function to provide an animated background for an element.
</I>&gt;<i> 
</I>&gt;<i> While you can put any element in the map, only a subset of them make 
</I>&gt;<i> sense to expose to CSS while out of the DOM.  Particularly, we want to 
</I>&gt;<i> only expose the &lt;img&gt;, &lt;video&gt;, and &lt;canvas&gt; elements, as they have an 
</I>&gt;<i> intrinsic notion of &quot;size&quot; that doesn't rely on layout information.
</I>&gt;<i> 
</I>&gt;<i> So, amendments:
</I>&gt;<i> 
</I>&gt;<i> 1. While any element can be in the CSSElementMap, only elements are 
</I>&gt;<i> either (a) in the DOM or (b) &lt;img&gt;, &lt;video&gt;, or &lt;canvas&gt; outside the DOM 
</I>&gt;<i> are exposed as CSS Element Reference Identifiers.
</I>
Done, though I think it would make more sense for this to be in the CSS 
spec, because otherwise every time we support new elements in CSS we have 
to modify the HTML spec as well.


&gt;<i> 2. &lt;img&gt;, &lt;video&gt;, and &lt;canvas&gt;, while outside the DOM, expose the 
</I>&gt;<i> intrinsic width of their content as the size of their margin box. (The 
</I>&gt;<i> margin box of the element is used in the description for element() to 
</I>&gt;<i> figure out how large the generated image should be.)
</I>
This seems like something CSS should define. HTML shouldn't need to define 
CSS terms like margin box. This can be defined in CSS generically without 
referencing HTML by just saying that an element not in a document has a 
margin box equal to its intrinsic dimensions, or whatnot.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>




















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073645.html">[whatwg] &lt;comment&gt; element in HTML5 Spec?
</A></li>
	<LI>Next message: <A HREF="073642.html">[whatwg] CSSElementMap - updates needed for out-of-document	elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31363">[ date ]</a>
              <a href="thread.html#31363">[ thread ]</a>
              <a href="subject.html#31363">[ subject ]</a>
              <a href="author.html#31363">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
