<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Accept full CSS colors in the legacy color parsing	algorithm
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Accept%20full%20CSS%20colors%20in%20the%20legacy%20color%20parsing%0A%09algorithm&In-Reply-To=%3CBANLkTi%3D4cTDgDZi8011i9DotyGeQtdNjHw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073506.html">
   <LINK REL="Next"  HREF="073456.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Accept full CSS colors in the legacy color parsing	algorithm</H1>
<!--htdig_noindex-->
    <B>Tab Atkins Jr.</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Accept%20full%20CSS%20colors%20in%20the%20legacy%20color%20parsing%0A%09algorithm&In-Reply-To=%3CBANLkTi%3D4cTDgDZi8011i9DotyGeQtdNjHw%40mail.gmail.com%3E"
       TITLE="[whatwg] Accept full CSS colors in the legacy color parsing	algorithm">jackalmage at gmail.com
       </A><BR>
    <I>Fri Apr  8 13:54:11 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073506.html">[whatwg] PeerConnection constructor: Init string format
</A></li>
        <LI>Next message: <A HREF="073456.html">[whatwg] Accept full CSS colors in the legacy color	parsing	algorithm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31181">[ date ]</a>
              <a href="thread.html#31181">[ thread ]</a>
              <a href="subject.html#31181">[ subject ]</a>
              <a href="author.html#31181">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>In the legacy color parsing algorithm
&lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/common-microsyntaxes.html#rules-for-parsing-a-legacy-color-value">http://www.whatwg.org/specs/web-apps/current-work/multipage/common-microsyntaxes.html#rules-for-parsing-a-legacy-color-value</A>&gt;,
steps 5 and 6 concern CSS color names - 'transparent' should raise an
error, and color names should be respected.  All other CSS color
syntaxes, though, such as the rgba() function, are just passed through
to the rest of the algorithm and appropriately mangled.

This doesn't match Webkit's behavior.  Instead of steps 5 and 6, we
just try to parse it as a CSS color.  If we succeed, we use that
color.  Otherwise, we chunk it into the legacy parsing algorithm and
do what the spec says.  So, for example, &lt;font
color=rgba(255,0,0,.5)&gt;foo&lt;/font&gt; is actually displayed as
partially-transparent red instead of dark green (following the
algorithm mangles the string into #050).

Could we change those two steps to just say &quot;If keyword is a valid CSS
color value, then return the simple color corresponding to that
value.&quot;?  (I guess, to fully match Webkit, you need to change the
definition of &quot;simple color&quot; to take alpha into account.)

~TJ
</PRE>












































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073506.html">[whatwg] PeerConnection constructor: Init string format
</A></li>
	<LI>Next message: <A HREF="073456.html">[whatwg] Accept full CSS colors in the legacy color	parsing	algorithm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31181">[ date ]</a>
              <a href="thread.html#31181">[ thread ]</a>
              <a href="subject.html#31181">[ subject ]</a>
              <a href="author.html#31181">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
