<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] MTU Size PeerConnection send method (was RE: PeerConnection feedback)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20MTU%20Size%20PeerConnection%20send%20method%20%28was%20RE%3A%0A%20PeerConnection%20feedback%29&In-Reply-To=%3C4DBA6827.90008%40ericsson.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073647.html">
   <LINK REL="Next"  HREF="073649.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] MTU Size PeerConnection send method (was RE: PeerConnection feedback)</H1>
<!--htdig_noindex-->
    <B>Magnus Westerlund</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20MTU%20Size%20PeerConnection%20send%20method%20%28was%20RE%3A%0A%20PeerConnection%20feedback%29&In-Reply-To=%3C4DBA6827.90008%40ericsson.com%3E"
       TITLE="[whatwg] MTU Size PeerConnection send method (was RE: PeerConnection feedback)">magnus.westerlund at ericsson.com
       </A><BR>
    <I>Fri Apr 29 00:26:31 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073647.html">[whatwg] MTU Size PeerConnection send method (was RE: PeerConnection feedback)
</A></li>
        <LI>Next message: <A HREF="073649.html">[whatwg] PeerConnection feedback: RTP SSRC and data over RTP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73648">[ date ]</a>
              <a href="thread.html#73648">[ thread ]</a>
              <a href="subject.html#73648">[ subject ]</a>
              <a href="author.html#73648">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Harald Alvestrand skrev 2011-04-27 14:42:
&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I'm happy to change this, but I'd like solid data to base the decision on.
</I>&gt;&gt;<i> Wouldn't it be possible to abstract this away for the web developer? I.e. the send method should, like for WebSockets, not have a max size. Instead the sending UA would be responsible for chopping up (the receiving UA for re-assembling) the message into packets not larger than the minimum path MTU. Depending on the UA (and how integrated with the IP stack of the device it is) different levels of implementation sophistication could be used (e.g. max 576 byte, or select 576/1280 depending on IP version, or even using MTU path discovery to find out max size).
</I>&gt;<i> Yes, we could reimplement UDP's defragmentation mechanism at the higher 
</I>&gt;<i> level.
</I>&gt;<i> 
</I>
There is no fragmentation mechanism at UDP level. Either one uses IP
level fragmentation which has issues when it comes to NAT and F/W
traversal or you implement something on top of UDP.

I think one do need to consider the need for a Path MTU discovery
mechanism. If one has framing and sequencing of data parts, then one can
consider to implement a application level PMTU discovery mechanism.

I think one do needs to consider at least enabling tie in to lower layer
MTU mechanisms. As you already raised there is no lower limit on IPv4
packet size other than that IPv4 fragments with any payload needs to be
56 bytes or so. 576 is a more realistic lower limit but still pretty
darn small.

In general I think people should review RFC 5405 &quot;Unicast UDP Usage
Guidelines for Application Designers&quot; which is very applicable to this
discussion. It does discuss a number of issue of doing things on top of UDP.

<A HREF="http://www.rfc-editor.org/rfc/rfc5405.txt">http://www.rfc-editor.org/rfc/rfc5405.txt</A>

Cheers

Magnus Westerlund

----------------------------------------------------------------------
Multimedia Technologies, Ericsson Research EAB/TVM
----------------------------------------------------------------------
Ericsson AB                | Phone  +46 10 7148287
F&#228;r&#246;gatan 6                | Mobile +46 73 0949079
SE-164 80 Stockholm, Sweden| mailto: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">magnus.westerlund at ericsson.com</A>
----------------------------------------------------------------------

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073647.html">[whatwg] MTU Size PeerConnection send method (was RE: PeerConnection feedback)
</A></li>
	<LI>Next message: <A HREF="073649.html">[whatwg] PeerConnection feedback: RTP SSRC and data over RTP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73648">[ date ]</a>
              <a href="thread.html#73648">[ thread ]</a>
              <a href="subject.html#73648">[ subject ]</a>
              <a href="author.html#73648">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
