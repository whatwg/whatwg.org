<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Decimal comma in numeric input
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Decimal%20comma%20in%20numeric%20input&In-Reply-To=%3C21B04E943C1341F0A867C1234DB30723%40JukanPC%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073553.html">
   <LINK REL="Next"  HREF="073527.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Decimal comma in numeric input</H1>
<!--htdig_noindex-->
    <B>Jukka K. Korpela</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Decimal%20comma%20in%20numeric%20input&In-Reply-To=%3C21B04E943C1341F0A867C1234DB30723%40JukanPC%3E"
       TITLE="[whatwg] Decimal comma in numeric input">jkorpela at cs.tut.fi
       </A><BR>
    <I>Thu Apr 14 04:23:50 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073553.html">[whatwg] Decimal comma in numeric input
</A></li>
        <LI>Next message: <A HREF="073527.html">[whatwg] Decimal comma in numeric input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73526">[ date ]</a>
              <a href="thread.html#73526">[ thread ]</a>
              <a href="subject.html#73526">[ subject ]</a>
              <a href="author.html#73526">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Henri Sivonen wrote:

&gt;<i> The the requirements you cite apply to what goes over the wire and
</I>&gt;<i> appears in the DOM. The browser may provide a comma-base UI for
</I>&gt;<i> manipulating the value that is stored and transfered using a period.
</I>
I see... thanks for the clarification. Yes the description is very general 
and allows user interfaces of many kinds.

&gt;<i> It does mean that the degradation story in browsers that don't support
</I>&gt;<i> the numeric form input types is worse for locales that don't use the
</I>&gt;<i> period as the decimal separator.
</I>
In general with the new input types, we have the problem that when they are 
not supported but degrade to &lt;input type=&quot;text&quot;&gt;, the user would need 
instructions on data format, e.g. saying that decimal point be used or that 
a color be specified as #hhhhhh - and these would look stupid when they are 
not needed. But this can probably be handled reasonably using scripts that 
test for the support first. Or maybe it would be more robust, 
transitionally, to include the instructions and &lt;input type=&quot;text&quot;&gt; in 
markup, with client-side scripting then trying to set the state to, say, 
&quot;number&quot;, and when successful, removing the instructions (or replacing them 
with some different instructions).

&gt;&gt;<i> On the other hand, would it be useful to _allow_ localization so
</I>&gt;&gt;<i> that a browser _may_ interpret a comma as a decimal separator?
</I>&gt;<i>
</I>&gt;<i> No. Having &quot;may&quot; in processing rules is a recipe for
</I>&gt;<i> non-interoperability.
</I>
As far as I can see, such operations _are_ allowed by the current 
formulations. The browser may use various mechanisms for letting the user to 
specify a number, and this includes permissive processing of written 
numbers, as long as the browser ultimately generates a valid number (or 
raises an error).

&gt;<i> I think the main problem is triggering the decimal separator mode (or
</I>&gt;<i> the order of numeric day and month for that matter) on the UI locale
</I>&gt;<i> rather than the locale of the page,
</I>
Well that's certainly at least _one_ of the problems. And we might ask 
whether a browser should use the _system_ settings, as they should probably 
be expected to best reflect the user's real preferences.

&gt;<i> Thus, it would be safer to compute the language of the input element,
</I>
In practical terms, no. We know that authors generally fail to specify the 
content language or have it mis-specified (typically, as English 
irrespective of the real language) by authoring software.

&gt;<i> treat the language as a locale
</I>
Mapping languages to locales is a guessing game, in addition to all the 
other problems involved.

The problems look rather complicated, but at least I now understand the 
issue better.

-- 
Yucca, <A HREF="http://www.cs.tut.fi/~jkorpela/">http://www.cs.tut.fi/~jkorpela/</A> 


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073553.html">[whatwg] Decimal comma in numeric input
</A></li>
	<LI>Next message: <A HREF="073527.html">[whatwg] Decimal comma in numeric input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73526">[ date ]</a>
              <a href="thread.html#73526">[ thread ]</a>
              <a href="subject.html#73526">[ subject ]</a>
              <a href="author.html#73526">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
