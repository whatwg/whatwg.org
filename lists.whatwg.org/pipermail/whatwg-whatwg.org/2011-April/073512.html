<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas.getContext error handling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas.getContext%20error%20handling&In-Reply-To=%3CBANLkTi%3DYM_fq%3DT2MRBEtbwZ%2Bh8xzPjZ5-g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073500.html">
   <LINK REL="Next"  HREF="073518.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas.getContext error handling</H1>
<!--htdig_noindex-->
    <B>Kenneth Russell</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas.getContext%20error%20handling&In-Reply-To=%3CBANLkTi%3DYM_fq%3DT2MRBEtbwZ%2Bh8xzPjZ5-g%40mail.gmail.com%3E"
       TITLE="[whatwg] Canvas.getContext error handling">kbr at google.com
       </A><BR>
    <I>Wed Apr 13 13:21:50 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073500.html">[whatwg] Canvas.getContext error handling
</A></li>
        <LI>Next message: <A HREF="073518.html">[whatwg] Canvas.getContext error handling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73512">[ date ]</a>
              <a href="thread.html#73512">[ thread ]</a>
              <a href="subject.html#73512">[ subject ]</a>
              <a href="author.html#73512">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Apr 12, 2011 at 4:32 PM, Glenn Maynard &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">glenn at zewt.org</A>&gt; wrote:
&gt;<i> Based on some discussion[1], it looks like a clean way to handle the
</I>&gt;<i> &quot;permanent failure&quot; case is: If the GPU is blacklisted, or any other
</I>&gt;<i> permanent error occurs, treat &quot;webgl&quot; as an unsupported context. &#160;This means
</I>&gt;<i> instead of WebGL's context creation algorithm executing and returning null,
</I>&gt;<i> it would never be run at all; instead, step 2 of getContext[2] would return
</I>&gt;<i> null.
</I>&gt;<i>
</I>&gt;<i> For transient errors, eg. too many open contexts, return a WebGL context in
</I>&gt;<i> the &quot;lost&quot; state as Kenneth described.
</I>&gt;<i>
</I>&gt;<i> It was mentioned that the GPU blacklist can change as the browser runs.
</I>&gt;<i> That's supported with this method, since whether a context type is
</I>&gt;<i> &quot;supported&quot; or not can change over time.
</I>&gt;<i>
</I>&gt;<i> Are there any cases where this wouldn't work?
</I>&gt;<i>
</I>&gt;<i> (I'm not sure if or how webglcontextcreationerror fits in this. &#160;It would
</I>&gt;<i> either go away entirely, or be wedged between steps 1 and 2 of getContext; I
</I>&gt;<i> don't know how WebGL would specify that.)
</I>
Thanks for the pointer to the IRC logs. It looks like it was a useful
discussion.

It's essential to be able to report more detail about why context
creation failed. We have already received a lot of feedback from users
and developers of popular projects like Google Body that doing so will
reduce end user frustration and provide them a path toward getting the
content to work.

At a minimum, we need to either continue to allow the generation of
webglcontextcreationerror at some point during the getContext() call,
throw an exception from getContext() in this case, or do something
else. Do you have a suggestion on which way to proceed?

-Ken

&gt;<i> [1] <A HREF="http://krijnhoetmer.nl/irc-logs/whatwg/20110413#l-77">http://krijnhoetmer.nl/irc-logs/whatwg/20110413#l-77</A>
</I>&gt;<i> [2]
</I>&gt;<i> <A HREF="http://dev.w3.org/html5/spec/the-canvas-element.html#dom-canvas-getcontext">http://dev.w3.org/html5/spec/the-canvas-element.html#dom-canvas-getcontext</A>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Glenn Maynard
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073500.html">[whatwg] Canvas.getContext error handling
</A></li>
	<LI>Next message: <A HREF="073518.html">[whatwg] Canvas.getContext error handling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73512">[ date ]</a>
              <a href="thread.html#73512">[ thread ]</a>
              <a href="subject.html#73512">[ subject ]</a>
              <a href="author.html#73512">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
