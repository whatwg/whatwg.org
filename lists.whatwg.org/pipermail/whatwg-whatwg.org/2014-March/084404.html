<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Supporting more address levels in autocomplete
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Supporting%20more%20address%20levels%20in%20autocomplete&In-Reply-To=%3Calpine.DEB.2.00.1403050019160.31525%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084403.html">
   <LINK REL="Next"  HREF="084409.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Supporting more address levels in autocomplete</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Supporting%20more%20address%20levels%20in%20autocomplete&In-Reply-To=%3Calpine.DEB.2.00.1403050019160.31525%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Supporting more address levels in autocomplete">ian at hixie.ch
       </A><BR>
    <I>Tue Mar  4 16:39:54 PST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="084403.html">[whatwg] Supporting more address levels in autocomplete
</A></li>
        <LI>Next message: <A HREF="084409.html">[whatwg] Supporting more address levels in autocomplete
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84404">[ date ]</a>
              <a href="thread.html#84404">[ thread ]</a>
              <a href="subject.html#84404">[ subject ]</a>
              <a href="author.html#84404">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 4 Mar 2014, Evan Stade wrote:
&gt;<i> On Tue, Mar 4, 2014 at 3:41 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;address-line1&quot; |
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;address-line2&quot; |- &quot;street-address&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;address-line3&quot; |
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;address-level4&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;address-level3&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;address-level2&quot; / &quot;locality&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;address-level1&quot; / &quot;region&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;country-name&quot;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; This could work. It has the synonym issue (having multiple fields 
</I>&gt;<i> &gt; &gt; &gt; that mean the same thing is often the source of confusion).
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Or we could do:
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;address-line1&quot; |
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;address-line2&quot; |- &quot;street-address&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;address-line3&quot; |
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;subsublocality&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;sublocality&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;locality&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;region&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;country-name&quot;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; This could work. It avoids the synonym problem.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Yes, this alternative works, but in my opinion is not preferable.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Can you elaborate on why this would be worse than the version with 
</I>&gt;<i> &gt; synonyms?
</I>&gt;<i> 
</I>&gt;<i> Because these words don't really mean anything. From our initial 
</I>&gt;<i> proposal:
</I>&gt;<i> 
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i> Compared to the alternative of adding another one-off such as
</I>&gt;<i> &#8220;dependent-locality&#8221; or &#8220;sub-locality&#8221;, we feel this is a more
</I>&gt;<i> descriptive and general way to tackle additional administrative levels
</I>&gt;<i> without making false implications about the semantics of the value
</I>&gt;<i> that is returned.
</I>&gt;<i> &quot;&quot;&quot;
</I>
I don't understand how &quot;sublocality&quot; makes any more implications, or has 
any less descriptive value, than &quot;address-level3&quot;. Can you elaborate on 
this? They all seem quite neutral (basically empty of meaning) to me.


&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;address-line1&quot; |
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;address-line2&quot; |- &quot;street-address&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;address-line3&quot; |
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;locality&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;subsubregion&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;subregion&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;region&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;    &quot;country-name&quot;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; This _could_ work, but it seems a bit weirder than 
</I>&gt;<i> &gt; &gt; &gt; &quot;subsublocality&quot;.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; This would re-define locality, leading to cross-version 
</I>&gt;<i> &gt; &gt; incompatibilities.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; How so? Are people already depending on Chinese addresses' levels 1, 
</I>&gt;<i> &gt; 2, and 3 being mapped to region, locality, and nothing respectively?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The model with subsubregion does more closely match the specs' current 
</I>&gt;<i> &gt; descriptions of 'locality'.
</I>&gt;<i> 
</I>&gt;<i> I would argue that nothing in China reliably matches the spec's current 
</I>&gt;<i> definition of &quot;locality&quot;. That is, in one address, the description for 
</I>&gt;<i> &quot;locality&quot; matches address-level1, in others, address-level2, etc.
</I>
Right.


&gt;<i> In the US case, I think you're proposing that state would be &quot;region&quot; 
</I>&gt;<i> and city would be &quot;locality&quot;. Then I think it's quite likely that a 
</I>&gt;<i> developer assumes the intermediate levels like &quot;subregion&quot; would map to 
</I>&gt;<i> county, which they don't because county is an administrative region 
</I>&gt;<i> irrelevant to addresses. So I would like to keep region and locality 
</I>&gt;<i> right next to each other in all cases. But again, since these names 
</I>&gt;<i> don't really make sense everywhere, just using indexing is the least 
</I>&gt;<i> confusing IMO.
</I>
I don't understand why you think authors will think they need to include 
&quot;subregion&quot;, but won't think they need to include &quot;address-level3&quot;.


&gt;<i> &gt; &gt; &gt; You still need to know how to render them when printing the label, 
</I>&gt;<i> &gt; &gt; &gt; even with requestAutocomplete(). It really does seem like we 
</I>&gt;<i> &gt; &gt; &gt; should either document this order, or point to documentation on 
</I>&gt;<i> &gt; &gt; &gt; the topic. Are there Web pages out there that provide sufficient 
</I>&gt;<i> &gt; &gt; &gt; information to do this?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; No, you don't need to know. You use the (not yet spec'd) 
</I>&gt;<i> &gt; &gt; &quot;display-address&quot;/&quot;address-blob&quot;/&quot;complete-address&quot; token that was 
</I>&gt;<i> &gt; &gt; mentioned up-thread.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Why are we ok with getting a multiline text field from the user in 
</I>&gt;<i> &gt; this case but not without requestAutocomplete()?
</I>&gt;<i> 
</I>&gt;<i> requestAutocomplete would indeed respect this token just as it respects 
</I>&gt;<i> other autocomplete tokens. You could use the multiline text field with 
</I>&gt;<i> requestAutocomplete if that's how you desired to receive the address 
</I>&gt;<i> data (and you could use it in addition to the tokenized format). This 
</I>&gt;<i> would not affect the UI of requestAutocomplete though (at least not in 
</I>&gt;<i> Chrome's case).
</I>
That doesn't really answer the question. Why would we bother with all 
these fields if we could just use a &lt;textarea&gt; for the whole address? How 
does requestAutocomplete() change things?


&gt;<i> &gt; &gt; &gt; &gt; I'm not married to the address-levelN name. 
</I>&gt;<i> &gt; &gt; &gt; &gt; [something-that-makes- sense]N is fine.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; The reason I'm being a bit reluctant to embrace address-level* is 
</I>&gt;<i> &gt; &gt; &gt; that it's so close to address-line*.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; OK. To tell the truth I think address-line1 should probably be 
</I>&gt;<i> &gt; &gt; street-address-line1. Would that help clear up the confusion?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Isn't it too late to change the names of the already established ones?
</I>&gt;<i> 
</I>&gt;<i> address-line1 could be left around for a while (or eternity) for 
</I>&gt;<i> backwards-compat, while being removed from the spec, no? We're not 
</I>&gt;<i> replacing it with something new. But I'm fuzzy on the best practices 
</I>&gt;<i> here.
</I>
Having synonyms is really bad. It leads to huge amounts of confusion. This 
is why I'm trying to avoid having synonyms for the address-level* stuff. 
We should definitely not add some just to introduce a slightly better name.


&gt;<i> &gt; &gt; &gt; &gt; The reason we went with proposing address-levelN is because 
</I>&gt;<i> &gt; &gt; &gt; &gt; region-levelN implies that all political regions are captured, 
</I>&gt;<i> &gt; &gt; &gt; &gt; when they aren't. There's no field for US county because county 
</I>&gt;<i> &gt; &gt; &gt; &gt; is never part of an address. So it's only for regions that 
</I>&gt;<i> &gt; &gt; &gt; &gt; actually make it onto an envelope.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; I don't think the implication is that strong. In fact I'd argue 
</I>&gt;<i> &gt; &gt; &gt; it's the other way around -- the implication is that this is for 
</I>&gt;<i> &gt; &gt; &gt; addresses, not generic regions.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; You think region-levelN more strongly implies &quot;only regions relevant 
</I>&gt;<i> &gt; &gt; to addresses&quot; than address-levelN does?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Just the way that this is all about addresses is what I think implies 
</I>&gt;<i> &gt; that the fields are about addresses.
</I>&gt;<i> 
</I>&gt;<i> Well, there are other location APIs (like the Google Geocoding API) 
</I>&gt;<i> which are not about addresses, so they include things that don't go on 
</I>&gt;<i> envelopes. This almost-analogous API could cause confusion.
</I>&gt;<i> 
</I>&gt;<i> Also, not all of autocomplete is related to addresses, e.g. date of 
</I>&gt;<i> birth, gender, etc. AFAIU, autocomplete is just about data that the user 
</I>&gt;<i> has to fill in frequently. So I imagine it's not always perfectly clear 
</I>&gt;<i> to a new developer that this is specifically addresses, as opposed to 
</I>&gt;<i> generic geolocation. Maybe they mistakenly try to use it to get the 
</I>&gt;<i> user's geolocation in political terms, rather than coordinates?
</I>
The other fields in the same gorup include things like &quot;street-address&quot; 
and &quot;postal-code&quot;. Things like &quot;bday&quot; and &quot;sex&quot; are in a different group.

But sure, I'll grant you that authors might get confused.


&gt;<i> &gt; I think the arguments you've presented so far suggest &quot;address-levelN&quot; 
</I>&gt;<i> &gt; for N=1..4, with 4=region and 3=locality, is probably the simplest 
</I>&gt;<i> &gt; thing to do. I was hoping there might be other people with opinions, 
</I>&gt;<i> &gt; to give us different perspectives on this, but it seems nobody else 
</I>&gt;<i> &gt; cares. :-(
</I>&gt;<i> 
</I>&gt;<i> Again, that's backwards from what we're proposing.
</I>
Sorry, I got the numbers wrong by mistake. I really do think this 
numbering scheme is confusing...


&gt;<i> Why is that better than 1=region, 2=locality, except to a US-centric 
</I>&gt;<i> viewpoint? This would lead to a weird situation where (a) you couldn't 
</I>&gt;<i> expand past 4 levels without changing the meaning of previous levels and 
</I>&gt;<i> (b) a country such as the US would have address-level4 and 
</I>&gt;<i> address-level3 but no address-level2 or address-level1.
</I>
Well, at least as far as (a) goes, we have no way to know where 
governments are going to introduce new levels. Who's to say that the US 
won't introduce something between states and towns? This problem exists 
whatever we do. Maybe the US and the EU will merge and there'll be a new 
field between &quot;country-name&quot; and &quot;region&quot;. Who knows.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084403.html">[whatwg] Supporting more address levels in autocomplete
</A></li>
	<LI>Next message: <A HREF="084409.html">[whatwg] Supporting more address levels in autocomplete
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84404">[ date ]</a>
              <a href="thread.html#84404">[ thread ]</a>
              <a href="subject.html#84404">[ subject ]</a>
              <a href="author.html#84404">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
