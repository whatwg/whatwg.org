<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] inverse property mechanism for Microdata?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20inverse%20property%20mechanism%20for%20Microdata%3F&In-Reply-To=%3CCAK-qy%3D6_ZQ5NCxVSqHraa-Lc1P88vY8BpuacLbj3_QyFpG5jnQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084533.html">
   <LINK REL="Next"  HREF="084539.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] inverse property mechanism for Microdata?</H1>
<!--htdig_noindex-->
    <B>Dan Brickley</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20inverse%20property%20mechanism%20for%20Microdata%3F&In-Reply-To=%3CCAK-qy%3D6_ZQ5NCxVSqHraa-Lc1P88vY8BpuacLbj3_QyFpG5jnQ%40mail.gmail.com%3E"
       TITLE="[whatwg] inverse property mechanism for Microdata?">danbri at google.com
       </A><BR>
    <I>Mon Mar 17 13:00:42 PDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="084533.html">[whatwg] Proposal: Locale Preferences API
</A></li>
        <LI>Next message: <A HREF="084539.html">[whatwg] inverse property mechanism for Microdata?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84534">[ date ]</a>
              <a href="thread.html#84534">[ thread ]</a>
              <a href="subject.html#84534">[ subject ]</a>
              <a href="author.html#84534">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Ian, HTML people,

On 31 January 2014 23:45, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i> On Fri, 31 Jan 2014, Dan Brickley wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We'd (schema.org 'we') like to make a public proposal to update
</I>&gt;&gt;<i> Microdata with a syntax for expressing inverse properties/relationships.
</I>&gt;&gt;<i> [...]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Here's an example with 'containedIn'. The idea is that we want to
</I>&gt;&gt;<i> express that the LocalBusiness (i.e. Place) Entity B is 'containedIn'
</I>&gt;&gt;<i> Entity A. The example I show here expresses the reverse, incorrectly. So
</I>&gt;&gt;<i> we're looking for a change to the markup that would turn this example
</I>&gt;&gt;<i> into one that said &quot;The LocalBusiness Entity B is containedIn the
</I>&gt;&gt;<i> LocalBusiness Entity A&quot;:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;div itemscope itemtype=&quot;<A HREF="http://schema.org/LocalBusiness">http://schema.org/LocalBusiness</A>&quot;&gt;
</I>&gt;&gt;<i>   &lt;h1&gt;&lt;span itemprop=&quot;name&quot;&gt;(Entity A) Beachwalk Beachwear &amp;
</I>&gt;&gt;<i>   Giftware&lt;/span&gt;&lt;/h1&gt;
</I>&gt;&gt;<i>   &lt;span itemprop=&quot;description&quot;&gt; A superb collection of fine gifts and clothing
</I>&gt;&gt;<i>   to accent your stay in Mexico Beach.&lt;/span&gt;
</I>&gt;&gt;<i>   Phone: &lt;span itemprop=&quot;telephone&quot;&gt;850-648-4200&lt;/span&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   &lt;div itemprop=&quot;containedIn&quot; itemscope
</I>&gt;&gt;<i>        itemtype=&quot;<A HREF="http://schema.org/LocalBusiness">http://schema.org/LocalBusiness</A>&quot;&gt;
</I>&gt;&gt;<i>     &lt;h2&gt;&lt;span itemprop=&quot;name&quot;&gt;(Entity B) The tiny store within a
</I>&gt;&gt;<i>     store&lt;/span&gt;&lt;/h2&gt;
</I>&gt;&gt;<i>     &lt;span itemprop=&quot;description&quot;&gt; A superb collection of tiny clothes,
</I>&gt;&gt;<i>     from the store within the store.&lt;/span&gt;
</I>&gt;&gt;<i>     Phone: &lt;span itemprop=&quot;telephone&quot;&gt;123-456-7890&lt;/span&gt;
</I>&gt;&gt;<i>   &lt;/div&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;/div&gt;
</I>&gt;<i>
</I>&gt;<i> This is actually possible today:
</I>&gt;<i>
</I>&gt;<i>  &lt;div itemscope itemtype=&quot;<A HREF="http://schema.org/LocalBusiness">http://schema.org/LocalBusiness</A>&quot;
</I>&gt;<i>       id=a itemprop=&quot;containedIn&quot;&gt;
</I>&gt;<i>    &lt;h1&gt;&lt;span itemprop=&quot;name&quot;&gt;(Entity A) Beachwalk Beachwear &amp;
</I>&gt;<i>    Giftware&lt;/span&gt;&lt;/h1&gt;
</I>&gt;<i>    &lt;span itemprop=&quot;description&quot;&gt; A superb collection of fine gifts and clothing
</I>&gt;<i>    to accent your stay in Mexico Beach.&lt;/span&gt;
</I>&gt;<i>    Phone: &lt;span itemprop=&quot;telephone&quot;&gt;850-648-4200&lt;/span&gt;
</I>&gt;<i>
</I>&gt;<i>    &lt;div itemscope itemref=a itemtype=&quot;<A HREF="http://schema.org/LocalBusiness">http://schema.org/LocalBusiness</A>&quot;&gt;
</I>&gt;<i>      &lt;h2&gt;&lt;span itemprop=&quot;name&quot;&gt;(Entity B) The tiny store within a
</I>&gt;<i>      store&lt;/span&gt;&lt;/h2&gt;
</I>&gt;<i>      &lt;span itemprop=&quot;description&quot;&gt; A superb collection of tiny clothes,
</I>&gt;<i>      from the store within the store.&lt;/span&gt;
</I>&gt;<i>      Phone: &lt;span itemprop=&quot;telephone&quot;&gt;123-456-7890&lt;/span&gt;
</I>&gt;<i>    &lt;/div&gt;
</I>&gt;<i>
</I>&gt;<i>  &lt;/div&gt;
</I>&gt;<i>
</I>&gt;<i> The trick here is to turn the inner item into the top-level microdata
</I>&gt;<i> item, and use itemref=&quot;&quot; to have that inner item point to the outer item.
</I>
You're right; it is indeed possible. However it is perhaps a little
too clever. I've tried it on a few colleagues, and it didn't 'click'
with anyone yet.

We discussed this (and the -inv suggestion) at schema.org again, and
the consensus there was that we'd like to have the search engines
proceed with accepting an experimental/proposed 'inverse itemprop'
attribute, rather than work around its absence.


&gt;<i> (This works great unless you want two items to refer to the same third
</I>&gt;<i> item using different properties, but that's something microdata can't do
</I>&gt;<i> in general, since it's based on a tree structure, not a graph structure.
</I>&gt;<i> To address that particular problem, you need a vocabulary that defines
</I>&gt;<i> how itemid=&quot;&quot; works; at that point, you can just have the same underlying
</I>&gt;<i> item represented as multiple microdata items in the document by having all
</I>&gt;<i> the items share the same ID. But how exactly that is to be interpreted is
</I>&gt;<i> something the vocabulary has to define.)
</I>&gt;<i>
</I>&gt;&gt;<i> One response is that the markup could be reorganized.
</I>&gt;<i>
</I>&gt;<i> That's basically what the above does, but without moving the elements
</I>&gt;<i> around in the DOM. (itemref=&quot;&quot; is basically all about making the microdata
</I>&gt;<i> model work around constraints coming from the author's preferred DOM.)
</I>
(Yup.)


&gt;&gt;<i> Another reasonable response to this is 'well, perhaps you should have a
</I>&gt;&gt;<i> property (instead or in addition) called &quot;geospatiallyContains&quot;, or
</I>&gt;&gt;<i> &quot;containerOf&quot; or &quot;contains&quot;, or &quot;rev_containedIn&quot; for this usage
</I>&gt;&gt;<i> scenario'?
</I>&gt;<i>
</I>&gt;<i> That is another option, similar to the parenthetical itemid=&quot;&quot; note above
</I>&gt;<i> -- you could just have the vocabulary define that for every property whose
</I>&gt;<i> value is an item, the item type that that property can point to has
</I>&gt;<i> another property with the same name plus a fixed suffix, like &quot;-inv&quot;, that
</I>&gt;<i> inverses the relationship. That would make the above look like:
</I>&gt;<i>
</I>&gt;<i>  &lt;div itemscope itemtype=&quot;<A HREF="http://schema.org/LocalBusiness">http://schema.org/LocalBusiness</A>&quot;&gt;
</I>&gt;<i>    &lt;h1&gt;&lt;span itemprop=&quot;name&quot;&gt;(Entity A) Beachwalk Beachwear &amp;
</I>&gt;<i>    Giftware&lt;/span&gt;&lt;/h1&gt;
</I>&gt;<i>    &lt;span itemprop=&quot;description&quot;&gt; A superb collection of fine gifts and clothing
</I>&gt;<i>    to accent your stay in Mexico Beach.&lt;/span&gt;
</I>&gt;<i>    Phone: &lt;span itemprop=&quot;telephone&quot;&gt;850-648-4200&lt;/span&gt;
</I>&gt;<i>
</I>&gt;<i>    &lt;div itemprop=&quot;containedIn-inv&quot;
</I>&gt;<i>         itemscope itemtype=&quot;<A HREF="http://schema.org/LocalBusiness">http://schema.org/LocalBusiness</A>&quot;&gt;
</I>&gt;<i>      &lt;h2&gt;&lt;span itemprop=&quot;name&quot;&gt;(Entity B) The tiny store within a
</I>&gt;<i>      store&lt;/span&gt;&lt;/h2&gt;
</I>&gt;<i>      &lt;span itemprop=&quot;description&quot;&gt; A superb collection of tiny clothes,
</I>&gt;<i>      from the store within the store.&lt;/span&gt;
</I>&gt;<i>      Phone: &lt;span itemprop=&quot;telephone&quot;&gt;123-456-7890&lt;/span&gt;
</I>&gt;<i>    &lt;/div&gt;
</I>&gt;<i>  &lt;/div&gt;
</I>
This is easier to understand than itemref, but still involves creating
100s of additional properties instead of just one new piece of syntax.

&gt;&gt;<i> We have tried this and in a few cases we have included pairs of inverse
</I>&gt;&gt;<i> properties in schema.org, e.g. we have &quot;alumni&quot; and an inverse,
</I>&gt;&gt;<i> &quot;alumniOf&quot;.  In designing schemas we have found it consistently hard to
</I>&gt;&gt;<i> get even a single natural/intuitive name for each property, and finding
</I>&gt;&gt;<i> a good name for the inverse of each makes the task even heavier.
</I>&gt;&gt;<i> Appending &quot;Of&quot; (or other fixed suffix) doesn't always work well; e.g.
</I>&gt;&gt;<i> &quot;containedIn&quot; / &quot;containedInOf&quot; barely makes sense.
</I>&gt;<i>
</I>&gt;<i> Yeah, you'd have to just pick a suffix like &quot;-inv&quot; or a prefix like &quot;rev-&quot;
</I>&gt;<i> or something that doesn't attempt to give a good English meaning. The
</I>&gt;<i> advantage of doing that is that you could then define this for the
</I>&gt;<i> vocabulary generically, and process it generically, rather than having to
</I>&gt;<i> actually define and support each individual property.
</I>
That's the motivation for asking for an inverse itemprop syntax; it
could be used to process data for all vocabularies generically without
introducing hundreds of unwanted new properties. We'd like to avoid
things like &quot;alumni-inv&quot; leaking into JSON-LD usage, since JSON-LD has
an inverse property notation that can be used directly with the
&quot;alumni&quot; property.

Would a data- attribute be an appropriate way to indicate an
experimental/proposed attribute? And then if it works out well perhaps
a real microdata attribute could be added later? e.g.
data-itemprop-inverse=&quot;alumni&quot; ...

Dan

&gt;<i> HTH,
</I>&gt;<i> --
</I>&gt;<i> Ian Hickson               U+1047E                )\._.,--....,'``.    fL
</I>&gt;<i> <A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
</I>&gt;<i> Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</I>
</PRE>











<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084533.html">[whatwg] Proposal: Locale Preferences API
</A></li>
	<LI>Next message: <A HREF="084539.html">[whatwg] inverse property mechanism for Microdata?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84534">[ date ]</a>
              <a href="thread.html#84534">[ thread ]</a>
              <a href="subject.html#84534">[ subject ]</a>
              <a href="author.html#84534">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
