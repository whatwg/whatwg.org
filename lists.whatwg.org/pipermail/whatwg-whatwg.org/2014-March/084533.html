<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal: Locale Preferences API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20Locale%20Preferences%20API&In-Reply-To=%3Calpine.DEB.2.00.1403171844130.32463%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084526.html">
   <LINK REL="Next"  HREF="084534.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal: Locale Preferences API</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20Locale%20Preferences%20API&In-Reply-To=%3Calpine.DEB.2.00.1403171844130.32463%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Proposal: Locale Preferences API">ian at hixie.ch
       </A><BR>
    <I>Mon Mar 17 11:49:10 PDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="084526.html">[whatwg] Notifications: createTime property
</A></li>
        <LI>Next message: <A HREF="084534.html">[whatwg] inverse property mechanism for Microdata?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84533">[ date ]</a>
              <a href="thread.html#84533">[ thread ]</a>
              <a href="subject.html#84533">[ subject ]</a>
              <a href="author.html#84533">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 17 Dec 2013, Mark Callow wrote:
&gt;<i> &gt; On 2013/10/15 6:24, Marcos Caceres wrote:
</I>&gt;<i> &gt;&gt; On Friday, July 26, 2013 at 8:14 PM, Marcos Caceres wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; This document proposes an extension to HTML's `Navigator` interface 
</I>&gt;<i> &gt;&gt;&gt; to enable dynamic localization of content. The idea is to expose to 
</I>&gt;<i> &gt;&gt;&gt; script the language tags that represents the user's locale 
</I>&gt;<i> &gt;&gt;&gt; preferences (akin to the language tags that are normally sent with 
</I>&gt;<i> &gt;&gt;&gt; HTTP's `Accept-Languages` header).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; My question is &quot;will anyone use it?&quot; In my experience most web sites 
</I>&gt;<i> &gt; ignore the Accept-Languages header. I am continually being served 
</I>&gt;<i> &gt; pages in Japanese even though English is the top language in my accept 
</I>&gt;<i> &gt; list.
</I>
It's a good question.


&gt;<i> &gt; There are only two reasons I can think of for this happening:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;   * sites are choosing the language based on the location of my IP
</I>&gt;<i> &gt;     address.
</I>
This is almost certainly the cause.


&gt;<i> &gt;   * sites are choosing the language based on my OS locale setting.
</I>&gt;<i> &gt;     though I'm pretty sure I've been served Japanese pages on systems
</I>&gt;<i> &gt;     where it is not set to JA plus I don't know if that is visible to
</I>&gt;<i> &gt;     either server or application.
</I>
I don't think this is visible to the page currently, except indirectly 
via navigator.language, so if your browser is configured to only report 
English, that's all the page should see.


The feature requested in this thread did end up being added to the spec:

   <A HREF="http://whatwg.org/html#language-preferences">http://whatwg.org/html#language-preferences</A>

It's basically just an array version of navigator.language, and the spec 
suggests using the same list as for Accept-Language, so it doesn't really 
provide anything new, it's just more convenient.

It's true that Accept-Language doesn't seem to have been widely used. The 
feature was primarily added due to requests from implementors. I don't 
know what we can do to cause authors to rely on this API and its siblings 
rather than on IP geolocation.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>











<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084526.html">[whatwg] Notifications: createTime property
</A></li>
	<LI>Next message: <A HREF="084534.html">[whatwg] inverse property mechanism for Microdata?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84533">[ date ]</a>
              <a href="thread.html#84533">[ thread ]</a>
              <a href="subject.html#84533">[ subject ]</a>
              <a href="author.html#84533">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
