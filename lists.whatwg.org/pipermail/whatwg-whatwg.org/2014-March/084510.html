<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Promise-vending loaded() &amp; ready() methods on	various	elements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Promise-vending%20loaded%28%29%20%26%20ready%28%29%20methods%20on%0A%09various%09elements&In-Reply-To=%3C2c5c24cc6c394122a8e244f2fc226d45%40BN1PR05MB325.namprd05.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084509.html">
   <LINK REL="Next"  HREF="084516.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Promise-vending loaded() &amp; ready() methods on	various	elements</H1>
<!--htdig_noindex-->
    <B>Domenic Denicola</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Promise-vending%20loaded%28%29%20%26%20ready%28%29%20methods%20on%0A%09various%09elements&In-Reply-To=%3C2c5c24cc6c394122a8e244f2fc226d45%40BN1PR05MB325.namprd05.prod.outlook.com%3E"
       TITLE="[whatwg] Promise-vending loaded() &amp; ready() methods on	various	elements">domenic at domenicdenicola.com
       </A><BR>
    <I>Fri Mar 14 18:10:09 PDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="084509.html">[whatwg] Promise-vending loaded() &amp; ready() methods on various	elements
</A></li>
        <LI>Next message: <A HREF="084516.html">[whatwg] Promise-vending loaded() &amp; ready() methods on various	elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84510">[ date ]</a>
              <a href="thread.html#84510">[ thread ]</a>
              <a href="subject.html#84510">[ subject ]</a>
              <a href="author.html#84510">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>There is no such thing as &quot;DOM promises&quot;.
________________________________
From: Kyle Simpson&lt;mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">getify at gmail.com</A>&gt;
Sent: &#8206;3/&#8206;14/&#8206;2014 20:35
To: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>&lt;mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>&gt;
Subject: Re: [whatwg] Promise-vending loaded() &amp; ready() methods on various elements

I'd also like to make the observation that putting &lt;link rel=preload&gt;.loaded() together with &lt;script&gt;.loaded(), and indeed needing a promise mechanism to wire it altogether, is a fair bit more complicated than the initial proposals for script preloading use-cases from the earlier threads over the last few years of this list.

For one, we're talking about twice as many DOM elements. For another, there's a seemingly implicit requirement that we have to get both ES6 promises and DOM promises to land for these suggested approaches to work. I don't know if that's already a guarantee or if there are some browsers which are possibly going to land DOM promises before ES6 promises? If so, ES6 promises become the long pole, which isn't ideal.

Lastly, I'd observe that many of the arguments against the original/previous script preloading proposals were heavily weighted towards &quot;we don't like script loaders, we want to make them obsolete, we need simple enough (declarative markup) mechanisms for that stuff so as to make script loaders pointless&#8230;&quot;

At one point the conversation shifted towards ServiceWorker as being &quot;the answer&quot;. When we explored the use cases, it was my impression there was still a fair amount of non-trivial code logic to perform these different loading cases with SW, which means for the general user to take advantage of such use-cases, they're almost certainly going to need some library to do it.

I can't imagine most end-users writing the previously-suggested ServiceWorker code, and I'm having a hard time believing that they'd alternatively be writing this newly suggested promises-based loading logic all over their pages. In either case, I think for many of the use-cases to be handled, most general users will need to use some script-loader lib.

So, if this .loaded() DOM promises thing isn't the silver bullet that gets us to &quot;no script loader utopia&quot;, then I don't see why it's demonstrably better than the simpler earlier proposals.

Moreover, the earlier proposals relied on the browser having logic built-in to handle stuff like &quot;download in parallel, execute serially&quot;, which made their interface (the surface area users needed to work with) much less than either the Promises here or the ServiceWorker before.

What you're implicitly suggesting with both sets of suggestions is, let's make the user do the more complicated logic to wire things together, instead of the browser doing it. Why?

Why isn't putting preloading into existing &lt;script&gt; elements (whether exposed by events or by promises) better than splitting it out into a separate element (&lt;link rel=preload&gt;) and requiring a third mechanism (promises) to wire them up?

----------------

Is there any chance we could take a fresh look at the earlier proposals (putting both preloading and loading/exec into &lt;script&gt;), and perhaps freshen them up with promises instead of events?




--Kyle












</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084509.html">[whatwg] Promise-vending loaded() &amp; ready() methods on various	elements
</A></li>
	<LI>Next message: <A HREF="084516.html">[whatwg] Promise-vending loaded() &amp; ready() methods on various	elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84510">[ date ]</a>
              <a href="thread.html#84510">[ thread ]</a>
              <a href="subject.html#84510">[ subject ]</a>
              <a href="author.html#84510">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
