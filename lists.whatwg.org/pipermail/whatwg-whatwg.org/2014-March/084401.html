<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Supporting more address levels in autocomplete
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Supporting%20more%20address%20levels%20in%20autocomplete&In-Reply-To=%3Calpine.DEB.2.00.1403042310330.31525%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084400.html">
   <LINK REL="Next"  HREF="084403.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Supporting more address levels in autocomplete</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Supporting%20more%20address%20levels%20in%20autocomplete&In-Reply-To=%3Calpine.DEB.2.00.1403042310330.31525%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Supporting more address levels in autocomplete">ian at hixie.ch
       </A><BR>
    <I>Tue Mar  4 15:41:47 PST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="084400.html">[whatwg] Supporting more address levels in autocomplete
</A></li>
        <LI>Next message: <A HREF="084403.html">[whatwg] Supporting more address levels in autocomplete
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84401">[ date ]</a>
              <a href="thread.html#84401">[ thread ]</a>
              <a href="subject.html#84401">[ subject ]</a>
              <a href="author.html#84401">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 4 Mar 2014, Evan Stade wrote:
&gt;<i> &gt;
</I>&gt;<i> &gt; I am not convinced it'd be that big a load (users generally know what 
</I>&gt;<i> &gt; parts of their addresses are required!). But in any case, if we're 
</I>&gt;<i> &gt; talking about mom-and-pop stores with a minimal load of international 
</I>&gt;<i> &gt; orders in the first place, it's likely that the customer service load 
</I>&gt;<i> &gt; would be pretty minimal.
</I>&gt;<i> 
</I>&gt;<i> Then why do so many sites bother to validate data as users input it?
</I>
I don't know. Cargo-cult? Given how poor a job many sites do of this, it's 
not clear to me that it's for helping with customer service. In fact, 
several times the validating has caused me to have to talk to customer 
service to get around their bogus validation.


&gt;<i> Country name is always at the end. When I put &quot;street address&quot; above, I 
</I>&gt;<i> meant it in the sense of &quot;all the lines of street address&quot;. Different 
</I>&gt;<i> countries have a different number of lines, but by definition they're 
</I>&gt;<i> always all next to each other --- the definition of address-line-N is 
</I>&gt;<i> &quot;the Nth line of the street address when it's formatted for display&quot;.
</I>
Why do we want street addresses in visual order but region components in 
logical order? Is it because in some address schemes the logical 
components end up on the same line with punctuation?


&gt;<i> &gt; If the layout difference is that great, we should seriously consider 
</I>&gt;<i> &gt; documenting that also.
</I>&gt;<i> 
</I>&gt;<i> I think it's outside the scope of the autocomplete spec, but there are 
</I>&gt;<i> libraries which to do this, such as libaddressinput, which provides a 
</I>&gt;<i> service to get formatting data for various coutnries. For example, the 
</I>&gt;<i> &quot;fmt&quot; portion of [1] tells you how to format US addresses. Chrome 
</I>&gt;<i> integrates libaddressinput into requestAutocomplete so web authors get 
</I>&gt;<i> this for free, but they could also use the service on their own if they 
</I>&gt;<i> didn't want to rely on requestAutocomplete.
</I>&gt;<i> 
</I>&gt;<i> [1] <A HREF="https://i18napis.appspot.com/ssl-address/data/US">https://i18napis.appspot.com/ssl-address/data/US</A>
</I>
Fair enough.


&gt;<i> &gt; &gt; &gt;    &quot;address-line1&quot; |
</I>&gt;<i> &gt; &gt; &gt;    &quot;address-line2&quot; |- &quot;street-address&quot;
</I>&gt;<i> &gt; &gt; &gt;    &quot;address-line3&quot; |
</I>&gt;<i> &gt; &gt; &gt;    &quot;address-level4&quot;
</I>&gt;<i> &gt; &gt; &gt;    &quot;address-level3&quot;
</I>&gt;<i> &gt; &gt; &gt;    &quot;address-level2&quot; / &quot;locality&quot;
</I>&gt;<i> &gt; &gt; &gt;    &quot;address-level1&quot; / &quot;region&quot;
</I>&gt;<i> &gt; &gt; &gt;    &quot;country-name&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This could work. It has the synonym issue (having multiple fields that
</I>&gt;<i> &gt; mean the same thing is often the source of confusion).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; Or we could do:
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;    &quot;address-line1&quot; |
</I>&gt;<i> &gt; &gt; &gt;    &quot;address-line2&quot; |- &quot;street-address&quot;
</I>&gt;<i> &gt; &gt; &gt;    &quot;address-line3&quot; |
</I>&gt;<i> &gt; &gt; &gt;    &quot;subsublocality&quot;
</I>&gt;<i> &gt; &gt; &gt;    &quot;sublocality&quot;
</I>&gt;<i> &gt; &gt; &gt;    &quot;locality&quot;
</I>&gt;<i> &gt; &gt; &gt;    &quot;region&quot;
</I>&gt;<i> &gt; &gt; &gt;    &quot;country-name&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This could work. It avoids the synonym problem.
</I>&gt;<i> 
</I>&gt;<i> Yes, this alternative works, but in my opinion is not preferable.
</I>
Can you elaborate on why this would be worse than the version with 
synonyms?


&gt;<i> &gt; &gt; &gt;    &quot;address-line1&quot; |
</I>&gt;<i> &gt; &gt; &gt;    &quot;address-line2&quot; |- &quot;street-address&quot;
</I>&gt;<i> &gt; &gt; &gt;    &quot;address-line3&quot; |
</I>&gt;<i> &gt; &gt; &gt;    &quot;locality&quot;
</I>&gt;<i> &gt; &gt; &gt;    &quot;subsubregion&quot;
</I>&gt;<i> &gt; &gt; &gt;    &quot;subregion&quot;
</I>&gt;<i> &gt; &gt; &gt;    &quot;region&quot;
</I>&gt;<i> &gt; &gt; &gt;    &quot;country-name&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This _could_ work, but it seems a bit weirder than &quot;subsublocality&quot;.
</I>&gt;<i> 
</I>&gt;<i> This would re-define locality, leading to cross-version 
</I>&gt;<i> incompatibilities.
</I>
How so? Are people already depending on Chinese addresses' levels 1, 2, 
and 3 being mapped to region, locality, and nothing respectively?

The model with subsubregion does more closely match the specs' current 
descriptions of 'locality'.


&gt;<i> Yes, but country-name is special: (a) it always comes at the end, (b) it 
</I>&gt;<i> always exists, (c) calling it &quot;country-name&quot; always makes sense, and (d) 
</I>&gt;<i> it controls the format of everything else. So I think it's desirable to 
</I>&gt;<i> make it separate from the sub-country region tokens.
</I>
Fair enough.


&gt;<i> &gt; You still need to know how to render them when printing the label, 
</I>&gt;<i> &gt; even with requestAutocomplete(). It really does seem like we should 
</I>&gt;<i> &gt; either document this order, or point to documentation on the topic. 
</I>&gt;<i> &gt; Are there Web pages out there that provide sufficient information to 
</I>&gt;<i> &gt; do this?
</I>&gt;<i> 
</I>&gt;<i> No, you don't need to know. You use the (not yet spec'd) 
</I>&gt;<i> &quot;display-address&quot;/&quot;address-blob&quot;/&quot;complete-address&quot; token that was 
</I>&gt;<i> mentioned up-thread.
</I>
Why are we ok with getting a multiline text field from the user in this 
case but not without requestAutocomplete()?

(I've filed <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=24935">https://www.w3.org/Bugs/Public/show_bug.cgi?id=24935</A> to track 
the multiline address field.)


&gt;<i> &gt; &gt; I'm not married to the address-levelN name. [something-that-makes- 
</I>&gt;<i> &gt; &gt; sense]N is fine.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The reason I'm being a bit reluctant to embrace address-level* is that 
</I>&gt;<i> &gt; it's so close to address-line*.
</I>&gt;<i> 
</I>&gt;<i> OK. To tell the truth I think address-line1 should probably be 
</I>&gt;<i> street-address-line1. Would that help clear up the confusion?
</I>
Isn't it too late to change the names of the already established ones?


&gt;<i> &gt; &gt; The reason we went with proposing address-levelN is because 
</I>&gt;<i> &gt; &gt; region-levelN implies that all political regions are captured, when 
</I>&gt;<i> &gt; &gt; they aren't. There's no field for US county because county is never 
</I>&gt;<i> &gt; &gt; part of an address. So it's only for regions that actually make it 
</I>&gt;<i> &gt; &gt; onto an envelope.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I don't think the implication is that strong. In fact I'd argue it's 
</I>&gt;<i> &gt; the other way around -- the implication is that this is for addresses, 
</I>&gt;<i> &gt; not generic regions.
</I>&gt;<i> 
</I>&gt;<i> You think region-levelN more strongly implies &quot;only regions relevant to 
</I>&gt;<i> addresses&quot; than address-levelN does?
</I>
Just the way that this is all about addresses is what I think implies that 
the fields are about addresses.


&gt;<i> Anyway, address-region-levelN, or something, is fine with me.
</I>
I think the arguments you've presented so far suggest &quot;address-levelN&quot; for 
N=1..4, with 4=region and 3=locality, is probably the simplest thing to 
do. I was hoping there might be other people with opinions, to give us 
different perspectives on this, but it seems nobody else cares. :-(

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084400.html">[whatwg] Supporting more address levels in autocomplete
</A></li>
	<LI>Next message: <A HREF="084403.html">[whatwg] Supporting more address levels in autocomplete
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84401">[ date ]</a>
              <a href="thread.html#84401">[ thread ]</a>
              <a href="subject.html#84401">[ subject ]</a>
              <a href="author.html#84401">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
