<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [2D Canvas] Do canvases in documents without a browsing context need to be rendered?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5B2D%20Canvas%5D%20Do%20canvases%20in%20documents%20without%20a%20browsing%0A%20context%20need%20to%20be%20rendered%3F&In-Reply-To=%3CCABpaAqQ2kY_vmeWmOWiwVP05GAbLUj%2BurLk9mOav0tdr%3DTnVAQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042117.html">
   <LINK REL="Next"  HREF="084426.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [2D Canvas] Do canvases in documents without a browsing context need to be rendered?</H1>
<!--htdig_noindex-->
    <B>Justin Novosad</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5B2D%20Canvas%5D%20Do%20canvases%20in%20documents%20without%20a%20browsing%0A%20context%20need%20to%20be%20rendered%3F&In-Reply-To=%3CCABpaAqQ2kY_vmeWmOWiwVP05GAbLUj%2BurLk9mOav0tdr%3DTnVAQ%40mail.gmail.com%3E"
       TITLE="[whatwg] [2D Canvas] Do canvases in documents without a browsing context need to be rendered?">junov at google.com
       </A><BR>
    <I>Mon Mar  3 09:57:28 PST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="042117.html">[whatwg] Effect on window.opener when navigating an existing window	using window.open
</A></li>
        <LI>Next message: <A HREF="084426.html">[whatwg] [2D Canvas] Do canvases in documents without a browsing context need to be rendered?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42118">[ date ]</a>
              <a href="thread.html#42118">[ thread ]</a>
              <a href="subject.html#42118">[ subject ]</a>
              <a href="author.html#42118">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hello whatwg,

Say you create a new document using
document.implementation.createHTMLDocument(), you get a document without a
browsing context. This means that style and layout will never be calculated
on the document.  Some of those calculations are context dependent, so they
can't even be resolved.  Now, what about canvas elements? If JS code draws
to a canvas that is in a document with no browsing context, what should
happen?  Should the draw calls produce pixels?  Even though the canvas is
not displayed, it can still be used as an image source. So technically, as
currently specified, such canvases should be rendered.  Drawing to a canvas
in a context-less document is unfortunately a little bit problematic
because some aspects of canvas painting (drawing text in particular) are
affected by the browsing context.  For example, there is no locale for font
family resolution and it is not possible to resolve font sizes in physical
length units unless the document is associated with a view.

My 2 cents: specifying fallback behaviors for all use cases that are
context dependent could be tedious and I have yet to see a real-world use
case that requires being able to paint a canvas in a frame-less document.
 Therefore, I think the spec should clearly state &lt;canvas&gt; elements that
are in a document without a browsing context are unusable.  Not sure what
the exact behavior should be though.  Should an exception be thrown upon
trying to use the rendering context? Perhaps canvas draws should fail
silently, and using the canvas as an image source should give transparent
black pixels?

Cheers,

    Justin
</PRE>

















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042117.html">[whatwg] Effect on window.opener when navigating an existing window	using window.open
</A></li>
	<LI>Next message: <A HREF="084426.html">[whatwg] [2D Canvas] Do canvases in documents without a browsing context need to be rendered?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42118">[ date ]</a>
              <a href="thread.html#42118">[ thread ]</a>
              <a href="subject.html#42118">[ subject ]</a>
              <a href="author.html#42118">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
