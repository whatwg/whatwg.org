<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Menus, fallback, and backwards compatibility: ideas wanted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Menus%2C%20fallback%2C%0A%20and%20backwards%20compatibility%3A%20ideas%20wanted&In-Reply-To=%3C438C4B6C.7050900%40lachy.id.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="047435.html">
   <LINK REL="Next"  HREF="047439.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Menus, fallback, and backwards compatibility: ideas wanted</H1>
<!--htdig_noindex-->
    <B>Lachlan Hunt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Menus%2C%20fallback%2C%0A%20and%20backwards%20compatibility%3A%20ideas%20wanted&In-Reply-To=%3C438C4B6C.7050900%40lachy.id.au%3E"
       TITLE="[whatwg] Menus, fallback, and backwards compatibility: ideas wanted">lachlan.hunt at lachy.id.au
       </A><BR>
    <I>Tue Nov 29 04:37:00 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="047435.html">[whatwg] Menus, fallback, and backwards compatibility: ideas wanted
</A></li>
        <LI>Next message: <A HREF="047439.html">[whatwg] Menus, fallback, and backwards compatibility: ideas wanted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47436">[ date ]</a>
              <a href="thread.html#47436">[ thread ]</a>
              <a href="subject.html#47436">[ subject ]</a>
              <a href="author.html#47436">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Matthew Raymond wrote:
&gt;<i> Lachlan Hunt wrote:
</I>&gt;&gt;<i> Ian Hickson wrote:
</I>&gt;&gt;&gt;<i> Pity about the &lt;menubar&gt; being necessary to get the &lt;select&gt; to disappear, 
</I>&gt;&gt;&gt;<i> but I guess we need that...
</I>&gt;<i> 
</I>&gt;<i>    If we must exclude the use of actual menu bars, I'd prefer the following:
</I>&gt;<i> 
</I>&gt;<i> | &lt;nav&gt;
</I>&gt;<i> |   &lt;form ...&gt;
</I>&gt;<i> |     &lt;menulabel&gt;
</I>&gt;<i> |       &lt;menu&gt;
</I>&gt;<i> |         &lt;select&gt;
</I>&gt;<i> |           ...
</I>&gt;<i> |         &lt;/select&gt;
</I>&gt;<i> |       &lt;/menu&gt;
</I>&gt;<i> |       &lt;button type=&quot;submit&quot; name=&quot;menu&quot;&gt;Foo&lt;/button&gt;
</I>&gt;<i> |     &lt;/menulabel&gt;
</I>&gt;<i> |   &lt;/form&gt;
</I>&gt;<i> | &lt;/nav&gt;
</I>
The &lt;menu&gt; element seems superfluous here.  I disagree with the use of 
the &lt;nav&gt; element because this isn't a navigational menu, it's a command 
menu.

&gt;<i>    I'm not sure I like the whole &lt;menubar&gt; scenario. With &lt;menulabel&gt; 
</I>&gt;<i> (as you will see below), certain child markup is ignored, whereas 
</I>&gt;<i> &lt;menubar&gt; is actually changing the semantics of the child markup. 
</I>&gt;<i> Overloading and selectively altering the semantics of elements should be 
</I>&gt;<i> avoided whenever possible.
</I>
I don't believe my suggestion was altering the semantics of any element. 
  The intention was the use the semantics of existing controls in a way 
that can rendered as a single widget that performs the functions of both 
(selection and submission) to achieve the submit-on-activation behaviour 
required, with a very good, accessible fallback mechanism in current UAs.

&gt;&gt;<i> &lt;label&gt;
</I>&gt;&gt;<i>    &lt;button for=&quot;foo&quot;&gt;Foo&lt;/button&gt;
</I>&gt;&gt;<i>    &lt;select id=&quot;foo&quot;&gt;
</I>&gt;&gt;<i>      ...
</I>&gt;&gt;<i>    &lt;/select&gt;
</I>&gt;&gt;<i> &lt;/label&gt;
</I>&gt;&gt;<i> ...
</I>&gt;<i> 
</I>&gt;<i>    If you interpret &lt;button&gt; as being a form control, then in the former
</I>&gt;<i> the &lt;label&gt; would be associated with the &lt;button&gt;, where in the latter
</I>&gt;<i> it would be associated with the select. Personally, though, I think this
</I>&gt;<i> makes more sense:
</I>&gt;<i> 
</I>&gt;<i> | &lt;label for=&quot;foo&quot;&gt;&lt;button&gt;Foo&lt;/button&gt;&lt;/label&gt;
</I>&gt;<i> | &lt;select id=&quot;foo&quot;&gt;
</I>&gt;<i> |   ...
</I>&gt;<i> | &lt;/select&gt;
</I>
Yes, but it loses any advantage gained (if there is/was any) by having a 
common parent element for the button and select elements.  However...

&gt;<i>    The &lt;button&gt; is not associated with the &lt;label&gt; because the |for|
</I>&gt;<i> attribute explicitly defines the association as being with the &lt;select&gt;.
</I>&gt;<i> Therefore, &lt;button&gt; can inherit the &lt;label&gt; association without adding a
</I>&gt;<i> |for| attribute to it.
</I>
What's the advantage of having the label element at all in this case? 
Why not just give the button a for attribute?

&gt;<i>    I think we should focus on how to create solutions that allow optimal
</I>&gt;<i> fallback rather than trying to support a broad range of suboptimal
</I>&gt;<i> fallback options.
</I>
I thought my suggestion was an attempt at providing optimal fallback.  I 
can't think of any cases where it would be suboptimal?

&gt;<i>    The &lt;menulabel&gt; would ignore the &lt;button&gt; in the same way I defined
</I>&gt;<i> it as ignoring &lt;a&gt; elements. The contents are kept, but the element
</I>&gt;<i> itself is ignored.
</I>&gt;<i> 
</I>&gt;<i>    Similarly, this is another solution:
</I>&gt;<i> 
</I>&gt;<i> | &lt;menulabel&gt;
</I>&gt;<i> |   &lt;menu&gt;
</I>&gt;<i> |     &lt;select&gt;
</I>&gt;<i> |       ...
</I>&gt;<i> |     &lt;/select&gt;
</I>&gt;<i> |   &lt;/menu&gt;
</I>&gt;<i> |   &lt;button&gt;Foo&lt;/button&gt;
</I>&gt;<i> | &lt;/menulabel&gt;
</I>
Again, what's the point of the &lt;menu&gt; element?  And, the menulabel don't 
make sense.

&gt;<i>    For situations where the button isn't used, you can just drop it:
</I>&gt;<i> 
</I>&gt;<i> | &lt;menulabel&gt;Foo
</I>&gt;<i> |   &lt;menu&gt;
</I>&gt;<i> |     &lt;select&gt;
</I>&gt;<i> |       ...
</I>&gt;<i> |     &lt;/select&gt;
</I>&gt;<i> |   &lt;/menu&gt;
</I>&gt;<i> | &lt;/menulabel&gt;
</I>
Without the button, I think it should just be an ordinary select 
element.  There would be no submission semantics (from the button) and, 
therefore, it doesn't really satisfy the semantics of a command menu.


After much though, I've refined my original idea and also gone back to 
Ian's original idea that navigation menus and command are the same 
structure, only differing in their functionality.

Each command menu is marked up like this:

&lt;cmd&gt;
   &lt;select/&gt;
   &lt;button/&gt;
&lt;/cmd&gt;

or with the button and select switched:

&lt;cmd&gt;
   &lt;button/&gt;
   &lt;select/&gt;
&lt;/cmd&gt;

or with input instead:

&lt;cmd&gt;
   &lt;input type=&quot;submit&quot;/&gt;
   &lt;select/&gt;
&lt;/cmd&gt;

(Other alternative element names for &lt;cmd&gt; could be: menuitem, 
commandmenu, cmdmenu, command, but I like cmd because it's short, easy 
to type and to remember.)

Also note that there doesn't need to be a for attribute to associate the 
  button with the select, as it's implicitly done with the cmd element. 
  It would need to be defined in a way that says the first select 
element is associated with the first button element (to handle cases 
where authors throw other extraneous markup within, including extra 
buttons/selects).

If there's just one command menu, that (with an associated form element) 
should be all the markup requried for a functional menu with good 
fallback abilities.  But, for the cases where it's more like a menu bar 
comprising several menus (e.g. File, Edit, View, etc.) they can be 
contained within a menu element:

&lt;menu&gt;
   &lt;cmd/&gt;
   &lt;cmd/&gt;
   &lt;cmd/&gt;
&lt;/menu&gt;

(where each cmd contains a select and a button, as above)

Now, going back to the idea that navigational menus and command menus 
are the same structure, the menu element can be used for those too, 
except using &lt;li&gt; instead of &lt;cmd&gt;, much like people use &lt;ul&gt; today, but 
with a more semantically appropriate element.

&lt;menu&gt;
   &lt;li&gt;&lt;a&gt;...&lt;/a&gt;&lt;/li&gt;
   &lt;li&gt;&lt;a&gt;...&lt;/a&gt;&lt;/li&gt;
   &lt;li&gt;&lt;a&gt;...&lt;/a&gt;&lt;/li&gt;
&lt;/menu&gt;

-- 
Lachlan Hunt
<A HREF="http://lachy.id.au/">http://lachy.id.au/</A>


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="047435.html">[whatwg] Menus, fallback, and backwards compatibility: ideas wanted
</A></li>
	<LI>Next message: <A HREF="047439.html">[whatwg] Menus, fallback, and backwards compatibility: ideas wanted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47436">[ date ]</a>
              <a href="thread.html#47436">[ thread ]</a>
              <a href="subject.html#47436">[ subject ]</a>
              <a href="author.html#47436">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
