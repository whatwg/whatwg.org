<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Forms 2.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Forms%202.0&In-Reply-To=%3C421B3AC0.2020805%40earthlink.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045393.html">
   <LINK REL="Next"  HREF="045395.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Forms 2.0</H1>
<!--htdig_noindex-->
    <B>Matthew Raymond</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Forms%202.0&In-Reply-To=%3C421B3AC0.2020805%40earthlink.net%3E"
       TITLE="[whatwg] Web Forms 2.0">mattraymond at earthlink.net
       </A><BR>
    <I>Tue Feb 22 05:59:28 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="045393.html">[whatwg] Web Forms 2.0
</A></li>
        <LI>Next message: <A HREF="045395.html">[whatwg] Web Forms 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45394">[ date ]</a>
              <a href="thread.html#45394">[ thread ]</a>
              <a href="subject.html#45394">[ subject ]</a>
              <a href="author.html#45394">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Olav Junker Kj&#230;r wrote:
&gt;<i> Roman Ivanov wrote:
</I>&gt;&gt;<i>I think that web developers really need a standard on working with 
</I>&gt;&gt;<i>selection in textarea and input type=text fields.
</I>&gt;<i> 
</I>&gt;<i> Yes, that would be nice.
</I>&gt;<i> It has been discussed before:
</I>&gt;<i> <A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2004-August/001996.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2004-August/001996.html</A>
</I>
    Let's take a look:

|<i> function getcaretpos(inp)
</I>|<i> {
</I>|<i>     // for mozilla
</I>|<i>     if(inp.selectionEnd)
</I>|<i>       return inp.selectionEnd;
</I>|<i>
</I>|<i>     // for IE
</I>|<i>     if(inp.createTextRange)
</I>|<i>     {
</I>|<i>       var docrange = document.selection.createRange();
</I>|<i>       var inprange = inp.createTextRange();
</I>|<i>       inprange.setEndPoint('EndToStart', docrange);
</I>|<i>       return inprange.text.length;
</I>|<i>     }
</I>|<i>
</I>|<i>     return inp.value.length; // other browsers don't provide a method 
</I>|<i>                              // that I know of
</I>|<i> }
</I>
    Man, what were the IE developers smoking when they came up with 
that?  The Mozilla method is waaaaaaaaaaaay easier.

&gt;<i> I think the best way would be if the value attribute of an input field 
</I>&gt;<i> could be treated as if it were text content of the element. Then the DOM 
</I>&gt;<i> Range spec (perhaps with some extensions) would cover how selections are 
</I>&gt;<i> treated.
</I>
    Then you wouldn't be able to determine the original value of the 
|<i>value| attribute, not to mention the fact that the value couldn't be 
</I>restored to the default when you hit a reset button...

 From <A HREF="http://www.w3.org/TR/html4/interact/forms.html#reset-button:">http://www.w3.org/TR/html4/interact/forms.html#reset-button:</A>
|<i> # reset buttons: When activated, a reset button resets all controls to
</I>|<i>   their initial values.
</I>
 From <A HREF="http://www.w3.org/TR/html4/interact/forms.html#initial-value:">http://www.w3.org/TR/html4/interact/forms.html#initial-value:</A>
|<i> ...a control's &quot;initial value&quot; may be specified with the control
</I>|<i> element's value attribute.
</I>
    So, messing with the DOM wouldn't be smart.

    Another problem, though, is the fact that user agents would have to 
support Document Object Model Range. That may be assumed as a result of 
the DOM2 requirement for WF2, but I'm not aware of anything else in WF2 
that requires DOM Range.

    Another thing is that I don't like the idea of changing the behavior 
of a specific attribute based on the value of another attribute (type), 
especially when the behavior is already defined by previous specifications.

&gt;<i> Also, this would make editing input and textarea elements consistent 
</I>&gt;<i> with contentEditable, where the contents of an element is made directly 
</I>&gt;<i> editable.
</I>
    I think I know where you're going with this one. In theory, we could 
change the behavior based on the value of a new attribute like 
|<i>contentEditable|. I'm not sure I like this solution for simple text 
</I>selection, though. Mozilla's method is just so darn easy. Just 
.selectionStart and .selectionEnd. Easy as cake.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045393.html">[whatwg] Web Forms 2.0
</A></li>
	<LI>Next message: <A HREF="045395.html">[whatwg] Web Forms 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45394">[ date ]</a>
              <a href="thread.html#45394">[ thread ]</a>
              <a href="subject.html#45394">[ subject ]</a>
              <a href="author.html#45394">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
