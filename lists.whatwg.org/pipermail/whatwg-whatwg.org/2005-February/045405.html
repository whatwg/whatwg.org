<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [WA1] GUI Selections (was Re: [whatwg] Web Forms 2.0)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5BWA1%5D%20GUI%20Selections%20%28was%20Re%3A%20%5Bwhatwg%5D%20Web%20Forms%202.0%29&In-Reply-To=%3C421D20CB.3070009%40olav.dk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045404.html">
   <LINK REL="Next"  HREF="045406.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[WA1] GUI Selections (was Re: [whatwg] Web Forms 2.0)</H1>
<!--htdig_noindex-->
    <B>Olav Junker Kj&#230;r</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5BWA1%5D%20GUI%20Selections%20%28was%20Re%3A%20%5Bwhatwg%5D%20Web%20Forms%202.0%29&In-Reply-To=%3C421D20CB.3070009%40olav.dk%3E"
       TITLE="[WA1] GUI Selections (was Re: [whatwg] Web Forms 2.0)">olav at olav.dk
       </A><BR>
    <I>Wed Feb 23 16:33:15 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="045404.html">[WA1] GUI Selections (was Re: [whatwg] Web Forms 2.0)
</A></li>
        <LI>Next message: <A HREF="045406.html">[WA1] GUI Selections (was Re: [whatwg] Web Forms 2.0)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45405">[ date ]</a>
              <a href="thread.html#45405">[ thread ]</a>
              <a href="subject.html#45405">[ subject ]</a>
              <a href="author.html#45405">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Matthew Raymond wrote:
 &gt; So you see, if we want to establish a GUI selection interface for
 &gt; DOM/Javascript, we can use DOM Range as PART of the interface, but we
 &gt; still have to define some way of getting the current selection and
 &gt; setting the user selection.

Okay. I get it. Mozilla seem to support something similar (also 
non-standard) to get from a selection to a DOM range:
<A HREF="http://www.mozilla.org/docs/dom/domref/dom_window_ref24.html#1000044">http://www.mozilla.org/docs/dom/domref/dom_window_ref24.html#1000044</A>
While I like your proposal, I think we should choose one of the 
currently implemented methods (IE's or Mozillas) unless they have 
serious shortcomings.

 &gt; Yeah, but from the little bit I've read of the IE method, I hear it
 &gt; sucks.

Well, it doesn't provide a way to get the start or end points of a 
selection, which is what the original poster wanted.
It works like this: the document has a &quot;selection&quot; property which 
represents the current selection. On the selection object you can call 
createRange() to create a TextRange object which is more or less similar 
to a DOM Range object (although more limited). Also, you can turn a 
TextRange into the current selected by calling the select() method on it.
It works the same way for input values, textarea values, and ordinary 
content.

 &gt; Near as I can determine, though, DOM Range can't change attributes,
 &gt; so it would be useless for use with &lt;input&gt;, even if the |value|
 &gt; attribute was always equal to the .value property.

The DOM Range spec claims that it works on Attr-nodes also.

 &gt; Do we need a way of maintaining multiple user selections? I don't
 &gt; think IE supports this.

The API suggest that it does (there is a createRangeCollection() 
method), but I'm not sure this actually works.

 &gt; Also, do we need execCommand if we're using DOM Range?

The important thing is to have contentEditable and an interface to 
manipulate the current selection. Then execCommand can be built on top 
of that in script. (The execCommand interface in IE is cool though, 
because it supports undo. Except that the undo history is cleared when 
any DOM manipulation is done using any other method than execCommand, 
which limits its usefulness).

 &gt; I prefer the Mozilla
 &gt; method anyways. It's much simpler and people don't have to understand
 &gt; DOM Range to use it, which is good in situations like this since
 &gt; dealing with selections within controls is more common.

But one interface is simpler that two interfaces, and we need DOM Range 
(or something similar) anyway to do rich editing, which is arguably just 
as common an use case.

regards
Olav Junker Kj&#230;r

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045404.html">[WA1] GUI Selections (was Re: [whatwg] Web Forms 2.0)
</A></li>
	<LI>Next message: <A HREF="045406.html">[WA1] GUI Selections (was Re: [whatwg] Web Forms 2.0)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45405">[ date ]</a>
              <a href="thread.html#45405">[ thread ]</a>
              <a href="subject.html#45405">[ subject ]</a>
              <a href="author.html#45405">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
