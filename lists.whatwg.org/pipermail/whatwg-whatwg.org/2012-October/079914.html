<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Encoding: API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Encoding%3A%20API&In-Reply-To=%3CCABirCh9ykN5n3YyciXFxXeq8zt%2BYRwyOdGtz24hSZSM7gkcT7g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079913.html">
   <LINK REL="Next"  HREF="079931.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Encoding: API</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Encoding%3A%20API&In-Reply-To=%3CCABirCh9ykN5n3YyciXFxXeq8zt%2BYRwyOdGtz24hSZSM7gkcT7g%40mail.gmail.com%3E"
       TITLE="[whatwg] Encoding: API">glenn at zewt.org
       </A><BR>
    <I>Thu Oct 18 07:16:52 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079913.html">[whatwg] Encoding: API
</A></li>
        <LI>Next message: <A HREF="079931.html">[whatwg] Encoding: API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79914">[ date ]</a>
              <a href="thread.html#79914">[ thread ]</a>
              <a href="subject.html#79914">[ subject ]</a>
              <a href="author.html#79914">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Oct 18, 2012 at 3:54 AM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at annevk.nl</A>&gt; wrote:

&gt;<i> On Thu, Oct 18, 2012 at 10:49 AM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at annevk.nl</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt;   <A HREF="http://encoding.spec.whatwg.org/#api">http://encoding.spec.whatwg.org/#api</A>
</I>&gt;<i>
</I>&gt;<i> Btw, I changed these things:
</I>&gt;<i>
</I>&gt;<i> * TextDecoder.decode()'s view argument is no longer optional. Why should
</I>&gt;<i> it be?
</I>&gt;<i>
</I>
It buffers the &quot;EOF byte&quot; when in streaming mode, eg. when the last byte of
the stream is a UTF-8 continuation byte, so any encode errors are triggered.

* TextEncoder.encode()'s input argument is no longer nullable. Again,
&gt;<i> why should it be?
</I>&gt;<i>
</I>
Likewise for encoding, to flush errors for trailing high surrogates.

I also raised the issue of whether TextEncoder should really support
&gt;<i> utf-16/utf-16be as the encoding standard tries to deprecate non-utf-8
</I>&gt;<i> encodings.
</I>&gt;<i>
</I>
The whole point of this API is to support legacy file formats that use
other encodings.  (It's probably questionable to not support other
encodings, too, eg. filenames in ZIP file headers, but starting out with
Unicode is fine.)

-- 
Glenn Maynard

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079913.html">[whatwg] Encoding: API
</A></li>
	<LI>Next message: <A HREF="079931.html">[whatwg] Encoding: API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79914">[ date ]</a>
              <a href="thread.html#79914">[ thread ]</a>
              <a href="subject.html#79914">[ subject ]</a>
              <a href="author.html#79914">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
