<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] URL: query encoding
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20URL%3A%20query%20encoding&In-Reply-To=%3C50900582.5030304%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080010.html">
   <LINK REL="Next"  HREF="080012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] URL: query encoding</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20URL%3A%20query%20encoding&In-Reply-To=%3C50900582.5030304%40mit.edu%3E"
       TITLE="[whatwg] URL: query encoding">bzbarsky at MIT.EDU
       </A><BR>
    <I>Tue Oct 30 09:51:14 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080010.html">[whatwg] URL: query encoding
</A></li>
        <LI>Next message: <A HREF="080012.html">[whatwg] URL: query encoding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80011">[ date ]</a>
              <a href="thread.html#80011">[ thread ]</a>
              <a href="subject.html#80011">[ subject ]</a>
              <a href="author.html#80011">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 10/30/12 11:43 AM, Simon Pieters wrote:
&gt;<i> The above applies to what gets sent over the wire when using the
</I>&gt;<i> WebSocket(...) constructor. For &lt;a href&gt;, the results are different:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://simon.html5.org/test/url/url-encoding.html">http://simon.html5.org/test/url/url-encoding.html</A>
</I>&gt;<i>
</I>&gt;<i> I don't have an opinion at this point about what to do here.
</I>
In Gecko, at least , when a URL object is constructed from a string the 
caller can specify an encoding to use for the URL.  The URL code then 
does things that depend on what that encoding was.  Apart from the 
hierarchical vs not distinction, I believe the handling of the encoding 
does not depend on scheme in Gecko.  If no encoding is specified, UTF-8 
is assumed.

&lt;a href&gt; passes in the document encoding as the encoding to use when 
constructing the URL object.

The WebSocket constructor does not pass in an ecoding when constructing 
the URL object, so UTF-8 is used.

I would not be opposed to us explicitly specifying things this way. 
That would incidentally require specs to say exactly when some non-UTF8 
encoding is supposed to be used for their URIs and what that encoding 
should be, which seems like a good thing to me.

-Boris


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080010.html">[whatwg] URL: query encoding
</A></li>
	<LI>Next message: <A HREF="080012.html">[whatwg] URL: query encoding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80011">[ date ]</a>
              <a href="thread.html#80011">[ thread ]</a>
              <a href="subject.html#80011">[ subject ]</a>
              <a href="author.html#80011">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
