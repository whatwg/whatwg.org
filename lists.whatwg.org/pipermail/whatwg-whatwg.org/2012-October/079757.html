<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Default scope for table headers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Default%20scope%20for%20table%20headers&In-Reply-To=%3CCAPGwD7h9YofNCn2OoS29rbhRaUA7XWGFFF1x0ZOOAx1pXSy%2BvQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079756.html">
   <LINK REL="Next"  HREF="037485.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Default scope for table headers</H1>
<!--htdig_noindex-->
    <B>Pierre Dubois</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Default%20scope%20for%20table%20headers&In-Reply-To=%3CCAPGwD7h9YofNCn2OoS29rbhRaUA7XWGFFF1x0ZOOAx1pXSy%2BvQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Default scope for table headers">duboisp2 at gmail.com
       </A><BR>
    <I>Mon Oct  1 11:30:20 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079756.html">[whatwg] Default scope for table headers
</A></li>
        <LI>Next message: <A HREF="037485.html">[whatwg] Proposal for Links to Unrelated Browsing Contexts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79757">[ date ]</a>
              <a href="thread.html#79757">[ thread ]</a>
              <a href="subject.html#79757">[ subject ]</a>
              <a href="author.html#79757">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Nicholas Shanks &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">contact at nickshanks.com</A>&gt;, 2012-10-01 09:53 +0100:

&gt;<i> [...]
</I>&gt;<i> I suggest explicitly defining defaults for the benefit of both UAs and
</I>&gt;<i> HTML authors. I would expect the defaults to be defined something like
</I>&gt;<i> this:
</I>&gt;<i>
</I>&gt;<i> Rule 1) If a row begins with zero or more empty TD elements, followed
</I>&gt;<i> by one or more TH elements and no further TD elements, and all
</I>&gt;<i> previous rows in the table also satisfied this Rule, the default scope
</I>&gt;<i> is &quot;col&quot; for each TH in the row.
</I>&gt;<i> Rule 2) If a row contains one or more TH elements, followed by one or
</I>&gt;<i> more TD elements and no further TH elements, the default scope is
</I>&gt;<i> &quot;row&quot; for each TH in the row.
</I>&gt;<i> Rule 3) If a table contains two or more columns, and a row in an
</I>&gt;<i> implicit or explicit TBODY row group contains a single TH element
</I>&gt;<i> which spans all columns, and any previous rows in the row group also
</I>&gt;<i> satisfied this Rule, the default scope is &quot;rowgroup&quot; for that TH
</I>&gt;<i> element.
</I>&gt;<i> Rule 4) If an implicit or explicit TBODY row group contains two or
</I>&gt;<i> more rows, and the first row of the group contains a TH element which
</I>&gt;<i> spans all rows in the group, and any previous cells in the row also
</I>&gt;<i> satisfied this Rule, the default scope is &quot;rowgroup&quot; for that TH
</I>&gt;<i> element.
</I>&gt;<i> Rule 5) If a TH cell which satisfied Rule 1 spans two or more columns,
</I>&gt;<i> and those columns constitute a complete COLGROUP, the default scope is
</I>&gt;<i> &quot;colgroup&quot; for that TH element.
</I>
Your proposal look similar to the rejected &quot;Smart Algorithm&quot;.
(<A HREF="http://www.w3.org/html/wg/wiki/IssueTableHeaders#2._Hierarchical_headers_with_Smart_Algorithm">http://www.w3.org/html/wg/wiki/IssueTableHeaders#2._Hierarchical_headers_with_Smart_Algorithm</A>)
&gt;<i>From my point of view, the &quot;Smart Algorithm&quot; it not a bad algorithm,
</I>it just needs improvement.

The Table Usability Algorithm support your kind of table, backward
compatible and provide valuable information regarding how to use the
grouping tabular element (COLGROUP and TBODY). See my proposal:
<A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-September/037475.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-September/037475.html</A>


&gt;<i> This describes the most complex form of an 'obvious' table I can think
</I>&gt;<i> of at this time in the morning, where obvious means there can be no
</I>&gt;<i> other expected behaviour:
</I>&gt;<i>
</I>&gt;<i> &lt;col&gt;&lt;col&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;
</I>&gt;<i> &lt;thead&gt;
</I>&gt;<i> &lt;tr&gt;&lt;td&gt;&lt;td&gt;&lt;th colspan=&quot;3&quot;&gt;Section1&lt;th colspan=&quot;3&quot;&gt;Section2
</I>&gt;<i> &lt;tr&gt;&lt;td&gt;&lt;td&gt;&lt;th&gt;Col1&lt;th&gt;Col2&lt;th&gt;Col3&lt;th&gt;Col1&lt;th&gt;Col2&lt;th&gt;Col3
</I>&gt;<i> &lt;tbody&gt;
</I>&gt;<i> &lt;tr&gt;&lt;th rowspan=&quot;3&quot;&gt;CategoryA&lt;th&gt;Row1&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
</I>&gt;<i> &lt;tr&gt;&lt;th&gt;Row2&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
</I>&gt;<i> &lt;tr&gt;&lt;th&gt;Row3&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
</I>&gt;<i> &lt;tbody&gt;
</I>&gt;<i> &lt;tr&gt;&lt;th rowspan=&quot;3&quot;&gt;CategoryB&lt;th&gt;Row1&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
</I>&gt;<i> &lt;tr&gt;&lt;th&gt;Row2&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
</I>&gt;<i> &lt;tr&gt;&lt;th&gt;Row3&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
</I>&gt;<i> &lt;tbody&gt;
</I>&gt;<i> &lt;th colspan=&quot;2&quot;&gt;Total&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
</I>

Based on the Table Usability Concept, what do you think about the
following alternative markup ?

&lt;table&gt;
&lt;colgroup&gt;&lt;col&gt;
&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;
&lt;thead&gt;
&lt;tr&gt;&lt;th rowspan=&quot;2&quot;&gt;&lt;th colspan=&quot;3&quot;&gt;Section1&lt;th colspan=&quot;3&quot;&gt;Section2
&lt;tr&gt;&lt;th&gt;Col1&lt;th&gt;Col2&lt;th&gt;Col3&lt;th&gt;Col1&lt;th&gt;Col2&lt;th&gt;Col3
&lt;tbody&gt;
&lt;tr&gt;&lt;th colspan=&quot;7&quot;&gt;CategoryA
&lt;tr&gt;&lt;th&gt;Row1&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
&lt;tr&gt;&lt;th&gt;Row2&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
&lt;tr&gt;&lt;th&gt;Row3&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
&lt;tbody&gt;
&lt;tr&gt;&lt;th colspan=&quot;7&quot;&gt;CategoryB
&lt;tr&gt;&lt;th&gt;Row1&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
&lt;tr&gt;&lt;th&gt;Row2&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
&lt;tr&gt;&lt;th&gt;Row3&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
&lt;tfoot&gt;
&lt;th&gt;Total&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...

And, what do you think of having sub-summary information for row
group, like sub-total? The sub-total row group is determined by the
absence of having a row group header cell. The Table Usability
Algorithm establish a relationships between the sub-total row group
and the related data row group.

&lt;table&gt;
&lt;colgroup&gt;&lt;col&gt;
&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;
&lt;thead&gt;
&lt;tr&gt;&lt;th rowspan=&quot;2&quot;&gt;&lt;th colspan=&quot;3&quot;&gt;Section1&lt;th colspan=&quot;3&quot;&gt;Section2
&lt;tr&gt;&lt;th&gt;Col1&lt;th&gt;Col2&lt;th&gt;Col3&lt;th&gt;Col1&lt;th&gt;Col2&lt;th&gt;Col3
&lt;tbody&gt;
&lt;tr&gt;&lt;th colspan=&quot;7&quot;&gt;CategoryA
&lt;tr&gt;&lt;th&gt;Row1&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
&lt;tr&gt;&lt;th&gt;Row2&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
&lt;tr&gt;&lt;th&gt;Row3&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
&lt;tbody&gt;
&lt;th&gt;Sub-Total&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
&lt;tbody&gt;
&lt;tr&gt;&lt;th colspan=&quot;7&quot;&gt;CategoryB
&lt;tr&gt;&lt;th&gt;Row1&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
&lt;tr&gt;&lt;th&gt;Row2&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
&lt;tr&gt;&lt;th&gt;Row3&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
&lt;tbody&gt;
&lt;th&gt;Sub-Total&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...
&lt;tbody&gt;
&lt;th&gt;Total&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...&lt;td&gt;...


Try the HTML Table Validor
(<A HREF="http://wet-boew.github.com/wet-boew/demos/tableparser/validator-htmltable.html">http://wet-boew.github.com/wet-boew/demos/tableparser/validator-htmltable.html</A>)
by adding the class &quot;wet-boew-zebra&quot; to the table element. Once
analysed, you will get a visual interpretation of your tabular data.
eg.
&lt;table class=&quot;wet-boew-zebra&quot;&gt;
[...] // Your table markup here



Nicholas Shanks &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">contact at nickshanks.com</A>&gt;, 2012-10-01 12:04 +0100:

&gt;<i> It struck me that the scope attributes should have default values for
</I>&gt;<i> such a simple table.
</I>
I think a web editor do not needs to use the &quot;scope&quot; attribute and/or
&quot;id/headers&quot;. Even to make their table accessible WCAG 2.0 Level AA
compliant. The Tabular Usability Concept is essentially based on how a
person would understand the complex data table based on the visual UA
rendered layout and based on how the table grouping markup TBODY and
COLGROUP is used to provide real, useful and additional information to
the user.


On Mon, Oct 1, 2012 at 7:13 AM, Michael[tm] Smith &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mike at w3.org</A>&gt; wrote:

&gt;<i> [...]
</I>&gt;<i> &gt; [...]
</I>&gt;<i> &gt; Are there use cases where the value of the scope attribute matters
</I>&gt;<i> &gt; other than as an intermediary for computing the headers applicable to
</I>&gt;<i> &gt; each cell? If not, are there use cases where either the data cell
</I>&gt;<i> &gt; headers have not yet been computed or they are unavailable (perhaps
</I>&gt;<i> &gt; while Javascript DOM tree walking?) where access to the scope
</I>&gt;<i> &gt; attribute would be helpful?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If either of these can be answered in the affirmative, then I believe
</I>&gt;<i> &gt; a bug could be raised. Anyone care to chime in?
</I>&gt;<i>
</I>&gt;<i> Dunno the answers myself but will ping somebody who I think does
</I>
&gt;<i>From my point of view, the table cells relationships can be
</I>programmatically determined. Having the scope attribute as currently
defined in the spec are not providing any useful and/or additional
information. As currently defined, the scope attribute are just
repeating the same information provided by the table grouping markup
COLGROUP, TBODY. Take a look in the spec, the scope &quot;rowgroup&quot; and
&quot;colgroup&quot; need to be anchored in a grouping elements.
(<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/tabular-data.html#attr-th-scope">http://www.whatwg.org/specs/web-apps/current-work/multipage/tabular-data.html#attr-th-scope</A>)

As per the current DOM API for tables, only the simpliest table is
supported. For an example, if a developper want to create a graphic
from a complex data table, he would be required to reinvent the wheel
by creating it's own table parser. That is why I developped the Table
Usability Concept. I know the complex table can be accessible to
screen reader by using id/headers or scope attribute but that are not
providing any useful information to the javascript developper who
needs the tabular information.

In the following link, you would find several complex table example.

1. Defining a Key Cell
(<A HREF="http://wet-boew.github.com/wet-boew/demos/tableparser/keycell-techniques.html">http://wet-boew.github.com/wet-boew/demos/tableparser/keycell-techniques.html</A>)
2. Defining a Data Row Group
(<A HREF="http://wet-boew.github.com/wet-boew/demos/tableparser/rowgrouping-techniques.html">http://wet-boew.github.com/wet-boew/demos/tableparser/rowgrouping-techniques.html</A>)
3. Summaries a Data Row Group
(<A HREF="http://wet-boew.github.com/wet-boew/demos/tableparser/summariesrowgroup-techniques.html">http://wet-boew.github.com/wet-boew/demos/tableparser/summariesrowgroup-techniques.html</A>)
4. Structuring the Header Row
(<A HREF="http://wet-boew.github.com/wet-boew/demos/tableparser/headerrowgroupstructure-techniques.html">http://wet-boew.github.com/wet-boew/demos/tableparser/headerrowgroupstructure-techniques.html</A>)
5. Describing a Row Header Cell
(<A HREF="http://wet-boew.github.com/wet-boew/demos/tableparser/rowheader-description-techniques.html">http://wet-boew.github.com/wet-boew/demos/tableparser/rowheader-description-techniques.html</A>)
6. Describing a Row Group Header Cell
(<A HREF="http://wet-boew.github.com/wet-boew/demos/tableparser/rowgroupheader-description-techniques.html">http://wet-boew.github.com/wet-boew/demos/tableparser/rowgroupheader-description-techniques.html</A>)
7. Defining Column Group Header
(<A HREF="http://wet-boew.github.com/wet-boew/demos/tableparser/colgroupheader-techniques.html">http://wet-boew.github.com/wet-boew/demos/tableparser/colgroupheader-techniques.html</A>)
8. Structuring the Header Column Cell
(<A HREF="http://wet-boew.github.com/wet-boew/demos/tableparser/headercolgroupstructure-techniques.html">http://wet-boew.github.com/wet-boew/demos/tableparser/headercolgroupstructure-techniques.html</A>)
9. Defining a Data Column Group
(<A HREF="http://wet-boew.github.com/wet-boew/demos/tableparser/datacolgroup-techniques.html">http://wet-boew.github.com/wet-boew/demos/tableparser/datacolgroup-techniques.html</A>)
10. Summaries a Data Column Group
(<A HREF="http://wet-boew.github.com/wet-boew/demos/tableparser/colgroupsummary-techniques.html">http://wet-boew.github.com/wet-boew/demos/tableparser/colgroupsummary-techniques.html</A>)
11. Describing a Column Header Cell
(<A HREF="http://wet-boew.github.com/wet-boew/demos/tableparser/colheader-description-techniques.html">http://wet-boew.github.com/wet-boew/demos/tableparser/colheader-description-techniques.html</A>)
12. Defining a Layout Cell
(<A HREF="http://wet-boew.github.com/wet-boew/demos/tableparser/layoutcell-techniques.html">http://wet-boew.github.com/wet-boew/demos/tableparser/layoutcell-techniques.html</A>)

I you have a HTML table where the above techniques can not be applied,
let me know here:
<A HREF="https://github.com/duboisp/Table-Usability-Concept/issues/new">https://github.com/duboisp/Table-Usability-Concept/issues/new</A>


Cheers

:<i>-)
</I>
Pierre Dubois

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079756.html">[whatwg] Default scope for table headers
</A></li>
	<LI>Next message: <A HREF="037485.html">[whatwg] Proposal for Links to Unrelated Browsing Contexts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79757">[ date ]</a>
              <a href="thread.html#79757">[ thread ]</a>
              <a href="subject.html#79757">[ subject ]</a>
              <a href="author.html#79757">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
