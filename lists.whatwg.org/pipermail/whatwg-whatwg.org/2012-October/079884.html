<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] URL: URLQuery
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20URL%3A%20URLQuery&In-Reply-To=%3CCAAWBYDAEA2B7vuqszVc%2BfN3vjHtB3qfHnbrrR-af413xMo81%3DQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079883.html">
   <LINK REL="Next"  HREF="079872.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] URL: URLQuery</H1>
<!--htdig_noindex-->
    <B>Tab Atkins Jr.</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20URL%3A%20URLQuery&In-Reply-To=%3CCAAWBYDAEA2B7vuqszVc%2BfN3vjHtB3qfHnbrrR-af413xMo81%3DQ%40mail.gmail.com%3E"
       TITLE="[whatwg] URL: URLQuery">jackalmage at gmail.com
       </A><BR>
    <I>Sat Oct 13 14:14:16 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079883.html">[whatwg] URL: URLQuery
</A></li>
        <LI>Next message: <A HREF="079872.html">[whatwg] URL: URLQuery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79884">[ date ]</a>
              <a href="thread.html#79884">[ thread ]</a>
              <a href="subject.html#79884">[ subject ]</a>
              <a href="author.html#79884">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, Oct 13, 2012 at 1:39 PM, Mike Dierken &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mike at dierken.com</A>&gt; wrote:
&gt;<i> Since a URL query string is not a strict map with only one value for a
</I>&gt;<i> key, would the get/set operations allow for an array as well as an
</I>&gt;<i> atomic value?
</I>
Yes.  Regardless of the getters vs get() discussion, I think there was
consensus on the *operation* of the get/set operations.

For the sake of this discussion, I'll assume we use the Map api.

When you call get(), you'll get a *single* value - the first of the
potentially multiple values - or null.
When you call getAll(), you'll get a (possibly empty) array of values.
When you call set(), if you pass an array it sets all the values,
otherwise it stringifies the value and sets it as the sole value for
that key.

In other words, given an initial query of &quot;?a=1&amp;a=2&quot;, you get the
following results:

query.get('a') =&gt; 1
query.get('b') =&gt; null
query.getAll('a') =&gt; [1,2]
query.getAll('b') =&gt; []
query.set('a',3) =&gt; &quot;?a=3&quot;
query.set('b', [4,5]) =&gt; &quot;?a=3&amp;b=4&amp;b=5&quot;
query.set('c', {'c':1}) =&gt; &quot;?a=3&amp;b=4&amp;b=5&amp;c=%5Bobject%20Object%5D&quot;

~TJ

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079883.html">[whatwg] URL: URLQuery
</A></li>
	<LI>Next message: <A HREF="079872.html">[whatwg] URL: URLQuery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79884">[ date ]</a>
              <a href="thread.html#79884">[ thread ]</a>
              <a href="subject.html#79884">[ subject ]</a>
              <a href="author.html#79884">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
