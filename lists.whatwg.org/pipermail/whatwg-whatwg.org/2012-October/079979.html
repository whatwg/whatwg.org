<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] checksum attribute in a href tag
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20checksum%20attribute%20in%20a%20href%20tag&In-Reply-To=%3CPine.LNX.4.64.1210241623070.2471%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079978.html">
   <LINK REL="Next"  HREF="079981.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] checksum attribute in a href tag</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20checksum%20attribute%20in%20a%20href%20tag&In-Reply-To=%3CPine.LNX.4.64.1210241623070.2471%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] checksum attribute in a href tag">ian at hixie.ch
       </A><BR>
    <I>Wed Oct 24 09:28:40 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079978.html">[whatwg] checksum attribute in a href tag
</A></li>
        <LI>Next message: <A HREF="079981.html">[whatwg] checksum attribute in a href tag
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79979">[ date ]</a>
              <a href="thread.html#79979">[ thread ]</a>
              <a href="subject.html#79979">[ subject ]</a>
              <a href="author.html#79979">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 24 Oct 2012, Mikko Rantalainen wrote:
&gt;<i> 
</I>&gt;<i> Checksum can help even with encrypted connections.
</I>&gt;<i> 
</I>&gt;<i> Example scenario:
</I>&gt;<i> 
</I>&gt;<i> User connects to <A HREF="https://download.manufacturer.com/">https://download.manufacturer.com/</A> and clicks link
</I>&gt;<i> 
</I>&gt;<i> &lt;a href=&quot;phone-firmware-15.img&quot; 
</I>&gt;<i> checksum=&quot;MD5:32c3675211199b671fbca1304d819289;SHA1:6e1ddeede3979c953788a3499616af35ee5fd772&quot;&gt;Firmware 
</I>&gt;<i> version 15&lt;/a&gt;
</I>&gt;<i> 
</I>&gt;<i> The download then starts and file gets saved to the filesystem. However, 
</I>&gt;<i> the system has memory corruption and despite the fact that the file got 
</I>&gt;<i> to the user agent intact, the file will end up as corrupted to the 
</I>&gt;<i> filesystem.
</I>&gt;<i> 
</I>&gt;<i> However, if user agent had computed and verified the checksum after 
</I>&gt;<i> re-reading the file back from the local filesystem, it would have 
</I>&gt;<i> noticed the error.
</I>&gt;<i>
</I>&gt;<i> You might think that memory corruption is rare but trust me, it happens 
</I>&gt;<i> often enough to be worried about.
</I>
Memory corruption is indeed more common than people realise. But that's 
not the important question. The important question is, does memory 
corruption occur more often than mistakes in the checksum=&quot;&quot; value will 
occur? More often enough that when people get the message that there was a 
download error, they'll trust the message rather than assuming it's just 
&quot;yet another&quot; false positive?

Anyway, if you have memory corruption there's nothing to say the 
corruption won't occur _after_ you've done the checksum verification. In 
particular, there's nothing to say it'll happen between receiving and 
decoding the packets over TLS and comparing the packets to the checksum, 
and not either before (in which case TLS will catch it as part of its own 
integrity checking) or after (in which case the checksum won't help). 
That's a pretty narrow window.

My guess would be that people will screw up their hidden metadata (e.g. 
updating the .img file without updating the HTML file) more often, much 
more often, than the checksum will catch an error.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079978.html">[whatwg] checksum attribute in a href tag
</A></li>
	<LI>Next message: <A HREF="079981.html">[whatwg] checksum attribute in a href tag
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79979">[ date ]</a>
              <a href="thread.html#79979">[ thread ]</a>
              <a href="subject.html#79979">[ subject ]</a>
              <a href="author.html#79979">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
