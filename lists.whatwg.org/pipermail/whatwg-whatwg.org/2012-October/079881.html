<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] URL: URLQuery
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20URL%3A%20URLQuery&In-Reply-To=%3C507990BE.6010706%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079880.html">
   <LINK REL="Next"  HREF="079885.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] URL: URLQuery</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20URL%3A%20URLQuery&In-Reply-To=%3C507990BE.6010706%40mit.edu%3E"
       TITLE="[whatwg] URL: URLQuery">bzbarsky at MIT.EDU
       </A><BR>
    <I>Sat Oct 13 09:03:10 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079880.html">[whatwg] URL: URLQuery
</A></li>
        <LI>Next message: <A HREF="079885.html">[whatwg] URL: URLQuery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79881">[ date ]</a>
              <a href="thread.html#79881">[ thread ]</a>
              <a href="subject.html#79881">[ subject ]</a>
              <a href="author.html#79881">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 10/13/12 11:53 AM, Glenn Maynard wrote:
&gt;<i> You mean, people putting extra properties on things like Object.prototype
</I>&gt;<i> or DOMStringMap.prototype, and breaking code doing for(a in {})?  I don't
</I>&gt;<i> find that to be a problem: that's nuts, so I don't do it.
</I>
Yes, but lots of libraries do.  But even that's not the real problem.

&gt;<i> Unless the suggestion is that Object.getPrototypeOf(query.values) === null?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> That, or making the prototype immutable, as if Object.freeze was called on
</I>&gt;<i> it.
</I>
Making the proto immutable is not good enough.

Consider code that wants to extract a &quot;toString&quot; URL parameter.  How do 
you propose it go about doing that in a setup where query.values is a 
normal object with a proto chain that chains up to Object.prototype?

Note that there are lots of other property names that have the same problem.

It's not clear to me to what extent implementing as a proxy can mitigate 
this.  I suppose you could write has() and get() traps that ignore the 
proto chain, even if you for some reason want that proto chain to be 
there....

-Boris

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079880.html">[whatwg] URL: URLQuery
</A></li>
	<LI>Next message: <A HREF="079885.html">[whatwg] URL: URLQuery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79881">[ date ]</a>
              <a href="thread.html#79881">[ thread ]</a>
              <a href="subject.html#79881">[ subject ]</a>
              <a href="author.html#79881">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
