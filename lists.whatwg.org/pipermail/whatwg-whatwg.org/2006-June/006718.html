<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Mathematics in HTML5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Mathematics%20in%20HTML5&In-Reply-To=%3C3067.217.124.69.211.1150718774.squirrel%40webmail.canonicalscience.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006717.html">
   <LINK REL="Next"  HREF="006719.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Mathematics in HTML5</H1>
<!--htdig_noindex-->
    <B>juanrgonzaleza at canonicalscience.com</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Mathematics%20in%20HTML5&In-Reply-To=%3C3067.217.124.69.211.1150718774.squirrel%40webmail.canonicalscience.com%3E"
       TITLE="[whatwg] Mathematics in HTML5">juanrgonzaleza at canonicalscience.com
       </A><BR>
    <I>Mon Jun 19 05:06:14 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="006717.html">[whatwg] Mathematics in HTML5
</A></li>
        <LI>Next message: <A HREF="006719.html">[whatwg] Mathematics in HTML5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6718">[ date ]</a>
              <a href="thread.html#6718">[ thread ]</a>
              <a href="subject.html#6718">[ subject ]</a>
              <a href="author.html#6718">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
Ian Hickson wrote:
&gt;<i>
</I>&gt;<i> On Mon, 12 Jun 2006 <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">juanrgonzaleza at canonicalscience.com</A> wrote:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; WHATWG doesn't have a position on this -- different contributors
</I>&gt;&gt;<i> have  different opinions, and no clear consensus is being reached as
</I>&gt;&gt;<i> far as  I can tell.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It has been taken one! The draft of the specification recommends the
</I>&gt;&gt;<i> usage of MathML for mathematics.
</I>&gt;<i>
</I>&gt;<i> Hm, good point. This wasn't particularly intentional. Fixed.
</I>
Ok, people would freely choose languages in function of strengs and
weakness. XML-MAIDEN, MathML, OpenMath, and others would compete in an
equal footing (my experience is many people think that MathML is the
_only_ approach to mathematical markup).

&gt;<i>
</I>&gt;&gt;<i> MathML violates the official possition because is not based in reusing
</I>&gt;&gt;<i>  backward compatibility with HTML + CSS + DOM.
</I>&gt;<i>
</I>&gt;<i> MathML works fine with DOM, and it would be just as possible to convert
</I>&gt;<i> MathML to SVG as it would to convert anything else to SVG (as you
</I>&gt;<i> suggest  below).
</I>
Others do not agree on &quot;works fine&quot;. I personally see MathML-DOM like a
DOM correction to the errors done in MathML markup (somewhat as
MathML1-style was a correction to the mistake of ignoring available CSS
language; error has been partially solved in MathML 2.0).

Take the case of somewhat as &lt;frac&gt;&lt;num&gt;a&lt;/num&gt;&lt;den&gt;b&lt;/den&gt;&lt;/frac&gt; and
&lt;subform&gt;H&lt;/subform&gt;&lt;sup&gt;T&lt;/sup&gt; (and variants). Both encodings are DOM
compliant and can be accessed and manipulated via the standard DOM methods
browsers already incorporate.

Take now MathML versions: &lt;mfrac&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/mfrac&gt; and
&lt;msup&gt;&lt;mi&gt;H&lt;/mi&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/msup&gt;. Those encodings are not DOM friendly,
obligating to introduce special MathML-DOM for accessing, for instance, to
the base (H) of the script structure.

However, I can access to H using the *same* standard DOM methods I am
using for accessing any other HTML or XHTML markup &#150;e.g. the experimental
pop-up navigation menu on the still experimental canonicalscience site-
when I use the alternative encoding is being discussed here.

I am not a specialist on DOM implementations, but I know that MathML-DOM
model introduces special problems to browsers developers due to the
extension mechanism chosen (by inheritance). Problems are *avoided* using
a markup as that proposed by George and others which needs of no special
DOM.

As claimed many times in several places in the internet: w3c MathML WG
reinvented the wheel and did it square.

Moreover, still 2/3 of above summation hold.

Posibility for conversion to SVG does p-MathML completely unnecesary (but
not for c-MathML or HTML5-Math). In that case, I doubt that p-MathML was
supported anymore in future. It appears to me a closed road.

&gt;<i>
</I>&gt;&gt;<i> iii) I am reading many people interested in native support for
</I>&gt;&gt;<i> mathematics in HTML5.
</I>&gt;<i>
</I>&gt;<i> Certainly. The question is how. There have been several proposals. My
</I>&gt;<i> recommendation to those who think it is possible to re-use CSS to get an
</I>&gt;<i>  acceptable level of Math support would be to go through the
</I>&gt;<i> Microformats  process to prove the case.
</I>
See my comments on why not microformats and the two links revieving
microformats.

&gt;<i> It doesn't make sense to bless a dozen new tags (or more) to be in the
</I>&gt;<i> HTML namespace (and thus with us for all time!) without first proving
</I>&gt;<i> that  yes, that approach is good enough for mathematicians and
</I>&gt;<i> scientists.
</I>
And what better way do you know that providing a mathematical markup on
the final WHATWG draft? Mathematicians and scientists and rest of people
using math (enginneers, students, physicians...) could read the draft and
accept or reject it. You would only waste a bit of time writing and adding
one or two new sections to the current draft of the spec.

Some people here has done a public plea for mathematical markup using (at
least the most part of) George original proposal. They did not a plea for
development of a microformat.

&gt;<i>
</I>&gt;&gt;<i> However, i do not remember of some example that was correctly encoded
</I>&gt;&gt;<i> in  p-MathML with current tools and correctly rendered via browsers
</I>&gt;&gt;<i> cannot  be encoded via George CSS approach.
</I>&gt;<i>
</I>&gt;<i> Stretchy glyphs are one example. You can do basic maths with CSS, sure.
</I>&gt;<i> It's the high-end typography that's the problem.
</I>
Sorry, but I cannot agree. In real practice, I do not know of a single
example of MathML you can find at NAG, at Distler blog on string theory,
at journals of math or on Living reviews on relativity (between others)
containing mathematics cannot be rendered via CSS. And I would not call
&quot;basic math&quot; to that on Living reviews on relativity or Distler MUSINGS.

It is more, I am updating a serie of snapshots obtained with my Firefox
browser when rendering MathML and the browsers fails in several cases with
strectchy glyphs. Yes, some examples are passed when dowloading and
installing special fonts, but that is not a sane practice.

However, I know many examples of formulae (in physical and mathematical
sites) are encoded via MathML 2.0 and both structure and the visual
renderings are poor than using CSS (even if special CM and math fonts are
installed in the machine): differentials, integrals, basic chemical
formulae, tensors, and others. I have revised some in my blog but I will
offer more examples in a new round covering mathematical journal, and
educative site, NAG, Elsevier usage of MathML (do you know are not using
the standard but an in-house modification?), and others.

About &quot;Stretchy glyphs&quot; take the case of matrices of different size. Luca
Padovani writes &quot;By the MathML stretchying rules of operators [...] A
quick analysis of the MathML markup reveals that there is no way to
preserve the structure of the formula and still have a &#145;correct&#146; rendering
at the same time.&quot;

However, I see no limitation for a fine-tuning of the correct rendering of
a matricial equation on a CSS based approach &#150;I could adjust the heigth of
the pathological matrix via standard CSS rules e.g. adjusting height of
the borders-.

But even if CSS was a 80% technology for math that does not indicate it
was not useful. XSLT is also a 80% technology indeed for the rest of 20%
transformations general languages and specific APIs are better.

HTML-text never was designed for &quot;high-end typography&quot; just for electronic
transmision of information. Most people finding nice MSWord mathematical
rendering (even if mathematicians find it boring when comparing with TeX
quality) would find nice HTML-Math-CSS.

&gt;<i>
</I>&gt;&gt;<i> vi) There is an increasing interest in graphical improvements of CSS.
</I>&gt;&gt;<i> Mozilla Corporation and L. David Baron want substitute SVG
</I>&gt;&gt;<i> capabilities via CSS (March 2006) without duplicating code.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [<A HREF="http://dbaron.org/css/css-vg/]">http://dbaron.org/css/css-vg/]</A>
</I>&gt;<i>
</I>&gt;<i> I'm familiar with that, I think I was the first person David showed this
</I>&gt;<i>  to. I'm in the CSS working group as well, by the way. :-)
</I>
The I suspect you would agree with me that rendering of mathematics via
CSS (specially when including full graphical support for things as
diagrams, roots, geometry, etc.) has more future that waiting a magical
implementation in browsers of an ugly *presentational* XML markup (MathML)
would be obsolete in a few years.

If Mozilla Corporation and L. David Baron are interested in adding things
as lines, gradients, and paths in CSS they will automatically be
interested (but in an indirect way of course) in the drawing of roots, of
poligons, Venn diagrams, maps, functions, etc. Currently browsers rely on
a special presentational MathML markup needing of special non-web fonts
for drawing the roots but cannot draw nothing of the rest, and the rest is
also math.

&gt;<i>
</I>&gt;&gt;<i> I also would recommend a reading of
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [<A HREF="http://people.opera.com/howcome/1999/foch.html]">http://people.opera.com/howcome/1999/foch.html]</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> since several comments also hold to the w3c idea of serving
</I>&gt;&gt;<i> presentational MathML on the web.
</I>&gt;<i>
</I>&gt;<i> I am intimately familiar with this document too, howcome and I have
</I>&gt;<i> chatted about this many times over lunch...
</I>
On that case p-MathML is most harmfull than FO objects still when served
in online documents. Not forget that accesibility of p-MathML is poor that
when you use the old GIF-ALT model.

&gt;<i> Note that the proposal to have Math in HTML in a way that can be
</I>&gt;<i> rendered  using CSS is also a kind of presentational Math and not a
</I>&gt;<i> pure-semantic  Math, so arguing that we shouldn't use p-MathML because
</I>&gt;<i> it isn't semantic  would not be consistent with arguing we should be
</I>&gt;<i> purely CSS-compatible.
</I>
That was not my point. I carefully recommended to this list avoiding
introduction of content markup and any semantic discussion since the issue
is more complex than we can discuss here.

My view is that HTML5-Math would focus just on structure. Next that
structure would be rendered via CSS. This is usual practice in HTML and
again we recover backward compatibility.

Yet p-MathML is presentational, violates basic guidelines of web desing,
would be avoided from the web and do not fit into general structure of
structural HTML. P-MathML is a verbose version of the old &lt;center&gt;,
&lt;font&gt;, &lt;tt&gt;, &lt;i&gt;, &lt;b&gt; and the rest of presentational HTML has been
deprecated during last years. I see no rationale for that the same
criteria followed with presentational HTML and XSL-FO may be not applied
to p-MathML also.

For instance, &lt;mfrac&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mfrac&gt; is purely presentational
(like XSL-FO is). Even the tokens &lt;mi&gt; and &lt;mn&gt; are purely presentational
even if *some* tools can extract semantics from it. The fact they are
designed to be purely presentational can be seen in the fact that content
MathML version of above code is
&lt;apply&gt;&lt;divide&gt;&lt;ci&gt;b&lt;/ci&gt;&lt;cn&gt;2&lt;/cn&gt;&lt;/apply&gt;; that is, reusing
***nothing*** of p-MathML.

But &lt;frac&gt;&lt;num&gt;b&lt;/num&gt;&lt;den&gt;2&lt;/den&gt;&lt;/frac&gt; is not presentational it is
structural. There is a &#147;section&#148; &lt;frac&gt; with two substructures num and
den. Next frac, num, and den are rendered via CSS. For example num
contains a bottom line can be styled via CSS standard rules (p-MathML, of
course, reinvents the wheel adding his own collection of styles and
attributes). Already in this list a CSS gur&#250; claimed that was a big
mistake (in fact, the absence of support in browsers is mainly due to
mistakes of MathML designers).

&gt;<i>
</I>&gt;&gt;<i> However, official positions from several parties here implied would be
</I>&gt;&gt;<i>  welcomed before. Specially interesting for this WG would be position
</I>&gt;&gt;<i> from browser developers.
</I>&gt;<i>
</I>&gt;<i> Howcome has stated his opinion, I believe; the idea of porting MathML to
</I>&gt;<i>  HTML5 was originally put forward by the Mozilla team. I do not recall
</I>&gt;<i> any  opinions from Safari or Microsoft developers on the topic.
</I>
Other stated contrary views to MathML support. Morever, I am not sure if
by &quot;Mozilla team&quot; you mean all the team (including CSS-SVG people) or just
the guy that implemented p-MathML in Gecko in that &quot;strange&quot; (but heroic
in no doubt) way (reusing HTML layout code for &lt;mtable&gt;, introducing CM
font metrics in the rendering engine, very-low performance).

It would be interesting to know users and developers think about idea of
providing new mathematical markup for the web, solving difficulties of
MathML.

Some suggestion for publiciting this debate waiting *all* voices
interested in mathematics (beyond mathematicians and scientists) can be
heard?


Juan R.

Center for CANONICAL |SCIENCE)




</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006717.html">[whatwg] Mathematics in HTML5
</A></li>
	<LI>Next message: <A HREF="006719.html">[whatwg] Mathematics in HTML5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6718">[ date ]</a>
              <a href="thread.html#6718">[ thread ]</a>
              <a href="subject.html#6718">[ subject ]</a>
              <a href="author.html#6718">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
