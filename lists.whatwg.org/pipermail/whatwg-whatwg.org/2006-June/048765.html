<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Side effects free scripts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Side%20effects%20free%20scripts&In-Reply-To=%3Cop.tagjo02d1h6og4%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048764.html">
   <LINK REL="Next"  HREF="048766.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Side effects free scripts</H1>
<!--htdig_noindex-->
    <B>Alexey Feldgendler</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Side%20effects%20free%20scripts&In-Reply-To=%3Cop.tagjo02d1h6og4%40localhost%3E"
       TITLE="[whatwg] Side effects free scripts">alexey at feldgendler.ru
       </A><BR>
    <I>Thu Jun  1 01:11:14 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="048764.html">[whatwg] Side effects free scripts
</A></li>
        <LI>Next message: <A HREF="048766.html">[whatwg] &lt;input type=&quot;text&quot; accept=&quot;&quot;&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48765">[ date ]</a>
              <a href="thread.html#48765">[ thread ]</a>
              <a href="subject.html#48765">[ subject ]</a>
              <a href="author.html#48765">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 01 Jun 2006 14:27:11 +0700, Andrew Fedoniouk &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">news at terrainformatica.com</A>&gt; wrote:

&gt;<i> Consequence of &quot;halting problem&quot; is a Rice's theorem:
</I>&gt;<i> it states that only trivial properties of programs are algorithmically
</I>&gt;<i> decidable.
</I>&gt;<i> &quot;No side effects&quot; is not a trivial property.
</I>
It's not necessary to verify that a script is side effects free at compile time. You can enforce it at run time with little effort, much easier than the full-blown sandbox approach.

&gt;&gt;<i> To guarantee the same result each time is another requirement, and it's
</I>&gt;&gt;<i> not necessary to fulfil it. In the end, right now there are no guarantees
</I>&gt;&gt;<i> about the scripts, and wouldn't it be better if it could be guaranteed
</I>&gt;&gt;<i> that a CSS expresssion() doesn't steal cookies at least?
</I>
&gt;<i> Real example:  RegExp.source in IE is a static property. I think I don't
</I>&gt;<i> need to explain how to steal cookies if I know that  regexp was used for
</I>&gt;<i> analyzing them at some point.
</I>&gt;<i>
</I>&gt;<i> So answer is &quot;no&quot; on this:
</I>&gt;<i> &quot;if it could be guaranteed that a CSS expresssion() doesn't steal cookies at
</I>&gt;<i> least&quot;
</I>
Ok, let's take a closer look at this example. Please post such an expression that steals cookies using RegExp.source, and I'll show where the script should be terminated by the interpreter for violation of the side effects free contract.


&gt;&gt;<i> The purpose of expression(), as implemented by IE, is to allow authors to
</I>&gt;&gt;<i> provide procedural implementation of the layout logic that the browser's
</I>&gt;&gt;<i> layout engine lacks. A simple example would be painting odd rows of a
</I>&gt;&gt;<i> table in one color and the even rows in another. Or highlighting cells
</I>&gt;&gt;<i> which contain negative values. Of course, those things that can be
</I>&gt;&gt;<i> expressed declaratively using CSS should be expressed as such, but there
</I>&gt;&gt;<i> will always be use cases beyound the current CSS. I think that declaring
</I>&gt;&gt;<i> alternating row colors with expression() is better than assigning them
</I>&gt;&gt;<i> alternating classes because these classes would be just &quot;hooks&quot; for CSS,
</I>&gt;&gt;<i> having no semantic value. And it plays better with dynamic tables which
</I>&gt;&gt;<i> allow rows to be inserted and removed.
</I>
&gt;<i> &quot;cases beyound the current CSS&quot; is a motivation to create better CSS but not
</I>&gt;<i> to invent design struts. IMHO.
</I>
IMHO, they are motivation for both.

1. Not every use case is eligible for making a CSS feature. How far should it go? What if one needs to highlight rows in a table which fall under some complex condition? Some documents may need very unusual presentation which IS algorithmically derivable from semantics but is not expressible in CSS. I think it's better to have it specified with expression() rather than assigning presentation hooks such as classes to elements, and updating these every time when the content changes dynamically.

2. Even if a use case is eligible for making a CSS feature, it still requires time to make it into the major browsers. Many things which are not supported natively in IE can be implemented with expression(), and I think it would be good to have this tool for implementation of browser fallback in every browser.

&gt;<i> I've proposed two years ago flex units in CSS (aka %%).:
</I>&gt;<i> <A HREF="http://www.terrainformatica.com/htmlayout/fspu.whtm">http://www.terrainformatica.com/htmlayout/fspu.whtm</A>
</I>&gt;<i> <A HREF="http://www.terrainformatica.com/htmlayout/flow.whtm">http://www.terrainformatica.com/htmlayout/flow.whtm</A>
</I>&gt;<i>
</I>&gt;<i> Two years of use prooved - they are extremely useful.
</I>
IE's expression() has proved to be useful, too. I think it's one of those cases like XmlHttpRequest when features implemented in IE prove useful enough to be standardized.


-- 
Alexey Feldgendler &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">alexey at feldgendler.ru</A>&gt;
[ICQ: 115226275] <A HREF="http://feldgendler.livejournal.com">http://feldgendler.livejournal.com</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048764.html">[whatwg] Side effects free scripts
</A></li>
	<LI>Next message: <A HREF="048766.html">[whatwg] &lt;input type=&quot;text&quot; accept=&quot;&quot;&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48765">[ date ]</a>
              <a href="thread.html#48765">[ thread ]</a>
              <a href="subject.html#48765">[ subject ]</a>
              <a href="author.html#48765">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
