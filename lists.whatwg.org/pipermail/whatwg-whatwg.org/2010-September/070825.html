<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Media resource fetch algorithm reporting failure
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Media%20resource%20fetch%20algorithm%20reporting%20failure&In-Reply-To=%3C4C92AE03.8010200%40pearce.org.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070824.html">
   <LINK REL="Next"  HREF="070826.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Media resource fetch algorithm reporting failure</H1>
<!--htdig_noindex-->
    <B>Chris Pearce</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Media%20resource%20fetch%20algorithm%20reporting%20failure&In-Reply-To=%3C4C92AE03.8010200%40pearce.org.nz%3E"
       TITLE="[whatwg] Media resource fetch algorithm reporting failure">chris at pearce.org.nz
       </A><BR>
    <I>Thu Sep 16 16:53:39 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070824.html">[whatwg] Media resource fetch algorithm reporting failure
</A></li>
        <LI>Next message: <A HREF="070826.html">[whatwg] some questions regarding clipboard event / clipboard data	API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70825">[ date ]</a>
              <a href="thread.html#70825">[ thread ]</a>
              <a href="subject.html#70825">[ subject ]</a>
              <a href="author.html#70825">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>  Ah I see that we will fire an error event when we return to the 
resource selection algorithm in this case, since we didn't abort the 
resource selection algorithm. Never mind!

Chris P.


On 16/09/2010 3:48 p.m., Chris Pearce wrote:
&gt;<i> In the media element resource fetch algorithm [1], there's this step:
</I>&gt;<i>
</I>&gt;<i> &lt;quote&gt;
</I>&gt;<i>
</I>&gt;<i> If the media data 
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#media-data">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#media-data</A>&gt; 
</I>&gt;<i> cannot be fetched at all, due to network errors, causing the user 
</I>&gt;<i> agent to give up trying to fetch the resource [or]
</I>&gt;<i> If the media resource 
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#media-resource">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#media-resource</A>&gt; 
</I>&gt;<i> is found to have Content-Type metadata 
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/urls.html#content-type">http://www.whatwg.org/specs/web-apps/current-work/multipage/urls.html#content-type</A>&gt; 
</I>&gt;<i> that, when parsed as a MIME type 
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/infrastructure.html#mime-type">http://www.whatwg.org/specs/web-apps/current-work/multipage/infrastructure.html#mime-type</A>&gt; 
</I>&gt;<i> (including any codecs described by the |codecs| parameter), represents 
</I>&gt;<i> a type that the user agent knows it cannot render 
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#a-type-that-the-user-agent-knows-it-cannot-render">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#a-type-that-the-user-agent-knows-it-cannot-render</A>&gt; 
</I>&gt;<i> (even if the actual media data 
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#media-data">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#media-data</A>&gt; 
</I>&gt;<i> is in a supported format) [or]
</I>&gt;<i> If the media data 
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#media-data">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#media-data</A>&gt; 
</I>&gt;<i> can be fetched but is found by inspection to be in an unsupported 
</I>&gt;<i> format, or can otherwise not be rendered at all
</I>&gt;<i>
</I>&gt;<i>   1.
</I>&gt;<i>
</I>&gt;<i>       The user agent should cancel the fetching process.
</I>&gt;<i>
</I>&gt;<i>   2.
</I>&gt;<i>
</I>&gt;<i>       Abort this subalgorithm, returning to the resource selection
</I>&gt;<i>       algorithm
</I>&gt;<i>       &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#concept-media-load-algorithm">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#concept-media-load-algorithm</A>&gt;.
</I>&gt;<i>
</I>&gt;<i> &lt;/quote&gt;
</I>&gt;<i>
</I>&gt;<i> Why don't we dispatch an error event to the candidate source child we 
</I>&gt;<i> were loading from, or the media element if it was loading from a 
</I>&gt;<i> source attribute, in this case? We dispatch error events in the 
</I>&gt;<i> resource selection algorithm if the source child has an unsupported 
</I>&gt;<i> type, how is this significantly different?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Chris Pearce.
</I>&gt;<i>
</I>&gt;<i> [1] 
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#concept-media-load-resource">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#concept-media-load-resource</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100916/4c4a2b21/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100916/4c4a2b21/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070824.html">[whatwg] Media resource fetch algorithm reporting failure
</A></li>
	<LI>Next message: <A HREF="070826.html">[whatwg] some questions regarding clipboard event / clipboard data	API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70825">[ date ]</a>
              <a href="thread.html#70825">[ thread ]</a>
              <a href="subject.html#70825">[ subject ]</a>
              <a href="author.html#70825">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
