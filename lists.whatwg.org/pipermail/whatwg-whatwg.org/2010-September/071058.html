<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Low Memory Event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Low%20Memory%20Event&In-Reply-To=%3C753F67ADE6F5094C9F1DBA00D1BAA8D325B6E8F1D2%40orsmsx501.amr.corp.intel.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071057.html">
   <LINK REL="Next"  HREF="071053.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Low Memory Event</H1>
<!--htdig_noindex-->
    <B>Tran, Dzung D</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Low%20Memory%20Event&In-Reply-To=%3C753F67ADE6F5094C9F1DBA00D1BAA8D325B6E8F1D2%40orsmsx501.amr.corp.intel.com%3E"
       TITLE="[whatwg] Low Memory Event">dzung.d.tran at intel.com
       </A><BR>
    <I>Tue Sep 28 21:45:19 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="071057.html">[whatwg] Low Memory Event
</A></li>
        <LI>Next message: <A HREF="071053.html">[whatwg] Low Memory Event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71058">[ date ]</a>
              <a href="thread.html#71058">[ thread ]</a>
              <a href="subject.html#71058">[ subject ]</a>
              <a href="author.html#71058">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>You should try to work this type of requests through the W3C DAP WG. They are working on similar APIs. For example the System Info API at: <A HREF="http://dev.w3.org/2009/dap/system-info/">http://dev.w3.org/2009/dap/system-info/</A>

Regards,
Dzung Tran

-----Original Message-----
From: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A> [mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>] On Behalf Of Charles Pritchard
Sent: Tuesday, September 28, 2010 3:53 PM
To: timeless
Cc: Rob Evans; <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>
Subject: Re: [whatwg] Low Memory Event

On 9/28/10 1:35 AM, timeless wrote:
&gt;<i> On 9/28/10, Rob Evans&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">rob at mtn-i.com</A>&gt;  wrote:
</I>&gt;<i>    
</I>&gt;&gt;<i> All good points. I think as we have moved away from simple web pages and
</I>&gt;&gt;<i> really start to think about applications that are coded in js, many things
</I>&gt;&gt;<i> previously the exclusive domain of desktop apps are more and more desirable
</I>&gt;&gt;<i> for web apps.
</I>&gt;&gt;<i>      
</I>&gt;<i> Unfortunately, moving away from simple pages introduces pain points
</I>&gt;<i> previously only experienced in desktop applications. Browser design
</I>&gt;<i> should aim to avoid exposing such pain points.
</I>&gt;<i>    
</I>Complex apps necessarily introduce additional work.

What we're seeing, is that desktop application developers are now able 
to use &quot;web&quot; APIs.
&gt;&gt;<i> I also think that a web page should be able to request exclusive access to
</I>&gt;&gt;<i> the graphics card just like many native games do,
</I>&gt;&gt;<i>      
</I>Many vendors are working hard to support WebGL. I don't think &quot;exclusive 
access&quot; makes any sense,
but I'm not an expert. I recommend you review Google's work in the area, 
as they're supporting
GL through various entry points (Native Client, WebGL, and their 
OpenGL+DirectX layer).

I don't think that this issue has much to do with my proposal.
&gt;<i> Only an application knows what should be done when backgrounded. But
</I>&gt;<i> some forms of backgrounding shouldn't really be exposed to apps. I
</I>&gt;<i> don't want an interstitial page to recognize that I'm ignoring it --
</I>&gt;<i> sadly, the future is in this direction, interactive ads which block
</I>&gt;<i> content views until they're dismissed.
</I>&gt;<i>    
</I>window.onblur and window.onfocus already expose some of this.
Yes, the interactive ads now on YouTube and other services are quite 
annoying,
and I'm sure the market will respond accordingly. But that's not a 
standards nor security issue.
&gt;<i> It'd be nice to know if Safari on iOS3 sends events to pages when the
</I>&gt;<i> user switches &quot;away&quot; and &quot;back&quot;, I've assumed it just saves a picture
</I>&gt;<i> and reloads the page.
</I>&gt;<i>    
</I>Safari task switching on iOS manages tabs by task switching, or reloading.
I don't know if it fires onfocus/onblur, but I'm sure it has some events.

WebApp developers targeting iOS may be running as an application using a 
web frame.
The same is true for Android devs. They are always free to inject events 
into their web frame;
was commonly done for events like &quot;onorientationchange&quot;.
&gt;<i> Imagine a user loads 2 html-canvas3d games. Imagine that the system
</I>&gt;<i> doesn't have much memory and that the user is paying for bandwidth
</I>&gt;<i> (I'm in .ie w/ .uk and .fi sims -- I'm roaming, it's expensive). Is
</I>&gt;<i> the user going to be happy with you trying to store your inactive game
</I>&gt;<i> in DOM/JS (which causes swapping) and then with you trying to use the
</I>&gt;<i> network as a storage? The right thing to do is to recognize your FPS
</I>&gt;<i>    
</I>This sounds like something the game designer would put in their 
settings. Just as
they currently do when allowing users to change resolution, depth, 
lighting, and so forth.
&gt;<i> unreliable/unusable for non browser applications (Maemo 5). At least
</I>&gt;<i> on Maemo 5 the low memory events (which were at least sort of used in
</I>&gt;<i> Maemo 4) are effectively never delivered. The system has 256mb of ram
</I>&gt;<i> (128mb is vaguely available to apps) and 764mb of swap (which prevents
</I>&gt;<i> low memory signals from being fired until after the system swaps to
</I>&gt;<i>
</I>&gt;<i>    
</I>I realize that low memory events may not be reliably received. We have 
functioning
examples, however, of current browsers responding to low memory events. 
So it can happen.

A programmer should not expect that they will reliably receive low 
memory events.
The purpose is simply to expose them in cases they may happen in. Right 
now, I hit low
memory issues in Chrome and Firefox, frequently. I'd like to throw in a 
little extra code
to deal with that process.

Aza Raskin has put forward a great proof of concept of a web browser 
running dozens
of tabs in a manageable UI.  Whether a resource constrained system, or a 
system that's
just running a hundred different processes, allowing hooks for 
&quot;onsuspend&quot; &quot;onlowmemory&quot;,
may mean that WebApp developers will support those conditions.

In the meantime, devs do code for those events, in non-standard ways, 
through tool kits like Phonegap
&gt;<i> guy determine where the risk point is. Typically what has happened for
</I>&gt;<i> perhaps 20 or more years in desktop/web applications is that low
</I>&gt;<i> memory conditions lead to &quot;code execution vulnerabilities&quot;.
</I>&gt;<i>    
</I>Chrome does a graceful crash of some running processes and not others. 
It would
not introduce an attack vector to notify those still-running processes 
with a dispatched event.

&gt;<i> Anyway, for now, instead of pleading, please try working with what you
</I>&gt;<i> have. Once webworkers, taskmanagers, resource monitoring is exposed to
</I>&gt;<i> users, we can look into what should be exposed to apps. Please
</I>&gt;<i> remember that &quot;the editor&quot; will address threads eventually, but that
</I>&gt;<i> only new input (use cases, experience) is valuable.
</I>&gt;<i>    
</I>
Didn't realize it was pleading. I intended to have a conversation about 
a proposal,
and whether the scope of that proposal should be extended.

As usual, in this mailing list, I'm sharing some of the demands and 
experiences of my job,
hoping that others will discuss theirs with me, and that browser vendors 
consider how those
use cases might be addressed in future versions.

Most of the browsers nowadays are open source; there's no need for pleading,
they have open processes to submit code patches for review.

-Charles

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071057.html">[whatwg] Low Memory Event
</A></li>
	<LI>Next message: <A HREF="071053.html">[whatwg] Low Memory Event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71058">[ date ]</a>
              <a href="thread.html#71058">[ thread ]</a>
              <a href="subject.html#71058">[ subject ]</a>
              <a href="author.html#71058">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
