<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Video with MIME type application/octet-stream
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Video%20with%20MIME%20type%20application/octet-stream&In-Reply-To=%3CC28E698C-C60A-41BD-983E-72AAE6727681%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070617.html">
   <LINK REL="Next"  HREF="070622.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Video with MIME type application/octet-stream</H1>
<!--htdig_noindex-->
    <B>Eric Carlson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Video%20with%20MIME%20type%20application/octet-stream&In-Reply-To=%3CC28E698C-C60A-41BD-983E-72AAE6727681%40apple.com%3E"
       TITLE="[whatwg] Video with MIME type application/octet-stream">eric.carlson at apple.com
       </A><BR>
    <I>Wed Sep  1 09:10:07 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070617.html">[whatwg] Video with MIME type application/octet-stream
</A></li>
        <LI>Next message: <A HREF="070622.html">[whatwg] Video with MIME type application/octet-stream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70614">[ date ]</a>
              <a href="thread.html#70614">[ thread ]</a>
              <a href="subject.html#70614">[ subject ]</a>
              <a href="author.html#70614">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Aug 31, 2010, at 4:01 PM, Ian Hickson wrote:

&gt;<i> On Tue, 31 Aug 2010, Eric Carlson wrote:
</I>&gt;&gt;<i> On Aug 31, 2010, at 12:36 AM, Ian Hickson wrote:
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Safari does crazy things right now that we won't go into; for the 
</I>&gt;&gt;&gt;<i> purposes of this discussion we'll assume Safari can change.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> What crazy things does Safari do that it should not?
</I>&gt;<i> 
</I>&gt;<i> I forget the details, but IIRC one of the main problems was that it was 
</I>&gt;<i> based on the URL's file extension exclusively.
</I>&gt;<i> 
</I>  No, I don't see how you came to that conclusion. 

  QuickTime knows how to create a movie from a text file (to make it easy to create captions, chapters, etc), but it also assumes a file served as &quot;text/plain&quot; may be coming from a misconfigured server. Therefore, when it gets a file served as &quot;text/plain&quot; it first looks at the file content and/or  the file extension to see if it is a movie file. It opens it as text only if it doesn't look like a movie.

  In your test page (<A HREF="http://hixie.ch/tests/adhoc/html/video/002.html">http://hixie.ch/tests/adhoc/html/video/002.html</A>), all four movies have correct extensions but are served as text/plain:

    &lt;!DOCTYPE HTML&gt;
    &lt;title&gt;text/plain video files&lt;/title&gt;
    &lt;p&gt; &lt;video autoplay controls src=&quot;resources/text.txt&quot;&gt;&lt;/video&gt;
    &lt;p&gt; &lt;video autoplay controls src=&quot;resources/text.webm&quot;&gt;&lt;/video&gt; 
    &lt;p&gt; &lt;video autoplay controls src=&quot;resources/text.m4v&quot;&gt;&lt;/video&gt;
    &lt;p&gt; &lt;video autoplay controls src=&quot;resources/text.ogv&quot;&gt;&lt;/video&gt;

  When the shipping version of Safari opens this page the MPEG-4 file opens correctly, and opens the other three as &quot;text&quot; (if you wait long enough) because by default QuickTime doesn't know how to open the Ogg or WebM files. If you add QuickTime importers for WebM and Ogg, those file will be opened as movies instead of as &quot;text&quot; because of the file extensions, despite the fact that they are serve as text.

  FWIW, in nightly builds we are now configuring QuickTime so it won't ever open files it identifies as text.

eric



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070617.html">[whatwg] Video with MIME type application/octet-stream
</A></li>
	<LI>Next message: <A HREF="070622.html">[whatwg] Video with MIME type application/octet-stream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70614">[ date ]</a>
              <a href="thread.html#70614">[ thread ]</a>
              <a href="subject.html#70614">[ subject ]</a>
              <a href="author.html#70614">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
