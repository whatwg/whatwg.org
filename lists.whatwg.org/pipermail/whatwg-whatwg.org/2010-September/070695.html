<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Timed tracks: feedback compendium
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Timed%20tracks%3A%20feedback%20compendium&In-Reply-To=%3Cop.vipi79o4sr6mfa%40kirk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070687.html">
   <LINK REL="Next"  HREF="070697.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Timed tracks: feedback compendium</H1>
<!--htdig_noindex-->
    <B>Philip J&#228;genstedt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Timed%20tracks%3A%20feedback%20compendium&In-Reply-To=%3Cop.vipi79o4sr6mfa%40kirk%3E"
       TITLE="[whatwg] Timed tracks: feedback compendium">philipj at opera.com
       </A><BR>
    <I>Wed Sep  8 02:27:35 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070687.html">[whatwg] Timed tracks: feedback compendium
</A></li>
        <LI>Next message: <A HREF="070697.html">[whatwg] Timed tracks: feedback compendium
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70695">[ date ]</a>
              <a href="thread.html#70695">[ thread ]</a>
              <a href="subject.html#70695">[ subject ]</a>
              <a href="author.html#70695">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 08 Sep 2010 01:19:17 +0200, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:

&gt;<i> On Fri, 23 Jul 2010, Philip J&#228;genstedt wrote:
</I>
&gt;&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#attr-track-kind">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#attr-track-kind</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The distinction between subtitles and captions isn't terribly clear.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It says that subtitles are translations, but plain transcriptions
</I>&gt;&gt;<i> without cues for the hard of hearing would also be subtitles.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> How does one categorize translations that are for the HoH?
</I>&gt;<i>
</I>&gt;<i> I've tried to clarify this.
</I>
Thanks, the new definitions look good to me.

&gt;&gt;<i> Alternatively, might it not be better to simply use the voice &quot;sound&quot;
</I>&gt;&gt;<i> for this and let the default stylesheet hide those cues? When writing
</I>&gt;&gt;<i> subtitles I don't want the maintenance overhead of 2 different versions
</I>&gt;&gt;<i> that differ only by the inclusion of [doorbell rings] and similar.
</I>&gt;&gt;<i> Honestly, it's more likely that I just wouldn't bother with
</I>&gt;&gt;<i> accessibility for the HoH at all. If I could add it with &lt;sound&gt;doorbell
</I>&gt;&gt;<i> rings, it's far more likely I would do that, as long as it isn't
</I>&gt;&gt;<i> rendered by default. This is my preferred solution, then keeping only
</I>&gt;&gt;<i> one of kind=subtitles and kind=captions. Enabling the HoH-cues could
</I>&gt;&gt;<i> then be a global preference in the browser, or done from the context
</I>&gt;&gt;<i> menu of individual videos.
</I>&gt;<i>
</I>&gt;<i> I don't disagree with this, but I fear it might be too radical a step for
</I>&gt;<i> the caption-authoring community to take at this point.
</I>
Well, I guess the infrastructure in place is enough to do this by changing  
stylesheets.

&gt;&gt;<i> If we must have both kind=subtitles and kind=captions, then I'd suggest
</I>&gt;&gt;<i> making the default subtitles, as that is without a doubt the most common
</I>&gt;&gt;<i> kind of timed text. Making captions the default only means that most
</I>&gt;&gt;<i> timed text will be mislabeled as being appropriate for the HoH when it
</I>&gt;&gt;<i> is not.
</I>&gt;<i>
</I>&gt;<i> Ok, I've changed the default. However, I'm not fighting this battle if it
</I>&gt;<i> comes up again, and will just change it back if people don't defend  
</I>&gt;<i> having
</I>&gt;<i> this as the default. (And then change it back again if the browsers pick
</I>&gt;<i> &quot;subtitles&quot; in their implementations after all, of course.)
</I>&gt;<i>
</I>&gt;<i> Note that captions aren't just for users that are hard-of-hearing. Most  
</I>&gt;<i> of
</I>&gt;<i> the time when I use timed tracks, I want captions, because the reason I
</I>&gt;<i> have them enabled is that I have the sound muted.
</I>
OK, thanks!

&gt;<i> On Fri, 23 Jul 2010, Sam Dutton wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is trackgroup out of the spec?
</I>&gt;<i>
</I>&gt;<i> What is trackgroup?
</I>
In the discussion on public-html-a11y &lt;trackgroup&gt; was suggested to group  
together mutually exclusive tracks, so that enabling one automatically  
disables the others in the same trackgroup.

I guess it's up to the UA how to enable and disable &lt;track&gt;s now, but the  
only option is making them all mutually exclusive (as existing players do)  
or a weird kind of context menu where it's possible to enable and disable  
tracks completely independently. Neither options is great, but as a user I  
would almost certainly prefer all tracks being mutually exclusive and  
requiring scripts to enable several at once.

&gt;<i> On Fri, 6 Aug 2010, Philip J&#228;genstedt wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm not particularly fond of the current voice markup, mainly for 2
</I>&gt;&gt;<i> reasons:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> First, a cue can only have 1 voice, which makes it impossible to style
</I>&gt;&gt;<i> cues spoken/sung simultaneously by 2 or more voices. There's a karaoke
</I>&gt;&gt;<i> example of this in
</I>&gt;&gt;<i> &lt;<A HREF="http://wiki.whatwg.org/wiki/Use_cases_for_timed_tracks_rendered_over_video_by_the_UA#Multiple_voices">http://wiki.whatwg.org/wiki/Use_cases_for_timed_tracks_rendered_over_video_by_the_UA#Multiple_voices</A>&gt;
</I>&gt;<i>
</I>&gt;<i> That's just two cues.
</I>
I'm not sure what you're saying. The male singer's cues are in blue, the  
female singer's are in red and the part sung together is in green. Are you  
saying that the last cue should be made into two cues, or something else?

&gt;&gt;<i> I would prefer if voices could be mixed, as such:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 00:01.000 --&gt; 00:02.000
</I>&gt;&gt;<i> &lt;1&gt; Speaker 1
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 00:03.000 --&gt; 00:04.000
</I>&gt;&gt;<i> &lt;2&gt; Speaker 2
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 00:05.000 --&gt; 00:06.000
</I>&gt;&gt;<i> &lt;1&gt;&lt;2&gt; Speaker 1+2
</I>&gt;<i>
</I>&gt;<i> What's the use case?
</I>
To use a different style for the cues that are sung together, so that you  
know when it's your turn to sing. I hope we can throw away the numerical  
voices, continued below...

&gt;&gt;<i> Second, it makes it impossible to target a smaller part of the cue for
</I>&gt;&gt;<i> styling. We have &lt;i&gt; and &lt;b&gt;, but there are also cases where part of the
</I>&gt;&gt;<i> cue should be in a different color, see
</I>&gt;&gt;<i> &lt;<A HREF="http://wiki.whatwg.org/wiki/Use_cases_for_timed_tracks_rendered_over_video_by_the_UA#Multiple_colors">http://wiki.whatwg.org/wiki/Use_cases_for_timed_tracks_rendered_over_video_by_the_UA#Multiple_colors</A>&gt;
</I>&gt;<i>
</I>&gt;<i> Well you can always restyle &lt;i&gt; or &lt;b&gt;.
</I>
That would be quite an abuse of &lt;i&gt; and &lt;b&gt; and would give bogus  
italics/bold text in standalone players.

&gt;&gt;<i> If one allows multiple voices, it's not hard to predict that people will
</I>&gt;&gt;<i> start using magic numbers just to work around this, which would both be
</I>&gt;&gt;<i> wrong semantically and ugly to look at:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 00:01.000 --&gt; 00:02.000
</I>&gt;&gt;<i> &lt;1&gt; I like &lt;1234&gt;blue&lt;/1234&gt; words.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> They'd then target 1234 with CSS to color it blue.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm not sure of the best solution. I'd quite like the ability to use
</I>&gt;&gt;<i> arbitrary voices, e.g. to use the names/initials of the speaker rather
</I>&gt;&gt;<i> than a number, or to use e.g. &lt;shouting&gt; in combination with CSS :before
</I>&gt;&gt;<i> { content 'Shouting: ' } or similar to adapt the display for different
</I>&gt;&gt;<i> audiences (accessibility, basically).
</I>&gt;<i>
</I>&gt;<i> Yeah, there are some difficult-to-satisfy constraints here. On the one
</I>&gt;<i> hand having a predefined set of voices leads to better semantics,
</I>&gt;<i> usability for authors, and accessibility; on the other hand we need
</I>&gt;<i> something open-ended because we can't think of everything. We also have  
</I>&gt;<i> to
</I>&gt;<i> make sure we don't enable voices to conflict with future tag names, so
</I>&gt;<i> whatever we do that's open-ended would have to use a specific syntax  
</I>&gt;<i> (like
</I>&gt;<i> being all numbers, which is what I currenlty have). I'm not sure how to
</I>&gt;<i> improve on what we have now, but it's certainly not perfect.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Wed, 11 Aug 2010, Philip J&#228;genstedt wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What should numerical voices be replaced with? Personally I'd much
</I>&gt;&gt;<i> rather write &lt;philip&gt; and &lt;silvia&gt; to mark up a conversation between us
</I>&gt;&gt;<i> two, as I think it'd be quite hard to keep track of the numbers if
</I>&gt;&gt;<i> editing subtitles with many different speakers.
</I>&gt;<i>
</I>&gt;<i> We could say that a custom voice has to start with some punctuation or
</I>&gt;<i> other, say &lt;:philip&gt;?
</I>
Yes, that would be better than numerical voices IMO. Unless there's a very  
good reason for making voices always apply to the whole cue, could we not  
use the same parsing for voices and other tags (i, b, ruby, rt)?

Ideally, the CSS extensions  
(<A HREF="http://wiki.whatwg.org/wiki/Timed_tracks#CSS_extensions">http://wiki.whatwg.org/wiki/Timed_tracks#CSS_extensions</A>) should also work  
the same for voices and tags, using the normal child selectors would work.  
Something like video::cue(narrator &gt; i) to style the following cue:

00:01.000 --&gt; 00:02.000
&lt;narrator&gt;&lt;i&gt;The story begins

I'm not sure what constraints CSS syntax puts on the prefix for custom  
voices, is : safe? Other options might be &lt;@philip&gt; (Twitter style) or  
&lt;-philip&gt; (vendor prefix style).

&gt;<i> On Tue, 24 Aug 2010, Philip J&#228;genstedt wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Here's the SRT research I promised:
</I>&gt;&gt;<i> <A HREF="http://blog.foolip.org/2010/08/20/srt-research/">http://blog.foolip.org/2010/08/20/srt-research/</A>
</I>&gt;<i>
</I>&gt;<i> Awesome! Thanks for this.
</I>&gt;<i>
</I>&gt;<i> Addressing points in the same order:
</I>&gt;<i>
</I>&gt;<i>  - charset: resolved by introducing a charset override.
</I>
Oh well, that's better than sniffing the encoding or trusting Content-Type  
I guess.

&gt;<i>  - blank lines not separating cues: I couldn't find a client that
</I>&gt;<i>    supported missing the blank line, so I didn't support that. It's a
</I>&gt;<i>    small number of files, and a small number of cues within those files,
</I>&gt;<i>    I presume, so I'm not too worried.
</I>
Indeed, I couldn't find one either, the players I tested instead rendered  
the timing line and following cue text together with the previous cue,  
just like a WebSRT implementation would. What we could do to slightly  
improve the situation is to make --&gt; invalid in the cue text, so that  
validators could warn about this. That would require adding a &gt; escape  
for &gt;, so I'm not sure it's worth it. Perhaps validators could warn about  
it regardless of the spec.

&gt;<i>  - overlapping cues: supporting these is pretty important, so files with
</I>&gt;<i>    overlapping cues will just have some weird artefects on playback.
</I>
OK, tools to fix SRT timings already exist, so I guess this is manageable.

&gt;<i> The remaining data is interesting but seems to be consistent with our
</I>&gt;<i> expectations before WebSRT was specced.
</I>
Right.

&gt;<i> On Wed, 25 Aug 2010, Philip J&#228;genstedt wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &quot;The tasks queued by the fetching algorithm on the networking task
</I>&gt;&gt;<i> source to process the data as it is being fetched must examine the
</I>&gt;&gt;<i> resource's Content Type metadata, once it is available, if it ever is.
</I>&gt;&gt;<i> If no Content Type metadata is ever available, or if the type is not
</I>&gt;&gt;<i> recognised as a timed track format, then the resource's format must be
</I>&gt;&gt;<i> assumed to be unsupported (this causes the load to fail, as described
</I>&gt;&gt;<i> below).&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In other words, browsers should have a whitelist of supported text track
</I>&gt;&gt;<i> format, just like they should for audio and video formats. (Note though
</I>&gt;&gt;<i> that Safari and Chrome ignore the MIME type for audio/video and will
</I>&gt;&gt;<i> likely continue to do so.)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It seems to that a side-effect of this is that it will be impossible to
</I>&gt;&gt;<i> test &lt;track&gt; on a local file system, as there's no MIME type and
</I>&gt;&gt;<i> browsers aren't allowed to sniff. Surely this can't be the intention,
</I>&gt;&gt;<i> Hixie?
</I>&gt;<i>
</I>&gt;<i> Local file systems generally use extensions to declare file types (at
</I>&gt;<i> least, on Windows and Mac OS X).
</I>
&gt;<i> On Wed, 25 Aug 2010, Philip J&#228;genstedt wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The main reason to care about the MIME type is some kind of &quot;doing the
</I>&gt;&gt;<i> right thing&quot; by not letting people get away with misconfigured servers.
</I>&gt;&gt;<i> Sometimes I feel it's just a waste of everyone's time though, it would
</I>&gt;&gt;<i> generally be less work for both browsers and authors to not bother.
</I>&gt;<i>
</I>&gt;<i> Agreed. Not sure what to do for WebSRT though, since there's no good way
</I>&gt;<i> to recognise a WebSRT file as opposed to some other format.
</I>
In a &lt;track&gt; context, ignoring Content-Type is certainly the simplest and  
removes the need to require any specific file extension for local use.  
Sniffing isn't really an issue since in a top-level context you can't do  
much of anything interesting with SRT except display it as text (which  
text/plain would achieve).

-- 
Philip J&#228;genstedt
Core Developer
Opera Software

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070687.html">[whatwg] Timed tracks: feedback compendium
</A></li>
	<LI>Next message: <A HREF="070697.html">[whatwg] Timed tracks: feedback compendium
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70695">[ date ]</a>
              <a href="thread.html#70695">[ thread ]</a>
              <a href="subject.html#70695">[ subject ]</a>
              <a href="author.html#70695">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
