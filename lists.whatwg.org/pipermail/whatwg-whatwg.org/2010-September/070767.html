<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Video with MIME type application/octet-stream
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Video%20with%20MIME%20type%20application/octet-stream&In-Reply-To=%3CAANLkTi%3DUCdcQB4A5awgR-cNbtHzgfZtmnqsV9bdDPNY5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070761.html">
   <LINK REL="Next"  HREF="070772.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Video with MIME type application/octet-stream</H1>
<!--htdig_noindex-->
    <B>Silvia Pfeiffer</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Video%20with%20MIME%20type%20application/octet-stream&In-Reply-To=%3CAANLkTi%3DUCdcQB4A5awgR-cNbtHzgfZtmnqsV9bdDPNY5%40mail.gmail.com%3E"
       TITLE="[whatwg] Video with MIME type application/octet-stream">silviapfeiffer1 at gmail.com
       </A><BR>
    <I>Fri Sep 10 18:40:57 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070761.html">[whatwg] Video with MIME type application/octet-stream
</A></li>
        <LI>Next message: <A HREF="070772.html">[whatwg] Video with MIME type application/octet-stream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70767">[ date ]</a>
              <a href="thread.html#70767">[ thread ]</a>
              <a href="subject.html#70767">[ subject ]</a>
              <a href="author.html#70767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, Sep 11, 2010 at 8:51 AM, Roger H&#229;gensen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">rescator at emsai.net</A>&gt; wrote:

&gt;<i>  On 2010-09-09 09:24, Philip J&#228;genstedt wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On Thu, 09 Sep 2010 02:15:27 +0200, David Singer &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">singer at apple.com</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  On Wed, Sep 8, 2010 at 3:13 PM, And Clover &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">and-py at doxdesk.com</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Perhaps I *meant* to serve a non-video
</I>&gt;&gt;&gt;&gt;&gt;<i> file with something that looks a fingerprint from a video format at the
</I>&gt;&gt;&gt;&gt;&gt;<i> top.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Anything's possible, but it's vastly more likely that you just made a
</I>&gt;&gt;&gt;&gt;<i> mistake.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> It may be possible to make one file that is valid under two formats.
</I>&gt;&gt;&gt;<i>  Kinda like those old competitions &quot;write a single file that when compiled
</I>&gt;&gt;&gt;<i> and run through as many languages as possible prints &quot;hello, world!&quot; :-).
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For at least WAVE, Ogg and WebM it's not possible as they begin with
</I>&gt;&gt;<i> different magic bytes.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> Then why not define a new &quot;magic&quot; that is universal, so that if a proper
</I>&gt;<i> content type is not stated then a sniffing for a standardized universal
</I>&gt;<i> magic is done?
</I>&gt;<i>
</I>&gt;<i> Yep, I'm referring to my BINID proposal.
</I>&gt;<i> If a content type is missing, sniff the first 265 bytes and see if it is a
</I>&gt;<i> BINID, if it is a BINID check if it's a supported/expected one, and it is
</I>&gt;<i> then play away, all is good.
</I>&gt;<i> If a content type is given, then just in case sniff the first 265 bytes and
</I>&gt;<i> see if it is a BINID, if it is a BINID check if it's a supported/expected
</I>&gt;<i> one, and it is then play away, all is good.
</I>&gt;<i> If a content type is missing, and the sniffing of the first 265 bytes shows
</I>&gt;<i> it is not a BINID or not a supported one, then it can only be treated as
</I>&gt;<i> unknown binary and would fail (though in the case of a unsupported BINID the
</I>&gt;<i> user would be shown what the BINID is so they won't be fully stuck if they
</I>&gt;<i> miss a particular codec or the browser doesn't support it).
</I>&gt;<i> If a content type is given, and sniffing the first 265 bytes shows it's not
</I>&gt;<i> a BINID or not a supported one, then treat it as per the context (video or
</I>&gt;<i> audio) and hope the video or audio codec layer is able to find out what it
</I>&gt;<i> is (what &quot;should&quot; happen currently right?).
</I>&gt;<i>
</I>&gt;<i> It would be very easy to add support for something like BINID as it can be
</I>&gt;<i> output at the start of a file or stream as the server sends it, a script
</I>&gt;<i> could even output it or it could be at the start of the actual file itself,
</I>&gt;<i> and in the case of live streaming a server could easily add it to the start
</I>&gt;<i> of the stream even if it's mid-stream. Even a wrongly configured webserver
</I>&gt;<i> wouldn't be able to mess up the handling of this.
</I>&gt;<i> The benefit is that the browser would see that, Oh, this is a BINID and
</I>&gt;<i> it's Webm, I'll pass this on to the video codec then.
</I>&gt;<i> Or if &lt;audio&gt; and the browser sees it is a BINID and it's MP3 it would pass
</I>&gt;<i> it to the mp3 audio codec.
</I>&gt;<i> In time something like BINID might even propagate elsewhere beyond just
</I>&gt;<i> &lt;video&gt; and &lt;audio&gt;.
</I>&gt;<i>
</I>&gt;<i> I'm not saying that BINID must be used, but at least something very close
</I>&gt;<i> to it (as unknown formats can be shown to a human user and make sense and be
</I>&gt;<i> searchable), and maybe the first 8 bytes should be constructed slightly
</I>&gt;<i> differently?.
</I>&gt;<i> Oh and although I haven't tested this, I suspect that most current codecs
</I>&gt;<i> would ignore the first 265 bytes when they sniff for the start of the data
</I>&gt;<i> anyway so a BINID would be partially backwards compatible,
</I>&gt;<i> and in any case certainly easy to patch in support for quite easily.
</I>&gt;<i> And the best part is that the browser could easily strip or skip past the
</I>&gt;<i> BINID when passing the data to the OS or codecs (if such do not support
</I>&gt;<i> BINID at all), or if saving the audio or video locally per user request.
</I>&gt;<i>
</I>&gt;<i> Something like BINID (short for Binary Identification actually) is needed,
</I>&gt;<i> and there is nothing wrong with HTML5 and &lt;video&gt; &lt;audio&gt; standard defining
</I>&gt;<i> it,
</I>&gt;<i> it wouldn't be the first time a web standard has been adopted elsewhere
</I>&gt;<i> later, it would surely see adoption outside of this, I certainly would use
</I>&gt;<i> it elsewhere.
</I>&gt;<i>
</I>&gt;<i> I invented BINID for a reason, because .*** file extensions just isn't good
</I>&gt;<i> enough, and sniffing binary files is a real pain, the same pain as the
</I>&gt;<i> &lt;video&gt; and &lt;audio&gt; discussion here is pointing out right now.
</I>&gt;<i>
</I>&gt;<i> So if sniffing is bad, but sniffing can't be avoided, then why not simply
</I>&gt;<i> standardize the sniffing by defining a universal, simple and end user
</I>&gt;<i> friendly (the BINID can be displayed to the user, even if
</I>&gt;<i> unknown/unsupported),
</I>&gt;<i> and the sniffing would be limited to the first 265 bytes (in the case of
</I>&gt;<i> the BINID proposal), and this limited sniffing can't determine what
</I>&gt;<i> something is and the context and extra info (like content type) does not
</I>&gt;<i> clarify what it is or what to do with it then simply fail and inform the
</I>&gt;<i> user, it doesn't have to be more complicated than that.
</I>&gt;<i>
</I>&gt;<i> As simple as possible, but no simpler. Isn't that the ideal mantra of all
</I>&gt;<i> coders here?
</I>&gt;<i>
</I>&gt;<i> Remember, I'm not saying you must use BINID (but hey it's there and fleshed
</I>&gt;<i> out already), if you must change the name, do so, if you must change the 8
</I>&gt;<i> byte sequence, do so, just make sure it has a max length, and the &quot;ID&quot; is
</I>&gt;<i> humanly disaplayable if the format is unsupported. Just make it into an RFC
</I>&gt;<i> or something, and spec it in the HTML standard that it must be supported,
</I>&gt;<i> and spec how to behave if it's not present (like I pointed further above)
</I>&gt;<i> and it's solved as best as is possible. (unless somebody have an even better
</I>&gt;<i> idea here that is?)
</I>&gt;<i>
</I>&gt;<i> And yeah, this kinda stretched beyond the scope of HTML5 specs, but you'd
</I>&gt;<i> be swatting two flies at once, solving the sniffing issue with &lt;video&gt; and
</I>&gt;<i> &lt;audio&gt;, but also the sniffing issue that every OS has had for the last
</I>&gt;<i> couple of um... decades?! (poke your OS/Filesystem colleagues and ask them
</I>&gt;<i> what they think of something like this.)
</I>&gt;<i> Then again, HTML5 is kinda a OS in it's own right, being a app platform
</I>&gt;<i> (not to mention supporting local storage of databases and files even), so
</I>&gt;<i> maybe it's not that far outside the scope anyway to define something like
</I>&gt;<i> this?
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Roger &quot;Rescator&quot; H&#229;gensen.
</I>&gt;<i> Freelancer - <A HREF="http://EmSai.net/">http://EmSai.net/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>Is there a link to your BINID proposal? From reading this I wonder: Would it
entail having to re-write all existing files with an extra identifier at the
start?

Silvia.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100911/d99feb7c/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100911/d99feb7c/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070761.html">[whatwg] Video with MIME type application/octet-stream
</A></li>
	<LI>Next message: <A HREF="070772.html">[whatwg] Video with MIME type application/octet-stream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70767">[ date ]</a>
              <a href="thread.html#70767">[ thread ]</a>
              <a href="subject.html#70767">[ subject ]</a>
              <a href="author.html#70767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
