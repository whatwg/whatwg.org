<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] ArrayBuffer and ByteArray questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20ArrayBuffer%20and%20ByteArray%20questions&In-Reply-To=%3CAANLkTim4cvQFtKZdMH41xfC58jP9NRK7PnM2PSY4hq_U%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070721.html">
   <LINK REL="Next"  HREF="070724.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] ArrayBuffer and ByteArray questions</H1>
<!--htdig_noindex-->
    <B>Kenneth Russell</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20ArrayBuffer%20and%20ByteArray%20questions&In-Reply-To=%3CAANLkTim4cvQFtKZdMH41xfC58jP9NRK7PnM2PSY4hq_U%40mail.gmail.com%3E"
       TITLE="[whatwg] ArrayBuffer and ByteArray questions">kbr at google.com
       </A><BR>
    <I>Wed Sep  8 11:29:44 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070721.html">[whatwg] ArrayBuffer and ByteArray questions
</A></li>
        <LI>Next message: <A HREF="070724.html">[whatwg] ArrayBuffer and ByteArray questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70723">[ date ]</a>
              <a href="thread.html#70723">[ thread ]</a>
              <a href="subject.html#70723">[ subject ]</a>
              <a href="author.html#70723">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Sep 8, 2010 at 11:21 AM, Oliver Hunt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">oliver at apple.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> On Sep 8, 2010, at 11:13 AM, Chris Marrin wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Web Sockets is certainly another candidate, but I meant Web Workers. There have been informal discussions on using ArrayBuffers as a way to safely share binary data between threads. I don't believe anything has been formalized here.
</I>&gt;<i>
</I>&gt;<i> You can't share data between workers. &#160;There is no (and there cannot be) any shared state between multiple threads of JS execution.
</I>
Let's say &quot;efficiently send&quot; rather than &quot;share&quot;. The current thinking
has been around a way to post one ArrayBuffer to a worker which would
&quot;close&quot; that ArrayBuffer and all views on the main thread. The way to
get the same backing store from the worker back to the main thread
would be to post the ArrayBuffer from the worker to the main thread,
at which point the ArrayBuffer and all views on the worker would be
&quot;closed&quot;. This ping-ponging would allow efficient implementation of
producer/consumer queues without allocating new backing store each
time the worker wants to produce something for the main thread.

This would require some small API additions to the typed array spec,
and a prototype so we can convince ourselves of its effectiveness.

-Ken

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070721.html">[whatwg] ArrayBuffer and ByteArray questions
</A></li>
	<LI>Next message: <A HREF="070724.html">[whatwg] ArrayBuffer and ByteArray questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70723">[ date ]</a>
              <a href="thread.html#70723">[ thread ]</a>
              <a href="subject.html#70723">[ subject ]</a>
              <a href="author.html#70723">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
