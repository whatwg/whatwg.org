<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Form element invalid message
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Form%20element%20invalid%20message&In-Reply-To=%3CAANLkTikK6Sj1%2BoLEUYXyBBfr3bAJn%3DZh5r9qYv_x99HS%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070995.html">
   <LINK REL="Next"  HREF="070997.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Form element invalid message</H1>
<!--htdig_noindex-->
    <B>Aryeh Gregor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Form%20element%20invalid%20message&In-Reply-To=%3CAANLkTikK6Sj1%2BoLEUYXyBBfr3bAJn%3DZh5r9qYv_x99HS%40mail.gmail.com%3E"
       TITLE="[whatwg] Form element invalid message">Simetrical+w3c at gmail.com
       </A><BR>
    <I>Wed Sep 22 15:05:04 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070995.html">[whatwg] Form element invalid message
</A></li>
        <LI>Next message: <A HREF="070997.html">[whatwg] Form element invalid message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70996">[ date ]</a>
              <a href="thread.html#70996">[ thread ]</a>
              <a href="subject.html#70996">[ subject ]</a>
              <a href="author.html#70996">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Sep 22, 2010 at 5:51 PM, Aryeh Gregor &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">Simetrical+w3c at gmail.com</A>&gt; wrote:
&gt;<i> Note that Firefox is buggy here
</I>&gt;<i> and treats setCustomValidity('') as setting the error message to ''
</I>&gt;<i> instead of removing it, as the spec says, but when that's fixed it
</I>&gt;<i> will work.
</I>
I take it back.  Firefox and Opera do give different results, but the
bug in Firefox (if it is one) is subtler.  This works as I expect in
both:

data:text/html,&lt;!doctype html&gt;
&lt;form&gt;
&lt;input name=x required oninvalid=&quot;
    this.setCustomValidity('');
    if (!this.validity.valid) {
        this.setCustomValidity('abcd');
    }
&quot; onfocus=&quot;this.setCustomValidity('')&quot;&gt;
&lt;input type=submit&gt;
&lt;/form&gt;

My previous version would have looked odd in Firefox regardless, since
it gives a red halo around invalid elements, and it would remain
invalid even after the user entered stuff.  This one should work
pretty well.  And yes, you could always conceive of simple declarative
APIs that would do this stuff, but you just can't add those for every
single feature someone wants.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070995.html">[whatwg] Form element invalid message
</A></li>
	<LI>Next message: <A HREF="070997.html">[whatwg] Form element invalid message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70996">[ date ]</a>
              <a href="thread.html#70996">[ thread ]</a>
              <a href="subject.html#70996">[ subject ]</a>
              <a href="author.html#70996">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
