<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] default audio upload format (was Fwd: The Media Capture API Working Draft)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20default%20audio%20upload%20format%20%28was%20Fwd%3A%20The%20Media%0A%20Capture%20API%20Working%20Draft%29&In-Reply-To=%3CAANLkTikHrWc3dYRqNfwk2cwhGh7tWt3%2Bs4GyurvfNDOM%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070615.html">
   <LINK REL="Next"  HREF="070619.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] default audio upload format (was Fwd: The Media Capture API Working Draft)</H1>
<!--htdig_noindex-->
    <B>James Salsman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20default%20audio%20upload%20format%20%28was%20Fwd%3A%20The%20Media%0A%20Capture%20API%20Working%20Draft%29&In-Reply-To=%3CAANLkTikHrWc3dYRqNfwk2cwhGh7tWt3%2Bs4GyurvfNDOM%40mail.gmail.com%3E"
       TITLE="[whatwg] default audio upload format (was Fwd: The Media Capture API Working Draft)">jsalsman at gmail.com
       </A><BR>
    <I>Wed Sep  1 08:21:31 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070615.html">[whatwg] &lt;time&gt; element feedback
</A></li>
        <LI>Next message: <A HREF="070619.html">[whatwg] default audio upload format (was Fwd: The Media Capture API Working Draft)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70610">[ date ]</a>
              <a href="thread.html#70610">[ thread ]</a>
              <a href="subject.html#70610">[ subject ]</a>
              <a href="author.html#70610">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Aug 31, 2010 at 11:24 PM, Roger H&#229;gensen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">rescator at emsai.net</A>&gt; wrote:
&gt;<i> &#160;On 2010-08-31 22:11, James Salsman wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Does anyone object to form input type=file
</I>&gt;&gt;<i> accept=&quot;audio/*;capture=microphone&quot; using Speex as a default, as if it
</I>&gt;&gt;<i> were specified
</I>&gt;&gt;<i> accept=&quot;audio/x-speex;quality=7;bitrate=16000;capture=microphone&quot; or
</I>&gt;&gt;<i> to allowing the requesting of different speex qualities and bitrates
</I>&gt;&gt;<i> using those mime type parameters?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Speex at quality=7 is a reasonable open source default audio vocoder.
</I>&gt;&gt;<i> Runner-up alternatives would include audio/ogg, which is a higher
</I>&gt;&gt;<i> bandwidth format appropriate for multiple speakers or polyphonic
</I>&gt;&gt;<i> music; audio/mpeg, a popular but encumbered format; audio/wav, a union
</I>&gt;&gt;<i> of several different sound file formats, some of which are encumbered;
</I>&gt;&gt;<i> etc.
</I>&gt;<i>
</I>&gt;<i> Actually, wouldn't accept=&quot;audio/*;capture=microphone&quot;
</I>&gt;<i> basically indicate that the server wish to accept anything as audio?
</I>
Yes; that doesn't encourage implementors to implement. However, as it
was agreed on by two different browser developer representatives, it's
the best way forward.

&gt;<i> The proper way however would be to do:
</I>&gt;<i> accept=&quot;audio/flac, audio/wav, audio/ogg, audio/aac,
</I>&gt;<i> audio/mp3;capture=microphone&quot;
</I>&gt;<i> indicating all the audio formats the server can handle.
</I>
I agree that the specifications should allow a comma- or
space-separated list of MIME types. I have no idea why that was
specifically disallowed in the most recent HTML5 specification, and
think that decision should be reversed before publication. I also
think &quot;capture&quot; would work a lot better as an attribute of the input
type=file element than a MIME type parameter.

&gt;<i> Although I guess that audio/* could be taken as a sign that the browser
</I>&gt;<i> should negotiate directly with the server about the preferred format to use.
</I>&gt;<i> (Is POST HEADER request supported even?)
</I>
Not for multipart/form-encoded input type=file uploads, sadly. There's
a way to do that specified in <A HREF="http://w3.org/TR/device-upload">http://w3.org/TR/device-upload</A> with the
&quot;alternates&quot; form POST parameter which the browser would send back to
the server when the requested type(s) were unavailable. I guess that
is a content negotiation feature, but it seemed unlikely that people
would need it for that because ideally the server would specify all
the types it could accept, as you pointed out.

Best regards,
James Salsman

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070615.html">[whatwg] &lt;time&gt; element feedback
</A></li>
	<LI>Next message: <A HREF="070619.html">[whatwg] default audio upload format (was Fwd: The Media Capture API Working Draft)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70610">[ date ]</a>
              <a href="thread.html#70610">[ thread ]</a>
              <a href="subject.html#70610">[ subject ]</a>
              <a href="author.html#70610">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
