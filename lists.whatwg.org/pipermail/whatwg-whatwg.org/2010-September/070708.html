<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas API: What should happen if non-finite	floats	are used
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20API%3A%20What%20should%20happen%20if%20non-finite%0A%09floats%09are%20used&In-Reply-To=%3CDFF8050E-2B76-4CD7-B0E4-DD537F33A349%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070706.html">
   <LINK REL="Next"  HREF="070715.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas API: What should happen if non-finite	floats	are used</H1>
<!--htdig_noindex-->
    <B>Oliver Hunt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20API%3A%20What%20should%20happen%20if%20non-finite%0A%09floats%09are%20used&In-Reply-To=%3CDFF8050E-2B76-4CD7-B0E4-DD537F33A349%40apple.com%3E"
       TITLE="[whatwg] Canvas API: What should happen if non-finite	floats	are used">oliver at apple.com
       </A><BR>
    <I>Wed Sep  8 10:33:37 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070706.html">[whatwg] Canvas API: What should happen if non-finite floats	are used
</A></li>
        <LI>Next message: <A HREF="070715.html">[whatwg] Canvas API: What should happen if non-finite floats	are used
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70708">[ date ]</a>
              <a href="thread.html#70708">[ thread ]</a>
              <a href="subject.html#70708">[ subject ]</a>
              <a href="author.html#70708">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Sep 8, 2010, at 10:20 AM, Eric Uhrhane wrote:

&gt;<i> On Wed, Sep 8, 2010 at 9:45 AM, Oliver Hunt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">oliver at apple.com</A>&gt; wrote:
</I>&gt;&gt;<i> The problem with throwing an exception is that it's fairly common for code to end up accidentally producing a NaN or Infinite value, and throwing an exception would prevent all subsequent drawing from occurring.
</I>&gt;<i> 
</I>&gt;<i> I believe that was the point: you throw an exception, the bug becomes
</I>&gt;<i> obvious, and you fix it.  Without the exception, you draw the wrong
</I>&gt;<i> thing, and it's much harder to find the problem.
</I>In a lot of cases all you want to do is ignore NaN and Infinite values, otherwise you basically have to prepend every call to canvas with NaN and Infinity checks if you're computing values unless you can absolutely guarantee your values won't have gone nuts at any point in the computation -- otherwise you're going to get reports that occasionally your content breaks but with no repro case (typical users will not be seeing error messages, it just &quot;doesn't work&quot;).

Additionally there is content that depends on the non-throwing behaviour, in webkit we had to drop the exceptions that we threw due to content that worked in firefox because of the absence of exceptions.

In the ended we spec'd these values as being ignored so that there was some degree of consistency through the API (and because the various UAs that support canvas would through on non-finite values in differing functions).

--Oliver


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070706.html">[whatwg] Canvas API: What should happen if non-finite floats	are used
</A></li>
	<LI>Next message: <A HREF="070715.html">[whatwg] Canvas API: What should happen if non-finite floats	are used
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70708">[ date ]</a>
              <a href="thread.html#70708">[ thread ]</a>
              <a href="subject.html#70708">[ subject ]</a>
              <a href="author.html#70708">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
