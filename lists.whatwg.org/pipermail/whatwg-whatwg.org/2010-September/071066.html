<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Foreign fallback appcache entries
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Foreign%20fallback%20appcache%20entries&In-Reply-To=%3CAANLkTi%3D5k-Yw-jHmybCLqxdB3dwXysgO%3Dd-DEQzj-tbR%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071065.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Foreign fallback appcache entries</H1>
<!--htdig_noindex-->
    <B>Michael Nordman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Foreign%20fallback%20appcache%20entries&In-Reply-To=%3CAANLkTi%3D5k-Yw-jHmybCLqxdB3dwXysgO%3Dd-DEQzj-tbR%40mail.gmail.com%3E"
       TITLE="[whatwg] Foreign fallback appcache entries">michaeln at google.com
       </A><BR>
    <I>Thu Sep 30 23:57:02 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="071065.html">[whatwg] Foreign fallback appcache entries
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71066">[ date ]</a>
              <a href="thread.html#71066">[ thread ]</a>
              <a href="subject.html#71066">[ subject ]</a>
              <a href="author.html#71066">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Right you are!

That's pathological content, listing a page as a fallback but having
that page refer to a different manifest. What behavior results from
the currently spec'd algorithms, repeatedly trying to load the url,
finding the fallback, detecting foreign'ness and retrying? Or is the
foreign bit examined when loading fallbacks for top level pages?

Good, the latter. Looks like foreign fallbacks resources are weeded
out in 6.5.1 Navigating across documents, step 16.

So you're looking for  a note that says &quot;by the way, fallbacks may get
marked as foreign too and be excluded from loads for script context
navigations as a result&quot;. That makes sense.

On Thu, Sep 30, 2010 at 7:29 PM, Alexey Proskuryakov &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ap at webkit.org</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> &quot;Foreign&quot; means that the main resource has a different manifest than the one referencing it. E.g.
</I>&gt;<i>
</I>&gt;<i> foo.manifest:
</I>&gt;<i> CACHE MANIFEST
</I>&gt;<i> iframe.html
</I>&gt;<i>
</I>&gt;<i> iframe.html:
</I>&gt;<i> &lt;html manifest=&quot;bar.manifest&quot;&gt;
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> So, I don't think that the same origin requirement answers this. WebKit bug &lt;<A HREF="https://bugs.webkit.org/show_bug.cgi?id=44406">https://bugs.webkit.org/show_bug.cgi?id=44406</A>&gt; has a live demo (Firefox 3.6.10 handles it correctly, according to my reading of the spec).
</I>&gt;<i>
</I>&gt;<i> - WBR, Alexey Proskuryakov
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 30.09.2010, &#1074; 18:21, Michael Nordman &#1085;&#1072;&#1087;&#1080;&#1089;&#1072;&#1083;(&#1072;):
</I>&gt;<i>
</I>&gt;&gt;<i> I don't think 'fallback' entries can be foreign because they must be
</I>&gt;&gt;<i> of the same-origin as the manifest.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &quot;Fallback namespaces and fallback entries must have the same origin as
</I>&gt;&gt;<i> the manifest itself.&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Thu, Sep 30, 2010 at 4:38 PM, Alexey Proskuryakov &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ap at webkit.org</A>&gt; wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> In definitions of application cache entry categories, it's mentioned that an explicit entry can also be marked as foreign. This contrasts with fallback entries, for which no such notice is made.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> It still appears that the intention was for fallback entries to sometimes be foreign - in particular, section 6.5.1 says &quot;Let candidate be the fallback resource&quot; and then &quot;If candidate is not marked as foreign...&quot;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I found it confusing that there is a specific mention of foreign for explicit entries, but not for fallback ones.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> - WBR, Alexey Proskuryakov
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071065.html">[whatwg] Foreign fallback appcache entries
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71066">[ date ]</a>
              <a href="thread.html#71066">[ thread ]</a>
              <a href="subject.html#71066">[ subject ]</a>
              <a href="author.html#71066">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
