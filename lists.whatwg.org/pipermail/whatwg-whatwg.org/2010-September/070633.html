<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Video with MIME type application/octet-stream
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Video%20with%20MIME%20type%20application/octet-stream&In-Reply-To=%3CAANLkTimyre1AzTqjrRpm7zyUeiFyzWHeUUe-dmy-PvWa%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070628.html">
   <LINK REL="Next"  HREF="070635.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Video with MIME type application/octet-stream</H1>
<!--htdig_noindex-->
    <B>Aryeh Gregor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Video%20with%20MIME%20type%20application/octet-stream&In-Reply-To=%3CAANLkTimyre1AzTqjrRpm7zyUeiFyzWHeUUe-dmy-PvWa%40mail.gmail.com%3E"
       TITLE="[whatwg] Video with MIME type application/octet-stream">Simetrical+w3c at gmail.com
       </A><BR>
    <I>Fri Sep  3 12:48:50 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070628.html">[whatwg] Video with MIME type application/octet-stream
</A></li>
        <LI>Next message: <A HREF="070635.html">[whatwg] Video with MIME type application/octet-stream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70633">[ date ]</a>
              <a href="thread.html#70633">[ thread ]</a>
              <a href="subject.html#70633">[ subject ]</a>
              <a href="author.html#70633">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Sep 2, 2010 at 4:41 PM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:
&gt;<i> Well, serving up data as text/plain for it to be readable is one. &#160;I agree
</I>&gt;<i> that for the specific case of &lt;video&gt; this is not a big deal.
</I>
Yes, I'm talking specifically about that.  Sniffing in other cases (in
particular, text formats) may be a bad idea.

&gt;<i> Why are you assuming that?
</I>
Because blocking an entire MIME type seems like it would be massive
overkill . . . but if that's a real use-case, well, okay.  It still
can't be *too* hard to check the first few bytes of the contents.
They must do it anyway if they implement this for images, right?

&gt;<i> There are proposals for standardizing several different types of sniffing,
</I>&gt;<i> with the one used being context-dependent. &#160;A proxy wouldn't have the
</I>&gt;<i> context.
</I>&gt;<i>
</I>&gt;<i> It can all be made to work by erring on the side of blocking more stuff, but
</I>&gt;<i> then you get to the point where the proxy makes it impossible to use the
</I>&gt;<i> browser altogether, and then it's not a viable solution to the problem at
</I>&gt;<i> hand.
</I>
Okay, you're being too theoretical for me.  Let's say we have
fingerprints for all the major video types, of the form &quot;check if the
first X bytes match this very simple pattern&quot;.  Let's say the spec
says that whenever processing the response to an HTTP request,
browsers must act as though they executed the sniffing algorithm and,
if it sniffs as a video type, they must treat it the same as if the
Content-Type matched the sniffed type.  (You could limit the scope of
that somewhat for ease of implementation if you like, but at least for
&lt;video&gt; plus top-level browsing contexts.)  Also suppose that the
fingerprints include byte sequences that cannot occur in normal text
encodings, and that they're long enough that random false positives
are extremely unlikely.  What's the problem with this specific
proposal?

&gt;&gt;<i> Put another way: the problem here is not that browsers sniff. &#160;It's
</I>&gt;&gt;<i> that browsers don't behave interoperably or predictably. &#160;Speccing a
</I>&gt;&gt;<i> precise sniffing algorithm that everyone's willing to follow allows
</I>&gt;&gt;<i> proxies to reliably know what browsers will do with it. &#160;What will
</I>&gt;&gt;<i> cause problems is what you seem to be arguing for -- *not* speccing
</I>&gt;&gt;<i> sniffing
</I>&gt;<i>
</I>&gt;<i> Er... Where did I propose this? &#160;I proposed speccing that there MUST NOT be
</I>&gt;<i> any sniffing, with browsers that sniff therefore being nonconformant. &#160;I
</I>&gt;<i> didn't propose allowing ad-hoc sniffing.
</I>
Right.  But the spec never allowed sniffing, and two browsers do it
anyway.  Ian has spoken to those browsers' implementers, and the
browsers have not changed, despite knowing that they aren't following
the spec.  Do you have any particular reason to believe that they'll
change?  If not, then the situation I described is exactly what your
proposal (i.e., the status quo) will result in, no?

&gt;<i> Only if &quot;consistent&quot; includes &quot;consistent across all contexts&quot;.... (which no
</I>&gt;<i> one is proposing to either specify or implement).
</I>
Could you comment specifically on the behavior I outlined above?  It's
entirely possible that I'm missing a lot of subtleties here.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070628.html">[whatwg] Video with MIME type application/octet-stream
</A></li>
	<LI>Next message: <A HREF="070635.html">[whatwg] Video with MIME type application/octet-stream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70633">[ date ]</a>
              <a href="thread.html#70633">[ thread ]</a>
              <a href="subject.html#70633">[ subject ]</a>
              <a href="author.html#70633">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
