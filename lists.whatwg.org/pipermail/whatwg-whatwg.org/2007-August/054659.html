<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Serialising HTML to Files in Non-Unicode Encodings
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Serialising%20HTML%20to%20Files%20in%20Non-Unicode%20Encodings&In-Reply-To=%3C000701c7df54%24cfd247a0%244d01010a%40IBM42F76C011DF%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054657.html">
   <LINK REL="Next"  HREF="054660.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Serialising HTML to Files in Non-Unicode Encodings</H1>
<!--htdig_noindex-->
    <B>K&#345;i&#353;tof &#381;elechovski</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Serialising%20HTML%20to%20Files%20in%20Non-Unicode%20Encodings&In-Reply-To=%3C000701c7df54%24cfd247a0%244d01010a%40IBM42F76C011DF%3E"
       TITLE="[whatwg] Serialising HTML to Files in Non-Unicode Encodings">giecrilj at stegny.2a.pl
       </A><BR>
    <I>Wed Aug 15 08:56:10 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="054657.html">[whatwg] Serialising HTML to Files in Non-Unicode Encodings
</A></li>
        <LI>Next message: <A HREF="054660.html">[whatwg] Serialising HTML to Files in Non-Unicode Encodings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54659">[ date ]</a>
              <a href="thread.html#54659">[ thread ]</a>
              <a href="subject.html#54659">[ subject ]</a>
              <a href="author.html#54659">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Any serializer that needs an exotic character set should also have a way of
retrieving the character set.  This character set need not be specified
within the fragment stored because it would probably be the same for many
fragments.  The serializer should rather store it elsewhere without
modifying the original HTML text: as a record attribute, a column property,
an optional parameter or built-in configuration parameter.
Chris

-----Original Message-----
From: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>
[mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>] On Behalf Of Lachlan Hunt
Sent: Wednesday, August 15, 2007 4:12 PM
To: whatwg
Subject: [whatwg] Serialising HTML to Files in Non-Unicode Encodings

Hi,
   There is a possible issue serialising HTML fragments section [1]. 
The algorithm seems fine for use with things like innerHTML, but there 
are other issues that should be considered when serialising to a file, 
database, network stream or something.

Such serialisers should consider the character encoding.  Although a 
Unicode encoding should ideally be used, some serialisers may need to 
serialise to a different encoding at the request of the user or 
limitations of the environment.  In such cases, the serialisation should 
output appropriate character references for characters that can't be 
represented.

It should also handle outputting the appropriate &lt;meta charset=&quot;&quot;&gt; 
and/or BOM, especially in environments that can't declare it at the 
transport level like HTTP can.

Perhaps the spec should say something about this issue somehwhere.

[1] <A HREF="http://www.whatwg.org/specs/web-apps/current-work/#serialising">http://www.whatwg.org/specs/web-apps/current-work/#serialising</A>

-- 
Lachlan Hunt
<A HREF="http://lachy.id.au/">http://lachy.id.au/</A>



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054657.html">[whatwg] Serialising HTML to Files in Non-Unicode Encodings
</A></li>
	<LI>Next message: <A HREF="054660.html">[whatwg] Serialising HTML to Files in Non-Unicode Encodings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54659">[ date ]</a>
              <a href="thread.html#54659">[ thread ]</a>
              <a href="subject.html#54659">[ subject ]</a>
              <a href="author.html#54659">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
