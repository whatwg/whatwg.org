<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Brest-discuss%5D%20HTML5%20and%20RESTful%20HTTP%20in%20browsers&In-Reply-To=%3C4922BA74.5000708%40mykanjo.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059577.html">
   <LINK REL="Next"  HREF="059589.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers</H1>
<!--htdig_noindex-->
    <B>Mike</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Brest-discuss%5D%20HTML5%20and%20RESTful%20HTTP%20in%20browsers&In-Reply-To=%3C4922BA74.5000708%40mykanjo.co.uk%3E"
       TITLE="[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers">mike at mykanjo.co.uk
       </A><BR>
    <I>Tue Nov 18 04:52:04 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="059577.html">[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
</A></li>
        <LI>Next message: <A HREF="059589.html">[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59578">[ date ]</a>
              <a href="thread.html#59578">[ thread ]</a>
              <a href="subject.html#59578">[ subject ]</a>
              <a href="author.html#59578">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hallvord R M Steen wrote:
&gt;&gt;&gt;<i> Sorry, both as an author and as a user I'd prefer this:
</I>&gt;&gt;&gt;<i> &lt;a href=&quot;<A HREF="http://example.com/report">http://example.com/report</A>&quot;&gt;html report&lt;/a&gt;
</I>&gt;&gt;&gt;<i> &lt;a href=&quot;<A HREF="http://example.com/report.pdf">http://example.com/report.pdf</A>&quot;&gt;pdf report&lt;/a&gt;
</I>&gt;&gt;&gt;<i> &lt;a href=&quot;<A HREF="http://example.com/report.xhtml">http://example.com/report.xhtml</A>&quot;&gt;xml report&lt;/a&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> - Keep It Simple. For me as an author it's less typing, and for me as
</I>&gt;&gt;&gt;<i> a computer-literate end user it's clear whether a link is going to
</I>&gt;&gt;&gt;<i> make me wait for Acrobat loading or open directly - even if the link
</I>&gt;&gt;&gt;<i> is taken out of the HTML context.
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;<i> &quot;It's less typing&quot; - Is that serious or are you joking?!
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Isn't it? :)
</I>&gt;<i>   
</I>
Well sure, but I still don't know if that was a joke or whether it was a 
serious point!

&gt;<i>   
</I>&gt;&gt;<i> I disagree; it's no more clear to end users. There is no reason the status
</I>&gt;&gt;<i> bar at the bottom couldn't say
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://example.com/report">http://example.com/report</A> (PDF Document)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Trivial addition for browsers to take this information from the Accept
</I>&gt;&gt;<i> attribute.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Not quite &quot;trivial&quot;, since browsers to do what you ask would need to
</I>&gt;<i> maintain a table of &quot;pretty&quot; names for all MIME types - including
</I>&gt;<i> translating that table to all languages the UI is translated to...
</I>&gt;<i>   
</I>
They could support the most common, the rest could be output 
&quot;<A HREF="http://example.com/report">http://example.com/report</A> (application/foo)&quot;. This problem is no better 
addressed using a URL.

&gt;<i> On a more serious note: content negotiation is meant to automatically
</I>&gt;<i> choose a variant of a resource (format, language). However, in many
</I>&gt;<i> cases the variant is significant in a way that I as a user want
</I>&gt;<i> control over. The language and even format of a resource is actually
</I>&gt;<i> often essential to that resource's identity. (The whole
</I>&gt;<i> content-negotiation idea is based on that statement being false. I
</I>&gt;<i> believe it's true.).
</I>&gt;<i>   
</I>
Language is a separate issue from content type. I would consider a 
translated document as a separate resource which should be indicated in 
the URL. The same document provided in different formats is one resource 
and multiple representations. Representations are distinct from 
resources and therefore don't fit into the definition of Uniform 
Resource Locator.

&gt;<i> I've built two-three websites that use content/language negotiation
</I>&gt;<i> and I now consider it an architectural mistake to rely on negotiation
</I>&gt;<i> because the URLs no longer uniquely identify the variants I in many
</I>&gt;<i> scenarios need to identify. It's OK-ish to do it as a pure format
</I>&gt;<i> choice where the server and UA just agree on using the PNG or GIF
</I>&gt;<i> version for an &lt;IMG&gt; tag. For links *users* (and FWIW search engines,
</I>&gt;<i> validators and other agents) may interact with it's however a big
</I>&gt;<i> mistake to move away from one URL per variant of a resource. In light
</I>&gt;<i> of my content negotiation experiments and experience I'd say an Access
</I>&gt;<i> attribute in HTML would be harmful to the usability of URLs.
</I>&gt;<i>   
</I>
If your system is designed to provide several different content types 
for users to be able to read/write/update/delete a single resource from 
various different User Agents - it's totally misleading to provide a 
separate URL for each of them. Because:

If I update the information in /report.pdf - does that update the 
information in /report.html and /report.xml ? They're seperate resources 
(indicated by seperate URLs) so from a 'usability' point of view, the 
expected result should be to *only* update that the information in 
/report.pdf.. but that's not actually the case here since the system 
will update the information in the other two URLs aswell.

This kind of behavior *breaks caching*, for obvious reasons.

&gt;<i> As a URL user (web browsing human, HTML author, linker, bookmarker,
</I>&gt;<i> E-mail-with-links author) I often want to be sure about what variant
</I>&gt;<i> of a resource I link to. To be explicit about this across scenarios
</I>&gt;<i> requires explicit URLs with language and type information.
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> If you put .pdf at the end a URL the server wont necessarily
</I>&gt;&gt;<i> respond with a PDF content type, so any extra certainty you feel from that
</I>&gt;&gt;<i> is artificial.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> File types are all about convention. It's useful when sites follow the
</I>&gt;<i> convention, and it's a surprise in the rare event when they don't.
</I>&gt;<i> Since most of the time they do it's more useful than harmful.
</I>&gt;<i>
</I>&gt;<i>   
</I>
What is the value of that 'convention'?

It only exists because of the present insufficiencies of HTML to provide 
browsers with a way to leverage protocol level conneg.

&gt;&gt;&gt;<i> Content negotiation is a lot nicer in theory than in practise..
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;<i> Well it's not nice in practice because HTML is currently flawed
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> After thinking about it I've concluded that it's not nice in practice
</I>&gt;<i> because the basic premise of content negotiation is fundamentally
</I>&gt;<i> flawed, namely that what variant of a resource users get from a URL is
</I>&gt;<i> insignificant and what's best for them can be determined
</I>&gt;<i> automatically.
</I>&gt;<i>
</I>&gt;<i>   
</I>
Automatically is the case for user agents that interpret specific 
content types; i.e. pdf readers would only Accept application/pdf documents.

Browsers are a specific type of user agent that are primarily used for 
reading hypermedia; but also, importantly, Accept many other different 
content types which they can pass to the operating system if they don't 
support the file type returned by the server.

&gt;&gt;<i> The apparent resistance to this confuses me; since the solution is not
</I>&gt;&gt;<i> complicated to implement, completely backwards compatible, and ignorable.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> My scepticism has nothing to do with whether it's easy to implement
</I>&gt;<i> (though I think you underestimate the required efforts - for example
</I>&gt;<i> the UA would need to verify that provided Accept: values are
</I>&gt;<i> correct/don't cause security problems etc.). My scepticism has nothing
</I>&gt;<i> to do with whether it is backwards compatible either. As a URL user I
</I>&gt;<i> just want to defend the usability of URLs against a theoretically more
</I>&gt;<i> pure but for practical purposes deeply flawed solution to a
</I>&gt;<i> non-problem.
</I>&gt;<i>
</I>&gt;<i>   
</I>

It's interesting you mention security actually. Right now - as it stands 
- your web browser is sending all of its requests  with an Accept header 
that contains a catch-all &quot;*/*&quot;. That is significantly less secure - the 
fact that you see .pdf at the end of the URL doesn't mean my server 
isn't about to send you an executable. This is what I was referring to 
as &quot;artificial certainty&quot;.

Regards,
Mike

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059577.html">[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
</A></li>
	<LI>Next message: <A HREF="059589.html">[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59578">[ date ]</a>
              <a href="thread.html#59578">[ thread ]</a>
              <a href="subject.html#59578">[ subject ]</a>
              <a href="author.html#59578">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
