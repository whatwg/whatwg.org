<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Workers feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Workers%20feedback&In-Reply-To=%3CPine.LNX.4.62.0811140136410.1041%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059427.html">
   <LINK REL="Next"  HREF="059434.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Workers feedback</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Workers%20feedback&In-Reply-To=%3CPine.LNX.4.62.0811140136410.1041%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Workers feedback">ian at hixie.ch
       </A><BR>
    <I>Thu Nov 13 17:42:09 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="059427.html">[whatwg] Workers feedback
</A></li>
        <LI>Next message: <A HREF="059434.html">[whatwg] Workers feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59428">[ date ]</a>
              <a href="thread.html#59428">[ thread ]</a>
              <a href="subject.html#59428">[ subject ]</a>
              <a href="author.html#59428">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 14 Nov 2008, Shannon wrote:
&gt;<i>
</I>&gt;<i> I don't see any value in the &quot;user-agent specified amount of time&quot; delay 
</I>&gt;<i> in stopping scripts. How can you write cleanup code when you have no 
</I>&gt;<i> consistency in how long it gets to run (or if it runs at all)?
</I>
The &quot;user-agent specified amount of time&quot; delay is implemented by every 
major browser for every script they run today.

How can people write clean code when they have no consistency in how long 
their scripts will run (or if they will run at all)?

Why is this any different?


&gt;<i> If you can't rely on a cleanup then it becomes necessary to have some 
</I>&gt;<i> kind of repair/validation sequence run on the data next time it is 
</I>&gt;<i> accessed to check if it's valid.
</I>
You need to do that anyway to handle powerouts and crashes.


&gt;<i> The spec really needs to make a decision here. Either consistently 
</I>&gt;<i> provide no cleanup window or make it a requirement to provide a fixed 
</I>&gt;<i> number of seconds, which is still unreliable but at least within a 
</I>&gt;<i> smaller margin. Failure to do so will impact heavily on users of less 
</I>&gt;<i> popular browsers.
</I>
I don't see how this is any different than the current script abort 
timeout feature in browsers.


&gt;<i> The specification for message ports is still limited to strings. If no 
</I>&gt;<i> effort is going to be made to allow numbers, arrays, structs and binary 
</I>&gt;<i> data then I'd suggest Workers be given functions to 
</I>&gt;<i> serialise/deserialise these objects.
</I>
We're going to add &quot;JSON-serialisable data&quot; support in due course. I'd 
rather get the rest of the API nailed down first though.


&gt;<i> WorkerUtils does not implement document.cookie. I imagine this would be 
</I>&gt;<i> very useful in conjunction with cleanup code to flag if a cleanup 
</I>&gt;<i> operation failed to complete. Storage and Database interfaces are too 
</I>&gt;<i> heavy for the purpose of simple data like this.
</I>
It's not clear which document the cookie would be for. localStorage is 
as light-weight than cookies (lighter-weight, arguably), though, so that 
should be enough, no?

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059427.html">[whatwg] Workers feedback
</A></li>
	<LI>Next message: <A HREF="059434.html">[whatwg] Workers feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59428">[ date ]</a>
              <a href="thread.html#59428">[ thread ]</a>
              <a href="subject.html#59428">[ subject ]</a>
              <a href="author.html#59428">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
