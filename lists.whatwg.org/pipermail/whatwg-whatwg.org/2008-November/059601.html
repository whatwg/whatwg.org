<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Workers and queue of events
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Workers%20and%20queue%20of%20events&In-Reply-To=%3C11e306600811181732n5ed1e41brc56b69b5c95bb4cc%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059600.html">
   <LINK REL="Next"  HREF="059603.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Workers and queue of events</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Workers%20and%20queue%20of%20events&In-Reply-To=%3C11e306600811181732n5ed1e41brc56b69b5c95bb4cc%40mail.gmail.com%3E"
       TITLE="[whatwg] Workers and queue of events">robert at ocallahan.org
       </A><BR>
    <I>Tue Nov 18 17:32:40 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="059600.html">[whatwg] Workers and queue of events
</A></li>
        <LI>Next message: <A HREF="059603.html">[whatwg] Workers and queue of events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59601">[ date ]</a>
              <a href="thread.html#59601">[ thread ]</a>
              <a href="subject.html#59601">[ subject ]</a>
              <a href="author.html#59601">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Nov 19, 2008 at 2:08 PM, Dmitry Titov &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dimich at chromium.org</A>&gt; wrote:

&gt;<i> Pages communicate with their workers (dedicated) via queue of events&lt;<A HREF="http://www.whatwg.org/specs/web-workers/current-work/#the-queue">http://www.whatwg.org/specs/web-workers/current-work/#the-queue</A>&gt; .
</I>&gt;<i> What happens if the queue gets more and more events queued (as a result of
</I>&gt;<i> postMessage or timer callbacks) and the worker thread does not consume them
</I>&gt;<i> fast enough?
</I>&gt;<i>
</I>&gt;<i>    - setInterval can skip posting a callback if the previously posted one
</I>&gt;<i>    was not yet consumed.
</I>&gt;<i>    - setTimeout is probably ok as it is but if the worker script adds them
</I>&gt;<i>    in a loop it can be a problem.
</I>&gt;<i>    - postMessage could somehow indicate a queue overflow and ignore the
</I>&gt;<i>    attempt to post a message if the queue length exceeds some specific
</I>&gt;<i>    threshold.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Basically, the queue probably should have a limit on it and once the limit
</I>&gt;<i> is reached, the queue-based operations should start to fail, optionally with
</I>&gt;<i> some indication.
</I>&gt;<i>
</I>
How is this different from any other out-of-memory situation? Web APIs
generally don't specify OOM behaviour.

Rob
-- 
&quot;He was pierced for our transgressions, he was crushed for our iniquities;
the punishment that brought us peace was upon him, and by his wounds we are
healed. We all, like sheep, have gone astray, each of us has turned to his
own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
53:5-6]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20081119/4d62cbb9/attachment-0001.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20081119/4d62cbb9/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059600.html">[whatwg] Workers and queue of events
</A></li>
	<LI>Next message: <A HREF="059603.html">[whatwg] Workers and queue of events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59601">[ date ]</a>
              <a href="thread.html#59601">[ thread ]</a>
              <a href="subject.html#59601">[ subject ]</a>
              <a href="author.html#59601">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
