<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] media elements: Relative seeking
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20media%20elements%3A%20Relative%20seeking&In-Reply-To=%3C492BFF1E.1050607%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059695.html">
   <LINK REL="Next"  HREF="059713.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] media elements: Relative seeking</H1>
<!--htdig_noindex-->
    <B>Maik Merten</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20media%20elements%3A%20Relative%20seeking&In-Reply-To=%3C492BFF1E.1050607%40googlemail.com%3E"
       TITLE="[whatwg] media elements: Relative seeking">maikmerten at googlemail.com
       </A><BR>
    <I>Tue Nov 25 05:35:26 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="059695.html">[whatwg] media elements: Relative seeking
</A></li>
        <LI>Next message: <A HREF="059713.html">[whatwg] media elements: Relative seeking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59699">[ date ]</a>
              <a href="thread.html#59699">[ thread ]</a>
              <a href="subject.html#59699">[ subject ]</a>
              <a href="author.html#59699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Silvia Pfeiffer schrieb:
&gt;<i> Are you using the byte position to estimate duration or are you using
</I>&gt;<i> the granulepos in Ogg to do this? The granulepos on the last data page
</I>&gt;<i> may be more accurate than simply using byte positions in Ogg. However,
</I>&gt;<i> it may also be more complicated and error-prone.
</I>
This applet does not seek to the end of the stream to retrieve a 
timestamp there. Instead, it's simply computing the duration as

duration = currentTime * (totalByteCount / currrentBytePosition)

currentTime is taken from the stream timestamps, totalByteCount from the 
HTTP contentlength and currentBytePosition is the current offset into 
the media resource as used to retrieve the next chunk from the HTTP server.

The latter is only an approximation of the current playback 
byte-position due to buffering and I still need to substract the bytes 
in the buffer, so the current state is vastly suboptimal.


&gt;<i> In any case - if you (and also Chris Double) are satisfied with the
</I>&gt;<i> estimates you're getting for file duration/length - I'll stop arguing
</I>&gt;<i> for it. It would be nice to hear some experimental evidence about how
</I>&gt;<i> well it's doing, e.g. for typical movie trailers, so we can lay that
</I>&gt;<i> argument to bed knowing we've done our homework.
</I>
I'll continue to experiment.


Maik


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059695.html">[whatwg] media elements: Relative seeking
</A></li>
	<LI>Next message: <A HREF="059713.html">[whatwg] media elements: Relative seeking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59699">[ date ]</a>
              <a href="thread.html#59699">[ thread ]</a>
              <a href="subject.html#59699">[ subject ]</a>
              <a href="author.html#59699">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
