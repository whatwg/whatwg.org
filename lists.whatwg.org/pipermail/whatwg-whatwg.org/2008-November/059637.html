<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Brest-discuss%5D%20HTML5%20and%20RESTful%20HTTP%20in%20browsers&In-Reply-To=%3Ca9699fd20811200112ta0a21bfqb126f2a560b3cb7d%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059627.html">
   <LINK REL="Next"  HREF="059514.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers</H1>
<!--htdig_noindex-->
    <B>Thomas Broyer</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Brest-discuss%5D%20HTML5%20and%20RESTful%20HTTP%20in%20browsers&In-Reply-To=%3Ca9699fd20811200112ta0a21bfqb126f2a560b3cb7d%40mail.gmail.com%3E"
       TITLE="[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers">t.broyer at gmail.com
       </A><BR>
    <I>Thu Nov 20 01:12:29 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="059627.html">[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
</A></li>
        <LI>Next message: <A HREF="059514.html">[whatwg] WebSocket feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59637">[ date ]</a>
              <a href="thread.html#59637">[ thread ]</a>
              <a href="subject.html#59637">[ subject ]</a>
              <a href="author.html#59637">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Nov 19, 2008 at 2:22 PM, Mike &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mike at mykanjo.co.uk</A>&gt; wrote:
&gt;<i> Thomas Broyer wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Tue, Nov 18, 2008 at 11:52 AM, Mike &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mike at mykanjo.co.uk</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thomas Broyer wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On Mon, Nov 17, 2008 at 6:31 PM,  &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mike at mykanjo.co.uk</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> - The HTML version of that URL could provide the web page
</I>&gt;&gt;&gt;&gt;&gt;<i> representation
</I>&gt;&gt;&gt;&gt;&gt;<i> *and* provide links to all the other content types available.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> How about other representations? (I know we're discussing HTML here,
</I>&gt;&gt;&gt;&gt;<i> and not HTTP, but what if a resource has no HTML representation? are
</I>&gt;&gt;&gt;&gt;<i> you proposing adding this capability to PDF, MSOffice, OpenDocument,
</I>&gt;&gt;&gt;&gt;<i> et al. too?)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> That's an issue at the application level; RSS would work fine in that
</I>&gt;&gt;&gt;<i> situation - any form of hypermedia will serve that purpose.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> How would RSS work better than HTML (as of today; i.e. without your
</I>&gt;&gt;<i> proposed extension)?
</I>&gt;<i>
</I>&gt;<i> RSS wouldn't work better - you asked for another way of doing this without
</I>&gt;<i> HTML, not a better way.
</I>
By &quot;RSS would work fine&quot; I understood that RSS link mechanisms already
match your &quot;needs&quot; in some way (which I know is wrong).

You're saying that HTML fails to provide a mean for controlling the
&quot;message control data&quot; to use Fielding's words (though restricting it
to the Accept HTTP request header field) and when I ask for how other
media types would work (or fail, actually), your answer is &quot;RSS would
work fine&quot;.
You lost me.

&gt;&gt;&gt;<i> Because HTML is presently insufficient in providing a mechanism for
</I>&gt;&gt;&gt;<i> browsers
</I>&gt;&gt;&gt;<i> to perform protocol level conneg.. it's been moved into the URI and each
</I>&gt;&gt;&gt;<i> representation is provided as a separate resource. This clearly breaks
</I>&gt;&gt;&gt;<i> the
</I>&gt;&gt;&gt;<i> intended definition of a URI - this is why I don't consider browsers to
</I>&gt;&gt;&gt;<i> conform to HTTP; since they force developers to misuse that part of the
</I>&gt;&gt;&gt;<i> protocol.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If you want to precisely identify the PDF &quot;version&quot; of that document,
</I>&gt;&gt;<i> you need another resource (whose representations is a set with a
</I>&gt;&gt;<i> single value: PDF).
</I>&gt;&gt;<i> If your URI idenfies &quot;this document&quot;, you cannot blame anyone but
</I>&gt;&gt;<i> yourself for not being able to identify &quot;this document in PDF&quot;.
</I>&gt;<i>
</I>&gt;<i> If you want to precisely identify the PDF *representation* (version) of that
</I>&gt;<i> *resource* (document), you need the URI and your Accept headers set
</I>&gt;<i> correctly.
</I>
We're not reading the same definition for resource then...

&quot;REST accomplishes this by defining a resource to be the semantics of
what the author intends to identify, rather than the value
corresponding to those semantics at the time the reference is created.
It is then left to the author to ensure that the identifier chosen for
a reference does indeed identify the intended semantics.&quot;
-- Roy T. Fielding, &#167;6.2.1 of his well-known dissertation

If your intention is to link to &quot;the PDF version of 'some concept'&quot;,
then you need an URI to identify it.

&gt;<i> To that end, the solution to this problem would be to put
</I>&gt;<i> example.com/document into a PDF reader. Or if you were writing an HTML page,
</I>&gt;<i> and you wanted to indicate in the &lt;a&gt; tag that the browser should
</I>&gt;<i> specifically request the PDF representation, you include an
</I>&gt;<i> Accept=&quot;application/pdf&quot; attribute.
</I>
How about other &quot;message control data&quot;? (other Accept-* HTTP request
header fields, but not only, as server-driven conneg is not limited to
those Accept-* headers)
And if WAKA &lt;<A HREF="http://en.wikipedia.org/wiki/Waka_%28protocol%29">http://en.wikipedia.org/wiki/Waka_%28protocol%29</A>&gt; finally
make it one day, you'll have to amend HTML (and all other formats
where you added those things that you're proposing we add to HTML) to
take it into account.
(by chance, HTTP is one of the only &quot;ReSTful protocol&quot; --well, it's
just a protocol, you still have to follow the other ReST constraints)


&gt;&gt;<i> Anyway, we're going real far from this WG's scope, so I propose we
</I>&gt;&gt;<i> follow up in private, or, even better, you re-hash the debate on the
</I>&gt;&gt;<i> rest-discuss list or with Roy T. Fielding if you want.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I completely agree that discussion is outside of the scope of this WG. That
</I>&gt;<i> is one of my main points here; It's a design decision that you are taking
</I>&gt;<i> out of the hands of developers by not provisioning the mechanism for.
</I>&gt;<i>
</I>&gt;<i> I don't consider &quot;well thats how its done and I don't think we need to do it
</I>&gt;<i> any other way&quot; an acceptable response, since it *is* outside of the scope of
</I>&gt;<i> the WG and is a completely subjective standpoint. Not to mention that your
</I>&gt;<i> opinion suggests that HTTP conneg has no &quot;practical use&quot;, which I find hard
</I>&gt;<i> to believe - feel free to explain why this is the case rather than just
</I>&gt;<i> explain that it isn't used at the moment, I know it isn't!
</I>
Don't get me wrong, I'm all for using conneg when appropriate [1, 2]
and AFAICT the W3C uses it itself for its TRs.
Yet, I'm not saying &quot;that's how it's done yada yada yada&quot;, on the
other hand I do believe that you are wrong considering hypermedia
consists of both a resource identifier *and* message control data.

[1] <A HREF="http://intertwingly.net/wiki/pie/PaceContentNegotiationSection">http://intertwingly.net/wiki/pie/PaceContentNegotiationSection</A>
[2] <A HREF="http://www.imc.org/atom-protocol/mail-archive/msg05441.html">http://www.imc.org/atom-protocol/mail-archive/msg05441.html</A>

&gt;<i> OK.. Why would you not want to do everything you could to support all of the
</I>&gt;<i> aspects of HTTP, particularly when you are being given a solution that
</I>&gt;<i> allows for backwards compatibility.
</I>
Because the next one will want a similar support for some other protocol too.

&gt;&gt;<i> So make another URI to identify that particular resource: &quot;the same as
</I>&gt;&gt;<i> X but available only in format Y&quot;.
</I>&gt;<i>
</I>&gt;<i> That's conneg in URIs.
</I>
No, that's agent-driven conneg (and in this case even user-driven). If
you propose several options to the user for it to pick one, then
choosing server-side conneg and trying to control the request's
&quot;message control data&quot; is a Bad Idea.
It's like showing a wood stick and a ball to a dog, asking it to
choose one and yet refusing it to point at it: &quot;no Rex, don't pick the
one you want, rather tell me the one you want and I'll give it to
you&quot;.

&gt;<i> I'm not saying that you cannot achieve conneg in URIs, I'm simply pointing
</I>&gt;<i> out that another approach is the make use of protocol level conneg and avoid
</I>&gt;<i> creating new URIs for every resource representation. I'm not even claiming
</I>&gt;<i> it's a superior approach; it's just a valid alternative that makes proper
</I>&gt;<i> use of the conneg provided in HTTP - HTML could support this approach by
</I>&gt;<i> implementing my proposal.
</I>
But other hypermedia technologies wouldn't and would have to be
changed too: XLink, MSOffice, PDF, Atom, RSS, etc. *and* clients would
have to take those changes into account too.
This is not realistic.

&gt;<i> HTML is a hypermedia. Hypermedia are special case formats that should allow
</I>&gt;<i> UAs as much as possible to make best use of HTTP.
</I>
Why? How is hypermedia limited to HTTP? (hypermedia was 20 years old
when HTTP and the Web was born)

&gt;<i> One of the examples you
</I>&gt;<i> gave was Atom, which is going to great lengths making amendments to support
</I>&gt;<i> the HTTP protocol - for that very reason.
</I>
Which amendments are you talking about ?!


&gt;&gt;<i> Let me try again: your document is available in HTML and PDF (let's
</I>&gt;&gt;<i> keep it simple). Who makes the HTML? Who makes the PDF? How can you be
</I>&gt;&gt;<i> 100%-sure that both variants are strictly &quot;identical&quot; (if ever they
</I>&gt;&gt;<i> can)?
</I>&gt;<i>
</I>&gt;<i> If they aren't identical; they aren't the same resource - and it would be
</I>&gt;<i> idiotic to serve them from the same URI.
</I>
If the both &quot;represent the same concept&quot;, why cannot they be the same resource?

And actually, a PDF and an HTML variant of the same resource are most
likely not identical, as:
 - the HTML variant will probably load external images while the PDF
variant will embed them;
 - PDF allows for vector graphics while HTML defers it to another
format (such as SVG) that might not be embeddable and for which you
might want to provide a rasterized alternate;
 - the PDF variant might use a three column layout
 - the HTML variant might &quot;try&quot; some complex layout if supported
(using CSS3 grid positionning, or CSS3 multi-column layouts) and
fallback to a simpler one if not; not even talking about CSS hacks
 - etc.

&gt;&gt;<i> Let's consider the famous &quot;SVG tiger&quot; image, that you would make
</I>&gt;&gt;<i> available in both SVG and PNG. Isn't the SVG qualitatively better than
</I>&gt;&gt;<i> the PNG? Aren't they the same resource &quot;sketch of a tiger&quot;?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 'Better' ? I don't understand the point your making here..
</I>&gt;<i>
</I>&gt;<i> What are your criteria for this judgment?
</I>
Quality.

&gt;<i> What if I think smaller file size is 'better'?
</I>
I talked about better *quality*. As soon as one variant is derived
from another one, there's a potential loss in quality. And even in the
case variants are not derived from one another, some media types are
more &quot;expressive&quot; than others and can be said of &quot;better quality&quot;
without being subjective: a quote of the day resource served as
text/html and text/plain: text/html can markup the author (&lt;cite&gt;) of
the quote (&lt;q&gt; or &lt;blockquote&gt;); if an UA doesn't mind between
text/html and text/plain, the server would probably send it text/html
because it is more expressive, hence of &quot;better quality&quot;.


And I'll stop here (unless you bring another argument), I've spent
more time than necessary in this debate.


-- 
Thomas Broyer
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059627.html">[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
</A></li>
	<LI>Next message: <A HREF="059514.html">[whatwg] WebSocket feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59637">[ date ]</a>
              <a href="thread.html#59637">[ thread ]</a>
              <a href="subject.html#59637">[ subject ]</a>
              <a href="author.html#59637">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
