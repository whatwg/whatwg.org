<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Workers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Workers&In-Reply-To=%3CPine.LNX.4.62.0811122316500.1237%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059466.html">
   <LINK REL="Next"  HREF="059408.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Workers</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Workers&In-Reply-To=%3CPine.LNX.4.62.0811122316500.1237%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Workers">ian at hixie.ch
       </A><BR>
    <I>Wed Nov 12 15:35:41 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="059466.html">[whatwg] Workers feedback
</A></li>
        <LI>Next message: <A HREF="059408.html">[whatwg] Workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17131">[ date ]</a>
              <a href="thread.html#17131">[ thread ]</a>
              <a href="subject.html#17131">[ subject ]</a>
              <a href="author.html#17131">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
(cc'ed whatwg -- sorry if that wasn't what you intended)

On Wed, 27 Aug 2008, Michael Nordman wrote:
&gt;<i> 
</I>&gt;<i> I see... in that case, consider renaming the owner invoked 
</I>&gt;<i> worker.close() method to use a different verb than self.close()... 
</I>&gt;<i> worker.stop() or worker.terminate() or worker.kill() or worker.abandon() 
</I>&gt;<i> or worker.discard()
</I>
I've renamed it worker.terminate().


&gt;<i> &gt; &gt; Is it possible for a worker (shared or dedicated) to reload itself?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Not currently.
</I>&gt;<i> 
</I>&gt;<i> For dedicated workers, this can effectively be accomplished already by 
</I>&gt;<i> one of the two means of close()ing a worker and then starting a new one 
</I>&gt;<i> and then handing out ports as needed.
</I>&gt;<i> 
</I>&gt;<i> But for shared workers, this is a more interesting question. Provided 
</I>&gt;<i> clients of the shared worker (those that have a reference to it) can be 
</I>&gt;<i> relied on to restart it upon onclose(), reload() would effectively 
</I>&gt;<i> happen. Are there any windows of time where a shared worker executes w/o 
</I>&gt;<i> a client having a reference it?
</I>
Yes. Any worker can survive, e.g. if it has timers running, until its 
parent window (or any window that it ever spoke to) closes the document 
it is associated with.

I don't really see the use case for self-reloading. Do scripts self-reload 
in general?


&gt;<i> &gt; &gt; How do workers and appCaches interact?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; workers are associated with browsing contexts, so they go through the 
</I>&gt;<i> &gt; normal app cache networking changes. This probably interacts badly 
</I>&gt;<i> &gt; with shared workers used from different app caches. We should probably 
</I>&gt;<i> &gt; study this more.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Aaron, Maciej, others, do you have opinions on how these should 
</I>&gt;<i> &gt; interact?
</I>&gt;<i> 
</I>&gt;<i> Seems reasonable to spec that dedicated workers are very related to 
</I>&gt;<i> their owner, execute in a child browsing context, and consequently 
</I>&gt;<i> inherit the same appCache.
</I>&gt;<i> 
</I>&gt;<i> Seems reasonable to spec that shared workers are associated with a 
</I>&gt;<i> browsing context that is very distinct from their clients. Akin to an 
</I>&gt;<i> &quot;auxiliary top-level browsing context&quot;.
</I>
The above seems reasonable...


&gt;<i> Beyond that it gets less clear.
</I>&gt;<i> 
</I>&gt;<i> Do sharedWorker.js documents need a &lt;html manifest='url'&gt; equivalent?
</I>
They don't have one today. I don't really want to add one...


&gt;<i> Should a shraredWorker loaded from appCacheA be distinct from a named 
</I>&gt;<i> shared worker loaded from appCacheB or from the network?
</I>
That seems like a reasonable possibility too...


I haven't fixed this yet.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059466.html">[whatwg] Workers feedback
</A></li>
	<LI>Next message: <A HREF="059408.html">[whatwg] Workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17131">[ date ]</a>
              <a href="thread.html#17131">[ thread ]</a>
              <a href="subject.html#17131">[ subject ]</a>
              <a href="author.html#17131">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
