<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] media elements: Relative seeking
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20media%20elements%3A%20Relative%20seeking&In-Reply-To=%3C1227610713.6768.8.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017417.html">
   <LINK REL="Next"  HREF="017422.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] media elements: Relative seeking</H1>
<!--htdig_noindex-->
    <B>Philip J&#228;genstedt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20media%20elements%3A%20Relative%20seeking&In-Reply-To=%3C1227610713.6768.8.camel%40localhost%3E"
       TITLE="[whatwg] media elements: Relative seeking">philipj at opera.com
       </A><BR>
    <I>Tue Nov 25 02:58:33 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017417.html">[whatwg] media elements: Relative seeking
</A></li>
        <LI>Next message: <A HREF="017422.html">[whatwg] media elements: Relative seeking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17420">[ date ]</a>
              <a href="thread.html#17420">[ thread ]</a>
              <a href="subject.html#17420">[ subject ]</a>
              <a href="author.html#17420">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Relative seeking is always possible: currentTime+=10. Proportional
seeking is possible as long as the duration is known and finite.

I would avoid as far as possible any use of byte positions as this
information isn't exactly trivial to get given all the buffering and
asynchronous decoding involved in typical media frameworks.

Philip

On Tue, 2008-11-25 at 08:58 +0100, Maik Merten wrote:
&gt;<i> Dave Singer schrieb:
</I>&gt;<i> &gt; I don't think you mean 'relative' here, which I would take to be &quot;go 
</I>&gt;<i> &gt; forward 10 seconds&quot;, but 'proportional', &quot;please go to 60% of the way 
</I>&gt;<i> &gt; through&quot;.
</I>&gt;<i> 
</I>&gt;<i> Right, &quot;proportional&quot; for sure is the correct word for what I had in 
</I>&gt;<i> mind. Thanks.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; IF we are to do this, I would have thought it would be by adding units 
</I>&gt;<i> &gt; to the &quot;where to seek to&quot; argument:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; * go to this time in NPT (normal play time, which runs from 0 to media 
</I>&gt;<i> &gt; duration)
</I>&gt;<i> &gt; * go to this SMPTE time code
</I>&gt;<i> &gt; * go by this relative distance in NPT times
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; * go to this proportional time
</I>&gt;<i> &gt; * go to this proportional byte distance
</I>&gt;<i> &gt; * go by this relative byte distance
</I>&gt;<i> 
</I>&gt;<i> Hmmm... I'm in favor of of making implementations more simple (and thus 
</I>&gt;<i> more robust in this case), so I think inflating the number of ways of 
</I>&gt;<i> how one can seek may be going into the wrong direction.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; Note that proportional distances are not well defined for some streams 
</I>&gt;<i> &gt; (e.g. indefinite ones).
</I>&gt;<i> 
</I>&gt;<i> Okay, this use case basically rules out just seeking by values between 
</I>&gt;<i> zero and one. Even with indefinite streams the user may want to e.g. 
</I>&gt;<i> jump to second 20 of the stream, which won't work with the proportional 
</I>&gt;<i> seeking I asked for.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; We'd have to define what bytes are counted and what aren't, especially 
</I>&gt;<i> &gt; if a URL offers a set of sub-streams only some of which a client would 
</I>&gt;<i> &gt; normally choose to have sent to it for playing.
</I>&gt;<i> 
</I>&gt;<i> Oh my, that's true and it isn't pretty.
</I>&gt;<i> 
</I>&gt;<i> I'm currently slamming a subset of the HTML5 media API onto a Java 
</I>&gt;<i> applet (to offer a fallback for browsers without audio/video).
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://people.xiph.org/~maikmerten/demos/bigbuckbunny-applet-javascript.html">http://people.xiph.org/~maikmerten/demos/bigbuckbunny-applet-javascript.html</A>
</I>&gt;<i> 
</I>&gt;<i> Estimating the duration *does* work - poorly in this case, but still. 
</I>&gt;<i> Currently this applet uses the byte-position of the last byte fetched 
</I>&gt;<i> from the server, which isn't the correct *playback* byte-position due to 
</I>&gt;<i> not accounting for the bytes in the buffer (which, in this case, is 4 
</I>&gt;<i> megabytes big - so this is severe). I assume that once this is corrected 
</I>&gt;<i> a reasonable-enough (for a status bar position slider) estimate may 
</I>&gt;<i> actually be possible, meaning things could just stay the way they are.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Maik
</I>-- 
Philip J&#228;genstedt
Opera Software


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017417.html">[whatwg] media elements: Relative seeking
</A></li>
	<LI>Next message: <A HREF="017422.html">[whatwg] media elements: Relative seeking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17420">[ date ]</a>
              <a href="thread.html#17420">[ thread ]</a>
              <a href="subject.html#17420">[ subject ]</a>
              <a href="author.html#17420">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
