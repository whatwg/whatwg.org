<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Brest-discuss%5D%20HTML5%20and%20RESTful%20HTTP%20in%20browsers&In-Reply-To=%3C4922EB0C.40108%40mykanjo.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059578.html">
   <LINK REL="Next"  HREF="059657.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers</H1>
<!--htdig_noindex-->
    <B>Mike</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Brest-discuss%5D%20HTML5%20and%20RESTful%20HTTP%20in%20browsers&In-Reply-To=%3C4922EB0C.40108%40mykanjo.co.uk%3E"
       TITLE="[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers">mike at mykanjo.co.uk
       </A><BR>
    <I>Tue Nov 18 08:19:24 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="059578.html">[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
</A></li>
        <LI>Next message: <A HREF="059657.html">[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59589">[ date ]</a>
              <a href="thread.html#59589">[ thread ]</a>
              <a href="subject.html#59589">[ subject ]</a>
              <a href="author.html#59589">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hallvord R M Steen wrote:
&gt;&gt;&gt;&gt;<i> &quot;It's less typing&quot; - Is that serious or are you joking?!
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         
</I>&gt;&gt;&gt;<i> Isn't it? :)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;<i> Well sure, but I still don't know if that was a joke or whether it was a
</I>&gt;&gt;<i> serious point!
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> A bit of both. It's not an important point by any means, though I
</I>&gt;<i> think less verbosity is valuable :)
</I>&gt;<i>
</I>&gt;<i>   
</I>
Having multiple URIs for different resources, when HTTP provides an 
alternative - is another type of  verbosity. I'd much rather have it in 
the markup, personally.

&gt;&gt;&gt;<i> The language and even format of a resource is actually
</I>&gt;&gt;&gt;<i> often essential to that resource's identity. (The whole
</I>&gt;&gt;&gt;<i> content-negotiation idea is based on that statement being false. I
</I>&gt;&gt;&gt;<i> believe it's true.).
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>       
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> Language is a separate issue from content type. I would consider a
</I>&gt;&gt;<i> translated document as a separate resource which should be indicated in the
</I>&gt;&gt;<i> URL.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> OK, we agree here.
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;&gt;<i> For links *users* (and FWIW search engines,
</I>&gt;&gt;&gt;<i> validators and other agents) may interact with it's however a big
</I>&gt;&gt;&gt;<i> mistake to move away from one URL per variant of a resource. In light
</I>&gt;&gt;&gt;<i> of my content negotiation experiments and experience I'd say an Access
</I>&gt;&gt;&gt;<i> attribute in HTML would be harmful to the usability of URLs.
</I>&gt;&gt;&gt;<i>       
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> If your system is designed to provide several different content types for
</I>&gt;&gt;<i> users to be able to read/write/update/delete a single resource from various
</I>&gt;&gt;<i> different User Agents - it's totally misleading to provide a separate URL
</I>&gt;&gt;<i> for each of them.
</I>&gt;&gt;<i> If I update the information in /report.pdf - does that update the
</I>&gt;&gt;<i> information in /report.html and /report.xml ? They're seperate resources
</I>&gt;&gt;<i> (indicated by seperate URLs) so from a 'usability' point of view, the
</I>&gt;&gt;<i> expected result should be to *only* update that the information in
</I>&gt;&gt;<i> /report.pdf.. but that's not actually the case here since the system will
</I>&gt;&gt;<i> update the information in the other two URLs aswell.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> It's an interesting use case. It's also a simple UI issue that can be
</I>&gt;<i> solved on a UI level, if, say, my CMS shows that I'm about to update
</I>&gt;<i> &quot;/report&quot; or lists the files that will be affected. So this use case
</I>&gt;<i> doesn't need to be addressed at an architectural level where it will
</I>&gt;<i> have negative consequences for the usability of URLs.
</I>&gt;<i>
</I>&gt;<i>   
</I>
That doesn't sound like it will end up very &quot;uniform&quot;!

&gt;&gt;<i> This kind of behavior *breaks caching*, for obvious reasons.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Caches have to check whether resources are fresh according to caching
</I>&gt;<i> headers and/or settings anyway.
</I>&gt;<i>
</I>&gt;<i>   
</I>
Don't reverse proxy caches automatically react to update the cache if a 
PUT or POST is performed on a given URI?

&gt;&gt;&gt;<i> File types are all about convention. It's useful when sites follow the
</I>&gt;&gt;&gt;<i> convention, and it's a surprise in the rare event when they don't.
</I>&gt;&gt;&gt;<i> Since most of the time they do it's more useful than harmful.
</I>&gt;&gt;&gt;<i>       
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> What is the value of that 'convention'?
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> To me it's high, because it lets me E-mail/share URLs and be certain
</I>&gt;<i> of what variant the recipient sees, and it helps me decide whether or
</I>&gt;<i> not to open links I receive. (&quot;Oh, that's a .ppt file - I don't have a
</I>&gt;<i> viewer for that so I won't bother&quot;).
</I>&gt;<i>
</I>&gt;<i>   
</I>
You can be certain by telling them which UA is appropriate - if it's the 
same information but just in a different format, why does it matter that 
the content-type is different?

&gt;&gt;<i> It only exists because of the present insufficiencies of HTML to provide
</I>&gt;&gt;<i> browsers with a way to leverage protocol level conneg.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Perhaps, but it has proven valuable in many other ways.
</I>&gt;<i>
</I>&gt;<i>   
</I>
What are you measuring that value against?

&gt;&gt;&gt;<i> My scepticism has nothing to do with whether it's easy to implement
</I>&gt;&gt;&gt;<i> (though I think you underestimate the required efforts - for example
</I>&gt;&gt;&gt;<i> the UA would need to verify that provided Accept: values are
</I>&gt;&gt;&gt;<i> correct/don't cause security problems etc.). My scepticism has nothing
</I>&gt;&gt;&gt;<i> to do with whether it is backwards compatible either. As a URL user I
</I>&gt;&gt;&gt;<i> just want to defend the usability of URLs against a theoretically more
</I>&gt;&gt;&gt;<i> pure but for practical purposes deeply flawed solution to a
</I>&gt;&gt;&gt;<i> non-problem.
</I>&gt;&gt;&gt;<i>       
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> It's interesting you mention security actually. Right now - as it stands -
</I>&gt;&gt;<i> your web browser is sending all of its requests  with an Accept header that
</I>&gt;&gt;<i> contains a catch-all &quot;*/*&quot;. That is significantly less secure
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> This is incorrect. A malicious server can send you anything - no
</I>&gt;<i> matter what the Accept: header (and the extension) is. Browsers have
</I>&gt;<i> to deal with the fact that &quot;anything&quot; can come down the wire. (It
</I>&gt;<i> would certainly be *nice* if malicious servers started respecting
</I>&gt;<i> content negotiation and would stop sending you evil content if you
</I>&gt;<i> stopped sending &quot;*/*&quot; in the Accept: header but something tells me
</I>&gt;<i> things don't work that way).
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> - the fact
</I>&gt;&gt;<i> that you see .pdf at the end of the URL doesn't mean my server isn't about
</I>&gt;&gt;<i> to send you an executable. This is what I was referring to as &quot;artificial
</I>&gt;&gt;<i> certainty&quot;.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> If we implemented &lt;a href=&quot;report&quot; accept=&quot;application/pdf&quot;&gt;report&lt;/a&gt;
</I>&gt;<i> the server could respond with an executable too. This argument is
</I>&gt;<i> perfectly irrelevant to your case for HTTP-related attributes.
</I>&gt;<i>   
</I>
I agree, and it's in the rfc - that servers don't have to honor the 
Accept header. It's certainly not any worse than URI conneg. Furthermore 
- it's much easier for browser developers to create security mechanisms 
against the standardised nature of Accept header and content-types; i.e. 
if the content-type returned does not fit the Accept header of the 
request then reject the response and notify the user of naughty behavior 
from the server. This is much more difficult when you are doing conneg 
in the URI because there are so many different ways of indicating to a 
user what the content-type is that they are requesting:

/report.html
/report?type=html
/report;content-type=text/html

etc. etc.

HTTP conneg is much better suited for implementing security processes 
like this because there is no ambiguity.

Regards,
Mike
//

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059578.html">[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
</A></li>
	<LI>Next message: <A HREF="059657.html">[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59589">[ date ]</a>
              <a href="thread.html#59589">[ thread ]</a>
              <a href="subject.html#59589">[ subject ]</a>
              <a href="author.html#59589">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
