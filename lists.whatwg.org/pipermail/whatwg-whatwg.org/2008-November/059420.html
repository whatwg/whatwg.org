<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Scripted querying of &lt;video&gt; capabilities
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Scripted%20querying%20of%20%3Cvideo%3E%20capabilities&In-Reply-To=%3C11e306600811131314l5e83464u2db593a5a854d914%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059417.html">
   <LINK REL="Next"  HREF="059421.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Scripted querying of &lt;video&gt; capabilities</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Scripted%20querying%20of%20%3Cvideo%3E%20capabilities&In-Reply-To=%3C11e306600811131314l5e83464u2db593a5a854d914%40mail.gmail.com%3E"
       TITLE="[whatwg] Scripted querying of &lt;video&gt; capabilities">robert at ocallahan.org
       </A><BR>
    <I>Thu Nov 13 13:14:47 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="059417.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
        <LI>Next message: <A HREF="059421.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59420">[ date ]</a>
              <a href="thread.html#59420">[ thread ]</a>
              <a href="subject.html#59420">[ subject ]</a>
              <a href="author.html#59420">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Nov 14, 2008 at 8:38 AM, Philip J&#228;genstedt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>&gt;wrote:

&gt;<i> I'm also a bit concerned about how to interpret the yes, no and maybe
</I>&gt;<i> return values. The truthful answer is going to be &quot;maybe&quot; for all but
</I>&gt;<i> the obviously unsupporter (application/x-ms-dos-executable) and the more
</I>&gt;<i> trivial formats (audio/wav).
</I>&gt;<i>
</I>
Even WAV is extensible.

When asking about application/ogg, this could mean 2 things:
&gt;<i>
</I>&gt;<i> 1. &quot;can I demux Ogg streams?&quot;
</I>&gt;<i> 2. &quot;can I demux Ogg streams and decode unknown codecs?&quot;
</I>

It means &quot;can I play this stream, given that the only thing I know about it
is that it's an Ogg stream&quot;? Which I guess is what you meant by option 2.

The browser can only answer &quot;no&quot; or &quot;maybe&quot; in this case. That seems fine to
me. It lets the author know whether the browser can demux Ogg streams, while
staying consistent with the behaviour when codec information is given in the
MIME type.

Unless the codecs parameter is to be made mandatory I think that spec
&gt;<i> should explicitly make it such that the question asked is 1. In either
</I>&gt;<i> case we will end up there because 2 is not a meaningful question and
</I>&gt;<i> user agents will make untruthful answers in attempts to stay compatible
</I>&gt;<i> with unknown and future content (which might be supported by installing
</I>&gt;<i> new codecs in the media framework without upgrading the browser).
</I>

I don't understand what the incentives are for browsers to lie. If we start
off telling the truth, then authors will have to write scripts that either
accept &quot;maybe&quot; or, better still, provide the codec information, or their
scripts won't work. I don't see how that would change over time.

Now, if the codec parameter is used then the user agent may answer yes
&gt;<i> and no in a way that actually makes some sense.
</I>

Yes. Authors should be strongly encouraged to give the codec parameters.

I also think that this should be explicitly related to the type
&gt;<i> attribute of the source element. One should be able to use canPlayType
</I>&gt;<i> to predict with 100% accuracy which source the user agent will use when
</I>&gt;<i> it encounters.
</I>&gt;<i>
</I>&gt;<i> &lt;video&gt;
</I>&gt;<i> &lt;source type=&quot;application/ogg&quot;/&gt;
</I>&gt;<i> &lt;source type=&quot;application/ogg codecs=dirac,flac&quot;/&gt;
</I>&gt;<i> &lt;/video&gt;
</I>&gt;<i>
</I>&gt;<i> If this isn't specified then one can expect lots of web app authors
</I>&gt;<i> being forced to write scripts to work around the different behaviour of
</I>&gt;<i> canPlayType and the &quot;pick a source&quot; algorithm in different browsers.
</I>

I agree.

Rob
-- 
&quot;He was pierced for our transgressions, he was crushed for our iniquities;
the punishment that brought us peace was upon him, and by his wounds we are
healed. We all, like sheep, have gone astray, each of us has turned to his
own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
53:5-6]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20081114/a0526e2e/attachment-0001.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20081114/a0526e2e/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059417.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
	<LI>Next message: <A HREF="059421.html">[whatwg] Scripted querying of &lt;video&gt; capabilities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59420">[ date ]</a>
              <a href="thread.html#59420">[ thread ]</a>
              <a href="subject.html#59420">[ subject ]</a>
              <a href="author.html#59420">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
