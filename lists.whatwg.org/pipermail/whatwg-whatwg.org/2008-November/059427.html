<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Workers feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Workers%20feedback&In-Reply-To=%3C491CD16F.30706%40arc.net.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059424.html">
   <LINK REL="Next"  HREF="059428.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Workers feedback</H1>
<!--htdig_noindex-->
    <B>Shannon</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Workers%20feedback&In-Reply-To=%3C491CD16F.30706%40arc.net.au%3E"
       TITLE="[whatwg] Workers feedback">shannon at arc.net.au
       </A><BR>
    <I>Thu Nov 13 17:16:31 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="059424.html">[whatwg] Workers feedback
</A></li>
        <LI>Next message: <A HREF="059428.html">[whatwg] Workers feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59427">[ date ]</a>
              <a href="thread.html#59427">[ thread ]</a>
              <a href="subject.html#59427">[ subject ]</a>
              <a href="author.html#59427">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I don't see any value in the &quot;user-agent specified amount of time&quot; delay 
in stopping scripts. How can you write cleanup code when you have no 
consistency in how long it gets to run (or if it runs at all)? If you 
can't rely on a cleanup then it becomes necessary to have some kind of 
repair/validation sequence run on the data next time it is accessed to 
check if it's valid. If you can do that then you didn't really need a 
cleanup anyway. As far as I can tell the &quot;user-agent specified amount of 
time&quot; is going to be a major source of hard-to-spot, hard-to-test bugs 
(since full testing probably involves closing and killing browsing 
contexts in different ways followed by a login sequence and several page 
navigations to get back to the page). I can see authors maybe performing 
these tests in IE but not across a range of browsers and computer 
specifications.

The spec really needs to make a decision here. Either consistently 
provide no cleanup window or make it a requirement to provide a fixed 
number of seconds, which is still unreliable but at least within a 
smaller margin. Failure to do so will impact heavily on users of less 
popular browsers.


The specification for message ports is still limited to strings. If no 
effort is going to be made to allow numbers, arrays, structs and binary 
data then I'd suggest Workers be given functions to 
serialise/deserialise these objects. Since the whole point of workers is 
presumably the processing of large datasets then a reliable and 
low-overhead means of passing these sets between workers and main 
threads (without resorting to SQL, XMLHttpRequest or other indirection) 
is an essential function.


WorkerUtils does not implement document.cookie. I imagine this would be 
very useful in conjunction with cleanup code to flag if a cleanup 
operation failed to complete. Storage and Database interfaces are too 
heavy for the purpose of simple data like this.


Shannon

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059424.html">[whatwg] Workers feedback
</A></li>
	<LI>Next message: <A HREF="059428.html">[whatwg] Workers feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59427">[ date ]</a>
              <a href="thread.html#59427">[ thread ]</a>
              <a href="subject.html#59427">[ subject ]</a>
              <a href="author.html#59427">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
