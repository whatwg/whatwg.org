<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] WebForms2 validity
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebForms2%20validity&In-Reply-To=%3CPine.LNX.4.62.0811120117360.1237%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017133.html">
   <LINK REL="Next"  HREF="017102.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] WebForms2 validity</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebForms2%20validity&In-Reply-To=%3CPine.LNX.4.62.0811120117360.1237%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] WebForms2 validity">ian at hixie.ch
       </A><BR>
    <I>Tue Nov 11 17:25:48 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017133.html">[whatwg] [WebForms2] custom form validation notifications
</A></li>
        <LI>Next message: <A HREF="017102.html">[whatwg] Show upload progress
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17101">[ date ]</a>
              <a href="thread.html#17101">[ thread ]</a>
              <a href="subject.html#17101">[ subject ]</a>
              <a href="author.html#17101">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
It's proposed below to remove checkValidity() -- if people have an opinion 
on this, please do speak up.

On Tue, 28 Oct 2008, Eduard Pascual wrote:
&gt;<i> On Tue, Oct 28, 2008 at 8:09 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; On Fri, 9 Feb 2007, Sean Hogan wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Many textual input form-controls would begin in one or another 
</I>&gt;<i> &gt;&gt; invalid state (valueMissing, patternMismatch) however authors would 
</I>&gt;<i> &gt;&gt; typically want CSS validity styles to apply only after 
</I>&gt;<i> &gt;&gt; checkValidity() - either a manual one or the automatic one performed 
</I>&gt;<i> &gt;&gt; by form-submission.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Why?
</I>&gt;<i> 
</I>&gt;<i> I agree with Sean's idea: at least on the initial state, controls 
</I>&gt;<i> showing up with &quot;invalid&quot; styling can be quite confusing to many users. 
</I>&gt;<i> It may depend a lot on the context, and even more on the user: although 
</I>&gt;<i> the initial &quot;&quot; for a required text field would be invalid, and even 
</I>&gt;<i> would make sense to visually convey that fact, many users may wonder 
</I>&gt;<i> &quot;What did I wrong if I didn't do anything yet?&quot;.
</I>
The only way that text field would be invalid is if it had required=&quot;&quot; 
set; and in that case, one could disable the styling using :required to 
change the styling in some appropriate way.


&gt;<i> The best solution I can think of this would be an additional 
</I>&gt;<i> pseudo-class, such as &quot;:default&quot;, &quot;:initial-value&quot;, &quot;:non-modified&quot;, or 
</I>&gt;<i> anything like that (I'm really bad at naming stuff, so please take those 
</I>&gt;<i> only as *examples*, because that's what they are), which could be used 
</I>&gt;<i> together depending on the needs of each site or application, like this:
</I>&gt;<i>
</I>&gt;<i> :valid {
</I>&gt;<i> // code for &quot;green&quot; higlighting
</I>&gt;<i> }
</I>&gt;<i> :invalid {
</I>&gt;<i> // code for &quot;red&quot; highlighting
</I>&gt;<i> }
</I>&gt;<i> :default {
</I>&gt;<i> // overriding code to remove highlighting (or to apply &quot;white&quot; highlighting)
</I>&gt;<i> }
</I>&gt;<i> :default:invalid {
</I>&gt;<i> // code for &quot;yellow&quot; highlighting
</I>&gt;<i> }
</I>&gt;<i> That's just an example. The idea is that an application may need to
</I>&gt;<i> convey (through styling the validity pseudo-classes) the meanings &quot;you
</I>&gt;<i> have put something wrong here&quot; and &quot;you have to provide something
</I>&gt;<i> here&quot; as different concepts.
</I>
That would be interesting. It is, however, out of our scope. :-) If you 
want to follow up on this, I recommend bringing it up with the CSS working 
group at <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">www-style at w3.org.</A>


On Tue, 28 Oct 2008, Philipp Serafin wrote:
&gt;<i> 
</I>&gt;<i> This seems to overlap with the &quot;@placeholder&quot; proposal. Maybe both 
</I>&gt;<i> proposals could be merged somehow?
</I>&gt;<i> 
</I>&gt;<i> Ideas:
</I>&gt;<i> a) Don't include :default but instead define :invalid so that it won't
</I>&gt;<i> be set as long as the placeholder is visible;
</I>&gt;<i> b) get rid of the placeholder attribute and use :default instead;
</I>
I don't really like the idea of making features interrelated in this way. 
It makes things really complicated to spec, implement, test, and use.


On Tue, 28 Oct 2008, Nils Dagsson Moskopp wrote:
&gt;<i>
</I>&gt;<i> make an easy rule into a complicated one to cater to an unknown use
</I>&gt;<i> case. yeah. way to go.
</I>&gt;<i> &lt;/sarcasm&gt;
</I>
Please don't be sarcastic on this list. :-)


&gt;<i> fact: invalid content is invalid. i'd use javascript to change the 
</I>&gt;<i> element class from &quot;never given focus&quot; to &quot;had focus&quot; using onclick in 
</I>&gt;<i> your case.
</I>
I agree that this seems like a better solution.


On Wed, 29 Oct 2008, Sean Hogan wrote:
&gt;<i>
</I>&gt;<i> Ok. But what's the use of checkValidity() on form-control-elements?
</I>&gt;<i> Isn't it just:
</I>&gt;<i>  function() {
</I>&gt;<i>    if (!this.validity.valid) this.dispatchEvent(&quot;invalid&quot;);
</I>&gt;<i>    return this.validity.valid;
</I>&gt;<i>  }
</I>
It's more like

   if (this.willValidate &amp;&amp; !this.validity.valid)
     // dispatch invalid and return true
   else
     // return false

...but yes.

We could remove it, true. It's not that useful.

Do people want to keep it?


&gt;<i> &gt; &gt; Many textual input form-controls would begin in one or another 
</I>&gt;<i> &gt; &gt; invalid state (valueMissing, patternMismatch) however authors would 
</I>&gt;<i> &gt; &gt; typically want CSS validity styles to apply only after 
</I>&gt;<i> &gt; &gt; checkValidity() - either a manual one or the automatic one performed 
</I>&gt;<i> &gt; &gt; by form-submission.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Why?
</I>&gt;<i>
</I>&gt;<i> I would probably now agree that the default should be immediate 
</I>&gt;<i> application of :valid / :invalid styling which can worked-around with 
</I>&gt;<i> script. The opposing view (what I would have said a year ago) is...
</I>&gt;<i> 
</I>&gt;<i> I think that's the way it usually is now. More specifically:
</I>&gt;<i> 1. It could be confusing to have :invalid styling on form-controls when the
</I>&gt;<i> page first loads.
</I>&gt;<i> 2. It could be distracting for the styling of a form-control to switch between
</I>&gt;<i> :valid and :invalid while the user is typing into it.
</I>&gt;<i> 3. It could be distracting for the :valid and :invalid styles to apply before
</I>&gt;<i> the user tries to submit or explicitly requests the data to be checked.
</I>&gt;<i> 
</I>&gt;<i> #2 can be worked around using :focus. I can't see how #1 and #3 can be worked
</I>&gt;<i> around without script.
</I>&gt;<i> A :validated pseudo-class that applied after checkValidity() is called or
</I>&gt;<i> form-submission has been attempted would give some extra flexibility in the
</I>&gt;<i> noscript scenario.
</I>
Most controls will be valid unless they are required, as far as I can 
tell, so I'm not sure it's that big a deal.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017133.html">[whatwg] [WebForms2] custom form validation notifications
</A></li>
	<LI>Next message: <A HREF="017102.html">[whatwg] Show upload progress
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17101">[ date ]</a>
              <a href="thread.html#17101">[ thread ]</a>
              <a href="subject.html#17101">[ subject ]</a>
              <a href="author.html#17101">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
