<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Combining the DedicatedWorker and SharedWorker	interfaces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Combining%20the%20DedicatedWorker%20and%20SharedWorker%0A%09interfaces&In-Reply-To=%3CADFDC6FD-9323-4784-93B7-452DDE514500%40webkit.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017031.html">
   <LINK REL="Next"  HREF="017035.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Combining the DedicatedWorker and SharedWorker	interfaces</H1>
<!--htdig_noindex-->
    <B>Alexey Proskuryakov</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Combining%20the%20DedicatedWorker%20and%20SharedWorker%0A%09interfaces&In-Reply-To=%3CADFDC6FD-9323-4784-93B7-452DDE514500%40webkit.org%3E"
       TITLE="[whatwg] Combining the DedicatedWorker and SharedWorker	interfaces">ap at webkit.org
       </A><BR>
    <I>Wed Nov  5 13:23:50 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017031.html">[whatwg] Combining the DedicatedWorker and SharedWorker	interfaces
</A></li>
        <LI>Next message: <A HREF="017035.html">[whatwg] Combining the DedicatedWorker and SharedWorker	interfaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17033">[ date ]</a>
              <a href="thread.html#17033">[ thread ]</a>
              <a href="subject.html#17033">[ subject ]</a>
              <a href="author.html#17033">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
Nov 5, 2008, &#1074; 11:06 PM, Aaron Boodman &#1085;&#1072;&#1087;&#1080;&#1089;&#1072;&#1083;(&#1072;):

&gt;<i> Jonas, Hixie, and I talked about this yesterday on IRC (logs start
</I>&gt;<i> here: <A HREF="http://krijnhoetmer.nl/irc-logs/whatwg/20081104#l-575">http://krijnhoetmer.nl/irc-logs/whatwg/20081104#l-575</A> and go
</I>&gt;<i> into the next day).
</I>&lt;...&gt;
&gt;<i> * Remove startConversation() from the Worker interface
</I>&gt;<i> * Remove the port property from the SharedWorker interface and give it
</I>&gt;<i> a postMessage and onmessage just like dedicated workers have.
</I>&gt;<i> * Leave the interfaces for the insides of the workers as they are now
</I>

Something that seems missing from these discussions is how the API  
changes affect semantics of worker behavior, which makes it hard to  
compare proposals. For example, having some port singled out as an  
attribute of Worker (or as an implicit hidden attribute, used by  
methods defined on Worker itself) sorta implies that closing it should  
close other ports and dispose of the worker global scope soon.  
Similarly, having separate interfaces for Worker and SharedWorker  
implies that there is some fundamental difference in their behavior -  
a difference that eludes me so far.

It would seem that we could make better progress if we had a list of  
requirements that we want to have fulfilled (e.g., should it be  
possible to easily manage worker lifetime manually by closing a  
dedicated port? or should workers strive to remain available for as  
long as any client has an open port, which helps write reliable code?).

I really don't think that the desire to save one line in a 500-line  
program should affect the design too much. Convenience methods can be  
added later, but over-engineered parts cannot be removed later. And at  
this point, I believe that  we are mostly speculating about use cases  
(probably except for Google Gears folks, who are shipping a similar  
API, and get developer feedback already).

- WBR, Alexey Proskuryakov


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017031.html">[whatwg] Combining the DedicatedWorker and SharedWorker	interfaces
</A></li>
	<LI>Next message: <A HREF="017035.html">[whatwg] Combining the DedicatedWorker and SharedWorker	interfaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17033">[ date ]</a>
              <a href="thread.html#17033">[ thread ]</a>
              <a href="subject.html#17033">[ subject ]</a>
              <a href="author.html#17033">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
