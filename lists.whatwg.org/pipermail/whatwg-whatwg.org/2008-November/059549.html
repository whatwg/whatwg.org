<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] JSON support for worker postMessage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20JSON%20support%20for%20worker%20postMessage&In-Reply-To=%3C49223EA1.4060504%40sicking.cc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059514.html">
   <LINK REL="Next"  HREF="059551.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] JSON support for worker postMessage</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20JSON%20support%20for%20worker%20postMessage&In-Reply-To=%3C49223EA1.4060504%40sicking.cc%3E"
       TITLE="[whatwg] JSON support for worker postMessage">jonas at sicking.cc
       </A><BR>
    <I>Mon Nov 17 20:03:45 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="059514.html">[whatwg] WebSocket feedback
</A></li>
        <LI>Next message: <A HREF="059551.html">[whatwg] JSON support for worker postMessage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59549">[ date ]</a>
              <a href="thread.html#59549">[ thread ]</a>
              <a href="subject.html#59549">[ subject ]</a>
              <a href="author.html#59549">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi All,

Ben just wrote up a patch to support JSON objects as well as primitive 
values (0, null, false, etc) to be passed to and from workers using 
postMessage.

Wanted to see what the reactions to this was. Is it a good idea or not?

I seem to recall this coming up in the past in the original feedback 
about what features people wanted.

The technical details are as follows:
Any of the following values are passed by value as-is:
* strings
* numbers
* booleans
* undefined
* null

Anything else is passed to JSON.stringify (defined by Ecmascript drafts 
here[1]). If calling JSON.stringify throws the same error will be thrown 
by the function. Otherwise the message event fired on the other 'side' 
will contain the result of JSON.parse.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059514.html">[whatwg] WebSocket feedback
</A></li>
	<LI>Next message: <A HREF="059551.html">[whatwg] JSON support for worker postMessage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59549">[ date ]</a>
              <a href="thread.html#59549">[ thread ]</a>
              <a href="subject.html#59549">[ subject ]</a>
              <a href="author.html#59549">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
