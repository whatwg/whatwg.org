<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal: target=&quot;_reference&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20target%3D%22_reference%22&In-Reply-To=%3CPine.LNX.4.62.0811300112190.17414%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059858.html">
   <LINK REL="Next"  HREF="059862.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal: target=&quot;_reference&quot;</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20target%3D%22_reference%22&In-Reply-To=%3CPine.LNX.4.62.0811300112190.17414%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Proposal: target=&quot;_reference&quot;">ian at hixie.ch
       </A><BR>
    <I>Sat Nov 29 19:31:18 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="059858.html">[whatwg] &lt;img&gt; element comments
</A></li>
        <LI>Next message: <A HREF="059862.html">[whatwg] attribution/credit for blockquote/figure (was: Re: Comments and questions on Web Apps 1.0)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59861">[ date ]</a>
              <a href="thread.html#59861">[ thread ]</a>
              <a href="subject.html#59861">[ subject ]</a>
              <a href="author.html#59861">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
I haven't added target=&quot;_reference&quot;. Though I think it's a good idea, we 
would probably need more browser vendor buy-in before going ahead with 
this. If anyone wants to see if we can get this moved further along, I 
recommend trying to follow the steps described here:

   <A HREF="http://wiki.whatwg.org/wiki/FAQ#Is_there_a_process_for_adding_new_features_to_the_spec.3F">http://wiki.whatwg.org/wiki/FAQ#Is_there_a_process_for_adding_new_features_to_the_spec.3F</A>

In particular, step 4 (getting experimental implementations).

On Sat, 26 Apr 2008, Matthew Paul Thomas wrote:
&gt;<i>
</I>&gt;<i> Summary: I propose target=&quot;_reference&quot;, which would open a link in a 
</I>&gt;<i> secondary viewport, for example a closable pane at the bottom of a 
</I>&gt;<i> browser window. This would be much less annoying and intimidating than 
</I>&gt;<i> target=&quot;_blank&quot;. It could be used immediately for providing help, and 
</I>&gt;<i> for linking to privacy policies, terms of use, etc within forms. 
</I>&gt;<i> Eventually it could also be used for footnotes and endnotes.
</I>&gt;<i>
</I>&gt;<i> [...]
</I>&gt;<i> 
</I>&gt;<i> For a vanilla form -- a vertical series of labelled text fields, 
</I>&gt;<i> checkboxes, and so on -- there are indeed friendlier ways of offering 
</I>&gt;<i> help than in a popup window. For example, a &quot;(What's this?)&quot; link next 
</I>&gt;<i> to a control might make visible a section under the control containing 
</I>&gt;<i> extra help, without obscuring the rest of the form. That is what we 
</I>&gt;<i> planned initially.
</I>&gt;<i> 
</I>&gt;<i> But in a page that's less like a form and more like an application, 
</I>&gt;<i> there often isn't room to do this. The example that defeated our 
</I>&gt;<i> expanding-section plan was needing to explain the eight possible choices 
</I>&gt;<i> for a &lt;select&gt; menu, where the menu was the sole contents of each cell 
</I>&gt;<i> in a table column. The help link for that belonged in the column's 
</I>&gt;<i> header cell, but then where should the help itself appear? Not enough 
</I>&gt;<i> room in the header cell, or anywhere else in the table itself. And 
</I>&gt;<i> displaying it below the table risked it being off-screen and not seen, 
</I>&gt;<i> if the table was tall enough. There's a similar problem with help links 
</I>&gt;<i> that appear in any small sidebar or other narrow area.
</I>&gt;<i> 
</I>&gt;<i> So our current plan is to use a Facebook-style fake popup window, a box 
</I>&gt;<i> that floats above the rest of the page content and is dismissed with an 
</I>&gt;<i> &quot;OK&quot; button. This has two important advantages over target=&quot;_blank&quot;:
</I>&gt;<i>
</I>&gt;<i> * If you close or navigate away from the page, the help doesn't need to 
</I>&gt;<i> be closed separately.
</I>&gt;<i>
</I>&gt;<i> * If you switch to a different window or tab, the help isn't flopping 
</I>&gt;<i> around unneeded.
</I>&gt;<i> 
</I>&gt;<i> But it also has three disadvantages compared with target=&quot;_blank&quot;:
</I>&gt;<i>
</I>&gt;<i> * It's impossible to arrange the application and the help side by side, 
</I>&gt;<i> such that they don't obscure each other.
</I>&gt;<i>
</I>&gt;<i> * Whatever interface we provide for closing the help &quot;window&quot;, it's 
</I>&gt;<i> inconsistent with someone's platform conventions, and inconsistent with 
</I>&gt;<i> other Web sites that do something similar.
</I>&gt;<i>
</I>&gt;<i> * It's literally thousands of times harder to implement.
</I>&gt;<i> 
</I>&gt;<i> What would an interface look like that avoided these disadvantages? It 
</I>&gt;<i> would disappear whenever the page was closed, navigated away from, or 
</I>&gt;<i> switched away from. It wouldn't obscure the page content. It would be 
</I>&gt;<i> consistent with platform conventions. And it would be just as easy for 
</I>&gt;<i> authors to implement as target=&quot;_blank&quot; is.
</I>&gt;<i> 
</I>&gt;<i> The obvious solution, for large-screen browsers, is a pane that appears 
</I>&gt;<i> at the bottom of the browser window -- like the docked palettes in some 
</I>&gt;<i> drawing programs, or the Firebug add-on in Firefox. This pane would 
</I>&gt;<i> disappear along with the rest of the page as soon as you went to a new 
</I>&gt;<i> page. The browser would be in charge of giving it a Close button that 
</I>&gt;<i> matches OS conventions. And a browser might also (but wouldn't need to) 
</I>&gt;<i> let you drag it from the bottom to the side of the window, or even 
</I>&gt;<i> undock it into its own floating window (though this should still 
</I>&gt;<i> disappear when you closed the main page or navigated to another page).
</I>&gt;<i> 
</I>&gt;<i> For small-screen browsers, such as those in phones, it would be a 
</I>&gt;<i> separate screen that -- unlike target=&quot;_blank&quot; -- had a browser-supplied 
</I>&gt;<i> &quot;OK&quot; button, and when closed always returned you to the screen whence it 
</I>&gt;<i> was opened, preferably in exactly the state it was in when you left it.
</I>&gt;<i> 
</I>&gt;<i> To support this, I propose target=&quot;_reference&quot;, referring to a secondary 
</I>&gt;<i> viewport that is strongly associated with the primary viewport from 
</I>&gt;<i> which it is opened. A browser must provide an obvious mechanism for 
</I>&gt;<i> closing this secondary viewport separately from the primary one; for the 
</I>&gt;<i> author to do so should be non-conformant. And if the primary viewport is 
</I>&gt;<i> closed, or navigates to a new resource (not just a separate fragment of 
</I>&gt;<i> the same resource), the secondary viewport should close automatically.
</I>&gt;<i> 
</I>&gt;<i> Only one secondary viewport should be available per primary viewport: 
</I>&gt;<i> within the secondary viewport, target=&quot;_reference&quot; should refer to the 
</I>&gt;<i> same viewport, not to a new one.
</I>&gt;<i> 
</I>&gt;<i> Web application developers could start using target=&quot;_reference&quot; 
</I>&gt;<i> immediately for providing help, since the way current browsers treat it 
</I>&gt;<i> -- opening a separate window -- would be an acceptable fallback. (If 
</I>&gt;<i> developers didn't consider it acceptable fallback, they could use script 
</I>&gt;<i> to replace the new-window behavior with fake-popup behavior in legacy 
</I>&gt;<i> browsers.)
</I>&gt;<i> 
</I>&gt;<i> As a bonus, once it was widely supported, document authors could also 
</I>&gt;<i> start using target=&quot;_reference&quot; for footnotes and endnotes. This would 
</I>&gt;<i> be much better than most existing footnote/endnote mechanisms, in that 
</I>&gt;<i> the browser wouldn't scroll or navigate away from the original text 
</I>&gt;<i> while showing the note. This in turn would make it much easier to 
</I>&gt;<i> implement than existing footnote/endnote mechanisms: authors wouldn't 
</I>&gt;<i> need to provide special &quot;Back to article&quot; links, or insert dummy 
</I>&gt;<i> id=/name= attributes to serve as the targets of those links. It would 
</I>&gt;<i> work equally well regardless of where the note text was placed -- at the 
</I>&gt;<i> end of a &lt;section&gt;, at the end of the page, or even on a separate page. 
</I>&gt;<i> And it wouldn't even require adding any new elements or attributes to 
</I>&gt;<i> HTML.
</I>
On Sun, 27 Apr 2008, Philip Taylor wrote:
&gt;<i> 
</I>&gt;<i> IE6 supported target=_search and target=_media, to open pages in 
</I>&gt;<i> sidebars (closable panes at the side of the browser window). Nobody uses 
</I>&gt;<i> those target values (in 130K pages I see 3 pages with either), and 
</I>&gt;<i> <A HREF="http://msdn2.microsoft.com/en-us/library/ms534659(VS.85">http://msdn2.microsoft.com/en-us/library/ms534659(VS.85</A>).aspx says 
</I>&gt;<i> _media was dropped in XP SP2 and _search was dropped in IE7 (&quot;for 
</I>&gt;<i> security reasons&quot;). _reference sounds functionally very similar, so how 
</I>&gt;<i> would it avoid those security problems and why would it be more 
</I>&gt;<i> successful in practice?
</I>
On Sun, 27 Apr 2008, Matthew Paul Thomas wrote:
&gt;<i> 
</I>&gt;<i> The problem with _media and _search was that if you gave them an invalid 
</I>&gt;<i> URL, the resulting error page &lt;<A HREF="res://blahblahblah">res://blahblahblah</A>&gt; was in the &quot;My 
</I>&gt;<i> Computer&quot; zone, but could still be manipulated (e.g. have malicious code 
</I>&gt;<i> inserted in it) by the remote page. That could be avoided by not 
</I>&gt;<i> treating error pages as being in the &quot;My Computer&quot; zone. I guess 
</I>&gt;<i> Microsoft didn't bother with this because they knew that media was going 
</I>&gt;<i> to be, and search already was, handled differently in IE7 anyway.
</I>
On Mon, 28 Apr 2008, fantasai wrote:
&gt;<i> 
</I>&gt;<i> How are you supposed to figure out the size of this thing? If it's for 
</I>&gt;<i> footnotes and TOS and errors and help and what's-this all at once.. they 
</I>&gt;<i> have different layout requirements. Footnotes fit fine at the bottom, 
</I>&gt;<i> but notifications should be at the top. Small help content could be 
</I>&gt;<i> anywhere, but extensive help content would fit better on the side, 
</I>&gt;<i> especially on wide screens. Squeezing significant amounts of text 
</I>&gt;<i> content into a top or bottom panel would make it hard to read: that 
</I>&gt;<i> space is wide and short. And TOS pages need more space than any of these 
</I>&gt;<i> if you're actually planning to read them, but they don't need to be 
</I>&gt;<i> side-by-side with the original page: in that case a floating box in the 
</I>&gt;<i> middle of the page would be ideal. Etc.
</I>
On Sun, 4 May 2008, Matthew Paul Thomas wrote:
&gt;<i> 
</I>&gt;<i> I don't intend target=&quot;_reference&quot; for notifications; that would be 
</I>&gt;<i> quite inappropriate. Firstly, a notification should appear unbidden, but 
</I>&gt;<i> if an author tried to use target=&quot;_reference&quot; in that way, the popup 
</I>&gt;<i> blockers in legacy browsers would ensure it never appeared. Secondly, a 
</I>&gt;<i> notification is typically something you read once and then ignore, so it 
</I>&gt;<i> doesn't matter if it scrolls out of view, while part of the point of 
</I>&gt;<i> target=&quot;_reference&quot; is to ensure the resource *doesn't* scroll out of 
</I>&gt;<i> view. And thirdly, it usually makes little sense for a notification to 
</I>&gt;<i> have a separate URL, but this is much more useful for help, terms of 
</I>&gt;<i> service, privacy policies etc.
</I>&gt;<i> 
</I>&gt;<i> I intend target=&quot;_reference&quot; for the purposes I actually described: 
</I>&gt;<i> help, terms of service, privacy policies, and (eventually) footnotes and 
</I>&gt;<i> endnotes. I chose &quot;_reference&quot; because that term roughly covers all 
</I>&gt;<i> those use cases. But if the name is confusing, which it may be, I'd be 
</I>&gt;<i> happy for it to be &quot;_secondary&quot; or something similarly non-specific.
</I>&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> target=&quot;_reference&quot; would be inappropriate for presenting errors, for 
</I>&gt;<i> much the same reasons as it would be inappropriate for presenting 
</I>&gt;<i> notifications.
</I>&gt;<i> 
</I>&gt;<i> The exact presentation is up to the UA, of course, but I imagine a 
</I>&gt;<i> resizable pane at the bottom of the viewport, defaulting to about a 
</I>&gt;<i> quarter of the viewport height or about 12 em, whichever is smaller. 
</I>&gt;<i> (Ideally it would be sized based on the actual height of the linked 
</I>&gt;<i> resource, but that's impractical: impractical for internal fragments 
</I>&gt;<i> because you usually can't tell where the fragment ends, and impractical 
</I>&gt;<i> for external resources because -- just as with target=&quot;_blank&quot; -- 
</I>&gt;<i> responsiveness would require showing the pane before the resource 
</I>&gt;<i> finishes loading.)
</I>
-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059858.html">[whatwg] &lt;img&gt; element comments
</A></li>
	<LI>Next message: <A HREF="059862.html">[whatwg] attribution/credit for blockquote/figure (was: Re: Comments and questions on Web Apps 1.0)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59861">[ date ]</a>
              <a href="thread.html#59861">[ thread ]</a>
              <a href="subject.html#59861">[ subject ]</a>
              <a href="author.html#59861">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
