<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Brest-discuss%5D%20HTML5%20and%20RESTful%20HTTP%20in%20browsers&In-Reply-To=%3C20081118132421.GR23384%40stripey.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017301.html">
   <LINK REL="Next"  HREF="017318.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers</H1>
<!--htdig_noindex-->
    <B>Smylers</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Brest-discuss%5D%20HTML5%20and%20RESTful%20HTTP%20in%20browsers&In-Reply-To=%3C20081118132421.GR23384%40stripey.com%3E"
       TITLE="[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers">Smylers at stripey.com
       </A><BR>
    <I>Tue Nov 18 05:24:21 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017301.html">[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
</A></li>
        <LI>Next message: <A HREF="017318.html">[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17306">[ date ]</a>
              <a href="thread.html#17306">[ thread ]</a>
              <a href="subject.html#17306">[ subject ]</a>
              <a href="author.html#17306">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Mike writes:

&gt;<i> Smylers wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mike at mykanjo.co.uk</A> writes:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &quot;... it'd be faster just to send the URL of the page which
</I>&gt;<i> &gt; &gt; contains hypertext links to all the formats; at which point we no
</I>&gt;<i> &gt; &gt; longer care whether those links specify the format in the URL or
</I>&gt;<i> &gt; &gt; elsewhere.&quot;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; - The HTML version of that URL could provide the web page
</I>&gt;<i> &gt; &gt; representation *and* provide links to all the other content types
</I>&gt;<i> &gt; &gt; available.      
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Indeed it could.  In which case the original claimed advantage of the
</I>&gt;<i> &gt; recipient of the message being able to open a single URL in one of
</I>&gt;<i> &gt; several different sorts of user-agents is no longer relevant; the links
</I>&gt;<i> &gt; could specify the format in the URL and this'll work just fine.
</I>&gt;<i> 
</I>&gt;<i> You're completely missing my point here.
</I>
Sorry.

&gt;<i> I'm well aware that you can do conneg in the URL.
</I>
Good.

&gt;<i> HTTP provides a way to perform conneg at the protocol level;
</I>
Yes, I see that.

&gt;<i> no mechanism for this is currently provided by HTML.
</I>
And I see that as well.

What I'm missing is _why_ it would be advantageous to be able to do
this.

You originally suggested an advantage would be being able to have an
'ambiguous' URL, one which could provide a document in one of multiple
formats, and that passing such a URL to somebody else and enabling her
to download one of multiple formats of some content from that URL.

But we seemed to agree that in practice what would happen is the
recipient would load that URL in a browser to view the HTML format of
the document, and then, if she wants the PDF format she'd follow a link
in that HTML page.

So even though original URL _could_ have been opened in a PDF viewer,
that is never taken advantage of.

&gt;<i> Uniform *Resource* Identifier - different content types are different
</I>&gt;<i> *representations*, not different resources.
</I>
That's certainly one possible interpretation, but I think treating
different formats of a document as different 'resources' is equally
plausible.

In practice web users don't often seem to use terms like 'resource' and
'respresentation'; they more commonly refer to 'documents', 'pages',
'formats'.  Two different formats of a document having two different
locations (and therefore implicitly being deemed to be two different
resources) isn't massively confusing for users, mainly cos they simply
don't think about the concept of what a resource is.

&gt;<i> Protocol level conneg was included in HTTP so that URI's would not
</I>&gt;<i> have to be responsible..  unfortunately HTML didn't provide adequate
</I>&gt;<i> mechanisms to make use of this - so everyone is used to conneg
</I>&gt;<i> happening in the URI. That doesn't  make it 'the right way to do it'.
</I>&gt;<i> Developers should be given the option.
</I>
What advantage would it be for a developer to do this?  As in why when
given the option would he choose to take it?

You've already pointed out that at least in the short term he'd have to
use both the URL and HTTP ways, so either way he'd always have to
provide the format selector in URLs.  Having done that, and it working
everywhere, he'd then have the option of either doing absolutely nothing
or of additionally doing some more work to do the same in HTTP.  Why
would he?

&gt;<i> &gt; &gt; HTTP provides conneg, why would you consciously deny developers
</I>&gt;<i> &gt; &gt; the opportunity to use it in browsers?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; HTML 5 implicitly denies things merely by not providing them.  And it
</I>&gt;<i> &gt; provides things which are useful.  So the question actually needs to be
</I>&gt;<i> &gt; asked the other way round: what benefits are there in this being
</I>&gt;<i> &gt; supported?
</I>&gt;<i> 
</I>&gt;<i> The benefits? Oh I don't know.. a markup language that supports the  
</I>&gt;<i> transfer protocol it runs on?!
</I>
That's circular: you're claiming the benefit of supporting this is so
that it is supported!  What's an actual advantage -- either a user
experience which is superior, or a situation in which developers would
choose to use it?

&gt;<i> This isn't a feature request - it's a bug. You're denying developers
</I>&gt;<i> the ability to choose to use protocol level conneg.
</I>
True.  HTML 5 fails to provide developers the ability to do all sorts of
things.  That's only a problem for things which have real-world uses,
and I'm yet to grasp one for this proposed feature.

&gt;<i> &gt; &gt; &quot;Not just browsers, as I pointed out.  Also many databases which
</I>&gt;<i> &gt; &gt; have tables with URL fields would need extra fields adding.&quot;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; - I suggested the attribute should be optional, so it would make no
</I>&gt;<i> &gt; &gt; difference; one would simply avoid using it if it was a big problem.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If my database contains URLs of external websites, then it isn't under
</I>&gt;<i> &gt; my control as to whether this feature gets used.  If those sites start
</I>&gt;<i> &gt; using it, then my URLs are no longer sufficient to uniquely identify
</I>&gt;<i> &gt; what is downloaded, and I need to change my database schema (and
</I>&gt;<i> &gt; software that uses it) to remedy that.
</I>&gt;<i> 
</I>&gt;<i> They are completely sufficient, if you provided the link but with no  
</I>&gt;<i> Accept attribute specified.. it would use the browser default (which is,  
</I>&gt;<i> generally, html). So that's a non-issue; It's backwards compatible.
</I>
If some of the URLs in my database are supposed to be of PDF documents
then it is not backwards compatible if such URLs by default provide HTML
instead.

&gt;<i> &gt; ... in order to make this change let's first show that the current
</I>&gt;<i> &gt; way isn't good enough.
</I>&gt;<i> 
</I>&gt;<i> It's not good enough because it's merging representations (conneg)
</I>&gt;<i> into resources (URIs). This isn't the way HTTP was intended to be
</I>&gt;<i> used, that's just what people are used to.
</I>
But why is that actually a problem?

&gt;<i> I'm not suggesting the current way of doing it should be abolished,
</I>&gt;<i> I'm saying we should give people the choice. There is no choice at the
</I>&gt;<i> moment
</I>
Choice isn't a goal in itself; often having multiple ways to achieve
something can be a disadvantage.  To do this we still need an advantage
of that choice.

&gt;<i> (aside from using JavaScript).
</I>
Are many sites currently using JavaScript for this?  That would provide
good evidence that developers want to make use of the feature, and would
choose to do so if exposed in HTML.

&gt;<i> You're forcing me to repeat myself alot!
</I>
I'm not forcing you to do anything.  I've read everything you've
written, so please feel free not to repeat any of your previous answers;
honestly, I'm asking these questions in the hope of getting additional
information from you -- mainly real-world scenarios.

&gt;<i> &gt; &gt; - I'll say it again: I'm encouraging you to help browsers become
</I>&gt;<i> &gt; &gt; better HTTP clients; surely that is high on the agenda here..
</I>&gt;<i> &gt; &gt; right?!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Why?  That's tantamount to an appeal to authority.  Fully supporting
</I>&gt;<i> &gt; HTTP is a means rather than an end.  Are there situations in which
</I>&gt;<i> &gt; supporting this particular part of HTTP provides additional benefit
</I>&gt;<i> &gt; to users?  Or are there many instances of authors tediously coding
</I>&gt;<i> &gt; the same thing in JavaScript?
</I>&gt;<i> 
</I>&gt;<i> So you're taking the authority that the means you've chosen to
</I>&gt;<i> provision are definitively superior to the alternative I'm proposing?
</I>
Not at all.  This is going to be possible using URLs whatever else we
decide, and there are sites already using it.  So this feature will be
implemented no matter now inferior it is.

However, for an alternative way of doing the same thing to be
implemented that will need to provide some advantage over the _status
quo_.

&gt;<i> I'm saying &quot;lets do both and let developers decide&quot;.
</I>
I understand that.  But that isn't sufficient reason to add something to
HTML 5.  Suppose there were seventeen ways of donig this, all equally
plausible -- would you suggest HTML 5 defines all seventeen of them and
forces browser makers to spend time implementing them all?

For almost every feature throughout the entire spec people could suggest
at least one good alternative; adding them all would obviously double
the size of the spec (and therefore the implementation burden).

So let's not bother adding a features unless it confers some advantage.

&gt;<i> &gt; Changes should have some real-world benefit, not just
</I>&gt;<i> &gt; bureaucratically complying with something for the sake of it.
</I>&gt;<i> 
</I>&gt;<i> Hyper Text Markup Language
</I>&gt;<i> 
</I>&gt;<i> Hyper Text Transfer Protocol
</I>&gt;<i> 
</I>&gt;<i> Why would you not do everything in your power to fully support the
</I>&gt;<i> protocol every way you could?
</I>
I'd add things which are useful (or needed for backwards compatibility)
regardless of whether they are novel or in an existing spec.

&gt;<i> Am I missing something here?
</I>
That HTML 5 doesn't do appeals to authority, not even the authority of
other specs.

&gt;<i> &gt; &gt; If it mattered that much it would be a 2 second job to write a
</I>&gt;<i> &gt; &gt; [wget] wrapper script of some kind..
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; That does what?  A wrapper script which somehow contacts my web
</I>&gt;<i> &gt; browser (running on a different computer) to find out what the media
</I>&gt;<i> &gt; type is of the link that was most recently copied to the clipboard?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Even if I could work out how to write such a script, why should I
</I>&gt;<i> &gt; have to?
</I>&gt;<i> 
</I>&gt;<i> Because you're complaining about having to do work to content
</I>&gt;<i> negotiate with a *content neutral* HTTP client..
</I>
Yup, because it's work that I don't currently have to do.

&gt;<i> You're distracting from the discussion with this - it is possible to
</I>&gt;<i> set the Accept headers with wget - let it go.
</I>
It's a disadvantage to the proposal.  On balance it may be worth this
disadvantage because it's more than outweighed by other advantages the
proposal brings.  But in order to judge that we have to be aware of the
advantages and disadvantages.

&gt;<i> &gt; &gt; wget is a developer tool it's not supposed to be convenient
</I>&gt;<i> &gt; &gt; anyway.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; So wget currently _is_ convenient for me.  And the defence of a
</I>&gt;<i> &gt; change which will make this significantly less convenient is that it
</I>&gt;<i> &gt; was my fault for finding it so convenient in the first place?!
</I>&gt;<i> 
</I>&gt;<i> Well I don't consider having to type 15-20 characters or so a massive
</I>&gt;<i> inconvenience..
</I>
It isn't a _massive_ inconvenience.  But it is _an_ inconvenience, and
therefore deserves to be included in the decision-making.

&gt;<i> what do your personal reservations and your overly-specific use-case
</I>
How can a scenario be overly specific?  Specific examples are much
better at demonstrating real-world advantages and disadvantages.

But if you like, the scenario can be made less specific: copying a URL
is no longer sufficient to uniquely identify what gets downloaded.

&gt;<i> have to do with HTML5?
</I>
As many advantages and disadvantages as we can think of should be
considered -- including mine!

&gt;<i> &gt; &gt; &quot;Or what about if I wanted to mail somebody pointing out a
</I>&gt;<i> &gt; &gt; discrepency between two versions of the report, and wished to link
</I>&gt;<i> &gt; &gt; to both of them.  That's tricky if they have the same URL.
</I>&gt;<i> &gt; &gt; Possibly I could do it like you have with the wget command-line
</I>&gt;<i> &gt; &gt; above, but that requires me knowing which browsers my audience use
</I>&gt;<i> &gt; &gt; and the precise syntax for them.&quot;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; - separate versions are separate resources, not separate content
</I>&gt;<i> &gt; &gt; types. That has nothing to do with conneg..
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I was meaning a difference between the HTML version and the PDF
</I>&gt;<i> &gt; version of the same content (or at least what is supposed to be the
</I>&gt;<i> &gt; same content) -- how would I link to them?
</I>&gt;<i> 
</I>&gt;<i> If they're the same resource they should contain the same
</I>&gt;<i> information..  just in.. a different format..
</I>
Indeed they _should_; that's why in my scenario I wanted to point out a
discrepency between them, so that it can be remedied and both then serve
the same information.

For an example of somebody doing this see Simon Pieters's recent
message:

  <A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2008-November/016999.html">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2008-November/016999.html</A>

Simon didn't include any URLs in his message, because its audience are
well aware of how to find those documents.  But it isn't hard to think
of a similar scenario in which it would be desirable to link to them.
(And note also that Simon refered to &quot;the PDF version of the spec&quot;,
using the word &quot;version&quot; to mean &quot;format&quot;, as I did above.  You may
disagree with that terminology, but it does crop up in real life.)

Smylers

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017301.html">[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
</A></li>
	<LI>Next message: <A HREF="017318.html">[whatwg] [rest-discuss] HTML5 and RESTful HTTP in browsers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17306">[ date ]</a>
              <a href="thread.html#17306">[ thread ]</a>
              <a href="subject.html#17306">[ subject ]</a>
              <a href="author.html#17306">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
