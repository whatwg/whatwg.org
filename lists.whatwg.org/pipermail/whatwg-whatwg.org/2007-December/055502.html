<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Asynchronous database API feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Asynchronous%20database%20API%20feedback&In-Reply-To=%3C696e4b7c0712111514n403c6973w7ddc9c594c4a26eb%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="055501.html">
   <LINK REL="Next"  HREF="055538.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Asynchronous database API feedback</H1>
<!--htdig_noindex-->
    <B>Scott Hess</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Asynchronous%20database%20API%20feedback&In-Reply-To=%3C696e4b7c0712111514n403c6973w7ddc9c594c4a26eb%40mail.gmail.com%3E"
       TITLE="[whatwg] Asynchronous database API feedback">shess at google.com
       </A><BR>
    <I>Tue Dec 11 15:14:28 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="055501.html">[whatwg] Asynchronous database API feedback
</A></li>
        <LI>Next message: <A HREF="055538.html">[whatwg] Asynchronous database API feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55502">[ date ]</a>
              <a href="thread.html#55502">[ thread ]</a>
              <a href="subject.html#55502">[ subject ]</a>
              <a href="author.html#55502">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Dec 11, 2007 3:02 PM, Oliver Hunt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">oliver at apple.com</A>&gt; wrote:
&gt;<i> &gt; It's clear that most people here feel passionately that this is the
</I>&gt;<i> &gt; wrong thing to do. Perhaps it's best that we table this until
</I>&gt;<i> &gt; something like workerpools are in the spec.
</I>&gt;<i>
</I>&gt;<i> Worker pools do not resolve the problem, even if you were to force
</I>&gt;<i> any synchronous IO to be performed on a worker thread (where by force
</I>&gt;<i> i mean attempting synchronous io on the main/ui thread would throw an
</I>&gt;<i> exception or similar).  The problem is that once you have multiple
</I>&gt;<i> threads, and those threads are unable to modify the DOM (allowing the
</I>&gt;<i> DOM to be modified from a worker thread would cause too much havoc --
</I>&gt;<i> there is much to much JS out there to allow JS to become
</I>&gt;<i> multithreaded), so either you defer the synchronous IO into a async
</I>&gt;<i> callback model to tell you when the io has completed -- you are now
</I>&gt;<i> using the synchronous api to implement your own async api --
</I>
Exactly.  But the async API you're implementing is &quot;Synchronize a
block of stuff from the server&quot;, rather than handling each individual
item asynchronously.  The synchronous synchronization code will likely
be an order of magnitude (or two) simpler to comprehend, which makes
verifying correctness much easier.  There just won't be so many places
for things to go wrong.

-scott

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="055501.html">[whatwg] Asynchronous database API feedback
</A></li>
	<LI>Next message: <A HREF="055538.html">[whatwg] Asynchronous database API feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55502">[ date ]</a>
              <a href="thread.html#55502">[ thread ]</a>
              <a href="subject.html#55502">[ subject ]</a>
              <a href="author.html#55502">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
