<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Asynchronous database API feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Asynchronous%20database%20API%20feedback&In-Reply-To=%3C52172026-EB27-4E1E-A880-615282502CDF%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013118.html">
   <LINK REL="Next"  HREF="013128.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Asynchronous database API feedback</H1>
<!--htdig_noindex-->
    <B>Geoffrey Garen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Asynchronous%20database%20API%20feedback&In-Reply-To=%3C52172026-EB27-4E1E-A880-615282502CDF%40apple.com%3E"
       TITLE="[whatwg] Asynchronous database API feedback">ggaren at apple.com
       </A><BR>
    <I>Mon Dec 10 12:21:03 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="013118.html">[whatwg] Asynchronous database API feedback
</A></li>
        <LI>Next message: <A HREF="013128.html">[whatwg] Asynchronous database API feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13126">[ date ]</a>
              <a href="thread.html#13126">[ thread ]</a>
              <a href="subject.html#13126">[ subject ]</a>
              <a href="author.html#13126">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;&gt;<i> Getting back to storage, consider devices with a Flash drive as the
</I>&gt;&gt;<i> primary disk. Most web developers won't test on these (did you?), but
</I>&gt;&gt;<i> they have very different performance characteristics than hard  
</I>&gt;&gt;<i> drives.
</I>&gt;&gt;<i> While there are no seek latencies to content with, and reads can be
</I>&gt;&gt;<i> pretty fast, the write throughput can be quite a bit worse,  
</I>&gt;&gt;<i> especially
</I>&gt;&gt;<i> for scattered small writes. In many cases, such devices have special
</I>&gt;&gt;<i> filesystems that try to spread writes over the entire device, to
</I>&gt;&gt;<i> increase Flash lifetime. But the result can be that write latencies
</I>&gt;&gt;<i> get much worse than usual at unpredictable times.
</I>&gt;<i>
</I>&gt;<i> I still feel that there are many simple use cases for a local database
</I>&gt;<i> for which a developer can assume the read and write latency should
</I>&gt;<i> always be less than five seconds.
</I>
Even the fastest desktop hard drives can show greater than 5 seconds  
of latency under heavy load -- for example, while the user is  
compiling, while Spotlight or Google Desktop is indexing the hard  
drive, while many apps are starting up at the same time, etc. As long  
as enough requests are pending in the OS's or the drive's read/write  
queue, the browser has to wait.

Under what conditions can a web developer assume that no other  
processes are using the hard drive?

I'd hate for GMail to mysteriously stop working every couple of days  
just because of some background process that I had no knowledge of. As  
a developer, how would you debug such a problem? As a tech support  
worker, how would you explain it to an end user?

&gt;<i> If we cannot provide this, I feel that localstorage will not be  
</I>&gt;<i> successful, so it won't matter what API it uses.
</I>
I think this is a pretty extreme conclusion. My impression is that web  
developers want local storage so badly, they'll use whatever API we  
give them -- even if it's in Haskell :).

Anyway, if an API without synchronous access turns out to be  
unpopular, we can always add synchronous access later. Whereas, if an  
API with synchronous access turns out to hang the browser and make web  
sites unreliable, we can't remove it later. So I think it's more  
prudent to leave synchronous access out, and see what happens.

Geoff

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013118.html">[whatwg] Asynchronous database API feedback
</A></li>
	<LI>Next message: <A HREF="013128.html">[whatwg] Asynchronous database API feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13126">[ date ]</a>
              <a href="thread.html#13126">[ thread ]</a>
              <a href="subject.html#13126">[ subject ]</a>
              <a href="author.html#13126">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
