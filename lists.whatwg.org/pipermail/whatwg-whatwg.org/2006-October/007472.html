<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Map lang to xml:lang at the parser level
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Map%20lang%20to%20xml%3Alang%20at%20the%20parser%20level&In-Reply-To=%3C0E934FE7-EABC-4E52-9EEE-864AF8FE08BC%40iki.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007471.html">
   <LINK REL="Next"  HREF="007363.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Map lang to xml:lang at the parser level</H1>
<!--htdig_noindex-->
    <B>Henri Sivonen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Map%20lang%20to%20xml%3Alang%20at%20the%20parser%20level&In-Reply-To=%3C0E934FE7-EABC-4E52-9EEE-864AF8FE08BC%40iki.fi%3E"
       TITLE="[whatwg] Map lang to xml:lang at the parser level">hsivonen at iki.fi
       </A><BR>
    <I>Fri Oct 27 03:02:13 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="007471.html">[whatwg] Map lang to xml:lang at the parser level
</A></li>
        <LI>Next message: <A HREF="007363.html">[whatwg] Canvas lack of drawString method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7472">[ date ]</a>
              <a href="thread.html#7472">[ thread ]</a>
              <a href="subject.html#7472">[ subject ]</a>
              <a href="author.html#7472">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Oct 27, 2006, at 11:52, Anne van Kesteren wrote:

&gt;<i> On Fri, 27 Oct 2006 10:48:06 +0200, Henri Sivonen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at iki.fi</A>&gt;  
</I>&gt;<i> wrote:
</I>&gt;&gt;&gt;&gt;<i> However, other types of programs processing HTML5 using XML  
</I>&gt;&gt;&gt;&gt;<i> tools would have to be allowed to consider xml:lang in text/html  
</I>&gt;&gt;&gt;&gt;<i> non-conforming and trashable, because what you suggest violates  
</I>&gt;&gt;&gt;&gt;<i> basic assumptions that XML processing software is supposed to  
</I>&gt;&gt;&gt;&gt;<i> make or even enforce.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> How so?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The colon is not allowed in a local name, so having &quot;xml:lang&quot; in  
</I>&gt;&gt;<i> no namespace in a namespace-aware system is forbidden.
</I>&gt;<i>
</I>&gt;<i> Ah, so you were going to say that :-)  Yeah, dunno how to solve  
</I>&gt;<i> serializatoin for those things. That's what currently happens...
</I>
It is not only a serialization issue. It is an API contract issue,  
too. (Which is why XML 1.1 is harmful, but that's a rant for another  
time.)

If you are doing processing outside a browser and have an XML tree  
implementation (XML DOM, XOM, ElementTree, whatever), a text/html  
parser cannot append stuff that makes XML-enforcing tree  
implementations throw an exception. Likewise, SAX ContentHandlers are  
allowed to assume that the stuff they get obeys XML rules.

WHAT WG gets to break API contracts in Presto, Gecko and WebKit, but  
there's a whole lot of other stuff out there. And the whole point of  
having an XML flavor is having all the other code Just Work. (And for  
non-browser cases you really want to convert from the text/html  
flavor to the XML flavor up front so that you can use the existing  
code for XML.)

-- 
Henri Sivonen
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at iki.fi</A>
<A HREF="http://hsivonen.iki.fi/">http://hsivonen.iki.fi/</A>



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007471.html">[whatwg] Map lang to xml:lang at the parser level
</A></li>
	<LI>Next message: <A HREF="007363.html">[whatwg] Canvas lack of drawString method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7472">[ date ]</a>
              <a href="thread.html#7472">[ thread ]</a>
              <a href="subject.html#7472">[ subject ]</a>
              <a href="author.html#7472">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
