<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas lack of drawString method
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20lack%20of%20drawString%20method&In-Reply-To=%3C003401c6f27d%2469e90330%243401a8c0%40TERRA%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007375.html">
   <LINK REL="Next"  HREF="007377.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas lack of drawString method</H1>
<!--htdig_noindex-->
    <B>Andrew Fedoniouk</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20lack%20of%20drawString%20method&In-Reply-To=%3C003401c6f27d%2469e90330%243401a8c0%40TERRA%3E"
       TITLE="[whatwg] Canvas lack of drawString method">news at terrainformatica.com
       </A><BR>
    <I>Tue Oct 17 23:19:45 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="007375.html">[whatwg] Canvas lack of drawString method
</A></li>
        <LI>Next message: <A HREF="007377.html">[whatwg] Canvas lack of drawString method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7376">[ date ]</a>
              <a href="thread.html#7376">[ thread ]</a>
              <a href="subject.html#7376">[ subject ]</a>
              <a href="author.html#7376">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
----- Original Message ----- 
From: &quot;Stefan Haustein&quot; &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">sh at kobjects.org</A>&gt;
Cc: &quot;WHAT Working Group Mailing List&quot; &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at whatwg.org</A>&gt;
Sent: Tuesday, October 17, 2006 2:50 PM
Subject: Re: [whatwg] Canvas lack of drawString method


&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I would like to second the drawString() request.
</I>&gt;<i>
</I>&gt;<i> It makes sense to have a simple API, but it should be balanced with 
</I>&gt;<i> application simplicity and readability to some extent. Doing CSS black 
</I>&gt;<i> magic to overlay text and a Canvas object just seems inadequate for 
</I>&gt;<i> something like axis labeling.
</I>&gt;<i>
</I>&gt;<i> As noted earlier by somebody else (did not find the mail...), we would 
</I>&gt;<i> also need a simple Font object, but the minimum requirements seem rather 
</I>&gt;<i> simple:
</I>&gt;<i>
</I>&gt;<i> Font Canvas.createFont(String cssFontProperties);
</I>&gt;<i> Canvas.setFont(Font font) // set current font
</I>&gt;<i> Canvas.drawString(int x, int y, String text);
</I>&gt;<i> Font Canvas.getFont() // current font
</I>&gt;<i>
</I>&gt;<i> int Font.stringWidth(String s);
</I>&gt;<i> int Font.getHeight();  // includes leading
</I>&gt;<i> int Font.getBaselinePosition();
</I>&gt;<i> int Font.getAscent();
</I>&gt;<i> int Font.getDescent();
</I>&gt;<i>
</I>
In fact separate Font object is not needed in most cases.
It is enough to have simple setFont function for that.

I've found that following five methods of Graphics are just enough:

Graphics.setFont(FontOrFamilyName, size, weight, ...);
Graphics.setTextAlignment(horizontal, vertical);
Graphics.getFontAscent();
Graphics.getTextWidth(string);
Graphics.drawText(x,y,string);

For example, below is code fragment drawing this:
<A HREF="http://www.terrainformatica.com/sciter/screenshots/sciter-graphics-text.jpg">http://www.terrainformatica.com/sciter/screenshots/sciter-graphics-text.jpg</A>

      var gfx = sandbox.graphics(#v2d);

      var width = sandbox.box(#width);
      var height = sandbox.box(#height);

      gfx.lineWidth(1.0);
      gfx.lineJoin = Graphics.JOIN_ROUND;
      gfx.lineColor(Graphics.RGBA(0x7F,0,0));
      gfx.fillRadialGradient(width/2, height/2, height/2, 
Graphics.RGBA(0xFF,0xFF,0), Graphics.RGBA(0xFF,0,0) );
      gfx.setTextAlignment(Graphics.ALIGN_CENTER,Graphics.ALIGN_CENTER);
      gfx.setFont(&quot;Verdana&quot;, 64.0);
      gfx.text(width/2, height/2, &quot;Text in Sciter!&quot;);

-----------
drawText shall use outline and fill attributes that Graphics already has.
It also shall follow all transformation attributes.

It is highly non desirable to have separate objects like brushes and fonts 
with
non-deterministic life span. Especially in GC environments.

Andrew Fedoniouk.
<A HREF="http://terrainformatica.com">http://terrainformatica.com</A>



&gt;<i> Best regards
</I>&gt;<i> Stefan Haustein
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Alfonso Baqueiro wrote:
</I>&gt;&gt;<i> Hello Charles,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2006/10/17, Charles Iliya Krempeaux &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">supercanadian at gmail.com</A> 
</I>&gt;&gt;<i> &lt;mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">supercanadian at gmail.com</A>&gt;&gt;:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Hello Alfonso,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     On 10/17/06, *Alfonso Baqueiro* &lt; <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">abaqueiro at gmail.com</A>
</I>&gt;&gt;<i>     &lt;mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">abaqueiro at gmail.com</A>&gt;&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         The canvas component is very promising, but the lack of
</I>&gt;&gt;<i>         drawString method could be a great error for its success, this
</I>&gt;&gt;<i>         lack is a huge limitation, how could you resolve this problem?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     I believe that some people's reason for not wanting to add it was
</I>&gt;&gt;<i>     because of Accessibility concerns.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Although normal text in a webpage... or even a text image (with
</I>&gt;&gt;<i>     the &quot;alt&quot; attribute filled in properly) could be &quot;read&quot; by a
</I>&gt;&gt;<i>     person with disabilities, text embedded in the canvas element
</I>&gt;&gt;<i>     could not.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Perhaps people need to think about how to add Accessibility to the
</I>&gt;&gt;<i>     canvas while allowing a &quot;drawString&quot; procedure.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Well a drawString method in canvas can be used for drawing the axis 
</I>&gt;&gt;<i> labels or values on a dinamic javascript graphic, but is non sense an 
</I>&gt;&gt;<i> aural reader read it, theres no way (yet) to read an image to a blinded 
</I>&gt;&gt;<i> people, there are cases where is imposible the accessibility, is 
</I>&gt;&gt;<i> imposible for a blind to play video games, and accessibility dont stop 
</I>&gt;&gt;<i> the video games creation. In the case of images or the canvas the alt 
</I>&gt;&gt;<i> attribute could do the job.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     See ya
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007375.html">[whatwg] Canvas lack of drawString method
</A></li>
	<LI>Next message: <A HREF="007377.html">[whatwg] Canvas lack of drawString method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7376">[ date ]</a>
              <a href="thread.html#7376">[ thread ]</a>
              <a href="subject.html#7376">[ subject ]</a>
              <a href="author.html#7376">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
