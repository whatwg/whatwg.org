<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas lack of drawString method
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20lack%20of%20drawString%20method&In-Reply-To=%3C453D4B49.7090404%40kobjects.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049659.html">
   <LINK REL="Next"  HREF="049710.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas lack of drawString method</H1>
<!--htdig_noindex-->
    <B>Stefan Haustein</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20lack%20of%20drawString%20method&In-Reply-To=%3C453D4B49.7090404%40kobjects.org%3E"
       TITLE="[whatwg] Canvas lack of drawString method">sh at kobjects.org
       </A><BR>
    <I>Mon Oct 23 16:07:53 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="049659.html">[whatwg] Canvas lack of drawString method
</A></li>
        <LI>Next message: <A HREF="049710.html">[whatwg] Canvas lack of drawString method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49707">[ date ]</a>
              <a href="thread.html#49707">[ thread ]</a>
              <a href="subject.html#49707">[ subject ]</a>
              <a href="author.html#49707">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Gervase Markham wrote:
&gt;<i> Stefan Haustein wrote:
</I>&gt;&gt;<i> I think drawElement(elem) opens up a whole new can of worms:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - how would an application determine the size of the text box?
</I>&gt;&gt;<i> - where is the baseline position, needed for exact axis label 
</I>&gt;&gt;<i> positioning?
</I>&gt;&gt;<i> - there are probably issues with dynamically calculated text values
</I>&gt;&gt;<i> - code with lots of cross references to elements will be difficult to 
</I>&gt;&gt;<i> read
</I>&gt;&gt;<i> - it needs to be specified whether css properties are inherited from 
</I>&gt;&gt;<i> the parent element of &quot;elem&quot;.
</I>&gt;&gt;<i> - how much horizontal/vertical space is drawElement permitted to use 
</I>&gt;&gt;<i> for rendering?
</I>&gt;<i> The answer to all of these things is that the browser renders all the 
</I>&gt;<i> elements in the page as it would if the &lt;canvas&gt; were not supported 
</I>&gt;<i> and the alternate content were being used. It then basically 
</I>&gt;<i> screenshots the area corresponding to the element (yes, I know this 
</I>&gt;<i> needs careful definition) and draws that into the canvas.
</I>I do not see how your statement answers any of my questions except from 
the last one. You can specify some CSS constraints, but how do you 
determine the actual rendering height of a text box with a specific 
width? How do you determine the pixel position of the baseline? The 
cross reference and the dynamic text issues are not addressed at all.
&gt;<i> Like I said, we want to leverage the browser's deep and complex 
</I>&gt;<i> knowledge of text rendering as much as possible, and just take the 
</I>&gt;<i> resulting pixel output as it would be shown to the user.
</I>&gt;&gt;<i> - the implementation in actual browsers may be more complex than it 
</I>&gt;&gt;<i> seems because of problems with internal data structures for rendering 
</I>&gt;&gt;<i> hints and implicitly introducing the ability to render the same 
</I>&gt;&gt;<i> element twice.
</I>&gt;&gt;<i> - what happens with contained plugins, canvas elements, 
</I>&gt;&gt;<i> self-references... all this stuff needs to be well-defined
</I>&gt;<i> Indeed. I know it's easy to state and there are edge cases. But we 
</I>&gt;<i> could put limits on it like e.g. no plugins, no &lt;object&gt;, and still 
</I>&gt;<i> have something very useful for rendering text.
</I>So I assume we agree that the element rendering proposal would still 
need significant specification work and is probably much more difficult 
to implement. The element rendering approach may make working with bulk 
text simpler, but this case is already handled quite fine by HTML 
outside the Canvas element. By asking for too much, we may end up with 
nothing at all.

Andrew has provided a clear and simple proposal that can easily be 
implemented without too much consideration of side effects. Putting 
labels on maps, precise text positioning, starwars-like 3d scrolling 
text, labels for game characters or in physics simulations, all the 
stuff that could only be done in a canvas element, is trivial to 
implement with the drawText() approach, but seems much more complex or 
impossible with the element rendering approach.
&gt;&gt;<i> Moreover, drawElement() would not solve the drawText problem for 
</I>&gt;&gt;<i> non-browser environments such as Rhino.
</I>&gt;<i> How are we anticipating &lt;canvas&gt; might be used in a non-browser context?
</I>Canvas and some other parts of the spec (e.g. connections) may make a 
lot of sense for Javascript outside of the browser context.  This may be 
outside of the scope of WHATWG, but if we can take out some building 
blocks and use them somewhere else, this is at least a sign of good and 
modular API design.

Best regards,
Stefan




</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049659.html">[whatwg] Canvas lack of drawString method
</A></li>
	<LI>Next message: <A HREF="049710.html">[whatwg] Canvas lack of drawString method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49707">[ date ]</a>
              <a href="thread.html#49707">[ thread ]</a>
              <a href="subject.html#49707">[ subject ]</a>
              <a href="author.html#49707">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
