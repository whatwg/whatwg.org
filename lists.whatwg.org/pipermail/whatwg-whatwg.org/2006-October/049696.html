<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Custom elements and attributes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Custom%20elements%20and%20attributes&In-Reply-To=%3C12AD0564-1932-4151-BA26-924CCF9F26C9%40iki.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049646.html">
   <LINK REL="Next"  HREF="049794.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Custom elements and attributes</H1>
<!--htdig_noindex-->
    <B>Henri Sivonen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Custom%20elements%20and%20attributes&In-Reply-To=%3C12AD0564-1932-4151-BA26-924CCF9F26C9%40iki.fi%3E"
       TITLE="[whatwg] Custom elements and attributes">hsivonen at iki.fi
       </A><BR>
    <I>Mon Oct 23 04:43:40 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="049646.html">[whatwg] Custom elements and attributes
</A></li>
        <LI>Next message: <A HREF="049794.html">[whatwg] Custom elements and attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49696">[ date ]</a>
              <a href="thread.html#49696">[ thread ]</a>
              <a href="subject.html#49696">[ subject ]</a>
              <a href="author.html#49696">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Oct 18, 2006, at 01:27, &#216;istein E. Andersen wrote:

&gt;<i> I just tried to check out how custom element and attribute names  
</I>&gt;<i> work in current browsers and how they are supposed to work in  
</I>&gt;<i> HTML5, and some issues seem unclear to me.
</I>...
&gt;<i> 4) Sivonen's HTML5 validator (<A HREF="http://hsivonen.iki.fi/validator/">http://hsivonen.iki.fi/validator/</A> 
</I>&gt;<i> html5/ as opposed to <A HREF="http://hsivonen.iki.fi/validator/">http://hsivonen.iki.fi/validator/</A>) says:
</I>&gt;&gt;<i> Attribute name must not start with &#8220;xml&#8221;.
</I>&gt;<i> I fail to find any mention of this in the HTML5 draft. Has it been  
</I>&gt;<i> borrowed from X(HT)ML?
</I>&gt;<i> Such a limitation would make it more difficult to create conformant  
</I>&gt;<i> legacy-comptaible documents.
</I>
Any attribute or element not specifically allowed in the spec is non- 
conforming. Therefore, all &quot;custom attributes&quot; and &quot;custom elements&quot;  
are non-conforming. Some non-conforming attributes are caught in the  
parser. Others are caught on the RELAX NG level. This is an  
implementation detail.

The implementation detail becomes an issue only if you want to use  
the conformance checker machinery with a custom schema. Using custom  
schemas with the HTML parser is for experts only and produces very  
wrong results unless the schema is suitable. Hence, I have not  
optimized for that use case.

Please note that the parser is not a conforming HTML5 parser but a  
special-purpose parser that is designed to work together with  
particular RELAX NG schemas for the specific purpose of conformance  
checking.

&gt;<i> 5) The same validator does not allow : or &#244; in either element or  
</I>&gt;<i> attribute names, whereas the current HTML5 draft seems to allow all  
</I>&gt;<i> Unicode characters except whitespace, &lt;, &gt;, = and /. Would someone  
</I>&gt;<i> please clarify this?
</I>
*Conforming* element names and attributes happen to consist of ASCII- 
only name tokens without a colon. As an implementation detail, names  
that do not have such a form are caught early by the special-purpose  
parser.

This is done in order to
  1) prevent colonified names from entering into the namespace-aware  
SAX pipeline
  2) deal with case folding efficiently and in a way that prevents  
accidentally folding e.g. &#304;NPUT to input
  3) prevent names that are not well-formed XML names from entering  
into the SAX pipeline

&gt;<i> 6) According to the current draft, authors seem to have the  
</I>&gt;<i> possibility to use custom element and attribute names of their choice.
</I>
Could you please cite the part of the spec that says so?

Such usage wasn't *conforming* when I last checked (a few months  
ago). Has the spec changed in a dramatic way when I wasn't looking?  
Note that not everything that results in a DOM according to the  
parsing algorithm is conforming.

The conformance checker is foremost for checking conformance.  
Supporting custom schemas for privately extended HTML5-like languages  
is a nice feature to have, but personally I am not at all sympathetic  
to extending HTML5 with names that contain non-ASCII (due to case  
folding issues), non-XML characters (due to XML serializability  
issues) or the colon (due to Namespaces in XML compatibility issues).

-- 
Henri Sivonen
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at iki.fi</A>
<A HREF="http://hsivonen.iki.fi/">http://hsivonen.iki.fi/</A>



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049646.html">[whatwg] Custom elements and attributes
</A></li>
	<LI>Next message: <A HREF="049794.html">[whatwg] Custom elements and attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49696">[ date ]</a>
              <a href="thread.html#49696">[ thread ]</a>
              <a href="subject.html#49696">[ subject ]</a>
              <a href="author.html#49696">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
