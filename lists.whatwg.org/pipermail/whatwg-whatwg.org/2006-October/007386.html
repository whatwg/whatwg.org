<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas lack of drawString method
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20lack%20of%20drawString%20method&In-Reply-To=%3C4536A6B3.5080002%40mozilla.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007385.html">
   <LINK REL="Next"  HREF="007434.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas lack of drawString method</H1>
<!--htdig_noindex-->
    <B>Gervase Markham</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20lack%20of%20drawString%20method&In-Reply-To=%3C4536A6B3.5080002%40mozilla.org%3E"
       TITLE="[whatwg] Canvas lack of drawString method">gerv at mozilla.org
       </A><BR>
    <I>Wed Oct 18 15:12:03 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="007385.html">[whatwg] Canvas lack of drawString method
</A></li>
        <LI>Next message: <A HREF="007434.html">[whatwg] Canvas lack of drawString method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7386">[ date ]</a>
              <a href="thread.html#7386">[ thread ]</a>
              <a href="subject.html#7386">[ subject ]</a>
              <a href="author.html#7386">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Stefan Haustein wrote:
&gt;<i> I think drawElement(elem) opens up a whole new can of worms:
</I>&gt;<i> 
</I>&gt;<i> - how would an application determine the size of the text box?
</I>&gt;<i> - where is the baseline position, needed for exact axis label positioning?
</I>&gt;<i> - there are probably issues with dynamically calculated text values
</I>&gt;<i> - code with lots of cross references to elements will be difficult to read
</I>&gt;<i> - it needs to be specified whether css properties are inherited from the 
</I>&gt;<i> parent element of &quot;elem&quot;.
</I>&gt;<i> - how much horizontal/vertical space is drawElement permitted to use for 
</I>&gt;<i> rendering?
</I>
The answer to all of these things is that the browser renders all the 
elements in the page as it would if the &lt;canvas&gt; were not supported and 
the alternate content were being used. It then basically screenshots the 
area corresponding to the element (yes, I know this needs careful 
definition) and draws that into the canvas.

Like I said, we want to leverage the browser's deep and complex 
knowledge of text rendering as much as possible, and just take the 
resulting pixel output as it would be shown to the user.

&gt;<i> - the implementation in actual browsers may be more complex than it 
</I>&gt;<i> seems because of problems with internal data structures for rendering 
</I>&gt;<i> hints and implicitly introducing the ability to render the same element 
</I>&gt;<i> twice.
</I>&gt;<i> - what happens with contained plugins, canvas elements, 
</I>&gt;<i> self-references... all this stuff needs to be well-defined
</I>
Indeed. I know it's easy to state and there are edge cases. But we could 
put limits on it like e.g. no plugins, no &lt;object&gt;, and still have 
something very useful for rendering text.

I mean, all you really need to support is stuff like:

&lt;style&gt;
   .box {
     width: 300px;
     font-style: cursive;
     font-weight: bold;
     text-transform: uppercase;
    }
&lt;/style&gt;

&lt;div class=&quot;box&quot;&gt;Some text to play with&lt;/div&gt;

&gt;<i> Moreover, drawElement() would not solve the drawText problem for 
</I>&gt;<i> non-browser environments such as Rhino.
</I>
How are we anticipating &lt;canvas&gt; might be used in a non-browser context?

Gerv

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007385.html">[whatwg] Canvas lack of drawString method
</A></li>
	<LI>Next message: <A HREF="007434.html">[whatwg] Canvas lack of drawString method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7386">[ date ]</a>
              <a href="thread.html#7386">[ thread ]</a>
              <a href="subject.html#7386">[ subject ]</a>
              <a href="author.html#7386">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
