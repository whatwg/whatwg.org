<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] getAsEntry(File) was, Re: Using requestFileSystem to setup mounts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20getAsEntry%28File%29%20was%2C%0A%20Re%3A%20Using%20requestFileSystem%20to%20setup%20mounts&In-Reply-To=%3C4EE907F8.2080204%40jumis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="076454.html">
   <LINK REL="Next"  HREF="034164.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] getAsEntry(File) was, Re: Using requestFileSystem to setup mounts</H1>
<!--htdig_noindex-->
    <B>Charles Pritchard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20getAsEntry%28File%29%20was%2C%0A%20Re%3A%20Using%20requestFileSystem%20to%20setup%20mounts&In-Reply-To=%3C4EE907F8.2080204%40jumis.com%3E"
       TITLE="[whatwg] getAsEntry(File) was, Re: Using requestFileSystem to setup mounts">chuck at jumis.com
       </A><BR>
    <I>Wed Dec 14 12:32:56 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="076454.html">[whatwg] getAsEntry(File) was, Re: Using requestFileSystem to setup mounts
</A></li>
        <LI>Next message: <A HREF="034164.html">[whatwg] Empty elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76455">[ date ]</a>
              <a href="thread.html#76455">[ thread ]</a>
              <a href="subject.html#76455">[ subject ]</a>
              <a href="author.html#76455">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 12/14/2011 12:18 PM, Eric Uhrhane wrote:
&gt;&gt;<i> &gt;  I'd like to see a means of getting an &quot;anonymous&quot; FileEntry.
</I>&gt;&gt;<i> &gt;  <A HREF="http://www.w3.org/TR/file-system-api/">http://www.w3.org/TR/file-system-api/</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;  The purpose being to convert a File object into a read-only FileEntry object
</I>&gt;&gt;<i> &gt;  (with an anonymous FileSystem object).
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;  Currently, a FileEntry can be converted into a File object, but to turn a
</I>&gt;&gt;<i> &gt;  File object into a FileEntry requires a writable FileSystem as well as a few
</I>&gt;&gt;<i> &gt;  calls to file writer methods.
</I>&gt;&gt;<i> &gt;  It may be easier to use copyTo instead of FileWriter in some cases, and it
</I>&gt;&gt;<i> &gt;  may be easier to treat dataTransfer items as FileEntry objects depending on
</I>&gt;&gt;<i> &gt;  the application and code paths.
</I>&gt;<i> True; this could be a nice convenience feature, as long as it could be
</I>&gt;<i> made read-only and all path information could be scrubbed.
</I>
The FileEntry should certainly be read only, and it would -only- have a 
path if webkitRelativePath exposed one.

I was a little &quot;iffy&quot; about whether or not the root FileSystem should be 
completely read only, or whether it should allow files to run copyTo 
commands and directory creation. I don't think that use case needs to be 
explored from the onset: one might copy a few files into the FileSystem, 
then send that file system to another site via postMessage or to a web 
worker for zip packaging. To send a nice structured directory, one would 
need to be able to create directories and execute copyTo commands into them.

Any kind of delete or remove would not alter the underlying file, as 
it's simply an anonymous entry. There would be no room for altering the 
files themselves -- authors would need to use BlobBuilder for that.

I'm glad you're ok with this is a convenience feature. I think it's in 
spec, I don't consider it scope creep.
If you want to discuss this idea of allowing users to create directories 
on the anonymous FileSystem, I'm up for that discussion, but I don't 
think it's necessary for a first round of simply allowing a getAsEntry 
function.

-Charles





</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="076454.html">[whatwg] getAsEntry(File) was, Re: Using requestFileSystem to setup mounts
</A></li>
	<LI>Next message: <A HREF="034164.html">[whatwg] Empty elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76455">[ date ]</a>
              <a href="thread.html#76455">[ thread ]</a>
              <a href="subject.html#76455">[ subject ]</a>
              <a href="author.html#76455">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
