<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] getAsEntry(File) was, Re:  Using requestFileSystem to setup mounts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20getAsEntry%28File%29%20was%2C%0A%20Re%3A%20%20Using%20requestFileSystem%20to%20setup%20mounts&In-Reply-To=%3C4EE7D26F.8030809%40jumis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="076466.html">
   <LINK REL="Next"  HREF="076454.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] getAsEntry(File) was, Re:  Using requestFileSystem to setup mounts</H1>
<!--htdig_noindex-->
    <B>Charles Pritchard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20getAsEntry%28File%29%20was%2C%0A%20Re%3A%20%20Using%20requestFileSystem%20to%20setup%20mounts&In-Reply-To=%3C4EE7D26F.8030809%40jumis.com%3E"
       TITLE="[whatwg] getAsEntry(File) was, Re:  Using requestFileSystem to setup mounts">chuck at jumis.com
       </A><BR>
    <I>Tue Dec 13 14:32:15 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="076466.html">[whatwg] &lt;!DOCTYPE	html&gt;&lt;body&gt;&lt;table&gt;&lt;math&gt;&lt;mi&gt;foo&lt;/mi&gt;&lt;/math&gt;&lt;/table&gt;
</A></li>
        <LI>Next message: <A HREF="076454.html">[whatwg] getAsEntry(File) was, Re: Using requestFileSystem to setup mounts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34161">[ date ]</a>
              <a href="thread.html#34161">[ thread ]</a>
              <a href="subject.html#34161">[ subject ]</a>
              <a href="author.html#34161">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 11/22/2011 8:58 AM, Glenn Maynard wrote:
&gt;<i>
</I>&gt;<i>     &gt; Each Entry would have a dummy FileSystem object attached to it,
</I>&gt;<i>     in order to
</I>&gt;<i>     &gt; fill out the Entry.filesystem API, but all it would contain is
</I>&gt;<i>     the file
</I>&gt;<i>     &gt; itself.
</I>&gt;<i>
</I>&gt;<i>     Again I think this could be left to the UA's implementation decision.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The main point is just that a FileSystem object will always be 
</I>&gt;<i> available, even if the UA is only exposing one file in a directory 
</I>&gt;<i> which contains other (inaccessible) files.  Most of the time it 
</I>&gt;<i> wouldn't be used, it just avoids exceptional cases in the API.  (In 
</I>&gt;<i> other words, Entry.filesystem would not become nullable.)
</I>
I'd like to see a means of getting an &quot;anonymous&quot; FileEntry.
<A HREF="http://www.w3.org/TR/file-system-api/">http://www.w3.org/TR/file-system-api/</A>

The purpose being to convert a File object into a read-only FileEntry 
object (with an anonymous FileSystem object).

Currently, a FileEntry can be converted into a File object, but to turn 
a File object into a FileEntry requires a writable FileSystem as well as 
a few calls to file writer methods.
It may be easier to use copyTo instead of FileWriter in some cases, and 
it may be easier to treat dataTransfer items as FileEntry objects 
depending on the application and code paths.

This is mostly about ease of use for authors working with the file 
system api.

Glenn proposed something like getAsEntry as a fix for &lt;input type=&quot;file&quot; 
webkitdirectory&gt;, earlier in this thread, but that's not the use case 
I'm focused on.
I suspect that it will come in handy, to be able to work with anonymous 
file systems in the future.

In the meantime, it'd make things a bit easier to use copyTo instead of 
File Writer when a file or blob is available.

-Charles


</PRE>






























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="076466.html">[whatwg] &lt;!DOCTYPE	html&gt;&lt;body&gt;&lt;table&gt;&lt;math&gt;&lt;mi&gt;foo&lt;/mi&gt;&lt;/math&gt;&lt;/table&gt;
</A></li>
	<LI>Next message: <A HREF="076454.html">[whatwg] getAsEntry(File) was, Re: Using requestFileSystem to setup mounts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34161">[ date ]</a>
              <a href="thread.html#34161">[ thread ]</a>
              <a href="subject.html#34161">[ subject ]</a>
              <a href="author.html#34161">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
