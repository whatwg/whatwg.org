<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Default encoding to UTF-8?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Default%20encoding%20to%20UTF-8%3F&In-Reply-To=%3CCAJQvAucZFpFdtN6AnMCkr2APZ5b-Bjb6Q-Q5vMy70pkX5GL4Mw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="076333.html">
   <LINK REL="Next"  HREF="076336.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Default encoding to UTF-8?</H1>
<!--htdig_noindex-->
    <B>Henri Sivonen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Default%20encoding%20to%20UTF-8%3F&In-Reply-To=%3CCAJQvAucZFpFdtN6AnMCkr2APZ5b-Bjb6Q-Q5vMy70pkX5GL4Mw%40mail.gmail.com%3E"
       TITLE="[whatwg] Default encoding to UTF-8?">hsivonen at iki.fi
       </A><BR>
    <I>Tue Dec  6 23:58:26 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="076333.html">[whatwg] Default encoding to UTF-8?
</A></li>
        <LI>Next message: <A HREF="076336.html">[whatwg] Default encoding to UTF-8?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76368">[ date ]</a>
              <a href="thread.html#76368">[ thread ]</a>
              <a href="subject.html#76368">[ subject ]</a>
              <a href="author.html#76368">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Dec 5, 2011 at 8:55 PM, Leif Halvard Silli
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">xn--mlform-iua at xn--mlform-iua.no</A>&gt; wrote:
&gt;<i> When you say 'requires': Of course, HTML5 recommends that you declare
</I>&gt;<i> the encoding (via HTTP/higher protocol, via the BOM 'sideshow' or via
</I>&gt;<i> &lt;meta charset=UTF-8&gt;). I just now also discovered that Validator.nu
</I>&gt;<i> issues an error message if it does not find any of of those *and* the
</I>&gt;<i> document contains non-ASCII. (I don't know, however, whether this error
</I>&gt;<i> message is just something Henri added at his own discretion - it would
</I>&gt;<i> be nice to have it literally in the spec too.)
</I>
I believe I was implementing exactly what the spec said at the time I
implemented that behavior of Validator.nu. I'm particularly convinced
that I was following the spec, because I think it's not the optimal
behavior. I think pages that don't declare their encoding should
always be non-conforming even if they only contain ASCII bytes,
because that way templates created by English-oriented (or lorem ipsum
-oriented) authors would be caught as non-conforming before non-ASCII
text gets filled into them later. Hixie disagreed.

&gt;<i> HTML5 says that validators *may* issue a warning if UTF-8 is *not* the
</I>&gt;<i> encoding. But so far, validator.nu has not picked that up.
</I>
Maybe it should. However, non-UTF-8 pages that label their encoding,
that use one of the encodings that we won't be able to get rid of
anyway and that don't contain forms aren't actively harmful. (I'd
argue that they are *less* harmful than unlabeled UTF-8 pages.)
Non-UTF-8 is harmful in form submission. It would be more focused to
make the validator complain about labeled non-UTF-8 if the page
contains a form. Also, it could be useful to make Firefox whine to
console when a form is submitted in non-UTF-8 and when an HTML page
has no encoding label. (I'd much rather implement all these than
implement breaking changes to how Firefox processes legacy content.)

&gt;&gt;<i> We should also lobby for authoring tools (as recommended by HTML5) to
</I>&gt;&gt;<i> default their output to UTF-8 and make sure the encoding is declared.
</I>&gt;<i>
</I>&gt;<i> HTML5 already says: &quot;Authoring tools should default to using UTF-8 for
</I>&gt;<i> newly-created documents. [RFC3629]&quot;
</I>&gt;<i> <A HREF="http://dev.w3.org/html5/spec/semantics.html#charset">http://dev.w3.org/html5/spec/semantics.html#charset</A>
</I>
I think focusing your efforts on lobbying authoring tool vendors to
withhold the ability to save pages in non-UTF-8 encodings would be a
better way to promote UTF-8 than lobbying browser vendors to change
the defaults in ways that'd break locale-siloed Existing Content.

-- 
Henri Sivonen
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at iki.fi</A>
<A HREF="http://hsivonen.iki.fi/">http://hsivonen.iki.fi/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="076333.html">[whatwg] Default encoding to UTF-8?
</A></li>
	<LI>Next message: <A HREF="076336.html">[whatwg] Default encoding to UTF-8?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76368">[ date ]</a>
              <a href="thread.html#76368">[ thread ]</a>
              <a href="subject.html#76368">[ subject ]</a>
              <a href="author.html#76368">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
