<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] creating a new file via the File API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20creating%20a%20new%20file%20via%20the%20File%20API&In-Reply-To=%3C4EEEB9CF.5020509%40bauglir.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034201.html">
   <LINK REL="Next"  HREF="034223.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] creating a new file via the File API</H1>
<!--htdig_noindex-->
    <B>Bronislav Klu&#269;ka</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20creating%20a%20new%20file%20via%20the%20File%20API&In-Reply-To=%3C4EEEB9CF.5020509%40bauglir.com%3E"
       TITLE="[whatwg] creating a new file via the File API">Bronislav.Klucka at bauglir.com
       </A><BR>
    <I>Sun Dec 18 20:13:03 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="034201.html">[whatwg] creating a new file via the File API
</A></li>
        <LI>Next message: <A HREF="034223.html">[whatwg] creating a new file via the File API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34222">[ date ]</a>
              <a href="thread.html#34222">[ thread ]</a>
              <a href="subject.html#34222">[ subject ]</a>
              <a href="author.html#34222">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

This is quite crucial functionality and sadly not being addressed as it 
would seem, because without it application cannot really be applications 
(all you can do is to prepare data, upload those data to server and let 
user download it manually by clicking somewhere, which is annoying, 
unnecessary,  and quite frankly stupid) .


but there is a way howto allow user to save file from javascript without 
flash

<A HREF="http://www.webnt.cz/demos/034_a_download/">http://www.webnt.cz/demos/034_a_download/</A>

this demo (the generated files) allows you to download/drag'ndrop 
generated file using JS (no flash)
it's working in Chrome only at this point
FF team is having some security issues I've been discussing with them
<A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=676619">https://bugzilla.mozilla.org/show_bug.cgi?id=676619</A>



B.


On 16.12.2011 0:58, David Karger wrote:
&gt;<i> It isn't clear to me that a &quot;tag&quot; question can be addressed by an 
</I>&gt;<i> &quot;api&quot; answer.   Even if there is an api for saving to file, isn't 
</I>&gt;<i> there value to being able to declare your intentions through a tag?  
</I>&gt;<i> The &lt;input type=file&gt; tag specifies that a user will be able to 
</I>&gt;<i> interact to specify a file through a dialog.  There's absolutely no 
</I>&gt;<i> commitment that that file will actually be uploaded or input.  That's 
</I>&gt;<i> up to the form or the javascript that handles the input.  It seems 
</I>&gt;<i> entirely consistent to be able to permit specification of a brand new 
</I>&gt;<i> file in that dialog that &lt;input type=&quot;file&quot;&gt; is already creating.   
</I>&gt;<i> What some javascript _does_ with the specified file might need to be 
</I>&gt;<i> implemented using a filesaver api, but that's separate from the 
</I>&gt;<i> declaration of an interaction for specifying the file.
</I>&gt;<i>
</I>&gt;<i> On 12/15/2011 6:45 PM, <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-request at lists.whatwg.org</A> wrote:
</I>&gt;<i>
</I>&gt;<i> On Mon, 15 Aug 2011, David Karger wrote:
</I>&gt;&gt;<i> /
</I>&gt;<i> /&gt;/  Apologies if I'm revisiting old territory.  I've been doing work 
</I>&gt;<i> on pure
</I>&gt;<i> /&gt;/  html/javascript applications that work entirely clientside
</I>&gt;<i> /&gt;/  (<A HREF="http://projects.csail.mit.edu/exhibit/Dido">http://projects.csail.mit.edu/exhibit/Dido</A>).  For persistence, they
</I>&gt;<i> /&gt;/  read and write local files.  There's already an&lt;input type=&quot;file&quot;&gt;
</I>&gt;<i> /&gt;/  interface for letting the user specify a file to be read.  And I 
</I>&gt;<i> can use
</I>&gt;<i> /&gt;/  the same interface, inappropriately, to let the user overwrite a
</I>&gt;<i> /&gt;/  preexisting file.  But things get much messier if I want to let 
</I>&gt;<i> the user
</I>&gt;<i> /&gt;/  specify a _new_ file to be written, because the file-open dialog 
</I>&gt;<i> doesn't
</I>&gt;<i> /&gt;/  offer users a way to specify a new filename.  What I'd like to be 
</I>&gt;<i> able
</I>&gt;<i> /&gt;/  to do is specify a tag, or a invoke some javascript method, that 
</I>&gt;<i> will
</I>&gt;<i> /&gt;/  produce the &quot;save file&quot; dialog typical of most systems, with a 
</I>&gt;<i> graphical
</I>&gt;<i> /&gt;/  directory browser but including the option to specify a new 
</I>&gt;<i> filename.
</I>&gt;<i> /&gt;/  This problem isn't unique to me; a discussion on stackoverflow 
</I>&gt;<i> appears
</I>&gt;<i> /&gt;/  at
</I>&gt;<i> /&gt;/  
</I>&gt;<i> <A HREF="http://stackoverflow.com/questions/2897619/using-html5-javascript-to-generate-and-save-a-file">http://stackoverflow.com/questions/2897619/using-html5-javascript-to-generate-and-save-a-file</A>
</I>&gt;<i> /&gt;/  where the proposed solution is to use flash---and that would be an
</I>&gt;<i> /&gt;/  unfortunate loss of html5 purity.  They also suggest the hack of 
</I>&gt;<i> using a
</I>&gt;<i> /&gt;/  data: url but that has size limitations.
</I>&gt;<i> /&gt;/
</I>&gt;<i> /&gt;/  Perhaps&lt;input type=&quot;file&quot;&gt;  could be given an attribute specifying
</I>&gt;<i> /&gt;/  whether a new filename is permitted?
</I>&gt;<i> /
</I>&gt;<i> On Wed, 7 Sep 2011, Eric U wrote:
</I>&gt;&gt;<i> /
</I>&gt;<i> /&gt;/  This sounds like a job for the FileSaver interface.  Currently no
</I>&gt;<i> /&gt;/  browser implements it, but we at Chrome have been considering 
</I>&gt;<i> it.  At
</I>&gt;<i> /&gt;/  TPAC last year we discussed it a bit in the WebApps WG meeting; 
</I>&gt;<i> IIRC we
</I>&gt;<i> /&gt;/  talked about letting it take a URL instead of or in addition to 
</I>&gt;<i> just a
</I>&gt;<i> /&gt;/  Blob, for more general utility.
</I>&gt;<i> /&gt;/
</I>&gt;<i> /&gt;/  I suggest you bring it up on public-webapps@, where that spec lives.
</I>&gt;<i> /&gt;/  
</I>&gt;<i> <A HREF="http://dev.w3.org/2009/dap/file-system/file-writer.html#idl-def-FileSaver">http://dev.w3.org/2009/dap/file-system/file-writer.html#idl-def-FileSaver</A>
</I>&gt;<i> /
</I>&gt;<i> I agree that an API like FileSaver is the right way to do this. Using
</I>&gt;<i> &lt;input type=file&gt;  wouldn't really fit well because that's more for
</I>&gt;<i> providing data for upload than providing a file for writing.
</I>&gt;<i>
</I>
-- 

s pozdravem
          Bronislav Klu&#269;ka



<A HREF="http://www.bauglir.com">http://www.bauglir.com</A> &lt;<A HREF="http://www.bauglir.com">http://www.bauglir.com</A>&gt;

<A HREF="http://www.bauglir.com">http://www.bauglir.com</A>
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">Bronislav.Klucka at bauglir.com</A>  &lt;mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">Bronislav.Klucka at bauglir.com</A>&gt;

   * webov&#233; aplikace
   * software na zak&#225;zku


</PRE>












<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034201.html">[whatwg] creating a new file via the File API
</A></li>
	<LI>Next message: <A HREF="034223.html">[whatwg] creating a new file via the File API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34222">[ date ]</a>
              <a href="thread.html#34222">[ thread ]</a>
              <a href="subject.html#34222">[ subject ]</a>
              <a href="author.html#34222">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
