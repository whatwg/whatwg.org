<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [encoding] utf-16
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bencoding%5D%20utf-16&In-Reply-To=%3Cop.v682mcj364w2qv%40annevk-macbookpro.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="076543.html">
   <LINK REL="Next"  HREF="076545.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [encoding] utf-16</H1>
<!--htdig_noindex-->
    <B>Anne van Kesteren</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bencoding%5D%20utf-16&In-Reply-To=%3Cop.v682mcj364w2qv%40annevk-macbookpro.local%3E"
       TITLE="[whatwg] [encoding] utf-16">annevk at opera.com
       </A><BR>
    <I>Thu Dec 29 04:07:14 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="076543.html">[whatwg] [encoding] utf-16
</A></li>
        <LI>Next message: <A HREF="076545.html">[whatwg] [encoding] utf-16
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76544">[ date ]</a>
              <a href="thread.html#76544">[ thread ]</a>
              <a href="subject.html#76544">[ subject ]</a>
              <a href="author.html#76544">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 29 Dec 2011 11:37:25 +0100, Leif Halvard Silli  
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">xn--mlform-iua at m</A>&#229;lform.no&gt; wrote:
&gt;<i> Anne van Kesteren Wed Dec 28 08:11:01 PST 2011:
</I>&gt;&gt;<i> On Wed, 28 Dec 2011 12:31:12 +0100, Leif Halvard Silli wrote:
</I>&gt;&gt;&gt;<i> As for Mozilla, if HTTP content-type says 'utf-16', then it is prepared
</I>&gt;&gt;&gt;<i> to handle BOM-less little-endian as well as bom-less big-endian.
</I>&gt;&gt;&gt;<i> Whereas if you send 'utf-16le' via HTTP, then it only accepts
</I>&gt;&gt;&gt;<i> 'utf-16le'. The same also goes for Opera. But not for Webkit and IE.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Right. I think we should do it like Trident.
</I>&gt;<i>
</I>&gt;<i> To behave like Trident is quite difficult unless one applies the logic
</I>&gt;<i> that Trident does. First and foremost, the BOM must be treated the same
</I>&gt;<i> way that Trident and Webkit treat them. Secondly: It might not be be
</I>&gt;<i> desirable to behave exactly like Trident because Trident doesn't really
</I>&gt;<i> handle UTF-16 *at all* unless the file starts wtih the BOM - [...]
</I>
Yeah I noticed the weird thing with caching too. Anyway, I meant  
WebKit/Trident.


&gt;&gt;<i> I personally think everything but UTF-8 should be non-conforming,  
</I>&gt;&gt;<i> because of the large number of gotchas embedded in the platform if you  
</I>&gt;&gt;<i> don't use
</I>&gt;&gt;<i> UTF-8. Anyway, it's not logical because I suggested to follow Trident
</I>&gt;&gt;<i> which has different behavior for utf-16 and utf-16be.
</I>&gt;<i>
</I>&gt;<i> We simplify - remove a gotcha - if we say that BOM-less UTF-16 should
</I>&gt;<i> be non-conforming. From every angle, BOM-less UTF-16 as well as
</I>&gt;<i> &quot;BOM-full&quot; UTF-16LE and UTF-16BE, makes no sense.
</I>
That's only one. Form submission will use UTF-8 if you use UTF-16,  
XMLHttpRequest is heavily tied to UTF-8, URLs are tied to UTF-8. Various  
new formats such as Workers, cache manifests, WebVTT, are tied to UTF-8.  
Using anything but UTF-8 is going to hurt and will end up confusing you  
unless you know a shitload about encodings and the overall platform, which  
most people don't.


&gt;<i> You perhaps would like to see this bug, which focuses on how many
</I>&gt;<i> implementations, including XML-implementations, give precedence to the
</I>&gt;<i> BOM over other encoding declarations:
</I>&gt;<i> <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=12897">https://www.w3.org/Bugs/Public/show_bug.cgi?id=12897</A>
</I>&gt;<i>
</I>&gt;<i> *Before* paying attention to the actual encoding, you say. More
</I>&gt;<i> correct: Before deciding whether to pay attention to the 'actual'
</I>&gt;<i> encoding, they look for a BOM.
</I>
Yeah, I'm going to file a new bug so we can reconsider although the octet  
sequence the various BOMs represent can have legitimate meanings in  
certain encodings, it seems in practice people use them for Unicode.  
(Helped by the fact that Trident/WebKit behave this way of course.)


-- 
Anne van Kesteren
<A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="076543.html">[whatwg] [encoding] utf-16
</A></li>
	<LI>Next message: <A HREF="076545.html">[whatwg] [encoding] utf-16
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76544">[ date ]</a>
              <a href="thread.html#76544">[ thread ]</a>
              <a href="subject.html#76544">[ subject ]</a>
              <a href="author.html#76544">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
