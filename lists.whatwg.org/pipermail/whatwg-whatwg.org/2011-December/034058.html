<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Default encoding to UTF-8?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Default%20encoding%20to%20UTF-8%3F&In-Reply-To=%3CCAALsyKos01wM%2Bcmmn7195DAxCqhKgKQ8zvGF36n4KyVzi_rcxw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034057.html">
   <LINK REL="Next"  HREF="034059.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Default encoding to UTF-8?</H1>
<!--htdig_noindex-->
    <B>Sergiusz Wolicki</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Default%20encoding%20to%20UTF-8%3F&In-Reply-To=%3CCAALsyKos01wM%2Bcmmn7195DAxCqhKgKQ8zvGF36n4KyVzi_rcxw%40mail.gmail.com%3E"
       TITLE="[whatwg] Default encoding to UTF-8?">sergiusz at wolicki.com
       </A><BR>
    <I>Mon Dec  5 09:57:45 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="034057.html">[whatwg] Default encoding to UTF-8?
</A></li>
        <LI>Next message: <A HREF="034059.html">[whatwg] Default encoding to UTF-8?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34058">[ date ]</a>
              <a href="thread.html#34058">[ thread ]</a>
              <a href="subject.html#34058">[ subject ]</a>
              <a href="author.html#34058">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> (And HTML5 defines it the same.)
</I>
No. As far as I understand, HTML5 defines US-ASCII to be the default and
requires that any other encoding is explicitly declared. I do like this
approach.

We should also lobby for authoring tools (as recommended by HTML5) to
default their output to UTF-8 and make sure the encoding is declared.  As
so many pages, supposedly (I have not researched this), use the incorrect
encoding, it makes no sense to try to clean this mess by messing with
existing defaults. It may fix some pages and break others. Browsers have
the ability to override an incorrect encoding and this a reasonable
workaround.


-- Sergiusz


On Mon, Dec 5, 2011 at 6:42 PM, Leif Halvard Silli &lt;
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">xn--mlform-iua at xn--mlform-iua.no</A>&gt; wrote:

&gt;<i> L. David Baron on Wed Nov 30 18:29:31 PST 2011:
</I>&gt;<i> &gt; On Wednesday 2011-11-30 15:28 -0800, Faruk Ates wrote:
</I>&gt;<i> &gt;&gt; My understanding is that all browsers* default to Western Latin
</I>&gt;<i> &gt;&gt; (ISO-8859-1) encoding by default (for Western-world
</I>&gt;<i> &gt;&gt; downloads/OSes) due to legacy content on the web. But how relevant
</I>&gt;<i> &gt;&gt; is that still today? Has any browser done any recent research into
</I>&gt;<i> &gt;&gt; the need for this?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The default varies by localization (and within that potentially by
</I>&gt;<i> &gt; platform), and unfortunately that variation does matter.  You can
</I>&gt;<i> &gt; see Firefox's defaults here:
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="http://mxr.mozilla.org/l10n-mozilla-beta/search?string=intl.charset.default">http://mxr.mozilla.org/l10n-mozilla-beta/search?string=intl.charset.default</A>
</I>&gt;<i> &gt; (The localization and platform are part of the filename.)
</I>&gt;<i>
</I>&gt;<i> Last I checked, some of those locales defaulted to UTF-8. (And HTML5
</I>&gt;<i> defines it the same.) So how is that possible? Don't users of those
</I>&gt;<i> locales travel as much as you do? Or do we consider the English locale
</I>&gt;<i> user's as more important? Something is broken in the logics here!
</I>&gt;<i>
</I>&gt;<i> &gt; I changed my Firefox from the ISO-8859-1 default to UTF-8 years ago
</I>&gt;<i> &gt; (by changing the &quot;intl.charset.default&quot; preference), and I do see a
</I>&gt;<i> &gt; decent amount of broken content as a result (maybe I encounter a new
</I>&gt;<i> &gt; broken page once a week? -- though substantially more often if I'm
</I>&gt;<i> &gt; looking at non-English pages because of travel).
</I>&gt;<i>
</I>&gt;<i> What kind of trouble are you actually describing here? You are
</I>&gt;<i> describing a problem with using UTF-8 for *your locale*. What is your
</I>&gt;<i> locale? It is probably English. Or do you consider your locale to be
</I>&gt;<i> 'the Western world locale'? It sounds like *that* is what Anne has in
</I>&gt;<i> mind when he brings in Dutch:
</I>&gt;<i> <A HREF="http://blog.whatwg.org/weekly-encoding-woes">http://blog.whatwg.org/weekly-encoding-woes</A> (Quite often it sounds as
</I>&gt;<i> if some see Latin-1 - or Windows-1251 as we now should say - as a
</I>&gt;<i> 'super default' rather than a locale default. If that is the case, that
</I>&gt;<i> it is a super default, then we should also spec it like that! Until
</I>&gt;<i> further, I'll treat Latin-1 as it is specced: As a default for certain
</I>&gt;<i> locales.)
</I>&gt;<i>
</I>&gt;<i> Since it is a locale problem, we need to understand which locale you
</I>&gt;<i> have - and/or which locale you - and other debaters - think they have.
</I>&gt;<i> Faruk probably uses a Spanish locale - right?, so the two of you are
</I>&gt;<i> not speaking out of the same context.
</I>&gt;<i>
</I>&gt;<i> However, you also say that your problem is not so much related to pages
</I>&gt;<i> written for *your* locale as it is related for pages written for users
</I>&gt;<i> of *other* locales. So how many times per year do Dutch, Spanish or
</I>&gt;<i> Norwegian  - and other non-English pages - are creating troubles for
</I>&gt;<i> you, as a English locale user? I am making an assumption: Almost never.
</I>&gt;<i> You don't read those languages, do you?
</I>&gt;<i>
</I>&gt;<i> This is also an expectation thing: If you visit a Russian page in a
</I>&gt;<i> legacy Cyrillic encoding, and gets mojibake because your browser
</I>&gt;<i> defaults to Latin-1, then what does it matter to you whether your
</I>&gt;<i> browser defaults to Latin-1 or UTF-8? Answer: Nothing.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; I'm wondering if it might not be good to start encouraging
</I>&gt;<i> &gt;&gt; defaulting to UTF-8, and only fallback to Western Latin if it is
</I>&gt;<i> &gt;&gt; detected that the content is very old / served by old
</I>&gt;<i> &gt;&gt; infrastructure or servers, etc. And of course if the content is
</I>&gt;<i> &gt;&gt; served with an explicit encoding of Western Latin.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The more complex the rules, the harder they are for authors to
</I>&gt;<i> &gt; understand / debug.  I wouldn't want to create rules like those.
</I>&gt;<i>
</I>&gt;<i> Agree that that particular idea is probably not the best.
</I>&gt;<i>
</I>&gt;<i> &gt; I would, however, like to see movement towards defaulting to UTF-8:
</I>&gt;<i> &gt; the current situation makes the Web less world-wide because pages
</I>&gt;<i> &gt; that work for one user don't work for another.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm just not quite sure how to get from here to there, though, since
</I>&gt;<i> &gt; such changes are likely to make users experience broken content.
</I>&gt;<i>
</I>&gt;<i> I think we should 'attack' the dominating locale first: The English
</I>&gt;<i> locale, in its different incarnations (Australian, American, UK). Thus,
</I>&gt;<i> we should turn things on the head: English users should start to expect
</I>&gt;<i> UTF-8 to be used. Because, as English users, you are more used to
</I>&gt;<i> 'mojibake' than the rest of us are: Whenever you see it, you 'know'
</I>&gt;<i> that it is because it is a foreign language you are reading. It is we,
</I>&gt;<i> the users of non-English locales, that need the default-to-legacy
</I>&gt;<i> encoding behavior the most. Or, please, explain to us when and where it
</I>&gt;<i> is important that English language users living in their own, native
</I>&gt;<i> lands so to speak, need that their browser default to Latin-1 so that
</I>&gt;<i> they can correctly read English language pages?
</I>&gt;<i>
</I>&gt;<i> If the English locales start defaulting to UTF-8, then little by
</I>&gt;<i> little, the same expectation etc will start spreading to the other
</I>&gt;<i> locales as well, not least because the 'geeks' of each locale will tend
</I>&gt;<i> to see the English locale as a super default - and they might also use
</I>&gt;<i> the US English locale of their OS and/or browser. We should not
</I>&gt;<i> consider the needs of geeks - they will follow (read: lead) the way, so
</I>&gt;<i> the fact that *they* may see mojibake, should not be a concern.
</I>&gt;<i>
</I>&gt;<i> See? We would have a plan. Or what do you think? Of course, we - or
</I>&gt;<i> rather: the browser vendors - would need to market this as an important
</I>&gt;<i> change. The HTML5 spec already justifies the use of UTF-8 several
</I>&gt;<i> places - it says that pages might not work as expected e.g. w.r.t.
</I>&gt;<i> URLs, unless UTF-8 is used. So there are enough of arguments that can
</I>&gt;<i> be used.
</I>&gt;<i>
</I>&gt;<i> There are other technical ideas I have, such as treating the BOM the
</I>&gt;<i> way Webkit and IE treats it - that would increase the number of pages
</I>&gt;<i> treated as UTF-8 by all browsers a little bit [1]. However that can
</I>&gt;<i> wait or whatever: The most important thing is to *initiate* the default
</I>&gt;<i> encoding change.
</I>&gt;<i>
</I>&gt;<i> [1] <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=12897">https://www.w3.org/Bugs/Public/show_bug.cgi?id=12897</A>
</I>&gt;<i>
</I>&gt;<i> Leif Halvard Silli
</I>&gt;<i>
</I></PRE>






<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034057.html">[whatwg] Default encoding to UTF-8?
</A></li>
	<LI>Next message: <A HREF="034059.html">[whatwg] Default encoding to UTF-8?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34058">[ date ]</a>
              <a href="thread.html#34058">[ thread ]</a>
              <a href="subject.html#34058">[ subject ]</a>
              <a href="author.html#34058">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
