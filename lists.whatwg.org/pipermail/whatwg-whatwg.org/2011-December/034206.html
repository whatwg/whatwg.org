<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Remove maxWidth from fillText and,	strokeText
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Remove%20maxWidth%20from%20fillText%20and%2C%09strokeText&In-Reply-To=%3C4EEBAC7A.5050606%40jumis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034203.html">
   <LINK REL="Next"  HREF="034207.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Remove maxWidth from fillText and,	strokeText</H1>
<!--htdig_noindex-->
    <B>Charles Pritchard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Remove%20maxWidth%20from%20fillText%20and%2C%09strokeText&In-Reply-To=%3C4EEBAC7A.5050606%40jumis.com%3E"
       TITLE="[whatwg] Remove maxWidth from fillText and,	strokeText">chuck at jumis.com
       </A><BR>
    <I>Fri Dec 16 12:39:22 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="034203.html">[whatwg] Subject: Re: Remove maxWidth from fillText and strokeText
</A></li>
        <LI>Next message: <A HREF="034207.html">[whatwg] Fixing activeElement spec to match IE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34206">[ date ]</a>
              <a href="thread.html#34206">[ thread ]</a>
              <a href="subject.html#34206">[ subject ]</a>
              <a href="author.html#34206">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Date: Fri, 16 Dec 2011 12:33:58 -0500
From: Francis Boumphrey&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">boumphreyfr at gmail.com</A>&gt;
Message-ID:
	&lt;CAN1jwS41BvJ-4MDX0vcZW-e_A0WZyzxh6=<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">uzivQStR_bdecbXQ at mail.gmail.com</A>&gt;

FTR, as an implementer, I find maxWidth very useful for the reasons Ian
mentioned

Frank B0umphrey

------

Frank, what do you mean by implementer?

 From a developers perspective, I certainly understand that maxWidth saves a few lines of code;

function scaleDown(ctx, str, maxWidth, font, size) {
  while(ctx.measureText(str).width&gt;  maxWidth) { size -= 2; ctx.font = size + 'px ' + font; }
  // associated fill/stroke if wanted.
}

But that's all it does. It's not implemented widely, it gives the illusion of being complete. The resulting font size is not exposed to the author and may be too small to be legible by the viewer. There's no programmatic way to check for that. Unless you just implement it yourself, in a few lines of code, which is rather easy to do.

While we could add a ctx.measureText(str, maxWidth) feature, it seems an unnecessary complication.

If you're using text with Canvas, you ought to be using some smart methods and considering the minimum font size, and what should be done with the overflow (such as doing word wrapping).

There's a long history of being conservative with the scope of the Canvas API. I still do not believe that maxWidth meets the criteria for a necessary feature. It's very easy to implement it in JS, with the added benefit of having size data exposed.

-Charles



</PRE>































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034203.html">[whatwg] Subject: Re: Remove maxWidth from fillText and strokeText
</A></li>
	<LI>Next message: <A HREF="034207.html">[whatwg] Fixing activeElement spec to match IE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34206">[ date ]</a>
              <a href="thread.html#34206">[ thread ]</a>
              <a href="subject.html#34206">[ subject ]</a>
              <a href="author.html#34206">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
