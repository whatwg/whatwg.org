<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Default encoding to UTF-8?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Default%20encoding%20to%20UTF-8%3F&In-Reply-To=%3CCAJQvAuepsCXy_jT5UjfiETpPod%2BALBZHDzs_s4JPq3tQq88vwA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034062.html">
   <LINK REL="Next"  HREF="034060.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Default encoding to UTF-8?</H1>
<!--htdig_noindex-->
    <B>Henri Sivonen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Default%20encoding%20to%20UTF-8%3F&In-Reply-To=%3CCAJQvAuepsCXy_jT5UjfiETpPod%2BALBZHDzs_s4JPq3tQq88vwA%40mail.gmail.com%3E"
       TITLE="[whatwg] Default encoding to UTF-8?">hsivonen at iki.fi
       </A><BR>
    <I>Tue Dec  6 23:45:11 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="034062.html">[whatwg] Default encoding to UTF-8?
</A></li>
        <LI>Next message: <A HREF="034060.html">[whatwg] Default encoding to UTF-8?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34094">[ date ]</a>
              <a href="thread.html#34094">[ thread ]</a>
              <a href="subject.html#34094">[ subject ]</a>
              <a href="author.html#34094">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Dec 5, 2011 at 7:42 PM, Leif Halvard Silli
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">xn--mlform-iua at xn--mlform-iua.no</A>&gt; wrote:
&gt;<i> Last I checked, some of those locales defaulted to UTF-8. (And HTML5
</I>&gt;<i> defines it the same.) So how is that possible? Don't users of those
</I>&gt;<i> locales travel as much as you do? Or do we consider the English locale
</I>&gt;<i> user's as more important? Something is broken in the logics here!
</I>
Mozilla grants localizers a lot of latitude here. The defaults you see
are not carefully chosen by a committee of encoding strategists doing
whole-Web optimization at Mozilla. They are chosen by individual
localizers. Looking at which locales default to UTF-8, I think the
most probable explanation is that the localizers mistakenly tried to
pick an encoding that fits the language of the localization instead of
picking an encoding that's the most successful at decoding unlabeled
pages most likely read by users of the localization (which means
*other-language* pages when the language of the localization doesn't
have a pre-UTF-8 legacy).

I think that defaulting to UTF-8 is always a bug, because at the time
these localizations were launched, there should have been no unlabeled
UTF-8 legacy, because up until these locales were launched, no
browsers defaulted to UTF-8 (broadly speaking). I think defaulting to
UTF-8 is harmful, because it makes it possible for locale-siloed
unlabeled UTF-8 content come to existence (instead of guiding all Web
authors always to declare their use of UTF-8 so that the content works
with all browser locale configurations).

I have tried to lobby internally at Mozilla for stricter localizer
oversight here but have failed. (I'm particularly worried about
localizers turning the heuristic detector on by default for their
locale when it's not absolutely needed, because that's actually
performance-sensitive and less likely to be corrected by the user.
Therefore, turning the heuristic detector on may do performance
reputation damage. )

(Note that zh-TW seems to be an exception to general observation that
the locale's language has no browser-supported legacy encoding.
However, zh-TW enables the universal heuristic encoding detector by
default, so the fallback encoding matters less.)

-- 
Henri Sivonen
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at iki.fi</A>
<A HREF="http://hsivonen.iki.fi/">http://hsivonen.iki.fi/</A>
</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034062.html">[whatwg] Default encoding to UTF-8?
</A></li>
	<LI>Next message: <A HREF="034060.html">[whatwg] Default encoding to UTF-8?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34094">[ date ]</a>
              <a href="thread.html#34094">[ thread ]</a>
              <a href="subject.html#34094">[ subject ]</a>
              <a href="author.html#34094">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
