<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Default encoding to UTF-8?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Default%20encoding%20to%20UTF-8%3F&In-Reply-To=%3C20111206001401747443.8799c279%40xn--mlform-iua.no%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="076368.html">
   <LINK REL="Next"  HREF="076339.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Default encoding to UTF-8?</H1>
<!--htdig_noindex-->
    <B>Leif Halvard Silli</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Default%20encoding%20to%20UTF-8%3F&In-Reply-To=%3C20111206001401747443.8799c279%40xn--mlform-iua.no%3E"
       TITLE="[whatwg] Default encoding to UTF-8?">xn--mlform-iua at xn--mlform-iua.no
       </A><BR>
    <I>Mon Dec  5 15:14:01 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="076368.html">[whatwg] Default encoding to UTF-8?
</A></li>
        <LI>Next message: <A HREF="076339.html">[whatwg] Default encoding to UTF-8?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76336">[ date ]</a>
              <a href="thread.html#76336">[ thread ]</a>
              <a href="subject.html#76336">[ subject ]</a>
              <a href="author.html#76336">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Boris Zbarsky Mon Dec 5 13:49:45 PST 2011:
&gt;<i> On 12/5/11 12:42 PM, Leif Halvard Silli wrote:
</I>&gt;&gt;<i> Last I checked, some of those locales defaulted to UTF-8. (And HTML5
</I>&gt;&gt;<i> defines it the same.) So how is that possible?
</I>&gt;<i> 
</I>&gt;<i> Because authors authoring pages that users of those locales  
</I>&gt;<i> tend to use use UTF-8 more than anything else?
</I>
It is more likely that there is another reason, IMHO: They may have 
tried it, and found that it worked OK. But they of course have the same 
need for reading non-English museum and railway pages as Mozilla 
employees.

&gt;&gt;<i> Don't users of those locales travel as much as you do?
</I>
&gt;<i> I think you completely misunderstood his 
</I>&gt;<i> comments about travel and locales.  Keep reading.
</I>
I'm pretty sure I haven't misunderstood very much.

&gt;&gt;<i> What kind of trouble are you actually describing here? You are
</I>&gt;&gt;<i> describing a problem with using UTF-8 for *your locale*.
</I>&gt;<i> 
</I>&gt;<i> No.  He's describing a problem using UTF-8 to view pages that are not 
</I>&gt;<i> written in English.
</I>
And why is that a problem in those cases when it is a problem? Do he 
read those languages, anyway? Don't we expect some problems when we 
thread out of our borders?
 
&gt;<i> Now what language are the non-English pages you look at written in? 
</I>&gt;<i> Well, it depends.  In western Europe they tend to be in languages that 
</I>&gt;<i> can be encoded in ISO-8859-1, so authors sometimes use that encoding 
</I>&gt;<i> (without even realizing it).  If you set your browser to default to 
</I>&gt;<i> UTF-8, those pages will be broken.
</I>&gt;<i> 
</I>&gt;<i> In Japan, a number of pages are authored in Shift_JIS.  Those will 
</I>&gt;<i> similarly be broken in a browser defaulting to UTF-8.
</I>
The solution I proposed was that English locale browsers should default 
to UTF-8. Of course, to such users, then &quot;when in Japan&quot;, they could 
get problems - on some Japanese pages, which is a small nuisance, 
especially if they read Japansese.

&gt;&gt;<i> What is your locale?
</I>&gt;<i> 
</I>&gt;<i> Why does it matter?  David's default locale is almost certainly en-US, 
</I>&gt;<i> which defaults to ISO-8859-1 (or whatever Windows-??? encoding that 
</I>&gt;<i> actually means on the web) in his browser.  But again, he's changed the 
</I>&gt;<i> default encoding from the locale default, so the locale is irrelevant.
</I>
The locale is meant to predominantly be used within a physical locale. 
If he is at another physical locale or a virtually other locale, he 
should not be expecting that it works out of the box unless a common 
encoding is used. Even today, if he visits Japan, he has to either 
change his browser settings *or* to rely on the pages declaring their 
encodings. So nothing would change, for him, when visiting Japan &#8212; with 
his browser or with his computer.

Yes, there would be a change, w.r.t. Enlgish quotation marks (see 
below) and w.r.tg. visiting Western European languages pages: For those 
a number of pages which doesn't fail with Win-1252 as the default, 
would start to fail. But relatively speaking, it is less important that 
non-English pages fail for the English locale.

&gt;&gt;<i> (Quite often it sounds as
</I>&gt;&gt;<i> if some see Latin-1 - or Windows-1251 as we now should say - as a
</I>&gt;&gt;<i> 'super default' rather than a locale default. If that is the case, that
</I>&gt;&gt;<i> it is a super default, then we should also spec it like that! Until
</I>&gt;&gt;<i> further, I'll treat Latin-1 as it is specced: As a default for certain
</I>&gt;&gt;<i> locales.)
</I>&gt;<i> 
</I>&gt;<i> That's exactly what it is.
</I>
A default for certain locales? Right.

&gt;&gt;<i> Since it is a locale problem, we need to understand which locale you
</I>&gt;&gt;<i> have - and/or which locale you - and other debaters - think they have.
</I>&gt;<i> 
</I>&gt;<i> Again, doesn't matter if you change your settings from the default.
</I>
I don't think I have misunderstood anything.
 
&gt;&gt;<i> However, you also say that your problem is not so much related to pages
</I>&gt;&gt;<i> written for *your* locale as it is related for pages written for users
</I>&gt;&gt;<i> of *other* locales. So how many times per year do Dutch, Spanish or
</I>&gt;&gt;<i> Norwegian  - and other non-English pages - are creating troubles for
</I>&gt;&gt;<i> you, as a English locale user? I am making an assumption: Almost never.
</I>&gt;&gt;<i> You don't read those languages, do you?
</I>&gt;<i> 
</I>&gt;<i> Did you miss the &quot;travel&quot; part?  Want to look up web pages for museums, 
</I>&gt;<i> airports, etc in a non-English speaking country?  There's a good chance 
</I>&gt;<i> they're not in English!
</I>
There is a very good chance, also, that only very few of the Web pages 
for such professional institutions would fail to declare their encoding.

&gt;&gt;<i> This is also an expectation thing: If you visit a Russian page in a
</I>&gt;&gt;<i> legacy Cyrillic encoding, and gets mojibake because your browser
</I>&gt;&gt;<i> defaults to Latin-1, then what does it matter to you whether your
</I>&gt;&gt;<i> browser defaults to Latin-1 or UTF-8? Answer: Nothing.
</I>&gt;<i> 
</I>&gt;<i> Yes.  So?
</I>
So we can look away from Greek, Cyrillic, Japanese, Chinese etc etc in 
this debate. The eventually only benefit for English locale user of 
keeping WIN-1252 as the default, is that they can have a tiny number of 
fewer problems when visiting Western-European language web pages with 
their computer. (Yes, fI saw that you mention smart quotes etc below - 
so there is that reason too.) 

&gt;&gt;<i> I think we should 'attack' the dominating locale first: The English
</I>&gt;&gt;<i> locale, in its different incarnations (Australian, American, UK). Thus,
</I>&gt;&gt;<i> we should turn things on the head: English users should start to expect
</I>&gt;&gt;<i> UTF-8 to be used. Because, as English users, you are more used to
</I>&gt;&gt;<i> 'mojibake' than the rest of us are: Whenever you see it, you 'know'
</I>&gt;&gt;<i> that it is because it is a foreign language you are reading.
</I>&gt;<i> 
</I>&gt;<i> Modulo smart quotes (and recently unicode ellipsis characters).  These 
</I>&gt;<i> are actually pretty common in English text on the web nowadays, and have 
</I>&gt;<i> a tendency to be in &quot;ISO-8859-1&quot;.
</I>
If we change the default, they will start to tend to be in UTF-8.
 
&gt;&gt;<i> Or, please, explain to us when and where it
</I>&gt;&gt;<i> is important that English language users living in their own, native
</I>&gt;&gt;<i> lands so to speak, need that their browser default to Latin-1 so that
</I>&gt;&gt;<i> they can correctly read English language pages?
</I>&gt;<i> 
</I>&gt;<i> See above.
</I>
OK: Quotation marks. However, in 'old web pages', then you also find 
much more use of HTML entities (such as &ldquo;) than you find today. 
We should take advantage of that, no?
 
&gt;&gt;<i> See? We would have a plan. Or what do you think?
</I>&gt;<i> 
</I>&gt;<i> Try it in your browser.  When I set UTF-8 as my default, there were 
</I>&gt;<i> broke quotation marks all over the web for me.  And I'm talking pages in 
</I>&gt;<i> English.
</I>
When you mention quotation marks, then you mention a real locale 
related issue. And may be the Euro sign too?  Nevertheless, the problem 
is smallest for languages that primarily limit their alphabet to those 
letter that are present in the American Standard Code for Information 
Interchange format. It would be logical, thus, to start the switch to 
UTF-8 for those locales (since the US-ASCII part is unchanged in UTF-8).

Perhaps we need to have a project to measure these problems, instead of 
all these anecdotes? And, yes, I have tried to use UTF-8 as default. It 
tend to work well, in my locale, I'd say. However, it also tend to work 
*differently* in *different browsers*. I think e.g. it will work 
*better* in Firefox than in Webkit. This because Webkit applies 
encoding differently when it comes to iframe pages compared to what 
Firefox does - I filed several Webkit bugs relating to that thing ... 
-- 
Leif Halvard Silli
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="076368.html">[whatwg] Default encoding to UTF-8?
</A></li>
	<LI>Next message: <A HREF="076339.html">[whatwg] Default encoding to UTF-8?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76336">[ date ]</a>
              <a href="thread.html#76336">[ thread ]</a>
              <a href="subject.html#76336">[ subject ]</a>
              <a href="author.html#76336">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
