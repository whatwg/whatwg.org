<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] defer on style, depends
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20defer%20on%20style%2C%20depends&In-Reply-To=%3C49988775.4000909%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="060836.html">
   <LINK REL="Next"  HREF="060710.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] defer on style, depends</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20defer%20on%20style%2C%20depends&In-Reply-To=%3C49988775.4000909%40mit.edu%3E"
       TITLE="[whatwg] defer on style, depends">bzbarsky at MIT.EDU
       </A><BR>
    <I>Sun Feb 15 13:21:57 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="060836.html">[whatwg] defer on style, depends
</A></li>
        <LI>Next message: <A HREF="060710.html">[whatwg] Video playback quality metric
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60837">[ date ]</a>
              <a href="thread.html#60837">[ thread ]</a>
              <a href="subject.html#60837">[ subject ]</a>
              <a href="author.html#60837">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Garrett Smith wrote:
&gt;<i> I can see why rule matching would happen for all nodes in the document.
</I>&gt;<i> 
</I>&gt;<i> On what occasion(s) do(es) that algorithm run?
</I>
Depends on the UA, probably.

For Gecko in particular, any time a stylesheet is added to or removed 
from the document, any time a rule is added to or removed from a 
stylesheet via the CSSOM, and any time a rule is changed via the CSSOM. 
  The one exception is inline style; changing that only performs style 
recomputation (which includes selector matching) on the subtree rooted 
at the node whose inline style has changed.

In general, the whole setup in Gecko is optimized around changes to 
nodes being common and changes to stylesheets being rare.

So far this is a good working assumption; if that ever changes we'll 
look into optimizing changes to stylesheets more.

&gt;<i> Could such a strategy for rule-matching help performance, or would it
</I>&gt;<i> hinder performance or be too much work to maintain?
</I>
To a first approximation it'd have no effect on performance.

&gt;&gt;<i> Too complicated for whom?  The author or the implementation?
</I>&gt;<i> 
</I>&gt;<i> For the implementation, I do not actually know because I have not
</I>&gt;<i> worked on that code. What are your thoughts?
</I>
I haven't thought about this enough to have any useful ones yet.

-Boris



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="060836.html">[whatwg] defer on style, depends
</A></li>
	<LI>Next message: <A HREF="060710.html">[whatwg] Video playback quality metric
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60837">[ date ]</a>
              <a href="thread.html#60837">[ thread ]</a>
              <a href="subject.html#60837">[ subject ]</a>
              <a href="author.html#60837">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
