<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Media elements delaying the load event.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Media%20elements%20delaying%20the%20load%20event.&In-Reply-To=%3CPine.LNX.4.62.0902220919030.6209%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="060896.html">
   <LINK REL="Next"  HREF="060898.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Media elements delaying the load event.</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Media%20elements%20delaying%20the%20load%20event.&In-Reply-To=%3CPine.LNX.4.62.0902220919030.6209%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Media elements delaying the load event.">ian at hixie.ch
       </A><BR>
    <I>Sun Feb 22 01:23:43 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="060896.html">[whatwg] HTML5 DOCTYPE suggestion
</A></li>
        <LI>Next message: <A HREF="060898.html">[whatwg] HAVE_ENOUGH_DATA firing the &quot;play&quot; event	unconditionally?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60897">[ date ]</a>
              <a href="thread.html#60897">[ thread ]</a>
              <a href="subject.html#60897">[ subject ]</a>
              <a href="author.html#60897">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 18 Dec 2008, Robert O'Callahan wrote:
&gt;<i>
</I>&gt;<i> Currently HTML5 does not require media elements to delay the load event 
</I>&gt;<i> in any way. We certainly don't want to delay the load event until the 
</I>&gt;<i> entire resource has finished loading (as we do for images), but I think 
</I>&gt;<i> it would make sense to delay the load event until media elements that 
</I>&gt;<i> are loading have reached the HAVE_CURRENT_DATA state (or detected an 
</I>&gt;<i> error). This ensures intrinsic sizes are available so the layout can 
</I>&gt;<i> stabilize, it ensures that scripts can access metadata, and it ensures 
</I>&gt;<i> that the video is displaying something (if it's going to).
</I>
Done. Currently, because media elements and parsing use different task 
sources, the ordering of media element 'error' events and document 'load' 
events is allowed to be unpredictable. If this becomes problematic let me 
know and I'll move the 'error' events to using the DOM manipulation task 
source instead which will make them fire before the document 'load' event 
(but will make the spec confusing because I'll have to keep talking 
about which task source applies for which event).

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="060896.html">[whatwg] HTML5 DOCTYPE suggestion
</A></li>
	<LI>Next message: <A HREF="060898.html">[whatwg] HAVE_ENOUGH_DATA firing the &quot;play&quot; event	unconditionally?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60897">[ date ]</a>
              <a href="thread.html#60897">[ thread ]</a>
              <a href="subject.html#60897">[ subject ]</a>
              <a href="author.html#60897">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
