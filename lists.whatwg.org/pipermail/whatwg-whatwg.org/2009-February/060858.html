<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;eventsource&gt;/RemoteEventSource wierdness
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Ceventsource%3E/RemoteEventSource%20wierdness&In-Reply-To=%3C8300F54B-FA01-4BA8-9D71-4DCA8ED2E923%40geekhood.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="060851.html">
   <LINK REL="Next"  HREF="060871.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;eventsource&gt;/RemoteEventSource wierdness</H1>
<!--htdig_noindex-->
    <B>Kornel Lesinski</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Ceventsource%3E/RemoteEventSource%20wierdness&In-Reply-To=%3C8300F54B-FA01-4BA8-9D71-4DCA8ED2E923%40geekhood.net%3E"
       TITLE="[whatwg] &lt;eventsource&gt;/RemoteEventSource wierdness">kornel at geekhood.net
       </A><BR>
    <I>Wed Feb 18 02:49:08 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="060851.html">[whatwg] &lt;eventsource&gt;/RemoteEventSource wierdness
</A></li>
        <LI>Next message: <A HREF="060871.html">[whatwg] &lt;eventsource&gt;/RemoteEventSource wierdness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60858">[ date ]</a>
              <a href="thread.html#60858">[ thread ]</a>
              <a href="subject.html#60858">[ subject ]</a>
              <a href="author.html#60858">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 18 Feb 2009, at 06:53, Jonas Sicking wrote:

&gt;<i> This could also replace the IMHO awkward &lt;eventsource&gt; element. I
</I>&gt;<i> don't understand the value of having this element at all. It seems to
</I>&gt;<i> me that if the only way you can use an API is through script, then
</I>&gt;<i> making the API into an element is adding extra complexity to the HTML
</I>&gt;<i> language for little to no gain.
</I>
I agree with that one. I don't see any reason why sources need to be  
declared in HTML (sources are site-specific and useful only with JS  
enabled, so non-JS clients, bots, etc. don't need to know about them).

&gt;<i> Finally, I do question the need for this API at all.
</I>

I like the concept and find it useful. I think existence of Comet[1]  
is a proof that such feature is desired, even without support for SMS.

Implementation of Comet via XHR is tricky, especially robust error  
handling is difficult. JS libraries can't have best implementation of  
event streams, because JS doesn't have enough control over network  
connections (e.g. can't bypass proxy if it doesn't handle long-lived  
connections well). Native browser implementations can excel here.

One key feature that IMHO is needed in this area is sharing of events  
between pages/windows - e.g. page with stock ticker doesn't need  
separate stream for every page in every window. One permanent  
connection shared between windows and kept alive between page reloads  
would be sufficient, and would save both client and server resources  
and wouldn't have problems with HTTP/1.1 connections limit.

1. I think that such feature is needed and event source should be kept  
in some form.
2. I wouldn't mind if event source API was redesigned, made JS-only  
(without DOM), moved to separate specification or merged with XHR/web  
sockets.
3. Connection sharing is needed to make it a killer feature.

-- 
regards, Kornel

[1] <A HREF="http://en.wikipedia.org/wiki/Comet_(programming">http://en.wikipedia.org/wiki/Comet_(programming</A>)


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="060851.html">[whatwg] &lt;eventsource&gt;/RemoteEventSource wierdness
</A></li>
	<LI>Next message: <A HREF="060871.html">[whatwg] &lt;eventsource&gt;/RemoteEventSource wierdness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60858">[ date ]</a>
              <a href="thread.html#60858">[ thread ]</a>
              <a href="subject.html#60858">[ subject ]</a>
              <a href="author.html#60858">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
