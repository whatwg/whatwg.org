<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Small inconsistencies in video events
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Small%20inconsistencies%20in%20video%20events&In-Reply-To=%3C11e306600902081822m7a71d1adif6ddf7de667c1073%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="060903.html">
   <LINK REL="Next"  HREF="060904.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Small inconsistencies in video events</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Small%20inconsistencies%20in%20video%20events&In-Reply-To=%3C11e306600902081822m7a71d1adif6ddf7de667c1073%40mail.gmail.com%3E"
       TITLE="[whatwg] Small inconsistencies in video events">robert at ocallahan.org
       </A><BR>
    <I>Sun Feb  8 18:22:31 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="060903.html">[whatwg] Error in the play() method's algorithm
</A></li>
        <LI>Next message: <A HREF="060904.html">[whatwg] Small inconsistencies in video events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60692">[ date ]</a>
              <a href="thread.html#60692">[ thread ]</a>
              <a href="subject.html#60692">[ subject ]</a>
              <a href="author.html#60692">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I was just writing some tests for various events and noticed that there's a
slight weirdness in the events fired for readyState transitions. If
readyState changes from HAVE_CURRENT_DATA to HAVE_FUTURE_DATA, the element
is then potentially playing, and then readyState changes to
HAVE_ENOUGH_DATA, we fire &quot;canplay&quot;, &quot;playing&quot;, &quot;canplay&quot; again,
&quot;canplaythrough&quot; and &quot;playing&quot; again. OTOH if readyState changes from
HAVE_CURRENT_DATA directly to HAVE_ENOUGH_DATA and the element is
potentially playing, then we fire &quot;canplay&quot;, &quot;canplaythrough&quot;, and
&quot;playing&quot;.

I think we should fire the same set of events in the same order whether we
transition through HAVE_FUTURE_DATA or not. So, I suggest that a transition
from HAVE_FUTURE_DATA to HAVE_ENOUGH_DATA should not fire &quot;canplay&quot; or
&quot;playing&quot;. Also, a transition from HAVE_CURRENT_DATA to HAVE_ENOUGH_DATA
should fire &quot;canplaythrough&quot; after we've handled autoplay and potentially
fired &quot;playing&quot;.

Rob
-- 
&quot;He was pierced for our transgressions, he was crushed for our iniquities;
the punishment that brought us peace was upon him, and by his wounds we are
healed. We all, like sheep, have gone astray, each of us has turned to his
own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
53:5-6]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090209/93228aa6/attachment-0001.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090209/93228aa6/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="060903.html">[whatwg] Error in the play() method's algorithm
</A></li>
	<LI>Next message: <A HREF="060904.html">[whatwg] Small inconsistencies in video events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60692">[ date ]</a>
              <a href="thread.html#60692">[ thread ]</a>
              <a href="subject.html#60692">[ subject ]</a>
              <a href="author.html#60692">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
