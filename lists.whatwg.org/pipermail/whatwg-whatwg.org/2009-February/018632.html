<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Clickjacking and CSRF
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Clickjacking%20and%20CSRF&In-Reply-To=%3Cop.upsv0srx41y844%40id-c0735.oslo.opera.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018612.html">
   <LINK REL="Next"  HREF="018636.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Clickjacking and CSRF</H1>
<!--htdig_noindex-->
    <B>Sigbj&#248;rn Vik</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Clickjacking%20and%20CSRF&In-Reply-To=%3Cop.upsv0srx41y844%40id-c0735.oslo.opera.com%3E"
       TITLE="[whatwg] Clickjacking and CSRF">sigbjorn at opera.com
       </A><BR>
    <I>Mon Feb 23 02:42:18 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="018612.html">[whatwg] Clickjacking and CSRF
</A></li>
        <LI>Next message: <A HREF="018636.html">[whatwg] Clickjacking and CSRF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18632">[ date ]</a>
              <a href="thread.html#18632">[ thread ]</a>
              <a href="subject.html#18632">[ subject ]</a>
              <a href="author.html#18632">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 20 Feb 2009 19:36:47 +0100, Bil Corry &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bil at corry.biz</A>&gt; wrote:

&gt;<i> Sigbj&#248;rn Vik wrote on 2/20/2009 8:46 AM:
</I>&gt;&gt;<i> One proposed way of doing this would be a single header, of the form:
</I>&gt;&gt;<i> x-cross-domain-options: deny=frame,post,auth; AllowSameOrigin;
</I>&gt;&gt;<i> allow=*.opera.com,example.net;
</I>&gt;&gt;<i> This incorporates the idea from the IE team, and extends on it.
</I>&gt;<i>
</I>&gt;<i> Have you taken a look at ABE?
</I>&gt;<i>
</I>&gt;<i> 	<A HREF="http://hackademix.net/wp-content/uploads/2008/12/abe_rules_03.pdf">http://hackademix.net/wp-content/uploads/2008/12/abe_rules_03.pdf</A>
</I>
I am not quite certain what you are referring to, the document is a ruleset for how to express what is allowed and disallowed. Do you mean that clients should be using a URL list, or that servers should be using this particular grammar to decide which headers to send with their URLs?
For a domain wide policy file a document like this might work well though.

&gt;&gt;<i> For cross-domain resources, this means that a browser would first have
</I>&gt;&gt;<i> to make a request with GET and without authentication tokens to get the
</I>&gt;&gt;<i> x-cross-domain-options settings from the resource. If the settings
</I>&gt;&gt;<i> allow, a second request may be made, if the second request would be
</I>&gt;&gt;<i> different. The result of last request are handed over to the document.
</I>&gt;<i>
</I>&gt;<i> Have you considered using OPTIONS for the pre-flight request, similar to  
</I>&gt;<i> how Access Control for Cross-Site Requests does it?
</I>&gt;<i>
</I>&gt;<i> 	<A HREF="http://www.w3.org/TR/access-control/#cross-site2">http://www.w3.org/TR/access-control/#cross-site2</A>
</I>
Good point. Trying to use OPTIONS for existing servers might break them, a GET might be safer. Then again, OPTIONS shouldn't break anything, GETs might have side-effects where OPTIONS don't, and an OPTIONS reply typically has a much smaller payload than a GET reply. In the case of a reply to a pre-flight request where the user agents has cookies but the server replies that contents are the same with or without cookies, an OPTIONS request would require two requests, a GET only one. OPTIONS is probably more in the spirit of HTTP though.

Either could work, the idea is the same. Which would be better would have to be researched empirically, but OPTIONS might be the better candidate.

-- 
Sigbj&#248;rn Vik
Quality Assurance
Opera Software



</PRE>







<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018612.html">[whatwg] Clickjacking and CSRF
</A></li>
	<LI>Next message: <A HREF="018636.html">[whatwg] Clickjacking and CSRF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18632">[ date ]</a>
              <a href="thread.html#18632">[ thread ]</a>
              <a href="subject.html#18632">[ subject ]</a>
              <a href="author.html#18632">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
