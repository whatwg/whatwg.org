<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;device&gt; element, streams and peer-to-peer connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cdevice%3E%20element%2C%20streams%20and%20peer-to-peer%20connections&In-Reply-To=%3CAANLkTilQxMg1AGZO4koLrJKkCcV4xEI9Hn5MQ6cIa1Ld%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026438.html">
   <LINK REL="Next"  HREF="026518.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;device&gt; element, streams and peer-to-peer connections</H1>
<!--htdig_noindex-->
    <B>Mark Frohnmayer</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cdevice%3E%20element%2C%20streams%20and%20peer-to-peer%20connections&In-Reply-To=%3CAANLkTilQxMg1AGZO4koLrJKkCcV4xEI9Hn5MQ6cIa1Ld%40mail.gmail.com%3E"
       TITLE="[whatwg] &lt;device&gt; element, streams and peer-to-peer connections">mark.frohnmayer at gmail.com
       </A><BR>
    <I>Thu May 27 15:34:39 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="026438.html">[whatwg] &lt;device&gt; element, streams and peer-to-peer connections
</A></li>
        <LI>Next message: <A HREF="026518.html">[whatwg] &lt;device&gt; element, streams and peer-to-peer connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26517">[ date ]</a>
              <a href="thread.html#26517">[ thread ]</a>
              <a href="subject.html#26517">[ subject ]</a>
              <a href="author.html#26517">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, May 21, 2010 at 1:29 AM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at opera.com</A>&gt; wrote:
&gt;<i> On Fri, 21 May 2010 10:20:00 +0200, Nicklas Sandgren
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">nicklas.sandgren at ericsson.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As mentioned in the draft, the peer-to-peer API must rely on underlying
</I>&gt;&gt;<i> protocols/mechanisms to establish the connections and to transport the
</I>&gt;&gt;<i> streams. What are the thoughts regarding these protocols, and has there been
</I>&gt;&gt;<i> any discussion around this topic?
</I>&gt;<i>
</I>&gt;<i> Last I checked the hope is that the protocol problem will &quot;go away&quot;. So far
</I>&gt;<i> it seems that is unlikely. :-)
</I>
There has been some limited discussion about the peer-to-peer section
as it relates to real-time peer to peer gaming applications:

<A HREF="http://old.nabble.com/Real-time-networking-in-web-applications-and-games-td27994693.html">http://old.nabble.com/Real-time-networking-in-web-applications-and-games-td27994693.html</A>

And references a proposed lower level (UDP-based) WebSocket-like
protocol: <A HREF="http://github.com/nardo/torque_sockets/raw/master/TorqueSocket_API.txt">http://github.com/nardo/torque_sockets/raw/master/TorqueSocket_API.txt</A>

The approach here was to punt as much of the flow
control/retransmission policy to the application level, whether you're
streaming video streams, game data or whatever.

&gt;&gt;<i> You could also debate how often peer-to-peer media streams will actually
</I>&gt;&gt;<i> work. Aren't FWs and NATs going to give problems in many cases? Maybe it
</I>&gt;&gt;<i> would be better to design for a situation where the media always go via a
</I>&gt;&gt;<i> server. Additional benefits are that WS could be used for media transport,
</I>&gt;&gt;<i> and that the media could be transcoded if the codec capabilities of the
</I>&gt;&gt;<i> clients do not match.
</I>&gt;<i>
</I>&gt;<i> I'm not really sure how this is an alternative approach. It would just be
</I>&gt;<i> leaving peer-to-messaging out... Streaming video via WebSocket is something
</I>&gt;<i> we definitely want to enable in due course, irrespective of whether
</I>&gt;<i> peer-to-peer messaging comes to fruition.
</I>
To answer the question of problem in p2p regarding FWs and NATs, the
libjingle folks report that 92% of participants are able to connect
directly: <A HREF="http://code.google.com/apis/talk/libjingle/important_concepts.html#connections">http://code.google.com/apis/talk/libjingle/important_concepts.html#connections</A>
with the remainder using simple message relay servers.  In practice
this represents a hugely significant bandwidth reduction for
application hosts.  Given the level of possible application
sophistication promise in the next gen web, leaving out such a huge
efficiency win would be a shame.

An approach that allows data output from devices to be adjusted to a
target bit rate and collected in meaningful chunks, but not directly
connected to the transport mechanism could be a viable path.  A device
stream could be transported either via WebSocket or a p2p networking
layer with equal ease, leaving the message marshaling up to the web
app.

Any feedback on the specific p2p packet layer protocol is always welcome.

Regards,
Mark
</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026438.html">[whatwg] &lt;device&gt; element, streams and peer-to-peer connections
</A></li>
	<LI>Next message: <A HREF="026518.html">[whatwg] &lt;device&gt; element, streams and peer-to-peer connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26517">[ date ]</a>
              <a href="thread.html#26517">[ thread ]</a>
              <a href="subject.html#26517">[ subject ]</a>
              <a href="author.html#26517">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
