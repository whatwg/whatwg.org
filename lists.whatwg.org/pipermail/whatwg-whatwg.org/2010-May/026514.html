<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Installable web apps
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Installable%20web%20apps&In-Reply-To=%3CAANLkTinPuMSlo2zq7VbXWWYlzsxpTghnovAShnPHVBHX%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026506.html">
   <LINK REL="Next"  HREF="026508.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Installable web apps</H1>
<!--htdig_noindex-->
    <B>Aaron Boodman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Installable%20web%20apps&In-Reply-To=%3CAANLkTinPuMSlo2zq7VbXWWYlzsxpTghnovAShnPHVBHX%40mail.gmail.com%3E"
       TITLE="[whatwg] Installable web apps">aa at google.com
       </A><BR>
    <I>Thu May 27 09:22:03 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="026506.html">[whatwg] Installable web apps
</A></li>
        <LI>Next message: <A HREF="026508.html">[whatwg] Problem with http://www.webmproject.org/
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26514">[ date ]</a>
              <a href="thread.html#26514">[ thread ]</a>
              <a href="subject.html#26514">[ subject ]</a>
              <a href="author.html#26514">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, May 27, 2010 at 5:09 AM, Lachlan Hunt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">lachlan.hunt at lachy.id.au</A>&gt; wrote:
&gt;<i> On 2010-05-26 19:10, Aaron Boodman wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wed, May 26, 2010 at 4:30 AM, Henri Sivonen&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at iki.fi</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> There's a zip file with a .crx extension that contains an icon, a
</I>&gt;&gt;&gt;<i> permission manifest and potentially the code of the app (&quot;Building
</I>&gt;&gt;&gt;<i> a serverless app&quot;). When the .crx file contains the code of the
</I>&gt;&gt;&gt;<i> app, a .crx file is essentially like a .wgt file (which is what
</I>&gt;&gt;&gt;<i> Opera has been pushing and already has a catalog site
</I>&gt;&gt;&gt;<i> <A HREF="http://widgets.opera.com/">http://widgets.opera.com/</A> ) except with the manifest XML exorcised
</I>&gt;&gt;&gt;<i> and replaced with JSON.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This isn't really the point of this mail, but I just want to point
</I>&gt;&gt;<i> out that there are more differences between wgt and crx than the
</I>&gt;&gt;<i> format of the manifest file. The most important is that the identify
</I>&gt;&gt;<i> of a crx file is a public key, and all crx files are self-signed by
</I>&gt;&gt;<i> their key. This makes a crx file's identity unforgeable.
</I>&gt;<i>
</I>&gt;<i> There are, however, a lot of similarities between your proposal and widgets.
</I>&gt;<i> &#160;I compared the manifests of both crx and widgets, and I believe the
</I>&gt;<i> metadata included in crx maps to that in widgets as follows:
</I>&gt;<i>
</I>&gt;<i> *Chrome Manifest* | *Widgets Manifest*
</I>&gt;<i> (implied) &#160; &#160; &#160; &#160; | &lt;widget viewmodes=&quot;windowed&quot;&gt;
</I>&gt;<i> name &#160; &#160; &#160; &#160; &#160; &#160; &#160;| &lt;name&gt;
</I>&gt;<i> version &#160; &#160; &#160; &#160; &#160; | &lt;widget version=&quot;...&quot;&gt;
</I>&gt;<i> icons &#160; &#160; &#160; &#160; &#160; &#160; | &lt;icon src=&quot;&quot;
</I>&gt;<i> - 24 &#160; &#160; &#160; &#160; &#160; &#160; &#160;| ... height=&quot;24&quot; width=&quot;24&quot;&gt;
</I>&gt;<i> - 128 &#160; &#160; &#160; &#160; &#160; &#160; | ... height=&quot;128&quot; width=&quot;128&quot;&gt;
</I>&gt;<i> permissions &#160; &#160; &#160; | &lt;feature&gt;
</I>&gt;<i> web_content &#160; &#160; &#160; | &lt;access
</I>&gt;<i> - enabled &#160; &#160; &#160; &#160; | (implied)
</I>&gt;<i> - origin &#160; &#160; &#160; &#160; &#160;| ... origin=&quot;...&quot;&gt;
</I>&gt;<i> - paths &#160; &#160; &#160; &#160; &#160; | N/A - what's the purpose of this, why is it needed?
</I>&gt;<i> launch: &#160; &#160; &#160; &#160; &#160; | Default start file, e.g. index.html, or
</I>&gt;<i> - web_url &#160; &#160; &#160; &#160; | N/A
</I>&gt;<i> - local_path &#160; &#160; &#160;| &lt;content src=&quot;...&quot;&gt;
</I>&gt;<i>
</I>&gt;<i> Digital signatures are also supported in widgets. &#160;Are there any limitations
</I>&gt;<i> that you are aware of with widgets-digsig compared with crx signatures that
</I>&gt;<i> might make them unsuitable?
</I>
Maybe, but I think that debate should be separate from this thread.

&gt;&gt;&gt;<i> I think the Webby step to take from here is to introduce the
</I>&gt;&gt;&gt;<i> concept of application bookmarks (still without zip files). To
</I>&gt;&gt;&gt;<i> &quot;install&quot; a Web application, the user would navigate to the app's
</I>&gt;&gt;&gt;<i> URL and create an application bookmark.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For Chrome this isn't the UX we want. We want users to click a link
</I>&gt;&gt;<i> in the content area and be presented with an install dialog. We
</I>&gt;&gt;<i> think that going to something in the browser to &quot;applicationify&quot; a
</I>&gt;&gt;<i> web app is too indirect and that many users will not get it.
</I>&gt;<i>
</I>&gt;<i> That was the user experience offered by Safari 4 beta's experimental Save as
</I>&gt;<i> Web Application feature and Mozilla Prism. &#160;I can understand why that is
</I>&gt;<i> perceived as suboptimal for many users. &#160;But they had the advantage of
</I>&gt;<i> allowing the user to turn any website they wanted into an application,
</I>&gt;<i> whereas your proposed model depends on the site explicitly providing an
</I>&gt;<i> application to install. &#160;There are benefits to both models.
</I>&gt;<i>
</I>&gt;&gt;<i> That said, I think there is room to support multiple models of
</I>&gt;&gt;<i> installation (or bookmarking, or whatever you want to call it),
</I>&gt;&gt;<i> though.
</I>&gt;<i>
</I>&gt;<i> Indeed.
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> If it's still deemed useful to be able to pre-grant permissions, I
</I>&gt;&gt;&gt;<i> think the app should, again instead of installed zip files,
</I>&gt;&gt;&gt;<i> use&lt;link rel=something&gt; &#160;to point to a manifest that shows what the
</I>&gt;&gt;&gt;<i> apps wishes to be pre-granted. When the features to be granted have
</I>&gt;&gt;&gt;<i> obvious JavaScript entry points from the window object (e.g.
</I>&gt;&gt;&gt;<i> navigator.geolocation), the JavaScript names of those entry points
</I>&gt;&gt;&gt;<i> should be used to identify the features in the manifest in order to
</I>&gt;&gt;&gt;<i> avoid having to standardize separate permission names.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We have a growing set of metadata you're trying to&lt;link&gt; &#160;to:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - Icons
</I>&gt;<i>
</I>&gt;<i> &lt;link rel=&quot;icon&quot; sizes=&quot;24x24&quot; href=&quot;icon.png&quot;&gt;
</I>
My concern with reusing favicons is that some browsers support
changing them at runtime, so they can be overloaded to show status
information. We were actually planning on doing this in Chrome too,
even for the larger sizes. Also, it seems weird to repeat the
application information on every webpage in an app, so I prefer
linking off to a separate resource anyway.

I wonder if it would be too much of a hack to only use the icon listed
in the HTML for use in the launch/bookmark UI, and only display
runtime changes to it in the tab/window titlebar.

&gt;&gt;<i> - Application name (you didn't mention this, but I think it
</I>&gt;&gt;<i> is nice to have distinct from the&lt;title&gt;, which is often overloaded
</I>&gt;&gt;<i> with status information)
</I>&gt;<i>
</I>&gt;<i> &lt;meta name=&quot;application-name&quot; content=&quot;...&quot;&gt;
</I>
You're right -- that one does exist already within the page. And it is
a shame to waste these existing features.

The more I think about it, the more I start to agree that just using
the &lt;meta&gt; and &lt;link&gt; tags we already have (with perhaps one addition
for permissions), could work.

Let me think about it some more.

&gt;&gt;<i> &#160;- Any permissions
</I>&gt;<i>
</I>&gt;<i> Not yet available.
</I>&gt;<i>
</I>&gt;&gt;<i> To me, this all leads to the following proposal:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;html&gt;
</I>&gt;&gt;<i> &lt;head&gt;
</I>&gt;&gt;<i> &lt;!-- for UAs that want a button in the browser chrome to appify --&gt;
</I>&gt;&gt;<i> &lt;link rel=&quot;application-description&quot; href=&quot;myapp.json&quot;&gt;
</I>&gt;&gt;<i> &lt;/head&gt;
</I>&gt;&gt;<i> &lt;body&gt;
</I>&gt;&gt;<i> &lt;!-- for UAs that want a button in the [content area] to appify --&gt;
</I>&gt;&gt;<i> &lt;button onclick=&quot;navigator.installApplication()&quot;&gt;install&lt;/button&gt;
</I>&gt;<i>
</I>&gt;<i> This is reminiscent of the old &lt;bb&gt; element proposal that used to be in
</I>&gt;<i> HTML5.
</I>&gt;<i>
</I>&gt;<i> &lt;bb type=&quot;makeapp&quot;&gt;Install application&lt;/bb&gt;
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.w3.org/TR/2009/WD-html5-20090423/interactive-elements.html#the-bb-element">http://www.w3.org/TR/2009/WD-html5-20090423/interactive-elements.html#the-bb-element</A>
</I>&gt;<i>
</I>&gt;<i> Another alternative would be to use a link relationship perhaps link to
</I>&gt;<i> either a manifest or to the URL of the application itself.
</I>&gt;<i>
</I>&gt;<i> e.g. &lt;a href=&quot;<A HREF="htts://mail.google.com/mail/">htts://mail.google.com/mail/</A>&quot; rel=&quot;application&quot;&gt;.
</I>&gt;<i>
</I>&gt;<i> This could work analogously to rel=&quot;sidebar&quot;, where some browsers recognise
</I>&gt;<i> that and prompt the user to load the link in their sidebar. Although, in
</I>&gt;<i> this case, it could prompt the user to install the app instead.
</I>&gt;<i>
</I>&gt;&gt;<i> // myapp.json
</I>&gt;&gt;<i> {
</I>&gt;&gt;<i> &#160;&quot;name&quot;: &quot;My Application&quot;,
</I>&gt;&gt;<i> &#160;&quot;icons&quot;: ...,
</I>&gt;&gt;<i> &#160;&quot;urls&quot;: [
</I>&gt;&gt;<i> &#160; &#160;&quot;reader/&quot;
</I>&gt;&gt;<i> &#160;],
</I>&gt;&gt;<i> &#160;&quot;permissions&quot;: [
</I>&gt;&gt;<i> &#160; &#160;...
</I>&gt;&gt;<i> &#160;]
</I>&gt;&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> I wonder if there would be a way to integrate this extra information into
</I>&gt;<i> the existing cache manifest file, or into the HTML with &lt;meta&gt; and &lt;link&gt;
</I>&gt;<i> elements, rather than creating a whole new manifest file format.
</I>
I talked to the local app cache expert on Chrome and he felt that it
was a weird combination. For example: what would it mean to have a web
page reference an app cache that contains no resources, only
application definition? &lt;html manifest=&quot;...&quot;&gt; makes a page a &quot;master
page&quot; in an app cache. But if we combine the two features, that might
not be what the author wanted (he might have only intended to get the
application features).

- a
</PRE>
























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026506.html">[whatwg] Installable web apps
</A></li>
	<LI>Next message: <A HREF="026508.html">[whatwg] Problem with http://www.webmproject.org/
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26514">[ date ]</a>
              <a href="thread.html#26514">[ thread ]</a>
              <a href="subject.html#26514">[ subject ]</a>
              <a href="author.html#26514">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
