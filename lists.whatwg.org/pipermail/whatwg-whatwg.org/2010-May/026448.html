<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Image resize API proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Image%20resize%20API%20proposal&In-Reply-To=%3CAANLkTimhmlzSmMQQEkDKmpXWxH_YNMh7kYbRrMo75bp-%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026445.html">
   <LINK REL="Next"  HREF="026463.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Image resize API proposal</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Image%20resize%20API%20proposal&In-Reply-To=%3CAANLkTimhmlzSmMQQEkDKmpXWxH_YNMh7kYbRrMo75bp-%40mail.gmail.com%3E"
       TITLE="[whatwg] Image resize API proposal">robert at ocallahan.org
       </A><BR>
    <I>Sat May 22 03:03:39 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="026445.html">[whatwg] Image resize API proposal
</A></li>
        <LI>Next message: <A HREF="026463.html">[whatwg] Image resize API proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26448">[ date ]</a>
              <a href="thread.html#26448">[ thread ]</a>
              <a href="subject.html#26448">[ subject ]</a>
              <a href="author.html#26448">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, May 22, 2010 at 10:12 AM, David Levin &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">levin at google.com</A>&gt; wrote:

&gt;<i> There are a few issues here:
</I>&gt;<i>
</I>&gt;<i>    1. This only applies when you can accelerate with a GPU. Not all
</I>&gt;<i>    devices may support this.
</I>&gt;<i>    2. This only applies to browsers that implement the acceleration with a
</I>&gt;<i>    GPU. When Mike Shaver mentioned this, he referred to a Windows version of
</I>&gt;<i>    Firefox. It is unclear if Firefox supports this on any other platform nor
</I>&gt;<i>    does it seem that all other browsers will support the accelerated canvas in
</I>&gt;<i>    the near-ish future.
</I>&gt;<i>    3. The gpu results are due to the fact that the operation is done async
</I>&gt;<i>    from the call (which is great as far as not hanging the UI until you try to
</I>&gt;<i>    get the data out of the canvas, which leads to...).
</I>&gt;<i>    4. Even with gpu acceleration, in order to use the result in an xhr,
</I>&gt;<i>    one has to get back the result from the gpu and this is a more expensive
</I>&gt;<i>    operation (because getting the data out of the gpu is slow) as indicated by
</I>&gt;<i>    the indirect copy results from Firefox  and forces the completion of all of
</I>&gt;<i>    the operations that were being done async.
</I>&gt;<i>
</I>&gt;<i>
</I>1. Phones have GPUs now. You won't see new devices being built that can run
real Web browsers but don't have some kind of GPU, because the limiting
factor on hardware now is not silicon but power.
2. Your proposal depends on browsers that implement your new API. As a
browser developer, I would rather make canvas faster across the board than
implement new API.
3. The GPU results are largely because GPUs are massively parallel.
4. The Firefox results include time to unpremultiply data and premultiply it
again, all on the CPU. They don't indicate how long readback from the GPU
actually takes on that machine. Also:
4a) the cost of readback is proportional to the size of the scaled image, so
if your use case is scaling down images to small sizes, readback is cheap.
4b) you can easily read back and send one chunk of the scaled image at a
time

Rob
-- 
&quot;He was pierced for our transgressions, he was crushed for our iniquities;
the punishment that brought us peace was upon him, and by his wounds we are
healed. We all, like sheep, have gone astray, each of us has turned to his
own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
53:5-6]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100522/0973891d/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100522/0973891d/attachment.htm</A>&gt;
</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026445.html">[whatwg] Image resize API proposal
</A></li>
	<LI>Next message: <A HREF="026463.html">[whatwg] Image resize API proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26448">[ date ]</a>
              <a href="thread.html#26448">[ thread ]</a>
              <a href="subject.html#26448">[ subject ]</a>
              <a href="author.html#26448">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
