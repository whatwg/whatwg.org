<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Real-time networking in web applications and games
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Real-time%20networking%20in%20web%20applications%20and%20games&In-Reply-To=%3Cop.vb58d6f4r4mipi%40emoller-pc.gothenburg.osa%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068417.html">
   <LINK REL="Next"  HREF="068418.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Real-time networking in web applications and games</H1>
<!--htdig_noindex-->
    <B>Erik M&#246;ller</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Real-time%20networking%20in%20web%20applications%20and%20games&In-Reply-To=%3Cop.vb58d6f4r4mipi%40emoller-pc.gothenburg.osa%3E"
       TITLE="[whatwg] Real-time networking in web applications and games">emoller at opera.com
       </A><BR>
    <I>Tue May  4 00:57:32 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="068417.html">[whatwg] Real-time networking in web applications and games
</A></li>
        <LI>Next message: <A HREF="068418.html">[whatwg] Do we really need to introduce a &lt;device&gt; element for	giving access to webcams and mikes?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68423">[ date ]</a>
              <a href="thread.html#68423">[ thread ]</a>
              <a href="subject.html#68423">[ subject ]</a>
              <a href="author.html#68423">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, 03 May 2010 23:59:19 +0200, Mark Frohnmayer  
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mark.frohnmayer at gmail.com</A>&gt; wrote:

&gt;<i> Hey all,
</I>&gt;<i>
</I>&gt;<i> In continuation of the effort to make browsers a home for real-time
</I>&gt;<i> peer to peer applications and games without a plugin, I've done a bit
</I>&gt;<i> of digging on the spec.  Currently the spec contains section 4.11.6.2
</I>&gt;<i> (Peer-to-peer connections) that appears to present a high-level
</I>&gt;<i> peer-to-peer api with separate functionality for peer connection and
</I>&gt;<i> transmission of text, images and streamed data interleaved in some
</I>&gt;<i> unspecified protocol.  Also referenced from the spec is WebSocket, a
</I>&gt;<i> thin-layer protocol presenting what amounts to a simple guaranteed
</I>&gt;<i> packet stream between client and server.
</I>&gt;<i>
</I>&gt;<i> For the purposes of discussion there seem to be two distinct issues -
</I>&gt;<i> peer introduction, where two clients establish a direct connection via
</I>&gt;<i> some trusted third party, and data transmission protocol which could
</I>&gt;<i> range from raw UDP to higher-level protocols like XML-RPC over HTTP.
</I>&gt;<i>
</I>&gt;<i> For real-time games, specific concerns include flow control, protocol
</I>&gt;<i> overhead and retransmission policy; thus most real-time games
</I>&gt;<i> implement custom network protocols atop UDP.  Peer introduction is
</I>&gt;<i> also important - responsiveness can often be improved and hosting
</I>&gt;<i> bandwidth costs reduced by having peers connect directly.  For other
</I>&gt;<i> p2p apps (chat, etc), specific control of flow and data retransmission
</I>&gt;<i> may be less (or not) important, but peer introduction is still
</I>&gt;<i> relevant.
</I>&gt;<i>
</I>&gt;<i> In reading of the current state of the spec's p2p section, it appears
</I>&gt;<i> to be poorly suiting to real-time gaming applications, as well as
</I>&gt;<i> potentially over-scoped for specific p2p applications.  To demonstrate
</I>&gt;<i> an alternative approach, the initial prototype of the TorqueSocket
</I>&gt;<i> plugin now works (build script for OS X only).  The API as spec'd
</I>&gt;<i> here:  
</I>&gt;<i> <A HREF="http://github.com/nardo/torque_sockets/raw/master/TorqueSocket_API.txt">http://github.com/nardo/torque_sockets/raw/master/TorqueSocket_API.txt</A>
</I>&gt;<i> now actually functions in the form of an NPAPI plugin.  I recorded a
</I>&gt;<i> capture of the javascript test program here:
</I>&gt;<i> <A HREF="http://www.youtube.com/watch?v=HijKc5AwYHM">http://www.youtube.com/watch?v=HijKc5AwYHM</A> if you want to see it in
</I>&gt;<i> action without actually building the example.
</I>&gt;<i>
</I>&gt;<i> This leads me to wonder about (1) the viability of including peer
</I>&gt;<i> introduction into WebSocket as an alternative to a high-level peer to
</I>&gt;<i> peer interface in the spec, (2) including a lower-level unreliable
</I>&gt;<i> protocol mode, either as part or distinct from WebSocket, and (3) who,
</I>&gt;<i> if anyone, is currently driving the p2p section of the spec.
</I>&gt;<i>
</I>&gt;<i> Any feedback welcome :).
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Mark
</I>&gt;<i>
</I>
I'm an old gamedev recently turned browserdev so this is of particular  
interest to me, especially as I'm currently working on WebSockets.
WebSockets is a nice step towards multiplayer games in browsers and will  
be even better once binary frames are speced out but as Mark says  
(depending on the nature of the game) gamedevs are most likely going to  
want to make their own UDP based protocol (in client-server models as  
well). Has there been any discussions on how this would fit under  
WebSockets?

Opera Unite can be mentioned as an interesting side note, it does peer  
introduction as well as subnet peer detection, but again that's TCP only.

-- 
Erik M&#246;ller
Core Developer
Opera Software

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068417.html">[whatwg] Real-time networking in web applications and games
</A></li>
	<LI>Next message: <A HREF="068418.html">[whatwg] Do we really need to introduce a &lt;device&gt; element for	giving access to webcams and mikes?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68423">[ date ]</a>
              <a href="thread.html#68423">[ thread ]</a>
              <a href="subject.html#68423">[ subject ]</a>
              <a href="author.html#68423">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
