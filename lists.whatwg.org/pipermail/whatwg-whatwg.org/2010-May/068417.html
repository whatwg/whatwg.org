<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Real-time networking in web applications and games
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Real-time%20networking%20in%20web%20applications%20and%20games&In-Reply-To=%3Cg2obd73083b1005031459w5c4f8978w54e7765a03575d8a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068416.html">
   <LINK REL="Next"  HREF="068423.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Real-time networking in web applications and games</H1>
<!--htdig_noindex-->
    <B>Mark Frohnmayer</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Real-time%20networking%20in%20web%20applications%20and%20games&In-Reply-To=%3Cg2obd73083b1005031459w5c4f8978w54e7765a03575d8a%40mail.gmail.com%3E"
       TITLE="[whatwg] Real-time networking in web applications and games">mark.frohnmayer at gmail.com
       </A><BR>
    <I>Mon May  3 14:59:19 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="068416.html">[whatwg] The Rapidly Approaching Dawn of data uri
</A></li>
        <LI>Next message: <A HREF="068423.html">[whatwg] Real-time networking in web applications and games
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68417">[ date ]</a>
              <a href="thread.html#68417">[ thread ]</a>
              <a href="subject.html#68417">[ subject ]</a>
              <a href="author.html#68417">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hey all,

In continuation of the effort to make browsers a home for real-time
peer to peer applications and games without a plugin, I've done a bit
of digging on the spec.  Currently the spec contains section 4.11.6.2
(Peer-to-peer connections) that appears to present a high-level
peer-to-peer api with separate functionality for peer connection and
transmission of text, images and streamed data interleaved in some
unspecified protocol.  Also referenced from the spec is WebSocket, a
thin-layer protocol presenting what amounts to a simple guaranteed
packet stream between client and server.

For the purposes of discussion there seem to be two distinct issues -
peer introduction, where two clients establish a direct connection via
some trusted third party, and data transmission protocol which could
range from raw UDP to higher-level protocols like XML-RPC over HTTP.

For real-time games, specific concerns include flow control, protocol
overhead and retransmission policy; thus most real-time games
implement custom network protocols atop UDP.  Peer introduction is
also important - responsiveness can often be improved and hosting
bandwidth costs reduced by having peers connect directly.  For other
p2p apps (chat, etc), specific control of flow and data retransmission
may be less (or not) important, but peer introduction is still
relevant.

In reading of the current state of the spec's p2p section, it appears
to be poorly suiting to real-time gaming applications, as well as
potentially over-scoped for specific p2p applications.  To demonstrate
an alternative approach, the initial prototype of the TorqueSocket
plugin now works (build script for OS X only).  The API as spec'd
here: <A HREF="http://github.com/nardo/torque_sockets/raw/master/TorqueSocket_API.txt">http://github.com/nardo/torque_sockets/raw/master/TorqueSocket_API.txt</A>
now actually functions in the form of an NPAPI plugin.  I recorded a
capture of the javascript test program here:
<A HREF="http://www.youtube.com/watch?v=HijKc5AwYHM">http://www.youtube.com/watch?v=HijKc5AwYHM</A> if you want to see it in
action without actually building the example.

This leads me to wonder about (1) the viability of including peer
introduction into WebSocket as an alternative to a high-level peer to
peer interface in the spec, (2) including a lower-level unreliable
protocol mode, either as part or distinct from WebSocket, and (3) who,
if anyone, is currently driving the p2p section of the spec.

Any feedback welcome :).

Cheers,
Mark

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068416.html">[whatwg] The Rapidly Approaching Dawn of data uri
</A></li>
	<LI>Next message: <A HREF="068423.html">[whatwg] Real-time networking in web applications and games
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68417">[ date ]</a>
              <a href="thread.html#68417">[ thread ]</a>
              <a href="subject.html#68417">[ subject ]</a>
              <a href="author.html#68417">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
