<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Request for new DOM property textarea.selectionText
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Request%20for%20new%20DOM%20property%20textarea.selectionText&In-Reply-To=%3CAANLkTinFcffemAo94FCkOwPdYq_DX2gi1e_Z_ZpLtCKt%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068523.html">
   <LINK REL="Next"  HREF="068531.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Request for new DOM property textarea.selectionText</H1>
<!--htdig_noindex-->
    <B>Biju</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Request%20for%20new%20DOM%20property%20textarea.selectionText&In-Reply-To=%3CAANLkTinFcffemAo94FCkOwPdYq_DX2gi1e_Z_ZpLtCKt%40mail.gmail.com%3E"
       TITLE="[whatwg] Request for new DOM property textarea.selectionText">bijumaillist at gmail.com
       </A><BR>
    <I>Mon May 10 00:59:00 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="068523.html">[whatwg] Request for new DOM property textarea.selectionText
</A></li>
        <LI>Next message: <A HREF="068531.html">[whatwg] Request for new DOM property textarea.selectionText
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68524">[ date ]</a>
              <a href="thread.html#68524">[ thread ]</a>
              <a href="subject.html#68524">[ subject ]</a>
              <a href="author.html#68524">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Current way in firefox is to

1. OrigStart = textarea.selectionStart
2.  textarea.value = textarea.value.substr(0, OrigStart)
                          + new_text_to_replace
                          + textarea.value.substr(textarea.selectionEnd);
3. Now u loose original selection, so

4.  textarea.setSelectionRange(OrigStart,  OrigStart+new_text_to_replace.length)
5.  remember .scrollTop and reapply if needed

Now if we are only changing few selected characters in TEXTAREA with
big text content,
we are unnecessarily replacing entire content, which is inefficient.


On IE even though wierd you can do it simply by
   document.selection.createRange().text = new_text_to_replace;
BTW, you need to make sure the selection is currently on the
textarea/input form control.
IE is also very fast when doing that, when firefox hangs few second
using the other way

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068523.html">[whatwg] Request for new DOM property textarea.selectionText
</A></li>
	<LI>Next message: <A HREF="068531.html">[whatwg] Request for new DOM property textarea.selectionText
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68524">[ date ]</a>
              <a href="thread.html#68524">[ thread ]</a>
              <a href="subject.html#68524">[ subject ]</a>
              <a href="author.html#68524">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
