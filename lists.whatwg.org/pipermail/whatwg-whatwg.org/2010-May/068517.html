<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Security thoughts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Security%20thoughts&In-Reply-To=%3CFA5B25AB-E211-4724-B9C3-B7AFB5073AE0%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068516.html">
   <LINK REL="Next"  HREF="068518.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Security thoughts</H1>
<!--htdig_noindex-->
    <B>Perry Smith</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Security%20thoughts&In-Reply-To=%3CFA5B25AB-E211-4724-B9C3-B7AFB5073AE0%40gmail.com%3E"
       TITLE="[whatwg] Security thoughts">pedzsan at gmail.com
       </A><BR>
    <I>Sun May  9 16:31:58 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="068516.html">[whatwg] syncronous device upload
</A></li>
        <LI>Next message: <A HREF="068518.html">[whatwg] Security thoughts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68517">[ date ]</a>
              <a href="thread.html#68517">[ thread ]</a>
              <a href="subject.html#68517">[ subject ]</a>
              <a href="author.html#68517">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>In HTML5 6.3.1 Relaxing The Same Origin Restriction [1] bullet 3, sub bullet 3 there is a clause that says that if the domain is reduced down to something that is on the Public Suffix List, the new value is rejected.  That phrase caused me to pause.

I was wondering about internal attacks.  First, we need to assume a couple of things but they are relatively easy to assume.  The first is that the relaxing of the restriction has a valid use.  This seems easy or it would not be in the spec.  The second is that an internal domain can effectively be a public suffix list to users on the internal intranet.  For example, at the place I work, I connect my laptop to the wifi, it grabs an address and also registers the name.  Even if the name was not registered, it would still have some DNS entry.  The point is that all DNS entries within this subdomain are not trusted.

If we have a site like official_site.area_subdomain.big.com which relaxes the restriction to area_subdomain.big.com, it is now exposed to the potential of an attack from any of the systems within the same area_subdomain including laptops connected via wifi.  The wifi is secure.  The place I work at trusts me to some degree but with a large corporation, they very often try to restrict information on the &quot;need to know&quot; basis.  And, corporate espionage is a real threat.

I don't know how common it is for internal corporate sites to relax the same origin restriction but I could see it becoming more and more common as they try to take advantage of various technologies.

The corporations could take steps of course to secure the sites.  They could put all official web sites in their own subdomain and then relax to this more trusted subdomain.

The purposed of this email is to ask if a warning should be added in the 3rd bullet to advise web developers of internal sites to be careful in assuming that all the hosts on their internal subdomain are trusted.

Thanks,
Perry

[1] <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/origin-0.html#relaxing-the-same-origin-restriction">http://www.whatwg.org/specs/web-apps/current-work/multipage/origin-0.html#relaxing-the-same-origin-restriction</A>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068516.html">[whatwg] syncronous device upload
</A></li>
	<LI>Next message: <A HREF="068518.html">[whatwg] Security thoughts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68517">[ date ]</a>
              <a href="thread.html#68517">[ thread ]</a>
              <a href="subject.html#68517">[ subject ]</a>
              <a href="author.html#68517">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
