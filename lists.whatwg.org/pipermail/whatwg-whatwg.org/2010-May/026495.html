<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Image resize API proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Image%20resize%20API%20proposal&In-Reply-To=%3CFAC6BF56-5D90-4B65-9924-0CAF05858939%40geekhood.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026489.html">
   <LINK REL="Next"  HREF="026497.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Image resize API proposal</H1>
<!--htdig_noindex-->
    <B>Kornel Lesinski</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Image%20resize%20API%20proposal&In-Reply-To=%3CFAC6BF56-5D90-4B65-9924-0CAF05858939%40geekhood.net%3E"
       TITLE="[whatwg] Image resize API proposal">kornel at geekhood.net
       </A><BR>
    <I>Tue May 25 03:58:55 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="026489.html">[whatwg] Image resize API proposal
</A></li>
        <LI>Next message: <A HREF="026497.html">[whatwg] Image resize API proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26495">[ date ]</a>
              <a href="thread.html#26495">[ thread ]</a>
              <a href="subject.html#26495">[ subject ]</a>
              <a href="author.html#26495">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 24 May 2010, at 22:09, David Levin wrote:

&gt;<i> &gt; that even if it was implemented everywhere, this solution involves readback
</I>&gt;<i> &gt; from the GPU which, as Chris mentioned, is generally evil and should be
</I>&gt;<i> &gt; avoided at all costs.
</I>&gt;<i> 
</I>&gt;<i> This I'm not qualified to comment on, though.  To the best of my
</I>&gt;<i> knowledge, GPUs are magical boxes that make things go faster via pixie
</I>&gt;<i> dust.  ;)
</I>&gt;<i> 
</I>&gt;<i> Thanks for your opinion. :)
</I>&gt;<i> 
</I>&gt;<i> Chris is qualified so are other people whom I've spoken to who have said the same thing, so using the gpu is not pixie dust in this particular scenario even though folks would like to be believe it so.
</I>
I think GPU readback is a red herring. It's an operation that takes milliseconds. It's &quot;slow&quot; for realtime graphics, but it's not something that user is going to notice when uploading images &#8212; users are not uploading hundreds of images per second.

If UA can parallelize decoding, scaling, encoding and sending, the operation can be very fast and memory-efficient, even if scaling is done very slowly (it won't have noticeable impact as long as it's not slower than uploading).

JPEG can be efficiently decoded at fraction of its size &#8212; without full decode and scale process. This process also needs only fraction of memory required for full scaling, which might matter on low-end mobile devices. Letting UA utilize this feature may give huge performance gains.

Scaling isn't the only operation desirable &#8212; in some cases users might also want to crop the image (e.g., to upload only their face as an avatar), and cropping interface needs to be platform-specific &#8212; on touchscreen devices I'd rather use gestures than select-by-click'n'drag interface typical for desktop. 

I think scaling of images before upload might be left completely up to UA. From site's perspective it could look like user simply selected scaled-down file. It could even be done declaratively &#8212; site could define desired size and whether user should be asked to crop the image:

&lt;input type=&quot;file&quot; accept=&quot;image/*&quot; max-image-size=&quot;1000x1000&quot; crop=&quot;allowed&quot;&gt;

Actually, I wish UAs offered scaling even for plain &lt;input type=file&gt;, because I don't expect every site with image upload to add extra code for resizing.

-- 
regards, Kornel

</PRE>



<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026489.html">[whatwg] Image resize API proposal
</A></li>
	<LI>Next message: <A HREF="026497.html">[whatwg] Image resize API proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26495">[ date ]</a>
              <a href="thread.html#26495">[ thread ]</a>
              <a href="subject.html#26495">[ subject ]</a>
              <a href="author.html#26495">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
