<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] WebSockets: what to do when there are too many open	connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebSockets%3A%20what%20to%20do%20when%20there%20are%20too%20many%20open%0A%09connections&In-Reply-To=%3CAANLkTikOmzN2RCygEyP54upgosr_ZkgY-85S8YpWyQ-K%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026326.html">
   <LINK REL="Next"  HREF="026329.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] WebSockets: what to do when there are too many open	connections</H1>
<!--htdig_noindex-->
    <B>Michael Nordman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebSockets%3A%20what%20to%20do%20when%20there%20are%20too%20many%20open%0A%09connections&In-Reply-To=%3CAANLkTikOmzN2RCygEyP54upgosr_ZkgY-85S8YpWyQ-K%40mail.gmail.com%3E"
       TITLE="[whatwg] WebSockets: what to do when there are too many open	connections">michaeln at google.com
       </A><BR>
    <I>Thu May 13 18:20:57 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="026326.html">[whatwg] WebSockets: what to do when there are too many open	connections
</A></li>
        <LI>Next message: <A HREF="026329.html">[whatwg] WebSockets: what to do when there are too many open connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26328">[ date ]</a>
              <a href="thread.html#26328">[ thread ]</a>
              <a href="subject.html#26328">[ subject ]</a>
              <a href="author.html#26328">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I think that queuing in chrome bends the intent of the createWorker api just
a little too far and will be happy to see it go away. I'd rather it failed
outright then pretend to succeed when it really hasn't.

(Actually that queuing code complicates the impl somewhat too... can you
tell its been annoying me recently ;)

On Thu, May 13, 2010 at 5:36 PM, Dmitry Titov &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dimich at chromium.org</A>&gt; wrote:

&gt;<i> As an example from a bit different area, in Chrome the Web Workers today
</I>&gt;<i> require a separate process per worker. It's not good to create too many
</I>&gt;<i> processes so there is a relatively low limit per origin and higher total
</I>&gt;<i> limit. Two limits help avoid situation when 1 bad page affects others. Once
</I>&gt;<i> limit is reached, the worker objects are created but queued, on a theory
</I>&gt;<i> that pages of the same origin could cooperate, while if a total limit is
</I>&gt;<i> blown then hopefully it's a temporary condition. Not ideal but if there
</I>&gt;<i> should be a limit we thought having 2 limits (origin/total) is better then
</I>&gt;<i> have only a total one.
</I>

&gt;<i>
</I>&gt;<i> On Thu, May 13, 2010 at 4:55 PM, Perry Smith &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">pedzsan at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On May 13, 2010, at 12:40 PM, Mike Shaver wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; The question is whether you queue or give an error.  When hitting the
</I>&gt;&gt;<i> &gt; RFC-ish per-host connection limits, browsers queue additional requests
</I>&gt;&gt;<i> &gt; from &lt;img&gt; or such, rather than erroring them out.  Not sure that's
</I>&gt;&gt;<i> &gt; the right model here, but I worry about how much boilerplate code
</I>&gt;&gt;<i> &gt; there will need to be to retry the connection (asynchronously) to
</I>&gt;&gt;<i> &gt; handle failures, and whether people will end up writing it or just
</I>&gt;&gt;<i> &gt; hoping for the best.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ah.  Thats a good question.  (Maybe that was the original question.)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Since web sockets is the topic and as far as I know web sockets are only
</I>&gt;&gt;<i> used by javascript, I would prefer an error over queuing them up.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I think javascript and browser facilities have what is needed to create
</I>&gt;&gt;<i> its own retry mechanism if that is what a particular situation wants.  I
</I>&gt;&gt;<i> don't see driving the retry via a scripting language to be bad.  Its not
</I>&gt;&gt;<i> that hard and it won't happen that often.  And it gives the javascript
</I>&gt;&gt;<i> authors more control and choices.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thats my vote...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> pedz
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100513/0d7a9f02/attachment-0001.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100513/0d7a9f02/attachment-0001.htm</A>&gt;
</PRE>






























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026326.html">[whatwg] WebSockets: what to do when there are too many open	connections
</A></li>
	<LI>Next message: <A HREF="026329.html">[whatwg] WebSockets: what to do when there are too many open connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26328">[ date ]</a>
              <a href="thread.html#26328">[ thread ]</a>
              <a href="subject.html#26328">[ subject ]</a>
              <a href="author.html#26328">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
