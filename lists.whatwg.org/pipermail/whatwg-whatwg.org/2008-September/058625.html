<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Dealing with UI redress vulnerabilities inherent to the current web
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Dealing%20with%20UI%20redress%20vulnerabilities%20inherent%20to%0A%20the%20current%20web&In-Reply-To=%3CPine.LNX.4.64.0809291328410.10659%40dione.cc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="058629.html">
   <LINK REL="Next"  HREF="058626.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Dealing with UI redress vulnerabilities inherent to the current web</H1>
<!--htdig_noindex-->
    <B>Michal Zalewski</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Dealing%20with%20UI%20redress%20vulnerabilities%20inherent%20to%0A%20the%20current%20web&In-Reply-To=%3CPine.LNX.4.64.0809291328410.10659%40dione.cc%3E"
       TITLE="[whatwg] Dealing with UI redress vulnerabilities inherent to the current web">lcamtuf at dione.cc
       </A><BR>
    <I>Mon Sep 29 04:41:59 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="058629.html">[whatwg] Dealing with UI redress vulnerabilities inherent tothe	current web
</A></li>
        <LI>Next message: <A HREF="058626.html">[whatwg] Dealing with UI redress vulnerabilities inherent to the current web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58625">[ date ]</a>
              <a href="thread.html#58625">[ thread ]</a>
              <a href="subject.html#58625">[ subject ]</a>
              <a href="author.html#58625">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, 29 Sep 2008, Hallvord R M Steen wrote:

&gt;<i> To give webmasters more ways to deal with this situation, I think we 
</I>&gt;<i> should implement the Access Control &quot;Origin&quot; HTTP-header only (assuming 
</I>&gt;<i> that it should refer to the top site in the frameset hierarchy).
</I>
I definitely like the &quot;Origin&quot; proposal the most of all the opt-in 
schemes, simply because it permits trusted domains to be whitelisted for 
many applications that rely on same-origin separation to implement 
security sandboxes.

It still completely ignores the question of how we protect gadgets / 
mashups / whatever that are *designed* to be embedded on potentially 
untrusted sites, but depend on having the integrity of their UIs 
preserved, so I think we need - or well, should - tackle this aspect 
separately if this is the consensus for now.

Note that the current implementation proposals for &quot;Origin&quot; headers (which 
I believe are limited to non-GET, non-HEAD requests) would not prevent 
this attack, nor some other potential attack vectors; they would probably 
need to be modified to include &quot;Origin&quot; header on SRC= GET requests on 
IFRAME / EMBED / OBJECT / APPLET.

Extending the scheme to include SCRIPT would also cover script-inclusion 
attacks; extending it to all automated navigation (SRC=, REL=, scripted 
form submissions and location updates, etc) would prevent a broader set of 
XSRF and XSS attacks than the original proposal, but that's purely 
optional. But the bottom line is, there are some extra birds we could hit 
with that stone.

&gt;<i> Sites may want to use any of several policies in a &quot;somebody framed
</I>&gt;<i> me&quot; situation. For example, these are all policies a site may want to
</I>&gt;<i> deploy:
</I>&gt;<i>
</I>&gt;<i> 1. nobody may frame my content
</I>&gt;<i> 2. selected sites only may frame my content
</I>&gt;<i> 3. anyone may frame my content but not re-use an existing session
</I>&gt;<i> 4. anyone may frame my content
</I>
As noted, one important scenario which we do not account for is &quot;5. anyone 
may iframe my content, but I want my UI not to get clobbered&quot;. This would 
realistically be the expectation for almost any privileged / authenticated 
gadget to be embedded on third-party pages.

Cheers,
/mz

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="058629.html">[whatwg] Dealing with UI redress vulnerabilities inherent tothe	current web
</A></li>
	<LI>Next message: <A HREF="058626.html">[whatwg] Dealing with UI redress vulnerabilities inherent to the current web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58625">[ date ]</a>
              <a href="thread.html#58625">[ thread ]</a>
              <a href="subject.html#58625">[ subject ]</a>
              <a href="author.html#58625">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
