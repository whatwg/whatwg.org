<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Dealing with UI redress vulnerabilities inherent to	the current web
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Dealing%20with%20UI%20redress%20vulnerabilities%20inherent%20to%0A%09the%20current%20web&In-Reply-To=%3C11e306600809300408g7a5c7249ic4a65be60c405b0%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016388.html">
   <LINK REL="Next"  HREF="016389.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Dealing with UI redress vulnerabilities inherent to	the current web</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Dealing%20with%20UI%20redress%20vulnerabilities%20inherent%20to%0A%09the%20current%20web&In-Reply-To=%3C11e306600809300408g7a5c7249ic4a65be60c405b0%40mail.gmail.com%3E"
       TITLE="[whatwg] Dealing with UI redress vulnerabilities inherent to	the current web">robert at ocallahan.org
       </A><BR>
    <I>Tue Sep 30 04:08:43 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="016388.html">[whatwg] Dealing with UI redress vulnerabilities inherent to the current web
</A></li>
        <LI>Next message: <A HREF="016389.html">[whatwg] Dealing with UI redress vulnerabilities inherent to the current web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16390">[ date ]</a>
              <a href="thread.html#16390">[ thread ]</a>
              <a href="subject.html#16390">[ subject ]</a>
              <a href="author.html#16390">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Sep 30, 2008 at 11:16 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:

&gt;<i> On Tue, 30 Sep 2008, Robert O'Callahan wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I don't think this would really work for Google. Many widgets (e.g.
</I>&gt;<i> &gt; &gt; the mapping widget) are expected to be placed on any site, but how
</I>&gt;<i> &gt; &gt; could the widget provider know who is evil and who isn't? What about
</I>&gt;<i> &gt; &gt; if an otherwise not evil site is compromised? (This happens regularly,
</I>&gt;<i> &gt; &gt; especially with, e.g., sites with forum software or blog software.) We
</I>&gt;<i> &gt; &gt; don't want a vulnerability in a widget host site to immediately allow
</I>&gt;<i> &gt; &gt; this kind of attack on all the widgets that that site hosts.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Choose your friends carefully.
</I>&gt;<i>
</I>&gt;<i> I'm not sure how that helps here. Are you saying widget providers
</I>&gt;<i> shouldn't do business with site owners who use popular blogging tools?
</I>&gt;<i>
</I>
I'm saying that widget providers shouldn't let privileged UI be framed by
sites they don't trust to do their job right.

Maybe that sounds harsh. But of course it's less harsh than the reality of
the situation we find ourselves in today.

&gt;<i> But really, why does this mapping widget need to expose UI that can be
</I>&gt;<i> &gt; abused to do evil things with my Google account?
</I>&gt;<i>
</I>&gt;<i> In the case of the mapping widget it doesn't, but consider a chat widget,
</I>&gt;<i> that enables users to chat with the site owner. If this widget had a
</I>&gt;<i> button that sent a message, a hostile site could perform a DDOS attack on
</I>&gt;<i> the site owner by embedding the widget host itself in an iframe, and
</I>&gt;<i> aligning everything such that all the users tricked into going to that
</I>&gt;<i> page and logged in to the chat widget would cause the victim site owner to
</I>&gt;<i> get messaged, potentially resulting in thousands of such messages.
</I>

In this example, the site owner is at fault because they should have ensured
that their widget-hosting page was not frameable by the hostile site. So it
doesn't show a weakness in the model.

So far in this discussion, we have a shortage of examples where a gadget has
to be widely embeddable, and it has to have UI that triggers privileged
operations, and those operations have to enable harmful consequences to
agents other than the embeddor, and opening a new window or tab to confirm
those operations is unreasonable. These are the examples that demand
elaborate &quot;option 3&quot; measures. Since the claim is that these examples are
common, I'd like to know more about them.


&gt;<i> &gt; &gt; Secondly, consider Google Image Search, or Reddit with its &quot;open link
</I>&gt;<i> &gt; &gt; with reddit toolbar&quot; option, or any other site that allows arbitrary
</I>&gt;<i> &gt; &gt; Web navigation in a frame or iframe while hosting some sort of toolbar
</I>&gt;<i> &gt; &gt; content from its own page in another frame or container page. This
</I>&gt;<i> &gt; &gt; option would mean that many sites would stop working with these
</I>&gt;<i> &gt; &gt; containers, despite these containers not doing anything evil (there's
</I>&gt;<i> &gt; &gt; no overlapping content, the user is fully aware of what's going on,
</I>&gt;<i> &gt; &gt; etc).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If I understand correctly, with Michal's option 3, those sites would
</I>&gt;<i> &gt; also stop working as soon as the user scrolled down in the framed page
</I>&gt;<i> &gt; (so that the top-left of the framed page is out of view).
</I>&gt;<i>
</I>&gt;<i> Any solution that breaks those sites is a non-starter IMHO.
</I>&gt;<i>
</I>
Apparently &quot;option 3&quot; doesn't break them, although I have some questions
about that.

But it seems strange to say that breaking such sites is a &quot;non-starter&quot;.
Suppose a major browser added support for universal Origin headers and
Access Controls and some kind of &quot;Requires-Access-Controls&quot; server header.
If I run a site and I care about security and I don't care about being
framed in Google Image Search or these other framing sites (assuming they
don't drive much traffic to my site, or at least the parts of my site I want
to protect) --- why shouldn't I welcome these measures and deploy them?

Are you saying it would be irresponsible of browser vendors to support such
features, because it would allow selfish behaviour of some sites to disrupt
services provided by third parties?

Rob
-- 
&quot;He was pierced for our transgressions, he was crushed for our iniquities;
the punishment that brought us peace was upon him, and by his wounds we are
healed. We all, like sheep, have gone astray, each of us has turned to his
own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
53:5-6]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20081001/7609bb59/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20081001/7609bb59/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016388.html">[whatwg] Dealing with UI redress vulnerabilities inherent to the current web
</A></li>
	<LI>Next message: <A HREF="016389.html">[whatwg] Dealing with UI redress vulnerabilities inherent to the current web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16390">[ date ]</a>
              <a href="thread.html#16390">[ thread ]</a>
              <a href="subject.html#16390">[ subject ]</a>
              <a href="author.html#16390">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
