<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas performance issue: setting colors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20performance%20issue%3A%20setting%20colors&In-Reply-To=%3C74CCFAFC-1DD4-4BA3-80CF-B651BDC467D8%40w3future.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="058642.html">
   <LINK REL="Next"  HREF="058656.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas performance issue: setting colors</H1>
<!--htdig_noindex-->
    <B>Sjoerd Visscher</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20performance%20issue%3A%20setting%20colors&In-Reply-To=%3C74CCFAFC-1DD4-4BA3-80CF-B651BDC467D8%40w3future.com%3E"
       TITLE="[whatwg] Canvas performance issue: setting colors">sjoerd at w3future.com
       </A><BR>
    <I>Tue Sep 30 01:09:45 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="058642.html">[whatwg] Canvas performance issue: setting colors
</A></li>
        <LI>Next message: <A HREF="058656.html">[whatwg] Canvas performance issue: setting colors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58655">[ date ]</a>
              <a href="thread.html#58655">[ thread ]</a>
              <a href="subject.html#58655">[ subject ]</a>
              <a href="author.html#58655">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I guess this applies to the other methods and attributes of canvas as  
well. The majority of canvas methods are constructed in a way that  
allows an almost direct mapping to a C/C++ call. So when all the  
canvas code is perfectly optimized, the color code will probably still  
be the bottleneck. Unless you say that serializing floats to string  
and concatenating them and then parsing the string again can be done  
just as fast as creating and destructing a color object.

On Sep 30, 2008, at 12:53 AM, Oliver Hunt wrote:

&gt;<i>
</I>&gt;&gt;<i> I think the canvas api should get 2 new methods:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> CanvasColor createRGBAColor(in float r, in float g, in float b, in  
</I>&gt;&gt;<i> float a)
</I>&gt;&gt;<i> CanvasColor createHSLAColor(in float h, in float s, in float l, in  
</I>&gt;&gt;<i> float a)
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> WebKit already has a non-standard function -- setFillColor(r, g, b,  
</I>&gt;<i> a) -- that provides a faster mechanism to set the colour, however we  
</I>&gt;<i> believe we can rather easily improve the performance of the standard  
</I>&gt;<i> fillStyle, strokeStyle properties and just have not yet gotten round  
</I>&gt;<i> to it.  Until we have improved this I would be hesitant to go around  
</I>&gt;<i> adding entirely new object types (especially canvas specific ones).
</I>&gt;<i>
</I>&gt;<i> --Oliver
</I>&gt;<i>
</I>
--
Sjoerd Visscher
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">sjoerd at w3future.com</A>




</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="058642.html">[whatwg] Canvas performance issue: setting colors
</A></li>
	<LI>Next message: <A HREF="058656.html">[whatwg] Canvas performance issue: setting colors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58655">[ date ]</a>
              <a href="thread.html#58655">[ thread ]</a>
              <a href="subject.html#58655">[ subject ]</a>
              <a href="author.html#58655">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
