<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] textContent and bidi
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20textContent%20and%20bidi&In-Reply-To=%3C457001F8.2080207%40inkedblade.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050660.html">
   <LINK REL="Next"  HREF="050446.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] textContent and bidi</H1>
<!--htdig_noindex-->
    <B>fantasai</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20textContent%20and%20bidi&In-Reply-To=%3C457001F8.2080207%40inkedblade.net%3E"
       TITLE="[whatwg] textContent and bidi">fantasai.lists at inkedblade.net
       </A><BR>
    <I>Fri Dec  1 02:20:40 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="050660.html">[whatwg] markup as authored in practice
</A></li>
        <LI>Next message: <A HREF="050446.html">[whatwg] HTML syntax: Tag omission and attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50445">[ date ]</a>
              <a href="thread.html#50445">[ thread ]</a>
              <a href="subject.html#50445">[ subject ]</a>
              <a href="author.html#50445">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> On Sun, 26 Nov 2006, fantasai wrote:
</I>&gt;&gt;<i> Ran across this comment:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/#features">http://www.whatwg.org/specs/web-apps/current-work/#features</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   # Should textContent be defined differently for dir=&quot;&quot; and &lt;bdo&gt;?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What would it mean to define textContent differently for dir=&quot;&quot; and &lt;bdo&gt;?
</I>&gt;<i> 
</I>&gt;<i> The question is really whether we want an attribute that, when it 
</I>&gt;<i> serialises the DOM, serialises things like &lt;img alt=&quot;&quot;&gt; to the element's 
</I>&gt;<i> alt text, serialises things like dir=&quot;&quot; to embed the requisite bidi 
</I>&gt;<i> formatting characters, etc. (Obviously we can't redefine textContent 
</I>&gt;<i> itself, and innerText is subtly different as well.)
</I>
Yeah, I can see how that would be interesting.

Note, that for &lt;bdo&gt; in a CSS browser, the equivalent bidi formatting
codes will depend on the display value of the element and its descendants.
   <A HREF="http://www.w3.org/TR/CSS21/visuren.html#propdef-unicode-bidi">http://www.w3.org/TR/CSS21/visuren.html#propdef-unicode-bidi</A>
If you did that, you'd have to define the codes independently of CSS.

BTW, for 'dir', I think the inheritance behavior should be a little more
clearly specified:

# If the attribute is omitted or has another value, then the directionality
# is unchanged.

Unchanged from what?

You should specify that the initial value (i.e. what &lt;html&gt; gets in the
absence of any other declarations) is ltr.

You should also somehow make a reference (either directly or indirectly)
to UAX 9. Your text doesn't anywhere specify what &quot;directionality&quot; means.
The closest we get is an example referencing CSS2.1's sample style sheet.
Saying only that the processing layer is responsible for handling the 'dir'
attribute not only doesn't give enough information about what is expected,
it also doesn't normatively require use of the Unicode bidi algorithm rather
than some other bidi algorithm. (Other bidi algorithms do exist.)

# For example, CSS 2.1 defines a mapping from this attribute to the CSS
# 'direction' and 'unicode-bidi' properties

s/defines/suggests/
The sample style sheet is informative. THe only normative text about handling
'dir' in CSS2.1 is a sentence that says bidi behavior in HTML is defined by
the HTML 4 specification.

~fantasai

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050660.html">[whatwg] markup as authored in practice
</A></li>
	<LI>Next message: <A HREF="050446.html">[whatwg] HTML syntax: Tag omission and attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50445">[ date ]</a>
              <a href="thread.html#50445">[ thread ]</a>
              <a href="subject.html#50445">[ subject ]</a>
              <a href="author.html#50445">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
