<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Provding Better Tools
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Provding%20Better%20Tools&In-Reply-To=%3CB2D51A52-07E6-4427-9D8E-3232F248E3E7%40michelf.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008339.html">
   <LINK REL="Next"  HREF="008366.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Provding Better Tools</H1>
<!--htdig_noindex-->
    <B>Michel Fortin</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Provding%20Better%20Tools&In-Reply-To=%3CB2D51A52-07E6-4427-9D8E-3232F248E3E7%40michelf.com%3E"
       TITLE="[whatwg] Provding Better Tools">michel.fortin at michelf.com
       </A><BR>
    <I>Sun Dec  3 17:10:34 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="008339.html">[whatwg] Provding Better Tools
</A></li>
        <LI>Next message: <A HREF="008366.html">[whatwg] Provding Better Tools
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8361">[ date ]</a>
              <a href="thread.html#8361">[ thread ]</a>
              <a href="subject.html#8361">[ subject ]</a>
              <a href="author.html#8361">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Le 3 d&#233;c. 2006 &#224; 17:04, J. King a &#233;crit :

&gt;<i> I am.  It's not anywhere near finished yet, but the parser so far  
</I>&gt;<i> goes through the whole document and spits out the appropriate  
</I>&gt;<i> tokens; I just haven't done anything with said tokens yet, mainly  
</I>&gt;<i> because I was discouraged by PHP's DOM implementation.
</I>&gt;<i> My parser is also slow as molasses, unfortunately.
</I>
My experience optimizing PHP Markdown, and building the custom mixed  
Markdown/HTML-block pesudo-tokenizer of PHP Markdown Extra, tells me  
that it'll probably stay very slow as long as the implementation is  
made of PHP code.

Assuming you've implemented the algorithm in the spec as PHP code,  
you could probably make it faster by using regular expressions in the  
tokenization steps instead of iterating character by character. For  
instance, you could implement many of the tokenizer states by  
matching from the start of a string with a regex. And maybe then  
it'll also be possible to combine a couple of states within the same  
regex too.

The more we replace PHP code by regular expressions, the faster it'll  
go, but further we deviate from the processing algorithm described in  
the spec. I wonder how far we could go while keeping the exact same  
behaviour.

The true good solution would be to have a parser implemented in C and  
available through every standard installation of PHP. It could be  
used by other languages too.


Michel Fortin
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">michel.fortin at michelf.com</A>
<A HREF="http://www.michelf.com/">http://www.michelf.com/</A>



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008339.html">[whatwg] Provding Better Tools
</A></li>
	<LI>Next message: <A HREF="008366.html">[whatwg] Provding Better Tools
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8361">[ date ]</a>
              <a href="thread.html#8361">[ thread ]</a>
              <a href="subject.html#8361">[ subject ]</a>
              <a href="author.html#8361">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
