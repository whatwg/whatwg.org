<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] several messages about XML syntax and HTML5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20several%20messages%20about%20XML%20syntax%20and%20HTML5&In-Reply-To=%3CC2798B1D-FC04-4060-8AFC-AF0D15301285%40michelf.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008421.html">
   <LINK REL="Next"  HREF="008446.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] several messages about XML syntax and HTML5</H1>
<!--htdig_noindex-->
    <B>Michel Fortin</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20several%20messages%20about%20XML%20syntax%20and%20HTML5&In-Reply-To=%3CC2798B1D-FC04-4060-8AFC-AF0D15301285%40michelf.com%3E"
       TITLE="[whatwg] several messages about XML syntax and HTML5">michel.fortin at michelf.com
       </A><BR>
    <I>Mon Dec  4 17:05:08 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="008421.html">[whatwg] several messages about XML syntax and HTML5
</A></li>
        <LI>Next message: <A HREF="008446.html">[whatwg] several messages about XML syntax and HTML5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8444">[ date ]</a>
              <a href="thread.html#8444">[ thread ]</a>
              <a href="subject.html#8444">[ subject ]</a>
              <a href="author.html#8444">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Le 4 d&#233;c. 2006 &#224; 14:33, Martin Atkins a &#233;crit :

&gt;<i> Likewise, the content model of the &lt;script&gt; element is &quot;hardcoded&quot;  
</I>&gt;<i> into the parser; there's no way to discover it from the syntax  
</I>&gt;<i> alone. (I'll admit that there's no similar construct to the content  
</I>&gt;<i> model of &lt;script&gt; in XML, however, so this particular difference  
</I>&gt;<i> doesn't pose a problem.)
</I>&gt;<i>
</I>&gt;<i> In order to handle custom elements in HTML while still allowing  
</I>&gt;<i> them to appear in the DOM, you'd have to make some rules such as  
</I>&gt;<i> that no void elements are allowed. You'd have to write otherwise- 
</I>&gt;<i> void elements as, say, &lt;img&gt;&lt;/img&gt; in order to have them handled  
</I>&gt;<i> correctly by the parser.
</I>
It's interesting you mention &lt;script&gt;. If we want some sort of XML  
data island, we could use something like this:

&lt;script type=&quot;text/xml&quot;&gt;
   &lt;xml-content/&gt;
&lt;/script&gt;

Then, after the content of &lt;script&gt; has been gathered, the browser  
could parse it as actual XML, stopping at the first parse error. You  
could even use JavaScript to gather the text from the DOM, parse the  
XML and create the DOM tree accordingly since the text content of the  
script is available in the DOM. The only requirement would be that  
the XML content does not include any &quot;&lt;/script&gt;&quot; itself (See note at  
the end).

I'm not sure if this is a plus or not, but it also seem that this  
syntax is supported by Internet Explorer's data islands[1], although  
I assume IE uses its own special parser mode for this. (But I'm just  
guessing here.)

So that's just an idea. I can't say I'm fond of XML data islands  
myself, nor of the idea of overloading &lt;script&gt; for this, but I think  
this method has the merit of being relatively simple to implement.

Note:
     Practically it seems to work with the parser, but it isn't valid
     since the spec says this about elements such as &lt;script&gt;:

     &gt; CDATA elements can have text, but the text must not contain the
     &gt; two character sequence &quot;&lt;/&quot;.

     So for that to be conformant, this paragraph would need to be  
revised.

[1]: <A HREF="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/</A> 
xmlsdk/html/eb7a2b76-49e9-424c-aa5a-d3cbeeb745e3.asp


Michel Fortin
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">michel.fortin at michelf.com</A>
<A HREF="http://www.michelf.com/">http://www.michelf.com/</A>



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008421.html">[whatwg] several messages about XML syntax and HTML5
</A></li>
	<LI>Next message: <A HREF="008446.html">[whatwg] several messages about XML syntax and HTML5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8444">[ date ]</a>
              <a href="thread.html#8444">[ thread ]</a>
              <a href="subject.html#8444">[ subject ]</a>
              <a href="author.html#8444">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
