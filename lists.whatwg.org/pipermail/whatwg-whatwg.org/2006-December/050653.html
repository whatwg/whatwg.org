<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] PaceEntryMediatype
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20PaceEntryMediatype&In-Reply-To=%3Ca9699fd20612040129t9405158sd7434db50b688d87%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050628.html">
   <LINK REL="Next"  HREF="050811.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] PaceEntryMediatype</H1>
<!--htdig_noindex-->
    <B>Thomas Broyer</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20PaceEntryMediatype&In-Reply-To=%3Ca9699fd20612040129t9405158sd7434db50b688d87%40mail.gmail.com%3E"
       TITLE="[whatwg] PaceEntryMediatype">t.broyer at gmail.com
       </A><BR>
    <I>Mon Dec  4 01:29:21 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="050628.html">[whatwg] PaceEntryMediatype
</A></li>
        <LI>Next message: <A HREF="050811.html">[whatwg] PaceEntryMediatype
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50653">[ date ]</a>
              <a href="thread.html#50653">[ thread ]</a>
              <a href="subject.html#50653">[ subject ]</a>
              <a href="author.html#50653">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>2006/12/4, Ian Hickson:
&gt;<i> On Sun, 3 Dec 2006, Thomas Broyer wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; What I mean is that &quot;being syndication feed&quot; is not a property of a
</I>&gt;<i> &gt; relationship, it's a property of one end of the relationship (the
</I>&gt;<i> &gt; resource the link &quot;starts from&quot; or &quot;points to&quot;); so it has nothing to do
</I>&gt;<i> &gt; with the rel=&quot;&quot; attribute.
</I>&gt;<i>
</I>&gt;<i> I agree, in principle. Unfortunately, for autodiscovery we have to have a
</I>&gt;<i> mechanism that can advertise what the syndaication feeds are without
</I>&gt;<i> requiring the UA to fetch every link, because fetching every link would
</I>&gt;<i> be much slower (and on some networks, fiscally more expensive).
</I>
There's no need to fetch every link if you base your assumptions on
the type=&quot;&quot; attribute (and *only* the type=&quot;&quot; attribute, not the
combination with any special rel=&quot;&quot; attribute value).
If you don't use the type=&quot;&quot; attribute on &lt;link&gt;s, you'll have many
more requests than if you did, because of the &quot;fetch to discover the
content-type&quot; algorithm described for &lt;link&gt; elements, but that's the
author problem, and it's not limited to feed autodiscovery, so&#8230;

&gt;<i> &gt; &gt; So you're proposing making the hundreds of millions of existing
</I>&gt;<i> &gt; &gt; instances of syndication feed links non-conforming?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; No more than they already are.
</I>&gt;<i> &gt; rel=&quot;alternate&quot; is for linking to alternate representations, and
</I>&gt;<i> &gt; hundreds of millions of syndication feed links are not using it that
</I>&gt;<i> &gt; way; they already are non-conforming.
</I>&gt;<i>
</I>&gt;<i> Fair enough. They still exist, though. Browser vendors aren't going to
</I>&gt;<i> stop supporting this. We would be just sticking our heads in the sand if
</I>&gt;<i> we ignored this.
</I>
Many things are marked as &quot;deprecated&quot; in earlier HTML versions, and
are still supported by browsers.
Also, as the misuse of rel=&quot;alternate&quot; is not machine testable, and
given that I don't propose &quot;banning&quot; the use of rel=&quot;alternate&quot; for
feed autodiscovery, I can't see how a browser vendor could &quot;stop
supporting this&quot;.

&gt;<i> &gt; And note that this is something that is not machine-testable, that's why
</I>&gt;<i> &gt; those hundreds of millions of syndication feed links are not caught as
</I>&gt;<i> &gt; &quot;invalid&quot; by validators, as they won't be whatever HTML5 finally says.
</I>&gt;<i>
</I>&gt;<i> When people link to an Atom document, they are giving a syndication feed.
</I>&gt;<i> I'm sure theoretically there could be other uses of Atom, but from my
</I>&gt;<i> studies of Web content, I haven't seen any evidence that this is
</I>&gt;<i> widespread enough to deserve special treatment.
</I>
Seems like you really didn't understand my point&#8230;
&#171; rel=&quot;alternate&quot; + type=&quot;RSS or Atom&quot; means rel=&quot;feed alternate&quot; &#187;
*is* special treatment.
&#171; type=&quot;RSS or Atom&quot; means it's a syndication feed, whichever the
rel=&quot;&quot; value &#187; is *not* special treatment.
&#171; rel=&quot;feed&quot; means it's a feed &#8211;with *my* definition of the &quot;feed&quot;
relationship&#8211;, whichever the type=&quot;&quot; value &#187; is *not* special
treatment.


&gt;<i> &gt; In 4.4.3.1 (Link type &quot;alternate&quot;), remove this paragraph:
</I>&gt;<i> &gt; &quot;&quot;&quot;If the alternate keyword is used with the type attribute set to the
</I>&gt;<i> &gt; value application/rss+xml or the value application/atom+xml, then the
</I>&gt;<i> &gt; user agent must treat the link as it would if it had the feed keyword
</I>&gt;<i> &gt; specified as well.&quot;&quot;&quot;
</I>&gt;<i>
</I>&gt;<i> Removing this paragraph breaks existing practices.
</I>
No, it doesn't.
&lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; href=&quot;A&quot;&gt; links to a
syndication feed, not because of the rel=&quot;alternate&quot; or its
combination with the type=&quot;application/rss+xml&quot;, but just because of
the type=&quot;application/rss+xml&quot;.
We have a problem with application/atom+xml because it can represent
either a feed or a standalone entry, but the Atom WG is working on
this issue (either we'll have a new 'type' parameter:
application/atom+xml;type=entry, or a new media type:
application/atom.entry+xml), so Atom won't be any different from RSS.
And given that I redefine rel=&quot;feed&quot; and feed autodiscovery (see
below), the above quoted paragraph is no longer appropriate.

&gt;<i> &gt; Remove rel=&quot;feed&quot; or, if you really think it's different from
</I>&gt;<i> &gt; rel=&quot;index&quot;, define it that way:
</I>&gt;<i> &gt; &quot;&quot;&quot;The feed keyword indicates that the referenced document is a
</I>&gt;<i> &gt; syndication feed which is or has been linking to the current page as a
</I>&gt;<i> &gt; feed item.
</I>&gt;<i> &gt; For example, in a Web log, a page representing a single entry can link
</I>&gt;<i> &gt; to the Web log homepage and/or the Web log's Atom or RSS feed using
</I>&gt;<i> &gt; using the link type feed.&quot;&quot;&quot;
</I>&gt;<i>
</I>&gt;<i> There are syndication feeds that don't fit this definition.
</I>
Of course yes, and they will be discovered based on the content-type,
and rel=&quot;&quot; will deserve its real role: describing the relationship
between the two resources (and not describing the other end of the
link).

Definition of feed: a bag of items; the representation of a feed
generally exposes only the 10, or so, latest created or updated items.
You'll note that this has nothing to do with the feed &quot;format&quot; (Atom,
RSS, a Web log's homepage in HTML, etc.)
If a document was once linked from a feed's representation as an item,
it is an item of this feed, even if the feed's current representation
doesn't link to it anymore. The relationship still exists. This
relationship is &quot;I am an item of this feed&quot; or &quot;this is a feed within
which I once appeared&quot;. I propose representing it as rel=&quot;feed&quot;.

&gt;<i> For example, a home page could link to various feeds for things like
</I>&gt;<i> planned outages, news, press releases, etc, not all of which might be
</I>&gt;<i> on the page itself.
</I>
What do you mean by &quot;might be on the page itself&quot;?

Anyway, if you link to something, there's a reason. This reason is
that there is a relationship between the current document and the
thing the link points to. This relationship is described in the rel=&quot;&quot;
attribute.
&quot;It is *a* feed&quot; is not a valid reason, it doesn't describe a relationship.
&quot;This is an alternate representation of this page in a format you can
subscribe to&quot; is a valid reason: it's an alternate representation.
&quot;I am an item of this feed&quot; is a valid reason: I was once linked from
it, so you'll find other similar things you might be interested in
(because they are from the same author, or about the same subject,
etc. this is to be &quot;explained&quot; to the user using the title=&quot;&quot;
attribute, that's not something a &quot;machine&quot; has to know about).

&gt;<i> &gt; If you really want to deal with feed autodiscovery (which I believe it
</I>&gt;<i> &gt; shouldn't be part of HTML5), add something like this to section 3.5.4
</I>&gt;<i> &gt; (The link element; feed autodiscovery should be limited to &lt;link&gt;
</I>&gt;<i> &gt; elements, and given that it's how it's done today, it causes no
</I>&gt;<i> &gt; backwards compatibility problem):
</I>&gt;<i> &gt; &quot;&quot;&quot;For example, external resource links with the type attribute set to
</I>&gt;<i> &gt; the value application/rss+xml or the value application/atom+xml or
</I>&gt;<i> &gt; with the link type feed may be recognized as links to subscribable
</I>&gt;<i> &gt; resources for the purpose of feed autodiscovery.
</I>&gt;<i> &gt; &quot;&quot;&quot;
</I>&gt;<i>
</I>&gt;<i> This is not well-defined enough. We need something far more specific than
</I>&gt;<i> an example in order to foster interoperability. Also, I don't really see
</I>&gt;<i> how the end result here is anything different from what the spec says,
</I>&gt;<i> other than being more vague.
</I>
Well, rel=&quot;feed&quot; as it is defined now in HTML5 *is* vague.

I propose using the diversity of rel=&quot;&quot; values whichever the content
type (for example, from a Web log's &quot;archive&quot; page &#8211;e.g. &quot;entries from
Septembre 2006&quot;&#8211;, linking to the Web log's homepage could be done with
rel=&quot;first&quot;, or rel=&quot;last&quot; depending on how you consider the set of
documents... There's no reason it couldn't be allowed, and detected as
a &quot;feed link&quot; depending on other aspects of the link, such as its
type=&quot;&quot; value).

Is what you want an algorithm for feed autodiscovery?

for each &lt;link&gt; in the document:
    if @rel=&quot;feed&quot;:
        if canSubscribeTo(@type)*:
            add to list of &quot;links to feeds&quot;
    if isSubscribable(@type)*:
        add to list of &quot;links to feeds&quot;

* canSubscribeTo: &lt;link rel=&quot;feed&quot;&gt; could point to an HTML page.
There's no reason some aggregators couldn't subscribe to it if it uses
HTML5's &lt;article&gt; or the hAtom microformat, for example. If this is
the case, canSubscribeTo would return true for &quot;text/html&quot;. @type is
the type=&quot;&quot; attribute if present, or the Content-Type returned by a
fetch.
 * isSubscribable: returns true if the type is any recognized
&quot;subscribable content type&quot;: RSS  or Atom, but also
text/vnd.IPTC.NewsML for example. @type is the type=&quot;&quot; attribute if
present, or the Content-Type returned by a fetch.

It all depends on the capabilities of the UA&#8230;

Now that you have a list of &quot;links to feeds&quot;, you can, for example,
present them to the user. For that, you can group links based on their
rel=&quot;&quot; value, for example in the way I did in
<A HREF="http://listserver.dreamhost.com/pipermail/whatwg-whatwg.org/2006-December/008238.html">http://listserver.dreamhost.com/pipermail/whatwg-whatwg.org/2006-December/008238.html</A>
That's only an example, it shouldn't appear into the spec, I well
understood this.

I don't think there is a need to select only *one* such link, but if
you really want to, pick the first one (in document order) with
rel=&quot;alternate&quot;. If there isn't any, pick the first one with
rel=&quot;feed&quot;. If there isn't any either, pick the first one, whichever
its rel=&quot;&quot; value.

-- 
Thomas Broyer
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050628.html">[whatwg] PaceEntryMediatype
</A></li>
	<LI>Next message: <A HREF="050811.html">[whatwg] PaceEntryMediatype
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50653">[ date ]</a>
              <a href="thread.html#50653">[ thread ]</a>
              <a href="subject.html#50653">[ subject ]</a>
              <a href="author.html#50653">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
