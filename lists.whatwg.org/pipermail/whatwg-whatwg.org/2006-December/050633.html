<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTML syntax: comments before doctype and	doctypesniffing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%20syntax%3A%20comments%20before%20doctype%20and%0A%09doctypesniffing&In-Reply-To=%3Cn2m-g.bep6n2t715tnruvkv6fl1g1p5hd54tbm7f%404ax.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050629.html">
   <LINK REL="Next"  HREF="050621.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTML syntax: comments before doctype and	doctypesniffing</H1>
<!--htdig_noindex-->
    <B>Spartanicus</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%20syntax%3A%20comments%20before%20doctype%20and%0A%09doctypesniffing&In-Reply-To=%3Cn2m-g.bep6n2t715tnruvkv6fl1g1p5hd54tbm7f%404ax.com%3E"
       TITLE="[whatwg] HTML syntax: comments before doctype and	doctypesniffing">spartanicus.3 at ntlworld.ie
       </A><BR>
    <I>Sun Dec  3 16:57:17 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="050629.html">[whatwg] HTML syntax: comments before doctype and	doctypesniffing
</A></li>
        <LI>Next message: <A HREF="050621.html">[whatwg] Parsing: Permitted slashes between attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50633">[ date ]</a>
              <a href="thread.html#50633">[ thread ]</a>
              <a href="subject.html#50633">[ subject ]</a>
              <a href="author.html#50633">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&quot;Simon Pieters&quot; &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">zcorpan at hotmail.com</A>&gt; wrote:

&gt;&gt;<i>I'm assuming that this comment merely documents IE's current behaviour.
</I>&gt;&gt;<i>Please ignore my other comment if I'm wrong.
</I>&gt;<i>
</I>&gt;<i>A comment before the doctype has equal status as lack of doctype or an 
</I>&gt;<i>incorrect doctype. Hence, conformance checkers will flag such documents as 
</I>&gt;<i>non-conforming, and the syntax section should only allow things that will 
</I>&gt;<i>pass conformance checking.
</I>
OK, I noticed that myself whilst experimenting with Henri's validator
recently. If the current HTML5 draft is contradictory in the parsing vs
syntax section then that could make arguments to allow it irrelevant.

&gt;&gt;<i>There are valid reasons to kick IE into quirks mode whilst triggering
</I>&gt;&gt;<i>&quot;standards mode&quot; in other browsers.
</I>&gt;<i>
</I>&gt;<i>What are those reasons?
</I>
I could be way off base here, but I expected future HTML5 compliant
browsers not to change the doctype sniffing mechanisms/rules that are
currently used, since as far as I understand the HTML5 &lt;!DOCTYPE html&gt;
currently already triggers standards mode in current browsers.

If that assumption is true then allowing SGML comments to precede the
doctype could result in better compatibility of such future HTML5
compliant browsers with existing web content authored to trigger quirks
mode in IE.

Some examples of why triggering IE's quirks mode could be useful to
authors:

IE6 in &quot;standards mode&quot; introduces new bugs compared to IE5.5. 
Since IE6 in quirks mode does a pretty good job of emulating the 5.5
bugs, an author may prefer to deal with one set of IE bugs and
associated workarounds and hacks. I have authored sites with the aim of
keeping them compatible with IE5.5 without resorting to IE5.5 vs IE6
distinguishing hacks such as the Tantek hack. Kicking IE6 into quirks
mode was the easier option.

I orphaned off a number of sites some time ago, this was before the IE7
betas emerged. In the hope of standing a better chance of getting those
sites to render in a future IE7 I gambled that MS might restrict for
example support for the child selector to &quot;standards mode&quot;. These sites
extensively used the child selector hack to apply fallback CSS for IE
and advanced CSS for proper browsers, advanced CSS that by that time I
knew IE7 was unlikely to support (like generated content or CSS tables).

-- 
Spartanicus

(email whitelist in use, non list-server mail will not be seen)

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050629.html">[whatwg] HTML syntax: comments before doctype and	doctypesniffing
</A></li>
	<LI>Next message: <A HREF="050621.html">[whatwg] Parsing: Permitted slashes between attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50633">[ date ]</a>
              <a href="thread.html#50633">[ thread ]</a>
              <a href="subject.html#50633">[ subject ]</a>
              <a href="author.html#50633">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
