<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Stroking algorithm in Canvas 2d
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Stroking%20algorithm%20in%20Canvas%202d&In-Reply-To=%3CCABpaAqQFx71oeoF3_vqCZnSqhnrVTMEgZzn8FYdM8QPnYHWZcQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040717.html">
   <LINK REL="Next"  HREF="083000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Stroking algorithm in Canvas 2d</H1>
<!--htdig_noindex-->
    <B>Justin Novosad</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Stroking%20algorithm%20in%20Canvas%202d&In-Reply-To=%3CCABpaAqQFx71oeoF3_vqCZnSqhnrVTMEgZzn8FYdM8QPnYHWZcQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Stroking algorithm in Canvas 2d">junov at google.com
       </A><BR>
    <I>Fri Sep  6 07:11:57 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="040717.html">[whatwg] Stroking algorithm in Canvas 2d
</A></li>
        <LI>Next message: <A HREF="083000.html">[whatwg] Stroking algorithm in Canvas 2d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82998">[ date ]</a>
              <a href="thread.html#82998">[ thread ]</a>
              <a href="subject.html#82998">[ subject ]</a>
              <a href="author.html#82998">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Sep 5, 2013 at 11:48 PM, Rik Cabanier &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">cabanier at gmail.com</A>&gt; wrote:

&gt;<i> All,
</I>&gt;<i>
</I>&gt;<i> we've looked over the algorithm in the Canvas spec that describes how
</I>&gt;<i> strokes are computed. [1]
</I>&gt;<i> We think that this section is making some incorrect assumptions. For
</I>&gt;<i> instance, the dashes are calculated over the total lenght of all subpaths,
</I>&gt;<i> but each subpath should be treated separately.
</I>&gt;<i>
</I>
Why? Don't we want there to be continuity in the dash pattern across joins?
Especially considering that step 3 of the algorithm breaks all subpaths
into elementary line segment subpaths.  Or am I misunderstanding your
comment?


&gt;<i> It's also a bit strange that the spec is trying to describe how to stroke.
</I>&gt;<i> For instance, it goes in minute detail on how dashes are applied but the
</I>&gt;<i> hardest part of stroking (&quot;inflating the paths in path perpendicular to the
</I>&gt;<i> direction&quot;) is not described at all. Wouldn't it be better to remove all
</I>&gt;<i> these steps and simply show the desired effect?
</I>&gt;<i>
</I>
I agree.  I think it would be clearer if the spec focused on what the
expected output is.  I see the current algorithm-based specification as
unnecessarily challenging for implementors and web developers alike. The
challenge for implementors is that this algorithm in unlikely to be
implemented exactly as is since implementors will want to leverage
services, respect constraints, and consider performance characteristics of
the graphics APIs they are using.  In other words, implementors are likely
to have to figure-out alternate algorithms that produce equivalent results,
which means they have to start by reverse-engineering the spec in order to
figure-out what the desired output is. Reverse-engineering the spec is also
necessary just for writing conformance tests. The algorithm in itself is
still very useful as an example of how the spec could be implemented.

FWIW, In general I have no issue with other parts of the spec that are
specified as algorithms. It is just this one that I find particularly
unwieldy.

If not, what would be the best way to fix the wording? The mailing list or
&gt;<i> a bug?
</I>&gt;<i>
</I>&gt;<i> 1:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#trace-a-path">http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#trace-a-path</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040717.html">[whatwg] Stroking algorithm in Canvas 2d
</A></li>
	<LI>Next message: <A HREF="083000.html">[whatwg] Stroking algorithm in Canvas 2d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82998">[ date ]</a>
              <a href="thread.html#82998">[ thread ]</a>
              <a href="subject.html#82998">[ subject ]</a>
              <a href="author.html#82998">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
