<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Notifications: usage feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Notifications%3A%20usage%20feedback&In-Reply-To=%3CCAHgY_ifxZQQSvYfoJ%3D%3DRi5ZvG9N7Uu%2BXu%2ByiQFarmmRycaSZ4g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083178.html">
   <LINK REL="Next"  HREF="040908.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Notifications: usage feedback</H1>
<!--htdig_noindex-->
    <B>James Burke</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Notifications%3A%20usage%20feedback&In-Reply-To=%3CCAHgY_ifxZQQSvYfoJ%3D%3DRi5ZvG9N7Uu%2BXu%2ByiQFarmmRycaSZ4g%40mail.gmail.com%3E"
       TITLE="[whatwg] Notifications: usage feedback">jrburke at gmail.com
       </A><BR>
    <I>Mon Sep 30 17:27:18 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083178.html">[whatwg] Notifications: usage feedback
</A></li>
        <LI>Next message: <A HREF="040908.html">[whatwg] 2D canvas feature proposal: text decoration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83209">[ date ]</a>
              <a href="thread.html#83209">[ thread ]</a>
              <a href="subject.html#83209">[ subject ]</a>
              <a href="author.html#83209">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Sep 27, 2013 at 12:54 AM, Andrew Wilson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">atwilson at google.com</A>&gt; wrote:
&gt;<i> So, I'm not entirely sure how many lessons taken from the FirefoxOS
</I>&gt;<i> implementation are applicable to the API for web pages in general, but I
</I>&gt;<i> agree that &quot;what do we do if the user clicks on a notification after the
</I>&gt;<i> parent page has been closed&quot; is a bit of an unsolved/unsolveable problem
</I>&gt;<i> with the current API.
</I>
Hopefully the mobile focus of FirefoxOS points to likely issues for
any browser on mobile.

For example, I can see where it will be common for mobile browsers to
do some sort of web page quiescence, even a full close, maybe just
saving a screenshot of the tab, for memory concerns, even if the user
still considers the tab &quot;open&quot;. I expect the majority of browser use
over time will fit into devices that fit the &quot;mobile space&quot; definition
vs desktop space definition.

&gt;<i> I dimly recall seeing an email thread proposing adding some kind of click
</I>&gt;<i> URL to a notification (and my search-fu is not strong enough to find a link
</I>&gt;<i> to it, sadly), which seems like it would address some of the issues you have
</I>&gt;<i> with the current API (encoding data that can be passed back to the app on a
</I>&gt;<i> notification click, even if the app has been closed in the meantime). The
</I>&gt;<i> solution I've seen implemented on the web (shutdown notifications when a web
</I>&gt;<i> page is closed) clearly doesn't work for a platform like FirefoxOS which
</I>&gt;<i> does memory management and app shutdown behind the scenes.
</I>
An URL could work too (our hack right now is to attach data to the
imageURL for the notification and read that data), but I still I
prefer using a data object for the data of the notification.

The notification object could have an URL associated with it, and the
browser would open the URL if it did not already have a tab/process
for it, then send a data message to it, but if the URL was already
open, just send a data message to it with the notification object.

In that approach the URL would not have querystring args, and the
browser would match the URL to the URLs of existing opened tabs/apps,
but without the query string or fragment ID to find a match. This
would allow an already open page to handle multiple notification
clicks via an entry point message handler discussed in the first post
on this thread.

In the cases of memory conscious browsers, it could rehydrate the tab
that was currently tracked for that URL, and it would still work
without needing to maintain closure state as compared to the
notification.onclick/onclose route currently specified.

James

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083178.html">[whatwg] Notifications: usage feedback
</A></li>
	<LI>Next message: <A HREF="040908.html">[whatwg] 2D canvas feature proposal: text decoration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83209">[ date ]</a>
              <a href="thread.html#83209">[ thread ]</a>
              <a href="subject.html#83209">[ subject ]</a>
              <a href="author.html#83209">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
