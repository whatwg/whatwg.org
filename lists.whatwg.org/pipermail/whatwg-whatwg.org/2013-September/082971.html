<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Zip archives as first-class citizens
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Zip%20archives%20as%20first-class%20citizens&In-Reply-To=%3CCANr5HFXoWf3VVB0XzTbZzmC%3DA9isHoVo3CAUSPLdeC%3Dz%2BeqJqA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082943.html">
   <LINK REL="Next"  HREF="082972.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Zip archives as first-class citizens</H1>
<!--htdig_noindex-->
    <B>Alex Russell</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Zip%20archives%20as%20first-class%20citizens&In-Reply-To=%3CCANr5HFXoWf3VVB0XzTbZzmC%3DA9isHoVo3CAUSPLdeC%3Dz%2BeqJqA%40mail.gmail.com%3E"
       TITLE="[whatwg] Zip archives as first-class citizens">slightlyoff at google.com
       </A><BR>
    <I>Wed Sep  4 23:18:27 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082943.html">[whatwg] Zip archives as first-class citizens
</A></li>
        <LI>Next message: <A HREF="082972.html">[whatwg] Zip archives as first-class citizens
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82971">[ date ]</a>
              <a href="thread.html#82971">[ thread ]</a>
              <a href="subject.html#82971">[ subject ]</a>
              <a href="author.html#82971">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Aug 28, 2013 at 9:20 AM, Jonas Sicking &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonas at sicking.cc</A>&gt; wrote:

&gt;<i> On Wed, Aug 28, 2013 at 8:04 AM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:
</I>&gt;<i> &gt; On 8/28/13 9:32 AM, Anne van Kesteren wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I'm not sure we need to consider sub-scheme if zip-path can work as
</I>&gt;<i> &gt;&gt; it's more complex and not very well thought out. E.g. imagine
</I>&gt;<i> &gt;&gt; view-source:zip:<A HREF="http://www.example.org/zip!test.html.">http://www.example.org/zip!test.html.</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; What's the issue with that?  Gecko supports that (with jar:, not zip:),
</I>&gt;<i> &gt; fwiw.
</I>&gt;<i>
</I>&gt;<i> I have two concerns with the scheme-based approach.
</I>&gt;<i>
</I>&gt;<i> * It dramatically complicates origin handling. This is something we've
</I>&gt;<i> seen multiple times in gecko and something that I expect authors will
</I>&gt;<i> struggle with too.
</I>&gt;<i>
</I>&gt;<i> * It makes it impossible to have create a relative URL from inside the
</I>&gt;<i> zip file to refer to something on the same server but outside of the
</I>&gt;<i> zip file. Since anything outside of the zip file uses a different
</I>&gt;<i> scheme, it means that you have to use an absolute URL. Not even URLs
</I>&gt;<i> starting with &quot;/&quot; nor &quot;//&quot; can be used.
</I>

Apologies for being late to the thread. Just wanted to agree with both of
these points. This only seems valuable to me if we can do it in the context
of http(s)://.


&gt;<i> &gt; 3)  We have implementation experience with the &quot;sub-scheme&quot; approach and
</I>&gt;<i> we
</I>&gt;<i> &gt; know it can work just fine (existence proof is jar: in Gecko).  The main
</I>&gt;<i> &gt; difficulty it introduces is that computing the origin needs to be done
</I>&gt;<i> via
</I>&gt;<i> &gt; object accessors, not string-parsing...  Do we have any implementation
</I>&gt;<i> &gt; experience with &quot;zip-path&quot;-like approaches?
</I>&gt;<i>
</I>&gt;<i> I don't know about &quot;can work just fine&quot;. Sure, if everyone does the
</I>&gt;<i> right thing, then it works. But we're having to strictly enforce that
</I>&gt;<i> no one does string parsing by hand and instead use URL objects and
</I>&gt;<i> Principal objects. Neither of which really are an option on the web
</I>&gt;<i> right now as all URL-related APIs use strings.
</I>&gt;<i>
</I>&gt;<i> &gt; I don't think relative URIs should ever escape a zip archive (though I do
</I>&gt;<i> &gt; appreciate the way that would let someone replace directories with
</I>&gt;<i> zipped-up
</I>&gt;<i> &gt; versions of those directories).  The reason for that is that allowing it
</I>&gt;<i> &gt; sometimes but not others seems really weird to me, and it seems like we
</I>&gt;<i> &gt; don't want to allow it for toplevel zip archives.
</I>&gt;<i>
</I>&gt;<i> Why not?
</I>&gt;<i>
</I>&gt;<i> / Jonas
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082943.html">[whatwg] Zip archives as first-class citizens
</A></li>
	<LI>Next message: <A HREF="082972.html">[whatwg] Zip archives as first-class citizens
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82971">[ date ]</a>
              <a href="thread.html#82971">[ thread ]</a>
              <a href="subject.html#82971">[ subject ]</a>
              <a href="author.html#82971">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
