<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [[GetOwnProperty]] for named properties of the Window object
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5B%5BGetOwnProperty%5D%5D%20for%20named%20properties%20of%20the%20Window%0A%20object&In-Reply-To=%3CDED137DB-3BD8-4298-A427-FBF2BC33EEE5%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083060.html">
   <LINK REL="Next"  HREF="083077.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [[GetOwnProperty]] for named properties of the Window object</H1>
<!--htdig_noindex-->
    <B>Gavin Barraclough</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5B%5BGetOwnProperty%5D%5D%20for%20named%20properties%20of%20the%20Window%0A%20object&In-Reply-To=%3CDED137DB-3BD8-4298-A427-FBF2BC33EEE5%40apple.com%3E"
       TITLE="[whatwg] [[GetOwnProperty]] for named properties of the Window object">barraclough at apple.com
       </A><BR>
    <I>Thu Sep 12 11:36:53 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083060.html">[whatwg] [[GetOwnProperty]] for named properties of the Window object
</A></li>
        <LI>Next message: <A HREF="083077.html">[whatwg] [[GetOwnProperty]] for named properties of the Window object
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83075">[ date ]</a>
              <a href="thread.html#83075">[ thread ]</a>
              <a href="subject.html#83075">[ subject ]</a>
              <a href="author.html#83075">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sep 11, 2013, at 6:07 PM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at MIT.EDU</A>&gt; wrote:

&gt;<i> On 9/11/13 6:05 PM, Gavin Barraclough wrote:
</I>&gt;&gt;<i> Interesting, I had just assumed this was okay &#8211; is it not spec-compliant for Window.prototype to be a named properties object?
</I>&gt;<i> 
</I>&gt;<i> No, it's not.  The spec defines exactly what the prototype chain looks like here.  See the definitions of [[Prototype]] <A HREF="athttp://dev.w3.org/2006/webapi/WebIDL/#named-properties-object">athttp://dev.w3.org/2006/webapi/WebIDL/#named-properties-object</A> and <A HREF="http://dev.w3.org/2006/webapi/WebIDL/#interface-prototype-object">http://dev.w3.org/2006/webapi/WebIDL/#interface-prototype-object</A> (item 1 at the latter).
</I>
Ah, got it, thanks.  I&#8217;d only spotted the partial description in <A HREF="http://dev.w3.org/2006/webapi/WebIDL/#Global">http://dev.w3.org/2006/webapi/WebIDL/#Global</A>

&gt;<i> So the chain by default is window -&gt; Window.prototype -&gt; named properties object -&gt; EventTarget.prototype -&gt; Object.prototype.
</I>&gt;<i> 
</I>&gt;<i> This allows specification of the named properties object without having to worry about weird interactions with name collisions on Window.prototype, whether with properties it has by default or properties someone wants to add to it.  Note that the named properties object does not allow [[DefineOwnProperty]], so if it were Window.prototype then you wouldn't be able to add any properties to Window.prototype!
</I>&gt;<i> 
</I>&gt;&gt;<i> I believe these properties are implemented as shadowable in the same way as [Replaceable] properties
</I>&gt;<i> 
</I>&gt;<i> [Replaceable] properties need the magic they have because they're accessor properties, which normally can't be shadowed via assignment.
</I>&gt;<i> 
</I>&gt;<i> But named properties on the named properties object are value properties, so simply making them writable allows them to be shadowed. In fact, that's the only way to make them shadowable.
</I>
Got it.

&gt;&gt;<i> (and then assume a modified behaviour of ES [Put] for properties with this attribute, to permit overwrite even if readonly).
</I>&gt;<i> 
</I>&gt;<i> I don't think a special [Put] is needed if the properties aren't readonly.
</I>
Hmmm, interesting.  I was thinking that in the case that a shadowing property was put to the named property object itself, then deleted, this needed further description (as the old property reappears) &#8211; but I guess that it just covered by the current spec [[GetOwnProperty]] implementation.

Many thanks,
Gavin
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083060.html">[whatwg] [[GetOwnProperty]] for named properties of the Window object
</A></li>
	<LI>Next message: <A HREF="083077.html">[whatwg] [[GetOwnProperty]] for named properties of the Window object
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83075">[ date ]</a>
              <a href="thread.html#83075">[ thread ]</a>
              <a href="subject.html#83075">[ subject ]</a>
              <a href="author.html#83075">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
