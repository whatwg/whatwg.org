<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Why are we merging Document and HTMLDocument again?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Why%20are%20we%20merging%20Document%20and%20HTMLDocument%20again%3F&In-Reply-To=%3Calpine.DEB.2.00.1309130409200.12210%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083085.html">
   <LINK REL="Next"  HREF="083089.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Why are we merging Document and HTMLDocument again?</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Why%20are%20we%20merging%20Document%20and%20HTMLDocument%20again%3F&In-Reply-To=%3Calpine.DEB.2.00.1309130409200.12210%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Why are we merging Document and HTMLDocument again?">ian at hixie.ch
       </A><BR>
    <I>Thu Sep 12 21:15:05 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083085.html">[whatwg] Why are we merging Document and HTMLDocument again?
</A></li>
        <LI>Next message: <A HREF="083089.html">[whatwg] Why are we merging Document and HTMLDocument again?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83086">[ date ]</a>
              <a href="thread.html#83086">[ thread ]</a>
              <a href="subject.html#83086">[ subject ]</a>
              <a href="author.html#83086">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 12 Sep 2013, Ryosuke Niwa wrote:
&gt;<i> On Sep 12, 2013, at 2:00 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; On Thu, 12 Sep 2013, Ryosuke Niwa wrote:
</I>&gt;<i> &gt;&gt; On Sep 12, 2013, at 11:43 AM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> &gt;&gt;&gt; So you also support having a Document descendant that is used for 
</I>&gt;<i> &gt;&gt;&gt; Documents that have global scopes / browsing contexts / the works, 
</I>&gt;<i> &gt;&gt;&gt; and one that is used for Documents that don't (e.g. 
</I>&gt;<i> &gt;&gt;&gt; createDocument(), XHR), where the former has the named getter and 
</I>&gt;<i> &gt;&gt;&gt; the latter doesn't?
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; I think that's what I'm suggesting except that I'm suggesting to keep 
</I>&gt;<i> &gt;&gt; calling the former HTMLDocument.
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; As far as I checked, SVGDocument and alike don't have named getter 
</I>&gt;<i> &gt;&gt; either so I'd rather not introduce it any non-HTML document.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; What's an &quot;HTML document&quot; in this world? Something served using 
</I>&gt;<i> &gt; text/html? Something with a browsing context? Some combination 
</I>&gt;<i> &gt; thereof?
</I>&gt;<i> 
</I>&gt;<i> I'm not trying to invent anything new here. HTMLDocument as existed 
</I>&gt;<i> before the merge.
</I>
Ok, I guess I'm confused then, because earlier you said you agreed with 
the idea of removing this feature from non-browsing-context Documents, 
which is a different criteria.


&gt;<i> &gt; SVGDocument is supposed to be merged into Document as well. The idea 
</I>&gt;<i> &gt; is to not have any descendants of Document. The reason is that you can 
</I>&gt;<i> &gt; have compound documents that need both the SVG and HTML (and MathML 
</I>&gt;<i> &gt; and FooML) methods. There's no such thing as &quot;non-HTML documents&quot; now. 
</I>&gt;<i> &gt; Documents can have SVG and HTML and mix it at will.
</I>&gt;<i>
</I>&gt;<i> That's okay but there's no point in bringing in legacy features like 
</I>&gt;<i> named property in that new world.
</I>
What we did is bring SVG into the &quot;old world&quot;, so that there's no 
distinction between these new kinds of documents and HTMLDocuments. So on 
the contrary, I don't see how else we could do it if we want it to be 
possible to have HTML and SVG in text/html.


&gt;<i> Named properties impos a significant runtime cost, and we'd like to get 
</I>&gt;<i> rid of them as much as possible. As such, I'm strongly opposed to 
</I>&gt;<i> supporting it in more places.
</I>
What are the places you see us as adding this in? Just XML documents? 
Those are so rare that it doesn't seem to me that it makes much difference 
one way or the other. (That's not saying I don't want to remove them there 
either. We could definitely say something like &quot;the set of named 
properties is empty if the document is not marked as being an &quot;HTML 
document&quot; (in the DOM Core sense) &quot;or if the document has no browsing 
context&quot; -- but that seems orthogonal to the original issue of Document vs 
HTMLDocument vs SVGDocument.)

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083085.html">[whatwg] Why are we merging Document and HTMLDocument again?
</A></li>
	<LI>Next message: <A HREF="083089.html">[whatwg] Why are we merging Document and HTMLDocument again?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83086">[ date ]</a>
              <a href="thread.html#83086">[ thread ]</a>
              <a href="subject.html#83086">[ subject ]</a>
              <a href="author.html#83086">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
