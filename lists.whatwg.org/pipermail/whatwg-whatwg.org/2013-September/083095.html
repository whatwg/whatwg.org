<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Zip archives as first-class citizens
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Zip%20archives%20as%20first-class%20citizens&In-Reply-To=%3C5232E4A7.5030203%40w3.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082974.html">
   <LINK REL="Next"  HREF="083100.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Zip archives as first-class citizens</H1>
<!--htdig_noindex-->
    <B>Robin Berjon</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Zip%20archives%20as%20first-class%20citizens&In-Reply-To=%3C5232E4A7.5030203%40w3.org%3E"
       TITLE="[whatwg] Zip archives as first-class citizens">robin at w3.org
       </A><BR>
    <I>Fri Sep 13 03:10:47 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082974.html">[whatwg] Zip archives as first-class citizens
</A></li>
        <LI>Next message: <A HREF="083100.html">[whatwg] Zip archives as first-class citizens
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83095">[ date ]</a>
              <a href="thread.html#83095">[ thread ]</a>
              <a href="subject.html#83095">[ subject ]</a>
              <a href="author.html#83095">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 29/08/2013 14:48 , Anne van Kesteren wrote:
&gt;<i> On Thu, Aug 29, 2013 at 1:15 PM, Alexandre Morgaut
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">Alexandre.Morgaut at 4d.com</A>&gt; wrote:
</I>&gt;&gt;<i> In the solution mentioned with &lt;link&gt; tag and a &quot;pack:&quot; like scheme
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;link id=&quot;pack1&quot; rel=&quot;package&quot; src=&quot;/pack1.zip&quot; type=&quot;application/zip&quot; title=&quot;My app global resources&quot;&gt;
</I>&gt;<i>
</I>&gt;<i> I don't think adding a level of indirection is a good idea. I think
</I>&gt;<i> the added complexity is the reason this proposal failed the last time
</I>&gt;<i> and I don't see a reason to revive it.
</I>
Actually, the primary objection I recall from the last round of this was 
that it did not address the major use case that was being considered 
then, which was performance. It's a revisit of &quot;Limi Packages&quot; and it 
would seem that they can 1) be slower than individual files in a fair 
number of cases and 2) bring between nothing and very little compared to 
SPDY.

Of course, that does not remove the value there is in making Zip first 
class for reasons other than performance. If we can do it without the 
above indirection then it clearly is better, but using &lt;link&gt; 
indirection it is possible to make this work without a new scheme, 
without changing the URL syntax, and while opening the door to graceful 
fallback. The basic idea is that you start with this:

   &lt;link rel=&quot;package&quot; href=&quot;/foo.zip&quot;&gt;

and then every URL in the document (e.g. &lt;img src=&quot;/foo.zip/meow.gif&quot;&gt;) 
that's a prefix-match for the link's href gets loaded through the zip. 
Older browsers will fetch /foo.zip/meow.gif, which the server can 
trivially detect as an error and handle by sending the content from 
inside the zip.

I would rather we figured this out without &lt;link&gt;, but apart from the 
indirection I reckon this approach has some nice properties and might 
work if more direct ones don't.

-- 
Robin Berjon - <A HREF="http://berjon.com/">http://berjon.com/</A> - @robinberjon

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082974.html">[whatwg] Zip archives as first-class citizens
</A></li>
	<LI>Next message: <A HREF="083100.html">[whatwg] Zip archives as first-class citizens
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83095">[ date ]</a>
              <a href="thread.html#83095">[ thread ]</a>
              <a href="subject.html#83095">[ subject ]</a>
              <a href="author.html#83095">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
