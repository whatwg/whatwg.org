<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Question about document.referrer (and document.URL, document.location.href) when IDN domains are in use
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Question%20about%20document.referrer%20%28and%20document.URL%2C%0A%20document.location.href%29%20when%20IDN%20domains%20are%20in%20use&In-Reply-To=%3Calpine.DEB.2.00.1309111819130.12210%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083050.html">
   <LINK REL="Next"  HREF="083064.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Question about document.referrer (and document.URL, document.location.href) when IDN domains are in use</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Question%20about%20document.referrer%20%28and%20document.URL%2C%0A%20document.location.href%29%20when%20IDN%20domains%20are%20in%20use&In-Reply-To=%3Calpine.DEB.2.00.1309111819130.12210%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Question about document.referrer (and document.URL, document.location.href) when IDN domains are in use">ian at hixie.ch
       </A><BR>
    <I>Wed Sep 11 11:21:06 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="083050.html">[whatwg] Question about document.referrer (and document.URL, document.location.href) when IDN domains are in use
</A></li>
        <LI>Next message: <A HREF="083064.html">[whatwg] Question about document.referrer (and document.URL, document.location.href) when IDN domains are in use
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83051">[ date ]</a>
              <a href="thread.html#83051">[ thread ]</a>
              <a href="subject.html#83051">[ subject ]</a>
              <a href="author.html#83051">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 11 Sep 2013, Anne van Kesteren wrote:
&gt;<i> On Tue, Sep 10, 2013 at 8:54 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; On Fri, 12 Jul 2013, Anne van Kesteren wrote:
</I>&gt;<i> &gt;&gt; But then we shouldn't garble pathname either and we do because we 
</I>&gt;<i> &gt;&gt; have to. So I'm not sure that line of reasoning makes sense. I do 
</I>&gt;<i> &gt;&gt; think we should offer some kind of conversion utility between the 
</I>&gt;<i> &gt;&gt; two.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It is unfortunate that resolving URLs does that, it's true. But just 
</I>&gt;<i> &gt; because we're constrained here, why should we mess up domains also?
</I>&gt;<i> 
</I>&gt;<i> Consistency.
</I>
Surely the consistency of the API matching the input is more important 
than the consistency of the API _not_ matching the input...


&gt;<i> It means the entire URL is effectively a byte sequence.
</I>
I don't know what you mean here.


&gt;<i> And it's very clear what the DNS lookup will be.
</I>
Why do you think people care more about that than about the URL matching 
what they wrote in the markup?


&gt;<i> And given that they keep insisting on changing what certain code points 
</I>&gt;<i> map to over in IETF-land (with limited support from browser vendors :/), 
</I>&gt;<i> it seems safer too.
</I>
I don't understand what is safer. Surely if the punycoding step keeps 
changing, it's less safe, since it'll mean that the results will change 
without the author expecting it. If we don't punycode in the API, then the 
result will be the same regardless of the punycode step.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083050.html">[whatwg] Question about document.referrer (and document.URL, document.location.href) when IDN domains are in use
</A></li>
	<LI>Next message: <A HREF="083064.html">[whatwg] Question about document.referrer (and document.URL, document.location.href) when IDN domains are in use
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83051">[ date ]</a>
              <a href="thread.html#83051">[ thread ]</a>
              <a href="subject.html#83051">[ subject ]</a>
              <a href="author.html#83051">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
