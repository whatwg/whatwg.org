<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Suggestion for Menus in Web Forms 2.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Suggestion%20for%20Menus%20in%20Web%20Forms%202.0&In-Reply-To=%3CPine.LNX.4.61.0408281610250.8458%40dhalsim.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001990.html">
   <LINK REL="Next"  HREF="002128.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Suggestion for Menus in Web Forms 2.0</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Suggestion%20for%20Menus%20in%20Web%20Forms%202.0&In-Reply-To=%3CPine.LNX.4.61.0408281610250.8458%40dhalsim.dreamhost.com%3E"
       TITLE="[whatwg] Suggestion for Menus in Web Forms 2.0">ian at hixie.ch
       </A><BR>
    <I>Sat Aug 28 09:33:55 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="001990.html">[whatwg] Suggestion for Menus in Web Forms 2.0
</A></li>
        <LI>Next message: <A HREF="002128.html">[whatwg] Suggestion for Menus in Web Forms 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2115">[ date ]</a>
              <a href="thread.html#2115">[ thread ]</a>
              <a href="subject.html#2115">[ subject ]</a>
              <a href="author.html#2115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 26 Aug 2004, Matthew Thomas wrote:
&gt;<i> &gt; 
</I>&gt;<i> &gt; Well, we want to be able to do both, really. Have Web applications run 
</I>&gt;<i> &gt; inside browser chrome, and also have Web applications run as 
</I>&gt;<i> &gt; first-class applications. The latter would of course only be allowed 
</I>&gt;<i> &gt; if the user said that he trusted the site, and so forth, e.g. after 
</I>&gt;<i> &gt; being explose to a Web page that said:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;   :::: Security Warning :::::::::::::::::::::::::::::::::::::
</I>&gt;<i> &gt;   ::                                                       ::
</I>&gt;<i> &gt;   ::  The Web page at this domain:                         ::
</I>&gt;<i> &gt;   ::                                                       ':
</I>&gt;<i> &gt;   ::     paypcl.com
</I>&gt;<i> &gt;   ::
</I>&gt;<i> &gt;   ::  ...wishes to
</I>&gt;<i> 
</I>&gt;<i> At which point I stop reading and blindly hit Enter, because I'm a 
</I>&gt;<i> human, and it's a prompt, and never the twain shall meet. (Yes, good 
</I>&gt;<i> that you put it in the content area rather than in an alert, but that 
</I>&gt;<i> doesn't alter its uncompromising promptiness.)
</I>&gt;<i>
</I>&gt;<i> Five seconds later: Hmmm, hang on, was that paypal.com, or something 
</I>&gt;<i> else? I can't remember. I'll just check the address field ... Oh drat, 
</I>&gt;<i> there isn't one. And I can't turn it back on, either, because there's no 
</I>&gt;<i> View menu any more.
</I>
Hitting enter would cause the page to just load normally in the browser. 
It would be stupid for the default to be &quot;trust this site&quot;.


&gt;<i> &gt;   ::      (( Trust paypcl.com ))  ( Display as Web page )
</I>&gt;<i> 
</I>&gt;<i> I could pick on this particular implementation (for example, 
</I>&gt;<i> www.llanfairpwllgwyngyllgogerychwyrndrobwyll-llantysiliogogogoch.com 
</I>&gt;<i> would have to become &quot;(( Trust www.lla...och.com ))&quot;, in which case 
</I>&gt;<i> www.goohax0rz.evilpeoplelivehere.muahahaogle.com would become &quot;(( Trust 
</I>&gt;<i> www.goo...gle.com ))&quot;, and being used to such ellipsized labels, people 
</I>&gt;<i> would accept the latter unthinkingly) ...
</I>
How about:

  :::: Security Warning :::::::::::::::::::::::::::::::::::::
  ::                                                       ::
  ::  This Web page wishes to launch an application in a   ::
  ::  separate window. Do you trust this domain?           ::
  ::                                                       ::
  ::     paypcl.com                                         '
  ::
  ::             ( Trust this site for now )
  ::
  ::              ( Always trust this site )
  ::
  ::              (( Display as Web page ))
  ::
  :::::.

Would that be better?


&gt;<i> But I won't, because there's a much nastier aspect to allowing sites to 
</I>&gt;<i> replace the UA menus, even optionally.
</I>&gt;<i>
</I>&gt;<i> It's that in a few years, once HTML5 is widely implemented, authors 
</I>&gt;<i> start doing this: &quot;We don't allow copying, printing, saving, or viewing 
</I>&gt;<i> source of articles on this site. To enter the site, please choose 'Enter 
</I>&gt;<i> Example.com' from the 'Enter Here' menu. To see the menu, you must have 
</I>&gt;<i> allowed Example.com application rights ...&quot;
</I>
You're assuming that we give the pages a way to tell if they are running 
in a Web browser or &quot;as a native application&quot;. It could definitely see 
strong arguments for not making it possible to distinguish the two.


&gt;<i> And then there'll be those authors who create a menu bar of 20 menus, 
</I>&gt;<i> and it seems fine on *their* platform (a wrapping multi-line menu bar is 
</I>&gt;<i> only slightly more awful than multi-line tabs, and Microsoft already 
</I>&gt;<i> uses the latter, so it can't be *that* bad, right?), oblivious to those 
</I>&gt;<i> platforms where the menu bar is only ever a single line and menus that 
</I>&gt;<i> don't fit are simply never shown. (That some of your menus are never 
</I>&gt;<i> shown on a particular platform is much more obvious if you're a native 
</I>&gt;<i> developer for that platform.)
</I>
You can always find bad UI, you certainly don't have to give authors 
access to a native menubar to do _that_.


&gt;<i> &gt; One of the problems at the moment is that the menu will be different 
</I>&gt;<i> &gt; if it is interpreted &quot;natively&quot; or if it is rendered just using CSS. 
</I>&gt;<i> &gt; For example, this menu bar/list/whatever:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    &lt;menulist&gt;
</I>&gt;<i> &gt;      &lt;menu label=&quot;File&quot;&gt;
</I>&gt;<i> &gt;        &lt;command label=&quot;Save&quot; ...&gt;
</I>&gt;<i> &gt;        &lt;command label=&quot;Save As...&quot; ...&gt;
</I>&gt;<i> &gt;      &lt;/menu&gt;
</I>&gt;<i> &gt;      &lt;menu label=&quot;Edit&quot;&gt;
</I>&gt;<i> &gt;        &lt;command label=&quot;Cut&quot; ...&gt;
</I>&gt;<i> &gt;        &lt;command label=&quot;Copy&quot; ...&gt;
</I>&gt;<i> &gt;      &lt;/menu&gt;
</I>&gt;<i> &gt;    &lt;/menulist&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; ....would work fine if handled natively -- but the CSS version would 
</I>&gt;<i> &gt; show nothing at all.
</I>&gt;<i> 
</I>&gt;<i> Are you thinking of that as a bug, or a feature?
</I>
Well, both, in a way.

The idea of preventing _menus_ (as in context menus, and the dropping-down 
parts of menu bars) from being rendered by default is definitely a 
feature. It means that the options don't clutter the page until they are 
selected. (There are ways to use the proposed features to display the 
menus in fallback content if that is wanted, but that's another story.)

The problem here is with menu _bars_. That menu bars would show different 
content when handled natively vs when handled by CSS seems like a problem.

I suppose one solution would be to say the markup would have to be:

   &lt;menulist&gt;
     &lt;menulabel&gt;File&lt;/menulabel&gt;
     &lt;menu&gt;
       &lt;command label=&quot;Save&quot; ...&gt;
       &lt;command label=&quot;Save As...&quot; ...&gt;
     &lt;/menu&gt;
     &lt;menulabel&gt;Edit&lt;/menulabel&gt;
     &lt;menu&gt;
       &lt;command label=&quot;Cut&quot; ...&gt;
       &lt;command label=&quot;Copy&quot; ...&gt;
     &lt;/menu&gt;
   &lt;/menulist&gt;

...and that normal &quot;submenu&quot; definitions (&lt;menu label=&quot;&quot;&gt;) would have no 
effect.

Hmm. Let's try that.


&gt;<i> Conceptually, pull-down menus contain commands, boolean options, radio 
</I>&gt;<i> options, separators, and submenus. Except for submenus, HTML already has 
</I>&gt;<i> elements for these: &lt;button&gt;/&lt;a href&gt;, &lt;input type=&quot;checkbox&quot;&gt;, 
</I>&gt;<i> &lt;select&gt;, and &lt;hr&gt;. If a collection of these was wrapped in a &lt;menu&gt; 
</I>&gt;<i> container (together with a &lt;menutitle&gt;), a WA-supporting UA could render 
</I>&gt;<i> it as a pull-down menu (ignoring any elements other than the ones I've 
</I>&gt;<i> listed here and their &lt;label&gt;s).
</I>
Yes yes, this is all already defined by WA1. I'm just talking about the 
menu bar bit here.


&gt;<i> And in a WA-ignorant UA, every item would still be usable; authors could 
</I>&gt;<i> even use &lt;div&gt;s, &lt;table&gt;s, or whatever to optimize the layout for the 
</I>&gt;<i> non-menu case.
</I>
To some extent. The way it's defined now, the &lt;input&gt;/&lt;a&gt;/&lt;button&gt;/&lt;hr&gt;/
&lt;select&gt; elements etc have to be children of the &lt;menu&gt; element (or &lt;li&gt; 
elements that are themselves children of the &lt;menu&gt;).

I suppose we could crawl the entire tree, but that would be quite a bit 
more complicated. Is it worth it?


&gt;<i> &gt; &gt; (Outside a &lt;menulist&gt;, UAs could present a &lt;menu&gt; as a button with a 
</I>&gt;<i> &gt; &gt; downward-pointing triangle at the end of it, just like native 
</I>&gt;<i> &gt; &gt; standalone pull-down menus. This would both advertise their 
</I>&gt;<i> &gt; &gt; menu-ness, and avoid the confusion of them looking like a native 
</I>&gt;<i> &gt; &gt; menu bar.)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; This isn't what authors want, based on what you see on sites today.
</I>&gt;<i> 
</I>&gt;<i> Do you really think authors would reject the opportunity to drop their 
</I>&gt;<i> code-heavy and (almost invariably) buggy JS-driven pull-down menus in 
</I>&gt;<i> exchange for faster, lighter, more reliable native pull-down menus, 
</I>&gt;<i> merely because those native menus were displayed with native-menu-style 
</I>&gt;<i> triangles at the end of them?
</I>
Sadly, yes.

I've seen people implement entire scrollbars in JS, including all the 
native scrollbar behaviour, just because they wanted Windows XP-styled 
scrollbars on other platforms, requiring _hundreds_ of lines of code 
despite the fact that the CSS equivalent is exactly one line long. The 
difference is that CSS doesn't let you style the scrollbars.


&gt;<i> &gt; Nested optgroups don't imply submenus. Just more indented options with 
</I>&gt;<i> &gt; headers.
</I>&gt;<i> 
</I>&gt;<i> Well, that's not good design either ... 
</I>
Why not? I'm not saying it is, just curious as to why it isn't.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001990.html">[whatwg] Suggestion for Menus in Web Forms 2.0
</A></li>
	<LI>Next message: <A HREF="002128.html">[whatwg] Suggestion for Menus in Web Forms 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2115">[ date ]</a>
              <a href="thread.html#2115">[ thread ]</a>
              <a href="subject.html#2115">[ subject ]</a>
              <a href="author.html#2115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
