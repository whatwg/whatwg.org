<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Suggestion for Menus in Web Forms 2.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Suggestion%20for%20Menus%20in%20Web%20Forms%202.0&In-Reply-To=%3C41145194.2060004%40earthlink.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043904.html">
   <LINK REL="Next"  HREF="043912.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Suggestion for Menus in Web Forms 2.0</H1>
<!--htdig_noindex-->
    <B>Matthew Raymond</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Suggestion%20for%20Menus%20in%20Web%20Forms%202.0&In-Reply-To=%3C41145194.2060004%40earthlink.net%3E"
       TITLE="[whatwg] Suggestion for Menus in Web Forms 2.0">mattraymond at earthlink.net
       </A><BR>
    <I>Fri Aug  6 20:50:44 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="043904.html">[whatwg] Suggestion for Menus in Web Forms 2.0
</A></li>
        <LI>Next message: <A HREF="043912.html">[whatwg] Suggestion for Menus in Web Forms 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43911">[ date ]</a>
              <a href="thread.html#43911">[ thread ]</a>
              <a href="subject.html#43911">[ subject ]</a>
              <a href="author.html#43911">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Matthew Thomas wrote:
&gt;<i> On 5 Aug, 2004, at 10:46 PM, Ian Hickson wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> ...
</I>&gt;&gt;<i> The thing I'm still not really sure about is the whole thing of how to
</I>&gt;&gt;<i> make it look like a menu bar when it is used inline, instead of being
</I>&gt;&gt;<i> used in the actual menu bar.
</I>&gt;&gt;<i> ...
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Allowing a native-looking menu bar makes sense for applications that are 
</I>&gt;<i> going to have complete control over their own interface.  However, the
</I>&gt;<i> What-WG specifications (as opposed to other specifications deemed too 
</I>&gt;<i> ambitious and/or unmixable) are designed to be implementable inside Web 
</I>&gt;<i> pages, where applications cannot have complete control over their own 
</I>&gt;<i> interface.
</I>
    I think you're imagining a constraint on WF2 that doesn't really
exist. WF2 can be used in chromeless windows. However, you many mean
that WF2 will primarily be used in a standard browser window, in which
case I would agree that a HTML-based menubar could cause confusion.

    Then again, I've seen Java applications in a browser that have such
menubars, so there may be a demand for this. Another thing is that
someone may want to create a simulated desktop interface where they can
open multiple &quot;windows&quot; within the browser windows. In that case, it
would be nice if these window-like blocks could have their own menubars.

    A lot of user confusion-type issues are possible here, so we should
probably discuss this at length.

&gt;<i> Web browsers already have their own menu bars, and allowing 
</I>&gt;<i> these to be overridden would be highly confusing, if not a security 
</I>&gt;<i> vulnerability.
</I>
    Agreed. Overriding the browser's own menus should be off the table.

&gt;<i> For example, the previous discussions on this list about 
</I>&gt;<i> ensuring people can save or print their work would be somewhat 
</I>&gt;<i> irrelevant if applications could create fake menu bars with fake &quot;Save 
</I>&gt;<i> As...&quot; and &quot;Print...&quot; menu items that saved or printed something 
</I>&gt;<i> completely unexpected.
</I>
    This is actually a bigger problem with non-chromed windows. (Unless
you were referring to the browser-menu-override situation.)

&gt;<i> Therefore, making &lt;menubar&gt; &quot;look like a menu bar&quot; would involve having 
</I>&gt;<i> two or more visually similar menu bars on the screen simultaneously. But 
</I>&gt;<i> this is bizarre behavior on some platforms, and even on platforms where 
</I>&gt;<i> it is expected behavior, it is highly confusing.
</I>
    One thing we could do is come up with a way to display menubars on a
few key operating systems that doesn't confuse users, then allow enough
room in the spec for user agent vendors to create their own solutions.

&gt;<i> However, ~90 percent of the Web apps I have seen trying to implement 
</I>&gt;<i> pull-down menus are just wanting single menus by themselves, in which 
</I>&gt;<i> cases &lt;menubar&gt; is not needed.
</I>
    I've seen quite a few sites that have horizontal navigational
buttons on the top, many with menus that drop down from those buttons.
There may actually be a significant demand for a properly stylable menubar.

&gt;<i> Of the remainder that use multiple
</I>&gt;<i> consecutive menus, perhaps half want a horizontal menu bar for 
</I>&gt;<i> navigation (which could possibly be satisfied by requiring UAs to 
</I>&gt;<i> implement &lt;link&gt; more reliably and attractively), and half want a 
</I>&gt;<i> vertical one (e.g. &lt;<A HREF="http://msnbc.msn.com/">http://msnbc.msn.com/</A>&gt;).
</I>
    Why not simply have vertical and horizontal alignment for menubars?

    Personally, I wouldn't mind a better &lt;link&gt;, perhaps some better
styling rules and such, but most of the browser UI for &lt;link&gt; is
document centric. For instance, Mozilla 1.7 keeps common document
navigation buttons at the top level of the Site Navigation Bar, while
lesser used items are in submenus.

    Furthermore, HTML 4.01 allows support for &lt;link&gt; to implemented in
any way the UA vendor chooses, so suddenly turning &lt;link&gt; into a menu
system could cause serious problems. This is especially true if a
browser vendor chose to put &lt;link&gt; items in a submenu off the main
browser menu. We're better off creating a new menu structure instead.

&gt;<i> Therefore, I suggest the &lt;menubar&gt; element be renamed to &lt;menulist&gt;, to 
</I>&gt;<i> indicate that (in graphical UAs) its child &lt;menu&gt;s will be rendered 
</I>&gt;<i> vertically by default.
</I>
    A bar can be vertical. I've seen many toolbars that can be
positioned that way. The Windows &quot;Taskbar&quot; can be vertical. I don't
really think this presents a serious conceptual problem.

    As for a default direction, I'd rather have CSS or an HTML attribute
handle it.

&gt;<i> That would suit the usual use case for adjacent 
</I>&gt;<i> menus, and would avoid wrongly implying that it should look like a 
</I>&gt;<i> native menu bar.
</I>
    On a chromeless window, it probably SHOULD look like a native menubar.

&gt;<i> Authors wanting horizontally adjacent menus could get 
</I>&gt;<i> them without extra styling just by using adjacent &lt;menu&gt;s, without a 
</I>&gt;<i> &lt;menulist&gt; element.
</I>
    How would they do this, by setting the |style| property equal to
&quot;display: inline&quot;? Keep in mind, an element name like &quot;menubar&quot; or
&quot;menulist&quot; can communicate more than just visual position. Native
menubar rendering on a chromeless window, for instance, would be
impossible without such an element.

&gt;<i> (Outside a &lt;menulist&gt;, UAs could present a &lt;menu&gt; as
</I>&gt;<i> a button with a downward-pointing triangle at the end of it, just like 
</I>&gt;<i> native standalone pull-down menus. This would both advertise their 
</I>&gt;<i> menu-ness, and avoid the confusion of them looking like a native menu bar.)
</I>
    I don't mind presenting &lt;menu&gt; as a button when not in the context
of  a menubar. However, should this be required in the spec, or simply
recommended?

&gt;&gt;<i> ...
</I>&gt;&gt;<i> There have been a lot of requests for nested OPTGROUPs, so I'm
</I>&gt;&gt;<i> thinking maybe we should just allow them.
</I>&gt;<i> 
</I>&gt;<i> Nested submenus are less evil (though still HIG-contraveningly horrible) 
</I>&gt;<i> in pull-down menus (e.g. &lt;menu&gt;) than they are in option menus (e.g. 
</I>&gt;<i> &lt;select&gt;), because at least in pull-down menus a particular submenu item 
</I>&gt;<i> is usually in the same direction relative to its parent item. (This 
</I>&gt;<i> isn't *always* true on platforms that put menu bars inside windows, 
</I>&gt;<i> because the position of the window may force a menu or submenu to open 
</I>&gt;<i> *sometimes* to the north and/or west instead of the southeast.)
</I>
    You're confusing the implementation of a drop-down list for &lt;select&gt;
with the &lt;select&gt; element itself. The &lt;select&gt; element could be
implemented in a manner similar to that shown in the HTML 4.01
specification, for instance:

<A HREF="http://www.w3.org/TR/html401/images/optgroup_exmpl.gif">http://www.w3.org/TR/html401/images/optgroup_exmpl.gif</A>

    The &lt;select&gt; element could be implemented as a pull-down menu.
Besides, in the context of using &lt;select&gt; WITHIN &lt;menu&gt;, a pull-down
menu would almost certainly be used.

&gt;<i> Submenus (even non-nested submenus) would be even worse in &lt;select&gt;s 
</I>&gt;<i> because the current selection varies the vertical position of all the 
</I>&gt;<i> other items, which in turn would vary the direction of every submenu 
</I>&gt;<i> (southeast, northeast, or east-ish), which would repeatedly break muscle 
</I>&gt;<i> memory of what direction particular submenu items were in, which would 
</I>&gt;<i> make them extremely slow and annoying to use. (Example: the &lt;select&gt; 
</I>&gt;<i> implementation in Netscape Navigator 3.0 for Unix, which used submenus 
</I>&gt;<i> instead of auto-scrolling.)
</I>&gt;<i> 
</I>&gt;<i> (The general problem with submenus is that they require multiple changes 
</I>&gt;<i> in direction, but if you click or release in the wrong place while using 
</I>&gt;<i> them you usually have to start your selection from scratch. This problem 
</I>&gt;<i> does not apply to tree controls, nor even to a chain of dependent 
</I>&gt;<i> &lt;select&gt;s.)
</I>
    I understand that there are those who oppose submenus for good 
reason. I would personally agree that submenus should be used only when 
absolutely necessary. That said, I know from personal experience that 
there are applications that simply cannot do without submenus. 
Furthermore, I suspect that submenus will be most common in menu systems 
that have a fixed position, and therefore will be far less likely to 
break motor memory. Submenus are, unfortunately, a necessary evil.

&gt;<i> Another reason not to have &lt;optgroup&gt;s inside &lt;select&gt;s is that option 
</I>&gt;<i> menus are supposed to show their state even when closed, but they cannot 
</I>&gt;<i> do so reliably if two or more submenus contain items with the same text.
</I>
    Easy to fix. Display the &lt;option&gt; |label| as in the menu and the 
child text of the &lt;option&gt; as the selection. This is consistent with the 
example from section 17.6.1 of the HTML 4.01 spec:

&lt;FORM action=&quot;<A HREF="http://somesite.com/prog/someprog">http://somesite.com/prog/someprog</A>&quot; method=&quot;post&quot;&gt;
  &lt;P&gt;
  &lt;SELECT name=&quot;ComOS&quot;&gt;
   &lt;OPTION selected label=&quot;none&quot; value=&quot;none&quot;&gt;None&lt;/OPTION&gt;
   &lt;OPTGROUP label=&quot;PortMaster 3&quot;&gt;
     &lt;OPTION label=&quot;3.7.1&quot; value=&quot;pm3_3.7.1&quot;&gt;PortMaster 3 with ComOS 
3.7.1&lt;/OPTION&gt;
     &lt;OPTION label=&quot;3.7&quot; value=&quot;pm3_3.7&quot;&gt;PortMaster 3 with ComOS 
3.7&lt;/OPTION&gt;
     &lt;OPTION label=&quot;3.5&quot; value=&quot;pm3_3.5&quot;&gt;PortMaster 3 with ComOS 
3.5&lt;/OPTION&gt;
   &lt;/OPTGROUP&gt;
   &lt;OPTGROUP label=&quot;PortMaster 2&quot;&gt;
     &lt;OPTION label=&quot;3.7&quot; value=&quot;pm2_3.7&quot;&gt;PortMaster 2 with ComOS 
3.7&lt;/OPTION&gt;
     &lt;OPTION label=&quot;3.5&quot; value=&quot;pm2_3.5&quot;&gt;PortMaster 2 with ComOS 
3.5&lt;/OPTION&gt;
   &lt;/OPTGROUP&gt;
   &lt;OPTGROUP label=&quot;IRX&quot;&gt;
     &lt;OPTION label=&quot;3.7R&quot; value=&quot;IRX_3.7R&quot;&gt;IRX with ComOS 3.7R&lt;/OPTION&gt;
     &lt;OPTION label=&quot;3.5R&quot; value=&quot;IRX_3.5R&quot;&gt;IRX with ComOS 3.5R&lt;/OPTION&gt;
   &lt;/OPTGROUP&gt;
  &lt;/SELECT&gt;
&lt;/FORM&gt;

    Unfortunately, IE, Mozilla and Opera ignore HTML 4.01 specified 
behavior regarding the |label| property of the &lt;option&gt; element:

<A HREF="http://bugzilla.mozilla.org/show_bug.cgi?id=40545">http://bugzilla.mozilla.org/show_bug.cgi?id=40545</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043904.html">[whatwg] Suggestion for Menus in Web Forms 2.0
</A></li>
	<LI>Next message: <A HREF="043912.html">[whatwg] Suggestion for Menus in Web Forms 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43911">[ date ]</a>
              <a href="thread.html#43911">[ thread ]</a>
              <a href="subject.html#43911">[ subject ]</a>
              <a href="author.html#43911">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
