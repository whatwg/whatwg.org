<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Forms 2.0 Feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Forms%202.0%20Feedback&In-Reply-To=%3C20040830022040.92937.qmail%40web50902.mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002165.html">
   <LINK REL="Next"  HREF="002170.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Forms 2.0 Feedback</H1>
<!--htdig_noindex-->
    <B>Csaba Gabor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Forms%202.0%20Feedback&In-Reply-To=%3C20040830022040.92937.qmail%40web50902.mail.yahoo.com%3E"
       TITLE="[whatwg] Web Forms 2.0 Feedback">csaba2000 at yahoo.com
       </A><BR>
    <I>Sun Aug 29 19:20:40 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="002165.html">[whatwg] Standard method to get/set caret position
</A></li>
        <LI>Next message: <A HREF="002170.html">[whatwg] Web Forms 2.0 Feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2168">[ date ]</a>
              <a href="thread.html#2168">[ thread ]</a>
              <a href="subject.html#2168">[ subject ]</a>
              <a href="author.html#2168">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>First, I'd like to thank you for your response.  It's rare that I
encounter anyone that can even appreciate these points.  And your
succinct direct addressing of the issues is also appreciated.
You've (implied or) asked for clarification on a few issues
(points 1, 2, 4, 5, 8), hence my response (interspersed on those
points.

In addition, there's one other point that I'd mention even though
it doesn't have to do with forms (but at least I'll get it off my
chest).  That is, that I'd like to see a height specifiable in
terms of number of lines of text.  It's always struck me as strange
that this isn't standard.  For example, I might want all my TD
elements to display at most two lines of text.  I could try to set
this in terms of em but if there is a font change (or a size change
in opera, say), I am sunk.  It's such a natural unit - why isn't it
this part of the CSS standard?

Sincerely,
Csaba Gabor

--- Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:

&gt;<i> Date: Sun, 29 Aug 2004 22:11:44 +0000 (UTC)
</I>&gt;<i> From: Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt;
</I>&gt;<i> To: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">csaba at alum.mit.edu</A>
</I>&gt;<i> CC: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at whatwg.org</A>
</I>&gt;<i> Subject: Re: [whatwg] Web Forms 2.0 Feedback
</I>&gt;<i> 
</I>&gt;<i> On Fri, 20 Aug 2004, Csaba Gabor wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 1.  I want to be able to simulate clicking on an input element. As far 
</I>&gt;<i> &gt; as I know, this is not currently possible.  For example, If there is an 
</I>&gt;<i> &gt; input type=image element, when you click on it, the coordinates relative 
</I>&gt;<i> &gt; to the image are transmitted to the server.  It is possible to simulate 
</I>&gt;<i> &gt; a click on that element, but the coordinates delivered in this case 
</I>&gt;<i> &gt; would be 0,0.  Can you imagine that there are sites (I forget if it's 
</I>&gt;<i> &gt; Sprint or Verizon) which actually test for that?!?  Anyway, there should 
</I>&gt;<i> &gt; be a way to set a click position (e.g. attributes xDefault, yDefault) if 
</I>&gt;<i> &gt; the submit of the form does not happen with a mouse.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; More generally, this ability should be provided by the browser's DOM.  
</I>&gt;<i> &gt; I want to be able to be able to simulate user actions in javascript even 
</I>&gt;<i> &gt; if the browser does not have focus.
</I>&gt;<i> 
</I>&gt;<i> This sounds like what you are really requesting is a way for setting the 
</I>&gt;<i> coordinate when you call click(), so you would do, e.g.:
</I>&gt;<i> 
</I>&gt;<i>    image.click(2, 5);
</I>&gt;<i> 
</I>&gt;<i> Is that right? If so, that seems relatively simple to add.
</I>
Perfect:
arbitraryHTMLElement.click(xLocalObjectOffset, yLocalObjectOffset)
one issue: I would think that the elemtent's onClick should be run.
Does this conflict with any current behaviour?

&gt;<i> &gt; 2.  On the flip side, I would like to be able to capture what the form 
</I>&gt;<i> &gt; submission is to be BEFORE IT HAPPENS (and be able to cancel it). Using 
</I>&gt;<i> &gt; the same example as above, I want to be able to find the &quot;string&quot; that 
</I>&gt;<i> &gt; is expected to be submitted to the server (via javascript) and cancel 
</I>&gt;<i> &gt; the action.  In particular, I want to be able to find out where the 
</I>&gt;<i> &gt; image was clicked before it goes to the server (it's possible to do this 
</I>&gt;<i> &gt; via javascript, but messy because non IE UAs implement mouse positions 
</I>&gt;<i> &gt; relative to the page). The UA is doing this for me - don't hide this 
</I>&gt;<i> &gt; information.  If I give a fake address such as wont:work then an error 
</I>&gt;<i> &gt; is displayed showing the string to be submitted, but I can't get to it 
</I>&gt;<i> &gt; programatically. Other tricks such as about:blank don't seem to work 
</I>&gt;<i> &gt; either. I've just seen the data: protocol so maybe that will do the 
</I>&gt;<i> &gt; trick - I'll test that out.  But, I'd still like a straightforward way 
</I>&gt;<i> &gt; to do this.
</I>&gt;<i> 
</I>&gt;<i> If what you want is a way to tell the coordinate where the image was 
</I>&gt;<i> clicked, it's probably a lot easier for us to support just that 
</I>&gt;<i> specifically (by, for instance, providing this information in an event), 
</I>&gt;<i> than it would be for you to extract the information from the submission.
</I>&gt;<i> 
</I>&gt;<i> Is that what you really want?
</I>&gt;<i> 
</I>
No.  Don't get me wrong.  I'll be overjoyed if you mandate that the event
information contain local offsets (per IE), but what I really want is to
be able to see the action string of the form just before it gets submitted.
The image example was just a motivation.  Let me expand on it and provide
one other example.

One idea (that eventually works) to have the browser do the work for me
in terms of calculating local coordinates on where an image is clicked is
to send the form data to an IFRAME.  So if the action attribute of the
form is &quot;javascript:writeIframeDocHere//&quot; then the IFRAME is happily written
and will sing and dance for me (no security issues, I think, at least on
IE).  But the Iframe won't be aware of its &quot;newest&quot; src.  Ultimately, this
makes sense because it's not necessarily the case that there is a unique
&quot;newest&quot; src, since the Iframe might be getting written in pieces (grammar?).
It's not the Iframe's document who can know how it got there - rather
it is the author of that Iframe, the form itself.  This basic idea works,
but not with javascript: (html: seems to works, but there are a few issues
there which are not clear to me.  I'd prefer to use your new data: construct)

I've written a VB application that hooks into IE and exercises it (the app
is stimulating it as if it was a user (for the most part)).  Since it's
running locally, security issues can be overcome (non trivially, I might
add), and I can examine most of what is happening dynamically.  However,
if I click a submit button what the form looks like when the submit was
pressed is not necessarily what it will look like when it gets submitted
(names might change, elements might get added).  I might not be interested
in the intermediate stages - only in the final result.  Shouldn't the UA
provide a means to access this?

Hmmm, strikes me that your new data construct will actually provide me
what I want.  Direct the output embedded within a mini page to an iframe
(so please make sure standards specify no security restrictions since
it's coming from parent), include an onLoad, and we can direct the captured
information anywhere we want.  Nifty.

&gt;<i> 
</I>&gt;<i> &gt; 3.  I'd like hierachical menus (pop up menus).  Why can't an option 
</I>&gt;<i> &gt; element take other relevant HTML elements?  This one could even degrade 
</I>&gt;<i> &gt; somewhat nicely because non &lt;option&gt; elements within the top &lt;select&gt; 
</I>&gt;<i> &gt; element could just be ignored resulting in one very long &lt;select&gt; 
</I>&gt;<i> &gt; element.
</I>&gt;<i> 
</I>&gt;<i> Hierachical menus will be available in Web Apps 1.0.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; 4.  Does it make sense to have both an &lt;input type=button/submit/reset...
</I>&gt;<i> &gt; and &lt;button type=... element.  I think not.  It's time to start deprecating one.
</I>&gt;<i> 
</I>&gt;<i> Why?
</I>
Please see response to next point 

&gt;<i> &gt; But as long as &lt;input type=button/... is still around, why not give it
</I>&gt;<i> &gt; an access key property and allow a letter on it to be underlined?
</I>&gt;<i> 
</I>&gt;<i> That is already possible.
</I>
I must have missed something.  I know it's possible to put in an
accessKey.  But how is it possible to underline a character on an
input button such as
&lt;input type=submit value=&quot;Click me&quot;&gt;
?

&gt;<i> 
</I>&gt;<i> &gt; And for Pete's sake, have the spec say that access key properties must
</I>&gt;<i> &gt; be reachable in a single key combination.  What up with Opera's crippling
</I>&gt;<i> &gt; multi key ('/' + key) combination - who came up with that?
</I>&gt;<i> 
</I>&gt;<i> I suggest you bring up issues specific to particular UAs directly with 
</I>&gt;<i> that UA vendor. (On phones in particular it probably makes no sense to 
</I>&gt;<i> forbid multi-key shortcuts.)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; 5.  One thing that bothers me is that there are so many ways to
</I>&gt;<i> &gt; plop a submit button on a page.  You could make a link with an image,
</I>&gt;<i> &gt; an &lt;input type=submit onClick=...&gt; element, an &lt;input type=submit&gt; element, a
</I>&gt;<i> &gt; &lt;button type=submit&gt;, &lt;button type=button onClick=...&gt;, &lt;input type=image ...&gt;,
</I>&gt;<i> &gt; &lt;img ...&gt;, image map, and probably I've left several out.  This smacks of bloat.
</I>&gt;<i> 
</I>&gt;<i> There are pages that use each of those, so we can't really remove any of 
</I>&gt;<i> them.
</I>&gt;<i>
</I>
I'm not asking for removal (now).  I'm asking for deprecation,
making for cleaner pages in the future.  For example, &lt;font&gt;
is allowed, but deprecated.  Eventually it may go away.
 
&gt;<i> &gt; I'd suggest combining type=image with type=button, submit, ...
</I>&gt;<i> &gt; and start depracating.  You could have a special src=submit/button/reset value
</I>&gt;<i> &gt; You could have &lt;button type=image src='...'&gt;alternate text&lt;/button&gt;
</I>&gt;<i> &gt; Anyway, you understand my point: cull.
</I>&gt;<i> 
</I>&gt;<i> I don't really understand what is wrong with the variety?
</I>
OK, this is philosophy, but it may have its place.

Variety is great because it makes the world a more interesting
place.  Who can argue with more ways to do things?  And yet,
variety has a very real cost.  The more variety there is, as a
general rule, the more overhead there is.  One symbol per word
provides much more variety than a simple 26 letter alphabet,
but studies have shown that children take more time, on average,
to learn the larger symbol set.  How about the variety of Sony
vs Betamax?  Or what about the order of bytes in making up a 32
bit word?  There is variety there among the platforms - a huge
waste of brainpower, time, and resources.

Or, to take an example that hits home, what about the variety
(and I'm talking about their HTML / DOM implementations) that
we find in recent UAs (IE, Opera, Mozilla)?  Clearly not
good since there is a huge amount of effort (on the part of
programmers) that goes into compensating for the differences.

Variety is great at the &quot;end user&quot; level where it amounts to
art or experimentation.  When it comes to standards, however,
variety generally indicates inefficiency (or bloat).  If there
is more than one way to do something, one of those ways should
be more efficient.  If, on the other hand, the different
approaches are approximately the same, then it's usually a
good indication that there is either an inefficiency
in the design or inefficiency in (externally) dealing with
it (this latter is why these standards are being recommended,
no?).

To apply this abstract philosophy to this specific issue, the
bloat in the different ways of doing things is an indication
of a problem (the inefficiency) of the model.  In particular,
forms are really a grouping of elements (variables that will)
get submitted to a server.  Most input elements (and SELECT,
etc.) are ways of setting these variables.  Buttons, links,
input images, etc. are ways of directing the browser either
to submit a form or, more generally, perform an arbitrary
action.  Thus, these elements, should have a display (innerHTML)
component (image or text) and an action component (this action
component could include being an image map or submitting the
variables of a specific form).  Specifically, buttons are
essentially links.  And what advantage does &lt;input type=image ...&gt;
offer?

Till now, the dichotomy between form and non form elements
could possibly justify creating two classes of these types of
&quot;submission&quot; elements.  However, as we adopt the model that
a form is just a grouping for a bunch of elements that will
be submitted, the notion of separating the &quot;submission&quot; elements
becomes obsolete and needs clarification.

The inefficiency will be that without a move toward clarification
and simplification, the bloat of the old model will be around
to haunt us for a LONG, LONG time.  That's why I recommend the
notion of deprecating those variants that are not necessary
such as (&lt;input type=image...&gt;) and (&lt;input type=submit...&gt;)
and (&lt;input type=button...&gt;) and (&lt;input type=reset...&gt;).

Furthermore, a link (A) element is essentially a form with no
variables.  Really, what it can do that the button can't do is
to allow the new page to be opened in a new window.  How come
a right button click can't do that with a button?  So BUTTON
elements should allow forms to point to new pages on user
request (right click), and BUTTON should support
&lt;button type=link ...&gt; with a means for specifying the
destination URL (the action of the implied form).  This
type of element implies (I think) a shortcut for specify the
action of the implied form and the format for its innerHTML
(since it's a link).

I don't know if this is/can be done cleanly, but we're going
to be living with the current model for a while.  But it might
make sense to at least start moving towards a cleaner tomorrow.
Otherwise we'll have to keep saying, &quot;we're stuck with it.&quot;

Sorry for the long diatribe, and it's late, but this came about
from my experiences with that VB program I referred to.
Everyone is doing submission actions differently, without
advantage.  Awful.

&gt;<i> 
</I>&gt;<i> &gt; 6.  I appreciate the file size limitation being introduced.  This is 
</I>&gt;<i> &gt; trapable in apache but really belonged on the client, too.  I'd like to 
</I>&gt;<i> &gt; be able to get at this file size via javascript before the form goes out 
</I>&gt;<i> &gt; and possibly cancel the submission or take other action depending on the 
</I>&gt;<i> &gt; value (for example, the server might happily process small files for 
</I>&gt;<i> &gt; free, but require some sign up / payment) for larger ones.  Again, 
</I>&gt;<i> &gt; clearly implementable server side, but it's nice to minimize web 
</I>&gt;<i> &gt; traffic.
</I>&gt;<i> 
</I>&gt;<i> For various security reasons, it is unlikely that we will add ways of 
</I>&gt;<i> querying the file form data before submission.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; 7.  I've never understood why UAs render SELECT elements always on top. 
</I>&gt;<i> &gt; Can't we say/do something about that?
</I>&gt;<i> 
</I>&gt;<i> Newer UAs do this correctly.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; 8.  I'm glad to see that we're finally getting around to allowing comboboxes
</I>&gt;<i> &gt; in HTML.  First, I would like to see list allow either a semicolon separated
</I>&gt;<i> &gt; list of values (possibly empty) allowing an anonymous datalist element by
</I>&gt;<i> &gt; implication, or the actual datalist element (if set via javascript).
</I>&gt;<i> 
</I>&gt;<i> The problem with semicolon-delimitted values is that they do not provide 
</I>&gt;<i> an easy way to include semicolons, titles, separate values and submission 
</I>&gt;<i> values, etc.
</I>
Ultimately, I agree with you on this, but for the type of reasons outlined
in point 5.  This idea was more of a floater because I dislike the bulky
list structure (well what I really dislike is having to type it in).
So really, what I proposed was a shortcut.  The problem is, while a
single shortcut might be fine, each one represents a risk of biting
you (bloat).  So, while the semicolon list structure could be made to
work simply (by specifying the necessary object as a string  - I am doing
this fine in javascript, escapes and all) it carries overhead.

&gt;<i> 
</I>&gt;<i> &gt; Also, you mention that the option elements in a datalist may be empty 
</I>&gt;<i> &gt; and you also mention that the UA may fill in elements but you don't say 
</I>&gt;<i> &gt; how.
</I>&gt;<i> 
</I>&gt;<i> Actually I believe the spec does say that the &quot;label&quot; attribute is to be 
</I>&gt;<i> used if the &lt;option&gt; elements are empty.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; By the way, the attributes table at the bottom of your document does not 
</I>&gt;<i> &gt; show the list attribute for the input elements.
</I>&gt;<i> 
</I>&gt;<i> Thanks, fixed.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; 8b.  It seems to me that the line now becomes blurred about whether &lt;select&gt;
</I>&gt;<i> &gt; elements are really glorified input elements or whether input elements are
</I>&gt;<i> &gt; really a special case of select elements.  Why not go the full mile and unify
</I>&gt;<i> &gt; the two, and then make one deprecated.
</I>&gt;<i> 
</I>&gt;<i> Because that wouldn't be backwards-compatible and would break existing 
</I>&gt;<i> pages.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; In particular, a select element could have a writeable attribute to make 
</I>&gt;<i> &gt; it into a combobox, and if it's got that it should also take a type and 
</I>&gt;<i> &gt; a pattern attribute, etc.
</I>&gt;<i> 
</I>&gt;<i> This was considered but isn't backwards-compatible.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; 9.  You state in section 2.7 that the first option of a single select 
</I>&gt;<i> &gt; element is to be selected.  However, this is in opposition to what you 
</I>&gt;<i> &gt; allow for radio buttons.  And yet, single selects are essentially the 
</I>&gt;<i> &gt; equivalent of radio buttons, in a more compact form.  If you allow radio 
</I>&gt;<i> &gt; buttons to be unselected, why not allow the single select element to be 
</I>&gt;<i> &gt; unselected, too?
</I>&gt;<i> 
</I>&gt;<i> Because in both cases, the spec is merely reflecting de-facto implemented 
</I>&gt;<i> behaviour in existing user agents, sadly.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; 10.  In section 2.15 you disallow multiple forms per element.  But given 
</I>&gt;<i> &gt; that controls are becoming discociated from forms in a heirarchical 
</I>&gt;<i> &gt; sense, why not allow multiple forms per element?
</I>&gt;<i> 
</I>&gt;<i> This is currently being considered and might well be allowed.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; 11.  The reference for the &quot;data:&quot; actions should be RFC 2397, and not 
</I>&gt;<i> &gt; 2387 as you currently show it (this also applies to the URL that you 
</I>&gt;<i> &gt; give). 
</I>&gt;<i> 
</I>&gt;<i> Oops, good point!
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; It should also be pointed out the IE 6 does not support the examples.
</I>&gt;<i> 
</I>&gt;<i> This goes for most of the spec. In fact most browsers support very little 
</I>&gt;<i> of this spec right now.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Thanks for your input! It is very much appreciated.
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Ian Hickson               U+1047E                )\._.,--....,'``.    fL
</I>&gt;<i> <A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
</I>&gt;<i> Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</I>
__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
<A HREF="http://mail.yahoo.com">http://mail.yahoo.com</A> 

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002165.html">[whatwg] Standard method to get/set caret position
</A></li>
	<LI>Next message: <A HREF="002170.html">[whatwg] Web Forms 2.0 Feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2168">[ date ]</a>
              <a href="thread.html#2168">[ thread ]</a>
              <a href="subject.html#2168">[ subject ]</a>
              <a href="author.html#2168">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
