<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] LABEL and radio/checkbox onclick
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20LABEL%20and%20radio/checkbox%20onclick&In-Reply-To=%3C412D3C57.3000607%40earthlink.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001932.html">
   <LINK REL="Next"  HREF="001984.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] LABEL and radio/checkbox onclick</H1>
<!--htdig_noindex-->
    <B>Matthew Raymond</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20LABEL%20and%20radio/checkbox%20onclick&In-Reply-To=%3C412D3C57.3000607%40earthlink.net%3E"
       TITLE="[whatwg] LABEL and radio/checkbox onclick">mattraymond at earthlink.net
       </A><BR>
    <I>Wed Aug 25 18:26:47 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="001932.html">[whatwg] LABEL and radio/checkbox onclick
</A></li>
        <LI>Next message: <A HREF="001984.html">[whatwg] LABEL and radio/checkbox onclick
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1980">[ date ]</a>
              <a href="thread.html#1980">[ thread ]</a>
              <a href="subject.html#1980">[ subject ]</a>
              <a href="author.html#1980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Matthew Thomas wrote:
&gt;&gt;<i>    A &lt;label&gt; element is semantically worthless without an associated  
</I>&gt;&gt;<i> control, because, fundamentally, a label actually has to label  
</I>&gt;&gt;<i> something.
</I>&gt;<i> 
</I>&gt;<i> Similarly, a heading has to be a heading for something. And similarly,  
</I>&gt;<i> the &lt;h1&gt;-&lt;h6&gt; elements don't require you to specify exactly what part  
</I>&gt;<i> of a document they are a heading for. Worse, unlike &lt;label&gt;, with  
</I>&gt;<i> &lt;h1&gt;-&lt;h6&gt; you can't do so even if you want to.
</I>
    I should point out that I hate the heading elements. They serve no
practical purpose other than formatting, and they force the webmaster to
determine the level of the header rather than providing an automated
means. If anything, headings should work like this:

&lt;section&gt;
   &lt;heading&gt;Header 1&lt;/heading&gt;
   &lt;p&gt;Content for 1.&lt;/p&gt;
   &lt;section&gt;
     &lt;heading&gt;Header 1a&lt;/heading&gt;
     &lt;p&gt;Content for 1a.&lt;/p&gt;
   &lt;/section&gt;
   &lt;section&gt;
     &lt;heading&gt;Header 1b&lt;/heading&gt;
     &lt;p&gt;Content for 1b.&lt;/p&gt;
   &lt;/section&gt;
&lt;/section&gt;

&gt;<i> If you're inventing new HTML markup, solving the ownership problem for  
</I>&gt;<i> headings (perhaps the way XHTML2 does, perhaps not) should be more of a  
</I>&gt;<i> pressing issue than solving the ownership problem for radiogroup  
</I>&gt;<i> labels. The former are considerably more (common * semantically useful)  
</I>&gt;<i> than the latter.
</I>
     I generally agree, but, with regards to &lt;label&gt;, the only issue is
that the spec writers neglected to use the word &quot;must&quot;. Otherwise, the
semantics of &lt;label&gt; and how to make an association with a control are
spelled out clearly.

&gt;&gt;&gt;<i> I really don't understand why you _want_ labels to do the wrong thing.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    Wrong as defined by whom?
</I>&gt;<i> 
</I>&gt;<i> As defined by the vendors of GUI toolkits for the past 20 years,
</I>
    The logic here is flawed. It assumes both that GUI API and toolkit
developers are infallible, and that user needs and technology haven't
changed in twenty years. Neither is necessarily the case. It also
assumes that many elements of the GUIs were the result of conscious,
thorough and intentional decision making, which you do not produce
evidence for.

    (Interestingly, there also seems to be the implication that the
browser shouldn't be a platform in itself. I'd be interested in hearing
people's opinions on this...)

&gt;<i> and by
</I>&gt;<i> the resulting mental models in ~99 percent of those people who have  
</I>&gt;<i> ever used a computer.
</I>
    As far as mental models go, you're oversimplifying the situation.
People have a mental model that if you move your mouse over text and it
changes, it must do something. Windows XP actually highlights checkbox
and radio button controls as you move your mouse over their labels.
Furthermore, making all labels focus their controls would create a
stronger association in the user's mind for controls that already allow
this behavior.

&gt;&gt;&gt;<i> That clicking a label element transfers focus is not a feature of  
</I>&gt;&gt;&gt;<i> HTML, it's a misfeature and almost certainly another example of 
</I>&gt;&gt;&gt;<i> vague  and misleading comments in the spec, rather than actual intent 
</I>&gt;&gt;&gt;<i> from  the authors of the HTML spec.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    Horse feathers! From the spec:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://www.w3.org/TR/html401/interact/forms.html#h-17.11.2">http://www.w3.org/TR/html401/interact/forms.html#h-17.11.2</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    &quot;This example assigns the access key 'U' to a label associated 
</I>&gt;&gt;<i> with  an INPUT control. Typing the access key gives focus to the label 
</I>&gt;&gt;<i> which  in turn gives it to the associated control. The user may then 
</I>&gt;&gt;<i> enter  text into the INPUT area.&quot;
</I>&gt;<i> 
</I>&gt;<i> It is rather awe-inspiring for you to have misread either Ian's text  
</I>&gt;<i> above, or the spec text, or both, so severely that you really think  
</I>&gt;<i> they're discussing the same thing.
</I>[Snip!]
Actually, I misread Ian's text. However, since mouse users typically
focus an item by clicking on it, focus passing for that situation is
implied.

&gt;&gt;<i>    If it's unintentional, why to they go out of their way to mention  
</I>&gt;&gt;<i> that the access key is passed from the label to the control?
</I>&gt;<i> 
</I>&gt;<i> Because (assuming accesskey should exist at all) the accesskey behavior  
</I>&gt;<i> is correct behavior, which is not the issue here.
</I>
    &lt;Label&gt; elements are associated with their controls. Therefore, for
presentation of an access key in a &lt;label&gt;, the user agent need only
obtain the access key from the associated control. Instead, the
recommended method is to put |accesskey| on the &lt;label&gt;. This means
that, on a semantic level, the access key is passed from the label to
the control, which reinforces the concept of passing focus.

    Not read the the spec again (emphasis added, by the way):

   &quot;Typing the access key gives _FOCUS_ to the label which in turn gives
it to the associated control.&quot;

&gt;<i> (Which is why Web
</I>&gt;<i> Forms 2 doesn't even mention accesskey at the moment, except in its  
</I>&gt;<i> undescribed lists of attributes and interfaces.)
</I>
    WF2 doesn't mention access keys because we haven't fully discussed
them in the mailing list. We have yet to come to any consensus on the issue.

&gt;&gt;<i> Furthermore, look at the actual control in the example it refers to:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;LABEL for=&quot;fuser&quot; accesskey=&quot;U&quot;&gt;User Name&lt;/LABEL&gt;
</I>&gt;&gt;<i> &lt;INPUT type=&quot;text&quot; name=&quot;user&quot; id=&quot;fuser&quot;&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    It's a TEXT BOX!!! Clearly, the focus passing behavior in the spec  
</I>&gt;&gt;<i> is intentional.
</I>&gt;<i> 
</I>&gt;<i> Sure, but that's (1) for accesskey, which is not the issue here,
</I>
    It is the issue, because, according to the specification,
|<i>accesskey| give focus to the &lt;label&gt;, not the control. The &lt;label&gt; give
</I>focus to the control through focus passing.

&gt;<i> and
</I>&gt;<i> (2) badly described, because it implies that the label is necessarily  
</I>&gt;<i> focusable.
</I>
    Sounds to me like you're using one HTML behavior you don't like
(non-native focusing of labels) to defeat a related behavior you don't
like (focus passing).

    Out of curiosity, how does someone using a keyboard select
unfocusable controls? (Especially if there's no presentation of access
keys.) Surely, you'd have to be able to give focus to a control for
accessibility reasons. Are you sure we're not talking about an OS
deficiency?

&gt;<i> The spec should just say &quot;Typing a label's access key gives
</I>&gt;<i> focus to the control associated with the label.&quot;
</I>
    What is implied in the HTML 4.01 spec is that all input is
redirected to the associated control. Why else have |accesskey| on
&lt;label&gt; and make the use of |accesskey| with &lt;label&gt; the recommended
method? Due to the |for| attribute and its ability to allow multiple
labels to be attached to the same control, it is clearly not as an
alternative way of assigning an |accesskey| value to the control.

&gt;&gt;<i>    Saying that the HTML 4.01 label behavior is a mistake is one 
</I>&gt;&gt;<i> thing, and there's a reasonable argument for that. Saying it was an 
</I>&gt;&gt;<i> accident is ridiculous.
</I>&gt;<i> 
</I>&gt;<i> The mistake is not in any of the parts you quoted. It is here: &quot;When a  
</I>&gt;<i> LABEL element receives focus, it passes the focus on to its associated  
</I>&gt;<i> control. See the section below on access keys for examples.&quot; This is  
</I>&gt;<i> faulty in two ways I have already described  
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2004-July/">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2004-July/</A> 
</I>&gt;<i> 001372.html&gt;,
</I>
&quot;The W3C is frequently wrong about UI details. Here, for example,
firstly they failed to recognize that in native applications on any
platform, clicking the label for a listbox (aka &lt;select multiple&gt;) or
text field will not focus the field.&quot;

    When a control is in a container with scrollbars, it's common for
clicking a control to result in scrolling of the container to make the
entire control visible. Now, picture a situation where the control isn't
even within the visible section of the container, but the control's
label is. By clicking a focus-passing label, the user has easy access to
the control. However, once the user has to scroll to get part of the
control in the visible area of the container so they can select it,
their first impulse is to make the entire control visible while
scrolling, in spite of the fact that it would be quicker to just get
part of it visible and click that part (since they have to click the
control to give it focus anyway).

    So you your argument is really only valid with reference to whether
or not focus passing is a native behavior, not whether it's useful.

&quot;Secondly, they failed to recognize that in all extant versions of Mac
OS, most native controls (including checkboxes, radio buttons, and
option menus) could *never* be focused, even when you clicked on them.
The same is true even in OS X, unless you have 'Full Keyboard Access'
turned on, which most people don't since it's (a) off by default and
(b) intended for disabled people. (Apple's designers judge, probably
correctly, that non-disabled people are faster overall if focus is
confined to controls for which text input is actually useful.)&quot;

    A simple solution would be to simply have &lt;label&gt; pass a greater 
number of events (like |onclick|), but only pass events that the 
associated control supports. If the control supports |onclick|, the 
&lt;label&gt; would pass click events, but if the control can't be focused, 
&lt;label&gt; would do nothing. This would result in backwards compatibility 
with HTML 4.01 in the vast majority of circumstances, and most browsers 
wouldn't even have to change their code.

&gt;<i> and thirdly in that it expects &lt;label&gt; to be focusable in  
</I>&gt;<i> the first place.
</I>
    You just repeated your second argument.

&gt;&gt;<i>    True, but in most situations identical blocks of markup with  
</I>&gt;&gt;<i> identical CSS properties render and behave the same. By going with 
</I>&gt;&gt;<i> the  native platform conventions, you force identical &lt;label&gt; markup 
</I>&gt;&gt;<i> to  behave (and possibly render) differently, solely because of the  
</I>&gt;&gt;<i> associated control:
</I>&gt;<i> 
</I>&gt;<i> &lt;option&gt; is even worse: it has completely different behavior and  
</I>&gt;<i> rendering dependent not merely on its associated control (&lt;select&gt;),  
</I>&gt;<i> but on an *attribute* (multiple) of its associated control! Zounds.
</I>
    The difference here is that &lt;option&gt; inherits properties from it's
parent, &lt;select&gt;. By contrast, native behavior would require that
&lt;label&gt; inherit behavior from a child control element, and that's
assuming you're using implicit association. If &lt;label&gt; is using |for| to
create an association, &lt;label&gt; could exist almost anywhere in the document.

&gt;&gt;<i>    Now suppose you want to style labels that pass the focus to their  
</I>&gt;&gt;<i> associated controls. In HTML 4.01, it's simple. You just style  &lt;label&gt;.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    How do you do the same when the behavior is platform specific? Do  
</I>&gt;&gt;<i> you add a new CSS pseudoclass? Perhaps &quot;focuspassing&quot;?
</I>&gt;<i> 
</I>&gt;<i> If that was really necessary, then GUI toolkits would make such a  
</I>&gt;<i> distinction, and UAs would follow the toolkit's appearance in their  
</I>&gt;<i> default &lt;label&gt; rendering.
</I>
    So, effectively, you're arguing that native styling be enforced for
all UI, regardless of markup or CSS?

&gt;<i> There's no need for an author to fiddle with
</I>&gt;<i> it unless they're trying to be confusing.
</I>
    This isn't an argument against pseudoclasses for labels of focusable
controls; this is an argument against using HTML and CSS to produce UI
that breaks with convention, which is common practice on the web. While
you could argue that a new pseudoclass like the on I described (but
wasn't necessarily suggesting) could be abused in a manner that confuses
the user, this does not mean that all instances of styling are confusing.

    For instance, Mozilla has CSS that supports rounded borders. Suppose
you want the focus border around a checkbox's label to have rounded
corners instead of rectangular. The rounded borders don't really
interfere with the user's understanding of what the control does or how
it functions.

    Ah, but I see your argument: You can't know whether the style is
confusing on a specific operating system. Therefore, if webmasters want
non-native behavior, they should have to build their own widgets so as
to discourage them from using non-native UI.

    The problem with this is two-fold. First, vendors may simply ignore
the spec changes, or add proprietary extensions, if the lack of styling
becomes too unpopular. Second, XBL2 will probably be released by the
time WF2 makes it through a standards body, so webmasters will likely
reuse XBL2-based widgets that require little more than a line of CSS to use.

    When this happens, a lack of flexibility in HTML elements may result
in their disuse in favor of XBL2 widgets, resulting in a semantic
deterioration of the web.

&gt;<i> And I would be surprised and  
</I>&gt;<i> disappointed if What-WG codified a new CSS pseudoclass, or anything  
</I>&gt;<i> else, that had the sole purpose of allowing authors to be confusing.
</I>
    No, the purpose is to allow authors styling options.

&gt;&gt;<i> If the native operating system has a specific style for labels that  
</I>&gt;&gt;<i> pass focus, do you override the &lt;label&gt; styling if a style for  
</I>&gt;&gt;<i> focus-passing labels isn't defined?
</I>&gt;<i> 
</I>&gt;<i> You probably need to specify whether by &quot;do&quot; you mean &quot;should&quot;, &quot;must&quot;,  
</I>&gt;<i> or &quot;can&quot;, and whether by &quot;you&quot; you mean &quot;UA implementors&quot; or &quot;Web  
</I>&gt;<i> authors&quot;.
</I>
    Clearly, &quot;you&quot; can't be the webmaster, otherwise he/she wouldn't
have left out the styling. As for the rest, you're overcomplicating the
question. The bottom line is that you have a styling conflict with the
generic &lt;label&gt; styling and the platform-specific styling that only
occurs with specific controls. I was asking about a method of solving
this conflict without regard for whether the specific method should be
required in spec (which is a somewhat separate argument).

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001932.html">[whatwg] LABEL and radio/checkbox onclick
</A></li>
	<LI>Next message: <A HREF="001984.html">[whatwg] LABEL and radio/checkbox onclick
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1980">[ date ]</a>
              <a href="thread.html#1980">[ thread ]</a>
              <a href="subject.html#1980">[ subject ]</a>
              <a href="author.html#1980">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
