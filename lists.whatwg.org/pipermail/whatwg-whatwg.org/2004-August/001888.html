<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] WF2 part 1-3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WF2%20part%201-3&In-Reply-To=%3CPine.LNX.4.61.0408221222010.20869%40dhalsim.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001890.html">
   <LINK REL="Next"  HREF="001951.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] WF2 part 1-3</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WF2%20part%201-3&In-Reply-To=%3CPine.LNX.4.61.0408221222010.20869%40dhalsim.dreamhost.com%3E"
       TITLE="[whatwg] WF2 part 1-3">ian at hixie.ch
       </A><BR>
    <I>Sun Aug 22 12:26:00 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="001890.html">[whatwg] Week numbers
</A></li>
        <LI>Next message: <A HREF="001951.html">[whatwg] WF2 part 1-3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1888">[ date ]</a>
              <a href="thread.html#1888">[ thread ]</a>
              <a href="subject.html#1888">[ subject ]</a>
              <a href="author.html#1888">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 3 Aug 2004, [iso-8859-1] H&#229;kon Wium Lie wrote:
&gt;&gt;<i> 
</I>&gt;&gt;<i>  (although not necessarily structured XML submission).
</I>&gt;<i> 
</I>&gt;<i> I suggest: structured -&gt; arbitrary
</I>
I agree that &quot;structured&quot; is the wrong word, but arbitrary is a bit strong 
-- it's not arbitrary in XForms, it's derived from the instance model. (In 
fact, it is a serialisation of the instance model.)

How about &quot;arbitrarily structured&quot;?


&gt;&gt;<i> The majority of the features that XForms supports using declarative 
</I>&gt;&gt;<i> syntax are, in this specification, handled by using scripting.
</I>&gt;<i> 
</I>&gt;<i> I disagree. Most features are described declaratively in both 
</I>&gt;<i> specifications. WF2 may resort to scripting in a few places where XForms 
</I>&gt;<i> remain declarative, but on the whole WF2 is also a declarative language.
</I>
Nah, XForms is a _lot_ more declarative than WF2.

I changed it to:

  &lt;p&gt;Many of the less-used features that XForms supports using
  declarative syntax are, in this specification, handled by using
  scripting. Some new interfaces are introduced to simplify some of
  the more tedious tasks.&lt;/p&gt;


&gt;&gt;<i> Compliant UAs must implement all the requirements of those 
</I>&gt;&gt;<i> specifications to claim compliance to this one.
</I>&gt;<i> 
</I>&gt;<i> Is this requirement a bit too ambitious? Are there any compliant HTML4 
</I>&gt;<i> implementation out there (as per Ian Hickson's reading of the specs :)?
</I>
No, but then I don't expect there to be any WF2-compliant UAs either, per 
my reading of the specs. ;-)

It really makes no sense _not_ to require conformance to those other 
specs, since WF2 is just extensions to those specs and can't stand alone.


&gt;&gt;<i> Implementations may optionally implement only one of HTML4 and XHTML1.1.
</I>&gt;<i> 
</I>&gt;<i> I misunderstood the above sentence. By folding it into the previous
</I>&gt;<i> paragraph it will be better understood.
</I>
Fixed.


&gt;&gt;<i> Note: Documents that use the new features described in this 
</I>&gt;&gt;<i> specification cannot be strictly conforming XHTML or HTML4 documents, 
</I>&gt;&gt;<i> since they contain features not defined in those specifications.
</I>&gt;<i> 
</I>&gt;<i> Right. I understand the distinction between conforming documents and 
</I>&gt;<i> conforming UAs, but I fear the above will appear inconsistent compared 
</I>&gt;<i> to the requirements on &quot;compliant UAs&quot; above.
</I>
I've emphasised the word &quot;Documents&quot;; I don't know what else I can do.


&gt;&gt;<i> The children of a form element must be block-level elements, unless one 
</I>&gt;&gt;<i> of the ancestors of the form element is a td, th, li, dd, or 
</I>&gt;&gt;<i> block-level element other than div, in which case either block-level or 
</I>&gt;&gt;<i> inline-level content is allowed.
</I>&gt;<i> 
</I>&gt;<i> Why do they need to be block-level?
</I>
HTML4 already requires this; I'm just loosening up the requirement a bit 
-- if one of the ancestors already conveys the block-level semantic, then 
you don't need it again.


&gt;<i> I don't like the &lt;p&gt; tags in the examples; this is not a paragraph:
</I>&gt;<i> 
</I>&gt;<i>   &lt;p&gt;
</I>&gt;<i>     &lt;label&gt;
</I>&gt;<i>      Quantity:
</I>&gt;<i>      &lt;input name=&quot;count&quot; type=&quot;number&quot; min=&quot;0&quot; max=&quot;99&quot; value=&quot;1&quot; /&gt;
</I>&gt;<i>     &lt;/label&gt;
</I>&gt;<i>   &lt;/p&gt;
</I>
Isn't it? It's a self-contained block of text, the smallest such unit of 
text that can be considered an independent block. Isn't that a paragraph?

What else would you call it?


&gt;&gt;<i> with the time zone set to UTC
</I>&gt;<i> 
</I>&gt;<i> I see the need for a UTC-based value, but expect the &quot;local&quot; variety to 
</I>&gt;<i> be more used. How about calling them &quot;datetime&quot; and &quot;datetime-UTC&quot;?
</I>
I like the current names because they convey an important difference -- 
&quot;datetime&quot; is a date and time, but &quot;datetime-local&quot; is explicitly a local 
date and time. If we called them &quot;datetime-utc&quot; and &quot;datetime&quot; 
respectively, I think you would have authors think that &quot;datetime-utc&quot; was 
just a thing for rare cases that wouldn't affect them, and they'd end up 
never using it, even when it was more appropriate.


&gt;&gt;<i> This type is used most frequently for dates in European industry.
</I>&gt;<i> 
</I>&gt;<i> editorial: &quot;European industry&quot; -&gt; &quot;Europe&quot;. 
</I>
I haven't seen ISO weeks used anywhere except in European industry. Could 
you give an example of non-industry use? (Anything in business counts as 
&quot;industry&quot;, IMHO, although I wouldn't be against changing the spec to 
say &quot;European business&quot;.)


&gt;<i> BTW, my emacs call week numbers &quot;ISO date&quot;.
</I>
Yes, they are ISO standard week numbers.


&gt;&gt;<i> UAs should make it clear to the user that the time does not carry any 
</I>&gt;&gt;<i> time zone information.
</I>&gt;<i> 
</I>&gt;<i> Again, I would reverse it: it's easier to communicate that something is 
</I>&gt;<i> UTC (by showing those three letters) than to say that a time &quot;does not 
</I>&gt;<i> carry any time zone information&quot;.
</I>
It wouldn't show UTC, in all likelyhood; it would show the local time 
zone.

The spec requires both that timezone-enabled types make it clear that 
there is a timezone and that timezone-ignorant types make it clear that 
there is no timezone. One way to do this would be for the UA to show the 
timezone in one and not the other.


&gt;&gt;<i> rogue user agents
</I>&gt;<i> 
</I>&gt;<i> Editorial: &quot;non-conforming user agents&quot;
</I>
The paragraph was specifically referring to malicious users, so I think 
&quot;rogue&quot; in this context is actually correct.


&gt;&gt;<i> A field with a max less than its min can never be satisfied and thus 
</I>&gt;&gt;<i> must block a form from being submitted. This does not make the document 
</I>&gt;&gt;<i> non-conformant.
</I>&gt;<i> 
</I>&gt;<i> Why not?
</I>
Because it could be intentional, for example when a script is changing the 
min and max attributes, it could pass through a stage where max is lower 
than min, quite legitimately.

Also there doesn't seem to be any advantage to making it non-conformant. 
It's not something DTDs can catch anyway.


&gt;&gt;<i> For the control to be valid, the control's value must be an integral 
</I>&gt;&gt;<i> number of steps from the min value, or, if there is no min attribute, 
</I>&gt;&gt;<i> the max value, or if there is neither attribute, from zero.
</I>&gt;<i> 
</I>&gt;<i> I may be confused by some key terms: valid vs. conformant vs. 
</I>&gt;<i> successful. May I suggest a short definition up front somewhere?
</I>
I added this paragraph to the terminology section:

|<i> Form controls are valid when they comply to their constraints, and 
</I>|<i> invalid when they don't. This is distinct from whether form controls are 
</I>|<i> successful, which relates to whether they will be submitted.
</I>
The term successful is already defined, and the definition is linked to 
almost every time the term is used. The term conformant has its own 
section (&quot;conformance requirement&quot;).

Is that paragraph enough, or do you think more needs to be done to explain 
these concepts?


&gt;&gt;<i> For the following control, the allowed values are fifteen seconds
</I>&gt;&gt;<i> and two tenths of a second past the minute, any minute of the day,
</I>&gt;&gt;<i> i.e. 00:00:15.2, 00:01:15.2, 00:02:15.2 ... 23:59:15.2:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;input type=&quot;time&quot; min=&quot;00:00:15.20&quot; name=&quot;t&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> Really? You are saying that each value fragment (hour, minute, second,
</I>&gt;<i> second fragment) is evaluated independently?
</I>
No, I'm saying that the default step is &quot;60&quot; (seconds), and that the step 
starts at the &quot;min&quot; value.

Added a paragraph to clarify this.


&gt;<i> Wouldn't it be more useful to consider the value as one where 
</I>&gt;<i> 'min=&quot;00:00:15.20&quot;' means that all these values are allowed:
</I>&gt;<i> 
</I>&gt;<i>  00:00:15.20
</I>&gt;<i>  00:00:15.21
</I>&gt;<i>  00:00:15.22
</I>&gt;<i>  ..
</I>&gt;<i>  00:00:16.00
</I>&gt;<i>  00:00:16.01
</I>&gt;<i>  ..
</I>&gt;<i>  00:01:00.00
</I>&gt;<i>  ..
</I>
To get this effect, you would say step=&quot;0.01&quot;.


&gt;&gt;<i> For date controls, the value is in days, weeks, or months, for the 
</I>&gt;&gt;<i> date, week, and month types respectively. The format is an integer; one 
</I>&gt;&gt;<i> or more digits 0-9 interpreted as base ten.
</I>&gt;<i> 
</I>&gt;<i> Are negative values allowed? I would think not, and this should be 
</I>&gt;<i> noted.
</I>
Since no negative sign appears in that definition, no. But I've clarified 
it since all the other paragraphs in that section were clear already.


&gt;&gt;<i> For numeric controls (number and range), the format is the number
</I>&gt;&gt;<i> format described above, except that the value must be greater than
</I>&gt;&gt;<i> zero.
</I>&gt;<i> 
</I>&gt;<i> Editorial: a bit more context would be helpful here. I suggest: &quot;...
</I>&gt;<i> the format of the step attribute is the number ...&quot;
</I>
Fixed.


&gt;&gt;<i> When a control has a list attribute, the list of author-specified 
</I>&gt;&gt;<i> autocompletion values shall be given by the list of elements that would 
</I>&gt;&gt;<i> be found by first calling getElementById() ...
</I>&gt;<i> 
</I>&gt;<i> This is the start of a difficult description. Why not just say that
</I>&gt;<i> 
</I>&gt;<i>   &quot;The value of the list attribute is the ID of a datalist element which
</I>&gt;<i>   contains a list of author-specified autocompletion values&quot;.
</I>
That has no conformance criteria, and doesn't say exactly how the list 
should be obtained.


&gt;<i> If this is too simple and the complex description is necessary, I 
</I>&gt;<i> suggest softening it by stating that the list attribute &quot;points to&quot; a 
</I>&gt;<i> list of values, rather than &quot;specify a list of values&quot;
</I>
Ok.


&gt;&gt;<i>  (This data is not made available to the page DOM.)
</I>&gt;<i> 
</I>&gt;<i> Remove parenthesis
</I>
Done.


&gt;&gt;<i> The UA could hove used a rotary control,
</I>&gt;<i> 
</I>&gt;<i> spelling: hove -&gt; have
</I>
Fixed.


&gt;&gt;<i> User agents may use this list to suggest to users the relevant parts of 
</I>&gt;&gt;<i> the document with which the user should interact to change the value.
</I>&gt;<i> 
</I>&gt;<i> How do you envision the suggestion to appear?
</I>
I don't, particularily. This was added based on a request from several 
accessibility experts on behalf of screen reader implementors.


&gt;&gt;<i> The min and max attributes apply to file upload controls and specify 
</I>&gt;&gt;<i> (as positive integers) how many files must be attached for the control 
</I>&gt;&gt;<i> to be valid.
</I>&gt;<i> 
</I>&gt;<i> Did you mean &quot;successful&quot; instead of &quot;valid&quot;?
</I>
No.


&gt;&gt;<i> In this way, the accept attribute may be used to specify that the 
</I>&gt;&gt;<i> server is expecting an image, a sound clip, a video, etc, without 
</I>&gt;&gt;<i> specifying the exact list of types.
</I>&gt;<i> 
</I>&gt;<i> I suggest: 
</I>&gt;<i> 
</I>&gt;<i>   In this way, the accept attribute may be used to specify that the
</I>&gt;<i>   server is expecting (say) images or sound clips, without specifying
</I>&gt;<i>   the exact list of types.
</I>
Done.


&gt;&gt;<i> In HTML4, this attribute only applied to the text and password types.
</I>&gt;<i> 
</I>&gt;<i> The above text is marked up as a note, which is inconsistent with other 
</I>&gt;<i> similar sentences.
</I>
Fixed the other similar sentences to be notes too.


&gt;<i> Compare these two:
</I>&gt;<i> 
</I>&gt;&gt;<i> Authors should include a description of the pattern in the title 
</I>&gt;&gt;<i> attribute.
</I>&gt;<i> 
</I>&gt;&gt;<i> When a control has a pattern attribute, the title attribute, if used, 
</I>&gt;&gt;<i> must describe the pattern.
</I>&gt;<i> 
</I>&gt;<i> They are saying slightly different things in slightly different ways. I 
</I>&gt;<i> suggest keeping the first and striking the second.
</I>
There are two conformance criterita that I want to convey:

 1. for type=&quot;pattern&quot;, authors should include a title=&quot;&quot;
 2. for type=&quot;pattern&quot;, title=&quot;&quot; must describe the pattern

Striking the second sentence removes one of those. I'm open to suggestions 
on other phrasings that would convey both conformance requirements, 
though.


&gt;&gt;<i> In this example, each row contains one form, even though without this 
</I>&gt;&gt;<i> attribute it would not be possible to have more than one form per table 
</I>&gt;&gt;<i> if any of them spanned cells.
</I>&gt;<i> 
</I>&gt;<i> I suggest:
</I>&gt;<i> 
</I>&gt;<i>  In this example, each row contains one form. Without the &quot;form&quot;
</I>&gt;<i>  attribute, it would not be possible to have more than one form per
</I>&gt;<i>  table if any of them spanned cells.
</I>
Fixed.


&gt;&gt;<i> UA implementors should divine appropriate behaviour by reverse 
</I>&gt;&gt;<i> engineering existing products and attempting to emulate their 
</I>&gt;&gt;<i> behaviour.
</I>&gt;<i> 
</I>&gt;<i> Strike divine. Remember, browsers are monolithic dinosaurs with whom no 
</I>&gt;<i> divine being would ever associate.
</I>
Hah. That would explain our troubles with complying to that part of the 
spec, at least...


&gt;&gt;<i> ...except that then the names would all be the same -- all rows would 
</I>&gt;&gt;<i> be &quot;row0&quot;, so there would be no clear way of distinguishing which 
</I>&gt;&gt;<i> &quot;quantity&quot; went with which &quot;product&quot; except by the order in which they 
</I>&gt;&gt;<i> were submitted.
</I>&gt;<i> 
</I>&gt;<i> This is a non-normative part of the spec, but I suggest making the 
</I>&gt;<i> language slightly more formal.
</I>
Which part did you find too informal?


&gt;&gt;<i> Note: To prevent an attribute from being processed in this way, put a 
</I>&gt;&gt;<i> non-breaking zero-width space character (&amp;#xFEFF;) at the start of the 
</I>&gt;&gt;<i> attribute. When the template is cloned, that character will be removed, 
</I>&gt;&gt;<i> but any other text in the attribute will be left alone. This could be 
</I>&gt;&gt;<i> useful if you have no control over the rest of the contents in the 
</I>&gt;&gt;<i> attribute, e.g. if it is user configurable text.
</I>&gt;<i> 
</I>&gt;<i> Why do we need this (arguably ugly hack) when the page author is free to 
</I>&gt;<i> select a value for the ID attribute?
</I>
The hypothetical case this is trying to work around is the one where the 
page is generated dynamically but the ID used is static, and the data in 
the attribute is at least partially under the control of the user.

For example, if a title attribute in a template called &quot;orders&quot; included 
user data such as the name of the user's empire in a strategy game, then 
if the user happened to call his empire &quot;[the] [orders] [empire]&quot; then the 
title attribute would end up getting replaced by &quot;the 2 empire&quot; &quot;the 3 
empire&quot; etc.


&gt;&gt;<i> &lt;tr repeat=&quot;1&quot;&gt;
</I>&gt;&gt;<i> &lt;tr id=&quot;order&quot; repeat=&quot;template&quot; repeat-start=&quot;3&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> I don't like the name of the repeat-* attributes. I suggest these names instead:
</I>&gt;<i> 
</I>&gt;<i>    &lt;tr index=&quot;1&quot;&gt;
</I>&gt;<i>    &lt;tr id=&quot;order&quot; repeat=&quot;3&quot;&gt;
</I>&gt;<i>
</I>&gt;<i> The &quot;repeat&quot; attribute indicates that the element is a template.
</I>
Interesting idea.

The advantage of using repeat-* is that we won't ever clash with any other 
elements' attributes. &quot;index&quot;, for example, could easily have clashed with 
something (although I don't think it does at the moment).

I also like the fact that &quot;repeat&quot; being used for both templates and 
repetition blocks means you can't have an element that is both:

   &lt;tr index=&quot;1&quot; repeat=&quot;1&quot;&gt;

Also, the current attributes have already been implemented, and changing 
them yet again might therefore annoy some people. :-)

But your proposal is quite a lot simpler to the authors, which is a big 
advantage. What do people think?


&gt;&gt;<i> Repetition templates can also be nested. The concept of hierarchy is 
</I>&gt;&gt;<i> expected to be represented in the names, as it is today in hand-rolled 
</I>&gt;&gt;<i> repeating forms, as in:
</I>&gt;<i> 
</I>&gt;<i> Editorial: Avoid &quot;hand-rolled&quot;, this can confuse non-native speakers. I 
</I>&gt;<i> suggest:
</I>&gt;<i> 
</I>&gt;<i>   Repetition templates can also be nested. The concept of hierarchy is
</I>&gt;<i>   expected to be represented in the names, as in today's repeating
</I>&gt;<i>   HTML forms.
</I>
Changed to:

  &lt;p&gt;Repetition templates can also be nested. The concept of hierarchy
  is expected to be represented in the names, as it is manually-created
  repeating forms, as in:&lt;/p&gt;

...but other suggestions are welcome. Its the fact that there is no 
difference between existing, hand-rolled script-driven forms and the ones 
in WF2 which is important.


&gt;&gt;<i> Prefilled rows can contain any content; it need not match the template. 
</I>&gt;&gt;<i> In order to be considered a part of the repetition model, however, the 
</I>&gt;&gt;<i> row must have a repeat attribute with a numeric value. That value can 
</I>&gt;&gt;<i> be any integer. (For example, you could use &quot;-1&quot; as the value of all 
</I>&gt;&gt;<i> prefilled rows.)
</I>&gt;<i> 
</I>&gt;<i> I don't understand why it must not be a valid index.
</I>
Who said it must not be a valid index?


&gt;&gt;<i> (although of course this may be further overriden by the stylesheet)
</I>&gt;<i> 
</I>&gt;<i> Editorial: drop &quot;of course&quot;
</I>
Fixed.


&gt;<i> The repeat model is complex. Could we make is slightly simple by 
</I>&gt;<i> dropping the repeat-template attribute?
</I>
It used to be a lot simpler. Then MarkS and others came along and made all 
these requests to make it &quot;useful in the real world&quot; or something... ;-)

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001890.html">[whatwg] Week numbers
</A></li>
	<LI>Next message: <A HREF="001951.html">[whatwg] WF2 part 1-3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1888">[ date ]</a>
              <a href="thread.html#1888">[ thread ]</a>
              <a href="subject.html#1888">[ subject ]</a>
              <a href="author.html#1888">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
