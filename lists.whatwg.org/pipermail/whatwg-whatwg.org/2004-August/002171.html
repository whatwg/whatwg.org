<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Re: BNF documentation for validated input types
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Re%3A%20BNF%20documentation%20for%20validated%20input%20types&In-Reply-To=%3Copsdjj61kq87i379%40toshistation2.oslo.opera.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002170.html">
   <LINK REL="Next"  HREF="002172.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Re: BNF documentation for validated input types</H1>
<!--htdig_noindex-->
    <B>Brian Wilson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Re%3A%20BNF%20documentation%20for%20validated%20input%20types&In-Reply-To=%3Copsdjj61kq87i379%40toshistation2.oslo.opera.com%3E"
       TITLE="[whatwg] Re: BNF documentation for validated input types">brian at opera.com
       </A><BR>
    <I>Mon Aug 30 03:46:03 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="002170.html">[whatwg] Web Forms 2.0 Feedback
</A></li>
        <LI>Next message: <A HREF="002172.html">[whatwg] Re: BNF documentation for validated input types
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2171">[ date ]</a>
              <a href="thread.html#2171">[ thread ]</a>
              <a href="subject.html#2171">[ subject ]</a>
              <a href="author.html#2171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
I wrote:
&gt;<i> When reading through the section on the new INPUT types, and trying to 
</I>&gt;<i> follow the prose descriptions of what characters are allowed/notallowed,  
</I>&gt;<i> I found myself wishing for a terse BNF string to reference.Perhaps  
</I>&gt;<i> prose-alone was chosen for a reason, but implementers - as wellas some  
</I>&gt;<i> of us spec monkeys - have gotten used to BNF notation for ano-nonsense  
</I>&gt;<i> way of making sense of validity domains. Perhaps this can beadded to the  
</I>&gt;<i> prose descriptions?
</I>
Then Ian replied:
&gt;<i> I've added this to the wishlist. I'm reluctant to do it right now since  
</I>&gt;<i> itwould be quite a lot of work and might introduce contradictions.
</I>&gt;<i>
</I>&gt;<i> In general the allowed values are pretty obvious when you think about it.
</I>&gt;<i>Would BNF-like syntax realy be that much better?
</I>&gt;<i>
</I>&gt;<i>   &lt;number&gt; ::= '-'? &lt;integer&gt; [ '.' &lt;integer&gt; ]? [ 'e' '-'? &lt;integer&gt; ]?
</I>&gt;<i>   &lt;integer&gt; ::= [ '0' .. '9']+
</I>&gt;<i>
</I>&gt;<i>   &lt;time&gt; ::= &lt;digit&gt; &lt;digit&gt; ':' &lt;digit&gt; &lt;digit&gt;
</I>&gt;<i>              [ ':' &lt;digit&gt; &lt;digit&gt; [ '.' &lt;digit&gt;+ ]? ]?
</I>
Ok. Point taken. 8-D I hadn't really reflected on how truly bulky strict  
BNF definitions would be.

As a possible alternative, since pattern attributes are defined using  
ecmascript-ish regexps, perhaps the strictly-patterned input types could  
be as well.

I'm pretty sure the following are correct for the time-related types. I'm  
not sure what the exact regexps would be for email and uri though, and the  
number/range ones will require some interesting expressions too:
----
datetime
    \d{4,}-W\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}.\d+)?Z
datetime-local
    \d{4,}-W\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}.\d+)?
date
    \d{4,}-W\d{2}-\d{2}
month
    \d{4,}-\d{2}
week
    \d{4,}-W\d{2}
time
    \d{2}:\d{2}(:\d{2}.\d+)?

If I've missed anything on these, someone please modify.

Hmm. Those aren't as &quot;pretty&quot; as I'd hoped they'd be (too many repeating  
regexp patterns can be confusing.)

Anyway, just a possible idea for an addition.

-Brian

-- 
Brian Wilson
Opera Core QA

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002170.html">[whatwg] Web Forms 2.0 Feedback
</A></li>
	<LI>Next message: <A HREF="002172.html">[whatwg] Re: BNF documentation for validated input types
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2171">[ date ]</a>
              <a href="thread.html#2171">[ thread ]</a>
              <a href="subject.html#2171">[ subject ]</a>
              <a href="author.html#2171">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
