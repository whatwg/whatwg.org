<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Three concerns regarding HTML5 form validation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Three%20concerns%20regarding%20HTML5%20form%20validation&In-Reply-To=%3CPine.LNX.4.64.1201262230470.16982%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034534.html">
   <LINK REL="Next"  HREF="034536.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Three concerns regarding HTML5 form validation</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Three%20concerns%20regarding%20HTML5%20form%20validation&In-Reply-To=%3CPine.LNX.4.64.1201262230470.16982%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Three concerns regarding HTML5 form validation">ian at hixie.ch
       </A><BR>
    <I>Thu Jan 26 14:38:19 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="034534.html">[whatwg] beforepopstate event?
</A></li>
        <LI>Next message: <A HREF="034536.html">[whatwg] Forms dont submit when disabling submit button
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34535">[ date ]</a>
              <a href="thread.html#34535">[ thread ]</a>
              <a href="subject.html#34535">[ subject ]</a>
              <a href="author.html#34535">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, 26 Sep 2011, Matias wrote:
&gt;<i> 
</I>&gt;<i> I don't know if this can/should be specified in the spec or if it's up 
</I>&gt;<i> to the browser implementors but here's some concerns I have regarding 
</I>&gt;<i> HTML5 form validation;
</I>&gt;<i> 
</I>&gt;<i> 1) Is there a reason why native form validation seems to be tied to the 
</I>&gt;<i> click of the submit button? Submitting the form using JavaScript does 
</I>&gt;<i> not seem to trigger HTML5 form validation in either Firefox, Opera or 
</I>&gt;<i> the Webkit browsers (I haven't checked how IE10 behaves yet). To me this 
</I>&gt;<i> seems like an unnecessary limitation.
</I>
It's intentional, to allow the script to decide whether or not to perform 
the validation. You can use form.checkValidity() to test for validity; it 
causes an 'invalid' event to be fired at all the form controls that are 
invalid.


&gt;<i> 2) How about adding a method to programmatically display the native 
</I>&gt;<i> validation error messages instead of waiting for the form submit click? 
</I>&gt;<i> We already have a way to (more or less) detect if the form is valid or 
</I>&gt;<i> not, but no way of forcing the native validation error messages to 
</I>&gt;<i> render without using some submit button click hack.
</I>
The theory is that if you are not letting the user agent submit the form, 
you probably also want to display the validation UI manually. You can 
easily do that by using the &quot;validationMessage&quot; attribute on all the 
elements in the form.elements list.

I would be interested in studying pages that do JS-based submission but 
still want to do UA-based validation; if you have any pages where you'd 
like to do that, please do send us links!


&gt;<i> 3) Should there be a way of detecting if the browser actually understood 
</I>&gt;<i> all input element types? Browsers believe that a form is valid even when 
</I>&gt;<i> it contains invalid data for input types the browser doesn't understand. 
</I>&gt;<i> (Like the string 'asdf' in an input type=number field in Firefox.)
</I>
You can test using (input.type == input.getAttribute('type')).

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>


















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034534.html">[whatwg] beforepopstate event?
</A></li>
	<LI>Next message: <A HREF="034536.html">[whatwg] Forms dont submit when disabling submit button
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34535">[ date ]</a>
              <a href="thread.html#34535">[ thread ]</a>
              <a href="subject.html#34535">[ subject ]</a>
              <a href="author.html#34535">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
