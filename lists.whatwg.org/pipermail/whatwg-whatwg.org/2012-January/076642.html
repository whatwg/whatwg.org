<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] should we add beforeload/afterload events to the web	platform?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20should%20we%20add%20beforeload/afterload%20events%20to%20the%20web%0A%09platform%3F&In-Reply-To=%3CCAOtd2HWYpipSgG0EP02%2BgaRRo0_H%2B-iW%3Dfof6su2vCvN2P2dqg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="076633.html">
   <LINK REL="Next"  HREF="076643.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] should we add beforeload/afterload events to the web	platform?</H1>
<!--htdig_noindex-->
    <B>Roman Rudenko</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20should%20we%20add%20beforeload/afterload%20events%20to%20the%20web%0A%09platform%3F&In-Reply-To=%3CCAOtd2HWYpipSgG0EP02%2BgaRRo0_H%2B-iW%3Dfof6su2vCvN2P2dqg%40mail.gmail.com%3E"
       TITLE="[whatwg] should we add beforeload/afterload events to the web	platform?">roman at mobify.com
       </A><BR>
    <I>Thu Jan 12 18:23:51 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="076633.html">[whatwg] should we add beforeload/afterload events to the web platform?
</A></li>
        <LI>Next message: <A HREF="076643.html">[whatwg] should we add beforeload/afterload events to the web platform?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76642">[ date ]</a>
              <a href="thread.html#76642">[ thread ]</a>
              <a href="subject.html#76642">[ subject ]</a>
              <a href="author.html#76642">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Jan 12, 2012 at 11:32 AM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:
&gt;&gt;<i> For example, @media-controlled mobile view of a page
</I>&gt;&gt;<i> originally designed for desktop will typically include all desktop
</I>&gt;&gt;<i> assets. beforeload can fix that, as desktop resource loads could be
</I>&gt;&gt;<i> cancelled or even replaced with mobile-specific ones without complete
</I>&gt;&gt;<i> HTML reconstruction.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Except they can't, because beforeload fires after the load has started in
</I>&gt;<i> many cases, right?
</I>
Blocking is possible under some circumstances. Webkit differentiates
between normal parser and speculative parser. Speculative parser is
launched only if normal parser is blocked on execution of a script.
So, one could use beforeload to block resources in Webkit, for as long
as no synchronous scripts are allowed to slip through. Unfortunately,
one runaway script blocks the parser and spoils blocking for anything
after itself.
This might not work as nicely in Firefox, which, according to Boris,
does not maintain separation between main and speculative parser.

Even if that does not work, beforeload can prevent processing of
needlessly fetched resource (which makes it behave more like
'beforeprocess', suggested by Boris).


-- 
Roman Rudenko

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="076633.html">[whatwg] should we add beforeload/afterload events to the web platform?
</A></li>
	<LI>Next message: <A HREF="076643.html">[whatwg] should we add beforeload/afterload events to the web platform?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76642">[ date ]</a>
              <a href="thread.html#76642">[ thread ]</a>
              <a href="subject.html#76642">[ subject ]</a>
              <a href="author.html#76642">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
