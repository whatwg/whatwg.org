<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] autocompletetype vs autocomplete, type attributes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20autocompletetype%20vs%20autocomplete%2C%20type%20attributes&In-Reply-To=%3CCAA3nRajDt_csGjLsSW7L76WNKRCsu1-QRgCvwP9a8ApnpFTp_A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="076800.html">
   <LINK REL="Next"  HREF="076816.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] autocompletetype vs autocomplete, type attributes</H1>
<!--htdig_noindex-->
    <B>Ilya Sherman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20autocompletetype%20vs%20autocomplete%2C%20type%20attributes&In-Reply-To=%3CCAA3nRajDt_csGjLsSW7L76WNKRCsu1-QRgCvwP9a8ApnpFTp_A%40mail.gmail.com%3E"
       TITLE="[whatwg] autocompletetype vs autocomplete, type attributes">isherman at chromium.org
       </A><BR>
    <I>Thu Jan 26 14:59:49 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="076800.html">[whatwg] autocompletetype vs autocomplete, type attributes
</A></li>
        <LI>Next message: <A HREF="076816.html">[whatwg] autocompletetype vs autocomplete, type attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76814">[ date ]</a>
              <a href="thread.html#76814">[ thread ]</a>
              <a href="subject.html#76814">[ subject ]</a>
              <a href="author.html#76814">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Jan 26, 2012 at 5:03 AM, Kornel Lesi&#324;ski &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">kornel at geekhood.net</A>&gt;wrote:

&gt;<i> On Thu, 26 Jan 2012 08:38:41 -0000, Ilya Sherman &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">isherman at chromium.org</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;<i>  IMO, the autocompletetype attribute should have no effect on the
</I>&gt;&gt;<i> rendering/formatting of the form field, whereas the type attribute should.
</I>&gt;&gt;<i>  So, user agents might validate the format of data entered into an &lt;input
</I>&gt;&gt;<i> type=&quot;email&quot;&gt; field, but should not try to perform similar validation for
</I>&gt;&gt;<i> an &lt;input type=&quot;text&quot; autocompletetype=&quot;email&quot;&gt; field.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Orthogonality of validation and autofill sounds nice, but is it useful in
</I>&gt;<i> practice?
</I>&gt;<i>
</I>&gt;<i> The only use case I can think of for a field autocompleted like an e-mail
</I>&gt;<i> field, but not validated like an e-mail field would be login form with a
</I>&gt;<i> username field that accepts either username or e-mail.
</I>&gt;<i>
</I>&gt;<i> However, login forms are better served by login-specific autofill that is
</I>&gt;<i> in current browsers (saving opaque login field and password field
</I>&gt;<i> together), since you don't want to enter arbitrary e-mail address from your
</I>&gt;<i> addressbook, but a specific e-mail/login and a matching password at the
</I>&gt;<i> same time.
</I>&gt;<i>
</I>&gt;<i> Are there any other cases where you'd like field that is autocompleted,
</I>&gt;<i> but doesn't otherwise behave like the autocompleted type?
</I>&gt;<i>
</I>
My comment was really meant in direct response to your question of &quot;Should
&lt;input type=&quot;text&quot; autocompletetype=&quot;email&quot;&gt; behave just like &lt;input
type=&quot;email&quot;&gt;?&quot;  Assuming type and autocompletetype remain separate
attributes, I would not expect the value of the autocompletetype attribute
to have any implications on rendering, formatting, or validation of the
corresponding field and its data -- so the two snippets of HTML you
provided should behave slightly differently.

But even if single-mixed-login-field autocomplete was desired, then perhaps
&gt;<i> a mixed type would work too:
</I>&gt;<i>
</I>&gt;<i>  &lt;input type=&quot;username email&quot;&gt;
</I>&gt;<i>
</I>&gt;<i> It could be defined to mean that either of the two types is accepted, and
</I>&gt;<i> autocomplete works for both.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Also orthogonal type and autocompletetype allows nonsense combinations
</I>&gt;<i> like &lt;input type=number autocompletetype=email&gt;, while a precise type
</I>&gt;<i> attribute would ensure that rendering and autocomplete always make sense
</I>&gt;<i> together.
</I>

A space-separated type attribute likewise allows a nonsense combination
like &lt;input type=&quot;number email&quot;&gt;.  We considered creating a stricter
hierarchy of types that would disallow such nonsense.  However, (a)
developers could type the nonsense anyway, so we'd still have to specify
the error recovery mechanism; and (b) enforcing a hierarchy makes the
extensibility story much trickier.


&gt;<i>  &lt;input type=&quot;tel&quot;&gt; is actually a little more subtle, in that it is
</I>&gt;&gt;<i> ambiguous between what type of phone number is expected: a regular phone
</I>&gt;&gt;<i> number, a fax number, etc.?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Which is why I've suggested extending type attribute to take a token list:
</I>&gt;<i> &lt;input type=&quot;tel fax&quot;&gt;
</I>&gt;<i>
</I>
Ah, I had thought you were suggesting that simply &lt;input type=&quot;fax&quot;&gt; should
be valid, and should behave just as &lt;input type=&quot;tel&quot;&gt; does, except with
more fine-grained type information.  My concern with &lt;input type=&quot;tel fax&quot;&gt;
is that the user agent now has to parse the type attribute in two different
ways: (i) For formatting and validation, the user agent should parse &quot;tel&quot;
as the relevant token; but (ii) for autofill, the user agent should parse
&quot;fax&quot; as the relevant token (and fall back to &quot;tel&quot; if &quot;fax&quot; is not
understood).  This gets really complex to describe and implement.  For
example, how should &lt;input type=&quot;fax tel&quot;&gt; be parsed?  What should happen
if the markup simply says &lt;input type=&quot;fax&quot;&gt;?  What about &lt;input type=&quot;tel
x-3D-fax fax&quot;&gt; and the various permutations of those tokens?


&gt;<i> (my expected rendering for this field would be &quot;[ are you serious? fax in
</I>&gt;<i> the 21st century!? ]&quot; ;)
</I>

I rather agree :)  (A lot of websites do still have fax fields, though...)


&gt;<i>   Briefly, I think the type attribute is designed to describe slightly
</I>&gt;&gt;<i> broader types, just detailed enough to enable user agents to properly
</I>&gt;&gt;<i> render or format or validate form fields and their data.  The
</I>&gt;&gt;<i> autocompletetype attribute, on the other hand, tries to achieve a higher
</I>&gt;&gt;<i> level of precision.  I anticipate that merging these two use cases into a
</I>&gt;&gt;<i> single attribute is undesirable, but I'd love to hear from those more
</I>&gt;&gt;<i> deeply familiar with the design decisions behind the type attribute.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> In the thread you've pointed to I saw suggestion to make registration of
</I>&gt;<i> new types open for anybody, and that could cause difficulty introducing new
</I>&gt;<i> kids of validation/UI under names formerly used only for autocomplete.
</I>&gt;<i>
</I>&gt;<i> How about merging autocompletetype with autocomplete then?
</I>&gt;<i>
</I>&gt;<i> It looks sensible to me:
</I>&gt;<i>
</I>&gt;<i> &lt;input autocomplete=off&gt; &lt;input autocomplete=email&gt;
</I>&gt;<i>
</I>&gt;<i> In case of &lt;form autocomplete=off&gt;&lt;input autocomplete=email&gt;&lt;/form&gt; I'd
</I>&gt;<i> expect autocomplete=email to override form's &quot;off&quot; value.
</I>

I actually like this idea a lot.  We had previously chosen not to extend
the autocomplete attribute because we were worried about backward
compatibility.  In particular, we were worried that existing user agents
might interpret &lt;input type=&quot;text&quot; autocomplete=&quot;bogus&quot;&gt; -- and hence also
&lt;input type=&quot;text&quot; autocomplete=&quot;email&quot;&gt; -- to be equivalent to &lt;input
type=&quot;text&quot; autocomplete=&quot;off&quot;&gt;.  However, I just checked with IE, Chrome,
Firefox, Safari, and Opera -- all simply ignore autocomplete=&quot;bogus&quot;.  So,
we seem to be ok in terms of backward compatibility -- hooray!

If I don't see any objections over the next few days, I'll go ahead and
update the proposal to extend the autocomplete attribute rather than
introducing the additional autocompletetype attribute.


&gt;<i>  Having all of type, autocomplete and autocompletetype looks quite messy.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  One small saving grace here: Since autocomplete defaults to &quot;on&quot;, it
</I>&gt;&gt;<i> should be rare to need to specify both autocomplete and autocompletetype.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I can't imagine usefulness of this:
</I>&gt;<i>
</I>&gt;<i> &lt;input autocomplete=off autocompletetype=email&gt;
</I>&gt;<i>
</I>&gt;<i> and if that case is left out, then I don't see a reason to keep both
</I>&gt;<i> attributes.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I really like the idea of more specific autocomplete types and use of list
</I>&gt;<i> of tokens for this, but the proposed attribute in its current form is
</I>&gt;<i> overlapping/conflicting with existing attributes, and even the name
</I>&gt;<i> 'autocompletetype' itself gives me an impression of a forced extension,
</I>&gt;<i> rather than integral part of the language.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> regards, Kornel Lesi&#324;ski
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="076800.html">[whatwg] autocompletetype vs autocomplete, type attributes
</A></li>
	<LI>Next message: <A HREF="076816.html">[whatwg] autocompletetype vs autocomplete, type attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76814">[ date ]</a>
              <a href="thread.html#76814">[ thread ]</a>
              <a href="subject.html#76814">[ subject ]</a>
              <a href="author.html#76814">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
