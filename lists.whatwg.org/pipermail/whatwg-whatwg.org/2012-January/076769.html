<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] add html-attribute for &quot;responsive images&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20add%20html-attribute%20for%20%22responsive%20images%22&In-Reply-To=%3CCAMCRKi%2BTVs8x8yX9iUu-PbF%2B%2B25j0zzCU38izsQTL3adUoW7_A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="076768.html">
   <LINK REL="Next"  HREF="076772.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] add html-attribute for &quot;responsive images&quot;</H1>
<!--htdig_noindex-->
    <B>Matthew Wilcox</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20add%20html-attribute%20for%20%22responsive%20images%22&In-Reply-To=%3CCAMCRKi%2BTVs8x8yX9iUu-PbF%2B%2B25j0zzCU38izsQTL3adUoW7_A%40mail.gmail.com%3E"
       TITLE="[whatwg] add html-attribute for &quot;responsive images&quot;">mail at matthewwilcox.com
       </A><BR>
    <I>Wed Jan 25 06:07:14 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="076768.html">[whatwg] add html-attribute for &quot;responsive images&quot;
</A></li>
        <LI>Next message: <A HREF="076772.html">[whatwg] add html-attribute for &quot;responsive images&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76769">[ date ]</a>
              <a href="thread.html#76769">[ thread ]</a>
              <a href="subject.html#76769">[ subject ]</a>
              <a href="author.html#76769">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ugh, my Gmail keeps sending mail from the wrong address, let me try again:

...

In fact, please just read the blog post Bruce Lawson (Opera Software)
made summarising the last few months of effort on this, and his proposal
for a mark-up level solution (which I'm in broad support of, though there
are a lot of knotty issues with any potential solution - as can be seen by
the volume of blog-posts, comments, and articles on the topic):

<A HREF="http://www.brucelawson.co.uk/2011/notes-on-adaptive-images-yet-again/">http://www.brucelawson.co.uk/2011/notes-on-adaptive-images-yet-again/</A>

...

I should add that relying on mobile-networks compressing images is not a
good enough solution either. Firstly, they don't always. Secondly, this is
about performance and device capability not mobile network behaviour.

Personally I think media should respond to detected connection speed and/or
device capabilities. That involves equipping HTML with the ability to
detect those things which is a big ask. But, I feel, very worth while in
terms of future-proofing. I'm all for headers being sent with all HTTP
requests to inform the server of device details - allowing the server to
choose appropriately. But, we also need a mark-up level solution. They're
not the same problem though superficially they appear similar.

On 25 January 2012 13:42, David Goss &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dvdgoss at gmail.com</A>&gt; wrote:

&gt;<i> On Tue, 24 Jan 2012 23:26, Ian Hickson wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; What's the use case for doing it for images in &lt;img&gt; elements? Typically
</I>&gt;<i> &gt; &lt;img&gt; elements are for content images, where you don't usually want to
</I>&gt;<i> &gt; adapt anything.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Tue, 30 Aug 2011, Karl Dubost wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; And as I explained elsewhere it is not a question of
</I>&gt;<i> high/low-resolution
</I>&gt;<i> &gt; &gt; only, but about interaction contexts. Different images for different
</I>&gt;<i> &gt; &gt; surface sizes.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Desktop: Show a full photo of Anne van Kesteren riding on a plane
</I>&gt;<i> &gt; 1024*250 px
</I>&gt;<i> &gt; &gt; Tablet: Show the photo a closer shot of the plane (cowboy frame)
</I>&gt;<i> &gt;  400*150 px
</I>&gt;<i> &gt; &gt; Mobile: Show a portrait of Anne with his leather pilot helmet 100x100
</I>&gt;<i> px
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I don't understand the use case. For something like a user profile icon
</I>&gt;<i> &gt; surely it would be rather bad UI to use a different icon on different
</I>&gt;<i> &gt; devices. I presume you don't mean a profile icon though, since 1024x250
</I>&gt;<i> is
</I>&gt;<i> &gt; a bit excessive for an icon these days, and I'm not aware of any site
</I>&gt;<i> that
</I>&gt;<i> &gt; lets users pick different icons for different size contexts.
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> The use case is that you want to serve the same image (same content) to all
</I>&gt;<i> users, but you want to serve it in different resolutions depending on their
</I>&gt;<i> context to avoid wasting bandwidth and killing performance (especially on
</I>&gt;<i> mobile devices where performance is key - you don't want to download a
</I>&gt;<i> 1000px-wide image when you're scaling it down to 320px wide to display it).
</I>&gt;<i>
</I>&gt;<i> Karl's example is on dangerous ground, IMO. The different sizes of the
</I>&gt;<i> image could be slightly cropped/zoomed as appropriate, but should still
</I>&gt;<i> clearly represent the same thing - in other words, the same alt text should
</I>&gt;<i> correctly describe all of them.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; On Wed, 31 Aug 2011, Bjartur Thorlacius wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Bottom (top?) line: User agents should negotiate an appropriate
</I>&gt;<i> &gt; &gt; message-body size using HTTP. Sending an accept-size (or some such)
</I>&gt;<i> &gt; &gt; could solve both the problem of high resolution photography and lengthy
</I>&gt;<i> &gt; &gt; documents. The amount of split articles (&quot;Click here to go to the next
</I>&gt;<i> &gt; &gt; page / page 4&quot;) and long search results show clear demand.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I don't think that really works. You wouldn't want to get different
</I>&gt;<i> &gt; results if I started with a small window vs starting with a big window
</I>&gt;<i> and
</I>&gt;<i> &gt; narrowing it. It should adapt in realtime.
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> I agree: this needs to be done in markup, not on the server with headers.
</I>&gt;<i> Not that users resize their browsers all that much (except orientation
</I>&gt;<i> changes on phones and tablets). But, yeah.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; Note that &quot;resolution&quot; and &quot;number of pixels on the screen&quot; are
</I>&gt;<i> orthogonal
</I>&gt;<i> &gt; issues. Also, note that the number of pixels on the screen is irrelevant,
</I>&gt;<i> &gt; it's the number of pixels on the viewport that matters.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; My phone has a far higher resolution than my TV, but has the same number
</I>&gt;<i> &gt; of pixels. My phone also has a higher resolution than my desktop, but
</I>&gt;<i> &gt; windows on my desktop typically have far more pixels.
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> You're right - all pixels are not equal. The solution I'm going to propose
</I>&gt;<i> involves media queries, so things like device-pixel-ratio can be used to
</I>&gt;<i> address that issue.
</I>&gt;<i>
</I>&gt;<i> I'm proposing this (adapted from Bruce Lawson's &lt;picture&gt; idea, and similar
</I>&gt;<i> to how the &lt;video&gt; element works):
</I>&gt;<i>
</I>&gt;<i> &lt;adaptiveimg&gt;
</I>&gt;<i>    &lt;img src=&quot;sweater-small.jpg&quot; alt=&quot;Blue v-neck sweater in soft wool&quot;&gt;
</I>&gt;<i>    &lt;source src=&quot;sweater-medium.jpg&quot; media=&quot;(min-width: 300px) and
</I>&gt;<i> (max-width: 450px)&quot;&gt;
</I>&gt;<i>    &lt;source src=&quot;sweater-large.jpg&quot; media=&quot;(min-width: 451px) and
</I>&gt;<i> (max-width: 600px)&quot;&gt;
</I>&gt;<i>    &lt;source src=&quot;sweater-huge.jpg&quot; media=&quot;(min-width: 601px)&quot;&gt;
</I>&gt;<i> &lt;/adaptiveimg&gt;
</I>&gt;<i>
</I>&gt;<i> Yep, another new element: &lt;adaptiveimg&gt;. It doesn't have any attributes of
</I>&gt;<i> its own (except the standard ones). It must contain one &lt;img&gt; element,
</I>&gt;<i> which the author will furnish with an alt attribute and whatever else as
</I>&gt;<i> normal. It then contains one or more &lt;source&gt; elements, each with a media
</I>&gt;<i> attribute containing a valid media query.
</I>&gt;<i>
</I>&gt;<i> The user agent should cycle through each &lt;source&gt; element in order,
</I>&gt;<i> updating the src of the &lt;img&gt; accordingly if the media query is matched. If
</I>&gt;<i> there are no &lt;source&gt; elements, or none of the media queries are matched,
</I>&gt;<i> the original src on the &lt;img&gt; is used. Only after this logic has completed
</I>&gt;<i> should the HTTP request for the image file take place (so there are no
</I>&gt;<i> wasted downloads). The media queries I've used in the example are very
</I>&gt;<i> simple, using just min-width and max-width, but in reality authors would
</I>&gt;<i> often include other things such as device-pixel-ratio and color/monochrome.
</I>&gt;<i>
</I>&gt;<i> Non-supporting UAs would simply ignore the new elements and render the
</I>&gt;<i> &lt;img&gt; as normal, but the structure would allow authors to implement a
</I>&gt;<i> JavaScript polyfill if desired.
</I>&gt;<i>
</I>&gt;<i> To be clear, all the &lt;source&gt;s should point to different sizes of the same
</I>&gt;<i> image &#8212; otherwise the content is being changed, which isn't what we're
</I>&gt;<i> looking to do here. In other words, the same alt attribute should correctly
</I>&gt;<i> describe all the &lt;source&gt;s.
</I>&gt;<i>
</I>&gt;<i> I'm sure there's a lot I haven't thought of, but hopefully this is a good
</I>&gt;<i> start. Thoughts?
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="076768.html">[whatwg] add html-attribute for &quot;responsive images&quot;
</A></li>
	<LI>Next message: <A HREF="076772.html">[whatwg] add html-attribute for &quot;responsive images&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76769">[ date ]</a>
              <a href="thread.html#76769">[ thread ]</a>
              <a href="subject.html#76769">[ subject ]</a>
              <a href="author.html#76769">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
