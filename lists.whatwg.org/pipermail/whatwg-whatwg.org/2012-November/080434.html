<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Deferring javascript download and execution until	after onload
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Deferring%20javascript%20download%20and%20execution%20until%0A%09after%20onload&In-Reply-To=%3C308A6EE0-B84B-4106-93D3-845E07D4AF52%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080433.html">
   <LINK REL="Next"  HREF="038162.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Deferring javascript download and execution until	after onload</H1>
<!--htdig_noindex-->
    <B>Kyle Simpson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Deferring%20javascript%20download%20and%20execution%20until%0A%09after%20onload&In-Reply-To=%3C308A6EE0-B84B-4106-93D3-845E07D4AF52%40gmail.com%3E"
       TITLE="[whatwg] Deferring javascript download and execution until	after onload">getify at gmail.com
       </A><BR>
    <I>Wed Nov 28 21:07:37 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080433.html">[whatwg] Deferring javascript download and execution until	after onload
</A></li>
        <LI>Next message: <A HREF="038162.html">[whatwg] [mimesniff] Treating application/octet-stream as unknown	for sniffing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80434">[ date ]</a>
              <a href="thread.html#80434">[ thread ]</a>
              <a href="subject.html#80434">[ subject ]</a>
              <a href="author.html#80434">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian,

&gt;<i> The only cost there could be is the cost 
</I>&gt;<i> of executing the script, and it's already trivial to offload that: just 
</I>&gt;<i> put all the code in a function, then call the function when you're ready.
</I>
&gt;<i> It's already possible now to design scripts such that they don't run until 
</I>&gt;<i> you call them, so you could already do this:
</I>
You ask us not to make duplicate arguments because you say that it just clogs up this list and does nothing to change the outcome of your decision. I would like to ask that you not do the same. You have said this same thing no less than 10 times across various threads and communications. I really don't think anyone who's following this particular issue is unclear about your stance.

-------

What it boils down to is, you feel that the onus is on the developers of the scripts themselves to change so they are more &quot;performance optimization friendly&quot; for those who use the scripts. 

There are a number of us who work in the performance optimization consulting arena, and when we consult with a site who's using a bunch of third party scripts, and most of those scripts are not written the way you think they should be, those clients aren't happy when we have to tell them &quot;sorry, your only option to optimize the performance is to make your own modifications to those 3rd party scripts, and then self-host them, and then keep up with merging changes constantly, etc&#8230;&quot; or some other such impractical nonsense.

Your approach is like tail-wagging-the-dog: let's make sure performance stays less than optimal, so that eventually the designers of these scripts have to wake up and fix it.

Perhaps you want to drag this issue out long enough (been under discussion for almost 2 years now) that all those poorly designed scripts across the web are just eventually made obsolete or finally &quot;fixed&quot; without the web platform needing to address it. The rest of us, I think, would like to actually make performance gains and optimizations now. It will be years and years before most of the popular scripts on the web may be rewritten in the way you suggest. It's just a shame that performance has to continue to suffer until then.

Giving us a mechanism by which we could load existing scripts written and maintained by others, which we don't control, in a way that is more performant than what we can currently do, regardless of how that script is designed to self-execute or not, would be a very useful tool to us, despite you insisting it's not useful.

Also, some scripts, by nature of what they do or how they do it, will ALWAYS have to auto-execute. Consider the feature-tests that jQuery or Modernizr do automatically during their initialization. I think it would hurt both jQuery and Modernizr and others like them if users all of a sudden had to start calling a $.init() or something like that before they could use the script. The untold tens of thousands of sites and books which explain how to use these scripts would all be rendered completely inaccurate if such a major paradigm shift were to happen.


--Kyle




</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080433.html">[whatwg] Deferring javascript download and execution until	after onload
</A></li>
	<LI>Next message: <A HREF="038162.html">[whatwg] [mimesniff] Treating application/octet-stream as unknown	for sniffing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80434">[ date ]</a>
              <a href="thread.html#80434">[ thread ]</a>
              <a href="subject.html#80434">[ subject ]</a>
              <a href="author.html#80434">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
