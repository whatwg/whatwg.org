<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] A plea to Hixie to adopt &lt;main&gt;, and main element parsing behaviour
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20A%20plea%20to%20Hixie%20to%20adopt%20%3Cmain%3E%2C%0A%20and%20main%20element%20parsing%20behaviour&In-Reply-To=%3CCA%2Bri%2BVnD2%2BRJPmPocCBrrdxdWsxcY2-S1C6%3DEpwMGyHi-by%3D0g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080101.html">
   <LINK REL="Next"  HREF="080128.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] A plea to Hixie to adopt &lt;main&gt;, and main element parsing behaviour</H1>
<!--htdig_noindex-->
    <B>Steve Faulkner</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20A%20plea%20to%20Hixie%20to%20adopt%20%3Cmain%3E%2C%0A%20and%20main%20element%20parsing%20behaviour&In-Reply-To=%3CCA%2Bri%2BVnD2%2BRJPmPocCBrrdxdWsxcY2-S1C6%3DEpwMGyHi-by%3D0g%40mail.gmail.com%3E"
       TITLE="[whatwg] A plea to Hixie to adopt &lt;main&gt;, and main element parsing behaviour">faulkner.steve at gmail.com
       </A><BR>
    <I>Thu Nov  8 01:51:19 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080101.html">[whatwg] A plea to Hixie to adopt &lt;main&gt;, and main element parsing behaviour
</A></li>
        <LI>Next message: <A HREF="080128.html">[whatwg] A plea to Hixie to adopt &lt;main&gt;, and main element parsing behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80110">[ date ]</a>
              <a href="thread.html#80110">[ thread ]</a>
              <a href="subject.html#80110">[ subject ]</a>
              <a href="author.html#80110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi all,

responses in line

On 7 November 2012 19:38, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:

&gt;<i> On Wed, 7 Nov 2012, Simon Pieters wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; My impression from TPAC is that implementors are on board with the idea
</I>&gt;<i> &gt; of adding &lt;main&gt; to HTML, and we're left with Hixie objecting to it.
</I>&gt;<i>
</I>&gt;<i> If implementors wish to implement something, my objecting is irrelevant.
</I>&gt;<i> :-)
</I>&gt;<i>
</I>&gt;<i> Just implement it.
</I>&gt;<i>
</I>
It appears that some implementers would like Hixie to spec &lt;main&gt;, but he
is unwilling as he disagrees with the feature,

In a hallway discussion with a microsoft rep at TPAC he indicated that IE
would have no objections to implementing the feature was introduced via
the  HTML WG, which is what is happening at the moment. I also asked other
browser implementers who indicated that agreement from Hixie was not a
prerequisite for implementation. I suggest what is a prerequisite is clear
use cases and data to back them up and a well defined spec of the feature.
These are provided via the main spec and linked documents [1]

I have also spoken to various browser accessibility engineers who have
agreed that it would be a useful addition to complete the HTML element -
ARIA landmark mapping, and that the accessibility part would be trivial to
implement [4]:

I am generally in favor of a &lt;main&gt; element, and FWIW, implementation of
the semantics should be trivial in WebKit, or any UA that supports the ARIA
'main' landmark role already.


another data point: when i discussed the main element with one of the
mozilla accessibility engineers they suggested that it would be useful for
providing a built in skip to content link, which is one of the use cases.



&gt;<i> &gt; Hixie's argument is, I think, that the use case that &lt;main&gt; is intended
</I>&gt;<i> &gt; to address is already possible by applying the Scooby-Doo algorithm, as
</I>&gt;<i> &gt; James put it -- remove all elements that are not main content, &lt;header&gt;,
</I>&gt;<i> &gt; &lt;aside&gt;, etc., and you're left with the main content.
</I>&gt;<i>
</I>&gt;<i> The reason there is no element &lt;main&gt; in the HTML spec currently is that
</I>&gt;<i> there are no use cases for it that aren't already handled, right.
</I>&gt;<i>
</I>
The use cases data and rationale have been provided [1]. If you have
objections it would be useful to respond to them rather than restating your
position.


&gt;<i> &gt; I think the Scooby-Doo algorithm is a heuristic that is not reliable
</I>&gt;<i> &gt; enough in practice, since authors are likely to put stuff outside the
</I>&gt;<i> &gt; main content that do not get filtered out by the algorithm, and vice
</I>&gt;<i> &gt; versa.
</I>&gt;<i>
</I>&gt;<i> That people will get markup wrong is a given. This will not obviously be
</I>&gt;<i> any less the case with an element named &lt;main&gt; than an element named
</I>&gt;<i> &lt;article&gt; or elements named &lt;nav&gt; or &lt;aside&gt; or &lt;header&gt;.
</I>&gt;<i>
</I>
Agreed that people get markup wrong, I don't agree with your supposition
that &lt;main&gt; would be just as prone to mistakes as the other elements you
cited.

&lt;main&gt; is a  simple concept, and its use is clearly defined, its limitation
of use once per page makes it less prone to mistakes in its use, it is
based on concepts that are evident in authoring practises and the evidence
of the strong correlation between elements (typically divs) identifying the
main content area and their use for role=main and the target of skip links
indicates the concept is already understood and in use.


&gt;<i>
</I>&gt;<i> In fact, when we have looked at actual data for this (see e.g. the recent
</I>&gt;<i> thread where I went through Steve's data, or the threads years ago when
</I>&gt;<i> this first came up), it turns out authors are significantly more reliably
</I>&gt;<i> using class names that relate to marking up navigation blocks and headers,
</I>&gt;<i> than they are about marking up &quot;main&quot;. Authors seem to put class=&quot;main&quot;
</I>&gt;<i> and equivalents around every possible combination of content in a page,
</I>&gt;<i> purely based on their styling needs.
</I>&gt;<i>
</I>
Problem is Ian,  you haven't responded to the data and use cases, you have
have misdirected the discussion by continuing to talk about class names,
when the data and use cases and rationale are based on the use of id values.

Did the year's old previous discussion take into account id value data or
skip link data or role=main placement data?

What the relevant new data clearly indicates is that in approx 80% of cases
when authors identify the main area of content it is the part of the
content that does not include header, footer or navigation content.


It also indicates that where skip links are present or role=main is used
their position correlates highly with the use of id values designating the
main content area of a page.

furthermore when ARIA role=main is used in 95% [3] of the cases in the data
sampled it is used once only which is a clear indicator that authors get
how to identify  the main content area of a page.

*  use of a descriptive id to value to identify the main content area of a
web page is common.
(id=&quot;main&quot;|id=&quot;content&quot;|id=&quot;
maincontent&quot;|id=&quot;content-main&quot;|id=&quot;main-content&quot;
used on 39% of the pages in the sample [2])

 * There is a strong correlation between use of role='main' on an element
with id values of 'content' or 'main' or permutations. (when used = 101
pages)  77% were on an element with id values of 'content' or 'main' or
permutations.
* There is a strong correlation between use of id values of 'content' or
'main' or permutations as targets for 'skip to content'/'skip to main
content' links (when used = 67 pages) 78% of skip link targets # were
elements with id values of 'content' or 'main' or permutations.
* There appears to be a strong correlation in the identification of content
areas (with id values of 'content' or 'main' or permutations.) as what is
described in the spec as appropriate content to be contained with a
&lt;main&gt; element [1]



&gt;<i>
</I>&gt;<i> Thus if the use case is &quot;determine where the boilerplate ends&quot;, i.e.
</I>&gt;<i> skipping navigation blocks, headers, footers, and sidebars, the evidence
</I>&gt;<i> I've examined suggests that it would be more reliable to have authors mark
</I>&gt;<i> up those blocks than mark up &quot;the main content&quot;.
</I>&gt;<i>
</I>
as stated above you have been looking at class names not id values.




&gt;<i> &gt; Implementations that want to support a &quot;go to main content&quot; or
</I>&gt;<i> &gt; &quot;highlight the main content&quot;, like Safari's Reader Mode, or whatever
</I>&gt;<i> &gt; it's called, need to have various heuristics for detecting the main
</I>&gt;<i> &gt; content, and is expected to work even for pages that don't use any of
</I>&gt;<i> &gt; the new elements. However, I think using &lt;main&gt; as a way to opt out of
</I>&gt;<i> &gt; the heuristic works better than using &lt;aside&gt; to opt out of the
</I>&gt;<i> &gt; heuristic.
</I>&gt;<i>
</I>&gt;<i> On what basis do you draw that conclusion?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; For instance, it seems reasonable to use &lt;aside&gt; for a pull-quote as
</I>&gt;<i> &gt; part of the main content, and you don't want that to be excluded, but
</I>&gt;<i> &gt; the Scooby-Doo algorithm does that.
</I>&gt;<i>
</I>&gt;<i> If it's a pull quote, why would you _not_ want it excluded?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Wed, 7 Nov 2012, Ojan Vafai wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This idea doesn't seem to address any pressing use-cases. I don't expect
</I>&gt;<i> &gt; authors to use it as intended consistently enough for it to be useful in
</I>&gt;<i> &gt; practice for things like Safari's Reader mode. You're stuck needing to
</I>&gt;<i> &gt; use something like the Scooby-Doo algorithm most of the time anyways.
</I>&gt;<i>
</I>&gt;<i> Exactly.
</I>&gt;<i>
</I>
Exactly what? that the commenter agrees with your position, nothing else in
the statement is obvious.


&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Thu, 8 Nov 2012, Kang-Hao (Kenny) Lu wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; [...] another argument, if I understand correctly, is to use &lt;article&gt;
</I>&gt;<i> &gt; in place of this role. I think the Web is probably full of mis-used
</I>&gt;<i> &gt; &lt;article&gt; already such that using the first &lt;article&gt; in document order
</I>&gt;<i> &gt; has no chance to work out, but it would nice if this can be verified,
</I>&gt;<i> &gt; even though I can already imagine that an author is unlikely to mark up
</I>&gt;<i> &gt; the main content with &lt;article&gt; when the main content isn't an article
</I>&gt;<i> &gt; in English sense.
</I>&gt;<i>
</I>&gt;<i> For the &quot;jump to the start of the body&quot; use case, &lt;article&gt; and &lt;main&gt;
</I>&gt;<i> seem like they'd be misused exactly as much as each other.
</I>&gt;<i>
</I>&gt;<i>
</I>A statement of supposition only, article is not as simply defined or simple
to know when and when not to use as the main element.




&gt;<i>
</I>&gt;<i> &gt; James Graham wrote:
</I>&gt;<i> &gt; &gt; The observation that having one element on a page marked &#8212; via class
</I>&gt;<i> &gt; &gt; or id &#8212; &quot;main&quot; is already a clear cowpath enhances the credibility
</I>&gt;<i> &gt; &gt; of the suggested solution. On the other hand, I agree that now
</I>&gt;<i> &gt; &gt; everyone heading down the cowpath was aiming for the same place; a
</I>&gt;<i> &gt; &gt; &lt;div class=main&gt; wrapping the whole page, headers, footers, and all is
</I>&gt;<i> &gt; &gt; clearly not the same as one that identifies the extent of the primary
</I>&gt;<i> &gt; &gt; content.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Right.
</I>&gt;<i>
</I>&gt;<i> Studying the data, as I have done in previous threads, has always
</I>&gt;<i> indicated that there is actually no cowpath here for &quot;main&quot;. As James says
</I>&gt;<i> above, these classes and IDs are used for all kinds of combinations of
</I>&gt;<i> content and headers, content and navigation, just content, etc. If this is
</I>&gt;<i> any indication, &lt;main&gt; wouldn't be useful for its stated purpose.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; So, assuming &quot;skip to main&quot; is the only use case for &lt;main&gt;, which I am
</I>&gt;<i> &gt; not sure if Steve agrees, I think the proposal should use strong wording
</I>&gt;<i> &gt; to prevent such misuse and the proposal should include one example of
</I>&gt;<i> &gt; such misuse and explains it.
</I>&gt;<i>
</I>&gt;<i> The strength of the wording will have basically no effect, let's be
</I>&gt;<i> realistic here. Few authors read the spec. It doesn't matter most of the
</I>&gt;<i> time, because the failure mode if an author uses &lt;em&gt; instead of &lt;var&gt; or
</I>&gt;<i> vice versa is just that the styling will be slightly off or maintenance
</I>&gt;<i> will be slightly harder. The failure mode for &lt;main&gt; would be that its
</I>&gt;<i> entire reason for existing (making a heuristic simpler) is lost.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Wed, 7 Nov 2012, Simon Pieters wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm not convinced that we should freeze the parser now just because we
</I>&gt;<i> &gt; have reached interop.
</I>&gt;<i>
</I>&gt;<i> For the record, I personally do not consider the parser frozen.
</I>&gt;<i>
</I>&gt;<i> If an implementor wants to implement &lt;main&gt;, they should IMHO do so by
</I>&gt;<i> supporting it the same way as &lt;article&gt; is supported in the parser, with
</I>&gt;<i> the DOM interface HTMLElement, with the same styling and (for conformance
</I>&gt;<i> checkers and authoring tools) content model as &lt;div&gt;. However, I would
</I>&gt;<i> recommend against implementing &lt;main&gt;, for the reasons given above.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; I think not changing the parser here makes &lt;main&gt; (and other future
</I>&gt;<i> &gt; elements; whatever we do here sets a precedent for future elements)
</I>&gt;<i> &gt; inconsistent with the rest of HTML. In the long term, having &lt;main&gt; and
</I>&gt;<i> &gt; &lt;aside&gt; parse differently just because we didn't want to change the
</I>&gt;<i> &gt; behavior from 2012-era browsers will seem silly.
</I>&gt;<i>
</I>&gt;<i> Indeed. Given how relatively painless transitioning from no parser spec at
</I>&gt;<i> all to having one at all actually ended up being, at least relative to
</I>&gt;<i> what I was expecting, I think adding new elements isn't a big deal at all.
</I>&gt;<i> (Even in the &lt;head&gt;.) We shouldn't add elements in general, but that's
</I>&gt;<i> more about not expanding the language, not about the parser.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Ian Hickson               U+1047E                )\._.,--....,'``.    fL
</I>&gt;<i> <A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
</I>&gt;<i> Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</I>


[1]
<A HREF="https://dvcs.w3.org/hg/html-extensions/raw-file/tip/maincontent/index.html">https://dvcs.w3.org/hg/html-extensions/raw-file/tip/maincontent/index.html</A>
<A HREF="http://www.w3.org/html/wg/wiki/User:Sfaulkne/main-usecases#Introduction">http://www.w3.org/html/wg/wiki/User:Sfaulkne/main-usecases#Introduction</A>
<A HREF="http://lists.w3.org/Archives/Public/public-html/2012Oct/0109.html">http://lists.w3.org/Archives/Public/public-html/2012Oct/0109.html</A>

[2]
<A HREF="http://www.paciellogroup.com/blog/2012/04/html5-accessibility-chops-data-for-the-masses/">http://www.paciellogroup.com/blog/2012/04/html5-accessibility-chops-data-for-the-masses/</A>

[3]
<A HREF="http://www.paciellogroup.com/blog/2012/04/html5-accessibility-chops-real-world-aria-landmark-use/">http://www.paciellogroup.com/blog/2012/04/html5-accessibility-chops-real-world-aria-landmark-use/</A>

[4] <A HREF="http://lists.w3.org/Archives/Public/public-html/2012Nov/0085.html">http://lists.w3.org/Archives/Public/public-html/2012Nov/0085.html</A>
-- 
with regards

Steve Faulkner
Technical Director - TPG

www.paciellogroup.com | www.HTML5accessibility.com |
www.twitter.com/stevefaulkner
HTML5: Techniques for providing useful text alternatives -
dev.w3.org/html5/alt-techniques/
Web Accessibility Toolbar - www.paciellogroup.com/resources/wat-ie-about.html

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080101.html">[whatwg] A plea to Hixie to adopt &lt;main&gt;, and main element parsing behaviour
</A></li>
	<LI>Next message: <A HREF="080128.html">[whatwg] A plea to Hixie to adopt &lt;main&gt;, and main element parsing behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80110">[ date ]</a>
              <a href="thread.html#80110">[ thread ]</a>
              <a href="subject.html#80110">[ subject ]</a>
              <a href="author.html#80110">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
