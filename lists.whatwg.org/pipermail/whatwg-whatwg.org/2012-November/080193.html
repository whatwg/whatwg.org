<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Enabling LCD Text in 2D canvases.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Enabling%20LCD%20Text%20in%202D%20canvases.&In-Reply-To=%3CCABpaAqTens8M2nFia%3D%2BmKCZnNayjy-jDtObTt3m5_F25AydVCg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080188.html">
   <LINK REL="Next"  HREF="080201.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Enabling LCD Text in 2D canvases.</H1>
<!--htdig_noindex-->
    <B>Justin Novosad</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Enabling%20LCD%20Text%20in%202D%20canvases.&In-Reply-To=%3CCABpaAqTens8M2nFia%3D%2BmKCZnNayjy-jDtObTt3m5_F25AydVCg%40mail.gmail.com%3E"
       TITLE="[whatwg] Enabling LCD Text in 2D canvases.">junov at chromium.org
       </A><BR>
    <I>Wed Nov 14 08:09:49 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080188.html">[whatwg] Enabling LCD Text in 2D canvases.
</A></li>
        <LI>Next message: <A HREF="080201.html">[whatwg] Enabling LCD Text in 2D canvases.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80193">[ date ]</a>
              <a href="thread.html#80193">[ thread ]</a>
              <a href="subject.html#80193">[ subject ]</a>
              <a href="author.html#80193">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Nov 13, 2012 at 9:37 PM, Robert O'Callahan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt;wrote:

&gt;<i> On Mon, Nov 12, 2012 at 2:36 PM, Justin Novosad &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">junov at chromium.org</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Any thoughts?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> We'd have to define what happens when you use subpixel antialiasing
</I>&gt;<i> &quot;incorrectly&quot;, because we can be pretty sure authors will use it
</I>&gt;<i> incorrectly and expect to get interoperable behavior.
</I>&gt;<i>
</I>&gt;<i> Mozilla supports a &quot;mozOpaque&quot; attribute which makes the canvas buffer
</I>&gt;<i> RGBX (initialized to solid black) and enables subpixel antialiasing for
</I>&gt;<i> most text drawing. That might be enough to address your use-cases.
</I>&gt;<i>
</I>&gt;<i>
</I>On top of that, subpixel antialiasing would have to get turned off if a
rotation or scale (or any transform that breaks pixel alignment), is
applied to the canvas element.

That is an interesting solution but it is still not 100% safe from the
author's perspective, since there are still several use cases that could
cause artifacts (e.g. applying transforms post rasterization) Even with
this feature, it still requires a lot of care to do everything right 100%
of the time.  For example, suppose the page gets zoomed after the canvas
contents were rendered.
Advanced authors will be able to deal with this by triggering a canvas
re-draw, they might even preserve subpixel AA by resizing the canvas and
applying a reciprocal scale to bring the canvas element's effective zoom
back to 1.

Given how 2d canvas currently works, I don't see any killer solution that
would allow subpixel antialiased text without any caveats.
Are there precedents for exposing features with documented caveats?
(excluding caveats that were discovered after the fact)

Anyone with brilliant ideas: please speak up!

Thanks,

    -Justin


&gt;<i> Rob
</I>&gt;<i> --
</I>&gt;<i> Jesus called them together and said, &#8220;You know that the rulers of the
</I>&gt;<i> Gentiles lord it over them, and their high officials exercise authority
</I>&gt;<i> over them. Not so with you. Instead, whoever wants to become great among
</I>&gt;<i> you must be your servant, and whoever wants to be first must be your
</I>&gt;<i> slave &#8212; just as the Son of Man did not come to be served, but to serve,
</I>&gt;<i> and to give his life as a ransom for many.&#8221; [Matthew 20:25-28]
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080188.html">[whatwg] Enabling LCD Text in 2D canvases.
</A></li>
	<LI>Next message: <A HREF="080201.html">[whatwg] Enabling LCD Text in 2D canvases.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80193">[ date ]</a>
              <a href="thread.html#80193">[ thread ]</a>
              <a href="subject.html#80193">[ subject ]</a>
              <a href="author.html#80193">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
