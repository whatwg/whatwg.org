<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [URL] DOM API Feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BURL%5D%20DOM%20API%20Feedback&In-Reply-To=%3C50AA5B57.7060605%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080266.html">
   <LINK REL="Next"  HREF="080276.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [URL] DOM API Feedback</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BURL%5D%20DOM%20API%20Feedback&In-Reply-To=%3C50AA5B57.7060605%40mit.edu%3E"
       TITLE="[whatwg] [URL] DOM API Feedback">bzbarsky at MIT.EDU
       </A><BR>
    <I>Mon Nov 19 08:16:23 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080266.html">[whatwg] [URL] DOM API Feedback
</A></li>
        <LI>Next message: <A HREF="080276.html">[whatwg] [URL] DOM API Feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80267">[ date ]</a>
              <a href="thread.html#80267">[ thread ]</a>
              <a href="subject.html#80267">[ subject ]</a>
              <a href="author.html#80267">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 11/19/12 11:00 AM, David Bruant wrote:
&gt;&gt;<i> How close are &quot;subclasses&quot; to not being vaporware (both in spec and
</I>&gt;&gt;<i> implementation terms)?
</I>&gt;<i> I don't understand what you mean by vaporware. ES6 Maps are a reality in
</I>&gt;<i> Firefox and Chrome (behind a flag for the latter).
</I>
Yes, I know that.

&gt;<i> Subclassing of ES6
</I>&gt;<i> maps will be possible as soon as ES6 classes do (which I admit are still
</I>&gt;<i> unimplemented)
</I>
Yes, that's what I mean by &quot;vaporware&quot;.  ;)

&gt;<i> ... well... it's actually possible today with __proto__ I guess.
</I>
Is it?  It's not terrible possible for arrays, right?  Have we checked 
that it is for maps?

&gt;<i> It's still possible for the spec to define an API that maps (no pun) the
</I>&gt;<i> ES6 Map API (and does some additional magic). For those who'd care
</I>&gt;<i> enough, it'll be possible to make this object a map.
</I>
So... the question is whether the spec will require that this object 
&quot;is&quot; a Map, whatever that means.

&gt;<i> If not an ES6 map, the same API will be good enough to avoid API diversity.
</I>
I have no problem with &quot;same API&quot;.  The issue is how to define this in a 
way that UAs actually end up interoperable in the end.  If some use Map 
and some don't, that's not exactly great.

&gt;<i> Interesting, I thought the proposal was meant to capture de facto
</I>&gt;<i> standard. Did UAs converge for that behavior recently? More
</I>&gt;<i> specifically, what does IE9 do? (I guess oldIE are the ones diverging
</I>&gt;<i> from the others?)
</I>
All UAs agree on ordering of non-index properties.

For index properties, they don't agree in all sorts of ways.  The 
behaviors I know about:

1)  V8 enumerates indexed properties in index order always, for all
     objects, as far as I know.
2)  Spidermonkey enumerates indexed properties on &quot;fast&quot; arrays (the
     ones that have no non-index props and don't have too many holes,
     and some other conditions) in index order.  In all other cases it
     enumerates them in set order, where set order when an array
     transitions from &quot;fast&quot; to &quot;slow&quot; is index order.  I believe we
     plan to change this behavior to match that of V8 sometime, but the
     timeframe is many months at best.
3)  JSC enumerates indexed properties in set order on my testcase
     earlier in this thread.  I didn't experiment more, because frankly
     you can do that just as well as I can.  ;)
4)  Carakan enumerates indexed properties in index order on my small
     testcase.  Again, further experimentation is open to anyone who
     cares.

Basically, the spec here codified the de-facto standard in the case 
where there was interop (non-index properties) and just picked a random 
behavior from the wide range of available behaviors for the case where 
there was so little interop that it was clear the web didn't depend on 
any particular behavior too much (index properties).  In particular, the 
V8 behavior was picked, as far as I can tell.

-Boris

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080266.html">[whatwg] [URL] DOM API Feedback
</A></li>
	<LI>Next message: <A HREF="080276.html">[whatwg] [URL] DOM API Feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80267">[ date ]</a>
              <a href="thread.html#80267">[ thread ]</a>
              <a href="subject.html#80267">[ subject ]</a>
              <a href="author.html#80267">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
