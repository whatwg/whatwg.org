<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] A plea to Hixie to adopt &lt;main&gt;, and main element parsing behaviour
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20A%20plea%20to%20Hixie%20to%20adopt%20%3Cmain%3E%2C%0A%20and%20main%20element%20parsing%20behaviour&In-Reply-To=%3CPine.LNX.4.64.1211071919250.5442%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080099.html">
   <LINK REL="Next"  HREF="080110.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] A plea to Hixie to adopt &lt;main&gt;, and main element parsing behaviour</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20A%20plea%20to%20Hixie%20to%20adopt%20%3Cmain%3E%2C%0A%20and%20main%20element%20parsing%20behaviour&In-Reply-To=%3CPine.LNX.4.64.1211071919250.5442%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] A plea to Hixie to adopt &lt;main&gt;, and main element parsing behaviour">ian at hixie.ch
       </A><BR>
    <I>Wed Nov  7 11:38:02 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080099.html">[whatwg] A plea to Hixie to adopt &lt;main&gt;
</A></li>
        <LI>Next message: <A HREF="080110.html">[whatwg] A plea to Hixie to adopt &lt;main&gt;, and main element parsing behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80101">[ date ]</a>
              <a href="thread.html#80101">[ thread ]</a>
              <a href="subject.html#80101">[ subject ]</a>
              <a href="author.html#80101">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 7 Nov 2012, Simon Pieters wrote:
&gt;<i> 
</I>&gt;<i> My impression from TPAC is that implementors are on board with the idea 
</I>&gt;<i> of adding &lt;main&gt; to HTML, and we're left with Hixie objecting to it.
</I>
If implementors wish to implement something, my objecting is irrelevant. :-)

Just implement it.


&gt;<i> Hixie's argument is, I think, that the use case that &lt;main&gt; is intended 
</I>&gt;<i> to address is already possible by applying the Scooby-Doo algorithm, as 
</I>&gt;<i> James put it -- remove all elements that are not main content, &lt;header&gt;, 
</I>&gt;<i> &lt;aside&gt;, etc., and you're left with the main content.
</I>
The reason there is no element &lt;main&gt; in the HTML spec currently is that 
there are no use cases for it that aren't already handled, right.


&gt;<i> I think the Scooby-Doo algorithm is a heuristic that is not reliable 
</I>&gt;<i> enough in practice, since authors are likely to put stuff outside the 
</I>&gt;<i> main content that do not get filtered out by the algorithm, and vice 
</I>&gt;<i> versa.
</I>
That people will get markup wrong is a given. This will not obviously be 
any less the case with an element named &lt;main&gt; than an element named 
&lt;article&gt; or elements named &lt;nav&gt; or &lt;aside&gt; or &lt;header&gt;.

In fact, when we have looked at actual data for this (see e.g. the recent 
thread where I went through Steve's data, or the threads years ago when 
this first came up), it turns out authors are significantly more reliably 
using class names that relate to marking up navigation blocks and headers, 
than they are about marking up &quot;main&quot;. Authors seem to put class=&quot;main&quot; 
and equivalents around every possible combination of content in a page, 
purely based on their styling needs.

Thus if the use case is &quot;determine where the boilerplate ends&quot;, i.e. 
skipping navigation blocks, headers, footers, and sidebars, the evidence 
I've examined suggests that it would be more reliable to have authors mark 
up those blocks than mark up &quot;the main content&quot;.


&gt;<i> Implementations that want to support a &quot;go to main content&quot; or 
</I>&gt;<i> &quot;highlight the main content&quot;, like Safari's Reader Mode, or whatever 
</I>&gt;<i> it's called, need to have various heuristics for detecting the main 
</I>&gt;<i> content, and is expected to work even for pages that don't use any of 
</I>&gt;<i> the new elements. However, I think using &lt;main&gt; as a way to opt out of 
</I>&gt;<i> the heuristic works better than using &lt;aside&gt; to opt out of the 
</I>&gt;<i> heuristic.
</I>
On what basis do you draw that conclusion?


&gt;<i> For instance, it seems reasonable to use &lt;aside&gt; for a pull-quote as 
</I>&gt;<i> part of the main content, and you don't want that to be excluded, but 
</I>&gt;<i> the Scooby-Doo algorithm does that.
</I>
If it's a pull quote, why would you _not_ want it excluded?


On Wed, 7 Nov 2012, Ojan Vafai wrote:
&gt;<i> 
</I>&gt;<i> This idea doesn't seem to address any pressing use-cases. I don't expect 
</I>&gt;<i> authors to use it as intended consistently enough for it to be useful in 
</I>&gt;<i> practice for things like Safari's Reader mode. You're stuck needing to 
</I>&gt;<i> use something like the Scooby-Doo algorithm most of the time anyways.
</I>
Exactly.


On Thu, 8 Nov 2012, Kang-Hao (Kenny) Lu wrote:
&gt;<i> 
</I>&gt;<i> [...] another argument, if I understand correctly, is to use &lt;article&gt; 
</I>&gt;<i> in place of this role. I think the Web is probably full of mis-used 
</I>&gt;<i> &lt;article&gt; already such that using the first &lt;article&gt; in document order 
</I>&gt;<i> has no chance to work out, but it would nice if this can be verified, 
</I>&gt;<i> even though I can already imagine that an author is unlikely to mark up 
</I>&gt;<i> the main content with &lt;article&gt; when the main content isn't an article 
</I>&gt;<i> in English sense.
</I>
For the &quot;jump to the start of the body&quot; use case, &lt;article&gt; and &lt;main&gt; 
seem like they'd be misused exactly as much as each other.


&gt;<i> James Graham wrote:
</I>&gt;<i> &gt; The observation that having one element on a page marked &#8212; via class 
</I>&gt;<i> &gt; or id &#8212; &quot;main&quot; is already a clear cowpath enhances the credibility 
</I>&gt;<i> &gt; of the suggested solution. On the other hand, I agree that now 
</I>&gt;<i> &gt; everyone heading down the cowpath was aiming for the same place; a 
</I>&gt;<i> &gt; &lt;div class=main&gt; wrapping the whole page, headers, footers, and all is 
</I>&gt;<i> &gt; clearly not the same as one that identifies the extent of the primary 
</I>&gt;<i> &gt; content.
</I>&gt;<i> 
</I>&gt;<i> Right.
</I>
Studying the data, as I have done in previous threads, has always 
indicated that there is actually no cowpath here for &quot;main&quot;. As James says 
above, these classes and IDs are used for all kinds of combinations of 
content and headers, content and navigation, just content, etc. If this is 
any indication, &lt;main&gt; wouldn't be useful for its stated purpose.


&gt;<i> So, assuming &quot;skip to main&quot; is the only use case for &lt;main&gt;, which I am 
</I>&gt;<i> not sure if Steve agrees, I think the proposal should use strong wording 
</I>&gt;<i> to prevent such misuse and the proposal should include one example of 
</I>&gt;<i> such misuse and explains it.
</I>
The strength of the wording will have basically no effect, let's be 
realistic here. Few authors read the spec. It doesn't matter most of the 
time, because the failure mode if an author uses &lt;em&gt; instead of &lt;var&gt; or 
vice versa is just that the styling will be slightly off or maintenance 
will be slightly harder. The failure mode for &lt;main&gt; would be that its 
entire reason for existing (making a heuristic simpler) is lost.


On Wed, 7 Nov 2012, Simon Pieters wrote:
&gt;<i> 
</I>&gt;<i> I'm not convinced that we should freeze the parser now just because we 
</I>&gt;<i> have reached interop.
</I>
For the record, I personally do not consider the parser frozen.

If an implementor wants to implement &lt;main&gt;, they should IMHO do so by 
supporting it the same way as &lt;article&gt; is supported in the parser, with 
the DOM interface HTMLElement, with the same styling and (for conformance 
checkers and authoring tools) content model as &lt;div&gt;. However, I would 
recommend against implementing &lt;main&gt;, for the reasons given above.


&gt;<i> I think not changing the parser here makes &lt;main&gt; (and other future 
</I>&gt;<i> elements; whatever we do here sets a precedent for future elements) 
</I>&gt;<i> inconsistent with the rest of HTML. In the long term, having &lt;main&gt; and 
</I>&gt;<i> &lt;aside&gt; parse differently just because we didn't want to change the 
</I>&gt;<i> behavior from 2012-era browsers will seem silly.
</I>
Indeed. Given how relatively painless transitioning from no parser spec at 
all to having one at all actually ended up being, at least relative to 
what I was expecting, I think adding new elements isn't a big deal at all. 
(Even in the &lt;head&gt;.) We shouldn't add elements in general, but that's 
more about not expanding the language, not about the parser.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080099.html">[whatwg] A plea to Hixie to adopt &lt;main&gt;
</A></li>
	<LI>Next message: <A HREF="080110.html">[whatwg] A plea to Hixie to adopt &lt;main&gt;, and main element parsing behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80101">[ date ]</a>
              <a href="thread.html#80101">[ thread ]</a>
              <a href="subject.html#80101">[ subject ]</a>
              <a href="author.html#80101">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
