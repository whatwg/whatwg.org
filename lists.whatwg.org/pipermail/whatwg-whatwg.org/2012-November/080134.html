<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Location object identity and navigation behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Location%20object%20identity%20and%20navigation%20behavior&In-Reply-To=%3C509DBE73.7070109%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080133.html">
   <LINK REL="Next"  HREF="080159.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Location object identity and navigation behavior</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Location%20object%20identity%20and%20navigation%20behavior&In-Reply-To=%3C509DBE73.7070109%40mit.edu%3E"
       TITLE="[whatwg] Location object identity and navigation behavior">bzbarsky at MIT.EDU
       </A><BR>
    <I>Fri Nov  9 18:39:47 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080133.html">[whatwg] Location object identity and navigation behavior
</A></li>
        <LI>Next message: <A HREF="080159.html">[whatwg] Location object identity and navigation behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80134">[ date ]</a>
              <a href="thread.html#80134">[ thread ]</a>
              <a href="subject.html#80134">[ subject ]</a>
              <a href="author.html#80134">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 11/9/12 2:05 PM, Adam Barth wrote:
&gt;<i>   The approach we use in WebKit is quite simple---we just perform an
</I>&gt;<i> access check before doing any sensitive operations.
</I>
The issue in Gecko, as I understand, is that security checks from C++ 
code require introspecting running JS to figure out what the right actor 
(&quot;subject&quot;) origin for the security check is.  This is somewhat fragile 
because it's easy to accidentally interpose other things that look like 
running JS between the caller and callee in many cases.  Note that this 
problem would be even worse for a self-hosted (implemented in JS) 
implementation of something like Location...

The upshot is that instead we aim to do security checks at points where 
control crosses from one origin to another, and use proxies to enforce 
the security invariants involved.

Bobby knows more about this than I do, so I'll let him correct any 
inaccuracies.

&gt;<i> This access check is required in any case because the underlying Location object is
</I>&gt;<i> visible across origins.
</I>
In Gecko, it's actually not.  A proxy is visible.

One thing I'd like is some comment from Opera and Microsoft about what 
their situation is, since implementing what WebKit does would mean both 
of those changing.  This is probably the wrong venue to get hold of 
Microsoft for an official statement, sadly.  :(

-Boris

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080133.html">[whatwg] Location object identity and navigation behavior
</A></li>
	<LI>Next message: <A HREF="080159.html">[whatwg] Location object identity and navigation behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80134">[ date ]</a>
              <a href="thread.html#80134">[ thread ]</a>
              <a href="subject.html#80134">[ subject ]</a>
              <a href="author.html#80134">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
