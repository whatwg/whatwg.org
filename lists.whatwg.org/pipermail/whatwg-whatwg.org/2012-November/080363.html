<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [canvas] inner shadows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bcanvas%5D%20inner%20shadows&In-Reply-To=%3CPine.LNX.4.64.1211240454430.29456%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080362.html">
   <LINK REL="Next"  HREF="080364.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [canvas] inner shadows</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bcanvas%5D%20inner%20shadows&In-Reply-To=%3CPine.LNX.4.64.1211240454430.29456%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] [canvas] inner shadows">ian at hixie.ch
       </A><BR>
    <I>Fri Nov 23 20:58:53 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080362.html">[whatwg] [canvas] inner shadows
</A></li>
        <LI>Next message: <A HREF="080364.html">[whatwg] [canvas] inner shadows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80363">[ date ]</a>
              <a href="thread.html#80363">[ thread ]</a>
              <a href="subject.html#80363">[ subject ]</a>
              <a href="author.html#80363">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 23 Nov 2012, Rik Cabanier wrote:
&gt;<i> &gt;
</I>&gt;<i> &gt; Turns out it's relatively easy to do today in canvas; after you've 
</I>&gt;<i> &gt; drawn your shape and filled it, just add the following code:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;   c.save();
</I>&gt;<i> &gt;   c.clip();
</I>&gt;<i> &gt;   c.moveTo(0,0);
</I>&gt;<i> &gt;   c.lineTo(0,height);
</I>&gt;<i> &gt;   c.lineTo(width,height);
</I>&gt;<i> &gt;   c.lineTo(width,0);
</I>&gt;<i> &gt;   c.closePath();
</I>&gt;<i> &gt;   c.shadowColor = 'black';
</I>&gt;<i> &gt;   c.shadowBlur = 30;
</I>&gt;<i> &gt;   c.fill();
</I>&gt;<i> &gt;   c.restore();
</I>&gt;<i> 
</I>&gt;<i> I don't think that will work. Shadows are calculated before clipping so 
</I>&gt;<i> they don't follow the clipping path.
</I>
What matters is how they're painted, and that does follow the clipping 
path, as far as I can tell (step 4 of the drawing model).


&gt;<i> Even if it was right, it would only apply to shapes and only if those 
</I>&gt;<i> shapes didn't have strokes and were completely opaque.
</I>
That's easy enough, though, you only need to make a shape that is what you 
want the inner shadow to go over, and then set the fill to black (or 
anything completely opaque). It's even easier with the new Path primitives 
since you can construct a combined path by stroking them all into one.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080362.html">[whatwg] [canvas] inner shadows
</A></li>
	<LI>Next message: <A HREF="080364.html">[whatwg] [canvas] inner shadows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80363">[ date ]</a>
              <a href="thread.html#80363">[ thread ]</a>
              <a href="subject.html#80363">[ subject ]</a>
              <a href="author.html#80363">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
