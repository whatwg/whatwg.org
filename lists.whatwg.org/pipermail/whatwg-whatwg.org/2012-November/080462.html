<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Adding crossorigin=&quot;&quot; to more elements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Adding%20crossorigin%3D%22%22%20to%20more%20elements&In-Reply-To=%3C50B81653.2000406%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080459.html">
   <LINK REL="Next"  HREF="080463.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Adding crossorigin=&quot;&quot; to more elements</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Adding%20crossorigin%3D%22%22%20to%20more%20elements&In-Reply-To=%3C50B81653.2000406%40mit.edu%3E"
       TITLE="[whatwg] Adding crossorigin=&quot;&quot; to more elements">bzbarsky at MIT.EDU
       </A><BR>
    <I>Thu Nov 29 18:13:39 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080459.html">[whatwg] Adding crossorigin=&quot;&quot; to more elements
</A></li>
        <LI>Next message: <A HREF="080463.html">[whatwg] Adding crossorigin=&quot;&quot; to more elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80462">[ date ]</a>
              <a href="thread.html#80462">[ thread ]</a>
              <a href="subject.html#80462">[ subject ]</a>
              <a href="author.html#80462">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 11/29/12 5:09 PM, Ian Hickson wrote:
&gt;<i> Well, yeah, but the sheet knows which mode it's in, so I don't think that
</I>&gt;<i> part of it is a big deal.
</I>
Maybe.  Problems can arise with a sheet that itself sends CORS headers 
but links to sheets that don't and that's tested in a UA that doesn't do 
&lt;link crossorigin&gt;.  But OK.  I'll see about inheriting the CORS mode.

&gt;<i> The real issue here is that CSS is different than other things we've
</I>&gt;<i> applied CORS to before, in that it is, to some level, &quot;alive&quot;.
</I>
Yep.  See <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=732209#c1">https://bugzilla.mozilla.org/show_bug.cgi?id=732209#c1</A> for a 
(probably non-exhaustive) list of possible meanings for CORS here.  I 
implemented option 5 in Gecko.

&gt;<i> Anyway, this is somewhat moot to me because it'll all have to be defined
</I>&gt;<i> by whatever spec it is that currently says that a CSS sheet on http:
</I>&gt;<i> can't import an image on file:, etc.
</I>
Heh.  Does it affect things like CSP in any way?

&gt;<i> On Wed, 28 Nov 2012, Boris Zbarsky wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Oh, I see.  You've added this &quot;taint&quot; thing, which you're using for the
</I>&gt;&gt;<i> CSS bit.
</I>&gt;<i>
</I>&gt;<i> That only applies when there's no crossorigin=&quot;&quot; attribute, unless I made
</I>&gt;<i> a mistake in the speccing.
</I>
Oh, ok.  Sorry.  Reading diffs of HTML is a pain.  :(

&gt;<i> Well presumably you don't block all cross-origin loads of CSS when there's
</I>&gt;<i> no crossorigin=&quot;&quot; attribute. :-)
</I>
Sure.  We don't do any sort of &quot;tainting&quot; either, though; we simply 
remember the origin of the CSS (where it was actually loaded from, 
post-redirect, not the original URI) and do a same-origin check when you 
try to use the CSSOM on it.  Note that this check is done against the 
effective script origin of the script doing the CSSOM access, which may 
not actually match the origin of the page the CSS is loaded for, etc. 
Not sure whether the tainting setup you describe is equivalent to that, 
though I doubt it is.

-Boris

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080459.html">[whatwg] Adding crossorigin=&quot;&quot; to more elements
</A></li>
	<LI>Next message: <A HREF="080463.html">[whatwg] Adding crossorigin=&quot;&quot; to more elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80462">[ date ]</a>
              <a href="thread.html#80462">[ thread ]</a>
              <a href="subject.html#80462">[ subject ]</a>
              <a href="author.html#80462">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
