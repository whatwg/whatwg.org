<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [mimesniff] Handling container formats like Ogg
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bmimesniff%5D%20Handling%20container%20formats%20like%20Ogg&In-Reply-To=%3C50B53DB9.3070601%40mozilla.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080405.html">
   <LINK REL="Next"  HREF="038120.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [mimesniff] Handling container formats like Ogg</H1>
<!--htdig_noindex-->
    <B>Ralph Giles</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bmimesniff%5D%20Handling%20container%20formats%20like%20Ogg&In-Reply-To=%3C50B53DB9.3070601%40mozilla.com%3E"
       TITLE="[whatwg] [mimesniff] Handling container formats like Ogg">giles at mozilla.com
       </A><BR>
    <I>Tue Nov 27 14:24:57 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080405.html">[whatwg] [mimesniff] Handling container formats like Ogg
</A></li>
        <LI>Next message: <A HREF="038120.html">[whatwg] Fw: Feature Request: Media Elements as Targets for Links
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80411">[ date ]</a>
              <a href="thread.html#80411">[ thread ]</a>
              <a href="subject.html#80411">[ subject ]</a>
              <a href="author.html#80411">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 12-11-27 9:19 AM, Gordon P. Hemsley wrote:

&gt;<i> Is it sufficient to sniff just for &quot;application/ogg&quot; and then let the
</I>&gt;<i> UA's Ogg library determine whether or not the contents of the file can
</I>&gt;<i> be handled? (I'm sensing the consensus is yes.)
</I>
I think so.

Defining a codec enumerating algorithm and mime type decision tree is
going to be several pages of spec for container formats like Ogg and
Matroska.

As an example, the 'file' tool reads the first codec header present in
an Ogg file, which can be found at a set of fixed offsets. This lets it
get some useful information for a lot of files, especially since it's
RECOMMENDED that primary codecs are listed first. I.e. theora should be
first in a 'video/ogg', opus should be first in an 'audio/ogg; codecs=opus'.

But files can be muxed without following the priority rule and will
still play fine, and there can be a 'skeleton' header in front of the
other codec data, obcuring primary role. Just looking at fixed offsets
isn't sufficient to distinguish audio and video reliably.

IMHO,
 -r

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080405.html">[whatwg] [mimesniff] Handling container formats like Ogg
</A></li>
	<LI>Next message: <A HREF="038120.html">[whatwg] Fw: Feature Request: Media Elements as Targets for Links
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80411">[ date ]</a>
              <a href="thread.html#80411">[ thread ]</a>
              <a href="subject.html#80411">[ subject ]</a>
              <a href="author.html#80411">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
