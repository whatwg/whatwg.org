<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [mimesniff] Review requested on MIME Sniffing Standard
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bmimesniff%5D%20Review%20requested%20on%20MIME%20Sniffing%20Standard&In-Reply-To=%3CCAH4e3M5iOU3Mef1JvQOe5HfEBkpyz_EYDamDjKopsR%3DXPM6e5g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080149.html">
   <LINK REL="Next"  HREF="080161.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [mimesniff] Review requested on MIME Sniffing Standard</H1>
<!--htdig_noindex-->
    <B>Gordon P. Hemsley</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bmimesniff%5D%20Review%20requested%20on%20MIME%20Sniffing%20Standard&In-Reply-To=%3CCAH4e3M5iOU3Mef1JvQOe5HfEBkpyz_EYDamDjKopsR%3DXPM6e5g%40mail.gmail.com%3E"
       TITLE="[whatwg] [mimesniff] Review requested on MIME Sniffing Standard">gphemsley at gmail.com
       </A><BR>
    <I>Mon Nov 12 08:57:59 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080149.html">[whatwg] [mimesniff] Review requested on MIME Sniffing Standard
</A></li>
        <LI>Next message: <A HREF="080161.html">[whatwg] [mimesniff] Review requested on MIME Sniffing Standard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80151">[ date ]</a>
              <a href="thread.html#80151">[ thread ]</a>
              <a href="subject.html#80151">[ subject ]</a>
              <a href="author.html#80151">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Nov 12, 2012 at 10:06 AM, Henri Sivonen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at iki.fi</A>&gt; wrote:
&gt;<i> Resending feedback previously written at
</I>&gt;<i> <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=808593#c10">https://bugzilla.mozilla.org/show_bug.cgi?id=808593#c10</A> :
</I>&gt;<i>
</I>&gt;<i> I think the bits &#8216;type is equal to &quot;font&quot; or&#8217; and &#8216;type is equal to
</I>&gt;<i> &quot;archive&quot; or&#8217; are highly questionable. The most popular font types are
</I>&gt;<i> in the process of getting application/ types and the most popular
</I>&gt;<i> archives already have application/ types.
</I>
Buzzkill. ;(

&gt;<i> I suspect the &#8216;a reasonable amount of time has elapsed, as determined
</I>&gt;<i> by the user agent.&#8217; is unnecessary. The HTML spec has the same
</I>&gt;<i> provision for the &lt;meta&gt; prescan. Firefox didn&#8217;t implement it, a
</I>&gt;<i> couple of people complained, then fixed their code, and the sky didn&#8217;t
</I>&gt;<i> fall.
</I>
This line was present in a previous draft of the spec, as was the
seeming allowance to begin matching the resource header before it had
finished loading. For simplicity in the algorithm, I removed the
latter, so I left the former in as an escape hatch for those who
wanted to emulate that behavior.

But if everyone vows to just wait for 512 bytes (or EOF), then that's
fine with me.

&gt;<i> What are the use cases for &#8216;Sniffing archives specifically&#8217;?
</I>
No idea. I only included it for completeness.

The 'rules for sniffing * specifically' are intended as hooks for
other specs to tie into. If no spec requires you to implement it, then
you have no need to implement it. HTML uses 'rules for sniffing images
specifically' (and 'rules for distinguishing if a resource is text or
binary'), and I imagine it could also find uses for 'rules for
sniffing audio specifically' and 'rules for sniffing video
specifically' (and maybe even 'rules for sniffing fonts
specifically').

&gt;<i> It
</I>&gt;<i> appears that it sniffs ODF-style files
</I>&gt;<i> (<A HREF="http://docs.oasis-open.org/office/v1.2/os/OpenDocument-v1.2-os-part3.html#__RefHeading__752809_826425813">http://docs.oasis-open.org/office/v1.2/os/OpenDocument-v1.2-os-part3.html#__RefHeading__752809_826425813</A>
</I>&gt;<i> ; EPUB, ODF, InDesign, etc.) and Open Packaging Conventions-based
</I>&gt;<i> files (<A HREF="https://en.wikipedia.org/wiki/Open_Packaging_Conventions">https://en.wikipedia.org/wiki/Open_Packaging_Conventions</A> ;
</I>&gt;<i> OOXML, XPS, etc.) files as zip archives. Is that intended and a
</I>&gt;<i> desirable outcome in the light of use cases? (In general, it would be
</I>&gt;<i> easier to review if the spec makes sense if the use cases and callers
</I>&gt;<i> of various sniffing functions were known.)
</I>
I don't think that's intended, but I don't know. The selection of
which bytes to sniff predates me, and I don't know what the use cases
are.

&gt;<i> Otherwise, looks good to me.
</I>
Thanks for the review!

-- 
Gordon P. Hemsley
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">me at gphemsley.org</A>
<A HREF="http://gphemsley.org/">http://gphemsley.org/</A> &#8226; <A HREF="http://gphemsley.org/blog/">http://gphemsley.org/blog/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080149.html">[whatwg] [mimesniff] Review requested on MIME Sniffing Standard
</A></li>
	<LI>Next message: <A HREF="080161.html">[whatwg] [mimesniff] Review requested on MIME Sniffing Standard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80151">[ date ]</a>
              <a href="thread.html#80151">[ thread ]</a>
              <a href="subject.html#80151">[ subject ]</a>
              <a href="author.html#80151">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
