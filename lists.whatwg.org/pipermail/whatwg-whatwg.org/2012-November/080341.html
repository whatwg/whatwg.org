<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Autocomplete and autofill features and feedback thereon
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Autocomplete%20and%20autofill%20features%20and%20feedback%20thereon&In-Reply-To=%3CCANpe7K0n3x_hv2CDust5-N%3DcPkfzu1iAyHZgd8EDhx_BKJRzjg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080336.html">
   <LINK REL="Next"  HREF="037835.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Autocomplete and autofill features and feedback thereon</H1>
<!--htdig_noindex-->
    <B>Dan Beam</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Autocomplete%20and%20autofill%20features%20and%20feedback%20thereon&In-Reply-To=%3CCANpe7K0n3x_hv2CDust5-N%3DcPkfzu1iAyHZgd8EDhx_BKJRzjg%40mail.gmail.com%3E"
       TITLE="[whatwg] Autocomplete and autofill features and feedback thereon">dbeam at chromium.org
       </A><BR>
    <I>Wed Nov 21 18:36:08 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080336.html">[whatwg] Autocomplete and autofill features and feedback thereon
</A></li>
        <LI>Next message: <A HREF="037835.html">[whatwg] Incomplete user-input in some input types
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80341">[ date ]</a>
              <a href="thread.html#80341">[ thread ]</a>
              <a href="subject.html#80341">[ subject ]</a>
              <a href="author.html#80341">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Nov 21, 2012 at 3:55 PM, Ilya Sherman &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">isherman at chromium.org</A>&gt; wrote:
&gt;<i> On Tue, Nov 20, 2012 at 5:17 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On Tue, 16 Oct 2012, Ilya Sherman wrote:
</I>&gt;&gt;<i> &gt; The payment instrument type is almost certainly appropriate to add -- it
</I>&gt;&gt;<i> &gt; is included on almost every website that I've encountered that includes
</I>&gt;&gt;<i> &gt; payment card fields.  It was an oversight on my part to omit it from the
</I>&gt;&gt;<i> &gt; initial proposal.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It's redundant data, the credit card number itself says what type it is.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> More importantly, I don't know how to store the information. What values
</I>&gt;&gt;<i> should we be expecting here? If a site has radio buttons &quot;v&quot;, &quot;m&quot; and &quot;a&quot;,
</I>&gt;&gt;<i> and another has a &lt;select&gt; with &quot;4&quot;, &quot;5&quot;, and &quot;3&quot;, and yet another has
</I>&gt;&gt;<i> three buttons which set a type=hidden with the values &quot;visa&quot;, &quot;mastercard&quot;
</I>&gt;&gt;<i> and &quot;amex&quot;, how is the user agent to figure out what's going on? This
</I>&gt;&gt;<i> makes the magic needed around dates look positively easy.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I agree that it's redundant data, but many websites ask for it separately
</I>&gt;<i> anyway.  One common reason for this is that the website only supports a
</I>&gt;<i> subset of all possible credit card issuers -- for example, many do not
</I>&gt;<i> support DiscoverCard.  While the site *could* theoretically infer from the
</I>&gt;<i> entered card number that the card is not supported, and show the user an
</I>&gt;<i> error, most sites instead force the user to select the card type, and
</I>&gt;<i> inform the user of unsupported card types by omitting them from the list.
</I>&gt;<i>
</I>&gt;<i> Regarding storing of the data: I think being able to fill the data is more
</I>&gt;<i> important than being able to store it.  For example, Chrome stores just the
</I>&gt;<i> card number, and not the type; but Chrome supports filling the type by
</I>&gt;<i> inferring it from the stored card number.  For filling the card type, I
</I>&gt;<i> think it's strictly easier than filling a &lt;select&gt; dropdown containing
</I>&gt;<i> country names, since localization issues don't come into play as much.  The
</I>&gt;<i> user agent is presumably not going to be able to handle *every* case; but
</I>&gt;<i> in my experience, it's not too hard to handle many/most of the real-world
</I>&gt;<i> cases.  Since this attribute is used just as a hint, esoteric difficult
</I>&gt;<i> cases don't seem like enough reason to omit the card type as a known token
</I>&gt;<i> in the spec.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> &gt; Finally, I have gotten a request to include a field type for bank
</I>&gt;&gt;<i> &gt; account numbers, though I have only seen this info actually requested on
</I>&gt;&gt;<i> &gt; a small handful of extremely prominent (and generally trusted) websites:
</I>&gt;&gt;<i> &gt; Amazon, PayPal, and I think Google Wallet.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is there any reason we shouldn't just treat bank accounts like just
</I>&gt;&gt;<i> another credit card, and use cc-number for these?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yes: Most websites that support credit card numbers as inputs do not
</I>&gt;<i> support bank account numbers.  The few websites that do support bank
</I>&gt;<i> account numbers use separate fields for these vs. credit card number
</I>&gt;<i> inputs.  Labeling both fields identically would leave the browser unable to
</I>&gt;<i> distinguish which field to fill with what info.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> On Wed, 31 Oct 2012, Dan Beam wrote:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; The experimental implementation [1] has been updated to dispatch an
</I>&gt;&gt;<i> &gt; &quot;autocompleteerror&quot; as per convention/your feedback.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &quot;autocompleteerror&quot; seems like it'd be fired for an error, not user
</I>&gt;&gt;<i> cancelation. User cancelation is usually called either &quot;abort&quot; or
</I>&gt;&gt;<i> &quot;cancel&quot;. I think autocompletecancel is fine. It's consistent with
</I>&gt;&gt;<i> oncancel, which we used for &lt;dialog&gt;. (Fullscreen's &quot;error&quot; event is for a
</I>&gt;&gt;<i> slightly different case, based on what the spec says.)
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> There are also cases where we'd want to return actual errors.  For example,
</I>&gt;<i> in Chrome, we are only planning to support this dialog for sites served
</I>&gt;<i> over HTTPS and without security errors.  We might also want to fire an
</I>&gt;<i> error in case the input fails to pass the form's validation requirements.
</I>&gt;<i>  Should we use autocompleteerror for the errors, and autocompletecancel for
</I>&gt;<i> user cancelations?  Firing separate events for cancelations vs. errors
</I>&gt;<i> forces developers to check for each of these cases separately, which seems
</I>&gt;<i> like a less convenient API than just checking for one sort of failure
</I>&gt;<i> event.  Perhaps we should have a single event named something like
</I>&gt;<i> autocompletefail or something like that?
</I>
I don't particularly care about the naming (fail vs. error), I just
knew we had a pre-existing *error event and agreed with Anne that I
might as well go with the convention (of 1).  I can change it quite
easily to whatever the consensus is.

I definitely agree to a single event.  It would be great to do this
and give enumerable failure reasons (if this is deemed secure enough).
 An example:

  enum ErrorCause {
    FROM_FRAME,
    NEEDS_GESTURE,
    NOT_SECURE,
  };

This could be a property on the event (event.cause, event.reason?)
argument passed to the error event (kind of like DOM exceptions).
This seems akin to event.property in CSS transition end events (and
disputably many other examples).

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080336.html">[whatwg] Autocomplete and autofill features and feedback thereon
</A></li>
	<LI>Next message: <A HREF="037835.html">[whatwg] Incomplete user-input in some input types
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80341">[ date ]</a>
              <a href="thread.html#80341">[ thread ]</a>
              <a href="subject.html#80341">[ subject ]</a>
              <a href="author.html#80341">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
