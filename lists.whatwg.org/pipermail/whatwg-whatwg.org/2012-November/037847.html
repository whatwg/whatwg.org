<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Location object identity and navigation behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Location%20object%20identity%20and%20navigation%20behavior&In-Reply-To=%3C509CA0E2.9050206%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037846.html">
   <LINK REL="Next"  HREF="037851.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Location object identity and navigation behavior</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Location%20object%20identity%20and%20navigation%20behavior&In-Reply-To=%3C509CA0E2.9050206%40mit.edu%3E"
       TITLE="[whatwg] Location object identity and navigation behavior">bzbarsky at MIT.EDU
       </A><BR>
    <I>Thu Nov  8 22:21:22 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="037846.html">[whatwg] Location object identity and navigation behavior
</A></li>
        <LI>Next message: <A HREF="037851.html">[whatwg] Location object identity and navigation behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37847">[ date ]</a>
              <a href="thread.html#37847">[ thread ]</a>
              <a href="subject.html#37847">[ subject ]</a>
              <a href="author.html#37847">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 11/8/12 6:09 PM, Adam Barth wrote:
&gt;<i> I don't think I quite understand what you mean, but the way this works
</I>&gt;<i> in WebKit is that each Window object has its own Location object.
</I>
That's not how it works in Presto and Trident, as far as we can tell 
based on testing with &quot;==&quot;.  In those, each WindowProxy has its own 
Location object.

&gt;<i> The location object operates on the current Window for the WindowProxy.
</I>
Yes.  _That_ all browsers are consistent on, and is totally not what the 
spec says right now.  In the spec, there is one Location per Window, and 
the object operates on the Window it's associated with.  The fact that 
this does not match any browsers is what makes us suspect the spec is 
not web-compatible.

&gt;<i> In WebKit at least, it would be a security vulnerability to expose
</I>&gt;<i> JavaScript objects that belong to Document B to Document A because
</I>&gt;<i> that would give Document A access to the prototype objects for
</I>&gt;<i> Document B.
</I>
You presumably have a solution for this situation for the WindowProxy 
case, right?  Certainly Gecko does, and we would be using the same 
solution for Location if we tie the lifetime of a Location to the 
lifetime of a WindowProxy.

-Boris

P.S.  I'll leave it to Matt and Bobby to answer your question about your 
testcase with function f(), because while I suspect I know what UAs do 
there in practice there is no way to tell without actually testing...

</PRE>




















































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037846.html">[whatwg] Location object identity and navigation behavior
</A></li>
	<LI>Next message: <A HREF="037851.html">[whatwg] Location object identity and navigation behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37847">[ date ]</a>
              <a href="thread.html#37847">[ thread ]</a>
              <a href="subject.html#37847">[ subject ]</a>
              <a href="author.html#37847">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
