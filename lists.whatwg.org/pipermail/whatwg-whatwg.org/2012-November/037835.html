<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Incomplete user-input in some input types
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Incomplete%20user-input%20in%20some%20input%20types&In-Reply-To=%3CCAGH7WqEVZRVYUzR7s30PEkkEivH7LsGu_JNBhyDpsF15uGjqjQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080341.html">
   <LINK REL="Next"  HREF="080109.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Incomplete user-input in some input types</H1>
<!--htdig_noindex-->
    <B>TAMURA, Kent</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Incomplete%20user-input%20in%20some%20input%20types&In-Reply-To=%3CCAGH7WqEVZRVYUzR7s30PEkkEivH7LsGu_JNBhyDpsF15uGjqjQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Incomplete user-input in some input types">tkent at chromium.org
       </A><BR>
    <I>Wed Nov  7 22:52:05 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080341.html">[whatwg] Autocomplete and autofill features and feedback thereon
</A></li>
        <LI>Next message: <A HREF="080109.html">[whatwg] Incomplete user-input in some input types
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37835">[ date ]</a>
              <a href="thread.html#37835">[ thread ]</a>
              <a href="subject.html#37835">[ subject ]</a>
              <a href="author.html#37835">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> A. In such case, make input.validity.typeMismatch true, or
</I>&gt;<i> B. Introduce new IDL attribute to ValidityState.
</I>&gt;<i> input.validity.invalidUserInput?
</I>
C. Just validity.valid becomes false.
    An implementation would have an internal flag like invalidUserInput, but
it won't be exposed via IDL.

C would have less impact to the standard.  If no one has concern about this
idea, I'd like to implement C in WebKit.


On Thu, Sep 13, 2012 at 3:18 PM, TAMURA, Kent &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">tkent at chromium.org</A>&gt; wrote:
&gt;<i> Proposal:
</I>
&gt;<i> Making an input element invalid state if the input has an invalid string
</I>&gt;<i> specified by a user with browser UI. &quot;An invalid string&quot; means a string
</I>&gt;<i> which doesn't match to a required format defined by a type.
</I>
&gt;<i>     e.g. If a user typed &quot;-&quot; to input[type=number], input.validity.valid
</I>&gt;<i> would
</I>&gt;<i> be false and form submission would be prevented.
</I>
&gt;<i> A. In such case, make input.validity.typeMismatch true, or
</I>&gt;<i> B. Introduce new IDL attribute to ValidityState.
</I>&gt;<i> input.validity.invalidUserInput?
</I>
&gt;<i> This behavior should be applied to the following types:
</I>&gt;<i>     number, color, date, datetime, datettime-local, month, time, and week
</I>

&gt;<i> Background:
</I>&gt;<i>     If an input type is implemented as a text field, it is very hard for UA
</I>&gt;<i> to
</I>&gt;<i> reject invalid strings for the type. For example, &quot;-&quot; is not a valid
</I>&gt;<i> floating-point number, but UA can't prevent users from typing &quot;-&quot;.  So the
</I>&gt;<i> field can contain invalid strings though its value IDL attribute is empty.
</I>&gt;<i> If a user tries to submit the form in such situation, the field is valid
</I>&gt;<i> unless the required attribute is specified.
</I>&gt;<i>     WebKit clears the invalid string when the field loses focus or the form
</I>&gt;<i> is
</I>&gt;<i> submitted.  A sanitized value (empty string) is submitted.
</I>&gt;<i>     Opera doesn't clear the invalid string. It silently submits a sanitized
</I>&gt;<i> value (empty string).
</I>&gt;<i>     IE10 has a behavior similar to WebKit.  However if a user type &quot;-1abc&quot;,
</I>&gt;<i> &quot;-1abc&quot; is submitted.
</I>
&gt;<i> I don't like clearing user input.  It's not a good user experience.  Users
</I>&gt;<i> don't expect their input strings are cleared by UA.
</I>&gt;<i> Also, I don't like submitting empty value silently. Users expect their
</I>&gt;<i> input
</I>&gt;<i> strings are submitted.
</I>&gt;<i> I think the best UI is to notify users about a field has an invalid
</I>&gt;<i> string,
</I>&gt;<i> and give a chance to correct it.  Applying the standard form validation
</I>&gt;<i> mechanism must be reasonable.
</I>


&gt;<i> --
</I>&gt;<i> TAMURA Kent
</I>&gt;<i> Software Engineer, Google
</I>




-- 
TAMURA Kent
Software Engineer, Google


</PRE>






































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080341.html">[whatwg] Autocomplete and autofill features and feedback thereon
</A></li>
	<LI>Next message: <A HREF="080109.html">[whatwg] Incomplete user-input in some input types
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37835">[ date ]</a>
              <a href="thread.html#37835">[ thread ]</a>
              <a href="subject.html#37835">[ subject ]</a>
              <a href="author.html#37835">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
