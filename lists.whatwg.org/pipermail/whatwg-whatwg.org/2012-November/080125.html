<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Location object identity and navigation behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Location%20object%20identity%20and%20navigation%20behavior&In-Reply-To=%3CCAKBxTcLztXVVOsQYoq7ARO21JS91q%3D0J1i1Y0vJCptbnk1ze%3DQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080124.html">
   <LINK REL="Next"  HREF="080127.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Location object identity and navigation behavior</H1>
<!--htdig_noindex-->
    <B>Bobby Holley</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Location%20object%20identity%20and%20navigation%20behavior&In-Reply-To=%3CCAKBxTcLztXVVOsQYoq7ARO21JS91q%3D0J1i1Y0vJCptbnk1ze%3DQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Location object identity and navigation behavior">bobbyholley at gmail.com
       </A><BR>
    <I>Fri Nov  9 09:43:54 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="080124.html">[whatwg] Location object identity and navigation behavior
</A></li>
        <LI>Next message: <A HREF="080127.html">[whatwg] Location object identity and navigation behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80125">[ date ]</a>
              <a href="thread.html#80125">[ thread ]</a>
              <a href="subject.html#80125">[ subject ]</a>
              <a href="author.html#80125">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Nov 9, 2012 at 9:30 AM, Adam Barth &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">w3c at adambarth.com</A>&gt; wrote:

&gt;<i> On Thu, Nov 8, 2012 at 10:21 PM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:
</I>&gt;<i> &gt; You presumably have a solution for this situation for the WindowProxy
</I>&gt;<i> case,
</I>&gt;<i> &gt; right?  Certainly Gecko does, and we would be using the same solution for
</I>&gt;<i> &gt; Location if we tie the lifetime of a Location to the lifetime of a
</I>&gt;<i> &gt; WindowProxy.
</I>&gt;<i>
</I>&gt;<i> The WindowProxy is a special, magical object because references to it
</I>&gt;<i> magically change which JavaScript object they refer to over time.  If
</I>&gt;<i> possible, I would like to avoid infecting other objects with its
</I>&gt;<i> magic.
</I>&gt;<i>
</I>
That was my opinion for a while, too, but I eventually decided it was
necessary in Gecko. Right now, the Location object is the only object whose
security characteristics are not guaranteed to match its global, which is a
major pain point for us. I think the current spec language would be the
most ideal approach, but as noted I doubt it'll fly on the web.

FWIW, this turned out to be much simpler to implement than I thought. We've
already worked out where we need to put the logic to make WindowProxy
update appropriately, and we already had code to move objects like Location
between scopes (which we needed to do for document.write). I'd imagine
WebKit has the former, though I'm not sure about the latter.

bholley

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080124.html">[whatwg] Location object identity and navigation behavior
</A></li>
	<LI>Next message: <A HREF="080127.html">[whatwg] Location object identity and navigation behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80125">[ date ]</a>
              <a href="thread.html#80125">[ thread ]</a>
              <a href="subject.html#80125">[ subject ]</a>
              <a href="author.html#80125">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
