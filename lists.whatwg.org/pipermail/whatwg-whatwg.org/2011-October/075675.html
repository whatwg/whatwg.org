<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [CORS] WebKit tainting image instead of throwing error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BCORS%5D%20WebKit%20tainting%20image%20instead%20of%20throwing%20error&In-Reply-To=%3CPine.LNX.4.64.1110041903210.20981%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075667.html">
   <LINK REL="Next"  HREF="075679.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [CORS] WebKit tainting image instead of throwing error</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BCORS%5D%20WebKit%20tainting%20image%20instead%20of%20throwing%20error&In-Reply-To=%3CPine.LNX.4.64.1110041903210.20981%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] [CORS] WebKit tainting image instead of throwing error">ian at hixie.ch
       </A><BR>
    <I>Tue Oct  4 12:10:16 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="075667.html">[whatwg] [CORS] WebKit tainting image instead of throwing error
</A></li>
        <LI>Next message: <A HREF="075679.html">[whatwg] [CORS] WebKit tainting image instead of throwing error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75675">[ date ]</a>
              <a href="thread.html#75675">[ thread ]</a>
              <a href="subject.html#75675">[ subject ]</a>
              <a href="author.html#75675">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 4 Oct 2011, Anne van Kesteren wrote:
&gt;<i> On Tue, 04 Oct 2011 20:32:02 +0200, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; The idea is that if the server explicitly rejected the CORS request, 
</I>&gt;<i> &gt; then the image should not be usable at all.
</I>&gt;<i> 
</I>&gt;<i> FWIW, from a CORS-perspective both scenarios are fine. CORS only cares 
</I>&gt;<i> about whether data gets shared in the end. One advantage I can see about 
</I>&gt;<i> &lt;img crossorigin&gt; still displaying the image is that the request does 
</I>&gt;<i> not use cookies. Not displaying the image probably makes debugging 
</I>&gt;<i> easier however.
</I>
On Tue, 4 Oct 2011, Boris Zbarsky wrote:
&gt;<i> 
</I>&gt;<i> Displaying images involves sharing data, basically.  That's why we're 
</I>&gt;<i> having to jump through all these hoops....
</I>
On Tue, 4 Oct 2011, Anne van Kesteren wrote:
&gt;<i> 
</I>&gt;<i> Sure, but not more than per usual. Note that if you do not specify the 
</I>&gt;<i> crossorigin attribute the image can still get untainted. And if it does 
</I>&gt;<i> not you would still display the image (as always).
</I>
The thing is that you can grab the image data (at least the alpha channel 
using 2D canvas) from these images, even with tainting enabled, so if the 
server says no, we really should honour it.


On Tue, 4 Oct 2011, Boris Zbarsky wrote:
&gt;<i> 
</I>&gt;<i> And in particular an &lt;img crossorigin&gt; that's in the DOM and fails the 
</I>&gt;<i> CORS checks should not render the image on the page.  Anything else is 
</I>&gt;<i> just broken.
</I>
Agreed.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075667.html">[whatwg] [CORS] WebKit tainting image instead of throwing error
</A></li>
	<LI>Next message: <A HREF="075679.html">[whatwg] [CORS] WebKit tainting image instead of throwing error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75675">[ date ]</a>
              <a href="thread.html#75675">[ thread ]</a>
              <a href="subject.html#75675">[ subject ]</a>
              <a href="author.html#75675">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
