<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Feedback on UndoManager spec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Feedback%20on%20UndoManager%20spec&In-Reply-To=%3CCABNRm60r5h8cJTnqYd-m4Hz5_j48p8KLunevB4gGDpQR47myUg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033692.html">
   <LINK REL="Next"  HREF="033699.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Feedback on UndoManager spec</H1>
<!--htdig_noindex-->
    <B>Ryosuke Niwa</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Feedback%20on%20UndoManager%20spec&In-Reply-To=%3CCABNRm60r5h8cJTnqYd-m4Hz5_j48p8KLunevB4gGDpQR47myUg%40mail.gmail.com%3E"
       TITLE="[whatwg] Feedback on UndoManager spec">rniwa at webkit.org
       </A><BR>
    <I>Fri Oct 28 12:54:03 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="033692.html">[whatwg] Feedback on UndoManager spec
</A></li>
        <LI>Next message: <A HREF="033699.html">[whatwg] Feedback on UndoManager spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33694">[ date ]</a>
              <a href="thread.html#33694">[ thread ]</a>
              <a href="subject.html#33694">[ subject ]</a>
              <a href="author.html#33694">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Oct 28, 2011 at 12:20 PM, Aryeh Gregor &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ayg at aryeh.name</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>  &gt; Another use-case: a (possibly collaborative) slide editor (e.g. Google
</I>&gt;<i> &gt; Presentations). Imagine that each text box in a slide is a
</I>&gt;<i> contentEditable.
</I>&gt;<i> &gt; You want adding/removing textboxes and/or slides to be manual
</I>&gt;<i> transactions,
</I>&gt;<i> &gt; but actual text editing in the text boxes to be automatic. And you want
</I>&gt;<i> all
</I>&gt;<i> &gt; this in the same undo stack.
</I>&gt;<i>
</I>&gt;<i> Well, there are two possibilities:
</I>&gt;<i>
</I>&gt;<i> 1) When undoing the manual transactions, the author intends to get
</I>&gt;<i> back to the exact same DOM as before.  In this case, it's no problem
</I>&gt;<i> if the UA enforces this automatically: it's just doing what the author
</I>&gt;<i> wanted.
</I>&gt;<i>
</I>&gt;<i> 2) When undoing the manual transactions, the author does not intend to
</I>&gt;<i> get back to the exact same DOM as before, maybe because someone else
</I>&gt;<i> has modified it.  In this case, automatic transactions are useless
</I>&gt;<i> anyway.  The UA's best effort will not be what the author wants,
</I>&gt;<i> particularly if it's undefined.  For instance, in a collaborative
</I>&gt;<i> editor, if someone else has added some text that shouldn't be undone,
</I>&gt;<i> the UA will fail randomly.  Thus the author cannot rely on automatic
</I>&gt;<i> transactions and will have to do the merge resolution themselves.
</I>&gt;<i>
</I>
But that manual transaction may be mutating DOM outside of the editable
region. i.e. in the slide app case, you may have plane that's showing a list
of slides. Since that's a part of the UI provided by the app, the DOM state
of that UI may change over time without necessarily undoing or redoing
insertions and removals of slides. So when you undo/redo an insertion of a
slide, the exact change you make to the DOM may not be a mere restoration. Yet,
the app still may want undo/redo in text fields to be implemented by UAs.

- Ryosuke
</PRE>












<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033692.html">[whatwg] Feedback on UndoManager spec
</A></li>
	<LI>Next message: <A HREF="033699.html">[whatwg] Feedback on UndoManager spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33694">[ date ]</a>
              <a href="thread.html#33694">[ thread ]</a>
              <a href="subject.html#33694">[ subject ]</a>
              <a href="author.html#33694">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
