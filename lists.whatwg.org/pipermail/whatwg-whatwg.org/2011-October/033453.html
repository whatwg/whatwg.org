<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Question about the bookmark in the adoption agency	algorithm
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Question%20about%20the%20bookmark%20in%20the%20adoption%20agency%0A%09algorithm&In-Reply-To=%3C4E8E8AAE.2070604%40mozilla.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033452.html">
   <LINK REL="Next"  HREF="033455.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Question about the bookmark in the adoption agency	algorithm</H1>
<!--htdig_noindex-->
    <B>David Flanagan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Question%20about%20the%20bookmark%20in%20the%20adoption%20agency%0A%09algorithm&In-Reply-To=%3C4E8E8AAE.2070604%40mozilla.com%3E"
       TITLE="[whatwg] Question about the bookmark in the adoption agency	algorithm">dflanagan at mozilla.com
       </A><BR>
    <I>Thu Oct  6 22:14:22 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="033452.html">[whatwg] HTML 5 toDataUrl() method expansion
</A></li>
        <LI>Next message: <A HREF="033455.html">[whatwg] HTML parsing: &quot;act as if...had been seen&quot; using what	insertion mode?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33453">[ date ]</a>
              <a href="thread.html#33453">[ thread ]</a>
              <a href="subject.html#33453">[ subject ]</a>
              <a href="author.html#33453">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I'm trying to implement the HTML parser's adoption agency algorithm and 
am puzzled by this step:
&gt;<i> Let a bookmark note the position of the formatting element in the list 
</I>&gt;<i> of active formatting elements 
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#list-of-active-formatting-elements">http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#list-of-active-formatting-elements</A>&gt; 
</I>&gt;<i> relative to the elements on either side of it in the list.
</I>The metaphor of a bookmark is such that it marks a position between two 
pages (or list elements in this case), and I'm having trouble with the 
phrase &quot;the elements on either side of it&quot;: I don't understand how this 
bookmark can mark the position of one element relative to both the 
element before and the element after.  That would require two 
bookmarks!  My guess, from the other steps that involve the bookmark is 
that it is supposed to mark the position after the formatting element, 
but I'm hoping that someone can confirm that for me.

The second time the bookmark is mentioned it is to be moved &quot; 
immediately after the new node&quot;.  This is a bookmark position that I can 
understand. And the final time the bookmark is mentioned, it is to &quot; 
insert the new element into the list...at the position of the 
aforementioned bookmark.&quot; Like a cursor in text, a bookmark works as an 
insertion position, so I get this part.

I think that the first mention of the bookmark in the spec should be 
clarified so that it is clear whether the bookmark marks the position 
before the formatting element or the position after the formatting element.

Finally, I assume that the reason this algorithm uses a bookmark 
metaphor in the first place is that simply storing a numeric index into 
the list is not sufficient--that intervening insertions or deletions 
would make maintaining that index overly complicated.  I'm guessing, 
therefore that the most straightforward implemenation of the algorithm 
is to actually insert a special-purpose bookmark object onto the list 
(like the scope markers in the stack).  Anyone who has implemented it 
care to comment?

Thanks!

     David

</PRE>















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033452.html">[whatwg] HTML 5 toDataUrl() method expansion
</A></li>
	<LI>Next message: <A HREF="033455.html">[whatwg] HTML parsing: &quot;act as if...had been seen&quot; using what	insertion mode?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33453">[ date ]</a>
              <a href="thread.html#33453">[ thread ]</a>
              <a href="subject.html#33453">[ subject ]</a>
              <a href="author.html#33453">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
