<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas 2D context proposal: point/linear filtering modes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%202D%20context%20proposal%3A%20point/linear%20filtering%20modes&In-Reply-To=%3C4EAB01E5.8040200%40scirra.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075980.html">
   <LINK REL="Next"  HREF="075968.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas 2D context proposal: point/linear filtering modes</H1>
<!--htdig_noindex-->
    <B>Ashley Gullen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%202D%20context%20proposal%3A%20point/linear%20filtering%20modes&In-Reply-To=%3C4EAB01E5.8040200%40scirra.com%3E"
       TITLE="[whatwg] Canvas 2D context proposal: point/linear filtering modes">ashley at scirra.com
       </A><BR>
    <I>Fri Oct 28 12:26:29 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="075980.html">[whatwg] DOMTokenList methods would be more useful with a space separated token list
</A></li>
        <LI>Next message: <A HREF="075968.html">[whatwg] Canvas 2D context proposal: point/linear filtering	modes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33693">[ date ]</a>
              <a href="thread.html#33693">[ thread ]</a>
              <a href="subject.html#33693">[ subject ]</a>
              <a href="author.html#33693">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi WHATWG,

I'm running a startup heavily invested in HTML5 2D game development (see 
www.scirra.com).  I apologise if what I'm about to mention has been 
discussed before, but I haven't been involved before now.

The retro (pixellated style) is still very popular in 2D gaming, and 
many new games are still being made with this style.  (Have a quick 
scroll through <A HREF="http://www.tigsource.com/">http://www.tigsource.com/</A> and notice how many retro games 
are still hitting headlines.)  I've noticed most browsers today are 
using bilinear filtering for scaling.  Compared to point filtering (aka 
nearest neighbour) this makes retro style games look blurry.  See here: 
<A HREF="http://www.scirra.com/images/point-vs-linear.png">http://www.scirra.com/images/point-vs-linear.png</A>

Bilinear filtering does in fact result in a better quality display for 
many modern games.  However, it's unsuitable for retro style games as 
the image demonstrates: seeing an entire game look that blurry is likely 
to make the game unplayable.  So I believe there's a real need for both, 
but the standard leaves this as an implementation detail: &quot;The user 
agent may use any filtering algorithm (for example bilinear 
interpolation or nearest-neighbor).&quot;  I propose that the standard is 
amended so both modern and retro style games can use the most 
appropriate sampling algorithm.

For example:
context.globalFilter = &quot;point&quot;; // set point filtering (nearest-neighbour)
context.globalFilter = &quot;bilinear&quot;; // set bilinear filtering

Some questions I anticipate:

&quot;Won't this slow down software renderers?&quot;
- Bilinear filtering can seriously impact performance in software 
rendered implementations of the canvas 2D context.  Generally bilinear 
is only supported on hardware accelerated implementations.  I think the 
best solution is to allow implementors to choose the default, and not 
require support for bilinear filtering (although it should be 
recommended).  Modern games using point filtering suffer a small 
degradation in visual quality, but retro games using bilinear filtering 
suffer a massive degradation in visual quality.  So bilinear filtering 
could be optional, and optionally be set as the default, but the ability 
to set point filtering should be required.

&quot;Why not just scale the artwork yourself with nearest-neighbour and use 
that in the game?&quot;
- HTML5 games have to run on a variety of screen sizes, ranging from 
handsets to HD displays.  A good solution to this is to use the scale() 
method to fit to the window size.  However, this scaling is done with 
bilinear filtering in all current major browsers.  Retro artwork drawn 
large and scaled down looks blurry, and artwork drawn small and scaled 
large looks blurry too.  Also, rotating, scaling and sub-pixel 
positioning individual objects can still make artwork look blurry, drawn 
at any size.

&quot;Why not use WebGL?&quot;
- The WebGL API is much more complex than the Canvas 2D API.  To make a 
retro style 2D game, Canvas 2D is the obvious choice, and allows a much 
quicker rate of development.  This also avoids the issue of driver 
support, hardware support and browser support associated with WebGL.

Overall, I think this proposal is very simple, straightforward to 
standardise and implement, genuinely useful, and would significantly 
encourage 2D gaming in HTML5 for comparitively little effort.  Is it 
possible that this could be included in the standard?  Any 
comments/suggestions/vendor-specific extensions I've missed?

-- 
Ashley Gullen
Scirra.com

</PRE>































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075980.html">[whatwg] DOMTokenList methods would be more useful with a space separated token list
</A></li>
	<LI>Next message: <A HREF="075968.html">[whatwg] Canvas 2D context proposal: point/linear filtering	modes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33693">[ date ]</a>
              <a href="thread.html#33693">[ thread ]</a>
              <a href="subject.html#33693">[ subject ]</a>
              <a href="author.html#33693">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
