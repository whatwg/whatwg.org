<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Feedback on UndoManager spec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Feedback%20on%20UndoManager%20spec&In-Reply-To=%3CCA%2Bc2ei8Ae80H99eF4iRG7_DsFa5Bf0zDe4UGjzg6Q17vhyxO7w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033634.html">
   <LINK REL="Next"  HREF="033667.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Feedback on UndoManager spec</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Feedback%20on%20UndoManager%20spec&In-Reply-To=%3CCA%2Bc2ei8Ae80H99eF4iRG7_DsFa5Bf0zDe4UGjzg6Q17vhyxO7w%40mail.gmail.com%3E"
       TITLE="[whatwg] Feedback on UndoManager spec">jonas at sicking.cc
       </A><BR>
    <I>Wed Oct 26 20:26:18 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="033634.html">[whatwg] Feedback on UndoManager spec
</A></li>
        <LI>Next message: <A HREF="033667.html">[whatwg] Feedback on UndoManager spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33653">[ date ]</a>
              <a href="thread.html#33653">[ thread ]</a>
              <a href="subject.html#33653">[ subject ]</a>
              <a href="author.html#33653">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Oct 26, 2011 at 11:39 AM, Ryosuke Niwa &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">rniwa at webkit.org</A>&gt; wrote:
&gt;<i> On Wed, Oct 26, 2011 at 10:57 AM, Aryeh Gregor &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ayg at aryeh.name</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt;&gt; 2) What happens if you have an Element with the undoscope attribute
</I>&gt;&gt;<i> &gt;&gt; that doesn't descend from a Document? &#160;Does undo management make any
</I>&gt;&gt;<i> &gt;&gt; sense in that case, or should the undoscope attribute have no effect
</I>&gt;&gt;<i> &gt;&gt; for detached elements?
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; This is a debatable point. On one hand, allowing a node with undoManager
</I>&gt;&gt;<i> &gt; to
</I>&gt;&gt;<i> &gt; be moved to another location in DOM seems nice but on the other hand,
</I>&gt;&gt;<i> &gt; being
</I>&gt;&gt;<i> &gt; able to move a node with undoManager to a different document will be
</I>&gt;&gt;<i> &gt; problematic. And semantically, moving undoManager makes very little
</I>&gt;&gt;<i> &gt; sense.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Well, if you do
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;var span = document.createElement(&quot;span&quot;);
</I>&gt;&gt;<i> &#160;span.undoScope = true;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> what is the value of span.undoManager? &#160;Per the current spec, it
</I>&gt;&gt;<i> should return an UndoManager that works just fine. &#160;Is this desired,
</I>&gt;&gt;<i> or do you want to return null in this case?
</I>&gt;<i>
</I>&gt;<i> I'm not sure if we should allow that or not. I'm inclined towards not
</I>&gt;<i> allowing it for the sake of disallowing undoManager on a detached node.
</I>
I don't see why the undoManager implementation would need to care why
the element it's attached to is in the document tree or not all. All
it needs to do is to observe modifications to the descendants of the
element.

Note that the upcoming mutation observer spec makes no difference
between nodes in a document and nodes which are not. So if the
undoManager uses the same backend, or is even built on top of it, then
things will just automatically work.

I think there is a lot of value in allowing a element to be moved
around in a document. Even when that element, or a descendant of it,
has a undoManager attached.

/ Jonas
</PRE>





















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033634.html">[whatwg] Feedback on UndoManager spec
</A></li>
	<LI>Next message: <A HREF="033667.html">[whatwg] Feedback on UndoManager spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33653">[ date ]</a>
              <a href="thread.html#33653">[ thread ]</a>
              <a href="subject.html#33653">[ subject ]</a>
              <a href="author.html#33653">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
