<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas should be script-only, not an HTML element
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg-whatwg.org%40lists.whatwg.org?Subject=%5Bwhatwg%5D%20Canvas%20should%20be%20script-only%2C%20not%20an%20HTML%20element&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003982.html">
   <LINK REL="Next"  HREF="003983.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas should be script-only, not an HTML element</H1>
<!--htdig_noindex-->
    <B>Lenny Domnitser</B> 
    <A HREF="mailto:whatwg-whatwg.org%40lists.whatwg.org?Subject=%5Bwhatwg%5D%20Canvas%20should%20be%20script-only%2C%20not%20an%20HTML%20element&In-Reply-To="
       TITLE="[whatwg] Canvas should be script-only, not an HTML element">ldrhcp at gmail.com
       </A><BR>
    <I>Sat May 28 08:27:13 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="003982.html">[whatwg] Context help in Web Forms
</A></li>
        <LI>Next message: <A HREF="003983.html">[whatwg] no &lt;noscript&gt; proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3981">[ date ]</a>
              <a href="thread.html#3981">[ thread ]</a>
              <a href="subject.html#3981">[ subject ]</a>
              <a href="author.html#3981">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Creating a non-semantic &lt;canvas&gt; element as the only element that can
be drawn on is backwards. Instead, a scripting interface to drawing
should take any element as a context node. So instead of this [1]:

    &lt;html&gt;
     &lt;head&gt;
      &lt;script type=&quot;application/x-javascript&quot;&gt;
    function init() {
     var canvas = document.getElementById(&quot;canvas&quot;);
     var ctx = canvas.getContext(&quot;2d&quot;);
    
     ctx.fillStyle = &quot;rgb(200,0,0)&quot;;
     ctx.fillRect (10, 10, 50, 50);
    
     ctx.fillStyle = &quot;rgba(0, 0, 200, 0.5)&quot;;
     ctx.fillRect (30, 30, 50, 50);
    }
      &lt;/script&gt;
     &lt;/head&gt;
     &lt;body onload=&quot;init()&quot;&gt;
       &lt;canvas id=&quot;canvas&quot; width=&quot;300&quot; height=&quot;300&quot;&gt;&lt;/canvas&gt;
     &lt;/body&gt;
    &lt;/html&gt;

I propose this:

    &lt;html&gt;
     &lt;head&gt;
      &lt;script type=&quot;application/x-javascript&quot;&gt;
    function init() {
     var canvas = new Canvas(document.getElementById(&quot;canvas&quot;));
     var ctx = canvas.getContext(&quot;2d&quot;);
    
     ctx.fillStyle = &quot;rgb(200,0,0)&quot;;
     ctx.fillRect (10, 10, 50, 50);
    
     ctx.fillStyle = &quot;rgba(0, 0, 200, 0.5)&quot;;
     ctx.fillRect (30, 30, 50, 50);
    }
      &lt;/script&gt;
     &lt;/head&gt;
     &lt;body onload=&quot;init()&quot;&gt;
       &lt;div id=&quot;canvas&quot; width=&quot;300&quot; height=&quot;300&quot;&gt;&lt;/div&gt;
     &lt;/body&gt;
    &lt;/html&gt;

The significant changes are that the scripting canvas is not a
document node and that the element drawn on is a DIV.

I only proposed a minimal change, but if this method of drawing is
used over a canvas element, the script could be simplified to replace
getContext() with:

    var ctx = new 2DCanvas(document.getElementById('canvas'));

[1]: <A HREF="http://developer-test.mozilla.org/docs/Drawing_Graphics_with_Canvas#A_Simple_Example">http://developer-test.mozilla.org/docs/Drawing_Graphics_with_Canvas#A_Simple_Example</A>
</PRE>



<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003982.html">[whatwg] Context help in Web Forms
</A></li>
	<LI>Next message: <A HREF="003983.html">[whatwg] no &lt;noscript&gt; proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3981">[ date ]</a>
              <a href="thread.html#3981">[ thread ]</a>
              <a href="subject.html#3981">[ subject ]</a>
              <a href="author.html#3981">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg-whatwg.org
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
