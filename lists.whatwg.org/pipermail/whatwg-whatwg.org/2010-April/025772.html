<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Selection API compatibility on exceptions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Selection%20API%20compatibility%20on%20exceptions&In-Reply-To=%3Cy2oa1afaa181004012209i4300b8e3g9b94e31e9a4da76a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025889.html">
   <LINK REL="Next"  HREF="025773.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Selection API compatibility on exceptions</H1>
<!--htdig_noindex-->
    <B>Hajime Morita</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Selection%20API%20compatibility%20on%20exceptions&In-Reply-To=%3Cy2oa1afaa181004012209i4300b8e3g9b94e31e9a4da76a%40mail.gmail.com%3E"
       TITLE="[whatwg] Selection API compatibility on exceptions">morrita at google.com
       </A><BR>
    <I>Thu Apr  1 22:09:23 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="025889.html">[whatwg] WebSocket bufferedAmount includes overhead or not
</A></li>
        <LI>Next message: <A HREF="025773.html">[whatwg] [html5] r4949 - [giow] (0) The CSS rules need to do attribute value matching consistently across [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25772">[ date ]</a>
              <a href="thread.html#25772">[ thread ]</a>
              <a href="subject.html#25772">[ subject ]</a>
              <a href="author.html#25772">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,
I'm working on WebKit and I found that there are an inconsistency
between spec and implementations around Selection API.

Some Selection APIs including collapse(), selectAllChildren() take DOM
nodes as arguments. And the spec says Selection should throw
WRONG_DOCUMENT_ERROR
if &quot;if the given node is in a different document.&quot;
But neither Firefox, Opera, and Webkit throws such exception.
They accept foreign nodes (Firefox), or just gnore them (WebKit).
(I couldn't figure out how Opera behaves. It allows API to be called,
but nothing seems happen even with valid nodes.)
You can walk Selection behaviour with <A HREF="http://www.dodgson.org/t/selections.html">http://www.dodgson.org/t/selections.html</A>

Although it is ideal to throwing exceptions, it may break existing
applications which depend current generous behaviour.
So it looks reasonable for me to change the spec to say not to throw
exceptions for foreign nodes, and just ignore them instead.

Any ideas?
-- 
morita
</PRE>





































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025889.html">[whatwg] WebSocket bufferedAmount includes overhead or not
</A></li>
	<LI>Next message: <A HREF="025773.html">[whatwg] [html5] r4949 - [giow] (0) The CSS rules need to do attribute value matching consistently across [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25772">[ date ]</a>
              <a href="thread.html#25772">[ thread ]</a>
              <a href="subject.html#25772">[ subject ]</a>
              <a href="author.html#25772">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
