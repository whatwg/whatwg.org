<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Two propositions for the autofocus attribute
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Two%20propositions%20for%20the%20autofocus%20attribute&In-Reply-To=%3Cu2oc9e12661004251625rc904f2eah3dec2a0c7de8e244%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026050.html">
   <LINK REL="Next"  HREF="026030.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Two propositions for the autofocus attribute</H1>
<!--htdig_noindex-->
    <B>Garrett Smith</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Two%20propositions%20for%20the%20autofocus%20attribute&In-Reply-To=%3Cu2oc9e12661004251625rc904f2eah3dec2a0c7de8e244%40mail.gmail.com%3E"
       TITLE="[whatwg] Two propositions for the autofocus attribute">dhtmlkitchen at gmail.com
       </A><BR>
    <I>Sun Apr 25 16:25:21 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="026050.html">[whatwg] Two propositions for the autofocus attribute
</A></li>
        <LI>Next message: <A HREF="026030.html">[whatwg] Two propositions for the autofocus attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26034">[ date ]</a>
              <a href="thread.html#26034">[ thread ]</a>
              <a href="subject.html#26034">[ subject ]</a>
              <a href="author.html#26034">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Apr 15, 2010 at 4:08 PM, Jonas Sicking &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonas at sicking.cc</A>&gt; wrote:
&gt;<i> On Thu, Apr 15, 2010 at 3:43 PM, Mounir Lamouri
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mounir.lamouri at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>[...]

&gt;<i>
</I>&gt;<i> However the spec also makes the, IMHO good, recommendation to not
</I>&gt;<i> autofocus an element if the user is already interacting with some
</I>&gt;<i> other form control. The simplest way to implement this would be to not
</I>&gt;<i> honor the autofocus attribute if another form control already has
</I>&gt;<i> focus.
</I>&gt;<i> People will want this for the worst reason. I am aware that this has been discussed on this list and that it is not going to go away. From the html 5 draft:
</I>
|<i> User agents may ignore this attribute if the user has indicated
</I>|<i> (for example, by starting to type in a form control) that he
</I>|<i> does not wish focus to be changed.
</I>
What if the user indicates by pushing space bar, arrow key, page down,
to scroll the document? What if the user clicks in the trackbar area.

What if the user has already scrolled the document and that element is
not within in view? Is it focused? Drawing focus to an element means
that it is scrolled into view. A great example of awful usability with
autofocus is PubMed.

0) Enable javascript and use a modern popular browser (Firefox 3.5+,
IE7) with default settings
1) Go to: <A HREF="http://www.ncbi.nlm.nih.gov/sites/entrez">http://www.ncbi.nlm.nih.gov/sites/entrez</A>
2) Type in search box &quot;testosterone&quot;
3) Hit Enter
4) When the search result appears, attempt to scroll the document
using the spacebar or arrow keys.

Expected result: Document scrolls.

Actual result:
When the onload fires, the input is focused. If the spacebar is
pressed after that, the autocomplete widget is displayed.

The actual U/X varies depending on time to onload.
If the page loads before the space bar was pressed, the autocomplete
shows and the page is not scrolled.
If the page does not load before the space bar was pressed, the page
is scrolled down, as expected. Then, if spacebar is pressed, the input
is focused, causing the page to scroll back up to where the input is
in view, and causing the autocomplete to be displayed.

The reason I mention this in such painful detail is that the
specification uses weasel words to describe U/X. Once more, those
words:

|<i> User agents may ignore this attribute if the user has indicated
</I>|<i> (for example, by starting to type in a form control) that he
</I>|<i> does not wish focus to be changed.
</I>
This puts undue burden on the implementation to try to determine the
case where the user has indicated that he does not wish the focus to
be changed.

&gt;<i> While we could deploy a bunch of heuristics, it seems much simpler to
</I>&gt;<i> just say that it is the *first* element with autofocus that should
</I>&gt;<i> receive focus. I can't think of any significant downsides with this.
</I>&gt;<i>
</I>
The downside is when the user does not want the element to autofocus.

However, I also agree that the proposed change is less bad.

[...]

&gt;<i> Nowhere in this does it restrict this to form controls. However the
</I>&gt;<i> spec only defines the 'autofocus' attribute as valid on form controls.
</I>&gt;<i> So I assume that the above requirement was intended to only apply to
</I>&gt;<i> form controls? Or should you be allowed to autofocus links?
</I>&gt;<i>
</I>
You make it sound like links and inputs are the only focusable objects
on a page.

Garrett
</PRE>











<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026050.html">[whatwg] Two propositions for the autofocus attribute
</A></li>
	<LI>Next message: <A HREF="026030.html">[whatwg] Two propositions for the autofocus attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26034">[ date ]</a>
              <a href="thread.html#26034">[ thread ]</a>
              <a href="subject.html#26034">[ subject ]</a>
              <a href="author.html#26034">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
