<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Image Collision Detection in Canvas
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Image%20Collision%20Detection%20in%20Canvas&In-Reply-To=%3Cw2u185b16f71004072356u8a0a609bx4c7cca39a89ca4a7%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068078.html">
   <LINK REL="Next"  HREF="068160.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Image Collision Detection in Canvas</H1>
<!--htdig_noindex-->
    <B>Saurabh Jain</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Image%20Collision%20Detection%20in%20Canvas&In-Reply-To=%3Cw2u185b16f71004072356u8a0a609bx4c7cca39a89ca4a7%40mail.gmail.com%3E"
       TITLE="[whatwg] Image Collision Detection in Canvas">saurabh at skjworld.com
       </A><BR>
    <I>Wed Apr  7 23:56:27 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="068078.html">[whatwg] Image Collision Detection in Canvas
</A></li>
        <LI>Next message: <A HREF="068160.html">[whatwg] Image Collision Detection in Canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68157">[ date ]</a>
              <a href="thread.html#68157">[ thread ]</a>
              <a href="subject.html#68157">[ subject ]</a>
              <a href="author.html#68157">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

I acknowledge that generic image collision detection in Canvas does have the
following issues but please find my answers on them:


   - No such support in 3D

As of now 3D is not there in Canvas in official WHATWG specification. When
3D comes the 3D game developer can be told that 2D collisions and 3D
collisions are different. We can have ray tracking in 3D when it comes
similar to what 3D API is there in J2ME (JSR 184).


   - If the object moves to fast it may not collide as in the first frame it
   is not touching the image and in the other frame it has gone past the image.

This issue is there but obviously the game developer has to give the correct
speed in this case. He can experiment with say a speed of 1 pixels, 2 pixels
or 3pixels a frame etc. He can get to right speed in 15-20 minutes of
testing. So this would not be a big issue.



   - False alarms

As for the false alerts in the flame or smoke example you gave, the HTML 5
game developer will use this collision detection method only when required.
Also the method will contain 2 images as parameters between whom collision
will be detected. Therefore false alarms issue will not be there as if he
does not want to check collision between two images he will not check for
them.


The main reason for my recommending this was that many novice and
non-technical people will develop games in HTML 5. Many photoshop designers
have the knowledge of HTML , CSS, JavaScript and would like to develop games
using HTML 5. We should try to help them by giving features which help them
to produce casual games in a fast manner. From my experience with J2ME
generic pixel level collision detection is a must for making the lives of 2D
game developers easier in any platform. Also pixel level work in any
developer platform scares novice people since they find difficult to
control.

Saurabh Jain
Director
SKJ Technologies Private Limited
<A HREF="http://www.skjworld.com">http://www.skjworld.com</A>
Author : Mobile Phone Programming using Java ME (J2ME)
<A HREF="http://library.skjworld.com/mobile-technology/java/java-me">http://library.skjworld.com/mobile-technology/java/java-me</A>

On Sun, Apr 4, 2010 at 8:56 PM, WeBMartians &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">webmartians at verizon.net</A>&gt; wrote:

&gt;<i> Ages ago, I worked on this very facility. It is useful but limited -
</I>&gt;<i> knowing that Pac-Man has eaten, indeed, an energy dot is a critical
</I>&gt;<i> component of game play ... and my reference to Pac-Man reinforces my claim
</I>&gt;<i> that this was &quot;ages&quot; (maybe, &quot;eons&quot;) ago. There are times when a
</I>&gt;<i> non-transparent pixel overlay should not cause a collision-alert (you allude
</I>&gt;<i> to this in your posting). A good example is a pixel representing an opaque
</I>&gt;<i> part of a flame - can you collide with a flame ... or smoke... or mist... or
</I>&gt;<i> fog? Also, there are questions of what to do about bleeding (when a sprite
</I>&gt;<i> is only partially visible). The collision matrix can become unwieldy
</I>&gt;<i> (especially if color and transparency driven) and it is either
</I>&gt;<i> non-rectangular or it is populated with duplicate flags (x0,y0 colliding
</I>&gt;<i> with x1,y1 is not the same as x1,y1 colliding with x0,y0). ...and, once you
</I>&gt;<i> have implemented the planar version of this, what do you do about 3D?
</I>&gt;<i>
</I>&gt;<i> There is, also, the filtering problem: if object A moves through object B
</I>&gt;<i> at such a rate that it never appears to touch object B, has a collision
</I>&gt;<i> occurred and how would it be detected?
</I>&gt;<i>
</I>&gt;<i> I agree that the facility is useful but claim that, before it is a required
</I>&gt;<i> part of a standard, more definition must occur.
</I>&gt;<i>
</I>&gt;<i> In the meantime, with the advent of much improved Javascript interpreters,
</I>&gt;<i> I speculate that implementing a specific collision detection system (similar
</I>&gt;<i> to your description) might be far easier than rigorously defining a standard
</I>&gt;<i> for a facility that would be seen, in short order, as underpowered.
</I>&gt;<i> Affecting the success of this endeavor will be the definitions of just what
</I>&gt;<i> services are available through &lt;canvas&gt;. Assuming that you pursue the
</I>&gt;<i> Javascript approach, I wish to hear of your &quot;adventures&quot; and wish you
</I>&gt;<i> success.
</I>&gt;<i>
</I>&gt;<i> Best!
</I>&gt;<i> BdG/WeBMartians
</I>&gt;<i> ===
</I>&gt;<i>
</I>&gt;<i> Saurabh Jain wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have a proposal for adding generic image collision API in Canvas. Given
</I>&gt;&gt;<i> two images HTMLImageElement objects and there respective x, y, clip width
</I>&gt;&gt;<i> and clip height the API call will let you know if there's any
</I>&gt;&gt;<i> non-transparent pixel (any opaque or translucent pixel) in one image's
</I>&gt;&gt;<i> clipping region that overlaps a non-transparent pixel in another image's
</I>&gt;&gt;<i> clipping region. The clipping region defined by this API call is for local
</I>&gt;&gt;<i> use only for this purpose.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This API will be useful for game programmers. I am author of India's first
</I>&gt;&gt;<i> book on J2ME and have been developing mobile games since 2002. I have
</I>&gt;&gt;<i> through personal experience observed that this pixel level collision at
</I>&gt;&gt;<i> native level is required for game developers to build games easily. What I
</I>&gt;&gt;<i> am referring to is a kind of generic pixel level collision. People are free
</I>&gt;&gt;<i> to develop there own complex collision mechanisms for complex games but
</I>&gt;&gt;<i> small teams composed of new game developers find image collision detection
</I>&gt;&gt;<i> implementation the most difficult concept in the whole game development
</I>&gt;&gt;<i> process to grasp.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Also pixel level checking for two 100 pixel x 100pixel images will involve
</I>&gt;&gt;<i> lot of execution time if done at JavaScript level since up to 10000 checks
</I>&gt;&gt;<i> may have to be performed. Native browser support can speed things a lot.
</I>&gt;&gt;<i> Similar thing happened in J2ME where before MIDP 2.0 people had hard time to
</I>&gt;&gt;<i> do pixel level collision both due to programming complexity and execution
</I>&gt;&gt;<i> issues.
</I>&gt;&gt;<i> Saurabh Jain
</I>&gt;&gt;<i> Director
</I>&gt;&gt;<i> SKJ Technologies Private Limited
</I>&gt;&gt;<i> <A HREF="http://www.skjworld.com">http://www.skjworld.com</A>
</I>&gt;&gt;<i> Author : Mobile Phone Programming using Java ME (J2ME)
</I>&gt;&gt;<i> <A HREF="http://library.skjworld.com/mobile-technology/java/java-me">http://library.skjworld.com/mobile-technology/java/java-me</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100408/a7c0dd4a/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100408/a7c0dd4a/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068078.html">[whatwg] Image Collision Detection in Canvas
</A></li>
	<LI>Next message: <A HREF="068160.html">[whatwg] Image Collision Detection in Canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68157">[ date ]</a>
              <a href="thread.html#68157">[ thread ]</a>
              <a href="subject.html#68157">[ subject ]</a>
              <a href="author.html#68157">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
