<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Directory%20upload%20via%20%3Cinput%20type%3D%22file%22%20directory%3E&In-Reply-To=%3Cr2m5ce7a0db1004011553o5ffe5db4y9339b4e79bfb9c9c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068265.html">
   <LINK REL="Next"  HREF="068104.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;</H1>
<!--htdig_noindex-->
    <B>John Gregg</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Directory%20upload%20via%20%3Cinput%20type%3D%22file%22%20directory%3E&In-Reply-To=%3Cr2m5ce7a0db1004011553o5ffe5db4y9339b4e79bfb9c9c%40mail.gmail.com%3E"
       TITLE="[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;">johnnyg at google.com
       </A><BR>
    <I>Thu Apr  1 15:53:08 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="068265.html">[whatwg] Web Workers feedback
</A></li>
        <LI>Next message: <A HREF="068104.html">[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68037">[ date ]</a>
              <a href="thread.html#68037">[ thread ]</a>
              <a href="subject.html#68037">[ subject ]</a>
              <a href="author.html#68037">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>For context, Ian Fette started a thread about uploading directories of files
in December:
<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2009-December/024455.html">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2009-December/024455.html</A>


At that time, it was thought that directory upload could be implemented by a
UA in response to a &lt;input type=&quot;file&quot; multiple&gt; tag using different UI
only, and modifying the FileAPI spec to allow path information in the form

input.files[0].name=&quot;1.jpg&quot;
input.files[0].path=&quot;a&quot;
input.files[1].name=&quot;2.jpg&quot;
input.files[1].path=&quot;a/b&quot;
input.files[2].name=&quot;3.jpg&quot;
input.files[2].path=&quot;a/c&quot;

I've started developing a prototype of this in WebKit/Chromium.  Based on
what I've encountered so far, I would like to propose adding directory
upload functionality using an explicit new 'directory' attribute on the file
input element.

The existing behavior of &lt;input type=&quot;file&quot; multiple&gt; would not change, but
when processing &lt;input type=&quot;file&quot; directory&gt;, the UA would display a
directory selection UI and store the path information, and *not* allow
individual files to be selected.  It would allow multiple files to have the
same leaf name (.name attribute), as long as the paths were different.  The
path attributes would include the name of the chosen directory

This would be preferable for several reasons:
 - Most built-in file system UI on major platforms (Windows/Mac/Linux) have
distinct dialogs for choosing files and choosing directories.  Allowing the
UA to use these directly makes sense rather than creating hybrids.
 - Avoiding &quot;leaf name&quot; conflicts in a directory tree is not feasible in
many applications -- asking a user to ensure unique photo names in a large
set of albums before uploading would fail to meet that use case.  Therefore
HTML documents should know in advance whether the path information will be
relevant in the eventual storage of the files.  Sites currently using &lt;input
type=&quot;file&quot; multiple&gt; would have compatibility problems with an
implementation which allowed conflicting file names along different paths.

What are your thoughts about adding the 'directory' attribute?

Thanks,
 -John
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100401/789655d4/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100401/789655d4/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068265.html">[whatwg] Web Workers feedback
</A></li>
	<LI>Next message: <A HREF="068104.html">[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68037">[ date ]</a>
              <a href="thread.html#68037">[ thread ]</a>
              <a href="subject.html#68037">[ subject ]</a>
              <a href="author.html#68037">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
