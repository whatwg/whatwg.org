<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Directory%20upload%20via%20%3Cinput%20type%3D%22file%22%20directory%3E&In-Reply-To=%3Cx2m78dc8441004061238uae868197of81be4d684f0950c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068037.html">
   <LINK REL="Next"  HREF="068105.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;</H1>
<!--htdig_noindex-->
    <B>Ojan Vafai</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Directory%20upload%20via%20%3Cinput%20type%3D%22file%22%20directory%3E&In-Reply-To=%3Cx2m78dc8441004061238uae868197of81be4d684f0950c%40mail.gmail.com%3E"
       TITLE="[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;">ojan at chromium.org
       </A><BR>
    <I>Tue Apr  6 12:38:05 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="068037.html">[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;
</A></li>
        <LI>Next message: <A HREF="068105.html">[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68104">[ date ]</a>
              <a href="thread.html#68104">[ thread ]</a>
              <a href="subject.html#68104">[ subject ]</a>
              <a href="author.html#68104">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>What about drag-drop? I should be able to drag a directory, a file, or a
list of files onto an input, no? If not, how is this distinction shown to
users? How will it be clear to users when they can do one or the other?

Ojan

On Thu, Apr 1, 2010 at 3:53 PM, John Gregg &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">johnnyg at google.com</A>&gt; wrote:

&gt;<i> For context, Ian Fette started a thread about uploading directories of
</I>&gt;<i> files in December:
</I>&gt;<i> <A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2009-December/024455.html">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2009-December/024455.html</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> At that time, it was thought that directory upload could be implemented by
</I>&gt;<i> a UA in response to a &lt;input type=&quot;file&quot; multiple&gt; tag using different UI
</I>&gt;<i> only, and modifying the FileAPI spec to allow path information in the form
</I>&gt;<i>
</I>&gt;<i> input.files[0].name=&quot;1.jpg&quot;
</I>&gt;<i> input.files[0].path=&quot;a&quot;
</I>&gt;<i> input.files[1].name=&quot;2.jpg&quot;
</I>&gt;<i> input.files[1].path=&quot;a/b&quot;
</I>&gt;<i> input.files[2].name=&quot;3.jpg&quot;
</I>&gt;<i> input.files[2].path=&quot;a/c&quot;
</I>&gt;<i>
</I>&gt;<i> I've started developing a prototype of this in WebKit/Chromium.  Based on
</I>&gt;<i> what I've encountered so far, I would like to propose adding directory
</I>&gt;<i> upload functionality using an explicit new 'directory' attribute on the file
</I>&gt;<i> input element.
</I>&gt;<i>
</I>&gt;<i> The existing behavior of &lt;input type=&quot;file&quot; multiple&gt; would not change, but
</I>&gt;<i> when processing &lt;input type=&quot;file&quot; directory&gt;, the UA would display a
</I>&gt;<i> directory selection UI and store the path information, and *not* allow
</I>&gt;<i> individual files to be selected.  It would allow multiple files to have the
</I>&gt;<i> same leaf name (.name attribute), as long as the paths were different.  The
</I>&gt;<i> path attributes would include the name of the chosen directory
</I>&gt;<i>
</I>&gt;<i> This would be preferable for several reasons:
</I>&gt;<i>  - Most built-in file system UI on major platforms (Windows/Mac/Linux) have
</I>&gt;<i> distinct dialogs for choosing files and choosing directories.  Allowing the
</I>&gt;<i> UA to use these directly makes sense rather than creating hybrids.
</I>&gt;<i>  - Avoiding &quot;leaf name&quot; conflicts in a directory tree is not feasible in
</I>&gt;<i> many applications -- asking a user to ensure unique photo names in a large
</I>&gt;<i> set of albums before uploading would fail to meet that use case.  Therefore
</I>&gt;<i> HTML documents should know in advance whether the path information will be
</I>&gt;<i> relevant in the eventual storage of the files.  Sites currently using &lt;input
</I>&gt;<i> type=&quot;file&quot; multiple&gt; would have compatibility problems with an
</I>&gt;<i> implementation which allowed conflicting file names along different paths.
</I>&gt;<i>
</I>&gt;<i> What are your thoughts about adding the 'directory' attribute?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>  -John
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100406/87f31f00/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100406/87f31f00/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068037.html">[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;
</A></li>
	<LI>Next message: <A HREF="068105.html">[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68104">[ date ]</a>
              <a href="thread.html#68104">[ thread ]</a>
              <a href="subject.html#68104">[ subject ]</a>
              <a href="author.html#68104">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
