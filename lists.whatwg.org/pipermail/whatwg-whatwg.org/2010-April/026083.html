<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Directory%20upload%20via%20%3Cinput%20type%3D%22file%22%20directory%3E&In-Reply-To=%3Cv2k63df84f1004281129gf2169ac9uf51a15453ec83ab0%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026082.html">
   <LINK REL="Next"  HREF="026088.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Directory%20upload%20via%20%3Cinput%20type%3D%22file%22%20directory%3E&In-Reply-To=%3Cv2k63df84f1004281129gf2169ac9uf51a15453ec83ab0%40mail.gmail.com%3E"
       TITLE="[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;">jonas at sicking.cc
       </A><BR>
    <I>Wed Apr 28 11:29:27 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="026082.html">[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;
</A></li>
        <LI>Next message: <A HREF="026088.html">[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26083">[ date ]</a>
              <a href="thread.html#26083">[ thread ]</a>
              <a href="subject.html#26083">[ subject ]</a>
              <a href="author.html#26083">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Apr 28, 2010 at 11:03 AM, John Gregg &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">johnnyg at google.com</A>&gt; wrote:
&gt;&gt;&gt;<i> Also, I do believe the ability to upload a whole directory is important for
</I>&gt;&gt;&gt;<i> some good use-cases, e.g. upload a directory of photos to a photo site while
</I>&gt;&gt;&gt;<i> maintaing directory structure.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I can't really say that I can think of any very urgent use cases for
</I>&gt;&gt;<i> this. However only a minor tweak to specs would cover this. By
</I>&gt;&gt;<i> allowing the filename to contain a partial path you'd have this
</I>&gt;&gt;<i> covered without need for new input types. I think this has been
</I>&gt;&gt;<i> discussed before.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yes, the path information can be stored and communicated with a small
</I>&gt;<i> tweak, let's take that as settled.
</I>&gt;<i>
</I>&gt;<i> Assuming the use case is valid to upload an entire directory while
</I>&gt;<i> maintaining directory structure, how should the user choose the
</I>&gt;<i> directory? &#160;That's the point I'm interested in settling and I think
</I>&gt;<i> we've mostly just circled around it.
</I>&gt;<i>
</I>&gt;<i> Suggestions include:
</I>&gt;<i> - Open up a system folder-picker dialog. &#160;The UA needs to know when to
</I>&gt;<i> open that dialog instead of a file-picker dialog, the two dialogs
</I>&gt;<i> being different on all major platforms, and so we could:
</I>&gt;<i> &#160; &#160;- use a new 'directory' attribute on &lt;input&gt; to indicate it (my
</I>&gt;<i> original proposal)
</I>&gt;<i> &#160; &#160;- use multiple buttons (add file(s)/add folder/remove) with each
</I>&gt;<i> &lt;input multiple&gt; that allows the user to do different things
</I>&gt;<i> - Create a new file-picker for &lt;input multiple&gt; that allows both file
</I>&gt;<i> and folder selection (i think most people want to avoid this)
</I>&gt;<i> - Ojan's proposal: allow a folder to be dragged onto a &lt;input
</I>&gt;<i> multiple&gt; tag, but don't allow specifying through dialogs.
</I>&gt;<i>
</I>&gt;<i> Clearly there are options without the new attribute, but I still think
</I>&gt;<i> they all result in awkward UI. &#160;I don't think allowing drag and drop
</I>&gt;<i> only would be sufficient especially considering accessibility.
</I>
Ok. I'd recommend experimenting with this in chrome. It seems like the
most backwards compatible way would be to add another boolean
attribute like you suggest. This would then enable another button in
the UI for picking a directory. It would also make it so that partial
paths are included if a directory is dropped on the &lt;input multiple&gt;.

For what it's worth, I think the Mac file picker can be made to
choosing either a folder or a file. So there a &lt;input type=file
multiple directory&gt; would just need one button which brings up a
filepicker that allows selecting either a file or a folder.

/ Jonas
</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026082.html">[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;
</A></li>
	<LI>Next message: <A HREF="026088.html">[whatwg] Directory upload via &lt;input type=&quot;file&quot; directory&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26083">[ date ]</a>
              <a href="thread.html#26083">[ thread ]</a>
              <a href="subject.html#26083">[ subject ]</a>
              <a href="author.html#26083">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
