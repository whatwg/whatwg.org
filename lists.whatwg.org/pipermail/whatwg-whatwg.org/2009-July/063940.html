<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Empty &lt;html manifest=&quot;&quot;&gt; attribute handling.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Empty%20%3Chtml%20manifest%3D%22%22%3E%20attribute%20handling.&In-Reply-To=%3Cfa2eab050907311324r1a288b71r4befba443d62dfdb%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="063938.html">
   <LINK REL="Next"  HREF="063945.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Empty &lt;html manifest=&quot;&quot;&gt; attribute handling.</H1>
<!--htdig_noindex-->
    <B>Michael Nordman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Empty%20%3Chtml%20manifest%3D%22%22%3E%20attribute%20handling.&In-Reply-To=%3Cfa2eab050907311324r1a288b71r4befba443d62dfdb%40mail.gmail.com%3E"
       TITLE="[whatwg] Empty &lt;html manifest=&quot;&quot;&gt; attribute handling.">michaeln at google.com
       </A><BR>
    <I>Fri Jul 31 13:24:26 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="063938.html">[whatwg] Any thought on html5 video tag behind squid proxy !!
</A></li>
        <LI>Next message: <A HREF="063945.html">[whatwg] [html5] r3515 - [e] (0) Clarify 'font' serialisation.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63940">[ date ]</a>
              <a href="thread.html#63940">[ thread ]</a>
              <a href="subject.html#63940">[ subject ]</a>
              <a href="author.html#63940">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hello,

How empty &lt;html manifest=&quot;&quot;&gt; attribute values are handled in the
section 9.2.5.5 may want some massaging.

<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/syntax.html#parser-appcache">http://www.whatwg.org/specs/web-apps/current-work/multipage/syntax.html#parser-appcache</A>

&gt;<i> If the&#160;Document&#160;is being loaded as part of&#160;navigation&#160;of a&#160;browsing context, then: if the newly
</I>&gt;<i> created element has a&#160;manifest&#160;attribute, then&#160;resolve&#160;the value of that attribute to an&#160;absolute
</I>&gt;<i> URL, relative to the newly created element, and if that is successful, run the&#160;application cache
</I>&gt;<i> selection algorithm&#160;with the resulting&#160;absolute URLwith any&#160;&lt;fragment&gt;&#160;component removed;
</I>&gt;<i> otherwise, if there is no such attribute or resolving it fails, run the&#160;application cache selection
</I>&gt;<i> algorithm&#160;with no manifest. The algorithm must be passed the&#160;Document&#160;object.
</I>
This ends up passing the value of the document url into the cache
selection algorithm as the manifest url,
which will initiate an update and all that.

A couple of things that may make sense.

1) equate &lt;html manifest=&quot;&quot;&gt; with &lt;html&gt;.... treat empty as non-existent.

2) don't resolve the url if the attribute value is empty, pass an
empty url to the cache selection algorithm,
and have that algorithm flag such resources as foreign if it was
loaded from an appcache

Both of these prevent the initiation of an update that is doomed to fail.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="063938.html">[whatwg] Any thought on html5 video tag behind squid proxy !!
</A></li>
	<LI>Next message: <A HREF="063945.html">[whatwg] [html5] r3515 - [e] (0) Clarify 'font' serialisation.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63940">[ date ]</a>
              <a href="thread.html#63940">[ thread ]</a>
              <a href="subject.html#63940">[ subject ]</a>
              <a href="author.html#63940">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
