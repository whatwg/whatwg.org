<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Codecs%20for%20%3Caudio%3E%20and%20%3Cvideo%3E&In-Reply-To=%3C4A4D6405.6040409%40jumis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="063004.html">
   <LINK REL="Next"  HREF="063002.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;</H1>
<!--htdig_noindex-->
    <B>Charles Pritchard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Codecs%20for%20%3Caudio%3E%20and%20%3Cvideo%3E&In-Reply-To=%3C4A4D6405.6040409%40jumis.com%3E"
       TITLE="[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;">chuck at jumis.com
       </A><BR>
    <I>Thu Jul  2 18:51:01 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="063004.html">[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;
</A></li>
        <LI>Next message: <A HREF="063002.html">[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63001">[ date ]</a>
              <a href="thread.html#63001">[ thread ]</a>
              <a href="subject.html#63001">[ subject ]</a>
              <a href="author.html#63001">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I'd like to see some progress on these two tags.

I'd like people to consider that Vorbis can be implemented
in virtual machines (Java, Flash) which support raw PCM data.
Theora is no different.

I'd like to see &lt;canvas&gt; support added to the &lt;video&gt; tag (it's as 
natural as &lt;img&gt;).
and enable the &lt;audio&gt; tag to accept raw data lpcm),
just as the &lt;canvas&gt; tag accepts raw data (bitmap).

Then you can support any codec you create, as well as use system codecs.

You can't make the impossible happen (no HD video on an old 300mhz machine),
but you'd have the freedom to do the improbable.

Add raw pcm and sound font support to &lt;audio&gt;,
add raw pixel support to &lt;video&gt; (via CanvasRenderingContext2D).

And add an event handler when subtitles are enabled / disabled.

I have further, more specific comments, below.
and at the end of the e-mail, two additions to the standard.

&gt;<i> Ian Hickson wrote:
</I>&gt;<i> I understand that people are disappointed that we can't require Theora 
</I>&gt;<i> support. I am disappointed in the lack of progress on this issue also.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, 30 Jun 2009, Dr. Markus Walther wrote:
</I>&gt;<i>   
</I>&gt;&gt;&gt;<i> Having removed everything else in these sections, I figured there 
</I>&gt;&gt;&gt;<i> wasn't that much value in requiring PCM-in-Wave support. However, I 
</I>&gt;&gt;&gt;<i> will continue to work with browser vendors directly and try to get a 
</I>&gt;&gt;&gt;<i> common codec at least for audio, even if that is just PCM-in-Wave.
</I>&gt;&gt;&gt;<i>       
</I>
I'd think that FLAC would make more sense than PCM-in-Wave,
as a PNG analog.

Consider the &lt;canvas&gt; element. PNG implementations may be broken.
Internally, &lt;canvas&gt; accepts a raw byte array, a 32 bit bitmap, and
allows a string-based export of a compressed bitmap,
as a base64 encoded 32 bit png.

The &lt;audio&gt; element should accept a raw byte array, 32 bit per sample lpcm,
and allow a similar export of base64 encoded file, perhaps using FLAC.

Canvas can currently be used to render unsupported image formats (and 
mediate unsupported image containers),
it's been proven with ActionScript that a virtual machine can also 
support otherwise unsupported audio codecs.

I'd like to see a font analog in audio as well. Canvas supports the font 
attribute,
audio could certainly support sound fonts. Use a generated pitch if your
platform can't or doesn't store sound fonts.


&gt;&gt;<i> Please, please do so - I was shocked to read that PCM-in-Wave as the 
</I>&gt;&gt;<i> minimal 'consensus' container for audio is under threat of removal, too.
</I>&gt;&gt;<i>     
</I>There seems to be some confusion between codecs and containers.
WAV, OGG, AVI and MKV are containers, OSC is another.

Codecs are a completely separate matter.

It's very clear that Apple will not distribute the Vorbis and Theora codecs
with their software packages.

It's likely that Apple would like to use a library they don't have to 
document,
as required by most open source licenses, and they see no current reason 
to invest
money into writing a new one. Apple supports many chipsets, and many content
agreements, it would be costly.

I see no reason why Apple could not support the OGG container.
That said, I see no reason why a list of containers needs to be in the 
HTML 5 spec.

&gt;<i> On Thu, 2 Jul 2009, Charles Pritchard wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Can the standard simply address video containers (OGG, MKV, AVI) ?
</I>&gt;&gt;<i> Each container is fairly easy to implement and codecs can be identified within
</I>&gt;&gt;<i> the container.
</I>&gt;&gt;<i> Vendors can decide on their own what to do with that information.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> The spec does document how to distinguish containers via MIME type. Beyond 
</I>&gt;<i> that I'm not sure what we can do.
</I>&gt;<i>
</I>&gt;<i> &lt;video&gt; does support fallback, so in practice you can just use Theora and 
</I>&gt;<i> H.264 and cover all bases.
</I>&gt;<i>   
</I>
I'd like to see this added to &lt;audio&gt; and &lt;video&gt;:

&quot;User agents should provide controls to enable the manual selection of 
fallback content.&quot;

&quot;User agents should provide an activation behavior, when fallback 
content is required, detailing why the primary content could not be used.&quot;

Many non-technical users will want to know why there is a black screen 
(or still image), even though they can hear the audio.


-Charles



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="063004.html">[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;
</A></li>
	<LI>Next message: <A HREF="063002.html">[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63001">[ date ]</a>
              <a href="thread.html#63001">[ thread ]</a>
              <a href="subject.html#63001">[ subject ]</a>
              <a href="author.html#63001">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
