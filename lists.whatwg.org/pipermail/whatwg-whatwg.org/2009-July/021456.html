<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Issues with Web Sockets API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Issues%20with%20Web%20Sockets%20API&In-Reply-To=%3Cfa2eab050907271751m1413dc7kcb23d835fefdc5b4%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021455.html">
   <LINK REL="Next"  HREF="021428.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Issues with Web Sockets API</H1>
<!--htdig_noindex-->
    <B>Michael Nordman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Issues%20with%20Web%20Sockets%20API&In-Reply-To=%3Cfa2eab050907271751m1413dc7kcb23d835fefdc5b4%40mail.gmail.com%3E"
       TITLE="[whatwg] Issues with Web Sockets API">michaeln at google.com
       </A><BR>
    <I>Mon Jul 27 17:51:09 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="021455.html">[whatwg] Issues with Web Sockets API
</A></li>
        <LI>Next message: <A HREF="021428.html">[whatwg] Issues with Web Sockets API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21456">[ date ]</a>
              <a href="thread.html#21456">[ thread ]</a>
              <a href="subject.html#21456">[ subject ]</a>
              <a href="author.html#21456">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> Obviously we need more web platform capabilities to make such use cases a
</I>reality, but they are foreseeable and we should deal with them in some
reasonable way.
Couldn't agree more.

The proposed websocket interface is too dumbed down. The caller doesn't know
what the impl is doing, and the impl doesn't know what the caller is trying
to do. As a consequence, there is no &quot;reasonable&quot; action that either can
take when buffers start overflowing. Typically, the network layer provides
sufficient status info to its caller that, allowing the higher level code to
do something reasonable in light of how the network layer is performing.
That kind of status info is simply missing from the websocket interface. I
think its possible to add to the interface features that would facilitate
more demanding uses cases without complicating the simple use cases. I think
that would be an excellent goal for this API.

On Mon, Jul 27, 2009 at 5:30 PM, Maciej Stachowiak &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mjs at apple.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> On Jul 27, 2009, at 2:44 PM, Drew Wilson wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There's another option besides blocking, raising an exception, and
</I>&gt;&gt;<i> dropping data: unlimited buffering in user space. So I'm saying we should
</I>&gt;&gt;<i> not put any limits on the amount of user-space buffering we're willing to
</I>&gt;&gt;<i> do, any more than we put any limits on the amount of other types of
</I>&gt;&gt;<i> user-space memory allocation a page can perform.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I think even unlimited buffering needs to be combined with at least a hint
</I>&gt;<i> to the WebSocket client to back off the send rate, because it's possible to
</I>&gt;<i> send so much data that it exceeds the available address space, for example
</I>&gt;<i> when uploading a very large file piece by piece, or when sending a live
</I>&gt;<i> media stream that requires more bandwidth than the connection can deliver.
</I>&gt;<i> In the first case, it is possible, though highly undesirable, to spool the
</I>&gt;<i> data to be sent to disk; in the latter case, doing that would just
</I>&gt;<i> inevitably fill the disk. Obviously we need more web platform capabilities
</I>&gt;<i> to make such use cases a reality, but they are foreseeable and we should
</I>&gt;<i> deal with them in some reasonable way.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Maciej
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090727/435aaabe/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090727/435aaabe/attachment.htm</A>&gt;
</PRE>












<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021455.html">[whatwg] Issues with Web Sockets API
</A></li>
	<LI>Next message: <A HREF="021428.html">[whatwg] Issues with Web Sockets API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21456">[ date ]</a>
              <a href="thread.html#21456">[ thread ]</a>
              <a href="subject.html#21456">[ subject ]</a>
              <a href="author.html#21456">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
