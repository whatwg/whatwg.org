<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Security risks of persistent background content (Re:	Installed Apps)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Security%20risks%20of%20persistent%20background%20content%20%28Re%3A%0A%09Installed%20Apps%29&In-Reply-To=%3Cf965ae410907291115x100c8c32w6bebc7099095b1fb%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021548.html">
   <LINK REL="Next"  HREF="021560.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Security risks of persistent background content (Re:	Installed Apps)</H1>
<!--htdig_noindex-->
    <B>Drew Wilson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Security%20risks%20of%20persistent%20background%20content%20%28Re%3A%0A%09Installed%20Apps%29&In-Reply-To=%3Cf965ae410907291115x100c8c32w6bebc7099095b1fb%40mail.gmail.com%3E"
       TITLE="[whatwg] Security risks of persistent background content (Re:	Installed Apps)">atwilson at google.com
       </A><BR>
    <I>Wed Jul 29 11:15:52 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="021548.html">[whatwg] Security risks of persistent background content (Re:	Installed Apps)
</A></li>
        <LI>Next message: <A HREF="021560.html">[whatwg] Security risks of persistent background content (Re:	Installed Apps)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21550">[ date ]</a>
              <a href="thread.html#21550">[ thread ]</a>
              <a href="subject.html#21550">[ subject ]</a>
              <a href="author.html#21550">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I'd agree with #1, for some given value of &quot;safe&quot; - we've all heard tales of
search engines inadvertently deleting data on people's sites by following
links. Note that web storage violates #2 and #3 (and even cookies could be
viewed as a violation of #2, depending on how broadly you view &quot;caches&quot;).
But I would agree that what you've mentioned below are characteristics of
traditional web browsing. If we went back in time several years, we might
have added in some restrictions about how &quot;data is only posted to the server
in response to explicit user activity/form submittal&quot;. I think we should be
open to the possibility that the characteristics of web browsing today are
not necessarily inherent to the web browsing experience, and may change over
time. Should web browsing in 2020 look like web browsing in 2010? Will web
pages still be restricted to a sandbox with a close button?

It seems like the tenets below are quite appropriate for the &quot;browser as
content-delivery platform&quot;. But they are already starting to change for
&quot;browser as application platform&quot;. The challenge is to balance the safety of
a content-delivery platform while still giving applications the power they
need.

-atw

On Wed, Jul 29, 2009 at 10:48 AM, Linus Upson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">linus at google.com</A>&gt; wrote:

&gt;<i> This is a good analysis. I agree that it is important for the web to
</I>&gt;<i> maintain some important properties that are in conflict with persistent
</I>&gt;<i> background processing:
</I>&gt;<i> 1. All links are safe to click
</I>&gt;<i>
</I>&gt;<i> 2. When a page is closed, the only artifacts left behind are items in
</I>&gt;<i> various caches
</I>&gt;<i>
</I>&gt;<i> 3. The user agent is free to evict items from its various caches at any
</I>&gt;<i> time
</I>&gt;<i>
</I>&gt;<i> For apps that desire capabilities that are not &quot;safe and stateless&quot; I like
</I>&gt;<i> your suggestion to use the browser's extension mechanism (or runtimes such
</I>&gt;<i> as prism or air). Those services usually involve some combination of
</I>&gt;<i> multiple affirmative steps, vetting, reputation and revocation.
</I>&gt;<i>
</I>&gt;<i> Linus
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, Jul 28, 2009 at 10:58 PM, Maciej Stachowiak &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mjs at apple.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Jul 28, 2009, at 10:01 AM, Drew Wilson wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  I've been kicking around some ideas in this area. One thing you could do
</I>&gt;&gt;&gt;<i> with persistent workers is restrict network access to the domain of that
</I>&gt;&gt;&gt;<i> worker if you were concerned about botnets. That doesn't address the &quot;I
</I>&gt;&gt;&gt;<i> installed something in my browser and now it's constantly sucking up my CPU&quot;
</I>&gt;&gt;&gt;<i> issue, but that makes us no different than Flash :-P
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Here's some security risks I've thought about, for persistent workers and
</I>&gt;&gt;<i> persistent background pages:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1) If they have general-purpose network access, they are a tool to build a
</I>&gt;&gt;<i> DDOS botnet, or a botnet to launch attacks against vulnerable servers.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2) If they do not have general-purpose network access, this can be worked
</I>&gt;&gt;<i> around with DNS rebinding. Note that ordinarily, DNS rebinding is only
</I>&gt;&gt;<i> considered a risk for content protect by network position. But in the case
</I>&gt;&gt;<i> of a DDOS or attempt to hunt for server vulnerabilities, this doesn't matter
</I>&gt;&gt;<i> - the attack doesn't depend on the DDOS node sending credentials.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 3) If they have notification capabilities, they can be used for
</I>&gt;&gt;<i> advertising spam.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 4) If they have general network access only while a page from the same
</I>&gt;&gt;<i> domain is displayed, then they can use a misleading notification to trick
</I>&gt;&gt;<i> the user into going to a page on that domain, to gain network general
</I>&gt;&gt;<i> network access at the moment it's needed.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 5) Even if they only have same-domain network access, they can be used to
</I>&gt;&gt;<i> create a botnet for computation - for example for purposes like distributed
</I>&gt;&gt;<i> password cracking.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 6) They can be used to greatly extend the window of vulnerability from
</I>&gt;&gt;<i> visiting a malicious site once. Consider the model where a browser patches a
</I>&gt;&gt;<i> security vulnerability, and users apply the patch over some period after
</I>&gt;&gt;<i> it's released. Assuming the vulnerability wasn't already known to attackers,
</I>&gt;&gt;<i> users are at risk if they visit a malicious site in the period between
</I>&gt;&gt;<i> release of the patch and install of the patch. But with persistent workers
</I>&gt;&gt;<i> (or background pages) in the picture, users can be vulnerable if they have
</I>&gt;&gt;<i> *every* visited a malicious site - because it could have installed a
</I>&gt;&gt;<i> persistent worker that periodically &quot;phones home&quot; for exploit code to try.
</I>&gt;&gt;<i> This can greatly increase the number of people who can be affected by a
</I>&gt;&gt;<i> malicious web page, and therefore greatly increases the incentive to try
</I>&gt;&gt;<i> such a thing. This works even with just same-doman network access. I think
</I>&gt;&gt;<i> this risk is really serious because it makes every future browser
</I>&gt;&gt;<i> vulnerability much more dangerous.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 7) Even with only same-domain network access, the persistent worker could
</I>&gt;&gt;<i> periodically &quot;phone home&quot; to allow tracking of the user by IP, which can be
</I>&gt;&gt;<i> mapped to an approximate physical location. Normally, a page you don't have
</I>&gt;&gt;<i> open can't do that to you.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This list isn't necessarily exhaustive, I'm sure there's more risks I
</I>&gt;&gt;<i> haven't thought of, but note that most of these problems are not resolved by
</I>&gt;&gt;<i> limiting networking to same-domain.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I don't think a permissions dialog could possibly adequately explain these
</I>&gt;&gt;<i> risks, and in any case many users blindly click through alert dialogs. The
</I>&gt;&gt;<i> risks are subtle but nonetheless outside user expectations for a web
</I>&gt;&gt;<i> application.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I do think offering a feature like this in the context of an application
</I>&gt;&gt;<i> or extension style install experience might be acceptable - specifically an
</I>&gt;&gt;<i> experience that is explicitly initiated by the user with multiple
</I>&gt;&gt;<i> affirmative steps. But web features are not usually designed around such an
</I>&gt;&gt;<i> expectation, usually this is the hallmark of a proprietary platform, at
</I>&gt;&gt;<i> times also including central vetting and revocation capabilities.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Regards,
</I>&gt;&gt;<i> Maciej
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090729/3bb4cc57/attachment-0001.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090729/3bb4cc57/attachment-0001.htm</A>&gt;
</PRE>












































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021548.html">[whatwg] Security risks of persistent background content (Re:	Installed Apps)
</A></li>
	<LI>Next message: <A HREF="021560.html">[whatwg] Security risks of persistent background content (Re:	Installed Apps)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21550">[ date ]</a>
              <a href="thread.html#21550">[ thread ]</a>
              <a href="subject.html#21550">[ subject ]</a>
              <a href="author.html#21550">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
