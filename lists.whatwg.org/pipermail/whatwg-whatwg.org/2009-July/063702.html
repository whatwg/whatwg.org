<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Issues with Web Sockets API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Issues%20with%20Web%20Sockets%20API&In-Reply-To=%3C20AFD5CD-99EA-4880-9FED-A4FE213871EA%40webkit.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="063700.html">
   <LINK REL="Next"  HREF="063703.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Issues with Web Sockets API</H1>
<!--htdig_noindex-->
    <B>Alexey Proskuryakov</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Issues%20with%20Web%20Sockets%20API&In-Reply-To=%3C20AFD5CD-99EA-4880-9FED-A4FE213871EA%40webkit.org%3E"
       TITLE="[whatwg] Issues with Web Sockets API">ap at webkit.org
       </A><BR>
    <I>Mon Jul 27 13:36:15 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="063700.html">[whatwg] Issues with Web Sockets API
</A></li>
        <LI>Next message: <A HREF="063703.html">[whatwg] Issues with Web Sockets API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63702">[ date ]</a>
              <a href="thread.html#63702">[ thread ]</a>
              <a href="subject.html#63702">[ subject ]</a>
              <a href="author.html#63702">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
27.07.2009, &#1074; 13:20, Jeremy Orlow &#1085;&#1072;&#1087;&#1080;&#1089;&#1072;&#1083;(&#1072;):

&gt;<i> I agree that this will help if the application sends data in burst  
</I>&gt;<i> mode, but what if it just constantly sends more than the network can  
</I>&gt;<i> transmit? It will never learn that it's misbehaving, and will just  
</I>&gt;<i> take more and more memory.
</I>&gt;<i>
</I>&gt;<i> An example where adapting to network bandwidth is needed is of  
</I>&gt;<i> course file uploading, but even if we dismiss it as a special case  
</I>&gt;<i> that can be served with custom code, there's also e.g. captured  
</I>&gt;<i> video or audio that can be downgraded in quality for slow connections.
</I>&gt;<i>
</I>&gt;<i> Maybe the right behavior is to buffer in user-space (like Maciej  
</I>&gt;<i> explained) up until a limit (left up to the UA) and then anything  
</I>&gt;<i> beyond that results in an exception.  This seems like it'd handle  
</I>&gt;<i> bursty communication and would keep the failure model simple.
</I>

This sounds like the best approach to me.


27.07.2009, &#1074; 13:27, Drew Wilson &#1085;&#1072;&#1087;&#1080;&#1089;&#1072;&#1083;(&#1072;):

&gt;<i> I would suggest that the solution to this situation is an  
</I>&gt;<i> appropriate application-level protocol (i.e. acks) to allow the  
</I>&gt;<i> application to have no more than (say) 1MB of data outstanding.
</I>&gt;<i>
</I>&gt;<i> I'm just afraid that we're burdening the API to handle degenerative  
</I>&gt;<i> cases that the vast majority of users won't encounter. Specifying in  
</I>&gt;<i> the API that any arbitrary send() invocation could throw some kind  
</I>&gt;<i> of &quot;retry exception&quot; or return some kind of error code is really  
</I>&gt;<i> really cumbersome.
</I>
Having a send() that doesn't return anything and doesn't raise  
exceptions would be a clear signal that send() just blocks until it's  
possible to send data to me, and I'm sure to many others, as well.  
There is no reason to silently drop data sent over a TCP connection -  
after all, we could as well base the protocol on UDP if we did, and  
lose nothing.

- WBR, Alexey Proskuryakov


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="063700.html">[whatwg] Issues with Web Sockets API
</A></li>
	<LI>Next message: <A HREF="063703.html">[whatwg] Issues with Web Sockets API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63702">[ date ]</a>
              <a href="thread.html#63702">[ thread ]</a>
              <a href="subject.html#63702">[ subject ]</a>
              <a href="author.html#63702">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
