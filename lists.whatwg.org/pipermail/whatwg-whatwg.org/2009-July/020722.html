<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Codecs%20for%20%3Caudio%3E%20and%20%3Cvideo%3E&In-Reply-To=%3CPine.LNX.4.62.0907022244470.1060%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020720.html">
   <LINK REL="Next"  HREF="020723.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Codecs%20for%20%3Caudio%3E%20and%20%3Cvideo%3E&In-Reply-To=%3CPine.LNX.4.62.0907022244470.1060%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;">ian at hixie.ch
       </A><BR>
    <I>Thu Jul  2 16:26:11 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020720.html">[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;
</A></li>
        <LI>Next message: <A HREF="020723.html">[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20722">[ date ]</a>
              <a href="thread.html#20722">[ thread ]</a>
              <a href="subject.html#20722">[ subject ]</a>
              <a href="author.html#20722">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
I understand that people are disappointed that we can't require Theora 
support. I am disappointed in the lack of progress on this issue also.


On Tue, 30 Jun 2009, Silvia Pfeiffer wrote:
&gt;<i> On Tue, Jun 30, 2009 at 2:50 PM, Ian Hickson&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; I considered requiring Ogg Theora support in the spec, since we do 
</I>&gt;<i> &gt; have three implementations that are willing to implement it, but it 
</I>&gt;<i> &gt; wouldn't help get us true interoperabiliy, since the people who are 
</I>&gt;<i> &gt; willing to implement it are willing to do so regardless of the spec, 
</I>&gt;<i> &gt; and the people who aren't are not going to be swayed by what the spec 
</I>&gt;<i> &gt; says.
</I>&gt;<i> 
</I>&gt;<i> Inclusion of a required baseline codec into a standard speaks more 
</I>&gt;<i> loudly than you may think. It provides confidence - confidence that an 
</I>&gt;<i> informed choice has been made as to the best solution in a given 
</I>&gt;<i> situation. Confidence to Web developers, confidence to hosting 
</I>&gt;<i> providers, confidence also (but less so, since they are gatekeepers in 
</I>&gt;<i> this situation) to Browser Vendors.
</I>
Words in the spec only provide this confidence because that confidence is 
well-placed. If we start making the spec say things that don't represent 
reality -- like &quot;everyone agrees that you should use Theora&quot; -- then that 
confidence will erode in all parts of the spec.


&gt;<i> In my opinion, including a baseline codec requirement into a W3C 
</I>&gt;<i> specification that is not supported by all Browser Vendors is much 
</I>&gt;<i> preferable over an unclear situation
</I>
Having a baseline codec requirement that is not supported by all Browser 
Vendors _is_ an unclear situation. Adding the requirement doesn't stop 
that.


&gt;<i> In fact, it is a tradition of HTML to have specifications that are only 
</I>&gt;<i> supported by a limited set of Browser Vendors and only over time 
</I>&gt;<i> increasingly supported by all - e.g. how long did it take for all 
</I>&gt;<i> Browser vendors to accept css2, and many of the smaller features of 
</I>&gt;<i> html4 such as fixed positioning?
</I>
CSS2.1 and HTML5 were reactions to the exact problem you describe in CSS2 
and HTML4.


&gt;<i> I firmly believe that making the decision to give up on baseline codecs 
</I>&gt;<i> is repeating a mistake made and repeatedly cited as a mistake on the 
</I>&gt;<i> lack of specification of a baseline format for images - which is one of 
</I>&gt;<i> the reasons why it took years to have two baseline image codecs 
</I>&gt;<i> available in all browsers. We could try the other route for a change and 
</I>&gt;<i> see if standards can actually make a difference to adoption.
</I>
We basically tried the idea of requiring something that browser vendors 
didn't agree with with XHTML2. IMHO that is a far bigger mistake than not 
specifying something that people don't agree to implement.


&gt;<i> &gt; Going forward, I see several (not mutually exclusive) possibilities, all
</I>&gt;<i> &gt; of which will take several years:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &#160;1. Ogg Theora encoders continue to improve. Off-the-shelf hardware Ogg
</I>&gt;<i> &gt; &#160; &#160;Theora decoder chips become available. Google ships support for the
</I>&gt;<i> &gt; &#160; &#160;codec for long enough without getting sued that Apple's concern
</I>&gt;<i> &gt; &#160; &#160;regarding submarine patents is reduced. =&gt; Theora becomes the de facto
</I>&gt;<i> &gt; &#160; &#160;codec for the Web.
</I>&gt;<i> 
</I>&gt;<i> This to me is a defeat of the standardisation process. Standards are
</I>&gt;<i> not there to wait for the market to come up with a de-facto standard.
</I>&gt;<i> They are there to provide confidence to the larger market about making
</I>&gt;<i> a choice - no certainty of course, but just that much more confidence
</I>&gt;<i> that it matters.
</I>
Actually HTML5 is largely built on the idea of speccing the de-facto 
standards, either long after they were implemented, or in tandem with them 
being implemented. Very little of HTML5 has been ahead of implementations.


&gt;<i> &gt; &#160;2. The remaining H.264 baseline patents owned by companies who are not
</I>&gt;<i> &gt; &#160; &#160;willing to license them royalty-free expire, leading to H.264 support
</I>&gt;<i> &gt; &#160; &#160;being available without license fees. =&gt; H.264 becomes the de facto
</I>&gt;<i> &gt; &#160; &#160;codec for the Web.
</I>&gt;<i> 
</I>&gt;<i> That could take many years.
</I>
Yup.


&gt;<i> Your main argument against Theora is a recent email stating that YouTube 
</I>&gt;<i> could not be run using Theora.
</I>
No; my only argument against Theora is that Apple won't implement it.


&gt;<i> &gt; No, that was just a tactical withdrawal. This e-mail here is the one 
</I>&gt;<i> &gt; that admits defeat. :-)
</I>&gt;<i> 
</I>&gt;<i> First rule of standards: never give up!
</I>
My first rule of standards, if I have one, would be &quot;spec reality&quot;.


&gt;<i> Including a Theora prescription and having it only partially supported 
</I>&gt;<i> with at least give a large part of the world an interoperable platform 
</I>&gt;<i> and that's all HTML has traditionally been.
</I>
The same argument could be made for H.264.


At the end of the day, if the relevant implementors (in this case browser 
vendors) aren't willing to all implement the same codec, then the codecs 
will just have to compete on their own merits.

This isn't HTML5's fight.


On Tue, 30 Jun 2009, Jeff McAdams wrote:
&gt;<i> 
</I>&gt;<i> But &quot;Most people agreed, and one or two vendors objected violently&quot; 
</I>&gt;<i> probably is.  Just because one or two people are really loud, doesn't 
</I>&gt;<i> mean that there isn't concensus.
</I>
The WHATWG doesn't work on consensus.


&gt;<i> Also, I find the focus on vendors to the exclusion of other stakeholders 
</I>&gt;<i> a bit concerning.
</I>
The relevant implementors (in this case browser vendors) have the ultimate 
control (since they implement the spec) over what happens. It's not that 
other stakeholders are excluded, but that if the browser vendors aren't on 
board, there is no point moving on.


On Tue, 30 Jun 2009, Joshua Brickner wrote:
&gt;<i> 
</I>&gt;<i> IMHO, the fundamental question here is whether or not the spec should be 
</I>&gt;<i> concerned solely about creating a standard that is satisfactory for 
</I>&gt;<i> implementers to follow, or if it should go further and try to make the 
</I>&gt;<i> standard work well for everyone involved including developers and 
</I>&gt;<i> consumers.
</I>&gt;<i> 
</I>&gt;<i> I am certain that most would like to have a standard that best serves 
</I>&gt;<i> the entire community.
</I>
It doesn't help the community if it's not implemented.


On Wed, 1 Jul 2009, Anne van Kesteren wrote:
&gt;<i> 
</I>&gt;<i> The &quot;vendor consensus&quot; line of argument seems like a very dangerous 
</I>&gt;<i> slippery slope. It would mean that whenever a vendor refuses to 
</I>&gt;<i> implement something it has to be taken out of the specification. I.e. 
</I>&gt;<i> giving a single vendor veto power over the documentation of the Web 
</I>&gt;<i> Platform. Not good at all in my opinion.
</I>
That's exactly what we have. Mozilla won't implement SQL -- SQL is being 
taken out of the Web Storage draft. Apple won't implement Theora -- Theora 
is out of the HTML5 draft.


On Wed, 1 Jul 2009, Anne van Kesteren wrote:
&gt;<i> &gt;
</I>&gt;<i> &gt; My sole goal was to try and point out that the situation with codecs 
</I>&gt;<i> &gt; is not equivalent to past cases where vendors merely _hadn't 
</I>&gt;<i> &gt; implemented_ part of the spec; in this case vendors have _actively 
</I>&gt;<i> &gt; refused_ to implement support for various codecs (Apple with Theora 
</I>&gt;<i> &gt; and Mozilla(/Opera?) with H.264).
</I>&gt;<i> 
</I>&gt;<i> Somehow I doubt that if e.g. Opera vetoed the &lt;video&gt; element it would 
</I>&gt;<i> actually be removed from the specification. And if it that were the case 
</I>&gt;<i> I would consider it to be very bad as I mentioned in my initial email in 
</I>&gt;<i> this thread.
</I>
If Opera decided that &lt;video&gt; as a whole is something they would never 
impelment, then it would probably be moved into a separate spec, just like 
SQL is being moved into a separate spec.


On Tue, 30 Jun 2009, Peter Kasting wrote:
&gt;<i>
</I>&gt;<i> * Acid3 was meant to be an illustrative example of a case where the test 
</I>&gt;<i> itself was not intentionally introducing new behavior or attempting to 
</I>&gt;<i> force consensus on unwilling vendors, not a perfect analogy to something
</I>
Also, Acid3 wasn't a particularly great example of how to do this. I made 
an number of mistakes in its development. Hopefully we'll do things better 
with Acid4.


On Tue, 30 Jun 2009, Aryeh Gregor wrote:
&gt;<i> 
</I>&gt;<i> *Requiring* Ogg support might be a bit much, I agree, since it implies 
</I>&gt;<i> that nobody would have a legitimate foreseeable reason for not 
</I>&gt;<i> supporting it, and that's ungenerous at best.  But the spec could still 
</I>&gt;<i> *encourage* Ogg support while acknowledging there may be reasons not to 
</I>&gt;<i> have it.  Saying all implementations *should* support Ogg Theora and 
</I>&gt;<i> Vorbis acknowledges that there &quot;may exist valid reasons in particular 
</I>&gt;<i> circumstances to ignore a particular item, but the full implications 
</I>&gt;<i> must be understood and carefully weighed before choosing a different 
</I>&gt;<i> course&quot;.  This seems like a perfectly reasonable response to me.
</I>
To be honest I don't see much point in a non-normative mention of Theora 
in the spec. It wouldn't have the teeth people want to change reality, and 
it wouldn't help document reality.


On Tue, 30 Jun 2009, Mikko Rantalainen wrote:
&gt;<i> 
</I>&gt;<i> I don't know about Microsoft but Apple has displayed willingness to 
</I>&gt;<i> implement what specifications say (see <A HREF="http://acid3.acidtests.org/">http://acid3.acidtests.org/</A> for 
</I>&gt;<i> example). By W3C standards a spec can get REC status if it has at least 
</I>&gt;<i> two implementations and we already have three. The current HTML 5 spec 
</I>&gt;<i> already has stuff not implemented by every vendor, why should &lt;video&gt; be 
</I>&gt;<i> different?
</I>
Does HTML5 have anything that any vendor flat-out refuses to implement, 
other than Theora support? If so, that should be removed.


&gt;<i> I'd suggest one of the two choices (I prefer the first one):
</I>&gt;<i> 
</I>&gt;<i> (1) Specify Theora as the baseline codec. Hopefully it will be tested by 
</I>&gt;<i> acid4 test (or by some other popular test) and Apple will either 
</I>&gt;<i> implement it regardless of the assumed patent risks or finds the actual 
</I>&gt;<i> patent owners and acquires the required licenses for Theora to be 
</I>&gt;<i> implemented by Apple. In the future, if Apple implements Theora, then 
</I>&gt;<i> perhaps even Microsoft will do so, too.
</I>
Apple have said that they won't do this.


&gt;<i> (2) Specify {Theora or H.264} as the baseline. That way all vendors that 
</I>&gt;<i> have displayed any interest for &lt;video&gt; could implement the spec. 
</I>&gt;<i> Authors would be required to provide the video in both formats to be 
</I>&gt;<i> sure that any spec compliant user agent is able to display the content, 
</I>&gt;<i> but at least there would be some real target set by the spec. However, I 
</I>&gt;<i> think that this just moves the H.264 patent licensing issue from browser 
</I>&gt;<i> vendors to content authors: if you believe that you cannot decode H.264 
</I>&gt;<i> without proper patent license there's no way you could encode H.264 
</I>&gt;<i> content without the very same license. As a result, many authors will 
</I>&gt;<i> not be able to provide H.264 variant -- and as a result the Theora would 
</I>&gt;<i> become de facto standard in the future.
</I>
I don't think this would be any difference, in practice, than what we have 
now.



On Tue, 30 Jun 2009, Jeff McAdams wrote:
&gt;<i> 
</I>&gt;<i> Yes, clearly publishing the spec with a baseline codec specified isn't 
</I>&gt;<i> *sufficient* for definitively &quot;get[ting] us true interoperabiliy[sic]&quot;, 
</I>&gt;<i> but it certain does *help* get us true interoperability, in two ways 
</I>&gt;<i> that I can think of off the top of my head.
</I>&gt;<i> 
</I>&gt;<i> First, there is some inherent pressure for implementing the spec.
</I>
I think you overestimate this pressure. (Just look at XHTML2.)


&gt;<i> Again, some parties have indicated that it is not enough to get them to 
</I>&gt;<i> do so, but that eliminates their ability to claim adherence to this 
</I>&gt;<i> standard when others are doing so.
</I>
Given that nobody has ever correctly and fully implemented HTML4, and yet 
people have claimed to have implemented HTML4, I think that's demonstrably 
false.


&gt;<i> Second, it gives us (people like me) an extra tool to go back to vendors and
</I>&gt;<i> say, &quot;Hey, please support HTML5, its important to me, and the &lt;video&gt; tag,
</I>&gt;<i> with the correct baseline codec support, is important to me.&quot;
</I>
In my experience your requests would actually have more power on Apple if 
they were _not_ backed by the spec. That is, you will have more effect on 
Apple if HTML5 doesn't say which codec to support and you _still_ go to 
Apple and ask for Theora support, than if the spec says Theora and you ask 
for Theora. In the latter case, they are much more likely to dismiss your 
request as &quot;just someone checking that we support the spec&quot;, in the former 
case, they are more likely to actually believe you need Theora support.


&gt;<i> You've said a couple of things that I perceive as contradictory, here. 
</I>&gt;<i> You've said that you want to help bring about interoperability, but then 
</I>&gt;<i> you've also said that you're only documenting what it is that the 
</I>&gt;<i> browser makers are implementing.  There is room in the standards bodies 
</I>&gt;<i> world for both goals, and both goals, at times are valid and beneficial.  
</I>&gt;<i> But, if your intent is to help bring about interoperability, *real* 
</I>&gt;<i> interoperability, then I think its pretty clear that the way forward 
</I>&gt;<i> involves specifying a baseline codec.
</I>
The way forward involves getting to the point where we can specify a 
baseline codec, yes. But we do that _after_ everyone agrees on a baseline 
codec. While it may appear that I write stuff in the spec and the browser 
vendors then agree to it, in practice it's usually the other way around.


&gt;<i> Leaving such an important point of interoperability completely up to the 
</I>&gt;<i> whims of &quot;people out there&quot; seems unwise here (I look at MS's latest 
</I>&gt;<i> attempt at supporting ODF as a great example of how interoperability can 
</I>&gt;<i> actually be harmed, even by a &quot;complying&quot; implementation, when important 
</I>&gt;<i> parts of guidelines to interoperability are left out...there are plenty 
</I>&gt;<i> more examples).
</I>
This seems unaffected by whether the spec requires this or not.


On Tue, 30 Jun 2009, Dr. Markus Walther wrote:
&gt;<i> &gt; 
</I>&gt;<i> &gt; Having removed everything else in these sections, I figured there 
</I>&gt;<i> &gt; wasn't that much value in requiring PCM-in-Wave support. However, I 
</I>&gt;<i> &gt; will continue to work with browser vendors directly and try to get a 
</I>&gt;<i> &gt; common codec at least for audio, even if that is just PCM-in-Wave.
</I>&gt;<i> 
</I>&gt;<i> Please, please do so - I was shocked to read that PCM-in-Wave as the 
</I>&gt;<i> minimal 'consensus' container for audio is under threat of removal, too.
</I>
The consensus isn't removed, only the text documenting it.


&gt;<i> Frankly, I don't understand why audio was drawn into this. Is there any 
</I>&gt;<i> patent issue with PCM-in-Wave? If not, then IMHO the decision should be 
</I>&gt;<i> orthogonal to video.
</I>
I just don't see much value in calling this one minor codec amongst all 
the other formats and codecs that browsers have to support (CSS, JS, HTTP, 
PNG, GIF, JPEG, SVG, etc).


On Tue, 30 Jun 2009, Manuel Amador (Rudd-O) wrote:
&gt;<i> 
</I>&gt;<i> The objecting vendors could have taken a number of approaches to band 
</I>&gt;<i> together and protect themselves from the supposed &quot;patent threats&quot; 
</I>&gt;<i> against free formats, but they did not.  They could have lobbied against 
</I>&gt;<i> software patents; they didn't.  They could have agreed to countersue -- 
</I>&gt;<i> with their immense patent portfolio -- anyone who sued any of them for 
</I>&gt;<i> patent infringement; they didn't.  Of course, why would the objecting 
</I>&gt;<i> vendors do that? Most of the competitive advantages they have stem from 
</I>&gt;<i> being able to leverage government force against potential competitors, 
</I>&gt;<i> so doing any of the above would have undermined that.
</I>
Actually, I can attest from first-hand knowledge that the &quot;objecting 
vendors&quot; did attempt to find solutions to this. Though this was not done 
in public, plenty of efforts have been made, and continue to be made, to 
find other solutions. The vendors involved really do appear to be acting 
in good faith.

On Thu, 2 Jul 2009, Charles Pritchard wrote:
&gt;<i> 
</I>&gt;<i> Can the standard simply address video containers (OGG, MKV, AVI) ?
</I>&gt;<i> Each container is fairly easy to implement and codecs can be identified within
</I>&gt;<i> the container.
</I>&gt;<i> Vendors can decide on their own what to do with that information.
</I>
The spec does document how to distinguish containers via MIME type. Beyond 
that I'm not sure what we can do.

&lt;video&gt; does support fallback, so in practice you can just use Theora and 
H.264 and cover all bases.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020720.html">[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;
</A></li>
	<LI>Next message: <A HREF="020723.html">[whatwg] Codecs for &lt;audio&gt; and &lt;video&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20722">[ date ]</a>
              <a href="thread.html#20722">[ thread ]</a>
              <a href="subject.html#20722">[ subject ]</a>
              <a href="author.html#20722">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
