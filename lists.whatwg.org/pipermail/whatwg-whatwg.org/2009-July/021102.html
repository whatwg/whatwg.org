<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] UTF-16 encoding default
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20UTF-16%20encoding%20default&In-Reply-To=%3CPine.LNX.4.62.0907150401570.23663%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021101.html">
   <LINK REL="Next"  HREF="021203.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] UTF-16 encoding default</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20UTF-16%20encoding%20default&In-Reply-To=%3CPine.LNX.4.62.0907150401570.23663%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] UTF-16 encoding default">ian at hixie.ch
       </A><BR>
    <I>Tue Jul 14 21:24:25 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="021101.html">[whatwg] oninput for contentEditable
</A></li>
        <LI>Next message: <A HREF="021203.html">[whatwg] UTF-16 encoding default
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21102">[ date ]</a>
              <a href="thread.html#21102">[ thread ]</a>
              <a href="subject.html#21102">[ subject ]</a>
              <a href="author.html#21102">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 24 Jun 2009, Kartikaya Gupta wrote:
&gt;<i>
</I>&gt;<i> There's a page 
</I>&gt;<i> (<A HREF="http://www.microsoft.com/windowsmobile/mobile/en-us/totalaccess/software/software/eula-sw-netflix.mspx">http://www.microsoft.com/windowsmobile/mobile/en-us/totalaccess/software/software/eula-sw-netflix.mspx</A> 
</I>&gt;<i> specifically) that has a Content-Type header of &quot;text/html; 
</I>&gt;<i> charset=utf-16&quot; and has no BOM. The references I've seen (RFC2781, as 
</I>&gt;<i> well as <A HREF="http://unicode.org/faq/utf_bom.html#gen7">http://unicode.org/faq/utf_bom.html#gen7</A>) say that this means 
</I>&gt;<i> the content should be assumed to be UTF-16BE. The page, however, is 
</I>&gt;<i> actually in UTF-16LE.
</I>&gt;<i> 
</I>&gt;<i> All browsers seem to do some sort of unspecified magic and figure out 
</I>&gt;<i> that the page is in LE. I was wondering if that magic could be described 
</I>&gt;<i> and added to the HTML5 spec so that it covers rendering the above page 
</I>&gt;<i> as expected. According to the draft spec as it stands, I believe that 
</I>&gt;<i> page should be rendered as garbage.
</I>
IE and Safari assume UTF-16LE if the content is labeled as UTF-16.

Firefox checks to see if the first two bytes are null/not-null or 
not-null/null and acts accordingly; if they're both not null it uses BE 
and if they're both null it does something I don't recognise (and checks 
both the UTF-8 and UTF-16 character encodings in the menu...).

Opera appears to assume UTF-16BE unless the second, fourth, sixth, eighth, 
and tenth bytes are null and the first, third, fifth, seventh, and ninth 
bytes are not, in which case it assumes BE.

I've added a requirement in the spec that UTF-16 with no BOM be treated as 
LE rather than BE.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>






























































































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021101.html">[whatwg] oninput for contentEditable
</A></li>
	<LI>Next message: <A HREF="021203.html">[whatwg] UTF-16 encoding default
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21102">[ date ]</a>
              <a href="thread.html#21102">[ thread ]</a>
              <a href="subject.html#21102">[ subject ]</a>
              <a href="author.html#21102">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
