<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Definitions of DOMTokenList	algorithms	andelement.classList
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Definitions%20of%20DOMTokenList%0A%09algorithms%09andelement.classList&In-Reply-To=%3CPine.LNX.4.62.0907130400530.23663%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="063261.html">
   <LINK REL="Next"  HREF="063569.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Definitions of DOMTokenList	algorithms	andelement.classList</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Definitions%20of%20DOMTokenList%0A%09algorithms%09andelement.classList&In-Reply-To=%3CPine.LNX.4.62.0907130400530.23663%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Definitions of DOMTokenList	algorithms	andelement.classList">ian at hixie.ch
       </A><BR>
    <I>Sun Jul 12 21:01:49 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="063261.html">[whatwg] Definitions of DOMTokenList algorithms	and	element.classList
</A></li>
        <LI>Next message: <A HREF="063569.html">[whatwg] Definitions of DOMTokenList algorithms and element.classList
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63264">[ date ]</a>
              <a href="thread.html#63264">[ thread ]</a>
              <a href="subject.html#63264">[ subject ]</a>
              <a href="author.html#63264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Mon, 15 Jun 2009, Kristof Zelechovski wrote:
&gt;<i>
</I>&gt;<i> I would consider it a big advantage to the posterity if the descriptions and
</I>&gt;<i> the algorithms were better formulated and ready to be understood in plain
</I>&gt;<i> text.  For example, regarding 2.8.3 DOMTokenList, (see appendix).  
</I>&gt;<i> 
</I>&gt;<i> LEGEND
</I>&gt;<i> Code samples are in braces; my comments are in brackets, and so are
</I>&gt;<i> important [*changes*], [-deletions-] and [+insertions+]. I understand this
</I>&gt;<i> effect cannot be automatically provided by the HTML view.
</I>&gt;<i> 
</I>&gt;<i> SUMMARY
</I>&gt;<i> Generic changes:
</I>&gt;<i> Find &quot;index&quot;; Replace &quot;position&quot;;
</I>&gt;<i> Find &quot;token argument&quot;; Replace &quot;given token&quot;; 
</I>&gt;<i> [this is not strictly necessary, any uniformity would do]
</I>&gt;<i> Insert &quot;the&quot; where appropriate.
</I>&gt;<i> Specific changes: see below.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Chris
</I>&gt;<i> 
</I>&gt;<i> Appendix:
</I>&gt;<i> 
</I>&gt;<i> * { tokenCount = tokenList . length }
</I>&gt;<i> --- Returns the number of tokens in the string.
</I>&gt;<i> 
</I>&gt;<i> { [*token*] = tokenList . item([*position*]) }
</I>&gt;<i> { [+token =+] tokenList[[*position*]] }
</I>&gt;<i> --- Returns the token [*at the position given*]. The tokens are sorted
</I>&gt;<i> alphabetically.
</I>&gt;<i> [I would not say that a token has an index; an index is not a property of
</I>&gt;<i> the token.]
</I>&gt;<i> 
</I>&gt;<i> Returns null if [*the position*] is out of range.
</I>&gt;<i> 
</I>&gt;<i> { hasToken = tokenList . has(token) }
</I>&gt;<i> Returns true if the token is present; false otherwise.
</I>&gt;<i> [
</I>&gt;<i> It may be slightly misleading to speak of tokens _in parameters_.  The
</I>&gt;<i> present description means that the corresponding LISP binding would be
</I>&gt;<i> { (let ((has-token (ask token-list 'has 'token)))) }
</I>&gt;<i> Rather than
</I>&gt;<i> { (let ((has-token (ask token-list 'has &quot;token&quot;)))) }
</I>&gt;<i> Of course, I may be entirely wrong here in that the first snippet is what is
</I>&gt;<i> intended.
</I>&gt;<i> ]
</I>&gt;<i> 
</I>&gt;<i> Throws an { INVALID_CHARACTER_ERR } exception if [+the+] token contains any
</I>&gt;<i> spaces.  
</I>&gt;<i> [In which case it is not a token at all, so this remark makes no sense.]
</I>&gt;<i> 
</I>&gt;<i> { tokenlist . add(token) }
</I>&gt;<i> [*Inserts*] [+the+] token [+into the list+], unless it is already present.
</I>&gt;<i> [Inserts because the list implementation is sorted.]
</I>&gt;<i> 
</I>&gt;<i> Throws an { INVALID_CHARACTER_ERR } exception if [+the+] token contains any
</I>&gt;<i> spaces. [?]
</I>&gt;<i> 
</I>&gt;<i> { tokenList . remove(token) }
</I>&gt;<i> Removes [+the+] token if it is present.
</I>&gt;<i> 
</I>&gt;<i> Throws an { INVALID_CHARACTER_ERR } exception if [+the+] token contains any
</I>&gt;<i> spaces. [?]
</I>&gt;<i> 
</I>&gt;<i> { hasToken = tokenList . toggle(token) }
</I>&gt;<i> Adds [+the+] token if it is not present, or removes it if it is.
</I>&gt;<i> [Returns what?]
</I>&gt;<i> 
</I>&gt;<i> Throws an { INVALID_CHARACTER_ERR } exception if token contains any spaces.
</I>&gt;<i> [?]
</I>&gt;<i> 
</I>&gt;<i> The { length } attribute must return the number of unique tokens that result
</I>&gt;<i> from splitting the underlying string on spaces. This is the length.  [Why
</I>&gt;<i> this Biblical tone?]
</I>&gt;<i> 
</I>&gt;<i> The [*positions of the supported enumerated tokens within the list*] are the
</I>&gt;<i> numbers in the range [+from+] zero to length[*&minus;*]1, unless the length
</I>&gt;<i> is zero, in which case there are no supported [*enumerated*] properties.
</I>&gt;<i> 
</I>&gt;<i> The { item([*position*]) } method must split the underlying string on
</I>&gt;<i> spaces, sort the resulting list of tokens by Unicode code point, remove
</I>&gt;<i> exact duplicates, and then return the [-indexth-] item in this list [+at the
</I>&gt;<i> given position+]. If [*the position*] is equal to the number of tokens or
</I>&gt;<i> greater, then the method must return null.
</I>&gt;<i> 
</I>&gt;<i> The { has(token) } method must run the following algorithm:
</I>&gt;<i> 
</I>&gt;<i>  1. If the [+given+] token [-argument-] contains any space characters, then
</I>&gt;<i> raise an { INVALID_CHARACTER_ERR } exception and stop the algorithm. 
</I>&gt;<i>  2. Otherwise, split the underlying string on spaces to get the list of
</I>&gt;<i> tokens in the object's underlying string. 
</I>&gt;<i>  3. If the [+given+] token [-indicated by token-] is one of the tokens in
</I>&gt;<i> the object's underlying string then return true and stop this algorithm. 
</I>&gt;<i>  4. Otherwise, return false. 
</I>&gt;<i> 
</I>&gt;<i> The { add(token) } method must run the following algorithm:
</I>&gt;<i> 
</I>&gt;<i>  1. If the [+given+] token [-argument-] contains any space characters, then
</I>&gt;<i> raise an { INVALID_CHARACTER_ERR } exception and stop the algorithm. 
</I>&gt;<i>  2. Otherwise, split the underlying string on spaces to get the list of
</I>&gt;<i> tokens in the object's underlying string. 
</I>&gt;<i>  3. If the given token is already one of the tokens in the { DOMTokenList }
</I>&gt;<i> object's underlying string then stop the algorithm. 
</I>&gt;<i>  4. Otherwise, if the { DOMTokenList } object's underlying string is not the
</I>&gt;<i> empty string and the last character of that string is not a space character,
</I>&gt;<i> then append a U+0020 SPACE character to the end of that string. 
</I>&gt;<i>  5. Append the [*characters*] of [+the+] token to the end of the {
</I>&gt;<i> DOMTokenList } object's underlying string. 
</I>&gt;<i> 
</I>&gt;<i> The { remove(token) } method must run the following algorithm:
</I>&gt;<i> 
</I>&gt;<i>  1. If the [+given+] token [-argument-] contains any space characters, then
</I>&gt;<i> raise an { INVALID_CHARACTER_ERR } exception and stop the algorithm. 
</I>&gt;<i>  2. Otherwise, remove the given token from the underlying string. 
</I>&gt;<i> [ 
</I>&gt;<i> You leave two consecutive spaces here.  
</I>&gt;<i> Why do you insist on not allowing an initial space above? ]
</I>&gt;<i> 
</I>&gt;<i> The { toggle(token)}  method must run the following algorithm:
</I>&gt;<i> 
</I>&gt;<i> [This algorithm is redundant because it is a secondary method that can be
</I>&gt;<i> implemented in terms of {has}, {add} and {remove}. ]
</I>&gt;<i> 
</I>&gt;<i> Objects implementing the DOMTokenList interface must stringify to the
</I>&gt;<i> object's underlying string representation.
</I>
I'm afraid I couldn't work out what was being proposed in the e-mail 
above. What is the problem that the above is trying to solve?

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="063261.html">[whatwg] Definitions of DOMTokenList algorithms	and	element.classList
</A></li>
	<LI>Next message: <A HREF="063569.html">[whatwg] Definitions of DOMTokenList algorithms and element.classList
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63264">[ date ]</a>
              <a href="thread.html#63264">[ thread ]</a>
              <a href="subject.html#63264">[ subject ]</a>
              <a href="author.html#63264">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
