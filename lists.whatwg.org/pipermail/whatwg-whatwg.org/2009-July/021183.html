<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] nested hashchange events
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20nested%20hashchange%20events&In-Reply-To=%3CPine.LNX.4.62.0907170016430.23663%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021192.html">
   <LINK REL="Next"  HREF="021186.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] nested hashchange events</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20nested%20hashchange%20events&In-Reply-To=%3CPine.LNX.4.62.0907170016430.23663%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] nested hashchange events">ian at hixie.ch
       </A><BR>
    <I>Thu Jul 16 17:30:10 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="021192.html">[whatwg] Thoughts on video accessibility
</A></li>
        <LI>Next message: <A HREF="021186.html">[whatwg] nested hashchange events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21183">[ date ]</a>
              <a href="thread.html#21183">[ thread ]</a>
              <a href="subject.html#21183">[ subject ]</a>
              <a href="author.html#21183">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 26 Jun 2009, Jonas Sicking wrote:
&gt;<i> On Thu, Jun 25, 2009 at 6:19 PM, Ian Hickson&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; On Thu, 25 Jun 2009, Olli Pettay wrote:
</I>&gt;<i> &gt;&gt; Also, what is the reason for &quot;if the Document's current document 
</I>&gt;<i> &gt;&gt; readiness is the string 'complete'&quot; requirement? I often click 
</I>&gt;<i> &gt;&gt; fragment links while the page is still loading, especially when the 
</I>&gt;<i> &gt;&gt; page is large or slow loading. Why shouldn't the page get notified 
</I>&gt;<i> &gt;&gt; that it has scrolled to some new location because of fragment id 
</I>&gt;<i> &gt;&gt; change.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The event is intended for applications that use the #fragid as a way 
</I>&gt;<i> &gt; of storing app state. The expectation is that such an app would not be 
</I>&gt;<i> &gt; ready to handle state changes until the 'load' event has fired, and 
</I>&gt;<i> &gt; that the 'load' event would take into account whatever the #fragid is 
</I>&gt;<i> &gt; at that time.
</I>&gt;<i> 
</I>&gt;<i> But couldn't a page store state in the hash while the page is still 
</I>&gt;<i> loading? At least in Firefox changing the hash while the page is loading 
</I>&gt;<i> works just as well (with regards to activating back/forward, and with 
</I>&gt;<i> regards to not reloading but rather just &quot;scrolling&quot;) while the page is 
</I>&gt;<i> still loading, as it does after the &quot;load&quot; event has fired.
</I>&gt;<i> 
</I>&gt;<i> A slow loading image file will delay the load event, however there's no 
</I>&gt;<i> reason the scripts on the page wouldn't be able to deal with any user 
</I>&gt;<i> interaction just as if the image had loaded.
</I>
So I looked into this, and it seems the reason for the way this is set up 
is for consistency with the popstate=&quot;&quot; event, which is delayed until the 
load event fires, and the reason _that_ is delayed, is that we really 
don't want to miss any state objects being fired, and there's no way to 
know if it'll be missed if we don't have a well-defined event that fires 
before hand ('load', in this case).

However, I suppose there's no good reason to keep those consistent given 
that it means missing hash changes that you could detect by polling 
anyway, so I've removed the restriction for hashchange events.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>





































































































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021192.html">[whatwg] Thoughts on video accessibility
</A></li>
	<LI>Next message: <A HREF="021186.html">[whatwg] nested hashchange events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21183">[ date ]</a>
              <a href="thread.html#21183">[ thread ]</a>
              <a href="subject.html#21183">[ subject ]</a>
              <a href="author.html#21183">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
