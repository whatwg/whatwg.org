<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTML 5 video tag questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%205%20video%20tag%20questions&In-Reply-To=%3Cop.uw0x0olbatwj1d%40sisko.linkoping.osa%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="063310.html">
   <LINK REL="Next"  HREF="063315.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTML 5 video tag questions</H1>
<!--htdig_noindex-->
    <B>Philip J&#228;genstedt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%205%20video%20tag%20questions&In-Reply-To=%3Cop.uw0x0olbatwj1d%40sisko.linkoping.osa%3E"
       TITLE="[whatwg] HTML 5 video tag questions">philipj at opera.com
       </A><BR>
    <I>Mon Jul 13 14:01:26 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="063310.html">[whatwg] HTML 5 video tag questions
</A></li>
        <LI>Next message: <A HREF="063315.html">[whatwg] HTML 5 video tag questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63314">[ date ]</a>
              <a href="thread.html#63314">[ thread ]</a>
              <a href="subject.html#63314">[ subject ]</a>
              <a href="author.html#63314">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, 13 Jul 2009 21:28:45 +0200, Tab Atkins Jr. &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jackalmage at gmail.com</A>&gt;  
wrote:

&gt;<i> On Mon, Jul 13, 2009 at 2:15 PM, Philip J&#228;genstedt&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>&gt;  
</I>&gt;<i> wrote:
</I>&gt;&gt;<i> On Mon, 13 Jul 2009 20:38:11 +0200, Tab Atkins Jr.  
</I>&gt;&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jackalmage at gmail.com</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Mon, Jul 13, 2009 at 1:33 PM, Boris Zbarsky&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Philip J&#228;genstedt wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> It would have to be part of the resource selection algorithm. Since  
</I>&gt;&gt;&gt;&gt;&gt;<i> that
</I>&gt;&gt;&gt;&gt;&gt;<i> waits for new source elements indefinitely, when exactly would you
</I>&gt;&gt;&gt;&gt;&gt;<i> decide to
</I>&gt;&gt;&gt;&gt;&gt;<i> switch to fallback content? Bad solutions include special-casing  
</I>&gt;&gt;&gt;&gt;&gt;<i> static
</I>&gt;&gt;&gt;&gt;&gt;<i> markup and/or (falsely) assuming that scripts will not insert more
</I>&gt;&gt;&gt;&gt;&gt;<i> source
</I>&gt;&gt;&gt;&gt;&gt;<i> elements at some point. If fallback content is defined simply as the
</I>&gt;&gt;&gt;&gt;&gt;<i> content
</I>&gt;&gt;&gt;&gt;&gt;<i> of the video element I also can't figure out any other solutions.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> A &lt;source&gt; that says &quot;use the content&quot;?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> -Boris
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Ie inserting &lt;source fallback&gt; or &lt;source contents&gt;.  If both @src and
</I>&gt;&gt;&gt;<i> @fallback are specified on a &lt;source&gt;, it is treated like a &lt;source
</I>&gt;&gt;&gt;<i> src&gt;&lt;source fallback&gt;; that is, it first tries the @src attribute, and
</I>&gt;&gt;&gt;<i> if that doesn't work, then it goes to the fallback content.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That would require the parser to inspect an attribute to determine if  
</I>&gt;&gt;<i> the
</I>&gt;&gt;<i> element is a void element (one that does not have a closing tag) or not,
</I>&gt;&gt;<i> which I've been told is not very nice. Are there any other such cases?
</I>&gt;<i>
</I>&gt;<i> Hm?  I'm not sure what you mean here.  It would work like this:
</I>&gt;<i>
</I>&gt;<i> &lt;video&gt;
</I>&gt;<i>   &lt;source src=&quot;foo&quot;&gt;
</I>&gt;<i>   &lt;source src=&quot;bar&quot;&gt;
</I>&gt;<i>   &lt;source fallback&gt;
</I>&gt;<i>   &lt;p&gt;I'm some fallback content!&lt;/p&gt;
</I>&gt;<i> &lt;/video&gt;
</I>&gt;<i>
</I>&gt;<i> You'll see the &lt;p&gt; if the browser doesn't support &lt;video&gt;, or if the
</I>&gt;<i> resource selection algorithm hits that third source and hasn't found
</I>&gt;<i> anything it can play yet.  It wouldn't change whether the &lt;source&gt; is
</I>&gt;<i> a void element or not.
</I>
I thought you meant

&lt;video&gt;
   &lt;source fallback&gt;
     fallback content here
   &lt;/source&gt;
&lt;/video&gt;

I would prefer if fallback content and source elements weren't mixed on  
the same level, but maybe that's just me.

&gt;<i> (You could also just put @fallback on the second &lt;source&gt; and drop the
</I>&gt;<i> third &lt;source&gt; entirely for the same effect.)
</I>
Once the source element is iterated by the resource selection algorithm  
and starts loading, the fallback attribute or the whole source element  
might be removed. You would have to set a flag at some point to remember  
the fallback state and unset it... when? What is the effect of

&lt;video&gt;
&lt;source fallback&gt;
&lt;source src=&quot;cant.play.ogg&quot;&gt;
fallback here
&lt;/video&gt;

?

Is fallback irrevocable or could the same video element go back to showing  
video under some circumstances? Does audio also have fallback content?

&gt;&gt;<i> This is why I suggested &lt;video&gt;&lt;source
</I>&gt;&gt;<i> src=&quot;cant.play.ogg&quot;&gt;&lt;new-fallback-element&gt;Ooops!&lt;/new-fallback-element&gt;&lt;/video&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I still think the use of this is questionable though.
</I>&gt;<i>
</I>&gt;<i> I'm not sure why you think the usecase is questionable.  It seems
</I>&gt;<i> pretty clear - it'd be nice to have a non-script way of showing
</I>&gt;<i> content (specifically, alternate video players) when the browser
</I>&gt;<i> supports &lt;video&gt; but can't play any of the provided sources.
</I>
Yes, handling the (minor) use case video support + no supported source +  
no script would be nice, but only if it doesn't make an even bigger mess  
of the resource selection algorithm and doesn't allow switching back and  
forth between video and fallback.

The browsers that have already shipped with video don't support fallback  
but they are the ones that are the most likely to need it (assuming that  
format support will get better over time). It would be nice to hear what  
they think about all of this.

-- 
Philip J&#228;genstedt
Core Developer
Opera Software

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="063310.html">[whatwg] HTML 5 video tag questions
</A></li>
	<LI>Next message: <A HREF="063315.html">[whatwg] HTML 5 video tag questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63314">[ date ]</a>
              <a href="thread.html#63314">[ thread ]</a>
              <a href="subject.html#63314">[ subject ]</a>
              <a href="author.html#63314">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
