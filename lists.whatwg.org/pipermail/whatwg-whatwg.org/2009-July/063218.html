<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] getImageData/putImageData comments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20getImageData/putImageData%20comments&In-Reply-To=%3CPine.LNX.4.62.0907110034050.9397%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="063217.html">
   <LINK REL="Next"  HREF="063220.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] getImageData/putImageData comments</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20getImageData/putImageData%20comments&In-Reply-To=%3CPine.LNX.4.62.0907110034050.9397%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] getImageData/putImageData comments">ian at hixie.ch
       </A><BR>
    <I>Fri Jul 10 17:35:48 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="063217.html">[whatwg] getImageData/putImageData comments
</A></li>
        <LI>Next message: <A HREF="063220.html">[whatwg] getImageData/putImageData comments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63218">[ date ]</a>
              <a href="thread.html#63218">[ thread ]</a>
              <a href="subject.html#63218">[ subject ]</a>
              <a href="author.html#63218">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 10 Jul 2009, Boris Zbarsky wrote:
&gt;<i> Ian Hickson wrote:
</I>&gt;<i> &gt; &gt; For another example, consider an algorithm that wants to reduce the 
</I>&gt;<i> &gt; &gt; size of the image by 1px horizontally (e.g. content-aware image 
</I>&gt;<i> &gt; &gt; resizing as demoed using canvas at 
</I>&gt;<i> &gt; &gt; &lt;<A HREF="http://labs.pimsworld.org/wp-content/uploads/2009/04/demo-content-aware-image-resizing-2/">http://labs.pimsworld.org/wp-content/uploads/2009/04/demo-content-aware-image-resizing-2/</A>&gt;). 
</I>&gt;<i> &gt; &gt; If we're shrinking by one device pixel, then suddenly we can't even 
</I>&gt;<i> &gt; &gt; create a canvas of the right size for the new image, because canvas 
</I>&gt;<i> &gt; &gt; size is specified in integer CSS pixels.  Note that the algorithm 
</I>&gt;<i> &gt; &gt; used here, basically off-the-shelf, would in fact want to work on 
</I>&gt;<i> &gt; &gt; device pixels the way the spec is written right now; in general it 
</I>&gt;<i> &gt; &gt; would want to work on whatever pixels imagedata is in.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; If you want to shrink an image, redraw it using drawImage() with 
</I>&gt;<i> &gt; different dimensions.
</I>&gt;<i> 
</I>&gt;<i> You apparently didn't look at the linked-to page.  It's basically 
</I>&gt;<i> applying a graphical filter to an image that results in a smaller image.  
</I>&gt;<i> It's explicitly NOT trying to resize the image using whatever algorithm 
</I>&gt;<i> the browser happens to implement; it's implementing its own 
</I>&gt;<i> image-resizing algorithm (one that arguably produces much better results 
</I>&gt;<i> at the cost of a lot more computation).
</I>
Hm, neat.

I don't see why the imagedata API isn't suitable for that. It's not like 
if you're painting that on the canvas you'll want to leave the last row or 
column unaffected. You'll want to clear it or some such, in practice.

I think this use case works fine with the current API.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="063217.html">[whatwg] getImageData/putImageData comments
</A></li>
	<LI>Next message: <A HREF="063220.html">[whatwg] getImageData/putImageData comments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63218">[ date ]</a>
              <a href="thread.html#63218">[ thread ]</a>
              <a href="subject.html#63218">[ subject ]</a>
              <a href="author.html#63218">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
