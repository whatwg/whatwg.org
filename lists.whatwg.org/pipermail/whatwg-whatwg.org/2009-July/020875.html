<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Limit on number of parallel Workers.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Limit%20on%20number%20of%20parallel%20Workers.&In-Reply-To=%3Cf965ae410907081008w77cf121bh1260206a221b2cc8%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020873.html">
   <LINK REL="Next"  HREF="020876.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Limit on number of parallel Workers.</H1>
<!--htdig_noindex-->
    <B>Drew Wilson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Limit%20on%20number%20of%20parallel%20Workers.&In-Reply-To=%3Cf965ae410907081008w77cf121bh1260206a221b2cc8%40mail.gmail.com%3E"
       TITLE="[whatwg] Limit on number of parallel Workers.">atwilson at google.com
       </A><BR>
    <I>Wed Jul  8 10:08:26 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020873.html">[whatwg] Limit on number of parallel Workers.
</A></li>
        <LI>Next message: <A HREF="020876.html">[whatwg] Limit on number of parallel Workers.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20875">[ date ]</a>
              <a href="thread.html#20875">[ thread ]</a>
              <a href="subject.html#20875">[ subject ]</a>
              <a href="author.html#20875">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I think Ian's decision to add no language to the spec is the correct one. To
be clear, we were never asking for Ian to put a limit in the spec - rather,
given the de facto existence of limits on some platforms, we wanted to
discuss how those platforms should behave to ensure that they were still
compliant with the specification.
Per previous discussions, some implementations have little or no overhead
per worker (e.g. Firefox which uses a static thread pool to service worker
tasks). On those platforms, it makes no sense to allow the user to specify a
maximum number of workers, so having language in the spec saying that UAs
&quot;SHOULD&quot; do so is inappropriate.

This type of UA-specific setting is something best left outside the spec
entirely.

-atw

On Wed, Jul 8, 2009 at 3:41 AM, Eduard Pascual &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">herenvardo at gmail.com</A>&gt; wrote:

&gt;<i> On Wed, Jul 8, 2009 at 1:59 AM, Ian Hickson&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I include below, for the record, a set of e-mails on the topic of
</I>&gt;<i> settings
</I>&gt;<i> &gt; limits on Workers to avoid DOS attacks.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; As with other such topics, the HTML5 spec allows more or less any
</I>&gt;<i> &gt; arbitrary behaviour in the face of hardware limitations. There are a
</I>&gt;<i> &gt; variety of different implementations strategies, and these will vary
</I>&gt;<i> &gt; based on the target hardware. How to handle a million new workers will be
</I>&gt;<i> &gt; different on a system with a million cores and little memory than a
</I>&gt;<i> system
</I>&gt;<i> &gt; with one core but terabytes of memory, or a system with 100 slow cores vs
</I>&gt;<i> &gt; a system with 10 fast cores.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have therefore not added any text to the spec on the matter. Please let
</I>&gt;<i> &gt; me know if you think there should really be something in the spec on
</I>&gt;<i> this.
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> Shouldn't a per-user setting be the sanest approach for the worker
</I>&gt;<i> limit? For example, it would quite make sense for me to want a low
</I>&gt;<i> limit (let's say 10 or so) workers on my laptop's browser; but have no
</I>&gt;<i> restriction (or a much higher one, like some thousand workers) on my
</I>&gt;<i> workstation.
</I>&gt;<i> Ian's point is key here: what's an appropriate limit for workers
</I>&gt;<i> depends almost entirely on hardware resources (and probably also on
</I>&gt;<i> implementation efficiency and other secondary aspects), and there is a
</I>&gt;<i> *huge* variety of hardware configurations that act as web clients, so
</I>&gt;<i> it's just impossible to hardcode a limit in the spec that works
</I>&gt;<i> properly for more than a minority. At most, I would suggest a note
</I>&gt;<i> like this in the spec &quot;User agents SHOULD provide the user a way to
</I>&gt;<i> limit the ammount of workers running at a time.&quot;: emphasis on the
</I>&gt;<i> &quot;SHOULD&quot; rather than a &quot;MUST&quot;, and also on the fact that the final
</I>&gt;<i> choice is for users to make. Then it'd be up to each implementor to
</I>&gt;<i> decide on default, out-of-the-box limits for their browser (it would
</I>&gt;<i> make sense, for example, if Chromium had a lower default limit than
</I>&gt;<i> FF, since C's workers are more &quot;expensive&quot;).
</I>&gt;<i>
</I>&gt;<i> Just my two cents.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Eduard Pascual
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090708/a41fd924/attachment-0001.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090708/a41fd924/attachment-0001.htm</A>&gt;
</PRE>





























































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020873.html">[whatwg] Limit on number of parallel Workers.
</A></li>
	<LI>Next message: <A HREF="020876.html">[whatwg] Limit on number of parallel Workers.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20875">[ date ]</a>
              <a href="thread.html#20875">[ thread ]</a>
              <a href="subject.html#20875">[ subject ]</a>
              <a href="author.html#20875">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
