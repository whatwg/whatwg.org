<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas context.drawImage clarification
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20context.drawImage%20clarification&In-Reply-To=%3Cde4bd3190907091816u66cad478gbdd0093e41ad0782%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="063186.html">
   <LINK REL="Next"  HREF="063193.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas context.drawImage clarification</H1>
<!--htdig_noindex-->
    <B>Gregg Tavares</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20context.drawImage%20clarification&In-Reply-To=%3Cde4bd3190907091816u66cad478gbdd0093e41ad0782%40mail.gmail.com%3E"
       TITLE="[whatwg] Canvas context.drawImage clarification">gman at google.com
       </A><BR>
    <I>Thu Jul  9 18:16:55 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="063186.html">[whatwg] Canvas context.drawImage clarification
</A></li>
        <LI>Next message: <A HREF="063193.html">[whatwg] Canvas context.drawImage clarification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63191">[ date ]</a>
              <a href="thread.html#63191">[ thread ]</a>
              <a href="subject.html#63191">[ subject ]</a>
              <a href="author.html#63191">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Jul 9, 2009 at 4:28 PM, Oliver Hunt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">oliver at apple.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> On Jul 9, 2009, at 4:19 PM, Gregg Tavares wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Thu, Jul 9, 2009 at 4:11 PM, Oliver Hunt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">oliver at apple.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>  I'd like to make a passionate plea that the spec say &quot;implementations
</I>&gt;&gt;&gt;<i> must
</I>&gt;&gt;&gt;<i> support negative widths and negative heights and draw the image backward
</I>&gt;&gt;&gt;<i> effectively flipping the result&quot;.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We'd need to be fairly sure that such a change would not break existing
</I>&gt;&gt;<i> content -- this is a change that would result in substantially different
</I>&gt;&gt;<i> rendering in some scenarios.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Given that it's inconsistent in the various browsers it's hard to see how
</I>&gt;<i> this would break something since it's broken in 2 browsers one way or the
</I>&gt;<i> other currently.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Inconsistency doesn't lead to no one depending on a behaviour, it just
</I>&gt;<i> means sites only work in one browser.  Your suggesting would result in sites
</I>&gt;<i> being broken in all browsers -- the only options from here on out are either
</I>&gt;<i> nothing gets drawn (as in gecko and presto), or the destination is
</I>&gt;<i> normalised (as in webkit).
</I>&gt;<i>
</I>
Or making it consistent when the DOCTYPE is set to something.


&gt;<i>
</I>&gt;<i> Image scaling is implementation dependent everywhere else, why would it be
</I>&gt;&gt;<i> spec defined in the case of canvas?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> There are 2 issues here I brought up
</I>&gt;<i>
</I>&gt;<i> 1) What happens at the edges.
</I>&gt;<i>
</I>&gt;<i> The results are VASTLY different now. Unless this works consistently it
</I>&gt;<i> would be hard to make canvas graphics work across browsers and expect get
</I>&gt;<i> reproducible results.  The 2x2 pixel example I gave, one browser ends up
</I>&gt;<i> scaling with translucency even though there is no translucent pixels in the
</I>&gt;<i> source image.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This is just an artifact of scaling, and you agree below that scaling is
</I>&gt;<i> implementation dependent.
</I>&gt;<i>
</I>
I disagree. When I scale a rectangular opaque image I expect rectangular
opaque results.  The Firefox implementation does not do this. If I take a
1x1 pixel image and attempt to use it to cover up something in another image
by scaling it it will not cover up that other image. Only the very center
pixel will be opaque, all other pixels will be some percentage translucent,
showing whatever was previously drawn on the canvas.  That's a much bigger
issue than whether the scaled pixels are blocky or smooth.





&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2) How it does the scaling.
</I>&gt;<i>
</I>&gt;<i> I agree that it being implementation dependent is probably fine.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --Oliver
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090709/911f040d/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090709/911f040d/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="063186.html">[whatwg] Canvas context.drawImage clarification
</A></li>
	<LI>Next message: <A HREF="063193.html">[whatwg] Canvas context.drawImage clarification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63191">[ date ]</a>
              <a href="thread.html#63191">[ thread ]</a>
              <a href="subject.html#63191">[ subject ]</a>
              <a href="author.html#63191">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
