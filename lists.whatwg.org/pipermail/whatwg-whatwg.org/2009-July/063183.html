<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas context.drawImage clarification
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20context.drawImage%20clarification&In-Reply-To=%3Cde4bd3190907091619h593b2aa8x6e76f36ce3bd06dc%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="063180.html">
   <LINK REL="Next"  HREF="063186.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas context.drawImage clarification</H1>
<!--htdig_noindex-->
    <B>Gregg Tavares</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20context.drawImage%20clarification&In-Reply-To=%3Cde4bd3190907091619h593b2aa8x6e76f36ce3bd06dc%40mail.gmail.com%3E"
       TITLE="[whatwg] Canvas context.drawImage clarification">gman at google.com
       </A><BR>
    <I>Thu Jul  9 16:19:12 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="063180.html">[whatwg] Canvas context.drawImage clarification
</A></li>
        <LI>Next message: <A HREF="063186.html">[whatwg] Canvas context.drawImage clarification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63183">[ date ]</a>
              <a href="thread.html#63183">[ thread ]</a>
              <a href="subject.html#63183">[ subject ]</a>
              <a href="author.html#63183">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Jul 9, 2009 at 4:11 PM, Oliver Hunt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">oliver at apple.com</A>&gt; wrote:

&gt;<i> I'd like to make a passionate plea that the spec say &quot;implementations must
</I>&gt;&gt;<i> support negative widths and negative heights and draw the image backward
</I>&gt;&gt;<i> effectively flipping the result&quot;.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> We'd need to be fairly sure that such a change would not break existing
</I>&gt;<i> content -- this is a change that would result in substantially different
</I>&gt;<i> rendering in some scenarios.
</I>&gt;<i>
</I>
Given that it's inconsistent in the various browsers it's hard to see how
this would break something since it's broken in 2 browsers one way or the
other currently.



&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Also, I'd like to suggest that a widths and heights of 0 for source should
</I>&gt;&gt;<i> be
</I>&gt;&gt;<i> valid as well as rectangles outside of the source also be valid and that
</I>&gt;&gt;<i> this
</I>&gt;&gt;<i> part of the spec.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &quot;If the source rectangle is not entirely within the source image, or if
</I>&gt;&gt;<i> one of
</I>&gt;&gt;<i> the sw or sh arguments is zero, the implementation must raise an
</I>&gt;&gt;<i> INDEX_SIZE_ERR
</I>&gt;&gt;<i> exception.&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> be changed to reflect that.
</I>&gt;&gt;<i>
</I>&gt;<i> The issues of when exceptions should be thrown in the canvas API have been
</I>&gt;<i> discussed repeatedly on this list, you should search the archives and see if
</I>&gt;<i> there are any arguments you can make that have not already been made. (I
</I>&gt;<i> note that i am also all for exceptions not being thrown in many of these
</I>&gt;<i> cases)
</I>

&gt;<i>
</I>&gt;<i>  The next issue related to drawImage is that the spec does not specify how
</I>&gt;&gt;<i> to
</I>&gt;&gt;<i> filter an image when scaling it. Should it use bi-linear interpolation?
</I>&gt;&gt;<i> Nearest
</I>&gt;&gt;<i> Neighbor? Maybe that should stay implementation dependent?
</I>&gt;&gt;<i>
</I>&gt;<i> Image scaling is implementation dependent everywhere else, why would it be
</I>&gt;<i> spec defined in the case of canvas?
</I>

There are 2 issues here I brought up

1) What happens at the edges.

The results are VASTLY different now. Unless this works consistently it
would be hard to make canvas graphics work across browsers and expect get
reproducible results.  The 2x2 pixel example I gave, one browser ends up
scaling with translucency even though there is no translucent pixels in the
source image.

2) How it does the scaling.

I agree that it being implementation dependent is probably fine.



&gt;<i>
</I>&gt;<i> --Oliver
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090709/971c6e72/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090709/971c6e72/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="063180.html">[whatwg] Canvas context.drawImage clarification
</A></li>
	<LI>Next message: <A HREF="063186.html">[whatwg] Canvas context.drawImage clarification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63183">[ date ]</a>
              <a href="thread.html#63183">[ thread ]</a>
              <a href="subject.html#63183">[ subject ]</a>
              <a href="author.html#63183">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
