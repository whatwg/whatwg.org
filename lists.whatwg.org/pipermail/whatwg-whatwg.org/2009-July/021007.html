<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Storage Events for a Specific Storage Area
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Storage%20Events%20for%20a%20Specific%20Storage%20Area&In-Reply-To=%3CPine.LNX.4.62.0907130933160.23663%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021006.html">
   <LINK REL="Next"  HREF="021019.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Storage Events for a Specific Storage Area</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Storage%20Events%20for%20a%20Specific%20Storage%20Area&In-Reply-To=%3CPine.LNX.4.62.0907130933160.23663%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Storage Events for a Specific Storage Area">ian at hixie.ch
       </A><BR>
    <I>Mon Jul 13 03:10:52 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="021006.html">[whatwg] &quot;Fullscreenable&quot; attribute.
</A></li>
        <LI>Next message: <A HREF="021019.html">[whatwg] Storage Events for a Specific Storage Area
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21007">[ date ]</a>
              <a href="thread.html#21007">[ thread ]</a>
              <a href="subject.html#21007">[ subject ]</a>
              <a href="author.html#21007">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 17 Jun 2009, Joseph Pecoraro wrote:
&gt;<i>
</I>&gt;<i> The &quot;storage&quot; event [1] fires for both sessionStorage and localStorage.  
</I>&gt;<i> To me, this means if you only want to interact with localStorage you 
</I>&gt;<i> will have to manually ensure that it is the storage area being modified:
</I>&gt;<i> 
</I>&gt;<i>   window.addEventListener('storage', function(e) {
</I>&gt;<i>     if ( e.storageArea === localStorage ) {
</I>&gt;<i>       // ...
</I>&gt;<i>     }
</I>&gt;<i>   }
</I>&gt;<i> 
</I>&gt;<i> Was there any discussion about creating events specific to the storage 
</I>&gt;<i> object, or should that already be possible?  I've been playing around 
</I>&gt;<i> with WebKit's Storage implementation, and the following (understandably) 
</I>&gt;<i> is not possible:
</I>&gt;<i> 
</I>&gt;<i>   &gt; localStorage.addEventListener
</I>&gt;<i>   undefined
</I>&gt;<i> 
</I>&gt;<i> Is there any way to listen to events for a single specific storage area 
</I>&gt;<i> or is the previously mentioned approach preferred?
</I>
We could make Storage into an EventTarget and also fire events on there, 
sure. As Jeremy said, this is something that might best be done in the 
next version; we're still trying to get the current features implemented 
in a stable and consistent fashion as it is.

In general, though, I don't think it's critical, since you can easily work 
around it by checking which was changed based on the event data.

(I agree that your proposal would have made more sense. I'm sorry my 
learning experiences have such a detrimental effect on the Web! :-) )

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>













































































































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021006.html">[whatwg] &quot;Fullscreenable&quot; attribute.
</A></li>
	<LI>Next message: <A HREF="021019.html">[whatwg] Storage Events for a Specific Storage Area
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21007">[ date ]</a>
              <a href="thread.html#21007">[ thread ]</a>
              <a href="subject.html#21007">[ subject ]</a>
              <a href="author.html#21007">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
