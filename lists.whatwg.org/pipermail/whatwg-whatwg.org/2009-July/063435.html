<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Thoughts on video accessibility
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Thoughts%20on%20video%20accessibility&In-Reply-To=%3Cop.uw5i5wc4atwj1d%40sisko.linkoping.osa%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="063432.html">
   <LINK REL="Next"  HREF="063445.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Thoughts on video accessibility</H1>
<!--htdig_noindex-->
    <B>Philip J&#228;genstedt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Thoughts%20on%20video%20accessibility&In-Reply-To=%3Cop.uw5i5wc4atwj1d%40sisko.linkoping.osa%3E"
       TITLE="[whatwg] Thoughts on video accessibility">philipj at opera.com
       </A><BR>
    <I>Thu Jul 16 01:28:34 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="063432.html">[whatwg] Thoughts on video accessibility
</A></li>
        <LI>Next message: <A HREF="063445.html">[whatwg] Thoughts on video accessibility
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63435">[ date ]</a>
              <a href="thread.html#63435">[ thread ]</a>
              <a href="subject.html#63435">[ subject ]</a>
              <a href="author.html#63435">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 16 Jul 2009 07:58:30 +0200, Silvia Pfeiffer  
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">silviapfeiffer1 at gmail.com</A>&gt; wrote:

&gt;<i> Hi Ian,
</I>&gt;<i>
</I>&gt;<i> Great to see the new efforts to move the subtitle/caption/karaoke
</I>&gt;<i> issues forward!
</I>&gt;<i>
</I>&gt;<i> I actually have a contract with Mozilla starting this month to help
</I>&gt;<i> solve this, so I am more than grateful that you have proposed some
</I>&gt;<i> ideas in this space.
</I>&gt;<i>
</I>&gt;<i> On Thu, Jul 16, 2009 at 9:38 AM, Ian Hickson&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;&gt;<i> On Sat, 27 Dec 2008, Silvia Pfeiffer wrote:
</I>&gt;&gt;&gt;<i> &gt; 1. Timed text in the resource itself (or linked from the resource
</I>&gt;&gt;&gt;<i> &gt; itself), rendered as part of the video automatically by the user
</I>&gt;&gt;&gt;<i> &gt; agent.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> For case 1, the practical implications are that browser vendors will
</I>&gt;&gt;&gt;<i> have to develop support for a large variety of text codecs, each one
</I>&gt;&gt;&gt;<i> providing different functionalities.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I would hope that as with a video codec, we can standardise on a single
</I>&gt;&gt;<i> subtitle format, ideally some simple media-independent combination of  
</I>&gt;&gt;<i> SRT
</I>&gt;&gt;<i> and LRC [1]. It's difficult to solve this problem without a standard
</I>&gt;&gt;<i> codec, though.
</I>&gt;<i>
</I>&gt;<i> I have myself thought about creating a new format to address the needs
</I>&gt;<i> for time-aligned text in audio/video.
</I>&gt;<i>
</I>&gt;<i> However, the problem with creating a new format is that you start from
</I>&gt;<i> scratch and already spreaded formats are not supported.
</I>&gt;<i>
</I>&gt;<i> I can see that your proposed format is trying to be backwards
</I>&gt;<i> compatible with SRT, so at least it would work for the large number of
</I>&gt;<i> existing srt file collections. I am still skeptical, in particular
</I>&gt;<i> because there are no authoring systems for this format around.
</I>&gt;<i> But I would be curious what others think about your proposed SRT-LRC-mix.
</I>
There are already more formats than you could possibly want on the scale  
between SRT (dumb text) and complex XML formats like DFXP or USF (used in  
Matroska). In my layman opinion both extremes make sense, but anything in  
between I'm rather skeptical to.

&gt;&gt;&gt;<i> In fact, the easiest solution would be if that particular format was
</I>&gt;&gt;&gt;<i> really only HTML.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> IMHO that would be absurd. HTML means scripting, embedded videos, an
</I>&gt;&gt;<i> unbelivably complex rendering system, complex parsing, etc; plus, what's
</I>&gt;&gt;<i> more, it doesn't even support timing yet, so we'd have to add all the
</I>&gt;&gt;<i> timing and karaoke features on top of it. Requiring that video players
</I>&gt;&gt;<i> embed a timed HTML renderer just to render subtitles is like saying that
</I>&gt;&gt;<i> we should ship Microsoft Word with every DVD player, to handle the user
</I>&gt;&gt;<i> input when the user wants to type in a new chapter number to jump to.
</I>&gt;<i>
</I>&gt;<i> I agree, it cannot be a format that contains all the complexity of
</I>&gt;<i> HTML. It would only support a subpart of HTML that is relevant, plus
</I>&gt;<i> the addition of timing - and in this case is indeed a new format. I
</I>&gt;<i> have therefore changed my mind since I sent that email in Dec 08 and
</I>&gt;<i> am hoping we can do it with existing formats.
</I>
I think that eventually we will want timing/synchronization in HTML for  
synchronizing multiple video or audio tracks. As far as I can tell no  
browser wants to implement the addCueRange API (removing this should be  
the topic of a separate mail), so we really need to re-think this part and  
I think that timed text plays an important part here.

&gt;<i> In particular, I have taken an in-depth look at the latest
</I>&gt;<i> specification from the Timed Text working group that have put years of
</I>&gt;<i> experiments and decades of experience into developing DFXP. You can
</I>&gt;<i> see my review of DFXP here:
</I>&gt;<i> <A HREF="http://blog.gingertech.net/2009/06/28/a-review-of-the-w3c-timed-text-authoring-format/">http://blog.gingertech.net/2009/06/28/a-review-of-the-w3c-timed-text-authoring-format/</A>
</I>&gt;<i> . I think it is both too flexible in a lot of ways, but also too
</I>&gt;<i> restrictive in others. However, it is a well formulated format that is
</I>&gt;<i> also getting market traction. In addition, it is possible to formulate
</I>&gt;<i> profiles to add missing functionality.
</I>&gt;<i>
</I>&gt;<i> If we want a quick and dirty hack, srt itself is probably the best
</I>&gt;<i> solution. If we want a well thought-out solution, DFXP is probably a
</I>&gt;<i> better idea.
</I>&gt;<i>
</I>&gt;<i> I am currently experimenting with these and will be able to share
</I>&gt;<i> something soon for further discussion.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> &gt; 3. Timed text stored in a separate file, which is then parsed by the
</I>&gt;&gt;&gt;<i> &gt; user agent and rendered as part of the video automatically by the
</I>&gt;&gt;&gt;<i> &gt; browser.
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> Maybe we should consider solving this differently. Either we could
</I>&gt;&gt;&gt;<i> encapsulate into the video container upon download. Or we could create  
</I>&gt;&gt;&gt;<i> a
</I>&gt;&gt;&gt;<i> zip-file or tarball upon download. I'd just find it a big mistake to
</I>&gt;&gt;&gt;<i> ignore the majority use case in the standard, which is why I proposed
</I>&gt;&gt;&gt;<i> the &lt;text&gt; elements inside the &lt;video&gt; tag.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If browser vendors are willing to merge subtitles and video files when
</I>&gt;&gt;<i> saving them, that would be great. Is this easy to do?
</I>&gt;<i>
</I>&gt;<i> My suggestion was really about doing this server-side, which we have
</I>&gt;<i> already implemented years ago in the Annodex project for Ogg
</I>&gt;<i> Theora/Vorbis.
</I>&gt;<i>
</I>&gt;<i> However, it is also possible to do this in the browser: in the case of
</I>&gt;<i> Ogg, the browser just needs to have a multiplexing library installed
</I>&gt;<i> as well as a means to encode the subtitle file (which I like to call a
</I>&gt;<i> &quot;text codec&quot;). Since it's text, it's nowhere near as complex as
</I>&gt;<i> encoding audio or video and just consists of light-weight packaging
</I>&gt;<i> code. So, yes, it is totally possible to have the browsers create a
</I>&gt;<i> binary video file that has the subtitles encapsulated that were
</I>&gt;<i> previously only accessible as referenced text files behind a separate
</I>&gt;<i> URL.
</I>&gt;<i>
</I>&gt;<i> The only issue I see is the baseline codec issue: every browser that
</I>&gt;<i> wants to support multiple media formats has to implement this
</I>&gt;<i> multiplexing and text encoding for every media encapsulation format
</I>&gt;<i> differently, which is annoying and increases complexity. It's however
</I>&gt;<i> generally a small amount of complexity compared to the complexity
</I>&gt;<i> created by having to support multiple codecs.
</I>
I disagree, remuxing files would be much more of an implementation burden  
than supporting multiple codecs, at least if a format-agnostic media  
framework is used (be that internal or external to the browser). Remuxing  
would require you to support/create parts of the media framework that you  
otherwise aren't using, i.e. parsers, muxers, file writers and plugging of  
these together (which unlike decoding isn't automatic in any framework  
I've seen).

Anything is doable of course, but I think this is really something that is  
best done server-side using specialized tools.

&gt;&gt;&gt;<i> Here is my example again:
</I>&gt;&gt;&gt;<i> &lt;video src=&quot;<A HREF="http://example.com/video.ogv">http://example.com/video.ogv</A>&quot; controls&gt;
</I>&gt;&gt;&gt;<i>  &lt;text category=&quot;CC&quot; lang=&quot;en&quot; type=&quot;text/x-srt&quot;  
</I>&gt;&gt;&gt;<i> src=&quot;caption.srt&quot;&gt;&lt;/text&gt;
</I>&gt;&gt;&gt;<i>  &lt;text category=&quot;SUB&quot; lang=&quot;de&quot; type=&quot;application/ttaf+xml&quot;  
</I>&gt;&gt;&gt;<i> src=&quot;german.dfxp&quot;&gt;&lt;/text&gt;
</I>&gt;&gt;&gt;<i>  &lt;text category=&quot;SUB&quot; lang=&quot;jp&quot; type=&quot;application/smil&quot;  
</I>&gt;&gt;&gt;<i> src=&quot;japanese.smil&quot;&gt;&lt;/text&gt;
</I>&gt;&gt;&gt;<i>  &lt;text category=&quot;SUB&quot; lang=&quot;fr&quot; type=&quot;text/x-srt&quot;  
</I>&gt;&gt;&gt;<i> src=&quot;translation_webservice/fr/caption.srt&quot;&gt;&lt;/text&gt;
</I>&gt;&gt;&gt;<i> &lt;/video&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Here's a counterproposal:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   &lt;video src=&quot;<A HREF="http://example.com/video.ogv">http://example.com/video.ogv</A>&quot;
</I>&gt;&gt;<i>          subtitles=&quot;<A HREF="http://example.com/caption.srt">http://example.com/caption.srt</A>&quot; controls&gt;
</I>&gt;&gt;<i>   &lt;/video&gt;
</I>&gt;<i>
</I>&gt;<i> Subtitle files are created to enable users to choose the text in the
</I>&gt;<i> language that they speak to be displayed. With a simple addition like
</I>&gt;<i> what you are proposing, I don't think such a choice is possible. Or do
</I>&gt;<i> you have a proposal on how to choose the adequate language file?
</I>&gt;<i>
</I>&gt;<i> Also, the attributes on the proposed text element of course serve a  
</I>&gt;<i> purpose:
</I>&gt;<i> * the &quot;category&quot; attribute is meant to provide a default for styling
</I>&gt;<i> the text track,
</I>&gt;<i> * the &quot;language&quot; attribute is meant to provide a means to build a menu
</I>&gt;<i> to choose the adequate subtitle file from,
</I>&gt;<i> * the &quot;type&quot; attribute is meant to both identify the mime type of the
</I>&gt;<i> format and the character set used in the file.
</I>&gt;<i>
</I>&gt;<i> The character set question is actually a really difficult problem to
</I>&gt;<i> get right, because srt files are created in an appropriate character
</I>&gt;<i> set for the language, but there is no means to store in a srt file
</I>&gt;<i> what character set was used in its creation. That's a really bad
</I>&gt;<i> situation to be in for the Web server, who can then only take an
</I>&gt;<i> educated guess. By giving the ability to the HTML author to specify
</I>&gt;<i> the charset of the srt file with the link, this can be solved.
</I>&gt;<i>
</I>&gt;<i> BTW: my latest experiments with subtitles have even a few more
</I>&gt;<i> attributes. I am not ready to publish that yet, but should be within a
</I>&gt;<i> week or so and will be glad to have a further discussion then.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> I think this would be fine, on the long term. I don't think the existing
</I>&gt;&gt;<i> implementations of &lt;video&gt; are at a point yet where it makes sense to
</I>&gt;&gt;<i> define this yet, though.
</I>&gt;<i>
</I>&gt;<i> I think we have to start discussing it and doing experiments. I think
</I>&gt;<i> &lt;video&gt; is getting stable enough to move forward. I'm expecting a
</I>&gt;<i> period of discussion and experimentation with time-aligned text both
</I>&gt;<i> in-band and out-of-band, so it's good to get started on this rather
</I>&gt;<i> sooner than later.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> It would be interesting to hear back from the browser vendors about how
</I>&gt;&gt;<i> easily the subtitles could be kept with the video in a way that survives
</I>&gt;&gt;<i> reuse in other contexts.
</I>
I think that in the case of external subtitles the browser could simply  
save it alongside with the video. It is my experience that is media  
players have much more robust support for external subtitles (like SRT)  
than for internal subtitles, so this is my preferred option (plus it's  
easier).

&gt;<i> Incidentally, I'd be interested in such information about H.264. I
</I>&gt;<i> wonder how easy it will be for example with QuickTime or mp4 to
</I>&gt;<i> encapsulate srt on-the-fly inside a browser.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Silvia.
</I>

-- 
Philip J&#228;genstedt
Core Developer
Opera Software

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="063432.html">[whatwg] Thoughts on video accessibility
</A></li>
	<LI>Next message: <A HREF="063445.html">[whatwg] Thoughts on video accessibility
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63435">[ date ]</a>
              <a href="thread.html#63435">[ thread ]</a>
              <a href="subject.html#63435">[ subject ]</a>
              <a href="author.html#63435">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
