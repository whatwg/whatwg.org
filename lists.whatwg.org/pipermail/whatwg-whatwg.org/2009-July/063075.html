<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] In AppCache web apps,	images from unpredictable domains 	won't load
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20In%20AppCache%20web%20apps%2C%0A%09images%20from%20unpredictable%20domains%20%09won%27t%20load&In-Reply-To=%3C278fd46c0907061440r3ceb559bm9bc80c9d34b9a339%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="063074.html">
   <LINK REL="Next"  HREF="063101.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] In AppCache web apps,	images from unpredictable domains 	won't load</H1>
<!--htdig_noindex-->
    <B>Aaron Boodman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20In%20AppCache%20web%20apps%2C%0A%09images%20from%20unpredictable%20domains%20%09won%27t%20load&In-Reply-To=%3C278fd46c0907061440r3ceb559bm9bc80c9d34b9a339%40mail.gmail.com%3E"
       TITLE="[whatwg] In AppCache web apps,	images from unpredictable domains 	won't load">aa at google.com
       </A><BR>
    <I>Mon Jul  6 14:40:25 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="063074.html">[whatwg] In AppCache web apps,	images from unpredictable domains 	won't load
</A></li>
        <LI>Next message: <A HREF="063101.html">[whatwg] In AppCache web apps,	images from unpredictable domains 	won't load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63075">[ date ]</a>
              <a href="thread.html#63075">[ thread ]</a>
              <a href="subject.html#63075">[ subject ]</a>
              <a href="author.html#63075">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Jul 6, 2009 at 1:28 PM, Jonas Sicking&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonas at sicking.cc</A>&gt; wrote:
&gt;<i> On Mon, Jul 6, 2009 at 11:46 AM, Aaron Whyte&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">awhyte at google.com</A>&gt; wrote:
</I>&gt;&gt;<i> When a page is loaded from an AppCache, even when online, external resources
</I>&gt;&gt;<i> such as images will not be loaded at all.
</I>&gt;&gt;<i> If foo.com has an image &lt;img src=&quot;<A HREF="http://bar.com/img.png">http://bar.com/img.png</A>&quot; /&gt;, then according
</I>&gt;&gt;<i> to the steps in
</I>&gt;&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/offline.html#changesToNetworkingModel">http://www.whatwg.org/specs/web-apps/current-work/multipage/offline.html#changesToNetworkingModel</A>
</I>&gt;&gt;<i> it will fail the load for the resource.
</I>&gt;&gt;<i> For example, someone with an Offline Gmail client would never be able to see
</I>&gt;&gt;<i> cross-domain images in emails, even when completely online.
</I>&gt;&gt;<i> There's no workaround in the current spec.
</I>&gt;<i>
</I>&gt;<i> The workaround is for the gmail to download the images to gmails
</I>&gt;<i> servers and then serve them from a google domain. Not as simple as
</I>&gt;<i> simply being able to cache urls from other servers I agree, but doing
</I>&gt;<i> multi domain application caches is very complicated from a security
</I>&gt;<i> point of view so I think we wanted to stay clear of it for the first
</I>&gt;<i> iteration of the spec.
</I>
The spec already provides for loading resources not in the app cache
from the network (across origins or not). It simply defaults to not
allowing it. You have to opt-into the url prefixes you want to load
from the network.

I think we could fix this issue by simply changing the rules to
default to allowing requests, and having the author mark the url
prefixes he wants to blacklist from being loaded from the network.

- a

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="063074.html">[whatwg] In AppCache web apps,	images from unpredictable domains 	won't load
</A></li>
	<LI>Next message: <A HREF="063101.html">[whatwg] In AppCache web apps,	images from unpredictable domains 	won't load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63075">[ date ]</a>
              <a href="thread.html#63075">[ thread ]</a>
              <a href="subject.html#63075">[ subject ]</a>
              <a href="author.html#63075">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
