<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Issues with Web Sockets API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Issues%20with%20Web%20Sockets%20API&In-Reply-To=%3C4B84866D-E504-4CB6-AE51-30F85F33E214%40webkit.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021423.html">
   <LINK REL="Next"  HREF="021427.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Issues with Web Sockets API</H1>
<!--htdig_noindex-->
    <B>Alexey Proskuryakov</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Issues%20with%20Web%20Sockets%20API&In-Reply-To=%3C4B84866D-E504-4CB6-AE51-30F85F33E214%40webkit.org%3E"
       TITLE="[whatwg] Issues with Web Sockets API">ap at webkit.org
       </A><BR>
    <I>Mon Jul 27 13:14:29 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="021423.html">[whatwg] Issues with Web Sockets API
</A></li>
        <LI>Next message: <A HREF="021427.html">[whatwg] Issues with Web Sockets API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21425">[ date ]</a>
              <a href="thread.html#21425">[ thread ]</a>
              <a href="subject.html#21425">[ subject ]</a>
              <a href="author.html#21425">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
27.07.2009, &#1074; 12:35, Maciej Stachowiak &#1085;&#1072;&#1087;&#1080;&#1089;&#1072;&#1083;(&#1072;):

&gt;&gt;<i> However, I do not think that raising an exception is an appropriate  
</I>&gt;&gt;<i> answer. Often, the TCP implementation takes a part of data given to  
</I>&gt;&gt;<i> it, and asks to resubmit the rest later. So, just returning an  
</I>&gt;&gt;<i> integer result from send() would be best in my opinion.
</I>&gt;<i>
</I>&gt;<i> With WebSocket, another possibility is for the implementation to  
</I>&gt;<i> buffer pending data that could not yet be sent to the TCP layer, so  
</I>&gt;<i> that the client of WebSocket doesn't have to be exposed to system  
</I>&gt;<i> limitations. At that point, an exception is only needed if the  
</I>&gt;<i> implementation runs out of memory for buffering. With a system TCP  
</I>&gt;<i> implementation, the buffering would be in kernel space, which is a  
</I>&gt;<i> scarce resource, but user space memory inside the implementation is  
</I>&gt;<i> no more scarce than user space memory held by the Web application  
</I>&gt;<i> waiting to send to the WebSocket.
</I>

I agree that this will help if the application sends data in burst  
mode, but what if it just constantly sends more than the network can  
transmit? It will never learn that it's misbehaving, and will just  
take more and more memory.

An example where adapting to network bandwidth is needed is of course  
file uploading, but even if we dismiss it as a special case that can  
be served with custom code, there's also e.g. captured video or audio  
that can be downgraded in quality for slow connections.

- WBR, Alexey Proskuryakov

</PRE>













<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021423.html">[whatwg] Issues with Web Sockets API
</A></li>
	<LI>Next message: <A HREF="021427.html">[whatwg] Issues with Web Sockets API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21425">[ date ]</a>
              <a href="thread.html#21425">[ thread ]</a>
              <a href="subject.html#21425">[ subject ]</a>
              <a href="author.html#21425">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
