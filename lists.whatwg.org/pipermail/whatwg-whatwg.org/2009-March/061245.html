<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] localStorage + worker processes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20localStorage%20%2B%20worker%20processes&In-Reply-To=%3C5dd9e5c50903231440m2c6d440cu4a0744b511d5c5ff%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061243.html">
   <LINK REL="Next"  HREF="061246.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] localStorage + worker processes</H1>
<!--htdig_noindex-->
    <B>Jeremy Orlow</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20localStorage%20%2B%20worker%20processes&In-Reply-To=%3C5dd9e5c50903231440m2c6d440cu4a0744b511d5c5ff%40mail.gmail.com%3E"
       TITLE="[whatwg] localStorage + worker processes">jorlow at google.com
       </A><BR>
    <I>Mon Mar 23 14:40:23 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061243.html">[whatwg] localStorage + worker processes
</A></li>
        <LI>Next message: <A HREF="061246.html">[whatwg] navigator.yield()? (Was: localStorage + worker processes)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61245">[ date ]</a>
              <a href="thread.html#61245">[ thread ]</a>
              <a href="subject.html#61245">[ subject ]</a>
              <a href="author.html#61245">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I really like the idea of some generic yield, though I wonder if there's
some reason it hasn't been added earlier.  People have been using the
setTimeout(..., 0) trick for a while to get around slow script warnings (and
general unresponsiveness)...so surely something like this must have come up
before?  If so, what were the drawbacks?
On Mon, Mar 23, 2009 at 2:24 PM, Robert O'Callahan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt;wrote:

&gt;<i> On Tue, Mar 24, 2009 at 7:41 AM, Jeremy Orlow &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jorlow at google.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> One thing that hasn't been considered yet is some sort of optional hint to
</I>&gt;&gt;<i> say &quot;I'm done&quot; in terms of accessing localStorage.  Maybe call it
</I>&gt;&gt;<i> localStorage.checkpoint() or localStroage.commit()?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As far as the browser implemenation is concerned, a call to this function
</I>&gt;&gt;<i> would be the same as the script ending.  The great thing about this is that
</I>&gt;&gt;<i> if a developer found one problem location in their code, they could add
</I>&gt;&gt;<i> it--but it'd be completely optional.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> You mean if they find a performance problem due to overlarge lock scope?
</I>&gt;<i>
</I>&gt;<i> That's not a terrible idea. It certainly makes far more sense to be safe by
</I>&gt;<i> default and add constructs and code to gain a bit more parallelism, than to
</I>&gt;<i> be unsafe and parallel by default and have to add constructs and code to get
</I>&gt;<i> safety.
</I>&gt;<i>
</I>&gt;<i> I'm not sure what the semantics of a standalone &quot;commit()&quot; would be,
</I>&gt;<i> though. I think a better construct might be some sort of &quot;yield&quot; which
</I>&gt;<i> explicitly returns to a (nested) browser event loop and basically acts as a
</I>&gt;<i> script completion point. Even browsers that only use a single thread can run
</I>&gt;<i> the event loop there so that testing in those browsers will reveal bugs.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Rob
</I>&gt;<i> --
</I>&gt;<i> &quot;He was pierced for our transgressions, he was crushed for our iniquities;
</I>&gt;<i> the punishment that brought us peace was upon him, and by his wounds we are
</I>&gt;<i> healed. We all, like sheep, have gone astray, each of us has turned to his
</I>&gt;<i> own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
</I>&gt;<i> 53:5-6]
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090323/936b5954/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090323/936b5954/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061243.html">[whatwg] localStorage + worker processes
</A></li>
	<LI>Next message: <A HREF="061246.html">[whatwg] navigator.yield()? (Was: localStorage + worker processes)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61245">[ date ]</a>
              <a href="thread.html#61245">[ thread ]</a>
              <a href="subject.html#61245">[ subject ]</a>
              <a href="author.html#61245">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
