<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas - Exception on arc with negative radius
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20-%20Exception%20on%20arc%20with%20negative%20radius&In-Reply-To=%3C28E1988A-4FB8-4007-9EC8-357FFCBADAF4%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061356.html">
   <LINK REL="Next"  HREF="061326.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas - Exception on arc with negative radius</H1>
<!--htdig_noindex-->
    <B>Oliver Hunt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20-%20Exception%20on%20arc%20with%20negative%20radius&In-Reply-To=%3C28E1988A-4FB8-4007-9EC8-357FFCBADAF4%40apple.com%3E"
       TITLE="[whatwg] Canvas - Exception on arc with negative radius">oliver at apple.com
       </A><BR>
    <I>Sun Mar 29 16:53:36 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061356.html">[whatwg] Canvas - Exception on arc with negative radius
</A></li>
        <LI>Next message: <A HREF="061326.html">[whatwg] Canvas Shadows - Unnecessary Barrier to Entry
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61358">[ date ]</a>
              <a href="thread.html#61358">[ thread ]</a>
              <a href="subject.html#61358">[ subject ]</a>
              <a href="author.html#61358">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I commented to the list on this issue some time ago (and a number of  
the APIs were updated base don my comments);  in general developers do  
not expect graphics libraries to throw exceptions, especially for  
values that are frequently computed.  We've had numerous cases where  
webkit has had to relax exception logic in canvas (having tightened it  
to match spec) where the result has been broken sites and widgets  
(alas the webkit and mozilla canvas implementations do have some edge  
case where one throws and the other does not), i believe the most  
consistent approach will be to fail silently when given invalid, but  
finite arguments to any given API.  The alternative is that certain  
APIs will relax (regardless of spec), whereas others will not, leading  
to a more or less random combination of throw vs. no throw on invalid  
arguments.

--Oliver

On Mar 29, 2009, at 11:34 AM, Dirk Schulze wrote:

&gt;<i> Am Freitag, den 27.03.2009, 13:44 -0700 schrieb Martin Atkins:
</I>&gt;&gt;<i> Dirk Schulze wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Another example is: <A HREF="http://blahbleh.com/molecools.php?name=1,2%">http://blahbleh.com/molecools.php?name=1,2%</A>
</I>&gt;&gt;&gt;<i> 20dimethylcyclopropane
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> If you turn the molecule a bit, the circles disappear with a
</I>&gt;&gt;&gt;<i> INDEX_SIZE_ERR exception.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Isn't it better to just ignore the arc and go on with the drawing,  
</I>&gt;&gt;&gt;<i> like
</I>&gt;&gt;&gt;<i> Firefox does? And perhaps the same for arcTo?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Assuming that we desire a &quot;do what I mean&quot; approach, it seems sane  
</I>&gt;&gt;<i> to me
</I>&gt;&gt;<i> for a negative radius to be normalized to a positive radius with the
</I>&gt;&gt;<i> same magnitude.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It goes from being the distance from the center to the edge to  
</I>&gt;&gt;<i> being the
</I>&gt;&gt;<i> distance from the center to the &quot;opposite&quot; edge.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You might also like to visualize this as drawing the &quot;back&quot; of the  
</I>&gt;&gt;<i> circle.
</I>&gt;<i>
</I>&gt;<i> A negative value doesn't mean, that you want an arc. They can happen
</I>&gt;<i> during the automatic calculation process. There is no reason, that a
</I>&gt;<i> developers takes negative values and wants to see an arc otherwise he
</I>&gt;<i> could cut of the sign.
</I>&gt;<i> I'm just speaking of ignoring negative arcs instead of giving an
</I>&gt;<i> exception to continue further drawings.
</I>&gt;<i>
</I>&gt;<i> -Dirk
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061356.html">[whatwg] Canvas - Exception on arc with negative radius
</A></li>
	<LI>Next message: <A HREF="061326.html">[whatwg] Canvas Shadows - Unnecessary Barrier to Entry
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61358">[ date ]</a>
              <a href="thread.html#61358">[ thread ]</a>
              <a href="subject.html#61358">[ subject ]</a>
              <a href="author.html#61358">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
