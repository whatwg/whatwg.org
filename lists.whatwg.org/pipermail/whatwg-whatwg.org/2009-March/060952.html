<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Media element delaying load event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Media%20element%20delaying%20load%20event&In-Reply-To=%3C49AD9E5E.4070603%40pearce.org.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="060951.html">
   <LINK REL="Next"  HREF="060975.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Media element delaying load event</H1>
<!--htdig_noindex-->
    <B>Chris Pearce</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Media%20element%20delaying%20load%20event&In-Reply-To=%3C49AD9E5E.4070603%40pearce.org.nz%3E"
       TITLE="[whatwg] Media element delaying load event">chris at pearce.org.nz
       </A><BR>
    <I>Tue Mar  3 13:17:18 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="060951.html">[whatwg] &lt;eventsource&gt;/RemoteEventSource wierdness
</A></li>
        <LI>Next message: <A HREF="060975.html">[whatwg] Media element delaying load event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60952">[ date ]</a>
              <a href="thread.html#60952">[ thread ]</a>
              <a href="subject.html#60952">[ subject ]</a>
              <a href="author.html#60952">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>The media element spec says:
&gt;<i> If a media element 
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#media-element">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#media-element</A>&gt; 
</I>&gt;<i> whose |networkState 
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#dom-media-networkstate">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#dom-media-networkstate</A>&gt;| 
</I>&gt;<i> has the value |NETWORK_EMPTY 
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#dom-media-network_empty">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#dom-media-network_empty</A>&gt;| 
</I>&gt;<i> is inserted into a document 
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/infrastructure.html#insert-an-element-into-a-document">http://www.whatwg.org/specs/web-apps/current-work/multipage/infrastructure.html#insert-an-element-into-a-document</A>&gt;, 
</I>&gt;<i> the user agent must asynchronously invoke the media element 
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#media-element">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#media-element</A>&gt;'s 
</I>&gt;<i> resource selection algorithm 
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#concept-media-load-algorithm">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#concept-media-load-algorithm</A>&gt;.
</I>The resource selection algorithm then goes on to set the 
delaying-the-load-event flag to true. Depending on how the asynchronous 
invocation is implemented, the document could actually complete loading 
during the time after the insertion of a media element, but before the 
resource-selection algorithm sets the delaying-the-load-event flag is 
set to true. This means the load event could fire during that time, even 
though we intended to delay the load event.

Maybe we should set the delaying-the-load-event flag to true before we 
asynchronously call the resource-selection algorithm, and then then 
resource-selection algorithm can set the delaying-the-load-event flag to 
false if that decides it needs to wait for a src or source element child?

Thanks,
Chris Pearce.


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="060951.html">[whatwg] &lt;eventsource&gt;/RemoteEventSource wierdness
</A></li>
	<LI>Next message: <A HREF="060975.html">[whatwg] Media element delaying load event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60952">[ date ]</a>
              <a href="thread.html#60952">[ thread ]</a>
              <a href="subject.html#60952">[ subject ]</a>
              <a href="author.html#60952">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
