<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;video&gt; and acceleration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cvideo%3E%20and%20acceleration&In-Reply-To=%3C49CDAE3F.2070707%40fas.harvard.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019074.html">
   <LINK REL="Next"  HREF="019067.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;video&gt; and acceleration</H1>
<!--htdig_noindex-->
    <B>Benjamin M. Schwartz</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cvideo%3E%20and%20acceleration&In-Reply-To=%3C49CDAE3F.2070707%40fas.harvard.edu%3E"
       TITLE="[whatwg] &lt;video&gt; and acceleration">bmschwar at fas.harvard.edu
       </A><BR>
    <I>Fri Mar 27 21:57:35 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019074.html">[whatwg] URL decomposition on HTMLAnchorElement interface
</A></li>
        <LI>Next message: <A HREF="019067.html">[whatwg] &lt;video&gt; and acceleration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19064">[ date ]</a>
              <a href="thread.html#19064">[ thread ]</a>
              <a href="subject.html#19064">[ subject ]</a>
              <a href="author.html#19064">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Dear What,

Short: &lt;video&gt; won't work on slow devices.  Help!

Long:
The &lt;video&gt; tag has great potential to be useful on low-powered computers
and computing devices, where current internet video streaming solutions
(such as Adobe's Flash) are too computationally expensive.  My personal
experience is with OLPC XO-1*, on which Flash (and Gnash) are terribly
slow for any purpose, but Theora+Vorbis playback is quite smooth at
reasonable resolutions and bitrates.

The &lt;video&gt; standard allows arbitrary manipulations of the video stream
within the HTML renderer.  To permit this, the initial implementations
(such as the one in Firefox 3.5) will perform all video decoding
operations on the CPU, including the tremendously expensive YUV-&gt;RGB
conversion and scaling.  This is viable only for moderate resolutions and
extremely fast processors.

Recognizing this, the Firefox developers expect that the decoding process
will eventually be accelerated.  However, an accelerated implementation of
the &lt;video&gt; spec inevitably requires a 3D GPU, in order to permit
transparent video, blended overlays, and arbitrary rotations.

Pure software playback of video looks like a slideshow on the XO, or any
device with similar CPU power, achieving 1 or 2 fps.  However, these
devices typically have a 2D graphics chip that provides &quot;video overlay&quot;
acceleration: 1-bit alpha, YUV-&gt;RGB, and simple scaling, all in
special-purpose hardware.**  Using the overlay (via XVideo on Linux)
allows smooth, full-speed playback.

THE QUESTION:
What is the recommended way to handle the &lt;video&gt; tag on such hardware?

There are two obvious solutions:
0. Implement the spec, and just let it be really slow.
1. Attempt to approximate the correct behavior, given the limitations of
the hardware.  Make the video appear where it's supposed to appear, and
use the 1-bit alpha (dithered?) to blend static items over it.  Ignore
transparency of the video.  Ignore rotations, etc.
2. Ignore the HTML context.  Show the video &quot;in manners more suitable to
the user (e.g. full-screen or in an independent resizable window)&quot;.

Which is preferable?  Is it worth specifying a preferred behavior?

Thanks for your input,
Ben Schwartz

*: Contrary to popular belief, OLPC is not dead.  Over 500,000 XOs have
been delivered, and another 500,000 are on backorder, being manufactured
at full capacity.  They all have Theora and Gecko installed.

**: Anyone who has owned a desktop PC without a 3D accelerator likely has
experienced this system.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.9 (GNU/Linux)

iEYEARECAAYFAknNrj4ACgkQUJT6e6HFtqSLVwCgkrJP1mCMsFugNW91/7rRfzcl
KtkAn3t2rkLR+pZHDsoG1b6/bTp3Yctu
=MTxx
-----END PGP SIGNATURE-----
</PRE>






















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019074.html">[whatwg] URL decomposition on HTMLAnchorElement interface
</A></li>
	<LI>Next message: <A HREF="019067.html">[whatwg] &lt;video&gt; and acceleration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19064">[ date ]</a>
              <a href="thread.html#19064">[ thread ]</a>
              <a href="subject.html#19064">[ subject ]</a>
              <a href="author.html#19064">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
