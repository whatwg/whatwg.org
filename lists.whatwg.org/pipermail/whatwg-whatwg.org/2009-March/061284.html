<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20feedback&In-Reply-To=%3CPine.LNX.4.62.0903250525590.25082%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061113.html">
   <LINK REL="Next"  HREF="061298.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas feedback</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20feedback&In-Reply-To=%3CPine.LNX.4.62.0903250525590.25082%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Canvas feedback">ian at hixie.ch
       </A><BR>
    <I>Wed Mar 25 00:11:30 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061113.html">[whatwg] Canvas ImageData with HSL values.
</A></li>
        <LI>Next message: <A HREF="061298.html">[whatwg] Canvas feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61284">[ date ]</a>
              <a href="thread.html#61284">[ thread ]</a>
              <a href="subject.html#61284">[ subject ]</a>
              <a href="author.html#61284">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 13 Mar 2009, Hans Schmucker wrote:
&gt;<i>
</I>&gt;<i> This problem recently became apparent while trying to process a public 
</I>&gt;<i> video on tinyvid.tv:
</I>&gt;<i> 
</I>&gt;<i> In article 4.8.11.3 &quot;Security with canvas elements&quot;, the origin-clean 
</I>&gt;<i> flag is only set depending on an element's origin. However there are 
</I>&gt;<i> many scenarios where an image/video may actually be public and actively 
</I>&gt;<i> allowing processing on other domains (as indicated by 
</I>&gt;<i> Access-Control-Allow-Origin).
</I>&gt;<i> 
</I>&gt;<i> Is this an oversight or is there a specific reason why Access Control 
</I>&gt;<i> for Cross-Site Requests should not work for Canvas?
</I>
I'm waiting for CORS to be a proven technology before using it widely in 
HTML. I think eventually it will be plugged into several features, 
including canvas and video, but for now it seems safer to wait and see.


On Sat, 14 Mar 2009, Hans Schmucker wrote:
&gt;<i>
</I>&gt;<i> Question is: what would be the best way to fix it? Of course the spec 
</I>&gt;<i> could be changed for video and image, but wouldn't it be simpler to 
</I>&gt;<i> update the defintion of origins to include patterns that can represent 
</I>&gt;<i> allow rules?
</I>
On Sat, 14 Mar 2009, Robert O'Callahan wrote:
&gt;<i> 
</I>&gt;<i> I don't think changing the definition of origins is the right way to go.
</I>
I agree with Rob that we don't want to be changing the 'origin' concept. 
It's brittle enough as it is.


&gt;<i> It seems better to define a category of &quot;public&quot; resources, specify that 
</I>&gt;<i> a resource served with &quot;Access-Control-Allow-Origin: *&quot; is &quot;public&quot;, and 
</I>&gt;<i> have &lt;canvas&gt; treat public resources specially.
</I>
I don't think we need &quot;public&quot; resources, just resources that have been 
allowed and resources that haven't (like with &lt;video&gt;). But this, IMHO, 
can wait for a while longer, until we have tested CORS with a few 
technologies and proved that it is a good technology.


On Sat, 14 Mar 2009, Biju wrote:
&gt;<i> 
</I>&gt;<i> Just like canvas.getImageData() and canvas.putImageData()
</I>&gt;<i>
</I>&gt;<i> Why canvas.getImageHSLData() and canvas.putImageHSLData() API are 
</I>&gt;<i> not provide? Is it something discussed and planned not have?
</I>
In practice user agents actually store image data as memory buffers of 
RGBA data, so handling RGBA data is (or at least can be) extremely 
efficient. HSLA data is not a native type, so it would be an inefficient 
type to provide native access to.

In practice, if you need to work in the HSLA space, then you should 
convert the data to HSLA and back manually, which would highlight the 
performance bottleneck implied in such an approach. Alternatively, convert 
whatever algorithms you are using to work in the RGBA space.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061113.html">[whatwg] Canvas ImageData with HSL values.
</A></li>
	<LI>Next message: <A HREF="061298.html">[whatwg] Canvas feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61284">[ date ]</a>
              <a href="thread.html#61284">[ thread ]</a>
              <a href="subject.html#61284">[ subject ]</a>
              <a href="author.html#61284">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
