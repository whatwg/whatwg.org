<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Accessing cookies from workers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Accessing%20cookies%20from%20workers&In-Reply-To=%3C63df84f0903051711w6dde8c79j9623d7d227f3ca11%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018703.html">
   <LINK REL="Next"  HREF="018705.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Accessing cookies from workers</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Accessing%20cookies%20from%20workers&In-Reply-To=%3C63df84f0903051711w6dde8c79j9623d7d227f3ca11%40mail.gmail.com%3E"
       TITLE="[whatwg] Accessing cookies from workers">jonas at sicking.cc
       </A><BR>
    <I>Thu Mar  5 17:11:34 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="018703.html">[whatwg] Accessing cookies from workers
</A></li>
        <LI>Next message: <A HREF="018705.html">[whatwg] Accessing cookies from workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18704">[ date ]</a>
              <a href="thread.html#18704">[ thread ]</a>
              <a href="subject.html#18704">[ subject ]</a>
              <a href="author.html#18704">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Mar 5, 2009 at 3:02 PM, Drew Wilson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">atwilson at google.com</A>&gt; wrote:
&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> There's currently no way to set or get cookies from workers, which makes
</I>&gt;<i> various types of cookie-based operations problematic.
</I>&gt;<i>
</I>&gt;<i> I'd like to suggest that we add an API to workers to support this, via a
</I>&gt;<i> &quot;cookie&quot; attribute on the WorkerGlobalScope interface. This cookie attribute
</I>&gt;<i> would act like the document.cookie attribute from page context.
</I>&gt;<i>
</I>&gt;<i> When setting cookies, the cookie path would default to the path of the
</I>&gt;<i> script associated with the worker. Likewise, the cookie domain would default
</I>&gt;<i> to the domain of the worker itself (i.e. self.location.hostname).
</I>&gt;<i>
</I>&gt;<i> So, as an example:
</I>&gt;<i>
</I>&gt;<i> &#160;&#160;&#160; var allCookies = self.cookie;
</I>&gt;<i> &#160;&#160;&#160; self.cookie='root_cookie=value;path=/;domain=.example.com';
</I>&gt;<i>
</I>&gt;<i> An alternative would be to have explicit getAllCookies() and setCookie()
</I>&gt;<i> APIs, if we don't like carrying over the document.cookie paradigm.
</I>&gt;<i>
</I>&gt;<i> Any thoughts?
</I>
Allowing cookie to be set would unfortunately create a synchronous
communication channel between the worker and the main window. This is
something that we need to avoid to prevent users from having to deal
with locking and other thread related issues.

For what it's worth, this is a problem that exists with the
localStorage API that is also exposed in current workers draft.
Something that also needs to be fixed.

It seems like it should fine to allow reading cookies in dedicated
workers though.

/ Jonas
</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018703.html">[whatwg] Accessing cookies from workers
</A></li>
	<LI>Next message: <A HREF="018705.html">[whatwg] Accessing cookies from workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18704">[ date ]</a>
              <a href="thread.html#18704">[ thread ]</a>
              <a href="subject.html#18704">[ subject ]</a>
              <a href="author.html#18704">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
