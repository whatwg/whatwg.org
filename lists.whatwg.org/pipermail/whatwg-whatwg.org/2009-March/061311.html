<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] AppCache and SharedWorkers?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20AppCache%20and%20SharedWorkers%3F&In-Reply-To=%3C5200C0C9-8251-4582-BAB4-2E6E4CE9F811%40webkit.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061306.html">
   <LINK REL="Next"  HREF="061334.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] AppCache and SharedWorkers?</H1>
<!--htdig_noindex-->
    <B>Alexey Proskuryakov</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20AppCache%20and%20SharedWorkers%3F&In-Reply-To=%3C5200C0C9-8251-4582-BAB4-2E6E4CE9F811%40webkit.org%3E"
       TITLE="[whatwg] AppCache and SharedWorkers?">ap at webkit.org
       </A><BR>
    <I>Fri Mar 27 00:44:07 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061306.html">[whatwg] AppCache and SharedWorkers?
</A></li>
        <LI>Next message: <A HREF="061334.html">[whatwg] Worker feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61311">[ date ]</a>
              <a href="thread.html#61311">[ thread ]</a>
              <a href="subject.html#61311">[ subject ]</a>
              <a href="author.html#61311">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On 27.03.2009, at 0:16, Drew Wilson wrote:

&gt;<i> Are you suggesting that user agents may want to require explicit  
</I>&gt;<i> user permission when any application invokes  
</I>&gt;<i> ApplicationCache.update()? That might be a reasonable approach if a  
</I>&gt;<i> given user agent wants to enforce some kind of &quot;no silent update&quot;  
</I>&gt;<i> policy...
</I>

Asking for permission each time will condition users to click &quot;Allow&quot;  
without thinking, which will be just a nuisance. But the big  
difference between normal offline applications and persistent workers  
as proposed is that the user explicitly starts the application in a  
browser window - either by opening an URL, or using a desktop link. On  
the other hand, a persistent worker &quot;would be started up on every  
subsequent invocation of the user agent until it has been killed&quot;.

Besides, application cache update is usually triggered by simply  
opening a document from the cache, not by an explicit update() call.  
See 5.8.6 (the application cache selection algorithm): &quot;If document  
was loaded from an application cache&lt;...&gt; Invoke the application cache  
update process for that cache and with the browsing context being  
navigated.&quot; So, if you have e.g. a worker that checks google.com e- 
mail and updates a status icon with the number of unread messages,  
then it will be updated whenever the user goes to read the mail online  
(assuming the worker source lives in the same cache as the application  
itself, which I think makes sense).

Thus, I think that the way for a persistent worker to manipulate the  
cache is by opening a browser window with an HTML document.

- WBR, Alexey Proskuryakov



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061306.html">[whatwg] AppCache and SharedWorkers?
</A></li>
	<LI>Next message: <A HREF="061334.html">[whatwg] Worker feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61311">[ date ]</a>
              <a href="thread.html#61311">[ thread ]</a>
              <a href="subject.html#61311">[ subject ]</a>
              <a href="author.html#61311">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
