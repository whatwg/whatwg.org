<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas - toTempURL - A dangerous proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20-%20toTempURL%20-%20A%20dangerous%20proposal&In-Reply-To=%3C49CD6DD2.6030105%40jumis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019056.html">
   <LINK REL="Next"  HREF="019070.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas - toTempURL - A dangerous proposal</H1>
<!--htdig_noindex-->
    <B>Charles Pritchard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20-%20toTempURL%20-%20A%20dangerous%20proposal&In-Reply-To=%3C49CD6DD2.6030105%40jumis.com%3E"
       TITLE="[whatwg] Canvas - toTempURL - A dangerous proposal">chuck at jumis.com
       </A><BR>
    <I>Fri Mar 27 17:22:42 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019056.html">[whatwg] Canvas - toTempURL - A dangerous proposal
</A></li>
        <LI>Next message: <A HREF="019070.html">[whatwg] Canvas - toTempURL - A dangerous proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19057">[ date ]</a>
              <a href="thread.html#19057">[ thread ]</a>
              <a href="subject.html#19057">[ subject ]</a>
              <a href="author.html#19057">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Having thought a little more about it (thank you for the feedback),
returning a reference to a custom URL handler (up to the implementation)
would resolve the security issues.

toTempURL returning...  <A HREF="customHandler://randomData.png">customHandler://randomData.png</A> [any kind of 
reference],
would work in the legacy platforms we're targeting, while allowing us 
the flexibility
of deciding just how to store the data (be it in RAM, or in an unknown 
temporary file).

Amending my proposal:
* toTempURL shall not return a direct reference to the user's hard drive 
(nor temporary files).

The entire implementation of the URL string shall be up to the platform 
designer,
taking necessary security precautions. The output of toTempURL would not
not be guaranteed to be persistent for any length of time, nor have other
access guarantees.



Boris Zbarsky wrote:
&gt;<i> Charles Pritchard wrote:
</I>&gt;&gt;<i> The draw back of this scheme is that Canvas can now write to a users 
</I>&gt;&gt;<i> hard drive.
</I>&gt;&gt;<i> A Denial of Service exploit could run toTempURL in an infinite loop, 
</I>&gt;&gt;<i> filling up
</I>&gt;&gt;<i> the users temporary files directory until the browser puts a stop to 
</I>&gt;&gt;<i> the sillyness.
</I>&gt;<i>
</I>&gt;<i> Even worse, doesn't this allow placement of known bytes in a known 
</I>&gt;<i> location on the user's hard drive without the user's knowledge?  
</I>&gt;<i> That's an excellent first step in an exploit; I would be loath to 
</I>&gt;<i> implement something like that in a browser...
</I>&gt;<i>
</I>&gt;<i> -Boris
</I>
</PRE>






















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019056.html">[whatwg] Canvas - toTempURL - A dangerous proposal
</A></li>
	<LI>Next message: <A HREF="019070.html">[whatwg] Canvas - toTempURL - A dangerous proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19057">[ date ]</a>
              <a href="thread.html#19057">[ thread ]</a>
              <a href="subject.html#19057">[ subject ]</a>
              <a href="author.html#19057">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
