<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas - toTempURL - A dangerous proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20-%20toTempURL%20-%20A%20dangerous%20proposal&In-Reply-To=%3C49CD6382.8030202%40jumis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019072.html">
   <LINK REL="Next"  HREF="019056.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas - toTempURL - A dangerous proposal</H1>
<!--htdig_noindex-->
    <B>Charles Pritchard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20-%20toTempURL%20-%20A%20dangerous%20proposal&In-Reply-To=%3C49CD6382.8030202%40jumis.com%3E"
       TITLE="[whatwg] Canvas - toTempURL - A dangerous proposal">chuck at jumis.com
       </A><BR>
    <I>Fri Mar 27 16:38:42 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019072.html">[whatwg] Canvas Shadows - Unnecessary Barrier to Entry
</A></li>
        <LI>Next message: <A HREF="019056.html">[whatwg] Canvas - toTempURL - A dangerous proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19055">[ date ]</a>
              <a href="thread.html#19055">[ thread ]</a>
              <a href="subject.html#19055">[ subject ]</a>
              <a href="author.html#19055">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>toTempURL( format ) returns &lt;string&gt; temporary file path.

I'd like to solicit feedback from the community about a work-around 
we're [likely] including
in one of our Internet Explorer Canvas implementations.

Legacy clients may have terrible support for extensibility. I think we 
know which clients I'm referring to.
toDataURL is a wonderful, powerful tool and we love it.

However, with some HTML consumers, base 64 encoded images are not usable 
in the global scope.
To get around this, we are using toTempURL(), to save an image to the 
local Temporary Internet files directory.

Then, we can do &lt;img src=&quot;&quot;&gt;, or set CSS background: url's, and do other 
such wonderful things.
In browsers that support base64 encoding, we simply have toTempURL 
aliased to toDataURL();

The draw back of this scheme is that Canvas can now write to a users 
hard drive.
A Denial of Service exploit could run toTempURL in an infinite loop, 
filling up
the users temporary files directory until the browser puts a stop to the 
sillyness.

The temporary files directory is intended to be used, to store temporary 
internet files.
But its use (as far as I know) is limited by the client's available 
bandwidth.
With toTempURL, its use (in Megs/Second) would only be limited by the 
client's
computing speed (and hopefully, the browser).

I'd like some feedback. I'd like a decent method of limiting a DOS 
exploit of toTempURL()
while proposing it as a possible extension to the standard.


-Charles
</PRE>





















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019072.html">[whatwg] Canvas Shadows - Unnecessary Barrier to Entry
</A></li>
	<LI>Next message: <A HREF="019056.html">[whatwg] Canvas - toTempURL - A dangerous proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19055">[ date ]</a>
              <a href="thread.html#19055">[ thread ]</a>
              <a href="subject.html#19055">[ subject ]</a>
              <a href="author.html#19055">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
