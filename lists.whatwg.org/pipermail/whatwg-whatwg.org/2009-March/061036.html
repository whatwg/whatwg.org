<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Accessing cookies from workers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Accessing%20cookies%20from%20workers&In-Reply-To=%3C63df84f0903091655n538bdc00hf80ba79fa9e70486%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061029.html">
   <LINK REL="Next"  HREF="061038.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Accessing cookies from workers</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Accessing%20cookies%20from%20workers&In-Reply-To=%3C63df84f0903091655n538bdc00hf80ba79fa9e70486%40mail.gmail.com%3E"
       TITLE="[whatwg] Accessing cookies from workers">jonas at sicking.cc
       </A><BR>
    <I>Mon Mar  9 16:55:42 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061029.html">[whatwg] Accessing cookies from workers
</A></li>
        <LI>Next message: <A HREF="061038.html">[whatwg] Accessing cookies from workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61036">[ date ]</a>
              <a href="thread.html#61036">[ thread ]</a>
              <a href="subject.html#61036">[ subject ]</a>
              <a href="author.html#61036">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Mar 9, 2009 at 11:46 AM, Giovanni Campagna
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">scampa.giovanni at gmail.com</A>&gt; wrote:
&gt;<i> 2009/3/9 Jonas Sicking &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonas at sicking.cc</A>&gt;:
</I>&gt;&gt;<i> On Mon, Mar 9, 2009 at 11:26 AM, Giovanni Campagna
</I>&gt;&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">scampa.giovanni at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> 2009/3/9 Jonas Sicking &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonas at sicking.cc</A>&gt;:
</I>&gt;&gt;&gt;&gt;<i> On Mon, Mar 9, 2009 at 11:01 AM, Giovanni Campagna
</I>&gt;&gt;&gt;&gt;&gt;<i> This can be even worse: how would you syncronize the code in the
</I>&gt;&gt;&gt;&gt;&gt;<i> callback with code right after the call? You don't have any of
</I>&gt;&gt;&gt;&gt;&gt;<i> semaphores or mutexes in ES and I don't expect them to be added soon.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I'm not sure I understand the problem you are describing. Could you
</I>&gt;&gt;&gt;&gt;<i> show an example using the APIs that exist in the spec today and with
</I>&gt;&gt;&gt;&gt;<i> an async cookie API added?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> var x = 7;
</I>&gt;&gt;&gt;<i> function callback(cookies) {
</I>&gt;&gt;&gt;<i> x = 5;
</I>&gt;&gt;&gt;<i> }
</I>&gt;&gt;&gt;<i> getAllCookies(callback);
</I>&gt;&gt;&gt;<i> alert(x == 7);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> True. The callback can't happen in the middle of executing code.
</I>&gt;&gt;<i> Javascript uses a run-to-completion model.
</I>&gt;<i>
</I>&gt;<i> 1) what does that mean?
</I>
Sorry, i was unclear. The above program will always alert 'true'.

This happens because the callback doesn't fire until the current run
of javascript is finished executing. I.e. until the current event is
done executing.

&gt;<i> the code is executed in certain specific moments (when the thread is
</I>&gt;<i> waiting on a native call)
</I>&gt;<i> // doesn't seem very reliable, unless we specify what &quot;native call&quot; means
</I>
So something like this yes. We do need to specify what &quot;native call&quot;
means yes. The HTML5 spec does this as it is defining the runtime
environment for script execution.

&gt;<i> 2) where is that specified?
</I>&gt;<i> I don't remember if the original Ecma262 has something about asyncronous calls
</I>
This area is in general woefully under specified by W3C. The HTML5
spec is the first attempt at specifying this.

&gt;<i> and most important
</I>&gt;<i> 3) why it did actually happen in my code? (using an async XHR)
</I>
Not sure what you are saying here. Do you have example code.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061029.html">[whatwg] Accessing cookies from workers
</A></li>
	<LI>Next message: <A HREF="061038.html">[whatwg] Accessing cookies from workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61036">[ date ]</a>
              <a href="thread.html#61036">[ thread ]</a>
              <a href="subject.html#61036">[ subject ]</a>
              <a href="author.html#61036">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
