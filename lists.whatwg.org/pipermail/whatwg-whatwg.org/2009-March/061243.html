<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] localStorage + worker processes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20localStorage%20%2B%20worker%20processes&In-Reply-To=%3C11e306600903231424h3470b275y5e53752bfcf69297%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061242.html">
   <LINK REL="Next"  HREF="061245.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] localStorage + worker processes</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20localStorage%20%2B%20worker%20processes&In-Reply-To=%3C11e306600903231424h3470b275y5e53752bfcf69297%40mail.gmail.com%3E"
       TITLE="[whatwg] localStorage + worker processes">robert at ocallahan.org
       </A><BR>
    <I>Mon Mar 23 14:24:47 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061242.html">[whatwg] localStorage + worker processes
</A></li>
        <LI>Next message: <A HREF="061245.html">[whatwg] localStorage + worker processes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61243">[ date ]</a>
              <a href="thread.html#61243">[ thread ]</a>
              <a href="subject.html#61243">[ subject ]</a>
              <a href="author.html#61243">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Mar 24, 2009 at 7:41 AM, Jeremy Orlow &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jorlow at google.com</A>&gt; wrote:

&gt;<i> One thing that hasn't been considered yet is some sort of optional hint to
</I>&gt;<i> say &quot;I'm done&quot; in terms of accessing localStorage.  Maybe call it
</I>&gt;<i> localStorage.checkpoint() or localStroage.commit()?
</I>&gt;<i>
</I>&gt;<i> As far as the browser implemenation is concerned, a call to this function
</I>&gt;<i> would be the same as the script ending.  The great thing about this is that
</I>&gt;<i> if a developer found one problem location in their code, they could add
</I>&gt;<i> it--but it'd be completely optional.
</I>&gt;<i>
</I>
You mean if they find a performance problem due to overlarge lock scope?

That's not a terrible idea. It certainly makes far more sense to be safe by
default and add constructs and code to gain a bit more parallelism, than to
be unsafe and parallel by default and have to add constructs and code to get
safety.

I'm not sure what the semantics of a standalone &quot;commit()&quot; would be, though.
I think a better construct might be some sort of &quot;yield&quot; which explicitly
returns to a (nested) browser event loop and basically acts as a script
completion point. Even browsers that only use a single thread can run the
event loop there so that testing in those browsers will reveal bugs.

Rob
-- 
&quot;He was pierced for our transgressions, he was crushed for our iniquities;
the punishment that brought us peace was upon him, and by his wounds we are
healed. We all, like sheep, have gone astray, each of us has turned to his
own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
53:5-6]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090324/58a4eb28/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090324/58a4eb28/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061242.html">[whatwg] localStorage + worker processes
</A></li>
	<LI>Next message: <A HREF="061245.html">[whatwg] localStorage + worker processes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61243">[ date ]</a>
              <a href="thread.html#61243">[ thread ]</a>
              <a href="subject.html#61243">[ subject ]</a>
              <a href="author.html#61243">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
