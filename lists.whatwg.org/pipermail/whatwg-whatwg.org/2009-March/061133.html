<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas origin-clean should not ignore Access Control	for Cross-Site Requests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20origin-clean%20should%20not%20ignore%20Access%20Control%0A%09for%20Cross-Site%20Requests&In-Reply-To=%3Cf7458d480903160607p27dd1a9cg13c2adde71383f2%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061132.html">
   <LINK REL="Next"  HREF="061134.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas origin-clean should not ignore Access Control	for Cross-Site Requests</H1>
<!--htdig_noindex-->
    <B>Hans Schmucker</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20origin-clean%20should%20not%20ignore%20Access%20Control%0A%09for%20Cross-Site%20Requests&In-Reply-To=%3Cf7458d480903160607p27dd1a9cg13c2adde71383f2%40mail.gmail.com%3E"
       TITLE="[whatwg] Canvas origin-clean should not ignore Access Control	for Cross-Site Requests">hansschmucker at gmail.com
       </A><BR>
    <I>Mon Mar 16 06:07:38 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061132.html">[whatwg] Canvas origin-clean should not ignore Access Control for Cross-Site Requests
</A></li>
        <LI>Next message: <A HREF="061134.html">[whatwg] Canvas origin-clean should not ignore Access Control for Cross-Site Requests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61133">[ date ]</a>
              <a href="thread.html#61133">[ thread ]</a>
              <a href="subject.html#61133">[ subject ]</a>
              <a href="author.html#61133">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;&gt;<i> So, where would you put it? The problem for me is that there's no
</I>&gt;&gt;<i> logical grouping of elements that load offsite resources (like img,
</I>&gt;&gt;<i> script, link, video, ...) where one could add the necessary
</I>&gt;&gt;<i> attributes. All off them descend directly from HTMLElement. So there
</I>&gt;&gt;<i> would be two routes: Either making all elements that load offsite data
</I>&gt;&gt;<i> descend from a common HTMLRemotelyFedElement interface (which seems
</I>&gt;&gt;<i> like the right way to do things, but it's also IMHO completely
</I>&gt;&gt;<i> unrealistic as it would either require reworking the DOM top to bottom
</I>&gt;&gt;<i> or including ugly hacks) or adding the necessary attributes to
</I>&gt;&gt;<i> HTMLElement itself... which seems like asking for trouble.
</I>&gt;<i>
</I>&gt;<i> Why does the DOM need to get involved here?
</I>
Well it should be involved, although I don't think we can actually do
it. I think the CORS header response should be stored and be available
the same way across all DOM elements that can load data. If that would
be provided by a special interface from which all elements that load
data descend, it would not only make the whole thing cleaner in the
spec, but also in the implementations. Instead of an UA supporting
first XHR, then image, then video, then XY, the status of the
implementation would be identical in all parts of the UA. Basically,
it would force implementations to create the CORS dom support with a
common codebase for all elements that use it, instead of having
duplicate code which might behave differently.


&gt;&gt;<i> Then there's the (IMHO) despicable way of just writing a random
</I>&gt;&gt;<i> chapter about it and referencing that chapter in the spec wherever
</I>&gt;&gt;<i> appropriate. Feels very, very wrong, but I don't think we have much
</I>&gt;&gt;<i> choice here.
</I>&gt;<i>
</I>&gt;<i> I don't see how this is wrong. Since the exact semantics of a cross-origin
</I>&gt;<i> request vary per API anyway grouping the common things somewhere makes sense
</I>&gt;<i> to me. (E.g. EventSource would completely fail in case the resource sharing
</I>&gt;<i> check fails where as an image would still be displayed.)
</I>
Reading this again the next morning I really should have worded that
differently. Sorry about that. But I'm really afraid JS developers, in
addition to catching different behaviours in different UAs would also
have to deal with different behaviour inside the same UA. Yes, the
actual use would be different across different cases, but at least the
raw data would be readable the same way and the parts that implement
the different uses would have a standardized to where to get their
data from.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061132.html">[whatwg] Canvas origin-clean should not ignore Access Control for Cross-Site Requests
</A></li>
	<LI>Next message: <A HREF="061134.html">[whatwg] Canvas origin-clean should not ignore Access Control for Cross-Site Requests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61133">[ date ]</a>
              <a href="thread.html#61133">[ thread ]</a>
              <a href="subject.html#61133">[ subject ]</a>
              <a href="author.html#61133">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
