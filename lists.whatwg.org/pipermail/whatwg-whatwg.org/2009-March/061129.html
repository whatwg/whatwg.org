<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;time&gt; (apparantly o)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Ctime%3E%20%28apparantly%20o%29&In-Reply-To=%3C22c1222d0903151607l77f0775fh6c1552d11b748a68%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061130.html">
   <LINK REL="Next"  HREF="061137.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;time&gt; (apparantly o)</H1>
<!--htdig_noindex-->
    <B>Tom Duhamel</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Ctime%3E%20%28apparantly%20o%29&In-Reply-To=%3C22c1222d0903151607l77f0775fh6c1552d11b748a68%40mail.gmail.com%3E"
       TITLE="[whatwg] &lt;time&gt; (apparantly o)">tom420.duhamel at gmail.com
       </A><BR>
    <I>Sun Mar 15 16:07:15 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061130.html">[whatwg] Fwd: &lt;time&gt;
</A></li>
        <LI>Next message: <A HREF="061137.html">[whatwg] &lt;time&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61129">[ date ]</a>
              <a href="thread.html#61129">[ thread ]</a>
              <a href="subject.html#61129">[ subject ]</a>
              <a href="author.html#61129">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>[I left Robert's replies in, even those I didn't have anything to reply to,
because Robert originally sent the message only to me (off-list).]

On Sun, Mar 15, 2009 at 4:36 PM, Robert J Burns &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">rob at robburns.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> - Allow only extended format: 2009-03-14 (rather than 20090314) which will
</I>&gt;&gt;&gt;<i> help with simplification and future extensions
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This may be more controversial. I think we could allow the omission of
</I>&gt;&gt;<i> hyphens for years of four digits. Others have contended that we might also
</I>&gt;&gt;<i> allow the omission of hyphens always if we omit support for ordinal dates
</I>&gt;&gt;<i> (e.g., YYYY-DDD).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I don't see a use case for YYYY-DDD, and haven't seen anyone propose one
</I>&gt;<i> yet. I really believe that would be of no use for us. However, see my
</I>&gt;<i> comment below about why I think extended format should be mandatory.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Neither do I really. I was simply raising the issue because someone else
</I>&gt;<i> said they wanted hyphens to be optional (I don't recall which message or who
</I>&gt;<i> composed it at the moment).
</I>&gt;<i>
</I>
&gt;<i>
</I>&gt;<i> Again I do not claim any expertise here, but I was always told astronomers
</I>&gt;<i> use the year 0 because it makes calculations easier. They don't use BC or AD
</I>&gt;<i> notation, but instead use positive and negative signs (+2009, -54...). They
</I>&gt;<i> do decal from historic dates. That is, what they call year -1 is what
</I>&gt;<i> historians call 2BC.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> OK, I see what you mean. That's a fine approach as long as we're clear how
</I>&gt;<i> the under the hood encoding of dates maps to the human-consumable dates
</I>&gt;<i> which will be expressed in terms of AD and BC (or CE and BCE). The only
</I>&gt;<i> concern I have with that approach is that I think authors will often make
</I>&gt;<i> errors: for example, using -0007 to designate 7 BC instead of 8 BC.
</I>&gt;<i>
</I>
That is the issue I see with this now. This approach (0000 = 1BC, 0001 =
2BC) is the one that looks, but yes I foresee frequent among authors. If we
do allow year 0000 but do not introduce a decal (0001 = 1AD, 0000 = nothing,
-0001 = 1BC) we introduce a complication for programs which are going to
extract the data for calculations. If we forbid year 0, then we are
restricting some authors from using, and we still introduce the problem from
the previous sentence.


&gt;<i>
</I>&gt;<i>
</I>&gt;<i> For a starter: <A HREF="http://en.wikipedia.org/wiki/Year_0">http://en.wikipedia.org/wiki/Year_0</A>
</I>&gt;<i> (Before someone debates over Wikipedia, I have never considered Wikipedia
</I>&gt;<i> as THE reference, but always thought it was a good starting point, from
</I>&gt;<i> which one serious enough can go an do more researches.)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  What if year 0 is accepted as a valid date for the purpose of HTML, and
</I>&gt;&gt;&gt;<i> then not used by authors? It would become available for those authors who
</I>&gt;&gt;&gt;<i> use year 0, and ignored by others. Whats the implication?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If I understand current proleptic Gregorian calendar use correctly (such
</I>&gt;&gt;<i> as that used by astronomers) the implication is that HTML will not match the
</I>&gt;&gt;<i> other uses of that calendar. ISO 8601 has unambiguous leap year rules which
</I>&gt;&gt;<i> are to be applied to 000 and negative years as well. If we accept year 0,
</I>&gt;&gt;<i> then -0001 would mean 2 BC. That's fine, but we need to make it clear to
</I>&gt;&gt;<i> authors and there's some concern authors would make the mistake of thinking
</I>&gt;&gt;<i> -0001 was instead 1 BC.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  HTML parser does not perform math over dates, it merely displays
</I>&gt;&gt;&gt;<i> information based on what an author instructed.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> However, if the UA displays the information in a non-machine readable
</I>&gt;&gt;<i> form, how does it make that conversion for presentation purposes. Does
</I>&gt;&gt;<i> 0000-01-01 get displayed as 1 January 1 BC? Or as 1 January 00?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Since I always thought of HTML as a method of enclosing content for the
</I>&gt;<i> purpose of display only, my thinking was that it was not important whether
</I>&gt;<i> or not year 0 existed or not. I thought that an author would put -54-03-17
</I>&gt;<i> and the user agent would show &quot;March 17th, 54 BC&quot;. Then if one decides he
</I>&gt;<i> likes the year 0, he would put 0000-12-25 and the user agent would print
</I>&gt;<i> &quot;December 25th, 0&quot;. The browser would just print what we told him to print,
</I>&gt;<i> without an actual understanding of what it means.
</I>&gt;<i>
</I>&gt;<i> But after reading your comments above and below (in particular the place
</I>&gt;<i> where you mention the possible use of a HTML file for something other than
</I>&gt;<i> displaying to a reader), and checking a few more pages on the web, I now
</I>&gt;<i> understand it does in fact matter whether or not a year 0 is used.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yeah, the main purpose of the 'datetime' attribute and the ISO 8601-like
</I>&gt;<i> encoding of dates is for extraction and use elsewhere. The contents of the
</I>&gt;<i> 'time' element are simply displayed. I would like to see the 'datetime' also
</I>&gt;<i> used for localized dates regardless, using CSS or another presentational
</I>&gt;<i> mechanism. However, obviously that's not a part of the HTML5 project (at
</I>&gt;<i> least not currently). However, there's really no reason to encode the dates
</I>&gt;<i> in the 'datetime' attribute unless it can be extracted and used in a precise
</I>&gt;<i> machine-consumable form. Supplementing the date with a keyword prefix or
</I>&gt;<i> suffix permits even more precise date representation.
</I>&gt;<i>
</I>
Here is how I would like to see user agents implement the &lt;time&gt; element:

This software was released on &lt;time datetime='2009-02-15'&gt;February 15th,
2009&lt;/time&gt;.
This software was released &lt;time datetime='2009-02-15'&gt;just a month
ago&lt;/time&gt;.
This software was released on &lt;time datetime='2009-02-15'&gt;15/02/09&lt;/time&gt;.

In either of these cases, the content is printed on the correct location in
the sentence. When you hover the mouse, a tool tip pop up with the text
&quot;February 15th, 2009&quot; or a similar string configured in the user agent
preferences or the OS preferences. The date might be decorated in a way
similar to &lt;abbr&gt;.

This software was released on &lt;time datetime='2009-03-15'&gt;.

In this case, the entire &lt;time&gt; tag is replaced by the string &quot;February
15th, 2009&quot; or equivalent, as above. In this case I'm not sure a tool tip
would be any useful.


&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  Here his the only debate I see over this:
</I>&gt;&gt;&gt;<i> ISO 8601:2000 and above suggest that year 0000 be used and be considered
</I>&gt;&gt;&gt;<i> year 1 BC, and then -0001 is 2 BC, etc.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Could you cite specifically where you get that from ISO 8601:2000? I'm
</I>&gt;&gt;<i> looking at ISO 8601:2004 and don't see a clear indication of that anywhere.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Actually never mind this. I have never read the actual ISO, but rather some
</I>&gt;<i> other website which gives a detailed, human readable summary of the ISO. I
</I>&gt;<i> will however read the actual ISO very soon now, as I got an interest in it
</I>&gt;<i> now but haven't had time yet. I will return to that if I then fell the need
</I>&gt;<i> to. I will take that you have actually read the ISO and haven't found a
</I>&gt;<i> mention of year 0.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It references year 0000 in a note, but only to remind that 0000 is a leap
</I>&gt;<i> year according to the leap year rules. It doesn't discuss how it maps to the
</I>&gt;<i> AD/BC human-consumable dates. Nor does it discuss how to interpret negative
</I>&gt;<i> years.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The reason I suggested that we only allow extended version (with hypens),
</I>&gt;<i> is for the following two reasons: Allow both lower granularity dates and
</I>&gt;<i> more than four digit years. If I use the date &quot;99120412&quot;. It is &quot;April 12th,
</I>&gt;<i> 9912&quot; or &quot;April of the year 991204&quot; (lower granularity with no day) or even
</I>&gt;<i> just &quot;The year 991204&quot;? With mandatory hypens, it becomes clear: 9912-04-12
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Personally, I'm fine with that. As I said earlier, someone else (I think
</I>&gt;<i> only one person) objected to requiring hyphens at all when I wanted to
</I>&gt;<i> require hyphens only for the non-four-digit year cases. I think he was
</I>&gt;<i> thinking we should eliminate all of the lower granularity cases (though I do
</I>&gt;<i> not agree).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  - Allow non Gregorian calendars?
</I>&gt;&gt;&gt;<i> There are actually two debates on this issue. One is whether to allow
</I>&gt;&gt;&gt;<i> other calendars as the datetime attribute values, the other is to always
</I>&gt;&gt;&gt;<i> have the datetime attribute value specified as a Gregorian date while adding
</I>&gt;&gt;&gt;<i> a new attribute which would indicate what calendar is used for the content.
</I>&gt;&gt;&gt;<i> I would personally go against the use of any non Gregorian calendar at all,
</I>&gt;&gt;&gt;<i> since I do believe the use cases are too few. However if it is considered
</I>&gt;&gt;&gt;<i> that the use of non Gregorian is to be supported, I would go with the later
</I>&gt;&gt;&gt;<i> solution (allow non Gregorian as the content only, and have the datetime
</I>&gt;&gt;&gt;<i> attribute always defined as a Gregorian date), since that would not put much
</I>&gt;&gt;&gt;<i> complication on the parser (which does not have any calculation/conversion
</I>&gt;&gt;&gt;<i> to perform, leaving that to the author). The new attribute would then be
</I>&gt;&gt;&gt;<i> used by the browser to tell what calendar is used, but the datetime
</I>&gt;&gt;&gt;<i> attribute is still used to indicate to the user the Gregorian equivalent. I
</I>&gt;&gt;&gt;<i> do see too many problems with accepting non Gregorian as the value of the
</I>&gt;&gt;&gt;<i> datetime attribute: too many calendars are way incompatible (try to
</I>&gt;&gt;&gt;<i> represent a Mayan Long Count calendar),...
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We don't need to concern ourselves with how the Mayan Long Count calendar
</I>&gt;&gt;<i> works.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> No we don't but this is an example of a non Gregorian calendar which some
</I>&gt;<i> authors might want to use on a web page
</I>&gt;<i> &lt;time calendar='mayan' datetime='2009-03-14'&gt;12.19.16.3.2&lt;/time&gt;
</I>&gt;<i> &lt;time calendar='mayan' datetime='12.19.16.3.2'&gt;12.19.16.3.2&lt;/time&gt;
</I>&gt;<i> Get what I mean? :)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I see. I wasn't saying we should disallow Mayan Long Count calendar only
</I>&gt;<i> that we could leave it up to another subsequent specification. In that way,
</I>&gt;<i> the following would indicate the date:
</I>&gt;<i>  &lt;time datetime='Mayan_12-19-16-03-02'&gt;12.19.16.3.2&lt;/time&gt;
</I>&gt;<i>
</I>&gt;<i> Since UAs would not be required by the HTML5 recommendation to support the
</I>&gt;<i> keyword &quot;Mayan&quot; (only required to support omitted keyword or keyword
</I>&gt;<i> &quot;Gregorian&quot;), most UAs would simply ignore the machine readable date. Many
</I>&gt;<i> authors would therefore opt to convert the date to Gregorian before encoding
</I>&gt;<i> it. However, due to issues like disputed conversions (like those you raise
</I>&gt;<i> below), HTML5 should support machine readable dates in alternative
</I>&gt;<i> calendars. In other words UAs MUST support Gregorian calendar dates. UAs
</I>&gt;<i> must parse calendar prefix keywords. UAs MUST treat dates without a keyword
</I>&gt;<i> as Gregorian (or with some heuristics to account for mistaken authors). UAs
</I>&gt;<i> MAY support other keywords (which would be associated with subsequent and
</I>&gt;<i> separate specifications). These suggestions therefore do not add any burden
</I>&gt;<i> on HTML5 UAs (except the ability to parse out prefix keywords). However,
</I>&gt;<i> these criteria properly abstract HTML5 to allow support for alternative
</I>&gt;<i> calendars without trampling or conflicting with Gregorian dates.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I think the first case is most easily useable, but I do understand your
</I>&gt;<i> point:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> First of all, the concerns raised are largely over Julian and Revised
</I>&gt;&gt;<i> Julian calendars. Other calendars of concern include Hebrew, Islamic and
</I>&gt;&gt;<i> Buddhist all of which are used today as civil calendars. The other concern
</I>&gt;&gt;<i> is that without clearly defined Gregorian and other calendars (and for some
</I>&gt;&gt;<i> periods in history all of these calendars lack clear standards that map the
</I>&gt;&gt;<i> representation unambiguously to a specific day on the Earth), it is more
</I>&gt;&gt;<i> accurate and precise for authors to encode a date within the precise
</I>&gt;&gt;<i> calendar than to attempt conversion (which is a lossy operation in that
</I>&gt;&gt;<i> case). Conversion is better handled at runtime by UA algorithms that keep
</I>&gt;&gt;<i> constant with the state of standards (but that requires some kind of keyword
</I>&gt;&gt;<i> differentiation of non-Gregorian and even clearly Gregorian dates).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> A mesoamerican historian might prefer to use the mayan long count without
</I>&gt;<i> wanting to convert to a Gregorian date for the purpose of marking up with
</I>&gt;<i> HTML. Also, to cover your other point, the Mayan long count calendar is
</I>&gt;<i> generally aligned on August 11, 3114 BC, but some other historians think
</I>&gt;<i> this date if off by a few days, so perhaps a future generally accepted epoch
</I>&gt;<i> date might be different. All the points to you, your opinions seems very
</I>&gt;<i> reasonable to me. Now my concern is still the same, I wonder how easy it
</I>&gt;<i> would be to implement (actually, I think it would be very difficult). But
</I>&gt;<i> well, I don't disagree that having access to non Gregorian calendars is very
</I>&gt;<i> useful. But here we need to find a way, one which is easier to implement,
</I>&gt;<i> and still easy enough for authors.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I think the keyword prefix (or suffix or separate attribute value) makes
</I>&gt;<i> all of this easy to implement and author. HTML5 UAs would only need to parse
</I>&gt;<i> in such a way that keyword prefixes do not get in the way. HTML5 UAs would
</I>&gt;<i> be required to recognize the &quot;Gregorian&quot; keyword (the meaning of the &quot;Mayan&quot;
</I>&gt;<i> keyword might be defined by another specification, but an HTML5 UA would not
</I>&gt;<i> be required to support it, only to not get tripped up by it or assume it
</I>&gt;<i> preceded a Gregorian date). I don't think expecting UAs to be aware of an
</I>&gt;<i> ignorable keyword prefix is any great implementation difficulty, but it does
</I>&gt;<i> provide a more future-proof design (and is better and clearer for
</I>&gt;<i> authoring).
</I>&gt;<i>
</I>
Wah! Suffixes and/or prefixes are harder to read and add a burden on the
parser, don't they? A new attribute (such as &quot;calendar='julian'&quot;) makes more
sense to me.


&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> What about those 'other calendars of concern'? Are they reasonably
</I>&gt;<i> compatible with Gregorian, or so much different that my example of the Mayan
</I>&gt;<i> long count becomes a good one? I know nothing about those, but I fear it's
</I>&gt;<i> the later.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The reason I was listing those calendars is because they are calendars used
</I>&gt;<i> as civil calendars in contemporary cultures (unlike the Mayan to my
</I>&gt;<i> knowledge). I think this suggests that a specification like HTML5 aimed at
</I>&gt;<i> the Worldwide Web should at least make room for those calendars (even if it
</I>&gt;<i> doesn't define them). To my knowledge the Mayan is rather unique. Most of
</I>&gt;<i> the others require representation much the same as the Gregorian and Julian
</I>&gt;<i> calendars: year, month, day. They might still require a separate
</I>&gt;<i> specification to define what those dates mean, what eras are used, how dates
</I>&gt;<i> before one are handled, and perhaps how they convert to the Gregorian
</I>&gt;<i> calendar (since that is usually the presumed calendar under the hood of any
</I>&gt;<i> operating system). Most of these calendars have more complex rules for year
</I>&gt;<i> and month length than the Gregorian/Julian calendars (though the Egyptian
</I>&gt;<i> calendar is quite simple and is probably the precursor to the Julian and
</I>&gt;<i> Gregorian calendars). So since the representation properties are mostly the
</I>&gt;<i> same for these calendars it is easy to represent them in the form
</I>&gt;<i> KEYWORD_YYYY-MM-DD.
</I>&gt;<i>
</I>&gt;<i> To me ISO 8601 makes two contributions: 1) provides a way to unambiguously
</I>&gt;<i> represent Gregorian dates (though with a keyword added the same method can
</I>&gt;<i> easily be expanded to represent virtually any calendar system date
</I>&gt;<i> imaginable); 2) reiterates the specification of the Gregorian calendar
</I>&gt;<i> already in existence pre ISO. The first contribution can be easily expanded
</I>&gt;<i> to represent dates in any calendar system. The second contribution can
</I>&gt;<i> easily be expanded to 1 AD with little controversy. However, the addition of
</I>&gt;<i> a calendar system keyword allows greater flexibility down the road without
</I>&gt;<i> placing any appreciable burden on UAs today.
</I>&gt;<i>
</I>&gt;<i> Take care,
</I>&gt;<i> Rob
</I>&gt;<i>
</I>

This whole debate over non Gregorian calendars is far from me. I have never
even used dates other than Gregorian in my whole life (that is, before the
discussion on this list) and thus it is very difficult for me to tell what
method is the best one. I do understand there is a need for a method,
though.

&gt;<i>From what you say, and from some more thinking on my part, the following
</I>could make sense:

Have a new attribute to tell what calendar is used. The datetime attribute's
value is a date on the calendar specified in the new attribute. UAs are
required to understand Gregorian (the absence of the new attribute means we
are using Gregorian). They *may* understand other calendar, but only for the
purpose of showing them correctly (or any other task which has nothing to do
with conversion).

Does that make sense? Is it what people need? It is useful? Is it easy to
implement? Do you believe in the Yeti?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090315/54a3aab3/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090315/54a3aab3/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061130.html">[whatwg] Fwd: &lt;time&gt;
</A></li>
	<LI>Next message: <A HREF="061137.html">[whatwg] &lt;time&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61129">[ date ]</a>
              <a href="thread.html#61129">[ thread ]</a>
              <a href="subject.html#61129">[ subject ]</a>
              <a href="author.html#61129">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
