<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Script loading and execution order for importScripts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Script%20loading%20and%20execution%20order%20for%20importScripts&In-Reply-To=%3C63df84f0903080946q209c899ag85ae4012121a6fa6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061013.html">
   <LINK REL="Next"  HREF="061014.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Script loading and execution order for importScripts</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Script%20loading%20and%20execution%20order%20for%20importScripts&In-Reply-To=%3C63df84f0903080946q209c899ag85ae4012121a6fa6%40mail.gmail.com%3E"
       TITLE="[whatwg] Script loading and execution order for importScripts">jonas at sicking.cc
       </A><BR>
    <I>Sun Mar  8 09:46:30 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061013.html">[whatwg] Script loading and execution order for importScripts
</A></li>
        <LI>Next message: <A HREF="061014.html">[whatwg] Script loading and execution order for importScripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61015">[ date ]</a>
              <a href="thread.html#61015">[ thread ]</a>
              <a href="subject.html#61015">[ subject ]</a>
              <a href="author.html#61015">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, Mar 7, 2009 at 10:04 PM, Oliver Hunt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">oliver at apple.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Why do you think it's important not to have side effects for syntax
</I>&gt;<i> errors but don't think it's important to not have side effects for
</I>&gt;<i> run-time errors? Given that we simply can't fix the latter, I don't
</I>&gt;<i> see any advantage to users to attempt to fix the former.
</I>&gt;<i>
</I>&gt;<i> I really don't think optimizing for the case when something has gone
</I>&gt;<i> wrong is the way to go. That is an extremely rare case in a deployed
</I>&gt;<i> application, and so optimizing for performance feels much more
</I>&gt;<i> important to users.
</I>&gt;<i>
</I>&gt;<i> Also considering how applications are likely to handle these errors,
</I>&gt;<i> I.e. full abort and tell user that an unrecoverable error has
</I>&gt;<i> occurred, it doesn't really matter if there have been side effects or
</I>&gt;<i> not.
</I>&gt;<i>
</I>&gt;<i> The primary situation i'm imagining could happen is one script starts
</I>&gt;<i> manipulating a client side database onload (maybe &#160;a&#160;conscious&#160;decision to
</I>&gt;<i> do db work while waiting for io), then the next script fails to load due to
</I>&gt;<i> (say) a network failure, then your left with side effects they may not be
</I>&gt;<i> reasonably recoverable. &#160;Arguably this design should be considered flawed
</I>&gt;<i> anyway, but people tend to test under ideal conditions more often than not.
</I>&gt;<i> &#160;The counter argument is that protecting developers from their own
</I>&gt;<i> foolishness is not a goal.
</I>
In this scenario there is no need to do syntax checking on all scripts
before executing them though, as the random-failure is introduced in
the network layer. So if all scripts successfully load there is no
reason to start running.

But in general I think the scenario you're describing is fairly
unlikely. It seems more likely that pages are importing libraries and
such and do database manipulations from functions called from the main
page.

Put it this way, is the scenario you are describing a problem today
where several &lt;script&gt; tags will cause the first one to execute even
if the second has a network problem?

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061013.html">[whatwg] Script loading and execution order for importScripts
</A></li>
	<LI>Next message: <A HREF="061014.html">[whatwg] Script loading and execution order for importScripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61015">[ date ]</a>
              <a href="thread.html#61015">[ thread ]</a>
              <a href="subject.html#61015">[ subject ]</a>
              <a href="author.html#61015">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
