<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Accessing cookies from workers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Accessing%20cookies%20from%20workers&In-Reply-To=%3C63df84f0903091042x3a172c89odd55cf640e085024%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061020.html">
   <LINK REL="Next"  HREF="061022.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Accessing cookies from workers</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Accessing%20cookies%20from%20workers&In-Reply-To=%3C63df84f0903091042x3a172c89odd55cf640e085024%40mail.gmail.com%3E"
       TITLE="[whatwg] Accessing cookies from workers">jonas at sicking.cc
       </A><BR>
    <I>Mon Mar  9 10:42:42 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061020.html">[whatwg] Accessing cookies from workers
</A></li>
        <LI>Next message: <A HREF="061022.html">[whatwg] Accessing cookies from workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61021">[ date ]</a>
              <a href="thread.html#61021">[ thread ]</a>
              <a href="subject.html#61021">[ subject ]</a>
              <a href="author.html#61021">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Mar 9, 2009 at 10:18 AM, Drew Wilson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">atwilson at google.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> On Sun, Mar 8, 2009 at 9:59 PM, Jonas Sicking &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonas at sicking.cc</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> However a much more interesting question is if sites would break if
</I>&gt;&gt;<i> the above stopped being true. That is most definitely the case.
</I>&gt;<i>
</I>&gt;<i> Agreed - existing behavior trumps spec ambiguity. However, in this case I
</I>&gt;<i> was assuming that breaking existing sites was not an issue since we're
</I>&gt;<i> adding completely new functionality (accessing cookies from workers).
</I>&gt;<i> Existing sites won't break unless they add worker code that modifies
</I>&gt;<i> cookies, although perhaps that's a situation we need to avoid as well.
</I>
I wouldn't expect new sites to be able to cope with this either. Even
if we put in the spec that the value can change at any time, it is
extremely unlikely that developers will deal with this appropriately.
See my analogy earlier in this thread regarding how hard it is to
write multi-threaded code, even for expert C++ developers. It is
definitely not something I would expect copy-n-paste web developers to
get right.

&gt;&gt;<i> This is a very interesting suggestion. If we add a cookie access API
</I>&gt;&gt;<i> then this would seem like a reasonable thing to require from that API.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> OK, to summarize, the suggestion is that we add something like the following
</I>&gt;<i> to WorkerGlobalScope:
</I>&gt;<i>
</I>&gt;<i> String getAllCookies() - analogous to document.cookies in the DOM world
</I>
No, this is a synchronous API which is not acceptible since it creates
a multithreaded environment for web developers. You need to use a
callback function.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061020.html">[whatwg] Accessing cookies from workers
</A></li>
	<LI>Next message: <A HREF="061022.html">[whatwg] Accessing cookies from workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61021">[ date ]</a>
              <a href="thread.html#61021">[ thread ]</a>
              <a href="subject.html#61021">[ subject ]</a>
              <a href="author.html#61021">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
