<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Worker feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Worker%20feedback&In-Reply-To=%3C11e306600903301845g12c14687j4ec8359ca66c4f74%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019089.html">
   <LINK REL="Next"  HREF="019104.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Worker feedback</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Worker%20feedback&In-Reply-To=%3C11e306600903301845g12c14687j4ec8359ca66c4f74%40mail.gmail.com%3E"
       TITLE="[whatwg] Worker feedback">robert at ocallahan.org
       </A><BR>
    <I>Mon Mar 30 18:45:31 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019089.html">[whatwg] Worker feedback
</A></li>
        <LI>Next message: <A HREF="019104.html">[whatwg] Worker feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19091">[ date ]</a>
              <a href="thread.html#19091">[ thread ]</a>
              <a href="subject.html#19091">[ subject ]</a>
              <a href="author.html#19091">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Mar 31, 2009 at 7:22 AM, Drew Wilson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">atwilson at google.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> Re: cookies
</I>&gt;&gt;<i> I suppose that network activity should also wait for the lock. I've made
</I>&gt;&gt;<i> that happen.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Seems like that would restrict parallelism between network loads and
</I>&gt;<i> executing javascript, which seems like the wrong direction to go.
</I>&gt;<i>
</I>&gt;<i> It feels like we are jumping through hoops to protect running script from
</I>&gt;<i> having document.cookies modified out from underneath it, and now some of the
</I>&gt;<i> ramifications may have real performance impacts. From a pragmatic point of
</I>&gt;<i> view, I just want to remind people that many current browsers do not make
</I>&gt;<i> these types of guarantees about document.cookies, and yet the tubes have not
</I>&gt;<i> imploded.
</I>&gt;<i>
</I>
We have no way of knowing how much trouble this has caused so far;
non-reproducibility means you probably won't get a good bug report for any
given incident.

It's even plausible that people are getting lucky with cookie races almost
all the time, or maybe cookies are usually used in a way that makes them a
non-issue. That doesn't mean designing cookie races in is a good idea.


&gt;<i>
</I>&gt;&gt;<i> &gt; Cookies have a cross-domain aspect (multiple subdomains can share cookie
</I>&gt;&gt;<i> &gt; state at the top domain) - does this impact the specification of the
</I>&gt;&gt;<i> &gt; storage mutex since we need to lockout multiple domains?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There's only one lock, so that should work fine.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> OK, I was assuming a single per-domain lock (ala localStorage) but it
</I>&gt;<i> sounds like there's a group lock, cross-domain. This makes it even more
</I>&gt;<i> onerous if network activity across all related domains has to serialize on a
</I>&gt;<i> single lock.
</I>&gt;<i>
</I>
It doesn't have to. There are lots of ways to optimize here.

Rob
-- 
&quot;He was pierced for our transgressions, he was crushed for our iniquities;
the punishment that brought us peace was upon him, and by his wounds we are
healed. We all, like sheep, have gone astray, each of us has turned to his
own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
53:5-6]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090331/03b29ab5/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090331/03b29ab5/attachment.htm</A>&gt;
</PRE>



<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019089.html">[whatwg] Worker feedback
</A></li>
	<LI>Next message: <A HREF="019104.html">[whatwg] Worker feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19091">[ date ]</a>
              <a href="thread.html#19091">[ thread ]</a>
              <a href="subject.html#19091">[ subject ]</a>
              <a href="author.html#19091">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
