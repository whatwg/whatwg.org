<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Features for responsive Web design
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Features%20for%20responsive%20Web%20design&In-Reply-To=%3CCAMCRKiLYqqaBbAqiS0O8arTMiQ0220wo6EMW04f72xbd1dO%2B4w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036082.html">
   <LINK REL="Next"  HREF="036085.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Features for responsive Web design</H1>
<!--htdig_noindex-->
    <B>Matthew Wilcox</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Features%20for%20responsive%20Web%20design&In-Reply-To=%3CCAMCRKiLYqqaBbAqiS0O8arTMiQ0220wo6EMW04f72xbd1dO%2B4w%40mail.gmail.com%3E"
       TITLE="[whatwg] Features for responsive Web design">mail at matthewwilcox.com
       </A><BR>
    <I>Sat May 19 02:46:22 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="036082.html">[whatwg] Features for responsive Web design
</A></li>
        <LI>Next message: <A HREF="036085.html">[whatwg] Features for responsive Web design
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36083">[ date ]</a>
              <a href="thread.html#36083">[ thread ]</a>
              <a href="subject.html#36083">[ subject ]</a>
              <a href="author.html#36083">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 19 May 2012 00:37, Kornel Lesi&#324;ski &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">kornel at geekhood.net</A>&gt; wrote:
&gt;<i> On Fri, 18 May 2012 23:11:45 +0100, Matthew Wilcox &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mail at matthewwilcox.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;picture&gt; in its current form is unable to support bandwidth-based
</I>&gt;&gt;&gt;<i> negotiation well
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> By all accounts no solution proposed can do this. This is not a
</I>&gt;&gt;<i> &lt;picture&gt; only problem.
</I>&gt;<i>
</I>&gt;<i> srcset allows UA to pick any image density regardless of actual screen
</I>&gt;<i> density, so e.g. Safari on iPhone 4 on GPRS/EDGE connection could download
</I>&gt;<i> 1x images, instead of 2x.
</I>
Yes indeed, but the problem is not about srcset, &lt;picture&gt; or anything
else: it's that, as has been pointed out repeatedly to those of us
asking about bandwidth media queries, the browser simply can't do
reliable bandwidth detection. That effects srcset as much as anything
else. So while technically srcset allows for this, the browser itself
does't, so it can never be used in the manner you're describing.

&gt;<i> UAs are also free to download 1x image first, and then 2x image after
</I>&gt;<i> onload, etc. Declarative nature of descriptors, as opposed to imperative
</I>&gt;<i> MQs, allows UAs to innovate in this area and come up with new uses that
</I>&gt;<i> authors didn't predict/express in MQ.
</I>
This would be no better than current JS approaches, in fact making it
worse by adding to the page load size rather than optimising it.

&gt;<i> The syntax allows addition of &quot;KB&quot; descriptor later, which &#8212; assuming UAs
</I>&gt;<i> will figure out how to measure actual bandwidth well enough &#8212; will allow
</I>&gt;<i> even more sophisticated selection based on file size (rather than only 1x/2x
</I>&gt;<i> scale factors which are only a proxy for the file size).
</I>
As above; this seems set not to happen. Besides, how is it going to
know the file size unless you explicitly state it in the srcset
somewhere?

&gt;&gt;&gt;<i> (and that's not simply a matter of adding bandwidth media
</I>&gt;&gt;&gt;<i> query) and has no mechanism to specify scaling factor for intrinsic sizes
</I>&gt;&gt;&gt;<i> of images.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Not actually sure what &quot;intrinsic sizes of images&quot; means.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> A default size of the image when you don't specify any size in HTML/CSS.
</I>
Ah, OK thanks :) I do not ever set intrinsic sizes, and nor does any
site I have seen that is responsive in nature. Precisely because it
has no meaning or use in a responsive site.

&gt;<i> To take advantage of 200dpi displays you need to tell UA to render a X px
</I>&gt;<i> image at X/2 CSS px. Explicit width/height breaks adaptive mechanism.
</I>
Or you do what we do now and supply a double resolution image and set
it to a given CSS size. Or just any old size, from my experience of
the iPad3 you don't actually need to be that specific, just get an
oversized image and let it shrink a bit and it holds up well.

&gt;&gt;<i> I see no difference between the end result of either syntax. Both
</I>&gt;&gt;<i> approaches fail utterly in abstracting the query from the mark-up,
</I>&gt;&gt;<i> which means both approaches are suited only to individual images.
</I>&gt;<i>
</I>&gt;<i> True. An URI template can be added later to either solution.
</I>
I'd like to see idea's on how this might work.

&gt;<i> The current URI template proposal is limited. I've pointed out few cases for
</I>&gt;<i> which a single global set of breakpoints is not sufficient. I'd be nice if
</I>&gt;<i> you tried to extend the proposal to support those cases as well (e.g. {case}
</I>&gt;<i> &#8594; {case:category} and define breakpoints per category such as 'sidebar',
</I>&gt;<i> 'gravatar', etc.)
</I>
All solutions are limited. The more I work on this the more convinced
I am that the nature or HTML and the layout system makes any truly
efficient solution impossible.

I actually prefer the limits of &lt;meta&gt; than any others simply because
&lt;meta&gt; does not postpone the issues until a re-design. &lt;meta&gt; is the
one and only solution I have seen that does not in some way
contaminate the mark-up with values dependent on the current design.
The price for that is less efficient image compression.

I can't see how to extend it as you're suggesting without also falling
to the same &quot;presentational properties embeded&quot; problem that &lt;picture&gt;
and srcset fall into. And that to me is a no-go. We already have
srcset if that's the compromise we want to make.

&gt;<i> And &lt;meta breakpoint&gt; has same limitations for DPI adaptation as &lt;source
</I>&gt;<i> media&gt;.
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> There are two categories of use-cases (&quot;art-directed&quot; and
</I>&gt;&gt;&gt;<i> &quot;dpi/optimization&quot;) and &lt;picture&gt; is suited for only one of them, so
</I>&gt;&gt;&gt;<i> please don't frame the decision as &quot;discarding&quot; of a perfectly good
</I>&gt;&gt;&gt;<i> solution, as it wasn't.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Picture dealt with both of these by simple use of the pixel density
</I>&gt;&gt;<i> media query - i.e, in exactly the same way CSS already does it. I do
</I>&gt;&gt;<i> not understand your argument.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;picture&gt;
</I>&gt;<i> &lt;source src=&quot;200px&quot; media=&quot;(min-device-pixel-ratio:2)&quot;&gt;
</I>&gt;<i> &lt;source src=&quot;100px&quot;&gt;
</I>&gt;<i> &lt;/picture&gt;
</I>&gt;<i>
</I>&gt;<i> This will only choose between large pixelated image and small pixelated
</I>&gt;<i> image, and will not make use of high display density.
</I>
On it's own you're right. But no-one actually builds a site like that.
If you're doing a fluid responsive site you've got img {
max-width:100% } in there, and in that case you do actually take
advantage of the high DPI.

&gt;<i> I've explained it in more detail previously (using srcset as an example, but
</I>&gt;<i> it all applies to min-device-pixel-ratio: MQ as well)
</I>&gt;<i> <A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-May/036051.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-May/036051.html</A>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> regards, Kornel Lesi&#324;ski
</I></PRE>



<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036082.html">[whatwg] Features for responsive Web design
</A></li>
	<LI>Next message: <A HREF="036085.html">[whatwg] Features for responsive Web design
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36083">[ date ]</a>
              <a href="thread.html#36083">[ thread ]</a>
              <a href="subject.html#36083">[ subject ]</a>
              <a href="author.html#36083">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
