<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Bandwidth media queries
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Bandwidth%20media%20queries&In-Reply-To=%3Calpine.DEB.2.02.1205212200310.22566%40sirius%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078388.html">
   <LINK REL="Next"  HREF="078377.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Bandwidth media queries</H1>
<!--htdig_noindex-->
    <B>James Graham</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Bandwidth%20media%20queries&In-Reply-To=%3Calpine.DEB.2.02.1205212200310.22566%40sirius%3E"
       TITLE="[whatwg] Bandwidth media queries">jgraham at opera.com
       </A><BR>
    <I>Mon May 21 13:08:10 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="078388.html">[whatwg] Bandwidth media queries
</A></li>
        <LI>Next message: <A HREF="078377.html">[whatwg] Bandwidth media queries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78389">[ date ]</a>
              <a href="thread.html#78389">[ thread ]</a>
              <a href="subject.html#78389">[ subject ]</a>
              <a href="author.html#78389">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>

On Mon, 21 May 2012, Mounir Lamouri wrote:

&gt;<i> On 05/21/2012 04:34 PM, Boris Zbarsky wrote:
</I>&gt;&gt;<i> On 5/21/12 10:09 AM, Mounir Lamouri wrote:
</I>&gt;&gt;&gt;<i> On 05/20/2012 03:04 PM, Boris Zbarsky wrote:
</I>&gt;&gt;&gt;&gt;<i> On 5/20/12 5:45 AM, Paul Irish wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> Since no one mentioned it, I just wanted to make sure this thread is
</I>&gt;&gt;&gt;&gt;&gt;<i> aware
</I>&gt;&gt;&gt;&gt;&gt;<i> of the Network Information API [1], which provides
</I>&gt;&gt;&gt;&gt;&gt;<i> navigator.connection.bandwidth
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> It's been recently implemented (to some degree) in both Mozilla [2] and
</I>&gt;&gt;&gt;&gt;&gt;<i> Webkit [3].
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> As far as I can tell, the Mozilla implementation always returns Infinity
</I>&gt;&gt;&gt;&gt;<i> for .bandwidth.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> This is not true. There is an implementation for Firefox Android which
</I>&gt;&gt;&gt;<i> is based on the connection type.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ah, indeed.  I had missed that codepath.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If I'm reading the right code now, that looks like it returns a constant
</I>&gt;&gt;<i> value for each connection type (e.g. if you're connected via Ethernet or
</I>&gt;&gt;<i> Wifi it returns 20; if you're connected via EDGE it returns 0.2, etc).
</I>&gt;<i>
</I>&gt;<i> The idea is that the specification allows the implementation to be
</I>&gt;<i> trivial and improve without changing the specification.
</I>
That seems incredibly unlikely to work in practice. Early implementations 
will return 20 or 0.2 and sites will do

if (bandwidth == 20) {
   //get high quality site
} else {
   //get simplified site
}

and users will be very surprised when upgrading their browser causes them 
to get the simplified site or low quality assets when before they never 
did.

&gt;<i> And that
</I>&gt;<i> implementation is good enough for web pages to know if the user is in a
</I>&gt;<i> slow or fast connection without giving the connection type and leaking
</I>&gt;<i> information.
</I>
I think the fundamental problem with this API isn't that it might leak 
information, it's that it's that it is quite likely to make the overall 
user experience worse rather than better. It is also extremely difficult 
to implement in a really good way as evidenced by the fact that all the 
&quot;implementations&quot; so far are extremely half-hearted.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078388.html">[whatwg] Bandwidth media queries
</A></li>
	<LI>Next message: <A HREF="078377.html">[whatwg] Bandwidth media queries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78389">[ date ]</a>
              <a href="thread.html#78389">[ thread ]</a>
              <a href="subject.html#78389">[ subject ]</a>
              <a href="author.html#78389">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
