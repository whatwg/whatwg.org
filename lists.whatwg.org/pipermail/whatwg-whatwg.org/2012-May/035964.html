<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Bandwidth media queries
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Bandwidth%20media%20queries&In-Reply-To=%3CCAMCRKi%2BpdkLYHPZm6nHfkGDSgv8oJhQiVUik6CeV1a8ADC%3DB3A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078234.html">
   <LINK REL="Next"  HREF="078240.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Bandwidth media queries</H1>
<!--htdig_noindex-->
    <B>Matthew Wilcox</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Bandwidth%20media%20queries&In-Reply-To=%3CCAMCRKi%2BpdkLYHPZm6nHfkGDSgv8oJhQiVUik6CeV1a8ADC%3DB3A%40mail.gmail.com%3E"
       TITLE="[whatwg] Bandwidth media queries">mail at matthewwilcox.com
       </A><BR>
    <I>Wed May 16 11:48:04 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="078234.html">[whatwg] Responsive images and printing/zooming
</A></li>
        <LI>Next message: <A HREF="078240.html">[whatwg] Bandwidth media queries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35964">[ date ]</a>
              <a href="thread.html#35964">[ thread ]</a>
              <a href="subject.html#35964">[ subject ]</a>
              <a href="author.html#35964">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>First off I know that a number of people say this is not possible. I
am not wanting to argue this because I don't have the knowledge to
argue it - but I do want to understand why, and currently I do not.
Please also remember that I can only see this from an authors
perspective as I'm ignorant of the mechanics of how these things work
internally.

The idea is to have something like:

&lt;link media=&quot;min-bandwidth:0.5mps&quot; ... /&gt;
&lt;link media=&quot;min-bandwidth:1mps&quot; ... /&gt;
&lt;link media=&quot;min-bandwidth:8mps&quot; ... /&gt;

This make an obvious kind of sense to an author. One of the issues I
see people raise when they attempt to explain why this won't work is
that bandwidth is variable, and hard to measure (and something about
CSS being stateless I think).

Here's why this confuses me...

If you're a browser you are the software interpreting the instructions
of a given language: CSS in this case. You're an interpreter. So, if
CSS essentially asks you as a browser &quot;what's the available bandwidth&quot;
- why can the browser not just supply a value back to the CSS?

The next thing that comes to mind is: How do we get the value? Again,
I hope I'm not being too ignorant but the process *feels* like it
should go like this:

All browsers have a Web Inspector and all Inspectors have a Network
tab. That network tab tracks and logs everything we'd need to know to
figure out a reasonable approximation of the bandwidth available to
*that open tab*. This isn't an argument so much as a statement of
fact: all browsers can currently do this - it's just not exposed to
CSS to interrogate.

Why can we not be smart about this and follow a procedure like this:

As soon as a request is made for a web page, start tracking the
network activity. The browser knows when it sent a request, how long
it took to receive a response (thus the latency), the size of the
response and how long it took to deliver. It can start doing this with
the favicon. It can then analyse that favicon's data and come up with
a ballpark bandwidth. Subsequently it can do the same thing for every
single http request made to that domain. And it could average out the
results to get a more accurate bandwidth and latency measure of what
is currently available for the browser to use, re-adjusting the value
sent to the CSS as it goes.

No doubt that would have some wobbliness due to the low sample rate on
an initial connection, so what is to the stop the browser being
smarter and keeping a log of connection speeds as a good starting
point for future requests - for example, what was the average speed to
this domain for all responses in the previous 10sec of requests? Or
even more generally; what was the average speed available for *any*
domain in the last five minutes?

Thanks for your time,

Matt
</PRE>


















































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078234.html">[whatwg] Responsive images and printing/zooming
</A></li>
	<LI>Next message: <A HREF="078240.html">[whatwg] Bandwidth media queries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35964">[ date ]</a>
              <a href="thread.html#35964">[ thread ]</a>
              <a href="subject.html#35964">[ subject ]</a>
              <a href="author.html#35964">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
