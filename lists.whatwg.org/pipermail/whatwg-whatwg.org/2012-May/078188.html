<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Correcting some misconceptions about Responsive Images
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Correcting%20some%20misconceptions%20about%20Responsive%20Images&In-Reply-To=%3Cop.wed6eorl49xobu%40odinho-fido.oslo.osa%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078187.html">
   <LINK REL="Next"  HREF="078258.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Correcting some misconceptions about Responsive Images</H1>
<!--htdig_noindex-->
    <B>Odin H&#248;rthe Omdal</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Correcting%20some%20misconceptions%20about%20Responsive%20Images&In-Reply-To=%3Cop.wed6eorl49xobu%40odinho-fido.oslo.osa%3E"
       TITLE="[whatwg] Correcting some misconceptions about Responsive Images">odinho at opera.com
       </A><BR>
    <I>Wed May 16 01:12:14 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="078187.html">[whatwg] Correcting some misconceptions about Responsive Images
</A></li>
        <LI>Next message: <A HREF="078258.html">[whatwg] Correcting some misconceptions about Responsive Images
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78188">[ date ]</a>
              <a href="thread.html#78188">[ thread ]</a>
              <a href="subject.html#78188">[ subject ]</a>
              <a href="author.html#78188">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Thank you for the well written email.

On Wed, 16 May 2012 09:13:01 +0200, Tab Atkins Jr. &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jackalmage at gmail.com</A>&gt;  
wrote:
&gt;<i> 3. &quot;@srcset doesn't have good fallback behavior&quot;. Yup, it does. The
</I>&gt;<i> simplest way is to just do the simplest thing: provide both a @src and
</I>&gt;<i> a @srcset, and that's it.  This has good behavior in legacy UAs, and
</I>&gt;<i> in new ones.  The only downside of this is that if you're polyfilling
</I>&gt;<i> the feature in legacy UAs, you get two requests (first the @src, then
</I>&gt;<i> whatever the JS changes it to).
</I>&gt;<i>
</I>&gt;<i> If this is problematic, there's a more verbose but still simple way to
</I>&gt;<i> handle this (afaik, first suggested by Odin):
</I>&gt;<i>
</I>&gt;<i> &lt;img src=data: srcset=&quot;foo.jpg 1x, foo2.jpg 2x&quot;
</I>&gt;<i> style=&quot;display:none;&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;foo.jpg&quot;&gt;&lt;/noscript&gt;
</I>
It was not first suggested by me, I shopped around in the RespImg CG and
on different blogs and comments and articles and picked that up
somewhere along the path.

I think Scott Jehl's &quot;Some early thoughts on <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">img at srcset</A> in the real
world&quot; might be the first place I saw it:

    &lt;<A HREF="https://gist.github.com/2701939">https://gist.github.com/2701939</A>&gt;

Although he said something to the effect that &quot;plausible, but may have
some issues.&quot;

Hence my proof of concept *demo* of a srcset polyfill that optimizes for
few requests:

   &lt;<A HREF="http://odin.s0.no/web/srcset/polyfill.htm">http://odin.s0.no/web/srcset/polyfill.htm</A>&gt;

To show that it can work. The example I'm using is:

     &lt;img srcset=&quot;small.png 500w, big.png 1000w&quot; style=&quot;display:none&quot;&gt;
     &lt;noscript&gt;&lt;img src=&quot;small.png&quot; alt=&quot;Alt here&quot;&gt;&lt;/noscript&gt;

It'll work without javascript, only showing one alt text.

With javascript on, it'll copy the alt text to the real &lt;img&gt; and take
away the display:none (which is only there to hinder IE showing a broken
image icon when you have no Javascript).

&gt;<i> In modern UAs, JS just has to remove the @style.  In legacy UAs, JS
</I>&gt;<i> removes the @style and sets the @src appropriately (the data: url
</I>&gt;<i> ensures that there's not an extra request before JS activates).  If JS
</I>&gt;<i> isn't turned on, the first image just never displays, but the second
</I>&gt;<i> one does.  This is more complicated and a bit more fragile than the
</I>&gt;<i> previous solution, but it only ever sends a single request.
</I>
Yes. I have a live test for something like that. It works in all devices
and browsers I've got access to. Which is not really very much, but
should cater for quite a large part of the internet. (:P)

It's at the same page ( <A HREF="http://odin.s0.no/web/srcset/polyfill.htm">http://odin.s0.no/web/srcset/polyfill.htm</A> ).

-- 
Odin H&#248;rthe Omdal (Velmont/odinho) &#183; Core, Opera Software, <A HREF="http://opera.com">http://opera.com</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078187.html">[whatwg] Correcting some misconceptions about Responsive Images
</A></li>
	<LI>Next message: <A HREF="078258.html">[whatwg] Correcting some misconceptions about Responsive Images
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78188">[ date ]</a>
              <a href="thread.html#78188">[ thread ]</a>
              <a href="subject.html#78188">[ subject ]</a>
              <a href="author.html#78188">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
