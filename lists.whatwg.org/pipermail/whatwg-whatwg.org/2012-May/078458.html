<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] proposal for a location.domain property
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20proposal%20for%20a%20location.domain%20property&In-Reply-To=%3C4FBEAD06.2020303%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078457.html">
   <LINK REL="Next"  HREF="078479.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] proposal for a location.domain property</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20proposal%20for%20a%20location.domain%20property&In-Reply-To=%3C4FBEAD06.2020303%40mit.edu%3E"
       TITLE="[whatwg] proposal for a location.domain property">bzbarsky at MIT.EDU
       </A><BR>
    <I>Thu May 24 14:49:58 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="078457.html">[whatwg] proposal for a location.domain property
</A></li>
        <LI>Next message: <A HREF="078479.html">[whatwg] proposal for a location.domain property
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78458">[ date ]</a>
              <a href="thread.html#78458">[ thread ]</a>
              <a href="subject.html#78458">[ subject ]</a>
              <a href="author.html#78458">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 5/24/12 5:02 PM, Maciej Stachowiak wrote:
&gt;<i> I agree. Even though there are still legacy features like cookies and document.domain that use domain-based security, most of the Web platform uses origin-based security
</I>
For security, yes.

But for, say, resource limits, one wants to use domain-based limits 
because otherwise limits are easily worked around using subdomains.  At 
least that's the way we try to do it in Gecko.

Looking at our (Mozilla's) internal uses of getBaseDomain(), it's used for:

* cookies
* various site identity UI bits (e.g. highlighting the TLD+1 in the URL
   bar, the thing to show as the site identifier in various prompts, and
   so forth)
* something about deciding whether to send CSP error reports
* &quot;third-party&quot; determination (mostly cookies again, I suspect)
* document.domain setting
* Clearing &quot;per-site&quot; plugin data (see cookies)
* localStorage quota enforcement
* Something with caps on number of concurrent DOM workers
* The URL bar autosuggest implementation

I agree that it's not entirely clear how much of this is relevant to the 
web at large.  Web apps that need this functionality (e.g. the browser 
in B2G) _can_ always import the eTLD list, if forced to....

-Boris

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078457.html">[whatwg] proposal for a location.domain property
</A></li>
	<LI>Next message: <A HREF="078479.html">[whatwg] proposal for a location.domain property
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78458">[ date ]</a>
              <a href="thread.html#78458">[ thread ]</a>
              <a href="subject.html#78458">[ subject ]</a>
              <a href="author.html#78458">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
