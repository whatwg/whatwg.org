<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] DOMTokenList methods would be more useful with a space separated token list
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20DOMTokenList%20methods%20would%20be%20more%20useful%20with%20a%20space%0A%20separated%20token%20list&In-Reply-To=%3C8AF127D68B474128864F78F5042F5A49%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077917.html">
   <LINK REL="Next"  HREF="077922.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] DOMTokenList methods would be more useful with a space separated token list</H1>
<!--htdig_noindex-->
    <B>Rick Waldron</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20DOMTokenList%20methods%20would%20be%20more%20useful%20with%20a%20space%0A%20separated%20token%20list&In-Reply-To=%3C8AF127D68B474128864F78F5042F5A49%40gmail.com%3E"
       TITLE="[whatwg] DOMTokenList methods would be more useful with a space separated token list">waldron.rick at gmail.com
       </A><BR>
    <I>Wed May  2 16:05:33 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077917.html">[whatwg] DOMTokenList methods would be more useful with a space separated token list
</A></li>
        <LI>Next message: <A HREF="077922.html">[whatwg] DOMTokenList methods would be more useful with a space separated token list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77920">[ date ]</a>
              <a href="thread.html#77920">[ thread ]</a>
              <a href="subject.html#77920">[ subject ]</a>
              <a href="author.html#77920">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>

On Wednesday, May 2, 2012 at 6:41 PM, Ian Hickson wrote:  
&gt;<i> On Wed, 2 May 2012, Rick Waldron wrote:
</I>&gt;<i> &gt; On Wed, May 2, 2012 at 6:13 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; On Fri, 28 Oct 2011, David H&#229;s&#228;ther wrote:
</I>&gt;<i> &gt; &gt; &gt;  
</I>&gt;<i> &gt; &gt; &gt; It would be more useful if the DOMTokenList methods (contains, add,  
</I>&gt;<i> &gt; &gt; &gt; remove, toggle) would take a space separated list of tokens. This is  
</I>&gt;<i> &gt; &gt; &gt; the behavior most DOM libraries have when dealing with class names.
</I>&gt;<i> &gt; &gt; &gt;  
</I>&gt;<i> &gt; &gt; &gt; So, when setting two classes, instead of
</I>&gt;<i> &gt; &gt; &gt;  
</I>&gt;<i> &gt; &gt; &gt; ele.classList.add(&quot;hey&quot;);
</I>&gt;<i> &gt; &gt; &gt; ele.classList.add(&quot;ho&quot;);
</I>&gt;<i> &gt; &gt; &gt;  
</I>&gt;<i> &gt; &gt; &gt; you could do
</I>&gt;<i> &gt; &gt; &gt;  
</I>&gt;<i> &gt; &gt; &gt; ele.classList.add(&quot;hey ho&quot;);
</I>&gt;<i> &gt; &gt; &gt;  
</I>&gt;<i> &gt; &gt; &gt; Currently, the latter results in an INVALID_CHARACTER_ERR.
</I>&gt;<i> &gt; &gt; &gt;  
</I>&gt;<i> &gt; &gt; &gt; The behavior of all methods should be obvious I guess.
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; This has now moved to DOM Core. If you still want this I recommend filing
</I>&gt;<i> &gt; &gt; a bug on that spec.
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; <A HREF="http://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html">http://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html</A>
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; On Fri, 28 Oct 2011, Mike Taylor wrote:
</I>&gt;<i> &gt; &gt; &gt;  
</I>&gt;<i> &gt; &gt; &gt; I would prefer if it returned the DOMTokenList, to enable chaining like:
</I>&gt;<i> &gt; &gt; &gt;  
</I>&gt;<i> &gt; &gt; &gt; foo.toggle('bar baz').remove('bat');
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; That makes for very hard to read code, IMHO. I much prefer:
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; foo.toggle('bar');
</I>&gt;<i> &gt; &gt; foo.remove('bat');
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt; Mike's recommendation is the same API introduced by jQuery a few years  
</I>&gt;<i> &gt; ago and since then, there have been many requests to expand the  
</I>&gt;<i> &gt; signature to other jQuery APIs. The toggle('bar baz') is not a good  
</I>&gt;<i> &gt; example, it should be illustrated with .add() and .remove():
</I>&gt;<i> &gt;  
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> It was the chaining I was talking about with respect to Mike's example,  
</I>&gt;<i> not the multiple values.
</I>&gt;<i>  
</I>&gt;<i>  
</I>

Great, in both cases, what _you_ prefer is not what is desired based on most common patterns and use cases.

JS APIs like this should always return the object (constructed instance or not) and therefore chain implicitly.

I'll take this to DOM Core.

Rick

&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> &gt; Adding &gt;1 class at a time is a _very_ common pattern in &quot;real world&quot; web  
</I>&gt;<i> &gt; development.
</I>&gt;<i> &gt;  
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> As mentioned above, this API has now moved to DOM Core. If you still want  
</I>&gt;<i> this I recommend filing a bug on that spec.
</I>&gt;<i>  
</I>&gt;<i> <A HREF="http://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html">http://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html</A>
</I>&gt;<i>  
</I>&gt;<i> --  
</I>&gt;<i> Ian Hickson U+1047E )\._.,--....,'``. fL
</I>&gt;<i> <A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A> U+263A /, _.. \ _\ ;`._ ,.
</I>&gt;<i> Things that are impossible just take longer. `._.-(,_..'--(,_..'`-.;.'
</I>&gt;<i>  
</I>&gt;<i>  
</I>


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077917.html">[whatwg] DOMTokenList methods would be more useful with a space separated token list
</A></li>
	<LI>Next message: <A HREF="077922.html">[whatwg] DOMTokenList methods would be more useful with a space separated token list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77920">[ date ]</a>
              <a href="thread.html#77920">[ thread ]</a>
              <a href="subject.html#77920">[ subject ]</a>
              <a href="author.html#77920">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
