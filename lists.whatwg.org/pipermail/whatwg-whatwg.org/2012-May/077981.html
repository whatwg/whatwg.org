<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Declarative unload data
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Declarative%20unload%20data&In-Reply-To=%3CCA%2Bc2ei_oMnwiBtEr9ZTx0FZvJxE6%3D-EnAYqf2%2BCs8fRghQ4Zsw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077976.html">
   <LINK REL="Next"  HREF="077982.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Declarative unload data</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Declarative%20unload%20data&In-Reply-To=%3CCA%2Bc2ei_oMnwiBtEr9ZTx0FZvJxE6%3D-EnAYqf2%2BCs8fRghQ4Zsw%40mail.gmail.com%3E"
       TITLE="[whatwg] Declarative unload data">jonas at sicking.cc
       </A><BR>
    <I>Mon May  7 12:05:42 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077976.html">[whatwg] Declarative unload data
</A></li>
        <LI>Next message: <A HREF="077982.html">[whatwg] Declarative unload data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77981">[ date ]</a>
              <a href="thread.html#77981">[ thread ]</a>
              <a href="subject.html#77981">[ subject ]</a>
              <a href="author.html#77981">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, May 7, 2012 at 8:59 AM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:
&gt;<i> On 5/7/12 11:53 AM, Tab Atkins Jr. wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Yes, definitely (unless you set .withCredentials on it or something,
</I>&gt;&gt;<i> like the XHR attribute).
</I>&gt;<i>
</I>&gt;<i> Hold on. &#160;If you _do_ set withCredentials, you should be required to pass
</I>&gt;<i> the credentials in or something. &#160;Under no circumstances would prompting for
</I>&gt;<i> credentials for a request associated with an already-unloaded page be OK
</I>&gt;<i> from my point of view....
</I>
There seems to be some confusion here regarding how withCredentials
works. First of all withCredentials is a CORS thing. CORS requests
*never* pop up an authentication dialog. (There is also the question
of if we want to support CORS here, I suspect we do).

But I totally agree with Boris that we can't ever pop up security
dialogs for a site that the user has left.

&gt;&gt;&gt;<i> A bigger question is whether browsers really want to make it easier to do
</I>&gt;&gt;&gt;<i> this or work on getting rid of the ability to phone home at/after unload
</I>&gt;&gt;&gt;<i> altogether. &#160;My gut reaction every time I see pages doing it is that
</I>&gt;&gt;&gt;<i> they're
</I>&gt;&gt;&gt;<i> up to no good, and code inspection usually indicates that I'm right: the
</I>&gt;&gt;&gt;<i> #1
</I>&gt;&gt;&gt;<i> use of this is for persistent user tracking.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That might be, but we won't be *stopping* anything then.
</I>&gt;<i>
</I>&gt;<i> Even if true, we wouldn't be _encouraging_ anything either.
</I>
I don't think it matters much if we encourage or not. People are going
to do it either way.

As far as resource usage goes, it doesn't seem like a bid deal to send
off a request at some point when the network seems quiet.

&gt;&gt;<i> They can instead, say, switch to just sending requests every 20s or
</I>&gt;&gt;<i> something -
</I>&gt;&gt;<i> if they were measuring session duration you still get good accuracy,
</I>&gt;&gt;<i> but the total number of requests doesn't go up too much.
</I>&gt;<i>
</I>&gt;<i> True.
</I>&gt;<i>
</I>&gt;<i> And to be clear, I'm not worried about session duration measurements. Most
</I>&gt;<i> of the uses I saw of this were either not measuring session duration, or
</I>&gt;<i> somehow felt compelled to communicate all sorts of info about the user and
</I>&gt;<i> the user's computer to measure session duration.
</I>
But are they going to do this any less if we tighten what we allow
during onunload? It seems like this is simply the type of thing that
is possible when we give people a runtime as powerful as the web is.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077976.html">[whatwg] Declarative unload data
</A></li>
	<LI>Next message: <A HREF="077982.html">[whatwg] Declarative unload data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77981">[ date ]</a>
              <a href="thread.html#77981">[ thread ]</a>
              <a href="subject.html#77981">[ subject ]</a>
              <a href="author.html#77981">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
