<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Device proximity and light events
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Device%20proximity%20and%20light%20events&In-Reply-To=%3CCA%2Bc2ei-JGFw-Cb5k-EzuXac7MepYuMT%2BR7gnOK0rV29R%3DPQEUw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077995.html">
   <LINK REL="Next"  HREF="078000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Device proximity and light events</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Device%20proximity%20and%20light%20events&In-Reply-To=%3CCA%2Bc2ei-JGFw-Cb5k-EzuXac7MepYuMT%2BR7gnOK0rV29R%3DPQEUw%40mail.gmail.com%3E"
       TITLE="[whatwg] Device proximity and light events">jonas at sicking.cc
       </A><BR>
    <I>Tue May  8 15:26:06 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077995.html">[whatwg] Device proximity and light events
</A></li>
        <LI>Next message: <A HREF="078000.html">[whatwg] Device proximity and light events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77999">[ date ]</a>
              <a href="thread.html#77999">[ thread ]</a>
              <a href="subject.html#77999">[ subject ]</a>
              <a href="author.html#77999">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, May 8, 2012 at 12:33 PM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at annevk.nl</A>&gt; wrote:
&gt;<i> On Tue, May 8, 2012 at 9:12 PM, Andrei Popescu &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">andreip at google.com</A>&gt; wrote:
</I>&gt;&gt;<i> Neither have we and we have been supporting device orientation for a
</I>&gt;&gt;<i> while in both Chrome (desktop and Android) and Android Web Browser...
</I>&gt;&gt;<i> To me, Doug's proposal seems reasonable.
</I>&gt;<i>
</I>&gt;<i> Is the expectation that these new events, similar to orientation, fire
</I>&gt;<i> on an interval of some kind? Describing this in terms of adding and
</I>&gt;<i> removing event listeners does not seem wise as at some point somebody
</I>&gt;<i> might start using that for things that do not fire pretty much all the
</I>&gt;<i> time feeling justified by these proposals.
</I>&gt;<i>
</I>&gt;<i> The problem with that, as explained before, is that the event model assumes that
</I>&gt;<i>
</I>&gt;<i> &#160;addEventListener(...)
</I>&gt;<i> &#160;// nothing happens for a while
</I>&gt;<i> &#160;addEventListener(...)
</I>&gt;<i>
</I>&gt;<i> will not cause it to be dispatched twice. Defining these features as
</I>&gt;<i> events that fire regularly however does not have the same problem.
</I>
I think that is how we would semantically define it.

The fact that we can turn off the sensor as soon as all event
listeners for the event are removed is effectively an implementation
detail. But likely an implementation detail that's worth pointing out
in the spec so that web pages can take advantage of it and remove
event listeners when they want to save battery.

The reason that I'm not really happy with this API is the fact that it
forces pages to remove all event listeners in order to shut down a
sensor. It seems more author friendly to me to allow pages to keep
event listeners registered but to have an &quot;on/off&quot; switch which they
can use to control if they want the sensor to be enabled. (Setting it
to &quot;off&quot; would of course only affect if events are delivered to that
page. If another page set it to &quot;on&quot; the UA would still fire the
events to the second page, and that page only).

Technically we could add such a switch later if the switch's default
value is &quot;on&quot;.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077995.html">[whatwg] Device proximity and light events
</A></li>
	<LI>Next message: <A HREF="078000.html">[whatwg] Device proximity and light events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77999">[ date ]</a>
              <a href="thread.html#77999">[ thread ]</a>
              <a href="subject.html#77999">[ subject ]</a>
              <a href="author.html#77999">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
