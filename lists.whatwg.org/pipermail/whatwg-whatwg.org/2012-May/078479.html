<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] proposal for a location.domain property
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20proposal%20for%20a%20location.domain%20property&In-Reply-To=%3CCAJE5ia-kPKeNiCTTekUJCJdLNX%3DtPQOw1uyLiTBAVqDu7UPGPA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078458.html">
   <LINK REL="Next"  HREF="078476.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] proposal for a location.domain property</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20proposal%20for%20a%20location.domain%20property&In-Reply-To=%3CCAJE5ia-kPKeNiCTTekUJCJdLNX%3DtPQOw1uyLiTBAVqDu7UPGPA%40mail.gmail.com%3E"
       TITLE="[whatwg] proposal for a location.domain property">w3c at adambarth.com
       </A><BR>
    <I>Fri May 25 17:35:58 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="078458.html">[whatwg] proposal for a location.domain property
</A></li>
        <LI>Next message: <A HREF="078476.html">[whatwg] proposal for a location.domain property
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78479">[ date ]</a>
              <a href="thread.html#78479">[ thread ]</a>
              <a href="subject.html#78479">[ subject ]</a>
              <a href="author.html#78479">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, May 24, 2012 at 2:49 PM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:
&gt;<i> On 5/24/12 5:02 PM, Maciej Stachowiak wrote:
</I>&gt;&gt;<i> I agree. Even though there are still legacy features like cookies and
</I>&gt;&gt;<i> document.domain that use domain-based security, most of the Web platform
</I>&gt;&gt;<i> uses origin-based security
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> For security, yes.
</I>&gt;<i>
</I>&gt;<i> But for, say, resource limits, one wants to use domain-based limits because
</I>&gt;<i> otherwise limits are easily worked around using subdomains. &#160;At least that's
</I>&gt;<i> the way we try to do it in Gecko.
</I>&gt;<i>
</I>&gt;<i> Looking at our (Mozilla's) internal uses of getBaseDomain(), it's used for:
</I>&gt;<i>
</I>&gt;<i> * cookies
</I>&gt;<i> * various site identity UI bits (e.g. highlighting the TLD+1 in the URL
</I>&gt;<i> &#160;bar, the thing to show as the site identifier in various prompts, and
</I>&gt;<i> &#160;so forth)
</I>&gt;<i> * something about deciding whether to send CSP error reports
</I>
^^^ We removed this from the CSP spec for precisely this reason.  This
code in Gecko is out-of-date and should be removed.

&gt;<i> * &quot;third-party&quot; determination (mostly cookies again, I suspect)
</I>&gt;<i> * document.domain setting
</I>&gt;<i> * Clearing &quot;per-site&quot; plugin data (see cookies)
</I>&gt;<i> * localStorage quota enforcement
</I>&gt;<i> * Something with caps on number of concurrent DOM workers
</I>&gt;<i> * The URL bar autosuggest implementation
</I>
Of this list, only cookie and document.domain are directly observable
to the web.  For example, the URL bar autosuggest obviously isn't
observable in the platform.  The cap on the number of web workers also
isn't really reliably observable because there are any number of
reasons why a browser might refuse to create another web worker.

Exposing this information in location.domain would make the eTLD list
much more directly observable, which is the wrong direction for the
web.

Adam


&gt;<i> I agree that it's not entirely clear how much of this is relevant to the web
</I>&gt;<i> at large. &#160;Web apps that need this functionality (e.g. the browser in B2G)
</I>&gt;<i> _can_ always import the eTLD list, if forced to....
</I>&gt;<i>
</I>&gt;<i> -Boris
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078458.html">[whatwg] proposal for a location.domain property
</A></li>
	<LI>Next message: <A HREF="078476.html">[whatwg] proposal for a location.domain property
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78479">[ date ]</a>
              <a href="thread.html#78479">[ thread ]</a>
              <a href="subject.html#78479">[ subject ]</a>
              <a href="author.html#78479">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
