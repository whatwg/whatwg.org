<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] toDataURL() for image/video?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20toDataURL%28%29%20for%20image/video%3F&In-Reply-To=%3CCAABs73g7PT0TqSq4B_PeOfzY6Yz8ZCPsm00%3Ds1P-mVuDgPsp%2Bg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078513.html">
   <LINK REL="Next"  HREF="078500.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] toDataURL() for image/video?</H1>
<!--htdig_noindex-->
    <B>Ashley Gullen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20toDataURL%28%29%20for%20image/video%3F&In-Reply-To=%3CCAABs73g7PT0TqSq4B_PeOfzY6Yz8ZCPsm00%3Ds1P-mVuDgPsp%2Bg%40mail.gmail.com%3E"
       TITLE="[whatwg] toDataURL() for image/video?">ashley at scirra.com
       </A><BR>
    <I>Tue May 29 11:41:42 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="078513.html">[whatwg] Firing canplaythrough when caches/buffers are full
</A></li>
        <LI>Next message: <A HREF="078500.html">[whatwg] toDataURL() for image/video?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36226">[ date ]</a>
              <a href="thread.html#36226">[ thread ]</a>
              <a href="subject.html#36226">[ subject ]</a>
              <a href="author.html#36226">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

Has toDataURL() (from canvas) been considered for ordinary image and video
elements?  Seems like it would be useful for pure javascript applications.
 Currently it can be done by creating a new canvas, getting a 2D context,
drawImage(), then canvas.toDataURL().  However adding it to images directly
would be a useful convenience method, avoid the performance overhead of a
new canvas, and probably be straightforward to define/implement.

Use cases for myimage.toDataURL():
- deep copy an image (imga.src = imgb.toDataURL())
- send an image in JSON data
- conveniently store in webstorage/other permanent storage (possibly also
for caching purposes?)
- downloading an image to disk (depending on other features like anchor's
download attribute)

These are especially useful with javascript-synthesised images.  I suppose
it would have to be disallowed for cross-domain images, else canvas' dirty
flag can be worked around by deep copying a cross-domain image.

It seems to make sense to also consider it for video, but it may be
difficult to deal with streaming or strings storing very large amounts of
data.  How about a snapshot() method that returns a new Image() with the
contents of the currently displaying frame?  This can also be worked around
by drawImage() to a temporary canvas, so exists just as a convenience
method as well.

Use cases:
- easily get a representative frame, e.g. for a thumbnail
- easily snapshot the current frame when displaying webcam feed with
getUserMedia().  e.g. var myPhoto = video.snapshot();, or some of the above
uses with video.snapshot().toDataURL().

Ashley Gullen
Scirra.com
</PRE>











<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078513.html">[whatwg] Firing canplaythrough when caches/buffers are full
</A></li>
	<LI>Next message: <A HREF="078500.html">[whatwg] toDataURL() for image/video?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36226">[ date ]</a>
              <a href="thread.html#36226">[ thread ]</a>
              <a href="subject.html#36226">[ subject ]</a>
              <a href="author.html#36226">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
