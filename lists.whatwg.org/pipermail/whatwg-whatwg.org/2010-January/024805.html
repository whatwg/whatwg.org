<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] history.back()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20history.back%28%29&In-Reply-To=%3C7DC00B68-26E8-4D74-93F8-73DACE776B16%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024802.html">
   <LINK REL="Next"  HREF="024810.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] history.back()</H1>
<!--htdig_noindex-->
    <B>Maciej Stachowiak</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20history.back%28%29&In-Reply-To=%3C7DC00B68-26E8-4D74-93F8-73DACE776B16%40apple.com%3E"
       TITLE="[whatwg] history.back()">mjs at apple.com
       </A><BR>
    <I>Fri Jan 22 01:13:05 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="024802.html">[whatwg] history.back()
</A></li>
        <LI>Next message: <A HREF="024810.html">[whatwg] history.back()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24805">[ date ]</a>
              <a href="thread.html#24805">[ thread ]</a>
              <a href="subject.html#24805">[ subject ]</a>
              <a href="author.html#24805">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Jan 21, 2010, at 8:37 PM, Darin Fisher wrote:

&gt;<i> On Thu, Jan 21, 2010 at 7:15 PM, Maciej Stachowiak &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mjs at apple.com</A>&gt; wrote: 
</I>&gt;<i> 
</I>&gt;<i> I asked Brady (the Safari/WebKit engineer who implemented pushState()) about this, and he told me he found that in the pushState case it sometimes made things easier from the authoring side for history.back() to be synchronous. But I don't have the details.
</I>&gt;<i> 
</I>&gt;<i> Brady and I have been discussing this too.  I'm not convinced that synchronous history.back() makes things significantly better for content authors.  Indeed, I'm concerned that it makes things worse.
</I>&gt;<i> 
</I>&gt;<i> Here's what I mean:  If history.go() sometimes results in the history traversal completing synchronously (hash change) and sometimes not (navigation required), then there is a loss of predictability for the programmer.  They have to deal with event dispatch sometimes happening in a re-entrant manner, but other times not.  A consistent model seems better to me.
</I>
I don't really have strong feelings about this at present. But I think the most important deciding factor should be what is the best behavior for authors. It seems like the implementation details are something that can be worked out either way, so implementation challenge should be a tiebreaker at best.

You are correct that consistency is good. However, whether a navigation to a different document is asynchronous can barely be observed - it's not like any code from the current document will run after the navigation anyway. For within-document navigations, I could imagine synchronous behavior might make some things easier to code - you could call history.back() to pop the state stack, and your code running afterwards could assume you'd successfully traversed to the new state. On the other hand, I could also imagine it's harder. And history.back is probably not used all that much in modern Web apps anyway. That's why I don't have a very good picture of which approach is better.

Regards,
MAciej

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100122/59ea34b3/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100122/59ea34b3/attachment.htm</A>&gt;
</PRE>














<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024802.html">[whatwg] history.back()
</A></li>
	<LI>Next message: <A HREF="024810.html">[whatwg] history.back()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24805">[ date ]</a>
              <a href="thread.html#24805">[ thread ]</a>
              <a href="subject.html#24805">[ subject ]</a>
              <a href="author.html#24805">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
