<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] some thoughts on sandboxed IFRAMEs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20some%20thoughts%20on%20sandboxed%20IFRAMEs&In-Reply-To=%3C7789133a1001242229o7b978271oe1e1644a10785b40%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="067100.html">
   <LINK REL="Next"  HREF="067106.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] some thoughts on sandboxed IFRAMEs</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20some%20thoughts%20on%20sandboxed%20IFRAMEs&In-Reply-To=%3C7789133a1001242229o7b978271oe1e1644a10785b40%40mail.gmail.com%3E"
       TITLE="[whatwg] some thoughts on sandboxed IFRAMEs">whatwg at adambarth.com
       </A><BR>
    <I>Sun Jan 24 22:29:42 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="067100.html">[whatwg] some thoughts on sandboxed IFRAMEs
</A></li>
        <LI>Next message: <A HREF="067106.html">[whatwg] some thoughts on sandboxed IFRAMEs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67101">[ date ]</a>
              <a href="thread.html#67101">[ thread ]</a>
              <a href="subject.html#67101">[ subject ]</a>
              <a href="author.html#67101">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sun, Jan 24, 2010 at 8:09 PM, Aryeh Gregor &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">Simetrical+w3c at gmail.com</A>&gt; wrote:
&gt;<i> On Sun, Jan 24, 2010 at 6:19 AM, Adam Barth &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at adambarth.com</A>&gt; wrote:
</I>&gt;&gt;<i> In general, stopping malicious content from exfiltrating data isn't
</I>&gt;&gt;<i> practical. &#160;For example, even including a single hyperlink is often
</I>&gt;&gt;<i> sufficient to exfiltrate a large amount of data. &#160;In user agents that
</I>&gt;&gt;<i> prefetch DNS, the user doesn't even need to click on the link.
</I>&gt;<i>
</I>&gt;<i> DNS prefetching doesn't tell you anything except that someone viewed
</I>&gt;<i> the link, right? &#160;And maybe what their ISP is, in a typical case.
</I>&gt;<i> Including an image tells you their IP address, User-Agent, and so on.
</I>
That depends what information the attacker encodes in the host name.
Recall that we're imaging the attacker gets to run JavaScript within
the sandbox, so, for example, the attacker can read the user agent and
encode that in the host name.

&gt;<i> How can you get any data out of a link with no DNS prefetching? &#160;Some
</I>&gt;<i> users will click the link, but not all. &#160;Maybe quite a lot if you
</I>&gt;<i> allow arbitrary CSS, of course . . . you could easily make the whole
</I>&gt;<i> post a link. &#160;But &quot;everyone who clicks on a given post for some
</I>&gt;<i> reason&quot; is still a lot less than &quot;all viewers&quot;, which is what image
</I>&gt;<i> inclusions will do.
</I>
Well, given that the attacker can use CSS, the attacker can make the
hyperlink fill the entre content area (or at least the area occupied
by the iframe).  The attacker can also use the :hover selector to make
interesting things happen when the user mouses over the link.

The point is that stopping exfiltration is a losing battle that we
shouldn't bother to play.

Adam

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="067100.html">[whatwg] some thoughts on sandboxed IFRAMEs
</A></li>
	<LI>Next message: <A HREF="067106.html">[whatwg] some thoughts on sandboxed IFRAMEs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67101">[ date ]</a>
              <a href="thread.html#67101">[ thread ]</a>
              <a href="subject.html#67101">[ subject ]</a>
              <a href="author.html#67101">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
