<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] How do sandboxed iframes interact with localStorage /	sessionStorage / databases / etc?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20How%20do%20sandboxed%20iframes%20interact%20with%20localStorage%20/%0A%09sessionStorage%20/%20databases%20/%20etc%3F&In-Reply-To=%3C7789133a1001090040j75b8e27aq28241bde38009315%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066979.html">
   <LINK REL="Next"  HREF="067016.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] How do sandboxed iframes interact with localStorage /	sessionStorage / databases / etc?</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20How%20do%20sandboxed%20iframes%20interact%20with%20localStorage%20/%0A%09sessionStorage%20/%20databases%20/%20etc%3F&In-Reply-To=%3C7789133a1001090040j75b8e27aq28241bde38009315%40mail.gmail.com%3E"
       TITLE="[whatwg] How do sandboxed iframes interact with localStorage /	sessionStorage / databases / etc?">whatwg at adambarth.com
       </A><BR>
    <I>Sat Jan  9 00:40:56 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="066979.html">[whatwg] File API - does Blob 'track' the changes in the	underlying file on the disk?
</A></li>
        <LI>Next message: <A HREF="067016.html">[whatwg] How do sandboxed iframes interact with localStorage / sessionStorage / databases / etc?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66980">[ date ]</a>
              <a href="thread.html#66980">[ thread ]</a>
              <a href="subject.html#66980">[ subject ]</a>
              <a href="author.html#66980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>The following question came up in implementing the sandbox attribute in WebKit:

[[
Description From Patrik Persson 2009-12-10 02:18:50 PST (-) [reply]
This is a followup to bug 21288, which concerned the implementation of
the HTML5 iframe sandbox attribute.

How should WebKit interpret the HTML5 spec regarding sandboxed storage
and databases?  I believe the HTML5 spec does not say much explicitly
on this, but rather relies on the origin sandboxing.  Here is my
interpretation.

* I think sessionStorage would make sense with sandboxed origins.

* I think localStorage would end up equivalent to sessionStorage in a
  sandboxed frame, making it somewhat less useful. (The unique origin
  of a sandboxed frame means, in my interpretation, that the same
  frame would not be able to access its own localStorage in another
  session.)

* Similarly, I think a sandboxed database would be useful only within
  a session.  The database could be reclaimed when the session ends.
  This defeats much of the purpose of databases, but perhaps it would
  still be useful for compatibility.

The current implementation disables storage and databases in sandboxed
frames.  There is some more discussion in the thread for bug 21288,
comments 43..49:
]] -- <A HREF="https://bugs.webkit.org/show_bug.cgi?id=32369">https://bugs.webkit.org/show_bug.cgi?id=32369</A>

I think that disabling access to these APIs makes sense given that we
disable access to cookies.

Adam

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066979.html">[whatwg] File API - does Blob 'track' the changes in the	underlying file on the disk?
</A></li>
	<LI>Next message: <A HREF="067016.html">[whatwg] How do sandboxed iframes interact with localStorage / sessionStorage / databases / etc?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66980">[ date ]</a>
              <a href="thread.html#66980">[ thread ]</a>
              <a href="subject.html#66980">[ subject ]</a>
              <a href="author.html#66980">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
