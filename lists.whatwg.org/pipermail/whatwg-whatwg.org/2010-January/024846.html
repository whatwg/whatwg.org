<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] valueAsNumber: float is not enough
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20valueAsNumber%3A%20float%20is%20not%20enough&In-Reply-To=%3Cb7b4ecf81001260007n3d3b769clb9c5c1c8f2c2f1b6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024847.html">
   <LINK REL="Next"  HREF="024848.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] valueAsNumber: float is not enough</H1>
<!--htdig_noindex-->
    <B>TAMURA, Kent</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20valueAsNumber%3A%20float%20is%20not%20enough&In-Reply-To=%3Cb7b4ecf81001260007n3d3b769clb9c5c1c8f2c2f1b6%40mail.gmail.com%3E"
       TITLE="[whatwg] valueAsNumber: float is not enough">tkent at chromium.org
       </A><BR>
    <I>Tue Jan 26 00:07:43 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="024847.html">[whatwg] &lt;object&gt; behavior
</A></li>
        <LI>Next message: <A HREF="024848.html">[whatwg] [Input type=submit] &quot;Disable&quot; after submitting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24846">[ date ]</a>
              <a href="thread.html#24846">[ thread ]</a>
              <a href="subject.html#24846">[ subject ]</a>
              <a href="author.html#24846">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE><A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#the-input-element">http://www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#the-input-element</A>
&lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#the-input-element">http://www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#the-input-element</A>&gt;

          attribute float valueAsNumber  
&lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/common-input-element-attributes.html#dom-input-valueasnumber">http://www.whatwg.org/specs/web-apps/current-work/multipage/common-input-element-attributes.html#dom-input-valueasnumber</A>&gt;;


valueAsNumber is defined as float, IEEE754 single precision number.
It should be double because number values for date and time types are
milliseconds from UNIX epoch.  As of today, milliseconds from UNIX epoch is
about 1,264,492,163,000.  The float type can't represent this value
precisely.
If we do the following with float valueAsNumber, the input value loses the
data.
   input.type = &quot;datetime&quot;;
   input.value = &quot;2010-01-26T08:00Z&quot;;
   var num = input.valueAsNumber;
   input.valueAsNumber = num;

-- 
TAMURA Kent
Software Engineer, Google



-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100126/2c6e00a8/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100126/2c6e00a8/attachment.htm</A>&gt;
</PRE>














<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024847.html">[whatwg] &lt;object&gt; behavior
</A></li>
	<LI>Next message: <A HREF="024848.html">[whatwg] [Input type=submit] &quot;Disable&quot; after submitting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24846">[ date ]</a>
              <a href="thread.html#24846">[ thread ]</a>
              <a href="subject.html#24846">[ subject ]</a>
              <a href="author.html#24846">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
