<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [foaf-protocols] keygen substitute for Windows?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bfoaf-protocols%5D%20keygen%20substitute%20for%20Windows%3F&In-Reply-To=%3C2272F99A-2D1A-46BB-95ED-215CA6AA4A70%40bblfish.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024762.html">
   <LINK REL="Next"  HREF="024774.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [foaf-protocols] keygen substitute for Windows?</H1>
<!--htdig_noindex-->
    <B>Story Henry</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bfoaf-protocols%5D%20keygen%20substitute%20for%20Windows%3F&In-Reply-To=%3C2272F99A-2D1A-46BB-95ED-215CA6AA4A70%40bblfish.net%3E"
       TITLE="[whatwg] [foaf-protocols] keygen substitute for Windows?">henry.story at bblfish.net
       </A><BR>
    <I>Tue Jan 19 07:07:54 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="024762.html">[whatwg] bidi embedding for block-level elements
</A></li>
        <LI>Next message: <A HREF="024774.html">[whatwg] [foaf-protocols] keygen substitute for Windows?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24771">[ date ]</a>
              <a href="thread.html#24771">[ thread ]</a>
              <a href="subject.html#24771">[ subject ]</a>
              <a href="author.html#24771">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> Apologies for the late participation on this topic. I've been working on 
</I>&gt;<i> FOAF+SSL with Henry Story (who advocated a few months ago the 
</I>&gt;<i> introduction of &lt;keygen&gt; in HTML 5 for this purpose).
</I>&gt;<i> I've only just found the time to investigate the certificate generation 
</I>&gt;<i> issue on Windows/Internet Explorer (using ActiveX, XEnroll and 
</I>&gt;<i> CertEnroll). I've updated this wiki page accordingly: 
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://esw.w3.org/topic/foaf%2Bssl">http://esw.w3.org/topic/foaf%2Bssl</A>
</I>
Thanks for this great investigative work.

&gt;<i> 
</I>&gt;<i> Whilst I'm very supportive of having a key-generation mechanism in the 
</I>&gt;<i> browser, I'm now not entirely sure the &lt;keygen&gt; tag, at least as a 
</I>&gt;<i> legacy of the Netscape &lt;keygen&gt; tag, is the correct approach.
</I>
I think that part of the html5 goals is to describe how browsers actually work, without going into endless debates about how they SHOULD work. Given that Netscape, Firefox, Opera and Safari implement the &lt;keygen&gt; tag - and have done so for a very long time - it seems quite reasonable to describe that behaviour in html5. 

Once this is described it is then possible to find ways either to extend on the current behaviour or to find ways to improve it. Until now this topic was only something a few people could discuss.

&gt;<i> More specifically:
</I>&gt;<i> 
</I>&gt;<i> 1. The more modern APIs (generateCRMFRequest [1] on Firefox or 
</I>&gt;<i> CertEnroll/XEnroll on Internet Explorer [2]) appear to offer more 
</I>&gt;<i> options in general, for example, where to store the private key, is it 
</I>&gt;<i> exportable, etc. (I haven't looked in details, but I suspect it could be 
</I>&gt;<i> envisaged to use some existing key material from a software store or 
</I>&gt;<i> smartcard too, for example.)
</I>&gt;<i> This raises the question as to whether a tag is sufficient or 
</I>&gt;<i> appropriate to express what's required for a CA, or if an API (and more 
</I>&gt;<i> programming) is required.
</I>
I think there should be a strong preference for declarative ways of doing things if possible, ie to use HTML tags. Moving over to javascript has always seemed to me to be breaking one foundational element of the web.

As proof of the advantage of this way of working: the keygen tag has functioned across browser generations without change (I think).

Microsoft's ActiveX component on the other hand (as I understand required the calling of a Windows specific binary technology! The naming of a dll. This meant that when they changed the dll code that was written for browsers also had to change!

<A HREF="http://msdn.microsoft.com/en-us/library/bb931379%28VS.85%29.aspx">http://msdn.microsoft.com/en-us/library/bb931379%28VS.85%29.aspx</A>

[[
Prior to Windows Vista, the Certificate Enrollment Control was implemented in Xenroll.dll. The Xenroll.dll library has been removed from the operating system and replaced by CertEnroll.dll.]]

The web is described with no reference to CPU architecture. I am seriously against bringing such low level aspects into day to day web programming. 

&gt;<i> 
</I>&gt;<i> 2. The SPKAC format seems to be a legacy format. It doesn't really allow 
</I>&gt;<i> to convey much information that CAs would expect, unlike other formats 
</I>&gt;<i> used by the more modern APIs [3][4]. Perhaps it would be better to use 
</I>&gt;<i> one of the newer formats instead. This might break the compatibility 
</I>&gt;<i> with the pre-HTML 5 use of &lt;keygen&gt; (maybe another name than &lt;keygen&gt; in 
</I>&gt;<i> HTML5 would be better?).
</I>
Perhaps extensions to keygen would be an interesting idea. 
At least it is document now.

&gt;<i> 
</I>&gt;<i> Of course, the other big question is whether it's worth trying to 
</I>&gt;<i> standardise this &lt;keygen&gt; tag if there's no intent of support from major 
</I>&gt;<i> browser vendors (I have IE in mind here).
</I>
There are 3 browser vendors that have implemented it. That is enough of a precedent to standardise. If one browser vendor requires people to use binaries that tie people to their platform, it seems that it is quite clear what the reasons for that may be, and those reasons have in the past been deemed legally condemnable by both US and EU courts. Let us rather assume that that vendor decided to pursue that activity due to lack of standardisation in this space. 

Henry

&gt;<i> 
</I>&gt;<i> Best wishes,
</I>&gt;<i> 
</I>&gt;<i> Bruno.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> [1] <A HREF="https://developer.mozilla.org/en/GenerateCRMFRequest">https://developer.mozilla.org/en/GenerateCRMFRequest</A>
</I>&gt;<i> [2] <A HREF="http://msdn.microsoft.com/en-us/library/aa374863%28VS.85%29.aspx">http://msdn.microsoft.com/en-us/library/aa374863%28VS.85%29.aspx</A>
</I>&gt;<i> [3] <A HREF="http://tools.ietf.org/html/rfc2986">http://tools.ietf.org/html/rfc2986</A>
</I>&gt;<i> [4] <A HREF="http://tools.ietf.org/html/rfc4211">http://tools.ietf.org/html/rfc4211</A>
</I>
</PRE>


















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024762.html">[whatwg] bidi embedding for block-level elements
</A></li>
	<LI>Next message: <A HREF="024774.html">[whatwg] [foaf-protocols] keygen substitute for Windows?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24771">[ date ]</a>
              <a href="thread.html#24771">[ thread ]</a>
              <a href="subject.html#24771">[ subject ]</a>
              <a href="author.html#24771">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
