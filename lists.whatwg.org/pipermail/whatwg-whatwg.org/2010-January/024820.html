<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Drag-and-drop feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Drag-and-drop%20feedback&In-Reply-To=%3C6ea53251001230352r32930042maeb44570a97ce7fe%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024818.html">
   <LINK REL="Next"  HREF="024840.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Drag-and-drop feedback</H1>
<!--htdig_noindex-->
    <B>Eduard Pascual</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Drag-and-drop%20feedback&In-Reply-To=%3C6ea53251001230352r32930042maeb44570a97ce7fe%40mail.gmail.com%3E"
       TITLE="[whatwg] Drag-and-drop feedback">herenvardo at gmail.com
       </A><BR>
    <I>Sat Jan 23 03:52:46 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="024818.html">[whatwg] Drag-and-drop feedback
</A></li>
        <LI>Next message: <A HREF="024840.html">[whatwg] Drag-and-drop feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24820">[ date ]</a>
              <a href="thread.html#24820">[ thread ]</a>
              <a href="subject.html#24820">[ subject ]</a>
              <a href="author.html#24820">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, Jan 23, 2010 at 11:30 AM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i> On Mon, 17 Aug 2009, Jian Li wrote:
</I>&gt;&gt;<i> [...]
</I>&gt;&gt;<i> The issue that I'm having is that if the DataTransfer object says that
</I>&gt;&gt;<i> it has Files, I have no way to determine what type those files are. (In
</I>&gt;&gt;<i> this case, I only want to accept image files.) I understand that the
</I>&gt;&gt;<i> DataTransfer shouldn't have the content of the files for security
</I>&gt;&gt;<i> reasons, but it would be helpful if it did contain the file names and/or
</I>&gt;&gt;<i> MIME types.
</I>&gt;<i>
</I>&gt;<i> I could provide a second attribute with the types of the files, would that
</I>&gt;<i> work? I suppose if we did this, we should remove the &quot;Files&quot; fake type.
</I>&gt;<i> That might not be a bad idea in general, it's kind of a hack. I'm not sure
</I>&gt;<i> how I feel about having multiple different ways of representing the data
</I>&gt;<i> in a DataTransfer object... It would give a clean precedent for adding
</I>&gt;<i> other features, though, like promises, which some people have requested.
</I>Would it be possible to provide a list of &quot;drag items&quot; (to call them
somehow) instead of, or in addition to, the current info provided by
the DataTransfer object?
More formally, add a property of type &quot;DragItemList&quot; that might be
called &quot;DragItems&quot;. The &quot;DragItem&quot; type (building brick for
&quot;DragItemList&quot;) could provide the data and meta-data for each object
being dragged (that'd be the getData, clearData, and setData methods,
a readonly string &quot;type&quot; and a readonly boolean &quot;isFile&quot;).
In principle, that list could actually replace the DataTransfer
object. In order to keep compatibility with existing content, either
of these approaches could work:
1) Actually replace the DataTransfer object with the DragItemList, but
make the DragItemList type implement DataTransfer's interface.
2) Instead of replacing, add the list as a new
field/property/attribute/whatever-you-call-it to the DataTransfer
object.
This approach would solve the issues of dragging multiple files and
the potential drop targets needing to check the metadata (such as the
type); but in addition would seamlessly adapt if in the future a
mechanism of performing a multi-object drag appear. Keeping in mind
how many modern software can already handle &quot;multiple&quot; selections,
that seems a quite near feature.
For example, in some word processors it's possible to hold the Ctrl
key while dragging the mouse over the text to select additional text
fragments: when such a &quot;split&quot; selection is dragged or sent to the
clipboard, the text fragments are typically concatenated; but if the
drop or paste target is any kind of list, it would be reasonable (and
in some cases a significant upgrade in usefulness) to import the
fragments as separate entries for the list. As long as the drag (or
cut/copy) source provides some metadata to identify the boundaries of
each fragment, this functionality enhancement would be quite easy to
implement (currently, it is impossible on most contexts).

Anyway, that's just an idea.
BTW, all the type and member names used in the proposal are arbitrary
and can be changing for anything more convenient. The only purpose of
those names was to describe what they represent.

Regards,
Eduard Pascual
</PRE>




<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024818.html">[whatwg] Drag-and-drop feedback
</A></li>
	<LI>Next message: <A HREF="024840.html">[whatwg] Drag-and-drop feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24820">[ date ]</a>
              <a href="thread.html#24820">[ thread ]</a>
              <a href="subject.html#24820">[ subject ]</a>
              <a href="author.html#24820">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
