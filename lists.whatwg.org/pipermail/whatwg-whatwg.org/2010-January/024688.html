<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTMLCanvasElement.toFile()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTMLCanvasElement.toFile%28%29&In-Reply-To=%3C63df84f1001071141u490ea9c6rae17abc705e3dd43%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066957.html">
   <LINK REL="Next"  HREF="066964.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTMLCanvasElement.toFile()</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTMLCanvasElement.toFile%28%29&In-Reply-To=%3C63df84f1001071141u490ea9c6rae17abc705e3dd43%40mail.gmail.com%3E"
       TITLE="[whatwg] HTMLCanvasElement.toFile()">jonas at sicking.cc
       </A><BR>
    <I>Thu Jan  7 11:41:59 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="066957.html">[whatwg] The examples of the list attribute of the input element is	incorrect
</A></li>
        <LI>Next message: <A HREF="066964.html">[whatwg] HTMLCanvasElement.toFile()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24688">[ date ]</a>
              <a href="thread.html#24688">[ thread ]</a>
              <a href="subject.html#24688">[ subject ]</a>
              <a href="author.html#24688">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi web fans,

So at mozilla we've been implementing and playing around with various
File APIs lately. One of the most common use cases today for file
manipulation is photo uploaders. For example to sites like flickr,
facebook, twitpic and icanhascheezburger. Some of these sites allow
additional modifications of the uploaded image, most commonly cropping
and rotating the image. But even things like manipulating colors,
adding text, and red eye reduction are things that sites do, or would
like to do.

We do already have a great tool for image manipulation in HTML, the
canvas element. However if a site wants to upload the resulting image,
after the modifications, things become more painful. Currently you
have to call toDataURL(), send that URL using XMLHttpRequest, and then
serverside convert to binary data. Things will be a little better once
XHR supports sending manually constructed binary data, but you still
have to manually convert the data url to binary data in javascript.

I suggest we add a function like:

File toFile(in DOMString name, in optional DOMString type, in any... args);

This function takes the same arguments as toDataURL(), plus an
additional 'name' argument. It produces the same result as
toDataURL(), except that it returns the result as a File object rather
than as a data-url encoded string. This can then be directly sent
using XMLHttpRequest.

/ Jonas
</PRE>












<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066957.html">[whatwg] The examples of the list attribute of the input element is	incorrect
</A></li>
	<LI>Next message: <A HREF="066964.html">[whatwg] HTMLCanvasElement.toFile()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24688">[ date ]</a>
              <a href="thread.html#24688">[ thread ]</a>
              <a href="subject.html#24688">[ subject ]</a>
              <a href="author.html#24688">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
