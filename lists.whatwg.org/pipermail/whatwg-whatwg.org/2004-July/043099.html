<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Re: several messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Re%3A%20several%20messages&In-Reply-To=%3CPine.LNX.4.58.0407011144230.3456%40dhalsim.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043098.html">
   <LINK REL="Next"  HREF="043110.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Re: several messages</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Re%3A%20several%20messages&In-Reply-To=%3CPine.LNX.4.58.0407011144230.3456%40dhalsim.dreamhost.com%3E"
       TITLE="[whatwg] Re: several messages">ian at hixie.ch
       </A><BR>
    <I>Thu Jul  1 05:08:22 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="043098.html">[whatwg] Re: several messages
</A></li>
        <LI>Next message: <A HREF="043110.html">[whatwg] Re: several messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43099">[ date ]</a>
              <a href="thread.html#43099">[ thread ]</a>
              <a href="subject.html#43099">[ subject ]</a>
              <a href="author.html#43099">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
Just to clarify -- in my post I included two syntax examples. They are
actually the same syntax, and both would be allowed. Whether you use one
or the other is a matter of choice (dependent on whether you want legacy
UAs to just have a text box, or have a text box and a select box).

On Wed, 30 Jun 2004, Matthew Raymond wrote:
&gt;&gt;<i>
</I>&gt;&gt;<i> If backwards compatibility is not important:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    &lt;p&gt;
</I>&gt;&gt;<i>     &lt;label&gt;
</I>&gt;&gt;<i>      Select a breed:
</I>&gt;&gt;<i>      &lt;input type=&quot;text&quot; name=&quot;breed&quot; data=&quot;breeds&quot;&gt;
</I>&gt;&gt;<i>      &lt;datalist id=&quot;breeds&quot;&gt;
</I>&gt;&gt;<i>       &lt;option value=&quot;Abyssinian&quot;&gt;
</I>&gt;&gt;<i>       &lt;option value=&quot;Alpaca&quot;&gt;
</I>&gt;&gt;<i>       &lt;!-- ... --&gt;
</I>&gt;&gt;<i>      &lt;/datalist&gt;
</I>&gt;&gt;<i>     &lt;/label&gt;
</I>&gt;&gt;<i>    &lt;/p&gt;
</I>&gt;<i>
</I>&gt;<i> How is this not backward compatible? For both UA types, the a single
</I>&gt;<i> value is submitted under the name &quot;breed&quot;. In both cases, the input
</I>&gt;<i> submitted is available for editing in a textbox prior to submission.
</I>&gt;<i> ECMAScript can be used to implement the drop-down menu on non-WF2 user
</I>&gt;<i> agents. Seems rather backward compatible to me.
</I>
Yes, it's backwards compatible. I wouldn't have proposed it at all if it
wasn't! :-) However, the list is not available to legacy UAs.


&gt;&gt;<i> If it is:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    &lt;p&gt;
</I>&gt;&gt;<i>     &lt;label&gt;
</I>&gt;&gt;<i>      Select a breed:
</I>&gt;&gt;<i>      &lt;input type=&quot;text&quot; name=&quot;breed&quot; data=&quot;breeds&quot;&gt;
</I>&gt;&gt;<i>     &lt;/label&gt;
</I>&gt;&gt;<i>     &lt;datalist id=&quot;breeds&quot;&gt;
</I>&gt;&gt;<i>      &lt;label&gt;
</I>&gt;&gt;<i>       or select one from the list:
</I>&gt;&gt;<i>       &lt;select name=&quot;breed&quot;&gt;
</I>&gt;&gt;<i>        &lt;option&gt;Abyssinian
</I>&gt;&gt;<i>        &lt;option&gt;Alpaca
</I>&gt;&gt;<i>        &lt;!-- ... --&gt;
</I>&gt;&gt;<i>       &lt;/select&gt;
</I>&gt;&gt;<i>      &lt;/label&gt;
</I>&gt;&gt;<i>     &lt;/datalist&gt;
</I>&gt;&gt;<i>    &lt;/p&gt;
</I>&gt;<i>
</I>&gt;<i> Well, this could be done, but it's not very clean markup, plus non-WF2
</I>&gt;<i> UAs would be submitting two values under the same name. You could use
</I>&gt;<i> scripting to solve this, but then what's the advantage over the first
</I>&gt;<i> example?
</I>
The advantage is that in non-scripting UAs, it shows the list.

Again, both examples would be possible if we take my proposal.


&gt;<i> Then again, the webmaster may not have a problem with the way the values
</I>&gt;<i> are returned to the server. In that case, however, there's another way
</I>&gt;<i> to accomplish the same thing:
</I>&gt;<i>
</I>&gt;<i>     &lt;cl id=&quot;breeds&quot;&gt;
</I>&gt;<i>       &lt;option value=&quot;Abyssinian&quot;&gt;&lt;/option&gt;
</I>&gt;<i>       &lt;option value=&quot;Alpaca&quot;&gt;&lt;/option&gt;
</I>&gt;<i>       &lt;!-- ... --&gt;
</I>&gt;<i>     &lt;/cl&gt;
</I>&gt;<i>
</I>&gt;<i>     &lt;p&gt;
</I>&gt;<i>       &lt;label&gt;
</I>&gt;<i>         Select a breed:
</I>&gt;<i>         &lt;input type=&quot;text&quot; name=&quot;breed&quot; list=&quot;breeds&quot;&gt;
</I>&gt;<i>       &lt;/label&gt;
</I>&gt;<i>       &lt;label repeat=&quot;template&quot; repeat-start=&quot;0&quot;&gt;
</I>&gt;<i>         or select one from the list:
</I>&gt;<i>         &lt;select name=&quot;breed&quot;&gt;
</I>&gt;<i>           &lt;option&gt;Abyssinian&lt;/option&gt;
</I>&gt;<i>           &lt;option&gt;Alpaca&lt;/option&gt;
</I>&gt;<i>           &lt;!-- ... --&gt;
</I>&gt;<i>         &lt;/select&gt;
</I>&gt;<i>       &lt;/label&gt;
</I>&gt;<i>     &lt;/p&gt;
</I>
This is equivalent to my proposal, except with list=&quot;&quot; instead of data=&quot;&quot;,
&lt;cl&gt; instead of &lt;datalist&gt;, and using a repetition template to hide the
legacy content instead of &lt;datalist&gt;.

I don't mind using list=&quot;&quot; instead of data=&quot;&quot;. In fact I'm not really
happy with using data=&quot;&quot; since it isn't a URI like the other two data=&quot;&quot;
attributes in WF2.

I prefer &lt;datalist&gt; to &lt;cl&gt; because I generally don't like short names,
especially for things that won't be used as much as &lt;p&gt;.

I much prefer using &lt;datalist&gt; rather than a repetition template, because
calling that a template is a misuse of semantics and could, e.g., severely
confuse assistive technologies.


&gt;<i> The only drawback to this method is that the list is repeated. But
</I>&gt;<i> perhaps we can fix that:
</I>&gt;<i>
</I>&gt;<i>     &lt;p&gt;
</I>&gt;<i>       &lt;label&gt;
</I>&gt;<i>         Select a breed:
</I>&gt;<i>         &lt;input type=&quot;text&quot; name=&quot;breed&quot; list=&quot;breeds&quot;&gt;
</I>&gt;<i>       &lt;/label&gt;
</I>&gt;<i>       &lt;label repeat=&quot;template&quot; repeat-start=&quot;0&quot;&gt;
</I>&gt;<i>         or select one from the list:
</I>&gt;<i>         &lt;select name=&quot;breed&quot; id=&quot;breeds&quot;&gt;
</I>&gt;<i>           &lt;option&gt;Abyssinian&lt;/option&gt;
</I>&gt;<i>           &lt;option&gt;Alpaca&lt;/option&gt;
</I>&gt;<i>           &lt;!-- ... --&gt;
</I>&gt;<i>         &lt;/select&gt;
</I>&gt;<i>       &lt;/label&gt;
</I>&gt;<i>     &lt;/p&gt;
</I>
Apart from the name of the &quot;list&quot; attribute, that would work with what I
proposed.


&gt;<i> It may just be me, but it seems like the first and second examples are
</I>&gt;<i> intentionally written to disregard my suggestion of using the same
</I>&gt;<i> structure for both combo items and context menus. In fact, the whole
</I>&gt;<i> construction of this example seems to subtly undermine such an approach.
</I>
There was not supposed to be anything subtle about it -- sorry! :-)

I do not think that an autocomplete list and a context menu have any more
in common than an &lt;ol&gt; and a &lt;select&gt;.

Menus have to allow for nesting, for radio selections, check marks, icons,
status bar hints, onclick events, can be disabled, can be the default, can
have separators, can be linked to toolbar buttons, etc.

An autocomplete list in this context is just a list of values.


&gt;&gt;<i> Basically, we add a &quot;data&quot; attribute to &lt;input&gt; elements which applies to
</I>&gt;&gt;<i> the &quot;text&quot;, &quot;uri&quot;, &quot;email&quot;, &quot;number&quot;, &quot;range&quot;, and date- and time- related
</I>&gt;&gt;<i> types. This attribute points to a &lt;datalist&gt; or &lt;select&gt; element (or maybe
</I>&gt;&gt;<i> any element).
</I>&gt;<i>
</I>&gt;<i> Any element that handles lists: &lt;select&gt;, &lt;li&gt;, &lt;table&gt;, et cetera.
</I>
&lt;li&gt; and &lt;table&gt; don't have &lt;option&gt; children. By &quot;any element&quot; I meant
any element with an ID; you would still be looking for &lt;option&gt;elements
and would therefore still require a &lt;datalist&gt; or &lt;select&gt; somewhere in
there. I don't really see there being much advantage to allowing it to
point to any element to be honest, except it being easier to implement.


&gt;<i> Most webmasters will think that the |autocomplete| attribute would
</I>&gt;<i> handle this, only it currently handles values that the UA remembers for
</I>&gt;<i> you. Then again, this is a pretty common behavior for a combo box, so
</I>&gt;<i> perhaps such control of autocompletion is not necessary...
</I>
Yes, we really need an attribute name that implies &quot;here are some more
values to add to the autocomplete list&quot;.

Although in the case of, e.g., a type=&quot;range&quot; control, I would expect the
values to simply denote where the UA should put the snap-to tick marks.


&gt;&gt;<i> All the contents of &lt;datalist&gt; elements are hidden on WF2 UAs, and can
</I>&gt;&gt;<i> thus be used as the fallback rendering for legacy UAs. Controls inside
</I>&gt;&gt;<i> &lt;datalist&gt; elements are never successful in WF2 UAs. &lt;datalist&gt; doesn't
</I>&gt;&gt;<i> take any attributes other than the common attributes.
</I>&gt;<i>
</I>&gt;<i> As I stated before, I don't like the idea of having a wrapper around
</I>&gt;<i> markup intended for legacy UAs, especially since it results in a greater
</I>&gt;<i> amount of markup on WF2-only pages. Compare:
</I>&gt;<i>
</I>&gt;<i>     &lt;datalist id=&quot;breeds&quot;&gt;
</I>&gt;<i>       &lt;select&gt;
</I>&gt;<i>         &lt;option&gt;Abyssinian&lt;/option&gt;
</I>&gt;<i>         &lt;option&gt;Alpaca&lt;/option&gt;
</I>&gt;<i>         &lt;!-- ... --&gt;
</I>&gt;<i>       &lt;/select&gt;
</I>&gt;<i>     &lt;/datalist&gt;
</I>&gt;<i>
</I>&gt;<i>     ...Versus this...
</I>&gt;<i>
</I>&gt;<i>     &lt;cl id=&quot;breeds&quot;&gt;
</I>&gt;<i>       &lt;option&gt;Abyssinian&lt;/option&gt;
</I>&gt;<i>       &lt;option&gt;Alpaca&lt;/option&gt;
</I>&gt;<i>       &lt;!-- ... --&gt;
</I>&gt;<i>     &lt;/cl&gt;
</I>
vs this, which is also allowed in my model:

     &lt;datalist id=&quot;breeds&quot;&gt;
       &lt;option value=&quot;Abyssinian&quot;&gt;
       &lt;option value=&quot;Alpaca&quot;&gt;
       &lt;!-- ... --&gt;
     &lt;/datalist&gt;

I prefer this last one, if you don't need it to fallback for legacy UAs.
And if you do, there is the first one.


&gt;&gt;<i> This doesn't address all the problems I raised earlier. In particular, it
</I>&gt;&gt;<i> is still possible for legacy UAs to end up submitting two values. It has
</I>&gt;&gt;<i> advantages though, like you can leverage the data=&quot;&quot; attribute on the
</I>&gt;&gt;<i> &lt;select&gt; element:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    &lt;input type=&quot;datetime&quot; data=&quot;calendar&quot; name=&quot;d&quot;&gt;
</I>&gt;&gt;<i>    &lt;datalist id=&quot;calendar&quot;&gt;
</I>&gt;&gt;<i>     &lt;select data=&quot;calendar.xml&quot;&gt;&lt;/select&gt;
</I>&gt;&gt;<i>    &lt;/datalist&gt;
</I>&gt;<i>
</I>&gt;<i> This doesn't make sense. Why should we have the &lt;select&gt; load the data
</I>&gt;<i> when the &lt;select&gt; isn't even rendered? Granted, it would be a good
</I>&gt;<i> attribute for a &lt;select&gt; on its own, but not in this context.
</I>
Whether something is rendered or not has no effect on anything else it
does. Something not being rendered just means it has display:none.

As an example, &lt;input type=&quot;hidden&quot;&gt; is not rendered, but it still gets
submitted.


&gt;&gt;<i> Or maybe we can simply allow data=&quot;&quot; on the &lt;datalist&gt;:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    &lt;datalist id=&quot;calendar&quot; data=&quot;calendar.xml&quot;&gt;&lt;/datalist&gt;
</I>&gt;&gt;<i>    &lt;input type=&quot;datetime&quot; data=&quot;calendar&quot; name=&quot;d&quot;&gt;
</I>&gt;<i>
</I>&gt;<i>     Better idea:
</I>&gt;<i>
</I>&gt;<i>     &lt;cl id=&quot;calendar&quot; data=&quot;calendar.xml&quot;&gt;&lt;/cl&gt;
</I>&gt;<i>     &lt;input type=&quot;datetime&quot; list=&quot;calendar&quot; name=&quot;d&quot;&gt;
</I>
(I slightly tweaked the two examples above so they were both HTML, not
XML, and so that they both had the list before the input. This makes them
easier to compare.)

&gt;<i> It's much cleaner, and you don't get confused by the differing uses of
</I>&gt;<i> the |data| attribute, because it only has one use.
</I>
Yes, I agree that &quot;data&quot; is a poor name for an attribute. Other than that,
though, they seem equivalent.

Ok, unless someone comes up with an even better name, assume my proposal
uses &quot;list&quot; instead of &quot;data&quot; as the attribute on input elements.


&gt;<i> Hmm... That give me an idea:
</I>&gt;<i>
</I>&gt;<i>     &lt;cl id=&quot;cutcopy&quot; data=&quot;cutcopy_items.xml&quot; /&gt;
</I>&gt;<i>     &lt;input type=&quot;text&quot; name=&quot;d&quot; context=&quot;cutcopy&quot; /&gt;
</I>
Web Apps 1.0 will do something list that.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043098.html">[whatwg] Re: several messages
</A></li>
	<LI>Next message: <A HREF="043110.html">[whatwg] Re: several messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43099">[ date ]</a>
              <a href="thread.html#43099">[ thread ]</a>
              <a href="subject.html#43099">[ subject ]</a>
              <a href="author.html#43099">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
