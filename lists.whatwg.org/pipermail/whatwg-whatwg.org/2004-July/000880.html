<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Save a web page
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg-whatwg.org%40lists.whatwg.org?Subject=%5Bwhatwg%5D%20Save%20a%20web%20page&In-Reply-To=39fef8d404070114251679f83c%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000874.html">
   <LINK REL="Next"  HREF="000881.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Save a web page</H1>
<!--htdig_noindex-->
    <B>Lachlan Hunt</B> 
    <A HREF="mailto:whatwg-whatwg.org%40lists.whatwg.org?Subject=%5Bwhatwg%5D%20Save%20a%20web%20page&In-Reply-To=39fef8d404070114251679f83c%40mail.gmail.com"
       TITLE="[whatwg] Save a web page">lachlan.hunt at iinet.net.au
       </A><BR>
    <I>Fri Jul  2 01:00:06 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000874.html">[whatwg] Save a web page
</A></li>
        <LI>Next message: <A HREF="000881.html">[whatwg] Save a web page
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#880">[ date ]</a>
              <a href="thread.html#880">[ thread ]</a>
              <a href="subject.html#880">[ subject ]</a>
              <a href="author.html#880">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Edmund Lai wrote:
&gt;<i> All I am asking is that if the browser saves the page, fire a onSave
</I>&gt;<i> event first.
</I>
   As a user, I would not want any such feature.  When I save a page, I 
expect it to be saved unaltered, except maybe image, script and css 
paths, if they're saved as well.  Unfortunately, current browsers break 
this rule [1].

   An onSave event would allow the author control over something that 
only the user and the user agent should be able to control.  With an 
onSave event, an author could, for example, set off a function that will 
remove all content from the page, in a febal attempt to protect their 
copyright from the average user.  eg.

function onSaveEventHandler() {
     var body = document.getElementsByTagName(&quot;body&quot;);

     // Remove all child nodes of &lt;body&gt;
     while (body[0].hasChildNodes) {
         body[0].removeChild(body[0].childNodes[0]);
     }

     // Create warning message
     var text = document.createTextNode(&quot;Sorry, you cannot save this 
document&quot;);
     var p = document.createElement(&quot;p&quot;);
     p.appendChild(text);

     // Add warning message to body
     body[0].appendChild(p);
}

   Despite the fact that computer literate people like us can usually 
get around evil scripts like that, the majority of user's won't know 
how, and will just get frustrated.

   It is the user agent's job to save the document, not the authors, 
thus the user agent, with the user's permission, should have control.  I 
would support user agents providing an *option* to save the current form 
field values, but that *must* be the choice of the user to do so, not 
the author or user agent.  So, it is definately out of the scope of WF2

[1] Note: Mozilla and IE (I think), when saving as a complete web page 
(including images, script, css, etc.), attempt to convert XHTML to HTML 
when it's been served as text/html, without changing the DOCTYPE, so any 
XHTML document saved becomed invalid, because all the closing / are 
removed from empty elements.  I get around this with Mozilla by using 
HTML only option.

-- 
Lachlan Hunt

<A HREF="http://www.lachy.id.au/">http://www.lachy.id.au/</A>
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">lachlan.hunt at lachy.id.au</A>

</PRE>


















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000874.html">[whatwg] Save a web page
</A></li>
	<LI>Next message: <A HREF="000881.html">[whatwg] Save a web page
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#880">[ date ]</a>
              <a href="thread.html#880">[ thread ]</a>
              <a href="subject.html#880">[ subject ]</a>
              <a href="author.html#880">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg-whatwg.org
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
