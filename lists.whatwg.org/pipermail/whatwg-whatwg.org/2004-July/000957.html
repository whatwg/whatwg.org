<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Re: overriding MIME type in accept attribute?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg-whatwg.org%40lists.whatwg.org?Subject=%5Bwhatwg%5D%20Re%3A%20overriding%20MIME%20type%20in%20accept%20attribute%3F&In-Reply-To=40EA031C.4020.D6621CB%40localhost">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000950.html">
   <LINK REL="Next"  HREF="001021.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Re: overriding MIME type in accept attribute?</H1>
<!--htdig_noindex-->
    <B>Malcolm Rowe</B> 
    <A HREF="mailto:whatwg-whatwg.org%40lists.whatwg.org?Subject=%5Bwhatwg%5D%20Re%3A%20overriding%20MIME%20type%20in%20accept%20attribute%3F&In-Reply-To=40EA031C.4020.D6621CB%40localhost"
       TITLE="[whatwg] Re: overriding MIME type in accept attribute?">malcolm-what at farside.org.uk
       </A><BR>
    <I>Tue Jul  6 01:20:20 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000950.html">[whatwg] overriding MIME type in accept attribute?
</A></li>
        <LI>Next message: <A HREF="001021.html">[whatwg] Re: overriding MIME type in accept attribute?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#957">[ date ]</a>
              <a href="thread.html#957">[ thread ]</a>
              <a href="subject.html#957">[ subject ]</a>
              <a href="author.html#957">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hallvord Reiar Michaelsen Steen writes:
&gt;<i> This part of the WF2 spec about the file upload: &quot;accept&quot; attribute 
</I>&gt;<i> seems a bit odd to me: 
</I>&gt;<i> 
</I>&gt;&gt;<i> UAs may allow the user to override the MIME type to be one of the 
</I>&gt;&gt;<i> allowable types if the file is originally incorrectly labeled (but 
</I>&gt;&gt;<i> should not allow users to override the type merely to let 
</I>&gt;&gt;<i> submission continue, as that would defeat the point of having a 
</I>&gt;&gt;<i> restriction in the first place)
</I>&gt;<i>
</I>&gt;<i> How is the UA to allow the user to override a MIME type and how on 
</I>&gt;<i> earth is it supposed to know the user's motivation for doing so?
</I>
Up to the UA. For example, if a file upload control had accept=&quot;image/*&quot;, a 
Windows-based UA could present a standard 'file open' dialog containing a 
list of all files matching that type (which, on a Windows machine, would 
probably be those files with file extensions that mapped to a matching MIME 
type). 

What the UA should not then do, IMO, is allow the user merely to change the 
file type in the dialog from 'Image Files' (or whatever) to 'All Files', and 
upload a differently-typed document. One possibility would be to present a 
warning dialog first, something like: 

&quot;The file that you are trying to upload is a [Microsoft Word 8.0 Document], 
but the server has requested only [image] files. If you believe that this 
file really is an [image] file, you can override this warning. 

[Upload anyway] [Cancel]&quot; 

(or something suitably mpt-filtered, anyway). 

&gt;<i> Another issue: on Windows, if I try to upload a file with no 
</I>&gt;<i> extension, how is the UA supposed to work out what the MIME type is? 
</I>&gt;<i> Content sniffing?
</I>
Up to the UA, and the correct answer is probably 'it can't'. This mechanism 
isn't supposed to prevent users uploading files that the server isn't 
interested in, it's supposed to make it easier for the server to identify 
what's valid, so that the user experience is improved. 

Or, to phrase the same problem another way: &quot;If I try to open a local file 
with no extension [via a file:// URL], how is the UA supposed to work out 
what the MIME type is?&quot;. 

Regards,
Malcolm 

</PRE>
















































































































































































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000950.html">[whatwg] overriding MIME type in accept attribute?
</A></li>
	<LI>Next message: <A HREF="001021.html">[whatwg] Re: overriding MIME type in accept attribute?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#957">[ date ]</a>
              <a href="thread.html#957">[ thread ]</a>
              <a href="subject.html#957">[ subject ]</a>
              <a href="author.html#957">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg-whatwg.org
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
