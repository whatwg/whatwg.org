<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Suggested changes to Web Forms 2.0,	2004-07-01 working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg-whatwg.org%40lists.whatwg.org?Subject=%5Bwhatwg%5D%20Suggested%20changes%20to%20Web%20Forms%202.0%2C%092004-07-01%20working&In-Reply-To=Pine.LNX.4.58.0407062314570.28534%40dhalsim.dreamhost.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001005.html">
   <LINK REL="Next"  HREF="001047.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Suggested changes to Web Forms 2.0,	2004-07-01 working</H1>
<!--htdig_noindex-->
    <B>Matthew Thomas</B> 
    <A HREF="mailto:whatwg-whatwg.org%40lists.whatwg.org?Subject=%5Bwhatwg%5D%20Suggested%20changes%20to%20Web%20Forms%202.0%2C%092004-07-01%20working&In-Reply-To=Pine.LNX.4.58.0407062314570.28534%40dhalsim.dreamhost.com"
       TITLE="[whatwg] Suggested changes to Web Forms 2.0,	2004-07-01 working">mpt at myrealbox.com
       </A><BR>
    <I>Thu Jul  8 00:31:58 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="001005.html">[whatwg] Suggested changes to Web Forms 2.0,	2004-07-01 working
	draft
</A></li>
        <LI>Next message: <A HREF="001047.html">[whatwg] Re: Suggested changes to Web Forms 2.0, 2004-07-01 working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1046">[ date ]</a>
              <a href="thread.html#1046">[ thread ]</a>
              <a href="subject.html#1046">[ subject ]</a>
              <a href="author.html#1046">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 7 Jul, 2004, at 1:30 PM, Ian Hickson wrote:
&gt;<i> ...
</I>&gt;<i> Editorial comments that I disagreed with were ignored without further  
</I>&gt;<i> comment. (In general I prefer not to make editorial changes,  
</I>&gt;<i> especially to normative parts of the spec, because in my experience  
</I>&gt;<i> &quot;harmless&quot; editorial
</I>&gt;<i> changes have a habbit of breaking things without anyone noticing.)
</I>
Fair enough, but as you yourself said, &quot;Readability is, IMHO, very  
important&quot;. :-)

&gt;<i> ...
</I>&gt;&gt;&gt;<i> *   Ease of authoring for authors with limited knowledge
</I>&gt;&gt;&gt;<i>     about XML, data models, etc, but familiar with
</I>&gt;&gt;&gt;<i>     commonly used languages such as HTML and ECMAScript.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 5.  Error: Mismatched tense. Either:
</I>&gt;&gt;<i>      *   &quot;with limited&quot; --&gt; &quot;who have limited&quot; and
</I>&gt;&gt;<i>          &quot;but familiar&quot; --&gt; &quot;but who are familiar&quot;
</I>&gt;&gt;<i>      *   &quot;familiar with&quot; --&gt; &quot;good knowledge of&quot;
</I>&gt;<i>
</I>&gt;<i> Disagree.
</I>
To me it expands as:
&gt;<i>
</I>&gt;<i> (1	) authors with limited knowledge about XML ...
</I>&gt;<i> but who are also
</I>&gt;<i> (2) authors with familiar with commonly used languages ...
</I>&gt;<i>
</I>and the latter doesn't make sense. But I can't explain why &quot;with&quot;  
attaches itself to &quot;authors&quot; so tightly. Oh well.

&gt;<i> ...
</I>&gt;&gt;&gt;<i> For instance, visual UAs may use a track bar control.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 33. Suggestion: Use more standard terminology.
</I>&gt;&gt;<i>      *   &quot;track bar&quot; --&gt; &quot;slider&quot;
</I>&gt;<i>
</I>&gt;<i> &quot;track bar&quot; is the control's name in the Win32 API. I'm not sure you  
</I>&gt;<i> can get much more standard.
</I>
Mac OS, Qt, and WxWindows use &quot;slider&quot;. (GTK+ uses &quot;scale&quot;.) And even  
for Win32 programmers, even allowing for varying spacing, it seems  
&quot;slider&quot; is *much* more common, API be damned.  
&lt;<A HREF="http://www.googlefight.com/cgi-bin/compare.pl?">http://www.googlefight.com/cgi-bin/compare.pl?</A> 
q1=win32+%28%22track+bar%22+OR+trackbar%29&amp;q2=win32+slider&amp;langue=us&gt;

&gt;<i> ...
</I>&gt;<i> [default for time/date fields discussed elsewhere]
</I>
&gt;<i> ...
</I>&gt;&gt;<i> 45. Suggestion: Follow this by specifying robust error-
</I>&gt;&gt;<i>     -handling for when people stuff up specifying an
</I>&gt;&gt;<i>     accept attribute.
</I>&gt;&gt;<i>      *   'If an upload control or a form element has an
</I>&gt;&gt;<i>          invalid accept attribute, the value is assumed
</I>&gt;&gt;<i>          to be &quot;*/*&quot;. Such an attribute for a file upload
</I>&gt;&gt;<i>          control still overrides any accept attribute for
</I>&gt;&gt;<i>          the relevant form element.'
</I>&gt;&gt;<i>      (Why? Because the faulty value is much more likely
</I>&gt;&gt;<i>      to be the author's attempt at a non-specialization
</I>&gt;&gt;<i>      exception to the form's rule, than an attempt at a
</I>&gt;&gt;<i>      specialization.
</I>&gt;<i>
</I>&gt;<i> I'm not convinced of your reasoning.
</I>&gt;<i>
</I>&gt;<i>    &lt;form ... accept=&quot;image/*&quot;&gt;
</I>&gt;<i>     ... &lt;input type=&quot;file&quot; ... accept=&quot;image/png&quot;&gt;
</I>&gt;<i>     ... &lt;input type=&quot;file&quot; ... accept=&quot;image/gif&quot;&gt;
</I>&gt;<i>     ... &lt;input type=&quot;file&quot; ... accept=&quot;image\tiff&quot;&gt;
</I>&gt;<i>    &lt;/form&gt;
</I>&gt;<i>
</I>&gt;<i> Do we really want to say that that last input control accepts  
</I>&gt;<i> audio/aiff?
</I>
No, but your example is extremely unrealistic in two ways.

Firstly, it's a very unlikely use case. Actually, I can't even think of  
*any* case where you'd want to upload three image files in three  
different and specific formats. (Even if they were the same picture,  
why not just upload the single most faithful format and get the server  
to produce the others? That'd be quicker, more accessible, and produce  
more reliable results than making users do their own conversions.)

More common will be things like an auction site that accepts several  
image/* pictures of something being auctioned, along with a text\html  
(oops!) description of the item. Or an audio archive site that accepts  
several audio/* files, along with a text?plain (oops!) transcript.

Secondly, authors will aim to minimize effort on their part. So unless  
all the file upload controls in a form accept exactly the same MIME  
types, authors will not bother to use the form's &quot;accept&quot; attribute to  
specify the greatest common factor, as your example suggests they will.  
There would no point in doing that anyway, since there will be no UAs  
that implement &quot;accept&quot; for form elements but not for individual upload  
controls.

Instead, authors will use the form's &quot;accept&quot; attribute to specify  
whichever type they want accepted by more of the controls than any  
other type. Then they'll specify &quot;accept&quot; attributes for the upload  
controls that are exceptions to the rule, overriding that global type.

If authors make syntax errors with those exceptions, my proposed  
behavior will still allow people to use the form as intended, whereas  
deferring to the form's &quot;accept&quot; attribute usually will not.

&gt;<i> Also, I really like the consistency of saying invalid attributes are  
</I>&gt;<i> always ignored.
</I>
Yeah, it's unfortunate that doing that would be more likely to make the  
form unusable in this case. Still, the implementation effort required  
to treat invalid values as &quot;*/*&quot; should be pretty tiny.

&gt;<i> ...
</I>&gt;&gt;<i> 47. Question: If the disabled attribute can be applied to
</I>&gt;&gt;<i>     &lt;fieldset&gt; elements, why can't it be applied to
</I>&gt;&gt;<i>     &lt;form&gt; elements too?
</I>&gt;<i>
</I>&gt;<i> Because nobody suggested it.
</I>&gt;<i>
</I>&gt;<i> Do we really want that? It doesn't seem that useful. What's the use  
</I>&gt;<i> case?
</I>
I don't know. :-) I just don't want to see people putting a cluttersome  
&lt;fieldset&gt; around a form just so they can disable it. (Sure they could  
style the &lt;fieldset&gt; borders etc invisible, but they probably won't  
bother.)

&gt;<i> ...
</I>&gt;&gt;<i>         or if form submission is attempted while the
</I>&gt;&gt;<i>         field is invalid, a visual UA may highlight the
</I>&gt;&gt;<i>         field in some way.[2]
</I>&gt;<i>
</I>&gt;&gt;<i>     [2] Why not display the error as soon as focus leaves
</I>&gt;&gt;<i>         the field? Because I may be temporarily focusing
</I>&gt;&gt;<i>         somewhere else to copy (or refer to) text to put
</I>&gt;&gt;<i>         in the field.
</I>&gt;<i>
</I>&gt;<i> The error handling behaviour is described later. The highlighting  
</I>&gt;<i> would only be compliant if the UA had an equivalent rule using  
</I>&gt;<i> ':invalid' in its UA stylesheet. Both of these are possible but not  
</I>&gt;<i> specifically related to
</I>&gt;<i> the pattern attribute.
</I>
Perhaps I'm misunderstanding, but why not? Why shouldn't a field where  
the value entered doesn't match its pattern cause the UA to complain in  
exactly the same way as a field which is invalid any other way?

&gt;<i> ...
</I>&gt;&gt;&gt;<i> For option and optgroup elements that are  not inside select elements
</I>&gt;&gt;&gt;<i>     The elements should be treated much like span
</I>&gt;&gt;&gt;<i>     elements as far as rendering goes.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 69. Suggestion: Remove redundancy.
</I>&gt;&gt;<i>      *   &quot;as far as rendering goes&quot; --&gt; &quot;&quot;
</I>&gt;<i>
</I>&gt;<i> That's not redundant.
</I>
Okay, how about: &quot;These elements should be rendered much the same as  
_span_.&quot;

&gt;<i> ...
</I>&gt;&gt;<i> 73. Suggestion: Encourage more standard text for such
</I>&gt;&gt;<i>      buttons.
</I>&gt;&gt;<i>      *   &quot;Add Row&quot; --&gt; &quot;+&quot; throughout the spec (or at
</I>&gt;&gt;<i>          least everywhere except section 3.1.1, where
</I>&gt;&gt;<i>          more specific text may be educative)
</I>&gt;<i>
</I>&gt;<i> That seems like it would be very bad for accessibility.
</I>&gt;<i> ...
</I>&gt;&gt;<i>      *   &quot;Remove Row&quot; --&gt; &quot;&amp;ndash;&quot; throughout the spec
</I>&gt;&gt;<i>          (or at least everywhere except section 3.1.1,
</I>&gt;&gt;<i>          where more specific text may be educative)
</I>&gt;<i>
</I>&gt;<i> That seems like it would be even worse.
</I>
True. In the real world I'd use &lt;abbr title=&quot;Add a row&quot;&gt;+&lt;/abbr&gt; and  
&lt;abbr title=&quot;Delete this row&quot;&gt;&amp;ndash;&lt;/abbr&gt;. (I already use ABBR this  
way around &amp;larr; and &amp;rarr; on my Web site, for example.) But I  
suppose that would be too complicated for a spec example.

&gt;<i> ...
</I>&gt;&gt;&gt;<i> If the form data set contains characters that are outside the  
</I>&gt;&gt;&gt;<i> submission character set, the user agent should inform the user that  
</I>&gt;&gt;&gt;<i> his submission will be changed;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 95. Question: Should the UA do that even if the only such
</I>&gt;&gt;<i>     characters came from &lt;input type=&quot;hidden&quot;&gt; controls?
</I>&gt;&gt;<i>     If so, for what purpose?
</I>&gt;<i>
</I>&gt;<i> A good point. The data is getting corrupted, so I think the UA should  
</I>&gt;<i> inform the user of something. But what, I don't know.
</I>
Well there's really *nothing* the user can do to correct such an error,  
short of hacking the source code and making their own version of the  
page. So it's roughly equivalent to a script error. So probably the  
most appropriate notification would be the same as the UA uses for a  
script error -- e.g. a message in the status bar.

/!\ This form contains errors and cannot be sent properly

&gt;<i> I added a paragraph to the end of the section, but it is a bit vague.
</I>
And it's in the wrong place (it should be immediately following the  
diagram), and it contains a stray &quot;take&quot;.

How about:
&gt;<i>
</I>&gt;<i> If the form data set contains characters that are outside the  
</I>&gt;<i> submission character set, the UA should inform the user that his  
</I>&gt;<i> submission will be changed. For example, if the user entered &quot;Asbj
</I>&#246;rn  
&gt;<i> meget v&#230;r s&#229; snill og m&#248;tes De.&quot; in a text field, but the author  
</I>&gt;<i> specified a character set in which the &quot;&#246;&quot;, &quot;&#230;&quot;, &quot;&#229;&quot;, and &quot;&#248;&quot;  
</I>&gt;<i> characters cannot be represented, a UA might alert the user like this:
</I>&gt;<i>  _____________________________________________________
</I>&gt;<i> |:::::::::::::::::::::::::::::::::::::::::::::::::::::|
</I>&gt;<i> |                                                     |
</I>&gt;<i> | Some characters you entered (including &quot;&#246;&quot;, &quot;&#230;&quot;,    |
</I>&gt;<i> | and &quot;&#229;&quot;) cannot be understood by this Web site. If  |
</I>&gt;<i> | you continue, the characters will be changed.       |
</I>&gt;<i> |                                                     |
</I>&gt;<i> |                           ( Cancel ) (( Continue )) |
</I>&gt;<i> |_____________________________________________________|
</I>&gt;<i>
</I>&gt;<i> UAs should not require such confirmation for characters  in _hidden_  
</I>&gt;<i> elements, as there is nothing the user can do to fix the problem.  
</I>&gt;<i> However, a UA may display such an error in other ways (for example, in  
</I>&gt;<i> a status bar).
</I>&gt;<i>
</I>&gt;<i> If the submission is not cancelled, the user agent must replace each  
</I>&gt;<i> character that is not in the submission character set with one or more  
</I>&gt;<i> replacement characters.
</I>&gt;<i> ...
</I>
As an added bonus, the new example (I don't know Norwegian, so you may  
need one of your colleagues to refine it) helps demonstrate to  
implementors that:
*   asking for confirmation for every unacceptable character
     would not be reasonable
*   even listing every unacceptable character in a single
     alert wouldn't scale
*   displaying a complete conversion in an alert won't scale
     either (especially if the original is, for example, a
     multi-kilobyte Webmail message).

... Next question: What if the invalid characters are in &lt;option&gt;  
elements? There's pretty much nothing the user can do about that  
either.

I can see a slippery slope here -- UAs' character conversion algorithms  
may differ, but programmers may begin relying on the results of the  
algorithm used by the particular UA they test with. But confirmation  
alerts aren't a solution to that problem either. Maybe the only  
solution, short of specifying exhaustive (and exhausting) character  
conversion behavior, is specifying that UAs must pre-emptively disable  
forms where uneditable controls contain unsendable data.

-- 
Matthew Thomas
<A HREF="http://mpt.net.nz/">http://mpt.net.nz/</A>

</PRE>















































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001005.html">[whatwg] Suggested changes to Web Forms 2.0,	2004-07-01 working
	draft
</A></li>
	<LI>Next message: <A HREF="001047.html">[whatwg] Re: Suggested changes to Web Forms 2.0, 2004-07-01 working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1046">[ date ]</a>
              <a href="thread.html#1046">[ thread ]</a>
              <a href="subject.html#1046">[ subject ]</a>
              <a href="author.html#1046">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg-whatwg.org
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
