<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Issues concerning the &lt;base&gt; element and xml:base
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Issues%20concerning%20the%20%3Cbase%3E%20element%20and%20xml%3Abase&In-Reply-To=%3CF2B519BF-A2FD-4AA8-A8A7-3A216315BB77%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014996.html">
   <LINK REL="Next"  HREF="014998.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Issues concerning the &lt;base&gt; element and xml:base</H1>
<!--htdig_noindex-->
    <B>Maciej Stachowiak</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Issues%20concerning%20the%20%3Cbase%3E%20element%20and%20xml%3Abase&In-Reply-To=%3CF2B519BF-A2FD-4AA8-A8A7-3A216315BB77%40apple.com%3E"
       TITLE="[whatwg] Issues concerning the &lt;base&gt; element and xml:base">mjs at apple.com
       </A><BR>
    <I>Sun Jun  8 19:10:32 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="014996.html">[whatwg] Issues concerning the &lt;base&gt; element and xml:base
</A></li>
        <LI>Next message: <A HREF="014998.html">[whatwg] '' &lt;canvas&gt; element &quot;selection buffer&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15000">[ date ]</a>
              <a href="thread.html#15000">[ thread ]</a>
              <a href="subject.html#15000">[ subject ]</a>
              <a href="author.html#15000">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Jun 6, 2008, at 12:01 PM, Ian Hickson wrote:

&gt;<i>
</I>&gt;<i> On Sat, 1 Mar 2008, Jonas Sicking wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I very much agree it's an edge case and would be fine with leaving it
</I>&gt;&gt;<i> undefined.
</I>&gt;<i>
</I>&gt;<i> Well, right now it's implicitly defined that changing the base changes
</I>&gt;<i> anything refering to that base instantly. I'm not really sure how to
</I>&gt;<i> unspecify that without adding a really weird clause like &quot;in the event
</I>&gt;<i> that the attribute is changed, user agents may, whenever convenient,
</I>&gt;<i> pretend, for the sake of url resolution, that it has not changed&quot;.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I have made notes in the spec that this is an area that needs  
</I>&gt;<i> defining.
</I>&gt;<i> Right now I'm leaning towards defining a &quot;base href change  
</I>&gt;<i> notification
</I>&gt;<i> behaviour&quot; for all elements that have URI attributes or are otherwise
</I>&gt;<i> sensitive to base href changes, and defining that when the base href
</I>&gt;<i> changes, all the elements in the document with such behaviour defined
</I>&gt;<i> should have that behaviour activated (this would, in the simple  
</I>&gt;<i> case, just
</I>&gt;<i> be a walk over the document with a virtual method call per element; it
</I>&gt;<i> might be a bit slow for some documents, but then this is a very rare
</I>&gt;<i> occurance anyway). We would also invoke this behaviour on the entire
</I>&gt;<i> subtree of an element whenever that element is inserted into a  
</I>&gt;<i> different
</I>&gt;<i> document, in case it matters in any cases.
</I>&gt;<i>
</I>&gt;<i> In practice I think this only actually affects :link/:visited and  
</I>&gt;<i> url()
</I>&gt;<i> rules in style=&quot;&quot; attributes. I plan on making &lt;img&gt;/&lt;iframe&gt;/&lt;link
</I>&gt;<i> rel=stylesheet&gt; etc not reload their content if the base href changes
</I>&gt;<i> (though that does mean that .src and .href will end up pointing to  
</I>&gt;<i> URIs
</I>&gt;<i> that aren't actually what was loaded). I can't think of any other  
</I>&gt;<i> cases
</I>&gt;<i> that are sensitive off the top of my head, but I'll be thorough if I  
</I>&gt;<i> do
</I>&gt;<i> end up specifying this.
</I>&gt;<i>
</I>&gt;<i> The question is, are people ok with that plan?
</I>
It seems weird for src and href attributes to have a URI other than  
what the element has loaded or is loading - this would be the only  
case where they may not match. (Also, would setting href or src to  
itself in such a case trigger a load of a different resource?)

I have to admit I am not especially excited about implementing instant  
dynamic updates of everything in the document referencing a URI,  
whether it triggers a load or not, when the &lt;base&gt; element is changed.  
That seems like a lot of coding and testing work solely to serve a  
very unimportant edge case that right now likely no one depends on. In  
general if the spec requires significant implementation work for  
something that has no real user or author benefit, just because that  
is easier to define, then I think we have chosen poorly.

Regards,
Maciej


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014996.html">[whatwg] Issues concerning the &lt;base&gt; element and xml:base
</A></li>
	<LI>Next message: <A HREF="014998.html">[whatwg] '' &lt;canvas&gt; element &quot;selection buffer&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15000">[ date ]</a>
              <a href="thread.html#15000">[ thread ]</a>
              <a href="subject.html#15000">[ subject ]</a>
              <a href="author.html#15000">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
