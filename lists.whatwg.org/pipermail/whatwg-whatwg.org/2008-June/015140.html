<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Implementation of a good HTTPSocket (TCP-socket)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Implementation%20of%20a%20good%20HTTPSocket%20%28TCP-socket%29&In-Reply-To=%3Cf042876c0806181815m338706fcwfe153d59df440c50%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015143.html">
   <LINK REL="Next"  HREF="015148.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Implementation of a good HTTPSocket (TCP-socket)</H1>
<!--htdig_noindex-->
    <B>Philipp Serafin</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Implementation%20of%20a%20good%20HTTPSocket%20%28TCP-socket%29&In-Reply-To=%3Cf042876c0806181815m338706fcwfe153d59df440c50%40mail.gmail.com%3E"
       TITLE="[whatwg] Implementation of a good HTTPSocket (TCP-socket)">phil127 at gmail.com
       </A><BR>
    <I>Wed Jun 18 18:15:51 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="015143.html">[whatwg] Suggestion of an alternative TCPConnection	implementation
</A></li>
        <LI>Next message: <A HREF="015148.html">[whatwg] Implementation of a good HTTPSocket (TCP-socket)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15140">[ date ]</a>
              <a href="thread.html#15140">[ thread ]</a>
              <a href="subject.html#15140">[ subject ]</a>
              <a href="author.html#15140">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Jun 19, 2008 at 12:46 AM, Frode B&#248;rli &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">frode at seria.no</A>&gt; wrote:

&gt;<i> Web pages should only be allowed to access other servers when the
</I>&gt;<i> script has been digitally signed, and when the user has agreed to
</I>&gt;<i> giving the script elevated privileges - or there should be a
</I>&gt;<i> certificate on the origin server which is checked against DNS records
</I>&gt;<i> for each server that the script attempts to connect to.
</I>
What prevents a malicious site from simply getting their own certificate?
As for user prompts, I think we have seen how well that works with
IE's ActiveX controls. I fear malicious sites would just put up a
&quot;Click 'yes' in the next dialog to continue&quot; message, and we're back
to square one.

DNS records sound like a good idea though.

&gt;<i> So what we want is a http based protocol which allow the client to
</I>&gt;<i> continue communicating with the script that handles the initial
</I>&gt;<i> request.
</I>
I absolutely agree that this would be the best way. However, couldn't
we use Michaels proposal for that? It seems to solve the same problems
and is actually compliant HTTP (in theory at least).

I find the SessionID header a very good idea though.What are the
thoughts on that?

I'm sorry if that has already been discussed, but if we use HTTP, why
can't we use the Access Control spec as an &quot;opt in mechanism&quot; that is
a little easier to implement than DNS? If you modify the behaviour a
little, you could even use it against DDOS attacks:

&quot;Counter suggestion&quot;: When a WebSocket objects attempts to connect,
perform Access Control checks the way you would for POST requests.
If the check fails and if the server response contains an
Access-Control-Max-Age header, agents must immediately close the
connection and must not open a connection to that resource again (or,
if Access-Control-Policy-Path is present, to any resource specified)
until the specified time has elapsed.
That way, administrators that are hit by a DDOS can simply put

Access-Control: allow &lt;*&gt; exclude &lt;evilsite.example.com&gt;
Access-Control-Max-Age: 86400
Access-Control-Policy-Path: /

in their server headers and the stream should relatively quickly slow
down to a trickle.

What do you think?

With best regards,
Philipp Serafin

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015143.html">[whatwg] Suggestion of an alternative TCPConnection	implementation
</A></li>
	<LI>Next message: <A HREF="015148.html">[whatwg] Implementation of a good HTTPSocket (TCP-socket)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15140">[ date ]</a>
              <a href="thread.html#15140">[ thread ]</a>
              <a href="subject.html#15140">[ subject ]</a>
              <a href="author.html#15140">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
