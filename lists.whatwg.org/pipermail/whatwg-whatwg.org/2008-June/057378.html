<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Sandboxing to accommodate user generated content.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Sandboxing%20to%20accommodate%20user%20generated%20content.&In-Reply-To=%3C31fb000f0806171558g3d1ce877sce91c0ab23b973e8%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057376.html">
   <LINK REL="Next"  HREF="057380.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Sandboxing to accommodate user generated content.</H1>
<!--htdig_noindex-->
    <B>Frode B&#248;rli</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Sandboxing%20to%20accommodate%20user%20generated%20content.&In-Reply-To=%3C31fb000f0806171558g3d1ce877sce91c0ab23b973e8%40mail.gmail.com%3E"
       TITLE="[whatwg] Sandboxing to accommodate user generated content.">frode at seria.no
       </A><BR>
    <I>Tue Jun 17 15:58:30 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="057376.html">[whatwg] Sandboxing to accommodate user generated content.
</A></li>
        <LI>Next message: <A HREF="057380.html">[whatwg] Sandboxing to accommodate user generated content.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57378">[ date ]</a>
              <a href="thread.html#57378">[ thread ]</a>
              <a href="subject.html#57378">[ subject ]</a>
              <a href="author.html#57378">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>2008/6/17 Kristof Zelechovski &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">giecrilj at stegny.2a.pl</A>&gt;:
&gt;<i> This particular explanation is irrelevant to the topic because sandboxed
</I>&gt;<i> fragments can contain scripts, whether within CSS or not.  The idea of
</I>&gt;<i> sandboxing is to disable scripts, not to purge them.
</I>
You asked me to comment on your questions. It's obvious (when you read
the discussion) that the point of sandboxing is to disable scripts.
But to establish that we need sandbox, I wanted to show how difficult
it is to sanitize html - and also that it can't be done in a future
proof manner from the server side.

Fact:
Preventing users from inserting scripts, and at the same time allowing
user submitted html is extremely difficult to do on the server side -
ergo we must have sandboxing.

Method with iframe and content attribute:
1. Makes it very impractical to use sandboxing on short texts - such
as an article title.
2. Impossible to have user generated content inside a &lt;select&gt;.
3. Makes it impossible to attach custom javascript functionality on
words inside the text on the server side.
4. Graceful degradation requires two separate domain names. One for
user generated content, and another for the website itself.
5. Graceful degradation requires significant programming effort on the
server side. First of all, the user must be authenticated on both
domain names - and each page that should display user generated
content must have separate scripts to create the iframe content.

Method with &lt;sandbox&gt; tag, or sandbox='on' attribute:
1. Easy to use sandboxing on short texts. PHP example: &lt;?php echo
&quot;&lt;sandbox&gt;&quot;.htmlspecialchars($title).&quot;&lt;/sandbox&gt;&quot;; ?&gt;
2. Easy to sandbox a select box.
3. Easy to attach custom javascript functionality: PHP example: &lt;?php
echo &quot;&lt;sandbox&gt;&quot;.htmlspecialchars(&quot;User &quot;).&quot;&lt;/sandbox&gt;&lt;span
onclick='something'&gt;generated&lt;/span&gt;&lt;sandbox&gt;&quot;.htmlspecialchars(&quot;content&quot;);
?&gt;
4. Graceful degradation is automatic. User inserted scripts and is
entity escaped, and will never execute in any browser.
5. See point 4.

Frode

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057376.html">[whatwg] Sandboxing to accommodate user generated content.
</A></li>
	<LI>Next message: <A HREF="057380.html">[whatwg] Sandboxing to accommodate user generated content.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57378">[ date ]</a>
              <a href="thread.html#57378">[ thread ]</a>
              <a href="subject.html#57378">[ subject ]</a>
              <a href="author.html#57378">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
