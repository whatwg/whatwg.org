<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] document.open() and security context
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20document.open%28%29%20and%20security%20context&In-Reply-To=%3C7789133a0806132348w1dd5cc27kbbb15bc8f9515830%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015076.html">
   <LINK REL="Next"  HREF="015078.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] document.open() and security context</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20document.open%28%29%20and%20security%20context&In-Reply-To=%3C7789133a0806132348w1dd5cc27kbbb15bc8f9515830%40mail.gmail.com%3E"
       TITLE="[whatwg] document.open() and security context">whatwg at adambarth.com
       </A><BR>
    <I>Fri Jun 13 23:48:46 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="015076.html">[whatwg] A document's cookie context
</A></li>
        <LI>Next message: <A HREF="015078.html">[whatwg] Native JSON parsing API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15077">[ date ]</a>
              <a href="thread.html#15077">[ thread ]</a>
              <a href="subject.html#15077">[ subject ]</a>
              <a href="author.html#15077">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>The current description of document.open(), at
&lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/#open">http://www.whatwg.org/specs/web-apps/current-work/#open</A>&gt; doesn't
mention the method's effect on the document's security context.

The document.open() method replaces the document's security context
with the security context of the currently executing script.  In
particular, the following properties are replaced:

1) document.URL becomes the URL of the document of the currently
executing script.

2) document.baseURI becomes the URL of the document of the currently
executing script (not it's baseURI).

3) The document's origin and effective script origin become the origin
and the effective script origin of the currently executing script.
(Note: actually, the origins are aliased, as in the about:blank case,
so that changes to one of the document's document.domain property
affects the other.)

4) The document's cookie context becomes the cookie context of the
document of the currently executing script.

There may be other things that get clobbered as well, but those were
the ones I found.

This is available in code form, along with numerous tests, at
&lt;<A HREF="http://trac.webkit.org/changeset/34506">http://trac.webkit.org/changeset/34506</A>&gt;.

Adam

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015076.html">[whatwg] A document's cookie context
</A></li>
	<LI>Next message: <A HREF="015078.html">[whatwg] Native JSON parsing API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15077">[ date ]</a>
              <a href="thread.html#15077">[ thread ]</a>
              <a href="subject.html#15077">[ subject ]</a>
              <a href="author.html#15077">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
