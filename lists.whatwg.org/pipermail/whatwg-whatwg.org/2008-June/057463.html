<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] document.readyState and its initial value
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20document.readyState%20and%20its%20initial%20value&In-Reply-To=%3C31fb000f0806230027y42ee32dqd2c55a948d65a4c1%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057462.html">
   <LINK REL="Next"  HREF="057465.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] document.readyState and its initial value</H1>
<!--htdig_noindex-->
    <B>Frode B&#248;rli</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20document.readyState%20and%20its%20initial%20value&In-Reply-To=%3C31fb000f0806230027y42ee32dqd2c55a948d65a4c1%40mail.gmail.com%3E"
       TITLE="[whatwg] document.readyState and its initial value">frode at seria.no
       </A><BR>
    <I>Mon Jun 23 00:27:19 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="057462.html">[whatwg] document.readyState and its initial value
</A></li>
        <LI>Next message: <A HREF="057465.html">[whatwg] document.readyState and its initial value
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57463">[ date ]</a>
              <a href="thread.html#57463">[ thread ]</a>
              <a href="subject.html#57463">[ subject ]</a>
              <a href="author.html#57463">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;&gt;<i> As far as I know I can't exhibit a test demonstrating IE switching from
</I>&gt;&gt;<i> &quot;uninitialized&quot; to &quot;loading.&quot;  The document is normally in the &quot;loading&quot;
</I>&gt;&gt;<i> state before you get your hands on it.
</I>&gt;<i> Ok, that matches my experience too -- that's why the spec says what it
</I>&gt;<i> says. :-) (The spec, when it is documenting IE features, is more about
</I>&gt;<i> documenting actual IE behaviour than about MSDN, which is notoriously
</I>&gt;<i> unreliable.)
</I>
1. Which readystate does an img object have, before it is added to the
DOM? Example:

var i = document.createElement(&quot;IMG&quot;);
alert(i.readystate); // afaict the state SHOULD be uninitialized here...
i.onreadystatechange(function(){alert(this.readystate);}
i.src = &quot;some_url.jpg&quot;;
alert(i.readystate);


The example applies to iframes as well, i believe.


2. How can we listen to the onreadystatechange, if we want to trigger
an event when the object starts loading? It will not change readystate
since it was already in the state loading.

&gt;<i> Should that happen, we can revisit the issue... of course at that point IE
</I>&gt;<i> would be non-conforming, so maybe it would just be considered a bug. :-)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> It's tempting to say that the readyState can start with either
</I>&gt;&gt;<i> &quot;uninitialized&quot; or &quot;loading&quot;; certainly it's odd that we'd just hike it
</I>&gt;&gt;<i> up to &quot;loading&quot; because our test mechanisms are usually too
</I>&gt;&gt;<i> coarse-grained to detect a readyState in its &quot;uninitialized&quot; state.
</I>
The state should not be &quot;loading&quot; when the object is in fact, not
loading nor in any of the other states...

Frode

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057462.html">[whatwg] document.readyState and its initial value
</A></li>
	<LI>Next message: <A HREF="057465.html">[whatwg] document.readyState and its initial value
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57463">[ date ]</a>
              <a href="thread.html#57463">[ thread ]</a>
              <a href="subject.html#57463">[ subject ]</a>
              <a href="author.html#57463">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
