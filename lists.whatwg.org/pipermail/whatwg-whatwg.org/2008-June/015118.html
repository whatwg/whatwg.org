<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] TCPConnection feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20TCPConnection%20feedback&In-Reply-To=%3C31fb000f0806180334x5ac90f18ia6b875457bae01f4%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015111.html">
   <LINK REL="Next"  HREF="015124.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] TCPConnection feedback</H1>
<!--htdig_noindex-->
    <B>Frode B&#248;rli</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20TCPConnection%20feedback&In-Reply-To=%3C31fb000f0806180334x5ac90f18ia6b875457bae01f4%40mail.gmail.com%3E"
       TITLE="[whatwg] TCPConnection feedback">frode at seria.no
       </A><BR>
    <I>Wed Jun 18 03:34:46 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="015111.html">[whatwg] TCPConnection feedback
</A></li>
        <LI>Next message: <A HREF="015124.html">[whatwg] TCPConnection feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15118">[ date ]</a>
              <a href="thread.html#15118">[ thread ]</a>
              <a href="subject.html#15118">[ subject ]</a>
              <a href="author.html#15118">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> without informing the user. This would allow a popular page (say a facebook
</I>&gt;<i> profile or banner ad) to perform massive DOS against web servers using
</I>&gt;<i> visitors browsers without any noticeable feedback (though I guess this is
</I>&gt;<i> also true of current HTTPXMLRequestObjects).
</I>
XMLHttpRequest only allows connections to the origin server ip of the
script that created the object. If a TCPConnection is supposed to be
able to connect to other services, then some sort of mechanism must be
implemented so that the targeted web server must perform some sort of
approval. The method of approval must be engineered in such a way that
approval process itself cannot be the target of the dos attack. I can
imagine something implemented on the DNS servers and then some digital
signing of the script using public/private key certificates.

&gt;<i>  I propose that there be requirements that limit the amount and type of data
</I>&gt;<i> a client can send before receiving a valid server response.
</I>
If the client must send information trough the TCPConnection
initially, then we effectively stop existing servers such as
IRC-servers from being able to accept connections without needing a
rewrite.

&gt;<i>  There should also be a recommendation that UAs display some form of status
</I>&gt;<i> feedback to indicate a background connection is occurring.
</I>Agree.

&gt;<i> &gt; HIXIE.3) No existing SMTP server (or any non-TCPConnection server) is
</I>&gt;<i> going
</I>&gt;<i> &gt; to send back the appropriate handshake response.
</I>
If TCPConnection is limited to connect only to the origin server, or
servers validated by certificates, then this will never be a problem.
If we take active measures against STMP, then we should do the same
against POP3, IMAP etc as well.

&gt;<i>  It is always possible that non-http services are running on port 80. One
</I>&gt;<i> logical reason would be as a workaround for strict firewalls. So the main
</I>&gt;<i> defense against abuse is not the port number but the handshake. The original
</I>&gt;<i> TCP Connection spec required the client to send only &quot;Hello\n&quot; and the
</I>&gt;<i> server to send only &quot;Welcome\n&quot;. The new proposal complicates things since
</I>&gt;<i> the server/proxy could send any valid HTTP headers and it would be up to the
</I>&gt;<i> UA to determine their validity. Since the script author can also inject URIs
</I>&gt;<i> into the handshake this becomes a potential flaw. Consider the code:
</I>
The protocol should not require any data (not even hello - it should
function as an ordinary TCPConnection similar to implementations in
java, c# or any other major programming language. If not, it should be
called something else - as it is not a TCP connection.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015111.html">[whatwg] TCPConnection feedback
</A></li>
	<LI>Next message: <A HREF="015124.html">[whatwg] TCPConnection feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15118">[ date ]</a>
              <a href="thread.html#15118">[ thread ]</a>
              <a href="subject.html#15118">[ subject ]</a>
              <a href="author.html#15118">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
