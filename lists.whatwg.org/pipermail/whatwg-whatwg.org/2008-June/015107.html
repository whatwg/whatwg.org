<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Sandboxing to accommodate user generated content.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Sandboxing%20to%20accommodate%20user%20generated%20content.&In-Reply-To=%3C5878E066906442129D6DB70B7A7D4048%40POCZTOWIEC%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015105.html">
   <LINK REL="Next"  HREF="015102.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Sandboxing to accommodate user generated content.</H1>
<!--htdig_noindex-->
    <B>Kristof Zelechovski</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Sandboxing%20to%20accommodate%20user%20generated%20content.&In-Reply-To=%3C5878E066906442129D6DB70B7A7D4048%40POCZTOWIEC%3E"
       TITLE="[whatwg] Sandboxing to accommodate user generated content.">giecrilj at stegny.2a.pl
       </A><BR>
    <I>Tue Jun 17 17:25:24 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="015105.html">[whatwg] Sandboxing to accommodate user generated content.
</A></li>
        <LI>Next message: <A HREF="015102.html">[whatwg] Sandboxing to accommodate user generated content.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15107">[ date ]</a>
              <a href="thread.html#15107">[ thread ]</a>
              <a href="subject.html#15107">[ subject ]</a>
              <a href="author.html#15107">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>What is the use case for having user-submitted content inside a SELECT
element?  A SELECT element is for the user to choose, not to insert
arbitrary new values (especially because the correspondence between values
and labels is known only to the server).
The argument about scripts attached to words is interesting; what is the use
case?  How do you make these attachments remain active in the user agent?
Chris

-----Original Message-----
From: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>
[mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>] On Behalf Of Frode Borli
Sent: Wednesday, June 18, 2008 12:59 AM
To: Kristof Zelechovski
Cc: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>
Subject: Re: [whatwg] Sandboxing to accommodate user generated content.

2008/6/17 Kristof Zelechovski &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">giecrilj at stegny.2a.pl</A>&gt;:
&gt;<i> This particular explanation is irrelevant to the topic because sandboxed
</I>&gt;<i> fragments can contain scripts, whether within CSS or not.  The idea of
</I>&gt;<i> sandboxing is to disable scripts, not to purge them.
</I>
You asked me to comment on your questions. It's obvious (when you read
the discussion) that the point of sandboxing is to disable scripts.
But to establish that we need sandbox, I wanted to show how difficult
it is to sanitize html - and also that it can't be done in a future
proof manner from the server side.

Fact:
Preventing users from inserting scripts, and at the same time allowing
user submitted html is extremely difficult to do on the server side -
ergo we must have sandboxing.

Method with iframe and content attribute:
1. Makes it very impractical to use sandboxing on short texts - such
as an article title.
2. Impossible to have user generated content inside a &lt;select&gt;.
3. Makes it impossible to attach custom javascript functionality on
words inside the text on the server side.
4. Graceful degradation requires two separate domain names. One for
user generated content, and another for the website itself.
5. Graceful degradation requires significant programming effort on the
server side. First of all, the user must be authenticated on both
domain names - and each page that should display user generated
content must have separate scripts to create the iframe content.

Method with &lt;sandbox&gt; tag, or sandbox='on' attribute:
1. Easy to use sandboxing on short texts. PHP example: &lt;?php echo
&quot;&lt;sandbox&gt;&quot;.htmlspecialchars($title).&quot;&lt;/sandbox&gt;&quot;; ?&gt;
2. Easy to sandbox a select box.
3. Easy to attach custom javascript functionality: PHP example: &lt;?php
echo &quot;&lt;sandbox&gt;&quot;.htmlspecialchars(&quot;User &quot;).&quot;&lt;/sandbox&gt;&lt;span
onclick='something'&gt;generated&lt;/span&gt;&lt;sandbox&gt;&quot;.htmlspecialchars(&quot;content&quot;);
?&gt;
4. Graceful degradation is automatic. User inserted scripts and is
entity escaped, and will never execute in any browser.
5. See point 4.

Frode


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015105.html">[whatwg] Sandboxing to accommodate user generated content.
</A></li>
	<LI>Next message: <A HREF="015102.html">[whatwg] Sandboxing to accommodate user generated content.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15107">[ date ]</a>
              <a href="thread.html#15107">[ thread ]</a>
              <a href="subject.html#15107">[ subject ]</a>
              <a href="author.html#15107">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
