<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Opportunistic caching
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Opportunistic%20caching&In-Reply-To=%3CPine.LNX.4.62.0806102141080.6527%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015007.html">
   <LINK REL="Next"  HREF="015074.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Opportunistic caching</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Opportunistic%20caching&In-Reply-To=%3CPine.LNX.4.62.0806102141080.6527%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Opportunistic caching">ian at hixie.ch
       </A><BR>
    <I>Tue Jun 10 14:46:34 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="015007.html">[whatwg] Opportunistic caching
</A></li>
        <LI>Next message: <A HREF="015074.html">[whatwg] Opportunistic caching
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15020">[ date ]</a>
              <a href="thread.html#15020">[ thread ]</a>
              <a href="subject.html#15020">[ subject ]</a>
              <a href="author.html#15020">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 10 Jun 2008, Honza Bambas wrote:
&gt;<i>
</I>&gt;<i> Hi, I would like to ask for clarification of opportunistic caching spec 
</I>&gt;<i> in Offline Web Applications, the article 4.9.1.9. Adding a resource whom 
</I>&gt;<i> URI matches an opportunistic name space seems to be done only for top 
</I>&gt;<i> level documents according to the article 4.9.1.9, cite: &quot;If the resource 
</I>&gt;<i> was not fetched from...&quot; where the resource refers, as I understand, the 
</I>&gt;<i> top-level document being navigated.
</I>&gt;<i> 
</I>&gt;<i> I didn't find any other place where a resource whom URI matched an 
</I>&gt;<i> opportunistic entry would be added to a cache as opportunistically 
</I>&gt;<i> cached. I would naturally expect it were part of the networking model, 
</I>&gt;<i> article 4.7.5.1 - &quot;Changes to the networking model&quot;, but I couldn't find 
</I>&gt;<i> it, at least not explicitly, expressed.
</I>&gt;<i> 
</I>&gt;<i> Maybe I am missing something in the networking model spec: in article 
</I>&gt;<i> 4.7.5.1.4 when URI matches a name space it have to be &quot;fetched 
</I>&gt;<i> normally&quot;. Should implementers replace normal HTTP cache used for 
</I>&gt;<i> writing by offline cache to store the resource in it? Instead of normal 
</I>&gt;<i> HTTP cache?
</I>
Resources can only be cached as opportunistically cached entries if a 
browsing context is navigated, but it doesn't have to be a top-level 
browsing context. The caching happens in the &quot;Otherwise&quot; clause of step 9 
of the 4.9.1 Navigating across documents &quot;navigation&quot; algorithm.

If by &quot;top-level&quot; you don't mean a window/tab, but mean any iframe or 
frame content document, as opposed to an image, a stylesheet, or some 
such, then you are correct. The use case was really just replacing pages, 
e.g. Flickr pages, when the whole site isn't cached. Do you think this 
should be changed to opportunistically cache anything accessed?

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015007.html">[whatwg] Opportunistic caching
</A></li>
	<LI>Next message: <A HREF="015074.html">[whatwg] Opportunistic caching
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15020">[ date ]</a>
              <a href="thread.html#15020">[ thread ]</a>
              <a href="subject.html#15020">[ subject ]</a>
              <a href="author.html#15020">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
