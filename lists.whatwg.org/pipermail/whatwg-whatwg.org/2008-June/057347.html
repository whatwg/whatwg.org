<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Opportunistic caching
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Opportunistic%20caching&In-Reply-To=%3C4852E4BC.8020605%40allpeers.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057293.html">
   <LINK REL="Next"  HREF="057288.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Opportunistic caching</H1>
<!--htdig_noindex-->
    <B>Honza Bambas</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Opportunistic%20caching&In-Reply-To=%3C4852E4BC.8020605%40allpeers.com%3E"
       TITLE="[whatwg] Opportunistic caching">honzab at allpeers.com
       </A><BR>
    <I>Fri Jun 13 14:21:00 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="057293.html">[whatwg] Opportunistic caching
</A></li>
        <LI>Next message: <A HREF="057288.html">[whatwg] Change request: rules for pixel ratio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57347">[ date ]</a>
              <a href="thread.html#57347">[ thread ]</a>
              <a href="subject.html#57347">[ subject ]</a>
              <a href="author.html#57347">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> On Tue, 10 Jun 2008, Honza Bambas wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Hi, I would like to ask for clarification of opportunistic caching spec 
</I>&gt;&gt;<i> in Offline Web Applications, the article 4.9.1.9. Adding a resource whom 
</I>&gt;&gt;<i> URI matches an opportunistic name space seems to be done only for top 
</I>&gt;&gt;<i> level documents according to the article 4.9.1.9, cite: &quot;If the resource 
</I>&gt;&gt;<i> was not fetched from...&quot; where the resource refers, as I understand, the 
</I>&gt;&gt;<i> top-level document being navigated.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I didn't find any other place where a resource whom URI matched an 
</I>&gt;&gt;<i> opportunistic entry would be added to a cache as opportunistically 
</I>&gt;&gt;<i> cached. I would naturally expect it were part of the networking model, 
</I>&gt;&gt;<i> article 4.7.5.1 - &quot;Changes to the networking model&quot;, but I couldn't find 
</I>&gt;&gt;<i> it, at least not explicitly, expressed.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Maybe I am missing something in the networking model spec: in article 
</I>&gt;&gt;<i> 4.7.5.1.4 when URI matches a name space it have to be &quot;fetched 
</I>&gt;&gt;<i> normally&quot;. Should implementers replace normal HTTP cache used for 
</I>&gt;&gt;<i> writing by offline cache to store the resource in it? Instead of normal 
</I>&gt;&gt;<i> HTTP cache?
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Resources can only be cached as opportunistically cached entries if a 
</I>&gt;<i> browsing context is navigated, but it doesn't have to be a top-level 
</I>&gt;<i> browsing context. The caching happens in the &quot;Otherwise&quot; clause of step 9 
</I>&gt;<i> of the 4.9.1 Navigating across documents &quot;navigation&quot; algorithm.
</I>&gt;<i>
</I>&gt;<i> If by &quot;top-level&quot; you don't mean a window/tab, but mean any iframe or 
</I>&gt;<i> frame content document, as opposed to an image, a stylesheet, or some 
</I>&gt;<i> such, then you are correct. The use case was really just replacing pages, 
</I>&gt;<i> e.g. Flickr pages, when the whole site isn't cached. Do you think this 
</I>&gt;<i> should be changed to opportunistically cache anything accessed?
</I>&gt;<i>
</I>&gt;<i>   
</I>Thanks a lot for clarification.

I was talking with my colleague about it and we both agree it would be 
useful (and more easy to implement) for ANY resource being fetched 
inside of browsing context associated with an application cache to 
opportunistically cache it and not just do it for results of navigation, 
i.e. top-level document, iframe source and frame source. A set o 
pictures/icons/css styles could be easily cached this way w/o explicitly 
listing them in the manifest.

At this point it would be good to say what really is 
intention/motivation of opportunistic caching itself. Maybe I am missing 
the purpose and potentially open a security hole or a kind of attack 
this way.

Honza Bambas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20080613/5bba3198/attachment-0001.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20080613/5bba3198/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057293.html">[whatwg] Opportunistic caching
</A></li>
	<LI>Next message: <A HREF="057288.html">[whatwg] Change request: rules for pixel ratio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57347">[ date ]</a>
              <a href="thread.html#57347">[ thread ]</a>
              <a href="subject.html#57347">[ subject ]</a>
              <a href="author.html#57347">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
