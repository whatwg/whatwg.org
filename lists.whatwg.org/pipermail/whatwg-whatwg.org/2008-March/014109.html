<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] reply() extension to postMessage()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20reply%28%29%20extension%20to%20postMessage%28%29&In-Reply-To=%3C47C9ECD3.5010705%40sicking.cc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014107.html">
   <LINK REL="Next"  HREF="014118.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] reply() extension to postMessage()</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20reply%28%29%20extension%20to%20postMessage%28%29&In-Reply-To=%3C47C9ECD3.5010705%40sicking.cc%3E"
       TITLE="[whatwg] reply() extension to postMessage()">jonas at sicking.cc
       </A><BR>
    <I>Sat Mar  1 15:54:59 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="014107.html">[whatwg] reply() extension to postMessage()
</A></li>
        <LI>Next message: <A HREF="014118.html">[whatwg] reply() extension to postMessage()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14109">[ date ]</a>
              <a href="thread.html#14109">[ thread ]</a>
              <a href="subject.html#14109">[ subject ]</a>
              <a href="author.html#14109">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> On Sat, 1 Mar 2008, Jonas Sicking wrote:
</I>&gt;&gt;&gt;<i> Over the past few days I've been working on something similar:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>    <A HREF="http://hixie.ch/specs/dom/messages/0.9">http://hixie.ch/specs/dom/messages/0.9</A>
</I>&gt;&gt;<i> So this draft makes one of the two endpoints cross scope, i.e. it is 
</I>&gt;&gt;<i> created in one window, and are then passed over to the other. This is a 
</I>&gt;&gt;<i> major pain security wise. For example, what happens to expando 
</I>&gt;&gt;<i> properties set on the object?
</I>&gt;<i> 
</I>&gt;<i> I updated the proposal recently (in response to similar feedback from Adam 
</I>&gt;<i> or Collin) to say that when you pass an EndPoint through postMessage(), 
</I>&gt;<i> what happens is that a clone EndPoint is made for delivery on the other 
</I>&gt;<i> side, and the EndPoint you passed becomes invalid.
</I>
So why bother with having one side create two endpoints just to have one 
made invalid? It intoroduces two more objects (the pair and the second 
endpoint) that the caller basically will just throw away. Wouldn't it be 
better to have one side instead create just one endpoint (though I would 
call it a messagePipe instead) and then make the postMessage 
implementation create the other endpoint.

&gt;&gt;<i> I too am strongly in favor of having synchronous message. Asynchronous 
</I>&gt;&gt;<i> things are in general harder for developers to understand. And while 
</I>&gt;&gt;<i> Synchronous things generally are evil when it comes to network loads, I 
</I>&gt;&gt;<i> see no such problems here.
</I>&gt;<i> 
</I>&gt;<i> Yeah I think postMessage() would be synchronous. It would have to be async 
</I>&gt;<i> when talking across workers, though:
</I>&gt;<i> 
</I>&gt;<i>    <A HREF="http://hixie.ch/specs/dom/workers/0.9">http://hixie.ch/specs/dom/workers/0.9</A>
</I>
Agreed.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014107.html">[whatwg] reply() extension to postMessage()
</A></li>
	<LI>Next message: <A HREF="014118.html">[whatwg] reply() extension to postMessage()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14109">[ date ]</a>
              <a href="thread.html#14109">[ thread ]</a>
              <a href="subject.html#14109">[ subject ]</a>
              <a href="author.html#14109">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
