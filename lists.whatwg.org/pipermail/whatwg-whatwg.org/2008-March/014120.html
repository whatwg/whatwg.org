<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] reply() extension to postMessage()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20reply%28%29%20extension%20to%20postMessage%28%29&In-Reply-To=%3C47CA2D8F.7070507%40sicking.cc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014118.html">
   <LINK REL="Next"  HREF="014121.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] reply() extension to postMessage()</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20reply%28%29%20extension%20to%20postMessage%28%29&In-Reply-To=%3C47CA2D8F.7070507%40sicking.cc%3E"
       TITLE="[whatwg] reply() extension to postMessage()">jonas at sicking.cc
       </A><BR>
    <I>Sat Mar  1 20:31:11 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="014118.html">[whatwg] reply() extension to postMessage()
</A></li>
        <LI>Next message: <A HREF="014121.html">[whatwg] reply() extension to postMessage()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14120">[ date ]</a>
              <a href="thread.html#14120">[ thread ]</a>
              <a href="subject.html#14120">[ subject ]</a>
              <a href="author.html#14120">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> On Sat, 1 Mar 2008, Jonas Sicking wrote:
</I>&gt;&gt;&gt;<i> I updated the proposal recently (in response to similar feedback from 
</I>&gt;&gt;&gt;<i> Adam or Collin) to say that when you pass an EndPoint through 
</I>&gt;&gt;&gt;<i> postMessage(), what happens is that a clone EndPoint is made for 
</I>&gt;&gt;&gt;<i> delivery on the other side, and the EndPoint you passed becomes 
</I>&gt;&gt;&gt;<i> invalid.
</I>&gt;&gt;<i> So why bother with having one side create two endpoints just to have one 
</I>&gt;&gt;<i> made invalid? It intoroduces two more objects (the pair and the second 
</I>&gt;&gt;<i> endpoint) that the caller basically will just throw away. Wouldn't it be 
</I>&gt;&gt;<i> better to have one side instead create just one endpoint (though I would 
</I>&gt;&gt;<i> call it a messagePipe instead) and then make the postMessage 
</I>&gt;&gt;<i> implementation create the other endpoint.
</I>&gt;<i> 
</I>&gt;<i> Because then you could only pass an endpoint across a pipe once. The idea 
</I>&gt;<i> is to be able to send both ends across pipes many times.
</I>
Passing an endpoint multiple times would create multiple clones anyway 
so I don't see the advantage to just passing in a pipe and have a new 
other end of the pipe being created every time? But I don't really see 
the use case for this anyway? If you really need to have multiple things 
sending you events you might as well create multiple pipes all using the 
same event handlers.

The one thing that I agree you couldn't do with my proposal is to pass 
both ends of a pipe around. You also couldn't pass one end multiple 
times. But again, I'd like to hear what the use case is?

And even that could be done by proxying messages.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014118.html">[whatwg] reply() extension to postMessage()
</A></li>
	<LI>Next message: <A HREF="014121.html">[whatwg] reply() extension to postMessage()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14120">[ date ]</a>
              <a href="thread.html#14120">[ thread ]</a>
              <a href="subject.html#14120">[ subject ]</a>
              <a href="author.html#14120">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
