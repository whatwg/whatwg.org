<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] access to local path in input type=&quot;file&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20access%20to%20local%20path%20in%20input%20type%3D%22file%22&In-Reply-To=%3C005401c88c1e%24e5f69870%246501a8c0%40disxgdg31szkx7%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014228.html">
   <LINK REL="Next"  HREF="014239.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] access to local path in input type=&quot;file&quot;</H1>
<!--htdig_noindex-->
    <B>ddailey</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20access%20to%20local%20path%20in%20input%20type%3D%22file%22&In-Reply-To=%3C005401c88c1e%24e5f69870%246501a8c0%40disxgdg31szkx7%3E"
       TITLE="[whatwg] access to local path in input type=&quot;file&quot;">ddailey at zoominternet.net
       </A><BR>
    <I>Sat Mar 22 06:16:11 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="014228.html">[whatwg] access to local path in input type=&quot;file&quot;
</A></li>
        <LI>Next message: <A HREF="014239.html">[whatwg] access to local path in input type=&quot;file&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14236">[ date ]</a>
              <a href="thread.html#14236">[ thread ]</a>
              <a href="subject.html#14236">[ subject ]</a>
              <a href="author.html#14236">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
timeless replied to my concern:

me&gt;&gt; In the code which follows, both IE7, FF(2.0), and Safari(3.1) allow the 
user
&gt;&gt;<i> to change the src attribute of an image based on her perusal of local 
</I>&gt;&gt;<i> file
</I>&gt;&gt;<i> space. Opera 9.5 doesn't seem to allow access to the path data necessary 
</I>&gt;&gt;<i> for
</I>&gt;&gt;<i> accomplishing this rollover effect, and I suspect that may be how it is
</I>&gt;&gt;<i> supposed to be according to emerging standards. That is the situation 
</I>&gt;&gt;<i> when
</I>&gt;&gt;<i> the HTML file is stored on localhost.
</I>&gt;<i>
</I>timeless&gt; The web changed, today firefox only provides the leafname, not the
&gt;<i> full path (this is a good thing for security/privacy reasons), and we
</I>&gt;<i> don't allow remote access to local content (this is a good thing).
</I>&gt;<i> Security Error: Content at
</I>&gt;<i> <A HREF="http://granite.sru.edu/~ddailey/imageUpload.htm">http://granite.sru.edu/~ddailey/imageUpload.htm</A> may not load or link
</I>&gt;<i> to <A HREF="file://localhost/78255.png.">file://localhost/78255.png.</A>
</I>&gt;<i>
</I>Actually, when I use Firefox 2.0012, the script contained in that file ( 
<A HREF="http://granite.sru.edu/~ddailey/imageUpload.htm">http://granite.sru.edu/~ddailey/imageUpload.htm</A>) actually results in 
displaying the local path name in the &lt;input&gt; on that page, as well as in 
the alert. The data seems to be available, but merely useless for the 
application at hand.

me&gt;&gt;  While I understand the possible risk of exposing a path name of the 
local
&gt;&gt;<i>  file system to script, the various use cases of allowing users to access
</I>&gt;&gt;<i>  local images within HTML, the &lt;canvas&gt; tag and within &lt;svg&gt; all seem
</I>&gt;&gt;<i>  self-evident to me. Is there some standard workaround to allow the user 
</I>&gt;&gt;<i> to
</I>&gt;&gt;<i>  change the source of an image on a web page to one that is locally 
</I>&gt;&gt;<i> stored?
</I>&gt;<i>
</I>
&gt;<i>
</I>timeless&gt; in the modern world, you shouldn't be able to embed local images 
from
&gt;<i> remote content.
</I>&gt;<i>
</I>&gt;<i> if a user wants to see a preview an image they can use their os, file
</I>&gt;<i> picker, favorite image viewer, etc.
</I>&gt;<i>
</I>
Perhaps I should have spelled out the use cases a bit more: I am not 
interested in previewing the thing, rather I'm interested in working with it 
application style-- as in photo editing it (in a web-based application) 
warping it (as with SVG clipPaths in another of the examples I illustrated) 
in morphing two images together using triangulations, clipPaths, warping, 
and opacity. I'm interested in doing image analysis, using the &lt;canvas&gt; tag 
and producing chromatic histograms, in calcuating differences between two 
images, in finding median images from a collection. Yes, I know one can buy 
software (or even freeware) and install it, but I'm interested in among 
other things in supporting scientists who wish to collaboratively edit one 
another's images on the web, in allowing a person to create and preview 
morph and animation sequences locally using remote script. The end user 
maintains copyright on the images, the script writer retains copyright (and 
closed source if desired) of the script itself. The app runs in the client 
rather than on the server, hence allowing the server to play server games 
rather than doing image processing.

The first application I developed (circa 1999) using this ability to access 
pictures on localhost was an animation generator that allowed the user to 
import a series of jpg files (as from a movie clip) and to create a small 
video using setTimeout from which the source code (HTML and script) was 
generated by the app so that the end user could create the video without 
herself having to script. The thing worked in the two dominant browsers at 
the time. Last I looked there was no consensus between browser companies on 
formats for &lt;video&gt; in HTML so this still seems like the only way to proceed 
for the task at hand short of paying bigbucks.


&gt;<i> you can silently auto submit the image and send them back a version.
</I>&gt;<i>
</I>
The privacy (and copyright) exposure to the end user of having to submit the 
image to a server, have that stored temporarily on the server and then make 
a round trip back to the local machine seems far worse that the privacy risk 
of having script read the path of a file the user has already consented to 
make visible.

Perhaps we need a new &lt;img type=&quot;local-file&quot;&gt; to cover the use cases??? What 
I'm ultimately interested in is not really the sort of thing one would 
expect to use &lt;form&gt;s for -- neither is doing content analysis inside a 
&lt;textarea&gt; however. Those just happen to be the tools that &lt;html&gt; provides.

I know that under discussion in HTML5 is some amount of ability to read and 
write files locally. Would script access to local images be included in that 
capability?


&gt;<i>
</I>&gt;<i> modern browsers will not expose path, only leaf.
</I>
Well then I guess FF2.0012 and IE 7 are not considered modern. My FF3 
installation seems flaky so I can't get it to launch. Opera 9. shows only 
the leaf but FF2 shows the whole path.

regards,
David



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014228.html">[whatwg] access to local path in input type=&quot;file&quot;
</A></li>
	<LI>Next message: <A HREF="014239.html">[whatwg] access to local path in input type=&quot;file&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14236">[ date ]</a>
              <a href="thread.html#14236">[ thread ]</a>
              <a href="subject.html#14236">[ subject ]</a>
              <a href="author.html#14236">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
