<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] several messages about tables and related subjects
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20several%20messages%20about%20tables%20and%20related%20subjects&In-Reply-To=%3CPine.LNX.4.62.0803090347080.21599%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="056506.html">
   <LINK REL="Next"  HREF="056520.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] several messages about tables and related subjects</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20several%20messages%20about%20tables%20and%20related%20subjects&In-Reply-To=%3CPine.LNX.4.62.0803090347080.21599%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] several messages about tables and related subjects">ian at hixie.ch
       </A><BR>
    <I>Sun Mar 23 12:29:56 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="056506.html">[whatwg] NULL characters in manifests
</A></li>
        <LI>Next message: <A HREF="056520.html">[whatwg] several messages about tables and related subjects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56518">[ date ]</a>
              <a href="thread.html#56518">[ thread ]</a>
              <a href="subject.html#56518">[ subject ]</a>
              <a href="author.html#56518">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
Executive summary:
 * header/id is in.
 * summary=&quot;&quot; is not in.
 * axis=&quot;&quot; is not in.
 * the automatic header association algorithm has been expanded.
 * a number of minor fixes and editorial edits were made.

For details, see revisions r1373 to r1396.


On Fri, 4 May 2007, aurelien levy wrote:
&gt;<i> 
</I>&gt;<i> the problem is not on the use of scope instead of headers/id, it's that 
</I>&gt;<i> at this time headers/id have a better support in the assistive 
</I>&gt;<i> technology so it's very important to keep them in html 5
</I>
On Thu, 17 May 2007, Maciej Stachowiak wrote:
&gt;<i> &gt;
</I>&gt;<i> &gt;  1. headers=&quot;&quot; is more widely implemented than scope=&quot;&quot;,
</I>&gt;<i> 
</I>&gt;<i> I think this argument is pretty strong, actually. If someone wanted to 
</I>&gt;<i> make table markup that can be understood by screen readers and wished to 
</I>&gt;<i> address older screen readers, it seems like headers=&quot;&quot; is the option 
</I>&gt;<i> that degrades gracefully. This seems like a reason to at least specify 
</I>&gt;<i> headers=&quot;&quot; as a UA requirement for UAs that associate cells and headers, 
</I>&gt;<i> and possibly a reason to make it conforming for documents so that 
</I>&gt;<i> authors can write conforming HTML5 without leaving out older screen 
</I>&gt;<i> readers. HTML5 goes to some lengths to allow markup that degrades 
</I>&gt;<i> gracefully in older browsers, and it seems reasonable to do this for 
</I>&gt;<i> screen readers as well.
</I>&gt;<i> 
</I>&gt;<i> &gt;  2. headers=&quot;&quot; handles some edge cases that scope=&quot;&quot; cannot.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; However, in the case of the second of these points, I do not think 
</I>&gt;<i> &gt; that we should necessarily optimise for such rare cases, and in the 
</I>&gt;<i> &gt; case of the first, I think it would be more helpful to have input from 
</I>&gt;<i> &gt; AT authors to explain *why* scope=&quot;&quot; hasn't been implemented as 
</I>&gt;<i> &gt; widely. Is it simply that AT implementors haven't gotten there yet? Is 
</I>&gt;<i> &gt; the HTML4 definition to vague? Does the HTML5 definition help? Is the 
</I>&gt;<i> &gt; feature somehow fundamentally flawed?
</I>&gt;<i>
</I>&gt;<i> I agree that feedback from AT authors would be very valuable. It seems 
</I>&gt;<i> that scope=&quot;&quot; is much more author-friendly and its support should be 
</I>&gt;<i> advocated since it lowers the bar to making accessible markup.
</I>
Given the problem of conveying the meaning of tables to users who are not 
able to directly see the tables, solutions (such as headers=&quot;&quot;) have to be 
evaluated on the basis of whether or not they address the problem better 
than not having the solution at all.

In particular, with headers=&quot;&quot;, given that implementations of this feature 
already exist, the first question is whether user agents that support this 
feature can convey the table semantics more usefully on existing tables 
that include the feature, or on equivalent tables that omit it -- that 
is, whether in practice the feature is a net improvement to the 
accessibility of tables or whether it actually makes matters worse.

(Theoretically it would always make matters, better, of course, but in 
practice authors' misunderstandings can often make things worse.)

I did a study last July which suggested that roughly 0.2% of pages with 
&lt;table&gt; elements used the headers=&quot;&quot; attribute, and that rougly 0.08% of 
pages used the headers=&quot;&quot; attribute in a non-trivial way (i.e. in a way 
that could actually improve the accessibility of the page over simply 
applying a simple set of heuristics to determine what table headers 
applied to what cell). Now clearly this isn't especially useful, since the 
whole point is that accessibility tools at the moment _don't_ implement 
even the most basic of heuristics to determine table/cell associations, 
sadly (let alone the more advanced heuristics discussed later in this 
e-mail). However, this study also involved the collection of a sample of 
pages that use the headers=&quot;&quot; attribute in a correct but non-trivial 
manner, from which we can maybe get an idea of whether headers=&quot;&quot; does 
indeed help or not. This same study also determined through automated 
analysis that about 20% of tables that use headers=&quot;&quot; have some sort of 
fundamental error in the header association, e.g. dangling IDs (the most 
common error), duplicate IDs, self-reference or cycles in the header 
definitions, IDs that contain spaces (and thus can't be used to make 
header associations), and so forth.

Looking at ten pages selected at random from the sample (specifically, I 
took a random sample of 100 URIs from the millions that were deemed 
interesting by the script, sorted this sample lexically, and then took 
every tenth URI, or the closest thereto, skipping URIs that are now 404), 
we find the following:


<A HREF="http://w3.bcn.es/ab/asia/agenda/controller/0,2314,1886716_1893804_2,00.html?accio=fitxa_ag&amp;idActe=99400157985">http://w3.bcn.es/ab/asia/agenda/controller/0,2314,1886716_1893804_2,00.html?accio=fitxa_ag&amp;idActe=99400157985</A>

This page has so many deeply nested presentational tables (71, in total) 
that it's hardly worth even examining it. What's funny is that the three 
headers=&quot;&quot; attributes are all on cells that themselves contain tables. 
What's surprising is that all three are actually used correctly, though 
redundantly, given a simple table heading association algorithm.

Conclusion: headers=&quot;&quot; probably neither helps nor harms this page in 
existing user agents.


<A HREF="http://doe.state.wy.us/lmi/20042pub/tes/PAG14072.HTM">http://doe.state.wy.us/lmi/20042pub/tes/PAG14072.HTM</A>

All of the headers=&quot;&quot; in this page could be removed and a single &lt;td&gt; 
turned into a &lt;th&gt; with a net increase in the accessibility of the page -- 
as it stands, one of the cells that would be best considered a header is 
not. This page also has nested tables, by the way, in the captions.

Conclusion: headers=&quot;&quot; probably neither helps nor harms this page in 
existing user agents.


<A HREF="http://trac.feedtree.net/project/ticket/45">http://trac.feedtree.net/project/ticket/45</A>

The headers=&quot;&quot; on this page are redundant with a decent heuristic.

Conclusion: headers=&quot;&quot; probably improves matters in today's user agents, 
which are pretty simplistic in their processing of tables.


<A HREF="http://www.essen.de/Module/Veranstaltung/v_liste.asp?DatVon=03.07.2006&amp;Dauer=999&amp;ReiheID=28&amp;singleday_Anfang=581&amp;multiday_Anfang=181">http://www.essen.de/Module/Veranstaltung/v_liste.asp?DatVon=03.07.2006&amp;Dauer=999&amp;ReiheID=28&amp;singleday_Anfang=581&amp;multiday_Anfang=181</A>
<A HREF="http://www.essen.de/module/veranstaltung/v_liste.asp?DatVon=31.12.2006&amp;Dauer=1&amp;VAID=&amp;singleday_Anfang=11">http://www.essen.de/module/veranstaltung/v_liste.asp?DatVon=31.12.2006&amp;Dauer=1&amp;VAID=&amp;singleday_Anfang=11</A>

The headers=&quot;&quot; on these pages are used correctly and actually improve 
matters. This is probably the first site I've seen that has tables that 
are understandable visually for which the headers=&quot;&quot; actually help 
non-visually-able users. (This site is a major source of headers=&quot;&quot; 
attributes, hence it appearing twice in a sample of ten URIs out of 
several million.)

Conclusion: headers=&quot;&quot; probably improves matters in today's user agents. 
This is also a case where there really isn't another solution that I can 
see that would allow the semantics of the table to be expressed.


<A HREF="http://www.plandechoque-ahorrodeagua.es/pag/eus/100_listado.asp?prov=03">http://www.plandechoque-ahorrodeagua.es/pag/eus/100_listado.asp?prov=03</A>

These headers=&quot;&quot; are all wrong. They don't match the visually apparent 
header structure of the table.

Conclusion: headers=&quot;&quot; probably hurts the accessibility of this page.


<A HREF="http://www.eu2006.gv.at/de/Media_Service/showFoto.html?month=3&amp;day=1&amp;backpath=%2Fhtdocs%2Ffr%2FMedia_Service%2FPhotos%2FApril%2F0604ECOFIN_Tag1.html&amp;path=%2Fhtdocs%2Fincludes%2Fphotos%2FApril%2F0704ECOFIN%2FkG6406403_thumb">http://www.eu2006.gv.at/de/Media_Service/showFoto.html?month=3&amp;day=1&amp;backpath=%2Fhtdocs%2Ffr%2FMedia_Service%2FPhotos%2FApril%2F0604ECOFIN_Tag1.html&amp;path=%2Fhtdocs%2Fincludes%2Fphotos%2FApril%2F0704ECOFIN%2FkG6406403_thumb</A>

The table here is the calendar on the right. The headers=&quot;&quot; here are again 
all wrong -- they make the first week all Mondays, the second week all 
Tuesdays, and so forth.

Conclusion: headers=&quot;&quot; probably hurts the accessibility of this page.


<A HREF="http://www.kurierlubelski.pl/index.php?module=forum&amp;func=viewtopic&amp;topic=3219">http://www.kurierlubelski.pl/index.php?module=forum&amp;func=viewtopic&amp;topic=3219</A>

The headers=&quot;&quot; here seem pointless. They roughly match what heuristics 
would generally do anyway, but sadly that's no comfort because the headers 
in question really don't help understand the page (the header used for 
most of the cells is really a page header, not a table cell header).

Conclusion: headers=&quot;&quot; probably neither helps nor harms this page in 
existing user agents, though it may marginally harm them due to the user 
agents' otherwise simplistic handling of header association.


<A HREF="http://www.ncreportcards.org/src/schDetails.jsp?pSchCode=328&amp;pLEACode=230&amp;pYear=2005-2006">http://www.ncreportcards.org/src/schDetails.jsp?pSchCode=328&amp;pLEACode=230&amp;pYear=2005-2006</A>

The headers=&quot;&quot; here are again rather redundant given any basic heuristics, 
except that in addition, the only time they are used, simply not reading 
any header labels (and just reading the table straight out loud) would be 
the simplest and most useful interpretation of the table. This page 
contains a large number of tables (24), mostly presentational.

Conclusion: headers=&quot;&quot; probably neither helps nor harms this page in 
existing user agents.


<A HREF="http://www2.westfalia.de/shops/werkzeug/handwerkzeuge/messen_ausrichten_markieren/messschieber/1000-streichmass_200mm.htm">http://www2.westfalia.de/shops/werkzeug/handwerkzeuge/messen_ausrichten_markieren/messschieber/1000-streichmass_200mm.htm</A>

Again, a site full of presentational tables, with one data table in the 
middle using headers=&quot;&quot;. This one also has a second table, using 
headers=&quot;&quot; in a bogus fashion. In both cases, a simple heuristic could do 
at least as well, or better, than honouring headers=&quot;&quot;.

Conclusion: headers=&quot;&quot; probably doesn't help this page, and may harm it 
due to the incorrect usage.


Summary:
  On 3 pages the headers=&quot;&quot; feature helps the user.
  On 3 pages the headers=&quot;&quot; feature neither helps nor hurts the user.
  On 2 pages the headers=&quot;&quot; feature may harm the user in some minor way.
  On 2 pages the headers=&quot;&quot; feature harms the user.

This suggests that we should include the feature.

I have added headers=&quot;&quot; support to the HTML5 spec.


A second question is whether on the long term, headers=&quot;&quot; is the solution 
that can best solve the problem of conveying the meaning of tables to 
users who are not able to directly see the tables. I think that it is 
clear that explicit markup for non-visual users is not something most 
authors even remotely consider including on their pages, and thus 
headers=&quot;&quot; is actually quite a bad way of solving the core problem of 
conveying the meaning of tables to users who are not able to directly see 
the tables. Our best bet is to hook into the visual interpretation of the 
table, using well-defined heuristics. For the cases where more hints need 
to be given by the author, the scope=&quot;&quot; attribute provides a much cheaper 
solution for authors, and we therefore should focus on pushing that rather 
than on pushing headers=&quot;&quot;, when advocating accessible markup.

However, to make tables more accessible by default, we have to study 
actual tables and see what would work for them all. Here's a list of some 
of the tables I've looked at, derived from the work of Ben, Laura, Steve, 
and others who have e-mailed the list or participated in various forums in 
the past few months. I actually looked at hundreds of tables; those I've 
listed below are merely a sample showing some of the more interesting 
features that were used. (Not all can be handled by HTML5's algorithm 
without use of headers=&quot;&quot;, but most now can.)

   <A HREF="http://broads-authority.gov.uk/boating/navigating/tide-tables.html">http://broads-authority.gov.uk/boating/navigating/tide-tables.html</A>
   <A HREF="http://www.usability.com.au/resources/tables.cfm">http://www.usability.com.au/resources/tables.cfm</A>
   <A HREF="http://www.gutenberg.org/files/17128/17128-h/17128-h.htm">http://www.gutenberg.org/files/17128/17128-h/17128-h.htm</A>
   <A HREF="http://www.gutenberg.org/files/19598/19598-h/19598-h.htm">http://www.gutenberg.org/files/19598/19598-h/19598-h.htm</A>
   <A HREF="http://www.socialsecurity.gov/policy/docs/statcomps/eedata_sc/2004/table01.html">http://www.socialsecurity.gov/policy/docs/statcomps/eedata_sc/2004/table01.html</A> 
   <A HREF="http://www.dol.govt.nz/publications/general/soi2006/21statfinperf.html">http://www.dol.govt.nz/publications/general/soi2006/21statfinperf.html</A> 
   <A HREF="http://www.msd.govt.nz/publications/statement-of-intent/2007/forecast-financial-statements.html">http://www.msd.govt.nz/publications/statement-of-intent/2007/forecast-financial-statements.html</A> 
   <A HREF="http://www.mfe.govt.nz/publications/about/soi/2007/html/part2/vote-environment.html">http://www.mfe.govt.nz/publications/about/soi/2007/html/part2/vote-environment.html</A> 
   <A HREF="http://www.linz.govt.nz/publications/statement%2Dintent%2D0607/financial/financial-statements/financial-performance/index.html">http://www.linz.govt.nz/publications/statement%2Dintent%2D0607/financial/financial-statements/financial-performance/index.html</A> 
   <A HREF="http://elabs.govt.nz/web-standards/table-ids-and-headers.html">http://elabs.govt.nz/web-standards/table-ids-and-headers.html</A> 
   <A HREF="http://daf.csulb.edu/offices/financial/procurement/printshop/copying.html">http://daf.csulb.edu/offices/financial/procurement/printshop/copying.html</A>
   <A HREF="http://www.wisc.edu/about/facts/budget.php">http://www.wisc.edu/about/facts/budget.php</A>
   <A HREF="http://joeclark.org/access/cinema/reviews/">http://joeclark.org/access/cinema/reviews/</A>
   <A HREF="http://www.flickr.com/photos/joeclark/192878174/">http://www.flickr.com/photos/joeclark/192878174/</A>
   <A HREF="http://www.flickr.com/photos/joeclark/192878416/">http://www.flickr.com/photos/joeclark/192878416/</A>
   <A HREF="http://www.flickr.com/photos/joeclark/192878366/">http://www.flickr.com/photos/joeclark/192878366/</A>
   <A HREF="http://www.flickr.com/photos/joeclark/185786265/">http://www.flickr.com/photos/joeclark/185786265/</A>
   <A HREF="http://www.flickr.com/photos/joeclark/185786161/">http://www.flickr.com/photos/joeclark/185786161/</A>
   <A HREF="http://www.flickr.com/photos/joeclark/185786065/">http://www.flickr.com/photos/joeclark/185786065/</A>
   <A HREF="http://www.flickr.com/photos/joeclark/185786134/">http://www.flickr.com/photos/joeclark/185786134/</A>
   <A HREF="http://www.flickr.com/photos/joeclark/185786111/">http://www.flickr.com/photos/joeclark/185786111/</A>
   <A HREF="http://annualreport07.telecom.co.nz/governance/remuneration/employees">http://annualreport07.telecom.co.nz/governance/remuneration/employees</A>
   <A HREF="http://annualreport07.telecom.co.nz/performance/financial-statements/balance-sheet">http://annualreport07.telecom.co.nz/performance/financial-statements/balance-sheet</A>
   <A HREF="http://sitesurgeon.co.uk/tables/astro/06-seasons/minimal.html">http://sitesurgeon.co.uk/tables/astro/06-seasons/minimal.html</A>
   <A HREF="http://harmonia.terrainformatica.com/map.html">http://harmonia.terrainformatica.com/map.html</A>
   <A HREF="http://www.premierleague.com/page/LeagueTable/">http://www.premierleague.com/page/LeagueTable/</A>
   <A HREF="http://www.federalreserve.gov/generalinfo/basel2/docs2005/potentialimpact.htm">http://www.federalreserve.gov/generalinfo/basel2/docs2005/potentialimpact.htm</A>

I also looked in detail at the information that Ben and James provided, 
which was incredibly useful.

Based on all the above, I have updated the algorithms in the spec to 
handle a greater number of tables automatically.

This addresses ISSUE-20.

[ISSUE-20] <A HREF="http://www.w3.org/html/wg/tracker/issues/20">http://www.w3.org/html/wg/tracker/issues/20</A>


On Tue, 13 Mar 2007, Simon Pieters wrote:
&gt;<i>
</I>&gt;<i> Many pages use tables where only the first column are header cells, 
</I>&gt;<i> e.g.:
</I>&gt;<i> 
</I>&gt;<i>    &lt;table&gt;
</I>&gt;<i>     &lt;tr&gt;&lt;th&gt;Foo &lt;td&gt;Bar
</I>&gt;<i>     &lt;tr&gt;&lt;th&gt;Foo &lt;td&gt;Bar
</I>&gt;<i>     &lt;tr&gt;&lt;th&gt;Foo &lt;td&gt;Bar
</I>&gt;<i>    &lt;/table&gt;
</I>&gt;<i> 
</I>&gt;<i> With the current algorithm for assigning header cells to data cells, the 
</I>&gt;<i> first &lt;th&gt; won't be a header cell for any data cells. In order to be 
</I>&gt;<i> more compatible with existing content, and in order to not require 
</I>&gt;<i> authors to use more complex markup for such a simple table like the one 
</I>&gt;<i> above, I think it probably should be.
</I>
On Tue, 13 Mar 2007, Asbj&#248;rn Ulsberg wrote:
&gt;<i>
</I>&gt;<i> Can't 'scope=&quot;row&quot;' be used?
</I>
On Tue, 13 Mar 2007, Simon Pieters wrote:
&gt;<i> 
</I>&gt;<i> I see that as a workaround. The current algorithm works fine if you flip 
</I>&gt;<i> the table so that the header cells are on the first row; I think it 
</I>&gt;<i> should just work for the above case as well.
</I>
On Tue, 13 Mar 2007, Kornel Lesinski wrote:
&gt;<i>
</I>&gt;<i> It can, but in this case scope of row is so obvious, that it would be 
</I>&gt;<i> counter-intuitive if specification said otherwise.
</I>
On Thu, 22 Mar 2007, Henri Sivonen wrote:
&gt;<i>
</I>&gt;<i> When the options are badgering innumerable authors into doing something 
</I>&gt;<i> and making relatively few users agents implement slightly smarter 
</I>&gt;<i> heuristics, the latter should win.
</I>
On Sun, 27 Jan 2008, Ben Boyle wrote:
&gt;<i> 
</I>&gt;<i> Assume I am authoring a table and want it to be fully accessible. This 
</I>&gt;<i> table has both row and column headings... as an example, imagine it's a 
</I>&gt;<i> TV guide and the columns represent hours in the day and the rows 
</I>&gt;<i> represent various channels (the data being what's on).
</I>&gt;<i> 
</I>&gt;<i> It's the top left cell that bugs me.
</I>&gt;<i> 
</I>&gt;<i> If it contains &quot;Time&quot; then it should be a &lt;th scope=&quot;row&quot;&gt;
</I>&gt;<i>
</I>&gt;<i> If it contains &quot;Channel&quot; then it should be a &lt;th scope=&quot;col&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> How can this be unambiguous (to a UA) without @scope?
</I>
On Sun, 27 Jan 2008, Ben 'Cerbera' Millard wrote:
&gt;<i> 
</I>&gt;<i> Without scope, I think [the top-left cell] should apply downwards. From 
</I>&gt;<i> the tables I've seen, a header in that position is always labelling the 
</I>&gt;<i> row headers below it. But I haven't seen every table which exists. :-)
</I>&gt;<i> 
</I>&gt;<i> If an author wants to apply it across that row, I think scope=&quot;row&quot; is a 
</I>&gt;<i> sensible way to make that happen.
</I>
The heuristics have been updated to handle this case. (In fact it handles 
both the horizontal headers case and the vertical headers case.) 
Basically, it just labels all data cells in both directions, to the right 
and downwards, until it hits another header cell. (In HTML5, header cells 
aren't hierarchical. As I mentioned above I studied a large number of 
tables and I couldn't really find a case where there was a real need to 
read the headers' own headers. (In the rare cases where such verbosity is 
indeed desired, the headers=&quot;&quot; attribute can be used to point to all the 
headers.)

&gt;<i> Ben Boyle wrote:
</I>&gt;<i> &gt; Often this cell is blank in tables (which is easy, I just use 
</I>&gt;<i> &gt; &lt;td&gt;&lt;/td&gt;... even within &lt;thead&gt;) [...]
</I>&gt;<i> 
</I>&gt;<i> That's what I do, too. An empty &lt;th&gt; would also work there. Real tables 
</I>&gt;<i> use either, IIRC.
</I>
Per the current spec, you'd have to use &lt;td&gt; if it wasn't a real header.


&gt;<i> Sometimes a cell contains insignificant content, such as &nbsp; or &lt;br&gt;. 
</I>&gt;<i> These should be [ignored]. Among other things, this would avoid 
</I>&gt;<i> functionally empty top-left header cells being associated with data 
</I>&gt;<i> cells. Thus supporting real tables accessibly.
</I>
I've mentioned this in the spec.


On Mon, 4 Jun 2007, Thomas Broyer wrote:
&gt;<i> 
</I>&gt;<i> 2007/6/4, Leif Halvard Silli:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; And does anyone know what happens if I put SCOPE on a TH within the 
</I>&gt;<i> &gt; THEAD element. And then add SCOPE to the correpsonding TH in same 
</I>&gt;<i> &gt; column in the TFOOT element, in HTML5 (or in HTML4)? A cell in this 
</I>&gt;<i> &gt; column would then be scoped from top and from bottom. In the code, it 
</I>&gt;<i> &gt; would come after the SCOPE in the THEAD.
</I>&gt;<i> 
</I>&gt;<i> HTML5 defines scope= in terms of &quot;slots&quot;. If you put &lt;tfoot&gt; before 
</I>&gt;<i> &lt;tbody&gt; in the &lt;table&gt;, then all your data cells will be associated with 
</I>&gt;<i> header cells in both &lt;thead&gt; and &lt;tfoot&gt;. On the other hand, if you put 
</I>&gt;<i> &lt;tfoot&gt; after &lt;tbody&gt;s, then you data cells will be associated with 
</I>&gt;<i> header cells only in &lt;thead&gt;, and header cells in &lt;tfoot&gt; won't be 
</I>&gt;<i> column headers of any data cells.
</I>&gt;<i> 
</I>&gt;<i> At least that's how I read the algorithms with the &quot;Processing model&quot; 
</I>&gt;<i> section 
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/section-tabular.html#processing">http://www.whatwg.org/specs/web-apps/current-work/multipage/section-tabular.html#processing</A>
</I>
I've fixed this to make the &lt;tfoot&gt;s always go to the bottom.


On Wed, 30 May 2007, Adam Roben wrote:
&gt;<i>
</I>&gt;<i> The omission of a createTBody method from HTMLTableElement makes it 
</I>&gt;<i> rather inconvenient to create a table with both a thead and a tbody 
</I>&gt;<i> using the table DOM APIs. After creating a thead, you have to manually 
</I>&gt;<i> create and append the tbody to start putting rows into the body of the 
</I>&gt;<i> table, so you cannot exclusively use the HTMLTableElement methods to 
</I>&gt;<i> populate the table. If a createTBody method is added, I'd suggest that 
</I>&gt;<i> it always create a new tbody rather than ever returning an existing one.
</I>
Added.


On Thu, 16 Aug 2007, Ben Boyle wrote:
&gt;<i>
</I>&gt;<i> Look at the balance sheet (3rd table). It's like we have nested sections 
</I>&gt;<i> within the table. There's &quot;net assets&quot; that's broken down into &quot;current 
</I>&gt;<i> assets&quot;, &quot;non-current assets&quot; and &quot;liabilities&quot;, each either their own 
</I>&gt;<i> heading and totals (footer).
</I>&gt;<i> 
</I>&gt;<i> It would be interesting to investigate table markup that could support 
</I>&gt;<i> complex relationships within tables like this. It may be a bit esoteric, 
</I>&gt;<i> and can probably be handled through classes for those that need it. In 
</I>&gt;<i> either case it's very important we can clearly associate the headers 
</I>&gt;<i> with the right cells. I think it would be useful to be able to identity 
</I>&gt;<i> the &quot;totals&quot; (footers?) in each section too.
</I>
For simple cases like:

                      WATER   FOOD
    CATS
      male              871     12
      female            900     10
    TOTALS FOR CATS    1771     22
    DOGS
      male              871     12
      female            900     10
    TOTALS FOR DOGS    1771     22
    TOTALS             3542     44

...you can now easily get this effect by putting everything in the left 
hand column into &lt;th&gt;s, everything on the top row into &lt;th&gt;s, and 
everything on the bottom row into its own &lt;tfoot&gt;.

Does that work?


&gt;<i> I'm going to through a crazy idea into the mix and suggest that 
</I>&gt;<i> &lt;section&gt;, &lt;header&gt; and &lt;footer&gt; may be useful within data tables for 
</I>&gt;<i> this very purpose.
</I>
I'm not clear on how that would work. (Especially considering backwards 
compatibility and the CSS table model.)




On Tue, 22 Jan 2008, Ben 'Cerbera' Millard wrote:
&gt;<i> 
</I>&gt;<i> James Graham wrote:
</I>&gt;<i> &gt; I'm just wondering if, in your research into HTML tables, you have ever come
</I>&gt;<i> &gt; across a table that would require the use of scope=rowgroup/colgroup
</I>&gt;<i> &gt; assuming [...] something like the smart[ ]colspan
</I>&gt;<i> 
</I>&gt;<i> I don't recall any which used it and needed it.
</I>&gt;<i> 
</I>&gt;<i> However, there are largely regular tables which have the odd quirk inside
</I>&gt;<i> them. If authors were to retrofit accessibility to these, scope might help
</I>&gt;<i> disambiguate.
</I>&gt;<i> 
</I>&gt;<i> A quick look through my collection turned up some smart colspan worries:
</I>&gt;<i> 
</I>&gt;<i> 1. &lt;<A HREF="http://harmonia.terrainformatica.com/map.html">http://harmonia.terrainformatica.com/map.html</A>&gt;
</I>&gt;<i>    [[[
</I>&gt;<i>    This might prevent the &#147;smart colspan&#148; algorithm working.
</I>&gt;<i>    ]]]
</I>&gt;<i>    Specifically, the &quot;measure, parser, render, scanner, style, tableengine&quot;
</I>&gt;<i> cell.
</I>
So long as everything in columns 2 and 3 is a &lt;th&gt;, it should work fine. 
(In this particular table there's no header cells, but that's another 
problem.)


&gt;<i> 2. &lt;<A HREF="http://sports.espn.go.com/nhl/boxscore?gameId=270519002">http://sports.espn.go.com/nhl/boxscore?gameId=270519002</A>&gt;
</I>&gt;<i>    [[[
</I>&gt;<i>    1st Period Summary:
</I>&gt;<i>    * Columns 3 and 4 start with individual headers but are replaced by a
</I>&gt;<i> spanned header. &#147;Smart colspan&#148; wouldn&#146;t recognise this because it would fail
</I>&gt;<i> in other tables, IIRC.
</I>&gt;<i>    2nd Period Summary, 3rd Period Summary and OT Summary are the same as 1st
</I>&gt;<i> Period Summary.
</I>&gt;<i>    ]]]
</I>&gt;<i>    Specifically, the &quot;PENALTY DETAIL&quot; header cell in each table.
</I>&gt;<i> 
</I>&gt;<i>    The data cells below this would get that header applied to them, but smart
</I>&gt;<i> colspan would also apply the &quot;SCORING DETAIL&quot; and &quot;SCORE&quot; headers? I'm not
</I>&gt;<i> sure how to solve this case.
</I>
Yeah, this one I don't have a solution for. Even scope=&quot;&quot; an row groups 
can't help with this one.


On Sun, 27 Jan 2008, James Graham wrote:
&gt;<i>
</I>&gt;<i> FWIW the HTML 4 behavior which turns a &lt;td scope=&quot;somthing&quot;&gt; into a 
</I>&gt;<i> heading from the point of view of the UA is, in principle, useful since 
</I>&gt;<i> there are cases (particularly for row headings) where one cell is 
</I>&gt;<i> effectively both data and a heading but the formatting should be 
</I>&gt;<i> data-like rather than heading like. However I strongly doubt this is 
</I>&gt;<i> actually used enough in practice to make it worthwhile; [1] shows very 
</I>&gt;<i> few pages using it and a random selection of those I checked seemed to 
</I>&gt;<i> be using it unnecessarily or incorrectly. In any case, it is only a 
</I>&gt;<i> convenience, one could argue that a purer approach is to mark up 
</I>&gt;<i> anything that a UA should regard as a heading as &lt;th&gt; and then change 
</I>&gt;<i> the style as required.
</I>
That's what I've settled for in HTML5 for now.


&gt;<i> On the subject of which, does anyone have a strong opinion on how 
</I>&gt;<i> scope=&quot;colgroup&quot; and scope=&quot;rowgroup&quot; ought to work? For example, in the 
</I>&gt;<i> following table, assuming the header is scope=&quot;rowgroup&quot;, the direction 
</I>&gt;<i> is ltr, and there is only one rowgroup, which cells should it apply to:
</I>&gt;<i> 
</I>&gt;<i> | Cell 1 |  Cell 2  | Cell 3 |
</I>&gt;<i> | Cell 4 | Header 1 | Cell 5 |
</I>&gt;<i> | Cell 6 |  Cell 7  | Cell 8 |
</I>

Spec says 5, 7, 8, assuming none have headers=&quot;&quot; attributes set.


&gt;<i> What about cases where the scope is colgroup and the header trails into 
</I>&gt;<i> parts of multiple colgroups
</I>&gt;<i> 
</I>&gt;<i> |         colgroup 1       |         colgroup 2       |
</I>&gt;<i> | Cell 1 | Cell 2 |   Heading 1     | Cell 4 | Cell 5 |
</I>&gt;<i> | Cell 6 | Cell 7 | Cell 8 | Cell 9 | Cell 10| Cell 11|
</I>&gt;<i> 
</I>&gt;<i> These seem kindof like unimportant edge cases to me, but it seems like 
</I>&gt;<i> these scope values are only going to be useful in uncommon situations, 
</I>&gt;<i> so I guess someone might have a use case for one behavior over 
</I>&gt;<i> another...
</I>
Spec says 8.


On Mon, 28 Jan 2008, James Graham wrote:
&gt;<i>
</I>&gt;<i> @headers is supported. The attribute's value is split on whitespace and 
</I>&gt;<i> each resulting token is used as an id for getElementById on the subtree 
</I>&gt;<i> rooted at the &lt;table&gt; element. If a match is found that header is 
</I>&gt;<i> associated with the cell. If no match is found the token is ignored. If 
</I>&gt;<i> any headings are found from @headers, no other header associations are 
</I>&gt;<i> applied to that cell (I believe this is necessary for the few legitimate 
</I>&gt;<i> @headers use cases)
</I>
That's basically what the spec now does, except only cells inside the 
table itself will be used, not those in nested tables.


On Tue, 19 Jul 2005, Christoph P&#228;per wrote:
&gt;<i> 
</I>&gt;<i> both table models, HTML and CSS, are row-centric, i.e. sequential data 
</I>&gt;<i> is shown horizontally. Sometimes the opposite is desired. Therefore I 
</I>&gt;<i> wonder if it was feasible to add a &quot;boolean&quot; 'transpose' attribute to 
</I>&gt;<i> the 'table' element type? With it set, a table would be rendered 
</I>&gt;<i> column-progressive despite 'tr' meaning &quot;table row&quot;; it includes the 
</I>&gt;<i> row-groups ('thead', 'tfoot' and 'tbody'). Actually I am not sure 
</I>&gt;<i> whether it is not too presentational and thus would better be done in 
</I>&gt;<i> CSS.
</I>
This is an interesting idea... I'm certainly not opposed to it, my concern 
is that browser vendors are unlikely to implement it (especially since it 
isn't compatible with the CSS model). I'd recommend trying to get a 
browser vendor to implement it experimentally; with a proof of concept it 
would be much easier for us to argue for its inclusion in the spec.


On Thu, 26 Oct 2006, David Walbert wrote:
&gt;<i> 
</I>&gt;<i> It strikes me that the axis and headers attributes could both 
</I>&gt;<i> potentially be very useful; but if I were to use them, I'd almost 
</I>&gt;<i> certainly generate the table and attributes with server-side script 
</I>&gt;<i> (such as PHP), and then there would be no need for the HTML attributes 
</I>&gt;<i> since I could generate any desired reports the same way. They seem to me 
</I>&gt;<i> to provide alternative functionality for tables in lieu of an actual 
</I>&gt;<i> database, but if the tables aren't generated from a database they'd have 
</I>&gt;<i> to be marked up by hand, and that would be a tremendous amount of work 
</I>&gt;<i> in which errors could easily be introduced. That may explain why the 
</I>&gt;<i> attributes are underused.
</I>
On Sat, 28 Oct 2006, Lachlan Hunt wrote:
&gt;<i>
</I>&gt;<i> I suspect that the problem with the axis attribute is that it's not 
</I>&gt;<i> entirely clear from the HTML 4 spec how or when to use it, and, AFAIK, 
</I>&gt;<i> there are no known useful implementations that use it.
</I>
On Thu, 26 Oct 2006, Sander Tekelenburg wrote:
&gt;<i> 
</I>&gt;<i> I can't follow this. AFAIK axis[*], headers and scope are all intended 
</I>&gt;<i> to improve accessibility and useability of tabular data; they allow 
</I>&gt;<i> authors to help user-agents help users to navigate tables. For example, 
</I>&gt;<i> a speech browser could provide a mechanism to speak the table headers 
</I>&gt;<i> that apply to a cell; a visual browser could render the table header for 
</I>&gt;<i> a cell when that table header cell is outside of the viewport (that way 
</I>&gt;<i> we wouldn't even need scrolling TBODYs anymore), draw lines to the 
</I>&gt;<i> corresponsing table cell headers of a selected cell, or maybe even 
</I>&gt;<i> hide/grey-out all non-related (header) cells; Etc.
</I>&gt;<i> 
</I>&gt;<i> [*] I have to admit I don't understand axis. The HTML 4.01 description 
</I>&gt;<i> of it is way beyond rocket science to me. So thus far I've only used 
</I>&gt;<i> headers and scope.
</I>
On Thu, 26 Oct 2006, Sander Tekelenburg wrote:
&gt;<i> 
</I>&gt;<i> I suspect [axis/headers] not being used is more likely due to UAs not 
</I>&gt;<i> supporting them. (As well as this being one of those non-visual features 
</I>&gt;<i> of the Web... Just not Flashy enough for most Web publishers ;))
</I>
I haven't added axis, mostly because nobody seems to understand it, so it 
would likely not be used well even if supported.


On Fri, 27 Oct 2006, Lachlan Hunt wrote:
&gt;<i>
</I>&gt;<i> All of these attributes should be kept, because they are supported and
</I>&gt;<i> non-presentational.
</I>&gt;<i> 
</I>&gt;<i> TABLE
</I>&gt;<i> * summary (supported by screen readers)
</I>&gt;<i> 
</I>&gt;<i> TH and TD
</I>&gt;<i> * abbr (I think that's supported by screen readers, but need to verify)
</I>
I don't really see that these attributes actually help anyone.


On Tue, 13 Feb 2007, David Latapie wrote:
&gt;<i> 
</I>&gt;<i> Do you know some guidelines on this (&lt;table summary=&quot;&quot;&gt;)? I usually 
</I>&gt;<i> write the number of rows and columns, sometimes with an adjective like 
</I>&gt;<i> &quot;long&quot;, &quot;complex&quot;, because this is what I think come to my eye first.
</I>
That, or the most common &quot;This is a layout table&quot; (or words to that 
effect) seem rather pointless to me.

If the problem is that the table is especially complicated and needs a 
summary to be understood, why disenfranchise the sighted users by only 
showing the summary to disabled users? It seems like the table would be 
better served by a paragraph before or after the table explaining it for 
everyone.

A single attribute is hardly going to be expressive enough to usefully 
describe tables to users.


On Tue, 5 Feb 2008, Joshue O Connor wrote:
&gt;<i> &gt; 
</I>&gt;<i> &gt; Well, as noted above, I haven't yet done much research on summary=&quot;&quot;, 
</I>&gt;<i> &gt; it's waiting with all the other table issues. However, with all due 
</I>&gt;<i> &gt; respect, one of the most convincing pieces of research I have seen 
</I>&gt;<i> &gt; examining summary=&quot;&quot; -- and most excellent research it was -- was your 
</I>&gt;<i> &gt; own usability study video, which showed a screen reader user dismiss 
</I>&gt;<i> &gt; summary=&quot;&quot; out of hand as being useless and annoying (paraphrasing 
</I>&gt;<i> &gt; from memory).
</I>&gt;<i> 
</I>&gt;<i> I knew that my colleague's comment would come back to haunt me :-)
</I>
Please don't consider this as it haunting you -- we often come across 
unexpected truths when doing research, that's why we do it.


&gt;<i> To put that comment into context, he is a power user and is experienced 
</I>&gt;<i> in using his screen reader controls to interrogate data tables.
</I>
I would imagine that this would put him amongst those more able to deal 
with summary=&quot;&quot; attributes, so that doesn't really help your case. :-)


&gt;<i> As an aside, when the camera was off and I explained to him how @summary 
</I>&gt;<i> could be useful to other users Stuart agreed with me.
</I>
He agreed with you on camera, too. But that doesn't stop his initial, 
unbiased reaction being one of dismissal. :-)


&gt;<i> I can always put together more footage to build a more solid case :-)
</I>
That's not how research works. :-)


This addresses ISSUE-32. It proobably doesn't address it to everyone's 
satisfaction, so if this issue is to be reopened, please start a new 
thread and describe in detail what problem we are trying to solve (without 
mentioning summary=&quot;&quot; in the e-mail, so as not to bias the problem 
description with an assumed solution). The e-mails above don't really 
describe what the problem being solved is, so I can't really evaluate the 
merits of the solution being proposed.

[ISSUE-32] <A HREF="http://www.w3.org/html/wg/tracker/issues/32">http://www.w3.org/html/wg/tracker/issues/32</A>



On Fri, 27 Oct 2006, Michel Fortin wrote:
&gt;<i>
</I>&gt;<i> Le 27 oct. 2006 &#224; 9:17, Lachlan Hunt a &#233;crit :
</I>&gt;<i> 
</I>&gt;<i> &gt; I'd say drop all of these because they're either presentational or not
</I>&gt;<i> &gt; supported.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; * align
</I>&gt;<i> 
</I>&gt;<i> I don't agree. Yes it is presentational, but data tables can look pretty 
</I>&gt;<i> crappy if you remove their alignement information. Delegating alignment 
</I>&gt;<i> to CSS will just make tables harder to read without the corresponding 
</I>&gt;<i> stylesheet to align the data as intended. That's not just style, it's 
</I>&gt;<i> also a usability issue. So I think align=&quot;&quot; should be preserved for 
</I>&gt;<i> table cells, rows and columns.
</I>
On Sat, 28 Oct 2006, Anne van Kesteren wrote:
&gt;<i> 
</I>&gt;<i> It's known that styling and good design improves usability. That doesn't 
</I>&gt;<i> make &quot;align&quot; any less presentational.
</I>
On Sat, 28 Oct 2006, Michel Fortin wrote:
&gt;<i> 
</I>&gt;<i> align=&quot;&quot; is presentational; I didn't say the contrary. And all styling 
</I>&gt;<i> has an influence on usability, I'm not contesting that. But some style 
</I>&gt;<i> information is more tied to the content than other, and some style 
</I>&gt;<i> information should be known even when CSS is not available because *not 
</I>&gt;<i> having that information* makes the document less readable.
</I>&gt;<i> 
</I>&gt;<i> Sometime, presentational information is needed to display a document 
</I>&gt;<i> correctly, and in those few cases where the presentation is tied to the 
</I>&gt;<i> content, I think it belongs in the markup. The align attribute, when 
</I>&gt;<i> used on table cells, covers one of those cases.
</I>
On Sat, 28 Oct 2006, Anne van Kesteren wrote:
&gt;<i> 
</I>&gt;<i> I still disagree. It only seems a benefit for visual documents and even 
</I>&gt;<i> there the user agent could optimize display when CSS is not supported or 
</I>&gt;<i> turned off by running some specific algorithm.
</I>
On Thu, 9 Nov 2006, fantasai wrote:
&gt;<i> 
</I>&gt;<i> I think that is a stronger argument for keeping char than align.
</I>&gt;<i> 
</I>&gt;<i> Another argument for align is that CSS alone can't do anything useful 
</I>&gt;<i> about alignment in columns, since inheritance only works through the 
</I>&gt;<i> element tree. Of course, I'd prefer to see that fixed in CSS.
</I>
On Wed, 21 Mar 2007, Nicholas Shanks wrote:
&gt;<i> 
</I>&gt;<i> Alternatively it could just be allowed on the &lt;col&gt; and &lt;colspan&gt;, where 
</I>&gt;<i> it would affect &lt;td&gt; cells (but not &lt;th&gt; cells). Just a random thought.
</I>
I haven't added align and char, but if CSS support for text-align: 
&lt;string&gt; becomes widespread, I'd be happy to add char=&quot;&quot; back to the spec, 
as it is indeed quite appropriate. I also agree that having it as a 
shorthand on columns, applying only to &lt;td&gt;s, would make sense.


On Thu, 9 Nov 2006, fantasai wrote:
&gt;<i> 
</I>&gt;<i> The HTML 4 spec says to use TD for a cell that functions both as data 
</I>&gt;<i> cell and an header cell. [1] For these cases, it would be necessary to 
</I>&gt;<i> allow scope on TDs.
</I>
On Fri, 27 Oct 2006, Simon Pieters wrote:
&gt;<i> 
</I>&gt;<i> In HTML4, as I understand it, TDs can act as both data cells and header cells
</I>&gt;<i> if they have scope=&quot;&quot; or have headers=&quot;&quot; pointing at them.
</I>
HTML5 does away with the concept of a hybrid cell, at least for now.


On Tue, 1 May 2007, Roger Johansson wrote:
&gt;<i>
</I>&gt;<i> While reading the HTML 5 Working Draft I noticed that two attributes 
</I>&gt;<i> that can be used to increase the accessibility of data tables in HTML 4 
</I>&gt;<i> have been removed. The attributes are the table element's &quot;summary&quot; 
</I>&gt;<i> attribute and the td element's &quot;headers&quot; attribute.
</I>&gt;<i> 
</I>&gt;<i> What is the rationale for removing those attributes?
</I>&gt;<i> 
</I>&gt;<i> I have discussed this with a couple of Web accessibility experts who 
</I>&gt;<i> were surprised by it, since both attributes can be very useful. Has 
</I>&gt;<i> accessibility been considered before removing the attributes? What is 
</I>&gt;<i> needed to bring them back in?
</I>
They weren't removed, they just hadn't been added. (HTML5 starts from a 
clean slate, only things that can be justified are added.)

headers=&quot;&quot; has now been justified and has been added.

It isn't clear that summary=&quot;&quot; actually helps anything. (Indeed, it seems 
to be almost -- but not quite -- as bad as longdesc=&quot;&quot; in terms of being 
widely used in a useless way that doesn't actually help users.)


On Mon, 16 Jul 2007, Debi Orton wrote:
&gt;<i> 
</I>&gt;<i> GENERAL COMMENTS:  I suggest that there needs to be more explanation of 
</I>&gt;<i> the use of each of the elements within the table model, including simple 
</I>&gt;<i> examples.
</I>
I've added a placeholder for an introduction to tables, which will be 
filled in in due course.


&gt;<i> I also suggest for each of the elements within the table model that 
</I>&gt;<i> there be an explicit indication of whether these elements require a 
</I>&gt;<i> closing tag, as the HTML 4.01 specification indicated that several 
</I>&gt;<i> (e.g., thead, tfoot, tbody) did NOT require a closing tag.
</I>
This is an issue for more than just the table elements. Right now there's 
an explicit section on it. In practice it's a lot more complicated than 
just &quot;the tag is optional&quot;:

   <A HREF="http://www.whatwg.org/specs/web-apps/current-work/#optional">http://www.whatwg.org/specs/web-apps/current-work/#optional</A>

For example, for &lt;tbody&gt; the rule is:

   A tbody element's start tag may be omitted if the first thing inside 
   the tbody element is a tr element, and if the element is not 
   immediately preceded by a tbody, thead, or tfoot element whose end tag 
   has been omitted.

It's not clear exactly how to say that in the element definitions.

This will be reexamined in due course.


&gt;<i> I am also disappointed that attributes particularly useful to the users 
</I>&gt;<i> of screen reading software are not included, specifically the id 
</I>&gt;<i> attribute of the th element and the headers attribute of the td element.
</I>
These are now included.


On Fri, 27 Oct 2006, Lachlan Hunt wrote:
&gt;<i>
</I>&gt;<i> Ian Hickson wrote:
</I>&gt;<i> &gt; I think it would be good to require table integrity. Specifically I think
</I>&gt;<i> &gt; overlapping cells would be a MUST NOT.
</I>&gt;<i> 
</I>&gt;<i> That's fine for document conformance, but what about how browsers will 
</I>&gt;<i> handle it?  Is the spec still going to require browsers to render 
</I>&gt;<i> overlapping cells, or would it be possible to resolve this difference 
</I>&gt;<i> between HTML and XHTML rendering, as documented in CSS 2.1 [1]?
</I>
Both.


&gt;<i> Do you have any statistics on the number of sites that depend on 
</I>&gt;<i> overlapping cells in HTML?  Could that rendering be removed from 
</I>&gt;<i> standards mode (but left in quirks mode) without breaking a significant 
</I>&gt;<i> number of pages?
</I>
I have not collected that information.


&gt;<i> I think the spec should define an algorithm to unambiguously determine 
</I>&gt;<i> which rows and columns a cell fits into.  If browsers can calculate 
</I>&gt;<i> that, there are 2 benefits I can think of.
</I>
We have that now.


On Fri, 27 Oct 2006, Rohan Prabhu wrote:
&gt;<i>
</I>&gt;<i> even i think that overlapping cells should not be supported, as it would 
</I>&gt;<i> be an encouragement to table based layouts. The specifications not 
</I>&gt;<i> supporting overlapping cells would encourage developers to use table for 
</I>&gt;<i> tabular data only.
</I>
I don't think that there is any evidence to support overlapping cells 
being a source of encouragement for table-based layouts.


On Sat, 4 Nov 2006, Henri Sivonen wrote:
&gt;<i>
</I>&gt;<i> None of Opera 9.02, Firefox 2.0, IE7 and Safari 2.0.4 implement 
</I>&gt;<i> colspan=&quot;0&quot; as specified in HTML 4.01. Trident, Presto and WebKit at 
</I>&gt;<i> least agree on what to do with it: they treat it like colspan=&quot;1&quot;.
</I>&gt;<i> 
</I>&gt;<i> I suggest that only positive integers be conforming and that 
</I>&gt;<i> non-conforming values be treated as 1.
</I>&gt;<i> 
</I>&gt;<i> Test case:
</I>&gt;<i> <A HREF="http://hsivonen.iki.fi/test/wa10/tables/colspan-0.html">http://hsivonen.iki.fi/test/wa10/tables/colspan-0.html</A>
</I>
So specified.


On Sun, 5 Nov 2006, Matthew Paul Thomas wrote:
&gt;<i>
</I>&gt;<i> I know browser vendors have had a long time to implement this, but 
</I>&gt;<i> still, I think giving up on it would be a shame. The number of rows or 
</I>&gt;<i> columns in a table is often rather expensive to calculate ahead of time. 
</I>&gt;<i> As long as this has to be done to calculate the rowspan= or colspan= of 
</I>&gt;<i> header cells, this can substantially increase the time an application 
</I>&gt;<i> takes to generate a table. For the browser to interpret colspan=&quot;0&quot; or 
</I>&gt;<i> rowspan=&quot;0&quot; instead would both make life easier for application authors, 
</I>&gt;<i> and make such pages faster overall.
</I>
rowspan=0 is supported; colspan=0 is not, as it is somewhat harder to 
implement. (Consider what exactly you would want changed in the algorithm 
right now to support it.)


On Wed, 22 Nov 2006, Henri Sivonen wrote:
&gt;<i>
</I>&gt;<i> &quot;Cell can either be data cells or header cells.&quot;
</I>&gt;<i> 
</I>&gt;<i> Incongruent singular and plural.
</I>
Fixed.


&gt;<i> &quot;Not every row is necessarily in a row group.&quot;
</I>&gt;<i> 
</I>&gt;<i> What terminology is suggested for consecutive rows that are not in a row
</I>&gt;<i> group? (I have tentatively used &quot;implicit row group&quot;.)
</I>
&quot;Rows&quot;.


&gt;<i> &quot;Not every column is necessarily in a column group.&quot;
</I>&gt;<i> 
</I>&gt;<i> Noting that in HTML 4.01 terminology, in the absence of explicit column
</I>&gt;<i> groups, there is a single implicit column group.
</I>
The only effect here is that scope=colgroup doesn't work in HTML5 without 
a &lt;colgroup&gt;. Bug? Feature?


&gt;<i> &quot;A cell cannot covers slots that are from two or more row groups or two 
</I>&gt;<i> or more column groups&quot;
</I>&gt;<i> 
</I>&gt;<i> I agree about row groups, but Firefox 2.0, Opera 9.02, Safari 2.0.4 and 
</I>&gt;<i> IE7 allow cells to span over column group boundaries interoperably. 
</I>&gt;<i> <A HREF="http://hsivonen.iki.fi/test/wa10/tables/colspan-over-colgroups.html">http://hsivonen.iki.fi/test/wa10/tables/colspan-over-colgroups.html</A>
</I>
Fixed.


&gt;<i> The algorithm for establishing explicit columns and column groups does 
</I>&gt;<i> not cover the (non-conforming) case of &lt;col&gt; elements as children of 
</I>&gt;<i> &lt;table&gt; (via XHTML or DOM manipulation). From the behavior of Firefox 
</I>&gt;<i> 2.0, Opera 9.02 and Safari 2.0.4, I suggest that consecutive &lt;col&gt;s as 
</I>&gt;<i> children of &lt;table&gt; for an implicit row group. (And I don't see why that 
</I>&gt;<i> couldn't even be conforming.)
</I>
Compatibility with IE, which implies &lt;colgroup&gt;s, resulted in the current 
spec. Desire to not have the same problem &lt;tbody&gt; has been causing is what 
made it non-conforming in XHTML.


&gt;<i> Step 14. &quot;Otherwise, run the algorithm for ending a row group.&quot; implies 
</I>&gt;<i> that there are implicit row groups. :-)
</I>
Don't read between the lines!


&gt;<i> In step 17., how could y_max &gt;= y_start not hold?
</I>
I think I fixed that.


&gt;<i> It seems to me that the &quot;algorithm for ending a row group&quot; extends the 
</I>&gt;<i> cells in the &quot;list of downward-growing cells&quot; from y_current to y_max. 
</I>&gt;<i> This seems wrong. Browsers clip cells whose rowspan is still pending 
</I>&gt;<i> when a row group ends. It follows that the y_max established in one row 
</I>&gt;<i> group should be reset when a new row group starts.
</I>
The spec follows Safari at the moment. It seems to make sense to honour 
the rowspans.

<A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Ctable%20border%3E%0D%0A%3Ctr%3E%3Ctd%20rowspan%3D1%3EX%3Ctd%20rowspan%3D2%3EY%3Cbr%3EY%3Ctd%20rowspan%3D3%3EZ%3Cbr%3EZ%3Cbr%3EZ%3Cbr%3EZ%0D%0A%3Ctbody%3E%0D%0A%3Ctr%3E%3Ctd%3Ezzz">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Ctable%20border%3E%0D%0A%3Ctr%3E%3Ctd%20rowspan%3D1%3EX%3Ctd%20rowspan%3D2%3EY%3Cbr%3EY%3Ctd%20rowspan%3D3%3EZ%3Cbr%3EZ%3Cbr%3EZ%3Cbr%3EZ%0D%0A%3Ctbody%3E%0D%0A%3Ctr%3E%3Ctd%3Ezzz</A>


&gt;<i> The steps dealing with parsing colspan and rowspan do not dictate the 
</I>&gt;<i> algorithm like the steps for parsing span or col and colgroup do.
</I>
Oops, a typo prevented the cross-referencer from working.


&gt;<i> Personally, I found it easier to handle cells with rowspan='0' by 
</I>&gt;<i> setting them to span until row infinite (that is the max value of int) 
</I>&gt;<i> as opposed to having a separate flag. For each cell, I keep track of the 
</I>&gt;<i> start column, start row, the column until which the cell spans and the 
</I>&gt;<i> row until which the cell spans. I put all cells whose rowspan != 1 in a 
</I>&gt;<i> set that I call cells in effect. When a row ends, I remove all cells 
</I>&gt;<i> that no longer span onto the next row from the set. When a row group 
</I>&gt;<i> (which can be implicit) ends, it is an error to have cells in the set 
</I>&gt;<i> whose spans-until-row is not infinite. When a new row starts, I sort the 
</I>&gt;<i> set of cells in effect by the start column so that the sorted list can 
</I>&gt;<i> easily be searched for the next free slot by examining each cell in 
</I>&gt;<i> effect at most once per row. Note that keeping track of the extent of 
</I>&gt;<i> each cell in effect makes it unnecessary to keep track of overall y_max. 
</I>&gt;<i> (My algorithm works without actually instantiating a data structure for 
</I>&gt;<i> the slot grid, so memory requirements are relative to the number of 
</I>&gt;<i> cells in effect and to the number of elements that have caused columns 
</I>&gt;<i> to be established and not to the number of slots in the table.)
</I>
That's a fine implementation of the algorithm in the spec.


&gt;<i> I notice that, unlike discussed previously, the table model does not 
</I>&gt;<i> make it an error if a column or row does not have any cells starting on 
</I>&gt;<i> it.
</I>
This is now an error.


&gt;<i> Also, having x_max grow over what was established by explicit 
</I>&gt;<i> columns is not an error. Nor are ragged tables in any way shunned 
</I>&gt;<i> (except when there are empty explicit columns).
</I>
Should these be made errors?


On Sun, 15 Jul 2007, Simon Pieters wrote:
&gt;<i> 
</I>&gt;<i> Shouldn't the &lt;col&gt; element be allowed as child of the &lt;table&gt; element for the
</I>&gt;<i> same reason &lt;tr&gt; is (i.e., for compat with XHTML 1.0 and for ease of authoring
</I>&gt;<i> in the XML or DOM case)?
</I>
(replied as part of the previous e-mail)


On Tue, 19 Jun 2007, Lachlan Hunt wrote:
&gt;<i> Ian Hickson wrote:
</I>&gt;<i> &gt; On Sat, 24 Feb 2007, Keryx Web wrote:
</I>&gt;<i> &gt; &gt; - A table within a table cell (Has this ever been used for anything 
</I>&gt;<i> &gt; &gt; but layout?)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; There are valid uses of that, though they are rare.
</I>&gt;<i> 
</I>&gt;<i> Really?  What are they?
</I>
Consider a table for a roleplaying game where the table is giving 
information about various locations. One of the columns could be &quot;local 
monsters&quot; and the cell describing local monsters would quite plausibly 
itself contain tables with the stats of the various monsters at that 
location.


On Tue, 29 Aug 2006, Henri Sivonen wrote:
&gt;<i>
</I>&gt;<i> Should one expect HTML table row/column integrity to become an HTML5 
</I>&gt;<i> conformance requirement?
</I>&gt;<i> 
</I>&gt;<i> That is, will these tables be non-conforming:
</I>&gt;<i> 
</I>&gt;<i> &lt;table&gt;
</I>&gt;<i> &lt;tr&gt;&lt;td rowspan=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
</I>&gt;<i> &lt;/table&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;table&gt;
</I>&gt;<i> &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
</I>&gt;<i> &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
</I>&gt;<i> &lt;/table&gt;
</I>&gt;<i> 
</I>&gt;<i> ?
</I>&gt;<i> 
</I>&gt;<i> (This is something static document authors probably would prefer to have 
</I>&gt;<i> flagged, and for dynamic document authors it isn't a particularly good 
</I>&gt;<i> idea to leave the DOM in an incoherent state for prolonged times.)
</I>
The first of those is a table model error. The second is not. Is that ok?


On Fri, 27 Oct 2006, Lachlan Hunt wrote:
&gt;<i> &gt;
</I>&gt;<i> &gt; I think cells extending (via colspan/rowspan) into columns or rows that
</I>&gt;<i> &gt; contain no cells other than extended cells should be at least a SHOULD NOT,
</I>&gt;<i> &gt; maybe a MUST NOT.
</I>&gt;<i> 
</I>&gt;<i> I don't think it should be a must not.  Here's a use case for where it's
</I>&gt;<i> useful to span cells across multiple columns like that.
</I>&gt;<i> 
</I>&gt;<i> Consider a online TV guide where columns represent the time and rows represent
</I>&gt;<i> the channel.  The headers for the times could be split into half hour time
</I>&gt;<i> slots, because most shows take up units of half an hours.  However, there are
</I>&gt;<i> some programs that only take 5 or 10 minutes (e.g. lottery draws or short news
</I>&gt;<i> breaks) and to allocate such programs a full half hour slot in the table
</I>&gt;<i> wouldn't be very useful.  Consider this markup demonstrating this:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%3Cmeta%20http-equiv%3D%22Content-Type%22%20content%3D%22text/html%3B%20charset%3Dutf-8%22%3E%0A%3Ctitle%3ETable%20Cells%3C/title%3E%0A%3Cstyle%3E%0A%09col%20%7B%20width%3A%205em%3B%20%7D%0A%09table%2C%20td%2C%20th%20%7B%20border%3A%201px%20solid%20black%3B%20border-collapse%3A%20collapse%3B%20%7D%0A%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%0A%3Ctable%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%3Cthead%3E%0A%09%3Ctr%3E%0A%09%09%3Cth%3E%3C/th%3E%0A%09%09%3Cth%20colspan%3D%226%22%3E20%3A00%3C/th%3E%0A%09%09%3Cth%20colspan%3D%226%22%3E20%3A30%3C/th%3E%0A%09%3C/tr%3E%0A%3C/thead%3E%0A%3Ctbody%3E%0A%09%3Ctr%3E%0A%09%09%3Cth%20scope%3D%22row%22%3EChannel%201%3C/th%3E%0A%09%09%3Ctd%20colspan%3D%225%22%3E20%3A00%20-%2025%20minute%20program%3C/td%3E%0A%09%09%3Ctd%20colspan%3D%221%22%3E20%3A25%20-%205%20minute%20program%3C/td%3E%0A%09%09%3Ctd%20colspan%3D%226%22%3E20%3A30%20-%2030%20minute%20program%3C/td%3E%0A%09%3C/tr%3E%0A%09%3Ctr%3E%0A%09%09%3Cth%20scope%3D%22row%22%3EChannel%202%3C/th%3E%0A%09%09%3Ctd%20colspan%3D%226%22%3E20%3A00%20-%2030%20minute%20program%3C/td%3E%0A%09%09%3Ctd%20colspan%3D%226%22%3E20%3A30%20-%2030%20minute%20program%3C/td%3E%0A%09%3C/tr%3E%0A%09%3Ctr%3E%0A%09%09%3Cth%20scope%3D%22row%22%3EChannel%203%3C/th%3E%0A%09%09%3Ctd%20colspan%3D%2210%22%3E20%3A00%20-%2050%20minute%20program%3C/td%3E%0A%09%09%3Ctd%20colspan%3D%222%22%3E20%3A50%20-%2010%20minute%20program%3C/td%3E%0A%09%3C/tr%3E%0A%3C/tbody%3E%0A%3C/table%3E%0A%0A%3C/body%3E%0A%3C/html%3E%0A">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%3Cmeta%20http-equiv%3D%22Content-Type%22%20content%3D%22text/html%3B%20charset%3Dutf-8%22%3E%0A%3Ctitle%3ETable%20Cells%3C/title%3E%0A%3Cstyle%3E%0A%09col%20%7B%20width%3A%205em%3B%20%7D%0A%09table%2C%20td%2C%20th%20%7B%20border%3A%201px%20solid%20black%3B%20border-collapse%3A%20collapse%3B%20%7D%0A%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%0A%3Ctable%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%09%3Ccol%3E%0A%3Cthead%3E%0A%09%3Ctr%3E%0A%09%09%3Cth%3E%3C/th%3E%0A%09%09%3Cth%20colspan%3D%226%22%3E20%3A00%3C/th%3E%0A%09%09%3Cth%20colspan%3D%226%22%3E20%3A30%3C/th%3E%0A%09%3C/tr%3E%0A%3C/thead%3E%0A%3Ctbody%3E%0A%09%3Ctr%3E%0A%09%09%3Cth%20scope%3D%22row%22%3EChannel%201%3C/th%3E%0A%09%09%3Ctd%20colspan%3D%225%22%3E20%3A00%20-%2025%20minute%20program%3C/td%3E%0A%09%09%3Ctd%20colspan%3D%221%22%3E20%3A25%20-%205%20minute%20program%3C/td%3E%0A%09%09%3Ctd%20colspan%3D%226%22%3E20%3A30%20-%2030%20minute%20program%3C/td%3E%0A%09%3C/tr%3E%0A%09%3Ctr%3E%0A%09%09%3Cth%20scope%3D%22row%22%3EChannel%202%3C/th%3E%0A%09%09%3Ctd%20colspan%3D%226%22%3E20%3A00%20-%2030%20minute%20program%3C/td%3E%0A%09%09%3Ctd%20colspan%3D%226%22%3E20%3A30%20-%2030%20minute%20program%3C/td%3E%0A%09%3C/tr%3E%0A%09%3Ctr%3E%0A%09%09%3Cth%20scope%3D%22row%22%3EChannel%203%3C/th%3E%0A%09%09%3Ctd%20colspan%3D%2210%22%3E20%3A00%20-%2050%20minute%20program%3C/td%3E%0A%09%09%3Ctd%20colspan%3D%222%22%3E20%3A50%20-%2010%20minute%20program%3C/td%3E%0A%09%3C/tr%3E%0A%3C/tbody%3E%0A%3C/table%3E%0A%0A%3C/body%3E%0A%3C/html%3E%0A</A>
</I>
The horrible lack of interop on this table is a bit worrying.

(I also think this table would be really confusing to a screen reader.)

I'm not sure about this case. Is it really a table?


&gt;<i> &gt; headers=&quot;&quot; will have a MUST requirement to point to TH elements in the 
</I>&gt;<i> &gt; same table, and will probably only be allowed on TDs.
</I>&gt;<i> 
</I>&gt;<i> Maybe.  What about in tables where one th is like a subheading of the 
</I>&gt;<i> one above?
</I>
What about them?


&gt;<i> &gt; scope=&quot;&quot; will probably only be allowed for THs. Maybe it should be 
</I>&gt;<i> &gt; REQUIRED for THs that aren't in obvious locations (first row, first 
</I>&gt;<i> &gt; column, or whatever).
</I>&gt;<i> 
</I>&gt;<i> Maybe.  I think the spec should explicitly define how to determine which 
</I>&gt;<i> header cells are associated with each cell.  IIRC, the HTML 4 spec does 
</I>&gt;<i> define an algorithm like that, so maybe it could be improved.
</I>
Done.


On Thu, 9 Nov 2006, Henri Sivonen wrote:
&gt;<i>
</I>&gt;<i> Made it an error. Also made it an error to have rows that exceed the 
</I>&gt;<i> width established by column markup.
</I>
This is not an error in the spec. Should it be? (It would mean 
distinguishing tables that have no column markup from columns that have 
any column markup, and requiring the latter to cover all columns. That 
seems overly strict.)


&gt;<i> Specifically, the errors are:
</I>&gt;<i> [...]
</I>&gt;<i>  * Table cell spans past the end of its row group.
</I>&gt;<i>  * Row has no cells starting on it.
</I>
Isn't the first of these a subset of the second?

&gt;<i>  * Table row column count is greater than the column count established by
</I>&gt;<i> cols/colgroups.
</I>&gt;<i>  * Table row column count is less than the column count established by
</I>&gt;<i> cols/colgroups.
</I>
These aren't errors per the spec at the moment.


&gt;<i> The warnings are:
</I>&gt;<i>  * A col element causes a span attribute to be ignored on the parent colgroup.
</I>
This is an error, per spec. (Content model error.)


On Tue, 14 Nov 2006, Simon Pieters wrote:
&gt;<i> 
</I>&gt;<i> Currently &lt;tbody&gt; requires at least one &lt;tr&gt; element. [1] Why not zero 
</I>&gt;<i> or more? I think &lt;tr&gt; is for &lt;tbody&gt; like &lt;li&gt; is for &lt;ul&gt;/&lt;ol&gt; (or a 
</I>&gt;<i> &lt;dt&gt;&lt;dd&gt; group is for &lt;dl&gt;).
</I>
Because if you have zero &lt;tr&gt; elements, you actually have zero &lt;tbody&gt; 
elements, which is allowed.


On Tue, 14 Nov 2006, Simon Pieters wrote:
&gt;<i> 
</I>&gt;<i> &lt;th&gt; allows either inline-level content or block-level elements. [1] I 
</I>&gt;<i> know that HTML4 allows block-level elements too, but I suspect that 
</I>&gt;<i> might have to do with convenience when writing the DTD, actually.
</I>&gt;<i> 
</I>&gt;<i> &lt;h1&gt; and &lt;dt&gt; don't allow block-level elements. What's the use-case for 
</I>&gt;<i> having block-level elements in &lt;th&gt; that doesn't apply to &lt;h1&gt; or &lt;dt&gt; 
</I>&gt;<i> as well?
</I>
Changed.


On Thu, 5 Apr 2007, Simon Pieters wrote:
&gt;<i>
</I>&gt;<i> Why does &lt;tbody&gt; require one or more &lt;tr&gt; elements, as opposed to zero 
</I>&gt;<i> or more?
</I>
Fixed.


On Thu, 5 Apr 2007, Simon Pieters wrote:
&gt;<i>
</I>&gt;<i> Also... since tables are allowed to have &lt;tr&gt;s as direct children of &lt;table&gt;,
</I>&gt;<i> if &lt;tbody&gt; is allowed to be empty then presumably &lt;table&gt; should be allowed to
</I>&gt;<i> contain no &lt;tbody&gt; and no &lt;tr&gt; elements.
</I>
It is.


On Sun, 15 Jul 2007, Simon Pieters wrote:
&gt;<i>
</I>&gt;<i> The spec says about HTMLTableColElement.span:
</I>&gt;<i> 
</I>&gt;<i>    The span DOM attribute must reflect the content attribute of the same
</I>&gt;<i>    name, with the exception that on setting, if the new value is 0, then an
</I>&gt;<i>    INDEX_SIZE_ERR exception must be raised.
</I>&gt;<i> 
</I>&gt;<i> Shouldn't this say:
</I>&gt;<i> 
</I>&gt;<i>    The span DOM attribute must reflect the content attribute of the same
</I>&gt;<i>    name, limited to only positive non-zero numbers.
</I>&gt;<i> 
</I>&gt;<i> ...? (In which case, it doesn't need a default value, either, two paragraphs
</I>&gt;<i> above that one.)
</I>&gt;<i> 
</I>&gt;<i> This applies to these two sections:
</I>&gt;<i> 
</I>&gt;<i>    <A HREF="http://www.whatwg.org/specs/web-apps/current-work/#colgroup">http://www.whatwg.org/specs/web-apps/current-work/#colgroup</A>
</I>&gt;<i>    <A HREF="http://www.whatwg.org/specs/web-apps/current-work/#col">http://www.whatwg.org/specs/web-apps/current-work/#col</A>
</I>
Fixed.


On Mon, 16 Jul 2007, Debi Orton wrote:
&gt;<i> 
</I>&gt;<i> 3.15.1 The table Element
</I>&gt;<i> 
</I>&gt;<i> Suggested text in response to &quot;we need some editorial text on how layout 
</I>&gt;<i> tables are bad practice and non-conforming&quot;:
</I>&gt;<i> 
</I>&gt;<i> The only semantic use for a table is to collect similar information and 
</I>&gt;<i> define each data item's relationship to other data items within the 
</I>&gt;<i> collection.  To use a table for layout is not a semantically appropriate 
</I>&gt;<i> use, and will be considered non-conforming.
</I>
The problem is that that is basically redundant with the rest of the 
spec... I'm not sure how to do this really.


&gt;<i> I suggest moving the discussion of the table model to the top of this 
</I>&gt;<i> section to provide more context for subsequent discussions.
</I>
I'd rather introduce the elements before defining how they work together.

Eventually we'll have an intro section that mentions the table model, 
though, so it won't be totally out of the blue.


&gt;<i> I'm also not sure why the DOM definitions of each of the table-related 
</I>&gt;<i> elements is written up here. I didn't see any of the other sections 
</I>&gt;<i> treated this way.
</I>
I don't understand.


On Mon, 16 Jul 2007, Debi Orton wrote:
&gt;<i> 
</I>&gt;<i> 3.15.2 The caption Element
</I>&gt;<i> 
</I>&gt;<i> &quot;The caption element represents the title of the table that is its 
</I>&gt;<i> parent, if it has a parent and that is a table element.&quot;
</I>&gt;<i> 
</I>&gt;<i> What other legitimate usage is there for the caption element?  I know of 
</I>&gt;<i> none, although this verbiage makes it appear as if there are others.  
</I>&gt;<i> Can we simplify it?
</I>
There are no other legitimate uses. However, a &lt;caption&gt; in a &lt;p&gt; doesn't 
represent the caption of the table that is its parent, since it doesn't 
have a parent table. Saying &quot;The caption element represents the title of 
the table that is its parent&quot; begs the question when the parent is not a 
table.


On Mon, 16 Jul 2007, Debi Orton wrote:
&gt;<i> 
</I>&gt;<i> 3.15.3 The colgroup Element
</I>&gt;<i> 
</I>&gt;<i> Same confusing verbiage regarding the colgroup element as in the caption
</I>&gt;<i> element.  Suggest eliminating everything after &quot;that is its parent.&quot;
</I>
Same reason.


&gt;<i> The section talks about the syntax of the colgroup element, but gives no 
</I>&gt;<i> indication of its intended usage.  I think an example or two would be 
</I>&gt;<i> helpful here, unless we are planning to lift the examples from the HTML 
</I>&gt;<i> 4.01 spec.
</I>&gt;<i> 
</I>&gt;<i> Another reference to the &quot;table model&quot;, which has not yet been 
</I>&gt;<i> introduced.
</I>
Will be solved by the intro section in due course.


On Mon, 16 Jul 2007, Debi Orton wrote:
&gt;<i> 
</I>&gt;<i> 3.15.4 The col Element
</I>&gt;<i> 
</I>&gt;<i> I wonder if the span attribute needs more explanation in this context &#150; 
</I>&gt;<i> again, we can probably recycle something from HTML 4.01.
</I>
Tutorial-type explanation will be in the intro section.


On Mon, 16 Jul 2007, Debi Orton wrote:
&gt;<i> 
</I>&gt;<i> 3.15.5 The tbody Element
</I>&gt;<i> 
</I>&gt;<i> Same general comments as the other sections.
</I>&gt;<i> 
</I>&gt;<i> Regarding:
</I>&gt;<i>
</I>&gt;<i> &quot;The rows attribute must return an HTMLCollection rooted at the 
</I>&gt;<i> element, whose filter matches only tr elements that are children of the 
</I>&gt;<i> element.&quot;
</I>&gt;<i> 
</I>&gt;<i> Is &quot;rows&quot; a new attribute or is this a typo for rowspan?
</I>
DOM attribute.


On Mon, 16 Jul 2007, Debi Orton wrote:
&gt;<i> 
</I>&gt;<i> 3.15.6 The thead Element
</I>&gt;<i> 
</I>&gt;<i> NOTE:  Since both thead and tfoot must precede tbody (at least in the HTML
</I>&gt;<i> 4.01 spec), shouldn't that same order be reflected here?  If you are making
</I>&gt;<i> the order more intuitive (i.e., thead &#224; tbody &#224; tfoot), that will need to be
</I>&gt;<i> explained explicitly.
</I>
On Mon, 16 Jul 2007, Debi Orton wrote:
&gt;<i> 
</I>&gt;<i> 3.15.7 The tfoot Element
</I>&gt;<i> 
</I>&gt;<i> Same general comments&#133;
</I>&gt;<i> 
</I>&gt;<i> &quot;As a child of a table element, after any caption, colgroup, thead, 
</I>&gt;<i> tbody, and tr elements, but only if there are no other tfoot elements 
</I>&gt;<i> that are children of the table element.&quot;
</I>&gt;<i> 
</I>&gt;<i> This entry makes it appear as if you are intending that the sequence of 
</I>&gt;<i> elements within the table model is intended to be different from that of 
</I>&gt;<i> HTML 4.01.  Again, if that's the case, it will require further 
</I>&gt;<i> explanation.
</I>
Whatever the order, it has to be explained. :-) It will be mentioned in 
the intro section, probably.


On Tue, 17 Jul 2007, Robert Burns wrote:
&gt;<i> 
</I>&gt;<i> I'm not sure if this is what Debi was referring to, but I find the 
</I>&gt;<i> phrase &quot;but only if there are no other tfoot elements that are children 
</I>&gt;<i> of the table element.' that is often used to be needlessly wordy and 
</I>&gt;<i> awkward. Would the same meaning be conveyed by saying that &quot;one tfoot 
</I>&gt;<i> may be the child of a table element after any caption, colgroup, and 
</I>&gt;<i> thead elements and either: 1) before any tbody and tr elements or 2) 
</I>&gt;<i> after all of the tbody elements too&quot;
</I>
I'm not sure that's really much better. It also seems to misuse RFC2119 
terminology.


On Mon, 16 Jul 2007, Debi Orton wrote:
&gt;<i> 
</I>&gt;<i> 3.15.8 The tr Element
</I>&gt;<i> 
</I>&gt;<i> &quot;The rowIndex element must, if the element has a parent table element, 
</I>&gt;<i> or a parent tbody, thead, or tfoot element and a grandparent table 
</I>&gt;<i> element, return the index of the tr element in that table element's rows 
</I>&gt;<i> collection. If there is no such table element, then the attribute must 
</I>&gt;<i> return 0.&quot;
</I>&gt;<i> 
</I>&gt;<i> I am not familiar with &quot;the rowIndex element.&quot;  Is this something new, 
</I>&gt;<i> and if so, why is the &quot;I&quot; capitalized?
</I>&gt;<i> 
</I>&gt;<i> I am not familiar with the cells attribute.  What is it and how is it 
</I>&gt;<i> used?
</I>
On Mon, 16 Jul 2007, Simon Pieters wrote:
&gt;<i> 
</I>&gt;<i> It is a typo. Should say &quot;the rowIndex attribute&quot;. This is a DOM 
</I>&gt;<i> attribute.
</I>
Fixed.


On Mon, 16 Jul 2007, Debi Orton wrote:
&gt;<i> 
</I>&gt;<i> 3.15.10 The th Element
</I>&gt;<i> 
</I>&gt;<i> I would like to see the id attribute restored to the th element.
</I>
The id attribute has always applied to all elements.


&gt;<i> I understand the four named states for the scope attribute , but the 
</I>&gt;<i> definition provided for the auto scope attribute is confusing.  Can it 
</I>&gt;<i> be stated more clearly?
</I>
Which part is confusing?


On Wed, 18 Jul 2007, Simon Pieters wrote:
&gt;<i>
</I>&gt;<i> Shouldn't the HTMLTableCellElement.colSpan and rowSpan attributes be 
</I>&gt;<i> unsigned long instead of long in the IDL?
</I>
&quot;long&quot; is what DOM2 said.


&gt;<i> Also, shouldn't the colSpan be &quot;limited to only positive non-zero 
</I>&gt;<i> numbers&quot; in the reflecting paragraph?
</I>
Done.


&gt;<i> Also, the attributes are spelled in all lowercase in the reflecting 
</I>&gt;<i> paragraphs.
</I>
Fixed.


On Mon, 20 Aug 2007, James Graham wrote:
&gt;<i> 
</I>&gt;<i> 3.15.11.1. Forming a table
</I>&gt;<i> 
</I>&gt;<i> Step 4 reads:
</I>&gt;<i>
</I>&gt;<i> &quot;If the table element has no table children, then return the table 
</I>&gt;<i> (which will be empty), and abort these steps.&quot;
</I>&gt;<i> 
</I>&gt;<i> It's not clear what is meant by &quot;table children&quot; as opposed to other 
</I>&gt;<i> kinds of children here.
</I>
That term is gone now.


&gt;<i> Somewhere around step 18. the current element needs to be advanced to 
</I>&gt;<i> the next child of the table. I'm not sure if I'm missing something 
</I>&gt;<i> obvious but I can't see where this occurs in the current algorithm.
</I>
Fixed.


&gt;<i> In the algorithm for processing a row it is not stated which algorithm 
</I>&gt;<i> should be used to parse colspan and rowspan attributes (I assume it is 
</I>&gt;<i> the algorithm for parsing non-negative integers).
</I>
Fixed.


&gt;<i> Data in the &lt;caption&gt; and &lt;colgroup&gt; elements only seem to be included 
</I>&gt;<i> if the elements are correctly placed in the table. It seems more robust 
</I>&gt;<i> to define the UA requirements so that the information in these elements 
</I>&gt;<i> (especially caption) is included whether it appears before or after the 
</I>&gt;<i> row grouping elements.
</I>
Fixed.


On Wed, 22 Aug 2007, Mihai Sucan wrote:
&gt;<i> 
</I>&gt;<i> 1. &quot;Big Issue: we need some editorial text on how layout tables are bad 
</I>&gt;<i> practice and non-conforming&quot;
</I>&gt;<i> 
</I>&gt;<i> Here's my try:
</I>&gt;<i> 
</I>&gt;<i> &quot;Due to historic reasons, tables are being used by Web authors for 
</I>&gt;<i> designing layouts. However, this is considered bad practice and it's 
</I>&gt;<i> strongly discouraged. As a conformance criteria, layout tables are 
</I>&gt;<i> disallowed. Web authors must only use tables for tabular data.&quot;
</I>&gt;<i> 
</I>&gt;<i> I think this has to be short and to the point - no dramatic depiction of 
</I>&gt;<i> the layout tables abuse.
</I>
Something like that might work, though we probably need more 
RFC2119-compatible language. I'll figure something out in due course.


&gt;<i> 2. &quot;The caption DOM attribute must return, on getting, the first caption 
</I>&gt;<i> element child of the table element. On setting, if the new value is a 
</I>&gt;<i> caption element, the first caption element child of the table element, 
</I>&gt;<i> if any, must be removed, and the new value must be inserted as the first 
</I>&gt;<i> node of the table element. If the new value is not a caption element, 
</I>&gt;<i> then a HIERARCHY_REQUEST_ERR DOM exception must be raised instead.&quot;
</I>&gt;<i>
</I>&gt;<i> The spec does not define the returned value for the caption DOM 
</I>&gt;<i> attribute when there's no caption element child in the table element.
</I>&gt;<i>
</I>&gt;<i> 3. Similarly to the above:
</I>&gt;<i> 
</I>&gt;<i> &quot;The tHead DOM attribute must return, on getting, the first thead 
</I>&gt;<i> element child of the table element.&quot;
</I>&gt;<i> 
</I>&gt;<i> The same goes for the tFoot DOM attribute.
</I>
Fixed.


&gt;<i> 4. Looking at the definition of the tr element [2] one can see some 
</I>&gt;<i> errors:
</I>&gt;<i> 
</I>&gt;<i> &quot;The rowIndex *element* must, if the element has a parent table element, 
</I>&gt;<i> or a parent tbody, thead, or tfoot element and a grandparent table 
</I>&gt;<i> element, return the index of the tr element in that table element's rows 
</I>&gt;<i> collection. If there is no such table element, then the attribute must 
</I>&gt;<i> return 0.
</I>&gt;<i> 
</I>&gt;<i> The *rowIndex* DOM attribute must, if the element has a parent table, 
</I>&gt;<i> tbody, thead, or tfoot element, return the index of the tr element in 
</I>&gt;<i> the parent element's rows collection (for tables, that's the rows 
</I>&gt;<i> collection; for table sections, that's the rows collection). If there is 
</I>&gt;<i> no such parent element, then the attribute must return 0.&quot;
</I>&gt;<i> 
</I>&gt;<i> Corrections:
</I>&gt;<i> 
</I>&gt;<i> element = DOM attribute
</I>&gt;<i> rowIndex = sectionRowIndex
</I>
Fixed.


&gt;<i> 5. In the 3.15.11.1. &quot;Forming a table&quot; section [3] there's an editorial
</I>&gt;<i> &quot;error&quot; when defining the processing for colgroups:
</I>&gt;<i> 
</I>&gt;<i> &quot;Column groups. Process the current element according to the appropriate one
</I>&gt;<i> of the following two cases:&quot;
</I>
Fixed.


On Wed, 22 Aug 2007, Boris Zbarsky wrote:
&gt;<i>
</I>&gt;<i> Mihai Sucan wrote:
</I>&gt;<i> &gt; The *rowIndex* DOM attribute must, if the element has a parent table, tbody,
</I>&gt;<i> &gt; thead, or tfoot element, return the index of the tr element in the parent
</I>&gt;<i> &gt; element's rows collection (for tables, that's the rows collection; for table
</I>&gt;<i> &gt; sections, that's the rows collection).
</I>&gt;<i> 
</I>&gt;<i> This is a little confusing... The DOM2 HTML definition is:
</I>&gt;<i> 
</I>&gt;<i>   This is in logical order and not in document order. The rowIndex does take
</I>&gt;<i>   into account sections (THEAD, TFOOT, or TBODY) within the table, placing
</I>&gt;<i>   THEAD rows first in the index, followed by TBODY rows, followed by TFOOT
</I>&gt;<i>   rows.
</I>&gt;<i> 
</I>&gt;<i> In other words, rowIndex is the index in the table's .rows.  That's not what
</I>&gt;<i> your text above says.
</I>
I'm not sure I understand the problem. The &lt;table&gt;.rows attribute defines 
this in detail.


&gt;<i> &gt; If there is no such parent element, then the attribute must return 0.&quot;
</I>&gt;<i> 
</I>&gt;<i> Are we sure?  That makes it impossible to tell that case apart from the case
</I>&gt;<i> when this is in fact the first row.  Would -1 make more sense?
</I>
On Wed, 22 Aug 2007, Mihai Sucan wrote:
&gt;<i> &gt; 
</I>&gt;<i> &gt; Are we sure?  That makes it impossible to tell that case apart from the case
</I>&gt;<i> &gt; when this is in fact the first row.  Would -1 make more sense?
</I>&gt;<i> 
</I>&gt;<i> Yes, that's somewhat confusing. Returning -1 would be better.
</I>
Change to -1. There's no compat issue here, the browsers are wildly 
non-interoperable on this issue.


On Tue, 1 Jan 2008, Darin Adler wrote:
&gt;<i>
</I>&gt;<i> The DOM Level 2 document
</I>&gt;<i> &lt;<A HREF="http://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-13114938">http://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-13114938</A>&gt; says that
</I>&gt;<i> deleteRow(-1) deletes the last row.
</I>&gt;<i> 
</I>&gt;<i> The current HTML 5 draft
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/#deleterow">http://www.whatwg.org/specs/web-apps/current-work/#deleterow</A>&gt; does not
</I>&gt;<i> mention -1 for deleteRow, only for insertRow.
</I>
Fixed.


On Fri, 8 Feb 2008, James Graham wrote:
&gt;<i>
</I>&gt;<i> In step 9.1 of the table model processing algorithm, first case under
</I>&gt;<i> 
</I>&gt;<i> &quot;Column groups. Process the current element according to the appropriate 
</I>&gt;<i> one of the following two cases: If the current element has any col 
</I>&gt;<i> element children&quot;
</I>&gt;<i> 
</I>&gt;<i> Step 9.1.7 sets the final width of the colgroup is given as 
</I>&gt;<i> x_max-x_start-1. I think this should be x_max-x_start+1.
</I>&gt;<i> 
</I>&gt;<i> Rationale:
</I>&gt;<i> 
</I>&gt;<i> Define the initial value of x_max to be x_max_0. According to step 9.1.1
</I>&gt;<i> x_start is x_max_0 + 1
</I>&gt;<i> 
</I>&gt;<i> In step 9.1.4 x_max is increased by the current col's span and this step is
</I>&gt;<i> run once per col child of the colgroup, so if there is a total width w of
</I>&gt;<i> columns in this colgroup, x_max -&gt; x_max_0 + w
</I>&gt;<i> 
</I>&gt;<i> So at step 9.1.7 we have:
</I>&gt;<i> x_start = x_max_0 + 1
</I>&gt;<i> x_max = x_max_0 + w =&gt; x_max_0 = x_max - w
</I>&gt;<i> x_start = x_max - w + 1
</I>&gt;<i> w = x_max - x_start + 1
</I>
This all changed recently. I can't work out what it became. Can you check 
this again and see if I fixed it?



I snipped a big discussion comparing &lt;dl&gt; to &lt;table&gt;, because, well, I
couldn't see what I was supposed to do about it.

There were also some other e-mails that seemed to ramble on about the same 
points already made more succintly in the e-mails above that I snipped. 
Let me know if I accidentally missed anything in the trimming.

Cheers,
-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="056506.html">[whatwg] NULL characters in manifests
</A></li>
	<LI>Next message: <A HREF="056520.html">[whatwg] several messages about tables and related subjects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56518">[ date ]</a>
              <a href="thread.html#56518">[ thread ]</a>
              <a href="subject.html#56518">[ subject ]</a>
              <a href="author.html#56518">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
