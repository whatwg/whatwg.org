<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] including section titles and IDs in HTML spec diffs [was: WHATWG on Google+]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20including%20section%20titles%20and%20IDs%20in%20HTML%20spec%20diffs%20%5Bwas%3A%0A%20WHATWG%20on%20Google%2B%5D&In-Reply-To=%3C20111122040504.GC1307%40sideshowbarker%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="076211.html">
   <LINK REL="Next"  HREF="076217.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] including section titles and IDs in HTML spec diffs [was: WHATWG on Google+]</H1>
<!--htdig_noindex-->
    <B>Michael[tm] Smith</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20including%20section%20titles%20and%20IDs%20in%20HTML%20spec%20diffs%20%5Bwas%3A%0A%20WHATWG%20on%20Google%2B%5D&In-Reply-To=%3C20111122040504.GC1307%40sideshowbarker%3E"
       TITLE="[whatwg] including section titles and IDs in HTML spec diffs [was: WHATWG on Google+]">mike at w3.org
       </A><BR>
    <I>Mon Nov 21 20:05:05 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="076211.html">[whatwg] WHATWG on Google+
</A></li>
        <LI>Next message: <A HREF="076217.html">[whatwg] WHATWG on Google+
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76212">[ date ]</a>
              <a href="thread.html#76212">[ thread ]</a>
              <a href="subject.html#76212">[ subject ]</a>
              <a href="author.html#76212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt;, 2011-11-22 00:40 +0000:

&gt;<i> I'm poking around at this. I'm not sure sections are the best way to 
</I>&gt;<i> organise this, because self-contained features are often in various parts 
</I>&gt;<i> of the spec, or end up sprouting new sections unexpectedly. So I'm looking 
</I>&gt;<i> at annotating the spec source with specific topics, e.g. &quot;WebSockets&quot; or 
</I>&gt;<i> &quot;Navigation&quot; or whatnot.
</I>&gt;<i> 
</I>&gt;<i> If people could e-mail me the lists of topics they would be interested in 
</I>&gt;<i> being e-mailed diffs for, it would give me a good idea of what coarseness 
</I>&gt;<i> would be helpful here, and thus whether this is a realistic idea.
</I>
Another thing that's a lot less work and could be done in the mean time is
to provide the titles of the sections affected by each spec change.

You can get GNU diff to give you those by using the -F option with a regexp
specifying what to look for, like this:

  diff -u -F '&lt;h[1-6]' ...

Then the beginning of a chunk for a change to your &quot;source&quot; file will show,
e.g.:

  @@ -80803,29 +80833,9 @@   &lt;h3&gt;Activation&lt;/h3&gt;

...and a chunk of a diff for your &quot;index&quot; file will show, e.g.:

  @@ -71056,27 +71083,11 @@   &lt;h3 id=activation&gt;&lt;span class=secno&gt;8.

To make svn generate diffs like that, you need to configure it to use an
external diff command, and make that command be a script that wraps GNU
diff and feeds it the right args, like this:

-----------------------------------------------------------------
#!/bin/sh
# <A HREF="http://svnbook.red-bean.com/en/1.2/svn.advanced.externaldifftools.html">http://svnbook.red-bean.com/en/1.2/svn.advanced.externaldifftools.html</A>
# svn passes the things we need to diff as the 6th and 7th args
diff -u -F '&lt;h[1-6]' ${6} ${7}
-----------------------------------------------------------------

Call that script &quot;diffwrap&quot; or something and in your ~/.subversion/config
file, put this:

diff-cmd = /path/to/diffwrap

I don't know what setup is being use to generate the diffs for
<A HREF="http://html5.org/tools/web-apps-tracker">http://html5.org/tools/web-apps-tracker</A> but it could use that to expose the
affected section titles in its UI somehow, along with providing links back
to those sections of the spec.

  --Mike

-- 
Michael[tm] Smith
<A HREF="http://people.w3.org/mike/+">http://people.w3.org/mike/+</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="076211.html">[whatwg] WHATWG on Google+
</A></li>
	<LI>Next message: <A HREF="076217.html">[whatwg] WHATWG on Google+
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76212">[ date ]</a>
              <a href="thread.html#76212">[ thread ]</a>
              <a href="subject.html#76212">[ subject ]</a>
              <a href="author.html#76212">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
