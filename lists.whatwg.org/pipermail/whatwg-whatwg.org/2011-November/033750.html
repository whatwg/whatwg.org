<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Feedback on UndoManager spec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Feedback%20on%20UndoManager%20spec&In-Reply-To=%3CCAKA%2BAxkFYW0bSW77Qd-43LW4tUOv3gqvcdhF%2BUpzDPGWEVHkjQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="076028.html">
   <LINK REL="Next"  HREF="076024.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Feedback on UndoManager spec</H1>
<!--htdig_noindex-->
    <B>Aryeh Gregor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Feedback%20on%20UndoManager%20spec&In-Reply-To=%3CCAKA%2BAxkFYW0bSW77Qd-43LW4tUOv3gqvcdhF%2BUpzDPGWEVHkjQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Feedback on UndoManager spec">ayg at aryeh.name
       </A><BR>
    <I>Mon Nov  7 08:15:34 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="076028.html">[whatwg] Constructors for HTML Elements
</A></li>
        <LI>Next message: <A HREF="076024.html">[whatwg] Feedback on UndoManager spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33750">[ date ]</a>
              <a href="thread.html#33750">[ thread ]</a>
              <a href="subject.html#33750">[ subject ]</a>
              <a href="author.html#33750">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>(sorry for the long delay in responding, life is sometimes flaky for
me right now)

On Fri, Oct 28, 2011 at 3:54 PM, Ryosuke Niwa &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">rniwa at webkit.org</A>&gt; wrote:
&gt;<i> But that manual transaction may be mutating DOM outside of the editable
</I>&gt;<i> region. i.e. in the slide app case, you may have plane that's showing a list
</I>&gt;<i> of slides. Since that's a part of the UI provided by the app, the DOM state
</I>&gt;<i> of that UI may change over time without necessarily undoing or redoing
</I>&gt;<i> insertions and removals of slides. So when you undo/redo an insertion of a
</I>&gt;<i> slide, the exact change you make to the DOM may not be a mere
</I>&gt;<i> restoration.&#160;Yet, the app still may want undo/redo in text fields to be
</I>&gt;<i> implemented by UAs.
</I>
What you're saying is that maybe there will be parts of the DOM that
the author doesn't want the UA to touch?  In that case, how about we
let the author specify that UA undo/redo shouldn't affect certain
subtrees?  E.g., have the plane that shows a list of slides in &lt;div
noundo&gt; or something like that.  Then just like the UA doesn't
undo/redo DOM changes outside the undo scope, it shouldn't undo/redo
changes in a noundo region (or whatever you want the attribute to be
called).

This way, again, the UA will never be faced with the problem of
undoing/redoing changes in a part of the DOM that the author may have
tampered with.  This is critical for making the APIs work reliably --
if automatic undo/redo can fail because of authoring bugs, authors
won't want to use it.  It also simplifies the API by getting rid of
the distinction between automatic and manual transactions.

Are you (or anyone) making a list of use-cases somewhere?  If not, I
guess I will, because it's really essential to designing a good API.
</PRE>






<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="076028.html">[whatwg] Constructors for HTML Elements
</A></li>
	<LI>Next message: <A HREF="076024.html">[whatwg] Feedback on UndoManager spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33750">[ date ]</a>
              <a href="thread.html#33750">[ thread ]</a>
              <a href="subject.html#33750">[ subject ]</a>
              <a href="author.html#33750">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
