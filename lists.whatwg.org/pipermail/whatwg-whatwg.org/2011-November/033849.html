<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Origin of a data: URL for an img
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Origin%20of%20a%20data%3A%20URL%20for%20an%20img&In-Reply-To=%3C01804B6F1D74DE41819D69F2866C60EF512A548FEE%40HQMAIL03.nvidia.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033841.html">
   <LINK REL="Next"  HREF="076125.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Origin of a data: URL for an img</H1>
<!--htdig_noindex-->
    <B>Gavin Kistner</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Origin%20of%20a%20data%3A%20URL%20for%20an%20img&In-Reply-To=%3C01804B6F1D74DE41819D69F2866C60EF512A548FEE%40HQMAIL03.nvidia.com%3E"
       TITLE="[whatwg] Origin of a data: URL for an img">gkistner at nvidia.com
       </A><BR>
    <I>Wed Nov 16 14:25:48 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="033841.html">[whatwg] createContextualFragment in detached contexts
</A></li>
        <LI>Next message: <A HREF="076125.html">[whatwg] Origin of a data: URL for an img
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33849">[ date ]</a>
              <a href="thread.html#33849">[ thread ]</a>
              <a href="subject.html#33849">[ subject ]</a>
              <a href="author.html#33849">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Section 6.3 &quot;Origin&quot; of the HTML Living Standard has this text (excerpted):

&gt;<i> For images:
</I>&gt;<i>
</I>&gt;<i> If an image was generated from a data: URL found in another Document or in a script
</I>&gt;<i> The origin is the origin of the Document or script that loaded that image.
</I>&gt;<i>
</I>&gt;<i> If an image was obtained in some other manner (e.g. a data: URL typed in by the user)
</I>&gt;<i> The origin is a globally unique identifier assigned when the image is created.
</I>
I'm going to refer to the first case above as the &quot;found specs&quot; and the second case as the &quot;other specs&quot;. (Aside: it would be convenient for discussion if items in this section would have unique identifying numbers.)

What does &quot;found&quot; mean?
What is the difference between these two cases?
When do we switch from one case to the other?

Here are some of my guesses:

    var img = new Image;
    var iframe = document.querySelector('iframe#samedomain').contentWindow;
    img.src = iframe.globalStringWithDataURI; // &quot;other specs&quot;?
    img.src = iframe.document.querySelector('img#hasdatauri'); // &quot;found specs&quot;?
    img.src = img.src.replace( '0', '1' ); // &quot;other specs&quot;?

Does a JavaScript String object carry an origin along with it, but any mutation (and all new strings) switch to &quot;other specs&quot;?


-----------------------------------------------------------------------------------
This email message is for the sole use of the intended recipient(s) and may contain
confidential information.  Any unauthorized review, use, disclosure or distribution
is prohibited.  If you are not the intended recipient, please contact the sender by
reply email and destroy all copies of the original message.
-----------------------------------------------------------------------------------
</PRE>













































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033841.html">[whatwg] createContextualFragment in detached contexts
</A></li>
	<LI>Next message: <A HREF="076125.html">[whatwg] Origin of a data: URL for an img
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33849">[ date ]</a>
              <a href="thread.html#33849">[ thread ]</a>
              <a href="subject.html#33849">[ subject ]</a>
              <a href="author.html#33849">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
