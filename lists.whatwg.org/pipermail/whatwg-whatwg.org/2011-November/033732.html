<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] instantiating display:none plugins
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20instantiating%20display%3Anone%20plugins&In-Reply-To=%3CCAOp6jLaC5XNqAnmk6fbZk1NcR31_Wbok1ykhXYHKbQZNk1c_%2Bg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="076011.html">
   <LINK REL="Next"  HREF="076006.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] instantiating display:none plugins</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20instantiating%20display%3Anone%20plugins&In-Reply-To=%3CCAOp6jLaC5XNqAnmk6fbZk1NcR31_Wbok1ykhXYHKbQZNk1c_%2Bg%40mail.gmail.com%3E"
       TITLE="[whatwg] instantiating display:none plugins">robert at ocallahan.org
       </A><BR>
    <I>Tue Nov  1 16:36:44 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="076011.html">[whatwg] Proposal: Remove canplaythrough event from audio/video	tag
</A></li>
        <LI>Next message: <A HREF="076006.html">[whatwg] instantiating display:none plugins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33732">[ date ]</a>
              <a href="thread.html#33732">[ thread ]</a>
              <a href="subject.html#33732">[ subject ]</a>
              <a href="author.html#33732">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE><A HREF="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">http://www.whatwg.org/specs/web-apps/current-work/#the-object-element</A>
&quot;The above algorithm is independent of CSS properties (including 'display',
'overflow', and 'visibility'). For example, it runs even if the element is
hidden with a 'display:none' CSS style, and does not run again if the
element's visibility changes.&quot;

Unfortunately this breaks real-world usage. The example we ran into is
documented here:
<A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=697651">https://bugzilla.mozilla.org/show_bug.cgi?id=697651</A>
In this case, the site has a display:none autoplay Youtube Flash video
that's not supposed to play.

I did some experiments on browser behavior, documented here:
<A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=697651#c19">https://bugzilla.mozilla.org/show_bug.cgi?id=697651#c19</A>
There are some variations but no browser instantiates a plugin that's
always display:none.

I recommend that the spec be changed so that the &quot;steps to (re)determine
what the object element represents&quot; avoid instantiating plugins that are
display:none (or have a display:none ancestor). Dynamic changes to the
display state should queue a task that checks whether the display state of
the element has changed since the last time the &quot;steps to (re)determine
what the object element represents&quot; ran; if it has, it should rerun those
steps.

As far as I know, there is no need to consider any visibility state other
than display:none.

Rob
-- 
&quot;If we claim to be without sin, we deceive ourselves and the truth is not
in us. If we confess our sins, he is faithful and just and will forgive us
our sins and purify us from all unrighteousness. If we claim we have not
sinned, we make him out to be a liar and his word is not in us.&quot; [1 John
1:8-10]
</PRE>





<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="076011.html">[whatwg] Proposal: Remove canplaythrough event from audio/video	tag
</A></li>
	<LI>Next message: <A HREF="076006.html">[whatwg] instantiating display:none plugins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33732">[ date ]</a>
              <a href="thread.html#33732">[ thread ]</a>
              <a href="subject.html#33732">[ subject ]</a>
              <a href="author.html#33732">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
