<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Using requestFileSystem to setup mounts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Using%20requestFileSystem%20to%20setup%20mounts&In-Reply-To=%3CCAMWgRNZZ9Eeous3k%2BSj24euOfHKZbhv9ALQrHCcD1y%3DOuxmMSQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="076218.html">
   <LINK REL="Next"  HREF="076247.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Using requestFileSystem to setup mounts</H1>
<!--htdig_noindex-->
    <B>Kinuko Yasuda</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Using%20requestFileSystem%20to%20setup%20mounts&In-Reply-To=%3CCAMWgRNZZ9Eeous3k%2BSj24euOfHKZbhv9ALQrHCcD1y%3DOuxmMSQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Using requestFileSystem to setup mounts">kinuko at chromium.org
       </A><BR>
    <I>Mon Nov 28 06:18:38 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="076218.html">[whatwg] Using requestFileSystem to setup mounts
</A></li>
        <LI>Next message: <A HREF="076247.html">[whatwg] Using requestFileSystem to setup mounts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76246">[ date ]</a>
              <a href="thread.html#76246">[ thread ]</a>
              <a href="subject.html#76246">[ subject ]</a>
              <a href="author.html#76246">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>(Sorry for my slow response)

On Wed, Nov 23, 2011 at 1:58 AM, Glenn Maynard &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">glenn at zewt.org</A>&gt; wrote:

&gt;<i>  On Tue, Nov 22, 2011 at 6:06 AM, Kinuko Yasuda &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">kinuko at chromium.org</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Putting aside the API discussion, actually I like the idea having one
</I>&gt;&gt;<i> shared
</I>&gt;&gt;<i> isolated filesystem that contains multiple directories/files being
</I>&gt;&gt;<i> dropped in,
</I>&gt;&gt;<i> as in that way both the UA and script can easily distinguish the set of
</I>&gt;&gt;<i> dropped files/directories as a single group sharing the same filesystem
</I>&gt;&gt;<i> object.  I don't think that must be enforced as a part of spec or
</I>&gt;&gt;<i> recommendation, but I don't think it's strange having multiple
</I>&gt;&gt;<i> files/directories being dropped in the same virtual root directory either.
</I>&gt;&gt;<i> (I'm not saying we should weigh rFS approach more than .entries
</I>&gt;&gt;<i> or getAsEntry)
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This would lead to interop problems if it's not consistent, though.  For
</I>&gt;<i> example, if my application creates ZIP files, and the user drags two files
</I>&gt;<i> into the root directory of the ZIP, he wants to put those files at the top
</I>&gt;<i> of the ZIP:
</I>&gt;<i>
</I>&gt;<i> /file1.txt
</I>&gt;<i> /file2.txt
</I>&gt;<i>
</I>&gt;<i> If the UA creates a virtual directory for that drag, then it'd end up
</I>&gt;<i> putting the files in a subdirectory with the name of the virtual directory,
</I>&gt;<i> as if a directory was dragged:
</I>&gt;<i>
</I>&gt;<i> /drag-and-drop/file1.txt
</I>&gt;<i> /drag-and-drop/file2.txt
</I>&gt;<i>
</I>
The UA can simply puts the file1.txt and file2.txt in the virtual 'root'
directory if Entry.fullPath matters.

Or if we don't go along the requestFileSystem approach (and I'm not
convinced to go that way) I don't think Entry.fullPath really matters as
far as the user scripts can tell that the entries given as .entries (or
.items) are the top-level ones that are being dropped.



&gt;<i> &gt; Each Entry would have a dummy FileSystem object attached to it, in order
</I>&gt;&gt;<i> to
</I>&gt;&gt;<i> &gt; fill out the Entry.filesystem API, but all it would contain is the file
</I>&gt;&gt;<i> &gt; itself.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Again I think this could be left to the UA's implementation decision.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The main point is just that a FileSystem object will always be available,
</I>&gt;<i> even if the UA is only exposing one file in a directory which contains
</I>&gt;<i> other (inaccessible) files.  Most of the time it wouldn't be used, it just
</I>&gt;<i> avoids exceptional cases in the API.  (In other words, Entry.filesystem
</I>&gt;<i> would not become nullable.)
</I>&gt;<i>
</I>
Oh if you meant Entry.filesystem must always have a valid value I totally
agree with it.


&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Glenn Maynard
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="076218.html">[whatwg] Using requestFileSystem to setup mounts
</A></li>
	<LI>Next message: <A HREF="076247.html">[whatwg] Using requestFileSystem to setup mounts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76246">[ date ]</a>
              <a href="thread.html#76246">[ thread ]</a>
              <a href="subject.html#76246">[ subject ]</a>
              <a href="author.html#76246">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
