<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] proposal: Add support for masking to canvas
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20proposal%3A%20Add%20support%20for%20masking%20to%20canvas&In-Reply-To=%3CCAGN7qDDRPnwy%2Bqv4F9cZ%3Dr_9beh6GezLiopXmM2f-qygmJ_C9Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081083.html">
   <LINK REL="Next"  HREF="081085.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] proposal: Add support for masking to canvas</H1>
<!--htdig_noindex-->
    <B>Rik Cabanier</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20proposal%3A%20Add%20support%20for%20masking%20to%20canvas&In-Reply-To=%3CCAGN7qDDRPnwy%2Bqv4F9cZ%3Dr_9beh6GezLiopXmM2f-qygmJ_C9Q%40mail.gmail.com%3E"
       TITLE="[whatwg] proposal: Add support for masking to canvas">cabanier at gmail.com
       </A><BR>
    <I>Tue Jan 29 21:13:35 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081083.html">[whatwg] proposal: Add support for masking to canvas
</A></li>
        <LI>Next message: <A HREF="081085.html">[whatwg] proposal: Add support for masking to canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81084">[ date ]</a>
              <a href="thread.html#81084">[ thread ]</a>
              <a href="subject.html#81084">[ subject ]</a>
              <a href="author.html#81084">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>ah, sorry. I looked at the dictionary for hitregions and assumed that's how
you make something optional in a dict [1]

Second try:

enum CanvasMaskType { luminosity, alpha};
dictionary maskOptions {

CanvasImageSource image;
optional unrestricted double sx;
optional unrestricted double sy;
optional unrestricted double sw;
optional unrestricted double sh;
unrestricted double dx;
unrestricted double dy;
optional unrestricted double dw;
optional unrestricted double dh;
optional CanvasMaskType maskType = &quot;luminosity&quot;;
optional boolean invert = false;
optional boolean clipToMask = true;

}

void maskImage(maskOptions options);
void resetMask();

If not specified, the dw and dh arguments must default to the values of sw
and sh, interpreted such that one CSS pixel in the image is treated as one
unit in thescratch bitmap's coordinate space. If the sx, sy, sw, and sh
arguments are omitted, they must default to 0, 0, the image's intrinsic
width in image pixels, and the image's intrinsic height in image pixels,
respectively.


1:
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#hitregionoptions">http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#hitregionoptions</A>

On Tue, Jan 29, 2013 at 9:07 PM, Tab Atkins Jr. &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jackalmage at gmail.com</A>&gt;wrote:

&gt;<i> On Tue, Jan 29, 2013 at 9:04 PM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:
</I>&gt;<i> &gt; On 1/29/13 11:37 PM, Rik Cabanier wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; So the API could be as follows:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; unrestricted double? sx;
</I>&gt;<i> &gt;&gt; unrestricted double? sy;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Do these actually need to be nullable?  What's the use case for setting
</I>&gt;<i> them
</I>&gt;<i> &gt; to null?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Same thing for the rest of this dictionary's members.
</I>&gt;<i>
</I>&gt;<i> Hah, right, I overlooked that.  They don't need to be *nullable*, just
</I>&gt;<i> *optional*.
</I>&gt;<i>
</I>&gt;<i> ~TJ
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081083.html">[whatwg] proposal: Add support for masking to canvas
</A></li>
	<LI>Next message: <A HREF="081085.html">[whatwg] proposal: Add support for masking to canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81084">[ date ]</a>
              <a href="thread.html#81084">[ thread ]</a>
              <a href="subject.html#81084">[ subject ]</a>
              <a href="author.html#81084">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
