<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Need to define same-origin policy for WebIDL	operations/getters/setters
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Need%20to%20define%20same-origin%20policy%20for%20WebIDL%0A%09operations/getters/setters&In-Reply-To=%3CCAJE5ia9hW6uRxhm1hrs_pZp_Z1T%2BW_WPQ4cPCF51s%3Dd9QL6PvQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080842.html">
   <LINK REL="Next"  HREF="080852.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Need to define same-origin policy for WebIDL	operations/getters/setters</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Need%20to%20define%20same-origin%20policy%20for%20WebIDL%0A%09operations/getters/setters&In-Reply-To=%3CCAJE5ia9hW6uRxhm1hrs_pZp_Z1T%2BW_WPQ4cPCF51s%3Dd9QL6PvQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Need to define same-origin policy for WebIDL	operations/getters/setters">w3c at adambarth.com
       </A><BR>
    <I>Wed Jan  9 11:30:35 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="080842.html">[whatwg] Need to define same-origin policy for WebIDL	operations/getters/setters
</A></li>
        <LI>Next message: <A HREF="080852.html">[whatwg] Need to define same-origin policy for WebIDL	operations/getters/setters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80847">[ date ]</a>
              <a href="thread.html#80847">[ thread ]</a>
              <a href="subject.html#80847">[ subject ]</a>
              <a href="author.html#80847">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>It seems like your arguments all originate from wanting to support an
asymmetric access relation.  Supporting an asymmetric access relation
is a bad idea, and we shouldn't do it.

I understand that Mozilla already has technology for implementing an
asymmetric access relation and that you're using it to implement a
number of current and future Mozilla-proprietary features.  That's
fine, of course, but if you're interested in having those features
become part of the web platform, please don't be surprised when other
browser vendors refuse to implement them because of their asymmetric
access relation.

As a consequence, I would recommend that you do not use asymmetric
access relations in features that you would like other browser vendors
to implement in the future.

Adam


On Wed, Jan 9, 2013 at 7:16 AM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:
&gt;<i> On 1/9/13 3:11 AM, Adam Barth wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm not convinced of that.  I understand that Gecko need to deal with
</I>&gt;&gt;<i> these complications because of a number of Mozilla-proprietary APIs,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Actually, what I'm talking about here has nothing to do with APIs but
</I>&gt;<i> everything to do with wanting to write web applications that have slightly
</I>&gt;<i> more privileges than your typical web page.  Again, you may want to talk to
</I>&gt;<i> Jonas and Mounir for details.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> If and when features are added to
</I>&gt;&gt;<i> the platform that cause these sorts of problems, we can deal with the
</I>&gt;&gt;<i> consequences.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> My argument is that we should not lock ourselves out of adding such features
</I>&gt;<i> in the future.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> In the mean time, I don't think we should force other
</I>&gt;&gt;<i> browser engines to implement a more complicated security model than
</I>&gt;&gt;<i> necessary for the platform as it stands.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I'm not saying we should force anyone to implement any particular security
</I>&gt;<i> model.
</I>&gt;<i>
</I>&gt;<i> I'm saying we shouldn't design/spec things that become completely insecure
</I>&gt;<i> if the security model ever changes in any way and hence prevent evolution of
</I>&gt;<i> the security model.  Which means that we should assume as little as possible
</I>&gt;<i> about what the security model guarantees us when specifying things.  In my
</I>&gt;<i> opinion.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> This paragraph was too abstract for me to understand.  Do you have a
</I>&gt;&gt;<i> concrete example?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> For example, Ian's argument is that you can skip security checks in various
</I>&gt;<i> places because the security model does that already.
</I>&gt;<i>
</I>&gt;<i> My counter-argument is that we should define the behavior of those places by
</I>&gt;<i> referencing the security model explicitly, so that if the security model
</I>&gt;<i> changes we won't have to hunt down all the places that had implicit
</I>&gt;<i> dependencies on it.
</I>&gt;<i>
</I>&gt;<i> Does that make more sense?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> Put another way, I think we have good evidence that the security model in
</I>&gt;&gt;&gt;<i> the spec, as well as that in every browser, Gecko included, is wrong in
</I>&gt;&gt;&gt;<i> the
</I>&gt;&gt;&gt;<i> same sense that Newtonian mechanics is wrong.  The problem is that we
</I>&gt;&gt;&gt;<i> don't
</I>&gt;&gt;&gt;<i> know what our equivalent of special relativity is yet.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I don't understand the analogy.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The current security model describes most common cases, but not some edge
</I>&gt;<i> cases (see above about a slightly-elevated-privileges web app that can, say,
</I>&gt;<i> touch nodes from one and only one different origin).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> More seriously, life gets complicated when you introduce an asymmetric
</I>&gt;&gt;<i> access relation
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I agree.  I believe, however, that for many apps based on web technology you
</I>&gt;<i> in fact might need this.  Again, Sicking and Mounir would know more.
</I>&gt;<i> <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=734891">https://bugzilla.mozilla.org/show_bug.cgi?id=734891</A> has some of the things
</I>&gt;<i> in it, but I'm not sure it's all of them.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> However, the open web platform contains only a symmetric access relation
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yes, I understand that's how it stands now.  I'm questioning the viability
</I>&gt;<i> of this going forward, and especially questioning to what extent we should
</I>&gt;<i> be intentionally making it impossible to change away from this model.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> and I intent to argue against any attempt to introduce an asymmetric
</I>&gt;&gt;<i> access
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> That is, of course, your right.  ;)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> Maybe I've lost the thread here, but I don't understand the problem
</I>&gt;&gt;<i> you're trying to solve with this thread.  The simplest solution is for
</I>&gt;&gt;<i> contentDocument to return null when accessed from a different origin.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> That's not enough.  Window has the same problem: the &quot;document&quot; IDL getter
</I>&gt;<i> needs to check that you're allowed to get the document of the relevant
</I>&gt;<i> window, for example.
</I>&gt;<i>
</I>&gt;<i> Is the check you describe for contentDocument based on origin or effective
</I>&gt;<i> script origin?
</I>&gt;<i>
</I>&gt;<i> -Boris
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080842.html">[whatwg] Need to define same-origin policy for WebIDL	operations/getters/setters
</A></li>
	<LI>Next message: <A HREF="080852.html">[whatwg] Need to define same-origin policy for WebIDL	operations/getters/setters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80847">[ date ]</a>
              <a href="thread.html#80847">[ thread ]</a>
              <a href="subject.html#80847">[ subject ]</a>
              <a href="author.html#80847">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
