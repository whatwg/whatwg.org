<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] `window.location.origin` in sandboxed IFrames.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%60window.location.origin%60%20in%20sandboxed%20IFrames.&In-Reply-To=%3CCAKXHy%3Dd%3DT%3DVDq%2BTz9p3gTWFkuBC8%3DGXfiVh5_pjAOdCNUAWTfA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080878.html">
   <LINK REL="Next"  HREF="080893.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] `window.location.origin` in sandboxed IFrames.</H1>
<!--htdig_noindex-->
    <B>Mike West</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%60window.location.origin%60%20in%20sandboxed%20IFrames.&In-Reply-To=%3CCAKXHy%3Dd%3DT%3DVDq%2BTz9p3gTWFkuBC8%3DGXfiVh5_pjAOdCNUAWTfA%40mail.gmail.com%3E"
       TITLE="[whatwg] `window.location.origin` in sandboxed IFrames.">mkwst at google.com
       </A><BR>
    <I>Wed Jan  9 15:17:07 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="080878.html">[whatwg] Including HTML more directly into SVG
</A></li>
        <LI>Next message: <A HREF="080893.html">[whatwg] `window.location.origin` in sandboxed IFrames.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38603">[ date ]</a>
              <a href="thread.html#38603">[ thread ]</a>
              <a href="subject.html#38603">[ subject ]</a>
              <a href="author.html#38603">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hello!

In WebKit, loading '&lt;iframe sandbox=&quot;allow-scripts&quot;
src=&quot;frame.html&quot;&gt;&lt;/iframe&gt;' with a framed document containing
'&lt;script&gt;alert(window.location.origin);&lt;/script&gt;' alerts the actual
origin of the document, which wasn't what I expected. I'm not sure
what's intended, but I expected that treating the framed document as
existing in a unique origin would have some effect on the string
output as it's location's origin.

Adam explained that WebKit currently treats the 'origin' attribute as
the origin of the document's location, not the origin of the
document[1]. This is generally benign, but surprised me in the
sandboxed case.

What should the expected behavior in this case be? Given the way that
MessageEvent sets the origin of a message from a sandboxed frame to
the string &quot;null&quot;, that seems like a reasonable option here as well.

WDYT?

[1]: <A HREF="https://bugs.webkit.org/show_bug.cgi?id=106488#c1">https://bugs.webkit.org/show_bug.cgi?id=106488#c1</A>

--
Mike West &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mkwst at google.com</A>&gt;, Developer Advocate
Google Germany GmbH, Dienerstrasse 12, 80331 M&#252;nchen, Germany
Google+: <A HREF="https://mkw.st/+,">https://mkw.st/+,</A> Twitter: @mikewest, Cell: +49 162 10 255 91
</PRE>































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080878.html">[whatwg] Including HTML more directly into SVG
</A></li>
	<LI>Next message: <A HREF="080893.html">[whatwg] `window.location.origin` in sandboxed IFrames.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38603">[ date ]</a>
              <a href="thread.html#38603">[ thread ]</a>
              <a href="subject.html#38603">[ subject ]</a>
              <a href="author.html#38603">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
