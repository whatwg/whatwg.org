<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [Notifications] Constructor should not have side	effects
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BNotifications%5D%20Constructor%20should%20not%20have%20side%0A%09effects&In-Reply-To=%3CCAPJYB1jwhi074AUhWVgV9q1QL_PG7DXFF5BLguZM4XEkZgCbRA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081053.html">
   <LINK REL="Next"  HREF="081059.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [Notifications] Constructor should not have side	effects</H1>
<!--htdig_noindex-->
    <B>Elliott Sprehn</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BNotifications%5D%20Constructor%20should%20not%20have%20side%0A%09effects&In-Reply-To=%3CCAPJYB1jwhi074AUhWVgV9q1QL_PG7DXFF5BLguZM4XEkZgCbRA%40mail.gmail.com%3E"
       TITLE="[whatwg] [Notifications] Constructor should not have side	effects">esprehn at gmail.com
       </A><BR>
    <I>Tue Jan 29 10:26:28 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081053.html">[whatwg] [Notifications] Constructor should not have side	effects
</A></li>
        <LI>Next message: <A HREF="081059.html">[whatwg] [Notifications] Constructor should not have side	effects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81058">[ date ]</a>
              <a href="thread.html#81058">[ thread ]</a>
              <a href="subject.html#81058">[ subject ]</a>
              <a href="author.html#81058">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Jan 29, 2013 at 10:38 AM, Jake Archibald &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jaffathecake at gmail.com</A>&gt;wrote:

&gt;<i> On 29 January 2013 05:36, Charles McCathie Nevile &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">chaals at yandex-team.ru</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt;&gt; Exactly. And if we designed XMLHttpRequest from scratch it would have
</I>&gt;<i> them
</I>&gt;<i> &gt;&gt; too.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Really? This doesn't seem like a good idea, so I'd be interested to know
</I>&gt;<i> &gt; why. Is there an explanation laid out somewhere?
</I>&gt;<i>
</I>&gt;<i> Why doesn't it seem like a good idea? Is there a use-case for creating
</I>&gt;<i> a Notification/XMLHttpRequest/WebSocket/EventSource without performing
</I>&gt;<i> their action?
</I>&gt;<i>
</I>
Yes, because decoupling allocating from action lets you preallocate objects
to perform a task in advance of executing the task. It lets you structure
your code without having to worry about when something executes, and it
lets you inspect the object in the web inspector without having the verb
execute first.

For example you can do var request = new XMLHttp( .... ) at the start of a
function, but then later decide you didn't want to send the request, and
never call send(). It also lets you create clean abstractions and layers so
one library may create the notification, but another one may eventually
show it. With notifications I can't look at the properties of a
notification in the web inspector without having it show on me...

Constructors are not verbs. new Notification doesn't mean &quot;show&quot;, and new
XMLHttpRequest doesn't mean &quot;send&quot;.

This is pretty standard OO best practices stuff.
ex.
<A HREF="http://www.beaconhill.com/solutions/kb/java/code-in-constructor-anti-pattern.html">http://www.beaconhill.com/solutions/kb/java/code-in-constructor-anti-pattern.html</A>

- E

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081053.html">[whatwg] [Notifications] Constructor should not have side	effects
</A></li>
	<LI>Next message: <A HREF="081059.html">[whatwg] [Notifications] Constructor should not have side	effects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81058">[ date ]</a>
              <a href="thread.html#81058">[ thread ]</a>
              <a href="subject.html#81058">[ subject ]</a>
              <a href="author.html#81058">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
