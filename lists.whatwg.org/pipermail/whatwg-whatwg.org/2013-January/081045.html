<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal: HTMLCanvasElement.printCallback API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20HTMLCanvasElement.printCallback%20API&In-Reply-To=%3CCAOp6jLbSZ7zQqBkCO8%2BDPrPCgMcH8u1ohOaejBPj1xpr2x1jtw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081044.html">
   <LINK REL="Next"  HREF="038751.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal: HTMLCanvasElement.printCallback API</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20HTMLCanvasElement.printCallback%20API&In-Reply-To=%3CCAOp6jLbSZ7zQqBkCO8%2BDPrPCgMcH8u1ohOaejBPj1xpr2x1jtw%40mail.gmail.com%3E"
       TITLE="[whatwg] Proposal: HTMLCanvasElement.printCallback API">robert at ocallahan.org
       </A><BR>
    <I>Tue Jan 29 02:18:57 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081044.html">[whatwg] Proposal: HTMLCanvasElement.printCallback API
</A></li>
        <LI>Next message: <A HREF="038751.html">[whatwg] proposal: Add support for masking to canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81045">[ date ]</a>
              <a href="thread.html#81045">[ thread ]</a>
              <a href="subject.html#81045">[ subject ]</a>
              <a href="author.html#81045">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Jan 29, 2013 at 7:33 PM, Elliott Sprehn &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">esprehn at gmail.com</A>&gt; wrote:

&gt;<i> Why can't I do this for &lt;video&gt; or &lt;object&gt; or any number of other things
</I>&gt;<i> then? All those things want to be beautiful when printed too. :)  In that
</I>&gt;<i> world I really think we want something closer to Element#printCallback.
</I>&gt;<i>
</I>
That doesn't make sense to me. &lt;canvas&gt; is special because we have APIs to
draw into it, and authors can use the same code that draws a screen canvas
to draw a beautiful print canvas with very few changes. The contents of
&lt;video&gt; and &lt;object&gt; aren't rendered by author JS code, so it's not natural
to provide an API that lets them be rendered by author JS code just for the
print case. However it is possible with our proposal for authors to use
some clever @media CSS to replace any element with a pretty &lt;canvas&gt;
version if they need to.

Also, &lt;video&gt; and &lt;object&gt; (and &lt;img&gt;) have features that could be used to
have them print nicely without author script having to take over their
drawing. For example, on some platforms a plugin in an &lt;object&gt; can define
custom printing behavior.

Vector graphics is exactly what you want when the data model is really big
&gt;<i> though since it lets you prune out things you know can't be seen and stream
</I>&gt;<i> the commands directly to hardware without rasterization as they're
</I>&gt;<i> attempting to do with &lt;canvas&gt; magic in this proposal
</I>&gt;<i>
</I>
I'm not sure what you mean here. In our prototype implementation in
Firefox, when drawing in a printCallback and printing to a PDF, if the
author's canvas drawing calls can be directly supported by PDF then they
are emitted into the PDF and not rasterized at all.

If SVG is broken for this use case we should fix that, it seems really sad
&gt;<i> to &quot;give up&quot; on SVG and bolt vector graphics onto &lt;canvas&gt;.
</I>&gt;<i>
</I>
If you have a very large data model to render, converting directly from the
data model to (GL or 2D) drawing commands is a lot more efficient than
building a persistent CSS-styled DOM as an intermediate step. Having the
browser optimize away that intermediate step doesn't seem feasible.

Rob
-- 
Jesus called them together and said, &#8220;You know that the rulers of the
Gentiles lord it over them, and their high officials exercise authority
over them. Not so with you. Instead, whoever wants to become great among
you must be your servant, and whoever wants to be first must be your
slave &#8212; just
as the Son of Man did not come to be served, but to serve, and to give his
life as a ransom for many.&#8221; [Matthew 20:25-28]

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081044.html">[whatwg] Proposal: HTMLCanvasElement.printCallback API
</A></li>
	<LI>Next message: <A HREF="038751.html">[whatwg] proposal: Add support for masking to canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81045">[ date ]</a>
              <a href="thread.html#81045">[ thread ]</a>
              <a href="subject.html#81045">[ subject ]</a>
              <a href="author.html#81045">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
