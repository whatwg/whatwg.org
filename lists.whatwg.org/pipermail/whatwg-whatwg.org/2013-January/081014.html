<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] scoped style sheets and @-rules
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20scoped%20style%20sheets%20and%20%40-rules&In-Reply-To=%3CCAAWBYDCkDWH6hMvWztuTdqVXvADhd768NdVxnGd%3DTXTe55ApZA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038739.html">
   <LINK REL="Next"  HREF="038740.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] scoped style sheets and @-rules</H1>
<!--htdig_noindex-->
    <B>Tab Atkins Jr.</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20scoped%20style%20sheets%20and%20%40-rules&In-Reply-To=%3CCAAWBYDCkDWH6hMvWztuTdqVXvADhd768NdVxnGd%3DTXTe55ApZA%40mail.gmail.com%3E"
       TITLE="[whatwg] scoped style sheets and @-rules">jackalmage at gmail.com
       </A><BR>
    <I>Mon Jan 21 11:17:58 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="038739.html">[whatwg] scoped style sheets and @-rules
</A></li>
        <LI>Next message: <A HREF="038740.html">[whatwg] unsubscribe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81014">[ date ]</a>
              <a href="thread.html#81014">[ thread ]</a>
              <a href="subject.html#81014">[ subject ]</a>
              <a href="author.html#81014">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Jan 21, 2013 at 6:39 AM, L. David Baron &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dbaron at dbaron.org</A>&gt; wrote:
&gt;<i> I thought I'd brought this issue up before, but I can't seem to find
</I>&gt;<i> a record of it.
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#attr-style-scoped">http://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#attr-style-scoped</A>
</I>&gt;<i> currently says that, inside scoped style sheets, @page rules are
</I>&gt;<i> ignored, but other @-rules are honored, scoped either to the style
</I>&gt;<i> sheet or to the subtree.
</I>&gt;<i>
</I>&gt;<i> I think it makes perfect sense to honor @-rules whose effects are
</I>&gt;<i> scoped to the style sheet (@namespace, also @charset if it weren't
</I>&gt;<i> already ignored) or @-rules whose effects are to condition the rules
</I>&gt;<i> inside of them (all the rules in css3-conditional: @media,
</I>&gt;<i> @supports) or import more rules (@import).
</I>&gt;<i>
</I>&gt;<i> But I think it's a large amount of extra implementation complexity
</I>&gt;<i> to honor @-rules whose purpose is to build global dictionaries (in
</I>&gt;<i> particular, @keyframes and @font-face), and I suspect the end result
</I>&gt;<i> of honoring them would yield technology that's more confusing for
</I>&gt;<i> authors.  Anything that can be done by changing the meaning of an
</I>&gt;<i> @keyframes or @font-face rule within a subtree could also be done by
</I>&gt;<i> declaring a different animation rule or font-family within that
</I>&gt;<i> subtree.  I suspect the extra clarity from the latter makes it a
</I>&gt;<i> better authoring practice anyway, so I don't think implementations
</I>&gt;<i> should be required to add support for a feature that it's better to
</I>&gt;<i> not use.
</I>&gt;<i>
</I>&gt;<i> Thus I think the specification should mandate that @keyframes and
</I>&gt;<i> @font-face are ignored in scoped style sheets, just like @page.
</I>&gt;<i>
</I>&gt;<i> I think it would also be good if the specification left the effects
</I>&gt;<i> of unknown @-rules undefined until whether they should be supported
</I>&gt;<i> can be properly considered.
</I>
Should we ignore them entirely, or just ignore the scoped-ness and
have them fill in the global dictionary?

I think it makes sense to be able to create @keyframes and @font-face
rules inside of a Component's style sheet, which is implicitly scoped,
for example.  Similar things (@counter-style, @text-transform, @image,
other imaginary things with similar effect) also make sense in the
same way.

However, I'd find it acceptable if authors had to make this explicit,
and put the rules inside of @host, which un-scopes its contained style
rules (or rather, transforms them from scope-contained to
scope-filtered).

(I plan to write the Scoped Styles spec in the next few weeks, so I
can define all of this there.)

~TJ

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038739.html">[whatwg] scoped style sheets and @-rules
</A></li>
	<LI>Next message: <A HREF="038740.html">[whatwg] unsubscribe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81014">[ date ]</a>
              <a href="thread.html#81014">[ thread ]</a>
              <a href="subject.html#81014">[ subject ]</a>
              <a href="author.html#81014">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
