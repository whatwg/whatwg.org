<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] StringEncoding open issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20StringEncoding%20open%20issues&In-Reply-To=%3CCABirCh9vnuR%3DR5Hykp-FU5cThSWBy2fH7pHp1Vkm_gjY-D7Gsw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079178.html">
   <LINK REL="Next"  HREF="079207.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] StringEncoding open issues</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20StringEncoding%20open%20issues&In-Reply-To=%3CCABirCh9vnuR%3DR5Hykp-FU5cThSWBy2fH7pHp1Vkm_gjY-D7Gsw%40mail.gmail.com%3E"
       TITLE="[whatwg] StringEncoding open issues">glenn at zewt.org
       </A><BR>
    <I>Wed Aug 15 17:30:09 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079178.html">[whatwg] StringEncoding open issues
</A></li>
        <LI>Next message: <A HREF="079207.html">[whatwg] StringEncoding open issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79197">[ date ]</a>
              <a href="thread.html#79197">[ thread ]</a>
              <a href="subject.html#79197">[ subject ]</a>
              <a href="author.html#79197">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Aug 14, 2012 at 12:34 PM, Joshua Bell &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jsbell at chromium.org</A>&gt; wrote:

&gt;<i>    - Create an encoder with TextDecoder() and if present a BOM will be
</I>&gt;<i>    respected (and consumed) otherwise default to UTF-8
</I>&gt;<i>
</I>
Let's not default to &quot;autodetect Unicode formats&quot;.  It encourages people to
support UTF-16 when they may not mean to.  If BOM detection for both UTF-8
and UTF-16 is wanted, I'd suggest something explicit, like &quot;utf-*&quot;.

If the argument to the ctor is optional, I think the default should be
purely UTF-8.


&gt;<i>  This gets easier if we restrict to encoding UTF-8 which typically doesn't
</I>&gt;<i> include BOMs. But it's looking like there's enough desire to keep UTF-16
</I>&gt;<i> encoding at the moment. Agree with just stripping it for now.
</I>&gt;<i>
</I>
UTF-8 sometimes does have a BOM, especially in Windows where applications
sometimes use it to distinguish UTF-8 from ACP text files (which are just
as common as ever--Windows has made no motion away from legacy encodings
whatsoever).  Stripping the BOM can cause those applications to
misinterpret the files as ACP.

Anyway, even if the encoding API gives a &quot;helper&quot; for this, figuring out
how that works would probably be more effort for developers than just
peeking at the ArrayBuffer for the BOM and adding it back in manually.
(I'm pretty sure anybody who knows enough to pay attention to this in the
first place will have no trouble doing that.)  So, yeah, let's not worry
about this.

-- 
Glenn Maynard

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079178.html">[whatwg] StringEncoding open issues
</A></li>
	<LI>Next message: <A HREF="079207.html">[whatwg] StringEncoding open issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79197">[ date ]</a>
              <a href="thread.html#79197">[ thread ]</a>
              <a href="subject.html#79197">[ subject ]</a>
              <a href="author.html#79197">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
