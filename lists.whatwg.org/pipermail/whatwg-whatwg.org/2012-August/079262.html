<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] img srcset / css image-set issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20img%20srcset%20/%20css%20image-set%20issues&In-Reply-To=%3CBLU002-W53FC867F0B0879B6BF2001AABC0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079240.html">
   <LINK REL="Next"  HREF="036953.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] img srcset / css image-set issues</H1>
<!--htdig_noindex-->
    <B>Fred Andrews</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20img%20srcset%20/%20css%20image-set%20issues&In-Reply-To=%3CBLU002-W53FC867F0B0879B6BF2001AABC0%40phx.gbl%3E"
       TITLE="[whatwg] img srcset / css image-set issues">fredandw at live.com
       </A><BR>
    <I>Fri Aug 24 23:15:58 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079240.html">[whatwg] img srcset / css image-set issues
</A></li>
        <LI>Next message: <A HREF="036953.html">[whatwg] Fwd: img srcset / css image-set issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79262">[ date ]</a>
              <a href="thread.html#79262">[ thread ]</a>
              <a href="subject.html#79262">[ subject ]</a>
              <a href="author.html#79262">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>...

&gt;<i> But that's exactly my point! The w/h descriptors are sufficient *only* for
</I>&gt;<i> art direction, where you want to swap between completely different images
</I>&gt;<i> (or at least different crops of the same image), based on viewport size, to
</I>&gt;<i> match other changes occurring in your responsive design as the viewport
</I>&gt;<i> size changes (and they do a fine job at art direction).
</I>&gt;<i> 
</I>&gt;<i> They are *not* suitable (even combined with x descriptors) as a general
</I>&gt;<i> purpose mechanism for dealing with flexibly-sized images, where you need to
</I>&gt;<i> match the number of device pixels taken up by the image to the number of
</I>&gt;<i> image pixels in the image you load (while allowing the browser to adjust
</I>&gt;<i> this based on bandwidth constraints etc), since doing that properly
</I>&gt;<i> *requires* additional information, i.e. knowing the intrinsic size (or at
</I>&gt;<i> least intrinsic width or height) of the image before choosing which to
</I>&gt;<i> download.
</I>
Agreed.  The width and height of the images is what is needed.  The browser needs to fill pixels so needs to know the sizes of the available images in pixels.

Forget the x scale descriptions and all the other proposed extensions and just include a set of images with their pixel height and width.  Forget dpi etc, its just not needed for this.

Consider adding a 'selected' flag to give JS control of the selection.   If a particular image is 'selected' then it is the default choice. If no image is 'selected' then the browser can use a default algorithm to make a choice based on the target image box size and user choices relating to image quality versus bandwidth tradeoffs.  This allows JS to override the browser default algorithm.  For example a web gallery can offer visitors a 'quality' choice and use this to flag an appropriate selected image.

Image cropping and centering is something best left to JS algorithms.  Fluid cropping and centering may need an algorithm that takes into account particular areas of interest and focus within an image, and user choices which would be better handled within the webpage and not at the browser level.  A web gallery may allow visitors to choose to scale versus crop images and to pan cropped image.

The fact that many people disable JS because they feel it is abused is a fault in the design and should be corrected elsewhere - simple data-flow calculations could handle many of these algorithms safely and still give people confidence to enable them.

Regarding bandwidth choices, is there are proposal that the image sizes in bytes could be declared in the HTML, or is there an expectation that the browser will query the server for the size of each image, or would web browser just use a heuristic to estimate the image byte size scaling based on the image dimensions?

...
&gt;<i> No, it's not fine to just toss in an additional breakpoint. If you do this
</I>&gt;<i> for all important device categories you go back to the monstrous 16-entry
</I>&gt;<i> srcset I showed earlier, which is clearly unsustainable.
</I>
Agreed.  MQs do not map well to the task.  The image box size is not just a matter of the media, but depends on the scaled image box size on the webpage.

&gt;<i> The art direction use case can be entirely orthogonal. It should be handled
</I>&gt;<i> with the w/h descriptors as currently specified. What I'm proposing would
</I>&gt;<i> operate after any w/h descriptors have narrowed down the set of allowable
</I>&gt;<i> images, and let the browser choose between the remaining images more
</I>&gt;<i> intelligently in the case of flexible-size images, where currently the
</I>&gt;<i> browser has no idea which to use.
</I>
Yes, this sounds like a better approach.  It there are proposal taking this view into account?

cheers
Fred

 		 	   		  
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079240.html">[whatwg] img srcset / css image-set issues
</A></li>
	<LI>Next message: <A HREF="036953.html">[whatwg] Fwd: img srcset / css image-set issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79262">[ date ]</a>
              <a href="thread.html#79262">[ thread ]</a>
              <a href="subject.html#79262">[ subject ]</a>
              <a href="author.html#79262">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
