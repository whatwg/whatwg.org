<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] StringEncoding: Allowed encodings for TextEncoder
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20StringEncoding%3A%20Allowed%20encodings%20for%20TextEncoder&In-Reply-To=%3CCABirCh_L7FeyJNrtiTd4LRqt4d-twwPfdODcTJ8_uHaMwMqCWA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079102.html">
   <LINK REL="Next"  HREF="079107.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] StringEncoding: Allowed encodings for TextEncoder</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20StringEncoding%3A%20Allowed%20encodings%20for%20TextEncoder&In-Reply-To=%3CCABirCh_L7FeyJNrtiTd4LRqt4d-twwPfdODcTJ8_uHaMwMqCWA%40mail.gmail.com%3E"
       TITLE="[whatwg] StringEncoding: Allowed encodings for TextEncoder">glenn at zewt.org
       </A><BR>
    <I>Tue Aug  7 10:47:15 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079102.html">[whatwg] StringEncoding: Allowed encodings for TextEncoder
</A></li>
        <LI>Next message: <A HREF="079107.html">[whatwg] StringEncoding: Allowed encodings for TextEncoder
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79104">[ date ]</a>
              <a href="thread.html#79104">[ thread ]</a>
              <a href="subject.html#79104">[ subject ]</a>
              <a href="author.html#79104">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Aug 7, 2012 at 11:48 AM, Joshua Bell &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jsbell at chromium.org</A>&gt; wrote:

&gt;<i> It doesn't appear we reached consensus - there was some desire expressed
</I>&gt;<i> to scope to UTF-8, then perhaps expand to include UTF-16, definite
</I>&gt;<i> consensus that any encoding supported should be handled by both encode and
</I>&gt;<i> decode, then comments about XHR and form data encodings, but then the
</I>&gt;<i> discussion wandered into stateful vs. stateless encodings which took us off
</I>&gt;<i> topic. So Glenn's comment below pretty much reboots the conversation where
</I>&gt;<i> it was:
</I>&gt;<i>
</I>
I don't agree that we necessarily need to support both encode and decode
for every encoding.

For example, an MP3 tag editor supporting legacy ID3 tags may want to be
able to decode ISO-8859-1, since it allows tags in that encoding.  However,
there's no reason to ever write MP3 tags in anything but Unicode--they only
need decode support for 8859-1, not encode.

This pattern of decode support for legacy, but only encoding to Unicode,
seems common today.  Many email clients today (not a use case, just a
comparison) also decode from any encoding but send only in UTF-8.

That's not to say there are no use cases for encoding other encodings, but
it's much easier to relax the restriction later and allow them if we really
need to than it is to go the other way, and I think there's a danger of
perpetuating legacy encodings if we're not careful.

 There are also cross-browser differences in handling decoding of certain
&gt;<i> code points in certain encodings. Exposing those encodings in a new API
</I>&gt;<i> would either require that the browser vendors expose those differences
</I>&gt;<i> (bleah) or implement a compatibility switch in the affected codecs (bleah).
</I>&gt;<i>
</I>
The real fix for this would be for browsers to implement the encodings in
the correct, interoperable way when exposed by this API, even if that means
that this API interprets data differently than eg. the HTML parser.  MS has
made it clear that they won't touch their encodings in any way, due to
legacy support, but hopefully that doesn't apply to a new API with no
legacy at all.  (If you want to find that out you'll need to ask on webapps
or through some other channel, since they're not on this list.)

-- 
Glenn Maynard

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079102.html">[whatwg] StringEncoding: Allowed encodings for TextEncoder
</A></li>
	<LI>Next message: <A HREF="079107.html">[whatwg] StringEncoding: Allowed encodings for TextEncoder
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79104">[ date ]</a>
              <a href="thread.html#79104">[ thread ]</a>
              <a href="subject.html#79104">[ subject ]</a>
              <a href="author.html#79104">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
