<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] iframe sandbox and indexedDB
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20iframe%20sandbox%20and%20indexedDB&In-Reply-To=%3CCAJE5ia9YWxqk8iMTWOKW5RbZSCBwOmRgW%2BwZ1nQchGfPAXCBhQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036822.html">
   <LINK REL="Next"  HREF="079097.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] iframe sandbox and indexedDB</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20iframe%20sandbox%20and%20indexedDB&In-Reply-To=%3CCAJE5ia9YWxqk8iMTWOKW5RbZSCBwOmRgW%2BwZ1nQchGfPAXCBhQ%40mail.gmail.com%3E"
       TITLE="[whatwg] iframe sandbox and indexedDB">w3c at adambarth.com
       </A><BR>
    <I>Mon Aug  6 17:12:40 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="036822.html">[whatwg] iframe sandbox and indexedDB
</A></li>
        <LI>Next message: <A HREF="079097.html">[whatwg] iframe sandbox and indexedDB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79096">[ date ]</a>
              <a href="thread.html#79096">[ thread ]</a>
              <a href="subject.html#79096">[ subject ]</a>
              <a href="author.html#79096">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Aug 6, 2012 at 5:08 PM, Ian Melven &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">imelven at mozilla.com</A>&gt; wrote:
&gt;<i> the spec at <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/origin-0.html#sandboxed-origin-browsing-context-flag">http://www.whatwg.org/specs/web-apps/current-work/multipage/origin-0.html#sandboxed-origin-browsing-context-flag</A>
</I>&gt;<i> says :
</I>&gt;<i>
</I>&gt;<i> &quot;This flag also prevents script from reading from or writing to the document.cookie IDL attribute, and blocks access to localStorage.&quot;
</I>&gt;<i>
</I>&gt;<i> it seems that indexedDB access should also be blocked when this flag is set (ie when 'allow-same-origin' is NOT specified for the sandbox attribute).
</I>
Yes.  I think this is actually a consequence of having a unique origin
and doesn't need to be stated explicitly in the spec.  (Although we
might want to state it explicitly for the avoidance of doubt.)

The reason document.cookie needs to called out explicitly is that it
doesn't use the document's origin to determine which cookies to
access: it uses the document's URL.  We need to do that because cookie
ignore the port but do care about the path part of the document's URL.
 (The better pattern for new API is to use the origin, which is what
IndexedDB does.)

&gt;<i> i intend to implement this restriction in Gecko, feedback from other implementors is welcome :)
</I>
Great.

Adam

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036822.html">[whatwg] iframe sandbox and indexedDB
</A></li>
	<LI>Next message: <A HREF="079097.html">[whatwg] iframe sandbox and indexedDB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79096">[ date ]</a>
              <a href="thread.html#79096">[ thread ]</a>
              <a href="subject.html#79096">[ subject ]</a>
              <a href="author.html#79096">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
