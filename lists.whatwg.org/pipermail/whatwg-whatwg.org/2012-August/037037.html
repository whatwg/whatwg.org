<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [html5] r7128 - [giow] (2) Try to define img synchronous loading. Affected topics: HTML
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bhtml5%5D%20r7128%20-%20%5Bgiow%5D%20%282%29%20Try%20to%20define%20img%0A%20synchronous%20loading.%20Affected%20topics%3A%20HTML&In-Reply-To=%3CPine.LNX.4.64.1208292152360.30734%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079302.html">
   <LINK REL="Next"  HREF="037039.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [html5] r7128 - [giow] (2) Try to define img synchronous loading. Affected topics: HTML</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bhtml5%5D%20r7128%20-%20%5Bgiow%5D%20%282%29%20Try%20to%20define%20img%0A%20synchronous%20loading.%20Affected%20topics%3A%20HTML&In-Reply-To=%3CPine.LNX.4.64.1208292152360.30734%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] [html5] r7128 - [giow] (2) Try to define img synchronous loading. Affected topics: HTML">ian at hixie.ch
       </A><BR>
    <I>Wed Aug 29 15:00:45 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079302.html">[whatwg] Safari, Opera and Navigation Timing API
</A></li>
        <LI>Next message: <A HREF="037039.html">[whatwg] Domain transfer security
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37037">[ date ]</a>
              <a href="thread.html#37037">[ thread ]</a>
              <a href="subject.html#37037">[ subject ]</a>
              <a href="author.html#37037">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 12 Jun 2012, Simon Pieters wrote:
&gt;<i> 
</I>&gt;<i> The potentially CORS-enabled fetch algorithm ignores the state of the 
</I>&gt;<i> crossorigin attribute when the URL is same-origin. Maybe the sync 
</I>&gt;<i> loading logic needs to align with that behavior.
</I>
The problem is that it doesn't actually entirely ignore it, in particular 
if it's a cross-origin redirect. I guess we could work around that by 
detecting the case of the image having been loaded entirely same-origin, 
and then sticking into the /list of available images/ three separate 
entries, one for each possible mode? But then what do we do if one of the 
modes is already present, e.g. because we had done an Anonymous fetch and 
it had involved a cross-origin redirect, but later we do a With 
Credentials fetch and it doesn't (staying same-origin)?

Keeping it just predicated on the crossorigin mode means that the vast 
majority of the time, things work predictably and reliably. And it's easy 
to implement, in comparison. The only loss is that we don't get sync 
loading in the weird case of someone loading an image with and without 
CORS when that image is all same-origin, when we normally could, but how 
often is that going to happen and will anyone care?


On Tue, 12 Jun 2012, Boris Zbarsky wrote:
&gt;<i> 
</I>&gt;<i> Hmm.  On the face of it, this seems like a bug when open redirectors are 
</I>&gt;<i> involved...  Is this what UAs implement in practice?
</I>
On Wed, 13 Jun 2012, Simon Pieters wrote:
&gt;<i> 
</I>&gt;<i> If it redirects, it switches to CORS. However, there are some bugs in 
</I>&gt;<i> the spec... [...]
</I>
Fixed.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>
















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079302.html">[whatwg] Safari, Opera and Navigation Timing API
</A></li>
	<LI>Next message: <A HREF="037039.html">[whatwg] Domain transfer security
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37037">[ date ]</a>
              <a href="thread.html#37037">[ thread ]</a>
              <a href="subject.html#37037">[ subject ]</a>
              <a href="author.html#37037">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
