<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Wasn't there going to be a strict spec?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Wasn%27t%20there%20going%20to%20be%20a%20strict%20spec%3F&In-Reply-To=%3CCALtP25_jUrpCfqjCFw6NU-CW%2Bx4nGOGaNvvZOWskjjaaJpiYyA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079146.html">
   <LINK REL="Next"  HREF="079149.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Wasn't there going to be a strict spec?</H1>
<!--htdig_noindex-->
    <B>Erik Reppen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Wasn%27t%20there%20going%20to%20be%20a%20strict%20spec%3F&In-Reply-To=%3CCALtP25_jUrpCfqjCFw6NU-CW%2Bx4nGOGaNvvZOWskjjaaJpiYyA%40mail.gmail.com%3E"
       TITLE="[whatwg] Wasn't there going to be a strict spec?">erik.reppen at gmail.com
       </A><BR>
    <I>Fri Aug 10 15:29:48 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079146.html">[whatwg] Wasn't there going to be a strict spec?
</A></li>
        <LI>Next message: <A HREF="079149.html">[whatwg] Wasn't there going to be a strict spec?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79148">[ date ]</a>
              <a href="thread.html#79148">[ thread ]</a>
              <a href="subject.html#79148">[ subject ]</a>
              <a href="author.html#79148">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>This confuses me. Why does it matter that other documents wouldn't work if
you changed the parsing rules they were defined with to stricter versions?
As far as backwards compatibility, if a strict-defined set of HTML would
also work in a less strict context, what could it possibly matter? It's
only the author's problem to maintain (or switch to a more forgiving mode)
and backwards compatibility isn't broken if the same client 500 years from
now uses the same general HTML mode for both.

I think there's a legit need for a version or some kind of mode for HTML5
that assumes you're a pro and breaks visibly or throws an error when you've
done something wrong. Back in the day nobody ever forced authors who didn't
know what they're doing to use doctypes they were too sloppy to handle. I
wasn't aware of any plan to discontinue non-XHTML doctypes. How everybody
started thinking of it as a battle for one doctype to rule them all makes
no sense to me but I'm fine with one doctype. I just want something that
works in regular HTML5 but that will break in some kind of a strict mode
when XML-formatting rules aren't adhered to. You pick degrees of strictness
based on what works for you. I don't really see a dealbreaking issue here.
Why can't we all have it the way we want it?

As somebody who deals with some pretty complex UI where the HTML and CSS
are concerned it's a  problem when things in the rendering context give no
indication of breakage, while in the DOM they are in fact getting tripped
up. Sure, I can validate and swap out doctypes or just keep running stuff
in IE8 to see if it breaks until I actually start using HTML5-only tags but
this is kind of awkward and suggests something forward-thinking design
could address don't you think?

On Fri, Aug 10, 2012 at 3:05 PM, Tab Atkins Jr. &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jackalmage at gmail.com</A>&gt;wrote:

&gt;<i> On Fri, Aug 10, 2012 at 12:45 PM, Erik Reppen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">erik.reppen at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; My understanding of the general philosophy of HTML5 on the matter of
</I>&gt;<i> &gt; malformed HTML is that it's better to define specific rules concerning
</I>&gt;<i> &gt; breakage rather than overly strict rules about how to do it right in the
</I>&gt;<i> &gt; first place but this is really starting to create pain-points in
</I>&gt;<i> &gt; development.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Modern browsers are so good at hiding breakage in rendering now that I
</I>&gt;<i> &gt; sometimes run into things that are just nuking the DOM-node structure on
</I>&gt;<i> &gt; the JS-side of things while everything looks hunky-dorey in rendering and
</I>&gt;<i> &gt; no errors are being thrown.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It's like the HTML equivalent of wrapping every function in an empty
</I>&gt;<i> &gt; try/catch statement. For the last year or so I've started using IE8 as my
</I>&gt;<i> &gt; HTML canary when I run into weird problems and I'm not the only dev I've
</I>&gt;<i> &gt; heard of doing this. But what happens when we're no longer supporting IE8
</I>&gt;<i> &gt; and using tags that it doesn't recognize?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Why can't we set stricter rules that cause rendering to cease or at
</I>&gt;<i> least a
</I>&gt;<i> &gt; non-interpreter-halting error to be thrown by browsers when the HTML is
</I>&gt;<i> &gt; broken from a nesting/XML-strict-tag-closing perspective if we want?
</I>&gt;<i> Until
</I>&gt;<i> &gt; most of the vendors started lumping XHTML Strict 1.0 into a general
</I>&gt;<i> &gt; &quot;standards&quot; mode that basically worked the same for any declared
</I>&gt;<i> doctype, I
</I>&gt;<i> &gt; thought it was an excellent feature from a development perspective to
</I>&gt;<i> just
</I>&gt;<i> &gt; let bad XML syntax break the page.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; And if we were able to set such rules, wouldn't it be less work to parse?
</I>&gt;<i> &gt; How difficult would it be to add some sort of opt-in strict mode for
</I>&gt;<i> HTML5
</I>&gt;<i> &gt; that didn't require juggling of doctypes (since that seems to be what the
</I>&gt;<i> &gt; vendors want)?
</I>&gt;<i>
</I>&gt;<i> The parsing rules of HTML aren't set to accommodate old browsers,
</I>&gt;<i> they're set to accommodate old content (which was written for those
</I>&gt;<i> old browsers).  There is an *enormous* corpus of content on the web
</I>&gt;<i> which is officially &quot;invalid&quot; according to various strict definitions,
</I>&gt;<i> and would thus not be displayable in your browser.
</I>&gt;<i>
</I>&gt;<i> As well, experience shows that this isn't an accident, or just due to
</I>&gt;<i> &quot;bad authors&quot;.  If you analyze XML sent as text/html on the web,
</I>&gt;<i> something like 95% of it is invalid XML, for lots of different
</I>&gt;<i> reasons.  Even when authors *know* they're using something that's
</I>&gt;<i> supposed to be strict, they screw it up.  Luckily, we ignore the fact
</I>&gt;<i> that it's XML and use good parsing rules to usually extract what the
</I>&gt;<i> author meant.
</I>&gt;<i>
</I>&gt;<i> There are several efforts ongoing to extend this kind of non-strict
</I>&gt;<i> parsing to XML itself, such as the XML-ER (error recovery) Community
</I>&gt;<i> Group in the W3C.  XML failed on the web in part because of its
</I>&gt;<i> strictness - it's very non-trivial to ensure that your page is always
</I>&gt;<i> valid when you're lumping in arbitrary user content as well.
</I>&gt;<i>
</I>&gt;<i> Simplifying the parser to be stricter would not have any significant
</I>&gt;<i> impact on performance.  The vast majority of pages usually pass down
</I>&gt;<i> the fast common path anyway, and most of the &quot;fixes&quot; are very simple
</I>&gt;<i> and fast to apply as well.  Additionally, doing something naive like
</I>&gt;<i> saying &quot;just use strict XML parsing&quot; is actually *worse* - XML all by
</I>&gt;<i> itself is relatively simple, but the addition of namespaces actually
</I>&gt;<i> makes it *slower* to parse than HTML.
</I>&gt;<i>
</I>&gt;<i> ~TJ
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079146.html">[whatwg] Wasn't there going to be a strict spec?
</A></li>
	<LI>Next message: <A HREF="079149.html">[whatwg] Wasn't there going to be a strict spec?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79148">[ date ]</a>
              <a href="thread.html#79148">[ thread ]</a>
              <a href="subject.html#79148">[ subject ]</a>
              <a href="author.html#79148">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
