<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] StringEncoding: Allowed encodings for TextEncoder
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20StringEncoding%3A%20Allowed%20encodings%20for%20TextEncoder&In-Reply-To=%3CCA%2Bc2ei8R%3Di0AfU1Ya2FRQ%3DOCwE4XbKMt0XDCh6aL_OPCd%3DPifQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079104.html">
   <LINK REL="Next"  HREF="079110.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] StringEncoding: Allowed encodings for TextEncoder</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20StringEncoding%3A%20Allowed%20encodings%20for%20TextEncoder&In-Reply-To=%3CCA%2Bc2ei8R%3Di0AfU1Ya2FRQ%3DOCwE4XbKMt0XDCh6aL_OPCd%3DPifQ%40mail.gmail.com%3E"
       TITLE="[whatwg] StringEncoding: Allowed encodings for TextEncoder">jonas at sicking.cc
       </A><BR>
    <I>Tue Aug  7 10:55:28 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079104.html">[whatwg] StringEncoding: Allowed encodings for TextEncoder
</A></li>
        <LI>Next message: <A HREF="079110.html">[whatwg] StringEncoding: Allowed encodings for TextEncoder
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79107">[ date ]</a>
              <a href="thread.html#79107">[ thread ]</a>
              <a href="subject.html#79107">[ subject ]</a>
              <a href="author.html#79107">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Aug 7, 2012 at 10:47 AM, Glenn Maynard &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">glenn at zewt.org</A>&gt; wrote:
&gt;<i> On Tue, Aug 7, 2012 at 11:48 AM, Joshua Bell &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jsbell at chromium.org</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It doesn't appear we reached consensus - there was some desire expressed
</I>&gt;&gt;<i> to scope to UTF-8, then perhaps expand to include UTF-16, definite consensus
</I>&gt;&gt;<i> that any encoding supported should be handled by both encode and decode,
</I>&gt;&gt;<i> then comments about XHR and form data encodings, but then the discussion
</I>&gt;&gt;<i> wandered into stateful vs. stateless encodings which took us off topic. So
</I>&gt;&gt;<i> Glenn's comment below pretty much reboots the conversation where it was:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I don't agree that we necessarily need to support both encode and decode for
</I>&gt;<i> every encoding.
</I>&gt;<i>
</I>&gt;<i> For example, an MP3 tag editor supporting legacy ID3 tags may want to be
</I>&gt;<i> able to decode ISO-8859-1, since it allows tags in that encoding.  However,
</I>&gt;<i> there's no reason to ever write MP3 tags in anything but Unicode--they only
</I>&gt;<i> need decode support for 8859-1, not encode.
</I>&gt;<i>
</I>&gt;<i> This pattern of decode support for legacy, but only encoding to Unicode,
</I>&gt;<i> seems common today.  Many email clients today (not a use case, just a
</I>&gt;<i> comparison) also decode from any encoding but send only in UTF-8.
</I>&gt;<i>
</I>&gt;<i> That's not to say there are no use cases for encoding other encodings, but
</I>&gt;<i> it's much easier to relax the restriction later and allow them if we really
</I>&gt;<i> need to than it is to go the other way, and I think there's a danger of
</I>&gt;<i> perpetuating legacy encodings if we're not careful.
</I>
Yup, that matches my feelings exactly.

&gt;&gt;<i>  There are also cross-browser differences in handling decoding of certain
</I>&gt;&gt;<i> code points in certain encodings. Exposing those encodings in a new API
</I>&gt;&gt;<i> would either require that the browser vendors expose those differences
</I>&gt;&gt;<i> (bleah) or implement a compatibility switch in the affected codecs (bleah).
</I>&gt;<i>
</I>&gt;<i> The real fix for this would be for browsers to implement the encodings in
</I>&gt;<i> the correct, interoperable way when exposed by this API, even if that means
</I>&gt;<i> that this API interprets data differently than eg. the HTML parser.  MS has
</I>&gt;<i> made it clear that they won't touch their encodings in any way, due to
</I>&gt;<i> legacy support, but hopefully that doesn't apply to a new API with no legacy
</I>&gt;<i> at all.  (If you want to find that out you'll need to ask on webapps or
</I>&gt;<i> through some other channel, since they're not on this list.)
</I>
I'm hoping that browsers in general will be able to converge on the
encoding databases that they have. Both as far as which encodings are
supported, and as far as what encoding tables those encodings support.
Anne's spec is a great first step in that direction. It'll definitely
take time before we have full convergence, but I see no reason that we
couldn't get there eventually. We were able to get there with HTML5
parsing after all :-)

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079104.html">[whatwg] StringEncoding: Allowed encodings for TextEncoder
</A></li>
	<LI>Next message: <A HREF="079110.html">[whatwg] StringEncoding: Allowed encodings for TextEncoder
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79107">[ date ]</a>
              <a href="thread.html#79107">[ thread ]</a>
              <a href="subject.html#79107">[ subject ]</a>
              <a href="author.html#79107">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
