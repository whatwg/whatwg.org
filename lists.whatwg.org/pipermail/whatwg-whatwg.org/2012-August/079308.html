<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Validator.nu: &quot;Attribute role not allowed on element h2 at this point.&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Validator.nu%3A%20%22Attribute%20role%20not%20allowed%20on%20element%0A%20h2%20at%20this%20point.%22&In-Reply-To=%3CCAEhSh3cQEOYhzeJ52RpbmErNB9LUEnrT73jJOJCCiuJGRKK1qQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079306.html">
   <LINK REL="Next"  HREF="037025.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Validator.nu: &quot;Attribute role not allowed on element h2 at this point.&quot;</H1>
<!--htdig_noindex-->
    <B>Benjamin Hawkes-Lewis</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Validator.nu%3A%20%22Attribute%20role%20not%20allowed%20on%20element%0A%20h2%20at%20this%20point.%22&In-Reply-To=%3CCAEhSh3cQEOYhzeJ52RpbmErNB9LUEnrT73jJOJCCiuJGRKK1qQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Validator.nu: &quot;Attribute role not allowed on element h2 at this point.&quot;">bhawkeslewis at googlemail.com
       </A><BR>
    <I>Wed Aug 29 13:10:46 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079306.html">[whatwg] Validator.nu: &quot;Attribute role not allowed on element h2 at this point.&quot;
</A></li>
        <LI>Next message: <A HREF="037025.html">[whatwg] Proposal for change in recommendation for loading behavior of non-applicable stylesheets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79308">[ date ]</a>
              <a href="thread.html#79308">[ thread ]</a>
              <a href="subject.html#79308">[ subject ]</a>
              <a href="author.html#79308">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Aug 29, 2012 at 7:14 PM, Steve Faulkner
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">faulkner.steve at gmail.com</A>&gt; wrote:
&gt;<i> Hi Ian,
</I>&gt;<i> you wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Can you provide an example of how using a redundant role value can lead
</I>&gt;&gt;&gt;<i> &gt; to conflicts?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> Sure. Support someone writes:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    &lt;input type=submit name=&quot;submit&quot; value=&quot;Submit My Form!&quot; role=button&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ...and then someone else copies and pastes it, and changes the type and
</I>&gt;&gt;<i> name and value, but doesn't know what &quot;role&quot; is:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    &lt;input type=password name=&quot;password&quot; value=&quot;&quot; role=button&gt;
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> that has nothing to do with it being redundant, it's to do with people
</I>&gt;<i> copying and pasting code, the same issue would occur for many other
</I>&gt;<i> attributes. That's why we have conformance checkers to pick up such issues
</I>&gt;<i> where they cause harm. If the role and the input type do not match the role
</I>&gt;<i> is no longer redundant, so you did not answer the question.
</I>
We have linters to help authors catch interoperability issues, but
especially as most authors aren't going to use a linter, they are no
substitute for designing the language so as to minimise author errors
that reduce interoperability.

&gt;&gt;<i> for example:
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt; &lt;nav role=&quot;navigation&quot;&gt;
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt; Under what circumstances can this example lead to 'conflicting
</I>&gt;&gt;&gt;<i> &gt; information'?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> User copies-and-pastes this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    &lt;nav class=&quot;fx-2&quot; data-rollup=&quot;2s streamB&quot;
</I>&gt;&gt;<i>         onclick=&quot;activateRollup(this)&quot; role=navigation&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ...and tweaks it for their sidebar, getting:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    &lt;aside class=&quot;fx-3&quot; data-rollup=&quot;3s streamC&quot;
</I>&gt;&gt;<i>           onclick=&quot;activateRollup(this)&quot; role=navigation&gt;
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> again you have changed the element so it is no longer redundant
</I>
[snip]

&gt;<i> So it would appear you have no examples of when a redundant role causes
</I>&gt;<i> harm. Do you have any example where using a role that matches the implied
</I>&gt;<i> default role causes harm?
</I>
I think you're missing Ian's point. Authors copy-paste markup from
deployed corpus. If linters throwing warnings/errors about &quot;redundant&quot;
markup caused authors to remove it, that would reduce the amount of
&quot;redundant&quot; markup in the corpus. Consequently, there would be fewer
copy-paste errors involving misunderstandings of the &quot;redundant&quot;
markup. The harm caused by &quot;using a role that matches the implied
default role&quot; is the proliferation of markup likely to result in
copy-paste errors.

Having said that, I don't buy Ian's argument because:

1. Informed authors are unlikely to reduce their own content's
interoperability (backwards compatibility with today's client software
that doesn't expose implicit semantics) in favor of making it easier
for other authors to copy-paste their markup without errors. Assuming
the linter gives accurate information about markup interoperability,
such warnings/errors are unlikely to result in authors removing
&quot;redundant&quot; markup. So an important effect of emitting these
warnings/errors is to decrease the linter's signal-to-noise ratio.

2. Linter behaviour aside, I suspect more content will be enriched
with &quot;redundant&quot; ARIA markup than broken by copy-paste errors involved
in said markup.

&gt;<i> (not that
</I>&gt;<i> &lt;nav role=navigation&quot;&gt; is redundant in this case as IE and other browsers
</I>&gt;<i> have not implemented the mapping and are unlikely in IE's case to in the
</I>&gt;<i> foreseeable future due to constraints in their accessibility APIs)
</I>
I don't recall a statement from Microsoft that they are not planning
to expose implicit native semantics (e.g. expose ariaRole of
&quot;navigation&quot; for &lt;nav&gt;). Do you have a reference for this? It casts
yet another question mark over the ongoing standardisation process for
ARIA, as exposing implicit native semantics is an ARIA requirement.

&gt;<i>  &gt; &gt; &gt; You're only really going to need it when making custom widgets with
</I>&gt;&gt;&gt;<i> &gt; &gt; &gt; &lt;div&gt;s. (There's a lot of ARIA roles you'd never need to use if you
</I>&gt;&gt;&gt;<i> &gt; &gt; &gt; just used HTML correctly, IMHO.)
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt; You are incorrect here, there are some cases where putting a role on an
</I>&gt;&gt;&gt;<i> &gt; input is required as implemented in browsers, to allow the use of non
</I>&gt;&gt;&gt;<i> &gt; global aria attributes on the element. It would be better if this was
</I>&gt;&gt;&gt;<i> &gt; not a requirement, but until browsers fix their implementations, in
</I>&gt;&gt;&gt;<i> &gt; limited circumstances it is necessary. this is detailed in
</I>&gt;&gt;&gt;<i> &gt; <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=11557">https://www.w3.org/Bugs/Public/show_bug.cgi?id=11557</A> a bug for which
</I>&gt;&gt;&gt;<i> you
</I>&gt;&gt;&gt;<i> &gt; have chosen not to fix without providing an adequate explanation. I am
</I>&gt;&gt;&gt;<i> &gt; unlcear why you want HTML not to ignore implementation realities?
</I>
So long as we're talking about &quot;redundant&quot; ARIA markup motivated by
implementations not exposing implicit native semantics, the Living
Standard is trying to describe the behaviour on which implementations
on converging, not what implementations do today. For client software
implementors, what matters is implementor intention, not current
browser behaviour.

However, useful linter behavior needs to be predicated on current
browser behavior, because that's what authors care about. So I agree
that Living Standard requirements for conformance checkers should be
relaxed to take account of current browser behavior.

&gt;&gt;<i> Bugs should be fixed. We shouldn't warp the language to work around
</I>&gt;&gt;<i> temporary bugs. We certainly shouldn't teach a new generation of authors
</I>&gt;&gt;<i> to use bad authoring styles just because of a transitory issue with
</I>&gt;&gt;<i> certain browsers.
</I>
What most authors want out of conformance checking is not &quot;authoring
styles&quot; but interoperability, and they will need to keep using
&quot;redundant&quot; markup to achieve that.

Having said that there's no reason a linter couldn't provide &quot;info&quot;
messages as well as &quot;warning&quot; and &quot;error&quot; messages to alert authors to
language features that might be usable one day &#8230;

--
Benjamin Hawkes-Lewis

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079306.html">[whatwg] Validator.nu: &quot;Attribute role not allowed on element h2 at this point.&quot;
</A></li>
	<LI>Next message: <A HREF="037025.html">[whatwg] Proposal for change in recommendation for loading behavior of non-applicable stylesheets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79308">[ date ]</a>
              <a href="thread.html#79308">[ thread ]</a>
              <a href="subject.html#79308">[ subject ]</a>
              <a href="author.html#79308">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
