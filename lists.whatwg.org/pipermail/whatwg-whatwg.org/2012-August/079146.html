<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Wasn't there going to be a strict spec?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Wasn%27t%20there%20going%20to%20be%20a%20strict%20spec%3F&In-Reply-To=%3CCAAWBYDBS5hJoby74-KPE7mvM92Bd8irxrfNEjafhRmg_4NZdZQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036872.html">
   <LINK REL="Next"  HREF="079148.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Wasn't there going to be a strict spec?</H1>
<!--htdig_noindex-->
    <B>Tab Atkins Jr.</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Wasn%27t%20there%20going%20to%20be%20a%20strict%20spec%3F&In-Reply-To=%3CCAAWBYDBS5hJoby74-KPE7mvM92Bd8irxrfNEjafhRmg_4NZdZQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Wasn't there going to be a strict spec?">jackalmage at gmail.com
       </A><BR>
    <I>Fri Aug 10 13:05:36 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="036872.html">[whatwg] Wasn't there going to be a strict spec?
</A></li>
        <LI>Next message: <A HREF="079148.html">[whatwg] Wasn't there going to be a strict spec?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79146">[ date ]</a>
              <a href="thread.html#79146">[ thread ]</a>
              <a href="subject.html#79146">[ subject ]</a>
              <a href="author.html#79146">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Aug 10, 2012 at 12:45 PM, Erik Reppen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">erik.reppen at gmail.com</A>&gt; wrote:
&gt;<i> My understanding of the general philosophy of HTML5 on the matter of
</I>&gt;<i> malformed HTML is that it's better to define specific rules concerning
</I>&gt;<i> breakage rather than overly strict rules about how to do it right in the
</I>&gt;<i> first place but this is really starting to create pain-points in
</I>&gt;<i> development.
</I>&gt;<i>
</I>&gt;<i> Modern browsers are so good at hiding breakage in rendering now that I
</I>&gt;<i> sometimes run into things that are just nuking the DOM-node structure on
</I>&gt;<i> the JS-side of things while everything looks hunky-dorey in rendering and
</I>&gt;<i> no errors are being thrown.
</I>&gt;<i>
</I>&gt;<i> It's like the HTML equivalent of wrapping every function in an empty
</I>&gt;<i> try/catch statement. For the last year or so I've started using IE8 as my
</I>&gt;<i> HTML canary when I run into weird problems and I'm not the only dev I've
</I>&gt;<i> heard of doing this. But what happens when we're no longer supporting IE8
</I>&gt;<i> and using tags that it doesn't recognize?
</I>&gt;<i>
</I>&gt;<i> Why can't we set stricter rules that cause rendering to cease or at least a
</I>&gt;<i> non-interpreter-halting error to be thrown by browsers when the HTML is
</I>&gt;<i> broken from a nesting/XML-strict-tag-closing perspective if we want? Until
</I>&gt;<i> most of the vendors started lumping XHTML Strict 1.0 into a general
</I>&gt;<i> &quot;standards&quot; mode that basically worked the same for any declared doctype, I
</I>&gt;<i> thought it was an excellent feature from a development perspective to just
</I>&gt;<i> let bad XML syntax break the page.
</I>&gt;<i>
</I>&gt;<i> And if we were able to set such rules, wouldn't it be less work to parse?
</I>&gt;<i> How difficult would it be to add some sort of opt-in strict mode for HTML5
</I>&gt;<i> that didn't require juggling of doctypes (since that seems to be what the
</I>&gt;<i> vendors want)?
</I>
The parsing rules of HTML aren't set to accommodate old browsers,
they're set to accommodate old content (which was written for those
old browsers).  There is an *enormous* corpus of content on the web
which is officially &quot;invalid&quot; according to various strict definitions,
and would thus not be displayable in your browser.

As well, experience shows that this isn't an accident, or just due to
&quot;bad authors&quot;.  If you analyze XML sent as text/html on the web,
something like 95% of it is invalid XML, for lots of different
reasons.  Even when authors *know* they're using something that's
supposed to be strict, they screw it up.  Luckily, we ignore the fact
that it's XML and use good parsing rules to usually extract what the
author meant.

There are several efforts ongoing to extend this kind of non-strict
parsing to XML itself, such as the XML-ER (error recovery) Community
Group in the W3C.  XML failed on the web in part because of its
strictness - it's very non-trivial to ensure that your page is always
valid when you're lumping in arbitrary user content as well.

Simplifying the parser to be stricter would not have any significant
impact on performance.  The vast majority of pages usually pass down
the fast common path anyway, and most of the &quot;fixes&quot; are very simple
and fast to apply as well.  Additionally, doing something naive like
saying &quot;just use strict XML parsing&quot; is actually *worse* - XML all by
itself is relatively simple, but the addition of namespaces actually
makes it *slower* to parse than HTML.

~TJ

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036872.html">[whatwg] Wasn't there going to be a strict spec?
</A></li>
	<LI>Next message: <A HREF="079148.html">[whatwg] Wasn't there going to be a strict spec?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79146">[ date ]</a>
              <a href="thread.html#79146">[ thread ]</a>
              <a href="subject.html#79146">[ subject ]</a>
              <a href="author.html#79146">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
