<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Form submission progress display by UA (incl. file	upload)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Form%20submission%20progress%20display%20by%20UA%20%28incl.%20file%0A%09upload%29&In-Reply-To=%3C26b395e60801240834i31ff37aas54b981deb7049e8f%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="055979.html">
   <LINK REL="Next"  HREF="055996.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Form submission progress display by UA (incl. file	upload)</H1>
<!--htdig_noindex-->
    <B>timeless</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Form%20submission%20progress%20display%20by%20UA%20%28incl.%20file%0A%09upload%29&In-Reply-To=%3C26b395e60801240834i31ff37aas54b981deb7049e8f%40mail.gmail.com%3E"
       TITLE="[whatwg] Form submission progress display by UA (incl. file	upload)">timeless at gmail.com
       </A><BR>
    <I>Thu Jan 24 08:34:42 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="055979.html">[whatwg] Form submission progress display by UA (incl. file upload)
</A></li>
        <LI>Next message: <A HREF="055996.html">[whatwg] Form submission progress display by UA (incl.	file	upload)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55981">[ date ]</a>
              <a href="thread.html#55981">[ thread ]</a>
              <a href="subject.html#55981">[ subject ]</a>
              <a href="author.html#55981">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 1/24/08, Mikko Rantalainen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mikko.rantalainen at peda.net</A>&gt; wrote:
&gt;<i> Consider a form with a file input. User selects a huge file and hits
</I>&gt;<i> submit. Most UAs do not display nothing but an animated throbber until
</I>&gt;<i> the full submit is done and the download progress bar only starts to do
</I>&gt;<i> anything after the full submit part is already done. An another example
</I>&gt;<i> could be a long blog article that is being sent over an GPRS mobile
</I>&gt;<i> connection (with common speeds around 9kbps).
</I>&gt;<i>
</I>&gt;<i> I think that WF2 section 5.6
</I>&gt;<i> (<A HREF="http://www.whatwg.org/specs/web-forms/current-work/#methodAndEnctypes">http://www.whatwg.org/specs/web-forms/current-work/#methodAndEnctypes</A>)
</I>&gt;<i> should be modified to say something along the lines
</I>&gt;<i>
</I>&gt;<i> &quot;User agents with interactive user interfaces should inform the user
</I>&gt;<i> about the progress of the data submission. For example, an UA with a
</I>&gt;<i> graphical user interface could display a visual progress bar which would
</I>&gt;<i> be updated once every second; the bar would be initially displayed as
</I>&gt;<i> empty and would fill over time as the encoded form data set is
</I>&gt;<i> transmitted. For transmissions that take more than a few seconds UA
</I>&gt;<i> might in addition display estimated time before done.&quot;
</I>
My embedded device battery managers will complain about anything that
happens more than once every 30s (they do).

&gt;<i> Rationale: Upload progress monitoring is becoming more important every
</I>&gt;<i> day as browsers are often used for content authoring, the digital
</I>&gt;<i> content gets bigger and common user connections are highly asymmetric
</I>&gt;<i> (e.g. 24mbps downstream, 1mbps upstream in case of ADSL2+). The delay
</I>&gt;<i> expected by the user for sending a 100MB file could be close to
</I>&gt;<i> downloading a 100MB which is not the reality. An user in a hurry would
</I>&gt;<i> hit stop button and retry again after waiting for some time without
</I>&gt;<i> knowing that upload is in progress.
</I>
I think a slightly more beneficial thing would be for the file picker
posting system to be able to tell the user how big the file is and how
long submitting a form should take at some transfer time. I'm not sure
if anything like this is exposed.

<A HREF="http://mxr.mozilla.org/seamonkey/source/content/base/public/nsIDOMFile.idl">http://mxr.mozilla.org/seamonkey/source/content/base/public/nsIDOMFile.idl</A>
lists a fileSize property. I think it'd be nice if gmail could tell me
that &quot;this file will take an hour to upload&quot;. I also wonder if it'd be
a good idea to support getting chunks of a file, because if I had a
4gb file, using DOMFile().getAsBinary() would probably crash my
browser. I'd kinda like for gmail to be able to do partial uploads....
In order for this to work, there should be DOMString hash() which has
an optional argument for a hash algorithm (&quot;md5sum&quot;, a const for
md5sum, or maybe an object { processBlock:function(data) {},
getHash:function() }. Otherwise a user could try feeding sequential
blocks from different files.

Currently, file uploading is a kinda syncish process.

As to your actual concerns, gmail already deals w/ uploading in the
background fairly gracefully. And in IE6, there is a progress meter
during the upload (Gecko doesn't show proper progress, but I believe
that's a bug).

I'm not sure I see what value is added by somehow mandating this
&quot;feature&quot;. Evolving browsers will probably add this feature anyway
through competition.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="055979.html">[whatwg] Form submission progress display by UA (incl. file upload)
</A></li>
	<LI>Next message: <A HREF="055996.html">[whatwg] Form submission progress display by UA (incl.	file	upload)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55981">[ date ]</a>
              <a href="thread.html#55981">[ thread ]</a>
              <a href="subject.html#55981">[ subject ]</a>
              <a href="author.html#55981">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
