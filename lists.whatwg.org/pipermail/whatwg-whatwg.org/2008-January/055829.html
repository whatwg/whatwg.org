<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Revised Plan for Server-sent DOM events
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Revised%20Plan%20for%20Server-sent%20DOM%20events&In-Reply-To=%3Cop.t4j143r564w2qv%40annevk-t60.oslo.opera.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="055826.html">
   <LINK REL="Next"  HREF="055831.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Revised Plan for Server-sent DOM events</H1>
<!--htdig_noindex-->
    <B>Anne van Kesteren</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Revised%20Plan%20for%20Server-sent%20DOM%20events&In-Reply-To=%3Cop.t4j143r564w2qv%40annevk-t60.oslo.opera.com%3E"
       TITLE="[whatwg] Revised Plan for Server-sent DOM events">annevk at opera.com
       </A><BR>
    <I>Mon Jan  7 02:30:29 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="055826.html">[whatwg] Revised Plan for Server-sent DOM events
</A></li>
        <LI>Next message: <A HREF="055831.html">[whatwg] Revised Plan for Server-sent DOM events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55829">[ date ]</a>
              <a href="thread.html#55829">[ thread ]</a>
              <a href="subject.html#55829">[ subject ]</a>
              <a href="author.html#55829">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, 05 Jan 2008 07:51:29 +0100, Henry Mason &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hmason at mac.com</A>&gt; wrote:
&gt;<i> There's recently been some talk about completely removing HTML 5 section  
</I>&gt;<i> 6.2, &quot;Server-sent DOM events&quot;. I propose that rather than remove, we  
</I>&gt;<i> revise.
</I>
I agree that we should keep it.


&gt;<i> - Continued problems of the 2 connection limit on HTTP server scalability
</I>
Is there any realistic solution to this other than to use separate domains  
and have cross-domain working?


&gt;<i> I propose that we remove support for non-message events; that is, allow  
</I>&gt;<i> only events with MessageEvent interface. This will make implementations  
</I>&gt;<i> easier, as UAs will only need to parse the &quot;Bubbles&quot;, &quot;Cancelable&quot;, and  
</I>&gt;<i> &quot;data&quot; fields.
</I>
Opera also supports the &quot;Event&quot; and &quot;Target&quot; fields. I think we'd be fine  
if the latter is removed, but the former is really useful as you can then  
have separate handlers to deal with the incoming data. (That they all  
implement the same MessageEvent interface is fine.)


&gt;<i> The critically cool part, however, is that since MessageEvents store  
</I>&gt;<i> their domain and URI origin, it will be safe to allow for cross-domain  
</I>&gt;<i> messaging through this server-sent events. Section 6.1 already uses this  
</I>&gt;<i> system for this very purpose. Opera has already implemented it and it  
</I>&gt;<i> has been in WebKit's trunk for about a week.
</I>
WebKit is implementing cross-document messaging? Cool!


&gt;<i> The removal of the same-origin restriction actually makes this interface  
</I>&gt;<i> dramatically more useful for developers. It provides a capability  
</I>&gt;<i> (messaging with a foreign host) which is not already available to  
</I>&gt;<i> XMLHttpRequest-using applications. It also makes it easier web  
</I>&gt;<i> developers to more easily offload the long-running HTTP connections  
</I>&gt;<i> needed for event streams to separate servers. This aides in application  
</I>&gt;<i> scalability and circumvents potential problems with the 2 HTTP  
</I>&gt;<i> connection limit.
</I>&gt;<i>
</I>&gt;<i> This change would make server-sent events easier to implement for both  
</I>&gt;<i> UA implementers and web application developers and would make the  
</I>&gt;<i> developers more likely to use it.
</I>
This does have the disadvantage that you always share your data with  
everyone where you can restrict that with Access Control. Especially for  
authenticated services this might be problematic.


-- 
Anne van Kesteren
&lt;<A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>&gt;
&lt;<A HREF="http://www.opera.com/">http://www.opera.com/</A>&gt;

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="055826.html">[whatwg] Revised Plan for Server-sent DOM events
</A></li>
	<LI>Next message: <A HREF="055831.html">[whatwg] Revised Plan for Server-sent DOM events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55829">[ date ]</a>
              <a href="thread.html#55829">[ thread ]</a>
              <a href="subject.html#55829">[ subject ]</a>
              <a href="author.html#55829">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
