<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] More random comments on the putImageData definition
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20More%20random%20comments%20on%20the%20putImageData%20definition&In-Reply-To=%3C5819BE87-948E-4AFD-B865-EDCC21F786F6%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013722.html">
   <LINK REL="Next"  HREF="013728.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] More random comments on the putImageData definition</H1>
<!--htdig_noindex-->
    <B>Adam Roben</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20More%20random%20comments%20on%20the%20putImageData%20definition&In-Reply-To=%3C5819BE87-948E-4AFD-B865-EDCC21F786F6%40apple.com%3E"
       TITLE="[whatwg] More random comments on the putImageData definition">aroben at apple.com
       </A><BR>
    <I>Fri Jan 25 06:53:39 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="013722.html">[whatwg] More random comments on the putImageData definition
</A></li>
        <LI>Next message: <A HREF="013728.html">[whatwg] More random comments on the putImageData definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13725">[ date ]</a>
              <a href="thread.html#13725">[ thread ]</a>
              <a href="subject.html#13725">[ subject ]</a>
              <a href="author.html#13725">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Jan 25, 2008, at 6:56 AM, Oliver Hunt wrote:

&gt;<i> With the current model for putImageData there is no way for them to  
</I>&gt;<i> specify a dirty rect, which means their only option is to update the  
</I>&gt;<i> entire display -- they have to copy the entire buffer.
</I>&lt;snip&gt;
&gt;<i>
</I>&gt;<i> Anyway, i was thinking we would just need to putDataImage methods:
</I>&gt;<i> void putImageData(in ImageData imagedata, in float dx, in float dy);
</I>&gt;<i> void putImageData(in ImageData imagedata, in float dx, in float dy,  
</I>&gt;<i> in float dirtyX, in float dirtyY, in float dirtyWidth, in float  
</I>&gt;<i> dirtyHeight);
</I>&gt;<i>
</I>&gt;<i> Where the dirtyX and dirtyY are relative to the ImageData's origin.
</I>&gt;<i>
</I>&gt;<i> The repaint region would be (dx+dirtyX, dy+dirtyY),  
</I>&gt;<i> dirtyWidth*dirtyHeight in the canvas domain
</I>
I think it would be less confusing for the repaint region to always  
have its origin at (dx, dy). This would be more similar to Windows'  
BitBlt API. Something like:

void putImageData(in ImageData imageData, in float destX, in float  
destY, in float srcX, in float srcY, in float width, in float height)

destX and destY are in canvas coordinates
srcX and srcY are in ImageData coordinates

The data from the ImageData in the rectangle specified by (srcX, srcY,  
width, height) is then painted into the canvas in the rectangle  
(destX, destY, width, height).

-Adam


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013722.html">[whatwg] More random comments on the putImageData definition
</A></li>
	<LI>Next message: <A HREF="013728.html">[whatwg] More random comments on the putImageData definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13725">[ date ]</a>
              <a href="thread.html#13725">[ thread ]</a>
              <a href="subject.html#13725">[ subject ]</a>
              <a href="author.html#13725">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
