<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] UA validation and the submit event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20UA%20validation%20and%20the%20submit%20event&In-Reply-To=%3C851c8d310601180222y4108effbq99324eb61d24c936%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="047748.html">
   <LINK REL="Next"  HREF="047743.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] UA validation and the submit event</H1>
<!--htdig_noindex-->
    <B>Jim Ley</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20UA%20validation%20and%20the%20submit%20event&In-Reply-To=%3C851c8d310601180222y4108effbq99324eb61d24c936%40mail.gmail.com%3E"
       TITLE="[whatwg] UA validation and the submit event">jim.ley at gmail.com
       </A><BR>
    <I>Wed Jan 18 02:22:11 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="047748.html">[whatwg] UA validation and the submit event
</A></li>
        <LI>Next message: <A HREF="047743.html">[whatwg] Allow &lt;form&gt; as a child of &lt;tbody&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47750">[ date ]</a>
              <a href="thread.html#47750">[ thread ]</a>
              <a href="subject.html#47750">[ subject ]</a>
              <a href="author.html#47750">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 1/18/06, Hallvord Reiar Michaelsen Steen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hallvord at hallvord.com</A>&gt; wrote:
&gt;<i> I'm not suggesting that we shouldn't fire onsubmit at all, only that
</I>&gt;<i> perhaps it would be more backwards-compatible if onsubmit took place
</I>&gt;<i> after the UA validation.
</I>
But it still doesn't fire if the useragent prevents validation?
 That would certainly be safer than as I read your previous proposal,
I'm not confident it wouldn't break some legacy pages.

&gt;<i> I'm not sure if making that impossible would be a big limitation.
</I>
Certainly not for future scripts, but the problem is the authors
who've never heard of Web Forms 2.0...

&gt;<i> &gt; You should implement the behaviour only for documents identified as a Web
</I>&gt;<i> &gt; Forms 2.0 user agent.
</I>&gt;<i>
</I>&gt;<i> I think we've been there, discussed that and voted against using any
</I>&gt;<i> xmlns or DOCTYPE tweaks to distinguish a document as a WF2 one.
</I>
Voted???

&gt;<i> The only thing I want to discuss in this thread, is: should firing
</I>&gt;<i> the onsubmit event and UA validation happen in reversed order to
</I>&gt;<i> ensure backwards compatibility with scripts that believe a form has
</I>&gt;<i> been submitted when it hasn't due to a validation error?
</I>
Couple of points to note off the top of my head:

  WF2 aware scripts need to know that validation happened and failed.

  Legacy scripts need to know if a form was submitted - you can only
do this by not ever suggesting that it had been as far as I can see
which means not firing onsubmit event.

So I would certainly agree that firing onsubmit after form validation
is the only way to ensure backwards compatibility, it may be that we
need an onaftervalidation type thing which fires after validation is
complete so WF2 aware UA's can do the same disabling/screen tidy up
that we want to do.

Note I don't think this will still be compatible with all legacy
clients, there's lots of scripts of the type:

&lt;a onclick=&quot;disableUI();documente.forms[0].submit();&quot;&gt;

where non form controls are used for the submission, so I don't think
either of the proposals are going to be perfect, which is why I think
it's important to ensure that user agent validation can only occur
with the explicit awareness of the author - not as a byproduct of
including another attribute.

Cheers,

Jim.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="047748.html">[whatwg] UA validation and the submit event
</A></li>
	<LI>Next message: <A HREF="047743.html">[whatwg] Allow &lt;form&gt; as a child of &lt;tbody&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47750">[ date ]</a>
              <a href="thread.html#47750">[ thread ]</a>
              <a href="subject.html#47750">[ subject ]</a>
              <a href="author.html#47750">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
