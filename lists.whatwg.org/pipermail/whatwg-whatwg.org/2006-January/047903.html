<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Tag Soup: Blocks-in-inlines
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Tag%20Soup%3A%20Blocks-in-inlines&In-Reply-To=%3C6E3DE545-9268-4B2C-8AE7-05CCF12A7E05%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="047901.html">
   <LINK REL="Next"  HREF="047915.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Tag Soup: Blocks-in-inlines</H1>
<!--htdig_noindex-->
    <B>David Hyatt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Tag%20Soup%3A%20Blocks-in-inlines&In-Reply-To=%3C6E3DE545-9268-4B2C-8AE7-05CCF12A7E05%40apple.com%3E"
       TITLE="[whatwg] Tag Soup: Blocks-in-inlines">hyatt at apple.com
       </A><BR>
    <I>Wed Jan 25 18:06:08 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="047901.html">[whatwg] Tag Soup: Blocks-in-inlines
</A></li>
        <LI>Next message: <A HREF="047915.html">[whatwg] Tag Soup: Blocks-in-inlines
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47903">[ date ]</a>
              <a href="thread.html#47903">[ thread ]</a>
              <a href="subject.html#47903">[ subject ]</a>
              <a href="author.html#47903">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>My 2 cents.

It took me a long time to develop an algorithm that actually fixed  
all 60 of the duplicate internal Apple bugs on this subject.  I'm  
reluctant to revisit this problem in our code base, given that my  
current algorithm was developed both to solve the problem and to be  
extremely performant and internally consistent.  For example,  
allowing blocks inside inlines minimizes the number of residual style  
tags that you have to re-open, and deferring the reopening of such  
tags until a misnested close tag is encountered ensures that well- 
formed documents don't end up with a bloated DOM.  Blocks inside  
inlines simply must be allowed.

Your DOM would grow unacceptably large on real-world pages if you try  
to restrict blocks from being inside inlines and end up reopening the  
inlines over and over again inside each block.  Not to mention that  
even without the residual style problem, sites rely on being able to  
nest blocks inside inlines (for example, an inline link that wraps  
multiple paragraphs but expects them to be a single link and not  
multiple links).

dave
(<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hyatt at apple.com</A>)

On Jan 25, 2006, at 5:41 PM, Ian Hickson wrote:

&gt;<i> On Wed, 25 Jan 2006, Simon Pieters wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thus, &lt;em&gt;&lt;p&gt;XY&lt;/p&gt;&lt;/em&gt; should be parsed as:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> BODY
</I>&gt;&gt;<i>   + EM
</I>&gt;&gt;<i>   + P
</I>&gt;&gt;<i>     + EM
</I>&gt;&gt;<i>       + #text: XY
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ...IMHO.
</I>&gt;<i>
</I>&gt;<i> This breaks in the face of &lt;a&gt;&lt;h3/&gt;&lt;h3/&gt;&lt;/a&gt;, sadly (see my earlier  
</I>&gt;<i> mail).
</I>&gt;<i> Otherwise I'd agree.
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Ian Hickson               U+1047E                ) 
</I>&gt;<i> \._.,--....,'``.    fL
</I>&gt;<i> <A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _ 
</I>&gt;<i> \  ;`._ ,.
</I>&gt;<i> Things that are impossible just take longer.   `._.-(,_..'-- 
</I>&gt;<i> (,_..'`-.;.'
</I>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="047901.html">[whatwg] Tag Soup: Blocks-in-inlines
</A></li>
	<LI>Next message: <A HREF="047915.html">[whatwg] Tag Soup: Blocks-in-inlines
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47903">[ date ]</a>
              <a href="thread.html#47903">[ thread ]</a>
              <a href="subject.html#47903">[ subject ]</a>
              <a href="author.html#47903">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
