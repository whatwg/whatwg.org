<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Range.createContextualFragment in SVG contexts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Range.createContextualFragment%20in%20SVG%20contexts&In-Reply-To=%3C52BEA81D.9030508%40mcc.id.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041821.html">
   <LINK REL="Next"  HREF="041822.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Range.createContextualFragment in SVG contexts</H1>
<!--htdig_noindex-->
    <B>Cameron McCormack</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Range.createContextualFragment%20in%20SVG%20contexts&In-Reply-To=%3C52BEA81D.9030508%40mcc.id.au%3E"
       TITLE="[whatwg] Range.createContextualFragment in SVG contexts">cam at mcc.id.au
       </A><BR>
    <I>Sat Dec 28 02:29:49 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="041821.html">[whatwg] Range.createContextualFragment in SVG contexts
</A></li>
        <LI>Next message: <A HREF="041822.html">[whatwg] Vendor interest in requestAutoComplete ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84096">[ date ]</a>
              <a href="thread.html#84096">[ thread ]</a>
              <a href="subject.html#84096">[ subject ]</a>
              <a href="author.html#84096">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Victor,

Victor Costan wrote:
&gt;<i> I'm trying to re-implement Range.createContextualFragment in Blink
</I>&gt;<i> following this whatwg spec:
</I>&gt;<i> <A HREF="http://domparsing.spec.whatwg.org/#extensions-to-the-range-interface">http://domparsing.spec.whatwg.org/#extensions-to-the-range-interface</A>
</I>&gt;<i>
</I>&gt;<i> There are two issues I'd like to discuss, related to the use of
</I>&gt;<i> createContextualFragment in SVG contexts.
</I>&gt;<i>
</I>&gt;<i> 1) If a Range's context is an&lt;svg&gt;  element, I think the XML parsing
</I>&gt;<i> algorithm should be selected, so the elements in the resulting
</I>&gt;<i> DocumentFragment would get the SVG namespace. This way, inserting the
</I>&gt;<i> fragment in an&lt;svg&gt;  tree would have the intended effect.
</I>&gt;<i>
</I>&gt;<i> Examples:
</I>&gt;<i> <A HREF="https://bug711821.bugzilla.mozilla.org/attachment.cgi?id=582654">https://bug711821.bugzilla.mozilla.org/attachment.cgi?id=582654</A>
</I>&gt;<i> (the red circle should be completely covered by a black circle)
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://codereview.chromium.org/115693010/diff/70001/LayoutTests/fast/dom/Range/create-contextual-fragment-from-svg-element-range.html">https://codereview.chromium.org/115693010/diff/70001/LayoutTests/fast/dom/Range/create-contextual-fragment-from-svg-element-range.html</A>
</I>
I think it would be unexpected that XML parsing is used here, when HTML 
parsing was used to get the SVG fragment in the document in the first 
place.  Maybe the HTML fragment parsing algorithm should be changed to 
push the &lt;svg&gt; element on to the stack of open elements so that the 
parser will interpret the &quot;&lt;circle .../&gt;&quot; as foreign content?

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041821.html">[whatwg] Range.createContextualFragment in SVG contexts
</A></li>
	<LI>Next message: <A HREF="041822.html">[whatwg] Vendor interest in requestAutoComplete ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84096">[ date ]</a>
              <a href="thread.html#84096">[ thread ]</a>
              <a href="subject.html#84096">[ subject ]</a>
              <a href="author.html#84096">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
