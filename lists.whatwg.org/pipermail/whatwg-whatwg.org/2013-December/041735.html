<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Configurability of document.domain
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Configurability%20of%20document.domain&In-Reply-To=%3Calpine.DEB.2.00.1312061934530.27766%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041734.html">
   <LINK REL="Next"  HREF="041739.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Configurability of document.domain</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Configurability%20of%20document.domain&In-Reply-To=%3Calpine.DEB.2.00.1312061934530.27766%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Configurability of document.domain">ian at hixie.ch
       </A><BR>
    <I>Fri Dec  6 11:35:39 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="041734.html">[whatwg] Specify getSVGDocument
</A></li>
        <LI>Next message: <A HREF="041739.html">[whatwg] onclose events for MessagePort
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41735">[ date ]</a>
              <a href="thread.html#41735">[ thread ]</a>
              <a href="subject.html#41735">[ subject ]</a>
              <a href="author.html#41735">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 21 Nov 2013, Boris Zbarsky wrote:
&gt;<i> On 11/21/13 6:28 AM, Anne van Kesteren wrote:
</I>&gt;<i> &gt; IE10 has configurable set to false too.
</I>&gt;<i> 
</I>&gt;<i> IE's behavior here makes no sense.  The property is set non-configurable, but
</I>&gt;<i> it's on the prototype, not on the object itself. So this testcase:
</I>&gt;<i> 
</I>&gt;<i>   alert(Object.getOwnPropertyDescriptor(Document.prototype,
</I>&gt;<i> &quot;domain&quot;).configurable);
</I>&gt;<i>   Object.defineProperty(document, &quot;domain&quot;, { value: 5 });
</I>&gt;<i>   alert(document.domain);
</I>&gt;<i> 
</I>&gt;<i> alerts &quot;false&quot; and then &quot;5&quot; in the IE11 preview, for example.
</I>&gt;<i> 
</I>&gt;<i> Either the property should be unforgeable (and then live on the document
</I>&gt;<i> object itself and be non-configurable), or it should be on the proto and
</I>&gt;<i> configurable (because it can be shadowed anyway, so no point in disallowing
</I>&gt;<i> configurability).
</I>&gt;<i> 
</I>&gt;<i> &gt; So we have Safari/IE10 vs Firefox/Chrome.
</I>&gt;<i> 
</I>&gt;<i> The Safari and IE behaviors are quite different here.
</I>&gt;<i> 
</I>&gt;<i> As are the Firefox/Chrome behaviors, actually (in Firefox it's a configurable
</I>&gt;<i> accessor on the prototype, but in Chrome it's a configurable value property on
</I>&gt;<i> the object itself)...
</I>&gt;<i> 
</I>&gt;<i> 4 browsers, 4 different behaviors, yay.  ;)
</I>
Given the lack of interop here, and the way the majority of browsers in 
practice let it be overridden (suggesting there's no compat need, and 
likely no obvious security need), I've left the spec as-is for now.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041734.html">[whatwg] Specify getSVGDocument
</A></li>
	<LI>Next message: <A HREF="041739.html">[whatwg] onclose events for MessagePort
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41735">[ date ]</a>
              <a href="thread.html#41735">[ thread ]</a>
              <a href="subject.html#41735">[ subject ]</a>
              <a href="author.html#41735">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
