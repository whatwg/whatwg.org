<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg]  2 requests for drawSystemFocusRing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%202%20requests%20for%20drawSystemFocusRing&In-Reply-To=%3CCAGN7qDDrT%3DjpZ3k1_rjWc9EdGRPs9TPEQXMyQrMVrNbtng78YA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084061.html">
   <LINK REL="Next"  HREF="041796.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg]  2 requests for drawSystemFocusRing</H1>
<!--htdig_noindex-->
    <B>Rik Cabanier</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%202%20requests%20for%20drawSystemFocusRing&In-Reply-To=%3CCAGN7qDDrT%3DjpZ3k1_rjWc9EdGRPs9TPEQXMyQrMVrNbtng78YA%40mail.gmail.com%3E"
       TITLE="[whatwg]  2 requests for drawSystemFocusRing">cabanier at gmail.com
       </A><BR>
    <I>Mon Dec 16 20:29:31 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="084061.html">[whatwg] Proposal: Specify SHA512 hash of JavaScript files in	&lt;script&gt; tag
</A></li>
        <LI>Next message: <A HREF="041796.html">[whatwg] Comments on &lt;dialog&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41793">[ date ]</a>
              <a href="thread.html#41793">[ thread ]</a>
              <a href="subject.html#41793">[ subject ]</a>
              <a href="author.html#41793">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>1. scrolling to the focused element
&gt;<i>From a previous exchange:
</I>
On Wed, 2 Oct 2013, Rik Cabanier wrote:
&gt;<i>
</I>&gt;<i> I don't understand. If the path that is active during
</I>&gt;<i> drawCustom/SystemFocusRing is off screen and the element is focused, the
</I>&gt;<i> browser will scroll to that area.
</I>
drawCustomFocusRing() and drawSystemFocusRing() shouldn't cause anything
to scroll. That would be very confusing, IMHO. (When would you scroll?
Consider the case of the control originally being off-screen on purpose,
and animating into position. You want the focus ring drawn the whole time,
and the zoom to follow it maybe, but you only want to scroll once, at the
start, to the location that it will have at the end.)

We want to scroll if the element is focused and the area that is described
by the current path is offscreen. This should follow CSSOM View's
definition of scrolling [1].
Not having this feels weird since you will see scrolling if you tab to html
element, but not the html element that are used as fallback content.

Firefox's implementation already does this.

2. Change when the user is informed of the location
With the current definition [2], if the element is not focused, the
algorithm immediately returns. It would be very helpful if it always ran
step 3 first.
Step 3 doesn't inform the a11y software of focus action; instead it tells
the a11y software of the area of the fallback content. [3] This is very
useful since this allows hit testing.

I was told that Chrome's implementation already does this and I have a
patch to enable this in Firefox too.


1: <A HREF="http://dev.w3.org/csswg/cssom-view/#scrolling">http://dev.w3.org/csswg/cssom-view/#scrolling</A>
2:
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-drawsystemfocusring">http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-drawsystemfocusring</A>
3:
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#inform">http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#inform</A>
</PRE>






<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084061.html">[whatwg] Proposal: Specify SHA512 hash of JavaScript files in	&lt;script&gt; tag
</A></li>
	<LI>Next message: <A HREF="041796.html">[whatwg] Comments on &lt;dialog&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41793">[ date ]</a>
              <a href="thread.html#41793">[ thread ]</a>
              <a href="subject.html#41793">[ subject ]</a>
              <a href="author.html#41793">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
