<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Character References in HTML
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Character%20References%20in%20HTML&In-Reply-To=%3C434D3F22.7060504%40lachy.id.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="047108.html">
   <LINK REL="Next"  HREF="047121.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Character References in HTML</H1>
<!--htdig_noindex-->
    <B>Lachlan Hunt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Character%20References%20in%20HTML&In-Reply-To=%3C434D3F22.7060504%40lachy.id.au%3E"
       TITLE="[whatwg] Character References in HTML">lachlan.hunt at lachy.id.au
       </A><BR>
    <I>Wed Oct 12 09:51:46 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="047108.html">[whatwg] [WA1] &lt;ol type=a&gt; is semantic
</A></li>
        <LI>Next message: <A HREF="047121.html">[whatwg] Web Forms 2.0 - select element
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47113">[ date ]</a>
              <a href="thread.html#47113">[ thread ]</a>
              <a href="subject.html#47113">[ subject ]</a>
              <a href="author.html#47113">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,
   This should probably belong in the parsing section, when you get up 
to writing it.

   In HTML4, according to SGML rules, numeric character references in 
the range from &#128; to &#159; are defined as UNUSED, which makes them 
&quot;non-SGML characters&quot;.  Strictly speaking, it's not an error to refer to 
these characters with character references (even the validator only 
issues a warning: reference to a non-SGML character); but, AIUI, neither 
SGML nor HTML4 assigns any meaning to them.
<A HREF="http://lachy.id.au/log/2005/10/char-refs">http://lachy.id.au/log/2005/10/char-refs</A>

Technically, these character references should really refer to the 
Unicode control characters, but reality dictates otherwise for 
text/html, thanks to IE and countless (poorly written) books and 
tutorials.  I, therefore, think the spec should say something along 
these lines:

   In HTML, numeric and hexadecimal character references referring to
   code positions in the range from 128 to 159 (0x80 to 0x9F) should be
   re-mapped to code positions in the Unicode character repertoire
   according to the CP1252 to Unicode table [CP1252].  This does not
   apply to XHTML.

   HTML documents must not use numeric or hexadecimal character
   references in this range, although browsers should support them for
   backwards compatibility.  Authors should instead refer to the correct
   Unicode code position for these characters.

Also, I think this would also be a nice conformance requirement to see 
for authoring tools:

   HTML Authoring tools should automatically convert these character
   references to either the equivalent Unicode code position or, if the
   file's encoding supports it, the character itself, according to the
   CP1252 to Unicode table [CP1252].

[CP1252] 
<A HREF="http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP1252.TXT">http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP1252.TXT</A>

None of that should apply to XHTML, since XML explicitly allows this 
range in the production for Char and, as far as I'm aware, no XHTML UA 
implements this buggy behaviour.

-- 
Lachlan Hunt
<A HREF="http://lachy.id.au/">http://lachy.id.au/</A>


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="047108.html">[whatwg] [WA1] &lt;ol type=a&gt; is semantic
</A></li>
	<LI>Next message: <A HREF="047121.html">[whatwg] Web Forms 2.0 - select element
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47113">[ date ]</a>
              <a href="thread.html#47113">[ thread ]</a>
              <a href="subject.html#47113">[ subject ]</a>
              <a href="author.html#47113">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
