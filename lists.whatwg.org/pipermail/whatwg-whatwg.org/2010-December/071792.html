<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTML Canvas Element getBlob
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%20Canvas%20Element%20getBlob&In-Reply-To=%3C4D1913AA.2040201%40jumis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071791.html">
   <LINK REL="Next"  HREF="071793.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTML Canvas Element getBlob</H1>
<!--htdig_noindex-->
    <B>Charles Pritchard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%20Canvas%20Element%20getBlob&In-Reply-To=%3C4D1913AA.2040201%40jumis.com%3E"
       TITLE="[whatwg] HTML Canvas Element getBlob">chuck at jumis.com
       </A><BR>
    <I>Mon Dec 27 14:31:06 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="071791.html">[whatwg] HTML Canvas Element getBlob
</A></li>
        <LI>Next message: <A HREF="071793.html">[whatwg] HTML Canvas Element getBlob
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71792">[ date ]</a>
              <a href="thread.html#71792">[ thread ]</a>
              <a href="subject.html#71792">[ subject ]</a>
              <a href="author.html#71792">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 12/27/2010 2:20 PM, Glenn Maynard wrote:
&gt;<i> On Mon, Dec 27, 2010 at 4:32 PM, Charles Pritchard&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">chuck at jumis.com</A>&gt;  wrote:
</I>&gt;&gt;<i> I'd like to see Blob output added to the HTML Canvas element :
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Blob getBlob(in optional DOMString type, in any... args);
</I>&gt;<i> This should be asynchronous, eg:
</I>&gt;<i>
</I>&gt;<i> void getBlobAsync(in Function oncomplete, in Function onerror, in
</I>&gt;<i> optional DOMString type, in any... args);
</I>&gt;<i>
</I>&gt;<i> where oncomplete is called with the resulting Blob after compression finishes.
</I>&gt;<i>
</I>&gt;<i> Compressing a large canvas can take some time, especially at higher
</I>&gt;<i> compression levels--saving a fairly small, 1000x1000 image to PNG in
</I>&gt;<i> Photoshop takes almost five seconds on my system.  A UA may also queue
</I>&gt;<i> canvas operations if the canvas isn't visible; it sometimes seems like
</I>&gt;<i> Chrome is doing this, though I'm not sure.  This gives browsers the
</I>&gt;<i> option of pushing all of the queue flushing and compression into the
</I>&gt;<i> background.
</I>&gt;<i>
</I>&gt;<i> This shouldn't be required; a UA should be permitted to run the
</I>&gt;<i> compression synchronously.  There should also be a way to abort
</I>&gt;<i> compression, since any asynchronous operation should be cancellable.
</I>&gt;<i> (An event-based interface like FileReader's is probably more
</I>&gt;<i> appropriate.)
</I>
Nothing in Canvas is current asynchronous. Nor is there precedent, beyond
string serialization, in the File API, for compression/checksum/stream 
processing.

Such work is certainly welcome, but I don't think it should stand in the 
way of incremental improvement.

Async image compression can currently be accomplished via Web Workers 
and ImageData (though slow, yes).

Synchronous getBlob support would take minimal time, in code bases and 
specs processes,
and has the very immediate benefit of ridding the DOM of nasty data uri 
strings.




</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071791.html">[whatwg] HTML Canvas Element getBlob
</A></li>
	<LI>Next message: <A HREF="071793.html">[whatwg] HTML Canvas Element getBlob
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71792">[ date ]</a>
              <a href="thread.html#71792">[ thread ]</a>
              <a href="subject.html#71792">[ subject ]</a>
              <a href="author.html#71792">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
