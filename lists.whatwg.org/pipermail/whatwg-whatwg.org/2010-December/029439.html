<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Autoplaying media elements not in a document
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Autoplaying%20media%20elements%20not%20in%20a%20document&In-Reply-To=%3CPine.LNX.4.64.1012102035120.26618%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029438.html">
   <LINK REL="Next"  HREF="029441.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Autoplaying media elements not in a document</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Autoplaying%20media%20elements%20not%20in%20a%20document&In-Reply-To=%3CPine.LNX.4.64.1012102035120.26618%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Autoplaying media elements not in a document">ian at hixie.ch
       </A><BR>
    <I>Fri Dec 10 13:51:51 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="029438.html">[whatwg] VIDEO Timeupdate event frequency.
</A></li>
        <LI>Next message: <A HREF="029441.html">[whatwg] Relation between HTML 5 and ECMAScript
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29439">[ date ]</a>
              <a href="thread.html#29439">[ thread ]</a>
              <a href="subject.html#29439">[ subject ]</a>
              <a href="author.html#29439">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, 18 Oct 2010, Chris Pearce wrote:
&gt;<i>
</I>&gt;<i> In the description of the media ready states for HAVE_ENOUGH_DATA [1], 
</I>&gt;<i> the spec says:
</I>&gt;<i>
</I>|<i> If the autoplaying flag is true, and the paused attribute is true, and 
</I>|<i> the media element has an autoplay attribute specified, and the media 
</I>|<i> element is in a Document whose browsing context did not have the 
</I>|<i> sandboxed automatic features browsing context flag set when the Document 
</I>|<i> was created, then the user agent may also set the paused attribute to 
</I>|<i> false, queue a task to fire a simple event named play, and queue a task 
</I>|<i> to fire a simple event named playing.
</I>&gt;<i> 
</I>&gt;<i> This means that we'll will only autoplay if a media element is in a 
</I>&gt;<i> document. Why do we prevent media elements not in a document from 
</I>&gt;<i> autoplaying? We allow audio from a media element not in a document to 
</I>&gt;<i> play, why not allow autoplay to work while not in a document too?
</I>
It was a mistake (see Philip's comment below).


&gt;<i> Unless there's a good reason not to, and since most browsers have 
</I>&gt;<i> implemented autoplay when not in a document anyway, perhaps we should 
</I>&gt;<i> update the spec to match the implemented behaviour?
</I>
I don't know that I'd say we have interop here.

   <A HREF="http://www.hixie.ch/tests/adhoc/html/audio/001.html">http://www.hixie.ch/tests/adhoc/html/audio/001.html</A>

Opera plays the sound for a second or so (exposing GC).
Mozilla plays it once (ignoring the loop attribute).
Chrome plays it forever.
If your description of IE9 is right, it doesn't play it at all.


On Mon, 18 Oct 2010, Philip J&#228;genstedt wrote:
&gt;<i> 
</I>&gt;<i> Subversion is too slow to say exactly when, but &quot;and the media element 
</I>&gt;<i> is in a Document whose browsing context did not have the sandboxed 
</I>&gt;<i> automatic features browsing context flag set when the Document was 
</I>&gt;<i> created&quot; was added to the spec quite recently, after Opera implemented 
</I>&gt;<i> autoplay anyway.
</I>&gt;<i> 
</I>&gt;<i> Assuming the change in behavior was accidental, the spec should instead 
</I>&gt;<i> say &quot;and the media element is not in a Document whose browsing context 
</I>&gt;<i> had the sandboxed automatic features browsing context flag set when the 
</I>&gt;<i> Document was created&quot;.
</I>
Yeah, this was not quite what the change was meant to be. Fixed to go back 
to the earlier behaviour, with the new restriction more appropriately 
phrased.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>
















































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029438.html">[whatwg] VIDEO Timeupdate event frequency.
</A></li>
	<LI>Next message: <A HREF="029441.html">[whatwg] Relation between HTML 5 and ECMAScript
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29439">[ date ]</a>
              <a href="thread.html#29439">[ thread ]</a>
              <a href="subject.html#29439">[ subject ]</a>
              <a href="author.html#29439">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
