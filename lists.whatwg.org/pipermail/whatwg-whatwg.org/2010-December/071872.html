<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg]  Low Memory Event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%20Low%20Memory%20Event&In-Reply-To=%3C4D1E84DC.7090904%40jumis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029575.html">
   <LINK REL="Next"  HREF="071874.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg]  Low Memory Event</H1>
<!--htdig_noindex-->
    <B>Charles Pritchard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%20Low%20Memory%20Event&In-Reply-To=%3C4D1E84DC.7090904%40jumis.com%3E"
       TITLE="[whatwg]  Low Memory Event">chuck at jumis.com
       </A><BR>
    <I>Fri Dec 31 17:35:24 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="029575.html">[whatwg] Low Memory Event
</A></li>
        <LI>Next message: <A HREF="071874.html">[whatwg] Low Memory Event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71872">[ date ]</a>
              <a href="thread.html#71872">[ thread ]</a>
              <a href="subject.html#71872">[ subject ]</a>
              <a href="author.html#71872">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Regarding:
<A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-December/029575.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-December/029575.html</A>

Web Applications may have wildly different use cases than hypertext 
documents.

The issue at hand is attempting, in some part, to send a signal to the 
DOM that a low
memory condition exists. This may not happen, but it certainly has 
strong use cases in web apps.

This doesn't mean adding any sort of constraint: it's simply a 
suggestion which the listening
application is free to ignore.

Currently, we can fool around with window.onblur, to try and &quot;guess&quot; 
when responsiveness is less important.

Ian's response to Rob demonstrates something that will always exist: 
Sometimes we switch tabs, and the other tab is a lower priority.
Apple's innovations with the iOS demonstrate how useful events can be, 
for eeking out a little extra stability in constrained environments.

Chrome and Firefox will crash / behave funnily when RAM is short. RAM 
gets short on my machine.
Safari also bails out, on the iOS, when RAM runs out. These can't be 
avoided completely, but they can
easily be mitigated by sending out an event, which the author can use to 
slim-down their environment.

A web application I work on uses Canvas bitmaps as buffers, to speed 
things up, like &quot;Undo&quot;, when drawing.
It also uses Canvas to keep image sprites available. Many of these 
buffers can be destroyed at any time,
but doing so would mean they need to be recreated, taking up CPU. It's a 
typical CPU vs RAM trade-off.

If I were to receive an event, letting me know a low memory condition 
exists, I'd drop most of my buffers
immediately, allowing for the machine and my application to carry on 
normally, a little while longer.

This little bit of information sharing means a little bit more stability.

So, again: if low memory, then get rid of unneeded data in the scripting 
environment, such as canvas bitmaps, and state arrays.
The upside, is that the browser would run out of ram a little less 
often. The downside is that there'd be another word in the
large vocabulary of HTML/DOM events.

It may not be time to tackle these kind of issues, but I thought I'd 
give it a shot.

The usefulness has already been proven by iOS applications. We can work 
with low memory events there.
I'd like to be able to listen for them on the desktop as well.

-Charles

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029575.html">[whatwg] Low Memory Event
</A></li>
	<LI>Next message: <A HREF="071874.html">[whatwg] Low Memory Event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71872">[ date ]</a>
              <a href="thread.html#71872">[ thread ]</a>
              <a href="subject.html#71872">[ subject ]</a>
              <a href="author.html#71872">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
