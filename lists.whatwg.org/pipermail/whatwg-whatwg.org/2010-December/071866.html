<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] input element list attribute and filtering suggestions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20input%20element%20list%20attribute%20and%20filtering%20suggestions&In-Reply-To=%3CAANLkTikNfHUbJyNmHndRRRYNMZ-5Ybfja4%3DKBiCTPJGq%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071862.html">
   <LINK REL="Next"  HREF="071867.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] input element list attribute and filtering suggestions</H1>
<!--htdig_noindex-->
    <B>Aryeh Gregor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20input%20element%20list%20attribute%20and%20filtering%20suggestions&In-Reply-To=%3CAANLkTikNfHUbJyNmHndRRRYNMZ-5Ybfja4%3DKBiCTPJGq%40mail.gmail.com%3E"
       TITLE="[whatwg] input element list attribute and filtering suggestions">Simetrical+w3c at gmail.com
       </A><BR>
    <I>Fri Dec 31 11:33:11 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="071862.html">[whatwg] input element list attribute and filtering suggestions
</A></li>
        <LI>Next message: <A HREF="071867.html">[whatwg] input element list attribute and filtering suggestions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71866">[ date ]</a>
              <a href="thread.html#71866">[ thread ]</a>
              <a href="subject.html#71866">[ subject ]</a>
              <a href="author.html#71866">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Dec 31, 2010 at 12:07 PM, Jonas Sicking &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonas at sicking.cc</A>&gt; wrote:
&gt;<i> Indeed. But google is fairly alone in this design. I've seen plenty of
</I>&gt;<i> other websites with dynamically populated autocomplete lists which
</I>&gt;<i> doesn't put buttons in the list itself. For example the email
</I>&gt;<i> autocomplete in bugzilla.mozilla.org.
</I>
Wikipedia's new search suggestions (part of the Vector skin) don't
include images or anything, but they do boldface the parts of the
suggestion that match what you've typed.  They also add an extra
option at the bottom to let you actually search for pages containing
the term instead of just looking for title matches.  So that needs
markup too, not just plain text.

But I agree that a purely text-based suggestion box would be useful to
support anyway.  I did try writing this up for MediaWiki -- you can
see the code at
&lt;<A HREF="http://bits.wikimedia.org/skins-1.5/common/mwsuggest.js">http://bits.wikimedia.org/skins-1.5/common/mwsuggest.js</A>&gt; (my
modifications to the preexisting code are in
&lt;<A HREF="http://www.mediawiki.org/wiki/Special:Code/MediaWiki/61348">http://www.mediawiki.org/wiki/Special:Code/MediaWiki/61348</A>&gt;).  But I
disabled it because Opera was the only browser implementing datalist
at the time, and its implementation had a fatal flaw.  Now it's been
mostly superseded by the fancier implementation I mention above, but
flipping os_use_datalist to true in that file seems to work pretty
well in Firefox.  The old suggestion system is still used in
non-Vector skins for now, so if you have some way to flip the
variable, you can try it out on Wikipedia at a URL like
&lt;<A HREF="http://en.wikipedia.org/wiki/Main_Page?useskin=monobook">http://en.wikipedia.org/wiki/Main_Page?useskin=monobook</A>&gt;.

Noticeably, the list automatically incorporates extra suggestions
based on browser form memory, and uses the system colors instead of
site-determined colors.  Both of these could be viewed as either good
or bad, I guess.  The datalist-based solution also has the suggestions
line up exactly, while with the old way, it's a few pixels off (at
least in Chrome).

I provided some spec feedback at the time:
&lt;<A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-January/024794.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-January/024794.html</A>&gt;.
 I really agree with Hixie that a nicer JS API is necessary if you
want authors to actually use datalist this way.  It's gratuitously
painful to update the list by fiddling with the DOM instead of just
using a JavaScript array.  Although it's still way, way easier than
having to fake the box yourself with absolute positioning.

I just enabled the &lt;datalist&gt;-based suggestions in MediaWiki trunk,
for 1.18, since they work nicely for Firefox 4 (I've blacklisted
Opera): &lt;<A HREF="http://www.mediawiki.org/wiki/Special:Code/MediaWiki/79363">http://www.mediawiki.org/wiki/Special:Code/MediaWiki/79363</A>&gt;.
But I don't know how long that suggest framework will survive, given
the newer and fancier one that's part of the new Vector skin (for
which datalist is too limiting to be useful).

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071862.html">[whatwg] input element list attribute and filtering suggestions
</A></li>
	<LI>Next message: <A HREF="071867.html">[whatwg] input element list attribute and filtering suggestions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71866">[ date ]</a>
              <a href="thread.html#71866">[ thread ]</a>
              <a href="subject.html#71866">[ subject ]</a>
              <a href="author.html#71866">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
