<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal: add attributes etags &amp; last-modified to &lt;link&gt; element.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20add%20attributes%20etags%20%26%20last-modified%20to%0A%20%3Clink%3E%20element.&In-Reply-To=%3CPine.LNX.4.64.1012080145010.26618%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071649.html">
   <LINK REL="Next"  HREF="071680.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal: add attributes etags &amp; last-modified to &lt;link&gt; element.</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20add%20attributes%20etags%20%26%20last-modified%20to%0A%20%3Clink%3E%20element.&In-Reply-To=%3CPine.LNX.4.64.1012080145010.26618%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Proposal: add attributes etags &amp; last-modified to &lt;link&gt; element.">ian at hixie.ch
       </A><BR>
    <I>Wed Dec  8 11:44:14 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="071649.html">[whatwg] &lt;marquee&gt; feedback
</A></li>
        <LI>Next message: <A HREF="071680.html">[whatwg] Proposal: add attributes etags &amp; last-modified to &lt;link&gt; element.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29381">[ date ]</a>
              <a href="thread.html#29381">[ thread ]</a>
              <a href="subject.html#29381">[ subject ]</a>
              <a href="author.html#29381">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 15 Sep 2010, Gavin Peters (&#232;~S~K&#230;~V~G&#229;&#189;&#188;&#229;&#190;&#183;&#230;~V&#175;) wrote:
&gt;<i>
</I>&gt;<i> Hi, I'm working on link tags inside of chrome.  We're now experimenting 
</I>&gt;<i> with an optimization that uses link tags and headers to avoid round 
</I>&gt;<i> trips for cache validation in many cases.
</I>&gt;<i> 
</I>&gt;<i> I propose we add an optional etags &amp; last-modified attribute to the link 
</I>&gt;<i> element.  If present for an http uri, these tags represent an assertion 
</I>&gt;<i> about the current cache status of the target resource.  A browser that 
</I>&gt;<i> has a cached resource for that uri with the same etags and/or 
</I>&gt;<i> last-modified may present the link data without validation in connection 
</I>&gt;<i> with the link retrieval.  A browser that has a cached resource for that 
</I>&gt;<i> uri which has a different etags and/or last-modified should treat the 
</I>&gt;<i> resource as if it is in need of validation for retrieval, even if normal 
</I>&gt;<i> cache expiry would treat the resource as valid.
</I>&gt;<i> 
</I>&gt;<i> I anticipate that these attributes will be more commonly (and probably 
</I>&gt;<i> safely) used on the Link: header than in the link element.  When used, 
</I>&gt;<i> they have the potential to save a browser many round trip cache 
</I>&gt;<i> validations (304s) even for data with short cache expiry, and to also to 
</I>&gt;<i> potentially allow early cache-expiry for resources which change ahead of 
</I>&gt;<i> their cache validity period.  These are both great speedups; page loads 
</I>&gt;<i> should be faster and network use should be reduced.
</I>
As others have pointed out, these don't seem to add anything to the 
equation that couldn't also be handled by simply changing the URL and 
giving the resources essentially infinite cacheable lifetimes. In both 
cases, the HTML document has to be changed (in the same location even). 
The advantage of the URL trick is it works today, and is probably easier 
to understand (most authors are unlikely to know how to find their ETags 
even if they knew what they were, for instance).

On Mon, 20 Sep 2010, Roger H&#195;&#165;gensen wrote:
&gt;<i> 
</I>&gt;<i> It would be better to define this as explicitly indicating which 
</I>&gt;<i> resources are NOT valid any longer, with most sites/web applications 
</I>&gt;<i> this would only be a select few links.
</I>
Doing that would require knowing what the browser's cache contains.


I haven't added this to the spec yet. However, I encourage experimentation 
-- that's how we work out what the spec should say; if this turns out to 
be popular and effective, we should reconsider adding it to the language.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>






























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071649.html">[whatwg] &lt;marquee&gt; feedback
</A></li>
	<LI>Next message: <A HREF="071680.html">[whatwg] Proposal: add attributes etags &amp; last-modified to &lt;link&gt; element.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29381">[ date ]</a>
              <a href="thread.html#29381">[ thread ]</a>
              <a href="subject.html#29381">[ subject ]</a>
              <a href="author.html#29381">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
