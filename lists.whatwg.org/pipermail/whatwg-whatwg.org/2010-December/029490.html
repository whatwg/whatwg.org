<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Processing the zoom level - MS	extensions	to	window.screen
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Processing%20the%20zoom%20level%20-%20MS%09extensions%0A%09to%09window.screen&In-Reply-To=%3C4D0CF93B.5040007%40emsai.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029489.html">
   <LINK REL="Next"  HREF="029557.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Processing the zoom level - MS	extensions	to	window.screen</H1>
<!--htdig_noindex-->
    <B>Roger H&#229;gensen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Processing%20the%20zoom%20level%20-%20MS%09extensions%0A%09to%09window.screen&In-Reply-To=%3C4D0CF93B.5040007%40emsai.net%3E"
       TITLE="[whatwg] Processing the zoom level - MS	extensions	to	window.screen">rescator at emsai.net
       </A><BR>
    <I>Sat Dec 18 10:11:07 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="029489.html">[whatwg] Processing the zoom level - MS	extensions to	window.screen
</A></li>
        <LI>Next message: <A HREF="029557.html">[whatwg] Processing the zoom level - MS extensions to	window.screen
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29490">[ date ]</a>
              <a href="thread.html#29490">[ thread ]</a>
              <a href="subject.html#29490">[ subject ]</a>
              <a href="author.html#29490">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 2010-12-18 18:58, Charles Pritchard wrote:
&gt;<i> On 11/24/2010 10:23 AM, Boris Zbarsky wrote:
</I>&gt;&gt;<i> On 11/24/10 4:13 AM, Charles Pritchard wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> &gt; And, these aren't great lengths. It's about 6 lines of javascript.
</I>&gt;&gt;&gt;&gt;<i> Uh... That depends on how your drawing path is set up. If I understand
</I>&gt;&gt;&gt;&gt;<i> correctly what you're doing, you have to get the DPI ration (call 
</I>&gt;&gt;&gt;&gt;<i> it N),
</I>&gt;&gt;&gt;&gt;<i> change the canvas width/height by a factor of N, and change all
</I>&gt;&gt;&gt;&gt;<i> coordinates in all your drawing calls by a factor of N, right?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> You're correct, I grab DPI, lets call it xN and yN, I change the canvas
</I>&gt;&gt;&gt;<i> width height.
</I>&gt;&gt;&gt;<i> Then I run .scale(xN, xY) before my drawing calls. They're completely
</I>&gt;&gt;&gt;<i> agnostic
</I>&gt;&gt;&gt;<i> to the change.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ah, I see.  I assumed you were actually trying to draw the fonts at 
</I>&gt;&gt;<i> the right size for the viewer, see, as opposed to doing an image 
</I>&gt;&gt;<i> upscale of text rendered at a smaller size.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I frequently use scale(n,n) and scale(1/n,1/n) styles, as well as 
</I>&gt;<i> translate, to set the offsets and ratio of my fillStyle
</I>&gt;<i> when it's a pattern or gradient.
</I>&gt;<i>
</I>&gt;<i> Transformations are widely used by feature-rich canvas apps.
</I>&gt;<i> font = (fontSize * fontScale) + 'px sans-serif';  is by no means foreign.
</I>&gt;<i>
</I>&gt;<i> While  translate can be used as a short-cut, for while-loops,
</I>&gt;<i> its most important purpose is offsetting the fill style when painting 
</I>&gt;<i> on textures.
</I>
Wouldn't a global (for the canvas) flag that sets the pixels/values to 
pseudopixels that are automatically translated (and thus DPI 
aware/scaled) make things a lot easier?
Windows does this, and so does the recent versions of MacOS and Linux 
GUIs as well.

In some Windows programs I make I get the OS DPI and calculate a 
modifier, this modifier is applied to all sizes so that 300px is scaled 
by say 1.07 if the user/OS is set at 102.72 DPI (well Windows would show 
this as 103 since it doesn't support float DPI, but my programs do)
But it would have been much easier if the scaling was automated under 
the hood and I could use just pseudo/virtual pixels, currently I have to 
wrap or apply scaling, .NET should handle it for you.
HTML (or rather CSS) has the &quot;em&quot;, so canvas should also be able to do 
the same right?


-- 
Roger &quot;Rescator&quot; H&#229;gensen.
Freelancer - <A HREF="http://www.EmSai.net/">http://www.EmSai.net/</A>

</PRE>





















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029489.html">[whatwg] Processing the zoom level - MS	extensions to	window.screen
</A></li>
	<LI>Next message: <A HREF="029557.html">[whatwg] Processing the zoom level - MS extensions to	window.screen
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29490">[ date ]</a>
              <a href="thread.html#29490">[ thread ]</a>
              <a href="subject.html#29490">[ subject ]</a>
              <a href="author.html#29490">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
