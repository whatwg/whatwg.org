<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Form element invalid message
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Form%20element%20invalid%20message&In-Reply-To=%3C4D1B0C2A.6010109%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029538.html">
   <LINK REL="Next"  HREF="071821.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Form element invalid message</H1>
<!--htdig_noindex-->
    <B>Mounir Lamouri</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Form%20element%20invalid%20message&In-Reply-To=%3C4D1B0C2A.6010109%40gmail.com%3E"
       TITLE="[whatwg] Form element invalid message">mounir.lamouri at gmail.com
       </A><BR>
    <I>Wed Dec 29 02:23:38 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="029538.html">[whatwg] Form element invalid message
</A></li>
        <LI>Next message: <A HREF="071821.html">[whatwg] Form element invalid message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71817">[ date ]</a>
              <a href="thread.html#71817">[ thread ]</a>
              <a href="subject.html#71817">[ subject ]</a>
              <a href="author.html#71817">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 12/29/2010 07:41 AM, Ian Hickson wrote:
&gt;&gt;<i> One way to do this would be to make the &quot;invalid&quot; event implement an 
</I>&gt;&gt;<i> interface with a function like setCustomErrorMessage(in DOMString 
</I>&gt;&gt;<i> message). This string would then be displayed by the UA in its UI 
</I>&gt;&gt;<i> wherever it displays validation error messages.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I actually think that the customerrormessage attribute that has been 
</I>&gt;&gt;<i> suggested is a decent solution too. It does mean that you have to do 
</I>&gt;&gt;<i> some trickery if you want to display different error messages for 
</I>&gt;&gt;<i> different types of errors, but nothing too bad. All you'd need to do is 
</I>&gt;&gt;<i> install an event handler for the &quot;invalid&quot; event, and in that handler do 
</I>&gt;&gt;<i> something like element.setAttribute(&quot;customerrormessage&quot;, myMessage);
</I>&gt;<i> 
</I>&gt;<i> If you're setting an error message, what's wrong with setCustomValidity()?
</I>
setCustomValidity() means &quot;this element is invalid for custom reasons&quot;
and the argument is the error message. I think the use case of
setCustomValidity() is *checking* something on oninput, onchange or
other events and, if the condition is not fulfilled, call the method to
make the element invalid. For example, two passwords fields have to be
the same.

The customerrormessage attribute would have different use cases. It
would be when the element has known reasons to be invalid but when the
author want to override the UA string. I see two reasons for that:
1. the element has very complex rules like: &lt;input type='email'
name='username' required maxlength=&quot;100&quot; pattern=&quot;[^@]*@company.com&quot;&gt;.
It sounds hard for a UA to give one simple sentence for this situation
but the author can try something like &quot;Please, enter your corporate
email address (max 100 chars)&quot;.
2. the author want a specific string to match the context of the
website. For example, when you want to log on Foo website, the author
might want to be sure you see &quot;Please enter you Foo ID.&quot; instead of a
generic &quot;Please, fill this field.&quot; for &lt;input name='username' required&gt;

For sure, you can use setCustomValidity() for both use cases but there
is a small semantic difference and a bigger work to do. Using
setCustomValidity() for these use cases would be a pain while using a
customerrormessage attribute would be quite straightforward.

--
Mounir

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029538.html">[whatwg] Form element invalid message
</A></li>
	<LI>Next message: <A HREF="071821.html">[whatwg] Form element invalid message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71817">[ date ]</a>
              <a href="thread.html#71817">[ thread ]</a>
              <a href="subject.html#71817">[ subject ]</a>
              <a href="author.html#71817">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
