<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fullscreen feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fullscreen%20feedback&In-Reply-To=%3CPine.LNX.4.64.1012090128050.26618%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071672.html">
   <LINK REL="Next"  HREF="029396.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fullscreen feedback</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fullscreen%20feedback&In-Reply-To=%3CPine.LNX.4.64.1012090128050.26618%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Fullscreen feedback">ian at hixie.ch
       </A><BR>
    <I>Wed Dec  8 17:43:24 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="071672.html">[whatwg] Video with MIME type application/octet-stream
</A></li>
        <LI>Next message: <A HREF="029396.html">[whatwg] &lt;video&gt; resource selection algorithm and	NETWORK_NO_SOURCE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29395">[ date ]</a>
              <a href="thread.html#29395">[ thread ]</a>
              <a href="subject.html#29395">[ subject ]</a>
              <a href="author.html#29395">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
(This e-mail only contains responses to the one brief part of the full- 
screen API feedback that apply to the spec(s) I'm working on; I believe 
Anne has stated an intent to specify an API for actually supporting 
fullscreen display of Web content and I have not responded to feedback 
that would be appropriate for that spec. In case it is helpful to Anne, 
I've included below the feedback to which I did not include responses.)

On Fri, 20 Aug 2010, Mike Wilcox wrote:
&gt;<i> On Aug 20, 2010, at 3:24 PM, Ian Hickson wrote:
</I>&gt;<i> &gt; By CSSOM, I mean a separate specification, specifically one from the 
</I>&gt;<i> &gt; family of specifications that Anne is working on ...though my 
</I>&gt;<i> &gt; understanding is that Anne doesn't have the bandwidth to take this on 
</I>&gt;<i> &gt; right now (this may be less of a problem if Robert's proposal can just 
</I>&gt;<i> &gt; be taken wholesale, though).
</I>&gt;<i> 
</I>&gt;<i> RE: Fullscreen - I would be happy if the warning text was removed: User 
</I>&gt;<i> agents should not provide a public API to cause videos to be shown 
</I>&gt;<i> full-screen.
</I>
It appears the warning is no longer present. Did I just miss it?


The other feedback was as follows (trimmed to remove non-material 
feedback, process discussion, and redundant quoting):

On Fri, 20 Aug 2010, Adam Barth wrote:
&gt;<i> On Fri, Aug 20, 2010 at 7:25 PM, Robert O'Callahan 
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt; wrote:
</I>&gt;<i> &gt; On Sat, Aug 21, 2010 at 8:24 AM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; One comment: Rather than adding an &quot;allowfullscreen&quot; attribute on 
</I>&gt;<i> &gt;&gt; &lt;iframe&gt;, I would suggest just assuing that sandboxed content (i.e. 
</I>&gt;<i> &gt;&gt; content of iframes with the sandbox=&quot;&quot; attribute) can't go 
</I>&gt;<i> &gt;&gt; fullscreen. I can provide a sandbox flag for this state. If we think 
</I>&gt;<i> &gt;&gt; there are use cases for allowing sandboxed iframes to go fullscreen, 
</I>&gt;<i> &gt;&gt; then I can also add a keyword that turns off the flag when present 
</I>&gt;<i> &gt;&gt; (like &quot;allow-scripts&quot; does for scripts). (I'm assuming there are no 
</I>&gt;<i> &gt;&gt; cases for disabling fullscreen for unsandboxed iframes; are there?)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; What about legacy content that doesn't use &quot;sandbox&quot;? It might expect 
</I>&gt;<i> &gt; cross-origin IFRAMEs to not be able to take over its window, but if 
</I>&gt;<i> &gt; the IFRAME content goes fullscreen, it effectively can.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I think allowing subframes to go fullscreen should always be opt-in.
</I>&gt;<i> 
</I>&gt;<i> How is going fullscreen different from opening a popup window?
</I>
On Sat, 21 Aug 2010, Kit Grose wrote:
&gt;<i> 
</I>&gt;<i> It's the same document *in the same state* as it was in when you 
</I>&gt;<i> triggered &quot;fullscreen&quot;. You would expect fullscreen on a video or 
</I>&gt;<i> animation not to start that video or animation from the beginning or 
</I>&gt;<i> reload it.
</I>
On Fri, 20 Aug 2010, Adam Barth wrote:
&gt;<i>
</I>&gt;<i> I meant from a security model perspective.  :)
</I>
On Sat, 21 Aug 2010, Robert O'Callahan wrote:
&gt;<i> 
</I>&gt;<i> That depends on how the UA chooses to handle it. But this proposed 
</I>&gt;<i> fullscreen API is based on the idea that the fullscreen content &quot;takes 
</I>&gt;<i> over&quot; the toplevel browsing context to which it belongs. (The content is 
</I>&gt;<i> styled to fill the IFRAME, and the IFRAME element is styled to fill the 
</I>&gt;<i> parent document's viewport.)
</I>
On Sun, 22 Aug 2010, Adam Barth wrote:
&gt;<i> On Sun, Aug 22, 2010 at 8:00 PM, Robert O'Callahan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt; wrote:
</I>&gt;<i> &gt; On Sun, Aug 22, 2010 at 4:12 AM, Adam Barth &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">w3c at adambarth.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; That does seem dangerous if the location bar still displays the URL 
</I>&gt;<i> &gt;&gt; of the top-level browsing context because it violates the constraint 
</I>&gt;<i> &gt;&gt; principle of display delegation.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; That's why I want to default to prohibiting subframe content from 
</I>&gt;<i> &gt; going fullscreen.
</I>&gt;<i> 
</I>&gt;<i> Yeah, I agree that we'd need something like that in this model.  It's 
</I>&gt;<i> unfortunate though.  Won't folks package &lt;video&gt; widgets using iframes?  
</I>&gt;<i> I guess they'll need to include this silly attribute in their 
</I>&gt;<i> &quot;copy-and-paste this markup&quot; code in order for full screen to work.
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt; This doesn't seem like a good model for full-screen. &#160;I would think 
</I>&gt;<i> &gt;&gt; the model of re-parenting the content to a popup window that fills 
</I>&gt;<i> &gt;&gt; the entire screen would be a better model.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I think that model is a lot harder to spec and a lot harder for Web 
</I>&gt;<i> &gt; authors to understand. I'd certainly be interested in looking at a 
</I>&gt;<i> &gt; proposal if someone wants to pursue that approach.
</I>&gt;<i> 
</I>&gt;<i> There's been some work in WebKit around the concept of a &quot;magic iframe&quot; 
</I>&gt;<i> that keeps it's environment intact even when it's adopted from one 
</I>&gt;<i> document to another.  I'm not sure how much of that has been discussed 
</I>&gt;<i> for standardization, but you could imagine a model like that working 
</I>&gt;<i> where a frame is adopted into a &quot;popup&quot; window that fills the screen.
</I>
On Mon, 23 Aug 2010, Robert O'Callahan wrote:
&gt;<i> 
</I>&gt;<i> That's sorta-ok if your video is a subframe that you treat as a black 
</I>&gt;<i> box. But if your video element is just an element in your page with 
</I>&gt;<i> event handlers attached to it, and with various scripts that interact 
</I>&gt;<i> with it, and you rip that element out (plus maybe some supporting 
</I>&gt;<i> elements representing your player UI) and drop it in another document, 
</I>&gt;<i> it seems to me you're going to have to code very carefully to ensure it 
</I>&gt;<i> keeps working over there (and the original page doesn't get into a bad 
</I>&gt;<i> state). If there's confirmation UI so that the movement between 
</I>&gt;<i> documents happens asynchronously, it's even more exciting. Moving the 
</I>&gt;<i> element back when the user exits fullscreen has similar issues.
</I>&gt;<i> 
</I>&gt;<i> Maybe there are ways to make that model easy and convenient for authors. 
</I>&gt;<i> I'd like to see a proposal.
</I>
On Sun, 22 Aug 2010, Adam Barth wrote:
&gt;<i> 
</I>&gt;<i> Oh, I think the iframe-at-a-time is an easier model to work with since 
</I>&gt;<i> the scripting context will get adopted into the full-screen view 
</I>&gt;<i> together with the elements.
</I>
On Mon, 23 Aug 2010, Robert O'Callahan wrote:
&gt;<i> 
</I>&gt;<i> It requires the author to put each part of their page that they want to 
</I>&gt;<i> go fullscreen into its own subframe. That is cumbersome. With my 
</I>&gt;<i> proposal, most existing pages and player UIs would work if you just call 
</I>&gt;<i> &quot;element.requestFullScreen()&quot; in some event handler.
</I>
On Sun, 22 Aug 2010, Adam Barth wrote:
&gt;<i> 
</I>&gt;<i> But it doesn't go full screen, right?  Didn't you say above that the 
</I>&gt;<i> location bar is still there?
</I>
On Mon, 23 Aug 2010, Robert O'Callahan wrote:
&gt;<i>
</I>&gt;<i> That depends on the UA. Assuming we implement this API using our 
</I>&gt;<i> existing fullscreen functionality, in Firefox the element would be 
</I>&gt;<i> fullscreen, but if the user moves the mouse to the very top of the 
</I>&gt;<i> screen some browser chrome will pop down temporarily, including the URL 
</I>&gt;<i> bar.
</I>
On Sun, 22 Aug 2010, Adam Barth wrote:
&gt;<i>
</I>&gt;<i> So...  The trade-off is:
</I>&gt;<i> 
</I>&gt;<i> 1) Only browsing contexts can go full-screen (since they have URLs that 
</I>&gt;<i> we could display).
</I>&gt;<i>
</I>&gt;<i> 2) Any element can go full-screen, but we'll need to add a nasty 
</I>&gt;<i> non-semantic attribute.
</I>
On Mon, 23 Aug 2010, Robert O'Callahan wrote:
&gt;<i> 
</I>&gt;<i> Is &quot;allowfullscreen&quot; really less semantic than &quot;sandbox&quot;?
</I>&gt;<i> 
</I>&gt;<i> Actually one option here is to only allow sandboxed iframes to go 
</I>&gt;<i> fullscreen, deny fullscreen to sandboxed iframes by default, and provide 
</I>&gt;<i> a sandbox token (e.g. &quot;allow-fullscreen&quot;) that allows fullscreen. So you 
</I>&gt;<i> could add sandbox=&quot;allow-scripts allow-fullscreen&quot; to a video embedding 
</I>&gt;<i> IFRAME.
</I>
On Sun, 22 Aug 2010, Adam Barth wrote:
&gt;<i> 
</I>&gt;<i> Another idea is that we could let any element go full-screen, but then 
</I>&gt;<i> we'd show the URL of its browsing context.  There's some subtleties here 
</I>&gt;<i> about overlays from parent frames, but those seem solvable.
</I>
On Mon, 23 Aug 2010, Robert O'Callahan wrote:
&gt;<i>
</I>&gt;<i> Doable, but maybe painful to implement, and there are numerous spec and 
</I>&gt;<i> UI issues to do with navigation, history, etc.
</I>
On Tue, 21 Sep 2010, Shiv Kumar wrote:
&gt;<i>
</I>&gt;<i> Pardon me if I've missed something. The last time I found and read the 
</I>&gt;<i> spec on this feature it said that UAs should not provide a script 
</I>&gt;<i> interface to put the video element in full screen.
</I>&gt;<i> 
</I>&gt;<i> Now in order for anyone to be able to provide their own skin/player, 
</I>&gt;<i> we'll need to provide a scriptable way to switch the video element to 
</I>&gt;<i> full screen and out including events to support the same.
</I>&gt;<i> 
</I>&gt;<i> I know the Webkit folks have provided, 
</I>&gt;<i> webkitEnterFullScreen/webkitExitFullScreen methods to allow this. I 
</I>&gt;<i> don't believe there are any events supporting the change in state.
</I>&gt;<i> 
</I>&gt;<i> I think it's important that the video element provide a scriptable way 
</I>&gt;<i> to do this. Internally, the UA can determine if the call was made using 
</I>&gt;<i> a user gesture as I believe Webkit is doing.
</I>
On Wed, 22 Sep 2010, timeless wrote:
&gt;<i> 
</I>&gt;<i> it is not ok to allow content authors to refuse to deliver content 
</I>&gt;<i> unless they are &quot;full screen&quot;.
</I>&gt;<i> 
</I>&gt;<i> having events which enable providers to hold users hostage is a bad 
</I>&gt;<i> thing.
</I>&gt;<i> 
</I>&gt;<i> if i have two screens today and try to watch a youtube video &quot;full 
</I>&gt;<i> screen&quot; (with flash), it tries to unfullscreen when my focus shifts to 
</I>&gt;<i> the other screen.
</I>&gt;<i> 
</I>&gt;<i> this isn't proper. my system should not be held hostage to the whims of 
</I>&gt;<i> providers..
</I>
On Wed, 22 Sep 2010, Nils Dagsson Moskopp wrote:
&gt;<i> 
</I>&gt;<i> With a platform like The Web, one should expect every feature provided 
</I>&gt;<i> to be misused.
</I>
On Wed, 22 Sep 2010, John Harding wrote:
&gt;<i>
</I>&gt;<i> That's Flash's behavior, not YouTube's choice - we'd love to allow 
</I>&gt;<i> fullscreen usage on one screen while focus is in another.  This is the 
</I>&gt;<i> right way to do it, though - content can* *request changes to the 
</I>&gt;<i> fullscreen state, but the User Agent is ultimately responsible for 
</I>&gt;<i> granting or denying that request, or even changing arbitrarily later on.
</I>
On Wed, 22 Sep 2010, Alex Bishop wrote:
&gt;<i> 
</I>&gt;<i> There have been previous discussions about allowing scripts to request 
</I>&gt;<i> that arbitrary content (including video elements) fill the full screen.
</I>&gt;<i> 
</I>&gt;<i> Here's one proposal:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://wiki.mozilla.org/index.php?title=Gecko:FullScreenAPI">https://wiki.mozilla.org/index.php?title=Gecko:FullScreenAPI</A>
</I>
On Wed, 22 Sep 2010, Gregg Tavares (wrk) wrote:
&gt;<i> 
</I>&gt;<i> Is this proposal not good enough? 
</I>&gt;<i> <A HREF="https://wiki.mozilla.org/index.php?title=Gecko:FullScreenAPI">https://wiki.mozilla.org/index.php?title=Gecko:FullScreenAPI</A>
</I>&gt;<i> 
</I>&gt;<i> It handles the case I think you want. I also it's also useful for other 
</I>&gt;<i> things like HTML5 games. It's also secure or at least as secure as 
</I>&gt;<i> flash. The browser will not go fullscreen without either a prompt or a 
</I>&gt;<i> mouse click.
</I>
On Thu, 23 Sep 2010, Mikko Rantalainen wrote:
&gt;<i> 
</I>&gt;<i> I think that the Gecko Fullscreen API proposal is pretty good. I'd only
</I>&gt;<i> change
</I>&gt;<i> 	void requestFullScreen(unsigned short flags)
</I>&gt;<i> to
</I>&gt;<i> 	void requestFullScreen(unsigned short flags, function callback)
</I>&gt;<i> 
</I>&gt;<i> where callback function will be asynchronously called with true or false 
</I>&gt;<i> once the UA has completed the request (true meaning the request was 
</I>&gt;<i> accepted, false meaning that request was declined). In addition, the 
</I>&gt;<i> proposal should probably suggest that request should be automatically 
</I>&gt;<i> declined in case a new identical request is raised immediately after 
</I>&gt;<i> declining previous request (denial of service attack).
</I>
On Fri, 24 Sep 2010, Robert O'Callahan wrote:
&gt;<i> 
</I>&gt;<i> In fact, there has been a lot of clear feedback that an API that only 
</I>&gt;<i> works on video elements is unlikely to get much use, since major video 
</I>&gt;<i> sites very strongly prefer to use their own player UI in fullscreen 
</I>&gt;<i> mode. And of course their own player UI consists of non-video 
</I>&gt;<i> elements...
</I>
-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>

















































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071672.html">[whatwg] Video with MIME type application/octet-stream
</A></li>
	<LI>Next message: <A HREF="029396.html">[whatwg] &lt;video&gt; resource selection algorithm and	NETWORK_NO_SOURCE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29395">[ date ]</a>
              <a href="thread.html#29395">[ thread ]</a>
              <a href="subject.html#29395">[ subject ]</a>
              <a href="author.html#29395">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
