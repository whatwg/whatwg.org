<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] CSSElementMap - updates needed for out-of-document elements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20CSSElementMap%20-%20updates%20needed%20for%20out-of-document%20elements&In-Reply-To=%3CAANLkTim2POz4AeDJGgZBzz-xuNdtF%3DuK8FbVkdnO%2BTEt%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071783.html">
   <LINK REL="Next"  HREF="029487.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] CSSElementMap - updates needed for out-of-document elements</H1>
<!--htdig_noindex-->
    <B>Tab Atkins Jr.</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20CSSElementMap%20-%20updates%20needed%20for%20out-of-document%20elements&In-Reply-To=%3CAANLkTim2POz4AeDJGgZBzz-xuNdtF%3DuK8FbVkdnO%2BTEt%40mail.gmail.com%3E"
       TITLE="[whatwg] CSSElementMap - updates needed for out-of-document elements">jackalmage at gmail.com
       </A><BR>
    <I>Thu Dec 16 16:06:28 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="071783.html">[whatwg] Onpopstate is Flawed
</A></li>
        <LI>Next message: <A HREF="029487.html">[whatwg] Handling unknown 'duration's
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29484">[ date ]</a>
              <a href="thread.html#29484">[ thread ]</a>
              <a href="subject.html#29484">[ subject ]</a>
              <a href="author.html#29484">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>The CSSElementMap object defined in
&lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/complete/dom.html#dom-document-csselementmap">http://www.whatwg.org/specs/web-apps/current-work/complete/dom.html#dom-document-csselementmap</A>&gt;
allows an author to map an element to an identifier that CSS can then
use to refer to the element.  However, it allows elements that are
outside the DOM tree to be mapped, which creates a problem for CSS -
CSS has no notion of elements outside the element-tree.

We want to preserve this ability, so authors can, for example,
generate &lt;canvas&gt; in script, map it to an identifier, and then refer
to it with the element() function to provide an animated background
for an element.

While you can put any element in the map, only a subset of them make
sense to expose to CSS while out of the DOM.  Particularly, we want to
only expose the &lt;img&gt;, &lt;video&gt;, and &lt;canvas&gt; elements, as they have an
intrinsic notion of &quot;size&quot; that doesn't rely on layout information.

So, amendments:

1. While any element can be in the CSSElementMap, only elements are
either (a) in the DOM or (b) &lt;img&gt;, &lt;video&gt;, or &lt;canvas&gt; outside the
DOM are exposed as CSS Element Reference Identifiers.

2. &lt;img&gt;, &lt;video&gt;, and &lt;canvas&gt;, while outside the DOM, expose the
intrinsic width of their content as the size of their margin box.
(The margin box of the element is used in the description for
element() to figure out how large the generated image should be.)

~TJ
</PRE>











































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071783.html">[whatwg] Onpopstate is Flawed
</A></li>
	<LI>Next message: <A HREF="029487.html">[whatwg] Handling unknown 'duration's
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29484">[ date ]</a>
              <a href="thread.html#29484">[ thread ]</a>
              <a href="subject.html#29484">[ subject ]</a>
              <a href="author.html#29484">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
