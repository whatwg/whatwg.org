<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Javascript: URLs as element attributes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Javascript%3A%20URLs%20as%20element%20attributes&In-Reply-To=%3Cop.vm01fzbksr6mfa%40kirk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029268.html">
   <LINK REL="Next"  HREF="071546.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Javascript: URLs as element attributes</H1>
<!--htdig_noindex-->
    <B>Philip J&#228;genstedt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Javascript%3A%20URLs%20as%20element%20attributes&In-Reply-To=%3Cop.vm01fzbksr6mfa%40kirk%3E"
       TITLE="[whatwg] Javascript: URLs as element attributes">philipj at opera.com
       </A><BR>
    <I>Wed Dec  1 00:49:01 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="029268.html">[whatwg] Javascript: URLs as element attributes
</A></li>
        <LI>Next message: <A HREF="071546.html">[whatwg] Javascript: URLs as element attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71542">[ date ]</a>
              <a href="thread.html#71542">[ thread ]</a>
              <a href="subject.html#71542">[ subject ]</a>
              <a href="author.html#71542">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 30 Nov 2010 22:51:28 +0100, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:

&gt;<i> On 11/30/10 2:37 PM, Darin Adler wrote:
</I>&gt;&gt;<i> In WebKit, we have treated the javascript URL scheme as a special case,  
</I>&gt;&gt;<i> with explicit code in the loader, and not handled by general purpose  
</I>&gt;&gt;<i> resource protocol machinery. Maciej Stachowiak suggested this approach,  
</I>&gt;&gt;<i> back in 2002, and one of the reasons he gave me at the time is that  
</I>&gt;&gt;<i> thought WebKit would be more likely to get the security policy right if  
</I>&gt;&gt;<i> code paths opted in to JavaScript execution rather than opting out of  
</I>&gt;&gt;<i> javascript URL scheme handling.
</I>&gt;<i>
</I>&gt;<i> Note that in Gecko, while javascript: is handled as a regular scheme,  
</I>&gt;<i> the handler for it will by default only run in a sandbox and only if the  
</I>&gt;<i> security context is known.  The security context is often not known  
</I>&gt;<i> (e.g. for &lt;img src&gt; it's not known).  And running not in a sandbox  
</I>&gt;<i> requires explicit caller opt-in.
</I>&gt;<i>
</I>&gt;<i> So the net result is pretty similar.
</I>&gt;<i>
</I>&gt;<i> But these are all implementation details.  As far as authors are  
</I>&gt;<i> concerned, javascript: is just a protocol like any other, except that  
</I>&gt;<i> trying to load it runs script.  Any deviation from this is additional  
</I>&gt;<i> complexity for authors; the further the deviation the more complexity.  
</I>&gt;<i> The question is how much complexity is warranted.
</I>
I'm not sure. As currently specified, javascript: URLs do something quite  
different in the two cases browsing contexts and inline resources. Unless  
there is actually a body of content that relies on inlnie javascript: URLs  
executing *and* won't break if sandboxed as per the spec, it's hard to see  
that we're going to create much confusion.

&gt;<i> Certainly the webkit approach of only running javascript: explicitly for  
</I>&gt;<i> frame/iframe/toplevel documents is simplest on implementors.  It'd be  
</I>&gt;<i> pretty easy to get there in Gecko; we'd just remove some code in  
</I>&gt;<i> &lt;object&gt; and change the default execution policy from &quot;sandbox&quot; to  
</I>&gt;<i> &quot;don't execute&quot;.  So I agree with Philip that for UAs this is the  
</I>&gt;<i> quickest path to convergence.  But is the result what we want for the  
</I>&gt;<i> web platform?
</I>
Given that the feature can't be made completely consistent for security  
reasons, I guess it comes down to use cases. Are there solid use cases for  
using the return values of sandboxed scripts as the content of documents,  
that aren't equally well served by the data: protocol?

-- 
Philip J&#228;genstedt
Core Developer
Opera Software

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029268.html">[whatwg] Javascript: URLs as element attributes
</A></li>
	<LI>Next message: <A HREF="071546.html">[whatwg] Javascript: URLs as element attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71542">[ date ]</a>
              <a href="thread.html#71542">[ thread ]</a>
              <a href="subject.html#71542">[ subject ]</a>
              <a href="author.html#71542">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
