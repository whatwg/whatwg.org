<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fwd: RE: Inconsistent behaviour of	globalCompositeOperation property
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fwd%3A%20RE%3A%20Inconsistent%20behaviour%20of%0A%09globalCompositeOperation%20property&In-Reply-To=%3C4D1E8124.6050408%40jumis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071865.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fwd: RE: Inconsistent behaviour of	globalCompositeOperation property</H1>
<!--htdig_noindex-->
    <B>Charles Pritchard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fwd%3A%20RE%3A%20Inconsistent%20behaviour%20of%0A%09globalCompositeOperation%20property&In-Reply-To=%3C4D1E8124.6050408%40jumis.com%3E"
       TITLE="[whatwg] Fwd: RE: Inconsistent behaviour of	globalCompositeOperation property">chuck at jumis.com
       </A><BR>
    <I>Fri Dec 31 17:19:32 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="071865.html">[whatwg] self-closing tags in html5
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29597">[ date ]</a>
              <a href="thread.html#29597">[ thread ]</a>
              <a href="subject.html#29597">[ subject ]</a>
              <a href="author.html#29597">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Implementation issues with the Drawing Model [1] have been floating 
around for some time.
For whatever reasons, Microsoft is not willing to publicly discuss their 
issue with the spec,
beyond the scant details listed below.

That's fine and all.. I'm bringing it to the WHATWG's attention because 
it seems to me
like some of the confusion could be avoided were a &quot;standard&quot; PNG photo 
available,
demonstrating proper behavior.

I thought this issue was resolved some time ago, but it keeps coming up.
I don't fault anyone, it's a very subtle part of the spec.

This reference image helped me communicate with Robert (Mozilla) last 
year, about the drawing model section.
Screen cap:
<A HREF="http://imgur.com/zUu66.png">http://imgur.com/zUu66.png</A>
Generated from:
<A HREF="https://developer.mozilla.org/en/Canvas_tutorial/Compositing">https://developer.mozilla.org/en/Canvas_tutorial/Compositing</A>
Thread:
<A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2009-December/024316.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2009-December/024316.html</A> 


There seems to still be some disagreement over composting:
<A HREF="https://bugs.webkit.org/show_bug.cgi?id=39177">https://bugs.webkit.org/show_bug.cgi?id=39177</A>

I thought we had a handle on this, following some slight changes to the 
spec by Ian:
<A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2009-October/023706.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2009-October/023706.html</A> 


Apparently it's not handled yet.

Sending out a flare, hoping that we can get this issue put to rest 
before the next round
of major releases.


-Charles

Below are the only public comments I'm aware of, that MS has posted on 
the issue:
<A HREF="http://lists.w3.org/Archives/Public/public-canvas-api/2010OctDec/0070.html">http://lists.w3.org/Archives/Public/public-canvas-api/2010OctDec/0070.html</A>
Earlier thread...
<A HREF="http://lists.w3.org/Archives/Public/public-canvas-api/2010AprJun/0046.html">http://lists.w3.org/Archives/Public/public-canvas-api/2010AprJun/0046.html</A>

These comments lack the detail necessary to provide feedback.


-------- Original Message --------
Subject: 	RE: Inconsistent behaviour of globalCompositeOperation property
Resent-Date: 	Wed, 15 Dec 2010 23:47:24 +0000
Resent-From: 	<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">public-canvas-api at w3.org</A>
Date: 	Wed, 15 Dec 2010 23:45:39 +0000
From: 	Jatinder Mann &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jmann at microsoft.com</A>&gt;
To: 	<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">public-canvas-api at w3.org</A> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">public-canvas-api at w3.org</A>&gt;



We initially felt that the Drawing Model [1], as written in the spec, 
was incorrectly defined. We have since consulted with many graphics 
experts, and it appears that the spec as written, and implemented by 
Firefox and Opera, is the correct definition of Porter-Duff and 
composition operations, and its behavior is acceptable.

Thanks,

Jatinder

[1] <A HREF="http://dev.w3.org/html5/2dcontext/#drawing-model">http://dev.w3.org/html5/2dcontext/#drawing-model</A>

Jatinder Mann | Microsoft Program Manager | <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jmann at microsoft.com</A> 
&lt;mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jmann at microsoft.com</A>&gt;

*From:*<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">public-canvas-api-request at w3.org</A> 
[mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">public-canvas-api-request at w3.org</A>] *On Behalf Of *Jatinder Mann
*Sent:* Tuesday, May 25, 2010 11:57 AM
*To:* <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">public-canvas-api at w3.org</A>
*Subject:* Inconsistent behaviour of globalCompositeOperation property

As we were reviewing the globalCompositeOperation property [1] of the 
Canvas 2D Context, we have noticed that there is a large inconsistency 
with the way web browsers implement this property.

Firefox 3.6.3 and Opera 10.5 have a similar behaviour that matches the 
current version of the Canvas 2D Context spec. Chrome 4.1 and Safari 
4.0.5 behave similarly to each other, albeit differently from the spec. 
Today, web developers cannot reliably use this property in designing 
their webpages due to this interoperability issue.

We consider that the Safari implementation of the Drawing Model makes 
more sense from a web developer point of view. Most of the Canvas APIs 
are applied to the next primitive being drawn. However, the clipping 
behavior, as defined in the current Drawing Model [2], affects the 
current contents of the Canvas outside of the current primitive being 
drawn. The Safari Drawing Model calls for the clipping region to only 
affect the current primitive being drawn.

We recommend updating the spec to match the Safari Drawing Model. We 
would like to discuss this area in more detail.

Thank you,

Jatinder

[1] <A HREF="http://dev.w3.org/html5/2dcontext/#compositing">http://dev.w3.org/html5/2dcontext/#compositing</A>

[2] <A HREF="http://dev.w3.org/html5/2dcontext/#drawing-model">http://dev.w3.org/html5/2dcontext/#drawing-model</A>

Jatinder Mann | Microsoft Program Manager | <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jmann at microsoft.com</A> 
&lt;mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jmann at microsoft.com</A>&gt;

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20101231/8bef042b/attachment-0001.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20101231/8bef042b/attachment-0001.htm</A>&gt;
</PRE>








<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071865.html">[whatwg] self-closing tags in html5
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29597">[ date ]</a>
              <a href="thread.html#29597">[ thread ]</a>
              <a href="subject.html#29597">[ subject ]</a>
              <a href="author.html#29597">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
