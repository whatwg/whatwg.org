<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal for a tab visibility API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20a%20tab%20visibility%20API&In-Reply-To=%3C4CFFE33F.9040302%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029382.html">
   <LINK REL="Next"  HREF="071673.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal for a tab visibility API</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20a%20tab%20visibility%20API&In-Reply-To=%3C4CFFE33F.9040302%40mit.edu%3E"
       TITLE="[whatwg] Proposal for a tab visibility API">bzbarsky at MIT.EDU
       </A><BR>
    <I>Wed Dec  8 11:57:51 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="029382.html">[whatwg] Proposal for a tab visibility API
</A></li>
        <LI>Next message: <A HREF="071673.html">[whatwg] Proposal for a tab visibility API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71656">[ date ]</a>
              <a href="thread.html#71656">[ thread ]</a>
              <a href="subject.html#71656">[ subject ]</a>
              <a href="author.html#71656">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 12/8/10 2:47 PM, Alex Komoroske wrote:
&gt;<i> * A page wants to detect when it is moving into or out of the
</I>&gt;<i> back-forward cache.
</I>
This is covered by pagehide/pageshow events, as you note; note that the 
bfcache visibility state has some big differences from the other 
&quot;invisible&quot; states, as currently implemented.  Maybe we should be trying 
to converge them, but I'm not convinced.

There are several issues we should keep in mind as we work on this:

1) &quot;background tab&quot; is pretty narrow.  Minimized windows, windows that
     aren't on the current desktop, etc, have all the same problems.
2)  There is some potential for abuse (e.g. putting up dialogs to make
     yourself the active tab if you determine that you aren't, though
     perhaps this is a quality of implementation issue).  I can
     particularly see things like ads doing this so you don't just
     switch to a different tab while they're running.

&gt;<i> A read-only property that returns a string, one of:
</I>&gt;<i> * &#8220;visible&#8221; : the tab is focused in its window
</I>
And certain conditions in the window, ideally; though I can see leaving 
that to a further iteration of the API.

&gt;<i> * &#8220;cache&#8221; : the tab is currently in the back-forward-cache.  Note that
</I>&gt;<i> in Mozilla&#8217;s current implementation, document.visibility would never
</I>&gt;<i> actually be &#8220;cache&#8221; because Javascript cannot execute when in the cache.
</I>
Yes, but javascript running in other windows can touch the cached JS 
objects, no?

-Boris

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029382.html">[whatwg] Proposal for a tab visibility API
</A></li>
	<LI>Next message: <A HREF="071673.html">[whatwg] Proposal for a tab visibility API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71656">[ date ]</a>
              <a href="thread.html#71656">[ thread ]</a>
              <a href="subject.html#71656">[ subject ]</a>
              <a href="author.html#71656">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
