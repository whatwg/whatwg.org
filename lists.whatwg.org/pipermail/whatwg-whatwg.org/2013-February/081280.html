<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Enabling LCD Text and antialiasing in canvas
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Enabling%20LCD%20Text%20and%20antialiasing%20in%20canvas&In-Reply-To=%3CCAOp6jLaQjFBH_42vXrvzJz5XG0N4Dm7tw4gvaL-5tUVo38POzg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081279.html">
   <LINK REL="Next"  HREF="081292.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Enabling LCD Text and antialiasing in canvas</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Enabling%20LCD%20Text%20and%20antialiasing%20in%20canvas&In-Reply-To=%3CCAOp6jLaQjFBH_42vXrvzJz5XG0N4Dm7tw4gvaL-5tUVo38POzg%40mail.gmail.com%3E"
       TITLE="[whatwg] Enabling LCD Text and antialiasing in canvas">robert at ocallahan.org
       </A><BR>
    <I>Sat Feb 23 03:48:45 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081279.html">[whatwg] Enabling LCD Text and antialiasing in canvas
</A></li>
        <LI>Next message: <A HREF="081292.html">[whatwg] Enabling LCD Text and antialiasing in canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81280">[ date ]</a>
              <a href="thread.html#81280">[ thread ]</a>
              <a href="subject.html#81280">[ subject ]</a>
              <a href="author.html#81280">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, Feb 23, 2013 at 4:59 AM, Stephen White &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">senorblanco at chromium.org</A>&gt;wrote:

&gt;<i> On Thu, Feb 21, 2013 at 7:01 PM, Rik Cabanier &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">cabanier at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On Fri, Feb 22, 2013 at 10:33 AM, Robert O'Callahan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>
</I>&gt;&gt;<i> &gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I think a fully automatic solution that tries to use subpixel AA but is
</I>&gt;&gt;&gt;<i> always able to render grayscale AA if needed is the way to go. Possibly
</I>&gt;&gt;&gt;<i> with an author hint to suggest opting into a more expensive rendering path.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> Here are the problems I see with that approach:
</I>&gt;<i>
</I>&gt;<i> 1)  In order to avoid a performance hit for existing content, it still
</I>&gt;<i> requires a spec change (the hint)
</I>&gt;<i> 2)  Even with the hint, when the author knows they want LCD AA, they still
</I>&gt;<i> incur a performance penalty of drawing to two buffers.
</I>&gt;<i> 3)  It still can't handle all cases, such as canvas -&gt; WebGL, which will
</I>&gt;<i> have to remain grayscale-only, even when the author knows it would be safe
</I>&gt;<i> for their application.
</I>&gt;<i>
</I>
I agree those are problems. All of the available options have problems.

Also, what form should this authoring hint take?  Is it going to explicitly
&gt;<i> call out LCD AA?  In that case, how is it better than an opt-in canvas
</I>&gt;<i> attribute?  If it doesn't explicitly call out LCD AA, but that's the only
</I>&gt;<i> effect it has, what should it be called?
</I>&gt;<i>
</I>
Perhaps we could use &quot;text-rendering:optimizeLegibility&quot; on the canvas
element.

I also have concerns that the knowledge of when it's safe to use the LCD AA
&gt;<i> buffer is going to spread throughout the browser codebase, even in areas
</I>&gt;<i> which currently have no knowledge of canvas, in order to handle all the
</I>&gt;<i> special cases.  This may just be an implementation detail (and may be
</I>&gt;<i> avoidable, this is TBD), but it does have the potential to introduce
</I>&gt;<i> dependencies or complicate implementation.
</I>&gt;<i>
</I>
Maybe.

Maybe I'm missing something, but if we're going down the automatic road,
&gt;<i> why do we need a new function/attribute?  Why not simply detect when a
</I>&gt;<i> canvas-sized fillRect() has been performed with an opaque fillStyle?  This
</I>&gt;<i> would also allow optimization of existing content.
</I>

I agree.

Rob
-- 
Wrfhf pnyyrq gurz gbtrgure naq fnvq, &#8220;Lbh xabj gung gur ehyref bs gur
Tragvyrf ybeq vg bire gurz, naq gurve uvtu bssvpvnyf rkrepvfr nhgubevgl
bire gurz. Abg fb jvgu lbh. Vafgrnq, jubrire jnagf gb orpbzr terng nzbat
lbh zhfg or lbhe freinag, naq jubrire jnagf gb or svefg zhfg or lbhe fynir
&#8212; whfg nf gur Fba bs Zna qvq abg pbzr gb or freirq, ohg gb freir, naq gb
tvir uvf yvsr nf n enafbz sbe znal.&#8221; [Znggurj 20:25-28]

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081279.html">[whatwg] Enabling LCD Text and antialiasing in canvas
</A></li>
	<LI>Next message: <A HREF="081292.html">[whatwg] Enabling LCD Text and antialiasing in canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81280">[ date ]</a>
              <a href="thread.html#81280">[ thread ]</a>
              <a href="subject.html#81280">[ subject ]</a>
              <a href="author.html#81280">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
