<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas: Fonts in workers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%3A%20Fonts%20in%20workers&In-Reply-To=%3CCA%2Bc2ei9hd6htE6-3%3D-nmtqf8MGSJUD%2BhiewQA%2BOawQVp%2BLYEmg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038987.html">
   <LINK REL="Next"  HREF="081265.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas: Fonts in workers</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%3A%20Fonts%20in%20workers&In-Reply-To=%3CCA%2Bc2ei9hd6htE6-3%3D-nmtqf8MGSJUD%2BhiewQA%2BOawQVp%2BLYEmg%40mail.gmail.com%3E"
       TITLE="[whatwg] Canvas: Fonts in workers">jonas at sicking.cc
       </A><BR>
    <I>Wed Feb 20 21:47:43 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="038987.html">[whatwg] Canvas: Fonts in workers
</A></li>
        <LI>Next message: <A HREF="081265.html">[whatwg] Canvas: Fonts in workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81264">[ date ]</a>
              <a href="thread.html#81264">[ thread ]</a>
              <a href="subject.html#81264">[ subject ]</a>
              <a href="author.html#81264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Feb 20, 2013 at 2:55 AM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at annevk.nl</A>&gt; wrote:
&gt;<i> I think currently the specification assumes FontLoader is the solution
</I>&gt;<i> to fonts in workers. However, 1) FontLoader as currently designed does
</I>&gt;<i> not work in workers. 2) Even if slightly modified it would not work in
</I>&gt;<i> shared workers as FontLoader is pretty much tied to the document that
</I>&gt;<i> has the relevant @font-face declarations. I don't really have a good
</I>&gt;<i> solution to this problem.
</I>
In general, we need to define which fonts are available to use when
drawing text into a canvas in a worker. For a dedicated worker we
could say that it's the same set as is available in the document,
except that that set can change at any time as new fonts are loaded.
And for a shared worker this is even more complicated since multiple
documents, with different sets of fonts, can be connected to the same
shared worker.

We could possibly still use the the FontLoader interface if we do the following:
* FontLoader needs to drop the dependency on CSSFontFaceRule (or at
least make the dependency optional and not available in workers).
* We'll expose a global FontLoader object per worker scope.
* The worker can't use any downloaded fonts other than the ones loaded
through the global FontLoader for that scope.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038987.html">[whatwg] Canvas: Fonts in workers
</A></li>
	<LI>Next message: <A HREF="081265.html">[whatwg] Canvas: Fonts in workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81264">[ date ]</a>
              <a href="thread.html#81264">[ thread ]</a>
              <a href="subject.html#81264">[ subject ]</a>
              <a href="author.html#81264">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
