<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Assigning media resources represented as DOM objects to a media element
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Assigning%20media%20resources%20represented%20as%20DOM%20objects%0A%20to%20a%20media%20element&In-Reply-To=%3CCAOp6jLZhBfchM1zzrfYWvifoYicVQ1kOYdE4EEA%2BzW_jrQ-Jzg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081236.html">
   <LINK REL="Next"  HREF="081249.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Assigning media resources represented as DOM objects to a media element</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Assigning%20media%20resources%20represented%20as%20DOM%20objects%0A%20to%20a%20media%20element&In-Reply-To=%3CCAOp6jLZhBfchM1zzrfYWvifoYicVQ1kOYdE4EEA%2BzW_jrQ-Jzg%40mail.gmail.com%3E"
       TITLE="[whatwg] Assigning media resources represented as DOM objects to a media element">robert at ocallahan.org
       </A><BR>
    <I>Sun Feb 17 13:25:51 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081236.html">[whatwg] Assigning media resources represented as DOM objects to a media element
</A></li>
        <LI>Next message: <A HREF="081249.html">[whatwg] Assigning media resources represented as DOM objects to a media element
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81244">[ date ]</a>
              <a href="thread.html#81244">[ thread ]</a>
              <a href="subject.html#81244">[ subject ]</a>
              <a href="author.html#81244">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sun, Feb 17, 2013 at 8:43 AM, Glenn Maynard &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">glenn at zewt.org</A>&gt; wrote:

&gt;<i> On Fri, Feb 15, 2013 at 2:10 PM, Robert O'Callahan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;<i> Even if you get past that, you still have the problem that revoked URLs
</I>&gt;&gt;<i> are useless. It's impossible to do something equivalent to video2.src =
</I>&gt;&gt;<i> video1.src (which works today).
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> True, though cloneNode() should definitely work.  On the other hand,
</I>&gt;<i> .innerHTML works with blob URLs if the URL is still in scope, but would
</I>&gt;<i> never work here (not something I use often, but I guess some people still
</I>&gt;<i> do).
</I>&gt;<i>
</I>
cloneNode() won't work for autorevoked URLs, because it is defined to only
clone attributes and children, not internal state (with a few exceptions
for Web compatibility). (Don't tell me that it shouldn't work that way; I
argued that long ago and lost :-).) innerHTML-based cloning would work in
the same cases cloneNode() would: i.e. not at all for autorevoked URLs or
srcObject.


&gt;<i>  Also, getting access to the underlying source object is a valuable
</I>&gt;&gt;<i> feature, especially for MediaStream and MediaSource objects which have
</I>&gt;&gt;<i> interesting APIs on them.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I don't know anything about those, but you can always stash a reference to
</I>&gt;<i> an object on the img, even if img doesn't care about it.  &quot;img.src =
</I>&gt;<i> URL.createBlobURL(blob); img.xActualBlob = blob;&quot;  It's not as nice as
</I>&gt;<i> having them tied together, but it's not terrible.
</I>&gt;<i>
</I>
Yes, you can work around not having an API for this, if you control both
the setting and the getting. It's still a workaround.

I think the stakes are not that high here. Lack of srcObject can be worked
around in most cases. On the other hand adding srcObject is not a big
burden --- I don't think it needs to be added to every resource-loading
element. It's useful for media elements, maybe &lt;img&gt;, and dubiously
&lt;iframe&gt; (all of which already have multiple ways to specify the resource
to load).

Rob
-- 
Wrfhf pnyyrq gurz gbtrgure naq fnvq, &#8220;Lbh xabj gung gur ehyref bs gur
Tragvyrf ybeq vg bire gurz, naq gurve uvtu bssvpvnyf rkrepvfr nhgubevgl
bire gurz. Abg fb jvgu lbh. Vafgrnq, jubrire jnagf gb orpbzr terng nzbat
lbh zhfg or lbhe freinag, naq jubrire jnagf gb or svefg zhfg or lbhe fynir
&#8212; whfg nf gur Fba bs Zna qvq abg pbzr gb or freirq, ohg gb freir, naq gb
tvir uvf yvsr nf n enafbz sbe znal.&#8221; [Znggurj 20:25-28]

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081236.html">[whatwg] Assigning media resources represented as DOM objects to a media element
</A></li>
	<LI>Next message: <A HREF="081249.html">[whatwg] Assigning media resources represented as DOM objects to a media element
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81244">[ date ]</a>
              <a href="thread.html#81244">[ thread ]</a>
              <a href="subject.html#81244">[ subject ]</a>
              <a href="author.html#81244">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
