<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Assigning media resources represented as DOM objects to a media element
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Assigning%20media%20resources%20represented%20as%20DOM%20objects%0A%20to%20a%20media%20element&In-Reply-To=%3CCABirCh-FcD1fP%2B%3Dk4RUFAKa3CvvH582rvZLpe8gLM4sOepMAfA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081243.html">
   <LINK REL="Next"  HREF="081232.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Assigning media resources represented as DOM objects to a media element</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Assigning%20media%20resources%20represented%20as%20DOM%20objects%0A%20to%20a%20media%20element&In-Reply-To=%3CCABirCh-FcD1fP%2B%3Dk4RUFAKa3CvvH582rvZLpe8gLM4sOepMAfA%40mail.gmail.com%3E"
       TITLE="[whatwg] Assigning media resources represented as DOM objects to a media element">glenn at zewt.org
       </A><BR>
    <I>Fri Feb 15 06:46:02 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081243.html">[whatwg] Assigning media resources represented as DOM objects to a media element
</A></li>
        <LI>Next message: <A HREF="081232.html">[whatwg] Assigning media resources represented as DOM objects to a media element
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81226">[ date ]</a>
              <a href="thread.html#81226">[ thread ]</a>
              <a href="subject.html#81226">[ subject ]</a>
              <a href="author.html#81226">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Jan 22, 2013 at 9:19 PM, Robert O'Callahan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt;wrote:

&gt;<i> Currently the only way to use one of these objects as the source of a media
</I>&gt;<i> element is via &quot;element.src = URL.createObjectURL(object)&quot;. This is
</I>&gt;<i> problematic because the URLs minted by createObjectURL require manual
</I>&gt;<i> revocation. (Forms of auto-revocation have been proposed but a) they seem
</I>&gt;<i> difficult to spec in a rational way and b) we will not be able to make
</I>&gt;<i> auto-revocation the default.)
</I>

a) This isn't the case.  The tricky bit was defining precisely when
autorevocation happens; this has been resolved (the &quot;global script clean-up
jobs list&quot;).  There's a remaining piece (
<A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=17765">https://www.w3.org/Bugs/Public/show_bug.cgi?id=17765</A>), but while it'll take
some thought to do that in a clean way (so it can be applied to different
APIs concisely), there's nothing magic there.
b) Even if we can't make it the default, there are much cleaner solutions
than bloating other APIs.  For example, a separate method can default to
auto-revoke, so you can say eg. img.src = blob.createRevokingURL().  I
don't like adding APIs that are just copies of other APIs with different
defaults, but it's much less evil than adding a whole separate mechanism.
In any case, explicitly saying img.src = URL.createObjectURL(blob,
{autoRevoke: true}) isn't actually that painful.

-- 
Glenn Maynard

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081243.html">[whatwg] Assigning media resources represented as DOM objects to a media element
</A></li>
	<LI>Next message: <A HREF="081232.html">[whatwg] Assigning media resources represented as DOM objects to a media element
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81226">[ date ]</a>
              <a href="thread.html#81226">[ thread ]</a>
              <a href="subject.html#81226">[ subject ]</a>
              <a href="author.html#81226">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
