<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Adding the imageSmoothingEnabled back into 2dContext Level 2 spec.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Adding%20the%20imageSmoothingEnabled%20back%20into%202dContext%0A%20Level%202%20spec.&In-Reply-To=%3CCAABs73jN6KOmtgb%3DaLuY%3D8mzP2PG7PR3drOHQqpLT%2Bq6FtSVzg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038873.html">
   <LINK REL="Next"  HREF="081170.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Adding the imageSmoothingEnabled back into 2dContext Level 2 spec.</H1>
<!--htdig_noindex-->
    <B>Ashley Gullen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Adding%20the%20imageSmoothingEnabled%20back%20into%202dContext%0A%20Level%202%20spec.&In-Reply-To=%3CCAABs73jN6KOmtgb%3DaLuY%3D8mzP2PG7PR3drOHQqpLT%2Bq6FtSVzg%40mail.gmail.com%3E"
       TITLE="[whatwg] Adding the imageSmoothingEnabled back into 2dContext Level 2 spec.">ashley at scirra.com
       </A><BR>
    <I>Mon Feb 11 12:30:39 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="038873.html">[whatwg] Adding the imageSmoothingEnabled back into 2dContext	Level 2 spec.
</A></li>
        <LI>Next message: <A HREF="081170.html">[whatwg] Adding the imageSmoothingEnabled back into 2dContext Level 2 spec.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81158">[ date ]</a>
              <a href="thread.html#81158">[ thread ]</a>
              <a href="subject.html#81158">[ subject ]</a>
              <a href="author.html#81158">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I would re-emphasise this is important for many game applications.  Here's
an image showing the effect it can have from a recent blog post I wrote:
<A HREF="https://www.scirra.com/images/sampling-point-linear.png">https://www.scirra.com/images/sampling-point-linear.png</A>
For a game in this style it is essential to be able to force
nearest-neighbour.  Games in that &quot;retro&quot; style are often unplayable
because they look so awful if they get bilinear interpolation forced on
them.  On the other hand, modern hi-res style games which intend to use
bilinear interpolation only look marginally worse if they get
nearest-neighbour.  So I think the existing spec was fine as it was:
imageSmoothingEnabled = false means &quot;require nearest-neighbour
interpolation&quot;, imageSmoothingEnabled = true means &quot;any smoothing
algorithm, or nearest-neighbour&quot;.

I would also emphasise this should definitely also apply to patterns, for
the same reason: games are likely to use a pattern to render tiles, and
those should be rendered with the same interpolation as everything else.

Ashley



On 8 February 2013 12:25, Rik Cabanier &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">cabanier at gmail.com</A>&gt; wrote:

&gt;<i> I agree we should bring it back.
</I>&gt;<i>
</I>&gt;<i> Personally, it would be nice that have a more formal definition of what
</I>&gt;<i> smoothing actually means so user agents can implement it similarly.
</I>&gt;<i>
</I>&gt;<i> Rik
</I>&gt;<i>
</I>&gt;<i> On Tue, Feb 5, 2013 at 7:14 AM, Jay Munro &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jaymunro at microsoft.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; For CR, we took the imageSmoothingEnable feature out because it hadn't
</I>&gt;<i> &gt; been given a chance to be discussed by the working group. For level 2,
</I>&gt;<i> I'm
</I>&gt;<i> &gt; adding it back in, but asking for any discussion that needs to be made
</I>&gt;<i> &gt; first.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Silence will be taken to mean there is no objection, but positive
</I>&gt;<i> &gt; responses are encouraged.  If I don't hear any objections by Monday Feb
</I>&gt;<i> 11,
</I>&gt;<i> &gt; I'll check it in.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The following is the pending check in:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; @@ -40677,6 +40677,10 @@ dictionary &lt;dfn&gt;TrackEventInit&lt;/dfn&gt; :
</I>&gt;<i> &gt; &lt;span&gt;EventInit&lt;/span&gt; {
</I>&gt;<i> &gt;    // compositing
</I>&gt;<i> &gt;             attribute unrestricted double &lt;span
</I>&gt;<i> &gt; title=&quot;dom-context-2d-globalAlpha&quot;&gt;globalAlpha&lt;/span&gt;; // (default 1.0)
</I>&gt;<i> &gt;             attribute DOMString &lt;span
</I>&gt;<i> &gt;
</I>&gt;<i> title=&quot;dom-context-2d-globalCompositeOperation&quot;&gt;globalCompositeOperation&lt;/span&gt;;
</I>&gt;<i> &gt; // (default source-over)
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt; +  // image smoothing
</I>&gt;<i> &gt; +           attribute boolean &lt;span
</I>&gt;<i> &gt;
</I>&gt;<i> title=&quot;dom-context-2d-imageSmoothingEnabled&quot;&gt;imageSmoothingEnabled&lt;/span&gt;;
</I>&gt;<i> &gt; // (default true)
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt;  &lt;!--
</I>&gt;<i> &gt;    // v7 we've also received requests for:
</I>&gt;<i> &gt;    - turning off antialiasing to avoid seams when patterns are painted
</I>&gt;<i> &gt; next to each other
</I>&gt;<i> &gt; @@ -40945,7 +40949,8 @@ interface &lt;dfn&gt;Path&lt;/dfn&gt; {
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> title=&quot;dom-context-2d-globalCompositeOperation&quot;&gt;globalCompositeOperation&lt;/code&gt;,
</I>&gt;<i> &gt; &lt;code
</I>&gt;<i> &gt;     title=&quot;dom-context-2d-font&quot;&gt;font&lt;/code&gt;, &lt;code
</I>&gt;<i> &gt;     title=&quot;dom-context-2d-textAlign&quot;&gt;textAlign&lt;/code&gt;, &lt;code
</I>&gt;<i> &gt; -   title=&quot;dom-context-2d-textBaseline&quot;&gt;textBaseline&lt;/code&gt;.&lt;/li&gt;
</I>&gt;<i> &gt; +   title=&quot;dom-context-2d-textBaseline&quot;&gt;textBaseline&lt;/code&gt;, &lt;code
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt;
</I>&gt;<i> title=&quot;dom-context-2d-imageSmoothingEnabled&quot;&gt;imageSmoothingEnabled&lt;/code&gt;.&lt;/li&gt;
</I>&gt;<i> &gt;    &lt;/ul&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;current default path&lt;/span&gt; and the
</I>&gt;<i> &gt; @@ -43416,10 +43421,16 @@ try {
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    &lt;p&gt;If the original image data is a bitmap image, the value painted
</I>&gt;<i> &gt;    at a point in the area of the repetitions is computed by filtering
</I>&gt;<i> &gt; -  the original image data. The user agent may use any filtering
</I>&gt;<i> &gt; +  the original image data. If the &lt;code
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt;
</I>&gt;<i>  title=&quot;dom-context-2d-imageSmoothingEnabled&quot;&gt;imageSmoothingEnabled&lt;/code&gt;
</I>&gt;<i> &gt; +  then the user agent may use any filtering
</I>&gt;<i> &gt;    algorithm (for example bilinear interpolation or nearest-neighbor).
</I>&gt;<i> &gt; -  When the filtering algorithm requires a pixel value from outside the
</I>&gt;<i> &gt; -  original image data, it must instead use the value from wrapping the
</I>&gt;<i> &gt; +  If the &lt;code
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt;
</I>&gt;<i>  title=&quot;dom-context-2d-imageSmoothingEnabled&quot;&gt;imageSmoothingEnabled&lt;/code&gt;
</I>&gt;<i> &gt; +  attribute is set to false, the image must be rendered using
</I>&gt;<i> &gt; +  nearest-neighbor interpolation. When such the filtering algorithm
</I>&gt;<i> &gt; +  requires a pixel value from outside the original image data, it
</I>&gt;<i> &gt; +  must instead use the value from wrapping the
</I>&gt;<i> &gt;    pixel's coordinates to the original image's dimensions. (That is,
</I>&gt;<i> &gt;    the filter uses 'repeat' behavior, regardless of the value of
</I>&gt;<i> &gt;    &lt;var title=&quot;&quot;&gt;repetition&lt;/var&gt;.)
</I>&gt;<i> &gt; @@ -44539,6 +44550,18 @@ v6DVT (also check for '- -' bits in the part
</I>&gt;<i> &gt; above) --&gt;
</I>&gt;<i> &gt;    &lt;p class=&quot;note&quot;&gt;This specification does not define the algorithm to
</I>&gt;<i> &gt;    use when scaling the image, if necessary.&lt;/p&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; +  &lt;p&gt;If the &lt;code
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt;
</I>&gt;<i>  title=&quot;dom-context-2d-imageSmoothingEnabled&quot;&gt;imageSmoothingEnabled&lt;/code&gt;
</I>&gt;<i> &gt; +  attribute is set to true, then the user agent should attempt to
</I>&gt;<i> &gt; +  apply a smoothing algorithm to the image data when it is scaled.
</I>&gt;<i> &gt; +  Otherwise, the image must be rendered using nearest-neighbor
</I>&gt;<i> &gt; +  interpolation.&lt;/p&gt;
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt; +  &lt;p class=&quot;note&quot;&gt;This specification does not define the precise
</I>&gt;<i> &gt; +  algorithm to use when scaling an image when the &lt;code
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt;
</I>&gt;<i>  title=&quot;dom-context-2d-imageSmoothingEnabled&quot;&gt;imageSmoothingEnabled&lt;/code&gt;
</I>&gt;<i> &gt; +  attribute is set to true.&lt;/p&gt;
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt;    &lt;p class=&quot;note&quot;&gt;When a canvas is drawn onto itself, the &lt;span&gt;drawing
</I>&gt;<i> &gt;    model&lt;/span&gt; requires the source to be copied before the image is
</I>&gt;<i> drawn
</I>&gt;<i> &gt;    back onto the canvas, so it is possible to copy parts of a canvas
</I>&gt;<i> &gt; @@ -46040,6 +46063,36 @@ function AddCloud(data, x, y) { ... }&lt;/pre&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    &lt;/div&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; +  &lt;h6&gt;Image smoothing&lt;/h6&gt;
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt; +  &lt;dl class=&quot;domintro&quot;&gt;
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt; +   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;context&lt;/var&gt; . &lt;code
</I>&gt;<i> &gt;
</I>&gt;<i> title=&quot;dom-context-2d-imageSmoothingEnabled&quot;&gt;imageSmoothingEnabled&lt;/code&gt; [
</I>&gt;<i> &gt; = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt; +   &lt;dd&gt;
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt; +    &lt;p&gt;Returns whether pattern fills and the &lt;code
</I>&gt;<i> &gt; +    title=&quot;dom-context-2d-drawImage&quot;&gt;drawImage()&lt;/code&gt; method will
</I>&gt;<i> &gt; +    attempt to smooth images if they have to rescale them (as opposed
</I>&gt;<i> &gt; +    to just rendering the images with &quot;big pixels&quot;).&lt;/p&gt;
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt; +    &lt;p&gt;Can be set, to change whether images are smoothed (true) or not
</I>&gt;<i> &gt; +    (false).&lt;/p&gt;
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt; +   &lt;/dd&gt;
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt; +  &lt;/dl&gt;
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt; +  &lt;div class=&quot;impl&quot;&gt;
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt; +  &lt;p&gt;The &lt;dfn
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt;
</I>&gt;<i>  title=&quot;dom-context-2d-imageSmoothingEnabled&quot;&gt;&lt;code&gt;imageSmoothingEnabled&lt;/code&gt;&lt;/dfn&gt;
</I>&gt;<i> &gt; +  attribute, on getting, must return the last value it was set to. On
</I>&gt;<i> &gt; +  setting, it must be set to the new value. When the
</I>&gt;<i> &gt; +  &lt;code&gt;CanvasRenderingContext2D&lt;/code&gt; object is created, the
</I>&gt;<i> &gt; +  attribute must be set to true.&lt;/p&gt;
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt; +  &lt;/div&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038873.html">[whatwg] Adding the imageSmoothingEnabled back into 2dContext	Level 2 spec.
</A></li>
	<LI>Next message: <A HREF="081170.html">[whatwg] Adding the imageSmoothingEnabled back into 2dContext Level 2 spec.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81158">[ date ]</a>
              <a href="thread.html#81158">[ thread ]</a>
              <a href="subject.html#81158">[ subject ]</a>
              <a href="author.html#81158">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
