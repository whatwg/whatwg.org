<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Notifications: in workers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Notifications%3A%20in%20workers&In-Reply-To=%3CCADnb78jrWbbDoeSVCd8yR%3DKRHc_ZAM1QwiGugi1XkUX2AM-nsw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081848.html">
   <LINK REL="Next"  HREF="081860.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Notifications: in workers</H1>
<!--htdig_noindex-->
    <B>Anne van Kesteren</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Notifications%3A%20in%20workers&In-Reply-To=%3CCADnb78jrWbbDoeSVCd8yR%3DKRHc_ZAM1QwiGugi1XkUX2AM-nsw%40mail.gmail.com%3E"
       TITLE="[whatwg] Notifications: in workers">annevk at annevk.nl
       </A><BR>
    <I>Tue May 14 12:19:36 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081848.html">[whatwg] Notifications: in workers
</A></li>
        <LI>Next message: <A HREF="081860.html">[whatwg] Notifications: in workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81851">[ date ]</a>
              <a href="thread.html#81851">[ thread ]</a>
              <a href="subject.html#81851">[ subject ]</a>
              <a href="author.html#81851">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, May 14, 2013 at 8:51 AM, Andrew Wilson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">atwilson at google.com</A>&gt; wrote:
&gt;<i> On Sun, Mar 31, 2013 at 4:40 PM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at annevk.nl</A>&gt; wrote:
</I>&gt;&gt;<i> This seems problematic for shared workers as it is not clear which
</I>&gt;&gt;<i> window the notification would be for. For normal workers this seems
</I>&gt;&gt;<i> like less of a concern.
</I>&gt;<i>
</I>&gt;<i> Not sure what you mean - why does it matter which window the notification is
</I>&gt;<i> for? Maybe this is only important for the permission prompt, but not for the
</I>&gt;<i> notifications themselves which live outside any specific window?
</I>
Chrome currently does not seem to do any of this particularly well,
but when you click a notification from say the notification center
there should be some &quot;going to the relevant site&quot; going on. E.g. via
focusing a particular browsing context that spawned the notification.

We also want to enhance the API to support the scenario of the site
being closed but the notification still being alive, with the
notification being able to revive the site in some way and the site
being aware which notification was clicked (note that currently it
would no longer have a reference to that object).


&gt;&gt;<i> If we go with the idea of exposing a URL on Notification objects and
</I>&gt;&gt;<i> allow that to be set we might be able to address the shared worker
</I>&gt;&gt;<i> issue, but it is not entirely clear to me which semantics are
</I>&gt;&gt;<i> desirable there.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Maybe if we made it a URL prefix it could work. E.g. you create a
</I>&gt;&gt;<i> notification with a URL <A HREF="http://example.org/mail/">http://example.org/mail/</A> If that origin is
</I>&gt;&gt;<i> allowed to display notifications that will all go well.
</I>&gt;<i>
</I>&gt;<i> SharedWorkers already have an inherent domain, inherited from their creating
</I>&gt;<i> documents, correct? Why would we need to specify one when creating
</I>&gt;<i> notifications?
</I>
Trying to brain storm as to what should be done when you click a
notification of a site that is no longer there. Navigating to a URL
was one idea. Starting up an event worker as outlined (roughly) in
<A HREF="http://annevankesteren.nl/2013/05/applifying">http://annevankesteren.nl/2013/05/applifying</A> might be a better idea.


&gt;<i> Not sure what you mean - are you expecting clicks on a notification to focus
</I>&gt;<i> the initiating window (I don't see this behavior described in the
</I>&gt;<i> notification spec)? Typically, this would be done via an onclick() handler,
</I>&gt;<i> so in that case it would be up to the SharedWorker to proxy that event to a
</I>&gt;<i> window if it wanted to focus one and not something the browser itself would
</I>&gt;<i> do.
</I>
Yeah, that's currently not described. You think we should leave that
to developers? That might work, although that leaves the questions
about the site being closed.


&gt;<i> I feel like I'm misunderstanding the proposal though - sorry if I'm missing
</I>&gt;<i> some context here.
</I>
No worries, your input is much appreciated :-)


--
<A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081848.html">[whatwg] Notifications: in workers
</A></li>
	<LI>Next message: <A HREF="081860.html">[whatwg] Notifications: in workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81851">[ date ]</a>
              <a href="thread.html#81851">[ thread ]</a>
              <a href="subject.html#81851">[ subject ]</a>
              <a href="author.html#81851">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
