<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Notifications: in workers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Notifications%3A%20in%20workers&In-Reply-To=%3CCAArhhisXs7JLLunDH2Kp%2BPQPusv4wFPf7nBpFVm5vhjzf9OKwA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039558.html">
   <LINK REL="Next"  HREF="081851.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Notifications: in workers</H1>
<!--htdig_noindex-->
    <B>Andrew Wilson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Notifications%3A%20in%20workers&In-Reply-To=%3CCAArhhisXs7JLLunDH2Kp%2BPQPusv4wFPf7nBpFVm5vhjzf9OKwA%40mail.gmail.com%3E"
       TITLE="[whatwg] Notifications: in workers">atwilson at google.com
       </A><BR>
    <I>Tue May 14 08:51:15 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="039558.html">[whatwg] Notifications: in workers
</A></li>
        <LI>Next message: <A HREF="081851.html">[whatwg] Notifications: in workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81848">[ date ]</a>
              <a href="thread.html#81848">[ thread ]</a>
              <a href="subject.html#81848">[ subject ]</a>
              <a href="author.html#81848">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Sorry, missed this the first time through:


On Sun, Mar 31, 2013 at 4:40 PM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at annevk.nl</A>&gt; wrote:

&gt;<i> There is some interest in exposing Notification objects in a worker so
</I>&gt;<i> creating one does not require a postMessage() roundtrip.
</I>&gt;<i>
</I>&gt;<i> This seems problematic for shared workers as it is not clear which
</I>&gt;<i> window the notification would be for. For normal workers this seems
</I>&gt;<i> like less of a concern.
</I>&gt;<i>
</I>
Not sure what you mean - why does it matter which window the notification
is for? Maybe this is only important for the permission prompt, but not for
the notifications themselves which live outside any specific window?


&gt;<i>
</I>&gt;<i> If we go with the idea of exposing a URL on Notification objects and
</I>&gt;<i> allow that to be set we might be able to address the shared worker
</I>&gt;<i> issue, but it is not entirely clear to me which semantics are
</I>&gt;<i> desirable there.
</I>&gt;<i>
</I>&gt;<i> Maybe if we made it a URL prefix it could work. E.g. you create a
</I>&gt;<i> notification with a URL <A HREF="http://example.org/mail/">http://example.org/mail/</A> If that origin is
</I>&gt;<i> allowed to display notifications that will all go well.
</I>

SharedWorkers already have an inherent domain, inherited from their
creating documents, correct? Why would we need to specify one when creating
notifications?


&gt;<i> If there's a
</I>&gt;<i> window open with that URL as prefix it can be focused once the user
</I>&gt;<i> activates the notification. If there's no window open a window can be
</I>&gt;<i> opened with that URL (no longer a prefix in this scenario). However,
</I>&gt;<i> if there's several windows with that URL it's not clear what the best
</I>&gt;<i> way would be. The last window the user interacted with maybe?
</I>&gt;<i>
</I>&gt;<i>
</I>Not sure what you mean - are you expecting clicks on a notification to
focus the initiating window (I don't see this behavior described in the
notification spec)? Typically, this would be done via an onclick() handler,
so in that case it would be up to the SharedWorker to proxy that event to a
window if it wanted to focus one and not something the browser itself would
do.

I feel like I'm misunderstanding the proposal though - sorry if I'm missing
some context here.


&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> <A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039558.html">[whatwg] Notifications: in workers
</A></li>
	<LI>Next message: <A HREF="081851.html">[whatwg] Notifications: in workers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81848">[ date ]</a>
              <a href="thread.html#81848">[ thread ]</a>
              <a href="subject.html#81848">[ subject ]</a>
              <a href="author.html#81848">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
