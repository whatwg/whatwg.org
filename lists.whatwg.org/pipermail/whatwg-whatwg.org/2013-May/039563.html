<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposing: &quot;autoscroll&quot; event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposing%3A%20%22autoscroll%22%20event&In-Reply-To=%3C8F5CCA07-8F52-4B2D-8C4F-1E1700C6E822%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081901.html">
   <LINK REL="Next"  HREF="081840.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposing: &quot;autoscroll&quot; event</H1>
<!--htdig_noindex-->
    <B>Kyle Simpson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposing%3A%20%22autoscroll%22%20event&In-Reply-To=%3C8F5CCA07-8F52-4B2D-8C4F-1E1700C6E822%40gmail.com%3E"
       TITLE="[whatwg] Proposing: &quot;autoscroll&quot; event">getify at gmail.com
       </A><BR>
    <I>Mon May 13 19:53:47 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081901.html">[whatwg] Spec ambiguity and Firefox bug for newlines following&lt;pre&gt; and &lt;textarea&gt;
</A></li>
        <LI>Next message: <A HREF="081840.html">[whatwg] Proposing: &quot;autoscroll&quot; event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39563">[ date ]</a>
              <a href="thread.html#39563">[ thread ]</a>
              <a href="subject.html#39563">[ subject ]</a>
              <a href="author.html#39563">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Increasingly, sites are doing client-side rendering at page load time, which is breaking the (useful) functionality of being able to have a #hash on a URL that auto-scrolls the page to make some element visible after page-load.

A perfect example of this problem is that most #hash URLs (as far as scrolling) are broken on gist.github and github when viewed in recent Firefox.

<A HREF="https://gist.github.com/getify/5558974">https://gist.github.com/getify/5558974</A>

I am proposing that the browser throw a JS event right before it's about to try an auto-scroll to an element with the #id of the #hash in the URL (during a page's initial loading), called for instance &quot;autoscroll&quot;. The purpose of this event is to simplify how a web app can detect and respond to a URL having a #hash on it that would normally create a scrolling behavior, even if the element isn't yet rendered for the window to scroll to. That gist shows how you could listen for the event, and store for later use which target-ID was going to be scrolled to, and manually scroll to it at a later time.

If you have an app that does client-side rendering where it can break auto-scrolling, but you want it to work properly, you can of course manually inspect the URL for a #hash at any point, but it's a bit awkward, especially if you are already relying entirely on event-driven architecture in the app, and you want to just detect and respond to events. This &quot;autoscroll&quot; event will normalize that handling.

Notice the polyfill code in the above gist shows that you can obviously detect it yourself, but it's awkward, and would be nice if it were just built-in.

Additionally, having it be a built-in event would allow an app to prevent the browser from doing unwanted auto-scrolling in a very simple and natural way, by just trapping the event and calling `preventDefault()`. Currently, there's not really a clean way to accomplish that, if you needed to.



--Kyle


</PRE>













<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081901.html">[whatwg] Spec ambiguity and Firefox bug for newlines following&lt;pre&gt; and &lt;textarea&gt;
</A></li>
	<LI>Next message: <A HREF="081840.html">[whatwg] Proposing: &quot;autoscroll&quot; event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39563">[ date ]</a>
              <a href="thread.html#39563">[ thread ]</a>
              <a href="subject.html#39563">[ subject ]</a>
              <a href="author.html#39563">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
