<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fetch: please review! (Anne van Kesteren)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fetch%3A%20please%20review%21%20%28Anne%20van%20Kesteren%29&In-Reply-To=%3CCAN3noj0FJtHXkfumXZpvMhMyDb-G_0Cn%3DqxkMfmD5Ce6-LpEGw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081880.html">
   <LINK REL="Next"  HREF="081886.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fetch: please review! (Anne van Kesteren)</H1>
<!--htdig_noindex-->
    <B>alonisser</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fetch%3A%20please%20review%21%20%28Anne%20van%20Kesteren%29&In-Reply-To=%3CCAN3noj0FJtHXkfumXZpvMhMyDb-G_0Cn%3DqxkMfmD5Ce6-LpEGw%40mail.gmail.com%3E"
       TITLE="[whatwg] Fetch: please review! (Anne van Kesteren)">alon at noal.org.il
       </A><BR>
    <I>Fri May 24 07:46:11 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081880.html">[whatwg] Inert nodes and element.click()
</A></li>
        <LI>Next message: <A HREF="081886.html">[whatwg] Fetch: please review! (Anne van Kesteren)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39612">[ date ]</a>
              <a href="thread.html#39612">[ thread ]</a>
              <a href="subject.html#39612">[ subject ]</a>
              <a href="author.html#39612">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>some input (I know, I'm a newbie in this mailing list so maybe i'm stating
or asking the obvious, atleast for everyone else):

   1. for clarity: The legacy chapter should be near the end and not the
   first chapter, I couldn't understand most of it because it uses terminology
   from the Fetch Standard, explained later.
   2.  What is the purpose of fetch standard?  replacing http/html
   requests? something else? yes I read:

   To unify fetching across the web platform this specification supplants a
   number of algorithms and specifications:

   but I'm not sure what does that means. since this is a big change,
    changing the way tjhat all clients and web servers work (maybe this is why
   the legacy part is so early in the doc? because almost all the web is
   legacy?)

   looks to me like something that could be breaking the web (xhtml 2.0
   anyone) And I'm not sure for what benefit? some new url schemes? a more
   correct and rational http fetch behavior? we already got used the the
   current behavior. changing this should come with a very good reason. if
   anything. The rational for &quot;Fetch&quot; should come before anything else.

Thanks for the chance to input on this
Alon Nisser



On Wed, May 22, 2013 at 10:06 PM, &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-request at lists.whatwg.org</A>&gt; wrote:

&gt;<i> Send whatwg mailing list submissions to
</I>&gt;<i>         <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i>         <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i>         <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-request at lists.whatwg.org</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i>         <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-owner at lists.whatwg.org</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of whatwg digest...&quot;
</I>&gt;<i>
</I>&gt;<i> When replying to digest messages, please please PLEASE update the subject
</I>&gt;<i> line so it isn't the digest subject line.
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i>    1. Reorganizing and fixing &quot;origin&quot; (Anne van Kesteren)
</I>&gt;<i>    2. Fetch: please review! (Anne van Kesteren)
</I>&gt;<i>    3. Re: Fetch: please review! (Janusz Majnert)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ---------- Forwarded message ----------
</I>&gt;<i> From: Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at annevk.nl</A>&gt;
</I>&gt;<i> To: WHATWG &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at whatwg.org</A>&gt;
</I>&gt;<i> Cc:
</I>&gt;<i> Date: Wed, 22 May 2013 08:53:13 +0100
</I>&gt;<i> Subject: [whatwg] Reorganizing and fixing &quot;origin&quot;
</I>&gt;<i> As Bj&#246;rn points out in
</I>&gt;<i> <A HREF="http://www.ietf.org/mail-archive/web/websec/current/msg01512.html">http://www.ietf.org/mail-archive/web/websec/current/msg01512.html</A>
</I>&gt;<i> defining origin of a URL in terms of STD66 is broken. So we should
</I>&gt;<i> define it in terms of the URL Standard.
</I>&gt;<i>
</I>&gt;<i> The Origin header also has problems, as it suggests you can have a
</I>&gt;<i> space-separated list, which we disallowed almost immediately after the
</I>&gt;<i> Origin RFC was published and the IETF group did not accept errata for.
</I>&gt;<i>
</I>&gt;<i> Now &quot;Origin of a URL&quot; can be defined in the URL Standard (not done
</I>&gt;<i> yet). I put an updated definition of the header here:
</I>&gt;<i> <A HREF="http://fetch.spec.whatwg.org/#http-origin-header">http://fetch.spec.whatwg.org/#http-origin-header</A>
</I>&gt;<i>
</I>&gt;<i> Where should we put the definition of origin itself? Back in HTML? I
</I>&gt;<i> guess it still is mostly.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> <A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ---------- Forwarded message ----------
</I>&gt;<i> From: Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at annevk.nl</A>&gt;
</I>&gt;<i> To: WHATWG &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at whatwg.org</A>&gt;
</I>&gt;<i> Cc:
</I>&gt;<i> Date: Wed, 22 May 2013 10:50:37 +0100
</I>&gt;<i> Subject: [whatwg] Fetch: please review!
</I>&gt;<i> I'm reaching the point where I want to start integrating
</I>&gt;<i> <A HREF="http://fetch.spec.whatwg.org/">http://fetch.spec.whatwg.org/</A> into <A HREF="http://xhr.spec.whatwg.org/">http://xhr.spec.whatwg.org/</A> so I
</I>&gt;<i> can remove a lot of the duplicate requirements with respect to
</I>&gt;<i> networking and at the same time clarify a lot of the networking
</I>&gt;<i> behavior.
</I>&gt;<i>
</I>&gt;<i> And although <A HREF="http://fetch.spec.whatwg.org/">http://fetch.spec.whatwg.org/</A> is pretty dry reading it
</I>&gt;<i> would be good if people could take a look at it as the idea is for it
</I>&gt;<i> to define the fetching behavior across the platform. This task is
</I>&gt;<i> currently divided between HTML, CORS, Web Origin Concept, and CSP
</I>&gt;<i> (integration hooks not yet in Fetch) and creates a real messy
</I>&gt;<i> situation for specifications building on top of them. The idea is to
</I>&gt;<i> remove that complexity and have a simple hook for fetching a request
</I>&gt;<i> and get a response in return.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> <A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ---------- Forwarded message ----------
</I>&gt;<i> From: Janusz Majnert &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">j.majnert at samsung.com</A>&gt;
</I>&gt;<i> To: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>
</I>&gt;<i> Cc:
</I>&gt;<i> Date: Wed, 22 May 2013 13:20:13 +0200
</I>&gt;<i> Subject: Re: [whatwg] Fetch: please review!
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On 2013-05-22 11:50, Anne van Kesteren wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I'm reaching the point where I want to start integrating
</I>&gt;&gt;<i> <A HREF="http://fetch.spec.whatwg.org/">http://fetch.spec.whatwg.org/</A> into <A HREF="http://xhr.spec.whatwg.org/">http://xhr.spec.whatwg.org/</A> so I
</I>&gt;&gt;<i> can remove a lot of the duplicate requirements with respect to
</I>&gt;&gt;<i> networking and at the same time clarify a lot of the networking
</I>&gt;&gt;<i> behavior.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> And although <A HREF="http://fetch.spec.whatwg.org/">http://fetch.spec.whatwg.org/</A> is pretty dry reading it
</I>&gt;&gt;<i> would be good if people could take a look at it as the idea is for it
</I>&gt;&gt;<i> to define the fetching behavior across the platform. This task is
</I>&gt;&gt;<i> currently divided between HTML, CORS, Web Origin Concept, and CSP
</I>&gt;&gt;<i> (integration hooks not yet in Fetch) and creates a real messy
</I>&gt;&gt;<i> situation for specifications building on top of them. The idea is to
</I>&gt;&gt;<i> remove that complexity and have a simple hook for fetching a request
</I>&gt;&gt;<i> and get a response in return.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> I have a few notes to make on the use of &quot;byte string&quot; notion.
</I>&gt;<i> First of all, let's look at the definition of &quot;byte string&quot;:
</I>&gt;<i> &quot;A byte string is a byte sequence written down as a string.&quot;
</I>&gt;<i> Where &quot;byte&quot; and &quot;string&quot; are:
</I>&gt;<i> &quot;A byte is a sequence of eight bits, represented as a double-digit
</I>&gt;<i> hexadecimal number in the range 0x00 to 0xFF.&quot;
</I>&gt;<i> &quot;A string is a sequence of code points.&quot; and later &quot;A code point is a
</I>&gt;<i> Unicode code point and is represented as a four-to-six digit hexadecimal
</I>&gt;<i> number, typically prefixed with &quot;U+&quot;.&quot;
</I>&gt;<i>
</I>&gt;<i> So, just by looking at the definition, I would expect a byte string to be
</I>&gt;<i> a sequence of hex numbers. That is of course not what is put in the
</I>&gt;<i> examples and not what this definition aimed for.
</I>&gt;<i>
</I>&gt;<i> The second note is more of a question: why is the &quot;byte string&quot; even used?
</I>&gt;<i> Why not use just string? The document contains just one occurrence of plain
</I>&gt;<i> &quot;string&quot; and could very well be replaced with a byte string.
</I>&gt;<i>
</I>&gt;<i> And now for some things I think are errors:
</I>&gt;<i> * in section &quot;4.5 CORS check&quot;, point 4 reads &quot;If request's origin
</I>&gt;<i> serialized to bytes is not result, return failure.&quot; I think it should be
</I>&gt;<i> &quot;...serialized to byte string...&quot;
</I>&gt;<i> * in section &quot;4.1 Basic fetch&quot;, &quot;about&quot; bullet reads: &quot;... header whose
</I>&gt;<i> name is Content-Type and value is &quot;text/html;charset=utf-8&quot;, and...&quot;. I
</I>&gt;<i> think, as the value of a header is defined to be a byte string, that there
</I>&gt;<i> should be no quotation marks around text/html;charset=utf-8.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i> Janusz Majnert
</I>&gt;<i> Samsung R&amp;D Institute Poland
</I>&gt;<i> Samsung Electronics
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> whatwg mailing list
</I>&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>
</I>&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>






















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081880.html">[whatwg] Inert nodes and element.click()
</A></li>
	<LI>Next message: <A HREF="081886.html">[whatwg] Fetch: please review! (Anne van Kesteren)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39612">[ date ]</a>
              <a href="thread.html#39612">[ thread ]</a>
              <a href="subject.html#39612">[ subject ]</a>
              <a href="author.html#39612">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
