<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fetch: please review!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fetch%3A%20please%20review%21&In-Reply-To=%3C4A8CDB58301D43ACA296B5E8D7DAF131%40PeterPC%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081900.html">
   <LINK REL="Next"  HREF="039603.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fetch: please review!</H1>
<!--htdig_noindex-->
    <B>Peter Occil</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fetch%3A%20please%20review%21&In-Reply-To=%3C4A8CDB58301D43ACA296B5E8D7DAF131%40PeterPC%3E"
       TITLE="[whatwg] Fetch: please review!">poccil14 at gmail.com
       </A><BR>
    <I>Sun May 26 17:24:51 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081900.html">[whatwg] Fetch: please review!
</A></li>
        <LI>Next message: <A HREF="039603.html">[whatwg] An alternative approach to section 9 of Mime Sniffing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81899">[ date ]</a>
              <a href="thread.html#81899">[ thread ]</a>
              <a href="subject.html#81899">[ subject ]</a>
              <a href="author.html#81899">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Step 7 of section 4.3 reads:

     Let headers be the names of request's author headers, sorted lexicographically and [[byte lowercased]]. 
     
Isn't the phrase &quot;byte lowercased&quot; rather easy to define, since each author header can only
contain ASCII characters?  Maybe it should be:

   7. Let headers be the names of request's author headers.
   7a. For each name in headers, convert that name to ASCII lowercase, and convert that name to a byte
       array by changing each code point to the corresponding byte.
   7b. Sort headers in ascending order using a byte-for-byte comparison.
     
---------------------   

FTP Responses
   
One issue box says &quot;Map the result to response.&quot;  What exactly is the issue with mapping the result?
Should the response, including errors, be mapped to HTTP responses somehow?  Should FTP
errors (4xx and 5xx) be treated as &quot;network errors&quot;?

Also, the text &#8220;Follow the requirements from FTP to retrieve a resource&#8221; is rather vague. It seems 
that&#8217;s because it takes more steps to retrieve a file via FTP than via HTTP.  Implementations that don&#8217;t 
have a higher-level FTP backend may find it harder to understand what those steps consist of.  Here is what I 
think are the steps.

- Connect to server
- If URL has username, send USER [username]
- If URL has password, send PASS [password]
- Send TYPE I (binary mode)
- Send CWD [path]
- Send RETR [filename]
- Send QUIT

Moreover, if the FTP URL points to merely a directory, it&#8217;s unspecified what kind of resource should be returned.
Maybe a list of files (LIST or NLST command)?

--Peter
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081900.html">[whatwg] Fetch: please review!
</A></li>
	<LI>Next message: <A HREF="039603.html">[whatwg] An alternative approach to section 9 of Mime Sniffing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81899">[ date ]</a>
              <a href="thread.html#81899">[ thread ]</a>
              <a href="subject.html#81899">[ subject ]</a>
              <a href="author.html#81899">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
