<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [dom] attributes collection not fully defined?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bdom%5D%20attributes%20collection%20not%20fully%20defined%3F&In-Reply-To=%3C51A6D03D.9090904%40yeslogic.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081927.html">
   <LINK REL="Next"  HREF="081930.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [dom] attributes collection not fully defined?</H1>
<!--htdig_noindex-->
    <B>Michael Day</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bdom%5D%20attributes%20collection%20not%20fully%20defined%3F&In-Reply-To=%3C51A6D03D.9090904%40yeslogic.com%3E"
       TITLE="[whatwg] [dom] attributes collection not fully defined?">mikeday at yeslogic.com
       </A><BR>
    <I>Wed May 29 21:06:21 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081927.html">[whatwg] [dom] attributes collection not fully defined?
</A></li>
        <LI>Next message: <A HREF="081930.html">[whatwg] [dom] attributes collection not fully defined?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81928">[ date ]</a>
              <a href="thread.html#81928">[ thread ]</a>
              <a href="subject.html#81928">[ subject ]</a>
              <a href="author.html#81928">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Boris,

Thank you for the detailed explanation. Having the WebIDL named getter 
definition helps to simplify things.

This part still seems inconsistent with current browsers:

&gt;<i> 4)  Setting a property name that is currently exposed does a Reject
</I>&gt;<i>      (which means throw in strict mode, silently do nothing in
</I>&gt;<i>      non-strict mode).  Unless there is a named setter, of course.
</I>
If I set the property name which has already been used for an attribute, 
it still seems to store the value:

     div.setAttribute(&quot;fruit&quot;, &quot;orange&quot;);
     div.attributes.fruit = &quot;apple&quot;;
     div.removeAttribute(&quot;fruit&quot;);
     alert(div.attributes.fruit); // apple

except for a very strange bug in Firefox only, where if I *read* the 
value before removing it, the attribute doesn't go away later:

     div.setAttribute(&quot;fruit&quot;, &quot;orange&quot;);
     div.attributes.fruit = &quot;apple&quot;;
     alert(div.attributes.fruit.value); // orange
     div.removeAttribute(&quot;fruit&quot;);
     alert(div.attributes.fruit); // [object Attr] ???

Just adding the extra alert in the middle changes the value after 
removing the attribute, so that the Attr object is still returned.

Anyway, doing nothing or throwing if the user tries to write to a 
property which is currently exposed seems like a much better option.

Best regards,

Michael

-- 
Prince: Print with CSS!
<A HREF="http://www.princexml.com">http://www.princexml.com</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081927.html">[whatwg] [dom] attributes collection not fully defined?
</A></li>
	<LI>Next message: <A HREF="081930.html">[whatwg] [dom] attributes collection not fully defined?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81928">[ date ]</a>
              <a href="thread.html#81928">[ thread ]</a>
              <a href="subject.html#81928">[ subject ]</a>
              <a href="author.html#81928">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
