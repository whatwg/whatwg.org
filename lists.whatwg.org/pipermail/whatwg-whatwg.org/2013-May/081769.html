<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] font security on measureText
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20font%20security%20on%20measureText&In-Reply-To=%3CCAGN7qDC%2BXWuEV1o2dOhO2hR05UOFhsUBMqjYaVDWXouCJWraSg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081768.html">
   <LINK REL="Next"  HREF="081773.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] font security on measureText</H1>
<!--htdig_noindex-->
    <B>Rik Cabanier</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20font%20security%20on%20measureText&In-Reply-To=%3CCAGN7qDC%2BXWuEV1o2dOhO2hR05UOFhsUBMqjYaVDWXouCJWraSg%40mail.gmail.com%3E"
       TITLE="[whatwg] font security on measureText">cabanier at gmail.com
       </A><BR>
    <I>Thu May  2 14:49:58 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081768.html">[whatwg] font security on measureText
</A></li>
        <LI>Next message: <A HREF="081773.html">[whatwg] font security on measureText
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81769">[ date ]</a>
              <a href="thread.html#81769">[ thread ]</a>
              <a href="subject.html#81769">[ subject ]</a>
              <a href="author.html#81769">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, May 2, 2013 at 2:38 PM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at annevk.nl</A>&gt; wrote:

&gt;<i> On Thu, May 2, 2013 at 10:36 PM, Rik Cabanier &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">cabanier at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; Does anyone know what this is? It seems to us, that if the font is
</I>&gt;<i> &gt; available to CSS (depending on if the browser supports CORS for fonts),
</I>&gt;<i> it
</I>&gt;<i> &gt; should be fine to call measureText.
</I>&gt;<i>
</I>&gt;<i> In that case the font's origin would be the Document's origin though.
</I>&gt;<i>
</I>
Reading the Origin spec [1]:

For fonts:

The origin of a downloadable Web font is an alias to the origin of the
absolute URL used to obtain the font (after any redirects). [CSSFONTS]

The origin of a locally installed system font is an alias to the origin of
the Document in which that font is being used.

Fonts do not have an effective script origin.


So, if my css specifies a font:

@font-face {
font-family: &quot;Bitstream Vera Serif Bold&quot;;
src: url(&quot;<A HREF="http://developer.mozilla.org/@api/deki/files/2934/=VeraSeBd.ttf">http://developer.mozilla.org/@api/deki/files/2934/=VeraSeBd.ttf</A>&quot;);

}

it seems that the origin of the font is not the same as the document so
measureText won't work. (I'm not that familiar with the verbiage so I might
be mistaken)


Part of the problem here is that CSS lacks a bunch of text.
&gt;<i>
</I>
What do you mean by that? Is this underspecified?

1:
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/origin-0.html#origin">http://www.whatwg.org/specs/web-apps/current-work/multipage/origin-0.html#origin</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081768.html">[whatwg] font security on measureText
</A></li>
	<LI>Next message: <A HREF="081773.html">[whatwg] font security on measureText
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81769">[ date ]</a>
              <a href="thread.html#81769">[ thread ]</a>
              <a href="subject.html#81769">[ subject ]</a>
              <a href="author.html#81769">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
