<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;base&gt; in &lt;body&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cbase%3E%20in%20%3Cbody%3E&In-Reply-To=%3C4E264659.3040004%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032569.html">
   <LINK REL="Next"  HREF="074846.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;base&gt; in &lt;body&gt;</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cbase%3E%20in%20%3Cbody%3E&In-Reply-To=%3C4E264659.3040004%40mit.edu%3E"
       TITLE="[whatwg] &lt;base&gt; in &lt;body&gt;">bzbarsky at MIT.EDU
       </A><BR>
    <I>Tue Jul 19 20:07:05 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="032569.html">[whatwg] &lt;base&gt; in &lt;body&gt;
</A></li>
        <LI>Next message: <A HREF="074846.html">[whatwg] &lt;base&gt; in &lt;body&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74843">[ date ]</a>
              <a href="thread.html#74843">[ thread ]</a>
              <a href="subject.html#74843">[ subject ]</a>
              <a href="author.html#74843">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 7/19/11 9:12 PM, Ian Hickson wrote:
&gt;<i> Would other browser vendors be willing to change to only look at&lt;base
</I>&gt;<i> href&gt;  in&lt;head&gt;?
</I>
Gecko used to implement that back when the spec said it.

This caused site compat issues.  See 
<A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=593807">https://bugzilla.mozilla.org/show_bug.cgi?id=593807</A> (United checkin 
outside the US being broken) and 
<A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=592880">https://bugzilla.mozilla.org/show_bug.cgi?id=592880</A> (hyperlatex output 
being broken) for example.

The latter explicitly mentions that hyperlatex output is broken in 
recent IE versions.

The former depends on the parsing behavior of IE you describe so is not 
a problem in IE9-.  See 
<A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=593807#c7">https://bugzilla.mozilla.org/show_bug.cgi?id=593807#c7</A>

On the other hand, this change would fix CA Unicenter 
(<A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=627361">https://bugzilla.mozilla.org/show_bug.cgi?id=627361</A> and its two 
duplicates), I think.

So I guess it comes down to what set of sites we want to break here.... 
  Do other UA vendors have any data on the matter?

That said, I'm not sure I understand the security concern.  What kind of 
whitelist-based filter would let through &lt;script&gt;s whose URIs it does 
not control, exactly?  Can the security concern be mitigated by only 
allowing &lt;base&gt; outside &lt;head&gt; if the base URI it sets is same-origin 
with the document?

-Boris

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032569.html">[whatwg] &lt;base&gt; in &lt;body&gt;
</A></li>
	<LI>Next message: <A HREF="074846.html">[whatwg] &lt;base&gt; in &lt;body&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74843">[ date ]</a>
              <a href="thread.html#74843">[ thread ]</a>
              <a href="subject.html#74843">[ subject ]</a>
              <a href="author.html#74843">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
