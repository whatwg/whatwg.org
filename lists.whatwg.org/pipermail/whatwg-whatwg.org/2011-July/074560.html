<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Extending HTML 5 video for adaptive streaming
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Extending%20HTML%205%20video%20for%20adaptive%20streaming&In-Reply-To=%3CCAA0c1bDBZo2Lwk-eoniAcT2iz4dmC2JGfr5F_Dd7gYXDt20BnQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="074558.html">
   <LINK REL="Next"  HREF="074581.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Extending HTML 5 video for adaptive streaming</H1>
<!--htdig_noindex-->
    <B>Aaron Colwell</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Extending%20HTML%205%20video%20for%20adaptive%20streaming&In-Reply-To=%3CCAA0c1bDBZo2Lwk-eoniAcT2iz4dmC2JGfr5F_Dd7gYXDt20BnQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Extending HTML 5 video for adaptive streaming">acolwell at google.com
       </A><BR>
    <I>Fri Jul  1 12:06:47 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="074558.html">[whatwg] Extending HTML 5 video for adaptive streaming
</A></li>
        <LI>Next message: <A HREF="074581.html">[whatwg] Extending HTML 5 video for adaptive streaming
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74560">[ date ]</a>
              <a href="thread.html#74560">[ thread ]</a>
              <a href="subject.html#74560">[ subject ]</a>
              <a href="author.html#74560">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Bob,

Comments inline

On Fri, Jul 1, 2011 at 8:40 AM, Bob Lund &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">B.Lund at cablelabs.com</A>&gt; wrote:

&gt;<i> Hi Aaron,
</I>&gt;<i>
</I>&gt;<i> Here are some other aspects of script controlled adaptive bit rate that
</I>&gt;<i> occur to me, perhaps you have already considered these.
</I>&gt;<i>
</I>&gt;<i> 1) I guess script will be responsible for maintaining its own playback
</I>&gt;<i> buffer, monitoring buffer behavior and selecting the appropriate bit rate
</I>&gt;<i> for new fragments. Are there any other network related events/metrics script
</I>&gt;<i> might need to determine which bit-rate to fetch for the next segment? Is
</I>&gt;<i> there any other information from the user agent about playback performance
</I>&gt;<i> that script might need?
</I>&gt;<i>
</I>&gt;<i>
</I>The script would be responsible for managing buffering. It can use the
currentTime &amp; buffered attributes on the video tag to monitor the
consumption of the data passed in via appendData(). I believe the attributes
being proposed in the video metrics
proposal&lt;<A HREF="http://wiki.whatwg.org/wiki/Video_Metrics#Proposal">http://wiki.whatwg.org/wiki/Video_Metrics#Proposal</A>&gt; could
also be helpful. Right now I'm just using XMLHttpRequest to fetch WebM
clusters and measuring how long it takes to fetch them to create a bandwidth
estimate. I haven't spent much time on the BW measurement &amp; adaptation
algorithms yet. I'm just trying to nail down mechanism for passing the media
data to the browser first.


&gt;<i> 2) If a media resource is a multi-track resource then it would seem script
</I>&gt;<i> will also have to fetch fragments for those tracks which implies that the
</I>&gt;<i> audio element would need the append method. Timed text tracks would also
</I>&gt;<i> need to be processed and Cues appended.
</I>&gt;<i>
</I>&gt;<i>
</I>The idea is that appendData() can receive media for multiple tracks. In the
case of WebM each cluster can have blocks from different tracks multiplexed
together. The initial stream config information contains the the track
mappings necessary to demux the cluster. I was also planning to allow both
multiplexed and demultiplexed clusters. Cluster timecodes must be in
monotonically increasing order, but it would be possible to call
appendData() with an cluster with only audio data followed by a cluster with
only video data. This would allow straight forward support for deployments
where audio &amp; video tracks for a single presentation are in separate WebM
files.


&gt;<i> There is a new media pipeline task force in the Web and TV IG (
</I>&gt;<i> <A HREF="http://www.w3.org/2011/webtv/wiki/MPTF">http://www.w3.org/2011/webtv/wiki/MPTF</A>) that is also planning to examine
</I>&gt;<i> this topic. You may want to participate.
</I>&gt;<i>
</I>&gt;<i>
</I>I have signed up to the mailing list and will take some time to catch up
with the archives.

Thanks for your comments.

Aaron

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="074558.html">[whatwg] Extending HTML 5 video for adaptive streaming
</A></li>
	<LI>Next message: <A HREF="074581.html">[whatwg] Extending HTML 5 video for adaptive streaming
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74560">[ date ]</a>
              <a href="thread.html#74560">[ thread ]</a>
              <a href="subject.html#74560">[ subject ]</a>
              <a href="author.html#74560">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
