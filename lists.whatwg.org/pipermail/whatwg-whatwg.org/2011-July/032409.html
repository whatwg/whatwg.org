<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal for a MediaSource API that allows sending media data to a HTMLMediaElement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20a%20MediaSource%20API%20that%20allows%20sending%0A%20media%20data%20to%20a%20HTMLMediaElement&In-Reply-To=%3CCAA0c1bB4W4Ea4hYoqrvJ6ciS7S-dDvbEr8rzFwZB%2BbSsh7%2BNBQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032408.html">
   <LINK REL="Next"  HREF="032410.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal for a MediaSource API that allows sending media data to a HTMLMediaElement</H1>
<!--htdig_noindex-->
    <B>Aaron Colwell</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20a%20MediaSource%20API%20that%20allows%20sending%0A%20media%20data%20to%20a%20HTMLMediaElement&In-Reply-To=%3CCAA0c1bB4W4Ea4hYoqrvJ6ciS7S-dDvbEr8rzFwZB%2BbSsh7%2BNBQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Proposal for a MediaSource API that allows sending media data to a HTMLMediaElement">acolwell at google.com
       </A><BR>
    <I>Tue Jul 12 17:00:58 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="032408.html">[whatwg] Proposal for a MediaSource API that allows sending media data to a HTMLMediaElement
</A></li>
        <LI>Next message: <A HREF="032410.html">[whatwg] Proposal for a MediaSource API that allows sending media data to a HTMLMediaElement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32409">[ date ]</a>
              <a href="thread.html#32409">[ thread ]</a>
              <a href="subject.html#32409">[ subject ]</a>
              <a href="author.html#32409">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Jul 12, 2011 at 4:44 PM, Robert O'Callahan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt;wrote:

&gt;<i> On Wed, Jul 13, 2011 at 11:30 AM, Aaron Colwell &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">acolwell at google.com</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I'm doing WebM demuxing and media fetching in JavaScript. When a seek
</I>&gt;&gt;<i> occurs, I look at currentTime to see where we are seeking to. I then look at
</I>&gt;&gt;<i> the CUES index data I've fetched to find the file offset for the closest
</I>&gt;&gt;<i> seek point to the desired time. The appropriate data is fetched and pushed
</I>&gt;&gt;<i> into the element via append(). The seeked event firing and readyState
</I>&gt;&gt;<i> transitioning to HAVE_FUTURE_DATA or HAVE_ENOUGH_DATA tells me when I've
</I>&gt;&gt;<i> sent the element enough data. During playback I just monitor the buffered
</I>&gt;&gt;<i> attribute to keep a specific duration ahead of the current playback time.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Now I'm rather confused about what you're doing and how you're using this
</I>&gt;<i> feature. What format is the data that you're feeding into the element?
</I>&gt;<i>
</I>
Sorry I wasn't clear about my intent. Currently I'm feeding it WebM. I could
see this expanding to Ogg and perhaps MP4. Theoretically any format that
looks like a packet stream could work.


&gt;<i>
</I>&gt;<i> I had imagined that this API would let the author feed in the same data as
</I>&gt;<i> you would load from some URI. But that can't be what's happening, since in
</I>&gt;<i> some element implementations (e.g., Gecko's) loaded data is buffered
</I>&gt;<i> internally and seeking might not require any new data to be loaded.
</I>&gt;<i>
</I>&gt;<i>
</I> No. The idea is to allow JavaScript to manage fetching the media data so
various fetching strategies could be implemented without needing to change
the browser. My initial motivation is for supporting adaptive streaming with
this mechanism, but I think various media mashup and delivery scenarios
could be explored with this.

Aaron
</PRE>


































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032408.html">[whatwg] Proposal for a MediaSource API that allows sending media data to a HTMLMediaElement
</A></li>
	<LI>Next message: <A HREF="032410.html">[whatwg] Proposal for a MediaSource API that allows sending media data to a HTMLMediaElement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32409">[ date ]</a>
              <a href="thread.html#32409">[ thread ]</a>
              <a href="subject.html#32409">[ subject ]</a>
              <a href="author.html#32409">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
