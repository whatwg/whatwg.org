<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Specification of window.find()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Specification%20of%20window.find%28%29&In-Reply-To=%3CCAKA%2BAx%3Ds_gYLu%3D7F1h5qt1epif-JObZJV4A4NocFGr0weRH%2B6Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032652.html">
   <LINK REL="Next"  HREF="032565.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Specification of window.find()</H1>
<!--htdig_noindex-->
    <B>Aryeh Gregor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Specification%20of%20window.find%28%29&In-Reply-To=%3CCAKA%2BAx%3Ds_gYLu%3D7F1h5qt1epif-JObZJV4A4NocFGr0weRH%2B6Q%40mail.gmail.com%3E"
       TITLE="[whatwg] Specification of window.find()">Simetrical+w3c at gmail.com
       </A><BR>
    <I>Thu Jul 28 11:15:53 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="032652.html">[whatwg] Specification of window.find()
</A></li>
        <LI>Next message: <A HREF="032565.html">[whatwg] Document's base URI should use the document's *current* address
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32670">[ date ]</a>
              <a href="thread.html#32670">[ thread ]</a>
              <a href="subject.html#32670">[ subject ]</a>
              <a href="author.html#32670">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Jul 27, 2011 at 6:55 PM, Tim Down &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">timdown at gmail.com</A>&gt; wrote:
&gt;<i> There's also the perennial problem of dealing with non-visible text
</I>&gt;<i> (c.f. Selection.toString(), innerText), which some browsers handle (a
</I>&gt;<i> quick tests suggests WebKit searches non-visible text and Firefox
</I>&gt;<i> doesn't).
</I>
True.  Of course, that's a rabbit hole I've mostly managed to avoid
going down so far.

&gt;<i> Also, don't forget that you're in the habit of writing this
</I>&gt;<i> sort of code. Knocking that kind of code out quickly is beyond what a
</I>&gt;<i> large percentage of web developers are capable of.
</I>
Right, but that's why we have libraries like jQuery.  If it's in
demand and it can be done in JavaScript, libraries can do it, and then
we don't want to make browsers do it too unless either it's an
extremely common use-case or they can do it better somehow.  Or they
have to for compat.

&gt;<i> There is no reason why your algorithms can't
</I>&gt;<i> work on non-editable nodes, so why require the user to change such a
</I>&gt;<i> fundamental property of the DOM (even temporarily)? I'd prefer an
</I>&gt;<i> alternative mechanism for specifying whether a command should apply to
</I>&gt;<i> only editable content that is part of the editing API. In my
</I>&gt;<i> execCommand implementation, it's specified as a property of an options
</I>&gt;<i> object passed to execCommand(). If that's not an option, another
</I>&gt;<i> command could be used, similar to the styleWithCSS command, to switch
</I>&gt;<i> between modes. applyToNonEditable, or something.
</I>
Having a behavior switch like styleWithCSS is a possible option.  The
problem I have with that kind of switch is that it breaks down if two
scripts on the same page are both relying on the switch being a
particular value: you can't rely on the current state of the switch
unless you run it before every single command execution.  I saw at
least one execCommand()-using library that did exactly that, running
styleWithCSS *and* useCSS before every single command.

Defining an extra argument to execCommand() would be possible, but I'm
leery about it, because it already has one useless boolean argument
that no browser but IE supports.  What we could consider is
overloading it with a form like execCommand(command, options), where
options is an object, so you could do execCommand(&quot;forecolor&quot;, {value:
&quot;red&quot;, styleWithCSS: false, restrictToEditable: true}) or something.
But it's awkward to have to specify the same options all the time, and
the syntax is incompatible and doesn't fall back gracefully.

It's definitely worth considering at some point, though.  I added a
TODO: <A HREF="http://aryeh.name/gitweb.cgi?p=editing;a=commitdiff;h=aff4441e">http://aryeh.name/gitweb.cgi?p=editing;a=commitdiff;h=aff4441e</A>
</PRE>






<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032652.html">[whatwg] Specification of window.find()
</A></li>
	<LI>Next message: <A HREF="032565.html">[whatwg] Document's base URI should use the document's *current* address
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32670">[ date ]</a>
              <a href="thread.html#32670">[ thread ]</a>
              <a href="subject.html#32670">[ subject ]</a>
              <a href="author.html#32670">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
