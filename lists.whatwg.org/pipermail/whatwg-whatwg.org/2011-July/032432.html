<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Microdata - Handling the case where a string is upgraded	to an object
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Microdata%20-%20Handling%20the%20case%20where%20a%20string%20is%20upgraded%0A%09to%20an%20object&In-Reply-To=%3CCAAWBYDBLrj%3Dc6p8Y93bLBHGv5pYCbc-2Q18oF1iuCpnDY23XPA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="074885.html">
   <LINK REL="Next"  HREF="074794.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Microdata - Handling the case where a string is upgraded	to an object</H1>
<!--htdig_noindex-->
    <B>Tab Atkins Jr.</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Microdata%20-%20Handling%20the%20case%20where%20a%20string%20is%20upgraded%0A%09to%20an%20object&In-Reply-To=%3CCAAWBYDBLrj%3Dc6p8Y93bLBHGv5pYCbc-2Q18oF1iuCpnDY23XPA%40mail.gmail.com%3E"
       TITLE="[whatwg] Microdata - Handling the case where a string is upgraded	to an object">jackalmage at gmail.com
       </A><BR>
    <I>Thu Jul 14 11:49:44 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="074885.html">[whatwg] Forcing a download
</A></li>
        <LI>Next message: <A HREF="074794.html">[whatwg] Microdata - Handling the case where a string is upgraded to an object
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32432">[ date ]</a>
              <a href="thread.html#32432">[ thread ]</a>
              <a href="subject.html#32432">[ subject ]</a>
              <a href="author.html#32432">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Some IRC discussion this morning concerned the scenario where an API
starts by exposing a property as a string, but later wants to change
it to be a complex object.

This appears to be a reasonably common scenario.  For example, a
vocabulary with a &quot;name&quot; property may start with it being a string,
and then later change to an object exposing &quot;firstname&quot;/&quot;lastname&quot;/etc
properties.  A vocabulary for a music library may start by having
&quot;track&quot; as a string, then later expanding it to expose the track
title, the individual artist, the running time, etc.

In a very similar vein, the CSSOM is currently defined to always
return property values as strings.  We want to instead return complex
objects that expose useful information and interfaces specialized on
the value's type, however.  For compat reasons, we have to use an
entirely different accessor in order to expose this type of thing.

It seems that this may be a useful problem to solve in Microdata.  We
can expose either an attribute or a privileged property name for the
object's &quot;name&quot;/&quot;title&quot;/&quot;string representation&quot;.  Then, when using the
.items accessor, objects can be returned with a custom .toString that
returns that value, so they can be used as strings in legacy code.

Thoughts?

~TJ
</PRE>






























































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="074885.html">[whatwg] Forcing a download
</A></li>
	<LI>Next message: <A HREF="074794.html">[whatwg] Microdata - Handling the case where a string is upgraded to an object
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32432">[ date ]</a>
              <a href="thread.html#32432">[ thread ]</a>
              <a href="subject.html#32432">[ subject ]</a>
              <a href="author.html#32432">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
