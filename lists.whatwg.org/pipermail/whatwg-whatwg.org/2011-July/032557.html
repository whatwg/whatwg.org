<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Why deflate-stream is required to be enabled by the	WebSocket API?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Why%20deflate-stream%20is%20required%20to%20be%20enabled%20by%20the%0A%09WebSocket%20API%3F&In-Reply-To=%3CCAH9hSJbb21hXAo%2BhYE8Vb8boromqXB4g_G-u%2Be%3DV%2Bz%2B%3DyAaL7Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="074837.html">
   <LINK REL="Next"  HREF="074839.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Why deflate-stream is required to be enabled by the	WebSocket API?</H1>
<!--htdig_noindex-->
    <B>Takeshi Yoshino</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Why%20deflate-stream%20is%20required%20to%20be%20enabled%20by%20the%0A%09WebSocket%20API%3F&In-Reply-To=%3CCAH9hSJbb21hXAo%2BhYE8Vb8boromqXB4g_G-u%2Be%3DV%2Bz%2B%3DyAaL7Q%40mail.gmail.com%3E"
       TITLE="[whatwg] Why deflate-stream is required to be enabled by the	WebSocket API?">tyoshino at google.com
       </A><BR>
    <I>Tue Jul 19 04:16:27 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="074837.html">[whatwg] Placeholder visibility on focus
</A></li>
        <LI>Next message: <A HREF="074839.html">[whatwg] Why deflate-stream is required to be enabled by the WebSocket API?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32557">[ date ]</a>
              <a href="thread.html#32557">[ thread ]</a>
              <a href="subject.html#32557">[ subject ]</a>
              <a href="author.html#32557">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

Use of deflate-stream is now mandatory in API spec. I think this kind of
requirement is useless. How about leave it up to implementors' decision?
<A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=12917">http://www.w3.org/Bugs/Public/show_bug.cgi?id=12917</A>

Adrian first brought this up on bugzilla for discussion. I'd like to ask
opinions from whatwg.

----

First, what effect specifying /extensions/ has is not yet clear for
client-side. Is this process intended to completely specify the set of
extensions wire-protocol uses? It's strange since we're going to introduce
multiplexing which is by nature not fully under control of JavaScript.

/extensions/ like this can be a hint, suggestion or request for
wire-protocol layer. According to Hixie's post (
<A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=12917#c5">http://www.w3.org/Bugs/Public/show_bug.cgi?id=12917#c5</A>) here it's used as
mandatory extension request i.e. prohibiting WebSocket w/o deflate-stream
for browsers (but some other extensions can be added in wire-protocol
level).

----

I think this requirement doesn't really help us enforce endpoints
initiate/accept WebSocket with the same configuration. Because

- non-browser UAs are free to be implemented without deflate-stream
- server developers would see/care only the wire protocol spec

So, server developers would simply make their implementation accept both
requests with and without deflate-stream, I think. It's not likely that
server implementors are influenced by &quot;the WebSocket API&quot; and have their
server check if a UA is browser or not and reject requests w/o
deflate-stream. The only people who benefit from this requirement is those
who implement a server only for their own use and are not interested in
serving non-browser clients.

Even for such people, I think it's easier to debug and straightforward that
they implement one without deflate-stream and then with deflate-stream, and
then just leave both available. I can't imagine servers that has solid
implementation for deflate-stream but not for w/o deflate-stream. So,

- as most of servers support WebSocket w/o deflate-stream, no one would face
any difficulties to get their client implementation live
without deflate-stream
- usually both API and wire-protocol are implemented together by the same
person/vendor

Because of these two points, as a result, even clients can be easily ignore
this requirement.

Let keep wire-protocol level stuff handled by IETF.

Regards,
Takeshi
</PRE>












































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="074837.html">[whatwg] Placeholder visibility on focus
</A></li>
	<LI>Next message: <A HREF="074839.html">[whatwg] Why deflate-stream is required to be enabled by the WebSocket API?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32557">[ date ]</a>
              <a href="thread.html#32557">[ thread ]</a>
              <a href="subject.html#32557">[ subject ]</a>
              <a href="author.html#32557">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
