<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal for a MediaSource API that allows sending media data to a HTMLMediaElement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20a%20MediaSource%20API%20that%20allows%20sending%0A%20media%20data%20to%20a%20HTMLMediaElement&In-Reply-To=%3CCAOp6jLZ4BvBd3pAuvOUe66nL-ARLyD%2BVzuFD7HNStJE0%2BvqR7Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="074678.html">
   <LINK REL="Next"  HREF="074680.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal for a MediaSource API that allows sending media data to a HTMLMediaElement</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20a%20MediaSource%20API%20that%20allows%20sending%0A%20media%20data%20to%20a%20HTMLMediaElement&In-Reply-To=%3CCAOp6jLZ4BvBd3pAuvOUe66nL-ARLyD%2BVzuFD7HNStJE0%2BvqR7Q%40mail.gmail.com%3E"
       TITLE="[whatwg] Proposal for a MediaSource API that allows sending media data to a HTMLMediaElement">robert at ocallahan.org
       </A><BR>
    <I>Tue Jul 12 16:17:09 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="074678.html">[whatwg] Proposal for a MediaSource API that allows sending media data to a HTMLMediaElement
</A></li>
        <LI>Next message: <A HREF="074680.html">[whatwg] Proposal for a MediaSource API that allows sending media data to a HTMLMediaElement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74679">[ date ]</a>
              <a href="thread.html#74679">[ thread ]</a>
              <a href="subject.html#74679">[ subject ]</a>
              <a href="author.html#74679">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Jul 13, 2011 at 11:14 AM, Aaron Colwell &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">acolwell at google.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> I'm open to that. In fact that is how my current prototype is implemented
</I>&gt;<i> because it was the least painful way to test these ideas in WebKit. My
</I>&gt;<i> prototype only implements append() and uses existing media element events as
</I>&gt;<i> proxies for the events I've proposed. I only separated this out into a
</I>&gt;<i> separate object because I thought people might prefer an object to represent
</I>&gt;<i> the source of the media and leave the media element object an endpoint for
</I>&gt;<i> controlling media playback.
</I>&gt;<i>
</I>
We're kinda stuck with media elements handling both playback endpoints and
resource loading.


&gt;<i>
</I>&gt;&gt;<i> Do you need to support seeking in with this API? That's hard. It would be
</I>&gt;&gt;<i> simpler if we didn't have to support seeking. Instead of seeking you could
</I>&gt;&gt;<i> just open a new stream and pour data in for the new offset.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  I'd like to be able to support seeking so you can use this mechanism for
</I>&gt;<i> on-demand playback. In my prototype seeking wasn't too difficult to
</I>&gt;<i> implement. I just triggered it off the seeking event. Any append() that
</I>&gt;<i> happens after the seeking event fires is associated with the new seek
</I>&gt;<i> location. currentTime is updated with the timestamp in the first cluster
</I>&gt;<i> passed to append() after the seeking event fires. Once the media engine has
</I>&gt;<i> this timestamp and enough preroll data, then it will fire the seeked event
</I>&gt;<i> like normal. I haven't tested this with rapid fire seeking yet, but I think
</I>&gt;<i> this mechanism should work.
</I>&gt;<i>
</I>
How do you communicate the data offset that the element wants to read at
over to the script that provides the data? In general you can't know the
strategy the decoder/demuxer uses for seeking, so you don't know what data
it will request.

Rob
-- 
&quot;If we claim to be without sin, we deceive ourselves and the truth is not in
us. If we confess our sins, he is faithful and just and will forgive us our
sins and purify us from all unrighteousness. If we claim we have not sinned,
we make him out to be a liar and his word is not in us.&quot; [1 John 1:8-10]

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="074678.html">[whatwg] Proposal for a MediaSource API that allows sending media data to a HTMLMediaElement
</A></li>
	<LI>Next message: <A HREF="074680.html">[whatwg] Proposal for a MediaSource API that allows sending media data to a HTMLMediaElement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74679">[ date ]</a>
              <a href="thread.html#74679">[ thread ]</a>
              <a href="subject.html#74679">[ subject ]</a>
              <a href="author.html#74679">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
