<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Specification of window.find()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Specification%20of%20window.find%28%29&In-Reply-To=%3CCAOYSAj3R-5WpsFQOsTxw%2BAb%3DaB5%3DpCNEXDGpaDpb5r3Ex3PX5A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032582.html">
   <LINK REL="Next"  HREF="032596.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Specification of window.find()</H1>
<!--htdig_noindex-->
    <B>Tim Down</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Specification%20of%20window.find%28%29&In-Reply-To=%3CCAOYSAj3R-5WpsFQOsTxw%2BAb%3DaB5%3DpCNEXDGpaDpb5r3Ex3PX5A%40mail.gmail.com%3E"
       TITLE="[whatwg] Specification of window.find()">timdown at gmail.com
       </A><BR>
    <I>Wed Jul 20 15:23:24 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="032582.html">[whatwg] Specification of window.find()
</A></li>
        <LI>Next message: <A HREF="032596.html">[whatwg] Specification of window.find()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32588">[ date ]</a>
              <a href="thread.html#32588">[ thread ]</a>
              <a href="subject.html#32588">[ subject ]</a>
              <a href="author.html#32588">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 20 July 2011 17:58, Aryeh Gregor &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">Simetrical+w3c at gmail.com</A>&gt; wrote:
&gt;<i> On Wed, Jul 20, 2011 at 6:14 AM, Tim Down &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">timdown at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> It's useful for custom search features. I've recommended it a few
</I>&gt;&gt;<i> times on Stack Overflow for people wanting to highlight or somehow
</I>&gt;&gt;<i> style all occurrences of a piece of text that may span nodes (it's
</I>&gt;&gt;<i> this part that is the compelling feature). You can achieve the same
</I>&gt;&gt;<i> using TextRange in IE. For example:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://stackoverflow.com/questions/5886858/full-text-search-in-html-ignoring-tags">http://stackoverflow.com/questions/5886858/full-text-search-in-html-ignoring-tags</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I think this is a valid use case.
</I>&gt;<i>
</I>&gt;<i> However, the implementation here doesn't do what you'd want: it
</I>&gt;<i> selects the text, destroying any existing selection. &#160;You can work
</I>&gt;<i> around it by preserving and then restoring the selection somehow, but
</I>&gt;<i> it's not ideal at all.
</I>
Yes, but it's significantly better than the alternative, which is to
write your own code to search for text that spans nodes.

&gt;<i> It would make much more sense to have a
</I>&gt;<i> function that returned a Range or list of Ranges.
</I>
Absolutely.

&gt;<i> Of course, for the use-case you posted, execCommand() would also have
</I>&gt;<i> to work on Ranges instead of just the selection, but that should
</I>&gt;<i> probably be feature #1 to add to it anyway . . .
</I>
Agreed. My number two feature (well, it would make the top 5, at
least) would be removing the restriction on execCommand() only working
on editable content. This very use case shows that its usefulness
extends beyond editable content. The temporarily-switch-designMode-on
workaround is ugly, and destroys the selection in some browsers.

Tim
</PRE>




































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032582.html">[whatwg] Specification of window.find()
</A></li>
	<LI>Next message: <A HREF="032596.html">[whatwg] Specification of window.find()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32588">[ date ]</a>
              <a href="thread.html#32588">[ thread ]</a>
              <a href="subject.html#32588">[ subject ]</a>
              <a href="author.html#32588">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
