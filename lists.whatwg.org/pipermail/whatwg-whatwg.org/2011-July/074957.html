<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Form element invalid message
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Form%20element%20invalid%20message&In-Reply-To=%3CCA%2Bc2ei8Xw_PkKRVKbH482mJ%2Bv%3D14x_p6GOyqFTwitorH3ZO%3DCg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="074965.html">
   <LINK REL="Next"  HREF="032668.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Form element invalid message</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Form%20element%20invalid%20message&In-Reply-To=%3CCA%2Bc2ei8Xw_PkKRVKbH482mJ%2Bv%3D14x_p6GOyqFTwitorH3ZO%3DCg%40mail.gmail.com%3E"
       TITLE="[whatwg] Form element invalid message">jonas at sicking.cc
       </A><BR>
    <I>Thu Jul 28 19:34:17 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="074965.html">[whatwg] Form element invalid message
</A></li>
        <LI>Next message: <A HREF="032668.html">[whatwg] CSP feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74957">[ date ]</a>
              <a href="thread.html#74957">[ thread ]</a>
              <a href="subject.html#74957">[ subject ]</a>
              <a href="author.html#74957">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Jul 27, 2011 at 5:21 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i> On Fri, 29 Apr 2011, Jonas Sicking wrote:
</I>&gt;&gt;<i> On Fri, Apr 29, 2011 at 3:42 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; On Wed, 29 Dec 2010, Mounir Lamouri wrote:
</I>&gt;&gt;<i> &gt;&gt; On 12/29/2010 07:41 AM, Ian Hickson wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; I actually think that the customerrormessage attribute that has
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; been suggested is a decent solution too. [...]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For example, if I go to www.google.com and click on the &quot;sign in&quot; link
</I>&gt;&gt;<i> at the top, then without entering anything press the &quot;sign in&quot; button.
</I>&gt;&gt;<i> At this point the page displays a error message in red that says &quot;Enter
</I>&gt;&gt;<i> your email address.&quot; [...]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In general it makes a lot of sense to want to display a different
</I>&gt;&gt;<i> message when the user has failed to enter a valid value in a field.
</I>&gt;&gt;<i> Clearly the user failed to enter what was requested the first time, and
</I>&gt;&gt;<i> so the context around the field was not enough for the user to enter
</I>&gt;&gt;<i> what was requested. Hence a more detailed description is appropriate.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I don't understand how such an attribute would work. Take &lt;input
</I>&gt;&gt;<i> &gt; type=number&gt; for example, with an explicit min, max, step, etc. How
</I>&gt;&gt;<i> &gt; would you know what value to put in the attribute? There are going to
</I>&gt;&gt;<i> &gt; be different needs when the control's value is too low, too high, not
</I>&gt;&gt;<i> &gt; aligned to a step, missing, etc.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Consider the example above from googles login page. Here there are two
</I>&gt;&gt;<i> possible errors:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1. The field is empty
</I>&gt;&gt;<i> 2. The field doesn't contain an email address
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In both cases the message &quot;Enter your email address.&quot; seems appropriate.
</I>&gt;&gt;<i> And it seems better than what we as a browser could generate.
</I>&gt;<i>
</I>&gt;<i> A text input field could have a number of error conditions:
</I>&gt;<i>
</I>&gt;<i> &#160; &lt;label&gt; Offer code:
</I>&gt;<i> &#160; &#160;&lt;input type=text maxlength=8 pattern=&quot;[a-z1-9]+&quot; required&gt;
</I>&gt;<i> &#160; &lt;/label&gt;
</I>&gt;<i>
</I>&gt;<i> Suppose the code is printed as two groups of four characters, for example
</I>&gt;<i> something like &quot;1A2B 3C4D&quot;.
</I>&gt;<i>
</I>&gt;<i> The user could have entered the code with the space (the site doesn't want
</I>&gt;<i> the space). Or the user could have read an O as a 0 (the code never has
</I>&gt;<i> any zeroes to avoid that). Or the user could have forgotten to enter the
</I>&gt;<i> code. In each of these cases, I think you'd want a different message.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Anyway. I guess we can have a dedicated attribute that user agents can use
</I>&gt;<i> to provide a message, rather than the current solution of just using the
</I>&gt;<i> title=&quot;&quot; attribute for pattern=&quot;&quot;'s error message. If it's present, user
</I>&gt;<i> agents could use it to replace or augment their message, and authors could
</I>&gt;<i> make the message more specific by dynamically changing the attribute when
</I>&gt;<i> during the 'invalid' event handler.
</I>&gt;<i>
</I>&gt;<i> &#160; &lt;label&gt; Offer code:
</I>&gt;<i> &#160; &#160;&lt;input type=text maxlength=8 pattern=&quot;[a-z1-9]+&quot; required
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; oninput=&quot;setCustomValidity(input.match(/0/) ?
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;'Codes contain no zeroes, only Os.' : '')&quot;
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; validitymessage=&quot;Enter the code without spaces.&quot;&gt;
</I>&gt;<i> &#160; &lt;/label&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If we add this, do you think it should be displayed with, instead of, or
</I>&gt;<i> replaced by the setCustomValidity() message, when both are given?
</I>
I don't feel strongly which would be given precedence. On one hand it
seems simpler and more consistent to *always* use the attribute, and
thus give it precedence over setCustomValidity. On the other hand it
seems weird to make setCustomValidity ignore its argument. On the
third hand, it seems likely that people would end up having to
duplicate the same string in the attribute as in the argument to
setCustomValidity. On the fourth hand it would be easy to do
elem.setCustomValidity(elem.customerror).

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="074965.html">[whatwg] Form element invalid message
</A></li>
	<LI>Next message: <A HREF="032668.html">[whatwg] CSP feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74957">[ date ]</a>
              <a href="thread.html#74957">[ thread ]</a>
              <a href="subject.html#74957">[ subject ]</a>
              <a href="author.html#74957">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
