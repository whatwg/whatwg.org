<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Page displayed during/after download (&lt;meta refresh&gt;	downloads)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Page%20displayed%20during/after%20download%20%28%3Cmeta%20refresh%3E%0A%09downloads%29&In-Reply-To=%3Cop.vy1mmspjte2ec8%40aimac.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032595.html">
   <LINK REL="Next"  HREF="074891.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Page displayed during/after download (&lt;meta refresh&gt;	downloads)</H1>
<!--htdig_noindex-->
    <B>Kornel Lesi&#324;ski</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Page%20displayed%20during/after%20download%20%28%3Cmeta%20refresh%3E%0A%09downloads%29&In-Reply-To=%3Cop.vy1mmspjte2ec8%40aimac.local%3E"
       TITLE="[whatwg] Page displayed during/after download (&lt;meta refresh&gt;	downloads)">kornel at geekhood.net
       </A><BR>
    <I>Fri Jul 22 16:09:54 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="032595.html">[whatwg] About the HTML spec inconsistency in URL APIs' Collect URL Parameters definition
</A></li>
        <LI>Next message: <A HREF="074891.html">[whatwg] Page displayed during/after download (&lt;meta refresh&gt; downloads)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32614">[ date ]</a>
              <a href="thread.html#32614">[ thread ]</a>
              <a href="subject.html#32614">[ subject ]</a>
              <a href="author.html#32614">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
There is a design (anti)pattern related to file downloads: instead of  
linking to a file directly, websites use &quot;Download&quot; links pointing to a  
page with &lt;meta refresh=&quot;5; url=actual URL to download&quot;&gt; (or equivalent  
javascript) and &quot;Thank you!&quot; text or further instructions how to use  
downloaded file (e.g. install an application).

Examples:

<A HREF="http://get.adobe.com/flashplayer/completion/?installer=Flash_Player_10.3_for_Mac_OS_X_10.4_-_10.6_(Intel">http://get.adobe.com/flashplayer/completion/?installer=Flash_Player_10.3_for_Mac_OS_X_10.4_-_10.6_(Intel</A>)
<A HREF="http://sourceforge.net/projects/vlc/files/1.1.11/macosx/vlc-1.1.11.dmg/download">http://sourceforge.net/projects/vlc/files/1.1.11/macosx/vlc-1.1.11.dmg/download</A>
<A HREF="http://www.opera.com/download/get.pl?id=33846&amp;thanks=true&amp;sub=true">http://www.opera.com/download/get.pl?id=33846&amp;thanks=true&amp;sub=true</A>
<A HREF="http://www.google.com/chrome/thankyou.html?hl=en-GB&amp;platform=mac">http://www.google.com/chrome/thankyou.html?hl=en-GB&amp;platform=mac</A>

This is problematic, because:

* it's hard or impossible to see or copy URL of the file (to download with  
another application, share URL, check if file type is correct by looking  
at the filename)

* Right-click and &quot;Save As&quot; on &quot;Download now&quot; links is unreliable and  
sometimes results in HTML downloaded

* &quot;Thank you!&quot; pages saved in browsing sessions cause files to be  
re-downloaded every time browser is restarted

* Extra pages and &lt;meta refresh&gt; cause unnecessary delays. &quot;Your download  
will start in 5 seconds&quot; is very annoying when download itself takes  
couple of seconds.


I wish this could be replaced with something that doesn't break download  
links.


I think in terms of use-cases it can be expressed as:

1. Show users immediate and very clear feedback that the download is  
starting, even if browser's standard download UI is very subtle or appears  
only after the download server responds.

2. Allow website to show additional information about the download, while  
the download is taking place.

e.g. Instructions what to do with the file after it is downloaded. List of  
mirrors to use in case download is slow or fails. List of related products  
to upsell.

&lt;a download&gt; and UI improvements in browsers might partially cover use  
case #1, but I don't see an easy solution to #2, and partial improvement  
might not be enough to replace &lt;meta refresh&gt; download pages.

And I'm afraid that &lt;meta refresh&gt; also fulfils another case:

3. Make it harder for others to link directly to the file, force them to  
link to a branded landing page.


I think cases #1 and #2 could be satisfied with something like:

&lt;a post-download-href=&quot;url of page to navigate to when download starts&quot;&gt;

And to satisfy all three cases (without breaking links), it needs to be  
done at HTTP level, by adding HTTP header (or multipart response? or  
attribute to Content-Disposition?) that causes both file download to start  
and a page to be displayed at the same time.

-- 
regards, Kornel Lesi&#324;ski
</PRE>




















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032595.html">[whatwg] About the HTML spec inconsistency in URL APIs' Collect URL Parameters definition
</A></li>
	<LI>Next message: <A HREF="074891.html">[whatwg] Page displayed during/after download (&lt;meta refresh&gt; downloads)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32614">[ date ]</a>
              <a href="thread.html#32614">[ thread ]</a>
              <a href="subject.html#32614">[ subject ]</a>
              <a href="author.html#32614">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
