<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] some areas of ambiguity in the canvas section
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20some%20areas%20of%20ambiguity%20in%20the%20canvas%20section&In-Reply-To=%3CB371C7DF-F223-475F-8AE7-B60BEC56B420%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053599.html">
   <LINK REL="Next"  HREF="053593.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] some areas of ambiguity in the canvas section</H1>
<!--htdig_noindex-->
    <B>Darin Adler</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20some%20areas%20of%20ambiguity%20in%20the%20canvas%20section&In-Reply-To=%3CB371C7DF-F223-475F-8AE7-B60BEC56B420%40apple.com%3E"
       TITLE="[whatwg] some areas of ambiguity in the canvas section">darin at apple.com
       </A><BR>
    <I>Sat May  5 08:37:59 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="053599.html">[whatwg] Canvas - createRadialGradient
</A></li>
        <LI>Next message: <A HREF="053593.html">[whatwg] some areas of ambiguity in the canvas section
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53468">[ date ]</a>
              <a href="thread.html#53468">[ thread ]</a>
              <a href="subject.html#53468">[ subject ]</a>
              <a href="author.html#53468">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>A while back I did some work on WebKit's canvas implementation and I  
noticed a few things in the canvas section of Web Apps that I'd like  
to see specified so they don't end up different between implementations:

a) NAN arguments

For the graphics context functions that take floating point values, I  
think the specification should say what the expected behavior is for:

     1) NANs
     2) non-floating point values
     3) missing parameters

It's possible that (2) and (3) are really JavaScript-specific  
language issues. In WebKit's implementation, at least, the JavaScript  
binding layer turns values of the wrong type, strings that can't be  
converted into numbers, and missing parameters into NANs for  
parameters of floating point type. For interoperability, I'd like to  
see something that makes it clear what should happen in these cases,  
and I hope it's something that is the same for those three cases  
since that makes it easier to implement.

For example, should the moveTo function raise an exception if one of  
the values is NAN? If so, which exception? Or should it quietly do  
nothing?

The same question applies to setting graphics context attributes of  
floating point type.

b) excess arguments

I'd like some mention of what happens when functions are passed  
excess arguments. This is important to specify because it often  
happens by accident, and thus differences in behavior will cause  
differences in browser compatibility. My suggestion is that any  
additional parameters are ignored. And, for example, if a function is  
overloaded for 4 and 8 parameters, if you pass 7 parameters it will  
call the 4-parameter version.

c) changing width or height of canvas to the same value

I'd like the specification to mention what happens when the width  
attribute is set to a value, but it's the same value as before. The  
current text says, &quot;If the width and height attributes are  
dynamically modified, the bitmap and any associated contexts must be  
cleared back to their initial state and reinitialised with the newly  
specified coordinate space dimensions.&quot; But it's not clear whether  
that's also true if the width attribute is re-set to the same value  
it already has. I think it should be reset, but what's important is  
that we specify one way or the other.

     -- Darin


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053599.html">[whatwg] Canvas - createRadialGradient
</A></li>
	<LI>Next message: <A HREF="053593.html">[whatwg] some areas of ambiguity in the canvas section
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53468">[ date ]</a>
              <a href="thread.html#53468">[ thread ]</a>
              <a href="subject.html#53468">[ subject ]</a>
              <a href="author.html#53468">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
