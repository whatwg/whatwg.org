<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Style sheet loading and parsing (over HTTP)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Style%20sheet%20loading%20and%20parsing%20%28over%20HTTP%29&In-Reply-To=%3CPine.LNX.4.62.0705231956070.22702%40dhalsim.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053719.html">
   <LINK REL="Next"  HREF="053726.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Style sheet loading and parsing (over HTTP)</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Style%20sheet%20loading%20and%20parsing%20%28over%20HTTP%29&In-Reply-To=%3CPine.LNX.4.62.0705231956070.22702%40dhalsim.dreamhost.com%3E"
       TITLE="[whatwg] Style sheet loading and parsing (over HTTP)">ian at hixie.ch
       </A><BR>
    <I>Wed May 23 13:07:24 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="053719.html">[whatwg] Style sheet loading and parsing (over HTTP)
</A></li>
        <LI>Next message: <A HREF="053726.html">[whatwg] Style sheet loading and parsing (over HTTP)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53723">[ date ]</a>
              <a href="thread.html#53723">[ thread ]</a>
              <a href="subject.html#53723">[ subject ]</a>
              <a href="author.html#53723">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 23 May 2007, Julian Reschke wrote:
&gt;<i> &gt; 
</I>&gt;<i> &gt; Ok, then you know that I have attempted to do the &quot;work&quot; you propose 
</I>&gt;<i> &gt; we do. What more work can we do?
</I>&gt;<i> 
</I>&gt;<i> For instance, continuing to allow UAs to trust the mime type,
</I>
Where possible, this is required.


&gt;<i> and requiring content authors to send the proper mime types.
</I>
This is required by HTTP.


&gt;<i> Or, allowing (opt-in) browsers to flag broken media types in the UI, as 
</I>&gt;<i> suggested in 
</I>&gt;<i> &lt;<A HREF="http://lists.w3.org/Archives/Public/www-tag/2006Aug/0035.html">http://lists.w3.org/Archives/Public/www-tag/2006Aug/0035.html</A>&gt; (yes, 
</I>&gt;<i> same thread).
</I>
This is allowed.


&gt;<i> &gt; Indeed. And the specs, to be useful, have to match reality.
</I>&gt;<i> 
</I>&gt;<i> That may be true if all we're discussing a spec that defines what a UA 
</I>&gt;<i> has to implement to be compatible with today's broken content. I 
</I>&gt;<i> absolutely agree that it's good to write that spec, but I disagree that 
</I>&gt;<i> this should be same spec as HTML5.
</I>
HTML5 is that spec. That was the original goal of the WHATWG effort, and 
continues to be this goal. There are already other groups writing 
specifications that don't take today's content into account, e.g. XHTML2. 
Those specs will be ignored. I have no intention of writing a spec that 
will be ignored, it seems like a spectacular waste of time and of the 
human race's resources.


&gt;<i> Let's look at an example.
</I>&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/#the-img">http://www.whatwg.org/specs/web-apps/current-work/#the-img</A>&gt; currently states:
</I>&gt;<i> 
</I>&gt;<i> &quot;The remote server's response metadata (e.g. an HTTP 404 status code, or
</I>&gt;<i> associated Content-Type headers) must be ignored when determining whether the
</I>&gt;<i> resource obtained is a valid image or not.
</I>&gt;<i> 
</I>&gt;<i> This allows servers to return images with error responses.
</I>&gt;<i> 
</I>&gt;<i> User agents must not support non-image resources with the img element.&quot;
</I>&gt;<i> 
</I>&gt;<i> Issues I have with this:
</I>&gt;<i> 
</I>&gt;<i> - it doesn't provide tell content authors that the content-type header
</I>&gt;<i> *should* reflect the mime type; instead it suggests it doesn't matter,
</I>
HTTP already makes this a MUST.


&gt;<i> - it disallows UAs to trust the mime type, as recommended by other specs,
</I>
Right, because otherwise the UA would fail to render giant swathes of 
existing content (literally billions of documents depend on this).


&gt;<i> - and finally it even requires UAs to ignore the HTTP status (which IMHO is
</I>&gt;<i> even worse than the Content-Type issue).
</I>
Sadly, our opinions (and I agree with you that it is a bad thing) aren't 
really relevant here. It doesn't matter what we want, we have to take into 
account the existing content. Otherwise, browser vendors would ignore our 
spec, and we would have been reduced to creating fictional documents with 
no real world relevance.


&gt;<i> &gt; It would be worse if reality and the future HTML spec contradicted 
</I>&gt;<i> &gt; each other. (It is already quite bad that the TAG finding contradicts 
</I>&gt;<i> &gt; reality.)
</I>&gt;<i> 
</I>&gt;<i> Well, I disagree. The TAG finding says how things should work.
</I>&gt;<i> 
</I>&gt;<i> If you think that this is wrong, you'll have to try to change *that* (I 
</I>&gt;<i> know you tried...), but just ignoring it in a W3C spec is unlikely to be 
</I>&gt;<i> accepted.
</I>
Accepted by whom? The browser vendors are the main &quot;clients&quot; of this spec. 
Why would they not accept something that described what they had to do?

The _TAG findings_ are what haven't been accepted.


&gt;<i> What I'm saying is that an HTML spec should be silent on these issues, 
</I>&gt;<i> instead of contradicting the other specs that are relevant. If you don't 
</I>&gt;<i> like what these specs say, try to revise them. But don't try to redefine 
</I>&gt;<i> these things in HTML5.
</I>
The ignoring of Content-Type is specific to certain parts of HTML, it's 
not a general thing. (Also, the HTTP working group has unfortunately been 
resistant to requests for changes that take reality into account; their 
spec may well end up irrelevant. There has been talk of making an &quot;HTTP5&quot; 
spec that fixes problems like this.)


&gt;<i> Again, that doesn't mean that documenting what's needed today isn't a 
</I>&gt;<i> good thing. I just think it needs to be a different document.
</I>
That &quot;different document&quot; is the HTML5 spec. You are welcome to work on a 
document that describes what you would _like_ reality to have been. But it 
isn't this spec.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053719.html">[whatwg] Style sheet loading and parsing (over HTTP)
</A></li>
	<LI>Next message: <A HREF="053726.html">[whatwg] Style sheet loading and parsing (over HTTP)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53723">[ date ]</a>
              <a href="thread.html#53723">[ thread ]</a>
              <a href="subject.html#53723">[ subject ]</a>
              <a href="author.html#53723">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
