<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;include&gt; element
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cinclude%3E%20element&In-Reply-To=%3C4637BCEE.5030900%40sicking.cc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053438.html">
   <LINK REL="Next"  HREF="053430.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;include&gt; element</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cinclude%3E%20element&In-Reply-To=%3C4637BCEE.5030900%40sicking.cc%3E"
       TITLE="[whatwg] &lt;include&gt; element">jonas at sicking.cc
       </A><BR>
    <I>Tue May  1 15:19:26 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="053438.html">[whatwg] additional empty elements
</A></li>
        <LI>Next message: <A HREF="053430.html">[whatwg] Issues concerning the &lt;base&gt; element and xml:base
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53429">[ date ]</a>
              <a href="thread.html#53429">[ thread ]</a>
              <a href="subject.html#53429">[ subject ]</a>
              <a href="author.html#53429">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Maciej Stachowiak wrote:
&gt;<i> 
</I>&gt;<i> On Apr 27, 2007, at 3:36 AM, Jonas Sicking wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Martin Atkins wrote:
</I>&gt;&gt;&gt;<i> Christian Schmidt wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> In practice, the result effect is often achieved by wrapping your 
</I>&gt;&gt;&gt;&gt;<i> include file in a document.write() and including this using script a 
</I>&gt;&gt;&gt;&gt;<i> &lt;script src=&quot;...&quot;&gt;. However, this makes it harder to write these 
</I>&gt;&gt;&gt;&gt;<i> includes by hand (you have to escape certain characters, ' &quot; \ \n \r 
</I>&gt;&gt;&gt;&gt;<i> \t), and debugging also gets more difficult.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> This last point made me think of a related issue:
</I>&gt;&gt;&gt;<i> When you use the above technique, the included script runs in the 
</I>&gt;&gt;&gt;<i> security context of the including page, and this technique therefore 
</I>&gt;&gt;&gt;<i> requires complete trust of the included document.
</I>&gt;&gt;&gt;<i> Would documents included via &lt;include&gt; run in the security context of 
</I>&gt;&gt;&gt;<i> the including page, as with the script technique, or would they run 
</I>&gt;&gt;&gt;<i> in the context of the included document, as with iframes?
</I>&gt;&gt;&gt;<i> Personally I favor the latter, but I wonder if this impact's anyone's 
</I>&gt;&gt;&gt;<i> use-cases?.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> They would run in the context of the included page, just like an 
</I>&gt;&gt;<i> iframe. The processing of &lt;include&gt; is exactly that of &lt;iframe&gt; the 
</I>&gt;&gt;<i> only difference is in the rendering.
</I>&gt;<i> 
</I>&gt;<i> In that case, wouldn't it make more sense to make in an attribute on 
</I>&gt;<i> iframe, or some setting of the CSS properties, instead of a whole 
</I>&gt;<i> different element? Different elements with identical processing model is 
</I>&gt;<i> a red flag, at least when the processing model is complex.
</I>
Using iframe would be very nice from a security point of view. I've been 
trying to think about it from a semantic point of view to see if they 
are similar enough that using the same element would be ok, and I don't 
really feel strongly either way there. But since it solves the security 
problem it sounds like the way to go.

&gt;<i> One question I have is whether the &lt;include&gt; element would be limited to 
</I>&gt;<i> being a rectangular area, or if it could participate in inline flow, or 
</I>&gt;<i> act as multiple separate blocks that lay out independently. If the 
</I>&gt;<i> former, then I would suggest appropriate values of the CSS height and 
</I>&gt;<i> width properties make sense. If the latter, I think it could be pretty 
</I>&gt;<i> impractical to implement, and probably not worth the effort. Layout 
</I>&gt;<i> engines tend to assume that there is a CSS canvas and viewport at the 
</I>&gt;<i> root of the document and may not be prepared to inject content from 
</I>&gt;<i> another document into arbitrary points in the render tree.
</I>
It would not be limited to rectangular areas and needs to take part of 
the main flow of the outer document. I do realize that this is 
non-trivial to implement, however I think it would be very valuable to 
users.
Also, rendering content that lives in another document is something that 
implementations that plan on implementing XBL is going to have to 
implement anyway.

&gt;<i> In fact, if it is limited to same-site references as you suggest, I'm 
</I>&gt;<i> not sure what it really buys you over XMLHttpRequest and then setting 
</I>&gt;<i> innerHTML on the target element.
</I>
The main advantage is ease of use. See my two examples in the original 
post where AJAX behaviours were done using basically a single statement 
of javascript (and not a single statement of XForms ;) ).

Another advantage is the fact that the the content can stream in. 
Granted, this will be doable with XMLHttpRequest once progress events 
are implemented, but that requires yet again much more effort on the 
part of the developer. Additionally performance will never be as good 
since you'll have to reset .innerHTML multiple times.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053438.html">[whatwg] additional empty elements
</A></li>
	<LI>Next message: <A HREF="053430.html">[whatwg] Issues concerning the &lt;base&gt; element and xml:base
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53429">[ date ]</a>
              <a href="thread.html#53429">[ thread ]</a>
              <a href="subject.html#53429">[ subject ]</a>
              <a href="author.html#53429">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
