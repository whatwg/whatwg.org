<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Minor clarification of &lt;meta charset&gt; sniffing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Minor%20clarification%20of%20%3Cmeta%20charset%3E%20sniffing&In-Reply-To=%3C46540ABB.6020003%40yeslogic.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053797.html">
   <LINK REL="Next"  HREF="053707.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Minor clarification of &lt;meta charset&gt; sniffing</H1>
<!--htdig_noindex-->
    <B>Michael Day</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Minor%20clarification%20of%20%3Cmeta%20charset%3E%20sniffing&In-Reply-To=%3C46540ABB.6020003%40yeslogic.com%3E"
       TITLE="[whatwg] Minor clarification of &lt;meta charset&gt; sniffing">mikeday at yeslogic.com
       </A><BR>
    <I>Wed May 23 02:34:51 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="053797.html">[whatwg] Style sheet loading and parsing (over HTTP)
</A></li>
        <LI>Next message: <A HREF="053707.html">[whatwg] Minor bug in &lt;meta charset&gt; sniffing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53706">[ date ]</a>
              <a href="thread.html#53706">[ thread ]</a>
              <a href="subject.html#53706">[ subject ]</a>
              <a href="author.html#53706">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

A minor point relating to comment skipping in the charset sniffing 
algorithm described in section 8.2.2 of HTML5. The existing text says:

&quot;Advance the position pointer so that it points at the first 0x3E byte 
which is preceeded by two 0x2D bytes (i.e. at the end of an ASCII '--&gt;' 
sequence) and comes after the second 0x2D byte that was found. (The two 
0x2D bytes cannot be the same as the those in the '&lt;!--' sequence.) If 
no such byte is found before the nth byte, abort this &quot;two step&quot; algorithm.&quot;

This clearly says that '&lt;!--&gt;' is not a complete comment, as the second 
pair of hyphens cannot be the same as the first. However, it doesn't 
clearly say whether '&lt;!---&gt;' is a complete comment or not.

One option would be to say that the second two 0x2D bytes come after the 
second 0x2D byte that was found, not just the 0x3E byte coming after the 
second 0x2D byte that was found.

Best regards,

Michael

-- 
Print XML with Prince!
<A HREF="http://www.princexml.com">http://www.princexml.com</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053797.html">[whatwg] Style sheet loading and parsing (over HTTP)
</A></li>
	<LI>Next message: <A HREF="053707.html">[whatwg] Minor bug in &lt;meta charset&gt; sniffing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53706">[ date ]</a>
              <a href="thread.html#53706">[ thread ]</a>
              <a href="subject.html#53706">[ subject ]</a>
              <a href="author.html#53706">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
