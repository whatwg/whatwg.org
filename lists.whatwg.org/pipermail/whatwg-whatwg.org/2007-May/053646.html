<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Radio UserLand: Mail from Ian Hickson
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Radio%20UserLand%3A%20Mail%20from%20Ian%20Hickson&In-Reply-To=%3C81DEC461-D6EB-41DC-8789-A5A886CD18B0%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053644.html">
   <LINK REL="Next"  HREF="053656.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Radio UserLand: Mail from Ian Hickson</H1>
<!--htdig_noindex-->
    <B>Maciej Stachowiak</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Radio%20UserLand%3A%20Mail%20from%20Ian%20Hickson&In-Reply-To=%3C81DEC461-D6EB-41DC-8789-A5A886CD18B0%40apple.com%3E"
       TITLE="[whatwg] Radio UserLand: Mail from Ian Hickson">mjs at apple.com
       </A><BR>
    <I>Fri May 18 21:29:01 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="053644.html">[whatwg] Radio UserLand: Mail from Ian Hickson
</A></li>
        <LI>Next message: <A HREF="053656.html">[whatwg] dashed lines in Canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53646">[ date ]</a>
              <a href="thread.html#53646">[ thread ]</a>
              <a href="subject.html#53646">[ subject ]</a>
              <a href="author.html#53646">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On May 18, 2007, at 4:19 PM, Ian Hickson wrote:

&gt;<i> On Fri, 22 Apr 2005, Brad Neuberg wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Here's a possible API for GET and POST semantics without  
</I>&gt;&gt;<i> XmlHttpRequest:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> window.location.href = base URL + URL parameters already appended
</I>&gt;&gt;<i> window.location.method = GET or POST, nothing else supported
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If the method is a POST method, the internal code simply pulls all  
</I>&gt;&gt;<i> the
</I>&gt;&gt;<i> parameters off of window.location.href and builds up a POST request
</I>&gt;&gt;<i> using them.  Should it URL encode each query parameter and key  
</I>&gt;&gt;<i> first, or
</I>&gt;&gt;<i> assume that they are already URL-encoded?
</I>&gt;<i>
</I>&gt;<i> Would this just be to do a scripted navigation to a POST page?
</I>&gt;<i>
</I>&gt;<i> A .method property on 'location' is an interesting idea, but it would
</I>&gt;<i> probably end up confusing (what if you set it and another script  
</I>&gt;<i> does a
</I>&gt;<i> .href=&quot;&quot; thinking it will do a GET?).
</I>
I think parsing the query part of a URL to resubmit as an http post  
body is also in general inappropriate, since one may validly POST data  
to a URL with a query part. Granted this is an edge case but there are  
certainly cleaner ways to supply a body.

&gt;<i> window.location.post() is probably the best plan if we want to do  
</I>&gt;<i> this, I
</I>&gt;<i> think. The question is, what exactly is the use case? Do we want to be
</I>&gt;<i> doing POSTs like this without the user knowing, and with JS required?
</I>
Even without use of JS, you could style a &lt;button type=&quot;submit&quot;&gt; for a  
form of otherwise hidden fields to look like a link, to make something  
that posts but looks like a normal link. To submit programatically,  
you can dynamically create a form. For cases where that is not a good  
way to build up the post body, an explicit location.post() method (or  
more generally location.load that takes URI, method, body and headers)  
would indeed be better than using multiple properties of the location  
object.

Regards,
Maciej


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053644.html">[whatwg] Radio UserLand: Mail from Ian Hickson
</A></li>
	<LI>Next message: <A HREF="053656.html">[whatwg] dashed lines in Canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53646">[ date ]</a>
              <a href="thread.html#53646">[ thread ]</a>
              <a href="subject.html#53646">[ subject ]</a>
              <a href="author.html#53646">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
