<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] No-DOM HTML (was: &lt;noscript&gt; should be allowed in &lt;head&gt;)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20No-DOM%20HTML%20%28was%3A%20%3Cnoscript%3E%20should%20be%20allowed%20in%20%3Chead%3E%29&In-Reply-To=%3CE89E341C-DD11-49CF-AA7D-4ABEE9E0FD38%40michelf.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053826.html">
   <LINK REL="Next"  HREF="053823.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] No-DOM HTML (was: &lt;noscript&gt; should be allowed in &lt;head&gt;)</H1>
<!--htdig_noindex-->
    <B>Michel Fortin</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20No-DOM%20HTML%20%28was%3A%20%3Cnoscript%3E%20should%20be%20allowed%20in%20%3Chead%3E%29&In-Reply-To=%3CE89E341C-DD11-49CF-AA7D-4ABEE9E0FD38%40michelf.com%3E"
       TITLE="[whatwg] No-DOM HTML (was: &lt;noscript&gt; should be allowed in &lt;head&gt;)">michel.fortin at michelf.com
       </A><BR>
    <I>Wed May 30 06:22:39 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="053826.html">[whatwg] &lt;noscript&gt; should be allowed in &lt;head&gt;
</A></li>
        <LI>Next message: <A HREF="053823.html">[whatwg] &lt;noscript&gt; should be allowed in &lt;head&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53827">[ date ]</a>
              <a href="thread.html#53827">[ thread ]</a>
              <a href="subject.html#53827">[ subject ]</a>
              <a href="author.html#53827">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Le 2007-05-30 &#224; 8:25, Henri Sivonen a &#233;crit :

&gt;<i> The parsing spec allows a Draconian response to parse errors.  
</I>&gt;<i> Hence, if you want SAX events, you have two conforming options:
</I>&gt;<i>  1) Build a tree in its entirety first and then emit the events  
</I>&gt;<i> based on the tree.
</I>&gt;<i>  2) Emit events as the parse progresses and halt on errors that  
</I>&gt;<i> require non-streamable recovery.
</I>
Or, assuming the spec changes to no longer move head-elements (like  
&lt;link&gt;) to the head when they're found in body, there is a third option:

3) Emit events until you reach a point where it may be possible that  
some events should be reordered, in which case you build a local DOM- 
like tree and wait until you can emit all pending events with a  
certainty they don't need to be reordered.

For instance, &lt;table&gt; requires maintaining a local DOM-like tree  
until the corresponding &lt;/table&gt; has been reached, at which point you  
know you can send events for the whole table. That's not optimal, but  
still better than keeping the whole DOM in memory and waiting until  
the end of the document to start sending events. Although it sure it  
more complicated too.

Of course, if head-elements are sent back to the head you can't go  
past the head with this technique, unless you consider yourself in  
the innerHTML case and append them to the current node, as the spec  
requires. I guess this could be fine for parsing HTML snippets  
belonging to the body for instance.


Michel Fortin
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">michel.fortin at michelf.com</A>
<A HREF="http://www.michelf.com/">http://www.michelf.com/</A>



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053826.html">[whatwg] &lt;noscript&gt; should be allowed in &lt;head&gt;
</A></li>
	<LI>Next message: <A HREF="053823.html">[whatwg] &lt;noscript&gt; should be allowed in &lt;head&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53827">[ date ]</a>
              <a href="thread.html#53827">[ thread ]</a>
              <a href="subject.html#53827">[ subject ]</a>
              <a href="author.html#53827">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
