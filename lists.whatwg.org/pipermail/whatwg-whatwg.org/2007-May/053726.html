<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Style sheet loading and parsing (over HTTP)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Style%20sheet%20loading%20and%20parsing%20%28over%20HTTP%29&In-Reply-To=%3C4654AB27.3060007%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053723.html">
   <LINK REL="Next"  HREF="053727.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Style sheet loading and parsing (over HTTP)</H1>
<!--htdig_noindex-->
    <B>Julian Reschke</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Style%20sheet%20loading%20and%20parsing%20%28over%20HTTP%29&In-Reply-To=%3C4654AB27.3060007%40gmx.de%3E"
       TITLE="[whatwg] Style sheet loading and parsing (over HTTP)">julian.reschke at gmx.de
       </A><BR>
    <I>Wed May 23 13:59:19 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="053723.html">[whatwg] Style sheet loading and parsing (over HTTP)
</A></li>
        <LI>Next message: <A HREF="053727.html">[whatwg] Style sheet loading and parsing (over HTTP)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53726">[ date ]</a>
              <a href="thread.html#53726">[ thread ]</a>
              <a href="subject.html#53726">[ subject ]</a>
              <a href="author.html#53726">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> On Wed, 23 May 2007, Julian Reschke wrote:
</I>&gt;&gt;&gt;<i> Ok, then you know that I have attempted to do the &quot;work&quot; you propose 
</I>&gt;&gt;&gt;<i> we do. What more work can we do?
</I>&gt;&gt;<i> For instance, continuing to allow UAs to trust the mime type,
</I>&gt;<i> 
</I>&gt;<i> Where possible, this is required.
</I>
Well, *always*, not most of the time.

&gt;&gt;<i> and requiring content authors to send the proper mime types.
</I>&gt;<i> 
</I>&gt;<i> This is required by HTTP.
</I>
Yes, but by speccing that UAs will ignore it you weaken that 
requirement. That's why I would like to see that happening somewhere else.

Minimally, every time HTML5 requires recipients to ignore the content 
type, it should also remind content authors that they should supply a 
proper content type nevertheless.

&gt;<i> ...
</I>&gt;&gt;&gt;<i> Indeed. And the specs, to be useful, have to match reality.
</I>&gt;&gt;<i> That may be true if all we're discussing a spec that defines what a UA 
</I>&gt;&gt;<i> has to implement to be compatible with today's broken content. I 
</I>&gt;&gt;<i> absolutely agree that it's good to write that spec, but I disagree that 
</I>&gt;&gt;<i> this should be same spec as HTML5.
</I>&gt;<i> 
</I>&gt;<i> HTML5 is that spec. That was the original goal of the WHATWG effort, and 
</I>&gt;<i> continues to be this goal. There are already other groups writing 
</I>
Yes, but the WHATWG is not identical with the W3C HTML working group.

&gt;<i> specifications that don't take today's content into account, e.g. XHTML2. 
</I>&gt;<i> Those specs will be ignored. I have no intention of writing a spec that 
</I>&gt;<i> will be ignored, it seems like a spectacular waste of time and of the 
</I>&gt;<i> human race's resources.
</I>
I don't think bringing XHTML2 into this discussion is useful. If it 
fails, there will be way more reasons.

&gt;&gt;<i> Let's look at an example.
</I>&gt;&gt;<i> &lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/#the-img">http://www.whatwg.org/specs/web-apps/current-work/#the-img</A>&gt; currently states:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &quot;The remote server's response metadata (e.g. an HTTP 404 status code, or
</I>&gt;&gt;<i> associated Content-Type headers) must be ignored when determining whether the
</I>&gt;&gt;<i> resource obtained is a valid image or not.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This allows servers to return images with error responses.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> User agents must not support non-image resources with the img element.&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Issues I have with this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - it doesn't provide tell content authors that the content-type header
</I>&gt;&gt;<i> *should* reflect the mime type; instead it suggests it doesn't matter,
</I>&gt;<i> 
</I>&gt;<i> HTTP already makes this a MUST.
</I>
If you require UAs to ignore the content type, please also remind 
authors that they need to send the correct type anyway. Otherwise you're 
*contributing* to the problem.

&gt;&gt;<i> - it disallows UAs to trust the mime type, as recommended by other specs,
</I>&gt;<i> 
</I>&gt;<i> Right, because otherwise the UA would fail to render giant swathes of 
</I>&gt;<i> existing content (literally billions of documents depend on this).
</I>
That may be true, but I think the author of software consuming HTML 
content should be able to make that decision.

&gt;&gt;<i> - and finally it even requires UAs to ignore the HTTP status (which IMHO is
</I>&gt;&gt;<i> even worse than the Content-Type issue).
</I>&gt;<i> 
</I>&gt;<i> Sadly, our opinions (and I agree with you that it is a bad thing) aren't 
</I>&gt;<i> really relevant here. It doesn't matter what we want, we have to take into 
</I>&gt;<i> account the existing content. Otherwise, browser vendors would ignore our 
</I>&gt;<i> spec, and we would have been reduced to creating fictional documents with 
</I>&gt;<i> no real world relevance.
</I>
Well, by requiring UAs to disrespect HTTP you contribute to the problem.

I have no problem with UAs *doing* that, I also have no problem with 
having a document that spells out what browsers do today to cope with 
broken content, but again, I think it's a very bad idea to put that 
stuff into a spec that obsoletes HTML4.

&gt;&gt;&gt;<i> It would be worse if reality and the future HTML spec contradicted 
</I>&gt;&gt;&gt;<i> each other. (It is already quite bad that the TAG finding contradicts 
</I>&gt;&gt;&gt;<i> reality.)
</I>&gt;&gt;<i> Well, I disagree. The TAG finding says how things should work.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If you think that this is wrong, you'll have to try to change *that* (I 
</I>&gt;&gt;<i> know you tried...), but just ignoring it in a W3C spec is unlikely to be 
</I>&gt;&gt;<i> accepted.
</I>&gt;<i> 
</I>&gt;<i> Accepted by whom? The browser vendors are the main &quot;clients&quot; of this spec. 
</I>&gt;<i> Why would they not accept something that described what they had to do?
</I>
Accepted by the W3C.

&gt;<i> The _TAG findings_ are what haven't been accepted.
</I>
If you want to proceed with this activity inside the W3C, I think you 
really can't ignore what's been stated before. I don't see how HTML5 (as 
a W3C spec) can be incompatible with that TAG finding -- one or both 
will need to change.

&gt;&gt;<i> What I'm saying is that an HTML spec should be silent on these issues, 
</I>&gt;&gt;<i> instead of contradicting the other specs that are relevant. If you don't 
</I>&gt;&gt;<i> like what these specs say, try to revise them. But don't try to redefine 
</I>&gt;&gt;<i> these things in HTML5.
</I>&gt;<i> 
</I>&gt;<i> The ignoring of Content-Type is specific to certain parts of HTML, it's 
</I>&gt;<i> not a general thing. (Also, the HTTP working group has unfortunately been 
</I>&gt;<i> resistant to requests for changes that take reality into account; their 
</I>&gt;<i> spec may well end up irrelevant. There has been talk of making an &quot;HTTP5&quot; 
</I>&gt;<i> spec that fixes problems like this.)
</I>
1) There is not HTTP working group, only people interested to revive it, 
collecting open issues and potential resolutions.

2) I recall one instance where a WHATWG member requested a change in a 
mail to the former HTTP WG's mailing list, and as far as I can recall, 
he/she failed to get support for that (was it Content-Location?). 
Anyway, please provide a more precise pointer, or follow up on that 
mailing list.

3) As long as an &quot;HTTP5&quot; spec doesn't claim to be compatible with 
HTTP/1.1 (when it isn't), and that spec gets IETF/IESG support, fine.

&gt;&gt;<i> Again, that doesn't mean that documenting what's needed today isn't a 
</I>&gt;&gt;<i> good thing. I just think it needs to be a different document.
</I>&gt;<i> 
</I>&gt;<i> That &quot;different document&quot; is the HTML5 spec. You are welcome to work on a 
</I>&gt;<i> document that describes what you would _like_ reality to have been. But it 
</I>&gt;<i> isn't this spec.
</I>
Ian, I understand that this is what the WHATWG'S HTML5 document does 
today; I just don't see how it can become the W3C's HTML5 spec while 
doing this. It seems to me it's pointless to continue this thread over 
here, but the same issues will come up again on the W3C mailing list for 
sure.

Best regards, Julian



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053723.html">[whatwg] Style sheet loading and parsing (over HTTP)
</A></li>
	<LI>Next message: <A HREF="053727.html">[whatwg] Style sheet loading and parsing (over HTTP)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53726">[ date ]</a>
              <a href="thread.html#53726">[ thread ]</a>
              <a href="subject.html#53726">[ subject ]</a>
              <a href="author.html#53726">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
