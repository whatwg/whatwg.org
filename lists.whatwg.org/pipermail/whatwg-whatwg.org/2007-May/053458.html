<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Focus management
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Focus%20management&In-Reply-To=%3C04400439-8B43-44D2-95AD-FDDBE2E7AA26%40mac.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053621.html">
   <LINK REL="Next"  HREF="053459.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Focus management</H1>
<!--htdig_noindex-->
    <B>Simon Fraser</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Focus%20management&In-Reply-To=%3C04400439-8B43-44D2-95AD-FDDBE2E7AA26%40mac.com%3E"
       TITLE="[whatwg] Focus management">smfr at mac.com
       </A><BR>
    <I>Fri May  4 13:26:21 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="053621.html">[whatwg] Feedback affected by the predefined classes being gone
</A></li>
        <LI>Next message: <A HREF="053459.html">[whatwg] Canvas - createRadialGradient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53458">[ date ]</a>
              <a href="thread.html#53458">[ thread ]</a>
              <a href="subject.html#53458">[ subject ]</a>
              <a href="author.html#53458">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Some web applications may need more control over focus than is offered  
by
the existing focus management proposal:
&lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/#focus">http://www.whatwg.org/specs/web-apps/current-work/#focus</A>&gt;

Specifically, it's hard to write JavaScript that has more explicit  
control
over focus changes. Functionality that is missing (but often included in
native UI toolkits) includes:

* Focus chain queries
     need the ability to ask the document what the next/previous  
focusable
     element is from a given element, or from null (first/last focusable
     element).

* Is element focusable
     need to be able to ask an element if it can take focus.  
Focusability is
     currently some function of element type, tabindex, visibility,
     contentEditability, UA preferenes etc, and it's hard to write JS
     that computes this.

* Explicit advance/rewind focus
     need to be able to move focus to the next/previous focusable
     element without having explicit knowledge of what the next
     element is (this mirrors what happens when the user hits the Tab
     or Shift-Tab keys).

     (If nextFocus()/previousFocus() are available, this could be  
achieved with
         document.nextFocus(document.activeElement).focus(),
      but that seems a little long-winded.)

In addition, I'd like to see a few clarifications in the &quot;Focus  
management&quot;
section of the Web Applications draft:

* What does focus() do on an unfocusable element? Does the previously
   focused element remain focused?

* document.activeElement has some ambiguities:
     - Is it valid when the window does not have focus?
     - IE has a setActive() method that changes the activeElement, but
         does not change the focus. So the activeElement is not always
         the focused element.

* how does display: none or visibility: hidden interact with focus?
     - if a focused element becomes unrendered, does focus move to the
       next focusable element?
     - can non-rendered elements be focused?

Finally I'd like to see some discussion around focus() and window  
activation.
window.focus() obviously (and annoyingly) activates the window, but  
should
focussing an element inside a window raise the window? What happens if
that window is a hidden tab in a tabbed browser?

Simon



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053621.html">[whatwg] Feedback affected by the predefined classes being gone
</A></li>
	<LI>Next message: <A HREF="053459.html">[whatwg] Canvas - createRadialGradient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53458">[ date ]</a>
              <a href="thread.html#53458">[ thread ]</a>
              <a href="subject.html#53458">[ subject ]</a>
              <a href="author.html#53458">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
