<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Scripting Tweaks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Scripting%20Tweaks&In-Reply-To=%3Ccee13aa30705182237x7a329750t1a3339eb13fa87e3%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053650.html">
   <LINK REL="Next"  HREF="053651.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Scripting Tweaks</H1>
<!--htdig_noindex-->
    <B>liorean</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Scripting%20Tweaks&In-Reply-To=%3Ccee13aa30705182237x7a329750t1a3339eb13fa87e3%40mail.gmail.com%3E"
       TITLE="[whatwg] Scripting Tweaks">liorean at gmail.com
       </A><BR>
    <I>Fri May 18 22:37:40 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="053650.html">[whatwg] Scripting Tweaks
</A></li>
        <LI>Next message: <A HREF="053651.html">[whatwg] Scripting Tweaks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53649">[ date ]</a>
              <a href="thread.html#53649">[ thread ]</a>
              <a href="subject.html#53649">[ subject ]</a>
              <a href="author.html#53649">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> &gt; On Wed, 20 Apr 2005, Dean Edwards wrote:
</I>&gt;<i> &gt;&gt; 1) Mozilla's DOMContentLoaded event is very handy. It fires when a
</I>&gt;<i> &gt;&gt; node's content has been loaded and parsed (the DOM has been
</I>&gt;<i> &gt;&gt; constructed). This is much better than the standard onload event as
</I>&gt;<i> &gt;&gt; it
</I>&gt;<i> &gt;&gt; doesn't wait for binary content to also load.
</I>
&gt;<i> On May 18, 2007, at 3:40 PM, Ian Hickson wrote:
</I>&gt;<i> &gt; Added.
</I>
On 19/05/07, Maciej Stachowiak &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mjs at apple.com</A>&gt; wrote:
&gt;<i> FYI this was considered and rejected by the Web API Working Group at
</I>&gt;<i> W3C for inclusion in DOM Events, I believe because there did not seem
</I>&gt;<i> to be a truly valid use case (a popular use of this event is for late
</I>&gt;<i> binding of script, but given the event definition and the existence of
</I>&gt;<i> incremental rendering you can't actually be guaranteed the event will
</I>&gt;<i> fire before any content has rendered - XBL2 potentially provides a
</I>&gt;<i> better solution). I suggest referring to these discussions.
</I>
True, but what is wanted by scripters isn't that it triggers before
any rendering takes place at all, what is wanted by scripters is to
not have to wait for external content to load, in difference to the
load event. The important factors are that the DOM is not incomplete
and that it takes place as soon as possible, not that rendering hasn't
started - because most often it's wanted specifically for DOM
manipulation.

&gt;<i> Also, &lt;script defer&gt; as defined in HTML5 gives you the exact same
</I>&gt;<i> capabilities as DOMContentLoaded: &quot;If the defer attribute is present,
</I>&gt;<i> then the script is executed when the page has finished parsing.&quot; I'm
</I>&gt;<i> not sure it's necessary to add a second way to do the same thing,
</I>&gt;<i> given that the thing in question is somewhat suboptimal anyway.
</I>
Well, some issues with that:
- It makes our script dependent on HTML. We'd have to split the script
into several HTML elements.
- We cannot rely on being able to create and add deferred scripts to
the DOM before the DOM is already complete, so it doesn't allow for
dynamically adding (before the DOM has is complete) code that modifies
the DOM after it has been completed.

&gt;<i> That being said, I don't think it's a huge problem to add it, but you
</I>&gt;<i> may want to review the arguments raised in the Web API WG.
</I>
The lack of this feature is a real problem for scripters and is the
cause for a large number of blog posts and empirical studies of
current browser behaviour to create a single common way to achieve the
effect, something that lack of browser interoperability hasn't fully
achieved so far.
-- 
David &quot;liorean&quot; Andersson

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053650.html">[whatwg] Scripting Tweaks
</A></li>
	<LI>Next message: <A HREF="053651.html">[whatwg] Scripting Tweaks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53649">[ date ]</a>
              <a href="thread.html#53649">[ thread ]</a>
              <a href="subject.html#53649">[ subject ]</a>
              <a href="author.html#53649">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
