<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Update to the Adoption Agency Algorithm
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Update%20to%20the%20Adoption%20Agency%20Algorithm&In-Reply-To=%3C6pm8u19kj8t903gdpdmlocneqa8op3hstq%40hive.bjoern.hoehrmann.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048026.html">
   <LINK REL="Next"  HREF="048020.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Update to the Adoption Agency Algorithm</H1>
<!--htdig_noindex-->
    <B>Bjoern Hoehrmann</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Update%20to%20the%20Adoption%20Agency%20Algorithm&In-Reply-To=%3C6pm8u19kj8t903gdpdmlocneqa8op3hstq%40hive.bjoern.hoehrmann.de%3E"
       TITLE="[whatwg] Update to the Adoption Agency Algorithm">derhoermi at gmx.net
       </A><BR>
    <I>Sat Feb  4 01:01:58 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="048026.html">[whatwg] Update to the Adoption Agency Algorithm
</A></li>
        <LI>Next message: <A HREF="048020.html">[whatwg] Update to the Adoption Agency Algorithm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48027">[ date ]</a>
              <a href="thread.html#48027">[ thread ]</a>
              <a href="subject.html#48027">[ subject ]</a>
              <a href="author.html#48027">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>* Ian Hickson wrote:
&gt;&gt;<i> Well, if you approach the problem by asking whether it's possible that 
</I>&gt;&gt;<i> things become non-compliant, you'll either have to analyze any and all 
</I>&gt;&gt;<i> dependencies like server-side scripts and workflows or you'd generate 
</I>&gt;&gt;<i> false negatives, since adding some external data to the document is very 
</I>&gt;&gt;<i> likely to generate errors if the external data is non-compliant. The 
</I>&gt;&gt;<i> right approach here is to extend implementations to perform validation, 
</I>&gt;&gt;<i> e.g. after each mutation event.
</I>&gt;<i>
</I>&gt;<i>That still wouldn't work. Take this document:
</I>
Yes, as we both point out, you can only approximate a result.


&gt;<i>        if (Math.random() &gt; 0.5)
</I>&gt;<i>          document.write('&lt;div&gt;');
</I>&gt;<i>        else
</I>&gt;<i>          document.write('&lt;\/div&gt;');
</I>
&gt;<i>Is it conformant?
</I>
Well, as I understand your suggestion you have

  for all possible states s for document d
    if s is an invalid state
      generate error

While I have

  for some possible states s for document d
    if s is an invalid state
      generate error

The most sophisticated implementation of your approach would end up
saying things like

  The document is invalid if and only if the user manages to click
  on 500 rects placed at random positions within two seconds provided
  that some remote resource as specified by the user had a Last-
  Modified header set to some date in 2036. Beware the robots.

If you combine my approach with code coverage analysis you'll probably
end up after some testing with the result that you could not generate
an invalid state but there are unexercised code paths. I'm just saying
that my approach is easier to implement and more relevant to developers
looking for advise how to improve their code.

If the concern here is what the specification should say, then that's
what a valid state is, not what a valid document is, since the class
of &quot;predictably valid&quot; documents does not cover many dynamic documents.
-- 
Bj&#246;rn H&#246;hrmann &#183; mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bjoern at hoehrmann.de</A> &#183; <A HREF="http://bjoern.hoehrmann.de">http://bjoern.hoehrmann.de</A>
Weinh. Str. 22 &#183; Telefon: +49(0)621/4309674 &#183; <A HREF="http://www.bjoernsworld.de">http://www.bjoernsworld.de</A>
68309 Mannheim &#183; PGP Pub. KeyID: 0xA4357E78 &#183; <A HREF="http://www.websitedev.de/">http://www.websitedev.de/</A> 

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048026.html">[whatwg] Update to the Adoption Agency Algorithm
</A></li>
	<LI>Next message: <A HREF="048020.html">[whatwg] Update to the Adoption Agency Algorithm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48027">[ date ]</a>
              <a href="thread.html#48027">[ thread ]</a>
              <a href="subject.html#48027">[ subject ]</a>
              <a href="author.html#48027">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
