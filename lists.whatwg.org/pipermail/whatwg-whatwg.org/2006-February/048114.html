<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTML5 Parsing spec first draft ready
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML5%20Parsing%20spec%20first%20draft%20ready&In-Reply-To=%3CA24BD2AA-5C4A-4374-9347-23C3D6774741%40iki.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048111.html">
   <LINK REL="Next"  HREF="048081.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTML5 Parsing spec first draft ready</H1>
<!--htdig_noindex-->
    <B>Henri Sivonen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML5%20Parsing%20spec%20first%20draft%20ready&In-Reply-To=%3CA24BD2AA-5C4A-4374-9347-23C3D6774741%40iki.fi%3E"
       TITLE="[whatwg] HTML5 Parsing spec first draft ready">hsivonen at iki.fi
       </A><BR>
    <I>Sun Feb 19 12:38:43 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="048111.html">[whatwg] HTML5 Parsing spec first draft ready
</A></li>
        <LI>Next message: <A HREF="048081.html">[whatwg] HTML5 Parsing spec first draft ready
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48114">[ date ]</a>
              <a href="thread.html#48114">[ thread ]</a>
              <a href="subject.html#48114">[ subject ]</a>
              <a href="author.html#48114">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Feb 16, 2006, at 00:56, Dan Brickley wrote:

&gt;<i> Discussing some related work (GRDDL) in the W3C SemWeb CG, I was
</I>&gt;<i> wondering whether there is any way your parser spec could be
</I>&gt;<i> specified as input for a GRDDL transform. GRDDL provides techniques  
</I>&gt;<i> for
</I>&gt;<i> transforming XML-based languages (including XHTML) into an RDF
</I>&gt;<i> representation; typically by reference to an XSLT. If the WHATWG
</I>&gt;<i> parser spec defined itself in terms of some XML-shaped output, the two
</I>&gt;<i> should chain nicely together. Have you considered defining the parser
</I>&gt;<i> behaviour in terms of XML concepts?
</I>
HTML5 parsing for browsers that support scripting needs to be defined  
in such a way that a legacy-compatible HTML DOM is produced. However,  
there are apps other than browsers (eg. CMSs, conformance checkers  
and search engines) that will, in my opinion, be better off if they  
don't run their code against the HTML DOM but instead convert HTML  
documents into equivalent XHTML documents as early as possible and  
then work with XHTML internally. I guess whatever apps use GRDDL or  
XSLT are likely to be in the class of apps that are better off  
working with XHTML internally.

(In the conversion from HTML to XHTML, the XHTML serialization can be  
optimized away and does not have to exist in memory at any stage.  
With HTML 4.01 and Java, TagSoup would be appropriate for the job.)

To this end, I think it would be beneficial if for every conforming  
HTML5 document there was an unambiguous equivalent representation in  
canonicalized (per XML C14N) XHTML. I have not reviewed the spec  
lately to see if this is already the case, but I expect it to be.  
(Obviously, this cannot be the case for non-conforming documents  
since the output DOM of the parsing algorithm can have eg. attribute  
names that are forbidden in XML 1.0.)

Off the top of my head, the changes from the HTML parsing output  
involve (besides lowercasing names and putting elements in the XHTML  
1.x namespace) getting rid of the meta element conveying character  
encoding information, mapping the lang attribute to xml:lang, copying  
the name of boolean attributes into the value and perhaps some issues  
with line breaks in attribute values.

Whether the spec needs to say any of this is another matter  
altogether. For interop, speccing what browsers need to do is the  
most important task.

-- 
Henri Sivonen
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at iki.fi</A>
<A HREF="http://hsivonen.iki.fi/">http://hsivonen.iki.fi/</A>



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048111.html">[whatwg] HTML5 Parsing spec first draft ready
</A></li>
	<LI>Next message: <A HREF="048081.html">[whatwg] HTML5 Parsing spec first draft ready
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48114">[ date ]</a>
              <a href="thread.html#48114">[ thread ]</a>
              <a href="subject.html#48114">[ subject ]</a>
              <a href="author.html#48114">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
