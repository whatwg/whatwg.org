<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] getElementsByClassName()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20getElementsByClassName%28%29&In-Reply-To=%3C43E41091.6070602%40lachy.id.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048011.html">
   <LINK REL="Next"  HREF="048019.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] getElementsByClassName()</H1>
<!--htdig_noindex-->
    <B>Lachlan Hunt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20getElementsByClassName%28%29&In-Reply-To=%3C43E41091.6070602%40lachy.id.au%3E"
       TITLE="[whatwg] getElementsByClassName()">lachlan.hunt at lachy.id.au
       </A><BR>
    <I>Fri Feb  3 18:25:21 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="048011.html">[whatwg] getElementsByClassName()
</A></li>
        <LI>Next message: <A HREF="048019.html">[whatwg] getElementsByClassName()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48017">[ date ]</a>
              <a href="thread.html#48017">[ thread ]</a>
              <a href="subject.html#48017">[ subject ]</a>
              <a href="author.html#48017">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Jim Ley wrote:
&gt;<i> On 2/3/06, Michel Fortin &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">michel.fortin at michelf.com</A>&gt; wrote:
</I>&gt;&gt;<i> Le 2006-02-03 &#224; 09:30, Jim Ley a &#233;crit :
</I>&gt;&gt;<i> So to generalize the use case, when I want to attach an event to a
</I>&gt;&gt;<i> child element or an element linked by any other mean to the element
</I>&gt;&gt;<i> having that class, I can't use addEventListenerToClass.
</I>&gt;<i> 
</I>&gt;<i> So this shows that addEventListenerToCSSSelector is really what you
</I>&gt;<i> want so you can attach it to A's that are children of the class
</I>&gt;<i> doesn't it?
</I>
I don't agree with that, there are many valid use cases for a 
getElementsByClassName and while it is true that many of them are event 
related, that doesn't mean they all are.  For example, if an author 
marked up dates in their document like this (due to the lack of a date 
element)

&lt;span class=&quot;date&quot;&gt;2006-02-03T01:30Z&lt;/date&gt;

A script could get all the elements with the class name of &quot;date&quot;, parse 
it and modify it to the user's preferred time zone and format.  So, for 
example, the script could change it to this for a typical Australian user:

&lt;span class=&quot;date&quot;&gt;03 Feb 2006 12:30 (local time)&lt;/span&gt;

Whereas, an American user may get this instead:

&lt;span class=&quot;date&quot;&gt;Feb 02, 2006 20:30 (local time)&lt;/span&gt;


Regarding the idea for addEventListenerToSelector, while I don't think 
it should be implemented as a function like that, the idea of attaching 
events based on a selector is quite reasonable.  What if there was a way 
to declaratively attach events to elements in the same way that the 
on[event] attributes in HTML do, but with same level of abstraction 
provided by CSS using selectors.  It could even be used for some the 
event-related use cases for getElementsByClassName, simply by using a 
class selector.

Of course, there is XML Events, which also seems to be declarative, but 
from what I know about it (not very much), it seems to be limited to 
specifying IDs of the target/observer elements and putting IDs on every 
target element is not always convenient; or otherwise embedding the 
event attributes (like ev:handler, ev:event, etc) throughout the markup, 
just like with the HTML on[event] attributes.

There's also IE's behaviours using HTCs and the proprietary 'behavior' 
property in CSS, but it seems rather complex and HTCs look quite messy 
(they seem to be a weird mixture of proprietary HTML with some XML 
syntax), although perhaps they were on the right track with the concept 
of making them declarative.

For example, using this CSS-like syntax (but it's not CSS).

selector {
   event-name: function();
}

For example, using a real (rather nifty) javascript example, called Lightbox
<A HREF="http://www.huddletogether.com/projects/lightbox/">http://www.huddletogether.com/projects/lightbox/</A>

The basic way in which this works is to look for A elements with a rel 
attribute containing a &quot;lightbox&quot; value.  For everyone it finds, it 
attaches a click event handler, which then handles all the funky 
animation and loading of the image within the same page.

Using the above css-like syntax, that could be achieved by doing this:

a[rel=lightbox] {
   click: showLightbox(attr(href), attr(title));
}

I know it's not an extremely well thought out idea, it's just a bit of 
brainstorming, but it could always be improved.  It also seems to be a 
little out of scope for the WhatWG.

-- 
Lachlan Hunt
<A HREF="http://lachy.id.au/">http://lachy.id.au/</A>


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048011.html">[whatwg] getElementsByClassName()
</A></li>
	<LI>Next message: <A HREF="048019.html">[whatwg] getElementsByClassName()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48017">[ date ]</a>
              <a href="thread.html#48017">[ thread ]</a>
              <a href="subject.html#48017">[ subject ]</a>
              <a href="author.html#48017">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
