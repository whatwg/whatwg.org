<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Forms 2.0 proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Forms%202.0%20proposal&In-Reply-To=%3C43ED171D.50406%40westnet.com.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005791.html">
   <LINK REL="Next"  HREF="005793.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Forms 2.0 proposal</H1>
<!--htdig_noindex-->
    <B>Sean Hogan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Forms%202.0%20proposal&In-Reply-To=%3C43ED171D.50406%40westnet.com.au%3E"
       TITLE="[whatwg] Web Forms 2.0 proposal">shogun70 at westnet.com.au
       </A><BR>
    <I>Fri Feb 10 14:43:41 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="005791.html">[whatwg] Web Forms 2.0 proposal
</A></li>
        <LI>Next message: <A HREF="005793.html">[whatwg] [wf2] changing the size DOM attribute of &lt;select&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5792">[ date ]</a>
              <a href="thread.html#5792">[ thread ]</a>
              <a href="subject.html#5792">[ subject ]</a>
              <a href="author.html#5792">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:

&gt;<i>On Sat, 11 Feb 2006, Sean Hogan wrote:
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;&gt;<i>I would request a input filter as a regex range eg a-zA-Z0-9 i.e.  if 
</I>&gt;&gt;<i>the keyCode is NOT within the range then preventDefault(). I imagine 
</I>&gt;&gt;<i>that number, date, datetime, etc will be special implementations that 
</I>&gt;&gt;<i>filter keyboard input. Why not extend the facility to text, etc?
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>This is already possible using the pattern=&quot;&quot; attribute:
</I>&gt;<i>
</I>&gt;<i>   <A HREF="http://whatwg.org/specs/web-forms/current-work/#pattern">http://whatwg.org/specs/web-forms/current-work/#pattern</A>
</I>&gt;<i>
</I>&gt;<i>Thanks,
</I>&gt;<i>  
</I>&gt;<i>
</I>I expressed myself poorly. 

If I'm reading the spec correctly then &quot;pattern&quot; is used to 
prevent/allow form submission, and to highlight an invalid entry. 

What I am suggesting is a filter that can be matched against for each 
keypress event. 
If keyCode matches then the character is appended to the input as normal. 
If it doesn't then the character is dropped on the floor. 

Here is some code which may be correct for current W3C browsers. 
The intention here is to only accept alphanumeric characters. 

&lt;input type=&quot;text&quot; filter=&quot;a-zA-Z0-9&quot; onkeypress=&quot;inputfilter&quot; /&gt;
&lt;script&gt;
    inputfilter(e) {
        var n = e.keyCode || e.which; // keyCode is 0 for mozilla.  use 
which.
        if (n==8 || n==9 || n==16 || n==17 || n==37 || n==39 || n==46) 
return true; // don't filter control characters
        var str = String.fromCharCode(n);
        var filter = this.getAttribute(&quot;filter&quot;);
        var r = new RegExp(&quot;[&quot;+filter+&quot;]&quot;); 
        if (r.test(str)) return true;
        e.preventDefault();
        return false;
    }
&lt;/script&gt;


On second thoughts, it probably isn't a good idea to put this in the 
standard. 
It is probably within the same realm as spell checking and 
auto-correction. 

cheers,
SDH


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005791.html">[whatwg] Web Forms 2.0 proposal
</A></li>
	<LI>Next message: <A HREF="005793.html">[whatwg] [wf2] changing the size DOM attribute of &lt;select&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5792">[ date ]</a>
              <a href="thread.html#5792">[ thread ]</a>
              <a href="subject.html#5792">[ subject ]</a>
              <a href="author.html#5792">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
