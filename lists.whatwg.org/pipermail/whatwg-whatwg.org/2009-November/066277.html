<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [WebWorkers] About the delegation example
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BWebWorkers%5D%20About%20the%20delegation%20example&In-Reply-To=%3Cdd0fbad0911061029v8a684d9p8b179a1108dd77db%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066266.html">
   <LINK REL="Next"  HREF="066278.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [WebWorkers] About the delegation example</H1>
<!--htdig_noindex-->
    <B>Tab Atkins Jr.</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BWebWorkers%5D%20About%20the%20delegation%20example&In-Reply-To=%3Cdd0fbad0911061029v8a684d9p8b179a1108dd77db%40mail.gmail.com%3E"
       TITLE="[whatwg] [WebWorkers] About the delegation example">jackalmage at gmail.com
       </A><BR>
    <I>Fri Nov  6 10:29:59 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="066266.html">[whatwg] [WebWorkers] About the delegation example
</A></li>
        <LI>Next message: <A HREF="066278.html">[whatwg] [WebWorkers] About the delegation example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66277">[ date ]</a>
              <a href="thread.html#66277">[ thread ]</a>
              <a href="subject.html#66277">[ subject ]</a>
              <a href="author.html#66277">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Nov 5, 2009 at 10:32 PM, David Bruant &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bruant at enseirb-matmeca.fr</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> First of all, there is a typo error in this example. The main HTML page
</I>&gt;<i> is a copy/paste of the first example (&quot;Worker example: One-core
</I>&gt;<i> computation&quot;).
</I>&gt;<i>
</I>&gt;<i> My point here is to ask for a new attribute for the navigator object
</I>&gt;<i> that could describe the &quot;best&quot; number of workers in a delegation use case.
</I>&gt;<i>
</I>&gt;<i> In the delegation example, the number of workers chosen is an arbitrary
</I>&gt;<i> 10. But, in a single-core processor, having only one worker will result
</I>&gt;<i> in more or less the same running time, because at the end, each worker
</I>&gt;<i> runs on the only core. This is just a waist of memory (and maybe time
</I>&gt;<i> because of scheduling cost).
</I>
This is not true.  The naive way of coding it without workers may
freeze the UI whenever doing heavy computation.  To ensure that you
can avoid this you have to be very explicit about breaking up your
algorithm into chunks that you can chain together with setTimeout.
Offloading the heavy computation to a worker allows you to code in the
naive style (which is much easier to both code and understand) without
the risk of UI-freeze.

(I don't know the details, but it also seems possible that the
context-switching between main page and worker may be cheaper than
heavy setTimeout use.  Someone else would have to confirm/deny this.)

&gt;<i> On the other hand, on a 16-core processor (which doesn't exist yet, but
</I>&gt;<i> is a realistic idea for the next couple of decades), the task could be
</I>&gt;<i> executed faster with 16 workers.
</I>
Try 2 years, if AMD's press releases can be trusted. ^_^

&gt;<i> The current best way to determine the number of worker that yields the
</I>&gt;<i> ressouces in the best way is to run a benchmark on an increasing number
</I>&gt;<i> of worker and stop it when the performance improvement stops.
</I>&gt;<i> I hope you will admit that this way in not acceptable.
</I>
I'm interested in seeing if browsers can provide reasonably accurate
estimates of this.

~TJ

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066266.html">[whatwg] [WebWorkers] About the delegation example
</A></li>
	<LI>Next message: <A HREF="066278.html">[whatwg] [WebWorkers] About the delegation example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66277">[ date ]</a>
              <a href="thread.html#66277">[ thread ]</a>
              <a href="subject.html#66277">[ subject ]</a>
              <a href="author.html#66277">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
