<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Possible bugs : Microdata Itemscope on &lt;link/&gt; and	&lt;meta/&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Possible%20bugs%20%3A%20Microdata%20Itemscope%20on%20%3Clink/%3E%20and%0A%09%3Cmeta/%3E&In-Reply-To=%3C4B125F08.6010004%40depulz.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066471.html">
   <LINK REL="Next"  HREF="066485.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Possible bugs : Microdata Itemscope on &lt;link/&gt; and	&lt;meta/&gt;</H1>
<!--htdig_noindex-->
    <B>Tim van Oostrom</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Possible%20bugs%20%3A%20Microdata%20Itemscope%20on%20%3Clink/%3E%20and%0A%09%3Cmeta/%3E&In-Reply-To=%3C4B125F08.6010004%40depulz.nl%3E"
       TITLE="[whatwg] Possible bugs : Microdata Itemscope on &lt;link/&gt; and	&lt;meta/&gt;">tim at depulz.nl
       </A><BR>
    <I>Sun Nov 29 03:46:16 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="066471.html">[whatwg] Possible bugs : Microdata Itemscope on &lt;link/&gt; and &lt;meta/&gt;
</A></li>
        <LI>Next message: <A HREF="066485.html">[whatwg] Possible bugs : Microdata Itemscope on &lt;link/&gt; and &lt;meta/&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66484">[ date ]</a>
              <a href="thread.html#66484">[ thread ]</a>
              <a href="subject.html#66484">[ subject ]</a>
              <a href="author.html#66484">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Philip J&#228;genstedt wrote:
&gt;<i> On Thu, 26 Nov 2009 22:30:41 +0100, Tim van Oostrom &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">tim at depulz.nl</A>&gt; 
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi, I made a forumpost : 
</I>&gt;&gt;<i> <A HREF="http://forums.whatwg.org/viewtopic.php?t=4176,">http://forums.whatwg.org/viewtopic.php?t=4176,</A> concerning a possible 
</I>&gt;&gt;<i> &quot;microdata specification bug&quot; and a bug in the james.html5.org 
</I>&gt;&gt;<i> microdata extractor.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Comes down to &lt;link/&gt; and &lt;meta/&gt; elements possibly being unfit for 
</I>&gt;&gt;<i> use with the itemscope attribute.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I made an example in the forum post with some nice ubb formatting .
</I>&gt;&gt;<i>
</I>&gt;<i> There are some other issues with &lt;link&gt; and &lt;meta&gt; you might want to 
</I>&gt;<i> review first: [1]
</I>Ok
&gt;<i> Your second example was:
</I>&gt;<i>
</I>&gt;<i> &lt;div itemtype=&quot;<A HREF="http://url.to/geoVocab#country">http://url.to/geoVocab#country</A>&quot; itemscope&gt;
</I>&gt;<i>    &lt;span itemprop=&quot;<A HREF="http://xmlns.com/foaf/spec/index.rdf#name">http://xmlns.com/foaf/spec/index.rdf#name</A>&quot; 
</I>&gt;<i> lang=&quot;cn&quot;&gt;&#20013;&#33775;&#20154;&#27665;&#20849;&#21644;&#22283;&lt;/span&gt;
</I>&gt;<i>    &lt;span itemprop=&quot;<A HREF="http://xmlns.com/foaf/spec/index.rdf#name">http://xmlns.com/foaf/spec/index.rdf#name</A>&quot; 
</I>&gt;<i> lang=&quot;en&quot;&gt;China&lt;/span&gt;
</I>&gt;<i>    &lt;link itemprop=&quot;<A HREF="http://url.to/city">http://url.to/city</A>&quot; href=&quot;<A HREF="http://url.to/shanghai">http://url.to/shanghai</A>&quot; 
</I>&gt;<i> itemscope itemref=&quot;city-shanghai&quot; /&gt;
</I>&gt;<i>    &lt;div id=&quot;city-shanghai&quot;&gt;
</I>&gt;<i>       &lt;span 
</I>&gt;<i> itemprop=&quot;<A HREF="http://xmlns.com/foaf/spec/index.rdf#name">http://xmlns.com/foaf/spec/index.rdf#name</A>&quot;&gt;Shanghai&lt;/span&gt;
</I>&gt;<i>       &lt;span itemprop=&quot;<A HREF="http://url.to/demoVocab#population">http://url.to/demoVocab#population</A>&quot;&gt;14.61 
</I>&gt;<i> million people&lt;/span&gt;
</I>&gt;<i>       &lt;span itemprop=&quot;<A HREF="http://url.to/physicsVocab#time">http://url.to/physicsVocab#time</A>&quot; 
</I>&gt;<i> datetime=&quot;2009-11-26 11:43&quot;&gt;11:43 pm (CT)&lt;/span&gt;
</I>&gt;<i>    &lt;/div&gt;
</I>&gt;<i> &lt;/div&gt;
</I>&gt;<i>
</I>&gt;<i> By using itemprop+itemscope, you're saying that the property is itself 
</I>&gt;<i> an item. Also specifying href=&quot;<A HREF="http://url.to/shanghai">http://url.to/shanghai</A>&quot; does nothing.
</I>I also pointed that out in my forumpost.
&gt;<i> &lt;link&gt;, &lt;meta&gt; and any other void elements are usually the wrong 
</I>&gt;<i> choice for itemprop+itemscope because they don't have child elements, 
</I>&gt;<i> so itemref is the only way to add properties. 
</I>Yes, see forumpost. Shouldn't this be noted in the Spec then ?  (maybe i 
read over it)
&gt;<i> What you've accidentally done above is add the 3 properties of 
</I>&gt;<i> Shanghai to both the top-level item and the sub-item, see [2] for 
</I>&gt;<i> details. 
</I>Well, i did it in full awareness, i interpreted the itemref attribute 
like this. But if it can't be used this way, isn't this a setback on the 
flexibility of itemref? Or was it intended this way.
According to this an &quot;itemref&quot; attribute can never be added to an &quot;item&quot; 
within an itemscope of another &quot;item&quot; without the crawled prop/val pairs 
also applying to the ancestors itemscope.

For example, when i rearrange the &quot;Amanda&quot; example from the spec like 
this :

&lt;div itemscope itemtype=&quot;<A HREF="http://url.to/whatwgDiscussionVocab#example">http://url.to/whatwgDiscussionVocab#example</A>&quot;&gt;
&lt;div itemprop=&quot;<A HREF="http://url.to/whatwgDiscussionVocab#exampleSubject">http://url.to/whatwgDiscussionVocab#exampleSubject</A>&quot; 
id=amanda itemref=&quot;a b&quot; itemscope=&quot;&quot; 
itemtype=&quot;<A HREF="http://xmlns.com/foaf/0.1/Person">http://xmlns.com/foaf/0.1/Person</A>&quot; &gt;&lt;/div&gt;
&lt;p id=a&gt;Name: &lt;span itemprop=name&gt;Amanda&lt;/span&gt;&lt;/p&gt;
&lt;div id=b itemprop=band itemref=c itemscope=&quot;&quot;&gt;&lt;/div&gt;
&lt;div id=c&gt;
 &lt;p&gt;Band: &lt;span itemprop=name&gt;Jazz Band&lt;/span&gt;&lt;/p&gt;
 &lt;p&gt;Size: &lt;span itemprop=size&gt;12&lt;/span&gt; players&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

prop:name and prop:size should, imo, still only apply to itemscope which 
is band's 'Object' like :

&lt;none&gt; &lt;<A HREF="http://www.w3.org/1999/xhtml/microdata#item">http://www.w3.org/1999/xhtml/microdata#item</A>&gt; _:cMSiQpGf15 .

_:cMSiQpGf15 &lt;<A HREF="http://www.w3.org/1999/02/22-rdf-syntax-ns#type">http://www.w3.org/1999/02/22-rdf-syntax-ns#type</A>&gt; 
&lt;<A HREF="http://url.to/discussionVocab#example">http://url.to/discussionVocab#example</A>&gt; .
_:cMSiQpGf15 &lt;<A HREF="http://url.to/discussionVocab#exampleSub">http://url.to/discussionVocab#exampleSub</A>&gt; _:cMSiQpGf16 .

_:cMSiQpGf16 &quot;name&quot; &quot;Amanda&quot; .
_:cMSiQpGf16 &quot;band&quot; _:cMSiQpGf17 .

_:cMSiQpGf17 &quot;name&quot; &quot;Jazz Band&quot; .
_:cMSiQpGf17 &quot;size&quot; &quot;12&quot; .

But instead the name &quot;Jazz Band&quot; also applies to _:cMSiQpGf15 .
This is a somewhat restrictive use of the itemref=&quot;&quot; attribute.

&gt;<i> I would rewrite it to something like:
</I>&gt;<i>
</I>&gt;<i> &lt;div itemtype=&quot;<A HREF="http://url.to/geoVocab#country">http://url.to/geoVocab#country</A>&quot; itemscope&gt;
</I>&gt;<i>    &lt;span itemprop=&quot;<A HREF="http://xmlns.com/foaf/0.1/name">http://xmlns.com/foaf/0.1/name</A>&quot; lang=&quot;zh-CN&quot;&gt;&#20013;&#21326;&#20154; 
</I>&gt;<i> &#27665;&#20849;&#21644;&#22269;&lt;/span&gt;
</I>&gt;<i>    &lt;span itemprop=&quot;<A HREF="http://xmlns.com/foaf/0.1/name">http://xmlns.com/foaf/0.1/name</A>&quot; lang=&quot;en&quot;&gt;China&lt;/span&gt;
</I>&gt;<i>    &lt;div itemprop=&quot;<A HREF="http://url.to/whatShanghaiIsToChina">http://url.to/whatShanghaiIsToChina</A>&quot; itemscope
</I>&gt;<i>         itemtype=&quot;<A HREF="http://url.to/geoVocab#city">http://url.to/geoVocab#city</A>&quot;&gt;
</I>&gt;<i>       &lt;span itemprop=&quot;<A HREF="http://xmlns.com/foaf/0.1/name">http://xmlns.com/foaf/0.1/name</A>&quot;&gt;Shanghai&lt;/span&gt;
</I>&gt;<i>       &lt;span hidden itemprop=&quot;<A HREF="http://url.to/demoVocab#population">http://url.to/demoVocab#population</A>&quot; 
</I>&gt;<i> content=&quot;14610000&quot;&gt;&lt;/span&gt;
</I>&gt;<i>       &lt;time itemprop=&quot;<A HREF="http://url.to/physicsVocab#time">http://url.to/physicsVocab#time</A>&quot; 
</I>&gt;<i> datetime=&quot;2009-11-26T11:43+08:00&quot;&gt;11:43 pm (CT)&lt;/time&gt;
</I>&gt;<i>    &lt;/div&gt;
</I>&gt;<i> &lt;/div&gt;
</I>Ok, clear, but :

_:itemA &lt;type&gt; &lt;country&gt;
_:itemA &lt;name&gt; &quot;China&quot;
_:itemA &lt;city&gt; _:itemB
_:itemB &lt;name&gt; &quot;Shanghai&quot;

Already says to me &quot;as a human&quot; that the thing named Shanghai is a city 
of Country China. The following would violate the DRY principle :

_:itemA &lt;type&gt; &lt;country&gt;
_:itemA &lt;name&gt; &quot;China&quot;
_:itemA &lt;city&gt; _:itemB
_:itemB &lt;type&gt; &lt;city&gt;
_:itemB &lt;name&gt; &quot;Shanghai&quot;

My case would function like ' itemproptype=&quot;city&quot; ' as in : Country - 
City - X , X - name - Shanghai. But i imagine RDF does not want to be 
treated this way.

&gt;<i>
</I>&gt;<i> I don't know how you meant for &lt;<A HREF="http://url.to/city">http://url.to/city</A>&gt; to be used, 
</I>
I meant &lt;<A HREF="http://url.to/geoVocab#city">http://url.to/geoVocab#city</A>&gt;

&gt;<i> the vocabulary at &lt;<A HREF="http://url.to/geoVocab#country">http://url.to/geoVocab#country</A>&gt; has to define what 
</I>&gt;<i> properties are valid and their semantics. The itemprop 
</I>&gt;<i> &lt;<A HREF="http://url.to/whatShanghaiIsToChina">http://url.to/whatShanghaiIsToChina</A>&gt; could be lots of things, what 
</I>&gt;<i> you want is maybe something that means &quot;financial center of&quot; or 
</I>&gt;<i> &quot;largest city&quot;, I don't know. 
</I>
What is Shanghai to China ? My guess is that people would say : &quot;a City&quot; 
and then maybe &quot;Largest City&quot; or &quot;financial center&quot;. But what would 
people say if you ask : What is Nanchang to China ? The answer would 
probably &quot;a City&quot; but i assume it would unlikely be &quot;The 20th largest 
city of China&quot; or &quot;Another financial center&quot;


&lt;div itemtype=&quot;<A HREF="http://url.to/geoVocab#country">http://url.to/geoVocab#country</A>&quot; itemscope&gt;
   &lt;span itemprop=&quot;<A HREF="http://xmlns.com/foaf/0.1/name">http://xmlns.com/foaf/0.1/name</A>&quot; lang=&quot;en&quot;&gt;China&lt;/span&gt;
   &lt;div itemprop=&quot;<A HREF="http://url.to/geoVocab#LargestCity">http://url.to/geoVocab#LargestCity</A>&quot; itemscope
        itemtype=&quot;<A HREF="http://url.to/geoVocab#city">http://url.to/geoVocab#city</A>&quot;&gt;
      &lt;span itemprop=&quot;<A HREF="http://xmlns.com/foaf/0.1/name">http://xmlns.com/foaf/0.1/name</A>&quot;&gt;Shanghai&lt;/span&gt;
   &lt;/div&gt;
   &lt;div itemprop=&quot;<A HREF="http://url.to/geoVocab#20ThLargestCity">http://url.to/geoVocab#20ThLargestCity</A>&quot; itemscope
        itemtype=&quot;<A HREF="http://url.to/geoVocab#city">http://url.to/geoVocab#city</A>&quot;&gt;
      &lt;span itemprop=&quot;<A HREF="http://xmlns.com/foaf/0.1/name">http://xmlns.com/foaf/0.1/name</A>&quot;&gt;Nanchang&lt;/span&gt;
   &lt;/div&gt;
   &lt;div itemprop=&quot;<A HREF="http://url.to/geoVocab#xxxthLargestCity">http://url.to/geoVocab#xxxthLargestCity</A>&quot; itemscope
        itemtype=&quot;<A HREF="http://url.to/geoVocab#city">http://url.to/geoVocab#city</A>&quot;&gt;
      &lt;span itemprop=&quot;<A HREF="http://xmlns.com/foaf/0.1/name">http://xmlns.com/foaf/0.1/name</A>&quot;&gt;Qufu&lt;/span&gt;
   &lt;/div&gt;
&lt;/div&gt;


Assigning &quot;unique&quot; properties to Subjects for RDF's sake doesn't seem 
like a good idea to me.
Ofcourse i can make other, more sensible, html markup but the whole 
point of a solid annotating language is that i can apply it to my 
existing markup without changing it.

&gt;<i> If &lt;<A HREF="http://url.to/shanghai">http://url.to/shanghai</A>&gt; is a global identifier for Shanghai you 
</I>&gt;<i> should use itemid.
</I>
Correct, but the href=&quot;&quot; is ignored in that example. If it only 
concerned a property i'd use :

&lt;link itemprop=&quot;<A HREF="http://url.to/city">http://url.to/city</A>&quot; href=&quot;<A HREF="http://url.to/shanghai">http://url.to/shanghai</A>&quot; /&gt;

and it would be valid. I used it to show my point about &lt;link/&gt; and 
itemscope, see forumpost.

&gt;<i>
</I>&gt;<i> I don't know what &lt;<A HREF="http://url.to/physicsVocab#time">http://url.to/physicsVocab#time</A>&gt; is, but note that 
</I>&gt;<i> an exact time isn't very useful without a timezone, so I added the PRC 
</I>&gt;<i> timezone for you. I'll also note that using traditional Chinese for 
</I>&gt;<i> the full name of the PRC is an odd choice, so I changed it to 
</I>&gt;<i> simplified Chinese above.
</I>&gt;<i>
</I>&gt;<i> Marking up the population as &quot;14.61 million people&quot; isn't terribly 
</I>&gt;<i> helpful if you want a computer to be able to find the city with the 
</I>&gt;<i> biggest population among several cities, unless your vocabulary 
</I>&gt;<i> defines how to parse &quot;14.61 million people&quot; into a number, which would 
</I>&gt;<i> be strange. In any case this is hidden metadata unless you want 
</I>&gt;<i> 14610000 or some other easily machine-parsable representation to be 
</I>&gt;<i> visible in the page rendering.
</I>
Ok but using content=&quot;&quot; on a span, is that valid ? Your suggestion in 
[1] would be nicer. But i prefer the use of &lt;link/&gt; and &lt;meta/&gt; elements.

&gt;<i> Finally, I think &lt;<A HREF="http://xmlns.com/foaf/spec/index.rdf#name">http://xmlns.com/foaf/spec/index.rdf#name</A>&gt; should be 
</I>&gt;<i> &lt;<A HREF="http://xmlns.com/foaf/0.1/name">http://xmlns.com/foaf/0.1/name</A>&gt;. If you're going to use existing 
</I>&gt;<i> vocabularies like FOAF and want your data to be play nice with the RDF 
</I>&gt;<i> world, make sure to check that the result of the RDF extraction 
</I>&gt;<i> algorithm [3] is what you intended. 
</I>This remains unclear to me. For example : <A HREF="http://xmlns.com/foaf/0.1/name">http://xmlns.com/foaf/0.1/name</A> 
redirects to an html page but : <A HREF="http://purl.org/dc/terms/title">http://purl.org/dc/terms/title</A> redirects 
to an .rdf file. For readability, wouldn't 
<A HREF="http://xmlns.com/foaf/spec/#term_name">http://xmlns.com/foaf/spec/#term_name</A> and 
<A HREF="http://dublincore.org/documents/dcmi-terms/#elements-title">http://dublincore.org/documents/dcmi-terms/#elements-title</A> be better  ?
If i dereference these url's i find the information i want in one stop.
&gt;<i> In particular, you probably want to use itemid where possible and make 
</I>&gt;<i> sure that all your URIs are exactly correct. Personally, though, 
</I>&gt;<i> unless I could reuse existing vocabularies for every single item and 
</I>&gt;<i> property, I would only use a full URI for itemtype and point that to a 
</I>&gt;<i> vocabulary that defines what simpler property names like &quot;name&quot; and 
</I>&gt;<i> &quot;city&quot; mean and how to convert the vocabulary to RDF.
</I>&gt;<i>
</I>&gt;<i> [1] 
</I>&gt;<i> <A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2009-November/024116.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2009-November/024116.html</A> 
</I>&gt;<i>
</I>&gt;<i> [2] 
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/microdata.html#the-properties-of-an-item">http://www.whatwg.org/specs/web-apps/current-work/multipage/microdata.html#the-properties-of-an-item</A> 
</I>&gt;<i>
</I>&gt;<i> [3] 
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/converting-html-to-other-formats.html#rdf">http://www.whatwg.org/specs/web-apps/current-work/multipage/converting-html-to-other-formats.html#rdf</A> 
</I>&gt;<i>
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066471.html">[whatwg] Possible bugs : Microdata Itemscope on &lt;link/&gt; and &lt;meta/&gt;
</A></li>
	<LI>Next message: <A HREF="066485.html">[whatwg] Possible bugs : Microdata Itemscope on &lt;link/&gt; and &lt;meta/&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66484">[ date ]</a>
              <a href="thread.html#66484">[ thread ]</a>
              <a href="subject.html#66484">[ subject ]</a>
              <a href="author.html#66484">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
