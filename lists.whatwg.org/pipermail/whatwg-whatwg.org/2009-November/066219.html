<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] elemen.onFocus instead of window.onhashcange ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20elemen.onFocus%20instead%20of%20window.onhashcange%20%3F&In-Reply-To=%3Ce205f470911031046l43212133v4118581d74316400%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066217.html">
   <LINK REL="Next"  HREF="066222.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] elemen.onFocus instead of window.onhashcange ?</H1>
<!--htdig_noindex-->
    <B>Bjartur Thorlacius</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20elemen.onFocus%20instead%20of%20window.onhashcange%20%3F&In-Reply-To=%3Ce205f470911031046l43212133v4118581d74316400%40mail.gmail.com%3E"
       TITLE="[whatwg] elemen.onFocus instead of window.onhashcange ?">svartman95 at gmail.com
       </A><BR>
    <I>Tue Nov  3 10:46:54 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="066217.html">[whatwg] the cite element
</A></li>
        <LI>Next message: <A HREF="066222.html">[whatwg] elemen.onFocus instead of window.onhashcange ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66219">[ date ]</a>
              <a href="thread.html#66219">[ thread ]</a>
              <a href="subject.html#66219">[ subject ]</a>
              <a href="author.html#66219">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Wouldn't it make more sense to fire a focus event on a element whose
id is that of the new hash instead of firing hashchange on the whole
window? In most cases script authors will check the hash against a few
options and then act upon with actions such as loading a new body (or
div).

It would make sense to have the new elements in the HTML but hidden
(or out of view, but scrollable to -- though that's hard to implement)
and when the focus is thrown on the element it's scrollIntoView()d.
Maybe click or some new 'scrolledTo' event might be used instead of
focus, I don't know, but my point is the event should fire on the
element not window and it would be best to do so using an already
supported event.

Importantly this would encourage authors to use real HTML elements as
targets for their #references so UAs which don't support HTML 5
scripting interfaces and/or CSS will render all the content (though
likely some of it'll be out of the screen or not-yet rendered) but
when a user follows a link to it it'll simply scrollIntoView(). This
won't always be exactly what supposed but often close enough.

But then the scrollIntoView function definition should make clear that
non-visual UAs should also support the top argument, by only rendering
the referenced element when applicable (scrollIntoView(false)).

BTW: What happens when scrollIntoView is callod on hidden element? Or
when it's invisible because of styling?

PS: Please ease on the JavaScripting on the WHATWG version of the
spec. I've got a quite old computer and Firefox freezes on me when I
visit that page too often. Is all of that needed? Or don't old UAs
matter to such an backwards compatible spec?

------------------------------------------------------- Switch over to
Linux today --------------------------------------------------
<A HREF="http://www.linux.org">http://www.linux.org</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066217.html">[whatwg] the cite element
</A></li>
	<LI>Next message: <A HREF="066222.html">[whatwg] elemen.onFocus instead of window.onhashcange ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66219">[ date ]</a>
              <a href="thread.html#66219">[ thread ]</a>
              <a href="subject.html#66219">[ subject ]</a>
              <a href="author.html#66219">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
