<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] localStorage feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20localStorage%20feedback&In-Reply-To=%3C11e306600911021546wdc2e241ua29b307c10507b2a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023916.html">
   <LINK REL="Next"  HREF="023945.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] localStorage feedback</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20localStorage%20feedback&In-Reply-To=%3C11e306600911021546wdc2e241ua29b307c10507b2a%40mail.gmail.com%3E"
       TITLE="[whatwg] localStorage feedback">robert at ocallahan.org
       </A><BR>
    <I>Mon Nov  2 15:46:13 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="023916.html">[whatwg] localStorage feedback
</A></li>
        <LI>Next message: <A HREF="023945.html">[whatwg] localStorage feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23930">[ date ]</a>
              <a href="thread.html#23930">[ thread ]</a>
              <a href="subject.html#23930">[ subject ]</a>
              <a href="author.html#23930">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Nov 3, 2009 at 6:36 AM, Darin Fisher &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">darin at chromium.org</A>&gt; wrote:

&gt;<i> 1a) Given a page (domain A) containing an iframe (domain B), have the outer
</I>&gt;<i> page navigate the inner frame to &quot;about:blank&quot;.  This navigation completes
</I>&gt;<i> synchronously, and the unload handler for the iframe runs before the
</I>&gt;<i> navigation request completes.  This is true of all browsers.
</I>&gt;<i>
</I>&gt;<i> 1b) Suppose the inner page has a pending XMLHttpRequest when the outer
</I>&gt;<i> frame navigates the inner frame.  The XHR's onabort handler would run before
</I>&gt;<i> the navigation to &quot;about:blank&quot; completes.
</I>&gt;<i>
</I>
These are really the same problem: synchronous cross-domain about:blank
navigation. If navigation to about:blank has to be synchronous, then I guess
it needs to drop the lock, at least in the cross-domain case.

2) Set a break point in the Mozilla JS debugger.  This runs a nested event
&gt;<i> loop each time you single step so that it can drive the rest of the browser
</I>&gt;<i> UI.
</I>&gt;<i>
</I>&gt;<i> 3) Install a Firefox extension that runs a nested event loop in response to
</I>&gt;<i> an event generated by content.  I debugged many Firefox crashes resulting
</I>&gt;<i> from extensions that do this kind of thing for various reasons.
</I>&gt;<i>
</I>
These are internal Mozilla issues and should not be allowed to influence the
design of the Web platform. They'll probably change for multi-process
anyway.

I'm not convinced.  Look at Google Maps and street view.  Gmail uses more
&gt;<i> Flash now than it used to.
</I>&gt;<i>
</I>
For new features, sure. But are they reimplementing existing browser-based
functionality to use plugins instead?


&gt;<i>
</I>&gt;&gt;<i> What will you do for Gecko when it supports content processes?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Implement the spec, I hope!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It seems odd to me that this behavior was put into the spec without any
</I>&gt;<i> implementation experience to guide it.  The only multi-process
</I>&gt;<i> implementations that I know of do not have a storage mutex.
</I>&gt;<i>
</I>
Lots of things are in the spec without implementation experience. I think we
have time to collect more experience on this issue with multi-process
browsers and revise the spec in light of it.

Rob
-- 
&quot;He was pierced for our transgressions, he was crushed for our iniquities;
the punishment that brought us peace was upon him, and by his wounds we are
healed. We all, like sheep, have gone astray, each of us has turned to his
own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
53:5-6]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20091103/3d128139/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20091103/3d128139/attachment.htm</A>&gt;
</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023916.html">[whatwg] localStorage feedback
</A></li>
	<LI>Next message: <A HREF="023945.html">[whatwg] localStorage feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23930">[ date ]</a>
              <a href="thread.html#23930">[ thread ]</a>
              <a href="subject.html#23930">[ subject ]</a>
              <a href="author.html#23930">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
