<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas pixel manipulation and performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20pixel%20manipulation%20and%20performance&In-Reply-To=%3C4B12021C.6010809%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066505.html">
   <LINK REL="Next"  HREF="066487.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas pixel manipulation and performance</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20pixel%20manipulation%20and%20performance&In-Reply-To=%3C4B12021C.6010809%40mit.edu%3E"
       TITLE="[whatwg] Canvas pixel manipulation and performance">bzbarsky at MIT.EDU
       </A><BR>
    <I>Sat Nov 28 21:09:48 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="066505.html">[whatwg] Canvas pixel manipulation and performance
</A></li>
        <LI>Next message: <A HREF="066487.html">[whatwg] Canvas pixel manipulation and performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66477">[ date ]</a>
              <a href="thread.html#66477">[ thread ]</a>
              <a href="subject.html#66477">[ subject ]</a>
              <a href="author.html#66477">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 11/28/09 3:44 PM, Jason Oster wrote:
&gt;<i> The trouble with profiling my project is that it is a XULRunner
</I>&gt;<i> application, and does not run directly in web browsers as-is.
</I>
This is not an issue at all; any XULRunner application can be run in 
Firefox directly (with the right command-line flags).  I'm happy to 
profile whatever set of operations you want for you in Firefox if you 
send me step-by-step instructions for performing that set of operations 
in your application, ideally with code pointers to the start and stop of 
the code to be profiled in your codebase.  Probably offlist for all 
that... ;)

Of course if you have a Mac you can do all this yourself; Shark is an 
excellent tool.

&gt;<i> Changeset 2b56c4771d5c reduced the number of pixel array elements
</I>&gt;<i> accessed by caching the 256px x 256px &quot;rooms&quot; within the stage map, and
</I>&gt;<i> passing the cached rooms to putImageData().
</I>
As opposed to doing what before the change?

&gt;<i> My point, as you concur, is that setting four array elements
</I>&gt;<i> (properties) is slower than setting just one.
</I>
While true, it may not necessarily be slower than setting one if the 
value to set is more expensive to compute as a result, and may not be 
the bottleneck to start with.  The latter is hard to determine without 
profiling.  My gut feel is that at least in Gecko this is not likely to 
be a performance bottleneck right now, nor much of a win with the 
proposed change, if any.  But again, that would be easier to judge (at 
least for the first part) with a profile.

-Boris

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066505.html">[whatwg] Canvas pixel manipulation and performance
</A></li>
	<LI>Next message: <A HREF="066487.html">[whatwg] Canvas pixel manipulation and performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66477">[ date ]</a>
              <a href="thread.html#66477">[ thread ]</a>
              <a href="subject.html#66477">[ subject ]</a>
              <a href="author.html#66477">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
