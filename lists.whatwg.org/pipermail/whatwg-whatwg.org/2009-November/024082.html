<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [Web workers] An attribute describing the &quot;best&quot; number of worker to invoke in a delegation use case
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BWeb%20workers%5D%20An%20attribute%20describing%20the%20%22best%22%0A%20number%20of%20worker%20to%20invoke%20in%20a%20delegation%20use%20case&In-Reply-To=%3C4AFCA74D.80905%40enseirb-matmeca.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024077.html">
   <LINK REL="Next"  HREF="024083.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [Web workers] An attribute describing the &quot;best&quot; number of worker to invoke in a delegation use case</H1>
<!--htdig_noindex-->
    <B>David Bruant</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BWeb%20workers%5D%20An%20attribute%20describing%20the%20%22best%22%0A%20number%20of%20worker%20to%20invoke%20in%20a%20delegation%20use%20case&In-Reply-To=%3C4AFCA74D.80905%40enseirb-matmeca.fr%3E"
       TITLE="[whatwg] [Web workers] An attribute describing the &quot;best&quot; number of worker to invoke in a delegation use case">bruant at enseirb-matmeca.fr
       </A><BR>
    <I>Thu Nov 12 16:24:45 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="024077.html">[whatwg] [Web workers] An attribute describing the &quot;best&quot; number of worker to invoke in a delegation use case
</A></li>
        <LI>Next message: <A HREF="024083.html">[whatwg] [Web workers] An attribute describing the &quot;best&quot; number of worker to invoke in a delegation use case
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24082">[ date ]</a>
              <a href="thread.html#24082">[ thread ]</a>
              <a href="subject.html#24082">[ subject ]</a>
              <a href="author.html#24082">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Boris Zbarsky a &#233;crit :
&gt;<i> On 11/12/09 3:40 PM, David Bruant wrote:
</I>&gt;&gt;<i> I reformulate this way the conditions 2 and 3:
</I>&gt;&gt;<i> - In &quot;blank conditions&quot; (no other processes/thread running on the CPU,
</I>&gt;&gt;<i> enough memory to allocate the workers), running the same algorithm (an
</I>&gt;&gt;<i> easy delegation algorithm) has significantly better performances with
</I>&gt;&gt;<i> (navigator.optimalWorkerNumber) dedicated workers than with
</I>&gt;&gt;<i> (navigator.optimalWorkerNumber -1) dedicated workers
</I>&gt;&gt;<i> - In &quot;blank conditions&quot;, running the same algorithm has no significantly
</I>&gt;&gt;<i> better performances with (navigator.optimalWorkerNumber+1) dedicated
</I>&gt;&gt;<i> workers than with (navigator.optimalWorkerNumber) dedicated workers
</I>&gt;<i> OK, but I'm not sure this is a useful number, then, since these &quot;blank
</I>&gt;<i> conditions&quot; never happen in practice.
</I>=&gt; I think it happens very often. While I'm writing this e-mail, &quot;no
process&quot; is running. About fifty processes are runnable, but not
running. They are passively waiting. My CPU is barely used.


&gt;&gt;<i> Just to remind, the purpose of this attribute is to decide, at the
</I>&gt;&gt;<i> beginning of a delegation algorithm what is the &quot;optimal&quot; number of
</I>&gt;&gt;<i> workers to divide the work in a way that is optimal regarding the
</I>&gt;&gt;<i> hardware, the OS and the worker implementation.
</I>&gt;<i>
</I>&gt;<i> I'm glad you put &quot;optimal&quot; in quotes.... ;)
</I>=&gt; I'm fully aware that for a such high-level specification, talking
about optimality (and even performance !) is very relative.

&gt;<i>
</I>&gt;<i> Is there a reason that apps that really care about this shouldn't just
</I>&gt;<i> measure to see what number works best for them?
</I>=&gt; I agree on the fact that this is the key question to decide if my
proposal must be taken into account or not.

My point is that this number may be available very easily. For example,
in my dual-core, Linux, Firefox 3.5, the number is 2. Why spare an
information that can be useful and reliable (more than measurement at
least !) ?

I also agree on the fact that this attribute is not the most important
attribute in the world, but as the colorDepth attribute of the screen
object (<A HREF="http://www.w3.org/TR/cssom-view/#dom-screen-colordepth">http://www.w3.org/TR/cssom-view/#dom-screen-colordepth</A>), it will
be useful to some people in some usecase.

&gt;&gt;<i> The idea behind this property is that even if you start running the
</I>&gt;&gt;<i> algorithm with a lot of concurrent processes, you create a number of
</I>&gt;&gt;<i> workers that cannot be ran concurrently at the beginning, but you may
</I>&gt;&gt;<i> use optimally the ressources later
</I>&gt;<i>
</I>&gt;<i> But in the meantime you will be using them very suboptimally, no?
</I>=&gt; Yes and no. No one can know if they will be optimally used or not.
What you are &quot;garanteed&quot; (quotes again) is that in &quot;blank conditions&quot;,
they will be optimally used (which is more or less the definition of
this number).

&gt;&gt;<i> (if the other processes/threads stop
</I>&gt;&gt;<i> running, what you cannot control, but can still hope that it happens
</I>&gt;&gt;<i> during the &quot;algorithm lifetime&quot;. According to the spec, &quot;workers are
</I>&gt;&gt;<i> expected to be long-lived&quot;).
</I>&gt;<i>
</I>&gt;<i> Most of my apps are long-lived...
</I>&gt;<i>
</I>&gt;<i> -Boris
</I>
</PRE>


























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024077.html">[whatwg] [Web workers] An attribute describing the &quot;best&quot; number of worker to invoke in a delegation use case
</A></li>
	<LI>Next message: <A HREF="024083.html">[whatwg] [Web workers] An attribute describing the &quot;best&quot; number of worker to invoke in a delegation use case
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24082">[ date ]</a>
              <a href="thread.html#24082">[ thread ]</a>
              <a href="subject.html#24082">[ subject ]</a>
              <a href="author.html#24082">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
