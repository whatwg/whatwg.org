<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] element.onFocus instead of window.onhashcange ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20element.onFocus%20instead%20of%20window.onhashcange%20%3F&In-Reply-To=%3Ce205f470911170750s231c332bm5b440bf3d4bc80b3%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066379.html">
   <LINK REL="Next"  HREF="066385.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] element.onFocus instead of window.onhashcange ?</H1>
<!--htdig_noindex-->
    <B>Bjartur Thorlacius</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20element.onFocus%20instead%20of%20window.onhashcange%20%3F&In-Reply-To=%3Ce205f470911170750s231c332bm5b440bf3d4bc80b3%40mail.gmail.com%3E"
       TITLE="[whatwg] element.onFocus instead of window.onhashcange ?">svartman95 at gmail.com
       </A><BR>
    <I>Tue Nov 17 07:50:30 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="066379.html">[whatwg] &lt;time&gt; parsing and rendering
</A></li>
        <LI>Next message: <A HREF="066385.html">[whatwg] element.onFocus instead of window.onhashcange ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66380">[ date ]</a>
              <a href="thread.html#66380">[ thread ]</a>
              <a href="subject.html#66380">[ subject ]</a>
              <a href="author.html#66380">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>As the discussion had turned into bunch (good) advice giving, I
decided to repost this if anyone actually has opinion on this matter
and/or could tell me why the spec recommends firing hashchange on the
document instead of a specific element when a user navigates to a URI
with a hash component.

---------- Forwarded message ----------
From: Bjartur Thorlacius &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">svartman95 at gmail.com</A>&gt;
Date: Tue, 3 Nov 2009 18:46:54 +0000
Subject: elemen.onFocus instead of window.onhashcange ?
To: &quot;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>&quot; &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>&gt;

Wouldn't it make more sense to fire a focus event on a element whose
id is that of the new hash instead of firing hashchange on the whole
window? In most cases script authors will check the hash against a few
options and then act upon with actions such as loading a new body (or
div).

It would make sense to have the new elements in the HTML but hidden
(or out of view, but scrollable to -- though that's hard to implement)
and when the focus is thrown on the element it's scrollIntoView()d.
Maybe click or some new 'scrolledTo' event might be used instead of
focus, I don't know, but my point is the event should fire on the
element not window and it would be best to do so using an already
supported event.

Importantly this would encourage authors to use real HTML elements as
targets for their #references so UAs which don't support HTML 5
scripting interfaces and/or CSS will render all the content (though
likely some of it'll be out of the screen or not-yet rendered) but
when a user follows a link to it it'll simply scrollIntoView(). This
won't always be exactly what supposed but often close enough.

But then the scrollIntoView function definition should make clear that
non-visual UAs should also support the top argument, by only rendering
the referenced element when applicable (scrollIntoView(false)).

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066379.html">[whatwg] &lt;time&gt; parsing and rendering
</A></li>
	<LI>Next message: <A HREF="066385.html">[whatwg] element.onFocus instead of window.onhashcange ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66380">[ date ]</a>
              <a href="thread.html#66380">[ thread ]</a>
              <a href="subject.html#66380">[ subject ]</a>
              <a href="author.html#66380">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
