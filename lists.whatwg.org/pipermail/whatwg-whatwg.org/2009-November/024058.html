<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [Web workers] An attribute describing the &quot;best&quot; number of worker to invoke in a delegation use case
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BWeb%20workers%5D%20An%20attribute%20describing%20the%20%22best%22%20number%20of%0A%20worker%20to%20invoke%20in%20a%20delegation%20use%20case&In-Reply-To=%3C4AFB7EB5.7010001%40enseirb-matmeca.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024097.html">
   <LINK REL="Next"  HREF="024059.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [Web workers] An attribute describing the &quot;best&quot; number of worker to invoke in a delegation use case</H1>
<!--htdig_noindex-->
    <B>David Bruant</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BWeb%20workers%5D%20An%20attribute%20describing%20the%20%22best%22%20number%20of%0A%20worker%20to%20invoke%20in%20a%20delegation%20use%20case&In-Reply-To=%3C4AFB7EB5.7010001%40enseirb-matmeca.fr%3E"
       TITLE="[whatwg] [Web workers] An attribute describing the &quot;best&quot; number of worker to invoke in a delegation use case">bruant at enseirb-matmeca.fr
       </A><BR>
    <I>Wed Nov 11 19:19:17 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="024097.html">[whatwg] Microdata DOM API issues
</A></li>
        <LI>Next message: <A HREF="024059.html">[whatwg] [Web workers] An attribute describing the &quot;best&quot; number of worker to invoke in a delegation use case
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24058">[ date ]</a>
              <a href="thread.html#24058">[ thread ]</a>
              <a href="subject.html#24058">[ subject ]</a>
              <a href="author.html#24058">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

This is a new proposal taking into account the feedback I recieved to
the &quot;[WebWorkers] About the delegation example&quot; message.

In the delegation example of the WebWorker spec, we can see this line :
&quot;var num_workers = 10;&quot;

My concern is about the arbitrarity of the &quot;10&quot;.
Regarding the hardware, the operating system and the WebWorker
implementation, on one hand, this &quot;10&quot; may not result in a better
performance than if num_worker was equal to 1. On the other hand, the
user agent configuration may have better performances with a greater
number of workers (16 ? 100 ?).

My proposal is to add an attribute to the navigator object to write this :
&quot;var num_workers = navigator.optimalWorkerNumber;
var items_per_worker = 10000000/num_workers;&quot; (uneven dividing can
easily be solved)
(the name &quot;optimalWorkerNumber&quot; is not good, but I will use it in the
rest of this e-mail)

This attribute have the following properties :
- It's only dependant on the hardware, the operating system and the
WebWorker implementation (thus, it is not dynamically computed by the
user agent at each call and two calls in the same
hardware//OS//WebWorker implementation have the same result).
- In the same running conditions (same memory available, same number of
process running concurrently...) running the &quot;same algorithm&quot; (an easy
delegation algorithm) has a significantly better performance with
(navigator.optimalWorkerNumber) workers than
(navigator.optimalWorkerNumber - 1) workers
- In the same running conditions, running the same algorithm has no
significantly better performance with (navigator.optimalWorkerNumber +1)
workers than (navigator.optimalWorkerNumber) workers

Thanks for your feedback (previous and coming)

David
</PRE>




























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024097.html">[whatwg] Microdata DOM API issues
</A></li>
	<LI>Next message: <A HREF="024059.html">[whatwg] [Web workers] An attribute describing the &quot;best&quot; number of worker to invoke in a delegation use case
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24058">[ date ]</a>
              <a href="thread.html#24058">[ thread ]</a>
              <a href="subject.html#24058">[ subject ]</a>
              <a href="author.html#24058">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
