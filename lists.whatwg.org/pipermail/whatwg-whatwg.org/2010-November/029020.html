<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] fxCanvas 0.2 and some remarks about canvas spec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20fxCanvas%200.2%20and%20some%20remarks%20about%20canvas%20spec&In-Reply-To=%3CAANLkTi%3D1Kw3jnDbQce-9QbQsv4CcM63B9UaR_FwjmBGv%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029014.html">
   <LINK REL="Next"  HREF="071300.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] fxCanvas 0.2 and some remarks about canvas spec</H1>
<!--htdig_noindex-->
    <B>Evgeny Burzak</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20fxCanvas%200.2%20and%20some%20remarks%20about%20canvas%20spec&In-Reply-To=%3CAANLkTi%3D1Kw3jnDbQce-9QbQsv4CcM63B9UaR_FwjmBGv%40mail.gmail.com%3E"
       TITLE="[whatwg] fxCanvas 0.2 and some remarks about canvas spec">buzzilo at gmail.com
       </A><BR>
    <I>Sat Nov 13 09:20:45 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="029014.html">[whatwg] Delivery reports about your e-mail
</A></li>
        <LI>Next message: <A HREF="071300.html">[whatwg] fxCanvas 0.2 and some remarks about canvas spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29020">[ date ]</a>
              <a href="thread.html#29020">[ thread ]</a>
              <a href="subject.html#29020">[ subject ]</a>
              <a href="author.html#29020">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,
I have just published new Canvas stub for IE (based on flash).  I'm
using it in another my project - Drawform, to make it working under
IE.
Drawform: <A HREF="http://burzak.com/proj/drawform/">http://burzak.com/proj/drawform/</A>
fxCanvas: <A HREF="http://burzak.com/proj/fxcanvas/">http://burzak.com/proj/fxcanvas/</A>

So I have some remarks about Canvas spec.

I faced some troubles when using default image data, because of in old
Explorers used extremely ineffective memory manager, so that  I made
some tests and figure out that fastest and less memory consumption is
array with pixel colors encoded in 32-bit integer. Here is the test:
<A HREF="http://burzak.com/proj/fxcanvas/tests/data-structure-comparison.html">http://burzak.com/proj/fxcanvas/tests/data-structure-comparison.html</A>

But , the test results looks  similar for all vendors! On average the
difference in processing speed is about 2-3 times (five times in
Firefox 4). This is due to the fact that loops take less time (width x
height * 4 vs. width x height) and arrays with less elements take less
memory.  Though I realize that main idea for data structure was
simplicity, but in this case it seems simplicity is evil, not good.

Another thing is reusable canvas path.  I've added experimental class
CanvasPath and and some related methods to Canvas context.
For example:
var p = new CanvasPath() // I think first argument can be string from
SVG &quot;d&quot; attribute
p.moveTo(0, 0)
p.lineTo(10, 20)
ctx.beginPath()
ctx.appendPath(p)
... and so on. If you are interested in it, I can describe my idea futher...
This is quite useful thing, at least for me.

Evgeny
</PRE>















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029014.html">[whatwg] Delivery reports about your e-mail
</A></li>
	<LI>Next message: <A HREF="071300.html">[whatwg] fxCanvas 0.2 and some remarks about canvas spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29020">[ date ]</a>
              <a href="thread.html#29020">[ thread ]</a>
              <a href="subject.html#29020">[ subject ]</a>
              <a href="author.html#29020">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
