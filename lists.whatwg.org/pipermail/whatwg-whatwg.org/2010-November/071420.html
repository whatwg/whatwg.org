<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Processing the zoom level - MS	extensions to	window.screen
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Processing%20the%20zoom%20level%20-%20MS%09extensions%20to%0A%09window.screen&In-Reply-To=%3C4CED582B.7000005%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071410.html">
   <LINK REL="Next"  HREF="071421.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Processing the zoom level - MS	extensions to	window.screen</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Processing%20the%20zoom%20level%20-%20MS%09extensions%20to%0A%09window.screen&In-Reply-To=%3C4CED582B.7000005%40mit.edu%3E"
       TITLE="[whatwg] Processing the zoom level - MS	extensions to	window.screen">bzbarsky at MIT.EDU
       </A><BR>
    <I>Wed Nov 24 10:23:39 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="071410.html">[whatwg] Processing the zoom level - MS	extensions to	window.screen
</A></li>
        <LI>Next message: <A HREF="071421.html">[whatwg] Processing the zoom level - MS	extensions to	window.screen
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71420">[ date ]</a>
              <a href="thread.html#71420">[ thread ]</a>
              <a href="subject.html#71420">[ subject ]</a>
              <a href="author.html#71420">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 11/24/10 4:13 AM, Charles Pritchard wrote:
&gt;&gt;&gt;<i> &gt; And, these aren't great lengths. It's about 6 lines of javascript.
</I>&gt;&gt;<i> Uh... That depends on how your drawing path is set up. If I understand
</I>&gt;&gt;<i> correctly what you're doing, you have to get the DPI ration (call it N),
</I>&gt;&gt;<i> change the canvas width/height by a factor of N, and change all
</I>&gt;&gt;<i> coordinates in all your drawing calls by a factor of N, right?
</I>&gt;&gt;<i>
</I>&gt;<i> You're correct, I grab DPI, lets call it xN and yN, I change the canvas
</I>&gt;<i> width height.
</I>&gt;<i> Then I run .scale(xN, xY) before my drawing calls. They're completely
</I>&gt;<i> agnostic
</I>&gt;<i> to the change.
</I>
Ah, I see.  I assumed you were actually trying to draw the fonts at the 
right size for the viewer, see, as opposed to doing an image upscale of 
text rendered at a smaller size.

Try this simple testcase:

&lt;body&gt;
   &lt;canvas id=&quot;x&quot; width=&quot;500&quot; height=&quot;500&quot;
           style=&quot;border: 1px solid red&quot;&gt;&lt;/canvas&gt;
   &lt;script&gt;
     var c = document.getElementById(&quot;x&quot;).getContext(&quot;2d&quot;);
     c.fillStyle = &quot;green&quot;
     c.font = &quot;30px sans-serif&quot;;
     c.fillText(&quot;aaa&quot;, 100, 100);
     c.font = &quot;10px sans-serif&quot;;
     c.scale(3, 3);
     c.fillText(&quot;aaa&quot;, 100, 100);
   &lt;/script&gt;
&lt;/body&gt;

Note that the two strings look different in at least Firefox, Chrome and 
Opera on Mac (in fact in Opera on Mac the upscaled one looks really 
crappy, but there are differences in the other browsers too)

&gt;<i> I'm going to go back to the ad-hominem.
</I>
&lt;shrug&gt;.  I think I'm done with this thread.

&gt;&gt;<i> My faith in canvas coders is closer to 0.2 (on a 0-1 scale), largely
</I>&gt;&gt;<i> because it's not quite as mainstream yet, so only the more competent
</I>&gt;&gt;<i> folks are doing it.
</I>&gt;<i> I hope you have more respect for other parts of your user base.
</I>
What does this have to do with respect?  Canvas coders are just trying 
to get something done, as are browser users.

Browser users tend to not be experts on browser stuff.  Neither do 
canvas coders, for the most part (largely because no one is in a 
position to really be an expert on all the various parts of a browser at 
this point).  I certainly don't claim to be one.

But the upshot is that people make mistakes.  If you don't assume they 
will, you come to grief.

-Boris

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071410.html">[whatwg] Processing the zoom level - MS	extensions to	window.screen
</A></li>
	<LI>Next message: <A HREF="071421.html">[whatwg] Processing the zoom level - MS	extensions to	window.screen
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71420">[ date ]</a>
              <a href="thread.html#71420">[ thread ]</a>
              <a href="subject.html#71420">[ subject ]</a>
              <a href="author.html#71420">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
