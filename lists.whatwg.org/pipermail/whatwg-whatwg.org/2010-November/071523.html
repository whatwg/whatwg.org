<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Javascript: URLs as element attributes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Javascript%3A%20URLs%20as%20element%20attributes&In-Reply-To=%3C4CF571E0.4030609%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071522.html">
   <LINK REL="Next"  HREF="071521.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Javascript: URLs as element attributes</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Javascript%3A%20URLs%20as%20element%20attributes&In-Reply-To=%3C4CF571E0.4030609%40mit.edu%3E"
       TITLE="[whatwg] Javascript: URLs as element attributes">bzbarsky at MIT.EDU
       </A><BR>
    <I>Tue Nov 30 13:51:28 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="071522.html">[whatwg] Javascript: URLs as element attributes
</A></li>
        <LI>Next message: <A HREF="071521.html">[whatwg] Javascript: URLs as element attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71523">[ date ]</a>
              <a href="thread.html#71523">[ thread ]</a>
              <a href="subject.html#71523">[ subject ]</a>
              <a href="author.html#71523">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 11/30/10 2:37 PM, Darin Adler wrote:
&gt;<i> In WebKit, we have treated the javascript URL scheme as a special case, with explicit code in the loader, and not handled by general purpose resource protocol machinery. Maciej Stachowiak suggested this approach, back in 2002, and one of the reasons he gave me at the time is that thought WebKit would be more likely to get the security policy right if code paths opted in to JavaScript execution rather than opting out of javascript URL scheme handling.
</I>
Note that in Gecko, while javascript: is handled as a regular scheme, 
the handler for it will by default only run in a sandbox and only if the 
security context is known.  The security context is often not known 
(e.g. for &lt;img src&gt; it's not known).  And running not in a sandbox 
requires explicit caller opt-in.

So the net result is pretty similar.

But these are all implementation details.  As far as authors are 
concerned, javascript: is just a protocol like any other, except that 
trying to load it runs script.  Any deviation from this is additional 
complexity for authors; the further the deviation the more complexity. 
The question is how much complexity is warranted.

Certainly the webkit approach of only running javascript: explicitly for 
frame/iframe/toplevel documents is simplest on implementors.  It'd be 
pretty easy to get there in Gecko; we'd just remove some code in 
&lt;object&gt; and change the default execution policy from &quot;sandbox&quot; to 
&quot;don't execute&quot;.  So I agree with Philip that for UAs this is the 
quickest path to convergence.  But is the result what we want for the 
web platform?

-Boris

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071522.html">[whatwg] Javascript: URLs as element attributes
</A></li>
	<LI>Next message: <A HREF="071521.html">[whatwg] Javascript: URLs as element attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71523">[ date ]</a>
              <a href="thread.html#71523">[ thread ]</a>
              <a href="subject.html#71523">[ subject ]</a>
              <a href="author.html#71523">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
