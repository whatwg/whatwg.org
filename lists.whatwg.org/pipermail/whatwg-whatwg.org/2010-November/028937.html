<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Consecutive hyphen-minus characters in comments/in	ACE-strings of IDNs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Consecutive%20hyphen-minus%20characters%20in%20comments/in%0A%09ACE-strings%20of%20IDNs&In-Reply-To=%3C0C708E30-DC64-4212-A34C-56D1D2FF37E2%40kaor.in%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028935.html">
   <LINK REL="Next"  HREF="028944.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Consecutive hyphen-minus characters in comments/in	ACE-strings of IDNs</H1>
<!--htdig_noindex-->
    <B>Martin Janecke</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Consecutive%20hyphen-minus%20characters%20in%20comments/in%0A%09ACE-strings%20of%20IDNs&In-Reply-To=%3C0C708E30-DC64-4212-A34C-56D1D2FF37E2%40kaor.in%3E"
       TITLE="[whatwg] Consecutive hyphen-minus characters in comments/in	ACE-strings of IDNs">whatwg.org at kaor.in
       </A><BR>
    <I>Tue Nov  2 03:44:36 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="028935.html">[whatwg] whatwg Digest, Vol 80, Issue 1
</A></li>
        <LI>Next message: <A HREF="028944.html">[whatwg] Make radio button group suffering from being missing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28937">[ date ]</a>
              <a href="thread.html#28937">[ thread ]</a>
              <a href="subject.html#28937">[ subject ]</a>
              <a href="author.html#28937">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>In 10.1.6 Comments the current HTML spec <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/syntax.html#comments">http://www.whatwg.org/specs/web-apps/current-work/multipage/syntax.html#comments</A> says:

&gt;<i> Following this sequence, the comment may have text, with the additional
</I>&gt;<i> restriction that the text must not [...] contain two consecutive U+002D
</I>&gt;<i> HYPHEN-MINUS characters (--) [...]
</I>
Section 5 of RFC 3490 <A HREF="http://tools.ietf.org/html/rfc3490#section-5">http://tools.ietf.org/html/rfc3490#section-5</A> defines the ACE-prefix in Internationalized Domain Names to be &quot;xn--&quot;, i.e. always containing two consecutive hyphen-minus characters.

This leads to the odd situation that correctly ASCII-compatible encoded IDNs cannot be used in HTML comments. For example, the wide-spread habit of commenting out parts of HTML code in web pages fails when the code contains those otherwise valid URLs. This really happens in practice when working with IDNs (my personal experience) and I assume this incompatibility will cause a growing number of pages to be invalid in future, as the number of used IDNs grows, which will happen for sure, as ICANN has approved internationalized top level domain names this year.

Can the problems be prevented? E.g. by making &quot;xn--&quot; and &quot;XN--&quot; valid in comments?

May it even be justified to make &quot;--&quot; valid in comments again? As I understand <A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2006-May/006337.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2006-May/006337.html</A> and following replies, &quot;--&quot; used to be valid earlier in the spec and was then changed to make HTML more compatible with SGML, although HTML(5) is explicitly not SGML anymore. Making &quot;--&quot; valid won't affect any previously valid or invalid HTML page in any negative way, will it?

Regards,
Martin Janecke
</PRE>




























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028935.html">[whatwg] whatwg Digest, Vol 80, Issue 1
</A></li>
	<LI>Next message: <A HREF="028944.html">[whatwg] Make radio button group suffering from being missing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28937">[ date ]</a>
              <a href="thread.html#28937">[ thread ]</a>
              <a href="subject.html#28937">[ subject ]</a>
              <a href="author.html#28937">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
