<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] updateWithSanitizedHTML (was Re: innerStaticHTML)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20updateWithSanitizedHTML%20%28was%20Re%3A%20innerStaticHTML%29&In-Reply-To=%3C2502AF94-5039-4729-9C47-7489D06AB196%40geekhood.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024260.html">
   <LINK REL="Next"  HREF="024267.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] updateWithSanitizedHTML (was Re: innerStaticHTML)</H1>
<!--htdig_noindex-->
    <B>Kornel Lesi&#324;ski</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20updateWithSanitizedHTML%20%28was%20Re%3A%20innerStaticHTML%29&In-Reply-To=%3C2502AF94-5039-4729-9C47-7489D06AB196%40geekhood.net%3E"
       TITLE="[whatwg] updateWithSanitizedHTML (was Re: innerStaticHTML)">kornel at geekhood.net
       </A><BR>
    <I>Tue Dec  1 08:03:47 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="024260.html">[whatwg] updateWithSanitizedHTML (was Re: innerStaticHTML)
</A></li>
        <LI>Next message: <A HREF="024267.html">[whatwg] updateWithSanitizedHTML (was Re: innerStaticHTML)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24266">[ date ]</a>
              <a href="thread.html#24266">[ thread ]</a>
              <a href="subject.html#24266">[ subject ]</a>
              <a href="author.html#24266">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
&gt;&gt;<i> And even whitelist for CSS properties couldn't be used to implement  
</I>&gt;&gt;<i> &quot;No
</I>&gt;&gt;<i> external access&quot; policy (allow images with data: urls, allow http:  
</I>&gt;&gt;<i> links,
</I>&gt;&gt;<i> but not http: images). This would be useful for webmails and other  
</I>&gt;&gt;<i> places
</I>&gt;&gt;<i> where website doesn't want to allow 3rd parties tracking views.
</I>&gt;<i>
</I>&gt;<i> I don't think an no external access policy is worth supporting
</I>&gt;<i> explicitly.  If it falls out of a general design, that's great, but I
</I>&gt;<i> don't think the use case is compelling enough to accept the design
</I>&gt;<i> constraints required to support it.
</I>
I think it is quite important for privacy. Otherwise &quot;web bugs&quot; can be  
placed and used to track every use of content in every mashup.

Most often I'd like formatted text in applications to be just text,  
_completely_ passive.

&gt;&gt;<i> &quot;No clickjacking&quot; option might be useful as well.
</I>&gt;<i>
</I>&gt;<i> I don't have a clear idea how this would work.  Did you have something
</I>&gt;<i> different in mind than X-Frame-Options (already supported by WebKit)?
</I>

On a second thought clickjacking is probably not the right term for  
what I have in mind, although it's a similar issue.

The problem is that content added in DOM could use styles to overlay  
web application's &quot;chrome&quot; and steal data with forms or redirect  
standard links/buttons to phising site, e.g. &lt;form action=evil  
style=&quot;position:fixed; top:0; right:0&quot;&gt; that's positioned on top of  
website's standard login form.

Position:fixed escapes elements with  
&quot;position:relative;overflow:hidden&quot;, so AFAIK this cannot be prevented  
without removal of all position:fixed styles from untrusted content.

Such hack has been used on auction site allegro.pl, where auctions'  
descriptions are allowed to use CSS. In that particular case content  
should have been filtered server-side, but I imagine webmails, web- 
based feed readers and all kinds of mashups dynamically loading  
untrusted content could face similar problems, and having &lt;iframe&gt; for  
every bit of content is sometimes problematic.

-- 
regards, Kornel

</PRE>



<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024260.html">[whatwg] updateWithSanitizedHTML (was Re: innerStaticHTML)
</A></li>
	<LI>Next message: <A HREF="024267.html">[whatwg] updateWithSanitizedHTML (was Re: innerStaticHTML)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24266">[ date ]</a>
              <a href="thread.html#24266">[ thread ]</a>
              <a href="subject.html#24266">[ subject ]</a>
              <a href="author.html#24266">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
