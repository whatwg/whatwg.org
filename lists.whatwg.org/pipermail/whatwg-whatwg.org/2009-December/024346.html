<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%22offscreen%20canvas%22%20/Access%20to%20canvas%20functionality%0A%09from%20a%20worker&In-Reply-To=%3C9B0D216A-F551-4EDD-9D12-790C5881B952%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024344.html">
   <LINK REL="Next"  HREF="024428.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker</H1>
<!--htdig_noindex-->
    <B>Oliver Hunt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%22offscreen%20canvas%22%20/Access%20to%20canvas%20functionality%0A%09from%20a%20worker&In-Reply-To=%3C9B0D216A-F551-4EDD-9D12-790C5881B952%40apple.com%3E"
       TITLE="[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker">oliver at apple.com
       </A><BR>
    <I>Sun Dec  6 22:34:46 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="024344.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality from a worker
</A></li>
        <LI>Next message: <A HREF="024428.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24346">[ date ]</a>
              <a href="thread.html#24346">[ thread ]</a>
              <a href="subject.html#24346">[ subject ]</a>
              <a href="author.html#24346">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Dec 6, 2009, at 10:18 PM, Sigbjorn Finne wrote:

&gt;<i> On 12/5/2009 13:24, Franz Buchinger wrote:
</I>&gt;&gt;<i> Gears introduced the concept of an &quot;offscreen canvas&quot; that doesn't draw
</I>&gt;&gt;<i> anything in the browser window, but can be used to manipulate images in a
</I>&gt;&gt;<i> web worker.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I used this functionality to implement a &quot;resize-before-upload&quot; feature in
</I>&gt;&gt;<i> my photo gallery uploader. Now I'm trying to port my uploader to HTML5 but
</I>&gt;&gt;<i> there seems no way to delegate the scaling work to a HTML5 web worker.
</I>&gt;&gt;<i> Surely I could use the DOM canvas to scale down the photos in the main
</I>&gt;&gt;<i> &quot;browser thread&quot;, but this means that the UI gets blocked during this
</I>&gt;&gt;<i> process.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> If the user chooses more than a few multi-megapixel photos, the
</I>&gt;&gt;<i> CPU-intensive downscaling will likely freeze the browser and trigger a
</I>&gt;&gt;<i> script abortion warning.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Are there plans to introduce an &quot;offscreen canvas&quot; in html5? If not, which
</I>&gt;&gt;<i> workarounds are possible?
</I>&gt;&gt;<i> 
</I>&gt;<i> Hi Franz,
</I>&gt;<i> 
</I>&gt;<i> ImageData is cloneable via postMessage(), so you could perform some
</I>&gt;<i> forms of image processing that way.
</I>
I think the problem is that you lose more or less all native image processing support -- all you have is raw pixels which is fine if you're doing pure pixel manipulation, but unhelpful in many other cases.  Eg. in this case you have to implement your own image scaling logic in JS rather than relying in the (presumably) heavily optimised browser implementation.

That said I'm not sure whether we should really be trying to spec such a feature until we've had more time to see how workers are used in the wild.

&gt;<i> 
</I>&gt;<i> --sigbjorn &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">sof at opera.com</A>&gt;
</I>&gt;<i> 
</I>--Oliver
</PRE>




























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024344.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality from a worker
</A></li>
	<LI>Next message: <A HREF="024428.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24346">[ date ]</a>
              <a href="thread.html#24346">[ thread ]</a>
              <a href="subject.html#24346">[ subject ]</a>
              <a href="author.html#24346">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
