<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%22offscreen%20canvas%22%20/Access%20to%20canvas%20functionality%0A%09from%20a%20worker&In-Reply-To=%3Ca07b86220912100045l7ce698c5sdada653744c1684b%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066619.html">
   <LINK REL="Next"  HREF="066724.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker</H1>
<!--htdig_noindex-->
    <B>Franz Buchinger</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%22offscreen%20canvas%22%20/Access%20to%20canvas%20functionality%0A%09from%20a%20worker&In-Reply-To=%3Ca07b86220912100045l7ce698c5sdada653744c1684b%40mail.gmail.com%3E"
       TITLE="[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker">fbuchinger at gmail.com
       </A><BR>
    <I>Thu Dec 10 00:45:19 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="066619.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker
</A></li>
        <LI>Next message: <A HREF="066724.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas	functionality	from a worker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66701">[ date ]</a>
              <a href="thread.html#66701">[ thread ]</a>
              <a href="subject.html#66701">[ subject ]</a>
              <a href="author.html#66701">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Sigbjorn,

Does this mean that I have to implement my own image scaling method in
Javascript when using web workers, instead of using the scale() method of
CanvasRenderingContext2D?

If so, I'd have to manually iterate over all pixels of the image, perform
some nearest-neighbour calculation and create a new ImageData Object with
the result...
This will be magnitudes sloooooooooower than scale() :(

I'd really appreciate if the &quot;scale-images-before-upload&quot; use case would be
considered better in the HTML5 spec. After all, images are the most
frequently uploaded file type and it has always been a hassle for users to
scale down their multi-megapixel photos manually before uploading them. Now
that we have the chance to solve this issue with pure-browser techniques, we
stop half-way.

Franz

2009/12/7 Sigbjorn Finne &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">sigbjorn.finne at gmail.com</A>&gt;

&gt;<i> On 12/5/2009 13:24, Franz Buchinger wrote:
</I>&gt;<i> &gt; Gears introduced the concept of an &quot;offscreen canvas&quot; that doesn't draw
</I>&gt;<i> &gt; anything in the browser window, but can be used to manipulate images in a
</I>&gt;<i> &gt; web worker.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I used this functionality to implement a &quot;resize-before-upload&quot; feature
</I>&gt;<i> in
</I>&gt;<i> &gt; my photo gallery uploader. Now I'm trying to port my uploader to HTML5
</I>&gt;<i> but
</I>&gt;<i> &gt; there seems no way to delegate the scaling work to a HTML5 web worker.
</I>&gt;<i> &gt; Surely I could use the DOM canvas to scale down the photos in the main
</I>&gt;<i> &gt; &quot;browser thread&quot;, but this means that the UI gets blocked during this
</I>&gt;<i> &gt; process.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If the user chooses more than a few multi-megapixel photos, the
</I>&gt;<i> &gt; CPU-intensive downscaling will likely freeze the browser and trigger a
</I>&gt;<i> &gt; script abortion warning.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Are there plans to introduce an &quot;offscreen canvas&quot; in html5? If not,
</I>&gt;<i> which
</I>&gt;<i> &gt; workarounds are possible?
</I>&gt;<i> &gt;
</I>&gt;<i> Hi Franz,
</I>&gt;<i>
</I>&gt;<i> ImageData is cloneable via postMessage(), so you could perform some
</I>&gt;<i> forms of image processing that way.
</I>&gt;<i>
</I>&gt;<i> --sigbjorn &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">sof at opera.com</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20091210/b92af70f/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20091210/b92af70f/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066619.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker
</A></li>
	<LI>Next message: <A HREF="066724.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas	functionality	from a worker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66701">[ date ]</a>
              <a href="thread.html#66701">[ thread ]</a>
              <a href="subject.html#66701">[ subject ]</a>
              <a href="author.html#66701">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
