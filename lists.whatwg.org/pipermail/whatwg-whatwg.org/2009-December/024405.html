<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Thread to run Web Socket feedback from the protocol ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Thread%20to%20run%20Web%20Socket%20feedback%20from%20the%20protocol%20%3F&In-Reply-To=%3CPine.LNX.4.62.0912091751450.16061%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024403.html">
   <LINK REL="Next"  HREF="024406.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Thread to run Web Socket feedback from the protocol ?</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Thread%20to%20run%20Web%20Socket%20feedback%20from%20the%20protocol%20%3F&In-Reply-To=%3CPine.LNX.4.62.0912091751450.16061%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Thread to run Web Socket feedback from the protocol ?">ian at hixie.ch
       </A><BR>
    <I>Wed Dec  9 09:53:38 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="024403.html">[whatwg] Thread to run Web Socket feedback from the protocol ?
</A></li>
        <LI>Next message: <A HREF="024406.html">[whatwg] Thread to run Web Socket feedback from the protocol ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24405">[ date ]</a>
              <a href="thread.html#24405">[ thread ]</a>
              <a href="subject.html#24405">[ subject ]</a>
              <a href="author.html#24405">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 9 Dec 2009, Jonas Sicking wrote:
&gt;<i> On Wed, Dec 9, 2009 at 9:34 AM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; On Wed, 9 Dec 2009, Alexey Proskuryakov wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Data from network is only processed as an event loop task
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I do not believe this is accurate. It certainly isn't what is specced.
</I>&gt;<i> 
</I>&gt;<i> In XMLHttpRequest this is certainly accurate. You will never see
</I>&gt;<i> .responseText changing in the middle of an execution thread, it's
</I>&gt;<i> always changed in response of a task run from the event loop.
</I>
Sure. From the spec's point of view, a task is queued by the background 
network thread to update the responseText attribute. (I haven't checked if 
that's how Anne actually specced it, but something to that effect is 
needed, otherwise you can see the attribute changing from under you in a 
running script.)

I'm absolutely fine with changing WebSocket to change readyState as part 
of the same task that dispatches the event, but we can't just say there's 
no task, that makes no sense.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>














<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024403.html">[whatwg] Thread to run Web Socket feedback from the protocol ?
</A></li>
	<LI>Next message: <A HREF="024406.html">[whatwg] Thread to run Web Socket feedback from the protocol ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24405">[ date ]</a>
              <a href="thread.html#24405">[ thread ]</a>
              <a href="subject.html#24405">[ subject ]</a>
              <a href="author.html#24405">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
