<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality from a worker
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%22offscreen%20canvas%22%20/Access%20to%20canvas%20functionality%0A%20from%20a%20worker&In-Reply-To=%3Cop.u4rj75yo64w2qv%40anne-van-kesterens-macbook.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024452.html">
   <LINK REL="Next"  HREF="024465.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality from a worker</H1>
<!--htdig_noindex-->
    <B>Anne van Kesteren</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%22offscreen%20canvas%22%20/Access%20to%20canvas%20functionality%0A%20from%20a%20worker&In-Reply-To=%3Cop.u4rj75yo64w2qv%40anne-van-kesterens-macbook.local%3E"
       TITLE="[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality from a worker">annevk at opera.com
       </A><BR>
    <I>Thu Dec 10 23:53:55 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="024452.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker
</A></li>
        <LI>Next message: <A HREF="024465.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24460">[ date ]</a>
              <a href="thread.html#24460">[ thread ]</a>
              <a href="subject.html#24460">[ subject ]</a>
              <a href="author.html#24460">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 10 Dec 2009 22:36:45 +0100, Oliver Hunt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">oliver at apple.com</A>&gt; wrote:
&gt;<i> Ideally if we were to have a graphics context in a worker we'd want it  
</I>&gt;<i> to be the standard CanvasRenderingContext2D, the only real problem is  
</I>&gt;<i> that CanvasRenderingContext2D references the parent canvas element which  
</I>&gt;<i> clearly won't fly in a worker.
</I>
I think the solution to that is to just as with Navigator be more creative  
with IDL interfaces. The methods that take HTMLImageElement or  
HTMLVideoElement similarly should be excluded from the  
CanvasRenderingContext2D exposed within Web Workers.


&gt;<i> I've been thinking of creating something like a WorkerCanvas which is  
</I>&gt;<i> basically a DOM-less CanvasRenderingContext2D, so you can do
</I>&gt;<i>
</I>&gt;<i> var canvas = new WorkerCanvas(width, height);
</I>&gt;<i> canvas.putImageData(myData);
</I>
Something like that sounds good, though shouldn't putImageData() be on the  
2D context you can get via WorkerCanvas?


&gt;<i> I have a vague desire to allow a ImageData to be provided as a backing  
</I>&gt;<i> store, but then you may hit perf or consistency issues on UAs that use  
</I>&gt;<i> premultiplied alpha backing stores.
</I>&gt;<i>
</I>&gt;<i> Additionally there's the question of origin tainting -- is it possible  
</I>&gt;<i> to taint the origin in a worker? you don;t have image elements, you  
</I>&gt;<i> can't xhr unsafely to other origins, but maybe i'm missing something?
</I>
&lt;canvas&gt; can only be tainted by unsafe &lt;img&gt; or &lt;video&gt; elements. Neither  
is applicable, so no.


-- 
Anne van Kesteren
<A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>
</PRE>










<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024452.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker
</A></li>
	<LI>Next message: <A HREF="024465.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24460">[ date ]</a>
              <a href="thread.html#24460">[ thread ]</a>
              <a href="subject.html#24460">[ subject ]</a>
              <a href="author.html#24460">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
