<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%22offscreen%20canvas%22%20/Access%20to%20canvas%20functionality%0A%09from%20a%20worker&In-Reply-To=%3C5dd9e5c50912110230n3c0eb0cet3f2d39588041ea5a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066738.html">
   <LINK REL="Next"  HREF="066751.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker</H1>
<!--htdig_noindex-->
    <B>Jeremy Orlow</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%22offscreen%20canvas%22%20/Access%20to%20canvas%20functionality%0A%09from%20a%20worker&In-Reply-To=%3C5dd9e5c50912110230n3c0eb0cet3f2d39588041ea5a%40mail.gmail.com%3E"
       TITLE="[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker">jorlow at chromium.org
       </A><BR>
    <I>Fri Dec 11 02:30:23 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="066738.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker
</A></li>
        <LI>Next message: <A HREF="066751.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66742">[ date ]</a>
              <a href="thread.html#66742">[ thread ]</a>
              <a href="subject.html#66742">[ subject ]</a>
              <a href="author.html#66742">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Dec 11, 2009 at 12:49 AM, Jonas Sicking &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonas at sicking.cc</A>&gt; wrote:

&gt;<i> On Thu, Dec 10, 2009 at 1:36 PM, Oliver Hunt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">oliver at apple.com</A>&gt; wrote:
</I>&gt;<i> &gt; Ideally if we were to have a graphics context in a worker we'd want it to
</I>&gt;<i> be
</I>&gt;<i> &gt; the standard CanvasRenderingContext2D, the only real problem is that
</I>&gt;<i> &gt; CanvasRenderingContext2D references the parent canvas element which
</I>&gt;<i> clearly
</I>&gt;<i> &gt; won't fly in a worker.
</I>&gt;<i> &gt; I've been thinking of creating something like a WorkerCanvas which is
</I>&gt;<i> &gt; basically a DOM-less CanvasRenderingContext2D, so you can do
</I>&gt;<i> &gt; var canvas = new WorkerCanvas(width, height);
</I>&gt;<i> &gt; canvas.putImageData(myData);
</I>&gt;<i>
</I>&gt;<i> Do you really need all of CanvasRenderingContext2D? I.e. do you really
</I>&gt;<i> need things like spline drawing, pattern filling, and text?
</I>&gt;<i>
</I>&gt;<i> My concern weather the libraries backing CanvasRenderingContext2D are
</I>&gt;<i> generally threadsafe?
</I>&gt;<i>
</I>
CanvasRenderingContext2Ds would never need to be shared between threads
because they're &quot;cloned&quot; when passed...so is your concern that the libraries
are only meant to ever be used from one thread?  Maybe I'm being naive, but
it would surprise me if that turned out to be an issue.


&gt;<i> The use case brought up at the beginning of this thread was about
</I>&gt;<i> scaling. It would be dramatically easier to implement just a few
</I>&gt;<i> things like transformations, cropping and encoding/decoding, than to
</I>&gt;<i> implement all of CanvasRenderingContext2D off the main thread.
</I>&gt;<i>
</I>
Resizing images was just one use.  I could easily imagine apps wanting to
generate more complex images on background threads without needing to
implement things like spline drawing, pattern filling, and text themselves.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20091211/20ad9f98/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20091211/20ad9f98/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066738.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker
</A></li>
	<LI>Next message: <A HREF="066751.html">[whatwg] &quot;offscreen canvas&quot; /Access to canvas functionality	from a worker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66742">[ date ]</a>
              <a href="thread.html#66742">[ thread ]</a>
              <a href="subject.html#66742">[ subject ]</a>
              <a href="author.html#66742">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
