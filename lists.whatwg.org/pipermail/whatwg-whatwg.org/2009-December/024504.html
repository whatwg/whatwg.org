<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] some thoughts on sandboxed IFRAMEs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20some%20thoughts%20on%20sandboxed%20IFRAMEs&In-Reply-To=%3C7789133a0912131213g31293031tdd0a2b0890308f1a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024502.html">
   <LINK REL="Next"  HREF="024505.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] some thoughts on sandboxed IFRAMEs</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20some%20thoughts%20on%20sandboxed%20IFRAMEs&In-Reply-To=%3C7789133a0912131213g31293031tdd0a2b0890308f1a%40mail.gmail.com%3E"
       TITLE="[whatwg] some thoughts on sandboxed IFRAMEs">whatwg at adambarth.com
       </A><BR>
    <I>Sun Dec 13 12:13:27 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="024502.html">[whatwg] some thoughts on sandboxed IFRAMEs
</A></li>
        <LI>Next message: <A HREF="024505.html">[whatwg] some thoughts on sandboxed IFRAMEs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24504">[ date ]</a>
              <a href="thread.html#24504">[ thread ]</a>
              <a href="subject.html#24504">[ subject ]</a>
              <a href="author.html#24504">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sun, Dec 13, 2009 at 11:02 AM, Michal Zalewski &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">lcamtuf at coredump.cx</A>&gt; wrote:
&gt;&gt;<i>&#160;More importantly, though, it puts a significant burden on authors to
</I>&gt;&gt;<i> generate unpredictable tokens. &#160;Is this difficult? &#160;No, of course not.
</I>&gt;&gt;<i> But people *will* do it badly, copypasting a single token in all
</I>&gt;&gt;<i> their &lt;iframe&gt;s or similar.
</I>&gt;<i>
</I>&gt;<i> People already &#160;need to do this well for XSRF defenses to work, and
</I>&gt;<i> I'd wager it's a much simpler and better-defined problem than
</I>&gt;<i> real-world HTML parsing and escaping could realistically be. It is
</I>&gt;<i> also very easy to delegate this task to existing functions in common
</I>&gt;<i> web frameworks.
</I>&gt;<i>
</I>&gt;<i> Also, a single token on a returned page, as long as it's unpredictable
</I>&gt;<i> across user sessions, should not be a significant issue.
</I>
People screw up CSRF tokens all the time.  The closing tag nonce
design has been floating around for years.  The earliest variant I
could find is Brendan's &lt;jail&gt; tag.

The @sandbox seems like a better fit for the advertising use case.  In
fact, many people have told me how happy they are that WebKit is
implementing @sandbox.  These folks tend to already be using iframes
to contain ads or gadgets and wish that they could turn off more
features, like frame-busting and plugins.  They're not worried about
the sandboxed content being loaded in the main frame because they're
interested in limiting the attacker's introduction to the user.  Once
the user has visited attacker.com, the issue is out of their hands.

I agree that we need something to help with content received by
cross-site XMLHttpRequest and postMessage.  For those use cases, we're
already running script, so a design like toStaticHTML seems better
than &lt;jail&gt;.

Adam
</PRE>



































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024502.html">[whatwg] some thoughts on sandboxed IFRAMEs
</A></li>
	<LI>Next message: <A HREF="024505.html">[whatwg] some thoughts on sandboxed IFRAMEs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24504">[ date ]</a>
              <a href="thread.html#24504">[ thread ]</a>
              <a href="subject.html#24504">[ subject ]</a>
              <a href="author.html#24504">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
