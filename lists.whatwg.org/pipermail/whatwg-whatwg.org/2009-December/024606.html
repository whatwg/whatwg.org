<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Appcache feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Appcache%20feedback&In-Reply-To=%3C78DB64FE-7667-4DB5-BBDC-F3BB712C904D%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024604.html">
   <LINK REL="Next"  HREF="024607.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Appcache feedback</H1>
<!--htdig_noindex-->
    <B>Joseph Pecoraro</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Appcache%20feedback&In-Reply-To=%3C78DB64FE-7667-4DB5-BBDC-F3BB712C904D%40gmail.com%3E"
       TITLE="[whatwg] Appcache feedback">joepeck02 at gmail.com
       </A><BR>
    <I>Thu Dec 17 14:17:23 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="024604.html">[whatwg] Appcache feedback
</A></li>
        <LI>Next message: <A HREF="024607.html">[whatwg] Appcache feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24606">[ date ]</a>
              <a href="thread.html#24606">[ thread ]</a>
              <a href="subject.html#24606">[ subject ]</a>
              <a href="author.html#24606">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Dec 17, 2009, at 4: 44PM, Ian Hickson wrote:
&gt;<i> Another conforming sequence of events would be:
</I>&gt;<i> 
</I>&gt;<i> 1. The parser's first parsing task begins.
</I>&gt;<i> 2. As soon as the manifest=&quot;&quot; attribute is parsed, the application cache 
</I>&gt;<i> download process begins. It queues a task to dispatch the 'checking' 
</I>&gt;<i> event.
</I>&gt;<i> 3. The parser's first parsing task ends.
</I>&gt;<i> 4. The event loop spins, and runs the next task, which is the 'checking' 
</I>&gt;<i> event. No scripts have yet run, so no handlers are registered. Nothing 
</I>&gt;<i> happens.
</I>&gt;<i> 5. The parser's second parsing task begins. It will parse the script, etc.
</I>&gt;<i> 
</I>&gt;<i> [snip moved below..]
</I>&gt;<i> 
</I>&gt;<i> We could delay the application cache download process so that it doesn't 
</I>&gt;<i> start until after the 'load' event has fired. Does anyone have an opinion 
</I>&gt;<i> on this?
</I>
From an application developer standpoint I think that would be very nice. I cannot comment on a this from an implementors perspective (yet).

It seems important considering the following text from the Spec:
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/offline.html#downloading-or-updating-an-application-cache">http://www.whatwg.org/specs/web-apps/current-work/multipage/offline.html#downloading-or-updating-an-application-cache</A>

[[
Certain events fired during the application cache download process allow the script to override the display of such an interface. The goal of this is to allow Web applications to provide more seamless update mechanisms, hiding from the user the mechanics of the application cache mechanism. User agents may display user interfaces independent of this, but are encouraged to not show prominent update progress notifications for applications that cancel the relevant events.
]]

It seems pointless to provide hooks in the API that allow for a &quot;custom interface&quot;, when fundamentally they may never be triggered in an otherwise compliant user agent.


&gt;<i> You can work around all this by checking the .status attribute when you 
</I>&gt;<i> first hook up the event listeners.
</I>
This is even worse. To me, this means the application developer cannot rely on certain (any?) events, so he/she would need to build a completely new API on top?  Developers will still likely be caught searching for bugs in their own code (like I did) wondering why behavior is different between browsers.


Thanks for the quick response,
- Joe
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20091217/bc00d488/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20091217/bc00d488/attachment.htm</A>&gt;
</PRE>










<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024604.html">[whatwg] Appcache feedback
</A></li>
	<LI>Next message: <A HREF="024607.html">[whatwg] Appcache feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24606">[ date ]</a>
              <a href="thread.html#24606">[ thread ]</a>
              <a href="subject.html#24606">[ subject ]</a>
              <a href="author.html#24606">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
