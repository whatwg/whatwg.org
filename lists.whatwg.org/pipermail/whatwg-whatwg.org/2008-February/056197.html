<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] More random comments on the putImageData definition
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20More%20random%20comments%20on%20the%20putImageData%20definition&In-Reply-To=%3CE617D3F8-BB57-4532-BDE1-80E3FD3C879F%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="056193.html">
   <LINK REL="Next"  HREF="056199.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] More random comments on the putImageData definition</H1>
<!--htdig_noindex-->
    <B>Oliver Hunt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20More%20random%20comments%20on%20the%20putImageData%20definition&In-Reply-To=%3CE617D3F8-BB57-4532-BDE1-80E3FD3C879F%40apple.com%3E"
       TITLE="[whatwg] More random comments on the putImageData definition">oliver at apple.com
       </A><BR>
    <I>Sun Feb 10 16:05:02 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="056193.html">[whatwg] More random comments on the putImageData definition
</A></li>
        <LI>Next message: <A HREF="056199.html">[whatwg] More random comments on the putImageData definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56197">[ date ]</a>
              <a href="thread.html#56197">[ thread ]</a>
              <a href="subject.html#56197">[ subject ]</a>
              <a href="author.html#56197">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Feb 10, 2008, at 3:08 PM, Robert O'Callahan wrote:

&gt;<i> On Feb 11, 2008 11:49 AM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> If we have one API, high-res only:
</I>&gt;<i>
</I>&gt;<i>   People who use it correctly:
</I>&gt;<i>      get good results both today and tomorrow.
</I>&gt;<i>   People who use it wrongly:
</I>&gt;<i>      get good results today.
</I>&gt;<i>      will get cropped or visibly wrong results tomorrow.
</I>&gt;<i>
</I>&gt;<i> If we have two APIs:
</I>&gt;<i>
</I>&gt;<i>   People who use it correctly:
</I>&gt;<i>      get good results today.
</I>&gt;<i>      may get either ugly results tomorrow, or good results tomorrow.
</I>&gt;<i>   People who it wrongly:
</I>&gt;<i>      get good results today.
</I>&gt;<i>      get ugly results tomorrow.
</I>&gt;<i>   More people will use it wrongly, since it's more complex.
</I>&gt;<i>
</I>&gt;<i> So we trade cropped or visibly wrong results for ugly results, and  
</I>&gt;<i> good
</I>&gt;<i> results for possibly ugly results.
</I>&gt;<i>
</I>&gt;<i> Well, &quot;ugly&quot; here actually means &quot;visually just as good as today,  
</I>&gt;<i> but not as good as the results could be on a high-DPI device&quot;.
</I>&gt;<i>
</I>&gt;<i> Whereas &quot;will get cropped or visibly wrong results tomorrow&quot; could  
</I>&gt;<i> be so serious that browsers simply have to lock in to &quot;ugly mode&quot;  
</I>&gt;<i> forever to avoid them. Apparently I'm not the only one worried about  
</I>&gt;<i> that..
</I>WebKit already supports a high dpi canvas -- that's why i'm making as  
much noise about this as i am -- i'd like to implement it the best way  
possible, but without causing undue pain once this really starts  
mattering :D

&gt;<i> Maybe the least sucky option is to leave the API as-is, hope nothing  
</I>&gt;<i> bad happens, and if it does then we do what Oliver suggested and  
</I>&gt;<i> make getImageData downsample to ensure a 1:1 ratio, breaking the  
</I>&gt;<i> getImageData/putImageData invariant but oh well. Then later when the  
</I>&gt;<i> world is ready, introduce getImageDataReallyThisTime....
</I>
i was thinking having a style property, say, canvas-dpi: auto|device  
or something, where the default auto value automagically does the evil  
downsampling the moment a data routine is used, and device would  
result in the right thing.  That said neither of these are  
particularly nice. OTOH it would allow those who use get/putImageData  
to implement a basic video buffer (eg. the msx demo, etc) to continue  
to do so.

&gt;<i> (Alternatively: if the user is a Web developer, i.e. has Firebug  
</I>&gt;<i> installed, always make Gecko's canvas backing store 2 pixels per  
</I>&gt;<i> canvas unit! Just kidding. I think.)
</I>That's not actually a bad idea ;D

Of course then people will probably complain that firebug makes canvas  
slow ;)

--Oliver

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Rob
</I>&gt;<i> -- 
</I>&gt;<i> &quot;He was pierced for our transgressions, he was crushed for our  
</I>&gt;<i> iniquities; the punishment that brought us peace was upon him, and  
</I>&gt;<i> by his wounds we are healed. We all, like sheep, have gone astray,  
</I>&gt;<i> each of us has turned to his own way; and the LORD has laid on him  
</I>&gt;<i> the iniquity of us all.&quot; [Isaiah 53:5-6]
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20080210/44255d0f/attachment-0001.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20080210/44255d0f/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="056193.html">[whatwg] More random comments on the putImageData definition
</A></li>
	<LI>Next message: <A HREF="056199.html">[whatwg] More random comments on the putImageData definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56197">[ date ]</a>
              <a href="thread.html#56197">[ thread ]</a>
              <a href="subject.html#56197">[ subject ]</a>
              <a href="author.html#56197">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
