<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Referer header sent with &lt;a ping&gt;?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Referer%20header%20sent%20with%20%3Ca%20ping%3E%3F&In-Reply-To=%3CPine.LNX.4.62.0802022159320.31193%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="056115.html">
   <LINK REL="Next"  HREF="056125.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Referer header sent with &lt;a ping&gt;?</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Referer%20header%20sent%20with%20%3Ca%20ping%3E%3F&In-Reply-To=%3CPine.LNX.4.62.0802022159320.31193%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Referer header sent with &lt;a ping&gt;?">ian at hixie.ch
       </A><BR>
    <I>Sat Feb  2 14:02:05 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="056115.html">[whatwg] Referer header sent with &lt;a ping&gt;?
</A></li>
        <LI>Next message: <A HREF="056125.html">[whatwg] Referer header sent with &lt;a ping&gt;?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56124">[ date ]</a>
              <a href="thread.html#56124">[ thread ]</a>
              <a href="subject.html#56124">[ subject ]</a>
              <a href="author.html#56124">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 1 Feb 2008, Julian Reschke wrote:
&gt;<i> Ian Hickson wrote:
</I>&gt;<i> &gt; &gt; This would make it easy to protect against unwanted ping-originated
</I>&gt;<i> &gt; &gt; requests (one could configure server or set up application firewall to
</I>&gt;<i> &gt; &gt; filter pings), and URL in &lt;a ping&gt; wouldn't have to contain copies of
</I>&gt;<i> &gt; &gt; page's URL and href.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; What do people think of this idea:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; We make &quot;Referer&quot; always have the value &quot;PING&quot;.
</I>&gt;<i> 
</I>&gt;<i> Referer takes a relative reference, or a URI. Not a good idea.
</I>
Interesting.

I see two ways forward here. One would be to redefine Referer to remove 
the relative URI thing, since, to my knowledge at least, nobody uses it.

The other is that we can define the magic value to be &quot;#PING&quot; instead, 
since that's a non-conforming Referer value right now.

Would that work for people? dolphinling? Darin?


&gt;<i> &gt; We add two headers, &quot;X-Ping-From&quot; which has the value of the page that 
</I>&gt;<i> &gt; had the link, and &quot;X-Ping-To&quot; which has the value of the page that is 
</I>&gt;<i> &gt; being opened.
</I>&gt;<i> 
</I>&gt;<i> You don't need any new headers.
</I>&gt;<i> 
</I>&gt;<i> Define a content type, and send the information you want to transmit in 
</I>&gt;<i> the request body.
</I>
The idea, as others have noted, is to keep the entity body empty so as to 
avoid any issues with servers that ignore the headers and process the body 
(which is relatively common).

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="056115.html">[whatwg] Referer header sent with &lt;a ping&gt;?
</A></li>
	<LI>Next message: <A HREF="056125.html">[whatwg] Referer header sent with &lt;a ping&gt;?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56124">[ date ]</a>
              <a href="thread.html#56124">[ thread ]</a>
              <a href="subject.html#56124">[ subject ]</a>
              <a href="author.html#56124">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
