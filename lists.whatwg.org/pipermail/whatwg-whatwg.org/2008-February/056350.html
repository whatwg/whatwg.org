<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] When closing the browser
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20When%20closing%20the%20browser&In-Reply-To=%3C11485195.1059201204239574949.JavaMail.servlet%40perfora%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="056345.html">
   <LINK REL="Next"  HREF="056354.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] When closing the browser</H1>
<!--htdig_noindex-->
    <B>html at nczonline.net</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20When%20closing%20the%20browser&In-Reply-To=%3C11485195.1059201204239574949.JavaMail.servlet%40perfora%3E"
       TITLE="[whatwg] When closing the browser">html at nczonline.net
       </A><BR>
    <I>Thu Feb 28 14:59:34 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="056345.html">[whatwg] When closing the browser
</A></li>
        <LI>Next message: <A HREF="056354.html">[whatwg] several messages about serialising HTML and related	subjects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56350">[ date ]</a>
              <a href="thread.html#56350">[ thread ]</a>
              <a href="subject.html#56350">[ subject ]</a>
              <a href="author.html#56350">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>David,

The onbeforeunload event handler can be used in this manner. See these posts:

<A HREF="http://www.nczonline.net/archive/2006/3/311">http://www.nczonline.net/archive/2006/3/311</A>
<A HREF="http://www.nczonline.net/archive/2006/3/312">http://www.nczonline.net/archive/2006/3/312</A>

-Nicholas




&#160;
I made a quick look through the HTML 5 Working Draft table of contents, as well as Anne's &quot;differences&quot; document and went looking through <A HREF="http://www.w3.org/html/wg/html5/#processing2&#160;the">http://www.w3.org/html/wg/html5/#processing2&#160;the</A> changes on the network and processing models to see if this was covered or not, but didn't see it. I probably missed it, but noticed something today that I was fooling around with some years ago and wondered if it has been addressed.
&#160;
The user opens a web application as one of many tabs in a web browser. They then, either within the application window, accidentally hit CTRL W (or its Mac equivalent), or from the operating system, issue a close application command. Most apps (as opposed to the more &quot;passive&quot; browsers) detect that new content has been developed and in is jeopardy of being lost and therefore prompt the user to the status of this possible data loss. The browser, unless I'm missing something, seems to have a different status within the OS and just closes without ceremony.
&#160;
The way I've handled this is the past is to have an onunload script associated with the body: onunload=&quot;if (confirm('Save before quitting')) (SaveIt());&quot; where SaveIt is some magic function which writes to disk (I understand that such a technique will standardize writing to local drive space in HTML5). I also understand that there will be ways of overriding the default definitions of CTRL-W etc. so that the developer may change these unpleasantries inherited from the browser. However, in the case of the solution using onload/confirm, (if you're not averse to using IE and looking at VML then see <A HREF="http://srufaculty.sru.edu/david.dailey/grapher/grapher.96.html&#160;for">http://srufaculty.sru.edu/david.dailey/grapher/grapher.96.html&#160;for</A> an example) , you have two choices: save and cancel -- &quot;cancel&quot; terminates without saving, &quot;save&quot; terminates after saving.
&#160;
Has this group or HTMLWG&#160;yet decided on a way of preventing accidental loss of work for web applications in a way&#160;similar to&#160;how &quot;applications&quot; handle the situation?
&#160;
cheers,
David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20080228/ce32948b/attachment-0001.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20080228/ce32948b/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="056345.html">[whatwg] When closing the browser
</A></li>
	<LI>Next message: <A HREF="056354.html">[whatwg] several messages about serialising HTML and related	subjects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56350">[ date ]</a>
              <a href="thread.html#56350">[ thread ]</a>
              <a href="subject.html#56350">[ subject ]</a>
              <a href="author.html#56350">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
