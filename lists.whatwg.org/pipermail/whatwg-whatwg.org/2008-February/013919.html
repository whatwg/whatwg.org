<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] More random comments on the putImageData definition
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20More%20random%20comments%20on%20the%20putImageData%20definition&In-Reply-To=%3C11e306600802101453l760ba129v4d34a3cf990fed00%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013917.html">
   <LINK REL="Next"  HREF="013923.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] More random comments on the putImageData definition</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20More%20random%20comments%20on%20the%20putImageData%20definition&In-Reply-To=%3C11e306600802101453l760ba129v4d34a3cf990fed00%40mail.gmail.com%3E"
       TITLE="[whatwg] More random comments on the putImageData definition">robert at ocallahan.org
       </A><BR>
    <I>Sun Feb 10 14:53:54 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="013917.html">[whatwg] More random comments on the putImageData definition
</A></li>
        <LI>Next message: <A HREF="013923.html">[whatwg] More random comments on the putImageData definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13919">[ date ]</a>
              <a href="thread.html#13919">[ thread ]</a>
              <a href="subject.html#13919">[ subject ]</a>
              <a href="author.html#13919">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Feb 11, 2008 11:37 AM, Oliver Hunt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">oliver at apple.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> On Feb 10, 2008, at 2:26 PM, Robert O'Callahan wrote:
</I>&gt;<i>
</I>&gt;<i> On Feb 10, 2008 10:07 PM, Oliver Hunt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">oliver at apple.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; That said, basically what you're saying is that canvas should not
</I>&gt;<i> &gt; support hidpi.  At all. There is no need to request the dpi of a canvas, but
</I>&gt;<i> &gt; (and here's the critical bit) you can't have get/putImageData work at a
</I>&gt;<i> &gt; different resolution from the backing buffer.
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> Why not?
</I>&gt;<i>
</I>&gt;<i> Because the purpose of get/putImageData *is* to get to the device pixels,
</I>&gt;<i> that's their purpose, making them not do that is both bizarre, breaks the
</I>&gt;<i> semantic that putImageData(getImageData(x,y,w,h), x, y) will leave the
</I>&gt;<i> canvas unchanged
</I>&gt;<i>
</I>
Yeah, that makes sense...


&gt;<i> and the cost of sub-/super-sampling removes the whole &quot;speed&quot; thing that
</I>&gt;<i> the API was originally added for.
</I>&gt;<i>
</I>
Not so sure about this. Script manipulation of pixel data probably isn't
going to be faster than native, probably hardware-assisted resampling.


&gt;<i>
</I>&gt;<i> Yeah, unfortunately we all know the web authors tend to favour the &quot;it
</I>&gt;<i> works now, so must be correct&quot; philosophy -- it's looking more and more like
</I>&gt;<i> i will be forced to convert the canvas from hidpi to 1:1 the moment any of
</I>&gt;<i> the imagedata/toDataURL routines are used.  *sigh*
</I>&gt;<i>
</I>
That would break your sensible invariant that
putImageData(getImageData(x,y,w,h),
x, y) leaves the canvas unchanged.

It would really suck to lock canvas into a 1:1 device-to-CSS pixel ratio
forever. Seems to me putImageData/getImageData isn't worth that risk. Maybe
we should introduce it later when developers are more likely to encounter
the DPI issues for themselves.

Rob
-- 
&quot;He was pierced for our transgressions, he was crushed for our iniquities;
the punishment that brought us peace was upon him, and by his wounds we are
healed. We all, like sheep, have gone astray, each of us has turned to his
own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
53:5-6]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20080211/73e9aa96/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20080211/73e9aa96/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013917.html">[whatwg] More random comments on the putImageData definition
</A></li>
	<LI>Next message: <A HREF="013923.html">[whatwg] More random comments on the putImageData definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13919">[ date ]</a>
              <a href="thread.html#13919">[ thread ]</a>
              <a href="subject.html#13919">[ subject ]</a>
              <a href="author.html#13919">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
