<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] selection.modify behavior across platforms
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20selection.modify%20behavior%20across%20platforms&In-Reply-To=%3C1771527386.62307.1301118413667.JavaMail.root%40cm-mail03.mozilla.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031020.html">
   <LINK REL="Next"  HREF="031037.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] selection.modify behavior across platforms</H1>
<!--htdig_noindex-->
    <B>Ehsan Akhgari</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20selection.modify%20behavior%20across%20platforms&In-Reply-To=%3C1771527386.62307.1301118413667.JavaMail.root%40cm-mail03.mozilla.org%3E"
       TITLE="[whatwg] selection.modify behavior across platforms">ehsan at mozilla.com
       </A><BR>
    <I>Fri Mar 25 22:46:53 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="031020.html">[whatwg] selection.modify behavior across platforms
</A></li>
        <LI>Next message: <A HREF="031037.html">[whatwg] selection.modify behavior across platforms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31036">[ date ]</a>
              <a href="thread.html#31036">[ thread ]</a>
              <a href="subject.html#31036">[ subject ]</a>
              <a href="author.html#31036">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> I think that's a correct assumption. Selection behavior in general
</I>&gt;<i> depends on the underlying platform, and I don't see any benefit of
</I>&gt;<i> matching the behaviors for the end users.
</I>
Yes, I'm not arguing that the selection behavior using input devices needs to change.

&gt;<i> I think that's the correct approach. Even without selection.modify,
</I>&gt;<i> WebKit's selection behavior is different based on the underlying
</I>&gt;<i> platform. For example, selection created by pointing devices will
</I>&gt;<i> result on Mac will be directionless whereas selection will always has
</I>&gt;<i> a direction on non-Mac platforms.
</I>
Again, this is outside the scope of my question (and yes, I agree that platform specific selection behavior is the correct thing to implement here).

&gt;<i> This seems like a WebKit bug. Is there a bug filed for this?
</I>
I don't know, but first let's see if we can agree on which behavior is desired...  :-)

&gt;<i> I disagree. I think selection behavior should be implemented in
</I>&gt;<i> accordance to the native platform. To begin with, the concept of the
</I>&gt;<i> word itself maybe vague in some languages. For example, extending
</I>&gt;<i> selection at the beginning of &quot;&#26085;&#26412;&#35486;&quot; results in selecting &quot;&#26085;&quot; on Safari
</I>&gt;<i> whereas Chrome selects the entire &quot;&#26085;&#26412;&#35486;&quot;. With this in mind, the
</I>&gt;<i> benefit of matching this edge case only relevant to alphabetic
</I>&gt;<i> languages that uses a space as a word separator is highly
</I>&gt;<i> questionable.
</I>
I agree that for the &quot;&#26085;&#26412;&#35486;&quot; example, the language properties should be taken into account.  But including word separators such as spaces makes it problematic, I think.

If we define selection.modify with granulatity set to &quot;word&quot; as extending the selection to the start/end of the current word (or for that matter, to the start/end of the next/previous word!) we would have a consistent result for calls on this API.  For example, if somebody is writing a spell correction UI, they would want to replace the currently selected word with another word.  Even if we choose the latter definition for the API (which I find less intuitive), the author knows that they need to deal with word separator characters separately.

But with the behavior of the API changing based on the platform, the author can either choose to sniff the UA string, or check what the API did after calling it.  The scarier scenario is the author testing their application on one platform, and deploying it without realizing that it will break in other platforms.

I think if we want to have the platform specific word selection capability in the API, we should have a different granularity value which points out that its results are platform specific.  Otherwise, it's just too easy to assume that the result of calling this API is the same across all platforms, just like almost all other Web APIs.

Cheers,
--
Ehsan Akhgari
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ehsan at mozilla.com</A>
<A HREF="http://ehsanakhgari.org/">http://ehsanakhgari.org/</A>
</PRE>



<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031020.html">[whatwg] selection.modify behavior across platforms
</A></li>
	<LI>Next message: <A HREF="031037.html">[whatwg] selection.modify behavior across platforms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31036">[ date ]</a>
              <a href="thread.html#31036">[ thread ]</a>
              <a href="subject.html#31036">[ subject ]</a>
              <a href="author.html#31036">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
