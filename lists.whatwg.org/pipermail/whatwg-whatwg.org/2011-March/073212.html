<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] PeerConnection: encryption feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20PeerConnection%3A%20encryption%20feedback&In-Reply-To=%3CAANLkTindpOr%3DLc87rM_afjk%2BDjsimxOJGkG%2BhzH0cAuw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073211.html">
   <LINK REL="Next"  HREF="073213.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] PeerConnection: encryption feedback</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20PeerConnection%3A%20encryption%20feedback&In-Reply-To=%3CAANLkTindpOr%3DLc87rM_afjk%2BDjsimxOJGkG%2BhzH0cAuw%40mail.gmail.com%3E"
       TITLE="[whatwg] PeerConnection: encryption feedback">glenn at zewt.org
       </A><BR>
    <I>Thu Mar 17 21:24:05 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073211.html">[whatwg] PeerConnection: encryption feedback
</A></li>
        <LI>Next message: <A HREF="073213.html">[whatwg] PeerConnection: encryption feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73212">[ date ]</a>
              <a href="thread.html#73212">[ thread ]</a>
              <a href="subject.html#73212">[ subject ]</a>
              <a href="author.html#73212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Mar 17, 2011 at 11:07 PM, Adam Barth &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">w3c at adambarth.com</A>&gt; wrote:
&gt;&gt;<i> But you get this with a per-connection (not per-packet) nonce and CTR's
</I>&gt;&gt;<i> sequence number.  You don't need a unique 16-byte nonce for each packet.
</I>&gt;<i>
</I>&gt;<i> The attacker observes each packet once delivered, so you need a new
</I>&gt;<i> nonce for each packet.
</I>
I think you're talking about the attack described in
<A HREF="http://www.openssl.org/~bodo/tls-cbc.txt.">http://www.openssl.org/~bodo/tls-cbc.txt.</A>  These attacks are against CBC,
the cipher mode used by TLS block ciphers.  That's why TLS 1.1 includes a
separate IV for each packet.  That sort of attack doesn't apply to the CTR
cipher mode, because the contents of blocks don't feed back into the
encryption as they do with CBC.

If each packet does have its own random IV, then the CBC cipher mode should
be used, not CTR.  There may be other reasons to use CBC, as it's used by
both TLS and IPsec, but if so I don't know what they are.

&gt;<i> Then the MAC would fail because we're using encrypt-then-mac.
</I>
That works if the MAC includes the entire packet, including not just C (the
encrypted data) but also the packet headers (the sequence number).

-- 
Glenn Maynard

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073211.html">[whatwg] PeerConnection: encryption feedback
</A></li>
	<LI>Next message: <A HREF="073213.html">[whatwg] PeerConnection: encryption feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73212">[ date ]</a>
              <a href="thread.html#73212">[ thread ]</a>
              <a href="subject.html#73212">[ subject ]</a>
              <a href="author.html#73212">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
