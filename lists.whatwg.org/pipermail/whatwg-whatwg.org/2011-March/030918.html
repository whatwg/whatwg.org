<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Stream API Feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Stream%20API%20Feedback&In-Reply-To=%3C4D810191.4010109%40helsinki.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030916.html">
   <LINK REL="Next"  HREF="030922.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Stream API Feedback</H1>
<!--htdig_noindex-->
    <B>Olli Pettay</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Stream%20API%20Feedback&In-Reply-To=%3C4D810191.4010109%40helsinki.fi%3E"
       TITLE="[whatwg] Stream API Feedback">Olli.Pettay at helsinki.fi
       </A><BR>
    <I>Wed Mar 16 11:29:37 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030916.html">[whatwg] Stream API Feedback
</A></li>
        <LI>Next message: <A HREF="030922.html">[whatwg] Stream API Feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30918">[ date ]</a>
              <a href="thread.html#30918">[ thread ]</a>
              <a href="subject.html#30918">[ subject ]</a>
              <a href="author.html#30918">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 03/16/2011 05:36 PM, Lachlan Hunt wrote:
&gt;<i> On 2011-03-15 21:58, Robert O'Callahan wrote:
</I>&gt;&gt;<i> Instead of creating new state signalling and control API for streams,
</I>&gt;&gt;<i> what
</I>&gt;&gt;<i> about the alternative approach of letting&lt;video&gt; and&lt;audio&gt; use
</I>&gt;&gt;<i> sensors as
</I>&gt;&gt;<i> sources, and a way to connect the output of&lt;video&gt; and&lt;audio&gt; to
</I>&gt;&gt;<i> encoders?
</I>&gt;<i>
</I>&gt;<i> I'm not entirely sure I understand your proposal, but are you suggesting
</I>&gt;<i> that the input streams from the camera/microphone would first go to
</I>&gt;<i> &lt;video&gt; and &lt;audio&gt; elements, allowing the existing HTMLMediaElement API
</I>&gt;<i> on those elements to be used to control those streams, the output of
</I>&gt;<i> which can then be encoded and recorded to a file or streamed remotely?
</I>
I think roc did suggest that.
Perhaps navigator.getUserMedia(&quot;audio,video&quot;, success, error);
could return an url to the device in the success callback, and that url
could be then set to video.src.


&gt;<i>
</I>&gt;<i> I'm not so sure that would be ideal. The state machinary, assuming you
</I>&gt;<i> mean the networkState, readyState and their associated constants, are
</I>&gt;<i> clearly designed and optimised for obtaining media over a network and do
</I>&gt;<i> not map so well to obtaining streams directly from local devices.
</I>I'd guess reading from local devices would be very similar to reading
video data from local files (which browsers already support).


&gt;<i>
</I>&gt;<i> Many other properties, such as duration, playbackRate, etc. also do not
</I>&gt;<i> have much meaning in the context of streaming media. Some, like
</I>&gt;<i> currentTime, only have limited applicability to streams as it can tell
</I>&gt;<i> you how long its played for, but must be effectively readonly as seeking
</I>&gt;<i> is not possible.
</I>Well, that is the case already with streamed video.



&gt;<i> But that's not particularly useful for the audio element. It's rare that
</I>&gt;<i> the user would want their microphone input to be echoed back to them via
</I>&gt;<i> an audio element. In most cases, when a microphone stream is input into
</I>&gt;<i> an audio element, the audio element itself would need to be muted to
</I>&gt;<i> prevent unwanted and annoying echo or, worse, feedback loops. That would
</I>&gt;<i> only be useful if the audio data were being analysed and output, for
</I>&gt;<i> example, to an audio spectrum visualisation (like with Mozilla's
</I>&gt;<i> experimental audio data API).
</I>Audio (and video) data could be modified before encoding and
streaming it using PeerConnection. That way one could for example
reduce background noise from the audio stream, or 'crop' the video
before sending it. Or if the camera doesn't support grayscale,
the web page could convert the colorful video to grayscale in
order to save network bandwidth.



-Olli
</PRE>

























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030916.html">[whatwg] Stream API Feedback
</A></li>
	<LI>Next message: <A HREF="030922.html">[whatwg] Stream API Feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30918">[ date ]</a>
              <a href="thread.html#30918">[ thread ]</a>
              <a href="subject.html#30918">[ subject ]</a>
              <a href="author.html#30918">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
