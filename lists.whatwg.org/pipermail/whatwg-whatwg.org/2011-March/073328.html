<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] selection.modify behavior across platforms
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20selection.modify%20behavior%20across%20platforms&In-Reply-To=%3C1883430098.80078.1301353754301.JavaMail.root%40cm-mail03.mozilla.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073317.html">
   <LINK REL="Next"  HREF="073346.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] selection.modify behavior across platforms</H1>
<!--htdig_noindex-->
    <B>Ehsan Akhgari</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20selection.modify%20behavior%20across%20platforms&In-Reply-To=%3C1883430098.80078.1301353754301.JavaMail.root%40cm-mail03.mozilla.org%3E"
       TITLE="[whatwg] selection.modify behavior across platforms">ehsan at mozilla.com
       </A><BR>
    <I>Mon Mar 28 16:09:14 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073317.html">[whatwg] selection.modify behavior across platforms
</A></li>
        <LI>Next message: <A HREF="073346.html">[whatwg] selection.modify behavior across platforms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73328">[ date ]</a>
              <a href="thread.html#73328">[ thread ]</a>
              <a href="subject.html#73328">[ subject ]</a>
              <a href="author.html#73328">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> Why would an author want to use Selection.modify() to implement a
</I>&gt;<i> spellcheck API? Wouldn't that imply that they'd have to save the
</I>&gt;<i> user's selection somewhere, create a new one, modify() it to the right
</I>&gt;<i> place, do whatever they want to do with the resulting range, then
</I>&gt;<i> remove the ranges and restore the original selection? Not only is
</I>&gt;<i> this complicated and easy to get wrong, it might result in the
</I>&gt;<i> selection visibly flickering. For things like spellcheck, wouldn't we
</I>&gt;<i> want to have an API on Range instead?
</I>
I was talking about the way that the spell checking dialog works in OpenOffice Writer, for example.  The selection would be visible on the screen, and its contents might get changed if the user chooses to.  But spell checking is just one example where Selection.modify might be useful.  Let's not get distracted from the main discussion.

&gt;<i> Why can't such an application just return true from the event handler
</I>&gt;<i> to let the platform-specific behavior take effect? Indeed, if it
</I>&gt;<i> wants to respect platform-specific behavior, it can't rely on calling
</I>&gt;<i> modify() in response to keypresses, because the same keypresses have
</I>&gt;<i> entirely different effects on different platforms. For instance,
</I>&gt;<i> IIRC, Home on OS X goes to the beginning of the text field instead of
</I>&gt;<i> the beginning of the line as on Windows/typical Linux; Ctrl-A goes to
</I>&gt;<i> the beginning of the line instead of doing nothing special as on
</I>&gt;<i> Windows/typical Linux; etc. Some of this stuff is even configurable
</I>&gt;<i> on some platforms (at least GTK, AFAICT). So if the user presses
</I>&gt;<i> Home, how are you going to decide whether to modify() by
</I>&gt;<i> &quot;lineboundary&quot; or &quot;documentboundary&quot;? The only reliable way is to not
</I>&gt;<i> interfere at all.
</I>&gt;<i> 
</I>&gt;<i> At this point I'm still really unclear on what the use-cases are for
</I>&gt;<i> this feature. I wasn't able to find discussion in the WebKit bug
</I>&gt;<i> tracker in a quick search. I also didn't find any explanation of
</I>&gt;<i> actual use-cases on the Mozilla bug:
</I>&gt;<i> &lt;<A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=496275">https://bugzilla.mozilla.org/show_bug.cgi?id=496275</A>&gt;. I get the
</I>&gt;<i> impression there are actual use-cases for *something* resembling this
</I>&gt;<i> feature, I just haven't figured out what they are . . .
</I>
Here's a possible use case: <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=496275#c10">https://bugzilla.mozilla.org/show_bug.cgi?id=496275#c10</A>


--
Ehsan Akhgari
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ehsan at mozilla.com</A>
<A HREF="http://ehsanakhgari.org/">http://ehsanakhgari.org/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073317.html">[whatwg] selection.modify behavior across platforms
</A></li>
	<LI>Next message: <A HREF="073346.html">[whatwg] selection.modify behavior across platforms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73328">[ date ]</a>
              <a href="thread.html#73328">[ thread ]</a>
              <a href="subject.html#73328">[ subject ]</a>
              <a href="author.html#73328">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
