<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Session Management
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Session%20Management&In-Reply-To=%3C1299157388.4502.0%40davekok%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073052.html">
   <LINK REL="Next"  HREF="073048.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Session Management</H1>
<!--htdig_noindex-->
    <B>Dave Kok</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Session%20Management&In-Reply-To=%3C1299157388.4502.0%40davekok%3E"
       TITLE="[whatwg] Session Management">updates at davekok.net
       </A><BR>
    <I>Thu Mar  3 05:03:08 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073052.html">[whatwg] Session Management
</A></li>
        <LI>Next message: <A HREF="073048.html">[whatwg] Session Management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73054">[ date ]</a>
              <a href="thread.html#73054">[ thread ]</a>
              <a href="subject.html#73054">[ subject ]</a>
              <a href="author.html#73054">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Op 03-03-11 12:17:22 schreef Roger H&#229;gensen:
&gt;<i>On 2011-03-03 10:44, Dave Kok wrote:
</I>&gt;&gt;<i> Op 02-03-11 22:11:48 schreef Roger H&#229;gensen:
</I>&gt;&gt;&gt;<i> Method #3:
</I>&gt;&gt;&gt;<i> The server (or serverside script, like PHP or similar) sends the
</I>&gt;&gt;&gt;<i> following to the browser:
</I>&gt;&gt;&gt;<i>      header('HTTP/1.0 401 Unauthorized');
</I>&gt;&gt;&gt;<i>      header('WWW-Authenticate: Close realm=&quot;My Realm&quot;');
</I>&gt;&gt;&gt;<i>      *PS! the auth stuff is much longer here obviously, this was
</I>&gt;<i>just
</I>&gt;&gt;&gt;<i>      to show the use of &quot;Close&quot;*
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Note:
</I>&gt;&gt;&gt;<i> If Method 1 or 2 is used the browser should probably send the
</I>&gt;&gt;&gt;<i> following
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> to the server:
</I>&gt;&gt;&gt;<i>      GET /private/index.html HTTP/1.1
</I>&gt;&gt;&gt;<i>      Authorization: Close username=&quot;something&quot;
</I>&gt;&gt;&gt;<i>      *PS! the auth stuff is much longer here obviously, this was
</I>&gt;<i>just
</I>&gt;&gt;&gt;<i>      to show the use of &quot;Close&quot;*
</I>&gt;&gt;<i> May I point out that the HTTP is outside the scope of the HTML5 
</I>&gt;&gt;<i> spec.
</I>&gt;&gt;<i> Also the HTTP is stateless. This requires both parties keep state
</I>&gt;<i>which
</I>&gt;&gt;<i> breaks the statelessness property of the HTTP. I, for one, prefer to
</I>&gt;&gt;<i> preserve the statelessness property of HTTP.
</I>&gt;<i>
</I>&gt;<i>&quot;Please appreciate the notion that HTML5 is broader then just browsing
</I>&gt;<i>the internet.&quot; - Dave Kok
</I>&gt;<i>
</I>&gt;<i>And indeed it is. HTTP Authentication (especially Digest) is far from 
</I>&gt;<i>stateless,
</I>&gt;<i>it's state chances with every single nonce number change.
</I>&gt;<i>It's basically a constant (but very cheap cpuwise) 
</I>&gt;<i>handshake/hmac/diffie-hellman agreement.
</I>&gt;<i>Also if you are thinking about the HTTP status codes, those are beyond 
</I>&gt;<i>stateless,
</I>&gt;<i>but if you insist, then simply re-use the 403 with some minor tweaks 
</I>&gt;<i> so
</I>&gt;<i>
</I>&gt;<i>it acts as a logoff,
</I>&gt;<i>because re-using 401 would break the statelessness as you say.
</I>&gt;<i>
</I>&gt;<i>I'm surprised you advocate ajax/XMLHttpRequest and allow to close from
</I>&gt;<i>a 
</I>&gt;<i>form,
</I>&gt;<i>that would open up to some security issues.
</I>&gt;<i>The beauty of HTTP Digest Authentication is that the password is never 
</I>&gt;<i>sent as plaintext or in any form that can compromise the user's
</I>&gt;<i>password.
</I>&gt;<i>Only the user themself (and thus indirectly the browser) or the server 
</I>&gt;<i>should be able to initiate a session close of Auth Digest,
</I>&gt;<i>allowing it to close from a script is just bad, and... dare I say it, 
</I>&gt;<i>counter to the statelessness of HTTP *laughs*
</I>&gt;<i>
</I>&gt;<i>At least we agree on one thing, that where HTTPS is not available or 
</I>&gt;<i>where the site owners have either not discovered or is too lazy or 
</I>&gt;<i>unable to take advantage of StartSSL.com which is free,
</I>&gt;<i>then HTTP Digest Authentication should almost be a requirement for any 
</I>&gt;<i>site that need login credentials. (like forums, shops etc.)
</I>&gt;<i>Funny how many stores only pull out the HTTPS stuff when paying for 
</I>&gt;<i>things you buy (or use a specialist service), but not at all when you 
</I>&gt;<i>log in to your account with them otherwise. *sigh*
</I>&gt;<i>
</I>&gt;<i>Heck, I even have https on my own little site, my hoster provided the
</I>&gt;<i>ip 
</I>&gt;<i>for free, they set up the certificate etc, for free, excellent 
</I>&gt;<i> service.
</I>&gt;<i>
</I>&gt;<i>(I only pay the hoster a small yearly fee, domeneshop.no for you 
</I>&gt;<i>Norwegians out there)
</I>&gt;<i>and combine that with startssl.com and my total cost of &quot;securing&quot; the 
</I>&gt;<i>communication with my site should I ever need it or others need 
</I>&gt;<i>it....??? PRICELESS, since it was absolutely free, not a single cent
</I>&gt;<i>paid.
</I>&gt;<i>But... a lot of web hotels or hosters out there do not allow you to do 
</I>&gt;<i>SSL or it costs extra, or they can not give you a ip or it costs 
</I>&gt;<i> extra,
</I>&gt;<i>
</I>&gt;<i>and, and, and.
</I>&gt;<i>So I have sympathy for those unable to. but hey with the CA that 
</I>&gt;<i>provides free domain/server certs there is no excuse if you ARE able
</I>&gt;<i>to,
</I>&gt;<i>and programmingwise it's less work too, Auth Digest needs some extra 
</I>&gt;<i>massaging from PHP to work nicely in a &quot;integrated&quot; way but even then 
</I>&gt;<i>the logout issue still exist (and even if you &quot;log out&quot; the sie is
</I>&gt;<i>still 
</I>&gt;<i>spammed by the browser with login credentials all the time)
</I>&gt;<i>I've never really worked with the Apache auth_digest stuff, but it's 
</I>&gt;<i>probably even more restricted than doing it yourself via PHP.
</I>&gt;<i>
</I>&gt;<i>And don't forget that you complain that my suggestions messed with 
</I>&gt;<i> HTTP
</I>&gt;<i>
</I>&gt;<i>which HTML5 had no business to mess with,
</I>&gt;<i>yet you yourself suggested XMLHttpRequest and some ajax stuff to 
</I>&gt;<i>close/end a HTTP authentication?
</I>&gt;<i>This already proves that HTML5 isn't just HTML + CSS + Javascript +
</I>&gt;<i>lots 
</I>&gt;<i>of other stuff, but we can also add + HTTP
</I>&gt;<i>Now if this Auth Digest is so important for web apps, then shouldn't 
</I>&gt;<i>WHATWG work together with (um what is the HTTP group called?)....
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>-- 
</I>&gt;<i>Roger &quot;Rescator&quot; H&#229;gensen.
</I>&gt;<i>Freelancer - <A HREF="http://www.EmSai.net/">http://www.EmSai.net/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
Hmm, within the scope of this feature request I am not advocating AJAX. 
Just mentioned it as it can be used to login, see XMLHttpRequest.open. 
It allows for a username and password to be passed in. Personally 
however I prefer to let the UA handle this. Please note that at 
XMLHttpRequest.open level nothing is known of HTTP or whether HTTP-
basic or HTTP-digest is used. To me this is an issue to be solved at 
a layer lower then HTML5. And whether HTTP, FTP or some other protocol 
is used to transfer data and do authentication it pretty much outside 
the scope of my feature request. Also I didn't suggest using AJAX to 
terminate the session. Read the full thread.

As to whether HTTP is stateless or not, then yes between the 
request and response, state is kept but not beyond. At least to my 
knowledge, I haven't read up on HTTP-digest yet beyond just using it. 
So no comment on that.

Also the reason why I target my feature request at this mailing list is 
because it targets the HTML5 spec. Certainly WHATWG can work together 
the IETF (and they properly do) but I don't expect them to just because 
I have an idea. If my idea concern HTML5 I drop a mail to this mailing 
list if it concern HTTP, I will draft a RFC. I my idea concerns both I 
do both and split my idea in two. I hope this attitude does not offend 
you and that you can appreciate, in the light of this, why I responded 
in the way I did.

Thanks for responding and brainstorming though. I trust that my 
response is of proper quality.

--
Dave


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073052.html">[whatwg] Session Management
</A></li>
	<LI>Next message: <A HREF="073048.html">[whatwg] Session Management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73054">[ date ]</a>
              <a href="thread.html#73054">[ thread ]</a>
              <a href="subject.html#73054">[ subject ]</a>
              <a href="author.html#73054">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
