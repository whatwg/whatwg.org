<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Ongoing work on an editing commands (execCommand())	specification
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Ongoing%20work%20on%20an%20editing%20commands%20%28execCommand%28%29%29%0A%09specification&In-Reply-To=%3CAANLkTimmLSczaee4fx2g7cndj-596zTOr%2BXsBQ5yTnJL%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030774.html">
   <LINK REL="Next"  HREF="030750.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Ongoing work on an editing commands (execCommand())	specification</H1>
<!--htdig_noindex-->
    <B>Ehsan Akhgari</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Ongoing%20work%20on%20an%20editing%20commands%20%28execCommand%28%29%29%0A%09specification&In-Reply-To=%3CAANLkTimmLSczaee4fx2g7cndj-596zTOr%2BXsBQ5yTnJL%40mail.gmail.com%3E"
       TITLE="[whatwg] Ongoing work on an editing commands (execCommand())	specification">ehsan at mozilla.com
       </A><BR>
    <I>Fri Mar 18 23:07:51 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030774.html">[whatwg] Ongoing work on an editing commands (execCommand())	specification
</A></li>
        <LI>Next message: <A HREF="030750.html">[whatwg] Ongoing work on an editing commands (execCommand())	specification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30955">[ date ]</a>
              <a href="thread.html#30955">[ thread ]</a>
              <a href="subject.html#30955">[ subject ]</a>
              <a href="author.html#30955">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 11-03-02 2:18 PM, Aryeh Gregor wrote:
&gt;&gt;<i>
</I>&gt;&gt;<i> Styling a Range / Unstyling a Range doesn't seem to split the range into
</I>&gt;&gt;<i> segments of phrasing contents.  How does your algorithm avoid wrapping a
</I>&gt;&gt;<i> non-phrasing element with a span? (e.g. we don't want to wrap div,
</I>&gt;&gt;<i> blockquote, etc... with a span)
</I>&gt;<i>
</I>&gt;<i> I currently avoid this by just not wrapping anything but text nodes.
</I>&gt;<i> This is part of what makes the algorithm horribly messy: bolding
</I>&gt;<i>
</I>&gt;<i>     abc&lt;i&gt;def&lt;/i&gt;  &lt;br&gt;  ghi
</I>&gt;<i>
</I>&gt;<i> gives
</I>&gt;<i>
</I>&gt;<i>     &lt;b&gt;abc&lt;/b&gt;&lt;i style=&quot;font-weight: bold&quot;&gt;def&lt;/i&gt;&lt;b&gt;  &lt;/b&gt;&lt;br
</I>&gt;<i> style=&quot;font-weight: bold&quot;&gt;&lt;b&gt;  ghi&lt;/b&gt;
</I>&gt;<i>
</I>&gt;<i> instead of
</I>&gt;<i>
</I>&gt;<i>     &lt;b&gt;abc&lt;i&gt;def&lt;/i&gt;  &lt;br&gt;  ghi&lt;/b&gt;
</I>&gt;<i>
</I>&gt;<i> This is clearly not acceptable for a final algorithm.  I plan to work
</I>&gt;<i> on polishing the markup cleanliness later, after I've got all the
</I>&gt;<i> important features more or less working.  Currently I haven't even
</I>&gt;<i> looked at commands as basic as &quot;delete&quot; -- although hopefully a lot of
</I>&gt;<i> my work has been done for me by the research Google published some
</I>&gt;<i> months ago on some of these commands.
</I>
I think it's best to address these types of issues sooner in the
specification process rather than later.  A lot of the complexity of
Gecko's implementation in these cases is caused by the desire to
generate simpler DOM structures as much as possible, and the type of
resulting structure would also have an effect on the algorithms
(simple example: the unstyling algorithm needs to handle all those
tricky cases).

--
Ehsan Akhgari
Mozilla Corporation
<A HREF="http://ehsanakhgari.org/">http://ehsanakhgari.org/</A>
</PRE>










<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030774.html">[whatwg] Ongoing work on an editing commands (execCommand())	specification
</A></li>
	<LI>Next message: <A HREF="030750.html">[whatwg] Ongoing work on an editing commands (execCommand())	specification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30955">[ date ]</a>
              <a href="thread.html#30955">[ thread ]</a>
              <a href="subject.html#30955">[ subject ]</a>
              <a href="author.html#30955">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
