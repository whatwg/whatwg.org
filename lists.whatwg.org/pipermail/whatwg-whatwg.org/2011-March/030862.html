<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas and drawWindow
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20and%20drawWindow&In-Reply-To=%3Cop.vr6tpjtgr4mipi%40emoller-pc.gothenburg.osa%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030861.html">
   <LINK REL="Next"  HREF="073136.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas and drawWindow</H1>
<!--htdig_noindex-->
    <B>Erik M&#246;ller</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20and%20drawWindow&In-Reply-To=%3Cop.vr6tpjtgr4mipi%40emoller-pc.gothenburg.osa%3E"
       TITLE="[whatwg] Canvas and drawWindow">emoller at opera.com
       </A><BR>
    <I>Fri Mar 11 08:35:33 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030861.html">[whatwg] First Encounter with HTML
</A></li>
        <LI>Next message: <A HREF="073136.html">[whatwg] Canvas and drawWindow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30862">[ date ]</a>
              <a href="thread.html#30862">[ thread ]</a>
              <a href="subject.html#30862">[ subject ]</a>
              <a href="author.html#30862">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I bet this has been discussed before, but I'm curious as to what people  
think about breathing some life into a more general version of Mozillas  
canvas.drawWindow() that draws a snapshot of a DOM window into the canvas?
<A HREF="https://developer.mozilla.org/en/drawing_graphics_with_canvas#section_9">https://developer.mozilla.org/en/drawing_graphics_with_canvas#section_9</A>

I know there are some security considerations (for example listed in the  
source of drawWindow):

  // We can't allow web apps to call this until we fix at least the
  // following potential security issues:
  // -- rendering cross-domain IFRAMEs and then extracting the results
  // -- rendering the user's theme and then extracting the results
  // -- rendering native anonymous content (e.g., file input paths;
  // scrollbars should be allowed)

I'm no security expert, but it seems to me there's an easy way to at least  
cater for some of the use-cases by always setting origin-clean to false  
when you use drawWindow(). Sure it's a bit overkill to always mark it  
dirty, but it's simple and would block you from reading any of the pixels  
back which would address most (all?) of the security concerns.

I'm doing a WebGL demo, so the use-case I have for this would be to render  
a same-origin page to a canvas and smack that on a monitor in the  
3d-world. Intercept mouse clicks, transform them into 2d and passing them  
on would of course be neat as well and probably opens up the use-cases you  
could dream up.

So, I'm well aware its a tad unconventional, but perhaps someone has a  
better idea of how something like this could be accomplished... i.e. via  
SVG and foreignObject or punching a hole in the canvas and applying a  
transform etc. I'd like to hear your thoughts.

-- 
Erik M&#246;ller
Core Developer
Opera Software
</PRE>




































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030861.html">[whatwg] First Encounter with HTML
</A></li>
	<LI>Next message: <A HREF="073136.html">[whatwg] Canvas and drawWindow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30862">[ date ]</a>
              <a href="thread.html#30862">[ thread ]</a>
              <a href="subject.html#30862">[ subject ]</a>
              <a href="author.html#30862">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
