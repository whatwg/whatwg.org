<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] DOM Range: redefining behavior under DOM mutation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20DOM%20Range%3A%20redefining%20behavior%20under%20DOM%20mutation&In-Reply-To=%3CAANLkTi%3DEdLUj2fYDf8xHLXNKT9SgPGf-miY2GzmMXQH%2B%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031090.html">
   <LINK REL="Next"  HREF="031067.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] DOM Range: redefining behavior under DOM mutation</H1>
<!--htdig_noindex-->
    <B>Aryeh Gregor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20DOM%20Range%3A%20redefining%20behavior%20under%20DOM%20mutation&In-Reply-To=%3CAANLkTi%3DEdLUj2fYDf8xHLXNKT9SgPGf-miY2GzmMXQH%2B%40mail.gmail.com%3E"
       TITLE="[whatwg] DOM Range: redefining behavior under DOM mutation">Simetrical+w3c at gmail.com
       </A><BR>
    <I>Wed Mar 30 13:23:52 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="031090.html">[whatwg] DOM Range: redefining behavior under DOM mutation
</A></li>
        <LI>Next message: <A HREF="031067.html">[whatwg] &lt;details&gt;, &lt;summary&gt; and styling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31091">[ date ]</a>
              <a href="thread.html#31091">[ thread ]</a>
              <a href="subject.html#31091">[ subject ]</a>
              <a href="author.html#31091">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Mar 30, 2011 at 2:48 PM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:
&gt;<i> The spec we're looking at is
</I>&gt;<i> &lt;<A HREF="http://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html#dom-node-insertbefore">http://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html#dom-node-insertbefore</A>&gt;
</I>&gt;<i> as of March 26, I assume? &#160;This spec is all kinds of broken if you allow
</I>&gt;<i> userdata handlers and mutation events.
</I>
Oh, whoops.  That's what I forgot about.  Ryosuke Niwa of WebKit says
that for editing commands, DOM mutation events for editing commands
(not sure about things like insertBefore()) get delayed until after
the command finishes executing:

<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2011-March/030730.html">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2011-March/030730.html</A>

But I'm not too happy trying to spec anything interesting here when
you have this DOM mutation stuff hanging around, so for now I think
I'll just spec what DOM 2 Range says.  I'll leave a note in the spec
to revisit this later.

&gt;<i> Ah, I misunderstood what the result was. &#160;Let me look up what Gecko actually
</I>&gt;<i> does here and get back to you.
</I>
Thanks.
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031090.html">[whatwg] DOM Range: redefining behavior under DOM mutation
</A></li>
	<LI>Next message: <A HREF="031067.html">[whatwg] &lt;details&gt;, &lt;summary&gt; and styling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31091">[ date ]</a>
              <a href="thread.html#31091">[ thread ]</a>
              <a href="subject.html#31091">[ subject ]</a>
              <a href="author.html#31091">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
