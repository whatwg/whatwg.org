<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Rich Paste &amp; DataTransfer / DataTransferItems API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Rich%20Paste%20%26%20DataTransfer%20/%20DataTransferItems%20API&In-Reply-To=%3CAANLkTinYvH1%2BC8%3DXK-zxoVc1e1LxJTdW2o11%2Bd5cqmpA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073159.html">
   <LINK REL="Next"  HREF="073162.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Rich Paste &amp; DataTransfer / DataTransferItems API</H1>
<!--htdig_noindex-->
    <B>Daniel Cheng</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Rich%20Paste%20%26%20DataTransfer%20/%20DataTransferItems%20API&In-Reply-To=%3CAANLkTinYvH1%2BC8%3DXK-zxoVc1e1LxJTdW2o11%2Bd5cqmpA%40mail.gmail.com%3E"
       TITLE="[whatwg] Rich Paste &amp; DataTransfer / DataTransferItems API">dcheng at chromium.org
       </A><BR>
    <I>Mon Mar 14 19:47:26 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073159.html">[whatwg] Rich Paste &amp; DataTransfer / DataTransferItems API
</A></li>
        <LI>Next message: <A HREF="073162.html">[whatwg] Rich Paste &amp; DataTransfer / DataTransferItems API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73160">[ date ]</a>
              <a href="thread.html#73160">[ thread ]</a>
              <a href="subject.html#73160">[ subject ]</a>
              <a href="author.html#73160">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I probably sent it with the wrong from: address.

On Mon, Mar 14, 2011 at 19:21, Glenn Maynard &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">glenn at zewt.org</A>&gt; wrote:

&gt;<i> (Was Daniel's reply off-list?)
</I>&gt;<i>
</I>&gt;<i> On Mon, Mar 14, 2011 at 9:14 PM, Jeb Boniakowski &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jebjeb at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; On Mon, Mar 14, 2011 at 9:22 PM, Daniel Cheng &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dcheng at google.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; I'm currently 60-75% complete landing the patches for image paste
</I>&gt;<i> support in
</I>&gt;<i> &gt;&gt; Chrome. I've chosen to expose image/png instead of a raw bitmap through
</I>&gt;<i> &gt;&gt; event.clipboardData.items in Chrome as a Blob.
</I>&gt;<i> DataTransferItem::getAsFile()
</I>&gt;<i>
</I>&gt;<i> That's a good starting point.  I'd suggest that a different entry
</I>&gt;<i> point is needed to support this fully.  A couple things that come to
</I>&gt;<i> mind:
</I>&gt;<i>
</I>&gt;<i> PNG compression is expensive; on a larger image it may take 5-10
</I>&gt;<i> seconds; more for more aggressive compressors.  This wants an async
</I>&gt;<i> API, so compression doesn't block and compression can be threaded.  (A
</I>&gt;<i> mechanism that can support Progress Events would make a lot of sense,
</I>&gt;<i> too--something for much later, of course, but should at least be kept
</I>&gt;<i> in mind, since func(successCb, errorCb) interfaces don't handle that
</I>&gt;<i> nicely.)
</I>&gt;<i>
</I>&gt;<i> The same thing applies to Canvas:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-December/029492.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-December/029492.html</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2011-February/030381.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2011-February/030381.html</A>
</I>&gt;<i> (Ian's reply)
</I>&gt;<i>
</I>&gt;<i> Canvas users would also want to be able to load a pasted image without
</I>&gt;<i> redundant compression and decompression steps.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Glenn Maynard
</I>&gt;<i>
</I>
Is there an alternate bitmap format that's likely to be widely supported
across different browsers? I picked PNG since if the compression proves to
be expensive, we can simply try less hard to compress the data (at the
extreme end, we don't compress it at all and it basically just becomes a
bitmap container).

It would definitely be nice if you didn't need to know the length of the
data when creating a Blob.

Daniel

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073159.html">[whatwg] Rich Paste &amp; DataTransfer / DataTransferItems API
</A></li>
	<LI>Next message: <A HREF="073162.html">[whatwg] Rich Paste &amp; DataTransfer / DataTransferItems API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73160">[ date ]</a>
              <a href="thread.html#73160">[ thread ]</a>
              <a href="subject.html#73160">[ subject ]</a>
              <a href="author.html#73160">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
