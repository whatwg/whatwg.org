<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] PeerConnection: encryption feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20PeerConnection%3A%20encryption%20feedback&In-Reply-To=%3CAANLkTi%3Dr9Q9Vc_OjL2VPhEmrciSQHFOzQPLsHZ-o_Gvx%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073212.html">
   <LINK REL="Next"  HREF="073221.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] PeerConnection: encryption feedback</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20PeerConnection%3A%20encryption%20feedback&In-Reply-To=%3CAANLkTi%3Dr9Q9Vc_OjL2VPhEmrciSQHFOzQPLsHZ-o_Gvx%40mail.gmail.com%3E"
       TITLE="[whatwg] PeerConnection: encryption feedback">w3c at adambarth.com
       </A><BR>
    <I>Thu Mar 17 21:32:37 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073212.html">[whatwg] PeerConnection: encryption feedback
</A></li>
        <LI>Next message: <A HREF="073221.html">[whatwg] PeerConnection: encryption feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73213">[ date ]</a>
              <a href="thread.html#73213">[ thread ]</a>
              <a href="subject.html#73213">[ subject ]</a>
              <a href="author.html#73213">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Mar 17, 2011 at 9:24 PM, Glenn Maynard &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">glenn at zewt.org</A>&gt; wrote:
&gt;<i> On Thu, Mar 17, 2011 at 11:07 PM, Adam Barth &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">w3c at adambarth.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> But you get this with a per-connection (not per-packet) nonce and CTR's
</I>&gt;&gt;&gt;<i> sequence number.&#160; You don't need a unique 16-byte nonce for each packet.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The attacker observes each packet once delivered, so you need a new
</I>&gt;&gt;<i> nonce for each packet.
</I>&gt;<i>
</I>&gt;<i> I think you're talking about the attack described in
</I>&gt;<i> <A HREF="http://www.openssl.org/~bodo/tls-cbc.txt.&#160;">http://www.openssl.org/~bodo/tls-cbc.txt.&#160;</A> These attacks are against CBC,
</I>&gt;<i> the cipher mode used by TLS block ciphers.&#160; That's why TLS 1.1 includes a
</I>&gt;<i> separate IV for each packet.&#160; That sort of attack doesn't apply to the CTR
</I>&gt;<i> cipher mode, because the contents of blocks don't feed back into the
</I>&gt;<i> encryption as they do with CBC.
</I>&gt;<i>
</I>&gt;<i> If each packet does have its own random IV, then the CBC cipher mode should
</I>&gt;<i> be used, not CTR.&#160; There may be other reasons to use CBC, as it's used by
</I>&gt;<i> both TLS and IPsec, but if so I don't know what they are.
</I>
Nope.  I'm not referring to that attack.  To be precise, the required
property is that each byte on the wire, when viewed independently of
the other bytes, appears to be chosen uniformly at random from the
point of view of the attacker when the message leaves the user agent.

&gt;&gt;<i> Then the MAC would fail because we're using encrypt-then-mac.
</I>&gt;<i>
</I>&gt;<i> That works if the MAC includes the entire packet, including not just C (the
</I>&gt;<i> encrypted data) but also the packet headers (the sequence number).
</I>
Correct.

Adam

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073212.html">[whatwg] PeerConnection: encryption feedback
</A></li>
	<LI>Next message: <A HREF="073221.html">[whatwg] PeerConnection: encryption feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73213">[ date ]</a>
              <a href="thread.html#73213">[ thread ]</a>
              <a href="subject.html#73213">[ subject ]</a>
              <a href="author.html#73213">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
