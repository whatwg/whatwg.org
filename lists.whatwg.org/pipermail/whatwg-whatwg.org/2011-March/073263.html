<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] PeerConnection: encryption feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20PeerConnection%3A%20encryption%20feedback&In-Reply-To=%3C4D8A734F.7000909%40alvestrand.no%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073225.html">
   <LINK REL="Next"  HREF="073264.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] PeerConnection: encryption feedback</H1>
<!--htdig_noindex-->
    <B>Harald Alvestrand</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20PeerConnection%3A%20encryption%20feedback&In-Reply-To=%3C4D8A734F.7000909%40alvestrand.no%3E"
       TITLE="[whatwg] PeerConnection: encryption feedback">harald at alvestrand.no
       </A><BR>
    <I>Wed Mar 23 15:25:19 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073225.html">[whatwg] PeerConnection: encryption feedback
</A></li>
        <LI>Next message: <A HREF="073264.html">[whatwg] PeerConnection: encryption feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73263">[ date ]</a>
              <a href="thread.html#73263">[ thread ]</a>
              <a href="subject.html#73263">[ subject ]</a>
              <a href="author.html#73263">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 03/18/11 21:19, Glenn Maynard wrote:
&gt;<i> On Thu, Mar 17, 2011 at 9:28 PM, Adam Barth&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">w3c at adambarth.com</A>&gt;  wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> So, the salt and the nonce play different roles.  The salt is to make
</I>&gt;&gt;<i> sure the message appears random if you haven't read the spec (and so
</I>&gt;&gt;<i> don't know the salt).  The nonce is to prevent the attacker from
</I>&gt;&gt;<i> crafting plaintexts that encrypt to a chosen ciphertext, even when the
</I>&gt;&gt;<i> attacker sees both sides of the connection.  Picking a new nonce for
</I>&gt;&gt;<i> each message means that the attack cannot choose the bytes sent on the
</I>&gt;&gt;<i> wire.  The nonce can be communicated in-band, just like the IV for CBC
</I>&gt;&gt;<i> mode.
</I>&gt;&gt;<i>
</I>&gt;<i> If you can send messages to an arbitrary IP address and port, then this
</I>&gt;<i> definitely matters: you don't want people to be able to send packets that
</I>&gt;<i> look like DNS responses to arbitrary ports, for example.  However, here the
</I>&gt;<i> communication is negotiated over STUN/TURN.  The protocol should have
</I>&gt;<i> ensured that the port you're talking to is actually expecting to receive
</I>&gt;<i> data using this protocol, and isn't, say, a DNS server.  You shouldn't be
</I>&gt;<i> able to send data at all except to a peer that agreed to receive data on the
</I>&gt;<i> port.
</I>&gt;<i>
</I>&gt;<i> It's possible that ICE doesn't actually negotiate this securely, since the
</I>&gt;<i> STUN server itself is untrusted.  Do you (or anyone else) know if STUN
</I>&gt;<i> negotiation is secure under these circumstances?  Or do you think it doesn't
</I>&gt;<i> matter?
</I>The STUN server is used to obtain your own &quot;public&quot; IP address, for 
constructing candidate lists.
The STUN server is not involved in the ICE handshake.

If you're using TURN relays, the TURN server is, of course, involved 
(it's the relay), but since you're trusting it to be a relay, I don't 
think there's an additional threat from the fact that it sees the ICE 
handshake.

(The password in an ICE handshake is never passed across the wire - only 
a hash of the packet + the password is passed.)


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073225.html">[whatwg] PeerConnection: encryption feedback
</A></li>
	<LI>Next message: <A HREF="073264.html">[whatwg] PeerConnection: encryption feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73263">[ date ]</a>
              <a href="thread.html#73263">[ thread ]</a>
              <a href="subject.html#73263">[ subject ]</a>
              <a href="author.html#73263">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
