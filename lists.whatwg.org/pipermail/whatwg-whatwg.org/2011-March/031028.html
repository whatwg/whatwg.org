<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Why is @scoped required for &lt;style&gt; as flow content?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Why%20is%20%40scoped%20required%20for%20%3Cstyle%3E%20as%20flow%20content%3F&In-Reply-To=%3CB66541E954ECF146AD8CA69D34A283FF3AA307B0DF%40SP2-EX07VS02.ds.corp.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031023.html">
   <LINK REL="Next"  HREF="031030.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Why is @scoped required for &lt;style&gt; as flow content?</H1>
<!--htdig_noindex-->
    <B>Nicholas Zakas</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Why%20is%20%40scoped%20required%20for%20%3Cstyle%3E%20as%20flow%20content%3F&In-Reply-To=%3CB66541E954ECF146AD8CA69D34A283FF3AA307B0DF%40SP2-EX07VS02.ds.corp.yahoo.com%3E"
       TITLE="[whatwg] Why is @scoped required for &lt;style&gt; as flow content?">nzakas at yahoo-inc.com
       </A><BR>
    <I>Fri Mar 25 09:53:55 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="031023.html">[whatwg] Why is @scoped required for &lt;style&gt; as flow content?
</A></li>
        <LI>Next message: <A HREF="031030.html">[whatwg] Why is @scoped required for &lt;style&gt; as flow content?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31028">[ date ]</a>
              <a href="thread.html#31028">[ thread ]</a>
              <a href="subject.html#31028">[ subject ]</a>
              <a href="author.html#31028">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;&gt;<i> The part of the spec that defines what browsers are supposed to do 
</I>already reflects current browser behavior.

Can you point me to that? 

And if the spec already specifies the current browser behavior, why does the definition of &lt;style&gt; require the scoped attribute in flow content? This seems very different than the improperly nested tags scenario you mention, where the parser needs to perform some error recovery. 

It just doesn't seem like requiring scoped at any point adds much value. It makes sense as an optional attribute, but I can't think of a reason why it should ever be required.

-Nicholas
 
______________________________________________
Commander Lock: &quot;Dammit Morpheus, not everyone believes what you believe!&quot;
Morpheus: &quot;My beliefs do not require them to.&quot;

-----Original Message-----
From: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A> [mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>] On Behalf Of Boris Zbarsky
Sent: Thursday, March 24, 2011 6:38 PM
To: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>
Subject: Re: [whatwg] Why is @scoped required for &lt;style&gt; as flow content?

On 3/24/11 9:29 PM, Nicholas Zakas wrote:
&gt;<i> &lt;div&gt;
</I>&gt;<i>      &lt;style&gt;.foo { color: red; }&lt;/style&gt;
</I>&gt;<i> &lt;/div&gt;
</I>&gt;<i>
</I>&gt;<i> works just fine in browsers today
</I> &gt; and the style information is applied to the entire document.

And it continues to work when they implement the proposed spec, yes.

&gt;<i> This is considered invalid HTML5 (tested using html5.validator.nu) because the scoped attribute is missing.
</I>
Right.

&gt;<i> Fixing the issue results in:
</I>&gt;<i>
</I>&gt;<i> &lt;div&gt;
</I>&gt;<i>      &lt;style scoped&gt;.foo { color: red; }&lt;/div&gt;
</I>&gt;<i> &lt;/div&gt;
</I>
The correct fix for this issue is to put this &lt;style&gt; in the &lt;head&gt;, 
isn't it?  Why would would you fix it by adding @scoped?

&gt;<i> It seems like the scoped attribute should be optional when&lt;style&gt;  is used as flow content
</I>
What are the use cases for wanting this?

&gt;<i> while also ensuring that the spec reflects current browser behavior.
</I>
The part of the spec that defines what browsers are supposed to do 
already reflects current browser behavior.

There's a difference between specifying what browsers should do and 
deciding what markup is valid.  For example, if we consider this markup:


   &lt;b&gt;&lt;i&gt;Bold and italic&lt;/b&gt; just italic&lt;/i&gt;

then the spec defines that browsers should render it so that it is 
self-describing (which they do).  But the markup is nevertheless invalid.

&gt;<i> Pleasant side effect is that everyone with&lt;style&gt;  as flow content will have on less validation error to worry about.
</I>
That would be one reason to allow &lt;style&gt; as flow content: so that 
legacy pages that use it thus don't need to change anything.

However such pages don't care about validating anyway, since in HTML4 
&lt;style&gt; is _only_ valid as a child of &lt;head&gt;.  So why are we worrying 
about making it easier for them to validate?

Are there any other reasons to allow &lt;style&gt; as flow content?  That is, 
are there good use cases for it?

-Boris
</PRE>















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031023.html">[whatwg] Why is @scoped required for &lt;style&gt; as flow content?
</A></li>
	<LI>Next message: <A HREF="031030.html">[whatwg] Why is @scoped required for &lt;style&gt; as flow content?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31028">[ date ]</a>
              <a href="thread.html#31028">[ thread ]</a>
              <a href="subject.html#31028">[ subject ]</a>
              <a href="author.html#31028">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
