<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Why is @scoped required for &lt;style&gt; as flow content?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Why%20is%20%40scoped%20required%20for%20%3Cstyle%3E%20as%20flow%20content%3F&In-Reply-To=%3CAANLkTikF_NbvOcV7WujZNnzt20-0Ga5Xe%3DDT1YHrfaLQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073324.html">
   <LINK REL="Next"  HREF="031025.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Why is @scoped required for &lt;style&gt; as flow content?</H1>
<!--htdig_noindex-->
    <B>Aryeh Gregor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Why%20is%20%40scoped%20required%20for%20%3Cstyle%3E%20as%20flow%20content%3F&In-Reply-To=%3CAANLkTikF_NbvOcV7WujZNnzt20-0Ga5Xe%3DDT1YHrfaLQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Why is @scoped required for &lt;style&gt; as flow content?">Simetrical+w3c at gmail.com
       </A><BR>
    <I>Fri Mar 25 10:57:53 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073324.html">[whatwg] Why is @scoped required for &lt;style&gt; as flow content?
</A></li>
        <LI>Next message: <A HREF="031025.html">[whatwg] Peer-to-peer and stream APIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73304">[ date ]</a>
              <a href="thread.html#73304">[ thread ]</a>
              <a href="subject.html#73304">[ subject ]</a>
              <a href="author.html#73304">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Mar 24, 2011 at 9:29 PM, Nicholas Zakas &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">nzakas at yahoo-inc.com</A>&gt; wrote:
&gt;<i> It seems like the scoped attribute should be optional when &lt;style&gt; is used as flow content and disallowed when used in meta content. That way, you're adding the new functionality of limiting styles to a subtree while also ensuring that the spec reflects current browser behavior. Pleasant side effect is that everyone with &lt;style&gt; as flow content will have on less validation error to worry about.
</I>
Having &lt;style&gt; outside the &lt;head&gt; is undesirable because it will often
require the browser to reflow the page as it loads, since not all
styles will be loaded when the first visible elements start appearing.
 There's no real use-case for it -- put the &lt;style&gt; in the &lt;head&gt;, not
the &lt;body&gt;.  If an author only controls part of the page, they should
only be able to use &lt;style scoped&gt; anyway so as not to affect the rest
of the page.

As Boris says, the spec does match how *browsers* behave, and this is
only an *author* restriction.

On Fri, Mar 25, 2011 at 12:53 PM, Nicholas Zakas &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">nzakas at yahoo-inc.com</A>&gt; wrote:
&gt;<i> Can you point me to that?
</I>
&quot;&quot;&quot;
If the scoped attribute is present, then the user agent must apply the
specified style information only to the style element's parent element
(if any), and that element's child nodes. Otherwise, the specified
styles must, if applied, be applied to the entire document.
&quot;&quot;&quot;
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#the-style-element">http://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#the-style-element</A>

No distinction is made based on where the style element is in the DOM.

&gt;<i> And if the spec already specifies the current browser behavior, why does the definition of &lt;style&gt; require the scoped attribute in flow content? This seems very different than the improperly nested tags scenario you mention, where the parser needs to perform some error recovery.
</I>&gt;<i>
</I>&gt;<i> It just doesn't seem like requiring scoped at any point adds much value. It makes sense as an optional attribute, but I can't think of a reason why it should ever be required.
</I>
See here for rationale on author conformance requirements:

<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/introduction.html#conformance-requirements-for-authors">http://www.whatwg.org/specs/web-apps/current-work/multipage/introduction.html#conformance-requirements-for-authors</A>

&quot;Errors that result in disproportionally poor performance&quot; is sort of
relevant, although not quite (since it's discussing only syntax
errors).

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073324.html">[whatwg] Why is @scoped required for &lt;style&gt; as flow content?
</A></li>
	<LI>Next message: <A HREF="031025.html">[whatwg] Peer-to-peer and stream APIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73304">[ date ]</a>
              <a href="thread.html#73304">[ thread ]</a>
              <a href="subject.html#73304">[ subject ]</a>
              <a href="author.html#73304">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
