<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Improvement of the Application Cache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Improvement%20of%20the%20Application%20Cache&In-Reply-To=%3C40B963D7-C0DE-45E6-BA17-D2F7F142F7E7%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030788.html">
   <LINK REL="Next"  HREF="030807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Improvement of the Application Cache</H1>
<!--htdig_noindex-->
    <B>Joseph Pecoraro</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Improvement%20of%20the%20Application%20Cache&In-Reply-To=%3C40B963D7-C0DE-45E6-BA17-D2F7F142F7E7%40apple.com%3E"
       TITLE="[whatwg] Improvement of the Application Cache">pecoraro at apple.com
       </A><BR>
    <I>Thu Mar  3 19:07:36 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030788.html">[whatwg] Improvement of the Application Cache
</A></li>
        <LI>Next message: <A HREF="030807.html">[whatwg] Improvement of the Application Cache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30795">[ date ]</a>
              <a href="thread.html#30795">[ thread ]</a>
              <a href="subject.html#30795">[ subject ]</a>
              <a href="author.html#30795">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Sounds related to &quot;Programmable HTTP Caching and Serving&quot; (formerly titled DataCache API):
<A HREF="http://dev.w3.org/2006/webapi/DataCache/">http://dev.w3.org/2006/webapi/DataCache/</A>

  [[[ This document defines APIs for off-line serving of requests to
      HTTP resources using static and dynamic responses. It extends
      the function of application caches defined in HTML5. ]]]

- Joe


On Mar 3, 2011, at 1:50 PM, Michael Nordman wrote:

&gt;<i> Sounds like there are at least two feature requests here...
</I>&gt;<i> 
</I>&gt;<i> 1) Some way of not adding the 'master' entry to the cache. This is a common
</I>&gt;<i> feature request, there's another thread about it specificially titled
</I>&gt;<i> &quot;Application Cache for on-line sites&quot;.
</I>&gt;<i> 
</I>&gt;<i> 2) The ability to add(), remove(), and enumerate() individual urls in the
</I>&gt;<i> appcache. Long ago, there were interfaces on the appcache drawing board to
</I>&gt;<i> allow that. They got removed for a variety of reasons including &quot;to start
</I>&gt;<i> simpler&quot;. A couple of years later, it may make sense to revisit these kind
</I>&gt;<i> of features, although there is another repository also capable of storing
</I>&gt;<i> ad-hoc collection of resources now (FileSystem), so i'm not sure this
</I>&gt;<i> feature really needs to be in the appcache.
</I>&gt;<i> 
</I>&gt;<i> @Hixie... any idea when the appcache feature set will be up for a growth
</I>&gt;<i> spurt? I think there's an appetite for another round of features in the
</I>&gt;<i> offline app developers that i communicate with. There's been some recent
</I>&gt;<i> interest here in pursuing a means of programatically producing a response
</I>&gt;<i> instead of just returning static content.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Wed, Mar 2, 2011 at 7:40 AM, Edward Gerhold &lt;
</I>&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">edward.gerhold at googlemail.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Hello,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> i would like to suggest an improvement for the Offline Web applications.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Problem:
</I>&gt;&gt;<i> I&#180;ve found out, that i can not Cache my Joomla! Content Management System.
</I>&gt;&gt;<i> Of course i&#180;ve read and heard about, that the application cache is for
</I>&gt;&gt;<i> static pages.
</I>&gt;&gt;<i> But with a little change to the spec and the implementations, it would be
</I>&gt;&gt;<i> possible to cache
</I>&gt;&gt;<i> more than static pages.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I would like to cache my Joomla! system. To put the scripts, css and images
</I>&gt;&gt;<i> into the cache.
</I>&gt;&gt;<i> I would like to add the appcache manifest to the index.php file of the
</I>&gt;&gt;<i> Joomla Template.
</I>&gt;&gt;<i> What happens is, that the index.php is cached once and not updated again. I
</I>&gt;&gt;<i> can not view
</I>&gt;&gt;<i> new articles. The problem is, that i can neither update the Master File,
</I>&gt;&gt;<i> nor
</I>&gt;&gt;<i> whitelist it.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> And this is, what my request or suggestion is about. I would like to
</I>&gt;&gt;<i> whitelist the Master
</I>&gt;&gt;<i> file, where the appcache manifest is installed in. Or i would like to
</I>&gt;&gt;<i> update
</I>&gt;&gt;<i> this file, or any
</I>&gt;&gt;<i> file else, i would like to update, on demand.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> If there is any possibility, to do that already, please tell me. But i
</I>&gt;&gt;<i> think
</I>&gt;&gt;<i> that is not the case.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Caching the CMS by making it possible to update or to whitelist certain
</I>&gt;&gt;<i> files, the always
</I>&gt;&gt;<i> dynamic frontpage or /index.php, would be the hammer to nail the board on
</I>&gt;&gt;<i> the storage.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Rules:
</I>&gt;&gt;<i> The things, which should be considered are: *To allow to fetch the Master
</I>&gt;&gt;<i> file, e.g. index.php*
</I>&gt;&gt;<i> *in Joomla! over the NETWORK,* while any other file in the manifest get&#180;s
</I>&gt;&gt;<i> fetched or cached like
</I>&gt;&gt;<i> before. Which is the most important for me, to get Joomla! into the cache.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Javascript:
</I>&gt;&gt;<i> For the script i would like to add *applicationCache.updateMaster()*, which
</I>&gt;&gt;<i> forces the browser
</I>&gt;&gt;<i> to fetch the file again. I think, this is impossible today, to update
</I>&gt;&gt;<i> exactly this file. For the function,
</I>&gt;&gt;<i> i could add a button to my page, to let the user choose  to update the
</I>&gt;&gt;<i> file.
</I>&gt;&gt;<i> The second function would be *applicationCache.updateFile(url)*, which
</I>&gt;&gt;<i> could
</I>&gt;&gt;<i> be triggered by
</I>&gt;&gt;<i> a button and script, too. I could let the user update certain articles.
</I>&gt;&gt;<i> With that i would like to suggest* applicationCache.addToCache(url)* to add
</I>&gt;&gt;<i> files manually or
</I>&gt;&gt;<i> programmatic, which can not be determined by the manifest. Urls like new
</I>&gt;&gt;<i> articles (*), i would
</I>&gt;&gt;<i> like to read offline. I would like to add them to the cache, if the link
</I>&gt;&gt;<i> appears, maybe on the
</I>&gt;&gt;<i> frontpage. I would have to add the manifest to the CMS anyways, so i could
</I>&gt;&gt;<i> add a few
</I>&gt;&gt;<i> more functions to the page, of course. *
</I>&gt;&gt;<i> applicationCache.removeFromCache(url)* should
</I>&gt;&gt;<i> be obvious and helpful with the other functions.
</I>&gt;&gt;<i> Good would be, to be able to iterate through the list of cached objects and
</I>&gt;&gt;<i> even the manifest,
</I>&gt;&gt;<i> with the update, add, remove functions, it would be very useful to work
</I>&gt;&gt;<i> with
</I>&gt;&gt;<i> the filenames and
</I>&gt;&gt;<i> parameters.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> [(*) I could let the user decide wether he wants to download my mp3 files
</I>&gt;&gt;<i> to
</I>&gt;&gt;<i> the appcache or not,
</I>&gt;&gt;<i> and fulfill the wish with the javascript functions. Maybe he&#180;s got no bytes
</I>&gt;&gt;<i> left or wants only the
</I>&gt;&gt;<i> lyrics.]
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Conclusion:
</I>&gt;&gt;<i> The application cache is very powerful. But it is very disappointing, that
</I>&gt;&gt;<i> it is only useful for static
</I>&gt;&gt;<i> pages. With a little improvement to the Offline Web applications chapter,
</I>&gt;&gt;<i> and of course to the browsers,
</I>&gt;&gt;<i> it would be possible to cache any Content Manager or dynamic page. And that
</I>&gt;&gt;<i> would let the appcache
</I>&gt;&gt;<i> become one of the most powerful things in the world.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I could read my Joomla! offline, could update the cached files, if i want
</I>&gt;&gt;<i> to, on a click or if the cache expires.
</I>&gt;&gt;<i> I could let the half of the CMS load from the cache. But for that, the
</I>&gt;&gt;<i> index.php, where the manifest is, has to
</I>&gt;&gt;<i> be updateable. Correct me, if i am wrong. But this is not possible today,
</I>&gt;&gt;<i> the master file can not be influenced.
</I>&gt;&gt;<i> And there is no expiration or a possibility to update or manipulate the
</I>&gt;&gt;<i> cache and even no way to find out which
</I>&gt;&gt;<i> files are cached, what would let me/us have control over the Offline Web
</I>&gt;&gt;<i> application.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Question:
</I>&gt;&gt;<i> Could this become changed in the appcache section? You would make the
</I>&gt;&gt;<i> appcache so powerful, that any
</I>&gt;&gt;<i> kind of software could be used offline. I would like to know, how far this
</I>&gt;&gt;<i> could become true or how much
</I>&gt;&gt;<i> that is of interest for you. I have not followed this mailing list until
</I>&gt;&gt;<i> half an hour ago. So i do not know. I learned
</I>&gt;&gt;<i> what is missing and working by practice and testing the appcache with my
</I>&gt;&gt;<i> cms
</I>&gt;&gt;<i> and my static hip-hop pages.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Oh, i forgot one thing: Wildcards in the manifest. And I think, directories
</I>&gt;&gt;<i> belong into the CACHE section,  i got
</I>&gt;&gt;<i> an error on any directory there, i had to state the whole filename. You
</I>&gt;&gt;<i> should abbreviate that. But that is not
</I>&gt;&gt;<i> so important against that what i wrote down in this message above. Anyways,
</I>&gt;&gt;<i> this completes my wishlist.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Correct me, if i am wrong. But please take this message serious. I hope
</I>&gt;&gt;<i> other people have submitted this already,
</I>&gt;&gt;<i> that you could compare or get that underlined, before that spec goes into
</I>&gt;&gt;<i> last call and becomes standard. The
</I>&gt;&gt;<i> appcache could become very very and extremly powerful with a little
</I>&gt;&gt;<i> addition
</I>&gt;&gt;<i> to handle all these dynamic systems, too.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Edward Gerhold
</I>&gt;&gt;<i> 
</I>
</PRE>

































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030788.html">[whatwg] Improvement of the Application Cache
</A></li>
	<LI>Next message: <A HREF="030807.html">[whatwg] Improvement of the Application Cache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30795">[ date ]</a>
              <a href="thread.html#30795">[ thread ]</a>
              <a href="subject.html#30795">[ subject ]</a>
              <a href="author.html#30795">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
