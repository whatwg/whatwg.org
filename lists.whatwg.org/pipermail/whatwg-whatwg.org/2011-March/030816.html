<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Allowing size and maxlength attributes for all new input types would provide better fallbacks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Allowing%20size%20and%20maxlength%20attributes%20for%20all%20new%0A%20input%20types%20would%20provide%20better%20fallbacks&In-Reply-To=%3C4D73EF40.2090005%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073216.html">
   <LINK REL="Next"  HREF="073093.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Allowing size and maxlength attributes for all new input types would provide better fallbacks</H1>
<!--htdig_noindex-->
    <B>Mounir Lamouri</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Allowing%20size%20and%20maxlength%20attributes%20for%20all%20new%0A%20input%20types%20would%20provide%20better%20fallbacks&In-Reply-To=%3C4D73EF40.2090005%40gmail.com%3E"
       TITLE="[whatwg] Allowing size and maxlength attributes for all new input types would provide better fallbacks">mounir.lamouri at gmail.com
       </A><BR>
    <I>Sun Mar  6 12:32:00 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073216.html">[whatwg] Form input element for value-unit pairs
</A></li>
        <LI>Next message: <A HREF="073093.html">[whatwg] Allowing size and maxlength attributes for all new	input types would provide better fallbacks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30816">[ date ]</a>
              <a href="thread.html#30816">[ thread ]</a>
              <a href="subject.html#30816">[ subject ]</a>
              <a href="author.html#30816">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 02/16/11 08:31, Jukka K. Korpela wrote:
&gt;<i> The current version disallows the size and maxlength attributes in input
</I>&gt;<i> elements when  type=&quot;time&quot;, type=&quot;date&quot;, type=&quot;datetime&quot;,
</I>&gt;<i> type=&quot;datetime-local&quot;, type=&quot;number&quot;, type=&quot;range&quot;, or type=&quot;color&quot; is
</I>&gt;<i> used.
</I>&gt;<i> I suppose the reason is that for other new input types, browsers are
</I>&gt;<i> expected to use advanced user interface, either with no visible text field
</I>&gt;<i> or with a text field of a size determined by the browser.
</I>&gt;<i> 
</I>&gt;<i> However, the method of extending forms with new input types is based on the
</I>&gt;<i> clever idea that using a new attribute in input elements, non-supporting
</I>&gt;<i> browsers will imply type=&quot;text&quot; and use a normal text input field as
</I>&gt;<i> fallback. This idea gets somewhat broken if size and maxlength attributes
</I>&gt;<i> cannot be used. Setting the visible width and imposing a maximum length of
</I>&gt;<i> input in characters are often useful hints. E.g., for &lt;input type=&quot;time&quot;&gt;,
</I>&gt;<i> it would be useful to have size=&quot;5&quot; maxlength=&quot;5&quot; (perhaps combined with a
</I>&gt;<i> CSS setting that sets the font to monospace for consistency) to convey or
</I>&gt;<i> support a message about expected input format as well as to prevent some
</I>&gt;<i> input errors.
</I>
Note that &lt;input type='time' maxlength='5' size='5'&gt; should work as
expected given than maxlength and size would just be ignored by a UA
which knows about the 'time' type and would be used by a UA which doesn't.

Though, if you want to have a valid HTML code, the best solution is
probably not to change the HTML specs to accept those attributes given
that they will be completely useless if the UA support the given types.
However, I think the web page should set the attributes in a compat
check in javascript. Probably the same way you would have to set a few
event handlers to create the widget you want. That way, you would only
use these attributes when the UA would actually use them.
For example, instead of:
&lt;input type='number' size='4' maxlength='4'&gt;
You could do:
&lt;body onload=&quot;
  var i = document.getElementsByTagName('input')[0];
  if (i.type != 'number') {
    i.type = 'text';
    i.maxLength='4'; i.size='4'; i.oninput=/*a event handler*/;
    [...];
  }&quot;&gt;
  &lt;input type='number'&gt;
&lt;/body&gt;

--
Mounir
</PRE>









































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073216.html">[whatwg] Form input element for value-unit pairs
</A></li>
	<LI>Next message: <A HREF="073093.html">[whatwg] Allowing size and maxlength attributes for all new	input types would provide better fallbacks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30816">[ date ]</a>
              <a href="thread.html#30816">[ thread ]</a>
              <a href="subject.html#30816">[ subject ]</a>
              <a href="author.html#30816">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
