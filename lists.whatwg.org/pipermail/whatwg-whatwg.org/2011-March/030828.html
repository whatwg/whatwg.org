<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Option label, textContent and value
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Option%20label%2C%20textContent%20and%20value&In-Reply-To=%3C4D762D95.5030306%40gmx.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073098.html">
   <LINK REL="Next"  HREF="073102.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Option label, textContent and value</H1>
<!--htdig_noindex-->
    <B>Markus Ernst</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Option%20label%2C%20textContent%20and%20value&In-Reply-To=%3C4D762D95.5030306%40gmx.ch%3E"
       TITLE="[whatwg] Option label, textContent and value">derernst at gmx.ch
       </A><BR>
    <I>Tue Mar  8 05:22:29 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="073098.html">[whatwg] Revising the content handling logic of &lt;object&gt; and &lt;embed&gt;
</A></li>
        <LI>Next message: <A HREF="073102.html">[whatwg] Option label, textContent and value
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30828">[ date ]</a>
              <a href="thread.html#30828">[ thread ]</a>
              <a href="subject.html#30828">[ subject ]</a>
              <a href="author.html#30828">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>In 4.10.12 on the Option element, the spec states:

&quot;
The label attribute provides a label for element. The label of an option 
element is the value of the label attribute, if there is one, or the 
textContent of the element, if there isn't.

The value attribute provides a value for element. The value of an option 
element is the value of the value attribute, if there is one, or the 
textContent of the element, if there isn't.
&quot;

It looks like this needs clarification for the case both label attribute 
and text content are present, as UAs do not implement this consistently:

&lt;select&gt;
   &lt;option label=&quot;Label1&quot;&gt;TextContent1&lt;/option&gt;
   &lt;option label=&quot;Label2&quot;&gt;TextContent2&lt;/option&gt;
&lt;/select&gt;

- IE 8, Opera 11 and Chrome 9 display &quot;Label1&quot; and &quot;Label2&quot;
- Firefox 3.6 displays &quot;TextContent1&quot; and &quot;TextContent2&quot;

Firefox's behavour seems to be contradictory to the spec, which gives 
the label attribute precedence.

Furthermore, as I understand the above definitions, the spec does allow 
to specify label and value in one step in a select element:

&lt;select&gt;
   &lt;option&gt;This is value and label
&lt;/select&gt;

But not in a datalist, as the label is taken from the textContent rather 
than from the value of the option element:

&lt;datalist&gt;
   &lt;option value=&quot;No label here&quot;&gt;
   &lt;option label=&quot;No value here&quot;&gt;
&lt;/datalist&gt;

I'd propose to slightly change the specification to treat the value the 
same, regardless whether it is given in the value attribute or in the 
text content, and to get the label, where the label attribute is 
missing, from the value rather than from the text content:

&quot;
The value attribute provides a value for element. The value of an option 
element is the value of the value attribute, if there is one, or the 
textContent of the element, if there isn't.

The label attribute provides a label for element. The label of an option 
element is the value of the label attribute, if there is one, or the 
value of the element, if there isn't.
&quot;
</PRE>






















































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073098.html">[whatwg] Revising the content handling logic of &lt;object&gt; and &lt;embed&gt;
</A></li>
	<LI>Next message: <A HREF="073102.html">[whatwg] Option label, textContent and value
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30828">[ date ]</a>
              <a href="thread.html#30828">[ thread ]</a>
              <a href="subject.html#30828">[ subject ]</a>
              <a href="author.html#30828">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
