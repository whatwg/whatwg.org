<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] A link[scoped] usecase
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20A%20link%5Bscoped%5D%20usecase&In-Reply-To=%3CCAKWkPy5vE_k3nc%2B6H0ce%3DuVUXhaSFzWC56tuFycKLNpiJPJh%2BQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="077244.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] A link[scoped] usecase</H1>
<!--htdig_noindex-->
    <B>Gray Zhang</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20A%20link%5Bscoped%5D%20usecase&In-Reply-To=%3CCAKWkPy5vE_k3nc%2B6H0ce%3DuVUXhaSFzWC56tuFycKLNpiJPJh%2BQ%40mail.gmail.com%3E"
       TITLE="[whatwg] A link[scoped] usecase">otakustay at gmail.com
       </A><BR>
    <I>Fri Mar  2 02:59:19 PST 2012</I>
    <P><UL>
        
        <LI>Next message: <A HREF="077244.html">[whatwg] A link[scoped] usecase
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34970">[ date ]</a>
              <a href="thread.html#34970">[ thread ]</a>
              <a href="subject.html#34970">[ subject ]</a>
              <a href="author.html#34970">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi all:

I've noticed a scoped attribute for link element has been previously
discussed, I'm currently working with some new HTML features and find a
case where the scoped attribute is required on link element.

I'm working on an code editor and building up a scalable theme system, as I
designed, it should satisfy a list of requirements:

1. user (3rd party) can publish their theme to my system
2. user can preview themes and choose one for their editor
3. there is no server side support such as providing a snapshot image for
skin
4. a theme is simply a .css file without anything else

The preview-and-choose panel may look like this:
[image: Inline image 1]

Each preview pane is constructed with pure DOM, if link[scoped] is
supported, I could have some elements and text in a wapper, then apply an
external css on this wrapper so that color/background effect could be
rendered:

&lt;div&gt;
    &lt;!-- This link element only works for it's containing div --&gt;
    &lt;link rel=&quot;stylesheet&quot;
href=&quot;3rd-party-theme/user-published-20120302133702.css&quot; scoped=&quot;scoped&quot; /&gt;
    &lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span
class=&quot;identifier&quot;&gt;test&lt;/span&gt;...
&lt;/div&gt;

By now, for the reason that there is not link[scoped] and style[scoped] is
not supported for any browser, my solution is add a data-theme attribute on
wrapper element, and the theme .css file should add some extra selector:

.visual-root[data-theme=&quot;fireworks&quot;] {
    background-color: #404040;
    color: #addede;
}

The addition of [data-theme=&quot;foo&quot;] selector is a really bad smell for me,
in such case I also provided theme author a script to auto generate a theme
structure, but all these could be solved with the support of link[scoped]
element.

-- 
&#24352;&#31435;&#29702; GrayZhang
&#21338;&#23458;&#65306;<A HREF="http://www.otakustay.com">http://www.otakustay.com</A>
&#24494;&#21338;&#65306;<A HREF="http://www.weibo.com/otakustay">http://www.weibo.com/otakustay</A>
&#37038;&#31665;&#65306;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">otakustay at gmail.com</A>
</PRE>



<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="077244.html">[whatwg] A link[scoped] usecase
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34970">[ date ]</a>
              <a href="thread.html#34970">[ thread ]</a>
              <a href="subject.html#34970">[ subject ]</a>
              <a href="author.html#34970">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
