<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Validator.nu: &quot;Attribute role not allowed on element h2 at this point.&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Validator.nu%3A%20%22Attribute%20role%20not%20allowed%20on%20element%0A%20h2%20at%20this%20point.%22&In-Reply-To=%3C4F5EF32A.9000405%40jumis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077304.html">
   <LINK REL="Next"  HREF="077307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Validator.nu: &quot;Attribute role not allowed on element h2 at this point.&quot;</H1>
<!--htdig_noindex-->
    <B>Charles Pritchard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Validator.nu%3A%20%22Attribute%20role%20not%20allowed%20on%20element%0A%20h2%20at%20this%20point.%22&In-Reply-To=%3C4F5EF32A.9000405%40jumis.com%3E"
       TITLE="[whatwg] Validator.nu: &quot;Attribute role not allowed on element h2 at this point.&quot;">chuck at jumis.com
       </A><BR>
    <I>Tue Mar 13 00:11:38 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077304.html">[whatwg] Validator.nu: &quot;Attribute role not allowed on element h2 at this point.&quot;
</A></li>
        <LI>Next message: <A HREF="077307.html">[whatwg] Validator.nu: &quot;Attribute role not allowed on element h2 at this point.&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77305">[ date ]</a>
              <a href="thread.html#77305">[ thread ]</a>
              <a href="subject.html#77305">[ subject ]</a>
              <a href="author.html#77305">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 3/12/12 11:42 PM, Simon Pieters wrote:
&gt;<i> On Tue, 13 Mar 2012 02:16:29 +0100, Charles Pritchard 
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">chuck at jumis.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> Warnings are generally not useful. Either something is fine and we 
</I>&gt;&gt;&gt;<i> should
</I>&gt;&gt;&gt;<i> support it, or it's wrong and we should alert the author. I think 
</I>&gt;&gt;&gt;<i> &quot;must&quot;
</I>&gt;&gt;&gt;<i> is very much the appropriate requirement level here.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  From the implementation-side, the spec is wrong, it ranks native 
</I>&gt;&gt;<i> HTML semantics above ARIA DOM semantics.
</I>&gt;<i>
</I>&gt;<i> You're confusing author conformance requirements with UA conformance 
</I>&gt;<i> requirements.
</I>
The section did confuse me. It lays out some author requirements then 
goes into what looks like appropriate UA mapping.
I don't see this working well for ARIA conformance testing, but I do 
like the mapping.

This document tries to set strict requirements on authors for ARIA usage 
which doesn't exist in practice.
It's intended to help, but I don't think it's needed; I believe it adds 
confusion.

The Restrictions seem fine for telling vendors that they ought to be 
making their ARIA maps from native HTML to ARIA a certain way.
But, as you said, I'm getting confused reading this doc.


&gt;&gt;<i> As a &quot;best practices&quot; note, it seems overly optimistic. There are 
</I>&gt;&gt;<i> situations with AT navigation where role conflicts do occur and/or 
</I>&gt;&gt;<i> redundancy in tagging is helpful.
</I>&gt;<i>
</I>&gt;<i> Do you have concrete examples?
</I>
Concrete? No. I don't have an active JAWS/NVDA/WindowEyes + HTML4 
project in front of me.
If I did, I'm sure I'd have some concrete examples of how ARIA and HTML4 
work together with roles.

Some wild guesses:
Treating a link as a button or a button as a link.
@disabled and aria-disabled may be used via reference with aria-controls.
type=&quot;range&quot; and role=slider for redundancy.
various styling tricks with css selectors.

Steve Faulkner posted that sometimes explicit ARIA roles signal to ATs 
to look for more ARIA attributes.

I've used role and/or redundant ARIA within the scripting environment to 
minimize calls in applications checking for roles. Redundancy doesn't 
harm anything, I actively promote it, as it does help, sometimes. 
Conflicts can be a bad thing, they can lead to non-nonsensical or 
non-interactive reporting by ATs. I realize that, but I'd err on the 
side of allowing authors to make those decisions. They can use various 
tools that spit out warnings.

Ian has stated that warnings aren't very useful, he's looking for error 
or bust. That's confusing when it comes to ARIA testing, as it's more 
about the pragmatic effects of applying semantics and using a variety of 
ATs to test them.

&gt;&gt;<i> I don't believe it is appropriate for HTML to place restrictions on 
</I>&gt;&gt;<i> ARIA DOM. It's does not reflect implementations.
</I>&gt;<i>
</I>&gt;<i> It does not affect implementations at all.
</I>
Then I'm less concerned. My understanding was that this part of the 
specification is intended to affect implementations such that an authors 
use of @role in a tag would be overridden by the browser if that tag is 
on the conflict list.

&gt;&gt;<i> The HTML spec should only specify what the default mappings are for 
</I>&gt;&gt;<i> HTML elements to ARIA.
</I>&gt;&gt;<i> Authors may be advised to test AT software with their product.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This statement is more in line with practice: &quot;Authors must test 
</I>&gt;&gt;<i> accessibility tree as part of development and usage of ARIA semantics.&quot;.
</I>&gt;<i>
</I>&gt;<i> That's not machine checkable so less likely to have an effect at all.
</I>So the &quot;authors must&quot; is for conformance tools? Again, it seems to be 
adding confusion. I'm not the only one.

It looks like a good section explaining mapping to implementers that has 
been turned into a wiffle bat for bopping weary authors on the head.

ARIA is a tool for supporting secondary UAs, not an extension to HTML 
Forms and groups. An aria role does absolutely nothing to alter the 
behavior of the primary UA.

-Charles

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077304.html">[whatwg] Validator.nu: &quot;Attribute role not allowed on element h2 at this point.&quot;
</A></li>
	<LI>Next message: <A HREF="077307.html">[whatwg] Validator.nu: &quot;Attribute role not allowed on element h2 at this point.&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77305">[ date ]</a>
              <a href="thread.html#77305">[ thread ]</a>
              <a href="subject.html#77305">[ subject ]</a>
              <a href="author.html#77305">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
