<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bcanvas%5D%20request%20for%20%7Bcreate%2C%20get%2C%0A%20put%7DImageDataHD%20and%20ctx.backingStorePixelRatio&In-Reply-To=%3Cm23993fafn.fsf%40eoconnor.apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077416.html">
   <LINK REL="Next"  HREF="077387.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio</H1>
<!--htdig_noindex-->
    <B>Edward O'Connor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bcanvas%5D%20request%20for%20%7Bcreate%2C%20get%2C%0A%20put%7DImageDataHD%20and%20ctx.backingStorePixelRatio&In-Reply-To=%3Cm23993fafn.fsf%40eoconnor.apple.com%3E"
       TITLE="[whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio">eoconnor at apple.com
       </A><BR>
    <I>Tue Mar 20 10:29:16 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077416.html">[whatwg] Proposal for non-modal versions of modal prompts
</A></li>
        <LI>Next message: <A HREF="077387.html">[whatwg] [canvas] request for {create, get,	put}ImageDataHD and ctx.backingStorePixelRatio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35112">[ date ]</a>
              <a href="thread.html#35112">[ thread ]</a>
              <a href="subject.html#35112">[ subject ]</a>
              <a href="author.html#35112">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

Unfortunately, lots of &lt;canvas&gt; content (especially content which calls
{create,get,put}ImageData methods) assumes that the &lt;canvas&gt;'s backing
store pixels correspond 1:1 to CSS pixels, even though the spec has been
written to allow for the backing store to be at a different scale
factor.

Especially problematic is that developers have to round trip image data
through a &lt;canvas&gt; in order to detect that a different scale factor is
being used.

I'd like to propose the addition of a backingStorePixelRatio property to
the 2D context object. Just as window.devicePixelRatio expresses the
ratio of device pixels to CSS pixels, ctx.backingStorePixelRatio would
express the ratio of backing store pixels to CSS pixels. This allows
developers to easily branch to handle different backing store scale
factors.

Additionally, I think the existing {create,get,put}ImageData API needs
to be defined to be in terms of CSS pixels, since that's what existing
content assumes. I propose the addition of a new set of methods for
working directly with backing store image data. (New methods are easier
to feature detect than adding optional arguments to the existing
methods.) At the moment I'm calling these {create,get,put}ImageDataHD,
but I'm not wedded to the names. (Nor do I want to bikeshed them.)


Thanks for your consideration,
Ted
</PRE>
























































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077416.html">[whatwg] Proposal for non-modal versions of modal prompts
</A></li>
	<LI>Next message: <A HREF="077387.html">[whatwg] [canvas] request for {create, get,	put}ImageDataHD and ctx.backingStorePixelRatio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35112">[ date ]</a>
              <a href="thread.html#35112">[ thread ]</a>
              <a href="subject.html#35112">[ subject ]</a>
              <a href="author.html#35112">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
