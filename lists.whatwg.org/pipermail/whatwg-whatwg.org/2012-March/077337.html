<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] API for encoding/decoding ArrayBuffers into text
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20API%20for%20encoding/decoding%20ArrayBuffers%20into%20text&In-Reply-To=%3CCAMttkKJ3ea-_tAJkHfXKrDz3WYwpfr_xWEs6EuY1%3DgfJcDmeXg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077331.html">
   <LINK REL="Next"  HREF="077339.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] API for encoding/decoding ArrayBuffers into text</H1>
<!--htdig_noindex-->
    <B>Brandon Jones</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20API%20for%20encoding/decoding%20ArrayBuffers%20into%20text&In-Reply-To=%3CCAMttkKJ3ea-_tAJkHfXKrDz3WYwpfr_xWEs6EuY1%3DgfJcDmeXg%40mail.gmail.com%3E"
       TITLE="[whatwg] API for encoding/decoding ArrayBuffers into text">tojiro at gmail.com
       </A><BR>
    <I>Wed Mar 14 08:15:12 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077331.html">[whatwg] API for encoding/decoding ArrayBuffers into text
</A></li>
        <LI>Next message: <A HREF="077339.html">[whatwg] API for encoding/decoding ArrayBuffers into text
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77337">[ date ]</a>
              <a href="thread.html#77337">[ thread ]</a>
              <a href="subject.html#77337">[ subject ]</a>
              <a href="author.html#77337">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Mar 14, 2012 at 1:14 AM, Cedric Vivier &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">cedricv at neonux.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> What are the 'late' use cases for this?
</I>&gt;<i> The question might sound naive, but to me the encoding/decoding would
</I>&gt;<i> have been really great to have during the time when we didn't have
</I>&gt;<i> support for ArrayBuffers in general input/output APIs like we have now
</I>&gt;<i> (XHR, WebSockets, File API, ...) - which sounds like the mainstream
</I>&gt;<i> use cases to me.
</I>&gt;<i>
</I>
I brought up a use case with Mozilla during their Games Work Week. When
designing formats for games there's a desire to make the content small and
parse fast to keep load times down. When talking about something like a 3D
mesh format, it's very convenient to deliver the mesh to the browser
with responseType = &quot;arraybuffer&quot;, as this allows us to push views of the
resulting array directly into WebGL buffers.

There's a lot of content within a model that doesn't cleanly map to a
binary array, however. A good example is if you want to include shader code
as part of the model. It's also very popular currently to use JSON to
describe model metadata. In these cases currently developers have two
choices: embed the string data in the binary buffer, which requires
cumbersome byte-by-byte extraction, or store it in a secondary file that is
requested as string data to begin with. This is the route I've seen taken
most often: Three.js uses it currently, for example. In either case,
however, you are being slowed down by either the string parsing overhead or
the second request.

With the proposed API it would be practical and fast to store string data
and binary mesh data in the same ArrayBuffer, which would be a boon to game
developers seeking to make HTML5 into a first-class gaming platform.

--Brandon

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077331.html">[whatwg] API for encoding/decoding ArrayBuffers into text
</A></li>
	<LI>Next message: <A HREF="077339.html">[whatwg] API for encoding/decoding ArrayBuffers into text
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77337">[ date ]</a>
              <a href="thread.html#77337">[ thread ]</a>
              <a href="subject.html#77337">[ subject ]</a>
              <a href="author.html#77337">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
