<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] API for encoding/decoding ArrayBuffers into text
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20API%20for%20encoding/decoding%20ArrayBuffers%20into%20text&In-Reply-To=%3CCABirCh-3PmscXcAWVkf6EfGwonXvyYVudiJupob_1zDEXqDg7g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077329.html">
   <LINK REL="Next"  HREF="077347.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] API for encoding/decoding ArrayBuffers into text</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20API%20for%20encoding/decoding%20ArrayBuffers%20into%20text&In-Reply-To=%3CCABirCh-3PmscXcAWVkf6EfGwonXvyYVudiJupob_1zDEXqDg7g%40mail.gmail.com%3E"
       TITLE="[whatwg] API for encoding/decoding ArrayBuffers into text">glenn at zewt.org
       </A><BR>
    <I>Wed Mar 14 15:53:12 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077329.html">[whatwg] API for encoding/decoding ArrayBuffers into text
</A></li>
        <LI>Next message: <A HREF="077347.html">[whatwg] API for encoding/decoding ArrayBuffers into text
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77346">[ date ]</a>
              <a href="thread.html#77346">[ thread ]</a>
              <a href="subject.html#77346">[ subject ]</a>
              <a href="author.html#77346">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Mar 13, 2012 at 9:47 PM, John Tamplin &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jat at google.com</A>&gt; wrote:
&gt;<i> I am fine with strongly suggesting that only UTF8 be used for new things,
</I>&gt;<i> but leaving out legacy support will severely limit the utility of this
</I>&gt;<i> library.
</I>
Not all limitations are bad, and I'd disagree with &quot;seriously&quot;.

At a minimum, the set of encodings should be very carefully selected.
Limit it to Unicode to begin with, and if we're really going to put legacy
encodings on yet more life support, only add an encoding where there's a
clear, justified need for it.  (There are many encodings that browsers need
to support for text/html because they're used in legacy content, but which
nobody is still using today in new content--those should not be supported
here.)

But stick with Unicode for now.  Once an encoding is added, it's hard to
ever remove it.

On Wed, Mar 14, 2012 at 6:52 AM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at opera.com</A>&gt; wrote:

&gt;<i> If we can make it a deterministic, unchanging, and defined algorithm, I
</I>&gt;<i> think that would actually be acceptable. And ideally we do define that
</I>&gt;<i> algorithm at some point so new browsers can enter the existing market more
</I>&gt;<i> easily and existing browsers interpret existing content in the same way.
</I>

We don't have any untagged content to support yet, so let's not create an
API that guarantees it'll come into existence.  The heuristics you need
depend heavily on the content, anyway (for example, heuristics that work
for HTML probably won't for ID3 tags, which are generally very short).


On Wed, Mar 14, 2012 at 11:14 AM, Joshua Bell &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jsbell at chromium.org</A>&gt; wrote:

&gt;<i> Having implemented a library that handled both text encodings and
</I>&gt;<i> base16/base64 encoding, I can offer the opinion that the nomenclature gets
</I>&gt;<i> very confusing since the encode/decode semantics are reversed.
</I>&gt;<i>
</I>&gt;<i> binary_buffer = encode(text_content)
</I>&gt;<i> text_content = decode(binary_buffer)
</I>&gt;<i>
</I>&gt;<i> vs.
</I>&gt;<i>
</I>&gt;<i> binary_buffer = decode(base64_data)
</I>&gt;<i> base64_data = encode(binary_buffer)
</I>&gt;<i>
</I>
It's more than a naming problem.  With this string API, one side of the
conversion is always a DOMString.  Base64 conversion wants
ArrayBuffer&lt;-&gt;ArrayBuffer conversions, so it would belong in a separate API.

-- 
Glenn Maynard

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077329.html">[whatwg] API for encoding/decoding ArrayBuffers into text
</A></li>
	<LI>Next message: <A HREF="077347.html">[whatwg] API for encoding/decoding ArrayBuffers into text
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77346">[ date ]</a>
              <a href="thread.html#77346">[ thread ]</a>
              <a href="subject.html#77346">[ subject ]</a>
              <a href="author.html#77346">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
