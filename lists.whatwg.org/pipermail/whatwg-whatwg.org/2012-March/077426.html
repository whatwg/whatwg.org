<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [canvas] request for {create, get,	put}ImageDataHD and ctx.backingStorePixelRatio
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bcanvas%5D%20request%20for%20%7Bcreate%2C%20get%2C%0A%09put%7DImageDataHD%20and%20ctx.backingStorePixelRatio&In-Reply-To=%3CC46D9C08-0969-4927-8867-59911B21B187%40jumis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077425.html">
   <LINK REL="Next"  HREF="077388.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [canvas] request for {create, get,	put}ImageDataHD and ctx.backingStorePixelRatio</H1>
<!--htdig_noindex-->
    <B>Charles Pritchard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bcanvas%5D%20request%20for%20%7Bcreate%2C%20get%2C%0A%09put%7DImageDataHD%20and%20ctx.backingStorePixelRatio&In-Reply-To=%3CC46D9C08-0969-4927-8867-59911B21B187%40jumis.com%3E"
       TITLE="[whatwg] [canvas] request for {create, get,	put}ImageDataHD and ctx.backingStorePixelRatio">chuck at jumis.com
       </A><BR>
    <I>Wed Mar 21 21:10:03 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077425.html">[whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio
</A></li>
        <LI>Next message: <A HREF="077388.html">[whatwg] [canvas] request for {create, get,	put}ImageDataHD and ctx.backingStorePixelRatio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77426">[ date ]</a>
              <a href="thread.html#77426">[ thread ]</a>
              <a href="subject.html#77426">[ subject ]</a>
              <a href="author.html#77426">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mar 21, 2012, at 8:58 PM, Maciej Stachowiak &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mjs at apple.com</A>&gt; wrote:

&gt;&gt;<i> You'll really have three items now to add up.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> devicePixelRatio * backingStorePixelRatio * logicalPixelRatio.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Is that middle item really necessary?
</I>&gt;&gt;<i> I wasn't able to get anyone to budge on changing window.devicePixelRatio on the desktop. It's fixed at 1.
</I>&gt;<i> 
</I>&gt;<i> I was unable to decipher what IE's logical{X,Y}DPI does and how it differs from device{X,Y}DPI and for that matter system{X,Y}DPI. But I don't believe any of those things relate to the canvas backing store, however, so I don't see how they eliminate the need for backingStoreRatio.
</I>

When you zoom out or in on a page, the ratio changes. So if I check that value after a resize event I know to change the units on my canvas elements if I want them to not be blurry (when zoomed in) or if I want to not do excess work (when zoomed out).

What is the benefit of drawing to an over sized (&quot;bush res&quot;) backing store? Seems like on a device where zoom is very common (yes, you, iphone), it could make for a little nicer experience. On desktop though, we just repaint on resize and zoom transitions are scaled through the gpu anyway.

Seems like a lot of extra work for the phone though. And we can do it as authors by just using CSS width = .5* width;

I agree with your assessment, both features are necessary to bring it in.

I'd still like someone o'er in WebKit to pick up the issue that's existed since the introduction of Canvas in WebKit: exposing the current pixel ratio so we can redraw our Canvas at the appropriate ratio when browser zoom (zoom in or out) is in use.

Currently I do outerWidth/innerWidth to estimate.

-Charles
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077425.html">[whatwg] [canvas] request for {create, get, put}ImageDataHD and ctx.backingStorePixelRatio
</A></li>
	<LI>Next message: <A HREF="077388.html">[whatwg] [canvas] request for {create, get,	put}ImageDataHD and ctx.backingStorePixelRatio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77426">[ date ]</a>
              <a href="thread.html#77426">[ thread ]</a>
              <a href="subject.html#77426">[ subject ]</a>
              <a href="author.html#77426">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
