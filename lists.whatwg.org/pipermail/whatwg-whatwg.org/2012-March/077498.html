<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Endianness of typed arrays
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Endianness%20of%20typed%20arrays&In-Reply-To=%3C4F72DDB3.3090708%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077496.html">
   <LINK REL="Next"  HREF="077499.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Endianness of typed arrays</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Endianness%20of%20typed%20arrays&In-Reply-To=%3C4F72DDB3.3090708%40mit.edu%3E"
       TITLE="[whatwg] Endianness of typed arrays">bzbarsky at MIT.EDU
       </A><BR>
    <I>Wed Mar 28 02:45:23 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077496.html">[whatwg] Endianness of typed arrays
</A></li>
        <LI>Next message: <A HREF="077499.html">[whatwg] Endianness of typed arrays
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77498">[ date ]</a>
              <a href="thread.html#77498">[ thread ]</a>
              <a href="subject.html#77498">[ subject ]</a>
              <a href="author.html#77498">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 3/28/12 2:40 AM, Mark Callow wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 28/03/2012 18:33, Boris Zbarsky wrote:
</I>&gt;&gt;<i> On 3/28/12 2:32 AM, Mark Callow wrote:
</I>&gt;&gt;&gt;<i> Then, if you are on a big-endian system an app will not be able to read
</I>&gt;&gt;&gt;<i> &amp;   write int, float, etc. into the int32Array, float32Array, etc.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Why not?
</I>&gt;<i> Because you said &quot;JS-visible state (will) always be little-endian&quot;.
</I>
So?  I don't see the problem, but maybe I'm missing something...

The proposal is that if you take an array buffer, treat it as a 
Uint32Array, and write an integer of the form W | (X &lt;&lt; 8) | (Y &lt;&lt; 16) | 
(Z &lt;&lt; 24) into it (where W, X, Y, Z are numbers in the range [0,255]), 
then the byte pattern in the buffer ends up being WXYZ, no matter what 
native endianness is.

Reading the first integer from the Uint32Array view of this data would 
then return exactly the integer you started with...

-Boris

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077496.html">[whatwg] Endianness of typed arrays
</A></li>
	<LI>Next message: <A HREF="077499.html">[whatwg] Endianness of typed arrays
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77498">[ date ]</a>
              <a href="thread.html#77498">[ thread ]</a>
              <a href="subject.html#77498">[ subject ]</a>
              <a href="author.html#77498">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
