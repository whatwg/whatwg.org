<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] iframe sandbox attribute
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20iframe%20sandbox%20attribute&In-Reply-To=%3C1725917564.18184421.1332797861654.JavaMail.root%40zimbra1.shared.sjc1.mozilla.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077439.html">
   <LINK REL="Next"  HREF="077447.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] iframe sandbox attribute</H1>
<!--htdig_noindex-->
    <B>Ian Melven</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20iframe%20sandbox%20attribute&In-Reply-To=%3C1725917564.18184421.1332797861654.JavaMail.root%40zimbra1.shared.sjc1.mozilla.com%3E"
       TITLE="[whatwg] iframe sandbox attribute">imelven at mozilla.com
       </A><BR>
    <I>Mon Mar 26 14:37:41 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077439.html">[whatwg] &lt;script&gt; features
</A></li>
        <LI>Next message: <A HREF="077447.html">[whatwg] iframe sandbox attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35171">[ date ]</a>
              <a href="thread.html#35171">[ thread ]</a>
              <a href="subject.html#35171">[ subject ]</a>
              <a href="author.html#35171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
Hi,

While working on implementing HTML5's iframe sandbox, I realized that in script, one can't
tell the difference between these two cases : &lt;iframe&gt; and &lt;iframe sandbox = ''&gt;.

In both cases, iframe.sandbox will be '' (the empty string). This is
true in Webkit and IE10's implementations, as far as my testing can tell (and
in my work-in-progress implementation for Firefox also). 

There's also no way to clear sandboxing from an &lt;iframe&gt; without using something along
the lines of .removeAttribute.

Due to this and some sentiment expressed by others at Mozilla against PutForwards
(the HTML5 spec specifies [PutForwards=value] on &lt;iframe&gt;'s sandbox attribute, which is 
defined as a DOMSettableTokenList), I would like to propose a possible modification
to the spec : changing &lt;iframe&gt; sandbox to be |string? sandbox| instead of a DOMSettableTokenList.

It is my understanding that this matches what Webkit has implemented. Additionally, 
sandbox = null would mean there is no sandbox attribute (i.e. &lt;iframe&gt;) and sandbox = '' would
mean the iframe is fully sandboxed with no permissions granted (ie. &lt;iframe sandbox=''&gt;).

This allows script to tell if an iframe is actually sandboxed or not (well, if it's intended to be
sandboxed or not, to be exact, since changing flags doesn't take affect immediately, per the 
HTML5 spec), allows adding and removing sandboxing via the attribute itself, and avoids the need for
a PutForwards.

Comments and feedback are very welcome !

thank you,
ian





</PRE>

























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077439.html">[whatwg] &lt;script&gt; features
</A></li>
	<LI>Next message: <A HREF="077447.html">[whatwg] iframe sandbox attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35171">[ date ]</a>
              <a href="thread.html#35171">[ thread ]</a>
              <a href="subject.html#35171">[ subject ]</a>
              <a href="author.html#35171">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
