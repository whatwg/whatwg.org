<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [media] startOffsetTime, also add startTime?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bmedia%5D%20startOffsetTime%2C%20also%20add%20startTime%3F&In-Reply-To=%3CCAHfnhfrGsDbWBQq4ijLatLky3AZWRYEYGU8%2Bwu7TDEG6qwfmUQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035005.html">
   <LINK REL="Next"  HREF="077288.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [media] startOffsetTime, also add startTime?</H1>
<!--htdig_noindex-->
    <B>Rick Waldron</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bmedia%5D%20startOffsetTime%2C%20also%20add%20startTime%3F&In-Reply-To=%3CCAHfnhfrGsDbWBQq4ijLatLky3AZWRYEYGU8%2Bwu7TDEG6qwfmUQ%40mail.gmail.com%3E"
       TITLE="[whatwg] [media] startOffsetTime, also add startTime?">waldron.rick at gmail.com
       </A><BR>
    <I>Wed Mar  7 07:04:33 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="035005.html">[whatwg] [media] startOffsetTime, also add startTime?
</A></li>
        <LI>Next message: <A HREF="077288.html">[whatwg] [media] startOffsetTime, also add startTime?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77279">[ date ]</a>
              <a href="thread.html#77279">[ thread ]</a>
              <a href="subject.html#77279">[ subject ]</a>
              <a href="author.html#77279">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Thanks for putting this together Odin -- this has long been a point of
interest for all of us on the Popcorn.js dev team.

Rick

On Wed, Mar 7, 2012 at 5:56 AM, Odin H&#248;rthe Omdal &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">odinho at opera.com</A>&gt; wrote:

&gt;<i> startOffsetTime seem to leave people confused, I often have to explain it,
</I>&gt;<i> and yesterday I read the spec[5] and old emails and got confused myself. It
</I>&gt;<i> hasn't been implemented after almost 2 years.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Having the UTC time of the clip you're getting would be very useful. But
</I>&gt;<i> it'd be really nice to get the start of the non-normalized timestamp
</I>&gt;<i> exposed to javascript for synchronizing out-of-band metadata with the live
</I>&gt;<i> streamed media.
</I>&gt;<i>
</I>&gt;<i> Browsers are currently supposed to take the timestamp and normalize it to
</I>&gt;<i> 0 for currentTime. Chromium currently does not do that; it starts at 3:15,
</I>&gt;<i> if I join a streamed video that I started streaming 3 minutes, 15 seconds
</I>&gt;<i> ago.
</I>&gt;<i>
</I>&gt;<i> I don't think using the UTC time as the sync point is very stable at the
</I>&gt;<i> moment. It'd be a much quicker, stable, and easier win to get a startTime,
</I>&gt;<i> timelineStartTime or timeSinceStart or similar that exposes the
</I>&gt;<i> NON-normalized timestamp value at the start of the stream. So that, if you
</I>&gt;<i> do
</I>&gt;<i>
</I>&gt;<i>   startTime + currentTime
</I>&gt;<i>
</I>&gt;<i> you're able to get the actual timestamp that the stream is at, at that
</I>&gt;<i> point. And in contrast with startOffsetTime this one won't ever change, so
</I>&gt;<i> startTime + currentTime will always be continuously increasing.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The Date UTC which startOffsetTime would use, seems to be varying quite a
</I>&gt;<i> bit. You need to know your streaming server and what it does in order to
</I>&gt;<i> understand the result. Even different media from the same server might give
</I>&gt;<i> different results if the streaming server implementation just reads the UTC
</I>&gt;<i> time directly from the file. The information could be useful, but for more
</I>&gt;<i> advanced uses.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> startOffsetTime and initialTime came out of this conversation in 2010:
</I>&gt;<i>  &lt;<A HREF="http://lists.whatwg.org/**htdig.cgi/whatwg-whatwg.org/**">http://lists.whatwg.org/**htdig.cgi/whatwg-whatwg.org/**</A>
</I>&gt;<i> 2010-May/thread.html#26342&lt;<A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-May/thread.html#26342">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-May/thread.html#26342</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> And introduced here:
</I>&gt;<i>  &lt;<A HREF="http://lists.whatwg.org/**htdig.cgi/whatwg-whatwg.org/**">http://lists.whatwg.org/**htdig.cgi/whatwg-whatwg.org/**</A>
</I>&gt;<i> 2010-August/028004.html&lt;<A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-August/028004.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-August/028004.html</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sean O'Halpin of BBC recently mentioned[2] some of the confusion:
</I>&gt;<i>
</I>&gt;<i>  There seems to be some confusion here in how the HTML5 media elements
</I>&gt;&gt;<i> specification is dealing with logical stream addressing versus physical
</I>&gt;&gt;<i> stream addressing. The excerpt above talks about a user agent being able to
</I>&gt;&gt;<i> &quot;seek to an earlier point than the first frame originally provided by the
</I>&gt;&gt;<i> server&quot; but does not explain how this could possibly happen without
</I>&gt;&gt;<i> communication back to the server, in which case we are effectively dealing
</I>&gt;&gt;<i> with a request for a different physical resource. At the very least, the
</I>&gt;&gt;<i> fact that the Firefox and Chrome teams came up with different
</I>&gt;&gt;<i> interpretations shows that this part of the specification would benefit
</I>&gt;&gt;<i> from clarification.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> And an earlier blog post about startOffsetTime specifically[3]:
</I>&gt;<i>
</I>&gt;<i>  The reason for setting this out is that we'd like to see consistent
</I>&gt;&gt;<i> support for startOffsetTime across all commonly used codecs and for browser
</I>&gt;&gt;<i> vendors to bring their implementations into line with the published HTML5
</I>&gt;&gt;<i> media elements specification. There are ambiguities in the specification
</I>&gt;&gt;<i> itself, such as the interpretation of 'earliest seekable position', which
</I>&gt;&gt;<i> could be clarified, especially with respect to continuous live streaming
</I>&gt;&gt;<i> media. Browser vendors need to agree on a common interpretation of
</I>&gt;&gt;<i> attributes such as currentTime so others can experiment with the exciting
</I>&gt;&gt;<i> possibilities this new technology is opening up.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sooo... It would be nice to get some real cleanups to the whole media +
</I>&gt;<i> time thing. :D
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 1. &lt;<A HREF="http://www.whatwg.org/specs/**web-apps/current-work/**">http://www.whatwg.org/specs/**web-apps/current-work/**</A>
</I>&gt;<i> multipage/the-video-element.**html#offsets-into-the-media-**resource&lt;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#offsets-into-the-media-resource">http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#offsets-into-the-media-resource</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> 2. &lt;<A HREF="http://www.bbc.co.uk/blogs/**researchanddevelopment/2012/**">http://www.bbc.co.uk/blogs/**researchanddevelopment/2012/**</A>
</I>&gt;<i> 02/what-does-currenttime-mean-**in.shtml&lt;<A HREF="http://www.bbc.co.uk/blogs/researchanddevelopment/2012/02/what-does-currenttime-mean-in.shtml">http://www.bbc.co.uk/blogs/researchanddevelopment/2012/02/what-does-currenttime-mean-in.shtml</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> 3. &lt;<A HREF="http://www.bbc.co.uk/blogs/**researchanddevelopment/2012/**">http://www.bbc.co.uk/blogs/**researchanddevelopment/2012/**</A>
</I>&gt;<i> 01/implementing-**startoffsettime-f.shtml&lt;<A HREF="http://www.bbc.co.uk/blogs/researchanddevelopment/2012/01/implementing-startoffsettime-f.shtml">http://www.bbc.co.uk/blogs/researchanddevelopment/2012/01/implementing-startoffsettime-f.shtml</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> --
</I>&gt;<i> Odin H&#248;rthe Omdal &#183; Core QA, Opera Software &#183; <A HREF="http://opera.com">http://opera.com</A> /
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035005.html">[whatwg] [media] startOffsetTime, also add startTime?
</A></li>
	<LI>Next message: <A HREF="077288.html">[whatwg] [media] startOffsetTime, also add startTime?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77279">[ date ]</a>
              <a href="thread.html#77279">[ thread ]</a>
              <a href="subject.html#77279">[ subject ]</a>
              <a href="author.html#77279">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
