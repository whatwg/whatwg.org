<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Session Management
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Session%20Management&In-Reply-To=%3C3F4F61F3-991A-4D9D-A86A-4D105959045A%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031990.html">
   <LINK REL="Next"  HREF="074266.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Session Management</H1>
<!--htdig_noindex-->
    <B>Cameron Heavon-Jones</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Session%20Management&In-Reply-To=%3C3F4F61F3-991A-4D9D-A86A-4D105959045A%40gmail.com%3E"
       TITLE="[whatwg] Session Management">cmhjones at gmail.com
       </A><BR>
    <I>Fri Jun 10 05:25:07 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="031990.html">[whatwg] Session Management
</A></li>
        <LI>Next message: <A HREF="074266.html">[whatwg] Session Management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74265">[ date ]</a>
              <a href="thread.html#74265">[ thread ]</a>
              <a href="subject.html#74265">[ subject ]</a>
              <a href="author.html#74265">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>i'd like to reference a proposal i put forward in relation to expanding the functionality of forms which displays how http authentication could be implemented declaratively by html authors:

<A HREF="http://lists.w3.org/Archives/Public/public-html/2011Apr/0259.html">http://lists.w3.org/Archives/Public/public-html/2011Apr/0259.html</A>

thanks,
cameron jones


On 10/06/2011, at 1:00 AM, Ian Hickson wrote:

&gt;<i> On Tue, 1 Mar 2011, Boris Zbarsky wrote:
</I>&gt;&gt;<i> On 3/1/11 5:29 PM, Ian Hickson wrote:
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> I am still faced with the fact that there is no way to clear the 
</I>&gt;&gt;&gt;&gt;<i> HTTP authentication credentials cache.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> To some extent that's up to the browser. It logs you in, it can offer 
</I>&gt;&gt;&gt;<i> the ability to log you out.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> For what it's worth, Firefox even has UI for this....
</I>&gt;<i> 
</I>&gt;<i> Indeed.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Wed, 2 Mar 2011, Dave Kok wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> You can also login using AJAX requests. This breaks the idea of it being 
</I>&gt;&gt;<i> purely a UI matter.
</I>&gt;<i> 
</I>&gt;<i> How so?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> Also browsers don't all do this.
</I>&gt;<i> 
</I>&gt;<i> They all don't do whatever else we come up with to solve this, too.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> In my opinion it is not sufficient to have solely the browser UI cover 
</I>&gt;&gt;<i> this particular feature. Also looking forward to a feature like app mode 
</I>&gt;&gt;<i> shipping in Google chrome, I remember Firefox having something similar, 
</I>&gt;&gt;<i> it would be really useful if it could be controlled from within a web 
</I>&gt;&gt;<i> page.
</I>&gt;<i> 
</I>&gt;<i> If you really want to control it from within the page, just use another 
</I>&gt;<i> credential mechanism, like form-submitted login and cookies.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> Also as web developers are requesting this over and over again there 
</I>&gt;&gt;<i> seems to be a real need.
</I>&gt;<i> 
</I>&gt;<i> Compared to other features, this is not requested that often.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> Just saying that the web browser UI should do it is not getting the job 
</I>&gt;&gt;<i> done.
</I>&gt;<i> 
</I>&gt;<i> Why would it be any more effective to do anything else?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> Most prominently however how is a web browser suppose to know which 
</I>&gt;&gt;<i> credentials to dump when the user hits a logout button in the web 
</I>&gt;&gt;<i> browser UI. During a page load multiple origins can be accessed and all 
</I>&gt;&gt;<i> may require credentials.
</I>&gt;<i> 
</I>&gt;<i> That's also a UI issue. For example, the browser could just dump all the 
</I>&gt;<i> credentials for the sessions started in the current tab, or it could show 
</I>&gt;<i> the user a list of credentials that the user can pick to drop.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> But it seems mostly natural in a web application to include a logout 
</I>&gt;&gt;<i> button. I don't know of any web applications not having one.
</I>&gt;<i> 
</I>&gt;<i> If they all have it, then there's no problem. :-)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> So why is it suddenly sufficient that the browser UI could have a logout 
</I>&gt;&gt;<i> button?
</I>&gt;<i> 
</I>&gt;<i> For HTTP auth, the login is also done by the browser's UI. So it makes 
</I>&gt;<i> sense that the logout should be done by the browser also.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> And if it should why is it not being required in any spec?
</I>&gt;<i> 
</I>&gt;<i> We don't require UI of any kind.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> The whole purpose of these specs is to have some common denominator so 
</I>&gt;&gt;<i> building web sites/applications does not require having to know 
</I>&gt;&gt;<i> everything about every possible browser in use. It's about making life 
</I>&gt;&gt;<i> easy not hard. I really think some influential spec should say something 
</I>&gt;&gt;<i> about this.
</I>&gt;<i> 
</I>&gt;<i> There aren't really any influential specs when it comes to UI (or much of 
</I>&gt;<i> anything else -- specs only appear influential if they happen to spec what 
</I>&gt;<i> implementors want to do anyway).
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> I prefer to use HTTP authentication mostly as it is build-in anyways 
</I>&gt;&gt;&gt;&gt;<i> and has richer features then pure form-based authentication.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> What features does it have that other mechanisms do not?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> HTTP authentication like HTTP itself is stateless. Form-based 
</I>&gt;&gt;<i> authentication isn't and requires the extra hurdle of having to persist 
</I>&gt;&gt;<i> a session key.
</I>&gt;<i> 
</I>&gt;<i> Ironically, it's the fact that HTTP authentication is state_ful_ that is 
</I>&gt;<i> causing you trouble here.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> As far as I can judge, form-based authentication has no pros over HTTP 
</I>&gt;&gt;<i> authentication. Other then the web developer being able to create a 
</I>&gt;&gt;<i> working logout procedure. Please note that one can also use a form to 
</I>&gt;&gt;<i> gather the credentials and login in through AJAX. But mostly I like the 
</I>&gt;&gt;<i> idea of it being in the HTTP protocol itself. Rather then implemented on 
</I>&gt;&gt;<i> top of it.
</I>&gt;<i> 
</I>&gt;<i> That seems very arbitrary.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> It allows for futures expansions like upgrading to more secure 
</I>&gt;&gt;<i> authentication methods like Kerberos (I believe Microsoft is already 
</I>&gt;&gt;<i> doing this) or using client certificates (already possible). I don't see 
</I>&gt;&gt;<i> this happening with form-based authentication. When logging out is 
</I>&gt;&gt;<i> possible and well supported I actually see these more secure 
</I>&gt;&gt;<i> authentication methods becoming mainstream.
</I>&gt;<i> 
</I>&gt;<i> I'm rather skeptical, personally. Client certificates are an 
</I>&gt;<i> authentication mechanism that baffles regular users.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Wed, 2 Mar 2011, Dave Kok wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Unrelated, how authentication is triggered has nothing to do with when 
</I>&gt;&gt;<i> it is cleared. But after authentication has been triggered and the user 
</I>&gt;&gt;<i> has entered it credentials (or used credentials that are pre- filled by 
</I>&gt;&gt;<i> the UA) those credentials are cached for automatic reuse, so the user 
</I>&gt;&gt;<i> does not have to log in and log in over and over again. Very useful, we 
</I>&gt;&gt;<i> all love it. But at some point those cached credentials must be cleared 
</I>&gt;&gt;<i> so the UA triggers again a dialog to require the user to log in again 
</I>&gt;&gt;<i> (possible again pre-filling credentials from some store). It is the 
</I>&gt;&gt;<i> clearing I propose a site should be able to aid the UA in. This is not a 
</I>&gt;&gt;<i> simple thing as the site does not know the credentials, as it should. 
</I>&gt;&gt;<i> But it often does now when a session starts and ends. So when it can 
</I>&gt;&gt;<i> communicate this to the UA, the UA can use this info to clear 
</I>&gt;&gt;<i> credentials at the appropriate time. Rather then waiting when the user 
</I>&gt;&gt;<i> closes the window or manually clears credentials using a browser UI 
</I>&gt;&gt;<i> feature. Should a user be expected to do this?
</I>&gt;<i> 
</I>&gt;<i> I recommend bringing these questions up with browser vendors and seeing if 
</I>&gt;<i> they are interested in implementing some experimental features for it, as 
</I>&gt;<i> per this question in the FAQ:
</I>&gt;<i> 
</I>&gt;<i>   <A HREF="http://wiki.whatwg.org/wiki/FAQ#Is_there_a_process_for_adding_new_features_to_a_specification.3F">http://wiki.whatwg.org/wiki/FAQ#Is_there_a_process_for_adding_new_features_to_a_specification.3F</A>
</I>&gt;<i> 
</I>&gt;<i> One question that I think is relevant for such a proposal is: how can a 
</I>&gt;<i> Web page know when a session has ended? Users don't typically hit the 
</I>&gt;<i> logout button, do they?
</I>&gt;<i> 
</I>&gt;<i> Then again, personally I never consider my sessions over. Once I've logged 
</I>&gt;<i> in, I want to remain logged in until the machine dies a final death. It 
</I>&gt;<i> drives me crazy that I keep having to log in to my bank's Web app.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Thu, 3 Mar 2011, Dave Kok wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Please appreciate the notion that HTML5 is broader then just browsing 
</I>&gt;&gt;<i> the internet.
</I>&gt;<i> 
</I>&gt;<i> At least for the purposes of the WHATWG, this is not the case. We are only 
</I>&gt;<i> focusing on making the Web better. Other applications may benefit as a 
</I>&gt;<i> side-effect, but they are not a consideration. We have enough difficulty 
</I>&gt;<i> making a language for the Web without trying to make it fit other worlds 
</I>&gt;<i> as well!
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Thu, 3 Mar 2011, Dave Kok wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Here is a more formal proposal for Session Management. Hoping to get 
</I>&gt;&gt;<i> more traction.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> SCOPE
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The proposal is restricted solely the HTML5 spec. Though in the rational 
</I>&gt;&gt;<i> HTTP and authentication are mentioned as by example.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> INTERFACE
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> This proposal requests for an new interface to be added to HTML5 usable 
</I>&gt;&gt;<i> from script. The interface is currently defined on the window global 
</I>&gt;&gt;<i> object. The naming is chosen so it seems natural to co-exist with 
</I>&gt;&gt;<i> sessionStorage.
</I>&gt;<i> 
</I>&gt;<i> The first step here is describing the problem, not the solution.
</I>&gt;<i> 
</I>&gt;<i> We can't evaluate solutions without knowing what problems they solve.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Fri, 11 Mar 2011, Dave Kok wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> [In] the case of a web application in which a lot of documents are 
</I>&gt;&gt;<i> interdependent the use case becomes self-evidence, at least to me. Often 
</I>&gt;&gt;<i> these sites have a particular workflow. You start here then go there and 
</I>&gt;&gt;<i> so on. Often there is a single starting point. Like a page on which you 
</I>&gt;&gt;<i> get the option to login or register. Once logged in you are rerouted to 
</I>&gt;&gt;<i> a page for instance that contains messages of things that have changed 
</I>&gt;&gt;<i> since you last logged in. This off course all very much depends on the 
</I>&gt;&gt;<i> type of web site/application. However I don't think anyone is going to 
</I>&gt;&gt;<i> think that a web-based email client exists of independent pages that you 
</I>&gt;&gt;<i> can just bookmark and revisit later. These pages often have additional 
</I>&gt;&gt;<i> state that is build up in the course of using the web site/application. 
</I>&gt;&gt;<i> This state (session data) can't be bookmarked.
</I>&gt;<i> 
</I>&gt;<i> You can bookmark GMail pages just fine as far as I can tell.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> In these instances having a defined method of telling the UA where a 
</I>&gt;&gt;<i> session begins and ends is useful to the point that it allows a UA to 
</I>&gt;&gt;<i> track what session data belongs to the session and clean it when no 
</I>&gt;&gt;<i> longer useful.
</I>&gt;<i> 
</I>&gt;<i> That doesn't really seem compatible with how the Web works. In the Web you 
</I>&gt;<i> can go to a page, then open links from that page in many tabs, then close 
</I>&gt;<i> some, open more, then close all of them, then unclose a tab, then bookmark 
</I>&gt;<i> it, then reboot, then reopen the bookmark...
</I>&gt;<i> 
</I>&gt;<i> I don't really understand what problem a &quot;session&quot; concept solves. The 
</I>&gt;<i> problems with authentication on the Web today aren't about session ends, 
</I>&gt;<i> they're about identity, lack of multi-factor login, weak passwords, weak 
</I>&gt;<i> account recovery features, etc. If anything is wrong with &quot;logout&quot; on the 
</I>&gt;<i> Web, it's that sites are too _eager_ to log me out, IMHO!
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> Think of sessionEnd as terminating a regular desktop application.
</I>&gt;<i> 
</I>&gt;<i> Regular desktop applications are specifically moving _away_ from this 
</I>&gt;<i> model. See OS X Lion's session resume features, session restore in 
</I>&gt;<i> Firefox, Opera, Safari, or Chrome... heck, even software in the 90s (e.g. 
</I>&gt;<i> Turbo Pascal) used to resume sessions automatically. OSes themselves have 
</I>&gt;<i> long had suspend/hibernation features to resume state.
</I>&gt;<i> 
</I>&gt;<i> Terminating sessions seems to be largely considered a bug, not a feature.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> Does an OS notify you when you logged out of your e-mail client?
</I>&gt;<i> 
</I>&gt;<i> You can log out of desktop e-mail clients?
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Ian Hickson               U+1047E                )\._.,--....,'``.    fL
</I>&gt;<i> <A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
</I>&gt;<i> Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</I>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031990.html">[whatwg] Session Management
</A></li>
	<LI>Next message: <A HREF="074266.html">[whatwg] Session Management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74265">[ date ]</a>
              <a href="thread.html#74265">[ thread ]</a>
              <a href="subject.html#74265">[ subject ]</a>
              <a href="author.html#74265">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
