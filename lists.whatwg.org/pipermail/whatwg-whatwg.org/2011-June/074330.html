<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Selectors within &lt;style scoped&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Selectors%20within%20%3Cstyle%20scoped%3E&In-Reply-To=%3CPine.LNX.4.64.1106150645350.14203%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032056.html">
   <LINK REL="Next"  HREF="074338.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Selectors within &lt;style scoped&gt;</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Selectors%20within%20%3Cstyle%20scoped%3E&In-Reply-To=%3CPine.LNX.4.64.1106150645350.14203%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Selectors within &lt;style scoped&gt;">ian at hixie.ch
       </A><BR>
    <I>Tue Jun 14 23:50:58 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="032056.html">[whatwg]  Selectors within &lt;style scoped&gt;
</A></li>
        <LI>Next message: <A HREF="074338.html">[whatwg] Selectors within &lt;style scoped&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74330">[ date ]</a>
              <a href="thread.html#74330">[ thread ]</a>
              <a href="subject.html#74330">[ subject ]</a>
              <a href="author.html#74330">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 15 Jun 2011, Roland Steiner wrote:
&gt;<i> 
</I>&gt;<i> According to the HMTL5 spec, selectors are not limited to children of 
</I>&gt;<i> the scoping element (the parent element of &lt;style scoped&gt;). For example:
</I>&gt;<i> 
</I>&gt;<i> &lt;div class=&quot;foo&quot;&gt;
</I>&gt;<i>     &lt;div&gt;
</I>&gt;<i>         &lt;style scoped&gt;
</I>&gt;<i>             .foo p { display: none }
</I>&gt;<i>         &lt;/style&gt;
</I>&gt;<i>         &lt;p&gt;To be or not to be, that is the question.&lt;/p&gt;
</I>&gt;<i>     &lt;/div&gt;
</I>&gt;<i> &lt;div&gt;
</I>&gt;<i> 
</I>&gt;<i> In above snippet, the selector in the scoped stylesheet would match, 
</I>&gt;<i> causing the &lt;p&gt; element to be hidden. To me, this seems counterintuitive 
</I>&gt;<i> - I originally would have the scoped stylesheet expected to be matched 
</I>&gt;<i> starting from the scoping element (the 2nd &lt;div&gt; in above example) 
</I>&gt;<i> downwards, and not cross the scope boundary.
</I>&gt;<i> 
</I>&gt;<i> As far as I can tell, the advantages of allowing the selector to cross 
</I>&gt;<i> the boundary are:
</I>&gt;<i> 
</I>&gt;<i> 1.) less change to selection behavior
</I>&gt;<i>
</I>&gt;<i> 2.) allow the styling to change depending where the scoping element is 
</I>&gt;<i> inserted within the document
</I>
It also allows a number of other use cases, e.g. having styles when the 
user is hovering over some ancestor of the section (:hover on ancestor), 
changing style when the page URL is targetting some ancestor of the 
section (:target on ancestor), distinguishing whether the section is 
embedded in &lt;blockquote&gt; or &lt;article&gt; and using different styles in those 
cases (e.g. using more of the source's branding if it's in &lt;article&gt; and 
letting more of the page style show through if it's in &lt;blockquote&gt;), 
coordination with the syndicator so that specific classes can be set up to 
allow the styles to automatically distinguish whether the section was 
embedded through user choice or through some seredipity algorithm, etc.



&gt;<i> The disadvantages:
</I>&gt;<i> 
</I>&gt;<i> 1.) a scoped style may unexpectedly apply, because an arbitrary ancestor of
</I>&gt;<i> the scoping element happens to partially match the scoped selector
</I>&gt;<i> 2.) have to be very careful with using simple HTML tags in scoped selectors,
</I>&gt;<i> because of 1.)
</I>&gt;<i> 3.) also because of 1.) have to be careful about recursive use of style
</I>&gt;<i> scopes - either programmatically generated, or in the course of XBL.
</I>
XBL2 specifically gives the author control over this issue, because it is 
indeed a problem in a widget scoped style scenario. I don't think these 
disadvantages are likely to be common in the syndication use case, though: 
typically, the ancestors are going to be pretty tame (a bunch of &lt;div&gt;s, 
an &lt;article&gt;, maybe a &lt;section&gt;, probably little else).

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032056.html">[whatwg]  Selectors within &lt;style scoped&gt;
</A></li>
	<LI>Next message: <A HREF="074338.html">[whatwg] Selectors within &lt;style scoped&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74330">[ date ]</a>
              <a href="thread.html#74330">[ thread ]</a>
              <a href="subject.html#74330">[ subject ]</a>
              <a href="author.html#74330">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
