<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Session Management
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Session%20Management&In-Reply-To=%3C201106141140.46754.updates%40davekok.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="074272.html">
   <LINK REL="Next"  HREF="074363.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Session Management</H1>
<!--htdig_noindex-->
    <B>Dave Kok</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Session%20Management&In-Reply-To=%3C201106141140.46754.updates%40davekok.net%3E"
       TITLE="[whatwg] Session Management">updates at davekok.net
       </A><BR>
    <I>Tue Jun 14 02:40:46 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="074272.html">[whatwg] Session Management
</A></li>
        <LI>Next message: <A HREF="074363.html">[whatwg] Session Management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74309">[ date ]</a>
              <a href="thread.html#74309">[ thread ]</a>
              <a href="subject.html#74309">[ subject ]</a>
              <a href="author.html#74309">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Op vrijdag 10 juni 2011 19:36:15 schreef u:
&gt;<i> On 10/06/2011, at 4:23 PM, Dave Kok wrote:
</I>&gt;<i> &gt;&gt;&gt; Ultimately a user-agent must use whatever
</I>&gt;<i> &gt;&gt;&gt; method required by the server not the method defined by the author. A
</I>&gt;<i> &gt;&gt;&gt; user- agent can transparently find out which method to use with a HEAD
</I>&gt;<i> &gt;&gt;&gt; request. Or if transport layer security is used simply guess one and
</I>&gt;<i> &gt;&gt;&gt; see if it works and try again if it doesn't.
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; I'm not sure i agree. The server has served up the page so ultimately it
</I>&gt;<i> &gt;&gt; is in control. If the author specifies something which the server can
</I>&gt;<i> &gt;&gt; not handle, that's just an authoring bug is it not?
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; I also don't think an agent should be making any guesses...this would
</I>&gt;<i> &gt;&gt; definitely seem to violate the authority to define the modus operandi.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; This is assuming the form's action targets the same domain. I see no
</I>&gt;<i> &gt; reason why it should. On top of that authentication is a protocol thing
</I>&gt;<i> &gt; so it's best to leave most of the details at that level and not expose
</I>&gt;<i> &gt; those to a higher level. As rational you can look at the
</I>&gt;<i> &gt; XMLHttpRequest.open function. It only allows an author to supply a
</I>&gt;<i> &gt; username and password and not what method to use or any additional
</I>&gt;<i> &gt; parameters.
</I>&gt;<i> 
</I>&gt;<i> But, it also allows for manually setting the Authorization header which
</I>&gt;<i> takes precedence over the method arguments.
</I>Really, never tested that, could be interesting.

&gt;<i> 
</I>&gt;<i> What do you mean by &quot;it's a protocol thing&quot;? The idea is to provide a UI to
</I>&gt;<i> enable a human to interact with the protocol, this must be present in some
</I>&gt;<i> way, either by the UA as at present, or through forms as suggested.
</I>Personally I prefer the perspective that you are providing a UI for the use 
case 'to log in', not to give access to the protocol. If you limit it to a use 
case without knowledge of the protocol you also allow for broader 
implementation. For instance when the HTTP protocol isn't used. Using forms as 
suggested I fully support. But my preference is to limit the forms to 
gathering the information needed to login and let a user-agent worry about the 
details. I would expect that the only information required is the user's 
credentials and perhaps a domain (never fully read up on digest 
authentication). If you disagree then I am afraid we have to settle on this by 
agreeing that we disagree.

&gt;<i> &gt;&gt;&gt; Also binding the username and password input fields to the
</I>&gt;<i> &gt;&gt;&gt; authorization header should properly not be done by reserving names in
</I>&gt;<i> &gt;&gt;&gt; the name attribute of the input field. I would suggest using a special
</I>&gt;<i> &gt;&gt;&gt; purpose attribute like authorization to declare their binding.
</I>&gt;<i> &gt;&gt;&gt; Otherwise authors have to cope with reserved names which is properly
</I>&gt;<i> &gt;&gt;&gt; unacceptable backwards-compatible wise.
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> &gt;&gt;&gt; &lt;form method=&quot;get&quot; action=&quot;/resource&quot; authorize&gt;
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> &gt;&gt;&gt; &lt;!-- use custom http header--&gt;
</I>&gt;<i> &gt;&gt;&gt; &lt;input type=&quot;header&quot; name=&quot;Language&quot; value=&quot;en_US&quot;&gt;
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> &gt;&gt;&gt; &lt;input type=&quot;text&quot; authorization=&quot;username&quot;&gt;
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> &gt;&gt;&gt; &lt;input type=&quot;password&quot; authorization=&quot;password&quot;&gt;
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> &gt;&gt;&gt; &lt;input type=&quot;submit&quot; value=&quot;load&quot;&gt;
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> &gt;&gt;&gt; &lt;/form&gt;
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> &gt;&gt;&gt; --
</I>&gt;<i> &gt;&gt;&gt; Dave Kok
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; But, in reference to backwards compatibility, the authorization must be
</I>&gt;<i> &gt;&gt; explicitly declared so this wouldn't be applied universally.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Yes but browsers not supporting the new feature would simply post the
</I>&gt;<i> &gt; username and password without using any authentication method. However
</I>&gt;<i> &gt; those fields are suppressed if no the name attribute isn't used. Thus
</I>&gt;<i> &gt; using a new attribute has my preference. Also to allow building a work
</I>&gt;<i> &gt; around for non-conforming browser which will exists for many years to
</I>&gt;<i> &gt; come even is this feature finds it way into the spec.
</I>&gt;<i> 
</I>&gt;<i> But, the authorization would only be applied when instructed through the
</I>&gt;<i> application of the specific header.
</I>Yes indeed.

&gt;<i> This means that there can't be any conflict with existing pages\forms as form 
</I>&gt;<i> headers don't currently exist.
</I>I can't determine the validity of the claim. That in itself worries me. I you 
are right I would agree. Personally I would take the safe road.

&gt;<i> There is a benefit to binding the parameters from input names - for old
</I>&gt;<i> browsers which don't support the new headers they will at least send a
</I>&gt;<i> request to the server which can be setup to handle legacy requests as form
</I>&gt;<i> encoding, probably falling back to setting up a cookie session. As you
</I>&gt;<i> noted, if new attributes are introduced, no data will be sent.
</I>The problem is that by binding it on the name attribute, authors no longer 
have a choice. Binding on a new attribute gives authors a choice. They can 
either choose to include both a name attribute and the new attribute for 
binding and things are as you commented. Or authors can use a different 
approach. What worries me is that if a author does not account for user-agents 
not handling the authorization, the user's credentials are sent in the clear 
for all the see, especially when using the GET method. By giving authors the 
choose you also force them to think it over. At least to some degree. Those 
that just copy&amp;paste stuff will properly never think it over. But disregarding 
those if authors have to choice those not accounting for the user agent to 
handle it will only have a double login screen. First they get the form which 
doesn't do a thing then the server will sent a authorization required and the 
user-agent pop-ups the regular login dialog. Not very pretty but still 
acceptable.

&gt;<i> The benefit i see in allowing binding from input name is that any of the
</I>&gt;<i> input types can be used to collect the necessary data to form the request.
</I>&gt;<i> For realms, this could be a multi-select.
</I>Using a new attribute for binding should not change this.

--
Dave Kok

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="074272.html">[whatwg] Session Management
</A></li>
	<LI>Next message: <A HREF="074363.html">[whatwg] Session Management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74309">[ date ]</a>
              <a href="thread.html#74309">[ thread ]</a>
              <a href="subject.html#74309">[ subject ]</a>
              <a href="author.html#74309">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
