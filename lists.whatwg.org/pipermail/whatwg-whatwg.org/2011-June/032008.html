<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Extensible microdata attributes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Extensible%20microdata%20attributes&In-Reply-To=%3C4DF34F84.7020306%40yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032007.html">
   <LINK REL="Next"  HREF="074286.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Extensible microdata attributes</H1>
<!--htdig_noindex-->
    <B>Brett Zamir</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Extensible%20microdata%20attributes&In-Reply-To=%3C4DF34F84.7020306%40yahoo.com%3E"
       TITLE="[whatwg] Extensible microdata attributes">brettz9 at yahoo.com
       </A><BR>
    <I>Sat Jun 11 04:20:36 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="032007.html">[whatwg] Cross-domain databases; was: &quot;File package protocol and manifest support?&quot;
</A></li>
        <LI>Next message: <A HREF="074286.html">[whatwg] Extensible microdata attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32008">[ date ]</a>
              <a href="thread.html#32008">[ thread ]</a>
              <a href="subject.html#32008">[ subject ]</a>
              <a href="author.html#32008">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 4/27/2011 9:06 PM, Benjamin Hawkes-Lewis wrote:
&gt;<i> On Wed, Apr 27, 2011 at 3:54 AM, Brett Zamir&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">brettz9 at yahoo.com</A>&gt;  wrote:
</I>&gt;&gt;<i> Thanks for the references. While this may be relevant for the likes of blogs
</I>&gt;&gt;<i> and other documents whose requirements for semantic density is limited
</I>&gt;&gt;<i> enough to allow such reshaping for practical effect and whose content is
</I>&gt;&gt;<i> reshapeable by the content creator (as opposed to republishing of already
</I>&gt;&gt;<i> completed books), for more semantically dense content, such as the types of
</I>&gt;&gt;<i> classical documents marked up by TEI, it is simply not possible to expose
</I>&gt;&gt;<i> text for each bit of semantic information or to generate new text to meet
</I>&gt;&gt;<i> that need. And of course, even with microformats/microdata as it is now, the
</I>&gt;&gt;<i> semantic content itself is not necessarily exposed just because text is
</I>&gt;&gt;<i> visible on the page.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The issue of discoverability is I think more related to how it will be
</I>&gt;&gt;<i> consumed or may be consumed. And even if some pieces of information are less
</I>&gt;&gt;<i> discoverable, it does not mean that they have no value. For such rich
</I>&gt;&gt;<i> documents, a lot of attention is being paid to these texts since they are
</I>&gt;&gt;<i> themselves considered important enough to be worth the time.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If the Declaration of Independence of the United States was marked up with
</I>&gt;&gt;<i> hidden information about prior emendations, their likely reasons, etc., or
</I>&gt;&gt;<i> about suspected authors of particular passages, or the United Nations
</I>&gt;&gt;<i> Declaration of Human Rights were marked up to indicate which countries have
</I>&gt;&gt;<i> expressed reservations (qualifications) about which rights, while a browsing
</I>&gt;&gt;<i> application or query tool ought to be able (optionally) expose this hidden
</I>&gt;&gt;<i> information, there is no automatic need for the markup to be polluted with
</I>&gt;&gt;<i> extra (hidden) (and especially URI-based or other non-textual) tags when an
</I>&gt;&gt;<i> attribute would suffice.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For things that are truly important, there may be a great deal of care put
</I>&gt;&gt;<i> into building up many layers which are meant to be peeled away, and it is
</I>&gt;&gt;<i> worth allowing some of that information (particularly the non-textual
</I>&gt;&gt;<i> information, e.g., the conditions of authorship, publisher, etc.),
</I>&gt;&gt;<i> especially which the original publication did not expose, to be still
</I>&gt;&gt;<i> selectively revealed to queries and deeper browsing.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If a site like Wikisource (the online library sister project of Wikipedia's)
</I>&gt;&gt;<i> would be able to offer such officially sanctioned semantic attributes,
</I>&gt;&gt;<i> classic texts could become enhanced in this way over time, with the wiki
</I>&gt;&gt;<i> exposing the hidden semantic information, which indeed may not be as
</I>&gt;&gt;<i> important as the visible text, but with queries by interested to users, any
</I>&gt;&gt;<i> problems in encoding could be discovered just as well.
</I>&gt;<i> Your email challenges the principle of visible data on four different grounds:
</I>&gt;<i>
</I>&gt;<i>     1. You note even proponents of visible data do not always show their data.
</I>&gt;<i> But the microformats community only endorse hidden metadata for annotating
</I>&gt;<i> human-friendly visible data (e.g. &quot;mercredi prochain&quot;) with a machine-readable
</I>&gt;<i> equivalent (e.g. an ISO 8601 formatted date). They do not endorse hidden
</I>&gt;<i> metadata without visible equivalents against which it can be cross-checked.
</I>&gt;<i>
</I>&gt;<i>     2. You imply editorial effort can offset the error-proneness of hidden
</I>&gt;<i> metadata. But the same extraordinary editorial effort would yield even greater
</I>&gt;<i> accuracy if it went towards creating visible data rather than hidden metadata.
</I>&gt;<i>
</I>&gt;<i>     3. You claim tool-assisted queries by end-users against the hidden metadata
</I>&gt;<i> will reveal errors at the same rate as visible data. But this is doubtful, in
</I>&gt;<i> so far as many queries will obfuscate context whereas simply reading through the
</I>&gt;<i> text encourages serendipitous error discovery. For example, I could issue a
</I>&gt;<i> query asking what proportion of the Declaration of Independence is suspected to
</I>&gt;<i> be authored by John Adams. A percentage answer would not reveal the odd
</I>&gt;<i> misattributed passage. By contrast, if I'm a scholar of the Declaration and am
</I>&gt;<i> reading through the text and I happen to see a suspiciously Jeffersonian
</I>&gt;<i> passage visibly attributed to John Adams, I'm much more likely to notice the
</I>&gt;<i> error.
</I>Of course a visible attribution is helpful, but one cannot possibly 
visibly represent all information one might wish to add, especially if 
one does not wish to clutter the view hopelessly. Meta-data can be 
available to searching, and if search engines don't wish to take 
advantage of it, at least individual document queries can do so.
&gt;<i>     4. You assert that it is not viable to make multiple layers of rich data
</I>&gt;<i> visible in a single view. I'd make the counterargument that on the web, unlike
</I>&gt;<i> in print, it is economical to dynamically construct different views and filters
</I>&gt;<i> of a document and its various visible data streams on the client, on the
</I>&gt;<i> server, on the client, or on some combination of the two. The HTML5
</I>&gt;<i> specification itself is a great example of this. The source text is kept in a
</I>&gt;<i> repository that stores changes to the text, along with date and rationale.
</I>&gt;<i> Multiple views of this source text are then generated serverside: the source
</I>&gt;<i> text is carved up into multiple draft specs for W3C and a single mammoth
</I>&gt;<i> specification for WHATWG. The HTML spec is provided in a browser-crashing
</I>&gt;<i> single document view and in a multipage view. On top of this, there is
</I>&gt;<i> clientside filtering in the form of an in-page control that can produce a web
</I>&gt;<i> author view by hiding technical text aimed at browser vendors.
</I>&gt;<i>
</I>Sometimes projects simply wish to make the meta-data available and let 
consumers determine how to display it. If someone has a good idea about 
how to manage the display (or editing) of meta-data, all power to them, 
but this does not mean that the original document creator should be 
forced to create every possible use when their interest and 
responsibility may simply be properly defining the semantics in use.

In any case, the specification has allowed in-body &lt;meta/&gt; as you point 
out, so hidden meta-data is thankfully available to authors.
&gt;<i> If you're keen on using the TEI vocabulary to meet the Wikisource use case,
</I>&gt;<i> there's no particular reason why you couldn't convert Wiki markup to TEI source
</I>&gt;<i> text, serve TEI directly over the web, and also generate various HTML views of
</I>&gt;<i> visible rich data from the TEI (for example, with XSLT). The Perseus project
</I>&gt;<i> uses TEI and HTML in combination a bit like that:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.perseus.tufts.edu/hopper/text?doc=Perseus%3atext%3a1999.01.0199">http://www.perseus.tufts.edu/hopper/text?doc=Perseus%3atext%3a1999.01.0199</A>
</I>Thanks, but I'm not a fan of custom solutions, since, similar to the 
&quot;many eyes&quot; view you are espousing for exposing meta-data visually, I 
believe such solutions leave different semantic communities out of the 
benefits of utilizing and contributing to general purpose solutions. For 
example, I'd like TEI to be serialized such that it can take advantage 
of tools exclusive to HTML such as WYSIWYG editors, wikis which 
whitelist only certain elements and attributes, etc., and have the TEI 
community engaged in enhancing the same Microdata schemas (such as those 
detailed on <A HREF="http://schema.org">http://schema.org</A>) available to all on the web. No reason 
for the same &quot;apple&quot; to be expressed in a hundred different vocabularies.
&gt;<i> But let's say you were determined to serve up a single HTML document with lots
</I>&gt;<i> of hidden metadata. None of microformats, microdata, and RDFa were designed to
</I>&gt;<i> do this. But both microdata and RDFa allow you to do so in a conforming manner
</I>&gt;<i> using the @content attribute. In WHATWG HTML, this is restricted to the &quot;meta&quot;
</I>&gt;<i> element, but the &quot;meta&quot; element is now allowed amidst body text so it can apply
</I>&gt;<i> to individual sections of the document, rather than just the whole document.
</I>&gt;<i> In W3C HTML+RDFa, the @content attribute is allowed on any element.
</I>&gt;<i>
</I>&gt;<i> In other words, where your examples currently abuse the skinning layer
</I>&gt;<i> (&quot;display: none&quot;) to preserve logical text flow, they should actually be using
</I>&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">meta at content</A> instead; there is no need for &quot;ugly hacks&quot; even if the markup
</I>&gt;<i> becomes more verbose than you might like.
</I>I had not been aware of &lt;meta/&gt; being available in-body, thank you.

However, my item-* proposal, besides being more succinct in the case of 
attribute content, allows for targeted styling of elements which &lt;meta/&gt; 
currently would not.

For example, to take a water-damaged text (e.g., for the TEI element 
<A HREF="http://www.tei-c.org/release/doc/tei-p5-doc/en/html/ref-damage.html">http://www.tei-c.org/release/doc/tei-p5-doc/en/html/ref-damage.html</A> ) 
which in TEI could be expressed as:

&lt;damage agent=&quot;water&quot; xmlns=&quot;<A HREF="http://www.tei-c.org/ns/1.0/">http://www.tei-c.org/ns/1.0/</A>&quot;&gt;Some water 
damaged words&lt;/damage&gt;

might be represented currently in Microdata as:

&lt;span itemprop=&quot;damage&quot; itemscope=&quot;&quot; 
itemtype=&quot;<A HREF="http://www.tei-c.org/ns/1.0/">http://www.tei-c.org/ns/1.0/</A>&quot;&gt;
&lt;meta itemprop=&quot;agent&quot; content=&quot;water&quot;/&gt;
     Some water damaged words
&lt;/span&gt;

But there is no &quot;parent combinator&quot; selector such that the following 
(also cumbersome) selector would work:

span[itemprop=damage] &lt;  meta[itemprop=agent][content=water] {
     text-shadow: 2px 2px 16px #2b2b2b;
}

While admittedly, I perhaps should be directing my request to the CSS 
group, I still think it highlights the unnecessary burden of forcing the 
use of child elements when attributes are more reasonable.

In my item-* proposal, it would be nicely expressed as:

&lt;span itemprop=&quot;damage&quot; item-agent=&quot;water&quot; itemscope=&quot;&quot; 
itemtype=&quot;<A HREF="http://www.tei-c.org/ns/1.0/">http://www.tei-c.org/ns/1.0/</A>&quot;&gt;
     Some water damaged words
&lt;/span&gt;

which works fairly well in CSS too:

span[itemprop=damage][item-agent=water] {
     text-shadow: 2px 2px 16px #2b2b2b;
}

This offers a conveniently condensed syntax, while also ensuring 
discoverability of the prefixed Microdata attributes.

Especially as more attributes are needed (kept simple for this example), 
it becomes easier to handle (and cleaner), even if it admittedly adds a 
little work to crawlers to detect this different approach.

&gt;<i> Note HTML also has other extension points that are available, including dumping
</I>&gt;<i> data in script elements,
</I>Not a standard approach and not likely to work in restricted 
whitelisting environment.
&gt;<i> dumping data in class attributes,
</I>Suffers, as schema.org implies at <A HREF="http://schema.org/docs/faq.html#14">http://schema.org/docs/faq.html#14</A> , 
from a lack of extensibility/namespacing.
&gt;<i> and mixing XHTML and
</I>&gt;<i> other XML vocabularies in a compound document.
</I>&gt;<i>
</I>Suffers from a lack of support in the HTML serialization and from a lack 
of a uniform means of discoverability.
&gt;<i> Beware that even where a conforming hidden metadata mechanism is provided,
</I>&gt;<i> consumers of such documents may well distrust hidden metadata that is not a
</I>&gt;<i> machine-readable equivalent to visible data. For example, Google say:
</I>&gt;<i>
</I>&gt;<i> &quot;In general, Google won't display content that is not visible to the user. In
</I>&gt;<i> other words, don't show content to users in one way, and use hidden text to
</I>&gt;<i> mark up information separately for search engines and web applications. You
</I>&gt;<i> should mark up the text that actually appears to your users when they visit
</I>&gt;<i> your web pages.&quot;
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.google.com/support/webmasters/bin/answer.py?hl=en&amp;answer=146898">http://www.google.com/support/webmasters/bin/answer.py?hl=en&amp;answer=146898</A>
</I>&gt;<i>
</I>I'm skeptical that this would exclude (or need to exclude) 
namespace-aware Microdata searches since the user is clearly seeking 
this information explicitly.

Best wishes,
Brett

</PRE>



























































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032007.html">[whatwg] Cross-domain databases; was: &quot;File package protocol and manifest support?&quot;
</A></li>
	<LI>Next message: <A HREF="074286.html">[whatwg] Extensible microdata attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32008">[ date ]</a>
              <a href="thread.html#32008">[ thread ]</a>
              <a href="subject.html#32008">[ subject ]</a>
              <a href="author.html#32008">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
