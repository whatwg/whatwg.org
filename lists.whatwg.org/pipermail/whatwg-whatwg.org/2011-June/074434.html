<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] TextTrackCueList methods for adding/removing/editing	cues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20TextTrackCueList%20methods%20for%20adding/removing/editing%0A%09cues&In-Reply-To=%3CBANLkTim_jVf%2B0X73THCMKoXfMa0_waroOg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032160.html">
   <LINK REL="Next"  HREF="032173.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] TextTrackCueList methods for adding/removing/editing	cues</H1>
<!--htdig_noindex-->
    <B>Silvia Pfeiffer</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20TextTrackCueList%20methods%20for%20adding/removing/editing%0A%09cues&In-Reply-To=%3CBANLkTim_jVf%2B0X73THCMKoXfMa0_waroOg%40mail.gmail.com%3E"
       TITLE="[whatwg] TextTrackCueList methods for adding/removing/editing	cues">silviapfeiffer1 at gmail.com
       </A><BR>
    <I>Sun Jun 19 19:03:16 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="032160.html">[whatwg] TextTrackCueList methods for adding/removing/editing cues
</A></li>
        <LI>Next message: <A HREF="032173.html">[whatwg] Readiness of script-created documents
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74434">[ date ]</a>
              <a href="thread.html#74434">[ thread ]</a>
              <a href="subject.html#74434">[ subject ]</a>
              <a href="author.html#74434">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Jun 20, 2011 at 11:26 AM, Rodger Combs &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">rodger.combs at gmail.com</A>&gt; wrote:
&gt;<i> There are a few possible cases when JavaScript may need to add, remove, read, or modify a cue from a &lt;track&gt;:
</I>&gt;<i> 1. A web-based caption editor
</I>&gt;<i> 2. Parsing captions from an external non-WebVTT file (retrieved with XHR, EventSource [for live videos], WebSocket, etc.)
</I>&gt;<i> 3. Live translating of captions using an external translation API
</I>&gt;<i> 4. Probably more that I'm not thinking of
</I>&gt;<i> Adding a set of methods to the TextTrackCueList for cue modification could be useful. Here's an example interface:
</I>&gt;<i>
</I>&gt;<i> TextTrackCue addCue(in double startTime, in double endTime, in DOMString text, in optional DOMString[] flags);
</I>&gt;<i> void removeCue(in TextTrackCue);
</I>&gt;<i> void removeCueById(in DOMString id);
</I>&gt;<i>
</I>&gt;<i> Also, I recommend that in TextTrackCue, startTime, endTime, and pauseOnExit are made non-readonly, and that &quot;attribute DOMString text;&quot; is added to the interface.
</I>
Hmm.. I think you want to stay away from mixing content that has come
into the browser by file read and content that you want to change and
possibly save again. They should be separate tracks.

I would suggest that for such cases what you need to do is create a
copy of the text track [1] that you want to edit cues on into a
mutableTextTrack [2]. You have the remove and add features on such a
track already, so should have all the features that you need.

[1] <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/the-iframe-element.html#dom-media-addtexttrack">http://www.whatwg.org/specs/web-apps/current-work/multipage/the-iframe-element.html#dom-media-addtexttrack</A>
[2] <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/the-iframe-element.html#mutabletexttrack">http://www.whatwg.org/specs/web-apps/current-work/multipage/the-iframe-element.html#mutabletexttrack</A>

Cheers,
Silvia.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032160.html">[whatwg] TextTrackCueList methods for adding/removing/editing cues
</A></li>
	<LI>Next message: <A HREF="032173.html">[whatwg] Readiness of script-created documents
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74434">[ date ]</a>
              <a href="thread.html#74434">[ thread ]</a>
              <a href="subject.html#74434">[ subject ]</a>
              <a href="author.html#74434">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
