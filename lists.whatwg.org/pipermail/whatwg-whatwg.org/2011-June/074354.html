<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] getSelection().modify() in vertical writing modes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20getSelection%28%29.modify%28%29%20in%20vertical%20writing%20modes&In-Reply-To=%3C0F4A7582-8005-433C-A980-954B37EFBC66%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="074353.html">
   <LINK REL="Next"  HREF="074355.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] getSelection().modify() in vertical writing modes</H1>
<!--htdig_noindex-->
    <B>Justin Garcia</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20getSelection%28%29.modify%28%29%20in%20vertical%20writing%20modes&In-Reply-To=%3C0F4A7582-8005-433C-A980-954B37EFBC66%40apple.com%3E"
       TITLE="[whatwg] getSelection().modify() in vertical writing modes">justin.garcia at apple.com
       </A><BR>
    <I>Wed Jun 15 17:50:43 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="074353.html">[whatwg] getSelection().modify() in vertical writing modes
</A></li>
        <LI>Next message: <A HREF="074355.html">[whatwg] getSelection().modify() in vertical writing modes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74354">[ date ]</a>
              <a href="thread.html#74354">[ thread ]</a>
              <a href="subject.html#74354">[ subject ]</a>
              <a href="author.html#74354">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Jun 15, 2011, at 4:14 PM, Ryosuke Niwa wrote:

&gt;<i> WebKit would like to support visual caret movements in vertical writing modes [1].  How should getSelection().modify() support this new behavior?  In particular, what getSelection().modify('move'/'extend', 'left'/'right', 'character') should do?
</I>&gt;<i> 
</I>&gt;<i> One possibility is that getSelection().modify('move'/'extend', 'left'/'right', 'character') will move caret visually left or right, thereby moving between lines in vertical writing mode.  This way, the semantics of moving left and right is preserved.  However, the semantics of moving by 'character' is lost.  In this case, getSelection().modify('move'/'extend', 'left'/'right', 'line') should move caret visually up or down (moving one character at a time).
</I>&gt;<i> 
</I>&gt;<i> Now, in horizontal writing modes, 'left' and 'right' are used to move caret in visual order (in the sense of bidirectional text) and 'forward' and 'backward' are used to move in logical order.  However, swapping the meaning of 'character' and 'line' for 'forward' and 'backward' is quite confusing as they used to walk DOM in logical order, and didn't depend on how characters are presented.
</I>&gt;<i> 
</I>&gt;<i> On the other hand, if we left modify() intact - i.e. getSelection().modify('move'/'extend', 'left'/'right', 'character') move caret in visual order (i.e. visually up or down) in vertical writing mode - then scripts need to manually detect whether the content in which the caret resides is in vertical writing mode or not and change granularity between 'character' and 'line' in order to emulate arrow key movements.
</I>
I think using a Selection object method to emulate arrows keys is strange. 

Why not provide a general way to emulate the arrow keys if we think that's useful&#8211;if the focused area is an editable document, then those events can result in selection changes.

If we need a way to write tests for selection changes in vertical text in the meantime, I think using forward/backward by character/line should be fine.

Justin
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="074353.html">[whatwg] getSelection().modify() in vertical writing modes
</A></li>
	<LI>Next message: <A HREF="074355.html">[whatwg] getSelection().modify() in vertical writing modes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74354">[ date ]</a>
              <a href="thread.html#74354">[ thread ]</a>
              <a href="subject.html#74354">[ subject ]</a>
              <a href="author.html#74354">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
