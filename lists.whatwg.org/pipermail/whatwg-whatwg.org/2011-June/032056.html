<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg]  Selectors within &lt;style scoped&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%20Selectors%20within%20%3Cstyle%20scoped%3E&In-Reply-To=%3CBANLkTik-0n005%2Bsb1TDLaXTbtmgbL4Xbq3o69wqatw1AuN_3uA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="074337.html">
   <LINK REL="Next"  HREF="074330.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg]  Selectors within &lt;style scoped&gt;</H1>
<!--htdig_noindex-->
    <B>Roland Steiner</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%20Selectors%20within%20%3Cstyle%20scoped%3E&In-Reply-To=%3CBANLkTik-0n005%2Bsb1TDLaXTbtmgbL4Xbq3o69wqatw1AuN_3uA%40mail.gmail.com%3E"
       TITLE="[whatwg]  Selectors within &lt;style scoped&gt;">rolandsteiner at google.com
       </A><BR>
    <I>Tue Jun 14 23:40:14 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="074337.html">[whatwg] Time Parsing
</A></li>
        <LI>Next message: <A HREF="074330.html">[whatwg] Selectors within &lt;style scoped&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32056">[ date ]</a>
              <a href="thread.html#32056">[ thread ]</a>
              <a href="subject.html#32056">[ subject ]</a>
              <a href="author.html#32056">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi all,

According to the HMTL5 spec, selectors are not limited to children of the
scoping element (the parent element of &lt;style scoped&gt;). For example:

&lt;div class=&quot;foo&quot;&gt;
    &lt;div&gt;
        &lt;style scoped&gt;
            .foo p { display: none }
        &lt;/style&gt;
        &lt;p&gt;To be or not to be, that is the question.&lt;/p&gt;
    &lt;/div&gt;
&lt;div&gt;

In above snippet, the selector in the scoped stylesheet would match, causing
the &lt;p&gt; element to be hidden. To me, this seems counterintuitive - I
originally would have the scoped stylesheet expected to be matched starting
from the scoping element (the 2nd &lt;div&gt; in above example) downwards, and not
cross the scope boundary.

As far as I can tell, the advantages of allowing the selector to cross the
boundary are:

1.) less change to selection behavior
2.) allow the styling to change depending where the scoping element is
inserted within the document

The disadvantages:

1.) a scoped style may unexpectedly apply, because an arbitrary ancestor of
the scoping element happens to partially match the scoped selector
2.) have to be very careful with using simple HTML tags in scoped selectors,
because of 1.)
3.) also because of 1.) have to be careful about recursive use of style
scopes - either programmatically generated, or in the course of XBL.

Therefore I wonder if limiting scoped selectors to only apply within their
scope wouldn't be a net benefit. IOW, in above example, the selector would
fail, because there is no element of class .foo within the parent of the
&lt;style scope&gt; element.

AFAICT, this change should not adversely affect the main use case for &lt;style
scoped&gt;, syndication. On the contrary, without disadvantage 1.) using
arbitrary outside styles within a scope should even be more robust.

Thoughts?


- Roland
</PRE>



































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="074337.html">[whatwg] Time Parsing
</A></li>
	<LI>Next message: <A HREF="074330.html">[whatwg] Selectors within &lt;style scoped&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32056">[ date ]</a>
              <a href="thread.html#32056">[ thread ]</a>
              <a href="subject.html#32056">[ subject ]</a>
              <a href="author.html#32056">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
