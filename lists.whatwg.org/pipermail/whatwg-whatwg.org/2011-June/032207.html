<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Enhancement request: change EventSource to allow cross-domain access
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Enhancement%20request%3A%20change%20EventSource%20to%20allow%0A%20cross-domain%20access&In-Reply-To=%3C4E00A5C1.5050002%40ericsson.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032184.html">
   <LINK REL="Next"  HREF="032186.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Enhancement request: change EventSource to allow cross-domain access</H1>
<!--htdig_noindex-->
    <B>Per-Erik Brodin</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Enhancement%20request%3A%20change%20EventSource%20to%20allow%0A%20cross-domain%20access&In-Reply-To=%3C4E00A5C1.5050002%40ericsson.com%3E"
       TITLE="[whatwg] Enhancement request: change EventSource to allow cross-domain access">per-erik.brodin at ericsson.com
       </A><BR>
    <I>Tue Jun 21 07:08:01 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="032184.html">[whatwg] Enhancement request: change EventSource to allow cross-domain access
</A></li>
        <LI>Next message: <A HREF="032186.html">[whatwg] Enhancement request: change EventSource to allow cross-domain access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32207">[ date ]</a>
              <a href="thread.html#32207">[ thread ]</a>
              <a href="subject.html#32207">[ subject ]</a>
              <a href="author.html#32207">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 2011-06-20 21:28, Jonas Sicking wrote:
&gt;<i> On Mon, Jun 20, 2011 at 7:13 AM, Per-Erik Brodin
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">per-erik.brodin at ericsson.com</A>&gt;  wrote:
</I>&gt;&gt;<i> On 2011-06-20 12:53, Jonas Sicking wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Headers that the implementation adds doesn't need to be added to this
</I>&gt;&gt;&gt;<i> list. For example the &quot;Host&quot; header is set by the browser in almost
</I>&gt;&gt;&gt;<i> all situations, but it does not need to be added to the list of
</I>&gt;&gt;&gt;<i> &quot;simple headers&quot;. Indeed, adding in there would an out right bad idea.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> So I'm not convinced that the Last-Event-ID header needs to be in the
</I>&gt;&gt;&gt;<i> list.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Only &quot;custom request headers&quot; are matched against the list of &quot;simple
</I>&gt;&gt;<i> headers&quot; and &quot;Host&quot; is not a custom header set by the EventSource
</I>&gt;&gt;<i> implementation, hence there is no need to add it to the list.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In XHR Level 2 the custom request headers are the &quot;author request headers&quot;.
</I>&gt;&gt;<i> An option would be to always match the list of simple headers against author
</I>&gt;&gt;<i> request headers only.
</I>&gt;<i>
</I>&gt;<i> It seems like you are saying exactly what I was saying? Am I missing something?
</I>
What I am saying is that currently CORS defines &quot;custom request headers&quot; 
and that can be interpreted as all headers that are set by the API 
implementations (such as &quot;Last-Event-ID&quot; set by EventSource but not 
including the headers normally set by the HTTP loader, such as &quot;Host&quot;), 
regardless if they are author supplied or not. Since this has the 
downside that all new specifications that want to use CORS will have to 
rely on the CORS spec being updated if any new custom headers are going 
to be used, I agree with your proposal to match only author supplied 
headers against the list of simple headers.

//Per-Erik

</PRE>




<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032184.html">[whatwg] Enhancement request: change EventSource to allow cross-domain access
</A></li>
	<LI>Next message: <A HREF="032186.html">[whatwg] Enhancement request: change EventSource to allow cross-domain access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32207">[ date ]</a>
              <a href="thread.html#32207">[ thread ]</a>
              <a href="subject.html#32207">[ subject ]</a>
              <a href="author.html#32207">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
