<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;canvas&gt; drawing with singular transforms and	zero-sized gradients
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Ccanvas%3E%20drawing%20with%20singular%20transforms%20and%0A%09zero-sized%20gradients&In-Reply-To=%3CBANLkTikCzuBcFjuUE_84tAVGgwFU6etnuQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032233.html">
   <LINK REL="Next"  HREF="032237.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;canvas&gt; drawing with singular transforms and	zero-sized gradients</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Ccanvas%3E%20drawing%20with%20singular%20transforms%20and%0A%09zero-sized%20gradients&In-Reply-To=%3CBANLkTikCzuBcFjuUE_84tAVGgwFU6etnuQ%40mail.gmail.com%3E"
       TITLE="[whatwg] &lt;canvas&gt; drawing with singular transforms and	zero-sized gradients">robert at ocallahan.org
       </A><BR>
    <I>Fri Jun 24 19:52:00 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="032233.html">[whatwg] &lt;canvas&gt; drawing with singular transforms and	zero-sized gradients
</A></li>
        <LI>Next message: <A HREF="032237.html">[whatwg] &lt;canvas&gt; drawing with singular transforms and	zero-sized gradients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32234">[ date ]</a>
              <a href="thread.html#32234">[ thread ]</a>
              <a href="subject.html#32234">[ subject ]</a>
              <a href="author.html#32234">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, Jun 25, 2011 at 5:38 AM, Aryeh Gregor &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">Simetrical+w3c at gmail.com</A>&gt;wrote:

&gt;<i> I'm not familiar enough with the canvas API to have an informed
</I>&gt;<i> opinion on what should happen here, but mathematically it makes sense
</I>&gt;<i> to me that nothing should be drawn ever if the transform matrix is
</I>&gt;<i> singular.  Everything will be collapsed to line or point in that case,
</I>&gt;<i> with zero width, so it's invisible.  Even if it's just a solid color,
</I>&gt;<i> conceptually you're collapsing the whole color-filled *plane* into
</I>&gt;<i> something with zero width, so it should still be invisible.
</I>&gt;<i>
</I>
That's true if you call fillRect(), or fill() on a path that you've emitted
while the current matrix is singular; the rectangle or path collapses to a
single point (or line). I think it's completely clear browsers should draw
nothing in those cases.

However, my testcase emits a path while the matrix is non-singular, so the
canvas-space path is definitely not collapsed to a point or line, then makes
the matrix singular just for the fill operation. The question is then how
the singular matrix affects the way the source color, gradient or pattern
fills a non-empty path.

Rob
-- 
&quot;If we claim to be without sin, we deceive ourselves and the truth is not in
us. If we confess our sins, he is faithful and just and will forgive us our
sins and purify us from all unrighteousness. If we claim we have not sinned,
we make him out to be a liar and his word is not in us.&quot; [1 John 1:8-10]
</PRE>
























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032233.html">[whatwg] &lt;canvas&gt; drawing with singular transforms and	zero-sized gradients
</A></li>
	<LI>Next message: <A HREF="032237.html">[whatwg] &lt;canvas&gt; drawing with singular transforms and	zero-sized gradients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32234">[ date ]</a>
              <a href="thread.html#32234">[ thread ]</a>
              <a href="subject.html#32234">[ subject ]</a>
              <a href="author.html#32234">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
