<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;canvas&gt; drawing with singular transforms and	zero-sized gradients
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Ccanvas%3E%20drawing%20with%20singular%20transforms%20and%0A%09zero-sized%20gradients&In-Reply-To=%3CBANLkTinMmEPxdzQnza%2BjcnJwVpP8RXkQ8A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032230.html">
   <LINK REL="Next"  HREF="032234.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;canvas&gt; drawing with singular transforms and	zero-sized gradients</H1>
<!--htdig_noindex-->
    <B>Aryeh Gregor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Ccanvas%3E%20drawing%20with%20singular%20transforms%20and%0A%09zero-sized%20gradients&In-Reply-To=%3CBANLkTinMmEPxdzQnza%2BjcnJwVpP8RXkQ8A%40mail.gmail.com%3E"
       TITLE="[whatwg] &lt;canvas&gt; drawing with singular transforms and	zero-sized gradients">Simetrical+w3c at gmail.com
       </A><BR>
    <I>Fri Jun 24 10:38:02 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="032230.html">[whatwg] &lt;canvas&gt; drawing with singular transforms and	zero-sized gradients
</A></li>
        <LI>Next message: <A HREF="032234.html">[whatwg] &lt;canvas&gt; drawing with singular transforms and	zero-sized gradients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32233">[ date ]</a>
              <a href="thread.html#32233">[ thread ]</a>
              <a href="subject.html#32233">[ subject ]</a>
              <a href="author.html#32233">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Jun 24, 2011 at 1:09 AM, Robert O'Callahan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt; wrote:
&gt;<i> Consider this testcase:
</I>&gt;<i> <A HREF="http://people.mozilla.org/~roc/SingularCanvasMatrix.html">http://people.mozilla.org/~roc/SingularCanvasMatrix.html</A>
</I>&gt;<i> It sets up a rectangle to fill, then sets the current matrix to a singular
</I>&gt;<i> matrix (yy=0 in this case), then fills with different fillStyles. It's not
</I>&gt;<i> clear from the spec how this is supposed to behave, and there's not much
</I>&gt;<i> interop:
</I>
There's an existing bug: <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=12705">http://www.w3.org/Bugs/Public/show_bug.cgi?id=12705</A>

I'm not familiar enough with the canvas API to have an informed
opinion on what should happen here, but mathematically it makes sense
to me that nothing should be drawn ever if the transform matrix is
singular.  Everything will be collapsed to line or point in that case,
with zero width, so it's invisible.  Even if it's just a solid color,
conceptually you're collapsing the whole color-filled *plane* into
something with zero width, so it should still be invisible.

If you define different behavior for solid colors or gradients,
doesn't that mean that they'll behave differently from if you used an
image that looked exactly the same?  That seems bad.
</PRE>























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032230.html">[whatwg] &lt;canvas&gt; drawing with singular transforms and	zero-sized gradients
</A></li>
	<LI>Next message: <A HREF="032234.html">[whatwg] &lt;canvas&gt; drawing with singular transforms and	zero-sized gradients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32233">[ date ]</a>
              <a href="thread.html#32233">[ thread ]</a>
              <a href="subject.html#32233">[ subject ]</a>
              <a href="author.html#32233">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
