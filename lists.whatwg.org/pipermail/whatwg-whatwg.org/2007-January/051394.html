<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Comparison of XForms-Tiny and WF2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Comparison%20of%20XForms-Tiny%20and%20WF2&In-Reply-To=%3C45AEF013.5070908%40earthlink.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051387.html">
   <LINK REL="Next"  HREF="051395.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Comparison of XForms-Tiny and WF2</H1>
<!--htdig_noindex-->
    <B>Matthew Raymond</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Comparison%20of%20XForms-Tiny%20and%20WF2&In-Reply-To=%3C45AEF013.5070908%40earthlink.net%3E"
       TITLE="[whatwg] Comparison of XForms-Tiny and WF2">mattraymond at earthlink.net
       </A><BR>
    <I>Wed Jan 17 19:57:07 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="051387.html">[whatwg] Requesting information about the use of explicit new lines	in title attributes.
</A></li>
        <LI>Next message: <A HREF="051395.html">[whatwg] Comparison of XForms-Tiny and WF2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51394">[ date ]</a>
              <a href="thread.html#51394">[ thread ]</a>
              <a href="subject.html#51394">[ subject ]</a>
              <a href="author.html#51394">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Dave Raggett wrote:
&gt;<i> Dean Jackson suggested I write up a brief comparison of XForms-Tiny 
</I>&gt;<i> and WebForms 2.0. You can find this on the Forms wiki at:
</I>&gt;<i> 
</I>&gt;<i>        <A HREF="http://www.w3.org/MarkUp/Forms/wiki/XForms-Tiny">http://www.w3.org/MarkUp/Forms/wiki/XForms-Tiny</A>
</I>&gt;<i> 
</I>&gt;<i> WF2 and XForms-Tiny both involve incremental extensions to HTML 
</I>&gt;<i> forms as defined in HTML4 and DOM2 HTML. XForms-Tiny includes a much 
</I>&gt;<i> richer range of features[...]
</I>
   Are you referring to HTML Web Forms or WF2?

&gt;<i> [...] that greatly reduce the need for page 
</I>&gt;<i> specific scripting compared with WF2.
</I>
   I disagree. The scripting in WF2 that would be needed to support the
same features as XForms-Tiny (XFT) isn't significant. The benefits of
XFT are mostly ease-of-use and the fact that native support won't
require Javascript to be enabled. More on this later.

&gt;<i> This will effect the relative 
</I>&gt;<i> cost of developing form-based applications with the two proposals 
</I>&gt;<i> since Web page scripts are prone to bugs and these are expensive to 
</I>&gt;<i> iron out.
</I>
   This is misleading. In most cases, the same functionality in WF2 can
be replicated by a single line of scripting.

&gt;<i> XForms-Tiny is also much easier when it comes to repeated 
</I>&gt;<i> groups of controls, avoiding WF2's tight coupling to HTML tables. 
</I>
   There is no such tight coupling with tables. You're using
non-normative examples as the basis for this conclusion. In reality, the
WF2 repetition model is far more flexible and has a greater range of
features. I would point out that your own repetition model appears to
only support repetition in &lt;fieldset&gt; elements.

&gt;<i> This is important for device independent markup and the experience 
</I>&gt;<i> offered to users on mobile devices.
</I>
   Note that &lt;fieldset&gt; repetition is possible with WF2, so your
argument here isn't valid. Besides, WF2 was implemented on Opera, and
they're a major distributor of web browsers for small devices.

&gt;<i> WF2's output element also raises challenges for 
</I>&gt;<i> implementation on existing browsers.
</I>
   The &lt;output&gt; element is inline, and its contents are strictly for
fallback. Browsers that don't support it will just render the fallback.
Aside from a few CSS issues with obvious workarounds, this isn't an issue.

&gt;<i> The rich declarative features of XForms-Tiny lend themselves to 
</I>&gt;<i> exporting the XForms model and constraints for use in server-side 
</I>&gt;<i> data validation. In principle, XForms-Tiny could also be used to 
</I>&gt;<i> submit structured form data as XML, although this has not been 
</I>&gt;<i> implemented as yet.
</I>
   How would this compare to the multiple encoding methods available in
WF2? Specifically, application/x-www-form+xml.

   <A HREF="http://whatwg.org/specs/web-forms/current-work/#form-submission">http://whatwg.org/specs/web-forms/current-work/#form-submission</A>

&gt;<i> I strongly recommend you try out the examples on the XForms-Tiny testbed:
</I>&gt;<i> 
</I>&gt;<i>     <A HREF="http://www.w3.org/2006/11/XForms-Tiny/">http://www.w3.org/2006/11/XForms-Tiny/</A>
</I>&gt;<i> 
</I>&gt;<i> The WebForms 2.0 submission can be found at:
</I>&gt;<i> 
</I>&gt;<i>     <A HREF="http://www.w3.org/TR/web-forms-2/">http://www.w3.org/TR/web-forms-2/</A>
</I>
   Let's do a comparison using the XFT Testbed.

<A HREF="http://www.w3.org/2006/11/XForms-Tiny/">http://www.w3.org/2006/11/XForms-Tiny/</A>

=== Data types, e.g. number and date ====

   WF2 has the types &quot;number&quot; and &quot;date&quot;.

=== Constraining field values with regular expressions ===

   WF2 supports patterns via the |pattern| attribute.

=== Calculated fields using spreadsheet-like formulas ===

   Here is the element that calculates a value in the testbed example:

|<i> &lt;input id=&quot;f3&quot; name=&quot;sum&quot; calculate=&quot;x+y&quot; datatype=&quot;number&quot;
</I>|<i> readonly=&quot;readonly&quot;/&gt;
</I>
   This is the equivalent in WF2:

|<i> &lt;output id=&quot;f3&quot; name=&quot;sum&quot;
</I>|<i> onforminput=&quot;value = (+x.value) + (+y.value)&quot;&gt;0&lt;/output&gt;
</I>
   The &lt;output&gt; element has several advantages:

1) The control is never successful for form submission. Since all data
sent to the server needs to be validated for security purposes, you'd
have to redo the calculation server-side anyway, so submitting
calculations like these only serves to encourage web authors not to
validate the calculated value on the server. By contrast, &lt;input
readonly&gt; can be successful as defined in HTML 4.01.

2) Using &lt;input&gt; elements for elements that should never receive user
input directly or submit content is an abuse of the semantics of
&lt;input&gt;. By contrast, the semantics of &lt;output&gt; are specially tailored
for the purpose of calculated values.

3) On some web browsers, native widgets are used for &lt;input&gt; elements.
As a result, CSS may not be able to fully style &lt;input&gt; elements. On the
other hand, web browsers can style &lt;output&gt; in a manner similar to a &lt;span&gt;.

=== Min and max values ===

   These attributes are supported in WF2.

=== Range controls ===

   WF2 supports the &quot;range&quot; type and the |step| attribute.

=== Validation expressions ===

XFT:
|<i> &lt;input id=&quot;f2&quot; name=&quot;y&quot; datatype=&quot;number&quot; constraint=&quot;y &gt; x&quot;/&gt;
</I>
WF2:
|<i> &lt;input id=&quot;f2&quot; name=&quot;y&quot; type=&quot;number&quot; onchange=
</I>|<i> &quot;if (!(+value &gt; +x.value)) {setCustomValidity(&quot;foo&quot;);return false;}&quot;&gt;
</I>
=== Required fields ===

XFT:
|<i> &lt;input id=&quot;f2&quot; name=&quot;y&quot; type=&quot;text&quot; needed=&quot;x != ''&quot;/&gt;
</I>
WF2:
|<i> &lt;input id=&quot;f2&quot; name=&quot;y&quot; type=&quot;text&quot;
</I>|<i> onformchange=&quot;required=(x.value != '')&quot; &gt;
</I>
=== Relevant groups of fields ===

XFT:
|<i> &lt;input id=&quot;f2&quot; name=&quot;y&quot; datatype=&quot;number&quot; relevant=&quot;x &lt; 4&quot;/&gt;
</I>
WF2:
|<i> &lt;input id=&quot;f2&quot; name=&quot;y&quot; datatype=&quot;number&quot;
</I>|<i> onformchange=&quot;disabled=!(+x.value &lt; 4)&quot;&gt;
</I>
=== Repeating fieldsets ===

XFT:
|<i> &lt;fieldset name=&quot;lineItem&quot; repeat-number=&quot;4&quot;&gt;
</I>|<i> &lt;legend&gt;Repeating groups of fields&lt;/legend&gt;
</I>|<i> &lt;label for=&quot;item&quot;&gt;Product Name&lt;/label&gt;
</I>|<i> &lt;label for=&quot;quantity&quot;&gt;Number Purchased&lt;/label&gt;
</I>|<i> &lt;label for=&quot;unitprice&quot;&gt;Price Per Unit&lt;/label&gt;
</I>|<i> &lt;input name=&quot;item&quot; datatype=&quot;text&quot; title=&quot;product name&quot;/&gt;
</I>|<i> &lt;input name=&quot;quantity&quot; datatype=&quot;number&quot; title=&quot;number purchased&quot;/&gt;
</I>|<i> &lt;input name=&quot;unitprice&quot; datatype=&quot;number&quot; title=&quot;price per unit&quot;/&gt;
</I>|<i> &lt;/fieldset&gt;
</I>
   Note in the above, you have labels associated with multiple controls,
which isn't possible in HTML 4.01. Also, one would expect the labels to
pass focus if activated, but which &lt;input&gt; in the column would it pass
focus to?

   WF2 can duplicate this example with the added benefit of having a
label for each control:

|<i> &lt;fieldset&gt;
</I>|<i>   &lt;legend&gt;Repeating groups of fields&lt;/legend&gt;
</I>|<i>   &lt;p id=&quot;order&quot; repeat=&quot;template&quot; repeat-start=&quot;4&quot;&gt;
</I>|<i>     &lt;label&gt;
</I>|<i>       Product Name
</I>|<i>       &lt;input name=&quot;row[order].item&quot; type=&quot;text&quot;&gt;
</I>|<i>     &lt;/label&gt;
</I>|<i>     &lt;label for=&quot;quantity&quot;&gt;
</I>|<i>       Number Purchased
</I>|<i>       &lt;input name=&quot;row[order].quantity&quot; type=&quot;number&quot;&gt;
</I>|<i>     &lt;/label&gt;
</I>|<i>     &lt;label for=&quot;unitprice&quot;&gt;
</I>|<i>       Price Per Unit
</I>|<i>       &lt;input name=&quot;row[order].unitprice&quot; type=&quot;number&quot;&gt;
</I>|<i>     &lt;/label&gt;
</I>|<i>   &lt;/p&gt;
</I>|<i> &lt;/fieldset&gt;
</I>
   Alternatively, you could consider this input tabular, so you could
use a table with column headers:

|<i> &lt;table&gt;
</I>|<i>   &lt;thead&gt;
</I>|<i>     &lt;tr&gt;
</I>|<i>       &lt;th&gt;Product Name&lt;/th&gt;
</I>|<i>       &lt;th&gt;Number Purchased&lt;/th&gt;
</I>|<i>       &lt;th&gt;Price Per Unit&lt;/th&gt;
</I>|<i>     &lt;/tr&gt;
</I>|<i>   &lt;/thead&gt;
</I>|<i>   &lt;tbody&gt;
</I>|<i>     &lt;tr id=&quot;order&quot; repeat=&quot;template&quot; repeat-start=&quot;4&quot;&gt;
</I>|<i>       &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;row[order].item&quot;&gt;&lt;/td&gt;
</I>|<i>       &lt;td&gt;&lt;input type=&quot;number&quot; name=&quot;row[order].quantity&quot;&gt;&lt;/td&gt;
</I>|<i>       &lt;td&gt;&lt;input type=&quot;number&quot; name=&quot;row[order].unitprice&quot;&gt;&lt;/td&gt;
</I>|<i>     &lt;/tr&gt;
</I>|<i>   &lt;/tbody&gt;
</I>|<i> &lt;/table&gt;
</I>
=== Initializing fieldsets ===

   Web Forms 2.0 not only supports adding, deleting and moving rows, but
also supports initialization of both specific rows and rows that are
generated on the client by the repetition model.

   By contrast, XForms-Lite only supports initialization of the
beginning rows, and doesn't yet support the addition, deletion and
moving of rows at all. It may be a simpler repetition model, but only
because it lacks power and flexibility.

=== Using radio buttons to determine relevancy ===

XFT:
|<i> &lt;input id=&quot;maiden&quot; name=&quot;maiden&quot;
</I>|<i> relevant=&quot;gender=='female' &amp;&amp; married&quot;/&gt;
</I>
WF2:
|<i> &lt;input id=&quot;maiden&quot; name=&quot;maiden&quot;
</I>|<i> onformchange=&quot;disabled=form1.namedItem('female')!='female' ||
</I>|<i> married.value!='married')&quot;/&gt;
</I>
   The WF2 version is definitely not ideal, though it may be an issue of
my limited knowledge of Javascript...

=== Calculations involving selection fields ===

   This particular example just seems to be a retread of previous examples.

=== Calculations involving checkboxes ===

XFT:
|<i> &lt;input name=&quot;total&quot; readonly=&quot;readonly&quot;
</I>|<i> calculate=&quot;crustPrice(size)+toppingPrice(size)*count(toppings)&quot;/&gt;
</I>
   This is actually more difficult to do with scripting. Guess I'll have
to use the Selectors API...

WF2:
|<i> &lt;input name=&quot;total&quot; readonly onformchange=
</I>|<i> &quot;var size=+(document.matchSingle('input[name=size]:selected').value);
</I>|<i> var toppings=
</I>|<i> document.matchAll('.toppings input[type=checkbox]:selected').length;
</I>|<i> value=crustPrice(size)+toppingPrice(size)*count(toppings)&quot;&gt;
</I>
   Not as compact, but it's manageable.

=== Referring to fields within named fieldsets ===

   I don't really understand the point of this example. The fallback is
suboptimal because values for the |name| attribute are reused in the
same form. Furthermore, the user knows where the package is going
because they just filled out the address. Also, you could have just had
&quot;fieldsetname.city&quot; in the |name| attributes, which would have preserved
fallback while at the same time allowing you to use the same value for
|<i>calculate|.
</I>
=== Editable selection lists (combo boxes) ===

XFT:
|<i> &lt;select name=&quot;fruit&quot; id=&quot;f1&quot; editable=&quot;12&quot;&gt;
</I>|<i>   &lt;option&gt;apples&lt;/option&gt;
</I>|<i>   &lt;option&gt;pears&lt;/option&gt;
</I>|<i>   &lt;option&gt;bananas&lt;/option&gt;
</I>|<i>   &lt;option&gt;pineapple&lt;/option&gt;
</I>|<i> &lt;/select&gt;
</I>
WF2:
|<i> &lt;input name=&quot;fruit&quot; id=&quot;f1&quot; type=&quot;text&quot; value=&quot;12&quot; list=&quot;f2&quot;&gt;
</I>|<i> &lt;datalist id=&quot;f2&quot;&gt;
</I>|<i>   Or select from the list:
</I>|<i>   &lt;select name=&quot;fruit&quot;&gt;
</I>|<i>     &lt;option&gt;apples&lt;/option&gt;
</I>|<i>     &lt;option&gt;pears&lt;/option&gt;
</I>|<i>     &lt;option&gt;bananas&lt;/option&gt;
</I>|<i>     &lt;option&gt;pineapple&lt;/option&gt;
</I>|<i>   &lt;/select&gt;
</I>|<i> &lt;/datalist&gt;
</I>
   Note above that &lt;datalist&gt; allows the markup to degrade in such a way
that you still have the choice of using text input or a list. However,
the fallback is optional:

|<i> &lt;input name=&quot;fruit&quot; id=&quot;f1&quot; type=&quot;text&quot; value=&quot;12&quot; list=&quot;f2&quot;&gt;
</I>|<i> &lt;datalist id=&quot;f2&quot;&gt;
</I>|<i>   &lt;option label=&quot;apples&quot;&gt;&lt;/option&gt;
</I>|<i>   &lt;option label=&quot;pears&quot;&gt;&lt;/option&gt;
</I>|<i>   &lt;option label=&quot;bananas&quot;&gt;&lt;/option&gt;
</I>|<i>   &lt;option label=&quot;pineapple&quot;&gt;&lt;/option&gt;
</I>|<i> &lt;/datalist&gt;
</I>
   Also, you can use the |data| attribute to prefill the &lt;datalist&gt; from
an XML file.

   I'm going to skip the rest of the sections.

FINAL THOUGHTS:

1) DOM support for HTML Forms definitely needs to be improved to make
certain tasks easier. (I suspect such improvements will be needed
regardless of whether XForms-Tiny prevails against WF2.)

2) The best part of XForms-Tiny is that it give people the ability to
write complex formulas in a simple, easy to understand format. I would
suggest you submit your ideas on simple formulas in various attributes
for inclusion in the next iteration of Web Forms (Web Forms 3.0).
However, as I demonstrated above, the simple formulas used above do not
require significant scripting, and are therefore not a sufficient reason
to delay Web Forms 2.0.

3) XFT has a few nice features (like the formulas), but it's mostly
redundant when compared to WF2 and in many cases is far more limited in
its capabilities and fallback.

4) By the way, there is a pure Javascript implementation of the WF2
repetition model. Check out the following link:

<A HREF="http://weston.ruter.net/projects/repetition-model/">http://weston.ruter.net/projects/repetition-model/</A>

   The Solar System example shows the WF2 repetition model being used
without tables.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051387.html">[whatwg] Requesting information about the use of explicit new lines	in title attributes.
</A></li>
	<LI>Next message: <A HREF="051395.html">[whatwg] Comparison of XForms-Tiny and WF2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51394">[ date ]</a>
              <a href="thread.html#51394">[ thread ]</a>
              <a href="subject.html#51394">[ subject ]</a>
              <a href="author.html#51394">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
