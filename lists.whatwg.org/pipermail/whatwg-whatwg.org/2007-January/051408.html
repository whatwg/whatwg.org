<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Pre element question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Pre%20element%20question&In-Reply-To=%3C45B15447.4080701%40intertwingly.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051407.html">
   <LINK REL="Next"  HREF="051409.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Pre element question</H1>
<!--htdig_noindex-->
    <B>Sam Ruby</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Pre%20element%20question&In-Reply-To=%3C45B15447.4080701%40intertwingly.net%3E"
       TITLE="[whatwg] Pre element question">rubys at intertwingly.net
       </A><BR>
    <I>Fri Jan 19 15:29:11 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="051407.html">[whatwg] contentEditable DOM attribute -&gt; boolean?
</A></li>
        <LI>Next message: <A HREF="051409.html">[whatwg] Pre element question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51408">[ date ]</a>
              <a href="thread.html#51408">[ thread ]</a>
              <a href="subject.html#51408">[ subject ]</a>
              <a href="author.html#51408">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I've been running with html5lib as a sanitizer for syndication feeds now 
for several days, and things mostly look quite good, but I noticed one 
oddity.  People often code things like the following:

&lt;pre&gt;
one
two
three
&lt;/pre&gt;

Visually, this ends up looking something like

+-------+
|<i>       |
</I>|<i> one   |
</I>|<i> two   |
</I>|<i> three |
</I>+-------+

with the following CSS rule:

pre { border: solid 1px #000; }

Going back to the original page I see no extra blank line at the top of 
th preformatted text.  Investigating further, Firefox indicates that 
that page is displayed in &quot;Quirks mode&quot;.

Based on a quick scan of the references[1], I can find obvious wrong 
with Firefox's &quot;standards mode&quot; interpretation of this input.  Which in 
my mind turns this into a standards question, namely will this behavior 
inhibit the adoption of HTML5?

As one possible alternative, the parsing rules for HTML5 could specify 
any  whitespace following a &lt;pre&gt; tag up to, and including, the first 
newline are to be ignored (or alternatively, hoisted outside of the 
&lt;pre&gt; to become a preceding sibling DOM element).  Those that wish to 
retain the visual appearance of a blank line would be encouraged to 
insert a &lt;samp&gt; or &lt;code&gt; tag.

This would potentially penalize the set of those who (a) are currently 
triggering a standards mode interpretation, (b) are NOT including a 
&lt;code&gt; or &lt;samp&gt; tag, and (C) actually wish for an initial blank line to 
be present.

I'm not sure what is right -- other than the desire to reduce 
impediments / excuses for people indicating that their documents are 
intended to be interpreted as standards compliant HTML5.

- Sam Ruby

[1] References:

<A HREF="http://www.whatwg.org/specs/web-apps/current-work/#the-pre">http://www.whatwg.org/specs/web-apps/current-work/#the-pre</A>
<A HREF="http://www.w3.org/TR/CSS21/text.html#white-space-prop">http://www.w3.org/TR/CSS21/text.html#white-space-prop</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051407.html">[whatwg] contentEditable DOM attribute -&gt; boolean?
</A></li>
	<LI>Next message: <A HREF="051409.html">[whatwg] Pre element question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51408">[ date ]</a>
              <a href="thread.html#51408">[ thread ]</a>
              <a href="subject.html#51408">[ subject ]</a>
              <a href="author.html#51408">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
