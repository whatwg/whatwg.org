<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Entity parsing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Entity%20parsing&In-Reply-To=%3CE1I2zGR-000Q0s-VS%40node1-6.ouvaton.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054268.html">
   <LINK REL="Next"  HREF="054284.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Entity parsing</H1>
<!--htdig_noindex-->
    <B>&#216;istein E. Andersen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Entity%20parsing&In-Reply-To=%3CE1I2zGR-000Q0s-VS%40node1-6.ouvaton.local%3E"
       TITLE="[whatwg] Entity parsing">html5 at xn--istein-9xa.com
       </A><BR>
    <I>Mon Jun 25 17:50:39 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="054268.html">[whatwg] Entity parsing
</A></li>
        <LI>Next message: <A HREF="054284.html">[whatwg] Entity parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54283">[ date ]</a>
              <a href="thread.html#54283">[ thread ]</a>
              <a href="subject.html#54283">[ subject ]</a>
              <a href="author.html#54283">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 25 Jun 2007, at 8:28AM, Ian Hickson wrote:

&gt;<i> On Sun, 24 Jun 2007, &#216;istein E. Andersen wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> HTML5 currently follows IE7 much more closely than Safari, 
</I>&gt;&gt;<i>Firefox and Opera do, which seems to suggest that some of the quirks 
</I>&gt;&gt;<i>could be dispensed with.
</I>&gt;<i>
</I>&gt;<i> It's possible, though people kept pointing out problems, which is how we 
</I>&gt;<i> ended up where we are now.
</I>
I have probably missed parts of this discussion, but most of the arguments
I have seen seem to rely on the assumption that whatever IE does is more
compatible with the Web as it is, which is probably a good approximation,
but replicating each single detail is not necessarily the best thing to do.

&gt;<i> Calling SGML &quot;sensible&quot; is a slippery slope! :-)
</I>
Sure, I did not mean to imply that all aspects of SGML are sensible :-)

(Bad connotations aside, SGML&#8217;s rules for optional semicolons
happen to be less contrived than IE&#8217;s.)

&gt;&gt;<i> [It might be a good idea to accept a missing semicolon at the end of words.]
</I>&gt;<i>
</I>&gt;<i> Well, we'd have to prove this somehow with real research.
</I>
Yes, research is really missing here.

Whatever we do, some pages will break, and it is not a priori impossible
that a compromise of IE and SGML rules may be less quirky and more
compatible with existing content at the same time.

I am unable to do a proper corpus study on this, but the following
examples suggest that following IE blindly may not be optimal.
All markup is extracted from real Web pages, and the author&#8217;s intent
was quite obvious from the context. The numbers in parentheses indicate
the number of pages found using Google.


I] Should be expanded

    1) only SGML expands
            &amp;mdash
                IE (incorrect): &amp;mdash
                SGML (correct): &#8212;

    2) only IE expands
            fianc&amp;eacutee (390), caf&amp;eacutes (1,460), na&amp;iumlve (716)
                IE (correct): fianc&#233;e, caf&#233;s, na&#239;ve
                SGML (incorrect): fianc&amp;eacutee, caf&amp;eacutes, na&amp;iumlve

    3) neither expands
            &amp;oeliguvre (719), c&amp;oeligur (3,720)
                both (incorrect): &amp;oeliguvre, c&amp;oeligur
                intended: &#339;uvre, c&#339;ur

II] Should not be expanded

    1) IE expands
            moral&amp;ethics, roses&amp;thorns
                IE (incorrect): moral&#240;ics, roses&#254;s
                SGML (correct): moral&amp;ethics, roses&amp;thorns

    2) SGML expands
            Alpha&amp;Omega, once&amp;forall
                IE (correct): Alpha&amp;Omega, once&amp;forall
                SGML (incorrect): Alpha&#937;, once&#8704;

    3) both expand
            rose&amp;thorn
                both (incorrect): rose&#254;
                intended: rose&amp;thorn


The examples I have found in category II] are all quite rare, but it is not unlikely
that more common ones exist.

Opera and Google both seem to err on the side of caution by only expanding
entities when both IE and SGML do, i.e., in case II.3) above.

It is also interesting to notice that reasonably common words belonging to class
I.2), which are handled by IE, are apparently no more frequent than words from I.3),
which no (popular) current browser handles correctly.

I am looking forward to seeing more extensive research on this.

-- 
&#216;istein E. Andersen


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054268.html">[whatwg] Entity parsing
</A></li>
	<LI>Next message: <A HREF="054284.html">[whatwg] Entity parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54283">[ date ]</a>
              <a href="thread.html#54283">[ thread ]</a>
              <a href="subject.html#54283">[ subject ]</a>
              <a href="author.html#54283">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
