<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] CR &quot;entities&quot; and LFCR
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20CR%20%22entities%22%20and%20LFCR&In-Reply-To=%3CB62A4524-D4AD-44CC-AA02-EF7EDAB3A026%40iki.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011740.html">
   <LINK REL="Next"  HREF="011927.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] CR &quot;entities&quot; and LFCR</H1>
<!--htdig_noindex-->
    <B>Henri Sivonen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20CR%20%22entities%22%20and%20LFCR&In-Reply-To=%3CB62A4524-D4AD-44CC-AA02-EF7EDAB3A026%40iki.fi%3E"
       TITLE="[whatwg] CR &quot;entities&quot; and LFCR">hsivonen at iki.fi
       </A><BR>
    <I>Fri Jun  8 05:17:31 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="011740.html">[whatwg] CR &quot;entities&quot; and LFCR
</A></li>
        <LI>Next message: <A HREF="011927.html">[whatwg] CR &quot;entities&quot; and LFCR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11703">[ date ]</a>
              <a href="thread.html#11703">[ thread ]</a>
              <a href="subject.html#11703">[ subject ]</a>
              <a href="author.html#11703">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Jun 7, 2007, at 15:00, Anne van Kesteren wrote:

&gt;<i> These should be converted to LF too. One thing that might be  
</I>&gt;<i> interesting to look into is the handling of LFCR in browsers (as  
</I>&gt;<i> opposed to CRLF). I haven't done that yet... Some browsers (just  
</I>&gt;<i> tested Opera) also normalize two newline entities following each  
</I>&gt;<i> other (CRLF pair).
</I>
This requires more code. I haven't analyzed the perf impact, but  
intuitively this requires either na&#239;ve and inefficient buffer  
retraversal in the tree builder or additional complexity to the  
tokenizer's buffer management (assuming the tokenizer is doing  
efficient buffering to begin with).

You can't protect the DOM from getting CRs if someone insists on  
putting them there using JS or XML. Is it worthwhile to prevent  
escaped CRs from ending up in the DOM as CRs in HTML? Is special  
handling required for compat.

I'd try doing exactly what XML does here unless compat requires  
otherwise.

-- 
Henri Sivonen
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at iki.fi</A>
<A HREF="http://hsivonen.iki.fi/">http://hsivonen.iki.fi/</A>



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011740.html">[whatwg] CR &quot;entities&quot; and LFCR
</A></li>
	<LI>Next message: <A HREF="011927.html">[whatwg] CR &quot;entities&quot; and LFCR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11703">[ date ]</a>
              <a href="thread.html#11703">[ thread ]</a>
              <a href="subject.html#11703">[ subject ]</a>
              <a href="author.html#11703">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
