<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Gears design goals
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Gears%20design%20goals&In-Reply-To=%3C11e306600706261626m726d48b9h15d823328711ddbe%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054309.html">
   <LINK REL="Next"  HREF="054358.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Gears design goals</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Gears%20design%20goals&In-Reply-To=%3C11e306600706261626m726d48b9h15d823328711ddbe%40mail.gmail.com%3E"
       TITLE="[whatwg] Gears design goals">robert at ocallahan.org
       </A><BR>
    <I>Tue Jun 26 16:26:50 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="054309.html">[whatwg] Gears design goals
</A></li>
        <LI>Next message: <A HREF="054358.html">[whatwg] Gears design goals
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54318">[ date ]</a>
              <a href="thread.html#54318">[ thread ]</a>
              <a href="subject.html#54318">[ subject ]</a>
              <a href="author.html#54318">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 6/27/07, Aaron Boodman &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">aa at google.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Great! So where do we differ on the implementation of those goals? Is
</I>&gt;<i> there an up-to-date spec I can read?
</I>

<A HREF="http://www.campd.org/stuff/Offline%20Cache.html">http://www.campd.org/stuff/Offline%20Cache.html</A>

Right now I think we're missing just one thing from your list of goals
(excluding the vexatious &quot;multiple resources for one URI&quot; goal): a way to
get consistent updates without relying on JAR files (and hence changing
URIs). As I mentioned earlier, I think we can get that by simply stating
(and implementing!) that updates to all offline-cached resources in a domain
--- that were requested by pages in the same domain ---  occur atomically as
a group, similar to what Gears does. That leaves one issue, which is the
ability to add new resources as part of such an atomic update; to get that,
we probably should add an offline-manifest DOM API or &lt;link&gt; type, which
pulls in a JSON manifest and requests all the resources in it.

&gt;<i> &gt; - One major issue that we found here was that lots of existing
</I>&gt;<i> &gt; &gt; applications serve different resources at the same URI depending on
</I>&gt;<i> &gt; &gt; who is logged in. We could ask these applications to redesign so that
</I>&gt;<i> &gt; &gt; they don't do that, but we would prefer to not have to.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; Understood, but this seems to add substantial complexity to the model.
</I>&gt;<i> &gt; Is it really a big deal to restrict users to one login available
</I>&gt;<i> &gt; offline? A browser can of course support multiple profiles or
</I>&gt;<i> &gt; something similar to address that use case without complicating the
</I>&gt;<i> &gt; development model.
</I>&gt;<i>
</I>&gt;<i> If apps are to be able to transition between online and offline
</I>&gt;<i> seamlessly, that implies that the browser always serves the cached
</I>&gt;<i> version and revalidates in the background, right?
</I>

Yes.

If so, that means apps can't serve different resources at the same
&gt;<i> URL, even when a connection is available, which seems like a big
</I>&gt;<i> constraint.
</I>

Sure they can. The user can only have one active login per browser session
anyway, so the app just swaps in a whole new set of resources when the user
logs in with a different ID.  The only restriction is that when the user's
offline, they'll only be able to use the last ID that they logged in as.

OTOH, I believe that if I were creating a new Gears-enabled app from
&gt;<i> scratch, I would not use requiredCookie. In fact, I didn't for
</I>&gt;<i> Gearpad. There is only one version of Gearpad for all users, and it
</I>&gt;<i> pulls in the required user-specific resources dynamically.
</I>

Let me put the strongest spin on this that I can :-) --- I'm reluctant to
substantially complicate the API for implementors and developers for all
time, just so that some legacy apps can have an easier transition for the
specific case of supporting multiple logins while the user is offline.

Rob
-- 
&quot;Two men owed money to a certain moneylender. One owed him five hundred
denarii, and the other fifty. Neither of them had the money to pay him back,
so he canceled the debts of both. Now which of them will love him more?&quot;
Simon replied, &quot;I suppose the one who had the bigger debt canceled.&quot; &quot;You
have judged correctly,&quot; Jesus said. [Luke 7:41-43]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20070627/9bf9c288/attachment-0001.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20070627/9bf9c288/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054309.html">[whatwg] Gears design goals
</A></li>
	<LI>Next message: <A HREF="054358.html">[whatwg] Gears design goals
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54318">[ date ]</a>
              <a href="thread.html#54318">[ thread ]</a>
              <a href="subject.html#54318">[ subject ]</a>
              <a href="author.html#54318">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
