<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [Imps] reconstruct the active formatting elements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BImps%5D%20reconstruct%20the%20active%20formatting%20elements&In-Reply-To=%3CPine.LNX.4.64.0706190048440.26929%40dhalsim.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054135.html">
   <LINK REL="Next"  HREF="054137.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [Imps] reconstruct the active formatting elements</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5BImps%5D%20reconstruct%20the%20active%20formatting%20elements&In-Reply-To=%3CPine.LNX.4.64.0706190048440.26929%40dhalsim.dreamhost.com%3E"
       TITLE="[whatwg] [Imps] reconstruct the active formatting elements">ian at hixie.ch
       </A><BR>
    <I>Mon Jun 18 17:49:59 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="054135.html">[whatwg] Bug in &quot;Before DOCTYPE name state&quot;?
</A></li>
        <LI>Next message: <A HREF="054137.html">[whatwg] Ampersands not followed by ASCII letters or #
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54136">[ date ]</a>
              <a href="thread.html#54136">[ thread ]</a>
              <a href="subject.html#54136">[ subject ]</a>
              <a href="author.html#54136">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sun, 24 Dec 2006, Anne van Kesteren wrote:
&gt;<i> 
</I>&gt;<i> On Sat, 23 Dec 2006 11:06:33 +0100, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at opera.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; So we pass &quot;&lt;p&gt;&lt;b&gt;&lt;i&gt;&lt;u&gt;&lt;/p&gt;&lt;p&gt;X&quot; but not &lt;p&gt;&lt;b&gt;&lt;i&gt;&lt;u&gt;&lt;/p&gt; &lt;p&gt;X&quot; it seems.
</I>&gt;<i> 
</I>&gt;<i> Found the problem. The &quot;in body&quot; insertion mode says to &quot;reconstruct the 
</I>&gt;<i> active formatting elements&quot; for any character token. That should 
</I>&gt;<i> probably only happen for non space characters. When I made that change I 
</I>&gt;<i> passed the testcase given and didn't regress any other testcase.
</I>&gt;<i> 
</I>&gt;<i> I should note though that Firefox handles a newline differently from a
</I>&gt;<i> space. See:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0A%3Cp%3E%3Cu%3E%3C/p%3E%0A%3Cp%3EX">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0A%3Cp%3E%3Cu%3E%3C/p%3E%0A%3Cp%3EX</A>
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0A%3Cp%3E%3Cu%3E%3C/p%3E%20%3Cp%3EX">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0A%3Cp%3E%3Cu%3E%3C/p%3E%20%3Cp%3EX</A>
</I>&gt;<i> 
</I>&gt;<i> In case of a space it seems the active formatting elements are 
</I>&gt;<i> reconstructed.
</I>
Safari treats them all the same (and does reopen the formatting tags)... 
Given that the algorithm in the spec matches Safari's, and is relatively 
inexpensive when doing aggressive reopening, do we want to just keep 
what's in the spec? Did html5lib have to change for compatibility to 
handle this case or...?

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054135.html">[whatwg] Bug in &quot;Before DOCTYPE name state&quot;?
</A></li>
	<LI>Next message: <A HREF="054137.html">[whatwg] Ampersands not followed by ASCII letters or #
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54136">[ date ]</a>
              <a href="thread.html#54136">[ thread ]</a>
              <a href="subject.html#54136">[ subject ]</a>
              <a href="author.html#54136">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
