<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Entity parsing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Entity%20parsing&In-Reply-To=%3CE1I3grn-000Ell-61%40node1-7.ouvaton.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012068.html">
   <LINK REL="Next"  HREF="012062.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Entity parsing</H1>
<!--htdig_noindex-->
    <B>&#216;istein E. Andersen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Entity%20parsing&In-Reply-To=%3CE1I3grn-000Ell-61%40node1-7.ouvaton.local%3E"
       TITLE="[whatwg] Entity parsing">html5 at xn--istein-9xa.com
       </A><BR>
    <I>Wed Jun 27 16:24:07 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="012068.html">[whatwg] Entity parsing [trema/diaeresis vs umlaut]
</A></li>
        <LI>Next message: <A HREF="012062.html">[whatwg] Entity parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12061">[ date ]</a>
              <a href="thread.html#12061">[ thread ]</a>
              <a href="subject.html#12061">[ subject ]</a>
              <a href="author.html#12061">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 26 Jun 2007, at 4:35AM, Ian Hickson wrote:

&gt;<i> The informal research I did when updating the spec suggests that the 
</I>&gt;<i> current state of the spec is what is better.
</I>
(It is difficult to say anything sensible without knowing either the nature
of the research undertaken or the options under consideration.)

&gt;<i> I don't really know how to do more research
</I>&gt;<i> -- it's quite hard to programatically tell when an entity 
</I>&gt;<i> should be expanded and when it shouldn't.
</I>
True, but this is not completely insurmountable &#8212; or, rather: useful information
can be extracted without necessarily making these decisions explicitly.

I do not know what you have done already, but something like the following
for each entity &amp;ref; would be useful for the discussion:
    &#8212; total number of &quot;&amp;ref&quot;;
    &#8212; number of &quot;&amp;ref;&quot;;
    &#8212; number of &quot;&amp;ref&quot; followed by /[a-zA-Z0-9]/;
    &#8212; the N most frequent matches of /[a-zA-Z0-9]*&amp;ref[a-zA-Z0-9&amp;]+/.

Without any real data, arguing, e.g., that conforming HTML 4.01 documents that are
currently handled correctly by Firefox and Safari must be handled differently
in the future for the sake of backwards compatibility is not really persuasive.


The only argument for following IE that I have been able to find in the archives
is the following in a post from Simon Pieters on 14th Aug 2006 in the thread
&#8220;Parsing Entities&#8221;:

&gt;<i> I guess that for compat with IE and the Web[1] we have to treat
</I>&gt;<i> &quot;R&amp;eacutesum&amp;eacute&quot; as if it were &quot;R&amp;eacute;sum&amp;eacute;&quot;. [...]
</I>&gt;<i> [1] <A HREF="http://www.google.com/search?q=R%26eacutesum%C3%A9">http://www.google.com/search?q=R%26eacutesum%C3%A9</A>
</I>
The implication seems to be that R&amp;eacutesum&amp;eacute can be found on the Web
and therefore should be supported. But Google also tells us something else:

    (1) &quot;r&amp;eacutesum&#233;&quot;: 572
    (2) +r&#233;sum&#233;: 114,000,000
    (3) r&amp;eacute;sum&amp;eacute -&quot;r&amp;eacute;sum&amp;eacute;s&quot;: 16,300
    (4) +&quot;r&#195;&#169;sum&#195;&#169;&quot;: 1,000

Actually, (1) does not only cover r&amp;eacutesum&amp;eacute, but also code like
r&amp;amp;eacutesum&#233;, so the number of occurrences that can be saved
by parser quirks is lower than 572.

As could be expected, (1) is quite rare compared to (2), all the correctly
encoded variants. Whether 0.0005% should be regarded as significant
(supposing that r&#233;sum&#233; is representative) may be a contentious issue, but
it is interesting to note that other errors &#8212; unwanted conversion of &amp; to &amp;amp;
in (3) and a typical encoding problem in (4) &#8212; are actually significantly
more common, and these cannot be corrected at all.

-- 
&#216;istein E. Andersen

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012068.html">[whatwg] Entity parsing [trema/diaeresis vs umlaut]
</A></li>
	<LI>Next message: <A HREF="012062.html">[whatwg] Entity parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12061">[ date ]</a>
              <a href="thread.html#12061">[ thread ]</a>
              <a href="subject.html#12061">[ subject ]</a>
              <a href="author.html#12061">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
