<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] No-DOM HTML
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20No-DOM%20HTML&In-Reply-To=%3C74CF368B-7846-4990-B248-181946E55097%40michelf.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011604.html">
   <LINK REL="Next"  HREF="011603.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] No-DOM HTML</H1>
<!--htdig_noindex-->
    <B>Michel Fortin</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20No-DOM%20HTML&In-Reply-To=%3C74CF368B-7846-4990-B248-181946E55097%40michelf.com%3E"
       TITLE="[whatwg] No-DOM HTML">michel.fortin at michelf.com
       </A><BR>
    <I>Sat Jun  2 05:35:41 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="011604.html">[whatwg] No-DOM HTML
</A></li>
        <LI>Next message: <A HREF="011603.html">[whatwg] Issues concerning the &lt;base&gt; element and xml:base
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11605">[ date ]</a>
              <a href="thread.html#11605">[ thread ]</a>
              <a href="subject.html#11605">[ subject ]</a>
              <a href="author.html#11605">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Le 2007-06-02 &#224; 4:39, Anne van Kesteren a &#233;crit :

&gt;<i> On Wed, 30 May 2007 15:22:39 +0200, Michel Fortin  
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">michel.fortin at michelf.com</A>&gt; wrote:
</I>&gt;&gt;<i> 3) Emit events until you reach a point where it may be possible  
</I>&gt;&gt;<i> that some events should be reordered, in which case you build a  
</I>&gt;&gt;<i> local DOM-like tree and wait until you can emit all pending events  
</I>&gt;&gt;<i> with a certainty they don't need to be reordered.
</I>&gt;<i>
</I>&gt;<i> This is not an option. Consider
</I>&gt;<i>
</I>&gt;<i>   &lt;b&gt;&lt;p&gt;test&lt;/p&gt;&lt;/b&gt;
</I>&gt;<i>
</I>&gt;<i> versus
</I>&gt;<i>
</I>&gt;<i>   &lt;b&gt;&lt;p&gt;test&lt;/b&gt;
</I>&gt;<i>
</I>&gt;<i> Sending mutation events is probably the only way to go.
</I>
I'm not sure I follow; what is the problem here? My suggestion was  
for the parser to keep a temporary tree whenever things are likely to  
be subject to reordering (like this case). If needed the parser just  
mutates its internal temporary tree. When a part of that tree are  
guarantied not to need reordered, then it can send SAX events for  
that part. The idea is effectively to *avoid* mutate events from  
going outside the parser since the application at the other ends, or  
the API in between, doesn't support them.

Note that this doesn't work for parsing full documents since you  
can't append to the root attributes found in misplaced &lt;html&gt; tags  
while not keeping a tree of the whole document. But this could prove  
very useful for parsing HTML snippets to be included in a document  
server-side, just like you can do with innerHTML in the DOM.


Michel Fortin
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">michel.fortin at michelf.com</A>
<A HREF="http://www.michelf.com/">http://www.michelf.com/</A>



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011604.html">[whatwg] No-DOM HTML
</A></li>
	<LI>Next message: <A HREF="011603.html">[whatwg] Issues concerning the &lt;base&gt; element and xml:base
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11605">[ date ]</a>
              <a href="thread.html#11605">[ thread ]</a>
              <a href="subject.html#11605">[ subject ]</a>
              <a href="author.html#11605">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
