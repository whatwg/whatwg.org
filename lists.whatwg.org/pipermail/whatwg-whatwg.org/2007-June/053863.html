<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Google Gears and HTML5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Google%20Gears%20and%20HTML5&In-Reply-To=%3Ccd580da00706011351u494d1c27tb51a6058fd53f0f3%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053862.html">
   <LINK REL="Next"  HREF="054006.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Google Gears and HTML5</H1>
<!--htdig_noindex-->
    <B>Chris Prince</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Google%20Gears%20and%20HTML5&In-Reply-To=%3Ccd580da00706011351u494d1c27tb51a6058fd53f0f3%40mail.gmail.com%3E"
       TITLE="[whatwg] Google Gears and HTML5">cprince at google.com
       </A><BR>
    <I>Fri Jun  1 13:51:56 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="053862.html">[whatwg] /, &lt; and &gt; in charset sniffing attribute name state
</A></li>
        <LI>Next message: <A HREF="054006.html">[whatwg]  Google Gears and HTML5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53863">[ date ]</a>
              <a href="thread.html#53863">[ thread ]</a>
              <a href="subject.html#53863">[ subject ]</a>
              <a href="author.html#53863">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> &gt; It's not clear what the Gears ManagedStore does
</I>&gt;<i> &gt; if it gets a 404 or some other error during an update.
</I>&gt;<i>
</I>&gt;<i> I believe the update is made atomic to the web app:
</I>&gt;<i> <A HREF="http://code.google.com/apis/gears/api_localserver.html">http://code.google.com/apis/gears/api_localserver.html</A>
</I>
That is correct.  Gears starts serving a manifest's resources only
when everything has been successfully downloaded.  If it gets a 404
it will try again later.

&gt;<i> &gt; flip to the new version --- more than likely while the app is
</I>&gt;<i> &gt; in the middle of loading. Sure, this could happen normally if
</I>&gt;<i> &gt; I hit the site in the middle of the night at the switchover,
</I>&gt;<i> &gt; but ManagedStore makes this uncommon case common.
</I>&gt;<i>
</I>&gt;<i> We've brought up the same problem. [snip]
</I>&gt;<i> I don't think this problem is fundamental.
</I>
I agree, I would like this to be the uncommon case once again.
As Maciej said, there are several ideas for fixing it.  We are
definitely open to suggestions.

The solution should avoid relying on application code.  Or more
specifically, developers must always be able to fix a &quot;stuck&quot; app
with a server-side push.

The solution should also avoid any extra delay at request time.

&gt;<i> requiredCookie ... suppose you have two different gmail accounts
</I>&gt;<i> with preferences set to different languages.
</I>
Yes, that's exactly what 'requiredCookie' is for.  Some applications
need to serve different content for a given URL.  Today, they often
make that decision based on the user's cookie.  In an earlier design
we had a custom object for tracking sessions, but this was a burden
on developers.

&gt;<i> BTW the Gears docs don't say what happens when a load matches in
</I>&gt;<i> multiple stores, possibly by having multiple cookies...)
</I>
Gears returns an error when you first try to setup an ambiguous
capture.  For example, you can capture url U for requiredCookie=A
and for requiredCookie=B.  But you cannot capture U with and without
a requiredCookie value, or in two different stores.

&gt;<i> query parameters in JAR URIs are ignored, so
</I>&gt;<i> jar: <A HREF="http://foo.com/foo.jar!/query.html?bar=baz">http://foo.com/foo.jar!/query.html?bar=baz</A> just loads
</I>&gt;<i> jar: <A HREF="http://foo.com/foo.jar!/query.html">http://foo.com/foo.jar!/query.html</A>
</I>
Gears lets developers do something similar, by setting the
&quot;ignoreQuery&quot; parameter to &quot;true&quot; for any manifest resource(s).

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053862.html">[whatwg] /, &lt; and &gt; in charset sniffing attribute name state
</A></li>
	<LI>Next message: <A HREF="054006.html">[whatwg]  Google Gears and HTML5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53863">[ date ]</a>
              <a href="thread.html#53863">[ thread ]</a>
              <a href="subject.html#53863">[ subject ]</a>
              <a href="author.html#53863">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
