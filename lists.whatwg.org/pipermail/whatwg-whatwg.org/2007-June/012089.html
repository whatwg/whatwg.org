<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] .localName shouldn't change case
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20.localName%20shouldn%27t%20change%20case&In-Reply-To=%3CA60AE9ED-CDB8-471F-8AEE-D0BF9780AF7F%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012084.html">
   <LINK REL="Next"  HREF="012086.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] .localName shouldn't change case</H1>
<!--htdig_noindex-->
    <B>Maciej Stachowiak</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20.localName%20shouldn%27t%20change%20case&In-Reply-To=%3CA60AE9ED-CDB8-471F-8AEE-D0BF9780AF7F%40apple.com%3E"
       TITLE="[whatwg] .localName shouldn't change case">mjs at apple.com
       </A><BR>
    <I>Fri Jun 29 14:16:32 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="012084.html">[whatwg] .localName shouldn't change case
</A></li>
        <LI>Next message: <A HREF="012086.html">[whatwg] &quot;html&quot; start tag token in the root element phase
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12089">[ date ]</a>
              <a href="thread.html#12089">[ thread ]</a>
              <a href="subject.html#12089">[ subject ]</a>
              <a href="author.html#12089">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Jun 29, 2007, at 10:22 AM, Thomas Broyer wrote:

&gt;<i> 2007/6/29, Simon Pieters:
</I>&gt;&gt;<i> For HTML elements in HTML documents, why is Element.localName  
</I>&gt;&gt;<i> uppercased
</I>&gt;&gt;<i> for tag names and lowercased for attribute names?
</I>&gt;<i>
</I>&gt;<i> Because of this:
</I>&gt;<i> <A HREF="http://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-5353782642">http://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-5353782642</A>
</I>&gt;<i> and this:
</I>&gt;<i> <A HREF="http://www.w3.org/2000/11/DOM-Level-2-errata#html-2">http://www.w3.org/2000/11/DOM-Level-2-errata#html-2</A>
</I>
If you look at the part of the spec that is actually normative for  
HTML, it only requires this behavior for tagName and nodeName. There  
is no such requirement for localName.

1.6.3. Exposing Element Type Names (tagName, (nodeName))

If the document is an HTML 4.01 document the element type names  
exposed through a property are in uppercase. For example, the body  
element type name is exposed through the tagName property as BODY. If  
the document is an XHTML 1.0 document the element name is exposed as  
it is written in the XHTML file. This means that the element type  
names are exposed in lowercase for XHTML documents since the XHTML  
1.0 DTDs defines element type names as lowercase, and XHTML, being  
derived from XML, is case sensitive.



DOM Level 2 Core does not call for any special case behavior for  
localName either. Although it says that localName should be null for  
HTML elements created with createElement, which seems wrong: &quot;For  
nodes of any type other than ELEMENT_NODE and ATTRIBUTE_NODE and  
nodes created with a DOM Level 1 method, such as createElement from  
the Document interface, this is always null.&quot;. It would be silly to  
have a null localName for dynamically created HTML elements only, and  
even more silly to do so for all HTML elements.



We originally made tagName/nodeName uppercase but localName lowercase  
in WebKit so that you'd get the required HTML behavior for the first  
two, but localName would show through to a more XML-like view, so it  
could be used together with namespaceURI and you wouldn't have to  
care whether the document was XML or not.

I still think the WebKit behavior is nice in theory, although it  
appears to be a compat issue.

Regards,

Maciej


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012084.html">[whatwg] .localName shouldn't change case
</A></li>
	<LI>Next message: <A HREF="012086.html">[whatwg] &quot;html&quot; start tag token in the root element phase
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12089">[ date ]</a>
              <a href="thread.html#12089">[ thread ]</a>
              <a href="subject.html#12089">[ subject ]</a>
              <a href="author.html#12089">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
