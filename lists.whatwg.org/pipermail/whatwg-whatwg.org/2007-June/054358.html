<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Gears design goals
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Gears%20design%20goals&In-Reply-To=%3C278fd46c0706291053l41161d02v66d769a8260cb7c4%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054318.html">
   <LINK REL="Next"  HREF="054366.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Gears design goals</H1>
<!--htdig_noindex-->
    <B>Aaron Boodman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Gears%20design%20goals&In-Reply-To=%3C278fd46c0706291053l41161d02v66d769a8260cb7c4%40mail.gmail.com%3E"
       TITLE="[whatwg] Gears design goals">aa at google.com
       </A><BR>
    <I>Fri Jun 29 10:53:24 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="054318.html">[whatwg] Gears design goals
</A></li>
        <LI>Next message: <A HREF="054366.html">[whatwg] Gears design goals
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54358">[ date ]</a>
              <a href="thread.html#54358">[ thread ]</a>
              <a href="subject.html#54358">[ subject ]</a>
              <a href="author.html#54358">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Sorry it took me awhile to respond. Work intruded.

On 6/26/07, Robert O'Callahan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">robert at ocallahan.org</A>&gt; wrote:
&gt;<i> Right now I think we're missing just one thing from your list of goals
</I>&gt;<i> (excluding the vexatious &quot;multiple resources for one URI&quot; goal): a way to
</I>&gt;<i> get consistent updates without relying on JAR files (and hence changing
</I>&gt;<i> URIs). As I mentioned earlier, I think we can get that by simply stating
</I>&gt;<i> (and implementing!) that updates to all offline-cached resources in a domain
</I>&gt;<i> --- that were requested by pages in the same domain ---  occur atomically as
</I>&gt;<i> a group, similar to what Gears does. That leaves one issue, which is the
</I>&gt;<i> ability to add new resources as part of such an atomic update; to get that,
</I>&gt;<i> we probably should add an offline-manifest DOM API or &lt;link&gt; type, which
</I>&gt;<i> pulls in a JSON manifest and requests all the resources in it.
</I>
That sounds good. Gears team has also considered that you could get
consistent versions without the hard version number we currently have
in the manifests.

It seems like right now, all items in a domain implicitly form an
atomic group. Is that right?

A couple issues some Gears people brought up with this:

* It's likely to significantly slow down revalidation. There could be
many, many resources linked with the programmatic api (again, think of
attachments). All these would have to be revalidated each time the app
is viewed.

* It seems like atomic groups and domains are not 1-to-1. Lots of
times separate applications are hosted on the same domain but in
different directories. I guess it's not dangerous to revalidate all
apps under a domain when any are viewed, but it seems like a waste.

You could mitigate the first issue by allowing the developer to say
whether a certain resource should be part of the domain's atomic
group. I am not sure how to mitigate the second issue except for by
telling developers to use separate domains for separate applications.
Maybe this is not a big problem.


Another thought that we had was that it would be good if whatever you
can do with the &lt;link&gt; tag syntax, you can also do programmatically.
It may be difficult to hook into IE deep enough to implement the link
tag syntax.


&gt;<i> &gt; If so, that means apps can't serve different resources at the same
</I>&gt;<i> &gt; URL, even when a connection is available, which seems like a big
</I>&gt;<i> &gt; constraint.
</I>&gt;<i>
</I>&gt;<i> Sure they can. The user can only have one active login per browser session
</I>&gt;<i> anyway, so the app just swaps in a whole new set of resources when the user
</I>&gt;<i> logs in with a different ID.  The only restriction is that when the user's
</I>&gt;<i> offline, they'll only be able to use the last ID that they logged in as.
</I>&gt;<i>
</I>&gt;<i> Let me put the strongest spin on this that I can :-) --- I'm reluctant to
</I>&gt;<i> substantially complicate the API for implementors and developers for all
</I>&gt;<i> time, just so that some legacy apps can have an easier transition for the
</I>&gt;<i> specific case of supporting multiple logins while the user is offline.
</I>
Fair enough. And if application developers want to support multiple
offline logins, they can still write their app in a way to support
that.

- a

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054318.html">[whatwg] Gears design goals
</A></li>
	<LI>Next message: <A HREF="054366.html">[whatwg] Gears design goals
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54358">[ date ]</a>
              <a href="thread.html#54358">[ thread ]</a>
              <a href="subject.html#54358">[ subject ]</a>
              <a href="author.html#54358">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
