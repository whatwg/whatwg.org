<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Still more comments and questions on Web Apps 1.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Still%20more%20comments%20and%20questions%20on%20Web%20Apps%201.0&In-Reply-To=%3CPine.LNX.4.64.0706071846000.9191%40dhalsim.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011706.html">
   <LINK REL="Next"  HREF="011712.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Still more comments and questions on Web Apps 1.0</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Still%20more%20comments%20and%20questions%20on%20Web%20Apps%201.0&In-Reply-To=%3CPine.LNX.4.64.0706071846000.9191%40dhalsim.dreamhost.com%3E"
       TITLE="[whatwg] Still more comments and questions on Web Apps 1.0">ian at hixie.ch
       </A><BR>
    <I>Fri Jun  8 18:05:42 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="011706.html">[whatwg] HTML5Lib Test Suite vs. PHP 5 HTML Parser
</A></li>
        <LI>Next message: <A HREF="011712.html">[whatwg] Still more comments and questions on Web Apps 1.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11710">[ date ]</a>
              <a href="thread.html#11710">[ thread ]</a>
              <a href="subject.html#11710">[ subject ]</a>
              <a href="author.html#11710">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, 20 Mar 2006, Henri Sivonen wrote:
&gt;<i> 
</I>&gt;<i> 5.1.1.
</I>&gt;<i> I think the spec should suggest shift-return as the key combo for inserting a
</I>&gt;<i> line separator to make it even more clear that plain return should break the
</I>&gt;<i> block.
</I>
Done.


&gt;<i> 5.1.1.
</I>&gt;<i> &quot;(Updating the default* DOM attributes causes content attributs to be updated
</I>&gt;<i> as well.)&quot;
</I>&gt;<i> 
</I>&gt;<i> attributes
</I>
Fixed.


&gt;<i> 6.1.
</I>&gt;<i> The canvas element is characterized as a bitmap canvas. However, it is
</I>&gt;<i> conceptually a vector graphics drawing context. I think the spec should not
</I>&gt;<i> require bitmapping. If I had a way to inform my UA I intend to print, I would
</I>&gt;<i> sure prefer the UA collecting the canvas drawing operation in a CGPDFContext
</I>&gt;<i> as opposed to a CGBitmapContext on OS X. (Compare with what the spec itself
</I>&gt;<i> says about requesting the image as image/svg+xml.)
</I>
Could you elaborate on exactly what it is you think should be changed?


&gt;<i> 6.1.
</I>&gt;<i> Is omitting the height and/or width of canvas conforming?
</I>
This should be clear now.


&gt;<i> 6.1.1.3.
</I>&gt;<i> WA defines xor like this: &quot;Exclusive OR of the source and destination images.&quot;
</I>&gt;<i> Apple defines it more restrictively: &quot;Exclusive OR of the source and
</I>&gt;<i> destination images. Works only with black and white images and is not
</I>&gt;<i> recommended for color images.&quot;
</I>&gt;<i> <A HREF="http://developer.apple.com/documentation/AppleApplications/Reference/SafariJSRef/Classes/Canvas.html#//apple_ref/doc/uid/30001240-54491">http://developer.apple.com/documentation/AppleApplications/Reference/SafariJSRef/Classes/Canvas.html#//apple_ref/doc/uid/30001240-54491</A>
</I>
This is now defined in terms of Porter-Duff. Is that ok?


&gt;<i> I am not an expert here, but IIRC, the underlying PDF/Quartz imaging model
</I>&gt;<i> does not allow general xoring. I think it is important to ensure that canvas
</I>&gt;<i> can be implemented on top a Quartz 2D drawing context on OS X without breaking
</I>&gt;<i> hardware acceleration or PDF output.
</I>
I can drop 'xor', I guess...


&gt;<i> 6.2.
</I>&gt;<i> The spec doesn't name any patent-free audio format that UAs would be required
</I>&gt;<i> to support as a baseline. Linear PCM in WAV or AIFF would probably be
</I>&gt;<i> sufficiently safe although not really suitable for the network.
</I>&gt;<i> 
</I>&gt;<i> Vorbis can still be subject to submarine patents. MP3 and AAC obviously won't
</I>&gt;<i> do. IIRC, AMR is a potential lawyer bomb as well.
</I>&gt;<i> 
</I>&gt;<i> This is one of the few cases where HTTP content negotiation could actually be
</I>&gt;<i> useful. Perhaps the spec should remind UA implementors to send an Accept
</I>&gt;<i> header that lists the audio formats supported by their Audio object
</I>&gt;<i> implementation (and no other media types) when loading the audio data.
</I>
Wave PCM is now required. There's a defined mechanism for content 
negotiation on the client.


&gt;<i> 8.2.
</I>&gt;<i> &quot;Authors interested in using SGML tools in their authoring pipeline are
</I>&gt;<i> encouraged to use the XML serialisation of HTML5 instead of the HTML
</I>&gt;<i> serialisation.&quot;
</I>&gt;<i> 
</I>&gt;<i> Since HTML5 is not an application of SGML, SGML tools are inappropriate. I
</I>&gt;<i> think authors interested in using SGML tools with (X)HTML5 should be actively
</I>&gt;<i> discouraged to use SGML tools and encouraged to use XML tools instead.
</I>
Changed.


&gt;<i> 8.2.
</I>&gt;<i> &quot;This specification defines the parsing rules for HTML documents, whether they
</I>&gt;<i> are syntactically valid or not. &quot;
</I>&gt;<i> 
</I>&gt;<i> &quot;Valid&quot; used loosely. :-)
</I>
No longer a problem now that we've defined &quot;HTML validator&quot;. :-)

(let me know if you want this changed anyway)


&gt;<i> 8.2.
</I>&gt;<i> &quot;A leading U+FEFF BYTE ORDER MARK (BOM) must be dropped if present.&quot; Surely it
</I>&gt;<i> should only be dropped for encodings where the BOM acts as an encoding
</I>&gt;<i> signature. That is, with UTF-8 and UTF-16 it should be dropped but with
</I>&gt;<i> UTF-16LE it should count as an erroneous garbage.
</I>
Treating it as garbage will make a mess of the DOM. It seems like it would 
be very unlikely that that was intended rather than having intended the 
BOM to just be eaten despite the incantation being slightly off.

I agree it is an error (that's covered by the encoding specs and Unicode) 
but I don't see why we would want to actively go out of our way to punish 
authors in such cases.


&gt;<i> 8.2.1. Attribute value (unquoted) state
</I>&gt;<i> I think in cases where an unquoted attribute value contains characters that
</I>&gt;<i> were not formally allowed in unquoted values in HTML 4.01 the document should
</I>&gt;<i> be considered non-conforming. That way keeping document conforming would be a
</I>&gt;<i> reasonable precaution against hairy interactions with legacy parsers out
</I>&gt;<i> there.
</I>
I disagree. It doesn't cause ambiguities, the legacy browsers handle them 
fine, and it would just make authors think that HTML syntax was a black 
art with arbitrary rules. We have the opportunity here to clean up the 
rules, I think we should take it.


&gt;<i> 8.2.1. Comment end state
</I>&gt;<i> Shouldn't the Anything else branch be a parse error?
</I>
It is now.


&gt;<i> 8.2.1.1.
</I>&gt;<i> I think an NCR expanding to zero, above the Unicode range or to a surrogate
</I>&gt;<i> should be a parse error.
</I>
It is now.


&gt;<i> 8.2.2.1.
</I>&gt;<i> &quot;Append that character to the Document node.&quot;
</I>&gt;<i> 
</I>&gt;<i> Having text nodes outside the root elements is at least a bit surprising if
</I>&gt;<i> nothing else.
</I>
I don't disagree. Should we just drop these spaces on the floor? It 
doesn't seem like the best thing but I guess I'm not opposed. What do 
other people think?


&gt;<i> 8.2.2.3.1. and later references to the stack of open elements
</I>&gt;<i> It is strange and potentially confusing that the notion of top and 
</I>&gt;<i> bottom is reversed compared to the conventional use of those terms in 
</I>&gt;<i> connection to stacks.
</I>
I agree. I am, however, reluctant to change it at this point, lest I make 
a mistake.



&gt;<i> 8.2.2.3.7.
</I>&gt;<i> In the &quot;after head&quot; phase even white space implies the start of body. Is that
</I>&gt;<i> intentional?
</I>
This no longer appears to be the case.


&gt;<i> 8.2.2.3.7.
</I>&gt;<i> The algorithms to be run on opening li, dt and dd are do not say anything
</I>&gt;<i> about parse errors when elements whose end tag is not optional get popped.
</I>&gt;<i> Those should, in my opinion, count as parse errors.
</I>
Done.


&gt;<i> 8.2.2.3.7.
</I>&gt;<i> The insertion modes pertaining to tables specify the handling of comment 
</I>&gt;<i> tokens as parse errors and the comments are inserted on the foster 
</I>&gt;<i> parent. Is that intentional? It looks like an oversight.
</I>
This seems fixed now.

Cheers,
-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011706.html">[whatwg] HTML5Lib Test Suite vs. PHP 5 HTML Parser
</A></li>
	<LI>Next message: <A HREF="011712.html">[whatwg] Still more comments and questions on Web Apps 1.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11710">[ date ]</a>
              <a href="thread.html#11710">[ thread ]</a>
              <a href="subject.html#11710">[ subject ]</a>
              <a href="author.html#11710">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
