<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [canvas] globalCompositeOperation poorly defined
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bcanvas%5D%20globalCompositeOperation%20poorly%20defined&In-Reply-To=%3C20060725044112.GA23221%40ridley.dbaron.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049225.html">
   <LINK REL="Next"  HREF="049226.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [canvas] globalCompositeOperation poorly defined</H1>
<!--htdig_noindex-->
    <B>L. David Baron</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bcanvas%5D%20globalCompositeOperation%20poorly%20defined&In-Reply-To=%3C20060725044112.GA23221%40ridley.dbaron.org%3E"
       TITLE="[whatwg] [canvas] globalCompositeOperation poorly defined">dbaron at dbaron.org
       </A><BR>
    <I>Mon Jul 24 21:41:12 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="049225.html">[whatwg] [canvas] globalCompositeOperation poorly defined
</A></li>
        <LI>Next message: <A HREF="049226.html">[whatwg] [WA1] Missing step in formatting element algorithm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49236">[ date ]</a>
              <a href="thread.html#49236">[ thread ]</a>
              <a href="subject.html#49236">[ subject ]</a>
              <a href="author.html#49236">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Friday 2006-07-21 09:07 -0700, L. David Baron wrote:
&gt;<i> On Friday 2006-07-21 11:14 +0300, Henri Sivonen wrote:
</I>&gt;<i> &gt; I gather that a normative reference to the Porter&#8211;Duff paper is needed:
</I>&gt;<i> &gt; <A HREF="http://keithp.com/~keithp/porterduff/p253-porter.pdf">http://keithp.com/~keithp/porterduff/p253-porter.pdf</A>
</I>&gt;<i> 
</I>&gt;<i> Perhaps, assuming that's what's been implemented, although that would
</I>&gt;<i> only define 10 of the 12 operators in the spec.  But that paper doesn't
</I>&gt;<i> define binary operators for 'darker' and 'lighter', which seem to be
</I>&gt;<i> among the less-interoperable right now.  (It defines a unary 'darken'
</I>&gt;<i> operator over a space of numeric parameters.)
</I>
I've written tests for the 11 operators defined in the paper, plus a
test for 'darker' that assumes Quartz's PlusDarker operator [1]:

  <A HREF="http://dbaron.org/tests/canvas/composite-operations4">http://dbaron.org/tests/canvas/composite-operations4</A>

It seems like 'darker' is currently not interoperable, and might be
unlikely to become interoperable, due to different availability of
compositing operators across platforms.  (Quartz has PlusDarker.
Mozilla uses the saturate operator that is provided by Cairo/libpixman
(and also by XRender), which is described in [2] and [3], but seems to
me to be quite different.)

One solution to that problem would be to remove 'darker' from the spec
rather than defining it one way or the other.  Thoughts?

-David

[1] <A HREF="http://developer.apple.com/documentation/Cocoa/Reference/ApplicationKit/Classes/NSImage_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSCompositingOperation">http://developer.apple.com/documentation/Cocoa/Reference/ApplicationKit/Classes/NSImage_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSCompositingOperation</A>
[2] <A HREF="http://keithp.com/~keithp/render/protocol.html">http://keithp.com/~keithp/render/protocol.html</A>
[3] <A HREF="http://lists.freedesktop.org/archives/cairo/2005-June/004224.html">http://lists.freedesktop.org/archives/cairo/2005-June/004224.html</A>

-- 
L. David Baron                                &lt;URL: <A HREF="http://dbaron.org/">http://dbaron.org/</A> &gt;
           Technical Lead, Layout &amp; CSS, Mozilla Corporation
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20060724/fc421b9d/attachment-0001.pgp">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20060724/fc421b9d/attachment-0001.pgp</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049225.html">[whatwg] [canvas] globalCompositeOperation poorly defined
</A></li>
	<LI>Next message: <A HREF="049226.html">[whatwg] [WA1] Missing step in formatting element algorithm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49236">[ date ]</a>
              <a href="thread.html#49236">[ thread ]</a>
              <a href="subject.html#49236">[ subject ]</a>
              <a href="author.html#49236">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
