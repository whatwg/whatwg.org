<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] parsing: bogus comments - PIs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20parsing%3A%20bogus%20comments%20-%20PIs&In-Reply-To=%3C6b9c91b20607261845n30838af1o5d8b4c6f89ed3035%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049215.html">
   <LINK REL="Next"  HREF="049217.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] parsing: bogus comments - PIs</H1>
<!--htdig_noindex-->
    <B>Shadow2531</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20parsing%3A%20bogus%20comments%20-%20PIs&In-Reply-To=%3C6b9c91b20607261845n30838af1o5d8b4c6f89ed3035%40mail.gmail.com%3E"
       TITLE="[whatwg] parsing: bogus comments - PIs">shadow2531 at gmail.com
       </A><BR>
    <I>Wed Jul 26 18:45:59 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="049215.html">[whatwg] parsing: bogus comments - PIs
</A></li>
        <LI>Next message: <A HREF="049217.html">[whatwg] [WebApps] Parsing: Attribute name state
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49244">[ date ]</a>
              <a href="thread.html#49244">[ thread ]</a>
              <a href="subject.html#49244">[ subject ]</a>
              <a href="author.html#49244">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 7/18/06, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i> On Mon, 17 Jul 2006, Shadow2531 wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &lt;? is a parse error and causes a switch to the bogus comment state.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So, &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;&quot;?&gt; is a bogus comment.
</I>&gt;<i> &gt; &lt;<A HREF="http://whatwg.org/specs/web-apps/current-work/#bogus">http://whatwg.org/specs/web-apps/current-work/#bogus</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &quot;Emit a comment token whose data is the concatenation of all the
</I>&gt;<i> &gt; characters from the character that caused the state machine to switch
</I>&gt;<i> &gt; into the bogus comment state, up to the last consumed character before
</I>&gt;<i> &gt; the U+003E character...&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I *was* 100% sure that the PI should be parsed into:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &lt;!--?xml-stylesheet type=&quot;text/css&quot; href=&quot;&quot;?--&gt;
</I>&gt;<i>
</I>&gt;<i> Correct.
</I>
Thanks Ian. Can  you comment on innerHTML for this situation?

If &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;&quot;?&gt; is parsed into
&lt;!--?xml-stylesheet type=&quot;text/css&quot; href=&quot;&quot;?--&gt; , what should
innerHTML show?

Currently, Gecko and KHTML ignore PIs in text/html, and don't add them
to the DOM. Plus, they don't show up in innerHTML.

Opera currently treats PIs as PIs in text/html and shows them as PI
markup with innerHTML. ( There's a tiny, already-filed bug with PIs
and innerHTML, but when the fix is applied, Opera will show
&lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;&quot;?&gt; again for the PI mentioned
here with innerHTML)

IE6 treats PIs as comments, which is good, but for innerHTML, IE6
shows the original markup of the PI instead of commented markup.

As you can see, there's nothing consistent across browsers with this
situation, but it seems that IE comes closest to HTML5.

I myself believe that if the PI is parsed into a bogus comment,
innerHTML should show comment markup as that's what it ends up being.
However, that would be incompatible with IE's innerHTML if that
matters.

What do you think?  I know innerHTML isn't yet defined, but this might
be a case where you, right now,  100% for sure,  know what must
happen.

Thanks

-- 
burnout426

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049215.html">[whatwg] parsing: bogus comments - PIs
</A></li>
	<LI>Next message: <A HREF="049217.html">[whatwg] [WebApps] Parsing: Attribute name state
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49244">[ date ]</a>
              <a href="thread.html#49244">[ thread ]</a>
              <a href="subject.html#49244">[ subject ]</a>
              <a href="author.html#49244">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
