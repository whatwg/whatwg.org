<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal for separating script downloads and execution
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and%20execution&In-Reply-To=%3Cnsq8l6tnfronl2h92fa9h2f7cb7m96otn6%40hive.bjoern.hoehrmann.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030376.html">
   <LINK REL="Next"  HREF="030380.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal for separating script downloads and execution</H1>
<!--htdig_noindex-->
    <B>Bjoern Hoehrmann</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and%20execution&In-Reply-To=%3Cnsq8l6tnfronl2h92fa9h2f7cb7m96otn6%40hive.bjoern.hoehrmann.de%3E"
       TITLE="[whatwg] Proposal for separating script downloads and execution">derhoermi at gmx.net
       </A><BR>
    <I>Thu Feb 10 16:39:25 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030376.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
        <LI>Next message: <A HREF="030380.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30379">[ date ]</a>
              <a href="thread.html#30379">[ thread ]</a>
              <a href="subject.html#30379">[ subject ]</a>
              <a href="author.html#30379">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>* John Tamplin wrote:
&gt;<i>This is all arguing about semantics.  The point is the current mechanisms
</I>&gt;<i>for handling scripts are insufficient, and on mobile phones in particular
</I>&gt;<i>the process of reading the contents of a script tag (whether you call that
</I>&gt;<i>parsing, executing definitions, or whatever), is way too slow and interrupts
</I>&gt;<i>the UI.  This problem has driven crude hacks like the comment hack, which in
</I>&gt;<i>fact precludes the browsers every getting smarter about doing the
</I>&gt;<i>parsing/etc in the background or during idle time.  This proposal is about a
</I>&gt;<i>way to hint to the browser that only the download part should happen now,
</I>&gt;<i>and the parsing/execution of the downloaded script will happen later, which
</I>&gt;<i>in fact enables smarter browsers to make smarter decisions.
</I>
The proposal is an optimization of these crude hacks. Authors using such
hacks are unlikely to stop using them because the optimization does not
work on deployed clients. New clients supporting it are likely to have
better JavaScript parsers as people make new benchmarks taking parsing
more into account than they have so far and because improvements there
help with all web sites, so as we apparently don't know very well where
the performance issues here lie and how the various hacks compare, we do
not know much about how much of a difference the proposal would make.

What will happen is that people using the proposed feature will intro-
duce subtle bugs in their code (like calling .execute() in some place
but not in another which works 99% of the time on the test systems but
fails on other systems due to, say, differences in how they schedule re-
source loads), and for others using &quot;noexecute&quot; may be beneficial now,
but may not be beneficial with the next browser generation, which may
result in browser vendors changing their optimization logic, which then
causes more breakage and might be more complex. And there is a toll on
everyone since in trying to optimize they would have to try yet another
thing that might help.

The terminology is not all that important, but some analyis beyond the
simple &quot;&lt;script&gt; processing seems slow right now, so let authors say
don't process a &lt;script&gt; with side-effects until the author commands it&quot;
is. In Perl for instance the problem is solved with AUTOLOAD, a routine
that is called when a subroutine is undefined, to act in its stead. That
allows to have the AutoLoader module which automates on-demand loading
of code. That solves the problem with different problems and benefits.
Is that better, worse, would either really have an impact in 3 years?

While I am sure that people here have done far more extensive research
than what we've heard so far, this is Ian Hickson's mailing list and as
I recall, he puts great emphasis on research and the proceedings being
available to the general public, and so far I've not seen much beyond
some blog posting with one test on hard- and software that will be four
years old when the proposed feature becomes anything resembling main-
stream, plus some individual findings, and that's not very impressive.
-- 
Bj&#246;rn H&#246;hrmann &#183; mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bjoern at hoehrmann.de</A> &#183; <A HREF="http://bjoern.hoehrmann.de">http://bjoern.hoehrmann.de</A>
Am Badedeich 7 &#183; Telefon: +49(0)160/4415681 &#183; <A HREF="http://www.bjoernsworld.de">http://www.bjoernsworld.de</A>
25899 Dageb&#252;ll &#183; PGP Pub. KeyID: 0xA4357E78 &#183; <A HREF="http://www.websitedev.de/">http://www.websitedev.de/</A> 
</PRE>





<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030376.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
	<LI>Next message: <A HREF="030380.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30379">[ date ]</a>
              <a href="thread.html#30379">[ thread ]</a>
              <a href="subject.html#30379">[ subject ]</a>
              <a href="author.html#30379">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
