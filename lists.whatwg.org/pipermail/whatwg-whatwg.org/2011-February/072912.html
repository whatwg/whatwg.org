<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal for separating script downloads and execution
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and%20execution&In-Reply-To=%3C4D65170D.2040203%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072909.html">
   <LINK REL="Next"  HREF="072921.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal for separating script downloads and execution</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and%20execution&In-Reply-To=%3C4D65170D.2040203%40mit.edu%3E"
       TITLE="[whatwg] Proposal for separating script downloads and execution">bzbarsky at MIT.EDU
       </A><BR>
    <I>Wed Feb 23 06:17:49 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072909.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
        <LI>Next message: <A HREF="072921.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72912">[ date ]</a>
              <a href="thread.html#72912">[ thread ]</a>
              <a href="subject.html#72912">[ subject ]</a>
              <a href="author.html#72912">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 2/23/11 4:16 AM, Jorge wrote:
&gt;<i> Wouldn't this :
</I>&gt;<i>
</I>&gt;<i> HTMLScriptElement.prototype.execute= function execute () {
</I>&gt;<i>    // ...
</I>&gt;<i>    return (1, eval)( this.innerText ); // global eval
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> do it ?
</I>
No.  First of all, the script can be an external script, so innerText 
doesn't do the right thing.

&gt;<i> (only that it should be &quot;privileged&quot;: able to bypass the usual s.o.p. restrictions wrt .innerText...)
</I>
That's the thing.  The privileged bit involves things that make it very 
difficult to transport exceptions across it correctly, especially if the 
caller of execute() is not in the same window as the script itself.  At 
least in Gecko.

-Boris

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072909.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
	<LI>Next message: <A HREF="072921.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72912">[ date ]</a>
              <a href="thread.html#72912">[ thread ]</a>
              <a href="subject.html#72912">[ subject ]</a>
              <a href="author.html#72912">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
