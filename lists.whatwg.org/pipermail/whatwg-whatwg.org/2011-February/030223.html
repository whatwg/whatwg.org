<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTML-to-plaintext conversion (innerText and	Selection.toString())
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML-to-plaintext%20conversion%20%28innerText%20and%0A%09Selection.toString%28%29%29&In-Reply-To=%3C4D4C1C0D.6080404%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030235.html">
   <LINK REL="Next"  HREF="030189.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTML-to-plaintext conversion (innerText and	Selection.toString())</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML-to-plaintext%20conversion%20%28innerText%20and%0A%09Selection.toString%28%29%29&In-Reply-To=%3C4D4C1C0D.6080404%40mit.edu%3E"
       TITLE="[whatwg] HTML-to-plaintext conversion (innerText and	Selection.toString())">bzbarsky at MIT.EDU
       </A><BR>
    <I>Fri Feb  4 07:32:29 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030235.html">[whatwg] HTML-to-plaintext conversion (innerText and	Selection.toString())
</A></li>
        <LI>Next message: <A HREF="030189.html">[whatwg] HTML-to-plaintext conversion (innerText and	Selection.toString())
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30223">[ date ]</a>
              <a href="thread.html#30223">[ thread ]</a>
              <a href="subject.html#30223">[ subject ]</a>
              <a href="author.html#30223">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 2/3/11 8:25 PM, Aryeh Gregor wrote:
&gt;<i> innerText seems like a reasonable place to put such an API, if only
</I>&gt;<i> because WebKit already does it.  It's not ideal a priori, but by the
</I>&gt;<i> consistency standards of the web platform it's not noticeably bad.  I
</I>&gt;<i> should particularly point out that your typical author is not going to
</I>&gt;<i> have the foggiest notion of separation of DOM and CSS and so on -- it
</I>&gt;<i> will make intuitive sense to authors to have it at innerText as much
</I>&gt;<i> as anywhere.
</I>
Until they try to use it on a disconnected subtree and it does something 
weird, right?

&gt;<i> Actually, if browsers are willing to converge on making innerText work
</I>&gt;<i> like textContent and Selection.toString() work like Range.toString(),
</I>&gt;<i> I'd be okay with that.
</I>
Why is that useful, though?  You can already do that with textContent 
and toString.

&gt;<i> Gecko (at least that portion that
</I>&gt;<i> I'm talking to :) ) seems to be skeptical of implementing anything
</I>&gt;<i> very complicated here either.
</I>
What I'm skeptical of is standardizing this behavior today, because I 
feel like the result will be very confusing for authors...

&gt;<i> But Maciej has told me that WebKit
</I>&gt;<i> doesn't want to scrap its elaborate plaintext-conversion APIs (which
</I>&gt;<i> have by far the best fidelity of any browser's from what I see).
</I>
I assume Maciej has particular use cases for them in mind?

&gt;<i> (Possibly with minimal differences for web-compat -- Opera's behave
</I>&gt;<i> slightly differently, and IIRC I was told it's for web-compat
</I>&gt;<i> reasons.)
</I>
This whole thing seems to me like an exercise in premature 
standardization.  Browsers are actively experimenting with their 
dom-to-text conversion APIs.  It'd be nice if it were happening behind 
vendor prefixes, but they started before such prefixing was popular in 
the DOM world.  It's not clear to me why we want to suddenly standardize 
whatever half-baked stuff they have implemented &quot;for web-compat&quot; right 
now.  I do think having an informative note about the web-compat 
constraints is a good idea, to aid those who may wish to implement this 
API after all.

&gt;<i> On the other hand, if WebKit is unwilling to accept anything other
</I>&gt;<i> than a complicated plaintext conversion algorithm here, I don't think
</I>&gt;<i> we're going to have interop in the foreseeable future no matter what.
</I>
Indeed.

&gt;<i> Even if it gets specced, no one will want to implement it.
</I>
That's not obvious to me.

&gt;<i> we can at least have everyone but WebKit converge on
</I>&gt;<i> innerText/Selection.toString() behaving as similarly to
</I>&gt;<i> textContent/Range.toString() as possible.
</I>
Why?  What's the point?

Or put another way, why is converting on innerText behaving like 
textContent better than converging on not having innerText at all?

-Boris
</PRE>



























































































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030235.html">[whatwg] HTML-to-plaintext conversion (innerText and	Selection.toString())
</A></li>
	<LI>Next message: <A HREF="030189.html">[whatwg] HTML-to-plaintext conversion (innerText and	Selection.toString())
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30223">[ date ]</a>
              <a href="thread.html#30223">[ thread ]</a>
              <a href="subject.html#30223">[ subject ]</a>
              <a href="author.html#30223">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
