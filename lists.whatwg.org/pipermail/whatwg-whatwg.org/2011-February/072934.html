<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] The choice of script global object to use when the script element is moved
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20choice%20of%20script%20global%20object%20to%20use%20when%20the%0A%20script%20element%20is%20moved&In-Reply-To=%3CAANLkTimsvPFk0msKx%2BBUMYJPLhsa8Tx%3DWgDr-s5peGp-%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072445.html">
   <LINK REL="Next"  HREF="030177.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] The choice of script global object to use when the script element is moved</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20choice%20of%20script%20global%20object%20to%20use%20when%20the%0A%20script%20element%20is%20moved&In-Reply-To=%3CAANLkTimsvPFk0msKx%2BBUMYJPLhsa8Tx%3DWgDr-s5peGp-%40mail.gmail.com%3E"
       TITLE="[whatwg] The choice of script global object to use when the script element is moved">w3c at adambarth.com
       </A><BR>
    <I>Sat Feb 26 13:09:19 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072445.html">[whatwg] The choice of script global object to use when the	script element is moved
</A></li>
        <LI>Next message: <A HREF="030177.html">[whatwg] Appcache feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72934">[ date ]</a>
              <a href="thread.html#72934">[ thread ]</a>
              <a href="subject.html#72934">[ subject ]</a>
              <a href="author.html#72934">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Feb 2, 2011 at 5:48 AM, Henri Sivonen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at iki.fi</A>&gt; wrote:
&gt;<i> On Feb 2, 2011, at 03:07, Ian Hickson wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I suppose we could make it so that scripts get neutered when the document
</I>&gt;&gt;<i> that they were first associated with gets unloaded. Would that work?
</I>&gt;<i>
</I>&gt;<i> We did something different.
</I>&gt;<i>
</I>&gt;&gt;<i> Proposal #1:
</I>&gt;<i>
</I>&gt;<i> Proposal #4 (what Gecko now does):
</I>&gt;<i>
</I>&gt;<i> &#160;* If at the time when the parser triggers the 'run' algorithm, the owner document of the script is not the same document whose active parser the parser is, set the 'already executed' flag and abort the steps.
</I>&gt;<i>
</I>&gt;<i> &#160;* If at the time of a script becoming available for evaluation the owner document of the script is not the same document that was the owner document at the time of the 'run' algorithm, don't evaluate the script.
</I>&gt;<i>
</I>&gt;<i> See <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=592366">https://bugzilla.mozilla.org/show_bug.cgi?id=592366</A>
</I>
Sorry for the delayed response.  I don't recall off-hand what the spec
currently says, but any of these options sound fine.  Of (1), (2), and
(4), I have a slight preference for (4) because then we don't need to
notify all the script elements when a document gets unloaded.

Adam

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072445.html">[whatwg] The choice of script global object to use when the	script element is moved
</A></li>
	<LI>Next message: <A HREF="030177.html">[whatwg] Appcache feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72934">[ date ]</a>
              <a href="thread.html#72934">[ thread ]</a>
              <a href="subject.html#72934">[ subject ]</a>
              <a href="author.html#72934">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
