<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal for separating script downloads and
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and&In-Reply-To=%3CB3332AF6A01D43149E9DF1CACD4F8FFF%40Frodo%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072876.html">
   <LINK REL="Next"  HREF="072900.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal for separating script downloads and</H1>
<!--htdig_noindex-->
    <B>Kyle Simpson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and&In-Reply-To=%3CB3332AF6A01D43149E9DF1CACD4F8FFF%40Frodo%3E"
       TITLE="[whatwg] Proposal for separating script downloads and">getify at gmail.com
       </A><BR>
    <I>Tue Feb 22 17:14:02 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072876.html">[whatwg] Thanks --- HTML5 and frame accuracy
</A></li>
        <LI>Next message: <A HREF="072900.html">[whatwg] Proposal for separating script downloads and
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30624">[ date ]</a>
              <a href="thread.html#30624">[ thread ]</a>
              <a href="subject.html#30624">[ subject ]</a>
              <a href="author.html#30624">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> First of all, which two proposals are we talking about here?
</I>
1. Nicholas' proposal, which is currently to &quot;preload&quot; a script if its 
script element is marked with a `preload` attribute, before the setting of 
the `src` property. To &quot;execute&quot; the script, you add the script element to 
the DOM. To detect when the preload finishes, you listen to the `onpreload` 
event.

2. My proposal, which is (by and large) to standardize the functionality 
that IE already has, and that the spec already suggests, which is that 
preloading happens when setting the `src` property before adding the script 
to the DOM. To &quot;execute&quot;, add the script to the DOM. TO detect when the 
preload finishes, listen for the `onreadystatechange` event to signal that 
the `readyState` property is &quot;loaded&quot;.


&gt;<i> It would certainly make implementing it soon unlikely, if such a beastie
</I>is needed.

I guess that's the crux of the question. Is such a mechanism needed to make 
either of those two proposals something palatable to a browser like Mozilla?



&gt;&gt;<i> For #2 (and several other related questions we've been exploring)...
</I>&gt;&gt;<i> granted, it clearly seems that IE's implementation is not perfect (but
</I>&gt;&gt;<i> is at least getting better as of IE9). But as with the above
</I>&gt;&gt;<i> assertion/question about #1... if the correct thing is just to always
</I>&gt;&gt;<i> follow HTTP semantics
</I>&gt;<i>
</I>&gt;<i> That's an excellent question.  Is that the correct thing?
</I>&gt;<i>
</I>&gt;<i> For some things (e.g. stylesheets and images) browsers don't do this in
</I>&gt;<i> many cases (and the HTML5 spec in fact requires such behavior).  What
</I>&gt;<i> should the script behavior be?
</I>
Let me restate: I'm not purporting to know what the semantics should or 
should not be. I'm suggesting they should be, per browser, exactly the same 
as normal dynamic script loading, in each browser, already behaves. In other 
words, I've been operating under the assumption that neither proposal 
requires explicitly defining or changing the current HTTP caching semantics. 
I'm hoping that if this assumption is wrong, someone can help me understand 
why?

I don't understand why the preloading specifically would imply different 
HTTP caching semantics than normal dynamic script loading?



--Kyle


</PRE>

































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072876.html">[whatwg] Thanks --- HTML5 and frame accuracy
</A></li>
	<LI>Next message: <A HREF="072900.html">[whatwg] Proposal for separating script downloads and
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30624">[ date ]</a>
              <a href="thread.html#30624">[ thread ]</a>
              <a href="subject.html#30624">[ subject ]</a>
              <a href="author.html#30624">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
