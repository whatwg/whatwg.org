<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] navigation shouldn't abort if canceled
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20navigation%20shouldn%27t%20abort%20if%20canceled&In-Reply-To=%3CAANLkTikT%2BWFnf5po%2Bw%2BhMuSYd0XEkyPyzbJNSFOn5uwZ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030166.html">
   <LINK REL="Next"  HREF="030174.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] navigation shouldn't abort if canceled</H1>
<!--htdig_noindex-->
    <B>Michael Nordman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20navigation%20shouldn%27t%20abort%20if%20canceled&In-Reply-To=%3CAANLkTikT%2BWFnf5po%2Bw%2BhMuSYd0XEkyPyzbJNSFOn5uwZ%40mail.gmail.com%3E"
       TITLE="[whatwg] navigation shouldn't abort if canceled">michaeln at google.com
       </A><BR>
    <I>Wed Feb  2 12:22:48 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030166.html">[whatwg] navigation shouldn't abort if canceled
</A></li>
        <LI>Next message: <A HREF="030174.html">[whatwg] navigation shouldn't abort if canceled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30173">[ date ]</a>
              <a href="thread.html#30173">[ thread ]</a>
              <a href="subject.html#30173">[ subject ]</a>
              <a href="author.html#30173">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>That does sound like a bug? I'd be curious to know what the reasoning
was for the existing sequence of steps.

Step 10 looks out of place too...

&quot;10. If the new resource is to be handled using a mechanism that does
not affect the browsing context, e.g. ignoring the navigation request
altogether because the specified scheme is not one of the supported
protocols, then abort these steps and proceed with that mechanism
instead.&quot;

Aborting the active document sounds like an undesirable side affect on
the browsing context for mailto links.

On Tue, Feb 1, 2011 at 11:07 AM, Mike Wilson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mikewse at hotmail.com</A>&gt; wrote:
&gt;<i> No comments so far on this issue so I'll describe it a bit more.
</I>&gt;<i> Consequences of the current text are that resource fetches are
</I>&gt;<i> canceled for a document when navigating away from it, even if
</I>&gt;<i> the user then chooses to cancel the navigation at a
</I>&gt;<i> &quot;beforeunload&quot; prompt and returns to the document.
</I>&gt;<i>
</I>&gt;<i> Best regards
</I>&gt;<i> Mike Wilson
</I>&gt;<i>
</I>&gt;<i> Mike Wilson wrote on December 26, 2010:
</I>&gt;&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/#navigating-">http://www.whatwg.org/specs/web-apps/current-work/#navigating-</A>
</I>&gt;&gt;<i> across-documents
</I>&gt;&gt;<i> (as of December 26, 2010)
</I>&gt;&gt;<i> | When a browsing context is navigated to a new resource, the
</I>&gt;&gt;<i> | user agent must run the following steps:
</I>&gt;&gt;<i> ...
</I>&gt;&gt;<i> | 9. &#160;Abort the active document of the browsing context.
</I>&gt;&gt;<i> ...
</I>&gt;&gt;<i> | 11. Prompt to unload the Document object. If the user refused
</I>&gt;&gt;<i> | &#160; &#160; to allow the document to be unloaded, then these steps
</I>&gt;&gt;<i> | &#160; &#160; must be aborted.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Might this be a bug? (It seems more consistent with other
</I>&gt;&gt;<i> parts of the html5 spec, and with browsers, to do the abort
</I>&gt;&gt;<i> after the user has allowed the document to unload.)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Best regards
</I>&gt;&gt;<i> Mike Wilson
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>









































































































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030166.html">[whatwg] navigation shouldn't abort if canceled
</A></li>
	<LI>Next message: <A HREF="030174.html">[whatwg] navigation shouldn't abort if canceled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30173">[ date ]</a>
              <a href="thread.html#30173">[ thread ]</a>
              <a href="subject.html#30173">[ subject ]</a>
              <a href="author.html#30173">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
