<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Cryptographically strong random numbers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Cryptographically%20strong%20random%20numbers&In-Reply-To=%3CAANLkTikLUi%3DD2SOMusXSVpPbDFhQXbNx1J6pOTVaBAUC%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030488.html">
   <LINK REL="Next"  HREF="030472.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Cryptographically strong random numbers</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Cryptographically%20strong%20random%20numbers&In-Reply-To=%3CAANLkTikLUi%3DD2SOMusXSVpPbDFhQXbNx1J6pOTVaBAUC%40mail.gmail.com%3E"
       TITLE="[whatwg] Cryptographically strong random numbers">glenn at zewt.org
       </A><BR>
    <I>Mon Feb 14 17:01:41 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030488.html">[whatwg] Cryptographically strong random numbers
</A></li>
        <LI>Next message: <A HREF="030472.html">[whatwg] Cryptographically strong random numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30490">[ date ]</a>
              <a href="thread.html#30490">[ thread ]</a>
              <a href="subject.html#30490">[ subject ]</a>
              <a href="author.html#30490">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Feb 14, 2011 at 7:20 PM, Shabsi Walfish &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">shabsi at google.com</A>&gt; wrote:

&gt;<i> Hmm... if there is a guarantee that /dev/urandom was successfully seeded at
</I>&gt;<i> some point in the past, then I'm happy with it. Is there such a guarantee? I
</I>&gt;<i> don't see that documented anywhere, and I'm not sure how it would be
</I>&gt;<i> provided. Since /dev/urandom never blocks, I'm assuming it will return
</I>&gt;<i> something based mostly on weak entropy sources (like system time and/or or a
</I>&gt;<i> very small number of real bits of entropy) in the event that the system
</I>&gt;<i> hasn't really had a chance to seed the pool yet. I can live with not
</I>&gt;<i> reliably refreshing the pool, but its pretty scary if you think about what
</I>&gt;<i> happens when a user boots their phone up for the first time, etc. and there
</I>&gt;<i> is just no entropy there yet.
</I>&gt;<i>
</I>
There's no strict guarantee, since there's no API for /dev/urandom to refuse
to generate data if there's no entropy whatsoever.  I suppose software can
read entropy_avail to make sure that there's at least something in there,
though I don't know if anything actually does that, and if that's something
entropy_avail is actually meant to be used for.

I don't think trying to expand this API for this--for example, a parameter
saying &quot;throw an exception if the entropy buffer is empty&quot;--would be
helpful.  The cases that this happens are extremely narrow, and essentially
nonexistant on a running system; it would either never be used or result in
extremely poorly-tested code paths (both in UAs and in user code), and would
complicate things quite a lot (how long do you wait before trying again?).

(As an aside, I also don't know the state of hardware entropy generation on
modern hardware, which can likely generate entropy much more robustly than
the old hacks of mixing in interrupt timing and mouse movement, eliminating
the old problem of filling the entropy buffer from a first-time cold boot.)

-- 
Glenn Maynard
</PRE>

































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030488.html">[whatwg] Cryptographically strong random numbers
</A></li>
	<LI>Next message: <A HREF="030472.html">[whatwg] Cryptographically strong random numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30490">[ date ]</a>
              <a href="thread.html#30490">[ thread ]</a>
              <a href="subject.html#30490">[ subject ]</a>
              <a href="author.html#30490">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
