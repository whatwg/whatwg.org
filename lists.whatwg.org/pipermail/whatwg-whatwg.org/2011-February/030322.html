<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Thoughts on recent WhatWG blog post
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Thoughts%20on%20recent%20WhatWG%20blog%20post&In-Reply-To=%3CAANLkTi%3DZgZqWqQUnFLY8M4fP-KKyV%3Dh%3D7DZdoWPntprs%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030286.html">
   <LINK REL="Next"  HREF="030291.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Thoughts on recent WhatWG blog post</H1>
<!--htdig_noindex-->
    <B>Aryeh Gregor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Thoughts%20on%20recent%20WhatWG%20blog%20post&In-Reply-To=%3CAANLkTi%3DZgZqWqQUnFLY8M4fP-KKyV%3Dh%3D7DZdoWPntprs%40mail.gmail.com%3E"
       TITLE="[whatwg] Thoughts on recent WhatWG blog post">Simetrical+w3c at gmail.com
       </A><BR>
    <I>Tue Feb  8 15:39:32 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030286.html">[whatwg] Thoughts on recent WhatWG blog post
</A></li>
        <LI>Next message: <A HREF="030291.html">[whatwg] Thoughts on recent WhatWG blog post
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30322">[ date ]</a>
              <a href="thread.html#30322">[ thread ]</a>
              <a href="subject.html#30322">[ subject ]</a>
              <a href="author.html#30322">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Feb 7, 2011 at 6:15 PM, Adam van den Hoven &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">adam at littlefyr.com</A>&gt; wrote:
&gt;<i> But that is exactly what has happened, or perhaps some existing pollution is
</I>&gt;<i> simply being codified.
</I>
atob() and btoa() were first implemented years ago, I guess by
Netscape, and are supported in all major browsers except IE.  So they
were already in the global namespace (except if you only care about
IE).

&gt;<i> You could collect them into a single global object, and that was something I
</I>&gt;<i> though about, as well. But I think that this is a more generally applicable
</I>&gt;<i> solution.&#160;There are many libraries that do nothing but load javascript from
</I>&gt;<i> within javascript. They all do it by writing a script tag to the DOM. I
</I>&gt;<i> believe this is a code smell. Having a consistent way to do this sort of
</I>&gt;<i> thing would improve the lives of a lot of code developers and create some
</I>&gt;<i> consistency between what is happening on the server side as well.
</I>
It would certainly make sense to have some way to include JavaScript
other than adding &lt;script&gt; to the DOM, but I don't think it needs the
namespace/module-style functionality that's part of your proposal.
Your proposal seems to be trying to do several different things at
once, not all of which look necessary.

To make a good proposal, you need to first clearly identify all the
problems you see with the status quo, in the form of use-cases -- &quot;I
want to do X but can't&quot;, where X is something of self-evident utility.
 Only once you've clearly identified the problems is it useful to talk
about solutions.  Mixing the problem statement together with your
solution makes it harder for everyone else to consider alternative
solutions to your problems.

&gt;<i> It seems to me that allowing a mechanism by which compiled&#160;javascript to be
</I>&gt;<i> cached between page requests should be a benefit.
</I>
What does &quot;compiled&quot; mean here?  Browsers these days do compile
JavaScript to machine code, but if they could cache the compiled form
with your proposal, they could cache it without your proposal too.
How does your proposal benefit caching compared to the status quo?

Or do you mean &quot;compiled&quot; as in JavaScript minification?  In that
case, I don't see how it's relevant to browser-level features, since
browsers don't know about minification.

&gt;<i> Inserting a script element is great, so long as you're writing code that
</I>&gt;<i> only gets run in a browser.
</I>
What non-browser agent are you thinking about here?

&gt;<i> The number of well behaved libraries is very limited and generally they
</I>&gt;<i> don't work well together.
</I>
Jonas says this is being worked on elsewhere at the language level, so
no need to consider it here further.

&gt;<i> Its quite simple. If you have a page that contains user contributed content,
</I>&gt;<i> you spend lots of time trying to prevent people from injecting bad code. For
</I>&gt;<i> example, if you were to bypass the filters (which unfortunately does happen
</I>&gt;<i> from time to time) you could redefine jQuery.ajax to send a copy to where
</I>&gt;<i> ever.
</I>
You could also steal the user's cookies and send them off to your evil
site without using jQuery at all.  How does access to jQuery
exacerbate the attack?  Once you can run JS, you don't need libraries
to carry out typical attacks.  Put another way, why would an attacker
even bother trying to use the libraries you've loaded instead of just
running whatever code they like directly?
</PRE>


























































































































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030286.html">[whatwg] Thoughts on recent WhatWG blog post
</A></li>
	<LI>Next message: <A HREF="030291.html">[whatwg] Thoughts on recent WhatWG blog post
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30322">[ date ]</a>
              <a href="thread.html#30322">[ thread ]</a>
              <a href="subject.html#30322">[ subject ]</a>
              <a href="author.html#30322">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
