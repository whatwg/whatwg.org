<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTML-to-plaintext conversion (innerText and	Selection.toString())
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML-to-plaintext%20conversion%20%28innerText%20and%0A%09Selection.toString%28%29%29&In-Reply-To=%3CAANLkTinGixsyZ6oexezQD2CQwaPeZ%3D_zJomEoXnFONZO%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030233.html">
   <LINK REL="Next"  HREF="030223.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTML-to-plaintext conversion (innerText and	Selection.toString())</H1>
<!--htdig_noindex-->
    <B>Aryeh Gregor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML-to-plaintext%20conversion%20%28innerText%20and%0A%09Selection.toString%28%29%29&In-Reply-To=%3CAANLkTinGixsyZ6oexezQD2CQwaPeZ%3D_zJomEoXnFONZO%40mail.gmail.com%3E"
       TITLE="[whatwg] HTML-to-plaintext conversion (innerText and	Selection.toString())">Simetrical+w3c at gmail.com
       </A><BR>
    <I>Fri Feb  4 13:17:13 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030233.html">[whatwg] HTML-to-plaintext conversion (innerText and	Selection.toString())
</A></li>
        <LI>Next message: <A HREF="030223.html">[whatwg] HTML-to-plaintext conversion (innerText and	Selection.toString())
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30235">[ date ]</a>
              <a href="thread.html#30235">[ thread ]</a>
              <a href="subject.html#30235">[ subject ]</a>
              <a href="author.html#30235">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Feb 4, 2011 at 3:15 PM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:
&gt;&gt;<i> Well, it shouldn't do weird stuff on a disconnected subree. &#160;:) &#160;It
</I>&gt;&gt;<i> doesn't in IE.
</I>&gt;<i>
</I>&gt;<i> I thought you said Webkit would refuse to implement that sort of behavior?
</I>
I don't think I said that -- I can't speak for WebKit at all.  The
only things I know about it are what Maciej has said to me.

&gt;<i> I have no idea whether they will, because I'm still not sure what problems
</I>&gt;<i> we're trying to solve here...
</I>
The thing is, I don't think there are any big problems.  AFAICT, the
use-cases are marginal and can be solved via JavaScript if people
actually want to.  So I don't see reason to maintain incompatibility
here.

&gt;&gt;<i> &#160;From what WebKit and Opera people have told me, innerText is necessary
</I>&gt;&gt;<i> for web-compat for non-Gecko browsers. &#160;There are sites out there that
</I>&gt;&gt;<i> use textContent if they sniff Firefox, and innerText otherwise.
</I>&gt;<i>
</I>&gt;<i> That's really unfortunate (esp. if they actually sniff for &quot;Firefox&quot;). &#160;:(
</I>
Apparently search.blogs.ebay.com, or some page on it, formerly contained

if(vjo.dsf.client.Browser.bFirefox){oL.textContent=_d;}else{oL.innerText=_d;}

I don't know if this is very common, though, to be fair.

&gt;<i> But the &quot;Firefox&quot; path takes the textContent and does its own newline
</I>&gt;<i> processing or something?
</I>
I don't know.  I haven't seen specific examples where innerText can't
behave exactly like textContent.  But Maciej said he's seen such
content, and newline handling is the only substantive difference in
Opera between innerText and textContent, so I assume it's there for a
reason.  It could be that such pages just break if innerText doesn't
exist.  I've certainly found such pages, e.g.,

<A HREF="http://beihai.gov.cn/5863/2010_4_28/5863_98289_1272423962000.html?open=1">http://beihai.gov.cn/5863/2010_4_28/5863_98289_1272423962000.html?open=1</A>

A whole chunk of content is missing in Firefox.  Such pages seem to be
mostly East Asian.
</PRE>

















































































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030233.html">[whatwg] HTML-to-plaintext conversion (innerText and	Selection.toString())
</A></li>
	<LI>Next message: <A HREF="030223.html">[whatwg] HTML-to-plaintext conversion (innerText and	Selection.toString())
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30235">[ date ]</a>
              <a href="thread.html#30235">[ thread ]</a>
              <a href="subject.html#30235">[ subject ]</a>
              <a href="author.html#30235">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
