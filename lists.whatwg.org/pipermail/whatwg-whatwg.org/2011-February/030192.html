<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Inconsistency between canvas and CSS color serialization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Inconsistency%20between%20canvas%20and%20CSS%20color%20serialization&In-Reply-To=%3C4D4AFA19.3000708%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030191.html">
   <LINK REL="Next"  HREF="072466.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Inconsistency between canvas and CSS color serialization</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Inconsistency%20between%20canvas%20and%20CSS%20color%20serialization&In-Reply-To=%3C4D4AFA19.3000708%40mit.edu%3E"
       TITLE="[whatwg] Inconsistency between canvas and CSS color serialization">bzbarsky at MIT.EDU
       </A><BR>
    <I>Thu Feb  3 10:55:21 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030191.html">[whatwg] Encrypted HTTP and related security concerns - make mixed content warnings accessible from JS?
</A></li>
        <LI>Next message: <A HREF="072466.html">[whatwg] Inconsistency between canvas and CSS color	serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30192">[ date ]</a>
              <a href="thread.html#30192">[ thread ]</a>
              <a href="subject.html#30192">[ subject ]</a>
              <a href="author.html#30192">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>It looks like CSS rgba colors with an alpha value of 0 are serialized as 
rgba() with &quot;0&quot; as the alpha value. in at least Gecko, Webkit, and Presto.

It also looks like canvas style color with an alpha value of 0 are 
serialized as rgba() with &quot;0.0&quot; as the alpha value in Gecko 3.6, Webkit, 
and Presto.

In Gecko 2.0 we made a change to the canvas code to fix some bugs in the 
serialization by the simple expedient of reusing the well-tested code 
that CSS colors use.  This has the incidental benefit of more behavior 
consistency for authors.  Unfortunately, this makes us not do what these 
other UAs do, nor do what the current spec draft says.

While we can clearly special-case 0 in this code, it seems like an 
authoring pitfall to have the two different serialization styles, so I 
would prefer to have consistent behavior between the two.  What do other 
UA vendors think of standardizing on &quot;0&quot; as the serialization for canvas 
color alpha channels when they're transparent?  Alternately, what about 
using &quot;0.0&quot; for CSS colors?

-Boris
</PRE>


















































































































































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030191.html">[whatwg] Encrypted HTTP and related security concerns - make mixed content warnings accessible from JS?
</A></li>
	<LI>Next message: <A HREF="072466.html">[whatwg] Inconsistency between canvas and CSS color	serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30192">[ date ]</a>
              <a href="thread.html#30192">[ thread ]</a>
              <a href="subject.html#30192">[ subject ]</a>
              <a href="author.html#30192">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
