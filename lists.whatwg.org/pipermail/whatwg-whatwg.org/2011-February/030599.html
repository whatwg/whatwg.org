<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Websockets Client API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Websockets%20Client%20API&In-Reply-To=%3C4D61C12D.9010207%40callenish.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030596.html">
   <LINK REL="Next"  HREF="030601.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Websockets Client API</H1>
<!--htdig_noindex-->
    <B>Bruce Atherton</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Websockets%20Client%20API&In-Reply-To=%3C4D61C12D.9010207%40callenish.com%3E"
       TITLE="[whatwg] Websockets Client API">bruce at callenish.com
       </A><BR>
    <I>Sun Feb 20 17:34:37 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030596.html">[whatwg] Websockets Client API
</A></li>
        <LI>Next message: <A HREF="030601.html">[whatwg] Websockets Client API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30599">[ date ]</a>
              <a href="thread.html#30599">[ thread ]</a>
              <a href="subject.html#30599">[ subject ]</a>
              <a href="author.html#30599">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 20/02/2011 2:57 PM, Robert O'Callahan wrote:
&gt;<i> It's not magic, the spec is perfectly clear. The language about &quot;queuing a
</I>&gt;<i> task&quot; ensures that any callback events fire after the current task (e.g. the
</I>&gt;<i> script event handler that created the Websocket connection) has run to
</I>&gt;<i> completion.
</I>&gt;<i>
</I>
Perhaps you are reading a different spec than I am. The only language I 
see about queuing tasks involves changing the ready state on the 
Websocket object. There is nothing in there about waiting until a block 
of other Javascript code has run before making any other event callbacks.

Let me see if I follow the &quot;perfectly clear&quot; line of reasoning you are 
using. Your assumption is that a Websocket connection will only be 
loaded in an event handler like window.onload. No other events will be 
delivered until the current event handler finishes. And the event 
handler that creates the Websocket object will necessarily also be where 
the event handlers are set on the Websocket object. By making all of 
these assumptions, it becomes obvious that within a browser this API is 
safe for callbacks. Do I have that right?

I am reminded of a joke about mathematicians. One argues that it is 
obvious that claim A follows from B. The other disagrees. After arguing 
for an hour, the latter finally agrees that A obviously follows from B.

</PRE>



















































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030596.html">[whatwg] Websockets Client API
</A></li>
	<LI>Next message: <A HREF="030601.html">[whatwg] Websockets Client API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30599">[ date ]</a>
              <a href="thread.html#30599">[ thread ]</a>
              <a href="subject.html#30599">[ subject ]</a>
              <a href="author.html#30599">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
