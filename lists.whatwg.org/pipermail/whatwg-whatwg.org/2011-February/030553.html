<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Cryptographically strong random numbers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Cryptographically%20strong%20random%20numbers&In-Reply-To=%3CAANLkTimOZzmgzmtkP%2BysKk5YXVkKq9QADMzmxdbR388w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030551.html">
   <LINK REL="Next"  HREF="030552.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Cryptographically strong random numbers</H1>
<!--htdig_noindex-->
    <B>Cedric Vivier</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Cryptographically%20strong%20random%20numbers&In-Reply-To=%3CAANLkTimOZzmgzmtkP%2BysKk5YXVkKq9QADMzmxdbR388w%40mail.gmail.com%3E"
       TITLE="[whatwg] Cryptographically strong random numbers">cedricv at neonux.com
       </A><BR>
    <I>Wed Feb 16 18:30:00 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030551.html">[whatwg] Cryptographically strong random numbers
</A></li>
        <LI>Next message: <A HREF="030552.html">[whatwg] Cryptographically strong random numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30553">[ date ]</a>
              <a href="thread.html#30553">[ thread ]</a>
              <a href="subject.html#30553">[ subject ]</a>
              <a href="author.html#30553">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Feb 17, 2011 at 08:29, Allen Wirfs-Brock &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">allen at wirfs-brock.com</A>&gt; wrote:
&gt;<i> &#160;Array.randomFill= function (length){...};
</I>&gt;<i>
</I>&gt;<i> This would create a new array of the specified length where each element is a random value in some range. &#160;I propose that this range be 0..65535 as these are easily manipulatable (and optimizable) values &#160;that are likely to have some degree of optimization in all implementations. &#160;I don't really see why other element ranges need to be supported as they are easily constructed these values. &#160;However, if strong use cases (endianness??) can be made for the utility of natively supporting multiple element ranges then we could either add more functions:
</I>&gt;<i> &#160;Array.randomFill8(length)
</I>&gt;<i> &#160;Array.randomFill24(length)
</I>&gt;<i> &#160;Array.randomFill32(length)
</I>&gt;<i> or accept an optimal second parameter that specifies the desired bit width:
</I>&gt;<i> &#160;Array.randomFill(length, bitWidth &#160;/*1 .. (32?, 48?, 53?) */)
</I>&gt;<i>
</I>&gt;<i> I would recommend keeping it simple and avoiding such non-essential tweaks.
</I>&gt;<i>
</I>&gt;<i> There was some (it didn't seem very serious) concerns about the cost of array allocation for such calls. &#160;I would point out &#160;that creating a new array is already the technique used in ECMAScript for most somewhat comparable situations such as the results of RegExp matches, the set of items deleted by slice, etc. Others might invoke words about the desirability of a functional style...
</I>

As Glenn pointed out, efficiency is just one part of the concern.
Flexibility is the main one. The fact you struggle to propose an API
that can satisfy everyone with 4 different randomFill functions rings
'code smell' to me.

You are making policy decisions on what kind of values (eg &quot;only
0..65535&quot;) you can get from it and might severely hamper use cases
where efficiency is important (eg. just on top of my head, _stream_
random data to WebGL or WebGL) while it is always possible to create
an array before the call if you want to (or write a 3 line wrapper to
do that).

In fact most other languages/frameworks work this way, and I'm not
sure it makes sense in the first place to have this kind of specific
'seldom used' function in the language and/or such a basic and
commonly used type as Array, compared to have it in a type providing
crypto features (eg. &lt;global&gt;.crypto).


Regards,
</PRE>










































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030551.html">[whatwg] Cryptographically strong random numbers
</A></li>
	<LI>Next message: <A HREF="030552.html">[whatwg] Cryptographically strong random numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30553">[ date ]</a>
              <a href="thread.html#30553">[ thread ]</a>
              <a href="subject.html#30553">[ subject ]</a>
              <a href="author.html#30553">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
