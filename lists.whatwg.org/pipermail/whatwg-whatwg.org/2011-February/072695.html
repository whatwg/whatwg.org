<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Application Cache for on-line sites
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Application%20Cache%20for%20on-line%20sites&In-Reply-To=%3CAANLkTikkbqcK0eJF4cFqbvsz5kMyfwjR-A3WLU2xAQW5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030410.html">
   <LINK REL="Next"  HREF="072722.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Application Cache for on-line sites</H1>
<!--htdig_noindex-->
    <B>Jeremy Orlow</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Application%20Cache%20for%20on-line%20sites&In-Reply-To=%3CAANLkTikkbqcK0eJF4cFqbvsz5kMyfwjR-A3WLU2xAQW5%40mail.gmail.com%3E"
       TITLE="[whatwg] Application Cache for on-line sites">jorlow at chromium.org
       </A><BR>
    <I>Fri Feb 11 15:03:51 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030410.html">[whatwg] Application Cache for on-line sites
</A></li>
        <LI>Next message: <A HREF="072722.html">[whatwg] Application Cache for on-line sites
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72695">[ date ]</a>
              <a href="thread.html#72695">[ thread ]</a>
              <a href="subject.html#72695">[ subject ]</a>
              <a href="author.html#72695">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>bcc chromium-html5

In addition to what Michael has cited, I've had many developers (at various
Google events) ask why we don't have some API like this as well.  I think
it's clear there's demand.

On Fri, Feb 11, 2011 at 1:14 PM, Michael Nordman &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">michaeln at google.com</A>&gt;wrote:

&gt;<i> Waking this feature request up again as it's been requested multiple
</I>&gt;<i> times, I think the ability to utilize an appcache w/o having to have
</I>&gt;<i> the page added to it is the #1 appcache feature request that I've
</I>&gt;<i> heard.
</I>&gt;<i>
</I>&gt;<i> * The Gmail mobile team has mentioned this.
</I>&gt;<i>
</I>&gt;<i> * Here's a thread on a chromium.org mailing list where this feature is
</I>&gt;<i> requested: &quot;How to instruct the main page to be not cached?&quot;
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://groups.google.com/a/chromium.org/group/chromium-html5/browse_thread/thread/a254e2090510db39/916f3a8da40e34f8">https://groups.google.com/a/chromium.org/group/chromium-html5/browse_thread/thread/a254e2090510db39/916f3a8da40e34f8</A>
</I>&gt;<i>
</I>&gt;<i> * More recently this has been requested in the context of an
</I>&gt;<i> application that uses pushState to alter the url of the main page.
</I>&gt;<i>
</I>&gt;<i> To keep this discussion distinct from others, I'm pulling in the few
</I>&gt;<i> comments that have been made on another thread.
</I>&gt;<i>
</I>&gt;<i> hixie said...
</I>&gt;<i> &gt; Why can't the pages just switch to a more AJAX-like model rather than
</I>&gt;<i> &gt; having the main page still load over the network? The main page loading
</I>&gt;<i> &gt; over the network is a big part of the page being slow.
</I>&gt;<i>
</I>&gt;<i> and i replied...
</I>&gt;<i> &gt; The premise of the feature request is that the &quot;main&quot; pages aren't
</I>&gt;<i> &gt; cached at all.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; | I tried to use the HTML5 Application Cache to improve the performances
</I>&gt;<i> &gt; | of on-line sites (all the tutorials on the web write only about usage
</I>&gt;<i> &gt; | with off-line apps)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; As for &quot;why can't the pages just switch&quot;, I can't speak for andrea,
</I>&gt;<i> &gt; but i can guess that a redesign of that nature was out of scope and/or
</I>&gt;<i> &gt; would conflict with other requirements around how the url address
</I>&gt;<i> &gt; space of the app is defined.
</I>&gt;<i>
</I>&gt;<i> Once you get past the &quot;should this be a feature&quot; question, there are
</I>&gt;<i> some questions to answer.
</I>&gt;<i>
</I>&gt;<i> 1) How does an author indicate which pages should be added to the
</I>&gt;<i> cache and which should not?
</I>&gt;<i>
</I>&gt;<i> A few ideas...
</I>&gt;<i> a. &lt;html useManifest='x'&gt;
</I>&gt;<i> b. If the main resource has a &quot;no-store&quot; header, don't add it to the
</I>&gt;<i> cache, but do associate the document with the cache.
</I>&gt;<i> b. A new manifest section to define a prefix matched namespace for these
</I>&gt;<i> pages.
</I>&gt;<i>
</I>&gt;<i> 2) What sequence of events does a page that just uses the cache w/o
</I>&gt;<i> being added to it observe?
</I>&gt;<i>
</I>&gt;<i> 3) At what point do subresources in an existing appcache start getting
</I>&gt;<i> utlized by such pages? What if the appcache is stale? Do subresource
</I>&gt;<i> loads cause revalidation?
</I>&gt;<i>
</I>&gt;<i> On Mon, Dec 20, 2010 at 12:56 PM, Michael Nordman &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">michaeln at chromium.org</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; This type of request (see forwarded message below) to utilize the
</I>&gt;<i> &gt; application cache for subresource loads into documents that are not
</I>&gt;<i> stored
</I>&gt;<i> &gt; in the cache has come up several times now. The current feature set is
</I>&gt;<i> very
</I>&gt;<i> &gt; focused on the &quot;offline&quot; use case. Is it worth making additions such that
</I>&gt;<i> a
</I>&gt;<i> &gt; document that loads from a server can utilize the resources in an
</I>&gt;<i> appcache?
</I>&gt;<i> &gt; Today we have &lt;html manifest=&quot;manifestFile&quot;&gt;, which adds the document
</I>&gt;<i> &gt; containing this tag to the appcache and associates that doc with that
</I>&gt;<i> &gt; appcache such that subresource loads hit the appcache.
</I>&gt;<i> &gt; Not a complete proposal, but...
</I>&gt;<i> &gt; What if we had something along the lines of &lt;html
</I>&gt;<i> &gt; useManifest=''manifestFile&quot;&gt;, which would do the association of the doc
</I>&gt;<i> with
</I>&gt;<i> &gt; the appcache (so subresources loads hit the cache) but not add the
</I>&gt;<i> document
</I>&gt;<i> &gt; to the cache?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ---------- Forwarded message ----------
</I>&gt;<i> &gt; From: UVL &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">andrea.doimo at gmail.com</A>&gt;
</I>&gt;<i> &gt; Date: Sun, Dec 19, 2010 at 1:35 PM
</I>&gt;<i> &gt; Subject: [chromium-html5] Application Cache for on-line sites
</I>&gt;<i> &gt; To: Chromium HTML5 &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">chromium-html5 at chromium.org</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I tried to use the HTML5 Application Cache to improve the performances
</I>&gt;<i> &gt; of on-line sites (all the tutorials on the web write only about usage
</I>&gt;<i> &gt; with off-line apps)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I created the manifest listing all the js, css and images, and the
</I>&gt;<i> &gt; performances were really exciting, until I found that even the page
</I>&gt;<i> &gt; HTML was cached, despite it was not listed in the manifest. The pages
</I>&gt;<i> &gt; of the site are in PHP, so I don't want them to be cached.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; From
</I>&gt;<i> &gt; <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/offline.html">http://www.whatwg.org/specs/web-apps/current-work/multipage/offline.html</A>
</I>&gt;<i> &gt; :
</I>&gt;<i> &gt; &quot;Authors are encouraged to include the main page in the manifest also,
</I>&gt;<i> &gt; but in practice the page that referenced the manifest is automatically
</I>&gt;<i> &gt; cached even if it isn't explicitly mentioned.&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is there a way to have this automating caching disabled?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Note: I know that caching can be controlled via HTTP headers, but I
</I>&gt;<i> &gt; just wanted to try this way as it looks quite reliable, clean and
</I>&gt;<i> &gt; powerful.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; You received this message because you are subscribed to the Google Groups
</I>&gt;<i> &gt; &quot;Chromium HTML5&quot; group.
</I>&gt;<i> &gt; To post to this group, send email to <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">chromium-html5 at chromium.org.</A>
</I>&gt;<i> &gt; To unsubscribe from this group, send email to
</I>&gt;<i> &gt; <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">chromium-html5+unsubscribe at chromium.org.</A>
</I>&gt;<i> &gt; For more options, visit this group at
</I>&gt;<i> &gt; <A HREF="http://groups.google.com/a/chromium.org/group/chromium-html5/?hl=en.">http://groups.google.com/a/chromium.org/group/chromium-html5/?hl=en.</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030410.html">[whatwg] Application Cache for on-line sites
</A></li>
	<LI>Next message: <A HREF="072722.html">[whatwg] Application Cache for on-line sites
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72695">[ date ]</a>
              <a href="thread.html#72695">[ thread ]</a>
              <a href="subject.html#72695">[ subject ]</a>
              <a href="author.html#72695">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
