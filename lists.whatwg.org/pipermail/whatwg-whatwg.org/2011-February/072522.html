<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Cryptographically strong random numbers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Cryptographically%20strong%20random%20numbers&In-Reply-To=%3CAANLkTiksATsR8p2jbb8Pj%3DpaKojY_F%2BKmB%2Bvu0C1De98%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072548.html">
   <LINK REL="Next"  HREF="072523.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Cryptographically strong random numbers</H1>
<!--htdig_noindex-->
    <B>Cedric Vivier</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Cryptographically%20strong%20random%20numbers&In-Reply-To=%3CAANLkTiksATsR8p2jbb8Pj%3DpaKojY_F%2BKmB%2Bvu0C1De98%40mail.gmail.com%3E"
       TITLE="[whatwg] Cryptographically strong random numbers">cedricv at neonux.com
       </A><BR>
    <I>Fri Feb  4 21:00:05 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072548.html">[whatwg] Cryptographically strong random numbers
</A></li>
        <LI>Next message: <A HREF="072523.html">[whatwg] Cryptographically strong random numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72522">[ date ]</a>
              <a href="thread.html#72522">[ thread ]</a>
              <a href="subject.html#72522">[ subject ]</a>
              <a href="author.html#72522">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

On Sat, Feb 5, 2011 at 08:42, Adam Barth &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">w3c at adambarth.com</A>&gt; wrote:
&gt;<i> interface Crypto {
</I>&gt;<i> &#160;Float32Array getRandomFloat32Array(in long length);
</I>&gt;<i> &#160;Uint8Array getRandomUint8Array(in long length);
</I>&gt;<i> };
</I>
I think the API would be more flexible and more future-proof defined as :

interface Crypto {
    void getRandomValues(in ArrayBufferView data);
}

getRandomValues(in ArrayBufferView data)
Fills a typed array with a cryptographically strong sequence of random values.
The length of the array determines how many cryptographically strong
random values are produced.


We had same discussion when defining readPixels API in WebGL.

Advantages :
1) this allows to reuse the same array over and over when necessary,
or circular buffer, instead of trashing the GC with new allocations
everytime one wants new random bytes.
2) this allows to fill any integer array directly (Float*Array might
need more specification here though as Boris pointed out - could be
disallowed initially)
3) this avoids exposing N methods for every type and makes refactoring
simpler (changing the array type does not require changing the
function call)

(and also better matches most existing crypto APIs in other languages
that are also given an array to fill rather than returning an array)


Regards,

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072548.html">[whatwg] Cryptographically strong random numbers
</A></li>
	<LI>Next message: <A HREF="072523.html">[whatwg] Cryptographically strong random numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72522">[ date ]</a>
              <a href="thread.html#72522">[ thread ]</a>
              <a href="subject.html#72522">[ subject ]</a>
              <a href="author.html#72522">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
