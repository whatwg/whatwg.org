<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal for separating script downloads and execution
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and%20execution&In-Reply-To=%3CAANLkTikyx9pLma0O5JZ%3DfqYeVn_0oLPeiFnDRpRAiNvN%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030313.html">
   <LINK REL="Next"  HREF="030315.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal for separating script downloads and execution</H1>
<!--htdig_noindex-->
    <B>John Tamplin</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and%20execution&In-Reply-To=%3CAANLkTikyx9pLma0O5JZ%3DfqYeVn_0oLPeiFnDRpRAiNvN%40mail.gmail.com%3E"
       TITLE="[whatwg] Proposal for separating script downloads and execution">jat at google.com
       </A><BR>
    <I>Tue Feb  8 13:21:25 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030313.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
        <LI>Next message: <A HREF="030315.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30314">[ date ]</a>
              <a href="thread.html#30314">[ thread ]</a>
              <a href="subject.html#30314">[ subject ]</a>
              <a href="author.html#30314">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Feb 8, 2011 at 4:13 PM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:

&gt;<i> Here's the thing.  Parsing is a black-box behavior.  Nothing says a browser
</I>&gt;<i> needs to do it right before execution, that it needs to happen on the main
</I>&gt;<i> thread, or that it's happening at all.
</I>&gt;<i>
</I>&gt;<i> For example, for Gecko we have had proposals to parse off the main thread,
</I>&gt;<i> as well as to store parsed script data structures in the cache so on a cache
</I>&gt;<i> hit we just load the already-parsed data.  We've also had proposals to parse
</I>&gt;<i> eagerly when priming the speculative load cache; this could be a good bit
</I>&gt;<i> before the script executes, assuming it ever executes.
</I>&gt;<i>
</I>&gt;<i> So is control over parsing really just working around quality of
</I>&gt;<i> implementation issues?  Or do you really need to constrain the timing of the
</I>&gt;<i> parse so as to preclude it being done on a background thread, while the
</I>&gt;<i> parser is waiting for a previous script to load?
</I>

I think it is useful to provide ignorable hints to browser to indicate that
you want this downloaded but you don't need it parsed right away.  A smarter
browser that does it in another thread or otherwise doesn't impact the user
by doing the parsing is free to ignore them if it chooses.  Of course, if it
doesn't actually avoid the problem, then you will wind up with
comment-out/etc hacks on that browser.

-- 
John A. Tamplin
Software Engineer (GWT), Google
</PRE>






<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030313.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
	<LI>Next message: <A HREF="030315.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30314">[ date ]</a>
              <a href="thread.html#30314">[ thread ]</a>
              <a href="subject.html#30314">[ subject ]</a>
              <a href="author.html#30314">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
