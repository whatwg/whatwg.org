<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Google Feedback on the HTML5 media a11y specifications
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Google%20Feedback%20on%20the%20HTML5%20media%20a11y%20specifications&In-Reply-To=%3Cop.vqwiohc4sr6mfa%40kirk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030357.html">
   <LINK REL="Next"  HREF="030493.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Google Feedback on the HTML5 media a11y specifications</H1>
<!--htdig_noindex-->
    <B>Philip J&#228;genstedt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Google%20Feedback%20on%20the%20HTML5%20media%20a11y%20specifications&In-Reply-To=%3Cop.vqwiohc4sr6mfa%40kirk%3E"
       TITLE="[whatwg] Google Feedback on the HTML5 media a11y specifications">philipj at opera.com
       </A><BR>
    <I>Mon Feb 14 08:27:43 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030357.html">[whatwg] Google Feedback on the HTML5 media a11y specifications
</A></li>
        <LI>Next message: <A HREF="030493.html">[whatwg] Google Feedback on the HTML5 media a11y specifications
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30466">[ date ]</a>
              <a href="thread.html#30466">[ thread ]</a>
              <a href="subject.html#30466">[ subject ]</a>
              <a href="author.html#30466">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 09 Feb 2011 03:57:37 +0100, Silvia Pfeiffer  
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">silviapfeiffer1 at gmail.com</A>&gt; wrote:

&gt;&gt;&gt;<i> A. Feedback on the WebVTT format
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 1. Introduce file-wide metadata
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> WebVTT requires a structure to add header-style metadata. We are here
</I>&gt;&gt;&gt;<i> talking about lists of name-value pairs as typically in use for header
</I>&gt;&gt;&gt;<i> information. The metadata can be optional, but we need a defined means
</I>&gt;&gt;&gt;<i> of adding them.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Required attributes in WebVTT files should be the main language in use
</I>&gt;&gt;&gt;<i> and the kind of data found in the WebVTT file - information that is
</I>&gt;&gt;&gt;<i> currently provided in the &lt;track&gt; element by the @srclang and @kind
</I>&gt;&gt;&gt;<i> attributes. These are necessary to allow the files to be interpreted
</I>&gt;&gt;&gt;<i> correctly by non-browser applications, for transcoding or to determine
</I>&gt;&gt;&gt;<i> if a file was created as a caption file or something else, in
</I>&gt;&gt;&gt;<i> particular the @kind=metadata. @srclang also sets the base
</I>&gt;&gt;&gt;<i> directionality for BiDi calculations.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Are there non-browsers that use the language for font-selection or  
</I>&gt;&gt;<i> bidi? Is
</I>&gt;&gt;<i> auto-detection not likely to give a better user experience? Are there  
</I>&gt;&gt;<i> any
</I>&gt;&gt;<i> other use cases for knowing the language of the captions *after* they've
</I>&gt;&gt;<i> been opened?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I can't see a different way to let non-browser applications know what
</I>&gt;<i> font to choose, even how to provide the user with a menu of available
</I>&gt;<i> caption tracks for a video, or to set the base directionality for
</I>&gt;<i> BiDi. Also, language auto-detection is a huge burden to put onto
</I>&gt;<i> non-browser applications. Having a readable language tag at the
</I>&gt;<i> beginning of the file is useful to quickly figure it all out.
</I>&gt;<i>
</I>&gt;<i> The language set in &lt;track&gt; would certainly overrule what is in the
</I>&gt;<i> file. Also, the last language attribute in the header would probably
</I>&gt;<i> win.
</I>&gt;<i>
</I>&gt;<i> I guess it would also be ok to have language and kind optional -
</I>&gt;<i> different applications may then default to interpreting WebVTT files
</I>&gt;<i> differently, such as by default English and Captions - or English and
</I>&gt;<i> Descriptions, but that's probably acceptable from context.
</I>
Given that most existing subtitle formats don't have any language  
metadata, I'm a bit skeptical. However, if implementors of non-browser  
players want to implement WebVTT and ask for this I won't stand in the way  
(not that I could if I wanted to). For simplicity, I'd prefer the language  
metadata from the file to not have any effect on browsers though, even if  
no language is given on &lt;track&gt;.

&gt;&gt;<i> Why do non-browser players need to know the kind? All kinds are  
</I>&gt;&gt;<i> processed in
</I>&gt;&gt;<i> the same way except metadata, and there's no reason to use metadata  
</I>&gt;&gt;<i> tracks
</I>&gt;&gt;<i> with external players.
</I>&gt;<i>
</I>&gt;<i> Maybe I have a different view of what applications will make use of
</I>&gt;<i> WebVTT files than most. My thinking is that there will also be uses
</I>&gt;<i> for metadata tracks in external applications. Aside from this, there
</I>&gt;<i> will be authoring applications and players, yes, but there will also
</I>&gt;<i> be automated processing tools. So, to know what type of content is
</I>&gt;<i> inside a file without having to look at more than the file's headers
</I>&gt;<i> is really important.
</I>
For both of these cases, putting some magic strings inside comments that  
are ignored by browsers sounds like it would be sufficient. Name-value  
metadata that is ignored by browsers would be fine as well.

&gt;&gt;&gt;<i> Further metadata fields that are typically used by authors to keep
</I>&gt;&gt;&gt;<i> specific authoring information or usage hints are necessary, too. As
</I>&gt;&gt;&gt;<i> examples of current use see the format of MPlayer mpsub&#8217;s header
</I>&gt;&gt;&gt;<i> metadata [2], EBU STL&#8217;s General Subtitle Information block [3], and
</I>&gt;&gt;&gt;<i> even CEA-608&#8217;s Extended Data Service with its StartDate, Station,
</I>&gt;&gt;&gt;<i> Program, Category and TVRating information [4]. Rather than specifying
</I>&gt;&gt;&gt;<i> a specific subset of potential fields we recommend to just have the
</I>&gt;&gt;&gt;<i> means to provide name-value pairs and leave it to the negotiation
</I>&gt;&gt;&gt;<i> between the author and the publisher which fields they expect of each
</I>&gt;&gt;&gt;<i> other.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This approach has worked very well with Vorbis Comments, probably mostly
</I>&gt;&gt;<i> because all interesting fields have been pre-defined in
</I>&gt;&gt;<i> <A HREF="http://www.xiph.org/vorbis/doc/v-comment.html">http://www.xiph.org/vorbis/doc/v-comment.html</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For a web format though, wouldn't some kind of wiki registry be good to
</I>&gt;&gt;<i> avoid total mayhem, especially if there are some predefined fields? (Not
</I>&gt;&gt;<i> having file-wide metadata would also avoid such mayhem.)
</I>&gt;<i>
</I>&gt;<i> It might be good to define a base set - the Vorbis Comments one or the
</I>&gt;<i> ID3 ones could be appropriate. Even the old Dublin Core set (the first
</I>&gt;<i> ones, not the current chaos) could be good. I could also analyse the
</I>&gt;<i> sets used in current typical caption formats and propose a superset of
</I>&gt;<i> those.
</I>&gt;<i>
</I>&gt;<i> While I think you're right with suggesting a predefined set of fields,
</I>&gt;<i> I am mostly keen right now to agree on the general format of the
</I>&gt;<i> fields and how we need to parse them rather than what they actually
</I>&gt;<i> are.
</I>&gt;<i>
</I>&gt;<i> So, I would suggest we allow lines of &quot;name=value&quot; under the WEBVTT
</I>&gt;<i> magic string. A blank line defines the end of the header section and
</I>&gt;<i> the beginning of the cues. Would be simple enough to parse, right?
</I>
Sure, it's already handled by the current parsing spec, since it ignores  
everything up to the first blank line.

&gt;&gt;&gt;<i> 4. Cue formatting requirements
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> In analysing the available cue formatting functionality, we have found
</I>&gt;&gt;&gt;<i> that some features are missing. Most of these features can be added
</I>&gt;&gt;&gt;<i> through using CSS on cues that have received a &lt;b&gt;, &lt;i&gt;, &lt;c&gt; or &lt;v&gt;
</I>&gt;&gt;&gt;<i> marker. The following features are core to traditional TV and exist in
</I>&gt;&gt;&gt;<i> EBU STL and CEA-608/708 captions. Support of these will be a core
</I>&gt;&gt;&gt;<i> requirement for browsers as well as non-browser applications and it
</I>&gt;&gt;&gt;<i> makes sense to add these to WebVTT rather than relying on external CSS
</I>&gt;&gt;&gt;<i> which cannot be used for non-browser captions:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The unstated requirement here seems to be that WebVTT needs to work as  
</I>&gt;&gt;<i> an
</I>&gt;&gt;<i> interchange format for various TV captioning formats even in user agents
</I>&gt;&gt;<i> without any support for CSS (or JavaScript). I'm trying to not make a  
</I>&gt;&gt;<i> straw
</I>&gt;&gt;<i> man argument, but if want an interchange format, we should pick TTML,  
</I>&gt;&gt;<i> which
</I>&gt;&gt;<i> is explicitly designed to be just that and doesn't depend on CSS.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is it not enough that a lossy conversion can be made from various  
</I>&gt;&gt;<i> formats
</I>&gt;&gt;<i> into WebVTT+CSS(+JavaScript)? If not, the &quot;Web&quot; in &quot;WebVTT&quot; is highly
</I>&gt;&gt;<i> misleading...
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> We're trying to avoid the need for multiple transcodings and are
</I>&gt;<i> trying to achieve something like the following pipeline:
</I>&gt;<i> broadcast captions -&gt; transcode to WebVTT -&gt; show in browser -&gt;
</I>&gt;<i> transcode to broadcast devices -&gt; show
</I>&gt;<i>
</I>&gt;<i> If we have to plug TTML into this pipeline, too, it will be much
</I>&gt;<i> slower and we would need to additionally define a mapping from TTML to
</I>&gt;<i> WebVTT and back.
</I>&gt;<i>
</I>&gt;<i> I'm sure with SMPTE-TT around we will end up seeing things like
</I>&gt;<i> broadcast-&gt;TTML-&gt;WebVTT-&gt;browser, but even then we don't want WebVTT
</I>&gt;<i> to be a lossy format.
</I>
I can only disagree. Trying to make WebVTT into an interchange format will  
inevitably turn it into a highly presentational format with lots of legacy  
baggage. I can certainly see the use cases for an interchange format, but  
I don't think it's worth the added complexity. I'd prefer an approach  
where any format quirks that can't be mapped to WebVTT are expressed using  
&lt;c.foo&gt; and if it turns out lots of people want the feature, we can add it  
to a future revision.

&gt;&gt;&gt;<i> * underline: EBU STL, CEA-608 and CEA-708 support underlining of
</I>&gt;&gt;&gt;<i> characters. The underline character is also particularly important for
</I>&gt;&gt;&gt;<i> some Asian languages. Please make it possible to provide text
</I>&gt;&gt;&gt;<i> underlines without the use of CSS in WebVTT.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Which Asian languages? If it's just the Chinese
</I>&gt;&gt;<i> &lt;<A HREF="http://en.wikipedia.org/wiki/Proper_name_mark">http://en.wikipedia.org/wiki/Proper_name_mark</A>&gt;, then I don't think that
</I>&gt;&gt;<i> needs &lt;u&gt; or similar. In my experience, use of the Chinese proper name  
</I>&gt;&gt;<i> mark
</I>&gt;&gt;<i> is in fact extremely rare in Chinese captions, at least in movies and TV
</I>&gt;&gt;<i> series from the mainland and Taiwan. It would be best to use e.g.
</I>&gt;&gt;<i> &#25105;&#20358;&#33258;&lt;c.pnm&gt;&#20013;&#22283;&lt;/c&gt; to make it easy to change the style between
</I>&gt;&gt;<i> single/double/wavy/no underline.
</I>&gt;<i>
</I>&gt;<i> OK. So if we need underlined text, it will need to be
</I>&gt;<i> &lt;c.underline&gt;..&lt;/c&gt; and CSS underline? I guess in a Web context
</I>&gt;<i> underline text is usually a hyperlink so it makes sense to discourage
</I>&gt;<i> &lt;u&gt; for the Web. But is that also an argument for
</I>&gt;<i> captions/subtitles/descriptions? What is the argument against using
</I>&gt;<i> &lt;u&gt; in captions?
</I>
I don't really have an argument against it, I just questioned that it is  
important for Asian languages in particular. Adding &lt;u&gt; would be really  
simple, it's just a question of why. I've seldom seen underlining in  
captions, so it's not clear to me how it's usually used.

&gt;&gt;&gt;<i> * font face: CEA-708 provides a choice of eight font tags: undefined,
</I>&gt;&gt;&gt;<i> monospaced serif, proportional serif, monospaced sans serif,
</I>&gt;&gt;&gt;<i> proportional sans serif, casual, cursive, small capital. These fonts
</I>&gt;&gt;&gt;<i> should be available for WebVTT as well. Is this the case?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Does the choice of font ever carry any semantic meaning? Isn't it a good
</I>&gt;&gt;<i> thing that captions can't specify their own fonts, so that it's easy to  
</I>&gt;&gt;<i> pick
</I>&gt;&gt;<i> a style that's suitable for the embedding site?
</I>&gt;<i>
</I>&gt;<i> The choice of fonts for captions has traditionally been a key to
</I>&gt;<i> providing quality captions. Some fonts are more readable than others.
</I>&gt;<i> So, captioning handbooks have traditionally prescribed the best fonts
</I>&gt;<i> to use for captioning to explicitly point out those that are easily
</I>&gt;<i> readable. After having checked with the handbooks that are available
</I>&gt;<i> to me it seems sans serif and proportional are the preferred ones, so
</I>&gt;<i> I do wonder why CEA-708 provides this choice of fonts. You are right
</I>&gt;<i> though that it makes more sense to provide semantic meaning and then
</I>&gt;<i> style through css. At minimum &lt;c.cursive&gt; etc would be possible with
</I>&gt;<i> an appropriate choice of font through styling, again using the class
</I>&gt;<i> span element to solve this.
</I>&gt;<i>
</I>&gt;<i> Coming at it from a devices background, it's actually all a matter of
</I>&gt;<i> pre-defined choices. They're not going to package a large number of
</I>&gt;<i> fonts with every device, so it's good if all devices support a basic
</I>&gt;<i> subset that can be relied on to exist cross-device. We're increasingly
</I>&gt;<i> going to have to consider such requirements, too, because we will see
</I>&gt;<i> Web browsers run on devices with restricted capabilities, not just the
</I>&gt;<i> browser on a computer where you can install missing fonts.
</I>
Personally, I think we're going to see more and more devices running full  
browsers with webfonts support, and that this isn't going to be a big  
problem.

&gt;<i> I guess what we are discovering is that we can define the general
</I>&gt;<i> format of WebVTT for the Web, but that there may be an additional need
</I>&gt;<i> to provide minimum implementation needs (a &quot;profile&quot; if you want - as
</I>&gt;<i> much as I hate this word). This seems to apply to the file-wide
</I>&gt;<i> metadata fields, to some specific standard classes (underline, blink),
</I>&gt;<i> to the set of colors supported and to the set of fonts supported. I
</I>&gt;<i> don't think these are issues that browsers need to worry about, and
</I>&gt;<i> therefore are probably beyond what we need to specify here for WebVTT.
</I>&gt;<i> But there probably needs to be a group to do this eventually.
</I>
The way that all standalone players I've used work is allowing the user to  
pick a font and size which is used for all captions. I know I quite  
appreciate this and wouldn't be thrilled if the captions file forced a  
font I didn't like. Of course we could make it such that the author picks  
a font and the user can override that. If it's purely presentational I'd  
kind of prefer to keep it out of WebVTT, though.

&gt;&gt;&gt;<i> 5. Markup changes
</I>
&gt;&gt;&gt;<i> * Suggest dropping &#8220;--&gt;&#8221;: In the context of HTML, &#8220;--&gt;&#8221; is an end
</I>&gt;&gt;&gt;<i> comment marker. It may confuse Web developers and parsers if such a
</I>&gt;&gt;&gt;<i> sign is used as a separator. For example, some translation tools
</I>&gt;&gt;&gt;<i> expect HTML or XML-based interchange formats and interpret the &#8220;&gt;&#8221; as
</I>&gt;&gt;&gt;<i> part of a tag. Also, common caption convention often uses &#8220;&gt;&#8221; to
</I>&gt;&gt;&gt;<i> represent speaker identification. Thus it is more difficult to write a
</I>&gt;&gt;&gt;<i> filter which correctly escapes &#8220;--&gt;&#8221; but retains &#8220;&gt;&#8221; for speaker ID.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Trying to use an HTML or XML parser to make any sense of WebVTT is  
</I>&gt;&gt;<i> going to
</I>&gt;&gt;<i> fail horrendously in any case, so if anything I think it's good that  
</I>&gt;&gt;<i> they
</I>&gt;&gt;<i> fail early. Also, a translation tool that has no concept of WebVTT is  
</I>&gt;&gt;<i> going
</I>&gt;&gt;<i> to make a mess of various magic strings used in the file format too.
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Since the &#8220;--&gt;&#8221; characters serve no obvious purpose, it should be
</I>&gt;&gt;&gt;<i> possible to safely replace them by a blank that separates start and
</I>&gt;&gt;&gt;<i> end time, thus making the format denser and removing annoying parsing
</I>&gt;&gt;&gt;<i> issues. (Or alternatively use a the npt-range spec of RTSP for time
</I>&gt;&gt;&gt;<i> ranges, which uses &#8220;-&#8221; as a separator.).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> No strong opinion, but I think a non-blank separator is more  
</I>&gt;&gt;<i> aesthetically
</I>&gt;&gt;<i> pleasing.
</I>&gt;<i>
</I>&gt;<i> Maybe just a dash &quot;-&quot; then, which can also remove the extra blanks?
</I>
Maybe :)

&gt;&gt;&gt;<i> * Duration specification: WebVTT time stamps are always absolute time
</I>&gt;&gt;&gt;<i> stamps calculated in relation to the base time of synchronisation with
</I>&gt;&gt;&gt;<i> the media resource. While this is simple to deal with for machines, it
</I>&gt;&gt;&gt;<i> is much easier for hand-created captions to deal with relative time
</I>&gt;&gt;&gt;<i> stamps for cue end times and for the timestamp markers within cues.
</I>&gt;&gt;&gt;<i> Cue start times should continue to stay absolute time stamps.
</I>&gt;&gt;&gt;<i> Timestamp markers within cues should be relative to the cue start
</I>&gt;&gt;&gt;<i> time. Cue end times should be possible to be specified either as
</I>&gt;&gt;&gt;<i> absolute or relative timestamps. The relative time stamps could be
</I>&gt;&gt;&gt;<i> specified through a prefix of &#8220;+&#8221; in front of a &#8220;ss.mmm&#8221; second and
</I>&gt;&gt;&gt;<i> millisecond specification. These are not only simpler to read and
</I>&gt;&gt;&gt;<i> author, but are also more compact and therefore create smaller files.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> An example document with relative timestamps is:
</I>&gt;&gt;&gt;<i> ==
</I>&gt;&gt;&gt;<i> WEBVTT
</I>&gt;&gt;&gt;<i> Language=en
</I>&gt;&gt;&gt;<i> Kind=Subtitle
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 00:00:15.000   +2.950
</I>&gt;&gt;&gt;<i> At the left we can see...
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 00:00:18.160    +1.920
</I>&gt;&gt;&gt;<i> At the right we can see the...
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 00:00:20.110   +1.850
</I>&gt;&gt;&gt;<i> ...the &lt;+0.400&gt;head-&lt;+0.800&gt;snarlers
</I>&gt;&gt;&gt;<i> ==
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I rather like it, although it might be confusing if &quot;-&quot; means &quot;to  
</I>&gt;&gt;<i> absolute
</I>&gt;&gt;<i> time&quot; and &quot;+&quot; means &quot;to relative time&quot;. That the intra-cue timings are
</I>&gt;&gt;<i> relative but the timing lines are absolute has bugged me a bit, so if  
</I>&gt;&gt;<i> the
</I>&gt;&gt;<i> distinction was more obvious just from the syntax, that'd be great!
</I>&gt;<i>
</I>&gt;<i> With &quot;-&quot; you are referring to replacing &quot;--&gt;&quot; with &quot;-&quot; to arrive at  
</I>&gt;<i> things like:
</I>&gt;<i> 15.000-17.950
</I>&gt;<i> At the left we can see...
</I>&gt;<i>
</I>&gt;<i> as compared to:
</I>&gt;<i> 15.000+2.950
</I>&gt;<i> At the left we can see...
</I>
Yes, that's what I meant.

&gt;<i> I actually think they read fairly given that people are used to the
</I>&gt;<i> double meaning of &quot;-&quot;: to mean both &quot;from ... to&quot; and &quot;minus&quot;.
</I>&gt;<i> But we could use a different character for &quot;absolute time&quot; if you
</I>&gt;<i> prefer, e.g. &quot;/&quot;.
</I>&gt;<i> 15.000/17.950
</I>&gt;<i> At the left we can see...
</I>&gt;<i>
</I>&gt;<i> I find this fairly readable, too.
</I>
Either would work for me. As I mentioned, the room for improvement here  
isn't only the syntax of the timing line, but also to make it obvious that  
cue timestamps like &lt;00:01.000&gt; are relative. Using + for relative  
timestamps is potentially confusing too, as one might think that many  
consecutive &lt;+00:01.000&gt; are cumulative, rather than all being 1 second  
 from the start time of the cue.

&gt;&gt;&gt;<i> 6. Format identifier
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> We are happy to see the introduction of  the magic file identifier for
</I>&gt;&gt;&gt;<i> WebVTT which will make it easier to identify the file format. We do
</I>&gt;&gt;&gt;<i> not believe the &#8220;FILE&#8221; part of the string is necessary.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I agree, mostly because it's ugly. While we're bikeshedding, &quot;WebSRT&quot; is
</I>&gt;&gt;<i> prettier than &quot;WEBSRT&quot;.
</I>&gt;<i>
</I>&gt;<i> &quot;WebVTT&quot; rather than &quot;WebSRT&quot;? ;-)
</I>
Yes :)

&gt;&gt;&gt;<i> 7. Comments
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> we recommend the introduction of comments.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I agree and think it needs to happen before WebVTT starts to get  
</I>&gt;&gt;<i> implemented
</I>&gt;&gt;<i> and used on the web. In other words: now.
</I>&gt;<i>
</I>&gt;<i> Agreed. I'm happy for the previously suggested &quot;//&quot; at the line start
</I>&gt;<i> to be comments, or, for that matter, &quot;#&quot; or &quot;;&quot; or any other special
</I>&gt;<i> character. I would prefer not to use &quot;/*&quot; since it implies a &quot;*/&quot; is
</I>&gt;<i> required to end the comment. Similarly we should avoid &quot;&lt;!--&quot; and
</I>&gt;<i> &quot;--&gt;&quot; or anything else that requires a special comment end mark and
</I>&gt;<i> more than one or two characters.
</I>
I'd quite like to have block comments, so I think the best options are:

1. // and /* */ like JavaScript
2. &lt;!-- --&gt; like HTML/XML

I think that the main difficulty is actually not picking a syntax, but  
deciding how it works in the parser. Unlike HTML, I don't think we want  
the comments to show up in the &quot;DOM&quot;, since that would only work for  
intra-cue comments. Ideally it would be preprocessor-ish, but yet the  
magic bytes (&quot;WEBVTT FILE&quot;) should be checked first as otherwise  
identifying WebVTT would require implementing its preprocessor steps :/

&gt;&gt;&gt;<i> 8. Line wrapping
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> CEA-708 captions support automatic line wrapping in a more
</I>&gt;&gt;&gt;<i> sophisticated way than WebVTT -- see
</I>&gt;&gt;&gt;<i> <A HREF="http://en.wikipedia.org/wiki/CEA-708#Word_wrap.">http://en.wikipedia.org/wiki/CEA-708#Word_wrap.</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> In our experience with YouTube we have found that in certain
</I>&gt;&gt;&gt;<i> situations this type of automatic line wrapping is very useful.
</I>&gt;&gt;&gt;<i> Captions that were authored for display in a full-screen video may
</I>&gt;&gt;&gt;<i> contain too many words to be displayed fully within the actual video
</I>&gt;&gt;&gt;<i> presentation (note that mobile / desktop / internet TV devices may
</I>&gt;&gt;&gt;<i> each have a different amount of space available, and embedded videos
</I>&gt;&gt;&gt;<i> may be of arbitrary sizes). Furthermore, user-selected fonts or font
</I>&gt;&gt;&gt;<i> sizes may be larger than expected, especially for viewers who need
</I>&gt;&gt;&gt;<i> larger print.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> WebVTT as currently specified wraps text at the edge of their
</I>&gt;&gt;&gt;<i> containing blocks, regardless of the value of the 'white-space'
</I>&gt;&gt;&gt;<i> property, even if doing so requires splitting a word where there is no
</I>&gt;&gt;&gt;<i> line breaking opportunity. This will tend to create poor quality
</I>&gt;&gt;&gt;<i> captions.  For languages where it makes sense, line wrapping should
</I>&gt;&gt;&gt;<i> only be possible at carriage return, space, or hyphen characters, but
</I>&gt;&gt;&gt;<i> not on &nbsp; characters.  (Note that CEA-708 also contains
</I>&gt;&gt;&gt;<i> non-breaking space and non-breaking transparent space characters to
</I>&gt;&gt;&gt;<i> help control wrapping.)However, this algorithm will not necessarily
</I>&gt;&gt;&gt;<i> work for all languages.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> We therefore suggest that a better solution for line wrapping would be
</I>&gt;&gt;&gt;<i> to use the existing line wrapping algorithms of browsers, which are
</I>&gt;&gt;&gt;<i> presumably already language-sensitive.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> [Note: the YouTube line wrapping algorithm goes even further by
</I>&gt;&gt;&gt;<i> splitting single caption cues into multiple cues if there is too much
</I>&gt;&gt;&gt;<i> text to reasonably fit within the area. YouTube then adjusts the times
</I>&gt;&gt;&gt;<i> of these caption cues so they appear sequentially.  Perhaps this could
</I>&gt;&gt;&gt;<i> be mentioned as another option for server-side tools.]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Yeah, with SRT people are manually line-wrapping when authoring the  
</I>&gt;&gt;<i> captions
</I>&gt;&gt;<i> and often enough the end result is that you get something rendered:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - Who could have guessed that not all fonts are the same
</I>&gt;&gt;<i> size?
</I>&gt;&gt;<i> - That's news to me, so I get four lines of text where I
</I>&gt;&gt;<i> wanted two!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm inclined to say that we should normalize all whitespace during  
</I>&gt;&gt;<i> parsing
</I>&gt;&gt;<i> and not have explicit line breaks at all. If people really want two  
</I>&gt;&gt;<i> lines,
</I>&gt;&gt;<i> they should use two cues. In practice, I don't know how well that would
</I>&gt;&gt;<i> fare, though. What other solutions are there?
</I>&gt;<i>
</I>&gt;<i> I don't think I would go that far. The concern has mostly been with
</I>&gt;<i> the line wrapping of lines that are too long and the possibility of
</I>&gt;<i> splitting words that way. The particular concern was with this
</I>&gt;<i> paragraph:
</I>&gt;<i>
</I>&gt;<i> &quot;Text runs must be wrapped at the edge of their containing blocks,
</I>&gt;<i> regardless of the value of the 'white-space' property, even if doing
</I>&gt;<i> so requires splitting a word where there is no line breaking
</I>&gt;<i> opportunity.&quot;
</I>&gt;<i> see  
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/rendering.html#timed-text-tracks-0">http://www.whatwg.org/specs/web-apps/current-work/multipage/rendering.html#timed-text-tracks-0</A>
</I>&gt;<i>
</I>&gt;<i> So we want to avoid splitting mid-word and we suggest introducing the
</I>&gt;<i> ability to have non-breaking spaces.
</I>
I think splitting in the middle of words would only happen for words that  
are longer than the whole line.

There's still plenty of room for improvements in line wrapping, though. It  
seems to me that the main reason that people line wrap captions manually  
is to avoid getting two lines of very different length, as that looks  
quite unbalanced. There's no way to make that happen with CSS, and AFAIK  
it's not done by the WebVTT rendering spec either.

&gt;&gt;&gt;<i> B. Feedback on the &lt;track&gt; element
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 1. Pop-on/paint-on/roll-up support
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Three different types of captions are common on TV: pop-on, roll-up
</I>&gt;&gt;&gt;<i> and paint-on. Captions according to CEA-608/708 need to support
</I>&gt;&gt;&gt;<i> captions of all three of these types. We believe they are already
</I>&gt;&gt;&gt;<i> supported in WebVTT, but see a need to re-confirm.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The underlying use case here is live captioning, right? Just copying the
</I>&gt;&gt;<i> styling used on broadcast TV seems like it wouldn't be enough, you also  
</I>&gt;&gt;<i> need
</I>&gt;&gt;<i> the ability to erase typos, right? Are there any existing captioning  
</I>&gt;&gt;<i> formats
</I>&gt;&gt;<i> that handle live captioning well from which one could draw inspiration?
</I>&gt;<i>
</I>&gt;<i> Yes, CEA-608/609 do these things and we have analysed them for these
</I>&gt;<i> features. They have control characters for backspace (only within
</I>&gt;<i> row), delete to end of row, erase displayed memory and erase
</I>&gt;<i> non-displayed memory. Further there is the concept of a cursor and
</I>&gt;<i> there are means to move the cursor to other screen locations.
</I>&gt;<i>
</I>&gt;<i> I don't think we really need the concept of a cursor or display memory
</I>&gt;<i> and we don't need backspace and delete etc. because we have the
</I>&gt;<i> concept of mutableTimedTrack. So, a live captioning application can
</I>&gt;<i> always remove an existing TimedTrackCue and replace it with a new one
</I>&gt;<i> where the errors are fixed. At Google we came to the conclusion that
</I>&gt;<i> this was sufficient and therefore did not see a need to request
</I>&gt;<i> features for this type of application.
</I>&gt;<i>
</I>&gt;<i> However, the three types of captions are actually not just used in
</I>&gt;<i> live captioning, but they are three different captioning styles that
</I>&gt;<i> could all be created by live or &quot;canned&quot; captions. We think they can
</I>&gt;<i> be supported, so this is good news.
</I>
If you have to rely on scripting to fix errors, I think you could rely on  
scripts for achieving whatever other effects you need as well, in  
particular the scrolling style.

&gt;&gt;&gt;<i> 2. Duplicate track
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The HTML spec specifies that it is not allowed to have two tracks that
</I>&gt;&gt;&gt;<i> provide the same kind of data for the same language (potentially
</I>&gt;&gt;&gt;<i> empty) and for the same label (potentially empty). However, we need
</I>&gt;&gt;&gt;<i> clarification on what happens if there is a duplicate track, ie: does
</I>&gt;&gt;&gt;<i> the most recent one win or the first one or will both be made
</I>&gt;&gt;&gt;<i> available in the UI and JavaScript? The spec only states that the
</I>&gt;&gt;&gt;<i> combination of {kind, type, label} must be unique. It doesn't say what
</I>&gt;&gt;&gt;<i> happens if they are not.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In &lt;<A HREF="http://whatwg.org/html#sourcing-out-of-band-text-tracks">http://whatwg.org/html#sourcing-out-of-band-text-tracks</A>&gt; all track  
</I>&gt;&gt;<i> are
</I>&gt;&gt;<i> added to the list of text tracks, even duplicates.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In other words, it's just a requirement for validators, not user agents.
</I>&gt;<i>
</I>&gt;<i> OK, so a browser still has to deal with &quot;duplicate tracks&quot; as though
</I>&gt;<i> they were not duplicates?
</I>
Yes, that's how I interpret the spec.

&gt;&gt;&gt;<i> 4. Addressing individual cues through CSS
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> As far as we understand, you can currently address all cues through
</I>&gt;&gt;&gt;<i> ::cue and you can address a cue part through ::cue-part(&lt;voice&gt; ||
</I>&gt;&gt;&gt;<i> &lt;part&gt; || &lt;position&gt; || &lt;future-compatibility&gt;). However, if we
</I>&gt;&gt;&gt;<i> understand correctly, it doesn&#8217;t seem to be possible to address an
</I>&gt;&gt;&gt;<i> individual cue through CSS, even though cues have individual
</I>&gt;&gt;&gt;<i> identifiers. This is either an oversight or a misunderstanding on our
</I>&gt;&gt;&gt;<i> parts. Can you please clarify how it is possible to address an
</I>&gt;&gt;&gt;<i> individual cue through CSS?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Since I've been arguing against the id's in WebVTT, I'm curious about  
</I>&gt;&gt;<i> the
</I>&gt;&gt;<i> use case here. Isn't using a unique class good enough?
</I>&gt;<i>
</I>&gt;<i> This links in with the discussion above on CSS styling and classes.
</I>&gt;<i> Rather than define classes of cue settings and reference them from the
</I>&gt;<i> cues, this allows them to be applied to individual cues in style
</I>&gt;<i> sheets. I thought the whole reason of cue identifiers was to have this
</I>&gt;<i> addressing functionality, so this would just close the loop.
</I>&gt;<i>
</I>&gt;<i> For example:
</I>&gt;<i>
</I>&gt;<i> Style sheet of the Web page:
</I>&gt;<i> &lt;style&gt;
</I>&gt;<i> video track#t1 ::cue(cue10) {
</I>&gt;<i>   text-decoration: blink;
</I>&gt;<i> }
</I>&gt;<i> &lt;/style&gt;
</I>&gt;<i>
</I>&gt;<i> The Web page (extract):
</I>&gt;<i> &lt;video src=&quot;video.webm&quot; controls&gt;
</I>&gt;<i>   &lt;track id=&quot;t1&quot; label=&quot;captions&quot; kind=&quot;captions&quot; srclang=&quot;en-US&quot;
</I>&gt;<i> src=&quot;cap1.vtt&quot;/&gt;
</I>&gt;<i> &lt;/video&gt;
</I>&gt;<i>
</I>&gt;<i> The caption file cap1.vtt:
</I>&gt;<i> WEBVTT
</I>&gt;<i> Language=en-US
</I>&gt;<i> Kind=Captions
</I>&gt;<i>
</I>&gt;<i> cue1
</I>&gt;<i> 0.000-5.000
</I>&gt;<i> blab blah
</I>&gt;<i>
</I>&gt;<i> cue10
</I>&gt;<i> 40.000-60.000
</I>&gt;<i> ALERT: Your basement is flooding - evacuate!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Cue10 is addressed through CSS and turned into a blinking text without
</I>&gt;<i> a need to change the markup at all.
</I>
My point was that you could just as well do this:

0.000-5.000
&lt;c.cue1&gt;blab blah&lt;/c&gt;

In my view of things, id's in HTML are primarily for addressing via  
#fragments and as hooks for scripts, for styling class is quite  
sufficient, so I'm thinking it would be for WebVTT as well.

&gt;&gt;&gt;<i> 5. Ability to move captions out of the way
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Our experience with automated caption creation and positioning on
</I>&gt;&gt;&gt;<i> YouTube indicates that it is almost impossible to always place the
</I>&gt;&gt;&gt;<i> captions out of the way of where a user may be interested to look at.
</I>&gt;&gt;&gt;<i> We therefore allow users to dynamically move the caption rendering
</I>&gt;&gt;&gt;<i> area to a different viewport position to reveal what is underneath. We
</I>&gt;&gt;&gt;<i> recommend such drag-and-drop functionality also be made available for
</I>&gt;&gt;&gt;<i> TimedTrack captions on the Web, especially when no specific
</I>&gt;&gt;&gt;<i> positioning information is provided.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This would indeed be rather nice, but wouldn't it interfere with text
</I>&gt;&gt;<i> selection? Detaching the captions into a floating, draggable window via  
</I>&gt;&gt;<i> the
</I>&gt;&gt;<i> context menu would be a theoretically possible solution, but that's  
</I>&gt;&gt;<i> getting
</I>&gt;&gt;<i> rather far ahead of ourselves before we have basic captioning support.
</I>&gt;<i>
</I>&gt;<i> On YouTube you can only move them within the video viewport. You
</I>&gt;<i> should try it - it's really awesome actually.
</I>&gt;<i>
</I>&gt;<i> When you say &quot;interfere with text selection&quot; are you suggesting that
</I>&gt;<i> the text of captions/subtitles should be able to be cut and pasted? I
</I>&gt;<i> wonder what copyright holders think about that.
</I>
Being able to select the captions just like any other text is a great  
thing that I wouldn't want to disable. It's very useful if you want to  
pause and look up the definition of a word or to report a typo in the  
captions without having to retype the whole text.

Premium Captions can be protected using the same tricks that are used to  
prevent Premium DOM Text Nodes from being copied.

-- 
Philip J&#228;genstedt
Core Developer
Opera Software
</PRE>
























































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030357.html">[whatwg] Google Feedback on the HTML5 media a11y specifications
</A></li>
	<LI>Next message: <A HREF="030493.html">[whatwg] Google Feedback on the HTML5 media a11y specifications
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30466">[ date ]</a>
              <a href="thread.html#30466">[ thread ]</a>
              <a href="subject.html#30466">[ subject ]</a>
              <a href="author.html#30466">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
