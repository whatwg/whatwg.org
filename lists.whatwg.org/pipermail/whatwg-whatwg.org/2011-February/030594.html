<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Websockets Client API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Websockets%20Client%20API&In-Reply-To=%3C4D619108.4030306%40callenish.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030593.html">
   <LINK REL="Next"  HREF="072868.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Websockets Client API</H1>
<!--htdig_noindex-->
    <B>Bruce Atherton</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Websockets%20Client%20API&In-Reply-To=%3C4D619108.4030306%40callenish.com%3E"
       TITLE="[whatwg] Websockets Client API">bruce at callenish.com
       </A><BR>
    <I>Sun Feb 20 14:09:12 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030593.html">[whatwg] DataTransfer.files tri-specification conflict
</A></li>
        <LI>Next message: <A HREF="072868.html">[whatwg] Websockets Client API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30594">[ date ]</a>
              <a href="thread.html#30594">[ thread ]</a>
              <a href="subject.html#30594">[ subject ]</a>
              <a href="author.html#30594">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I know that the IETF HyBi WG is defining the Websockets protocol, but I 
believe that the definition of the browser API is still done through 
HTML5. If I am wrong, please let me know.

I've been reading through <A HREF="http://dev.w3.org/html5/websockets/">http://dev.w3.org/html5/websockets/</A> in an 
effort to define a similar client interface for my Websockets library. I 
am a bit stuck on how a connection is established, though.

According to the spec, establishing a connection is done through the 
Websocket object constructor  on a background thread. This results in 
the possibility that a connection could fire its open, error, and/or 
close events before the user can set a handler for these events. For the 
open and close events one could recover based on the ReadyState of the 
object, albeit with additional complexity for every newly opened 
Websocket connection, but any error events would be lost forever.

Is there a reason not to have a separate open() call? This could be done 
in the same asynchronous manner as described in Step 7 of the Websocket 
constructor. The only difference would be that the user gets the 
opportunity to fully configure the Websocket object before it is used to 
establish a connection.

</PRE>





















































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030593.html">[whatwg] DataTransfer.files tri-specification conflict
</A></li>
	<LI>Next message: <A HREF="072868.html">[whatwg] Websockets Client API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30594">[ date ]</a>
              <a href="thread.html#30594">[ thread ]</a>
              <a href="subject.html#30594">[ subject ]</a>
              <a href="author.html#30594">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
