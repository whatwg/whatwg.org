<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal for separating script downloads and execution
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and%20execution&In-Reply-To=%3CB66541E954ECF146AD8CA69D34A283FF282228AA9A%40SP2-EX07VS02.ds.corp.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072611.html">
   <LINK REL="Next"  HREF="072621.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal for separating script downloads and execution</H1>
<!--htdig_noindex-->
    <B>Nicholas Zakas</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and%20execution&In-Reply-To=%3CB66541E954ECF146AD8CA69D34A283FF282228AA9A%40SP2-EX07VS02.ds.corp.yahoo.com%3E"
       TITLE="[whatwg] Proposal for separating script downloads and execution">nzakas at yahoo-inc.com
       </A><BR>
    <I>Wed Feb  9 07:40:06 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072611.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
        <LI>Next message: <A HREF="072621.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72617">[ date ]</a>
              <a href="thread.html#72617">[ thread ]</a>
              <a href="subject.html#72617">[ subject ]</a>
              <a href="author.html#72617">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I had chatted with a few folks about using rel=prefetch, but there seems to be a lot of issues that would have to be resolved to get the behavior I'm after. Prefetching in this way is very passive, currently implemented as happening during user idle time, which is unpredictable (not to mention the issues Glen mentioned below). 

I think Glen summed this up correct by saying that prefetching is a hint, and when you want to load a script you want it to happen. This isn't to say that you wouldn't want to prefetch a script, but I see that as more of a way to help the next page you'll navigate to by priming the cache vs. helping the currently loaded page. 

In any event, it seems that rel=prefetch would have to change a lot vs. the changes to the script element to allow the same behavior.

-N

-----Original Message-----
From: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A> [mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>] On Behalf Of Glenn Maynard
Sent: Wednesday, February 09, 2011 6:15 AM
To: timeless
Cc: Alexandre Morgaut; <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>
Subject: Re: [whatwg] Proposal for separating script downloads and execution

&gt;<i> On Wed, Feb 9, 2011 at 12:08 PM, Alexandre Morgaut
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">Alexandre.Morgaut at 4d.com</A>&gt; wrote:
</I>&gt;<i> &gt; Another approach:
</I>&gt;<i> &gt; The link tag is meant to support a &quot;prefetch&quot; value for the &quot;rel&quot;
</I>attribute
&gt;<i> &gt; asking to preemptively cache the resource:
</I>&gt;<i> &gt;  - <A HREF="http://blog.whatwg.org/the-road-to-html-5-link-relations#rel-prefetch">http://blog.whatwg.org/the-road-to-html-5-link-relations#rel-prefetch</A>
</I>&gt;<i> &gt;  - <A HREF="http://davidwalsh.name/html5-prefetch">http://davidwalsh.name/html5-prefetch</A>
</I>&gt;<i> &gt; We can then write:
</I>&gt;<i> &gt; &lt;link rel=&quot;prefetch&quot; type=&quot;text/javascript&quot; src=&quot;myscript.js&quot;&gt;
</I>&gt;<i> &gt; let the link HTML Element have an execute() method when the &quot;type&quot;
</I>attribute
&gt;<i> &gt; is one off a User-Agent supported Scripting Media Types:
</I>
Executing scripts out of a &lt;link&gt; seems very strange.

Prefetching can also be disabled by the user, heuristically disabled by the
browser or download at a lower priority.  There's no way to know in advance
whether that will happen--not just due to lack of an API to ask, but because
the browser can't always tell in advance.  Prefetching is a hint, where
script preloading shouldn't be; loaders must be able to know whether they
can load-without-executing or not.

--
Glenn Maynard

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072611.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
	<LI>Next message: <A HREF="072621.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72617">[ date ]</a>
              <a href="thread.html#72617">[ thread ]</a>
              <a href="subject.html#72617">[ subject ]</a>
              <a href="author.html#72617">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
