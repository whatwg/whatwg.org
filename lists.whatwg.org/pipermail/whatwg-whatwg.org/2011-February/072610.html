<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal for separating script downloads and execution
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and%20execution&In-Reply-To=%3CDA16519F-BD1F-4ABD-96E5-695AA03028C0%404d.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072609.html">
   <LINK REL="Next"  HREF="072611.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal for separating script downloads and execution</H1>
<!--htdig_noindex-->
    <B>Alexandre Morgaut</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and%20execution&In-Reply-To=%3CDA16519F-BD1F-4ABD-96E5-695AA03028C0%404d.com%3E"
       TITLE="[whatwg] Proposal for separating script downloads and execution">Alexandre.Morgaut at 4d.com
       </A><BR>
    <I>Wed Feb  9 03:03:50 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072609.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
        <LI>Next message: <A HREF="072611.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72610">[ date ]</a>
              <a href="thread.html#72610">[ thread ]</a>
              <a href="subject.html#72610">[ subject ]</a>
              <a href="author.html#72610">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
&gt;<i> i'm not sure you need an execute(), you might benefit from an event
</I>&gt;<i> listener to tell you if a resource has been prefetched. but this
</I>&gt;<i> general path seems less icky to me than most if not all of the other
</I>&gt;<i> paths suggested in this thread.
</I>
you will surely take benefit from the onload event 

Actually this approach should already work in browsers supporting prefetch...

if the resource has already been fully loaded, the script calling for it will take profit from the cache
But what if it is only partially loaded ?
Is the User-Agent already smart enough to detect that there is already a request for this file and wait for it being fully loaded in the cache ?

Adding support of script mediatype or script relationship to the link tag:
- would make it possible for the browser to also pre-parse it.
- if execute() method is provided, it could take advantage of this pre-parsing while a eval on a string wouldn't

Another thing strongly missing in the support of the link tag is a content property to access to the content of the resource 
(which would be null if not loaded like for the XHR API)

This way, many resources loading could be more declarative instead of using XHR for anything


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072609.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
	<LI>Next message: <A HREF="072611.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72610">[ date ]</a>
              <a href="thread.html#72610">[ thread ]</a>
              <a href="subject.html#72610">[ subject ]</a>
              <a href="author.html#72610">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
