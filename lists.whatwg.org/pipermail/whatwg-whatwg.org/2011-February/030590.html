<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Application Cache for on-line sites
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Application%20Cache%20for%20on-line%20sites&In-Reply-To=%3CAANLkTikWMtawCJqpk_DvR_E9eKWKOJATg4XmaeSUTS%2B1%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030449.html">
   <LINK REL="Next"  HREF="030414.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Application Cache for on-line sites</H1>
<!--htdig_noindex-->
    <B>Michael Nordman</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Application%20Cache%20for%20on-line%20sites&In-Reply-To=%3CAANLkTikWMtawCJqpk_DvR_E9eKWKOJATg4XmaeSUTS%2B1%40mail.gmail.com%3E"
       TITLE="[whatwg] Application Cache for on-line sites">michaeln at google.com
       </A><BR>
    <I>Fri Feb 18 17:21:17 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030449.html">[whatwg] Application Cache for on-line sites
</A></li>
        <LI>Next message: <A HREF="030414.html">[whatwg] Reserved browsing context names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30590">[ date ]</a>
              <a href="thread.html#30590">[ thread ]</a>
              <a href="subject.html#30590">[ subject ]</a>
              <a href="author.html#30590">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Feb 11, 2011 at 1:14 PM, Michael Nordman &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">michaeln at google.com</A>&gt; wrote:
&gt;<i> Once you get past the &quot;should this be a feature&quot; question, there are
</I>&gt;<i> some questions to answer.
</I>
I'll take a stab at answering these questions.

&gt;<i> 1) How does an author indicate which pages should be added to the
</I>&gt;<i> cache and which should not?
</I>&gt;<i>
</I>&gt;<i> A few ideas...
</I>&gt;<i> a. &lt;html useManifest='x'&gt;
</I>&gt;<i> b. If the main resource has a &quot;no-store&quot; header, don't add it to the
</I>&gt;<i> cache, but do associate the document with the cache.
</I>&gt;<i> c. A new manifest section to define a prefix matched namespace for these pages.
</I>
Option (c) isn't precisely targeted at individual resources, authors
would have to arrange their URL namespace more carefully to achieve
the desired results. Option (a) and (b) can be applied specifically to
individual pages offering greater control over. And option (a) is the
more explicit the two. Authors need only edit the page to get the
desired result instead of having to arrange for the appropiate http
headers. Readers of the code (and view sourcers of the pages) can more
easily determine how this page should utilize the appcache just by
looking at the source of the page.

My pick would be option (a), &lt;html useManifest='x'&gt;

&gt;<i> 2) What sequence of events does a page that just uses the cache w/o
</I>&gt;<i> being added to it observe?
</I>
The same sequence of events as a master entry that does get added to the cache.

&gt;<i> 3) At what point do subresources in an existing appcache start getting
</I>&gt;<i> utlized by such pages? What if the appcache is stale? Do subresource
</I>&gt;<i> loads cause revalidation?
</I>
Swap the cache into use upon successful update completion, so again
just like for master entry pages that do get added to the cache.

But this observation is the crux of it. There's a window of time
between page loading and update completion. During that interim
resources resident in the appcache can be used to effectively augment
the browser's regular HTTP cache. For example, when the page requests
a subresource and the resource in the appcache is fresh enough per
http caching rules, it may be returned immediately w/o any validation.

WDYT?
</PRE>








































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030449.html">[whatwg] Application Cache for on-line sites
</A></li>
	<LI>Next message: <A HREF="030414.html">[whatwg] Reserved browsing context names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30590">[ date ]</a>
              <a href="thread.html#30590">[ thread ]</a>
              <a href="subject.html#30590">[ subject ]</a>
              <a href="author.html#30590">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
