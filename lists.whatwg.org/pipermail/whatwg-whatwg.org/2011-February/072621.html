<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal for separating script downloads and execution
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and%20execution&In-Reply-To=%3C36E9A096-8227-4D9A-AB8E-EE99EF2D8081%404d.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072617.html">
   <LINK REL="Next"  HREF="072622.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal for separating script downloads and execution</H1>
<!--htdig_noindex-->
    <B>Alexandre Morgaut</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and%20execution&In-Reply-To=%3C36E9A096-8227-4D9A-AB8E-EE99EF2D8081%404d.com%3E"
       TITLE="[whatwg] Proposal for separating script downloads and execution">Alexandre.Morgaut at 4d.com
       </A><BR>
    <I>Wed Feb  9 09:57:37 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072617.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
        <LI>Next message: <A HREF="072622.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72621">[ date ]</a>
              <a href="thread.html#72621">[ thread ]</a>
              <a href="subject.html#72621">[ subject ]</a>
              <a href="author.html#72621">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Feb 9, 2011, at 4:40 PM, Nicholas Zakas wrote:

I had chatted with a few folks about using rel=prefetch, but there seems to be a lot of issues that would have to be resolved to get the behavior I'm after. Prefetching in this way is very passive, currently implemented as happening during user idle time, which is unpredictable (not to mention the issues Glen mentioned below).

I think you guys are perfectly right as &quot;prefetch&quot; is not meant to say that the interface will need the resource ASAP


I think Glen summed this up correct by saying that prefetching is a hint, and when you want to load a script you want it to happen. This isn't to say that you wouldn't want to prefetch a script, but I see that as more of a way to help the next page you'll navigate to by priming the cache vs. helping the currently loaded page.

Good point

In any event, it seems that rel=prefetch would have to change a lot vs. the changes to the script element to allow the same behavior.

Surely, if starting from the specific &quot;prefetch&quot; behavior


I still think that using a more declarative way to define required HTTP resources would be a gain and may work in your case

The link type list is rich:
- <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#linkTypes">http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#linkTypes</A>

Adding a &quot;required&quot; relationShip could be more appropriate way

&lt;link id=&quot;someScript&quot; rel=&quot;required&quot; type=&quot;text/javascript&quot; src=&quot;someData.js&quot;&gt;
&lt;link id=&quot;someData&quot; rel=&quot;required&quot; type=&quot;application/json&quot; src=&quot;someData.json&quot;&gt;
&lt;link id=&quot;aTemplate&quot; rel=&quot;required&quot; type=&quot;text/html&quot; src=&quot;myTemplate.html&quot;&gt;

This would still need:
- a &quot;content&quot; property on HTML link elements (which may be also useful to access raw CSS definition)

Binding an execute(), run() or eval() method on link elements may be more discussable but it doesn't hurt me that much
This way, pre-parsing Script resources would be still possible

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072617.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
	<LI>Next message: <A HREF="072622.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72621">[ date ]</a>
              <a href="thread.html#72621">[ thread ]</a>
              <a href="subject.html#72621">[ subject ]</a>
              <a href="author.html#72621">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
