<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Cryptographically strong random numbers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Cryptographically%20strong%20random%20numbers&In-Reply-To=%3CBC8CB172-CA35-4F09-9589-64A636281515%40mozilla.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072891.html">
   <LINK REL="Next"  HREF="072754.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Cryptographically strong random numbers</H1>
<!--htdig_noindex-->
    <B>Brendan Eich</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Cryptographically%20strong%20random%20numbers&In-Reply-To=%3CBC8CB172-CA35-4F09-9589-64A636281515%40mozilla.org%3E"
       TITLE="[whatwg] Cryptographically strong random numbers">brendan at mozilla.org
       </A><BR>
    <I>Tue Feb 22 21:32:25 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072891.html">[whatwg] Cryptographically strong random numbers
</A></li>
        <LI>Next message: <A HREF="072754.html">[whatwg] Cryptographically strong random numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72906">[ date ]</a>
              <a href="thread.html#72906">[ thread ]</a>
              <a href="subject.html#72906">[ subject ]</a>
              <a href="author.html#72906">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Feb 22, 2011, at 3:45 PM, Erik Corry wrote:
&gt;<i> Thanks for the link. Having read the section in question I am satisfied that the author has no problem with the API.
</I>&gt;<i> 
</I>In theory, sure. Bits are bits.

The practical issue is usability, where less usable interfaces tend to breed more bugs, as I argued was a hazard of the proposal to return a plain old Array containing uint16 values as elements. Glenn Maynard's point about more to go wrong with IEEE double seem to be validated by the IE9 preview release Math.random bugs that Amit Klein found. From the crypto-hacker point of view, anything that makes it harder to get random uint{8,16,32} values than necessary seems that much less good.

If we have only number type for the result, then Math.random is the API template to match. Given typed arrays / binary data, Adam's API looks more usable, even counting the cost of differing from Math.random in its API signature.

/be


&gt;<i> On Feb 23, 2011 12:34 AM, &quot;Brendan Eich&quot; &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">brendan at mozilla.org</A>&gt; wrote:
</I>&gt;<i> &gt; On Feb 22, 2011, at 2:49 PM, Erik Corry wrote:
</I>&gt;<i> &gt;&gt; I can find Klein's complaints that the implementation of Math.random is insecure but not his complaints about the API. Do you have a link?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; In the paper linked from <A HREF="http://seclists.org/bugtraq/2010/Dec/13">http://seclists.org/bugtraq/2010/Dec/13</A> section 3 (&quot;3. The non-uniformity bug&quot;), viz:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &quot;Due to issues with rounding when converting the 54 bit quantity to a double precision number (as explained in <A HREF="http://www.trusteer.com/sites/default/files/Temporary_User_Tracking_in_Major_Browsers.pdf">http://www.trusteer.com/sites/default/files/Temporary_User_Tracking_in_Major_Browsers.pdf</A> section 2.1, x2 may not accurately represent the state bits if the whole double precision number is &#8805;0.5.&quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; but that link dangles, and I haven't had time to read more.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The general concern about the API arises because Adam's API returns a typed array result that could have lenght &gt; 1, i.e., not a random result that fits in at most 32 (or even 53) bits.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; /be
</I>&gt;<i> _______________________________________________
</I>&gt;<i> es-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">es-discuss at mozilla.org</A>
</I>&gt;<i> <A HREF="https://mail.mozilla.org/listinfo/es-discuss">https://mail.mozilla.org/listinfo/es-discuss</A>
</I>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072891.html">[whatwg] Cryptographically strong random numbers
</A></li>
	<LI>Next message: <A HREF="072754.html">[whatwg] Cryptographically strong random numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72906">[ date ]</a>
              <a href="thread.html#72906">[ thread ]</a>
              <a href="subject.html#72906">[ subject ]</a>
              <a href="author.html#72906">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
