<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] AppCache feature request: An https manifest should be able to list resources from other https origins.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20AppCache%20feature%20request%3A%20An%20https%20manifest%20should%20be%0A%20able%20to%20list%20resources%20from%20other%20https%20origins.&In-Reply-To=%3CPine.LNX.4.64.1102072329300.28618%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072560.html">
   <LINK REL="Next"  HREF="072563.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] AppCache feature request: An https manifest should be able to list resources from other https origins.</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20AppCache%20feature%20request%3A%20An%20https%20manifest%20should%20be%0A%20able%20to%20list%20resources%20from%20other%20https%20origins.&In-Reply-To=%3CPine.LNX.4.64.1102072329300.28618%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] AppCache feature request: An https manifest should be able to list resources from other https origins.">ian at hixie.ch
       </A><BR>
    <I>Mon Feb  7 15:31:10 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="072560.html">[whatwg] AppCache feature request: An https manifest should be able to list resources from other https origins.
</A></li>
        <LI>Next message: <A HREF="072563.html">[whatwg] AppCache feature request: An https manifest should be able to list resources from other https origins.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72561">[ date ]</a>
              <a href="thread.html#72561">[ thread ]</a>
              <a href="subject.html#72561">[ subject ]</a>
              <a href="author.html#72561">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, 7 Feb 2011, Jonas Sicking wrote:
&gt;<i> On Mon, Jan 31, 2011 at 6:27 PM, Michael Nordman &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">michaeln at google.com</A>&gt; wrote:
</I>&gt;<i> &gt; But... the risk you outline is not possible...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; However, with the modification you are proposing, an attacker site
</I>&gt;<i> &gt;&gt; could forever pin this page the users app-cache. This means that if
</I>&gt;<i> &gt;&gt; there is a security bug in the page, the attacker site could exploit
</I>&gt;<i> &gt;&gt; that security problem forever since any javascript in the page will
</I>&gt;<i> &gt;&gt; continue to run in the security context of bunnies.com. So all of a
</I>&gt;<i> &gt;&gt; sudden the CORS headers that the site added has now had a severe
</I>&gt;<i> &gt;&gt; security impact.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The bunnies.com page stored in the attacker's appcache will never be
</I>&gt;<i> &gt; loaded into the context of bunnies.com. There are provisions in the
</I>&gt;<i> &gt; the appcache system to prevent that. Those provisions guard against a
</I>&gt;<i> &gt; this type of attack via HTTP.
</I>&gt;<i> 
</I>&gt;<i> Your proposal means that we forever lock that constraint on the 
</I>&gt;<i> appcache. That is not currently the case. I.e. we'll never be able to 
</I>&gt;<i> say &quot;open an iframe using the resource which is available in my 
</I>&gt;<i> appcache&quot; or &quot;open this cross-site worker using the resource available 
</I>&gt;<i> in my appcache&quot;.
</I>&gt;<i> 
</I>&gt;<i> Or at least we won't ever be able to do that for cross-site resources.
</I>
That's intentional. We don't want it to be possible to get a cache of a 
third-party page vulnerable to some sort of XSS attack and then to be able 
to load that page with the credentials of its origin, since it would make 
it possible for hostile sites to lock in a vulnerability and keep using 
it even after the site had fixed the problem.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072560.html">[whatwg] AppCache feature request: An https manifest should be able to list resources from other https origins.
</A></li>
	<LI>Next message: <A HREF="072563.html">[whatwg] AppCache feature request: An https manifest should be able to list resources from other https origins.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72561">[ date ]</a>
              <a href="thread.html#72561">[ thread ]</a>
              <a href="subject.html#72561">[ subject ]</a>
              <a href="author.html#72561">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
