<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal for separating script downloads and execution
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and%20execution&In-Reply-To=%3C8BF565045FBC4139A531FBAE8C6E5836%40spartacus%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030619.html">
   <LINK REL="Next"  HREF="030622.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal for separating script downloads and execution</H1>
<!--htdig_noindex-->
    <B>Kyle Simpson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20separating%20script%20downloads%20and%20execution&In-Reply-To=%3C8BF565045FBC4139A531FBAE8C6E5836%40spartacus%3E"
       TITLE="[whatwg] Proposal for separating script downloads and execution">getify at gmail.com
       </A><BR>
    <I>Tue Feb 22 16:19:51 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030619.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
        <LI>Next message: <A HREF="030622.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30621">[ date ]</a>
              <a href="thread.html#30621">[ thread ]</a>
              <a href="subject.html#30621">[ subject ]</a>
              <a href="author.html#30621">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> This can cause the wrong image to show temporarily, until replaced by the 
</I>&gt;<i> right one (which I consider a bug; I think the cache needs to be less 
</I>&gt;<i> aggressive).
</I>&gt;<i>
</I>&gt;<i> That approach is clearly not workable for scripts... ;)
</I>
No, clearly not. I think we're finally in agreement on something. :)


I think we need to refocus the thread. Boris, you've brought up issues of 
essentially:

1. Will keeping scripts around in memory that never get &quot;used&quot; lead to 
run-away memory usage?

2. Does the caching behavior of IE do incorrect things (that Mozilla would 
want to avoid)?


For #1, I think we've established this is probably true (for those rare 
corner cases). Perhaps a more sophisticated in-memory content-uniqueness 
cache could be constructed, but it may be more work than it's worth. To push 
the ball forward, in a rough (non-binding) estimate, do you think that 
Mozilla could be persuaded to agree to either of the two proposals, granted 
the potential corner case negative performance, *without* such a 
sophisticated in-memory cache to address some of those concerns? If not, 
would the feasibility of such a system make implementing this proposal 
unlikely? Or would it just be a pre-requisite that made the implementation 
of &quot;preloading&quot; somewhat more complicated than it appears on the surface?

For #2 (and several other related questions we've been exploring)... 
granted, it clearly seems that IE's implementation is not perfect (but is at 
least getting better as of IE9). But as with the above assertion/question 
about #1... if the correct thing is just to always follow HTTP semantics, 
and assume you have to request every URL until you get caching headers 
saying otherwise... isn't that still feasible within the constraints of 
either of the two main proposals? Granted that it would be diverging from 
IE's bugs in this area, but would it be workable to do so? If not, can you 
clearly articulate why you think the proposals could not fit with existing 
precedent on HTTP caching semantics?

Also, I want to go back to a question I asked earlier in this thread and I 
don't think I quite got a full answer to:

With respect to the HTTP caching semantics (or other related performance 
concerns), *other than the potential waste of unused scripts*, what 
additional concerns does &quot;preloading&quot; imply that the quite standard current 
practice of dynamically adding script elements to the DOM wouldn't imply? 
I'm trying to figure out why &quot;preloading&quot; presents additional 
challenges/risks that the current dynamic loading mechanisms don't.



--Kyle

 

</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030619.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
	<LI>Next message: <A HREF="030622.html">[whatwg] Proposal for separating script downloads and execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30621">[ date ]</a>
              <a href="thread.html#30621">[ thread ]</a>
              <a href="subject.html#30621">[ subject ]</a>
              <a href="author.html#30621">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
