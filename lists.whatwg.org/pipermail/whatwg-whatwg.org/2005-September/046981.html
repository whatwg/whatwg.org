<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] getElementsByClassName()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20getElementsByClassName%28%29&In-Reply-To=%3C431C051E.9050604%40lachy.id.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="046980.html">
   <LINK REL="Next"  HREF="046982.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] getElementsByClassName()</H1>
<!--htdig_noindex-->
    <B>Lachlan Hunt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20getElementsByClassName%28%29&In-Reply-To=%3C431C051E.9050604%40lachy.id.au%3E"
       TITLE="[whatwg] getElementsByClassName()">lachlan.hunt at lachy.id.au
       </A><BR>
    <I>Mon Sep  5 01:43:10 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="046980.html">[whatwg] getElementsByClassName()
</A></li>
        <LI>Next message: <A HREF="046982.html">[whatwg] getElementsByClassName()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46981">[ date ]</a>
              <a href="thread.html#46981">[ thread ]</a>
              <a href="subject.html#46981">[ subject ]</a>
              <a href="author.html#46981">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Aankhen wrote:
&gt;<i> On 9/5/05, Lachlan Hunt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">lachlan.hunt at lachy.id.au</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i>1. Equivalent to (&quot;foo&quot;, &quot;bar&quot;) (or [class~=foo][class~=bar], or
</I>&gt;&gt;<i>    .foo.bar in CSS)
</I>&gt;&gt;<i>2. The way it currently works. ie. matches &quot;foo bar&quot;, not &quot;bar foo&quot;
</I>&gt;&gt;<i>3. Error, return nothing.
</I>&gt;<i> 
</I>&gt;<i> I suggest #2, which implies consistently treating the first argument
</I>&gt;<i> passed to the function as a single class name to match (this means
</I>&gt;<i> &quot;foo bar&quot; would always return no elements,
</I>
No, as already demonstrated, #2 does return matches in some cases. 
However, after some more testing, the results are inconsistent among 
browsers, which makes that alternative inappropriate.  For example, 
compare the results of these three tests in different browsers:  (I 
tested Firefox, Opera and IE on Windows).

<A HREF="http://www.lachy.id.au/dev/script/examples/DOM/tests/007.html">http://www.lachy.id.au/dev/script/examples/DOM/tests/007.html</A>
<A HREF="http://www.lachy.id.au/dev/script/examples/DOM/tests/011.html">http://www.lachy.id.au/dev/script/examples/DOM/tests/011.html</A>
<A HREF="http://www.lachy.id.au/dev/script/examples/DOM/tests/012.html">http://www.lachy.id.au/dev/script/examples/DOM/tests/012.html</A>

007: Firefox: E and F, Opera and IE: E
011: All: (none)
012: Firefox: (none), Opera and IE: F

The only difference between the tests is the white space in the 
parameter.  The first uses a single space, the second uses multiple 
spaces and the third uses a space followed by a tab.

&gt;<i> Special-casing &quot;foo bar&quot; and other values seems to be adding
</I>&gt;<i> complexity without much return.
</I>
It's not about special casing, it's about defining error recovery 
consistently between implementations.  As it's currently defined, (&quot;foo 
bar&quot; is, I believe, erroneous since each parameter represents a single 
class name.  However, the results from different implementations should 
be identical, which is why the behaviour needs to be defined and why #2 
is not appropriate.

That leaves the choice between #1 and #3 (or possibly #4 if someone 
thinks of another).  I have no strong opinion either way, I just need it 
defined so I can implement it.

&gt;<i> If multiple class names really need to be handled, my suggestion would
</I>&gt;<i> be to take a single array as a parameter, e.g.
</I>&gt;<i> `getElementsByClassName([&quot;foo&quot;])` and `getElementsByClassName([&quot;foo&quot;,
</I>&gt;<i> &quot;bar&quot;])`.
</I>
Multiple class names are already supported with the ability to pass any 
number of arguments.  It is defined in the spec, and I implemented it, as:

getElementsByClassName(className1 [, className2, ...] )

-- 
Lachlan Hunt
<A HREF="http://lachy.id.au/">http://lachy.id.au/</A>


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="046980.html">[whatwg] getElementsByClassName()
</A></li>
	<LI>Next message: <A HREF="046982.html">[whatwg] getElementsByClassName()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46981">[ date ]</a>
              <a href="thread.html#46981">[ thread ]</a>
              <a href="subject.html#46981">[ subject ]</a>
              <a href="author.html#46981">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
