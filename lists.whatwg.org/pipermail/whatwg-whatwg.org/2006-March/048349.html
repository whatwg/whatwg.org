<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] JSONRequest
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20JSONRequest&In-Reply-To=%3C441E95B8.2040603%40lachy.id.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048347.html">
   <LINK REL="Next"  HREF="048334.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] JSONRequest</H1>
<!--htdig_noindex-->
    <B>Lachlan Hunt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20JSONRequest&In-Reply-To=%3C441E95B8.2040603%40lachy.id.au%3E"
       TITLE="[whatwg] JSONRequest">lachlan.hunt at lachy.id.au
       </A><BR>
    <I>Mon Mar 20 03:44:56 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="048347.html">[whatwg] JSONRequest
</A></li>
        <LI>Next message: <A HREF="048334.html">[whatwg] JSONRequest
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48349">[ date ]</a>
              <a href="thread.html#48349">[ thread ]</a>
              <a href="subject.html#48349">[ subject ]</a>
              <a href="author.html#48349">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Gervase Markham wrote:
&gt;<i> Douglas Crockford wrote:
</I>&gt;&gt;<i> The JSONRequest does only one thing:
</I>&gt;<i> &lt;snip&gt;
</I>&gt;<i> 
</I>&gt;<i> Are you planning to take the excellent advice from &lt;I forget who&gt;
</I>&gt;<i> to change the name? 
</I>
That was me.  Nice to see I'm quite memorable :-)

&gt;<i> The name XmlHttpRequest sucks because it doesn't
</I>&gt;<i> necessarily return XML, and it doesn't have to be over HTTP.
</I>
I agree, but considering we're stuck with it...

&gt;<i> Why not just call it &quot;Request&quot;,
</I>
Why not just reuse XMLHttpRequest?

&gt;<i> and have an API to set the Accept: header,
</I>
XHR already does.

var r = new XMLHttpRequest();
r.open(&quot;post&quot;, &quot;<A HREF="http://example.org/json">http://example.org/json</A>&quot;)
r.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);
r.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)
r.send(jsonData);

To make XMLHttp as secure as JSONRequest claims to be (assuming for the 
moment that the proposal can be made completely secure), we would just 
need to find a way to tell the UA to allow cross domain access for XHR 
under certain conditions by meeting the criteria in Security section of 
the JSONRequest proposal.

e.g. Don't send cookies, usernames, passwords, etc., prevent access to 
detailed error messages from other domains, help prevent DoS attacks to 
other domains using random delays between requests and address any other 
security concerns raised.

That way, if the conditions are met by both the script and server, the 
UA could allow access to the response, otherwise treat it as an XSS 
attack of some sort and deny it.

-- 
Lachlan Hunt
<A HREF="http://lachy.id.au/">http://lachy.id.au/</A>


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048347.html">[whatwg] JSONRequest
</A></li>
	<LI>Next message: <A HREF="048334.html">[whatwg] JSONRequest
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48349">[ date ]</a>
              <a href="thread.html#48349">[ thread ]</a>
              <a href="subject.html#48349">[ subject ]</a>
              <a href="author.html#48349">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
