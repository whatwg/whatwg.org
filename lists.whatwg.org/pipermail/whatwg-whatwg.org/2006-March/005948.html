<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] The problem of duplicate ID as a security issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20problem%20of%20duplicate%20ID%20as%20a%20security%20issue&In-Reply-To=%3C441155EF.1060107%40peda.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006002.html">
   <LINK REL="Next"  HREF="005949.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] The problem of duplicate ID as a security issue</H1>
<!--htdig_noindex-->
    <B>Mikko Rantalainen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20problem%20of%20duplicate%20ID%20as%20a%20security%20issue&In-Reply-To=%3C441155EF.1060107%40peda.net%3E"
       TITLE="[whatwg] The problem of duplicate ID as a security issue">mikko.rantalainen at peda.net
       </A><BR>
    <I>Fri Mar 10 02:33:19 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="006002.html">[whatwg] The problem of duplicate ID as a security issue
</A></li>
        <LI>Next message: <A HREF="005949.html">[whatwg] The problem of duplicate ID as a security issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5948">[ date ]</a>
              <a href="thread.html#5948">[ thread ]</a>
              <a href="subject.html#5948">[ subject ]</a>
              <a href="author.html#5948">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Alexey Feldgendler wrote:
&gt;<i> The problem of duplicate ID isn't just another issue where it's nice to  
</I>&gt;<i> have some well-defined error recovery just for uniformity. There are cases  
</I>&gt;<i> when duplicate IDs should be viewed as a security concern.
</I>&gt;<i> 
</I>&gt;<i> [...]
</I>&gt;<i> For example, imagine a script which finds a button by ID and attaches an  
</I>&gt;<i> event listener to it. A possible markup looks like this:
</I>&gt;<i> 
</I>&gt;<i> &lt;div&gt;
</I>&gt;<i>      ...blog entry body...
</I>&gt;<i> &lt;/div&gt;
</I>&gt;<i> &lt;button id=&quot;addtomemories&quot;&gt;Add this entry to memories&lt;/button&gt;
</I>&gt;<i> &lt;script&gt;
</I>&gt;<i> document.getElementById('addtomemories').addEventListener('click',  
</I>&gt;<i> doSomeNiceAJAX);
</I>&gt;<i> &lt;/script&gt;
</I>&gt;<i> 
</I>&gt;<i> So, a malicious blog author can make the following entry:
</I>&gt;<i> 
</I>&gt;<i> I have found a &lt;a href=&quot;#&quot; id=&quot;addtomemories&quot;&gt;cool website&lt;/a&gt;.
</I>
I think the real problem is not adding the button though the script, 
too. This is bad for two reasons:

1) modified source may result to incorrect targeted element and
2) there shouldn't be any buttons if scripting isn't enabled.

If the script inserts the button, then it can store reference to it 
for later use so it doesn't need the id attribute in the first 
place. I'm fully aware that it's no always reasonable to expect the 
script author to insert all elements via script that need to be 
accessed but I think at least the actions that have security 
implications should go through this kind of procedure.

Security is hard just because *any little error* in the whole 
process can render every other &quot;security feature&quot; meaningless. 
Allowing random user input with possibility to use user supplied 
scripting is next to impossible to make secure.

-- 
Mikko

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006002.html">[whatwg] The problem of duplicate ID as a security issue
</A></li>
	<LI>Next message: <A HREF="005949.html">[whatwg] The problem of duplicate ID as a security issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5948">[ date ]</a>
              <a href="thread.html#5948">[ thread ]</a>
              <a href="subject.html#5948">[ subject ]</a>
              <a href="author.html#5948">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
