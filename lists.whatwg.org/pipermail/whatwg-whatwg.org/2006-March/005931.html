<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] anchor(jump) DOM Event proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20anchor%28jump%29%20DOM%20Event%20proposal&In-Reply-To=%3C440E650C.3000909%40nasquan.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005930.html">
   <LINK REL="Next"  HREF="005933.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] anchor(jump) DOM Event proposal</H1>
<!--htdig_noindex-->
    <B>Loune</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20anchor%28jump%29%20DOM%20Event%20proposal&In-Reply-To=%3C440E650C.3000909%40nasquan.com%3E"
       TITLE="[whatwg] anchor(jump) DOM Event proposal">lpgcritter at nasquan.com
       </A><BR>
    <I>Tue Mar  7 21:01:00 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="005930.html">[whatwg] [html5] case sensitive DOMStrings for the &lt;canvas&gt;	interface?
</A></li>
        <LI>Next message: <A HREF="005933.html">[whatwg] What happens with unknown elements in WA1?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5931">[ date ]</a>
              <a href="thread.html#5931">[ thread ]</a>
              <a href="subject.html#5931">[ subject ]</a>
              <a href="author.html#5931">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ric Hardacre wrote:
&gt;<i> sounds good, and logical when compared with anchor and button onclick 
</I>&gt;<i> for example.
</I>&gt;<i>
</I>&gt;<i> to clarify, where would the event be attached by default? document or 
</I>&gt;<i> window? i.e. would i
</I>I'd say it would be attached to the same places as the load event.

I've had a look at the &quot;Session history and navigation&quot; state spec and 
if I'm interpreting it correctly, it only solves part of the problem.

Using state objects you would:
1) Implement the popstate event
2) use the window.pushState(stateobject) to push the state into the 
&quot;state stack?&quot;
3) When user navigates back, popstate event fires with the state object

 From the terminology, I gather that once you popped the state, you 
don't have the state in your history anymore? That means after you 
navigate back, you can't go forwards again. The state spec also leaves 
room for a URI to be associated with the state. But it begs the question 
of how will the URI be correlated to the state DOMObject in way that the 
URI can restore the state, even if the URI is posted to a web page, or 
sent via email to a friend.

However, The good thing about the state spec is that it was created with 
the explicit intention of solving the AJAX problem, where as the 
onanchor spec is more of a piggy back on to an existing feature. Indeed, 
I came up with this spec when I set out to solve the AJAX problem with 
the current range of browsers, but fell short, because I couldn't find 
an event that would be reliably triggered when the anchor URL changes.

I think the two specs, onanchor/state can be reconciled. The traditional 
anchor jumping could be made a behaviour of a modified state spec. Each 
jump will be regarded as a new state of page in the session history. It 
will however need some modifications for it to be able to perform like 
it is on current browsers (going forward, URL change, scrolling).

cheers,

-l

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005930.html">[whatwg] [html5] case sensitive DOMStrings for the &lt;canvas&gt;	interface?
</A></li>
	<LI>Next message: <A HREF="005933.html">[whatwg] What happens with unknown elements in WA1?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5931">[ date ]</a>
              <a href="thread.html#5931">[ thread ]</a>
              <a href="subject.html#5931">[ subject ]</a>
              <a href="author.html#5931">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
