<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Internal character encoding declaration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Internal%20character%20encoding%20declaration&In-Reply-To=%3CPine.LNX.4.64.0603141351490.27998%40peter.oslo.opera.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006019.html">
   <LINK REL="Next"  HREF="006033.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Internal character encoding declaration</H1>
<!--htdig_noindex-->
    <B>Peter Karlsson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Internal%20character%20encoding%20declaration&In-Reply-To=%3CPine.LNX.4.64.0603141351490.27998%40peter.oslo.opera.com%3E"
       TITLE="[whatwg] Internal character encoding declaration">peter at opera.com
       </A><BR>
    <I>Tue Mar 14 05:07:48 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="006019.html">[whatwg] Internal character encoding declaration
</A></li>
        <LI>Next message: <A HREF="006033.html">[whatwg] Internal character encoding declaration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6023">[ date ]</a>
              <a href="thread.html#6023">[ thread ]</a>
              <a href="subject.html#6023">[ subject ]</a>
              <a href="author.html#6023">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Henri Sivonen on 2006-03-14:

&gt;<i> It appears that the INVARIANT charset is not designed to be invariant 
</I>&gt;<i> under different Web-relevant encodings (e.g. stateful Asian encodings that 
</I>&gt;<i> use ESC and VISCII that assigns printable characters to the control 
</I>&gt;<i> range). Rather, the INVARIANT charset seems to be designed to be invariant 
</I>&gt;<i> under the various national variants of ISO-646, which used to be relevant 
</I>&gt;<i> to email until ten years ago but luckily have never been relevant to the 
</I>&gt;<i> Web.
</I>
True, but it is still relevant as a subset that is identical in most 
encodings. If you drop the &quot;+&quot; from it, you can include UTF-7 in the covered 
encodings as well, and I don't know of any IANA encoding labels with &quot;+&quot; in 
them, meaning it can be used for &lt;meta&gt; discovery.

&gt;<i> (BTW, how Web-relevant is VISCII, really?)
</I>
I can't remember having seen any web pages use it.

&gt;&gt;<i> Transcoding is very popular, especially in Russia.
</I>&gt;<i> In *proxies* *today*? What's the point considering that browsers have 
</I>&gt;<i> supported the Cyrillic encoding soup *and* UTF-8 for years?
</I>
The mod_charset is not proxying, it's on the server level. A few years back 
browsers that did not support many character encodings were still popular 
(according to the statistics I have seen), but that has likely changed 
lately. mod_charset still remains and is in use, however.

&gt;<i> How could proxies properly transcode form submissions coming back without 
</I>&gt;<i> messing everything up spectacularly?
</I>
That's why the &quot;hidden-string&quot; technique was invented. Introduce a hidden 
&lt;input&gt; with a character string that will get encoded differently depending 
on the encoding used. When data comes in, use this character string to 
determine what encoding was used.

&gt;<i> I am aware of the Russian Apache project. A glance at the English docs 
</I>&gt;<i> suggests it is not reading the meta.
</I>
I haven't read the documentation, but I have seen pages being served in 
different character encodings in different browsers by Russian Apache 
servers, with the &lt;meta&gt; intact and indicating the original encoding. It is 
quite possible that the &lt;meta&gt; wasn't used anywhere.

&gt;<i> Not a fatal problem if the information on the HTTP layer is right (until 
</I>&gt;<i> saving to disk, that is).
</I>
Exactly.

&gt;<i> Easy parse errors are not fatal in browsers. Surely it is OK for a 
</I>&gt;<i> conformance checker to complain that much at server operators whose HTTP 
</I>&gt;<i> layer and meta do not match.
</I>
I just reacted at the notion of calling such documents invalid. It is the 
transport layer that defines the encoding, whatever the document says or how 
it looks like is irrelevant, and is just something that you can look at if 
the transport layer neglects to say anything.

&gt;<i> Is BOCU-1 so much smaller than UTF-8 with deflate compression on the HTTP 
</I>&gt;<i> layer that the gratuitous incompatibility could ever be justified?
</I>
I don't know, I haven't compared (but you should of course compare BOCU-1 
with deflate if you do).

-- 
\\//
Peter, software engineer, Opera Software

  The opinions expressed are my own, and not those of my employer.
  Please reply only by follow-ups on the mailing list.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006019.html">[whatwg] Internal character encoding declaration
</A></li>
	<LI>Next message: <A HREF="006033.html">[whatwg] Internal character encoding declaration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6023">[ date ]</a>
              <a href="thread.html#6023">[ thread ]</a>
              <a href="subject.html#6023">[ subject ]</a>
              <a href="author.html#6023">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
