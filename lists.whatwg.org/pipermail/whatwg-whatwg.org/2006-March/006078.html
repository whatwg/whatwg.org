<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] JSONRequest
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20JSONRequest&In-Reply-To=%3C851c8d310603200546j27a2c130yd4ccc28f0257d9c8%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006071.html">
   <LINK REL="Next"  HREF="006083.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] JSONRequest</H1>
<!--htdig_noindex-->
    <B>Jim Ley</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20JSONRequest&In-Reply-To=%3C851c8d310603200546j27a2c130yd4ccc28f0257d9c8%40mail.gmail.com%3E"
       TITLE="[whatwg] JSONRequest">jim.ley at gmail.com
       </A><BR>
    <I>Mon Mar 20 05:46:06 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="006071.html">[whatwg] JSONRequest
</A></li>
        <LI>Next message: <A HREF="006083.html">[whatwg] JSONRequest
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6078">[ date ]</a>
              <a href="thread.html#6078">[ thread ]</a>
              <a href="subject.html#6078">[ subject ]</a>
              <a href="author.html#6078">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 3/20/06, Douglas Crockford &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">douglas at crockford.com</A>&gt; wrote:
&gt;<i>  &gt; Or indeed wrote your script before this JSONRequest was invented.
</I>&gt;<i>
</I>&gt;<i> I think I see where you are confused. A pre-JSONRequest JSON application
</I>&gt;<i> will be using GET, or POST with a conventional POST body.
</I>
What exactly is a &quot;conventional POST body&quot;

&gt;<i> JSONRequest cannot generate a GET, so those interfaces are
</I>&gt;<i> safe,
</I>
Many webservers will return data in response to a POST even if
expecting a GET, a bug perhaps, but there's no specification which
prevents it.

&gt;<i> and it cannot generate a conventional POST
</I>&gt;<i> body, so those applications are safe, too.
</I>
I have lots of applications that POST json to the server, and return
more JSON, for exactly the reason your proposing this interface now.

&gt;<i> If an application is so badly implemented that it accepts dangerous POSTs (we
</I>&gt;<i> already determined that JSONRequest is safer than form.submit in this regard)
</I>
Where did we determine this?   Please start sharing your security
analysis, it seems rather lacking to me, so I'm not really prepared to
trust blanked statements of what you've determined.

&gt;<i> So, is this a problem? No. First, JSONRequest will reject the response and not
</I>&gt;<i> return to the script because the Content-Type is not application/json.
</I>&gt;<i> application/json is only now being registered as MIME media type. Legacy
</I>&gt;<i> applications should not have been using it.
</I>
_SHOULD_  see, you're relying on perfect systems everywhere, that is
not an appropriate reliance, and as there are other methods - opt-in
methods - that allow cross domain scripting to be done more securely,
I simply don't see the point of not using them, and go for these poor
security methods you're advocating.

Also, someone using a application/vnd.someone.json will likely change
their server configuration to application/json as soon as it's
registered, so legacy apps will be using the appropriate mime-type.

&gt;<i> So, to repeat, JSON introduces no new security vulnerabilities for the legacy
</I>&gt;<i> JavaScript data formats of six years ago.
</I>
You just admitted, that it did, so please stop repeating that phrase,
you may want to use a phrase such as &quot;few&quot; or &quot;rare&quot; or &quot;only in
certain situations&quot; are new security vulnerabilities present, but
there are certainly not none, and your refusal to admit this in the
document, when you do here suggests that you do not want your
specification to be reviewed fairly by all concerned.

&gt;<i> I would very much like to see the details of a specific attack in which a legacy
</I>&gt;<i> application which depends solely on firewall locality for its security is
</I>&gt;<i> compromised by JSONRequest.
</I>
I have some where all that would be needed is a
application/x--jl-message-result becomes a application/json -
something that is likely to happen (without me knowing) once the the
mime-type is registered.  Of course it's behind a firewall, so I can't
direct you to it, but it meets all of the other restrictions on JSON
you've listed above.  The data protected is pretty innocuous, but I'd
be crazy to think I was the only person doing it, why do you think I
am?

Cheers,

Jim.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006071.html">[whatwg] JSONRequest
</A></li>
	<LI>Next message: <A HREF="006083.html">[whatwg] JSONRequest
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6078">[ date ]</a>
              <a href="thread.html#6078">[ thread ]</a>
              <a href="subject.html#6078">[ subject ]</a>
              <a href="author.html#6078">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
