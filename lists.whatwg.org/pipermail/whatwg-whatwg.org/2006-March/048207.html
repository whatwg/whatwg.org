<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] anchor(jump) DOM Event proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20anchor%28jump%29%20DOM%20Event%20proposal&In-Reply-To=%3C2de757660603080549j75784c1ep8ea4f44c7efeb45c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048204.html">
   <LINK REL="Next"  HREF="048172.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] anchor(jump) DOM Event proposal</H1>
<!--htdig_noindex-->
    <B>Johan Sundstr&#246;m</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20anchor%28jump%29%20DOM%20Event%20proposal&In-Reply-To=%3C2de757660603080549j75784c1ep8ea4f44c7efeb45c%40mail.gmail.com%3E"
       TITLE="[whatwg] anchor(jump) DOM Event proposal">oyasumi at gmail.com
       </A><BR>
    <I>Wed Mar  8 05:49:03 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="048204.html">[whatwg] anchor(jump) DOM Event proposal
</A></li>
        <LI>Next message: <A HREF="048172.html">[whatwg] 2.20.2 The command element - icon attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48207">[ date ]</a>
              <a href="thread.html#48207">[ thread ]</a>
              <a href="subject.html#48207">[ subject ]</a>
              <a href="author.html#48207">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> A common argument or complaint against AJAX is that it renders the back
</I>&gt;<i> and forward buttons useless and thereby interrupting the normal flow of
</I>&gt;<i> browsing. It is also impossible to bookmark the state of the page [due
</I>&gt;<i> to the URL remaining the same]. Normally, navigating to a new URL will
</I>&gt;<i> result in the browser performing a new request to the server, but there
</I>&gt;<i> is one exception to that - which is invoking an anchor via # suffix.
</I>
+1 for making this a DOM event you could preventDefault(), and which
would trigger not only on programmatic state change of
(window.)location.hash, but similarly on user change.

It's worth noting that for the typical case of listening in on
programmatic change of location.hash, there is the generic feature
inherited from Object.prototype.watch, which lets you not only watch
but also decide over what happens to the value on modification. Try
this bookmarklet on a page that sets location.hash to see the former
value, which value it gets changed to and lets you pick another one
instead:

javascript:void(location.watch('hash',function(a,b,c){return
prompt(a+':'+b,c);}))

I would not consider your suggestion a solution to the ajax REST
problem, though still useful for reacting to a bookmark trying to
initiate a specific page state without reloading the page, which is
something that just doesn't work RESTfully today.

--
 / Johan Sundstr&#246;m, <A HREF="http://ecmanaut.blogspot.com/">http://ecmanaut.blogspot.com/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048204.html">[whatwg] anchor(jump) DOM Event proposal
</A></li>
	<LI>Next message: <A HREF="048172.html">[whatwg] 2.20.2 The command element - icon attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48207">[ date ]</a>
              <a href="thread.html#48207">[ thread ]</a>
              <a href="subject.html#48207">[ subject ]</a>
              <a href="author.html#48207">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
