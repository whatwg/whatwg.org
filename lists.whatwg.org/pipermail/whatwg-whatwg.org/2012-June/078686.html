<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] readyState transitions when aborting a document
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20readyState%20transitions%20when%20aborting%20a%20document&In-Reply-To=%3C4FDB094F.4060507%40opera.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078680.html">
   <LINK REL="Next"  HREF="036388.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] readyState transitions when aborting a document</H1>
<!--htdig_noindex-->
    <B>James Graham</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20readyState%20transitions%20when%20aborting%20a%20document&In-Reply-To=%3C4FDB094F.4060507%40opera.com%3E"
       TITLE="[whatwg] readyState transitions when aborting a document">jgraham at opera.com
       </A><BR>
    <I>Fri Jun 15 03:07:11 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="078680.html">[whatwg] readyState transitions when aborting a document
</A></li>
        <LI>Next message: <A HREF="036388.html">[whatwg] DOMContentLoaded, load and current document readiness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78686">[ date ]</a>
              <a href="thread.html#78686">[ thread ]</a>
              <a href="subject.html#78686">[ subject ]</a>
              <a href="author.html#78686">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 06/14/2012 04:38 PM, James Graham wrote:
&gt;<i> On 06/13/2012 11:18 PM, Ian Hickson wrote:
</I>&gt;&gt;<i> On Fri, 20 Apr 2012, Henri Sivonen wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> * Should window.stop() really not abort the parser like the spec
</I>&gt;&gt;&gt;&gt;<i> seems to suggest?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Looks like Opera is alone with the non-aborting behavior. The spec is
</I>&gt;&gt;&gt;<i> wrong.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can you elaborate on this? How can you tell?
</I>&gt;<i>
</I>&gt;<i> I presume the TC is something like
</I>&gt;<i>
</I>&gt;<i> &lt;!doctype html&gt;
</I>&gt;<i> Before stop
</I>&gt;<i> &lt;script&gt;
</I>&gt;<i> window.stop()
</I>&gt;<i> &lt;/script&gt;
</I>&gt;<i> After stop
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Only Opera displays &quot;after stop&quot; here. We are planning to change this
</I>&gt;<i> behaviour, so that window.stop is much more like the &quot;abort the
</I>&gt;<i> document&quot; (I haven't yet closely studied how this interacts with the
</I>&gt;<i> readystate and other things that Henri has been looking at).
</I>
FWIW I think the conceptually simplest solution here is for aborting the 
document to go through &quot;The End&quot;, so that defer scripts are run, 
DOMContentLoaded and load events fire, and the readyState changes in the 
normal way. This isn't quite like the behaviour of Gecko or WebKit 
today, but is spec-wise easy to understand, and hopefully no one is 
relying too much on specific behaviour of window.stop().

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078680.html">[whatwg] readyState transitions when aborting a document
</A></li>
	<LI>Next message: <A HREF="036388.html">[whatwg] DOMContentLoaded, load and current document readiness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78686">[ date ]</a>
              <a href="thread.html#78686">[ thread ]</a>
              <a href="subject.html#78686">[ subject ]</a>
              <a href="author.html#78686">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
