<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Spec for downloading stylesheets
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Spec%20for%20downloading%20stylesheets&In-Reply-To=%3CCABbusA%2Bnk6xMrxDQQ20rm%2BOVL-mpj-mKprtdft2V4vZYLPnM9g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078698.html">
   <LINK REL="Next"  HREF="036431.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Spec for downloading stylesheets</H1>
<!--htdig_noindex-->
    <B>Andy Davies</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Spec%20for%20downloading%20stylesheets&In-Reply-To=%3CCABbusA%2Bnk6xMrxDQQ20rm%2BOVL-mpj-mKprtdft2V4vZYLPnM9g%40mail.gmail.com%3E"
       TITLE="[whatwg] Spec for downloading stylesheets">dajdavies at gmail.com
       </A><BR>
    <I>Sat Jun 16 12:01:07 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="078698.html">[whatwg] Spec for downloading stylesheets
</A></li>
        <LI>Next message: <A HREF="036431.html">[whatwg] At Inclusion (a declarative way to &quot;Ajaxise&quot; a website)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78700">[ date ]</a>
              <a href="thread.html#78700">[ thread ]</a>
              <a href="subject.html#78700">[ subject ]</a>
              <a href="author.html#78700">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Thanks Tab,

I presume it's this -
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">http://www.whatwg.org/specs/web-apps/current-work/#the-link-element</A>

&quot;For external resources that are represented in the DOM (for example,
style sheets), the DOM representation must be made available even if
the resource is not applied. To obtain the resource, the user agent
must run the following steps:

If the href attribute's value is the empty string, then abort these steps.

Resolve the URL given by the href attribute, relative to the element.

If the previous step fails, then abort these steps.

Fetch the resulting absolute URL.

User agents may opt to only try to obtain such resources when they are
needed, instead of pro-actively fetching all the external resources
that are not applied.&quot;



On 16 June 2012 15:46, Tab Atkins Jr. &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jackalmage at gmail.com</A>&gt; wrote:
&gt;<i> On Sat, Jun 16, 2012 at 1:23 AM, Andy Davies &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dajdavies at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> I'm under the impression that a UA has to download all stylesheets
</I>&gt;&gt;<i> regardless of whether they will be used e.g. print, mediaquery may never
</I>&gt;&gt;<i> match etc.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've had a crawl through the specs but can't find the behaviour specified.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is my understanding right and if so can someone point me at the relevant
</I>&gt;&gt;<i> spec?
</I>&gt;<i>
</I>&gt;<i> The relevant spec is just HTML, which pays no attention to the @media
</I>&gt;<i> attribute when parsing &lt;link rel=stylesheet&gt;s. &#160;Without anything
</I>&gt;<i> explicitly saying &quot;Don't download X unless condition Y is met&quot;, you
</I>&gt;<i> just download them all.
</I>&gt;<i>
</I>&gt;<i> The reasoning for this is that the set of stylesheets that you need
</I>&gt;<i> for a document is not static - users *do* resize their browser, for
</I>&gt;<i> example, and browsers would like to apply the relevant CSS
</I>&gt;<i> immediately, not wait a second or so to kick off and finish a
</I>&gt;<i> download. &#160;It also lets us keep the invariant that, if you use
</I>&gt;<i> matchMedia or something to see if a MQ matches, all the styles are
</I>&gt;<i> correct for the state of the world as you see it.
</I>&gt;<i>
</I>&gt;<i> ~TJ
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078698.html">[whatwg] Spec for downloading stylesheets
</A></li>
	<LI>Next message: <A HREF="036431.html">[whatwg] At Inclusion (a declarative way to &quot;Ajaxise&quot; a website)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78700">[ date ]</a>
              <a href="thread.html#78700">[ thread ]</a>
              <a href="subject.html#78700">[ subject ]</a>
              <a href="author.html#78700">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
