<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Readiness of script-created documents
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Readiness%20of%20script-created%20documents&In-Reply-To=%3CPine.LNX.4.64.1206112238180.378%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036355.html">
   <LINK REL="Next"  HREF="078687.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Readiness of script-created documents</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Readiness%20of%20script-created%20documents&In-Reply-To=%3CPine.LNX.4.64.1206112238180.378%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Readiness of script-created documents">ian at hixie.ch
       </A><BR>
    <I>Mon Jun 11 15:46:20 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="036355.html">[whatwg] Accept-Language DOM API proposal
</A></li>
        <LI>Next message: <A HREF="078687.html">[whatwg] Readiness of script-created documents
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36356">[ date ]</a>
              <a href="thread.html#36356">[ thread ]</a>
              <a href="subject.html#36356">[ subject ]</a>
              <a href="author.html#36356">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 30 Mar 2012, Henri Sivonen wrote:
&gt;<i> On Fri, Jan 13, 2012 at 2:26 AM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i> &gt; Jonas is correct. Since there was no interop here I figured we might 
</I>&gt;<i> &gt; as well go with what made sense.
</I>&gt;<i> 
</I>&gt;<i> I'm somewhat unhappy about fixing IE-introduced APIs to &quot;make sense&quot; 
</I>&gt;<i> like this. The implementation in Gecko isn't particularly good. When 
</I>&gt;<i> trying to make it better, I discovered that doing what IE did would have 
</I>&gt;<i> lead to simpler code.
</I>
On Fri, 30 Mar 2012, Jonas Sicking wrote:
&gt;<i>
</I>&gt;<i> That's not a particularly strong argument. The question is what's better 
</I>&gt;<i> for authors.
</I>
On Mon, 2 Apr 2012, Henri Sivonen wrote:
&gt;<i> 
</I>&gt;<i> Gratuitously changing features introduced by IE does not help authors 
</I>&gt;<i> when they have to support the old IE behavior for years.  Either authors 
</I>&gt;<i> don't use the API in the uninteroperable situation or they will have to 
</I>&gt;<i> deal with different browsers returning different things. The easiest 
</I>&gt;<i> path to get to the point where all browsers in use return the same thing 
</I>&gt;<i> would have been for others to do what IE did.
</I>
On Mon, 2 Apr 2012, Jonas Sicking wrote:
&gt;<i> 
</I>&gt;<i> Everyone returning the same thing isn't the only goal. First of all 
</I>&gt;<i> what's the purpose of all browsers doing the same thing if that same 
</I>&gt;<i> thing isn't useful? Second, you are assuming that people are actually 
</I>&gt;<i> aware of this edge case and account for it. Here it seems just as likely 
</I>&gt;<i> to me that generic code paths would result in buggy pages given IEs 
</I>&gt;<i> behavior, and correct behavior given the specs behavior. Third, if 
</I>&gt;<i> no-one is hitting this edge case, which also seems quite plausible here, 
</I>&gt;<i> then it having a while longer without interoperability won't really 
</I>&gt;<i> matter what we do and doing the most useful thing seems like the best 
</I>&gt;<i> long-term goal.
</I>
On Tue, 3 Apr 2012, Henri Sivonen wrote:
&gt;<i> 
</I>&gt;<i> No one is worse off and stuff works even if an author somewhere relies 
</I>&gt;<i> on a crazy edge case behavior.
</I>&gt;<i> 
</I>&gt;<i> On the other hand, for cases no one is hitting, it's probably not 
</I>&gt;<i> worthwhile to spend time trying to get the behavior to change from what 
</I>&gt;<i> was initially introduced.
</I>
On Tue, 3 Apr 2012, Jonas Sicking wrote:
&gt;<i> 
</I>&gt;<i> I think we should aim higher than that for the web platform.
</I>
I agree with Jonas here. If browsers are going to have to change anyway, 
why not change to the better solution, even if that isn't the solution 
that is most trivial to implement or the solution that the first 
implementation happened to have? The platform has enough crazy without us 
adding more to it when we don't have to.


On Mon, 23 Apr 2012, Henri Sivonen wrote:
&gt;<i> On Mon, Jun 20, 2011 at 3:10 PM, Jonas Sicking &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonas at sicking.cc</A>&gt; wrote:
</I>&gt;<i> &gt; On Mon, Jun 20, 2011 at 4:26 AM, Henri Sivonen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at iki.fi</A>&gt; 
</I>&gt;<i> &gt; wrote:
</I>&gt;<i> &gt;&gt; <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1039">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1039</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; It says &quot;complete&quot; in Firefox, &quot;loading&quot; in Chrome and Opera and 
</I>&gt;<i> &gt;&gt; &quot;uninitialized&quot; in IE. The spec requires &quot;complete&quot;. readyState is 
</I>&gt;<i> &gt;&gt; originally an IE API. Why doesn't the spec require &quot;uninitialized&quot;?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; (The implementation in Gecko is so recent that it's quite possible 
</I>&gt;<i> &gt;&gt; that Gecko followed the spec and the spec just made stuff up as 
</I>&gt;<i> &gt;&gt; opposed to the spec following Gecko.)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &quot;complete&quot; seems like the most useful and consistent value which would 
</I>&gt;<i> &gt; seem like a good reason to require that.
</I>&gt;<i> 
</I>&gt;<i> Why don't aborted documents reach &quot;complete&quot; in Gecko? It seems weird to 
</I>&gt;<i> have aborted documents stay in the &quot;loading&quot; state when they are not, in 
</I>&gt;<i> fact, loading.
</I>
On Wed, 25 Apr 2012, Jonas Sicking wrote:
&gt;<i> 
</I>&gt;<i> Sounds like a bug, I don't think this was done on purpose. I agree that 
</I>&gt;<i> we should ideally only be in &quot;loading&quot; when we're actually loading.
</I>
When a document is aborted the state is more or less left exactly as it 
was when it was aborted. This includes the readiness state. It also means 
no events fire (e.g. no 'load', 'unload', or 'error' events), a number of 
scripts just get abandoned without executing, appcache stuff gets 
abandoned, queued calls to window.print() get forgotten, etc.

Aborting a document is a very heavy-handed measure. Documents are not 
expected to last long after they have been aborted, typically. Pages 
aren't expected to remain functional beyond that point.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>

































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036355.html">[whatwg] Accept-Language DOM API proposal
</A></li>
	<LI>Next message: <A HREF="078687.html">[whatwg] Readiness of script-created documents
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36356">[ date ]</a>
              <a href="thread.html#36356">[ thread ]</a>
              <a href="subject.html#36356">[ subject ]</a>
              <a href="author.html#36356">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
