<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal for change in recommendation for loading	behavior of non-applicable stylesheets
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20change%20in%20recommendation%20for%20loading%0A%09behavior%20of%20non-applicable%20stylesheets&In-Reply-To=%3C7FA2002F-AF50-4F74-8077-5AC8096AF759%40scottjehl.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078616.html">
   <LINK REL="Next"  HREF="078621.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal for change in recommendation for loading	behavior of non-applicable stylesheets</H1>
<!--htdig_noindex-->
    <B>Scott Jehl</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20change%20in%20recommendation%20for%20loading%0A%09behavior%20of%20non-applicable%20stylesheets&In-Reply-To=%3C7FA2002F-AF50-4F74-8077-5AC8096AF759%40scottjehl.com%3E"
       TITLE="[whatwg] Proposal for change in recommendation for loading	behavior of non-applicable stylesheets">scott at scottjehl.com
       </A><BR>
    <I>Mon Jun 11 14:17:57 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="078616.html">[whatwg] Proposal for change in recommendation for loading behavior of non-applicable stylesheets
</A></li>
        <LI>Next message: <A HREF="078621.html">[whatwg] Proposal for change in recommendation for loading behavior of non-applicable stylesheets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78620">[ date ]</a>
              <a href="thread.html#78620">[ thread ]</a>
              <a href="subject.html#78620">[ subject ]</a>
              <a href="author.html#78620">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Thanks again, Boris.

These are fair answers, but I can't help but think that the problem is critical enough to warrant spec-level consideration. 

As device contexts are increasing, authors are referencing more stylesheets to address them, and the existing behavior across most browsers ensures that every last byte of those stylesheets will be loaded - often in a synchronous/blocking manner. This is less about author convenience and more of a benefit to users: deferring the load of inapplicable stylesheets would surely have a large impact on perceived page performance. I'd be happy to provide some demos of existing sites with my shim included for profiling sake.

Further, judging by the response received on twitter when I posted that research last week, I think the current behavior is not at all what most authors expect to happen. But we also don't really have any other options aside from using JavaScript to make it work the way it seems like it really should. 

I think you've rightfully pointed out that the lazy-loading idea probably won't fly with vendors and could even cause problems in certain cases.  In the past, there were similar concerns for @media print stylesheets, which are always requested (like all other non-applicable media) up-front, perhaps in the off-chance that connectivity would be lost when the user tries to print. That's at least the reasoning I'd seen cited before, and that behavior led to authors embedding @media print styles inside their @media all stylesheet just to prevent that HTTP overhead.

Unfortunately, these days inlining every media query does nothing to solve this problem, aside from reducing HTTP requests by shifting all our weight into a single heavy request.

Even assuming that implementing this feature would mean delaying CSS prefetching until the metaviewport tag was parsed, wouldn't the tradeoff in page loading speed be worth it? I'd imagine many pages could have several fewer blocking requests as a result.

Thanks again and if you feel this isn't the proper forum for addressing this issue, do you have any suggestions where I should take it?

Scott
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078616.html">[whatwg] Proposal for change in recommendation for loading behavior of non-applicable stylesheets
</A></li>
	<LI>Next message: <A HREF="078621.html">[whatwg] Proposal for change in recommendation for loading behavior of non-applicable stylesheets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78620">[ date ]</a>
              <a href="thread.html#78620">[ thread ]</a>
              <a href="subject.html#78620">[ subject ]</a>
              <a href="author.html#78620">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
