<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal for change in recommendation for loading	behavior of non-applicable stylesheets
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20change%20in%20recommendation%20for%20loading%0A%09behavior%20of%20non-applicable%20stylesheets&In-Reply-To=%3CB64E7CAA-5D2C-48E4-92D3-6D94F95D96AF%40scottjehl.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078614.html">
   <LINK REL="Next"  HREF="078616.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal for change in recommendation for loading	behavior of non-applicable stylesheets</H1>
<!--htdig_noindex-->
    <B>Scott Jehl</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20change%20in%20recommendation%20for%20loading%0A%09behavior%20of%20non-applicable%20stylesheets&In-Reply-To=%3CB64E7CAA-5D2C-48E4-92D3-6D94F95D96AF%40scottjehl.com%3E"
       TITLE="[whatwg] Proposal for change in recommendation for loading	behavior of non-applicable stylesheets">scott at scottjehl.com
       </A><BR>
    <I>Sun Jun 10 13:33:20 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="078614.html">[whatwg] Proposal for change in recommendation for loading behavior of non-applicable stylesheets
</A></li>
        <LI>Next message: <A HREF="078616.html">[whatwg] Proposal for change in recommendation for loading behavior of non-applicable stylesheets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78615">[ date ]</a>
              <a href="thread.html#78615">[ thread ]</a>
              <a href="subject.html#78615">[ subject ]</a>
              <a href="author.html#78615">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Thanks for responding, Boris!

&gt;<i> One issue with this is that in many cases the UA may not yet know what
</I>&gt;<i> media queries apply to the document when starting the sheet loads.  In
</I>&gt;<i> some cases it does, of course, but those may be rarer than you think&#8230;
</I>
That makes sense. For my own understanding, do you have any examples of media queries that can't be determined until a later time?

In observing trends in web development and in my own work, it seems to me that the following types of queries are most commonly used to deliver cross-device Responsive designs:

min-width
max-width
min-device-width
max-device-width
min-device-pixel-ratio

I'd presume a UA would be able to run these before a page has begun loading, or at least after a meta[name=viewport] element has loaded (so that would need to come before stylesheets in the head to take advantage of this feature).

 Is that not the case?


I'm not entirely sure I understand your iframe example and how it would relate to the media query differently than any viewport width. I'd love a clarification on that part, but the following part is clear to me:

&gt;<i> There are also various user actions that can similarly change the width of even the toplevel window in CSS pixels such that it's larger than the nominal device width in CSS px (e.g. zooming out, in UAs that change the size of CSS px when you zoom).
</I>

Okay. But even if a user's preferences have previously changed the default font-size of the browser (say, by increasing their font size), wouldn't the UA would be privy to that size at load time, and be able to use that in determining whether, say, an EM-based media query was applicable to the viewport width or not?


&gt;<i> Except device queries and viewport queries are not at all the same thing, of course.  Conflating the two may be ok for a library that developers are free to not use if it's making assumptions that are not true in their use cases, but it's really not OK for a UA to do.
</I>

Understood. This example would be difficult to apply broadly, which is unfortunate as it'd be the area where the actual savings in HTTP requests could be made.

That said, merely deferring the load of stylesheets that don't apply at initial load would be a huge performance improvement for users. 

In a few large-scale responsive designs I've reviewed, sometimes more than half of the CSS delivered in the head of a page does not apply at all in small-screen contexts, yet the device must wait while all of it loads.


&gt;&gt;<i> 2. Reducing the amount of time that an unresponsive stylesheet can
</I>&gt;&gt;<i> block page rendering
</I>&gt;<i> 
</I>&gt;<i> Yes, indeed.
</I>

Excellent. I'd suggest something in the 6-8 seconds range would be reasonable (and that's the timeout implemented in my sample framework above), but that may be too aggressive for most folks' tastes.

Thanks again!

Scott


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078614.html">[whatwg] Proposal for change in recommendation for loading behavior of non-applicable stylesheets
</A></li>
	<LI>Next message: <A HREF="078616.html">[whatwg] Proposal for change in recommendation for loading behavior of non-applicable stylesheets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78615">[ date ]</a>
              <a href="thread.html#78615">[ thread ]</a>
              <a href="subject.html#78615">[ subject ]</a>
              <a href="author.html#78615">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
