<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] More questions about the DnD API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20More%20questions%20about%20the%20DnD%20API&In-Reply-To=%3Ccdc844f71003300150j3cce5d28x2723760669e34f30%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025692.html">
   <LINK REL="Next"  HREF="025701.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] More questions about the DnD API</H1>
<!--htdig_noindex-->
    <B>Daniel Cheng</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20More%20questions%20about%20the%20DnD%20API&In-Reply-To=%3Ccdc844f71003300150j3cce5d28x2723760669e34f30%40mail.gmail.com%3E"
       TITLE="[whatwg] More questions about the DnD API">dcheng at google.com
       </A><BR>
    <I>Tue Mar 30 01:50:45 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="025692.html">[whatwg] 53-75923 Apple Store Confirm
</A></li>
        <LI>Next message: <A HREF="025701.html">[whatwg] More questions about the DnD API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25699">[ date ]</a>
              <a href="thread.html#25699">[ thread ]</a>
              <a href="subject.html#25699">[ subject ]</a>
              <a href="author.html#25699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Mar 30, 2010 at 1:39 AM, Stef Epardaud &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">stef at epardaud.net</A>&gt; wrote:

&gt;<i> On Tue, Mar 30, 2010 at 01:31:15AM -0700, Daniel Cheng wrote:
</I>&gt;<i> &gt;      But then it's up to the developer to detect that the keys weren't
</I>&gt;<i> &gt;      pressed before (implement keydown events themselves), which is less
</I>&gt;<i> &gt;      practical.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    If you're copying the behavior of file managers, isn't it simply a
</I>&gt;<i> matter of
</I>&gt;<i> &gt;    setting dropEffect to whatever the current state of the modifier keys
</I>&gt;<i> are?
</I>&gt;<i> &gt;    function dragOver(e) {
</I>&gt;<i> &gt;    &#194; &#194; if (e.ctrlKey) e.dropEffect = 'copy';
</I>&gt;<i> &gt;    &#194; &#194; else e.dropEffect = 'move';
</I>&gt;<i> &gt;    &#194; &#194; e.preventDefault();
</I>&gt;<i> &gt;    }
</I>&gt;<i> &gt;    I'm not sure how having separate keyboard events would help in this
</I>&gt;<i> case,
</I>&gt;<i> &gt;    since you can't set dropEffect directly from a keyboard event.
</I>&gt;<i>
</I>&gt;<i> I want to do more than most file managers and let users visit
</I>&gt;<i> subdirectories by pressing control while over them, so they can continue
</I>&gt;<i> the drag operation inside the directory (and go deeper potentially).
</I>&gt;<i>
</I>&gt;<i> A separate event makes it much easier to detect the key press.
</I>&gt;<i>
</I>&gt;<i> &gt;      But if I want to be notified that an external application started a
</I>&gt;<i> drag
</I>&gt;<i> &gt;      in my document, where should I place the listener then? document?
</I>&gt;<i> body
</I>&gt;<i> &gt;      node?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    If an external application initiates a drag in your DOM page via the
</I>&gt;<i> &gt;    appropriate method for your platform, it should be the same as if a
</I>&gt;<i> user
</I>&gt;<i> &gt;    initiated it. The dragstart event / drag events should end up getting
</I>&gt;<i> fired
</I>&gt;<i> &gt;    at whatever node the application initiated the drag on. Maybe I'm
</I>&gt;<i> &gt;    misunderstanding your question though...
</I>&gt;<i>
</I>&gt;<i> No I mean, when an external application initiates a drag and then enters
</I>&gt;<i> my browser window/document to look for potential places where it could
</I>&gt;<i> drop it. I want to detect that and highlight all drop targets in the
</I>&gt;<i> page. I would do this in the &quot;drag&quot; or &quot;dragstart&quot; events if this was
</I>&gt;<i> started in the document, but how to do it when it is started by an
</I>&gt;<i> external application?
</I>&gt;<i>
</I>
I'd probably use a dragenter listener on the body of the document.


&gt;<i> --
</I>&gt;<i> St&#233;phane Epardaud
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100330/c6a819dd/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100330/c6a819dd/attachment.htm</A>&gt;
</PRE>





























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025692.html">[whatwg] 53-75923 Apple Store Confirm
</A></li>
	<LI>Next message: <A HREF="025701.html">[whatwg] More questions about the DnD API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25699">[ date ]</a>
              <a href="thread.html#25699">[ thread ]</a>
              <a href="subject.html#25699">[ subject ]</a>
              <a href="author.html#25699">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
