<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] oninput for contentEditable
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20oninput%20for%20contentEditable&In-Reply-To=%3C78dc8441003031811m25947b08u75d53b259252e493%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="067687.html">
   <LINK REL="Next"  HREF="067677.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] oninput for contentEditable</H1>
<!--htdig_noindex-->
    <B>Ojan Vafai</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20oninput%20for%20contentEditable&In-Reply-To=%3C78dc8441003031811m25947b08u75d53b259252e493%40mail.gmail.com%3E"
       TITLE="[whatwg] oninput for contentEditable">ojan at chromium.org
       </A><BR>
    <I>Wed Mar  3 18:11:14 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="067687.html">[whatwg] [html5] Attaching option elements to select elements	in different documents
</A></li>
        <LI>Next message: <A HREF="067677.html">[whatwg] oninput for contentEditable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67675">[ date ]</a>
              <a href="thread.html#67675">[ thread ]</a>
              <a href="subject.html#67675">[ subject ]</a>
              <a href="author.html#67675">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>WebKit would like to implement this in the (very) near future. Before
proceeding, we'd like to hear from other browser vendors that you're roughly
on board with this direction of adding beforeinput and input events.

Here are the changes I can think of that would result from this:
1) Fire &quot;input&quot; event for contentEditable areas as well as for text-entry
form controls.
2) For every case where we'd fire &quot;input&quot;, add a new &quot;beforeinput&quot; event
that fires before the DOM has been modified.
3) Add a new InputEvent interface with an &quot;action&quot; attribute to use for
&quot;input&quot; and &quot;beforeinput&quot; events.
4) For events with an &quot;inserttext&quot; action attribute, also provide a &quot;data&quot;
attribute that specifies the text being inserted. For other actions, &quot;data&quot;
is the empty string.
5) &quot;input&quot; events may be batched as long as they have the same action. In
the case of &quot;inserttext&quot; actions, the data attribute is the accumulation of
text being inserted. One strange side effect here is that there may be
multiple &quot;beforeinput&quot; events per &quot;input&quot; event fire, although it's not
unlike having multiple keydown events before a single keyup.

The list of actions still needs to be enumerated, but some obvious ones are
inserttext, undo, redo, copy, paste, cut and drop.

I also think we should get rid of the textInput event in deference to this
more useful event, but that's a discussion we can have on www-dom once this
is resolved. As far as I know, only WebKit currently implements textInput.

Ojan

On Tue, Jul 14, 2009 at 6:02 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:

&gt;<i> On Tue, 23 Jun 2009, Ojan Vafai wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Currently, textareas and text inputs support the &quot;oninput&quot; event that
</I>&gt;<i> &gt; fires on all user-initiated modifications to their content. We should
</I>&gt;<i> &gt; add this event to contentEditable elements as well and add an &quot;action&quot;
</I>&gt;<i> &gt; property the specifies what action the user took that caused the input
</I>&gt;<i> &gt; event.
</I>&gt;<i>
</I>&gt;<i> I haven't yet added this.
</I>&gt;<i>
</I>&gt;<i> I think we should probably address the various problems with
</I>&gt;<i> contenteditable all at once, to make sure the solution is coherent
</I>&gt;<i> overall. I'm watching what happens with the mutation event changes and
</I>&gt;<i> tracking proposals for various other changes to contentEditable.
</I>&gt;<i>
</I>&gt;<i> It may be that we need to defer these changes to after HTML5 reaches last
</I>&gt;<i> call, though, and have them in a future version next year some time.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Ian Hickson               U+1047E                )\._.,--....,'``.    fL
</I>&gt;<i> <A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
</I>&gt;<i> Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100303/5e2c7ab2/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100303/5e2c7ab2/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="067687.html">[whatwg] [html5] Attaching option elements to select elements	in different documents
</A></li>
	<LI>Next message: <A HREF="067677.html">[whatwg] oninput for contentEditable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67675">[ date ]</a>
              <a href="thread.html#67675">[ thread ]</a>
              <a href="subject.html#67675">[ subject ]</a>
              <a href="author.html#67675">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
