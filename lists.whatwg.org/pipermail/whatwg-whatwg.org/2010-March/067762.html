<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Structured clone algorithm a little too friendly?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Structured%20clone%20algorithm%20a%20little%20too%20friendly%3F&In-Reply-To=%3C4B98C1FF.9070607%40peda.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="067733.html">
   <LINK REL="Next"  HREF="067763.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Structured clone algorithm a little too friendly?</H1>
<!--htdig_noindex-->
    <B>Mikko Rantalainen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Structured%20clone%20algorithm%20a%20little%20too%20friendly%3F&In-Reply-To=%3C4B98C1FF.9070607%40peda.net%3E"
       TITLE="[whatwg] Structured clone algorithm a little too friendly?">mikko.rantalainen at peda.net
       </A><BR>
    <I>Thu Mar 11 02:12:15 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="067733.html">[whatwg] Structured clone algorithm a little too friendly?
</A></li>
        <LI>Next message: <A HREF="067763.html">[whatwg] Structured clone algorithm a little too friendly?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67762">[ date ]</a>
              <a href="thread.html#67762">[ thread ]</a>
              <a href="subject.html#67762">[ subject ]</a>
              <a href="author.html#67762">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>timeless wrote:
&gt;<i> On Tue, Mar 2, 2010 at 12:50 AM, ben turner &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bent at mozilla.com</A>&gt; wrote:
</I>&gt;&gt;<i>  - If input is a host object (e.g. a DOM node)
</I>&gt;&gt;<i>      Return the null value.
</I>&gt;<i> 
</I>&gt;<i> The general reason, I believe for this behavior is if you have:
</I>&gt;<i> 
</I>&gt;<i> a=[x,y,z,q,r,s]; worker.postMessage(a) and r turns out to be window,
</I>&gt;<i> you don't want to trigger an exception just because one value in a
</I>&gt;<i> list is a native object.
</I>
Why do you think so? I'd expect an exception instead of potential data
loss (due to not being to able to post the actual data to the worker).
I'd be happy to filter the &quot;r&quot; out of the list if I need to, but I'd
hate to try to figure why *some* of the data I was posting does not show
up at the worker. Obviously, if I know that I cannot post &quot;r&quot; and I
don't want to do the filtering myself, it would be nice to have an extra
parameter for postMessage() telling that it's okay to drop some data if
it cannot be transferred but that should not be the default. However, I
would consider that a special case and API could do just fine without
such feature.

-- 
Mikko


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 197 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100311/b1ca6956/attachment-0002.pgp">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100311/b1ca6956/attachment-0002.pgp</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="067733.html">[whatwg] Structured clone algorithm a little too friendly?
</A></li>
	<LI>Next message: <A HREF="067763.html">[whatwg] Structured clone algorithm a little too friendly?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67762">[ date ]</a>
              <a href="thread.html#67762">[ thread ]</a>
              <a href="subject.html#67762">[ subject ]</a>
              <a href="author.html#67762">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
