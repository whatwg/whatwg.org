<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Storage quota introspection and modification
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Storage%20quota%20introspection%20and%20modification&In-Reply-To=%3C696e4b7c1003101439j6ad3a74dg81cd1e14887fbbc%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="067743.html">
   <LINK REL="Next"  HREF="067744.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Storage quota introspection and modification</H1>
<!--htdig_noindex-->
    <B>Scott Hess</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Storage%20quota%20introspection%20and%20modification&In-Reply-To=%3C696e4b7c1003101439j6ad3a74dg81cd1e14887fbbc%40mail.gmail.com%3E"
       TITLE="[whatwg] Storage quota introspection and modification">shess at google.com
       </A><BR>
    <I>Wed Mar 10 14:39:51 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="067743.html">[whatwg] Storage quota introspection and modification
</A></li>
        <LI>Next message: <A HREF="067744.html">[whatwg] Storage quota introspection and modification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67751">[ date ]</a>
              <a href="thread.html#67751">[ thread ]</a>
              <a href="subject.html#67751">[ subject ]</a>
              <a href="author.html#67751">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>2010/3/10 Jeremy Orlow &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jorlow at chromium.org</A>&gt;:
&gt;<i> 2010/3/10 Ian Fette (&#12452;&#12450;&#12531;&#12501;&#12455;&#12483;&#12486;&#12451;) &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ifette at google.com</A>&gt;
</I>&gt;&gt;<i> As I talk with more application developers (both within Google and at
</I>&gt;&gt;<i> large), one thing that consistently gets pointed out to me as a problem is
</I>&gt;&gt;<i> the notion of the opaqueness of storage quotas in all of the new storage
</I>&gt;&gt;<i> mechanisms (Local Storage, Web SQL Database, Web Indexed Database, the
</I>&gt;&gt;<i> Filesystem API being worked on in DAP, etc). First, without being able to
</I>&gt;&gt;<i> know how large your quota currently is and how much headroom you are using,
</I>&gt;&gt;<i> it is very difficult to plan in an efficient manner. For instance, if you
</I>&gt;&gt;<i> are trying to sync email, I think it is reasonable to ask &quot;how much space do
</I>&gt;&gt;<i> I have,&quot; as opposed to just getting halfway through an update and finding
</I>&gt;&gt;<i> out that you hit your quota, rolling back the transaction, trying again with
</I>&gt;&gt;<i> a smaller subset, realizing you still hit your quota, etc.
</I>&gt;&gt;<i> I would like to see a method added, for any &quot;storage mechanism&quot;, something
</I>&gt;&gt;<i> like &quot;GetCurrentQuota()&quot; and &quot;GetCurrentQuotaUsed()&quot;. (I specifically don't
</I>&gt;&gt;<i> care what they're called or the details, e.g. whether they need to be
</I>&gt;&gt;<i> callbacks, I just want to see us address this use case.)
</I>&gt;<i>
</I>&gt;<i> I too have heard this plea over and over again.  I've also heard that even
</I>&gt;<i> knowing the order of magnitude of headway would be useful.  This is nearly a
</I>&gt;<i> deal breaker for a lot of apps.  Having to gracefully handle a quota related
</I>&gt;<i> error _every_ single time you do an operation is a big pain.
</I>
As with any other API, just because the browser says you can do it
doesn't mean that when you try to do it, it will work, so you pretty
much have to handle it.

An alternative to providing a measure of what your remaining quota is
would be to provide an estimate of the minimum amount of additional
data which the system has a high confidence that it can store for you.
 That number can probably be generated more reliably, and it sidesteps
some of the issues with what quota really is (after considering
straight storage overhead and the overhead needed to deal with
transactions).

-scott

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="067743.html">[whatwg] Storage quota introspection and modification
</A></li>
	<LI>Next message: <A HREF="067744.html">[whatwg] Storage quota introspection and modification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67751">[ date ]</a>
              <a href="thread.html#67751">[ thread ]</a>
              <a href="subject.html#67751">[ subject ]</a>
              <a href="author.html#67751">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
