<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Character encoding of document.open()ed documents
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Character%20encoding%20of%20document.open%28%29ed%20documents&In-Reply-To=%3C4BB34D1B.6000002%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025743.html">
   <LINK REL="Next"  HREF="025745.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Character encoding of document.open()ed documents</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Character%20encoding%20of%20document.open%28%29ed%20documents&In-Reply-To=%3C4BB34D1B.6000002%40mit.edu%3E"
       TITLE="[whatwg] Character encoding of document.open()ed documents">bzbarsky at MIT.EDU
       </A><BR>
    <I>Wed Mar 31 06:24:43 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="025743.html">[whatwg] Character encoding of document.open()ed documents
</A></li>
        <LI>Next message: <A HREF="025745.html">[whatwg] Character encoding of document.open()ed documents
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25744">[ date ]</a>
              <a href="thread.html#25744">[ thread ]</a>
              <a href="subject.html#25744">[ subject ]</a>
              <a href="author.html#25744">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 3/31/10 7:12 AM, Henri Sivonen wrote:
&gt;<i> Currently, the spec says that document.open() sets the document's character encoding to UTF-16. This is what IE does except IE uses the label &quot;unicode&quot; instead of &quot;UTF-16&quot;.
</I>&gt;<i> Demo: <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/438">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/438</A>
</I>&gt;<i>
</I>&gt;<i> Gecko and WebKit set document's character encoding to UTF-8 even though the parser operates on UTF-16.
</I>&gt;<i> Demo: <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/439">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/439</A>
</I>
Is that what Gecko does?  Or does it set the document's character 
encoding to the character encoding of the page that called open()?  I 
believe it's actually the latter.

&gt;<i> When loading external resources that don't have encoding labels, IE, Gecko and WebKit all use UTF-8 to decode the external resource.
</I>&gt;<i> Demo: <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/437">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/437</A>
</I>
Again, UTF-8 or the encoding of the page that called open()?

&gt;<i> None of IE, WebKit or Opera let the meta charset in a document.open()ed document have any effect
</I>
As in, it doesn't affect how external resources with no encoding labels 
are handled?  Odd; I could have sworn it mattered in IE.  I distinctly 
recall Gecko having compat bugs of various sorts here for the external 
resource case at one point (as in, people reporting intranet apps and 
the like that worked in IE but not Gecko), and us trying pretty hard to 
fix them.

-Boris
</PRE>










<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025743.html">[whatwg] Character encoding of document.open()ed documents
</A></li>
	<LI>Next message: <A HREF="025745.html">[whatwg] Character encoding of document.open()ed documents
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25744">[ date ]</a>
              <a href="thread.html#25744">[ thread ]</a>
              <a href="subject.html#25744">[ subject ]</a>
              <a href="author.html#25744">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
