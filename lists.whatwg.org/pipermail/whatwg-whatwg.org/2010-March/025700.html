<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Workers feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Workers%20feedback&In-Reply-To=%3C4BB1BC6E.70807%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025697.html">
   <LINK REL="Next"  HREF="025724.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Workers feedback</H1>
<!--htdig_noindex-->
    <B>Sigbjorn Finne</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Workers%20feedback&In-Reply-To=%3C4BB1BC6E.70807%40gmail.com%3E"
       TITLE="[whatwg] Web Workers feedback">sigbjorn.finne at gmail.com
       </A><BR>
    <I>Tue Mar 30 01:55:10 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="025697.html">[whatwg] Web Workers feedback
</A></li>
        <LI>Next message: <A HREF="025724.html">[whatwg] Web Workers feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25700">[ date ]</a>
              <a href="thread.html#25700">[ thread ]</a>
              <a href="subject.html#25700">[ subject ]</a>
              <a href="author.html#25700">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 3/30/2010 09:54, Jonas Sicking wrote:
&gt;<i> On Tue, Mar 30, 2010 at 12:20 AM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> On Mon, 29 Mar 2010, Jonas Sicking wrote:
</I>&gt;&gt;<i>     
</I>&gt;&gt;<i> ...
</I>&gt;&gt;&gt;<i> Additionally, it's unlikely that converting to null is the fallback
</I>&gt;&gt;&gt;<i> behavior you want for downlevel clients. Likely you'd want to manually
</I>&gt;&gt;&gt;<i> serialize such objects and then parse them on the receiver side. In this
</I>&gt;&gt;&gt;<i> case too an exception would likely help you more than silently
</I>&gt;&gt;&gt;<i> converting to null.
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;<i> It depends on how critical the DOM node is. If it's just a reference deep
</I>&gt;&gt;<i> inside some nested structure, which the other side only uses as an
</I>&gt;&gt;<i> additional hint rather than as a required component of the corresponding
</I>&gt;&gt;<i> algorithm, it's simpler just to have the UA convert it to null.
</I>&gt;&gt;<i>     
</I>&gt;<i> Ok, I guess it comes down to if we think it's more likely that people
</I>&gt;<i> will send Nodes and other unsupported objects by accident or as
</I>&gt;<i> optional data, or because they really want to send them.
</I>&gt;<i>
</I>&gt;<i> Personally my guess it's more likely that they really wanted to.
</I>&gt;<i>   
</I>
Hence tell them upfront that they are straying outside the supported set
of objects.

At Opera, we've gone back and forth on what's the preferable behaviour
here (previous spec versions did choose exceptions, I believe.) A third
option, and the traditional way of solving serialisation extensibility,
is to define an interface that host objects then need to implement to be
cloneable. Extra machinery.

Which one? Tempting to say that this it is a property of the host
language; returning 'null' fits non-strict EcmaScript one might argue,
exceptions its strict mode (such as it is/might become.) Languages that
provide more sophisticated type systems and enforcement might do a
better job. Personally, I think throwing an exception fits in with the
spec's use of them elsewhere (i.e., cross-document and web workers.)

If it is changed back, please leave behind a footnote about the issue ;-)

--sigbjorn | <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">sof at opera.com</A>

</PRE>












<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025697.html">[whatwg] Web Workers feedback
</A></li>
	<LI>Next message: <A HREF="025724.html">[whatwg] Web Workers feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25700">[ date ]</a>
              <a href="thread.html#25700">[ thread ]</a>
              <a href="subject.html#25700">[ subject ]</a>
              <a href="author.html#25700">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
