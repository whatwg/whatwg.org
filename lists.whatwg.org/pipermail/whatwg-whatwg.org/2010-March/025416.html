<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Making cross-domain overlays more user-friendly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Making%20cross-domain%20overlays%20more%20user-friendly&In-Reply-To=%3C989aa6911003042214l79db300er23a5e27e838e8cd2%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025552.html">
   <LINK REL="Next"  HREF="025419.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Making cross-domain overlays more user-friendly</H1>
<!--htdig_noindex-->
    <B>Rowan Nairn</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Making%20cross-domain%20overlays%20more%20user-friendly&In-Reply-To=%3C989aa6911003042214l79db300er23a5e27e838e8cd2%40mail.gmail.com%3E"
       TITLE="[whatwg] Making cross-domain overlays more user-friendly">rnairn at gmail.com
       </A><BR>
    <I>Thu Mar  4 22:14:13 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="025552.html">[whatwg] oninput for contentEditable
</A></li>
        <LI>Next message: <A HREF="025419.html">[whatwg] can you remove me from the lists please...thanks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25416">[ date ]</a>
              <a href="thread.html#25416">[ thread ]</a>
              <a href="subject.html#25416">[ subject ]</a>
              <a href="author.html#25416">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I'd like to see if I can move this forward a bit.  Let's drop some of
my original suggestions and break the solution into two separate
simple features that we can discuss independently.  Firstly, of the
problems with overlays listed in my original email ([1]), I think the
following are the most important to deal with:

&gt;<i> - Navigation in framed page does not get rid of the overlay (without
</I>&gt;<i>   explicit frame breaking)
</I>&gt;<i> - After the user navigates within the frame, information in the
</I>&gt;<i>   overlay no longer applies to framed content
</I>
I propose a &quot;oneshot&quot; attribute for iframe to alleviate this:

&lt;iframe src=&quot;<A HREF="http://example.com/">http://example.com/</A>&quot; oneshot&gt;

This would have the effect of having all links and forms in the framed
page have an implicit target=&quot;_top&quot;.


The second most import problem to deal with is the following:

&gt;<i> - Getting rid of the overlay means refreshing the framed page, either
</I>&gt;<i>   losing scroll position, or having navigated to another page, possibly
</I>&gt;<i>   losing the page entirely.
</I>
A cooperative overlay needs a way to promote the frame content to the
top browsing context without causing a page refresh.  In fact I can
see how this would be useful in other contexts too so it makes sense
to separate it from the other requirements.  For this I propose a
method of iframe:

iframe.makeTop()

This has a similar effect to setting top.location =
iframe.contentWindow.location (i.e. changing the URL bar, adding a
history state, etc.), but it simply promotes the iframe context to the
top level without refreshing the page.

Are either of those on their own more palatable to implementers?

Rowan


[1] <A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-February/025005.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-February/025005.html</A>
</PRE>





















































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025552.html">[whatwg] oninput for contentEditable
</A></li>
	<LI>Next message: <A HREF="025419.html">[whatwg] can you remove me from the lists please...thanks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25416">[ date ]</a>
              <a href="thread.html#25416">[ thread ]</a>
              <a href="subject.html#25416">[ subject ]</a>
              <a href="author.html#25416">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
