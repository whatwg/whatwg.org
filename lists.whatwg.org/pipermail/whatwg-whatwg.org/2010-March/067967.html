<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] WebSocket bufferedAmount includes overhead or not
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebSocket%20bufferedAmount%20includes%20overhead%20or%20not&In-Reply-To=%3C63df84f1003292319m6dc167boe77cb30d1d1a9fa9%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="067917.html">
   <LINK REL="Next"  HREF="067977.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] WebSocket bufferedAmount includes overhead or not</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebSocket%20bufferedAmount%20includes%20overhead%20or%20not&In-Reply-To=%3C63df84f1003292319m6dc167boe77cb30d1d1a9fa9%40mail.gmail.com%3E"
       TITLE="[whatwg] WebSocket bufferedAmount includes overhead or not">jonas at sicking.cc
       </A><BR>
    <I>Mon Mar 29 23:19:33 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="067917.html">[whatwg] WebSocket bufferedAmount includes overhead or not
</A></li>
        <LI>Next message: <A HREF="067977.html">[whatwg] WebSocket bufferedAmount includes overhead or not
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67967">[ date ]</a>
              <a href="thread.html#67967">[ thread ]</a>
              <a href="subject.html#67967">[ subject ]</a>
              <a href="author.html#67967">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Mar 24, 2010 at 2:33 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i> On Tue, 23 Mar 2010, Anne van Kesteren wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We (Opera) would prefer this too. I.e. to not impose details of the
</I>&gt;&gt;<i> protocol on the API.
</I>&gt;<i>
</I>&gt;<i> If we're exposing nothing from the protocol, does that mean we shouldn't
</I>&gt;<i> be exposing that the string converts to UTF-8 either?
</I>
While exposing the fact that strings are sent as UTF-8 does say
something about the protocol, I think it's still much more protocol
independent than including the message headers. The string has to be
serialized in some way, and it seems unlikely that any newly developed
protocol in the foreseeable future would use anything other than UTF-8
as serialization.

I agree it's not perfect, but few things we do are :)

My understanding of the use case for bufferedAmount is to allow an
application to send large amounts of data without incurring large
amounts of latency. For example that you could send streams of mouse
movement coordinates without risking a high delay between a movement
and the information of the movement hits the wire.

It seems to me that bufferedAmount does fulfill that use case, whereas
simply a boolean 'hasBufferedData' wouldn't as well.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="067917.html">[whatwg] WebSocket bufferedAmount includes overhead or not
</A></li>
	<LI>Next message: <A HREF="067977.html">[whatwg] WebSocket bufferedAmount includes overhead or not
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67967">[ date ]</a>
              <a href="thread.html#67967">[ thread ]</a>
              <a href="subject.html#67967">[ subject ]</a>
              <a href="author.html#67967">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
