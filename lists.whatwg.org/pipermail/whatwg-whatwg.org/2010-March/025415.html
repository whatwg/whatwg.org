<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Parsing processing instructions in HTML syntax:	10.2.4.44 Bogus comment state
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Parsing%20processing%20instructions%20in%20HTML%0A%20syntax%3A%0910.2.4.44%20Bogus%20comment%20state&In-Reply-To=%3C4B906B32.6090002%40yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025394.html">
   <LINK REL="Next"  HREF="025562.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Parsing processing instructions in HTML syntax:	10.2.4.44 Bogus comment state</H1>
<!--htdig_noindex-->
    <B>Brett Zamir</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Parsing%20processing%20instructions%20in%20HTML%0A%20syntax%3A%0910.2.4.44%20Bogus%20comment%20state&In-Reply-To=%3C4B906B32.6090002%40yahoo.com%3E"
       TITLE="[whatwg] Parsing processing instructions in HTML syntax:	10.2.4.44 Bogus comment state">brettz9 at yahoo.com
       </A><BR>
    <I>Thu Mar  4 18:23:46 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="025394.html">[whatwg] Parsing processing instructions in HTML syntax:	10.2.4.44 Bogus comment state
</A></li>
        <LI>Next message: <A HREF="025562.html">[whatwg] Parsing processing instructions in HTML syntax: 10.2.4.44 Bogus comment state
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25415">[ date ]</a>
              <a href="thread.html#25415">[ thread ]</a>
              <a href="subject.html#25415">[ subject ]</a>
              <a href="author.html#25415">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 3/3/2010 7:06 PM, Philip Taylor wrote:
&gt;<i> On Wed, Mar 3, 2010 at 10:55 AM, Brett Zamir&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">brettz9 at yahoo.com</A>&gt;  wrote:
</I>&gt;<i>    
</I>&gt;&gt;<i> On 3/2/2010 6:54 PM, Ian Hickson wrote:
</I>&gt;&gt;<i>      
</I>&gt;&gt;&gt;<i> On Tue, 2 Mar 2010, Elliotte Rusty Harold wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>        
</I>&gt;&gt;&gt;&gt;<i> Briefly it seems that&lt;? causes the parser to go into Bogus comment
</I>&gt;&gt;&gt;&gt;<i> state, which is fair enough. (I wouldn't really recommend that anyone
</I>&gt;&gt;&gt;&gt;<i> use processing instructions in HTML syntax anyway.) However the parser
</I>&gt;&gt;&gt;&gt;<i> comes out of that state at the first&gt;. Because processing instructions
</I>&gt;&gt;&gt;&gt;<i> can contain&gt;    and terminate only at the two character sequence ?&gt;    this
</I>&gt;&gt;&gt;&gt;<i> could cause PI processing to terminate early and leave a lot more error
</I>&gt;&gt;&gt;&gt;<i> handling and a confused parser state in the text yet to come.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>          
</I>&gt;&gt;&gt;<i> In HTML4, PIs ended at the first&gt;, not at ?&gt;. &quot;&lt;?target data&gt;&quot; is the
</I>&gt;&gt;&gt;<i> syntax of PIs when the SGML options used by HTML4 are applied.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> In any case, the parser in HTML5 is based on what browsers do, which is
</I>&gt;&gt;&gt;<i> also to terminate at the first&gt;. It's unlikely that we can change that,
</I>&gt;&gt;&gt;<i> given backwards-compatibility needs.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>        
</I>&gt;&gt;<i> Are there really a lot of folks out there depending on old HTML4-style
</I>&gt;&gt;<i> processing instructions not being broken?
</I>&gt;&gt;<i>      
</I>&gt;<i> Yes, e.g. a load of pages like
</I>&gt;<i> <A HREF="http://www.forex.com.cn/html/2008-01/821561.htm">http://www.forex.com.cn/html/2008-01/821561.htm</A> (to pick one example
</I>&gt;<i> at random) say:
</I>&gt;<i>
</I>&gt;<i>    &lt;?xml:namespace prefix = o ns = &quot;urn:schemas-microsoft-com:office:office&quot; /&gt;
</I>&gt;<i>
</I>&gt;<i> and don't have the string &quot;?&gt;&quot; anywhere.
</I>&gt;<i>    
</I>
Ok, fair enough.  But while it is great that HTML5 seeks to be 
transitional and backwards compatible, HTML5 (thankfully) already breaks 
compatibility for the sake of XML compatibility (e.g., localName or 
getElementsByTagNameNS). It seems to me that there should still be a 
role of eventually transitioning into something more full-featured in a 
fundamental, language-neutral way (e.g., supporting a fuller subset of 
XML's features such as external entities and yes, XML-style processing 
instructions); extensible, including the ability to include XML from 
other namespaces which may also encourage or rely on using their own XML 
processing instructions, for those who wish to experiment or supplement 
the HTML standard behavior; and more harmonious and compatible with a 
simpler syntax (i.e., XML's)--even if the more complex syntax is more 
prominent and continues to be supported indefinitely.

Brett

</PRE>







<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025394.html">[whatwg] Parsing processing instructions in HTML syntax:	10.2.4.44 Bogus comment state
</A></li>
	<LI>Next message: <A HREF="025562.html">[whatwg] Parsing processing instructions in HTML syntax: 10.2.4.44 Bogus comment state
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25415">[ date ]</a>
              <a href="thread.html#25415">[ thread ]</a>
              <a href="subject.html#25415">[ subject ]</a>
              <a href="author.html#25415">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
