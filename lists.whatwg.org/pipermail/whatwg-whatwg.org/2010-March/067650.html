<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Structured clone algorithm a little too friendly?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Structured%20clone%20algorithm%20a%20little%20too%20friendly%3F&In-Reply-To=%3C21b1517c1003011450q4fb1c521g8ee38d608196d4e5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="067664.html">
   <LINK REL="Next"  HREF="067733.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Structured clone algorithm a little too friendly?</H1>
<!--htdig_noindex-->
    <B>ben turner</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Structured%20clone%20algorithm%20a%20little%20too%20friendly%3F&In-Reply-To=%3C21b1517c1003011450q4fb1c521g8ee38d608196d4e5%40mail.gmail.com%3E"
       TITLE="[whatwg] Structured clone algorithm a little too friendly?">bent at mozilla.com
       </A><BR>
    <I>Mon Mar  1 14:50:30 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="067664.html">[whatwg] Content encoding (e.g. compression) in Web Sockets
</A></li>
        <LI>Next message: <A HREF="067733.html">[whatwg] Structured clone algorithm a little too friendly?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67650">[ date ]</a>
              <a href="thread.html#67650">[ thread ]</a>
              <a href="subject.html#67650">[ subject ]</a>
              <a href="author.html#67650">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi folks,

I'm implementing the structured clone algorithm and this part bothers
me a little bit:

  - If input is a host object (e.g. a DOM node)
      Return the null value.

Seems like this has the potential to confuse web programmers somewhat.
If I were to write code like this:

  worker.postMessage(window);

I would expect something meaningful to happen as long as no exception
was generated. According to the spec, though, we would send null to
the worker and not generate any exception. Is that really desirable?

I like the idea of making the structured clone as friendly as possible
but maybe we should add some teeth to this case just like we do for
recursive objects?

-Ben Turner

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="067664.html">[whatwg] Content encoding (e.g. compression) in Web Sockets
</A></li>
	<LI>Next message: <A HREF="067733.html">[whatwg] Structured clone algorithm a little too friendly?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67650">[ date ]</a>
              <a href="thread.html#67650">[ thread ]</a>
              <a href="subject.html#67650">[ subject ]</a>
              <a href="author.html#67650">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
