<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [html5] Attaching option elements to select elements	in different documents
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bhtml5%5D%20Attaching%20option%20elements%20to%20select%20elements%0A%09in%20different%20documents&In-Reply-To=%3C46f2bbccf39dedcc6259ff268c986427c9afd497%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025411.html">
   <LINK REL="Next"  HREF="025413.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [html5] Attaching option elements to select elements	in different documents</H1>
<!--htdig_noindex-->
    <B>Stewart Brodie</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bhtml5%5D%20Attaching%20option%20elements%20to%20select%20elements%0A%09in%20different%20documents&In-Reply-To=%3C46f2bbccf39dedcc6259ff268c986427c9afd497%40localhost%3E"
       TITLE="[whatwg] [html5] Attaching option elements to select elements	in different documents">stewart.brodie at antplc.com
       </A><BR>
    <I>Thu Mar  4 04:05:13 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="025411.html">[whatwg] [html5] Attaching option elements to select elements in different documents
</A></li>
        <LI>Next message: <A HREF="025413.html">[whatwg] [html5] Attaching option elements to select elements in different documents
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25412">[ date ]</a>
              <a href="thread.html#25412">[ thread ]</a>
              <a href="subject.html#25412">[ subject ]</a>
              <a href="author.html#25412">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at opera.com</A>&gt; wrote:

&gt;<i> On Thu, 04 Mar 2010 11:27:23 +0100, Stewart Brodie  
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">stewart.brodie at antplc.com</A>&gt; wrote:
</I>&gt;<i> &gt; Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at MIT.EDU</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; On 3/3/10 12:11 PM, Stewart Brodie wrote:
</I>&gt;<i> &gt;&gt; &gt; As far as I can tell, this affects: HTMLSelectElement.add(),
</I>&gt;<i> &gt;&gt; &gt; HTMLOptionsCollection.add(), Node.appendChild(), Node.replaceChild(),
</I>&gt;<i> &gt;&gt; &gt; Node.insertBefore().
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Is it option-specific, though?  Last I checked, various browsers
</I>&gt;<i> &gt;&gt; implicitly adopted on append/insert/replace, period.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Since when?  I was sure that they didn't used to do this.  DOM Core is
</I>&gt;<i> &gt; extremely clear on this issue (both in level 2 and level 3).  You appear
</I>&gt;<i> &gt; to be correct: Firefox and Opera both just ignore the standard and get
</I>&gt;<i> &gt; this wrong.  Chrome just seems to get confused.
</I>&gt;<i> 
</I>&gt;<i> This changed a while ago due to compatibility problems. Consensus at the  
</I>&gt;<i> time was to change DOM Core.
</I>
Is this documented anywhere?  By &quot;compatibility problems&quot;, presumably you
mean bugs in Firefox that were then exploited by content authors who didn't
know better?   From Maciej's description of WebKit's behaviour, it looks
like either they didn't know about this consensus or they didn't implement
it compatibly.

This definitely needs to be documented in HTML5.

Are there any more retrospective changes to fundamental behaviour specified
in DOM Core in the pipeline that I need to know about?  I already know about
the one in DOM Event about capturing listeners being called in the target
phase.

That leaves the issue of how adoptNode() affects the [[Prototype]] of the
node objects, which is currently inconsistent between desktop browsers.
Opera &amp; Chrome agree with each other (that the [[Prototype]] is unchanged);
Firefox disagrees (it changes the [[Prototype]] to be that it would have
been if the node had been created anew in the destination document).


-- 
Stewart Brodie
Team Leader - ANT Galio Browser
ANT Software Limited
</PRE>












<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025411.html">[whatwg] [html5] Attaching option elements to select elements in different documents
</A></li>
	<LI>Next message: <A HREF="025413.html">[whatwg] [html5] Attaching option elements to select elements in different documents
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25412">[ date ]</a>
              <a href="thread.html#25412">[ thread ]</a>
              <a href="subject.html#25412">[ subject ]</a>
              <a href="author.html#25412">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
