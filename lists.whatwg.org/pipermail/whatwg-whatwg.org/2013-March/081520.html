<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Priority between &lt;a download&gt; and content-disposition
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Priority%20between%20%3Ca%20download%3E%20and%20content-disposition&In-Reply-To=%3C5148CC10.6030808%40emsai.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081516.html">
   <LINK REL="Next"  HREF="039221.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Priority between &lt;a download&gt; and content-disposition</H1>
<!--htdig_noindex-->
    <B>Roger H&#229;gensen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Priority%20between%20%3Ca%20download%3E%20and%20content-disposition&In-Reply-To=%3C5148CC10.6030808%40emsai.net%3E"
       TITLE="[whatwg] Priority between &lt;a download&gt; and content-disposition">rescator at emsai.net
       </A><BR>
    <I>Tue Mar 19 13:35:28 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081516.html">[whatwg] Priority between &lt;a download&gt; and content-disposition
</A></li>
        <LI>Next message: <A HREF="039221.html">[whatwg] Hide placeholder on input controls on focus
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81520">[ date ]</a>
              <a href="thread.html#81520">[ thread ]</a>
              <a href="subject.html#81520">[ subject ]</a>
              <a href="author.html#81520">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 2013-03-19 15:31, Nils Dagsson Moskopp wrote:
&gt;<i> Roger H&#229;gensen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">rescator at emsai.net</A>&gt; schrieb am Tue, 19 Mar 2013
</I>&gt;<i> 14:31:15 +0100:
</I>&gt;<i>
</I>&gt;&gt;<i> [&#8230;]
</I>&gt;&gt;<i> What should be shown if there is an issue/conflict?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Maybe:
</I>&gt;&gt;<i> Download &quot;<A HREF="https://example.com/reports/1/xml/">https://example.com/reports/1/xml/</A>&quot; as &quot;report1.xml&quot; ?
</I>&gt;&gt;<i> WARNING! File identified as actually being an executable! (*.exe)
</I>&gt;<i> At least here on Debian GNU/Linux, executables have no file extension.
</I>&gt;<i> Besides that, what would be the MIME type of windows executables?
</I>
application/octet-stream as far as I know for most exes and misc 
binaries on most platforms, and windows exe's start with &quot;MZ&quot; as the 
very first two bytes.

&gt;<i>
</I>&gt;&gt;<i> Or:
</I>&gt;&gt;<i> Download &quot;<A HREF="https://example.com/reports/1/xml/">https://example.com/reports/1/xml/</A>&quot; as &quot;report1.xml&quot; ?
</I>&gt;&gt;<i> NOTE! File identified as not being a xml, appears to be text. (*.txt)
</I>&gt;<i> So, what about polyglots?
</I>&gt;<i> &lt;<A HREF="http://linux-hacks.blogspot.de/2009/02/theory-behind-hiding-zipped-file-under.html">http://linux-hacks.blogspot.de/2009/02/theory-behind-hiding-zipped-file-under.html</A>&gt;
</I>
Data hiding? (well close to it anyway) That is way beyond the scope of 
this, also I doubt you could do that with a executable on most platforms.
And if a .jpg turns out to have a zip attached then it just a .jpg with 
a zip attached, it's as simple as that.

&gt;&gt;<i> The key though is showing: Download &quot;url&quot; as &quot;file.ext&quot; ?
</I>&gt;&gt;<i> And in cases where a quick file header scan reveals a possible issue
</I>&gt;&gt;<i> (or simply wrong fileformat extension) either a notice or warning
</I>&gt;&gt;<i> text in addition.
</I>&gt;&gt;<i> But this is only if the user actually hose &quot;Save As&quot; in the download
</I>&gt;&gt;<i> dialog, they might have chosen &quot;Share on facebook&quot; or &quot;Print&quot; or
</I>&gt;&gt;<i> &quot;Email to...&quot; or even &quot;Open&quot;
</I>&gt;&gt;<i> a similar but different dialog would obviously be needed in that case.
</I>&gt;<i> I find all of this approach insanely complex for a negligible benefit.
</I>&gt;<i>
</I>
How so? All the information is mostly there. (HTTP header from server is 
always fetched be it HEAD, GET, POST calls, and a browser usually 
fetches the beginning of a file to sniff anyway).
The suggested name and extension would be in the download attr, and href 
is as it's always been.

Today if you download/run a link to a exe you do get asked if you really 
want to run this. (and this is a browser UI not a OS UI).
What is so complex about simply adding : as &quot;file.ext ?
to that UI which is already there?

In cases where the download attr and href and the server header and 
browser sniffing all agree it looks no different (nor behaves any 
different) than it does today when you right click and choose &quot;Save As...&quot;.
What is so complex about just suggesting some consistency in behavior 
with a improvement to boot?

And if you refer to the &quot;Share on/at...&quot; or &quot;Email to...&quot; or Print or 
Open then those are dialog options that do exist today or will, and was 
just used as examples and is not otherwise part of this in any other way.

Maybe there is a language barrier here and I'm not explaining this 
correctly, in which case I apologize for that. Let me know if anything 
in particular needs clarification.


-- 
Roger &quot;Rescator&quot; H&#229;gensen.
Freelancer - <A HREF="http://www.EmSai.net/">http://www.EmSai.net/</A>


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081516.html">[whatwg] Priority between &lt;a download&gt; and content-disposition
</A></li>
	<LI>Next message: <A HREF="039221.html">[whatwg] Hide placeholder on input controls on focus
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81520">[ date ]</a>
              <a href="thread.html#81520">[ thread ]</a>
              <a href="subject.html#81520">[ subject ]</a>
              <a href="author.html#81520">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
