<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fetch: number of tasks queued
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fetch%3A%20number%20of%20tasks%20queued&In-Reply-To=%3CCABirCh8VqeTDkumYWeue1nex14GTBN4h0_cFvNFN47aCjNr-Zw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081438.html">
   <LINK REL="Next"  HREF="081433.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fetch: number of tasks queued</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fetch%3A%20number%20of%20tasks%20queued&In-Reply-To=%3CCABirCh8VqeTDkumYWeue1nex14GTBN4h0_cFvNFN47aCjNr-Zw%40mail.gmail.com%3E"
       TITLE="[whatwg] Fetch: number of tasks queued">glenn at zewt.org
       </A><BR>
    <I>Wed Mar 13 08:00:37 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081438.html">[whatwg] Fetch: number of tasks queued
</A></li>
        <LI>Next message: <A HREF="081433.html">[whatwg] Fetch: number of tasks queued
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81431">[ date ]</a>
              <a href="thread.html#81431">[ thread ]</a>
              <a href="subject.html#81431">[ subject ]</a>
              <a href="author.html#81431">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Mar 13, 2013 at 9:36 AM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at annevk.nl</A>&gt; wrote:

&gt;<i> For the test.invalid case Gecko reports both 2 and 4, Chrome/Safari
</I>&gt;<i> only 4, and IE10 1 and then a while later 4. I think we should go with
</I>&gt;<i> a single network task for this scenario and align with Chrome/Safari.
</I>&gt;<i>
</I>
It's safer to guarantee that we always send a message for each state.
 Otherwise, code like this will work with network fetches but then suddenly
fail if pointed at a data URL:

client.onreadystatechange = function() { if(client.readyState ==
client.someState) doSomething(); };

It doesn't matter how many network tasks there are, though.  We can just
say that if the old state is (eg.) OPENED, and we're now in DONE, that we
iterate through all of the intermediary states, setting readyState and
firing onreadystatecomplete.

-- 
Glenn Maynard

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081438.html">[whatwg] Fetch: number of tasks queued
</A></li>
	<LI>Next message: <A HREF="081433.html">[whatwg] Fetch: number of tasks queued
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81431">[ date ]</a>
              <a href="thread.html#81431">[ thread ]</a>
              <a href="subject.html#81431">[ subject ]</a>
              <a href="author.html#81431">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
