<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] asynchronous JSON.parse
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20asynchronous%20JSON.parse&In-Reply-To=%3CCABirCh8KjPuM2KZqT5cbdHPAYyNJnw2QLaxhC1g%3D7LeqvFKWMw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081357.html">
   <LINK REL="Next"  HREF="081362.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] asynchronous JSON.parse</H1>
<!--htdig_noindex-->
    <B>Glenn Maynard</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20asynchronous%20JSON.parse&In-Reply-To=%3CCABirCh8KjPuM2KZqT5cbdHPAYyNJnw2QLaxhC1g%3D7LeqvFKWMw%40mail.gmail.com%3E"
       TITLE="[whatwg] asynchronous JSON.parse">glenn at zewt.org
       </A><BR>
    <I>Thu Mar  7 17:01:40 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081357.html">[whatwg] asynchronous JSON.parse
</A></li>
        <LI>Next message: <A HREF="081362.html">[whatwg] asynchronous JSON.parse
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81358">[ date ]</a>
              <a href="thread.html#81358">[ thread ]</a>
              <a href="subject.html#81358">[ subject ]</a>
              <a href="author.html#81358">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Mar 7, 2013 at 4:18 PM, David Rajchenbach-Teller &lt;
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dteller at mozilla.com</A>&gt; wrote:

&gt;<i> (Note: New on this list, please be gentle if I'm debating an
</I>&gt;<i> inappropriate issue in an inappropriate place.)
</I>&gt;<i>
</I>
(To my understanding of this list, it's completely acceptable to discuss
this here.)

Actually, communicating large JSON objects between threads may cause
&gt;<i> performance issues. I do not have the means to measure reception speed
</I>&gt;<i> simply (which would be used to implement asynchronous JSON.parse), but
</I>&gt;<i> it is easy to measure main thread blocks caused by sending (which would
</I>&gt;<i> be used to implement asynchronous JSON.stringify).
</I>&gt;<i>
</I>
If you're dealing with lots of data, you should be loading or creating the
data in the worker in the first place, not creating it in the UI thread and
then shuffling it off to a worker.

For example, if you're reading a large file provided by the user, post the
File object (received eg. from &lt;input&gt;) to the worker, then do the heavy
lifting there in the first place.

Benchmarks are always good, but it'd be better to talk about a real-world
use case, since it gives us something concrete to talk about.  What's a
practical case where you would actually have to create the big object in
the UI thread?


On Thu, Mar 7, 2013 at 5:25 PM, David Rajchenbach-Teller &lt;
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dteller at mozilla.com</A>&gt; wrote:

&gt;<i> However, to use Transferable objects for purpose of implementing
</I>&gt;<i> asynchronous parse/stringify, one needs conversions of JSON objects
</I>&gt;<i> from/to Transferable objects. As it turns out, these conversions are
</I>&gt;<i> just variants on JSON parse/stringify, so we have not simplified the issue.
</I>&gt;<i>
</I>
(Not nitpicking, since I really wasn't sure what you meant at first, but I
think you mean a JavaScript object.  There's no such thing as a &quot;JSON
object&quot;.)

-- 
Glenn Maynard

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081357.html">[whatwg] asynchronous JSON.parse
</A></li>
	<LI>Next message: <A HREF="081362.html">[whatwg] asynchronous JSON.parse
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81358">[ date ]</a>
              <a href="thread.html#81358">[ thread ]</a>
              <a href="subject.html#81358">[ subject ]</a>
              <a href="author.html#81358">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
