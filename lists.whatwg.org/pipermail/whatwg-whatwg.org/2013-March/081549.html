<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Question about document.referrer (and document.URL, document.location.href) when IDN domains are in use
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Question%20about%20document.referrer%20%28and%20document.URL%2C%0A%20document.location.href%29%20when%20IDN%20domains%20are%20in%20use&In-Reply-To=%3C514B5293.90601%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081539.html">
   <LINK REL="Next"  HREF="081550.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Question about document.referrer (and document.URL, document.location.href) when IDN domains are in use</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Question%20about%20document.referrer%20%28and%20document.URL%2C%0A%20document.location.href%29%20when%20IDN%20domains%20are%20in%20use&In-Reply-To=%3C514B5293.90601%40mit.edu%3E"
       TITLE="[whatwg] Question about document.referrer (and document.URL, document.location.href) when IDN domains are in use">bzbarsky at MIT.EDU
       </A><BR>
    <I>Thu Mar 21 11:33:55 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081539.html">[whatwg] Question about document.referrer (and document.URL, document.location.href) when IDN domains are in use
</A></li>
        <LI>Next message: <A HREF="081550.html">[whatwg] Question about document.referrer (and document.URL, document.location.href) when IDN domains are in use
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81549">[ date ]</a>
              <a href="thread.html#81549">[ thread ]</a>
              <a href="subject.html#81549">[ subject ]</a>
              <a href="author.html#81549">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 3/21/13 7:01 AM, Anne van Kesteren wrote:
&gt;<i> On Wed, Mar 20, 2013 at 10:46 PM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:
</I> &gt;
&gt;<i> My ongoing assumption has been that we want to serialize to punycode
</I>&gt;<i> always in the API
</I>
Hmm.  That _does_ suck if you want to show location stuff to the user, 
though.... (though a proposed ACE-to-Unicode API would somewhat help, if 
you remember to use it).

&gt;<i> as the Unicode form is very much a UI decision and
</I>&gt;<i> we do not want to leak that detail to web developers.
</I>
You mean the decision as to when exactly to use the Unicode and when to 
use ACE?  In what way is it a UI decision (apart from browser URL bars 
having anti-phishing logic that falls back to ACE when they detect 
&quot;weird&quot; chars in the URI)?

&gt;<i> (We do at some
</I>&gt;<i> point want to expose an API to convert one to the other, irrespective
</I>&gt;<i> of UI considerations.)
</I>
Agreed, but that doesn't help answer the question of what authors should 
get in the DOM.

Or put another way, it seems like we should be trying to use IRIs until 
we can't for some reason, and I see no a priori reason that 
location.href can't be an IRI...

-Boris

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081539.html">[whatwg] Question about document.referrer (and document.URL, document.location.href) when IDN domains are in use
</A></li>
	<LI>Next message: <A HREF="081550.html">[whatwg] Question about document.referrer (and document.URL, document.location.href) when IDN domains are in use
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81549">[ date ]</a>
              <a href="thread.html#81549">[ thread ]</a>
              <a href="subject.html#81549">[ subject ]</a>
              <a href="author.html#81549">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
