<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] select element should have a required attribute
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20select%20element%20should%20have%20a%20required%20attribute&In-Reply-To=%3CAANLkTimx0359rpbtquP6lX8rHEkFsyITmiMRXYIQ8vaq%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069066.html">
   <LINK REL="Next"  HREF="069068.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] select element should have a required attribute</H1>
<!--htdig_noindex-->
    <B>Garrett Smith</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20select%20element%20should%20have%20a%20required%20attribute&In-Reply-To=%3CAANLkTimx0359rpbtquP6lX8rHEkFsyITmiMRXYIQ8vaq%40mail.gmail.com%3E"
       TITLE="[whatwg] select element should have a required attribute">dhtmlkitchen at gmail.com
       </A><BR>
    <I>Sat Jun 19 11:46:16 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="069066.html">[whatwg] select element should have a required attribute
</A></li>
        <LI>Next message: <A HREF="069068.html">[whatwg] select element should have a required attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69067">[ date ]</a>
              <a href="thread.html#69067">[ thread ]</a>
              <a href="subject.html#69067">[ subject ]</a>
              <a href="author.html#69067">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 6/19/10, Ashley Sheridan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ash at ashleysheridan.co.uk</A>&gt; wrote:
&gt;<i> On Fri, 2010-06-18 at 13:34 -0700, Garrett Smith wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On 6/18/10, Garrett Smith &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dhtmlkitchen at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; On 6/18/10, Ashley Sheridan &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ash at ashleysheridan.co.uk</A>&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; On Fri, 2010-06-18 at 11:35 +0200, Mounir Lamouri wrote:
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [...]
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Implementations vary on actual behavior. See also:
</I>&gt;&gt;<i> &gt; <A HREF="https://bug-20184-attachments.webkit.org/attachment.cgi?done=true&amp;id=22519">https://bug-20184-attachments.webkit.org/attachment.cgi?done=true&amp;id=22519</A>
</I>&gt;&gt;<i> &gt;
</I>
That is the wrong URL to begin the test; instead, the following URL
must be used:
<A HREF="https://bug-20184-attachments.webkit.org/attachment.cgi?id=22519">https://bug-20184-attachments.webkit.org/attachment.cgi?id=22519</A>

Looking closer, that test is no good. Doesn't run in IE anyway. Since
I made it, it's my fault and so I've attached a simpler test bug. The
simpler test is still not that good because it tests two things:
  1) is a SELECT with no name successful?
  2) is a disabled, selected OPTION in a SELECT successful?

 but it's not as bad as the other test, which did some complicated
onload stuff that made it hard to understand.

This test is also posted below, though with using &quot;block&quot; instead of
&quot;inline-block&quot; to show the results in more browsers.

&gt;&gt;<i>
</I>&gt;&gt;<i> The actual bug:
</I>&gt;&gt;<i> <A HREF="https://bugs.webkit.org/show_bug.cgi?id=20184">https://bugs.webkit.org/show_bug.cgi?id=20184</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Garrett
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I'd expect a disabled control to still send the value it would have sent
</I>&gt;<i> if it weren't disabled. A select element without a name shouldn't be
</I>&gt;<i> sent, which I believe is the case with all form elements not given a
</I>&gt;<i> name?
</I>&gt;<i>
</I>
Controls that are disabled cannot be successful. Browser behavior
varies on what happens when a SELECT has a disabled OPTION selected.

To be successful, all form controls must have a name. FORM element
itself does not need to be given a name.

<A HREF="http://www.w3.org/TR/html401/interact/forms.html#h-17.3">http://www.w3.org/TR/html401/interact/forms.html#h-17.3</A>
<A HREF="http://localhost:8020/jstest/suc.html?wrong=disabled&amp;done=Submit">http://localhost:8020/jstest/suc.html?wrong=disabled&amp;done=Submit</A>
A better example, to be sent from a web server below, the results are:

PASS:
   IE8, 9b, FF 2, FF 3.6,

FAIL:
   IE7 an below, Opera 10.5, Safari 4.

&lt;!DOCTYPE HTML&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
	&lt;title&gt;Submit&lt;/title&gt;
	&lt;style type=&quot;text/css&quot;&gt;
	h2 {
		display: none;
	}
	#pass {
		background: #0f0;
	}
	#fail {
		background: Red;
	}
	&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form action=&quot;&quot;&gt;
&lt;select&gt;&lt;option disabled&gt;invalid&lt;/option&gt;&lt;/select&gt;
&lt;select&gt;&lt;option disabled&gt;&lt;/option&gt;&lt;/select&gt;
&lt;select name=&quot;wrong&quot;&gt;&lt;option disabled
selected&gt;disabled&lt;/option&gt;&lt;option&gt;enabled&lt;/option&gt;&lt;/select&gt;
&lt;input type='submit' id=&quot;done&quot; name=&quot;done&quot; value=&quot;Submit&quot;/&gt;
&lt;/form&gt;
&lt;h2 id=&quot;pass&quot;&gt;PASS&lt;/h2&gt;
&lt;h2 id=&quot;fail&quot;&gt;FAIL&lt;/h2&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
onload =  function() {
	var q = location.search,
		f = document.forms[0],
		m,
		id = document.getElementById('id');
	
	if(!/done/.test(q)) return;
	
	// Options with &quot;disabled&quot; or &quot;invalid&quot; value
	// are are failures here.
	if(q &amp;&amp; /invalid|disabled/.test(q)) {
	  document.getElementById(&quot;fail&quot;).style.display = &quot;block&quot;;
	} else {		
		document.getElementById(&quot;pass&quot;).style.display = &quot;block&quot;;
	}
}
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;

Garrett

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069066.html">[whatwg] select element should have a required attribute
</A></li>
	<LI>Next message: <A HREF="069068.html">[whatwg] select element should have a required attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69067">[ date ]</a>
              <a href="thread.html#69067">[ thread ]</a>
              <a href="subject.html#69067">[ subject ]</a>
              <a href="author.html#69067">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
