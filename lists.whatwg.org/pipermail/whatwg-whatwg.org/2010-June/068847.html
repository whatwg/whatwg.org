<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] ISSUE-86, Re: hixie: Remove the HTML-to-Atom mapping definition from the W3C version of the spec. (whatwg r5100)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20ISSUE-86%2C%0A%20Re%3A%20hixie%3A%20Remove%20the%20HTML-to-Atom%20mapping%20definition%20from%20the%20W3C%0A%20version%20of%20the%20spec.%20%28whatwg%20r5100%29&In-Reply-To=%3C4C05EAC0.3020506%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068976.html">
   <LINK REL="Next"  HREF="068916.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] ISSUE-86, Re: hixie: Remove the HTML-to-Atom mapping definition from the W3C version of the spec. (whatwg r5100)</H1>
<!--htdig_noindex-->
    <B>Julian Reschke</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20ISSUE-86%2C%0A%20Re%3A%20hixie%3A%20Remove%20the%20HTML-to-Atom%20mapping%20definition%20from%20the%20W3C%0A%20version%20of%20the%20spec.%20%28whatwg%20r5100%29&In-Reply-To=%3C4C05EAC0.3020506%40gmx.de%3E"
       TITLE="[whatwg] ISSUE-86, Re: hixie: Remove the HTML-to-Atom mapping definition from the W3C version of the spec. (whatwg r5100)">julian.reschke at gmx.de
       </A><BR>
    <I>Tue Jun  1 22:23:12 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="068976.html">[whatwg] audio and video: volume and muted as content attributes?
</A></li>
        <LI>Next message: <A HREF="068916.html">[whatwg] ISSUE-86, Re: hixie: Remove the HTML-to-Atom mapping definition from the W3C version of the spec. (whatwg r5100)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68847">[ date ]</a>
              <a href="thread.html#68847">[ thread ]</a>
              <a href="subject.html#68847">[ subject ]</a>
              <a href="author.html#68847">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Ian,

thanks for the removal.

I notice that you kept the text in the WHATWG version of the spec.

Various problems have been reported with respect to the mapping, notably

   &lt;<A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=7806">http://www.w3.org/Bugs/Public/show_bug.cgi?id=7806</A>&gt;

and

   &lt;<A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=9546">http://www.w3.org/Bugs/Public/show_bug.cgi?id=9546</A>&gt;

and in the Working Group discussions around

   &lt;<A HREF="http://www.w3.org/html/wg/tracker/issues/86">http://www.w3.org/html/wg/tracker/issues/86</A>&gt;

Please consider them raised (and still open) as per the WHATWG issue 
tracking rules.

Best regards, Julian


On 02.06.2010 06:20, poot wrote:
&gt;<i> hixie: Remove the HTML-to-Atom mapping definition from the W3C version
</I>&gt;<i> of the spec. (whatwg r5100)
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://dev.w3.org/cvsweb/html5/spec/Overview.html?r1=1.4095&amp;r2=1.4096&amp;f=h">http://dev.w3.org/cvsweb/html5/spec/Overview.html?r1=1.4095&amp;r2=1.4096&amp;f=h</A>
</I>&gt;<i> <A HREF="http://html5.org/tools/web-apps-tracker?from=5099&amp;to=5100">http://html5.org/tools/web-apps-tracker?from=5099&amp;to=5100</A>
</I>&gt;<i>
</I>&gt;<i> ===================================================================
</I>&gt;<i> RCS file: /sources/public/html5/spec/Overview.html,v
</I>&gt;<i> retrieving revision 1.4095
</I>&gt;<i> retrieving revision 1.4096
</I>&gt;<i> diff -u -d -r1.4095 -r1.4096
</I>&gt;<i> --- Overview.html	1 Jun 2010 04:26:11 -0000	1.4095
</I>&gt;<i> +++ Overview.html	2 Jun 2010 04:19:31 -0000	1.4096
</I>&gt;<i> @@ -287,7 +287,7 @@
</I>&gt;<i>
</I>&gt;<i>      &lt;h1&gt;HTML5&lt;/h1&gt;
</I>&gt;<i>      &lt;h2 class=&quot;no-num no-toc&quot; id=&quot;a-vocabulary-and-associated-apis-for-html-and-xhtml&quot;&gt;A vocabulary and associated APIs for HTML and XHTML&lt;/h2&gt;
</I>&gt;<i> -&lt;h2 class=&quot;no-num no-toc&quot; id=&quot;editor-s-draft-1-june-2010&quot;&gt;Editor's Draft 1 June 2010&lt;/h2&gt;
</I>&gt;<i> +&lt;h2 class=&quot;no-num no-toc&quot; id=&quot;editor-s-draft-2-june-2010&quot;&gt;Editor's Draft 2 June 2010&lt;/h2&gt;
</I>&gt;<i>      &lt;dl&gt;&lt;dt&gt;Latest Published Version:&lt;/dt&gt;
</I>&gt;<i>       &lt;dd&gt;&lt;a href=&quot;<A HREF="http://www.w3.org/TR/html5/">http://www.w3.org/TR/html5/</A>&quot;&gt;<A HREF="http://www.w3.org/TR/html5/&lt;/a">http://www.w3.org/TR/html5/&lt;/a</A>&gt;&lt;/dd&gt;
</I>&gt;<i>       &lt;dt&gt;Latest Editor's Draft:&lt;/dt&gt;
</I>&gt;<i> @@ -390,7 +390,7 @@
</I>&gt;<i>     Group&lt;/a&gt;  is the W3C working group responsible for this
</I>&gt;<i>     specification's progress along the W3C Recommendation
</I>&gt;<i>     track.
</I>&gt;<i> -  This specification is the 1 June 2010 Editor's Draft.
</I>&gt;<i> +  This specification is the 2 June 2010 Editor's Draft.
</I>&gt;<i>     &lt;/p&gt;&lt;!-- UNDER NO CIRCUMSTANCES IS THE PRECEDING PARAGRAPH TO BE REMOVED OR EDITED WITHOUT TALKING TO IAN FIRST --&gt;&lt;!-- relationship to other work (required) --&gt;&lt;p&gt;The contents of this specification are also part of&lt;a href=&quot;<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/">http://www.whatwg.org/specs/web-apps/current-work/multipage/</A>&quot;&gt;a
</I>&gt;<i>     specification&lt;/a&gt;  published by the&lt;a href=&quot;<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A>&quot;&gt;WHATWG&lt;/a&gt;, which is available under a
</I>&gt;<i>     license that permits reuse of the specification text.&lt;/p&gt;&lt;!-- UNDER NO CIRCUMSTANCES IS THE FOLLOWING PARAGRAPH TO BE REMOVED OR EDITED WITHOUT TALKING TO IAN FIRST --&gt;&lt;!-- required patent boilerplate --&gt;&lt;p&gt;This document was produced by a group operating under the&lt;a href=&quot;<A HREF="http://www.w3.org/Consortium/Patent-Policy-20040205/">http://www.w3.org/Consortium/Patent-Policy-20040205/</A>&quot;&gt;5
</I>&gt;<i> @@ -867,9 +867,7 @@
</I>&gt;<i>       &lt;ol&gt;
</I>&gt;<i>        &lt;li&gt;&lt;a href=&quot;#selectors&quot;&gt;&lt;span class=&quot;secno&quot;&gt;4.14.1&lt;/span&gt;Case-sensitivity&lt;/a&gt;&lt;/li&gt;
</I>&gt;<i>        &lt;li&gt;&lt;a href=&quot;#pseudo-classes&quot;&gt;&lt;span class=&quot;secno&quot;&gt;4.14.2&lt;/span&gt;Pseudo-classes&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
</I>&gt;<i> -&lt;li&gt;&lt;a href=&quot;#converting-html-to-other-formats&quot;&gt;&lt;span class=&quot;secno&quot;&gt;4.15&lt;/span&gt;Converting HTML to other formats&lt;/a&gt;
</I>&gt;<i> -&lt;ol&gt;
</I>&gt;<i> -&lt;li&gt;&lt;a href=&quot;#atom&quot;&gt;&lt;span class=&quot;secno&quot;&gt;4.15.1&lt;/span&gt;Atom&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
</I>&gt;<i> +&lt;li&gt;&lt;a href=&quot;#converting-html-to-other-formats&quot;&gt;&lt;span class=&quot;secno&quot;&gt;4.15&lt;/span&gt;Converting HTML to other formats&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
</I>&gt;<i>    &lt;li&gt;&lt;a href=&quot;#browsers&quot;&gt;&lt;span class=&quot;secno&quot;&gt;5&lt;/span&gt;Loading Web pages&lt;/a&gt;
</I>&gt;<i>     &lt;ol&gt;
</I>&gt;<i>      &lt;li&gt;&lt;a href=&quot;#windows&quot;&gt;&lt;span class=&quot;secno&quot;&gt;5.1&lt;/span&gt;Browsing contexts&lt;/a&gt;
</I>&gt;<i> @@ -40034,457 +40032,6 @@
</I>&gt;<i>     &lt;h3 id=&quot;converting-html-to-other-formats&quot;&gt;&lt;span class=&quot;secno&quot;&gt;4.15&lt;/span&gt;Converting HTML to other formats&lt;/h3&gt;&lt;p class=&quot;XXX annotation&quot;&gt;&lt;b&gt;Status:&lt;/b&gt;&lt;i&gt;Last call for comments&lt;/i&gt;&lt;/p&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -&lt;h4 id=&quot;atom&quot;&gt;&lt;span class=&quot;secno&quot;&gt;4.15.1&lt;/span&gt;Atom&lt;/h4&gt;&lt;p class=&quot;XXX annotation&quot;&gt;&lt;b&gt;Status:&lt;/b&gt;&lt;i&gt;Last call for comments.&lt;/i&gt;&lt;span&gt;&lt;a href=&quot;<A HREF="http://www.w3.org/html/wg/tracker/issues/86">http://www.w3.org/html/wg/tracker/issues/86</A>&quot;&gt;ISSUE-86&lt;/a&gt;  (atom-id-stability) blocks progress to Last Call&lt;/span&gt;&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Given a&lt;code&gt;&lt;a href=&quot;#document&quot;&gt;Document&lt;/a&gt;&lt;/code&gt;  &lt;var title=&quot;&quot;&gt;source&lt;/var&gt;, a user
</I>&gt;<i> -  agent may run the following algorithm to&lt;dfn id=&quot;extracting-atom&quot; title=&quot;extracting
</I>&gt;<i> -  Atom&quot;&gt;extract an Atom feed&lt;/dfn&gt;. This is not the only algorithm
</I>&gt;<i> -  that can be used for this purpose; for instance, a user agent might
</I>&gt;<i> -  instead use the hAtom algorithm.&lt;a href=&quot;#refsHATOM&quot;&gt;[HATOM]&lt;/a&gt;&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;ol&gt;&lt;li&gt;&lt;p&gt;If the&lt;code&gt;&lt;a href=&quot;#document&quot;&gt;Document&lt;/a&gt;&lt;/code&gt;  &lt;var title=&quot;&quot;&gt;source&lt;/var&gt;  does
</I>&gt;<i> -   not contain any&lt;code&gt;&lt;a href=&quot;#the-article-element&quot;&gt;article&lt;/a&gt;&lt;/code&gt;  elements, then return nothing
</I>&gt;<i> -   and abort these steps. This algorithm can only be used with
</I>&gt;<i> -   documents that contain distinct articles.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;&lt;p&gt;Let&lt;var title=&quot;&quot;&gt;R&lt;/var&gt;  be an empty&lt;a href=&quot;#xml-documents&quot; title=&quot;XML
</I>&gt;<i> -   documents&quot;&gt;XML&lt;/a&gt;  &lt;code&gt;&lt;a href=&quot;#document&quot;&gt;Document&lt;/a&gt;&lt;/code&gt;  object whose&lt;a href=&quot;#the-document-s-address&quot; title=&quot;the document's address&quot;&gt;address&lt;/a&gt;  is user-agent
</I>&gt;<i> -   defined.&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;&lt;p&gt;Append a&lt;code title=&quot;&quot;&gt;feed&lt;/code&gt;  element in the
</I>&gt;<i> -&lt;a href=&quot;#atom-namespace&quot;&gt;Atom namespace&lt;/a&gt;  to&lt;var title=&quot;&quot;&gt;R&lt;/var&gt;.&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;For each&lt;code&gt;&lt;a href=&quot;#meta&quot;&gt;meta&lt;/a&gt;&lt;/code&gt;  element with a&lt;code title=&quot;attr-meta-name&quot;&gt;&lt;a href=&quot;#attr-meta-name&quot;&gt;name&lt;/a&gt;&lt;/code&gt;  attribute and a&lt;code title=&quot;attr-meta-content&quot;&gt;&lt;a href=&quot;#attr-meta-content&quot;&gt;content&lt;/a&gt;&lt;/code&gt;  attribute and whose&lt;code title=&quot;attr-meta-name&quot;&gt;&lt;a href=&quot;#attr-meta-name&quot;&gt;name&lt;/a&gt;&lt;/code&gt;  attribute's value is&lt;code title=&quot;meta-author&quot;&gt;&lt;a href=&quot;#meta-author&quot;&gt;author&lt;/a&gt;&lt;/code&gt;, run the following substeps:&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;ol&gt;&lt;li&gt;&lt;p&gt;Append an&lt;code title=&quot;&quot;&gt;author&lt;/code&gt;  element in the
</I>&gt;<i> -&lt;a href=&quot;#atom-namespace&quot;&gt;Atom namespace&lt;/a&gt;  to the root element of&lt;var title=&quot;&quot;&gt;R&lt;/var&gt;.&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;&lt;p&gt;Append a&lt;code title=&quot;&quot;&gt;name&lt;/code&gt;  element in the
</I>&gt;<i> -&lt;a href=&quot;#atom-namespace&quot;&gt;Atom namespace&lt;/a&gt;  to the element created in the
</I>&gt;<i> -     previous step.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;&lt;p&gt;Append a text node whose data is the value of the
</I>&gt;<i> -&lt;code&gt;&lt;a href=&quot;#meta&quot;&gt;meta&lt;/a&gt;&lt;/code&gt;  element's&lt;code title=&quot;attr-meta-content&quot;&gt;&lt;a href=&quot;#attr-meta-content&quot;&gt;content&lt;/a&gt;&lt;/code&gt;  attribute to the element
</I>&gt;<i> -     created in the previous step.&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/ol&gt;&lt;!-- could use vCards instead, and get&lt;atom:email&gt;  and&lt;atom:uri&gt;
</I>&gt;<i> -    elements out of this instead of just&lt;atom:name&gt;  --&gt;&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;If there is a&lt;code&gt;&lt;a href=&quot;#the-link-element&quot;&gt;link&lt;/a&gt;&lt;/code&gt;  element whose&lt;code title=&quot;attr-link-rel&quot;&gt;&lt;a href=&quot;#attr-link-rel&quot;&gt;rel&lt;/a&gt;&lt;/code&gt;  attribute's value includes the
</I>&gt;<i> -    keyword&lt;code title=&quot;rel-icon&quot;&gt;&lt;a href=&quot;#rel-icon&quot;&gt;icon&lt;/a&gt;&lt;/code&gt;, and that element also
</I>&gt;<i> -    has an&lt;code title=&quot;attr-link-href&quot;&gt;&lt;a href=&quot;#attr-link-href&quot;&gt;href&lt;/a&gt;&lt;/code&gt;  attribute whose
</I>&gt;<i> -    value successfully&lt;a href=&quot;#resolve-a-url&quot; title=&quot;resolve a url&quot;&gt;resolves&lt;/a&gt;
</I>&gt;<i> -    relative to the&lt;code&gt;&lt;a href=&quot;#the-link-element&quot;&gt;link&lt;/a&gt;&lt;/code&gt;  element, then append an&lt;code title=&quot;&quot;&gt;icon&lt;/code&gt;  element in the&lt;a href=&quot;#atom-namespace&quot;&gt;Atom namespace&lt;/a&gt;  to
</I>&gt;<i> -    the root element of&lt;var title=&quot;&quot;&gt;R&lt;/var&gt;  whose contents is a text
</I>&gt;<i> -    node with its data set to the&lt;a href=&quot;#absolute-url&quot;&gt;absolute URL&lt;/a&gt;  resulting
</I>&gt;<i> -    from&lt;a href=&quot;#resolve-a-url&quot; title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt;  the value of the
</I>&gt;<i> -&lt;code title=&quot;attr-link-href&quot;&gt;&lt;a href=&quot;#attr-link-href&quot;&gt;href&lt;/a&gt;&lt;/code&gt;  attribute.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;!-- could check ratio, could check type... --&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Append an&lt;code title=&quot;&quot;&gt;id&lt;/code&gt;  element in the&lt;a href=&quot;#atom-namespace&quot;&gt;Atom
</I>&gt;<i> -    namespace&lt;/a&gt;  to the root element of&lt;var title=&quot;&quot;&gt;R&lt;/var&gt;
</I>&gt;<i> -    whose contents is a text node with its data set to&lt;a href=&quot;#the-document-s-current-address&quot;&gt;the
</I>&gt;<i> -    document's current address&lt;/a&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Optionally: Let&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;  be a&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;  element in the&lt;a href=&quot;#atom-namespace&quot;&gt;Atom
</I>&gt;<i> -    namespace&lt;/a&gt;. Add a&lt;code title=&quot;&quot;&gt;rel&lt;/code&gt;  attribute whose
</I>&gt;<i> -    value is the string &quot;&lt;code title=&quot;&quot;&gt;self&lt;/code&gt;&quot; to&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;. Append a text node with its data set to the
</I>&gt;<i> -    (user-agent-defined)&lt;a href=&quot;#the-document-s-address&quot; title=&quot;the document's
</I>&gt;<i> -    address&quot;&gt;address&lt;/a&gt;  of&lt;var title=&quot;&quot;&gt;R&lt;/var&gt;  to&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;. Append&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;  to the root element
</I>&gt;<i> -    of&lt;var title=&quot;&quot;&gt;R&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p class=&quot;note&quot;&gt;This step would be skipped when the document&lt;var title=&quot;&quot;&gt;R&lt;/var&gt;  has no convenient&lt;a href=&quot;#the-document-s-address&quot; title=&quot;the document's
</I>&gt;<i> -    address&quot;&gt;address&lt;/a&gt;. The presence of the&lt;code title=&quot;&quot;&gt;rel=&quot;self&quot;&lt;/code&gt;  link is a &quot;should&quot;-level requirement in
</I>&gt;<i> -    the Atom specification.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Let&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;  be a&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;
</I>&gt;<i> -    element in the&lt;a href=&quot;#atom-namespace&quot;&gt;Atom namespace&lt;/a&gt;. Add a&lt;code title=&quot;&quot;&gt;rel&lt;/code&gt;  attribute whose value is the string &quot;&lt;code title=&quot;&quot;&gt;alternate&lt;/code&gt;&quot; to&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;. If the
</I>&gt;<i> -    document being converted is an&lt;a href=&quot;#html-documents&quot; title=&quot;HTML documents&quot;&gt;HTML
</I>&gt;<i> -    document&lt;/a&gt;, add a&lt;code title=&quot;&quot;&gt;type&lt;/code&gt;  attribute whose
</I>&gt;<i> -    value is the string &quot;&lt;code&gt;&lt;a href=&quot;#text-html&quot;&gt;text/html&lt;/a&gt;&lt;/code&gt;&quot; to&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;. Otherwise, the document being converted is an
</I>&gt;<i> -&lt;a href=&quot;#xml-documents&quot; title=&quot;XML documents&quot;&gt;XML document&lt;/a&gt;; add a&lt;code title=&quot;&quot;&gt;type&lt;/code&gt;  attribute whose value is the string
</I>&gt;<i> -    &quot;&lt;code&gt;&lt;a href=&quot;#application-xhtml-xml&quot;&gt;application/xhtml+xml&lt;/a&gt;&lt;/code&gt;&quot; to&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;. Append a text node with its data set to
</I>&gt;<i> -&lt;a href=&quot;#the-document-s-current-address&quot;&gt;the document's current address&lt;/a&gt;  to&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;. Append&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;  to the root element
</I>&gt;<i> -    of&lt;var title=&quot;&quot;&gt;R&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;&lt;p&gt;Let&lt;var title=&quot;&quot;&gt;subheading text&lt;/var&gt;  be the empty
</I>&gt;<i> -   string.&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;&lt;p&gt;Let&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;  be the first element of
</I>&gt;<i> -&lt;a href=&quot;#heading-content&quot;&gt;heading content&lt;/a&gt;  whose nearest ancestor of
</I>&gt;<i> -&lt;a href=&quot;#sectioning-content&quot;&gt;sectioning content&lt;/a&gt;  is&lt;a href=&quot;#the-body-element&quot;&gt;the body
</I>&gt;<i> -   element&lt;/a&gt;, if any, or null if there is none.&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Take the appropriate action from the following list, as
</I>&gt;<i> -    determined by the type of the&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;
</I>&gt;<i> -    element:&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dl&gt;&lt;dt&gt;If&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;  is null&lt;/dt&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dd&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Let&lt;var title=&quot;&quot;&gt;heading text&lt;/var&gt;  be the
</I>&gt;<i> -&lt;code&gt;&lt;a href=&quot;#textcontent&quot;&gt;textContent&lt;/a&gt;&lt;/code&gt;  of&lt;a href=&quot;#the-title-element&quot;&gt;the&lt;code&gt;title&lt;/code&gt;
</I>&gt;<i> -      element&lt;/a&gt;, if there is one, or the empty string
</I>&gt;<i> -      otherwise.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/dd&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dt&gt;If&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;  is a&lt;code&gt;&lt;a href=&quot;#the-hgroup-element&quot;&gt;hgroup&lt;/a&gt;&lt;/code&gt;  element&lt;/dt&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dd&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;If&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;  contains no child
</I>&gt;<i> -&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h1&lt;/a&gt;&lt;/code&gt;&ndash;&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h6&lt;/a&gt;&lt;/code&gt;  elements, let&lt;var title=&quot;&quot;&gt;heading text&lt;/var&gt;  be the empty string.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Otherwise, let&lt;var title=&quot;&quot;&gt;headings list&lt;/var&gt;  be a list of
</I>&gt;<i> -      all the&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h1&lt;/a&gt;&lt;/code&gt;&ndash;&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h6&lt;/a&gt;&lt;/code&gt;  element children
</I>&gt;<i> -      of&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;, sorted first by descending
</I>&gt;<i> -&lt;a href=&quot;#rank&quot;&gt;rank&lt;/a&gt;  and then in&lt;a href=&quot;#tree-order&quot;&gt;tree order&lt;/a&gt;  (so
</I>&gt;<i> -&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h1&lt;/a&gt;&lt;/code&gt;s first, then&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h2&lt;/a&gt;&lt;/code&gt;s, etc, with each
</I>&gt;<i> -      group in the order they appear in the document). Then, let&lt;var title=&quot;&quot;&gt;heading text&lt;/var&gt;  be the&lt;code&gt;&lt;a href=&quot;#textcontent&quot;&gt;textContent&lt;/a&gt;&lt;/code&gt;  of
</I>&gt;<i> -      the first entry in&lt;var title=&quot;&quot;&gt;headings list&lt;/var&gt;, and if
</I>&gt;<i> -      there are multiple entries, let&lt;var title=&quot;&quot;&gt;subheading
</I>&gt;<i> -      text&lt;/var&gt;  be the&lt;code&gt;&lt;a href=&quot;#textcontent&quot;&gt;textContent&lt;/a&gt;&lt;/code&gt;  of the second entry
</I>&gt;<i> -      in&lt;var title=&quot;&quot;&gt;headings list&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/dd&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dt&gt;If&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;  is an&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h1&lt;/a&gt;&lt;/code&gt;&ndash;&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h6&lt;/a&gt;&lt;/code&gt;  element&lt;/dt&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dd&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Let&lt;var title=&quot;&quot;&gt;heading text&lt;/var&gt;  be the
</I>&gt;<i> -&lt;code&gt;&lt;a href=&quot;#textcontent&quot;&gt;textContent&lt;/a&gt;&lt;/code&gt;  of&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/dd&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/dl&gt;&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Append a&lt;code title=&quot;&quot;&gt;title&lt;/code&gt;  element in the&lt;a href=&quot;#atom-namespace&quot;&gt;Atom
</I>&gt;<i> -    namespace&lt;/a&gt;  to the root element of&lt;var title=&quot;&quot;&gt;R&lt;/var&gt;
</I>&gt;<i> -    whose contents is a text node with its data set to&lt;var title=&quot;&quot;&gt;heading text&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;If&lt;var title=&quot;&quot;&gt;subheading text&lt;/var&gt;  is not the empty string,
</I>&gt;<i> -    append a&lt;code title=&quot;&quot;&gt;subtitle&lt;/code&gt;  element in the&lt;a href=&quot;#atom-namespace&quot;&gt;Atom
</I>&gt;<i> -    namespace&lt;/a&gt;  to the root element of&lt;var title=&quot;&quot;&gt;R&lt;/var&gt;
</I>&gt;<i> -    whose contents is a text node with its data set to&lt;var title=&quot;&quot;&gt;subheading text&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;&lt;p&gt;Let&lt;var title=&quot;&quot;&gt;global update date&lt;/var&gt;  have no
</I>&gt;<i> -   value.&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;For each&lt;code&gt;&lt;a href=&quot;#the-article-element&quot;&gt;article&lt;/a&gt;&lt;/code&gt;  element&lt;var title=&quot;&quot;&gt;article&lt;/var&gt;  that does not have an ancestor
</I>&gt;<i> -&lt;code&gt;&lt;a href=&quot;#the-article-element&quot;&gt;article&lt;/a&gt;&lt;/code&gt;  element, run the following steps:&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;ol&gt;&lt;li&gt;&lt;p&gt;Let&lt;var title=&quot;&quot;&gt;E&lt;/var&gt;  be an&lt;code title=&quot;&quot;&gt;entry&lt;/code&gt;  element in the&lt;a href=&quot;#atom-namespace&quot;&gt;Atom namespace&lt;/a&gt;,
</I>&gt;<i> -     and append&lt;var title=&quot;&quot;&gt;E&lt;/var&gt;  to the root element of&lt;var title=&quot;&quot;&gt;R&lt;/var&gt;.&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;&lt;p&gt;Let&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;  be the first element of
</I>&gt;<i> -&lt;a href=&quot;#heading-content&quot;&gt;heading content&lt;/a&gt;  whose nearest ancestor of
</I>&gt;<i> -&lt;a href=&quot;#sectioning-content&quot;&gt;sectioning content&lt;/a&gt;  is&lt;var title=&quot;&quot;&gt;article&lt;/var&gt;,
</I>&gt;<i> -     if any, or null if there is none.&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Take the appropriate action from the following list, as
</I>&gt;<i> -      determined by the type of the&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;
</I>&gt;<i> -      element:&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dl&gt;&lt;dt&gt;If&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;  is null&lt;/dt&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dd&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Let&lt;var title=&quot;&quot;&gt;heading text&lt;/var&gt;  be the empty
</I>&gt;<i> -        string.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/dd&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dt&gt;If&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;  is a&lt;code&gt;&lt;a href=&quot;#the-hgroup-element&quot;&gt;hgroup&lt;/a&gt;&lt;/code&gt;  element&lt;/dt&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dd&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;If&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;  contains no child
</I>&gt;<i> -&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h1&lt;/a&gt;&lt;/code&gt;&ndash;&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h6&lt;/a&gt;&lt;/code&gt;  elements, let&lt;var title=&quot;&quot;&gt;heading text&lt;/var&gt;  be the empty string.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Otherwise, let&lt;var title=&quot;&quot;&gt;headings list&lt;/var&gt;  be a list
</I>&gt;<i> -        of all the&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h1&lt;/a&gt;&lt;/code&gt;&ndash;&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h6&lt;/a&gt;&lt;/code&gt;  element
</I>&gt;<i> -        children of&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;, sorted first by
</I>&gt;<i> -        descending&lt;a href=&quot;#rank&quot;&gt;rank&lt;/a&gt;  and then in&lt;a href=&quot;#tree-order&quot;&gt;tree
</I>&gt;<i> -        order&lt;/a&gt;  (so&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h1&lt;/a&gt;&lt;/code&gt;s first, then
</I>&gt;<i> -&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h2&lt;/a&gt;&lt;/code&gt;s, etc, with each group in the order they
</I>&gt;<i> -        appear in the document). Then, let&lt;var title=&quot;&quot;&gt;heading
</I>&gt;<i> -        text&lt;/var&gt;  be the&lt;code&gt;&lt;a href=&quot;#textcontent&quot;&gt;textContent&lt;/a&gt;&lt;/code&gt;  of the first entry
</I>&gt;<i> -        in&lt;var title=&quot;&quot;&gt;headings list&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/dd&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dt&gt;If&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;  is an&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h1&lt;/a&gt;&lt;/code&gt;&ndash;&lt;code&gt;&lt;a href=&quot;#the-h1-h2-h3-h4-h5-and-h6-elements&quot;&gt;h6&lt;/a&gt;&lt;/code&gt;  element&lt;/dt&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dd&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Let&lt;var title=&quot;&quot;&gt;heading text&lt;/var&gt;  be the
</I>&gt;<i> -&lt;code&gt;&lt;a href=&quot;#textcontent&quot;&gt;textContent&lt;/a&gt;&lt;/code&gt;  of&lt;var title=&quot;&quot;&gt;heading&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/dd&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/dl&gt;&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Append a&lt;code title=&quot;&quot;&gt;title&lt;/code&gt;  element in the
</I>&gt;<i> -&lt;a href=&quot;#atom-namespace&quot;&gt;Atom namespace&lt;/a&gt;  to&lt;var title=&quot;&quot;&gt;E&lt;/var&gt;  whose
</I>&gt;<i> -      contents is a text node with its data set to&lt;var title=&quot;&quot;&gt;heading text&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;!--&lt;atom:author&gt;  is required either at the feed level (above)
</I>&gt;<i> -     or the entry level (here) but we don't provide it --&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Clone&lt;var title=&quot;&quot;&gt;article&lt;/var&gt;  and its descendants into an
</I>&gt;<i> -      environment that has&lt;a href=&quot;#concept-bc-noscript&quot; title=&quot;concept-bc-noscript&quot;&gt;scripting
</I>&gt;<i> -      disabled&lt;/a&gt;, has no&lt;a href=&quot;#plugin&quot; title=&quot;plugin&quot;&gt;plugins&lt;/a&gt;, and
</I>&gt;<i> -      fails any attempt to&lt;a href=&quot;#fetch&quot; title=&quot;fetch&quot;&gt;fetch&lt;/a&gt;  any
</I>&gt;<i> -      resources. Let&lt;var title=&quot;&quot;&gt;cloned article&lt;/var&gt;  be the
</I>&gt;<i> -      resulting clone&lt;code&gt;&lt;a href=&quot;#the-article-element&quot;&gt;article&lt;/a&gt;&lt;/code&gt;  element.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Remove from the subtree rooted at&lt;var title=&quot;&quot;&gt;cloned
</I>&gt;<i> -      article&lt;/var&gt;  any&lt;code&gt;&lt;a href=&quot;#the-article-element&quot;&gt;article&lt;/a&gt;&lt;/code&gt;  elements other than the
</I>&gt;<i> -&lt;var title=&quot;&quot;&gt;cloned article&lt;/var&gt;  itself, any
</I>&gt;<i> -&lt;code&gt;&lt;a href=&quot;#the-header-element&quot;&gt;header&lt;/a&gt;&lt;/code&gt;,&lt;code&gt;&lt;a href=&quot;#the-footer-element&quot;&gt;footer&lt;/a&gt;&lt;/code&gt;, or&lt;code&gt;&lt;a href=&quot;#the-nav-element&quot;&gt;nav&lt;/a&gt;&lt;/code&gt;
</I>&gt;<i> -      elements whose nearest ancestor of&lt;a href=&quot;#sectioning-content&quot;&gt;sectioning
</I>&gt;<i> -      content&lt;/a&gt;  is the&lt;var title=&quot;&quot;&gt;cloned article&lt;/var&gt;, and
</I>&gt;<i> -      the first element of&lt;a href=&quot;#heading-content&quot;&gt;heading content&lt;/a&gt;  whose nearest
</I>&gt;<i> -      ancestor of&lt;a href=&quot;#sectioning-content&quot;&gt;sectioning content&lt;/a&gt;  is the&lt;var title=&quot;&quot;&gt;cloned article&lt;/var&gt;, if any.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;If&lt;var title=&quot;&quot;&gt;cloned article&lt;/var&gt;  contains any
</I>&gt;<i> -&lt;code&gt;&lt;a href=&quot;#the-ins-element&quot;&gt;ins&lt;/a&gt;&lt;/code&gt;  or&lt;code&gt;&lt;a href=&quot;#the-del-element&quot;&gt;del&lt;/a&gt;&lt;/code&gt;  elements with&lt;code title=&quot;attr-mod-datetime&quot;&gt;&lt;a href=&quot;#attr-mod-datetime&quot;&gt;datetime&lt;/a&gt;&lt;/code&gt;  attributes whose
</I>&gt;<i> -      values&lt;a href=&quot;#parse-a-global-date-and-time-string&quot; title=&quot;parse a global date and time string&quot;&gt;parse
</I>&gt;<i> -      as global date and time strings&lt;/a&gt;  without errors, then let
</I>&gt;<i> -&lt;var title=&quot;&quot;&gt;update date&lt;/var&gt;  be the value of the&lt;code title=&quot;attr-mod-datetime&quot;&gt;&lt;a href=&quot;#attr-mod-datetime&quot;&gt;datetime&lt;/a&gt;&lt;/code&gt;  attribute that parses
</I>&gt;<i> -      to the newest&lt;a href=&quot;#concept-datetime&quot; title=&quot;concept-datetime&quot;&gt;global date and
</I>&gt;<i> -      time&lt;/a&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Otherwise, let&lt;var title=&quot;&quot;&gt;update date&lt;/var&gt;  have no
</I>&gt;<i> -      value.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p class=&quot;note&quot;&gt;This value is used below; it is calculated here
</I>&gt;<i> -      because in certain cases the next step mutates the&lt;var title=&quot;&quot;&gt;cloned article&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;If the document being converted is an&lt;a href=&quot;#html-documents&quot; title=&quot;HTML
</I>&gt;<i> -      documents&quot;&gt;HTML document&lt;/a&gt;, then: Let&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;
</I>&gt;<i> -      be a&lt;code title=&quot;&quot;&gt;content&lt;/code&gt;  element in the&lt;a href=&quot;#atom-namespace&quot;&gt;Atom
</I>&gt;<i> -      namespace&lt;/a&gt;. Add a&lt;code title=&quot;&quot;&gt;type&lt;/code&gt;  attribute
</I>&gt;<i> -      whose value is the string &quot;&lt;code title=&quot;&quot;&gt;html&lt;/code&gt;&quot; to&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;. Append a text node with its data set to the
</I>&gt;<i> -      result of running the&lt;a href=&quot;#html-fragment-serialization-algorithm&quot;&gt;HTML fragment serialization
</I>&gt;<i> -      algorithm&lt;/a&gt;  on&lt;var title=&quot;&quot;&gt;cloned article&lt;/var&gt;  to&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;. Append&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;  to&lt;var title=&quot;&quot;&gt;E&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Otherwise, the document being converted is an&lt;a href=&quot;#xml-documents&quot; title=&quot;XML documents&quot;&gt;XML document&lt;/a&gt;: Let&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;  be a&lt;code title=&quot;&quot;&gt;content&lt;/code&gt;  element in
</I>&gt;<i> -      the&lt;a href=&quot;#atom-namespace&quot;&gt;Atom namespace&lt;/a&gt;. Add a&lt;code title=&quot;&quot;&gt;type&lt;/code&gt;  attribute whose value is the string &quot;&lt;code title=&quot;&quot;&gt;xml&lt;/code&gt;&quot; to&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;. Append a
</I>&gt;<i> -&lt;code&gt;&lt;a href=&quot;#the-div-element&quot;&gt;div&lt;/a&gt;&lt;/code&gt;  element to&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;. Move all the
</I>&gt;<i> -      child nodes of the&lt;var title=&quot;&quot;&gt;cloned article&lt;/var&gt;  node to
</I>&gt;<i> -      that&lt;code&gt;&lt;a href=&quot;#the-div-element&quot;&gt;div&lt;/a&gt;&lt;/code&gt;  element, preserving their relative
</I>&gt;<i> -      order. Append&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;  to&lt;var title=&quot;&quot;&gt;E&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Establish the value of&lt;var title=&quot;&quot;&gt;id&lt;/var&gt;  and&lt;var title=&quot;&quot;&gt;has-alternate&lt;/var&gt;  from the first of the following to
</I>&gt;<i> -      apply:&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dl&gt;&lt;dt&gt;If the&lt;var title=&quot;&quot;&gt;article&lt;/var&gt;  node has a descendant
</I>&gt;<i> -&lt;code&gt;&lt;a href=&quot;#the-a-element&quot;&gt;a&lt;/a&gt;&lt;/code&gt;  or&lt;code&gt;&lt;a href=&quot;#the-area-element&quot;&gt;area&lt;/a&gt;&lt;/code&gt;  element with an&lt;code title=&quot;attr-hyperlink-href&quot;&gt;&lt;a href=&quot;#attr-hyperlink-href&quot;&gt;href&lt;/a&gt;&lt;/code&gt;  attribute that
</I>&gt;<i> -       successfully&lt;a href=&quot;#resolve-a-url&quot; title=&quot;resolve a url&quot;&gt;resolves&lt;/a&gt;
</I>&gt;<i> -       relative to that descendant and a&lt;code title=&quot;attr-hyperlink-rel&quot;&gt;&lt;a href=&quot;#attr-hyperlink-rel&quot;&gt;rel&lt;/a&gt;&lt;/code&gt;  attribute whose value
</I>&gt;<i> -       includes the&lt;code title=&quot;rel-bookmark&quot;&gt;&lt;a href=&quot;#link-type-bookmark&quot;&gt;bookmark&lt;/a&gt;&lt;/code&gt;
</I>&gt;<i> -       keyword&lt;/dt&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dd&gt;Let&lt;var title=&quot;&quot;&gt;id&lt;/var&gt;  be the&lt;a href=&quot;#absolute-url&quot;&gt;absolute URL&lt;/a&gt;
</I>&gt;<i> -       resulting from&lt;a href=&quot;#resolve-a-url&quot; title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt;  the
</I>&gt;<i> -       value of the&lt;code title=&quot;attr-hyperlink-href&quot;&gt;&lt;a href=&quot;#attr-hyperlink-href&quot;&gt;href&lt;/a&gt;&lt;/code&gt;
</I>&gt;<i> -       attribute of the first such&lt;code&gt;&lt;a href=&quot;#the-a-element&quot;&gt;a&lt;/a&gt;&lt;/code&gt;  or&lt;code&gt;&lt;a href=&quot;#the-area-element&quot;&gt;area&lt;/a&gt;&lt;/code&gt;
</I>&gt;<i> -       element, relative to the element. Let&lt;var title=&quot;&quot;&gt;has-alternate&lt;/var&gt;  be true.&lt;/dd&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dt&gt;If the&lt;var title=&quot;&quot;&gt;article&lt;/var&gt;  node has an&lt;code title=&quot;attr-id&quot;&gt;&lt;a href=&quot;#the-id-attribute&quot;&gt;id&lt;/a&gt;&lt;/code&gt;  attribute&lt;/dt&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dd&gt;Let&lt;var title=&quot;&quot;&gt;id&lt;/var&gt;  be&lt;a href=&quot;#the-document-s-current-address&quot;&gt;the document's current
</I>&gt;<i> -       address&lt;/a&gt;, with the fragment identifier (if any) removed,
</I>&gt;<i> -       and with a new fragment identifier specified, consisting of the
</I>&gt;<i> -       value of the&lt;var title=&quot;&quot;&gt;article&lt;/var&gt;  element's&lt;code title=&quot;attr-id&quot;&gt;&lt;a href=&quot;#the-id-attribute&quot;&gt;id&lt;/a&gt;&lt;/code&gt;  attribute. Let&lt;var title=&quot;&quot;&gt;has-alternate&lt;/var&gt;  be false.&lt;/dd&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dt&gt;Otherwise&lt;/dt&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;dd&gt;Let&lt;var title=&quot;&quot;&gt;id&lt;/var&gt;  be a user-agent-defined
</I>&gt;<i> -       undereferenceable yet globally unique&lt;a href=&quot;#valid-url&quot; title=&quot;valid
</I>&gt;<i> -       URL&quot;&gt;valid&lt;/a&gt;  &lt;a href=&quot;#absolute-url&quot;&gt;absolute URL&lt;/a&gt;. The same
</I>&gt;<i> -&lt;a href=&quot;#absolute-url&quot;&gt;absolute URL&lt;/a&gt;  should be generated for each run of
</I>&gt;<i> -       this algorithm when given the same input. Let&lt;var title=&quot;&quot;&gt;has-alternate&lt;/var&gt;  be false.&lt;/dd&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/dl&gt;&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Append an&lt;code title=&quot;&quot;&gt;id&lt;/code&gt;  element in the&lt;a href=&quot;#atom-namespace&quot;&gt;Atom
</I>&gt;<i> -      namespace&lt;/a&gt;  to&lt;var title=&quot;&quot;&gt;E&lt;/var&gt;  whose contents is a
</I>&gt;<i> -      text node with its data set to&lt;var title=&quot;&quot;&gt;id&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;If&lt;var title=&quot;&quot;&gt;has-alternate&lt;/var&gt;  is true: Let&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;  be a&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;  element in the
</I>&gt;<i> -&lt;a href=&quot;#atom-namespace&quot;&gt;Atom namespace&lt;/a&gt;. Add a&lt;code title=&quot;&quot;&gt;rel&lt;/code&gt;
</I>&gt;<i> -      attribute whose value is the string &quot;&lt;code title=&quot;&quot;&gt;alternate&lt;/code&gt;&quot; to&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;. Append a
</I>&gt;<i> -      text node with its data set to&lt;var title=&quot;&quot;&gt;id&lt;/var&gt;  to&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;. Append&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;  to&lt;var title=&quot;&quot;&gt;E&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;If&lt;var title=&quot;&quot;&gt;article&lt;/var&gt;  has a&lt;code&gt;&lt;a href=&quot;#the-time-element&quot;&gt;time&lt;/a&gt;&lt;/code&gt;
</I>&gt;<i> -      element descendant that has a&lt;code title=&quot;attr-time-pubdate&quot;&gt;&lt;a href=&quot;#attr-time-pubdate&quot;&gt;pubdate&lt;/a&gt;&lt;/code&gt;  attribute and whose
</I>&gt;<i> -      nearest ancestor&lt;code&gt;&lt;a href=&quot;#the-article-element&quot;&gt;article&lt;/a&gt;&lt;/code&gt;  element is&lt;var title=&quot;&quot;&gt;article&lt;/var&gt;, and the first such element's&lt;a href=&quot;#concept-time-date&quot; title=&quot;concept-time-date&quot;&gt;date&lt;/a&gt;  is not unknown, then run
</I>&gt;<i> -      the following substeps, with&lt;var title=&quot;&quot;&gt;e&lt;/var&gt;  being the
</I>&gt;<i> -      first such element:&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;ol&gt;&lt;li&gt;&lt;p&gt;Let&lt;var title=&quot;&quot;&gt;datetime&lt;/var&gt;  be a&lt;a href=&quot;#concept-datetime&quot; title=&quot;concept-datetime&quot;&gt;global date and time&lt;/a&gt;  whose date
</I>&gt;<i> -       component is the&lt;a href=&quot;#concept-time-date&quot; title=&quot;concept-time-date&quot;&gt;date&lt;/a&gt;  of
</I>&gt;<i> -&lt;var title=&quot;&quot;&gt;e&lt;/var&gt;.&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;&lt;p&gt;If&lt;var title=&quot;&quot;&gt;e&lt;/var&gt;'s&lt;a href=&quot;#concept-time-time&quot; title=&quot;concept-time-time&quot;&gt;time&lt;/a&gt;  and&lt;a href=&quot;#concept-time-timezone&quot; title=&quot;concept-time-timezone&quot;&gt;time-zone offset&lt;/a&gt;  are not
</I>&gt;<i> -       unknown, then let&lt;var title=&quot;&quot;&gt;datetime&lt;/var&gt;'s time and
</I>&gt;<i> -       time-zone offset components be the&lt;a href=&quot;#concept-time-time&quot; title=&quot;concept-time-time&quot;&gt;time&lt;/a&gt;  and&lt;a href=&quot;#concept-time-timezone&quot; title=&quot;concept-time-timezone&quot;&gt;time-zone offset&lt;/a&gt;  of&lt;var title=&quot;&quot;&gt;e&lt;/var&gt;. Otherwise, let them be midnight and no offset
</I>&gt;<i> -       respectively (&quot;&lt;code title=&quot;&quot;&gt;00:00Z&lt;/code&gt;&quot;).&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;&lt;p&gt;Let&lt;var title=&quot;&quot;&gt;publication date&lt;/var&gt;  be the
</I>&gt;<i> -&lt;a href=&quot;#best-representation-of-the-global-date-and-time-string&quot;&gt;best representation of the global date and time
</I>&gt;<i> -       string&lt;/a&gt;  &lt;var title=&quot;&quot;&gt;datetime&lt;/var&gt;.&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/ol&gt;&lt;p&gt;Otherwise, let&lt;var title=&quot;&quot;&gt;publication date&lt;/var&gt;  have no
</I>&gt;<i> -      value.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;If&lt;var title=&quot;&quot;&gt;update date&lt;/var&gt;  has no value but&lt;var title=&quot;&quot;&gt;publication date&lt;/var&gt;  does, then let&lt;var title=&quot;&quot;&gt;update date&lt;/var&gt;  have the value of&lt;var title=&quot;&quot;&gt;publication date&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Otherwise, if&lt;var title=&quot;&quot;&gt;publication date&lt;/var&gt;  has no
</I>&gt;<i> -      value but&lt;var title=&quot;&quot;&gt;update date&lt;/var&gt;  does, then let&lt;var title=&quot;&quot;&gt;publication date&lt;/var&gt;  have the value of&lt;var title=&quot;&quot;&gt;update date&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;If&lt;var title=&quot;&quot;&gt;update date&lt;/var&gt;  has a value, and&lt;var title=&quot;&quot;&gt;global update date&lt;/var&gt;  has no value or is less recent
</I>&gt;<i> -      than&lt;var title=&quot;&quot;&gt;update date&lt;/var&gt;, then let&lt;var title=&quot;&quot;&gt;global update date&lt;/var&gt;  have the value of&lt;var title=&quot;&quot;&gt;update date&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;If&lt;var title=&quot;&quot;&gt;publication date&lt;/var&gt;  and&lt;var title=&quot;&quot;&gt;update date&lt;/var&gt;  both still have no value, then let
</I>&gt;<i> -      them both value a value that is a&lt;a href=&quot;#valid-global-date-and-time-string&quot;&gt;valid global date and
</I>&gt;<i> -      time string&lt;/a&gt;  representing the&lt;a href=&quot;#concept-datetime&quot; title=&quot;concept-datetime&quot;&gt;global date and time&lt;/a&gt;  of the
</I>&gt;<i> -      moment that this algorithm was invoked.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Append an&lt;code title=&quot;&quot;&gt;published&lt;/code&gt;  element in the
</I>&gt;<i> -&lt;a href=&quot;#atom-namespace&quot;&gt;Atom namespace&lt;/a&gt;  to&lt;var title=&quot;&quot;&gt;E&lt;/var&gt;  whose
</I>&gt;<i> -      contents is a text node with its data set to&lt;var title=&quot;&quot;&gt;publication date&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Append an&lt;code title=&quot;&quot;&gt;updated&lt;/code&gt;  element in the
</I>&gt;<i> -&lt;a href=&quot;#atom-namespace&quot;&gt;Atom namespace&lt;/a&gt;  to&lt;var title=&quot;&quot;&gt;E&lt;/var&gt;  whose
</I>&gt;<i> -      contents is a text node with its data set to&lt;var title=&quot;&quot;&gt;update date&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/ol&gt;&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;If&lt;var title=&quot;&quot;&gt;global update date&lt;/var&gt;  has no value, then
</I>&gt;<i> -    let it have a value that is a&lt;a href=&quot;#valid-global-date-and-time-string&quot;&gt;valid global date and time
</I>&gt;<i> -    string&lt;/a&gt;  representing the&lt;a href=&quot;#concept-datetime&quot; title=&quot;concept-datetime&quot;&gt;global date and time&lt;/a&gt;  of the date
</I>&gt;<i> -    and time of the&lt;code&gt;&lt;a href=&quot;#document&quot;&gt;Document&lt;/a&gt;&lt;/code&gt;'s source file's last
</I>&gt;<i> -    modification, if it is known, or else of the moment that this
</I>&gt;<i> -    algorithm was invoked.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;Insert an&lt;code title=&quot;&quot;&gt;updated&lt;/code&gt;  element in the
</I>&gt;<i> -&lt;a href=&quot;#atom-namespace&quot;&gt;Atom namespace&lt;/a&gt;  into the root element of&lt;var title=&quot;&quot;&gt;R&lt;/var&gt;  before the first&lt;code title=&quot;&quot;&gt;entry&lt;/code&gt;  in
</I>&gt;<i> -    the&lt;a href=&quot;#atom-namespace&quot;&gt;Atom namespace&lt;/a&gt;  whose contents is a text node with
</I>&gt;<i> -    its data set to&lt;var title=&quot;&quot;&gt;global update date&lt;/var&gt;.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;li&gt;&lt;p&gt;Return the Atom document&lt;var title=&quot;&quot;&gt;R&lt;/var&gt;.&lt;/li&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;/ol&gt;&lt;p class=&quot;note&quot;&gt;The above algorithm does not guarantee that the
</I>&gt;<i> -  output will be a conforming Atom feed. In particular, if
</I>&gt;<i> -  insufficient information is provided in the document (e.g. if the
</I>&gt;<i> -  document does not have any&lt;code title=&quot;&quot;&gt;&lt;meta name=&quot;author&quot;
</I>&gt;<i> -  content=&quot;...&quot;&gt;&lt;/code&gt;  elements), then the output will not be
</I>&gt;<i> -  conforming.&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -&lt;p&gt;The&lt;dfn id=&quot;atom-namespace&quot;&gt;Atom namespace&lt;/dfn&gt;  is:&lt;code&gt;<A HREF="http://www.w3.org/2005/Atom&lt;/code">http://www.w3.org/2005/Atom&lt;/code</A>&gt;&lt;/p&gt;
</I>&gt;<i> -
</I>&gt;<i> -
</I>&gt;<i>
</I>&gt;<i>     &lt;/div&gt;&lt;h2 id=&quot;browsers&quot;&gt;&lt;span class=&quot;secno&quot;&gt;5&lt;/span&gt;Loading Web pages&lt;/h2&gt;&lt;p class=&quot;XXX annotation&quot;&gt;&lt;b&gt;Status:&lt;/b&gt;&lt;i&gt;Last call for comments&lt;/i&gt;&lt;div class=&quot;impl&quot;&gt;
</I>&gt;<i>
</I>&gt;<i> @@ -67614,10 +67161,6 @@
</I>&gt;<i>      &lt;dd&gt;(Non-normative)&lt;cite&gt;Inter Gravissimas&lt;/cite&gt;, A. Lilius,
</I>&gt;<i>      C. Clavius. Gregory XIII Papal Bulls, February 1582.&lt;/dd&gt;
</I>&gt;<i>
</I>&gt;<i> -&lt;dt id=&quot;refsHATOM&quot;&gt;[HATOM]&lt;/dt&gt;
</I>&gt;<i> -&lt;dd&gt;(Non-normative)&lt;cite&gt;&lt;a href=&quot;<A HREF="http://microformats.org/wiki/hatom">http://microformats.org/wiki/hatom</A>&quot;&gt;hAtom&lt;/a&gt;&lt;/cite&gt;, D
</I>&gt;<i> -   Janes. Microformats.&lt;/dd&gt;
</I>&gt;<i> -
</I>&gt;<i>      &lt;dt id=&quot;refsHTMLDIFF&quot;&gt;[HTMLDIFF]&lt;/dt&gt;
</I>&gt;<i>      &lt;!--
</I>&gt;<i>      &lt;dd&gt;(Non-normative)&lt;cite&gt;&lt;a
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068976.html">[whatwg] audio and video: volume and muted as content attributes?
</A></li>
	<LI>Next message: <A HREF="068916.html">[whatwg] ISSUE-86, Re: hixie: Remove the HTML-to-Atom mapping definition from the W3C version of the spec. (whatwg r5100)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68847">[ date ]</a>
              <a href="thread.html#68847">[ thread ]</a>
              <a href="subject.html#68847">[ subject ]</a>
              <a href="author.html#68847">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
