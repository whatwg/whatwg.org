<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] idea about html code security anti xss
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20idea%20about%20html%20code%20security%20anti%20xss&In-Reply-To=%3C1276688284.2219.52.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069036.html">
   <LINK REL="Next"  HREF="069038.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] idea about html code security anti xss</H1>
<!--htdig_noindex-->
    <B>Ashley Sheridan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20idea%20about%20html%20code%20security%20anti%20xss&In-Reply-To=%3C1276688284.2219.52.camel%40localhost%3E"
       TITLE="[whatwg] idea about html code security anti xss">ash at ashleysheridan.co.uk
       </A><BR>
    <I>Wed Jun 16 04:38:03 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="069036.html">[whatwg] idea about html code security anti xss
</A></li>
        <LI>Next message: <A HREF="069038.html">[whatwg] Proposal: allow rel=prefetch on a elements and link	elements throughout document
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69037">[ date ]</a>
              <a href="thread.html#69037">[ thread ]</a>
              <a href="subject.html#69037">[ subject ]</a>
              <a href="author.html#69037">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 2010-06-16 at 13:33 +0200, <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">gabmeyer at westweb.at</A> wrote:

&gt;<i> On 6/15/10 6:19 PM, <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">gabmeyer at westweb.at</A> wrote:
</I>&gt;<i>  Hello,
</I>&gt;<i> 
</I>&gt;<i>  I had just this idea after reading so much about xss and code injection.
</I>&gt;<i> 
</I>&gt;<i>  I think there is a simple solution:
</I>&gt;<i> 
</I>&gt;<i>  1.)
</I>&gt;<i>  I now invent an attribute called strlen=&quot;&quot;
</I>&gt;<i> 
</I>&gt;<i>  I append this to ahtmlcode with strlen of 94843 bytes including whitespace
</I>&gt;<i> 
</I>&gt;<i>  The browser know knows the exact position where the divtag must end.
</I>&gt;<i> 
</I>&gt;<i>  You cannot inject some code that closes the tag before.
</I>&gt;<i> 
</I>&gt;<i>  2.)
</I>&gt;<i>  you can now control the code inside the div.
</I>&gt;<i>  you can also append a second attribute called &quot;secure&quot; that prevents any scriptcode to run from inside the div.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>  Maybe this idea is not new, or does not work.
</I>&gt;<i> 
</I>&gt;<i>  Please let me know what you think about this idea.
</I>&gt;<i> 
</I>&gt;<i>  Christian Gabmeyer
</I>&gt;<i> 
</I>&gt;<i> On 2010-06-16 03:29:50 <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">arun at mozilla.com</A> wrote:    
</I>&gt;<i> 
</I>&gt;<i> I think one approach that we're interested in pursuing at Mozilla is the 
</I>&gt;<i> Content Security Policy approach:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://wiki.mozilla.org/Security/CSP/Specification">https://wiki.mozilla.org/Security/CSP/Specification</A>
</I>&gt;<i> 
</I>&gt;<i> In particular, restrictions on inline scripts, or at least on 'eval' 
</I>&gt;<i> might be useful here, along with other mitigation on loading cross-site 
</I>&gt;<i> content.
</I>&gt;<i> 
</I>&gt;<i> We'd like this in the Firefox 4 timeframe.
</I>&gt;<i> 
</I>&gt;<i> -- A*
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Hello Arun
</I>&gt;<i> CSP: This seams to affect only the whole document, because it uses a header to switch browser into secure mode. but from a htmlcoder  point this is not the place where i work. everybody should be able to write secure code not only the developer, i think.
</I>&gt;<i> 
</I>&gt;<i> my aproach to be able to define a strlen attribute gives the browser the ability to check for broken/closing tags, and in case of an injection inside the string it must ignore the foreign closing tag .
</I>&gt;<i> If i put all unsecure code into sections of &lt;div unsecure=&quot;strlen in bytes&quot;&gt;&lt;/div&gt; it is posible for the browser to render the page correctly and than apply CSP to it.
</I>&gt;<i> on the server side the developer must not know the content or even inspect it the only thing todo is run strlen() around it and create the tag surrounding the content.
</I>&gt;<i> 
</I>&gt;<i> -- C*
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>

You're still missing the fact that the way most attacks happen is
because the user-entered data is accepted by the server, and then output
by the server. From where is it expected to make a correct strlen()
calculation?! XSS attacks aren't just loads of code entered at the
client-side of things. It's an attack on a system to exploit the
browser, but at the end of the day, the onus is on the server to resolve
the issue, as the browser isn't going to always make the best judgement
call to fail something gracefully.

Thanks,
Ash
<A HREF="http://www.ashleysheridan.co.uk">http://www.ashleysheridan.co.uk</A>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100616/fef274c0/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100616/fef274c0/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069036.html">[whatwg] idea about html code security anti xss
</A></li>
	<LI>Next message: <A HREF="069038.html">[whatwg] Proposal: allow rel=prefetch on a elements and link	elements throughout document
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69037">[ date ]</a>
              <a href="thread.html#69037">[ thread ]</a>
              <a href="subject.html#69037">[ subject ]</a>
              <a href="author.html#69037">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
