<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] IDL attribute reflecting enumerated attributes not limited to only know values
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20IDL%20attribute%20reflecting%20enumerated%20attributes%20not%20limited%0A%20to%20only%20know%20values&In-Reply-To=%3C4C0E5309.6070506%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068926.html">
   <LINK REL="Next"  HREF="068983.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] IDL attribute reflecting enumerated attributes not limited to only know values</H1>
<!--htdig_noindex-->
    <B>Mounir Lamouri</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20IDL%20attribute%20reflecting%20enumerated%20attributes%20not%20limited%0A%20to%20only%20know%20values&In-Reply-To=%3C4C0E5309.6070506%40gmail.com%3E"
       TITLE="[whatwg] IDL attribute reflecting enumerated attributes not limited to only know values">mounir.lamouri at gmail.com
       </A><BR>
    <I>Tue Jun  8 07:26:17 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="068926.html">[whatwg] History API, pushState(), and related feedback
</A></li>
        <LI>Next message: <A HREF="068983.html">[whatwg] IDL attribute reflecting enumerated attributes not limited to only know values
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68938">[ date ]</a>
              <a href="thread.html#68938">[ thread ]</a>
              <a href="subject.html#68938">[ subject ]</a>
              <a href="author.html#68938">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

According to the HTML5 specification, an IDL attribute reflecting an
enumerated attribute will have the default reflecting behavior (ie.
return the content attribute on getting and setting it on setting)
except if the attribute is &quot;limited to only known values&quot; [1]. There are
three attributes limited to only known values in the current state of
the specs: @dir, @shape (area element) and @keytype (keygen element).

In other words, that means if @toto is an enumerated attribute with
&quot;foo&quot; and &quot;bar&quot; states/keywords and &quot;foo&quot; as a default missing value, if
@toto is set to &quot;foobar&quot;, .toto will return &quot;foobar&quot;. To have .toto
returning &quot;foo&quot;, the attribute has to be limited to only known value.
Having .toto returning &quot;foo&quot; in this situation seems to be what we
should expect because the content attribute is already accessible with
@toto.

An example where this behavior seems buggy:
- input.type and button.type: every browser makes it return &quot;text&quot; if
@type isn't set to a known value. If we follow the specifications, .type
should return the current value of @type.

Examples where having another behavior would help:
- method, formmethod, enctype and formenctype have a list of
keywords/states with a default missing value. It would be great to have
the IDL attribute returning the current state instead of the content.
So, scripts wouldn't have to look at the content, checking for values
they know and falling-back to the default value to know the current state.
- input.autocomplete: at the moment, it is returning the content but it
could return the resulting autocompletion state which is maybe a bit
more than just being limited to only known values but still in the same
spirit.

Maybe, instead of having some attributes &quot;limited to only known values&quot;
we could have some attributes &quot;not limited to only known values&quot;, thus
inverting the default reflecting behavior for enumerated attriutes ?

[1] <A HREF="http://dev.w3.org/html5/spec/Overview.html#limited-to-only-known-values">http://dev.w3.org/html5/spec/Overview.html#limited-to-only-known-values</A>

Thanks,
--
Mounir

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068926.html">[whatwg] History API, pushState(), and related feedback
</A></li>
	<LI>Next message: <A HREF="068983.html">[whatwg] IDL attribute reflecting enumerated attributes not limited to only know values
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68938">[ date ]</a>
              <a href="thread.html#68938">[ thread ]</a>
              <a href="subject.html#68938">[ subject ]</a>
              <a href="author.html#68938">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
