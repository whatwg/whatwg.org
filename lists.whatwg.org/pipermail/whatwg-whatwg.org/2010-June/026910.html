<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Extend DataTransfer::getData/setData to handle Blobs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Extend%20DataTransfer%3A%3AgetData/setData%20to%20handle%20Blobs&In-Reply-To=%3CAANLkTikKnfT_sbeofQjklGKxA4K4nNfg_3zJgZewsYN5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026909.html">
   <LINK REL="Next"  HREF="026913.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Extend DataTransfer::getData/setData to handle Blobs</H1>
<!--htdig_noindex-->
    <B>Daniel Cheng</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Extend%20DataTransfer%3A%3AgetData/setData%20to%20handle%20Blobs&In-Reply-To=%3CAANLkTikKnfT_sbeofQjklGKxA4K4nNfg_3zJgZewsYN5%40mail.gmail.com%3E"
       TITLE="[whatwg] Extend DataTransfer::getData/setData to handle Blobs">dcheng at google.com
       </A><BR>
    <I>Mon Jun 28 13:58:09 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="026909.html">[whatwg] Collection garbage on WebSockets
</A></li>
        <LI>Next message: <A HREF="026913.html">[whatwg] HTML 5 : The Youtube response
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26910">[ date ]</a>
              <a href="thread.html#26910">[ thread ]</a>
              <a href="subject.html#26910">[ subject ]</a>
              <a href="author.html#26910">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>It's pretty common for there to be non-text data in a drag-and-drop
operation or copy-and-paste operation. DataTransfer doesn't allow for that
currently, since it only sets and returns DOMStrings.

It'd be nice if we could extend setData/getData to allow for Blobs. Some
random thoughts:
1. Add a bool parameter to setData/getData. If false, treat the data as a
DOMString; if true, treat the data as a Blob.
2. Add an encoding parameter to setData/getData. Encoding can be a string
value naming a text encoding like UTF-8 or ISO-8859-1, or it can be the
string value &quot;binary&quot;. If encoding names a text encoding, the UA will
transcode the requested data into/from a DOMString. Otherwise, if the
encoding value is &quot;binary&quot;, the UA will treat data as a Blob.
3. Create new DataTransfer functions instead of overloading them, e.g.
setDataBlob, getDataBlob.

I'm not sure which one is the preferred approach. It seems like it'd be nice
to have native support for whatever text encodings the browser understands,
but it seems complicated and I'm not sure it's necessary. Thoughts?

Also, if I wanted to go ahead and implement a prototype in WebKit, should I
prefix it with a UA-specific string, e.g. webkitSetDataBlob?

Daniel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100628/5beb0654/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100628/5beb0654/attachment.htm</A>&gt;
</PRE>




<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026909.html">[whatwg] Collection garbage on WebSockets
</A></li>
	<LI>Next message: <A HREF="026913.html">[whatwg] HTML 5 : The Youtube response
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26910">[ date ]</a>
              <a href="thread.html#26910">[ thread ]</a>
              <a href="subject.html#26910">[ subject ]</a>
              <a href="author.html#26910">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
