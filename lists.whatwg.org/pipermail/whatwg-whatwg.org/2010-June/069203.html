<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTML 5 : The Youtube response
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%205%20%3A%20The%20Youtube%20response&In-Reply-To=%3CAANLkTilowTCfcrlwBXI7bLLxAFrnKjCNc1jsJBmA1O65%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069201.html">
   <LINK REL="Next"  HREF="069206.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTML 5 : The Youtube response</H1>
<!--htdig_noindex-->
    <B>Marques Johansson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%205%20%3A%20The%20Youtube%20response&In-Reply-To=%3CAANLkTilowTCfcrlwBXI7bLLxAFrnKjCNc1jsJBmA1O65%40mail.gmail.com%3E"
       TITLE="[whatwg] HTML 5 : The Youtube response">marques at displague.com
       </A><BR>
    <I>Wed Jun 30 15:05:12 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="069201.html">[whatwg] HTML 5 : The Youtube response
</A></li>
        <LI>Next message: <A HREF="069206.html">[whatwg] HTML 5 : The Youtube response
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69203">[ date ]</a>
              <a href="thread.html#69203">[ thread ]</a>
              <a href="subject.html#69203">[ subject ]</a>
              <a href="author.html#69203">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Jun 30, 2010 at 5:02 PM, Aryeh Gregor &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">Simetrical+w3c at gmail.com</A>&gt; wrote:
&gt;<i> Why doesn't the server just stop sending when the user hits the limit,
</I>&gt;<i> maybe adding some filler frames to tell the user why the video ended?
</I>&gt;<i> Pay-per-minute/pay-per-byte are very unimportant use-cases right now
</I>&gt;<i> anyway, though. &#160;The overwhelming majority of video that people watch
</I>&gt;<i> on the web is downloaded free, and that's what we need to focus on
</I>&gt;<i> now.
</I>
If the server stops sending (via HTTP) at some limit unknown to the UA
(via HTTP) there is no defined behavior that would allow the UA to
handle this without client side scripting and even that seems bleak.

How do you propose the server &quot;just stop sending&quot;?  I've tried a few
different methods and none of them really work.

Client: &quot;Range:0-&quot;, Server: &quot;Status:206&quot; &quot;Content-Range:
bytes=0-99/10000&quot; - HTTP spec doesn't define what to do here, only
Chrome will continue to fetch.

Client: &quot;Range:0-&quot;, Server: &quot;Status:206&quot; &quot;Content-Length: 10000&quot; (then
only send 100 bytes) and disconnect - This is telling the client
misinformation, but the UAs I tested don't come back to fetch where
the disconnect occurred. I also tried this without Ranges using 200
responses.

I considered that I could use javascript to tell the browser to keep
seeking to the next second just as the second approaches but aside
from introducing a very noticeable delay there is no way to telling
the UA to only fetch the next X bytes.  So when the server responds
with less data than the client range requested (Range: 100000-) UAs
will handle this in the ways described above.  Chrome will send
additional requests while other browsers will stop playing or not seek
to the new location at all based on previous short range responses
(since they think they already fetched the entire document).

Even when the video is free as in beer it isn't necessarily free in
the liberty sense.  Content distributors need to control what the UA
fetches and the rate at which they attempt to fetch it (keeping it
near realtime to control ad distribution and deter wholesale
theft/copying).

The suggestions I am making would also be useful for free videos as it
could be used to relieve server congestion.  We are dealing with
100mb+ video files that each carry a real world dollar value in server
time, bandwidth, and production value.  The distribution schemes have
to change from how 10k html and 60k images were handled.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069201.html">[whatwg] HTML 5 : The Youtube response
</A></li>
	<LI>Next message: <A HREF="069206.html">[whatwg] HTML 5 : The Youtube response
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69203">[ date ]</a>
              <a href="thread.html#69203">[ thread ]</a>
              <a href="subject.html#69203">[ subject ]</a>
              <a href="author.html#69203">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
