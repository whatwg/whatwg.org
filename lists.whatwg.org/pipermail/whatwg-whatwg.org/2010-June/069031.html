<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] idea about html code security anti xss
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20idea%20about%20html%20code%20security%20anti%20xss&In-Reply-To=%3C1276651667.2219.45.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069030.html">
   <LINK REL="Next"  HREF="069032.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] idea about html code security anti xss</H1>
<!--htdig_noindex-->
    <B>Ashley Sheridan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20idea%20about%20html%20code%20security%20anti%20xss&In-Reply-To=%3C1276651667.2219.45.camel%40localhost%3E"
       TITLE="[whatwg] idea about html code security anti xss">ash at ashleysheridan.co.uk
       </A><BR>
    <I>Tue Jun 15 18:27:47 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="069030.html">[whatwg] idea about html code security anti xss
</A></li>
        <LI>Next message: <A HREF="069032.html">[whatwg] idea about html code security anti xss
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69031">[ date ]</a>
              <a href="thread.html#69031">[ thread ]</a>
              <a href="subject.html#69031">[ subject ]</a>
              <a href="author.html#69031">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 2010-06-16 at 03:19 +0200, <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">gabmeyer at westweb.at</A> wrote:

&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I had just this idea after reading so much about xss and code injection.
</I>&gt;<i> 
</I>&gt;<i> I think there is a simple solution:
</I>&gt;<i> 
</I>&gt;<i> 1.)
</I>&gt;<i> I now invent an attribute called strlen=&quot;&quot;
</I>&gt;<i> 
</I>&gt;<i> I append this to a &lt;div strlen=&quot;94843&quot;&gt;htmlcode with strlen of 94843 bytes including whitespace&lt;/div&gt;
</I>&gt;<i> 
</I>&gt;<i> The browser know knows the exact position where the divtag must end.
</I>&gt;<i> 
</I>&gt;<i> You cannot inject some code that closes the tag before.
</I>&gt;<i> 
</I>&gt;<i> 2.) 
</I>&gt;<i> you can now control the code inside the div.
</I>&gt;<i> you can also append a second attribute called &quot;secure&quot; that prevents any scriptcode to run from inside the div.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Maybe this idea is not new, or does not work.
</I>&gt;<i> 
</I>&gt;<i> Please let me know what you think about this idea.
</I>&gt;<i> 
</I>&gt;<i> Christian Gabmeyer 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>

Your strlen attribute won't solve the issue, as the server-side script
that will be generating that figure has already ignored the XSS code (if
it wasn't missing it, there wouldn't be a problem in the first place!)

Second, I don't think an attribute is going to work to prevent script
running. What if you had your own script event handlers there? Also,
what about attacks which will leave your tags closed off and open new
ones?

Person inserts their name as '&lt;/a&gt;&lt;a href=&quot;badsite&quot;&gt;Bob&lt;/a&gt;' (without
the single quotes) which gets shoved into a database someplace and then
output later on a page inside a link tag to their profile page (for
example), so instead of &lt;a href=&quot;profile&quot;&gt;Bob&lt;/a&gt;, you get &lt;a
href=&quot;profile&quot;&gt;&lt;/a&gt;&lt;a href=&quot;badsite&quot;&gt;Bob&lt;/a&gt;.

Very simple example, where no script is being run, but still bad code.
This is an issue which needs more attention on the server-side of things
I feel.

Thanks,
Ash
<A HREF="http://www.ashleysheridan.co.uk">http://www.ashleysheridan.co.uk</A>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100616/9ac4f4f3/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100616/9ac4f4f3/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069030.html">[whatwg] idea about html code security anti xss
</A></li>
	<LI>Next message: <A HREF="069032.html">[whatwg] idea about html code security anti xss
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69031">[ date ]</a>
              <a href="thread.html#69031">[ thread ]</a>
              <a href="subject.html#69031">[ subject ]</a>
              <a href="author.html#69031">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
