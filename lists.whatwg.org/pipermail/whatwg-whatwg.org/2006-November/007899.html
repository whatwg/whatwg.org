<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Still beating the drawString() dead horse...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Still%20beating%20the%20drawString%28%29%20dead%20horse...&In-Reply-To=%3C4559C00C.90009%40kobjects.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007896.html">
   <LINK REL="Next"  HREF="007892.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Still beating the drawString() dead horse...</H1>
<!--htdig_noindex-->
    <B>Stefan Haustein</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Still%20beating%20the%20drawString%28%29%20dead%20horse...&In-Reply-To=%3C4559C00C.90009%40kobjects.org%3E"
       TITLE="[whatwg] Still beating the drawString() dead horse...">sh at kobjects.org
       </A><BR>
    <I>Tue Nov 14 05:09:32 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="007896.html">[whatwg] Still beating the drawString() dead horse...
</A></li>
        <LI>Next message: <A HREF="007892.html">[whatwg] The WHATWG Blog and FAQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7899">[ date ]</a>
              <a href="thread.html#7899">[ thread ]</a>
              <a href="subject.html#7899">[ subject ]</a>
              <a href="author.html#7899">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Mathieu HENRI wrote:
&gt;<i> Stefan Haustein wrote:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have tried to sum up the requirements for 
</I>&gt;&gt;<i> CanvasRenderingContext2D.drawString() at
</I>&gt;&gt;<i> <A HREF="http://rhino-canvas.sf.net/www/drawstring.html">http://rhino-canvas.sf.net/www/drawstring.html</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The page contains an API proposal based on the Font/TextStyle object 
</I>&gt;&gt;<i> approach that meets all those requirements, and also some motivation
</I>&gt;&gt;<i> why I have implemented this approach and not one of the alternatives
</I>&gt;&gt;<i> discussed here.
</I>&gt;<i>
</I>&gt;<i> I still think by introducing the drawString() method into Canvas we 
</I>&gt;<i> are opening the same can of worms that was open in SVG.
</I>&gt;<i> If we go that way we will need a drawParagraph() method to draw multi 
</I>&gt;<i> line strings or blocks of text with wrapping and a bounding width. We 
</I>&gt;<i> also need to be able to stylize the text, i.e. changing the 
</I>&gt;<i> font-weight / color / font-style ... of any word.
</I>Hi Mathieu,

I do no see how adding drawString() implies that drawParagraph() must be 
added, too. In fact, you can implement all that stuff yourself in 
Javascript in a way that suits your application data.

Comparing SVG and Canvas is like comparing apples and oranges. Instead 
of comparing Canvas to a declarative approach, why not compare it to the 
Java Canvas class? Java 1.1 did not have any drawParagraph() method, 
only drawString(), but you could still implement a whole text editor.

 &gt; The list goes on and on ... and HTML and CSS already cover it all.

HTML and CSS do not cover access to the font metrics. If HTML and CSS 
are suitable for your use case, why not stick with HTML and CSS in the 
first place? What is the use case for drawElement()?

For applications such as labels in dynamic maps, graphs, game scores and 
data visualization, drawElement() simply does not seem adequate.
&gt;<i> The HTMLElement.drawElement() method should be no problem to implement 
</I>&gt;<i> since userAgents already do render HTMLElements.
</I>Being able to tender HTML elements does not imply that it is simple to 
render HTML elements out of context or multiple times. Even if it may be 
simple in one particular browser implementation, that does not imply 
that it is simple in others.
&gt;<i> Having it return an ImageData object will make it insanely simple to 
</I>&gt;<i> manipulate in Canvas. 
</I>Memory usage and slowness will also become insane, and upscaling will 
become insanely ugly.
&gt;<i> The text elements/contents can easily be in the fall back content of 
</I>&gt;<i> the Canvas tag thus keeping it accessible. 
</I>If the text is usable on its own, it is probably better placed in 
regular HTML content.
&gt;<i> Getting the bounding box of an HTMLElement is no problem either in 
</I>&gt;<i> JavaScript. And applying gradients and patterns can be done using a 
</I>&gt;<i> fillRect() with the appropriate globalCompositeOperation.
</I>The bounding box does not help to align a the beaseline of a label with 
a given coordinate.
&gt;<i> Everything (almost) is there. Let's not re-invent a square wheele
</I>The problem here is &quot;almost&quot;.  All other graphics libraries seem to roll 
fine with this &quot;square wheel&quot;, so perhaps it is a bit rounder than you 
suggest? No, SVG is not  a graphics library....

Best regards,
Stefan






</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007896.html">[whatwg] Still beating the drawString() dead horse...
</A></li>
	<LI>Next message: <A HREF="007892.html">[whatwg] The WHATWG Blog and FAQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7899">[ date ]</a>
              <a href="thread.html#7899">[ thread ]</a>
              <a href="subject.html#7899">[ subject ]</a>
              <a href="author.html#7899">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
