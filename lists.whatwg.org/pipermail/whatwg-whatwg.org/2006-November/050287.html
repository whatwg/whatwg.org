<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] many messages regarding image captions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20many%20messages%20regarding%20image%20captions&In-Reply-To=%3CPine.LNX.4.62.0611272220570.8094%40dhalsim.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050282.html">
   <LINK REL="Next"  HREF="050288.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] many messages regarding image captions</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20many%20messages%20regarding%20image%20captions&In-Reply-To=%3CPine.LNX.4.62.0611272220570.8094%40dhalsim.dreamhost.com%3E"
       TITLE="[whatwg] many messages regarding image captions">ian at hixie.ch
       </A><BR>
    <I>Mon Nov 27 17:49:16 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="050282.html">[whatwg] The IMG element, proposing a CAPTION attribute
</A></li>
        <LI>Next message: <A HREF="050288.html">[whatwg] many messages regarding image captions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50287">[ date ]</a>
              <a href="thread.html#50287">[ thread ]</a>
              <a href="subject.html#50287">[ subject ]</a>
              <a href="author.html#50287">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
Based on a lot of the feedback, I wrote up a first draft of how to do 
image captions in HTML5:

   &lt;figure&gt;
     &lt;img ...&gt;
     &lt;legend&gt; ... &lt;/legend&gt;
   &lt;/figure&gt;

It's a block-level element, same level as &lt;p&gt;. The image and the legend 
can come in any order, but there must be exactly one of each. The image 
doesn't have to be &lt;img&gt;, it can be any of &lt;img&gt;, &lt;iframe&gt;, &lt;embed&gt;, 
&lt;object&gt;, and &lt;canvas&gt;. There are special rules for what to do with 
fallback that basically make the caption disappear (though of course this 
won't happen in legacy UAs).

There was a lot of feedback on this issue, I've tried to reply to all the 
points made below. Several of the e-mails basically made the same point or 
suggestion, so I sometimes only replied the first time that a proposal was 
made. Please let me know if I missed anything. If I did it was unintentional.


On Tue, 27 Jun 2006, dolphinling wrote:
&gt;<i>
</I>&gt;<i> What's wrong with
</I>&gt;<i> 
</I>&gt;<i> &lt;div&gt;
</I>&gt;<i>   &lt;img src=&quot;&quot;&gt;
</I>&gt;<i>   &lt;p&gt;This is the caption.&lt;/p&gt;
</I>&gt;<i> &lt;/div&gt;
</I>&gt;<i> 
</I>&gt;<i> ? That's how I think of it semantically, and I don't see it as being 
</I>&gt;<i> common enough to warrant a separate element of its own.
</I>
I think based on the number of people asking for it, there's enough 
demand!

The problem with the above is that it is exactly the same as:

   &lt;img&gt;
   &lt;p&gt;This is the caption.&lt;/p&gt;

...which is (a) non-conforming, and (b) doesn't strongly associate the two 
elements.


On Tue, 27 Jun 2006, dolphinling wrote:
&gt;<i> &gt; 
</I>&gt;<i> &gt; There's nothing &quot;wrong&quot; with that. Yet, that's not exactly an image 
</I>&gt;<i> &gt; caption. There's no explicit association between the &lt;img&gt; and the 
</I>&gt;<i> &gt; following &lt;p&gt;.
</I>&gt;<i> 
</I>&gt;<i> But there's the implicit association given by the fact that they're 
</I>&gt;<i> there, together, in the &lt;div&gt;, and nothing else is. Do you really need 
</I>&gt;<i> anything more than that?
</I>
The difference is that with an actual caption, you can distinguish it from 
just a paragraph in the same section, allowing you to draw out more data. 
For example, you could imagine Windows Live Image Search using image 
captions to get a better idea of what the images they index contain.


On Tue, 27 Jun 2006, David Walbert wrote:
&gt;<i> 
</I>&gt;<i> For scripting purposes I have occasionally needed to tie an image and 
</I>&gt;<i> its caption explicitly by giving them related IDs that a particular 
</I>&gt;<i> javascript function can call (e.g. img id=&quot;img1&quot; and p 
</I>&gt;<i> id=&quot;img-caption&quot;), and it would be helpful in these situations to have a 
</I>&gt;<i> standard syntax for that explicit relation.
</I>
Agreed.


&gt;<i> But the availability of such syntax should not imply that everyone needs 
</I>&gt;<i> to use it for all markup, all the time; I can't see it being useful in 
</I>&gt;<i> ordinary web design (to the reader/user, which should ultimately be the 
</I>&gt;<i> point) unless there are actions associated with the image and caption.
</I>
Certainly, as with all markup, nobody is going to be forcing authors to 
mark up every last semantic.


On Tue, 27 Jun 2006, Anne van Kesteren wrote:
&gt;<i> 
</I>&gt;<i> If the relationship between the image and caption is well defined. For 
</I>&gt;<i> example, when the next sibling _element_ of &lt;img&gt; is &lt;p&gt;, &lt;p&gt; is the 
</I>&gt;<i> caption of &lt;img&gt; you can easily introduce some DOM attribute on 
</I>&gt;<i> HTMLImageElement named caption that gives you back the 
</I>&gt;<i> HTMLParagraphElement associated with it.
</I>
We could do that at some future point, yes.


On Tue, 27 Jun 2006, Mihai Sucan wrote:
&gt;<i> 
</I>&gt;<i> You could also use:
</I>&gt;<i> 
</I>&gt;<i> &lt;div class=&quot;image-caption&quot;&gt;
</I>&gt;<i> &lt;img /&gt;
</I>&gt;<i> &lt;p&gt;caption&lt;/p&gt;
</I>&gt;<i> &lt;/div&gt;
</I>&gt;<i> 
</I>&gt;<i> However, this looks like a microformat. Nonetheless, it's better than leaving
</I>&gt;<i> out the class attribute.
</I>
That's basically the structure that's now in the spec, though with element 
names instead of class names.


On Tue, 27 Jun 2006, Michel Fortin wrote:
&gt;<i> 
</I>&gt;<i> I think something like:
</I>&gt;<i> 
</I>&gt;<i>     &lt;aside&gt;
</I>&gt;<i>        &lt;img src=&quot;...&quot;&gt;
</I>&gt;<i>        &lt;p&gt;This is the caption.&lt;/p&gt;
</I>&gt;<i>     &lt;/aside&gt;
</I>&gt;<i> 
</I>&gt;<i> would already be more appropriate than what you suggested as it removes 
</I>&gt;<i> the paragraph from the main flow of the document and thus implicitly 
</I>&gt;<i> link it with the image.
</I>&gt;<i>
</I>&gt;<i> But I think illustrative figures sould be disambiguated a little more, 
</I>&gt;<i> as they are not always appropriate as asides[1] in the sense of 
</I>&gt;<i> &quot;tangentially related to the content around&quot;, they are usually tied to 
</I>&gt;<i> the content, they're not really &quot;separate from that content&quot;.
</I>
Agreed.


&gt;<i> This construct is common enough if you follow news sites. Here is my 
</I>&gt;<i> morning harvest of a couple of use cases in the news:
</I>&gt;<i> 
</I>&gt;<i> &lt;<A HREF="http://www.cnn.com/2006/WORLD/meast/06/27/iran.us.reut/index.html">http://www.cnn.com/2006/WORLD/meast/06/27/iran.us.reut/index.html</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://news.bbc.co.uk/2/hi/middle_east/5119732.stm">http://news.bbc.co.uk/2/hi/middle_east/5119732.stm</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://politics.guardian.co.uk/homeaffairs/story/0,,1806799,00.html">http://politics.guardian.co.uk/homeaffairs/story/0,,1806799,00.html</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://radio-canada.ca/nouvelles/regional/modele.asp?page=/regions/">http://radio-canada.ca/nouvelles/regional/modele.asp?page=/regions/</A>
</I>&gt;<i> Montreal/2006/06/26/006-crise-logement-iris.shtml&gt;
</I>&gt;<i> &lt;<A HREF="http://www.cbc.ca/story/world/national/2006/06/27/saddam-new-trail.html">http://www.cbc.ca/story/world/national/2006/06/27/saddam-new-trail.html</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://www.salon.com/ent/feature/2006/06/27/911_conspiracies/index_np.html">http://www.salon.com/ent/feature/2006/06/27/911_conspiracies/index_np.html</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://www.macworld.com/2006/06/firstlooks/flciviv/index.php">http://www.macworld.com/2006/06/firstlooks/flciviv/index.php</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Such image captions are also widely used in many publications in the 
</I>&gt;<i> scientific and technical fields to denote figures (hence the &lt;figure&gt; 
</I>&gt;<i> element I proposed on May 3):
</I>&gt;<i> 
</I>&gt;<i> &lt;<A HREF="http://www.stanford.edu/group/hopes/basics/basichd/a1.html">http://www.stanford.edu/group/hopes/basics/basichd/a1.html</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://www.ess.gov.si/eng/AnnaulReport/lp98/2_4.htm">http://www.ess.gov.si/eng/AnnaulReport/lp98/2_4.htm</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://www.centrelink.gov.au/internet/internet.nsf/ar0001/chp4.2.htm#figure9">http://www.centrelink.gov.au/internet/internet.nsf/ar0001/chp4.2.htm#figure9</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://www.ai-junkie.com/ann/som/som1.html">http://www.ai-junkie.com/ann/som/som1.html</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://japanfocus.org/article.asp?id=413">http://japanfocus.org/article.asp?id=413</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://medicine.plosjournals.org/perlserv?request=get-">http://medicine.plosjournals.org/perlserv?request=get-</A>
</I>&gt;<i> document&amp;doi=10.1371/journal.pmed.0020228&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> There is a lot of figures in computer technology articles too:
</I>&gt;<i> 
</I>&gt;<i> &lt;<A HREF="http://www.onlamp.com/pub/a/onlamp/2005/01/20/rails.html">http://www.onlamp.com/pub/a/onlamp/2005/01/20/rails.html</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://www.symbian.com/developer/techlib/v9.1docs/doc_source/N10356/">http://www.symbian.com/developer/techlib/v9.1docs/doc_source/N10356/</A>
</I>&gt;<i> BuildTools/native/abiv1v2migration.html&gt;
</I>&gt;<i> &lt;<A HREF="http://evonet.lri.fr/CIRCUS2/node.php?node=148">http://evonet.lri.fr/CIRCUS2/node.php?node=148</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://developer.apple.com/documentation/GraphicsImaging/Conceptual/">http://developer.apple.com/documentation/GraphicsImaging/Conceptual/</A>
</I>&gt;<i> drawingwithquartz2d/dq_paths/chapter_4_section_2.html&gt;
</I>&gt;<i> &lt;<A HREF="http://www.autodesk.fr/adsk/servlet/index?siteID=458335&amp;id=6013861">http://www.autodesk.fr/adsk/servlet/index?siteID=458335&amp;id=6013861</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://www-sop.inria.fr/semir/personnel/Laurent.Mirtain/ldap-livre.html">http://www-sop.inria.fr/semir/personnel/Laurent.Mirtain/ldap-livre.html</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://www.shirky.com/writings/powerlaw_weblog.html">http://www.shirky.com/writings/powerlaw_weblog.html</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> This one is about strings figures:
</I>&gt;<i> 
</I>&gt;<i> &lt;<A HREF="http://www.darsie.net/string/">http://www.darsie.net/string/</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> And image captions are an integral part of Wikipedia as you can see on many
</I>&gt;<i> pages:
</I>&gt;<i> 
</I>&gt;<i> &lt;<A HREF="http://en.wikipedia.org/wiki/Amerindians">http://en.wikipedia.org/wiki/Amerindians</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://en.wikipedia.org/wiki/Oroonoko">http://en.wikipedia.org/wiki/Oroonoko</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://en.wikipedia.org/wiki/Earthquake">http://en.wikipedia.org/wiki/Earthquake</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://en.wikipedia.org/wiki/Lithosphere">http://en.wikipedia.org/wiki/Lithosphere</A>&gt;
</I>&gt;<i> ...
</I>
Wow! Thank you for this research!


This one in particular:

&gt;<i> <A HREF="http://politics.guardian.co.uk/homeaffairs/story/0,,1806799,00.html">http://politics.guardian.co.uk/homeaffairs/story/0,,1806799,00.html</A>
</I>
...suggests we may want to have multiple &lt;legend&gt; elements per &lt;figure&gt;, 
to allow for a caption and photo credit to be given. What do people think? 
Would some other way of inline giving photo credit metadata be better?



On Tue, 27 Jun 2006, Mihai Sucan wrote:
&gt;<i> 
</I>&gt;<i> Quick idea:
</I>&gt;<i> 
</I>&gt;<i> &lt;img src=&quot;&quot; caption=&quot;fig1&quot;&gt;
</I>&gt;<i> &lt;p id=&quot;fig1&quot;&gt;This is the caption.&lt;/p&gt;
</I>&gt;<i> 
</I>&gt;<i> How about this? It's backwards compatible. Maybe this has already been
</I>&gt;<i> suggested (apologies if this is the case).
</I>&gt;<i> 
</I>&gt;<i> [...]
</I>&gt;<i> 
</I>&gt;<i> That's why I came with the suggestion of &lt;img 
</I>&gt;<i> caption=&quot;caption-element-id&quot; /&gt;. It does not require the isolation of 
</I>&gt;<i> the image and caption in another tag. Thus, the markup is less verbose, 
</I>&gt;<i> without losing the benefit of image and caption elements association. 
</I>&gt;<i> Another benefit would be that the &lt;img&gt; and &lt;p&gt; can both be optionally 
</I>&gt;<i> isolated with &lt;aside&gt;, &lt;div&gt; or anything else (if the author considers 
</I>&gt;<i> this required, for styling or other purposes).
</I>
Unfortunately, experience with that kind of structure (e.g. &lt;label 
for=&quot;&quot;&gt;, &lt;object declare&gt;, &lt;td headers=&quot;&quot;&gt;, &lt;img usemap=&quot;&quot;&gt;) indicates 
that it is fraught with problems, for authors, implementors, conformance 
checkers, and spec writers. I'd rather avoid this kind of model if 
possible.


On Wed, 28 Jun 2006, Hugh Winkler wrote:
&gt;<i> 
</I>&gt;<i> How about an anchor with rel=&quot;caption&quot;:
</I>&gt;<i> 
</I>&gt;<i> &lt;a rel=&quot;caption&quot; href=&quot;#caption1&quot;&gt;&lt;img src=&quot;x.jpg&quot;/&gt;&lt;/a&gt;
</I>&gt;<i> &lt;span id=&quot;caption1&quot;&gt;man bites dog&lt;/span&gt;
</I>&gt;<i> 
</I>&gt;<i> or
</I>&gt;<i> 
</I>&gt;<i> &lt;img id=&quot;img1&quot; src=&quot;x.jpg&quot;/&gt;
</I>&gt;<i> &lt;span id=&quot;caption1&quot;&gt;&lt;a rel=&quot;caption&quot; rev=&quot;#img1&quot;&gt;man bites
</I>&gt;<i> dog&lt;/caption&gt;&lt;/span&gt;
</I>
This seems a bit counter-intuitive, at least compared to &lt;figure&gt;.


On Wed, 28 Jun 2006, Clayton Scott wrote:
&gt;<i> 
</I>&gt;<i> No expanding of the &lt;caption&gt; element with a |for| attribute or nested
</I>&gt;<i> inside any block element?
</I>&gt;<i> 
</I>&gt;<i> &lt;img id='photograph' src='...'&gt;
</I>&gt;<i> &lt;caption for='photograph'&gt;Photo of Foo herders courtesy of Jimmy&lt;/caption&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;caption for='myFavList'&gt;My List of Favourite Things&lt;/caption&gt;
</I>&gt;<i> &lt;ol id='myFavList'&gt;
</I>&gt;<i>  &lt;li&gt;&lt;/li&gt;
</I>&gt;<i> &lt;/ol&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;ol id='myFavList'&gt;
</I>&gt;<i>  &lt;caption&gt;My List of Favourite Things&lt;/caption&gt;
</I>&gt;<i>  &lt;li&gt;&lt;/li&gt;
</I>&gt;<i> &lt;/ol&gt;
</I>
Unfortunately, &lt;caption&gt; has weird parsing requirements which basically 
mean we can't use it outside tables. But &lt;legend&gt; works (and means the 
same thing, basically), so we can use that.

Regarding the for=&quot;&quot;/id idea, see above.

I'll look into the labelling of lists at a separate juncture (it's been 
suggested before, though the use cases for it are a little vague to me -- 
if you have input on this, please start a new thread).


On Wed, 28 Jun 2006, Ben Meadowcroft wrote:
&gt;<i> 
</I>&gt;<i> Perhaps a better method would be using the longdesc attribute to 
</I>&gt;<i> associate a caption with an image. Specifically we could point the image 
</I>&gt;<i> to fragment within the current page and give an explicit association in 
</I>&gt;<i> this manner.
</I>&gt;<i> 
</I>&gt;<i> &lt;img src=&quot;man.gif&quot; alt=&quot;A Man&quot; longdesc=&quot;#manCaption&quot; /&gt;
</I>&gt;<i> &lt;p id=&quot;manCaption&quot;&gt;A more full description of the image&lt;/p&gt;
</I>&gt;<i> 
</I>&gt;<i> Does anyone know how screenreaders and other assistive technologies 
</I>&gt;<i> handle longdesc URIs pointing to fragments within the same page?
</I>
longdesc was intended for a description, not a caption, so I wouldn't 
like to reuse it in this way.


On Wed, 28 Jun 2006, Michel Fortin wrote:
&gt;<i> 
</I>&gt;<i> Interesting idea, but longdesc cannot be used with &lt;object&gt;, &lt;embed&gt; or 
</I>&gt;<i> embedded XML (SVG for instance). Moreover, a caption isn't always a 
</I>&gt;<i> description.
</I>
Indeed.


&gt;<i> Also, if the caption isn't identified as a caption by some mean (say 
</I>&gt;<i> with a &quot;caption&quot; class), styling is not easy and the &quot;caption paragraph&quot; 
</I>&gt;<i> can be confounded with another paragraph else. The common practice of 
</I>&gt;<i> having the illustration and its caption together, either floating on the 
</I>&gt;<i> side, indented, or spaning into the margin cannot be easily realised 
</I>&gt;<i> without additional, non-standard markup. People would then come again 
</I>&gt;<i> with different markups to solve the same problem of displaying a 
</I>&gt;<i> captioned image on screen, and we wouldn't have achieved much.
</I>
I agree.


On Thu, 29 Jun 2006, Lachlan Hunt wrote:
&gt;<i> 
</I>&gt;<i> I think accessibility experts would have serious issues with this.  A 
</I>&gt;<i> caption doesn't even come close to being a good long description.  See 
</I>&gt;<i> what Joe Clark has to say about writing good long descriptions.
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://joeclark.org/book/sashay/serialization/Chapter06.html#h1-1715">http://joeclark.org/book/sashay/serialization/Chapter06.html#h1-1715</A>
</I>
Indeed.


On Wed, 28 Jun 2006, David Walbert wrote:
&gt;<i> 
</I>&gt;<i> Agreed, and conversely, a literal description of the image makes a poor 
</I>&gt;<i> caption -- it would be redundant to anyone who can see the image. A good 
</I>&gt;<i> caption enhances the content of the image, usually by telling the 
</I>&gt;<i> reader/viewer/listener why the image was included in the page.
</I>
Indeed.


On Wed, 5 Apr 2006, Lachlan Hunt wrote:
&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I'm wondering what WA1 considers appropriate markup for a figure 
</I>&gt;<i> &gt; &gt; with a caption.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    &lt;p&gt;&lt;img src=&quot;image-equivalent-of-text&quot; alt=&quot;text&quot; title=&quot;caption&quot;&gt;&lt;/p&gt;
</I>&gt;<i>
</I>&gt;<i> That's fairly limited because it doesn't allow markup within the title 
</I>&gt;<i> attribute.
</I>
Agreed.


&gt;<i> What about extending the &lt;caption&gt; element, currently used with &lt;table&gt;, 
</I>&gt;<i> to &lt;img&gt;, &lt;object&gt; and &lt;embed&gt;?
</I>
Sadly, this would break table parsing. But &lt;legend&gt; is safe to use, so we 
can use that (and &quot;legend&quot; means &quot;caption&quot; anyway).


On Wed, 5 Apr 2006, Michel Fortin wrote:
&gt;<i> 
</I>&gt;<i> When you read some text, a figure is an illustration of what the text 
</I>&gt;<i> says; it can be an image but is not necessarily: it could be a code 
</I>&gt;<i> snippet, illustrative text or an mathematical equation. Its main 
</I>&gt;<i> characteristic is that it is separated from the flow of the text: you 
</I>&gt;<i> can read the text ignoring figures (and captions) and it should still 
</I>&gt;<i> make sense.
</I>&gt;<i> 
</I>&gt;<i> So what did I just describe? It just seems to me that I've described is 
</I>&gt;<i> the aside element. Would it make sense to simply lay out figures that 
</I>&gt;<i> way?
</I>&gt;<i> 
</I>&gt;<i>     &lt;aside&gt;
</I>&gt;<i>       &lt;h1&gt;Figure 1: Some image found &lt;a href=&quot;...&quot;&gt;here&lt;/a&gt;&lt;/h1&gt;
</I>&gt;<i>       &lt;p&gt;&lt;img src=&quot;...&quot;&gt;&lt;/p&gt;
</I>&gt;<i>     &lt;/aside&gt;
</I>&gt;<i> 
</I>&gt;<i> What about placing the image above the header? And is my interpretation 
</I>&gt;<i> of the semantics correct? I'm wondering that I may be abusing aside a 
</I>&gt;<i> little.
</I>
I think there are definitely examples of figures that aren't asides. I 
prefer your original proposal.


On Thu, 6 Apr 2006, Alexey Feldgendler wrote:
&gt;<i> &gt;
</I>&gt;<i> &gt;      &lt;aside&gt;
</I>&gt;<i> &gt;        &lt;h1&gt;Figure 1: Some image found &lt;a href=&quot;...&quot;&gt;here&lt;/a&gt;&lt;/h1&gt;
</I>&gt;<i> &gt;        &lt;p&gt;&lt;img src=&quot;...&quot;&gt;&lt;/p&gt;
</I>&gt;<i> &gt;      &lt;/aside&gt;
</I>&gt;<i> 
</I>&gt;<i> I'm afraid this won't degrade gracefully: the &lt;h1&gt; would confuse the 
</I>&gt;<i> document outline facilities in today's user agents.
</I>
Indeed.


On Thu, 6 Apr 2006, fantasai wrote:
&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;      &lt;aside&gt;
</I>&gt;<i> &gt; &gt;        &lt;h1&gt;Figure 1: Some image found &lt;a href=&quot;...&quot;&gt;here&lt;/a&gt;&lt;/h1&gt;
</I>&gt;<i> &gt; &gt;        &lt;p&gt;&lt;img src=&quot;...&quot;&gt;&lt;/p&gt;
</I>&gt;<i> &gt; &gt;      &lt;/aside&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I'm afraid this won't degrade gracefully: the &lt;h1&gt; would confuse the 
</I>&gt;<i> &gt; document outline facilities in today's user agents.
</I>&gt;<i> 
</I>&gt;<i> You could use &lt;h6&gt;. Just always use &lt;h6&gt; for the figure caption.
</I>&gt;<i> 
</I>&gt;<i> Actually, I think WA should generally allow the use of &lt;h6&gt; as a 
</I>&gt;<i> terminal-level header, similar to the simplesect element in DocBook. 
</I>&gt;<i> It's a useful markup construct sometimes, at least in my experience.
</I>
That would seriously complicate the current definition of how to handle 
headers, which is IMHO quite complicated enough as is.


On Thu, 6 Apr 2006, mozer wrote:
&gt;<i> 
</I>&gt;<i> Proposition 1 :
</I>&gt;<i> -----------------
</I>&gt;<i> And what about just giving to &lt;img&gt; a content ?
</I>
This, sadly, wouldn't be very backwards compatible.


&gt;<i> Proposition 2 :
</I>&gt;<i> -----------------------
</I>&gt;<i> or just giving img an id
</I>&gt;<i> then using @for attribute
</I>&gt;<i> &lt;p&gt;&lt;caption for=&quot;img1&quot;&gt;this is &lt;b&gt;the&lt;/b&gt; caption&lt;/caption&gt;&lt;img
</I>&gt;<i> id=&quot;img1&quot; src=&quot;image-equivalent-of-text&quot; alt=&quot;text&quot;&gt;&lt;/p&gt;
</I>
Such structures are, unfortunately, the source of many bugs and confusion; 
I think we should avoid using ID references where we can.


On Thu, 6 Apr 2006, Alexey Feldgendler wrote:
&gt;<i> 
</I>&gt;<i> This heading shouldn't be within the document's main tree of headings. 
</I>&gt;<i> It should be completely taken out, that's what &quot;aside&quot; means. But it 
</I>&gt;<i> can't be done in a backwards compatible way.
</I>
Indeed.


On Fri, 7 Apr 2006, Alexey Feldgendler wrote:
&gt;<i> 
</I>&gt;<i> As a user, I wouldn't want Opera to include image captions when 
</I>&gt;<i> navigating headers. I don't feel that the caption is a header -- it's no 
</I>&gt;<i> more of a header than a table caption is.
</I>
Agreed.


On Fri, 7 Apr 2006, Alexey Feldgendler wrote:
&gt;<i> 
</I>&gt;<i> Actually, I tend to treat images and tables the same. Tables have 
</I>&gt;<i> &lt;caption&gt;s, and a user agent can make a list of tables for navigation. 
</I>&gt;<i> Why can't an image have a caption? I think images and tables are quite 
</I>&gt;<i> similar.
</I>
I agree.


&gt;<i> And I don't think that &quot;heading&quot; is the appropriate semantic entity for 
</I>&gt;<i> marking up captions. Rather than making them headers and at the same 
</I>&gt;<i> time taking measures so that they don't interfere with UA's outlining 
</I>&gt;<i> facilities, I'd rather say that headings should be left entirely for 
</I>&gt;<i> document outline, and captions are marked up explicitly as captions.
</I>
Agreed.


On Fri, 7 Apr 2006, Michel Fortin wrote:
&gt;<i> 
</I>&gt;<i> Personally, I can leave with a caption element that doesn't show up in 
</I>&gt;<i> the DOM of legacy user-agents. But given all the attention given to 
</I>&gt;<i> backward compatibility, it just seem a little out of place to ignore 
</I>&gt;<i> such an issue.
</I>
Indeed. The even bigger problem is of &lt;caption&gt; inside &lt;td&gt; or &lt;caption&gt;, 
where the parsing is even weirder.


&gt;<i> Yes, that was an accident, and not the first. I'm used to some other 
</I>&gt;<i> lists where I can just hit reply.
</I>
Just hit reply-all. :-)


On Wed, 12 Apr 2006, Ben Meadowcroft wrote:
&gt;<i> 
</I>&gt;<i> I'd prefer using a caption element, even if it isn't backwards 
</I>&gt;<i> compatible. However as an alternative why not reuse the label element?
</I>
&lt;label&gt; is an option, but it already has quite a lot of requirements 
related to interaction, etc (e.g. clicking it is supposed to transfer 
focus), and it has a for=&quot;&quot; attribute that would make this more complex 
than necessary. Basically, we want to avoid overloading elements.

Luckily, &lt;legend&gt; (which previously was just for &lt;fieldset&gt;) is actually 
quite safe to use, since it hasn't had any important implementation 
requirements in the past (with &lt;fieldset&gt;, the requirements rest with 
&lt;fieldset&gt;, not &lt;legend&gt;, generally).


On Wed, 12 Apr 2006, Michel Fortin wrote:
&gt;<i> 
</I>&gt;<i> Apparently, the label element used outside a fieldset has the same 
</I>&gt;<i> problems as caption outside a table (not present in the DOM, impossible 
</I>&gt;<i> to style). At least on Gecko and WebKit.
</I>
Indeed. However, since we are already requiring that the &lt;legend&gt; element 
be handled more sanely by the parser, and since &lt;details&gt; is using 
&lt;legend&gt; too, it seems reasonable to use &lt;legend&gt;.


&gt;<i> I've updated my test cases with a figure using the legend element and 
</I>&gt;<i> added a stylesheet to set color of caption and legend elements to better 
</I>&gt;<i> demonstrate that it doesn't work in HTML; with XML it works fine 
</I>&gt;<i> however.
</I>&gt;<i> 
</I>&gt;<i> &lt;<A HREF="http://www.michelf.com/docs/figure.html">http://www.michelf.com/docs/figure.html</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://www.michelf.com/docs/figure.xml">http://www.michelf.com/docs/figure.xml</A>&gt;
</I>
Thanks, this is indeed helpful.


On Sat, 22 Apr 2006, Simon Pieters wrote:
&gt;<i> 
</I>&gt;<i> HTML+ actually already has markup for image captions[1]:
</I>&gt;<i> 
</I>&gt;<i>   &lt;fig src=&quot;image-equivalent-of-text&quot;&gt;
</I>&gt;<i>    &lt;caption&gt;caption&lt;/caption&gt;
</I>&gt;<i>    text
</I>&gt;<i>   &lt;/fig&gt;
</I>&gt;<i> 
</I>&gt;<i> Since no current browser supports the HTML+ &lt;fig&gt; element (AFAIK), we 
</I>&gt;<i> could reuse it for image captions something like this:
</I>&gt;<i> 
</I>&gt;<i>   &lt;fig&gt;
</I>&gt;<i>    &lt;caption&gt;caption&lt;/caption&gt;
</I>&gt;<i>    &lt;img src=&quot;image-equivalent-of-text&quot; alt=&quot;text&quot;&gt;
</I>&gt;<i>   &lt;/fig&gt;
</I>&gt;<i> 
</I>&gt;<i> [1] <A HREF="http://www.w3.org/MarkUp/HTMLPlus/htmlplus_35.html">http://www.w3.org/MarkUp/HTMLPlus/htmlplus_35.html</A>
</I>
Except for the parsing problems with &lt;caption&gt;, and the use of &lt;figure&gt; 
instead of &lt;fig&gt;, I agree, and this is what has now been added to the 
spec. (I don't think it makes sense to abbreviate &lt;figure&gt; particularly.)


On Wed, 3 May 2006, Michel Fortin wrote:
&gt;<i> 
</I>&gt;<i> I just found out that at least one important HTML parser (Gecko) doesn't 
</I>&gt;<i> create the right DOM tree out of something as simple as this:
</I>&gt;<i> 
</I>&gt;<i>     &lt;section&gt;
</I>&gt;<i>       &lt;p&gt;Some paragraph&lt;/p&gt;
</I>&gt;<i>     &lt;/section&gt;
</I>&gt;<i> 
</I>&gt;<i> The tree will be as if you wrote this:
</I>&gt;<i> 
</I>&gt;<i>     &lt;section&gt;
</I>&gt;<i>       &lt;/section&gt;&lt;p&gt;Some paragraph&lt;/p&gt;
</I>&gt;<i> 
</I>&gt;<i> Why? Because unknown elements are considered inline and won't accept any 
</I>&gt;<i> block element within. This problem applies to &lt;nav&gt;, &lt;header&gt;, &lt;footer&gt;, 
</I>&gt;<i> and &lt;aside&gt; too (and maybe others).
</I>
Indeed, this behaviour is considered wrong by the HTML parser required by 
HTML5.


&gt;<i> The point I want to make is that because simple elements like section 
</I>&gt;<i> aren't really backward-compatible, there is probably no point in 
</I>&gt;<i> requiring that from image captions either. Hence it could be acceptable 
</I>&gt;<i> to allow the following markup even if current HTML parsers are ignoring 
</I>&gt;<i> caption:
</I>&gt;<i> 
</I>&gt;<i>     &lt;figure&gt;
</I>&gt;<i>       &lt;caption&gt;Some image&lt;/caption&gt;
</I>&gt;<i>       &lt;img src=&quot;...&quot;&gt;
</I>&gt;<i>     &lt;/figure&gt;
</I>
The problem isn't that UAs handle the above badly, it's that they are 
required to handle situations such as the following in ways that aren't 
compatible with the proposal:

   &lt;table&gt;
    &lt;tr&gt;
     &lt;td&gt;
      &lt;figure&gt;
       &lt;caption&gt;

(The &lt;caption&gt; ends the &lt;td&gt;.)


&gt;<i> Block-level element, and structured inline-level element.
</I>
I couldn't really work out why it should be inline. It seems equivalent to 
a &lt;p&gt;.


&gt;<i> Content model:
</I>&gt;<i>     Zero or one caption element followed by inline-level content.
</I>
Why not just embedded elements?


&gt;<i> I've chosen an inline-level content model because it allows not only 
</I>&gt;<i> img, but also structured inline-level elements like pre. I'm not so sure 
</I>&gt;<i> about that choice however.
</I>
Hm, &lt;pre&gt; seems like an interesting thing to put in a &lt;figure&gt;. What do 
people think? Right now it's only embedded content.


On Thu, 29 Jun 2006, Lachlan Hunt wrote:
&gt;<i> 
</I>&gt;<i> I agree that structure is the best approach.  That allows for good 
</I>&gt;<i> styling, by setting the following:
</I>&gt;<i> 
</I>&gt;<i> figure { display: table; caption-side: bottom; }
</I>&gt;<i> figure img { display: block; }
</I>&gt;<i> caption { display: table-caption; }
</I>&gt;<i> 
</I>&gt;<i> The only problem is that it isn't very backwards compatible.  Firefox 
</I>&gt;<i> doesn't include &lt;caption&gt; in the DOM outside of a table.  Moving the 
</I>&gt;<i> caption after the image in the source and setting display: block; on the 
</I>&gt;<i> image gives reasonable results in Firefox and Opera because the img is a 
</I>&gt;<i> child of figure, but not in IE because figure and img are treated as 
</I>&gt;<i> siblings.
</I>
For anything with new elements to work in IE, we're going to have to rely 
on JavaScript to wrap the elements around.


&gt;<i> Using the microformat approach instead, like the following, gives better
</I>&gt;<i> backwards compatibility, but at the expense of proper semantic elements.
</I>&gt;<i> 
</I>&gt;<i> &lt;div class=&quot;figure&quot;&gt;
</I>&gt;<i>   &lt;img ... &gt;
</I>&gt;<i>   &lt;p class=&quot;caption&quot;&gt;Figure 1: Some image&lt;/p&gt;
</I>&gt;<i> &lt;/div&gt;
</I>&gt;<i> 
</I>&gt;<i> We could also use a single-cell table for this, but this approach could be
</I>&gt;<i> considered abuse and IE doesn't seem to support 'caption-side', but does
</I>&gt;<i> support the deprecated align attribute on caption.
</I>&gt;<i> 
</I>&gt;<i> &lt;table class=&quot;figure&quot;&gt;
</I>&gt;<i>   &lt;caption&gt;Figure 1: Some image&lt;/caption&gt;
</I>&gt;<i>   &lt;tr&gt;
</I>&gt;<i>     &lt;td&gt;&lt;img ... &gt;&lt;/td&gt;
</I>&gt;<i>   &lt;/tr&gt;
</I>&gt;<i> &lt;/table&gt;
</I>
Yeah, those are probably what people will have to keep doing while we wait 
for &lt;legend&gt; and &lt;figure&gt; to be better implemented.


&gt;<i> Whatever approach we eventually decide upon, it should be able to handle
</I>&gt;<i> captions for a variety of strucutres, not just images.  This includes:
</I>&gt;<i> * Blocks of code and sample input/output
</I>&gt;<i> * Lists
</I>&gt;<i> * &lt;object&gt;, &lt;embed&gt;, &lt;img&gt; and maybe &lt;iframe&gt;
</I>
Interesting. At the moment it only allows embedded content (&lt;object&gt;, 
&lt;embed&gt;, &lt;img&gt;, &lt;iframe&gt;). I certainly could see us also allowing &lt;figure&gt; 
to label &lt;pre&gt;&lt;samp&gt; and &lt;pre&gt;&lt;code&gt;. People often ask for labelling 
lists, which I guess is a figure of sorts too, so &lt;ul&gt; and &lt;ol&gt; might make 
sense. What do people think? Should we give a list of elements that can be 
used there? Or just make it any block-level element? The latter seems a 
bit vague... it's not clear what

   &lt;figure&gt;
     &lt;p&gt;...&lt;/p&gt;
     &lt;legend&gt; ... &lt;/legend&gt;
   &lt;/figure&gt;

...means.

What should we do with the rules for handling fallback if we allow &lt;pre&gt; 
et al? I suppose in those cases, there simply isn't any fallback, but what 
if the &lt;object&gt; element falls back to an &lt;ol&gt;?

   &lt;figure&gt;
     &lt;object ...&gt; &lt;ol&gt; ... &lt;/ol&gt; &lt;/figure&gt;
     &lt;legend&gt; ... &lt;/legend&gt;
   &lt;/figure&gt;

Currently that's either an object and its legend, or, a list; but if we 
also allow:

   &lt;figure&gt;
     &lt;ol&gt;...&lt;/ol&gt;
     &lt;legend&gt; ... &lt;/legend&gt;
   &lt;/figure&gt;

...then it would make sense that the &lt;figure&gt; would fall back to that. But 
then how do you distinguish that case from the case where it doesn't want 
to fall back to a list-with-a-legend?


On Thu, 29 Jun 2006, Michel Fortin wrote:
&gt;<i> 
</I>&gt;<i> Then I realised that, contrary to my first belief, others elements in 
</I>&gt;<i> the current draft -- namely &lt;section&gt;, &lt;nav&gt;, &lt;header&gt;, &lt;footer&gt;, 
</I>&gt;<i> &lt;aside&gt;, and maybe others -- aren't backward compatible either because 
</I>&gt;<i> they can't contain even a paragraph, at least in Safari and Firefox.
</I>&gt;<i> 
</I>&gt;<i> Will this prevent &lt;section&gt; and others from being adopted? I doubt it. 
</I>&gt;<i> Should this prevent a &lt;figure&gt; element from being adopted? I don't think 
</I>&gt;<i> so.
</I>
Agreed.


On Wed, 1 Nov 2006, Michel Fortin wrote:
&gt;<i>
</I>&gt;<i> I see no reason to be restrictive on the kind of content that can be 
</I>&gt;<i> captioned.
</I>
Well, we want the semantics to be well-defined. It's not clear to me what 
the semantics will be in all cases if we allow anything to be captioned.


On Wed, 1 Nov 2006, Jonathan Worent wrote:
&gt;<i> 
</I>&gt;<i> Taking cues form the label element for forms you could either make the association explicit by
</I>&gt;<i> wrapping the caption around the element its captioning
</I>&gt;<i> &lt;caption&gt;
</I>&gt;<i>    &lt;embed ...&gt;
</I>&gt;<i>    A funny video of a man being hit in the groin by a football
</I>&gt;<i> &lt;/caption&gt;
</I>&gt;<i> 
</I>&gt;<i> or make the association implicit by using the for attribute
</I>&gt;<i> &lt;embed id=&quot;funnyVid&quot; ...&gt;
</I>&gt;<i> &lt;caption for=&quot;funnyVid&quot;&gt;A funny video of a man being hit in the groin by a football&lt;/caption&gt;
</I>
I don't really understand the use case for associating the caption in this 
way.


On Sat, 4 Nov 2006, Matthew Paul Thomas wrote:
&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; or make the association implicit by using the for attribute
</I>&gt;<i> &gt; &gt; &lt;embed id=&quot;funnyVid&quot; ...&gt;
</I>&gt;<i> &gt; &gt; &lt;caption for=&quot;funnyVid&quot;&gt;A funny video of a man being hit in the groin by a
</I>&gt;<i> &gt; &gt; football&lt;/caption&gt;
</I>&gt;<i> 
</I>&gt;<i> That would work for the current page layouts of YouTube and Google Video.
</I>&gt;<i> 
</I>&gt;<i> &gt; I think what would work best for this is the &lt;figure&gt; element I've proposed
</I>&gt;<i> &gt; back in june:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;     &lt;figure&gt;
</I>&gt;<i> &gt;       &lt;caption&gt;Some caption here&lt;/caption&gt;
</I>&gt;<i> &gt;       ...
</I>&gt;<i> &gt;     &lt;/figure&gt;
</I>&gt;<i> &gt; ...
</I>&gt;<i> 
</I>&gt;<i> That would not. (At least, not without some tricky CSS.)
</I>
Could you elaborate on that? I don't really understand why you think that. 
Unless you mean just because of the order, but we could easily just allow 
the caption to go at the end of the &lt;figure&gt; element.



On Thu, 9 Nov 2006, Jeff Seager wrote:
&gt;<i>
</I>&gt;<i> What's clearly missing from the IMG specification is an appropriate 
</I>&gt;<i> means for pairing each picture or graphic with a caption. [...]
</I>
Agreed.


On Fri, 10 Nov 2006, Michel Fortin wrote:
&gt;<i> &gt;
</I>&gt;<i> &gt; The difference is that &lt;caption&gt; will never work, because of things 
</I>&gt;<i> &gt; like this:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    &lt;table&gt;
</I>&gt;<i> &gt;      &lt;caption&gt;
</I>&gt;<i> &gt;         &lt;figure&gt;
</I>&gt;<i> &gt;            &lt;img ...&gt;
</I>&gt;<i> &gt;            &lt;caption&gt; ...A... &lt;/caption&gt;
</I>&gt;<i> &gt;         &lt;/figure&gt;
</I>&gt;<i> &gt;      &lt;/caption&gt;
</I>&gt;<i> &gt;      ...
</I>&gt;<i> &gt;    &lt;/table&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; ...which, for legacy compatibility reasons, must result in a DOM where the
</I>&gt;<i> &gt; text with &quot;A&quot; ends up in a second &lt;caption&gt; element that is a child of the
</I>&gt;<i> &gt; &lt;table&gt; element.
</I>&gt;<i> 
</I>&gt;<i> I don't get it. Are you saying that &lt;caption&gt; cannot work outside &lt;table&gt;
</I>&gt;<i> because it has to work a certain way when inside a &lt;table&gt; element?
</I>
Yes. See also the examples earlier in this e-mail.


&gt;<i> Or are you simply saying that &lt;figure&gt; cannot work because it cannot 
</I>&gt;<i> work inside a table caption?
</I>
Um yes. That's the same thing. :-)


&gt;<i> If supporting &lt;figure&gt; inside a caption is so important, browsers could 
</I>&gt;<i> treat &lt;figure&gt; in the same way they treat &lt;table&gt; when inside a caption. 
</I>
I really don't want to change the table parsing model. :-)


&gt;<i> But any of these two samples seems completely ridiculous and confusing 
</I>&gt;<i> to me. Personally, I don't think any of the above cases should be 
</I>&gt;<i> allowed (caption has inline-level content in HTML4 by the way), and I 
</I>&gt;<i> it'd also be fine if browsers continue to do whatever they do when 
</I>&gt;<i> inside a &lt;caption&gt; element.
</I>&gt;<i> 
</I>&gt;<i> And I don't see how any of this could prevent &lt;caption&gt; from creating a 
</I>&gt;<i> caption element in the DOM when *outside* a table.
</I>
It would have the same problem in a table cell, and there's a lot of 
content in table cells, whether we like it or not. :-)


&gt;<i> I'm not sure I like &quot;legend&quot; as a word for captions. A legend -- in the 
</I>&gt;<i> context of a graph, a map, or a schema -- is a list of symbols or colors 
</I>&gt;<i> followed by some definition of what they represents on the figure. It's 
</I>&gt;<i> far different from a caption or the title of a figure.
</I>
Actually, &lt;legend&gt; basically just means &lt;caption&gt;. The case you mention is 
a specific type of &lt;legend&gt; (also known as a key).


&gt;<i> But &lt;legend&gt;, as an element, is worse: image captions and table captions 
</I>&gt;<i> are much more similar in concept and in default presentation than 
</I>&gt;<i> fieldset legends, which are some kind of title for a thematic group of 
</I>&gt;<i> form controls.
</I>
The way &lt;legend&gt; is defined now it's just a general captioning-like 
element to be used in various places.


&gt;<i> By the way, I think &lt;legend&gt; for &lt;details&gt; is a perfect choice, because 
</I>&gt;<i> like &lt;fieldset&gt;, &lt;details&gt; is a functional regroupment, so &lt;legend&gt; 
</I>&gt;<i> becomes some sort of title for a group of related user interface 
</I>&gt;<i> elements. That definition works for both &lt;fieldset&gt; and &lt;details&gt;. If 
</I>&gt;<i> you add &lt;figure&gt; into the mix, &lt;legend&gt; becomes a title for something on 
</I>&gt;<i> the page. I think this would dilute the semantics and make the language 
</I>&gt;<i> less coherent.
</I>
Well, it just means you get to work out the semantics from the parent 
element instead of from just the tag name. It's not really diluted.


&gt;<i> Even if it's a little more difficult, I think using &lt;caption&gt; is the 
</I>&gt;<i> right thing to do.
</I>
As far as I can tell, it's more than a little more difficult.


On Sat, 11 Nov 2006, Matthew Paul Thomas wrote:
&gt;<i> 
</I>&gt;<i> Anyway, I support the idea of a caption *element* to accompany images. This
</I>&gt;<i> would have two benefits over an attribute:
</I>&gt;<i> 1.  It could contain markup, which an attribute cannot.
</I>&gt;<i> 2.  With a for= attribute, it could apply to an image elsewhere in the
</I>&gt;<i>     document, which would be useful for the print medium. For example:
</I>&gt;<i>         &lt;p&gt;
</I>&gt;<i>           &lt;legend for=&quot;classphoto&quot;&gt;&lt;i class=&quot;printonly&quot;&gt;Top left:&lt;/i&gt;
</I>&gt;<i>           The class of 2006.&lt;/legend&gt;
</I>&gt;<i>           &lt;legend for=&quot;bandseniors&quot;&gt;&lt;i class=&quot;printonly&quot;&gt;Top right:&lt;/i&gt;
</I>&gt;<i>           Simone with her parents on graduation day.&lt;/legend&gt;
</I>&gt;<i>         &lt;/p&gt;
</I>&gt;<i>     (For the screen medium, ideally UAs would place a caption adjacent
</I>&gt;<i>     to the relevant image, regardless of where the caption occurred in
</I>&gt;<i>     the document.)
</I>
That's an interesting use case. In general, though, I'd say that the 
content shouldn't assume the location (e.g. by mentioning it in the 
markup). That should be generated content. No?


&gt;<i> I suggest that this element behave in the opposite way from alt=: 
</I>&gt;<i> whereas alt= should be presented only if the image itself is *not* 
</I>&gt;<i> presented, the caption element should be presented only if the image 
</I>&gt;<i> itself *is* presented. Otherwise there would be the same problem with 
</I>&gt;<i> non-sequiturs in non-visual media as there is with descriptive alt=.
</I>
Agreed; spec now requires this. Not sure how to make this jive with the 
idea of allowing &lt;pre&gt;/&lt;ol&gt;/etc, though; see above.


On Mon, 13 Nov 2006, Matthew Raymond wrote:
&gt;<i> 
</I>&gt;<i>    I was actually thinking of something like this:
</I>&gt;<i> 
</I>&gt;<i> | &lt;figure&gt;
</I>&gt;<i> |   &lt;img id=&quot;imageid&quot; [...]&gt;
</I>&gt;<i> |   &lt;label for=&quot;imageid&quot;&gt;
</I>&gt;<i> |     Image caption text.
</I>&gt;<i> |   &lt;/label&gt;
</I>&gt;<i> | &lt;figure&gt;
</I>
The for/id is redundant in this example.


&gt;<i>    ...Where fallback content is ignored by &lt;figure&gt;:
</I>&gt;<i> 
</I>&gt;<i> | &lt;figure&gt;
</I>&gt;<i> |   &lt;table&gt;
</I>&gt;<i> |     &lt;tr&gt;&lt;td&gt;
</I>&gt;<i> |       &lt;img id=&quot;imageid&quot; [...]&gt;
</I>&gt;<i> |     &lt;/td&gt;&lt;/tr&gt;
</I>&gt;<i> |     &lt;tr&gt;&lt;th&gt;
</I>&gt;<i> |       &lt;label for=&quot;imageid&quot;&gt;
</I>&gt;<i> |         Image caption text.
</I>&gt;<i> |       &lt;/label&gt;
</I>&gt;<i> |     &lt;/th&gt;&lt;/tr&gt;
</I>&gt;<i> |   &lt;/table&gt;
</I>&gt;<i> | &lt;figure&gt;
</I>&gt;<i> 
</I>&gt;<i>    So, in the above, the UA would treat the second example as if it 
</I>&gt;<i> where the first.
</I>
That seems a bit complex just to handle fallback, though. (I'm not sure 
how it would work with CSS, either.)


On Mon, 13 Nov 2006, Jeff Seager wrote:
&gt;<i> 
</I>&gt;<i> I apologize if I've gone over old ground on this. I'm new to this list, 
</I>&gt;<i> and others have indicated that this has been discussed before. Has it 
</I>&gt;<i> been decided, though? To me, it seems a very basic and urgent need in 
</I>&gt;<i> the HTML/XHTML specs.
</I>
All feedback is welcome!


On Tue, 14 Nov 2006, Alexey Feldgendler wrote:
&gt;<i> 
</I>&gt;<i> I believe HTML should have an element for every attribute intended to 
</I>&gt;<i> hold human-readable text. A raw idea can go like this:
</I>&gt;<i> 
</I>&gt;<i> &lt;img id=&quot;img1&quot; src=&quot;...&quot;&gt;
</I>&gt;<i> &lt;label for=&quot;img1&quot; type=&quot;title&quot;&gt;...&lt;/label&gt;
</I>&gt;<i> 
</I>&gt;<i> Here, &lt;label&gt; holds a value which should be treated the same way like 
</I>&gt;<i> the title attribute on &lt;img&gt;, except that it can contain nested markup. 
</I>&gt;<i> This would be useful for all attributes defined as %Text in HTML -- in 
</I>&gt;<i> HTML4, these are ABBR, ALT, LABEL, STANDBY, SUMMARY, TITLE. However, 
</I>&gt;<i> doing a full straightforward solution like this may be bad for backward 
</I>&gt;<i> compatibility, especially in the case of ALT. But the idea is: whenever 
</I>&gt;<i> we write an attribute of type %Text, we want text with markup, so an 
</I>&gt;<i> element instead of attribute is needed.
</I>
I think that leads to far too many complications. Attributes have nice 
properties, in that they are very simple to deal with. Elements introduce 
all kinds of complications. For many things, e.g. tooltips, you really 
don't want complications.


On Sun, 19 Nov 2006, Andrew Fedoniouk wrote:
&gt;<i> |
</I>&gt;<i> |   I don't see the point of replacing attribute-based tooltips with
</I>&gt;<i> | elements. Many platforms/OSes don't have tooltips that support anything
</I>&gt;<i> | other than text. If you really want to replace text tooltips with
</I>&gt;<i> | elements that support HTML content, you might as well go all the way and
</I>&gt;<i> | allow people to use it as a means of creating popup content. Once you go
</I>&gt;<i> | down that road, people will be asking for it anyways.
</I>&gt;<i> 
</I>&gt;<i> &quot;...Many platforms/OSes don't have tooltips that support anything
</I>&gt;<i> other than text....&quot;
</I>&gt;<i> 
</I>&gt;<i> How task of tooltip creation in HTML is related to what OS is using for
</I>&gt;<i> tooltips?
</I>
It's quite important that HTML not violate platform conventions. Being 
consistent with the OS is one of the most important usability concerns of 
writing applications.


&gt;<i> As an example: here is a screenshot of HTML/CSS defined
</I>&gt;<i> tooltip in HTMLayout:
</I>&gt;<i> <A HREF="http://www.terrainformatica.com/htmlayout/images/tooltip-balloon.jpg">http://www.terrainformatica.com/htmlayout/images/tooltip-balloon.jpg</A>
</I>&gt;<i> as you may see this is far from what OS is using.
</I>
It's also quite horrifying from a UI perspective. :-) But that's a topic 
for another mailing list, as do the various XBL and CSS proposals that 
spawned from this particular part of the caption thread (and which I have 
therefore skipped here -- please let me know if there was something 
on-topic that I missed and that I should reply to; I read all the e-mails 
in question but didn't see anything that I should reply to).


On Wed, 22 Nov 2006, Michel Fortin wrote:
&gt;<i> 
</I>&gt;<i> So I propose a new &lt;fcaption&gt; elements -- for &quot;figure caption&quot; -- in
</I>&gt;<i> replacement for the &lt;caption&gt; element in my previous figure construct:
</I>&gt;<i> 
</I>&gt;<i>     &lt;figure&gt;
</I>&gt;<i>       &lt;fcaption&gt;Caption Text&lt;/fcaption&gt;
</I>&gt;<i>       &lt;img src=&quot;...&quot;&gt;
</I>&gt;<i>     &lt;/figure&gt;
</I>
I really want to avoid introducing new elements for concepts we already 
have... We already have four or so ways of doing &quot;caption&quot;-like things: 
&lt;caption&gt;, &lt;legend&gt;, &lt;label&gt;, and title=&quot;&quot;, not to mention the &lt;hx&gt; 
elements, &lt;th&gt;, and &lt;title&gt;, which are similar enough that people on this 
thread have sometimes mentioned them. The more we introduce the more 
confusing the language becomes.


On Wed, 22 Nov 2006, Alexey Feldgendler wrote:
&gt;<i> 
</I>&gt;<i> &lt;figure&gt; cannot be used like this:
</I>&gt;<i> 
</I>&gt;<i> &lt;table&gt;
</I>&gt;<i>    &lt;thead&gt;
</I>&gt;<i>      &lt;tr&gt;
</I>&gt;<i>        &lt;th&gt;Painting&lt;/th&gt;
</I>&gt;<i>        &lt;th&gt;Title&lt;/th&gt;
</I>&gt;<i>        &lt;th&gt;Author&lt;/th&gt;
</I>&gt;<i>      &lt;/tr&gt;
</I>&gt;<i>    &lt;/thead&gt;
</I>&gt;<i>    &lt;tbody&gt;
</I>&gt;<i>      &lt;tr&gt;
</I>&gt;<i>        &lt;td&gt;&lt;img id=&quot;img1&quot; src=&quot;...&quot;&gt;&lt;/td&gt;
</I>&gt;<i>        &lt;td&gt;&lt;label for=&quot;img1&quot; type=&quot;title&quot;&gt;Mona Lisa&lt;/label&gt;&lt;/td&gt;
</I>&gt;<i>        &lt;td&gt;Leonardo da Vinci&lt;/td&gt;
</I>&gt;<i>      &lt;/tr&gt;
</I>&gt;<i>      ...
</I>&gt;<i>    &lt;/tbody&gt;
</I>&gt;<i> &lt;/table&gt;
</I>
This is a table, not a set of figures, so you would do:

 &lt;table&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;Title&lt;/th&gt;
        &lt;th&gt;Painting&lt;/th&gt;
        &lt;th&gt;Author&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;th&gt;Mona Lisa&lt;/th&gt;
        &lt;td&gt;&lt;img id=&quot;img1&quot; src=&quot;...&quot;&gt;&lt;/td&gt;
        &lt;td&gt;Leonardo da Vinci&lt;/td&gt;
      &lt;/tr&gt;
      ...
    &lt;/tbody&gt;
 &lt;/table&gt;

...or some such (note the use of &lt;th&gt;).

IMHO, anyway.


On Wed, 22 Nov 2006, James Graham wrote:
&gt;<i> 
</I>&gt;<i> Another issue to consider is the possibility of multiple images with a single
</I>&gt;<i> caption (this is very common in scientific papers, print magazines, etc.). A
</I>&gt;<i> construct like
</I>&gt;<i> &lt;figure&gt;
</I>&gt;<i> &lt;img&gt;
</I>&gt;<i> &lt;img&gt;
</I>&gt;<i> &lt;img&gt;
</I>&gt;<i> &lt;imgcaption&gt;
</I>&gt;<i> &lt;/figure&gt;
</I>&gt;<i> might be enough to support this (the details are, I think, non-trivial);
</I>&gt;<i> something that requires the caption to point to exactly one image cannot.
</I>
Hm. This is currently not possible either. I didn't see many (any?) 
examples of this in the list of sample pages that Michel provided, though, 
so I'm not sure we need to address this in the first version. What do 
people think?


On Wed, 22 Nov 2006, Steve Runyon wrote:
&gt;<i> 
</I>&gt;<i> One minor point I would clarify: Alexey, you stated that &lt;label for=&quot;XX&quot; 
</I>&gt;<i> type=&quot;title&quot;&gt; would replace the &quot;title&quot; attribute.  I assume you meant 
</I>&gt;<i> that it should *supplement* it, since you wouldn't want to preclude its 
</I>&gt;<i> use or mess with backward compatibility.
</I>&gt;<i> 
</I>&gt;<i> It sounds like &lt;label for=&quot;XX&quot; type=&quot;title&quot;&gt; would be a *terrific* 
</I>&gt;<i> addition to HTML5, along with a new value for the &quot;display&quot; property, 
</I>&gt;<i> &quot;tooltip&quot;. (I'm thinking of all the JS that I wouldn't have to write 
</I>&gt;<i> anymore! :-)
</I>
The complexity would be moved to the implementations, though, and the 
proposal here seems complex enough that I could easily imagine browser 
vendors never getting it right enough for authors to use it reliably.


On Wed, 22 Nov 2006, Alexey Feldgendler wrote:
&gt;<i> &gt; 
</I>&gt;<i> &gt; and I think the table makes the association pretty clear by itself.
</I>&gt;<i> 
</I>&gt;<i> It's not clear for Google Images which needs to extract (image, title) 
</I>&gt;<i> pairs from documents.
</I>
With the use of &lt;th&gt;, it seems like it would be.


Thanks to everyone who took part in this discussion (bcc'ed). Obviously I 
haven't been able to do what everyone suggested since there were many 
contradicting proposals! Please send feedback on &lt;figure&gt; and company. 
Hopefully having a concrete proposal in the spec will help focus the 
discussion going forward.

Cheers,
-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050282.html">[whatwg] The IMG element, proposing a CAPTION attribute
</A></li>
	<LI>Next message: <A HREF="050288.html">[whatwg] many messages regarding image captions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50287">[ date ]</a>
              <a href="thread.html#50287">[ thread ]</a>
              <a href="subject.html#50287">[ subject ]</a>
              <a href="author.html#50287">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
