<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Re: several messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg-whatwg.org%40lists.whatwg.org?Subject=%5Bwhatwg%5D%20Re%3A%20several%20messages&In-Reply-To=Pine.LNX.4.61.0501281359320.15536%40dhalsim.dreamhost.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003021.html">
   <LINK REL="Next"  HREF="003023.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Re: several messages</H1>
<!--htdig_noindex-->
    <B>Matthew Raymond</B> 
    <A HREF="mailto:whatwg-whatwg.org%40lists.whatwg.org?Subject=%5Bwhatwg%5D%20Re%3A%20several%20messages&In-Reply-To=Pine.LNX.4.61.0501281359320.15536%40dhalsim.dreamhost.com"
       TITLE="[whatwg] Re: several messages">mattraymond at earthlink.net
       </A><BR>
    <I>Fri Jan 28 10:57:41 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="003021.html">[whatwg] Re: several messages
</A></li>
        <LI>Next message: <A HREF="003023.html">[whatwg] Re: several messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3022">[ date ]</a>
              <a href="thread.html#3022">[ thread ]</a>
              <a href="subject.html#3022">[ subject ]</a>
              <a href="author.html#3022">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> On Thu, 27 Jan 2005, Matthew Raymond wrote:
</I>&gt;<i> 
</I>&gt;&gt;&gt;<i>1. A proposal to control the submission format for WF2 UAs.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>I disagree that this is desirable. The whole point of having a type is 
</I>&gt;&gt;&gt;<i>that it means we can all standardise on a single, reliable, 
</I>&gt;&gt;&gt;<i>unambiguous, easy to parse, standard submission format.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>It also means that you can't simply whip up a page that uses WF2, you 
</I>&gt;&gt;<i>have to alter the server to support ISO8601. This may not be possible.
</I>&gt;<i> 
</I>&gt;<i> I find it very hard to believe that this would be a common problem.
</I>&gt;<i> 
</I>&gt;<i> Supporting ISO8601 is pretty easy. It's one of the simplest date/time 
</I>&gt;<i> formats to parse.
</I>
    It still means that the webmaster has to alter all server-side 
scripting involving dates/times. What happens when you hired an outside 
group to setup those scripts, but your HTML is in-house?

&gt;<i> And yes, it means you can't write a page and have it submit to someone 
</I>&gt;<i> else's server if they don't support ISO8601 yet. That is an edge case. I 
</I>&gt;<i> really don't think we need to support that. It certainly doesn't deserve 
</I>&gt;<i> so much attention that all UAs should support it and the model should be 
</I>&gt;<i> made more complicated for everyone else.
</I>
    Only the implementation of my &lt;format&gt; concept is more complicated. 
People can still use your way if they so choose.

&gt;&gt;&gt;<i>Having a single format means libraries can be written that can then 
</I>&gt;&gt;&gt;<i>just be used directly, instead of having to handle dates individually 
</I>&gt;&gt;&gt;<i>for each site as we do now.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I fail to see why it would be so difficult to create a library that 
</I>&gt;&gt;<i>converts an ISO8601 date or time into a custom time using a strftime 
</I>&gt;&gt;<i>formatted string. If it's so bloody hard, I'll write it for you.
</I>&gt;<i> 
</I>&gt;<i> I'm not sure what you mean. I was referring to the fact that if all UAs 
</I>&gt;<i> submit dates and times in ISO8601 format, then libraries like CGI.pm can 
</I>&gt;<i> simply have methods that convert incoming dates and times into appropriate 
</I>&gt;<i> types before the site-specific server-side code processes it.
</I>
    Why would they need the format converted at all. The whole concept 
behind &lt;format&gt; and the like is that it sends the data in a format the 
servers ARE ALREADY USING. There is no conversion on the server side, 
only validation, which they should be doing in the first place, and even 
if the validation doesn't work perfectly on the server, it only has to 
work on the correct format, which a WF2 UA will send. There is no 
argument here. It's an illusion.

&gt;&gt;&gt;<i>The most common suggestion is an element that would not render in UAs 
</I>&gt;&gt;&gt;<i>that supported the new input controls but would in legacy UAs.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Unfortunately, this makes some assumptions that I'm not sure we can 
</I>&gt;&gt;&gt;<i>make. For example, it assumes that a UA either supports all of the new 
</I>&gt;&gt;&gt;<i>date/time input types as well as the &lt;format&gt; element, or it supports 
</I>&gt;&gt;&gt;<i>none of them.
</I>&gt;&gt;<i>
</I>[Snipped my confused response.]
&gt;<i> 
</I>&gt;<i> Nothing to do with strftime formatting (indeed I'm not sure where that 
</I>&gt;<i> comes in). I meant cases such as:
</I>&gt;<i> 
</I>&gt;<i>    &lt;p&gt; &lt;input type=&quot;date&quot;&gt; &lt;format&gt;...&lt;/format&gt; &lt;/p&gt;
</I>&gt;<i>    &lt;p&gt; &lt;input type=&quot;time&quot;&gt; &lt;format&gt;...&lt;/format&gt; &lt;/p&gt;
</I>&gt;<i>    &lt;p&gt; &lt;input type=&quot;datetime&quot;&gt; &lt;format&gt;...&lt;/format&gt; &lt;/p&gt;
</I>&gt;<i>    &lt;p&gt; &lt;input type=&quot;month&quot;&gt; &lt;format&gt;...&lt;/format&gt; &lt;/p&gt;
</I>&gt;<i>    &lt;p&gt; &lt;input type=&quot;week&quot;&gt; &lt;format&gt;...&lt;/format&gt; &lt;/p&gt;
</I>&gt;<i> 
</I>&gt;<i> ...in a UA that only supports type=&quot;date&quot; and type=&quot;time&quot;. What will get 
</I>&gt;<i> displayed?
</I>
    That's fixable by simply having the UA treat &lt;format&gt; as a simple 
&lt;span&gt; whenever it's not associated with a datetime-like format. The UA 
would then product the desired legacy fallback.

&gt;&gt;&gt;<i>Given past experience with the way UAs implement specs a bit at a time, I
</I>&gt;&gt;&gt;<i>really don't think this is a good assumption.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Please provide a use case for my most current proposal where this would be
</I>&gt;&gt;<i>a problem.
</I>&gt;<i> 
</I>&gt;<i>    &lt;p&gt;Please insert the date: &lt;input type=&quot;date&quot;&gt; &lt;format&gt; DD MM YYYY &lt;/format&gt; &lt;/p&gt;
</I>&gt;<i>    &lt;p&gt;Please insert the time: &lt;input type=&quot;time&quot;&gt; &lt;format&gt; HH MM &lt;/format&gt; &lt;/p&gt;
</I>&gt;<i> 
</I>&gt;<i> ...in a UA that only supports type=&quot;date&quot;.
</I>
    Well, first of all, stop with the not associating &lt;format&gt; with its 
control. Second, if &lt;input&gt; is not a type that supports &lt;format&gt;, then 
format would be rendered as I suggested above.

&gt;<i> The reason &lt;format&gt; is being proposed (as I understand it) is to help with 
</I>&gt;<i> migration. Once all UAs support the new types, assuming we're lucky enough 
</I>&gt;<i> to ever get there, &lt;format&gt; will no longer be useful. In the meantime, 
</I>&gt;<i> though, we will have UAs that support some types and not others.
</I>
    Where &quot;others&quot; would mean formats you can't create with the &lt;format&gt; 
element, which would be few if any. If I'm mistaken, please provide 
examples.

&gt;<i> So any 
</I>&gt;<i> solution we have has got to be able to handle that -- and ideally, without 
</I>&gt;<i> any work on the UA implementor's part, because it is the fact that the UA 
</I>&gt;<i> hasn't finished his work that leads to this problem in the first place (so 
</I>&gt;<i> we can't give him more work and expect that to address the problem).
</I>
    So what you're saying is that UA implementors are going to implement 
half of the WF2 system with regards to dates and times, but not the 
other, when they know for a fact that it will cause problems just by 
reading the specification they're implementing. So, who is this vendor 
who's not going to implement the who date/time solution, and why should 
we care if they don't, considering in all likelihood they aren't going 
to have any real marketshare to begin with?

&gt;&gt;&gt;<i>I also am not too happy about the idea of introducing an element 
</I>&gt;&gt;&gt;<i>purely for the purpose of hiding content from new UAs -- effectively 
</I>&gt;&gt;&gt;<i>deprecating the element straight away.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>It does more than just provide fallback content. For one, it provides 
</I>&gt;&gt;<i>the submission format for WF2 user agents.
</I>&gt;<i> 
</I>&gt;<i> If we were to have a way to change the submission format, it would be 
</I>&gt;<i> using an attribute on the &lt;input&gt; element. It makes no sense to have it on 
</I>&gt;<i> another element.
</I>
    Unless you want the fallback formatting hint, which you can't put in 
the |value| attribute because you may need |value| to (surprise!) put an 
actual value in it. Also, if you haven't noticed, we're creating an 
&lt;input&gt; element with so many attributes that it can easily take up three 
lines in a text editor with the word wrap turned on.

&gt;&gt;<i>Another thing is that, in theory, a WF2 UA could use the submission 
</I>&gt;&gt;<i>format as the one they display to the user, and either display the 
</I>&gt;&gt;<i>content in a manner similar to legacy clients or simply display the 
</I>&gt;&gt;<i>content text as a tooltip.
</I>&gt;<i> 
</I>&gt;<i> &quot;In theory&quot; isn't really, IMHO, good enough reason to add a whole new 
</I>&gt;<i> element at this stage in the process (if ever -- most of the elements that 
</I>&gt;<i> we added at the start of the WF2 work which were added for theoretical 
</I>&gt;<i> reasons have now been removed for practical reasons, in fact).
</I>
    The example was intended simply to show the semantic flexibility of 
&lt;format&gt;, not to justify its entire existence. As for considering ideas 
at this late stage, I was under the impression that until the 
implementation stage is reached, any valid idea would be considered. If 
not, they all you're really asking us to do is point out typos in the 
WF2 draft.

&gt;&gt;&gt;<i>Most of the JS was added at Jim's insistence, so as to degrade 
</I>&gt;&gt;&gt;<i>gracefully in UAs with two or three users. Also, the code takes care 
</I>&gt;&gt;&gt;<i>of the timezone problem (which &lt;format&gt; doesn't). It also handles 
</I>&gt;&gt;&gt;<i>hiding the format just for supported types so it works with incomplete 
</I>&gt;&gt;&gt;<i>WF2 UAs, and has graceful fallback in both WF2 and non-WF2 UAs when JS 
</I>&gt;&gt;&gt;<i>is disabled.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I was under the impression I had sent a modified version of your page 
</I>&gt;&gt;<i>that did exactly what you're talking about. (Then again, I didn't really 
</I>&gt;&gt;<i>get to test it...) And that was based on an outdated version of 
</I>&gt;&gt;<i>&lt;format&gt;.
</I>&gt;<i> 
</I>&gt;<i> It didn't handle hiding the format just for supported types, which was one 
</I>&gt;<i> of the main issues I had with your proposal.
</I>
    Again, easy to address, as shown above.

&gt;&gt;&gt;<i>I can't really see how to achieve that with &lt;format&gt;.
</I>&gt;&gt;<i>
</I>&gt;&gt;|<i> &lt;format for=&quot;time1&quot; value=&quot;%I:%M %p %z&quot;&gt;
</I>&gt;&gt;|<i>   Format: hh:mm am/pm TMZ
</I>&gt;&gt;|<i> &lt;/format&gt;
</I>&gt;<i> 
</I>&gt;<i> I hate to say this, but that's way too complicated. :-)
</I>
    I made the format string from a simple table on a webpage. The for 
is only there because &lt;format&gt; isn't inside the label. The format itself 
is complex, thus making the example appears complex. Here's military 
time without a timezone, with the &lt;format&gt; assumed to be inside the &lt;label&gt;:

|<i> &lt;format value=&quot;%H:%M&quot;&gt;Format: hh:mm&lt;/format&gt;
</I>
    Of course, that's pretty much ISO8601 time, so:

|<i> &lt;format&gt;Format: hh:mm&lt;/format&gt;
</I>
&gt;&gt;&gt;&gt;<i>2) It uses a fallback method of displaying formatting hints that 
</I>&gt;&gt;&gt;&gt;<i>forces webmasters to learn Javascript, even when they may have 
</I>&gt;&gt;&gt;&gt;<i>little or no use for it outside of the date/time formatting issue.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Not really, the code is generic and can be cut-and-pasted.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>So it's okay to make them use Javascript because someone else can do the 
</I>&gt;&gt;<i>work for them? And what happens if they have special needs your script 
</I>&gt;&gt;<i>doesn't address?
</I>&gt;<i> 
</I>&gt;<i> They don't _have_ to use the JS. If they want to, they can.
</I>
    They do if you want the &lt;input&gt; to have a value and the format hint 
hidden on WF2 clients.

&gt;<i> Certainly I don't see that providing JavaScript like in the demo is any 
</I>&gt;<i> worse than the JS people provide now to do pulldown menus, or, for that 
</I>&gt;<i> matter, any worse than asking them to understand the &lt;format&gt; example you 
</I>&gt;<i> gave above. :-)
</I>
    If you give artificially complex problems, you'll get artificially 
complex answers. The &lt;format&gt; was designed to be complex only when you 
need maximum flexibility. Note again how simple a time hint can be:

|<i> &lt;format&gt;Format: hh:mm&lt;/format&gt;
</I>
&gt;&gt;&gt;&gt;<i>3) It requires that you add the ISO8601 date and time format to your 
</I>&gt;&gt;&gt;&gt;<i>server's date/time parsing, regardless of whether you actually want 
</I>&gt;&gt;&gt;&gt;<i>people to be able to submit data to the server in that format.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>And &lt;input type=&quot;file&quot;&gt; requires that you support multipart/form-data, 
</I>&gt;&gt;&gt;<i>and using the &lt;select data=&quot;&quot;&gt; feature requires that you use a 
</I>&gt;&gt;&gt;<i>particular format, etc. I don't really see why that is a problem.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>&lt;select data=&quot;&quot;&gt; doesn't require modifying the server in any significant 
</I>&gt;&gt;<i>way. It merely requires that the file referenced in |data| be placed on 
</I>&gt;&gt;<i>the server. The &lt;input type=&quot;file&quot;&gt; element, so far as I know, is 
</I>&gt;&gt;<i>already supported. I'm not really following you here.
</I>&gt;<i> 
</I>&gt;<i> &lt;input type=&quot;file&quot;&gt; is supported _now_, but it wasn't when it was 
</I>&gt;<i> introduced.
</I>&gt;<i> 
</I>&gt;<i> Yes, supporting type=&quot;date&quot; et al will require changes on the server side. 
</I>&gt;<i> It will also require changes on the HTML side, and probably on the CSS 
</I>&gt;<i> side, and various other places. New technologies tend to require changes.
</I>
    Yeah, that's why most people power devices in their cards using 
adapters that plug into their cigarette lighters. My cell phone didn't 
require me to buy a new car.

&gt;<i> The key is that those changes can be made without making the page 
</I>&gt;<i> completely useless (as useless as IE asking you to download the file, for 
</I>&gt;<i> instance, as with XHTML), so that users with new UAs can use the file and 
</I>&gt;<i> benefit from new features, while users of legacy UAs can use the file, 
</I>&gt;<i> albeit in a sub-optimal way.
</I>
    I don't know where this is going. Are you saying that &lt;format&gt; 
doesn't degrade gracefully, and if so, how?

&gt;&gt;&gt;&gt;<i>4) On legacy user agents with Javascript disabled or unavailable, it 
</I>&gt;&gt;&gt;&gt;<i>requires the user to delete the format hint when entering a new 
</I>&gt;&gt;&gt;&gt;<i>date.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>In most UAs the current value is selected when you tab into a control, 
</I>&gt;&gt;&gt;<i>so that doesn't seem like a serious problem.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Under Windows, if you're using the mouse to click the control, and you 
</I>&gt;&gt;<i>click between characters, the text will not be highlighted, forcing the 
</I>&gt;&gt;<i>user to perform further actions to delete the text.
</I>&gt;<i> 
</I>&gt;<i> Like double-clicking before you type. True. Again, not a huge deal.
</I>
    Actually, right now clicking on the text of your Date Control Demo 
in  Firefox isn't doing anything at all to select the text. /me shrugs.

&gt;&gt;&gt;<i>Also, as you say, it's only an issue when JS is disabled.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Which is entirely possible in some environments.
</I>&gt;<i> 
</I>&gt;<i> Yes, but enough of an edge case that it shouldn't drive the development of 
</I>&gt;<i> the spec, especially not to the point of adding a new element and all its 
</I>&gt;<i> associated logic.
</I>
    Again, if the nation of WF2 is closed to immigrants, please say so.

&gt;&gt;<i>If the page says I should submit using A, but I successfully submit 
</I>&gt;&gt;<i>using Z, I might assume that I can also submit with formats B through Y.
</I>&gt;<i> 
</I>&gt;<i> Why would you even try Z? And why would it be a problem? The moment you 
</I>&gt;<i> try B or Y, it tells you it doesn't work. Where is the problem?
</I>
    Good point, other than the fact that there may be data loss in the 
process.

&gt;<i> No, I'm suggesting that supporting multiple formats is not a big problem, 
</I>&gt;<i> in case they care enough to do so. The idea behind the date inputs is to 
</I>&gt;<i> make it easier on the medium run, just like &lt;object&gt; makes things easier 
</I>&gt;<i> on the medium run; not to solve the world's data entry problems overnight.
</I>
    You still have to overcome the problem of people not wanting to 
bother with WF2 because the cost of using exceeds the anticipated 
return. Requiring server-side alteration may be what tips the scales, 
especially when webmasters already have solutions, how ever flawed they 
may be.

&gt;<i> Many sites today just have a single text entry field without even 
</I>&gt;<i> specifying the expected format (I listed some 30 or more a few months back 
</I>&gt;<i> when we last discussed this in detail). These will be immediately helped 
</I>&gt;<i> by the new input types, as the legacy case is not hurt at all, and new UAS 
</I>&gt;<i> are helped.
</I>
    Actually, the easiest date entry system I could find is the three 
&lt;select&gt;s system, which &lt;input type=&quot;date&quot;&gt; alone can't even touch. 
Plus, many of the systems that use text input supplement it with 
Javascript-based calendar widgets and the like, which will not disappear 
simply because the webmaster changed &quot;text&quot; to &quot;date&quot;.

&gt;<i> In the middle complexity range we have sites that use groups of &lt;select&gt;s. 
</I>&gt;<i> These are not likely to change to use the new types, as they don't offer a 
</I>&gt;<i> great advantage over &lt;select&gt;s. Once most deployed UAs support WF2, then 
</I>&gt;<i> medium-complexity sites like this may well start using the new date types.
</I>
    Assuming they bother to change at all. What reason do they have? If 
you have a &lt;select&gt; with values like &quot;January&quot;, and two more &lt;select&gt; 
elements with two digit and four digit numbers respectively, then the 
format is obvious to anyone familiar with our 12-month calendar. 
Changing the markup would mean changing the server, and it would also 
mean a weaker legacy solution than what they already have.

&gt;<i> At the high end of the complexity range we have people with massively 
</I>&gt;<i> complex calendar widgets. These sites mainly target only the top tier of 
</I>&gt;<i> Web browsers. Once the top tier of Web browsers support WF2, or can be 
</I>&gt;<i> made to support WF2 through JS or similar tools, then such sites could 
</I>&gt;<i> well switch to using the new inputs, which would help users that can't use 
</I>&gt;<i> non-accessible widgets like custom calendar controls.
</I>
    I don't think these sited represent the bulk of sites with date inputs.

&gt;<i> Authors of high-end sites won't switch to new features until they are 
</I>&gt;<i> quite well understood. So immediate migration is not an issue.
</I>
    True.

&gt;<i> Authors of medium-complexity sites might switch earlier, but their 
</I>&gt;<i> switching is not a big deal because their widgets are already pretty 
</I>&gt;<i> accessible.
</I>
    Unless you make it reasonably painless to convert in the midterm.

&gt;<i> Authors of low-end sites might switch as soon as tutorials are updated, 
</I>&gt;<i> which would give an immediate improvement.
</I>
    If they need tutorials, how are they going to alter their server 
scripts? ;)

&gt;<i> I don't really understand which level your &lt;format&gt; proposal is aimed at.
</I>
    The low-end mostly. However, I now prefer using my new version of 
&lt;date&gt; instead.

&gt;&gt;&gt;&gt;<i>6) It may increase the difficulty of training people to use certain 
</I>&gt;&gt;&gt;&gt;<i>web apps within a corporation, because you must train them to use a 
</I>&gt;&gt;&gt;&gt;<i>different date format on legacy and WF2 user agents.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>The Web app can easily be written to use whatever format the WF2 UA 
</I>&gt;&gt;&gt;<i>uses as its legacy format.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>You mean the server can use ISO8601 as the legacy format.
</I>&gt;<i> 
</I>&gt;<i> No, I mean the server can support ISO8601 and whatever the legacy format 
</I>&gt;<i> is, which can be explicitly set up to be whatever the WF2 UAs display, so 
</I>&gt;<i> that you don't have to train users in two different formats.
</I>
    You lost me. How does the app know what format the WF2 UAs will 
display? The whole point is that the control displays the local date format.

&gt;&gt;<i>Again, you assume that the webmasters not only have access to the server 
</I>&gt;&gt;<i>configuration and scripts, but that they themselves would want to put in 
</I>&gt;&gt;<i>that kind of work just to support WF2.
</I>&gt;<i> 
</I>&gt;<i> The amount of work we're talking about is as much as trying to understand 
</I>&gt;<i> how &lt;format&gt; works, along with debugging it when it is handled differently 
</I>&gt;<i> in different UAs, IMHO.
</I>
    So, you mean if the UA vendors screw up their implementation, it 
will take more time for the webmasters to figure out how to get around 
the bugs. The formatting is pretty straight-forward, so implementation 
bugs are the only real issue here.

[Snipped bad multiple &lt;format&gt; example.]
&gt;<i> Um... We've gone from:
</I>&gt;<i> 
</I>&gt;<i>    &lt;label&gt;New meeting date:
</I>&gt;<i>     &lt;input type=&quot;date&quot; name=&quot;meetdate&quot; value=&quot;2005-01-30&quot;&gt;
</I>&gt;<i>    &lt;/label&gt;
</I>&gt;<i> 
</I>&gt;<i> ...to a multiple-dozen line monster, just to support backwards 
</I>&gt;<i> compatibility in a case where most authors are just going to support one 
</I>&gt;<i> or the other anyway?
</I>
    That's why I like my &lt;date&gt; solution better.

&gt;<i> I'm sorry, but the extra level of complexity there is completely out of 
</I>&gt;<i> proportion with the problem you are trying to solve.
</I>
    Again, see &lt;date&gt;.

&gt;&gt;<i>But that's just it. There is no automatic support. You used JS, DOM and 
</I>&gt;&gt;<i>a &lt;span&gt; trick that's probably invalid under HTML 4.01 strict.
</I>&gt;<i> 
</I>&gt;<i> Of course it's invalid HTML4 Strict. It uses new form types.
</I>
    So &quot;&lt;span&gt;&lt;/span&gt;&quot; is valid in HTML5 Strict???

&gt;&gt;<i>A hacked solution is NOT better than a markup solution, especially if it 
</I>&gt;&gt;<i>doesn't work as soon as Javascript isn't available.
</I>&gt;<i> 
</I>&gt;<i> It does keep working, just slightly less well.
</I>
    Only in the limited confines of your example.

&gt;<i> The important thing, though, is that it doesn't rely on implementors 
</I>&gt;<i> having implemented the fallback element correctly.
</I>
    What about my system requires that? All they have to do is not use 
the |value| attribute of format, and it defaults back to ISO8601. In 
your system, however, they don't even have the option of another format, 
so you're using the fear of poorly written markup as an excuse to 
prevent new markup entirely.

&gt;<i> The point is to replace JS hacks so that in newer UAs things can work 
</I>&gt;<i> declaratively. We're specifically targetting older UAs here.
</I>&gt;<i> 
</I>&gt;<i> It's also quite clear from the Web that using JS is not a blocking problem 
</I>&gt;<i> for most authors (especially when it can be done without looking at the 
</I>&gt;<i> code and without anything breaking when JS is disabled).
</I>
    What's your point?

&gt;&gt;&gt;<i>However, I don't really see how inventing a whole new element just to 
</I>&gt;&gt;&gt;<i>have legacy UAs handled here is the way to go.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Effectively, &lt;format&gt; is the same as &lt;nodateinput&gt; (c.f. &lt;noframe&gt;). 
</I>&gt;&gt;&gt;<i>I've never been a fan of &lt;noframe&gt; (and &lt;noscript&gt;).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Not true. You can use format without any contents to simply define the 
</I>&gt;&gt;<i>submission format.
</I>&gt;<i> 
</I>&gt;<i> If that was something we wanted to address, it would be addressed by an 
</I>&gt;<i> attribute on &lt;input&gt;, not a new element (we don't have &lt;min&gt;, &lt;max&gt;, 
</I>&gt;<i> &lt;step&gt;, etc, either).
</I>
    Yes, we could drop fallback formatting hints all together and add 
one more attribute to the massive pile of attributes we already have.

&gt;&gt;<i>The contents are no different than the contents of &lt;object&gt;.
</I>&gt;<i> 
</I>&gt;<i> ...except that once you remove the submission format thing, which IMHO is 
</I>&gt;<i> trying to solve a different problem, you end up with never using the 
</I>&gt;<i> fallback in a compliant UA, and the element being effectively 
</I>&gt;<i> &lt;nodateinput&gt;.
</I>
    That depends on the UA. If they choose to use the &lt;format&gt; element's 
|<i>value| as the display format, they could still render the hint inline 
</I>or use it as a tooltip.

&gt;<i> Note that while &lt;input type=&quot;date&quot;&gt; is a significant step up from either 
</I>&gt;<i> &lt;input type=&quot;text&quot;&gt; or the complex JS-based or image-map-based calendars 
</I>&gt;<i> of today, it is _not_ a significant step up from &lt;select&gt;-based date 
</I>&gt;<i> input, at least from an accessibility point of view.
</I>
    Which is why people using &lt;select&gt; elements may never use &lt;input 
type=&quot;date&quot;&gt;...

&gt;<i> If you are concerned enough to target legacy UAs with a multi-control 
</I>&gt;<i> solution, then just use that for WF2 UAs as well.
</I>
    What happened to local date formats? If they're so unimportant, why 
not just use |pattern| to format a textbox?

&gt;&gt;<i>I notice you didn't comment on the use of &lt;date&gt;/&lt;time&gt;/&lt;datetime&gt;.
</I>&gt;<i> 
</I>&gt;<i> I think it's a good idea. It'll probably be in WA1.
</I>
    I don't think that's good enough. If you do that, WF2-compliant 
browsers that don't use WA1 may display date formats that are 
inconsistent with the local date format displayed in controls.

&gt;&gt;<i>If the users see dates/times in the &lt;input type=&quot;date&quot;&gt; control that 
</I>&gt;&gt;<i>conflict with their native date/time formats, won't that cause 
</I>&gt;&gt;<i>confusion?
</I>&gt;<i> 
</I>&gt;<i> I don't follow.
</I>
    If you have &quot;01/05/05&quot; in a paragraph just before a date control 
with &quot;05/01/05&quot;, where both dates are 2005-01-05, you wouldn't find that 
confusing?

&gt;&gt;|<i>   The meeting is currently being held on
</I>&gt;&gt;|<i>   &lt;date value=&quot;2005-01-30&quot;&gt;January 30, 2005&lt;/date&gt;
</I>&gt;&gt;|<i>   at &lt;time value=&quot;11:00:00.0Z&quot;&gt;11:00 PM&lt;/time&gt;.
</I>&gt;<i> 
</I>&gt;<i> That seems fine.
</I>&gt;<i> 
</I>&gt;&gt;|<i> &lt;form&gt;
</I>&gt;&gt;|<i> &lt;label for=&quot;meetdate&quot;&gt;New Meeting Date: &lt;/label&gt;
</I>&gt;&gt;|<i> &lt;input type=&quot;date&quot; id=&quot;meetdate&quot; name=&quot;meetdate&quot; value=&quot;01/30/2005&quot;
</I>&gt;&gt;|<i> min=&quot;2005-01-25&quot; max=&quot;2006-01-30&quot;&gt;
</I>&gt;&gt;|<i> &lt;format for=&quot;meetdate&quot; value=&quot;%m/%d/%Y&quot;&gt;Format: mm/dd/yyyy&lt;/format&gt;
</I>&gt;&gt;|<i>
</I>&gt;&gt;|<i> &lt;label for=&quot;meettime&quot;&gt;New Meeting Time: &lt;/label&gt;
</I>&gt;&gt;|<i> &lt;input type=&quot;time&quot; id=&quot;meettime&quot; name=&quot;meettime&quot; value=&quot;11:00 AM&quot;&gt;
</I>&gt;&gt;|<i> &lt;format for=&quot;meettime&quot; value=&quot;%I:%M %p&quot;&gt;Format: hh:mm AM/PM&lt;/format&gt;
</I>&gt;&gt;|<i> &lt;/form&gt;
</I>&gt;<i> 
</I>&gt;<i> Having value be in a different format that min and max seems confusing. 
</I>&gt;<i> Having value not be in a single standard format seems bad (e.g. for 
</I>&gt;<i> automated validation, not to mention implementation).
</I>
    This is a byproduct of using the element for both WF2 markup AND 
legacy markup, which is why I now like my new &lt;date&gt; better.

&gt;&gt;<i>So, really, we just need to specify in the formatting hint that the 
</I>&gt;&gt;<i>meeting time is Norway local time.
</I>&gt;<i> 
</I>&gt;<i> Meetings should be scheduled with input=&quot;datetime&quot;, not separate date and 
</I>&gt;<i> time controls.
</I>
    Fair enough.

&gt;&gt;|<i> &lt;dateinput id=&quot;date&quot; value=&quot;2005-01-30&quot;&gt;
</I>&gt;&gt;|<i>  &lt;range min=&quot;2005-01-25&quot; max=&quot;2006-01-25&quot;&gt;
</I>&gt;&gt;|<i>  &lt;submit name=&quot;month&quot; format=&quot;%m&quot;&gt;
</I>&gt;&gt;|<i>  &lt;submit name=&quot;day&quot; format=&quot;%d&quot;&gt;
</I>&gt;&gt;|<i>  &lt;submit name=&quot;year&quot; format=&quot;%Y&quot;&gt;
</I>&gt;&gt;|<i>  &lt;!-- Fallback content --&gt;
</I>&gt;&gt;|<i> &lt;/dateinput&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   Or, for WF2-only solutions:
</I>&gt;&gt;<i>
</I>&gt;&gt;|<i> &lt;dateinput id=&quot;date&quot; value=&quot;2005-01-30&quot;&gt;
</I>&gt;&gt;|<i>  &lt;range min=&quot;2005-01-25&quot; max=&quot;2006-01-25&quot;&gt;
</I>&gt;&gt;|<i>  &lt;submit name=&quot;date&quot;&gt;
</I>&gt;&gt;|<i> &lt;/dateinput&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>This provides PERFECT fallback content, and lacks most of the 
</I>&gt;&gt;<i>disadvantages of &lt;object&gt; while having all its strengths. In fact, I've 
</I>&gt;&gt;<i>half talked myself into using this format just having typed it right 
</I>&gt;&gt;<i>now...
</I>&gt;<i> 
</I>&gt;<i> ...or, in current WF2:
</I>&gt;<i> 
</I>&gt;<i>    &lt;input type=&quot;date&quot; value=&quot;2005-01-30&quot; min=&quot;2005-01-25&quot; max=&quot;2006-01-25&quot; 
</I>&gt;<i>           name=&quot;date&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> ...with no fallback apart from a text field prefilled with a date in the 
</I>&gt;<i> expected format.
</I>&gt;<i> 
</I>&gt;<i> Let's please keep things at least somewhat simple.
</I>
    Your example isn't entirely the comparable:

|<i> &lt;input id=&quot;date&quot; type=&quot;date&quot; value=&quot;2005-01-30&quot; min=&quot;2005-01-25&quot;
</I>|<i>        max=&quot;2006-01-25&quot; name=&quot;date&quot;&gt;
</I>
    If you drop the |id| and use my new &lt;date&gt;, you get this:

|<i> &lt;date id=&quot;date&quot; value=&quot;2005-01-30&quot; min=&quot;2005-01-25&quot; max=&quot;2006-01-25&quot;&gt;
</I>|<i>  &lt;submit name=&quot;date&quot;&gt;
</I>|<i>  &lt;input id=&quot;date1&quot; name=&quot;date&quot; value=&quot;2005-01-30&quot;&gt;
</I>|<i> &lt;/date&gt;
</I>
    Considering it has ALL the values of your &lt;input&gt; and can produce 
identical legacy code with minimal additional markup, it doesn't really 
look that complex to me. Drop the goodies and you get this:

|<i> &lt;date value=&quot;2005-01-30&quot;&gt;
</I>|<i>  &lt;submit name=&quot;date&quot;&gt;
</I>|<i>  &lt;input name=&quot;date&quot; value=&quot;2005-01-30&quot;&gt;
</I>|<i> &lt;/date&gt;
</I>
    Is this to complicated compared to the likes of &lt;object&gt;?

&gt;&gt;<i>Here's where we make a hard left turn into the Twilight Zone. Suppose, 
</I>&gt;&gt;<i>simply by adding a special &lt;submit&gt; child element, you can turn mild 
</I>&gt;&gt;<i>mannered &lt;date&gt; into a full-blown date control:
</I>&gt;&gt;<i>
</I>&gt;&gt;|<i> &lt;label&gt;Event Date: &lt;date&gt;&lt;submit name=&quot;date&quot;&gt;2005-01-30&lt;/date&gt;&lt;/label&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>So if you wanted a date control with ISO8601-compliant fallback content, 
</I>&gt;&gt;<i>you'd do this:
</I>&gt;&gt;<i>
</I>&gt;&gt;|<i> &lt;label&gt;Event Date:
</I>&gt;&gt;|<i>  &lt;date value=&quot;2005-01-30&quot;&gt;
</I>&gt;&gt;|<i>   &lt;submit name=&quot;date&quot;&gt;
</I>&gt;&gt;|<i>   &lt;input name=&quot;date&quot; value=&quot;2005-01-30&quot;&gt;&lt;br&gt;(Format: yyyy-mm-dd)
</I>&gt;&gt;|<i>  &lt;/date&gt;
</I>&gt;&gt;|<i> &lt;/label&gt;
</I>&gt;<i> 
</I>&gt;<i> This means authors _must_ think of fallback content, instead of the form 
</I>&gt;<i> control just turning into a text field when the author forgot about the 
</I>&gt;<i> users stuck with old browsers.
</I>
    Dude! This is the fallback for the above example they need to make 
it AT LEAST as powerful as &lt;input type=&quot;date&quot;&gt;:

|<i>  &lt;input name=&quot;date&quot; value=&quot;2005-01-30&quot;&gt;
</I>
    And what if there is no need for an |id| or default |value|?

|<i>  &lt;input name=&quot;date&quot;&gt;
</I>
    And the difference here is that while the HTML4 spec doesn't define 
the type of an &lt;input&gt; with an invalid |type| attribute, it does define 
it for when there is no |type|: &quot;text&quot;. If the UA drops &lt;input&gt; elements 
with |type| attributes it can't identify, your solution won't even work 
it that UA, in spite of the fact that it might be a perfectly compliant 
HTML4 browser.

&gt;<i> It also means using at least two elements over three tags instead of just 
</I>&gt;<i> one with a couple of attributes.
</I>
    Considering it does significantly more, including definition of 
format, the ability to send multiple values to the server and perfect 
legacy markup, why should this be a surprise?

&gt;&gt;<i>PROS:
</I>&gt;&gt;<i>* A single element is used for all dates/times in all circumstances.
</I>&gt;<i> 
</I>&gt;<i> I don't see why it's a good thing that inputs and outputs share one 
</I>&gt;<i> element. (I originally had &lt;input type=&quot;output&quot;&gt;, which would have had 
</I>&gt;<i> better backwards-compatibility, but now WF2 has &lt;output&gt; because 
</I>&gt;<i> fundamentally the two things are different, even if one would be better 
</I>&gt;<i> for back-compat.)
</I>
    So long as inputs have initial values, they're outputs as well. 
Besides, when something says &quot;date&quot;, you know it's associated with date. 
  When something says &quot;input&quot;, would you associate that with &quot;output&quot;. 
It's a contradiction. If the inputs and outputs are all dates, then 
&quot;date&quot; isn't a contradiction, an you can tell them apart just by looking 
for &lt;submit&gt;.

&gt;&gt;<i>* Near perfect graceful degradation, especially when you want multiple 
</I>&gt;&gt;<i>legacy controls.
</I>&gt;<i> 
</I>&gt;<i> Only if the author thinks about it. Otherwise you input control either 
</I>&gt;<i> disappears or gets rendered as only text in legacy UAs.
</I>
    Exactly the same scenario with &lt;object&gt;. However, as I have shown, 
one simple line of legacy markup provides the same functionality as 
&lt;input type=&quot;date&quot;&gt;, so what you're really talking about is your fear 
that webmasters will intentionally screw legacy clients, and that would 
only really happen if WF2, and &lt;date&gt; by association, became popular 
enough to gain marketshare.

&gt;&gt;<i>* Submission formatting for the server is highly flexible, eliminating 
</I>&gt;&gt;<i>the need for changes to the server to accommodate WF2 in most cases.
</I>&gt;<i> 
</I>&gt;<i> I'm not convinced that's a problem that needs solving.
</I>
    Others are not as convinced (including me). Your solution doesn't 
solve the three legacy &lt;select&gt; controls problem. It requires server 
alteration. It doesn't provide effective formatting hints. My solution 
solves ALL of these problems.

&gt;&gt;<i>CONS:
</I>&gt;&gt;<i>* Not quite as simple as &lt;input type=&quot;date&quot;&gt;.
</I>&gt;<i> 
</I>&gt;<i> This is, IMHO, a big problem. The current solution allows type=&quot;text&quot; to 
</I>&gt;<i> be changed to type=&quot;date&quot; easily, to address usability issues on low-end 
</I>&gt;<i> sites very quickly.
</I>
    Look at my examples. If you remove the WF2-specific stuff, half the 
work is typing &quot;&lt;date&gt;&lt;submit&gt;&lt;/date&gt;&quot; and the other half is cutting and 
pasting from the old &lt;input&gt;:

|<i> &lt;date&gt;
</I>|<i>  &lt;submit&gt;
</I>|<i> &lt;/date&gt;
</I>
    ...plus...

|<i> &lt;input type=&quot;text&quot; name=&quot;date&quot; value=&quot;2005-01-30&quot;&gt;
</I>
    ...equals...

|<i> &lt;date value=&quot;2005-01-30&quot;&gt;
</I>|<i>  &lt;submit name=&quot;date&quot;&gt;
</I>|<i>  &lt;input name=&quot;date&quot; value=&quot;2005-01-30&quot;&gt;
</I>|<i> &lt;/date&gt;
</I>
    You could write a macro to do this! Furthermore, supporting an 
existing legacy solution is cut-and-paste. The single hardest part is 
the |format| attribute, and that's only to avoid altering server-side 
scripting. And how would you do date selection for a list of dates where 
you want the dates displayed in the local format?

|<i> &lt;label&gt;Event Date:
</I>|<i>  &lt;date list=&quot;datelist&quot;&gt;&lt;submit name=&quot;date&quot;&gt;&lt;/date&gt;
</I>|<i>  &lt;datalist id=&quot;datelist&quot;&gt;
</I>|<i>   &lt;select name=&quot;date&quot;&gt;
</I>|<i>    &lt;option selected&gt;2005-01-28&lt;/option&gt;
</I>|<i>    &lt;option&gt;2005-01-29&lt;/option&gt;
</I>|<i>    &lt;option&gt;2005-01-30&lt;/option&gt;
</I>|<i>   &lt;/select&gt;
</I>|<i>  &lt;/datalist&gt;
</I>|<i> &lt;/label&gt;
</I>
    Versus your solution:

|<i> &lt;label for=&quot;date&quot;&gt;Event Date:&lt;/label&gt;
</I>|<i> &lt;input id=&quot;date&quot; type=&quot;date&quot; name=&quot;date&quot; list=&quot;datelist&quot;&gt;
</I>|<i> &lt;datalist id=&quot;datelist&quot;&gt;
</I>|<i>  &lt;select name=&quot;date&quot;&gt;
</I>|<i>   &lt;option selected&gt;2005-01-28&lt;/option&gt;
</I>|<i>   &lt;option&gt;2005-01-29&lt;/option&gt;
</I>|<i>   &lt;option&gt;2005-01-30&lt;/option&gt;
</I>|<i>  &lt;/select&gt;
</I>|<i> &lt;/datalist&gt;
</I>
    Nearly the same amount of markup, but my solution degrades to a 
&lt;select&gt;, whereas yours degrades to a &lt;select&gt; and an &lt;input&gt; with the 
&lt;label&gt; being associated with the textbox and not the &lt;select&gt;.

    Try any other problem of significant complexity and you run into a 
similar scenario: &lt;input type=&quot;date&quot;&gt; can't compare to &lt;date&gt;.
</PRE>





<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003021.html">[whatwg] Re: several messages
</A></li>
	<LI>Next message: <A HREF="003023.html">[whatwg] Re: several messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3022">[ date ]</a>
              <a href="thread.html#3022">[ thread ]</a>
              <a href="subject.html#3022">[ subject ]</a>
              <a href="author.html#3022">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg-whatwg.org
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
