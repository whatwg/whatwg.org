<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Is there any reason for the continued existence of enctype attribute at the form element
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Is%20there%20any%20reason%20for%20the%20continued%20existence%20of%0A%20enctype%20attribute%20at%20the%20form%20element&In-Reply-To=%3C4AD1BA85.4050701%40marksw.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065729.html">
   <LINK REL="Next"  HREF="065733.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Is there any reason for the continued existence of enctype attribute at the form element</H1>
<!--htdig_noindex-->
    <B>Mark Kaplun</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Is%20there%20any%20reason%20for%20the%20continued%20existence%20of%0A%20enctype%20attribute%20at%20the%20form%20element&In-Reply-To=%3C4AD1BA85.4050701%40marksw.com%3E"
       TITLE="[whatwg] Is there any reason for the continued existence of enctype attribute at the form element">mark at marksw.com
       </A><BR>
    <I>Sun Oct 11 03:59:17 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="065729.html">[whatwg] Is there any reason for the continued existence of enctype attribute at the form element
</A></li>
        <LI>Next message: <A HREF="065733.html">[whatwg] Is there any reason for the continued existence of enctype attribute at the form element
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65730">[ date ]</a>
              <a href="thread.html#65730">[ thread ]</a>
              <a href="subject.html#65730">[ subject ]</a>
              <a href="author.html#65730">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> On Mon, 5 Oct 2009, Mark Kaplun wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> I have only learned now that there is a &quot;text/plain&quot; option that I have 
</I>&gt;&gt;<i> never heard of, so maybe I'm wrong, but my impression is that there are 
</I>&gt;&gt;<i> only two forms of form, a textual and a file upload. IMHO the browser 
</I>&gt;&gt;<i> can inspect the form before submitting it and decide by itself what is 
</I>&gt;&gt;<i> the correct encoding to use.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can the use of this attribute be deprecated, be valid only for backward 
</I>&gt;&gt;<i> compatibility?
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> On Mon, 5 Oct 2009, Boris Zbarsky wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> You can use multipart/form-data with a form that doesn't include any 
</I>&gt;&gt;<i> file uploads (and people do this).  Presumably they might have reasons 
</I>&gt;&gt;<i> for this (e.g. they happen to have a sane multipart MIME parsing library 
</I>&gt;&gt;<i> and don't want to deal with the url-encoding mess the 
</I>&gt;&gt;<i> application/x-www-form-urlencoded option produces.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> On Tue, 6 Oct 2009, Mark Kaplun wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Fair enough. Can the spec be changed in regard to the default encoding, 
</I>&gt;&gt;<i> and make it depend on the content of the form instead of being 
</I>&gt;&gt;<i> application/x-www-form-urlencoded, and then like today, the enctype 
</I>&gt;&gt;<i> attribute can be used to override the default encoding?
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> While I agree that it is probably an authoring error if the author 
</I>&gt;<i> included a type=file control on a page with the default enctype, I don't 
</I>&gt;<i> think the magic of changing the default in that case would help authors on 
</I>&gt;<i> the long run. Consider, for instance, an author who sets up his form with 
</I>&gt;<i> a file upload control, gets everything working, and then decides to remove 
</I>&gt;<i> the file upload control because they don't actually use it, or because 
</I>&gt;<i> it's optional and they want a script to add it dynamically. They might 
</I>&gt;<i> find that suddenly their form doesn't work, but as far as they are 
</I>&gt;<i> concerned all they did was remove a form control that wasn't used in the 
</I>&gt;<i> first place.
</I>&gt;<i>
</I>&gt;<i> I think this would be too confusing.
</I>&gt;<i>
</I>&gt;<i>   
</I>I think that in practice no one is writing his own mime handling 
routines to handle the data in a post message, and people just use a 
framework which handles it for them. I am familiar with the way PHP 
handles posts and I know that for the PHP code the mime type is handled 
by PHP itself and you don't care about it in your code. In your example 
the form will work, because the server code never did any assumptions on 
the mime type.

I don't know enough about other server languages but I would assume that 
handling the post mime type automagically is one of the basic candies 
that every modern server language provides.

Maybe I should have started with an example where the current behavior 
hurts:
I am developing plugins and themes for wordpress. An often requested 
feature is to have an image associate with a post/category/whatever. 
Worpress has a plugin api and I can use it to add fields to admin forms, 
so in theory I just need to add a file input. The problem is that all of 
the admin except for one are textual and do not specify an enctype, and 
therefor I have to add some JS code to change the enctype on the client 
side, or develop some pointless buffering and string replacement to set 
the correct enctype.



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065729.html">[whatwg] Is there any reason for the continued existence of enctype attribute at the form element
</A></li>
	<LI>Next message: <A HREF="065733.html">[whatwg] Is there any reason for the continued existence of enctype attribute at the form element
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65730">[ date ]</a>
              <a href="thread.html#65730">[ thread ]</a>
              <a href="subject.html#65730">[ subject ]</a>
              <a href="author.html#65730">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
