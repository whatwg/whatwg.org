<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] The new content model for &lt;details&gt; breaks rendering	in MSIE5-7
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20new%20content%20model%20for%20%3Cdetails%3E%20breaks%20rendering%0A%09in%20MSIE5-7&In-Reply-To=%3CPine.LNX.4.62.0910140046570.25383%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023551.html">
   <LINK REL="Next"  HREF="023583.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] The new content model for &lt;details&gt; breaks rendering	in MSIE5-7</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20new%20content%20model%20for%20%3Cdetails%3E%20breaks%20rendering%0A%09in%20MSIE5-7&In-Reply-To=%3CPine.LNX.4.62.0910140046570.25383%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] The new content model for &lt;details&gt; breaks rendering	in MSIE5-7">ian at hixie.ch
       </A><BR>
    <I>Tue Oct 13 20:41:02 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="023551.html">[whatwg] Feature requests in WebSocket
</A></li>
        <LI>Next message: <A HREF="023583.html">[whatwg] The new content model for &lt;details&gt; breaks	rendering	in MSIE5-7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23577">[ date ]</a>
              <a href="thread.html#23577">[ thread ]</a>
              <a href="subject.html#23577">[ subject ]</a>
              <a href="author.html#23577">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Tue, 29 Sep 2009, Keryx Web wrote:
&gt;<i> 2009-09-29 19:10, Dean Edwards skrev:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; There is a nasty side effect though. As you mentioned the 
</I>&gt;<i> &gt; document.write() should be the last thing in the &lt;head&gt;. If there are 
</I>&gt;<i> &gt; any scripts following the document.write() then they are *not 
</I>&gt;<i> &gt; executed*. I consider this a serious drawback. With server software 
</I>&gt;<i> &gt; generating script elements all over the place there are bound to be 
</I>&gt;<i> &gt; problems with this technique. It would be nice to find a better 
</I>&gt;<i> &gt; solution.
</I>&gt;<i> 
</I>&gt;<i> I consider this a deal breaker. Fragile and unintuitive hacks, that 
</I>&gt;<i> really no one knows or can explain why they work, is NOT the kind of 
</I>&gt;<i> things we should rely on when pushing for HTML5.
</I>
On Tue, 29 Sep 2009, Dean Edwards wrote:
&gt;<i> 
</I>&gt;<i> You have two choices to get around the &lt;dd&gt; rendering bug:
</I>&gt;<i> 
</I>&gt;<i> 1. The potentially dangerous document.write()
</I>&gt;<i> 
</I>&gt;<i> 2. Inserting weird conditional comments into your code:
</I>&gt;<i> 
</I>&gt;<i>     &lt;/head&gt;
</I>&gt;<i>      &lt;!--[if lt IE 8]&gt;&lt;object&gt;&lt;!&lt;![endif]--&gt;
</I>&gt;<i>     &lt;body&gt;
</I>&gt;<i> 
</I>&gt;<i> I don't like either solution.
</I>
On Tue, 29 Sep 2009, Tab Atkins Jr. wrote:
&gt;<i> 
</I>&gt;<i> The third solution, of course, is just to avoid &lt;details&gt; until IE7 
</I>&gt;<i> shrinks sufficiently to be ignored.  That won't take too much longer, 
</I>&gt;<i> and then you can start using it with impunity (aided by a js shim to 
</I>&gt;<i> give it functionality in the browsers that accept it but don't implement 
</I>&gt;<i> it yet).
</I>&gt;<i> 
</I>&gt;<i> This whole thing is really much less of an issue than the &lt;legend&gt; 
</I>&gt;<i> problems were, where you'd have to wait for *every* current browser to 
</I>&gt;<i> phase out, as opposed to just two that are already declining nicely.
</I>&gt;<i> 
</I>&gt;<i> After all, we're already happy enough using &lt;div&gt;s or &lt;dl&gt;s or whatever 
</I>&gt;<i> to implement that functionality.  It would be nice to immediately start 
</I>&gt;<i> using the new stuff, but the timeline for when it's viable isn't so long 
</I>&gt;<i> as to be unworkable.  In the meantime, we just keep doing what we're 
</I>&gt;<i> already doing.
</I>
Indeed.


On Tue, 29 Sep 2009, Dean Edwards wrote:
&gt;<i> 
</I>&gt;<i> It's going to take a while for IE7 to go away. In the meantime it 
</I>&gt;<i> becomes an education issue -- &quot;You can start using HTML5 except 
</I>&gt;<i> &lt;details&gt; which will look OK in some browsers but completely break 
</I>&gt;<i> others.&quot;
</I>
...and except for &lt;canvas&gt; which will be slow or not work in IE for the 
forseeable future, and the drag and drop model's &quot;draggable&quot; attribute 
which will only work in new browsers, or the new controls which will look 
like text fields in legacy UAs, or... how is &lt;details&gt; different?


&gt;<i> Can't we just invent some new elements? We've already created 20 new 
</I>&gt;<i> ones. Two more won't hurt. :)
</I>
We have more than a dozen elements whose names would be appropriate here. 
Inventing entirely new elements to do the same thing again just to work 
around a very short-term problem is just silly.


On Sat, 3 Oct 2009, Dean Edwards wrote:
&gt;<i> 
</I>&gt;<i> That's the whole point of this thread. We are specifying something that 
</I>&gt;<i> won't be usable for years. Let's make the spec better so that we can use 
</I>&gt;<i> &lt;details&gt; sooner.
</I>
Just spell it &lt;div&gt; and don't worry about it for now.

I really don't understand the sudden urgency here. All the browsers 
support this in their current versions to the same extent that they 
support, say, &lt;section&gt;; the only problem is obsolete browsers. If this is 
the biggest problem that you're worried about in terms of HTML5 
deployment, then my job here is done.


On Sat, 3 Oct 2009, Tab Atkins Jr. wrote:
&gt;<i> 
</I>&gt;<i> If we mint a new element, we pay the costs of adding yet another 
</I>&gt;<i> vaguely-heading element to add to the dozen+ we already have in the 
</I>&gt;<i> language, and what's the benefit?  IE6 and IE7 will require a less 
</I>&gt;<i> invasive hack to get them to the same level of not-working that all the 
</I>&gt;<i> other browsers have.
</I>
Indeed.


On Sat, 3 Oct 2009, Keryx Web wrote:
&gt;<i> 
</I>&gt;<i> The IE6/7 problem is not the only one. A number of people, myself 
</I>&gt;<i> included, have expressed dissatisfaction from a semantic and 
</I>&gt;<i> teachability viewpoint.
</I>&gt;<i> 
</I>&gt;<i> It is not better to let dt/dd have three (or perhaps 2) different 
</I>&gt;<i> meanings, and different syntactic rules depending upon the parent 
</I>&gt;<i> element than it would be to have 2 more elements.
</I>
I'd really like to use &lt;caption&gt;, but that's a lost cause.

I would prefer to use &lt;legend&gt;, but people had even more short-term 
troubles with that than with &lt;dt&gt;/&lt;dd&gt;.

If we're willing to wait, then I think the right solution is to drop 
&lt;details&gt; and &lt;figure&gt; for now and add them in later again with &lt;legend&gt;.

But apparently there is so much demand that waiting a few more years isn't 
an option.


On Sun, 4 Oct 2009, Keryx Web wrote:
&gt;<i> 
</I>&gt;<i> First and foremost, in &lt;dl&gt; the order is all important. Here it would 
</I>&gt;<i> not matter.
</I>&gt;<i> 
</I>&gt;<i> In &lt;dl&gt; one may have several &lt;dd&gt; for each &lt;dt&gt; (or several &lt;dt&gt;'s in a 
</I>&gt;<i> row), here one may not.
</I>&gt;<i> 
</I>&gt;<i> You call this &quot;minor&quot;, I say confusing. But we have in fact created a 
</I>&gt;<i> new syntax - why is that better than creating new elements?
</I>
It's less bad, in that it reduces the number of elements being have to 
consider when trying to remember how you mark up the legend/caption of a 
&lt;details&gt; element.

I agree that an element like &lt;caption&gt; or &lt;legend&gt; would be better.


&gt;<i> I am arguing in favor of introducing a new element, which would be the 
</I>&gt;<i> zero cost solution, since &lt;details&gt; is new anyway.
</I>
New elements are not zero cost.


On Sun, 4 Oct 2009, Tab Atkins Jr. wrote:
&gt;<i> 
</I>&gt;<i> It's not a zero-cost solution, though.  It introduces *another* nearly 
</I>&gt;<i> identical heading-type element to the language, joining the ranks of the 
</I>&gt;<i> dozen+ we already have.  Trying to remember what heading-type element to 
</I>&gt;<i> use in &lt;details&gt; as opposed to in &lt;fieldset&gt; or what-have-you is a 
</I>&gt;<i> learning nightmare of a different variety.
</I>
Indeed. In addition it is more &quot;bloat&quot; in browsers -- every element means 
a new interface mapping, potentially more parsing code, etc.


On Sun, 4 Oct 2009, Dean Edwards wrote:
&gt;<i> 
</I>&gt;<i> MSIE5-7 usage is currently between 25% and 30%. It will take a number of 
</I>&gt;<i> years before it becomes insignificant.
</I>
HTML5's impact should be viewed on the timescale of decades. A few years 
is nothing.


As far as I can see the options are as follows:

 1. Drop support for &lt;details&gt; and &lt;figure&gt; for now, revisit it later.

 2. Use &lt;legend&gt;, and don't expect to be able to use it in any browsers 
    sanely for a few years.

 3. Use &lt;dt&gt;/&lt;dd&gt;, and don't expect to be able to use it in old versions 
    of IE without rather complicated and elaborate hacks for a few years.

 4. Invent a new element with a weird name (since all the good names are 
    taken already), and don't expect to be able to use it in IE without 
    hacks for a few years.

I am not convinced of the wisdom of #4. I prefer #2 long term, but I see 
the argument for #3.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>

















































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023551.html">[whatwg] Feature requests in WebSocket
</A></li>
	<LI>Next message: <A HREF="023583.html">[whatwg] The new content model for &lt;details&gt; breaks	rendering	in MSIE5-7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23577">[ date ]</a>
              <a href="thread.html#23577">[ thread ]</a>
              <a href="subject.html#23577">[ subject ]</a>
              <a href="author.html#23577">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
