<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Sockets API &#8212; send() with closed connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3D%3Futf-8%3Fq%3FWeb_Sockets_API_%3DE2%3D80%3D94_send%3D28%3D29_with_clos%3F%3D%0A%09%3D%3Futf-8%3Fq%3Fed_connections%3F%3D&In-Reply-To=%3C5c02bc4e0910251012l619a1274t240cf24662ee4679%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066095.html">
   <LINK REL="Next"  HREF="066105.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Sockets API &#8212; send() with closed connections</H1>
<!--htdig_noindex-->
    <B>Avi Flax</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3D%3Futf-8%3Fq%3FWeb_Sockets_API_%3DE2%3D80%3D94_send%3D28%3D29_with_clos%3F%3D%0A%09%3D%3Futf-8%3Fq%3Fed_connections%3F%3D&In-Reply-To=%3C5c02bc4e0910251012l619a1274t240cf24662ee4679%40mail.gmail.com%3E"
       TITLE="[whatwg] Web Sockets API &#8212; send() with closed connections">avif at arc90.com
       </A><BR>
    <I>Sun Oct 25 10:12:45 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="066095.html">[whatwg] [html5] r4288 - [cgiowt] (2) Change for &lt;form&gt; is parsed in &lt;table&gt;. Fixing http://www.w3.org/Bu [...]
</A></li>
        <LI>Next message: <A HREF="066105.html">[whatwg] Web Sockets API &#8212; send() with closed connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66094">[ date ]</a>
              <a href="thread.html#66094">[ thread ]</a>
              <a href="subject.html#66094">[ subject ]</a>
              <a href="author.html#66094">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>My apologies if this has been answered before; I searched the list and
found some similar questions but no answers.

I just read the latest draft of this API, and it's great, very exciting.

Just one thing struck me as odd: calling send(data) on a&#160;WebSocket
whose readyState is CONNECTING raises an INVALID_STATE_ERR exception,
but calling send(data) on a WebSocket whose readyState is CLOSED does
not raise an exception; it merely returns false.

This is confusing to me; I would think that a WebSocket which is in
the process of connecting is in an invalid state for sending data,
then one which has closed its connection is also in an invalid state
for sending data.

I'd really appreciate it if someone could explain the rationale for
this to me. And I might also suggest that calling send(data) on a
WebSocket whose readyState is CLOSED _should_ raise an exception &#8212;&#160;but
I should probably wait to see first what thinking has already gone
into this &#8212; I'm sure brighter minds than I have thought this through.

Thanks!

Avi

--
Avi Flax &#187; Partner &#187; Arc90 &#187; <A HREF="http://arc90.com">http://arc90.com</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066095.html">[whatwg] [html5] r4288 - [cgiowt] (2) Change for &lt;form&gt; is parsed in &lt;table&gt;. Fixing http://www.w3.org/Bu [...]
</A></li>
	<LI>Next message: <A HREF="066105.html">[whatwg] Web Sockets API &#8212; send() with closed connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66094">[ date ]</a>
              <a href="thread.html#66094">[ thread ]</a>
              <a href="subject.html#66094">[ subject ]</a>
              <a href="author.html#66094">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
