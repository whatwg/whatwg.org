<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Issues with Web Sockets API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Issues%20with%20Web%20Sockets%20API&In-Reply-To=%3CE98FB05F-0DC4-4F55-9F2D-64C51C707D02%40webkit.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065820.html">
   <LINK REL="Next"  HREF="065967.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Issues with Web Sockets API</H1>
<!--htdig_noindex-->
    <B>Alexey Proskuryakov</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Issues%20with%20Web%20Sockets%20API&In-Reply-To=%3CE98FB05F-0DC4-4F55-9F2D-64C51C707D02%40webkit.org%3E"
       TITLE="[whatwg] Issues with Web Sockets API">ap at webkit.org
       </A><BR>
    <I>Wed Oct 14 13:27:11 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="065820.html">[whatwg] Issues with Web Sockets API
</A></li>
        <LI>Next message: <A HREF="065967.html">[whatwg] Issues with Web Sockets API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65886">[ date ]</a>
              <a href="thread.html#65886">[ thread ]</a>
              <a href="subject.html#65886">[ subject ]</a>
              <a href="author.html#65886">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
13.10.2009, &#1074; 4:11, Ian Hickson &#1085;&#1072;&#1087;&#1080;&#1089;&#1072;&#1083;(&#1072;):

&gt;&gt;<i> Is this meant to mimic some behavior that existing clients have for  
</I>&gt;&gt;<i> HTTP
</I>&gt;&gt;<i> already?
</I>&gt;<i>
</I>&gt;<i> Yes, as it says, the idea is for UAs to send the same headers they  
</I>&gt;<i> would
</I>&gt;<i> send if the protocol had been HTTP.
</I>
For HTTP, this depends on authentication scheme in use. For Basic and  
Digest authentication in particular, clients are allowed to make  
certain assumptions about protection spaces: &quot;A client MAY  
preemptively send the corresponding Authorization header with requests  
for resources in that space without receipt of another challenge from  
the server.&quot;

I don't think the Web Sockets protocol is sufficiently similar to HTTP  
to defer to RFC 2617 or other HTTP specs here. Also, implementing  
&quot;just support the same authentication mechanisms you do for HTTP&quot; is a  
tall order, since HTTP back-ends don't (always?) expose the necessary  
APIs for encryption.

&gt;&gt;&gt;<i> If /code/, interpreted as ASCII, is &quot;401&quot;, then let /mode/ be
</I>&gt;&gt;&gt;<i> _authenticate_. Otherwise, fail the Web Socket connection and  
</I>&gt;&gt;&gt;<i> abort these
</I>&gt;&gt;&gt;<i> steps.
</I>&gt;&gt;<i> 407 (proxy authenticate) also likely needs to be supported.
</I>&gt;<i>
</I>&gt;<i> Proxies wouldn't work with WebSockets in general.
</I>
Could you please elaborate? I thought there was a setup that could  
work with most deployed HTTPS proxies - one could run WebSockets  
server on port 443.

A feature that doesn't work behind proxies suddenly makes a lot less  
sense - one could use it to control a toy railroad over intranet, but  
do other use cases survive?

&gt;&gt;<i> Some authentication schemes (e.g. NTLM) work on connection basis,  
</I>&gt;&gt;<i> so I
</I>&gt;&gt;<i> don't think that closing the connection right after receiving a
</I>&gt;&gt;<i> challenge can work with them.
</I>&gt;<i>
</I>&gt;<i> Yeah, that's quite possible.
</I>

Is this something you plan to correct in the spec?

If practical uses of Web Sockets are all going to be over SSL (for  
proxy compatibility reasons), then even Basic auth seems ok for many  
cases, but NTLM still has important benefits over it. The primary  
benefit I'm aware of is that passwords don't need to be stored on the  
server.

- WBR, Alexey Proskuryakov


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065820.html">[whatwg] Issues with Web Sockets API
</A></li>
	<LI>Next message: <A HREF="065967.html">[whatwg] Issues with Web Sockets API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65886">[ date ]</a>
              <a href="thread.html#65886">[ thread ]</a>
              <a href="subject.html#65886">[ subject ]</a>
              <a href="author.html#65886">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
