<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Navigation events generated during unload
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Navigation%20events%20generated%20during%20unload&In-Reply-To=%3C7789133a0910051758i3d025313q3462e937c7c1e623%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065588.html">
   <LINK REL="Next"  HREF="065591.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Navigation events generated during unload</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Navigation%20events%20generated%20during%20unload&In-Reply-To=%3C7789133a0910051758i3d025313q3462e937c7c1e623%40mail.gmail.com%3E"
       TITLE="[whatwg] Navigation events generated during unload">whatwg at adambarth.com
       </A><BR>
    <I>Mon Oct  5 17:58:26 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="065588.html">[whatwg] Navigation events generated during unload
</A></li>
        <LI>Next message: <A HREF="065591.html">[whatwg] Navigation events generated during unload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65590">[ date ]</a>
              <a href="thread.html#65590">[ thread ]</a>
              <a href="subject.html#65590">[ subject ]</a>
              <a href="author.html#65590">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Oct 5, 2009 at 6:01 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i> I tried poking around a bit, and I found that an unload event handler
</I>&gt;<i> could call a parent frame and get it to set .src on another &lt;iframe&gt; to
</I>&gt;<i> cause navigation, but it couldn't post a form to that frame itself.
</I>&gt;<i>
</I>&gt;<i> It's not clear to me what the difference is. I can kill the navigation
</I>&gt;<i> algorithm altogether while an 'unload' (or 'beforeunload') is running, but
</I>&gt;<i> that would kill the case above of setting 'src' (which seems harmless
</I>&gt;<i> enough that it should be allowed). I don't really know what else to do
</I>&gt;<i> though. There's a variety of ways to trigger navigation.
</I>
Setting the src of another frame seems fine.

&gt;<i> Any suggestions? What do browsers actually do, white-box wise?
</I>
We ended up just stopping all navigation events on the frame whose
unload handler is firing.  That seemed to be what other browsers did.

Sounds like we don't need to change the spec.

Thanks,
Adam

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065588.html">[whatwg] Navigation events generated during unload
</A></li>
	<LI>Next message: <A HREF="065591.html">[whatwg] Navigation events generated during unload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65590">[ date ]</a>
              <a href="thread.html#65590">[ thread ]</a>
              <a href="subject.html#65590">[ subject ]</a>
              <a href="author.html#65590">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
