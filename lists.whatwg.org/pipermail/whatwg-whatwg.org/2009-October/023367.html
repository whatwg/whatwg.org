<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] keyboard behaviour inside of editable area
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20keyboard%20behaviour%20inside%20of%20editable%20area&In-Reply-To=%3Cfaf3cb2b0910072025q574a370cy540347e2e2748165%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023363.html">
   <LINK REL="Next"  HREF="023479.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] keyboard behaviour inside of editable area</H1>
<!--htdig_noindex-->
    <B>Alexander Surkov</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20keyboard%20behaviour%20inside%20of%20editable%20area&In-Reply-To=%3Cfaf3cb2b0910072025q574a370cy540347e2e2748165%40mail.gmail.com%3E"
       TITLE="[whatwg] keyboard behaviour inside of editable area">surkov.alexander at gmail.com
       </A><BR>
    <I>Wed Oct  7 20:25:12 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="023363.html">[whatwg] document.head
</A></li>
        <LI>Next message: <A HREF="023479.html">[whatwg] keyboard behaviour inside of editable area
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23367">[ date ]</a>
              <a href="thread.html#23367">[ thread ]</a>
              <a href="subject.html#23367">[ subject ]</a>
              <a href="author.html#23367">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi.

My suggestion concerns to keyboard behaviour inside of editable area
(@contenteditable=&quot;true&quot;) within control elements. The suggestion is
based on Rich Schwerdtfeger comment from
<A HREF="http://lists.w3.org/Archives/Public/wai-xtech/2009Jul/0184.html:">http://lists.w3.org/Archives/Public/wai-xtech/2009Jul/0184.html:</A>

&gt;<i> Form elements should operate the same way they do inside or outside the contenteditable area with one possible exception. I believe that if you are editing a contenteditable area and using the
</I>&gt;<i> arrow keys and run across this situation
</I>&gt;<i>
</I>&gt;<i> text &lt;input type=&quot;text&quot;&gt;
</I>&gt;<i>
</I>&gt;<i> Then the right arrow key should when on the last t in text should move you into the text input field and arrowing to the right within it should arrow you out of the text field to the next dom node
</I>&gt;<i> within the contenteditable area. A select might operate slightly differently when you drop the listbox down (probably want to cycle around the listbox while it is dropped. After all, you are editing
</I>&gt;<i> a document. Up and down arrow keys should navigate you in and out of the form element based on its visual location.
</I>
The suggestion is to treat control element as special character, i.e.
when you move through the text by arrow keys and control element is
met then control element should be focused and its selection should be
changed appropriately. When control has the focus then keyboard
behaviour is defined by control preferences with once exception. If
particular navigation key isn't processed by control or doesn't have
any defined action then editor rules are applied. Let's consider
Rich's example:

begin&lt;input type=&quot;text&quot; value=&quot;text&quot;&gt;end

If the caret selection is immediately after &quot;begin&quot; and right arrow
key is pressed then html:input is focused and its caret position is
set to the begin of text (after 't' of the 'text'). Once html:input is
focused then keyboard navigation rules for html:input are applied.
When the end of the text of html:input is reached then keyboard
navigation rules of editor are applied so that html:input looses the
focus and caret is moved to the 'n' character of the 'end' word. The
same rules are applied for up and down array keys inside of
html:input. If we deal with html:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">select at size</A>&gt;1 then html:select is
focused and arrow keys are used to move though select options. As well
if the first or the last option is achieved by up/down arrow keys then
html:select is unfocused and caret is set above/below the select
control.

The same idea is applied to the tab key. If control element is focused
then tab should focus the next control element. If the caret is on
text then tab key should do the action defined for the editor (for
example insert \t symbol). The idea to focus control element on
navigation keys makes control elements accessible by keyboard.

If editable area contains couple of control elements following each
other like &quot;start&lt;input/&gt;&lt;select&gt;&lt;option&gt;1&lt;/option&gt;&lt;button&gt;finish&quot;
then the combination of controls should be treated as word. Therefore
if you press ctrl+right arrow key (assuming the caret is after &quot;start&quot;
word) then focus should be moved to the next text entry (i.e. on
&quot;finish&quot; text).

I appreciate to hear your opinions and feedback.

Thank you a lot.
Alex.
</PRE>


























































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023363.html">[whatwg] document.head
</A></li>
	<LI>Next message: <A HREF="023479.html">[whatwg] keyboard behaviour inside of editable area
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23367">[ date ]</a>
              <a href="thread.html#23367">[ thread ]</a>
              <a href="subject.html#23367">[ subject ]</a>
              <a href="author.html#23367">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
