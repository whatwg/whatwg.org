<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;a onlyreplace&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Ca%20onlyreplace%3E&In-Reply-To=%3C4ADB475D.4000105%40graffitiweb.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066010.html">
   <LINK REL="Next"  HREF="066012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;a onlyreplace&gt;</H1>
<!--htdig_noindex-->
    <B>Schuyler Duveen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Ca%20onlyreplace%3E&In-Reply-To=%3C4ADB475D.4000105%40graffitiweb.org%3E"
       TITLE="[whatwg] &lt;a onlyreplace&gt;">whatwg at graffitiweb.org
       </A><BR>
    <I>Sun Oct 18 09:50:37 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="066010.html">[whatwg] &lt;a onlyreplace&gt;
</A></li>
        <LI>Next message: <A HREF="066012.html">[whatwg] &lt;a onlyreplace&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66011">[ date ]</a>
              <a href="thread.html#66011">[ thread ]</a>
              <a href="subject.html#66011">[ subject ]</a>
              <a href="author.html#66011">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Tab Atkins Jr. wrote:
&gt;<i> On Sun, Oct 18, 2009 at 11:20 AM, Schuyler Duveen
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at graffitiweb.org</A>&gt; wrote:
</I>&gt;&gt;<i> Nelson Menezes wrote:
</I>&gt;&gt;<i> My point (which feeds on Marcus Ernst's point) is that we need some kind
</I>&gt;&gt;<i> of load event.  Maybe something like:
</I>&gt;&gt;<i> document.addEventListener('replaceonly')
</I>&gt;&gt;<i> with the event object providing access to the new DOM content and the
</I>&gt;&gt;<i> old DOM node.
</I>&gt;<i> 
</I>&gt;<i> I agree, though I think it might be better to follow the current
</I>&gt;<i> load/unload model with a replaceUnload/replaceLoad event being fired
</I>&gt;<i> at the appropriate elements.  (Or, as was suggested by someone else,
</I>&gt;<i> just using load/unload on a particular element, since currently it
</I>&gt;<i> just fires at window.  I don't know if there are inherent problems
</I>&gt;<i> with this or what.)
</I>I like the first one.  I'd rather it be on the document (or window) so
we don't have to wait for the first instance of an element to show up.

More importantly, then I can write javascript that's more generic rather
having to know about which specific elements will be doing the
loading/unloading in a particular document.

&gt;&gt;<i> There's still seems like a big danger in addressability.  Yes, it's a
</I>&gt;&gt;<i> problem in ajax, but it's a problem that authors can solve on their own
</I>&gt;&gt;<i> with hash tags (in ad-hoc ways).  When the browser takes over the
</I>&gt;&gt;<i> location value, the author's ability to do that is undermined.  Maybe it
</I>&gt;&gt;<i> should all *stay* in the hash tags like your implementation has it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Something like:
</I>&gt;&gt;<i> <A HREF="http://example.com/#id1=page2;id2=page3;">http://example.com/#id1=page2;id2=page3;</A>
</I>&gt;&gt;<i> where the value is the most recent source URL for that @id.
</I>&gt;<i> 
</I>&gt;<i> Well, the point is that this should generally act as just an
</I>&gt;<i> optimization of normal navigation.  Clicking on &lt;a href=foo
</I>&gt;<i> onlyreplace=bar&gt; should give you the same result as clicking on &lt;a
</I>&gt;<i> href=foo&gt;, just without the overall page getting flushed.  So the
</I>&gt;<i> address should update to &quot;<A HREF="http://example.com/foo">http://example.com/foo</A>&quot;, etc.
</I>&gt;<i> 
</I>&gt;<i> You can always url-hack on your own, if you need to.
</I>The problem is that people will make links that refresh different parts
of a document, to the point that the current document is no longer
addressable.  Use cases for this happen often enough (not necessarily
good design, but people will do this)

In the past, a good way to give (back) addressability to users is with
hash tags.  But here, the location changes, and the hash goes away.
Standard anchor tags (with no javascript) have generally been
addressable to users by default.  When this hasn't been true, like with
framesets, lots of confusion and frustration ensues.

If this is, in the longterm, going to work non-dynamically, then things
should be addressable by default.  It's one of the killer features of
the web :-)

/skjy

&gt;<i> 
</I>&gt;<i> ~TJ
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066010.html">[whatwg] &lt;a onlyreplace&gt;
</A></li>
	<LI>Next message: <A HREF="066012.html">[whatwg] &lt;a onlyreplace&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66011">[ date ]</a>
              <a href="thread.html#66011">[ thread ]</a>
              <a href="subject.html#66011">[ subject ]</a>
              <a href="author.html#66011">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
