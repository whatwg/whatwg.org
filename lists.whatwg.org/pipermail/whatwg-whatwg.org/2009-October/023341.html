<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] 4.10.5 - value of hidden inputs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%204.10.5%20-%20value%20of%20hidden%20inputs&In-Reply-To=%3C20091006193606.70A639126%40looneymail-mx3.g.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023470.html">
   <LINK REL="Next"  HREF="023471.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] 4.10.5 - value of hidden inputs</H1>
<!--htdig_noindex-->
    <B>Kartikaya Gupta</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%204.10.5%20-%20value%20of%20hidden%20inputs&In-Reply-To=%3C20091006193606.70A639126%40looneymail-mx3.g.dreamhost.com%3E"
       TITLE="[whatwg] 4.10.5 - value of hidden inputs">lists.whatwg at stakface.com
       </A><BR>
    <I>Tue Oct  6 12:36:05 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="023470.html">[whatwg] Experiments in end-tag attributes
</A></li>
        <LI>Next message: <A HREF="023471.html">[whatwg] 4.10.5 - value of hidden inputs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23341">[ date ]</a>
              <a href="thread.html#23341">[ thread ]</a>
              <a href="subject.html#23341">[ subject ]</a>
              <a href="author.html#23341">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>If we have this page:

&lt;html&gt;&lt;body&gt;
&lt;input type=&quot;hidden&quot; value=&quot;foo&quot; id=&quot;i&quot;&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  var i = document.getElementById('i');
  i.value = 'bar';
  alert( i.getAttribute('value') );
&lt;/script&gt;
&lt;/body&gt;&lt;/html&gt;

What should the alert display? From my reading of the spec I believe it should display 'foo'. For type=hidden, &quot;The value IDL attribute applies to this element and is in mode value&quot; and in mode value, &quot;On setting, it must set the element's value to the new value, set the element's dirty value flag to true [...]&quot;. Reading the content attribute after should still return the original 'foo'.

However, Firefox, Opera, IE6, and Chrome all alert 'bar'.

If I change the type from hidden to text, then FF, Opera, and Chrome all alert 'foo', but IE6 still gives me 'bar'. This, despite both 'hidden' and 'text' are in mode value, and so should behave the same according to the spec.

Another related test case is this one:

&lt;html&gt;&lt;body&gt;
&lt;input type=&quot;hidden&quot; value=&quot;foo&quot; id=&quot;i&quot;&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  var i = document.getElementById('i');
  i.value = 'bar';
  i.removeAttribute('value');
  alert( i.value );
&lt;/script&gt;
&lt;/body&gt;&lt;/html&gt;

According to the spec, setting i.value should set the dirty value flag. This means that when the content attribute is removed, it shouldn't affect what i.value returns for the alert. However, Firefox, Opera, and Chrome all alert the empty string. It seems they all have special behavior for type=hidden that isn't specced fully.

Cheers,
kats
</PRE>








































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023470.html">[whatwg] Experiments in end-tag attributes
</A></li>
	<LI>Next message: <A HREF="023471.html">[whatwg] 4.10.5 - value of hidden inputs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23341">[ date ]</a>
              <a href="thread.html#23341">[ thread ]</a>
              <a href="subject.html#23341">[ subject ]</a>
              <a href="author.html#23341">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
