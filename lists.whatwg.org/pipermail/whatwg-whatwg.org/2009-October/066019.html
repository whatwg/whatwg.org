<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;a onlyreplace&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Ca%20onlyreplace%3E&In-Reply-To=%3C7c2a12e20910181115u191145cdp8bcc6b58b471ca32%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066017.html">
   <LINK REL="Next"  HREF="066025.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;a onlyreplace&gt;</H1>
<!--htdig_noindex-->
    <B>Aryeh Gregor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Ca%20onlyreplace%3E&In-Reply-To=%3C7c2a12e20910181115u191145cdp8bcc6b58b471ca32%40mail.gmail.com%3E"
       TITLE="[whatwg] &lt;a onlyreplace&gt;">Simetrical+w3c at gmail.com
       </A><BR>
    <I>Sun Oct 18 11:15:48 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="066017.html">[whatwg] &lt;a onlyreplace&gt;
</A></li>
        <LI>Next message: <A HREF="066025.html">[whatwg] &lt;a onlyreplace&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66019">[ date ]</a>
              <a href="thread.html#66019">[ thread ]</a>
              <a href="subject.html#66019">[ subject ]</a>
              <a href="author.html#66019">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sun, Oct 18, 2009 at 1:37 PM, Tab Atkins Jr. &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jackalmage at gmail.com</A>&gt; wrote:
&gt;<i> I think the opposite. &#160;If I upgraded my site to this, I'd want nearly
</I>&gt;<i> all the links to onlyreplace. &#160;There's only a handful of same-origin
</I>&gt;<i> links that I'd instead want to trigger a full load.
</I>
It's very common for several web apps to be installed under a single
domain, with links from one to the others: the wiki, forum, and CMS
all linking to each other, say.  These links are often added to
templates by admins as static HTML that the app doesn't even look at.
Having them break horribly when the next version of the software uses
onlyreplace isn't helpful.  Basically, if you're outputting *any* HTML
without parsing and sanitizing it, opt-out isn't acceptable, since you
*can't* opt out of links in that HTML.  And every web app I'm familiar
with (admittedly that's about two) does output some HTML without
parsing and sanitizing it.

Keep in mind that if you can't opt out when you need to, the link will
fail.  If you can't opt in when you need to, the link will work, just
trigger a full reload.  Opt-in is a much better idea for that reason
alone, given that many apps won't be able to sanitize some of the
links they output.

&gt;<i> It's true that this could be bad on copypasta, but is your failure
</I>&gt;<i> scenario going to be common? &#160;Are people going to often use different
</I>&gt;<i> &lt;base&gt;s on different pages in the same origin? &#160;I think more usually a
</I>&gt;<i> single origin will have the same &lt;base onlyreplace&gt; everywhere, or
</I>&gt;<i> else not have &lt;base onlyreplace&gt; at all. &#160;In the latter case, you'd
</I>&gt;<i> presumably want all links to trigger full navigation, since that's
</I>&gt;<i> what you're indicating with the lack.
</I>
I didn't remember that it would only be same-domain.  You're right
that that's a mitigation.  But yes, I'd very much expect the same
domain to often use different onlyreplace.  Different web apps will
have different onlyreplaces, and different web apps are often on the
same domain.

&gt;<i> (Also, the same problem you note happens similarly with per-&lt;a&gt;
</I>&gt;<i> onlyreplace - what if you copy a link from one page to another, and
</I>&gt;<i> the new page has *different* elements with the same #ids as elements
</I>&gt;<i> in the old page? &#160;Then you'd be replacing random bits of the page. &#160;Is
</I>&gt;<i> this situation more/less likely than the one you brought up?)
</I>
I'd hope id collision would be rare enough that this isn't a huge
issue.  MediaWiki tries to prefix all new classes and id's with mw-
for this sort of reason.  id's like &quot;content&quot; are likely to show up
pretty often, though, you're right.  (And in fact MediaWiki does have
an id=&quot;content&quot; in the default skin.)

&gt;<i> I disagree, and think that most links would use it on a typical page.
</I>
I'm not sure anymore.  It depends how it's used.

&gt;<i> You'd just hook the links with javascript and use that to change the
</I>&gt;<i> navigation-pane highlight. &#160;(Or, in some cases, harness CSS, such as
</I>&gt;<i> by using the proposed pseudoclass that matches links to the current
</I>&gt;<i> document.)
</I>
Well, okay.  That completely defeats the ease of use of this proposal, though.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066017.html">[whatwg] &lt;a onlyreplace&gt;
</A></li>
	<LI>Next message: <A HREF="066025.html">[whatwg] &lt;a onlyreplace&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66019">[ date ]</a>
              <a href="thread.html#66019">[ thread ]</a>
              <a href="subject.html#66019">[ subject ]</a>
              <a href="author.html#66019">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
