<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] sessionStorage and the Storage event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20sessionStorage%20and%20the%20Storage%20event&In-Reply-To=%3C4AE62B81.8000700%40allpeers.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066108.html">
   <LINK REL="Next"  HREF="066104.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] sessionStorage and the Storage event</H1>
<!--htdig_noindex-->
    <B>Honza Bambas</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20sessionStorage%20and%20the%20Storage%20event&In-Reply-To=%3C4AE62B81.8000700%40allpeers.com%3E"
       TITLE="[whatwg] sessionStorage and the Storage event">honzab at allpeers.com
       </A><BR>
    <I>Mon Oct 26 16:06:41 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="066108.html">[whatwg] Example wrong in web workers
</A></li>
        <LI>Next message: <A HREF="066104.html">[whatwg] sessionStorage and the Storage event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66103">[ date ]</a>
              <a href="thread.html#66103">[ thread ]</a>
              <a href="subject.html#66103">[ subject ]</a>
              <a href="author.html#66103">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>The spec says:

&quot;When the |setItem() 
&lt;<A HREF="http://dev.w3.org/html5/webstorage/#dom-storage-setitem">http://dev.w3.org/html5/webstorage/#dom-storage-setitem</A>&gt;|, 
|<i>removeItem() 
</I>&lt;<A HREF="http://dev.w3.org/html5/webstorage/#dom-storage-removeitem">http://dev.w3.org/html5/webstorage/#dom-storage-removeitem</A>&gt;|, and 
|<i>clear() &lt;<A HREF="http://dev.w3.org/html5/webstorage/#dom-storage-clear">http://dev.w3.org/html5/webstorage/#dom-storage-clear</A>&gt;| 
</I>methods are called on a |Storage 
&lt;<A HREF="http://dev.w3.org/html5/webstorage/#storage-0">http://dev.w3.org/html5/webstorage/#storage-0</A>&gt;| object x that is 
associated with a session storage area, if the methods did something, 
then in every |HTMLDocument| object whose |Window| object's 
|<i>sessionStorage 
</I>&lt;<A HREF="http://dev.w3.org/html5/webstorage/#dom-sessionstorage">http://dev.w3.org/html5/webstorage/#dom-sessionstorage</A>&gt;| attribute's 
|<i>Storage &lt;<A HREF="http://dev.w3.org/html5/webstorage/#storage-0">http://dev.w3.org/html5/webstorage/#storage-0</A>&gt;| object is 
</I>associated with the same storage area, other than x, a |storage 
&lt;<A HREF="http://dev.w3.org/html5/webstorage/#event-storage">http://dev.w3.org/html5/webstorage/#event-storage</A>&gt;| event must be 
fired, as described below 
&lt;<A HREF="http://dev.w3.org/html5/webstorage/#event-storage">http://dev.w3.org/html5/webstorage/#event-storage</A>&gt;.&quot;

[<A HREF="http://dev.w3.org/html5/webstorage/#dom-sessionstorage">http://dev.w3.org/html5/webstorage/#dom-sessionstorage</A>]

The same applies to localStorage.

Maybe I read something wrong, but as a sessionStorage object is always 
unique to its document (it is cloned when a new document with the same 
origin is created and then independent from the original document's 
object) it, in my opinion, doesn't make sense to send the event to any 
other document then the one its storage has been changed. On the other 
hand, it makes sense to me to not fire the event in the same document 
where the storage has been changed (as for localStorage), then, I'd say 
there should be no event for sessionStorage at all. I simply don't a 
case when two or more documents would share a single sessionStorage object.

Thanks for clearing this.

-hb-
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20091027/328ed3ee/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20091027/328ed3ee/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066108.html">[whatwg] Example wrong in web workers
</A></li>
	<LI>Next message: <A HREF="066104.html">[whatwg] sessionStorage and the Storage event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66103">[ date ]</a>
              <a href="thread.html#66103">[ thread ]</a>
              <a href="subject.html#66103">[ subject ]</a>
              <a href="author.html#66103">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
