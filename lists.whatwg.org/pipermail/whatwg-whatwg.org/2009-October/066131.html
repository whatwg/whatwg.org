<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] style sheet blocking scripts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20style%20sheet%20blocking%20scripts&In-Reply-To=%3CBAY117-W28009A67F3600230034B8783B80%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066172.html">
   <LINK REL="Next"  HREF="066133.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] style sheet blocking scripts</H1>
<!--htdig_noindex-->
    <B>tali garsiel</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20style%20sheet%20blocking%20scripts&In-Reply-To=%3CBAY117-W28009A67F3600230034B8783B80%40phx.gbl%3E"
       TITLE="[whatwg] style sheet blocking scripts">t_garsiel at hotmail.com
       </A><BR>
    <I>Tue Oct 27 23:59:14 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="066172.html">[whatwg] focus change inside keypress event handler
</A></li>
        <LI>Next message: <A HREF="066133.html">[whatwg] style sheet blocking scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66131">[ date ]</a>
              <a href="thread.html#66131">[ thread ]</a>
              <a href="subject.html#66131">[ subject ]</a>
              <a href="author.html#66131">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
Hi,

This is a quote from Section 4.2 of the spec:

&quot;A style sheet in the context of the Document of an HTML parser or XML parser is said to be a style sheet blocking scripts if the element was created by that Document's parser, and the element is either a style element or a link element that was an external resource link that contributes to the styling processing model when the element was created by the parser, and the element's style sheet was enabled when the element was created by the parser, and the element's style sheet ready flag is not yet set, and, the last time the event loop reached step 1, the element was in that Document&quot;


And the section about parsing - the &quot;&lt;script&gt;&quot; tag says that before executing a script the parser must:

3. Spin the event loop until there is no style sheet blocking scripts and the script's &quot;ready to be parser-executed&quot; flag is set.


I have two questions:

1. As far as I know, Firefox and Webkit have a &quot;stall on demand&quot; behavior, where a stylesheet blocks a script only if the script asks from style information. According to the spec the style sheet always blocks a script, am I right?

2. Can you clarify the condition - &quot;the element's style sheet was enabled when the element was created by
the parser, and the element's style sheet ready flag is not yet set,
and, the last time the event loop reached step 1, the element was in
that Document&quot;

Does it mean the style sheet blocks scripts only if it's currently being parsed?


Tali
 		 	   		  
_________________________________________________________________
Windows Live: Make it easier for your friends to see what you&#8217;re up to on Facebook.
<A HREF="http://www.microsoft.com/middleeast/windows/windowslive/see-it-in-action/social-network-basics.aspx?ocid=PID23461::T:WLMTAGL:ON:WL:en-xm:SI_SB_2:092009">http://www.microsoft.com/middleeast/windows/windowslive/see-it-in-action/social-network-basics.aspx?ocid=PID23461::T:WLMTAGL:ON:WL:en-xm:SI_SB_2:092009</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066172.html">[whatwg] focus change inside keypress event handler
</A></li>
	<LI>Next message: <A HREF="066133.html">[whatwg] style sheet blocking scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66131">[ date ]</a>
              <a href="thread.html#66131">[ thread ]</a>
              <a href="subject.html#66131">[ subject ]</a>
              <a href="author.html#66131">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
