<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Navigation events generated during unload
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Navigation%20events%20generated%20during%20unload&In-Reply-To=%3CPine.LNX.4.62.0910060039280.25383%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023314.html">
   <LINK REL="Next"  HREF="023317.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Navigation events generated during unload</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Navigation%20events%20generated%20during%20unload&In-Reply-To=%3CPine.LNX.4.62.0910060039280.25383%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Navigation events generated during unload">ian at hixie.ch
       </A><BR>
    <I>Mon Oct  5 18:01:06 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="023314.html">[whatwg] Question on &quot;the element's Document&quot;
</A></li>
        <LI>Next message: <A HREF="023317.html">[whatwg] Navigation events generated during unload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23315">[ date ]</a>
              <a href="thread.html#23315">[ thread ]</a>
              <a href="subject.html#23315">[ subject ]</a>
              <a href="author.html#23315">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, 21 Sep 2009, Adam Barth wrote:
&gt;<i>
</I>&gt;<i> I looked around in the HTML5 draft, but it wasn't obvious to me if it 
</I>&gt;<i> explains how to handle navigation events generated during the unload 
</I>&gt;<i> event.  As far as I can tell by testing browsers, these navigation 
</I>&gt;<i> events are ignored.
</I>
I tried poking around a bit, and I found that an unload event handler 
could call a parent frame and get it to set .src on another &lt;iframe&gt; to 
cause navigation, but it couldn't post a form to that frame itself.

It's not clear to me what the difference is. I can kill the navigation 
algorithm altogether while an 'unload' (or 'beforeunload') is running, but 
that would kill the case above of setting 'src' (which seems harmless 
enough that it should be allowed). I don't really know what else to do 
though. There's a variety of ways to trigger navigation.

Any suggestions? What do browsers actually do, white-box wise?

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>











































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023314.html">[whatwg] Question on &quot;the element's Document&quot;
</A></li>
	<LI>Next message: <A HREF="023317.html">[whatwg] Navigation events generated during unload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23315">[ date ]</a>
              <a href="thread.html#23315">[ thread ]</a>
              <a href="subject.html#23315">[ subject ]</a>
              <a href="author.html#23315">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
