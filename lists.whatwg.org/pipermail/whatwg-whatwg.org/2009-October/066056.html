<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Drop event on form controls
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Drop%20event%20on%20form%20controls&In-Reply-To=%3C491930550910211621n2c0abf55ie66376a54d0a2150%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066053.html">
   <LINK REL="Next"  HREF="066075.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Drop event on form controls</H1>
<!--htdig_noindex-->
    <B>Sebastian Markb&#229;ge</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Drop%20event%20on%20form%20controls&In-Reply-To=%3C491930550910211621n2c0abf55ie66376a54d0a2150%40mail.gmail.com%3E"
       TITLE="[whatwg] Drop event on form controls">sebastian at calyptus.eu
       </A><BR>
    <I>Wed Oct 21 16:21:34 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="066053.html">[whatwg] Drop event on form controls
</A></li>
        <LI>Next message: <A HREF="066075.html">[whatwg] Drop event on form controls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66056">[ date ]</a>
              <a href="thread.html#66056">[ thread ]</a>
              <a href="subject.html#66056">[ subject ]</a>
              <a href="author.html#66056">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I agree,

IE and Firefox dispatches the drop event for both form controls and
contentEditable even if dragover isn't canceled. They insert the dropped
data unless drop event is canceled.

WebKit (Windows) inserts the dropped data but doesn't fire the drop event.
If dragover is canceled, then WebKit doesn't insert the dropped data but it
does fire the drop event.

I tend to agree with the IE and Firefox model. That's more useful.

If the default operation is to allow a drop, then you shouldn't have to
&quot;prevent default&quot; it to get the drop event. If the default operation isn't
to allow a drop, then it shouldn't.

Also, the inserted text should be inserted unless the drop event is
canceled. But not if preventDefault is called.


On Wed, Oct 21, 2009 at 5:07 PM, Olli Pettay &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">Olli.Pettay at helsinki.fi</A>&gt;wrote:

&gt;<i> contentEditable may need special handling too.
</I>&gt;<i> Haven't tested how IE (or other browsers) handles that.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -Olli
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 10/21/09 3:15 PM, Olli Pettay wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> seems like the draft doesn't specify properly what should happen when
</I>&gt;&gt;<i> dropping something to a (text) form control.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The draft says that if dragover isn't canceled, then drag operation
</I>&gt;&gt;<i> becomes none, and then later &quot;if the current drag operation is none...
</I>&gt;&gt;<i> then the drag operation failed.&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Seems like dragover needs to have some default handling when dispatched
</I>&gt;&gt;<i> to form controls.
</I>&gt;&gt;<i> IE does dispatch a drop event when dragging something to a form control.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> br,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -Olli
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20091022/9464ff9c/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20091022/9464ff9c/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066053.html">[whatwg] Drop event on form controls
</A></li>
	<LI>Next message: <A HREF="066075.html">[whatwg] Drop event on form controls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66056">[ date ]</a>
              <a href="thread.html#66056">[ thread ]</a>
              <a href="subject.html#66056">[ subject ]</a>
              <a href="author.html#66056">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
