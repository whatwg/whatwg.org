<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Charset sniffing from XML prolog
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Charset%20sniffing%20from%20XML%20prolog&In-Reply-To=%3C4ACD257A.6080507%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023355.html">
   <LINK REL="Next"  HREF="023357.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Charset sniffing from XML prolog</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Charset%20sniffing%20from%20XML%20prolog&In-Reply-To=%3C4ACD257A.6080507%40mit.edu%3E"
       TITLE="[whatwg] Charset sniffing from XML prolog">bzbarsky at MIT.EDU
       </A><BR>
    <I>Wed Oct  7 16:34:18 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="023355.html">[whatwg] Charset sniffing from XML prolog
</A></li>
        <LI>Next message: <A HREF="023357.html">[whatwg] Charset sniffing from XML prolog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23356">[ date ]</a>
              <a href="thread.html#23356">[ thread ]</a>
              <a href="subject.html#23356">[ subject ]</a>
              <a href="author.html#23356">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 10/7/09 7:12 PM, Kartikaya Gupta wrote:
&gt;<i> If a document is served as text/html, but contains an XML prolog with an encoding attribute, it seems that all Firefox, Opera, and Chrome all pick up the encoding from the prolog and use it when parsing the rest of the document. (IE6 does not). The HTML5 spec doesn't seem to include XML-prolog checking in its encoding sniffing algorithm, should it?
</I>&gt;<i>
</I>&gt;<i> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</I>&gt;<i> &lt;html&gt;insert utf-8 content here, or alert(document.inputEncoding) for browsers that support it&lt;/html&gt;
</I>
data:text/html,&lt;?xml version=&quot;1.0&quot; 
encoding=&quot;utf-8&quot;?&gt;&lt;html&gt;&lt;script&gt;alert(document.inputEncoding)&lt;/script&gt;&lt;/html&gt;

Shows ISO-8859-1 for me in Firefox over here.

-Boris

</PRE>





















































































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023355.html">[whatwg] Charset sniffing from XML prolog
</A></li>
	<LI>Next message: <A HREF="023357.html">[whatwg] Charset sniffing from XML prolog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23356">[ date ]</a>
              <a href="thread.html#23356">[ thread ]</a>
              <a href="subject.html#23356">[ subject ]</a>
              <a href="author.html#23356">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
