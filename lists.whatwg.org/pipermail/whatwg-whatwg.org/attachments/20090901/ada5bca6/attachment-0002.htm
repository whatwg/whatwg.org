<tt>
&lt;html&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Aug&nbsp;31,&nbsp;2009,&nbsp;at&nbsp;11:53&nbsp;PM,&nbsp;Mike&nbsp;Wilson&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;separate;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Baskerville;&nbsp;font-size:&nbsp;medium;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-align:&nbsp;auto;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-border-horizontal-spacing:&nbsp;0px;&nbsp;-webkit-border-vertical-spacing:&nbsp;0px;&nbsp;-webkit-text-decorations-in-effect:&nbsp;none;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;font&nbsp;face=&quot;Verdana&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;298553706-01092009&quot;&gt;This&nbsp;requirement&nbsp;could&nbsp;be&nbsp;solved&nbsp;in&nbsp;several&nbsp;other&nbsp;ways,&nbsp;f&nbsp;ex&nbsp;making&nbsp;sure&nbsp;that&nbsp;the&nbsp;&quot;standard&quot;&nbsp;timeout&nbsp;period&nbsp;is&nbsp;short&nbsp;enough&nbsp;to&nbsp;not&nbsp;be&nbsp;longer&nbsp;than&nbsp;what&nbsp;any&nbsp;app&nbsp;wants.&nbsp;Then&nbsp;(as&nbsp;was&nbsp;previously&nbsp;suggested)&nbsp;an&nbsp;app&nbsp;that&nbsp;wants&nbsp;a&nbsp;longer&nbsp;timeout&nbsp;can&nbsp;do&nbsp;setTimeout&nbsp;and&nbsp;trigger&nbsp;its&nbsp;own&nbsp;idle&nbsp;stuff&nbsp;if&nbsp;status&nbsp;has&nbsp;not&nbsp;come&nbsp;back&nbsp;to&nbsp;&quot;active&quot;&nbsp;during&nbsp;that&nbsp;time.&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;separate;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Baskerville;&nbsp;font-size:&nbsp;medium;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-align:&nbsp;auto;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-border-horizontal-spacing:&nbsp;0px;&nbsp;-webkit-border-vertical-spacing:&nbsp;0px;&nbsp;-webkit-text-decorations-in-effect:&nbsp;none;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;This&nbsp;seems&nbsp;reasonable.&nbsp;Different&nbsp;apps&nbsp;really&nbsp;do&nbsp;want&nbsp;different&nbsp;idle-time&nbsp;thresholds&nbsp;(if&nbsp;only&nbsp;for&nbsp;compatibility&nbsp;with&nbsp;other&nbsp;manifestations&nbsp;of&nbsp;the&nbsp;app,&nbsp;i.e.&nbsp;an&nbsp;IM&nbsp;platform),&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;event-plus-custom-timeout&nbsp;mechanism&nbsp;would&nbsp;let&nbsp;them&nbsp;achieve&nbsp;that.&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;separate;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Baskerville;&nbsp;font-size:&nbsp;medium;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-align:&nbsp;auto;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-border-horizontal-spacing:&nbsp;0px;&nbsp;-webkit-border-vertical-spacing:&nbsp;0px;&nbsp;-webkit-text-decorations-in-effect:&nbsp;none;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;font&nbsp;face=&quot;Verdana&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;298553706-01092009&quot;&gt;Another&nbsp;alternative&nbsp;is&nbsp;to&nbsp;have&nbsp;no&nbsp;event,&nbsp;and&nbsp;just&nbsp;a&nbsp;property:&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;font&nbsp;face=&quot;Verdana&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;298553706-01092009&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;window.lastUserActionTime&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;font&nbsp;face=&quot;Verdana&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;298553706-01092009&quot;&gt;which&nbsp;is&nbsp;kept&nbsp;updated&nbsp;with&nbsp;the&nbsp;&quot;msec&nbsp;since&nbsp;epoch&quot;&nbsp;for&nbsp;the&nbsp;latest&nbsp;user&nbsp;input&nbsp;on&nbsp;the&nbsp;desktop.&nbsp;Then&nbsp;an&nbsp;app&nbsp;can&nbsp;implement&nbsp;its&nbsp;own&nbsp;idle&nbsp;functionality&nbsp;with&nbsp;totally&nbsp;own&nbsp;rules.&nbsp;This&nbsp;API&nbsp;has&nbsp;the&nbsp;drawback&nbsp;of&nbsp;maybe&nbsp;exposing&nbsp;too&nbsp;much&nbsp;information&nbsp;(the&nbsp;rate&nbsp;of&nbsp;input&nbsp;events&nbsp;to&nbsp;other&nbsp;apps),&nbsp;but&nbsp;may&nbsp;spawn&nbsp;some&nbsp;ideas.&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;would&nbsp;have&nbsp;to&nbsp;be&nbsp;deliberately&nbsp;fuzzed,&nbsp;as&nbsp;it&nbsp;is&nbsp;apparently&nbsp;possible&nbsp;to&nbsp;guess&nbsp;user&nbsp;typing&nbsp;by&nbsp;looking&nbsp;at&nbsp;the&nbsp;timing&nbsp;between&nbsp;keystrokes.&nbsp;Rounding&nbsp;it&nbsp;to&nbsp;the&nbsp;nearest&nbsp;second&nbsp;would&nbsp;probably&nbsp;suffice.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;problem&nbsp;with&nbsp;this&nbsp;API&nbsp;is&nbsp;that,&nbsp;once&nbsp;the&nbsp;app&nbsp;determines&nbsp;the&nbsp;user&nbsp;is&nbsp;idle,&nbsp;it&nbsp;has&nbsp;to&nbsp;keep&nbsp;polling&nbsp;lastUserActionTime&nbsp;until&nbsp;it&nbsp;sees&nbsp;it&nbsp;change.&nbsp;I'm&nbsp;not&nbsp;fond&nbsp;of&nbsp;APIs&nbsp;that&nbsp;require&nbsp;the&nbsp;client&nbsp;to&nbsp;poll.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;best&nbsp;solution,&nbsp;I&nbsp;think,&nbsp;would&nbsp;be&nbsp;both&nbsp;of&nbsp;the&nbsp;above.&nbsp;The&nbsp;lastUserActionTime&nbsp;property&nbsp;lets&nbsp;a&nbsp;page&nbsp;test&nbsp;whether&nbsp;the&nbsp;user's&nbsp;already&nbsp;idle&nbsp;at&nbsp;the&nbsp;time&nbsp;it&nbsp;loads,&nbsp;and&nbsp;the&nbsp;event&nbsp;lets&nbsp;it&nbsp;detect&nbsp;transitions&nbsp;without&nbsp;having&nbsp;to&nbsp;poll.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;—Jens&lt;/div&gt;&lt;br&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
