<tt>
The&nbsp;problem&nbsp;I&#39;m&nbsp;seeing&nbsp;is&nbsp;not&nbsp;with&nbsp;URLs&nbsp;listed&nbsp;in&nbsp;the&nbsp;manifest,&nbsp;but&nbsp;rather&nbsp;for&nbsp;URLs&nbsp;added&nbsp;to&nbsp;the&nbsp;Application&nbsp;Cache&nbsp;because&nbsp;they&nbsp;were&nbsp;navigated&nbsp;to&nbsp;and&nbsp;pointed&nbsp;to&nbsp;an&nbsp;existing&nbsp;manifest.&nbsp;I&nbsp;think&nbsp;the&nbsp;following&nbsp;excerpt&nbsp;is&nbsp;the&nbsp;relevant&nbsp;part&nbsp;of&nbsp;the&nbsp;spec:&lt;br&gt;<br>
&lt;br&gt;&lt;blockquote&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&nbsp;class=&quot;gmail_quote&quot;&gt; &lt;dfn&nbsp;id=&quot;concept-appcache-master&quot;&nbsp;title=&quot;concept-appcache-master&quot;&gt;Master&nbsp;entries&lt;/dfn&gt;&lt;br&gt;<br>
&lt;dl&gt;&lt;dd&gt;Documents&nbsp;that&nbsp;were&nbsp;added&nbsp;to&nbsp;the&nbsp;cache&nbsp;because&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www.whatwg.org/specs/web-apps/current-work/#browsing-context&quot;&gt;browsing&nbsp;context&lt;/a&gt;&nbsp;was&nbsp;&lt;a&nbsp;href=&quot;http://www.whatwg.org/specs/web-apps/current-work/#navigate&quot;&nbsp;title=&quot;navigate&quot;&gt;navigated&lt;/a&gt;&nbsp;to&nbsp;that&nbsp;document&nbsp;and&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document&nbsp;indicated&nbsp;that&nbsp;this&nbsp;was&nbsp;its&nbsp;cache,&nbsp;using&nbsp;the&nbsp;&lt;code&nbsp;title=&quot;attr-html-manifest&quot;&gt;&lt;a&nbsp;href=&quot;http://www.whatwg.org/specs/web-apps/current-work/#attr-html-manifest&quot;&gt;manifest&lt;/a&gt;&lt;/code&gt;&nbsp;attribute.<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dd&gt;&lt;/dl&gt;&lt;/blockquote&gt;&lt;br&gt;Andrew&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Jul&nbsp;6,&nbsp;2009&nbsp;at&nbsp;7:13&nbsp;PM,&nbsp;Maria&nbsp;Khomenko&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:maria.khomenko@gmail.com&quot;&gt;maria.khomenko@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Actually,&nbsp;I&nbsp;believe&nbsp;the&nbsp;spec&nbsp;does&nbsp;address&nbsp;the&nbsp;question&nbsp;in&nbsp;the&nbsp;following&nbsp;passage&nbsp;(this&nbsp;is&nbsp;in&nbsp;the&nbsp;manifest&nbsp;parsing&nbsp;algorithm):&lt;br&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
If mode is&nbsp;&quot;explicit&quot;&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
Resolve the&nbsp;first&nbsp;item&nbsp;in tokens,&nbsp;relative&nbsp;to base&nbsp;URL;&nbsp;ignore&nbsp;the&nbsp;rest.&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
If&nbsp;this&nbsp;fails,&nbsp;then&nbsp;jump&nbsp;back&nbsp;to&nbsp;the&nbsp;step&nbsp;labeled&nbsp;&quot;start&nbsp;of&nbsp;line&quot;.&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
If&nbsp;the&nbsp;resulting absolute&nbsp;URL has&nbsp;a&nbsp;different &lt;scheme&gt; component&nbsp;than&nbsp;the&nbsp;manifest&#39;s&nbsp;URL&nbsp;(compared&nbsp;in&nbsp;an ASCII&nbsp;case-insensitive manner),&nbsp;then&nbsp;jump&nbsp;back&nbsp;to&nbsp;the&nbsp;step&nbsp;labeled&nbsp;&quot;start&nbsp;of&nbsp;line&quot;.&lt;/blockquote&gt;<br>
<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
&lt;b&gt;Drop&nbsp;the &lt;fragment&gt; component&nbsp;of&nbsp;the&nbsp;resulting absolute&nbsp;URL,&nbsp;if&nbsp;it&nbsp;has&nbsp;one.&lt;/b&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
Add&nbsp;the&nbsp;resulting absolute&nbsp;URL to&nbsp;the explicit&nbsp;URLs.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;it&nbsp;must&nbsp;be&nbsp;an&nbsp;implementation&nbsp;issue.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;Maria &lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;On&nbsp;Mon,&nbsp;Jul&nbsp;6,&nbsp;2009&nbsp;at&nbsp;3:37&nbsp;PM,&nbsp;Andrew&nbsp;Grieve&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:agrieve@google.com&quot;&nbsp;target=&quot;_blank&quot;&gt;agrieve@google.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
<br>
&gt;&lt;br&gt;&gt;&nbsp;The&nbsp;current&nbsp;behavior&nbsp;in&nbsp;Webkit&nbsp;is&nbsp;for&nbsp;URL&nbsp;fragments&nbsp;to&nbsp;be&nbsp;stored&nbsp;in&nbsp;the&lt;br&gt;&gt;&nbsp;URLs&nbsp;for&nbsp;master&nbsp;entries.&nbsp;I&nbsp;believe&nbsp;this&nbsp;to&nbsp;be&nbsp;a&nbsp;bug&nbsp;in&nbsp;Webkit,&nbsp;but&nbsp;cannot&lt;br&gt;&gt;&nbsp;determine&nbsp;from&nbsp;the&nbsp;spec&nbsp;if&nbsp;this&nbsp;is&nbsp;or&nbsp;not.&lt;br&gt;<br>
<br>
<br>
&gt;&lt;br&gt;&gt;&nbsp;Example:&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;1.&nbsp;Navigate&nbsp;to:&nbsp;&lt;a&nbsp;href=&quot;http://www.thecssninja.com/demo/offline_webapp/#foo&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.thecssninja.com/demo/offline_webapp/#foo&lt;/a&gt;&lt;br&gt;&gt;&nbsp;2.&nbsp;Go&nbsp;offline&lt;br&gt;&gt;&nbsp;3.&nbsp;Do&nbsp;a&nbsp;browser&nbsp;refresh&nbsp;and&nbsp;ensure&nbsp;the&nbsp;page&nbsp;refreshes&nbsp;from&nbsp;AppCache.&lt;br&gt;<br>
<br>
<br>
&gt;&nbsp;4.&nbsp;Change&nbsp;the&nbsp;URL&nbsp;hash&nbsp;to&nbsp;#bar&lt;br&gt;&gt;&nbsp;5.&nbsp;Do&nbsp;a&nbsp;browser&nbsp;refresh&nbsp;and&nbsp;notice&nbsp;that&nbsp;it&nbsp;fails&nbsp;to&nbsp;load.&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;I&#39;ve&nbsp;filed&nbsp;a&nbsp;bug&nbsp;on&nbsp;&lt;a&nbsp;href=&quot;http://webkit.org&quot;&nbsp;target=&quot;_blank&quot;&gt;webkit.org&lt;/a&gt;&nbsp;(&lt;a&nbsp;href=&quot;https://bugs.webkit.org/show_bug.cgi?id=26925&quot;&nbsp;target=&quot;_blank&quot;&gt;https://bugs.webkit.org/show_bug.cgi?id=26925&lt;/a&gt;)&lt;br&gt;<br>
<br>
<br>
&gt;&nbsp;regarding&nbsp;this,&nbsp;but&nbsp;realized&nbsp;that&nbsp;the&nbsp;spec&nbsp;is&nbsp;unclear&nbsp;about&nbsp;what&nbsp;is&lt;br&gt;&gt;&nbsp;expected&nbsp;here.&nbsp;Since&nbsp;fragments&nbsp;are&nbsp;not&nbsp;sent&nbsp;to&nbsp;servers,&nbsp;I&nbsp;can&#39;t&nbsp;see&lt;br&gt;&gt;&nbsp;why&nbsp;they&nbsp;would&nbsp;be&nbsp;included&nbsp;in&nbsp;the&nbsp;master&nbsp;entry&nbsp;URLs&nbsp;as&nbsp;they&nbsp;make&nbsp;no&lt;br&gt;<br>
<br>
<br>
&gt;&nbsp;difference&nbsp;in&nbsp;the&nbsp;content&nbsp;that&nbsp;is&nbsp;served.&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;Anyone&nbsp;know&nbsp;if&nbsp;the&nbsp;spec&nbsp;does&nbsp;in&nbsp;fact&nbsp;address&nbsp;this&nbsp;issue?&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;Andrew&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
