<tt>
&lt;html&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;<br>
&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Mar&nbsp;23,&nbsp;2007,&nbsp;at&nbsp;3:49&nbsp;PM,&nbsp;Silvia&nbsp;Pfeiffer&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Hi&nbsp;Eric,&lt;br&gt;&lt;br&gt;On&nbsp;3/24/07,&nbsp;Eric&nbsp;Carlson&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:eric.carlson@apple.com&quot;&nbsp;com_apple_mail_added=&quot;yes&quot;&gt;eric.carlson@apple.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&nbsp;&nbsp;Even&nbsp;without&nbsp;a&nbsp;server&nbsp;component,&nbsp;#2&nbsp;and&nbsp;#3&nbsp;do&nbsp;not&nbsp;require&nbsp;the&nbsp;UA&nbsp;to&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;download&nbsp;the&nbsp;full&nbsp;file&nbsp;if&nbsp;it&nbsp;can&nbsp;use&nbsp;byte&nbsp;range&nbsp;requests&nbsp;for&nbsp;random&nbsp;access&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;and&nbsp;the&nbsp;file&nbsp;format&nbsp;has&nbsp;time&nbsp;to&nbsp;offset&nbsp;tables&nbsp;(eg.&nbsp;the&nbsp;'moov'&nbsp;resource&nbsp;in&nbsp;a&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;QuickTime&nbsp;movie&nbsp;or&nbsp;ISO-based&nbsp;file,&nbsp;the&nbsp;'movi'&nbsp;LIST&nbsp;chunk&nbsp;in&nbsp;an&nbsp;AVI&nbsp;file,&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;etc).&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;I&nbsp;agree&nbsp;partially.&lt;br&gt;&lt;br&gt;You're&nbsp;right&nbsp;-&nbsp;it&nbsp;doesn't&nbsp;need&nbsp;to&nbsp;download&nbsp;everything.&lt;br&gt;&lt;br&gt;But&nbsp;there&nbsp;are&nbsp;two&nbsp;catches:&lt;br&gt;&lt;br&gt;1)&nbsp;The&nbsp;UA&nbsp;doesn't&nbsp;know&nbsp;what&nbsp;byterange&nbsp;a&nbsp;timecode&nbsp;or&nbsp;timerange&nbsp;maps&nbsp;to.&lt;br&gt;So,&nbsp;it&nbsp;has&nbsp;to&nbsp;request&nbsp;this&nbsp;information&nbsp;from&nbsp;the&nbsp;server,&nbsp;who&nbsp;has&nbsp;access&lt;br&gt;to&nbsp;the&nbsp;file.&nbsp;For&nbsp;QuickTime&nbsp;movies,&nbsp;the&nbsp;UA&nbsp;would&nbsp;need&nbsp;to&nbsp;request&nbsp;the&lt;br&gt;offset&nbsp;table&nbsp;from&nbsp;the&nbsp;server&nbsp;and&nbsp;for&nbsp;AVI&nbsp;it&nbsp;would&nbsp;need&nbsp;to&nbsp;request&nbsp;the&lt;br&gt;chunking&nbsp;information.&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;2)&nbsp;Just&nbsp;streaming&nbsp;from&nbsp;an&nbsp;offset&nbsp;of&nbsp;a&nbsp;video&nbsp;file&nbsp;often&nbsp;breaks&nbsp;the&nbsp;file&lt;br&gt;format.&nbsp;For&nbsp;nearly&nbsp;all&nbsp;video&nbsp;formats,&nbsp;there&nbsp;are&nbsp;headers&nbsp;at&nbsp;the&lt;br&gt;beginning&nbsp;of&nbsp;a&nbsp;video&nbsp;file&nbsp;which&nbsp;determine&nbsp;how&nbsp;to&nbsp;decode&nbsp;the&nbsp;video&lt;br&gt;file.&nbsp;Lacking&nbsp;this&nbsp;information,&nbsp;the&nbsp;video&nbsp;files&nbsp;cannot&nbsp;be&nbsp;decoded.&lt;br&gt;Therefore,&nbsp;a&nbsp;simple&nbsp;byterange&nbsp;request&nbsp;of&nbsp;a&nbsp;subpart&nbsp;of&nbsp;the&nbsp;video&nbsp;only&lt;br&gt;results&nbsp;in&nbsp;undecodable&nbsp;content.&nbsp;The&nbsp;server&nbsp;actually&nbsp;has&nbsp;to&nbsp;be&nbsp;more&lt;br&gt;intelligent&nbsp;and&nbsp;provide&nbsp;a&nbsp;re-assembled&nbsp;correct&nbsp;video&nbsp;file&nbsp;if&nbsp;it&nbsp;is&nbsp;to&lt;br&gt;stream&nbsp;from&nbsp;an&nbsp;offset.&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;Yes,&nbsp;the&nbsp;UA&nbsp;needs&nbsp;the&nbsp;offset/chunking&nbsp;table&nbsp;in&nbsp;order&nbsp;to&nbsp;calculate&nbsp;a&nbsp;file&nbsp;offset&nbsp;for&nbsp;a&nbsp;time,&nbsp;but&nbsp;this&nbsp;is&nbsp;efficient&nbsp;in&nbsp;the&nbsp;case&nbsp;of&nbsp;container&nbsp;formats&nbsp;in&nbsp;which&nbsp;the&nbsp;table&nbsp;is&nbsp;stored&nbsp;together&nbsp;with&nbsp;other&nbsp;information&nbsp;that's&nbsp;needed&nbsp;to&nbsp;play&nbsp;the&nbsp;file.&nbsp;This&nbsp;is&nbsp;not&nbsp;the&nbsp;case&nbsp;for&nbsp;all&nbsp;container&nbsp;formats,&nbsp;of&nbsp;course.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;The&nbsp;UA&nbsp;would&nbsp;first&nbsp;use&nbsp;byte&nbsp;range&nbsp;requests&nbsp;to&nbsp;download&nbsp;the&nbsp;header.&nbsp;If&nbsp;the&nbsp;information&nbsp;is&nbsp;stored&nbsp;somewhere&nbsp;other&nbsp;than&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;file,&nbsp;it&nbsp;may&nbsp;take&nbsp;several&nbsp;byterange&nbsp;requests&nbsp;to&nbsp;find&nbsp;it,&nbsp;but&nbsp;this&nbsp;is&nbsp;not&nbsp;much&nbsp;less&nbsp;efficient&nbsp;with&nbsp;ISO-derived&nbsp;or&nbsp;RIFF&nbsp;type&nbsp;formats.&nbsp;Once&nbsp;is&nbsp;has&nbsp;the&nbsp;headers,&nbsp;it&nbsp;will&nbsp;able&nbsp;to&nbsp;calculate&nbsp;the&nbsp;offset&nbsp;for&nbsp;any&nbsp;time&nbsp;in&nbsp;the&nbsp;file&nbsp;and&nbsp;it&nbsp;can&nbsp;request&nbsp;and&nbsp;play&nbsp;the&nbsp;media&nbsp;for&nbsp;*any*&nbsp;time&nbsp;range&nbsp;in&nbsp;the&nbsp;file.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;This&nbsp;scheme&nbsp;has&nbsp;the&nbsp;added&nbsp;benefit&nbsp;of&nbsp;not&nbsp;requiring&nbsp;the&nbsp;header&nbsp;to&nbsp;be&nbsp;downloaded&nbsp;again&nbsp;if&nbsp;the&nbsp;user&nbsp;requests&nbsp;another&nbsp;time&nbsp;range&nbsp;in&nbsp;the&nbsp;same&nbsp;file.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;eric&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
