<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;charset=UTF-8&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000099&quot;&gt;<br>
Ian&nbsp;Hickson&nbsp;wrote:<br>
&lt;blockquote<br>
&nbsp;cite=&quot;mid:Pine.LNX.4.62.0806102141080.6527@hixie.dreamhostps.com&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;On&nbsp;Tue,&nbsp;10&nbsp;Jun&nbsp;2008,&nbsp;Honza&nbsp;Bambas&nbsp;wrote:<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Hi,&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;ask&nbsp;for&nbsp;clarification&nbsp;of&nbsp;opportunistic&nbsp;caching&nbsp;spec&nbsp;<br>
in&nbsp;Offline&nbsp;Web&nbsp;Applications,&nbsp;the&nbsp;article&nbsp;4.9.1.9.&nbsp;Adding&nbsp;a&nbsp;resource&nbsp;whom&nbsp;<br>
URI&nbsp;matches&nbsp;an&nbsp;opportunistic&nbsp;name&nbsp;space&nbsp;seems&nbsp;to&nbsp;be&nbsp;done&nbsp;only&nbsp;for&nbsp;top&nbsp;<br>
level&nbsp;documents&nbsp;according&nbsp;to&nbsp;the&nbsp;article&nbsp;4.9.1.9,&nbsp;cite:&nbsp;&quot;If&nbsp;the&nbsp;resource&nbsp;<br>
was&nbsp;not&nbsp;fetched&nbsp;from...&quot;&nbsp;where&nbsp;the&nbsp;resource&nbsp;refers,&nbsp;as&nbsp;I&nbsp;understand,&nbsp;the&nbsp;<br>
top-level&nbsp;document&nbsp;being&nbsp;navigated.<br>
<br>
I&nbsp;didn't&nbsp;find&nbsp;any&nbsp;other&nbsp;place&nbsp;where&nbsp;a&nbsp;resource&nbsp;whom&nbsp;URI&nbsp;matched&nbsp;an&nbsp;<br>
opportunistic&nbsp;entry&nbsp;would&nbsp;be&nbsp;added&nbsp;to&nbsp;a&nbsp;cache&nbsp;as&nbsp;opportunistically&nbsp;<br>
cached.&nbsp;I&nbsp;would&nbsp;naturally&nbsp;expect&nbsp;it&nbsp;were&nbsp;part&nbsp;of&nbsp;the&nbsp;networking&nbsp;model,&nbsp;<br>
article&nbsp;4.7.5.1&nbsp;-&nbsp;&quot;Changes&nbsp;to&nbsp;the&nbsp;networking&nbsp;model&quot;,&nbsp;but&nbsp;I&nbsp;couldn't&nbsp;find&nbsp;<br>
it,&nbsp;at&nbsp;least&nbsp;not&nbsp;explicitly,&nbsp;expressed.<br>
<br>
Maybe&nbsp;I&nbsp;am&nbsp;missing&nbsp;something&nbsp;in&nbsp;the&nbsp;networking&nbsp;model&nbsp;spec:&nbsp;in&nbsp;article&nbsp;<br>
4.7.5.1.4&nbsp;when&nbsp;URI&nbsp;matches&nbsp;a&nbsp;name&nbsp;space&nbsp;it&nbsp;have&nbsp;to&nbsp;be&nbsp;&quot;fetched&nbsp;<br>
normally&quot;.&nbsp;Should&nbsp;implementers&nbsp;replace&nbsp;normal&nbsp;HTTP&nbsp;cache&nbsp;used&nbsp;for&nbsp;<br>
writing&nbsp;by&nbsp;offline&nbsp;cache&nbsp;to&nbsp;store&nbsp;the&nbsp;resource&nbsp;in&nbsp;it?&nbsp;Instead&nbsp;of&nbsp;normal&nbsp;<br>
HTTP&nbsp;cache?<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
Resources&nbsp;can&nbsp;only&nbsp;be&nbsp;cached&nbsp;as&nbsp;opportunistically&nbsp;cached&nbsp;entries&nbsp;if&nbsp;a&nbsp;<br>
browsing&nbsp;context&nbsp;is&nbsp;navigated,&nbsp;but&nbsp;it&nbsp;doesn't&nbsp;have&nbsp;to&nbsp;be&nbsp;a&nbsp;top-level&nbsp;<br>
browsing&nbsp;context.&nbsp;The&nbsp;caching&nbsp;happens&nbsp;in&nbsp;the&nbsp;&quot;Otherwise&quot;&nbsp;clause&nbsp;of&nbsp;step&nbsp;9&nbsp;<br>
of&nbsp;the&nbsp;4.9.1&nbsp;Navigating&nbsp;across&nbsp;documents&nbsp;&quot;navigation&quot;&nbsp;algorithm.<br>
<br>
If&nbsp;by&nbsp;&quot;top-level&quot;&nbsp;you&nbsp;don't&nbsp;mean&nbsp;a&nbsp;window/tab,&nbsp;but&nbsp;mean&nbsp;any&nbsp;iframe&nbsp;or&nbsp;<br>
frame&nbsp;content&nbsp;document,&nbsp;as&nbsp;opposed&nbsp;to&nbsp;an&nbsp;image,&nbsp;a&nbsp;stylesheet,&nbsp;or&nbsp;some&nbsp;<br>
such,&nbsp;then&nbsp;you&nbsp;are&nbsp;correct.&nbsp;The&nbsp;use&nbsp;case&nbsp;was&nbsp;really&nbsp;just&nbsp;replacing&nbsp;pages,&nbsp;<br>
e.g.&nbsp;Flickr&nbsp;pages,&nbsp;when&nbsp;the&nbsp;whole&nbsp;site&nbsp;isn't&nbsp;cached.&nbsp;Do&nbsp;you&nbsp;think&nbsp;this&nbsp;<br>
should&nbsp;be&nbsp;changed&nbsp;to&nbsp;opportunistically&nbsp;cache&nbsp;anything&nbsp;accessed?<br>
<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
(Sorry&nbsp;for&nbsp;late&nbsp;answer,&nbsp;email&nbsp;has&nbsp;probably&nbsp;been&nbsp;lost...)&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;a&nbsp;lot&nbsp;for&nbsp;clarification.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;was&nbsp;talking&nbsp;with&nbsp;my&nbsp;colleague&nbsp;about&nbsp;it&nbsp;and&nbsp;we&nbsp;both&nbsp;agree&nbsp;it&nbsp;would&nbsp;be<br>
useful&nbsp;(and&nbsp;probably&nbsp;more&nbsp;easy&nbsp;to&nbsp;implement)&nbsp;for&nbsp;ANY&nbsp;resource&nbsp;being<br>
fetched<br>
inside&nbsp;of&nbsp;browsing&nbsp;context&nbsp;associated&nbsp;with&nbsp;an&nbsp;application&nbsp;cache&nbsp;to<br>
opportunistically&nbsp;cache&nbsp;it&nbsp;and&nbsp;not&nbsp;just&nbsp;do&nbsp;it&nbsp;for&nbsp;results&nbsp;of<br>
navigation,&nbsp;i.e.&nbsp;top-level&nbsp;document,&nbsp;iframe&nbsp;source&nbsp;and&nbsp;frame&nbsp;source.&nbsp;A<br>
set&nbsp;of&nbsp;pictures/icons/css&nbsp;styles&nbsp;could&nbsp;be&nbsp;easily&nbsp;cached&nbsp;this&nbsp;way&nbsp;w/o<br>
explicitly&nbsp;listing&nbsp;them&nbsp;in&nbsp;the&nbsp;manifest.&lt;br&gt;<br>
&lt;br&gt;<br>
At&nbsp;this&nbsp;point&nbsp;it&nbsp;would&nbsp;be&nbsp;good&nbsp;to&nbsp;say&nbsp;what&nbsp;really&nbsp;is<br>
intention/motivation&nbsp;of&nbsp;opportunistic&nbsp;caching&nbsp;itself.&nbsp;Maybe&nbsp;I&nbsp;am<br>
missing&nbsp;the&nbsp;purpose&nbsp;and&nbsp;potentially&nbsp;open&nbsp;a&nbsp;security&nbsp;hole&nbsp;or&nbsp;a&nbsp;kind&nbsp;of<br>
attack&nbsp;this&nbsp;way.&lt;br&gt;<br>
&lt;br&gt;<br>
Honza&nbsp;Bambas&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
