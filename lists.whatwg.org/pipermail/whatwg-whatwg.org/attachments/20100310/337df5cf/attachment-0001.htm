<tt>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2010/3/10&nbsp;Ian&nbsp;Fette&nbsp;($B%$%&quot;%s%U%'%C%F%#(B)&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:ifette@google.com&quot;&gt;ifette@google.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
<br>
As&nbsp;I&nbsp;talk&nbsp;with&nbsp;more&nbsp;application&nbsp;developers&nbsp;(both&nbsp;within&nbsp;Google&nbsp;and&nbsp;at&nbsp;large),&nbsp;one&nbsp;thing&nbsp;that&nbsp;consistently&nbsp;gets&nbsp;pointed&nbsp;out&nbsp;to&nbsp;me&nbsp;as&nbsp;a&nbsp;problem&nbsp;is&nbsp;the&nbsp;notion&nbsp;of&nbsp;the&nbsp;opaqueness&nbsp;of&nbsp;storage&nbsp;quotas&nbsp;in&nbsp;all&nbsp;of&nbsp;the&nbsp;new&nbsp;storage&nbsp;mechanisms&nbsp;(Local&nbsp;Storage,&nbsp;Web&nbsp;SQL&nbsp;Database,&nbsp;Web&nbsp;Indexed&nbsp;Database,&nbsp;the&nbsp;Filesystem&nbsp;API&nbsp;being&nbsp;worked&nbsp;on&nbsp;in&nbsp;DAP,&nbsp;etc).&nbsp;First,&nbsp;without&nbsp;being&nbsp;able&nbsp;to&nbsp;know&nbsp;how&nbsp;large&nbsp;your&nbsp;quota&nbsp;currently&nbsp;is&nbsp;and&nbsp;how&nbsp;much&nbsp;headroom&nbsp;you&nbsp;are&nbsp;using,&nbsp;it&nbsp;is&nbsp;very&nbsp;difficult&nbsp;to&nbsp;plan&nbsp;in&nbsp;an&nbsp;efficient&nbsp;manner.&nbsp;For&nbsp;instance,&nbsp;if&nbsp;you&nbsp;are&nbsp;trying&nbsp;to&nbsp;sync&nbsp;email,&nbsp;I&nbsp;think&nbsp;it&nbsp;is&nbsp;reasonable&nbsp;to&nbsp;ask&nbsp;&amp;quot;how&nbsp;much&nbsp;space&nbsp;do&nbsp;I&nbsp;have,&amp;quot;&nbsp;as&nbsp;opposed&nbsp;to&nbsp;just&nbsp;getting&nbsp;halfway&nbsp;through&nbsp;an&nbsp;update&nbsp;and&nbsp;finding&nbsp;out&nbsp;that&nbsp;you&nbsp;hit&nbsp;your&nbsp;quota,&nbsp;rolling&nbsp;back&nbsp;the&nbsp;transaction,&nbsp;trying&nbsp;again&nbsp;with&nbsp;a&nbsp;smaller&nbsp;subset,&nbsp;realizing&nbsp;you&nbsp;still&nbsp;hit&nbsp;your&nbsp;quota,&nbsp;etc.&amp;nbsp;&lt;div&gt;<br>
<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;would&nbsp;like&nbsp;to&nbsp;see&nbsp;a&nbsp;method&nbsp;added,&nbsp;for&nbsp;any&nbsp;&amp;quot;storage&nbsp;mechanism&amp;quot;,&nbsp;something&nbsp;like&nbsp;&amp;quot;GetCurrentQuota()&amp;quot;&nbsp;and&nbsp;&amp;quot;GetCurrentQuotaUsed()&amp;quot;.&nbsp;(I&nbsp;specifically&nbsp;don&amp;#39;t&nbsp;care&nbsp;what&nbsp;they&amp;#39;re&nbsp;called&nbsp;or&nbsp;the&nbsp;details,&nbsp;e.g.&nbsp;whether&nbsp;they&nbsp;need&nbsp;to&nbsp;be&nbsp;callbacks,&nbsp;I&nbsp;just&nbsp;want&nbsp;to&nbsp;see&nbsp;us&nbsp;address&nbsp;this&nbsp;use&nbsp;case.)&lt;/div&gt;<br>
<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;too&nbsp;have&nbsp;heard&nbsp;this&nbsp;plea&nbsp;over&nbsp;and&nbsp;over&nbsp;again.&nbsp;&amp;nbsp;I&amp;#39;ve&nbsp;also&nbsp;heard&nbsp;that&nbsp;even&nbsp;knowing&nbsp;the&nbsp;order&nbsp;of&nbsp;magnitude&nbsp;of&nbsp;headway&nbsp;would&nbsp;be&nbsp;useful.&nbsp;&amp;nbsp;This&nbsp;is&nbsp;nearly&nbsp;a&nbsp;deal&nbsp;breaker&nbsp;for&nbsp;a&nbsp;lot&nbsp;of&nbsp;apps.&nbsp;&amp;nbsp;Having&nbsp;to&nbsp;gracefully&nbsp;handle&nbsp;a&nbsp;quota&nbsp;related&nbsp;error&nbsp;_every_&nbsp;single&nbsp;time&nbsp;you&nbsp;do&nbsp;an&nbsp;operation&nbsp;is&nbsp;a&nbsp;big&nbsp;pain.&lt;/div&gt;<br>
<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&gt;Secondly,&nbsp;I&nbsp;think&nbsp;we&nbsp;need&nbsp;a&nbsp;better&nbsp;answer&nbsp;for&nbsp;obtaining&nbsp;a&nbsp;larger&nbsp;quota.&nbsp;Let&amp;#39;s&nbsp;think&nbsp;for&nbsp;a&nbsp;moment&nbsp;about&nbsp;the&nbsp;use&nbsp;cases&nbsp;--&nbsp;in&nbsp;most&nbsp;instances,&nbsp;I&nbsp;am&nbsp;going&nbsp;to&nbsp;make&nbsp;a&nbsp;decision&nbsp;that&nbsp;I&nbsp;want&nbsp;to&nbsp;use&nbsp;an&nbsp;application&nbsp;offline.&nbsp;(I&nbsp;personally&nbsp;would&nbsp;not&nbsp;expect&nbsp;to&nbsp;browse&nbsp;to&nbsp;a&nbsp;site&nbsp;and&nbsp;then&nbsp;just&nbsp;happen&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;use&nbsp;it&nbsp;offline,&nbsp;nor&nbsp;do&nbsp;I&nbsp;expect&nbsp;users&nbsp;to&nbsp;have&nbsp;that&nbsp;expectation&nbsp;or&nbsp;experience.&nbsp;Rather,&nbsp;I&nbsp;expect&nbsp;going&nbsp;through&nbsp;some&nbsp;sort&nbsp;of&nbsp;flow&nbsp;like&nbsp;clicking&nbsp;something&nbsp;that&nbsp;says&nbsp;&amp;quot;Yes,&nbsp;I&nbsp;want&nbsp;to&nbsp;use&nbsp;Application&nbsp;X&nbsp;offline&amp;quot;.&nbsp;At&nbsp;this&nbsp;point,&nbsp;I&nbsp;want&nbsp;to&nbsp;get&nbsp;any&nbsp;permissioning&nbsp;issues&nbsp;out&nbsp;of&nbsp;the&nbsp;way.&nbsp;I&nbsp;don&amp;#39;t&nbsp;want&nbsp;to&nbsp;wait&nbsp;until&nbsp;the&nbsp;data&nbsp;sync&nbsp;to&nbsp;the&nbsp;Web&nbsp;XXX&nbsp;Database&nbsp;starts&nbsp;failing&nbsp;10&nbsp;minutes&nbsp;later&nbsp;to&nbsp;pop&nbsp;up&nbsp;an&nbsp;infobar&nbsp;that&nbsp;is&nbsp;no&nbsp;longer&nbsp;in&nbsp;the&nbsp;user&amp;#39;s&nbsp;current&nbsp;flow&nbsp;/&nbsp;state&nbsp;of&nbsp;mind,&nbsp;I&nbsp;don&amp;#39;t&nbsp;want&nbsp;to&nbsp;then&nbsp;pop&nbsp;up&nbsp;another&nbsp;infobar&nbsp;30&nbsp;minutes&nbsp;later&nbsp;saying&nbsp;their&nbsp;Filesystem&nbsp;quota&nbsp;is&nbsp;full,&nbsp;etc.&nbsp;I&nbsp;want&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;get&nbsp;this&nbsp;out&nbsp;of&nbsp;the&nbsp;way&nbsp;all&nbsp;at&nbsp;once,&nbsp;at&nbsp;a&nbsp;point&nbsp;in&nbsp;time&nbsp;where&nbsp;I&nbsp;believe&nbsp;the&nbsp;user&nbsp;is&nbsp;actually&nbsp;in&nbsp;the&nbsp;mindset&nbsp;/&nbsp;task&nbsp;of&nbsp;deciding&nbsp;that&nbsp;they&nbsp;want&nbsp;to&nbsp;use&nbsp;my&nbsp;web&nbsp;application.&nbsp;I&nbsp;specifically&nbsp;do&nbsp;not&nbsp;want&nbsp;to&nbsp;have&nbsp;to&nbsp;deal&nbsp;with&nbsp;4&nbsp;different&nbsp;infobars,&nbsp;potentially&nbsp;at&nbsp;4&nbsp;different&nbsp;points&nbsp;in&nbsp;time,&nbsp;to&nbsp;use&nbsp;an&nbsp;application&nbsp;I&nbsp;have&nbsp;decided&nbsp;I&nbsp;want&nbsp;to&nbsp;use.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;To&nbsp;that&nbsp;point,&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;see&nbsp;a&nbsp;method&nbsp;added&nbsp;(presumably&nbsp;that&nbsp;can&nbsp;only&nbsp;be&nbsp;called&nbsp;in&nbsp;response&nbsp;to&nbsp;a&nbsp;user&nbsp;action)&nbsp;that&nbsp;would&nbsp;allow&nbsp;my&nbsp;page&nbsp;to&nbsp;request&nbsp;a&nbsp;bundle&nbsp;of&nbsp;permissions.&nbsp;I&nbsp;am&nbsp;going&nbsp;to&nbsp;go&nbsp;out&nbsp;on&nbsp;a&nbsp;limb&nbsp;here&nbsp;and&nbsp;include&nbsp;geolocation&nbsp;in&nbsp;this&nbsp;bundle.&nbsp;Some&nbsp;sort&nbsp;of&nbsp;a&nbsp;callback&nbsp;type&nbsp;API&nbsp;where&nbsp;I&nbsp;pass&nbsp;in&nbsp;a&nbsp;list&nbsp;of&nbsp;permissions&nbsp;that&nbsp;I&nbsp;want,&nbsp;the&nbsp;UA&nbsp;is&nbsp;free&nbsp;to&nbsp;display&nbsp;this&nbsp;to&nbsp;the&nbsp;user&nbsp;in&nbsp;whatever&nbsp;mechanism&nbsp;it&nbsp;determines&nbsp;appropriate&nbsp;(if&nbsp;at&nbsp;all&nbsp;--&nbsp;e.g.&nbsp;if&nbsp;the&nbsp;user&nbsp;has&nbsp;already&nbsp;denied&nbsp;geolocation&nbsp;and&nbsp;that&amp;#39;s&nbsp;being&nbsp;requested&nbsp;again,&nbsp;as&nbsp;a&nbsp;UA&nbsp;i&nbsp;might&nbsp;decide&nbsp;not&nbsp;to&nbsp;present&nbsp;that&nbsp;request).&nbsp;That&nbsp;is,&nbsp;I&nbsp;could&nbsp;pass&nbsp;in&nbsp;something&nbsp;like&nbsp;[&amp;quot;LocalStorageQuota&amp;quot;,&nbsp;20*1024*1024&nbsp;/*&nbsp;20M&nbsp;*/,&nbsp;&amp;quot;WebSQLQuota&amp;quot;,&nbsp;1*1024*1024*1024&nbsp;/*&nbsp;1GB&nbsp;*/,&nbsp;&amp;quot;FileSystemQuota&amp;quot;,&nbsp;10*1024*1024*1024&nbsp;/*&nbsp;10GB&nbsp;*/,&nbsp;&amp;quot;Geolocation&amp;quot;,&nbsp;true],&nbsp;and&nbsp;the&nbsp;callback&nbsp;could&nbsp;then&nbsp;(as&nbsp;a&nbsp;convenience)&nbsp;indicate&nbsp;the&nbsp;current&nbsp;quota&nbsp;for&nbsp;all&nbsp;of&nbsp;the&nbsp;things&nbsp;that&nbsp;I&nbsp;asked&nbsp;for,&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;figure&nbsp;out&nbsp;whether&nbsp;the&nbsp;user&nbsp;accepted,&nbsp;denied,&nbsp;or&nbsp;accepted&nbsp;and&nbsp;modified&nbsp;the&nbsp;request&nbsp;and&nbsp;how&nbsp;I&nbsp;can&nbsp;then&nbsp;proceed&nbsp;(or&nbsp;not&nbsp;proceed).&nbsp;Again,&nbsp;I&nbsp;don&amp;#39;t&nbsp;care&nbsp;terribly&nbsp;about&nbsp;the&nbsp;details&nbsp;of&nbsp;how&nbsp;the&nbsp;API&nbsp;looks,&nbsp;the&nbsp;above&nbsp;is&nbsp;just&nbsp;meant&nbsp;for&nbsp;illustration.&lt;/div&gt;<br>
<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;wish&nbsp;you&nbsp;had&nbsp;put&nbsp;this&nbsp;in&nbsp;its&nbsp;own&nbsp;email.&nbsp;&amp;nbsp;These&nbsp;are&nbsp;really&nbsp;two&nbsp;very&nbsp;different&nbsp;subjects.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That&nbsp;said,&nbsp;I&nbsp;agree&nbsp;with&nbsp;you...as&nbsp;long&nbsp;as&nbsp;we&nbsp;can&nbsp;do&nbsp;it&nbsp;in&nbsp;a&nbsp;manor&nbsp;that&amp;#39;s&nbsp;completely&nbsp;unobtrusive&nbsp;and&nbsp;not&nbsp;in&nbsp;the&nbsp;&amp;quot;Do&nbsp;you&nbsp;want&nbsp;this&nbsp;app&nbsp;to&nbsp;work:&nbsp;yes&nbsp;or&nbsp;no&amp;quot;&nbsp;style&nbsp;(where&nbsp;yes&nbsp;implies&nbsp;giving&nbsp;them&nbsp;tons&nbsp;of&nbsp;permissions).&nbsp;&amp;nbsp;Ideally&nbsp;with&nbsp;an&nbsp;&amp;lt;input&amp;gt;&nbsp;type.&nbsp;&amp;nbsp;Perhaps&nbsp;the&nbsp;input&nbsp;could&nbsp;have&nbsp;parameters&nbsp;that&nbsp;give&nbsp;the&nbsp;&amp;quot;recommended&amp;quot;&nbsp;values&nbsp;and&nbsp;then&nbsp;leave&nbsp;the&nbsp;rest&nbsp;up&nbsp;to&nbsp;the&nbsp;UA&nbsp;to&nbsp;help&nbsp;advise&nbsp;the&nbsp;user?&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;J&lt;/div&gt;&lt;/div&gt;
</tt>
