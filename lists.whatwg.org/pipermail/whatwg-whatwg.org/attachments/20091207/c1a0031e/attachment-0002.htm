<tt>
We&nbsp;discussed&nbsp;this&nbsp;previously&nbsp;(&lt;a&nbsp;href=&quot;http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2009-July/020865.html&quot;&gt;http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2009-July/020865.html&lt;/a&gt;)&nbsp;-&nbsp;the&nbsp;consensus&nbsp;was&nbsp;that&nbsp;since&nbsp;the&nbsp;Worker&nbsp;APIs&nbsp;are&nbsp;inherently&nbsp;asynchronous,&nbsp;user&nbsp;agents&nbsp;were&nbsp;free&nbsp;to&nbsp;impose&nbsp;limits&nbsp;on&nbsp;worker&nbsp;creation&nbsp;(and&nbsp;queue&nbsp;up&nbsp;new&nbsp;creation&nbsp;requests&nbsp;when&nbsp;the&nbsp;limit&nbsp;has&nbsp;been&nbsp;hit),&nbsp;but&nbsp;the&nbsp;spec&nbsp;should&nbsp;be&nbsp;silent&nbsp;on&nbsp;this&nbsp;issue.&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;FWIW,&nbsp;Chrome&nbsp;does&nbsp;this&nbsp;-&nbsp;we&nbsp;limit&nbsp;each&nbsp;tab&nbsp;to&nbsp;a&nbsp;maximum&nbsp;of&nbsp;16&nbsp;workers,&nbsp;with&nbsp;an&nbsp;overall&nbsp;limit&nbsp;of&nbsp;64&nbsp;-&nbsp;the&nbsp;17th&nbsp;worker&nbsp;creation&nbsp;request&nbsp;for&nbsp;a&nbsp;tab&nbsp;is&nbsp;queued&nbsp;up&nbsp;until&nbsp;another&nbsp;worker&nbsp;exits&nbsp;to&nbsp;make&nbsp;room&nbsp;for&nbsp;it.&nbsp;Chrome&nbsp;currently&nbsp;has&nbsp;the&nbsp;limitation&nbsp;that&nbsp;each&nbsp;worker&nbsp;runs&nbsp;in&nbsp;its&nbsp;own&nbsp;process&nbsp;-&nbsp;when&nbsp;we&nbsp;address&nbsp;that&nbsp;limitation,&nbsp;we&nbsp;expect&nbsp;to&nbsp;adjust&nbsp;the&nbsp;limits&nbsp;accordingly.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-atw&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Dec&nbsp;7,&nbsp;2009&nbsp;at&nbsp;1:39&nbsp;PM,&nbsp;David&nbsp;Bruant&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:bruant@enseirb-matmeca.fr&quot;&gt;bruant@enseirb-matmeca.fr&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;David&nbsp;Bruant&nbsp;:&lt;br&gt;<br>
&gt;&nbsp;&quot;In&nbsp;the&nbsp;delegation&nbsp;example,&nbsp;the&nbsp;number&nbsp;of&nbsp;workers&nbsp;chosen&nbsp;is&nbsp;an&nbsp;arbitrary&lt;br&gt;<br>
&gt;&nbsp;10.&nbsp;But,&nbsp;in&nbsp;a&nbsp;single-core&nbsp;processor,&nbsp;having&nbsp;only&nbsp;one&nbsp;worker&nbsp;will&nbsp;result&lt;br&gt;<br>
&gt;&nbsp;in&nbsp;more&nbsp;or&nbsp;less&nbsp;the&nbsp;same&nbsp;running&nbsp;time,&nbsp;because&nbsp;at&nbsp;the&nbsp;end,&nbsp;each&nbsp;worker&lt;br&gt;<br>
&gt;&nbsp;runs&nbsp;on&nbsp;the&nbsp;only&nbsp;core.&quot;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
Ian&nbsp;Hickson&nbsp;:&lt;br&gt;<br>
&quot;That&nbsp;depends&nbsp;on&nbsp;the&nbsp;algorithm.&nbsp;If&nbsp;the&nbsp;algorithm&nbsp;uses&nbsp;a&nbsp;lot&nbsp;of&nbsp;data,&nbsp;then&lt;br&gt;<br>
a&nbsp;single&nbsp;hardware&nbsp;thread&nbsp;might&nbsp;be&nbsp;able&nbsp;to&nbsp;run&nbsp;two&nbsp;workers&nbsp;in&nbsp;the&nbsp;same&nbsp;time&lt;br&gt;<br>
as&nbsp;it&nbsp;runs&nbsp;one,&nbsp;with&nbsp;one&nbsp;worker&nbsp;waiting&nbsp;for&nbsp;data&nbsp;while&nbsp;the&nbsp;other&nbsp;runs&lt;br&gt;<br>
code,&nbsp;and&nbsp;with&nbsp;the&nbsp;workers&nbsp;trading&nbsp;back&nbsp;and&nbsp;forth.&lt;br&gt;<br>
&lt;br&gt;<br>
Personally&nbsp;I&nbsp;would&nbsp;recommend&nbsp;basing&nbsp;the&nbsp;number&nbsp;of&nbsp;workers&nbsp;on&nbsp;the&nbsp;number&nbsp;of&lt;br&gt;<br>
shards&nbsp;that&nbsp;the&nbsp;input&nbsp;data&nbsp;is&nbsp;split&nbsp;into,&nbsp;and&nbsp;then&nbsp;relying&nbsp;on&nbsp;the&nbsp;UA&nbsp;to&lt;br&gt;<br>
avoid&nbsp;thrashing.&nbsp;I&nbsp;would&nbsp;expect&nbsp;UAs&nbsp;to&nbsp;notice&nbsp;when&nbsp;a&nbsp;script&nbsp;spawns&nbsp;a&lt;br&gt;<br>
bazillion&nbsp;workers,&nbsp;and&nbsp;have&nbsp;the&nbsp;UA&nbsp;run&nbsp;them&nbsp;in&nbsp;a&nbsp;staggered&nbsp;fashion,&nbsp;so&nbsp;as&lt;br&gt;<br>
to&nbsp;not&nbsp;starve&nbsp;the&nbsp;system&nbsp;resources.&nbsp;This&nbsp;is&nbsp;almost&nbsp;certainly&nbsp;needed&lt;br&gt;<br>
anyway,&nbsp;to&nbsp;prevent&nbsp;pages&nbsp;from&nbsp;DOSing&nbsp;the&nbsp;user&#39;s&nbsp;system.&quot;&lt;br&gt;<br>
&lt;br&gt;<br>
=&gt;&nbsp;Wouldn&#39;t&nbsp;it&nbsp;be&nbsp;preferable&nbsp;to&nbsp;have&nbsp;an&nbsp;implementation-dependant&nbsp;&quot;maximum&nbsp;number&nbsp;of&nbsp;workers&quot;&nbsp;and&nbsp;to&nbsp;raise&nbsp;a&nbsp;security&nbsp;exception&nbsp;when&nbsp;this&nbsp;number&nbsp;is&nbsp;reached&nbsp;?&nbsp;Maximum&nbsp;per&nbsp;domain&nbsp;?&nbsp;per&nbsp;document&nbsp;?&lt;br&gt;<br>
Maybe&nbsp;a&nbsp;different&nbsp;maximum&nbsp;for&nbsp;shared&nbsp;and&nbsp;dedicated&nbsp;workers.&lt;br&gt;<br>
&lt;br&gt;<br>
Any&nbsp;opinion&nbsp;on&nbsp;this&nbsp;?&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
David&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
