<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=UTF-8&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
Ian&nbsp;Hickson&nbsp;wrote:<br>
&lt;blockquote<br>
&nbsp;cite=&quot;mid:Pine.LNX.4.62.0906050737560.1648@hixie.dreamhostps.com&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;On&nbsp;Mon,&nbsp;18&nbsp;May&nbsp;2009,&nbsp;Brett&nbsp;Zamir&nbsp;wrote:<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Section&nbsp;10.1,&nbsp;&quot;Writing&nbsp;XHTML&nbsp;documents&quot;&nbsp;observes:&nbsp;&quot;According&nbsp;to&nbsp;the&nbsp;XML&nbsp;<br>
specification,&nbsp;XML&nbsp;processors&nbsp;are&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;process&nbsp;the&nbsp;external&nbsp;<br>
DTD&nbsp;subset&nbsp;referenced&nbsp;in&nbsp;the&nbsp;DOCTYPE.&quot;<br>
<br>
While&nbsp;this&nbsp;is&nbsp;true,&nbsp;since&nbsp;no&nbsp;doubt&nbsp;the&nbsp;majority&nbsp;of&nbsp;web&nbsp;browsers&nbsp;are&nbsp;<br>
already&nbsp;able&nbsp;to&nbsp;process&nbsp;external&nbsp;stylesheets&nbsp;or&nbsp;scripts,&nbsp;might&nbsp;the&nbsp;very&nbsp;<br>
useful&nbsp;feature&nbsp;of&nbsp;external&nbsp;entity&nbsp;files,&nbsp;be&nbsp;employed&nbsp;by&nbsp;XHTML&nbsp;5&nbsp;as&nbsp;a&nbsp;<br>
stricter&nbsp;subset&nbsp;of&nbsp;XML&nbsp;(similar&nbsp;to&nbsp;how&nbsp;XML&nbsp;Namespaces&nbsp;re-annexed&nbsp;the&nbsp;<br>
colon&nbsp;character)&nbsp;in&nbsp;order&nbsp;to&nbsp;allow&nbsp;this&nbsp;useful&nbsp;feature&nbsp;to&nbsp;work&nbsp;for&nbsp;XHTML&nbsp;<br>
(to&nbsp;have&nbsp;access&nbsp;to&nbsp;HTML&nbsp;entities&nbsp;or&nbsp;other&nbsp;useful&nbsp;entities&nbsp;for&nbsp;one,&nbsp;as&nbsp;<br>
well&nbsp;as&nbsp;enable&nbsp;a&nbsp;poor&nbsp;man's&nbsp;localization,&nbsp;etc.)?<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
While&nbsp;there&nbsp;are&nbsp;arguments&nbsp;on&nbsp;both&nbsp;sides&nbsp;of&nbsp;whether&nbsp;this&nbsp;is&nbsp;a&nbsp;good&nbsp;idea&nbsp;or&nbsp;<br>
not,&nbsp;I&nbsp;think&nbsp;the&nbsp;more&nbsp;important&nbsp;concern&nbsp;in&nbsp;this&nbsp;case&nbsp;is&nbsp;whether&nbsp;we&nbsp;can&nbsp;<br>
extend&nbsp;XML&nbsp;in&nbsp;this&nbsp;way.&nbsp;I&nbsp;think&nbsp;in&nbsp;practice&nbsp;we&nbsp;should&nbsp;leave&nbsp;this&nbsp;up&nbsp;to&nbsp;the&nbsp;<br>
XML&nbsp;specs&nbsp;and&nbsp;their&nbsp;successors.&nbsp;I&nbsp;don't&nbsp;think&nbsp;it&nbsp;would&nbsp;be&nbsp;appropriate&nbsp;for&nbsp;<br>
us&nbsp;to&nbsp;profile&nbsp;the&nbsp;XML&nbsp;spec&nbsp;in&nbsp;this&nbsp;way.<br>
<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
While&nbsp;it&nbsp;is&nbsp;not&nbsp;my&nbsp;purpose&nbsp;to&nbsp;extend&nbsp;the&nbsp;debate&nbsp;on&nbsp;external&nbsp;DTD's,&nbsp;I<br>
wanted&nbsp;to&nbsp;bring&nbsp;up&nbsp;the&nbsp;following&nbsp;points&nbsp;(brought&nbsp;to&nbsp;light&nbsp;after&nbsp;a<br>
recent&nbsp;re-review&nbsp;of&nbsp;the&nbsp;spec)&nbsp;because&nbsp;it&nbsp;raises&nbsp;a&nbsp;few&nbsp;serious<br>
issues&nbsp;which&nbsp;I&nbsp;believe&nbsp;current&nbsp;browsers&nbsp;are&nbsp;failing&nbsp;at,&nbsp;and&nbsp;if&nbsp;the<br>
browsers&nbsp;do&nbsp;not&nbsp;address&nbsp;these&nbsp;issues,&nbsp;they&nbsp;would&nbsp;make&nbsp;claims&nbsp;for&nbsp;real<br>
XHTML<br>
5&nbsp;support&nbsp;(as&nbsp;with&nbsp;XHTML&nbsp;1.*&nbsp;and&nbsp;plain&nbsp;XML&nbsp;support)&nbsp;unworkable.&nbsp;While&nbsp;I<br>
agree&nbsp;that&nbsp;any&nbsp;changes&nbsp;to&nbsp;XML&nbsp;itself&nbsp;should&nbsp;be&nbsp;up&nbsp;to&nbsp;the&nbsp;XML&nbsp;specs,<br>
from&nbsp;what&nbsp;I&nbsp;can&nbsp;now&nbsp;tell,&nbsp;it&nbsp;looks&nbsp;like&nbsp;a&nbsp;closer&nbsp;adherence&nbsp;to&nbsp;the<br>
existing&nbsp;spec&nbsp;would&nbsp;solve&nbsp;most<br>
of&nbsp;the&nbsp;existing&nbsp;problems.&nbsp;I&nbsp;wanted&nbsp;to&nbsp;share&nbsp;the&nbsp;following&nbsp;points&nbsp;which<br>
I&nbsp;think<br>
could&nbsp;resolve&nbsp;most&nbsp;of&nbsp;the&nbsp;issues,&nbsp;if&nbsp;the&nbsp;browsers&nbsp;would&nbsp;make&nbsp;the<br>
required&nbsp;changes.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;was&nbsp;pleasantly&nbsp;surprised&nbsp;to&nbsp;find<br>
that&nbsp;the&nbsp;spec&nbsp;seems&nbsp;to&nbsp;recommend&nbsp;solutions&nbsp;which&nbsp;I&nbsp;believe&nbsp;avoid&nbsp;the<br>
more&nbsp;serious&nbsp;issue&nbsp;of&nbsp;single<br>
point&nbsp;of&nbsp;failure&nbsp;problems.&lt;br&gt;<br>
&lt;br&gt;<br>
(The&nbsp;other&nbsp;complaints&nbsp;with&nbsp;DTD's,&nbsp;such&nbsp;as&nbsp;avoiding&nbsp;cross-domain&nbsp;DTDs<br>
for&nbsp;the&nbsp;sake&nbsp;of<br>
security&nbsp;or&nbsp;avoidance&nbsp;of&nbsp;DOS&nbsp;attacks&nbsp;might&nbsp;be&nbsp;an&nbsp;optional&nbsp;issue&nbsp;if&nbsp;that<br>
may,&nbsp;in<br>
combination&nbsp;with&nbsp;adhering&nbsp;to&nbsp;existing&nbsp;recommendations,&nbsp;satisfy<br>
concerns,&nbsp;though&nbsp;I&nbsp;personally&nbsp;do&nbsp;not&nbsp;think&nbsp;such&nbsp;a&nbsp;risk&nbsp;is&nbsp;similar&nbsp;to<br>
inclusion&nbsp;of&nbsp;cross-domain&nbsp;scripts.)&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;moz-text-html&quot;&nbsp;lang=&quot;x-unicode&quot;&gt;&lt;br&gt;<br>
So&nbsp;what&nbsp;follows&nbsp;is&nbsp;what&nbsp;I&nbsp;have&nbsp;gleaned&nbsp;from&nbsp;these&nbsp;various&nbsp;statements&nbsp;as<br>
applied&nbsp;to&nbsp;current&nbsp;browsers.&nbsp;I&nbsp;can&nbsp;provide&nbsp;specific&nbsp;citations,&nbsp;but&nbsp;I<br>
did&nbsp;not&nbsp;wish&nbsp;to&nbsp;expand&nbsp;this&nbsp;post&nbsp;unnecessarily&nbsp;(though&nbsp;I&nbsp;list<br>
references&nbsp;at&nbsp;the&nbsp;end).&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;major&nbsp;issues&nbsp;which&nbsp;I&nbsp;think&nbsp;ought&nbsp;to&nbsp;be&nbsp;resolved&nbsp;by&nbsp;certain<br>
browsers,&nbsp;as&nbsp;they&nbsp;do&nbsp;not&nbsp;seem&nbsp;to&nbsp;be&nbsp;in&nbsp;accord&nbsp;with&nbsp;the&nbsp;XML&nbsp;spec&nbsp;and&nbsp;as<br>
a&nbsp;result,&nbsp;create&nbsp;interoperability&nbsp;problems:&lt;br&gt;<br>
&lt;br&gt;<br>
1)&nbsp;Firefox&nbsp;and&nbsp;Webkit,&nbsp;should&nbsp;not&nbsp;give&nbsp;a&nbsp;single&nbsp;point&nbsp;of&nbsp;failure&nbsp;for&nbsp;a<br>
missing&nbsp;entity&nbsp;as&nbsp;they&nbsp;do&nbsp;now,&nbsp;(unless&nbsp;they&nbsp;switch&nbsp;to&nbsp;a&nbsp;validating<br>
parser&nbsp;which&nbsp;finds&nbsp;no&nbsp;declaration&nbsp;in&nbsp;the&nbsp;external&nbsp;file&nbsp;and&nbsp;the&nbsp;user&nbsp;is<br>
in&nbsp;validation&nbsp;mode),&nbsp;since&nbsp;such<br>
failures&nbsp;in&nbsp;a<br>
document&nbsp;with&nbsp;an&nbsp;external&nbsp;DTD&nbsp;are&nbsp;NOT&nbsp;well-formedness&nbsp;errors&nbsp;unless&nbsp;the<br>
document&nbsp;deliberately&nbsp;declares&nbsp;standalone=yes.&lt;br&gt;<br>
2)&nbsp;Explorer,&nbsp;which&nbsp;no&nbsp;longer&nbsp;seems&nbsp;to&nbsp;require&nbsp;in&nbsp;IE8&nbsp;that&nbsp;the&nbsp;document<br>
be<br>
completely&nbsp;described&nbsp;by&nbsp;the&nbsp;DTD&nbsp;as&nbsp;I&nbsp;believe&nbsp;it&nbsp;had&nbsp;earlier&nbsp;(though&nbsp;it<br>
will&nbsp;report&nbsp;errors&nbsp;if&nbsp;the<br>
document&nbsp;violates&nbsp;rules&nbsp;which&nbsp;are&nbsp;specified),&nbsp;should,&nbsp;per&nbsp;the&nbsp;spec,<br>
really&nbsp;only&nbsp;report<br>
validation&nbsp;errors&nbsp;upon<br>
user&nbsp;option&nbsp;(ideally,&nbsp;I&nbsp;would&nbsp;say,&nbsp;off&nbsp;by&nbsp;default,&nbsp;and&nbsp;activatable&nbsp;on&nbsp;a<br>
case-by-case&nbsp;as&nbsp;well&nbsp;as&nbsp;preference-based&nbsp;basis).&nbsp;This&nbsp;will&nbsp;possibly<br>
speed&nbsp;things&nbsp;up&nbsp;if&nbsp;the&nbsp;option&nbsp;could&nbsp;be&nbsp;disabled&nbsp;as&nbsp;well&nbsp;as&nbsp;let&nbsp;their<br>
browser&nbsp;work&nbsp;with&nbsp;documents&nbsp;which&nbsp;violate<br>
validation.&nbsp;But&nbsp;this&nbsp;issue&nbsp;is&nbsp;not&nbsp;as&nbsp;serious&nbsp;as&nbsp;#1,&nbsp;since&nbsp;#1&nbsp;prevents<br>
even&nbsp;valid&nbsp;documents&nbsp;from&nbsp;being&nbsp;interoperably&nbsp;viewed&nbsp;on&nbsp;the&nbsp;web.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;these&nbsp;issues&nbsp;are&nbsp;addressed&nbsp;by&nbsp;those&nbsp;aiming&nbsp;for&nbsp;compliance,&nbsp;the&nbsp;only<br>
disadvantages&nbsp;which&nbsp;will&nbsp;remain&nbsp;(and&nbsp;which&nbsp;are&nbsp;inherent&nbsp;in&nbsp;XML&nbsp;by<br>
allowing&nbsp;the&nbsp;co-existence&nbsp;of<br>
validating&nbsp;and&nbsp;non-validating&nbsp;parsers)&nbsp;are&nbsp;those&nbsp;issues&nbsp;described&nbsp;in<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://www.w3.org/TR/REC-xml/#safe-behavior&quot;&gt;http://www.w3.org/TR/REC-xml/#safe-behavior&lt;/a&gt;<br>
and<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://www.w3.org/TR/REC-xml/#proc-types&quot;&gt;http://www.w3.org/TR/REC-xml/#proc-types&lt;/a&gt;<br>
,&nbsp;namely&nbsp;that:&lt;br&gt;<br>
&lt;br&gt;<br>
1)&nbsp;some&nbsp;(entity-related)&nbsp;&lt;i&gt;well-formedness&lt;/i&gt;&nbsp;errors&nbsp;(e.g.,&nbsp;if&nbsp;an<br>
entity&nbsp;is&nbsp;not&nbsp;defined&nbsp;but&nbsp;is&nbsp;used)&nbsp;will&nbsp;go&nbsp;hidden&nbsp;to&nbsp;a&nbsp;non-validating<br>
parser&nbsp;as&nbsp;these&nbsp;will&nbsp;not&nbsp;need&nbsp;to&nbsp;load&nbsp;an&nbsp;entity&nbsp;replacement&nbsp;(which&nbsp;is<br>
not&nbsp;a&nbsp;big&nbsp;problem,&nbsp;since&nbsp;a&nbsp;document&nbsp;author&nbsp;should<br>
presumably&nbsp;have&nbsp;checked&nbsp;(with&nbsp;an&nbsp;application&nbsp;which&nbsp;does&nbsp;external&nbsp;entity<br>
substitution)&nbsp;that&nbsp;their&nbsp;entities&nbsp;integrate&nbsp;properly&nbsp;with&nbsp;the&nbsp;text--it<br>
is&nbsp;not&nbsp;as&nbsp;important,&nbsp;however,&nbsp;that&nbsp;they&nbsp;check&nbsp;for&nbsp;&lt;i&gt;validation&lt;/i&gt;<br>
errors,&nbsp;since&nbsp;as&nbsp;mentioned&nbsp;above,&nbsp;these&nbsp;need&nbsp;only&nbsp;be&nbsp;reported<br>
optionally).&lt;br&gt;<br>
2)&nbsp;The&nbsp;application&nbsp;may&nbsp;possibly&nbsp;not&nbsp;be&nbsp;notified&nbsp;by&nbsp;its&nbsp;processor&nbsp;of,<br>
e.g.,&nbsp;entity&nbsp;replacement&nbsp;values,&nbsp;if&nbsp;it&nbsp;is&nbsp;a&nbsp;non-validating&nbsp;processor<br>
(though&nbsp;non-validating&nbsp;processors&nbsp;can&nbsp;also&nbsp;make&nbsp;such&nbsp;replacements).&nbsp;But<br>
since&nbsp;these&nbsp;are,&nbsp;as&nbsp;mentioned&nbsp;above,&nbsp;not<br>
to&nbsp;produce&nbsp;well-formedness&nbsp;errors,&nbsp;there&nbsp;is&nbsp;no&nbsp;single&nbsp;point&nbsp;of<br>
failure&nbsp;here&nbsp;either&nbsp;(though&nbsp;there&nbsp;may&nbsp;be&nbsp;some&nbsp;missing&nbsp;content,&nbsp;but<br>
indicated&nbsp;by&nbsp;an&nbsp;entity&nbsp;reference&nbsp;in&nbsp;the&nbsp;output&nbsp;display).&lt;br&gt;<br>
3)&nbsp;A&nbsp;few&nbsp;validation&nbsp;issues,&nbsp;such&nbsp;as&nbsp;duplicate&nbsp;declarations&nbsp;(which&nbsp;might<br>
include&nbsp;attribute&nbsp;defaults)&nbsp;can&nbsp;lead&nbsp;to&nbsp;undefined&nbsp;behavior&nbsp;(though<br>
given&nbsp;that&nbsp;validation&nbsp;is&nbsp;only&nbsp;optional&nbsp;even&nbsp;for&nbsp;validating<br>
applications,&nbsp;it&nbsp;seems&nbsp;all&nbsp;applications&nbsp;will&nbsp;have&nbsp;to&nbsp;deal&nbsp;with&nbsp;this).&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;other&nbsp;words,&nbsp;as&nbsp;the&nbsp;spec&nbsp;seems&nbsp;to&nbsp;indicate&nbsp;from&nbsp;my&nbsp;reading,&nbsp;users<br>
going&nbsp;from&nbsp;one&nbsp;browser&nbsp;to&nbsp;the&nbsp;other&nbsp;will&nbsp;not&nbsp;face&nbsp;problems,&nbsp;unless:&lt;br&gt;<br>
1)&nbsp;They<br>
visit&nbsp;invalid&nbsp;documents&nbsp;and&nbsp;have&nbsp;the&nbsp;option&nbsp;to&nbsp;validate&nbsp;the&nbsp;document<br>
turned&nbsp;on&nbsp;(it&nbsp;is&nbsp;only&nbsp;supposed&nbsp;to&nbsp;be&nbsp;an&nbsp;option)&nbsp;and&nbsp;expect&nbsp;other<br>
browsers&nbsp;to&nbsp;report&nbsp;the&nbsp;same&nbsp;errors&nbsp;as&nbsp;well&nbsp;(not&nbsp;a&nbsp;big&nbsp;issue,&nbsp;since&nbsp;a<br>
document&nbsp;which&nbsp;describes&nbsp;its&nbsp;validation&nbsp;constraints&nbsp;and&nbsp;then&nbsp;breaks<br>
them&nbsp;is&nbsp;basically&nbsp;asking&nbsp;for&nbsp;trouble--and&nbsp;even&nbsp;here,&nbsp;the&nbsp;user&nbsp;is<br>
supposed&nbsp;to&nbsp;have&nbsp;the&nbsp;option&nbsp;to&nbsp;view&nbsp;the&nbsp;document&nbsp;without&nbsp;validation).&lt;br&gt;<br>
2)&nbsp;They&nbsp;expect&nbsp;to&nbsp;see&nbsp;the&nbsp;entity&nbsp;replacement&nbsp;text&nbsp;(and&nbsp;at&nbsp;least,&nbsp;this<br>
is&nbsp;not&nbsp;a&nbsp;single&nbsp;point&nbsp;of&nbsp;failure,&nbsp;and&nbsp;in&nbsp;many&nbsp;cases,&nbsp;such&nbsp;as&nbsp;when<br>
entities&nbsp;are&nbsp;merely&nbsp;used&nbsp;to&nbsp;represent&nbsp;symbols,&nbsp;the&nbsp;text&nbsp;can&nbsp;be&nbsp;fully<br>
read&nbsp;without&nbsp;any&nbsp;disruption&nbsp;in&nbsp;the&nbsp;document&nbsp;flow).&nbsp;Of&nbsp;course,&nbsp;doing&nbsp;the<br>
replacements<br>
would&nbsp;be&nbsp;even&nbsp;better&nbsp;to&nbsp;avoid&nbsp;this&nbsp;problem,&nbsp;and&nbsp;the&nbsp;solution&nbsp;does&nbsp;not<br>
require&nbsp;supporting&nbsp;validation.&lt;br&gt;<br>
&lt;br&gt;<br>
There&nbsp;are&nbsp;also&nbsp;the&nbsp;following&nbsp;optional&nbsp;issues&nbsp;which&nbsp;browsers&nbsp;might&nbsp;wish<br>
to&nbsp;consider&nbsp;(though&nbsp;if&nbsp;these&nbsp;are&nbsp;not&nbsp;implemented,&nbsp;the&nbsp;above&nbsp;fixes&nbsp;alone<br>
would&nbsp;address&nbsp;the&nbsp;most&nbsp;serious&nbsp;problems):&lt;br&gt;<br>
&lt;br&gt;<br>
1)&nbsp;Since&nbsp;even&nbsp;a&nbsp;non-validating&nbsp;processor&nbsp;is&nbsp;to&nbsp;inform&nbsp;the&nbsp;application<br>
that&nbsp;it&nbsp;recognized&nbsp;but&nbsp;did&nbsp;not&nbsp;read&nbsp;an&nbsp;entity&nbsp;(if&nbsp;it&nbsp;does&nbsp;not&nbsp;replace<br>
their&nbsp;references&nbsp;with&nbsp;content&nbsp;found&nbsp;in&nbsp;an&nbsp;external&nbsp;DTD),&nbsp;a&nbsp;browser&nbsp;like<br>
Opera&nbsp;(the&nbsp;only&nbsp;one&nbsp;that&nbsp;I&nbsp;can&nbsp;tell&nbsp;does&nbsp;not&nbsp;report&nbsp;such&nbsp;issues,&nbsp;even<br>
though&nbsp;it&nbsp;correctly&nbsp;does&nbsp;not&nbsp;lead&nbsp;to&nbsp;a&nbsp;single&nbsp;point&nbsp;of&nbsp;failure),&nbsp;might<br>
(if&nbsp;not&nbsp;implementing&nbsp;#2&nbsp;below)&nbsp;wish&nbsp;to<br>
consider&nbsp;doing&nbsp;so,&nbsp;since&nbsp;a&nbsp;compliant&nbsp;processor&nbsp;at&nbsp;least&nbsp;is&nbsp;supposed&nbsp;to<br>
report&nbsp;such&nbsp;issues&nbsp;to&nbsp;the&nbsp;application&nbsp;(to&nbsp;do&nbsp;with&nbsp;it&nbsp;as&nbsp;it&nbsp;sees&nbsp;fit).<br>
But&nbsp;there&nbsp;is&nbsp;admittedly&nbsp;no&nbsp;obligation&nbsp;on&nbsp;the&nbsp;application&nbsp;to&nbsp;do<br>
so,&nbsp;and&nbsp;in&nbsp;any&nbsp;case,&nbsp;such&nbsp;reporting&nbsp;is&nbsp;not&nbsp;to&nbsp;be&nbsp;a&nbsp;single&nbsp;point&nbsp;of<br>
failure.&nbsp;But&nbsp;it&nbsp;still&nbsp;might&nbsp;be&nbsp;nice&nbsp;to&nbsp;distinguish&nbsp;the&nbsp;display&nbsp;of<br>
entities&nbsp;which&nbsp;are&nbsp;not&nbsp;found&nbsp;from&nbsp;deliberately&nbsp;escaped&nbsp;entities&nbsp;(e.g.,<br>
&amp;myEnt;&nbsp;produced&nbsp;by&nbsp;a&nbsp;missing&nbsp;entity&nbsp;currently&nbsp;appears&nbsp;the&nbsp;same&nbsp;in<br>
Opera&nbsp;(except&nbsp;in&nbsp;source&nbsp;view)&nbsp;as&nbsp;a&nbsp;deliberately&nbsp;escaped&nbsp;&amp;amp;myEnt;)&lt;br&gt;<br>
2)&nbsp;Opera,&nbsp;Firefox,&nbsp;and&nbsp;Webkit&nbsp;(after&nbsp;the&nbsp;latter&nbsp;two&nbsp;fix&nbsp;the&nbsp;more<br>
serious&nbsp;issue&nbsp;mentioned&nbsp;above)&nbsp;might&nbsp;also&nbsp;wish&nbsp;to&nbsp;consider&nbsp;expanding<br>
their&nbsp;XML<br>
support&nbsp;for&nbsp;their&nbsp;users&nbsp;to:&lt;br&gt;<br>
   &nbsp;a)&nbsp;Show&nbsp;a&nbsp;link&nbsp;to&nbsp;optionally&nbsp;expand&nbsp;each&nbsp;external&nbsp;parsed<br>
entity&nbsp;references&nbsp;or&nbsp;other&nbsp;entities&nbsp;(if&nbsp;they&nbsp;don't&nbsp;do&nbsp;the&nbsp;following)&lt;br&gt;<br>
   &nbsp;b)&nbsp;Build&nbsp;on&nbsp;a&nbsp;non-validating&nbsp;parser&nbsp;to&nbsp;do&nbsp;automatic&nbsp;entity&nbsp;and<br>
default<br>
attribute&nbsp;value&nbsp;replacement,&nbsp;and&nbsp;attribute&nbsp;value&nbsp;normalization&nbsp;using&nbsp;an<br>
external&nbsp;DTD&nbsp;(at&nbsp;least&nbsp;same&nbsp;domain&nbsp;ones).&nbsp;The&nbsp;XML&nbsp;spec&nbsp;only&nbsp;warns<br>
against&nbsp;relying&nbsp;on&nbsp;this&nbsp;for&nbsp;the<br>
sake&nbsp;of&nbsp;an&nbsp;application&nbsp;having&nbsp;the&nbsp;freedom&nbsp;to&nbsp;switch&nbsp;between<br>
non-validating&nbsp;parsers&nbsp;which&nbsp;may&nbsp;or&nbsp;may&nbsp;not&nbsp;all&nbsp;take&nbsp;these<br>
actions--this&nbsp;issue&nbsp;doesn't<br>
impact&nbsp;interoperability&nbsp;for&nbsp;users&nbsp;(it&nbsp;only&nbsp;improves&nbsp;it),&nbsp;however,&nbsp;so<br>
even&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;desire&nbsp;to&nbsp;support&nbsp;validation,&nbsp;they&nbsp;can&nbsp;still&nbsp;offer<br>
entity&nbsp;replacement,&nbsp;etc.&nbsp;to&nbsp;their&nbsp;users.&lt;br&gt;<br>
   &nbsp;c)&nbsp;Implement&nbsp;a&nbsp;validating&nbsp;parser&nbsp;which&nbsp;can&nbsp;do&nbsp;entity&nbsp;and&nbsp;default<br>
attribute&nbsp;value&nbsp;replacement,&nbsp;and&nbsp;attribute&nbsp;value&nbsp;normalization&nbsp;from&nbsp;an<br>
external&nbsp;DTD,&nbsp;as&nbsp;well&nbsp;as&nbsp;optionally&nbsp;validate&nbsp;the&nbsp;document&nbsp;at&nbsp;user<br>
discretion.&nbsp;This&nbsp;should&nbsp;not&nbsp;slow&nbsp;things&nbsp;down&nbsp;for&nbsp;the&nbsp;user,&nbsp;since&nbsp;the<br>
spec<br>
itself&nbsp;indicates&nbsp;that&nbsp;reporting&nbsp;of&nbsp;validation&nbsp;errors&nbsp;is&nbsp;required&nbsp;&quot;at<br>
user&nbsp;option&quot;.&nbsp;This&nbsp;would&nbsp;give<br>
the&nbsp;user&nbsp;the&nbsp;best&nbsp;of&nbsp;both&nbsp;worlds--the&nbsp;opportunity&nbsp;to&nbsp;fully&nbsp;read<br>
XML/XHTML&nbsp;files&nbsp;online&nbsp;(and&nbsp;without&nbsp;any&nbsp;requirement&nbsp;to&nbsp;face&nbsp;a<br>
validation&nbsp;performance&nbsp;cost),&nbsp;and&nbsp;if&nbsp;they&nbsp;are,&nbsp;for&nbsp;example,&nbsp;a&nbsp;document<br>
author,&nbsp;they&nbsp;could&nbsp;choose&nbsp;to&nbsp;take&nbsp;a&nbsp;client-side&nbsp;performance&nbsp;hit&nbsp;to<br>
optionally<br>
check&nbsp;for&nbsp;validation.&nbsp;Of&nbsp;course,&nbsp;they'll&nbsp;need&nbsp;to&nbsp;load&nbsp;the&nbsp;external<br>
files&nbsp;in&nbsp;either&nbsp;of&nbsp;these<br>
cases&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;do&nbsp;the&nbsp;replacements,&nbsp;but&nbsp;the&nbsp;document&nbsp;author&nbsp;will<br>
NOT<br>
need&nbsp;to&nbsp;provide&nbsp;full&nbsp;DTD&nbsp;validation&nbsp;in&nbsp;the&nbsp;external&nbsp;DTD,&nbsp;so&nbsp;users&nbsp;will<br>
not&nbsp;be<br>
forced&nbsp;to&nbsp;download&nbsp;DTDs&nbsp;reflecting&nbsp;the&nbsp;whole&nbsp;document&nbsp;structure,&nbsp;unless<br>
the&nbsp;document&nbsp;author&nbsp;wishes&nbsp;to&nbsp;reference&nbsp;such&nbsp;files).&nbsp;Indeed,&nbsp;authors<br>
might&nbsp;be<br>
encouraged&nbsp;not&nbsp;to&nbsp;include&nbsp;such&nbsp;content&nbsp;in&nbsp;their&nbsp;DTDs&nbsp;(performing<br>
validation&nbsp;offline)&nbsp;so&nbsp;that&nbsp;they&nbsp;and&nbsp;their&nbsp;users&nbsp;can&nbsp;reduce&nbsp;bandwidth,<br>
unless&nbsp;their&nbsp;purpose&nbsp;is&nbsp;to&nbsp;transparently&nbsp;show&nbsp;the&nbsp;validation&nbsp;(though<br>
DTD&nbsp;validation&nbsp;is&nbsp;of&nbsp;course&nbsp;not&nbsp;very&nbsp;strong).&lt;br&gt;<br>
&lt;br&gt;<br>
References:&lt;br&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://www.w3.org/TR/REC-xml/#wf-entdeclared&quot;&gt;http://www.w3.org/TR/REC-xml/#wf-entdeclared&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://www.w3.org/TR/REC-xml/#proc-types&quot;&gt;http://www.w3.org/TR/REC-xml/#proc-types&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://www.w3.org/TR/REC-xml/#safe-behavior&quot;&gt;http://www.w3.org/TR/REC-xml/#safe-behavior&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://www.w3.org/TR/REC-xml/#dt-vc&quot;&gt;http://www.w3.org/TR/REC-xml/#dt-vc&lt;/a&gt;<br>
(validity&nbsp;constraint&nbsp;definition)&lt;br&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://www.w3.org/TR/REC-xml/#include-if-valid&quot;&gt;http://www.w3.org/TR/REC-xml/#include-if-valid&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
regards,&lt;br&gt;<br>
Brett&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
