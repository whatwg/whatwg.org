<tt>
&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;/span&gt;On&nbsp;6/1/07,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Gervase&nbsp;Markham&lt;/b&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:gerv@mozilla.org&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;gerv@mozilla.org&lt;/a&gt;&gt;&nbsp;wrote:<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;q&quot;&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Ian&nbsp;Hickson&nbsp;wrote:&lt;br&gt;&gt;&nbsp;Yeah,&nbsp;this&nbsp;is&nbsp;mentioned&nbsp;in&nbsp;the&nbsp;security&nbsp;section:&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www.whatwg.org/specs/web-apps/current-work/#security5&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
http://www.whatwg.org/specs/web-apps/current-work/#security5<br>
&lt;/a&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;...along&nbsp;with&nbsp;recommended&nbsp;solutions&nbsp;to&nbsp;mitigate&nbsp;it.&lt;br&gt;&lt;br&gt;All&nbsp;of&nbsp;those&nbsp;mitigation&nbsp;measures&nbsp;seem&nbsp;to&nbsp;be&nbsp;non-ideal.&lt;/blockquote&gt;&lt;/span&gt;&lt;div&gt;&lt;br&gt;I&nbsp;disagree.&nbsp;The&nbsp;third&nbsp;item&nbsp;in&nbsp;the&nbsp;list&nbsp;describes&nbsp;the&nbsp;solution&nbsp;which&nbsp;I&nbsp;had&nbsp;in&nbsp;mind:<br>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;style=&quot;margin-left:&nbsp;40px;&quot;&gt;&quot;Blocking&nbsp;access&nbsp;to&nbsp;the&nbsp;top-level&nbsp;domain&nbsp;(&quot;&lt;a&nbsp;href=&quot;http://www.whatwg.org/specs/web-apps/current-work/#public0&quot;&nbsp;title=&quot;public&nbsp;storage&nbsp;area&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
public&lt;/a&gt;&quot;)&nbsp;storage&nbsp;areas:&nbsp;user&nbsp;agents&nbsp;may<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prevent&nbsp;domains&nbsp;from&nbsp;storing&nbsp;data&nbsp;in&nbsp;and&nbsp;reading&nbsp;data&nbsp;from&nbsp;the&nbsp;top-level<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;domain&nbsp;entries&nbsp;in&nbsp;the&nbsp;&lt;code&nbsp;title=&quot;dom-globalStorage&quot;&gt;&lt;a&nbsp;href=&quot;http://www.whatwg.org/specs/web-apps/current-work/#globalstorage&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;globalStorage&lt;/a&gt;<br>
&lt;/code&gt;&nbsp;object.&nbsp;For&nbsp;example,&nbsp;content&nbsp;at&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;domain&nbsp;&lt;code&gt;&lt;a&nbsp;href=&quot;http://www.example.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;www.example.com&lt;/a&gt;&lt;/code&gt;&nbsp;would&nbsp;be&nbsp;allowed&nbsp;to&nbsp;access<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;code&gt;&lt;a&nbsp;href=&quot;http://example.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;example.com&lt;/a&gt;&lt;/code&gt;&lt;code&gt;&nbsp;&lt;/code&gt;&nbsp;data&nbsp;but&nbsp;not&nbsp;&nbsp;&lt;code&gt;com&lt;/code&gt;&nbsp;data.&quot;&lt;br&gt;&lt;/div&gt;&lt;br&gt;That&nbsp;effectively&nbsp;restricts&nbsp;the&nbsp;storage&nbsp;to&nbsp;a&nbsp;single&nbsp;domain&nbsp;and&nbsp;is&nbsp;in&nbsp;line&nbsp;with&nbsp;how&nbsp;cookies&nbsp;work&nbsp;today.<br>
&lt;br&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;q&quot;&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Have&nbsp;any&nbsp;browser&nbsp;makers&nbsp;expressed&nbsp;opinions&nbsp;on&nbsp;which&nbsp;of&nbsp;them&nbsp;they&nbsp;are<br>
&lt;br&gt;planning&nbsp;to&nbsp;implement?<br>
&lt;/blockquote&gt;&lt;/span&gt;&lt;div&gt;&lt;br&gt;That&#39;s&nbsp;a&nbsp;good&nbsp;question,&nbsp;but&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;if&nbsp;it&#39;s&nbsp;one&nbsp;that&nbsp;the&nbsp;WHATWG&nbsp;can&nbsp;answer?&nbsp;I&nbsp;do&nbsp;know&nbsp;that&nbsp;Firefox&nbsp;2&nbsp;already&nbsp;implements&nbsp;the&nbsp;Storage&nbsp;spec.&nbsp;Info&nbsp;on&nbsp;that&nbsp;here:&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://developer.mozilla.org/en/docs/DOM:Storage&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
<br>
http://developer.mozilla.org/en/docs/DOM:Storage&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;I&nbsp;wasn&#39;t&nbsp;able&nbsp;to&nbsp;find&nbsp;any&nbsp;docs&nbsp;that&nbsp;describe&nbsp;the&nbsp;Storage&nbsp;security&nbsp;model&nbsp;used&nbsp;in&nbsp;Gecko,&nbsp;so&nbsp;I&nbsp;ran&nbsp;a&nbsp;few&nbsp;tests.&nbsp;What&nbsp;I&nbsp;found&nbsp;was&nbsp;that&nbsp;any&nbsp;attempt&nbsp;to&nbsp;access&nbsp;globalStorage[&#39;&#39;]&nbsp;or&nbsp;globalStorage[&#39;com&#39;]&nbsp;from&nbsp;the&nbsp;context&nbsp;of&nbsp;a&nbsp;website&nbsp;resulted&nbsp;in&nbsp;a&nbsp;security&nbsp;error.&nbsp;You&nbsp;can&nbsp;try&nbsp;the&nbsp;test&nbsp;for&nbsp;yourself&nbsp;here:<br>
&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://java.dnsalias.com/temp/storage.html&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;http://java.dnsalias.com/temp/storage.html&lt;/a&gt;&lt;br&gt;&lt;br&gt;After&nbsp;loading&nbsp;the&nbsp;page,&nbsp;open&nbsp;the&nbsp;Javascript&nbsp;Error&nbsp;console.&nbsp;You&nbsp;should&nbsp;see&nbsp;a&nbsp;security&nbsp;exception&nbsp;listed.&nbsp;<br>
&lt;br&gt;<br>
&lt;br&gt;I&nbsp;presume&nbsp;that&nbsp;the&nbsp;restrictions&nbsp;are&nbsp;relaxed&nbsp;for&nbsp;signed&nbsp;pages&nbsp;as&nbsp;well&nbsp;as&nbsp;those&nbsp;that&nbsp;are&nbsp;run&nbsp;at&nbsp;a&nbsp;higher&nbsp;privilege&nbsp;level.&nbsp;(e.g.&nbsp;XULRunner&nbsp;apps.)&lt;span&nbsp;class=&quot;q&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
Is&nbsp;there&nbsp;a&nbsp;document&nbsp;somewhere&nbsp;outlining&nbsp;the&nbsp;actual&nbsp;benefits&nbsp;of&nbsp;this&lt;br&gt;feature,&nbsp;even&nbsp;as&nbsp;potentially&nbsp;restricted?&lt;br&gt;&lt;/blockquote&gt;&lt;/span&gt;&lt;/div&gt;&lt;br&gt;The&nbsp;specification&nbsp;has&nbsp;this&nbsp;explanation:&nbsp;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;&quot;Web<br>
&nbsp;&nbsp;&nbsp;applications&nbsp;may&nbsp;wish&nbsp;to&nbsp;store&nbsp;megabytes&nbsp;of&nbsp;user&nbsp;data,&nbsp;such&nbsp;as&nbsp;entire<br>
&nbsp;&nbsp;&nbsp;user-authored&nbsp;documents&nbsp;or&nbsp;a&nbsp;user&#39;s&nbsp;mailbox,&nbsp;on&nbsp;the&nbsp;clientside&nbsp;for<br>
&nbsp;&nbsp;&nbsp;performance&nbsp;reasons.&quot;&lt;/span&gt;&lt;br&gt;&lt;br&gt;And&nbsp;it&#39;s&nbsp;not&nbsp;just&nbsp;performance&nbsp;reasons.&nbsp;If&nbsp;I&nbsp;wanted&nbsp;to&nbsp;work&nbsp;on&nbsp;a&nbsp;Google&nbsp;Spreadsheet&nbsp;on&nbsp;a&nbsp;plane,&nbsp;for&nbsp;example,&nbsp;offline&nbsp;caching&nbsp;of&nbsp;the&nbsp;data&nbsp;would&nbsp;allow&nbsp;me&nbsp;to&nbsp;continue&nbsp;my&nbsp;work&nbsp;without&nbsp;an&nbsp;internet&nbsp;connection.&nbsp;Then&nbsp;when&nbsp;I&nbsp;reconnect&nbsp;to&nbsp;the&nbsp;internet&nbsp;and&nbsp;load&nbsp;the&nbsp;document,&nbsp;the&nbsp;client&nbsp;would&nbsp;sync&nbsp;its&nbsp;stored&nbsp;changes&nbsp;with&nbsp;the&nbsp;server.<br>
&lt;br&gt;&lt;br&gt;My&nbsp;understanding&nbsp;is&nbsp;that&nbsp;this&nbsp;is&nbsp;Google&#39;s&nbsp;justification&nbsp;for&nbsp;their&nbsp;new&nbsp;&quot;Gears&quot;&nbsp;product.&nbsp;Which&nbsp;is&nbsp;basically&nbsp;the&nbsp;same&nbsp;as&nbsp;the&nbsp;WHATWG&nbsp;Storage&nbsp;+&nbsp;Database&nbsp;specifications,&nbsp;but&nbsp;with&nbsp;auto-sync&nbsp;and&nbsp;an&nbsp;incompatible&nbsp;API.<br>
&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;&lt;span&nbsp;class=&quot;sg&quot;&gt;Jerason&lt;br&gt;<br>
&lt;/span&gt;<br>

</tt>
