<tt>
Hi&nbsp;Bjartur,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;your&nbsp;comments.&nbsp; I&#39;ve&nbsp;replied&nbsp;inline.&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sun,&nbsp;Dec&nbsp;19,&nbsp;2010&nbsp;at&nbsp;8:11&nbsp;PM,&nbsp;Bjartur&nbsp;Thorlacius&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:svartman95@gmail.com&quot;&gt;svartman95@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Wed,&nbsp;15&nbsp;Dec&nbsp;2010&nbsp;19:27:51&nbsp;-0000,&nbsp;Alex&nbsp;Komoroske&lt;br&gt;<br>
&lt;&lt;a&nbsp;href=&quot;mailto:komoroske@chromium.org&quot;&nbsp;target=&quot;_blank&quot;&gt;komoroske@chromium.org&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Regarding&nbsp;the&nbsp;fact&nbsp;that&nbsp;background&nbsp;tabs&nbsp;aren&#39;t&nbsp;necessarily&nbsp;invisible:&lt;br&gt;<br>
-----&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
On&nbsp;December&nbsp;8,&nbsp;Boris&nbsp;Zbarsky&nbsp;wrote:&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
There&nbsp;is&nbsp;no&nbsp;such&nbsp;guarantee&nbsp;for&nbsp;background&nbsp;tabs.&nbsp; For&nbsp;example,&nbsp;browsers&nbsp;may&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
show&nbsp;tab&nbsp;previews&nbsp;in&nbsp;various&nbsp;contexts&nbsp;(Panorama&nbsp;in&nbsp;Firefox&nbsp;4,&nbsp;e.g.).&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
-----&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;point&nbsp;of&nbsp;the&nbsp;API,&nbsp;as&nbsp;proposed,&nbsp;is&nbsp;that&nbsp;page&nbsp;scripts&nbsp;will&nbsp;know&nbsp;when&nbsp;their&lt;br&gt;<br>
content&nbsp;is&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;invisible&nbsp;to&nbsp;the&nbsp;user--that&nbsp;is,&nbsp;the&nbsp;API&nbsp;will&nbsp;not&lt;br&gt;<br>
provide&nbsp;a&nbsp;false&nbsp;positive&nbsp;about&nbsp;invisibility.&nbsp; However,&nbsp;the&nbsp;API&nbsp;may&nbsp;provide&lt;br&gt;<br>
false&nbsp;negatives&nbsp;about&nbsp;invisibility,&nbsp;for&nbsp;reasons&nbsp;many&nbsp;others&nbsp;on&nbsp;this&nbsp;thread&lt;br&gt;<br>
have&nbsp;been&nbsp;pointed&nbsp;out&nbsp;(including&nbsp;different&nbsp;windowing&nbsp;systems,&nbsp;multiple&lt;br&gt;<br>
monitors,&nbsp;partial&nbsp;transparency,&nbsp;etc.).&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;easiest&nbsp;way&nbsp;to&nbsp;achieve&nbsp;this&nbsp;guarantee&nbsp;is&nbsp;to&nbsp;only&nbsp;consider&nbsp;a&nbsp;tab&nbsp;hidden&lt;br&gt;<br>
when&nbsp;it&nbsp;is&nbsp;a&nbsp;background&nbsp;tab&nbsp;within*&nbsp;*a&nbsp;window.&nbsp; The&nbsp;window&nbsp;itself,&nbsp;of&lt;br&gt;<br>
course,&nbsp;may&nbsp;be&nbsp;on&nbsp;a&nbsp;little-noticed&nbsp;second&nbsp;monitor,&nbsp;partially&nbsp;obscured,&nbsp;etc.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>
I&nbsp;don´t&nbsp;see&nbsp;how&nbsp;that&nbsp;information&nbsp;is&nbsp;useful.&nbsp; Now,&nbsp;you&nbsp;have&nbsp;to&nbsp;define&lt;br&gt;<br>
&#39;window&#39;&lt;br&gt;<br>
and&nbsp;&#39;tab&#39;&nbsp;differently&nbsp;and&nbsp;define&nbsp;a&nbsp;background&nbsp;state&nbsp;of&nbsp;the&nbsp;latter.&nbsp;Do&lt;br&gt;<br>
multiple&lt;br&gt;<br>
non-backgrounded&nbsp;(attached)&nbsp;tabs&nbsp;in&nbsp;a&nbsp;window&nbsp;need&nbsp;special&nbsp;treatment?&nbsp;If&lt;br&gt;<br>
you&nbsp;use&nbsp;the&nbsp;term&nbsp;&#39;tab&#39;&nbsp;anywhere&nbsp;it&nbsp;_will_&nbsp;be&nbsp;confused&nbsp;with&nbsp;the&nbsp;UI&nbsp;metaphor,&lt;br&gt;<br>
causing&nbsp;confusion&nbsp;with&nbsp;the&nbsp;approach&nbsp;to&nbsp;hierarchical&nbsp;window&nbsp;management.&lt;br&gt;<br>
I&nbsp;don&#39;t&nbsp;understand&nbsp;what&nbsp;the&nbsp;term&nbsp;&#39;tab&#39;&nbsp;means&nbsp;to&nbsp;you.&nbsp;To&nbsp;me&nbsp;a&nbsp;tab&nbsp;is&nbsp;a&lt;br&gt;<br>
window.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;not&nbsp;sure&nbsp;that&nbsp;I&nbsp;understand&nbsp;the&nbsp;point&nbsp;of&nbsp;confusion.&nbsp; When&nbsp;I&nbsp;say&nbsp;&#39;tab&#39;,&nbsp;I&nbsp;mean&nbsp;the&nbsp;current&nbsp;UI&nbsp;construct&nbsp;implemented&nbsp;in&nbsp;Firefox,&nbsp;Safari,&nbsp;Chrome,&nbsp;Opera,&nbsp;Internet&nbsp;Explorer,&nbsp;and&nbsp;others.&nbsp; Each&nbsp;window&nbsp;can&nbsp;have&nbsp;one&nbsp;or&nbsp;more&nbsp;tabs,&nbsp;and&nbsp;in&nbsp;curent&nbsp;implementations&nbsp;(with&nbsp;very&nbsp;few&nbsp;exceptions),&nbsp;each&nbsp;window&nbsp;can&nbsp;only&nbsp;have&nbsp;a&nbsp;single&nbsp;visible&nbsp;tab.&nbsp; &lt;/div&gt;<br>
<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
 But&nbsp;as&nbsp;you&nbsp;point&nbsp;out,&nbsp;there&nbsp;are&nbsp;still&nbsp;some&nbsp;edge&nbsp;cases&nbsp;where&nbsp;even&nbsp;a&lt;br&gt;<br>
background&nbsp;tab&nbsp;is&nbsp;visible.&nbsp; In&nbsp;this&nbsp;specific&nbsp;example,&nbsp;I&nbsp;think&nbsp;the&nbsp;right&lt;br&gt;<br>
answer&nbsp;would&nbsp;be&nbsp;to&nbsp;have&nbsp;an&nbsp;additional&nbsp;visibility&nbsp;value&nbsp;of&nbsp;&quot;preview&quot;,&nbsp;which,&lt;br&gt;<br>
for&nbsp;the&nbsp;purposes&nbsp;of&nbsp;the&nbsp;isVisible&nbsp;property,&nbsp;would&nbsp;be&nbsp;considered&nbsp;a&nbsp;hidden&lt;br&gt;<br>
state.&nbsp; There&nbsp;are&nbsp;some&nbsp;cases&nbsp;where&nbsp;a&nbsp;tab&nbsp;would&nbsp;consider&nbsp;a&nbsp;tab&nbsp;preview&nbsp;to&nbsp;be&lt;br&gt;<br>
hidden&nbsp;(like&nbsp;the&nbsp;puzzle&nbsp;timer&nbsp;use&nbsp;case)&nbsp;and&nbsp;some&nbsp;cases&nbsp;where&nbsp;it&nbsp;would&nbsp;be&lt;br&gt;<br>
considered&nbsp;visible&nbsp;(like&nbsp;the&nbsp;video&nbsp;playing&nbsp;use&nbsp;case).&nbsp; This&nbsp;would&nbsp;allow&nbsp;web&lt;br&gt;<br>
developers&nbsp;to&nbsp;decide&nbsp;for&nbsp;themselves&nbsp;how&nbsp;they&nbsp;wanted&nbsp;to&nbsp;respond&nbsp;to&nbsp;that&nbsp;case.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>
Or,&nbsp;one&nbsp;could&nbsp;mark&nbsp;them&nbsp;up&nbsp;semantically.&nbsp;A&nbsp;video&nbsp;player&nbsp;depends&nbsp;on&lt;br&gt;<br>
visibility&nbsp;and&nbsp;audibility&nbsp;and&nbsp;an&nbsp;UA&nbsp;should&nbsp;thus&nbsp;not&nbsp;play&nbsp;video&nbsp;unless&nbsp;it&lt;br&gt;<br>
fulfill&nbsp;said&nbsp;requirements.&nbsp;There&nbsp;is&nbsp;also&nbsp;the&nbsp;case&nbsp;of&nbsp;an&nbsp;optional&nbsp;&lt;link&gt;ed&lt;br&gt;<br>
soundtrack,&nbsp;which&nbsp;won´t&nbsp;prevent&nbsp;visual&nbsp;playback.&nbsp;In&nbsp;case&nbsp;of&nbsp;an&nbsp;interactive&lt;br&gt;<br>
game&nbsp;such&nbsp;as&nbsp;a&nbsp;puzzle,&nbsp;it&nbsp;shouldn&#39;t&nbsp;even&nbsp;execute&nbsp;while&nbsp;not&nbsp;focused.&nbsp;IMHO,&lt;br&gt;<br>
programs&nbsp;should&nbsp;be&nbsp;stalled&nbsp;(think&nbsp;SIGTTOU)&nbsp;while&nbsp;dynamic&nbsp;requirements&nbsp;can&#39;t&lt;br&gt;<br>
be&nbsp;fulfilled.&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;theory,&nbsp;we&#39;d&nbsp;just&nbsp;use&nbsp;blocking&nbsp;operations,&nbsp;but&nbsp;they&#39;ve&nbsp;been&nbsp;deemed&nbsp;to&nbsp;hard&lt;br&gt;<br>
for&nbsp;JavaScript.&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Regarding&nbsp;the&nbsp;additional&nbsp;abuse&nbsp;potential:&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>
Implementations&nbsp;of&nbsp;my&nbsp;counterproposal&nbsp;don&#39;t&nbsp;even&nbsp;notify&nbsp;scripts&nbsp;about&nbsp;&#39;tab&#39;&lt;br&gt;<br>
visibility&nbsp;changes,&nbsp;and&nbsp;additionally&nbsp;suspend&nbsp;unimportant&nbsp;scripts,&nbsp;rendering&lt;br&gt;<br>
current&nbsp;focus-stealing&nbsp;methods&nbsp;useless.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;not&nbsp;sure&nbsp;that&nbsp;I&nbsp;have&nbsp;seen&nbsp;your&nbsp;counterproposal.&nbsp; Based&nbsp;on&nbsp;your&nbsp;comments&nbsp;in&nbsp;this&nbsp;thread,&nbsp;I&nbsp;presume&nbsp;that&nbsp;it&nbsp;includes&nbsp;an&nbsp;ability&nbsp;for&nbsp;pages&nbsp;to&nbsp;declare&nbsp;what&nbsp;capabilities&nbsp;they&nbsp;require&nbsp;(e.g.&nbsp;an&nbsp;animation&nbsp;requires&nbsp;that&nbsp;it&nbsp;be&nbsp;visible)&nbsp;and&nbsp;then&nbsp;the&nbsp;browser&nbsp;automatically&nbsp;pauses&nbsp;scripts&nbsp;when&nbsp;those&nbsp;required&nbsp;conditions&nbsp;are&nbsp;not&nbsp;met.&nbsp; Is&nbsp;that&nbsp;a&nbsp;proper&nbsp;understanding&nbsp;of&nbsp;your&nbsp;counterproposal?&nbsp; Is&nbsp;there&nbsp;a&nbsp;more&nbsp;comprehensive/detailed&nbsp;version&nbsp;of&nbsp;the&nbsp;proposal&nbsp;that&nbsp;I&nbsp;could&nbsp;read&nbsp;and&nbsp;comment&nbsp;on?&lt;/div&gt;<br>
<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
Arguably,&nbsp;it&nbsp;could&nbsp;still&nbsp;be&nbsp;useful&nbsp;to&nbsp;throw&nbsp;an&nbsp;event&nbsp;upon&nbsp;suspension.&nbsp;alert&nbsp;could&lt;br&gt;<br>
potentially&nbsp;be&nbsp;removed&nbsp;from&nbsp;window&nbsp;prior&nbsp;to&nbsp;launching&nbsp;the&nbsp;event&nbsp;and&nbsp;the&nbsp;scripts&lt;br&gt;<br>
given&nbsp;a&nbsp;timeout,&nbsp;before&nbsp;they&nbsp;get&nbsp;suspended&nbsp;forcibly.&nbsp;I&nbsp;don&#39;t&nbsp;know&nbsp;the&nbsp;inner&lt;br&gt;<br>
workings&nbsp;of&nbsp;JavaScript&nbsp;implementations&nbsp;to&nbsp;realize&nbsp;whether&nbsp;this&nbsp;could&nbsp;be&lt;br&gt;<br>
circumvented&nbsp;by&nbsp;cloning&nbsp;new&nbsp;instances&nbsp;of&nbsp;alert,&nbsp;or&nbsp;whether&nbsp;implementations&lt;br&gt;<br>
could&nbsp;simply&nbsp;disable&nbsp;access&nbsp;to&nbsp;potentially&nbsp;harmful&nbsp;methods&nbsp;at&nbsp;an&nbsp;higher&nbsp;level.&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Regarding&nbsp;the&nbsp;video&nbsp;player&nbsp;use&nbsp;case&nbsp;from&nbsp;the&nbsp;initial&nbsp;proposal:&lt;br&gt;<br>
-----&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
On&nbsp;December&nbsp;8th,&nbsp;Maciej&nbsp;Stachowiak&nbsp;wrote:&lt;br&gt;<br>
This&nbsp;use&nbsp;case&nbsp;can&nbsp;be&nbsp;handled&nbsp;without&nbsp;help&nbsp;from&nbsp;the&nbsp;page.&nbsp;In&nbsp;Safari,&nbsp;video&lt;br&gt;<br>
(whether&nbsp;through&nbsp;media&nbsp;elements&nbsp;or&nbsp;plugins)&nbsp;won&#39;t&nbsp;start&nbsp;playing&nbsp;when&nbsp;a&nbsp;user&lt;br&gt;<br>
opens&nbsp;a&nbsp;tab&nbsp;in&nbsp;the&nbsp;background,&nbsp;until&nbsp;the&nbsp;user&nbsp;switches&nbsp;to&nbsp;that&nbsp;tab.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
-----&lt;br&gt;<br>
&lt;br&gt;<br>
Although&nbsp;what&nbsp;you&nbsp;describe&nbsp;satisfies&nbsp;the&nbsp;specific&nbsp;use&nbsp;case,&nbsp;it&nbsp;doesn&#39;t&lt;br&gt;<br>
address&nbsp;the&nbsp;more&nbsp;general&nbsp;use&nbsp;case&nbsp;of&nbsp;animations&nbsp;(either&nbsp;explicit&nbsp;via&lt;br&gt;<br>
javascript&nbsp;or&nbsp;via&nbsp;CSS&nbsp;Animations)&nbsp;or&nbsp;content&nbsp;that&nbsp;is&nbsp;not&nbsp;a&nbsp;plugin/video&lt;br&gt;<br>
file.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>
I&nbsp;argue&nbsp;that&nbsp;there&nbsp;are&nbsp;two&nbsp;potentially&nbsp;viable&nbsp;solutions:&nbsp;Implementations&lt;br&gt;<br>
exploiting&nbsp;more&nbsp;methods&nbsp;á&nbsp;la&nbsp;Safari,&nbsp;stopping&nbsp;animations&nbsp;or&nbsp;apps&nbsp;declaring&lt;br&gt;<br>
dependencies&nbsp;on&nbsp;various&nbsp;things&nbsp;like&nbsp;visibility&nbsp;and&nbsp;audibility.&nbsp;There&nbsp;are&lt;br&gt;<br>
previous&nbsp;proposals&nbsp;regarding&nbsp;throwing&nbsp;CSS&nbsp;media&nbsp;events&nbsp;upon&nbsp;change,&nbsp;which&lt;br&gt;<br>
could&nbsp;potentially&nbsp;be&nbsp;integrated&nbsp;with&nbsp;this.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;whole&nbsp;things&nbsp;smells&nbsp;of&nbsp;over-engineering.&nbsp;A&nbsp;resource&nbsp;of&nbsp;MIME&nbsp;media&nbsp;type&lt;br&gt;<br>
&quot;audio&quot;&nbsp;obviously&nbsp;can&#39;t&nbsp;be&nbsp;rendered&nbsp;without&nbsp;audibility,&nbsp;&quot;image&quot;&nbsp;resources&lt;br&gt;<br>
sans&nbsp;(2D)&nbsp;visibility&nbsp;nor&nbsp;&quot;model&quot;&nbsp;resources&nbsp;sans&nbsp;3D&nbsp;visibility.&nbsp;&quot;Text&quot;&lt;br&gt;<br>
resources&nbsp;can&nbsp;be&nbsp;rendered&nbsp;both&nbsp;visually&nbsp;and&nbsp;aurally,&nbsp;and&nbsp;&quot;model&quot;s&nbsp;can&nbsp;also&lt;br&gt;<br>
be&nbsp;rendered&nbsp;to&nbsp;2D&nbsp;displays,&nbsp;as&nbsp;long&nbsp;they&#39;re&nbsp;interactive&nbsp;(they&#39;re&nbsp;redrawable&lt;br&gt;<br>
and&nbsp;user&nbsp;input&nbsp;is&nbsp;accessible).&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Although&nbsp;I&nbsp;agree&nbsp;that&nbsp;in&nbsp;some&nbsp;limited&nbsp;cases&nbsp;the&nbsp;correct&nbsp;behavior&nbsp;is&nbsp;clear,&nbsp;in&nbsp;practice&nbsp;there&nbsp;is&nbsp;a&nbsp;lot&nbsp;of&nbsp;gray&nbsp;area&nbsp;for&nbsp;many&nbsp;common&nbsp;cases.&nbsp; A&nbsp;multi-user&nbsp;collaborative&nbsp;puzzle&nbsp;should&nbsp;continue&nbsp;executing&nbsp;even&nbsp;when&nbsp;in&nbsp;the&nbsp;background&nbsp;(perhaps&nbsp;another&nbsp;player&nbsp;made&nbsp;a&nbsp;move&nbsp;that&nbsp;should&nbsp;play&nbsp;a&nbsp;sound&nbsp;to&nbsp;alert&nbsp;this&nbsp;user&nbsp;of&nbsp;the&nbsp;new&nbsp;move);&nbsp;a&nbsp;single-player&nbsp;puzzle&nbsp;might&nbsp;not&nbsp;need&nbsp;to&nbsp;execute&nbsp;at&nbsp;all&nbsp;when&nbsp;backgrounded.&nbsp; The&nbsp;more&nbsp;complex&nbsp;the&nbsp;web&nbsp;app,&nbsp;the&nbsp;more&nbsp;likely&nbsp;that&nbsp;the&nbsp;precise&nbsp;needs&nbsp;for&nbsp;pausing&nbsp;can&#39;t&nbsp;be&nbsp;met&nbsp;precisely&nbsp;with&nbsp;simple&nbsp;&quot;semantic&quot;&nbsp;directives&nbsp;to&nbsp;the&nbsp;browser.&lt;/div&gt;<br>
<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Regarding&nbsp;solving&nbsp;the&nbsp;use&nbsp;cases&nbsp;that&nbsp;cannot&nbsp;be&nbsp;addressed&nbsp;currently:&lt;br&gt;<br>
------&lt;br&gt;<br>
On&nbsp;December&nbsp;8th,&nbsp;Maciej&nbsp;Stachowiak&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
That&nbsp;leaves&nbsp;the&nbsp;following&nbsp;use&nbsp;cases:&lt;br&gt;<br>
*&nbsp;A&nbsp;puzzle&nbsp;game&nbsp;has&nbsp;a&nbsp;timer&nbsp;that&nbsp;keeps&nbsp;track&nbsp;of&nbsp;how&nbsp;long&nbsp;the&nbsp;user&nbsp;has&nbsp;taken&lt;br&gt;<br>
to&nbsp;solve&nbsp;the&nbsp;puzzle.&nbsp; It&nbsp;wants&nbsp;to&nbsp;pause&nbsp;the&nbsp;timer&nbsp;when&nbsp;the&nbsp;user&nbsp;has&nbsp;hidden&lt;br&gt;<br>
the&nbsp;tab.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>
The&nbsp;counter&nbsp;is&nbsp;paused&nbsp;while&nbsp;the&nbsp;script&#39;s&nbsp;suspended,&nbsp;wall-clock&nbsp;keeps&nbsp;going.&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
*&nbsp;A&nbsp;web&nbsp;app&nbsp;that&nbsp;uses&nbsp;polling&nbsp;to&nbsp;fetch&nbsp;dynamic&nbsp;content&nbsp;can&nbsp;pause&nbsp;polling&lt;br&gt;<br>
when&nbsp;it&nbsp;knows&nbsp;the&nbsp;page&nbsp;is&nbsp;hidden&nbsp;from&nbsp;the&nbsp;user.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>
A&nbsp;suspended&nbsp;script&nbsp;can&#39;t&nbsp;phone&nbsp;home.&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
*&nbsp;A&nbsp;page&nbsp;wants&nbsp;to&nbsp;detect&nbsp;when&nbsp;it&nbsp;is&nbsp;being&nbsp;prerendered&nbsp;so&nbsp;it&nbsp;can&nbsp;behave&lt;br&gt;<br>
appropriately.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>
The&nbsp;only&nbsp;use&nbsp;case&nbsp;for&nbsp;this&nbsp;I&nbsp;can&nbsp;see&nbsp;is&nbsp;confusing&nbsp;users.&nbsp;That&#39;s&nbsp;probably&lt;br&gt;<br>
just&nbsp;me.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;not&nbsp;sure&nbsp;that&nbsp;I&nbsp;understand&nbsp;this&nbsp;point.&nbsp; Given&nbsp;the&nbsp;existence&nbsp;of&nbsp;a&nbsp;pre-rendering&nbsp;feature,&nbsp;how&nbsp;would&nbsp;providing&nbsp;information&nbsp;to&nbsp;the&nbsp;page&nbsp;about&nbsp;whether&nbsp;it&nbsp;is&nbsp;being&nbsp;pre-rendered&nbsp;lead&nbsp;to&nbsp;confusion&nbsp;of&nbsp;users? &lt;/div&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
I&nbsp;am&nbsp;not&nbsp;sure&nbsp;what&nbsp;the&nbsp;third&nbsp;needs&nbsp;exactly,&nbsp;but&nbsp;it&nbsp;seems&nbsp;like&nbsp;first&nbsp;two&lt;br&gt;<br>
could&nbsp;be&nbsp;better&nbsp;served&nbsp;with&nbsp;an&nbsp;API&nbsp;that&nbsp;sets&nbsp;a&nbsp;timer&nbsp;which&nbsp;will&nbsp;only&nbsp;fire&lt;br&gt;<br>
when&nbsp;the&nbsp;page&nbsp;is&nbsp;visible.&nbsp;That&nbsp;kind&nbsp;of&nbsp;API&nbsp;might&nbsp;be&nbsp;easier&nbsp;to&nbsp;use&nbsp;right,&nbsp;and&lt;br&gt;<br>
avoids&nbsp;the&nbsp;need&nbsp;for&nbsp;JS&nbsp;to&nbsp;run&nbsp;when&nbsp;switching&nbsp;tabs,&nbsp;just&nbsp;to&nbsp;cancel&nbsp;and&lt;br&gt;<br>
restart&nbsp;timers.&lt;br&gt;<br>
&lt;br&gt;<br>
-----&lt;br&gt;<br>
&lt;br&gt;<br>
Although&nbsp;that&nbsp;API&nbsp;might&nbsp;be&nbsp;easier&nbsp;to&nbsp;use&nbsp;correctly&nbsp;(I&nbsp;don&#39;t&nbsp;know&nbsp;if&nbsp;I&#39;m&lt;br&gt;<br>
convinced),&nbsp;note&nbsp;that&nbsp;it&nbsp;would&nbsp;still&nbsp;have&nbsp;the&nbsp;same&nbsp;abuse&nbsp;concerns&nbsp;as&nbsp;the&lt;br&gt;<br>
proposed&nbsp;API.&nbsp; A&nbsp;website&nbsp;developer&nbsp;determined&nbsp;to&nbsp;be&nbsp;annoying&nbsp;could&nbsp;register&lt;br&gt;<br>
two&nbsp;timers--one&nbsp;that&nbsp;would&nbsp;not&nbsp;fire&nbsp;when&nbsp;the&nbsp;page&nbsp;is&nbsp;invisible,&nbsp;and&nbsp;one&nbsp;that&lt;br&gt;<br>
would&nbsp;continue&nbsp;firing&nbsp;even&nbsp;when&nbsp;the&nbsp;page&nbsp;is&nbsp;invisible.&nbsp; The&nbsp;first&nbsp;would&lt;br&gt;<br>
update&nbsp;some&nbsp;global&nbsp;variable&nbsp;with&nbsp;a&nbsp;timestamp&nbsp;every&nbsp;time&nbsp;it&nbsp;fires;&nbsp;the&nbsp;second&lt;br&gt;<br>
would&nbsp;check&nbsp;to&nbsp;see&nbsp;if&nbsp;the&nbsp;timestamp&nbsp;was&nbsp;significantly&nbsp;more&nbsp;stale&nbsp;than&nbsp;the&lt;br&gt;<br>
first&#39;s&nbsp;timer&nbsp;interval,&nbsp;and&nbsp;then&nbsp;could&nbsp;trigger&nbsp;a&nbsp;re-focussing&nbsp;alert.&nbsp; Of&lt;br&gt;<br>
course,&nbsp;the&nbsp;other&nbsp;benefit&nbsp;you&nbsp;note&nbsp;is&nbsp;that&nbsp;this&nbsp;idea&nbsp;wouldn&#39;t&nbsp;require&lt;br&gt;<br>
running&nbsp;javascript&nbsp;every&nbsp;time&nbsp;a&nbsp;user&nbsp;switches&nbsp;tabs,&nbsp;for&nbsp;this&nbsp;class&nbsp;of&nbsp;use&lt;br&gt;<br>
cases.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>
IMO,&nbsp;the&nbsp;script&nbsp;should&nbsp;probably&nbsp;not&nbsp;be&nbsp;running&nbsp;in&nbsp;such&nbsp;cases,&nbsp;rather&nbsp;suspended&lt;br&gt;<br>
or&nbsp;not&nbsp;executed&nbsp;at&nbsp;all.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
[snip]&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Fri,&nbsp;Dec&nbsp;10,&nbsp;2010&nbsp;at&nbsp;3:00&nbsp;PM,&nbsp;Thomas&nbsp;Broyer&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:t.broyer@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;t.broyer@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
On&nbsp;Fri,&nbsp;Dec&nbsp;10,&nbsp;2010&nbsp;at&nbsp;1:14&nbsp;PM,&nbsp;Dennis&nbsp;Joachimsthaler&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:dennis@efjot.de&quot;&nbsp;target=&quot;_blank&quot;&gt;dennis@efjot.de&lt;/a&gt;&gt;&lt;br&gt;<br>
wrote:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Maybe&nbsp;we&nbsp;can&nbsp;disallow&nbsp;the&nbsp;&quot;visibilitychange&quot;&nbsp;event&nbsp;to&nbsp;produce&nbsp;any&nbsp;dialogs&lt;br&gt;<br>
&gt;&nbsp;or&nbsp;anything&nbsp;else&nbsp;that&nbsp;could&nbsp;give&nbsp;focus?&lt;br&gt;<br>
&lt;br&gt;<br>
window.onvisibilitychange&nbsp;=&nbsp;function(e)&nbsp;{&lt;br&gt;<br>
 setTimeout(function()&nbsp;{&lt;br&gt;<br>
&nbsp; &nbsp;alert(&quot;Worked&nbsp;around!&quot;);&lt;br&gt;<br>
 },&nbsp;0);&lt;br&gt;<br>
};&lt;br&gt;<br>
&lt;br&gt;<br>
Or&nbsp;would&nbsp;browsers&nbsp;be&nbsp;able&nbsp;to&nbsp;track&nbsp;that&nbsp;the&nbsp;code&nbsp;was&nbsp;initially&lt;br&gt;<br>
triggered&nbsp;from&nbsp;visibilitychange?&nbsp;(including&nbsp;when&nbsp;programmatically&lt;br&gt;<br>
creating&nbsp;and&nbsp;dispatching&nbsp;another&nbsp;DOM&nbsp;events,&nbsp;instead&nbsp;of&nbsp;or&nbsp;in&nbsp;addition&lt;br&gt;<br>
to&nbsp;the&nbsp;setTimeout?)&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;/blockquote&gt;<br>
I&nbsp;was&nbsp;thinking&nbsp;more&nbsp;like&nbsp;disabling&nbsp;access&nbsp;to&nbsp;alert,&nbsp;even&nbsp;from&nbsp;other&nbsp;functions.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
