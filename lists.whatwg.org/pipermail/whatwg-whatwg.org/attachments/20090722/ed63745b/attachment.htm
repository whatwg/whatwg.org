<tt>
Hi&nbsp;all,&lt;br&gt;&lt;br&gt;I&amp;#39;ve&nbsp;been&nbsp;writing&nbsp;some&nbsp;code&nbsp;that&nbsp;uses&nbsp;web&nbsp;workers.&nbsp;It&amp;#39;s&nbsp;a&nbsp;very&nbsp;nice&nbsp;addition&nbsp;to&nbsp;the&nbsp;HTML&nbsp;toolbox&nbsp;(kudos!),&nbsp;but&nbsp;I&nbsp;have&nbsp;some&nbsp;questions:&lt;br&gt;&lt;br&gt;First,&nbsp;why&nbsp;does&nbsp;the&nbsp;structured&nbsp;clone&nbsp;algorithm&nbsp;used&nbsp;by&nbsp;postMessage()&nbsp;[1]&nbsp;throw&nbsp;an&nbsp;exception&nbsp;if&nbsp;it&nbsp;encounters&nbsp;cycles?&nbsp;It&nbsp;seems&nbsp;to&nbsp;me&nbsp;that&nbsp;the&nbsp;memory-based&nbsp;logic&nbsp;which&nbsp;is&nbsp;used&nbsp;to&nbsp;catch&nbsp;cycles&nbsp;could&nbsp;easily&nbsp;be&nbsp;modified&nbsp;to&nbsp;resolve&nbsp;them&nbsp;instead.&nbsp;The&nbsp;only&nbsp;possible&nbsp;reason&nbsp;I&nbsp;can&nbsp;think&nbsp;of&nbsp;is&nbsp;to&nbsp;match&nbsp;JSON&nbsp;semantics,&nbsp;and&nbsp;the&nbsp;only&nbsp;reason&nbsp;I&nbsp;can&nbsp;think&nbsp;of&nbsp;to&nbsp;want&nbsp;to&nbsp;match&nbsp;JSON&nbsp;semantics&nbsp;is&nbsp;to&nbsp;make&nbsp;implementers&nbsp;lives&nbsp;easier&nbsp;(witness&nbsp;Firefox&nbsp;3.5,&nbsp;which&nbsp;just&nbsp;JSONifies&nbsp;objects&nbsp;passed&nbsp;to&nbsp;postMessage()).&nbsp;However,&nbsp;this&nbsp;is&nbsp;a&nbsp;huge&nbsp;limitation,&nbsp;and&nbsp;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;that&nbsp;the&nbsp;correct&nbsp;trade-off&nbsp;is&nbsp;to&nbsp;make&nbsp;implementers&nbsp;lives&nbsp;easier&nbsp;at&nbsp;the&nbsp;expense&nbsp;of&nbsp;making&nbsp;web&nbsp;designers&nbsp;lives&nbsp;harder.&lt;br&gt;<br>
<br>
&lt;br&gt;Second,&nbsp;why&nbsp;not&nbsp;walk&nbsp;the&nbsp;prototype&nbsp;chain?&nbsp;Similar&nbsp;rules&nbsp;regarding&nbsp;host&nbsp;objects&nbsp;and&nbsp;regular&nbsp;objects&nbsp;could&nbsp;apply&nbsp;to&nbsp;prototypes.&nbsp;You&nbsp;would&nbsp;want&nbsp;to&nbsp;make&nbsp;sure&nbsp;that&nbsp;multiple&nbsp;references&nbsp;to&nbsp;the&nbsp;same&nbsp;prototype&nbsp;instance&nbsp;result&nbsp;in&nbsp;references&nbsp;to&nbsp;a&nbsp;single&nbsp;prototype&nbsp;clone&nbsp;in&nbsp;the&nbsp;cloned&nbsp;object&nbsp;graph.&nbsp;Again,&nbsp;though,&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;sound&nbsp;too&nbsp;hard&nbsp;(though&nbsp;I&nbsp;might&nbsp;just&nbsp;be&nbsp;optimistic).&nbsp;Why&nbsp;not&nbsp;make&nbsp;web&nbsp;designers&amp;#39;&nbsp;lives&nbsp;easier?&lt;br&gt;<br>
<br>
&lt;br&gt;Overall,&nbsp;it&nbsp;just&nbsp;appears&nbsp;that&nbsp;the&nbsp;current&nbsp;web&nbsp;worker&nbsp;spec&nbsp;ignores&nbsp;the&nbsp;class&nbsp;of&nbsp;computational&nbsp;problems&nbsp;involving&nbsp;results&nbsp;which&nbsp;need&nbsp;to&nbsp;be&nbsp;modeled&nbsp;in&nbsp;a&nbsp;complex&nbsp;way.&nbsp;What&nbsp;do&nbsp;others&nbsp;think?&lt;br&gt;&lt;br&gt;Looking&nbsp;forward&nbsp;to&nbsp;feedback!&lt;br&gt;<br>
<br>
&lt;br&gt;Daniel&lt;br&gt;&lt;br&gt;&lt;br&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;http://www.whatwg.org/specs/web-apps/current-work/multipage/infrastructure.html#structured-clone&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.whatwg.org/specs/web-apps/current-work/multipage/infrastructure.html#structured-clone&lt;/a&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;<br>
<br>
&lt;br&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Daniel&nbsp;Gredler&lt;br&gt;&lt;a&nbsp;href=&quot;http://daniel.gredler.net/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://daniel.gredler.net/&lt;/a&gt;&lt;br&gt;<br>

</tt>
