<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000099&quot;&gt;<br>
The&nbsp;spec&nbsp;says&nbsp;when&nbsp;an&nbsp;iframe&nbsp;(a&nbsp;child&nbsp;browsing&nbsp;context)&nbsp;doesn't&nbsp;refer&nbsp;a<br>
manifest&nbsp;in&nbsp;the&nbsp;&amp;lt;html&amp;gt;&nbsp;tag&nbsp;it&nbsp;has&nbsp;to&nbsp;inherit&nbsp;cache&nbsp;from&nbsp;its<br>
parent's&nbsp;document.&lt;br&gt;<br>
&lt;br&gt;<br>
1.&nbsp;This&nbsp;should&nbsp;be&nbsp;restricted&nbsp;to&nbsp;the&nbsp;same&nbsp;origin&nbsp;because&nbsp;when&nbsp;an&nbsp;offline<br>
application&nbsp;loads&nbsp;in&nbsp;an&nbsp;iframe&nbsp;a&nbsp;site&nbsp;(an&nbsp;advertisement&nbsp;or&nbsp;what&nbsp;ever<br>
site)&nbsp;that&nbsp;site&nbsp;has&nbsp;full&nbsp;access&nbsp;to&nbsp;window.applicationCache&nbsp;object&nbsp;and<br>
can&nbsp;inject&nbsp;to&nbsp;the&nbsp;cache&nbsp;any&nbsp;kind&nbsp;of&nbsp;resource&nbsp;from&nbsp;any&nbsp;origin&nbsp;without<br>
user&nbsp;notification.&nbsp;This&nbsp;resource&nbsp;is&nbsp;then&nbsp;carried&nbsp;among&nbsp;cache&nbsp;versions<br>
until&nbsp;explicitly&nbsp;overwritten&nbsp;or&nbsp;deleted&nbsp;from&nbsp;the&nbsp;cache.&lt;br&gt;<br>
&lt;br&gt;<br>
2.&nbsp;When&nbsp;a&nbsp;completely&nbsp;different&nbsp;site&nbsp;from&nbsp;a&nbsp;different&nbsp;origin,&nbsp;in&nbsp;this<br>
case&nbsp;not&nbsp;malicious,&nbsp;is&nbsp;loaded&nbsp;in&nbsp;an&nbsp;iframe&nbsp;from&nbsp;inside&nbsp;of&nbsp;an&nbsp;offline<br>
application,&nbsp;the&nbsp;site&nbsp;would&nbsp;probably&nbsp;be&nbsp;completely&nbsp;broken&nbsp;-&nbsp;the<br>
resources&nbsp;on&nbsp;the&nbsp;page&nbsp;could&nbsp;not&nbsp;be&nbsp;load&nbsp;because&nbsp;of&nbsp;the&nbsp;associated&nbsp;cache<br>
of&nbsp;probably&nbsp;unrelated&nbsp;offline&nbsp;application.&lt;br&gt;<br>
&lt;br&gt;<br>
3.&nbsp;Master&nbsp;documents&nbsp;are&nbsp;associated&nbsp;with&nbsp;the&nbsp;cache&nbsp;after&nbsp;the&nbsp;cache<br>
update&nbsp;finished.&nbsp;I&nbsp;percept&nbsp;this&nbsp;step&nbsp;as&nbsp;a&nbsp;way&nbsp;to&nbsp;make&nbsp;the&nbsp;offline<br>
application&nbsp;document&nbsp;be&nbsp;in&nbsp;a&nbsp;consistent&nbsp;state&nbsp;after&nbsp;cache&nbsp;update<br>
finished&nbsp;w/o&nbsp;need&nbsp;to&nbsp;refresh&nbsp;the<br>
top&nbsp;document,&nbsp;right?&nbsp;But,&nbsp;iframes&nbsp;that&nbsp;should&nbsp;inherit&nbsp;cache&nbsp;from&nbsp;its<br>
parents&nbsp;are&nbsp;not&nbsp;associated&nbsp;(there&nbsp;were&nbsp;no&nbsp;cache&nbsp;at&nbsp;moment&nbsp;of&nbsp;load/cache<br>
selection&nbsp;algorithm&nbsp;and&nbsp;there&nbsp;is&nbsp;not&nbsp;visible&nbsp;in&nbsp;the&nbsp;spec&nbsp;to&nbsp;do&nbsp;the<br>
association&nbsp;later).&nbsp;Workaround&nbsp;is&nbsp;to&nbsp;add&nbsp;reference&nbsp;to&nbsp;the&nbsp;manifest&nbsp;to<br>
all&nbsp;iframe'd&nbsp;documents,&nbsp;but&nbsp;in&nbsp;that&nbsp;case&nbsp;there&nbsp;is&nbsp;no&nbsp;need&nbsp;to&nbsp;have&nbsp;a<br>
special&nbsp;handling&nbsp;for&nbsp;such&nbsp;child&nbsp;contexts&nbsp;in&nbsp;case&nbsp;they&nbsp;don't&nbsp;refer&nbsp;a<br>
manifest.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
All&nbsp;these&nbsp;points&nbsp;lead&nbsp;me&nbsp;to&nbsp;opinion&nbsp;to&nbsp;remove&nbsp;the&nbsp;cache&nbsp;inheritance&nbsp;for<br>
child&nbsp;contexts&nbsp;feature.&nbsp;The&nbsp;manifest&nbsp;reference&nbsp;will&nbsp;not&nbsp;involve&nbsp;any&nbsp;new<br>
updates&nbsp;because&nbsp;they&nbsp;are&nbsp;atomically&nbsp;cumulated&nbsp;and&nbsp;let&nbsp;different&nbsp;sites<br>
&quot;fall&nbsp;off&quot;&nbsp;the&nbsp;offline&nbsp;app&nbsp;context.&nbsp;Also&nbsp;we&nbsp;don't&nbsp;have&nbsp;any&nbsp;cross-site<br>
security&nbsp;risks,&nbsp;even&nbsp;just&nbsp;potential.&lt;br&gt;<br>
&lt;br&gt;<br>
Potentially,&nbsp;to&nbsp;preserve&nbsp;inheritance&nbsp;and&nbsp;save&nbsp;some&nbsp;work&nbsp;to&nbsp;web<br>
developers,&nbsp;we&nbsp;may&nbsp;introduce&nbsp;explicit&nbsp;attribute&nbsp;to&nbsp;iframe&nbsp;by&nbsp;defining<br>
the&nbsp;manifest&nbsp;to&nbsp;use&nbsp;or&nbsp;just&nbsp;say&nbsp;to&nbsp;let&nbsp;the&nbsp;context&nbsp;inherit&nbsp;the&nbsp;cache<br>
from&nbsp;the&nbsp;parent.&lt;br&gt;<br>
&lt;br&gt;<br>
-hb-&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
