<tt>
If&nbsp;the&nbsp;interface&nbsp;were&nbsp;implemented&nbsp;as-is,&nbsp;document.responseXML&nbsp;would&nbsp;just&nbsp;be&nbsp;a&nbsp;reference&nbsp;back&nbsp;to&nbsp;the&nbsp;document&nbsp;object.&lt;br&gt;&lt;br&gt;So&nbsp;if&nbsp;the&nbsp;document&nbsp;is&nbsp;XML,&nbsp;then&nbsp;document&nbsp;===&nbsp;document.responseXML&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
On&nbsp;Wed,&nbsp;Oct&nbsp;29,&nbsp;2008&nbsp;at&nbsp;12:14&nbsp;PM,&nbsp;Kristof&nbsp;Zelechovski&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:giecrilj@stegny.2a.pl&quot;&gt;giecrilj@stegny.2a.pl&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&nbsp;link=&quot;blue&quot;&nbsp;vlink=&quot;blue&quot;&nbsp;lang=&quot;PL&quot;&gt;<br>
<br>
&lt;div&gt;<br>
<br>
&lt;p&gt;&lt;font&nbsp;color=&quot;navy&quot;&nbsp;size=&quot;2&quot;&nbsp;face=&quot;Arial&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;10pt;&nbsp;font-family:&nbsp;Arial;&nbsp;color:&nbsp;navy;&quot;&nbsp;lang=&quot;EN-US&quot;&gt;What&nbsp;should&nbsp;the&nbsp;property&nbsp;&quot;HTMLDocument.responseXML&quot;<br>
represent?&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;font&nbsp;color=&quot;navy&quot;&nbsp;size=&quot;2&quot;&nbsp;face=&quot;Arial&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;10pt;&nbsp;font-family:&nbsp;Arial;&nbsp;color:&nbsp;navy;&quot;&nbsp;lang=&quot;EN-US&quot;&gt;Chris&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;font&nbsp;color=&quot;navy&quot;&nbsp;size=&quot;2&quot;&nbsp;face=&quot;Arial&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;10pt;&nbsp;font-family:&nbsp;Arial;&nbsp;color:&nbsp;navy;&quot;&nbsp;lang=&quot;EN-US&quot;&gt;&nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;<br>
<br>
&lt;div&gt;<br>
<br>
&lt;div&nbsp;style=&quot;text-align:&nbsp;center;&quot;&nbsp;align=&quot;center&quot;&gt;&lt;font&nbsp;size=&quot;3&quot;&nbsp;face=&quot;Times&nbsp;New&nbsp;Roman&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;<br>
<br>
&lt;hr&nbsp;align=&quot;center&quot;&nbsp;size=&quot;2&quot;&nbsp;width=&quot;100%&quot;&gt;<br>
<br>
&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;p&gt;&lt;b&gt;&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;Tahoma&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;10pt;&nbsp;font-family:&nbsp;Tahoma;&nbsp;font-weight:&nbsp;bold;&quot;&gt;From:&lt;/span&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;Tahoma&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;10pt;&nbsp;font-family:&nbsp;Tahoma;&quot;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:whatwg-bounces@lists.whatwg.org&quot;&nbsp;target=&quot;_blank&quot;&gt;whatwg-bounces@lists.whatwg.org&lt;/a&gt;<br>
[mailto:&lt;a&nbsp;href=&quot;mailto:whatwg-bounces@lists.whatwg.org&quot;&nbsp;target=&quot;_blank&quot;&gt;whatwg-bounces@lists.whatwg.org&lt;/a&gt;]&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;On<br>
Behalf&nbsp;Of&nbsp;&lt;/span&gt;&lt;/b&gt;Weston&nbsp;Ruter&lt;br&gt;<br>
&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Sent:&lt;/span&gt;&lt;/b&gt;&nbsp;Wednesday,&nbsp;October&nbsp;29,&nbsp;2008<br>
8:06&nbsp;PM&lt;br&gt;<br>
&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;To:&lt;/span&gt;&lt;/b&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:whatwg@whatwg.org&quot;&nbsp;target=&quot;_blank&quot;&gt;whatwg@whatwg.org&lt;/a&gt;&lt;br&gt;<br>
&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Cc:&lt;/span&gt;&lt;/b&gt;&nbsp;Ian&nbsp;Hickson;&nbsp;Anne&nbsp;van&nbsp;Kesteren&lt;br&gt;<br>
&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Subject:&lt;/span&gt;&lt;/b&gt;&nbsp;[whatwg]&nbsp;Implement<br>
XMLHttpRequest&nbsp;interface&nbsp;subset&nbsp;on&nbsp;HTMLDocument&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;<br>
<br>
&lt;p&gt;&lt;font&nbsp;size=&quot;3&quot;&nbsp;face=&quot;Times&nbsp;New&nbsp;Roman&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;&nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;<br>
<br>
&lt;div&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;12pt;&quot;&gt;&lt;font&nbsp;size=&quot;3&quot;&nbsp;face=&quot;Times&nbsp;New&nbsp;Roman&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;I&nbsp;realized&nbsp;that&nbsp;the&nbsp;HTTP<br>
response&nbsp;headers&nbsp;exposed&nbsp;in&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;http://www.w3.org/html/wg/html5/#htmldocument&quot;&nbsp;target=&quot;_blank&quot;&gt;HTMLDocument&nbsp;interface&lt;/a&gt;<br>
are&nbsp;limited:&nbsp;referrer,&nbsp;cookie,&nbsp;lastModified,&nbsp;charset,&nbsp;characterSet.&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;would&nbsp;be&nbsp;very&nbsp;useful&nbsp;if&nbsp;a&nbsp;script&nbsp;could&nbsp;get&nbsp;*all*&nbsp;of&nbsp;the&nbsp;response&nbsp;headers,<br>
the&nbsp;raw&nbsp;entity&nbsp;body,&nbsp;and&nbsp;the&nbsp;HTTP&nbsp;status:&nbsp;basically&nbsp;it&nbsp;would&nbsp;be&nbsp;great&nbsp;if&nbsp;the<br>
HTMLDocument&nbsp;interface&nbsp;implemented&nbsp;a&nbsp;subset&nbsp;of&nbsp;of&nbsp;the&nbsp;XMLHttpRequest&nbsp;spec,<br>
namely&nbsp;the&nbsp;parts&nbsp;which&nbsp;have&nbsp;to&nbsp;do&nbsp;with&nbsp;the&nbsp;response&nbsp;(e.g.<br>
getAllResponseHeaders(),&nbsp;getResponseHeader(),&nbsp;status,&nbsp;and&nbsp;others&nbsp;which&nbsp;appear<br>
below).&nbsp;The&nbsp;HTMLDocument&nbsp;interface&nbsp;already&nbsp;has&nbsp;a&nbsp;readyState&nbsp;property&nbsp;which<br>
XMLHttpRequest&nbsp;also&nbsp;has,&nbsp;but&nbsp;the&nbsp;HTMLDocument&nbsp;interface&nbsp;lacks&nbsp;XHR&#39;s&nbsp;onreadystatechange<br>
attribute.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;this&nbsp;subset&nbsp;were&nbsp;implemented&nbsp;on&nbsp;HTMLDocument,&nbsp;then&nbsp;scripts&nbsp;would&nbsp;be&nbsp;able&nbsp;to<br>
determine&nbsp;if&nbsp;the&nbsp;page&nbsp;if&nbsp;a&nbsp;404&nbsp;or&nbsp;get&nbsp;any&nbsp;other&nbsp;arbitrary&nbsp;information&nbsp;that&nbsp;is<br>
passed&nbsp;in&nbsp;the&nbsp;response&nbsp;header.&lt;br&gt;<br>
&lt;br&gt;<br>
Here&#39;s&nbsp;a&nbsp;proposed&nbsp;extension&nbsp;to&nbsp;the&nbsp;HTMLDocument&nbsp;interface&nbsp;with&nbsp;some&nbsp;comments&nbsp;to<br>
explain&nbsp;the&nbsp;semantics:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;&lt;/font&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;span&gt;interface<br>
HTMLDocument&nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;...&lt;br&gt;<br>
&nbsp;&nbsp;//another&nbsp;way&nbsp;to&nbsp;get&nbsp;DOMContentLoaded&nbsp;event;&nbsp;the&nbsp;readyState&nbsp;would&nbsp;start<br>
out&nbsp;as&nbsp;LOADING&lt;br&gt;<br>
&nbsp;&nbsp;attribute&nbsp;EventListener&nbsp;onreadystatechange;&lt;br&gt;<br>
&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;//&nbsp;state&lt;br&gt;<br>
&nbsp;&nbsp;const&nbsp;unsigned&nbsp;short&nbsp;UNSENT&nbsp;=&nbsp;0;&lt;br&gt;<br>
&nbsp;&nbsp;const&nbsp;unsigned&nbsp;short&nbsp;OPENED&nbsp;=&nbsp;1;&lt;br&gt;<br>
&nbsp;&nbsp;const&nbsp;unsigned&nbsp;short&nbsp;HEADERS_RECEIVED&nbsp;=&nbsp;2;&lt;br&gt;<br>
&nbsp;&nbsp;const&nbsp;unsigned&nbsp;short&nbsp;LOADING&nbsp;=&nbsp;3;&lt;br&gt;<br>
&nbsp;&nbsp;const&nbsp;unsigned&nbsp;short&nbsp;DONE&nbsp;=&nbsp;4;&lt;br&gt;<br>
&nbsp;&nbsp;readonly&nbsp;attribute&nbsp;unsigned&nbsp;short&nbsp;readyState;&nbsp;//already&nbsp;in&nbsp;HTML&nbsp;5&lt;br&gt;<br>
&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;//&nbsp;request&lt;br&gt;<br>
&nbsp;&nbsp;void&nbsp;abort();&nbsp;//complements&nbsp;window.stop():&nbsp;stops&nbsp;the&nbsp;contained&nbsp;document<br>
instead&nbsp;of&nbsp;the&nbsp;associated&nbsp;resources&lt;br&gt;<br>
&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;//&nbsp;response&lt;br&gt;<br>
&nbsp;&nbsp;DOMString&nbsp;getAllResponseHeaders();&lt;br&gt;<br>
&nbsp;&nbsp;DOMString&nbsp;getResponseHeader(in&nbsp;DOMString&nbsp;header);&lt;br&gt;<br>
&nbsp;&nbsp;readonly&nbsp;attribute&nbsp;DOMString&nbsp;responseText;&nbsp;//the&nbsp;non-parsed&nbsp;content&nbsp;of<br>
the&nbsp;document&lt;br&gt;<br>
&nbsp;&nbsp;readonly&nbsp;attribute&nbsp;Document&nbsp;responseXML;&lt;br&gt;<br>
&nbsp;&nbsp;readonly&nbsp;attribute&nbsp;unsigned&nbsp;short&nbsp;status;&lt;br&gt;<br>
&nbsp;&nbsp;readonly&nbsp;attribute&nbsp;DOMString&nbsp;statusText;&lt;br&gt;<br>
}&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;<br>
<br>
&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;<br>
<br>
<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
