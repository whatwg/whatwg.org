<tt>
&lt;div&gt;I&nbsp;realized&nbsp;that&nbsp;the&nbsp;HTTP&nbsp;response&nbsp;headers&nbsp;exposed&nbsp;in&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;http://www.w3.org/html/wg/html5/#htmldocument&quot;&gt;HTMLDocument&nbsp;interface&lt;/a&gt;&nbsp;are&nbsp;limited:&nbsp;referrer,&nbsp;cookie,&nbsp;lastModified,&nbsp;charset,&nbsp;characterSet.&lt;br&gt;&lt;br&gt;It&nbsp;would&nbsp;be&nbsp;very&nbsp;useful&nbsp;if&nbsp;a&nbsp;script&nbsp;could&nbsp;get&nbsp;*all*&nbsp;of&nbsp;the&nbsp;response&nbsp;headers,&nbsp;the&nbsp;raw&nbsp;entity&nbsp;body,&nbsp;and&nbsp;the&nbsp;HTTP&nbsp;status:&nbsp;basically&nbsp;it&nbsp;would&nbsp;be&nbsp;great&nbsp;if&nbsp;the&nbsp;HTMLDocument&nbsp;interface&nbsp;implemented&nbsp;a&nbsp;subset&nbsp;of&nbsp;of&nbsp;the&nbsp;XMLHttpRequest&nbsp;spec,&nbsp;namely&nbsp;the&nbsp;parts&nbsp;which&nbsp;have&nbsp;to&nbsp;do&nbsp;with&nbsp;the&nbsp;response&nbsp;(e.g.&nbsp;getAllResponseHeaders(),&nbsp;getResponseHeader(),&nbsp;status,&nbsp;and&nbsp;others&nbsp;which&nbsp;appear&nbsp;below).&nbsp;The&nbsp;HTMLDocument&nbsp;interface&nbsp;already&nbsp;has&nbsp;a&nbsp;readyState&nbsp;property&nbsp;which&nbsp;XMLHttpRequest&nbsp;also&nbsp;has,&nbsp;but&nbsp;the&nbsp;HTMLDocument&nbsp;interface&nbsp;lacks&nbsp;XHR&#39;s&nbsp;onreadystatechange&nbsp;attribute.&lt;br&gt;<br>
&lt;br&gt;If&nbsp;this&nbsp;subset&nbsp;were&nbsp;implemented&nbsp;on&nbsp;HTMLDocument,&nbsp;then&nbsp;scripts&nbsp;would&nbsp;be&nbsp;able&nbsp;to&nbsp;determine&nbsp;if&nbsp;the&nbsp;page&nbsp;if&nbsp;a&nbsp;404&nbsp;or&nbsp;get&nbsp;any&nbsp;other&nbsp;arbitrary&nbsp;information&nbsp;that&nbsp;is&nbsp;passed&nbsp;in&nbsp;the&nbsp;response&nbsp;header.&lt;br&gt;&lt;br&gt;Here&#39;s&nbsp;a&nbsp;proposed&nbsp;extension&nbsp;to&nbsp;the&nbsp;HTMLDocument&nbsp;interface&nbsp;with&nbsp;some&nbsp;comments&nbsp;to&nbsp;explain&nbsp;the&nbsp;semantics:&lt;br&gt;<br>
&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;interface&nbsp;HTMLDocument&nbsp;{&lt;br&gt;&nbsp;&nbsp;...&lt;br&gt;&nbsp;&nbsp;//another&nbsp;way&nbsp;to&nbsp;get&nbsp;DOMContentLoaded&nbsp;event;&nbsp;the&nbsp;readyState&nbsp;would&nbsp;start&nbsp;out&nbsp;as&nbsp;LOADING&lt;br&gt;&nbsp;&nbsp;attribute&nbsp;EventListener&nbsp;onreadystatechange;&lt;br&gt;<br>
&nbsp;&lt;br&gt;&nbsp;&nbsp;//&nbsp;state&lt;br&gt;&nbsp;&nbsp;const&nbsp;unsigned&nbsp;short&nbsp;UNSENT&nbsp;=&nbsp;0;&lt;br&gt;&nbsp;&nbsp;const&nbsp;unsigned&nbsp;short&nbsp;OPENED&nbsp;=&nbsp;1;&lt;br&gt;&nbsp;&nbsp;const&nbsp;unsigned&nbsp;short&nbsp;HEADERS_RECEIVED&nbsp;=&nbsp;2;&lt;br&gt;&nbsp;&nbsp;const&nbsp;unsigned&nbsp;short&nbsp;LOADING&nbsp;=&nbsp;3;&lt;br&gt;&nbsp;&nbsp;const&nbsp;unsigned&nbsp;short&nbsp;DONE&nbsp;=&nbsp;4;&lt;br&gt;&nbsp;&nbsp;readonly&nbsp;attribute&nbsp;unsigned&nbsp;short&nbsp;readyState;&nbsp;//already&nbsp;in&nbsp;HTML&nbsp;5&lt;br&gt;<br>
&nbsp;&lt;br&gt;&nbsp;&nbsp;//&nbsp;request&lt;br&gt;&nbsp;&nbsp;void&nbsp;abort();&nbsp;//complements&nbsp;window.stop():&nbsp;stops&nbsp;the&nbsp;contained&nbsp;document&nbsp;instead&nbsp;of&nbsp;the&nbsp;associated&nbsp;resources&lt;br&gt;&nbsp;&lt;br&gt;&nbsp;&nbsp;//&nbsp;response&lt;br&gt;&nbsp;&nbsp;DOMString&nbsp;getAllResponseHeaders();&lt;br&gt;&nbsp;&nbsp;DOMString&nbsp;getResponseHeader(in&nbsp;DOMString&nbsp;header);&lt;br&gt;<br>
&nbsp;&nbsp;readonly&nbsp;attribute&nbsp;DOMString&nbsp;responseText;&nbsp;//the&nbsp;non-parsed&nbsp;content&nbsp;of&nbsp;the&nbsp;document&lt;br&gt;&nbsp;&nbsp;readonly&nbsp;attribute&nbsp;Document&nbsp;responseXML;&lt;br&gt;&nbsp;&nbsp;readonly&nbsp;attribute&nbsp;unsigned&nbsp;short&nbsp;status;&lt;br&gt;&nbsp;&nbsp;readonly&nbsp;attribute&nbsp;DOMString&nbsp;statusText;&lt;br&gt;<br>
}&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
