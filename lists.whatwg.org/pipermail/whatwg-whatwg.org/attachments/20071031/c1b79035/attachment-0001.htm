<tt>
&lt;html&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;I&nbsp;originally&nbsp;had&nbsp;some&nbsp;objections&nbsp;to&nbsp;this,&nbsp;but&nbsp;think&nbsp;it&nbsp;might&nbsp;be&nbsp;okay.&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;understanding&nbsp;with&nbsp;this&nbsp;design&nbsp;is&nbsp;that&nbsp;you&nbsp;would&nbsp;get&nbsp;this&nbsp;SQLTransaction&nbsp;object&nbsp;back&nbsp;and&nbsp;it&nbsp;would&nbsp;just&nbsp;sit&nbsp;around,&nbsp;not&nbsp;doing&nbsp;anything.&nbsp;&nbsp;When&nbsp;you&nbsp;first&nbsp;call&nbsp;executeSql&nbsp;on&nbsp;it,&nbsp;you&nbsp;kick&nbsp;off&nbsp;the&nbsp;transaction&nbsp;steps&nbsp;as&nbsp;they&nbsp;already&nbsp;exist.&nbsp;&nbsp;Until&nbsp;you&nbsp;call&nbsp;executeSql(),&nbsp;it's&nbsp;just&nbsp;a&nbsp;dummy&nbsp;object&nbsp;that&nbsp;doesn't&nbsp;interfere&nbsp;with&nbsp;the&nbsp;database&nbsp;at&nbsp;all.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;the&nbsp;above&nbsp;understanding&nbsp;is&nbsp;how&nbsp;we&nbsp;change&nbsp;the&nbsp;spec,&nbsp;I'm&nbsp;all&nbsp;for&nbsp;it.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;~Brady&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Oct&nbsp;31,&nbsp;2007,&nbsp;at&nbsp;11:40&nbsp;AM,&nbsp;Timothy&nbsp;Hatcher&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;div&gt;I&nbsp;have&nbsp;finally&nbsp;looked&nbsp;over&nbsp;the&nbsp;new&nbsp;syntax&nbsp;and&nbsp;I'm&nbsp;starting&nbsp;to&nbsp;like&nbsp;how&nbsp;transactions&nbsp;are&nbsp;handled&nbsp;now.&nbsp;However,&nbsp;I&nbsp;feel&nbsp;the&nbsp;current&nbsp;spec&nbsp;has&nbsp;taken&nbsp;a&nbsp;turn&nbsp;towards&nbsp;a&nbsp;more&nbsp;complex&nbsp;model&nbsp;even&nbsp;for&nbsp;simple&nbsp;queries&nbsp;that&nbsp;don't&nbsp;require&nbsp;transactions.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Compare:&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;Times;&nbsp;font-size:&nbsp;10px;&nbsp;&quot;&gt;&lt;pre&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;white-space:&nbsp;pre-wrap;&nbsp;&quot;&gt;db.executeSql(&quot;CREATE&nbsp;TABLE&nbsp;WebKitStickyNotes&nbsp;(id&nbsp;REAL&nbsp;UNIQUE,&nbsp;note&nbsp;TEXT,&nbsp;timestamp&nbsp;REAL,&nbsp;left&nbsp;TEXT,&nbsp;top&nbsp;TEXT,&nbsp;zindex&nbsp;REAL)&quot;,&nbsp;[]);&lt;/pre&gt;&lt;pre&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;white-space:&nbsp;pre-wrap;&nbsp;&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#000000&quot;&nbsp;face=&quot;Verdana&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;background-color:&nbsp;transparent;&nbsp;font-size:&nbsp;11px;&quot;&gt;and&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;white-space:&nbsp;pre-wrap;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;Times;&nbsp;white-space:&nbsp;normal;&nbsp;&quot;&gt;&lt;pre&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;white-space:&nbsp;pre-wrap;&nbsp;&quot;&gt;db.transaction(function(transacion)&nbsp;{&nbsp;transacion.executeSql(&quot;CREATE&nbsp;TABLE&nbsp;WebKitStickyNotes&nbsp;(id&nbsp;REAL&nbsp;UNIQUE,&nbsp;note&nbsp;TEXT,&nbsp;timestamp&nbsp;REAL,&nbsp;left&nbsp;TEXT,&nbsp;top&nbsp;TEXT,&nbsp;zindex&nbsp;REAL)&quot;,&nbsp;[])&nbsp;});&lt;/pre&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;think&nbsp;there&nbsp;needs&nbsp;to&nbsp;be&nbsp;an&nbsp;executeSql&nbsp;on&nbsp;the&nbsp;Database&nbsp;object&nbsp;still.&nbsp;Using&nbsp;executeSql&nbsp;on&nbsp;the&nbsp;Database&nbsp;will&nbsp;just&nbsp;queue&nbsp;up&nbsp;statements&nbsp;interleaved&nbsp;with&nbsp;the&nbsp;transactions.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;other&nbsp;problem&nbsp;I&nbsp;see&nbsp;that&nbsp;makes&nbsp;the&nbsp;current&nbsp;spec&nbsp;more&nbsp;complex&nbsp;is&nbsp;the&nbsp;transaction&nbsp;callback.&nbsp;I&nbsp;think&nbsp;a&nbsp;better&nbsp;API&nbsp;would&nbsp;be:&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#000000&quot;&nbsp;face=&quot;Monaco&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;background-color:&nbsp;transparent;&nbsp;font-size:&nbsp;10px;&quot;&gt;SQLTransaction&nbsp;transaction();&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#000000&quot;&nbsp;face=&quot;Monaco&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;background-color:&nbsp;transparent;&nbsp;font-size:&nbsp;10px;&quot;&gt;SQLTransaction&nbsp;transaction(in&nbsp;SQLTransactionErrorCallback&nbsp;errorCallback);&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Then&nbsp;you&nbsp;can&nbsp;call&nbsp;executeSql&nbsp;on&nbsp;the&nbsp;transaction&nbsp;object&nbsp;without&nbsp;having&nbsp;to&nbsp;wait&nbsp;for&nbsp;the&nbsp;callback.&nbsp;Sure,&nbsp;closures&nbsp;in&nbsp;JavaScript&nbsp;make&nbsp;this&nbsp;somewhat&nbsp;less&nbsp;painful,&nbsp;but&nbsp;closures&nbsp;are&nbsp;usually&nbsp;expensive&nbsp;and&nbsp;add&nbsp;additional&nbsp;complexity.&nbsp;Not&nbsp;to&nbsp;mention&nbsp;JavaScript&nbsp;is&nbsp;not&nbsp;the&nbsp;only&nbsp;language&nbsp;that&nbsp;the&nbsp;DOM&nbsp;can&nbsp;be&nbsp;accessed&nbsp;from,&nbsp;for&nbsp;example&nbsp;in&nbsp;WebKit&nbsp;using&nbsp;Objective-C&nbsp;where&nbsp;doing&nbsp;callbacks&nbsp;is&nbsp;a&nbsp;greater&nbsp;hassle.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;separate;&nbsp;border-spacing:&nbsp;0px&nbsp;0px;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Verdana;&nbsp;font-size:&nbsp;11px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;text-align:&nbsp;auto;&nbsp;-khtml-text-decorations-in-effect:&nbsp;none;&nbsp;text-indent:&nbsp;0px;&nbsp;-apple-text-size-adjust:&nbsp;auto;&nbsp;text-transform:&nbsp;none;&nbsp;orphans:&nbsp;2;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-khtml-nbsp-mode:&nbsp;space;&nbsp;-khtml-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&nbsp;&quot;&gt;—&nbsp;Timothy&nbsp;Hatcher&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;/span&gt;&nbsp;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
