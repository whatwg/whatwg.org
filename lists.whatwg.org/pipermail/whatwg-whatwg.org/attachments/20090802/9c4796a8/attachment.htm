<tt>
On&nbsp;Sun,&nbsp;Aug&nbsp;2,&nbsp;2009&nbsp;at&nbsp;7:17&nbsp;PM,&nbsp;白石俊平&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:shumpei.shiraishi@gmail.com&quot;&gt;shumpei.shiraishi@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;m&nbsp;implementing&nbsp;the&nbsp;HTML5&nbsp;Web&nbsp;Storage&nbsp;using&nbsp;Gears&lt;br&gt;<br>
(&lt;a&nbsp;href=&quot;http://code.google.com/p/gear5/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://code.google.com/p/gear5/&lt;/a&gt;),&nbsp;so&nbsp;I&nbsp;have&nbsp;several&nbsp;questions&nbsp;with&lt;br&gt;<br>
the&nbsp;spec.&lt;br&gt;<br>
&lt;br&gt;<br>
-Storage.setItem(key,&nbsp;val)&lt;br&gt;<br>
--is&nbsp;key&nbsp;allowed&nbsp;non-string&nbsp;type&nbsp;object?&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Yes,&nbsp;but... &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;--and&nbsp;when&nbsp;pass&nbsp;non-string&nbsp;object&nbsp;to&nbsp;key/value,&nbsp;is&nbsp;it&nbsp;automatically&lt;br&gt;<br>
<br>
converted&nbsp;to&nbsp;string?(I&amp;#39;m&nbsp;considering&nbsp;to&nbsp;convert&nbsp;to&nbsp;use&nbsp;String&lt;br&gt;<br>
constructor&nbsp;-&nbsp;String(key)&nbsp;)&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Yes.&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;br&gt;<br>
--when&nbsp;value&nbsp;is&nbsp;null,&nbsp;should&nbsp;`setItem(&amp;quot;key&amp;quot;,&nbsp;null)`&nbsp;behave&nbsp;as&nbsp;like&nbsp;as&lt;br&gt;<br>
`removeItem(&amp;quot;key&amp;quot;)`?&nbsp;(localStorage.setItem(&amp;quot;key&amp;quot;,&nbsp;null);&lt;br&gt;<br>
alert(localStorage.length);&nbsp;&amp;lt;--&nbsp;what&nbsp;is&nbsp;value&nbsp;displayed?)&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;No,&nbsp;it&amp;#39;s&nbsp;not&nbsp;the&nbsp;same&nbsp;as&nbsp;removeItem.&nbsp; It&amp;#39;ll&nbsp;be&nbsp;set&nbsp;to&nbsp;&amp;#39;null&amp;#39;.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Check&nbsp;out&nbsp;Safari&nbsp;4&amp;#39;s&nbsp;implementation&nbsp;if&nbsp;you&amp;#39;d&nbsp;like&nbsp;to&nbsp;see&nbsp;the&nbsp;correct&nbsp;behavior&nbsp;for&nbsp;all&nbsp;of&nbsp;these&nbsp;cases.&nbsp; I&amp;#39;ve&nbsp;been&nbsp;spending&nbsp;a&nbsp;lot&nbsp;of&nbsp;time&nbsp;with&nbsp;it,&nbsp;and&nbsp;it&nbsp;matches&nbsp;the&nbsp;spec&nbsp;in&nbsp;every&nbsp;case&nbsp;I&amp;#39;ve&nbsp;tried.&nbsp; (And&nbsp;I&amp;#39;ve&nbsp;tried&nbsp;a&nbsp;lot...I&amp;#39;m&nbsp;working&nbsp;on&nbsp;it&nbsp;for&nbsp;Chromium.)&nbsp; :-)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;J&lt;/div&gt;&lt;/div&gt;<br>

</tt>
