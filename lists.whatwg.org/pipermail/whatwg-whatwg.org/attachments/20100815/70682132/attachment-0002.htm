<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;<br>
&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#ffffff&quot;&gt;<br>
&lt;font&nbsp;size=&quot;-1&quot;&gt;Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;After&nbsp;having&nbsp;a&nbsp;bug&nbsp;while&nbsp;trying&nbsp;to&nbsp;implement&nbsp;a<br>
browser-based&nbsp;chess&nbsp;game&nbsp;using&nbsp;the&nbsp;native&nbsp;Drag&amp;Drop&nbsp;API,&nbsp;I&nbsp;have<br>
decided&nbsp;to&nbsp;investigate&nbsp;a&nbsp;bit&nbsp;on&nbsp;this&nbsp;API,&nbsp;examples&nbsp;and&nbsp;opinions.&lt;br&gt;<br>
There&nbsp;is&nbsp;already&nbsp;a&nbsp;very&nbsp;good&nbsp;explanation&nbsp;of&nbsp;the&nbsp;current&nbsp;state&nbsp;of&nbsp;the<br>
API&nbsp;and&nbsp;how&nbsp;to&nbsp;use&nbsp;it&nbsp;here&nbsp;:&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://html5doctor.com/native-drag-and-drop/&quot;&gt;<br>
http://html5doctor.com/native-drag-and-drop/&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
And&nbsp;here&nbsp;is&nbsp;a&nbsp;quite&nbsp;&quot;biased&quot;&nbsp;opinion&nbsp;on&nbsp;the&nbsp;API&nbsp;:&lt;br&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://www.quirksmode.org/blog/archives/2009/09/the_html5_drag.html&quot;&gt;http://www.quirksmode.org/blog/archives/2009/09/the_html5_drag.html&lt;/a&gt;&lt;br&gt;<br>
Even&nbsp;if&nbsp;I&nbsp;would&nbsp;use&nbsp;the&nbsp;same&nbsp;words,&nbsp;my&nbsp;reaction&nbsp;has&nbsp;roughly&nbsp;been&nbsp;the<br>
same&nbsp;(for&nbsp;those&nbsp;who&nbsp;wouldn't&nbsp;have&nbsp;the&nbsp;time&nbsp;to&nbsp;read&nbsp;the&nbsp;article,&nbsp;its<br>
author&nbsp;is&nbsp;furious&nbsp;about&nbsp;the&nbsp;API)&nbsp;while&nbsp;implementing&nbsp;an&nbsp;example.&nbsp;From&nbsp;my<br>
experience&nbsp;as&nbsp;a&nbsp;web&nbsp;author&nbsp;writing&nbsp;the&nbsp;chess&nbsp;game,&nbsp;I&nbsp;have&nbsp;found<br>
completely&nbsp;counter-intuitive&nbsp;to&nbsp;have&nbsp;to&nbsp;register&nbsp;a&nbsp;listener&nbsp;to&nbsp;the<br>
dragover&nbsp;event&nbsp;only&nbsp;to&nbsp;&quot;.preventDefault()&quot;&nbsp;the&nbsp;event.&nbsp;&lt;br&gt;<br>
In&nbsp;my&nbsp;humble&nbsp;opinion,&nbsp;.preventDefault&nbsp;should&nbsp;be&nbsp;used&nbsp;really&nbsp;when&nbsp;the<br>
default&nbsp;behavior&nbsp;(triggered&nbsp;either&nbsp;because&nbsp;of&nbsp;the&nbsp;spec&nbsp;imposes&nbsp;so&nbsp;or<br>
because&nbsp;of&nbsp;the&nbsp;user&nbsp;agent&nbsp;implementation)&nbsp;goes&nbsp;against&nbsp;the&nbsp;web&nbsp;app<br>
needs.&lt;br&gt;<br>
I&nbsp;think&nbsp;a&nbsp;very&nbsp;good&nbsp;example&nbsp;of&nbsp;this&nbsp;is&nbsp;Wikidot&nbsp;(a&nbsp;wiki&nbsp;engine)&nbsp;on<br>
which,&nbsp;if&nbsp;I&nbsp;remember&nbsp;well,&nbsp;you&nbsp;can&nbsp;save&nbsp;the&nbsp;page&nbsp;you're&nbsp;editing&nbsp;by<br>
doing&nbsp;Ctrl+S.&nbsp;In&nbsp;most&nbsp;web&nbsp;browsers,&nbsp;Ctrl+S&nbsp;opens&nbsp;a&nbsp;menu&nbsp;to&nbsp;save&nbsp;the<br>
HTML&nbsp;page.&nbsp;I&nbsp;have&nbsp;never&nbsp;looked&nbsp;at&nbsp;their&nbsp;code,&nbsp;but&nbsp;it's&nbsp;very&nbsp;likely&nbsp;that<br>
for&nbsp;Ctrl+S,&nbsp;they&nbsp;have&nbsp;decided&nbsp;to&nbsp;prevent&nbsp;the&nbsp;default&nbsp;behavior,&nbsp;which<br>
makes&nbsp;sense.&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
To&nbsp;be&nbsp;slightly&nbsp;more&nbsp;structured,&nbsp;I&nbsp;am&nbsp;going&nbsp;to&nbsp;continue&nbsp;this&nbsp;e-mail<br>
following&nbsp;this&nbsp;outline&nbsp;:&lt;br&gt;<br>
-&nbsp;From&nbsp;where&nbsp;to&nbsp;where&nbsp;?&lt;br&gt;<br>
--&nbsp;Same&nbsp;document&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;&lt;br&gt;<br>
--&nbsp;Document&nbsp;&lt;---&gt;&nbsp;Desktop&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;-1&quot;&gt;--&nbsp;Different&nbsp;documents&lt;br&gt;<br>
-&nbsp;Influences&nbsp;of&nbsp;the&nbsp;drag&amp;drop&nbsp;API&lt;br&gt;<br>
-&nbsp;Misc&nbsp;feedback&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
_From&nbsp;where&nbsp;to&nbsp;where&nbsp;?_&lt;br&gt;<br>
In&nbsp;my&nbsp;opinion,&nbsp;a&nbsp;part&nbsp;of&nbsp;the&nbsp;confusion&nbsp;on&nbsp;the&nbsp;D&amp;D&nbsp;API&nbsp;comes&nbsp;from<br>
the&nbsp;fact&nbsp;that&nbsp;Drag&nbsp;&amp;&nbsp;Drop&nbsp;can&nbsp;actually&nbsp;have&nbsp;different&nbsp;&quot;meanings&quot;<br>
depending&nbsp;on&nbsp;the&nbsp;way&nbsp;the&nbsp;drag&nbsp;and&nbsp;drop&nbsp;is&nbsp;intended&nbsp;to&nbsp;be&nbsp;used.&nbsp;Even&nbsp;if<br>
clearly&nbsp;stated&nbsp;by&nbsp;the&nbsp;spec&nbsp;that&nbsp;&quot;this&nbsp;specification&nbsp;does&nbsp;not&nbsp;define<br>
exactly&nbsp;what&nbsp;a&nbsp;drag-and-drop&nbsp;operation&nbsp;actually&nbsp;is.&quot;,&nbsp;I&nbsp;think&nbsp;that<br>
there&nbsp;are&nbsp;a&nbsp;lot&nbsp;of&nbsp;things&nbsp;that&nbsp;should&nbsp;be&nbsp;said&nbsp;and&nbsp;distinguished.&nbsp;For<br>
instance,&nbsp;when&nbsp;I&nbsp;read&nbsp;&quot;drag-and-drop&nbsp;operations&nbsp;must&nbsp;have&nbsp;a&nbsp;starting<br>
point&quot;,&nbsp;I&nbsp;think&nbsp;it&nbsp;should&nbsp;be&nbsp;explicitely&nbsp;mentionned&nbsp;that&nbsp;this&nbsp;starting<br>
point&nbsp;can&nbsp;be&nbsp;either&nbsp;from&nbsp;a&nbsp;document&nbsp;(fully&nbsp;falling&nbsp;under&nbsp;the&nbsp;definition<br>
of&nbsp;this&nbsp;spec)&nbsp;or&nbsp;from&nbsp;outside&nbsp;of&nbsp;it&nbsp;(like&nbsp;when&nbsp;you&nbsp;want&nbsp;to&nbsp;drop&nbsp;files<br>
in&nbsp;your&nbsp;web&nbsp;browser).&nbsp;The&nbsp;same&nbsp;for&nbsp;the&nbsp;ending&nbsp;point.&nbsp;All&nbsp;the<br>
combinations&nbsp;can&nbsp;be&nbsp;listed&nbsp;(tell&nbsp;me&nbsp;if&nbsp;I&nbsp;forget&nbsp;one)&nbsp;:&lt;br&gt;<br>
-&nbsp;FROM&nbsp;a&nbsp;document&nbsp;TO&nbsp;the&nbsp;same&nbsp;document&lt;br&gt;<br>
-&nbsp;FROM&nbsp;a&nbsp;document&nbsp;TO&nbsp;another&nbsp;document&nbsp;(there&nbsp;are&nbsp;a&nbsp;lot&nbsp;of&nbsp;different<br>
cases)&lt;br&gt;<br>
-&nbsp;FROM&nbsp;a&nbsp;document&nbsp;TO&nbsp;outside&lt;br&gt;<br>
-&nbsp;FROM&nbsp;outside&nbsp;TO&nbsp;a&nbsp;document&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
__Same&nbsp;document__&lt;br&gt;<br>
The&nbsp;&quot;same&nbsp;document&quot;&nbsp;use&nbsp;case&nbsp;is&nbsp;the&nbsp;one&nbsp;I&nbsp;fall&nbsp;into&nbsp;with&nbsp;my&nbsp;chess&nbsp;game.<br>
I&nbsp;want&nbsp;to&nbsp;drag&nbsp;and&nbsp;drop&nbsp;pieces&nbsp;from&nbsp;one&nbsp;square&nbsp;to&nbsp;another&nbsp;and&nbsp;writing<br>
my&nbsp;application&nbsp;with&nbsp;the&nbsp;conviniency&nbsp;of&nbsp;the&nbsp;all&nbsp;the&nbsp;drag*&nbsp;/&nbsp;drop&nbsp;events<br>
(and&nbsp;not&nbsp;struggling&nbsp;with&nbsp;mouseup/down/move&nbsp;and&nbsp;changing&nbsp;the&nbsp;top&nbsp;and<br>
left&nbsp;style&nbsp;attributes).&nbsp;In&nbsp;this&nbsp;use&nbsp;case&nbsp;like&nbsp;in&nbsp;other,&nbsp;one&nbsp;main<br>
concern&nbsp;of&nbsp;the&nbsp;drag&amp;drop&nbsp;operation&nbsp;is&nbsp;to&nbsp;transfer&nbsp;data&nbsp;from&nbsp;one<br>
point&nbsp;to&nbsp;another.&nbsp;That&nbsp;is&nbsp;supposed&nbsp;to&nbsp;be&nbsp;the&nbsp;dataTransfer&nbsp;object<br>
purpose.&nbsp;However,&nbsp;for&nbsp;the&nbsp;&quot;same&nbsp;document&nbsp;use&nbsp;case&quot;&nbsp;the&nbsp;dataTransfer<br>
object&nbsp;is&nbsp;pointless&nbsp;since&nbsp;you&nbsp;can&nbsp;make&nbsp;communicate&nbsp;your&nbsp;handlers<br>
through&nbsp;an&nbsp;object.&nbsp;Accelerated&nbsp;example&nbsp;:&lt;br&gt;<br>
(function(){&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;drag&nbsp;=&nbsp;document.getElementById('drag');&nbsp;//&nbsp;has&nbsp;the&nbsp;draggable<br>
attribute&nbsp;to&nbsp;true,&nbsp;obviously&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;drop&nbsp;=&nbsp;&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;document.getElementById('drop');&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;-1&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;dragInfo&nbsp;=&nbsp;{};&lt;br&gt;<br>
&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;dragStartHandler(e){&nbsp;//&nbsp;This<br>
function&nbsp;is&nbsp;a&nbsp;closure&nbsp;using&nbsp;the&nbsp;dragInfo&nbsp;object&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dragInfo.blabla&nbsp;=&nbsp;'hello&nbsp;world&nbsp;!';&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;dragInfo&nbsp;is&nbsp;an&nbsp;ECMAScript&nbsp;object&nbsp;which&nbsp;is&nbsp;less&nbsp;restrictive<br>
than&nbsp;the&nbsp;dataTransfer&nbsp;object&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;function&nbsp;&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;dropHandler(e){<br>
&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;//&nbsp;This&nbsp;function&nbsp;is&nbsp;a&nbsp;closure&nbsp;using&nbsp;the&nbsp;dragInfo<br>
object&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;-1&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(dragInfo.blabla);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;-1&quot;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;drag.addEventListener('dragstart',&nbsp;dragStartHandler,&nbsp;false);&lt;/font&gt;&lt;font<br>
&nbsp;size=&quot;-1&quot;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;drop.addEventListener('drop',&nbsp;dropHandler,&nbsp;false);&lt;/font&gt;&lt;font<br>
&nbsp;size=&quot;-1&quot;&gt;&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;drop.addEventListener('dragover',&nbsp;function(e){e.preventDefault();},<br>
false);&lt;br&gt;<br>
})();&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;my&nbsp;opinion,&nbsp;a&nbsp;lot&nbsp;of&nbsp;early&nbsp;examples&nbsp;of&nbsp;usage&nbsp;of&nbsp;the&nbsp;API&nbsp;(including<br>
but&nbsp;not&nbsp;limited&nbsp;to&nbsp;:&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://ljouanneau.com/lab/html5/demodragdrop.html&quot;&gt;http://ljouanneau.com/lab/html5/demodragdrop.html&lt;/a&gt;<br>
,&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://decafbad.com/blog/2009/07/15/html5-drag-and-drop&quot;&gt;http://decafbad.com/blog/2009/07/15/html5-drag-and-drop&lt;/a&gt;)&nbsp;advertise<br>
the&nbsp;usage&nbsp;of&nbsp;dataTransfer&nbsp;even&nbsp;for&nbsp;the&nbsp;cases&nbsp;when&nbsp;this&nbsp;is&nbsp;(in&nbsp;my<br>
opinion)&nbsp;useless&nbsp;and&nbsp;I&nbsp;hope&nbsp;that&nbsp;my&nbsp;example&nbsp;is&nbsp;a&nbsp;sufficient&nbsp;proof.&lt;br&gt;<br>
The&nbsp;provided&nbsp;example&nbsp;in&nbsp;the&nbsp;spec&nbsp;seems&nbsp;to&nbsp;be&nbsp;written&nbsp;in&nbsp;a&nbsp;way&nbsp;that&nbsp;make<br>
think&nbsp;that&nbsp;drag&nbsp;and&nbsp;drop&nbsp;operations&nbsp;occur&nbsp;within&nbsp;the&nbsp;same&nbsp;document<br>
(it's&nbsp;never&nbsp;written&nbsp;specifically).&nbsp;If&nbsp;it's&nbsp;the&nbsp;case,&nbsp;I&nbsp;think&nbsp;that&nbsp;a<br>
different&nbsp;example&nbsp;should&nbsp;be&nbsp;provided&nbsp;without&nbsp;dataTransfer.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
__&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;Document&nbsp;&lt;---&gt;&nbsp;Desktop&lt;/font&gt;&lt;font<br>
&nbsp;size=&quot;-1&quot;&gt;__&lt;br&gt;<br>
This&nbsp;use&nbsp;case&nbsp;is&nbsp;actually&nbsp;the&nbsp;one&nbsp;that&nbsp;really&nbsp;requires&nbsp;the&nbsp;dataTransfer<br>
object&nbsp;espescially&nbsp;the&nbsp;recent&nbsp;&quot;files&quot;&nbsp;attribute.&nbsp;As&nbsp;opposed&nbsp;to&nbsp;the<br>
previous&nbsp;use&nbsp;case,&nbsp;this&nbsp;one&nbsp;may&nbsp;have&nbsp;main&nbsp;security&nbsp;issues&nbsp;and<br>
restrictions&nbsp;due&nbsp;to&nbsp;the&nbsp;terra&nbsp;incognita&nbsp;that&nbsp;&quot;outside&nbsp;of&nbsp;the&nbsp;document&quot;<br>
can&nbsp;be.&lt;br&gt;<br>
&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;A&nbsp;very&nbsp;good&nbsp;example&nbsp;of&nbsp;usage&nbsp;:<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://hacks.mozilla.org/2009/12/file-drag-and-drop-in-firefox-3-6/&quot;&gt;http://hacks.mozilla.org/2009/12/file-drag-and-drop-in-firefox-3-6/&lt;/a&gt;&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;-1&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
__Different&nbsp;documents__&lt;br&gt;<br>
There&nbsp;are&nbsp;several&nbsp;cases&nbsp;that&nbsp;could&nbsp;be&nbsp;considered.&nbsp;I&nbsp;am&nbsp;not&nbsp;sure&nbsp;I&nbsp;will<br>
think&nbsp;of&nbsp;all.&nbsp;Add&nbsp;other&nbsp;if&nbsp;you&nbsp;think&nbsp;they&nbsp;are&nbsp;relevant.&lt;br&gt;<br>
&lt;br&gt;<br>
___Common&nbsp;&quot;iframe&nbsp;tree&quot;&nbsp;ancestor___&lt;br&gt;<br>
If&nbsp;two&nbsp;documents&nbsp;are&nbsp;&quot;discussing&quot;&nbsp;through&nbsp;a&nbsp;drag&nbsp;and&nbsp;drop&nbsp;operation&nbsp;and<br>
if&nbsp;they&nbsp;are&nbsp;enclosed&nbsp;in&nbsp;iframes&nbsp;(either&nbsp;one&nbsp;contains&nbsp;the&nbsp;other&nbsp;or&nbsp;they<br>
have&nbsp;a&nbsp;common&nbsp;ancestor),&nbsp;then,&nbsp;the&nbsp;dataTransfer&nbsp;could&nbsp;certainly&nbsp;allow<br>
the&nbsp;transfer&nbsp;of&nbsp;&quot;up&nbsp;to&quot;&nbsp;DOM&nbsp;Elements&nbsp;since&nbsp;we&nbsp;stay&nbsp;in&nbsp;the&nbsp;same&nbsp;user<br>
agent&nbsp;and&nbsp;there&nbsp;is&nbsp;a&nbsp;common&nbsp;document.&nbsp;(Web&nbsp;developers&nbsp;will&nbsp;have&nbsp;to&nbsp;be<br>
careful&nbsp;of&nbsp;Node&nbsp;ownerDocument,&nbsp;but&nbsp;we&nbsp;don't&nbsp;really&nbsp;care&nbsp;about&nbsp;that&nbsp;now).&lt;br&gt;<br>
&lt;br&gt;<br>
___Different&nbsp;documents&nbsp;within&nbsp;the&nbsp;same&nbsp;user&nbsp;agent___&lt;br&gt;<br>
I&nbsp;don't&nbsp;have&nbsp;enough&nbsp;knowledge&nbsp;to&nbsp;discuss&nbsp;this&nbsp;point.&nbsp;Maybe&nbsp;that<br>
implementors&nbsp;will&nbsp;have&nbsp;ideas&nbsp;on&nbsp;this&nbsp;one.&nbsp;At&nbsp;least,&nbsp;user&nbsp;agent&nbsp;can&nbsp;have<br>
user-agent-specific&nbsp;attributes&nbsp;for&nbsp;the&nbsp;dataTransfer&nbsp;object&lt;br&gt;<br>
&lt;br&gt;<br>
___Different&nbsp;documents&nbsp;across&nbsp;different&nbsp;user&nbsp;agents___&lt;br&gt;<br>
Once&nbsp;again,&nbsp;this&nbsp;goes&nbsp;beyond&nbsp;my&nbsp;knowledge.&nbsp;There&nbsp;is&nbsp;certainly&nbsp;no&nbsp;way<br>
for&nbsp;a&nbsp;user&nbsp;agent&nbsp;to&nbsp;know&nbsp;if&nbsp;the&nbsp;drop&nbsp;has&nbsp;been&nbsp;originated&nbsp;from&nbsp;another<br>
(HTML5-compliant&nbsp;:-)&nbsp;)&nbsp;user&nbsp;agent.&nbsp;Even&nbsp;if&nbsp;it&nbsp;was&nbsp;the&nbsp;case,&nbsp;it&nbsp;would<br>
probably&nbsp;be&nbsp;a&nbsp;security&nbsp;issue&nbsp;since&nbsp;the&nbsp;dataTransfer&nbsp;could&nbsp;be&nbsp;crafted.&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Let's&nbsp;stay&nbsp;within&nbsp;the&nbsp;same&nbsp;user&nbsp;for&nbsp;the&nbsp;moment.&lt;br&gt;<br>
___Different&nbsp;document,&nbsp;same&nbsp;origin___&lt;br&gt;<br>
___Different&nbsp;document,&nbsp;different&nbsp;origin___&lt;br&gt;<br>
Maybe&nbsp;it'd&nbsp;be&nbsp;convenient&nbsp;to&nbsp;know&nbsp;where&nbsp;a&nbsp;drop&nbsp;comes&nbsp;from.&nbsp;Restrictions<br>
could&nbsp;be&nbsp;applied&nbsp;by&nbsp;the&nbsp;user&nbsp;agent&nbsp;if&nbsp;the&nbsp;dataTransfer&nbsp;comes&nbsp;from&nbsp;a<br>
different-origin&nbsp;document.&nbsp;On&nbsp;the&nbsp;other&nbsp;hand,&nbsp;a&nbsp;lot&nbsp;could&nbsp;be&nbsp;allowed&nbsp;if<br>
the&nbsp;document&nbsp;has&nbsp;the&nbsp;same&nbsp;origin.&nbsp;At&nbsp;least,&nbsp;some&nbsp;attribute&nbsp;could&nbsp;be<br>
added&nbsp;for&nbsp;the&nbsp;origin&nbsp;as&nbsp;it&nbsp;is&nbsp;done&nbsp;with&nbsp;the&nbsp;cross-document<br>
communication.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
-&nbsp;Influences&nbsp;of&nbsp;the&nbsp;Drag&nbsp;and&nbsp;Drop&nbsp;API&lt;br&gt;<br>
As&nbsp;far&nbsp;as&nbsp;I&nbsp;know,&nbsp;the&nbsp;current&nbsp;API&nbsp;is&nbsp;mostly&nbsp;influenced&nbsp;by&nbsp;the&nbsp;IE5+&nbsp;API.<br>
&lt;br&gt;<br>
10&nbsp;years&nbsp;later,&nbsp;a&nbsp;lot&nbsp;have&nbsp;been&nbsp;done&nbsp;on&nbsp;the&nbsp;web&nbsp;regarding&nbsp;drag&nbsp;and<br>
drop.&nbsp;Most&nbsp;of&nbsp;the&nbsp;JavaScript&nbsp;libraries&nbsp;have&nbsp;a&nbsp;drag&amp;drop&nbsp;feature.<br>
This&nbsp;is&nbsp;actually&nbsp;how&nbsp;I&nbsp;have&nbsp;first&nbsp;developed&nbsp;a&nbsp;drag&nbsp;&amp;&nbsp;drop&nbsp;feature<br>
for&nbsp;a&nbsp;web&nbsp;app,&nbsp;hence&nbsp;my&nbsp;frustration&nbsp;when&nbsp;trying&nbsp;to&nbsp;use&nbsp;the&nbsp;native&nbsp;API<br>
for&nbsp;the&nbsp;&quot;same&nbsp;document&quot;&nbsp;use&nbsp;case.&lt;br&gt;<br>
The&nbsp;librairies&nbsp;have&nbsp;different&nbsp;models,&nbsp;but&nbsp;a&nbsp;lot&nbsp;in&nbsp;common.&nbsp;I&nbsp;don't&nbsp;know<br>
them&nbsp;by&nbsp;heart&nbsp;and&nbsp;them&nbsp;all&nbsp;neither,&nbsp;but&nbsp;it&nbsp;would&nbsp;probably&nbsp;be<br>
interesting&nbsp;to&nbsp;have&nbsp;a&nbsp;look&nbsp;at&nbsp;the&nbsp;different&nbsp;features&nbsp;they&nbsp;offer&nbsp;and<br>
maybe&nbsp;review&nbsp;the&nbsp;native&nbsp;drag&nbsp;and&nbsp;drop&nbsp;API&nbsp;to&nbsp;consider&nbsp;if&nbsp;these<br>
librairies&nbsp;can&nbsp;implement&nbsp;their&nbsp;features&nbsp;through&nbsp;the&nbsp;native&nbsp;API&nbsp;.&nbsp;&lt;br&gt;<br>
Here&nbsp;is&nbsp;the&nbsp;documentation&nbsp;from&nbsp;four&nbsp;main&nbsp;libraries&nbsp;with&nbsp;a&nbsp;D&amp;D<br>
feature&nbsp;:&lt;br&gt;<br>
&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;&lt;br&gt;<br>
script.aculo.us&nbsp;:&nbsp;&lt;br&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://wiki.github.com/madrobby/scriptaculous/draggables-object&quot;&gt;http://wiki.github.com/madrobby/scriptaculous/draggables-object&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://wiki.github.com/madrobby/scriptaculous/droppables&quot;&gt;http://wiki.github.com/madrobby/scriptaculous/droppables&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://wiki.github.com/madrobby/scriptaculous/draggable&quot;&gt;http://wiki.github.com/madrobby/scriptaculous/draggable&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
jQuery&nbsp;UI&nbsp;:&lt;br&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://jqueryui.com/demos/draggable/&quot;&gt;http://jqueryui.com/demos/draggable/&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://jqueryui.com/demos/droppable/&quot;&gt;http://jqueryui.com/demos/droppable/&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Mootools&nbsp;:&lt;br&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://mootools.net/docs/more/Drag/Drag&quot;&gt;http://mootools.net/docs/more/Drag/Drag&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
YUI&nbsp;:&lt;br&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://developer.yahoo.com/yui/3/api/Drag.html&quot;&gt;http://developer.yahoo.com/yui/3/api/Drag.html&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;-1&quot;&gt;Among&nbsp;the&nbsp;things&nbsp;in&nbsp;common,&nbsp;I&nbsp;think&nbsp;that&nbsp;there&nbsp;is&nbsp;the<br>
fact&nbsp;of&nbsp;explicitly&nbsp;declaring&nbsp;which&nbsp;elements&nbsp;are&nbsp;drop&nbsp;targets.&nbsp;In<br>
jQueryUI,&nbsp;draggable&nbsp;elements&nbsp;are&nbsp;distinguished&nbsp;by&nbsp;the&nbsp;ui-draggable<br>
class.&nbsp;Symetrically,&nbsp;droppable&nbsp;elements&nbsp;have&nbsp;the&nbsp;ui-droppable&nbsp;class.&lt;br&gt;<br>
I&nbsp;think&nbsp;that&nbsp;it&nbsp;would&nbsp;make&nbsp;sense&nbsp;that&nbsp;&quot;draggable&quot;&nbsp;and&nbsp;&quot;droppable&quot;<br>
elements&nbsp;have&nbsp;some&nbsp;common&nbsp;features.&nbsp;For&nbsp;instance,&nbsp;it's&nbsp;easy&nbsp;to&nbsp;refer&nbsp;to<br>
draggable&nbsp;elements&nbsp;in&nbsp;CSS&nbsp;since&nbsp;there&nbsp;is&nbsp;an&nbsp;attribute&nbsp;with&nbsp;the&nbsp;selector<br>
*[draggable=&quot;true&quot;]&nbsp;(I'm&nbsp;not&nbsp;sure&nbsp;of&nbsp;how&nbsp;CSS&nbsp;work&nbsp;for&nbsp;boolean<br>
attribute.&nbsp;Moving&nbsp;on...).&nbsp;On&nbsp;the&nbsp;other&nbsp;hand,&nbsp;to&nbsp;stylize&nbsp;specifically<br>
droppable&nbsp;elements,&nbsp;you'd&nbsp;have&nbsp;to&nbsp;be&nbsp;very&nbsp;careful&nbsp;on&nbsp;which&nbsp;elements<br>
handle&nbsp;the&nbsp;drop&nbsp;event&nbsp;(and&nbsp;.preventDefault()&nbsp;the&nbsp;dragover&nbsp;event&nbsp;!!)&nbsp;or<br>
not&nbsp;and&nbsp;&quot;manually&quot;&nbsp;update&nbsp;a&nbsp;class&nbsp;on&nbsp;the&nbsp;element.&nbsp;For&nbsp;that&nbsp;matter,&nbsp;a<br>
droppable&nbsp;attribute&nbsp;could&nbsp;be&nbsp;beneficial.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
_Misc&nbsp;feedback_&lt;br&gt;<br>
*&nbsp;Regardless&nbsp;if&nbsp;the&nbsp;D&amp;D&nbsp;spec&nbsp;example&nbsp;is&nbsp;changed&nbsp;(or&nbsp;another&nbsp;one<br>
added&nbsp;for&nbsp;the&nbsp;&quot;same&nbsp;document&quot;&nbsp;use&nbsp;case&nbsp;without&nbsp;dataTransfer),&nbsp;please<br>
add&nbsp;a&nbsp;comment&nbsp;next&nbsp;to&nbsp;the&nbsp;&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;&quot;event.preventDefault();&quot;<br>
of&nbsp;the&nbsp;&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;dragOverHandler&nbsp;function&nbsp;to&nbsp;explain&nbsp;that<br>
the&nbsp;purpose&nbsp;of&nbsp;this&nbsp;is&nbsp;to&nbsp;define&nbsp;a&nbsp;drop&nbsp;target.&lt;br&gt;<br>
*&nbsp;I&nbsp;am&nbsp;worried&nbsp;about&nbsp;the&nbsp;effectAllowed&nbsp;attribute.&nbsp;Needless&nbsp;to&nbsp;say&nbsp;that<br>
the&nbsp;number&nbsp;of&nbsp;value&nbsp;is&nbsp;exponencially&nbsp;proportional&nbsp;to&nbsp;the&nbsp;number&nbsp;of<br>
possible&nbsp;values&nbsp;for&nbsp;the&nbsp;dropEffect&nbsp;attribute.&nbsp;Wouldn't&nbsp;it&nbsp;be&nbsp;better&nbsp;to<br>
have&nbsp;a&nbsp;linear&nbsp;number&nbsp;of&nbsp;booleans&nbsp;?&lt;br&gt;<br>
*&nbsp;About&nbsp;all&nbsp;the&nbsp;drag&nbsp;feedback&nbsp;generation,&nbsp;I&nbsp;am&nbsp;doubting&nbsp;that&nbsp;the<br>
current&nbsp;API&nbsp;allows&nbsp;the&nbsp;rich&nbsp;effects&nbsp;that&nbsp;the&nbsp;JS&nbsp;librairies&nbsp;provide.&nbsp;&lt;br&gt;<br>
Do&nbsp;anyone&nbsp;have&nbsp;enough&nbsp;experience&nbsp;with&nbsp;these&nbsp;to&nbsp;tell&nbsp;if&nbsp;they&nbsp;see&nbsp;use<br>
cases&nbsp;covered&nbsp;by&nbsp;the&nbsp;librairies&nbsp;that&nbsp;the&nbsp;native&nbsp;API&nbsp;wouldn't&nbsp;allow&nbsp;to<br>
cover&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;have&nbsp;seen&nbsp;in&nbsp;whatwg.org/issues&nbsp;that&nbsp;drag&nbsp;and&nbsp;drop&nbsp;is<br>
&quot;delayed-awaiting-more-implementation-experience&quot;.&nbsp;I&nbsp;haven't&nbsp;seen&nbsp;a<br>
wiki&nbsp;page&nbsp;on&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://wiki.whatwg.org/wiki/&quot;&gt;http://wiki.whatwg.org/wiki/&lt;/a&gt;&nbsp;though.&nbsp;Is&nbsp;there&nbsp;one&nbsp;?&nbsp;Should<br>
one&nbsp;be&nbsp;created&nbsp;to&nbsp;gather&nbsp;all&nbsp;the&nbsp;feedback&nbsp;and&nbsp;relevant&nbsp;resources<br>
regarding&nbsp;D&amp;D?&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;for&nbsp;reading&nbsp;this&nbsp;quite&nbsp;long&nbsp;e-mail!&lt;br&gt;<br>
Comments,&nbsp;questions&nbsp;and&nbsp;input&nbsp;on&nbsp;places&nbsp;where&nbsp;I&nbsp;have&nbsp;lacking<br>
skill/knowledge/experience&nbsp;are&nbsp;the&nbsp;most&nbsp;welcome&nbsp;!&lt;br&gt;<br>
&lt;br&gt;<br>
David&lt;/font&gt;&lt;font&nbsp;size=&quot;-1&quot;&gt;&lt;br&gt;<br>
&lt;/font&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
