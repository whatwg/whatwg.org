<tt>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Aug&nbsp;4,&nbsp;2009&nbsp;at&nbsp;6:43&nbsp;PM,&nbsp;Ian&nbsp;Hickson&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:ian@hixie.ch&quot;&gt;ian@hixie.ch&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
On&nbsp;Thu,&nbsp;30&nbsp;Jul&nbsp;2009,&nbsp;Sebastian&nbsp;Markbåge&nbsp;wrote:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;This&nbsp;suggestion&nbsp;seems&nbsp;similar&nbsp;to&nbsp;Digg&#39;s&nbsp;Stream&nbsp;project&nbsp;that&nbsp;uses&nbsp;multipart&lt;br&gt;<br>
&gt;&nbsp;documents:&nbsp;&lt;a&nbsp;href=&quot;http://github.com/digg/stream&quot;&nbsp;target=&quot;_blank&quot;&gt;http://github.com/digg/stream&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;While&nbsp;it&nbsp;would&nbsp;be&nbsp;nice&nbsp;to&nbsp;have&nbsp;a&nbsp;way&nbsp;to&nbsp;parse&nbsp;and&nbsp;handle&nbsp;this&nbsp;in&lt;br&gt;<br>
&gt;&nbsp;JavaScript,&nbsp;it&nbsp;shouldn&#39;t&nbsp;be&nbsp;JavaScript&#39;s&nbsp;responsibility&nbsp;to&nbsp;work&nbsp;with&lt;br&gt;<br>
&gt;&nbsp;large&nbsp;object&nbsp;data&nbsp;and&nbsp;duplicating&nbsp;it&nbsp;as&nbsp;in-memory&nbsp;data&nbsp;strings.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;real&nbsp;issue&nbsp;here&nbsp;is&nbsp;the&nbsp;overhead&nbsp;of&nbsp;each&nbsp;additional&nbsp;HTTP&nbsp;request&nbsp;for&lt;br&gt;<br>
&gt;&nbsp;those&nbsp;thousands&nbsp;of&nbsp;objects.&nbsp;But&nbsp;that&#39;s&nbsp;useful&nbsp;for&nbsp;all&nbsp;parts&nbsp;of&nbsp;the&nbsp;spec&lt;br&gt;<br>
&gt;&nbsp;if&nbsp;you&nbsp;can&nbsp;download&nbsp;it&nbsp;as&nbsp;a&nbsp;single&nbsp;package&nbsp;even&nbsp;without&nbsp;JavaScript.&lt;br&gt;<br>
&gt;&nbsp;Images,&nbsp;CSS,&nbsp;background-images,&nbsp;JavaScript,&nbsp;etc.&nbsp;Currently&nbsp;you&nbsp;can&lt;br&gt;<br>
&gt;&nbsp;include&nbsp;graphics&nbsp;as&nbsp;data&nbsp;URLs&nbsp;in&nbsp;CSS.&nbsp;Using&nbsp;a&nbsp;package&nbsp;you&nbsp;could&nbsp;package&lt;br&gt;<br>
&gt;&nbsp;whole&nbsp;widgets&nbsp;(or&nbsp;apps)&nbsp;as&nbsp;a&nbsp;single&nbsp;request.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&#39;d&nbsp;suggest&nbsp;that&nbsp;this&nbsp;belongs&nbsp;in&nbsp;a&nbsp;lower&nbsp;level&nbsp;API&nbsp;such&nbsp;as&nbsp;the&nbsp;URIs&nbsp;and&lt;br&gt;<br>
&gt;&nbsp;network&nbsp;stack&nbsp;for&nbsp;the&nbsp;tags.&nbsp;You&nbsp;could&nbsp;specify&nbsp;a&nbsp;file&nbsp;within&nbsp;an&nbsp;archive&lt;br&gt;<br>
&gt;&nbsp;by&nbsp;adding&nbsp;an&nbsp;hash&nbsp;with&nbsp;the&nbsp;filename&nbsp;to&nbsp;the&nbsp;URI:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;img&nbsp;src=&quot;&lt;a&nbsp;href=&quot;http://someplace.com/somearchive.tgz#myimage.jpg&quot;&nbsp;target=&quot;_blank&quot;&gt;http://someplace.com/somearchive.tgz#myimage.jpg&lt;/a&gt;&quot;&nbsp;/&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;style&nbsp;type=&quot;text/css&quot;&gt;&lt;br&gt;<br>
&gt;&nbsp;#id&nbsp;{&nbsp;background-image:&nbsp;url(&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://someplace.com/somearchive.tgz#mybackgroundimage.jpg&quot;&nbsp;target=&quot;_blank&quot;&gt;http://someplace.com/somearchive.tgz#mybackgroundimage.jpg&lt;/a&gt;);&nbsp;}&lt;br&gt;<br>
&gt;&nbsp;&lt;/style&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;script&nbsp;src=&quot;&lt;a&nbsp;href=&quot;http://someplace.com/somearchive.tgz#myscript.js&quot;&nbsp;target=&quot;_blank&quot;&gt;http://someplace.com/somearchive.tgz#myscript.js&lt;/a&gt;&quot;&lt;br&gt;<br>
&gt;&nbsp;type=&quot;text/javascript&quot;&gt;&lt;/script&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;var&nbsp;img&nbsp;=&nbsp;new&nbsp;Image();&lt;br&gt;<br>
&gt;&nbsp;img.src&nbsp;=&nbsp;&quot;&lt;a&nbsp;href=&quot;http://someplace.com/somearchive.tgz#myimage.png&quot;&nbsp;target=&quot;_blank&quot;&gt;http://someplace.com/somearchive.tgz#myimage.png&lt;/a&gt;&quot;;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Now&nbsp;which&nbsp;packaging&nbsp;format&nbsp;to&nbsp;use&nbsp;would&nbsp;be&nbsp;a&nbsp;discussion&nbsp;on&nbsp;it&#39;s&nbsp;own.&nbsp;An&lt;br&gt;<br>
&gt;&nbsp;easy&nbsp;route&nbsp;would&nbsp;be&nbsp;to&nbsp;use&nbsp;multipart/mixed&nbsp;that&nbsp;is&nbsp;already&nbsp;used&nbsp;for&nbsp;this&lt;br&gt;<br>
&gt;&nbsp;in&nbsp;e-mails&nbsp;and&nbsp;can&nbsp;also&nbsp;be&nbsp;gzipped&nbsp;using&nbsp;Content-Encoding.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;This&nbsp;is&nbsp;out&nbsp;of&nbsp;scope&nbsp;for&nbsp;HTML5;&nbsp;I&nbsp;would&nbsp;recommend&nbsp;bringing&nbsp;this&nbsp;up&nbsp;in&nbsp;the&lt;br&gt;<br>
context&nbsp;of&nbsp;the&nbsp;IETF.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Thu,&nbsp;30&nbsp;Jul&nbsp;2009,&nbsp;Kenneth&nbsp;Russell&nbsp;wrote:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;In&nbsp;the&nbsp;context&nbsp;of&nbsp;the&nbsp;3d&nbsp;canvas&nbsp;discussions,&nbsp;it&nbsp;looks&nbsp;like&nbsp;there&nbsp;is&nbsp;a&lt;br&gt;<br>
&gt;&nbsp;need&nbsp;to&nbsp;load&nbsp;binary&nbsp;blobs&nbsp;of&nbsp;vertex&nbsp;data&nbsp;and&nbsp;feed&nbsp;them&nbsp;to&nbsp;the&nbsp;graphics&lt;br&gt;<br>
&gt;&nbsp;card&nbsp;via&nbsp;a&nbsp;JavaScript&nbsp;call.&nbsp;Here&nbsp;is&nbsp;some&nbsp;hypothetical&nbsp;IDL&nbsp;similar&nbsp;to&lt;br&gt;<br>
&gt;&nbsp;what&nbsp;is&nbsp;being&nbsp;considered:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp;[IndexGetter,&nbsp;IndexSetter]&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp;interface&nbsp;CanvasFloatArray&nbsp;{&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;readonly&nbsp;attribute&nbsp;unsigned&nbsp;long&nbsp;length;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp;};&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp;interface&nbsp;CanvasRenderingContextGL&nbsp;{&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;...&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;typedef&nbsp;unsigned&nbsp;long&nbsp;GLenum;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;void&nbsp;glBufferData(in&nbsp;GLenum&nbsp;target,&nbsp;in&nbsp;CanvasFloatArray&nbsp;data,&lt;br&gt;<br>
&gt;&nbsp;in&nbsp;GLenum&nbsp;usage);&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;...&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp;};&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Do&nbsp;you&nbsp;have&nbsp;some&nbsp;suggestions&nbsp;for&nbsp;how&nbsp;the&nbsp;data&nbsp;could&nbsp;be&nbsp;transferred&nbsp;most&lt;br&gt;<br>
&gt;&nbsp;efficiently&nbsp;to&nbsp;the&nbsp;glBufferData&nbsp;call?&nbsp;As&nbsp;far&nbsp;as&nbsp;I&nbsp;know&nbsp;there&nbsp;is&nbsp;no&nbsp;tag&lt;br&gt;<br>
&gt;&nbsp;which&nbsp;could&nbsp;be&nbsp;used&nbsp;to&nbsp;refer&nbsp;to&nbsp;the&nbsp;binary&nbsp;file&nbsp;within&nbsp;the&nbsp;archive.&nbsp;If&lt;br&gt;<br>
&gt;&nbsp;there&nbsp;were&nbsp;then&nbsp;presumably&nbsp;it&nbsp;could&nbsp;provide&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&lt;br&gt;<br>
&gt;&nbsp;CanvasFloatArray&nbsp;or&nbsp;other&nbsp;type.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;We&nbsp;are&nbsp;waiting&nbsp;for&nbsp;the&nbsp;File&nbsp;API&nbsp;specification&nbsp;to&nbsp;be&nbsp;stable,&nbsp;but&nbsp;one&nbsp;that&lt;br&gt;<br>
exists,&nbsp;I&nbsp;would&nbsp;expect&nbsp;it&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;this&nbsp;kind&nbsp;of&nbsp;thing:&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;I&#39;m&nbsp;a&nbsp;little&nbsp;confused?&nbsp;Are&nbsp;you&nbsp;saying&nbsp;the&nbsp;File&nbsp;API&nbsp;is&nbsp;part&nbsp;of&nbsp;HTML5&nbsp;or&nbsp;not?&lt;br&gt;&lt;br&gt;Without&nbsp;archive&nbsp;support&nbsp;the&nbsp;File&nbsp;API&nbsp;is&nbsp;not&nbsp;sufficient&nbsp;for&nbsp;the&nbsp;above&nbsp;use&nbsp;case&nbsp;because&nbsp;a&nbsp;typical&nbsp;WebGL&nbsp;app&nbsp;will&nbsp;need&nbsp;to&nbsp;download&nbsp;hundreds&nbsp;of&nbsp;these&nbsp;types&nbsp;of&nbsp;files&nbsp;and&nbsp;it&nbsp;would&nbsp;want&nbsp;to&nbsp;download&nbsp;them&nbsp;compressed.&lt;br&gt;<br>
&lt;br&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&nbsp; &nbsp;&lt;a&nbsp;href=&quot;http://dev.w3.org/2006/webapi/FileUpload/publish/FileAPI.xhtml&quot;&nbsp;target=&quot;_blank&quot;&gt;http://dev.w3.org/2006/webapi/FileUpload/publish/FileAPI.xhtml&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;--&lt;br&gt;<br>
Ian&nbsp;Hickson&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;U+1047E&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )\._.,--....,&#39;``.&nbsp; &nbsp; fL&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://ln.hixie.ch/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://ln.hixie.ch/&lt;/a&gt;&nbsp; &nbsp; &nbsp; &nbsp;U+263A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /,&nbsp; &nbsp;_..&nbsp;\&nbsp; &nbsp;_\&nbsp; ;`._&nbsp;,.&lt;br&gt;<br>
Things&nbsp;that&nbsp;are&nbsp;impossible&nbsp;just&nbsp;take&nbsp;longer.&nbsp; &nbsp;`._.-(,_..&#39;--(,_..&#39;`-.;.&#39;&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
