<tt>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Jun&nbsp;26,&nbsp;2009&nbsp;at&nbsp;3:33&nbsp;PM,&nbsp;Drew&nbsp;Wilson&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:atwilson@google.com&quot;&gt;atwilson@google.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;class=&quot;it&quot;&gt;On&nbsp;Fri,&nbsp;Jun&nbsp;26,&nbsp;2009&nbsp;at&nbsp;3:25&nbsp;PM,&nbsp;Michael&nbsp;Nordman&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:michaeln@google.com&quot;&nbsp;target=&quot;_blank&quot;&gt;michaeln@google.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;On&nbsp;Fri,&nbsp;Jun&nbsp;26,&nbsp;2009&nbsp;at&nbsp;3:16&nbsp;PM,&nbsp;Drew&nbsp;Wilson&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:atwilson@google.com&quot;&nbsp;target=&quot;_blank&quot;&gt;atwilson@google.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
<br>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;On&nbsp;Fri,&nbsp;Jun&nbsp;26,&nbsp;2009&nbsp;at&nbsp;2:11&nbsp;PM,&nbsp;James&nbsp;Robinson&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jamesr@google.com&quot;&nbsp;target=&quot;_blank&quot;&gt;jamesr@google.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
<br>
<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Forcing&nbsp;applications&nbsp;to&nbsp;build&nbsp;their&nbsp;own&nbsp;send/ack&nbsp;functionality&nbsp;would&nbsp;be&nbsp;pretty&nbsp;tragic&nbsp;considering&nbsp;that&nbsp;WebSockets&nbsp;are&nbsp;built&nbsp;on&nbsp;top&nbsp;of&nbsp;TCP.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;div&gt;-&nbsp;James&lt;/div&gt;&lt;/font&gt;&lt;/blockquote&gt;<br>
<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Every&nbsp;time&nbsp;I&amp;#39;ve&nbsp;written&nbsp;a&nbsp;response/reply&nbsp;protocol&nbsp;on&nbsp;TCP&nbsp;I&amp;#39;ve&nbsp;needed&nbsp;to&nbsp;put&nbsp;in&nbsp;my&nbsp;own&nbsp;acks&nbsp;-&nbsp;how&nbsp;else&nbsp;do&nbsp;you&nbsp;know&nbsp;your&nbsp;message&nbsp;has&nbsp;been&nbsp;delivered&nbsp;to&nbsp;the&nbsp;remote&nbsp;app&nbsp;layer? &lt;/div&gt;&lt;div&gt;&lt;/div&gt;<br>
<br>
<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Classic&nbsp;networking&nbsp;problem...&nbsp;if&nbsp;you&nbsp;do&nbsp;send&nbsp;the&nbsp;ack...&nbsp;how&nbsp;does&nbsp;the&nbsp;ack&nbsp;sender&nbsp;know&nbsp;the&nbsp;other&nbsp;side&nbsp;has&nbsp;received&nbsp;it...&nbsp;and&nbsp;so&nbsp;on.&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;div&gt;Precisely, and complicated by the fact that the app layers I&amp;#39;ve worked with don&amp;#39;t actually expose TCP acks to the app, so you can&amp;#39;t even tell that the remote side has acked your packets.&lt;/div&gt;&lt;div&nbsp;class=&quot;it&quot;&gt;<br>
<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
One&nbsp;could&nbsp;argue&nbsp;that&nbsp;WebSockets&nbsp;should&nbsp;do&nbsp;this&nbsp;for&nbsp;you,&nbsp;but&nbsp;I&nbsp;like&nbsp;leaving&nbsp;this&nbsp;up&nbsp;to&nbsp;the&nbsp;app&nbsp;as&nbsp;it&nbsp;gives&nbsp;them&nbsp;more&nbsp;flexibility.&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Yes.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
But&nbsp;knowing&nbsp;if&nbsp;the&nbsp;data&nbsp;your&nbsp;queuing&nbsp;to&nbsp;be&nbsp;sent&nbsp;is&nbsp;backing&nbsp;up&nbsp;in&nbsp;your&nbsp;local&nbsp;system&nbsp;instead&nbsp;of&nbsp;being&nbsp;pushed&nbsp;out&nbsp;is&nbsp;different&nbsp;than&nbsp;knowing&nbsp;if&nbsp;the&nbsp;remote&nbsp;side&nbsp;has&nbsp;received&nbsp;it&nbsp;and&nbsp;processed&nbsp;it.&nbsp;The&nbsp;former&nbsp;can&nbsp;be&nbsp;done&nbsp;w/o&nbsp;changing&nbsp;the&nbsp;websocket&nbsp;network&nbsp;protocol,&nbsp;the&nbsp;latter&nbsp;cannot.&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;the&nbsp;&amp;quot;queued&nbsp;up&nbsp;data&nbsp;is&nbsp;backing&nbsp;up&amp;quot;&nbsp;problem&nbsp;any&nbsp;different&nbsp;from&nbsp;somebody&nbsp;doing&nbsp;a&nbsp;ton&nbsp;of&nbsp;async&nbsp;XHR&nbsp;requests,&nbsp;some&nbsp;of&nbsp;which&nbsp;may&nbsp;need&nbsp;to&nbsp;be&nbsp;queued&nbsp;before&nbsp;being&nbsp;sent?&lt;/div&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;No.&nbsp;But&nbsp;the&nbsp;difference&nbsp;is&nbsp;each&nbsp;XHR&nbsp;tells&nbsp;you&nbsp;when&nbsp;its&nbsp;been&nbsp;sent&nbsp;and&nbsp;gives&nbsp;you&nbsp;the&nbsp;response&nbsp;when&nbsp;its&nbsp;received.&nbsp;With&nbsp;this&nbsp;info,&nbsp;apps&nbsp;can&nbsp;rate&nbsp;limit&nbsp;things.&nbsp;WebSocket.postMessage&nbsp;doesn&amp;#39;t&nbsp;tell&nbsp;you&nbsp;when&nbsp;that&nbsp;message&nbsp;has&nbsp;been&nbsp;sent.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Suppose&nbsp;your&nbsp;sending&nbsp;&amp;#39;i&amp;#39;m&nbsp;alive&amp;#39;&nbsp;messages.&nbsp;If&nbsp;the&nbsp;message&nbsp;you&nbsp;sent&nbsp;5&nbsp;minutes&nbsp;ago&nbsp;hasn&amp;#39;t&nbsp;really&nbsp;been&nbsp;sent,&nbsp;you&nbsp;wouldn&amp;#39;t&nbsp;want&nbsp;to&nbsp;queue&nbsp;another&nbsp;&amp;#39;i&amp;#39;m&nbsp;alive&amp;#39;.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;If&nbsp;you&amp;#39;re&nbsp;uploading&nbsp;a&nbsp;large&nbsp;data&nbsp;set&nbsp;incrementally&nbsp;across&nbsp;many&nbsp;distinct&nbsp;postMessage&nbsp;calls&nbsp;(perhaps&nbsp;to&nbsp;leave&nbsp;room&nbsp;for&nbsp;other&nbsp;control&nbsp;messages&nbsp;interspersed&nbsp;amoungst&nbsp;them,&nbsp;or&nbsp;to&nbsp;present&nbsp;progress&nbsp;info),&nbsp;how&nbsp;do&nbsp;you&nbsp;know&nbsp;when&nbsp;to&nbsp;queue&nbsp;more&nbsp;data&nbsp;to&nbsp;be&nbsp;sent.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;<br>
 &lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
