<tt>
While&nbsp;the&nbsp;concerns&nbsp;on&nbsp;the&nbsp;server-side&nbsp;are&nbsp;overstated,&nbsp;the&nbsp;analogy&nbsp;to&nbsp;http&nbsp;is&nbsp;also&nbsp;questionable&nbsp;...&nbsp;The&nbsp;current&nbsp;protocol,&nbsp;being&nbsp;a&nbsp;*scoket*&nbsp;layer&nbsp;protocol,&nbsp;is&nbsp;in&nbsp;principle&nbsp;different&nbsp;than&nbsp;http,&nbsp;which&nbsp;is&nbsp;strictly&nbsp;a&nbsp;L7&nbsp;RPC&nbsp;protocol.&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;any fundamental limitation&nbsp;for&nbsp;different&nbsp;UI&nbsp;components&nbsp;to&nbsp;share&nbsp;a&nbsp;single&nbsp;websocket&nbsp;connection,&nbsp;which&nbsp;is&nbsp;just&nbsp;another&nbsp;type&nbsp;of&nbsp;shared&nbsp;resource,&nbsp;e.g.&nbsp;among&nbsp;storage&nbsp;etc&nbsp;..?&nbsp;Is&nbsp;the&nbsp;&quot;shared&nbsp;worker&quot;&nbsp;approach&nbsp;the&nbsp;only/ideal&nbsp;solution?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;much&nbsp;as&nbsp;it&nbsp;seems&nbsp;complicated/risky&nbsp;for&nbsp;the&nbsp;script&nbsp;to&nbsp;implement&nbsp;its&nbsp;own&nbsp;(adhoc)&nbsp;multiplexing,&nbsp;any built-in&nbsp;multiplexing&nbsp;protocol&nbsp;(as&nbsp;a&nbsp;L7&nbsp;concern)&nbsp;could&nbsp;also&nbsp;limit&nbsp;future&nbsp;applications/frameworks&nbsp;that&nbsp;we&nbsp;are&nbsp;yet&nbsp;to&nbsp;find&nbsp;out.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;Wenbo&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Sep&nbsp;4,&nbsp;2009&nbsp;at&nbsp;3:28&nbsp;PM,&nbsp;Jonas&nbsp;Sicking&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;jonas@sicking.cc&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Fri,&nbsp;Sep&nbsp;4,&nbsp;2009&nbsp;at&nbsp;1:45&nbsp;AM,&nbsp;Ian&nbsp;Hickson&lt;&lt;a&nbsp;href=&quot;mailto:ian@hixie.ch&quot;&gt;ian@hixie.ch&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Fri,&nbsp;14&nbsp;Aug&nbsp;2009,&nbsp;Jonas&nbsp;Sicking&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;How&nbsp;do&nbsp;you&nbsp;envisage&nbsp;multiplexing&nbsp;working?&nbsp;It&#39;s&nbsp;not&nbsp;clear&nbsp;to&nbsp;me&nbsp;what&nbsp;we&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;could&nbsp;do&nbsp;that&nbsp;would&nbsp;be&nbsp;easier&nbsp;to&nbsp;handle&nbsp;than&nbsp;just&nbsp;having&nbsp;the&nbsp;script&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;manually&nbsp;do&nbsp;the&nbsp;multiplexing&nbsp;at&nbsp;the&nbsp;application&nbsp;layer.&nbsp;What&nbsp;would&nbsp;the&lt;br&gt;<br>
&gt;&gt;&nbsp;&gt;&nbsp;API&nbsp;look&nbsp;like?&nbsp;What&nbsp;would&nbsp;the&nbsp;wire&nbsp;level&nbsp;look&nbsp;like?&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Some&nbsp;advantages&nbsp;of&nbsp;putting&nbsp;it&nbsp;in&nbsp;the&nbsp;protocol:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;1.&nbsp;More&nbsp;likely&nbsp;the&nbsp;UA&nbsp;implementors&nbsp;will&nbsp;make&nbsp;the&nbsp;effort&nbsp;of&nbsp;implementing&lt;br&gt;<br>
&gt;&gt;&nbsp;multiplexing&nbsp;(and&nbsp;doing&nbsp;so&nbsp;correctly),&nbsp;than&nbsp;that&nbsp;website&nbsp;authors&nbsp;will.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;authors&nbsp;still&nbsp;have&nbsp;to&nbsp;implement&nbsp;it&nbsp;on&nbsp;the&nbsp;server&nbsp;side,&nbsp;though.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Experience&nbsp;from&nbsp;HTTP&nbsp;shows&nbsp;that&nbsp;there&nbsp;are&nbsp;much&nbsp;fewer&nbsp;HTTP&nbsp;server&lt;br&gt;<br>
implementing&nbsp;the&nbsp;HTTP&nbsp;protocol,&nbsp;than&nbsp;there&nbsp;are&nbsp;authors&nbsp;using&nbsp;those&lt;br&gt;<br>
servers.&nbsp;I&nbsp;don&#39;t&nbsp;see&nbsp;that&nbsp;things&nbsp;would&nbsp;be&nbsp;dramatically&nbsp;different&nbsp;with&lt;br&gt;<br>
websocket&nbsp;given&nbsp;some&nbsp;time&nbsp;to&nbsp;let&nbsp;generic&nbsp;servers&nbsp;mature.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;2.&nbsp;There&nbsp;are&nbsp;much&nbsp;fewer&nbsp;UA&nbsp;implementors&nbsp;than&nbsp;website&nbsp;authors,&nbsp;so&nbsp;the&lt;br&gt;<br>
&gt;&gt;&nbsp;level&nbsp;of&nbsp;code&nbsp;reuse&nbsp;would&nbsp;be&nbsp;much&nbsp;higher.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;website&nbsp;authors&nbsp;still&nbsp;have&nbsp;to&nbsp;do&nbsp;it&nbsp;even&nbsp;if&nbsp;the&nbsp;UA&nbsp;is&nbsp;the&nbsp;one&nbsp;that&lt;br&gt;<br>
&gt;&nbsp;codes&nbsp;it&nbsp;up&nbsp;on&nbsp;the&nbsp;client&nbsp;side.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Experience&nbsp;from&nbsp;HTTP&nbsp;shows&nbsp;that&nbsp;there&nbsp;are&nbsp;much&nbsp;fewer&nbsp;HTTP&nbsp;server&lt;br&gt;<br>
implementing&nbsp;the&nbsp;HTTP&nbsp;protocol,&nbsp;than&nbsp;there&nbsp;are&nbsp;authors&nbsp;using&nbsp;those&lt;br&gt;<br>
servers.&nbsp;I&nbsp;don&#39;t&nbsp;see&nbsp;that&nbsp;things&nbsp;would&nbsp;be&nbsp;dramatically&nbsp;different&nbsp;with&lt;br&gt;<br>
websocket&nbsp;given&nbsp;some&nbsp;time&nbsp;to&nbsp;let&nbsp;generic&nbsp;servers&nbsp;mature.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;3.&nbsp;Scripts&nbsp;in&nbsp;different&nbsp;tabs,&nbsp;and&nbsp;even&nbsp;from&nbsp;different&nbsp;sites,&nbsp;that&lt;br&gt;<br>
&gt;&gt;&nbsp;connect&nbsp;to&nbsp;the&nbsp;same&nbsp;server&nbsp;would&nbsp;be&nbsp;able&nbsp;to&nbsp;share&nbsp;TCP/IP&nbsp;channel.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Do&nbsp;we&nbsp;really&nbsp;want&nbsp;two&nbsp;different&nbsp;pages&nbsp;sharing&nbsp;the&nbsp;same&nbsp;TCP&nbsp;connection?&lt;br&gt;<br>
&gt;&nbsp;That&nbsp;seems&nbsp;like&nbsp;a&nbsp;disaster&nbsp;waiting&nbsp;to&nbsp;happen&nbsp;--&nbsp;it&nbsp;just&nbsp;takes&nbsp;one&nbsp;minor&lt;br&gt;<br>
&gt;&nbsp;bug&nbsp;on&nbsp;the&nbsp;server&nbsp;for&nbsp;information&nbsp;to&nbsp;end&nbsp;up&nbsp;in&nbsp;the&nbsp;wrong&nbsp;channel.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;That&#39;s&nbsp;what&nbsp;we&nbsp;do&nbsp;with&nbsp;HTTP&nbsp;today.&nbsp;So&nbsp;I&nbsp;would&nbsp;say&nbsp;yes.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;4.&nbsp;If&nbsp;websocket&nbsp;is&nbsp;successful,&nbsp;websocket&nbsp;proxies&nbsp;will&nbsp;likely&nbsp;show&nbsp;up,&lt;br&gt;<br>
&gt;&gt;&nbsp;allowing&nbsp;multiplexing&nbsp;across&nbsp;different&nbsp;users&nbsp;that&nbsp;share&nbsp;the&nbsp;same&nbsp;proxy.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;That&nbsp;sounds&nbsp;frightening.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Again,&nbsp;HTTP&nbsp;benefits&nbsp;from&nbsp;this&nbsp;a&nbsp;lot&nbsp;today.&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
/&nbsp;Jonas&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
