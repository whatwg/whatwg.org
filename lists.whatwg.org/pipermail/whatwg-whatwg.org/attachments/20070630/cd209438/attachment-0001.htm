<tt>
On&nbsp;6/30/07,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Aaron&nbsp;Boodman&lt;/b&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:aa@google.com&quot;&gt;aa@google.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
On&nbsp;6/26/07,&nbsp;Robert&nbsp;O&#39;Callahan&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:robert@ocallahan.org&quot;&gt;robert@ocallahan.org&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&gt;&nbsp;Right&nbsp;now&nbsp;I&nbsp;think&nbsp;we&#39;re&nbsp;missing&nbsp;just&nbsp;one&nbsp;thing&nbsp;from&nbsp;your&nbsp;list&nbsp;of&nbsp;goals&lt;br&gt;&gt;&nbsp;(excluding&nbsp;the&nbsp;vexatious&nbsp;&quot;multiple&nbsp;resources&nbsp;for&nbsp;one&nbsp;URI&quot;&nbsp;goal):&nbsp;a&nbsp;way&nbsp;to<br>
&lt;br&gt;&gt;&nbsp;get&nbsp;consistent&nbsp;updates&nbsp;without&nbsp;relying&nbsp;on&nbsp;JAR&nbsp;files&nbsp;(and&nbsp;hence&nbsp;changing&lt;br&gt;&gt;&nbsp;URIs).&nbsp;As&nbsp;I&nbsp;mentioned&nbsp;earlier,&nbsp;I&nbsp;think&nbsp;we&nbsp;can&nbsp;get&nbsp;that&nbsp;by&nbsp;simply&nbsp;stating&lt;br&gt;&gt;&nbsp;(and&nbsp;implementing!)&nbsp;that&nbsp;updates&nbsp;to&nbsp;all&nbsp;offline-cached&nbsp;resources&nbsp;in&nbsp;a&nbsp;domain<br>
&lt;br&gt;&gt;&nbsp;---&nbsp;that&nbsp;were&nbsp;requested&nbsp;by&nbsp;pages&nbsp;in&nbsp;the&nbsp;same&nbsp;domain&nbsp;---&nbsp;&nbsp;occur&nbsp;atomically&nbsp;as&lt;br&gt;&gt;&nbsp;a&nbsp;group,&nbsp;similar&nbsp;to&nbsp;what&nbsp;Gears&nbsp;does.&nbsp;That&nbsp;leaves&nbsp;one&nbsp;issue,&nbsp;which&nbsp;is&nbsp;the&lt;br&gt;&gt;&nbsp;ability&nbsp;to&nbsp;add&nbsp;new&nbsp;resources&nbsp;as&nbsp;part&nbsp;of&nbsp;such&nbsp;an&nbsp;atomic&nbsp;update;&nbsp;to&nbsp;get&nbsp;that,<br>
&lt;br&gt;&gt;&nbsp;we&nbsp;probably&nbsp;should&nbsp;add&nbsp;an&nbsp;offline-manifest&nbsp;DOM&nbsp;API&nbsp;or&nbsp;&lt;link&gt;&nbsp;type,&nbsp;which&lt;br&gt;&gt;&nbsp;pulls&nbsp;in&nbsp;a&nbsp;JSON&nbsp;manifest&nbsp;and&nbsp;requests&nbsp;all&nbsp;the&nbsp;resources&nbsp;in&nbsp;it.&lt;br&gt;&lt;br&gt;That&nbsp;sounds&nbsp;good.&nbsp;Gears&nbsp;team&nbsp;has&nbsp;also&nbsp;considered&nbsp;that&nbsp;you&nbsp;could&nbsp;get<br>
&lt;br&gt;consistent&nbsp;versions&nbsp;without&nbsp;the&nbsp;hard&nbsp;version&nbsp;number&nbsp;we&nbsp;currently&nbsp;have&lt;br&gt;in&nbsp;the&nbsp;manifests.&lt;br&gt;&lt;br&gt;It&nbsp;seems&nbsp;like&nbsp;right&nbsp;now,&nbsp;all&nbsp;items&nbsp;in&nbsp;a&nbsp;domain&nbsp;implicitly&nbsp;form&nbsp;an&lt;br&gt;atomic&nbsp;group.&nbsp;Is&nbsp;that&nbsp;right?&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;<br>
&quot;Right&nbsp;now&quot;&nbsp;as&nbsp;in&nbsp;what&nbsp;I&#39;ve&nbsp;proposed,&nbsp;yes.&nbsp;Not&nbsp;&quot;right&nbsp;now&quot;&nbsp;as&nbsp;in&nbsp;what&#39;s&nbsp;implemented&nbsp;on&nbsp;Firefox&nbsp;trunk&nbsp;:-)&lt;br&gt;&lt;br&gt;A&nbsp;slight&nbsp;twist&nbsp;is&nbsp;needed&nbsp;actually:&nbsp;an&nbsp;atomic&nbsp;group&nbsp;consists&nbsp;of&nbsp;all&nbsp;resources&nbsp;in&nbsp;a&nbsp;domain&nbsp;that&nbsp;are&nbsp;used&nbsp;by&nbsp;pages&nbsp;in&nbsp;the&nbsp;same&nbsp;domain.&nbsp;We&nbsp;allow&nbsp;cross-domain&nbsp;references&nbsp;but&nbsp;we&nbsp;do&nbsp;not&nbsp;allow&nbsp;them&nbsp;to&nbsp;create&nbsp;consistency&nbsp;requirements.<br>
&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;A&nbsp;couple&nbsp;issues&nbsp;some&nbsp;Gears&nbsp;people&nbsp;brought&nbsp;up&nbsp;with&nbsp;this:&lt;br&gt;&lt;br&gt;*&nbsp;It&#39;s&nbsp;likely&nbsp;to&nbsp;significantly&nbsp;slow&nbsp;down&nbsp;revalidation.&nbsp;There&nbsp;could&nbsp;be<br>
&lt;br&gt;many,&nbsp;many&nbsp;resources&nbsp;linked&nbsp;with&nbsp;the&nbsp;programmatic&nbsp;api&nbsp;(again,&nbsp;think&nbsp;of&lt;br&gt;attachments).&nbsp;All&nbsp;these&nbsp;would&nbsp;have&nbsp;to&nbsp;be&nbsp;revalidated&nbsp;each&nbsp;time&nbsp;the&nbsp;app&lt;br&gt;is&nbsp;viewed.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;For&nbsp;the&nbsp;specific&nbsp;case&nbsp;of&nbsp;attachments,&nbsp;in&nbsp;our&nbsp;model&nbsp;those&nbsp;could&nbsp;be&nbsp;placed&nbsp;in&nbsp;their&nbsp;own&nbsp;domain.&nbsp;For&nbsp;resources&nbsp;where&nbsp;you&nbsp;actually&nbsp;want&nbsp;to&nbsp;access&nbsp;the&nbsp;contents&nbsp;on&nbsp;the&nbsp;client,&nbsp;wouldn&#39;t&nbsp;work.<br>
&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;*&nbsp;It&nbsp;seems&nbsp;like&nbsp;atomic&nbsp;groups&nbsp;and&nbsp;domains&nbsp;are&nbsp;not&nbsp;1-to-1.&nbsp;Lots&nbsp;of&lt;br&gt;times&nbsp;separate&nbsp;applications&nbsp;are&nbsp;hosted&nbsp;on&nbsp;the&nbsp;same&nbsp;domain&nbsp;but&nbsp;in<br>
&lt;br&gt;different&nbsp;directories.&nbsp;I&nbsp;guess&nbsp;it&#39;s&nbsp;not&nbsp;dangerous&nbsp;to&nbsp;revalidate&nbsp;all&lt;br&gt;apps&nbsp;under&nbsp;a&nbsp;domain&nbsp;when&nbsp;any&nbsp;are&nbsp;viewed,&nbsp;but&nbsp;it&nbsp;seems&nbsp;like&nbsp;a&nbsp;waste.&lt;br&gt;&lt;br&gt;You&nbsp;could&nbsp;mitigate&nbsp;the&nbsp;first&nbsp;issue&nbsp;by&nbsp;allowing&nbsp;the&nbsp;developer&nbsp;to&nbsp;say<br>
&lt;br&gt;whether&nbsp;a&nbsp;certain&nbsp;resource&nbsp;should&nbsp;be&nbsp;part&nbsp;of&nbsp;the&nbsp;domain&#39;s&nbsp;atomic&lt;br&gt;group.&nbsp;I&nbsp;am&nbsp;not&nbsp;sure&nbsp;how&nbsp;to&nbsp;mitigate&nbsp;the&nbsp;second&nbsp;issue&nbsp;except&nbsp;for&nbsp;by&lt;br&gt;telling&nbsp;developers&nbsp;to&nbsp;use&nbsp;separate&nbsp;domains&nbsp;for&nbsp;separate&nbsp;applications.&lt;br&gt;&lt;/blockquote&gt;<br>
&lt;div&gt;&lt;br&gt;That&#39;s&nbsp;what&nbsp;I&nbsp;would&nbsp;suggest,&nbsp;yes.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Another&nbsp;thought&nbsp;that&nbsp;we&nbsp;had&nbsp;was&nbsp;that&nbsp;it&nbsp;would&nbsp;be&nbsp;good&nbsp;if&nbsp;whatever&nbsp;you<br>
&lt;br&gt;can&nbsp;do&nbsp;with&nbsp;the&nbsp;&lt;link&gt;&nbsp;tag&nbsp;syntax,&nbsp;you&nbsp;can&nbsp;also&nbsp;do&nbsp;programmatically.&lt;br&gt;It&nbsp;may&nbsp;be&nbsp;difficult&nbsp;to&nbsp;hook&nbsp;into&nbsp;IE&nbsp;deep&nbsp;enough&nbsp;to&nbsp;implement&nbsp;the&nbsp;link&lt;br&gt;tag&nbsp;syntax.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;I&nbsp;think&nbsp;we&#39;re&nbsp;there&nbsp;already&nbsp;(although&nbsp;in&nbsp;our&nbsp;proposal,&nbsp;all&nbsp;you&#39;d&nbsp;have&nbsp;to&nbsp;do&nbsp;is&nbsp;traverse&nbsp;the&nbsp;&lt;link&gt;&nbsp;tags&nbsp;on&nbsp;onload,&nbsp;dynamic&nbsp;changes&nbsp;to&nbsp;the&nbsp;link&nbsp;tags&nbsp;after&nbsp;that&nbsp;have&nbsp;no&nbsp;effect).<br>
&lt;br&gt;&lt;/div&gt;&lt;br&gt;Rob&lt;/div&gt;--&nbsp;&lt;br&gt;&quot;Two&nbsp;men&nbsp;owed&nbsp;money&nbsp;to&nbsp;a&nbsp;certain&nbsp;moneylender.&nbsp;One&nbsp;owed&nbsp;him&nbsp;five&nbsp;hundred&nbsp;denarii,&nbsp;and&nbsp;the&nbsp;other&nbsp;fifty.&nbsp;Neither&nbsp;of&nbsp;them&nbsp;had&nbsp;the&nbsp;money&nbsp;to&nbsp;pay&nbsp;him&nbsp;back,&nbsp;so&nbsp;he&nbsp;canceled&nbsp;the&nbsp;debts&nbsp;of&nbsp;both.&nbsp;Now&nbsp;which&nbsp;of&nbsp;them&nbsp;will&nbsp;love&nbsp;him&nbsp;more?&quot;&nbsp;Simon&nbsp;replied,&nbsp;&quot;I&nbsp;suppose&nbsp;the&nbsp;one&nbsp;who&nbsp;had&nbsp;the&nbsp;bigger&nbsp;debt&nbsp;canceled.&quot;&nbsp;&quot;You&nbsp;have&nbsp;judged&nbsp;correctly,&quot;&nbsp;Jesus&nbsp;said.&nbsp;[Luke&nbsp;7:41-43]<br>

</tt>
