<tt>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Jul&nbsp;30,&nbsp;2010&nbsp;at&nbsp;7:09&nbsp;PM,&nbsp;Alexandre&nbsp;Morgaut&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:Alexandre.Morgaut@4d.com&quot;&gt;Alexandre.Morgaut@4d.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
<br>
&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0.8ex;border-left-width:1px;border-left-color:rgb(204,&nbsp;204,&nbsp;204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:Arial;font-size:13px&quot;&gt;Storage::setExpiration(in&nbsp;DOMString&nbsp;key,&nbsp;in&nbsp;TTL&nbsp;or&nbsp;expiration&nbsp;Date)&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:Arial;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:Arial;font-size:13px&quot;&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:Arial;font-size:13px&quot;&gt;(or &lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:Arial;font-size:13px&quot;&gt;Storage::setTTL()&nbsp;if&nbsp;you&nbsp;guys&nbsp;don&#39;t&nbsp;agree&nbsp;on&nbsp;the&nbsp;Date&nbsp;option)&lt;/span&gt;&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;might&nbsp;make&nbsp;sense,&nbsp;but&nbsp;I&#39;m&nbsp;also&nbsp;not&nbsp;sure&nbsp;it&#39;s&nbsp;worth&nbsp;the&nbsp;additional&nbsp;API&nbsp;surface&nbsp;area.&nbsp; Plus&nbsp;I&nbsp;kind&nbsp;of&nbsp;like&nbsp;the&nbsp;idea&nbsp;of&nbsp;making&nbsp;it&nbsp;difficult&nbsp;for&nbsp;people&nbsp;to&nbsp;detect&nbsp;whether&nbsp;the&nbsp;browser&nbsp;even&nbsp;supports&nbsp;expiration&nbsp;since&nbsp;we&nbsp;don&#39;t&nbsp;people&nbsp;to&nbsp;ever&nbsp;assume&nbsp;they&nbsp;can&nbsp;count&nbsp;on&nbsp;it.&nbsp; (Since&nbsp;once&nbsp;again,&nbsp;what&nbsp;if&nbsp;the&nbsp;user&nbsp;doesn&#39;t&nbsp;turn&nbsp;on&nbsp;their&nbsp;computer&nbsp;or&nbsp;the&nbsp;UA&nbsp;doesn&#39;t&nbsp;delete&nbsp;expired&nbsp;data&nbsp;unless&nbsp;it&#39;s&nbsp;running?)&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Well,&nbsp;as&nbsp;Nicholas&nbsp;said,&nbsp;the&nbsp;important&nbsp;thing&nbsp;is&nbsp;that&nbsp;the&nbsp;User-Agent&nbsp;makes&nbsp;its&nbsp;best&nbsp;to&nbsp;remove&nbsp;the&nbsp;items&nbsp;ASAP&nbsp;once&nbsp;they&nbsp;expired.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Sure&nbsp;some&nbsp;of&nbsp;these&nbsp;items&nbsp;could&nbsp;remain&nbsp;on&nbsp;disk&nbsp;while&nbsp;they&nbsp;expired&nbsp;until&nbsp;the&nbsp;UA&nbsp;start&nbsp;again.&lt;/div&gt;<br>
<br>
&lt;div&gt;This&nbsp;is&nbsp;absolutely&nbsp;not&nbsp;a&nbsp;strong&nbsp;security&nbsp;feature. &lt;/div&gt;&lt;div&gt;The&nbsp;user&nbsp;still&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;remove&nbsp;manually&nbsp;the&nbsp;storages&nbsp;content,&nbsp;or&nbsp;disable&nbsp;access&nbsp;to&nbsp;the&nbsp;storage&nbsp;objects,  from&nbsp;the&nbsp;User-Agent&nbsp;menus/preferences.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;not&nbsp;confortable&nbsp;into&nbsp;hiding&nbsp;User-Agent&nbsp;capabilities&nbsp;from&nbsp;the&nbsp;API.&lt;/div&gt;&lt;div&gt;Smart&nbsp;people&nbsp;like&nbsp;John&nbsp;Resig&nbsp;recommend&nbsp;to&nbsp;check&nbsp;the&nbsp;available&nbsp;API&nbsp;instead&nbsp;of&nbsp;looking&nbsp;after&nbsp;the&nbsp;User-Agent&nbsp;name&nbsp;and&nbsp;version&nbsp;to&nbsp;detect&nbsp;them,&nbsp;and&nbsp;I&nbsp;kind&nbsp;of&nbsp;like&nbsp;this&nbsp;approach.&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;point&nbsp;was&nbsp;that&nbsp;a&nbsp;programmer&nbsp;really&nbsp;shouldn&#39;t&nbsp;do&nbsp;anything&nbsp;differently&nbsp;whether&nbsp;or&nbsp;not&nbsp;the&nbsp;API&nbsp;is&nbsp;available.&nbsp; But&nbsp;you&#39;re&nbsp;probably&nbsp;right&nbsp;that&nbsp;it&#39;d&nbsp;only&nbsp;push&nbsp;such&nbsp;an&nbsp;author&nbsp;towards&nbsp;user-agent&nbsp;sniffing&nbsp;which&nbsp;is&nbsp;of&nbsp;course&nbsp;worse.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;just&nbsp;had&nbsp;another&nbsp;thought.&nbsp; Although&nbsp;I&nbsp;strongly&nbsp;feel&nbsp;that&nbsp;the&nbsp;spec&nbsp;shouldn&#39;t guarantee when&nbsp;the&nbsp;data&nbsp;is&nbsp;deleted&nbsp;(and&nbsp;should&nbsp;probably&nbsp;have&nbsp;some&nbsp;non-normative&nbsp;text&nbsp;explaining&nbsp;why)&nbsp;we&nbsp;could&nbsp;(if&nbsp;we&nbsp;wanted&nbsp;to) guarantee that&nbsp;data&nbsp;won&#39;t&nbsp;be&nbsp;available&nbsp;to&nbsp;the&nbsp;page&nbsp;after&nbsp;that&nbsp;time.&nbsp; (Of&nbsp;course&nbsp;subject&nbsp;to&nbsp;run&nbsp;to&nbsp;completion&nbsp;constraints--if&nbsp;the&nbsp;user&nbsp;calls&nbsp;localStorage.length,&nbsp;we&nbsp;can&#39;t&nbsp;delete&nbsp;the&nbsp;item&nbsp;until&nbsp;they&nbsp;leave&nbsp;the&nbsp;scripting&nbsp;context.&nbsp; Also&nbsp;there&#39;s&nbsp;a&nbsp;question&nbsp;of&nbsp;whether&nbsp;we&#39;d&nbsp;fire&nbsp;StorageEvents&nbsp;while&nbsp;something&#39;s&nbsp;timed&nbsp;out.&nbsp; Maybe&nbsp;we&nbsp;should&nbsp;just&nbsp;expire&nbsp;stuff&nbsp;when&nbsp;navigating&nbsp;to&nbsp;a&nbsp;page&nbsp;and&nbsp;not&nbsp;while&nbsp;the&nbsp;page&nbsp;is&nbsp;running?)&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;J&lt;/div&gt;&lt;/div&gt;<br>

</tt>
