<tt>
This&nbsp;really&nbsp;seems&nbsp;like&nbsp;the&nbsp;wrong&nbsp;solution.&nbsp;Taken&nbsp;to&nbsp;an&nbsp;extreme&nbsp;next&nbsp;you&#39;ll&nbsp;need&nbsp;to&nbsp;add&nbsp;VideoRisizer,&nbsp;AudioRecompresser,&nbsp;and&nbsp;any&nbsp;thing&nbsp;else&nbsp;JavaScript&nbsp;can&#39;t&nbsp;do&nbsp;without&nbsp;freezing&nbsp;the&nbsp;browser.&lt;br&gt;&lt;br&gt;It&nbsp;seems&nbsp;like&nbsp;it&nbsp;would&nbsp;be&nbsp;better&nbsp;to&nbsp;figure&nbsp;out&nbsp;a&nbsp;way&nbsp;to&nbsp;get&nbsp;Web&nbsp;Workers&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;do&nbsp;this.&nbsp;Even&nbsp;if&nbsp;they&nbsp;have&nbsp;to&nbsp;XHR&nbsp;the&nbsp;binary&nbsp;down,&nbsp;decompress&nbsp;into&nbsp;a&nbsp;TypeArray&nbsp;(see&nbsp;WebGL)&nbsp;and&nbsp;read&nbsp;the&nbsp;data&nbsp;themsevles&nbsp;so&nbsp;they&nbsp;can&nbsp;keep&nbsp;the&nbsp;EXIF&nbsp;stuff,&nbsp;bloating&nbsp;the&nbsp;browser&nbsp;for&nbsp;one&nbsp;small&nbsp;use&nbsp;doesn&#39;t&nbsp;seem&nbsp;like&nbsp;the&nbsp;right&nbsp;solution.&lt;br&gt;<br>
&lt;br&gt;You&nbsp;can&nbsp;post&nbsp;an&nbsp;open&nbsp;source&nbsp;library&nbsp;and&nbsp;the&nbsp;usage&nbsp;can&nbsp;be&nbsp;as&nbsp;simple&nbsp;as&nbsp;this&nbsp;proposal.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;May&nbsp;11,&nbsp;2010&nbsp;at&nbsp;11:58&nbsp;AM,&nbsp;Sterling&nbsp;Swigart&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:sswigart@google.com&quot;&gt;sswigart@google.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;arial,sans-serif;&nbsp;white-space:&nbsp;pre-wrap;&quot;&gt;&lt;div&gt;I&#39;m&nbsp;working&nbsp;with&nbsp;David&nbsp;Levin,&nbsp;and&nbsp;based&nbsp;on&nbsp;the&nbsp;feedback&nbsp;received&nbsp;regarding&nbsp;offscreen&nbsp;canvas,&nbsp;the&nbsp;proposal&nbsp;has&nbsp;been&nbsp;changed&nbsp;to&nbsp;address&nbsp;more&nbsp;specific&nbsp;scenarios.&nbsp;The&nbsp;main&nbsp;use&nbsp;case&nbsp;was&nbsp;resizing&nbsp;images,&nbsp;so&nbsp;we&nbsp;are&nbsp;proposing&nbsp;an&nbsp;asynchronous&nbsp;image&nbsp;resizing&nbsp;API.&nbsp;If&nbsp;you&nbsp;are&nbsp;curious&nbsp;about&nbsp;how&nbsp;we&nbsp;arrived&nbsp;at&nbsp;our&nbsp;API&nbsp;below,&nbsp;take&nbsp;a&nbsp;look&nbsp;at&nbsp;the&nbsp;&quot;appendix&quot;&nbsp;to&nbsp;view&nbsp;the&nbsp;alternatives&nbsp;we&nbsp;considered.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Let&nbsp;us&nbsp;know&nbsp;what&nbsp;you&nbsp;think.&nbsp;Thanks!&lt;/div&gt;&lt;div&gt;Sterling&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;h1&gt;Use&nbsp;Cases:&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;Begin&nbsp;with&nbsp;a&nbsp;user&nbsp;giving&nbsp;a&nbsp;local&nbsp;image&nbsp;file&nbsp;to&nbsp;a&nbsp;webpage.&nbsp;Then:&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;1.&nbsp;In&nbsp;real-time&nbsp;chat,&nbsp;quickly&nbsp;give&nbsp;other&nbsp;users&nbsp;a&nbsp;thumbnail&nbsp;view&nbsp;of&nbsp;the&nbsp;image&nbsp;file.&lt;/p&gt;<br>
<br>
&lt;p&gt;2.&nbsp;Or,&nbsp;limit&nbsp;the&nbsp;size&nbsp;of&nbsp;an&nbsp;image&nbsp;file&nbsp;before&nbsp;uploading&nbsp;it&nbsp;to&nbsp;a&nbsp;web&nbsp;server.&lt;/p&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;This&nbsp;use&nbsp;case&nbsp;is&nbsp;already&nbsp;handled&nbsp;(minus&nbsp;the&nbsp;EXIF).&nbsp;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;arial,sans-serif;&nbsp;white-space:&nbsp;pre-wrap;&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;1.75em;&nbsp;font-weight:&nbsp;bold;&quot;&gt;Proposed&nbsp;Solution:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;We&nbsp;propose&nbsp;adding&nbsp;image.getBlob.&nbsp;getBlob&nbsp;will&nbsp;be&nbsp;an&nbsp;instance&nbsp;function&nbsp;of&nbsp;the&nbsp;javascript&nbsp;Image&nbsp;object&nbsp;which&nbsp;asynchronously&nbsp;gets&nbsp;a&nbsp;blob&nbsp;of&nbsp;the&nbsp;image,&nbsp;resized&nbsp;to&nbsp;the&nbsp;given&nbsp;width&nbsp;and&nbsp;height,&nbsp;encoded&nbsp;into&nbsp;jpeg&nbsp;or&nbsp;png.&nbsp;The&nbsp;function&nbsp;declaration&nbsp;will&nbsp;be:&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;/p&gt;&lt;p&gt;getBlob(mimeType&nbsp;/*&nbsp;req&nbsp;*/,&nbsp;width&nbsp;/*&nbsp;req&nbsp;*/,&nbsp;height&nbsp;/*&nbsp;req&nbsp;*/,&nbsp;successEvent&nbsp;/*&nbsp;req&nbsp;*/,&nbsp;errorEvent&nbsp;/*&nbsp;op&nbsp;*/,&nbsp;qualityLevel&nbsp;/*&nbsp;op&nbsp;*/,&nbsp;preserveAspectRatio&nbsp;/*&nbsp;op&nbsp;*/,&nbsp;rotateExif&nbsp;/*&nbsp;op&nbsp;*/);&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;The&nbsp;blob&nbsp;will&nbsp;be&nbsp;passed&nbsp;as&nbsp;an&nbsp;argument&nbsp;to&nbsp;the&nbsp;success&nbsp;callback&nbsp;function,&nbsp;or&nbsp;upon&nbsp;error,&nbsp;error&nbsp;data&nbsp;will&nbsp;be&nbsp;passed&nbsp;into&nbsp;the&nbsp;error&nbsp;callback&nbsp;function&nbsp;as&nbsp;an&nbsp;argument.&nbsp;Quality&nbsp;level&nbsp;should&nbsp;be&nbsp;between&nbsp;0.0&nbsp;and&nbsp;1.0,&nbsp;and&nbsp;any&nbsp;value&nbsp;outside&nbsp;of&nbsp;that&nbsp;range&nbsp;will&nbsp;be&nbsp;reverted&nbsp;to&nbsp;the&nbsp;default,&nbsp;0.85.&nbsp;If&nbsp;MIME&nbsp;type&nbsp;does&nbsp;not&nbsp;equal&nbsp;&quot;image/jpeg&quot;,&nbsp;then&nbsp;quality&nbsp;level&nbsp;is&nbsp;ignored.&nbsp;If&nbsp;null&nbsp;(or&nbsp;a&nbsp;negative&nbsp;value)&nbsp;is&nbsp;passed&nbsp;in&nbsp;for&nbsp;the&nbsp;width&nbsp;or&nbsp;height,&nbsp;then&nbsp;the&nbsp;function&nbsp;will&nbsp;use&nbsp;the&nbsp;source&#39;s&nbsp;measurement&nbsp;for&nbsp;that&nbsp;dimension.&nbsp;Default&nbsp;values&nbsp;for&nbsp;preserveAspectRatio&nbsp;and&nbsp;rotateExif&nbsp;are&nbsp;true.&lt;/p&gt;<br>
<br>
&lt;p&gt;All&nbsp;EXIF&nbsp;metadata&nbsp;will&nbsp;be&nbsp;retained&nbsp;except&nbsp;for&nbsp;any&nbsp;saved&nbsp;thumbnails,&nbsp;and&nbsp;the&nbsp;EXIF&nbsp;rotation&nbsp;property&nbsp;will&nbsp;be&nbsp;appropriately&nbsp;modified.&lt;/p&gt;&lt;p&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&nbsp;font-size:&nbsp;1.75em;&quot;&gt;Se&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;1.75em;&nbsp;font-weight:&nbsp;bold;&quot;&gt;curity:&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;/p&gt;&lt;p&gt;If&nbsp;the&nbsp;image&nbsp;source&nbsp;is&nbsp;of&nbsp;a&nbsp;different&nbsp;origin&nbsp;than&nbsp;the&nbsp;script&nbsp;context,&nbsp;then&nbsp;getBlob&nbsp;raises&nbsp;a&nbsp;&lt;span&nbsp;style=&quot;border-bottom:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;0,&nbsp;0);&quot;&gt;SECURITY_ERR&lt;/span&gt;&lt;span&gt;&lt;span&nbsp;style=&quot;white-space:&nbsp;normal;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&nbsp;exception.&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;1.75em;&nbsp;font-weight:&nbsp;bold;&quot;&gt;Sample&nbsp;Code:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;//&nbsp;url&nbsp;contains&nbsp;location&nbsp;of&nbsp;an&nbsp;image&nbsp;file&lt;/p&gt;&lt;p&gt;Image&nbsp;i&nbsp;=&nbsp;new&nbsp;Image();&lt;/p&gt;&lt;p&gt;i.src&nbsp;=&nbsp;url;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;var&nbsp;successEvt&nbsp;=&nbsp;function&nbsp;(newBlob)&nbsp;{&nbsp;myDiv.innerHTML&nbsp;+=&nbsp;&quot;&lt;img&nbsp;src=&#39;&quot;&nbsp;+&nbsp;newBlob.url&nbsp;+&nbsp;&quot;&#39;&nbsp;/&gt;&quot;;&nbsp;};&lt;/p&gt;<br>
<br>
&lt;p&gt;var&nbsp;errEvt&nbsp;=&nbsp;function&nbsp;(err)&nbsp;{&nbsp;alert(err);&nbsp;};&lt;/p&gt;&lt;p&gt;i.getBlob(&quot;image/jpeg&quot;,&nbsp;300,&nbsp;350,&nbsp;successEvt,&nbsp;errEvt,&nbsp;.55);&lt;/p&gt;&lt;p&gt;//&nbsp;Image&nbsp;will&nbsp;retain&nbsp;aspect&nbsp;ratio&nbsp;and&nbsp;correct&nbsp;for&nbsp;EXIF&nbsp;rotation.&nbsp;If&nbsp;the&nbsp;source&nbsp;image&nbsp;was&nbsp;700x700,&lt;/p&gt;<br>
<br>
&lt;p&gt;//&nbsp;&nbsp;&nbsp;the&nbsp;blob&nbsp;will&nbsp;represent&nbsp;a&nbsp;new&nbsp;image&nbsp;that&nbsp;is&nbsp;300x300.&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h1&gt;That&#39;s&nbsp;all!&lt;/h1&gt;&lt;h1&gt;&lt;/h1&gt;&lt;h1&gt;&lt;/h1&gt;&lt;h3&nbsp;style=&quot;font-family:&nbsp;arial,sans-serif;&nbsp;font-size:&nbsp;small;&quot;&gt;Appendix:&nbsp;Alternatives&nbsp;considered&nbsp;&lt;/h3&gt;<br>
<br>
&lt;p&gt;For&nbsp;reference,&nbsp;we&#39;ve&nbsp;also&nbsp;included&nbsp;a&nbsp;list&nbsp;of&nbsp;other&nbsp;designs&nbsp;that&nbsp;we&nbsp;thought&nbsp;of&nbsp;along&nbsp;with&nbsp;the&nbsp;reasons&nbsp;why&nbsp;they&nbsp;were&nbsp;dropped&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h4&gt;Creating&nbsp;a&nbsp;new&nbsp;object&nbsp;for&nbsp;resizing&lt;/h4&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;Summary&nbsp;of&nbsp;approach:&lt;/span&gt;&nbsp;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;[NamedConstructor=ImageResizer(),&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&nbsp;NamedConstructor=ImageResizer(blob,&nbsp;onsuccess),&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&nbsp;NamedConstructor=ImageResizer(blob,&nbsp;onsuccess,&nbsp;onerror),&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&nbsp;NamedConstructor=ImageResizer(blob,&nbsp;onsuccess,&nbsp;onerror,&nbsp;type),&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&nbsp;NamedConstructor=ImageResizer(blob,&nbsp;onsuccess,&nbsp;onerror,&nbsp;type,&nbsp;width,&nbsp;height)]&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;<br>
<br>
interface&nbsp;ImageResizer&nbsp;{&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;start();&nbsp;//&nbsp;starts&nbsp;resize&nbsp;operation&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;abort();&nbsp;//&nbsp;aborts&nbsp;operation&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;attribute&nbsp;Blob&nbsp;blob;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;attribute&nbsp;DOMString&nbsp;type;&nbsp;//&nbsp;default&nbsp;&quot;image/png&quot;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;attribute&nbsp;unsigned&nbsp;long&nbsp;width;&nbsp;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;attribute&nbsp;unsigned&nbsp;long&nbsp;height;&nbsp;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;attribute&nbsp;float&nbsp;qualityLevel;&nbsp;//&nbsp;default&nbsp;1.0,&nbsp;must&nbsp;be&nbsp;0.0&nbsp;to&nbsp;1.0,&nbsp;else&nbsp;reverts&nbsp;to&nbsp;default&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;readonly&nbsp;attribute&nbsp;unsigned&nbsp;short&nbsp;started;&nbsp;//&nbsp;default&nbsp;0&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;attribute&nbsp;Function&nbsp;onsuccess;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;attribute&nbsp;Function&nbsp;onerror;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;};&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;W&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;h&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;y&nbsp;it&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;&nbsp;was&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;n&#39;t&nbsp;chosen:&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;Creating&nbsp;an&nbsp;entirely&nbsp;new&nbsp;object&nbsp;for&nbsp;this&nbsp;task&nbsp;made&nbsp;the&nbsp;task&nbsp;seem&nbsp;more&nbsp;complicated&nbsp;and&nbsp;involved&nbsp;than&nbsp;necessary,&nbsp;and&nbsp;this&nbsp;problem&nbsp;could&nbsp;be&nbsp;solved&nbsp;via&nbsp;modifications&nbsp;to&nbsp;the&nbsp;Image&nbsp;object.&lt;/p&gt;&lt;p&gt;&lt;/p&gt;<br>
<br>
&lt;h4&gt;Returning&nbsp;a&nbsp;SizelessBlob&nbsp;immediately&nbsp;from&nbsp;a&nbsp;method&nbsp;on&nbsp;image&lt;/h4&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;S&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;u&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;mm&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;ar&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;y&nbsp;of&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;&nbsp;approach:&lt;/span&gt;&nbsp;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;var&nbsp;streamingBlob&nbsp;=&nbsp;image.toStreamingBlob(mimeType&nbsp;/*&nbsp;req&nbsp;*/,&nbsp;width&nbsp;/*&nbsp;req&nbsp;*/,&nbsp;height&nbsp;/*&nbsp;req&nbsp;*/,&nbsp;qualityLevel&nbsp;/*&nbsp;op&nbsp;*/,&nbsp;preserveAspectRatio&nbsp;/*&nbsp;op&nbsp;*/,&nbsp;rotateExif&nbsp;/*&nbsp;op&nbsp;*/);&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;<br>
<br>
&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;Ne&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;w&nbsp;Blob&nbsp;Interfaces:&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;in&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;terface&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;Siz&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;e&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;lessBlob&nbsp;{&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;moved&nbsp;from&nbsp;Blob&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readonly&nbsp;attribute&nbsp;DOMString&nbsp;type;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readonly&nbsp;attribute&nbsp;DOMString&nbsp;url;&nbsp;//&nbsp;whatever&nbsp;name&nbsp;--&nbsp;URL,&nbsp;urn,&nbsp;URN,&nbsp;etc.&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;}&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;interface&nbsp;StreamingBlob&nbsp;:&nbsp;SizelessBlob&nbsp;{&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;at&nbsp;most&nbsp;one&nbsp;of&nbsp;the&nbsp;following&nbsp;functions&nbsp;will&nbsp;be&nbsp;called&nbsp;for&nbsp;a&nbsp;single&nbsp;FutureBlob&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attribute&nbsp;Function&nbsp;onblobready;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attribute&nbsp;Function&nbsp;onerror;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readyonly&nbsp;attribute&nbsp;blob;&nbsp;//&nbsp;throws&nbsp;an&nbsp;exception&nbsp;if&nbsp;accessed&nbsp;before&nbsp;onblobready&nbsp;is&nbsp;called.&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;}&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;interface&nbsp;Blob&nbsp;:&nbsp;SizelessBlob&nbsp;{&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readonly&nbsp;attribute&nbsp;unsigned&nbsp;long&nbsp;long&nbsp;size;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Blob&nbsp;slice(in&nbsp;long&nbsp;long&nbsp;start,&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;long&nbsp;long&nbsp;length);&nbsp;//&nbsp;raises&nbsp;DOMException&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;sans-serif;&quot;&gt;};&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;Wh&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;y&nbsp;it&nbsp;wasn&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;&#39;t&nbsp;ch&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;osen&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;:&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;ul&gt;&lt;li&gt;the&nbsp;disconnect&nbsp;of&nbsp;the&nbsp;error&nbsp;from&nbsp;the&nbsp;thing&nbsp;that&nbsp;caused&nbsp;it&nbsp;making&nbsp;failures&nbsp;hard&nbsp;to&nbsp;understand&nbsp;(e.g.&nbsp;An&nbsp;image&nbsp;load&nbsp;may&nbsp;fail&nbsp;but&nbsp;that&nbsp;may&nbsp;not&nbsp;be&nbsp;detected&nbsp;until&nbsp;the&nbsp;&lt;span&nbsp;style=&quot;border-bottom:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;0,&nbsp;0);&quot;&gt;xhr&lt;/span&gt;&lt;span&gt;&lt;span&nbsp;style=&quot;white-space:&nbsp;normal;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&nbsp;is&nbsp;done&nbsp;using&nbsp;the&nbsp;resized&nbsp;image.)&lt;/li&gt;<br>
<br>
&lt;li&gt;the&nbsp;issues&nbsp;that&nbsp;result&nbsp;from&nbsp;passing&nbsp;a&nbsp;SizelessBlob,&nbsp;which&nbsp;has&nbsp;a&nbsp;reference&nbsp;to&nbsp;a&nbsp;loading&nbsp;image,&nbsp;to&nbsp;another&nbsp;document&nbsp;and&nbsp;closing&nbsp;the&nbsp;original&nbsp;document&nbsp;(thus&nbsp;killing&nbsp;the&nbsp;image&nbsp;loader)&lt;/li&gt;&lt;li&gt;introduction&nbsp;of&nbsp;multiple&nbsp;blobs&nbsp;which&nbsp;may&nbsp;be&nbsp;confusing&nbsp;to&nbsp;developers&lt;/li&gt;<br>
<br>
&lt;li&gt;the&nbsp;need&nbsp;to&nbsp;change&nbsp;all&nbsp;existing&nbsp;specs&nbsp;to&nbsp;use&nbsp;SizelessBlob&nbsp;instead&nbsp;of&nbsp;Blob&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;h4&gt;Returning&nbsp;a&nbsp;Blob&nbsp;immediately&nbsp;from&nbsp;a&nbsp;method&nbsp;on&nbsp;image&lt;/h4&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;Su&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;mmary&nbsp;of&nbsp;approach:&lt;/span&gt;&nbsp;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;var&nbsp;blob&nbsp;=&nbsp;image.toBlob(mimeType&nbsp;/*&nbsp;req&nbsp;*/,&nbsp;width&nbsp;/*&nbsp;req&nbsp;*/,&nbsp;height&nbsp;/*&nbsp;req&nbsp;*/,&nbsp;qualityLevel&nbsp;/*&nbsp;op&nbsp;*/,&nbsp;preserveAspectRatio&nbsp;/*&nbsp;op&nbsp;*/,&nbsp;rotateExif&nbsp;/*&nbsp;op&nbsp;*/);&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;blob.size&nbsp;and&nbsp;blob.slice&nbsp;throw&nbsp;until&nbsp;the&nbsp;blob&nbsp;is&nbsp;complete.&nbsp;There&nbsp;would&nbsp;need&nbsp;to&nbsp;be&nbsp;a&nbsp;new&nbsp;event&nbsp;to&nbsp;say&nbsp;when&nbsp;the&nbsp;&lt;span&nbsp;style=&quot;border-bottom:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;0,&nbsp;0);&quot;&gt;blob&#39;s&lt;/span&gt;&lt;span&gt;&lt;span&nbsp;style=&quot;white-space:&nbsp;normal;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&nbsp;size&nbsp;is&nbsp;ready.&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;W&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;h&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;y&nbsp;it&nbsp;wasn&#39;t&nbsp;chosen:&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;It&nbsp;felt&nbsp;like&nbsp;it&nbsp;was&nbsp;changing&nbsp;how&nbsp;&lt;span&nbsp;style=&quot;border-bottom:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;0,&nbsp;0);&quot;&gt;blobs&lt;/span&gt;&lt;span&gt;&lt;span&nbsp;style=&quot;white-space:&nbsp;normal;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&nbsp;worked&nbsp;to&nbsp;make&nbsp;the&nbsp;size&nbsp;throw.&nbsp;Also,&nbsp;this&nbsp;has&nbsp;some&nbsp;of&nbsp;the&nbsp;same&nbsp;disadvantages&nbsp;of&nbsp;as&nbsp;the&nbsp;&lt;span&nbsp;style=&quot;border-bottom:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;0,&nbsp;0);&quot;&gt;SizelessBlob&lt;/span&gt;&lt;span&gt;&lt;span&nbsp;style=&quot;white-space:&nbsp;normal;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&nbsp;approach.&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;/p&gt;&lt;h4&gt;Using&nbsp;CSS&nbsp;of&nbsp;Image&nbsp;to&nbsp;designate&nbsp;dimensions&nbsp;instead&nbsp;of&nbsp;putting&nbsp;it&nbsp;in&nbsp;the&nbsp;API&lt;/h4&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;Su&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;mm&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;ary&nbsp;of&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;appr&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;oach:&lt;/span&gt;&nbsp;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;img.getBlob(mimeType&nbsp;/*&nbsp;req&nbsp;*/,&nbsp;&nbsp;successEvent&nbsp;/*&nbsp;req&nbsp;*/,&nbsp;errorEvent&nbsp;/*&nbsp;op&nbsp;*/,&nbsp;qualityLevel&nbsp;/*&nbsp;op&nbsp;*/);&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;34px;&quot;&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;Wh&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;y&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;it&nbsp;wasn&#39;t&nbsp;chosen:&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;It&nbsp;would&nbsp;have&nbsp;been&nbsp;confusing&nbsp;to&nbsp;the&nbsp;user&nbsp;if&nbsp;getBlob&nbsp;took&nbsp;into&nbsp;account&nbsp;some&nbsp;CSS&nbsp;attributes&nbsp;but&nbsp;not&nbsp;others,&nbsp;and&nbsp;using&nbsp;all&nbsp;CSS&nbsp;tags&nbsp;posed&nbsp;a&nbsp;lot&nbsp;of&nbsp;unnecessary&nbsp;implementation&nbsp;complexity&nbsp;without&nbsp;any&nbsp;use&nbsp;cases.&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;/p&gt;&lt;h4&gt;Using&nbsp;the&nbsp;File&nbsp;object&lt;/h4&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;Su&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;mm&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;ary&nbsp;of&nbsp;approach&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;:&lt;/span&gt;&nbsp;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;FileReader&nbsp;readResized().&nbsp;The&nbsp;result&nbsp;would&nbsp;be&nbsp;a&nbsp;data&nbsp;url&nbsp;with&nbsp;the&nbsp;resized&nbsp;image.&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;Wh&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;y&nbsp;it&nbsp;wasn&#39;t&nbsp;chosen:&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;We&nbsp;also&nbsp;examined&nbsp;making&nbsp;this&nbsp;function&nbsp;an&nbsp;instance&nbsp;method&nbsp;of&nbsp;the&nbsp;FileReader&nbsp;object,&nbsp;but&nbsp;this&nbsp;function&nbsp;did&nbsp;not&nbsp;fit&nbsp;well&nbsp;in&nbsp;the&nbsp;context&nbsp;of&nbsp;the&nbsp;File&nbsp;object.&nbsp;FileReader&#39;s&nbsp;result&nbsp;is&nbsp;a&nbsp;string,&nbsp;posing&nbsp;a&nbsp;problem&nbsp;for&nbsp;large&nbsp;results&nbsp;as&nbsp;well&nbsp;as&nbsp;an&nbsp;unnecessary&nbsp;conversion.&nbsp;One&nbsp;way&nbsp;another&nbsp;this&nbsp;problem&nbsp;is&nbsp;to&nbsp;use&nbsp;a&nbsp;URN&nbsp;(like&nbsp;File.urn),&nbsp;it&nbsp;would&nbsp;have&nbsp;prevented&nbsp;us&nbsp;from&nbsp;posting&nbsp;the&nbsp;result&nbsp;to&nbsp;a&nbsp;server&nbsp;as&nbsp;well&nbsp;as&nbsp;having&nbsp;the&nbsp;lifetime&nbsp;issues&nbsp;that&nbsp;File.urn&nbsp;does.&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;/p&gt;&lt;h4&gt;Having&nbsp;a&nbsp;very&nbsp;specialized&nbsp;method&nbsp;on&nbsp;FormData&nbsp;to&nbsp;do&nbsp;the&nbsp;resize&nbsp;and&nbsp;allow&nbsp;upload&lt;/h4&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;Summ&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;ary&nbsp;of&nbsp;approach:&lt;/span&gt;&nbsp;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;FormData.&lt;span&nbsp;style=&quot;border-bottom:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;0,&nbsp;0);&quot;&gt;appendResized&lt;/span&gt;&lt;span&gt;&lt;span&nbsp;style=&quot;white-space:&nbsp;normal;&quot;&gt;&lt;/span&gt;&lt;/span&gt;(DOMString&nbsp;name,&nbsp;Blob&nbsp;value,&nbsp;mimeType&nbsp;/*&nbsp;req&nbsp;*/,&nbsp;with&nbsp;/*&nbsp;req&nbsp;*/,&nbsp;height&nbsp;/*&nbsp;req&nbsp;*/,&nbsp;qualityLevel&nbsp;/*&nbsp;&lt;span&nbsp;style=&quot;border-bottom:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;0,&nbsp;0);&quot;&gt;op&lt;/span&gt;&lt;span&gt;&lt;span&nbsp;style=&quot;white-space:&nbsp;normal;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&nbsp;*/,&nbsp;preserveAspectRatio&nbsp;/*&nbsp;&lt;span&nbsp;style=&quot;border-bottom:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;0,&nbsp;0);&quot;&gt;op&lt;/span&gt;&lt;span&gt;&lt;span&nbsp;style=&quot;white-space:&nbsp;normal;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&nbsp;*/,&nbsp;&lt;span&nbsp;style=&quot;border-bottom:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;0,&nbsp;0);&quot;&gt;rotateExif&lt;/span&gt;&lt;span&gt;&lt;span&nbsp;style=&quot;white-space:&nbsp;normal;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&nbsp;/*&nbsp;&lt;span&nbsp;style=&quot;border-bottom:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;0,&nbsp;0);&quot;&gt;op&lt;/span&gt;&lt;span&gt;&lt;span&nbsp;style=&quot;white-space:&nbsp;normal;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&nbsp;*/);&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;Why&nbsp;it&nbsp;wasn&#39;t&nbsp;chosen:&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;This&nbsp;approach&nbsp;was&nbsp;over&nbsp;specialized&nbsp;and&nbsp;didn&#39;t&nbsp;allow&nbsp;for&nbsp;using&nbsp;the&nbsp;result&nbsp;on&nbsp;the&nbsp;web&nbsp;page&nbsp;at&nbsp;all&nbsp;which&nbsp;would&nbsp;be&nbsp;useful&nbsp;as&nbsp;a&nbsp;preview&nbsp;of&nbsp;exactly&nbsp;what&nbsp;is&nbsp;being&nbsp;uploaded.&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;/p&gt;&lt;h4&gt;Using&nbsp;canvas&nbsp;in&nbsp;a&nbsp;worker&lt;/h4&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;Su&lt;/span&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;mmary&nbsp;of&nbsp;approach:&lt;/span&gt;&nbsp;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;This&nbsp;is&nbsp;the&nbsp;&lt;span&nbsp;style=&quot;border-bottom:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;0,&nbsp;0);&quot;&gt;OffscreenCanvas&lt;/span&gt;&lt;span&gt;&lt;span&nbsp;style=&quot;white-space:&nbsp;normal;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&nbsp;proposal&nbsp;which&nbsp;can&nbsp;be&nbsp;seen&nbsp;here:&nbsp;&lt;a&nbsp;href=&quot;http://www.mail-archive.com/whatwg@lists.whatwg.org/msg20297.html&quot;&nbsp;style=&quot;font-family:&nbsp;arial,sans-serif;&nbsp;color:&nbsp;rgb(0,&nbsp;62,&nbsp;168);&quot;&nbsp;target=&quot;_blank&quot;&gt;h&lt;/a&gt;&lt;a&nbsp;href=&quot;http://www.mail-archive.com/whatwg@lists.whatwg.org/msg20297.html&quot;&nbsp;style=&quot;font-family:&nbsp;arial,sans-serif;&nbsp;color:&nbsp;rgb(0,&nbsp;62,&nbsp;168);&quot;&nbsp;target=&quot;_blank&quot;&gt;ttp&lt;/a&gt;&lt;a&nbsp;href=&quot;http://www.mail-archive.com/whatwg@lists.whatwg.org/msg20297.html&quot;&nbsp;style=&quot;font-family:&nbsp;arial,sans-serif;&nbsp;color:&nbsp;rgb(0,&nbsp;62,&nbsp;168);&quot;&nbsp;target=&quot;_blank&quot;&gt;:&lt;/a&gt;&lt;a&nbsp;href=&quot;http://www.mail-archive.com/whatwg@lists.whatwg.org/msg20297.html&quot;&nbsp;style=&quot;font-family:&nbsp;arial,sans-serif;&nbsp;color:&nbsp;rgb(0,&nbsp;62,&nbsp;168);&quot;&nbsp;target=&quot;_blank&quot;&gt;//www.mail-archive.com/whatwg@lists.whatwg.org/msg20297.html&lt;/a&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;Why&nbsp;it&nbsp;wasn&#39;t&nbsp;chosen:&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-left:&nbsp;17px;&quot;&gt;Due&nbsp;to&nbsp;making&nbsp;it&nbsp;rather&nbsp;complicated&nbsp;for&nbsp;the&nbsp;javascript&nbsp;user&nbsp;to&nbsp;accomplish&nbsp;their&nbsp;goal&nbsp;and&nbsp;the&nbsp;code&nbsp;complexity&nbsp;and&nbsp;the&nbsp;speed&nbsp;trade-offs&nbsp;that&nbsp;may&nbsp;change&nbsp;due&nbsp;to&nbsp;gpu&nbsp;acceleration,&nbsp;this&nbsp;idea&nbsp;didn&#39;t&nbsp;get&nbsp;traction&nbsp;and&nbsp;many&nbsp;folks&nbsp;suggested&nbsp;something&nbsp;simpler&nbsp;for&nbsp;the&nbsp;intended&nbsp;use&nbsp;cases.&nbsp;A&nbsp;few&nbsp;more&nbsp;drawbacks&nbsp;are&nbsp;that&nbsp;this&nbsp;doesn&#39;t&nbsp;obey&nbsp;exif&nbsp;automatically&nbsp;and&nbsp;it&nbsp;doesn&#39;t&nbsp;preserve&nbsp;the&nbsp;exif&nbsp;metadata.&lt;span&gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;/span&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
