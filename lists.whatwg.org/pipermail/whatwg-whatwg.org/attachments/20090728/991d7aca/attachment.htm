<tt>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Jul&nbsp;28,&nbsp;2009&nbsp;at&nbsp;1:01&nbsp;PM,&nbsp;Drew&nbsp;Wilson&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:atwilson@google.com&quot;&gt;atwilson@google.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
<br>
&lt;div&gt;So&nbsp;(and&nbsp;forgive&nbsp;me&nbsp;for&nbsp;restating),&nbsp;it&nbsp;seems&nbsp;like&nbsp;hidden&nbsp;page&nbsp;addresses&nbsp;the&nbsp;following&nbsp;problems&nbsp;that&nbsp;gmail&nbsp;and&nbsp;other&nbsp;large&nbsp;web&nbsp;apps&nbsp;are&nbsp;having:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1)&nbsp;Loading&nbsp;large&nbsp;amounts&nbsp;of&nbsp;Javascript&nbsp;is&nbsp;slow,&nbsp;even&nbsp;from&nbsp;cache. &lt;/div&gt;<br>
<br>
&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&gt;&lt;/div&gt;<br>
&lt;div&gt;2)&nbsp;Loading&nbsp;application&nbsp;state&nbsp;from&nbsp;the&nbsp;database&nbsp;is&nbsp;slow.&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Do&nbsp;we&nbsp;know&nbsp;why&nbsp;1&nbsp;and&nbsp;2&nbsp;are&nbsp;true?&nbsp;Can&nbsp;it&nbsp;be&nbsp;fixed?&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
<br>
&lt;div&gt;&lt;/div&gt;&lt;div&gt;3)&nbsp;Sharing&nbsp;between&nbsp;pages&nbsp;requires&nbsp;going&nbsp;through&nbsp;the&nbsp;database&nbsp;or&nbsp;shared&nbsp;worker&nbsp;-&nbsp;you&nbsp;can&amp;#39;t&nbsp;just&nbsp;party&nbsp;on&nbsp;a&nbsp;big&nbsp;shared&nbsp;datastructure.&lt;/div&gt;&lt;div&gt;4)&nbsp;There&amp;#39;s&nbsp;no&nbsp;way&nbsp;to&nbsp;do&nbsp;things&nbsp;like&nbsp;new&nbsp;mail&nbsp;notifications,&nbsp;calendar&nbsp;notifications,&nbsp;local&nbsp;updates&nbsp;of&nbsp;your&nbsp;email&nbsp;inbox,&nbsp;etc&nbsp;when&nbsp;the&nbsp;browser&nbsp;is&nbsp;not&nbsp;open.&nbsp;Currently,&nbsp;even&nbsp;the&nbsp;most&nbsp;brain-dead&nbsp;shareware&nbsp;desktop&nbsp;calendar&nbsp;app&nbsp;can&nbsp;display&nbsp;an&nbsp;event&nbsp;notification,&nbsp;while&nbsp;web-based&nbsp;calendars&nbsp;are&nbsp;forced&nbsp;to&nbsp;rely&nbsp;on&nbsp;the&nbsp;user&nbsp;remembering&nbsp;to&nbsp;keep&nbsp;a&nbsp;browser&nbsp;window&nbsp;open.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Am&nbsp;I&nbsp;missing&nbsp;any&nbsp;other&nbsp;issues&nbsp;that&nbsp;hidden&nbsp;page&nbsp;is&nbsp;supposed&nbsp;to&nbsp;address?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;A&nbsp;persistent&nbsp;worker&nbsp;could&nbsp;address&nbsp;#4&nbsp;(perhaps&nbsp;with&nbsp;some&nbsp;limitations&nbsp;on&nbsp;network&nbsp;access&nbsp;to&nbsp;address&nbsp;security&nbsp;concerns).&nbsp;For&nbsp;#1/#2/#3,&nbsp;are&nbsp;we&nbsp;saying&nbsp;that&nbsp;web&nbsp;applications&nbsp;*must*&nbsp;install&nbsp;themselves&nbsp;(with&nbsp;the&nbsp;requisite&nbsp;user&nbsp;flow)&nbsp;just&nbsp;to&nbsp;get&nbsp;fast&nbsp;load&nbsp;times?&nbsp;That&nbsp;seems&nbsp;unfortunate&nbsp;-&nbsp;if&nbsp;I&nbsp;don&amp;#39;t&nbsp;care&nbsp;about&nbsp;#4,&nbsp;I&amp;#39;d&nbsp;really&nbsp;like&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;get&nbsp;the&nbsp;benefits&nbsp;of&nbsp;#1/2/3&nbsp;without&nbsp;jumping&nbsp;through&nbsp;a&nbsp;user&nbsp;install.&lt;/div&gt;<br>
<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Yes,&nbsp;but&nbsp;a&nbsp;background&nbsp;page&nbsp;keeps&nbsp;a&nbsp;lot&nbsp;of&nbsp;state&nbsp;in&nbsp;memory&nbsp;semi-permanently.&nbsp;It&amp;#39;s&nbsp;not&nbsp;acceptable&nbsp;for&nbsp;any&nbsp;web&nbsp;page&nbsp;to&nbsp;have&nbsp;the&nbsp;power&nbsp;to&nbsp;use&nbsp;significant&nbsp;system&nbsp;resources&nbsp;even&nbsp;after&nbsp;it&amp;#39;s&nbsp;been&nbsp;closed. &lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;most&nbsp;contentious&nbsp;part&nbsp;of&nbsp;this&nbsp;proposal&nbsp;is&nbsp;keeping&nbsp;the&nbsp;page&nbsp;open&nbsp;after&nbsp;all&nbsp;it&amp;#39;s&nbsp;parent&nbsp;pages&nbsp;have&nbsp;been&nbsp;closed.&nbsp;#3&nbsp;only&nbsp;needs&nbsp;background&nbsp;pages&nbsp;to&nbsp;be&nbsp;open&nbsp;as&nbsp;long&nbsp;as&nbsp;it&amp;#39;s&nbsp;parent&nbsp;pages&nbsp;are&nbsp;open.&nbsp;#4&nbsp;can&nbsp;be&nbsp;somewhat&nbsp;solved&nbsp;by&nbsp;this,&nbsp;but&nbsp;there&nbsp;are&nbsp;other&nbsp;less&nbsp;resource&nbsp;intensive&nbsp;solutions&nbsp;to&nbsp;that&nbsp;as&nbsp;well.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Something&nbsp;like&nbsp;Aaron&amp;#39;s&nbsp;proposal&nbsp;where&nbsp;&amp;quot;t&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;13px;&nbsp;border-collapse:&nbsp;collapse;&nbsp;&quot;&gt;he&nbsp;lifetime&nbsp;of&nbsp;the&nbsp;page&nbsp;could&nbsp;be&nbsp;refcounted&nbsp;by&nbsp;pages&nbsp;referencing&nbsp;it&amp;quot;&nbsp;seems&nbsp;reasonable&nbsp;though.&nbsp;It&nbsp;doesn&amp;#39;t&nbsp;solve&nbsp;the&nbsp;initial&nbsp;startup&nbsp;problem,&nbsp;but&nbsp;it&nbsp;does&nbsp;solve&nbsp;#3,&nbsp;which&nbsp;would&nbsp;allow&nbsp;for&nbsp;making&nbsp;things&nbsp;like&nbsp;popping&nbsp;out&nbsp;an&nbsp;email&nbsp;to&nbsp;it&amp;#39;s&nbsp;own&nbsp;window&nbsp;fast.&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;collapse;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;collapse;&quot;&gt;In&nbsp;addition,&nbsp;putting&nbsp;this&nbsp;behind&nbsp;an&nbsp;install&nbsp;UI&nbsp;like&nbsp;extensions&nbsp;seems&nbsp;fine&nbsp;to&nbsp;fix&nbsp;the&nbsp;startup&nbsp;case&nbsp;and&nbsp;#4,&nbsp;although&nbsp;I&nbsp;agree&nbsp;that&nbsp;you&nbsp;shouldn&amp;#39;t&nbsp;need&nbsp;to&nbsp;&amp;quot;install&nbsp;gmail&amp;quot;&nbsp;for&nbsp;it&nbsp;to&nbsp;load&nbsp;quickly.&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;collapse;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;collapse;&quot;&gt;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;understand&nbsp;the&nbsp;underlying&nbsp;reasons&nbsp;for&nbsp;#1&nbsp;and&nbsp;#2.&nbsp;As&nbsp;Jonas&nbsp;said,&nbsp;there&nbsp;may&nbsp;be&nbsp;alternative&nbsp;solutions&nbsp;that&nbsp;are&nbsp;less&nbsp;prone&nbsp;to&nbsp;abuse&nbsp;of&nbsp;system&nbsp;resources.&nbsp;For&nbsp;example&nbsp;is&nbsp;loading&nbsp;cached&nbsp;JS&nbsp;so&nbsp;slow&nbsp;because&nbsp;it&nbsp;needs&nbsp;to&nbsp;hit&nbsp;disk?&nbsp;That&nbsp;could&nbsp;be&nbsp;solved&nbsp;by&nbsp;an&nbsp;AppCache&nbsp;extension&nbsp;that&nbsp;pins&nbsp;resources&nbsp;in&nbsp;memory&nbsp;if&nbsp;possible.&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;collapse;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;collapse;&quot;&gt;Ojan&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;collapse;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
<br>
&lt;div&gt;&lt;div&gt;-atw&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Jul&nbsp;27,&nbsp;2009&nbsp;at&nbsp;6:39&nbsp;PM,&nbsp;Maciej&nbsp;Stachowiak&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mjs@apple.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mjs@apple.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
On&nbsp;Jul&nbsp;27,&nbsp;2009,&nbsp;at&nbsp;7:13&nbsp;PM,&nbsp;Aryeh&nbsp;Gregor&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
I&amp;#39;m&nbsp;not&nbsp;clear&nbsp;how&nbsp;the&nbsp;UI&nbsp;requirements&nbsp;here&nbsp;are&nbsp;different&nbsp;from&lt;br&gt;<br>
persistent&nbsp;workers,&nbsp;though.&nbsp; Those&nbsp;also&nbsp;persist&nbsp;after&nbsp;the&nbsp;user&lt;br&gt;<br>
navigates&nbsp;away,&nbsp;right?&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Persistent&nbsp;workers&nbsp;are&nbsp;even&nbsp;more&nbsp;of&nbsp;a&nbsp;security&nbsp;risk,&nbsp;since&nbsp;they&nbsp;are&nbsp;supposed&nbsp;to&nbsp;persist&nbsp;even&nbsp;after&nbsp;the&nbsp;browser&nbsp;has&nbsp;been&nbsp;restarted,&nbsp;or&nbsp;after&nbsp;the&nbsp;system&nbsp;has&nbsp;been&nbsp;rebooted.&nbsp;Persistent&nbsp;workers&nbsp;should&nbsp;be&nbsp;renamed&nbsp;to&nbsp;&amp;quot;BotNet&nbsp;Construction&nbsp;Kit&amp;quot;.&lt;br&gt;<br>
<br>
<br>
<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
Maciej&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
