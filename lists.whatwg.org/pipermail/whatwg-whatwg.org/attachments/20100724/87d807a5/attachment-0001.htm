<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;7/24/2010&nbsp;2:02&nbsp;PM,&nbsp;Boris&nbsp;Zbarsky&nbsp;wrote:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;id=&quot;mid_4C4A81FF_4060204_mit_edu&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cite=&quot;mid:4C4A81FF.4060204@mit.edu&quot;&nbsp;type=&quot;cite&quot;&gt;On&nbsp;7/24/10&nbsp;1:50<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AM,&nbsp;Brett&nbsp;Zamir&nbsp;wrote:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;id=&quot;StationeryCiteGenerated_2&quot;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;id=&quot;StationeryCiteGenerated_3&quot;&nbsp;type=&quot;cite&quot;&gt;I&nbsp;would<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;particularly&nbsp;interested&nbsp;in&nbsp;data&nbsp;on&nbsp;this&nbsp;last,&nbsp;across<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;different&nbsp;browsers,&nbsp;operating&nbsp;systems,&nbsp;and&nbsp;locales...&nbsp;There<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seem&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;servers&nbsp;out&nbsp;there&nbsp;expecting&nbsp;their&nbsp;URIs&nbsp;in&nbsp;UTF-8&nbsp;and&nbsp;others<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expecting<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;them&nbsp;in&nbsp;ISO-8859-1,&nbsp;and&nbsp;it's&nbsp;not&nbsp;clear&nbsp;to&nbsp;me&nbsp;how&nbsp;to&nbsp;make<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;things&nbsp;work<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;them&nbsp;all.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Seems&nbsp;to&nbsp;me&nbsp;that&nbsp;if&nbsp;they&nbsp;are&nbsp;not&nbsp;in&nbsp;UTF-8,&nbsp;they&nbsp;should&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;treated&nbsp;as<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bugs,&nbsp;even&nbsp;if&nbsp;that&nbsp;is&nbsp;not&nbsp;a&nbsp;de&nbsp;jure&nbsp;standard.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Treated&nbsp;as&nbsp;bugs&nbsp;by&nbsp;whom?<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;By&nbsp;the&nbsp;servers/scripting&nbsp;languages.&nbsp;While&nbsp;it&nbsp;is&nbsp;great&nbsp;that&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;browsers&nbsp;are&nbsp;involved&nbsp;in&nbsp;the&nbsp;process,&nbsp;I&nbsp;think&nbsp;it&nbsp;would&nbsp;be&nbsp;reasonable<br>
&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;invite&nbsp;the&nbsp;other&nbsp;stake-holders&nbsp;to&nbsp;join&nbsp;the&nbsp;discussions.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;id=&quot;mid_4C4A81FF_4060204_mit_edu&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cite=&quot;mid:4C4A81FF.4060204@mit.edu&quot;&nbsp;type=&quot;cite&quot;&gt;The&nbsp;scenario&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;a&nbsp;user&nbsp;types&nbsp;some&nbsp;non-ASCII&nbsp;text&nbsp;in&nbsp;the&nbsp;url&nbsp;bar.&nbsp;This&nbsp;needs<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;be&nbsp;url-encoded&nbsp;to&nbsp;actually&nbsp;go&nbsp;on&nbsp;the&nbsp;wire,&nbsp;which&nbsp;raises&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question&nbsp;of&nbsp;what&nbsp;encoding. &nbsp;If&nbsp;the&nbsp;user&nbsp;is&nbsp;using&nbsp;IRIs,&nbsp;the&nbsp;answer<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;UTF-8. &nbsp;A&nbsp;number&nbsp;of&nbsp;servers&nbsp;barf&nbsp;if&nbsp;you&nbsp;do&nbsp;this,&nbsp;especially<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;because&nbsp;some&nbsp;server-side&nbsp;scripting&nbsp;languages&nbsp;(PHP,&nbsp;e.g.,&nbsp;last&nbsp;I<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checked)&nbsp;default&nbsp;to&nbsp;URI-unescaping&nbsp;via&nbsp;something&nbsp;other&nbsp;than&nbsp;UTF-8.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hopefully&nbsp;to&nbsp;be&nbsp;fixed&nbsp;in&nbsp;PHP6&nbsp;with&nbsp;its&nbsp;promise&nbsp;of&nbsp;full&nbsp;Unicode<br>
&nbsp;&nbsp;&nbsp;&nbsp;support...&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Though&nbsp;per&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://www.slideshare.net/kfish/unicode-php6-presentation&quot;&gt;http://www.slideshare.net/kfish/unicode-php6-presentation&lt;/a&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;Slide&nbsp;34:&nbsp;&lt;/b&gt;Conversions&nbsp;&amp;&nbsp;Encoding<br>
&nbsp;&nbsp;&nbsp;&nbsp;“HTTP&nbsp;Input&nbsp;Encoding”<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;With&nbsp;Unicode&nbsp;semantics&nbsp;switch&nbsp;enabled,&nbsp;we&nbsp;need&nbsp;to&nbsp;convert&nbsp;HTTP&nbsp;input<br>
&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;Unicode&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;GET&nbsp;requests&nbsp;have&nbsp;no&nbsp;encoding&nbsp;at&nbsp;all&nbsp;and&nbsp;POST&nbsp;ones&nbsp;rarely&nbsp;come<br>
&nbsp;&nbsp;&nbsp;&nbsp;marked&nbsp;with&nbsp;the&nbsp;encoding&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Encoding&nbsp;detection&nbsp;is&nbsp;not&nbsp;reliable&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;Correctly&nbsp;decoding&nbsp;HTTP&nbsp;input&nbsp;is&nbsp;somewhat&nbsp;of&nbsp;an&nbsp;unsolved&nbsp;problem&lt;/b&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;Slide&nbsp;35:&nbsp;&lt;/b&gt;Conversions&nbsp;&amp;&nbsp;Encoding<br>
&nbsp;&nbsp;&nbsp;&nbsp;“HTTP&nbsp;Input&nbsp;Encoding”<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;PHP&nbsp;will&nbsp;perform&nbsp;lazy&nbsp;decoding&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Delays&nbsp;decoding&nbsp;data&nbsp;in&nbsp;$_GET,&nbsp;$_POST,&nbsp;and&nbsp;$_REQUEST&nbsp;until&nbsp;the&nbsp;ﬁrst<br>
&nbsp;&nbsp;&nbsp;&nbsp;time&nbsp;you&nbsp;access&nbsp;them&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Allows&nbsp;user&nbsp;to&nbsp;set&nbsp;expected&nbsp;encoding&nbsp;or&nbsp;just&nbsp;rely&nbsp;on&nbsp;a&nbsp;default&nbsp;one&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Allows&nbsp;decoding&nbsp;errors&nbsp;to&nbsp;be&nbsp;handled&nbsp;by&nbsp;the&nbsp;same&nbsp;mechanism&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Applications&nbsp;should&nbsp;also&nbsp;use&nbsp;ﬁlter&nbsp;extension&nbsp;to&nbsp;ﬁlter&nbsp;incoming&nbsp;data&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;id=&quot;mid_4C4A81FF_4060204_mit_edu&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cite=&quot;mid:4C4A81FF.4060204@mit.edu&quot;&nbsp;type=&quot;cite&quot;&gt;So&nbsp;some&nbsp;browser<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;encode&nbsp;the&nbsp;non-query&nbsp;part&nbsp;of&nbsp;the&nbsp;URI&nbsp;as&nbsp;UTF-8&nbsp;and&nbsp;the&nbsp;query&nbsp;part<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;...&nbsp;something&nbsp;(user's&nbsp;default&nbsp;filesystem&nbsp;encoding,&nbsp;say,&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lack&nbsp;of&nbsp;a&nbsp;better&nbsp;guess). &nbsp;Others&nbsp;always&nbsp;use&nbsp;UTF-8&nbsp;(and&nbsp;end&nbsp;up&nbsp;with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;some&nbsp;servers&nbsp;not&nbsp;usable). &nbsp;Others...&nbsp;I&nbsp;have&nbsp;no&nbsp;idea. &nbsp;That's&nbsp;why&nbsp;I<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;want&nbsp;data. &nbsp;;) &nbsp;In&nbsp;particular,&nbsp;while&nbsp;the&nbsp;&quot;just&nbsp;use&nbsp;UTF-8,&nbsp;and&nbsp;if<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;user&nbsp;can't&nbsp;access&nbsp;the&nbsp;site&nbsp;sucks&nbsp;to&nbsp;be&nbsp;the&nbsp;user&quot;&nbsp;approach&nbsp;has<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;certain&nbsp;theoretical-purity&nbsp;appeal,&nbsp;it&nbsp;doesn't&nbsp;seem&nbsp;like<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;something&nbsp;I&nbsp;want&nbsp;to&nbsp;do&nbsp;to&nbsp;my&nbsp;friends&nbsp;and&nbsp;family&nbsp;(always&nbsp;a&nbsp;good<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;criterion&nbsp;for&nbsp;things&nbsp;you'd&nbsp;like&nbsp;to&nbsp;do&nbsp;to&nbsp;users).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;What&nbsp;I&nbsp;meant&nbsp;is&nbsp;to&nbsp;try&nbsp;to&nbsp;get&nbsp;the&nbsp;server&nbsp;systems&nbsp;on&nbsp;board&nbsp;to&nbsp;fix&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;issue,&nbsp;including&nbsp;in&nbsp;the&nbsp;long-term.&nbsp;I&nbsp;appreciate&nbsp;you&nbsp;all&nbsp;being<br>
&nbsp;&nbsp;&nbsp;&nbsp;admirably&nbsp;practical&nbsp;champions&nbsp;of&nbsp;present-day&nbsp;compatibility,&nbsp;though<br>
&nbsp;&nbsp;&nbsp;&nbsp;I'd&nbsp;hope&nbsp;there&nbsp;is&nbsp;a&nbsp;vision&nbsp;to&nbsp;make&nbsp;things&nbsp;work&nbsp;better&nbsp;for&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;future,&nbsp;even&nbsp;if&nbsp;there&nbsp;will&nbsp;be&nbsp;some&nbsp;inevitable&nbsp;growing&nbsp;pains&nbsp;for&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;subset&nbsp;of&nbsp;users&nbsp;(as&nbsp;the&nbsp;lack&nbsp;of&nbsp;standardization&nbsp;no&nbsp;doubt&nbsp;creates<br>
&nbsp;&nbsp;&nbsp;&nbsp;pains&nbsp;for&nbsp;another&nbsp;subset&nbsp;as&nbsp;it&nbsp;is).&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Brett&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
