<tt>
I&nbsp;don&amp;#39;t&nbsp;think&nbsp;there&nbsp;is consensus at&nbsp;Google&nbsp;yet.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;m&nbsp;not&nbsp;saying&nbsp;that&nbsp;UAs&nbsp;shouldn&amp;#39;t&nbsp;provide&nbsp;file-like&nbsp;lifetime&nbsp;semantics&nbsp;for&nbsp;storage.&nbsp;I&amp;#39;m&nbsp;just&nbsp;saying&nbsp;the&nbsp;user&nbsp;should&nbsp;decide,&nbsp;not&nbsp;the&nbsp;web&nbsp;page.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Here&amp;#39;s&nbsp;one&nbsp;way&nbsp;such&nbsp;a&nbsp;thing&nbsp;could&nbsp;be&nbsp;achieved:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;lt;input&nbsp;type=&amp;quot;storage&amp;quot;&nbsp;src=&amp;quot;button.png&amp;quot;&nbsp;quota=&amp;quot;20GB&amp;quot;&nbsp;/&amp;gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;the&nbsp;user&nbsp;clicks&nbsp;the&nbsp;button&nbsp;they&nbsp;see&nbsp;a&nbsp;dialog&nbsp;that&nbsp;&lt;a&nbsp;href=&quot;http://mail.google.com&quot;&gt;mail.google.com&lt;/a&gt;&nbsp;would&nbsp;like&nbsp;to&nbsp;use&nbsp;20GB&nbsp;of&nbsp;storage.&nbsp;You&nbsp;have&nbsp;50GB&nbsp;of&nbsp;free&nbsp;space.&nbsp;[Yes]&nbsp;[No].&nbsp;Script&nbsp;can&amp;#39;t&nbsp;cause&nbsp;the&nbsp;dialog&nbsp;to&nbsp;appear,&nbsp;only&nbsp;a&nbsp;user&nbsp;action.&nbsp;There&nbsp;would&nbsp;also&nbsp;be&nbsp;some&nbsp;affordance&nbsp;in&nbsp;that&nbsp;dialog&nbsp;to&nbsp;allow&nbsp;the&nbsp;user&nbsp;to&nbsp;manage persistent storage&nbsp;from&nbsp;other&nbsp;domains.&nbsp;A&nbsp;small&nbsp;&amp;quot;Other&nbsp;sites&nbsp;are&nbsp;using&nbsp;2GB&nbsp;of&nbsp;storage&amp;quot;&nbsp;link&nbsp;perhaps.&nbsp;AppCache,&nbsp;LocalStrorage,&nbsp;and&nbsp;all&nbsp;other&nbsp;persistent&nbsp;bits&nbsp;for&nbsp;that&nbsp;domain&nbsp;would&nbsp;live&nbsp;within&nbsp;this&nbsp;quota.&nbsp;UAs&nbsp;would&nbsp;take&nbsp;this&nbsp;user&nbsp;action&nbsp;as&nbsp;a&nbsp;strong&nbsp;signal&nbsp;that&nbsp;the&nbsp;data&nbsp;is&nbsp;valuable&nbsp;and&nbsp;would&nbsp;act&nbsp;accordingly.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;web&nbsp;sites&nbsp;use&nbsp;LocalStorage,&nbsp;AppCache,&nbsp;et.&nbsp;al.&nbsp;without&nbsp;the&nbsp;user&nbsp;clicking&nbsp;on&nbsp;and&nbsp;accepting&nbsp;a&nbsp;storage&nbsp;input&nbsp;button,&nbsp;then&nbsp;the&nbsp;UA&nbsp;would&nbsp;be&nbsp;free&nbsp;to&nbsp;garbage&nbsp;collect&nbsp;as&nbsp;it&nbsp;sees&nbsp;fit.&nbsp;Good&nbsp;UAs&nbsp;would&nbsp;do&nbsp;a&nbsp;good&nbsp;job&nbsp;of&nbsp;not&nbsp;throwing&nbsp;away&nbsp;things&nbsp;that&nbsp;are&nbsp;important&nbsp;to&nbsp;the&nbsp;user,&nbsp;just&nbsp;as&nbsp;they&nbsp;do&nbsp;today&nbsp;with&nbsp;cookies.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Linus&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Aug&nbsp;27,&nbsp;2009&nbsp;at&nbsp;9:42&nbsp;AM,&nbsp;Brady&nbsp;Eidson&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:beidson@apple.com&quot;&gt;beidson@apple.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Aug&nbsp;27,&nbsp;2009,&nbsp;at&nbsp;7:47&nbsp;AM,&nbsp;Maciej&nbsp;Stachowiak&nbsp;wrote:&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Aug&nbsp;26,&nbsp;2009,&nbsp;at&nbsp;4:51&nbsp;PM,&nbsp;Jens&nbsp;Alfke&nbsp;wrote:&lt;/div&gt;<br>
&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;To&nbsp;repeat&nbsp;what&nbsp;I&nbsp;said&nbsp;up&nbsp;above: &lt;b&gt;Maybe&nbsp;the&nbsp;local&nbsp;storage&nbsp;API&nbsp;needs&nbsp;a&nbsp;way&nbsp;to&nbsp;distinguish&nbsp;between&nbsp;cached&nbsp;data&nbsp;that&nbsp;can&nbsp;be&nbsp;silently&nbsp;thrown&nbsp;away,&nbsp;and&nbsp;important&nbsp;data&nbsp;that&nbsp;can&amp;#39;t.&lt;/b&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;That&nbsp;makes&nbsp;sense&nbsp;to&nbsp;me.&nbsp;There&nbsp;might&nbsp;even&nbsp;be&nbsp;more&nbsp;than&nbsp;two&nbsp;categories:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;Cached&nbsp;for&nbsp;convenience&nbsp;-&nbsp;discarding&nbsp;this&nbsp;will&nbsp;affect&nbsp;performance&nbsp;but&nbsp;not&nbsp;functionality.&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;Useful&nbsp;for&nbsp;offline&nbsp;use&nbsp;-&nbsp;discarding&nbsp;this&nbsp;will&nbsp;prevent&nbsp;some&nbsp;data&nbsp;from&nbsp;being&nbsp;accessed&nbsp;when&nbsp;offline.&lt;/div&gt;&lt;div&gt;-&nbsp;Critical&nbsp;for&nbsp;offline&nbsp;use&nbsp;-&nbsp;discarding&nbsp;this&nbsp;will&nbsp;prevent&nbsp;the&nbsp;app&nbsp;storing&nbsp;this&nbsp;data&nbsp;from&nbsp;working&nbsp;offline&nbsp;at&nbsp;all.&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;Critical&nbsp;user&nbsp;data&nbsp;-&nbsp;discarding&nbsp;this&nbsp;will&nbsp;lead&nbsp;to&nbsp;permanent&nbsp;user&nbsp;data&nbsp;loss.&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;agree&nbsp;with&nbsp;Maciej&amp;#39;s&nbsp;4-level&nbsp;distinction&nbsp;on&nbsp;philosophical&nbsp;grounds,&nbsp;and&nbsp;think&nbsp;it&amp;#39;s&nbsp;a&nbsp;fine&nbsp;list&nbsp;of&nbsp;use&nbsp;cases.&nbsp; &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;I&nbsp;think&nbsp;there&amp;#39;s&nbsp;been&nbsp;a&nbsp;reasonable&nbsp;amount&nbsp;of&nbsp;agreement&nbsp;on&nbsp;this&nbsp;list&nbsp;that&nbsp;it&nbsp;is&nbsp;unnecessarily&nbsp;fine&nbsp;grained.&nbsp; A&nbsp;developer&nbsp;who&nbsp;is&nbsp;consciously&nbsp;choosing&nbsp;a&nbsp;cache&nbsp;will&nbsp;always&nbsp;choose&nbsp;the&nbsp;&amp;quot;most&nbsp;aggressive&amp;quot;&nbsp;cache,&nbsp;and&nbsp;a&nbsp;developer&nbsp;who&nbsp;is&nbsp;consciously&nbsp;choose&nbsp;file&nbsp;storage&nbsp;will&nbsp;always&nbsp;choose&nbsp;the&nbsp;&amp;quot;most&nbsp;sacred&amp;quot;&nbsp;file&nbsp;storage.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;we&amp;#39;re&nbsp;left&nbsp;with&nbsp;the&nbsp;&amp;quot;cache&amp;quot;&nbsp;vs&nbsp;&amp;quot;file&amp;quot;&nbsp;distinction&nbsp;once&nbsp;more.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;All&nbsp;browser&nbsp;vendors&nbsp;who&nbsp;have&nbsp;implemented&nbsp;LocalStorage&nbsp;are&nbsp;willing&nbsp;to&nbsp;implement&nbsp;the&nbsp;&amp;quot;cache&amp;quot;,&nbsp;because&nbsp;what&nbsp;they&amp;#39;ve&nbsp;done&nbsp;either&nbsp;meets&nbsp;or&nbsp;exceeds&nbsp;the&nbsp;cache&nbsp;use-case.&nbsp; The&nbsp;remaining&nbsp;question&nbsp;is&nbsp;the&nbsp;file&nbsp;storage.&nbsp; How&nbsp;do&nbsp;we&nbsp;implement&nbsp;this&nbsp;distinction?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;don&amp;#39;t&nbsp;like&nbsp;the&nbsp;idea&nbsp;of&nbsp;having&nbsp;&amp;quot;different&nbsp;modes&amp;quot;&nbsp;on&nbsp;LocalStorage.&nbsp; How&nbsp;would&nbsp;the&nbsp;&amp;quot;different&nbsp;mode&amp;quot;&nbsp;be&nbsp;triggered?&nbsp; How&nbsp;would&nbsp;it&nbsp;be&nbsp;managed?&nbsp; What&nbsp;happens&nbsp;when&nbsp;two&nbsp;applications&nbsp;from&nbsp;the&nbsp;same&nbsp;security&nbsp;origin&nbsp;try&nbsp;to&nbsp;mix&nbsp;modes?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;quot;Different&nbsp;modes&amp;quot;&nbsp;just makes&nbsp;what&nbsp;is&nbsp;already&nbsp;a&nbsp;dirt&nbsp;simple&nbsp;API&nbsp;more&nbsp;complex, makes&nbsp;implementation&nbsp;more&nbsp;difficult&nbsp;for&nbsp;browser&nbsp;vendors,&nbsp;and&nbsp;confuses&nbsp;web&nbsp;developers.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;I&nbsp;resubmit&nbsp;my&nbsp;three-Storage-object&nbsp;solution:&nbsp; SessionStorage, CacheStorage,&nbsp;and FileStorage.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;From&nbsp;this&nbsp;discussion,&nbsp;it&nbsp;appears&nbsp;that&nbsp;FileStorage&nbsp;is&nbsp;something&nbsp;Google&nbsp;might&nbsp;not&nbsp;be&nbsp;willing&nbsp;to&nbsp;implement.&nbsp; That&amp;#39;s&nbsp;fine!&nbsp; They&nbsp;can&nbsp;have&nbsp;the&nbsp;object&nbsp;available&nbsp;to&nbsp;scripts&nbsp;but&nbsp;just&nbsp;give&nbsp;it&nbsp;a&nbsp;zero&nbsp;quota.&nbsp; To&nbsp;be&nbsp;more&nbsp;friendly&nbsp;to&nbsp;developers&nbsp;and&nbsp;not&nbsp;force&nbsp;them&nbsp;into&nbsp;checking&nbsp;abilities&nbsp;by&nbsp;catching&nbsp;exceptions&nbsp;we&nbsp;could&nbsp;add&nbsp;one&nbsp;more&nbsp;property&nbsp;to&nbsp;the&nbsp;storage&nbsp;interface&nbsp;so&nbsp;they&nbsp;can&nbsp;check&nbsp;ahead&nbsp;of&nbsp;time&nbsp;whether&nbsp;their&nbsp;attempt&nbsp;to&nbsp;store&nbsp;data&nbsp;will&nbsp;fail.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Web&nbsp;developers&nbsp;would&nbsp;then&nbsp;have&nbsp;the&nbsp;ability&nbsp;to&nbsp;make&nbsp;the&nbsp;conscious&nbsp;decision&nbsp;of&nbsp;&amp;quot;Is&nbsp;a&nbsp;cache&nbsp;good&nbsp;enough?&amp;quot;&nbsp;and&nbsp;fallback&nbsp;to&nbsp;CacheStorage,&nbsp;or&nbsp;decide&nbsp;&amp;quot;No,&nbsp;I&nbsp;really&nbsp;need&nbsp;persistent&nbsp;data&amp;quot;&nbsp;and&nbsp;fallback&nbsp;to&nbsp;Flash&nbsp;or&nbsp;some&nbsp;other&nbsp;plug-in.&nbsp; The&nbsp;interfaces&nbsp;are&nbsp;all&nbsp;so&nbsp;similar&nbsp;as&nbsp;to&nbsp;be&nbsp;pretty&nbsp;painless&nbsp;for&nbsp;the&nbsp;developer.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thoughts?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;div&gt;~Brady&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
