<tt>
On&nbsp;Oct&nbsp;12,&nbsp;2007&nbsp;12:53&nbsp;PM,&nbsp;Ian&nbsp;Hickson&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:ian@hixie.ch&quot;&gt;ian@hixie.ch&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
The&nbsp;problem&nbsp;with&nbsp;isLocallyAvailable()&nbsp;--&nbsp;as&nbsp;noted&nbsp;by&nbsp;Maciej&nbsp;on&nbsp;IRC&nbsp;--&nbsp;is&lt;br&gt;mostly&nbsp;one&nbsp;of&nbsp;race&nbsp;conditions.&nbsp;What&nbsp;if&nbsp;the&nbsp;resource&nbsp;was&nbsp;removed&nbsp;in&nbsp;between&lt;br&gt;you&nbsp;asking&nbsp;for&nbsp;it&nbsp;and&nbsp;using&nbsp;it?&nbsp;Or&nbsp;added?&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;<br>
In&nbsp;the&nbsp;contexts&nbsp;for&nbsp;which&nbsp;it&nbsp;was&nbsp;requested,&nbsp;race&nbsp;conditions&nbsp;are&nbsp;tolerable.&nbsp;For&nbsp;example&nbsp;in&nbsp;a&nbsp;mapping&nbsp;application,&nbsp;if&nbsp;you&nbsp;choose&nbsp;the&nbsp;wrong&nbsp;tile&nbsp;as&nbsp;a&nbsp;template&nbsp;for&nbsp;zooming,&nbsp;then&nbsp;you&nbsp;get&nbsp;an&nbsp;ugly&nbsp;transition&nbsp;but&nbsp;that&#39;s&nbsp;all.&nbsp;Or&nbsp;you&nbsp;might&nbsp;have&nbsp;a&nbsp;button&nbsp;that&nbsp;opens&nbsp;another&nbsp;offline&nbsp;application,&nbsp;and&nbsp;you&nbsp;want&nbsp;to&nbsp;disable&nbsp;the&nbsp;button&nbsp;if&nbsp;you&nbsp;think&nbsp;that&nbsp;application&nbsp;is&nbsp;not&nbsp;available;&nbsp;here&nbsp;a&nbsp;race&nbsp;condition&nbsp;would&nbsp;probably&nbsp;mean&nbsp;that&nbsp;the&nbsp;button&nbsp;is&nbsp;enabled&nbsp;but&nbsp;pressing&nbsp;it&nbsp;gives&nbsp;you&nbsp;an&nbsp;error&nbsp;page.&nbsp;In&nbsp;these&nbsp;cases&nbsp;isLocallyAvailable&nbsp;can&nbsp;be&nbsp;a&nbsp;useful&nbsp;hint&nbsp;even&nbsp;if&nbsp;it&#39;s&nbsp;occasionally&nbsp;wrong.<br>
&lt;br&gt;&lt;blockquote&gt;&nbsp;Or&nbsp;what&nbsp;if&nbsp;you&nbsp;go&nbsp;offline&nbsp;(thus&lt;br&gt;changing&nbsp;the&nbsp;rules)&nbsp;in&nbsp;between&nbsp;checking&nbsp;for&nbsp;and&nbsp;using&nbsp;the&nbsp;resource?&lt;br&gt;&lt;/blockquote&gt;That&#39;s&nbsp;why&nbsp;we&nbsp;have&nbsp;the&nbsp;&#39;whenOffline&#39;&nbsp;parameter.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
I&#39;m&nbsp;going&nbsp;to&nbsp;punt&nbsp;on&nbsp;this&nbsp;for&nbsp;now,&nbsp;pending&nbsp;implementation&nbsp;and&nbsp;author&lt;br&gt;experience.&nbsp;I&#39;m&nbsp;certainly&nbsp;open&nbsp;to&nbsp;suggestions&nbsp;though.&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;That&#39;s&nbsp;fine.&lt;br&gt;&nbsp;&lt;br&gt;A&nbsp;race-free&nbsp;API&nbsp;seems&nbsp;difficult&nbsp;to&nbsp;design.&nbsp;Because&nbsp;loads&nbsp;are&nbsp;typically&nbsp;asynchronous,&nbsp;I&nbsp;doubt&nbsp;you&nbsp;can&nbsp;do&nbsp;much&nbsp;better&nbsp;than&nbsp;start&nbsp;a&nbsp;regular&nbsp;load,&nbsp;and&nbsp;set&nbsp;a&nbsp;timer&nbsp;to&nbsp;go&nbsp;off&nbsp;and&nbsp;cancel&nbsp;the&nbsp;load&nbsp;and&nbsp;take&nbsp;other&nbsp;action&nbsp;if&nbsp;the&nbsp;load&nbsp;doesn&#39;t&nbsp;complete&nbsp;&quot;fast&nbsp;enough&quot;.&nbsp;Overkill&nbsp;if&nbsp;all&nbsp;you&nbsp;want&nbsp;is&nbsp;the&nbsp;hint,&nbsp;and&nbsp;since&nbsp;authors&nbsp;can&nbsp;already&nbsp;do&nbsp;that&nbsp;but&nbsp;there&#39;s&nbsp;still&nbsp;demand&nbsp;for&nbsp;isLocallyAvailable,&nbsp;I&nbsp;suspect&nbsp;that&#39;s&nbsp;not&nbsp;really&nbsp;what&#39;s&nbsp;wanted.<br>
&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;Rob&lt;br&gt;--&nbsp;&lt;br&gt;&quot;Two&nbsp;men&nbsp;owed&nbsp;money&nbsp;to&nbsp;a&nbsp;certain&nbsp;moneylender.&nbsp;One&nbsp;owed&nbsp;him&nbsp;five&nbsp;hundred&nbsp;denarii,&nbsp;and&nbsp;the&nbsp;other&nbsp;fifty.&nbsp;Neither&nbsp;of&nbsp;them&nbsp;had&nbsp;the&nbsp;money&nbsp;to&nbsp;pay&nbsp;him&nbsp;back,&nbsp;so&nbsp;he&nbsp;canceled&nbsp;the&nbsp;debts&nbsp;of&nbsp;both.&nbsp;Now&nbsp;which&nbsp;of&nbsp;them&nbsp;will&nbsp;love&nbsp;him&nbsp;more?&quot;&nbsp;Simon&nbsp;replied,&nbsp;&quot;I&nbsp;suppose&nbsp;the&nbsp;one&nbsp;who&nbsp;had&nbsp;the&nbsp;bigger&nbsp;debt&nbsp;canceled.&quot;&nbsp;&quot;You&nbsp;have&nbsp;judged&nbsp;correctly,&quot;&nbsp;Jesus&nbsp;said.&nbsp;[Luke&nbsp;7:41-43]<br>

</tt>
