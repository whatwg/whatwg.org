<tt>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Jul&nbsp;26,&nbsp;2010&nbsp;at&nbsp;6:34&nbsp;PM,&nbsp;Ian&nbsp;Hickson&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:ian@hixie.ch&quot;&gt;ian@hixie.ch&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;br&gt;<br>
On&nbsp;Thu,&nbsp;20&nbsp;May&nbsp;2010,&nbsp;David&nbsp;Levin&nbsp;wrote:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Twice&nbsp;when&nbsp;this&nbsp;was&nbsp;brought&nbsp;up&nbsp;on&nbsp;whatwg&nbsp;developers&nbsp;out&nbsp;of&nbsp;the&nbsp;blue&lt;br&gt;<br>
&gt;&nbsp;mentioned&nbsp;that&nbsp;the&nbsp;image&nbsp;resizing&nbsp;was&nbsp;a&nbsp;useful&nbsp;thing&nbsp;for&nbsp;them&nbsp;(once&nbsp;early&nbsp;in&lt;br&gt;<br>
&gt;&nbsp;this&nbsp;thread&nbsp;and&nbsp;once&nbsp;long&nbsp;ago&nbsp;when&nbsp;canvas&nbsp;in&nbsp;workers&nbsp;was&nbsp;brought&nbsp;up).&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;In&nbsp;addition&nbsp;to&nbsp;that&nbsp;anecdotal&nbsp;evidence,&nbsp;here&nbsp;are&nbsp;several&nbsp;other&nbsp;places&nbsp;this&lt;br&gt;<br>
&gt;&nbsp;comes&nbsp;up&nbsp;which&nbsp;I&nbsp;can&nbsp;list&nbsp;quickly:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;For&nbsp;example,&nbsp;take&nbsp;Facebook.&nbsp;If&nbsp;I&nbsp;upload&nbsp;a&nbsp;huge&nbsp;photo&nbsp;to&nbsp;Facebook,&nbsp;it&lt;br&gt;<br>
&gt;&nbsp;seems&nbsp;to&nbsp;upload&nbsp;the&nbsp;whole&nbsp;thing&nbsp;and&nbsp;then&nbsp;resizes&nbsp;it&nbsp;on&nbsp;the&nbsp;server&nbsp;(down&lt;br&gt;<br>
&gt;&nbsp;to&nbsp;something&nbsp;much&nbsp;smaller&nbsp;than&nbsp;1600&nbsp;X&nbsp;1200).&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;This&nbsp;is&nbsp;similar&nbsp;for&nbsp;other&nbsp;social&nbsp;sites&nbsp;like&nbsp;dating&nbsp;sites&nbsp;or&nbsp;Orkut&nbsp;that&lt;br&gt;<br>
&gt;&nbsp;only&nbsp;allow&nbsp;a&nbsp;maximum&nbsp;size&nbsp;of&nbsp;photo.&nbsp;Typically,&nbsp;either&nbsp;they&nbsp;force&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;user&nbsp;to&nbsp;resize&nbsp;the&nbsp;image&nbsp;(which&nbsp;is&nbsp;a&nbsp;horrible&nbsp;experience)&nbsp;or&nbsp;they&nbsp;resize&lt;br&gt;<br>
&gt;&nbsp;the&nbsp;image&nbsp;on&nbsp;the&nbsp;client&nbsp;using&nbsp;gears&nbsp;(with&nbsp;workers&nbsp;and&nbsp;canvas)&nbsp;or&nbsp;flash,&lt;br&gt;<br>
&gt;&nbsp;etc.&nbsp;(or&nbsp;canvas&nbsp;but&nbsp;for&nbsp;more&nbsp;than&nbsp;one&nbsp;browser&nbsp;that&nbsp;may&nbsp;hang&nbsp;the&nbsp;UI).&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Similarly&nbsp;Gmail&nbsp;now&nbsp;allows&nbsp;dragging&nbsp;images&nbsp;into&nbsp;email&lt;br&gt;<br>
&gt;&nbsp;(&lt;a&nbsp;href=&quot;http://gmailblog.blogspot.com/2010/05/drag-images-into-messages.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://gmailblog.blogspot.com/2010/05/drag-images-into-messages.html&lt;/a&gt;).&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;full&nbsp;resolution&nbsp;image&nbsp;isn&#39;t&nbsp;necessary&nbsp;for&nbsp;this.&nbsp;It&nbsp;would&nbsp;be&nbsp;better&lt;br&gt;<br>
&gt;&nbsp;to&nbsp;have&nbsp;a&nbsp;resized&nbsp;image.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Something&nbsp;like&nbsp;Google&nbsp;Docs&nbsp;or&nbsp;Wave&nbsp;which&nbsp;show&nbsp;real&nbsp;time&nbsp;participation&lt;br&gt;<br>
&gt;&nbsp;of&nbsp;other&nbsp;people&nbsp;typing&nbsp;would&nbsp;benefit&nbsp;from&nbsp;getting&nbsp;a&nbsp;thumbnail&nbsp;of&nbsp;an&lt;br&gt;<br>
&gt;&nbsp;inserted&nbsp;image&nbsp;to&nbsp;other&nbsp;people&nbsp;in&nbsp;the&nbsp;conversation.&nbsp;(One&nbsp;could&nbsp;envision&lt;br&gt;<br>
&gt;&nbsp;this&nbsp;for&nbsp;any&nbsp;real&nbsp;time&nbsp;chat/communication&nbsp;website.)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;When&nbsp;you&nbsp;upload&nbsp;photos&nbsp;to&nbsp;picasaweb&nbsp;from&nbsp;the&nbsp;Picasa&nbsp;client,&nbsp;it&nbsp;offers&lt;br&gt;<br>
&gt;&nbsp;to&nbsp;resize&nbsp;them&nbsp;to&nbsp;1600X1200&nbsp;before&nbsp;uploading&nbsp;them.&nbsp;Also,&nbsp;it&nbsp;offers&nbsp;an&lt;br&gt;<br>
&gt;&nbsp;option&nbsp;to&nbsp;upload&nbsp;a&nbsp;thumbnail&nbsp;first&nbsp;before&nbsp;uploading&nbsp;the&nbsp;bigger&nbsp;picture,&lt;br&gt;<br>
&gt;&nbsp;so&nbsp;the&nbsp;album&nbsp;can&nbsp;appear&nbsp;even&nbsp;quicker&nbsp;(just&nbsp;at&nbsp;a&nbsp;really&nbsp;low&nbsp;resolution).&lt;br&gt;<br>
&gt;&nbsp;Ideally,&nbsp;a&nbsp;website&nbsp;could&nbsp;do&nbsp;something&nbsp;similar.&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Tue,&nbsp;25&nbsp;May&nbsp;2010,&nbsp;David&nbsp;Levin&nbsp;wrote:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://webkit.org/demos/canvas-perf/canvas.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://webkit.org/demos/canvas-perf/canvas.html&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Firefox&nbsp;3.7a4&nbsp;(no&nbsp;D2D)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Direct&nbsp;image&nbsp;copy:&nbsp;39ms&lt;br&gt;<br>
&gt;&nbsp;Indirect&nbsp;copy&nbsp;with&nbsp;(via&nbsp;ImageData):&nbsp;160ms&lt;br&gt;<br>
&gt;&nbsp;Copy&nbsp;with&nbsp;2x&nbsp;scale:&nbsp;646.5ms&lt;br&gt;<br>
&gt;&nbsp;Copy&nbsp;with&nbsp;0.5x&nbsp;scale:&nbsp;42.5ms&lt;br&gt;<br>
&gt;&nbsp;Copy&nbsp;with&nbsp;rotate:&nbsp;358ms&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Firefox&nbsp;3.7a4&nbsp;(D2D)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Direct&nbsp;image&nbsp;copy:&nbsp;115ms&lt;br&gt;<br>
&gt;&nbsp;Indirect&nbsp;copy&nbsp;with&nbsp;(via&nbsp;ImageData):&nbsp;365.5ms&lt;br&gt;<br>
&gt;&nbsp;Copy&nbsp;with&nbsp;2x&nbsp;scale:&nbsp;246ms&lt;br&gt;<br>
&gt;&nbsp;Copy&nbsp;with&nbsp;0.5x&nbsp;scale:&nbsp;48.5ms&lt;br&gt;<br>
&gt;&nbsp;Copy&nbsp;with&nbsp;rotate:&nbsp;100.5ms&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Chrome&nbsp;4.1.249.1064&nbsp;(45376)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Direct&nbsp;image&nbsp;copy:&nbsp;32.5ms&lt;br&gt;<br>
&gt;&nbsp;Indirect&nbsp;copy&nbsp;with&nbsp;(via&nbsp;ImageData):&nbsp;207.5ms&lt;br&gt;<br>
&gt;&nbsp;Copy&nbsp;with&nbsp;2x&nbsp;scale:&nbsp;378.5ms&lt;br&gt;<br>
&gt;&nbsp;Copy&nbsp;with&nbsp;0.5x&nbsp;scale:&nbsp;27.5ms&lt;br&gt;<br>
&gt;&nbsp;Copy&nbsp;with&nbsp;rotate:&nbsp;367ms&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;While&nbsp;the&nbsp;GPU&nbsp;does&nbsp;help&nbsp;in&nbsp;some&nbsp;scenarios,&nbsp;unfortunately&nbsp;it&nbsp;must&nbsp;still&lt;br&gt;<br>
&gt;&nbsp;take&nbsp;some&nbsp;time&nbsp;to&nbsp;do&nbsp;its&nbsp;work,&nbsp;so&nbsp;it&nbsp;doesn&#39;t&nbsp;enable&nbsp;us&nbsp;to&nbsp;do&nbsp;sync&nbsp;apis&lt;br&gt;<br>
&gt;&nbsp;that&nbsp;don&#39;t&nbsp;hang&nbsp;the&nbsp;UI.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;logical&nbsp;conclusion&nbsp;is&nbsp;that&nbsp;we&nbsp;should&nbsp;make&nbsp;one&nbsp;of&nbsp;the&nbsp;following&nbsp;choices:&lt;br&gt;<br>
&lt;br&gt;<br>
 1.&nbsp;Provide&nbsp;dedicated&nbsp;asynchronous&nbsp;APIs&nbsp;for&nbsp;this&nbsp;use&nbsp;case.&lt;br&gt;<br>
&nbsp; &nbsp; For&nbsp;example,&nbsp;a&nbsp;method&nbsp;to&nbsp;go&nbsp;from&nbsp;an&nbsp;image&nbsp;URL&nbsp;to&nbsp;a&nbsp;Blob&nbsp;representing&lt;br&gt;<br>
&nbsp; &nbsp; that&nbsp;image&nbsp;at&nbsp;a&nbsp;different&nbsp;size&nbsp;and/or&nbsp;rotation.&lt;br&gt;<br>
&lt;br&gt;<br>
 2.&nbsp;Provide&nbsp;generic&nbsp;APIs&nbsp;for&nbsp;that&nbsp;can&nbsp;handle&nbsp;this&nbsp;use&nbsp;case&nbsp;amongst&nbsp;others.&lt;br&gt;<br>
&nbsp; &nbsp; For&nbsp;example,&nbsp;porting&nbsp;the&nbsp;2D&nbsp;canvas&nbsp;API&nbsp;to&nbsp;workers.&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;d&nbsp;like&nbsp;to&nbsp;add&nbsp;I&nbsp;think&nbsp;there&#39;s&nbsp;a&nbsp;lot&nbsp;more&nbsp;enthusiasm&nbsp;for&nbsp;#2 &lt;/div&gt;&lt;div&gt;because&nbsp;there&nbsp;are&nbsp;many&nbsp;other&nbsp;situations&nbsp;that&nbsp;need&nbsp;to&nbsp;do&lt;/div&gt;&lt;div&gt;CPU&nbsp;intensive&nbsp;computing&nbsp;without&nbsp;bogging&nbsp;down&nbsp;the &lt;/div&gt;<br>
&lt;div&gt;main&nbsp;browser&nbsp;thread.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;not&nbsp;knocking&nbsp;#1.&nbsp;I&#39;m&nbsp;just&nbsp;suggesting&nbsp;that&nbsp;there&nbsp;are&lt;/div&gt;&lt;div&gt;more&nbsp;champions&nbsp;for&nbsp;#2&nbsp;since&nbsp;it&nbsp;solves&nbsp;problems&nbsp;for &lt;/div&gt;&lt;div&gt;more&nbsp;people.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
Any&nbsp;pointers&nbsp;to&nbsp;why&nbsp;this&nbsp;hasn&#39;t&nbsp;happened&nbsp;already?&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;guessing&nbsp;there&nbsp;have&nbsp;already&nbsp;been&nbsp;giant&nbsp;debates&lt;/div&gt;&lt;div&gt;on&nbsp;how&nbsp;to&nbsp;share&nbsp;data&nbsp;between&nbsp;workers&nbsp;and&nbsp;the &lt;/div&gt;&lt;div&gt;main&nbsp;thread&nbsp;and&nbsp;or&nbsp;how&nbsp;to&nbsp;expose&nbsp;more&nbsp;services&lt;/div&gt;<br>
&lt;div&gt;to&nbsp;workers.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
 3.&nbsp;Not&nbsp;address&nbsp;this&nbsp;use&nbsp;case&nbsp;(yet).&lt;br&gt;<br>
&lt;br&gt;<br>
For&nbsp;#1,&nbsp;my&nbsp;preference&nbsp;would&nbsp;be&nbsp;to&nbsp;add&nbsp;two&nbsp;methods&nbsp;to&nbsp;&lt;img&gt;,&nbsp;one&nbsp;to&nbsp;make&lt;br&gt;<br>
&lt;img&gt;&nbsp;resize&nbsp;and&nbsp;rotate&nbsp;the&nbsp;image&nbsp;and&nbsp;then&nbsp;fire&nbsp;&#39;load&#39;&nbsp;again,&nbsp;and&nbsp;one&nbsp;to&lt;br&gt;<br>
obtain&nbsp;the&nbsp;current&nbsp;image&nbsp;as&nbsp;a&nbsp;Blob,&nbsp;much&nbsp;like&nbsp;toDataURL()&nbsp;on&nbsp;&lt;canvas&gt;&lt;br&gt;<br>
(where&nbsp;a&nbsp;similar&nbsp;toBlob()&nbsp;would&nbsp;also&nbsp;be&nbsp;useful).&lt;br&gt;<br>
&lt;br&gt;<br>
For&nbsp;#2,&nbsp;we&#39;d&nbsp;need&nbsp;to&nbsp;provide&nbsp;an&nbsp;Image&nbsp;object&nbsp;(a&nbsp;non-DOM&nbsp;version&nbsp;of&lt;br&gt;<br>
HTMLImageElement)&nbsp;and&nbsp;a&nbsp;Canvas&nbsp;object&nbsp;(a&nbsp;non-DOM&nbsp;version&nbsp;of&lt;br&gt;<br>
HTMLCanvasElement)&nbsp;in&nbsp;workers.&lt;br&gt;<br>
&lt;br&gt;<br>
But&nbsp;unless&nbsp;we&nbsp;have&nbsp;a&nbsp;critical&nbsp;mass&nbsp;of&nbsp;browser&nbsp;vendors&nbsp;agreed&nbsp;on&nbsp;one&nbsp;of&lt;br&gt;<br>
these&nbsp;approaches,&nbsp;we&nbsp;have&nbsp;to&nbsp;default&nbsp;to&nbsp;#3.&nbsp;Currently&nbsp;it&nbsp;seems&nbsp;only&nbsp;the&lt;br&gt;<br>
Chrome&nbsp;team&nbsp;is&nbsp;especially&nbsp;interested&nbsp;in&nbsp;either&nbsp;#1&nbsp;or&nbsp;#2.&lt;br&gt;<br>
&lt;br&gt;<br>
My&nbsp;recommendation,&nbsp;in&nbsp;the&nbsp;absence&nbsp;of&nbsp;enthusiasm&nbsp;from&nbsp;other&nbsp;browser&lt;br&gt;<br>
vendors,&nbsp;would&nbsp;be&nbsp;for&nbsp;the&nbsp;Chrome&nbsp;team&nbsp;to&nbsp;experiment&nbsp;with&nbsp;#1&nbsp;or&nbsp;#2.&nbsp;If&nbsp;I&lt;br&gt;<br>
have&nbsp;misread&nbsp;the&nbsp;current&nbsp;situation&nbsp;and&nbsp;there&nbsp;is&nbsp;a&nbsp;willingness&nbsp;to&nbsp;implement&lt;br&gt;<br>
#1&nbsp;or&nbsp;#2&nbsp;in&nbsp;more&nbsp;browsers,&nbsp;then&nbsp;please&nbsp;let&nbsp;me&nbsp;know.&nbsp;I&#39;d&nbsp;be&nbsp;happy&nbsp;to&nbsp;spec&lt;br&gt;<br>
one&nbsp;of&nbsp;those&nbsp;options.&nbsp;(#1&nbsp;would&nbsp;be&nbsp;easy&nbsp;to&nbsp;do;&nbsp;#2&nbsp;might&nbsp;take&nbsp;longer,&nbsp;since&lt;br&gt;<br>
it&nbsp;is&nbsp;significantly&nbsp;more&nbsp;work.)&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>
Ian&nbsp;Hickson&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;U+1047E&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )\._.,--....,&#39;``.&nbsp; &nbsp; fL&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://ln.hixie.ch/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://ln.hixie.ch/&lt;/a&gt;&nbsp; &nbsp; &nbsp; &nbsp;U+263A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /,&nbsp; &nbsp;_..&nbsp;\&nbsp; &nbsp;_\&nbsp; ;`._&nbsp;,.&lt;br&gt;<br>
Things&nbsp;that&nbsp;are&nbsp;impossible&nbsp;just&nbsp;take&nbsp;longer.&nbsp; &nbsp;`._.-(,_..&#39;--(,_..&#39;`-.;.&#39;&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
