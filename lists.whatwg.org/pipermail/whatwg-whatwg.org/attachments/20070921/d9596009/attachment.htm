<tt>
On&nbsp;9/20/07,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Maciej&nbsp;Stachowiak&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mjs@apple.com&quot;&gt;mjs@apple.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
2)&nbsp;Many&nbsp;offline&nbsp;web&nbsp;apps&nbsp;will&nbsp;let&nbsp;you&nbsp;want&nbsp;to&nbsp;make&nbsp;changes,&nbsp;including&lt;br&gt;not&nbsp;just&nbsp;changing&nbsp;existing&nbsp;items,&nbsp;but&nbsp;also&nbsp;creating&nbsp;new&nbsp;items.&nbsp;To&nbsp;do&lt;br&gt;this,&nbsp;at&nbsp;minimum&nbsp;there&nbsp;needs&nbsp;to&nbsp;be&nbsp;an&nbsp;API&nbsp;to&nbsp;inject&nbsp;a&nbsp;new&nbsp;resource&lt;br&gt;into&nbsp;the&nbsp;offline&nbsp;cache&nbsp;programatically,&nbsp;with&nbsp;the&nbsp;data&nbsp;explicitly<br>
&lt;br&gt;provided.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;This&nbsp;violates&nbsp;the&nbsp;principle&nbsp;that&nbsp;the&nbsp;offline&nbsp;cache&nbsp;is&nbsp;a&nbsp;cache.&nbsp;It&nbsp;creates&nbsp;the&nbsp;issue&nbsp;of&nbsp;how&nbsp;to&nbsp;reconcile&nbsp;server&nbsp;pages&nbsp;with&nbsp;client-stored&nbsp;pages.&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
6)&nbsp;It&amp;#39;s&nbsp;potentially&nbsp;costly&nbsp;to&nbsp;download&nbsp;data&nbsp;mulltiple&nbsp;times,&nbsp;so&nbsp;if&nbsp;you&lt;br&gt;pull&nbsp;the&nbsp;remote&nbsp;data&nbsp;into&nbsp;a&nbsp;local&nbsp;database,&nbsp;you&nbsp;won&amp;#39;t&nbsp;also&nbsp;want&nbsp;to&lt;br&gt;pull&nbsp;every&nbsp;page&nbsp;reflecting&nbsp;that&nbsp;data,&nbsp;instead&nbsp;you&nbsp;will&nbsp;want&nbsp;to&lt;br&gt;generate&nbsp;templates&nbsp;client-side&nbsp;and&nbsp;insert&nbsp;them&nbsp;into&nbsp;the&nbsp;offline&nbsp;cache.<br>
&lt;br&gt;However,&nbsp;it&nbsp;seems&nbsp;like&nbsp;a&nbsp;relatively&nbsp;small&nbsp;step&nbsp;from&nbsp;there&nbsp;to&nbsp;having&nbsp;a&lt;br&gt;single&nbsp;fallback&nbsp;page&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;all&nbsp;URIs&nbsp;that&nbsp;are&nbsp;part&nbsp;of&nbsp;the&nbsp;app&lt;br&gt;but&nbsp;haven&amp;#39;t&nbsp;gotten&nbsp;downloaded&nbsp;in&nbsp;the&nbsp;course&nbsp;of&nbsp;normal&nbsp;use.&nbsp;And&nbsp;this<br>
&lt;br&gt;would&nbsp;be&nbsp;a&nbsp;huge&nbsp;optimization,&nbsp;since&nbsp;it&nbsp;would&nbsp;save&nbsp;the&nbsp;client&nbsp;the&nbsp;need&lt;br&gt;to&nbsp;manually&nbsp;generate&nbsp;each&nbsp;page&nbsp;for&nbsp;a&nbsp;resource&nbsp;of&nbsp;interest&nbsp;that&nbsp;has&nbsp;not&lt;br&gt;yet&nbsp;been&nbsp;visited.&lt;br&gt;&lt;br&gt;Given&nbsp;point&nbsp;#1,&nbsp;I&nbsp;think&nbsp;this&nbsp;should&nbsp;be&nbsp;based&nbsp;on&nbsp;textual&nbsp;prefix<br>
&lt;br&gt;matching&nbsp;of&nbsp;the&nbsp;URI,&nbsp;not&nbsp;just&nbsp;dropping&nbsp;the&nbsp;query&nbsp;(the&nbsp;scheme&nbsp;and&lt;br&gt;authority&nbsp;sections&nbsp;should&nbsp;be&nbsp;treated&nbsp;specially,&nbsp;of&nbsp;course,&nbsp;it&nbsp;should&lt;br&gt;not&nbsp;be&nbsp;allowed&nbsp;to&nbsp;have&nbsp;a&nbsp;fallback&nbsp;page&nbsp;in&nbsp;someone&nbsp;else&amp;#39;s&nbsp;security&lt;br&gt;domain).&nbsp;This&nbsp;will&nbsp;allow&nbsp;matching&nbsp;paths&nbsp;and&nbsp;also&nbsp;matching&nbsp;only<br>
&lt;br&gt;specific&nbsp;kinds&nbsp;of&nbsp;queries&nbsp;(where&nbsp;the&nbsp;first&nbsp;parameter&nbsp;is&nbsp;set&nbsp;to&nbsp;some&lt;br&gt;specific&nbsp;value,&nbsp;say).&nbsp;However,&nbsp;to&nbsp;make&nbsp;offline&nbsp;and&nbsp;online&nbsp;mode&nbsp;diverge&lt;br&gt;as&nbsp;little&nbsp;as&nbsp;possible,&nbsp;I&nbsp;think&nbsp;perhaps&nbsp;such&nbsp;fallback&nbsp;pages&nbsp;should&lt;br&gt;apply&nbsp;only&nbsp;when&nbsp;offline.&nbsp;When&nbsp;online,&nbsp;the&nbsp;UA&nbsp;should&nbsp;go&nbsp;to&nbsp;the&nbsp;real<br>
&lt;br&gt;page.&nbsp;With&nbsp;the&nbsp;prefix-based&nbsp;fallback&nbsp;page&nbsp;solution,&nbsp;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;it&lt;br&gt;will&nbsp;be&nbsp;necessary&nbsp;to&nbsp;also&nbsp;support&nbsp;individual&nbsp;client-generated&nbsp;pages.&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Thoughts?&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;It&nbsp;sounds&nbsp;reasonable&nbsp;to&nbsp;me,&nbsp;a&nbsp;lot&nbsp;better&nbsp;than&nbsp;option&nbsp;2).&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;Rob&lt;br&gt;--&nbsp;&lt;br&gt;&amp;quot;Two&nbsp;men&nbsp;owed&nbsp;money&nbsp;to&nbsp;a&nbsp;certain&nbsp;moneylender.&nbsp;One&nbsp;owed&nbsp;him&nbsp;five&nbsp;hundred&nbsp;denarii,&nbsp;and&nbsp;the&nbsp;other&nbsp;fifty.&nbsp;Neither&nbsp;of&nbsp;them&nbsp;had&nbsp;the&nbsp;money&nbsp;to&nbsp;pay&nbsp;him&nbsp;back,&nbsp;so&nbsp;he&nbsp;canceled&nbsp;the&nbsp;debts&nbsp;of&nbsp;both.&nbsp;Now&nbsp;which&nbsp;of&nbsp;them&nbsp;will&nbsp;love&nbsp;him&nbsp;more?&amp;quot;&nbsp;Simon&nbsp;replied,&nbsp;&amp;quot;I&nbsp;suppose&nbsp;the&nbsp;one&nbsp;who&nbsp;had&nbsp;the&nbsp;bigger&nbsp;debt&nbsp;canceled.&amp;quot;&nbsp;&amp;quot;You&nbsp;have&nbsp;judged&nbsp;correctly,&amp;quot;&nbsp;Jesus&nbsp;said.&nbsp;[Luke&nbsp;7:41-43]<br>

</tt>
