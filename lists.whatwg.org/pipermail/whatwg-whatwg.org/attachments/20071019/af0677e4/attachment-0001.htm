<tt>
On&nbsp;Oct&nbsp;19,&nbsp;2007&nbsp;11:55&nbsp;AM,&nbsp;Geoffrey&nbsp;Garen&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:ggaren@apple.com&quot;&gt;ggaren@apple.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&gt;&nbsp;Suppose&nbsp;a&nbsp;script&nbsp;creates&nbsp;a&nbsp;&lt;video&gt;&nbsp;element,&nbsp;adds&nbsp;it&nbsp;to&nbsp;the&nbsp;document,&lt;br&gt;&gt;&nbsp;starts&nbsp;it&nbsp;playing,&nbsp;then&nbsp;removes&nbsp;the&nbsp;element&nbsp;from&nbsp;the&nbsp;document&nbsp;and&lt;br&gt;&gt;&nbsp;drops&nbsp;all&nbsp;references&nbsp;to&nbsp;it.&nbsp;When&nbsp;should&nbsp;the&nbsp;element&nbsp;stop&nbsp;playing?<br>
&lt;br&gt;&lt;br&gt;&gt;&nbsp;--&nbsp;when&nbsp;the&nbsp;element&nbsp;leaves&nbsp;the&nbsp;document?&lt;br&gt;&lt;br&gt;&lt;/div&gt;Probably.&nbsp;Since&nbsp;you&nbsp;can&#39;t&nbsp;see&nbsp;the&nbsp;video&nbsp;any&nbsp;more,&nbsp;it&nbsp;would&nbsp;be&nbsp;really&lt;br&gt;weird&nbsp;to&nbsp;hear&nbsp;audio&nbsp;from&nbsp;it,&nbsp;or&nbsp;waste&nbsp;computer&nbsp;resources&nbsp;on&nbsp;a&nbsp;mute&nbsp;and&lt;br&gt;invisible&nbsp;video.&nbsp;Moreover,&nbsp;there&#39;s&nbsp;a&nbsp;lot&nbsp;of&nbsp;precedent&nbsp;for&nbsp;DOM&nbsp;elements<br>
&lt;br&gt;not&nbsp;loading&nbsp;when&nbsp;they&#39;re&nbsp;not&nbsp;in&nbsp;the&nbsp;document.&nbsp;This&nbsp;is&nbsp;true&nbsp;of&nbsp;iframe,&lt;br&gt;script,&nbsp;img,&nbsp;etc.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;It&#39;s&nbsp;not&nbsp;true&nbsp;of&nbsp;&lt;img&gt;.&nbsp;Javascript&nbsp;image&nbsp;preloading&nbsp;tricks&nbsp;rely&nbsp;on&nbsp;it.&nbsp;&lt;br&gt;&lt;br&gt;And&nbsp;as&nbsp;Maciej&nbsp;mentioned,&nbsp;it&nbsp;would&nbsp;be&nbsp;useful&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;play&nbsp;audio&nbsp;outside&nbsp;the&nbsp;document,&nbsp;and&nbsp;to&nbsp;be&nbsp;consistent,&nbsp;&lt;video&gt;&#39;s&nbsp;behaviour&nbsp;should&nbsp;match.<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&gt;&nbsp;--&nbsp;when&nbsp;all&nbsp;JS&nbsp;references&nbsp;to&nbsp;the&nbsp;element&nbsp;have&nbsp;been&nbsp;dropped&nbsp;(and&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&gt;&nbsp;garbage&nbsp;collection&nbsp;runs)?&lt;br&gt;&lt;br&gt;&lt;/div&gt;No.&nbsp;The&nbsp;time&nbsp;at&nbsp;which&nbsp;garbage&nbsp;collection&nbsp;will&nbsp;reclaim&nbsp;an&nbsp;object&nbsp;is&lt;br&gt;unpredictable,&nbsp;so&nbsp;relying&nbsp;on&nbsp;garbage&nbsp;collection&nbsp;for&nbsp;behavior&nbsp;is&nbsp;a&nbsp;bad&lt;br&gt;idea.&lt;/blockquote&gt;<br>
&lt;div&gt;&lt;br&gt;Agreed.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&gt;&nbsp;--&nbsp;when&nbsp;the&nbsp;user&nbsp;leaves&nbsp;the&nbsp;page?&lt;br&gt;&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;<br>
&lt;br&gt;&lt;/div&gt;Certainly.&nbsp;But&nbsp;you&nbsp;might&nbsp;want&nbsp;to&nbsp;stop&nbsp;the&nbsp;video&nbsp;sooner.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Agreed.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&gt;&nbsp;--&nbsp;when&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;stream&nbsp;is&nbsp;reached?&nbsp;(which&nbsp;could&nbsp;be&nbsp;&quot;never&quot;)&lt;br&gt;&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;br&gt;&lt;/div&gt;Certainly.&nbsp;(How&nbsp;can&nbsp;you&nbsp;play&nbsp;past&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;stream?)&nbsp;But&nbsp;you&lt;br&gt;might&nbsp;want&nbsp;to&nbsp;stop&nbsp;the&nbsp;video&nbsp;sooner.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Agreed.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;A&nbsp;related&nbsp;question&nbsp;is&nbsp;whether&nbsp;display:none&nbsp;audio&nbsp;and&nbsp;video&nbsp;elements&nbsp;should&nbsp;produce&nbsp;sound.&lt;br&gt;&lt;br&gt;My&nbsp;current&nbsp;opinion&nbsp;is&nbsp;that&nbsp;&lt;audio&gt;&nbsp;and&nbsp;&lt;video&gt;&nbsp;elements&nbsp;should&nbsp;behave&nbsp;like&nbsp;&lt;img&gt;&nbsp;and&nbsp;load/play&nbsp;whether&nbsp;or&nbsp;not&nbsp;they&#39;re&nbsp;in&nbsp;a&nbsp;document,&nbsp;but&nbsp;they&nbsp;should&nbsp;only&nbsp;emit&nbsp;sound&nbsp;if&nbsp;they&#39;re&nbsp;in&nbsp;a&nbsp;document&nbsp;with&nbsp;a&nbsp;presentation&nbsp;and&nbsp;are&nbsp;not&nbsp;in&nbsp;a&nbsp;display:none&nbsp;subtree.&nbsp;Then&nbsp;to&nbsp;play&nbsp;a&nbsp;sound&nbsp;you&#39;d&nbsp;have&nbsp;to&nbsp;insert&nbsp;the&nbsp;element&nbsp;into&nbsp;your&nbsp;document&nbsp;somewhere&nbsp;with&nbsp;size&nbsp;0x0&nbsp;(which&nbsp;should&nbsp;be&nbsp;the&nbsp;default&nbsp;for&nbsp;&lt;audio&gt;).<br>
&lt;br&gt;&lt;br&gt;But&nbsp;it&#39;s&nbsp;a&nbsp;rather&nbsp;tangled&nbsp;issue.&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;Rob&lt;br&gt;--&nbsp;&lt;br&gt;&quot;Two&nbsp;men&nbsp;owed&nbsp;money&nbsp;to&nbsp;a&nbsp;certain&nbsp;moneylender.&nbsp;One&nbsp;owed&nbsp;him&nbsp;five&nbsp;hundred&nbsp;denarii,&nbsp;and&nbsp;the&nbsp;other&nbsp;fifty.&nbsp;Neither&nbsp;of&nbsp;them&nbsp;had&nbsp;the&nbsp;money&nbsp;to&nbsp;pay&nbsp;him&nbsp;back,&nbsp;so&nbsp;he&nbsp;canceled&nbsp;the&nbsp;debts&nbsp;of&nbsp;both.&nbsp;Now&nbsp;which&nbsp;of&nbsp;them&nbsp;will&nbsp;love&nbsp;him&nbsp;more?&quot;&nbsp;Simon&nbsp;replied,&nbsp;&quot;I&nbsp;suppose&nbsp;the&nbsp;one&nbsp;who&nbsp;had&nbsp;the&nbsp;bigger&nbsp;debt&nbsp;canceled.&quot;&nbsp;&quot;You&nbsp;have&nbsp;judged&nbsp;correctly,&quot;&nbsp;Jesus&nbsp;said.&nbsp;[Luke&nbsp;7:41-43]<br>

</tt>
