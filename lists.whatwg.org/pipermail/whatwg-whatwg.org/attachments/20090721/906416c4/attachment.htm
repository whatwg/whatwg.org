<tt>
&lt;html&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Jul&nbsp;20,&nbsp;2009,&nbsp;at&nbsp;7:30&nbsp;PM,&nbsp;Boris&nbsp;Zbarsky&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;Ian&nbsp;Hickson&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Actually&nbsp;what's&nbsp;going&nbsp;on&nbsp;is&nbsp;more&nbsp;subtle&nbsp;than&nbsp;that.&nbsp;When&nbsp;you&nbsp;set&nbsp;innerHTML,&nbsp;it's&nbsp;actually&nbsp;triggering&nbsp;the&nbsp;deferred&nbsp;scripts&nbsp;right&nbsp;there,&nbsp;if&nbsp;it&nbsp;has&nbsp;them&nbsp;loaded&nbsp;(e.g.&nbsp;inline&nbsp;scripts&nbsp;or&nbsp;cached&nbsp;scripts).&nbsp;If&nbsp;it&nbsp;doesn't&nbsp;have&nbsp;them&nbsp;loaded&nbsp;yet,&nbsp;it&nbsp;drops&nbsp;them&nbsp;on&nbsp;the&nbsp;floor&nbsp;and&nbsp;doesn't&nbsp;ever&nbsp;run&nbsp;them.&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;I've&nbsp;specced&nbsp;this,&nbsp;except&nbsp;that&nbsp;the&nbsp;spec&nbsp;requires&nbsp;that&nbsp;not-yet-loaded&nbsp;scripts&nbsp;be&nbsp;loaded&nbsp;then&nbsp;run,&nbsp;rather&nbsp;than&nbsp;dropped,&nbsp;before&nbsp;innerHTML&nbsp;continues,&nbsp;so&nbsp;there's&nbsp;no&nbsp;race&nbsp;conditions.&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;Er...&nbsp;wait.&nbsp;&amp;nbsp;So&nbsp;innerHTML&nbsp;has&nbsp;to&nbsp;block&nbsp;on&nbsp;network&nbsp;access?&nbsp;&amp;nbsp;And&nbsp;possibly&nbsp;spin&nbsp;the&nbsp;event&nbsp;loop&nbsp;as&nbsp;it&nbsp;does&nbsp;so?&lt;br&gt;&lt;br&gt;This&nbsp;doesn't&nbsp;seem&nbsp;desirable&nbsp;to&nbsp;me....&nbsp;Why&nbsp;do&nbsp;we&nbsp;want&nbsp;this&nbsp;behavior?&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#000000&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#144FAE&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;innerHTML&amp;nbsp;blocking&amp;nbsp;on&amp;nbsp;network&amp;nbsp;access&amp;nbsp;seems&amp;nbsp;seriously&amp;nbsp;problematic&amp;nbsp;to&amp;nbsp;me.&amp;nbsp;I&amp;nbsp;don't&amp;nbsp;think&amp;nbsp;blocking&amp;nbsp;the&amp;nbsp;UI&amp;nbsp;is&amp;nbsp;preferable&amp;nbsp;to&amp;nbsp;a&amp;nbsp;race&amp;nbsp;condition,&amp;nbsp;when&amp;nbsp;we&amp;nbsp;are&amp;nbsp;talking&amp;nbsp;about&amp;nbsp;a&amp;nbsp;compatibility&amp;nbsp;quirk&amp;nbsp;for&amp;nbsp;content&amp;nbsp;doing&amp;nbsp;something&amp;nbsp;dubious.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Maciej&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
