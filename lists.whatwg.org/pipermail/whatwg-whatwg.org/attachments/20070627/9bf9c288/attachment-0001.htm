<tt>
On&nbsp;6/27/07,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Aaron&nbsp;Boodman&lt;/b&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:aa@google.com&quot;&gt;aa@google.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Great!&nbsp;So&nbsp;where&nbsp;do&nbsp;we&nbsp;differ&nbsp;on&nbsp;the&nbsp;implementation&nbsp;of&nbsp;those&nbsp;goals?&nbsp;Is&lt;br&gt;there&nbsp;an&nbsp;up-to-date&nbsp;spec&nbsp;I&nbsp;can&nbsp;read?&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.campd.org/stuff/Offline%20Cache.html&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;monospace;&quot;&gt;<br>
&lt;/span&gt;http://www.campd.org/stuff/Offline%20Cache.html&lt;/a&gt;&lt;br&gt;&lt;br&gt;Right&nbsp;now&nbsp;I&nbsp;think&nbsp;we&#39;re&nbsp;missing&nbsp;just&nbsp;one&nbsp;thing&nbsp;from&nbsp;your&nbsp;list&nbsp;of&nbsp;goals&nbsp;(excluding&nbsp;the&nbsp;vexatious&nbsp;&quot;multiple&nbsp;resources&nbsp;for&nbsp;one&nbsp;URI&quot;&nbsp;goal):&nbsp;a&nbsp;way&nbsp;to&nbsp;get&nbsp;consistent&nbsp;updates&nbsp;without&nbsp;relying&nbsp;on&nbsp;JAR&nbsp;files&nbsp;(and&nbsp;hence&nbsp;changing&nbsp;URIs).&nbsp;As&nbsp;I&nbsp;mentioned&nbsp;earlier,&nbsp;I&nbsp;think&nbsp;we&nbsp;can&nbsp;get&nbsp;that&nbsp;by&nbsp;simply&nbsp;stating&nbsp;(and&nbsp;implementing!)&nbsp;that&nbsp;updates&nbsp;to&nbsp;all&nbsp;offline-cached&nbsp;resources&nbsp;in&nbsp;a&nbsp;domain&nbsp;---&nbsp;that&nbsp;were&nbsp;requested&nbsp;by&nbsp;pages&nbsp;in&nbsp;the&nbsp;same&nbsp;domain&nbsp;---&nbsp;&nbsp;occur&nbsp;atomically&nbsp;as&nbsp;a&nbsp;group,&nbsp;similar&nbsp;to&nbsp;what&nbsp;Gears&nbsp;does.&nbsp;That&nbsp;leaves&nbsp;one&nbsp;issue,&nbsp;which&nbsp;is&nbsp;the&nbsp;ability&nbsp;to&nbsp;add&nbsp;new&nbsp;resources&nbsp;as&nbsp;part&nbsp;of&nbsp;such&nbsp;an&nbsp;atomic&nbsp;update;&nbsp;to&nbsp;get&nbsp;that,&nbsp;we&nbsp;probably&nbsp;should&nbsp;add&nbsp;an&nbsp;offline-manifest&nbsp;DOM&nbsp;API&nbsp;or&nbsp;&lt;link&gt;&nbsp;type,&nbsp;which&nbsp;pulls&nbsp;in&nbsp;a&nbsp;JSON&nbsp;manifest&nbsp;and&nbsp;requests&nbsp;all&nbsp;the&nbsp;resources&nbsp;in&nbsp;it.<br>
&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&gt;&nbsp;&gt;&nbsp;-&nbsp;One&nbsp;major&nbsp;issue&nbsp;that&nbsp;we&nbsp;found&nbsp;here&nbsp;was&nbsp;that&nbsp;lots&nbsp;of&nbsp;existing&lt;br&gt;&gt;&nbsp;&gt;&nbsp;applications&nbsp;serve&nbsp;different&nbsp;resources&nbsp;at&nbsp;the&nbsp;same&nbsp;URI&nbsp;depending&nbsp;on<br>
&lt;br&gt;&gt;&nbsp;&gt;&nbsp;who&nbsp;is&nbsp;logged&nbsp;in.&nbsp;We&nbsp;could&nbsp;ask&nbsp;these&nbsp;applications&nbsp;to&nbsp;redesign&nbsp;so&nbsp;that&lt;br&gt;&gt;&nbsp;&gt;&nbsp;they&nbsp;don&#39;t&nbsp;do&nbsp;that,&nbsp;but&nbsp;we&nbsp;would&nbsp;prefer&nbsp;to&nbsp;not&nbsp;have&nbsp;to.&lt;br&gt;&gt;&nbsp;&gt;&lt;br&gt;&gt;&nbsp;Understood,&nbsp;but&nbsp;this&nbsp;seems&nbsp;to&nbsp;add&nbsp;substantial&nbsp;complexity&nbsp;to&nbsp;the&nbsp;model.<br>
&lt;br&gt;&gt;&nbsp;Is&nbsp;it&nbsp;really&nbsp;a&nbsp;big&nbsp;deal&nbsp;to&nbsp;restrict&nbsp;users&nbsp;to&nbsp;one&nbsp;login&nbsp;available&lt;br&gt;&gt;&nbsp;offline?&nbsp;A&nbsp;browser&nbsp;can&nbsp;of&nbsp;course&nbsp;support&nbsp;multiple&nbsp;profiles&nbsp;or&lt;br&gt;&gt;&nbsp;something&nbsp;similar&nbsp;to&nbsp;address&nbsp;that&nbsp;use&nbsp;case&nbsp;without&nbsp;complicating&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;development&nbsp;model.&lt;br&gt;&lt;br&gt;If&nbsp;apps&nbsp;are&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;transition&nbsp;between&nbsp;online&nbsp;and&nbsp;offline&lt;br&gt;seamlessly,&nbsp;that&nbsp;implies&nbsp;that&nbsp;the&nbsp;browser&nbsp;always&nbsp;serves&nbsp;the&nbsp;cached&lt;br&gt;version&nbsp;and&nbsp;revalidates&nbsp;in&nbsp;the&nbsp;background,&nbsp;right?&lt;/blockquote&gt;<br>
&lt;div&gt;&lt;br&gt;Yes.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;If&nbsp;so,&nbsp;that&nbsp;means&nbsp;apps&nbsp;can&#39;t&nbsp;serve&nbsp;different&nbsp;resources&nbsp;at&nbsp;the&nbsp;same<br>
&lt;br&gt;URL,&nbsp;even&nbsp;when&nbsp;a&nbsp;connection&nbsp;is&nbsp;available,&nbsp;which&nbsp;seems&nbsp;like&nbsp;a&nbsp;big&lt;br&gt;constraint.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Sure&nbsp;they&nbsp;can.&nbsp;The&nbsp;user&nbsp;can&nbsp;only&nbsp;have&nbsp;one&nbsp;active&nbsp;login&nbsp;per&nbsp;browser&nbsp;session&nbsp;anyway,&nbsp;so&nbsp;the&nbsp;app&nbsp;just&nbsp;swaps&nbsp;in&nbsp;a&nbsp;whole&nbsp;new&nbsp;set&nbsp;of&nbsp;resources&nbsp;when&nbsp;the&nbsp;user&nbsp;logs&nbsp;in&nbsp;with&nbsp;a&nbsp;different&nbsp;ID.&nbsp;&nbsp;The&nbsp;only&nbsp;restriction&nbsp;is&nbsp;that&nbsp;when&nbsp;the&nbsp;user&#39;s&nbsp;offline,&nbsp;they&#39;ll&nbsp;only&nbsp;be&nbsp;able&nbsp;to&nbsp;use&nbsp;the&nbsp;last&nbsp;ID&nbsp;that&nbsp;they&nbsp;logged&nbsp;in&nbsp;as.<br>
&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;OTOH,&nbsp;I&nbsp;believe&nbsp;that&nbsp;if&nbsp;I&nbsp;were&nbsp;creating&nbsp;a&nbsp;new&nbsp;Gears-enabled&nbsp;app&nbsp;from&lt;br&gt;scratch,&nbsp;I&nbsp;would&nbsp;not&nbsp;use&nbsp;requiredCookie.&nbsp;In&nbsp;fact,&nbsp;I&nbsp;didn&#39;t&nbsp;for<br>
&lt;br&gt;Gearpad.&nbsp;There&nbsp;is&nbsp;only&nbsp;one&nbsp;version&nbsp;of&nbsp;Gearpad&nbsp;for&nbsp;all&nbsp;users,&nbsp;and&nbsp;it&lt;br&gt;pulls&nbsp;in&nbsp;the&nbsp;required&nbsp;user-specific&nbsp;resources&nbsp;dynamically.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Let&nbsp;me&nbsp;put&nbsp;the&nbsp;strongest&nbsp;spin&nbsp;on&nbsp;this&nbsp;that&nbsp;I&nbsp;can&nbsp;:-)&nbsp;---&nbsp;I&#39;m&nbsp;reluctant&nbsp;to&nbsp;substantially&nbsp;complicate&nbsp;the&nbsp;API&nbsp;for&nbsp;implementors&nbsp;and&nbsp;developers&nbsp;for&nbsp;all&nbsp;time,&nbsp;just&nbsp;so&nbsp;that&nbsp;some&nbsp;legacy&nbsp;apps&nbsp;can&nbsp;have&nbsp;an&nbsp;easier&nbsp;transition&nbsp;for&nbsp;the&nbsp;specific&nbsp;case&nbsp;of&nbsp;supporting&nbsp;multiple&nbsp;logins&nbsp;while&nbsp;the&nbsp;user&nbsp;is&nbsp;offline.<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;Rob&lt;br&gt;--&nbsp;&lt;br&gt;&quot;Two&nbsp;men&nbsp;owed&nbsp;money&nbsp;to&nbsp;a&nbsp;certain&nbsp;moneylender.&nbsp;One&nbsp;owed&nbsp;him&nbsp;five&nbsp;hundred&nbsp;denarii,&nbsp;and&nbsp;the&nbsp;other&nbsp;fifty.&nbsp;Neither&nbsp;of&nbsp;them&nbsp;had&nbsp;the&nbsp;money&nbsp;to&nbsp;pay&nbsp;him&nbsp;back,&nbsp;so&nbsp;he&nbsp;canceled&nbsp;the&nbsp;debts&nbsp;of&nbsp;both.&nbsp;Now&nbsp;which&nbsp;of&nbsp;them&nbsp;will&nbsp;love&nbsp;him&nbsp;more?&quot;&nbsp;Simon&nbsp;replied,&nbsp;&quot;I&nbsp;suppose&nbsp;the&nbsp;one&nbsp;who&nbsp;had&nbsp;the&nbsp;bigger&nbsp;debt&nbsp;canceled.&quot;&nbsp;&quot;You&nbsp;have&nbsp;judged&nbsp;correctly,&quot;&nbsp;Jesus&nbsp;said.&nbsp;[Luke&nbsp;7:41-43]<br>

</tt>
