<tt>
On&nbsp;Tue,&nbsp;Jul&nbsp;27,&nbsp;2010&nbsp;at&nbsp;1:37&nbsp;AM,&nbsp;Philip&nbsp;Jägenstedt&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:philipj@opera.com&quot;&gt;philipj@opera.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;On&nbsp;Mon,&nbsp;26&nbsp;Jul&nbsp;2010&nbsp;16:53:43&nbsp;+0200,&nbsp;Silvia&nbsp;Pfeiffer&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:silviapfeiffer1@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;silviapfeiffer1@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
On&nbsp;Mon,&nbsp;Jul&nbsp;26,&nbsp;2010&nbsp;at&nbsp;11:25&nbsp;PM,&nbsp;Philip&nbsp;Jägenstedt&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:philipj@opera.com&quot;&nbsp;target=&quot;_blank&quot;&gt;philipj@opera.com&lt;/a&gt;&gt;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
 &nbsp;&lt;video&nbsp;controls&nbsp;width=&quot;400px&quot;&gt;&lt;br&gt;<br>
&nbsp; &nbsp;&lt;/video&gt;&lt;br&gt;<br>
&nbsp; &nbsp;&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp;var&nbsp;video&nbsp;=&nbsp;document.querySelector(&quot;video&quot;);&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp;var&nbsp;exts&nbsp;=&nbsp;[&quot;mp4&quot;,&nbsp;&quot;webm&quot;,&nbsp;&quot;ogv&quot;];&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp;exts.forEach(function(ext)&nbsp;{&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp;var&nbsp;source&nbsp;=&nbsp;document.createElement(&quot;source&quot;);&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp;source.src&nbsp;=&nbsp;&quot;HelloWorld.&quot;+ext;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp;source.type&nbsp;=&nbsp;&quot;video/&quot;+ext;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp;video.appendChild(source);&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp;});&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp;video.play();&lt;br&gt;<br>
&nbsp; &nbsp;&lt;/script&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Does&nbsp;this&nbsp;actually&nbsp;work&nbsp;in&nbsp;Opera&nbsp;now?&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
Yes,&nbsp;when&nbsp;I&nbsp;have&nbsp;a&nbsp;HelloWorld.webm&nbsp;file&nbsp;available&nbsp;it&nbsp;starts&nbsp;playing.&nbsp;It&nbsp;also&nbsp;works&nbsp;in&nbsp;Firefox&nbsp;4b1&nbsp;and&nbsp;it&nbsp;should&nbsp;work&nbsp;in&nbsp;Chrome&nbsp;and&nbsp;Safari&nbsp;too&nbsp;unless&nbsp;they&nbsp;are&nbsp;buggy.&lt;/blockquote&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;&lt;br&gt;Right,&nbsp;so&nbsp;it&nbsp;works&nbsp;if&nbsp;you&nbsp;create&nbsp;the&nbsp;&lt;source&gt;&nbsp;elements&nbsp;newly,&nbsp;but&nbsp;it&nbsp;still&nbsp;doesn&#39;t&nbsp;work&nbsp;when&nbsp;you&nbsp;have&nbsp;previously&nbsp;created&nbsp;the&nbsp;&lt;source&gt;&nbsp;element&nbsp;just&nbsp;with&nbsp;an&nbsp;empty&nbsp;@src&nbsp;attribute&nbsp;(which&nbsp;I&nbsp;think&nbsp;is&nbsp;legal).&nbsp;Both&nbsp;of&nbsp;these&nbsp;work&nbsp;in&nbsp;all&nbsp;the&nbsp;other&nbsp;browsers,&nbsp;btw.&lt;br&gt;<br>
<br>
 &lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Right,&nbsp;I&nbsp;realize&nbsp;there&nbsp;are&nbsp;actually&nbsp;situations&nbsp;where&nbsp;it&nbsp;isn&#39;t&nbsp;a&nbsp;pointless&nbsp;exercise&nbsp;as&nbsp;in&nbsp;the&nbsp;above.&nbsp;If&nbsp;you&#39;re&nbsp;already&nbsp;using&nbsp;scripts,&nbsp;though,&nbsp;you&nbsp;could&nbsp;actually&nbsp;call&nbsp;canPlayType&nbsp;yourself&nbsp;and&nbsp;use&nbsp;the&nbsp;first&nbsp;one&nbsp;that&nbsp;works:&lt;br&gt;<br>
<br>
<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; exts.forEach(function(ext)&nbsp;{&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; if&nbsp;(video.canPlayType(&quot;video/&quot;+ext))&nbsp;{&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; video.src&nbsp;=&nbsp;&quot;movie_300.&quot;+ext;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return&nbsp;false;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; }&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; }); &lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;br&gt;<br>
I&nbsp;expect&nbsp;this&nbsp;will&nbsp;be&nbsp;interoperable&nbsp;right&nbsp;now&nbsp;and&nbsp;it&#39;s&nbsp;easier&nbsp;to&nbsp;understand&nbsp;exactly&nbsp;what&#39;s&nbsp;going&nbsp;on.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;Yes,&nbsp;it&nbsp;is&nbsp;and&nbsp;works&nbsp;in&nbsp;all&nbsp;browsers.&nbsp;But&nbsp;I&nbsp;still&nbsp;see&nbsp;it&nbsp;as&nbsp;a&nbsp;bug&nbsp;if&nbsp;you&#39;re&nbsp;not&nbsp;allowed&nbsp;to&nbsp;change&nbsp;the&nbsp;@src&nbsp;on&nbsp;the&nbsp;&lt;source&gt;&nbsp;elements&nbsp;and&nbsp;get&nbsp;the&nbsp;video&nbsp;reloaded.&nbsp;Why&nbsp;would&nbsp;@src&nbsp;on&nbsp;&lt;source&gt;&nbsp;elements&nbsp;be&nbsp;mutable&nbsp;in&nbsp;the&nbsp;first&nbsp;place&nbsp;then?&lt;br&gt;<br>
<br>
&lt;br&gt; &lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Looking&nbsp;again&nbsp;at&nbsp;the&nbsp;resource&nbsp;selection&nbsp;algorithm,&nbsp;the&nbsp;second&nbsp;step&nbsp;is&nbsp;to&nbsp;await&nbsp;a&nbsp;stable&nbsp;state,&nbsp;i.e.&nbsp;wait&nbsp;until&nbsp;the&nbsp;current&nbsp;script&nbsp;has&nbsp;finished.&nbsp;Given&nbsp;that,&nbsp;it&nbsp;wouldn&#39;t&nbsp;be&nbsp;a&nbsp;big&nbsp;problem&nbsp;to&nbsp;let&nbsp;modification&nbsp;of&nbsp;src&nbsp;attributes&nbsp;on&nbsp;source&nbsp;elements&nbsp;trigger&nbsp;resource&nbsp;selection,&nbsp;you&nbsp;won&#39;t&nbsp;get&nbsp;the&nbsp;3-2-1&nbsp;problem&nbsp;I&nbsp;mentioned&nbsp;earlier.&nbsp;However,&nbsp;then&nbsp;I&nbsp;would&nbsp;argue&nbsp;that&nbsp;modifying&nbsp;type&nbsp;and&nbsp;media&nbsp;should&nbsp;also&nbsp;have&nbsp;the&nbsp;same&nbsp;effect,&nbsp;as&nbsp;those&nbsp;affect&nbsp;the&nbsp;outcome&nbsp;of&nbsp;resource&nbsp;selection.&nbsp;In&nbsp;the&nbsp;end,&nbsp;my&nbsp;suggestion&nbsp;is&nbsp;still&nbsp;no&nbsp;spec&nbsp;change,&nbsp;except&nbsp;for&nbsp;editorial&nbsp;changes&nbsp;to&nbsp;clarify.&lt;/blockquote&gt;<br>
<br>
&lt;br&gt;No&nbsp;matter&nbsp;what&nbsp;we&nbsp;call&nbsp;it,&nbsp;there&nbsp;is&nbsp;currently&nbsp;no&nbsp;mention&nbsp;of&nbsp;@src&nbsp;change&nbsp;(and&nbsp;indeed&nbsp;@type&nbsp;and&nbsp;@media&nbsp;change)&nbsp;on&nbsp;&lt;source&gt;&nbsp;to&nbsp;cause&nbsp;resource&nbsp;selection&nbsp;and&nbsp;this&nbsp;has&nbsp;caused&nbsp;diverging&nbsp;implementations&nbsp;in&nbsp;browsers.&nbsp;A&nbsp;clarification&nbsp;is&nbsp;certainly&nbsp;necessary.&lt;br&gt;<br>
<br>
&lt;br&gt;Cheres,&lt;br&gt;Silvia.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
