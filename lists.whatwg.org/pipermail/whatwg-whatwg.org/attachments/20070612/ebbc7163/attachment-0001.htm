<tt>
On&nbsp;6/12/07,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Aaron&nbsp;Boodman&nbsp;(Google)&lt;/b&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:gears.team.aa@gmail.com&quot;&gt;gears.team.aa@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
On&nbsp;6/11/07,&nbsp;Robert&nbsp;O&#39;Callahan&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:robert@ocallahan.org&quot;&gt;robert@ocallahan.org&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&gt;&nbsp;Chris&nbsp;Prince&nbsp;wrote:&lt;br&gt;&gt;&nbsp;How&nbsp;do&nbsp;you&nbsp;do&nbsp;that&nbsp;when&nbsp;an&nbsp;ambiguity&nbsp;is&nbsp;discovered&nbsp;during&nbsp;a&nbsp;manifest&nbsp;update?<br>
&lt;br&gt;&lt;br&gt;That&#39;s&nbsp;a&nbsp;good&nbsp;point,&nbsp;i&nbsp;think&nbsp;all&nbsp;we&nbsp;could&nbsp;do&nbsp;there&nbsp;is&nbsp;throw&nbsp;into&nbsp;the&lt;br&gt;environment,&nbsp;which&nbsp;isn&#39;t&nbsp;particularly&nbsp;useful,&nbsp;but&nbsp;would&nbsp;at&nbsp;least&lt;br&gt;prevent&nbsp;the&nbsp;ambiguity.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;What&nbsp;do&nbsp;you&nbsp;mean&nbsp;&quot;throw&nbsp;into&nbsp;the&nbsp;environment&quot;?&nbsp;The&nbsp;update&nbsp;might&nbsp;occur&nbsp;automatically&nbsp;in&nbsp;which&nbsp;case&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;where&nbsp;an&nbsp;exception&nbsp;would&nbsp;go.&nbsp;And&nbsp;it&nbsp;seems&nbsp;that&nbsp;preventing&nbsp;the&nbsp;update&nbsp;might&nbsp;lead&nbsp;to&nbsp;the&nbsp;app&nbsp;being&nbsp;unrecoverably&nbsp;&quot;stuck&quot;.&nbsp;<br>
&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;*&nbsp;Rename/copy&nbsp;were&nbsp;motivated&nbsp;by&nbsp;a&nbsp;particular&nbsp;problem&nbsp;we&nbsp;had&nbsp;with&nbsp;an&lt;br&gt;internal&nbsp;app&nbsp;that&nbsp;we&nbsp;were&nbsp;playing&nbsp;with.&nbsp;When&nbsp;you&nbsp;would&nbsp;capture&nbsp;files<br>
&lt;br&gt;using&nbsp;the&nbsp;file&nbsp;upload&nbsp;api&nbsp;while&nbsp;offline,&nbsp;you&nbsp;would&nbsp;need&nbsp;to&nbsp;rename&nbsp;them&lt;br&gt;after&nbsp;you&nbsp;found&nbsp;out&nbsp;the&nbsp;primary&nbsp;key&nbsp;of&nbsp;the&nbsp;entity&nbsp;on&nbsp;the&nbsp;server&lt;br&gt;because&nbsp;the&nbsp;application&nbsp;would&nbsp;build&nbsp;the&nbsp;URIs&nbsp;based&nbsp;on&nbsp;these&nbsp;PKs.&nbsp;This&lt;br&gt;probably&nbsp;could&nbsp;have&nbsp;been&nbsp;solved&nbsp;other&nbsp;ways&nbsp;on&nbsp;the&nbsp;server.<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;I&nbsp;think&nbsp;the&nbsp;best&nbsp;way&nbsp;to&nbsp;handle&nbsp;file&nbsp;uploads&nbsp;(in&nbsp;an&nbsp;HTML5&nbsp;context)&nbsp;is&nbsp;to&nbsp;provide&nbsp;an&nbsp;API&nbsp;that&nbsp;any&nbsp;Web&nbsp;app&nbsp;can&nbsp;use&nbsp;to&nbsp;directly&nbsp;read&nbsp;the&nbsp;contents&nbsp;of&nbsp;a&nbsp;file&nbsp;input&nbsp;control.&nbsp;That&nbsp;seems&nbsp;conceptually&nbsp;simple&nbsp;and&nbsp;also&nbsp;potentially&nbsp;useful&nbsp;to&nbsp;all&nbsp;kinds&nbsp;of&nbsp;Web&nbsp;apps,&nbsp;online&nbsp;and&nbsp;offline.<br>
&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;I&nbsp;agree&nbsp;that&nbsp;having&nbsp;overlapping&nbsp;URLs&nbsp;is&nbsp;a&nbsp;pain&nbsp;with&nbsp;the&nbsp;current&lt;br&gt;design.&nbsp;It&nbsp;would&nbsp;be&nbsp;nice&nbsp;if&nbsp;URLs&nbsp;were&nbsp;unique.&nbsp;What&nbsp;we&nbsp;found&nbsp;is&nbsp;that&nbsp;in<br>
&lt;br&gt;many&nbsp;applications,&nbsp;URLs&nbsp;aren&#39;t&nbsp;unique.&nbsp;Localization&nbsp;is&nbsp;one&nbsp;example&nbsp;of&lt;br&gt;this,&nbsp;but&nbsp;there&nbsp;are&nbsp;many.&nbsp;I&nbsp;think&nbsp;it&nbsp;may&nbsp;not&nbsp;be&nbsp;necessary&nbsp;to&nbsp;have&nbsp;both&lt;br&gt;enable/disable&nbsp;*and*&nbsp;requiredCookie,&nbsp;but&nbsp;we&nbsp;probably&nbsp;need&nbsp;something.<br>
&lt;br&gt;requiredCookie&nbsp;just&nbsp;removes&nbsp;some&nbsp;of&nbsp;the&nbsp;legwork&nbsp;of&nbsp;toggling&nbsp;a&nbsp;bunch&nbsp;of&lt;br&gt;stores&nbsp;on&nbsp;and&nbsp;off&nbsp;on&nbsp;each&nbsp;login.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;What&nbsp;are&nbsp;the&nbsp;other&nbsp;uses?&nbsp;Are&nbsp;they&nbsp;all&nbsp;situations&nbsp;where&nbsp;the&nbsp;content&nbsp;for&nbsp;a&nbsp;given&nbsp;URI&nbsp;is&nbsp;stable&nbsp;within&nbsp;a&nbsp;given&nbsp;&quot;logon&nbsp;session&quot;?&nbsp;(As&nbsp;you&nbsp;would&nbsp;expect&nbsp;if&nbsp;cookies&nbsp;are&nbsp;sufficient&nbsp;to&nbsp;discriminate&nbsp;between&nbsp;the&nbsp;different&nbsp;contents...)<br>
&lt;br&gt;&lt;br&gt;I&nbsp;think&nbsp;restricting&nbsp;URIs&nbsp;to&nbsp;map&nbsp;to&nbsp;just&nbsp;one&nbsp;resource&nbsp;simplifies&nbsp;things&nbsp;a&nbsp;lot.&nbsp;Another&nbsp;simplification&nbsp;that&nbsp;our&nbsp;model&nbsp;has&nbsp;is&nbsp;that&nbsp;offline&nbsp;resources&nbsp;are&nbsp;never&nbsp;directly&nbsp;mutated&nbsp;by&nbsp;the&nbsp;client;&nbsp;they&nbsp;are&nbsp;always&nbsp;just&nbsp;a&nbsp;snapshot&nbsp;of&nbsp;server&nbsp;state.&nbsp;These&nbsp;two&nbsp;properties&nbsp;are&nbsp;very&nbsp;appealing...&nbsp;We&nbsp;can&nbsp;also&nbsp;safely&nbsp;support&nbsp;cross-domain&nbsp;offline&nbsp;loads&nbsp;(<br>
e.g.&nbsp;to&nbsp;get&nbsp;canonical&nbsp;library&nbsp;scripts,&nbsp;or&nbsp;looking&nbsp;forward&nbsp;to&nbsp;WHATWG-style&nbsp;messaging&nbsp;APIs,&nbsp;cross-domain&nbsp;communication)&nbsp;which&nbsp;I&nbsp;think&nbsp;is&nbsp;hard&nbsp;to&nbsp;do&nbsp;without&nbsp;the&nbsp;latter&nbsp;property.&lt;br&gt;&lt;br&gt;I&nbsp;think&nbsp;we&nbsp;can&nbsp;extend&nbsp;our&nbsp;model&nbsp;to&nbsp;support&nbsp;Gears-style&nbsp;consistency&nbsp;without&nbsp;JARs&nbsp;by&nbsp;adding&nbsp;support&nbsp;for&nbsp;manifests&nbsp;somehow&nbsp;(<br>
e.g.&nbsp;&lt;link&nbsp;rel=&quot;offline-manifest&quot;&gt;),&nbsp;and&nbsp;then&nbsp;requiring&nbsp;that&nbsp;all&nbsp;offline&nbsp;resources&nbsp;in&nbsp;a&nbsp;domain&nbsp;(that&nbsp;are&nbsp;used&nbsp;by&nbsp;apps&nbsp;in&nbsp;the&nbsp;same&nbsp;domain*)&nbsp;be&nbsp;updated&nbsp;atomically&nbsp;roughly&nbsp;the&nbsp;same&nbsp;way&nbsp;Gears&nbsp;does&nbsp;it.&nbsp;But&nbsp;I&nbsp;need&nbsp;to&nbsp;talk&nbsp;to&nbsp;Dave&nbsp;about&nbsp;it...<br>
&lt;br&gt;(*&nbsp;Applications&nbsp;using&nbsp;cross-domain&nbsp;loads&nbsp;don&#39;t&nbsp;get&nbsp;any&nbsp;consistency&nbsp;guarantees&nbsp;for&nbsp;those&nbsp;loads.&nbsp;For&nbsp;example&nbsp;we&nbsp;don&#39;t&nbsp;want&nbsp;someone&nbsp;randomly&nbsp;referencing&nbsp;a&nbsp;missing&nbsp;file&nbsp;under&nbsp;&lt;a&nbsp;href=&quot;http://example.com&quot;&gt;example.com<br>
&lt;/a&gt;&nbsp;and&nbsp;breaking&nbsp;updates&nbsp;of&nbsp;&lt;a&nbsp;href=&quot;http://example.com&quot;&gt;example.com&lt;/a&gt;&#39;s&nbsp;own&nbsp;applications.)&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;Rob&lt;br&gt;--&nbsp;&lt;br&gt;&quot;Two&nbsp;men&nbsp;owed&nbsp;money&nbsp;to&nbsp;a&nbsp;certain&nbsp;moneylender.&nbsp;One&nbsp;owed&nbsp;him&nbsp;five&nbsp;hundred&nbsp;denarii,&nbsp;and&nbsp;the&nbsp;other&nbsp;fifty.&nbsp;Neither&nbsp;of&nbsp;them&nbsp;had&nbsp;the&nbsp;money&nbsp;to&nbsp;pay&nbsp;him&nbsp;back,&nbsp;so&nbsp;he&nbsp;canceled&nbsp;the&nbsp;debts&nbsp;of&nbsp;both.&nbsp;Now&nbsp;which&nbsp;of&nbsp;them&nbsp;will&nbsp;love&nbsp;him&nbsp;more?&quot;&nbsp;Simon&nbsp;replied,&nbsp;&quot;I&nbsp;suppose&nbsp;the&nbsp;one&nbsp;who&nbsp;had&nbsp;the&nbsp;bigger&nbsp;debt&nbsp;canceled.&quot;&nbsp;&quot;You&nbsp;have&nbsp;judged&nbsp;correctly,&quot;&nbsp;Jesus&nbsp;said.&nbsp;[Luke&nbsp;7:41-43]<br>

</tt>
