<tt>
Currently,&nbsp;SharedWorkers&nbsp;accept&nbsp;both&nbsp;a&nbsp;&quot;url&quot;&nbsp;parameter&nbsp;and&nbsp;a&nbsp;&quot;name&quot;&nbsp;parameter&nbsp;-&nbsp;the&nbsp;purpose&nbsp;is&nbsp;to&nbsp;let&nbsp;pages&nbsp;run&nbsp;multiple&nbsp;SharedWorkers&nbsp;using&nbsp;the&nbsp;same&nbsp;script&nbsp;resource&nbsp;without&nbsp;having&nbsp;to&nbsp;load&nbsp;separate&nbsp;resources&nbsp;from&nbsp;the&nbsp;server.&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Per&nbsp;section&nbsp;4.8.3&nbsp;of&nbsp;the&nbsp;SharedWorkers&nbsp;spec,&nbsp;if&nbsp;a&nbsp;page&nbsp;loads&nbsp;a&nbsp;shared&nbsp;worker&nbsp;with&nbsp;a&nbsp;url&nbsp;and&nbsp;name,&nbsp;it&nbsp;is&nbsp;illegal&nbsp;for&nbsp;any&nbsp;other&nbsp;page&nbsp;under&nbsp;the&nbsp;same&nbsp;origin&nbsp;to&nbsp;load&nbsp;a&nbsp;worker&nbsp;with&nbsp;the&nbsp;same&nbsp;name&nbsp;but&nbsp;a&nbsp;different&nbsp;URL&nbsp;--&nbsp;the&nbsp;SharedWorker&nbsp;name&nbsp;becomes&nbsp;essentially&nbsp;a&nbsp;shared&nbsp;global&nbsp;namespace&nbsp;across&nbsp;all&nbsp;pages&nbsp;in&nbsp;a&nbsp;single&nbsp;origin.&nbsp;This&nbsp;causes&nbsp;problems&nbsp;when&nbsp;you&nbsp;have&nbsp;multiple&nbsp;pages&nbsp;under&nbsp;the&nbsp;same&nbsp;domain&nbsp;(ala&nbsp;&lt;a&nbsp;href=&quot;http://geocities.com&quot;&gt;geocities.com&lt;/a&gt;)&nbsp;-&nbsp;the&nbsp;pages&nbsp;all&nbsp;need&nbsp;to&nbsp;coordinate&nbsp;in&nbsp;their&nbsp;use&nbsp;of&nbsp;&quot;name&quot;.&nbsp;Additionally,&nbsp;a&nbsp;typo&nbsp;in&nbsp;one&nbsp;page&nbsp;(i.e.&nbsp;invoking&nbsp;SharedWorker(&quot;mypagescript?&quot;,&nbsp;&quot;name&quot;)&nbsp;instead&nbsp;of&nbsp;SharedWorker(&quot;mypagescript&quot;,&nbsp;&quot;name&quot;)&nbsp;will&nbsp;keep&nbsp;all&nbsp;subsequent&nbsp;pages&nbsp;in&nbsp;that&nbsp;domain&nbsp;from&nbsp;loading&nbsp;a&nbsp;worker&nbsp;under&nbsp;that&nbsp;name&nbsp;so&nbsp;long&nbsp;as&nbsp;the&nbsp;original&nbsp;page&nbsp;resides&nbsp;in&nbsp;the&nbsp;page&nbsp;cache.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;d*&nbsp;like&nbsp;to&nbsp;propose&nbsp;changing&nbsp;the&nbsp;spec&nbsp;so&nbsp;that&nbsp;the&nbsp;name&nbsp;is&nbsp;not&nbsp;associated&nbsp;with&nbsp;the&nbsp;origin,&nbsp;but&nbsp;instead&nbsp;with&nbsp;the&nbsp;URL&nbsp;itself.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;if&nbsp;a&nbsp;page&nbsp;wanted&nbsp;to&nbsp;have&nbsp;multiple&nbsp;instances&nbsp;of&nbsp;a&nbsp;SharedWorker&nbsp;using&nbsp;the&nbsp;same&nbsp;URL,&nbsp;it&nbsp;could&nbsp;do&nbsp;this:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;new&nbsp;SharedWorker(&quot;url.js&quot;,&nbsp;&quot;name&quot;);&lt;/div&gt;&lt;div&gt;new&nbsp;SharedWorker(&quot;url.js&quot;,&nbsp;&quot;name2&quot;);&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Nothing&nbsp;would&nbsp;prevent&nbsp;a&nbsp;page&nbsp;from&nbsp;also&nbsp;doing&nbsp;this,&nbsp;however:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;new&nbsp;SharedWorker(&quot;other_url.js&quot;,&nbsp;&quot;name&quot;);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;step&nbsp;4&nbsp;in&nbsp;section&nbsp;4.8.3&nbsp;would&nbsp;change&nbsp;from&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;sans-serif,&nbsp;&#39;Droid&nbsp;Sans&nbsp;Fallback&#39;;&nbsp;font-size:&nbsp;medium;&nbsp;line-height:&nbsp;21px;&nbsp;&quot;&gt;If&nbsp;there&nbsp;exists&nbsp;a &lt;code&nbsp;style=&quot;font-size:&nbsp;inherit;&nbsp;font-family:&nbsp;monospace,&nbsp;&#39;Droid&nbsp;Sans&nbsp;Fallback&#39;;&nbsp;font-variant:&nbsp;normal;&nbsp;color:&nbsp;rgb(255,&nbsp;69,&nbsp;0);&nbsp;&quot;&gt;&lt;a&nbsp;href=&quot;#sharedworkerglobalscope&quot;&nbsp;style=&quot;color:&nbsp;inherit;&nbsp;background-image:&nbsp;initial;&nbsp;background-repeat:&nbsp;initial;&nbsp;background-attachment:&nbsp;initial;&nbsp;background-origin:&nbsp;initial;&nbsp;background-clip:&nbsp;initial;&nbsp;background-color:&nbsp;transparent;&nbsp;background-position:&nbsp;initial&nbsp;initial;&nbsp;&quot;&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object&nbsp;whose &lt;a&nbsp;href=&quot;#dom-workerglobalscope-closing&quot;&nbsp;title=&quot;dom-WorkerGlobalScope-closing&quot;&nbsp;style=&quot;color:&nbsp;rgb(102,&nbsp;0,&nbsp;153);&nbsp;background-image:&nbsp;initial;&nbsp;background-repeat:&nbsp;initial;&nbsp;background-attachment:&nbsp;initial;&nbsp;background-origin:&nbsp;initial;&nbsp;background-clip:&nbsp;initial;&nbsp;background-color:&nbsp;transparent;&nbsp;background-position:&nbsp;initial&nbsp;initial;&nbsp;&quot;&gt;closing&lt;/a&gt; flag&nbsp;is&nbsp;false,&nbsp;whose &lt;code&nbsp;title=&quot;dom-WorkerGlobalScope-name&quot;&nbsp;style=&quot;font-size:&nbsp;inherit;&nbsp;font-family:&nbsp;monospace,&nbsp;&#39;Droid&nbsp;Sans&nbsp;Fallback&#39;;&nbsp;font-variant:&nbsp;normal;&nbsp;color:&nbsp;rgb(255,&nbsp;69,&nbsp;0);&nbsp;&quot;&gt;name&lt;/code&gt; attribute&nbsp;is&nbsp;exactly&nbsp;equal&nbsp;to&nbsp;the &lt;var&nbsp;title=&quot;&quot;&gt;name&lt;/var&gt; argument,&nbsp;and&nbsp;whose &lt;code&nbsp;title=&quot;dom-WorkerGlobalScope-location&quot;&nbsp;style=&quot;font-size:&nbsp;inherit;&nbsp;font-family:&nbsp;monospace,&nbsp;&#39;Droid&nbsp;Sans&nbsp;Fallback&#39;;&nbsp;font-variant:&nbsp;normal;&nbsp;color:&nbsp;rgb(255,&nbsp;69,&nbsp;0);&nbsp;&quot;&gt;&lt;a&nbsp;href=&quot;#dom-workerglobalscope-location&quot;&nbsp;style=&quot;color:&nbsp;inherit;&nbsp;background-image:&nbsp;initial;&nbsp;background-repeat:&nbsp;initial;&nbsp;background-attachment:&nbsp;initial;&nbsp;background-origin:&nbsp;initial;&nbsp;background-clip:&nbsp;initial;&nbsp;background-color:&nbsp;transparent;&nbsp;background-position:&nbsp;initial&nbsp;initial;&nbsp;&quot;&gt;location&lt;/a&gt;&lt;/code&gt; attribute&nbsp;represents&nbsp;an &lt;span&nbsp;style=&quot;border-bottom-style:&nbsp;solid;&nbsp;border-bottom-color:&nbsp;rgb(153,&nbsp;204,&nbsp;153);&nbsp;border-bottom-width:&nbsp;initial;&nbsp;&quot;&gt;absolute&nbsp;URL&lt;/span&gt; that&nbsp;has&nbsp;the &lt;span&nbsp;style=&quot;border-bottom-style:&nbsp;solid;&nbsp;border-bottom-color:&nbsp;rgb(153,&nbsp;204,&nbsp;153);&nbsp;border-bottom-width:&nbsp;initial;&nbsp;&quot;&gt;same&nbsp;origin&lt;/span&gt; as&nbsp;the&nbsp;resulting &lt;span&nbsp;style=&quot;border-bottom-style:&nbsp;solid;&nbsp;border-bottom-color:&nbsp;rgb(153,&nbsp;204,&nbsp;153);&nbsp;border-bottom-width:&nbsp;initial;&nbsp;&quot;&gt;absolute&nbsp;URL&lt;/span&gt;,&nbsp;then&nbsp;run&nbsp;these&nbsp;substeps:&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;to&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;sans-serif,&nbsp;&#39;Droid&nbsp;Sans&nbsp;Fallback&#39;;&nbsp;font-size:&nbsp;medium;&nbsp;line-height:&nbsp;21px;&nbsp;&quot;&gt;If&nbsp;there&nbsp;exists&nbsp;a &lt;code&nbsp;style=&quot;font-size:&nbsp;inherit;&nbsp;font-family:&nbsp;monospace,&nbsp;&#39;Droid&nbsp;Sans&nbsp;Fallback&#39;;&nbsp;font-variant:&nbsp;normal;&nbsp;color:&nbsp;rgb(255,&nbsp;69,&nbsp;0);&nbsp;&quot;&gt;&lt;a&nbsp;href=&quot;#sharedworkerglobalscope&quot;&nbsp;style=&quot;color:&nbsp;inherit;&nbsp;background-image:&nbsp;initial;&nbsp;background-repeat:&nbsp;initial;&nbsp;background-attachment:&nbsp;initial;&nbsp;background-origin:&nbsp;initial;&nbsp;background-clip:&nbsp;initial;&nbsp;background-color:&nbsp;transparent;&nbsp;background-position:&nbsp;initial&nbsp;initial;&nbsp;&quot;&gt;SharedWorkerGlobalScope&lt;/a&gt;&lt;/code&gt; object&nbsp;whose &lt;a&nbsp;href=&quot;#dom-workerglobalscope-closing&quot;&nbsp;title=&quot;dom-WorkerGlobalScope-closing&quot;&nbsp;style=&quot;color:&nbsp;rgb(102,&nbsp;0,&nbsp;153);&nbsp;background-image:&nbsp;initial;&nbsp;background-repeat:&nbsp;initial;&nbsp;background-attachment:&nbsp;initial;&nbsp;background-origin:&nbsp;initial;&nbsp;background-clip:&nbsp;initial;&nbsp;background-color:&nbsp;transparent;&nbsp;background-position:&nbsp;initial&nbsp;initial;&nbsp;&quot;&gt;closing&lt;/a&gt; flag&nbsp;is&nbsp;false,&nbsp;whose &lt;code&nbsp;title=&quot;dom-WorkerGlobalScope-name&quot;&nbsp;style=&quot;font-size:&nbsp;inherit;&nbsp;font-family:&nbsp;monospace,&nbsp;&#39;Droid&nbsp;Sans&nbsp;Fallback&#39;;&nbsp;font-variant:&nbsp;normal;&nbsp;color:&nbsp;rgb(255,&nbsp;69,&nbsp;0);&nbsp;&quot;&gt;name&lt;/code&gt; attribute&nbsp;is&nbsp;exactly&nbsp;equal&nbsp;to&nbsp;the &lt;var&nbsp;title=&quot;&quot;&gt;name&lt;/var&gt; argument,&nbsp;and&nbsp;whose &lt;code&nbsp;title=&quot;dom-WorkerGlobalScope-location&quot;&nbsp;style=&quot;font-size:&nbsp;inherit;&nbsp;font-family:&nbsp;monospace,&nbsp;&#39;Droid&nbsp;Sans&nbsp;Fallback&#39;;&nbsp;font-variant:&nbsp;normal;&nbsp;color:&nbsp;rgb(255,&nbsp;69,&nbsp;0);&nbsp;&quot;&gt;&lt;a&nbsp;href=&quot;#dom-workerglobalscope-location&quot;&nbsp;style=&quot;color:&nbsp;inherit;&nbsp;background-image:&nbsp;initial;&nbsp;background-repeat:&nbsp;initial;&nbsp;background-attachment:&nbsp;initial;&nbsp;background-origin:&nbsp;initial;&nbsp;background-clip:&nbsp;initial;&nbsp;background-color:&nbsp;transparent;&nbsp;background-position:&nbsp;initial&nbsp;initial;&nbsp;&quot;&gt;location&lt;/a&gt;&lt;/code&gt; attribute&nbsp;represents&nbsp;an &lt;span&nbsp;style=&quot;border-bottom-style:&nbsp;solid;&nbsp;border-bottom-color:&nbsp;rgb(153,&nbsp;204,&nbsp;153);&nbsp;border-bottom-width:&nbsp;initial;&nbsp;&quot;&gt;absolute&nbsp;URL&lt;/span&gt; that&nbsp;exactly&nbsp;matches the&nbsp;resulting &lt;span&nbsp;style=&quot;border-bottom-style:&nbsp;solid;&nbsp;border-bottom-color:&nbsp;rgb(153,&nbsp;204,&nbsp;153);&nbsp;border-bottom-width:&nbsp;initial;&nbsp;&quot;&gt;absolute&nbsp;URL&lt;/span&gt;,&nbsp;then&nbsp;run&nbsp;these&nbsp;substeps:&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;downside&nbsp;of&nbsp;this&nbsp;change&nbsp;is&nbsp;pages&nbsp;might&nbsp;inadvertently&nbsp;create&nbsp;a&nbsp;second&nbsp;instance&nbsp;of&nbsp;a&nbsp;SharedWorker&nbsp;if&nbsp;they&nbsp;inadvertently&nbsp;use&nbsp;the&nbsp;wrong&nbsp;URL.&nbsp;It&nbsp;seems&nbsp;like&nbsp;this&nbsp;is&nbsp;an&nbsp;acceptable&nbsp;tradeoff&nbsp;given&nbsp;the&nbsp;problems&nbsp;described&nbsp;above.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;do&nbsp;people&nbsp;think&nbsp;of&nbsp;this?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-atw&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;*&nbsp;Thanks&nbsp;to&nbsp;Darin&nbsp;Adler&nbsp;for&nbsp;suggesting&nbsp;this&nbsp;solution&lt;/div&gt;<br>

</tt>
