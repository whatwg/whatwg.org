<tt>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sat,&nbsp;Aug&nbsp;29,&nbsp;2009&nbsp;at&nbsp;2:40&nbsp;PM,&nbsp;Ian&nbsp;Hickson&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:ian@hixie.ch&quot;&gt;ian@hixie.ch&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Mon,&nbsp;17&nbsp;Aug&nbsp;2009,&nbsp;Dmitry&nbsp;Titov&nbsp;wrote:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Currently&nbsp;there&nbsp;is&nbsp;no&nbsp;mechanism&nbsp;to&nbsp;directly&nbsp;share&nbsp;DOM,&nbsp;code&nbsp;and&nbsp;data&nbsp;on&lt;br&gt;<br>
&gt;&nbsp;the&nbsp;same&nbsp;ui&nbsp;thread&nbsp;across&nbsp;several&nbsp;pages&nbsp;of&nbsp;the&nbsp;web&nbsp;application.&lt;br&gt;<br>
&gt;&nbsp;Multi-page&nbsp;applications&nbsp;and&nbsp;the&nbsp;sites&nbsp;that&nbsp;navigate&nbsp;from&nbsp;page&nbsp;to&nbsp;page&lt;br&gt;<br>
&gt;&nbsp;would&nbsp;benefit&nbsp;from&nbsp;having&nbsp;access&nbsp;to&nbsp;a&nbsp;shared&nbsp;&quot;global&nbsp;script&nbsp;context&quot;&lt;br&gt;<br>
&gt;&nbsp;(naming?)&nbsp;with&nbsp;direct&nbsp;synchronous&nbsp;script&nbsp;access&nbsp;and&nbsp;ability&nbsp;to&lt;br&gt;<br>
&gt;&nbsp;manipulate&nbsp;DOM.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;This&nbsp;feature&nbsp;is&nbsp;of&nbsp;minimal&nbsp;use&nbsp;if&nbsp;there&nbsp;are&nbsp;multiple&nbsp;global&nbsp;objects&nbsp;per&lt;br&gt;<br>
application.&nbsp;For&nbsp;instance,&nbsp;if&nbsp;each&nbsp;instance&nbsp;of&nbsp;GMail&nbsp;results&nbsp;in&nbsp;a&nbsp;separate&lt;br&gt;<br>
global&nbsp;object,&nbsp;we&nbsp;really&nbsp;haven&#39;t&nbsp;solved&nbsp;the&nbsp;problem&nbsp;this&nbsp;is&nbsp;setting&nbsp;out&nbsp;to&lt;br&gt;<br>
solve.&nbsp;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;think&nbsp;you&nbsp;assume&nbsp;some&nbsp;specifics...&nbsp;Lets&nbsp;say&nbsp;there&nbsp;is&nbsp;only&nbsp;1&nbsp;&quot;GMail&nbsp;window&quot;&nbsp;and&nbsp;a&nbsp;couple&nbsp;of&nbsp;&#39;compose&nbsp;message&#39;&nbsp;ones&nbsp;-&nbsp;the&nbsp;proposal&nbsp;surely&nbsp;helps&nbsp;this&nbsp;scenario.&nbsp;It&nbsp;also&nbsp;helps&nbsp;the&nbsp;GMail&nbsp;window&nbsp;to&nbsp;navigate&nbsp;between&nbsp;its&nbsp;own&nbsp;views.&nbsp;Running&nbsp;multiple&nbsp;&quot;GMail&nbsp;windows&quot;&nbsp;may&nbsp;in&nbsp;fact&nbsp;be&nbsp;considering&nbsp;running&nbsp;2&nbsp;&quot;GMail&nbsp;applications&quot;&nbsp;in&nbsp;which&nbsp;case&nbsp;having&nbsp;separate&nbsp;context&nbsp;for&nbsp;them&nbsp;might&nbsp;be&nbsp;even&nbsp;desirable.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;We&nbsp;can&nbsp;already&nbsp;get&nbsp;a&nbsp;hold&nbsp;of&nbsp;the&nbsp;Window&nbsp;objects&nbsp;of&nbsp;subwindows&nbsp;(e.g.&lt;br&gt;<br>
for&nbsp;popping&nbsp;out&nbsp;a&nbsp;chat&nbsp;window),&nbsp;which&nbsp;effectively&nbsp;provides&nbsp;a&nbsp;global&lt;br&gt;<br>
object&nbsp;for&nbsp;those&nbsp;cases,&nbsp;so&nbsp;it&#39;s&nbsp;only&nbsp;an&nbsp;interesting&nbsp;proposal&nbsp;if&nbsp;we&nbsp;can&lt;br&gt;<br>
guarantee&nbsp;global&nbsp;objects&nbsp;to&nbsp;more&nbsp;than&nbsp;just&nbsp;those.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;proposal&nbsp;says&nbsp;keep&nbsp;the&nbsp;global&nbsp;object&nbsp;across&nbsp;navigation&nbsp;in&nbsp;the&nbsp;same&nbsp;browsing&nbsp;context.&nbsp;Also,&nbsp;it&nbsp;provides&nbsp;lifetime&nbsp;of&nbsp;the&nbsp;global&nbsp;context&nbsp;that&nbsp;is&nbsp;not&nbsp;limited&nbsp;by&nbsp;the&nbsp;lifetime&nbsp;of&nbsp;one&nbsp;of&nbsp;the&nbsp;windows.&nbsp;That&nbsp;is&nbsp;useful&nbsp;and&nbsp;not&nbsp;possible&nbsp;today.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
However,&nbsp;we&nbsp;can&#39;t.&nbsp;Given&nbsp;that&nbsp;all&nbsp;frames&nbsp;in&nbsp;a&nbsp;browsing&nbsp;context&nbsp;have&nbsp;to&nbsp;be&lt;br&gt;<br>
on&nbsp;the&nbsp;same&nbsp;thread,&nbsp;regardless&nbsp;of&nbsp;domain,&nbsp;then&nbsp;unless&nbsp;we&nbsp;put&nbsp;all&nbsp;the&lt;br&gt;<br>
browsing&nbsp;contexts&nbsp;on&nbsp;the&nbsp;same&nbsp;thread,&nbsp;we&nbsp;can&#39;t&nbsp;guarantee&nbsp;that&nbsp;all&nbsp;frames&lt;br&gt;<br>
from&nbsp;the&nbsp;same&nbsp;domain&nbsp;across&nbsp;all&nbsp;browsing&nbsp;contexts&nbsp;will&nbsp;be&nbsp;on&nbsp;the&nbsp;same&lt;br&gt;<br>
thread.&lt;br&gt;<br>
&lt;br&gt;<br>
But&nbsp;further,&nbsp;we&nbsp;actually&nbsp;wouldn&#39;t&nbsp;want&nbsp;to&nbsp;anyway.&nbsp;One&nbsp;of&nbsp;the&nbsp;goals&nbsp;of&lt;br&gt;<br>
having&nbsp;multiple&nbsp;processes&nbsp;is&nbsp;that&nbsp;if&nbsp;one&nbsp;tab&nbsp;crashes,&nbsp;the&nbsp;others&nbsp;don&#39;t.&nbsp;We&lt;br&gt;<br>
wouldn&#39;t&nbsp;want&nbsp;one&nbsp;GMail&nbsp;crash&nbsp;to&nbsp;take&nbsp;down&nbsp;all&nbsp;GMail,&nbsp;Google&nbsp;Calendar,&lt;br&gt;<br>
Google&nbsp;Chat,&nbsp;Google&nbsp;Reader,&nbsp;Google&nbsp;Search,&nbsp;and&nbsp;Google&nbsp;Voice&nbsp;tabs&nbsp;at&nbsp;once,&lt;br&gt;<br>
not&nbsp;to&nbsp;mention&nbsp;all&nbsp;the&nbsp;blogs&nbsp;that&nbsp;happened&nbsp;to&nbsp;use&nbsp;Google&nbsp;AdSense.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;GMail,&nbsp;Calendar&nbsp;and&nbsp;Reader&nbsp;are&nbsp;currently&nbsp;very&nbsp;separate&nbsp;applications&nbsp;on&nbsp;separate&nbsp;origins. Popup&nbsp;chat&nbsp;windows&nbsp;will&nbsp;be&nbsp;killed&nbsp;today&nbsp;if&nbsp;their&nbsp;opener&nbsp;(GMail&nbsp;window)&nbsp;crashes.&nbsp;Worse,&nbsp;they&nbsp;will&nbsp;be&nbsp;killed&nbsp;even&nbsp;if&nbsp;the&nbsp;opener&nbsp;will&nbsp;be&nbsp;closed&nbsp;-&nbsp;since&nbsp;they&nbsp;are&nbsp;on&nbsp;life&nbsp;support&nbsp;from&nbsp;it&nbsp;-&nbsp;and&nbsp;windows&nbsp;get&nbsp;closed&nbsp;way&nbsp;more&nbsp;often&nbsp;then&nbsp;crashing.&nbsp;Proposal&nbsp;addresses&nbsp;that.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;not&nbsp;sure&nbsp;there&nbsp;is,&nbsp;in&nbsp;fact,&nbsp;a&nbsp;deep&nbsp;technical&nbsp;reason&nbsp;behind&nbsp;some&nbsp;apps&nbsp;existing&nbsp;in&nbsp;a&nbsp;shared&nbsp;origin&nbsp;like&nbsp;&lt;a&nbsp;href=&quot;http://www.google.com&quot;&gt;www.google.com&lt;/a&gt;.&nbsp;It&nbsp;might&nbsp;improve&nbsp;efficiency&nbsp;of&nbsp;some&nbsp;parts&nbsp;of&nbsp;Google&nbsp;infrastructure,&nbsp;but&nbsp;even&nbsp;if&nbsp;it&nbsp;is,&nbsp;it&nbsp;looks&nbsp;like&nbsp;Google&nbsp;is&nbsp;a&nbsp;special&nbsp;case,&nbsp;and&nbsp;we&nbsp;should&nbsp;not&nbsp;design&nbsp;API&nbsp;for&nbsp;the&nbsp;way&nbsp;Google&nbsp;does&nbsp;things&nbsp;currently.&nbsp;There&nbsp;should&nbsp;be&nbsp;ways&nbsp;to&nbsp;tell&nbsp;that&nbsp;specific&nbsp;set&nbsp;of&nbsp;pages&nbsp;form&nbsp;an&nbsp;&quot;application&quot;.&nbsp;Current&nbsp;way&nbsp;to&nbsp;do&nbsp;that,&nbsp;judging&nbsp;from&nbsp;the&nbsp;spec,&nbsp;is&nbsp;same-origin&nbsp;policy&nbsp;-&nbsp;since&nbsp;many&nbsp;decisions&nbsp;are&nbsp;made&nbsp;on&nbsp;such&nbsp;grouping.&nbsp;Whether&nbsp;or&nbsp;not&nbsp;more&nbsp;granular&nbsp;grouping&nbsp;of&nbsp;pages&nbsp;into&nbsp;&quot;applications&quot;&nbsp;is&nbsp;needed&nbsp;remains&nbsp;to&nbsp;be&nbsp;seen&nbsp;(implementation&nbsp;experiment?)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
Furthermore,&nbsp;consider&nbsp;performance&nbsp;going&nbsp;forward.&nbsp;CPUs&nbsp;have&nbsp;pretty&nbsp;much&lt;br&gt;<br>
gotten&nbsp;as&nbsp;fast&nbsp;as&nbsp;they&#39;re&nbsp;getting&nbsp;--&nbsp;all&nbsp;further&nbsp;progress&nbsp;is&nbsp;going&nbsp;to&nbsp;be&lt;br&gt;<br>
in&nbsp;making&nbsp;multithreaded&nbsp;applications&nbsp;that&nbsp;use&nbsp;as&nbsp;many&nbsp;CPUs&nbsp;as&nbsp;possible.&nbsp;We&lt;br&gt;<br>
should&nbsp;actively&nbsp;moving&nbsp;away&nbsp;from&nbsp;single-threaded&nbsp;designs&nbsp;towards&lt;br&gt;<br>
multithreaded&nbsp;designs.&nbsp;A&nbsp;shared&nbsp;global&nbsp;script&nbsp;is&nbsp;firmly&nbsp;in&nbsp;the&nbsp;old&nbsp;way&nbsp;of&lt;br&gt;<br>
doing&nbsp;things,&nbsp;and&nbsp;won&#39;t&nbsp;scale&nbsp;going&nbsp;forward.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Indeed,&nbsp;this&nbsp;proposal&nbsp;has&nbsp;nothing&nbsp;to&nbsp;do&nbsp;with&nbsp;promoting&nbsp;some&nbsp;sort&nbsp;of&nbsp;parallel&nbsp;computations&nbsp;or&nbsp;multi-threading.&nbsp;I&#39;m&nbsp;also&nbsp;not&nbsp;convinced&nbsp;everything&nbsp;which&nbsp;is&nbsp;not&nbsp;multi-threaded&nbsp;is&nbsp;firmly&nbsp;the&nbsp;old&nbsp;way&nbsp;:-)&nbsp;As&nbsp;a&nbsp;member&nbsp;of&nbsp;the&nbsp;team&nbsp;that&nbsp;brought&nbsp;some&nbsp;features&nbsp;to&nbsp;WebKit&nbsp;workers,&nbsp;made&nbsp;workers&nbsp;work&nbsp;in&nbsp;Chrome&nbsp;and&nbsp;is&nbsp;bringing&nbsp;Shared&nbsp;workers&nbsp;to&nbsp;both,&nbsp;I&nbsp;surely&nbsp;can&nbsp;sympathize&nbsp;with&nbsp;looking&nbsp;at&nbsp;multi-threading&nbsp;as&nbsp;a&nbsp;proverbial&nbsp;hammer&nbsp;:-)&nbsp;but&nbsp;it&nbsp;doesn&#39;t&nbsp;look&nbsp;like&nbsp;everything&nbsp;can&nbsp;be&nbsp;done&nbsp;with&nbsp;it.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &gt;&nbsp;Chat&nbsp;application&nbsp;opens&nbsp;separate&nbsp;window&nbsp;for&nbsp;each&nbsp;conversation.&nbsp;Any&nbsp;opened&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
<br>
&gt;&nbsp;window&nbsp;may&nbsp;be&nbsp;closed&nbsp;and&nbsp;user&nbsp;expectation&nbsp;is&nbsp;that&nbsp;remaining&nbsp;windows&lt;br&gt;<br>
&gt;&nbsp;continue&nbsp;to&nbsp;work&nbsp;fine.&nbsp;Loading&nbsp;essentially&nbsp;whole&nbsp;chat&nbsp;application&nbsp;and&lt;br&gt;<br>
&gt;&nbsp;maintaining&nbsp;data&nbsp;structures&nbsp;(roster)&nbsp;in&nbsp;each&nbsp;window&nbsp;takes&nbsp;a&nbsp;lot&nbsp;of&lt;br&gt;<br>
&gt;&nbsp;resources&nbsp;and&nbsp;cpu.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Use&nbsp;a&nbsp;shared&nbsp;worker.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;know&nbsp;that&nbsp;some&nbsp;consider&nbsp;the&nbsp;asynchronous&nbsp;interaction&nbsp;with&nbsp;workers&nbsp;to&nbsp;be&lt;br&gt;<br>
a&nbsp;blocker&nbsp;problem,&nbsp;but&nbsp;I&nbsp;don&#39;t&nbsp;really&nbsp;understand&nbsp;why.&nbsp;We&nbsp;already&nbsp;have&nbsp;to&lt;br&gt;<br>
have&nbsp;asynchronous&nbsp;communication&nbsp;with&nbsp;the&nbsp;server,&nbsp;which&nbsp;holds&nbsp;the&nbsp;roster&lt;br&gt;<br>
data&nbsp;structure,&nbsp;and&nbsp;so&nbsp;on.&nbsp;What&nbsp;difference&nbsp;does&nbsp;it&nbsp;make&nbsp;if&nbsp;instead&nbsp;of&lt;br&gt;<br>
talking&nbsp;to&nbsp;the&nbsp;server,&nbsp;you&nbsp;talk&nbsp;to&nbsp;a&nbsp;worker?&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Global&nbsp;Script&nbsp;is&nbsp;more&nbsp;of&nbsp;the&nbsp;&#39;shared&nbsp;library&#39;&nbsp;then&nbsp;a&nbsp;&#39;server&#39;&nbsp;Again,&nbsp;academically&nbsp;there&nbsp;is&nbsp;no&nbsp;difference.&nbsp;Practically,&nbsp;there&nbsp;is.&nbsp;For&nbsp;example,&nbsp;UI&nbsp;frameworks,&nbsp;like&nbsp;Closure,&nbsp;can&nbsp;be&nbsp;shared&nbsp;across&nbsp;pages&nbsp;-&nbsp;multiple&nbsp;and&nbsp;well&nbsp;as&nbsp;successive,&nbsp;as&nbsp;in&nbsp;navigation&nbsp;from&nbsp;one&nbsp;to&nbsp;another.&nbsp;By&nbsp;not&nbsp;sharing&nbsp;them&nbsp;today,&nbsp;we&nbsp;make&nbsp;ever-faster&nbsp;JS&nbsp;engines&nbsp;to&nbsp;run&nbsp;ever-growing&nbsp;amounts&nbsp;of&nbsp;JS,&nbsp;spending&nbsp;memory,&nbsp;battery&nbsp;power&nbsp;and&nbsp;increasing&nbsp;latencies.&nbsp;It&nbsp;is&nbsp;not&nbsp;practical&nbsp;to&nbsp;share&nbsp;a&nbsp;UI&nbsp;framework&nbsp;in&nbsp;a&nbsp;worker&nbsp;because&nbsp;there&nbsp;are&nbsp;too&nbsp;many&nbsp;of&nbsp;event&nbsp;handlers&nbsp;and&nbsp;bound&nbsp;UI&nbsp;elements&nbsp;that&nbsp;are&nbsp;directly&nbsp;updated&nbsp;by&nbsp;such&nbsp;frameworks.&nbsp;Instead,&nbsp;sharing&nbsp;a&nbsp;library&nbsp;in&nbsp;a&nbsp;global&nbsp;script&nbsp;makes&nbsp;it&nbsp;possible&nbsp;to&nbsp;reduce&nbsp;the&nbsp;amount&nbsp;of&nbsp;script&nbsp;loaded&nbsp;into&nbsp;a&nbsp;popup&nbsp;chat&nbsp;window&nbsp;from&nbsp;0.5Mb&nbsp;to&nbsp;a&nbsp;few&nbsp;kb&nbsp;-&nbsp;that&nbsp;is&nbsp;too&nbsp;big&nbsp;win&nbsp;to&nbsp;pass.&nbsp;We&nbsp;have&nbsp;fast&nbsp;CPUs&nbsp;and&nbsp;gigabytes&nbsp;of&nbsp;ram&nbsp;though&nbsp;the&nbsp;shared&nbsp;libraries&nbsp;are&nbsp;still&nbsp;a&nbsp;good&nbsp;idea.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&gt;&nbsp;In&nbsp;an&nbsp;email&nbsp;application,&nbsp;a&nbsp;user&nbsp;may&nbsp;want&nbsp;to&nbsp;open&nbsp;a&nbsp;separate&nbsp;&quot;compose&quot;&lt;br&gt;<br>
<br>
&gt;&nbsp;window&nbsp;for&nbsp;a&nbsp;new&nbsp;email,&nbsp;often&nbsp;after&nbsp;she&nbsp;started&nbsp;to&nbsp;&quot;answer&nbsp;in&nbsp;place&quot;&nbsp;but&lt;br&gt;<br>
&gt;&nbsp;realized&nbsp;she&#39;d&nbsp;like&nbsp;to&nbsp;look&nbsp;up&nbsp;something&nbsp;else&nbsp;in&nbsp;the&nbsp;mailbox&nbsp;for&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;answer.&nbsp;This&nbsp;could&nbsp;be&nbsp;an&nbsp;instantaneous&nbsp;operation&nbsp;if&nbsp;the&nbsp;whole&nbsp;html&nbsp;tree&lt;br&gt;<br>
&gt;&nbsp;and&nbsp;the&nbsp;compose&nbsp;editor&nbsp;script&nbsp;were&nbsp;shared.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;This&nbsp;is&nbsp;possible&nbsp;without&nbsp;a&nbsp;shared&nbsp;global&nbsp;script&nbsp;--&nbsp;it&#39;s&nbsp;possible&nbsp;now,&nbsp;in&lt;br&gt;<br>
fact.&nbsp;Just&nbsp;open&nbsp;a&nbsp;window,&nbsp;and&nbsp;graft&nbsp;the&nbsp;DOM&nbsp;tree&nbsp;from&nbsp;the&nbsp;original&nbsp;window&lt;br&gt;<br>
into&nbsp;the&nbsp;new&nbsp;window.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;that&nbsp;is&nbsp;what&nbsp;GMail&nbsp;is&nbsp;doing&nbsp;today&nbsp;-&nbsp;but&nbsp;you&nbsp;still&nbsp;have&nbsp;that&nbsp;&quot;progress&nbsp;indicator&quot;&nbsp;before&nbsp;the&nbsp;new&nbsp;compositing&nbsp;window&nbsp;foes&nbsp;live&nbsp;-&nbsp;and&nbsp;if&nbsp;you&nbsp;close&nbsp;the&nbsp;&#39;opener&#39;&nbsp;window&nbsp;while&nbsp;it&nbsp;happens&nbsp;(too&nbsp;often&nbsp;that&nbsp;takes&nbsp;a&nbsp;long&nbsp;time),&nbsp;you&nbsp;likely&nbsp;loose&nbsp;the&nbsp;half-constructed&nbsp;message.&nbsp;So&nbsp;we&nbsp;sat&nbsp;with&nbsp;GMail&nbsp;guys&nbsp;and&nbsp;came&nbsp;up&nbsp;with&nbsp;Global&nbsp;Script&nbsp;idea.&nbsp;In&nbsp;fact,&nbsp;those&nbsp;&#39;tear-offs&#39;&nbsp;are&nbsp;a&nbsp;paint&nbsp;point&nbsp;exactly&nbsp;because&nbsp;they&nbsp;effectively&nbsp;have&nbsp;to&nbsp;load/start&nbsp;the&nbsp;whole&nbsp;&quot;GMail&nbsp;application&quot;&nbsp;to&nbsp;become&nbsp;independent&nbsp;from&nbsp;the&nbsp;&#39;opener&#39;.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;div&gt;&gt;&nbsp;Such&nbsp;multiple-window&nbsp;use&nbsp;cases&nbsp;could&nbsp;be&nbsp;simpler&nbsp;and&nbsp;use&nbsp;much&nbsp;less&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
&gt;&nbsp;resources&nbsp;if&nbsp;they&nbsp;had&nbsp;access&nbsp;to&nbsp;a&nbsp;shared&nbsp;Global&nbsp;Script&nbsp;Context&nbsp;so&nbsp;there&lt;br&gt;<br>
&gt;&nbsp;is&nbsp;no&nbsp;need&nbsp;to&nbsp;re-initialize&nbsp;and&nbsp;maintain&nbsp;the&nbsp;same&nbsp;state&nbsp;in&nbsp;all&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;pages.&nbsp;Having&nbsp;direct,&nbsp;same-thread&nbsp;DOM/JS&nbsp;access&nbsp;to&nbsp;this&nbsp;context&nbsp;makes&nbsp;it&lt;br&gt;<br>
&gt;&nbsp;possible&nbsp;to&nbsp;avoid&nbsp;loading&nbsp;and&nbsp;initialization&nbsp;of&nbsp;repetitive&nbsp;code&nbsp;and&lt;br&gt;<br>
&gt;&nbsp;data,&nbsp;makes&nbsp;separate&nbsp;&#39;UI&nbsp;windows&#39;&nbsp;simpler&nbsp;and&nbsp;independent.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;There&#39;s&nbsp;no&nbsp;need&nbsp;for&nbsp;this&nbsp;case&nbsp;to&nbsp;use&nbsp;shared&nbsp;_global_&nbsp;script;&nbsp;a&nbsp;shared&lt;br&gt;<br>
script&nbsp;just&nbsp;between&nbsp;the&nbsp;original&nbsp;window&nbsp;and&nbsp;the&nbsp;popped-out&nbsp;window&nbsp;is&lt;br&gt;<br>
sufficient&nbsp;(and&nbsp;already&nbsp;supported).&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Not&nbsp;sufficient&nbsp;-&nbsp;because&nbsp;of&nbsp;the&nbsp;artificial&nbsp;requirement&nbsp;to&nbsp;keep&nbsp;one&nbsp;of&nbsp;the&nbsp;windows&nbsp;open&nbsp;all&nbsp;the&nbsp;time&nbsp;-&nbsp;which&nbsp;is&nbsp;unnatural&nbsp;for&nbsp;the&nbsp;users&nbsp;who&nbsp;usually&nbsp;treat&nbsp;windows&nbsp;of&nbsp;the&nbsp;same&nbsp;site&nbsp;as&nbsp;&#39;peers&#39;.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;do&nbsp;agree&nbsp;that&nbsp;experience&nbsp;of&nbsp;practical&nbsp;implementation&nbsp;would&nbsp;be&nbsp;very&nbsp;valuable&nbsp;here.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Dmitry&lt;/div&gt;&lt;div&gt;Dmitry&lt;/div&gt;&lt;/div&gt;<br>

</tt>
