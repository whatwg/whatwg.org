<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2900.3698&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
color=#0000ff&nbsp;size=2&gt;Please&nbsp;see&nbsp;my&nbsp;in-line&nbsp;comments&nbsp;<br>
below:&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;BR&gt;<br>
&lt;BLOCKQUOTE&nbsp;<br>
style=&quot;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#0000ff&nbsp;2px&nbsp;solid;&nbsp;MARGIN-RIGHT:&nbsp;0px&quot;&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=OutlookMessageHeader&nbsp;lang=en-us&nbsp;dir=ltr&nbsp;align=left&gt;<br>
&nbsp;&nbsp;&lt;HR&nbsp;tabIndex=-1&gt;<br>
&nbsp;&nbsp;&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;&lt;B&gt;From:&lt;/B&gt;&nbsp;rocallahan@gmail.com&nbsp;<br>
&nbsp;&nbsp;[mailto:rocallahan@gmail.com]&nbsp;&lt;B&gt;On&nbsp;Behalf&nbsp;Of&nbsp;&lt;/B&gt;ext&nbsp;Robert&nbsp;<br>
&nbsp;&nbsp;O'Callahan&lt;BR&gt;&lt;B&gt;Sent:&lt;/B&gt;&nbsp;Monday,&nbsp;January&nbsp;03,&nbsp;2011&nbsp;5:56&nbsp;PM&lt;BR&gt;&lt;B&gt;To:&lt;/B&gt;&nbsp;<br>
&nbsp;&nbsp;Szabo&nbsp;Carol&nbsp;(Nokia-MS/Boston)&lt;BR&gt;&lt;B&gt;Cc:&lt;/B&gt;&nbsp;chuck@jumis.com;&nbsp;<br>
&nbsp;&nbsp;whatwg@whatwg.org&lt;BR&gt;&lt;B&gt;Subject:&lt;/B&gt;&nbsp;Re:&nbsp;[whatwg]&nbsp;Fwd:&nbsp;RE:&nbsp;Inconsistent&nbsp;<br>
&nbsp;&nbsp;behaviour&nbsp;of&nbsp;globalCompositeOperation&nbsp;property&lt;BR&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=gmail_quote&gt;<br>
&nbsp;&nbsp;&lt;BLOCKQUOTE&nbsp;class=gmail_quote&nbsp;<br>
&nbsp;&nbsp;style=&quot;PADDING-LEFT:&nbsp;1ex;&nbsp;MARGIN:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;BORDER-LEFT:&nbsp;rgb(204,204,204)&nbsp;1px&nbsp;solid&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&gt;&lt;SPAN&nbsp;lang=EN&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;HTML5&nbsp;-&nbsp;Canvas.&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;I&nbsp;have&nbsp;read&nbsp;this&nbsp;thread&nbsp;(from&nbsp;and&nbsp;of&nbsp;July&nbsp;2010)&nbsp;and&nbsp;I&nbsp;happen&nbsp;to&nbsp;agree&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;the&nbsp;Safari/Chromium&nbsp;implementation&nbsp;is&nbsp;more&nbsp;intuitive,&nbsp;and&nbsp;likely&nbsp;less&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;expensive&nbsp;to&nbsp;implement,&nbsp;therefore&nbsp;I&nbsp;offer&nbsp;these&nbsp;2&nbsp;proposals&nbsp;for&nbsp;changing&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;spec's&nbsp;Drawing&nbsp;model&nbsp;section&nbsp;to&nbsp;match&nbsp;what&nbsp;I&nbsp;perceive&nbsp;to&nbsp;be&nbsp;the&nbsp;preference&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;most&nbsp;people&nbsp;in&nbsp;that&nbsp;discussion.&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;Of&nbsp;note:&nbsp;According&nbsp;to&nbsp;the&nbsp;current&nbsp;Drawing&nbsp;model,&nbsp;an&nbsp;opaque&nbsp;shape's&nbsp;shadow&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;would&nbsp;be&nbsp;erased&nbsp;as&nbsp;part&nbsp;of&nbsp;step&nbsp;6&nbsp;when&nbsp;drawn&nbsp;with&nbsp;source-in&nbsp;composite&nbsp;Mode&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;globalAlpha&nbsp;is&nbsp;1,&nbsp;which&nbsp;is&nbsp;probably&nbsp;not&nbsp;the&nbsp;intended&nbsp;behavior.&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;Version&nbsp;1:&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;4.8.11.1.13&nbsp;Drawing&nbsp;model&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&nbsp;&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;When&nbsp;a&nbsp;shape&nbsp;or&nbsp;image&nbsp;is&nbsp;painted,&nbsp;user&nbsp;agents&nbsp;must&nbsp;follow&nbsp;these&nbsp;steps,&nbsp;in&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;order&nbsp;given&nbsp;(or&nbsp;act&nbsp;as&nbsp;if&nbsp;they&nbsp;do):&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;1.&nbsp;Render&nbsp;the&nbsp;shape&nbsp;or&nbsp;image&nbsp;onto&nbsp;an&nbsp;infinite&nbsp;transparent&nbsp;black&nbsp;bitmap,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;creating&nbsp;image&nbsp;M1,&nbsp;as&nbsp;described&nbsp;in&nbsp;the&nbsp;previous&nbsp;sections&nbsp;except&nbsp;that&nbsp;for&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;purpose&nbsp;of&nbsp;this&nbsp;step&nbsp;every&nbsp;pixel&nbsp;of&nbsp;the&nbsp;image&nbsp;will&nbsp;be&nbsp;considered&nbsp;to&nbsp;be&nbsp;fully&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;opaque&nbsp;white&nbsp;and&nbsp;the&nbsp;current&nbsp;fillStyle&nbsp;will&nbsp;be&nbsp;considered&nbsp;to&nbsp;be&nbsp;solid&nbsp;fully&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;opaque&nbsp;white&nbsp;and&nbsp;the&nbsp;strokeStyle&nbsp;will&nbsp;be&nbsp;considered&nbsp;fullyOpaque&nbsp;white&nbsp;as&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;well&nbsp;&lt;BR&gt;&lt;/P&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;<br>
&nbsp;&nbsp;&lt;BLOCKQUOTE&nbsp;class=gmail_quote&nbsp;<br>
&nbsp;&nbsp;style=&quot;PADDING-LEFT:&nbsp;1ex;&nbsp;MARGIN:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;BORDER-LEFT:&nbsp;rgb(204,204,204)&nbsp;1px&nbsp;solid&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&gt;&lt;SPAN&nbsp;lang=EN&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;2.&nbsp;When&nbsp;shadows&nbsp;are&nbsp;drawn,&nbsp;render&nbsp;the&nbsp;shadow&nbsp;from&nbsp;image&nbsp;M1,&nbsp;using&nbsp;a&nbsp;fully&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;opaque&nbsp;white&nbsp;shadow&nbsp;color&nbsp;as&nbsp;described&nbsp;in&nbsp;the&nbsp;shadows&nbsp;section,&nbsp;creating&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;image&nbsp;M2.&nbsp;&lt;/P&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;<br>
&nbsp;&nbsp;&lt;BLOCKQUOTE&nbsp;class=gmail_quote&nbsp;<br>
&nbsp;&nbsp;style=&quot;PADDING-LEFT:&nbsp;1ex;&nbsp;MARGIN:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;BORDER-LEFT:&nbsp;rgb(204,204,204)&nbsp;1px&nbsp;solid&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&gt;&lt;SPAN&nbsp;lang=EN&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;3.&nbsp;Let&nbsp;C1&nbsp;be&nbsp;a&nbsp;region&nbsp;obtained&nbsp;by&nbsp;intersecting&nbsp;the&nbsp;canvas's&nbsp;cliping&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;region&nbsp;with&nbsp;the&nbsp;set&nbsp;of&nbsp;pixels&nbsp;in&nbsp;the&nbsp;canvas&nbsp;that&nbsp;correspond&nbsp;to&nbsp;pixels&nbsp;in&nbsp;M1&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;(by&nbsp;having&nbsp;the&nbsp;same&nbsp;coordinates)&nbsp;that&nbsp;are&nbsp;not&nbsp;fully&nbsp;transparent.&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;4.&nbsp;Let&nbsp;C2&nbsp;be&nbsp;a&nbsp;region&nbsp;obtained&nbsp;by&nbsp;intersecting&nbsp;the&nbsp;canvas's&nbsp;cliping&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;region&nbsp;with&nbsp;the&nbsp;set&nbsp;of&nbsp;pixels&nbsp;in&nbsp;the&nbsp;canvas&nbsp;that&nbsp;correspond&nbsp;to&nbsp;pixels&nbsp;in&nbsp;M2&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;(by&nbsp;having&nbsp;the&nbsp;same&nbsp;coordinates)&nbsp;that&nbsp;are&nbsp;not&nbsp;fully&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;transparent.&lt;/P&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;<br>
&nbsp;&nbsp;&lt;BLOCKQUOTE&nbsp;class=gmail_quote&nbsp;<br>
&nbsp;&nbsp;style=&quot;PADDING-LEFT:&nbsp;1ex;&nbsp;MARGIN:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;BORDER-LEFT:&nbsp;rgb(204,204,204)&nbsp;1px&nbsp;solid&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&gt;&lt;SPAN&nbsp;lang=EN&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;5.&nbsp;Render&nbsp;the&nbsp;shape&nbsp;or&nbsp;image&nbsp;onto&nbsp;an&nbsp;infinite&nbsp;transparent&nbsp;black&nbsp;bitmap,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;creating&nbsp;image&nbsp;A,&nbsp;as&nbsp;described&nbsp;in&nbsp;the&nbsp;previous&nbsp;sections.&nbsp;For&nbsp;shapes,&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;current&nbsp;fill,&nbsp;stroke,&nbsp;and&nbsp;line&nbsp;styles&nbsp;must&nbsp;be&nbsp;honored,&nbsp;and&nbsp;the&nbsp;stroke&nbsp;must&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;itself&nbsp;also&nbsp;be&nbsp;subjected&nbsp;to&nbsp;the&nbsp;current&nbsp;transformation&nbsp;matrix.&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;6.&nbsp;When&nbsp;shadows&nbsp;are&nbsp;drawn,&nbsp;render&nbsp;the&nbsp;shadow&nbsp;from&nbsp;image&nbsp;A,&nbsp;using&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;current&nbsp;shadow&nbsp;styles,&nbsp;creating&nbsp;image&nbsp;B.&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;7.&nbsp;When&nbsp;shadows&nbsp;are&nbsp;drawn,&nbsp;multiply&nbsp;the&nbsp;alpha&nbsp;component&nbsp;of&nbsp;every&nbsp;pixel&nbsp;in&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;by&nbsp;globalAlpha.&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;8.&nbsp;When&nbsp;shadows&nbsp;are&nbsp;drawn,&nbsp;composite&nbsp;B&nbsp;with&nbsp;the&nbsp;current&nbsp;canvas&nbsp;bitmap,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;cliping&nbsp;results&nbsp;to&nbsp;region&nbsp;C2&nbsp;defined&nbsp;above,&nbsp;using&nbsp;the&nbsp;current&nbsp;composition&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;operator.&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;9.&nbsp;Multiply&nbsp;the&nbsp;alpha&nbsp;component&nbsp;of&nbsp;every&nbsp;pixel&nbsp;in&nbsp;A&nbsp;by&nbsp;globalAlpha.&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;10.&nbsp;Composite&nbsp;A&nbsp;with&nbsp;the&nbsp;current&nbsp;canvas&nbsp;bitmap,&nbsp;cliping&nbsp;results&nbsp;to&nbsp;region&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;C1&nbsp;defined&nbsp;above,&nbsp;using&nbsp;the&nbsp;current&nbsp;composition&nbsp;operator.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/P&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;size=2&gt;&lt;/FONT&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&lt;BR&gt;Making&nbsp;a&nbsp;binary&nbsp;<br>
&nbsp;&nbsp;fully-transparent/not-fully-transparent&nbsp;per-pixel&nbsp;decision&nbsp;to&nbsp;create&nbsp;regions&nbsp;<br>
&nbsp;&nbsp;C1&nbsp;and&nbsp;C2&nbsp;seems&nbsp;like&nbsp;it&nbsp;can't&nbsp;be&nbsp;right&nbsp;in&nbsp;the&nbsp;presence&nbsp;of&nbsp;<br>
&nbsp;&nbsp;antialiasing.&lt;BR&gt;&lt;BR&gt;Suppose&nbsp;we&nbsp;have&nbsp;a&nbsp;path&nbsp;filled&nbsp;with&nbsp;black&nbsp;and&nbsp;operator&nbsp;<br>
&nbsp;&nbsp;&quot;copy&quot;.&nbsp;Any&nbsp;pixel&nbsp;on&nbsp;the&nbsp;edge&nbsp;of&nbsp;that&nbsp;path&nbsp;that&nbsp;gets&nbsp;any&nbsp;nonzero&nbsp;coverage&nbsp;<br>
&nbsp;&nbsp;value&nbsp;from&nbsp;antialiasing&nbsp;will&nbsp;end&nbsp;up&nbsp;solid&nbsp;black&nbsp;with&nbsp;this&nbsp;proposal.&nbsp;That's&nbsp;<br>
&nbsp;&nbsp;going&nbsp;to&nbsp;look&nbsp;very&nbsp;ugly.&nbsp;We'll&nbsp;want&nbsp;a&nbsp;solution&nbsp;where&nbsp;any&nbsp;canvas&nbsp;pixel&nbsp;which&nbsp;<br>
&nbsp;&nbsp;has&nbsp;a&nbsp;very&nbsp;small&nbsp;amount&nbsp;of&nbsp;coverage&nbsp;by&nbsp;the&nbsp;path&nbsp;will&nbsp;be&nbsp;mostly&nbsp;unchanged&nbsp;in&nbsp;<br>
&nbsp;&nbsp;the&nbsp;final&nbsp;result.&lt;BR&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;color=#0000ff&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;color=#0000ff&nbsp;size=2&gt;I&nbsp;do&nbsp;not&nbsp;understand&nbsp;why&nbsp;pixels&nbsp;touched&nbsp;by&nbsp;antialiasing&nbsp;<br>
&nbsp;&nbsp;are&nbsp;going&nbsp;to&nbsp;be&nbsp;solid&nbsp;black.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;color=#0000ff&nbsp;size=2&gt;The&nbsp;way&nbsp;I&nbsp;understand&nbsp;antialiasing&nbsp;(and&nbsp;maybe&nbsp;I&nbsp;am&nbsp;wrong),&nbsp;<br>
&nbsp;&nbsp;pixels&nbsp;that&nbsp;are&nbsp;partly&nbsp;touched&nbsp;retained&nbsp;partly&nbsp;their&nbsp;old&nbsp;color&nbsp;and&nbsp;<br>
&nbsp;&nbsp;transparency&nbsp;and&nbsp;get&nbsp;parly&nbsp;the&nbsp;new&nbsp;color&nbsp;and&nbsp;transparency.&nbsp;More&nbsp;<br>
&nbsp;&nbsp;precisely&nbsp;the&nbsp;resulting&nbsp;transparency&nbsp;and&nbsp;color&nbsp;components&nbsp;an&nbsp;average&nbsp;of&nbsp;<br>
&nbsp;&nbsp;the&nbsp;color&nbsp;component&nbsp;being&nbsp;painted&nbsp;and&nbsp;the&nbsp;previous&nbsp;color&nbsp;component&nbsp;weighted&nbsp;by&nbsp;<br>
&nbsp;&nbsp;the&nbsp;coverage&nbsp;fraction&nbsp;of&nbsp;the&nbsp;pixel.&nbsp;Hence&nbsp;partially&nbsp;covered&nbsp;pixels&nbsp;are&nbsp;<br>
&nbsp;&nbsp;partially&nbsp;transparent,&nbsp;thus&nbsp;the&nbsp;background&nbsp;behind&nbsp;the&nbsp;canvas&nbsp;should&nbsp;shine&nbsp;<br>
&nbsp;&nbsp;through&nbsp;and&nbsp;the&nbsp;partially&nbsp;covered&nbsp;pixels&nbsp;won't&nbsp;be&nbsp;entirely&nbsp;black&nbsp;unless&nbsp;<br>
&nbsp;&nbsp;that&nbsp;background&nbsp;is&nbsp;black&nbsp;as&nbsp;well.&nbsp;I&nbsp;agree&nbsp;with&nbsp;you&nbsp;though&nbsp;that&nbsp;there&nbsp;are&nbsp;<br>
&nbsp;&nbsp;cases&nbsp;when&nbsp;inappropriately&nbsp;using&nbsp;globalCompositeOperation&nbsp;can&nbsp;yield&nbsp;ugly&nbsp;and&nbsp;<br>
&nbsp;&nbsp;perhaps&nbsp;surprising&nbsp;results,&nbsp;such&nbsp;as&nbsp;in&nbsp;the&nbsp;case&nbsp;you&nbsp;described&nbsp;if&nbsp;the&nbsp;<br>
&nbsp;&nbsp;canvas&nbsp;is&nbsp;completely&nbsp;red&nbsp;before&nbsp;the&nbsp;operation&nbsp;and&nbsp;it&nbsp;is&nbsp;put&nbsp;on&nbsp;a&nbsp;page&nbsp;that&nbsp;has&nbsp;<br>
&nbsp;&nbsp;green&nbsp;background,&nbsp;thus&nbsp;the&nbsp;shape&nbsp;will&nbsp;acquire&nbsp;an&nbsp;unexpected&nbsp;slightly&nbsp;<br>
&nbsp;&nbsp;green&nbsp;rim&nbsp;between&nbsp;black&nbsp;and&nbsp;red.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;color=#0000ff&nbsp;size=2&gt;I&nbsp;still&nbsp;believe&nbsp;that&nbsp;this&nbsp;behavior&nbsp;as&nbsp;ugly&nbsp;as&nbsp;it&nbsp;may&nbsp;be&nbsp;<br>
&nbsp;&nbsp;in&nbsp;some&nbsp;cases,&nbsp;is&nbsp;still&nbsp;preferable&nbsp;to&nbsp;not&nbsp;being&nbsp;able&nbsp;to&nbsp;do&nbsp;shadows&nbsp;when&nbsp;using&nbsp;<br>
&nbsp;&nbsp;the&nbsp;copy&nbsp;operation&nbsp;(as&nbsp;results&nbsp;from&nbsp;the&nbsp;standard's&nbsp;current&nbsp;language),&nbsp;is&nbsp;more&nbsp;<br>
&nbsp;&nbsp;intuitive&nbsp;and&nbsp;less&nbsp;resource&nbsp;intensive&nbsp;(to&nbsp;me&nbsp;the&nbsp;less&nbsp;resource&nbsp;intensive&nbsp;is&nbsp;<br>
&nbsp;&nbsp;the&nbsp;most&nbsp;important&nbsp;part).&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&nbsp;&lt;/SPAN&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;BLOCKQUOTE&nbsp;class=gmail_quote&nbsp;<br>
&nbsp;&nbsp;style=&quot;PADDING-LEFT:&nbsp;1ex;&nbsp;MARGIN:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;BORDER-LEFT:&nbsp;rgb(204,204,204)&nbsp;1px&nbsp;solid&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;Version&nbsp;2:&lt;SPAN&gt;&lt;SPAN&nbsp;lang=EN&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&nbsp;&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;4.8.11.1.13&nbsp;Drawing&nbsp;model&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&nbsp;&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;When&nbsp;a&nbsp;shape&nbsp;or&nbsp;image&nbsp;is&nbsp;painted,&nbsp;user&nbsp;agents&nbsp;must&nbsp;follow&nbsp;these&nbsp;steps,&nbsp;in&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;order&nbsp;given&nbsp;(or&nbsp;act&nbsp;as&nbsp;if&nbsp;they&nbsp;do):&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;1.&nbsp;Render&nbsp;the&nbsp;shape&nbsp;or&nbsp;image&nbsp;onto&nbsp;an&nbsp;infinite&nbsp;transparent&nbsp;black&nbsp;bitmap,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;creating&nbsp;image&nbsp;A,&nbsp;as&nbsp;described&nbsp;in&nbsp;the&nbsp;previous&nbsp;sections.&nbsp;For&nbsp;shapes,&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;current&nbsp;fill,&nbsp;stroke,&nbsp;and&nbsp;line&nbsp;styles&nbsp;must&nbsp;be&nbsp;honored,&nbsp;and&nbsp;the&nbsp;stroke&nbsp;must&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;itself&nbsp;also&nbsp;be&nbsp;subjected&nbsp;to&nbsp;the&nbsp;current&nbsp;transformation&nbsp;matrix.&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;2.&nbsp;When&nbsp;shadows&nbsp;are&nbsp;drawn,&nbsp;render&nbsp;the&nbsp;shadow&nbsp;from&nbsp;image&nbsp;A,&nbsp;using&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;current&nbsp;shadow&nbsp;styles,&nbsp;creating&nbsp;image&nbsp;B.&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;3.&nbsp;When&nbsp;shadows&nbsp;are&nbsp;drawn,&nbsp;multiply&nbsp;the&nbsp;alpha&nbsp;component&nbsp;of&nbsp;every&nbsp;pixel&nbsp;in&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;by&nbsp;globalAlpha.&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;4.&nbsp;When&nbsp;shadows&nbsp;are&nbsp;drawn,&nbsp;composite,&nbsp;using&nbsp;the&nbsp;current&nbsp;composition&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;operator,&nbsp;B&nbsp;with&nbsp;the&nbsp;current&nbsp;canvas&nbsp;bitmap,&nbsp;cliping&nbsp;results&nbsp;to&nbsp;the&nbsp;cliping&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;region&nbsp;of&nbsp;the&nbsp;canvas&nbsp;and&nbsp;to&nbsp;the&nbsp;pixels&nbsp;that&nbsp;would&nbsp;have&nbsp;taken&nbsp;the&nbsp;shadow's&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;color&nbsp;if&nbsp;the&nbsp;composition&nbsp;operator&nbsp;would&nbsp;have&nbsp;been&nbsp;source-over&nbsp;and&nbsp;the&nbsp;shadow&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;would&nbsp;have&nbsp;been&nbsp;fully&nbsp;opaque&nbsp;and&nbsp;the&nbsp;globalAlpha&nbsp;would&nbsp;have&nbsp;been&nbsp;1.&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;5.&nbsp;Multiply&nbsp;the&nbsp;alpha&nbsp;component&nbsp;of&nbsp;every&nbsp;pixel&nbsp;in&nbsp;A&nbsp;by&nbsp;globalAlpha.&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;6.&nbsp;Composite,&nbsp;using&nbsp;the&nbsp;current&nbsp;composition&nbsp;operator,&nbsp;A&nbsp;with&nbsp;the&nbsp;current&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;canvas&nbsp;bitmap,&nbsp;cliping&nbsp;results&nbsp;to&nbsp;the&nbsp;cliping&nbsp;region&nbsp;of&nbsp;the&nbsp;canvas&nbsp;and&nbsp;to&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;pixels&nbsp;that&nbsp;would&nbsp;have&nbsp;taken&nbsp;the&nbsp;shape's&nbsp;or&nbsp;image's&nbsp;pixel&nbsp;color&nbsp;if&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;composition&nbsp;operator&nbsp;would&nbsp;have&nbsp;been&nbsp;source-over&nbsp;and&nbsp;the&nbsp;image&nbsp;would&nbsp;have&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;been&nbsp;fully&nbsp;opaque,&nbsp;the&nbsp;fillStyle&nbsp;and&nbsp;strokeStyle&nbsp;would&nbsp;have&nbsp;been&nbsp;a&nbsp;solid&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;fully&nbsp;opaque&nbsp;color,&nbsp;and&nbsp;the&nbsp;globalAlpha&nbsp;would&nbsp;have&nbsp;been&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;1&lt;/P&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;size=2&gt;&lt;/FONT&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&lt;BR&gt;Again,&nbsp;this&nbsp;needs&nbsp;to&nbsp;be&nbsp;<br>
&nbsp;&nbsp;modified&nbsp;to&nbsp;take&nbsp;into&nbsp;account&nbsp;the&nbsp;possibility&nbsp;that&nbsp;some&nbsp;pixels&nbsp;are&nbsp;partially&nbsp;<br>
&nbsp;&nbsp;covered.&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;size=2&gt;Again,&nbsp;as&nbsp;above,&nbsp;Porter-Duff&nbsp;does&nbsp;not&nbsp;allow&nbsp;for&nbsp;partially&nbsp;applying&nbsp;<br>
&nbsp;&nbsp;the&nbsp;composition&nbsp;operator.&nbsp;For&nbsp;every&nbsp;pair&nbsp;of&nbsp;source&nbsp;and&nbsp;target&nbsp;pixels,&nbsp;the&nbsp;<br>
&nbsp;&nbsp;operator&nbsp;is&nbsp;applied.&nbsp;The&nbsp;only&nbsp;question&nbsp;is&nbsp;what&nbsp;are&nbsp;the&nbsp;source&nbsp;pixels&nbsp;to&nbsp;be&nbsp;<br>
&nbsp;&nbsp;paired&nbsp;with&nbsp;the&nbsp;target.&nbsp;The&nbsp;current&nbsp;language&nbsp;of&nbsp;the&nbsp;standard&lt;/FONT&gt;&nbsp;&lt;FONT&nbsp;<br>
&nbsp;&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;provides&nbsp;one&nbsp;or&nbsp;even&nbsp;two&nbsp;<br>
&nbsp;&nbsp;(in&nbsp;case&nbsp;of&nbsp;shadows)&nbsp;source&nbsp;pixel(s)&nbsp;for&nbsp;every&nbsp;target&nbsp;pixel&nbsp;inside&nbsp;<br>
&nbsp;&nbsp;the&nbsp;cliping&nbsp;region.&nbsp;This&nbsp;is&nbsp;expensive&nbsp;and&nbsp;leads&nbsp;to&nbsp;non-intuitive&nbsp;behaviors&nbsp;<br>
&nbsp;&nbsp;such&nbsp;as&nbsp;loss&nbsp;shadows&nbsp;with&nbsp;some&nbsp;operations.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;My&nbsp;<br>
&nbsp;&nbsp;proposal&nbsp;is&nbsp;to&nbsp;apply&nbsp;the&nbsp;composition&nbsp;operator&nbsp;only&nbsp;to&nbsp;pixels&nbsp;covered&nbsp;by&nbsp;the&nbsp;<br>
&nbsp;&nbsp;source&nbsp;inside&nbsp;the&nbsp;cliping&nbsp;region,&nbsp;of&nbsp;course.&nbsp;The&nbsp;question&nbsp;is&nbsp;the&nbsp;definition&nbsp;of&nbsp;<br>
&nbsp;&nbsp;covered.&nbsp;I&nbsp;chose&nbsp;for&nbsp;that&nbsp;the&nbsp;pixels&nbsp;that&nbsp;would&nbsp;be&nbsp;changed&nbsp;by&nbsp;a&nbsp;plain&nbsp;solid&nbsp;<br>
&nbsp;&nbsp;brush/pen&nbsp;in&nbsp;the&nbsp;graphics&nbsp;system.&nbsp;The&nbsp;hope&nbsp;is&nbsp;that&nbsp;the&nbsp;whole&nbsp;trick&nbsp;with&nbsp;2&nbsp;<br>
&nbsp;&nbsp;infinite&nbsp;canvases&nbsp;in&nbsp;reality&nbsp;will&nbsp;be&nbsp;just&nbsp;a&nbsp;way&nbsp;of&nbsp;explaining&nbsp;how&nbsp;the&nbsp;result&nbsp;<br>
&nbsp;&nbsp;should&nbsp;look&nbsp;like&nbsp;and&nbsp;that&nbsp;drawing&nbsp;a&nbsp;shape&nbsp;and&nbsp;compositing&nbsp;an&nbsp;image&nbsp;shall&nbsp;be&nbsp;<br>
&nbsp;&nbsp;done&nbsp;using&nbsp;simple&nbsp;graphics&nbsp;primitives&nbsp;in-place&nbsp;avoiding&nbsp;the&nbsp;need&nbsp;for&nbsp;extra&nbsp;<br>
&nbsp;&nbsp;memory&nbsp;and&nbsp;calculation.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;I&nbsp;<br>
&nbsp;&nbsp;myself&nbsp;have&nbsp;no&nbsp;particular&nbsp;quarel&nbsp;with&nbsp;the&nbsp;current&nbsp;spec&nbsp;language&nbsp;other&nbsp;than&nbsp;the&nbsp;<br>
&nbsp;&nbsp;fact&nbsp;that&nbsp;it&nbsp;looses&nbsp;shadows&nbsp;and&nbsp;that&nbsp;it&nbsp;is&nbsp;very&nbsp;expensive&nbsp;to&nbsp;implement&nbsp;with&nbsp;<br>
&nbsp;&nbsp;graphics&nbsp;primitives&nbsp;that&nbsp;I&nbsp;know&nbsp;of,&nbsp;due&nbsp;to&nbsp;the&nbsp;need&nbsp;to&nbsp;alocate&nbsp;large&nbsp;<br>
&nbsp;&nbsp;intermediary&nbsp;images&nbsp;to&nbsp;be&nbsp;composited&nbsp;later,&nbsp;rather&nbsp;then&nbsp;drawing&nbsp;directly&nbsp;on&nbsp;<br>
&nbsp;&nbsp;the&nbsp;target&nbsp;bitmap&nbsp;using&nbsp;an&nbsp;appropriate&nbsp;pen&nbsp;and&nbsp;compositor.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;If&nbsp;<br>
&nbsp;&nbsp;the&nbsp;current&nbsp;spec&nbsp;is&nbsp;to&nbsp;survive,&nbsp;then&nbsp;I&nbsp;suggest&nbsp;instead&nbsp;of&nbsp;steps&nbsp;3&nbsp;<br>
&nbsp;&nbsp;to&nbsp;6&nbsp;of&nbsp;the&nbsp;drawing&nbsp;model,&nbsp;to&nbsp;say:&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;3.&nbsp;<br>
&nbsp;&nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;A&nbsp;<br>
&nbsp;&nbsp;href=&quot;http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#when-shadows-are-drawn&quot;&gt;When&nbsp;<br>
&nbsp;&nbsp;shadows&nbsp;are&nbsp;drawn&lt;/A&gt;,&nbsp;composite&nbsp;&lt;VAR&nbsp;title=&quot;&quot;&gt;A&nbsp;over&nbsp;B&nbsp;in&nbsp;A&lt;/VAR&gt;.&nbsp;<br>
&nbsp;&nbsp;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;4.&nbsp;Multiply&nbsp;the&nbsp;alpha&nbsp;component&nbsp;of&nbsp;every&nbsp;<br>
&nbsp;&nbsp;pixel&nbsp;in&nbsp;&lt;VAR&nbsp;title=&quot;&quot;&gt;A&lt;/VAR&gt;&nbsp;by&nbsp;&lt;CODE&nbsp;title=dom-context-2d-globalAlpha&gt;&lt;A&nbsp;<br>
&nbsp;&nbsp;href=&quot;http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-globalalpha&quot;&gt;globalAlpha&lt;/A&gt;&lt;/CODE&gt;.&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;5.&nbsp;Composite&nbsp;&lt;VAR&nbsp;title=&quot;&quot;&gt;A&lt;/VAR&gt;&nbsp;within&nbsp;<br>
&nbsp;&nbsp;the&nbsp;&lt;A&nbsp;<br>
&nbsp;&nbsp;href=&quot;http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#clipping-region&quot;&gt;clipping&nbsp;<br>
&nbsp;&nbsp;region&lt;/A&gt;&nbsp;over&nbsp;the&nbsp;current&nbsp;canvas&nbsp;bitmap&nbsp;using&nbsp;the&nbsp;current&nbsp;composition&nbsp;<br>
&nbsp;&nbsp;operator.&nbsp;&lt;/DIV&gt;&lt;/SPAN&gt;<br>
&nbsp;&nbsp;&lt;BLOCKQUOTE&nbsp;class=gmail_quote&nbsp;<br>
&nbsp;&nbsp;style=&quot;PADDING-LEFT:&nbsp;1ex;&nbsp;MARGIN:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;BORDER-LEFT:&nbsp;rgb(204,204,204)&nbsp;1px&nbsp;solid&quot;&gt;&lt;FONT&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/BLOCKQUOTE&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;size=2&gt;&lt;/FONT&gt;&lt;BR&gt;Given&nbsp;that&nbsp;Microsoft&nbsp;have&nbsp;indicated&nbsp;they're&nbsp;happy&nbsp;with&nbsp;the&nbsp;<br>
&nbsp;&nbsp;current&nbsp;spec,&nbsp;and&nbsp;are&nbsp;presumably&nbsp;implementing&nbsp;it,&nbsp;I&nbsp;think&nbsp;we&nbsp;should&nbsp;get&nbsp;their&nbsp;<br>
&nbsp;&nbsp;explicit&nbsp;approval&nbsp;before&nbsp;we&nbsp;change&nbsp;the&nbsp;spec&nbsp;here.&nbsp;I'm&nbsp;still&nbsp;happy&nbsp;with&nbsp;either&nbsp;<br>
&nbsp;&nbsp;the&nbsp;current&nbsp;spec&nbsp;or&nbsp;your&nbsp;proposed&nbsp;change&nbsp;(after&nbsp;the&nbsp;issues&nbsp;have&nbsp;been&nbsp;<br>
&nbsp;&nbsp;addressed).&lt;BR&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;My&nbsp;<br>
&nbsp;&nbsp;understanding&nbsp;from&nbsp;some&nbsp;older&nbsp;thread&nbsp;was&nbsp;that&nbsp;Microsoft&nbsp;favored&nbsp;the&nbsp;approach&nbsp;<br>
&nbsp;&nbsp;where&nbsp;only&nbsp;pixels&nbsp;covered&nbsp;by&nbsp;the&nbsp;shape&nbsp;are&nbsp;composited,&nbsp;but&nbsp;that&nbsp;information&nbsp;<br>
&nbsp;&nbsp;may&nbsp;be&nbsp;outdated.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;In&nbsp;<br>
&nbsp;&nbsp;any&nbsp;case,&nbsp;I&nbsp;wish&nbsp;that&nbsp;this&nbsp;aspect&nbsp;of&nbsp;the&nbsp;spec&nbsp;is&nbsp;firmed&nbsp;up&nbsp;so&nbsp;that&nbsp;<br>
&nbsp;&nbsp;implementations&nbsp;can&nbsp;be&nbsp;aligned.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;size=2&gt;Thanks&nbsp;for&nbsp;the&nbsp;review,&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=118300323-03012011&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;size=2&gt;Carol&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
