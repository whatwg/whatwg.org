<tt>
I&nbsp;was&nbsp;writing&nbsp;some&nbsp;unit&nbsp;tests&nbsp;for&nbsp;SharedWorkers,&nbsp;and&nbsp;I&nbsp;saw&nbsp;some&nbsp;behavior&nbsp;that&nbsp;seems&nbsp;to&nbsp;be&nbsp;spec&nbsp;compliant,&nbsp;but&nbsp;which&nbsp;was&nbsp;counter-intuitive&nbsp;from&nbsp;a&nbsp;developer&nbsp;standpoint.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Let&#39;s&nbsp;say&nbsp;that&nbsp;you&nbsp;have&nbsp;two&nbsp;message&nbsp;ports&nbsp;-&nbsp;some&nbsp;other&nbsp;window&nbsp;or&nbsp;a&nbsp;shared&nbsp;worker&nbsp;owns&nbsp;the&nbsp;other&nbsp;end&nbsp;of&nbsp;those&nbsp;ports.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;then&nbsp;do&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;port1.postMessage(&quot;foo&quot;);&lt;/div&gt;&lt;div&gt;port2.postMessage(&quot;bar&quot;);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;At&nbsp;the&nbsp;other&nbsp;end,&nbsp;the&nbsp;order&nbsp;of&nbsp;the&nbsp;delivery&nbsp;of&nbsp;these&nbsp;messages&nbsp;is&nbsp;entirely&nbsp;arbitrary&nbsp;(could&nbsp;be&nbsp;&quot;foo&quot;-&gt;&quot;bar&quot;,&nbsp;or&nbsp;&quot;bar&quot;-&gt;&quot;foo&quot;)&nbsp;even&nbsp;though&nbsp;those&nbsp;ports&nbsp;share&nbsp;the&nbsp;same&nbsp;owner.&nbsp;This&nbsp;is&nbsp;because&nbsp;each&nbsp;port&nbsp;is&nbsp;an&nbsp;individual&nbsp;task&nbsp;source,&nbsp;and&nbsp;ordering&nbsp;within&nbsp;a&nbsp;given&nbsp;task&nbsp;source&nbsp;is&nbsp;guaranteed&nbsp;by&nbsp;the&nbsp;spec,&nbsp;but&nbsp;ordering&nbsp;across&nbsp;task&nbsp;sources&nbsp;is&nbsp;intentionally&nbsp;not&nbsp;guaranteed&nbsp;(this&nbsp;allows&nbsp;UAs&nbsp;to&nbsp;prioritize&nbsp;task&nbsp;sources).&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Anyhow,&nbsp;just&nbsp;thought&nbsp;I&#39;d&nbsp;point&nbsp;it&nbsp;out,&nbsp;and&nbsp;make&nbsp;sure&nbsp;there&nbsp;isn&#39;t&nbsp;something&nbsp;in&nbsp;the&nbsp;spec&nbsp;that&nbsp;I&nbsp;missed&nbsp;that&nbsp;should&nbsp;affect&nbsp;delivery&nbsp;ordering&nbsp;in&nbsp;this&nbsp;case.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-atw&lt;/div&gt;&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
