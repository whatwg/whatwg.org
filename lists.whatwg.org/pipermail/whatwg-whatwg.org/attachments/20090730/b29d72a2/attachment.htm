<tt>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2009/7/29&nbsp;Maciej&nbsp;Stachowiak&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mjs@apple.com&quot;&gt;mjs@apple.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
On&nbsp;Jul&nbsp;27,&nbsp;2009,&nbsp;at&nbsp;11:50&nbsp;AM,&nbsp;Michael&nbsp;Davidson&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Hello&nbsp;folks&nbsp;-&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;m&nbsp;an&nbsp;engineer&nbsp;on&nbsp;the&nbsp;Gmail&nbsp;team.&nbsp;We&amp;#39;ve&nbsp;been&nbsp;working&nbsp;on&nbsp;a&nbsp;prototype&lt;br&gt;<br>
with&nbsp;the&nbsp;Chrome&nbsp;team&nbsp;to&nbsp;make&nbsp;the&nbsp;Gmail&nbsp;experience&nbsp;better.&nbsp;We&nbsp;thought&lt;br&gt;<br>
we&amp;#39;d&nbsp;throw&nbsp;out&nbsp;our&nbsp;ideas&nbsp;to&nbsp;the&nbsp;list&nbsp;to&nbsp;get&nbsp;some&nbsp;feedback.&lt;br&gt;<br>
&lt;br&gt;<br>
THE&nbsp;PROBLEM&lt;br&gt;<br>
&lt;br&gt;<br>
We&nbsp;would&nbsp;like&nbsp;to&nbsp;enable&nbsp;rich&nbsp;internet&nbsp;applications&nbsp;to&nbsp;achieve&nbsp;feature&lt;br&gt;<br>
parity&nbsp;with&nbsp;desktop&nbsp;applications.&nbsp;I&nbsp;will&nbsp;use&nbsp;Gmail&nbsp;and&nbsp;Outlook&nbsp;as&lt;br&gt;<br>
examples&nbsp;for&nbsp;stating&nbsp;the&nbsp;problems&nbsp;we&nbsp;hope&nbsp;to&nbsp;solve.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
I&nbsp;already&nbsp;commented&nbsp;on&nbsp;the&nbsp;security&nbsp;risks&nbsp;of&nbsp;the&nbsp;proposed&nbsp;solution,&nbsp;but&nbsp;I&amp;#39;d&nbsp;also&nbsp;like&nbsp;to&nbsp;examine&nbsp;the&nbsp;use&nbsp;cases&nbsp;more&nbsp;closely.&nbsp;&amp;quot;Feature&nbsp;parity&nbsp;with&nbsp;desktop&nbsp;applications&amp;quot;&nbsp;is&nbsp;pretty&nbsp;open-ended,&nbsp;and&nbsp;it&nbsp;might&nbsp;be&nbsp;that&nbsp;the&nbsp;actual&nbsp;concrete&nbsp;use&nbsp;cases&nbsp;can&nbsp;be&nbsp;addressed&nbsp;with&nbsp;less&nbsp;general&nbsp;mechanisms.&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
--&nbsp;Slow&nbsp;startup:&nbsp;When&nbsp;a&nbsp;user&nbsp;navigates&nbsp;to&nbsp;&lt;a&nbsp;href=&quot;http://mail.google.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mail.google.com&lt;/a&gt;,&nbsp;multiple&lt;br&gt;<br>
server&nbsp;requests&nbsp;are&nbsp;required&nbsp;to&nbsp;render&nbsp;the&nbsp;page.&nbsp;The&nbsp;Javascript&nbsp;is&lt;br&gt;<br>
cacheable,&nbsp;but&nbsp;personal&nbsp;data&nbsp;(e.g.&nbsp;the&nbsp;list&nbsp;of&nbsp;emails&nbsp;to&nbsp;show)&nbsp;is&nbsp;not.&lt;br&gt;<br>
New&nbsp;releases&nbsp;of&nbsp;Gmail&nbsp;that&nbsp;require&nbsp;JS&nbsp;downloads&nbsp;are&nbsp;even&nbsp;slower&nbsp;to&lt;br&gt;<br>
load.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Caching&nbsp;the&nbsp;code&nbsp;part&nbsp;of&nbsp;GMail,&nbsp;and&nbsp;making&nbsp;loading&nbsp;fast&nbsp;in&nbsp;the&nbsp;face&nbsp;of&nbsp;updates,&nbsp;seems&nbsp;like&nbsp;a&nbsp;problem&nbsp;that&nbsp;can&nbsp;be&nbsp;solved&nbsp;by&nbsp;the&nbsp;HTML5&nbsp;Application&nbsp;Cache.&nbsp;Maybe&nbsp;it&nbsp;would&nbsp;be&nbsp;more&nbsp;fruitful&nbsp;to&nbsp;study&nbsp;further&nbsp;improvements&nbsp;in&nbsp;startup&nbsp;speed&nbsp;once&nbsp;GMail&nbsp;has&nbsp;adopted&nbsp;AppCache.&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
--&nbsp;Native&nbsp;apps&nbsp;like&nbsp;Outlook&nbsp;can&nbsp;(and&nbsp;do)&nbsp;run&nbsp;background&nbsp;processes&nbsp;on&lt;br&gt;<br>
the&nbsp;user&amp;#39;s&nbsp;machine&nbsp;to&nbsp;make&nbsp;sure&nbsp;that&nbsp;data&nbsp;is&nbsp;always&nbsp;up-to-date.&lt;br&gt;<br>
--&nbsp;Notifications:&nbsp;Likewise,&nbsp;Outlook&nbsp;can&nbsp;notify&nbsp;users&nbsp;(via&nbsp;a&nbsp;background&lt;br&gt;<br>
process)&nbsp;when&nbsp;new&nbsp;mail&nbsp;comes&nbsp;in&nbsp;even&nbsp;if&nbsp;it&amp;#39;s&nbsp;not&nbsp;running.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;it&amp;#39;s&nbsp;justifiable&nbsp;to&nbsp;say&nbsp;these&nbsp;features&nbsp;are&nbsp;required&nbsp;for&nbsp;a&nbsp;native-like&nbsp;experience.&nbsp;The&nbsp;Mail&nbsp;application&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;only&nbsp;fetches&nbsp;new&nbsp;mail&nbsp;and&nbsp;gives&nbsp;you&nbsp;new&nbsp;mail&nbsp;notifications&nbsp;while&nbsp;it&nbsp;is&nbsp;actually&nbsp;running.&nbsp;Users&nbsp;who&nbsp;want&nbsp;to&nbsp;know&nbsp;about&nbsp;new&nbsp;mail&nbsp;right&nbsp;away&nbsp;keep&nbsp;the&nbsp;app&nbsp;open,&nbsp;and&nbsp;users&nbsp;who&nbsp;would&nbsp;like&nbsp;to&nbsp;free&nbsp;up&nbsp;resources&nbsp;quit&nbsp;it.&nbsp;It&nbsp;seems&nbsp;like&nbsp;GMail&nbsp;can&nbsp;already&nbsp;get&nbsp;rough&nbsp;parity&nbsp;with&nbsp;this&nbsp;experience.&lt;br&gt;<br>
<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Depends&nbsp;on&nbsp;the&nbsp;device.&nbsp;If&nbsp;you&amp;#39;re&nbsp;on&nbsp;Android&nbsp;(or&nbsp;I&nbsp;suspect&nbsp;iPhone,&nbsp;although&nbsp;I&nbsp;don&amp;#39;t&nbsp;have&nbsp;one),&nbsp;doesn&amp;#39;t&nbsp;the&nbsp;device&nbsp;sync&nbsp;your&nbsp;email&nbsp;constantly&nbsp;in&nbsp;the&nbsp;background?&nbsp;If&nbsp;I&nbsp;am&nbsp;a&nbsp;web-based&nbsp;email&nbsp;provider,&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;have&nbsp;a&nbsp;similar&nbsp;option.&nbsp;Especially&nbsp;on&nbsp;something&nbsp;like&nbsp;the&nbsp;iPhone&nbsp;or&nbsp;Android,&nbsp;where&nbsp;I&nbsp;don&amp;#39;t&nbsp;think&nbsp;it&amp;#39;s&nbsp;reasonable&nbsp;to&nbsp;expect&nbsp;them&nbsp;to&nbsp;keep&nbsp;the&nbsp;browser&nbsp;open&nbsp;all&nbsp;the&nbsp;time&nbsp;(as&nbsp;the&nbsp;browser&nbsp;will&nbsp;just&nbsp;get&nbsp;closed&nbsp;if&nbsp;some&nbsp;other&nbsp;active&nbsp;app&nbsp;applies&nbsp;memory&nbsp;pressure).&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;br&gt;<br>
That&nbsp;being&nbsp;said,&nbsp;I&nbsp;think&nbsp;there&nbsp;are&nbsp;valid&nbsp;use&nbsp;cases&nbsp;for&nbsp;out-of-band&nbsp;notifications,&nbsp;for&nbsp;example&nbsp;for&nbsp;calendar&nbsp;events&nbsp;or&nbsp;&amp;quot;status&nbsp;update&amp;quot;&nbsp;type&nbsp;applications&nbsp;such&nbsp;as&nbsp;Facebook&nbsp;or&nbsp;Twitter.&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;d&nbsp;like&nbsp;to&nbsp;explore&nbsp;whether&nbsp;we&nbsp;can&nbsp;accommodate&nbsp;this&nbsp;notification&nbsp;use&nbsp;case&nbsp;without&nbsp;bringing&nbsp;the&nbsp;full&nbsp;power&nbsp;of&nbsp;the&nbsp;Web&nbsp;platform&nbsp;to&nbsp;bear,&nbsp;and&nbsp;thereby&nbsp;opening&nbsp;up&nbsp;a&nbsp;lot&nbsp;of&nbsp;attack&nbsp;surface&nbsp;on&nbsp;the&nbsp;client.&nbsp;Here&amp;#39;s&nbsp;one&nbsp;rough&nbsp;sketch&nbsp;of&nbsp;an&nbsp;idea:&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
*&nbsp;Notification&nbsp;Feeds&nbsp;*&lt;br&gt;<br>
&lt;br&gt;<br>
Often,&nbsp;web&nbsp;applications&nbsp;would&nbsp;like&nbsp;to&nbsp;give&nbsp;users&nbsp;the&nbsp;option&nbsp;to&nbsp;subscribe&nbsp;to&nbsp;notifications&nbsp;that&nbsp;occur&nbsp;at&nbsp;specific&nbsp;times&nbsp;or&nbsp;in&nbsp;response&nbsp;to&nbsp;server-side&nbsp;events,&nbsp;and&nbsp;for&nbsp;the&nbsp;user&nbsp;to&nbsp;get&nbsp;these&nbsp;UI&nbsp;notifications&nbsp;without&nbsp;a&nbsp;prerequisite&nbsp;that&nbsp;the&nbsp;web&nbsp;app&nbsp;is&nbsp;open&nbsp;or&nbsp;that&nbsp;the&nbsp;browser&nbsp;is&nbsp;running.&nbsp;There&nbsp;may&nbsp;be&nbsp;a&nbsp;desire&nbsp;to&nbsp;do&nbsp;client-side&nbsp;computation&nbsp;as&nbsp;well,&nbsp;but&nbsp;often&nbsp;just&nbsp;the&nbsp;ability&nbsp;to&nbsp;give&nbsp;the&nbsp;user&nbsp;a&nbsp;notification&nbsp;solves&nbsp;the&nbsp;basic&nbsp;user&nbsp;interaction&nbsp;problem.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
One&nbsp;possible&nbsp;way&nbsp;to&nbsp;address&nbsp;this&nbsp;kind&nbsp;of&nbsp;use&nbsp;case&nbsp;is&nbsp;to&nbsp;let&nbsp;users&nbsp;subscribe&nbsp;to&nbsp;a&nbsp;&amp;quot;feed&amp;quot;&nbsp;of&nbsp;notifications.&nbsp;This&nbsp;feed&nbsp;could&nbsp;use&nbsp;standard&nbsp;syndication&nbsp;formats,&nbsp;such&nbsp;as&nbsp;RSS&nbsp;or&nbsp;Atom.&nbsp;But&nbsp;instead&nbsp;of&nbsp;being&nbsp;displayed&nbsp;in&nbsp;a&nbsp;traditional&nbsp;feed&nbsp;reader,&nbsp;it&amp;#39;s&nbsp;displayed&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;transient&nbsp;notifications&nbsp;(along&nbsp;the&nbsp;lines&nbsp;of&nbsp;Growl&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;X)&nbsp;which&nbsp;are&nbsp;posted&nbsp;for&nbsp;each&nbsp;new&nbsp;event.&nbsp;To&nbsp;allow&nbsp;some&nbsp;pre-scheduling&nbsp;of&nbsp;events,&nbsp;each&nbsp;item&nbsp;can&nbsp;have&nbsp;a&nbsp;date&nbsp;and&nbsp;won&amp;#39;t&nbsp;be&nbsp;displayed&nbsp;until&nbsp;that&nbsp;date&nbsp;-&nbsp;this&nbsp;way&nbsp;a&nbsp;calendar&nbsp;can&nbsp;give&nbsp;you&nbsp;your&nbsp;feed&nbsp;of&nbsp;upcoming&nbsp;events&nbsp;and&nbsp;you&nbsp;can&nbsp;still&nbsp;get&nbsp;notifications&nbsp;when&nbsp;offline.&nbsp;In&nbsp;the&nbsp;case&nbsp;of&nbsp;something&nbsp;like&nbsp;email&nbsp;or&nbsp;Twitter,&nbsp;obviously&nbsp;there&amp;#39;s&nbsp;no&nbsp;sensible&nbsp;way&nbsp;to&nbsp;get&nbsp;notifications&nbsp;when&nbsp;offline&nbsp;since&nbsp;they&nbsp;depend&nbsp;on&nbsp;unpredeictable&nbsp;server-side&nbsp;activity.&nbsp;There&nbsp;could&nbsp;even&nbsp;be&nbsp;a&nbsp;client-side&nbsp;API&nbsp;that&nbsp;lets&nbsp;a&nbsp;Web&nbsp;app&nbsp;schedule&nbsp;items&nbsp;on&nbsp;a&nbsp;subscribed&nbsp;notification&nbsp;feed&nbsp;from&nbsp;script,&nbsp;to&nbsp;enable&nbsp;scheduling&nbsp;calendar&nbsp;events&nbsp;offline.&nbsp;Each&nbsp;notification&nbsp;would&nbsp;have&nbsp;the&nbsp;option&nbsp;to&nbsp;unsubscribe&nbsp;from&nbsp;the&nbsp;notification&nbsp;feed,&nbsp;to&nbsp;reduce&nbsp;spam&nbsp;potential.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
Notice&nbsp;that&nbsp;this&nbsp;opens&nbsp;up&nbsp;a&nbsp;lot&nbsp;less&nbsp;attack&nbsp;surface.&nbsp;The&nbsp;user&nbsp;has&nbsp;to&nbsp;actively&nbsp;opt&nbsp;in&nbsp;to&nbsp;subscribing&nbsp;to&nbsp;the&nbsp;notification&nbsp;feed,&nbsp;just&nbsp;as&nbsp;for&nbsp;an&nbsp;RSS&nbsp;feed.&nbsp;This&nbsp;makes&nbsp;it&nbsp;much&nbsp;less&nbsp;likely&nbsp;they&nbsp;end&nbsp;up&nbsp;with&nbsp;a&nbsp;subscription&nbsp;to&nbsp;a&nbsp;shady&nbsp;site.&nbsp;And&nbsp;the&nbsp;notifications&nbsp;are&nbsp;passive&nbsp;data&nbsp;items&nbsp;(probably&nbsp;no&nbsp;script&nbsp;should&nbsp;be&nbsp;allowed&nbsp;in&nbsp;a&nbsp;notification,&nbsp;if&nbsp;the&nbsp;format&nbsp;is&nbsp;HTML&nbsp;and&nbsp;not&nbsp;just&nbsp;plain&nbsp;text),&nbsp;so&nbsp;they&nbsp;open&nbsp;up&nbsp;a&nbsp;lot&nbsp;less&nbsp;security&nbsp;risk.&nbsp;Obviously&nbsp;this&nbsp;is&nbsp;less&nbsp;powerful&nbsp;than&nbsp;the&nbsp;ability&nbsp;to&nbsp;run&nbsp;arbitrary&nbsp;code&nbsp;in&nbsp;the&nbsp;background.&nbsp;But&nbsp;it&nbsp;could&nbsp;address&nbsp;a&nbsp;large&nbsp;chunk&nbsp;of&nbsp;the&nbsp;use&nbsp;cases&nbsp;with&nbsp;much&nbsp;less&nbsp;security&nbsp;risk.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;addresses&nbsp;some&nbsp;use&nbsp;cases&nbsp;(calendar,&nbsp;perhaps),&nbsp;but&nbsp;I&nbsp;would&nbsp;still&nbsp;like&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;e.g.&nbsp;keep&nbsp;my&nbsp;email&nbsp;up&nbsp;to&nbsp;date.&nbsp;Do&nbsp;I&nbsp;need&nbsp;the&nbsp;&amp;quot;full&nbsp;power&amp;quot;&nbsp;/&nbsp;&amp;quot;fully&nbsp;general&amp;quot;&nbsp;solution?&nbsp;I&nbsp;don&amp;#39;t&nbsp;know,&nbsp;perhaps&nbsp;the&nbsp;push&nbsp;mechanism&nbsp;can&nbsp;be&nbsp;structured&nbsp;in&nbsp;a&nbsp;way&nbsp;that&nbsp;it&nbsp;gets&nbsp;into&nbsp;my&nbsp;database&nbsp;or&nbsp;whatever&nbsp;storage&nbsp;mechanism&nbsp;I&nbsp;am&nbsp;using&nbsp;for&nbsp;offline&nbsp;data&nbsp;storage?&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;br&gt;<br>
I&amp;#39;d&nbsp;like&nbsp;us&nbsp;to&nbsp;think&nbsp;along&nbsp;these&nbsp;kinds&nbsp;of&nbsp;lines&nbsp;when&nbsp;expanding&nbsp;the&nbsp;web&nbsp;platform.&nbsp;Often&nbsp;there&nbsp;is&nbsp;a&nbsp;low-power&nbsp;alternative&nbsp;to&nbsp;fully&nbsp;general&nbsp;solutions,&nbsp;which&nbsp;addresses&nbsp;many&nbsp;of&nbsp;the&nbsp;same&nbsp;use&nbsp;cases.&nbsp;By&nbsp;proceeding&nbsp;in&nbsp;this&nbsp;manner,&nbsp;we&nbsp;can&nbsp;extend&nbsp;the&nbsp;power&nbsp;of&nbsp;the&nbsp;web&nbsp;platform&nbsp;without&nbsp;neutering&nbsp;its&nbsp;desirable&nbsp;security&nbsp;properties.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
Maciej&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
