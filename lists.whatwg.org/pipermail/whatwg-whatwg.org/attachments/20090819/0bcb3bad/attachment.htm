<tt>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Aug&nbsp;19,&nbsp;2009&nbsp;at&nbsp;10:48&nbsp;AM,&nbsp;Dmitry&nbsp;Titov&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:dimich@google.com&quot;&gt;dimich@google.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Wed,&nbsp;Aug&nbsp;19,&nbsp;2009&nbsp;at&nbsp;7:37&nbsp;AM,&nbsp;Patrick&nbsp;Mueller&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:pmuellr@muellerware.org&quot;&nbsp;target=&quot;_blank&quot;&gt;pmuellr@muellerware.org&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;var&nbsp;context&nbsp;=&nbsp;new&nbsp;GlobalScript();&nbsp; //&nbsp;perhaps&nbsp;&amp;#39;webkitGlobalScript&amp;#39;&nbsp;as&lt;br&gt;<br>
experimental&nbsp;feature?&lt;br&gt;<br>
context.onload&nbsp;=&nbsp;function&nbsp;()&nbsp;{...}&lt;br&gt;<br>
context.onerror&nbsp;=&nbsp;function&nbsp;()&nbsp;{...}&lt;br&gt;<br>
context.load(&amp;#39;foo.js&amp;#39;);&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Presumably&nbsp;this&nbsp;script&nbsp;is&nbsp;being&nbsp;loaded&nbsp;asynchronously,&nbsp;hence&nbsp;the&nbsp;callbacks.&nbsp; But&nbsp;since&nbsp;the&nbsp;GlobalScript()&nbsp;constructor&nbsp;returns&nbsp;the&nbsp;&amp;quot;global&amp;quot;&nbsp;object,&nbsp;probably&nbsp;doesn&amp;#39;t&nbsp;make&nbsp;sense&nbsp;to&nbsp;attach&nbsp;the&nbsp;handlers&nbsp;directly&nbsp;there,&nbsp;but&nbsp;actually&nbsp;on&nbsp;the&nbsp;load&nbsp;request&nbsp;somehow.&nbsp; &lt;/blockquote&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Good&nbsp;point.&nbsp;Alternative&nbsp;variant&nbsp;to&nbsp;construction/connection&nbsp;to&nbsp;this&nbsp;object&nbsp;could&nbsp;be&nbsp;something&nbsp;like&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;window.createGlobalScript(&amp;#39;name&amp;#39;,&nbsp;&amp;#39;foo.js&amp;#39;,&nbsp;function(context)&nbsp;{..},&nbsp;function(status)&nbsp;{..});&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;where&nbsp;the&nbsp;name&nbsp;and&nbsp;url&nbsp;pair&nbsp;play&nbsp;the&nbsp;same&nbsp;role&nbsp;as&nbsp;on&nbsp;SharedWorker,&nbsp;and&nbsp;2&nbsp;callbacks:&nbsp;one&nbsp;delivers&nbsp;load&nbsp;status/errors,&nbsp;another&nbsp;comes&nbsp;with&nbsp;resolved&nbsp;context&nbsp;when&nbsp;it&amp;#39;s&nbsp;ready.&nbsp;One&nbsp;benefit&nbsp;of&nbsp;this&nbsp;is&nbsp;that&nbsp;&amp;#39;context&amp;#39;&nbsp;does&nbsp;not&nbsp;have&nbsp;to&nbsp;expose&nbsp;the&nbsp;&amp;#39;external&amp;#39;&nbsp;API&nbsp;on&nbsp;it&nbsp;and&nbsp;it&nbsp;is&nbsp;always&nbsp;functional&nbsp;once&nbsp;it&amp;#39;s&nbsp;returned.&nbsp;The&nbsp;syntax&nbsp;in&nbsp;the&nbsp;proposal&nbsp;was&nbsp;motivated&nbsp;by&nbsp;commonality&nbsp;with&nbsp;other&nbsp;APIs,&nbsp;like&nbsp;XHR&nbsp;or&nbsp;window.open&nbsp;-&nbsp;however&nbsp;I&nbsp;agree&nbsp;this&nbsp;doesn&amp;#39;t&nbsp;fit&nbsp;100%&nbsp;either&nbsp;of&nbsp;them...&lt;/div&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;fyi:&nbsp;There&amp;#39;s&nbsp;a&nbsp;seperate&nbsp;thread&nbsp;questioning&nbsp;the&nbsp;utility&nbsp;of&nbsp;the&nbsp;&amp;#39;name&amp;#39;&nbsp;parameter&nbsp;in&nbsp;the&nbsp;SharedWorker&nbsp;API.&nbsp;However&nbsp;the&nbsp;debate&nbsp;ends,&nbsp;it&nbsp;would&nbsp;probably&nbsp;be&nbsp;good&nbsp;to&nbsp;identify&nbsp;shared-workers&nbsp;/&nbsp;global-scripts&nbsp;in&nbsp;a&nbsp;similar&nbsp;fashion.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;I&nbsp;guess&nbsp;I&amp;#39;m&nbsp;wondering&nbsp;if&nbsp;there&nbsp;will&nbsp;be&nbsp;some&nbsp;desire&nbsp;to&nbsp;have&nbsp;pages&nbsp;opt-in&nbsp;to&nbsp;this&nbsp;support,&nbsp;signaling&nbsp;this&nbsp;through&nbsp;an&nbsp;additional&nbsp;API,&nbsp;or&nbsp;like&nbsp;the&nbsp;app-cache&amp;#39;s&nbsp;manifest&nbsp;attribute&nbsp;on&nbsp;the&nbsp;&amp;lt;html&amp;gt;&nbsp;element,&nbsp;something&nbsp;in&nbsp;the&nbsp;DOM;&nbsp;doesn&amp;#39;t&nbsp;seem&nbsp;like&nbsp;we&nbsp;should&nbsp;drag&nbsp;the&nbsp;DOM&nbsp;in&nbsp;here,&nbsp;just&nbsp;mentioned&nbsp;it&nbsp;because&nbsp;I&nbsp;was&nbsp;reminded&nbsp;of&nbsp;the&nbsp;way&nbsp;the&nbsp;opt-in&nbsp;works&nbsp;there.&lt;br&gt;<br>
<br>
<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;don&amp;#39;t&nbsp;follow&nbsp;the&nbsp;opt-in&nbsp;desirement?&nbsp;If&nbsp;a&nbsp;page&nbsp;wishes&nbsp;to&nbsp;utilize&nbsp;the&nbsp;GlobalScript&nbsp;feature,&nbsp;it&nbsp;calls&nbsp;the&nbsp;API&nbsp;provided&nbsp;to&nbsp;do&nbsp;so.&lt;/div&gt;&lt;div&gt; &lt;/div&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;is&nbsp;a&nbsp;good&nbsp;idea&nbsp;indeed&nbsp;to&nbsp;have&nbsp;some&nbsp;sort&nbsp;of&nbsp;static&nbsp;opt-in&nbsp;information,&nbsp;maybe&nbsp;via&nbsp;a&nbsp;feature&nbsp;of&nbsp;app-cache&nbsp;-&nbsp;which&nbsp;could&nbsp;hint&nbsp;the&nbsp;UA&nbsp;to&nbsp;load&nbsp;participating&nbsp;pages&nbsp;(of&nbsp;the&nbsp;same&nbsp;application)&nbsp;into&nbsp;the&nbsp;same&nbsp;process&nbsp;so&nbsp;they&nbsp;could&nbsp;share&nbsp;Global&nbsp;Script.&nbsp;It&nbsp;is&nbsp;still&nbsp;impossible&nbsp;(and&nbsp;probably&nbsp;not&nbsp;important)&nbsp;to&nbsp;guarantee&nbsp;a&nbsp;singularity&nbsp;of&nbsp;the&nbsp;Global&nbsp;Script&nbsp;(as&nbsp;in&nbsp;case&nbsp;of&nbsp;cross-domain&nbsp;iframes)&nbsp;but&nbsp;it&amp;#39;d&nbsp;be&nbsp;a&nbsp;good&nbsp;optimization&nbsp;for&nbsp;a&nbsp;multi-process&nbsp;UA.&lt;/div&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;understand&nbsp;the&nbsp;desire&nbsp;for&nbsp;early&nbsp;warning&nbsp;that&nbsp;a&nbsp;page&nbsp;*may*&nbsp;want&nbsp;to&nbsp;utilized&nbsp;a&nbsp;GlobalScript.&nbsp;A&nbsp;&amp;#39;hint&amp;#39;&nbsp;could&nbsp;be&nbsp;useful&nbsp;to&nbsp;a&nbsp;multi-process&nbsp;UA.&nbsp;It&amp;#39;s&nbsp;not&nbsp;clear&nbsp;to&nbsp;me&nbsp;that&nbsp;this&nbsp;is&nbsp;what&nbsp;Patrick&nbsp;was&nbsp;referring&nbsp;to...&nbsp;Patrick?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;And&nbsp;I&amp;#39;ll&nbsp;just&nbsp;throw&nbsp;out&nbsp;there&nbsp;that&nbsp;a&nbsp;&amp;#39;hint&amp;#39;&nbsp;in&nbsp;an&nbsp;custom&nbsp;HTTP&nbsp;header&nbsp;of&nbsp;the&nbsp;page&amp;#39;s&nbsp;response&nbsp;would&nbsp;be&nbsp;the&nbsp;earliest&nbsp;warning&nbsp;we&nbsp;could&nbsp;get&nbsp;without&nbsp;static&nbsp;config&nbsp;info&nbsp;present&nbsp;in&nbsp;the&nbsp;UA.&nbsp;I&nbsp;know&nbsp;Ian&nbsp;doesn&amp;#39;t&nbsp;like&nbsp;relying&nbsp;on&nbsp;out-of-band&nbsp;HTTP&nbsp;things&nbsp;for&nbsp;the&nbsp;HTML5&nbsp;spec...&nbsp;just&nbsp;sayin...&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Dmitry&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
