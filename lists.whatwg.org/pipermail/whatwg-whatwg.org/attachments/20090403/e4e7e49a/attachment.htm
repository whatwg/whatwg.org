<tt>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Apr&nbsp;3,&nbsp;2009&nbsp;at&nbsp;2:49&nbsp;PM,&nbsp;Robert&nbsp;O&amp;#39;Callahan&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:robert@ocallahan.org&quot;&gt;robert@ocallahan.org&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Sat,&nbsp;Apr&nbsp;4,&nbsp;2009&nbsp;at&nbsp;6:35&nbsp;AM,&nbsp;Jeremy&nbsp;Orlow&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jorlow@google.com&quot;&nbsp;target=&quot;_blank&quot;&gt;jorlow@google.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);padding-left:1ex&quot;&gt;People&nbsp;are&nbsp;now&nbsp;talking&nbsp;about&nbsp;specifying&nbsp;this,&nbsp;but&nbsp;there&amp;#39;s&nbsp;been&nbsp;push&nbsp;back. &nbsp;Also,&nbsp;there&amp;#39;s&nbsp;no&nbsp;way&nbsp;to&nbsp;guarantee&nbsp;serializability&nbsp;for&nbsp;the&nbsp;network&nbsp;traffic&nbsp;portion&nbsp;so&nbsp;I&amp;#39;m&nbsp;guessing&nbsp;(hoping!)&nbsp;that&nbsp;this&nbsp;wouldn&amp;#39;t&nbsp;be&nbsp;required&nbsp;in&nbsp;the&nbsp;JavaScript&nbsp;side,&nbsp;even&nbsp;if&nbsp;it&nbsp;went&nbsp;through.&lt;/blockquote&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;br&gt;What&nbsp;exactly&nbsp;do&nbsp;you&nbsp;mean&nbsp;by&nbsp;that?&nbsp;It&amp;#39;s&nbsp;easy&nbsp;to&nbsp;guarantee&nbsp;that&nbsp;reading&nbsp;the&nbsp;cookies&nbsp;to&nbsp;send&nbsp;with&nbsp;an&nbsp;HTTP&nbsp;request&nbsp;is&nbsp;an&nbsp;atomic&nbsp;operation,&nbsp;and&nbsp;writing&nbsp;them&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;an&nbsp;HTTP&nbsp;response&nbsp;is&nbsp;an&nbsp;atomic&nbsp;operation.&lt;/div&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;True&nbsp;serializability&nbsp;would&nbsp;imply&nbsp;that&nbsp;the&nbsp;HTTP&nbsp;request&nbsp;read&nbsp;and&nbsp;write&nbsp;are&nbsp;atomic.&nbsp; In&nbsp;other&nbsp;words,&nbsp;you&amp;#39;d&nbsp;have&nbsp;to&nbsp;keep&nbsp;a&nbsp;lock&nbsp;for&nbsp;the&nbsp;entirety&nbsp;of&nbsp;each&nbsp;HTTP&nbsp;request&nbsp;and&nbsp;couldn&amp;#39;t&nbsp;do&nbsp;multiple&nbsp;in&nbsp;parallel.&nbsp; When&nbsp;I&nbsp;said&nbsp;there&amp;#39;s&nbsp;no&nbsp;way&nbsp;to&nbsp;guarantee&nbsp;serializability,&nbsp;I&nbsp;guess&nbsp;I&nbsp;meant&nbsp;to&nbsp;qualify&nbsp;it&nbsp;with&nbsp;&amp;quot;in&nbsp;practice&amp;quot;.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;After&nbsp;thinking&nbsp;about&nbsp;it&nbsp;for&nbsp;a&nbsp;bit,&nbsp;your&nbsp;suggestion&nbsp;of&nbsp;&amp;quot;reading&nbsp;the&nbsp;cookies&nbsp;to&nbsp;send&nbsp;with&nbsp;an&nbsp;HTTP&nbsp;request&nbsp;is&nbsp;an&nbsp;atomic&nbsp;operation,&nbsp;and&nbsp;writing&nbsp;them&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;an&nbsp;HTTP&nbsp;response&nbsp;is&nbsp;an&nbsp;atomic&nbsp;operation&amp;quot;&nbsp;does&nbsp;seems&nbsp;like&nbsp;a&nbsp;pretty&nbsp;sensible&nbsp;compromise.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;one&nbsp;thing&nbsp;I&amp;#39;d&nbsp;still&nbsp;be&nbsp;concerned&nbsp;about:&nbsp; localStorage separates storage&nbsp;space&nbsp;by&nbsp;origins.&nbsp; In&nbsp;other&nbsp;words,&nbsp;&lt;a&nbsp;href=&quot;http://www.google.com&quot;&gt;www.google.com&lt;/a&gt;&nbsp;cannot&nbsp;access&nbsp;localStorage&nbsp;values&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://google.com&quot;&gt;google.com&lt;/a&gt;&nbsp;and&nbsp;visa&nbsp;versa.&nbsp; Cookies,&nbsp;on&nbsp;the&nbsp;other&nbsp;hand,&nbsp;have&nbsp;a&nbsp;much&nbsp;more&nbsp;complex&nbsp;scheme&nbsp;of&nbsp;access&nbsp;control.&nbsp; Coming&nbsp;up&nbsp;with&nbsp;an&nbsp;efficient&nbsp;and&nbsp;dead-lock-proof&nbsp;locking&nbsp;scheme&nbsp;might&nbsp;take&nbsp;some&nbsp;careful&nbsp;thought.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);padding-left:1ex&quot;&gt;<br>
The&nbsp;spec&nbsp;is&nbsp;written&nbsp;in&nbsp;such&nbsp;a&nbsp;way&nbsp;that&nbsp;you&nbsp;can&amp;#39;t&nbsp;have&nbsp;more&nbsp;that&nbsp;one&nbsp;event&nbsp;loop&nbsp;per&nbsp;browser&nbsp;window/worker,&nbsp;and&nbsp;everything&nbsp;is&nbsp;essentially&nbsp;tied&nbsp;to&nbsp;this&nbsp;one&nbsp;event&nbsp;loop. &nbsp;In&nbsp;other&nbsp;words,&nbsp;each&nbsp;window/worker&nbsp;can&amp;#39;t&nbsp;run&nbsp;on&nbsp;more&nbsp;than&nbsp;one&nbsp;CPU&nbsp;core&nbsp;at&nbsp;a&nbsp;time. &nbsp;Thus,&nbsp;the&nbsp;only&nbsp;way&nbsp;for&nbsp;a&nbsp;web&nbsp;application&nbsp;to&nbsp;scale&nbsp;in&nbsp;todays&nbsp;world&nbsp;is&nbsp;going&nbsp;to&nbsp;be&nbsp;through&nbsp;additional&nbsp;windows&nbsp;and/or&nbsp;workers.&lt;br&gt;<br>
<br>
<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;Depending&nbsp;on&nbsp;exactly&nbsp;what&nbsp;you&nbsp;mean&nbsp;by&nbsp;a&nbsp;&amp;quot;Web&nbsp;application&amp;quot;,&nbsp;that&amp;#39;s&nbsp;not&nbsp;really&nbsp;true.&nbsp;There&nbsp;are&nbsp;a&nbsp;variety&nbsp;of&nbsp;ways&nbsp;to&nbsp;exploit&nbsp;multicore&nbsp;parallelism&nbsp;within&nbsp;a&nbsp;window&nbsp;with&nbsp;the&nbsp;current&nbsp;set&nbsp;of&nbsp;specs,&nbsp;at&nbsp;least&nbsp;in&nbsp;principle.&lt;/blockquote&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;else&nbsp;is&nbsp;there?&nbsp; (I&nbsp;believe&nbsp;you,&nbsp;I&amp;#39;m&nbsp;just&nbsp;interested&nbsp;in&nbsp;knowing&nbsp;what&amp;#39;s&nbsp;out&nbsp;there.)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Jeremy&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;P.S.&nbsp;Please&nbsp;don&amp;#39;t&nbsp;mistake&nbsp;me&nbsp;for&nbsp;an&nbsp;expert&nbsp;on&nbsp;document.cookie&nbsp;or&nbsp;even&nbsp;window.localStorage.&nbsp; I&nbsp;try&nbsp;to&nbsp;fact&nbsp;check&nbsp;myself&nbsp;as&nbsp;I&nbsp;go,&nbsp;but&nbsp;if&nbsp;I&nbsp;say&nbsp;something&nbsp;that&nbsp;seems&nbsp;stupid,&nbsp;please&nbsp;do&nbsp;let&nbsp;me&nbsp;know.&nbsp; :-)&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
