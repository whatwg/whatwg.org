<tt>
&lt;div&gt;Case&nbsp;#1:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;webkit-indent-blockquote&quot;&nbsp;style=&quot;margin:&nbsp;0&nbsp;0&nbsp;0&nbsp;40px;&nbsp;border:&nbsp;none;&nbsp;padding:&nbsp;0px;&quot;&gt;&lt;div&gt;var&nbsp;f&nbsp;=&nbsp;document.createElement(&quot;iframe&quot;);&lt;/div&gt;&lt;div&gt;f.src&nbsp;=&nbsp;&quot;&lt;a&nbsp;href=&quot;http://foo.com/&quot;&gt;http://foo.com/&lt;/a&gt;&quot;;&lt;/div&gt;<br>
&lt;div&gt;document.body.appendChild(f);&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Case&nbsp;#2:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;webkit-indent-blockquote&quot;&nbsp;style=&quot;margin:&nbsp;0&nbsp;0&nbsp;0&nbsp;40px;&nbsp;border:&nbsp;none;&nbsp;padding:&nbsp;0px;&quot;&gt;&lt;div&gt;<br>
&lt;div&gt;var&nbsp;f&nbsp;=&nbsp;document.createElement(&quot;iframe&quot;);&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;document.body.appendChild(f);&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;f.src&nbsp;=&nbsp;&quot;&lt;a&nbsp;href=&quot;http://foo.com/&quot;&gt;http://foo.com/&lt;/a&gt;&quot;;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;interpretation&nbsp;of&nbsp;section&nbsp;4.8.2&nbsp;is&nbsp;that&nbsp;in&nbsp;case&nbsp;#1&nbsp;the&nbsp;iframe&nbsp;should&nbsp;be&nbsp;navigated&nbsp;with&nbsp;replacment&nbsp;enabled,&nbsp;and&nbsp;in&nbsp;case&nbsp;#2&nbsp;the&nbsp;iframe&nbsp;should&nbsp;be&nbsp;navigated&nbsp;without&nbsp;replacement&nbsp;enabled.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
I&nbsp;am&nbsp;basing&nbsp;that&nbsp;on&nbsp;the&nbsp;following&nbsp;passage:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0.8ex;&nbsp;border-left-width:&nbsp;1px;&nbsp;border-left-color:&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;border-left-style:&nbsp;solid;&nbsp;padding-left:&nbsp;1ex;&nbsp;&quot;&gt;<br>
&quot;Furthermore,&nbsp;if&nbsp;the&nbsp;process&nbsp;the&nbsp;iframe&nbsp;attributes&nbsp;algorithm&nbsp;was&nbsp;invoked&nbsp;for&nbsp;the&nbsp;first&nbsp;time&nbsp;for&nbsp;this&nbsp;element&nbsp;(i.e.&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;the&nbsp;element&nbsp;being&nbsp;inserted&nbsp;into&nbsp;a&nbsp;document),&nbsp;then&nbsp;any&nbsp;navigation&nbsp;required&nbsp;of&nbsp;the&nbsp;user&nbsp;agent&nbsp;in&nbsp;that&nbsp;algorithm&nbsp;must&nbsp;be&nbsp;completed&nbsp;with&nbsp;replacement&nbsp;enabled.&quot;&lt;/blockquote&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That&nbsp;passage&nbsp;only&nbsp;specifies&nbsp;that&nbsp;in&nbsp;case&nbsp;#1&nbsp;the&nbsp;navigation&nbsp;be&nbsp;completed&nbsp;with&nbsp;replacement&nbsp;enabled.&nbsp; It&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;the&nbsp;assignment&nbsp;of&nbsp;src&nbsp;in&nbsp;case&nbsp;#2.&nbsp; I&nbsp;assume&nbsp;that&nbsp;means&nbsp;that&nbsp;the&nbsp;spec&nbsp;would&nbsp;have&nbsp;the&nbsp;frame&nbsp;navigated&nbsp;without&nbsp;replacement&nbsp;enabled.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;raise&nbsp;this&nbsp;issue&nbsp;because&nbsp;I&nbsp;observe&nbsp;that&nbsp;Firefox&nbsp;and&nbsp;IE&nbsp;treat&nbsp;case&nbsp;#1&nbsp;and&nbsp;#2&nbsp;the&nbsp;same&nbsp;with&nbsp;respect&nbsp;to&nbsp;whether&nbsp;or&nbsp;not&nbsp;replacement&nbsp;is&nbsp;enabled.&nbsp; They&nbsp;enable&nbsp;it&nbsp;for&nbsp;both&nbsp;navigations&nbsp;to&nbsp;&lt;a&nbsp;href=&quot;http://foo.com/&quot;&gt;http://foo.com/&lt;/a&gt;.&nbsp; WebKit&nbsp;based&nbsp;browsers&nbsp;(the&nbsp;latest&nbsp;stable&nbsp;Chrome&nbsp;and&nbsp;Safari)&nbsp;also&nbsp;happen&nbsp;to&nbsp;agree,&nbsp;but&nbsp;that&#39;s&nbsp;because&nbsp;they&nbsp;always&nbsp;navigate&nbsp;with&nbsp;replacement&nbsp;enabled&nbsp;when&nbsp;the&nbsp;src&nbsp;attribute&nbsp;is&nbsp;set,&nbsp;which&nbsp;is&nbsp;a&nbsp;bug.&nbsp; WebKit&nbsp;nightlies&nbsp;behave&nbsp;differently,&nbsp;and&nbsp;that&nbsp;is&nbsp;how&nbsp;I&nbsp;stumbled&nbsp;upon&nbsp;this&nbsp;issue.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;believe&nbsp;the&nbsp;spec&nbsp;for&nbsp;&quot;src&quot;&nbsp;assignment&nbsp;should&nbsp;match&nbsp;the&nbsp;spec&nbsp;for&nbsp;location.assign:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0.8ex;&nbsp;border-left-width:&nbsp;1px;&nbsp;border-left-color:&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;border-left-style:&nbsp;solid;&nbsp;padding-left:&nbsp;1ex;&nbsp;&quot;&gt;<br>
When&nbsp;the&nbsp;assign(url)&nbsp;method&nbsp;is&nbsp;invoked,&nbsp;the&nbsp;UA&nbsp;must&nbsp;resolve&nbsp;the&nbsp;argument,&nbsp;relative&nbsp;to&nbsp;the&nbsp;entry&nbsp;script&#39;s&nbsp;base&nbsp;URL,&nbsp;and&nbsp;if&nbsp;that&nbsp;is&nbsp;successful,&nbsp;must&nbsp;navigate&nbsp;the&nbsp;browsing&nbsp;context&nbsp;to&nbsp;the&nbsp;specified&nbsp;url.&nbsp;&lt;b&gt;If&nbsp;the&nbsp;browsing&nbsp;context&#39;s&nbsp;session&nbsp;history&nbsp;contains&nbsp;only&nbsp;one&nbsp;Document,&nbsp;and&nbsp;that&nbsp;was&nbsp;the&nbsp;about:blank&nbsp;Document&nbsp;created&nbsp;when&nbsp;the&nbsp;browsing&nbsp;context&nbsp;was&nbsp;created,&nbsp;then&nbsp;the&nbsp;navigation&nbsp;must&nbsp;be&nbsp;done&nbsp;with&nbsp;replacement&nbsp;enabled.&lt;/b&gt;&lt;/blockquote&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Agreed?&lt;/div&gt;&lt;div&gt;-Darin&lt;/div&gt;<br>

</tt>
