<tt>
Would&nbsp;it&nbsp;not&nbsp;be&nbsp;best&nbsp;to&nbsp;implement&nbsp;this&nbsp;based&nbsp;in&nbsp;the&nbsp;browser&nbsp;search&nbsp;integration&nbsp;thing&nbsp;that&nbsp;allows&nbsp;people&nbsp;to&nbsp;include&nbsp;a&nbsp;search&nbsp;option&nbsp;to&nbsp;a&nbsp;site&nbsp;through&nbsp;the&nbsp;browser,&nbsp;like&nbsp;YouTube,&nbsp;php.net,&nbsp;etc.&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;Ash&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.ashleysheridan.co.uk&quot;&gt;http://www.ashleysheridan.co.uk&lt;/a&gt;&lt;br&gt;&lt;br&gt;-----&nbsp;Reply&nbsp;message&nbsp;-----&lt;br&gt;From:&nbsp;&quot;Tony&nbsp;Gentilcore&quot;&nbsp;&lt;tonyg@chromium.org&gt;&lt;br&gt;Date:&nbsp;Wed,&nbsp;Oct&nbsp;13,&nbsp;2010&nbsp;23:59&lt;br&gt;Subject:&nbsp;[whatwg]&nbsp;SearchBox&nbsp;API&lt;br&gt;To:&nbsp;&lt;whatwg@whatwg.org&gt;&lt;br&gt;&lt;br&gt;Hi&nbsp;All,&lt;br&gt;&lt;br&gt;We&#39;re&nbsp;adding&nbsp;instant&nbsp;search&nbsp;integration&nbsp;[1]&nbsp;to&nbsp;Google&nbsp;Chrome,&nbsp;allowing&lt;br&gt;the&nbsp;search&nbsp;provider&nbsp;to&nbsp;communicate&nbsp;suggestions&nbsp;to&nbsp;the&nbsp;user&nbsp;agent.&lt;br&gt;&lt;br&gt;If&nbsp;there&nbsp;is&nbsp;interest,&nbsp;we&#39;d&nbsp;like&nbsp;to&nbsp;make&nbsp;sure&nbsp;that&nbsp;we&nbsp;do&nbsp;this&nbsp;in&nbsp;such&nbsp;a&lt;br&gt;way&nbsp;that&nbsp;any&nbsp;search&nbsp;provider&nbsp;or&nbsp;user&nbsp;agent&nbsp;can&nbsp;implement&nbsp;it.&lt;br&gt;&lt;br&gt;While&nbsp;the&nbsp;search&nbsp;boxes&nbsp;in&nbsp;most&nbsp;user&nbsp;agents&nbsp;support&nbsp;suggestions&nbsp;via&nbsp;an&lt;br&gt;HTTP&nbsp;API,&nbsp;instant&nbsp;requires&nbsp;a&nbsp;DOM&nbsp;API.&nbsp;We&nbsp;propose&nbsp;exposing&nbsp;a&lt;br&gt;window.navigator.searchBox&nbsp;object. There&nbsp;is&nbsp;some precedence for&nbsp;this&lt;br&gt;with&nbsp;window.navigator.registerProtocolHandler()/registerContentHandler()&lt;br&gt;[2].&lt;br&gt;&lt;br&gt;Is&nbsp;this&nbsp;something&nbsp;that&nbsp;others&nbsp;are&nbsp;interested&nbsp;in?&nbsp;If&nbsp;so,&nbsp;any&nbsp;feedback&lt;br&gt;on&nbsp;our&nbsp;working&nbsp;API&nbsp;[3]?&lt;br&gt;&lt;br&gt;-Tony&lt;br&gt;&lt;br&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;http://googlesystem.blogspot.com/2010/09/instant-search-in-google-chrome.html&quot;&gt;http://googlesystem.blogspot.com/2010/09/instant-search-in-google-chrome.html&lt;/a&gt;&lt;br&gt;[2]&nbsp;&lt;a&nbsp;href=&quot;http://dev.w3.org/html5/spec/Overview.html#navigator&quot;&gt;http://dev.w3.org/html5/spec/Overview.html#navigator&lt;/a&gt;&lt;br&gt;[3]&lt;br&gt;&lt;br&gt;interface&nbsp;SearchBox&nbsp;{&lt;br&gt; //&nbsp;Search&nbsp;query&nbsp;and&nbsp;cursor&nbsp;position.&lt;br&gt; readonly&nbsp;attribute&nbsp;DOMString&nbsp;value;&lt;br&gt; readonly&nbsp;attribute&nbsp;unsigned&nbsp;long&nbsp;selectionStart;&lt;br&gt; readonly&nbsp;attribute&nbsp;unsigned&nbsp;long&nbsp;selectionEnd;&lt;br&gt;&lt;br&gt; //&nbsp;Dimensions&nbsp;of&nbsp;the&nbsp;portion&nbsp;of&nbsp;the&nbsp;search&nbsp;box&nbsp;(e.g.&nbsp;a&nbsp;dropdown)&lt;br&gt; //&nbsp;that&nbsp;overlaps&nbsp;the&nbsp;window.&lt;br&gt; readonly&nbsp;attribute&nbsp;unsigned&nbsp;long&nbsp;x;&lt;br&gt; readonly&nbsp;attribute&nbsp;unsigned&nbsp;long&nbsp;y;&lt;br&gt; readonly&nbsp;attribute&nbsp;unsigned&nbsp;long&nbsp;width;&lt;br&gt; readonly&nbsp;attribute&nbsp;unsigned&nbsp;long&nbsp;height;&lt;br&gt;&lt;br&gt; //&nbsp;Set&nbsp;ordered&nbsp;suggestions.&nbsp;Valid&nbsp;for&nbsp;current&nbsp;this.value.&lt;br&gt; void&nbsp;setSuggestions(in&nbsp;DOMStringArray&nbsp;suggestions);&lt;br&gt;&lt;br&gt; //&nbsp;Notification&nbsp;that&nbsp;the&nbsp;user&nbsp;has&nbsp;changed&nbsp;the&nbsp;input&nbsp;value.&lt;br&gt;     &nbsp; &nbsp; &nbsp;attribute&nbsp;Function&nbsp;onchange;&lt;br&gt;&lt;br&gt; //&nbsp;Notification&nbsp;that&nbsp;the&nbsp;user&nbsp;has&nbsp;committed&nbsp;input&nbsp;(e.g.&nbsp;pressed&nbsp;enter).&lt;br&gt;    &nbsp; &nbsp; &nbsp; attribute&nbsp;Function&nbsp;onsubmit;&lt;br&gt;&lt;br&gt; //&nbsp;Notification&nbsp;that&nbsp;the&nbsp;user&nbsp;has&nbsp;selected&nbsp;a&nbsp;suggestion&nbsp;(e.g.&nbsp;down&lt;br&gt;arrow&nbsp;to&nbsp;suggestion).&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;attribute&nbsp;Function&nbsp;onselect;&lt;br&gt;&lt;br&gt; //&nbsp;Notification&nbsp;that&nbsp;the&nbsp;user&nbsp;has&nbsp;cancelled&nbsp;input&nbsp;(e.g.&nbsp;closed&nbsp;dropdown).&lt;br&gt;    &nbsp; &nbsp; &nbsp; attribute&nbsp;Function&nbsp;oncancel;&lt;br&gt;&lt;br&gt; //&nbsp;Notification&nbsp;that&nbsp;the&nbsp;dimensions&nbsp;of&nbsp;the&nbsp;overlapping&nbsp;region&nbsp;have&nbsp;changed.&lt;br&gt;    &nbsp; &nbsp; &nbsp; attribute&nbsp;Function&nbsp;onresize;&lt;br&gt;}&lt;br&gt;&lt;br&gt;[Supplemental]&lt;br&gt;interface&nbsp;NavigatorAbilities&nbsp;{&lt;br&gt; //&nbsp;Raises&nbsp;permission&nbsp;denied&nbsp;if&nbsp;page&nbsp;isn&#39;t&nbsp;default&nbsp;search&nbsp;provider.&lt;br&gt; readonly&nbsp;attribute&nbsp;SearchBox&nbsp;searchBox;&lt;br&gt;}&lt;br&gt;&lt;br&gt;//&nbsp;Example&nbsp;usage.&lt;br&gt;var&nbsp;searchBox&nbsp;=&nbsp;window.navigator.searchBox;&lt;br&gt;searchBox.onchange&nbsp;=&nbsp;function()&nbsp;{&lt;br&gt;  if&nbsp;(this.selectionStart&nbsp;==&nbsp;this.selectionEnd&nbsp;&amp;&amp;&lt;br&gt;  &nbsp; &nbsp; this.selectionStart&nbsp;==&nbsp;this.value.length)&lt;br&gt;  &nbsp; alert(&#39;Cursor&nbsp;is&nbsp;at&nbsp;end&nbsp;of&nbsp;input&#39;);&lt;br&gt;&lt;br&gt;  alert(&#39;Setting&nbsp;suggestions&nbsp;for:&nbsp;&#39;&nbsp;+&nbsp;this.value);&lt;br&gt;  this.setSuggestions([&quot;one&quot;,&nbsp;&quot;two&quot;]);&lt;br&gt;}&lt;br&gt;searchBox.onsubmit&nbsp;=&nbsp;function()&nbsp;{&lt;br&gt;  alert(&#39;User&nbsp;searched&nbsp;for:&nbsp;&#39;&nbsp;+&nbsp;this.value);&lt;br&gt;}&lt;br&gt;searchBox.onselect&nbsp;=&nbsp;function()&nbsp;{&lt;br&gt;  alert(&#39;User&nbsp;selected&nbsp;suggestion:&nbsp;&#39;&nbsp;+&nbsp;this.value);&lt;br&gt;}&lt;br&gt;searchBox.oncancel&nbsp;=&nbsp;function()&nbsp;{&lt;br&gt;  alert(&#39;Query&nbsp;when&nbsp;user&nbsp;cancelled:&nbsp;&#39;&nbsp;+&nbsp;this.value);&lt;br&gt;}&lt;br&gt;searchBox.onresize&nbsp;=&nbsp;function()&nbsp;{&lt;br&gt;  alert(&#39;Resized&nbsp;to:&nbsp;&#39;&nbsp;+&lt;br&gt;  &nbsp; &nbsp; &nbsp; [this.x,&lt;br&gt;  &nbsp; &nbsp; &nbsp; &nbsp;this.y,&lt;br&gt;  &nbsp; &nbsp; &nbsp; &nbsp;this.width,&lt;br&gt;  &nbsp; &nbsp; &nbsp; &nbsp;this.height].join(&#39;,&#39;));&lt;br&gt;}&lt;br&gt;&lt;br&gt;&lt;br&gt;
</tt>
