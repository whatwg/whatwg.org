<tt>
&lt;html&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Aug&nbsp;3,&nbsp;2009,&nbsp;at&nbsp;10:34&nbsp;AM,&nbsp;Daniel&nbsp;Gredler&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sat,&nbsp;Aug&nbsp;1,&nbsp;2009&nbsp;at&nbsp;4:59&nbsp;PM,&nbsp;Ian&nbsp;Hickson&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:ian@hixie.ch&quot;&gt;ian@hixie.ch&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&nbsp;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Wed,&nbsp;22&nbsp;Jul&nbsp;2009,&nbsp;Daniel&nbsp;Gredler&nbsp;wrote:&lt;br&gt;&nbsp;&gt;&lt;br&gt;&nbsp;&gt;&nbsp;First,&nbsp;why&nbsp;does&nbsp;the&nbsp;structured&nbsp;clone&nbsp;algorithm&nbsp;used&nbsp;by&nbsp;postMessage()&nbsp;[1]&lt;br&gt;&nbsp;&gt;&nbsp;throw&nbsp;an&nbsp;exception&nbsp;if&nbsp;it&nbsp;encounters&nbsp;cycles?&nbsp;It&nbsp;seems&nbsp;to&nbsp;me&nbsp;that&nbsp;the&lt;br&gt;&nbsp;&gt;&nbsp;memory-based&nbsp;logic&nbsp;which&nbsp;is&nbsp;used&nbsp;to&nbsp;catch&nbsp;cycles&nbsp;could&nbsp;easily&nbsp;be&lt;br&gt;&nbsp;&gt;&nbsp;modified&nbsp;to&nbsp;resolve&nbsp;them&nbsp;instead.&nbsp;The&nbsp;only&nbsp;possible&nbsp;reason&nbsp;I&nbsp;can&nbsp;think&lt;br&gt;&nbsp;&gt;&nbsp;of&nbsp;is&nbsp;to&nbsp;match&nbsp;JSON&nbsp;semantics,&nbsp;and&nbsp;the&nbsp;only&nbsp;reason&nbsp;I&nbsp;can&nbsp;think&nbsp;of&nbsp;to&lt;br&gt;&nbsp;&gt;&nbsp;want&nbsp;to&nbsp;match&nbsp;JSON&nbsp;semantics&nbsp;is&nbsp;to&nbsp;make&nbsp;implementers&nbsp;lives&nbsp;easier&lt;br&gt;&nbsp;&gt;&nbsp;(witness&nbsp;Firefox&nbsp;3.5,&nbsp;which&nbsp;just&nbsp;JSONifies&nbsp;objects&nbsp;passed&nbsp;to&lt;br&gt;&nbsp;&gt;&nbsp;postMessage()).&nbsp;However,&nbsp;this&nbsp;is&nbsp;a&nbsp;huge&nbsp;limitation,&nbsp;and&nbsp;I'm&nbsp;not&nbsp;sure&lt;br&gt;&nbsp;&gt;&nbsp;that&nbsp;the&nbsp;correct&nbsp;trade-off&nbsp;is&nbsp;to&nbsp;make&nbsp;implementers&nbsp;lives&nbsp;easier&nbsp;at&nbsp;the&lt;br&gt;&nbsp;&gt;&nbsp;expense&nbsp;of&nbsp;making&nbsp;web&nbsp;designers&nbsp;lives&nbsp;harder.&lt;br&gt;&nbsp;&lt;br&gt;&nbsp;&lt;/div&gt;Your&nbsp;guess&nbsp;is&nbsp;correct.&nbsp;I&nbsp;imagine&nbsp;we'll&nbsp;lift&nbsp;the&nbsp;restriction&nbsp;eventually;&nbsp;if&lt;br&gt;&nbsp;you&nbsp;want&nbsp;to&nbsp;make&nbsp;that&nbsp;happen&nbsp;quicker,&nbsp;then&nbsp;I&nbsp;encourage&nbsp;you&nbsp;to&nbsp;speak&lt;br&gt;&nbsp;directly&nbsp;to&nbsp;the&nbsp;browser&nbsp;vendors&nbsp;implementing&nbsp;this,&nbsp;and&nbsp;convince&nbsp;them&nbsp;it'd&lt;br&gt;&nbsp;be&nbsp;worth&nbsp;it.&nbsp;:-)&lt;br&gt;&lt;div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;I&nbsp;know&nbsp;Anne&nbsp;VK&nbsp;(Opera)&nbsp;and&nbsp;ROC&nbsp;(Mozilla)&nbsp;appear&nbsp;to&nbsp;read&nbsp;this&nbsp;list...&nbsp;any&nbsp;comments,&nbsp;guys?&nbsp;Should&nbsp;I&nbsp;just&nbsp;file&nbsp;bugs?&nbsp;Any&nbsp;Safari&nbsp;/&nbsp;Chrome&nbsp;/&nbsp;IE&nbsp;guys&nbsp;out&nbsp;there&nbsp;with&nbsp;comments?&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I'd&nbsp;prefer&nbsp;to&nbsp;stick&nbsp;with&nbsp;JSONic&nbsp;object&nbsp;graphs&nbsp;for&nbsp;now.&nbsp;Correctly&nbsp;cloning&nbsp;more&nbsp;complicated&nbsp;object&nbsp;structures&nbsp;is&nbsp;a&nbsp;fair&nbsp;bit&nbsp;more&nbsp;complicated,&nbsp;so&nbsp;I'd&nbsp;like&nbsp;to&nbsp;get&nbsp;solid&nbsp;interop&nbsp;on&nbsp;the&nbsp;basic&nbsp;cases&nbsp;first.&nbsp;Also,&nbsp;the&nbsp;idea&nbsp;is&nbsp;that&nbsp;postMessage()&nbsp;should&nbsp;be&nbsp;sending&nbsp;object&nbsp;structures&nbsp;that&nbsp;are&nbsp;essentially&nbsp;pure&nbsp;data.&nbsp;JSON&nbsp;seems&nbsp;to&nbsp;capture&nbsp;pretty&nbsp;well&nbsp;the&nbsp;idea&nbsp;of&nbsp;a&nbsp;pure&nbsp;data&nbsp;structure&nbsp;in&nbsp;JavaScript.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Maciej&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
