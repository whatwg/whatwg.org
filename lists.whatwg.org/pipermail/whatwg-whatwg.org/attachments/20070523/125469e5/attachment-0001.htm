<tt>
&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;/span&gt;&lt;div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;e&quot;&nbsp;id=&quot;q_112b8e51cef5ebdd_0&quot;&gt;On&nbsp;5/23/07,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Julian&nbsp;Reschke&lt;/b&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:julian.reschke@gmx.de&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
julian.reschke@gmx.de&lt;/a&gt;&gt;&nbsp;wrote:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;e&quot;&nbsp;id=&quot;q_112b8e51cef5ebdd_2&quot;&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
Ian&nbsp;Hickson&nbsp;wrote:&lt;br&gt;&gt;&nbsp;On&nbsp;Wed,&nbsp;23&nbsp;May&nbsp;2007,&nbsp;Julian&nbsp;Reschke&nbsp;wrote:&lt;br&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://lists.w3.org/Archives/Public/www-tag/2006Aug/0027.html&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
http://lists.w3.org/Archives/Public/www-tag/2006Aug/0027.html<br>
&lt;/a&gt;&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;Actually,&nbsp;I&nbsp;wasn&#39;t&nbsp;planning&nbsp;to.&nbsp;I&nbsp;think&nbsp;that&nbsp;that&nbsp;finding&nbsp;is&nbsp;a&nbsp;good&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;one,&nbsp;and&nbsp;that&nbsp;we&nbsp;should&nbsp;work&nbsp;on&nbsp;making&nbsp;less&nbsp;content&nbsp;break&nbsp;it.&lt;br&gt;&gt;&gt;&gt;&nbsp;I&nbsp;recommend&nbsp;reading&nbsp;the&nbsp;first&nbsp;of&nbsp;the&nbsp;two&nbsp;links&nbsp;cited&nbsp;above.&nbsp;It<br>
&lt;br&gt;&gt;&gt;&gt;&nbsp;describes&nbsp;what&nbsp;I&nbsp;did&nbsp;to&nbsp;&quot;work&quot;&nbsp;on&nbsp;making&nbsp;less&nbsp;content&nbsp;break&nbsp;it,&nbsp;and&lt;br&gt;&gt;&gt;&gt;&nbsp;why&nbsp;I&nbsp;think&nbsp;that&nbsp;it&#39;s&nbsp;a&nbsp;lost&nbsp;cause.&lt;br&gt;&gt;&gt;&nbsp;Actually,&nbsp;I&nbsp;read&nbsp;those&nbsp;messages&nbsp;when&nbsp;they&nbsp;were&nbsp;written.&lt;br&gt;<br>
<br>
&gt;&lt;br&gt;&gt;&nbsp;Ok,&nbsp;then&nbsp;you&nbsp;know&nbsp;that&nbsp;I&nbsp;have&nbsp;attempted&nbsp;to&nbsp;do&nbsp;the&nbsp;&quot;work&quot;&nbsp;you&nbsp;propose&nbsp;we&lt;br&gt;&gt;&nbsp;do.&nbsp;What&nbsp;more&nbsp;work&nbsp;can&nbsp;we&nbsp;do?&lt;br&gt;&lt;br&gt;For&nbsp;instance,&nbsp;continuing&nbsp;to&nbsp;allow&nbsp;UAs&nbsp;to&nbsp;trust&nbsp;the&nbsp;mime&nbsp;type,&nbsp;and&lt;br&gt;requiring&nbsp;content&nbsp;authors&nbsp;to&nbsp;send&nbsp;the&nbsp;proper&nbsp;mime&nbsp;types.<br>
&lt;br&gt;&lt;br&gt;Or,&nbsp;allowing&nbsp;(opt-in)&nbsp;browsers&nbsp;to&nbsp;flag&nbsp;broken&nbsp;media&nbsp;types&nbsp;in&nbsp;the&nbsp;UI,&nbsp;as&lt;br&gt;suggested&nbsp;in&lt;br&gt;&lt;&lt;a&nbsp;href=&quot;http://lists.w3.org/Archives/Public/www-tag/2006Aug/0035.html&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
http://lists.w3.org/Archives/Public/www-tag/2006Aug/0035.html<br>
&lt;/a&gt;&gt;&nbsp;(yes,&lt;br&gt;same&nbsp;thread).&lt;br&gt;&lt;br&gt;&gt;&gt;&nbsp;*&nbsp;I&nbsp;do&nbsp;understand&nbsp;that&nbsp;there&#39;s&nbsp;a&nbsp;gap&nbsp;between&nbsp;what&nbsp;the&nbsp;specs&nbsp;say&lt;br&gt;&gt;&gt;&nbsp;Content-Type&nbsp;should&nbsp;do,&nbsp;and&nbsp;what&nbsp;works&nbsp;in&nbsp;reality.&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;Indeed.&nbsp;And&nbsp;the&nbsp;specs,&nbsp;to&nbsp;be&nbsp;useful,&nbsp;have&nbsp;to&nbsp;match&nbsp;reality.<br>
&lt;br&gt;&lt;br&gt;That&nbsp;may&nbsp;be&nbsp;true&nbsp;if&nbsp;all&nbsp;we&#39;re&nbsp;discussing&nbsp;a&nbsp;spec&nbsp;that&nbsp;defines&nbsp;what&nbsp;a&nbsp;UA&lt;br&gt;has&nbsp;to&nbsp;implement&nbsp;to&nbsp;be&nbsp;compatible&nbsp;with&nbsp;today&#39;s&nbsp;broken&nbsp;content.&nbsp;I&lt;br&gt;absolutely&nbsp;agree&nbsp;that&nbsp;it&#39;s&nbsp;good&nbsp;to&nbsp;write&nbsp;that&nbsp;spec,&nbsp;but&nbsp;I&nbsp;disagree&nbsp;that<br>
&lt;br&gt;this&nbsp;should&nbsp;be&nbsp;same&nbsp;spec&nbsp;as&nbsp;HTML5.&lt;br&gt;&lt;br&gt;&gt;&gt;&nbsp;*&nbsp;As&nbsp;we&nbsp;just&nbsp;saw&nbsp;with&nbsp;the&nbsp;XSLT&nbsp;example,&nbsp;making&nbsp;generalizations&nbsp;like&nbsp;in&lt;br&gt;&gt;&gt;&nbsp;Anne&#39;s&nbsp;proposal&nbsp;is&nbsp;dangerous:&nbsp;for&nbsp;instance,&nbsp;Mozilla&nbsp;does&nbsp;check&nbsp;the&lt;br&gt;&gt;&gt;&nbsp;content&nbsp;type&nbsp;of&nbsp;XSLT&nbsp;style&nbsp;sheets,&nbsp;and&nbsp;it&nbsp;seems&nbsp;people&nbsp;can&nbsp;live&nbsp;with<br>
&lt;br&gt;&gt;&gt;&nbsp;that.&nbsp;In&nbsp;this&nbsp;particular&nbsp;case,&nbsp;XSLT&nbsp;content&nbsp;was&nbsp;served&nbsp;with&nbsp;type&lt;br&gt;&gt;&gt;&nbsp;text/html,&nbsp;and&nbsp;when&nbsp;the&nbsp;problem&nbsp;was&nbsp;discovered,&nbsp;the&nbsp;author&nbsp;immediately&lt;br&gt;&gt;&gt;&nbsp;fixed&nbsp;the&nbsp;server&nbsp;config.&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;The&nbsp;HTML5&nbsp;spec&nbsp;requires&nbsp;that&nbsp;Content-Type&nbsp;headers&nbsp;be&nbsp;obeyed&nbsp;everywhere<br>
&lt;br&gt;&gt;&nbsp;where&nbsp;I&nbsp;could&nbsp;possibly&nbsp;get&nbsp;away&nbsp;with&nbsp;requiring&nbsp;it.&nbsp;It&nbsp;only&nbsp;ignores&nbsp;it&lt;br&gt;&gt;&nbsp;where&nbsp;reality&nbsp;requires&nbsp;it.&lt;br&gt;&lt;br&gt;Let&#39;s&nbsp;look&nbsp;at&nbsp;an&nbsp;example.&lt;br&gt;&lt;&lt;a&nbsp;href=&quot;http://www.whatwg.org/specs/web-apps/current-work/#the-img&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
<br>
http://www.whatwg.org/specs/web-apps/current-work/#the-img&lt;/a&gt;&gt;&nbsp;currently&lt;br&gt;states:&lt;br&gt;&lt;br&gt;&quot;The&nbsp;remote&nbsp;server&#39;s&nbsp;response&nbsp;metadata&nbsp;(e.g.&nbsp;an&nbsp;HTTP&nbsp;404&nbsp;status&nbsp;code,&nbsp;or&lt;br&gt;associated&nbsp;Content-Type&nbsp;headers)&nbsp;must&nbsp;be&nbsp;ignored&nbsp;when&nbsp;determining<br>
&lt;br&gt;whether&nbsp;the&nbsp;resource&nbsp;obtained&nbsp;is&nbsp;a&nbsp;valid&nbsp;image&nbsp;or&nbsp;not.&lt;br&gt;&lt;br&gt;This&nbsp;allows&nbsp;servers&nbsp;to&nbsp;return&nbsp;images&nbsp;with&nbsp;error&nbsp;responses.&lt;br&gt;&lt;br&gt;User&nbsp;agents&nbsp;must&nbsp;not&nbsp;support&nbsp;non-image&nbsp;resources&nbsp;with&nbsp;the&nbsp;img&nbsp;element.&quot;&lt;br&gt;&lt;br&gt;Issues&nbsp;I&nbsp;have&nbsp;with&nbsp;this:<br>
&lt;br&gt;&lt;br&gt;-&nbsp;it&nbsp;doesn&#39;t&nbsp;provide&nbsp;tell&nbsp;content&nbsp;authors&nbsp;that&nbsp;the&nbsp;content-type&nbsp;header&lt;br&gt;*should*&nbsp;reflect&nbsp;the&nbsp;mime&nbsp;type;&nbsp;instead&nbsp;it&nbsp;suggests&nbsp;it&nbsp;doesn&#39;t&nbsp;matter,&lt;br&gt;&lt;br&gt;-&nbsp;it&nbsp;disallows&nbsp;UAs&nbsp;to&nbsp;trust&nbsp;the&nbsp;mime&nbsp;type,&nbsp;as&nbsp;recommended&nbsp;by&nbsp;other&nbsp;specs,<br>
&lt;br&gt;&lt;br&gt;-&nbsp;and&nbsp;finally&nbsp;it&nbsp;even&nbsp;requires&nbsp;UAs&nbsp;to&nbsp;ignore&nbsp;the&nbsp;HTTP&nbsp;status&nbsp;(which&nbsp;IMHO&lt;br&gt;is&nbsp;even&nbsp;worse&nbsp;than&nbsp;the&nbsp;Content-Type&nbsp;issue).&lt;br&gt;&lt;br&gt;&gt;&gt;&nbsp;*&nbsp;I&nbsp;think&nbsp;it&nbsp;would&nbsp;be&nbsp;bad&nbsp;if&nbsp;the&nbsp;W3C&nbsp;TAG&nbsp;finding&nbsp;on&nbsp;media&nbsp;types&nbsp;and&nbsp;a&lt;br&gt;&gt;&gt;&nbsp;future&nbsp;W3C&nbsp;HTML&nbsp;spec&nbsp;would&nbsp;contradict&nbsp;each&nbsp;other.<br>
&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;It&nbsp;would&nbsp;be&nbsp;worse&nbsp;if&nbsp;reality&nbsp;and&nbsp;the&nbsp;future&nbsp;HTML&nbsp;spec&nbsp;contradicted&nbsp;each&lt;br&gt;&gt;&nbsp;other.&nbsp;(It&nbsp;is&nbsp;already&nbsp;quite&nbsp;bad&nbsp;that&nbsp;the&nbsp;TAG&nbsp;finding&nbsp;contradicts&nbsp;reality.)&lt;br&gt;&lt;br&gt;Well,&nbsp;I&nbsp;disagree.&nbsp;The&nbsp;TAG&nbsp;finding&nbsp;says&nbsp;how&nbsp;things&nbsp;should&nbsp;work.<br>
&lt;br&gt;&lt;br&gt;If&nbsp;you&nbsp;think&nbsp;that&nbsp;this&nbsp;is&nbsp;wrong,&nbsp;you&#39;ll&nbsp;have&nbsp;to&nbsp;try&nbsp;to&nbsp;change&nbsp;*that*&nbsp;(I&lt;br&gt;know&nbsp;you&nbsp;tried...),&nbsp;but&nbsp;just&nbsp;ignoring&nbsp;it&nbsp;in&nbsp;a&nbsp;W3C&nbsp;spec&nbsp;is&nbsp;unlikely&nbsp;to&nbsp;be&lt;br&gt;accepted.&lt;/blockquote&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;Can&nbsp;someone&nbsp;point&nbsp;out&nbsp;specifically&nbsp;how&nbsp;HTML5&#39;s&nbsp;section&nbsp;on&nbsp;error&nbsp;handling&nbsp;contradicts&nbsp;this&nbsp;TAG&nbsp;finding,&nbsp;especially&nbsp;sections&nbsp;4&nbsp;and&nbsp;5?<br>
&lt;br&gt;&lt;br&gt;It&nbsp;says:&lt;br&gt;&lt;blockquote&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&nbsp;class=&quot;gmail_quote&quot;&gt;Web&nbsp;agents&nbsp;SHOULD&nbsp;have&nbsp;a&nbsp;configuration&nbsp;option&nbsp;that<br>
enables&nbsp;the&nbsp;display&nbsp;or&nbsp;logging&nbsp;of&nbsp;detected&nbsp;errors.&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;Obviously&nbsp;users&nbsp;don&#39;t&nbsp;want&nbsp;to&nbsp;see&nbsp;an&nbsp;alert&nbsp;every&nbsp;time&nbsp;an&nbsp;HTML&nbsp;page&nbsp;is&nbsp;served&nbsp;as&nbsp;text/plain,&nbsp;but&nbsp;if&nbsp;the&nbsp;UA&nbsp;logs&nbsp;that&nbsp;error&nbsp;or&nbsp;displays&nbsp;it&nbsp;plainly&nbsp;somewhere&nbsp;like&nbsp;Firefox&#39;s&nbsp;&quot;Page&nbsp;Info&quot;&nbsp;dialog,&nbsp;that&nbsp;should&nbsp;be&nbsp;enough.<br>
&lt;br&gt;&lt;br&gt;It&nbsp;also&nbsp;says:&lt;br&gt;&lt;blockquote&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&nbsp;class=&quot;gmail_quote&quot;&gt;An&nbsp;agent&nbsp;MUST&nbsp;NOT&nbsp;ignore&nbsp;or&nbsp;override&nbsp;authoritative<br>
metadata&nbsp;without&nbsp;the&nbsp;consent&nbsp;of&nbsp;the&nbsp;party&nbsp;employing&nbsp;the&nbsp;agent.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;A&nbsp;UA&nbsp;could&nbsp;simply&nbsp;keep&nbsp;a&nbsp;preference&nbsp;in&nbsp;the&nbsp;UA&#39;s&nbsp;&quot;advanced&quot;&nbsp;options&nbsp;where&nbsp;this&nbsp;is&nbsp;enabled&nbsp;by&nbsp;default.&nbsp;&nbsp;&lt;br&gt;&lt;/div&gt;&lt;br&gt;It&nbsp;should&nbsp;be&nbsp;possible&nbsp;for&nbsp;a&nbsp;UA&nbsp;to&nbsp;satisfy&nbsp;both&nbsp;of&nbsp;those&nbsp;conditions&nbsp;and&nbsp;still&nbsp;do&nbsp;the&nbsp;content-type&nbsp;sniffing&nbsp;in&nbsp;HTML5.<br>
&lt;br&gt;&lt;br&gt;Also,&nbsp;HTML5&nbsp;doesn&#39;t&nbsp;encourage&nbsp;authors&nbsp;to&nbsp;use&nbsp;incorrect&nbsp;content-type,&nbsp;it&nbsp;just&nbsp;suggests&nbsp;how&nbsp;browsers&nbsp;should&nbsp;handle&nbsp;errors.&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;(sorry&nbsp;I&nbsp;didn&#39;t&nbsp;hit&nbsp;&quot;reply&nbsp;to&nbsp;all&quot;&nbsp;the&nbsp;first&nbsp;time...)&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Jon&nbsp;Barnett<br>

</tt>
