<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Grouping in canvas 2d
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Grouping%20in%20canvas%202d&In-Reply-To=%3CCAGN7qDA9BfpOCqzAmbwooJ_aSw8cbLT-G_-can61K05Q7YsLMw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082046.html">
   <LINK REL="Next"  HREF="082032.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Grouping in canvas 2d</H1>
<!--htdig_noindex-->
    <B>Rik Cabanier</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Grouping%20in%20canvas%202d&In-Reply-To=%3CCAGN7qDA9BfpOCqzAmbwooJ_aSw8cbLT-G_-can61K05Q7YsLMw%40mail.gmail.com%3E"
       TITLE="[whatwg] Grouping in canvas 2d">cabanier at gmail.com
       </A><BR>
    <I>Tue Jun 18 09:14:32 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082046.html">[whatwg] Grouping in canvas 2d
</A></li>
        <LI>Next message: <A HREF="082032.html">[whatwg] Grouping in canvas 2d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82047">[ date ]</a>
              <a href="thread.html#82047">[ thread ]</a>
              <a href="subject.html#82047">[ subject ]</a>
              <a href="author.html#82047">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Jun 18, 2013 at 7:25 AM, Justin Novosad &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">junov at google.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Fri, Jun 14, 2013 at 2:34 PM, Rik Cabanier &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">cabanier at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I think so. If you leave a layer 'open', what would you display.
</I>&gt;&gt;<i> It wouldn't just be for requestAnimationFrame, you would also need to
</I>&gt;&gt;<i> define what happens if you read pixels with getImageData inside a
</I>&gt;&gt;<i> beginLayer.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> I would like to suggest that all layers left 'open' should be
</I>&gt;<i> automatically closed at the end of a script execution task.  Otherwise, it
</I>&gt;<i> would be too easy to leak layers and get OOM crashes. This would also
</I>&gt;<i> guarantee that the canvas contents are in a ready to display state.
</I>&gt;<i>
</I>
That sounds reasonable. Does this happen with save/restore as well?
If you want to draw incrementally, you wouldn't want this to happen either.


&gt;<i>
</I>&gt;<i> For the getImageData question I think the options that would make most
</I>&gt;<i> sense are either:
</I>&gt;<i> a) Read from the root layer (up to date except for contents of currently
</I>&gt;<i> open layers),
</I>&gt;<i> b) Read from the current (top most) layer, or
</I>&gt;<i> c) Fail
</I>&gt;<i> These options will never require the compositing of open (potentially
</I>&gt;<i> unfinished) layers, which I think is important for implementations to be
</I>&gt;<i> efficient.
</I>&gt;<i> I am not sure which of the above makes more sense though.
</I>&gt;<i>
</I>
This is probably a case where we need to check with the implementors.
Safari is the only browser that bolts the canvas implementation straight
onto the OS calls so we should probably spec out what they do since other
browser can probably emulate it.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082046.html">[whatwg] Grouping in canvas 2d
</A></li>
	<LI>Next message: <A HREF="082032.html">[whatwg] Grouping in canvas 2d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82047">[ date ]</a>
              <a href="thread.html#82047">[ thread ]</a>
              <a href="subject.html#82047">[ subject ]</a>
              <a href="author.html#82047">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
