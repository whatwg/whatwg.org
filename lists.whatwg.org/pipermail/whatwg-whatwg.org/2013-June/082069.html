<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Challenging canvas.supportsContext
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Challenging%20canvas.supportsContext&In-Reply-To=%3CCAD73md%2BdGDdYw9xYNNmqSOGDsCuTrNvOZ9yXB4VDfPdWoxsutQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082068.html">
   <LINK REL="Next"  HREF="082071.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Challenging canvas.supportsContext</H1>
<!--htdig_noindex-->
    <B>James Robinson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Challenging%20canvas.supportsContext&In-Reply-To=%3CCAD73md%2BdGDdYw9xYNNmqSOGDsCuTrNvOZ9yXB4VDfPdWoxsutQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Challenging canvas.supportsContext">jamesr at google.com
       </A><BR>
    <I>Wed Jun 19 15:06:41 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082068.html">[whatwg] Challenging canvas.supportsContext
</A></li>
        <LI>Next message: <A HREF="082071.html">[whatwg] Challenging canvas.supportsContext
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82069">[ date ]</a>
              <a href="thread.html#82069">[ thread ]</a>
              <a href="subject.html#82069">[ subject ]</a>
              <a href="author.html#82069">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Jun 19, 2013 at 3:04 PM, Kenneth Russell &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">kbr at google.com</A>&gt; wrote:

&gt;<i> On Wed, Jun 19, 2013 at 2:20 PM, Brandon Benvie &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bbenvie at mozilla.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; On 6/19/2013 2:05 PM, James Robinson wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; What would a page using Modernizr (or other library) to feature detect
</I>&gt;<i> &gt;&gt; WebGL do if the supportsContext('webgl') call succeeds but the later
</I>&gt;<i> &gt;&gt; getContext('webgl') call fails?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I don't have an example, I was just explaining how Mozernizr is often
</I>&gt;<i> used.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; I'm also failing to see the utility of the supportsContext() call.  It's
</I>&gt;<i> &gt;&gt; impossible for a browser to promise that supportsContext('webgl')
</I>&gt;<i> implies
</I>&gt;<i> &gt;&gt; that getContext('webgl') will succeed without doing all of the expensive
</I>&gt;<i> &gt;&gt; work, so any correctly authored page will have to handle a
</I>&gt;<i> &gt;&gt; getContext('webgl') failure anyway.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Given this, it would seem supportsContext is completely useless. The
</I>&gt;<i> whole
</I>&gt;<i> &gt; purpose of a feature detection check is to detect if a feature actually
</I>&gt;<i> &gt; works or not. Accuracy is more important than cost.
</I>&gt;<i>
</I>&gt;<i> supportsContext() can give a much more accurate answer than
</I>&gt;<i> !!window.WebGLRenderingContext. I can only speak for Chromium, but in
</I>&gt;<i> that browser, it can take into account factors such as whether the GPU
</I>&gt;<i> sub-process was able to start, whether WebGL is blacklisted on the
</I>&gt;<i> current card, whether WebGL is disabled on the current domain due to
</I>&gt;<i> previous GPU resets, and whether WebGL initialization succeeded on any
</I>&gt;<i> other page. All of these checks can be done without the heavyweight
</I>&gt;<i> operation of actually creating an OpenGL context.
</I>&gt;<i>
</I>
That's true, but the answer still doesn't promise anything about what
getContext() will do.  It may still return null and code will have to check
for that.  What's the use case for calling supportsContext() without
calling getContext()?

- James


&gt;<i> -Ken
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082068.html">[whatwg] Challenging canvas.supportsContext
</A></li>
	<LI>Next message: <A HREF="082071.html">[whatwg] Challenging canvas.supportsContext
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82069">[ date ]</a>
              <a href="thread.html#82069">[ thread ]</a>
              <a href="subject.html#82069">[ subject ]</a>
              <a href="author.html#82069">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
