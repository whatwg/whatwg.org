<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] iframe sandbox and allow-scripts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20iframe%20sandbox%20and%20allow-scripts&In-Reply-To=%3CCAJE5ia_XzV9VxN1s1EqkEdh6oYoGfNFjXP4SihvrHePm-Bd8JA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082125.html">
   <LINK REL="Next"  HREF="039846.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] iframe sandbox and allow-scripts</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20iframe%20sandbox%20and%20allow-scripts&In-Reply-To=%3CCAJE5ia_XzV9VxN1s1EqkEdh6oYoGfNFjXP4SihvrHePm-Bd8JA%40mail.gmail.com%3E"
       TITLE="[whatwg] iframe sandbox and allow-scripts">w3c at adambarth.com
       </A><BR>
    <I>Sat Jun 22 22:20:01 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082125.html">[whatwg] scrdoc and session history don't play along in the spec
</A></li>
        <LI>Next message: <A HREF="039846.html">[whatwg] Another issue in 12.2.5.5 parsing tokens in foreign	content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39845">[ date ]</a>
              <a href="thread.html#39845">[ thread ]</a>
              <a href="subject.html#39845">[ subject ]</a>
              <a href="author.html#39845">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Apr 12, 2013 at 4:56 PM, Ian Melven &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">imelven at mozilla.com</A>&gt; wrote:
&gt;<i> Freddy Braun recently noticed that he could do the following in Firefox :
</I>&gt;<i>
</I>&gt;<i> &lt;iframe id='foo' sandbox='allow-same-origin' src='inner.html'&gt;
</I>&gt;<i>
</I>&gt;<i> (note no allow-scripts)
</I>&gt;<i>
</I>&gt;<i> and then in the document containing the iframe:
</I>&gt;<i>
</I>&gt;<i> var iframe = document.getElementById('foo');
</I>&gt;<i> iframe.contentWindow.eval(&quot;alert(document.location)&quot;);
</I>&gt;<i>
</I>&gt;<i> and the alert will fire, which he found surprising.
</I>
That's the behavior I would expect.  You can also do the following:

var iframe = document.getElementById('foo');
iframe.contentWindow.alert(&quot;hello&quot;);

The allow-scripts sandbox flag doesn't block the script interfaces
inside the iframe.  It just prevents content inside the iframe from
triggering script execution.  In this case, the content outside the
iframe is the one triggering the script execution.

Adam
</PRE>






























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082125.html">[whatwg] scrdoc and session history don't play along in the spec
</A></li>
	<LI>Next message: <A HREF="039846.html">[whatwg] Another issue in 12.2.5.5 parsing tokens in foreign	content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39845">[ date ]</a>
              <a href="thread.html#39845">[ thread ]</a>
              <a href="subject.html#39845">[ subject ]</a>
              <a href="author.html#39845">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
