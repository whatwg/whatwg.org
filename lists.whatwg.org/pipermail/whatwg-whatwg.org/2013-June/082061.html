<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Challenging canvas.supportsContext
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Challenging%20canvas.supportsContext&In-Reply-To=%3CCAD73mdLvcoFripxdWuM-V0vDibw5e5PGejPqE5Ms3c_30b6hQQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082060.html">
   <LINK REL="Next"  HREF="082063.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Challenging canvas.supportsContext</H1>
<!--htdig_noindex-->
    <B>James Robinson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Challenging%20canvas.supportsContext&In-Reply-To=%3CCAD73mdLvcoFripxdWuM-V0vDibw5e5PGejPqE5Ms3c_30b6hQQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Challenging canvas.supportsContext">jamesr at google.com
       </A><BR>
    <I>Wed Jun 19 14:05:12 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082060.html">[whatwg] Challenging canvas.supportsContext
</A></li>
        <LI>Next message: <A HREF="082063.html">[whatwg] Challenging canvas.supportsContext
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82061">[ date ]</a>
              <a href="thread.html#82061">[ thread ]</a>
              <a href="subject.html#82061">[ subject ]</a>
              <a href="author.html#82061">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Jun 19, 2013 at 1:22 PM, Brandon Benvie &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bbenvie at mozilla.com</A>&gt; wrote:

&gt;<i> On 6/19/2013 12:46 PM, Boris Zbarsky wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On 6/19/13 3:43 PM, Kenneth Russell wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Accurate feature detection in libraries like Modernizr was mentioned
</I>&gt;&gt;&gt;<i> as a key use case:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.whatwg.org/**pipermail/whatwg-whatwg.org/**">http://lists.whatwg.org/**pipermail/whatwg-whatwg.org/**</A>
</I>&gt;&gt;&gt;<i> 2012-September/037249.html&lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-September/037249.html">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-September/037249.html</A>&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Right, this is the use case that's not really making sense to me. The
</I>&gt;&gt;<i> fact that Modernizr was doing this _eagerly_ sounds like a bug in Modernizr
</I>&gt;&gt;<i> to me...
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The point of using Modernizr or something like it is to detect
</I>&gt;<i> availability of features on page load, and then conditionally load
</I>&gt;<i> polyfills/alternate fallback implementations. It specifically does need to
</I>&gt;<i> do eager detection to be useful. It can't wait until the first usage to do
</I>&gt;<i> feature detection; it needs to be done up front when preparing dependencies
</I>&gt;<i> for the main application.
</I>&gt;<i>
</I>
What would a page using Modernizr (or other library) to feature detect
WebGL do if the supportsContext('webgl') call succeeds but the later
getContext('webgl') call fails?

I'm also failing to see the utility of the supportsContext() call.  It's
impossible for a browser to promise that supportsContext('webgl') implies
that getContext('webgl') will succeed without doing all of the expensive
work, so any correctly authored page will have to handle a
getContext('webgl') failure anyway.

- James


&gt;<i> This is also why Modernizr provides a custom build tool. It allows for
</I>&gt;<i> users to only do the feature detection on features they know they need to
</I>&gt;<i> care about, because each check has some cost that needs to be paid early on
</I>&gt;<i> in a page load.
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082060.html">[whatwg] Challenging canvas.supportsContext
</A></li>
	<LI>Next message: <A HREF="082063.html">[whatwg] Challenging canvas.supportsContext
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82061">[ date ]</a>
              <a href="thread.html#82061">[ thread ]</a>
              <a href="subject.html#82061">[ subject ]</a>
              <a href="author.html#82061">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
