<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Request: Implementing a Geo Location URI Scheme
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Request%3A%20Implementing%20a%20Geo%20Location%20URI%20Scheme&In-Reply-To=%3CPine.LNX.4.64.1306071511450.2772%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081976.html">
   <LINK REL="Next"  HREF="081987.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Request: Implementing a Geo Location URI Scheme</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Request%3A%20Implementing%20a%20Geo%20Location%20URI%20Scheme&In-Reply-To=%3CPine.LNX.4.64.1306071511450.2772%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Request: Implementing a Geo Location URI Scheme">ian at hixie.ch
       </A><BR>
    <I>Fri Jun  7 08:30:29 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081976.html">[whatwg] Request: Implementing a Geo Location URI Scheme
</A></li>
        <LI>Next message: <A HREF="081987.html">[whatwg] Request: Implementing a Geo Location URI Scheme
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81986">[ date ]</a>
              <a href="thread.html#81986">[ thread ]</a>
              <a href="subject.html#81986">[ subject ]</a>
              <a href="author.html#81986">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 4 Jun 2013, Rodrigo Polo wrote:
&gt;<i>
</I>&gt;<i> Many apps and web browsers make very difficult to work around geo 
</I>&gt;<i> location data, making a URI scheme available in all web browsers could 
</I>&gt;<i> be great, just like &quot;mailto:&quot; opens an email client &quot;geo:&quot; could open 
</I>&gt;<i> your default maps app on desktop or mobile devices, here I give you a 
</I>&gt;<i> more detailed review, an open letter to all web browser devs: 
</I>&gt;<i> <A HREF="http://rod.gs/fixgeo">http://rod.gs/fixgeo</A>
</I>
It's not exactly clear what you want changed to the browsers or the spec. 
As far as I can tell, geo: is already supported the same way mailto: is.


On Tue, 4 Jun 2013, Rodrigo Polo wrote:
&gt;<i>
</I>&gt;<i> I know the &quot;registerProtocolHandler&quot; but it doesn't work exactly as 
</I>&gt;<i> proposed, &quot;geo&quot; &quot;protocol&quot; isn't accepted on Chrome only &quot;protocols&quot; 
</I>&gt;<i> with the &quot;web-&quot; prefix
</I>
It should work; it's already listed in the spec. I recommend contacting 
Chrome developers or filing a bug (<A HREF="http://crbug.com/,">http://crbug.com/,</A> click New Issue).


&gt;<i> and the URL parameter have to match the webpage that make the request, 
</I>&gt;<i> it is designed for websites, not for local apps
</I>
Yes, registerProtocolHandler() is for Web apps. For native apps, the apps 
need but use the platform-provided way of registering a URL handler or URL 
intent, for the scheme &quot;geo:&quot;, the same way they do for mailto:.


On Wed, 5 Jun 2013, Julian Reschke wrote:
&gt;<i> 
</I>&gt;<i> If you want to &quot;geo&quot; URIs to invoke a local mapping application, all you 
</I>&gt;<i> need is to install an URI handler fort that scheme and that application 
</I>&gt;<i> in the *operating system*. This is how things like mailto: have been 
</I>&gt;<i> working for two decades now.
</I>
Indeed.


On Wed, 5 Jun 2013, Rodrigo Polo wrote:
&gt;<i>
</I>&gt;<i> Hi, well, the &quot;kind of support&quot; I think should be implemented is 
</I>&gt;<i> actually something that should be a standard, any anchor that have a 
</I>&gt;<i> &quot;mailto:&quot; inside is supported out of the box in any web browser and the 
</I>&gt;<i> first time it is clicked the web browser asks for the default app to 
</I>&gt;<i> open that link.
</I>
As far as I can tell, clicking geo: links does exactly the same as 
clicking mailto: links, at least in Firefox and Chrome.


&gt;<i> So, the main idea is to establish a standard way to handle geo location, 
</I>&gt;<i> first by making the URI scheme available on all web browsers and letting 
</I>&gt;<i> the user decide whether he wants to use a local app or a web page to 
</I>&gt;<i> access the links with the URI scheme just as it is done with the 
</I>&gt;<i> &quot;mailto:&quot; URI scheme, second step has to be done by the maps developers, 
</I>&gt;<i> they have to give a way to receive this geo location information from 
</I>&gt;<i> the browser and show the user the location, it could be by a URL or a 
</I>&gt;<i> parameter sent to the local binary/executable.
</I>
As far as I can tell, this is done. If it is poorly implemented, then 
please file bugs with the implementors.


&gt;<i> I know this is something that can be achieved very easily by the web 
</I>&gt;<i> browser developer and the maps app developer, the main thing is to make 
</I>&gt;<i> it an standard that everyone uses and that everybody know that it will 
</I>&gt;<i> work just as it works the &quot;mailto&quot; URI scheme today, I'm very confident 
</I>&gt;<i> that most of the users will appreciate it.
</I>
I think such standards already exist, both in the form of a geo: URL 
scheme and in terms of registerProtocolHandler() allowing 'geo:'.


&gt;<i> The common day to day applications are infinite, useful and enjoyable for
</I>&gt;<i> anyone, here some examples:
</I>&gt;<i> Twitter able to &quot;detect&quot; a geolocation on a tweet and make it a geo link
</I>&gt;<i> (anchor) so it can be clicked and it will open your map app.
</I>
Twitter could implement this today; I recommend approaching them to do it.


&gt;<i> Receiving an emails with geo location coordinates on a link instead of an
</I>&gt;<i> address and when you click it it opens your preferred maps app or webpage
</I>&gt;<i> and not the one the user &quot;force&quot; you to see.
</I>
E-mail writers can do this today.


&gt;<i> Common websites have a contact page that can omit showing a map or an
</I>&gt;<i> address and instead show a link with the geo location.
</I>
Web sites could do this today.


&gt;<i> Chat apps like WhatsApp can share geo locations that open on your default
</I>&gt;<i> app and not into a frame inside that app giving you de possibility to just
</I>&gt;<i> press the &quot;directions to that location&quot; to find your way to that point.
</I>
This is already possible. Indeed on Android (not sure about iOS) it's 
pretty standard for apps to give geographic/navigation intents.


&gt;<i> Faceboook fan pages or business pages can have a geo location link and 
</I>&gt;<i> with just a click I can see the location and get directions to that 
</I>&gt;<i> place.
</I>
This is possible today. Facebook (or facebook users) just have to provide 
the geo: link, and geography software or Web sites just have to register 
to handle the URL.


&gt;<i> The possibilities are limitless but for that to happen it is required 
</I>&gt;<i> that everyone agrees on enabling this URI scheme on all web browsers.
</I>
As far as I can tell, it is already enabled, modulo some bugs.


&gt;<i> BTW I know that app makers can add their own URI handler just as the 
</I>&gt;<i> &quot;magnet&quot; handler works on bittorrent clients, but again isn't available 
</I>&gt;<i> in the markup out of the box.
</I>
I don't understand what you want out of the box.


On Wed, 5 Jun 2013, Rodrigo Polo wrote:
&gt;<i>
</I>&gt;<i> You are completely right, but in the tests I made on Chrome the &quot;geo&quot; 
</I>&gt;<i> URI handler can't be used with the &quot;registerProtocolHandler&quot; call, it 
</I>&gt;<i> throws a security error and the use of geo location URI it is not 
</I>&gt;<i> included as a &quot;recommendation&quot; or &quot;good practice&quot; when we talk about the 
</I>&gt;<i> markup, so it is not a technical thing, it is more an idea that could be 
</I>&gt;<i> included in further discussions between web browsers developers, map app 
</I>&gt;<i> developers and the users so everyone adopt the idea of having the geo 
</I>&gt;<i> URI scheme adopted as an standard, I'm quite sure this idea can help a 
</I>&gt;<i> lot of users and web developers to give a better user experience and it 
</I>&gt;<i> is more important that many other things, it will make the life of users 
</I>&gt;<i> a lot easier.
</I>
Well, that's an issue of advocacy, more than standards. 


On Wed, 5 Jun 2013, Julian Reschke wrote:
&gt;<i> 
</I>&gt;<i> That being said: I agree that &quot;geo:&quot; should be added to the white list 
</I>&gt;<i> so that browser-based handlers for &quot;geo:&quot; become possible.
</I>
It's been on the whitelist since last October.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081976.html">[whatwg] Request: Implementing a Geo Location URI Scheme
</A></li>
	<LI>Next message: <A HREF="081987.html">[whatwg] Request: Implementing a Geo Location URI Scheme
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81986">[ date ]</a>
              <a href="thread.html#81986">[ thread ]</a>
              <a href="subject.html#81986">[ subject ]</a>
              <a href="author.html#81986">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
