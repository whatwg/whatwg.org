<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Adding crossorigin=&quot;&quot; to more elements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Adding%20crossorigin%3D%22%22%20to%20more%20elements&In-Reply-To=%3C51BEFA6A.6050600%40opera.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082027.html">
   <LINK REL="Next"  HREF="039760.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Adding crossorigin=&quot;&quot; to more elements</H1>
<!--htdig_noindex-->
    <B>Simon Pieters</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Adding%20crossorigin%3D%22%22%20to%20more%20elements&In-Reply-To=%3C51BEFA6A.6050600%40opera.com%3E"
       TITLE="[whatwg] Adding crossorigin=&quot;&quot; to more elements">simonp at opera.com
       </A><BR>
    <I>Mon Jun 17 05:00:42 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082027.html">[whatwg] Adding crossorigin=&quot;&quot; to more elements
</A></li>
        <LI>Next message: <A HREF="039760.html">[whatwg] Questions regarding Path object
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82029">[ date ]</a>
              <a href="thread.html#82029">[ thread ]</a>
              <a href="subject.html#82029">[ subject ]</a>
              <a href="author.html#82029">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 6/17/13 1:44 PM, Boris Zbarsky wrote:
&gt;<i> On 6/17/13 6:05 AM, Simon Pieters wrote:
</I>&gt;&gt;<i> What's in CSSOM now is &quot;tainting&quot;.
</I>&gt;<i>
</I>&gt;<i> Sort of.  I think of tainting as &quot;you can write to it but read from 
</I>&gt;<i> it&quot;, but what's in CSSOM is &quot;you can't touch it&quot;.
</I>True.

In CSSOM, since writing can have observable effects depending on what 
the style sheet was originally, it's difficult to allow writing to it 
without exposing information about what was there originally. For 
instance, insertRule can throw depending on the current state of the 
style sheet, and deleteRule throws if the index is out of range. I guess 
it's possible to do nothing instead of throwing, but it seemed simpler 
to just not allow writing. In practice, you can just write to a new 
style sheet instead.
&gt;<i> I guess the point is that whether you can touch or not is detected 
</I>&gt;<i> statically at load time?
</I>Yes.
&gt;<i> There needs to be some sort of dynamic check here in practice, since 
</I>&gt;<i> extensions need to be able to touch these things even if the page 
</I>&gt;<i> can't, but clearly that's out of scope of this specification.
</I>&gt;<i>
</I>&gt;&gt;<i> It seems like the wrong model to use the effective script origin for
</I>&gt;&gt;<i> stylesheets
</I>&gt;<i>
</I>&gt;<i> That's possible, yes.  The default security checks in Gecko always use 
</I>&gt;<i> effective script origin; a way to check the origin didn't even exist 
</I>&gt;<i> until pretty recently.  So any security check dating back far enough 
</I>&gt;<i> always uses the effective script origin...
</I>OK.
&gt;&gt;<i> Now, the spec could either use tainting or it could compare the origin
</I>&gt;&gt;<i> of the style sheet with the origin of the script that tries to access
</I>&gt;&gt;<i> it. This would only be different in a case like this
</I>&gt;<i>
</I>&gt;<i> Yes, agreed.
</I>&gt;<i>
</I>&gt;&gt;<i> Since this currently throws in Firefox, it's likely that there isn't a
</I>&gt;&gt;<i> big Web compat problem to not support this. I think &lt;canvas&gt; doesn't
</I>&gt;&gt;<i> support the equivalent thing, either, per spec (although a &lt;canvas&gt; is a
</I>&gt;&gt;<i> bit different in that it can have lots of images drawn on it from
</I>&gt;&gt;<i> different origins).
</I>&gt;<i>
</I>&gt;<i> Right, canvas has a tainting model where once you taint it no one can 
</I>&gt;<i> read from it (modulo extensions) even though they can keep writing to 
</I>&gt;<i> it, because trying to define an origin for such a thing would involve 
</I>&gt;<i> having an actual origin lattice in the platform or something along 
</I>&gt;<i> those lines.  ;)
</I>&gt;<i>
</I>&gt;<i> In any case, I don't have a huge problem with what's in CSSOM right 
</I>&gt;<i> now if it better matches what other UAs do.  Finding resources to 
</I>&gt;<i> change the Gecko behavior is another matter.  :(
</I>OK, thanks.

-- 
Simon Pieters
Opera Software


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082027.html">[whatwg] Adding crossorigin=&quot;&quot; to more elements
</A></li>
	<LI>Next message: <A HREF="039760.html">[whatwg] Questions regarding Path object
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82029">[ date ]</a>
              <a href="thread.html#82029">[ thread ]</a>
              <a href="subject.html#82029">[ subject ]</a>
              <a href="author.html#82029">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
