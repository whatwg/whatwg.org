<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fetch: please review!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fetch%3A%20please%20review%21&In-Reply-To=%3CCADnb78hyAOK0iHseYaeV_ap9__SxhdYF2aEqDVS7cUc1K26SQw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039704.html">
   <LINK REL="Next"  HREF="081979.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fetch: please review!</H1>
<!--htdig_noindex-->
    <B>Anne van Kesteren</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fetch%3A%20please%20review%21&In-Reply-To=%3CCADnb78hyAOK0iHseYaeV_ap9__SxhdYF2aEqDVS7cUc1K26SQw%40mail.gmail.com%3E"
       TITLE="[whatwg] Fetch: please review!">annevk at annevk.nl
       </A><BR>
    <I>Wed Jun  5 06:02:47 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="039704.html">[whatwg] Fetch: please review!
</A></li>
        <LI>Next message: <A HREF="081979.html">[whatwg] Fetch: please review!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81978">[ date ]</a>
              <a href="thread.html#81978">[ thread ]</a>
              <a href="subject.html#81978">[ subject ]</a>
              <a href="author.html#81978">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, May 27, 2013 at 1:24 AM, Peter Occil &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">poccil14 at gmail.com</A>&gt; wrote:
&gt;<i> Step 7 of section 4.3 reads:
</I>&gt;<i>
</I>&gt;<i>      Let headers be the names of request's author headers, sorted lexicographically and [[byte lowercased]].
</I>&gt;<i>
</I>&gt;<i> Isn't the phrase &quot;byte lowercased&quot; rather easy to define, since each author header can only
</I>&gt;<i> contain ASCII characters?  Maybe it should be:
</I>&gt;<i>
</I>&gt;<i>    7. Let headers be the names of request's author headers.
</I>&gt;<i>    7a. For each name in headers, convert that name to ASCII lowercase, and convert that name to a byte
</I>&gt;<i>        array by changing each code point to the corresponding byte.
</I>&gt;<i>    7b. Sort headers in ascending order using a byte-for-byte comparison.
</I>
Should not be too hard, indeed. However, the input is mostly likely an
array of byte sequences.


&gt;<i> FTP Responses
</I>
I have not looked into FTP yet. It's not an area that seems super
important to get completely right.


&gt;<i> One issue box says &quot;Map the result to response.&quot;  What exactly is the issue with mapping the result?
</I>&gt;<i> Should the response, including errors, be mapped to HTTP responses somehow?  Should FTP
</I>&gt;<i> errors (4xx and 5xx) be treated as &quot;network errors&quot;?
</I>
I'm not very familiar with FTP so this would basically require
testing. E.g. can an FTP error still be accompanied by a resource as
is possible for HTTP? HTTP 404 is not a network error and a HTTP 404
that comes with an image/png will display fine through &lt;img&gt; whereas a
network error would not.


&gt;<i> Also, the text &#8220;Follow the requirements from FTP to retrieve a resource&#8221; is rather vague. It seems
</I>&gt;<i> that&#8217;s because it takes more steps to retrieve a file via FTP than via HTTP.  Implementations that don&#8217;t
</I>&gt;<i> have a higher-level FTP backend may find it harder to understand what those steps consist of.  Here is what I
</I>&gt;<i> think are the steps.
</I>&gt;<i>
</I>&gt;<i> - Connect to server
</I>&gt;<i> - If URL has username, send USER [username]
</I>&gt;<i> - If URL has password, send PASS [password]
</I>&gt;<i> - Send TYPE I (binary mode)
</I>&gt;<i> - Send CWD [path]
</I>&gt;<i> - Send RETR [filename]
</I>&gt;<i> - Send QUIT
</I>
Can we just reference the HTTP specification for this? I guess the URL
username/password bit might not be covered?


&gt;<i> Moreover, if the FTP URL points to merely a directory, it&#8217;s unspecified what kind of resource should be returned.
</I>&gt;<i> Maybe a list of files (LIST or NLST command)?
</I>
What do user agents do today?


--
<A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039704.html">[whatwg] Fetch: please review!
</A></li>
	<LI>Next message: <A HREF="081979.html">[whatwg] Fetch: please review!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81978">[ date ]</a>
              <a href="thread.html#81978">[ thread ]</a>
              <a href="subject.html#81978">[ subject ]</a>
              <a href="author.html#81978">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
