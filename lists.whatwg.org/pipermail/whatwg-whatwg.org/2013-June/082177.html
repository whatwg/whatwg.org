<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Adding 2D Canvas features (Was: Grouping in canvas 2d)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Adding%202D%20Canvas%20features%20%28Was%3A%20Grouping%20in%20canvas%202d%29&In-Reply-To=%3CCAGN7qDDEZijOUHUQUiAX2P862zCy7ir7k11FCnS42NNUJXCE6A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082172.html">
   <LINK REL="Next"  HREF="082176.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Adding 2D Canvas features (Was: Grouping in canvas 2d)</H1>
<!--htdig_noindex-->
    <B>Rik Cabanier</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Adding%202D%20Canvas%20features%20%28Was%3A%20Grouping%20in%20canvas%202d%29&In-Reply-To=%3CCAGN7qDDEZijOUHUQUiAX2P862zCy7ir7k11FCnS42NNUJXCE6A%40mail.gmail.com%3E"
       TITLE="[whatwg] Adding 2D Canvas features (Was: Grouping in canvas 2d)">cabanier at gmail.com
       </A><BR>
    <I>Fri Jun 28 20:19:16 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="082172.html">[whatwg] Adding 2D Canvas features (Was: Grouping in canvas 2d)
</A></li>
        <LI>Next message: <A HREF="082176.html">[whatwg] Adding 2D Canvas features (Was: Grouping in canvas 2d)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82177">[ date ]</a>
              <a href="thread.html#82177">[ thread ]</a>
              <a href="subject.html#82177">[ subject ]</a>
              <a href="author.html#82177">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Jun 28, 2013 at 7:01 PM, Benoit Jacob &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jacob.benoit.1 at gmail.com</A>&gt;wrote:

&gt;<i> Has the Canvas 2D community considered a WebGL-like model to the
</I>&gt;<i> introduction of additional features?
</I>&gt;<i>
</I>&gt;<i> By &quot;the WebGL model&quot;, I mean:
</I>&gt;<i> - Define a core feature set that's conservative and limited, but
</I>&gt;<i> consistently implemented by all browsers. Enforce consistent support for it
</I>&gt;<i> by an exhaustive conformance test suite.
</I>&gt;<i>
</I>
This is what we want for canvas 2d. Everything in it should be consistently
implemented. If not, that's a bug.


&gt;<i> - Let any additional feature be an &quot;extension&quot;. Using the feature requires
</I>&gt;<i> first explicitly calling context.getExtension(&quot;featurename&quot;); . This helps
</I>&gt;<i> ensuring that Web pages don't accidentally rely on that feature, and
</I>&gt;<i> instead, make a conscious portability-vs-features trade-off.
</I>&gt;<i>
</I>
No, we don't want authors to worry about optional functionality. We
certainly don't want to write a spec that allows it. We do try to make new
features easily detectable.
Of course authors have to deal with different implementation levels because
they need to target different browsers and different versions of the same
browser, but we try to fill that by making new features easily detectable.
Very often the community will create a polyfill so authors can use new
features in older browsers.


&gt;<i> - Consider, similar to WebGL, further tightening this process by letting
</I>&gt;<i> any new feature start at &quot;draft&quot; status and wait a bit before being
</I>&gt;<i> &quot;approved&quot;.  Typically, the difference that this makes is that &quot;draft&quot;
</I>&gt;<i> extensions would be exposed by browsers only &quot;behind  a flag&quot; (a browser
</I>&gt;<i> option that's not enabled by default). Prerequisites for &quot;approval&quot; would
</I>&gt;<i> include: having been implemented and stable for some time, and being
</I>&gt;<i> covered by a conformance test.
</I>&gt;<i>
</I>&gt;<i> If there is any doubt that such a model can be useful in practice, WebGL
</I>&gt;<i> has been very successful so far at combining fast feature iteration with
</I>&gt;<i> tight cross-browser compatibility, using a similar model.
</I>&gt;<i>
</I>&gt;<i> See this document:
</I>&gt;<i>   <A HREF="http://www.khronos.org/registry/webgl/extensions/">http://www.khronos.org/registry/webgl/extensions/</A>
</I>&gt;<i> .,. except it needs updating to reflect the recent move away from vendor
</I>&gt;<i> prefixes to flags, by some major browsers.
</I>&gt;<i>
</I>&gt;<i> Benoit
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2013/6/28 Tom Wiltzius &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">wiltzius at chromium.org</A>&gt;
</I>&gt;<i>
</I>&gt;&gt;<i> I agree there isn't a risk of these unrelated additional features not
</I>&gt;&gt;<i> matching their hypothetical specs.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> However, my concern is Ian's comment that he'd prefer not to add
</I>&gt;&gt;<i> additional
</I>&gt;&gt;<i> features to the spec -- some of the ones being actively developed in
</I>&gt;&gt;<i> Chromium aren't added yet, and I'd hate for them to not get added even if
</I>&gt;&gt;<i> we have consensus on their behavior and early implementations.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> To quote Ian's initial message:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &quot;&quot;&quot;I think before we add more features, it's important that we figure out
</I>&gt;&gt;<i> which browsers want to implement which features, and that we start with
</I>&gt;&gt;<i> the highest priority ones.&quot;&quot;&quot;&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ... so I'm trying to provide context about what Chromium is currently
</I>&gt;&gt;<i> implementing, and hence what might be higher priority to spec.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Fri, Jun 28, 2013 at 12:48 PM, Rik Cabanier &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">cabanier at gmail.com</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; As long as those features don't build upon other unimplemented features,
</I>&gt;&gt;<i> &gt; there should be no risk.
</I>&gt;&gt;<i> &gt; However, accessibility (=hit regions) is a must and should be tackled as
</I>&gt;&gt;<i> &gt; soon as possible.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Rik
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; On Fri, Jun 28, 2013 at 12:30 PM, Tom Wiltzius &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">wiltzius at chromium.org</A>
</I>&gt;&gt;<i> &gt;wrote:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;&gt; The only major Canvas2D features being actively developed in Chromium
</I>&gt;&gt;<i> &gt;&gt; right now are:
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;  - having a canvas context &quot;alpha&quot; attribute
</I>&gt;&gt;<i> &gt;&gt;  - text decoration
</I>&gt;&gt;<i> &gt;&gt;  - compositing and blending
</I>&gt;&gt;<i> &gt;&gt;  - canvas access in workers
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; (easily referenced from <A HREF="http://www.chromestatus.com/features">http://www.chromestatus.com/features</A>)
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; It is concerning to me that the list of other unimplemented features
</I>&gt;&gt;<i> that
</I>&gt;&gt;<i> &gt;&gt; aren't being worked on could block the standardization of the above
</I>&gt;&gt;<i> (all of
</I>&gt;&gt;<i> &gt;&gt; which have been discussed on this list at one point, but not all of
</I>&gt;&gt;<i> which
</I>&gt;&gt;<i> &gt;&gt; are in the spec yet).
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; How can we help reconcile this discrepancy?
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; On Fri, Jun 14, 2013 at 11:54 AM, Rik Cabanier &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">cabanier at gmail.com</A>
</I>&gt;&gt;<i> &gt;wrote:
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; I agree that hit regions should be high on the priority list. They've
</I>&gt;&gt;<i> &gt;&gt;&gt; been
</I>&gt;&gt;<i> &gt;&gt;&gt; in the spec for a while and are absolutely required for accessibility.
</I>&gt;&gt;<i> &gt;&gt;&gt; I will try to follow up on this feature with the browsers. We recently
</I>&gt;&gt;<i> &gt;&gt;&gt; added a basic Path object to WebKit and I know that mozilla is
</I>&gt;&gt;<i> looking at
</I>&gt;&gt;<i> &gt;&gt;&gt; the path object.
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; At this point, I wouldn't ask to add begin/endLayer to the spec.
</I>&gt;&gt;<i> Instead,
</I>&gt;&gt;<i> &gt;&gt;&gt; we will talk to the browser vendors and work on implementing the
</I>&gt;&gt;<i> feature.
</I>&gt;&gt;<i> &gt;&gt;&gt; Just putting it in the spec is not enough to get an implementation...
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; On Fri, Jun 14, 2013 at 10:42 AM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; On Fri, 14 Jun 2013, Brian Salomon wrote:
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; &gt; As an implementor, we would prefer the layer approach. This would
</I>&gt;&gt;<i> &gt;&gt;&gt; have
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; &gt; lower overhead in Chromium/Skia. We can make better decisions
</I>&gt;&gt;<i> about
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; &gt; caching and deferred rendering. It also seems like a really handy
</I>&gt;&gt;<i> API
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; &gt; for devs, especially the ability to inherit the graphics state.
</I>&gt;&gt;<i> Would
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; &gt; the spec have anything to say about beginLayer()/endLayer()
</I>&gt;&gt;<i> &gt;&gt;&gt; balancing,
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; &gt; especially with respect to RAF?
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; I have no ojection to adding this to the spec, but right now the
</I>&gt;&gt;<i> spec
</I>&gt;&gt;<i> &gt;&gt;&gt; has
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; a bunch of features that aren't implemented, and there's a long
</I>&gt;&gt;<i> list of
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; other features people want that aren't yet specced. I'm very
</I>&gt;&gt;<i> hesitant
</I>&gt;&gt;<i> &gt;&gt;&gt; to
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; get the spec further and further away from implementations.
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; For example, here are some of the bug numbers for &lt;canvas&gt; feature
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; requests:
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; 11399   &lt;canvas&gt; Locking individual color channels (e.g. drawing to
</I>&gt;&gt;<i> &gt;&gt;&gt; alpha
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;                  only)
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; 21835   &lt;canvas&gt; Path object should have a way to add paths keeping
</I>&gt;&gt;<i> &gt;&gt;&gt; only
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;                  the union given a fill rule
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; 21939   &lt;canvas&gt; Path objects would be much more useful if their
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;                  individual commands (moveTo, lineTo, etc.) could be
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;                  inspected from JavaScript [...]
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; 8794    &lt;canvas&gt; lineWidth = 'hairline'
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; 11739   &lt;canvas&gt; clearPath() that clears pixels the way clearRect()
</I>&gt;&gt;<i> &gt;&gt;&gt; does,
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;                  but using a path
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; 9236    &lt;canvas&gt; Detecting the intersection of Path objects
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; 9235    &lt;canvas&gt; perspective transformations
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; 18751   &lt;canvas&gt; a way to get the coordinate of the last point in a
</I>&gt;&gt;<i> &gt;&gt;&gt; path
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; 21346   &lt;canvas&gt; Have ImageBitmap expose height and width attributes
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; (Bugs accessible from <A HREF="https://www.w3.org/Bugs/Public/">https://www.w3.org/Bugs/Public/</A>)
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; There's also the printCallback API proposal from Mozilla:
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> <A HREF="http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Sep/0371.html">http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Sep/0371.html</A>
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; Adding a parameter to drawImage for sprite sheets to avoid bleeding,
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; proposal from Chrome:
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> <A HREF="http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Dec/0088.html">http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Dec/0088.html</A>
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; Stroke alignment:
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> <A HREF="http://lists.w3.org/Archives/Public/public-whatwg-archive/2010Jul/0238.html">http://lists.w3.org/Archives/Public/public-whatwg-archive/2010Jul/0238.html</A>
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; Page flipping instead of double buffering:
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> <A HREF="http://lists.w3.org/Archives/Public/public-whatwg-archive/2013Jan/0073.html">http://lists.w3.org/Archives/Public/public-whatwg-archive/2013Jan/0073.html</A>
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; Inner shadows:
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> <A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-November/038079.html">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-November/038079.html</A>
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; Plus, as I mentioned, things in the spec that aren't implemented
</I>&gt;&gt;<i> &gt;&gt;&gt; widely:
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; Right now, the things in the spec that aren't widely implemented are
</I>&gt;&gt;<i> &gt;&gt;&gt; the
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; things that were needed for accessibility (hit regions) and the
</I>&gt;&gt;<i> things
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; that are the basis for some of the most-requested features (Paths).
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; I think before we add more features, it's important that we figure
</I>&gt;&gt;<i> out
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; which browsers want to implement which features, and that we start
</I>&gt;&gt;<i> with
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; the highest priority ones.
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; --
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; Ian Hickson               U+1047E                )\._.,--....,'``.
</I>&gt;&gt;<i> &gt;&gt;&gt;  fL
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; <A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\
</I>&gt;&gt;<i>  ;`._
</I>&gt;&gt;<i> &gt;&gt;&gt; ,.
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt; Things that are impossible just take longer.
</I>&gt;&gt;<i> &gt;&gt;&gt; `._.-(,_..'--(,_..'`-.;.'
</I>&gt;&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082172.html">[whatwg] Adding 2D Canvas features (Was: Grouping in canvas 2d)
</A></li>
	<LI>Next message: <A HREF="082176.html">[whatwg] Adding 2D Canvas features (Was: Grouping in canvas 2d)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82177">[ date ]</a>
              <a href="thread.html#82177">[ thread ]</a>
              <a href="subject.html#82177">[ subject ]</a>
              <a href="author.html#82177">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
