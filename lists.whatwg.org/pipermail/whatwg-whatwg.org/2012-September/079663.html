<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] New URL Standard
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20New%20URL%20Standard&In-Reply-To=%3CCAAWBYDCE8Qjmi7U6yvuj7g3ze_UFHXR7VzexhBbqhktm2ONJeQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079658.html">
   <LINK REL="Next"  HREF="079677.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] New URL Standard</H1>
<!--htdig_noindex-->
    <B>Tab Atkins Jr.</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20New%20URL%20Standard&In-Reply-To=%3CCAAWBYDCE8Qjmi7U6yvuj7g3ze_UFHXR7VzexhBbqhktm2ONJeQ%40mail.gmail.com%3E"
       TITLE="[whatwg] New URL Standard">jackalmage at gmail.com
       </A><BR>
    <I>Mon Sep 24 10:30:06 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079658.html">[whatwg] New URL Standard
</A></li>
        <LI>Next message: <A HREF="079677.html">[whatwg] New URL Standard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79663">[ date ]</a>
              <a href="thread.html#79663">[ thread ]</a>
              <a href="subject.html#79663">[ subject ]</a>
              <a href="author.html#79663">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Sep 24, 2012 at 2:34 AM, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at annevk.nl</A>&gt; wrote:
&gt;<i> I have been thinking about introducing a .query attribute that would
</I>&gt;<i> return a special interface for this purpose, but what the right API
</I>&gt;<i> should be seems somewhat tricky. Adam and Erik came up with a solution
</I>&gt;<i> that introduces eight new methods (see
</I>&gt;<i> <A HREF="http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#url">http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#url</A> ) but I hope
</I>&gt;<i> we can find something more elegant. (Unless we are stuck with their
</I>&gt;<i> solution for some reason, but I believe that is not the case.)
</I>
Yeah, that interface is pretty unfriendly.

I suggest just making it a map from String-&gt;[String].  You probably
want a little bit of magic - if the setter receives an array, replace
the current value with it; anything else, stringify then wrap in an
array and replace the current value.  The getter should return an
empty array for non-existing params.  You should be able to set .query
itself with an object, which empties out the map and then runs the
setter over all the items.  Bam, every single methods is now obsolete.

~TJ

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079658.html">[whatwg] New URL Standard
</A></li>
	<LI>Next message: <A HREF="079677.html">[whatwg] New URL Standard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79663">[ date ]</a>
              <a href="thread.html#79663">[ thread ]</a>
              <a href="subject.html#79663">[ subject ]</a>
              <a href="author.html#79663">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
