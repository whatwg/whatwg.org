<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Hardware accelerated canvas
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Hardware%20accelerated%20canvas&In-Reply-To=%3CCAGN7qDC3gkfp2FDwbuPnPfTmJm9w216ok7pHCCOG_1OwcrC_bg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079414.html">
   <LINK REL="Next"  HREF="079427.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Hardware accelerated canvas</H1>
<!--htdig_noindex-->
    <B>Rik Cabanier</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Hardware%20accelerated%20canvas&In-Reply-To=%3CCAGN7qDC3gkfp2FDwbuPnPfTmJm9w216ok7pHCCOG_1OwcrC_bg%40mail.gmail.com%3E"
       TITLE="[whatwg] Hardware accelerated canvas">cabanier at gmail.com
       </A><BR>
    <I>Tue Sep  4 22:12:33 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079414.html">[whatwg] Hardware accelerated canvas
</A></li>
        <LI>Next message: <A HREF="079427.html">[whatwg] Hardware accelerated canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79426">[ date ]</a>
              <a href="thread.html#79426">[ thread ]</a>
              <a href="subject.html#79426">[ subject ]</a>
              <a href="author.html#79426">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Rereading the mail thread, it seems like most people want/can live with a
callback that informs the developer that the canvas needs to be recreated.

If the developer doesn't use this new feature, he will get current behavior
where the browser will do snapshotting at reasonable intervals (or fail
outright in extreme circumstances).
If the callback is set, the browser will not do any snapshotting and will
ask the user to re-render the canvas context after a context loss (or a low
memory situation). If there is a context loss during drawing, it's probably
reasonable to just ignore all drawing commands during that rendering pass
and ask for a re-render immediately afterwards.

Someone did bring up that more complex applications use off-screen canvas
elements. Those would need to set the callback as well to avoid having to
snapshot them.
A possible problem here is that the user would need to be intelligent and
not re-render everything every time the callback is executed.

Rik

On Tue, Sep 4, 2012 at 12:15 PM, Erik M&#246;ller &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">emoller at opera.com</A>&gt; wrote:

&gt;<i> On Tue, 04 Sep 2012 20:49:57 +0200, Kornel Lesi&#324;ski &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">kornel at geekhood.net</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;<i>  until improvements in OS/drivers/hardware make this a non-issue (e.g. if
</I>&gt;&gt;<i> the OS can notify applications before gfx context is lost, then browsers
</I>&gt;&gt;<i> could snapshot then and problem will be gone for good)
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> We've just worked hard to get this behaviour into the GPUs to allow long
</I>&gt;<i> running shaders to be terminated for security reasons so it's not likely to
</I>&gt;<i> go away. Besides snapshotting right before a lost context doesn't help us
</I>&gt;<i> at all. For all we know the GPU could be half way through rendering
</I>&gt;<i> something when the event is triggered... even if we could read back the
</I>&gt;<i> half rendered content in the rendertarget how do we generate the correct
</I>&gt;<i> output from there? We'd have to take our DeLorian back to before the frame
</I>&gt;<i> was started and replay the rendering commands.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Erik M&#246;ller
</I>&gt;<i> Core Gfx Lead
</I>&gt;<i> Opera Software
</I>&gt;<i> twitter.com/erikjmoller
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079414.html">[whatwg] Hardware accelerated canvas
</A></li>
	<LI>Next message: <A HREF="079427.html">[whatwg] Hardware accelerated canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79426">[ date ]</a>
              <a href="thread.html#79426">[ thread ]</a>
              <a href="subject.html#79426">[ subject ]</a>
              <a href="author.html#79426">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
