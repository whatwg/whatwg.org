<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas arcTo method
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20arcTo%20method&In-Reply-To=%3CPine.LNX.4.64.1209031544030.30734%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037109.html">
   <LINK REL="Next"  HREF="079392.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas arcTo method</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20arcTo%20method&In-Reply-To=%3CPine.LNX.4.64.1209031544030.30734%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Canvas arcTo method">ian at hixie.ch
       </A><BR>
    <I>Mon Sep  3 08:58:57 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="037109.html">[whatwg] Canvas roundedRect
</A></li>
        <LI>Next message: <A HREF="079392.html">[whatwg] Canvas arcTo method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37110">[ date ]</a>
              <a href="thread.html#37110">[ thread ]</a>
              <a href="subject.html#37110">[ subject ]</a>
              <a href="author.html#37110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, 20 Aug 2012, Michael Day wrote:
&gt;<i> 
</I>&gt;<i> The camvas arcTo method generates an arc that touches two tangent lines. 
</I>&gt;<i> The first tangent line is from the last point in the previous subpath to 
</I>&gt;<i> the first point passed to the arcTo method.
</I>&gt;<i> 
</I>&gt;<i> What happens in this situation:
</I>&gt;<i> 
</I>&gt;<i> ctx.lineTo(100, 100);
</I>&gt;<i> ctx.scale(2, 1);
</I>&gt;<i> ctx.arcTo(100, 100, 100, 200, 100);
</I>&gt;<i> 
</I>&gt;<i> The current transformation matrix should be used to transform the 
</I>&gt;<i> generated arc, not to transform its control points.
</I>
The intent is that the whole thing be done in the transformed coordinate 
space. The spec was rather poorly written, I've made it slightly better 
(though only minimally so... I'm not really sure how to write the spec to 
be both clear and accurate).


On Tue, 21 Aug 2012, Michael Day wrote:
&gt;<i> 
</I>&gt;<i> For arcTo, it's much less obvious how the arc should be generated from 
</I>&gt;<i> the three control points, when the first control point is transformed by 
</I>&gt;<i> a different matrix to the last two; in this case you cannot just 
</I>&gt;<i> remember the three points in absolute canvas coordinates, but the 
</I>&gt;<i> specification does not clarify this.
</I>
Does it work if you just transform all the points and the line?

(Yeah, that's still way too vague. I'm not sure how to really specify 
this in a manner that's both unambiguous and clear. Any suggestions?)


On Tue, 21 Aug 2012, Michael Day wrote:
&gt;<i> 
</I>&gt;<i> You cannot transform the three control points, and then generate the 
</I>&gt;<i> arc. If you do this, you will always get circular arcs, whereas a 
</I>&gt;<i> scale(2, 1) will produce an elliptical arc. You have to generate the 
</I>&gt;<i> arc, then scale it.
</I>
Yeah, that's why the spec hand-waves to transform the line too... but I 
agree that that doesn't really work.

Do you have any suggestion of how to spec this better?

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>














































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037109.html">[whatwg] Canvas roundedRect
</A></li>
	<LI>Next message: <A HREF="079392.html">[whatwg] Canvas arcTo method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37110">[ date ]</a>
              <a href="thread.html#37110">[ thread ]</a>
              <a href="subject.html#37110">[ subject ]</a>
              <a href="author.html#37110">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
