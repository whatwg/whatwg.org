<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [canvas] matrix based changes on bitmaps
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bcanvas%5D%20matrix%20based%20changes%20on%20bitmaps&In-Reply-To=%3CCAAWBYDCFFjb7PUgyZAAL4hcYdaT%3DEiS98VKDxmdqyFG0sNYYRg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079634.html">
   <LINK REL="Next"  HREF="079640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [canvas] matrix based changes on bitmaps</H1>
<!--htdig_noindex-->
    <B>Tab Atkins Jr.</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bcanvas%5D%20matrix%20based%20changes%20on%20bitmaps&In-Reply-To=%3CCAAWBYDCFFjb7PUgyZAAL4hcYdaT%3DEiS98VKDxmdqyFG0sNYYRg%40mail.gmail.com%3E"
       TITLE="[whatwg] [canvas] matrix based changes on bitmaps">jackalmage at gmail.com
       </A><BR>
    <I>Fri Sep 21 12:35:52 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079634.html">[whatwg] [canvas] matrix based changes on bitmaps
</A></li>
        <LI>Next message: <A HREF="079640.html">[whatwg] [canvas] matrix based changes on bitmaps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79637">[ date ]</a>
              <a href="thread.html#79637">[ thread ]</a>
              <a href="subject.html#79637">[ subject ]</a>
              <a href="author.html#79637">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Sep 21, 2012 at 8:34 AM, Tyler Larson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">talltyler at gmail.com</A>&gt; wrote:
&gt;<i> On Sep 21, 2012, at 9:49 AM, Rik Cabanier &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">cabanier at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Support CSS Filters will satisfy this use case.
</I>&gt;&gt;<i> There are a number of built-in filters (such as sepia and constrast) and even support for vertex and fragment shaders.
</I>&gt;&gt;<i> The current spec doesn't have a shorthand for the generic 'matrix' but it allows you to refer to an SVG filter where there is support for this.
</I>&gt;<i>
</I>&gt;<i> Rik, If we had access to matrix transformation on the pixels we wouldn't need a sepia or contrast methods, all of this could be created as a simple transform.
</I>
Not true - having useful predefined things *in addition to*
lower-level primitives is good for authors.

Rik is right that once canvas supports CSS Filters, you can do
per-pixel matrix transformations via an SVG &lt;feComponentMatrix&gt;
filter.  However, you can't yet use SVG filters to do matrix
transforms over multiple pixels, like you need to do emboss or blur
filters yourself.

&gt;<i> I like the idea of abstracting this into an ArrayBuffer, I like the sound of this but ArrayBuffers seem to promote nested arrays, where as the Canvas spec uses a simpler structure with r,g,b,a,&#8230; pixel values. It would be awesome to have these types of inconsistencies worked out so we didn't need to transform our data into different structures before applying it.
</I>&gt;<i>
</I>&gt;<i> An abstraction between all of these contexts (Canvas,Element Transforms,Audio,WebGL,...) seems doable but if it means sacrificing performance later because what is output by the generic structure can't be used in each of these APIs as is, I would rather have more targeted transformation methods on each of these APIs.
</I>
Usually, these kinds of things are written as a flat array of
components, with each item cycling between being an r, g, b, or a.
This is what is already used by ImageData, for example.  It seems
reasonable in the future to let the functions that take an ImageData
also take an ArrayBuffer directly.

~TJ

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079634.html">[whatwg] [canvas] matrix based changes on bitmaps
</A></li>
	<LI>Next message: <A HREF="079640.html">[whatwg] [canvas] matrix based changes on bitmaps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79637">[ date ]</a>
              <a href="thread.html#79637">[ thread ]</a>
              <a href="subject.html#79637">[ subject ]</a>
              <a href="author.html#79637">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
