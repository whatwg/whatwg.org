<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Hardware accelerated canvas
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Hardware%20accelerated%20canvas&In-Reply-To=%3Cop.wj4jljuhj7kpr1%40emoller-i7.gothenburg.osa%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079404.html">
   <LINK REL="Next"  HREF="079429.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Hardware accelerated canvas</H1>
<!--htdig_noindex-->
    <B>Erik M&#246;ller</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Hardware%20accelerated%20canvas&In-Reply-To=%3Cop.wj4jljuhj7kpr1%40emoller-i7.gothenburg.osa%3E"
       TITLE="[whatwg] Hardware accelerated canvas">emoller at opera.com
       </A><BR>
    <I>Tue Sep  4 11:42:45 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079404.html">[whatwg] Hardware accelerated canvas
</A></li>
        <LI>Next message: <A HREF="079429.html">[whatwg] Hardware accelerated canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79411">[ date ]</a>
              <a href="thread.html#79411">[ thread ]</a>
              <a href="subject.html#79411">[ subject ]</a>
              <a href="author.html#79411">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 04 Sep 2012 19:15:46 +0200, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:

&gt;<i> On 9/4/12 1:02 PM, David Geary wrote:
</I>&gt;&gt;<i> Sure, but those use cases will be in the minority
</I>&gt;<i>
</I>&gt;<i> What makes you say that?
</I>&gt;<i>
</I>&gt;<i> Outside of games, I think they're a majority of the canvas-using things  
</I>&gt;<i> I've seen.
</I>&gt;<i>
</I>&gt;&gt;<i> I think it makes the most sense to add a context lost handler to the
</I>&gt;&gt;<i> spec and leave it up to developers to redraw the canvas.
</I>&gt;<i>
</I>&gt;<i> OK, yes, let's call that option 9.  And I'll add option 10: do nothing.
</I>&gt;<i>
</I>&gt;<i> So now our list is:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 1)  Have a way for pages to opt in to software rendering.
</I>&gt;<i> 2)  Opt canvases in to software rendering via some sort of heuristic
</I>&gt;<i>      (e.g. software by default until there has been drawing to it for
</I>&gt;<i>      several event loop iterations, or whatever).
</I>&gt;<i> 3)  Have a way for pages to opt in to having snapshots taken.
</I>&gt;<i> 4)  Auto-snapshot based on some heuristics.
</I>&gt;<i> 5)  Save command stream.
</I>&gt;<i> 6)  Have a way for pages to explicitly snapshot a canvas.
</I>&gt;<i> 7)  Require opt in for hardware accelerated rendering.
</I>&gt;<i> 8)  Authors use toDataURL() when they want their data to stick around.
</I>&gt;<i> 9)  Context lost event that lets authors regenerate the canvas.
</I>&gt;<i> 10) Do nothing, assume users will hit reload if their canvas goes blank.
</I>&gt;<i>
</I>&gt;<i> Any other options, before we start trying to actually decide which if  
</I>&gt;<i> any of these might be workable?
</I>&gt;<i>
</I>&gt;<i> -Boris
</I>
It's important to discuss implementation details so we don't spec  
something that's not implementable on all platforms. That said we  
obviously should try to stay clear of specifying how things should be  
implemented and instead spec what end result we're after. There's little  
distinction from the end users point of view for example between  
snapshotting an saving the command stream.

Can we live with a weaker statement than a guarantee that the canvas  
content will be retained? Perhaps a &quot;best effort&quot; may be enough?
It's obviously in the vendors interests to do as good a job as possible  
with retaining canvas content, and I believe for example on Android it's  
possible to get notified before a power-save event will occur. That would  
enable us to do a read-back and properly restore the canvas (investigation  
needed). For applications that just cannot loose any data then canvas  
obviously isn't the best choice for storage. If we do have the context  
lost event then at least new versions of those applications can be sure to  
render out all their data to a canvas and move it over to an img while  
listening for the context lost event. Existing applications that cannot  
loose data... well, maybe that's a loss we'll have to accept, but by all  
means dazzle me with a brilliant solution if you have one.

JFYI I'd say by far the most common lost context scenario on desktop would  
be browsing to your driver manufacturers page, downloading and installing  
a new driver.

-- 
Erik M&#246;ller
Core Gfx Lead
Opera Software
twitter.com/erikjmoller

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079404.html">[whatwg] Hardware accelerated canvas
</A></li>
	<LI>Next message: <A HREF="079429.html">[whatwg] Hardware accelerated canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79411">[ date ]</a>
              <a href="thread.html#79411">[ thread ]</a>
              <a href="subject.html#79411">[ subject ]</a>
              <a href="author.html#79411">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
