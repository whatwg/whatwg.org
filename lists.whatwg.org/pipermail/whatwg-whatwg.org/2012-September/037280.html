<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Incomplete user-input in some input types
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Incomplete%20user-input%20in%20some%20input%20types&In-Reply-To=%3CCAGH7WqETKxxpGT9DpOJmjcvYhUb50qvpk9vHgsaUfGQ342eTgg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079622.html">
   <LINK REL="Next"  HREF="037281.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Incomplete user-input in some input types</H1>
<!--htdig_noindex-->
    <B>TAMURA, Kent</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Incomplete%20user-input%20in%20some%20input%20types&In-Reply-To=%3CCAGH7WqETKxxpGT9DpOJmjcvYhUb50qvpk9vHgsaUfGQ342eTgg%40mail.gmail.com%3E"
       TITLE="[whatwg] Incomplete user-input in some input types">tkent at chromium.org
       </A><BR>
    <I>Wed Sep 12 23:18:48 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079622.html">[whatwg] canvas miterLimit property
</A></li>
        <LI>Next message: <A HREF="037281.html">[whatwg] Problem in the Section &quot;4 Elements of HTML =&gt; 4.4 Sections =&gt; 4.4.2 The Section element
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37280">[ date ]</a>
              <a href="thread.html#37280">[ thread ]</a>
              <a href="subject.html#37280">[ subject ]</a>
              <a href="author.html#37280">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Proposal:

Making an input element invalid state if the input has an invalid string
specified by a user with browser UI. &quot;An invalid string&quot; means a string
which doesn't match to a required format defined by a type.

    e.g. If a user typed &quot;-&quot; to input[type=number], input.validity.valid
would be false and form submission would be prevented.

A. In such case, make input.validity.typeMismatch true, or
B. Introduce new IDL attribute to ValidityState.
input.validity.invalidUserInput?

This behavior should be applied to the following types:
    number, color, date, datetime, datettime-local, month, time, and week


Background:
    If an input type is implemented as a text field, it is very hard for UA
to reject invalid strings for the type. For example, &quot;-&quot; is not a valid
floating-point number, but UA can't prevent users from typing &quot;-&quot;.  So the
field can contain invalid strings though its value IDL attribute is empty.
If a user tries to submit the form in such situation, the field is valid
unless the required attribute is specified.
    WebKit clears the invalid string when the field loses focus or the form
is submitted.  A sanitized value (empty string) is submitted.
    Opera doesn't clear the invalid string. It silently submits a sanitized
value (empty string).
    IE10 has a behavior similar to WebKit.  However if a user
type &quot;-1abc&quot;, &quot;-1abc&quot; is submitted.

I don't like clearing user input.  It's not a good user experience.  Users
don't expect their input strings are cleared by UA.
Also, I don't like submitting empty value silently. Users expect their
input strings are submitted.
I think the best UI is to notify users about a field has an invalid string,
and give a chance to correct it.  Applying the standard form validation
mechanism must be reasonable.



-- 
TAMURA Kent
Software Engineer, Google


</PRE>
















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079622.html">[whatwg] canvas miterLimit property
</A></li>
	<LI>Next message: <A HREF="037281.html">[whatwg] Problem in the Section &quot;4 Elements of HTML =&gt; 4.4 Sections =&gt; 4.4.2 The Section element
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37280">[ date ]</a>
              <a href="thread.html#37280">[ thread ]</a>
              <a href="subject.html#37280">[ subject ]</a>
              <a href="author.html#37280">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
