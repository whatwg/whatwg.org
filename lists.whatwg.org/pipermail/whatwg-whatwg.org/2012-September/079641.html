<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] New URL Standard
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20New%20URL%20Standard&In-Reply-To=%3C3C5E14A5-D6D3-4832-9741-0142B61F0ECD%404d.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079636.html">
   <LINK REL="Next"  HREF="079654.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] New URL Standard</H1>
<!--htdig_noindex-->
    <B>Alexandre Morgaut</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20New%20URL%20Standard&In-Reply-To=%3C3C5E14A5-D6D3-4832-9741-0142B61F0ECD%404d.com%3E"
       TITLE="[whatwg] New URL Standard">Alexandre.Morgaut at 4d.com
       </A><BR>
    <I>Sat Sep 22 00:10:23 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079636.html">[whatwg] New URL Standard
</A></li>
        <LI>Next message: <A HREF="079654.html">[whatwg] New URL Standard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79641">[ date ]</a>
              <a href="thread.html#79641">[ thread ]</a>
              <a href="subject.html#79641">[ subject ]</a>
              <a href="author.html#79641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
Thanks Anne, I'd appreciate to be able to easily get a URLUtil interface from a string UTL without doing some nasty hacks

I have a ew questions

Would the URLUtil interface replace the &quot;URL decomposition IDL attributes&quot; of the Location interface?
        -&gt; <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/urls.html#url-decomposition-idl-attributes">http://www.whatwg.org/specs/web-apps/current-work/multipage/urls.html#url-decomposition-idl-attributes</A>
        -&gt; <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#the-location-interface">http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#the-location-interface</A>

Could the search property have a &quot;query&quot; and/or &quot;params&quot; (see &quot;tel:&quot; and &quot;fax:&quot; bellow) alias?

Could the search property have a key/value mapping?
ex:
<A HREF="http://test.com?param1=value1">http://test.com?param1=value1</A>
-&gt; var value1 = url.search.param1
&quot;search&quot; as &quot;window.location&quot; could still be usable as a string


Shouldn't this document have references on some of the URL related RFCs:

- Uniform Resource Locators (URL)
        -&gt; <A HREF="http://tools.ietf.org/html/rfc1738">http://tools.ietf.org/html/rfc1738</A>

- The &quot;data&quot; URL scheme
        -&gt; <A HREF="http://tools.ietf.org/html/rfc2397">http://tools.ietf.org/html/rfc2397</A>

- Uniform Resource Identifier (URI): Generic Syntax
        -&gt; <A HREF="http://tools.ietf.org/html/rfc3986">http://tools.ietf.org/html/rfc3986</A>

Should this document include a more complete list of schemes with ones that are more and more used in URLs?
ex:
- &quot;mailto:&quot;
        -&gt; <A HREF="https://tools.ietf.org/html/rfc2368">https://tools.ietf.org/html/rfc2368</A>
        -&gt; <A HREF="https://tools.ietf.org/html/rfc6068">https://tools.ietf.org/html/rfc6068</A>
- &quot;tel:&quot;, &quot;fax:&quot;
        -&gt; <A HREF="https://tools.ietf.org/html/rfc2806">https://tools.ietf.org/html/rfc2806</A>
        -&gt; <A HREF="https://tools.ietf.org/html/rfc3966">https://tools.ietf.org/html/rfc3966</A>
- &quot;sms:&quot;
        -&gt; <A HREF="http://tools.ietf.org/html/rfc5724">http://tools.ietf.org/html/rfc5724</A>
- tv:
        -&gt; <A HREF="http://tools.ietf.org/html/rfc2838">http://tools.ietf.org/html/rfc2838</A>
Unfortunately, the URLUtil interface would not be adapted for them:
- the &quot;protocol&quot;, &quot;host&quot;, and &quot;hostname&quot; properties make sense and would work;
- the query part (search property) is used by the &quot;mailto:&quot; and &quot;sms:&quot; URIs;
- for &quot;tel:&quot; and &quot;fax&quot;, we see &quot;parameters&quot; prefixed by &quot;;&quot; as the ones used in some media types, those parameters could be found in the search property


PS:
Note that the fax: scheme could be supported in a form or via XHR to send PDF documents, postcript document, HTML documents with their potential CSS print...
But that would be another discussion

On 21 sept. 2012, at 17:16, Anne van Kesteren wrote:

&gt;<i> I took a crack at defining URLs: <A HREF="http://url.spec.whatwg.org/">http://url.spec.whatwg.org/</A>
</I>&gt;<i>
</I>&gt;<i> At the moment it defines parsing (minus domain names / IP addresses)
</I>&gt;<i> and the JavaScript API (minus the query manipulation methods proposed
</I>&gt;<i> by Adam Barth). It defines things like setting .pathname to &quot;hello
</I>&gt;<i> world&quot; (notice the space), it defines what happens if you resolve
</I>&gt;<i> &quot;http:test&quot; against a data URL (you get &quot;<A HREF="http://test/">http://test/</A>&quot;) or
</I>&gt;<i> <A HREF="http://teehee">http://teehee</A> (you get &quot;<A HREF="http://teehee/test">http://teehee/test</A>&quot;). It is based on the
</I>&gt;<i> various URL code paths found in WebKit and Gecko and supports the \ as
</I>&gt;<i> / in various places because it seemed better for compatibility.
</I>&gt;<i>
</I>&gt;<i> I'm looking for some feedback/ideas on how to handle various aspects, e.g.:
</I>&gt;<i>
</I>&gt;<i> * data URLs; in Gecko these appear to be parsed as part of the URL
</I>&gt;<i> layer, because they can turn a URL invalid. Other browsers do not do
</I>&gt;<i> this. Opinions? Should data URLs support .search?
</I>&gt;<i> * In the current text only a select few URLs support host/port/query.
</I>&gt;<i> The rest is solely path/fragment. But maybe we want mailto to support
</I>&gt;<i> query? Should it support host? (mailto supporting e.g. host would also
</I>&gt;<i> mean normalising host via IDNA toASCII and friends. Not sure I'm fond
</I>&gt;<i> of that.)
</I>&gt;<i> * Advice on file URLs would be nice.
</I>&gt;<i> * IDNA: what are your plans? IDNA2003 / IDNA2008 / UTS #46 / something
</I>&gt;<i> else? It would be nice to get agreement on this.
</I>&gt;<i> * Terminology: should we align the terminology with the API or would
</I>&gt;<i> that just be too confusing?
</I>&gt;<i>
</I>&gt;<i> Thanks!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> PS: It also does the query encoding thing correctly for the first time
</I>&gt;<i> ever in the history of URL standards although the wording can probably
</I>&gt;<i> be improved.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> <A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>
</I>




Alexandre Morgaut
Wakanda Community Manager

4D SAS
60, rue d'Alsace
92110 Clichy
France

Standard : +33 1 40 87 92 00
Email :    <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">Alexandre.Morgaut at 4d.com</A>
Web :      www.4D.com



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079636.html">[whatwg] New URL Standard
</A></li>
	<LI>Next message: <A HREF="079654.html">[whatwg] New URL Standard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79641">[ date ]</a>
              <a href="thread.html#79641">[ thread ]</a>
              <a href="subject.html#79641">[ subject ]</a>
              <a href="author.html#79641">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
