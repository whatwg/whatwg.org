<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] content editing (was Re: Request for new DOM property textarea.selectionText)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20content%20editing%20%28was%20Re%3A%20Request%20for%20new%20DOM%20property%0A%20textarea.selectionText%29&In-Reply-To=%3C20120905193758.GF456%40pixotech.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037159.html">
   <LINK REL="Next"  HREF="079451.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] content editing (was Re: Request for new DOM property textarea.selectionText)</H1>
<!--htdig_noindex-->
    <B>David Young</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20content%20editing%20%28was%20Re%3A%20Request%20for%20new%20DOM%20property%0A%20textarea.selectionText%29&In-Reply-To=%3C20120905193758.GF456%40pixotech.com%3E"
       TITLE="[whatwg] content editing (was Re: Request for new DOM property textarea.selectionText)">dyoung at pobox.com
       </A><BR>
    <I>Wed Sep  5 12:37:58 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="037159.html">[whatwg] HTMLForms: Implicit Submission with {display:none} button
</A></li>
        <LI>Next message: <A HREF="079451.html">[whatwg] content editing (was Re: Request for new DOM property textarea.selectionText)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37162">[ date ]</a>
              <a href="thread.html#37162">[ thread ]</a>
              <a href="subject.html#37162">[ subject ]</a>
              <a href="author.html#37162">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Apr 30, 2012 at 08:55:04AM +0300, Aryeh Gregor wrote:
&gt;<i> On Sun, Apr 29, 2012 at 11:39 PM, David Young &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dyoung at pobox.com</A>&gt; wrote:
</I>&gt;<i> &gt; I'm curious what advantages document.execCommand() has over the
</I>&gt;<i> &gt; customary DOM API for adding/deleting/moving nodes?
</I>&gt;<i> 
</I>&gt;<i> execCommand() does vastly more complicated things than the DOM APIs.
</I>&gt;<i> See the spec for details:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://dvcs.w3.org/hg/editing/raw-file/tip/editing.html">http://dvcs.w3.org/hg/editing/raw-file/tip/editing.html</A>
</I>
First off, I have only skimmed this and, you could say, tested it
against my knowledge and experience of trying to create a word processor
using JavaScript.

I have to say that I'm uneasy with the way that this API wavers between
answering interaction-design questions and telling what ought to happen
to the DOM under, say, an execCommand('insertText').  Just for example,
lots of words are spent on just what to do when the user inserts two or
more consecutive whitespace characters where the white-space property
is 'normal' instead of 'pre-wrap'.  That seems like a question to leave
to the interaction designer.  Different word processors through the
years have treated consecutive spaces differently, especially in tricky
contexts like the right margin.

I say that it should be left to the interaction designer because when an
intern and I explored the idea of embedding a word-processor directly
into a web pages using JavaScript/DOM, I remember discovering no fewer
than three different right-margin behaviors in a survey of Apple's
TextEdit application, MS Word, the Canon Cat (an &quot;information appliance&quot;
from 1987).  Then I invented a fourth behavior.  There was not an
obstacle to implementing each in the DOM.  I'm sure that each behavior
must have its fans and its detractors, but when I demonstrated the
differences in a staff meeting, the behavior of MS Word so defied the
expectations of one MS Word-using engineer that he protested that it
*could not be*.

So, anyway, I question the wisdom of standardizing such fine points of
the UA behavior as what two taps of the spacebar will do: I believe that
reasonable people can disagree, and setting a standard seems premature.

There do seem to be a couple of areas where web standards seem
to be lacking if you aspire to write a JavaScript/DOM word
processor.  One area is keyboard input: we had to use a table of
keycode-&gt;letter/function correspondences, (at least) one per browser, to
interpret keypresses consistently.  Another area is locating the precise
character position where a mouse click occurred: we found it doable by
binary search, but it was kind of a pain.  Locating and decorating the
&quot;soft breaks&quot; on a page was another pain point.

Dave

-- 
David Young
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dyoung at pobox.com</A>    Urbana, IL    (217) 721-9981
</PRE>



























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037159.html">[whatwg] HTMLForms: Implicit Submission with {display:none} button
</A></li>
	<LI>Next message: <A HREF="079451.html">[whatwg] content editing (was Re: Request for new DOM property textarea.selectionText)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37162">[ date ]</a>
              <a href="thread.html#37162">[ thread ]</a>
              <a href="subject.html#37162">[ subject ]</a>
              <a href="author.html#37162">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
