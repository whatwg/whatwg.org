<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] New URL Standard
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20New%20URL%20Standard&In-Reply-To=%3CCAAWM5Ty2nvi8Of5DYuJR19aog5MAHeY6ZPtYq42Q%3DVhupuwEfw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079703.html">
   <LINK REL="Next"  HREF="079702.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] New URL Standard</H1>
<!--htdig_noindex-->
    <B>David Sheets</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20New%20URL%20Standard&In-Reply-To=%3CCAAWM5Ty2nvi8Of5DYuJR19aog5MAHeY6ZPtYq42Q%3DVhupuwEfw%40mail.gmail.com%3E"
       TITLE="[whatwg] New URL Standard">kosmo.zb at gmail.com
       </A><BR>
    <I>Tue Sep 25 11:01:48 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="079703.html">[whatwg] New URL Standard
</A></li>
        <LI>Next message: <A HREF="079702.html">[whatwg] New URL Standard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79700">[ date ]</a>
              <a href="thread.html#79700">[ thread ]</a>
              <a href="subject.html#79700">[ subject ]</a>
              <a href="author.html#79700">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Sep 24, 2012 at 9:18 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> This is Anne's spec, so I'll let him give more canonical answers, but:
</I>&gt;<i>
</I>&gt;<i> On Mon, 24 Sep 2012, David Sheets wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Your conforming WHATWG-URL syntax will have production rule alphabets
</I>&gt;&gt;<i> which are supersets of the alphabets in RFC3986.
</I>&gt;<i>
</I>&gt;<i> Not necessarily, but that's certainly possible. Personally I would
</I>&gt;<i> recommend that we not change the definition of what is conforming from the
</I>&gt;<i> current RFC3986/RFC3987 rules, except to the extent that the character
</I>&gt;<i> encoding affects it (as per the HTML standard today).
</I>&gt;<i>
</I>&gt;<i>    <A HREF="http://whatwg.org/html#valid-url">http://whatwg.org/html#valid-url</A>
</I>
I believe the '#' character in the fragment identifier qualifies.

&gt;&gt;<i> This is what I propose you define and it does not necessarily have to be
</I>&gt;&gt;<i> in BNF (though a production rule language of some sort probably isn't a
</I>&gt;&gt;<i> bad idea).
</I>&gt;<i>
</I>&gt;<i> We should definitely define what is a conforming URL, yes (either
</I>&gt;<i> directly, or by reference to the RFCs, as HTML does now). Whether prose or
</I>&gt;<i> a structured language is the better way to go depends on what the
</I>&gt;<i> conformance rules are -- HTML is a good example here: it has parts that
</I>&gt;<i> are defined in terms of prose (e.g. the HTML syntax as a whole), and other
</I>&gt;<i> parts that are defined in terms of BNF (e.g. constraints on the conetnts
</I>&gt;<i> of &lt;script&gt; elements in certain situations). It's up to Anne.
</I>
HTML is far larger and more compositional than URI. I am confident
that, no matter what is specified in the WHATWG New URL Standard, a
formal language exists which can describe the structure of conforming
identifiers. If no such formal language can be described, the syntax
specification is likely to be incomplete or unsound.

&gt;&gt;<i> How will WHATWG-URLs which use the syntax extended from RFC3986 map into
</I>&gt;&gt;<i> RFC3986 URI references for systems that only support those?
</I>&gt;<i>
</I>&gt;<i> The same way that those systems handle invalid URLs today, I would assume.
</I>&gt;<i> Do you have any concrete systems in mind here? It would be good to add
</I>&gt;<i> them to the list of systems that we test. (For what it's worth, in
</I>&gt;<i> practice, I've never found software that exactly followed RFC3986 and
</I>&gt;<i> also rejected any non-conforming strings. There are just too many invalid
</I>&gt;<i> URLs out there for that to be a viable implementation strategy.)
</I>
It is not the rejection of incoming nonconforming reference
identifiers that causes issues but rather the emission of strictly
conforming identifiers by Postel's Law (Robustness Principle). I know
of several URI implementations that, given a nonconforming reference
identifier, will only output conforming identifiers. Indeed, the
standard under discussion will behave in exactly this way.

This leads to loss of information in chains of URI processors that can
and will change the meaning of identifiers.

&gt;<i> I remember when I was testing this years ago, when doing the first pass on
</I>&gt;<i> attempting to fix this, that I found that some less widely tested
</I>&gt;<i> software, e.g. wget(1), did not handle URLs in the same manner as more
</I>&gt;<i> widely tested software, e.g. IE, with the result being that Web pages were
</I>&gt;<i> not handled interoperably between these two software classes. This is the
</I>&gt;<i> kind of thing we want to stop, by providing a single way to parse all
</I>&gt;<i> input strings, valid or invalid, as URLs.
</I>
Was wget in violation of the RFC? Was IE more lenient?

If every string, valid or invalid, is parseable as a URI reference, is
there an algorithm to accurately extract URIs from plain text?

&gt;<i> --
</I>&gt;<i> Ian Hickson               U+1047E                )\._.,--....,'``.    fL
</I>&gt;<i> <A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
</I>&gt;<i> Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079703.html">[whatwg] New URL Standard
</A></li>
	<LI>Next message: <A HREF="079702.html">[whatwg] New URL Standard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79700">[ date ]</a>
              <a href="thread.html#79700">[ thread ]</a>
              <a href="subject.html#79700">[ subject ]</a>
              <a href="author.html#79700">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
