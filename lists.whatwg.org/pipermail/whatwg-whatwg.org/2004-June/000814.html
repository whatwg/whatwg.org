<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Re: several messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Re%3A%20several%20messages&In-Reply-To=%3C40E3B5D6.1070509%40voracity.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000806.html">
   <LINK REL="Next"  HREF="000765.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Re: several messages</H1>
<!--htdig_noindex-->
    <B>voracity</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Re%3A%20several%20messages&In-Reply-To=%3C40E3B5D6.1070509%40voracity.org%3E"
       TITLE="[whatwg] Re: several messages">subs at voracity.org
       </A><BR>
    <I>Wed Jun 30 23:57:26 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000806.html">[whatwg] Re: several messages
</A></li>
        <LI>Next message: <A HREF="000765.html">[whatwg] Interleaved repetition blocks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#814">[ date ]</a>
              <a href="thread.html#814">[ thread ]</a>
              <a href="subject.html#814">[ subject ]</a>
              <a href="author.html#814">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Matthew Raymond wrote:

&gt;<i> Ian Hickson wrote:
</I>&gt;&gt;<i> If backwards compatibility is not important:
</I>&gt;&gt;<i>    &lt;p&gt;
</I>&gt;&gt;<i>     &lt;label&gt;
</I>&gt;&gt;<i>      Select a breed:
</I>&gt;&gt;<i>      &lt;input type=&quot;text&quot; name=&quot;breed&quot; data=&quot;breeds&quot;&gt;
</I>&gt;&gt;<i>      &lt;datalist id=&quot;breeds&quot;&gt;
</I>&gt;&gt;<i>       &lt;option value=&quot;Abyssinian&quot;&gt;
</I>&gt;&gt;<i>       &lt;option value=&quot;Alpaca&quot;&gt;
</I>&gt;&gt;<i>       &lt;!-- ... --&gt;
</I>&gt;&gt;<i>      &lt;/datalist&gt;
</I>&gt;&gt;<i>     &lt;/label&gt;
</I>&gt;&gt;<i>    &lt;/p&gt;
</I>&gt;<i> 
</I>&gt;<i> [snip] Seems rather backward compatible to me.
</I>
I agree. If it weren't, I wouldn't have supported it.

However, I think what Ian means is that the list won't render in non-JS pre-WF2 
UAs (would this apply to current versions of lynx and accessibility browsers?). 
I don't believe it's important to support the richer interface in that class of 
browser (since they would almost certainly implement WF2 if it became common), 
but I might be wrong.

&gt;&gt;<i> If it is:
</I>&gt;&gt;<i>    &lt;p&gt;
</I>&gt;&gt;<i>     &lt;label&gt;
</I>&gt;&gt;<i>      Select a breed:
</I>&gt;&gt;<i>      &lt;input type=&quot;text&quot; name=&quot;breed&quot; data=&quot;breeds&quot;&gt;
</I>&gt;&gt;<i>     &lt;/label&gt;
</I>&gt;&gt;<i>     &lt;datalist id=&quot;breeds&quot;&gt;
</I>&gt;&gt;<i>      &lt;label&gt;
</I>&gt;&gt;<i>       or select one from the list:
</I>&gt;&gt;<i>       &lt;select name=&quot;breed&quot;&gt;
</I>&gt;&gt;<i>        &lt;option&gt;Abyssinian
</I>&gt;&gt;<i>        &lt;option&gt;Alpaca
</I>&gt;&gt;<i>        &lt;!-- ... --&gt;
</I>&gt;&gt;<i>       &lt;/select&gt;
</I>&gt;&gt;<i>      &lt;/label&gt;
</I>&gt;&gt;<i>     &lt;/datalist&gt;
</I>&gt;&gt;<i>    &lt;/p&gt;
</I>
Hmmm, I don't mind this. It's nicer than the first example in the sense that I 
would not have to write any JS for either WF2 UAs or legacy UAs under any of the 
use cases I described earlier (with additional attributes). However, the first 
example is much cleaner for what is probably the most common case.

I'm not sure which I prefer. On these examples _alone_ I think I prefer the 
second (so long as WF2 _does_ submit 2 values). However, Matthew raises some 
interesting possibilities for choicelists/datalists.

&gt;<i> [snip] there's another way to accomplish the same thing:
</I>&gt;<i>
</I> &gt; [snip]
&gt;<i> 
</I>&gt;<i>    &lt;p&gt;
</I>&gt;<i>      &lt;label&gt;
</I>&gt;<i>        Select a breed:
</I>&gt;<i>        &lt;input type=&quot;text&quot; name=&quot;breed&quot; list=&quot;breeds&quot;&gt;
</I>&gt;<i>      &lt;/label&gt;
</I>&gt;<i>      &lt;label repeat=&quot;template&quot; repeat-start=&quot;0&quot;&gt;
</I>&gt;<i>        or select one from the list:
</I>&gt;<i>        &lt;select name=&quot;breed&quot; id=&quot;breeds&quot;&gt;
</I>&gt;<i>          &lt;option&gt;Abyssinian&lt;/option&gt;
</I>&gt;<i>          &lt;option&gt;Alpaca&lt;/option&gt;
</I>&gt;<i>          &lt;!-- ... --&gt;
</I>&gt;<i>        &lt;/select&gt;
</I>&gt;<i>      &lt;/label&gt;
</I>&gt;<i>    &lt;/p&gt;
</I>&gt;<i> 
</I>&gt;<i>    Here, the data is loaded from the &lt;select&gt; in a template. Since the 
</I>&gt;<i> |list| attribute requires WF2 to work, and the repetition template 
</I>&gt;<i> requires WF2 to prevent it from being rendered, the rendered template 
</I>&gt;<i> and the list are mutually exclusive.
</I>
Hmmm, I don't know. Again, I find this less attractive because it uses an 
unrelated WF2 property (repeat) to get legacy and WF2 agents to render properly.

&gt;<i>    It may just be me, but it seems like the first and second examples 
</I>&gt;<i> are intentionally written to disregard my suggestion of using the same 
</I>&gt;<i> structure for both combo items and context menus. In fact, the whole 
</I>&gt;<i> construction of this example seems to subtly undermine such an approach. 
</I>&gt;<i> You have the element named &lt;datalist&gt; instead of &lt;optlist&gt; or &lt;cl&gt; 
</I>&gt;<i> (short for &quot;choice list&quot;). You use the attribute name |data| instead of 
</I>&gt;<i> |list|. But perhaps I'm overreacting...
</I>
I can't speak for Ian, but it looks like he's just trying to optimise things for 
_this_ specific function. You may want to explicitly suggest that you believe a 
choicelist can work well as a general element. (And also give a compelling 
argument for why you believe it should be used that way.)

&gt;&gt;<i> Basically, we add a &quot;data&quot; attribute to &lt;input&gt; elements which applies to
</I>&gt;&gt;<i> the &quot;text&quot;, &quot;uri&quot;, &quot;email&quot;, &quot;number&quot;, &quot;range&quot;, and date- and time- 
</I>&gt;&gt;<i> related
</I>&gt;&gt;<i> types. This attribute points to a &lt;datalist&gt; or &lt;select&gt; element (or 
</I>&gt;&gt;<i> maybe
</I>&gt;&gt;<i> any element).
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     Any element that handles lists: &lt;select&gt;, &lt;li&gt;, &lt;table&gt;, et cetera.
</I>
Almost all elements are a list of something, but it would seem a bit strange to 
point to a &lt;p&gt; that contains a set of &lt;em&gt;'s. So perhaps a restricted list like 
this is a good idea.

&gt;<i>  &gt; The list of values that the UA can show as autocomplete
</I>&gt;<i> 
</I>&gt;&gt;<i> values consists of all the &lt;option&gt; elements inside the &lt;datalist&gt; or
</I>&gt;&gt;<i> &lt;select&gt; element (as in, getElementsByTagName('option')). If those
</I>&gt;&gt;<i> elements have &quot;value&quot; attributes, they are used as the value. Otherwise,
</I>&gt;&gt;<i> the contents of the &lt;option&gt; elements are used.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>    Most webmasters will think that the |autocomplete| attribute would 
</I>&gt;<i> handle this, only it currently handles values that the UA remembers for 
</I>&gt;<i> you. Then again, this is a pretty common behavior for a combo box, so 
</I>&gt;<i> perhaps such control of autocompletion is not necessary...
</I>
I'm not sure I understand the second sentence. Certainly with a combo box, the 
UAs autocomplete would never be on (because of 2 competing popup lists). 
Alternatively, autocomplete could take the form of highlighting entries in the 
WF2 UA that you've chosen before, and preferring those when it searches the list.

&gt;&gt;<i> All the contents of &lt;datalist&gt; elements are hidden on WF2 UAs, and can
</I>&gt;&gt;<i> thus be used as the fallback rendering for legacy UAs. Controls inside
</I>&gt;&gt;<i> &lt;datalist&gt; elements are never successful in WF2 UAs. &lt;datalist&gt; doesn't
</I>&gt;&gt;<i> take any attributes other than the common attributes.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>    As I stated before, I don't like the idea of having a wrapper around 
</I>&gt;<i> markup intended for legacy UAs, especially since it results in a greater 
</I>&gt;<i> amount of markup on WF2-only pages. Compare:
</I>&gt;<i> 
</I>&gt;<i>    &lt;datalist id=&quot;breeds&quot;&gt;
</I>&gt;<i>      &lt;select&gt;
</I>&gt;<i>        &lt;option&gt;Abyssinian&lt;/option&gt;
</I>&gt;<i>        &lt;option&gt;Alpaca&lt;/option&gt;
</I>&gt;<i>        &lt;!-- ... --&gt;
</I>&gt;<i>      &lt;/select&gt;
</I>&gt;<i>    &lt;/datalist&gt;
</I>
It wouldn't look like that in markup for WF2-only. It would look like cl below, 
with 'datalist' substituted for 'cl'. Also, a problem with my original &lt;combo&gt; 
suggestion was that there was no _incentive_ to support legacy clients. Ian's 
second example deals with this.

&gt;<i>    ...Versus this...
</I>&gt;<i> 
</I>&gt;<i>    &lt;cl id=&quot;breeds&quot;&gt;
</I>&gt;<i>      &lt;option&gt;Abyssinian&lt;/option&gt;
</I>&gt;<i>      &lt;option&gt;Alpaca&lt;/option&gt;
</I>&gt;<i>      &lt;!-- ... --&gt;
</I>&gt;<i>    &lt;/cl&gt;
</I>&gt;<i> 
</I>

&gt;<i> [snip]
</I>&gt;<i> 
</I>&gt;<i>    Better idea:
</I>&gt;<i> 
</I>&gt;<i>    &lt;cl id=&quot;calendar&quot; data=&quot;calendar.xml&quot; /&gt;
</I>&gt;<i>    &lt;input type=&quot;datetime&quot; list=&quot;calendar&quot; name=&quot;d&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i>    It's much cleaner, and you don't get confused by the differing uses 
</I>&gt;<i> of the |data| attribute, because it only has one use.
</I>
I agree. The dual use of the |data| attribute is confusing. I think Ian 
suggested it because it would parallel the |data| attribute on &lt;select&gt;. 
However, in all the examples discussed (not including my original &lt;combo&gt;), a 
datalist is not like a select since it is never displayed.

&gt;<i>    Hmm... That give me an idea:
</I>&gt;<i> 
</I>&gt;<i>    &lt;cl id=&quot;cutcopy&quot; data=&quot;cutcopy_items.xml&quot; /&gt;
</I>&gt;<i>    &lt;input type=&quot;text&quot; name=&quot;d&quot; context=&quot;cutcopy&quot; /&gt;
</I>
I still don't understand why you want &lt;cl&gt; to do both combo lists and context 
menus. You seem to be hinting at an important, widely applicable generalisation, 
but I can't tell what it is. For instance, why would you object to, say, a 
'choicelist' AND a 'datalist'? Parsimony can't be the reason, because it is 
countered by the bigger loss in clarity due to dual uses.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000806.html">[whatwg] Re: several messages
</A></li>
	<LI>Next message: <A HREF="000765.html">[whatwg] Interleaved repetition blocks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#814">[ date ]</a>
              <a href="thread.html#814">[ thread ]</a>
              <a href="subject.html#814">[ subject ]</a>
              <a href="author.html#814">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
