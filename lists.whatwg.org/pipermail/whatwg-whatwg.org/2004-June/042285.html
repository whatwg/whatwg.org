<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Comments on Web Forms 2.0 Working Draft
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Comments%20on%20Web%20Forms%202.0%20Working%20Draft&In-Reply-To=%3C40472.10.0.0.101.1086541336.squirrel%40serber.chsc.dk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042284.html">
   <LINK REL="Next"  HREF="042428.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Comments on Web Forms 2.0 Working Draft</H1>
<!--htdig_noindex-->
    <B>Christian Schmidt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Comments%20on%20Web%20Forms%202.0%20Working%20Draft&In-Reply-To=%3C40472.10.0.0.101.1086541336.squirrel%40serber.chsc.dk%3E"
       TITLE="[whatwg] Comments on Web Forms 2.0 Working Draft">whatwg.org at chsc.dk
       </A><BR>
    <I>Sun Jun  6 10:02:16 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="042284.html">[whatwg] Suggestion: Web-IE6 Specification
</A></li>
        <LI>Next message: <A HREF="042428.html">[whatwg] Comments on Web Forms 2.0 Working Draft
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42285">[ date ]</a>
              <a href="thread.html#42285">[ thread ]</a>
              <a href="subject.html#42285">[ subject ]</a>
              <a href="author.html#42285">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I work as a web programmer. I have read the Web Forms 2.0 Working Draft of
3 June 2004 proposition with great interest. A few comments and
suggestions:

- I am not sure, when setValidity() is expected to be set, but it should
probably be done in onchange or oninput. At the same time, an appropriate
error message should be generated and stored somewhere, so that it can be
displayed in oninvalid. How about adding an onvalidate event, so that
authors can encapsulate validation and error message generation in one
function?

- And how about supplying a way to display a user defined error message in
the same way as the built-in error messages are? This could be done by
adding an errorMessage property to the event object whose value initially
is the standard error message for the current ERROR_* constant(s). The
errorMessage property could then be altered in the above mentioned
onvalidate event handler, either if the input fails some user-defined
validation, or if the author wishes to create a more detailed error
message than the standard error message (it is hard for a computer to
explain a user, why their input doesn't match a particular regular
expressions). If validity is 0 when errorMessage is set, perhaps validity
should automatically be set to ERROR_USER_DEFINED.

This example illustrates the above suggestions - it makes a user-defined
validation of the input, changes the standard error message in case the
pattern is not matched, and if the input passes the user-defined
validation and matches the pattern, it proceeds to the UAs own validation,
including the maxlength-check:

&lt;label&gt;Choose a password
    &lt;input type=&quot;password&quot; pattern=&quot;.{3,}&quot; name=&quot;password&quot;
     maxlength=&quot;12&quot; onvalidate=&quot;verifyPassword(event)&quot;&gt;
&lt;/label&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
function verifyPassword() {
    if (event.target.value == event.target.form.elements.username.value) {
        event.errorMessage = 'Your password may not be the same as your
username';
    } else if (event.target.validity &amp;
               event.target.form.ERROR_PATTERN_MISMATCH) {

        event.errorMessage = 'Your password should be at least 3 characters';
    }
}
&lt;/script&gt;


- The table in section B specified that the pattern attribute applies to
&lt;input type=&quot;pattern&quot;&gt;, but password is not among the types mentioned in
the first paragraph of section 2.9.

- It may be relevant to specify how to deal with IDN domain names in
&lt;input type=&quot;email&quot;&gt; and &lt;input type=&quot;url&quot;&gt; - should they be allowed,
converted in the client or sent to the server in their original character
set?

- With respect to &lt;input type=&quot;email&quot;&gt; and &lt;input type=&quot;url&quot;&gt;, it may be
relevant to explicitly specify, whether any syntactically valid email
address/URI should be allowed, or if the client may/should also try to
determine whether the email/URI is live and working, e.g. do DNS lookups.
In practice, a lot of users seem to have trouble remembering even their
own email address, so sometimes it is useful with as many sanity checks as
possible.


Christian


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042284.html">[whatwg] Suggestion: Web-IE6 Specification
</A></li>
	<LI>Next message: <A HREF="042428.html">[whatwg] Comments on Web Forms 2.0 Working Draft
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42285">[ date ]</a>
              <a href="thread.html#42285">[ thread ]</a>
              <a href="subject.html#42285">[ subject ]</a>
              <a href="author.html#42285">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
