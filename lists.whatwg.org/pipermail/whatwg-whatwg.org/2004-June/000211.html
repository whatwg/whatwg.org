<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Comments on Web Forms 2.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Comments%20on%20Web%20Forms%202.0&In-Reply-To=%3CPine.LNX.4.58.0406131943190.3032%40dhalsim.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000150.html">
   <LINK REL="Next"  HREF="000263.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Comments on Web Forms 2.0</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Comments%20on%20Web%20Forms%202.0&In-Reply-To=%3CPine.LNX.4.58.0406131943190.3032%40dhalsim.dreamhost.com%3E"
       TITLE="[whatwg] Comments on Web Forms 2.0">ian at hixie.ch
       </A><BR>
    <I>Sun Jun 13 13:45:09 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000150.html">[whatwg] Comments on Web Forms 2.0
</A></li>
        <LI>Next message: <A HREF="000263.html">[whatwg] Comments on Web Forms 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#211">[ date ]</a>
              <a href="thread.html#211">[ thread ]</a>
              <a href="subject.html#211">[ subject ]</a>
              <a href="author.html#211">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 10 Jun 2004, Ian Bicking wrote:
&gt;<i>
</I>&gt;<i> Admittedly, there's a lot of things it doesn't cover.  I'm hopeful that
</I>&gt;<i> there would be a Web Forms 2.1 or 3.0 -- if this spec could be
</I>&gt;<i> implemented and usable in a reasonably short amount of time, then not
</I>&gt;<i> everything needs to be in the spec.  Momentum would be better than a
</I>&gt;<i> Killer App (well, Killer Spec).
</I>
The plan at the moment is:

  1. Web Forms 2.0 ASAP
  2. Web Apps 1.0 in the coming months
  3. Reassess the situation.


&gt;<i> 1.3 Relationship to XForms
</I>&gt;<i>
</I>&gt;<i> I get the impression that the XForms processor you suggest here is just
</I>&gt;<i> an option, and that this kind of layering is not particularly preferred.
</I>&gt;<i> But it's not clear.  When I first skimmed this, this scared me off.  I
</I>&gt;<i> though I would need to understand XForms first.
</I>
I added a note to the XForms section:

  This section is aimed at XForms authors and implementors. If you do not
  plan to use XForms, you may prefer to skip ahead to the next section.
  Knowledge of XForms is not required to use this specification.


&gt;<i> 1.5 Missing Features
</I>&gt;<i>
</I>&gt;<i> &quot;A rich text editing or HTML editing control. This need may be
</I>&gt;<i> addressed in a future specification.&quot;
</I>&gt;<i>
</I>&gt;<i> That's too bad, I think this is a very useful control.
</I>
I agree, but it's a huge thing to specify, and we really want to get Web
Forms 2.0 out of the door ASAP (we started it back last September).


&gt;<i> Ultimately, though, I think there's a Right Way and a Not As Right Way,
</I>&gt;<i> so I don't think there's a real need for a diversity of implementations
</I>&gt;<i> in the long term.  Though due to the many commercial offerings in this
</I>&gt;<i> realm, I somehow doubt consolidation would actually happen.
</I>
The fact that this is such a controversial issue is another reason to
delay specifying this by a few months. We don't want the whole spec to be
dragged back for that one feature.


&gt;<i> &quot;A declarative way of specifying that one list should filter the view of
</I>&gt;<i> a second list. Again, however, this need may addressed in a future
</I>&gt;<i> version of this specification.&quot;
</I>&gt;<i>
</I>&gt;<i> This has been one of the more common uses of Javascript in forms, in my
</I>&gt;<i> own experience.  OTOH, those techniques already work.
</I>
Again, something to be dealt with in the future, once the current spec is
being implemented.


&gt;<i> 2.1. Extensions to the input element
</I>&gt;<i>
</I>&gt;<i> Re: datetime et al.  It would be nice along with these if the user's
</I>&gt;<i> prefered timezone were known.  But then knowing that would actually be
</I>&gt;<i> nice in a wide variety of situations outside of forms.
</I>
Yeah, this seems more like something for the Web Apps spec.


&gt;<i> The various date/time inputs seem similar to a number input with
</I>&gt;<i> precision.  Could they be collapsed into a single input type?
</I>
What's the advantage of doing so?


&gt;<i> Or maybe with a list of values you are looking for, like &quot;y,m,d&quot; for
</I>&gt;<i> date, &quot;y,m&quot; for expdate, &quot;y,w&quot; for week, &quot;y,m,d,h,M&quot; for specific time
</I>&gt;<i> (but without second precision), etc.
</I>
That seems nice and generic but I think it's much more complicated for
authors.


&gt;<i> Also, month and day is a reasonable input.  To enter your anniversary,
</I>&gt;<i> recurring dates, etc.
</I>
As in, type=&quot;anniversary&quot;? Is there an ISO8601 format for that?


&gt;<i> Re: tel.  Seems challenging to do in a useable way.  Though I suppose a
</I>&gt;<i> good UA could simplify this, and add all the necessary information based
</I>&gt;<i> on an abbreviated phone number (i.e., ###-###-####).  Though that RFC
</I>&gt;<i> seems so complicated for something that is currently so simple (at least
</I>&gt;<i> from a form perspective).  I am quite comfortable using a text field for
</I>&gt;<i> phone numbers.
</I>
Yes, I'm not sure whether to keep &quot;tel&quot; or not.


&gt;<i> Re: uri.  I feel like this calls for some extensibility.  But I'm not
</I>&gt;<i> sure what.  Some indication of scope and possibility for suggestions.
</I>&gt;<i> Filling a URL in from a bookmark seems an unlikely use case to me.
</I>
I don't understand what you mean by extensibility here.


&gt;<i> 2.1.2. Precision
</I>&gt;<i>
</I>&gt;<i> Re: adp.  Is a negative number allowed here?  I.e., adp=&quot;-1&quot; allows
</I>&gt;<i> for numbers like 0, 10, 100, 120, etc., but not 4.
</I>
No, although with the &quot;step&quot; feature now can do this (precision=&quot;10&quot;).


&gt;<i> Would there be any way of, say, counting by 25's (or .25's)?  An
</I>&gt;<i> increment argument, perhaps.  This could even take the place of adp,
</I>&gt;<i> like increment=&quot;0.1&quot; means adp=&quot;1&quot;.
</I>
Someone else suggested this too, so now yes. precision=&quot;25&quot;, etc.


&gt;<i> Could this apply to dates and times, or an analog of this? Specifically,
</I>&gt;<i> precision to 15 minutes, or one hour, or one minute? 15 minute
</I>&gt;<i> increments are common in calendars, for instance, or 10 minutes for a
</I>&gt;<i> room scheduling application (or even one second for an astrology
</I>&gt;<i> application).
</I>
Possibly. The &quot;min&quot; and &quot;max&quot; attributes already apply to datetime stuff.

Maybe we should drop &quot;precision&quot; altogether and just have &quot;step&quot;, then
make it apply to all the numeric and date/time types.

Hmm. Let me think on this.


&gt;<i> 2.2. The output  element
</I>&gt;<i>
</I>&gt;<i> It might be good to start with a use case.  This remains confusing to
</I>&gt;<i> me, specifically how it is different from a hidden input.  (Besides it
</I>&gt;<i> not being hidden, but I think more than that is intended.)
</I>
There is a use case. Look at the example in that section:

   <A HREF="http://whatwg.org/specs/web-forms/current-work/#the-output">http://whatwg.org/specs/web-forms/current-work/#the-output</A>


&gt;<i> 2.4. Extensions to the textarea element
</I>&gt;<i>
</I>&gt;<i> You don't mention wrap=&quot;none&quot;.  I assume it would remain?
</I>
Well UAs can keep supporting it, but it is semantically very dubious, so I
wouldn't expect authors to use it.


&gt;<i> 2.7. Extensions to the submit buttons
</I>&gt;<i>
</I>&gt;<i> As an additional change to submit buttons: it is annoying that a
</I>&gt;<i> submit button's value is the same as its description.  You either have
</I>&gt;<i> to encode the information about the submit button in its name
</I>&gt;<i> (e.g. &quot;action_edit&quot; vs. &quot;action_delete&quot;), or rely on the descriptions
</I>&gt;<i> (test the &quot;action&quot; field to see if it is &quot;Edit&quot; or &quot;Delete&quot;), which is
</I>&gt;<i> fragile since the description is part of the visible UI.  Some of this
</I>&gt;<i> is alleviated with the extra attributes for submit buttons, but this
</I>&gt;<i> smaller, incremental change still seems useful.
</I>&gt;<i>
</I>&gt;<i> So it would be nice if there was a new attribute (say, &quot;description&quot;)
</I>&gt;<i> that was displayed as the text of the button if present.  If not
</I>&gt;<i> present the value attribute would be used, as it is now.
</I>
Just use &lt;button&gt; elements. The value of this change doesn't outweigh the
disadvantages (breaking backwards compatibility).


&gt;<i> Additionally, the &quot;image&quot; input type is annoying, because it returns
</I>&gt;<i> different fields than a normal submit button (with .x and .y).  It would
</I>&gt;<i> be nice if there were an option to make the image submit act exactly
</I>&gt;<i> like a submit button.  Then changing this visible element wouldn't
</I>&gt;<i> change the structure of the form.
</I>
If you don't want a coordinate, don't use type=&quot;image&quot;. Use CSS to replace
your button with an image.


&gt;<i> 2.10. The required attribute
</I>&gt;<i>
</I>&gt;<i> Does required (or rather, the absence of required) override pattern?
</I>&gt;<i> Specifically, if something is empty, not required, but the pattern
</I>&gt;<i> does not match the empty string, is it valid?  It would be very
</I>&gt;<i> helpful if this was valid -- it's common to want a valid value OR no
</I>&gt;<i> value at all, and many patterns don't match the empty string.
</I>
Added:

  &lt;p&gt;Empty fields (those with no value) do not need to match their
  pattern. (Although if they are &lt;a href=&quot;#required&quot;&gt;required
  fields&lt;/a&gt;, they will stop submission for that reason anyway.)&lt;/p&gt;


&gt;<i> 2.15.  The help  attribute
</I>&gt;<i>
</I>&gt;<i> It seems difficult to make meaningful help without some knowledge of how
</I>&gt;<i> it is going to be displayed.  Do you include a search box?  Do you
</I>&gt;<i> include an image?  Do you include links?  Do you make it long or short?
</I>&gt;<i> Depending on how it is displayed, the help document could be written
</I>&gt;<i> very differently.
</I>
Indeed. This is why I am planning on removing it at some point. I'm
curious as to how XForms handles the &quot;help&quot; attribute.


&gt;<i> 2.16. Handling unexpected elements and values
</I>&gt;<i>
</I>&gt;<i> &quot;For textarea elements containing elements&quot;
</I>&gt;<i>
</I>&gt;<i> FWIW, bugs related to elements inside a textarea frequently go by for
</I>&gt;<i> some time, until someone enters text like &lt;/textarea&gt; or '&lt;a &quot;' or
</I>&gt;<i> some other invalid HTML, and then the form is rendered useless.  This
</I>&gt;<i> can be extremely frustrating.
</I>&gt;<i>
</I>&gt;<i> It would be nice if authors who didn't quote the contents of textareas
</I>&gt;<i> were made aware of their mistake more quickly.
</I>
The text you are talking about was about elements in the DOM, whereas you
mean about parse time.

I've added some text about parse time, about how tags should be parsed as
character data but comments and entities should be parsed correctly. If we
say anything other than that, we unfortunately break existing sites, as
Mozilla has discovered.

In XHTML there is no ambiguity of course.


&gt;<i> 3.1. Introduction for authors
</I>&gt;<i>
</I>&gt;<i> Once I followed along further, I saw the examples, but I'll leave
</I>&gt;<i> these comments in here anyway, even if they are addressed further on...
</I>&gt;<i>
</I>&gt;<i> I assume when dealing with nesting repeated forms, you'd do something
</I>&gt;<i> like:
</I>&gt;<i>
</I>&gt;<i> &lt;fieldset id=&quot;contact&quot; repeat=&quot;template&quot;&gt;
</I>&gt;<i>    Name: &lt;input type=&quot;text&quot; name=&quot;name_[contact]&quot;&gt;
</I>&gt;<i>    Phone Numbers:
</I>&gt;<i>    &lt;ul&gt;
</I>&gt;<i>      &lt;li id=&quot;phone_[contact]&quot; repeat=&quot;template&quot;&gt;
</I>&gt;<i>        &lt;input type=&quot;text&quot; name=&quot;phone_[contact]_[phone]&quot;&gt;
</I>&gt;<i>      &lt;/li&gt;
</I>&gt;<i>    &lt;ul&gt;
</I>&gt;<i>    &lt;input type=&quot;add&quot; template=&quot;phone_[contact]&quot; value=&quot;Add a number&quot;&gt;
</I>&gt;<i> &lt;/fieldset&gt;
</I>&gt;<i>
</I>&gt;<i> As such, the substitutions have to occur in many places.
</I>
Yes. Is this a problem?


&gt;<i> I think someone else brought up tab ordering, which is similar.
</I>
Tab ordering is indeed a problem.


&gt;<i> I don't know my HTML well enough: is it valid to have &lt;span&gt;s or
</I>&gt;<i> &lt;div&gt;s around &lt;tr&gt;s?
</I>
No.


&gt;<i> Something like this would be useful to do:
</I>&gt;<i>
</I>&gt;<i> &lt;table&gt;
</I>&gt;<i>    &lt;div id=&quot;contact&quot; repeat=&quot;template&quot;&gt;
</I>&gt;<i>      &lt;tr&gt;&lt;td&gt;Name:&lt;/td&gt;
</I>&gt;<i>          &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name_[contact]&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
</I>&gt;<i>      &lt;tr id=&quot;phone_[contact]&quot; repeat=&quot;template&quot;&gt;
</I>&gt;<i>          &lt;td&gt;Phone:&lt;/td&gt;
</I>&gt;<i>          &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;phone_[contact]_[phone]&quot;&gt;
</I>&gt;<i>      &lt;/tr&gt;
</I>&gt;<i>    &lt;/div&gt;
</I>&gt;<i> &lt;/table&gt;
</I>
Use &lt;tbody&gt;.


&gt;<i> 3.5.3. Movement of repetition blocks
</I>&gt;<i>
</I>&gt;<i> It would be really nice to have a way to get at the order the rows end
</I>&gt;<i> up in.  In fact, it would be a little boring to reorder if the form
</I>&gt;<i> submission doesn't represent that fact.  Am I missing something?
</I>
Yes. The order is right there in the DOM. The submission order is the DOM
order.


&gt;<i> Or you could look at the order in which the fields were returned, but
</I>&gt;<i> that information is usually lost on the server side.
</I>
It doesn't have to be...


&gt;<i> 4.4. Form validation
</I>&gt;<i>
</I>&gt;<i> More examples would be helpful here.
</I>
Yes, more examples would be helpful throughout.


&gt;<i> 8. Step eight: Handle the returned data
</I>&gt;<i>
</I>&gt;<i> It's unclear to me what exactly happens with replace=&quot;values&quot;.
</I>
You take the returned document, then send it through the algorithm at:

   <A HREF="http://whatwg.org/specs/web-forms/current-work/#seeding">http://whatwg.org/specs/web-forms/current-work/#seeding</A>

...without changing which document is visible.


&gt;<i> Specifically, what URL appears as the location?
</I>
Unchanged.


&gt;<i> What happens when you reload
</I>
The values on the original page (presubmission) are used, assuming your UA
doesn't reuse whatever values you most recently typed (which is common for
a soft-relad).


&gt;<i> or go back to this page?
</I>
Depends on the UA. UAs differ in what they remember when going back.


&gt;<i> Post forms always give me trouble because of their behavior in these
</I>&gt;<i> cases, and replace=&quot;values&quot; seems even more subtle -- it becomes very
</I>&gt;<i> vague where the user &quot;is&quot;.
</I>
Not really. Not any more than with DHTML having filled in the values, for
instance.


&gt;<i> 5.1. Successful form controls
</I>&gt;<i>
</I>&gt;<i> It can really be annoying that unchecked checkboxes aren't successful.
</I>
Yes, but for backwards compatibility there's nothing we can do about this.


&gt;<i> 5.6.3. For data: actions
</I>&gt;<i>
</I>&gt;<i> I'm totally confused by data:.  Is this some weird backward compatible
</I>&gt;<i> thing?  I can understand it as a data source, but as an action?  A
</I>&gt;<i> realistic example would be helpful.
</I>
There is no realistic example. It just has to be defined, since the
protocol is there and most UAs now support it.

Thanks for your comments,
-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000150.html">[whatwg] Comments on Web Forms 2.0
</A></li>
	<LI>Next message: <A HREF="000263.html">[whatwg] Comments on Web Forms 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#211">[ date ]</a>
              <a href="thread.html#211">[ thread ]</a>
              <a href="subject.html#211">[ subject ]</a>
              <a href="author.html#211">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
