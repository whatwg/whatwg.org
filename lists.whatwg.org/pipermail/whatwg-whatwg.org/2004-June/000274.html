<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Forms 2.0 Editorial [minor] Section 5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Forms%202.0%20Editorial%20%5Bminor%5D%20Section%205&In-Reply-To=%3C40D04966.8010802%40inkedblade.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000486.html">
   <LINK REL="Next"  HREF="000402.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Forms 2.0 Editorial [minor] Section 5</H1>
<!--htdig_noindex-->
    <B>fantasai</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Forms%202.0%20Editorial%20%5Bminor%5D%20Section%205&In-Reply-To=%3C40D04966.8010802%40inkedblade.net%3E"
       TITLE="[whatwg] Web Forms 2.0 Editorial [minor] Section 5">fantasai.lists at inkedblade.net
       </A><BR>
    <I>Wed Jun 16 06:21:42 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000486.html">[whatwg] Web Forms 2.0 Substantive - Section 5
</A></li>
        <LI>Next message: <A HREF="000402.html">[whatwg] Web Forms 2.0 Editorial [minor] Section 5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#274">[ date ]</a>
              <a href="thread.html#274">[ thread ]</a>
              <a href="subject.html#274">[ subject ]</a>
              <a href="author.html#274">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>5. Form submission
------------------

# These controls are all those whose form DOM attribute points at the form and
# that are not in the form's templateElements DOM attribute (this excludes
# certain controls as specified in the section describing the repetition
# model).

   These controls are all those whose form DOM attribute points at the form
   &gt;but&lt; are not in the form's templateElements DOM attribute (this excludes
   certain controls as specified in the section describing the repetition
   model).

You might want to word this without relying so heavily on the DOM, too.
(The rest of the process refers to the DOM when necessary, but doesn't
  rely on it to specify other things.)


# A form data set is a sequence of control-name, index, current-value triplets
# constructed from the controls identified in the previous step.
#
# The index here is unrelated to the repetition index mentioned earlier.

I suggest calling this index the &quot;control index&quot; to help reduce the confusion.

# It is constructed by iterating over the form controls listed in step three,
# taking note of the form control names as they are seen. With each control,
# if it is the first time that control's name has been seen, then the control
# is assigned an index of 0.

   It is constructed by iterating over the form controls listed in step three,
   taking note of the form control names as they are &gt;processed&lt;. With each
   control, if it is the first time that control's name has been &gt;encountered&lt;,
   then the control is assigned an index of 0.

# The indices of these two virtual controls are handled separately and could,
# depending on the values of other controls, end up with different values.

Could you give an example for this?


# The form data set also includes a list of which repetition blocks are
# involved in the submission.
#
# For each control in the form data set, the control and the control's ancestors
# are examined, up to but not including the first node that is a common ancestor
# of the control and the form, or is the form itself. For each element so
# examined, if it is a repetition block that is not an orphan repetition block
# and whose template does have an ID, and that repetition block has not yet been
# added to the list of repetition blocks, it is added.

Two problems here:
   1. This list of repetition blocks is coming out of nowhere, considering the
      statement that &quot;A form data set *is* a sequence of control-name, index,
      current-value triplets...&quot;
   2. You're specifying an algorithm where a description would do.

Replace these two paragraphs with:

   The list of repetition blocks consists of all repetition blocks that include
   at least one form control from the form control list, in document order.

And change the beginning of this step from

# A form data set is a sequence of control-name, index, current-value triplets
# constructed from the controls identified in the previous step.

to

   The form data set consists of a form control list and a repetition block list.

   The form control list is a sequence of control-name, control-index,
   current-value triplets constructed from the controls identified in the
   previous step.

# During this step, the form data set is examined to ensure all the characters
# are representable in the submission character encoding.

   During this step, the form data set is examined to ensure &gt;that&lt; all the
   characters are representable in the submission character encoding.

# For example if the action denotes an HTTP resource, method is &quot;POST&quot;, the
# replace attribute is document  and the remote server replies with a 200 OK
# response, then the returned document should be displayed to the user as if
# the user had navigated to that document by following a link to it.

   For example if &lt;&gt; action denotes an HTTP resource, method is &quot;POST&quot;, &lt;&gt;
   replace &lt;&gt; is document&gt;,&lt; and the remote server replies with a 200 OK
   response, then the returned document should be displayed to the user as if
   the user had navigated to that document by following a link to it.

# (Any target attribute is ignored.)

   (The target attribute does not apply.)


5.1 Successful form controls
----------------------------

   No editorial comments (yet).


5.2. Handling characters outside the submission character set
-------------------------------------------------------------

# Sometimes, the form submission character set used is not able to represent all
# the character present in the form submission.

   Sometimes, the form submission character set used is not able to represent all
   &lt;&gt; character&gt;s&lt; present in the form submission.


5.3. application/x-www-form-urlencoded
--------------------------------------

# It could be explicitly specified by the page, overriden by the user, or
# auto-detected by the UA. For example, HTML4 section 5.2.2 [HTML4].

   It could be explicitly specified by the page, overriden by the user, or
   auto-detected by the UA. See, HTML4 section 5.2.2 [HTML4].

[Fragment]


5.4. application/x-www-form+xml: XML submission
-----------------------------------------------

# The type attribute is also optional and must contain the MIME type of the
# file, or be omitted if the client is unaware of the correct type.

   The type attribute is also optional and must &gt;either&lt; contain the MIME type
   of the file&lt;&gt; or be omitted if the client is unaware of the correct type.


5.6. Semantics of method and enctype attributes
-----------------------------------------------

# 5.6. Semantics of method and enctype attributes

5.6 Submitting the encoded form data set

Because that's what it's really about. It's certainly not
about the semantics of 'enctype' -- that's already been covered.
It's as much about 'enctype' as it is about 'action' -- if you
really want to name it after an attribute, name it after 'method'
only.


As for the tables, reverse the rows and columns. It'll make the
tables much easier to read.

=== End section 5 ===

~fantasai

-- 
<A HREF="http://fantasai.inkedblade.net/contact">http://fantasai.inkedblade.net/contact</A>





</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000486.html">[whatwg] Web Forms 2.0 Substantive - Section 5
</A></li>
	<LI>Next message: <A HREF="000402.html">[whatwg] Web Forms 2.0 Editorial [minor] Section 5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#274">[ date ]</a>
              <a href="thread.html#274">[ thread ]</a>
              <a href="subject.html#274">[ subject ]</a>
              <a href="author.html#274">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
