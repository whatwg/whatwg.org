<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] repetition model
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20repetition%20model&In-Reply-To=%3CPine.LNX.4.58.0406131926010.3032%40dhalsim.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042405.html">
   <LINK REL="Next"  HREF="042486.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] repetition model</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20repetition%20model&In-Reply-To=%3CPine.LNX.4.58.0406131926010.3032%40dhalsim.dreamhost.com%3E"
       TITLE="[whatwg] repetition model">ian at hixie.ch
       </A><BR>
    <I>Sun Jun 13 12:43:14 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="042405.html">[whatwg] repetition model
</A></li>
        <LI>Next message: <A HREF="042486.html">[whatwg] repetition model
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42483">[ date ]</a>
              <a href="thread.html#42483">[ thread ]</a>
              <a href="subject.html#42483">[ subject ]</a>
              <a href="author.html#42483">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
(Note: I'm going through all the Web Forms 2 comments that were sent to
this list in chronological order. At the moment I'm dealing with e-mails
from last Thursday.)

On Thu, 10 Jun 2004, Dean Edwards wrote:
&gt;<i>
</I>&gt;<i> but i have some reservations. i'm confused by the &lt;repeat&gt; element. this
</I>&gt;<i> is the first time i've seen such a construct in an xml language. if this
</I>&gt;<i> kind of construct is normal, please ignore the rest of my comments and
</I>&gt;<i> direct me to a suitable resource so i can do some reading!
</I>&gt;<i>
</I>&gt;<i> my main reservation is that, for the first time, my DOM does not look
</I>&gt;<i> exactly like my markup.
</I>
&lt;script&gt; blocks have long been able to change the DOM during parse time.
There are also some bugs in IE that cause it to remove entire elements
from the DOM (in particular &lt;object&gt;) under certain conditions. So it's
not the first time, per se. :-)

I agree it is odd though.


&gt;<i> now i have this &quot;repeat&quot; element. does it show up in the DOM?
</I>
It's well defined:

   <A HREF="http://whatwg.org/specs/web-forms/current-work/#repeat0">http://whatwg.org/specs/web-forms/current-work/#repeat0</A>

As soon as the &lt;repeat&gt; element is inserted into the document, whether by
being in the original markup or via scripting, a repetition block is
inserted into the DOM at the appropriate place, and the &lt;repeat&gt; element
is then removed.

I agree it is a bit unusual. I don't really see another way to do it
though. Suggestions are welcome.


&gt;<i> presumably generated rows and form controls do.
</I>
Yes.


&gt;<i> can i do this?
</I>&gt;<i>    document.createElement(&quot;repeat&quot;);
</I>&gt;<i> will that throw an error?
</I>
You can do it and it won't cause an error. If you try to insert it into
the document using, e.g., appendChild(), then the element will be replaced
by a repetition block in the final DOM, as described in the spec above.


&gt;<i> it seems like the &lt;repeat&gt; element is more like a programming
</I>&gt;<i> instruction than real content.
</I>
True. We could use a PI instead, but I don't think IE supports that (you
wouldn't be able to tell there was a PI in the DOM, right?).


&gt;<i> this takes (X)HTML in a new direction.
</I>
That's the intention of the WHATWG. :-)


&gt;<i> imho, something like the &lt;repeat&gt; construct belongs in the realm of
</I>&gt;<i> jsp/asp/php. maybe this functionality can be included as a DOM method
</I>&gt;<i> for completeness?
</I>
It is a DOM method too. In fact, it's defined in terms of two DOM methods.
And it could indeed be done on the server side, although it would be a
lot uglier.

Should I just remove it for now?

I don't really see what to replace it with. It's a rather important part
of the demo in the introduction:

   <A HREF="http://whatwg.org/specs/web-forms/current-work/#introduction0">http://whatwg.org/specs/web-forms/current-work/#introduction0</A>

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042405.html">[whatwg] repetition model
</A></li>
	<LI>Next message: <A HREF="042486.html">[whatwg] repetition model
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42483">[ date ]</a>
              <a href="thread.html#42483">[ thread ]</a>
              <a href="subject.html#42483">[ subject ]</a>
              <a href="author.html#42483">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
