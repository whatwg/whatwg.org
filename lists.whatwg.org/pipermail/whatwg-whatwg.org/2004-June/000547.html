<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] repetition model
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20repetition%20model&In-Reply-To=%3CPine.LNX.4.58.0406251637290.27106%40dhalsim.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000509.html">
   <LINK REL="Next"  HREF="000554.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] repetition model</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20repetition%20model&In-Reply-To=%3CPine.LNX.4.58.0406251637290.27106%40dhalsim.dreamhost.com%3E"
       TITLE="[whatwg] repetition model">ian at hixie.ch
       </A><BR>
    <I>Fri Jun 25 09:45:54 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000509.html">[whatwg] repetition model
</A></li>
        <LI>Next message: <A HREF="000554.html">[whatwg] repetition model
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#547">[ date ]</a>
              <a href="thread.html#547">[ thread ]</a>
              <a href="subject.html#547">[ subject ]</a>
              <a href="author.html#547">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 24 Jun 2004, Avi Bryant wrote:
&gt;<i>
</I>&gt;<i> [...] Copying template pieces of DOM doesn't bother me in the slightest,
</I>&gt;<i> but the [id] text replacement rings serious alarm bells.
</I>
I do agree that the [id] stuff is somewhat dodgy. I really am at a loss of
how to do a better solution, though. And it does work quite well.


&gt;<i> Effectively you're upping the meta level:  parts of the document are no
</I>&gt;<i> longer HTML, but a description of how to produce HTML.
</I>
HTML4 already has this (&lt;object declare&gt;).


&gt;<i> Attributes that were previously treated as opaque atomic strings now
</I>&gt;<i> have to be parsed.  That means you have to deal with escaping issues,
</I>&gt;<i> and the complexity bleeds all over the place (prefixing attributes with
</I>&gt;<i> []? Come on...).
</I>
I agree that the []-prefix hack is a hack. Do you have a better solution?


&gt;<i> It's treading a fine line between markup and behavior (can we show that
</I>&gt;<i> the repetition model is turing complete?), and I'd rather see anything
</I>&gt;<i> that even approaches that line be in Ecmascript instead.
</I>
As someone who has implemented his own repeating model, both client-side
and server-side, I have to say, the proposed model is a lot easier to use
than any hand-implemented version.


&gt;<i> However, I think the model could still work fine without the macro
</I>&gt;<i> expansion.  The main use case seems to be to give unique name attributes
</I>&gt;<i> to each set of inputs.  If your server is handling the submission
</I>&gt;<i> correctly, this shouldn't be necessary anyway: the values get submitted
</I>&gt;<i> in order anyway, so the values from each row should be grouped, right?
</I>&gt;<i> The numbers are redundant.
</I>
This is an interesting point. It means that if the author doesn't want any
of the [id] nonsense, he need simply not put an ID on the template, and
then that entire part of the model is simply ignored.

Given that, to the author, the complexity here is basically &quot;opt-in&quot;, I am
not convinced that it removing it altogether is the way forward. There are
cases where having uniquely numbered rows really helps with the
server-side processing (for example, some CGI libraries merge all the
values with the same name into one array, keeping the relative order
between individual control names, but losing the overall order that the
names came in). This is especially important with nested repeats, where
the &quot;add&quot; button has to refer to a template that has been repeated.
Templates are identified by IDs, so you need a unique ID for each repeated
template. (There's an example of this in the spec.)

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000509.html">[whatwg] repetition model
</A></li>
	<LI>Next message: <A HREF="000554.html">[whatwg] repetition model
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#547">[ date ]</a>
              <a href="thread.html#547">[ thread ]</a>
              <a href="subject.html#547">[ subject ]</a>
              <a href="author.html#547">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
