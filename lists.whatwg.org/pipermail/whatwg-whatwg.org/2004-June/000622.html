<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Repetition model changes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Repetition%20model%20changes&In-Reply-To=%3CPine.LNX.4.58.0406261727480.14689%40dhalsim.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000640.html">
   <LINK REL="Next"  HREF="000633.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Repetition model changes</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Repetition%20model%20changes&In-Reply-To=%3CPine.LNX.4.58.0406261727480.14689%40dhalsim.dreamhost.com%3E"
       TITLE="[whatwg] Repetition model changes">ian at hixie.ch
       </A><BR>
    <I>Sat Jun 26 10:37:59 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000640.html">[whatwg] Solution to Repetition Model Template Problem
</A></li>
        <LI>Next message: <A HREF="000633.html">[whatwg] Repetition model changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#622">[ date ]</a>
              <a href="thread.html#622">[ thread ]</a>
              <a href="subject.html#622">[ subject ]</a>
              <a href="author.html#622">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
Ok I took in all the feedback you've all been sending (thanks!) and made
the following changes to make the repetition model degrade more
gracefully:


1. The template now comes at the _end_ of the block, not the start, with
repetition blocks appearing above the template in the DOM.

This makes it degrade gracefully by allowing the template to be used as an
empty row in legacy UAs. You can see this in action in the demo -- the
template acts as an empty row in legacy UAs, but is hidden in WF2 UAs.


2. &lt;repeat&gt; is gone. Instead, we have a new attribute repeat-start, which
says how many times to repeat the template when the page is loaded. It
defaults to one, which happens to be the same number of blank rows as you
would see if you were loading the page in a legacy UA.


3. I've introduced repeat-min and repeat-max attributes. The latter puts a
maximum on how many rows you can create with the &quot;add&quot; button. The former
makes the template re-populate itself when the &quot;remove&quot; button is pressed.


4. I've changed the &quot;do not process this attribute&quot; prefix from &quot;[]&quot; to a
non-breaking zero-width space character, U+FEFF. This character is
generally harmless, it can always be ignored safely on the server side (it
is also the BOM character), and so can be used in forms that will be sent
to legacy UAs without having to worry about random characters appearing
all over the place. In WF2 UAs, it'll be silently stripped.


5. I haven't changed the [id] replacement thing. None of the other
proposals (autoname, appending numbers, appending numbers and dots, using
just the order of the controls, using strings that are unlikely to match
real content, etc) solved all the other use cases, IMHO. If you think I
missed a suggestion for replacing [id] let me know.


I think that's it. Please send in your comments on the new proposal!

There's a demo of some of these features here:

   <A HREF="http://whatwg.org/demos/repeat-01/">http://whatwg.org/demos/repeat-01/</A>

The spec is here:

   <A HREF="http://whatwg.org/specs/web-forms/current-work/#repeatingFormControls">http://whatwg.org/specs/web-forms/current-work/#repeatingFormControls</A>

Cheers,
-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000640.html">[whatwg] Solution to Repetition Model Template Problem
</A></li>
	<LI>Next message: <A HREF="000633.html">[whatwg] Repetition model changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#622">[ date ]</a>
              <a href="thread.html#622">[ thread ]</a>
              <a href="subject.html#622">[ subject ]</a>
              <a href="author.html#622">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
