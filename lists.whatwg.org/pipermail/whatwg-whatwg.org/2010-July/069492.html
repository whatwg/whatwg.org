<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;video&gt; application/octet-stream
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cvideo%3E%20application/octet-stream&In-Reply-To=%3CAANLkTil4aR3TvYnJbYZGp_raYGwUqYMkQ6T2Y693J9PV%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069489.html">
   <LINK REL="Next"  HREF="069493.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;video&gt; application/octet-stream</H1>
<!--htdig_noindex-->
    <B>Chris Double</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cvideo%3E%20application/octet-stream&In-Reply-To=%3CAANLkTil4aR3TvYnJbYZGp_raYGwUqYMkQ6T2Y693J9PV%40mail.gmail.com%3E"
       TITLE="[whatwg] &lt;video&gt; application/octet-stream">chris.double at double.co.nz
       </A><BR>
    <I>Wed Jul 21 07:07:50 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="069489.html">[whatwg] &lt;video&gt; application/octet-stream
</A></li>
        <LI>Next message: <A HREF="069493.html">[whatwg] &lt;video&gt; application/octet-stream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69492">[ date ]</a>
              <a href="thread.html#69492">[ thread ]</a>
              <a href="subject.html#69492">[ subject ]</a>
              <a href="author.html#69492">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Jul 22, 2010 at 1:59 AM, Mike Shaver &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mike.shaver at gmail.com</A>&gt; wrote:
&gt;<i> That's what I expected, so I guess I don't understand what the &quot;how
</I>&gt;<i> much are you willing to sniff?&quot; question is about.
</I>
When content sniffing are we ignoring the mime type served by the
server and always sniffing? If so then incorrectly configured servers
can result in more downloaded data due to having to read the data
looking for a valid video. For example:

&lt;video&gt;
  &lt;source src='foo.ogg'&gt;
  &lt;source src='foo.mkv'&gt;
&lt;/video&gt;

If the web browser doesn't support Ogg but does support matroska, and
the server sends the video/ogg content type,  the browser can stop and
go to the next source after downloading very little data.

If the web browser is expected to ignore the mime type and content
sniff it must see if 'foo.ogg' is a matroska file. According to the
matroska spec arbitary ASCII data can be placed before the EBML
identifier. This means reading a possible large amount of data (even
the entire file) before being able to say that it's not a matroska
file.

That type of scenario is what I was getting at about how much of the
file should be read before giving up.

Chris.
-- 
<A HREF="http://www.bluishcoder.co.nz">http://www.bluishcoder.co.nz</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069489.html">[whatwg] &lt;video&gt; application/octet-stream
</A></li>
	<LI>Next message: <A HREF="069493.html">[whatwg] &lt;video&gt; application/octet-stream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69492">[ date ]</a>
              <a href="thread.html#69492">[ thread ]</a>
              <a href="subject.html#69492">[ subject ]</a>
              <a href="author.html#69492">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
