<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas &quot;coordinate space units&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20%22coordinate%20space%20units%22&In-Reply-To=%3C4C3E0A08.4030702%40davidflanagan.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069407.html">
   <LINK REL="Next"  HREF="069408.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas &quot;coordinate space units&quot;</H1>
<!--htdig_noindex-->
    <B>David Flanagan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20%22coordinate%20space%20units%22&In-Reply-To=%3C4C3E0A08.4030702%40davidflanagan.com%3E"
       TITLE="[whatwg] Canvas &quot;coordinate space units&quot;">david at davidflanagan.com
       </A><BR>
    <I>Wed Jul 14 12:03:36 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="069407.html">[whatwg] Communicating between different-origin frames
</A></li>
        <LI>Next message: <A HREF="069408.html">[whatwg] Canvas &quot;coordinate space units&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69406">[ date ]</a>
              <a href="thread.html#69406">[ thread ]</a>
              <a href="subject.html#69406">[ subject ]</a>
              <a href="author.html#69406">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I'm confused by the term &quot;coordinate space units&quot; as applied to the 
canvas spec.  It does not seem to be defined.

It is used in the definition of the translate() method, for example, and 
seems to imply that coordinate space units are affected by scale() 
operations.

It is used in the definition of the lineWidth attribute as well. 
Chrome, Firefox and Opera all scaled lineWidth and Phillip Taylor's test 
suite expects this behavior as well.

But then in the definition of shadowOffsetX and Y, the spec reads:

&gt;<i> Their values are in coordinate space units. They are not affected by the current transformation matrix.
</I>
The description of isPointInPath() uses similar language:

&gt;<i>  when treated as coordinates in the canvas coordinate space unaffected by the current transformation,
</I>
So which is it?  Are &quot;coordinate space units&quot; affected by scaling or 
not?  Are lineWidths supposed to be scaled? (Implementations do so 
consistently) Are shadow offset supposed to be scaled? (Chrome does, 
Firefox and Opera do not)

I think a clearer definition of coordinate spaces would be helpful. 
Maybe &quot;device space&quot; for the underlying pixmap, &quot;canvas space&quot; for the 
coordinates defined by the width and height attributes of the canvas, 
and &quot;user space&quot; for the space defined by the current transformation matrix?

	David

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069407.html">[whatwg] Communicating between different-origin frames
</A></li>
	<LI>Next message: <A HREF="069408.html">[whatwg] Canvas &quot;coordinate space units&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69406">[ date ]</a>
              <a href="thread.html#69406">[ thread ]</a>
              <a href="subject.html#69406">[ subject ]</a>
              <a href="author.html#69406">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
