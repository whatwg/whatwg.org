<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas: clarification of compositing operations needed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%3A%20clarification%20of%20compositing%20operations%20needed&In-Reply-To=%3C4C51220A.8020505%40davidflanagan.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069679.html">
   <LINK REL="Next"  HREF="069696.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas: clarification of compositing operations needed</H1>
<!--htdig_noindex-->
    <B>David Flanagan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%3A%20clarification%20of%20compositing%20operations%20needed&In-Reply-To=%3C4C51220A.8020505%40davidflanagan.com%3E"
       TITLE="[whatwg] Canvas: clarification of compositing operations needed">david at davidflanagan.com
       </A><BR>
    <I>Wed Jul 28 23:39:06 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="069679.html">[whatwg] Canvas: clarification of compositing operations needed
</A></li>
        <LI>Next message: <A HREF="069696.html">[whatwg] Canvas: clarification of compositing operations needed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69690">[ date ]</a>
              <a href="thread.html#69690">[ thread ]</a>
              <a href="subject.html#69690">[ subject ]</a>
              <a href="author.html#69690">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>James Robinson wrote:
&gt;<i> On Wed, Jul 28, 2010 at 2:46 PM, Tab Atkins Jr. &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jackalmage at gmail.com</A> 
</I>&gt;<i> &lt;mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jackalmage at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i>     On Wed, Jul 28, 2010 at 2:43 PM, David Flanagan
</I>&gt;<i>     &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">david at davidflanagan.com</A> &lt;mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">david at davidflanagan.com</A>&gt;&gt; wrote:
</I>&gt;<i>      &gt; Firefox and Chrome disagree about the implementation of the
</I>&gt;<i>      &gt; destination-atop, source-in, destination-in, and source-out
</I>&gt;<i>     compositing
</I>&gt;<i>      &gt; operators.  Test code is attached.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I don't think your attachment made it through. 
</I>&gt;<i>  <A HREF="https://developer.mozilla.org/samples/canvas-tutorial/6_1_canvas_composite.html">https://developer.mozilla.org/samples/canvas-tutorial/6_1_canvas_composite.html</A> shows 
</I>&gt;<i> some of the differences, although it does not cover all cases.
</I>
You didn't miss much.  My example was very similar to the one you link to.

&gt;<i> 
</I>&gt;<i> The spec is certainly clear but that does not make the behavior it 
</I>&gt;<i> specifies good.  I find the spec's behavior pretty bizarre and Microsoft 
</I>&gt;<i> has expressed a preference for the Safari/Chrome 
</I>&gt;<i> interpretation: <A HREF="http://lists.w3.org/Archives/Public/public-canvas-api/2010AprJun/0046.html">http://lists.w3.org/Archives/Public/public-canvas-api/2010AprJun/0046.html</A> - 
</I>&gt;<i> although that thread did not get much discussion.  
</I>
Thanks for that link.  The thread you reference refers back to an 
earlier thread on this list.  My apologies for not finding it and 
reading it before posting again.

For example, I think
&gt;<i> drawing a 20x20 image into a 500x500 canvas without scaling with a 
</I>&gt;<i> globalCompositeOperation of 'copy' should result in only the 20x20 
</I>&gt;<i> region being cleared out, not the entire canvas.
</I>
Yikes!  It hadn't occurred to me that copy should behave that way.  But 
you're right that that is what the spec requires.  Opera does it that 
way.  Firefox, thankfully, does not.

Perhaps independently of the debate over infinite bitmap vs. shape 
extents, we can agree that &quot;copy&quot; is a special value that means &quot;do not 
perform compositing&quot;

	David

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069679.html">[whatwg] Canvas: clarification of compositing operations needed
</A></li>
	<LI>Next message: <A HREF="069696.html">[whatwg] Canvas: clarification of compositing operations needed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69690">[ date ]</a>
              <a href="thread.html#69690">[ thread ]</a>
              <a href="subject.html#69690">[ subject ]</a>
              <a href="author.html#69690">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
