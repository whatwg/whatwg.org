<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] More YouTube response
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20More%20YouTube%20response&In-Reply-To=%3Cop.vfffeanzatwj1d%40philip-pc.gothenburg.osa%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027037.html">
   <LINK REL="Next"  HREF="027051.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] More YouTube response</H1>
<!--htdig_noindex-->
    <B>Philip J&#228;genstedt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20More%20YouTube%20response&In-Reply-To=%3Cop.vfffeanzatwj1d%40philip-pc.gothenburg.osa%3E"
       TITLE="[whatwg] More YouTube response">philipj at opera.com
       </A><BR>
    <I>Tue Jul  6 07:48:00 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="027037.html">[whatwg] More YouTube response
</A></li>
        <LI>Next message: <A HREF="027051.html">[whatwg] More YouTube response
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27039">[ date ]</a>
              <a href="thread.html#27039">[ thread ]</a>
              <a href="subject.html#27039">[ subject ]</a>
              <a href="author.html#27039">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 06 Jul 2010 16:33:47 +0200, Marques Johansson  
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">marques at displague.com</A>&gt; wrote:

&gt;<i> On Tue, Jul 6, 2010 at 10:12 AM, Philip J&#228;genstedt  
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On Tue, 06 Jul 2010 15:19:35 +0200, Marques Johansson &lt;
</I>&gt;&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">marques at displague.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is preload=&quot;none&quot; not enough? I can't imagine the actual bandwidth  
</I>&gt;&gt;<i> savings
</I>&gt;&gt;<i> of more fine-grained control to be significant, probably any attempt by  
</I>&gt;&gt;<i> the
</I>&gt;&gt;<i> browser to stop buffering after some time is good enough.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I have been using preload=&quot;metadata&quot; in my testing.  If the browser  
</I>&gt;<i> fetches
</I>&gt;<i> the metadata then they should be able to seek through the video more  
</I>&gt;<i> easily
</I>&gt;<i> and should have all the information they need to make partial requests  
</I>&gt;<i> with
</I>&gt;<i> upper bounds.  Again - I have no HTML or HTTP way to suggest the UA only
</I>&gt;<i> take X many bytes for now and come back later for more.
</I>
Opera hasn't implemented support for the preload attribute yet, I'm not  
sure what the status of other browsers are. I suspect that once all  
browsers have more conservative bandwidth management, the problem will be  
solved.

&gt;<i> Since I see you are with Opera - I noticed that Opera will play ogg  
</I>&gt;<i> files in
</I>&gt;<i> a different way than webm files.  The ogg handler will handle short 206
</I>&gt;<i> responses by making requests for the next range (client requests 0-10,
</I>&gt;<i> server responds with a 206 status, bytes 0-5, client plays then fetches
</I>&gt;<i> bytes 6-10).  The webm handler will only play the range that was sent in  
</I>&gt;<i> the
</I>&gt;<i> initial 206 (client requests 0-10, server responds with a 206 status,  
</I>&gt;<i> bytes
</I>&gt;<i> 0-5, client stops playing).
</I>
The demuxers and decoders are several layers away from the actual HTTP  
requests and responses, so I think the problem could be reproduced with  
either Ogg or WebM depending on chance.

Opera doesn't handle the case where the server returns the wrong amount of  
data very well. Fortunately, I've seen no live servers doing this yet.

&gt;<i> I also noticed that Opera will ignore no-cache headers on video content  
</I>&gt;<i> so a
</I>&gt;<i> 206 fragment marked as no-cache can be rewinded and replayed without  
</I>&gt;<i> making
</I>&gt;<i> additional requests.  Chrome refetches the data.  Looking at this as a  
</I>&gt;<i> pure
</I>&gt;<i> HTTP matter I believe Chrome is taking the correct action.
</I>
Thanks, I've noted this in our bug tracking system.

-- 
Philip J&#228;genstedt
Core Developer
Opera Software
</PRE>














<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027037.html">[whatwg] More YouTube response
</A></li>
	<LI>Next message: <A HREF="027051.html">[whatwg] More YouTube response
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27039">[ date ]</a>
              <a href="thread.html#27039">[ thread ]</a>
              <a href="subject.html#27039">[ subject ]</a>
              <a href="author.html#27039">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
