<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &quot;Content-Disposition&quot; property for &lt;a&gt; tags
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%22Content-Disposition%22%20property%20for%20%3Ca%3E%20tags&In-Reply-To=%3CAANLkTim0M6HH%3D-4O1b5FthMyB8LbXLM5FergDj%3DzA_DQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027455.html">
   <LINK REL="Next"  HREF="027470.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &quot;Content-Disposition&quot; property for &lt;a&gt; tags</H1>
<!--htdig_noindex-->
    <B>Eduard Pascual</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%22Content-Disposition%22%20property%20for%20%3Ca%3E%20tags&In-Reply-To=%3CAANLkTim0M6HH%3D-4O1b5FthMyB8LbXLM5FergDj%3DzA_DQ%40mail.gmail.com%3E"
       TITLE="[whatwg] &quot;Content-Disposition&quot; property for &lt;a&gt; tags">herenvardo at gmail.com
       </A><BR>
    <I>Fri Jul 30 11:54:08 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="027455.html">[whatwg] &quot;Content-Disposition&quot; property for &lt;a&gt; tags
</A></li>
        <LI>Next message: <A HREF="027470.html">[whatwg] &quot;Content-Disposition&quot; property for &lt;a&gt; tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27466">[ date ]</a>
              <a href="thread.html#27466">[ thread ]</a>
              <a href="subject.html#27466">[ subject ]</a>
              <a href="author.html#27466">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Jul 30, 2010 at 12:36 PM, Dennis Joachimsthaler &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dennis at efjot.de</A>&gt; wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I have an idea which would be very cool for HTML5.
</I>&gt;<i>
</I>&gt;<i> Having a Content-Disposition property on &lt;a&gt; tags which does the same as
</I>&gt;<i> the HTTP Header.
</I>&gt;<i> For example changing the file name of the file to be downloaded or rather
</I>&gt;<i> have a image
</I>&gt;<i> file download rather than it being shown in the browser directly.
</I>&gt;<i>
</I>&gt;<i> This would avoid constructs such as &lt;a href=&quot;hi&quot;&gt;Download&lt;/a&gt; (Right click
</I>&gt;<i> and click save
</I>&gt;<i> target as... to download).
</I>&gt;<i>
</I>&gt;<i> It would also eliminate the need to handle such requests with a server
</I>&gt;<i> side scripting engine to change the headers dynamically to enforce
</I>&gt;<i> downloading
</I>&gt;<i> of the content.
</I>&gt;<i>
</I>&gt;<i> HTML5 can already act on the http headers with the rel=&quot;noreferer&quot; property.
</I>&gt;<i>
</I>&gt;<i> Please give me your opinion about this
</I>&gt;<i>
</I>&gt;<i> Thank you in advance!
</I>&gt;<i>
</I>
I was just about to post asking for something in that line, but you
were faster than me ^^,

Let me complement the proposal with a use case:
<A HREF="http://stackoverflow.com/questions/3358209/triggering-a-file-download-without-any-server-request">http://stackoverflow.com/questions/3358209/triggering-a-file-download-without-any-server-request</A>

Also, a few comments on the potential/alledged security implications
(based on the above use case):
  - This is already doable via plug-ins such as Flash. So barring this
feature may only improve security (if it improves at all) when Flash
and the like are disabled. This may even get counter-productive if
this feature becomes the one that convinces a user to enable Flash or
some other relatively unsafe plug-in.
  - Sites can already trigger downloads by round-tripping to the
server, so this is more a sort of convenience: the script could send
the data through a POST request and the server send it back with the
Content-disposition header. In general, this feature would help
removing some delay and improving reliability, but on some cases it'd
be a huge enabler:
      * Offline apps can't rely on a server. However, origin-based
restrictions on downloads could be applied to the app based on where
did the app come from.
      * Many free and 'newbie' hosts allow hosting html and some media
files (such as images and sound), but offer no server-side scripting
at all. Hence apps on such hosts have currently no standard mechanisms
to trigger a save dialog or any equivalent UI feature. In some cases,
these hosts may even forbid flash, thus making the task entirely
impossible.
  - The user will normally have the ultimate say on whether the file
is saved or not, and where on the file system will it be saved.
Actually, this is the reason why I wanted something like this instead
of using the Storage APIs: I want to give the user full control.

To top things up, note that &quot;saving a file to disk&quot; is always equally
or less dangerous than &quot;letting the UA perform the default action for
a resource&quot;: on the most &quot;evil&quot; scenario, there would be at least one
further step of confirmation or user action before the saved data has
a chance to do anything (assuming it's in some executable form;
otherwise it will never &quot;do&quot; anything).

Dennis' proposal allows for more than my use-case (actually, my intent
was to propose adding something to data: urls rather than to &lt;a&gt;
elements, which may point anywhere); but I don't see any reason why
the link with such attribute would be more dangerous than without it.

Regards,
Eduard Pascual
</PRE>





<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027455.html">[whatwg] &quot;Content-Disposition&quot; property for &lt;a&gt; tags
</A></li>
	<LI>Next message: <A HREF="027470.html">[whatwg] &quot;Content-Disposition&quot; property for &lt;a&gt; tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27466">[ date ]</a>
              <a href="thread.html#27466">[ thread ]</a>
              <a href="subject.html#27466">[ subject ]</a>
              <a href="author.html#27466">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
