<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;video&gt; resource selection algorithm and NETWORK_NO_SOURCE
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cvideo%3E%20resource%20selection%20algorithm%20and%0A%20NETWORK_NO_SOURCE&In-Reply-To=%3Cop.vgjpwzzqsr6mfa%40philip-pc.gothenburg.osa%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027374.html">
   <LINK REL="Next"  HREF="027289.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;video&gt; resource selection algorithm and NETWORK_NO_SOURCE</H1>
<!--htdig_noindex-->
    <B>Philip J&#228;genstedt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cvideo%3E%20resource%20selection%20algorithm%20and%0A%20NETWORK_NO_SOURCE&In-Reply-To=%3Cop.vgjpwzzqsr6mfa%40philip-pc.gothenburg.osa%3E"
       TITLE="[whatwg] &lt;video&gt; resource selection algorithm and NETWORK_NO_SOURCE">philipj at opera.com
       </A><BR>
    <I>Wed Jul 28 01:59:13 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="027374.html">[whatwg] &lt;video&gt; resource selection algorithm and	NETWORK_NO_SOURCE
</A></li>
        <LI>Next message: <A HREF="027289.html">[whatwg] Element-related feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27390">[ date ]</a>
              <a href="thread.html#27390">[ thread ]</a>
              <a href="subject.html#27390">[ subject ]</a>
              <a href="author.html#27390">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 28 Jul 2010 01:10:07 +0200, Silvia Pfeiffer  
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">silviapfeiffer1 at gmail.com</A>&gt; wrote:

&gt;<i> On Tue, Jul 27, 2010 at 6:17 PM, Philip J&#228;genstedt  
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On Tue, 27 Jul 2010 00:01:26 +0200, Silvia Pfeiffer &lt;
</I>&gt;&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">silviapfeiffer1 at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  On Tue, Jul 27, 2010 at 1:37 AM, Philip J&#228;genstedt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>
</I>&gt;&gt;&gt;<i> &gt;wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  On Mon, 26 Jul 2010 16:53:43 +0200, Silvia Pfeiffer &lt;
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">silviapfeiffer1 at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>  On Mon, Jul 26, 2010 at 11:25 PM, Philip J&#228;genstedt  
</I>&gt;&gt;&gt;&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> &gt;wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>   &lt;video controls width=&quot;400px&quot;&gt;
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>  &lt;/video&gt;
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>  &lt;script type=&quot;text/javascript&quot;&gt;
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>    var video = document.querySelector(&quot;video&quot;);
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>    var exts = [&quot;mp4&quot;, &quot;webm&quot;, &quot;ogv&quot;];
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>    exts.forEach(function(ext) {
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>      var source = document.createElement(&quot;source&quot;);
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>      source.src = &quot;HelloWorld.&quot;+ext;
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>      source.type = &quot;video/&quot;+ext;
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>      video.appendChild(source);
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>    });
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>    video.play();
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>  &lt;/script&gt;
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Does this actually work in Opera now?
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Yes, when I have a HelloWorld.webm file available it starts playing.  
</I>&gt;&gt;&gt;&gt;<i> It
</I>&gt;&gt;&gt;&gt;<i> also works in Firefox 4b1 and it should work in Chrome and Safari too
</I>&gt;&gt;&gt;&gt;<i> unless
</I>&gt;&gt;&gt;&gt;<i> they are buggy.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Right, so it works if you create the &lt;source&gt; elements newly, but it  
</I>&gt;&gt;&gt;<i> still
</I>&gt;&gt;&gt;<i> doesn't work when you have previously created the &lt;source&gt; element just
</I>&gt;&gt;&gt;<i> with
</I>&gt;&gt;&gt;<i> an empty @src attribute (which I think is legal). Both of these work in
</I>&gt;&gt;&gt;<i> all
</I>&gt;&gt;&gt;<i> the other browsers, btw.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Yes, but it shouldn't work, and will stop working as soon as they  
</I>&gt;&gt;<i> implement
</I>&gt;&gt;<i> the new resource selection algorithm. It is very important that authors
</I>&gt;&gt;<i> don't depend on this bug, so I hope you'll change any code where you  
</I>&gt;&gt;<i> have
</I>&gt;&gt;<i> accidentally done so.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I don't see a reason why it shouldn't work. What is the logic behind  
</I>&gt;<i> that?
</I>&gt;<i>
</I>&gt;<i> I believe the spec should specify what authors should reasonably expect  
</I>&gt;<i> to
</I>&gt;<i> work. I think this is a case that should reasonably be expected to work.  
</I>&gt;<i> If
</I>&gt;<i> the spec doesn't currently allow it, but browsers have implemented it -  
</I>&gt;<i> so
</I>&gt;<i> it is possible to make it work - then I don't see a reason why the spec
</I>&gt;<i> shouldn't be adapted to work as implementations work and as users/authors
</I>&gt;<i> expect it to work.
</I>
I'm just saying that it shouldn't work if implementations follow the spec.  
I don't think that it *not* working is a feature, but I also don't think  
that making it work is very important. In the example the markup was  
invalid, so if the spec doesn't make it work perfectly I'm OK with that.  
Furthermore, once it stops working in all browsers authors will learn to  
add a call to load() after they are done modifying the attributes of  
source elements. If it turns out that this is something many authors get  
stuck on then maybe we can add more triggers for src, type and media  
attributes on source elements.

-- 
Philip J&#228;genstedt
Core Developer
Opera Software
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027374.html">[whatwg] &lt;video&gt; resource selection algorithm and	NETWORK_NO_SOURCE
</A></li>
	<LI>Next message: <A HREF="027289.html">[whatwg] Element-related feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27390">[ date ]</a>
              <a href="thread.html#27390">[ thread ]</a>
              <a href="subject.html#27390">[ subject ]</a>
              <a href="author.html#27390">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
