<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTMLMediaElement.preload and stalled event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTMLMediaElement.preload%20and%20stalled%20event&In-Reply-To=%3C4C490BB1.8060506%40pearce.org.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027262.html">
   <LINK REL="Next"  HREF="027274.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTMLMediaElement.preload and stalled event</H1>
<!--htdig_noindex-->
    <B>Chris Pearce</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTMLMediaElement.preload%20and%20stalled%20event&In-Reply-To=%3C4C490BB1.8060506%40pearce.org.nz%3E"
       TITLE="[whatwg] HTMLMediaElement.preload and stalled event">chris at pearce.org.nz
       </A><BR>
    <I>Thu Jul 22 20:25:37 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="027262.html">[whatwg] WebSockets feedback
</A></li>
        <LI>Next message: <A HREF="027274.html">[whatwg] HTMLMediaElement.preload and stalled event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27269">[ date ]</a>
              <a href="thread.html#27269">[ thread ]</a>
              <a href="subject.html#27269">[ subject ]</a>
              <a href="author.html#27269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>  I am implementing HTMLMediaElement.preload in Firefox, and I have a 
question:

Should we be periodically firing a &quot;stalled&quot; event at the media element 
while we've suspended download of a preload:none or preload:metadata media?

In step 2 of the resource fetch algorithm [1], the spec says &quot;If at any 
point the user agent has received no data for more than about three 
seconds, then queue a task to fire a simple event named stalled at the 
element.&quot; But the description of the &quot;stalled&quot; event [2] says &quot;The user 
agent is trying to fetch media data, but data is unexpectedly not 
forthcoming.&quot; The later description seems to imply that we only send 
&quot;stalled&quot; events when we unexpectedly stop receiving data, but the 
resource fetch algorithm indicates we should send &quot;stalled&quot; events if we 
stop receiving data for any reason, even if we suspend the download, and 
thus expect to not receive data.

If we should send the stalled events, we should update the description 
of the stalled event at [2] to reflect that.

Thanks,
Chris Pearce.

[1] 
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#concept-media-load-resource">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#concept-media-load-resource</A>
[2] 
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#event-media-stalled">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#event-media-stalled</A>
</PRE>





<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027262.html">[whatwg] WebSockets feedback
</A></li>
	<LI>Next message: <A HREF="027274.html">[whatwg] HTMLMediaElement.preload and stalled event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27269">[ date ]</a>
              <a href="thread.html#27269">[ thread ]</a>
              <a href="subject.html#27269">[ subject ]</a>
              <a href="author.html#27269">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
