<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] (deferred) script tags with document.write built in
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%28deferred%29%20script%20tags%20with%20document.write%20built%20in&In-Reply-To=%3C4C4AEE07.9040004%40yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027313.html">
   <LINK REL="Next"  HREF="027324.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] (deferred) script tags with document.write built in</H1>
<!--htdig_noindex-->
    <B>Brett Zamir</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%28deferred%29%20script%20tags%20with%20document.write%20built%20in&In-Reply-To=%3C4C4AEE07.9040004%40yahoo.com%3E"
       TITLE="[whatwg] (deferred) script tags with document.write built in">brettz9 at yahoo.com
       </A><BR>
    <I>Sat Jul 24 06:43:35 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="027313.html">[whatwg] Canvas stroke alignment
</A></li>
        <LI>Next message: <A HREF="027324.html">[whatwg] constructing a FileAPI blob for XHR2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27315">[ date ]</a>
              <a href="thread.html#27315">[ thread ]</a>
              <a href="subject.html#27315">[ subject ]</a>
              <a href="author.html#27315">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>  Might there be a way that &lt;script/&gt; tags could add an attribute which 
combined the meaning of both &quot;defer&quot; and &quot;document.write&quot;, whereby the 
last statement was evaluated to a string, but ideally treated, as far as 
the DOM, with the string being parsed and replacing the containing 
script node.

For example:

&lt;script  write&gt;
     '&lt;span  onmouseover=&quot;alert(\''+(new Date())+'\')&quot;&gt;I\'ve got the date&lt;/span&gt;'
&lt;/script&gt;


If E4X were supported (since we otherwise lamentably have no PHP-style 
HEREDOC syntax in JavaScript to minimize the few warts above), allowing 
this to be used could be especially convenient:

&lt;script  write&gt;
     &lt;span  onmouseover=&quot;alert(new Date())&quot;&gt;I've got the date&lt;/span&gt;
&lt;/script&gt;


(Maybe even a new &lt;write/&gt; tag could be made to do this exclusively and 
more succinctly.)

I chose &quot;defer&quot; as the default behavior so as to be XHTML-friendly, to 
allow convenient reference by default to other DOM elements without the 
need for adding a listener, and the more appealing default behavior of 
not blocking other content from appearing.

Since it doesn't seem that XQuery support will be making it into 
browsers anytime soon, it would be nice to be able to emulate its clean 
template-friendly declarative style, dropping the need to find and 
append to elements, etc..

Brett

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100724/d81f7d8b/attachment-0001.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100724/d81f7d8b/attachment-0001.htm</A>&gt;
</PRE>







































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027313.html">[whatwg] Canvas stroke alignment
</A></li>
	<LI>Next message: <A HREF="027324.html">[whatwg] constructing a FileAPI blob for XHR2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27315">[ date ]</a>
              <a href="thread.html#27315">[ thread ]</a>
              <a href="subject.html#27315">[ subject ]</a>
              <a href="author.html#27315">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
