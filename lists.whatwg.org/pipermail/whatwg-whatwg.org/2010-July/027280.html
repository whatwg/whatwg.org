<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTMLMediaElement.preload and stalled event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTMLMediaElement.preload%20and%20stalled%20event&In-Reply-To=%3Cop.vgagiechatwj1d%40philip-pc.gothenburg.osa%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027274.html">
   <LINK REL="Next"  HREF="027298.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTMLMediaElement.preload and stalled event</H1>
<!--htdig_noindex-->
    <B>Philip J&#228;genstedt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTMLMediaElement.preload%20and%20stalled%20event&In-Reply-To=%3Cop.vgagiechatwj1d%40philip-pc.gothenburg.osa%3E"
       TITLE="[whatwg] HTMLMediaElement.preload and stalled event">philipj at opera.com
       </A><BR>
    <I>Fri Jul 23 01:57:40 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="027274.html">[whatwg] HTMLMediaElement.preload and stalled event
</A></li>
        <LI>Next message: <A HREF="027298.html">[whatwg] HTMLMediaElement.preload and stalled event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27280">[ date ]</a>
              <a href="thread.html#27280">[ thread ]</a>
              <a href="subject.html#27280">[ subject ]</a>
              <a href="author.html#27280">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 23 Jul 2010 05:25:37 +0200, Chris Pearce &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">chris at pearce.org.nz</A>&gt;  
wrote:

&gt;<i>   I am implementing HTMLMediaElement.preload in Firefox, and I have a  
</I>&gt;<i> question:
</I>&gt;<i>
</I>&gt;<i> Should we be periodically firing a &quot;stalled&quot; event at the media element  
</I>&gt;<i> while we've suspended download of a preload:none or preload:metadata  
</I>&gt;<i> media?
</I>&gt;<i>
</I>&gt;<i> In step 2 of the resource fetch algorithm [1], the spec says &quot;If at any  
</I>&gt;<i> point the user agent has received no data for more than about three  
</I>&gt;<i> seconds, then queue a task to fire a simple event named stalled at the  
</I>&gt;<i> element.&quot; But the description of the &quot;stalled&quot; event [2] says &quot;The user  
</I>&gt;<i> agent is trying to fetch media data, but data is unexpectedly not  
</I>&gt;<i> forthcoming.&quot; The later description seems to imply that we only send  
</I>&gt;<i> &quot;stalled&quot; events when we unexpectedly stop receiving data, but the  
</I>&gt;<i> resource fetch algorithm indicates we should send &quot;stalled&quot; events if we  
</I>&gt;<i> stop receiving data for any reason, even if we suspend the download, and  
</I>&gt;<i> thus expect to not receive data.
</I>&gt;<i>
</I>&gt;<i> If we should send the stalled events, we should update the description  
</I>&gt;<i> of the stalled event at [2] to reflect that.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Chris Pearce.
</I>&gt;<i>
</I>&gt;<i> [1]  
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#concept-media-load-resource">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#concept-media-load-resource</A>
</I>&gt;<i> [2]  
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#event-media-stalled">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#event-media-stalled</A>
</I>&gt;<i>
</I>
I think this is a spec bug. When a UA decides to not download more data it  
should fire the suspend event. It doesn't make any sense to also fire the  
stalled event, in my opinion, but the spec isn't clear about this.

Also, I don't understand why the stalled event would be fired periodically  
in any case, why would that be so?

-- 
Philip J&#228;genstedt
Core Developer
Opera Software
</PRE>




<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027274.html">[whatwg] HTMLMediaElement.preload and stalled event
</A></li>
	<LI>Next message: <A HREF="027298.html">[whatwg] HTMLMediaElement.preload and stalled event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27280">[ date ]</a>
              <a href="thread.html#27280">[ thread ]</a>
              <a href="subject.html#27280">[ subject ]</a>
              <a href="author.html#27280">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
