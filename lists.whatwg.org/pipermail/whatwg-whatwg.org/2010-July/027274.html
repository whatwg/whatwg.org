<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTMLMediaElement.preload and stalled event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTMLMediaElement.preload%20and%20stalled%20event&In-Reply-To=%3CAANLkTilzHnhHEttA62-XqVJ_HvXiWC6WT4tm6MMHA7PM%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027269.html">
   <LINK REL="Next"  HREF="027280.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTMLMediaElement.preload and stalled event</H1>
<!--htdig_noindex-->
    <B>Silvia Pfeiffer</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTMLMediaElement.preload%20and%20stalled%20event&In-Reply-To=%3CAANLkTilzHnhHEttA62-XqVJ_HvXiWC6WT4tm6MMHA7PM%40mail.gmail.com%3E"
       TITLE="[whatwg] HTMLMediaElement.preload and stalled event">silviapfeiffer1 at gmail.com
       </A><BR>
    <I>Thu Jul 22 22:11:39 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="027269.html">[whatwg] HTMLMediaElement.preload and stalled event
</A></li>
        <LI>Next message: <A HREF="027280.html">[whatwg] HTMLMediaElement.preload and stalled event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27274">[ date ]</a>
              <a href="thread.html#27274">[ thread ]</a>
              <a href="subject.html#27274">[ subject ]</a>
              <a href="author.html#27274">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>To me, stalled implies that the UA is trying to receive stuff, but is
being stalled. So, my understanding is that the resource fetch
algorithm in [1] should include the word &quot;unexpectedly&quot; - that would
fix it. Then, if  no data has been received for more than 3 seconds,
the &quot;stalled&quot; event would be fired - and again in another 3 seconds
etc, until we time out with an error. But if the UA isn't expecting
data, such as in a suspended state for preload:none or
preload:metadata, the @readyState is HAVE_NONE or HAVE_METADATA, and
the events fired are emptied or loadedmetadata respectively - and
probably pause.

An alternative interpretation would be that stalled implies that
playback is stalled. But even then, it doesn't really make sense,
since we are not trying to play, but are still in pause state.

Cheers,
Silvia.

On Fri, Jul 23, 2010 at 1:25 PM, Chris Pearce &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">chris at pearce.org.nz</A>&gt; wrote:
&gt;<i> &#160;I am implementing HTMLMediaElement.preload in Firefox, and I have a
</I>&gt;<i> question:
</I>&gt;<i>
</I>&gt;<i> Should we be periodically firing a &quot;stalled&quot; event at the media element
</I>&gt;<i> while we've suspended download of a preload:none or preload:metadata media?
</I>&gt;<i>
</I>&gt;<i> In step 2 of the resource fetch algorithm [1], the spec says &quot;If at any
</I>&gt;<i> point the user agent has received no data for more than about three seconds,
</I>&gt;<i> then queue a task to fire a simple event named stalled at the element.&quot; But
</I>&gt;<i> the description of the &quot;stalled&quot; event [2] says &quot;The user agent is trying to
</I>&gt;<i> fetch media data, but data is unexpectedly not forthcoming.&quot; The later
</I>&gt;<i> description seems to imply that we only send &quot;stalled&quot; events when we
</I>&gt;<i> unexpectedly stop receiving data, but the resource fetch algorithm indicates
</I>&gt;<i> we should send &quot;stalled&quot; events if we stop receiving data for any reason,
</I>&gt;<i> even if we suspend the download, and thus expect to not receive data.
</I>&gt;<i>
</I>&gt;<i> If we should send the stalled events, we should update the description of
</I>&gt;<i> the stalled event at [2] to reflect that.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Chris Pearce.
</I>&gt;<i>
</I>&gt;<i> [1]
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#concept-media-load-resource">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#concept-media-load-resource</A>
</I>&gt;<i> [2]
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#event-media-stalled">http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#event-media-stalled</A>
</I>&gt;<i>
</I></PRE>





<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027269.html">[whatwg] HTMLMediaElement.preload and stalled event
</A></li>
	<LI>Next message: <A HREF="027280.html">[whatwg] HTMLMediaElement.preload and stalled event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27274">[ date ]</a>
              <a href="thread.html#27274">[ thread ]</a>
              <a href="subject.html#27274">[ subject ]</a>
              <a href="author.html#27274">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
