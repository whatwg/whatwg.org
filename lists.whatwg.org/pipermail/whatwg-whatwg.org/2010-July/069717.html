<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas: clarification of compositing operations needed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%3A%20clarification%20of%20compositing%20operations%20needed&In-Reply-To=%3CAANLkTin9g4O7vBBmS4%2BRB8_ofu9bB1M_tRfqSVPuDN-z%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069678.html">
   <LINK REL="Next"  HREF="069679.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas: clarification of compositing operations needed</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%3A%20clarification%20of%20compositing%20operations%20needed&In-Reply-To=%3CAANLkTin9g4O7vBBmS4%2BRB8_ofu9bB1M_tRfqSVPuDN-z%40mail.gmail.com%3E"
       TITLE="[whatwg] Canvas: clarification of compositing operations needed">robert at ocallahan.org
       </A><BR>
    <I>Thu Jul 29 20:48:37 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="069678.html">[whatwg] Canvas: clarification of compositing operations needed
</A></li>
        <LI>Next message: <A HREF="069679.html">[whatwg] Canvas: clarification of compositing operations needed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69717">[ date ]</a>
              <a href="thread.html#69717">[ thread ]</a>
              <a href="subject.html#69717">[ subject ]</a>
              <a href="author.html#69717">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Jul 29, 2010 at 10:09 AM, Oliver Hunt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">oliver at apple.com</A>&gt; wrote:

&gt;<i> This is the way the webkit canvas implementation has always worked, firefox
</I>&gt;<i> implemented this incorrectly, and the spec was based off of that
</I>&gt;<i> implementation.
</I>&gt;<i>
</I>
I don't think &quot;the spec was based off of that implementation&quot; is true, since
Firefox never matched the spec (certain operators such as &quot;copy&quot; were
treated as source-bounded, because cairo does it that way, just like CG)
until I fixed that relatively recently.

Additionally the webkit behaviour is more powerful than the spec behaviour
&gt;<i> as the spec behaviour can be emulated trivially on top of the webkit model,
</I>&gt;<i> but vice versa is much harder and much more expensive.
</I>&gt;<i>
</I>
They're both pretty easy to emulate in terms of the other. But I agree that
emulating an unbounded operator in terms of the source-bounded operator has
a higher performance penalty, since the easy implementation is to use a
temporary surface, where as to emulate source-bounded using unbounded you
just do some extra clipping.

As it happens, I'm expecting to see a proposal on public-canvas-api sometime
soon that makes all composition source-bounded and has acceptable text
defining the shape affected by the composition operation. It's tricky
though, especially regarding shadows. But since I agree source-boundedness
is more intuitive for authors, I'm open to changing Firefox to support it.

Rob
-- 
&quot;Now the Bereans were of more noble character than the Thessalonians, for
they received the message with great eagerness and examined the Scriptures
every day to see if what Paul said was true.&quot; [Acts 17:11]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100730/5e4f38a3/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100730/5e4f38a3/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069678.html">[whatwg] Canvas: clarification of compositing operations needed
</A></li>
	<LI>Next message: <A HREF="069679.html">[whatwg] Canvas: clarification of compositing operations needed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69717">[ date ]</a>
              <a href="thread.html#69717">[ thread ]</a>
              <a href="subject.html#69717">[ subject ]</a>
              <a href="author.html#69717">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
