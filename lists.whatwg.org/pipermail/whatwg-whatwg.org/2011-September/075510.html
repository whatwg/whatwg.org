<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] [editing] New conformance tests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bediting%5D%20New%20conformance%20tests&In-Reply-To=%3C4E727D69.70705%40mozilla.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075494.html">
   <LINK REL="Next"  HREF="075512.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] [editing] New conformance tests</H1>
<!--htdig_noindex-->
    <B>Ehsan Akhgari</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%5Bediting%5D%20New%20conformance%20tests&In-Reply-To=%3C4E727D69.70705%40mozilla.com%3E"
       TITLE="[whatwg] [editing] New conformance tests">ehsan at mozilla.com
       </A><BR>
    <I>Thu Sep 15 15:34:17 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="075494.html">[whatwg] [editing] New conformance tests
</A></li>
        <LI>Next message: <A HREF="075512.html">[whatwg] [editing] New conformance tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75510">[ date ]</a>
              <a href="thread.html#75510">[ thread ]</a>
              <a href="subject.html#75510">[ subject ]</a>
              <a href="author.html#75510">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 11-09-14 5:24 PM, Aryeh Gregor wrote:
&gt;<i> Apparently I need a faster CPU:
</I>&gt;<i>
</I>&gt;<i> Time elapsed: 15:38.332 min.Summary
</I>&gt;<i> Found 56734 tests14107 Pass42627 Fail
</I>&gt;<i>
</I>&gt;<i> By way of comparison, in Firefox 8.0a2:
</I>&gt;<i>
</I>&gt;<i> Time elapsed: 4:51.723 min.
</I>&gt;<i> Summary
</I>&gt;<i>
</I>&gt;<i> Found 56734 tests
</I>&gt;<i> 14759 Pass
</I>&gt;<i> 41975 Fail
</I>&gt;<i>
</I>&gt;<i> Annoyingly, it looks like Opera is failing some tests solely due to
</I>&gt;<i> not following the HTML5 serialization algorithm.  I rely on innerHTML
</I>&gt;<i> heavily for the tests.  I could try to work around these failures, but
</I>&gt;<i> hopefully IE and Opera will migrate to HTML5 serialization soon enough
</I>&gt;<i> that it won't be worth the effort.
</I>
Maybe we can split these tests into multiple files, with one master file 
which loads them all, one by one, in iframes or something?

I just tried running them under a debug build of Firefox, and they take 
about three times as long as an optimized build for me (it was a bit 
more than 3 minutes for me, but I have a pretty fast machine!)

&gt;<i> On Tue, Sep 13, 2011 at 6:25 PM, Ehsan Akhgari&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ehsan at mozilla.com</A>&gt;  wrote:
</I>&gt;&gt;<i> This looks really interesting.  Do you think this conformance suite is in a
</I>&gt;&gt;<i> good stage for browser vendors to integrate it in their test suites?  I'm
</I>&gt;&gt;<i> interested in integrating this into Mozilla's test suite to make sure that
</I>&gt;&gt;<i> we don't regress anything covered by these tests without realizing it.
</I>&gt;<i>
</I>&gt;<i> It's very likely that some of the tests are wrong, or that they match
</I>&gt;<i> the spec but the spec is wrong.  With that kept in mind, yes, it
</I>&gt;<i> should be suitable for integration into browser test suites.
</I>
These are all fine.  I'm planning to write a script which gathers the 
current status of the tests, and then use that every time that I update 
the test suite to get the expected result set.  I'll I care about at 
this point is that we don't change something in Gecko which changes 
these expected test results (either making some tests that passed before 
fail or vice versa) without understanding why.

 &gt; It uses
&gt;<i> James Graham's testharness.js, so I should think you'd want to make
</I>&gt;<i> some bridge that lets that integrate into your test suites, then plug
</I>&gt;<i> these in.  testharness.js is designed for this use-case, but as far as
</I>&gt;<i> I know, only Opera uses it that way at this point.  You might want to
</I>&gt;<i> speak to James about it if you want to work on integrating it.  There
</I>&gt;<i> are lots more tests that use testharness.js, such as these:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://dvcs.w3.org/hg/html/file/tip/tests/submission/AryehGregor/reflection">http://dvcs.w3.org/hg/html/file/tip/tests/submission/AryehGregor/reflection</A>
</I>&gt;<i> <A HREF="http://dvcs.w3.org/hg/webapps/file/tip/DOMCore/tests/submissions/Ms2ger">http://dvcs.w3.org/hg/webapps/file/tip/DOMCore/tests/submissions/Ms2ger</A>
</I>&gt;<i>
</I>&gt;<i> And more are being written regularly.  This is now the preferred test
</I>&gt;<i> format for the HTML and WebApps WGs, so it would be great if browsers
</I>&gt;<i> supported it.
</I>
Definitely.  I will send him an email CCing you guys to ask him about 
the best way to approach this problem.

In the mean time, do you know about the licensing of the stuff under 
<A HREF="http://dvcs.w3.org/hg/html/file/tip/tests?">http://dvcs.w3.org/hg/html/file/tip/tests?</A>  I want to make sure that 
they have a compatible license so that we can import them into our tree.

Cheers,
Ehsan

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075494.html">[whatwg] [editing] New conformance tests
</A></li>
	<LI>Next message: <A HREF="075512.html">[whatwg] [editing] New conformance tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75510">[ date ]</a>
              <a href="thread.html#75510">[ thread ]</a>
              <a href="subject.html#75510">[ subject ]</a>
              <a href="author.html#75510">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
