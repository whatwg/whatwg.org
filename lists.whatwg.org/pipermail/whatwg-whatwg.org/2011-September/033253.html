<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] window.onerror and cross-origin scripts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20window.onerror%20and%20cross-origin%20scripts&In-Reply-To=%3C9i3i775uodehpmio5789531etn9mfok13l%40hive.bjoern.hoehrmann.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033252.html">
   <LINK REL="Next"  HREF="033256.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] window.onerror and cross-origin scripts</H1>
<!--htdig_noindex-->
    <B>Bjoern Hoehrmann</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20window.onerror%20and%20cross-origin%20scripts&In-Reply-To=%3C9i3i775uodehpmio5789531etn9mfok13l%40hive.bjoern.hoehrmann.de%3E"
       TITLE="[whatwg] window.onerror and cross-origin scripts">derhoermi at gmx.net
       </A><BR>
    <I>Tue Sep 20 15:19:32 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="033252.html">[whatwg] window.onerror and cross-origin scripts
</A></li>
        <LI>Next message: <A HREF="033256.html">[whatwg] window.onerror and cross-origin scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33253">[ date ]</a>
              <a href="thread.html#33253">[ thread ]</a>
              <a href="subject.html#33253">[ subject ]</a>
              <a href="author.html#33253">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>* Simon Pieters wrote:
&gt;<i>This makes window.onerror rather useless for cross-origin scripts.  
</I>&gt;<i>However, it is still possible to tell if the user is logged in or not if a  
</I>&gt;<i>site serves a script for a particular URL when the user is logged in and  
</I>&gt;<i>redirects to the home page or so when the user is not logged in. We have  
</I>&gt;<i>found a bank site where this is possible. There are other ways to tell if  
</I>&gt;<i>the user is logged in, however it seems we should try to keep them to a  
</I>&gt;<i>minimum. Therefore we suggest that window.onerror should not be invoked at  
</I>&gt;<i>all for errors in cross-origin scripts.
</I>
I note there are at least two other ways to minimize the disclosure pro-
blem here, which is due to a bug on the bank's site, and it seems quite
likely there should be many more ways to check whether the script loaded
(like checking for global variables it sets, markup it might add, mess
with event listeners it might register, and so on): limit this to the
&quot;cookie domain&quot; and basing the decision on the media type of responses. 

Either would disclose more, but taking away the ability to issue alerts
when there are too many scripting errors (new browser update pushed to
users that you did not catch in advance is incompatible with script, as
an example) short of having people add &quot;script_xy_loaded_okay&quot; data to
the scripting environment, which might be a new source of leaks when it
is used incorrectly, is a bit of a problem, even if the rule that you do
not get errors from &quot;cross-origin&quot; loads is certainly the most simple.
-- 
Bj&#246;rn H&#246;hrmann &#183; mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bjoern at hoehrmann.de</A> &#183; <A HREF="http://bjoern.hoehrmann.de">http://bjoern.hoehrmann.de</A>
Am Badedeich 7 &#183; Telefon: +49(0)160/4415681 &#183; <A HREF="http://www.bjoernsworld.de">http://www.bjoernsworld.de</A>
25899 Dageb&#252;ll &#183; PGP Pub. KeyID: 0xA4357E78 &#183; <A HREF="http://www.websitedev.de/">http://www.websitedev.de/</A> 
</PRE>

















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033252.html">[whatwg] window.onerror and cross-origin scripts
</A></li>
	<LI>Next message: <A HREF="033256.html">[whatwg] window.onerror and cross-origin scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33253">[ date ]</a>
              <a href="thread.html#33253">[ thread ]</a>
              <a href="subject.html#33253">[ subject ]</a>
              <a href="author.html#33253">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
