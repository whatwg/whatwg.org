<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Detached elements and delaying the load event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Detached%20elements%20and%20delaying%20the%20load%20event&In-Reply-To=%3C4E661A3B.5090900%40ado.is-a-geek.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075374.html">
   <LINK REL="Next"  HREF="033126.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Detached elements and delaying the load event</H1>
<!--htdig_noindex-->
    <B>Andrew Oakley</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Detached%20elements%20and%20delaying%20the%20load%20event&In-Reply-To=%3C4E661A3B.5090900%40ado.is-a-geek.net%3E"
       TITLE="[whatwg] Detached elements and delaying the load event">andrew at ado.is-a-geek.net
       </A><BR>
    <I>Tue Sep  6 06:03:55 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="075374.html">[whatwg] Server-Sent Events and CORS
</A></li>
        <LI>Next message: <A HREF="033126.html">[whatwg] 1.1.1 How do the WHATWG and W3C specifications differ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33115">[ date ]</a>
              <a href="thread.html#33115">[ thread ]</a>
              <a href="subject.html#33115">[ subject ]</a>
              <a href="author.html#33115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I'm going to use the &lt;img&gt; element as an example here, but the same
thing applies to other elements such as &lt;iframe&gt;, &lt;video&gt;, &lt;audio&gt;.

I'm going to assume that the user agent &quot;obtains the images
immediately&quot;, given that seems to be what most browsers do.

If an img element is created and given a src attribute (but not
necessarily attached to the tree) then, according to HTML5, we need to
&quot;update the image data&quot; and therefore delay the load event.  I guess
this means we should lock the image element in a similar fashion to
XMLHttpRequest objects, otherwise the image could be garbage collected
before it has been loaded and therefore block the load event indefinitely.

Firefox, Opera, Chrome and Safari do seem to implement this behaviour,
IE does not.

I would prefer not to implement this and just say &quot;detached elements do
not delay the load event&quot;, but I'm not sure if that will always work.

Can we please get a clarification in HTML5, either to say that these
detached objects must not be garbage collected while they are delaying
the load event, or to say that they do not delay the load event.

Thanks

-- 
Andrew Oakley
</PRE>




































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075374.html">[whatwg] Server-Sent Events and CORS
</A></li>
	<LI>Next message: <A HREF="033126.html">[whatwg] 1.1.1 How do the WHATWG and W3C specifications differ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33115">[ date ]</a>
              <a href="thread.html#33115">[ thread ]</a>
              <a href="subject.html#33115">[ subject ]</a>
              <a href="author.html#33115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
