<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Three concerns regarding HTML5 form validation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Three%20concerns%20regarding%20HTML5%20form%20validation&In-Reply-To=%3C4E80895E.6000203%40lamouri.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075616.html">
   <LINK REL="Next"  HREF="075613.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Three concerns regarding HTML5 form validation</H1>
<!--htdig_noindex-->
    <B>Mounir Lamouri</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Three%20concerns%20regarding%20HTML5%20form%20validation&In-Reply-To=%3C4E80895E.6000203%40lamouri.fr%3E"
       TITLE="[whatwg] Three concerns regarding HTML5 form validation">mounir at lamouri.fr
       </A><BR>
    <I>Mon Sep 26 07:17:02 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="075616.html">[whatwg] Three concerns regarding HTML5 form validation
</A></li>
        <LI>Next message: <A HREF="075613.html">[whatwg] Three concerns regarding HTML5 form validation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75591">[ date ]</a>
              <a href="thread.html#75591">[ thread ]</a>
              <a href="subject.html#75591">[ subject ]</a>
              <a href="author.html#75591">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 09/26/2011 01:58 PM, Matias wrote:
&gt;<i> 1) Is there a reason why native form validation seems to be tied to the click of the submit button? Submitting the form using JavaScript does not seem to trigger HTML5 form validation in either Firefox, Opera or the Webkit browsers (I haven't checked how IE10 behaves yet). To me this seems like an unnecessary limitation.
</I>
.submit() by-passes all possible submit cancellation per spec: there is 
no submit event sent and given that the validation checks were done in 
the submit event handler, it seems reasonable to disable the automatic 
HTML5 form validation.

&gt;<i> 2) How about adding a method to programmatically display the native validation error messages instead of waiting for the form submit click? We already have a way to (more or less) detect if the form is valid or not, but no way of forcing the native validation error messages to render without using some submit button click hack.
</I>
I guess submitControl.click() should work and isn't that hacky.

&gt;<i> 3) Should there be a way of detecting if the browser actually understood all input element types? Browsers believe that a form is valid even when it contains invalid data for input types the browser doesn't understand. (Like the string 'asdf' in an input type=number field in Firefox.)
</I> &gt;
&gt;<i> So checking if the browser has a checkValidity method is not a guarantee that the form validates according to the HTML5 specified constraints. If there was a method or property like form.containsUnknownInputs and maybe element.isUnknownInput (not the best names, but you get the idea) we could determine the best way to handle further validation.
</I>So, theoretically, you should be able to do:
   input.type = &quot;foo&quot;;
   if (input.type == &quot;foo&quot;) {
   }

But last I checked Webkit brokes that by recognizing types it does not 
[fully] understood. Though, maybe the validation is done as expected.

However, I don't think it would be a good idea to have a website using 
only HTML5 Form Validation for a wide audience. It is better to have a 
path for browsers who do not understand HTML5 Forms Validation. 
Basically, that means keeping the checks in the submit event handler. 
These checks will be done for non-supported types too.

--
Mounir

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075616.html">[whatwg] Three concerns regarding HTML5 form validation
</A></li>
	<LI>Next message: <A HREF="075613.html">[whatwg] Three concerns regarding HTML5 form validation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75591">[ date ]</a>
              <a href="thread.html#75591">[ thread ]</a>
              <a href="subject.html#75591">[ subject ]</a>
              <a href="author.html#75591">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
