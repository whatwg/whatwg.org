<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fixing two security vulnerabilities in	registerProtocolHandler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fixing%20two%20security%20vulnerabilities%20in%0A%09registerProtocolHandler&In-Reply-To=%3CCAKvcKKkoXRgG%2B%3DrpT%2BRo-xh-213QAST%3DhwQz8dUND9h_GjguQA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075602.html">
   <LINK REL="Next"  HREF="033327.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fixing two security vulnerabilities in	registerProtocolHandler</H1>
<!--htdig_noindex-->
    <B>Tyler Close</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fixing%20two%20security%20vulnerabilities%20in%0A%09registerProtocolHandler&In-Reply-To=%3CCAKvcKKkoXRgG%2B%3DrpT%2BRo-xh-213QAST%3DhwQz8dUND9h_GjguQA%40mail.gmail.com%3E"
       TITLE="[whatwg] Fixing two security vulnerabilities in	registerProtocolHandler">tyler.close at gmail.com
       </A><BR>
    <I>Tue Sep 27 12:27:41 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="075602.html">[whatwg] Fixing two security vulnerabilities in	registerProtocolHandler
</A></li>
        <LI>Next message: <A HREF="033327.html">[whatwg] focusability of visibility:hidden and display:none elements WAS: Autofocus readonly Input Elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75607">[ date ]</a>
              <a href="thread.html#75607">[ thread ]</a>
              <a href="subject.html#75607">[ subject ]</a>
              <a href="author.html#75607">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Sep 26, 2011 at 11:09 AM, Tyler Close &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">tyler.close at gmail.com</A>&gt; wrote:
&gt;<i> The second problem with RPH is that the handler page doesn't have a
</I>&gt;<i> way of reliably getting the URL of the content to be handled from the
</I>&gt;<i> browser. In order to work in offline scenarios, the RPH handler must
</I>&gt;<i> put the %s placeholder in the fragment of its handler's URL.
</I>&gt;<i> Unfortunately, this means that other content in the browser could
</I>&gt;<i> modify the content URL before the handler reads it.
</I>
Just to clarify, the problem here is the well-known message integrity
problem with using window.location.hash for cross-domain messaging.
Since window.location.hash can be written to by content from many
other origins, the RPH handler can't rely on the window.location.hash
containing the content URL specified by the RPH client. Putting a copy
of the content URL in window.navigator.action solves this problem.

--Tyler

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075602.html">[whatwg] Fixing two security vulnerabilities in	registerProtocolHandler
</A></li>
	<LI>Next message: <A HREF="033327.html">[whatwg] focusability of visibility:hidden and display:none elements WAS: Autofocus readonly Input Elements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75607">[ date ]</a>
              <a href="thread.html#75607">[ thread ]</a>
              <a href="subject.html#75607">[ subject ]</a>
              <a href="author.html#75607">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
