<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] readystatechange for SCRIPT
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20readystatechange%20for%20SCRIPT&In-Reply-To=%3C4E6A8BD8.1040007%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075427.html">
   <LINK REL="Next"  HREF="075431.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] readystatechange for SCRIPT</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20readystatechange%20for%20SCRIPT&In-Reply-To=%3C4E6A8BD8.1040007%40mit.edu%3E"
       TITLE="[whatwg] readystatechange for SCRIPT">bzbarsky at MIT.EDU
       </A><BR>
    <I>Fri Sep  9 14:57:44 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="075427.html">[whatwg] readystatechange for SCRIPT
</A></li>
        <LI>Next message: <A HREF="075431.html">[whatwg] readystatechange for SCRIPT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75428">[ date ]</a>
              <a href="thread.html#75428">[ thread ]</a>
              <a href="subject.html#75428">[ subject ]</a>
              <a href="author.html#75428">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 9/9/11 5:46 PM, Ian Hickson wrote:
&gt;<i> On Fri, 9 Sep 2011, Boris Zbarsky wrote:
</I>&gt;&gt;<i> On 9/9/11 3:40 PM, Ian Hickson wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> This is what I'm leaning towards at the moment. Are there any
</I>&gt;&gt;&gt;<i> objections to removing the readyState support from&lt;script&gt;  (reverting
</I>&gt;&gt;&gt;<i> r6543) and moving onreadystatechange to HTMLDocument exclusively?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> HTMLDocument, or Document?
</I>&gt;<i>
</I>&gt;<i> They're more or less the same, per spec.
</I>
Well.... no, they're not.  In particular, HTMLDocument.prototype is not 
on the prototype chain of XMLDocument.prototype in any UA I'm aware of, 
whereas Document.prototype is.  Perhaps you're saying the spec will 
change that?

Now any given document object may implement both interfaces, but where 
properties live in the prototype chain is _very_ different depending on 
whether they're on Document or HTMLDocument.  Again, assuming that there 
is a separate HTMLDocument interface object and so forth.

&gt;&gt;<i> If it's put on HTMLDocument exclusively, that would solve the
</I>&gt;&gt;<i> XMLDocument.prototype problem as well.  But the readyState property
</I>&gt;&gt;<i> seems to be on Document, not HTMLDocument....
</I>&gt;<i>
</I>&gt;<i> HTMLDocument in the HTML spec defines HTMLDocument.readyState but says:
</I>&gt;<i>
</I>&gt;<i>     Document implements HTMLDocument;
</I>
Doing that means that hooking HTMLDocument.prototype methods won't 
actually change methods on documents, right?  How web-compatible is that?

&gt;<i> There's been a suggestion that I should just define it as a partial
</I>&gt;<i> interface for Document instead and then define HTMLDocument === Document,
</I>&gt;<i> but I haven't looked into that yet.
</I>
That might actually be more web-compatible....  Maybe.

&gt;<i> Since nobody seems to object, I'm going to revert r6543 and make
</I>&gt;<i> onreadystatechange special.
</I>
Sounds good.  Please let me know when the new spec text is up?

-Boris



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075427.html">[whatwg] readystatechange for SCRIPT
</A></li>
	<LI>Next message: <A HREF="075431.html">[whatwg] readystatechange for SCRIPT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75428">[ date ]</a>
              <a href="thread.html#75428">[ thread ]</a>
              <a href="subject.html#75428">[ subject ]</a>
              <a href="author.html#75428">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
