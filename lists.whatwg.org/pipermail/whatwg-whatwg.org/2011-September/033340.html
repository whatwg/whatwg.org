<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Three concerns regarding HTML5 form validation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Three%20concerns%20regarding%20HTML5%20form%20validation&In-Reply-To=%3CA9FBC16E-0333-4231-A460-6B96CAE2F1F6%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033318.html">
   <LINK REL="Next"  HREF="033345.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Three concerns regarding HTML5 form validation</H1>
<!--htdig_noindex-->
    <B>Matias</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Three%20concerns%20regarding%20HTML5%20form%20validation&In-Reply-To=%3CA9FBC16E-0333-4231-A460-6B96CAE2F1F6%40gmail.com%3E"
       TITLE="[whatwg] Three concerns regarding HTML5 form validation">matiasnu at gmail.com
       </A><BR>
    <I>Wed Sep 28 06:56:23 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="033318.html">[whatwg] Three concerns regarding HTML5 form validation
</A></li>
        <LI>Next message: <A HREF="033345.html">[whatwg] Three concerns regarding HTML5 form validation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33340">[ date ]</a>
              <a href="thread.html#33340">[ thread ]</a>
              <a href="subject.html#33340">[ subject ]</a>
              <a href="author.html#33340">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Mounir and sorry for the late reply,

&gt;&gt;<i> 1) Is there a reason why native form validation seems to be tied to the click of the submit button? Submitting the form using JavaScript does not seem to trigger HTML5 form validation in either Firefox, Opera or the Webkit browsers (I haven't checked how IE10 behaves yet). To me this seems like an unnecessary limitation.
</I>&gt;<i> 
</I>&gt;<i> .submit() by-passes all possible submit cancellation per spec: there is 
</I>&gt;<i> no submit event sent and given that the validation checks were done in 
</I>&gt;<i> the submit event handler, it seems reasonable to disable the automatic 
</I>&gt;<i> HTML5 form validation.
</I>
OK, I understand... so is there a reason not to have a method for triggering the display of validation errors in addition to triggering a click on a submitControl? (I can understand not wanting duplication of functionality, but it would be great for clarity) 

&gt;&gt;<i> 2) How about adding a method to programmatically display the native validation error messages instead of waiting for the form submit click? We already have a way to (more or less) detect if the form is valid or not, but no way of forcing the native validation error messages to render without using some submit button click hack.
</I>&gt;<i> 
</I>&gt;<i> I guess submitControl.click() should work and isn't that hacky.
</I>
Yes and no. :) If I want to validate a form (for example if it's sectioned into tabs and the user switches tab after typing an invalid value somewhere) I have to trigger a click event on a button instead of actually calling a validation method on the form which (maybe only for me) seems to be a bit of a hack. But if that's what it takes to stay compatible with the legacy web as we move forward, so be it.

&gt;&gt;<i> 3) Should there be a way of detecting if the browser actually understood all input element types? Browsers believe that a form is valid even when it contains invalid data for input types the browser doesn't understand. (Like the string 'asdf' in an input type=number field in Firefox.)
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> So checking if the browser has a checkValidity method is not a guarantee that the form validates according to the HTML5 specified constraints. If there was a method or property like form.containsUnknownInputs and maybe element.isUnknownInput (not the best names, but you get the idea) we could determine the best way to handle further validation.
</I>&gt;<i> So, theoretically, you should be able to do:
</I>&gt;<i>   input.type = &quot;foo&quot;;
</I>&gt;<i>   if (input.type == &quot;foo&quot;) {
</I>&gt;<i>   }
</I>&gt;<i> 
</I>&gt;<i> But last I checked Webkit brokes that by recognizing types it does not 
</I>&gt;<i> [fully] understood. Though, maybe the validation is done as expected.
</I>
Thanks, it seems Modernizr/Webshims Lib takes care of that issue in Firefox.

&gt;<i> However, I don't think it would be a good idea to have a website using 
</I>&gt;<i> only HTML5 Form Validation for a wide audience. It is better to have a 
</I>&gt;<i> path for browsers who do not understand HTML5 Forms Validation. 
</I>&gt;<i> Basically, that means keeping the checks in the submit event handler. 
</I>&gt;<i> These checks will be done for non-supported types too.
</I>
Fortunately my audience is from the enterprise sector and the web app I'm building is not free, so I can have pretty strict browser requirements.

Best regards,
Matias
</PRE>








<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033318.html">[whatwg] Three concerns regarding HTML5 form validation
</A></li>
	<LI>Next message: <A HREF="033345.html">[whatwg] Three concerns regarding HTML5 form validation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33340">[ date ]</a>
              <a href="thread.html#33340">[ thread ]</a>
              <a href="subject.html#33340">[ subject ]</a>
              <a href="author.html#33340">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
