<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] External document subset support
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20External%20document%20subset%20support&In-Reply-To=%3C4A113691.8050906%40yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019796.html">
   <LINK REL="Next"  HREF="019808.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] External document subset support</H1>
<!--htdig_noindex-->
    <B>Brett Zamir</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20External%20document%20subset%20support&In-Reply-To=%3C4A113691.8050906%40yahoo.com%3E"
       TITLE="[whatwg] External document subset support">brettz9 at yahoo.com
       </A><BR>
    <I>Mon May 18 03:21:05 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019796.html">[whatwg] External document subset support
</A></li>
        <LI>Next message: <A HREF="019808.html">[whatwg] External document subset support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19797">[ date ]</a>
              <a href="thread.html#19797">[ thread ]</a>
              <a href="subject.html#19797">[ subject ]</a>
              <a href="author.html#19797">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Kristof Zelechovski wrote:
&gt;<i> AFAIK, WebKit is not going to validate XML, they say it makes page load too
</I>&gt;<i> slow.
</I>Yes, I can see validation would be a problem, and see little use for 
that except local file testing. But I'm just talking about using the DTD 
to access entities, not to do validation. While this does involve 
another HTTP request (as do external stylesheeets, scripts, etc.), 
browsers could, as they do with such files, cache the files.
&gt;<i> Besides, entities introduce a security risk because it can contain
</I>&gt;<i> incomplete syntax fragments and they can open a path to XML injection into,
</I>&gt;<i> say,&lt;![DANGER[&lt;span title=&quot;&amp;malicious-entity;&quot;&gt;sweet kittens&lt;/span&gt;]]&gt;.
</I>&gt;<i> So XML processors often refuse to load cross-domain DTD or ENTITIES.
</I>&gt;<i>
</I>&gt;<i>    
</I>Then, cross-domain entities could be restricted... I'm just thinking one 
should be able to at least have /some/ way to use them, even if you have 
to save the file in the same domain.
&gt;<i> There are several XHTML entities that are indispensable for authors, namely
</I>&gt;<i> those that disambiguate characters are invisible or are indistinguishable
</I>&gt;<i> from others in a monospaced typeface.  These include spacing, dashes, quotes
</I>&gt;<i> and maybe text direction (deprecated).  Converting them to their
</I>&gt;<i> corresponding characters deteriorates the editing experience in an ordinary
</I>&gt;<i> text editor.  As far as codes for letters are concerned, text in a non-Latin
</I>&gt;<i> script would consist mainly of entities, which would make it extremely hard
</I>&gt;<i> to read, so this approach is not practical.  An editor limited to the ASCII
</I>&gt;<i> character set would be better off using a transliteration scheme and a
</I>&gt;<i> converter.
</I>&gt;<i>    
</I>Yes, if the whole document were written in that fashion, and it was not 
a localization. But for those who are already using programs which 
support non-Latin scripts, such documents may still take advantage of 
entities (or even have the entities themselves be in a non-Latin 
script). For example, my &quot;Chinese XHTML&quot; ( 
<A HREF="http://bahai-library.com/zamir/chineseXHTML.xml">http://bahai-library.com/zamir/chineseXHTML.xml</A> and 
<A HREF="http://bahai-library.com/zamir/chineseXHTML.xsl">http://bahai-library.com/zamir/chineseXHTML.xsl</A> ) (can view in Safari, 
Firefox, or Opera), which allows tags, attributes, and CSS in Chinese 
characters roughly equivalent to the XHTML tag names, as long as the 
stylesheet is attached, could also use Chinese entities in the XML 
document if such external doctypes were supported (the example uses one 
in the internal subset). This raises another use for entities--a simple 
introduction to preparing XHTML documents in all regards, regardless of 
one's native language. (And I used entities in the XSL file too, thereby 
highlighting another example of entities--the ability to automatically 
and transparently share /all/ of my code, including localization code 
for anyone who wished to make their own localization or borrow mine for 
other uses.)
&gt;<i> However, as some of the entities are indispensable, a DOCTYPE is required.
</I>&gt;<i> The browsers may support built-in entities but XML processors used to
</I>&gt;<i> process XHTML documents need not.  Providing a set of the entities needed
</I>&gt;<i> in-line is easy;
</I>If you mean providing them in each document, then that, while easy, is 
already supported, but is a large use of bandwidth, and not to mention 
quite a pain to have to copy into each document and maintain...
&gt;<i> however, the problem is that some validating processors
</I>&gt;<i> like MSXML require that the DTD, if provided, should fully describe the
</I>&gt;<i> document; providing entities only is not supported by default and the
</I>&gt;<i> processor refuses to load the document.  That means a DOCTYPE for XHTML is
</I>&gt;<i> necessary and should be provided by WHATWG (or by an independent party).
</I>&gt;<i> This DTD should be external in order to use parameter entities and, of
</I>&gt;<i> course, to make the document smaller.  It cannot, of course, define all
</I>&gt;<i> nuances of XHTML, but an upper approximation would be sufficient.
</I>&gt;<i>
</I>&gt;<i> The problem, of course, is maintenance, since XHTML is in flux.  XHTML is
</I>&gt;<i> currently described formally by a RELAX NG grammar and maintaining a
</I>&gt;<i> separate DTD would double the work to do so it would be best to be able to
</I>&gt;<i> generate the DTD automatically.  However, the converter I was advised to use
</I>&gt;<i> was unable to produce a DTD from the grammar because it is too complex for
</I>&gt;<i> the DTD formalism (of course).
</I>&gt;<i>    
</I>Hmm... Good point. Still, it is surmountable...

&gt;<i> Best regards,
</I>&gt;<i> Chris
</I>&gt;<i>
</I>&gt;<i> Aside: Note that you cannot use DocBook with MSIE directly; a bug in the
</I>&gt;<i> default XSLT processor causes an error in initialization code.  This kills
</I>&gt;<i> all transformations, whatever your document is.  (I do not know about TEI.)
</I>&gt;<i>    
</I>I've used XSL successfully before in IE, but haven't used it for some 
time... Right now my &quot;Chinese XHTML&quot; which really did work for me in 
Explorer before when I outputted in GB2312 is not working now, though 
that may be due to the fonts on my system now.

Brett
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090518/0671dbb8/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090518/0671dbb8/attachment.htm</A>&gt;
</PRE>




































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019796.html">[whatwg] External document subset support
</A></li>
	<LI>Next message: <A HREF="019808.html">[whatwg] External document subset support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19797">[ date ]</a>
              <a href="thread.html#19797">[ thread ]</a>
              <a href="subject.html#19797">[ subject ]</a>
              <a href="author.html#19797">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
