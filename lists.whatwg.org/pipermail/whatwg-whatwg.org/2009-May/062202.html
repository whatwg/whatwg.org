<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] page refresh and resubmitting POST state
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20page%20refresh%20and%20resubmitting%20POST%20state&In-Reply-To=%3C7c2a12e20905240850y36ee953cu883c987aba6779ca%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="062201.html">
   <LINK REL="Next"  HREF="062204.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] page refresh and resubmitting POST state</H1>
<!--htdig_noindex-->
    <B>Aryeh Gregor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20page%20refresh%20and%20resubmitting%20POST%20state&In-Reply-To=%3C7c2a12e20905240850y36ee953cu883c987aba6779ca%40mail.gmail.com%3E"
       TITLE="[whatwg] page refresh and resubmitting POST state">Simetrical+w3c at gmail.com
       </A><BR>
    <I>Sun May 24 08:50:38 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="062201.html">[whatwg] page refresh and resubmitting POST state
</A></li>
        <LI>Next message: <A HREF="062204.html">[whatwg] page refresh and resubmitting POST state
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62202">[ date ]</a>
              <a href="thread.html#62202">[ thread ]</a>
              <a href="subject.html#62202">[ subject ]</a>
              <a href="author.html#62202">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sun, May 24, 2009 at 11:41 AM, Kornel Lesinski &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">kornel at geekhood.net</A>&gt; wrote:
&gt;<i> It only needs to keep it as long as Back history is kept, and could get
</I>&gt;<i> rid of it as soon as this entry is removed from Back/Forward history.
</I>
In practice, that history can be kept for a long time.  Even if the
tab is closed, &quot;undo close tab&quot; still keeps the history.  Even if the
browser closes, the old session may be kept in newer browsers.  But as
long as it's kept for long enough that it's very rare to see the
message, I don't think it's a big problem.

&gt;<i> You store the data on server side, and redirect to URL that contains
</I>&gt;<i> unique ID for this data.
</I>&gt;<i>
</I>&gt;<i> It's just a few lines in PHP (and similar solutions shuold be possible in all web frameworks):
</I>&gt;<i>
</I>&gt;<i> $id = uniqid();
</I>&gt;<i> $_SESSION[$id] = $_POST;
</I>&gt;<i> header(&quot;Location: [&#8230;]/result.php?id=$id&quot;,false,303);
</I>&gt;<i>
</I>&gt;<i> and later:
</I>&gt;<i>
</I>&gt;<i> $_POST = $_SESSION[$_GET['id']];
</I>&gt;<i>
</I>&gt;<i> This works even for multiple submissions done in parallel and it's pretty
</I>&gt;<i> secure and tamper-proof.
</I>
That does seem like a pretty good solution.  Perhaps Mike Wilson can
point out the problems with it.

&gt;<i> Is it possible for HTML 5 spec to say that browsers may re-send PUT without asking? (and that authors should use PUT only when resending is not going to cause this problems).
</I>
When would that be?

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="062201.html">[whatwg] page refresh and resubmitting POST state
</A></li>
	<LI>Next message: <A HREF="062204.html">[whatwg] page refresh and resubmitting POST state
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62202">[ date ]</a>
              <a href="thread.html#62202">[ thread ]</a>
              <a href="subject.html#62202">[ subject ]</a>
              <a href="author.html#62202">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
