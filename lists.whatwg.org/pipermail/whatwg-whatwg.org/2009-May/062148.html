<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Exposing known data types in a reusable way
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Exposing%20known%20data%20types%20in%20a%20reusable%20way&In-Reply-To=%3C6ea53250905210457q374cd1edx9ea7aea3c01e5fe0%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="062106.html">
   <LINK REL="Next"  HREF="062107.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Exposing known data types in a reusable way</H1>
<!--htdig_noindex-->
    <B>Eduard Pascual</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Exposing%20known%20data%20types%20in%20a%20reusable%20way&In-Reply-To=%3C6ea53250905210457q374cd1edx9ea7aea3c01e5fe0%40mail.gmail.com%3E"
       TITLE="[whatwg] Exposing known data types in a reusable way">herenvardo at gmail.com
       </A><BR>
    <I>Thu May 21 04:57:15 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="062106.html">[whatwg] Exposing known data types in a reusable way
</A></li>
        <LI>Next message: <A HREF="062107.html">[whatwg] Providing enhanced search results
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62148">[ date ]</a>
              <a href="thread.html#62148">[ thread ]</a>
              <a href="subject.html#62148">[ subject ]</a>
              <a href="author.html#62148">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Interesting.
Despite my PoV against the microdata proposal, I've taken a look at it
and find a minor typo:

Within &quot;5.4.1 vCard&quot;, by the end of the &quot;n&quot; property description, the
spec reads:
&quot;The value of the fn property a name in one of the following forms:&quot;
shouldn't it read:
&quot;The value of the fn property is a name in one of the following forms:&quot; ?

Maybe this will grant me a seat for posterity on the acknowledgements
section =P.

On Wed, May 20, 2009 at 1:07 AM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Some of the use cases I collected from the e-mails sent in over the past
</I>&gt;<i> few months were the following:
</I>&gt;<i>
</I>&gt;<i> &#160; USE CASE: Exposing contact details so that users can add people to their
</I>&gt;<i> &#160; address books or social networking sites.
</I>&gt;<i>
</I>&gt;<i> &#160; SCENARIOS:
</I>&gt;<i> &#160; &#160; * Instead of giving a colleague a business card, someone gives their
</I>&gt;<i> &#160; &#160; &#160; colleague a URL, and that colleague's user agent extracts basic
</I>&gt;<i> &#160; &#160; &#160; profile information such as the person's name along with references to
</I>&gt;<i> &#160; &#160; &#160; other people that person knows and adds the information into an
</I>&gt;<i> &#160; &#160; &#160; address book.
</I>&gt;<i> &#160; &#160; * A scholar and teacher wants other scholars (and potentially students)
</I>&gt;<i> &#160; &#160; &#160; to be able to easily extract information about who he is to add it to
</I>&gt;<i> &#160; &#160; &#160; their contact databases.
</I>&gt;<i> &#160; &#160; * Fred copies the names of one of his Facebook friends and pastes it
</I>&gt;<i> &#160; &#160; &#160; into his OS address book; the contact information is imported
</I>&gt;<i> &#160; &#160; &#160; automatically.
</I>&gt;<i> &#160; &#160; * Fred copies the names of one of his Facebook friends and pastes it
</I>&gt;<i> &#160; &#160; &#160; into his Webmail's address book feature; the contact information is
</I>&gt;<i> &#160; &#160; &#160; imported automatically.
</I>&gt;<i> &#160; &#160; * David can use the data in a web page to generate a custom browser UI
</I>&gt;<i> &#160; &#160; &#160; for including a person in our address book without using brittle
</I>&gt;<i> &#160; &#160; &#160; screen-scraping.
</I>&gt;<i>
</I>&gt;<i> &#160; REQUIREMENTS:
</I>&gt;<i> &#160; &#160; * A user joining a new social network should be able to identify himself
</I>&gt;<i> &#160; &#160; &#160; to the new social network in way that enables the new social network
</I>&gt;<i> &#160; &#160; &#160; to bootstrap his account from existing published data (e.g. from
</I>&gt;<i> &#160; &#160; &#160; another social nework) rather than having to re-enter it, without the
</I>&gt;<i> &#160; &#160; &#160; new site having to coordinate (or know about) the pre-existing site,
</I>&gt;<i> &#160; &#160; &#160; without the user having to give either sites credentials to the other,
</I>&gt;<i> &#160; &#160; &#160; and without the new site finding out about relationships that the user
</I>&gt;<i> &#160; &#160; &#160; has intentionally kept secret.
</I>&gt;<i> &#160; &#160; &#160; (<A HREF="http://w2spconf.com/2008/papers/s3p2.pdf">http://w2spconf.com/2008/papers/s3p2.pdf</A>)
</I>&gt;<i> &#160; &#160; * Data should not need to be duplicated between machine-readable and
</I>&gt;<i> &#160; &#160; &#160; human-readable forms (i.e. the human-readable form should be
</I>&gt;<i> &#160; &#160; &#160; machine-readable).
</I>&gt;<i> &#160; &#160; * Shouldn't require the consumer to write XSLT or server-side code to
</I>&gt;<i> &#160; &#160; &#160; read the contact information.
</I>&gt;<i> &#160; &#160; * Machine-readable contact information shouldn't be on a separate page
</I>&gt;<i> &#160; &#160; &#160; than human-readable contact information.
</I>&gt;<i> &#160; &#160; * The information should be convertible into a dedicated form (RDF,
</I>&gt;<i> &#160; &#160; &#160; JSON, XML, vCard) in a consistent manner, so that tools that use this
</I>&gt;<i> &#160; &#160; &#160; information separate from the pages on which it is found have a
</I>&gt;<i> &#160; &#160; &#160; standard way of conveying the information.
</I>&gt;<i> &#160; &#160; * Should be possible for different parts of a contact to be given in
</I>&gt;<i> &#160; &#160; &#160; different parts of the page. For example, a page with contact details
</I>&gt;<i> &#160; &#160; &#160; for people in columns (with each row giving the name, telephone
</I>&gt;<i> &#160; &#160; &#160; number, etc) should still have unambiguous grouped contact details
</I>&gt;<i> &#160; &#160; &#160; parseable from it.
</I>&gt;<i> &#160; &#160; * Parsing rules should be unambiguous.
</I>&gt;<i> &#160; &#160; * Should not require changes to HTML5 parsing rules.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; USE CASE: Exposing calendar events so that users can add those events to
</I>&gt;<i> &#160; their calendaring systems.
</I>&gt;<i>
</I>&gt;<i> &#160; SCENARIOS:
</I>&gt;<i> &#160; &#160; * A user visits the Avenue Q site and wants to make a note of when
</I>&gt;<i> &#160; &#160; &#160; tickets go on sale for the tour's stop in his home town. The site says
</I>&gt;<i> &#160; &#160; &#160; &quot;October 3rd&quot;, so the user clicks this and selects &quot;add to calendar&quot;,
</I>&gt;<i> &#160; &#160; &#160; which causes an entry to be added to his calendar.
</I>&gt;<i> &#160; &#160; * A student is making a timeline of important events in Apple's history.
</I>&gt;<i> &#160; &#160; &#160; As he reads Wikipedia entries on the topic, he clicks on dates and
</I>&gt;<i> &#160; &#160; &#160; selects &quot;add to timeline&quot;, which causes an entry to be added to his
</I>&gt;<i> &#160; &#160; &#160; timeline.
</I>&gt;<i> &#160; &#160; * TV guide listings - browsers should be able to expose to the user's
</I>&gt;<i> &#160; &#160; &#160; tools (e.g. calendar, DVR, TV tuner) the times that a TV show is on.
</I>&gt;<i> &#160; &#160; * Paul sometimes gives talks on various topics, and announces them on
</I>&gt;<i> &#160; &#160; &#160; his blog. He would like to mark up these announcements with proper
</I>&gt;<i> &#160; &#160; &#160; scheduling information, so that his readers' software can
</I>&gt;<i> &#160; &#160; &#160; automatically obtain the scheduling information and add it to their
</I>&gt;<i> &#160; &#160; &#160; calendar. Importantly, some of the rendered data might be more
</I>&gt;<i> &#160; &#160; &#160; informal than the machine-readable data required to produce a calendar
</I>&gt;<i> &#160; &#160; &#160; event.
</I>&gt;<i> &#160; &#160; * David can use the data in a web page to generate a custom browser UI
</I>&gt;<i> &#160; &#160; &#160; for adding an event to our calendaring software without using brittle
</I>&gt;<i> &#160; &#160; &#160; screen-scraping.
</I>&gt;<i> &#160; &#160; * <A HREF="http://livebrum.co.uk/:">http://livebrum.co.uk/:</A> the author would like people to be able to
</I>&gt;<i> &#160; &#160; &#160; grab events and event listings from his site and put them on their
</I>&gt;<i> &#160; &#160; &#160; site with as much information as possible retained. &quot;The fantasy would
</I>&gt;<i> &#160; &#160; &#160; be that I could provide code that could be cut and pasted into someone
</I>&gt;<i> &#160; &#160; &#160; else's HTML so the average blogger could re-use and re-share my data.&quot;
</I>&gt;<i> &#160; &#160; * User should be able to subscribe to <A HREF="http://livebrum.co.uk/">http://livebrum.co.uk/</A> then sort
</I>&gt;<i> &#160; &#160; &#160; by date and see the items sorted by event date, not publication date.
</I>&gt;<i>
</I>&gt;<i> &#160; REQUIREMENTS:
</I>&gt;<i> &#160; &#160; * Should be discoverable.
</I>&gt;<i> &#160; &#160; * Should be compatible with existing calendar systems.
</I>&gt;<i> &#160; &#160; * Should be unlikely to get out of sync with prose on the page.
</I>&gt;<i> &#160; &#160; * Shouldn't require the consumer to write XSLT or server-side code to
</I>&gt;<i> &#160; &#160; &#160; read the calendar information.
</I>&gt;<i> &#160; &#160; * Machine-readable event data shouldn't be on a separate page than
</I>&gt;<i> &#160; &#160; &#160; human-readable dates.
</I>&gt;<i> &#160; &#160; * The information should be convertible into a dedicated form (RDF,
</I>&gt;<i> &#160; &#160; &#160; JSON, XML, iCalendar) in a consistent manner, so that tools that use
</I>&gt;<i> &#160; &#160; &#160; this information separate from the pages on which it is found have a
</I>&gt;<i> &#160; &#160; &#160; standard way of conveying the information.
</I>&gt;<i> &#160; &#160; * Should be possible for different parts of an event to be given in
</I>&gt;<i> &#160; &#160; &#160; different parts of the page. For example, a page with calendar events
</I>&gt;<i> &#160; &#160; &#160; in columns (with each row giving the time, date, place, etc) should
</I>&gt;<i> &#160; &#160; &#160; still have unambiguous calendar events parseable from it.
</I>&gt;<i> &#160; &#160; * Should be possible for authors to find out if people are reusing the
</I>&gt;<i> &#160; &#160; &#160; information on their site.
</I>&gt;<i> &#160; &#160; * Code should not be ugly (e.g. should not be mixed in with markup used
</I>&gt;<i> &#160; &#160; &#160; mostly for styling).
</I>&gt;<i> &#160; &#160; * There should be &quot;obvious parsing tools for people to actually do
</I>&gt;<i> &#160; &#160; &#160; anything with the data (other than add an event to a calendar)&quot;.
</I>&gt;<i> &#160; &#160; * Solution should not feel &quot;disconnected&quot; from the Web the way that
</I>&gt;<i> &#160; &#160; &#160; calendar file downloads do.
</I>&gt;<i> &#160; &#160; * Parsing rules should be unambiguous.
</I>&gt;<i> &#160; &#160; * Should not require changes to HTML5 parsing rules.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; USE CASE: Allow users to maintain bibliographies or otherwise keep track
</I>&gt;<i> &#160; of sources of quotes or references.
</I>&gt;<i>
</I>&gt;<i> &#160; SCENARIOS:
</I>&gt;<i> &#160; &#160; * Frank copies a sentence from Wikipedia and pastes it in some word
</I>&gt;<i> &#160; &#160; &#160; processor: it would be great if the word processor offered to
</I>&gt;<i> &#160; &#160; &#160; automatically create a bibliographic entry.
</I>&gt;<i> &#160; &#160; * Patrick keeps a list of his scientific publications on his web site.
</I>&gt;<i> &#160; &#160; &#160; He would like to provide structure within this publications page so
</I>&gt;<i> &#160; &#160; &#160; that Frank can automatically extract this information and use it to
</I>&gt;<i> &#160; &#160; &#160; cite Patrick's papers without having to transcribe the bibliographic
</I>&gt;<i> &#160; &#160; &#160; information.
</I>&gt;<i> &#160; &#160; * A scholar and teacher wants other scholars (and potentially students)
</I>&gt;<i> &#160; &#160; &#160; to be able to easily extract information about what he has published
</I>&gt;<i> &#160; &#160; &#160; to add it to their bibliographic applications.
</I>&gt;<i> &#160; &#160; * A scholar and teacher wants to publish scholarly documents or content
</I>&gt;<i> &#160; &#160; &#160; that includes extensive citations that readers can then automatically
</I>&gt;<i> &#160; &#160; &#160; extract so that they can find them in their local university library.
</I>&gt;<i> &#160; &#160; &#160; These citations may be for a wide range of different sources: an
</I>&gt;<i> &#160; &#160; &#160; interview posted on YouTube, a legal opinion posted on the Supreme
</I>&gt;<i> &#160; &#160; &#160; Court web site, a press release from the White House.
</I>&gt;<i>
</I>&gt;<i> &#160; REQUIREMENTS:
</I>&gt;<i> &#160; &#160; * Machine-readable bibliographic information shouldn't be on a separate
</I>&gt;<i> &#160; &#160; &#160; page than human-readable bibliographic information.
</I>&gt;<i> &#160; &#160; * The information should be convertible into a dedicated form (RDF,
</I>&gt;<i> &#160; &#160; &#160; JSON, XML, BibTex) in a consistent manner, so that tools that use this
</I>&gt;<i> &#160; &#160; &#160; information separate from the pages on which it is found have a
</I>&gt;<i> &#160; &#160; &#160; standard way of conveying the information.
</I>&gt;<i> &#160; &#160; * Parsing rules should be unambiguous.
</I>&gt;<i> &#160; &#160; * Should not require changes to HTML5 parsing rules.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The first two use cases can basically be done today using the hCard and
</I>&gt;<i> hCalendar Microformats, but the parsing rules for these Microformats are
</I>&gt;<i> somewhat vague, and they aren't easily extensible without hardcoding
</I>&gt;<i> extensions into parsers.
</I>&gt;<i>
</I>&gt;<i> I propose, therefore, to take the hCard and vCalendar vocabularies, and
</I>&gt;<i> recast them onto the new microdata model.
</I>&gt;<i>
</I>&gt;<i> &#160; <A HREF="http://www.whatwg.org/specs/web-apps/current-work/#vcard">http://www.whatwg.org/specs/web-apps/current-work/#vcard</A>
</I>&gt;<i> &#160; <A HREF="http://www.whatwg.org/specs/web-apps/current-work/#vevent">http://www.whatwg.org/specs/web-apps/current-work/#vevent</A>
</I>&gt;<i>
</I>&gt;<i> I have used the knowledge and experience collected and carefully
</I>&gt;<i> documented by the Microformats team on their wiki, and written a direct
</I>&gt;<i> mapping of those vocabularies to microdata, along with very explicit
</I>&gt;<i> definitions for how to convert this data to vCard and iCalendar files,
</I>&gt;<i> something which was lacking in the hCard and hCalendar definitions:
</I>&gt;<i>
</I>&gt;<i> &#160; <A HREF="http://www.whatwg.org/specs/web-apps/current-work/#vcard-0">http://www.whatwg.org/specs/web-apps/current-work/#vcard-0</A>
</I>&gt;<i> &#160; <A HREF="http://www.whatwg.org/specs/web-apps/current-work/#icalendar">http://www.whatwg.org/specs/web-apps/current-work/#icalendar</A>
</I>&gt;<i>
</I>&gt;<i> The third use case requires a vocabulary for citations, which isn't
</I>&gt;<i> something for which a widely deployed solution exists in text/html yet.
</I>&gt;<i>
</I>&gt;<i> There are a large number of options:
</I>&gt;<i>
</I>&gt;<i> &#160;- Refer
</I>&gt;<i> &#160;- RIS
</I>&gt;<i> &#160;- BibTeX
</I>&gt;<i> &#160;- Metadata Object Description Schema
</I>&gt;<i> &#160;- Z39.80
</I>&gt;<i> &#160;- Dublin Core and variants thereof
</I>&gt;<i> &#160;- part of Journal Publishing Tag Set Tag Library
</I>&gt;<i> &#160;- part of XML Resume
</I>&gt;<i> &#160;- part of OOXML
</I>&gt;<i> &#160;- part of ODF
</I>&gt;<i> &#160;- part of DocBook
</I>&gt;<i> &#160;- the Ann Arbor District Library XML format
</I>&gt;<i> &#160;- SRU
</I>&gt;<i> &#160;- My alma mater's format (University of Bath reference type)
</I>&gt;<i> &#160;- Bibliontology
</I>&gt;<i> &#160;- The Citation Oriented Bibliographic Vocabulary
</I>&gt;<i> &#160;- ISBD
</I>&gt;<i> &#160;- OpenURL COinS
</I>&gt;<i>
</I>&gt;<i> ...and many more.
</I>&gt;<i>
</I>&gt;<i> A case could probably be made for any one of these. Based on availability
</I>&gt;<i> of tools, simplicity in the format (just name-value pairs vs deeply nested
</I>&gt;<i> trees of typed data), actual use in citation-happy fields, extensibility,
</I>&gt;<i> use of an understandable vocabulary (e.g. &quot;author&quot; vs &quot;%A&quot;), etc, I ended
</I>&gt;<i> up picking the BibTeX vocabulary. It isn't perfect; for example, it's not
</I>&gt;<i> going to be a great solution for citing YouTube clips yet. But since it is
</I>&gt;<i> relatively easy to extend (and indeed, it has historically been extended
</I>&gt;<i> by several groups), it seems like if this feature gets good adoption, we
</I>&gt;<i> will be able to extend it to support more types.
</I>&gt;<i>
</I>&gt;<i> Thus, BibTeX vocabulary for microdata:
</I>&gt;<i>
</I>&gt;<i> &#160; <A HREF="http://www.whatwg.org/specs/web-apps/current-work/#bibtex">http://www.whatwg.org/specs/web-apps/current-work/#bibtex</A>
</I>&gt;<i>
</I>&gt;<i> Exporting microdata to BibTeX:
</I>&gt;<i>
</I>&gt;<i> &#160; <A HREF="http://www.whatwg.org/specs/web-apps/current-work/#bibtex-0">http://www.whatwg.org/specs/web-apps/current-work/#bibtex-0</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The vocabularies and exports are pretty much useless on their own, though.
</I>&gt;<i> There are two ways that make this actually useful:
</I>&gt;<i>
</I>&gt;<i> &#160;- There's a scripting API that exposes the microdata and so people can
</I>&gt;<i> &#160; write generic client-side scripts to expose data on the page, and
</I>&gt;<i>
</I>&gt;<i> &#160;- User agents are now required to export vCard, iCalendar, and BibTeX
</I>&gt;<i> &#160; when someone drags a selection that includes data marked up with those
</I>&gt;<i> &#160; vocabularies.
</I>&gt;<i>
</I>&gt;<i> The latter in particular is IMHO very important. Both of these features
</I>&gt;<i> require browser implementation support, which IMHO is important to making
</I>&gt;<i> anything like this work widely (and has been a sore point with previous
</I>&gt;<i> solutions in this space).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I shall now go through the scenarios and requirements to show how they can
</I>&gt;<i> now be addressed.
</I>&gt;<i>
</I>&gt;<i> &#160; USE CASE: Exposing contact details so that users can add people to their
</I>&gt;<i> &#160; address books or social networking sites.
</I>&gt;<i>
</I>&gt;<i> &#160; SCENARIOS:
</I>&gt;<i> &#160; &#160; * Instead of giving a colleague a business card, someone gives their
</I>&gt;<i> &#160; &#160; &#160; colleague a URL, and that colleague's user agent extracts basic
</I>&gt;<i> &#160; &#160; &#160; profile information such as the person's name along with references to
</I>&gt;<i> &#160; &#160; &#160; other people that person knows and adds the information into an
</I>&gt;<i> &#160; &#160; &#160; address book.
</I>&gt;<i>
</I>&gt;<i> This is possible today without using HTML, just make the URL point to a
</I>&gt;<i> vCard text/directory resource.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * A scholar and teacher wants other scholars (and potentially students)
</I>&gt;<i> &#160; &#160; &#160; to be able to easily extract information about who he is to add it to
</I>&gt;<i> &#160; &#160; &#160; their contact databases.
</I>&gt;<i>
</I>&gt;<i> This is now easy -- given microdata with a vCard, the scholars need but
</I>&gt;<i> drag that information to their contact databases, and assuming those
</I>&gt;<i> contact databases support vCard, they can import the information directly.
</I>&gt;<i> Alternatively, a script can be written in less than 200 lines of code to
</I>&gt;<i> convert the microdata to vCard (or other formats) for direct download. (I
</I>&gt;<i> wrote proof-of-concept scripts using the APIs in the spec to export vCard,
</I>&gt;<i> vEvent, and BibTeX data. The vCard one was about 140 lines; the BibTeX one
</I>&gt;<i> was about 60 lines. The vEvent one is in the spec as an example -- search
</I>&gt;<i> for getCalendar() -- and is less than 40 lines.)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Fred copies the names of one of his Facebook friends and pastes it
</I>&gt;<i> &#160; &#160; &#160; into his OS address book; the contact information is imported
</I>&gt;<i> &#160; &#160; &#160; automatically.
</I>&gt;<i>
</I>&gt;<i> Assuming the OS address book supports vCard, this is now supported
</I>&gt;<i> natively -- all Facebook has to do is encode the data as vCard microdata.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Fred copies the names of one of his Facebook friends and pastes it
</I>&gt;<i> &#160; &#160; &#160; into his Webmail's address book feature; the contact information is
</I>&gt;<i> &#160; &#160; &#160; imported automatically.
</I>&gt;<i>
</I>&gt;<i> If his Webmail supports HTML5 drag and drop (copy-and-paste is defined in
</I>&gt;<i> terms of drag-and-drop), then an HTML5 user agent will include all the
</I>&gt;<i> microdata of the copied selection in a JSON blob, including the vCard
</I>&gt;<i> data. (Actual vCard will also be included.) This is now thus automatically
</I>&gt;<i> supported assuming that the sites both use the same vocabulary, implement
</I>&gt;<i> the drag-and-drop API, and the user has an HTML5 browser.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * David can use the data in a web page to generate a custom browser UI
</I>&gt;<i> &#160; &#160; &#160; for including a person in our address book without using brittle
</I>&gt;<i> &#160; &#160; &#160; screen-scraping.
</I>&gt;<i>
</I>&gt;<i> The spec defines exactly how to get a vCard out of a random HTML page, so
</I>&gt;<i> screen-scraping should no longer be necessary.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; REQUIREMENTS:
</I>&gt;<i> &#160; &#160; * A user joining a new social network should be able to identify himself
</I>&gt;<i> &#160; &#160; &#160; to the new social network in way that enables the new social network
</I>&gt;<i> &#160; &#160; &#160; to bootstrap his account from existing published data (e.g. from
</I>&gt;<i> &#160; &#160; &#160; another social nework) rather than having to re-enter it, without the
</I>&gt;<i> &#160; &#160; &#160; new site having to coordinate (or know about) the pre-existing site,
</I>&gt;<i> &#160; &#160; &#160; without the user having to give either sites credentials to the other,
</I>&gt;<i> &#160; &#160; &#160; and without the new site finding out about relationships that the user
</I>&gt;<i> &#160; &#160; &#160; has intentionally kept secret.
</I>&gt;<i> &#160; &#160; &#160; (<A HREF="http://w2spconf.com/2008/papers/s3p2.pdf">http://w2spconf.com/2008/papers/s3p2.pdf</A>)
</I>&gt;<i>
</I>&gt;<i> Assuming both sites support the same vocabulary and can identify people
</I>&gt;<i> uniquely somehow, this is now possible using microdata (just as it has
</I>&gt;<i> been possible using custom microformat-like vocabularies before, or RDFa
</I>&gt;<i> and other embedded data formats before). Whether sites will support this
</I>&gt;<i> is up to the sites in question; I see no way to force the issue.
</I>&gt;<i>
</I>&gt;<i> As far as I can tell the privacy problem listed above is not intrinsicly
</I>&gt;<i> solved by the microdata solution. I cannot find a solution to those
</I>&gt;<i> problems at the HTML level; they seem inherently application-bound.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Data should not need to be duplicated between machine-readable and
</I>&gt;<i> &#160; &#160; &#160; human-readable forms (i.e. the human-readable form should be
</I>&gt;<i> &#160; &#160; &#160; machine-readable).
</I>&gt;<i>
</I>&gt;<i> By and large, this is met. For some of the more esoteric vEvent features
</I>&gt;<i> (like repeating rules) I have opted for not really supporting them
</I>&gt;<i> natively, but just allowing authors to use the vEvent rules directly. This
</I>&gt;<i> is not really an issue as far as I can tell because those features aren't
</I>&gt;<i> widely used (and even seem to be getting dropped in the newer version of
</I>&gt;<i> iCalendar).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Shouldn't require the consumer to write XSLT or server-side code to
</I>&gt;<i> &#160; &#160; &#160; read the contact information.
</I>&gt;<i>
</I>&gt;<i> While it's possible for people to write custom code to process this data,
</I>&gt;<i> the spec requires browsers to support this natively, making this
</I>&gt;<i> unnecessary for these vocabularies.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Machine-readable contact information shouldn't be on a separate page
</I>&gt;<i> &#160; &#160; &#160; than human-readable contact information.
</I>&gt;<i>
</I>&gt;<i> This requirement is met.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * The information should be convertible into a dedicated form (RDF,
</I>&gt;<i> &#160; &#160; &#160; JSON, XML, vCard) in a consistent manner, so that tools that use this
</I>&gt;<i> &#160; &#160; &#160; information separate from the pages on which it is found have a
</I>&gt;<i> &#160; &#160; &#160; standard way of conveying the information.
</I>&gt;<i>
</I>&gt;<i> I haven't defined a way to convert this data to XML, but I have provided
</I>&gt;<i> explicit ways to convert to JSON, RDF, and vCard.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Should be possible for different parts of a contact to be given in
</I>&gt;<i> &#160; &#160; &#160; different parts of the page. For example, a page with contact details
</I>&gt;<i> &#160; &#160; &#160; for people in columns (with each row giving the name, telephone
</I>&gt;<i> &#160; &#160; &#160; number, etc) should still have unambiguous grouped contact details
</I>&gt;<i> &#160; &#160; &#160; parseable from it.
</I>&gt;<i>
</I>&gt;<i> Using subject=&quot;&quot;, this is possible.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Parsing rules should be unambiguous.
</I>&gt;<i>
</I>&gt;<i> I hope the parsing rules described in the spec are clear enough. Please
</I>&gt;<i> let me know if there are any problems.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Should not require changes to HTML5 parsing rules.
</I>&gt;<i>
</I>&gt;<i> The HTML5 parsing rules did not change.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; USE CASE: Exposing calendar events so that users can add those events to
</I>&gt;<i> &#160; their calendaring systems.
</I>&gt;<i>
</I>&gt;<i> &#160; SCENARIOS:
</I>&gt;<i> &#160; &#160; * A user visits the Avenue Q site and wants to make a note of when
</I>&gt;<i> &#160; &#160; &#160; tickets go on sale for the tour's stop in his home town. The site says
</I>&gt;<i> &#160; &#160; &#160; &quot;October 3rd&quot;, so the user clicks this and selects &quot;add to calendar&quot;,
</I>&gt;<i> &#160; &#160; &#160; which causes an entry to be added to his calendar.
</I>&gt;<i>
</I>&gt;<i> As demonstrated in the spec, it is not relatively easy to expose this data
</I>&gt;<i> and requires little code to convert this data into a form supported by
</I>&gt;<i> most calendars. In addition, this can also be supported using
</I>&gt;<i> copy-and-paste or drag-and-drop if the source, destination, and browser
</I>&gt;<i> all cooperate according to the spec.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * A student is making a timeline of important events in Apple's history.
</I>&gt;<i> &#160; &#160; &#160; As he reads Wikipedia entries on the topic, he clicks on dates and
</I>&gt;<i> &#160; &#160; &#160; selects &quot;add to timeline&quot;, which causes an entry to be added to his
</I>&gt;<i> &#160; &#160; &#160; timeline.
</I>&gt;<i>
</I>&gt;<i> I couldn't find a way to address this as described unless Wikipedia and
</I>&gt;<i> the timeline utility cooperated directly. (Drag-and-drop and copy-and-
</I>&gt;<i> paste cases can be easily supported, though.)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * TV guide listings - browsers should be able to expose to the user's
</I>&gt;<i> &#160; &#160; &#160; tools (e.g. calendar, DVR, TV tuner) the times that a TV show is on.
</I>&gt;<i>
</I>&gt;<i> Assuming TV guide listings can be described in vEvent form, this is now
</I>&gt;<i> possible using drag-and-drop and copy-and-paste.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Paul sometimes gives talks on various topics, and announces them on
</I>&gt;<i> &#160; &#160; &#160; his blog. He would like to mark up these announcements with proper
</I>&gt;<i> &#160; &#160; &#160; scheduling information, so that his readers' software can
</I>&gt;<i> &#160; &#160; &#160; automatically obtain the scheduling information and add it to their
</I>&gt;<i> &#160; &#160; &#160; calendar. Importantly, some of the rendered data might be more
</I>&gt;<i> &#160; &#160; &#160; informal than the machine-readable data required to produce a calendar
</I>&gt;<i> &#160; &#160; &#160; event.
</I>&gt;<i>
</I>&gt;<i> This seems easily handled now.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * David can use the data in a web page to generate a custom browser UI
</I>&gt;<i> &#160; &#160; &#160; for adding an event to our calendaring software without using brittle
</I>&gt;<i> &#160; &#160; &#160; screen-scraping.
</I>&gt;<i>
</I>&gt;<i> The example in the spec demonstrates that this is now possible with
</I>&gt;<i> relatively little code.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * <A HREF="http://livebrum.co.uk/:">http://livebrum.co.uk/:</A> the author would like people to be able to
</I>&gt;<i> &#160; &#160; &#160; grab events and event listings from his site and put them on their
</I>&gt;<i> &#160; &#160; &#160; site with as much information as possible retained. &quot;The fantasy would
</I>&gt;<i> &#160; &#160; &#160; be that I could provide code that could be cut and pasted into someone
</I>&gt;<i> &#160; &#160; &#160; else's HTML so the average blogger could re-use and re-share my data.&quot;
</I>&gt;<i>
</I>&gt;<i> I have included an example in the spec from livebrum.co.uk showing how
</I>&gt;<i> this is possible.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * User should be able to subscribe to <A HREF="http://livebrum.co.uk/">http://livebrum.co.uk/</A> then sort
</I>&gt;<i> &#160; &#160; &#160; by date and see the items sorted by event date, not publication date.
</I>&gt;<i>
</I>&gt;<i> This isn't directly possible, but if a tool exists that can sort event
</I>&gt;<i> data by date, then given the event data it seems possible to do this
</I>&gt;<i> easily. For example, a Web Calendar product could support parsing
</I>&gt;<i> microdata vEvents out of a Web page and then could offer to subscribe to
</I>&gt;<i> such a page as a feed.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; REQUIREMENTS:
</I>&gt;<i> &#160; &#160; * Should be discoverable.
</I>&gt;<i>
</I>&gt;<i> This isn't met by the microdata vEvent vocabulary intrinsically. I expect
</I>&gt;<i> that a convention will arise where people put little icons near their
</I>&gt;<i> microdata saying &quot;look, we have vEvent data you can drag to your
</I>&gt;<i> calendar!&quot; or some such.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Should be compatible with existing calendar systems.
</I>&gt;<i>
</I>&gt;<i> The vEvent part of iCalendar is well established, so this seems met, at
</I>&gt;<i> least in principle. The details (e.g. drag and drop support) probably need
</I>&gt;<i> some work.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Should be unlikely to get out of sync with prose on the page.
</I>&gt;<i>
</I>&gt;<i> By making the prose on the page the source for the microdata, this seems
</I>&gt;<i> resolved.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Shouldn't require the consumer to write XSLT or server-side code to
</I>&gt;<i> &#160; &#160; &#160; read the calendar information.
</I>&gt;<i>
</I>&gt;<i> This is mostly met in the same way as for contact data.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Machine-readable event data shouldn't be on a separate page than
</I>&gt;<i> &#160; &#160; &#160; human-readable dates.
</I>&gt;<i>
</I>&gt;<i> This is achieved using inline microdata.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * The information should be convertible into a dedicated form (RDF,
</I>&gt;<i> &#160; &#160; &#160; JSON, XML, iCalendar) in a consistent manner, so that tools that use
</I>&gt;<i> &#160; &#160; &#160; this information separate from the pages on which it is found have a
</I>&gt;<i> &#160; &#160; &#160; standard way of conveying the information.
</I>&gt;<i>
</I>&gt;<i> Output in all those formats except raw XML is explicitly supported in the
</I>&gt;<i> spec.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Should be possible for different parts of an event to be given in
</I>&gt;<i> &#160; &#160; &#160; different parts of the page. For example, a page with calendar events
</I>&gt;<i> &#160; &#160; &#160; in columns (with each row giving the time, date, place, etc) should
</I>&gt;<i> &#160; &#160; &#160; still have unambiguous calendar events parseable from it.
</I>&gt;<i>
</I>&gt;<i> subject=&quot;&quot; supports this.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Should be possible for authors to find out if people are reusing the
</I>&gt;<i> &#160; &#160; &#160; information on their site.
</I>&gt;<i>
</I>&gt;<i> This isn't met. I couldn't find a good way to do this. When JavaScript is
</I>&gt;<i> enabled, drag-and-drop, copy-and-paste, and other mechanisms can be
</I>&gt;<i> detected and logged via script, but really there's no good way to detect
</I>&gt;<i> all uses of microdata. (Providing a ping=&quot;&quot;-like feature for this seems
</I>&gt;<i> like overkill and wouldn't help with non-end-user use anyway.)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Code should not be ugly (e.g. should not be mixed in with markup used
</I>&gt;<i> &#160; &#160; &#160; mostly for styling).
</I>&gt;<i>
</I>&gt;<i> This appears to be met.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * There should be &quot;obvious parsing tools for people to actually do
</I>&gt;<i> &#160; &#160; &#160; anything with the data (other than add an event to a calendar)&quot;.
</I>&gt;<i>
</I>&gt;<i> There aren't any obvious tools yet, but since two separate implementations
</I>&gt;<i> arose in less than 24 hours from the point where the microdata stuff was
</I>&gt;<i> released, it seems like this will prove easy enough to do.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Solution should not feel &quot;disconnected&quot; from the Web the way that
</I>&gt;<i> &#160; &#160; &#160; calendar file downloads do.
</I>&gt;<i>
</I>&gt;<i> This seems met.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Parsing rules should be unambiguous.
</I>&gt;<i> &#160; &#160; * Should not require changes to HTML5 parsing rules.
</I>&gt;<i>
</I>&gt;<i> The same applies here as with vCard.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; USE CASE: Allow users to maintain bibliographies or otherwise keep track
</I>&gt;<i> &#160; of sources of quotes or references.
</I>&gt;<i>
</I>&gt;<i> &#160; SCENARIOS:
</I>&gt;<i> &#160; &#160; * Frank copies a sentence from Wikipedia and pastes it in some word
</I>&gt;<i> &#160; &#160; &#160; processor: it would be great if the word processor offered to
</I>&gt;<i> &#160; &#160; &#160; automatically create a bibliographic entry.
</I>&gt;<i>
</I>&gt;<i> This will require new code in the word processor, but the information, in
</I>&gt;<i> an HTML5-compliant browser according to this proposal, would include the
</I>&gt;<i> information required to do this.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Patrick keeps a list of his scientific publications on his web site.
</I>&gt;<i> &#160; &#160; &#160; He would like to provide structure within this publications page so
</I>&gt;<i> &#160; &#160; &#160; that Frank can automatically extract this information and use it to
</I>&gt;<i> &#160; &#160; &#160; cite Patrick's papers without having to transcribe the bibliographic
</I>&gt;<i> &#160; &#160; &#160; information.
</I>&gt;<i>
</I>&gt;<i> This seems to be handled directly now if the page is written using the
</I>&gt;<i> BibTeX vocabulary.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * A scholar and teacher wants other scholars (and potentially students)
</I>&gt;<i> &#160; &#160; &#160; to be able to easily extract information about what he has published
</I>&gt;<i> &#160; &#160; &#160; to add it to their bibliographic applications.
</I>&gt;<i>
</I>&gt;<i> This seems met in the same way.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * A scholar and teacher wants to publish scholarly documents or content
</I>&gt;<i> &#160; &#160; &#160; that includes extensive citations that readers can then automatically
</I>&gt;<i> &#160; &#160; &#160; extract so that they can find them in their local university library.
</I>&gt;<i> &#160; &#160; &#160; These citations may be for a wide range of different sources: an
</I>&gt;<i> &#160; &#160; &#160; interview posted on YouTube, a legal opinion posted on the Supreme
</I>&gt;<i> &#160; &#160; &#160; Court web site, a press release from the White House.
</I>&gt;<i>
</I>&gt;<i> Not all of these types are immediately supported by the BibTeX vocabulary.
</I>&gt;<i> I recommend that we extend the BibTeX set over time if this feature gains
</I>&gt;<i> a critical mass.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; REQUIREMENTS:
</I>&gt;<i> &#160; &#160; * Machine-readable bibliographic information shouldn't be on a separate
</I>&gt;<i> &#160; &#160; &#160; page than human-readable bibliographic information.
</I>&gt;<i>
</I>&gt;<i> This is met.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * The information should be convertible into a dedicated form (RDF,
</I>&gt;<i> &#160; &#160; &#160; JSON, XML, BibTex) in a consistent manner, so that tools that use this
</I>&gt;<i> &#160; &#160; &#160; information separate from the pages on which it is found have a
</I>&gt;<i> &#160; &#160; &#160; standard way of conveying the information.
</I>&gt;<i>
</I>&gt;<i> This is met explicitly for three of those types; for other types it can
</I>&gt;<i> be done easily enough also though it is not defined in the spec.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; * Parsing rules should be unambiguous.
</I>&gt;<i> &#160; &#160; * Should not require changes to HTML5 parsing rules.
</I>&gt;<i>
</I>&gt;<i> These are met in the same way as with vCard and vEvent microdata.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> In conclusion, to address these use cases and scenarios I've introduced
</I>&gt;<i> three vocabularies based on past practices -- vCard, vEvent, and BibTeX --
</I>&gt;<i> to the HTML5 specification, and I've defined how these vocabularies work
</I>&gt;<i> in the context of the drag-and-drop model, which I believe is the core
</I>&gt;<i> part of this proposal that has been lacking in other proposals previously.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> A number of further use cases remain to be examined, including one with
</I>&gt;<i> scenarios regarding validating custom vocabularies and allowing editors to
</I>&gt;<i> provide help with custom vocabularies. I will send further e-mail next
</I>&gt;<i> week as I address them.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Ian Hickson &#160; &#160; &#160; &#160; &#160; &#160; &#160; U+1047E &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;)\._.,--....,'``. &#160; &#160;fL
</I>&gt;<i> <A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A> &#160; &#160; &#160; U+263A &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;/, &#160; _.. \ &#160; _\ &#160;;`._ ,.
</I>&gt;<i> Things that are impossible just take longer. &#160; `._.-(,_..'--(,_..'`-.;.'
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="062106.html">[whatwg] Exposing known data types in a reusable way
</A></li>
	<LI>Next message: <A HREF="062107.html">[whatwg] Providing enhanced search results
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62148">[ date ]</a>
              <a href="thread.html#62148">[ thread ]</a>
              <a href="subject.html#62148">[ subject ]</a>
              <a href="author.html#62148">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
