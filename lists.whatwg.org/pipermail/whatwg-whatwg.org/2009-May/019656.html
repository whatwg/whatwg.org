<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Micro-data/Microformats/RDFa Interoperability	Requirement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Micro-data/Microformats/RDFa%20Interoperability%0A%09Requirement&In-Reply-To=%3C4A039BB1.4050703%40digitalbazaar.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019635.html">
   <LINK REL="Next"  HREF="019667.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Micro-data/Microformats/RDFa Interoperability	Requirement</H1>
<!--htdig_noindex-->
    <B>Manu Sporny</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Micro-data/Microformats/RDFa%20Interoperability%0A%09Requirement&In-Reply-To=%3C4A039BB1.4050703%40digitalbazaar.com%3E"
       TITLE="[whatwg] Micro-data/Microformats/RDFa Interoperability	Requirement">msporny at digitalbazaar.com
       </A><BR>
    <I>Thu May  7 19:40:49 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019635.html">[whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement
</A></li>
        <LI>Next message: <A HREF="019667.html">[whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19656">[ date ]</a>
              <a href="thread.html#19656">[ thread ]</a>
              <a href="subject.html#19656">[ subject ]</a>
              <a href="author.html#19656">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> On Thu, 7 May 2009, Manu Sporny wrote:
</I>&gt;&gt;<i> So, this argument isn't &quot;Don't use @class at all&quot;, but rather &quot;Don't 
</I>&gt;&gt;<i> create ambiguity in @class where there is none currently.&quot;
</I>&gt;<i> 
</I>&gt;<i> I agree that if HTML5 re-uses vocabulary &quot;root&quot; terms from Microformats, 
</I>&gt;<i> it should either not use class=&quot;&quot;, or should do so in a way that does not 
</I>&gt;<i> cause existing consumers of Microformats to treat existing content in a 
</I>&gt;<i> way that is not compliant with HTML5.
</I>
Good, there's agreement there, then. :)

&gt;&gt;<i> Not re-defining things to mean something different than the Microformats
</I>&gt;&gt;<i> community has already defined should be a design requirement.
</I>&gt;<i> 
</I>&gt;<i> That requirement has been broken for some time, because the definitions of 
</I>&gt;<i> rel=&quot;license&quot; and rel=&quot;tag&quot; in HTML5 differ from those on the Microformats 
</I>&gt;<i> wiki. (The definitions in HTML5 are closer to what existing 
</I>&gt;<i> implementations and content rely on, though, so I don't think it violates 
</I>&gt;<i> the requirement to &quot;not cause existing consumers of Microformats to treat 
</I>&gt;<i> existing content in a way that is not compliant with HTML5&quot;.)
</I>
That's certainly not what the WHATWG blog stated just 20 days ago for
rel=&quot;license&quot;:

<A HREF="http://blog.whatwg.org/the-road-to-html-5-link-relations#rel-license">http://blog.whatwg.org/the-road-to-html-5-link-relations#rel-license</A>
<A HREF="http://blog.whatwg.org/the-road-to-html-5-link-relations#rel-tag">http://blog.whatwg.org/the-road-to-html-5-link-relations#rel-tag</A>

and the spec doesn't seem to clearly outline the difference in
definition either (at least, that's not my reading of the spec):

<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-license">http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-license</A>
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-tag">http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-tag</A>

Am I looking at the wrong spec? How can the definitions of rel=&quot;license&quot;
and rel=&quot;tag&quot; be different when Mark Pilgrim has stated very clearly
that they were standardized in the Microformats community and the HTML5
spec makes no mention of any sort of difference in definition from HTML5
and Microformats?

&gt;&gt;&gt;<i> and RDFa because any use of the &quot;rel&quot; attribute can do the same.
</I>&gt;&gt;<i> No, not /any/ use - /specific/ uses of rel, and then only if the HTML5 
</I>&gt;&gt;<i> micro-data solution does something that is counter to how RDFa uses the 
</I>&gt;&gt;<i> attribute or the value.
</I>&gt;<i> 
</I>&gt;<i> Actually as far as I can tell, it really is any use.
</I>
No it isn't, more below. :)

&gt;<i> The RDFa specification is very confusing to me (e.g. I don't understand 
</I>&gt;<i> how the normative processing model is separate from the section &quot;RDFa 
</I>&gt;<i> Processing in detail&quot;), so I may be misinterpreting things, but as far as 
</I>&gt;<i> I can tell:
</I>&gt;<i> 
</I>&gt;<i>   &lt;html xmlns=&quot;<A HREF="http://www.w3.org/1999/xhtml&quot;">http://www.w3.org/1999/xhtml&quot;</A>&gt;
</I>&gt;<i>    &lt;head&gt;
</I>&gt;<i>     &lt;base href=&quot;<A HREF="http://example.com/&quot;/">http://example.com/&quot;/</A>&gt;
</I>&gt;<i>     &lt;link about=&quot;<A HREF="http://example.net/&quot;">http://example.net/&quot;</A>
</I>&gt;<i>           rel=&quot;dc.author&quot; 
</I>&gt;<i>           href=&quot;<A HREF="http://a.example.org/&quot;/">http://a.example.org/&quot;/</A>&gt;
</I>&gt;<i>    ...
</I>&gt;<i> 
</I>&gt;<i> ...will result in the following triple:
</I>&gt;<i> 
</I>&gt;<i>    &lt;<A HREF="http://example.net/">http://example.net/</A>&gt; &lt;<A HREF="http://example.com/dc.author">http://example.com/dc.author</A>&gt; &lt;<A HREF="http://a.example.org/">http://a.example.org/</A>&gt; .
</I>
Two corrections:

The first is that an RDFa processor would not generate this triple. It
wouldn't know what &quot;dc.author&quot; meant. As a general design principle,
RDFa ignores all values it doesn't know anything about. The processor
would detect the subject being set via the @about, then it would go
searching for a known CURIE value or (in XHTML1.1+RDFa) a known
@rel/@rev reserved attribute value (such as &quot;next&quot;, &quot;stylesheet&quot;, etc.).
Since &quot;dc.author&quot; is neither a known CURIE value or a known reserved
word, it would exit the LINK element without creating any triples.

The second is that you are assuming that @rel/@rev reserved attribute
values are the same for all XML and non-XML family languages - they
aren't. Reserved words such as &quot;next&quot; and &quot;prev&quot; can be defined per
language - or, none can be defined... it's up to the language adopting
RDFa to define those values. For a list of the current values, you can see:

<A HREF="http://www.w3.org/TR/rdfa-syntax/#relValues">http://www.w3.org/TR/rdfa-syntax/#relValues</A>

&gt;&gt;<i> The most important issue with RDFa is not re-using attributes already 
</I>&gt;&gt;<i> defined by XHTML1.1+RDFa without them having the exact same use in 
</I>&gt;&gt;<i> HTML5. Attributes like @about, @property, @datatype, @resource, @content 
</I>&gt;&gt;<i> and @typeof.
</I>&gt;<i> 
</I>&gt;<i> Given that HTML4 already has five of RDFa's 10 attributes (not counting 
</I>&gt;<i> prefix declaration mechanisms), and defines processing for these that 
</I>&gt;<i> conflicts with RDFa's (e.g. as described below), it's not clear to me what 
</I>&gt;<i> benefit there would be in completely avoiding the other five attributes if 
</I>&gt;<i> there was a need to use such an attribute.
</I>
Note that I didn't say &quot;completely avoid&quot; attributes... I said &quot;re-using
attributes already defined by XHTML1.1+RDFa without them having the
exact same use in HTML5&quot;. At this point, I don't see any conflict
between XHTML1.1+RDFa and HTML5.

I was asking for semantic equivalence when adopting attributes, not
complete avoidance.

&gt;<i> For example, it would be somewhat presumptious of RDFa to prevent any 
</I>&gt;<i> future version of HTML from being able to use the word &quot;resource&quot; as an 
</I>&gt;<i> attribute name. What if we want to extend the forms features to have an 
</I>&gt;<i> XForms &quot;datatype&quot; compatibility layer; why should we not be able to use 
</I>&gt;<i> the &quot;datatype&quot; and &quot;typeof&quot; attributes?
</I>
As long as their legacy nature was preserved, and those uses didn't
create ambiguity in RDFa processors and semantic equivalence was
ensured, I don't see why they shouldn't be re-used.

&gt;<i> Surely this is what namespaces were intended for.
</I>
Uhh, what sort of namespaces are we talking about here? xmlns-style,
namespaces? I thought those were on their way out in HTML5? Henri seems
to hate them with a passion.

Are we talking about the implied HTML5 document namespace? If so, in a
world where there is no RDFa in HTML5, I'm guessing that web developers
are going to shove XHTML1.1+RDFa into HTML5 documents anyway, and at
that point the document namespace isn't going to mean much - which is
one of the reasons that I'm so concerned about HTML5 re-defining
attributes and attribute values.

&gt;&gt;&gt;<i> Similarly, the rules for handling CURIEs in RDFa, especially in 
</I>&gt;&gt;&gt;<i> rel=&quot;&quot;, are already incompatible with HTML4 and HTML5 rules. 
</I>
No, they are not, as explained above in the @rel reserved attribute
values discussion.

&gt;&gt;&gt;<i> For 
</I>&gt;&gt;&gt;<i> example, the way that &quot;n:next&quot; and &quot;next&quot; can end up being equivalent 
</I>&gt;&gt;&gt;<i> in RDFa processors despite being different per HTML rules (assuming an 
</I>&gt;&gt;&gt;<i> &quot;n&quot; namespace is appropriately declared).
</I>&gt;&gt;<i> If they end up being equivalent in RDFa, the RDFa author did so 
</I>&gt;&gt;<i> explicitly when declaring the 'n' prefix to the default prefix mapping 
</I>&gt;&gt;<i> and we should not second-guess the authors intentions.
</I>&gt;<i> 
</I>&gt;<i> My only point is that it is not compatible with HTML4 and HTML5, because 
</I>&gt;<i> they end up with different results in the same situation (one can treat 
</I>&gt;<i> two different values as the same, while the other can treat two different 
</I>&gt;<i> values as different).
</I>
It is only not compatible with HTML5 if this community chooses for it to
not be compatible with HTML5. Do you agree or disagree that we shouldn't
second guess the authors intentions if they go out of their way to
declare a mapping for 'n'?

&gt;<i> Another example would be the following:
</I>&gt;<i> 
</I>&gt;<i>   &lt;html xmlns=&quot;<A HREF="http://www.w3.org/1999/xhtml&quot;">http://www.w3.org/1999/xhtml&quot;</A>&gt;
</I>&gt;<i>    &lt;head about=&quot;&quot;&gt;
</I>&gt;<i>     &lt;link rel=&quot;stylesheet&quot; href=&quot;...&quot;&gt;
</I>&gt;<i>     &lt;link rel=&quot;STYLESHEET&quot; href=&quot;...&quot;&gt;
</I>&gt;<i>     ...
</I>&gt;<i> 
</I>&gt;<i> ...which would be treated as two different triples in an RDFa processor, 
</I>&gt;<i> but treated as two identical imports according to an HTML4/5 processor.
</I>
Hmmm, this is a good technical point, but may be a bug in the spec. My
processor doesn't do a case-insensitive match, but perhaps the RDFa
processor should do a case-insensitive match for reserved words. I know
we discussed this at one point, but can't remember what we decided. I'll
post something about this to the RDFa mailing list to see if anyone
there can remember.

If we do a case-insensitive match, which we probably should, the point
still stands - the semantic meaning of the statements are equivalent.

&gt;<i> Another example would be:
</I>&gt;<i> 
</I>&gt;<i>   &lt;html xmlns=&quot;<A HREF="http://www.w3.org/1999/xhtml&quot;">http://www.w3.org/1999/xhtml&quot;</A>&gt;
</I>&gt;<i>    &lt;head about=&quot;&quot;&gt;
</I>&gt;<i>     &lt;link rel=&quot;stylesheet alternate next&quot; href=&quot;...&quot;&gt;
</I>&gt;<i>     ...
</I>&gt;<i> 
</I>&gt;<i> ...which in RDFa would cause the following triples to be created:
</I>&gt;<i> 
</I>&gt;<i>    &lt;&gt; &lt;<A HREF="http://www.w3.org/1999/xhtml/vocab#stylesheet">http://www.w3.org/1999/xhtml/vocab#stylesheet</A>&gt; &lt;...&gt; .
</I>&gt;<i>    &lt;&gt; &lt;<A HREF="http://www.w3.org/1999/xhtml/vocab#alternate">http://www.w3.org/1999/xhtml/vocab#alternate</A>&gt; &lt;...&gt; .
</I>&gt;<i>    &lt;&gt; &lt;<A HREF="http://www.w3.org/1999/xhtml/vocab#next">http://www.w3.org/1999/xhtml/vocab#next</A>&gt; &lt;...&gt; .
</I>&gt;<i> 
</I>&gt;<i> ...but according to HTML4/5, is really only two relations (an alternativee 
</I>&gt;<i> stylesheet and the next document).
</I>
That's a very strained argument. The contents of @rel are supposed to be
LinkTypes, which are space-separated keywords:

<A HREF="http://www.w3.org/TR/html4/types.html#type-links">http://www.w3.org/TR/html4/types.html#type-links</A>

It just so happens that when you use &quot;alternate&quot; and &quot;stylesheet&quot;
together that the browser is supposed to recognize that an alternate
stylesheet exists.

I've always thought that this was an abuse of the rel attribute - there
should have been an &quot;alternate-stylesheet&quot; LinkType, but what's done is
done.

AFAIK, there is nothing in the HTML4 or HTML5 spec that states that for
rel=&quot;alternate stylesheet&quot; that there is only one relation. There are
three relationships because there are three separate LinkTypes  specified.

&gt;&gt;&gt;<i> I don't think there's much that can be done about this (this isn't 
</I>&gt;&gt;&gt;<i> something that we can change HTML5 rules for; browser vendors would 
</I>&gt;&gt;&gt;<i> not accept having to resolve QNames in rel=&quot;&quot; attributes as part of 
</I>&gt;&gt;&gt;<i> processing, for one).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This has been explained many[2] times[3] now[4], CURIEs are not QNames. 
</I>&gt;&gt;<i> If you have an issue with CURIEs, please state the exact issue that you 
</I>&gt;&gt;<i> have with CURIEs and don't use a false analogy.
</I>&gt;<i> 
</I>&gt;<i> Browser vendors would not accept having to resolve prefixes in attribute 
</I>&gt;<i> values as part of processing link relations.
</I>
Why not? They're already required to resolve values using an external
document for CSS when processing all @class attribute. That is a far
steeper requirement than being required to use an internal mapping
mechanism when processing a few attributes.

&gt;<i> (What's the difference between mapping to a full URI and mapping to a 
</I>&gt;<i> namespace,local pair? 
</I>
Not much, but a QName is technically much more than that - which is why
I take issue with members of this community continuing to assert that
CURIEs and QNames are equivalent. A QName can be used anywhere in an XML
document, except for in attributes:

<A HREF="http://www.w3.org/TR/REC-xml-names/#ns-qualnames">http://www.w3.org/TR/REC-xml-names/#ns-qualnames</A>

The namespace and local part are required to be validated.

A CURIE can only be used in very specific attributes defined by a
language (such as XHTML1.1+RDFa or HTML5) and are not required to be
validated:

<A HREF="http://www.w3.org/TR/curie/#sec_1.1.">http://www.w3.org/TR/curie/#sec_1.1.</A>

They differ in:

- The location that they can be used.
- Whether or not they are required to be validated.

The only similarity they have is that they can be expanded to full URIs.

Saying that QNames and CURIEs are equivalent is like saying XHTML2 and
HTML5 are equivalent because they both use &lt;a href=&quot;...&quot;&gt;. Just because
two technologies have one thing in common doesn't make them equivalent.

&gt;<i> The problem with QNames in attributes is that they 
</I>&gt;<i> require the attribute processor to have information from the namespace 
</I>&gt;<i> processor, and as far as I can tell this continues to exist in RDFa.)
</I>
If that's really the problem, why don't you just have a prefix processor
that the attribute processor relies on and drop the namespace processor
entirely?

Why is it such a big deal for the attribute processor to have a
reference to the prefix processor?

-- manu

-- 
Manu Sporny
President/CEO - Digital Bazaar, Inc.
blog: A Collaborative Distribution Model for Music
<A HREF="http://blog.digitalbazaar.com/2009/04/04/collaborative-music-model/">http://blog.digitalbazaar.com/2009/04/04/collaborative-music-model/</A>

</PRE>




<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019635.html">[whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement
</A></li>
	<LI>Next message: <A HREF="019667.html">[whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19656">[ date ]</a>
              <a href="thread.html#19656">[ thread ]</a>
              <a href="subject.html#19656">[ subject ]</a>
              <a href="author.html#19656">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
