<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] page refresh and resubmitting POST state
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20page%20refresh%20and%20resubmitting%20POST%20state&In-Reply-To=%3CBAY116-DAV12D426E624917723A0062FA4550%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019936.html">
   <LINK REL="Next"  HREF="019940.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] page refresh and resubmitting POST state</H1>
<!--htdig_noindex-->
    <B>Mike Wilson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20page%20refresh%20and%20resubmitting%20POST%20state&In-Reply-To=%3CBAY116-DAV12D426E624917723A0062FA4550%40phx.gbl%3E"
       TITLE="[whatwg] page refresh and resubmitting POST state">mikewse at hotmail.com
       </A><BR>
    <I>Sun May 24 17:05:58 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019936.html">[whatwg] page refresh and resubmitting POST state
</A></li>
        <LI>Next message: <A HREF="019940.html">[whatwg] page refresh and resubmitting POST state
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19937">[ date ]</a>
              <a href="thread.html#19937">[ thread ]</a>
              <a href="subject.html#19937">[ subject ]</a>
              <a href="author.html#19937">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Jonas Sicking wrote:
&gt;<i> On Sat, May 23, 2009 at 4:29 AM, Mike Wilson 
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mikewse at hotmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; I was thinking about the resubmit problem in a general
</I>&gt;<i> &gt; context, specifically how browsers could make it possible
</I>&gt;<i> &gt; for web authors to create POSTing pages that avoids giving
</I>&gt;<i> &gt; the dreaded &quot;do you want to resubmit&quot; question at all,
</I>&gt;<i> &gt; independent of operation.
</I>&gt;<i> 
</I>&gt;<i> Can you explain more in detail why PRG doesn't solve this problem? My
</I>&gt;<i> understanding is that the &quot;do you want to resubmit&quot; UI comes up when
</I>&gt;<i> sites *doesn't* use PRG, and the UI would disappear if they had used
</I>&gt;<i> it.
</I>
PRG solves the immediate problem of getting rid of the 
resubmission dialog, but creates another problem: loss 
of page state. Sometimes this is not a problem, but 
often when you work with web applications, it is.

So, an author will have to choose between two evils; 
either go with plain POST, which will keep the page 
state but cause resubmission questions, or go PRG
which will eliminate the questions but lose page state.

At first, the loss of page state in PRG may seem 
solvable by tucking a handle to that data inside the
URL, but this scheme gets complex and breaks down when 
you want to separate multi-window operations (and are 
facing New Window in IE or Duplicate Tab in Chrome), or 
when you want bookmarkable URLs.

There is a whole spectrum of possible improvements that
could help out in these cases, but they all involve
defining something about state.

F ex, plain POST pages have to ask their question
because they don't know if the page state they carry is
&quot;harmless&quot; data needed only for telling the server what
to display, or if it is something that will trigger an
undoable action. Usually the page state is a mix of
both these. So, one improvement could be making it 
possible to specify (per input element) if the state is
for redisplay or for action. Then pressing Refresh could
safely send the redisplay state without asking the
resubmission question, and leave out the action state.
(Assuming we want the semantics of the Refresh button to
be Redisplay and not Redo.)

At the other end of the spectrum we could help authors
using PRG, to associate state with their GET pages 
without adding to the URL.
This could f ex be solved by giving the server the
possibility to associate some state with each page 
load (delivered in headers or body), which is then
sent back to the server (in header) on any request that
leaves that page, including page refresh.
Web storage is touching on the same problem, mentioning 
the limitations of cookies, but AFAICT depends on 
script and has no transparent UA/server transfer.

These are just examples of constructs that could be
possible. I hope I have provided enough information to
determine if this is indeed a subject that is relevant
for HTML5.

Best regards
Mike

</PRE>




























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019936.html">[whatwg] page refresh and resubmitting POST state
</A></li>
	<LI>Next message: <A HREF="019940.html">[whatwg] page refresh and resubmitting POST state
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19937">[ date ]</a>
              <a href="thread.html#19937">[ thread ]</a>
              <a href="subject.html#19937">[ subject ]</a>
              <a href="author.html#19937">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
