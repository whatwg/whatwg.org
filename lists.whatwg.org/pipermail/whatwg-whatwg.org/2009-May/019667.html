<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Micro-data/Microformats/RDFa%0A%09Interoperability%09Requirement&In-Reply-To=%3CPine.LNX.4.62.0905081833080.7824%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019656.html">
   <LINK REL="Next"  HREF="019677.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Micro-data/Microformats/RDFa%0A%09Interoperability%09Requirement&In-Reply-To=%3CPine.LNX.4.62.0905081833080.7824%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement">ian at hixie.ch
       </A><BR>
    <I>Fri May  8 11:57:44 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019656.html">[whatwg] Micro-data/Microformats/RDFa Interoperability	Requirement
</A></li>
        <LI>Next message: <A HREF="019677.html">[whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19667">[ date ]</a>
              <a href="thread.html#19667">[ thread ]</a>
              <a href="subject.html#19667">[ subject ]</a>
              <a href="author.html#19667">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 7 May 2009, Manu Sporny wrote:
&gt;<i> 
</I>&gt;<i> That's certainly not what the WHATWG blog stated just 20 days ago for
</I>&gt;<i> rel=&quot;license&quot; [...]
</I>
The WHATWG blog is an open platform on which anyone can post, and content 
is not vetted for correctness. Mark can sometimes make mistakes. Feel free 
to post a correction. :-)


&gt;<i> and the spec doesn't seem to clearly outline the difference in 
</I>&gt;<i> definition either (at least, that's not my reading of the spec):
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-license">http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-license</A>
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-tag">http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-tag</A>
</I>
Actually I just looked at the rel-tag faq and found that it disagrees with 
what Tantek had told me, so (assuming the faq is normative or that the 
rel-tag spec does mention this somewhere that I didn't find) the specs do 
match here.

For rel-license, the HTML5 spec defines the value to apply to the content 
and not the page as a whole. This is a recent change to match actual 
practice and I will be posting about this shortly.


&gt;<i> &gt; The RDFa specification is very confusing to me (e.g. I don't 
</I>&gt;<i> &gt; understand how the normative processing model is separate from the 
</I>&gt;<i> &gt; section &quot;RDFa Processing in detail&quot;), so I may be misinterpreting 
</I>&gt;<i> &gt; things, but as far as I can tell:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;   &lt;html xmlns=&quot;<A HREF="http://www.w3.org/1999/xhtml&quot;">http://www.w3.org/1999/xhtml&quot;</A>&gt;
</I>&gt;<i> &gt;    &lt;head&gt;
</I>&gt;<i> &gt;     &lt;base href=&quot;<A HREF="http://example.com/&quot;/">http://example.com/&quot;/</A>&gt;
</I>&gt;<i> &gt;     &lt;link about=&quot;<A HREF="http://example.net/&quot;">http://example.net/&quot;</A>
</I>&gt;<i> &gt;           rel=&quot;dc.author&quot; 
</I>&gt;<i> &gt;           href=&quot;<A HREF="http://a.example.org/&quot;/">http://a.example.org/&quot;/</A>&gt;
</I>&gt;<i> &gt;    ...
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; ...will result in the following triple:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    &lt;<A HREF="http://example.net/">http://example.net/</A>&gt; &lt;<A HREF="http://example.com/dc.author">http://example.com/dc.author</A>&gt; &lt;<A HREF="http://a.example.org/">http://a.example.org/</A>&gt; .
</I>&gt;<i> 
</I>&gt;<i> Two corrections:
</I>&gt;<i> 
</I>&gt;<i> The first is that an RDFa processor would not generate this triple.
</I>
My apologies, I misinterpreted 5.4.4. Use of CURIEs in Specific Attributes 
to mean that rel=&quot;&quot; was a relative-uri-or-curie attribute. (5.4.4. Use of 
CURIEs in Specific Attributes says it's &quot;link-type-or-curie&quot;, but 5.4.3. 
General Use of CURIEs in Attributes doesn't list that as a possibility and 
at the end says that rel=&quot;&quot; is an exception only insofar as it supports 
specific link types as well, which I interpreted differently.)


&gt;<i> &gt; For example, it would be somewhat presumptious of RDFa to prevent any 
</I>&gt;<i> &gt; future version of HTML from being able to use the word &quot;resource&quot; as 
</I>&gt;<i> &gt; an attribute name. What if we want to extend the forms features to 
</I>&gt;<i> &gt; have an XForms &quot;datatype&quot; compatibility layer; why should we not be 
</I>&gt;<i> &gt; able to use the &quot;datatype&quot; and &quot;typeof&quot; attributes?
</I>&gt;<i> 
</I>&gt;<i> As long as their legacy nature was preserved, and those uses didn't 
</I>&gt;<i> create ambiguity in RDFa processors and semantic equivalence was 
</I>&gt;<i> ensured, I don't see why they shouldn't be re-used.
</I>
Ah, ok. If such attributes are re-used, I suppose that it should be 
possible to make sure that it is possible to re-use them in a way that 
doesn't conflict with RDFa (e.g. by triggering the non-curie-non-uri 
behaviour for property=&quot;&quot; or by having authors who want RDFa compatibility 
use xmlns:http=&quot;http:&quot; declarations or some such).

Noted.


&gt;<i> &gt; Surely this is what namespaces were intended for.
</I>&gt;<i> 
</I>&gt;<i> Uhh, what sort of namespaces are we talking about here? xmlns-style, 
</I>&gt;<i> namespaces?
</I>
The idea of XML Namespaces was to allow people to extend vocabularies
with a new features without clashing with older features by putting the 
new names in new namespaces. It seems odd that RDFa, a W3C technology for 
an XML vocabulary, didn't use namespaces to do it.


&gt;<i> &gt;&gt;&gt; For example, the way that &quot;n:next&quot; and &quot;next&quot; can end up being 
</I>&gt;<i> &gt;&gt;&gt; equivalent in RDFa processors despite being different per HTML rules 
</I>&gt;<i> &gt;&gt;&gt; (assuming an &quot;n&quot; namespace is appropriately declared).
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; If they end up being equivalent in RDFa, the RDFa author did so 
</I>&gt;<i> &gt;&gt; explicitly when declaring the 'n' prefix to the default prefix 
</I>&gt;<i> &gt;&gt; mapping and we should not second-guess the authors intentions.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; My only point is that it is not compatible with HTML4 and HTML5, 
</I>&gt;<i> &gt; because they end up with different results in the same situation (one 
</I>&gt;<i> &gt; can treat two different values as the same, while the other can treat 
</I>&gt;<i> &gt; two different values as different).
</I>&gt;<i> 
</I>&gt;<i> It is only not compatible with HTML5 if this community chooses for it to 
</I>&gt;<i> not be compatible with HTML5. Do you agree or disagree that we shouldn't 
</I>&gt;<i> second guess the authors intentions if they go out of their way to 
</I>&gt;<i> declare a mapping for 'n'?
</I>
I don't think that's a relevant question. My point is that it is possible 
in RDFa to put two strings that have different semantics in HTML4 and yet 
have them have the same semantics in RDFa. This means RDFa is not 
compatible with HTML4.


&gt;<i> &gt; Another example would be:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;   &lt;html xmlns=&quot;<A HREF="http://www.w3.org/1999/xhtml&quot;">http://www.w3.org/1999/xhtml&quot;</A>&gt;
</I>&gt;<i> &gt;    &lt;head about=&quot;&quot;&gt;
</I>&gt;<i> &gt;     &lt;link rel=&quot;stylesheet alternate next&quot; href=&quot;...&quot;&gt;
</I>&gt;<i> &gt;     ...
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; ...which in RDFa would cause the following triples to be created:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    &lt;&gt; &lt;<A HREF="http://www.w3.org/1999/xhtml/vocab#stylesheet">http://www.w3.org/1999/xhtml/vocab#stylesheet</A>&gt; &lt;...&gt; .
</I>&gt;<i> &gt;    &lt;&gt; &lt;<A HREF="http://www.w3.org/1999/xhtml/vocab#alternate">http://www.w3.org/1999/xhtml/vocab#alternate</A>&gt; &lt;...&gt; .
</I>&gt;<i> &gt;    &lt;&gt; &lt;<A HREF="http://www.w3.org/1999/xhtml/vocab#next">http://www.w3.org/1999/xhtml/vocab#next</A>&gt; &lt;...&gt; .
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; ...but according to HTML4/5, is really only two relations (an 
</I>&gt;<i> &gt; alternativee stylesheet and the next document).
</I>&gt;<i> 
</I>&gt;<i> That's a very strained argument. The contents of @rel are supposed to be 
</I>&gt;<i> LinkTypes, which are space-separated keywords:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.w3.org/TR/html4/types.html#type-links">http://www.w3.org/TR/html4/types.html#type-links</A>
</I>&gt;<i> 
</I>&gt;<i> It just so happens that when you use &quot;alternate&quot; and &quot;stylesheet&quot; 
</I>&gt;<i> together that the browser is supposed to recognize that an alternate 
</I>&gt;<i> stylesheet exists.
</I>&gt;<i>
</I>&gt;<i> I've always thought that this was an abuse of the rel attribute - there 
</I>&gt;<i> should have been an &quot;alternate-stylesheet&quot; LinkType, but what's done is 
</I>&gt;<i> done.
</I>&gt;<i> 
</I>&gt;<i> AFAIK, there is nothing in the HTML4 or HTML5 spec that states that for 
</I>&gt;<i> rel=&quot;alternate stylesheet&quot; that there is only one relation. There are 
</I>&gt;<i> three relationships because there are three separate LinkTypes 
</I>&gt;<i> specified.
</I>
It's very clear in HTML5. In HTML4 it's there but about as vague as the 
rest of HTML4. What HTML4 says is academic though since this is 
well-established implementation practice.

Whether it is inconvenient or not, the fact remains that legacy 
implementations (and HTML5, and arguably HTML4) require a processing here 
that is not semantically equivalent to RDFa's.


&gt;<i> &gt; Browser vendors would not accept having to resolve prefixes in 
</I>&gt;<i> &gt; attribute values as part of processing link relations.
</I>&gt;<i> 
</I>&gt;<i> Why not?
</I>
You would have to ask them. I tend not to argue with implementor feedback. 
If they tell me they won't do something, I don't tell them to do it.

This by the way is the complaint regarding &quot;QNames in content&quot; and &quot;QNames 
in attribute values&quot;. CURIEs don't change this, which is why you'll find a 
lot of people just say that CURIEs are no different to QNames.


&gt;<i> They differ in:
</I>&gt;<i> 
</I>&gt;<i> - The location that they can be used.
</I>
The complaint with QNames is when they are used in places they're not 
supposed to be used, like content or attribute values.


&gt;<i> - Whether or not they are required to be validated.
</I>
QNames in content or attribute values are typically not required to be 
validated either.


&gt;<i> The only similarity they have is that they can be expanded to full URIs.
</I>
That's the complaint. (Specifically, that they can do so in a dynamic 
fashion -- e.g. what happens if a user changes a prefix=&quot;&quot; or xmlns:*=&quot;&quot; 
attribute value dynamically from script? Do all the RDFa triples change 
too?)


&gt;<i> &gt; The problem with QNames in attributes is that they require the 
</I>&gt;<i> &gt; attribute processor to have information from the namespace processor, 
</I>&gt;<i> &gt; and as far as I can tell this continues to exist in RDFa.)
</I>&gt;<i> 
</I>&gt;<i> If that's really the problem, why don't you just have a prefix processor 
</I>&gt;<i> that the attribute processor relies on and drop the namespace processor 
</I>&gt;<i> entirely?
</I>
There are two fundamental problems, one is with having the prefix 
processor be used by code that is in the XML parser and code that is very 
separate from the XML parser (e.g. based on DOM code) -- implementors find 
combining the two to be highly impractical -- and the other is that the 
prefix processor has to handle dynamic changes to prefixes.

These are the problems with QNames-in-content and QNames-in-attributes and 
they apply equally to CURIEs.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>




<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019656.html">[whatwg] Micro-data/Microformats/RDFa Interoperability	Requirement
</A></li>
	<LI>Next message: <A HREF="019677.html">[whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19667">[ date ]</a>
              <a href="thread.html#19667">[ thread ]</a>
              <a href="subject.html#19667">[ subject ]</a>
              <a href="author.html#19667">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
