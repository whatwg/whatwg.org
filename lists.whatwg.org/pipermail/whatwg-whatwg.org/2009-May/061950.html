<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Micro-data/Microformats/RDFa%0A%09Interoperability%09Requirement&In-Reply-To=%3C4A063DF9.5010608%40digitalbazaar.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061940.html">
   <LINK REL="Next"  HREF="061948.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement</H1>
<!--htdig_noindex-->
    <B>Manu Sporny</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Micro-data/Microformats/RDFa%0A%09Interoperability%09Requirement&In-Reply-To=%3C4A063DF9.5010608%40digitalbazaar.com%3E"
       TITLE="[whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement">msporny at digitalbazaar.com
       </A><BR>
    <I>Sat May  9 19:37:45 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061940.html">[whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement
</A></li>
        <LI>Next message: <A HREF="061948.html">[whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61950">[ date ]</a>
              <a href="thread.html#61950">[ thread ]</a>
              <a href="subject.html#61950">[ subject ]</a>
              <a href="author.html#61950">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> On Thu, 7 May 2009, Manu Sporny wrote:
</I>&gt;&gt;<i> That's certainly not what the WHATWG blog stated just 20 days ago for
</I>&gt;&gt;<i> rel=&quot;license&quot; [...]
</I>&gt;<i> 
</I>&gt;<i> The WHATWG blog is an open platform on which anyone can post, and content 
</I>&gt;<i> is not vetted for correctness. Mark can sometimes make mistakes. Feel free 
</I>&gt;<i> to post a correction. :-)
</I>
Well, the problem is that I don't know who to correct - you or Mark.
It's unclear to me if it's the spec that needs correcting or the blog post?

&gt;<i> For rel-license, the HTML5 spec defines the value to apply to the content 
</I>&gt;<i> and not the page as a whole. This is a recent change to match actual 
</I>&gt;<i> practice and I will be posting about this shortly.
</I>
Hmm, yes - after re-reading the definitions, they do differ...
especially in how the hAudio Microformat uses rel=&quot;license&quot;. I find the
HTML5 one to be very problematic. Microformats rel=&quot;license&quot; is better,
and the RDFa use of rel=&quot;license&quot; is even better (I can go into the
reasoning if those on the list are curious).

For example, in HTML5, how do you express 20 items on a page, each with
separate licenses? How do you differentiate a page that has 3 primary
topics, each with a separate license?

In short - what's the purpose of rel=&quot;license&quot; if a machine can't use it
to help the person browsing identify important sections of a page?
Afterall, it's only machine readable, isn't it? What's the sense in
having rel=&quot;license&quot; if a machine can't be sure of the section of the
page to which it applies?

&gt;&gt;&gt;<i> Surely this is what namespaces were intended for.
</I>&gt;&gt;<i> Uhh, what sort of namespaces are we talking about here? xmlns-style, 
</I>&gt;&gt;<i> namespaces?
</I>&gt;<i> 
</I>&gt;<i> The idea of XML Namespaces was to allow people to extend vocabularies
</I>&gt;<i> with a new features without clashing with older features by putting the 
</I>&gt;<i> new names in new namespaces. It seems odd that RDFa, a W3C technology for 
</I>&gt;<i> an XML vocabulary, didn't use namespaces to do it.
</I>
As you are aware, the RDF in XHTML 1.1 Task Force was created to figure
out a way to express RDF via XHTML. The standard mechanism for extending
XHTML is XHTML Modularization[1]. From the XHTML modularization spec:

&quot;&quot;&quot;
This modularization provides a means for subsetting and extending
XHTML... this specification is intended for use by language designers as
they construct new XHTML Family Markup Languages.
&quot;&quot;&quot;

We used the standard mechanism, specifically designed to extend XHTML
vocabularies, approved by the XHTML working group, the W3C TAG and a
number of other W3C and public web groups, to extend the language.

Had we been tasked with expressing RDF in XML, we would have called it
RDF/XML[2]... :)

&gt;&gt;&gt;&gt;&gt;<i> For example, the way that &quot;n:next&quot; and &quot;next&quot; can end up being 
</I>&gt;&gt;&gt;&gt;&gt;<i> equivalent in RDFa processors despite being different per HTML rules 
</I>&gt;&gt;&gt;&gt;&gt;<i> (assuming an &quot;n&quot; namespace is appropriately declared).
</I>&gt;&gt;&gt;&gt;<i> If they end up being equivalent in RDFa, the RDFa author did so 
</I>&gt;&gt;&gt;&gt;<i> explicitly when declaring the 'n' prefix to the default prefix 
</I>&gt;&gt;&gt;&gt;<i> mapping and we should not second-guess the authors intentions.
</I>&gt;&gt;&gt;<i> My only point is that it is not compatible with HTML4 and HTML5, 
</I>&gt;&gt;&gt;<i> because they end up with different results in the same situation (one 
</I>&gt;&gt;&gt;<i> can treat two different values as the same, while the other can treat 
</I>&gt;&gt;&gt;<i> two different values as different).
</I>&gt;&gt;<i> It is only not compatible with HTML5 if this community chooses for it to 
</I>&gt;&gt;<i> not be compatible with HTML5. Do you agree or disagree that we shouldn't 
</I>&gt;&gt;<i> second guess the authors intentions if they go out of their way to 
</I>&gt;&gt;<i> declare a mapping for 'n'?
</I>&gt;<i> 
</I>&gt;<i> I don't think that's a relevant question. My point is that it is possible 
</I>&gt;<i> in RDFa to put two strings that have different semantics in HTML4 and yet 
</I>&gt;<i> have them have the same semantics in RDFa. This means RDFa is not 
</I>&gt;<i> compatible with HTML4.
</I>
Of course it's relevant - the whole reason there are two strings with
the same semantics, in your rather contrived example, is because the
author went out of their way to make the statement. This doesn't happen
by accident - the web page author intended it to happen.

More importantly - you've just made the same statement twice in RDFa and
once in HTML4. I can't think of a single technically significant
negative repercussion for generating a duplicate triple in a corner
case. Why does one duplicated triple in a contrived example mean that
the entirety of RDFa isn't compatible with HTML4?

More importantly, if you see this as an issue, why don't you see the
semantic difference between rel=&quot;alternate&quot;[3] in HTML4 and
rel=&quot;alternate&quot;[4] in HTML5 as being an issue? That case is even worse,
exactly the same string - entirely different semantics.

If HTML4 validation is a concern, there's even a preliminary HTML4+RDFa
DTD that is available:

<A HREF="http://www.w3.org/MarkUp/DTD/html4-rdfa-1.dtd">http://www.w3.org/MarkUp/DTD/html4-rdfa-1.dtd</A>

I do get your point - but why should we be concerned about it?

&gt;&gt;&gt;<i> Browser vendors would not accept having to resolve prefixes in 
</I>&gt;&gt;&gt;<i> attribute values as part of processing link relations.
</I>&gt;&gt;<i> Why not?
</I>&gt;<i> 
</I>&gt;<i> You would have to ask them. I tend not to argue with implementor feedback. 
</I>&gt;<i> If they tell me they won't do something, I don't tell them to do it.
</I>
I would expect the primary editor for a web specification to understand
the reason that every single one of their implementors refuse to
implement a technique that they use elsewhere in their products. Since
I've successfully implemented this stuff[5] - I know how easy it is to
do what we're proposing.

I'd love to ask eacho of them why it is perceived as difficult and
discuss possible solutions. A public e-mail would be best so that we can
discuss on this list, but a private e-mail would be fine as well. So
please, if your organization has decided to not resolve prefixes in
attribute values, please send me an e-mail.

After two weeks, I'll check back in with the mailing list to report on
the number of responses I received and a summary of the reasoning
(anonymized, of course) for the benefit of this community.

&gt;<i> This by the way is the complaint regarding &quot;QNames in content&quot; and &quot;QNames 
</I>&gt;<i> in attribute values&quot;. CURIEs don't change this, which is why you'll find a 
</I>&gt;<i> lot of people just say that CURIEs are no different to QNames.
</I>
We are having a technical discussion and therefore it behooves us to be
technically accurate when describing a particular technology. It is
technically inaccurate to refer to CURIEs and QNames interchangeably
just as it is technically inaccurate to refer to HTML5 and HTML4
interchangeably.

I should also point out that there has been no technical reason
expressed as to why &quot;the complaint&quot; is valid.

&gt;&gt;<i> The only similarity they have is that they can be expanded to full URIs.
</I>&gt;<i> 
</I>&gt;<i> That's the complaint. (Specifically, that they can do so in a dynamic 
</I>&gt;<i> fashion -- e.g. what happens if a user changes a prefix=&quot;&quot; or xmlns:*=&quot;&quot; 
</I>&gt;<i> attribute value dynamically from script? Do all the RDFa triples change 
</I>&gt;<i> too?)
</I>
If you run the RDFa processing rules right after the change, yes, of
course a subset of the RDFa triples would change. Why is this a
technical issue?

Since the author has decided, via code, to change the prefix mappings -
they are making a statement that they would like the semantics of the
page to change.

Put another way, if you do this:

var color=&quot;red&quot;;

and then use 'color' in your CSS styling via Javascript for one
iteration of your page render (say to set some red text). Then you go
and change the color to 'green', and do a second iteration of your page
render - wouldn't you expect the colors that were 'red' to change to
'green'?

We do this sort of thing all the time with CSS. What is the exact
technical issue with this approach?

&gt;&gt;&gt;<i> The problem with QNames in attributes is that they require the 
</I>&gt;&gt;&gt;<i> attribute processor to have information from the namespace processor, 
</I>&gt;&gt;&gt;<i> and as far as I can tell this continues to exist in RDFa.)
</I>&gt;&gt;<i> If that's really the problem, why don't you just have a prefix processor 
</I>&gt;&gt;<i> that the attribute processor relies on and drop the namespace processor 
</I>&gt;&gt;<i> entirely?
</I>&gt;<i> 
</I>&gt;<i> There are two fundamental problems, one is with having the prefix 
</I>&gt;<i> processor be used by code that is in the XML parser and code that is very 
</I>&gt;<i> separate from the XML parser (e.g. based on DOM code) -- implementors find 
</I>&gt;<i> combining the two to be highly impractical 
</I>
I find that hard to believe. It may be valid, but we have a number of
entirely SAX-based and DOM-based implementations of RDFa in XHTML done
in a variety of languages (C, Javascript, Python, Perl, Ruby, C#, etc.)
and not one of our implementors complained about this &quot;problem&quot;.

&gt;<i> and the other is that the 
</I>&gt;<i> prefix processor has to handle dynamic changes to prefixes.
</I>
Again, why is this a technical issue?

-- manu

[1]<A HREF="http://www.w3.org/TR/2008/REC-xhtml-modularization-20081008/">http://www.w3.org/TR/2008/REC-xhtml-modularization-20081008/</A>
[2]<A HREF="http://www.w3.org/TR/rdf-syntax-grammar/">http://www.w3.org/TR/rdf-syntax-grammar/</A>
[3]<A HREF="http://www.w3.org/TR/html401/types.html#type-links">http://www.w3.org/TR/html401/types.html#type-links</A>
[4]<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-alternate">http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#link-type-alternate</A>
[5]<A HREF="http://rdfa.digitalbazaar.com/librdfa/trac/">http://rdfa.digitalbazaar.com/librdfa/trac/</A>

-- 
Manu Sporny
President/CEO - Digital Bazaar, Inc.
blog: A Collaborative Distribution Model for Music
<A HREF="http://blog.digitalbazaar.com/2009/04/04/collaborative-music-model/">http://blog.digitalbazaar.com/2009/04/04/collaborative-music-model/</A>


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061940.html">[whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement
</A></li>
	<LI>Next message: <A HREF="061948.html">[whatwg] Micro-data/Microformats/RDFa	Interoperability	Requirement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61950">[ date ]</a>
              <a href="thread.html#61950">[ thread ]</a>
              <a href="subject.html#61950">[ subject ]</a>
              <a href="author.html#61950">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
