<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] innerStaticHTML
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20innerStaticHTML&In-Reply-To=%3Cop.utiol9s92q99of%40id-c0981%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019612.html">
   <LINK REL="Next"  HREF="019618.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] innerStaticHTML</H1>
<!--htdig_noindex-->
    <B>Jo&#227;o Eiras</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20innerStaticHTML&In-Reply-To=%3Cop.utiol9s92q99of%40id-c0981%3E"
       TITLE="[whatwg] innerStaticHTML">joaoe at opera.com
       </A><BR>
    <I>Wed May  6 09:40:47 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019612.html">[whatwg] innerStaticHTML
</A></li>
        <LI>Next message: <A HREF="019618.html">[whatwg] innerStaticHTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19613">[ date ]</a>
              <a href="thread.html#19613">[ thread ]</a>
              <a href="subject.html#19613">[ subject ]</a>
              <a href="author.html#19613">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
&gt;<i> PROPOSAL
</I>&gt;<i>
</I>&gt;<i> In addition to innerHTML, DOM elements should expose an
</I>&gt;<i> innerStaticHTML property.  When set, innerStaticHTML should behave the
</I>&gt;<i> same as innerHTML except that scripts should not execute (even in
</I>&gt;<i> event handlers) and plug-ins should not be created.
</I>&gt;<i>
</I>
As part of a browser implementation team I can clearly say that the cases where scripts should, or should not run are very hard to implement in a cross browser compatible way. Marking those scripts or plugins are non-executable would make everything much more complex and bug prone. Also, it would be impossible to do that for a onevent attribute without all sorts of problems.
The suggestion of marking content as non-executable doesn't solve anything, because after setting innerStaticHTML another script might serialize a piece of the affected DOM to string and back to a tree, and the code could then execute, which would not be wanted.

The only viable solution, from my point of view, would be for the UA to parse the string, and remove all untrusted content from the result tree before appending to the document.
That would mean removing all onevent attributes, all scripts elements, all plugins, etc. Basically, letting the UA implement all the filtering.



-- 

Jo&#227;o Eiras
Core Developer, Opera Software ASA, <A HREF="http://www.opera.com/">http://www.opera.com/</A>
</PRE>



















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019612.html">[whatwg] innerStaticHTML
</A></li>
	<LI>Next message: <A HREF="019618.html">[whatwg] innerStaticHTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19613">[ date ]</a>
              <a href="thread.html#19613">[ thread ]</a>
              <a href="subject.html#19613">[ subject ]</a>
              <a href="author.html#19613">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
