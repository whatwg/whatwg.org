<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Worker lifecycle
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Worker%20lifecycle&In-Reply-To=%3CPine.LNX.4.62.0905280731420.5710%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061935.html">
   <LINK REL="Next"  HREF="062245.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Worker lifecycle</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Worker%20lifecycle&In-Reply-To=%3CPine.LNX.4.62.0905280731420.5710%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Worker lifecycle">ian at hixie.ch
       </A><BR>
    <I>Thu May 28 02:29:24 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061935.html">[whatwg] MessagePorts in Web Workers: implementation feedback
</A></li>
        <LI>Next message: <A HREF="062245.html">[whatwg] Worker lifecycle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62244">[ date ]</a>
              <a href="thread.html#62244">[ thread ]</a>
              <a href="subject.html#62244">[ subject ]</a>
              <a href="author.html#62244">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
I just checked in a substantial change to the lifetime model for workers. 
Instead of being bound to their ports, which became especially hard to 
implement for shared workers, they now just live as long as the Document 
that created them (all of the Documents that obtained them, for shared 
workers), with this ownership inheriting to nested workers.

I also removed the various ways to observe the lifetime, namely .active 
and the 'close' events.

I hope this will make the shared workers easier to implement. Please let 
me know if this screws anything up for dedicated workers.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061935.html">[whatwg] MessagePorts in Web Workers: implementation feedback
</A></li>
	<LI>Next message: <A HREF="062245.html">[whatwg] Worker lifecycle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62244">[ date ]</a>
              <a href="thread.html#62244">[ thread ]</a>
              <a href="subject.html#62244">[ subject ]</a>
              <a href="author.html#62244">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
