<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] First or last Content-Type header?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20First%20or%20last%20Content-Type%20header%3F&In-Reply-To=%3C26628B55-678F-4ED8-BF72-B6D78C332641%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020004.html">
   <LINK REL="Next"  HREF="020013.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] First or last Content-Type header?</H1>
<!--htdig_noindex-->
    <B>Geoffrey Sneddon</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20First%20or%20last%20Content-Type%20header%3F&In-Reply-To=%3C26628B55-678F-4ED8-BF72-B6D78C332641%40googlemail.com%3E"
       TITLE="[whatwg] First or last Content-Type header?">foolistbar at googlemail.com
       </A><BR>
    <I>Sun May 31 04:55:21 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020004.html">[whatwg] First or last Content-Type header?
</A></li>
        <LI>Next message: <A HREF="020013.html">[whatwg] First or last Content-Type header?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20009">[ date ]</a>
              <a href="thread.html#20009">[ thread ]</a>
              <a href="subject.html#20009">[ subject ]</a>
              <a href="author.html#20009">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On 30 May 2009, at 23:20, Adam Barth wrote:

&gt;<i> In editing the content sniffing Internet Draft today, I noticed the
</I>&gt;<i> draft uses the *first* Content-Type header.  Internet Explorer uses
</I>&gt;<i> the first Content-Type header, but Firefox and Google Chrome use the
</I>&gt;<i> last Content-Type header.  (I don't recall off-hand which Safari or
</I>&gt;<i> Opera use.)  Because the sniffing algorithm is more similar to the
</I>&gt;<i> algorithms used by Firefox and Google Chrome, I've changed this aspect
</I>&gt;<i> to match them as well.
</I>
Firefox, Safari and Opera use the last header in all cases where there  
is a header that is only expected to appear once (i.e., doesn't take a  
#rule as a value), and have a list of all headers that they expect to  
appear only once. IE use the first header in all cases where it  
doesn't expect the header to appear more than once (i.e., a header  
like &quot;X-Foobar&quot; appearing twice returns the value of the first one). I  
don't know about Chrome, because that only appeared after I last did  
any work on HTTP parsing (but it normally follows Firefox from the  
small amount of experimentation I've done with it since). I, on the  
whole, would be tempted to take the first header, and use a list of  
headers that you expect to only appear once (i.e., a mix of behaviours).


--
Geoffrey Sneddon
&lt;<A HREF="http://gsnedders.com/">http://gsnedders.com/</A>&gt;

</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020004.html">[whatwg] First or last Content-Type header?
</A></li>
	<LI>Next message: <A HREF="020013.html">[whatwg] First or last Content-Type header?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20009">[ date ]</a>
              <a href="thread.html#20009">[ thread ]</a>
              <a href="subject.html#20009">[ subject ]</a>
              <a href="author.html#20009">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
