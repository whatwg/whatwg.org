<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] innerStaticHTML
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20innerStaticHTML&In-Reply-To=%3C7789133a0905110916l3ef56bb2y57d7483ec09ef617%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019623.html">
   <LINK REL="Next"  HREF="019698.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] innerStaticHTML</H1>
<!--htdig_noindex-->
    <B>Adam Barth</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20innerStaticHTML&In-Reply-To=%3C7789133a0905110916l3ef56bb2y57d7483ec09ef617%40mail.gmail.com%3E"
       TITLE="[whatwg] innerStaticHTML">whatwg at adambarth.com
       </A><BR>
    <I>Mon May 11 09:16:23 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019623.html">[whatwg] innerStaticHTML
</A></li>
        <LI>Next message: <A HREF="019698.html">[whatwg] innerStaticHTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19695">[ date ]</a>
              <a href="thread.html#19695">[ thread ]</a>
              <a href="subject.html#19695">[ subject ]</a>
              <a href="author.html#19695">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, May 6, 2009 at 9:40 AM, Jo&#227;o Eiras &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">joaoe at opera.com</A>&gt; wrote:
&gt;<i> The suggestion of marking content as non-executable doesn't solve anything, because after setting innerStaticHTML another script might serialize a piece of the affected DOM to string and back to a tree, and the code could then execute, which would not be wanted.
</I>
Yes, we can't make it impossible for web developers to shoot
themselves in the foot.  We also can't stop them from calling eval on
a query string argument.  However, innerStaticHTML does make it easier
to display untrusted HTML to the user.

&gt;<i> The only viable solution, from my point of view, would be for the UA to parse the string, and remove all untrusted content from the result tree before appending to the document.
</I>
This is what I meant to suggest.

&gt;<i> That would mean removing all onevent attributes, all scripts elements, all plugins, etc. Basically, letting the UA implement all the filtering.
</I>
Exactly.  As you say, the UA is in a much better position to do this
correctly than an individual web site.

On Thu, May 7, 2009 at 3:24 AM, Kristof Zelechovski
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">giecrilj at stegny.2a.pl</A>&gt; wrote:
&gt;<i> If toStaticHTML prunes everything it is not sure of, the danger of a known
</I>&gt;<i> language construct suddenly introducing active content is negligible.  I am
</I>&gt;<i> sure HTML5 specification editors bear that aspect in mind and so shall they
</I>&gt;<i> in the future.
</I>
Even if you believe that we've already committed to not introducing
active content that breaks toStaticHTML (which I'm not convinced we
have, especially because I don't know what algorithm it uses), that
still leaves the performance and correctness issues of parsing the
untrusted content twice.  Parsing the content once is more efficient
and more predictable.

Adam
</PRE>



<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019623.html">[whatwg] innerStaticHTML
</A></li>
	<LI>Next message: <A HREF="019698.html">[whatwg] innerStaticHTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19695">[ date ]</a>
              <a href="thread.html#19695">[ thread ]</a>
              <a href="subject.html#19695">[ subject ]</a>
              <a href="author.html#19695">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
