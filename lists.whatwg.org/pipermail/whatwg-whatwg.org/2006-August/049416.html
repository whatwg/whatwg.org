<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Some comments on server-sent events
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Some%20comments%20on%20server-sent%20events&In-Reply-To=%3Cop.teqxffe6aw9dld%40id-c0020.oslo.opera.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049415.html">
   <LINK REL="Next"  HREF="049438.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Some comments on server-sent events</H1>
<!--htdig_noindex-->
    <B>Anne van Kesteren</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Some%20comments%20on%20server-sent%20events&In-Reply-To=%3Cop.teqxffe6aw9dld%40id-c0020.oslo.opera.com%3E"
       TITLE="[whatwg] Some comments on server-sent events">fora at annevankesteren.nl
       </A><BR>
    <I>Wed Aug 23 09:58:17 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="049415.html">[whatwg] Workflow and web applications
</A></li>
        <LI>Next message: <A HREF="049438.html">[whatwg] Some comments on server-sent events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49416">[ date ]</a>
              <a href="thread.html#49416">[ thread ]</a>
              <a href="subject.html#49416">[ subject ]</a>
              <a href="author.html#49416">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>* The event-source element has no DOM interface while it has some
attributes that probably warrant one.

* The specification doesn't define when the onevent event handler is
invoked nor when the event event is dispatched. They are only defined.
It's also unclear which interface they implement, et cetera.

* A problem with the event-source element is that the resource is loaded
before you can attach event listeners to the document. Perhaps the loading
should start after the load event is dispatched? Unless the element was
inserted into the document of course (that's actually also a bit unclear).

* Since event sources can be attached using other ways than using the
event-source element the Target field should be amended to take that into
account. (Some sentences there don't make sense for an event source
attached to an object that is not an event-source element.)

* Regarding that, I'd be interested in hearing the use case for allowing
any EventTarget to be a source for server-sent events.

* Event namespaces throughout should be changed to match DOM Level 3
Events. That basically means that <A HREF="http://www.w3.org/2001/xml-events">http://www.w3.org/2001/xml-events</A> is
gone.

* Perhaps RemoteEvent should be replaced with a reference to CustomEvent
  from DOM Level 3 Events which offers the same type of functionality?

* What happens when the event given in the Event field doesn't match the
NCName production as required by DOM Level 3 Events such as in the example
in section 7.1.7? (It uses the event &quot;stock change&quot;.)

* At the moment the BNF does need error handling because you could have a
&quot;;&quot; at the start of a line without any data following (or a new line for
that matter).

* It might be better to replace the BNF with something similar as the HTML
parsing specification currently has. That provides a much more clear
processing model.

* What happens for other line feed characters? Are they treated as fields?
Won't that give lots of problems for authors coding in non-Unix formats?
HTTP for example allows both.

* &quot;For each non-blank, non-comment line, the field name is first
taken[...]&quot; doesn't cover what happens to command lines.

* &quot;The ctrlKey field would be ignored[...]&quot; should probably say
&quot;keyIdentifier&quot; as that's what's used in the example.


-- 
Anne van Kesteren
&lt;<A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>&gt;
&lt;<A HREF="http://www.opera.com/">http://www.opera.com/</A>&gt;


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049415.html">[whatwg] Workflow and web applications
</A></li>
	<LI>Next message: <A HREF="049438.html">[whatwg] Some comments on server-sent events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49416">[ date ]</a>
              <a href="thread.html#49416">[ thread ]</a>
              <a href="subject.html#49416">[ subject ]</a>
              <a href="author.html#49416">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
