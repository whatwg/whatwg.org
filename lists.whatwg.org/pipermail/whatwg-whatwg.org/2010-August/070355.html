<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fwd: Discussing WebSRT and alternatives/improvements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fwd%3A%20Discussing%20WebSRT%20and%20alternatives/improvements&In-Reply-To=%3CAANLkTi%3DS2yYsgmRr9HTdxZx0uc188s4DgdsHu2PpKjbD%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070345.html">
   <LINK REL="Next"  HREF="070357.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fwd: Discussing WebSRT and alternatives/improvements</H1>
<!--htdig_noindex-->
    <B>Silvia Pfeiffer</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fwd%3A%20Discussing%20WebSRT%20and%20alternatives/improvements&In-Reply-To=%3CAANLkTi%3DS2yYsgmRr9HTdxZx0uc188s4DgdsHu2PpKjbD%40mail.gmail.com%3E"
       TITLE="[whatwg] Fwd: Discussing WebSRT and alternatives/improvements">silviapfeiffer1 at gmail.com
       </A><BR>
    <I>Mon Aug 23 19:32:21 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070345.html">[whatwg] Fwd: Discussing WebSRT and alternatives/improvements
</A></li>
        <LI>Next message: <A HREF="070357.html">[whatwg] Fwd: Discussing WebSRT and alternatives/improvements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70355">[ date ]</a>
              <a href="thread.html#70355">[ thread ]</a>
              <a href="subject.html#70355">[ subject ]</a>
              <a href="author.html#70355">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Aug 23, 2010 at 6:55 PM, Philip J&#228;genstedt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>&gt;wrote:

&gt;<i> On Sat, 21 Aug 2010 01:32:49 +0200, Silvia Pfeiffer &lt;
</I>&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">silviapfeiffer1 at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>  On Fri, Aug 20, 2010 at 10:53 PM, Philip J&#228;genstedt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>
</I>&gt;&gt;<i> &gt;wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  On Wed, 18 Aug 2010 00:42:04 +0200, Silvia Pfeiffer &lt;
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">silviapfeiffer1 at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  On Thu, Aug 12, 2010 at 6:09 PM, Philip J&#228;genstedt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> &gt;wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Yeah, so the only conforming solution is probably to use CSS3
</I>&gt;&gt;&gt;&gt;<i> transition-delay property. That may not be the most elegant solution,
</I>&gt;&gt;&gt;&gt;<i> but
</I>&gt;&gt;&gt;&gt;<i> it
</I>&gt;&gt;&gt;&gt;<i> works.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> So, it seems clear that in order to use an HTML parser we have to
</I>&gt;&gt;&gt;<i> sacrifice some features or make them more verbose.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That sounds like there are multiple problems, when in fact we are only
</I>&gt;&gt;<i> talking about the single use case of timestamps.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I was referring also to the voices markup which is made much more verbose.
</I>

Yeah, but that one actually makes sense to be integrated with existing ways
that class and CSS work.


I don't expect that SVG, &lt;canvas&gt;, images, etc will ever natively be made
&gt;<i> part of captions. Rather, I would hope that the metadata state together with
</I>&gt;<i> scripts is used. If we think that e.g. images in captions are an important
</I>&gt;<i> use case, then WebSRT is not a good solution.
</I>&gt;<i>
</I>
I believe they will be. But since we are only looking at the ways in which
captions and subtitles are used currently, we haven't accepted this as an
important use case, which is fair enough. I am considering likely future use
though, which is always hard to argue.



&gt;<i> If we allow arbitrary HTML and expect browsers to handle it well, it adds
</I>&gt;<i> some complexity. For example, any videos and images in the cue would have to
</I>&gt;<i> be fully loaded and ready to be decoded by the time the cue is to be shown,
</I>&gt;<i> which I really don't want to implement the logic for. Simply having an
</I>&gt;<i> iframe-like container where the document is replaced for each cue wouldn't
</I>&gt;<i> be enough, rather one would have to create one document per cue during
</I>&gt;<i> parsing and wait for all of those to finish loading before beginning
</I>&gt;<i> playback. I'm not sure, but I'm guessing that amounts to significant memory
</I>&gt;<i> overhead.
</I>&gt;<i>
</I>
I have to leave that discussion to others, since I don't know enough about
how the plumbing used in browsers works together. My expectation was that
most of the plumbing with innerHTML already exists and the loading/display
of the cue will be in parallel to the video playback, so it won't hold back
the main page, even if e.g. a img element cannot be loaded in time.



&gt;<i>
</I>&gt;<i> Honestly, using the existing small mess around SRT as an excuse to turn it
</I>&gt;&gt;<i> into a huge mess doesn't seem a good argument to me.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I'm just saying that SRT isn't a plain text format today and anyone who's
</I>&gt;<i> able to assume it is can only do so because they control the input.
</I>&gt;<i>
</I>&gt;<i> Deployed SRT uses &lt;i&gt;, &lt;b&gt;, &lt;font&gt; and &lt;u&gt;. WebSRT adds &lt;ruby&gt;, &lt;rt&gt; and
</I>&gt;<i> &lt;1&gt;...&lt;infinity&gt;, extensions which are very much in line with the existing
</I>&gt;<i> format and already &quot;works&quot; in many players (in the sense that they are
</I>&gt;<i> ignored, not rendered). I wouldn't call that a huge mess.
</I>

And removes &lt;font&gt; and &lt;u&gt;. And adds a whole swag of other functionality,
which are not in line with the existing format. Just picking a part of the
WebSRT specification that may work if the software was written sanely isn't
really a fair argument for compatibility. But anyway, I think at this stage
we can only agree to disagree about whether SRT ad WebSRT are compatible.
:<i>-)
</I>


&gt;<i>
</I>&gt;<i>  Aside: WebSRT can't contain binary data, only UTF-8 encoded text.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It sure can. Just base-64 encode it. I'm not saying it's a good thing, but
</I>&gt;&gt;<i> if somebody really has an urge...
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sure, this would be a metadata track. Sites have no reason to offer
</I>&gt;<i> download links to it, and if anyone gets hold of such a file it would
</I>&gt;<i> quickly be evident that it's useless.
</I>

After a user has seen the crap on screen. I'm just saying: it's a legal
WebSRT file and really not compatible with any existing infrastructure for
SRT.



&gt;<i>  If we define WebSRT in a way that can handle &gt;99% of existing content and
</I>&gt;&gt;&gt;<i> degrade gracefully (enough) when using new features in old software, it
</I>&gt;&gt;&gt;<i> seems reasonable to do. If lots of software developers cry foul, then
</I>&gt;&gt;&gt;<i> perhaps we should reconsider. It seems to me, though, that actually
</I>&gt;&gt;&gt;<i> researching and defining a good algorithm for parsing SRT would be of use
</I>&gt;&gt;&gt;<i> to
</I>&gt;&gt;&gt;<i> others than just browsers.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> How is that different from moving away from SRT. If everyone has to change
</I>&gt;&gt;<i> their parsing of SRT to accommodate a new spec, then that is a new format.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Not everyone has to change their parsers immediately, many will continue to
</I>&gt;<i> work. However, if someone wants to support SRT in a compatible way, it's
</I>&gt;<i> very helpful to have a spec, assuming that WebSRT is actually compatible
</I>&gt;<i> enough with existing SRT content.
</I>&gt;<i>
</I>&gt;<i> This is quite similar to HTML4 vs HTML5. There are lots of mostly
</I>&gt;<i> compatible HTML parsers, but HTML5 defines a single parsing algorithm, and
</I>&gt;<i> slow convergence towards that is a good thing.
</I>&gt;<i>
</I>
No, no, no! It is not at all similar to HTML4 and HTML5. A Web browser
cannot suddenly stop working for a Web page, just because it has some extra
functionality in it. Thus, the HTML format has been developed such that it
can be extended without breaking existing stuff. We can guarantee that no
browser will break because that is the way in which the format has been
specified.

No such thing has happened for SRT and there is simply no way to guarantee
that all new WebSRT files will work in all existing SRT software, because
SRT has not been specified as a extensible format and because there is no
agreement between all parties that have implemented SRT support as to how
extensions should be made.

We can introduce such a thing for WebSRT, but we cannot claim it for SRT.



&gt;<i> If the SRT ecosystem is so fragile that it cannot tolerate any extension
</I>&gt;<i> whatsoever, then we should stay far away from it. It just seems that's not
</I>&gt;<i> the case.
</I>

How do we know that everyone that uses SRT now really wants to use WebSRT
instead and wants to take part in the new ecosystem that we are introducing?
We make some pretty big assumptions about what everyone who is not a Web
browser vendor wants to do with SRT. That doesn't make the existing SRT
ecosystem fragile - but it makes it an existing environment that needs to be
respected.

Cheers,
Silvia.

P.S. I do wonder if anyone other than us is still following this thread. ;-)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100824/1fd3a4fb/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100824/1fd3a4fb/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070345.html">[whatwg] Fwd: Discussing WebSRT and alternatives/improvements
</A></li>
	<LI>Next message: <A HREF="070357.html">[whatwg] Fwd: Discussing WebSRT and alternatives/improvements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70355">[ date ]</a>
              <a href="thread.html#70355">[ thread ]</a>
              <a href="subject.html#70355">[ subject ]</a>
              <a href="author.html#70355">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
