<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] @srcdoc and default @sandbox
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%40srcdoc%20and%20default%20%40sandbox&In-Reply-To=%3CAANLkTin-JFkOUKLm8SU5tp5jCTzg0CW2EV21FKimo45N%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070524.html">
   <LINK REL="Next"  HREF="070549.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] @srcdoc and default @sandbox</H1>
<!--htdig_noindex-->
    <B>Tab Atkins Jr.</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%40srcdoc%20and%20default%20%40sandbox&In-Reply-To=%3CAANLkTin-JFkOUKLm8SU5tp5jCTzg0CW2EV21FKimo45N%40mail.gmail.com%3E"
       TITLE="[whatwg] @srcdoc and default @sandbox">jackalmage at gmail.com
       </A><BR>
    <I>Mon Aug 30 10:02:30 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070524.html">[whatwg] Which differences between &lt;embed&gt; and &lt;object&gt;
</A></li>
        <LI>Next message: <A HREF="070549.html">[whatwg] @srcdoc and default @sandbox
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70547">[ date ]</a>
              <a href="thread.html#70547">[ thread ]</a>
              <a href="subject.html#70547">[ subject ]</a>
              <a href="author.html#70547">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>While talking with the implementor of @srcdoc in Webkit, it came up
that, though @srcdoc is *designed* for use with @sandbox, the author
still has to explicitly add @sandbox to the &lt;iframe&gt; or else they
don't get the sandbox security model.

Can we make this automatic?  Specifically, when &lt;iframe
srcdoc=foo&gt;&lt;/iframe&gt; is specified (without @sandbox), it drops into
the sandbox security model as if &lt;iframe sandbox srcdoc=foo&gt;&lt;/iframe&gt;
was used.  If @sandbox is explicitly added, its value is instead used,
so the author can set the sandbox security flags if desired.

This would mean that there is no way for an author to use @srcdoc
*without* sandboxing.  This appears to be a minority use-case in the
first place (as far as I can tell, it's pretty much just useful for
testing purposes), but the author can always use a data: url in that
case.


As a seperate issue, a @srcdoc &lt;iframe&gt; should be able to receive
@seamless as well, even when it's officially unique-origin (that is,
when the author doesn't go out of their way to set
@sandbox=allow-same-origin).  There is precedent for this in the spec
- a text/html-sandboxed resource loaded into an iframe (which is
required to be unique-origin) can receive @seamless, because it's not
&quot;actually&quot; cross-origin; it only acts that way for particular security
purposes which don't apply to the use of @seamless here.

~TJ

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070524.html">[whatwg] Which differences between &lt;embed&gt; and &lt;object&gt;
</A></li>
	<LI>Next message: <A HREF="070549.html">[whatwg] @srcdoc and default @sandbox
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70547">[ date ]</a>
              <a href="thread.html#70547">[ thread ]</a>
              <a href="subject.html#70547">[ subject ]</a>
              <a href="author.html#70547">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
