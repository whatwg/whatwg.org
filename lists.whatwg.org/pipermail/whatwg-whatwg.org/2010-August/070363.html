<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fwd: Discussing WebSRT and alternatives/improvements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fwd%3A%20Discussing%20WebSRT%20and%20alternatives/improvements&In-Reply-To=%3Cop.vhxu1ko7sr6mfa%40philip-pc.gothenburg.osa%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070357.html">
   <LINK REL="Next"  HREF="070409.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fwd: Discussing WebSRT and alternatives/improvements</H1>
<!--htdig_noindex-->
    <B>Philip J&#228;genstedt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fwd%3A%20Discussing%20WebSRT%20and%20alternatives/improvements&In-Reply-To=%3Cop.vhxu1ko7sr6mfa%40philip-pc.gothenburg.osa%3E"
       TITLE="[whatwg] Fwd: Discussing WebSRT and alternatives/improvements">philipj at opera.com
       </A><BR>
    <I>Tue Aug 24 03:49:58 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070357.html">[whatwg] Fwd: Discussing WebSRT and alternatives/improvements
</A></li>
        <LI>Next message: <A HREF="070409.html">[whatwg] Fwd: Discussing WebSRT and alternatives/improvements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70363">[ date ]</a>
              <a href="thread.html#70363">[ thread ]</a>
              <a href="subject.html#70363">[ subject ]</a>
              <a href="author.html#70363">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 24 Aug 2010 04:32:21 +0200, Silvia Pfeiffer  
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">silviapfeiffer1 at gmail.com</A>&gt; wrote:

&gt;<i> On Mon, Aug 23, 2010 at 6:55 PM, Philip J&#228;genstedt  
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>  Aside: WebSRT can't contain binary data, only UTF-8 encoded text.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> It sure can. Just base-64 encode it. I'm not saying it's a good thing,  
</I>&gt;&gt;&gt;<i> but
</I>&gt;&gt;&gt;<i> if somebody really has an urge...
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Sure, this would be a metadata track. Sites have no reason to offer
</I>&gt;&gt;<i> download links to it, and if anyone gets hold of such a file it would
</I>&gt;&gt;<i> quickly be evident that it's useless.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> After a user has seen the crap on screen. I'm just saying: it's a legal
</I>&gt;<i> WebSRT file and really not compatible with any existing infrastructure  
</I>&gt;<i> for
</I>&gt;<i> SRT.
</I>
A fair point. The alternatives I can see are (1) using an incompatible  
format so that the user sees nothing or (2) adding a header that indicates  
that the track is metadata.

In order to tell the user to stop wasting their time with this file, I  
think (1) is clearly worse. (2) is absolutely an option, but it will only  
make a difference to software that understands this header and if the  
header is optional it will likely often be omitted. A dialog saying &quot;this  
is a metadata track, you can't watch it&quot; is slightly friendlier than a  
screen full of crap, but they are both pretty effective at getting the  
message across.

&gt;&gt;<i>  If we define WebSRT in a way that can handle &gt;99% of existing content  
</I>&gt;&gt;<i> and
</I>&gt;&gt;&gt;&gt;<i> degrade gracefully (enough) when using new features in old software,  
</I>&gt;&gt;&gt;&gt;<i> it
</I>&gt;&gt;&gt;&gt;<i> seems reasonable to do. If lots of software developers cry foul, then
</I>&gt;&gt;&gt;&gt;<i> perhaps we should reconsider. It seems to me, though, that actually
</I>&gt;&gt;&gt;&gt;<i> researching and defining a good algorithm for parsing SRT would be of  
</I>&gt;&gt;&gt;&gt;<i> use
</I>&gt;&gt;&gt;&gt;<i> to
</I>&gt;&gt;&gt;&gt;<i> others than just browsers.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> How is that different from moving away from SRT. If everyone has to  
</I>&gt;&gt;&gt;<i> change
</I>&gt;&gt;&gt;<i> their parsing of SRT to accommodate a new spec, then that is a new  
</I>&gt;&gt;&gt;<i> format.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Not everyone has to change their parsers immediately, many will  
</I>&gt;&gt;<i> continue to
</I>&gt;&gt;<i> work. However, if someone wants to support SRT in a compatible way, it's
</I>&gt;&gt;<i> very helpful to have a spec, assuming that WebSRT is actually compatible
</I>&gt;&gt;<i> enough with existing SRT content.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This is quite similar to HTML4 vs HTML5. There are lots of mostly
</I>&gt;&gt;<i> compatible HTML parsers, but HTML5 defines a single parsing algorithm,  
</I>&gt;&gt;<i> and
</I>&gt;&gt;<i> slow convergence towards that is a good thing.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> No, no, no! It is not at all similar to HTML4 and HTML5. A Web browser
</I>&gt;<i> cannot suddenly stop working for a Web page, just because it has some  
</I>&gt;<i> extra
</I>&gt;<i> functionality in it. Thus, the HTML format has been developed such that  
</I>&gt;<i> it
</I>&gt;<i> can be extended without breaking existing stuff. We can guarantee that no
</I>&gt;<i> browser will break because that is the way in which the format has been
</I>&gt;<i> specified.
</I>&gt;<i>
</I>&gt;<i> No such thing has happened for SRT and there is simply no way to  
</I>&gt;<i> guarantee
</I>&gt;<i> that all new WebSRT files will work in all existing SRT software, because
</I>&gt;<i> SRT has not been specified as a extensible format and because there is no
</I>&gt;<i> agreement between all parties that have implemented SRT support as to how
</I>&gt;<i> extensions should be made.
</I>&gt;<i>
</I>&gt;<i> We can introduce such a thing for WebSRT, but we cannot claim it for SRT.
</I>
You are right, existing SRT parsers are probably far less interoperable  
than HTML parsers were before HTML5.

Existing content demands that SRT parsers handle at least &lt;i&gt;, &lt;b&gt;, &lt;font&gt;  
and &lt;u&gt; in some manner, even if it is by ignoring it. Any parsers that  
treat SRT as plain text don't even work with todays content, so I don't  
think they should be considered at all. The question, then, is if parsers  
that handle the mentioned markup also ignore &lt;1&gt;, &lt;ruby&gt; and &lt;rt&gt;. I  
haven't tested it, but I assume that some will ignore it and some won't.  
How many percent of the media player market would have to handle this  
correctly for these extensions to be OK, in your opinion?

&gt;&gt;<i> If the SRT ecosystem is so fragile that it cannot tolerate any extension
</I>&gt;&gt;<i> whatsoever, then we should stay far away from it. It just seems that's  
</I>&gt;&gt;<i> not
</I>&gt;&gt;<i> the case.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> How do we know that everyone that uses SRT now really wants to use WebSRT
</I>&gt;<i> instead and wants to take part in the new ecosystem that we are  
</I>&gt;<i> introducing?
</I>&gt;<i> We make some pretty big assumptions about what everyone who is not a Web
</I>&gt;<i> browser vendor wants to do with SRT. That doesn't make the existing SRT
</I>&gt;<i> ecosystem fragile - but it makes it an existing environment that needs  
</I>&gt;<i> to be
</I>&gt;<i> respected.
</I>
At this point, what is your recommendation? The following ideas have been  
on the table:

* Change the file extension to something other than .srt.

I don't have an opinion, browsers ignore the file extension anyway.

* Change the MIME type to something other than text/srt.

I doubt it makes any difference, as most software that deal with SRT today  
have no concept of MIME types. No matter what I'd want exactly 1 MIME type  
or alternatively make browsers ignore the MIME type completely.

* Add a header to WebSRT to make it uniquely identifiable.

The header would have to be mandatory and browsers would have to reject  
files that don't have it. Such files would be compatible with some  
existing software and break some, depending on how they sniff. We could  
also put metadata in such a header.

* Make something deliberately incompatible with SRT.

It doesn't make a big difference to browsers implementing the format. We'd  
be replacing something that mostly works in existing players with  
something that never works.



Here's the SRT research I promised:  
<A HREF="http://blog.foolip.org/2010/08/20/srt-research/">http://blog.foolip.org/2010/08/20/srt-research/</A>

-- 
Philip J&#228;genstedt
Core Developer
Opera Software

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070357.html">[whatwg] Fwd: Discussing WebSRT and alternatives/improvements
</A></li>
	<LI>Next message: <A HREF="070409.html">[whatwg] Fwd: Discussing WebSRT and alternatives/improvements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70363">[ date ]</a>
              <a href="thread.html#70363">[ thread ]</a>
              <a href="subject.html#70363">[ subject ]</a>
              <a href="author.html#70363">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
