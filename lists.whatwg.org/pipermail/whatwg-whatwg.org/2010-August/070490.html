<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] base64 entities
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20base64%20entities&In-Reply-To=%3CB9C45F6A-FD1B-4F9F-906F-B76020869C40%40geekhood.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070489.html">
   <LINK REL="Next"  HREF="070440.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] base64 entities</H1>
<!--htdig_noindex-->
    <B>Kornel Lesi&#324;ski</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20base64%20entities&In-Reply-To=%3CB9C45F6A-FD1B-4F9F-906F-B76020869C40%40geekhood.net%3E"
       TITLE="[whatwg] base64 entities">kornel at geekhood.net
       </A><BR>
    <I>Thu Aug 26 15:40:06 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070489.html">[whatwg] base64 entities
</A></li>
        <LI>Next message: <A HREF="070440.html">[whatwg] base64 entities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70490">[ date ]</a>
              <a href="thread.html#70490">[ thread ]</a>
              <a href="subject.html#70490">[ subject ]</a>
              <a href="author.html#70490">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 26.08.2010, at 23:28, Adam Barth wrote:
&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> &lt;script&gt;
</I>&gt;&gt;&gt;&gt;<i> elmt.innerHTML = 'Hi there &lt;?php echo htmlspecialchars($name) ?&gt;.';
</I>&gt;&gt;&gt;&gt;<i> &lt;/script&gt;
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> These cases can be secured without any new features in browsers (by
</I>&gt;&gt;&gt;<i> escaping whitespace using numeric entities):
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I realized I was wrong about this one. It won't prevent script injection in
</I>&gt;&gt;<i> JS strings (in places where entities are decoded, including &lt;script&gt; in
</I>&gt;&gt;<i> XML), because entity will be changed to plain text before JavaScript is
</I>&gt;&gt;<i> tokenized.
</I>&gt;<i> 
</I>&gt;<i> Indeed.  This is not a feature for XML.  XML won't decode the entity
</I>&gt;<i> at all.  In HTML, &lt;script&gt; doesn't decode entities, so the pattern is
</I>&gt;<i> safe.
</I>
Yes, but in that case JS would have to decode the entity on its own. It wouldn't be strictly HTML feature, but also change interpretation of JS string literals. And what if you use this entity outside JS string? In regex literal?

What about onclick=&quot;show('&amp;%base64;')&quot;? Should this be left insecure, or should HTML parser have special entity handling for on* attributes? And then what's the meaning of onclick=&quot;show('&amp;%base64;')&quot;?

-- 
regards, Kornel




</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070489.html">[whatwg] base64 entities
</A></li>
	<LI>Next message: <A HREF="070440.html">[whatwg] base64 entities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70490">[ date ]</a>
              <a href="thread.html#70490">[ thread ]</a>
              <a href="subject.html#70490">[ subject ]</a>
              <a href="author.html#70490">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
