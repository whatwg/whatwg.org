<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Fwd: Discussing WebSRT and alternatives/improvements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fwd%3A%20Discussing%20WebSRT%20and%20alternatives/improvements&In-Reply-To=%3CAANLkTimSSAt%2BMLXGon1by%3DCK7ZX5_V1qgTbC%2B61-P47B%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070299.html">
   <LINK REL="Next"  HREF="070345.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Fwd: Discussing WebSRT and alternatives/improvements</H1>
<!--htdig_noindex-->
    <B>Silvia Pfeiffer</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Fwd%3A%20Discussing%20WebSRT%20and%20alternatives/improvements&In-Reply-To=%3CAANLkTimSSAt%2BMLXGon1by%3DCK7ZX5_V1qgTbC%2B61-P47B%40mail.gmail.com%3E"
       TITLE="[whatwg] Fwd: Discussing WebSRT and alternatives/improvements">silviapfeiffer1 at gmail.com
       </A><BR>
    <I>Fri Aug 20 16:32:49 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070299.html">[whatwg] Fwd: Discussing WebSRT and alternatives/improvements
</A></li>
        <LI>Next message: <A HREF="070345.html">[whatwg] Fwd: Discussing WebSRT and alternatives/improvements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70308">[ date ]</a>
              <a href="thread.html#70308">[ thread ]</a>
              <a href="subject.html#70308">[ subject ]</a>
              <a href="author.html#70308">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Aug 20, 2010 at 10:53 PM, Philip J&#228;genstedt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>&gt;wrote:

&gt;<i> On Wed, 18 Aug 2010 00:42:04 +0200, Silvia Pfeiffer &lt;
</I>&gt;<i> <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">silviapfeiffer1 at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>  On Thu, Aug 12, 2010 at 6:09 PM, Philip J&#228;genstedt &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">philipj at opera.com</A>
</I>&gt;&gt;<i> &gt;wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Yeah, so the only conforming solution is probably to use CSS3
</I>&gt;&gt;<i> transition-delay property. That may not be the most elegant solution, but
</I>&gt;&gt;<i> it
</I>&gt;&gt;<i> works.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So, it seems clear that in order to use an HTML parser we have to sacrifice
</I>&gt;<i> some features or make them more verbose.
</I>

That sounds like there are multiple problems, when in fact we are only
talking about the single use case of timestamps. All other requirements are
met by the existing innerHTML parser. Is it really necessary to throw out
all the advantages of re-using innerHTML just to avoid some extra markup for
this single use case?



&gt;<i> The whole of the WebSRT parser isn't very big or complicated, so I don't
</I>&gt;<i> think implementation cost is a strong argument for reusing the HTML parser,
</I>&gt;<i> especially since at least the timing syntax needs a separate parser.
</I>


It's not just about implementation cost - it's also the problem of
maintaining another spec that can grow to have eventually all the features
that HTML5 has and more. Do you really eventually want to re-spec and
re-implement a whole innerHTML parser plus the extra &lt;t&gt; element when we
start putting &lt;svg&gt; and &lt;canvas&gt; and all sorts of other more complex HTML
features into captions? Just because the &lt;t&gt; element is making trouble now?
Is this really the time to re-invent HTML?



&gt;<i> It's a bit more than just annoying to users. If there are automated
</I>&gt;&gt;<i> processes involved that print that stuff on tape for example, you can burn
</I>&gt;&gt;<i> through a lot of material and money before realising that your input files
</I>&gt;&gt;<i> are &quot;broken&quot; and if you cannot get software support for the new files
</I>&gt;&gt;<i> implemented, you may need to implement costly manual checking of the
</I>&gt;&gt;<i> files.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> SRT as it is today can and does contain broken timestamps, missing
</I>&gt;<i> linebreaks and at least &lt;i&gt;, &lt;b&gt;, &lt;u&gt; and &lt;font ...&gt; markup, some of which
</I>&gt;<i> is broken. If anyone is able to to rely on their input as being well-formed
</I>&gt;<i> enough as to be put through automatic but costly processes, they'd have to
</I>&gt;<i> have very good control of where their input comes from. I can't see how
</I>&gt;<i> WebSRT would change that.
</I>

I would indeed expect a fairly trusted relationship with the supplier. But
assuming your supplier changes from SRT to WebSRT support in their captions.
If they have two different file extensions, you will notice immediately and
there is a trigger to actually start implementing WebSRT support. If they
are the same file extension, that will cause the trouble I explained. If at
least there was a version identifier in existing SRT, then we wouldn't have
that trouble at all. But we've had this discussion.



&gt;<i>  The core &quot;problem&quot; is that WebSRT is far too compatible with existing SRT
</I>&gt;&gt;&gt;<i> usage. Regardless of the file extension and MIME type used, it's quite
</I>&gt;&gt;&gt;<i> improbable that anyone will have different parsers for the same format.
</I>&gt;&gt;&gt;<i> Once
</I>&gt;&gt;&gt;<i> media players have been forced to handle the extra markup in WebSRT (e.g.
</I>&gt;&gt;&gt;<i> by
</I>&gt;&gt;&gt;<i> ignoring it, as many already do) the two formats will be the same, and
</I>&gt;&gt;&gt;<i> using
</I>&gt;&gt;&gt;<i> WebSRT markup in .srt files will just work, so that's what people will
</I>&gt;&gt;&gt;<i> do.
</I>&gt;&gt;&gt;<i> We may avoid being seen as arrogant format-hijackers, but the end result
</I>&gt;&gt;&gt;<i> is
</I>&gt;&gt;&gt;<i> two extensions and two different MIME types that mean exactly the same
</I>&gt;&gt;&gt;<i> thing.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It actually burns down to the question: do we want the simple SRT format
</I>&gt;&gt;<i> to
</I>&gt;&gt;<i> survive as its own format and be something that people can rely upon as
</I>&gt;&gt;<i> not
</I>&gt;&gt;<i> having &quot;weird stuff&quot; in it - or do we not. I believe that it's important
</I>&gt;&gt;<i> that it survives. WebSRT can have absolutely anything in it, including
</I>&gt;&gt;<i> code
</I>&gt;&gt;<i> and binary data, even if that stuff would not be interpreted in a browser,
</I>&gt;&gt;<i> but handed on to the JavaScript API for a JavaScript routine to do
</I>&gt;&gt;<i> something
</I>&gt;&gt;<i> with it. It is a great extensible platform. But the advantage of SRT is
</I>&gt;&gt;<i> that
</I>&gt;&gt;<i> it is simple and reliably simple. We completely remove this option by
</I>&gt;&gt;<i> stealing the format.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I've collected some statistics on existing SRT content that I intend to
</I>&gt;<i> publish soonish. For now, I'll just note that &gt;50% contain some form of
</I>&gt;<i> markup. Adding to this various ways in which the files could be broken, it
</I>&gt;<i> seems to me that SRT as deployed is neither really simple nor reliable.
</I>&gt;<i> Private use of SRT is of course simple and reliable, but that will be true
</I>&gt;<i> in the future too.
</I>&gt;<i>
</I>
Honestly, using the existing small mess around SRT as an excuse to turn it
into a huge mess doesn't seem a good argument to me.



&gt;<i>
</I>&gt;<i> Aside: WebSRT can't contain binary data, only UTF-8 encoded text.
</I>

It sure can. Just base-64 encode it. I'm not saying it's a good thing, but
if somebody really has an urge...



&gt;<i>
</I>&gt;<i>   Since browser vendors get all the benefits and none of the problems it
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> would be a mistake to only listen to us, of course. It might be
</I>&gt;&gt;&gt;&gt;&gt;<i> worthwhile
</I>&gt;&gt;&gt;&gt;&gt;<i> contacting developers of applications like VLC, Totem or MPlayer and
</I>&gt;&gt;&gt;&gt;&gt;<i> ask
</I>&gt;&gt;&gt;&gt;&gt;<i> precisely how annoyed they would be if suddenly one day they had to
</I>&gt;&gt;&gt;&gt;&gt;<i> tweak
</I>&gt;&gt;&gt;&gt;&gt;<i> their SRT parser because of WebSRT.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Some of them have already spoken:
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://forum.doom9.org/showthread.php?p=1396576">http://forum.doom9.org/showthread.php?p=1396576</A> &quot;Extending SRT is a
</I>&gt;&gt;&gt;&gt;<i> very
</I>&gt;&gt;&gt;&gt;<i> bad
</I>&gt;&gt;&gt;&gt;<i> idea&quot; etc etc. Also, I've had feedback from other subtitle professionals
</I>&gt;&gt;&gt;&gt;<i> that are also against extending SRT, the main reasons being to break
</I>&gt;&gt;&gt;&gt;<i> existing working software environments.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The only way to really avoid messing with the ecosystem is to invent a
</I>&gt;&gt;&gt;<i> completely new format. The choice is between something that won't work at
</I>&gt;&gt;&gt;<i> all in non-browsers and something that will mostly work.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If you look at it realistically, we *are* inventing a completely new
</I>&gt;&gt;<i> format.
</I>&gt;&gt;<i> WebSRT only on the surface has some resemblance with SRT. When you dig
</I>&gt;&gt;<i> deeper, it is a completely different format with different aims and
</I>&gt;&gt;<i> applications. Yes, it covers all the SRT aims and applications, but it
</I>&gt;&gt;<i> does
</I>&gt;&gt;<i> so much more! Only some of it will work in non-browsers, others will
</I>&gt;&gt;<i> utterly
</I>&gt;&gt;<i> fail and will completely disrupt an already working ecosystem. I think it
</I>&gt;&gt;<i> may even have a really bad effect if we introduce WebSRT as SRT in that
</I>&gt;&gt;<i> authoring software will refrain from implementing support for the richer
</I>&gt;&gt;<i> features in order not to disrupt the existing software ecosystem. In the
</I>&gt;&gt;<i> end
</I>&gt;&gt;<i> we might end up with a lot of unsupported features in WebSRT an no real
</I>&gt;&gt;<i> progress. I much prefer having progress with a transition period with
</I>&gt;&gt;<i> conscious decisions to support the extra features.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> As long as WebSRT is similar enough to SRT that software developers can use
</I>&gt;<i> the same parser for both, they will effectively become the same format.
</I>

There is a difference between &quot;being the same format&quot; and &quot;superceding&quot;. I
believe strongly that WebSRT will supercede SRT. But if we make it the &quot;same
format&quot;, we simply inherit the mess that already exists. All those broken
SRT files will continue to be broken WebSRT files. Just by taking over the
format, we will not magically do away with the existing mess.



&gt;<i> If we define WebSRT in a way that can handle &gt;99% of existing content and
</I>&gt;<i> degrade gracefully (enough) when using new features in old software, it
</I>&gt;<i> seems reasonable to do. If lots of software developers cry foul, then
</I>&gt;<i> perhaps we should reconsider. It seems to me, though, that actually
</I>&gt;<i> researching and defining a good algorithm for parsing SRT would be of use to
</I>&gt;<i> others than just browsers.
</I>&gt;<i>
</I>
How is that different from moving away from SRT. If everyone has to change
their parsing of SRT to accommodate a new spec, then that is a new format.


Cheers,
Silvia.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100821/01733af2/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100821/01733af2/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070299.html">[whatwg] Fwd: Discussing WebSRT and alternatives/improvements
</A></li>
	<LI>Next message: <A HREF="070345.html">[whatwg] Fwd: Discussing WebSRT and alternatives/improvements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70308">[ date ]</a>
              <a href="thread.html#70308">[ thread ]</a>
              <a href="subject.html#70308">[ subject ]</a>
              <a href="author.html#70308">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
