<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal for Web Storage expiration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20Web%20Storage%20expiration&In-Reply-To=%3CB66541E954ECF146AD8CA69D34A283FF12CD8355DA%40SP2-EX07VS02.ds.corp.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070396.html">
   <LINK REL="Next"  HREF="069790.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal for Web Storage expiration</H1>
<!--htdig_noindex-->
    <B>Nicholas Zakas</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%20for%20Web%20Storage%20expiration&In-Reply-To=%3CB66541E954ECF146AD8CA69D34A283FF12CD8355DA%40SP2-EX07VS02.ds.corp.yahoo.com%3E"
       TITLE="[whatwg] Proposal for Web Storage expiration">nzakas at yahoo-inc.com
       </A><BR>
    <I>Mon Aug  2 11:23:46 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070396.html">[whatwg] Adding ECMAScript 5 array extras to HTMLCollection
</A></li>
        <LI>Next message: <A HREF="069790.html">[whatwg] Proposal for Web Storage expiration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69782">[ date ]</a>
              <a href="thread.html#69782">[ thread ]</a>
              <a href="subject.html#69782">[ subject ]</a>
              <a href="author.html#69782">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>If a site could create multiple Storage areas, then I would agree that per-item expiration wouldn't be necessary and we could get along fine with per-storage expiration. However, that's not the case, and the expiration use case is clearly already present.

Having every developer that wants to expire data write his or her own code seems extremely wasteful to me. Why ask people to reinvent the same functionality over and over again? Whether or not cookies are a good model to follow, the expiration functionality is what makes auth sequences using them feasible. 

I'd defer to those who know on implementation details, but this doesn't seem like a very hard problem to solve in a performant way.

-Nicholas
 
______________________________________________
Commander Lock: &quot;Dammit Morpheus, not everyone believes what you believe!&quot;
Morpheus: &quot;My beliefs do not require them to.&quot;

-----Original Message-----
From: Scott Hess [mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">shess at google.com</A>] 
Sent: Friday, July 30, 2010 5:05 PM
To: Nicholas Zakas
Cc: Jeremy Orlow; Alexandre Morgaut; <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at lists.whatwg.org</A>; Jonas Sicking
Subject: Re: [whatwg] Proposal for Web Storage expiration

On Fri, Jul 30, 2010 at 11:51 AM, Nicholas Zakas &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">nzakas at yahoo-inc.com</A>&gt; wrote:
&gt;<i> And I totally agree, this is not a strong security feature, and that's not
</I>&gt;<i> the intent. The intent is just to give an extra measure of control of the
</I>&gt;<i> lifetime of the data to bring Web Storage closer to being a replacement for
</I>&gt;<i> a wider range of functionality that currently uses cookies.
</I>
I don't think this really follows.  Cookies were invented quite awhile
ago, and may not be a good model for development.  A reasonably small
dataset allows the client to expire cookies aggressively.  With large
local storage, doing per-item expiration is not a good idea - you do
not want your UA groveling through a gig of data you are not otherwise
using to expire a couple dozen items.  Per-database expiration might
make sense, because the expiration information could be stored in a
central location as a hint to the UA (if the site isn't going to use
the data after two weeks, might as well delete it).  Sites could
segment their expiration needs by using multiple data stores.

That said, idle storage is eventually going to be reclaimed anyhow, so
you could just ignore the problem.  Current storage proposals are much
richer than cookies, so the developer could just store dates alongside
their other data and make the decisions directly, no need for the
system to help.  Since the JavaScript accessing the data is executing
right next to the data, you don't have the latency issues
client/server communication introduces.  So long as expiration is a
SHOULD, its not clear to me that this idiom is powerful enough to
deserve footprint in the spec.

-scott

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070396.html">[whatwg] Adding ECMAScript 5 array extras to HTMLCollection
</A></li>
	<LI>Next message: <A HREF="069790.html">[whatwg] Proposal for Web Storage expiration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69782">[ date ]</a>
              <a href="thread.html#69782">[ thread ]</a>
              <a href="subject.html#69782">[ subject ]</a>
              <a href="author.html#69782">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
