<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTML5 video &lt;source&gt; dimensions and bitrate
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML5%20video%20%3Csource%3E%20dimensions%20and%20bitrate&In-Reply-To=%3CAANLkTi%3Dxp%2BBdBWKouXR-opzaxsf6tvAgLdadf%2Bws7JAd%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070096.html">
   <LINK REL="Next"  HREF="070180.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTML5 video &lt;source&gt; dimensions and bitrate</H1>
<!--htdig_noindex-->
    <B>Silvia Pfeiffer</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML5%20video%20%3Csource%3E%20dimensions%20and%20bitrate&In-Reply-To=%3CAANLkTi%3Dxp%2BBdBWKouXR-opzaxsf6tvAgLdadf%2Bws7JAd%40mail.gmail.com%3E"
       TITLE="[whatwg] HTML5 video &lt;source&gt; dimensions and bitrate">silviapfeiffer1 at gmail.com
       </A><BR>
    <I>Tue Aug 10 17:26:51 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070096.html">[whatwg] HTML5 video &lt;source&gt; dimensions and bitrate
</A></li>
        <LI>Next message: <A HREF="070180.html">[whatwg] HTML5 video &lt;source&gt; dimensions and bitrate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70117">[ date ]</a>
              <a href="thread.html#70117">[ thread ]</a>
              <a href="subject.html#70117">[ subject ]</a>
              <a href="author.html#70117">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Aug 11, 2010 at 2:35 AM, Zachary Ozer &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">zach at longtailvideo.com</A>&gt;wrote:

&gt;<i> On Mon, Aug 9, 2010 at 8:05 PM, Silvia Pfeiffer
</I>&gt;<i> &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">silviapfeiffer1 at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; Have you looked at the @media attribute? I would suggest to put them
</I>&gt;<i> there.
</I>&gt;<i> &gt; As that's not currently specified in media queries, you might want to
</I>&gt;<i> &gt; demonstrate how it could work and make a proposal to extend the media
</I>&gt;<i> &gt; queries.
</I>&gt;<i>
</I>&gt;<i> I thought about suggesting something like bitrate a bandwidth to media
</I>&gt;<i> queries. The syntax would look something like:
</I>&gt;<i>
</I>&gt;<i> &lt;video width=720&gt;
</I>&gt;<i> &lt;source src=&quot;video-480.mp4&quot; media=&quot;(width:480px) and (min-bitrate:2mbps)&quot;&gt;
</I>&gt;<i> &lt;source src=&quot;video-720.mp4&quot; media=&quot;(width:720px) and (min-bitrate:4mbps)&quot;&gt;
</I>&gt;<i> &lt;source src=&quot;video-1080.mp4&quot; media=&quot;(width:1080px) and
</I>&gt;<i> (min-bitrate:20mbps)&quot;&gt;
</I>&gt;<i> &lt;/video&gt;
</I>&gt;<i>
</I>&gt;<i> The problem is that the user agent would have to then know what
</I>&gt;<i> bitrate can be supported between you and that source. User agents
</I>&gt;<i> don't currently keep track of this information (so far as I'm aware),
</I>&gt;<i> and even if they did, it's highly variable based on your location, the
</I>&gt;<i> website you're visiting, etc.
</I>&gt;<i>
</I>&gt;<i> Additionally, while media queries do help content producers specify
</I>&gt;<i> which resource would be selected for a device under ideal
</I>&gt;<i> circumstances, it doesn't really allow for degradation. However, if
</I>&gt;<i> you look at what's out there today, it's pretty common to allow users
</I>&gt;<i> to switch to a degraded experience as needed.
</I>&gt;<i>
</I>&gt;<i> I can think of a few solutions that might make sense here:
</I>&gt;<i>
</I>&gt;<i>  * Allow source sub-elements / groupings and provide a call to switch
</I>&gt;<i> between elements of a group. Ideally, this would look something like:
</I>&gt;<i>
</I>&gt;<i> &lt;video width=&quot;720px&quot;&gt;
</I>&gt;<i> &lt;sourcegroup type=&quot;video/mp4&quot; media=&quot;screen and (device-aspect-ratio:
</I>&gt;<i> 16/9)&quot;&gt;
</I>&gt;<i> &lt;source src=&quot;video-1080.mp4&quot;
</I>&gt;<i> meta=&quot;width:1920px;height:1080px;bitrate:20mbps;&quot;&gt;
</I>&gt;<i> &lt;source src=&quot;video-720.mp4&quot;
</I>&gt;<i> meta=&quot;width:1280px;height:720px;bitrate:4mbps;&quot;&gt;
</I>&gt;<i> &lt;/sourcegroup&gt;
</I>&gt;<i> &lt;sourcegroup type=&quot;video/mp4&quot; media=&quot;screen and (device-aspect-ratio:
</I>&gt;<i> 4/3)&quot;&gt;
</I>&gt;<i> &lt;source src=&quot;video-480.mp4&quot; meta=&quot;width:640px;height:480px;bitrate:2mbps;&quot;&gt;
</I>&gt;<i> &lt;/sourcegroup&gt;
</I>&gt;<i> &lt;sourcegroup type=&quot;video/ogv&quot;&gt;
</I>&gt;<i> &lt;source src=&quot;video-480.ogv&quot; meta=&quot;width:640px;height:480px;bitrate:2mbps;&quot;&gt;
</I>&gt;<i> &lt;source src=&quot;video-720.ogv&quot;
</I>&gt;<i> meta=&quot;width:1280px;height:720px;bitrate:4mbps;&quot;&gt;
</I>&gt;<i> &lt;source src=&quot;video-1080.ogv&quot;
</I>&gt;<i> meta=&quot;width:1920px;height:1080px;bitrate:20mbps;&quot;&gt;
</I>&gt;<i> &lt;/sourcegroup&gt;
</I>&gt;<i> &lt;/video&gt;
</I>&gt;<i>
</I>&gt;<i>  * Have user agents keep track of information about dropped frames.
</I>&gt;<i> Publishers could then list multiple valid sources in order of rank.
</I>&gt;<i> When the dropped frame rate increased, either the user agent or a bit
</I>&gt;<i> of JavaScript could remove that source and re-run the resource
</I>&gt;<i> selection algorithm.
</I>&gt;<i>
</I>

It's good to have thought this through. I agree, this isn't a workable
solution, since the whole bandwidth switching logic is introduced into the
browsers, when in fact it should happen in the media framework with
information from the network stack without a need for the Web page to even
be aware of this. After all, it's really different versions of the same
resource that we are dealing with. That's also what happens in adaptive HTTP
streaming solutions of Apple, MS, Adobe and MPEG-4.

So, to generalise this, I agree there should be a solution such as what
Chris Double is suggesting with an additional resource describing what files
can be switched between and then JavaScript doing the switching. This could
eventually also be introduced into HTML5, if it's done with the same
additional resource format for all video formats. In this case, would you
still require an additional attribute?

Cheers,
Silvia.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100811/475f7a17/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100811/475f7a17/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070096.html">[whatwg] HTML5 video &lt;source&gt; dimensions and bitrate
</A></li>
	<LI>Next message: <A HREF="070180.html">[whatwg] HTML5 video &lt;source&gt; dimensions and bitrate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70117">[ date ]</a>
              <a href="thread.html#70117">[ thread ]</a>
              <a href="subject.html#70117">[ subject ]</a>
              <a href="author.html#70117">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
