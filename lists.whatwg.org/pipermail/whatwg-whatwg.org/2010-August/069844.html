<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Race condition in media load algorithm
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Race%20condition%20in%20media%20load%20algorithm&In-Reply-To=%3C4C58A3A8.9090504%40pearce.org.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069816.html">
   <LINK REL="Next"  HREF="069845.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Race condition in media load algorithm</H1>
<!--htdig_noindex-->
    <B>Chris Pearce</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Race%20condition%20in%20media%20load%20algorithm&In-Reply-To=%3C4C58A3A8.9090504%40pearce.org.nz%3E"
       TITLE="[whatwg] Race condition in media load algorithm">chris at pearce.org.nz
       </A><BR>
    <I>Tue Aug  3 16:18:00 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="069816.html">[whatwg] Race condition in media load algorithm
</A></li>
        <LI>Next message: <A HREF="069845.html">[whatwg] Race condition in media load algorithm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69844">[ date ]</a>
              <a href="thread.html#69844">[ thread ]</a>
              <a href="subject.html#69844">[ subject ]</a>
              <a href="author.html#69844">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>  On 3/08/2010 9:20 a.m., Ian Hickson wrote:
&gt;<i>
</I>&gt;<i> The synchronous section would run as soon as the task span the event loop.
</I>&gt;<i> Spinning the event loop is defined essentially as being equivalent to
</I>&gt;<i> breaking the original task in two, one that does everything up to spinning
</I>&gt;<i> the event loop, and one that does everything after spinning the event
</I>&gt;<i> loop. You are effectively waiting for some condition to become true and
</I>&gt;<i> then queueing a task to run the continuation of the algorithm. It's just
</I>&gt;<i> more convenient to write the algorithms as one long set of steps rather
</I>&gt;<i> than having split them up into multiple algorithms that invoke each other
</I>&gt;<i> and pass state around.
</I>&gt;<i>
</I>&gt;&gt;<i> Or does &quot;stop the currently running task&quot; in #spin-the-event-loop imply
</I>&gt;&gt;<i> a jump to step 2 of the algorithm under #processing-model2?
</I>&gt;<i> Yes.
</I>&gt;<i>
</I>
So the task spinning the event loop has run up to the point of spinning 
the event loop, then we run the synchronous section, and then the task 
which was spinning the event loop will resume after its goal is met at 
some later time?

In the case of a tasks which invokes an algorithm which has a 
synchronous section, and then pauses the event loop (such calling 
window.alert()), we should not run the synchronous section until the 
event loop pause has completed?

Thanks,
Chris Pearce.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069816.html">[whatwg] Race condition in media load algorithm
</A></li>
	<LI>Next message: <A HREF="069845.html">[whatwg] Race condition in media load algorithm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69844">[ date ]</a>
              <a href="thread.html#69844">[ thread ]</a>
              <a href="subject.html#69844">[ subject ]</a>
              <a href="author.html#69844">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
