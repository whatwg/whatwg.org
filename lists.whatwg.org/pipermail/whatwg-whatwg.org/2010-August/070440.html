<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] base64 entities
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20base64%20entities&In-Reply-To=%3CAANLkTikar%3DE3sx3BMt%2BUXc7whymfr7%2BbiT2c-iWjr3WK%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070490.html">
   <LINK REL="Next"  HREF="070462.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] base64 entities</H1>
<!--htdig_noindex-->
    <B>Aryeh Gregor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20base64%20entities&In-Reply-To=%3CAANLkTikar%3DE3sx3BMt%2BUXc7whymfr7%2BbiT2c-iWjr3WK%40mail.gmail.com%3E"
       TITLE="[whatwg] base64 entities">Simetrical+w3c at gmail.com
       </A><BR>
    <I>Wed Aug 25 15:46:54 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070490.html">[whatwg] base64 entities
</A></li>
        <LI>Next message: <A HREF="070462.html">[whatwg] base64 entities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70440">[ date ]</a>
              <a href="thread.html#70440">[ thread ]</a>
              <a href="subject.html#70440">[ subject ]</a>
              <a href="author.html#70440">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>2010/8/25 Kornel Lesi&#324;ski &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">kornel at geekhood.net</A>&gt;:
&gt;<i> These cases can be secured without any new features in browsers (by escaping whitespace using numeric entities):
</I>&gt;<i>
</I>&gt;<i> function htmlescape($str) {
</I>&gt;<i> &#160; &#160; &#160; &#160;return preg_replace('/[\s&lt;&gt;&quot;\'&amp;]/e','&quot;&amp;&quot;.ord(&quot;$0&quot;).&quot;;&quot;',$str);
</I>&gt;<i> }
</I>
That doesn't work in &lt;script&gt; for text/html, does it?

&gt;<i> I don't think that another escaping method would substantially improve PHP's situation. In my experience there are much more common problems that this won't solve:
</I>&gt;<i>
</I>&gt;<i> &#8226; authors don't realize that echoed data may be dangerous, e.g. they expect to get a number, and it never occurs to them that field intended for numbers isn't guaranteed to contain only numbers. Some mistakenly believe that XSS is harmless (that it affects only attacker's own browser). They wouldn't use the new escaping method.
</I>&gt;<i>
</I>&gt;<i> &#8226; PHP uses fundamentally flawed approach that requires authors to remember to escape all values all the time, and inevitably authors forget to do it sometimes. A better method, when forgotten, won't help at all.
</I>&gt;<i>
</I>&gt;<i> &#8226; Novice authors don't understand escaping and end up using wrong approach (e.g. strip_tags() and filtering of input rather than output). Escaping method that makes escaped text opaque is going to be very confusing to authors who don't understand concept of escaping.
</I>
These are reasonable points.  How many vulnerabilities would it
actually prevent in practice if htmlspecialchars() were replaced with
this everywhere?  XSS is usually when you don't escape things at all,
not when you escape them in a slightly wrong way.  Easy escaping in
&lt;script&gt; and &lt;style&gt; would be nice, though (or is there already some
way to do that?).

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070490.html">[whatwg] base64 entities
</A></li>
	<LI>Next message: <A HREF="070462.html">[whatwg] base64 entities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70440">[ date ]</a>
              <a href="thread.html#70440">[ thread ]</a>
              <a href="subject.html#70440">[ subject ]</a>
              <a href="author.html#70440">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
