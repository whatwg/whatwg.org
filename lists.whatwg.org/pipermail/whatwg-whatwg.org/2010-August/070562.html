<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] XMLHttpRequest and HTML5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20XMLHttpRequest%20and%20HTML5&In-Reply-To=%3Cop.viad9sxb64w2qv%40anne-van-kesterens-macbook-pro.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070558.html">
   <LINK REL="Next"  HREF="069995.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] XMLHttpRequest and HTML5</H1>
<!--htdig_noindex-->
    <B>Anne van Kesteren</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20XMLHttpRequest%20and%20HTML5&In-Reply-To=%3Cop.viad9sxb64w2qv%40anne-van-kesterens-macbook-pro.local%3E"
       TITLE="[whatwg] XMLHttpRequest and HTML5">annevk at opera.com
       </A><BR>
    <I>Mon Aug 30 22:16:32 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070558.html">[whatwg] XMLHttpRequest and HTML5
</A></li>
        <LI>Next message: <A HREF="069995.html">[whatwg] Please consider allowing the &lt;time&gt; element to accept	coarser granularity dates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70562">[ date ]</a>
              <a href="thread.html#70562">[ thread ]</a>
              <a href="subject.html#70562">[ subject ]</a>
              <a href="author.html#70562">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Thanks for the changes, some comments below.

On Tue, 31 Aug 2010 01:58:52 +0200, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i> On Sat, 7 Aug 2010, Anne van Kesteren wrote:
</I>&gt;&gt;<i> 2) Is there any reason we cannot also use this &quot;no browsing context&quot;
</I>&gt;&gt;<i> clause to define document.cookie rather than having a special type of
</I>&gt;&gt;<i> Document object? Seems much better.
</I>&gt;<i>
</I>&gt;<i> Since the spec is already written... I can see cases where you could have
</I>&gt;<i> a Document that had no browsing context but did have cookies. So...
</I>
But there are no such cases currently. It would be nicer if the special  
casing was the other way around so XMLHttpRequest did not have to say  
anything. (And Web DOM Core when it is written.)


&gt;&gt;<i> 4) I could not test Internet Explorer but so far only WebKit exposes
</I>&gt;&gt;<i> document.domain in XMLHttpRequest and it does not throw on getting and
</I>&gt;&gt;<i> on setting it throws a SECURITY_ERR (not INVALID_STATE_ERR). If we align
</I>&gt;&gt;<i> with document.cookie as suggested above maybe this should align too and
</I>&gt;&gt;<i> getting should return the empty string and setting should be ignored.
</I>&gt;<i>
</I>&gt;<i> Done.
</I>
I guess throwing is fine too.


&gt;&gt;<i> 5) I think we want to ban document.lastModified too. At least for
</I>&gt;&gt;<i> cross-origin requests and the way we did it elsewhere was to then ban it
</I>&gt;&gt;<i> for same-origin as well. (The HTTP header can be read instead. It also
</I>&gt;&gt;<i> does not seem like a huge loss.)
</I>&gt;<i>
</I>&gt;<i> What's wrong with exposing document.lastModified?
</I>
I guess nothing. Last-Modified is safe.


&gt;&gt;<i> 6) If you provide some hook or tell me how to do it I can define the
</I>&gt;&gt;<i> origin of the Document returned by responseXML in XMLHttpRequest.
</I>&gt;<i>
</I>&gt;<i> HTML already defines this. Or do you mean we should move that to the XHR
</I>&gt;<i> spec?
</I>
That is what I meant, yes.


&gt;&gt;<i> If we can do all this that should turn it into a one-way dependency with
</I>&gt;&gt;<i> most definitions being completely self-contained.
</I>&gt;<i>
</I>&gt;<i> I'm not sure it's worth it in the case of the origin thing.
</I>
So what happens when we define how to get a Document out of a File?


-- 
Anne van Kesteren
<A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070558.html">[whatwg] XMLHttpRequest and HTML5
</A></li>
	<LI>Next message: <A HREF="069995.html">[whatwg] Please consider allowing the &lt;time&gt; element to accept	coarser granularity dates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70562">[ date ]</a>
              <a href="thread.html#70562">[ thread ]</a>
              <a href="subject.html#70562">[ subject ]</a>
              <a href="author.html#70562">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
