<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] XMLHttpRequest and HTML5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20XMLHttpRequest%20and%20HTML5&In-Reply-To=%3Cop.vg13o01m64w2qv%40anne-van-kesterens-macbook-pro.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069990.html">
   <LINK REL="Next"  HREF="070558.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] XMLHttpRequest and HTML5</H1>
<!--htdig_noindex-->
    <B>Anne van Kesteren</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20XMLHttpRequest%20and%20HTML5&In-Reply-To=%3Cop.vg13o01m64w2qv%40anne-van-kesterens-macbook-pro.local%3E"
       TITLE="[whatwg] XMLHttpRequest and HTML5">annevk at opera.com
       </A><BR>
    <I>Sat Aug  7 00:13:41 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="069990.html">[whatwg] Timed tracks for &lt;video&gt;
</A></li>
        <LI>Next message: <A HREF="070558.html">[whatwg] XMLHttpRequest and HTML5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69992">[ date ]</a>
              <a href="thread.html#69992">[ thread ]</a>
              <a href="subject.html#69992">[ subject ]</a>
              <a href="author.html#69992">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian, if you could tackle the following soonish that would be nice as I try  
to get the test suite for XMLHttpRequest together.

1) document.location returns null when there is no browsing context for  
the Document. document.defaultView needs this too. (It returns null in the  
implementations I tested.)

2) Is there any reason we cannot also use this &quot;no browsing context&quot;  
clause to define document.cookie rather than having a special type of  
Document object? Seems much better.

3) And document.domain too, maybe? (There is a difference here currently  
which is that document.domain just special cases XMLHttpRequest whereas  
the cookie-free Document object concept also applies to createDocument().  
I suspect document.domain should have the same restrictions, but I am not  
sure. It would be nice however if document.domain did not have to  
reference XMLHttpRequest.)

4) I could not test Internet Explorer but so far only WebKit exposes  
document.domain in XMLHttpRequest and it does not throw on getting and on  
setting it throws a SECURITY_ERR (not INVALID_STATE_ERR). If we align with  
document.cookie as suggested above maybe this should align too and getting  
should return the empty string and setting should be ignored.

5) I think we want to ban document.lastModified too. At least for  
cross-origin requests and the way we did it elsewhere was to then ban it  
for same-origin as well. (The HTTP header can be read instead. It also  
does not seem like a huge loss.)

6) If you provide some hook or tell me how to do it I can define the  
origin of the Document returned by responseXML in XMLHttpRequest.

If we can do all this that should turn it into a one-way dependency with  
most definitions being completely self-contained.

Thanks,


-- 
Anne van Kesteren
<A HREF="http://annevankesteren.nl/">http://annevankesteren.nl/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069990.html">[whatwg] Timed tracks for &lt;video&gt;
</A></li>
	<LI>Next message: <A HREF="070558.html">[whatwg] XMLHttpRequest and HTML5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69992">[ date ]</a>
              <a href="thread.html#69992">[ thread ]</a>
              <a href="subject.html#69992">[ subject ]</a>
              <a href="author.html#69992">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
