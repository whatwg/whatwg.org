<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas feedback (various threads)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20feedback%20%28various%20threads%29&In-Reply-To=%3C4C631944.7030809%40davidflanagan.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070153.html">
   <LINK REL="Next"  HREF="070160.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas feedback (various threads)</H1>
<!--htdig_noindex-->
    <B>David Flanagan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20feedback%20%28various%20threads%29&In-Reply-To=%3C4C631944.7030809%40davidflanagan.com%3E"
       TITLE="[whatwg] Canvas feedback (various threads)">david at davidflanagan.com
       </A><BR>
    <I>Wed Aug 11 14:42:28 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070153.html">[whatwg] Canvas feedback (various threads)
</A></li>
        <LI>Next message: <A HREF="070160.html">[whatwg] Canvas feedback (various threads)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70154">[ date ]</a>
              <a href="thread.html#70154">[ thread ]</a>
              <a href="subject.html#70154">[ subject ]</a>
              <a href="author.html#70154">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> On Mon, 19 Jul 2010, David Flanagan wrote:
</I>&gt;&gt;<i> Even changing the argument names to neutral a,b,c,d,dx,dy would be
</I>&gt;&gt;<i> better than what is there currently.
</I>&gt;<i> 
</I>&gt;<i> Done.
</I>&gt;<i> 
</I>
Thanks


&gt;<i> On Mon, 19 Jul 2010, David Flanagan wrote:
</I>&gt;&gt;<i> While I'm harping on the transform() method, I'd like to point out that
</I>&gt;&gt;<i> the current spec text &quot;must multiply the current transformation matrix
</I>&gt;&gt;<i> with the matrix described by...&quot; is ambiguous because matrix
</I>&gt;&gt;<i> multiplication is not commutative.  Perhaps an explicit formula that
</I>&gt;&gt;<i> showed the order would be clearer.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Furthermore, if the descriptions for translate(), scale() and rotate()
</I>&gt;&gt;<i> were to altered to describe them in terms of transform() that would
</I>&gt;&gt;<i> tighten things up.
</I>&gt;<i> 
</I>&gt;<i> Could you describe what interpretations of the current text would be valid
</I>&gt;<i> but would not be compatible with the bulk of existing implementations? I'm
</I>&gt;<i> not sure how to fix this exactly. (Graphics is not my area of expertise,
</I>&gt;<i> unfortunately. I'm happy to apply any proposed text though!)
</I>&gt;<i> 
</I>
I think that the sentence &quot;The transformations must be performed in 
reverse order&quot; is sufficient to remove the ambiguity in multiplication 
order.  So the spec is correct (but confusing) as it stands, except that 
it doesn't actually say that the CTM is to be replaced with the product 
of the CTM and the new matrix.  It just says multiply them.

I suggest changing the description of transform() from:

&gt;<i> must multiply the current transformation matrix with the matrix described by:
</I>
To something like this:

must set the current transformation matrix to the matrix obtained by 
postmultiplying the current transformation matrix with this matrix:

a c e
b d f
0 0 1

That is:

              a c e
CTM = CTM *  b d f
              0 0 1

Changing translate(), scale() and rotate() to formally define them in 
terms of transform() would be simple, and the current prose descriptions 
of the methods could then be moved to the non-normative green box.  The 
current descriptions suffer from the use of the word &quot;add&quot; near the word 
&quot;matrix&quot; when in fact a matrix multiplication is to be performed, but I 
don't think they can be mis-interpreted as they stands. I'd be happy to 
write new method descriptions if you want to tighten things up in this 
way, however.

	David

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070153.html">[whatwg] Canvas feedback (various threads)
</A></li>
	<LI>Next message: <A HREF="070160.html">[whatwg] Canvas feedback (various threads)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70154">[ date ]</a>
              <a href="thread.html#70154">[ thread ]</a>
              <a href="subject.html#70154">[ subject ]</a>
              <a href="author.html#70154">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
