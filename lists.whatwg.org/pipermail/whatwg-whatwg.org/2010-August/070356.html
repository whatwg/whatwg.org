<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] On implementing videos with multiple tracks in HTML5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20On%20implementing%20videos%20with%20multiple%20tracks%20in%20HTML5&In-Reply-To=%3CAANLkTikcvd12Bqr%3DPAM9r91qRT4wzXBup7n-BJ6TtN2y%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070350.html">
   <LINK REL="Next"  HREF="070296.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] On implementing videos with multiple tracks in HTML5</H1>
<!--htdig_noindex-->
    <B>Silvia Pfeiffer</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20On%20implementing%20videos%20with%20multiple%20tracks%20in%20HTML5&In-Reply-To=%3CAANLkTikcvd12Bqr%3DPAM9r91qRT4wzXBup7n-BJ6TtN2y%40mail.gmail.com%3E"
       TITLE="[whatwg] On implementing videos with multiple tracks in HTML5">silviapfeiffer1 at gmail.com
       </A><BR>
    <I>Mon Aug 23 20:23:59 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="070350.html">[whatwg] On implementing videos with multiple tracks in HTML5
</A></li>
        <LI>Next message: <A HREF="070296.html">[whatwg] A standard for adaptive HTTP streaming for media resources
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70356">[ date ]</a>
              <a href="thread.html#70356">[ thread ]</a>
              <a href="subject.html#70356">[ subject ]</a>
              <a href="author.html#70356">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Aug 24, 2010 at 1:07 AM, Eric Carlson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">eric.carlson at apple.com</A>&gt;wrote:

&gt;<i>
</I>&gt;<i> On Aug 20, 2010, at 5:53 PM, Silvia Pfeiffer wrote:
</I>&gt;<i>
</I>&gt;<i> On Sat, Aug 21, 2010 at 10:03 AM, Eric Carlson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">eric.carlson at apple.com</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Aug 19, 2010, at 5:23 PM, Silvia Pfeiffer wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; * Whether to include a multiplexed download functionality in browsers
</I>&gt;&gt;<i> for media resources, where the browser would do the multiplexing of the
</I>&gt;&gt;<i> active media resource with all the active text, audio and video tracks? This
</I>&gt;&gt;<i> could be a context menu functionality, so is probably not so much a need to
</I>&gt;&gt;<i> include in the HTML5 spec, but it's something that browsers can consider to
</I>&gt;&gt;<i> provide. And since muxing isn't quite as difficult a functionality as e.g.
</I>&gt;&gt;<i> decoding video, it could actually be fairly cheap to implement.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   I don't understand what you mean here, can you explain?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sure. What I mean is: you get a video resource through the &lt;video&gt; element
</I>&gt;<i> and a list of text resources through the &lt;track&gt; element. If I as a user
</I>&gt;<i> want to take away (i.e. download and share with friends) the video file with
</I>&gt;<i> the text tracks that I have activated and am currently watching, then I'd
</I>&gt;<i> want a download feature that allows me to download a single multiplexed
</I>&gt;<i> video file with all the text tracks inside. Something like a MPEG-4 file
</I>&gt;<i> with the &lt;track&gt; resources encoded into, say, 3GPP-TT. Or a WebM with WebSRT
</I>&gt;<i> encoded (if there will be such a mapping). Or a Ogg file with WebSRT - maybe
</I>&gt;<i> encoded in Kate or natively.
</I>&gt;<i>
</I>&gt;<i> The simplest implementation of such a functionality is of course where the
</I>&gt;<i> external text track totally matches the format used in the media resource
</I>&gt;<i> for encoding text. Assuming WebM will have such a thing as a WebSRT track,
</I>&gt;<i> the &quot;download&quot; functionality would then consist of multiplexing a new WebM
</I>&gt;<i> resource by re-using the original WebM resource and including the WebSRT
</I>&gt;<i> tracks into that. It wouldn't require new video and audio encoding, since
</I>&gt;<i> it's just a matter of a different multiplexed container. If transcoding to
</I>&gt;<i> the text format in the native container is required, then it's a bit more
</I>&gt;<i> complex, but no less so than what we need to do for extracting such data
</I>&gt;<i> into a Web page for the JavaScript API (it's in fact the inverse of that
</I>&gt;<i> operation).
</I>&gt;<i>
</I>&gt;<i> So, I wouldn't think it's a very complex functionality, but it certainly
</I>&gt;<i> seems to be outside the HTML spec and a browser feature, possibly at first
</I>&gt;<i> even a browser plugin. Sorry if this is now off topic. :-)
</I>&gt;<i>
</I>&gt;<i>   Even in the hypothetical case where the external text track is already in
</I>&gt;<i> a format supported by the media container file, saving will require the UA
</I>&gt;<i> to regenerate the movie's &quot;table of contents&quot; (eg. the 'moov' atom in MPEG-4
</I>&gt;<i> or QuickTime files, Meta Seek Information in a WebM file) as well as muxing
</I>&gt;<i> the text track with the other media data.
</I>&gt;<i>
</I>&gt;<i>   As you note transcoding is &quot;a bit more complex&quot;, especially in the case
</I>&gt;<i> where a feature in the text track format is not supported by the text format
</I>&gt;<i> of the native container.
</I>&gt;<i>
</I>&gt;<i>   Further, what should a UA do in the case where the native container
</I>&gt;<i> format doesn't support any form of text track - eg. mp3, WAVE, etc?
</I>&gt;<i>
</I>

Well, for those you cannot obviously expect a single download file. Maybe it
makes sense to just have a download functionality that allows downloading
the text tracks as well. I was just following on from some of the user
requirements raised in this thread.



&gt;<i>   I disagree that it is not a complex feature, but I do agree that it is
</I>&gt;<i> outside of the scope of the HTML spec.
</I>&gt;<i>
</I>

I guess the complexity really depends on the format in use. For Ogg there is
plenty of software available to demux and remux bitstreams, which is the
main functionality here. The second part is the encoding of the text track,
which again for Ogg has separate tools and libraries. After downloading the
text tracks and the Ogg file separately, I would find it very easy to create
a new multiplexed file using all these tools. That's where my judgement of
&quot;simple&quot; came from. But you are probably right and it's a lot more
complicated for other formats.

Enough off-topic brainstorming. ;-) I think we have more important things to
solve right now.

Cheers,
Silvia.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100824/ff0ad2a0/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20100824/ff0ad2a0/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070350.html">[whatwg] On implementing videos with multiple tracks in HTML5
</A></li>
	<LI>Next message: <A HREF="070296.html">[whatwg] A standard for adaptive HTTP streaming for media resources
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70356">[ date ]</a>
              <a href="thread.html#70356">[ thread ]</a>
              <a href="subject.html#70356">[ subject ]</a>
              <a href="author.html#70356">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
