<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Scripting and WF2 repetition model?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Scripting%20and%20WF2%20repetition%20model%3F&In-Reply-To=%3CPine.LNX.4.64.0703141842180.5334%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="052518.html">
   <LINK REL="Next"  HREF="052396.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Scripting and WF2 repetition model?</H1>
<!--htdig_noindex-->
    <B>Dave Raggett</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Scripting%20and%20WF2%20repetition%20model%3F&In-Reply-To=%3CPine.LNX.4.64.0703141842180.5334%40localhost%3E"
       TITLE="[whatwg] Scripting and WF2 repetition model?">dsr at w3.org
       </A><BR>
    <I>Wed Mar 14 11:53:49 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="052518.html">[whatwg] List of links idea (href=&quot;&quot; stuff)
</A></li>
        <LI>Next message: <A HREF="052396.html">[whatwg] Scripting and WF2 repetition model?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52394">[ date ]</a>
              <a href="thread.html#52394">[ thread ]</a>
              <a href="subject.html#52394">[ subject ]</a>
              <a href="author.html#52394">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I am trying to put together a demo for Web Forms 2.0 where each row 
has a product name, quantity and unit price, and there is a summary 
field at the end of the form showing the total price.

I have been able to get the repetition to work fine, once I realized 
that the thead and tbody elements are needed, without them the 
column headers mysteriously appear at the bottom of the table, but 
perhaps that's just a bug in Opera 9.

What I haven't yet worked out is how to address the fields in each 
row from the onforminput event handler set on the form element.
In the following, I get an alert that the form object is missing the
row, and then an error. Any ideas on how to address the fields in
a script that iterates across the rows and fields?

&lt;script type=&quot;text/javascript&quot;&gt;
function update()
{
   var form = document.forms[0];
   if (!form) alert(&quot;missing form&quot;);
   if (!form.row) alert(&quot;form is missing row&quot;);
   alert(&quot;rows = &quot; + form.row[0].item.value);
}
&lt;/script&gt;

&lt;form name=&quot;form1&quot; onsubmit=&quot;false&quot; onforminput=&quot;update()&quot;&gt;
&lt;fieldset name=&quot;lineItem&quot;&gt;
&lt;legend&gt;Repeating groups of fields&lt;/legend&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td&gt;Product Name&lt;/td&gt;
&lt;td&gt;Quantity&lt;/td&gt;
&lt;td&gt;Price Per Unit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr id=&quot;lineitem&quot; repeat=&quot;template&quot; repeat-start=&quot;4&quot;&gt;
&lt;td&gt;&lt;input name=&quot;row[lineitem].item&quot; type=&quot;text&quot; title=&quot;product 
name&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input name=&quot;row[lineitem]quantity&quot; type=&quot;number&quot; title=&quot;number 
purchased&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input name=&quot;row[lineitem]unitprice&quot; type=&quot;number&quot; title=&quot;price 
per unit&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/fieldset&gt;

&lt;p&gt;&lt;label for=&quot;total&quot;&gt;Total price&lt;/label&gt;
&lt;input name=&quot;total&quot; readonly=&quot;readonly&quot;&gt;
&lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;
&lt;button type=&quot;reset&quot;&gt;Reset&lt;/button&gt;&lt;/p&gt;
&lt;/form&gt;


  Dave Raggett &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dsr at w3.org</A>&gt; <A HREF="http://www.w3.org/People/Raggett">http://www.w3.org/People/Raggett</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="052518.html">[whatwg] List of links idea (href=&quot;&quot; stuff)
</A></li>
	<LI>Next message: <A HREF="052396.html">[whatwg] Scripting and WF2 repetition model?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52394">[ date ]</a>
              <a href="thread.html#52394">[ thread ]</a>
              <a href="subject.html#52394">[ subject ]</a>
              <a href="author.html#52394">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
