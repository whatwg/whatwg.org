<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] IRIs vs. URIs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20IRIs%20vs.%20URIs&In-Reply-To=%3C20070313232952.GA28312%40ridley.dbaron.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010087.html">
   <LINK REL="Next"  HREF="010100.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] IRIs vs. URIs</H1>
<!--htdig_noindex-->
    <B>L. David Baron</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20IRIs%20vs.%20URIs&In-Reply-To=%3C20070313232952.GA28312%40ridley.dbaron.org%3E"
       TITLE="[whatwg] IRIs vs. URIs">dbaron at dbaron.org
       </A><BR>
    <I>Tue Mar 13 16:29:52 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="010087.html">[whatwg] URIs vs. URI references (and IRIs vs. IRI references)
</A></li>
        <LI>Next message: <A HREF="010100.html">[whatwg] IRIs vs. URIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10088">[ date ]</a>
              <a href="thread.html#10088">[ thread ]</a>
              <a href="subject.html#10088">[ subject ]</a>
              <a href="author.html#10088">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE><A HREF="http://www.whatwg.org/specs/web-apps/current-work/#terminology">http://www.whatwg.org/specs/web-apps/current-work/#terminology</A> says:
  # For readability, the term URI is used to refer to both ASCII 
  # URIs and Unicode IRIs, as those terms are defined by [RFC3986]
  # and [RFC3987]  respectively. On the rare occasions where IRIs 
  # are not allowed but ASCII URIs are, this is called out
  # explicitly.
This is rather misleading, since backwards compatible use of URIs is
not ASCII-only.  While IRIs are a superset of conformant URIs, IRIs
are a subset of real-world-URIs, since they have the encoding fixed
to UTF-8.  Backwards-compatible URI handling tries to send the same
sequence of bytes that was in the document back to the server,
percent-encoded byte-by-byte, by encoding the URI based on the
encoding of the document.

I tend to think it would be good that new uses of URIs/IRIs document
that they are really IRIs and therefore this reverse-encoding
behavior should not be used, but instead encoding should be done as
UTF-8.

The repeated language in the spec that something is a URI or IRI
doesn't make sense -- it really does need to be one or the other.

(In Mozilla's codebase such distinctions are easy to implement since
we have to pass along the encoding of the document every time we
create a URI in order to get this backwards-compatible behavior.
Failing to do so makes the code use UTF-8, which means, I think,
that it's an IRI.  At least, it's easy to implement if the things
that are URIs and the things that are IRIs go through the same
codepath.)

It would probably be good if the spec documented how the encoding
issues in URIs are actually handled.

(My understanding of this stuff may be a bit off, although this also
isn't the clearest explanation I could make of what I do know about
it...)

-David

-- 
L. David Baron                                &lt;URL: <A HREF="http://dbaron.org/">http://dbaron.org/</A> &gt;
           Technical Lead, Layout &amp; CSS, Mozilla Corporation
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20070313/9f6e8cf5/attachment.pgp">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20070313/9f6e8cf5/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010087.html">[whatwg] URIs vs. URI references (and IRIs vs. IRI references)
</A></li>
	<LI>Next message: <A HREF="010100.html">[whatwg] IRIs vs. URIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10088">[ date ]</a>
              <a href="thread.html#10088">[ thread ]</a>
              <a href="subject.html#10088">[ subject ]</a>
              <a href="author.html#10088">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
