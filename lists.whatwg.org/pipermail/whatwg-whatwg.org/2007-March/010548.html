<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;video&gt; element feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cvideo%3E%20element%20feedback&In-Reply-To=%3C838CF574-BB37-4189-96D3-2D139ED69312%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010545.html">
   <LINK REL="Next"  HREF="010555.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;video&gt; element feedback</H1>
<!--htdig_noindex-->
    <B>Eric Carlson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cvideo%3E%20element%20feedback&In-Reply-To=%3C838CF574-BB37-4189-96D3-2D139ED69312%40apple.com%3E"
       TITLE="[whatwg] &lt;video&gt; element feedback">eric.carlson at apple.com
       </A><BR>
    <I>Fri Mar 23 16:33:39 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="010545.html">[whatwg] &lt;video&gt; element feedback
</A></li>
        <LI>Next message: <A HREF="010555.html">[whatwg] &lt;video&gt; element feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10548">[ date ]</a>
              <a href="thread.html#10548">[ thread ]</a>
              <a href="subject.html#10548">[ subject ]</a>
              <a href="author.html#10548">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Mar 23, 2007, at 3:49 PM, Silvia Pfeiffer wrote:

&gt;<i> Hi Eric,
</I>&gt;<i>
</I>&gt;<i> On 3/24/07, Eric Carlson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">eric.carlson at apple.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  Even without a server component, #2 and #3 do not require the UA to
</I>&gt;&gt;<i> download the full file if it can use byte range requests for random  
</I>&gt;&gt;<i> access
</I>&gt;&gt;<i> and the file format has time to offset tables (eg. the 'moov'  
</I>&gt;&gt;<i> resource in a
</I>&gt;&gt;<i> QuickTime movie or ISO-based file, the 'movi' LIST chunk in an AVI  
</I>&gt;&gt;<i> file,
</I>&gt;&gt;<i> etc).
</I>&gt;<i>
</I>&gt;<i> I agree partially.
</I>&gt;<i>
</I>&gt;<i> You're right - it doesn't need to download everything.
</I>&gt;<i>
</I>&gt;<i> But there are two catches:
</I>&gt;<i>
</I>&gt;<i> 1) The UA doesn't know what byterange a timecode or timerange maps to.
</I>&gt;<i> So, it has to request this information from the server, who has access
</I>&gt;<i> to the file. For QuickTime movies, the UA would need to request the
</I>&gt;<i> offset table from the server and for AVI it would need to request the
</I>&gt;<i> chunking information.
</I>&gt;<i>
</I>&gt;<i> 2) Just streaming from an offset of a video file often breaks the file
</I>&gt;<i> format. For nearly all video formats, there are headers at the
</I>&gt;<i> beginning of a video file which determine how to decode the video
</I>&gt;<i> file. Lacking this information, the video files cannot be decoded.
</I>&gt;<i> Therefore, a simple byterange request of a subpart of the video only
</I>&gt;<i> results in undecodable content. The server actually has to be more
</I>&gt;<i> intelligent and provide a re-assembled correct video file if it is to
</I>&gt;<i> stream from an offset.
</I>&gt;<i>
</I>     Yes, the UA needs the offset/chunking table in order to calculate  
a file offset for a time, but this is efficient in the case of  
container formats in which the table is stored together with other  
information that's needed to play the file. This is not the case for  
all container formats, of course.

   The UA would first use byte range requests to download the header.  
If the information is stored somewhere other than the beginning of the  
file, it may take several byterange requests to find it, but this is  
not much less efficient with ISO-derived or RIFF type formats. Once is  
has the headers, it will able to calculate the offset for any time in  
the file and it can request and play the media for *any* time range in  
the file.

   This scheme has the added benefit of not requiring the header to be  
downloaded again if the user requests another time range in the same  
file.

eric

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20070323/daf9fe1c/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20070323/daf9fe1c/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010545.html">[whatwg] &lt;video&gt; element feedback
</A></li>
	<LI>Next message: <A HREF="010555.html">[whatwg] &lt;video&gt; element feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10548">[ date ]</a>
              <a href="thread.html#10548">[ thread ]</a>
              <a href="subject.html#10548">[ subject ]</a>
              <a href="author.html#10548">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
