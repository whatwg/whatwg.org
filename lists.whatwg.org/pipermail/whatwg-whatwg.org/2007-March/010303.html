<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] window.opener and security
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20window.opener%20and%20security&In-Reply-To=%3Ccee13aa30703200851p711b182fi63108d1dd4e66635%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010309.html">
   <LINK REL="Next"  HREF="010305.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] window.opener and security</H1>
<!--htdig_noindex-->
    <B>liorean</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20window.opener%20and%20security&In-Reply-To=%3Ccee13aa30703200851p711b182fi63108d1dd4e66635%40mail.gmail.com%3E"
       TITLE="[whatwg] window.opener and security">liorean at gmail.com
       </A><BR>
    <I>Tue Mar 20 08:51:44 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="010309.html">[whatwg] window.opener and security
</A></li>
        <LI>Next message: <A HREF="010305.html">[whatwg] window.opener and security
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10303">[ date ]</a>
              <a href="thread.html#10303">[ thread ]</a>
              <a href="subject.html#10303">[ subject ]</a>
              <a href="author.html#10303">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 20/03/07, Gareth Hay &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">gazhay at gmail.com</A>&gt; wrote:
&gt;<i> As was clearly stated, I showed a workaround and then suggested it
</I>&gt;<i> should be up to the UA to handle this situation.
</I>&gt;<i> It is not helpful to deliberately misunderstand points, and quote
</I>&gt;<i> them out of context. I suggest you re-read my mail.
</I>
You showed a workaround for a different problem than that which
Hallvord initially tried to solve.

The original problem is that browsers allow cross domain setting of
windowobject.location. Whether windowobject in this case comes from
window.opener isn't really relevant, except that it provides a method
of getting a windowobject reference.

Hallvord's solution is a workaround - it addresses the ability to get
that windowobject reference, even though it doesn't address the core
problem.

On 20/03/07, Gareth Hay &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">gazhay at gmail.com</A>&gt; wrote:
&gt;<i> 1) Either it is your responsibility to handle the nulling of the
</I>&gt;<i> property *or*
</I>&gt;<i> 2) It is the UA's.
</I>&gt;<i>
</I>&gt;<i> I personally think the UA should handle it (as stated previously)
</I>&gt;<i> **BUT** if they do not, you *ARE* responsible for programming
</I>&gt;<i> correctly and using an unload to null the property when someone
</I>&gt;<i> navigates away.
</I>
I do agree about the responsibility side here. It's just doesn't
address the core problem at all.

&gt;<i> **AND** you seem to want this extension to cure a problem, that is
</I>&gt;<i> also cured by window.opener.opener
</I>
No. He just gave a counterexample to your suggestion, a use case your
solution would have broken. It wasn't relevant for his original
proposal.



Some thing I would like to add here, is that your &quot;solution&quot; doesn't
do anything to solve the actual l problem case. Even if window.opener
would be read only, that is just a reference to a window object. Even
if that property would be read only you could still write to the
location property of the window object it references. For your
solution to work the read only attribute would have to cascade to all
properties, something defying the nature of JavaScript.

A much better solution, in my opinion, would be to make the location
object safe from cross domain attacks by making it only writable from
same domain, or if the document does not have a domain yet.
(window.open without address) I do think this would break some sites,
however.

Hallvord's solution of allowing sites to disable the window.opener
property and thereby preventing the writing to window.opener.location
does solve the problem for that particular window object, as an opt-in
security measure. The main problem I see with this approach is that if
people aren't nulling the window.opener property already I don't think
they would opt in for another alternative method of doing it. Actually
fixing cross domain writing to the location object would.
-- 
David &quot;liorean&quot; Andersson

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010309.html">[whatwg] window.opener and security
</A></li>
	<LI>Next message: <A HREF="010305.html">[whatwg] window.opener and security
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10303">[ date ]</a>
              <a href="thread.html#10303">[ thread ]</a>
              <a href="subject.html#10303">[ subject ]</a>
              <a href="author.html#10303">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
