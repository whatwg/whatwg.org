<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;video&gt; element feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cvideo%3E%20element%20feedback&In-Reply-To=%3CPine.LNX.4.62.0703202001560.18081%40dhalsim.dreamhost.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="052632.html">
   <LINK REL="Next"  HREF="052586.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;video&gt; element feedback</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cvideo%3E%20element%20feedback&In-Reply-To=%3CPine.LNX.4.62.0703202001560.18081%40dhalsim.dreamhost.com%3E"
       TITLE="[whatwg] &lt;video&gt; element feedback">ian at hixie.ch
       </A><BR>
    <I>Tue Mar 20 14:08:37 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="052632.html">[whatwg] &lt;video&gt; element feedback
</A></li>
        <LI>Next message: <A HREF="052586.html">[whatwg] &lt;video&gt; element feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52584">[ date ]</a>
              <a href="thread.html#52584">[ thread ]</a>
              <a href="subject.html#52584">[ subject ]</a>
              <a href="author.html#52584">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 20 Mar 2007, Gareth Hay wrote:
&gt;<i>
</I>&gt;<i> I do fully understand the points you make below, but I am not sure I fully
</I>&gt;<i> subscribe to the logic.
</I>&gt;<i> 
</I>&gt;<i> &gt; &lt;embed&gt; is in HTML5 specifically for plugins.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; However, for &lt;embed&gt;, &lt;object&gt;, &lt;iframe&gt;, and &lt;video&gt;, the spec 
</I>&gt;<i> &gt; doesn't require that UAs implement the features using plugins or using 
</I>&gt;<i> &gt; native code. For example, Mozilla natively supports SVG in &lt;embed&gt; (it 
</I>&gt;<i> &gt; doesn't require a plugin). Similarly, you could see &lt;video&gt; be 
</I>&gt;<i> &gt; implemented as a special-case plugin. That's an implementation detail 
</I>&gt;<i> &gt; and doesn't really affect the spec.
</I>&gt;<i> 
</I>&gt;<i> I think we have then arrived at tags-for-everything.
</I>&gt;<i> (&lt;img&gt;&lt;video&gt;&lt;audio&gt;&lt;embed&gt;&lt;iframe&gt; cover everything do they not?)
</I>
Oh no, there are many more types of media that exist or can exist. &lt;3d&gt;, 
&lt;smell&gt;, &lt;animation&gt;, &lt;tactile&gt;... some media don't exist in digital form 
yet, but they will in due course; others exist in niche markets but may 
become more popular... some simply haven't been thought of yet.


&gt;<i> However, I think if &lt;object&gt; is so widely derided by everyone, than I 
</I>&gt;<i> think it needs to be depreciated sooner rather than later.
</I>
I have seriously considered doing this. Unfortunately I don't think we can 
actually do it given the large amount of legacy content, e.g. tutorials 
for how to embed flash which encourage use of &lt;object&gt;.



On Wed, 21 Mar 2007, Lachlan Hunt wrote:
&gt;<i> &gt; 
</I>&gt;<i> &gt; I only included togglePause() because Flash supports it and some 
</I>&gt;<i> &gt; people asked for it; I'm not convinced we should keep it.
</I>&gt;<i> 
</I>&gt;<i> I'm in favour of dropping it.  It's an unnecessary API for browsers to 
</I>&gt;<i> support.  It adds nothing that can't be done with play()/pause() and an 
</I>&gt;<i> if statement.
</I>&gt;<i> 
</I>&gt;<i> if (video.state == HTMLVideoElement.PAUSED) {
</I>&gt;<i>     video.play();
</I>&gt;<i> } else {
</I>&gt;<i>     video.pause();
</I>&gt;<i> }
</I>
On Tue, 20 Mar 2007, Jeff Cutsinger wrote:
&gt;<i> 
</I>&gt;<i> +1.
</I>
I've commented it out for now. Let's see how many people complain.



On Tue, 20 Mar 2007, Shadow2531 wrote:
&gt;<i> 
</I>&gt;<i> So, if one used &lt;video src=&quot;200x200.ogg&quot; style=&quot;width: 800px; height: 
</I>&gt;<i> 800px;&quot;&gt;&lt;/video&gt; , there'd be no way to make the video display at 200 x 
</I>&gt;<i> 200 because it would always scale?
</I>
Currently, correct.


&gt;<i> If so, if one wanted to simulate the look I'm describing, would one have 
</I>&gt;<i> to do the following for example?
</I>&gt;<i> 
</I>&gt;<i> &lt;figure style=&quot;width: 800px; height: 800px; background: #000;&quot;&gt;
</I>&gt;<i>    &lt;video src=&quot;200x200.ogg&quot; style=&quot;width: 200px; height: 200px;&quot;&gt;&lt;/video&gt;
</I>&gt;<i> &lt;/figure&gt;
</I>&gt;<i> 
</I>&gt;<i> (Just want to be sure.)
</I>
Yeah, you could do that.



&gt;<i> I'm thinking more along the lines of a local HTML page that embeds a 
</I>&gt;<i> local video (one of your favorites for example) where when you load the 
</I>&gt;<i> page (via a bookmark or a panel for example), it automatically starts 
</I>&gt;<i> and is set to loop (because you authored it that way).
</I>
Well for local content we don't need to worry about interoperability 
(since the user makes it for himself on his user agent), so user agents 
are free to add vendor extensions to do this, or the user could use JS, or 
the user could do something that doesn't involve HTML at all, that's not 
really our problem.


&gt;<i> So, this is all that is needed to do autostart?
</I>&gt;<i> 
</I>&gt;<i> window.onload = function() {
</I>&gt;<i>    document.getElementsByTagName(&quot;video&quot;)[0].play();
</I>&gt;<i> };
</I>
That will do it, yes, assuming the user agent doesn't block it (the spec 
allows that, under use control).


&gt;<i> &gt; &gt; However, if JS is needed for the video element to function at all, 
</I>&gt;<i> &gt; &gt; then the video element needs to fall back if JS is turned off.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Interesting point.
</I>&gt;<i> 
</I>&gt;<i> Yes, since JS is required, if JS is off, the browser should display the 
</I>&gt;<i> alternate content.
</I>&gt;<i> 
</I>&gt;<i> &gt; You can do this with JS, of course (and that's the preferred way; hide 
</I>&gt;<i> &gt; the fallback when you have JS).
</I>&gt;<i> 
</I>&gt;<i> Are you saying that with JS on, the fallback content will be displayed 
</I>&gt;<i> in addition to the video and you have to use JS to hide the fallback 
</I>&gt;<i> content like the following?
</I>&gt;<i>
</I>&gt;<i> window.onload = function() {
</I>&gt;<i>    var x = document.getElementsByTagName(&quot;video&quot;)[0];
</I>&gt;<i>    x.play();
</I>&gt;<i>    x.innerHTML = &quot;&quot;;
</I>&gt;<i> };
</I>
No, I meant something like:

   &lt;section id=&quot;video&quot;&gt;
     &lt;p&gt;You need JavaScript turned on to do video.&lt;/p&gt;
   &lt;/section&gt;
   &lt;script&gt;
     // clear the fallback
     var v = document.getElementById('video');
     while (v.hasChildNodes) v.removeChild(v.firstChild);

     // get the data to play
     var src = 'video.ogg';

     // create the UI
     default xml namespace = &quot;<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>&quot;;
     var ui = &lt;div&gt;
                &lt;p&gt;&lt;video src={src}&gt;&lt;/video&gt;&lt;/p&gt;
                &lt;p&gt;
                 &lt;input type=&quot;button&quot; value=&quot;Play&quot; onclick=&quot;vPlay()&quot;/&gt; 
                 &lt;input type=&quot;button&quot; value=&quot;Pause&quot; onclick=&quot;vPause()&quot;/&gt; 
                &lt;/p&gt;
              &lt;/div&gt;;
     var video = ui..video.domNode();
     function vPlay() { video.play() }
     function vPause() { video.pause() }
     v.appendChild(ui.domNode());

     // start playback
     video.play();
   &lt;/script&gt;

Or, probably better:

   &lt;section id=&quot;no-js-warning&quot;&gt;
     &lt;p&gt;You need JavaScript turned on to do video.&lt;/p&gt;
   &lt;/section&gt;
   &lt;section id=&quot;video&quot;&gt;
     &lt;p&gt;&lt;video src=&quot;video.ogg&quot;&gt;&lt;/p&gt;
     &lt;p&gt;
       &lt;input type=&quot;button&quot; value=&quot;Play&quot; onclick=&quot;vPlay()&quot;/&gt; 
       &lt;input type=&quot;button&quot; value=&quot;Pause&quot; onclick=&quot;vPause()&quot;/&gt; 
     &lt;/p&gt;
   &lt;/section&gt;
   &lt;script&gt;
     // clear the fallback
     var f = document.getElementById('no-js-warning');
     f.parentNode.removeChild(f);

     // UI functions
     function vPlay() { video.play() }
     function vPause() { video.pause() }

     // start playback
     video.play();
   &lt;/script&gt;
   


On Tue, 20 Mar 2007, Simon Pieters wrote:
&gt;<i> 
</I>&gt;<i> BTW, this would be a lot simpler to do if the src=&quot;&quot; attribute was made
</I>&gt;<i> optional:
</I>&gt;<i> 
</I>&gt;<i>    &lt;video&gt;&lt;p&gt;fallback&lt;/p&gt;&lt;/video&gt;
</I>&gt;<i>    &lt;script&gt;
</I>&gt;<i>     document.getElementsByTagName(&quot;video&quot;)[0].src = &quot;foo.ogg&quot;;
</I>&gt;<i>    &lt;/script&gt;
</I>&gt;<i> 
</I>&gt;<i> I think this should be allowed. Without the src attribute, the video 
</I>&gt;<i> element could represent a placeholder where a video might have been 
</I>&gt;<i> relevant (e.g. if scripting was enabled).
</I>
Currently without a src=&quot;&quot; attribute the element represents a black 
square. I think that's better than having the entire rendering change when 
you change the src=&quot;&quot;, no? We could make src=&quot;&quot; optional; it's only 
required for consistency with other things in the spec right now. I don't 
really have strong opinions on the requiredness of attributes.



On Tue, 20 Mar 2007, Matthew Ratzloff wrote:
&gt;<i>
</I>&gt;<i> However, two points:
</I>&gt;<i> 
</I>&gt;<i> a) The current API for Video as specified in the WHAT specification 
</I>&gt;<i> applies just as easily to audio, except for videoWidth and videoHeight 
</I>&gt;<i> properties.  What are the barriers to a single element with a common 
</I>&gt;<i> interface?
</I>
Well, there are big differences (like, video has an aspect ratio and 
renders video!), but yes, the API could probabl be reused without many 
differences. I'm not adding &lt;audio&gt; yet -- demand doesn't seem as high as 
for &lt;video&gt;, people were asking for &lt;video&gt; independently, but nobody 
asked for &lt;audio&gt; before &lt;video&gt; was considered -- but if we add it I 
assume we will use a similar API.


&gt;<i> b) The element (whatever it becomes) should handle all video, not just
</I>&gt;<i> native video.
</I>
That's an implementation detail. Whether support is native, reuses OS 
features, plugins, DLLs, or whatever, makes no difference to the spec.


&gt;<i> Browsers should see if a video is unsupported and show the fallback 
</I>&gt;<i> message, which would contain a link to download the appropriate 
</I>&gt;<i> software.  For example,
</I>&gt;<i> 
</I>&gt;<i> &lt;video src=&quot;example.wmv&quot;&gt;
</I>&gt;<i>     This is a Windows Media Video file, but you need to download
</I>&gt;<i> such-and-such to display it in your browser.
</I>&gt;<i> &lt;/video&gt;
</I>
The fallback isn't done that way in the spec today because that kind of 
fallback has been a source of bugs in browsers when it comes to other 
features (e.g. &lt;object&gt;); however, the spec provides the information to 
the script, though 'error' events, so you can achieve the same effect.



On Wed, 21 Mar 2007, Laurens Holst wrote:
&gt;<i> &gt; 
</I>&gt;<i> &gt; I see the need for a standalone element now.
</I>&gt;<i> 
</I>&gt;<i> Why? There is no overloading going on anywhere.
</I>
&lt;object&gt; right now is overloaded to do at least four things:

   * inline images
   * plugins
   * nested browsing contexts (iframes)
   * fallback container

...each of which has very distinct behaviour (e.g. whether it has a 
scripting context, whether it shrinkwraps, whether it is replaced or not; 
whether it invokes an external program, what kind of decoder it uses). 
Adding a fifth (inline video with an API) would increase the complexity 
yet again.

&lt;object&gt; is *very badly* implemented. It has been a decade since &lt;object&gt; 
was first created and browsers STILL don't do it right in all cases (or 
even in most cases, frankly). Adding more complexity to such a disaster 
zone is bad design.


&gt;<i> First of all, if one would just take a practical approach and think in 
</I>&gt;<i> terms of solutions instead of impossibilities, you could simply have a 
</I>&gt;<i> property HTMLObject.objectController, which then gets you an object 
</I>&gt;<i> specific to the &#8216;media group&#8217;.
</I>
It wouldn't be &quot;simply&quot;, though. You'd need to define how to determine 
what the media group is, you'd need to define how to change from one type 
to another, you'd need to have browsers implement all this on top of all 
their existing bugs -- sometimes, it's just better to keep things 
separate, even if they seem like they could be abstracted out into one 
concept. We can't ignore our past experiences in designing HTML5.


(Incidentally, this message and the previous one was BCC'ed to everyone 
who wrote e-mails that I took into account when designing the changes to 
the spec. I didn't necessarily actually reply to each one, because many of 
them said the same thing. Apologies for any confusion if you were BCC'ed 
but didn't know why.)

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="052632.html">[whatwg] &lt;video&gt; element feedback
</A></li>
	<LI>Next message: <A HREF="052586.html">[whatwg] &lt;video&gt; element feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52584">[ date ]</a>
              <a href="thread.html#52584">[ thread ]</a>
              <a href="subject.html#52584">[ subject ]</a>
              <a href="author.html#52584">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
