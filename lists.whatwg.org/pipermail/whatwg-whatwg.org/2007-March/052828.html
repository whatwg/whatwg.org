<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;video&gt; element feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cvideo%3E%20element%20feedback&In-Reply-To=%3C4604D6F0.7080601%40ucsc.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="052821.html">
   <LINK REL="Next"  HREF="052833.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;video&gt; element feedback</H1>
<!--htdig_noindex-->
    <B>Michael Dale</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cvideo%3E%20element%20feedback&In-Reply-To=%3C4604D6F0.7080601%40ucsc.edu%3E"
       TITLE="[whatwg] &lt;video&gt; element feedback">dale at ucsc.edu
       </A><BR>
    <I>Sat Mar 24 00:44:48 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="052821.html">[whatwg] &lt;video&gt; element feedback
</A></li>
        <LI>Next message: <A HREF="052833.html">[whatwg] &lt;video&gt; element feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52828">[ date ]</a>
              <a href="thread.html#52828">[ thread ]</a>
              <a href="subject.html#52828">[ subject ]</a>
              <a href="author.html#52828">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Eric Carlson wrote:
&gt;<i>     Yes, the UA needs the offset/chunking table in order to calculate 
</I>&gt;<i> a file offset for a time, but this is efficient in the case of 
</I>&gt;<i> container formats in which the table is stored together with other 
</I>&gt;<i> information that's needed to play the file. This is not the case for 
</I>&gt;<i> all container formats, of course.
</I>&gt;<i>
</I>&gt;<i>   The UA would first use byte range requests to download the 
</I>&gt;<i> header. If the information is stored somewhere other than the 
</I>&gt;<i> beginning of the file, it may take several byterange requests to find 
</I>&gt;<i> it, but this is not much less efficient with ISO-derived or RIFF type 
</I>&gt;<i> formats. Once is has the headers, it will able to calculate the offset 
</I>&gt;<i> for any time in the file and it can request and play the media for 
</I>&gt;<i> *any* time range in the file.
</I>&gt;<i>
</I>&gt;<i>   This scheme has the added benefit of not requiring the header to be 
</I>&gt;<i> downloaded again if the user requests another time range in the same file.
</I>There is no reason why both methods can't be supported. If people wanted 
to use annodex for seeking they could just write a js function that will 
remap the src of the video element on seek overriding the UA http offset 
seek method.
The UA http offset method evoked by stream_id#time as the src would be 
more or less equivalent to the calling stream_id.seek(time); 

All that is required of video element is that it be open to annodex 
content and not freak out when the src element has a request string and 
the timestamps for the video stream don't start with zero.

VLC does what you describe (arbitrary seeking when playing over http). 
VLC does this fairly well for arbitrary codec/containers but its 
performs varies per codec/container in accuracy and the amount of 
request/time it takes to jump to the desired location... But I think UA 
local seeking will work fine for most usage scenarios where end users 
are writing html and want to highlight a given section of a single clip 
on a page.

Having the server handle it with annodex dramatically shortens the time 
it takes to jump to the requested offset. This is important for sequence 
together segments from lots of different files. Or if you want to let 
the end user download a segment of the video which they can edit and use 
locally. For example with metavid we have 7-8 hour streams and letting 
people grab just a 1 min section that they can use locally is important 
and having the video element support playback of these segments is also 
important :)

--michael


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="052821.html">[whatwg] &lt;video&gt; element feedback
</A></li>
	<LI>Next message: <A HREF="052833.html">[whatwg] &lt;video&gt; element feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52828">[ date ]</a>
              <a href="thread.html#52828">[ thread ]</a>
              <a href="subject.html#52828">[ subject ]</a>
              <a href="author.html#52828">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
