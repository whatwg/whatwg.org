<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] IRIs vs. URIs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20IRIs%20vs.%20URIs&In-Reply-To=%3C20070314185747.GA6233%40ridley.dbaron.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010100.html">
   <LINK REL="Next"  HREF="010124.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] IRIs vs. URIs</H1>
<!--htdig_noindex-->
    <B>L. David Baron</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20IRIs%20vs.%20URIs&In-Reply-To=%3C20070314185747.GA6233%40ridley.dbaron.org%3E"
       TITLE="[whatwg] IRIs vs. URIs">dbaron at dbaron.org
       </A><BR>
    <I>Wed Mar 14 11:57:47 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="010100.html">[whatwg] IRIs vs. URIs
</A></li>
        <LI>Next message: <A HREF="010124.html">[whatwg] IRIs vs. URIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10122">[ date ]</a>
              <a href="thread.html#10122">[ thread ]</a>
              <a href="subject.html#10122">[ subject ]</a>
              <a href="author.html#10122">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wednesday 2007-03-14 15:20 +0100, Peter Karlsson wrote:
&gt;<i> L. David Baron on 2007-03-13:
</I>&gt;<i> 
</I>&gt;<i> &gt;I tend to think it would be good that new uses of URIs/IRIs document that 
</I>&gt;<i> &gt;they are really IRIs and therefore this reverse-encoding behavior should 
</I>&gt;<i> &gt;not be used, but instead encoding should be done as UTF-8.
</I>&gt;<i> 
</I>&gt;<i> You cannot have UTF-8 encoding just for the URIs/IRIs, and another encoding 
</I>&gt;<i> for the rest of the source text. To properly parse a URI/IRI in the source 
</I>&gt;<i> document, you must first convert the bytes in the resource into a stream of 
</I>&gt;<i> Unicode characters.
</I>
No, it's the *encoding* (conversion from characters to bytes) that
should be done as UTF-8, not the *decoding* (conversion from bytes
to characters).  The URIs within the document are decoded along with
the rest of the document.  But to send them back to the server they
need to be encoded (converted from characters back to bytes) and
then percent-escaped.

If we say they're IRIs then the encoding step is always encoding to
UTF-8.  But the traditional behavior for URIs has been to encode
based on the encoding of the document, which requires tracking, for
every URI, what the encoding of the document, style sheet, or script
that contained it was.  (I don't think Mozilla does this for
scripts, but we do for style sheets and documents.)

-David

-- 
L. David Baron                                &lt;URL: <A HREF="http://dbaron.org/">http://dbaron.org/</A> &gt;
           Technical Lead, Layout &amp; CSS, Mozilla Corporation
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20070314/45a33c9a/attachment.pgp">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20070314/45a33c9a/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010100.html">[whatwg] IRIs vs. URIs
</A></li>
	<LI>Next message: <A HREF="010124.html">[whatwg] IRIs vs. URIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10122">[ date ]</a>
              <a href="thread.html#10122">[ thread ]</a>
              <a href="subject.html#10122">[ subject ]</a>
              <a href="author.html#10122">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
