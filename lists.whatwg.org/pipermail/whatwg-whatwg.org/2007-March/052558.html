<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] window.opener and security
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20window.opener%20and%20security&In-Reply-To=%3CDB5FA01E-30D7-4576-9843-B3A0741945A4%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="052557.html">
   <LINK REL="Next"  HREF="052559.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] window.opener and security</H1>
<!--htdig_noindex-->
    <B>Gareth Hay</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20window.opener%20and%20security&In-Reply-To=%3CDB5FA01E-30D7-4576-9843-B3A0741945A4%40gmail.com%3E"
       TITLE="[whatwg] window.opener and security">gazhay at gmail.com
       </A><BR>
    <I>Tue Mar 20 04:44:34 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="052557.html">[whatwg] window.opener and security
</A></li>
        <LI>Next message: <A HREF="052559.html">[whatwg] window.opener and security
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52558">[ date ]</a>
              <a href="thread.html#52558">[ thread ]</a>
              <a href="subject.html#52558">[ subject ]</a>
              <a href="author.html#52558">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>window.opener should be read-only and attempting to write to it  
should throw an exception.

This is a similar issue to window.history, in certain browsers you  
can write to this with js. It has no effect, but does persist across  
domains. The webkit team decided to just throw an exception if a  
write to window.history was detected. I don't know if it ever got  
implemented, or even if any of the other browser vendors addressed it.

On 20 Mar 2007, at 11:40, Hallvord R M Steen wrote:

&gt;<i> Hi,
</I>&gt;<i> when a new window or tab is opened by a page it normally has a
</I>&gt;<i> &quot;window.opener&quot; property that points to the window object of the
</I>&gt;<i> original tab.
</I>&gt;<i>
</I>&gt;<i> This happens whether the new window is opened by a JavaScript calling
</I>&gt;<i> window.open or by a link or form with target attribute set.
</I>&gt;<i>
</I>&gt;<i> If an origin check fails when comparing the locations of the old
</I>&gt;<i> window and the popup, the normal cross-domain security policies apply.
</I>&gt;<i> This means that popup contents from a different site will not be
</I>&gt;<i> allowed to call methods or manipulate the DOM of the opener.
</I>&gt;<i>
</I>&gt;<i> However, this cross-domain security policy has one exception: the
</I>&gt;<i> popup may set the location of its opener. This has phishing potential,
</I>&gt;<i> particularly for webmail where opening external links in a new window
</I>&gt;<i> is a very common use case. Hence I think it would be a good idea to
</I>&gt;<i> let a site opt-out and specify that the popup should not have a
</I>&gt;<i> window.opener property. For example, one could extend the &quot;features&quot;
</I>&gt;<i> argument of window.open:
</I>&gt;<i>
</I>&gt;<i> window.open(url, name, 'openerproperty=0');
</I>&gt;<i>
</I>&gt;<i> Thoughts?
</I>&gt;<i>
</I>&gt;<i> References:
</I>&gt;<i> <A HREF="http://my.opera.com/hallvors/blog/2007/03/14/window-opener-and-">http://my.opera.com/hallvors/blog/2007/03/14/window-opener-and-</A> 
</I>&gt;<i> security-an-unfixable-problem
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Hallvord R. M. Steen
</I>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="052557.html">[whatwg] window.opener and security
</A></li>
	<LI>Next message: <A HREF="052559.html">[whatwg] window.opener and security
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52558">[ date ]</a>
              <a href="thread.html#52558">[ thread ]</a>
              <a href="subject.html#52558">[ subject ]</a>
              <a href="author.html#52558">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
