<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Configure Apache to send the right MIME type for XHTML
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Configure%20Apache%20to%20send%20the%20right%20MIME%20type%20for%20XHTML&In-Reply-To=%3Cop.tot3tsjj1h6og4%40xman.oslo.opera.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009882.html">
   <LINK REL="Next"  HREF="009884.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Configure Apache to send the right MIME type for XHTML</H1>
<!--htdig_noindex-->
    <B>Alexey Feldgendler</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Configure%20Apache%20to%20send%20the%20right%20MIME%20type%20for%20XHTML&In-Reply-To=%3Cop.tot3tsjj1h6og4%40xman.oslo.opera.com%3E"
       TITLE="[whatwg] Configure Apache to send the right MIME type for XHTML">alexey at feldgendler.ru
       </A><BR>
    <I>Wed Mar  7 11:45:18 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="009882.html">[whatwg] Configure Apache to send the right MIME type for XHTML
</A></li>
        <LI>Next message: <A HREF="009884.html">[whatwg] Configure Apache to send the right MIME type for XHTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9883">[ date ]</a>
              <a href="thread.html#9883">[ thread ]</a>
              <a href="subject.html#9883">[ subject ]</a>
              <a href="author.html#9883">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 07 Mar 2007 20:04:08 +0100, Elliotte Harold &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">elharo at metalab.unc.edu</A>&gt; wrote:

&gt;<i> Yes, and I use it. However it constantly surprises people in the markup
</I>&gt;<i> it generates, as hanging out for a day or two on the tagsoup-friends
</I>&gt;<i> mailing list will show. That's not it's fault. There's just no one
</I>&gt;<i> obvious way to fix all the broken markup that's out there. TagSoup picks
</I>&gt;<i> one approach. HTML 5 picks another. Both will surprise people a lot of
</I>&gt;<i> the time. At the parser level that can't be helped.
</I>&gt;<i>
</I>&gt;<i> However at the document level it can be helped. When the document author
</I>&gt;<i> takes the care to generate a well-formed document, they are rarely
</I>&gt;<i> surprised by the resulting tree the parser builds. The tree is explicit
</I>&gt;<i> in the markup. Explicit markup is more obvious and less surprising than
</I>&gt;<i> the implicit fill-in both TagSoup and HTML 5 do.
</I>
There's nothing surprising in the DOM that TagSoup generates when parsing a valid HTML4 document.

&gt;<i> Hmm, that brings up another question. Does the HTML 5 fixup algorithm
</I>&gt;<i> ever change the *tree* for a well-formed (but invalid) document?
</I>
There is no notion of well-formedness for HTML. A document is simply either conformant to HTML5 or not.

&gt;<i> For instance, if it finds an li element that is a child of a p, what would
</I>&gt;<i> it do? Either ignoring the &lt;li&gt;&lt;/li&gt; tags, skipping the li element
</I>&gt;<i> completely, or filling in a ul element would all change the tree.
</I>
That would be a non-conformant document. According to HTML5, such document will be parsed into a tree which, when serialized, would result in text different from the text of the original (non-conformant) document.

&gt;<i> I suspect it does one of these three things (or something similar like
</I>&gt;<i> filling in an ol element) but without opening the spec or writing a
</I>&gt;<i> sample program, I can't tell you which.
</I>&gt;<i>
</I>&gt;<i> By contrast with a real XML parser, I can tell you what's going to
</I>&gt;<i> happen without cracking open the spec. HTML5, TagSoup, and XML parse
</I>&gt;<i> trees are all deterministic and thus predictable; but only the XML tree
</I>&gt;<i> is *obvious*.
</I>
HTML5 unambiguously defines what should happen.

To summarize:
1. Parsers in today's browsers generate predictable DOM for valid HTML4 documents.
2. A conformant HTML5 parser generates predictable DOM for both conformant and non-conformant HTML5 documents.

Also, the result of parsing a valid HTML4 document with a today's browser, as well as the result of parsing a conformant HTML5 document with a conformant HTML5 parser, are both predictable and obvious (i.e. it doesn't require actually performing the complex HTML5 parsing alorithm in your mind to predict the resulting DOM).

So, if you stick to valid HTML4 (or, in the future, conformant HTML5), you'll get both predictable and obvious results.


-- 
Alexey Feldgendler &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">alexey at feldgendler.ru</A>&gt;
[ICQ: 115226275] <A HREF="http://feldgendler.livejournal.com">http://feldgendler.livejournal.com</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009882.html">[whatwg] Configure Apache to send the right MIME type for XHTML
</A></li>
	<LI>Next message: <A HREF="009884.html">[whatwg] Configure Apache to send the right MIME type for XHTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9883">[ date ]</a>
              <a href="thread.html#9883">[ thread ]</a>
              <a href="subject.html#9883">[ subject ]</a>
              <a href="author.html#9883">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
