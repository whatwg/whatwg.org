<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;video&gt; element feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cvideo%3E%20element%20feedback&In-Reply-To=%3C20070324191137.GB11645%40ghostscript.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010556.html">
   <LINK REL="Next"  HREF="010461.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;video&gt; element feedback</H1>
<!--htdig_noindex-->
    <B>Ralph Giles</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cvideo%3E%20element%20feedback&In-Reply-To=%3C20070324191137.GB11645%40ghostscript.com%3E"
       TITLE="[whatwg] &lt;video&gt; element feedback">giles at xiph.org
       </A><BR>
    <I>Sat Mar 24 12:11:43 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="010556.html">[whatwg] &lt;video&gt; element feedback
</A></li>
        <LI>Next message: <A HREF="010461.html">[whatwg] Joe Clark's Criticisms of the WHATWG and HTML 5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10567">[ date ]</a>
              <a href="thread.html#10567">[ thread ]</a>
              <a href="subject.html#10567">[ subject ]</a>
              <a href="author.html#10567">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, Mar 24, 2007 at 01:57:45AM -0700, Kevin Marks wrote:

&gt;<i> How does one seek a Vorbis file with video in and recover framing?
</I>&gt;<i> 
</I>&gt;<i> It looks like you skip to an arbitrary point and scan for 'OggS' then
</I>&gt;<i> do a 64kB CRC to make sure this isn't a fluke. Then you have some
</I>&gt;<i> packets that correspond to some part of a frame of video or audio.
</I>&gt;<i> You recover a timestamp, and thus you can pick another random point
</I>&gt;<i> and do a binary chop until you hit the timestamp before the one you
</I>&gt;<i> wanted. Then you need to read pages until the timestamp changes and
</I>&gt;<i> you have resynced that stream. Any other interleaved streams are
</I>&gt;<i> presumably being resync'd in parallel so you can then get back to the
</I>&gt;<i> read and skip framing. Try doing that from a CD-ROM.
</I>&gt;<i> 
</I>&gt;<i> Do let me know if that has since been fixed.
</I>
Nope. That's still the algorithm. Also add that for a keyframe-based 
codec you need to (conceptually) seek again, after you've found the 
desired start point, to feed the decoder from the nearest previous 
restart point.

In practice, not everyone tries for sample-accurate seeking. I gather
the situation is similar with DVD playback.

Streamability (in the unix pipe sense of an unseekable file stream) was 
a design goal for Ogg. This seek algorithm is a consequence. Decoders 
must handle seeking without an index table, so we have regarded the
use of one, whether cached in the file or not, as an implementation 
detail.

FWIW,
 -r

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010556.html">[whatwg] &lt;video&gt; element feedback
</A></li>
	<LI>Next message: <A HREF="010461.html">[whatwg] Joe Clark's Criticisms of the WHATWG and HTML 5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10567">[ date ]</a>
              <a href="thread.html#10567">[ thread ]</a>
              <a href="subject.html#10567">[ subject ]</a>
              <a href="author.html#10567">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
