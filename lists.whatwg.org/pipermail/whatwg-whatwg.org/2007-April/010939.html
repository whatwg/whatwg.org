<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas suggestions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20suggestions&In-Reply-To=%3Cea09c0d10704161710u57f6473g6a611b039acd6502%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010958.html">
   <LINK REL="Next"  HREF="010924.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas suggestions</H1>
<!--htdig_noindex-->
    <B>Philip Taylor</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20suggestions&In-Reply-To=%3Cea09c0d10704161710u57f6473g6a611b039acd6502%40mail.gmail.com%3E"
       TITLE="[whatwg] Canvas suggestions">excors+whatwg at gmail.com
       </A><BR>
    <I>Mon Apr 16 17:10:14 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="010958.html">[whatwg]  Canvas suggestions
</A></li>
        <LI>Next message: <A HREF="010924.html">[whatwg] [wf2] form submission algorithm questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10939">[ date ]</a>
              <a href="thread.html#10939">[ thread ]</a>
              <a href="subject.html#10939">[ subject ]</a>
              <a href="author.html#10939">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 15/04/07, Maciej Stachowiak &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mjs at apple.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> On Apr 15, 2007, at 11:15 AM, Jordan OSETE wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Color / style:
</I>&gt;<i> &gt; --------------
</I>&gt;<i> &gt; Reading colors can be complex. Right now it returns a string either
</I>&gt;<i> &gt; in the form #xxxxxx or rgba(...), depending on the alpha value. It
</I>&gt;<i> &gt; means the reader must be able to parse both, because he never knows
</I>&gt;<i> &gt; if the color's alpha is 255 or less. Maybe always returning rgba()
</I>&gt;<i> &gt; would be easier to parse? Or a second property wich would return an
</I>&gt;<i> &gt; array of the integer/float RGBA values when read?
</I>&gt;<i>
</I>&gt;<i> Changing the property would be a compatibility risk, but
</I>
I'm not sure what the rest of your sentence would have been, but I
expect the compatibility risk would be minor (though I would be much
happier if there was some evidence either way).

Since parsing strings in JS is not entirely trivial, I think it would
be nicest if the colours were returned as an array [r,g,b,a] (range
0-255), similar to getImageData. Assignment would accept any CSS
colour string, or an [r,g,b,a] array, or a
CanvasGradient/CanvasPattern. Existing code that does &quot;var c =
ctx.fillStyle; ...; ctx.fillStyle = c&quot; would not be affected - only
code that parses the returned colours would be affected, and I can't
think why anybody would want to do that, so I'd guess it's pretty
rare.

Anybody parsing colours has to be very careful anyway, since
implementations disagree - Opera 9 returns &quot;rgba(0, 0, 0,
0)&quot;/&quot;#AABBCC&quot;, Safari 2.0.4 returns &quot;rgba(0,0,0,0)&quot;/&quot;#abc&quot; (maybe
changed in newer versions?), Firefox 3 returns &quot;rgba(0, 0, 0,
0.0)&quot;/&quot;#aabbcc&quot;, and the spec currently says &quot;rgba(0, 0, 0,
0.0)&quot;/&quot;#AABBCC&quot;. If the spec was changed, the situation might not be
worse - old implementations would still be incompatible with the spec,
and you'd still have to test in the browsers you want to support to
discover how they're doing it differently, but at least the future
implementations would be much easier to use.

-- 
Philip Taylor
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">excors at gmail.com</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010958.html">[whatwg]  Canvas suggestions
</A></li>
	<LI>Next message: <A HREF="010924.html">[whatwg] [wf2] form submission algorithm questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10939">[ date ]</a>
              <a href="thread.html#10939">[ thread ]</a>
              <a href="subject.html#10939">[ subject ]</a>
              <a href="author.html#10939">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
