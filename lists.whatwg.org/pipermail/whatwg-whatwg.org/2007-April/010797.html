<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Give guidance about RFC 4281 codecs parameter
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Give%20guidance%20about%20RFC%204281%20codecs%20parameter&In-Reply-To=%3CA2FE62CC-1103-4C2C-A2A1-2CA7981FCD48%40iki.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010790.html">
   <LINK REL="Next"  HREF="010807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Give guidance about RFC 4281 codecs parameter</H1>
<!--htdig_noindex-->
    <B>Henri Sivonen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Give%20guidance%20about%20RFC%204281%20codecs%20parameter&In-Reply-To=%3CA2FE62CC-1103-4C2C-A2A1-2CA7981FCD48%40iki.fi%3E"
       TITLE="[whatwg] Give guidance about RFC 4281 codecs parameter">hsivonen at iki.fi
       </A><BR>
    <I>Sun Apr  8 01:37:19 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="010790.html">[whatwg] Transparent content model element as embedded child of	figure
</A></li>
        <LI>Next message: <A HREF="010807.html">[whatwg] Give guidance about RFC 4281 codecs parameter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10797">[ date ]</a>
              <a href="thread.html#10797">[ thread ]</a>
              <a href="subject.html#10797">[ subject ]</a>
              <a href="author.html#10797">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>The &lt;video&gt; element is designed to accommodate codec-based fallbacks  
based on MIME types. The reasonable codec extension mechanism for  
browsers is using the facilities of the timed media framework of the  
underlying operating system (QuickTime on Mac OS X, DirectShow on  
Windows and gStreamer on GNU systems.) However, these systems, AFAIK,  
dispatch on container filename extension or magic number and codec  
FourCC rather than by MIME parameters. Therefore, special care is  
needed in order to make extensibility and MIME-based fallback work  
with codecs not shipped by the browser vendor.

For example, on Mac OS X, one would want QuickTime itself to handle  
the MP4 container, AAC, the 3 lowest profiles of H.264 and MPEG-4  
Simple Profile while giving MPEG-4 Advanced Simple Profile to 3ivx,  
Windows Media stuff to Flip4Mac and Ogg Theora to Xiph QT Components.  
These would all need to hook into the MIME-based fallback system.

Since giving guidance in the spec itself is more likely to lead to  
vendors and authors understanding codecs parameter than expecting  
them to follow normative references, I think the spec should document  
the correct &lt;source&gt; element type attribute values for the following  
realistic cases. (MIME without parameters and filename extension in  
parentheses.)

  * Theora video and Vorbis audio in Ogg container. (application/ 
ogg; .ogg)
  * Dirac video and Vorbis audio in Ogg container. (application/ 
ogg; .ogg)
  * Theora video and Vorbis audio in Matroska container. (video/x- 
matroska; .mkv)
  * Dirac video and Vorbis audio in Matroska container. (video/x- 
matroska; .mkv)
  * H.264 Baseline profile video and Low-Complexity AAC audio in MP4  
container. (video/mp4; .mp4)
  * H.264 Extended profile video and Low-Complexity AAC audio in MP4  
container. (video/mp4; .mp4)
  * H.264 Main profile video and Low-Complexity AAC audio in MP4  
container. (video/mp4; .mp4)
  * H.264 High profile video and Low-Complexity AAC audio in MP4  
container. (video/mp4; .mp4)
  * MPEG-4 Simple Profile profile video and Low-Complexity AAC audio  
in MP4 container. (video/mp4; .mp4)
  * MPEG-4 Advanced Simple Profile profile video and Low-Complexity  
AAC audio in MP4 container. (video/mp4; .mp4)
  * MPEG-4 Simple Profile profile video and AMR audio in 3GPP  
container. (video/3gpp; .3gp)
  * WMV9 video and WMA 2 audio in ASF container. (video/x-ms-wmv; .wmv)
  * WMV8 video and WMA 2 audio in ASF container. (video/x-ms-wmv; .wmv)
  * VC-1 video and WMA 10 Pro audio in ASF container. (video/x-ms- 
wmv; .wmv)
  * Real Video 10 video and High-Efficiency AAC audio in Real Media  
container. (application/vnd.rn-realmedia; rm)
  * XviD video and MP3 audio in AVI container. (video/x-msvideo; .avi)
  * Motion-JPEG video and uncompressed PCM audio in AVI container.  
(video/x-msvideo; .avi)
  * MPEG-1 video and MPEG-1 Audio Layer II audio in MPEG-1 program  
stream (video/mpeg; .mpg)

(That's a lot of cases and, yet, none are contrived.)

I tried to figure this out on my own with RFC 4281 and concluded that  
this is not something that authors or even browser implementors are  
likely to get right without an expert-created lookup table. I see  
that at least of the RFC authors reads this mailing list. :-)

-- 
Henri Sivonen
<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">hsivonen at iki.fi</A>
<A HREF="http://hsivonen.iki.fi/">http://hsivonen.iki.fi/</A>



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010790.html">[whatwg] Transparent content model element as embedded child of	figure
</A></li>
	<LI>Next message: <A HREF="010807.html">[whatwg] Give guidance about RFC 4281 codecs parameter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10797">[ date ]</a>
              <a href="thread.html#10797">[ thread ]</a>
              <a href="subject.html#10797">[ subject ]</a>
              <a href="author.html#10797">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
