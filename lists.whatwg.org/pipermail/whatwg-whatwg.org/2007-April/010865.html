<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Attribute for holding private data for scripting
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Attribute%20for%20holding%20private%20data%20for%20scripting&In-Reply-To=%3Cbde87dd20704111156h37e23f88k4c370286c58ef43a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010864.html">
   <LINK REL="Next"  HREF="010867.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Attribute for holding private data for scripting</H1>
<!--htdig_noindex-->
    <B>Jon Barnett</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Attribute%20for%20holding%20private%20data%20for%20scripting&In-Reply-To=%3Cbde87dd20704111156h37e23f88k4c370286c58ef43a%40mail.gmail.com%3E"
       TITLE="[whatwg] Attribute for holding private data for scripting">jonbarnett at gmail.com
       </A><BR>
    <I>Wed Apr 11 11:56:49 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="010864.html">[whatwg] Attribute for holding private data for scripting
</A></li>
        <LI>Next message: <A HREF="010867.html">[whatwg] Attribute for holding private data for scripting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10865">[ date ]</a>
              <a href="thread.html#10865">[ thread ]</a>
              <a href="subject.html#10865">[ subject ]</a>
              <a href="author.html#10865">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 4/11/07, Kevin Marks &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">kevinmarks at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> On 4/11/07, Jon Barnett &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jonbarnett at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; If you want structured data in this attribute, why not just use JSON?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; That's an idea that crossed my mind as well.  I dismissed it for a few
</I>&gt;<i> &gt; reasons:
</I>&gt;<i> &gt; - authors would have to entitize quotes and ampersands in their
</I>&gt;<i> attributes,
</I>&gt;<i> &gt; which they're not used to doing with JSON normally.
</I>&gt;<i> &gt; - evaluating it would mean:
</I>&gt;<i> &gt; var obj = eval(myelement.getAttribute(&quot;_myjson&quot;);
</I>&gt;<i>
</I>&gt;<i> How about defining an attribute that is the name of the js variable
</I>&gt;<i> for use with that element? Then you can define the variable in a
</I>&gt;<i> &lt;script&gt; tag, and use pure JSON cleanly.
</I>

I don't understand what you mean there.  It was said that we don't need to
add something new to the DOM.  If I understand, you're suggesting a single
attribute hypothetically called &quot;params&quot; spec'ed to be a JSON format:
&lt;div params=&quot;{foo: 'bar', bish: &amp;quot;bash&amp;quot;}&quot;&gt;&lt;/div&gt;
with the DOM attribute named params that parses that attribute as JSON into
an object so that something like this happens in JavaScript:
...
mydiv.params.foo == 'bar'; // it is!

While that would be nice, it's not something browsers currently do, and the
goal is to spec something that today's browsers already handle and HTML5
validators will be happy with.  Granted, you can use eval() in Javascript to
get what you want in todays browsers, but is it best to actually spec it
that way?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20070411/eb0e9b77/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20070411/eb0e9b77/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010864.html">[whatwg] Attribute for holding private data for scripting
</A></li>
	<LI>Next message: <A HREF="010867.html">[whatwg] Attribute for holding private data for scripting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10865">[ date ]</a>
              <a href="thread.html#10865">[ thread ]</a>
              <a href="subject.html#10865">[ subject ]</a>
              <a href="author.html#10865">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
