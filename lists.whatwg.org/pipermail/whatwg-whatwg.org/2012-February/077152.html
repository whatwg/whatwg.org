<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Document's base URI should use the document's *current* address
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Document%27s%20base%20URI%20should%20use%20the%20document%27s%0A%20%2Acurrent%2A%20address&In-Reply-To=%3CPine.LNX.4.64.1202152226110.10315%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077150.html">
   <LINK REL="Next"  HREF="077157.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Document's base URI should use the document's *current* address</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Document%27s%20base%20URI%20should%20use%20the%20document%27s%0A%20%2Acurrent%2A%20address&In-Reply-To=%3CPine.LNX.4.64.1202152226110.10315%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Document's base URI should use the document's *current* address">ian at hixie.ch
       </A><BR>
    <I>Wed Feb 15 14:31:52 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077150.html">[whatwg] Document's base URI should use the document's	*current* address
</A></li>
        <LI>Next message: <A HREF="077157.html">[whatwg] Document's base URI should use the document's	*current* address
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77152">[ date ]</a>
              <a href="thread.html#77152">[ thread ]</a>
              <a href="subject.html#77152">[ subject ]</a>
              <a href="author.html#77152">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 15 Feb 2012, Justin Lebar wrote:
&gt;<i> 
</I>&gt;<i> Hm...maybe you're right.  But then, how do we jive this with &quot;#foo&quot; and 
</I>&gt;<i> &quot;?foo&quot; links, both of which resolve relative to the current URI in both 
</I>&gt;<i> Firefox and WebKit?
</I>
We fix the implementations to match the spec. :-)


&gt;<i> &gt;  - It sets &quot;the document's current address&quot; to &quot;.../page.html#foo&quot;.
</I>&gt;<i> 
</I>&gt;<i> Well, this is pretty bad.  document.location is the document's current 
</I>&gt;<i> address [1].  So clicking #foo changed document.location from page2.html 
</I>&gt;<i> to page.html#foo, which I certainly wouldn't expect (and does not match 
</I>&gt;<i> implementations).
</I>
Seems to me we should change the implementations then. There isn't any 
fundamental difference between linking to #foo and linking to 
page.html#foo if the base URL is page.html, as far as I can tell.


If the implementations can't change, then I'll change the spec, but it 
really seems bad to me that relative URLs will break depending on when 
they are resolved relative to pushState() changes.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077150.html">[whatwg] Document's base URI should use the document's	*current* address
</A></li>
	<LI>Next message: <A HREF="077157.html">[whatwg] Document's base URI should use the document's	*current* address
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77152">[ date ]</a>
              <a href="thread.html#77152">[ thread ]</a>
              <a href="subject.html#77152">[ subject ]</a>
              <a href="author.html#77152">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
