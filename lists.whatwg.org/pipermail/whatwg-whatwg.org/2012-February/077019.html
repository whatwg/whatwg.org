<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] RWD Heaven: if browsers reported device capabilities in a request header
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20RWD%20Heaven%3A%20if%20browsers%20reported%20device%20capabilities%0A%20in%20a%20request%20header&In-Reply-To=%3CCAMCRKiJc9yW-r7MO8HxpBiz00cfdXGnRd-DL%3DsyqjK-cw7%2BaOQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077137.html">
   <LINK REL="Next"  HREF="077021.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] RWD Heaven: if browsers reported device capabilities in a request header</H1>
<!--htdig_noindex-->
    <B>Matthew Wilcox</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20RWD%20Heaven%3A%20if%20browsers%20reported%20device%20capabilities%0A%20in%20a%20request%20header&In-Reply-To=%3CCAMCRKiJc9yW-r7MO8HxpBiz00cfdXGnRd-DL%3DsyqjK-cw7%2BaOQ%40mail.gmail.com%3E"
       TITLE="[whatwg] RWD Heaven: if browsers reported device capabilities in a request header">mail at matthewwilcox.com
       </A><BR>
    <I>Tue Feb  7 13:21:04 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077137.html">[whatwg] RWD Heaven: if browsers reported device capabilities in a request header
</A></li>
        <LI>Next message: <A HREF="077021.html">[whatwg] RWD Heaven: if browsers reported device capabilities in a request header
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77019">[ date ]</a>
              <a href="thread.html#77019">[ thread ]</a>
              <a href="subject.html#77019">[ subject ]</a>
              <a href="author.html#77019">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I think somehow lines are getting crossed and misunderstandings are happening.

For what it's worth, everyone seems to be getting hung up on screen size.

It's only an example. My point is that the server ought to be able to
ask the client for data about *any given property* and if the client
is capable it should send a header back. Which allows the server to
then do whatever it needs with the information. Screen size is one
example. Bandwidth is another.

It's the *communication of capabilities* that interests me at this
point, The allowing of an interrogation of possibliities and adaptive
responses.

Whether screen-size is a good idea or not comes after.

And, screen size is useful when understood to mean &quot;CSS Pixels&quot;.
Because that's what a browser renders. If a device has a screen 1900px
CSS px wide, you know you never need send anything larger.

On 7 February 2012 20:24, Charles Pritchard &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">chuck at jumis.com</A>&gt; wrote:
&gt;<i> On 2/7/2012 11:52 AM, Matthew Wilcox wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 7 February 2012 17:59, Boris Zbarsky&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; &#160;wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On 2/7/12 12:32 PM, Matthew Wilcox wrote:
</I>&gt;&gt;&gt;<i> &#160;In what circumstances might this cause breakages?
</I>&gt;&gt;&gt;<i> Whenever the server developer makes dumb assumptions. &#160;Which they do all
</I>&gt;&gt;&gt;<i> the time. &#160;_All_ the time.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &#160;And how could it possibly lock out any devices?
</I>&gt;&gt;&gt;<i> See my earlier example of a &quot;desktop-class&quot; touchscreen system that's
</I>&gt;&gt;&gt;<i> shipping right now. &#160;Every single concrete proposal I've seen so far in
</I>&gt;&gt;&gt;<i> this thread would lock it out of actually using its touch capabilities on
</I>&gt;&gt;&gt;<i> sites that would support such capabilities fine on other devices.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I don't think I have enough knowledge of the case in point to argue either
</I>&gt;&gt;<i> way, but I'm confused how this would be the case at the moment.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> We already see some frustrating lockout with websites that detect mobile
</I>&gt;<i> user agents. They forward the agent to their special mobile website, where
</I>&gt;<i> they will often popup an alert (&quot;Please download our APP!!!&quot;) every single
</I>&gt;<i> time you visit the page. Their mobile site is frequently crippled, limited
</I>&gt;<i> to only a few options, and the mobile browser is often capable of viewing
</I>&gt;<i> the full desktop site at a reasonable screen width. Now, as sites mature,
</I>&gt;<i> they have figured out to include a &quot;Desktop Version&quot; toggle, which is a big
</I>&gt;<i> help. It's still frustrating that there are a few steps in between.
</I>&gt;<i>
</I>&gt;<i> These sites make an assumption, that the screen size has something to do
</I>&gt;<i> with device capability. The screen size has to do with how much information
</I>&gt;<i> the viewer has decided to consume at one time.
</I>&gt;<i>
</I>&gt;<i> I'm frequently using browser zoom (though I use OS zoom as well), and I
</I>&gt;<i> don't need to be forwarded to the &quot;mobile site&quot; while I'm browsing on my
</I>&gt;<i> desktop just because I'm not wearing my glasses. That said, I do try to work
</I>&gt;<i> with my applications so that the &quot;mobile&quot; interface is an interface that I
</I>&gt;<i> would like to use on my desktop when I'm zoomed in. That middle ground works
</I>&gt;<i> well for me.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> &#160; &#160; Now obviously it's also good for the web in various ways, if people
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> &#160; &#160;use the information &quot;correctly&quot; and such. &#160;My faith in this is
</I>&gt;&gt;&gt;&gt;<i> &#160; &#160;somewhat tarnished by the fact that every concrete proposal for
</I>&gt;&gt;&gt;&gt;<i> &#160; &#160;using it that I've seen seems to be broken by design, which means
</I>&gt;&gt;&gt;&gt;<i> &#160; &#160;that chances of anyone using it &quot;correctly&quot; are vanishingly small.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Can you tell us how they're broken so we can fix it?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Did you read my earlier mails with examples of devices that are shipping
</I>&gt;&gt;&gt;<i> right now that violate the various assumptions people trying to create
</I>&gt;&gt;&gt;<i> these &quot;device class&quot; bins are making?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I don't believe we should ever use &quot;classes&quot; of device. We've been down
</I>&gt;&gt;<i> that route, it's a fail in and of itself. We should be using actual data,
</I>&gt;&gt;<i> not assumed data based on some other data.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> We have abstract means of accessibility. WCAG2 explores that.
</I>&gt;<i>
</I>&gt;<i> We have classes of how data is accessed. It should be accessible from a
</I>&gt;<i> keyboard only device.
</I>&gt;<i> With touch screens, the world has been exploring more, the concept of
</I>&gt;<i> accessible via pointer only (though virtual keyboards help).
</I>&gt;<i>
</I>&gt;<i> Keep in mind that keyboard and pointer are also two abstractions, not
</I>&gt;<i> physical objects.
</I>&gt;<i>
</I>&gt;<i> There's a third class of accessibility, and that's programmatic access.
</I>&gt;<i> Ensuring that the DOM has sufficient information that third-party
</I>&gt;<i> software can use. This is frequently used for eyes-free interfaces, but it's
</I>&gt;<i> handy for many other targets.
</I>&gt;<i>
</I>&gt;<i> There's no assumption of a screen being in place, nor an assumption of any
</I>&gt;<i> particular physical interface.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> &#160;Especially if the current solution
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> is to connect to some massive device database to query potential points
</I>&gt;&gt;&gt;&gt;<i> of reference and then act accordingly.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Which is just as broken, yes. &#160;We've run into problems with the breakage
</I>&gt;&gt;&gt;<i> of this database a good bit at Mozilla.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cool so we agree databases are a bad solution and we should aim for better
</I>&gt;&gt;<i> :)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Databases are a practical solution for special situations, such as Boris
</I>&gt;<i> brought up, targeting old and somewhat broken browser implementations.
</I>&gt;<i>
</I>&gt;<i> This part of the thread reminds me of the other thing we did with
</I>&gt;<i> server-side packaging -- a bunch of polyfill code. If the user string
</I>&gt;<i> matches X, then we need to include a bunch of &quot;compatibility&quot; libraries.
</I>&gt;<i>
</I>&gt;<i> It's fairly accepted that feature testing works better. At least in feature
</I>&gt;<i> testing, when the compatibility is not available, there's a chance to show
</I>&gt;<i> some kind of alternate item. People can get lazy on this as well, writing
</I>&gt;<i> things like &quot;You are not supported, go away&quot; in fallback content. But that's
</I>&gt;<i> just poor practice. There's every reason to think a manual, documentation
</I>&gt;<i> and other media could take its place.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> Absolutely agree on &quot;device class&quot;. I don't understand why screen-size is
</I>&gt;&gt;<i> broken. Report back the maximum screen size used by the device at the
</I>&gt;&gt;<i> current moment. This allows us to plug iPads into TVs and have it all
</I>&gt;&gt;<i> still
</I>&gt;&gt;<i> work.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Screen size is not and should not be a physical reflection of the viewing
</I>&gt;<i> device.
</I>&gt;<i>
</I>&gt;<i> The user may be using an eyes-free interface; they may be using browser
</I>&gt;<i> zoom, they may be 8 feet from the screen or only 18 inches.
</I>&gt;<i>
</I>&gt;<i> The reason TVs don't work nicely with many websites is because their authors
</I>&gt;<i> failed to go through basic WCAG checklists.
</I>&gt;<i>
</I>&gt;<i> For instance, hulu.com is a very popular site meant for watching TV. &#160;They
</I>&gt;<i> have not put in the basic work of supporting 200% zoom.
</I>&gt;<i> This is not an issue of money, or technology. They simply haven't attempted
</I>&gt;<i> the work. It's a failure of internal standards within their web team.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> &#160;The other solutions operate by detecting the device and making
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> assumptions about those variables based on the device specifications.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Assuming you can detect the device at all, which I think servers should
</I>&gt;&gt;&gt;<i> not be able to do.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ah, but they do. All the time. They see a UA string and guess. Badly.
</I>&gt;&gt;<i> Catastrophically badly. Then they take their poor guess and extrapolate
</I>&gt;&gt;<i> the
</I>&gt;&gt;<i> info they *actually* wanted to know from it. The fact is it's being done,
</I>&gt;&gt;<i> and it will contiinue to be done until there's a more reliable solution.
</I>&gt;&gt;<i> If
</I>&gt;&gt;<i> we supply headers, we do NOT detect the device. We supply the exact
</I>&gt;&gt;<i> information the server is after. connection speed. etc.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Authors will continue to make bad mistakes. They are intentionally making
</I>&gt;<i> some of those bad mistakes out of bad practice.
</I>&gt;<i>
</I>&gt;<i> Instead of using a Database that's 95% accurate based on user agent, they
</I>&gt;<i> could see headers 95% of the time, maybe boosting the accuracy over the long
</I>&gt;<i> term.
</I>&gt;<i>
</I>&gt;<i> They're still going to make bad mistakes. It's a free web out there. And
</I>&gt;<i> every now and then, a big corporation, like Target, gets sued, when their
</I>&gt;<i> mistakes are egregious and they have legal responsibilities not to make
</I>&gt;<i> them.
</I>&gt;<i>
</I>&gt;<i> I know I'm pushing back pretty hard against this idea that screen size is
</I>&gt;<i> something the server is going to negotiate. As I do that, it occurs to me, I
</I>&gt;<i> don't have an issue with supplying headers informing the server that the
</I>&gt;<i> user is on a metered connection. Sure, an overcapacity cellphone network
</I>&gt;<i> might just slap that header on all requests. That's ok.
</I>&gt;<i>
</I>&gt;<i> So, if you want to have Bandwidth-Service: metered; something along those
</I>&gt;<i> lines, that'd be just fine with me.
</I>&gt;<i> Adding headers like Max-Screen-Size: 1024x780 as a standard practice is not
</I>&gt;<i> something I'm ok with. It's fine for internal use (slap it in your XHR
</I>&gt;<i> requests), but not as a general web browser thing.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -Charles
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077137.html">[whatwg] RWD Heaven: if browsers reported device capabilities in a request header
</A></li>
	<LI>Next message: <A HREF="077021.html">[whatwg] RWD Heaven: if browsers reported device capabilities in a request header
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77019">[ date ]</a>
              <a href="thread.html#77019">[ thread ]</a>
              <a href="subject.html#77019">[ subject ]</a>
              <a href="author.html#77019">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
