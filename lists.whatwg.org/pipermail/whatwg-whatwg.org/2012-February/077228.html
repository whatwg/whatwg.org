<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] ProgressEvents for Images
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20ProgressEvents%20for%20Images&In-Reply-To=%3CCB6D0952.F191%25hmuller%40adobe.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077220.html">
   <LINK REL="Next"  HREF="077229.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] ProgressEvents for Images</H1>
<!--htdig_noindex-->
    <B>Hans Muller</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20ProgressEvents%20for%20Images&In-Reply-To=%3CCB6D0952.F191%25hmuller%40adobe.com%3E"
       TITLE="[whatwg] ProgressEvents for Images">hmuller at adobe.com
       </A><BR>
    <I>Fri Feb 24 09:36:58 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077220.html">[whatwg] ProgressEvents for Images
</A></li>
        <LI>Next message: <A HREF="077229.html">[whatwg] ProgressEvents for Images
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77228">[ date ]</a>
              <a href="thread.html#77228">[ thread ]</a>
              <a href="subject.html#77228">[ subject ]</a>
              <a href="author.html#77228">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On 2/23/12 5:23 PM, &quot;Boris Zbarsky&quot; &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at MIT.EDU</A>&gt; wrote:

&gt;<i>On 2/23/12 7:38 PM, Hans Muller wrote:
</I>&gt;&gt;<i>    Hans - It's useful if you want your listener to run after all of the
</I>&gt;&gt;<i>load listeners have run, and code that you haven't written adds its own
</I>&gt;&gt;<i>load listeners.
</I>&gt;<i>
</I>&gt;<i>I strongly urge you to read
</I>&gt;<i><A HREF="http://blogs.msdn.com/b/oldnewthing/archive/2005/06/07/426294.aspx">http://blogs.msdn.com/b/oldnewthing/archive/2005/06/07/426294.aspx</A>
</I>&gt;<i>
</I>&gt;<i>Or put another way, what will you do a year after this is standardized,
</I>&gt;<i>when the code that you haven't written is adding loadend listeners?
</I>
If loadend listeners were used as intended and not as a proxy for &quot;code to
run last,
after everything else&quot;, then years from now I'll carry on using them to
run code
after the load and error listeners have run. That said, I understand your
point.
To use loadend in the scenario I posed, you have to know that the function
you're
calling is doing something with load/error listeners that you'd like to
follow
with your own listener.


&gt;<i>
</I>&gt;&gt;<i>The problem with using setTimeout() to schedule a listener to run after
</I>&gt;&gt;<i>all of image's load listeners has run is that you've got to guess how
</I>&gt;&gt;<i>long
</I>&gt;&gt;<i>loading the image (or failing to load the image) and running its
</I>&gt;&gt;<i>listeners
</I>&gt;&gt;<i>will take.
</I>&gt;<i>
</I>&gt;<i>No, you don't.  You simply do:
</I>&gt;<i>
</I>&gt;<i>   function delayedLoadStuff() {
</I>&gt;<i>     setTimeout(doTheThingIWant, 0);
</I>&gt;<i>   }
</I>&gt;<i>   img.addEventListener(&quot;load&quot;, delayedLoadStuff, false);
</I>&gt;<i>   img.addEventListener(&quot;error&quot;, delayedLoadStuff, false);
</I>
Good point, although this approach seems to lead to the very same dystopia
you
were just warning about.  If everyone tries to schedule their image
listener last
with setTimeout()...


- Hans


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077220.html">[whatwg] ProgressEvents for Images
</A></li>
	<LI>Next message: <A HREF="077229.html">[whatwg] ProgressEvents for Images
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77228">[ date ]</a>
              <a href="thread.html#77228">[ thread ]</a>
              <a href="subject.html#77228">[ subject ]</a>
              <a href="author.html#77228">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
