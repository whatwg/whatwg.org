<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] focusability of visibility:hidden and display:none elements WAS: Autofocus readonly Input Elements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20focusability%20of%20visibility%3Ahidden%20and%20display%3Anone%0A%20elements%20WAS%3A%20Autofocus%20readonly%20Input%20Elements&In-Reply-To=%3CPine.LNX.4.64.1202220447310.1688%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077199.html">
   <LINK REL="Next"  HREF="034929.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] focusability of visibility:hidden and display:none elements WAS: Autofocus readonly Input Elements</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20focusability%20of%20visibility%3Ahidden%20and%20display%3Anone%0A%20elements%20WAS%3A%20Autofocus%20readonly%20Input%20Elements&In-Reply-To=%3CPine.LNX.4.64.1202220447310.1688%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] focusability of visibility:hidden and display:none elements WAS: Autofocus readonly Input Elements">ian at hixie.ch
       </A><BR>
    <I>Tue Feb 21 21:26:23 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077199.html">[whatwg] HTMLForms: Implicit Submission with {display:none}	button
</A></li>
        <LI>Next message: <A HREF="034929.html">[whatwg] Focus remains on Hidden Element
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34930">[ date ]</a>
              <a href="thread.html#34930">[ thread ]</a>
              <a href="subject.html#34930">[ subject ]</a>
              <a href="author.html#34930">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, 26 Sep 2011, Ojan Vafai wrote:
&gt;<i> 
</I>&gt;<i> *&quot;8.3.2 Focus management*
</I>&gt;<i> 
</I>&gt;<i> An element is *focusable* if the user agent's default behavior allows it to
</I>&gt;<i> be focusable or if the element is specially focusable, but only if the
</I>&gt;<i> element is either being rendered or is a descendant of a canvas element that
</I>&gt;<i> represents embedded content.&quot;
</I>&gt;<i> As the test below shows, non-rendered divs with a tabindex are still
</I>&gt;<i> focusable in all browsers.
</I>&gt;<i> 
</I>&gt;<i> &quot;input elements whose type attribute are not in the Hidden state and that
</I>&gt;<i> are not disabled&quot;
</I>&gt;<i> 
</I>&gt;<i> It seems that all browsers also don't make visibility:hidden and 
</I>&gt;<i> display:none input elements focusable.
</I>
The spec agrees:

&quot;An element is focusable if the user agent's default behavior allows it to 
be focusable or if the element is specially focusable, but only if the 
element is either being rendered or is a descendant of a canvas element 
that represents embedded content.&quot;

I've tried to make this clearer.


&gt;<i> DETAILS:
</I>&gt;<i> <A HREF="http://plexode.com/eval3/#ht=%3Cinput%20id%3Dtext%20type%3D%22%22%3E%3C%2Finput%3E%0A%3Cinput%20id%3Dhidden%20type%3D%22hidden%22%3E%3C%2Finput%3E%0A%3Cinput%20id%3Ddisabled%20disabled%3E%3C%2Finput%3E%0A%3Cinput%20id%3Dreadonly%20readonly%3E%3C%2Finput%3E%0A%3Cinput%20id%3Dvisiblity-hidden%20style%3D%22visibility%3Ahidden%22%3E%3C%2Finput%3E%0A%3Cinput%20id%3Ddisplay-none%20style%3D%22display%3Anone%22%3E%3C%2Finput%3E%0A%3Cdiv%20id%3Ddiv-hidden%20sytle%3D%22visibility%3Ahidden%22%20tabindex%3D1%3E%3C%2Finput%3E%0A%0A%3Cdiv%20id%3Dlogger%3E%3C%2Fdiv%3E&amp;ohh=1&amp;ohj=1&amp;jt=var%20result%20%3D%20">http://plexode.com/eval3/#ht=%3Cinput%20id%3Dtext%20type%3D%22%22%3E%3C%2Finput%3E%0A%3Cinput%20id%3Dhidden%20type%3D%22hidden%22%3E%3C%2Finput%3E%0A%3Cinput%20id%3Ddisabled%20disabled%3E%3C%2Finput%3E%0A%3Cinput%20id%3Dreadonly%20readonly%3E%3C%2Finput%3E%0A%3Cinput%20id%3Dvisiblity-hidden%20style%3D%22visibility%3Ahidden%22%3E%3C%2Finput%3E%0A%3Cinput%20id%3Ddisplay-none%20style%3D%22display%3Anone%22%3E%3C%2Finput%3E%0A%3Cdiv%20id%3Ddiv-hidden%20sytle%3D%22visibility%3Ahidden%22%20tabindex%3D1%3E%3C%2Finput%3E%0A%0A%3Cdiv%20id%3Dlogger%3E%3C%2Fdiv%3E&amp;ohh=1&amp;ohj=1&amp;jt=var%20result%20%3D%20</A>''%3B%0A%0Afunction%20isFocusable(type)%20%7B%0A%20%20%20%20var%20element%20%3D%20document.getElementById(type)%3B%0A%20%20%20%20result%20%2B%3D%20type%20%2B%20'%20is'%3B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20element.focus()%3B%0A%20%20%20%20%20%20%20%20if%20(element%20!%3D%20document.activeElement)%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20%2B%3D%20'%20not'%3B%0A%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20result%20%2B%3D%20'%20not%20(error%20thrown)'%3B%0A%20%20%20%20%7D%0A%20%20%20%20result%20%2B%3D%20'%20focusable%3Cbr%3E'%3B%0A%7D%0A%0AisFocusable('text')%3B%0AisFocusable('hidden')%3B%0AisFocusable('disabled')%3B%0AisFocusable('readonly')%3B%0AisFocusable('visiblity-hidden')%3B%0AisFocusable('display-none')%3B%0AisFocusable('div-hidden')%3B%0A%0Adocument.getElementById('logger').innerHTML%20%2B%3D%20result%3B&amp;ojh=1&amp;ojj=1&amp;ms=100&amp;oth=0&amp;otj=0&amp;cex=1
</I>&gt;<i> 
</I>&gt;<i> Firefox 6, Chrome 16, IE9:
</I>&gt;<i> text is focusable
</I>&gt;<i> hidden is not focusable
</I>&gt;<i> disabled is not focusable
</I>&gt;<i> readonly is focusable
</I>&gt;<i> visiblity-hidden is not focusable
</I>&gt;<i> display-none is not focusable
</I>&gt;<i> div-hidden is focusable
</I>&gt;<i> div-display-none is focusable
</I>
The test above had a bug which made the &lt;div&gt;s not be properly hidden. 
With that bug fixed, a visibility:hidden div and a display:none div also 
come out as not focusable, as in the spec.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>


















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077199.html">[whatwg] HTMLForms: Implicit Submission with {display:none}	button
</A></li>
	<LI>Next message: <A HREF="034929.html">[whatwg] Focus remains on Hidden Element
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34930">[ date ]</a>
              <a href="thread.html#34930">[ thread ]</a>
              <a href="subject.html#34930">[ subject ]</a>
              <a href="author.html#34930">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
