<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] RWD Heaven: if browsers reported device capabilities in a request header
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20RWD%20Heaven%3A%20if%20browsers%20reported%20device%20capabilities%0A%20in%20a%20request%20header&In-Reply-To=%3CCAMCRKiKpwgBi1i0WKW502hwP%3DuUwPLzA1AeAFfB-F%3Dm%2B0CZtMQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034649.html">
   <LINK REL="Next"  HREF="034652.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] RWD Heaven: if browsers reported device capabilities in a request header</H1>
<!--htdig_noindex-->
    <B>Matthew Wilcox</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20RWD%20Heaven%3A%20if%20browsers%20reported%20device%20capabilities%0A%20in%20a%20request%20header&In-Reply-To=%3CCAMCRKiKpwgBi1i0WKW502hwP%3DuUwPLzA1AeAFfB-F%3Dm%2B0CZtMQ%40mail.gmail.com%3E"
       TITLE="[whatwg] RWD Heaven: if browsers reported device capabilities in a request header">mail at matthewwilcox.com
       </A><BR>
    <I>Mon Feb  6 08:27:29 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="034649.html">[whatwg] RWD Heaven: if browsers reported device capabilities in a request header
</A></li>
        <LI>Next message: <A HREF="034652.html">[whatwg] RWD Heaven: if browsers reported device capabilities in a request header
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34650">[ date ]</a>
              <a href="thread.html#34650">[ thread ]</a>
              <a href="subject.html#34650">[ subject ]</a>
              <a href="author.html#34650">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I disagree. Screen size is at times *exactly* what is needed, as it *is*
constant throughout the experience. *Viewport* size is what we shouldn't be
using. I've ran up against this with Adaptive Images (
<A HREF="http://adaptive-images.com">http://adaptive-images.com</A> ) - which is all about the use case of supplying
appropriate images to given devices.

The problem with using viewport instead of device size is client-side
caching. It completely breaks things. As follows:

1) The user requests the site with a viewport at less than the device
screen size.
2) The user browses around for a bit on a few pages.
3) The user maximises their browser.
4) All of the images now in the browser cache are too small.

How does the client know to re-request all those pre-cached images, without
making an arduous manual JS-reliant cache manifest? Or without turning off
caching entirely?

The solution is to send an image that is as large as the device will ever
need, not for the current viewport.

Yes, this isn't ideal, but it solves the problem and it solves it very well
for small devices whilst maintaining client-side caching. There's very
little difference in file weight between an image 320px wide and one 480px
wide, so the overhead of supporting landscape even if you're currently only
at portrait isn't anywhere near as great as un-negotiated content. Nor does
it require new HTTP requests on orientation change, which would be a
terrible experience whereby the page that WAS readable suddenly ends up
re-flowing and re-loading assets just because you've increased the window
size.



On 6 February 2012 16:00, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:

&gt;<i> On 2/6/12 10:52 AM, Matthew Wilcox wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> 1) client asks for <A HREF="spdy://website.com">spdy://website.com</A>
</I>&gt;&gt;<i> 2) server responds with content and adds a &quot;request bandwidth&amp;  device
</I>&gt;&gt;<i> screen size header&quot;
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Again, the &quot;screen size&quot; is not invariant during the lifetime of a page.
</I>&gt;<i>  We should not be encouraging people to think that it is....
</I>&gt;<i>
</I>&gt;<i> -Boris
</I>&gt;<i>
</I></PRE>




<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034649.html">[whatwg] RWD Heaven: if browsers reported device capabilities in a request header
</A></li>
	<LI>Next message: <A HREF="034652.html">[whatwg] RWD Heaven: if browsers reported device capabilities in a request header
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34650">[ date ]</a>
              <a href="thread.html#34650">[ thread ]</a>
              <a href="subject.html#34650">[ subject ]</a>
              <a href="author.html#34650">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
