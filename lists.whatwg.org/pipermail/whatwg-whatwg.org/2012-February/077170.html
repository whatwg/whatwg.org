<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Caching of identical files from different URLs using checksums
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Caching%20of%20identical%20files%20from%20different%20URLs%20using%0A%20checksums&In-Reply-To=%3C4F4018AA.4040003%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077169.html">
   <LINK REL="Next"  HREF="077173.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Caching of identical files from different URLs using checksums</H1>
<!--htdig_noindex-->
    <B>Bjartur Thorlacius</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Caching%20of%20identical%20files%20from%20different%20URLs%20using%0A%20checksums&In-Reply-To=%3C4F4018AA.4040003%40gmail.com%3E"
       TITLE="[whatwg] Caching of identical files from different URLs using checksums">svartman95 at gmail.com
       </A><BR>
    <I>Sat Feb 18 13:31:22 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="077169.html">[whatwg] Caching of identical files from different URLs using checksums
</A></li>
        <LI>Next message: <A HREF="077173.html">[whatwg] Caching of identical files from different URLs using checksums
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77170">[ date ]</a>
              <a href="thread.html#77170">[ thread ]</a>
              <a href="subject.html#77170">[ subject ]</a>
              <a href="author.html#77170">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&#222;ann lau 18.feb 2012 13:45, skrifa&#240;i Sven Neuhaus:
&gt;<i> The relevant section from RFC 3986 reads:
</I>&gt;<i>
</I>&gt;<i>    &quot;The fragment identifier component of a URI allows indirect
</I>&gt;<i>     identification of a secondary resource by reference to a primary
</I>&gt;<i>     resource and additional identifying information.  The identified
</I>&gt;<i>     secondary resource may be some portion or subset of the primary
</I>&gt;<i>     resource, some view on representations of the primary resource, or
</I>&gt;<i>     some other resource defined or described by those representations.&quot;
</I>&gt;<i>
</I>&gt;<i> This description is not contradicting the use of checksum as fragment
</I>&gt;<i> identifiers. They are &quot;additional identifying information.&quot;
</I>I beg to differ. I interpret the RFC as stating that the fragment 
identifier allows indirect identification of a secondary resource. The 
fragment identifier itself is whatever information is needed to derive 
the secondary resource from the primary resource. That is, you need 
*both* a &quot;reference to a primary resource&quot; (i.e. an URI with no fragment 
identifier) and &quot;additional identifying information&quot; (i.e. the fragment 
identifier).

 &gt;     The fragment identifier component of a URI allows indirect
 &gt;     identification of a secondary resource by {reference to a primary
 &gt;     resource and additional identifying information}.

A checksum of (a representation body of) the primary resource identifies 
(said representation body of) the primary resource, not any secondary 
resource derived therefrom.

And as has been pointed out previously, representations of resources are 
frequently obsoleted. Existing caching mechanism take care of that 
already, without requiring every reference to be updated on every 
obsolete. The problem you have mentioned is duplicate identifiers (that 
undermine the very raison d'&#234;tre of identifiers).

Another solution would be to add a host attribute to linking elements 
(script, link, etc) that specifies a domain name of an endorsed CDN that 
will serve the resource (and ideally a public key). HTTP/1.1 mandates 
support for but forbids requests of the form &lt;METHOD URI &quot;HTTP/1.0&quot;&gt;. 
IIRC the current RFC forbids, but mandates support for, such requests. 
The seventeenth httpbis draft OTOH explicitly allows absolute URI in 
request lines, at least to proxies.

<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bjartur at gamla</A> ~ $ nc google.org 80
GET <A HREF="http://www.google.is/">http://www.google.is/</A> HTTP/1.0

HTTP/1.0 200 OK

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077169.html">[whatwg] Caching of identical files from different URLs using checksums
</A></li>
	<LI>Next message: <A HREF="077173.html">[whatwg] Caching of identical files from different URLs using checksums
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77170">[ date ]</a>
              <a href="thread.html#77170">[ thread ]</a>
              <a href="subject.html#77170">[ subject ]</a>
              <a href="author.html#77170">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
