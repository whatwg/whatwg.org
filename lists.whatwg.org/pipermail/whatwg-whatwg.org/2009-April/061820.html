<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Using &lt;video&gt; as a source for canvas.drawImage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Using%20%3Cvideo%3E%20as%20a%20source%20for%20canvas.drawImage&In-Reply-To=%3CPine.LNX.4.62.0904302205090.18851%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061819.html">
   <LINK REL="Next"  HREF="061822.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Using &lt;video&gt; as a source for canvas.drawImage</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Using%20%3Cvideo%3E%20as%20a%20source%20for%20canvas.drawImage&In-Reply-To=%3CPine.LNX.4.62.0904302205090.18851%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Using &lt;video&gt; as a source for canvas.drawImage">ian at hixie.ch
       </A><BR>
    <I>Thu Apr 30 15:07:10 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061819.html">[whatwg] CanvasRenderingContext2D::createPattern and partially loaded images
</A></li>
        <LI>Next message: <A HREF="061822.html">[whatwg]  Canvas performance issue: setting colors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61820">[ date ]</a>
              <a href="thread.html#61820">[ thread ]</a>
              <a href="subject.html#61820">[ subject ]</a>
              <a href="author.html#61820">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 19 Aug 2008, Robert O'Callahan wrote:
&gt;<i>
</I>&gt;<i> Thanks to Anne for pointing this out...
</I>&gt;<i> 
</I>&gt;<i> We've implemented using &lt;video&gt; elements as an image source in
</I>&gt;<i> canvas.drawImage:
</I>&gt;<i> <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=448674">https://bugzilla.mozilla.org/show_bug.cgi?id=448674</A>
</I>&gt;<i> The extension is very obvious. Unlike animated images, which always draw the
</I>&gt;<i> first or poster frame, we draw the current frame of the video. This lets you
</I>&gt;<i> do things like make a thumbnail timeline.
</I>&gt;<i> 
</I>&gt;<i> It'd be nice to have this in the spec.
</I>
This is now in the spec.


On Mon, 18 Aug 2008, Oliver Hunt wrote:
&gt;<i>
</I>&gt;<i> Cool -- I wonder though if it would be better if it were placed in a 
</I>&gt;<i> different method, drawFrame or something (very much an up in the air 
</I>&gt;<i> sort of question)
</I>
On Tue, 19 Aug 2008, Robert O'Callahan wrote:
&gt;<i> 
</I>&gt;<i> drawImage is already overloaded, so why not carry on with that, unless we
</I>&gt;<i> change the API as you suggest below.
</I>
On Mon, 18 Aug 2008, Oliver Hunt wrote:
&gt;<i>
</I>&gt;<i> I'm  not sure that drawImage overloading was a good idea in the first place
</I>&gt;<i> *but* canvas and image are fairly similar in both image-like, whereas video is
</I>&gt;<i> quite clearly different.  I was also thinking it would work better given the
</I>&gt;<i> additional frame argument, however...
</I>
On Mon, 18 Aug 2008, Oliver Hunt wrote:
&gt;<i> 
</I>&gt;<i> One other thing that I would consider would be requiring the frame# to 
</I>&gt;<i> be specified explicitly as that would make things like &quot;chapter&quot; 
</I>&gt;<i> previews (or whatever) work in a way that is perhaps cleaner.  
</I>&gt;<i> Otherwise you have to record the current location in the video stream, 
</I>&gt;<i> then scan to each location you want to blit, draw, and then return to 
</I>&gt;<i> the original position.  Which could easily result in weird visual 
</I>&gt;<i> behaviour for the user (as the video element flickers a few random 
</I>&gt;<i> frames while you do your previews or whatever).
</I>
On Tue, 19 Aug 2008, Robert O'Callahan wrote:
&gt;<i> 
</I>&gt;<i> AFAIK we'd basically have to implement that by creating a second video 
</I>&gt;<i> stream, seeking it and then capturing the frame, and you really don't 
</I>&gt;<i> want to do that synchronously! Then we'd want to cache that stream so 
</I>&gt;<i> that another drawFrame with a nearby frame index was efficient ... ick. 
</I>&gt;<i> So I suggest not offering that API. Authors can always use a second, 
</I>&gt;<i> hidden video element to achieve the same effect.
</I>
On Mon, 18 Aug 2008, Oliver Hunt wrote:
&gt;<i>
</I>&gt;<i> ... I had failed to consider streaming content (where random seeking may 
</I>&gt;<i> not be possible) :-/
</I>&gt;<i> 
</I>&gt;<i> I still think it would be useful to be able to specify an exact frame, 
</I>&gt;<i> but as you say it may not be really feasible
</I>
I just used drawImage(), for the reasons roc gave.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061819.html">[whatwg] CanvasRenderingContext2D::createPattern and partially loaded images
</A></li>
	<LI>Next message: <A HREF="061822.html">[whatwg]  Canvas performance issue: setting colors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61820">[ date ]</a>
              <a href="thread.html#61820">[ thread ]</a>
              <a href="subject.html#61820">[ subject ]</a>
              <a href="author.html#61820">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
