<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Worker feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Worker%20feedback&In-Reply-To=%3C11e306600904040157y199cbaa4ue71aee7eb89ed12d%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061424.html">
   <LINK REL="Next"  HREF="061459.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Worker feedback</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Worker%20feedback&In-Reply-To=%3C11e306600904040157y199cbaa4ue71aee7eb89ed12d%40mail.gmail.com%3E"
       TITLE="[whatwg] Worker feedback">robert at ocallahan.org
       </A><BR>
    <I>Sat Apr  4 01:57:07 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061424.html">[whatwg] Worker feedback
</A></li>
        <LI>Next message: <A HREF="061459.html">[whatwg] Worker feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61439">[ date ]</a>
              <a href="thread.html#61439">[ thread ]</a>
              <a href="subject.html#61439">[ subject ]</a>
              <a href="author.html#61439">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Sat, Apr 4, 2009 at 11:17 AM, Jeremy Orlow &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jorlow at google.com</A>&gt; wrote:

&gt;<i> True serializability would imply that the HTTP request read and write are
</I>&gt;<i> atomic.  In other words, you'd have to keep a lock for the entirety of each
</I>&gt;<i> HTTP request and couldn't do multiple in parallel.  When I said there's no
</I>&gt;<i> way to guarantee serializability, I guess I meant to qualify it with &quot;in
</I>&gt;<i> practice&quot;.
</I>&gt;<i>
</I>
OK, I don't think anyone expects, wants, or has ever had that :-).

After thinking about it for a bit, your suggestion of &quot;reading the cookies
&gt;<i> to send with an HTTP request is an atomic operation, and writing them as a
</I>&gt;<i> result of an HTTP response is an atomic operation&quot; does seems like a pretty
</I>&gt;<i> sensible compromise.
</I>&gt;<i>
</I>
It's what the spec says (the spec doesn't say anything about reading cookies
when constructing an HTTP request, but that's probably just an oversight)
and it's what I expected, so not really a compromise :-).

The one thing I'd still be concerned about:  localStorage separates storage
&gt;<i> space by origins.  In other words, www.google.com cannot access
</I>&gt;<i> localStorage values from google.com and visa versa.  Cookies, on the other
</I>&gt;<i> hand, have a much more complex scheme of access control.  Coming up with an
</I>&gt;<i> efficient and dead-lock-proof locking scheme might take some careful
</I>&gt;<i> thought.
</I>&gt;<i>
</I>
I hope browser implementors can solve this internally. I think the main
thing we have to watch out for in the spec is situations where a script can
*synchronously* &quot;entangle&quot; browsing contexts that previously could not
interfere with each other (i.e., that a browser could have assigned
independent locks). (Setting document.domain might be a problem, for
example, although I don't know enough about cookies to be sure.)


&gt;<i>
</I>&gt;&gt;<i> Depending on exactly what you mean by a &quot;Web application&quot;, that's not
</I>&gt;&gt;<i> really true. There are a variety of ways to exploit multicore parallelism
</I>&gt;&gt;<i> within a window with the current set of specs, at least in principle.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> What else is there?  (I believe you, I'm just interested in knowing what's
</I>&gt;<i> out there.)
</I>&gt;<i>
</I>
In Gecko we're working on making HTML parsing happen in parallel with other
activities (including script execution), and video decoding already does. I
can imagine doing all graphics rendering in parallel with other tasks and
being parallel internally too. Some aspects of layout can be parallelized
internally and overlapped with script execution. Expensive Javascript
compiler optimizations can be run in parallel with actual application work.
Canvas3D can run GPU programs which are another form of parallelism (OK
that's not exactly &quot;multicore parallelism&quot; unless you believe Intel).

Rob
-- 
&quot;He was pierced for our transgressions, he was crushed for our iniquities;
the punishment that brought us peace was upon him, and by his wounds we are
healed. We all, like sheep, have gone astray, each of us has turned to his
own way; and the LORD has laid on him the iniquity of us all.&quot; [Isaiah
53:5-6]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090404/b5c4328f/attachment-0002.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090404/b5c4328f/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061424.html">[whatwg] Worker feedback
</A></li>
	<LI>Next message: <A HREF="061459.html">[whatwg] Worker feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61439">[ date ]</a>
              <a href="thread.html#61439">[ thread ]</a>
              <a href="subject.html#61439">[ subject ]</a>
              <a href="author.html#61439">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
