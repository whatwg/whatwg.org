<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] When closing the browser
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20When%20closing%20the%20browser&In-Reply-To=%3Cdd0fbad0904271139h3b5e939ew28ed019724e7e826%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061706.html">
   <LINK REL="Next"  HREF="061709.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] When closing the browser</H1>
<!--htdig_noindex-->
    <B>Tab Atkins Jr.</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20When%20closing%20the%20browser&In-Reply-To=%3Cdd0fbad0904271139h3b5e939ew28ed019724e7e826%40mail.gmail.com%3E"
       TITLE="[whatwg] When closing the browser">jackalmage at gmail.com
       </A><BR>
    <I>Mon Apr 27 11:39:23 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061706.html">[whatwg] When closing the browser
</A></li>
        <LI>Next message: <A HREF="061709.html">[whatwg] When closing the browser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61707">[ date ]</a>
              <a href="thread.html#61707">[ thread ]</a>
              <a href="subject.html#61707">[ subject ]</a>
              <a href="author.html#61707">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Apr 27, 2009 at 1:24 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
&gt;<i> One option would be to have an attribute, say &lt;body logout=&quot;&quot;&gt;, which
</I>&gt;<i> causes the user agent to ping the site when the window is closed and there
</I>&gt;<i> are no other windows open to the same origin.
</I>&gt;<i>
</I>&gt;<i> Of course this would break if the other window in question was open to a
</I>&gt;<i> different page that didn't have the logout=&quot;&quot; attribute..
</I>&gt;<i>
</I>&gt;<i> Maybe it should be invoked if there are no other pages open that have the
</I>&gt;<i> same logout=&quot;&quot; attribute?
</I>&gt;<i>
</I>&gt;<i> This has the advantage of not depending on JavaScript, and not affecting
</I>&gt;<i> the browser's performance (no waiting for sync XHR, etc).
</I>&gt;<i>
</I>&gt;<i> It would work somewhat like PING does today, though probably using POST.
</I>
As an author, I'd definitely use it.  I'd want the second option (ping
when you close the last window with a given logout attribute), as that
would allow me to define 'domains' within the same origin that track
logins separately.

It would be easy to code against the lack of this (just do an
occasional cleanup of sessions that have aged too much, which you'd
have to do anyway in case of nonstandard browser exits), but would
allow better, more reliable security for users with browsers that
implement it.

Trying to handle this through javascript onunload is nontrivial
currently, but @logout would make it both trivial and dependable.

~TJ

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061706.html">[whatwg] When closing the browser
</A></li>
	<LI>Next message: <A HREF="061709.html">[whatwg] When closing the browser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61707">[ date ]</a>
              <a href="thread.html#61707">[ thread ]</a>
              <a href="subject.html#61707">[ subject ]</a>
              <a href="author.html#61707">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
