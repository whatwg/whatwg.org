<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] When closing the browser
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20When%20closing%20the%20browser&In-Reply-To=%3CPine.LNX.4.62.0904271821280.12381%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061703.html">
   <LINK REL="Next"  HREF="061707.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] When closing the browser</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20When%20closing%20the%20browser&In-Reply-To=%3CPine.LNX.4.62.0904271821280.12381%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] When closing the browser">ian at hixie.ch
       </A><BR>
    <I>Mon Apr 27 11:24:42 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="061703.html">[whatwg] When closing the browser
</A></li>
        <LI>Next message: <A HREF="061707.html">[whatwg] When closing the browser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61706">[ date ]</a>
              <a href="thread.html#61706">[ thread ]</a>
              <a href="subject.html#61706">[ subject ]</a>
              <a href="author.html#61706">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, 27 Apr 2009, Bil Corry wrote:
&gt;<i> Ian Hickson wrote on 4/24/2009 6:36 PM: 
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Why do session cookies not address this already?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I think there are still scenarios where it would be valuable for the 
</I>&gt;<i> &gt;&gt; server to know *exactly when* the user logged out. One example would 
</I>&gt;<i> &gt;&gt; be those &quot;XY is online&quot; badges you see in many internet forums today. 
</I>&gt;<i> &gt;&gt; Today, those have a margin of error of about 15 to 20 minutes at 
</I>&gt;<i> &gt;&gt; best.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; In my own experience, closing the page is not a good indicator of when 
</I>&gt;<i> &gt; I've &quot;logged out&quot;. I often have tabs open that I'm not planning on 
</I>&gt;<i> &gt; returning to, and I often close tabs only to reopen them shortly 
</I>&gt;<i> &gt; after. I see the same behaviour with others. So it's not clear to me 
</I>&gt;<i> &gt; that this would really improve matters.
</I>&gt;<i> 
</I>&gt;<i> I think it's important to note that some web applications may choose to 
</I>&gt;<i> constrain users more tightly to improve security (such as when forcing 
</I>&gt;<i> the user to choose a stronger password than they would normally choose).  
</I>&gt;<i> So while you may not consider leaving the page as &quot;logging out,&quot; your 
</I>&gt;<i> bank may choose to interpret it differently, especially if they 
</I>&gt;<i> determine that most of their users never use the &quot;log out&quot; feature on 
</I>&gt;<i> the site.
</I>
True...

One option would be to have an attribute, say &lt;body logout=&quot;&quot;&gt;, which 
causes the user agent to ping the site when the window is closed and there 
are no other windows open to the same origin.

Of course this would break if the other window in question was open to a 
different page that didn't have the logout=&quot;&quot; attribute..

Maybe it should be invoked if there are no other pages open that have the 
same logout=&quot;&quot; attribute?

This has the advantage of not depending on JavaScript, and not affecting 
the browser's performance (no waiting for sync XHR, etc).

It would work somewhat like PING does today, though probably using POST.

Opinions?

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061703.html">[whatwg] When closing the browser
</A></li>
	<LI>Next message: <A HREF="061707.html">[whatwg] When closing the browser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61706">[ date ]</a>
              <a href="thread.html#61706">[ thread ]</a>
              <a href="subject.html#61706">[ subject ]</a>
              <a href="author.html#61706">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
