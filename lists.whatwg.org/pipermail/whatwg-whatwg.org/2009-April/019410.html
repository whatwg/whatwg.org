<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Exposing EventTarget to JavaScript
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Exposing%20EventTarget%20to%20JavaScript&In-Reply-To=%3C78dc8440904241929n209e97a4k545f31f9a93a5af6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019411.html">
   <LINK REL="Next"  HREF="019416.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Exposing EventTarget to JavaScript</H1>
<!--htdig_noindex-->
    <B>Ojan Vafai</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Exposing%20EventTarget%20to%20JavaScript&In-Reply-To=%3C78dc8440904241929n209e97a4k545f31f9a93a5af6%40mail.gmail.com%3E"
       TITLE="[whatwg] Exposing EventTarget to JavaScript">ojan at chromium.org
       </A><BR>
    <I>Fri Apr 24 19:29:09 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019411.html">[whatwg] Exposing EventTarget to JavaScript
</A></li>
        <LI>Next message: <A HREF="019416.html">[whatwg] Exposing EventTarget to JavaScript
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19410">[ date ]</a>
              <a href="thread.html#19410">[ thread ]</a>
              <a href="subject.html#19410">[ subject ]</a>
              <a href="author.html#19410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, Apr 24, 2009 at 6:37 PM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:

&gt;<i> Ojan Vafai wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> What would be a better approach?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I believe Alex proposed some in this thread as aliases for
</I>&gt;<i> addEventListener.  Those looked a lot better to me, for what it's worth.
</I>

I have no problem with adding these aliases as long as the DOM and JS APIs
match. I agree that listen/unlisten are better names.

If a linear list of things the event is targeting is sufficient, of course,
&gt;<i> and we're ok with the random third argument of addEventListener being carted
</I>&gt;<i> around, then we might be ok using it...
</I>

I think this is sufficient. Although it is a bit unfortunate that dispatch
order is undefined. It would be great if we could just agree that dispatch
order is the order the handlers were registered in. I don't know the
technical details here though. Is there a reason that they can't dispatch in
a guaranteed order?

&gt;<i>From my point of view, in addition to the things already mentioned, an issue
</I>&gt;<i> with addEventListener is that removing requires a match of both the listener
</I>&gt;<i> and the bubbles arg.  So for example:
</I>&gt;<i>
</I>&gt;<i>  node.addEventListener(&quot;foo&quot;, function() { ... }, false);
</I>&gt;<i>
</I>&gt;<i> if I want to remove it later, I suddenly have to pull the function out and
</I>&gt;<i> give it a name.  And then on the remove end duplicate the &quot;foo&quot; and false.
</I>&gt;<i> Maybe it's just me, but I'd have much preferred something like:
</I>&gt;<i>
</I>&gt;<i>  var token = node.addEventListener(&quot;foo&quot;, function() { ... });
</I>&gt;<i>
</I>&gt;<i>  // later on
</I>&gt;<i>  node.removeEventListener(token);
</I>&gt;<i>
</I>
Yes, I completely agree that this is a significant shortcoming of
addEventListener. It seems like we could safely add this to the current API.

In short, I'm happy with evolving addEventListener to make it suck less if
we can keep the JS and DOM APIs consistent.

Ojan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090424/815ae0ad/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20090424/815ae0ad/attachment.htm</A>&gt;
</PRE>
















































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019411.html">[whatwg] Exposing EventTarget to JavaScript
</A></li>
	<LI>Next message: <A HREF="019416.html">[whatwg] Exposing EventTarget to JavaScript
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19410">[ date ]</a>
              <a href="thread.html#19410">[ thread ]</a>
              <a href="subject.html#19410">[ subject ]</a>
              <a href="author.html#19410">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
