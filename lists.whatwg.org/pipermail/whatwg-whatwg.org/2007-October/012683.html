<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Offline Web Apps
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Offline%20Web%20Apps&In-Reply-To=%3C11e306600710102137n46beb902t69d9d13d612ca500%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012677.html">
   <LINK REL="Next"  HREF="012692.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Offline Web Apps</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Offline%20Web%20Apps&In-Reply-To=%3C11e306600710102137n46beb902t69d9d13d612ca500%40mail.gmail.com%3E"
       TITLE="[whatwg] Offline Web Apps">robert at ocallahan.org
       </A><BR>
    <I>Wed Oct 10 21:37:44 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="012677.html">[whatwg] Offline Web Apps
</A></li>
        <LI>Next message: <A HREF="012692.html">[whatwg] Offline Web Apps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12683">[ date ]</a>
              <a href="thread.html#12683">[ thread ]</a>
              <a href="subject.html#12683">[ subject ]</a>
              <a href="author.html#12683">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 10/10/07, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:

&gt;<i> On Fri, 21 Sep 2007, Robert O'Callahan wrote:
</I>&gt;<i>
</I>&gt;<i> -- Several Web app authors have asked for the ability to test whether a
</I>&gt;<i> &gt; resource is cached, for their online apps. For example, when you're
</I>&gt;<i> &gt; zooming in and out of a map, the application could choose which tile(s)
</I>&gt;<i> &gt; to use for the animation by scaling them up or down. This would also be
</I>&gt;<i> &gt; convenient for offline use, where a resource might not necessarily be in
</I>&gt;<i> &gt; the offline cache but you could use it if it happened to be available.
</I>&gt;<i>
</I>&gt;<i> Interesting. This isn't covered yet, should we add it immediately?
</I>

I think it should be added *somewhere*, but it doesn't have to be part of
the offline spec itself (although it is particularly useful when you're
offline).

We have an experimental implementation:
<A HREF="http://mxr.mozilla.org/seamonkey/source/dom/public/idl/base/nsIDOMClientInformation.idl#55">http://mxr.mozilla.org/seamonkey/source/dom/public/idl/base/nsIDOMClientInformation.idl#55</A>
That's ... underdocumented ... but the idea is this:

boolean &lt;<A HREF="http://mxr.mozilla.org/seamonkey/ident?i=boolean">http://mxr.mozilla.org/seamonkey/ident?i=boolean</A>&gt;
isLocallyAvailable
&lt;<A HREF="http://mxr.mozilla.org/seamonkey/ident?i=isLocallyAvailable">http://mxr.mozilla.org/seamonkey/ident?i=isLocallyAvailable</A>&gt;(in
DOMString &lt;<A HREF="http://mxr.mozilla.org/seamonkey/ident?i=DOMString">http://mxr.mozilla.org/seamonkey/ident?i=DOMString</A>&gt; uri
&lt;<A HREF="http://mxr.mozilla.org/seamonkey/ident?i=uri">http://mxr.mozilla.org/seamonkey/ident?i=uri</A>&gt;, in boolean
&lt;<A HREF="http://mxr.mozilla.org/seamonkey/ident?i=boolean">http://mxr.mozilla.org/seamonkey/ident?i=boolean</A>&gt; whenOffline);

It should return true when the browser will load the resource given by the
URI without contacting the network. If 'whenOffline' is true then this
putative load is assumed to happen while the browser is offline/using its
offline caching functionality, if any. This is intended to allow an app to
predict, while the user is online, what loads will succeed when the user
goes offline, and in Gecko, for example, we do not perform HTTP cache
validation while the browser is in offline mode, so a page might be locally
available in offline mode but not in online mode. But we could probably get
rid of this parameter if people think it doesn't make sense.

Rob
-- 
&quot;Two men owed money to a certain moneylender. One owed him five hundred
denarii, and the other fifty. Neither of them had the money to pay him back,
so he canceled the debts of both. Now which of them will love him more?&quot;
Simon replied, &quot;I suppose the one who had the bigger debt canceled.&quot; &quot;You
have judged correctly,&quot; Jesus said. [Luke 7:41-43]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20071011/60829574/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20071011/60829574/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012677.html">[whatwg] Offline Web Apps
</A></li>
	<LI>Next message: <A HREF="012692.html">[whatwg] Offline Web Apps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12683">[ date ]</a>
              <a href="thread.html#12683">[ thread ]</a>
              <a href="subject.html#12683">[ subject ]</a>
              <a href="author.html#12683">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
