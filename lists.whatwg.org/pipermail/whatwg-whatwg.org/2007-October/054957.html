<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] SQL API and database versioning
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20SQL%20API%20and%20database%20versioning&In-Reply-To=%3CF43ADF7D-8594-49C4-B638-F6391F024AB4%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054909.html">
   <LINK REL="Next"  HREF="054958.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] SQL API and database versioning</H1>
<!--htdig_noindex-->
    <B>Brady Eidson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20SQL%20API%20and%20database%20versioning&In-Reply-To=%3CF43ADF7D-8594-49C4-B638-F6391F024AB4%40apple.com%3E"
       TITLE="[whatwg] SQL API and database versioning">beidson at apple.com
       </A><BR>
    <I>Wed Oct 10 22:36:36 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="054909.html">[whatwg] SQL API and changeVersion()
</A></li>
        <LI>Next message: <A HREF="054958.html">[whatwg] SQL API and database versioning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54957">[ date ]</a>
              <a href="thread.html#54957">[ thread ]</a>
              <a href="subject.html#54957">[ subject ]</a>
              <a href="author.html#54957">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>openDatabase() is called with a database name and an expected version  
string.

If the database has a version, and it is different than the expected  
version, openDatabase() fails.  This makes sense.  But...

&quot;Otherwise, if the database version is the empty string, or if the  
database doesn't yet exist, or if the database exists and the version  
provided to the openDatabase() method is the same as the current  
version associated with the database, then the method must return a  
Database object...&quot;

1 of these 3 situations doesn't make sense.  A database without a  
version should not be considered valid if the caller to openDatabase()  
expects a version.

This seems silly as two callers, one expecting &quot;versionFoo&quot; of a  
database and the other expecting &quot;versionBar&quot; will both be allowed  
access to a versionless database.
That seems like an instant recipe for failure for at least versionFoo  
or versionBar, possibly both.

I think that if someone opens a database with an expected version and  
the database already exists but has an empty version string, the  
openDatabase() call should fail.

~Brady

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054909.html">[whatwg] SQL API and changeVersion()
</A></li>
	<LI>Next message: <A HREF="054958.html">[whatwg] SQL API and database versioning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54957">[ date ]</a>
              <a href="thread.html#54957">[ thread ]</a>
              <a href="subject.html#54957">[ subject ]</a>
              <a href="author.html#54957">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
