<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] When to stop &lt;video&gt; elements from playing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20When%20to%20stop%20%3Cvideo%3E%20elements%20from%20playing&In-Reply-To=%3C11e306600710182212k6de65ad7rb994838460273c92%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="055090.html">
   <LINK REL="Next"  HREF="055079.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] When to stop &lt;video&gt; elements from playing</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20When%20to%20stop%20%3Cvideo%3E%20elements%20from%20playing&In-Reply-To=%3C11e306600710182212k6de65ad7rb994838460273c92%40mail.gmail.com%3E"
       TITLE="[whatwg] When to stop &lt;video&gt; elements from playing">robert at ocallahan.org
       </A><BR>
    <I>Thu Oct 18 22:12:03 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="055090.html">[whatwg] When to stop &lt;video&gt; elements from playing
</A></li>
        <LI>Next message: <A HREF="055079.html">[whatwg] When to stop &lt;video&gt; elements from playing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55078">[ date ]</a>
              <a href="thread.html#55078">[ thread ]</a>
              <a href="subject.html#55078">[ subject ]</a>
              <a href="author.html#55078">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Oct 19, 2007 11:55 AM, Geoffrey Garen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ggaren at apple.com</A>&gt; wrote:

&gt;<i> &gt; Suppose a script creates a &lt;video&gt; element, adds it to the document,
</I>&gt;<i> &gt; starts it playing, then removes the element from the document and
</I>&gt;<i> &gt; drops all references to it. When should the element stop playing?
</I>&gt;<i>
</I>&gt;<i> &gt; -- when the element leaves the document?
</I>&gt;<i>
</I>&gt;<i> Probably. Since you can't see the video any more, it would be really
</I>&gt;<i> weird to hear audio from it, or waste computer resources on a mute and
</I>&gt;<i> invisible video. Moreover, there's a lot of precedent for DOM elements
</I>&gt;<i> not loading when they're not in the document. This is true of iframe,
</I>&gt;<i> script, img, etc.
</I>

It's not true of &lt;img&gt;. Javascript image preloading tricks rely on it.

And as Maciej mentioned, it would be useful to be able to play audio outside
the document, and to be consistent, &lt;video&gt;'s behaviour should match.


&gt;<i> &gt; -- when all JS references to the element have been dropped (and
</I>&gt;<i> &gt; garbage collection runs)?
</I>&gt;<i>
</I>&gt;<i> No. The time at which garbage collection will reclaim an object is
</I>&gt;<i> unpredictable, so relying on garbage collection for behavior is a bad
</I>&gt;<i> idea.
</I>

Agreed.


&gt;<i> &gt; -- when the user leaves the page?
</I>&gt;<i>
</I>&gt;<i> Certainly. But you might want to stop the video sooner.
</I>

Agreed.


&gt;<i> &gt; -- when the end of the stream is reached? (which could be &quot;never&quot;)
</I>&gt;<i>
</I>&gt;<i> Certainly. (How can you play past the end of the stream?) But you
</I>&gt;<i> might want to stop the video sooner.
</I>&gt;<i>
</I>
Agreed.

A related question is whether display:none audio and video elements should
produce sound.

My current opinion is that &lt;audio&gt; and &lt;video&gt; elements should behave like
&lt;img&gt; and load/play whether or not they're in a document, but they should
only emit sound if they're in a document with a presentation and are not in
a display:none subtree. Then to play a sound you'd have to insert the
element into your document somewhere with size 0x0 (which should be the
default for &lt;audio&gt;).

But it's a rather tangled issue.

Rob
-- 
&quot;Two men owed money to a certain moneylender. One owed him five hundred
denarii, and the other fifty. Neither of them had the money to pay him back,
so he canceled the debts of both. Now which of them will love him more?&quot;
Simon replied, &quot;I suppose the one who had the bigger debt canceled.&quot; &quot;You
have judged correctly,&quot; Jesus said. [Luke 7:41-43]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20071019/af0677e4/attachment-0001.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20071019/af0677e4/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="055090.html">[whatwg] When to stop &lt;video&gt; elements from playing
</A></li>
	<LI>Next message: <A HREF="055079.html">[whatwg] When to stop &lt;video&gt; elements from playing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55078">[ date ]</a>
              <a href="thread.html#55078">[ thread ]</a>
              <a href="subject.html#55078">[ subject ]</a>
              <a href="author.html#55078">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
