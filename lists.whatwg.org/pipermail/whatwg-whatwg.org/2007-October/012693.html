<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Offline Web Apps
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Offline%20Web%20Apps&In-Reply-To=%3C11e306600710111847x3c073fdcqed0dfcba78958db7%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012692.html">
   <LINK REL="Next"  HREF="012694.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Offline Web Apps</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Offline%20Web%20Apps&In-Reply-To=%3C11e306600710111847x3c073fdcqed0dfcba78958db7%40mail.gmail.com%3E"
       TITLE="[whatwg] Offline Web Apps">robert at ocallahan.org
       </A><BR>
    <I>Thu Oct 11 18:47:36 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="012692.html">[whatwg] Offline Web Apps
</A></li>
        <LI>Next message: <A HREF="012694.html">[whatwg] Offline Web Apps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12693">[ date ]</a>
              <a href="thread.html#12693">[ thread ]</a>
              <a href="subject.html#12693">[ subject ]</a>
              <a href="author.html#12693">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Oct 12, 2007 12:53 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:

&gt;<i> The problem with isLocallyAvailable() -- as noted by Maciej on IRC -- is
</I>&gt;<i> mostly one of race conditions. What if the resource was removed in between
</I>&gt;<i> you asking for it and using it? Or added?
</I>&gt;<i>
</I>
In the contexts for which it was requested, race conditions are tolerable.
For example in a mapping application, if you choose the wrong tile as a
template for zooming, then you get an ugly transition but that's all. Or you
might have a button that opens another offline application, and you want to
disable the button if you think that application is not available; here a
race condition would probably mean that the button is enabled but pressing
it gives you an error page. In these cases isLocallyAvailable can be a
useful hint even if it's occasionally wrong.

Or what if you go offline (thus
changing the rules) in between checking for and using the resource?

That's why we have the 'whenOffline' parameter.

I'm going to punt on this for now, pending implementation and author
&gt;<i> experience. I'm certainly open to suggestions though.
</I>&gt;<i>
</I>
That's fine.

A race-free API seems difficult to design. Because loads are typically
asynchronous, I doubt you can do much better than start a regular load, and
set a timer to go off and cancel the load and take other action if the load
doesn't complete &quot;fast enough&quot;. Overkill if all you want is the hint, and
since authors can already do that but there's still demand for
isLocallyAvailable, I suspect that's not really what's wanted.

Rob
-- 
&quot;Two men owed money to a certain moneylender. One owed him five hundred
denarii, and the other fifty. Neither of them had the money to pay him back,
so he canceled the debts of both. Now which of them will love him more?&quot;
Simon replied, &quot;I suppose the one who had the bigger debt canceled.&quot; &quot;You
have judged correctly,&quot; Jesus said. [Luke 7:41-43]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20071012/b7f7639b/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20071012/b7f7639b/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012692.html">[whatwg] Offline Web Apps
</A></li>
	<LI>Next message: <A HREF="012694.html">[whatwg] Offline Web Apps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12693">[ date ]</a>
              <a href="thread.html#12693">[ thread ]</a>
              <a href="subject.html#12693">[ subject ]</a>
              <a href="author.html#12693">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
