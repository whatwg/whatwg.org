<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Comments on updated SQL API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Comments%20on%20updated%20SQL%20API&In-Reply-To=%3C6838FCCE-4903-4430-AEB7-FFE3BE161AC7%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012766.html">
   <LINK REL="Next"  HREF="012774.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Comments on updated SQL API</H1>
<!--htdig_noindex-->
    <B>Maciej Stachowiak</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Comments%20on%20updated%20SQL%20API&In-Reply-To=%3C6838FCCE-4903-4430-AEB7-FFE3BE161AC7%40apple.com%3E"
       TITLE="[whatwg] Comments on updated SQL API">mjs at apple.com
       </A><BR>
    <I>Wed Oct 17 11:49:22 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="012766.html">[whatwg] Comments on updated SQL API
</A></li>
        <LI>Next message: <A HREF="012774.html">[whatwg] Comments on updated SQL API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12772">[ date ]</a>
              <a href="thread.html#12772">[ thread ]</a>
              <a href="subject.html#12772">[ subject ]</a>
              <a href="author.html#12772">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Oct 17, 2007, at 9:14 AM, Brady Eidson wrote:

&gt;<i>
</I>&gt;<i> On Oct 17, 2007, at 1:41 AM, Maciej Stachowiak wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Oct 17, 2007, at 12:33 AM, Brady Eidson wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> An admirable goal - one that I agree with.  Which is why I think  
</I>&gt;&gt;&gt;<i> the wisdom of the implicit transaction is dubious.  Developers  
</I>&gt;&gt;&gt;<i> that will be using SQL will know they can say &quot;BEGIN TRANSACTION;&quot;  
</I>&gt;&gt;&gt;<i> and &quot;COMMIT;&quot; or &quot;ROLLBACK;&quot; so the utility of having transactions  
</I>&gt;&gt;&gt;<i> will not be lost.  Ditching it would help thin the API further,  
</I>&gt;&gt;&gt;<i> clearing up this confusion and complexity.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Downsides to this approach:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - You could only have one transaction in flight at once, so you'd  
</I>&gt;&gt;<i> have to do scheduling in the app code if a transaction-starting UI  
</I>&gt;&gt;<i> operation happens while you already have a transaction in progress.  
</I>&gt;&gt;<i> Otherwise multiple transactions would get scrambled. (Or else the  
</I>&gt;&gt;<i> API layer could parse your statements and understand when you have  
</I>&gt;&gt;<i> opened a transaction to still implicitly assign statements in your  
</I>&gt;&gt;<i> callbacks to the transaction, but I am not sure this is a  
</I>&gt;&gt;<i> simplification overall.)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - An author mistake (like doing something that causes an exception  
</I>&gt;&gt;<i> in the callback) means a stuck lock, quite possibly ruining the  
</I>&gt;&gt;<i> whole session.
</I>&gt;<i>
</I>&gt;<i> I agree these are potential downfalls, but ones that already exist  
</I>&gt;<i> with the current spec.  We have the implicit transaction already, so  
</I>&gt;<i> a performance-minded developer starting their own transaction might  
</I>&gt;<i> already trigger this scenario
</I>
I don't think you would typically need to use BEGIN, COMMIT or  
ROLLBACK with the current API, but perhaps the spec should define what  
happens if you do. In any case, using the easiest path to transactions  
would not have either of these pitfalls.

Regards,
Maciej


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012766.html">[whatwg] Comments on updated SQL API
</A></li>
	<LI>Next message: <A HREF="012774.html">[whatwg] Comments on updated SQL API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12772">[ date ]</a>
              <a href="thread.html#12772">[ thread ]</a>
              <a href="subject.html#12772">[ subject ]</a>
              <a href="author.html#12772">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
