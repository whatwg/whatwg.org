<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Comments on updated SQL API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Comments%20on%20updated%20SQL%20API&In-Reply-To=%3C696e4b7c0710171314udecdc07n343cddb8c248c897%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="055046.html">
   <LINK REL="Next"  HREF="055050.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Comments on updated SQL API</H1>
<!--htdig_noindex-->
    <B>Scott Hess</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Comments%20on%20updated%20SQL%20API&In-Reply-To=%3C696e4b7c0710171314udecdc07n343cddb8c248c897%40mail.gmail.com%3E"
       TITLE="[whatwg] Comments on updated SQL API">shess at google.com
       </A><BR>
    <I>Wed Oct 17 13:14:15 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="055046.html">[whatwg] Comments on updated SQL API
</A></li>
        <LI>Next message: <A HREF="055050.html">[whatwg] Comments on updated SQL API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55049">[ date ]</a>
              <a href="thread.html#55049">[ thread ]</a>
              <a href="subject.html#55049">[ subject ]</a>
              <a href="author.html#55049">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 10/17/07, Maciej Stachowiak &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">mjs at apple.com</A>&gt; wrote:
&gt;<i> I'm not sure what other reasons Scott sees for (2). I do think it
</I>&gt;<i> would aid authoring clarity to have the word &quot;transaction&quot; in the API,
</I>&gt;<i> even if the model of how they are managed is much the same as
</I>&gt;<i> currently (so you can't forget to close it) and even if a
</I>&gt;<i> transactionless API is not added.
</I>
I think my concern is in two related bits:

A) As things currently stand, the developer simply can't roll their
own transaction structure.  Passing BEGIN, COMMIT, or ROLLBACK to
executeSql() doesn't do anything sensible.  It's possible you could
somehow do something using temporary tables, but that's going to be
really dependent on your underlying SQL implementation's capabilities.

B) Transactions are a meaningful concept in SQL, and we're entangling
that concept with an implementation detail of how the API is
implemented.

I'm gradually getting to where I don't feel strongly about B.  If you
don't want a transaction, you can have serial calls to executeSql().
If you want serial calls that are dependent, you can call
closeTransaction() before making the next executeSql().  I agree that
the following might be more self-documenting:

  db.transaction(function () {
    db.executeSql(...);
  });

On A, I'm still nervous.

-scott

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="055046.html">[whatwg] Comments on updated SQL API
</A></li>
	<LI>Next message: <A HREF="055050.html">[whatwg] Comments on updated SQL API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55049">[ date ]</a>
              <a href="thread.html#55049">[ thread ]</a>
              <a href="subject.html#55049">[ subject ]</a>
              <a href="author.html#55049">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
