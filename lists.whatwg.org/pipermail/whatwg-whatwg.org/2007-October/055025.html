<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] SQL API error handling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20SQL%20API%20error%20handling&In-Reply-To=%3C696e4b7c0710161748t113e25dekddb32d21a377cb7f%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="055032.html">
   <LINK REL="Next"  HREF="055048.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] SQL API error handling</H1>
<!--htdig_noindex-->
    <B>Scott Hess</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20SQL%20API%20error%20handling&In-Reply-To=%3C696e4b7c0710161748t113e25dekddb32d21a377cb7f%40mail.gmail.com%3E"
       TITLE="[whatwg] SQL API error handling">shess at google.com
       </A><BR>
    <I>Tue Oct 16 17:48:18 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="055032.html">[whatwg] SQL API error handling
</A></li>
        <LI>Next message: <A HREF="055048.html">[whatwg] SQL API error handling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55025">[ date ]</a>
              <a href="thread.html#55025">[ thread ]</a>
              <a href="subject.html#55025">[ subject ]</a>
              <a href="author.html#55025">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 10/16/07, Geoffrey Garen &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ggaren at apple.com</A>&gt; wrote:
&gt;<i> &gt; It would be nice to have a way to indicate to the script &quot;There was
</I>&gt;<i> &gt; a catastrophic event and we reset your database, assume you're
</I>&gt;<i> &gt; starting over from scratch.&quot;
</I>&gt;<i>
</I>&gt;<i> In general, I'm not sure how useful it is to know that you're
</I>&gt;<i> &quot;starting over from scratch,&quot; since any database query needs to check
</I>&gt;<i> its result. Presumably, an app's behavior in the &quot;no data&quot; case is the
</I>&gt;<i> same regardless of *why* there's no data. 99% of the time the behavior
</I>&gt;<i> will be to reload the data from a server.
</I>&gt;<i>
</I>&gt;<i> More importantly, what constitutes a corrupt database, and how to
</I>&gt;<i> recover from it, are serious implementation details. Some
</I>&gt;<i> implementations may have error correction algorithms. Others may have
</I>&gt;<i> backups they can restore.
</I>
Either of those cases would presumably be handled transparently.

&gt;<i> Others may have to wipe the database
</I>&gt;<i> completely and start over. Still others may not be able to start
</I>&gt;<i> anything. (For example, the storage medium might have gone bad, or
</I>&gt;<i> been locked or disconnected.) So, imposing a &quot;start over from scratch&quot;
</I>&gt;<i> requirement would hamper some implementations while requiring the
</I>&gt;<i> impossible of others.
</I>
I agree that we probably can't say specifically what should happen, here.

I think that if the user agent did detect corruption and nuke the
database from orbit, then it would be reasonable for the user agent to
invalidate all outstanding database handles.  But that kind of thing
would seem to be something really beyond the spec to deal with.  It
seems like at that point the most appropriate action to take would be
to refresh the page and start from scratch, rather than expecting the
app to somehow handle the problem.

-scott

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="055032.html">[whatwg] SQL API error handling
</A></li>
	<LI>Next message: <A HREF="055048.html">[whatwg] SQL API error handling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55025">[ date ]</a>
              <a href="thread.html#55025">[ thread ]</a>
              <a href="subject.html#55025">[ subject ]</a>
              <a href="author.html#55025">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
