<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Client-side database and origins
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Client-side%20database%20and%20origins&In-Reply-To=%3CDEF641E6-FFEE-486C-AF6C-D47BB1B0FF31%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012619.html">
   <LINK REL="Next"  HREF="012621.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Client-side database and origins</H1>
<!--htdig_noindex-->
    <B>Brady Eidson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Client-side%20database%20and%20origins&In-Reply-To=%3CDEF641E6-FFEE-486C-AF6C-D47BB1B0FF31%40apple.com%3E"
       TITLE="[whatwg] Client-side database and origins">beidson at apple.com
       </A><BR>
    <I>Wed Oct  3 12:40:52 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="012619.html">[whatwg] Client-side database and origins
</A></li>
        <LI>Next message: <A HREF="012621.html">[whatwg] Client-side database and origins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12620">[ date ]</a>
              <a href="thread.html#12620">[ thread ]</a>
              <a href="subject.html#12620">[ subject ]</a>
              <a href="author.html#12620">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On Oct 3, 2007, at 12:32 PM, Ian Hickson wrote:

&gt;<i> On Wed, 3 Oct 2007, Brady Eidson wrote:
</I>&gt;&gt;<i> Even if the page at &quot;<A HREF="http://www.foo.com:80/user1&quot;">http://www.foo.com:80/user1&quot;</A> needs to know the
</I>&gt;&gt;<i> database name and the correct version from <A HREF="http://www.foo.com:80/user2">http://www.foo.com:80/user2</A> 
</I>&gt;&gt;<i> &quot;,
</I>&gt;&gt;<i> this seems like a glaring security issue.
</I>&gt;<i>
</I>&gt;<i> Even if we limited it to paths, it would still be possible to access  
</I>&gt;<i> the
</I>&gt;<i> database. Since JavaScript same-origin checks aren't based on paths,  
</I>&gt;<i> you'd
</I>&gt;<i> just need to create an &lt;iframe&gt; to a page under /user2 and then inject
</I>&gt;<i> whatever script you wanted. The injected script would run under the / 
</I>&gt;<i> user2
</I>&gt;<i> origin, and would thus give you access to the database.
</I>
Fair enough - I accept that explanation and had already come up with  
that workaround myself.

However, what if the developer at &quot;<A HREF="http://www.foo.com:80/user1&quot;">http://www.foo.com:80/user1&quot;</A>  
creates a database called &quot;Photos&quot;, and the user at &quot;<A HREF="http://www.foo.com:80/user2">http://www.foo.com:80/user2</A> 
&quot; does the same.  They both expect to be able to create their own  
database and not have outside interference, yet for the user who  
visits one page before the other, things will inexplicably fail.

I suppose it's an issue that is allowed by the spec and therefore  
developers should be aware of it and able to workaround it.  However,  
it seems like it would be very polite (and probably reasonably simple)  
to design the spec in a manner that would not allow this conflict.

Thanks,
Brady


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012619.html">[whatwg] Client-side database and origins
</A></li>
	<LI>Next message: <A HREF="012621.html">[whatwg] Client-side database and origins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12620">[ date ]</a>
              <a href="thread.html#12620">[ thread ]</a>
              <a href="subject.html#12620">[ subject ]</a>
              <a href="author.html#12620">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
