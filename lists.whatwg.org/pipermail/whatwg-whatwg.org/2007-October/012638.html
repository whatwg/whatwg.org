<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Comments/questions on 4.6 Offline Web applications
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Comments/questions%20on%204.6%20Offline%20Web%20applications&In-Reply-To=%3CD2897B54-5E71-4242-8B70-9B07DC70B9E3%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012686.html">
   <LINK REL="Next"  HREF="012639.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Comments/questions on 4.6 Offline Web applications</H1>
<!--htdig_noindex-->
    <B>Adam Roben</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Comments/questions%20on%204.6%20Offline%20Web%20applications&In-Reply-To=%3CD2897B54-5E71-4242-8B70-9B07DC70B9E3%40apple.com%3E"
       TITLE="[whatwg] Comments/questions on 4.6 Offline Web applications">aroben at apple.com
       </A><BR>
    <I>Sat Oct  6 14:31:32 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="012686.html">[whatwg] SQL API and database versioning
</A></li>
        <LI>Next message: <A HREF="012639.html">[whatwg] Comments/questions on 4.6 Offline Web applications
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12638">[ date ]</a>
              <a href="thread.html#12638">[ thread ]</a>
              <a href="subject.html#12638">[ subject ]</a>
              <a href="author.html#12638">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Here are some comments and questions about section 4.6 Offline Web  
applications:

4.6.2
-----
The description of &quot;Implicit entries&quot; is unclear. My current  
understanding is that the only kind of implicit entry you ever have is  
a document that specified an application attribute on its html  
element. The description of &quot;The manifest&quot; and the application cache  
selection algorithm seem to support this. I think my confusion would  
be cleared up if the first word in the description of &quot;Implicit  
resources&quot; were &quot;Documents&quot; instead of &quot;Resources&quot;.

Can javascript: URIs be used entries?

4.6.3.1
-------
&quot;Manifests must specify all the URIs that are to be cached&quot; seems to  
be untrue: you don't have to specify the URI of any implicit  
resources, or of the manifest itself.

It may be worth stating in this section what the behavior is when a  
section or opportunistic caching namespace appears multiple times. The  
parsing algorithm makes this clear, but it would be clearer still to  
also state the behavior in this section.

4.6.3.2
-------
Section 4.6.3.1 says that the initial &quot;CACHE MANIFEST&quot; line may have  
zero or more trailing space or tab characters, but step 9 of the  
parsing algorithm says that trailing whitespace is disallowed.

Step 19: Beneath 'If mode is &quot;fallback&quot;', there are two places where  
the phrase &quot;opportunistic caching namespaces&quot; is used. In both cases,  
&quot;namespaces&quot; should be replaced with &quot;namespace&quot;.

Step 19 should specify what the user agent's behavior should be when  
an explicit or fallback URI is encountered which was already  
encountered in an online whitelist section, or when an online  
whitelist URI is encountered that was already encountered in an  
explicit or fallback section.

Step 21 of the parsing algorithm should end with &quot;and the online  
whitelist URIs&quot; instead of &quot;and the online URIs&quot;.

4.6.4
-----
Steps 8.2 and 19.3.2 say that the user agent should &quot;discard cache&quot;.  
What does &quot;discard cache&quot; mean (in the case of an upgrade attempt,  
&quot;cache&quot; is a possibly in-use cache)? In step 19.3.2, what is to be  
done with &quot;new cache&quot;?

Step 19 should specify what should happen if a URI that is already in  
the cache's online whitelist is to be added as an explicit, fallback,  
or dynamic entry.

Step 22 should specify what should happen if a URI that is already in  
the cache as an explicit, fallback, or dynamic entry is to be added to  
the cache's online whitelist.

It would be good to make it clear in steps 19.{5,6,7,8} that an entry  
can end up in multiple categories.

4.6.5.1
-------
What happens if the resource's URI is a javascript: URI? This seems  
particularly interesting in the case of fallback URIs.

4.6.6
-----
Small typo in the description of the length attribute: &quot;and zero the  
object is not associated...&quot; should have the word &quot;if&quot; between &quot;zero&quot;  
and &quot;the&quot;.

The description of the length attribute says &quot;The length attribute  
must return the number of entries in the application cache...&quot;, but  
should I think say &quot;The length attribute must return the number of  
_dynamic_ entries in the application cache...&quot; to be consistent with  
subsequent paragraphs.

What happens if you add() a URI that is in the online whitelist?

Should an exception be thrown if remove() is called with a URI that is  
not a dynamic entry?

In the definition of swapCache(), the Note in step 2 is unclear when  
it says &quot;this can only happen if...&quot;, as &quot;this&quot; could be interpreted  
as either &quot;success&quot; or &quot;abortion&quot;. I believe &quot;success&quot; is the correct  
interpretation, but it would be nice to be clearer here.

-Adam


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012686.html">[whatwg] SQL API and database versioning
</A></li>
	<LI>Next message: <A HREF="012639.html">[whatwg] Comments/questions on 4.6 Offline Web applications
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12638">[ date ]</a>
              <a href="thread.html#12638">[ thread ]</a>
              <a href="subject.html#12638">[ subject ]</a>
              <a href="author.html#12638">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
