<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Couple comments on Database storage spec.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Couple%20comments%20on%20Database%20storage%20spec.&In-Reply-To=%3CPine.LNX.4.62.0710172136360.19595%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="055037.html">
   <LINK REL="Next"  HREF="055059.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Couple comments on Database storage spec.</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Couple%20comments%20on%20Database%20storage%20spec.&In-Reply-To=%3CPine.LNX.4.62.0710172136360.19595%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] Couple comments on Database storage spec.">ian at hixie.ch
       </A><BR>
    <I>Wed Oct 17 14:37:57 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="055037.html">[whatwg] Couple comments on Database storage spec.
</A></li>
        <LI>Next message: <A HREF="055059.html">[whatwg] Couple comments on Database storage spec.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55055">[ date ]</a>
              <a href="thread.html#55055">[ thread ]</a>
              <a href="subject.html#55055">[ subject ]</a>
              <a href="author.html#55055">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, 17 Oct 2007, Scott Hess wrote:
&gt;<i> 
</I>&gt;<i> Honestly, something like quote() is not necessary.  It's just that 
</I>&gt;<i> constructing SQL statements via concatenation is a hole I often see 
</I>&gt;<i> people falling into.  Having quote() allows you to construct safer SQL 
</I>&gt;<i> statements, but people who construct statements directly rather than 
</I>&gt;<i> constructing a parallel statement and arg array may be beyond saving.
</I>&gt;<i> 
</I>&gt;<i> Other cases I've seen where quote() could be used are dynamic 
</I>&gt;<i> construction of WHERE clauses, something like:
</I>&gt;<i> 
</I>&gt;<i>    var sql = &quot;SELECT rowid FROM t WHERE name = ?&quot;
</I>&gt;<i>    if (color) {
</I>&gt;<i>      sql += &quot; AND color = &quot; + color;
</I>&gt;<i>    }
</I>&gt;<i>    ...
</I>&gt;<i> 
</I>&gt;<i> and comparable constructs for INSERT and UPDATE.  As mentioned, these 
</I>&gt;<i> can generally be handled by constructing the statement with bind 
</I>&gt;<i> parameters in parallel to the arg array.  Depending on control flow, 
</I>&gt;<i> this can be pretty annoying, but my experience with this is mostly in 
</I>&gt;<i> C/C++, where it's much more annoying to change the types of things.
</I>
Yeah. I think having quote() might do as much damage by encouraging people 
to write codepaths that need it as it might help by having people writing 
those codepaths anyway be saved (if, that is, they know to be saved).

What would be cool is if we could detect, through tainting, the bad 
codepaths. But I see no way to do that here.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="055037.html">[whatwg] Couple comments on Database storage spec.
</A></li>
	<LI>Next message: <A HREF="055059.html">[whatwg] Couple comments on Database storage spec.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55055">[ date ]</a>
              <a href="thread.html#55055">[ thread ]</a>
              <a href="subject.html#55055">[ subject ]</a>
              <a href="author.html#55055">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
