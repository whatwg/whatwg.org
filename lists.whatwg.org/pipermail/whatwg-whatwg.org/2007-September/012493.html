<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Offline Web Apps
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Offline%20Web%20Apps&In-Reply-To=%3Cfb15ac210709131041q46f64c45o72654552df94f5e3%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012492.html">
   <LINK REL="Next"  HREF="012490.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Offline Web Apps</H1>
<!--htdig_noindex-->
    <B>Dimitri Glazkov</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Offline%20Web%20Apps&In-Reply-To=%3Cfb15ac210709131041q46f64c45o72654552df94f5e3%40mail.gmail.com%3E"
       TITLE="[whatwg] Offline Web Apps">dimitri.glazkov at gmail.com
       </A><BR>
    <I>Thu Sep 13 10:41:11 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="012492.html">[whatwg] Offline Web Apps
</A></li>
        <LI>Next message: <A HREF="012490.html">[whatwg] Offline Web Apps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12493">[ date ]</a>
              <a href="thread.html#12493">[ thread ]</a>
              <a href="subject.html#12493">[ subject ]</a>
              <a href="author.html#12493">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 9/13/07, Anne van Kesteren &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">annevk at opera.com</A>&gt; wrote:
&gt;<i> You seem to have missed what I pointed out earlier:
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/#pushstate">http://www.whatwg.org/specs/web-apps/current-work/#pushstate</A> This allows
</I>&gt;<i> applications to make distinct URIs while keeping all the other benefits.
</I>
Yes, it does, and I apologize I missed that.

Upon studying the pushState spec a little bit closer, I can't help but
think that it's not quite what the doctor ordered. Consider this
scenario:

I start with the following markup (could've borrowed code from
Bugzilla, but eh, too lazy):

&lt;ul&gt;
   &lt;li&gt;&lt;a href=&quot;add-bug&quot;&gt;Add New Bug&lt;/a&gt;&lt;/li&gt;
   &lt;li&gt;&lt;a href=&quot;browse/&quot;&gt;Browse Existing Bugs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

Now, in order to preserve context when the user clicks on these links,
I have to:

1. Attach event handler to each link, which:
2. Disables event propagation and cancels the event
3. Creates (or retrieves from history) the state object
4. Pushes state object with the URL, provided in &quot;href' attribute
5. Still does XHR request to the target page to retrieve needed information
6. Modifies DOM of current page to replace parts or whole of the page
with the data, retrieved with the XHR.

Correct me if I am wrong, but a lot of this pseudo-code is essentially
replicating browser's  hyperlink behavior all over again.

I am not sure I have a better alternative, but it just seems that
there has to be a better way. Especially considering that the way this
develops is in our hands at the moment.

:<i>DG&lt;
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012492.html">[whatwg] Offline Web Apps
</A></li>
	<LI>Next message: <A HREF="012490.html">[whatwg] Offline Web Apps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12493">[ date ]</a>
              <a href="thread.html#12493">[ thread ]</a>
              <a href="subject.html#12493">[ subject ]</a>
              <a href="author.html#12493">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
