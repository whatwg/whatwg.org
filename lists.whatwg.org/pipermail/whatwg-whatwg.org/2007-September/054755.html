<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Progress Events &quot;done&quot; event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Progress%20Events%20%22done%22%20event&In-Reply-To=%3C000201c7f4ab%246bea7160%244d01010a%40IBM42F76C011DF%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054752.html">
   <LINK REL="Next"  HREF="054753.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Progress Events &quot;done&quot; event</H1>
<!--htdig_noindex-->
    <B>K&#345;i&#353;tof &#381;elechovski</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Progress%20Events%20%22done%22%20event&In-Reply-To=%3C000201c7f4ab%246bea7160%244d01010a%40IBM42F76C011DF%3E"
       TITLE="[whatwg] Progress Events &quot;done&quot; event">giecrilj at stegny.2a.pl
       </A><BR>
    <I>Tue Sep 11 12:38:54 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="054752.html">[whatwg] Fwd: Re:  Progress Events &quot;done&quot; event
</A></li>
        <LI>Next message: <A HREF="054753.html">[whatwg] document.writeln() without arguments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54755">[ date ]</a>
              <a href="thread.html#54755">[ thread ]</a>
              <a href="subject.html#54755">[ subject ]</a>
              <a href="author.html#54755">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Why is 
	xhr.addEventListener(&quot;done&quot;, callCompleteHandler, false);
more concise than
	add_done_hook(xhr, cch)?
The former line is actually longer.

While English does not have loops, it has quantifiers and relations that are
quite convenient for most common purposes.  I do not think English with
loops would be cool.  C has loops but it is not cool at all.  It is
doubleplusuncool.  Declarative languages are, in general, cooler than
functional ones.  You need special languages for special purposes and there
is nothing weird about this fact.

Chris

-----Original Message-----
From: Garrett Smith [mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">dhtmlkitchen at gmail.com</A>] 
Sent: Monday, September 10, 2007 11:33 PM
To: K&#345;i&#353;tof &#381;elechovski
Cc: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at whatwg.org</A>; <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">chaals at opera.com</A>
Subject: Re: [whatwg] Progress Events &quot;done&quot; event

On 8/27/07, K&#345;i&#353;tof &#381;elechovski &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">giecrilj at stegny.2a.pl</A>&gt; wrote:
&gt;<i> Remember that JavaScript is a programming language after all.  You can use
</I>a
&gt;<i> loop to get rid of the repetitions.
</I>&gt;<i> Start from
</I>&gt;<i> var done = [&quot;load&quot;, &quot;error&quot;, &quot;abort&quot;]...
</I>&gt;<i> and apply the closure image.aEL(?, hPB, false) to it.
</I>&gt;<i> Sincerely,
</I>&gt;<i> Chris
</I>&gt;<i>
</I>That is true, in fact, it would also be possible to use Array.forEach
on that array.

The disadvantage is that it still invites code repetition. It is less
concise.

On the contrary:

xhr.addEventListener(&quot;done&quot;, callCompleteHandler, false);
function callCompleteHandler(e) {

}

Translates the use case to code quite naturally.


I like to make these examples that are conceptually similar:

&quot;I'm going to call my friend and then I'm going to the dry cleaner.&quot;
vs.

&quot;I'm going to call my friend and if she's not available, after that,
I'm going to the dry cleaner and if the call failed, after that, I'm
going to the dry cleaner, and if we talk for a bit, after that...

You get the point. English doesn't have loops or generators (hey
wouldn't that be cool!).

My point is that having a done event is more concise and makes
realizing the use-case requirement to code more explicit.

Garrett

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>] On Behalf Of Garrett Smith
</I>&gt;<i> Sent: Sunday, August 26, 2007 8:25 AM
</I>&gt;<i> To: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at whatwg.org</A>
</I>&gt;<i> Cc: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">chaals at opera.com</A>
</I>&gt;<i> Subject: [whatwg] Progress Events &quot;done&quot; event
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ==========================================
</I>&gt;<i> function showImage(imageHref) {
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> // remove the progress bar when done.
</I>&gt;<i>        image.addEventListener(&quot;load&quot;, hideProgressBar, false);
</I>&gt;<i>        image.addEventListener(&quot;error&quot;, hideProgressBar, false);
</I>&gt;<i>        image.addEventListener(&quot;abort&quot;, hideProgressBar, false);
</I>&gt;<i> }
</I>&gt;<i> ==========================================
</I>&gt;<i>
</I>&gt;<i> This is somewhat verbose. Clearly, the author is forced to repeat
</I>&gt;<i> himself when all he really wants to do is hide the progress bar after
</I>&gt;<i> the call is done.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Programming is a collaborative art.



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054752.html">[whatwg] Fwd: Re:  Progress Events &quot;done&quot; event
</A></li>
	<LI>Next message: <A HREF="054753.html">[whatwg] document.writeln() without arguments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54755">[ date ]</a>
              <a href="thread.html#54755">[ thread ]</a>
              <a href="subject.html#54755">[ subject ]</a>
              <a href="author.html#54755">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
