<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Comments on updated SQL API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Comments%20on%20updated%20SQL%20API&In-Reply-To=%3C01E3A07C-5D93-47BF-9361-B8E45922540B%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054829.html">
   <LINK REL="Next"  HREF="054816.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Comments on updated SQL API</H1>
<!--htdig_noindex-->
    <B>Maciej Stachowiak</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Comments%20on%20updated%20SQL%20API&In-Reply-To=%3C01E3A07C-5D93-47BF-9361-B8E45922540B%40apple.com%3E"
       TITLE="[whatwg] Comments on updated SQL API">mjs at apple.com
       </A><BR>
    <I>Sat Sep 22 00:24:01 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="054829.html">[whatwg] Latest proposal for offline web app API
</A></li>
        <LI>Next message: <A HREF="054816.html">[whatwg] Comments on updated SQL API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54812">[ date ]</a>
              <a href="thread.html#54812">[ thread ]</a>
              <a href="subject.html#54812">[ subject ]</a>
              <a href="author.html#54812">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
Mostly I like the new API (no surprise to Ian I'm sure).

<A HREF="http://www.whatwg.org/specs/web-apps/current-work/#sql">http://www.whatwg.org/specs/web-apps/current-work/#sql</A>

A few comments. I think putting the currentRow accessors directly on  
the ResultSet is a bit of an odd choice. It seems like it could be  
confusing that myResultSet[0] returns the value of the first field of  
the current row, rather than the first row. At the very least I think  
there should be a currentRow field pointing to a ResultRow object that  
has the accessors. Also, ResultRow could have item, namedItem and  
getName marked DontEnum to allow for..in to be used to get the field  
names, which is more idiomatic JavaScript than the getName method.

Another suggestion is that having a rows array might be more  
convenient than the combination of next(), validRow, and whatever  
accessors exist in the current row (either a separate object or the  
ResultSet could have array-like accessors). The tradeoff for the  
convenience is that you'd have to either cache any already visited  
rows in the ResultSet object (at minimum), since database cursors  
typically only offer iteration in one direction. This one is less  
obvious to me since iterating with next() is not all that inconvenient.

Regards,
Maciej


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054829.html">[whatwg] Latest proposal for offline web app API
</A></li>
	<LI>Next message: <A HREF="054816.html">[whatwg] Comments on updated SQL API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54812">[ date ]</a>
              <a href="thread.html#54812">[ thread ]</a>
              <a href="subject.html#54812">[ subject ]</a>
              <a href="author.html#54812">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
