<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Web Forms: SELECT, OPTION, and defaultSelected
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Forms%3A%20SELECT%2C%20OPTION%2C%20and%20defaultSelected&In-Reply-To=%3Cc9e12660709131716o7d8f49c8jecbe94ce16ff542b%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054759.html">
   <LINK REL="Next"  HREF="054772.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Web Forms: SELECT, OPTION, and defaultSelected</H1>
<!--htdig_noindex-->
    <B>Garrett Smith</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Web%20Forms%3A%20SELECT%2C%20OPTION%2C%20and%20defaultSelected&In-Reply-To=%3Cc9e12660709131716o7d8f49c8jecbe94ce16ff542b%40mail.gmail.com%3E"
       TITLE="[whatwg] Web Forms: SELECT, OPTION, and defaultSelected">dhtmlkitchen at gmail.com
       </A><BR>
    <I>Thu Sep 13 17:16:42 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="054759.html">[whatwg]  Persistent Scripting Context, was: Offline Web Apps
</A></li>
        <LI>Next message: <A HREF="054772.html">[whatwg] successful form controls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54771">[ date ]</a>
              <a href="thread.html#54771">[ thread ]</a>
              <a href="subject.html#54771">[ subject ]</a>
              <a href="author.html#54771">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Section 2.3

I didn't get any responses on this. It doesn't have any cool like ajax
offline; it is a more fundamental (basic) requirement.

There is a shortcoming in the specification.

================================================================
2.3. Extensions to the select element

Previous versions of Web Forms were inconsistent about whether the
first option element of a single-select select element with no
otherwise-selected items should be automatically selected. According
to [RFC1866], it should be, and according to [HTML4] it was undefined.
User agents implementing this specification must select the initial
option element of a single-select select element with no
otherwise-selected items.
================================================================

I would like the defaultSelected for this behavior to be true.

Currently there is a problem in at least Firefox, and I can't remember
about IE. If no OPTION has selected attribute, then Firefox will
select the first option in the list. If the first option is selected,
it's selected attribute will be true and the defaultSelected will be
false. This is because defaultSelected is required to return the value
of the HTML selected attribute.

The negative result this has is that it causes the form to appear dirty.

Form dirty notification is quite useful in modern Ajax applications.
In fact, it is useful to broadcast a custom &quot;dirty&quot; event from a FORM
wrapper class (ES). That way, subscribers can listen for the event and
enable a submit button, for example.

I have implemented this particular example use-case and run into the
very problem. The solution was to require the clients (other
developers using the FORM wrapper code) to explicitly use the selected
attribute.

My proposal is to change the text as follows:
================================================================
2.3. Extensions to the select element

Previous versions of Web Forms were inconsistent about whether the
first option element of a single-select select element with no
otherwise-selected items should be automatically selected. According
to [RFC1866], it should be, and according to [HTML4] it was undefined.
User agents implementing this specification must select the initial
option element of a single-select select element with no
otherwise-selected items ***and set its defaultSelected value to
true.***
================================================================

Garrett


<A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2007-August/012445.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2007-August/012445.html</A>


-- 
Programming is a collaborative art.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054759.html">[whatwg]  Persistent Scripting Context, was: Offline Web Apps
</A></li>
	<LI>Next message: <A HREF="054772.html">[whatwg] successful form controls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54771">[ date ]</a>
              <a href="thread.html#54771">[ thread ]</a>
              <a href="subject.html#54771">[ subject ]</a>
              <a href="author.html#54771">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
