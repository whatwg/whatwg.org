<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Outline style to use for drawSystemFocusRing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Outline%20style%20to%20use%20for%20drawSystemFocusRing&In-Reply-To=%3CCAGN7qDB0ByibiwDUXgO%2B2s3OGoD_JUNpFaXWNdd-x%3DPELc2a4A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084130.html">
   <LINK REL="Next"  HREF="084137.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Outline style to use for drawSystemFocusRing</H1>
<!--htdig_noindex-->
    <B>Rik Cabanier</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Outline%20style%20to%20use%20for%20drawSystemFocusRing&In-Reply-To=%3CCAGN7qDB0ByibiwDUXgO%2B2s3OGoD_JUNpFaXWNdd-x%3DPELc2a4A%40mail.gmail.com%3E"
       TITLE="[whatwg] Outline style to use for drawSystemFocusRing">cabanier at gmail.com
       </A><BR>
    <I>Tue Jan  7 21:18:04 PST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="084130.html">[whatwg] Outline style to use for drawSystemFocusRing
</A></li>
        <LI>Next message: <A HREF="084137.html">[whatwg] Outline style to use for drawSystemFocusRing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84136">[ date ]</a>
              <a href="thread.html#84136">[ thread ]</a>
              <a href="subject.html#84136">[ subject ]</a>
              <a href="author.html#84136">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Jan 7, 2014 at 1:10 PM, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> &gt; I don't see that as an argument against caching the last known location
</I>&gt;<i> &gt; of an object too.
</I>&gt;<i>
</I>&gt;<i> If you want to store state, that's what addHitRegion() is for. It's the
</I>&gt;<i> retained mode API for canvas. The draw*FocusRing() methods are direct-mode
</I>&gt;<i> APIs. There's no expiry logic, there's no API contract that implies that
</I>&gt;<i> the calls will be made, or made correctly, if the element isn't focused.
</I>&gt;<i>
</I>
I believe this is where part of our confusion/disagreements come from.
The draw*FocusRing methods are NOT direct-mode APIs for *a11y*.

By calling draw*FocusRing on a fallback element, the a11y software will now
associate that element (and its aria rules) with the path that was in the
canvas' state.
This HAS to be stateful because the a11y software queries the browser for
the bounds of the fallback element to draw its own focus rectangle.

For the blink and firefox implementations (and the webkit patch) &quot;informing
the user&quot; [1] means telling the DOM about the region of the fallback
element so the a11y software can query it later.
Because of this, there also needs to be a way to disassociate the region
from the fallback element (ie by having no current path when you call
draw*FocusRing)


&gt;<i> As a meta-point: when you, as an implementor, disagree with the spec, the
</I>&gt;<i> right way to approach this is to report the problem, describe the use
</I>&gt;<i> cases, and so forth. If you want to implement something different, the way
</I>&gt;<i> to do that is to design a coherent API, and make sure this new API doesn't
</I>&gt;<i> conflict with the specced API, and then implement that new API.
</I>&gt;<i> Implementing something that is &quot;inspired by&quot;, and conflicts with, what the
</I>&gt;<i> spec proposal suggests, is not going to lead to a coherent platform,
</I>&gt;<i> because it is is essentially just mixing in multiple people's designs and
</I>&gt;<i> goals without coming up with a coherent single vision.
</I>&gt;<i>
</I>&gt;<i> To clarify, I'm not saying &quot;implement what the spec says&quot;. I'm just
</I>&gt;<i> saying, if you don't want to implement what the spec says, please do
</I>&gt;<i> actually design a coherent complete solution. Otherwise we'll end up with
</I>&gt;<i> things like a direct-mode API that acts like a retained-mode API but lacks
</I>&gt;<i> core retained-mode features like expunging expired data.
</I>

I completely agree.
I *think* I'm on the same page as Rich and Dominic but we're all a bit
fuzzy on the details/edge cases.

1:
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#inform">http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#inform</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084130.html">[whatwg] Outline style to use for drawSystemFocusRing
</A></li>
	<LI>Next message: <A HREF="084137.html">[whatwg] Outline style to use for drawSystemFocusRing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84136">[ date ]</a>
              <a href="thread.html#84136">[ thread ]</a>
              <a href="subject.html#84136">[ subject ]</a>
              <a href="author.html#84136">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
