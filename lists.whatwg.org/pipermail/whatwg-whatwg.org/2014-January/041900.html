<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Canvas resetClip() API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20resetClip%28%29%20API&In-Reply-To=%3Calpine.DEB.2.00.1401212213390.26647%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084177.html">
   <LINK REL="Next"  HREF="041901.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Canvas resetClip() API</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Canvas%20resetClip%28%29%20API&In-Reply-To=%3Calpine.DEB.2.00.1401212213390.26647%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Canvas resetClip() API">ian at hixie.ch
       </A><BR>
    <I>Tue Jan 21 14:17:04 PST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="084177.html">[whatwg] 2D canvas feature proposal: text decoration
</A></li>
        <LI>Next message: <A HREF="041901.html">[whatwg] OUTPUT tag: clarify purpose in spec?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41900">[ date ]</a>
              <a href="thread.html#41900">[ thread ]</a>
              <a href="subject.html#41900">[ subject ]</a>
              <a href="author.html#41900">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 8 Oct 2013, Simon Fraser wrote:
&gt;<i> 
</I>&gt;<i> I don&#8217;t like the resetClip() API, and don&#8217;t think it should be added to 
</I>&gt;<i> canvas.
</I>&gt;<i> 
</I>&gt;<i> The reason resetClip() is a bad API is that it breaks the ability to 
</I>&gt;<i> robustly modularize drawing code. For example, say that you have the 
</I>&gt;<i> following code:
</I>&gt;<i> 
</I>&gt;<i> context.save();
</I>&gt;<i> // &#8230; set up a path to clip to
</I>&gt;<i> context.clip();
</I>&gt;<i> someJSLibrary.drawSomething();
</I>&gt;<i> context.restore();
</I>&gt;<i> 
</I>&gt;<i> In the absence of resetClip(), you are guaranteed that 
</I>&gt;<i> someJSLibrary.drawSomething() can&#8217;t draw outside of the clip you 
</I>&gt;<i> specified. With resetClip(), that JS library can draw wherever the heck 
</I>&gt;<i> it wants, which may totally break your canvas drawing.
</I>
That's true anyway; for example, the JS library could call 
context.restore() to escape your clip(), or could call save() more times 
than it calls restore(). At the end of the day, you have to have a 
contract with your library, and in that there might be &quot;you obey my clip&quot; 
or &quot;you obey my transforms&quot; or &quot;you obey my transforms but it's ok if you 
unclip&quot; or whatever.


&gt;<i> If you really need resetClip() in your own drawing code, you&#8217;re probably 
</I>&gt;<i> doing it wrong.
</I>
Why is it more wrong to need resetClip() than to need resetTransform()?

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>
























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084177.html">[whatwg] 2D canvas feature proposal: text decoration
</A></li>
	<LI>Next message: <A HREF="041901.html">[whatwg] OUTPUT tag: clarify purpose in spec?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41900">[ date ]</a>
              <a href="thread.html#41900">[ thread ]</a>
              <a href="subject.html#41900">[ subject ]</a>
              <a href="author.html#41900">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
