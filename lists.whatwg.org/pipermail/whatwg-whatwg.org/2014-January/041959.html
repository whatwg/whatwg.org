<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] IE10 inconsistency with Blob / createObjectURL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20IE10%20inconsistency%20with%20Blob%20/%20createObjectURL&In-Reply-To=%3CCAPJwq3X7vuxmF6DQzf13Mgxwnw6WKKQ%2BFifQ2_onX0iewBixdw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041958.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] IE10 inconsistency with Blob / createObjectURL</H1>
<!--htdig_noindex-->
    <B>K. Gadd</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20IE10%20inconsistency%20with%20Blob%20/%20createObjectURL&In-Reply-To=%3CCAPJwq3X7vuxmF6DQzf13Mgxwnw6WKKQ%2BFifQ2_onX0iewBixdw%40mail.gmail.com%3E"
       TITLE="[whatwg] IE10 inconsistency with Blob / createObjectURL">kg at luminance.org
       </A><BR>
    <I>Fri Jan 31 18:48:56 PST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="041958.html">[whatwg] Comments on &lt;dialog&gt;
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41959">[ date ]</a>
              <a href="thread.html#41959">[ thread ]</a>
              <a href="subject.html#41959">[ subject ]</a>
              <a href="author.html#41959">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Apologies if this has come up on the list before:

IE10 appears to have shipped implementations of the Blob constructor along
with createObjectURL. While they work, there appears to be a significant
deviation from the spec behavior (at the very least, Firefox and Chrome
implement these APIs as I'd expect).

When a Blob gets GCed in IE10, it appears to intentionally destroy the
object URL associated with it, instead of waiting for you to revoke the
object URL. When this happens it spits out a vague console message:

HTML7007: One or more blob URLs were revoked by closing the blob for which
they were created. These URLs will no longer resolve as the data backing
the URL has been freed.

This is confusing because the API doesn't even have a way to 'close' blobs;
all that is necessary to trigger this is to let a Blob get collected by
going out of scope.

&gt;<i>From reading the spec I don't see any language that suggests this behavior
</I>is allowed or expected. I can try to work around it by retaining all the
blobs but it seems unnecessary...

-kg
</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041958.html">[whatwg] Comments on &lt;dialog&gt;
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41959">[ date ]</a>
              <a href="thread.html#41959">[ thread ]</a>
              <a href="subject.html#41959">[ subject ]</a>
              <a href="author.html#41959">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
