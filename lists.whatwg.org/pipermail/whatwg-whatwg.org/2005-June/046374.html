<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] headers for XMLHttpRequests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20headers%20for%20XMLHttpRequests&In-Reply-To=%3C42B6E645.27603.1D173607%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="046373.html">
   <LINK REL="Next"  HREF="046389.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] headers for XMLHttpRequests</H1>
<!--htdig_noindex-->
    <B>Hallvord Reiar Michaelsen Steen</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20headers%20for%20XMLHttpRequests&In-Reply-To=%3C42B6E645.27603.1D173607%40localhost%3E"
       TITLE="[whatwg] headers for XMLHttpRequests">hallvord at hallvord.com
       </A><BR>
    <I>Mon Jun 20 06:52:37 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="046373.html">[whatwg] XMLHttpRequest - Web App 1.0 (2005-06-14)
</A></li>
        <LI>Next message: <A HREF="046389.html">[whatwg] XMLHttpRequest abort
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46374">[ date ]</a>
              <a href="thread.html#46374">[ thread ]</a>
              <a href="subject.html#46374">[ subject ]</a>
              <a href="author.html#46374">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Commenting on 
<A HREF="http://www.whatwg.org/specs/web-apps/current-work/#setrequestheader">http://www.whatwg.org/specs/web-apps/current-work/#setrequestheader</A>

  &gt; User agents must not set any headers other than the
  &gt; headers set by the author using this method, with the
  &gt; following exceptions:

That paragraph means it is against the specification to send other 
headers than those in the list and those set with setRequestHeader 
with an XMLHttpRequest. Headers like &quot;Accept&quot;, &quot;Accept-Language&quot;, 
&quot;Referer&quot; are not mentioned in the list and thus illegal.

I'm not sure why we disallow normal headers at all.

Accept-Language should be allowed, or do we expect that every app 
using content-negotiation for language choice looks at 
navigator.language or something to set the header manually?

For form posts, Content-Length is obviously required.

I was also surprised that referer is omitted, but I suppose it's 
pretty useless anyway. 

If we want the &quot;blanket disallow with exceptions&quot; approach in the 
spec, are there other headers we should allow?

Would it be better if the spec just stated what headers could be 
overridden or appended to? Basically we would have three categories: 
untouchable, override and append (depending on whether the header 
value can be a comma-separated list or not).
-- 
Hallvord Reiar Michaelsen Steen
<A HREF="http://www.hallvord.com/">http://www.hallvord.com/</A>



</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="046373.html">[whatwg] XMLHttpRequest - Web App 1.0 (2005-06-14)
</A></li>
	<LI>Next message: <A HREF="046389.html">[whatwg] XMLHttpRequest abort
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46374">[ date ]</a>
              <a href="thread.html#46374">[ thread ]</a>
              <a href="subject.html#46374">[ subject ]</a>
              <a href="author.html#46374">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
