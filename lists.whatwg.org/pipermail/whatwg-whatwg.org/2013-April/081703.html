<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Alignment of empty buttons
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Alignment%20of%20empty%20buttons&In-Reply-To=%3C5179704F.4000301%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081702.html">
   <LINK REL="Next"  HREF="081704.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Alignment of empty buttons</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Alignment%20of%20empty%20buttons&In-Reply-To=%3C5179704F.4000301%40mit.edu%3E"
       TITLE="[whatwg] Alignment of empty buttons">bzbarsky at MIT.EDU
       </A><BR>
    <I>Thu Apr 25 11:05:03 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081702.html">[whatwg] Alignment of empty buttons
</A></li>
        <LI>Next message: <A HREF="081704.html">[whatwg] Alignment of empty buttons
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81703">[ date ]</a>
              <a href="thread.html#81703">[ thread ]</a>
              <a href="subject.html#81703">[ subject ]</a>
              <a href="author.html#81703">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 4/25/13 1:58 PM, Christian Biesinger wrote:
&gt;&gt;<i> Gecko puts the baseline of the button at the baseline of the button's text,
</I>&gt;&gt;<i> and if the button is not auto-height the extra height is added (or removed)
</I>&gt;&gt;<i> equally from above and below the text.
</I>&gt;<i>
</I>&gt;<i> Hm, but I don't think that's completely correct, because then the
</I>&gt;<i> positioning should stay the same when I start entering text in the
</I>&gt;<i> button, right? Or does adding text make the text run have height,
</I>&gt;<i> affecting where the extra height gets added?
</I>
If I recall exactly how this code works, if there is no text then the 
baseline goes at the bottom of the (empty) content box and then the 
extra height is added on both sides.  Once you have text the baseline 
goes on the baseline of the text, which is slightly above the bottom of 
the content box to allow for descenders.

&gt;<i> I think what you are saying is: in Gecko, baseline of a button is
</I>&gt;<i> (content_box_height - text_height) / 2 + text_ascent
</I>
Mm.... Measured from where?

&gt;<i> (BTW, where is that code located? I tried and failed to find it :( )
</I>
<A HREF="http://hg.mozilla.org/mozilla-central/file/690b5e0f6562/layout/forms/nsHTMLButtonControlFrame.cpp#l308">http://hg.mozilla.org/mozilla-central/file/690b5e0f6562/layout/forms/nsHTMLButtonControlFrame.cpp#l308</A> 
(see the GetBaseline() call and the adjustment by &quot;yoff&quot;, where &quot;yoff&quot; 
is half of the extra height we have.  This is computing the ascent of 
the box; the baseline position in the box is then considered to be 
&quot;ascent&quot; from the top.

&gt;<i> I don't understand inline layout very well
</I>
Does anyone?  ;)

-Boris

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081702.html">[whatwg] Alignment of empty buttons
</A></li>
	<LI>Next message: <A HREF="081704.html">[whatwg] Alignment of empty buttons
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81703">[ date ]</a>
              <a href="thread.html#81703">[ thread ]</a>
              <a href="subject.html#81703">[ subject ]</a>
              <a href="author.html#81703">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
