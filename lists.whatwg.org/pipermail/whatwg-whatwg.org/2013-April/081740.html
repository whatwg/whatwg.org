<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Proposal: API to ask the user for a file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20API%20to%20ask%20the%20user%20for%20a%20file&In-Reply-To=%3CPine.LNX.4.64.1304292015250.3512%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039464.html">
   <LINK REL="Next"  HREF="081742.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Proposal: API to ask the user for a file</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Proposal%3A%20API%20to%20ask%20the%20user%20for%20a%20file&In-Reply-To=%3CPine.LNX.4.64.1304292015250.3512%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] Proposal: API to ask the user for a file">ian at hixie.ch
       </A><BR>
    <I>Mon Apr 29 13:41:51 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="039464.html">[whatwg] Proposal: API to ask the user for a file
</A></li>
        <LI>Next message: <A HREF="081742.html">[whatwg] Proposal: API to ask the user for a file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81740">[ date ]</a>
              <a href="thread.html#81740">[ thread ]</a>
              <a href="subject.html#81740">[ subject ]</a>
              <a href="author.html#81740">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, 29 Apr 2013, JC wrote:
&gt;<i>
</I>&gt;<i> So far the only way to ask a user to select a file (e.g. to upload an 
</I>&gt;<i> attachment in a mail client) without showing the ugly &quot;file input&quot; UI is 
</I>&gt;<i> to create one of these elements, hide it somehow, and invoke the &quot;click&quot; 
</I>&gt;<i> method on it and listen for the &quot;changed&quot; event.
</I>
You can also just accept a drag-and-dropped file.

Having the &lt;input type=file&gt; UI hidden is probably not supposed to be 
possible (though it's hard for us to stop it), because it means you can 
trick people into clicking the button and bringing up the dialog, which 
can, if you know what browser/OS they're using, let you in some cases 
trick them into uploading a particular file. (It's gotten harder with 
browsers going away from allowing arbitrary text input into that 
control, though, so this might no longer be that big a deal.)


&gt;<i> The minimum requirements would be to be able to provide a string for the 
</I>&gt;<i> dialog title, a string for the accepted mime types and a boolean to 
</I>&gt;<i> specify whether multiple files can be selected at once, the return value 
</I>&gt;<i> would be a FileList object [1].&#160;This is essentially the same 
</I>&gt;<i> functionality offered by the existing file input element [2] with the 
</I>&gt;<i> only addition of a title for the dialog.
</I>
We could maybe do this if browser vendors are comfortable with it... it's 
definitely something we want to be really careful about, though. For 
example, we don't want to set up a situation where a site can trigger a 
download of a sensitive file (e.g. bank account details) and then trick 
the user into uploading it by asking the user to &quot;Select the file you want 
to protect from uploading&quot; or &quot;For debugging purposes, select the newest 
file in this directory, which is a log file we just generated&quot;.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039464.html">[whatwg] Proposal: API to ask the user for a file
</A></li>
	<LI>Next message: <A HREF="081742.html">[whatwg] Proposal: API to ask the user for a file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81740">[ date ]</a>
              <a href="thread.html#81740">[ thread ]</a>
              <a href="subject.html#81740">[ subject ]</a>
              <a href="author.html#81740">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
