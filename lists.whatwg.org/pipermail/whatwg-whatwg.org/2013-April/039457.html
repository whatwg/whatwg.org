<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] API to delay the document load event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20API%20to%20delay%20the%20document%20load%20event&In-Reply-To=%3CCAOp6jLaTEHjA_tDHQtX7_Qz223QLWaY%2B9VcJ0VYZ_YYv2oDpSg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039456.html">
   <LINK REL="Next"  HREF="039460.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] API to delay the document load event</H1>
<!--htdig_noindex-->
    <B>Robert O'Callahan</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20API%20to%20delay%20the%20document%20load%20event&In-Reply-To=%3CCAOp6jLaTEHjA_tDHQtX7_Qz223QLWaY%2B9VcJ0VYZ_YYv2oDpSg%40mail.gmail.com%3E"
       TITLE="[whatwg] API to delay the document load event">robert at ocallahan.org
       </A><BR>
    <I>Mon Apr 29 03:56:31 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="039456.html">[whatwg] API to delay the document load event
</A></li>
        <LI>Next message: <A HREF="039460.html">[whatwg] API to delay the document load event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39457">[ date ]</a>
              <a href="thread.html#39457">[ thread ]</a>
              <a href="subject.html#39457">[ subject ]</a>
              <a href="author.html#39457">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Apr 29, 2013 at 10:50 PM, James Graham &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">jgraham at opera.com</A>&gt; wrote:

&gt;<i> I mean, let's say you delay the load event until after some data has
</I>&gt;<i> loaded over a web socket. If you try to use that data from the load event
</I>&gt;<i> handler it can fail in a racy way in UAs that don't support delaying the
</I>&gt;<i> load event. This also seems like the kind of race that you are more likely
</I>&gt;<i> to win on a local network, so it wouldn't necessarily be caught during
</I>&gt;<i> development.
</I>

OK. That's a good argument for defining a new &quot;time of document completion&quot;
instead of modifying the load event.


&gt;<i>      Is getting screenshots of pages for thumbnails really something that
</I>&gt;&gt;<i>     needs an author-facing API? In general the concept of &quot;fully loaded&quot;
</I>&gt;&gt;<i>     doesn't make any sense for a class of modern web applications, which
</I>&gt;&gt;<i>     might keep loading content or changing their presentation across
</I>&gt;&gt;<i>     their liefetime. Therefore it seems like simply taking one
</I>&gt;&gt;<i>     screenshot at page load and replacing it with one a little later
</I>&gt;&gt;<i>     after a timeout might be a good-enough solution.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The problem is when you next load the application. You don't want to
</I>&gt;&gt;<i> replace a good screenshot with a screenshot of the application saying
</I>&gt;&gt;<i> &quot;Loading...&quot;.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Then don't replace the screenshot with one taken at the load-event time if
</I>&gt;<i> you already have one.
</I>&gt;<i>
</I>
OK, but we want to take a new screenshot eventually, and we want to avoid
taking it while the application is saying &quot;Loading...&quot;. Avoiding that
requires some kind of signal from the application.

Rob
-- 
q&#8220;qIqfq qyqoquq qlqoqvqeq qtqhqoqsqeq qwqhqoq qlqoqvqeq qyqoquq,q qwqhqaqtq
qcqrqeqdqiqtq qiqsq qtqhqaqtq qtqoq qyqoquq?q qEqvqeqnq qsqiqnqnqeqrqsq
qlqoqvqeq qtqhqoqsqeq qwqhqoq qlqoqvqeq qtqhqeqmq.q qAqnqdq qiqfq qyqoquq
qdqoq qgqoqoqdq qtqoq qtqhqoqsqeq qwqhqoq qaqrqeq qgqoqoqdq qtqoq qyqoquq,q
qwqhqaqtq qcqrqeqdqiqtq qiqsq qtqhqaqtq qtqoq qyqoquq?q qEqvqeqnq
qsqiqnqnqeqrqsq qdqoq qtqhqaqtq.q&quot;
</PRE>



<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039456.html">[whatwg] API to delay the document load event
</A></li>
	<LI>Next message: <A HREF="039460.html">[whatwg] API to delay the document load event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39457">[ date ]</a>
              <a href="thread.html#39457">[ thread ]</a>
              <a href="subject.html#39457">[ subject ]</a>
              <a href="author.html#39457">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
