<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &quot;adjusted current node&quot; in 12.2.5.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%22adjusted%20current%20node%22%20in%2012.2.5.5&In-Reply-To=%3C516CB662.8020409%40yeslogic.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039379.html">
   <LINK REL="Next"  HREF="039383.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &quot;adjusted current node&quot; in 12.2.5.5</H1>
<!--htdig_noindex-->
    <B>Michael Day</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%22adjusted%20current%20node%22%20in%2012.2.5.5&In-Reply-To=%3C516CB662.8020409%40yeslogic.com%3E"
       TITLE="[whatwg] &quot;adjusted current node&quot; in 12.2.5.5">mikeday at yeslogic.com
       </A><BR>
    <I>Mon Apr 15 19:24:34 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="039379.html">[whatwg] iframe sandbox and allow-scripts
</A></li>
        <LI>Next message: <A HREF="039383.html">[whatwg] Ignore min and max if min &gt; max
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39382">[ date ]</a>
              <a href="thread.html#39382">[ thread ]</a>
              <a href="subject.html#39382">[ subject ]</a>
              <a href="author.html#39382">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

Recently the spec has been changed to introduce the concept of the 
adjusted current node defined in 12.2.3.2 &quot;The stack of open elements&quot;.

The intention seems to be to handle the case of setting innerHTML on a 
MathML or SVG element, and hence triggering the fragment parsing 
algorithm in a foreign content context. Since the &lt;math&gt; or &lt;svg&gt; 
element will not be in the stack of open elements, this would otherwise 
cause problems with child elements not in the right namespace, and CDATA 
sections not being parsed properly.

However, 12.2.5.5 &quot;The rules for parsing tokens in foreign content&quot; 
still only refers to the current node, not the adjusted current node.

For example, the rules for parsing &quot;Any other start tag&quot;:

&gt;<i> If the current node is an element in the MathML namespace, adjust MathML attributes for the token.
</I>
Since the current node in the fragment parsing case is still &lt;html&gt;, 
this will not have the desired effect.

Should this section be changed to refer to the adjusted current node?

Best regards,

Michael
</PRE>











<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039379.html">[whatwg] iframe sandbox and allow-scripts
</A></li>
	<LI>Next message: <A HREF="039383.html">[whatwg] Ignore min and max if min &gt; max
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39382">[ date ]</a>
              <a href="thread.html#39382">[ thread ]</a>
              <a href="subject.html#39382">[ subject ]</a>
              <a href="author.html#39382">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
