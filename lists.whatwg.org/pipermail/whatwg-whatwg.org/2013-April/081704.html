<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Alignment of empty buttons
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Alignment%20of%20empty%20buttons&In-Reply-To=%3CCAPTJ0XG1J3okhZZcK3V4QjcMJOooWG2cHwv1%3DOXjEcS2kq7WGQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081703.html">
   <LINK REL="Next"  HREF="081705.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Alignment of empty buttons</H1>
<!--htdig_noindex-->
    <B>Christian Biesinger</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Alignment%20of%20empty%20buttons&In-Reply-To=%3CCAPTJ0XG1J3okhZZcK3V4QjcMJOooWG2cHwv1%3DOXjEcS2kq7WGQ%40mail.gmail.com%3E"
       TITLE="[whatwg] Alignment of empty buttons">cbiesinger at google.com
       </A><BR>
    <I>Thu Apr 25 12:10:54 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081703.html">[whatwg] Alignment of empty buttons
</A></li>
        <LI>Next message: <A HREF="081705.html">[whatwg] Alignment of empty buttons
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81704">[ date ]</a>
              <a href="thread.html#81704">[ thread ]</a>
              <a href="subject.html#81704">[ subject ]</a>
              <a href="author.html#81704">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Apr 25, 2013 at 11:05 AM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:
&gt;<i> On 4/25/13 1:58 PM, Christian Biesinger wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Gecko puts the baseline of the button at the baseline of the button's
</I>&gt;&gt;&gt;<i> text,
</I>&gt;&gt;&gt;<i> and if the button is not auto-height the extra height is added (or
</I>&gt;&gt;&gt;<i> removed)
</I>&gt;&gt;&gt;<i> equally from above and below the text.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hm, but I don't think that's completely correct, because then the
</I>&gt;&gt;<i> positioning should stay the same when I start entering text in the
</I>&gt;&gt;<i> button, right? Or does adding text make the text run have height,
</I>&gt;&gt;<i> affecting where the extra height gets added?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If I recall exactly how this code works, if there is no text then the
</I>&gt;<i> baseline goes at the bottom of the (empty) content box and then the extra
</I>&gt;<i> height is added on both sides.  Once you have text the baseline goes on the
</I>&gt;<i> baseline of the text, which is slightly above the bottom of the content box
</I>&gt;<i> to allow for descenders.
</I>
Ah... I see. So my formula below is not quite correct in that
text_ascent is only added if there is text.

&gt;&gt;<i> I think what you are saying is: in Gecko, baseline of a button is
</I>&gt;&gt;<i> (content_box_height - text_height) / 2 + text_ascent
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Mm.... Measured from where?
</I>
&gt;<i>From the top of the content box? Maybe I'm using the term wrong - I
</I>mean the border-box minus borders and padding, which is a slightly
different definition than you used above.

&gt;&gt;<i> (BTW, where is that code located? I tried and failed to find it :( )
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://hg.mozilla.org/mozilla-central/file/690b5e0f6562/layout/forms/nsHTMLButtonControlFrame.cpp#l308">http://hg.mozilla.org/mozilla-central/file/690b5e0f6562/layout/forms/nsHTMLButtonControlFrame.cpp#l308</A>
</I>&gt;<i> (see the GetBaseline() call and the adjustment by &quot;yoff&quot;, where &quot;yoff&quot; is
</I>&gt;<i> half of the extra height we have.  This is computing the ascent of the box;
</I>&gt;<i> the baseline position in the box is then considered to be &quot;ascent&quot; from the
</I>&gt;<i> top.
</I>
Ah, I see. It's not entirely clear to me what ASK_FOR_BASELINE means
and what ascent is initialized to when it's not set to that value, but
perhaps those details are not so important right now. That said, what
if there is no child? I guess this discussion doesn't really belong on
this mailing list.

-christian

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081703.html">[whatwg] Alignment of empty buttons
</A></li>
	<LI>Next message: <A HREF="081705.html">[whatwg] Alignment of empty buttons
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81704">[ date ]</a>
              <a href="thread.html#81704">[ thread ]</a>
              <a href="subject.html#81704">[ subject ]</a>
              <a href="author.html#81704">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
