<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Notifications: reviving Notification objects
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Notifications%3A%20reviving%20Notification%20objects&In-Reply-To=%3C515D69A9.7030605%40lamouri.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081595.html">
   <LINK REL="Next"  HREF="081628.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Notifications: reviving Notification objects</H1>
<!--htdig_noindex-->
    <B>Mounir Lamouri</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Notifications%3A%20reviving%20Notification%20objects&In-Reply-To=%3C515D69A9.7030605%40lamouri.fr%3E"
       TITLE="[whatwg] Notifications: reviving Notification objects">mounir at lamouri.fr
       </A><BR>
    <I>Thu Apr  4 04:53:13 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081595.html">[whatwg] Enabling LCD Text and antialiasing in canvas
</A></li>
        <LI>Next message: <A HREF="081628.html">[whatwg] Notifications: reviving Notification objects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39329">[ date ]</a>
              <a href="thread.html#39329">[ thread ]</a>
              <a href="subject.html#39329">[ subject ]</a>
              <a href="author.html#39329">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On 31/03/13 15:33, Anne van Kesteren wrote:
&gt;<i> There are a couple of scenarios <A HREF="http://notifications.spec.whatwg.org/">http://notifications.spec.whatwg.org/</A>
</I>&gt;<i> does not address at the moment.
</I>&gt;<i> 
</I>&gt;<i> A) User navigates to chat site. Chat site creates a notification from
</I>&gt;<i> a chat with P while the user does something else. User closes chat
</I>&gt;<i> site and then navigates to chat site at a later point.
</I>
I guess a better example would be that the website is unloaded on memory
pressure but the tab is kept. Otherwise, an explicit user action could
be considered as enough to remove all currently opened notifications.

&gt;<i> 1) Tie &quot;the document's address&quot; of when a Notification is created to
</I>&gt;<i> the Notification object to address B) and C). Maybe at some point
</I>&gt;<i> allow sites to define a URL to open.
</I>
What if I have to instance of the same website open? what if those two
instances have different contexts like not logged in with the same user?

&gt;<i> 2) Define a method on Navigator, getNotifications(), that returns a
</I>&gt;<i> Future which is resolved with an array of Notification objects. Once
</I>&gt;<i> the Future is resolved, a task is queued to fire a click event on the
</I>&gt;<i> appropriate Notification object in case of B) and C).
</I>
This magic behaviour with the click event is a bit weird. Does that mean
that the UA shouldn't do anything with the notification? What if the
website never calls getNotifications()? We could expect the UA to close
the notification by default when the website is re-opened but if it has
to wait for a possible .getNotifications() call, what should be done?
Timing out seems a bit racy.

--
Mounir
</PRE>










<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081595.html">[whatwg] Enabling LCD Text and antialiasing in canvas
</A></li>
	<LI>Next message: <A HREF="081628.html">[whatwg] Notifications: reviving Notification objects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39329">[ date ]</a>
              <a href="thread.html#39329">[ thread ]</a>
              <a href="subject.html#39329">[ subject ]</a>
              <a href="author.html#39329">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
