<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Another issue in 12.2.5.5 parsing tokens in foreign content
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Another%20issue%20in%2012.2.5.5%20parsing%20tokens%20in%20foreign%20content&In-Reply-To=%3C516FA061.7020800%40yeslogic.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081664.html">
   <LINK REL="Next"  HREF="039392.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Another issue in 12.2.5.5 parsing tokens in foreign content</H1>
<!--htdig_noindex-->
    <B>Michael Day</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Another%20issue%20in%2012.2.5.5%20parsing%20tokens%20in%20foreign%20content&In-Reply-To=%3C516FA061.7020800%40yeslogic.com%3E"
       TITLE="[whatwg] Another issue in 12.2.5.5 parsing tokens in foreign content">mikeday at yeslogic.com
       </A><BR>
    <I>Thu Apr 18 00:27:29 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081664.html">[whatwg] Forcing orientation in content
</A></li>
        <LI>Next message: <A HREF="039392.html">[whatwg] 2D canvas feature proposal: text decoration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39389">[ date ]</a>
              <a href="thread.html#39389">[ thread ]</a>
              <a href="subject.html#39389">[ subject ]</a>
              <a href="author.html#39389">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

Another issue regarding recent changes to 12.2.5.5 &quot;The rules for 
parsing tokens in foreign content&quot;.

When a HTML start tag is seen (specifically &quot;b&quot;, &quot;big&quot;, &quot;blockquote&quot;, 
&quot;body&quot;, &quot;br&quot;, &quot;center&quot;, &quot;code&quot;, ...) the following procedure is given to 
recover from the parse error:

&quot;&quot;&quot;
If the stack of open elements does not have an element in scope that is 
a MathML text integration point, an HTML integration point, or an 
element in the HTML namespace, or if the stack of open elements has only 
one element, then process the token using the rules for the &quot;in body&quot; 
insertion mode. (fragment case)
&quot;&quot;&quot;

Since the stack of open elements always has &lt;html&gt; at the top of the 
stack, the &quot;element in scope&quot; algorithm will always find it, and as a 
result, the first part of the condition will always fail.

This seems unintentional, and depends upon the exact way in which the 
&quot;element in scope&quot; algorithm is defined.

Perhaps rewriting this paragraph without reference to the &quot;element in 
scope&quot; algorithm would make the intent clearer? For example:

If the stack of open elements does not any elements that are MathML text 
integration points, or HTML integration points, or that are in the HTML 
namespace, or if the stack of open elements has only one element ...

Any thoughts?

Best regards,

Michael
</PRE>











<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081664.html">[whatwg] Forcing orientation in content
</A></li>
	<LI>Next message: <A HREF="039392.html">[whatwg] 2D canvas feature proposal: text decoration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39389">[ date ]</a>
              <a href="thread.html#39389">[ thread ]</a>
              <a href="subject.html#39389">[ subject ]</a>
              <a href="author.html#39389">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
