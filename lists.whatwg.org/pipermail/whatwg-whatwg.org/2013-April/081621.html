<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;iframe srcdoc&gt; definition not compatible with existing user-agent user interfaces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Ciframe%20srcdoc%3E%20definition%20not%20compatible%20with%0A%20existing%20user-agent%20user%20interfaces&In-Reply-To=%3CPine.LNX.4.64.1304080056450.18848%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081618.html">
   <LINK REL="Next"  HREF="081622.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;iframe srcdoc&gt; definition not compatible with existing user-agent user interfaces</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Ciframe%20srcdoc%3E%20definition%20not%20compatible%20with%0A%20existing%20user-agent%20user%20interfaces&In-Reply-To=%3CPine.LNX.4.64.1304080056450.18848%40ps20323.dreamhostps.com%3E"
       TITLE="[whatwg] &lt;iframe srcdoc&gt; definition not compatible with existing user-agent user interfaces">ian at hixie.ch
       </A><BR>
    <I>Sun Apr  7 18:52:13 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="081618.html">[whatwg] &lt;iframe srcdoc&gt; definition not compatible with existing user-agent user interfaces
</A></li>
        <LI>Next message: <A HREF="081622.html">[whatwg] &lt;iframe srcdoc&gt; definition not compatible with existing user-agent user interfaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81621">[ date ]</a>
              <a href="thread.html#81621">[ thread ]</a>
              <a href="subject.html#81621">[ subject ]</a>
              <a href="author.html#81621">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, 4 Apr 2013, Boris Zbarsky wrote:
&gt;<i>
</I>&gt;<i> The way &lt;iframe srcdoc&gt; is defined, the document URI does not in any way 
</I>&gt;<i> encode the document contents.
</I>
This is the same as HTTP URLs where the server returns different content 
each time, URLs of Documents that have been document.write()n or otherwise 
modified dynamically, URLs of Documents that have been generated by 
POSTs or that have no-cache headers after the network has been lost, etc.


&gt;<i> Unfortunately, that breaks user-agent and extension features like &quot;open 
</I>&gt;<i> frame in new window&quot;, &quot;show only this frame&quot;, &quot;open frame in new tab&quot;, 
</I>&gt;<i> etc.
</I>
No, those features are broken because they're poorly implemented, IMHO.

Nothing requires those features to be equivalent to window.open(location), 
which is more or less how they are implemented today. Such an 
implementation would fail with all the cases I listed above, just like 
&quot;View Source&quot; used to fail for those cases in many browsers back when it 
was implemented more or less as window.open(&quot;view-source:&quot;+location).

&quot;Show only this frame&quot; can be implemented by &quot;just&quot; adjusting the 
presentation so that the selected frame fills the top-level viewport; this 
will also ensure that the page itself can't detect the situation (or to 
put it another way, to ensure that pages that don't check for this, which 
is basically all of them, keep working as if the subframe was still a 
subframe). This is obviously non-trivial, requiring such things as 
handling session history navigation when the user then navigates the frame 
as if it was a top-level navigation rather than navigating the promoted 
subframe, and handling going back to the promoted subframe or to the state 
before it was promoted (a presentation change), etc.

The &quot;Open frame in new...&quot; options are more complicated, because you can't 
use the same Document since it has to remain in the old presentation as 
well at the same time. But a solution like cloning the DOM would be a 
start, possibly, for cases where the original source can't be obtained 
(e.g. a POST result); for cases where the original data can still be 
obtained (as is the case for anything where &quot;view source&quot; works), the page 
can maybe be reconstructed from source.

In any case, the URL isn't the issue here. Reopening the page from its URL 
isn't a correct implementation of these features.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081618.html">[whatwg] &lt;iframe srcdoc&gt; definition not compatible with existing user-agent user interfaces
</A></li>
	<LI>Next message: <A HREF="081622.html">[whatwg] &lt;iframe srcdoc&gt; definition not compatible with existing user-agent user interfaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81621">[ date ]</a>
              <a href="thread.html#81621">[ thread ]</a>
              <a href="subject.html#81621">[ subject ]</a>
              <a href="author.html#81621">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
