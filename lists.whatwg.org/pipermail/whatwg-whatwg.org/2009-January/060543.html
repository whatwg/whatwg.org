<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg]  HTML 5 : Misconceptions Documented
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%20HTML%205%20%3A%20Misconceptions%20Documented&In-Reply-To=%3C49739DA6.9060604%40mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="060538.html">
   <LINK REL="Next"  HREF="060544.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg]  HTML 5 : Misconceptions Documented</H1>
<!--htdig_noindex-->
    <B>Boris Zbarsky</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%20HTML%205%20%3A%20Misconceptions%20Documented&In-Reply-To=%3C49739DA6.9060604%40mit.edu%3E"
       TITLE="[whatwg]  HTML 5 : Misconceptions Documented">bzbarsky at MIT.EDU
       </A><BR>
    <I>Sun Jan 18 13:22:46 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="060538.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
        <LI>Next message: <A HREF="060544.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60543">[ date ]</a>
              <a href="thread.html#60543">[ thread ]</a>
              <a href="subject.html#60543">[ subject ]</a>
              <a href="author.html#60543">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Mike Wilson wrote:
&gt;<i> Ian Hickson wrote:
</I>&gt;&gt;<i> On Thu, 15 Jan 2009, Garrett Smith wrote:
</I>&gt;&gt;&gt;<i> If I understand this correctly, given a FORM with an INPUT 
</I>&gt;&gt;&gt;<i> named 'b', if I change the name of that INPUT to 'a', then 
</I>&gt;&gt;&gt;<i> form.b should return the element with name=&quot;a&quot;.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;snip&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> What is the reason for introducing the &quot;past names map&quot; 
</I>&gt;&gt;&gt;<i> behavior to the form?
</I>&gt;&gt;<i> Compatibility with a legacy IE bug required (acording to 
</I>&gt;&gt;<i> Safari and Firefox devs) by legacy content.
</I>
In Gecko, when the name changes we remove the element from the
name-to-element map under the old name and put it back in under the new
one, such that form.elements.namedItem() will return the element under
the new name.

The only thing that leaves that leads to the current behavior is
&lt;<A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=100499">https://bugzilla.mozilla.org/show_bug.cgi?id=100499</A>&gt;, right?  That's
behavior due to the way properties work in Spidermonkey, more or less.
Note that since this isn't a core DOM behavior, but rather an artifact
of the JS-to-DOM glue, in this case the behavior will depend on whether
you've accessed the control by name on the form in the past; if the
first such access is after the name change in Gecko, the control will
only be visible under the new name.

Also note what the bug report says about IE doing &quot;the same thing&quot; at
least in some cases.  I don't know whether it also has the &quot;if you
change the name before you access you won't see it under the old name&quot;
behavior...  I also don't know how necessary any of this is for site
compat, and I'm pretty sure we don't have data on that (since we've
never tried to really fix this bug so far).  Did the Safari folks have
such data?  Is it public by any chance?

-Boris


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="060538.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
	<LI>Next message: <A HREF="060544.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60543">[ date ]</a>
              <a href="thread.html#60543">[ thread ]</a>
              <a href="subject.html#60543">[ subject ]</a>
              <a href="author.html#60543">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
