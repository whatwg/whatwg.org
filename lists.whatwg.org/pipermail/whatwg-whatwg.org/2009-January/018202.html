<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] When do scripts execute? (4.3.1)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20When%20do%20scripts%20execute%3F%20%284.3.1%29&In-Reply-To=%3C63df84f0901151509w5a164c06k7b2dc335db82ed38%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018199.html">
   <LINK REL="Next"  HREF="018200.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] When do scripts execute? (4.3.1)</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20When%20do%20scripts%20execute%3F%20%284.3.1%29&In-Reply-To=%3C63df84f0901151509w5a164c06k7b2dc335db82ed38%40mail.gmail.com%3E"
       TITLE="[whatwg] When do scripts execute? (4.3.1)">jonas at sicking.cc
       </A><BR>
    <I>Thu Jan 15 15:09:18 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="018199.html">[whatwg] When do scripts execute? (4.3.1)
</A></li>
        <LI>Next message: <A HREF="018200.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18202">[ date ]</a>
              <a href="thread.html#18202">[ thread ]</a>
              <a href="subject.html#18202">[ subject ]</a>
              <a href="author.html#18202">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Thu, Jan 15, 2009 at 8:28 AM, Boris Zbarsky &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">bzbarsky at mit.edu</A>&gt; wrote:
&gt;<i> Kartikaya Gupta wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  sn = document.createElement( 'script' );
</I>&gt;&gt;<i>  sn.setAttribute( 'type', 'text/javascript' );
</I>&gt;&gt;<i>  document.body.appendChild( sn );        // this *should* run an empty
</I>&gt;&gt;<i> script block and do nothing
</I>&gt;<i>
</I>&gt;<i> That looks like a bug in the spec to me.  Empty scripts with no @src are not
</I>&gt;<i> executed when inserted into the DOM, and are executed if they ever become
</I>
At least in the mozilla implementation, though would be interested
what other implementations do. The reason was that I wanted to support
the following usage pattern:

s = document.createElement('script');
document.body.appendChild(s);
s.src = &quot;<A HREF="http://foo/bar&quot;;">http://foo/bar&quot;;</A>

Note that in IE, you can set the src attribute any number of times and
every time it will download and execute the new script, even when the
old src value is the same as the new.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018199.html">[whatwg] When do scripts execute? (4.3.1)
</A></li>
	<LI>Next message: <A HREF="018200.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18202">[ date ]</a>
              <a href="thread.html#18202">[ thread ]</a>
              <a href="subject.html#18202">[ subject ]</a>
              <a href="author.html#18202">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
