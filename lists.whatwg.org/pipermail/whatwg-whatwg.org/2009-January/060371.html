<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Form Serialization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Form%20Serialization&In-Reply-To=%3Cc9e12660901062202h10a57984u164301c2ee7c0829%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="060370.html">
   <LINK REL="Next"  HREF="060358.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Form Serialization</H1>
<!--htdig_noindex-->
    <B>Garrett Smith</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Form%20Serialization&In-Reply-To=%3Cc9e12660901062202h10a57984u164301c2ee7c0829%40mail.gmail.com%3E"
       TITLE="[whatwg] Form Serialization">dhtmlkitchen at gmail.com
       </A><BR>
    <I>Tue Jan  6 22:02:13 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="060370.html">[whatwg] Form Serialization
</A></li>
        <LI>Next message: <A HREF="060358.html">[whatwg] Old idea - can't find on issues list (or anywhere else)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60371">[ date ]</a>
              <a href="thread.html#60371">[ thread ]</a>
              <a href="subject.html#60371">[ subject ]</a>
              <a href="author.html#60371">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Jan 6, 2009 at 9:11 PM, Michael A. Puls II &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">shadow2531 at gmail.com</A>&gt; wrote:
&gt;<i> On Tue, 06 Jan 2009 17:07:00 -0500, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On Tue, 6 Jan 2009, Michael A. Puls II wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt; Are browsers actually buggy here?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> You probably won't buy it, but I like the idea of using a form as a user
</I>&gt;&gt;&gt;<i> input data gatherer for in-page js-based apps where you do custom things
</I>&gt;&gt;&gt;<i> with the data and often don't actually submit the data anywhere.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Oh this is quite common, I'm just not entirely sure that the form data set
</I>&gt;&gt;<i> serialised is a good way of handling that data.
</I>&gt;<i>
</I>Extremely common.

There are more than one way to handle this, potentially. Submit a FORM
to XHR, for one.

Serialize a form is possible today and it works. It just doesn't work
natively. Well, it does, we just can't get at that serialized value.

&gt;<i> I see. It might be better if there was a getFormData() that returned:
</I>&gt;<i>
</I>&gt;<i> {
</I>&gt;<i>   &quot;name1&quot; : [&quot;value1&quot;, &quot;value2&quot;],
</I>&gt;<i>   &quot;name2&quot; : [&quot;value1&quot;, &quot;value2&quot;],
</I>&gt;<i> };
</I>&gt;<i>
</I>
That is the basis for all most form serializers.

&gt;<i>
</I>&gt;<i> {&quot;image1&quot; : {&quot;file.png&quot; : &quot;data:image/png,base64... }}
</I>&gt;<i>
</I>
Synchronous client-side reads are apparently not going to be a part of
form serialization. What do you do with input type=&quot;file&quot;? Sending the
name is pretty useless.

[snip]

&gt;<i>
</I>&gt;<i> I'll try to implement a getFormData() in JS how I think it should be while
</I>&gt;<i> trying to follow the spec and provide feedback.
</I>&gt;<i>
</I>
Tips:

 * If a button submitted the form, it is not included in
serialization. Opera, onsubmit, the event.relatedTarget is the submit
button (nonstandard). The submit button that was clicked should be
included[1].

 *  input type=&quot;image&quot; is not included in the elements collection and
is not included in the serialization in Form.js. The x/y coordinates
don't matter much (you don't need them).

A form serializer should follow the guidelines on successful form controls[1].

In case it isn't obvious, the form controls should not be accessed
directly off the form, e.g. form.controlName (error-prone). Instead
the elements collection should be used, e.g.
form.elements.controlName.

Garrett

[1]<A HREF="http://www.w3.org/TR/html401/interact/forms.html#h-17.13.2">http://www.w3.org/TR/html401/interact/forms.html#h-17.13.2</A>
[2]<A HREF="http://jibbering.com/faq/names/">http://jibbering.com/faq/names/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="060370.html">[whatwg] Form Serialization
</A></li>
	<LI>Next message: <A HREF="060358.html">[whatwg] Old idea - can't find on issues list (or anywhere else)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60371">[ date ]</a>
              <a href="thread.html#60371">[ thread ]</a>
              <a href="subject.html#60371">[ subject ]</a>
              <a href="author.html#60371">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
