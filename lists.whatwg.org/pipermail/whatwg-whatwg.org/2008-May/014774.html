<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] createImageData
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20createImageData&In-Reply-To=%3CB483364C-AA4F-405F-BDEB-4081071B43B9%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014773.html">
   <LINK REL="Next"  HREF="014775.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] createImageData</H1>
<!--htdig_noindex-->
    <B>Oliver Hunt</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20createImageData&In-Reply-To=%3CB483364C-AA4F-405F-BDEB-4081071B43B9%40apple.com%3E"
       TITLE="[whatwg] createImageData">oliver at apple.com
       </A><BR>
    <I>Tue May 13 15:37:04 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="014773.html">[whatwg] createImageData
</A></li>
        <LI>Next message: <A HREF="014775.html">[whatwg] createImageData
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14774">[ date ]</a>
              <a href="thread.html#14774">[ thread ]</a>
              <a href="subject.html#14774">[ subject ]</a>
              <a href="author.html#14774">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;&gt;<i> That said I still don't believe custom objects should be allowed,  
</I>&gt;&gt;<i> aside from the resolution (which may or may not be relevant) and  
</I>&gt;&gt;<i> performance issues, a custom object with a generic JS array, rather  
</I>&gt;&gt;<i> than an ImageData object will have different behaviour -- a proper  
</I>&gt;&gt;<i> ImageData will clamp on assignment, and throw in cases that a  
</I>&gt;&gt;<i> custom object won't.
</I>&gt;<i>
</I>&gt;<i> That verification seems odd; doing those checks (clamping,  
</I>&gt;<i> conversion to number) on every single pixel assignment is going the  
</I>&gt;<i> wrong direction for performance -- you really want to validate  
</I>&gt;<i> everything at once.
</I>But by delaying clamping, etc you are requiring that the backing store  
be an array of boxed values, leading to increased memory usage,  
increased indirection, and increasing the cost of the final blit.

My experience implementing this in WebKit showed a pure byte array  
backing store was significantly faster than using boxed values.

&gt;<i>    - Vlad
</I>
--Oliver


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014773.html">[whatwg] createImageData
</A></li>
	<LI>Next message: <A HREF="014775.html">[whatwg] createImageData
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14774">[ date ]</a>
              <a href="thread.html#14774">[ thread ]</a>
              <a href="subject.html#14774">[ subject ]</a>
              <a href="author.html#14774">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
