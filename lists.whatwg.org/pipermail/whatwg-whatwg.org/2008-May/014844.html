<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Some media element details
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Some%20media%20element%20details&In-Reply-To=%3C459059.20805.qm%40web50107.mail.re2.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014924.html">
   <LINK REL="Next"  HREF="014845.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Some media element details</H1>
<!--htdig_noindex-->
    <B>James Justin Harrell</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Some%20media%20element%20details&In-Reply-To=%3C459059.20805.qm%40web50107.mail.re2.yahoo.com%3E"
       TITLE="[whatwg] Some media element details">herorev at yahoo.com
       </A><BR>
    <I>Fri May 16 21:29:12 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="014924.html">[whatwg] The &lt;iframe&gt; element and sandboxing ideas
</A></li>
        <LI>Next message: <A HREF="014845.html">[whatwg] Some media element details
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14844">[ date ]</a>
              <a href="thread.html#14844">[ thread ]</a>
              <a href="subject.html#14844">[ subject ]</a>
              <a href="author.html#14844">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>The current HTMLMediaElement interface is inconsistent and is designed in such a way that making changes to it will be extremely difficult.

The network state is given by the &quot;networkState&quot; attribute, and is one of:
EMPTY, LOADING, LOADED_METADATA, LOADED_FIRST_FRAME, LOADED

The ready state is given by the &quot;readyState&quot; attribute, and is one of:
DATA_UNAVAILABLE, CAN_SHOW_CURRENT_FRAME, CAN_PLAY, CAN_PLAY_THROUGH

Although adding states for either of these would not be fun, it could be done. But the playback state is different.

The consistent and upgradeable design would be to have a &quot;playbackState&quot; attribute that is one of:
PAUSED, PLAYING

But because there are currently only two states, we instead have a single boolean attribute. Boolean attributes are great when you're sure there will always be only two states, but they're terrible if there's a chance you'll want to add additional states.

It isn't difficult to imagine all kinds of additional playback states. For example, what if there was great demand for forward-seeking and backward-seeking states? (e.g. the states that are usually associated with those &gt;&gt; and &lt;&lt; buttons) How could those states be added?

The media error state is also inconsistent, and this time for no apparent reason, although it would at least be easy to update. A more consistent design would be to have an &quot;errorState&quot; attribute that is one of:
NO_ERROR, ABORTED, NETWORK_ERROR, DECODING_ERROR

And why are the error state names prefixed with &quot;MEDIA_ERR&quot; when the names for the other states are not prefixed? e.g. LOADING instead of MEDIA_NET_LOADING.

If NO_ERROR was given a value of 0, testing for an error with this design wouldn't be any more difficult.

if( videoElement.error ) {...}
if( videoElement.errorState ) {...}


----- Original Message ----

&gt;<i> Wouldn't you want something like that to know, for example, whether to 
</I>&gt;<i> display a &quot;play&quot; or a &quot;pause&quot; button?
</I>
We have that -- the &quot;paused&quot; attribute. When it's true, show play, and 
when it's paused, show false. You don't want to show play when the reason 
you aren't playing is that you're buffered or seeking for instance. The 
client is trying to play. It can't.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014924.html">[whatwg] The &lt;iframe&gt; element and sandboxing ideas
</A></li>
	<LI>Next message: <A HREF="014845.html">[whatwg] Some media element details
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14844">[ date ]</a>
              <a href="thread.html#14844">[ thread ]</a>
              <a href="subject.html#14844">[ subject ]</a>
              <a href="author.html#14844">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
