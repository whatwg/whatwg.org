<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] WebIDL vs HTML5 storage changes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebIDL%20vs%20HTML5%20storage%20changes&In-Reply-To=%3C9CAF2F9F-6811-4247-8C32-60AAC376E8C8%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014851.html">
   <LINK REL="Next"  HREF="014853.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] WebIDL vs HTML5 storage changes</H1>
<!--htdig_noindex-->
    <B>Brady Eidson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebIDL%20vs%20HTML5%20storage%20changes&In-Reply-To=%3C9CAF2F9F-6811-4247-8C32-60AAC376E8C8%40apple.com%3E"
       TITLE="[whatwg] WebIDL vs HTML5 storage changes">beidson at apple.com
       </A><BR>
    <I>Sun May 18 18:44:57 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="014851.html">[whatwg] WebIDL vs HTML5 storage changes
</A></li>
        <LI>Next message: <A HREF="014853.html">[whatwg] WebIDL vs HTML5 storage changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14852">[ date ]</a>
              <a href="thread.html#14852">[ thread ]</a>
              <a href="subject.html#14852">[ subject ]</a>
              <a href="author.html#14852">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
On May 18, 2008, at 5:58 PM, Maciej Stachowiak wrote:

&gt;&gt;<i> While I'm on the topic, I'm also curious about that [XXX]  
</I>&gt;&gt;<i> placeholder.
</I>&gt;&gt;<i> There's a bug in WebKit's bugzilla pointing out that the IE8 beta  
</I>&gt;&gt;<i> and Firefox 2 both support  `delete storage.keyName` syntax as an  
</I>&gt;&gt;<i> alias for `storage.removeItem(keyName)`
</I>&gt;&gt;<i> I'm taking a guess here and assuming supporting the `delete` syntax  
</I>&gt;&gt;<i> is the implied concept behind [XXX]
</I>&gt;<i>
</I>&gt;<i> WebKit's JavaScript engine doesn't currently have the ability to run  
</I>&gt;<i> custom code when a property is deleted. It would be a significant  
</I>&gt;<i> challenge to add this capability and possibly a performance  
</I>&gt;<i> regression; and no other DOM-related spec requires this, even when  
</I>&gt;<i> there is NameGetter or IndexGetter behavior. For example NodeLists  
</I>&gt;<i> and HTMLCollections do not let you delete by name to remove the item  
</I>&gt;<i> (I'm not sure what that would even mean). So I'd prefer not to have  
</I>&gt;<i> to introducethis concept just for this one case.
</I>
  WebKit has the ability to add custom property deletion on a per- 
class basis - therefore not slowing down the common case at all.   
That's how I fixed the bug to make us compatible with IE8 and Firefox  
for now as this debate gets underway...

I know there are other outstanding questions about how wise it is to  
introduce custom behavior for deleting properties for specific objects  
versus the common case.  I don't have a good enough feel for all of  
the concerns with javascript and DOM scripting to know if this is a  
&quot;horrible&quot; idea, or just kind of a weird idea.

At this stage, I'm not necessarily arguing whether or not the HTML5  
spec should adopt this behavior or not, be it in the HTML5 spec itself  
or by WebIDL specifying the custom behavior.  But in the real world,  
if IE8 and Firefox continue to have this behavior but strict standards  
following browsers don't, then that's an unfortunate incompatibility.

Also note that unlike IE8 beta and WebKit nightlies and other  
unreleased browsers who are still implementing this for the first  
time, Firefox has apparently had the behavior since Firefox 2.0

My instinct is that if the community decides it is &quot;just kind of  
weird&quot;, then it is a useful shorthand that we wouldn't lose anything  
from standardizing on.

~Brady

&gt;<i> Regards,
</I>&gt;<i> Maciej
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014851.html">[whatwg] WebIDL vs HTML5 storage changes
</A></li>
	<LI>Next message: <A HREF="014853.html">[whatwg] WebIDL vs HTML5 storage changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14852">[ date ]</a>
              <a href="thread.html#14852">[ thread ]</a>
              <a href="subject.html#14852">[ subject ]</a>
              <a href="author.html#14852">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
