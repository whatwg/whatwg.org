<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;link rel=icon width=&quot;&quot; height=&quot;&quot;&gt;aRe:
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Clink%20rel%3Dicon%20width%3D%22%22%20height%3D%22%22%3EaRe%3A&In-Reply-To=%3CPine.LNX.4.62.0805080100020.21650%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="056952.html">
   <LINK REL="Next"  HREF="056993.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;link rel=icon width=&quot;&quot; height=&quot;&quot;&gt;aRe:</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Clink%20rel%3Dicon%20width%3D%22%22%20height%3D%22%22%3EaRe%3A&In-Reply-To=%3CPine.LNX.4.62.0805080100020.21650%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] &lt;link rel=icon width=&quot;&quot; height=&quot;&quot;&gt;aRe:">ian at hixie.ch
       </A><BR>
    <I>Wed May  7 19:17:38 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="056952.html">[whatwg] &lt;link rel=icon width=
</A></li>
        <LI>Next message: <A HREF="056993.html">[whatwg] &lt;link rel=icon width=&quot;&quot; height=&quot;&quot;&gt;aRe:
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56991">[ date ]</a>
              <a href="thread.html#56991">[ thread ]</a>
              <a href="subject.html#56991">[ subject ]</a>
              <a href="author.html#56991">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
I've added a &quot;sizes&quot; attribute to &lt;link&gt; for the &quot;icon&quot; keyword. It takes 
a space separated list of keywords consisting of two integers separated by 
an &quot;x&quot; or the keyword &quot;any&quot;.


GENERAL NEED

On Wed, 30 Apr 2008, Ian Hickson wrote:
&gt;<i> 
</I>&gt;<i> The Gears team has an API that allows authors to specify a set of icons:
</I>&gt;<i> 
</I>&gt;<i>    <A HREF="http://code.google.com/apis/gears/upcoming/api_desktop.html">http://code.google.com/apis/gears/upcoming/api_desktop.html</A>
</I>&gt;<i> 
</I>&gt;<i> They used a scripted API, but when I tried to get them to use a 
</I>&gt;<i> declarative API, they said that the main reason they used a scripted one 
</I>&gt;<i> is that the declarative options didn't have a way to specify dimensions.
</I>
On Tue, 29 Apr 2008, Maciej Stachowiak wrote:
&gt;<i> 
</I>&gt;<i> I think a way to specify multiple icons at different sizes is a good 
</I>&gt;<i> idea. However, I do not think width and height attributes sufficiently 
</I>&gt;<i> cover the available options. We need to be able to handle:
</I>&gt;<i> 
</I>&gt;<i> 1) Scalable vector formats such as SVG or PDF. These work well at any 
</I>&gt;<i> size. On some Linux desktop environments, SVG is used as a native icon 
</I>&gt;<i> format.
</I>&gt;<i> 
</I>&gt;<i> 2) Formats that include bitmaps at multiple sizes. These include the 
</I>&gt;<i> Windows native ICO format and the Mac OS X native ICNS format. At least 
</I>&gt;<i> for Mac OS X, the HI guidelines strongly recommend providing multiple 
</I>&gt;<i> sizes for best integration with the system UI. It is possible in theory 
</I>&gt;<i> for a UA to download multiple icons at different sizes and build a 
</I>&gt;<i> multi-size file, but more network transactions is less efficient.
</I>&gt;<i> 
</I>&gt;<i> Therefore, I think it needs to be possible to specify multiple sizes, or 
</I>&gt;<i> to specify that an icon is scalable and thus usable at any size.
</I>
On Tue, 29 Apr 2008, Aaron Boodman wrote:
&gt;<i> 
</I>&gt;<i> FWIW, the reason we want this as opposed to just trying all the icons is 
</I>&gt;<i> that we want to be able to render a confirmation UI that contains the 
</I>&gt;<i> icon immediately, without having to wait for all the icons to download.
</I>
On Wed, 30 Apr 2008, Michael(tm) Smith wrote:
&gt;<i> 
</I>&gt;<i> I notice the docs for the &quot;icons&quot; param of the Gears createShortcut() 
</I>&gt;<i> method describe four discrete sizes that all have the same height and 
</I>&gt;<i> width (&quot;An object containing one or more of these named properties: 
</I>&gt;<i> 128x128, 48x48, 32x32, 16x16...&quot;).
</I>&gt;<i> 
</I>&gt;<i> So do UAs expect <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">link at rel</A>=icon icons to always have the same height and 
</I>&gt;<i> width, and if so should the HTML5 spec make it clear that their height 
</I>&gt;<i> and width should be the same?
</I>
On Tue, 29 Apr 2008, Maciej Stachowiak wrote:
&gt;<i> 
</I>&gt;<i> Not all platforms use icons that have the same width and height. For 
</I>&gt;<i> example, the standard size for iPhone icons is 59x60.
</I>
On Wed, 30 Apr 2008, timeless wrote:
&gt;<i>
</I>&gt;<i> i have an icons collection from when microb team did favicon work and i 
</I>&gt;<i> distinctly recall one of the icons as being non square :)
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.linuxworld.com/favicon.ico">http://www.linuxworld.com/favicon.ico</A>
</I>&gt;<i> 
</I>&gt;<i> a quick recheck shows it's the only one. it's 50x51, which always struck 
</I>&gt;<i> me as odd.
</I>
On Wed, 30 Apr 2008, Michael(tm) Smith wrote:
&gt;<i> 
</I>&gt;<i> I'd suppose along with that and Maciej's example of the iPhone 59x60 
</I>&gt;<i> icons, there are probably a few other examples and that non-square icons 
</I>&gt;<i> are maybe not so uncommon after all.
</I>&gt;<i> 
</I>&gt;<i> Anyway, I guess I don't understand what the current (or expected) 
</I>&gt;<i> behavior is for handling the general case of multiple <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">link at rel</A>=icon 
</I>&gt;<i> instances within the same document, when the icons can be of any 
</I>&gt;<i> arbitrary size (whether or not the size is given explicitly as is being 
</I>&gt;<i> proposed).
</I>&gt;<i> 
</I>&gt;<i> I can understand the specific case like that of building a Gears 
</I>&gt;<i> application and including link markup to provide a set of icons in the 
</I>&gt;<i> particular dimensions that conform to the Gears Desktop API.
</I>&gt;<i> 
</I>&gt;<i> But especially if we were to add some means for dimensional markup to 
</I>&gt;<i> link (height/width attribute, sizes attribute, or whatever), and we want 
</I>&gt;<i> UAs to interoperably handle the case of multiple icons of various sizes 
</I>&gt;<i> being present, I'd wonder if the spec should describe what the behavior 
</I>&gt;<i> is meant to be.
</I>&gt;<i> 
</I>&gt;<i> In fact, since it's already possible to have multiple link icon 
</I>&gt;<i> instances in arbitrary sizes (just without the sizes being given 
</I>&gt;<i> explicitly in the markup), it seems like regardless of whether some new 
</I>&gt;<i> means for dimensional markup does end up being added, the expected 
</I>&gt;<i> behavior for the case of multiple link icons is already something that 
</I>&gt;<i> the spec maybe should try to address (that is, along with the case it 
</I>&gt;<i> already addresses of multiple instances with different media 
</I>&gt;<i> attributes).
</I>
On Mon, 5 May 2008, Kornel Lesinski wrote:
&gt;<i>
</I>&gt;<i> I don't think it's that important to specify exact icon sizes. Authors 
</I>&gt;<i> won't bother to accurately provide such detailed information, and 
</I>&gt;<i> applications don't need it anyway.
</I>&gt;<i> 
</I>&gt;<i> iPhone shouldn't be a concern here. It isn't limited to 59x60 
</I>&gt;<i> icons&#8212;Apple's own website uses 129x129 
</I>&gt;<i> (<A HREF="http://www.apple.com/apple-touch-icon.png">http://www.apple.com/apple-touch-icon.png</A>) and current EDGE network 
</I>&gt;<i> iPhones won't use anything else than rel=apple-touch-icon.
</I>&gt;<i> 
</I>&gt;<i> My suggestion is to simply define rel=application-icon without extra 
</I>&gt;<i> attributes.
</I>&gt;<i> 
</I>&gt;<i> There isn't much bandwidth to be saved. These icons are going to be 
</I>&gt;<i> downloaded only once. 128x128 PNG icons take only 20-30kb.
</I>&gt;<i> 
</I>&gt;<i> Large PNG file + favicon for smallest sizes may be good enough in most 
</I>&gt;<i> cases. In cases when icon design doesn't scale well, authors could 
</I>&gt;<i> provide additional .ico/.icns files.
</I>&gt;<i> 
</I>&gt;<i> When website provides application icons (not favicon) in .icns or .ico 
</I>&gt;<i> files, I think it can be reasonably assumed that these files contain all 
</I>&gt;<i> sizes that are needed for desktop icons, and it doesn't matter which 
</I>&gt;<i> exactly.
</I>
On Mon, 5 May 2008, Aaron Boodman wrote:
&gt;<i> 
</I>&gt;<i> Without hints as to which file contains which size, the user agent must 
</I>&gt;<i> download up to four separate images before using them. The latency this 
</I>&gt;<i> causes is unacceptable for many use cases.
</I>
On Tue, 6 May 2008, Kornel Lesinski wrote:
&gt;<i> 
</I>&gt;<i> It doesn't have to download four images. For purpose of instant preview, 
</I>&gt;<i> UA can display first file it downloads.
</I>&gt;<i> 
</I>&gt;<i> And you don't have to use many files, because larger files can (usually) 
</I>&gt;<i> be scaled to smaller sizes.
</I>&gt;<i>
</I>&gt;<i> When one file isn't good enough, authors could provide additional 
</I>&gt;<i> ico/icns which can have best quality OS can handle, e.g:
</I>&gt;<i> 
</I>&gt;<i> &lt;link rel=icon href=&quot;favicon.png&quot; type=&quot;image/png&quot;&gt; &lt;!-- 16 or 32px --&gt;
</I>&gt;<i> &lt;link rel=application-icon href=&quot;appicon.png&quot; type=&quot;image/png&quot;&gt; &lt;!-- 128px,
</I>&gt;<i> ~25kb --&gt;
</I>&gt;<i> &lt;link rel=application-icon href=&quot;appicon.ico&quot; type=&quot;image/x-ico&quot;&gt; &lt;!--
</I>&gt;<i> possibly all sizes between 16 and 256px, ~90kb --&gt;
</I>&gt;<i> 
</I>&gt;<i> UA could assume that ico/icns offers better quality on platform that 
</I>&gt;<i> supports this file format and also that this file is going to be larger 
</I>&gt;<i> (because it contains set of images as opposed to single image).
</I>
Ok so from the above we get the following requirements:

 * Allow the UA to display the best icon from a set of differently sized 
   icons that represent the page
 * Low latency (enable the UA to only fetch one image)
 * Handle non-square icons
 * Handle non-bitmap icons
 * Handle icon files that contain more than one size


PROPOSAL: height=&quot;&quot;/width=&quot;&quot;

On Wed, 30 Apr 2008, Ian Hickson wrote:
&gt;<i> 
</I>&gt;<i> This is a proposal to add &quot;height&quot; and &quot;width&quot; attributes to &lt;link&gt; 
</I>&gt;<i> specifically for the case of rel=icon, so that authors can provide 
</I>&gt;<i> multiple icons and let the UA decide which to use based on their size 
</I>&gt;<i> (without having to download them all to find out which is best).
</I>
On Tue, 29 Apr 2008, Charles Iliya Krempeaux wrote:
&gt;<i>
</I>&gt;<i> [You can do this with this proposal, e.g.:]
</I>&gt;<i> 
</I>&gt;<i> &lt;link type=&quot;icon&quot; type=&quot;application/svg&quot; href=&quot;whatwg.svg&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;link type=&quot;icon&quot; type=&quot;image/microsoft.vnd.icon&quot; width=&quot;16&quot; height=&quot;16&quot; 
</I>&gt;<i> href=&quot;whatwg.ico&quot;&gt;
</I>&gt;<i> &lt;link type=&quot;icon&quot; type=&quot;image/microsoft.vnd.icon&quot; width=&quot;32&quot; height=&quot;32&quot; 
</I>&gt;<i> href=&quot;whatwg.ico&quot;&gt;
</I>&gt;<i>
</I>&gt;<i> [...]
</I>&gt;<i> 
</I>&gt;<i> Basically &lt;link&gt;'ing to the same &quot;icon&quot; more that once for each size it 
</I>&gt;<i> is &quot;good&quot; for.
</I>
On Tue, 29 Apr 2008, Maciej Stachowiak wrote:
&gt;<i> 
</I>&gt;<i> This may not be obvious to authors.
</I>&gt;<i>
</I>&gt;<i> It's more boilerplate for the author.
</I>&gt;<i>
</I>&gt;<i> It's [too much] work for the UA to process (if it prefers a multisize 
</I>&gt;<i> icon it has to look for all icon type links and merge references to the 
</I>&gt;<i> same file).
</I>&gt;<i>
</I>&gt;<i> It does not distinguish between scalable icon and icon where the author 
</I>&gt;<i> did not specify a size (which would be all icons present in existing 
</I>&gt;<i> link attributes).
</I>
On Thu, 1 May 2008, Ernest Cline wrote:
&gt;<i>
</I>&gt;<i> If new attributes are added to the link element to represent the 
</I>&gt;<i> intrinsic size of an object, then at the very least they should have 
</I>&gt;<i> different names and not confuse things by assigning two separate 
</I>&gt;<i> meanings to height and width based on the element they are attached to.
</I>
On Tue, 29 Apr 2008, Charles Iliya Krempeaux wrote:
&gt;<i> 
</I>&gt;<i> For vector formats, that can be scaled to any size, it might be a good 
</I>&gt;<i> idea to be able to specify the aspect ratio somehow.
</I>&gt;<i> 
</I>&gt;<i> For example, if the aspect ratio of one vector format icon is 4:3 and 
</I>&gt;<i> the other 16:9, then it would be a &quot;good&quot; idea to be able to specify 
</I>&gt;<i> those somehow.
</I>&gt;<i> 
</I>&gt;<i> So possibly something like...
</I>&gt;<i> 
</I>&gt;<i> &lt;link type=&quot;icon&quot; type=&quot;application/svg&quot; width=&quot;4*&quot; height=&quot;3*&quot; 
</I>&gt;<i> href=&quot;A.svg&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;link type=&quot;icon&quot; type=&quot;application/svg&quot; width=&quot;16*&quot; height=&quot;9*&quot; 
</I>&gt;<i> href=&quot;B.svg&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> (Note, I used the N* format to specify that the width and height are 
</I>&gt;<i> ratios rather than pixel measurements.  For some reason I remember 
</I>&gt;<i> seeing these used on &lt;col&gt; elements before... although I couldn't find 
</I>&gt;<i> anything like it in doing a quick look over the the HTML5 spec.  So 
</I>&gt;<i> maybe those didn't come from the spec.)
</I>
This proposal doesn't really handle icon files that contain more than one 
size -- specifying the same icon multiple times is ugly and annoying.


PROPOSAL: sizes=&quot;&quot;

On Tue, 29 Apr 2008, Maciej Stachowiak wrote:
&gt;<i> 
</I>&gt;<i> I would suggest a sizes attribute which can take a list of sizes (with x 
</I>&gt;<i> as a width/height separator), or a keyword such as &quot;any&quot; or &quot;scalable&quot; 
</I>&gt;<i> to indicate a scalable format suitable for any size.
</I>
I've used this proposal.


PROPOSAL: Use media queries

On Wed, 30 Apr 2008, Martin Atkins wrote:
&gt;<i> 
</I>&gt;<i> &lt;link type=&quot;image/png&quot;
</I>&gt;<i>       media=&quot;all and (max-width:16px and max-height:16px)&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> Here I'm assuming that &quot;the rendering surface of the output device&quot; as 
</I>&gt;<i> referred to by Media Queries[1] section 5.1 is the rectangle of pixels 
</I>&gt;<i> that the icon is going to be rendered within, which I suppose is a 
</I>&gt;<i> slight deviation from the meaning when rel=&quot;stylesheet&quot;, but I find it 
</I>&gt;<i> to be intuitive.
</I>&gt;<i> 
</I>&gt;<i> [1] <A HREF="http://www.w3.org/TR/2007/CR-css3-mediaqueries-20070606">http://www.w3.org/TR/2007/CR-css3-mediaqueries-20070606</A>
</I>
On Wed, 30 Apr 2008, Lachlan Hunt wrote:
&gt;<i> 
</I>&gt;<i> No, because the media queries are related to the actual tech specs of 
</I>&gt;<i> the device, not the image.  I'm fairly sure there are no 16x16px screens 
</I>&gt;<i> in use, at least not for the web.  To get appropriate behaviour for what 
</I>&gt;<i> you're suggesting here would require redefining and special casing media 
</I>&gt;<i> queries.
</I>
On Thu, 1 May 2008, Martin Atkins wrote:
&gt;<i> 
</I>&gt;<i> When I shrink my browser window down so that its viewport is 16x16px 
</I>&gt;<i> (assuming that it'd let me do such a thing) it's quite happy to apply a 
</I>&gt;<i> stylesheet with the above media query. It seems, therefore, that the 
</I>&gt;<i> &quot;width&quot; and &quot;height&quot; constraints relate to the rendering viewport and 
</I>&gt;<i> not to the device.
</I>&gt;<i> 
</I>&gt;<i> The only &quot;leap of faith&quot; I see here is that when rel=&quot;stylesheet&quot; we're 
</I>&gt;<i> talking about the width of the source document's viewport -- because 
</I>&gt;<i> stylesheets don't have a viewport of their own -- but in the icon case 
</I>&gt;<i> we'd be describing the *icon* viewport i.e. the box into which the icon 
</I>&gt;<i> will be rendered.
</I>&gt;<i> 
</I>&gt;<i> device-width and device-height seem to be more like what you're 
</I>&gt;<i> describing, though I'm not sure why you'd ever want to use these since 
</I>&gt;<i> browsers rarely inhabit the entire physical display even on mobile 
</I>&gt;<i> devices.
</I>
On Thu, 1 May 2008, Lachlan Hunt wrote:
&gt;<i> 
</I>&gt;<i> Yes, I meant &quot;device and viewport&quot; above.  But even if you want to apply 
</I>&gt;<i> this to a special icon viewport, it still wouldn't work as you expect, 
</I>&gt;<i> because what we need is something that describes the properties of the 
</I>&gt;<i> image, not the properties of viewport it's being rendered in.
</I>&gt;<i> 
</I>&gt;<i> Given a UA that can display any icon size up to, e.g., 128px square, the 
</I>&gt;<i> above media query wouldn't match.  But what if the author only provided 
</I>&gt;<i> icons up to 64x64px, then no media query would match and no icon would 
</I>&gt;<i> be used.  However, for this use case, the UA would need to pick the 
</I>&gt;<i> highest quality image that is suitable for the environment.
</I>&gt;<i> 
</I>&gt;<i> You couldn't eve get away with using min-width/height here, because UAs 
</I>&gt;<i> generally stretch and scew icons to fit the necessary size, and say a 
</I>&gt;<i> 60x60 icon provided, and specified as:
</I>&gt;<i> 
</I>&gt;<i>   &quot;all and (min-width:60px) and (min-height:60px)&quot;
</I>&gt;<i> 
</I>&gt;<i> Then the iPhone, for example, wouldn't pick it because it needs 59x60. 
</I>&gt;<i> Where there isn't a perfect size available, the UA needs to be able to 
</I>&gt;<i> pick one that is slightly smaller or larger and stretch it to fit.
</I>
On Fri, 2 May 2008, Martin Atkins wrote:
&gt;<i> 
</I>&gt;<i> I believe the use-case we're discussing is the selection of an 
</I>&gt;<i> appropriate icon to display at a size determined by the UA. Specifying 
</I>&gt;<i> the physical dimensions of the image itself is one way to do that. 
</I>&gt;<i> Allowing the author to make statements like &quot;this icon is only suitable 
</I>&gt;<i> at 16x16px&quot; is another.
</I>&gt;<i> 
</I>&gt;<i> The latter allows the author rather than the UA the chance to specify 
</I>&gt;<i> what icon will be best for a given size.
</I>
Using media queries for this is serious overkill. I can easily imagine 
uses for this that are from code that doesn't have a media queries 
implementation available, and this isn't something that implementors are 
going to implement media queries for. We need a solution that is easy to 
adopt from the implementation point of view.

That isn't to say that media queries shouldn't be allowed, though, and if 
people use them then they should work, if the UA supports them.


PROPOSAL: A generic attribute

On Wed, 30 Apr 2008, Jeff Walden wrote:
&gt;<i> 
</I>&gt;<i> Given that &lt;link/&gt; is more intended as a generic element, I'm somewhat 
</I>&gt;<i> leery of adding attributes specifically for one individual use of it.  
</I>&gt;<i> If you're going to add an attribute (but see below), I think it makes 
</I>&gt;<i> sense that it be something that any use of &lt;link/&gt; could use to store 
</I>&gt;<i> extra data -- so an opaque attribute whose semantics are specified by 
</I>&gt;<i> the rel attribute of the link.
</I>
On Sat, 3 May 2008, fantasai wrote:
&gt;<i> 
</I>&gt;<i> [...] we shouldn't pick a solution here that requires adding attributes 
</I>&gt;<i> every time we have a similar problem.
</I>
On Sat, 3 May 2008, Aaron Boodman wrote:
&gt;<i> 
</I>&gt;<i> Why? To me it seems much preferable to separate the attributes of an 
</I>&gt;<i> object into separate name/value pairs then trying to mash them all 
</I>&gt;<i> together into one value.
</I>
I don't really agree with the premise that we somehow need to be frugal 
with attributes. We should use them when they are appropriate. Sure, we 
shouldn't waste them, but they're not a resource in scarce supply or that 
has some insane cost to them.

Note that we already have a DOM attribute on &lt;link&gt; that is specific to 
one rel type, namely &quot;disabled&quot;.

In fact, generic attributes are a pain in the neck. Consider &quot;title&quot;, 
whose behaviour changes radically if we're talking about rel=stylesheet 
versus something else.


PROPOSAL: MIME type parameters

On Wed, 30 Apr 2008, Jeff Walden wrote:
&gt;<i> 
</I>&gt;<i> This might require that existing browsers cope correctly (or exploit 
</I>&gt;<i> duplication/error behaviors), but could a MIME parameter address this 
</I>&gt;<i> without needing another attribute at all?  That's the most narrowly 
</I>&gt;<i> scoped change I can imagine that would address the need.
</I>&gt;<i> 
</I>&gt;<i>  &lt;link rel=&quot;icon&quot; type=&quot;application/svg; sizes=any&quot; href=&quot;whatwg.svg&quot;&gt;
</I>&gt;<i>  &lt;link rel=&quot;icon&quot; type='image/microsoft.vnd.icon; sizes=&quot;16x16,32x32&quot;' 
</I>&gt;<i>  href=&quot;whatwg.ico&quot;&gt;
</I>&gt;<i>  &lt;link rel=&quot;icon&quot; type='image/x-apple-icons; 
</I>&gt;<i>  sizes=&quot;16x16,32x32,64x64,128x128,256x256,512x512&quot;' href=&quot;whatwg.icns&quot;&gt;
</I>&gt;<i>  &lt;link rel=&quot;icon&quot; type=&quot;image/png; sizes=59x60&quot; href=&quot;whatwg.png&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> Restrictions on what a parameter value may be (basically can't contain 
</I>&gt;<i> any separators or whitespace) are a touch confounding here because you 
</I>&gt;<i> don't have any separators unless you quote; that probably factors into 
</I>&gt;<i> the equation here.
</I> 
On Tue, 29 Apr 2008, Maciej Stachowiak wrote:
&gt;<i> 
</I>&gt;<i> I'm not against using a MIME parameter per se, but it would have to be 
</I>&gt;<i> x-prefixed (unless we register it) and I'd strongly prefer a syntax that 
</I>&gt;<i> does not require use of nested quotes.
</I>
On Wed, 30 Apr 2008, Martin Atkins wrote:
&gt;<i> 
</I>&gt;<i> I recall that another group in a similar situation were considering 
</I>&gt;<i> something like the following:
</I>&gt;<i> 
</I>&gt;<i> &lt;link rel=&quot;icon&quot; type=&quot;image/gif; width=24, height=24&quot; href=&quot;...&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> Presumably the above would be more the bailiwick of the MIME standard 
</I>&gt;<i> than the HTML standard, but this seems cleaner to me than adding some 
</I>&gt;<i> special-case attributes to the html LINK element.
</I>
This doesn't really work because we would need to add parameters to types 
we might not yet know. It also results in potentially complicated parsing 
rules, which I don't think people would get right. (See the comments I 
made for media queries.)


On Thu, 8 May 2008, Philipp Serafin wrote:
&gt;<i>
</I>&gt;<i> I'd like to plug the approach with MIME parameters again, because it 
</I>&gt;<i> seems by far the most elegant and clean to me.
</I>
There's no need to request things more than once -- I base my editing 
decisions on the quality of the arguments put forward, not the quantity. 
By all means, if you have new information, bring it forward, but merely 
repeating what has already been said doesn't do anything.


PROPOSAL: New rel=&quot;&quot; keywords

On Thu, 1 May 2008, Maciej Stachowiak wrote:
&gt;<i> 
</I>&gt;<i> I'm sure the last thing that is needed is more syntax suggestions, but 
</I>&gt;<i> here's an alternate proposal with no new attributes, specify size info 
</I>&gt;<i> as additional rel keywords:
</I>&gt;<i> 
</I>&gt;<i> &lt;link rel=&quot;icon scalable&quot; type=&quot;application/svg&quot; href=&quot;whatwg.svg&quot;&gt;
</I>&gt;<i> &lt;link rel=&quot;icon 16x16 32x32&quot; type=&quot;image/microsoft.vnd.icon&quot; 
</I>&gt;<i> href=&quot;whatwg.ico&quot;&gt;
</I>&gt;<i> &lt;link rel=&quot;icon 16x16 32x32 64x64 128x128 256x256 512x512&quot; type=&quot;image/ 
</I>&gt;<i> x-apple-icons&quot; href=&quot;whatwg.icns&quot;&gt;
</I>&gt;<i> &lt;link rel=&quot;icon 59x60&quot; type=&quot;image/png&quot; href=&quot;whatwg.png&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> This would however effectively define an open-ended set of rel values, 
</I>&gt;<i> and also it is dubious whether a size can be considered a relationship.
</I>
On Thu, 1 May 2008, Ernest Cline wrote:
&gt;<i> 
</I>&gt;<i> If this approach is taken, rather than preempt any possible use of size 
</I>&gt;<i> related values for icons, how about:
</I>&gt;<i> 
</I>&gt;<i> &lt;link rel=&quot;icon&quot; type=&quot;application/svg&quot; href=&quot;whatwg.svg&quot;&gt;
</I>&gt;<i> &lt;link rel=&quot;icon icon-16 icon-32&quot; type=&quot;image/microsoft.vnd.icon&quot; href=&quot;whatwg.ico&quot;&gt;
</I>&gt;<i> &lt;link rel=&quot;icon icon-16 icon-32 icon-64 icon-128 icon-256 icon-512&quot; type=&quot;image/x-apple-icons&quot; href=&quot;whatwg.icns&quot;&gt;
</I>&gt;<i> &lt;link rel=&quot;icon icon-59x60&quot; type=&quot;image/png&quot; href=&quot;whatwg.png&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> Using &quot;icon-*&quot; to indicate square icons and &quot;icon-*-*&quot; to indicate 
</I>&gt;<i> non-square icons would give a specific relationship of it being an icon 
</I>&gt;<i> a specific size for a particular rel value and not be quite so open 
</I>&gt;<i> ended.  Scalability is already indicated by the type attribute and could 
</I>&gt;<i> be left to be implied by the use of just plain &quot;icon&quot; without any of the 
</I>&gt;<i> more specific markers.  The use of the plain icon keyword on the ones 
</I>&gt;<i> with specific sizes indicated would only be needed for backward 
</I>&gt;<i> compatability with UAs that don't understand the extended forms proposed 
</I>&gt;<i> here.
</I>
I don't think this fits the semantics of the rel=&quot;&quot; attribute. The 
keywords are supposed to stand alone (even if they sometimes reinforce 
each other). Also, this is somewhat hard to parse (see the media queries 
comments again).


PROPOSAL: &lt;icon&gt;

On Wed, 30 Apr 2008, Bonner, Matt (IPG) wrote:
&gt;<i>
</I>&gt;<i> Would I be crazy to propose an &lt;icon&gt; tag to the list?
</I>&gt;<i> 
</I>&gt;<i> If icons have unique need to describe size, etc, it strikes me as 
</I>&gt;<i> parallel to the unique needs of video that justified creating a &lt;video&gt; 
</I>&gt;<i> tag separate from &lt;object&gt;.
</I>
On Mon, 5 May 2008, Simon Pieters wrote:
&gt;<i> 
</I>&gt;<i> I think that before going ahead and brainstorming syntax for this, we 
</I>&gt;<i> should think about what the desired behavior in legacy browsers should 
</I>&gt;<i> be and test what actually happens in legacy browsers for different 
</I>&gt;<i> syntaxes. For instance, a new &lt;icon&gt; element would not show an icon in 
</I>&gt;<i> legacy browsers and it would imply &lt;body&gt; in some browsers.
</I>
On Wed, 30 Apr 2008, Brady Eidson wrote:
&gt;<i>
</I>&gt;<i> Following this thread, I just decided to throw this out there to see if 
</I>&gt;<i> I'm way off base or not...
</I>&gt;<i> 
</I>&gt;<i> Since this is obviously a topic that has sparked a tad of passionate 
</I>&gt;<i> interest and there's not necessarily a clear solution that doesn't make 
</I>&gt;<i> &lt;link&gt; ugly, what are people's thoughts on adding a new element for icon 
</I>&gt;<i> badging, one that would only be valid within the &lt;head&gt;?
</I>
On Wed, 30 Apr 2008, Aaron Boodman wrote:
&gt;<i>
</I>&gt;<i> That would work for us, too.
</I>
On Wed, 30 Apr 2008, Bonner, Matt (IPG) wrote:
&gt;<i> 
</I>&gt;<i> The idea of an &lt;icon&gt; tag that forks from &lt;link&gt; strikes me as analagous 
</I>&gt;<i> to the &lt;video&gt; tag forking from &lt;object&gt;. Both new tags seem to come 
</I>&gt;<i> from the need to have attributes more specific to their contents than 
</I>&gt;<i> makes sense to load on the general tag.
</I>&gt;<i> 
</I>&gt;<i> Obviously, this brings &quot;tag bloat&quot; and yet more work for user agent 
</I>&gt;<i> authors, so we'd want to hear from them...  But a separate icon tag 
</I>&gt;<i> would permit unconstrained design of its attributes and preserve the 
</I>&gt;<i> generality of &lt;link&gt;.
</I>
On Wed, 30 Apr 2008, Maciej Stachowiak wrote:
&gt;<i> 
</I>&gt;<i> That would solve the use case, but since &lt;link rel=&quot;icon&quot;&gt; is already 
</I>&gt;<i> defined, it seems more elegant to extend it with the needed information.
</I>
On Sat, 3 May 2008, Ernest Cline wrote:
&gt;<i> 
</I>&gt;<i> Perhaps, but it means adding attributes to &lt;link&gt; elements that will 
</I>&gt;<i> only be needed for a single link type.  If the use case for these 
</I>&gt;<i> attributes is strong enough to add special purpose attributes for use 
</I>&gt;<i> with only &lt;link rel=icon&gt; then I dare say that it is strong enough to 
</I>&gt;<i> have a special purpose &lt;icon&gt; element so as to keep user agents from 
</I>&gt;<i> having to deal with nonsense such as &lt;link rel=stylesheet height=32 
</I>&gt;<i> width=32&gt;
</I>
On Mon, 5 May 2008, Anne van Kesteren wrote:
&gt;<i>
</I>&gt;<i> &lt;icon&gt; would not be backwards compatible. In some user agents (at least 
</I>&gt;<i> Opera and Firefox) that would imply a &lt;body&gt; element for instance.
</I>
On Mon, 5 May 2008, Maciej Stachowiak wrote:
&gt;<i> 
</I>&gt;<i> In addition, if we add &lt;icon&gt;, UAs will have to parse both &lt;link 
</I>&gt;<i> rel=&quot;icon&quot;&gt; (since many sites already specify icons this way, sometimes 
</I>&gt;<i> 16x16 but sometimes bigger) and the new &lt;icon&gt;, but the old way will 
</I>&gt;<i> have no way to specify size data. In fact, if a site has icons with 
</I>&gt;<i> sizes from 16x16 up to anything you could reasonably want, it will have 
</I>&gt;<i> to link it with &lt;link rel=&quot;icon&quot;&gt; to support older browsers and then 
</I>&gt;<i> again with &lt;icon&gt; to specify the size data.
</I>&gt;<i> 
</I>&gt;<i> So, on further reflection, I think a new &lt;icon&gt; element would be a bad 
</I>&gt;<i> way to go.
</I>
I share the backwards compatibility concerns described above.


PROPOSAL: style=&quot;&quot; attribute

On Wed, 30 Apr 2008, Ernest Cline wrote:
&gt;<i> 
</I>&gt;<i> Maybe I'm missing something obvious, but why wouldn't:
</I>&gt;<i> &lt;link rel=icon style=&quot;width: 16px; height:16px&quot;&gt;
</I>&gt;<i> serve to mark width and height adequately?
</I>&gt;<i> 
</I>&gt;<i> It's even perfectly fine HTML 4 syntax.
</I>
On Thu, 1 May 2008, Smylers wrote:
&gt;<i> 
</I>&gt;<i> The style attribute says _how_ to display something, not what that 
</I>&gt;<i> something _is_.  The above says: &quot;Ignore the icon's intrinsic size and 
</I>&gt;<i> scale it to 16 x 16.&quot;
</I>&gt;<i> 
</I>&gt;<i> CSS is optional, so browsers shouldn't be forced to use it to find out 
</I>&gt;<i> some meta-data.  And if a user had elected to turn off CSS for 
</I>&gt;<i> displaying in pages, would a browser still be permitted to use it for 
</I>&gt;<i> this purpose?
</I>&gt;<i> 
</I>&gt;<i> Nested attribute syntax is more awkward and error-prone than having 
</I>&gt;<i> width and height directly on the element.
</I>
I agree with Smylers' reasoning; CSS seems inappropriate here. It would 
also be complicated to parse (see my earlier media queries comments).


PROPOSAL: Some hack with &lt;title&gt;

On Mon, 5 May 2008, Ernest Cline wrote:
&gt;<i> 
</I>&gt;<i> Would making &lt;icon&gt; an optional content of &lt;title&gt; break backwards 
</I>&gt;<i> compatibility?  The incompatibility problem you mention comes from the 
</I>&gt;<i> start and end tags of both &lt;head&gt; and &lt;body&gt; being optional.  That isn't 
</I>&gt;<i> the case for title and it makes sense syntactically to place it there as 
</I>&gt;<i> the icon is part of the identifying information for the document.
</I>
On Mon, 5 May 2008, Maciej Stachowiak wrote:
&gt;<i> 
</I>&gt;<i> &lt;title&gt; is parsed as CDATA, so tags inside it are not processed as such, 
</I>&gt;<i> and instead become part of the title. Try opening a document containing 
</I>&gt;<i> this to see:
</I>&gt;<i> 
</I>&gt;<i> &lt;title&gt;&lt;icon src=&quot;foo.jpg&quot;&gt;This is some fancy title&lt;/title&gt;
</I>&gt;<i> 
</I>&gt;<i> Thus, putting &lt;icon&gt; in the &lt;title&gt; would look terrible in all existing 
</I>&gt;<i> user agents (at least ones that display the title), in addition to being 
</I>&gt;<i> a total hack.
</I>
This would work for backwards compatibility reasons as Maciej describes.


RATHOLES

On Tue, 29 Apr 2008, Charles Iliya Krempeaux wrote:
&gt;<i> 
</I>&gt;<i> My current thinking is that you can go one of 2 ways.
</I>&gt;<i> 
</I>&gt;<i> #1: Pack everything into in &lt;link&gt; element.  (I.e., what you were 
</I>&gt;<i> suggesting.) Or...
</I>&gt;<i>
</I>&gt;<i> #2: Expand everything into its own &lt;link&gt; element.  (I.e., what I was 
</I>&gt;<i> suggesting.)
</I>&gt;<i> 
</I>&gt;<i> My thinking is that... we're now considering adding width and height 
</I>&gt;<i> info (via one or two new attributes)... but I could see this progressing 
</I>&gt;<i> to adding other new attributes too (... perhaps in HTML5... or perhaps 
</I>&gt;<i> in version of HTML after that).
</I>&gt;<i> 
</I>&gt;<i> For example... if we have width and height now... well why not info 
</I>&gt;<i> about the number of bits used for the colors?!  Why not info about if 
</I>&gt;<i> the coloring is palleted or not?!  Or if the image format uses lossless 
</I>&gt;<i> compression or lossy compression?!  Or the size of the file?!  Etc....
</I>&gt;<i> 
</I>&gt;<i> If we have this new attribute(s) available on the &lt;link&gt; element, then 
</I>&gt;<i> it is very likely going to be used for other things besides just icons.
</I>&gt;<i> 
</I>&gt;<i> You could use width and height for videos too.  What if video wants to 
</I>&gt;<i> be able to &quot;declare&quot; that the video has &quot;closed captioning&quot; embedded or 
</I>&gt;<i> not?! Or what language the video file has audio for?!  (&quot;hreflang&quot; would 
</I>&gt;<i> almost work for that... if it let you specify more than one language.)  
</I>&gt;<i> Or`what &quot;ratings&quot; that version of the video is?!
</I>&gt;<i> 
</I>&gt;<i> What I was getting at with this suggestion is that if we start adding 
</I>&gt;<i> the ability to specify all sorts of metadata about what's being linked 
</I>&gt;<i> to and go along the path of #1, then we likely need to create a kind of 
</I>&gt;<i> complex language to describe this.  (Something approaching the 
</I>&gt;<i> complexity of CSS.) And perhaps that's complicating the &lt;link&gt; element 
</I>&gt;<i> too much.
</I>&gt;<i> 
</I>&gt;<i> Maybe it's simpler to (do #2 and) just create a &lt;link&gt; for each thing.
</I>
On Wed, 30 Apr 2008, Maciej Stachowiak wrote:
&gt;<i> 
</I>&gt;<i> In practice, these things usually do not matter when using an icon in 
</I>&gt;<i> the user interface. But the sizes available do matter. I would not want 
</I>&gt;<i> to download a 512x512 icon for use as an iPhone homescreen icon (it's 
</I>&gt;<i> not anywhere near the right size) but it is irrelevant whether the 
</I>&gt;<i> compression is lossy or how colors are represented. I would prefer a 
</I>&gt;<i> multisize icon with a wide size range for Mac OS X or Windows Vista but 
</I>&gt;<i> not for Windows XP or most mobile platforms.
</I>
On Wed, 30 Apr 2008, Charles Iliya Krempeaux wrote:
&gt;<i> 
</I>&gt;<i> It leads to a CSS-like language only if we start adding more metadata in 
</I>&gt;<i> there besides just the width and height.
</I>&gt;<i> 
</I>&gt;<i> For example, this...
</I>&gt;<i> 
</I>&gt;<i> &lt;link rel=&quot;enclosure&quot; type=&quot;image/xxx&quot; width=&quot;640&quot; height=&quot;480&quot;
</I>&gt;<i> compressioning=&quot;lossy&quot; coloring=&quot;truecolor&quot; href=&quot;A.xxx&quot;&gt;
</I>&gt;<i> &lt;link rel=&quot;enclosure&quot; type=&quot;image/xxx&quot; width=&quot;1280&quot; height=&quot;960&quot;
</I>&gt;<i> compressioning=&quot;lossy&quot; coloring=&quot;truecolor&quot; href=&quot;A.xxx&quot;&gt;
</I>&gt;<i> &lt;link rel=&quot;enclosure&quot; type=&quot;image/xxx&quot; width=&quot;2560&quot; height=&quot;1920&quot;
</I>&gt;<i> compressioning=&quot;lossy&quot; coloring=&quot;truecolor&quot; href=&quot;A.xxx&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> ... could become...
</I>&gt;<i> 
</I>&gt;<i> &lt;link rel=&quot;enclosure&quot; type=&quot;image/xxx&quot; metadata=&quot;size:640x480, 1280x960, 
</I>&gt;<i> 2560x1920; compressioning:lossy; coloring:truecolor;&quot; href=&quot;A.xxx&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> The &quot;metadata&quot; attribute is where you start to get a CSS-like language. 
</I>&gt;<i> (Which seems to complicate the &lt;link&gt; element.)
</I>
On Wed, 30 Apr 2008, Maciej Stachowiak wrote:
&gt;<i> 
</I>&gt;<i> Has anyone actually asked for this kind of functionality or is this a 
</I>&gt;<i> hypothetical use case? I don't think we should tie solving a real 
</I>&gt;<i> problem (the need to specify icons at different sizes and let the UA 
</I>&gt;<i> know these sizes) to an open-ended metadata annotation mechanism.
</I>
On Wed, 30 Apr 2008, Lachlan Hunt wrote:
&gt;<i> 
</I>&gt;<i> For color, you are reinventing Media Queries. For compression, you are 
</I>&gt;<i> basically reinventing q values for MIME types.
</I>&gt;<i> 
</I>&gt;<i> &lt;link type=&quot;image/png;q=1.0&quot; media=&quot;all and (min-color:8)&quot;&gt;
</I>&gt;<i> &lt;link type=&quot;image/jpeg;q=0.8&quot; media=&quot;all and (min-color:8)&quot;&gt;
</I>
On Fri, 2 May 2008, Maciej Stachowiak wrote:
&gt;<i> 
</I>&gt;<i> I think specifying aspect ratio and specifying duration of sound clip 
</I>&gt;<i> are less compelling information to provide than icon sizes. This 
</I>&gt;<i> information is intended to help determine which of possibly several 
</I>&gt;<i> icons are appropriate for use in native UI contexts, without having to 
</I>&gt;<i> download them. The last 3 of my 4 examples would be the best choices for 
</I>&gt;<i> Windows XP, Mac OS X, and iPhone respectively, as icons for documents or 
</I>&gt;<i> applications in the native UI. The Apple ICNS format would actually be a 
</I>&gt;<i> better choice for Windows Vista, despite the file format, because Vista 
</I>&gt;<i> HI guidelines call for availability of large icons and format conversion 
</I>&gt;<i> would be a better choice than the large sizes. So this information is 
</I>&gt;<i> not just redundant with the MIME type.
</I>&gt;<i> 
</I>&gt;<i> My first example (the SVG) could be used anywhere if UA understands SVG 
</I>&gt;<i> and can render down to the specific sizes needed by the computing 
</I>&gt;<i> environment. But it may not be feasible for all artwork to be provided 
</I>&gt;<i> in vector format and in any case it may not scale well to tiny sizes 
</I>&gt;<i> such as 16x16.
</I>&gt;<i> 
</I>&gt;<i> By contrast, I do not know of any actual need to determine the aspect 
</I>&gt;<i> ratio of an SVG icon or the duration of a sound icon. I do not know of 
</I>&gt;<i> cases where HI guidelines for particular platforms would recommend 
</I>&gt;<i> different choices of icon aspect ratio or sound icon duration. Thus, I 
</I>&gt;<i> suggest we limit ourselves to adding only the info that is actually 
</I>&gt;<i> known to be needed at this time. If UI innovation creates a need for 
</I>&gt;<i> more info, we can add it to the spec then.
</I>
We haven't had any requests for anything but height/width. We do not want 
to fall into second system syndrome before even having a first system 
here... There is a proper order to spec design!

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="056952.html">[whatwg] &lt;link rel=icon width=
</A></li>
	<LI>Next message: <A HREF="056993.html">[whatwg] &lt;link rel=icon width=&quot;&quot; height=&quot;&quot;&gt;aRe:
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56991">[ date ]</a>
              <a href="thread.html#56991">[ thread ]</a>
              <a href="subject.html#56991">[ subject ]</a>
              <a href="author.html#56991">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
