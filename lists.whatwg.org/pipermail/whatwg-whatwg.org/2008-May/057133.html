<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] WebIDL vs HTML5 storage changes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebIDL%20vs%20HTML5%20storage%20changes&In-Reply-To=%3C62A6EC5BEB3C43668CDE1EB360C6F8BB%40POCZTOWIEC%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057134.html">
   <LINK REL="Next"  HREF="057127.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] WebIDL vs HTML5 storage changes</H1>
<!--htdig_noindex-->
    <B>Kristof Zelechovski</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebIDL%20vs%20HTML5%20storage%20changes&In-Reply-To=%3C62A6EC5BEB3C43668CDE1EB360C6F8BB%40POCZTOWIEC%3E"
       TITLE="[whatwg] WebIDL vs HTML5 storage changes">giecrilj at stegny.2a.pl
       </A><BR>
    <I>Tue May 20 11:35:48 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="057134.html">[whatwg] WebIDL vs HTML5 storage changes
</A></li>
        <LI>Next message: <A HREF="057127.html">[whatwg] WebIDL vs HTML5 storage changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57133">[ date ]</a>
              <a href="thread.html#57133">[ thread ]</a>
              <a href="subject.html#57133">[ subject ]</a>
              <a href="author.html#57133">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Suppose you successfully delete a property of an object that gets ultimately
persisted that object on the server using XMLHttpRequest with JSON.  Your
action of deleting the property is absolutely legal and it undoubtedly has
side effects.  How is it different from the local storage case, except that
it is persisted implicitly by the session manager?
In other words, deleting a property from local storage does not change
anything in persistent memory by itself; it is the session manager that
executes the change afterwards.  It is possible because the local storage
belongs to the global state.  The operator delete is not overloaded.
Chris

-----Original Message-----
From: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>
[mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>] On Behalf Of Geoffrey Garen
Sent: Tuesday, May 20, 2008 12:19 AM
To: Brady Eidson
Cc: Maciej Stachowiak; WHATWG Mailing List
Subject: Re: [whatwg] WebIDL vs HTML5 storage changes

&gt;<i> My instinct is that if the community decides it is &quot;just kind of  
</I>&gt;<i> weird&quot;, then it is a useful shorthand that we wouldn't lose anything  
</I>&gt;<i> from standardizing on.
</I>
It is *very* weird, and therefore not a &quot;useful shorthand.&quot;

In JavaScript, &quot;delete&quot; means &quot;remove this property / interface from  
this JavaScript object.&quot; I can't think of any context in which it  
means anything else.

For example, &quot;delete node.parentNode&quot; attempts to remove the  
&quot;parentNode&quot; property from &quot;node&quot;. It does not remove &quot;parentNode&quot;  
from the document or anything like that.

&quot;delete window&quot; attempts to remove the &quot;window&quot; property from the  
global object. It does not close the window or anything like that.

In other words, you can be certain that &quot;delete&quot; is a simple operation  
with a consistent side-effect.

As a JavaScript programmer, I would find it very difficult to reason  
about objects that might or might not change the behavior of the  
&quot;delete&quot; operator. One reason i would find it very difficult is that  
operator overloading does not exist in JavaScript at all, so to  
understand this one API, I would need to understand a vast corpus of  
programming language goobery that is not at all covered in any  
JavaScript manual. Another reason I would find it very difficult is  
that the overloaded meaning of &quot;delete&quot; here (&quot;remove persistent  
storage from disk&quot;) is far afield from the original meaning (&quot;remove  
interface from temporary object in memory&quot;). To give you an analogy,  
even in C++, where you're allowed to overload operator delete, if you  
overloaded operator delete to mean &quot;do not free this object's memory,  
but do delete the file it references from the file system&quot;, well,  
let's just say that your patch would not pass code review with any of  
your four reviewers :).

I am not sure if any JS decoration or collection libraries depend on  
the canonical behavior of operator delete, but if they do, I would  
hate for them all to have to ship with the asterisk, &quot;BEWARE: do NOT  
use this decoration / collection library with that one weird DOM  
object that interprets 'delete' to mean 'remove important data from  
the user's disk'&quot;. Oy!

Geoff


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057134.html">[whatwg] WebIDL vs HTML5 storage changes
</A></li>
	<LI>Next message: <A HREF="057127.html">[whatwg] WebIDL vs HTML5 storage changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57133">[ date ]</a>
              <a href="thread.html#57133">[ thread ]</a>
              <a href="subject.html#57133">[ subject ]</a>
              <a href="author.html#57133">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
