<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] WebIDL vs HTML5 storage changes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebIDL%20vs%20HTML5%20storage%20changes&In-Reply-To=%3C4B99A607-E778-43BF-B71D-8DFAC2BE022A%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014847.html">
   <LINK REL="Next"  HREF="014850.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] WebIDL vs HTML5 storage changes</H1>
<!--htdig_noindex-->
    <B>Brady Eidson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20WebIDL%20vs%20HTML5%20storage%20changes&In-Reply-To=%3C4B99A607-E778-43BF-B71D-8DFAC2BE022A%40apple.com%3E"
       TITLE="[whatwg] WebIDL vs HTML5 storage changes">beidson at apple.com
       </A><BR>
    <I>Sun May 18 15:18:51 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="014847.html">[whatwg] The div element
</A></li>
        <LI>Next message: <A HREF="014850.html">[whatwg] WebIDL vs HTML5 storage changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14848">[ date ]</a>
              <a href="thread.html#14848">[ thread ]</a>
              <a href="subject.html#14848">[ subject ]</a>
              <a href="author.html#14848">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>A little while ago, this change - <A HREF="http://html5.org/tools/web-apps-tracker?from=1429&amp;to=1430">http://html5.org/tools/web-apps-tracker?from=1429&amp;to=1430</A> 
  - was meant to &quot;update the spec for consistency with WebIDL&quot;

In this change, the following passage was removed from the Storage  
section:

&quot;In the ECMAScript DOM binding, enumerating a Storage object must  
enumerate through the currently stored keys in the list the object is  
associated with. (It must not enumerate the values or the actual  
members of the interface). In the ECMAScript DOM binding, Storage  
objects must support dereferencing such that getting a property that  
is not a member of the object (i.e. is neither a member of the Storage  
interface nor of Object) must invoke the getItem() method with the  
property's name as the argument, and setting such a property must  
invoke the setItem() method with the property's name as the first  
argument and the given value as the second argument.&quot;

Shorty thereafter, the declaration of the Storage interface was  
changed to the following:

interface Storage {
     readonly attribute unsigned long length;
     [IndexGetter] DOMString key(in unsigned long index);
     [NameGetter] DOMString getItem(in DOMString key);
     [NameSetter] void setItem(in DOMString key, in DOMString data);
     [XXX] void removeItem(in DOMString key);
     void clear();
};

I assumed that the WebIDL descriptions of [IndexGetter], [NameGetter],  
and [NameSetter] would keep the specified functionality in tact, but  
it appears this is *not* the case.
Or by reading <A HREF="http://dev.w3.org/2006/webapi/Binding4DOM/">http://dev.w3.org/2006/webapi/Binding4DOM/</A> I can't find  
where it is the case...

Does someone know what is up with this?

While I'm on the topic, I'm also curious about that [XXX] placeholder.
There's a bug in WebKit's bugzilla pointing out that the IE8 beta and  
Firefox 2 both support  `delete storage.keyName` syntax as an alias  
for `storage.removeItem(keyName)`
I'm taking a guess here and assuming supporting the `delete` syntax is  
the implied concept behind [XXX]

Not that this mailing list has direct impact on the WebIDL spec, but I  
would suggest [NameDeleter] or [NameRemover] as a placeholder in the  
HTML5 spec since it fits in with the NameGetter/Setter family of  
operations quite nicely.

~Brady


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014847.html">[whatwg] The div element
</A></li>
	<LI>Next message: <A HREF="014850.html">[whatwg] WebIDL vs HTML5 storage changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14848">[ date ]</a>
              <a href="thread.html#14848">[ thread ]</a>
              <a href="subject.html#14848">[ subject ]</a>
              <a href="author.html#14848">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
