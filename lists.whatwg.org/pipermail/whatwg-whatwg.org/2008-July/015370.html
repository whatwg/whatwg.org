<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] The &lt;iframe&gt; element and sandboxing ideas
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20%3Ciframe%3E%20element%20and%20sandboxing%20ideas&In-Reply-To=%3Cfb9bd46d0807222323y164857ccjec511ee4ae943a46%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015366.html">
   <LINK REL="Next"  HREF="015374.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] The &lt;iframe&gt; element and sandboxing ideas</H1>
<!--htdig_noindex-->
    <B>James Ide</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20%3Ciframe%3E%20element%20and%20sandboxing%20ideas&In-Reply-To=%3Cfb9bd46d0807222323y164857ccjec511ee4ae943a46%40mail.gmail.com%3E"
       TITLE="[whatwg] The &lt;iframe&gt; element and sandboxing ideas">ide at berkeley.edu
       </A><BR>
    <I>Tue Jul 22 23:23:31 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="015366.html">[whatwg] The &lt;iframe&gt; element and sandboxing ideas
</A></li>
        <LI>Next message: <A HREF="015374.html">[whatwg] The &lt;iframe&gt; element and sandboxing ideas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15370">[ date ]</a>
              <a href="thread.html#15370">[ thread ]</a>
              <a href="subject.html#15370">[ subject ]</a>
              <a href="author.html#15370">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, Jul 22, 2008 at 3:22 PM, Frode B&#248;rli &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">frode at seria.no</A>&gt; wrote:

&gt;<i> The server must escape all user generated content by replacing &lt; with
</I>&gt;<i> &amp;lt; etc. This is perfectly secure for all existing browsers. The
</I>&gt;<i> sandbox instructs the browser to unescape. Completely fail safe for
</I>&gt;<i> all.
</I>

Thanks for the clarification. As mentioned previously by other poster, I
think this could work iff UAs can be passed a set of safe tags, attributes,
and whatnot (i.e., a whitelist), defaulting to the empty set if no such set
is specified. UAs can then unescape permitted elements, filter out
disallowed attributes, and then handle the code as normal.

Perhaps the whitelist could be specified in a format akin to CSS. For
example:
&lt;span sandbox=1 whitelist=&quot;elements: a, em; attributes: href, lang, rel;
style-properties: color, font-weight&quot;&gt; ... &lt;/span&gt;
For larger or often-used whitelists, a URL could be specified as in: &lt;span
sandbox=1 whitelist=&quot;<A HREF="http://example.com/whitelist&quot;">http://example.com/whitelist&quot;</A>&gt;, which would permit the
whitelist to be cached or used in multiple places in a document.

One design flaw of this whitelist format that comes to mind is that all the
specified attributes are allowed for all the specified elements. For
example, it is not possible to allow the &quot;lang&quot; attribute for only the &quot;a&quot;
element but not an &quot;em&quot; element in the same sandbox; i.e. the whitelist
&quot;elements: a, em; attributes: href, lang&quot; permits both &lt;a lang=&quot;en&quot;&gt; and &lt;em
lang=&quot;en&quot;&gt;. On a side note, although the whitelist would permit &lt;em
href=&quot;&quot;&gt;, it would be treated as invalid HTML of course.

Comments?

- James
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20080722/49e77c1c/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20080722/49e77c1c/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015366.html">[whatwg] The &lt;iframe&gt; element and sandboxing ideas
</A></li>
	<LI>Next message: <A HREF="015374.html">[whatwg] The &lt;iframe&gt; element and sandboxing ideas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15370">[ date ]</a>
              <a href="thread.html#15370">[ thread ]</a>
              <a href="subject.html#15370">[ subject ]</a>
              <a href="author.html#15370">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
