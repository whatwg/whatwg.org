<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] &lt;embed&gt; feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cembed%3E%20feedback&In-Reply-To=%3C6b9c91b20807240357s3a8ffd95u3ece5eb9e54a0aac%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057653.html">
   <LINK REL="Next"  HREF="057657.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] &lt;embed&gt; feedback</H1>
<!--htdig_noindex-->
    <B>Michael A. Puls II</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20%3Cembed%3E%20feedback&In-Reply-To=%3C6b9c91b20807240357s3a8ffd95u3ece5eb9e54a0aac%40mail.gmail.com%3E"
       TITLE="[whatwg] &lt;embed&gt; feedback">shadow2531 at gmail.com
       </A><BR>
    <I>Thu Jul 24 03:57:28 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="057653.html">[whatwg] &lt;embed&gt; feedback
</A></li>
        <LI>Next message: <A HREF="057657.html">[whatwg] &lt;embed&gt; feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57654">[ date ]</a>
              <a href="thread.html#57654">[ thread ]</a>
              <a href="subject.html#57654">[ subject ]</a>
              <a href="author.html#57654">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>&gt;<i> On Sat, 13 May 2006, Shadow2531 wrote:
</I>&gt;&gt;<i> On 4/26/06, Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">ian at hixie.ch</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; I don't envisage keeping &lt;applet&gt; around unless someone can specify it
</I>&gt;&gt;<i> &gt; in enough detail and give a convincing case for its inclusion.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> At the least, Opera and Firefox can not expose java methods in an applet
</I>&gt;&gt;<i> to javascript when you use the object element. &lt;applet mayscript=&quot;true&quot;&gt;
</I>&gt;&gt;<i> must be used.
</I>&gt;<i>
</I>&gt;<i> That should be resolved at the NPAPI level. There's no reason we should
</I>&gt;<i> support Java as some sort of special case as compared to Flash,
</I>&gt;<i> Silverlight, or other runtimes.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> &lt;object&gt; is supposed to be used in place of &lt;applet&gt;, but that can't
</I>&gt;&gt;<i> happen in all situations currently.
</I>&gt;<i>
</I>&gt;<i> &lt;embed&gt; can also be used. We don't need three separate ways of doing this.
</I>
Thanks.

These should no longer be a concern as the following works now:

&lt;object type=&quot;application/x-java-applet&quot;&gt;
    &lt;param name=&quot;code&quot; value=&quot;MyJavaClass&quot;&gt;
    &lt;param name=&quot;mayscript&quot; value=&quot;true&quot;&gt;
&lt;/object&gt;
&lt;embed type=&quot;application/x-java-applet&quot; code=&quot;MyJavaClass&quot; mayscript=&quot;true&quot;&gt;

&gt;&gt;<i> The problem with &lt;embed&gt; is that it doesn't support fallback content.
</I>&gt;&gt;<i> There's &lt;noembed&gt;, but that's only for when the &lt;embed&gt; element itself
</I>&gt;&gt;<i> is not supported (because you have plugins turned off in your browser or
</I>&gt;&gt;<i> something.).  Plus, &lt;noembed&gt; isn't really tied to any certain &lt;embed&gt;.
</I>&gt;<i>
</I>&gt;<i> If the author could provide a non-propietary variant of the content, he
</I>&gt;<i> wouldn't need to provide a proprietary one. So fallback isn't critical for
</I>&gt;<i> this, IMHO. Authors seem to live quite well with just giving the user the
</I>&gt;<i> choice of a Flash version or a no-Flash version, for instance.
</I>
O.K., I guess there's nothing that can be done.

&gt;&gt;<i> Also, &lt;embed&gt; in Opera doesn't collapse in situations like this: &lt;embed
</I>&gt;&gt;<i> src=&quot;<A HREF="http://filenotfound">http://filenotfound</A>&quot; width=&quot;1000&quot; height=&quot;1000&quot;&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You just get a big plug-in content area on the page.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There needs to be a defined behavior for what should happen here.
</I>&gt;<i>
</I>&gt;<i> The spec now defines how &lt;embed&gt; works for these cases, more or less.
</I>
Thanks.

I see &quot;When the element is created with neither a src attribute nor a
type attribute, and when attributes are removed such that neither
attribute is present on the element anymore, any plugins instantiated
for the element must be removed, and the embed element represents
nothing.&quot;

So, does that mean that &lt;embed width=&quot;1000&quot; height=&quot;1000&quot;&gt; would take
up zero space?

If so, how would you explain that as default css?

embed {
    display: none;
}
embed[src], embed[type] {
    display: inline-block;
}

??

&gt;<i> I didn't reply to all of your e-mail, but I think the issues you raised
</I>&gt;<i> have either been resolved or are moot given the desire not to promote
</I>&gt;<i> proprietary plugins over open Web formats. Please let me know if there are
</I>&gt;<i> specific issues that still need fixing.
</I>
Thanks.

&gt;<i> On Sat, 19 Aug 2006, Shadow2531 wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If text/plain is sent, I expect it to fail unless you have a text/plain
</I>&gt;&gt;<i> plug-in installed. Even then though, the video wouldn't play because
</I>&gt;&gt;<i> it'd be a text/plain plug-in, not a video plug-in.. However, if no type
</I>&gt;&gt;<i> at all is sent ( like if you're loading a local page that embeds a local
</I>&gt;&gt;<i> wmv file), then I'd say use the extension as a backup.
</I>&gt;<i>
</I>&gt;<i> There are a lot of videos sent as text/plain. I'm not sure we can ever get
</I>&gt;<i> around that.
</I>
I guess nothing. Leave it up to th UA?

&gt;&gt;<i> I think the type attribute should be required though and things should
</I>&gt;&gt;<i> fail if the type sent by the server doesn't match the type attribute. An
</I>&gt;&gt;<i> exception would be the generic types like application/x-mplayer2 , which
</I>&gt;&gt;<i> are allowed to embed more than one type or any type ( because they
</I>&gt;&gt;<i> support more than one type. )
</I>&gt;<i>
</I>&gt;<i> How do we define that, beyond what the spec already says?
</I>
Not sure. Another UA issue I guess.

&gt;&gt;<i> Also note that some plug-ins like the real plug-in are very picky.
</I>&gt;&gt;<i> Unless you have a modified one, not only does the file have to be sent
</I>&gt;&gt;<i> as audio/x-pn-realaudio-plugin, but it has to have an .rpm extension. If
</I>&gt;&gt;<i> you have rpmfile.php for example that sends audio/x-pn-realaudio-plugin,
</I>&gt;&gt;<i> you'll be lucky if it works because the extension is .php instead of
</I>&gt;&gt;<i> .rpm. It can be that picky.
</I>&gt;<i>
</I>&gt;<i> I'm not sure what to do about that.
</I>
Yeh, the plug-in is junk and Real no longer supports all browsers
anyways (the keep discrimating more and more), so we can leave this as
a plug-in / UA issue.

&gt;&gt;<i> Basically, the browser should follow the rules of the plug-in and only
</I>&gt;&gt;<i> invoke the plug-in for types and extension the plug-in says it supports.
</I>&gt;<i>
</I>&gt;<i> That's not how browsers seem to behave -- they ignore the type if the
</I>&gt;<i> extension is supported.
</I>
Yeh, another UA issue I guess.

&gt;&gt;<i> Now, on the other hand :), having browsers go out of their way to make
</I>&gt;&gt;<i> things work makes it all that more O.K. to send files with the wrong
</I>&gt;&gt;<i> type, which we don't really want.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Making &lt;embed src=&quot;testmovie.wmv&quot;&gt; ( sent as text/plain ) fail may seem
</I>&gt;&gt;<i> evil, but it might be for the better.
</I>&gt;<i>
</I>&gt;<i> Better for the Web on the long run maybe, but it won't be better for the
</I>&gt;<i> browsers on the short run, so we likely won't get there from here.
</I>
Yeh, a UA configuration issue I guess.

&gt;<i> On Mon, 21 Aug 2006, Shadow2531 wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This is where I myself would like to invoke strict handling ( via some
</I>&gt;&gt;<i> attribute ) as I might want things to fail if the proper content-type is
</I>&gt;&gt;<i> not sent.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;embed src=&quot;file.php&quot;&gt; might not do me any good if file.php doesn't send
</I>&gt;&gt;<i> the right content-type.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I can see something like this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;embed strict=&quot;true&quot; type=&quot;audio/x-ms-wax&quot; src=&quot;file.php&quot;&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> where that would fail if file.php isn't sent as audio/x-ms-wax.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> To stress again, I know we don't want to break current handling, but we
</I>&gt;&gt;<i> definitely need to straighten some things out.
</I>&gt;<i>
</I>&gt;<i> I don't really understand the proposal or the reason behind it. Could you
</I>&gt;<i> elaborate?
</I>
The idea was to allow the author to tell the browser that (s)he wants
the file sent with the given mime type or else fail.
Again though, I guess this is a UA config issue.

&gt;&gt;<i> I expect it ( not necessarily saying I want it ) to fail because the
</I>&gt;&gt;<i> Windows Media plug-in in this case does not report that it supports
</I>&gt;&gt;<i> playing text/plain media. It says it supports the .wmv extension, but
</I>&gt;&gt;<i> what if I have a text/plain plug-in? Will it load in the plug-in
</I>&gt;&gt;<i> associated with text/plain or in the windows media plug-in or other?
</I>&gt;<i>
</I>&gt;<i> Based on my tests with images, it looks like browsers honour the extension
</I>&gt;<i> before the MIME type.
</I>
Yeh, this is another UA-config issue I guess.

&gt;&gt;<i> I'd like to see the steps spelled out *exactly* because HTML 4.01 does
</I>&gt;&gt;<i> not do that.
</I>&gt;<i>
</I>&gt;<i> The spec does now have the exact rules.
</I>
Thanks

&gt;&gt;<i> Also, what about this &lt;embed src=&quot;file.asx&quot;&gt; (where the asx file is
</I>&gt;&gt;<i> served as text/plain).  What if I really want it embedded as a text file
</I>&gt;&gt;<i> and don't want it embedded with the wmp plug-in?
</I>&gt;<i>
</I>&gt;<i> The type=&quot;&quot; attribute overrides the extension.
</I>
&lt;embed src=&quot;000.asx&quot;&gt; or &lt;embed type=&quot;text/plain&quot; src=&quot;000.asx&quot;&gt; (with
000.asx sent as text/plain) loads up in the Windows Media plug-in in
Opera, Firefox and Safari, despite the Windows Media plug-in not
claiming that it supports text/plain.

Is that the correct behavior? (I guess it is since they all do it :) )

&gt;&gt;<i> Things usually work without a type attribute.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I think it should be encouraged though. It does have it's uses.
</I>&gt;<i>
</I>&gt;<i> We can allow it, but we can't require it, really, since the author might
</I>&gt;<i> now know the type ahead of time.
</I>
O.K.

&gt;&gt;<i> It's a great hint if the browser can't figure out what to do with the
</I>&gt;&gt;<i> mime type sent, if any, and the extension doesn't help.
</I>&gt;<i>
</I>&gt;<i> Actually it overrides both of those.
</I>
See the question above though.

&gt;&gt;<i> Also, &lt;embed type=&quot;sometype&quot;&gt; without a src could be used to invoke a
</I>&gt;&gt;<i> plug-in for scripting so that scripting could set a source.
</I>&gt;<i>
</I>&gt;<i> Done.
</I>
Thanks. This also makes: &lt;embed type=&quot;application/x-java-applet&quot;
code=&quot;MyJavaClass&quot;&gt; valid now too. (which is good)

&gt;&gt;<i> Maybe having a nosrc=&quot;true&quot; attribute would please me for this.
</I>&gt;<i>
</I>&gt;<i> What would it do?
</I>
Not needed now as you're not requiring src anymore.

&gt;&gt;<i> Also, ( this is more with the object element ), if I specify a type=&quot;&quot;
</I>&gt;&gt;<i> and the server sends the file with a type that doesn't match, I might
</I>&gt;&gt;<i> want the alternate content to display.
</I>&gt;<i>
</I>&gt;<i> That would probably break too many pages.
</I>
O.K.

&gt;&gt;<i> If the type attribute is required and things failed if the server
</I>&gt;&gt;<i> content-type doesn't match, then maybe we wouldn't have so many people
</I>&gt;&gt;<i> embedding files sent with the wrong type.
</I>&gt;<i>
</I>&gt;<i> That may have been true when the element was invented, but it's far too
</I>&gt;<i> late now.
</I>
O.K.

&gt;&gt;<i> Maybe having a strict=&quot;true&quot; for that would please me.
</I>&gt;<i>
</I>&gt;<i> That seems like a feature that not many people would use.
</I>
O.K.

&gt;&gt;<i> We need some type of standard for plug-in development too as most
</I>&gt;&gt;<i> plug-ins don't use a data param and browsers have to map it to a src
</I>&gt;&gt;<i> param.
</I>&gt;<i>
</I>&gt;<i> That's up to the NPAPI.
</I>
O.K.

&gt;&gt;<i> I know we can't break pages, but I believe strict handling of things
</I>&gt;&gt;<i> would be better in the long run.
</I>&gt;<i>
</I>&gt;<i> I agree, but I can't see how to get there from here.
</I>
O.K.

&gt;<i> On Sat, 2 Sep 2006, Shadow2531 wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> An example that Firefox and Opera both do:
</I>&gt;&gt;<i> &lt;<A HREF="https://bugs.helixcommunity.org/show_bug.cgi?id=4766">https://bugs.helixcommunity.org/show_bug.cgi?id=4766</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'd like the spec to describe exactly how browsers should do stuff like that.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As for the priority deal. Here's an example:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;object codebase=&quot;<A HREF="http://somesite.com/dir/">http://somesite.com/dir/</A>&quot;&gt;
</I>&gt;&gt;<i>    &lt;param name=&quot;baseurl&quot; &quot;<A HREF="http://someothersite.com/">http://someothersite.com/</A>&quot;&gt;
</I>&gt;&gt;<i> &lt;/object&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If the browser must map codebase to baseurl for a certain plugin like
</I>&gt;&gt;<i> WMP to work with the object element, if both are specified, does the
</I>&gt;&gt;<i> codebase still map to baseurl or can the browser give the actual
</I>&gt;&gt;<i> baseurl priority and not map. It could be done a few different ways.
</I>&gt;&gt;<i> All I'm saying is I'd like it spelled out so everyone can stick to it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Another example WMP example:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;param name=&quot;autostart&quot; value=&quot;false&quot;&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> does nothing for the WMP netscape 6.4 plugin that Opera and Firefox
</I>&gt;&gt;<i> (normally) use.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Instead of 'false', it has to be '0'.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Should browser's be allowed to map false|true to 0|1 on a
</I>&gt;&gt;<i> plugin-by-plugin basis in this case to make things work?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I know it's MS's fault for this or Real's fault in the other case, and
</I>&gt;&gt;<i> there are markup ways around it, but I'm saying that browsers have to do
</I>&gt;&gt;<i> all kinds of things to make plugins work, because most plugins suck.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The thing is, if all browsers are not working around the problems is
</I>&gt;&gt;<i> some common way, it doesn't help. If half are using duct tape and half
</I>&gt;&gt;<i> are using elmer's glue, we're still stuck with cross-browser
</I>&gt;&gt;<i> incompatibility.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Maybe this stuff is beyond the spec, but I bring it up for everyone to
</I>&gt;&gt;<i> decide.
</I>&gt;<i>
</I>&gt;<i> I've made notes relating to this, and will look at it in due course. It's
</I>&gt;<i> not entirely clear how much of this belongs in HTML5 and how much in the
</I>&gt;<i> NPAPI docs, though.
</I>
Yeh, understood. Another UA/plugin issue I guess.

&gt;<i> On Tue, 5 Sep 2006, Shadow2531 wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Yes, codebase + data -&gt; src is great and universal.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> However, see &lt;<A HREF="http://shadow2531.com/opera/testcases/plugins/wmp/004.html">http://shadow2531.com/opera/testcases/plugins/wmp/004.html</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That works in Opera, but doesn't in Firefox. It seems that Firefox is
</I>&gt;&gt;<i> not using the codebase to resolve the data attribute before mapping it
</I>&gt;&gt;<i> to src.
</I>&gt;<i>
</I>&gt;<i> Given that the music only plays in Opera, and not in any other browser
</I>&gt;<i> (including IE8), I don't think this is a point in Opera's favour. :-)
</I>
Point taken.

&gt;<i> On Thu, 9 Nov 2006, Shadow2531 wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Are common attributes reserved and therefore can't be used as params?
</I>&gt;<i>
</I>&gt;<i> Effectively, though they are still passed.
</I>
O.K.

&gt;&gt;<i> Should the UA make sure it doesn't pass any common attributes to the
</I>&gt;&gt;<i> plugin?
</I>&gt;<i>
</I>&gt;<i> There's no such restriction.
</I>
O.K.

&gt;&gt;<i> If no, and dir can be a param of whatever type you want, it should not
</I>&gt;&gt;<i> have any constraints.
</I>&gt;<i>
</I>&gt;<i> The reserved attributes (like id=&quot;&quot;) still have their usual behaviour, so
</I>&gt;<i> they should have their restrictions. They are passed to the plugin anyway,
</I>&gt;<i> for legacy reasons.
</I>
O.K.

Thanks

-- 
Michael

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057653.html">[whatwg] &lt;embed&gt; feedback
</A></li>
	<LI>Next message: <A HREF="057657.html">[whatwg] &lt;embed&gt; feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57654">[ date ]</a>
              <a href="thread.html#57654">[ thread ]</a>
              <a href="subject.html#57654">[ subject ]</a>
              <a href="author.html#57654">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
