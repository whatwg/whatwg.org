<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] pushState
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20pushState&In-Reply-To=%3CPine.LNX.4.62.0807251847070.10848%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015392.html">
   <LINK REL="Next"  HREF="057668.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] pushState</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20pushState&In-Reply-To=%3CPine.LNX.4.62.0807251847070.10848%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] pushState">ian at hixie.ch
       </A><BR>
    <I>Fri Jul 25 12:01:43 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="015392.html">[whatwg] pushState
</A></li>
        <LI>Next message: <A HREF="057668.html">[whatwg] pushState
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57666">[ date ]</a>
              <a href="thread.html#57666">[ thread ]</a>
              <a href="subject.html#57666">[ subject ]</a>
              <a href="author.html#57666">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Fri, 25 Jul 2008, Jonas Sicking wrote:
&gt;<i> 
</I>&gt;<i> What is the purpose of the 'title' argument? Is the idea that the UA 
</I>&gt;<i> will show that where it usually shows the &lt;title&gt; of the page? If so the 
</I>&gt;<i> title isn't purely advisory as it should probably affect document.title 
</I>&gt;<i> as well. This would seem like a good idea to me.
</I>
The idea is to use this title in the session history. It's distinct than 
the &lt;title&gt; and document.title because when the session history might need 
to say something like &quot;Mail - after opening 'compose mail'&quot;, &quot;Mail - after 
typing paragraph ending in 'JSON-ifyable object.'&quot;, and so forth, while 
the whole time the actual page title just says &quot;Mail - New Mail&quot;.


&gt;<i> What is the purpose of the url attribute? Why would you want to reload a 
</I>&gt;<i> separate page when returning to a given state, then what was used to 
</I>&gt;<i> load that state initially?
</I>
If the Document gets discarded (e.g. it gets evicted from the bfcache), 
the URL allows the client to still pretend it has the state, allowing the 
server to regenerate it based on the data in the URL.

Also, the URL can be used when bookmarking the page. It could also be 
displayed in the location bar. (The Location object should not be updated, 
however.)


&gt;<i> I would like to store the session states created using pushState on disk 
</I>&gt;<i> so that the state can be restored in the event of a crash or a restart. 
</I>&gt;<i> The only thing that would be needed to support this is that the 'data' 
</I>&gt;<i> object is a string rather than a generic object. This is because a 
</I>&gt;<i> generic object can't be serialized and saved to disk. Actually, what 
</I>&gt;<i> would be even better is if the API accepted a string or a JSON-ifyable 
</I>&gt;<i> object.
</I>
That's what the URL is for.

The data will, in many non-trivial cases, be some very complex object with 
actual Object references and pointers to DOM nodes and so forth. Imagine, 
for instance, a text editor using this. I don't think we want to require 
that the data be &quot;plain structured data&quot; (is there a term for this better 
than &quot;JSON-ifiable&quot;?), as that would preclude a number of complex cases.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015392.html">[whatwg] pushState
</A></li>
	<LI>Next message: <A HREF="057668.html">[whatwg] pushState
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57666">[ date ]</a>
              <a href="thread.html#57666">[ thread ]</a>
              <a href="subject.html#57666">[ subject ]</a>
              <a href="author.html#57666">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
