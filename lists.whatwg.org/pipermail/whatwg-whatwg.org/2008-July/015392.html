<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] pushState
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20pushState&In-Reply-To=%3C4889BFDF.7010003%40sicking.cc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057664.html">
   <LINK REL="Next"  HREF="057666.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] pushState</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20pushState&In-Reply-To=%3C4889BFDF.7010003%40sicking.cc%3E"
       TITLE="[whatwg] pushState">jonas at sicking.cc
       </A><BR>
    <I>Fri Jul 25 04:58:23 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="057664.html">[whatwg] getElementsByClassName case sensitivity
</A></li>
        <LI>Next message: <A HREF="057666.html">[whatwg] pushState
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15392">[ date ]</a>
              <a href="thread.html#15392">[ thread ]</a>
              <a href="subject.html#15392">[ subject ]</a>
              <a href="author.html#15392">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi all,

I was looking at the state management spec in the HTML5 draft. It looks 
pretty small and confined and might be implementable in the firefox 3.1 
time frame so I had some questions in the hope that we can solidify it.

What is the purpose of the 'title' argument? Is the idea that the UA 
will show that where it usually shows the &lt;title&gt; of the page? If so the 
title isn't purely advisory as it should probably affect document.title 
as well. This would seem like a good idea to me.

What is the purpose of the url attribute? Why would you want to reload a 
separate page when returning to a given state, then what was used to 
load that state initially?

I would like to store the session states created using pushState on disk 
so that the state can be restored in the event of a crash or a restart. 
The only thing that would be needed to support this is that the 'data' 
object is a string rather than a generic object. This is because a 
generic object can't be serialized and saved to disk. Actually, what 
would be even better is if the API accepted a string or a JSON-ifyable 
object.


All in all I would recommend the following changes to the API:

* Drop the url argument.
* Make title set document.title (except if empty or not specified).
* Require that the data is JSON serializable.


/ Jonas

</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057664.html">[whatwg] getElementsByClassName case sensitivity
</A></li>
	<LI>Next message: <A HREF="057666.html">[whatwg] pushState
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15392">[ date ]</a>
              <a href="thread.html#15392">[ thread ]</a>
              <a href="subject.html#15392">[ subject ]</a>
              <a href="author.html#15392">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
