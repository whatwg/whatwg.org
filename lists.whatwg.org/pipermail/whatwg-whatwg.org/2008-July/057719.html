<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] pushState
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20pushState&In-Reply-To=%3C488F57E4.9070508%40sicking.cc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057705.html">
   <LINK REL="Next"  HREF="057725.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] pushState</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20pushState&In-Reply-To=%3C488F57E4.9070508%40sicking.cc%3E"
       TITLE="[whatwg] pushState">jonas at sicking.cc
       </A><BR>
    <I>Tue Jul 29 10:48:20 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="057705.html">[whatwg] pushState
</A></li>
        <LI>Next message: <A HREF="057725.html">[whatwg] pushState
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57719">[ date ]</a>
              <a href="thread.html#57719">[ thread ]</a>
              <a href="subject.html#57719">[ subject ]</a>
              <a href="author.html#57719">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ian Hickson wrote:
&gt;<i> On Fri, 25 Jul 2008, Jonas Sicking wrote:
</I>&gt;&gt;<i> So what I think we should do is to enforce that 'data' is a JSON
</I>&gt;&gt;<i> serializable object.
</I>&gt;<i> 
</I>&gt;<i> (We need a better term -- and definition -- for this.)
</I>
I'll check with the ECMA Script folks, but this one might be an
alternative to link to:

<A HREF="http://wiki.ecmascript.org/doku.php?id=es3.1:json_support">http://wiki.ecmascript.org/doku.php?id=es3.1:json_support</A>

State that the object passed as 'data' is passed to JSON.parse with the
second argument not specified. Any exception thrown is forwarded out to
the caller of pushState as usual.

&gt;&gt;<i> When entering a SH state for which a Document has been destroyed, we 
</I>&gt;&gt;<i> load the URL associated with that SH entry. After the 'load' event for 
</I>&gt;&gt;<i> the Document has fired, and if a data object was provided in the 
</I>&gt;&gt;<i> pushState call for the SH entry, we fire a PopStateEvent event 
</I>&gt;&gt;<i> containing the data stored for the object.
</I>&gt;<i> 
</I>&gt;<i> How would this work with bookmarking?
</I>
Just as specified (or at least intended) in the spec right now.

Say that the user starts on page1.html

&lt;bookmark&gt;   (bookmarks page1.html)
pushState(&quot;title&quot;, &quot;data&quot;)
&lt;bookmark&gt;   (bookmarks page1.html)
pushState(&quot;title&quot;, &quot;data&quot;, &quot;page2.html&quot;)
&lt;bookmark&gt;   (bookmarks page2.html)

Additionally, a UA is free to add the ability to store the data 
parameter in its bookmark storage. For example firefox under some 
circumstances flags URIs in the bookmark store as POST URIs, i.e. they 
should be fetched with POST rather than GET (this is specifically for 
search engine bookmarks). Similarly the data can be stored alongside the 
URI for the bookmark, however this is optional, just like the fastback 
cache.

/ Jonas

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057705.html">[whatwg] pushState
</A></li>
	<LI>Next message: <A HREF="057725.html">[whatwg] pushState
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57719">[ date ]</a>
              <a href="thread.html#57719">[ thread ]</a>
              <a href="subject.html#57719">[ subject ]</a>
              <a href="author.html#57719">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
