<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] The &lt;iframe&gt; element and sandboxing ideas
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20%3Ciframe%3E%20element%20and%20sandboxing%20ideas&In-Reply-To=%3Cfb9bd46d0807211622t296b8fefs3ba98e24eccaf442%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015349.html">
   <LINK REL="Next"  HREF="015366.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] The &lt;iframe&gt; element and sandboxing ideas</H1>
<!--htdig_noindex-->
    <B>James Ide</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20The%20%3Ciframe%3E%20element%20and%20sandboxing%20ideas&In-Reply-To=%3Cfb9bd46d0807211622t296b8fefs3ba98e24eccaf442%40mail.gmail.com%3E"
       TITLE="[whatwg] The &lt;iframe&gt; element and sandboxing ideas">ide at berkeley.edu
       </A><BR>
    <I>Mon Jul 21 16:22:24 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="015349.html">[whatwg] The &lt;iframe&gt; element and sandboxing ideas
</A></li>
        <LI>Next message: <A HREF="015366.html">[whatwg] The &lt;iframe&gt; element and sandboxing ideas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15350">[ date ]</a>
              <a href="thread.html#15350">[ thread ]</a>
              <a href="subject.html#15350">[ subject ]</a>
              <a href="author.html#15350">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I'm not sure that I follow - it seems to me that searching for unescaped
text and failing is not a reliable solution. As you mention:

&gt;<i> The problem is 1: that the user can easily write &lt;/span&gt; in his comment and
</I>&gt;<i> bypass the sandbox and 2: it is not backward compatible.
</I>&gt;<i>
</I>
 Say I input &quot;&lt;/span&gt;&quot; and the application developer has forgotten to
sanitize user input or permits use of the &lt;span&gt; tag (and has done some poor
checking for well-formed code). The application may later display a page
with my input, thus containing (e.g.): &lt;span sandbox=1&gt; &lt;/span&gt; &lt;/span&gt;,
where &quot;&lt;/span&gt;&quot; in the middle is my input.

Is this a span element with unescaped content (&quot;&lt;/span&gt;&quot;), or is it
malformed HTML? In my eyes, it's the latter and if any UA were to treat it
this way, it would be trivial to inject more harmful code. On a side note,
would comments be permitted inside a sandbox? Developers may wish to have
this functionality, but there is also the concern of a malicious user
submitting the string &quot;&lt;!--&quot;, which, from some brief testing, appears to
cause problems in IE6 and possibly more UAs. I do not have significant
experience with parsers so I can't say for sure if these issues are
showstoppers but they raise some concerns.

If the browser finds unescaped content inside a sandbox it should refuse to
&gt;<i> display the page - thereby forcing the author to fix this immediately.
</I>&gt;<i>
</I>
As mentioned previously on the topic of sandboxes, such a strict failing
policy may not be desirable. Perhaps a more gentle approach is only not to
render the sandbox's contents and perhaps display an error message in its
stead.

Overall, I'm seeing sandbox elements to be weak safety nets. AFAIK, there is
no way for a UA alone to perfectly determine what is author- or
developer-generated and what is user-submitted; user input must go through
some santizing process to be completely safe.

- James
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20080721/8e7bb76c/attachment.htm">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/attachments/20080721/8e7bb76c/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015349.html">[whatwg] The &lt;iframe&gt; element and sandboxing ideas
</A></li>
	<LI>Next message: <A HREF="015366.html">[whatwg] The &lt;iframe&gt; element and sandboxing ideas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15350">[ date ]</a>
              <a href="thread.html#15350">[ thread ]</a>
              <a href="subject.html#15350">[ subject ]</a>
              <a href="author.html#15350">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
