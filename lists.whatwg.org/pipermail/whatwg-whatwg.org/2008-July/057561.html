<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] Origin header and &lt;form&gt;s
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Origin%20header%20and%20%3Cform%3Es&In-Reply-To=%3C48756D1A.5010106%40sicking.cc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057559.html">
   <LINK REL="Next"  HREF="057564.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] Origin header and &lt;form&gt;s</H1>
<!--htdig_noindex-->
    <B>Jonas Sicking</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20Origin%20header%20and%20%3Cform%3Es&In-Reply-To=%3C48756D1A.5010106%40sicking.cc%3E"
       TITLE="[whatwg] Origin header and &lt;form&gt;s">jonas at sicking.cc
       </A><BR>
    <I>Wed Jul  9 18:59:54 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="057559.html">[whatwg] Geolocation API Proposal
</A></li>
        <LI>Next message: <A HREF="057564.html">[whatwg] Origin header and &lt;form&gt;s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57561">[ date ]</a>
              <a href="thread.html#57561">[ thread ]</a>
              <a href="subject.html#57561">[ subject ]</a>
              <a href="author.html#57561">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi All,

The Access-Control spec [1] adds an 'Origin' header that is submitted 
with all requests. I propose that we specify that &lt;form&gt; POSTs should do 
the same. This would be a very powerful mechanism to prevent CSRF 
attacks as it would allow CSRF prevention to happen in the server, 
rather than in the application layer.

This way servers could be configured to reject all POST requests that 
have an Origin header from a different site.

This wouldn't replace the normal CSRF protections sites need to do for 
now, but eventually enough UAs implement this that servers can just 
reject POSTs that doesn't have 'Origin' set. This would be especially 
true if we can get this feature backported into old browsers (we'll 
likely backport it to FF3).

/ Jonas

[1] <A HREF="http://dev.w3.org/2006/waf/access-control/">http://dev.w3.org/2006/waf/access-control/</A>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057559.html">[whatwg] Geolocation API Proposal
</A></li>
	<LI>Next message: <A HREF="057564.html">[whatwg] Origin header and &lt;form&gt;s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57561">[ date ]</a>
              <a href="thread.html#57561">[ thread ]</a>
              <a href="subject.html#57561">[ subject ]</a>
              <a href="author.html#57561">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
