<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] scrollIntoView feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20scrollIntoView%20feedback&In-Reply-To=%3CPine.LNX.4.62.0807310230100.3299%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015516.html">
   <LINK REL="Next"  HREF="015520.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] scrollIntoView feedback</H1>
<!--htdig_noindex-->
    <B>Ian Hickson</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20scrollIntoView%20feedback&In-Reply-To=%3CPine.LNX.4.62.0807310230100.3299%40hixie.dreamhostps.com%3E"
       TITLE="[whatwg] scrollIntoView feedback">ian at hixie.ch
       </A><BR>
    <I>Thu Jul 31 02:31:43 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="015516.html">[whatwg] &lt;figure&gt; element feedback
</A></li>
        <LI>Next message: <A HREF="015520.html">[whatwg] scrollIntoView feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15518">[ date ]</a>
              <a href="thread.html#15518">[ thread ]</a>
              <a href="subject.html#15518">[ subject ]</a>
              <a href="author.html#15518">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
(The e-mails included in this reply were all cc'ed to whatwg, but some 
were also cc'ed to other mailing lists. To reduce cross-posting, I've only 
included <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at whatwg.org</A> on this reply, since that was the only list 
that was included on all the e-mails. If you reply, feel free to respond 
on any mailing list, but please avoid cross-posting, and include me on 
the cc list if it's not the whatwg or public-html lists. Thanks!)

On Wed, 30 Apr 2008, David Bolter wrote:
&gt;<i>
</I>&gt;<i> I have a concern about &quot;3.5.3 Scrolling elements into view&quot;: 
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/section-interaction.html#scrollintoview">http://www.whatwg.org/specs/web-apps/current-work/multipage/section-interaction.html#scrollintoview</A>
</I>&gt;<i> 
</I>&gt;<i> In addition to concerns expressed by Brad Fults 
</I>&gt;<i> (<A HREF="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2007-October/012655.html">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2007-October/012655.html</A>), 
</I>&gt;<i> I want to raise a concern about the behaviour of scrollIntoView. 
</I>&gt;<i> Specifically I would ask that:
</I>&gt;<i> 
</I>&gt;<i> 1. scrollIntoView not do anything in the case that the element is 
</I>&gt;<i> already fully visible (possibly in the middle of the viewport), or
</I>&gt;<i>
</I>&gt;<i> 2. ensureElementIsVisible to be added as described by Daniel Glazman 
</I>&gt;<i> (<A HREF="http://lists.w3.org/Archives/Public/public-html/2007Nov/0188.html">http://lists.w3.org/Archives/Public/public-html/2007Nov/0188.html</A>)
</I>&gt;<i> 
</I>&gt;<i> My concern is that with the movement towards rich interactive web 
</I>&gt;<i> interfaces, we are going to be seeing complex widgets that will need to 
</I>&gt;<i> call such functions fairly often, which may lead to a jarring experience 
</I>&gt;<i> if the function always butts the element to the edge of the viewport. It 
</I>&gt;<i> would be a shame to jar users when unnecessary. I realize there is a 
</I>&gt;<i> (hairy) way to do this but it would be nice to have the convenience.
</I>
As the spec is currently written, user agents are allowed to experiment 
with different ways to scroll the content into view. I'll happily change 
the spec to be more in line with what browsers do, if they change.


&gt;<i> Aside: we would like to recommend authors call such a method when using 
</I>&gt;<i> ARIA's activedescendant (draft spec).
</I>
Wouldn't that be more appropriate in the ARIA spec?


On Wed, 30 Apr 2008, Peter Kasting wrote:
&gt;<i> 
</I>&gt;<i> I make no formal proposal, but the behavior I would typically want for 
</I>&gt;<i> some kind of a call (perhaps in addition to those above, I don't know) 
</I>&gt;<i> would be:
</I>&gt;<i> 
</I>&gt;<i>    - If the element in question cannot be scrolled so as to make more of it
</I>&gt;<i>    appear in the viewport, do nothing.  (For when the element is completely
</I>&gt;<i>    visible, or is larger than the viewport and already taking up the whole
</I>&gt;<i>    viewport).
</I>&gt;<i>
</I>&gt;<i>    - Otherwise, if the element is not larger than the viewport, scroll such
</I>&gt;<i>    that the element is centered* in the viewport (within the scrolling limits
</I>&gt;<i>    -- if the element is at the bottom of the page, it clearly can't be scrolled
</I>&gt;<i>    up to the middle of the viewport).
</I>&gt;<i>
</I>&gt;<i>    - Otherwise, scroll the element such that the top of the element is
</I>&gt;<i>    aligned with the top of the viewport.
</I>&gt;<i> 
</I>&gt;<i> *Perhaps centered is the wrong choice.  Another suggestion would be to 
</I>&gt;<i> scroll to a point 1/3 of the way from the top or bottom of the viewport, 
</I>&gt;<i> nearer to whichever edge the element scrolled in from.  Also, perhaps 
</I>&gt;<i> the UA's behavior should not be specified in this kind of detail?
</I>
As far as I can tell, as defined, browsers would be allowed to do all this 
for scrollIntoView().


On Fri, 2 May 2008, David Bolter wrote:
&gt;<i> 
</I>&gt;<i> I'm not sure of the intended use cases of scrollIntoView, so for now I 
</I>&gt;<i> still agree with Brad Fults, that horizontal scrolling shouldn't be 
</I>&gt;<i> forgotten here. And if we want scollIntoView to butt the element to the 
</I>&gt;<i> edge no matter what, that's fine, but we shouldn't expect that to be 
</I>&gt;<i> received as the ideal/desired behavior by all. Couldn't we make it 
</I>&gt;<i> optional?
</I>
It is effectively optional now. Horizontal scrolling is also required.


On Wed, 30 Apr 2008, L. David Baron wrote:
&gt;<i>
</I>&gt;<i> It seems like authors might actually want different options here for 
</I>&gt;<i> different uses.  Aligning things with an edge of the viewport, or with 
</I>&gt;<i> the edge of some other scrollable container, might be useful in some 
</I>&gt;<i> cases, and just ensuring that it is visible might be useful in others.
</I>&gt;<i> 
</I>&gt;<i> Mozilla has an internal function used to implement a number of
</I>&gt;<i> different scrolling APIs (including scrolling to named anchors) that
</I>&gt;<i> has a bunch of options:
</I>&gt;<i>  * scroll into view (no matter where)
</I>&gt;<i>  * scroll to align with a particular edge of the page
</I>&gt;<i>  * scroll only if it's not visible at all
</I>&gt;<i> 
</I>&gt;<i> I think in many cases these scrolling APIs are about making things that 
</I>&gt;<i> authors can already do (using scrollTop, offsetTop, offsetHeight, 
</I>&gt;<i> offsetParent, and similar properties) easier to do. So I think the main 
</I>&gt;<i> questions to consider for these APIs are:
</I>&gt;<i> 
</I>&gt;<i>  * what capabilities do they provide that can't already be done?
</I>&gt;<i> 
</I>&gt;<i>  * what are the common uses of the existing features for scrolling
</I>&gt;<i>    things into view (perhaps adjusted by how hard it is to do the
</I>&gt;<i>    different possibilities)?
</I>&gt;<i> 
</I>&gt;<i> (It's also worth thinking about how all of these deal with nested 
</I>&gt;<i> scrollable containers, and about how they deal with the interaction of 
</I>&gt;<i> vertical and horizontal scrolling.  The existing text in 
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-apps/current-work/multipage/section-interaction.html#scrolling">http://www.whatwg.org/specs/web-apps/current-work/multipage/section-interaction.html#scrolling</A> 
</I>&gt;<i> doesn't seem to account for either.  But browsers actually do need to 
</I>&gt;<i> handle these, and the spec should describe how.)
</I>
I agree with the above.


On Wed, 30 Apr 2008, Jonas Sicking wrote:
&gt;<i> 
</I>&gt;<i> Another question is if the scrolling should be instant, or if smooth 
</I>&gt;<i> scrolling is allowed/desired.
</I>
The spec allows both.


On Wed, 30 Apr 2008, Garrett Smith wrote:
&gt;<i> 
</I>&gt;<i> There are three cases:
</I>&gt;<i> 1) want to make sure the element is within viewable area
</I>&gt;<i>  a) partially
</I>&gt;<i>  b) completely
</I>&gt;<i> 2) want to make sure element is is completely viewable
</I>&gt;<i>  a) at top of screen
</I>&gt;<i>  b) with least amount of scrolling
</I>
But what are the cases that each of these is used for?


On Fri, 2 May 2008, Aaron Leventhal wrote:
&gt;<i>
</I>&gt;<i> I think if there is an attribute like this which also scrolls for you, 
</I>&gt;<i> then it should be called activedescendant, not aria-activedescendant. I 
</I>&gt;<i> don't see a problem if HTML 5 wants the attribute without aria- to drive 
</I>&gt;<i> browser behavior. In that case perhaps it should style the active 
</I>&gt;<i> descendant to it is active somehow.
</I>&gt;<i> 
</I>&gt;<i> In general it's easier to explain ARIA if there are some consistent 
</I>&gt;<i> principles, such as, it doesn't drive browser behavior. It just allows 
</I>&gt;<i> the JS developer to report what they did. And since the widgets also 
</I>&gt;<i> need to work in older browsers that don't support ARIA, it's better if 
</I>&gt;<i> the aria- attributes maintain that rule.
</I>&gt;<i> 
</I>&gt;<i> Otherwise, without that rule, it really is a slippery slope. First we 
</I>&gt;<i> have aria-activedescendant scroll for you, so why not show it is active 
</I>&gt;<i> for you? Why shouldn't aria-disabled actually make the item disabled? 
</I>&gt;<i> Etc. etc. Pretty soon we're implementing the widgets for the author and 
</I>&gt;<i> none of it works most browsers.
</I>
Agreed.


On Tue, 3 Jun 2008, Kristof Zelechovski wrote:
&gt;<i>
</I>&gt;<i> Nothing in the document can be further down than the bottom.  If the 
</I>&gt;<i> document scrolls past the bottom, it shows nothing under the bottom but 
</I>&gt;<i> the bottom is in the middle of the window.  This is inevitable if the 
</I>&gt;<i> document is short so that it can be displayed without scrolling (and 
</I>&gt;<i> without scroll bars); it should be avoided if the document is longer 
</I>&gt;<i> than the window's height.
</I>
On Thu, 5 Jun 2008, Bonner, Matt (IPG) wrote:
&gt;<i> 
</I>&gt;<i> I'm wondering if he was thinking about cases where the element is 
</I>&gt;<i> shorter vertically than the viewport?  It might be worth clarifying what 
</I>&gt;<i> happens in that case.  I assume the answer is &quot;nothing&quot;?
</I>
On Fri, 6 Jun 2008, Kristof Zelechovski wrote:
&gt;<i>
</I>&gt;<i> If the part of the document following the bookmark is too short for the 
</I>&gt;<i> containing view port, revealing the bookmark should be equivalent to 
</I>&gt;<i> scrolling to the end of the containing page.
</I>
On Fri, 6 Jun 2008, Bonner, Matt (IPG) wrote:
&gt;<i> 
</I>&gt;<i> Right, good point. 3.5.3 currently doesn't differentiate between 
</I>&gt;<i> partial-page content following a bookmark, and whole-page content. It 
</I>&gt;<i> appears that it needs to do so.
</I>&gt;<i> 
</I>&gt;<i> I was thinking of the case where the whole document is shorter than the 
</I>&gt;<i> viewport. It would seem worth spelling out the behavior for both 
</I>&gt;<i> vertical cases. And then consider a bit more detail for the horizontal 
</I>&gt;<i> case as well.
</I>
Fixed.

-- 
Ian Hickson               U+1047E                )\._.,--....,'``.    fL
<A HREF="http://ln.hixie.ch/">http://ln.hixie.ch/</A>       U+263A                /,   _.. \   _\  ;`._ ,.
Things that are impossible just take longer.   `._.-(,_..'--(,_..'`-.;.'

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015516.html">[whatwg] &lt;figure&gt; element feedback
</A></li>
	<LI>Next message: <A HREF="015520.html">[whatwg] scrollIntoView feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15518">[ date ]</a>
              <a href="thread.html#15518">[ thread ]</a>
              <a href="subject.html#15518">[ subject ]</a>
              <a href="author.html#15518">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
