<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] HTML 5 : Misconceptions Documented
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%205%20%3A%20Misconceptions%20Documented&In-Reply-To=%3Cc9e12660807300922n66fcc658l89d6829746d7e44c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057746.html">
   <LINK REL="Next"  HREF="057742.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] HTML 5 : Misconceptions Documented</H1>
<!--htdig_noindex-->
    <B>Garrett Smith</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20HTML%205%20%3A%20Misconceptions%20Documented&In-Reply-To=%3Cc9e12660807300922n66fcc658l89d6829746d7e44c%40mail.gmail.com%3E"
       TITLE="[whatwg] HTML 5 : Misconceptions Documented">dhtmlkitchen at gmail.com
       </A><BR>
    <I>Wed Jul 30 09:22:55 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="057746.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
        <LI>Next message: <A HREF="057742.html">[whatwg] Fake Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57767">[ date ]</a>
              <a href="thread.html#57767">[ thread ]</a>
              <a href="subject.html#57767">[ subject ]</a>
              <a href="author.html#57767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Wed, Jul 30, 2008 at 1:00 AM, Kristof Zelechovski
&lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">giecrilj at stegny.2a.pl</A>&gt; wrote:
&gt;<i> Form attribute names should take precedence over form control names.  There
</I>&gt;<i> is no ambiguity.
</I>&gt;<i> Both mechanisms belong to Netscape DOM and are deprecated.
</I>&gt;<i> Form property names should take precedence over both.  I do not see much
</I>&gt;<i> value in removing support for legacy code altogether; it looks a bit
</I>&gt;<i> totalitarian to me.
</I>
 &quot;Removing support&quot;? Did you try to say that I was asking for an
implementation change, and that you thought that such change was
&quot;totalitarian&quot;. Your reaction to whatever I wrote seems quite a bit
off.

&gt;<i> I agree,
</I>
With what?

&gt;<i> however, that examples provided should use
</I>&gt;<i> modern wording, whatever that means.
</I>
Apparently, even you don't know what you mean.

The examples in any standards doc should not use Implementation
Specific Extensions, even if such code appears to work in 4 browsers.

Garrett

&gt;<i> Chris
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg-bounces at lists.whatwg.org</A>] On Behalf Of Garrett Smith
</I>&gt;<i> Sent: Wednesday, July 30, 2008 8:34 AM
</I>&gt;<i> To: <A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">whatwg at whatwg.org</A>
</I>&gt;<i> Subject: [whatwg] HTML 5 : Misconceptions Documented
</I>&gt;<i>
</I>&gt;<i> I took a brief look at the WF 2.0 document yesterday and found some
</I>&gt;<i> serious misconceptions and examples of &quot;programming by coincidence.&quot;
</I>&gt;<i> These reflect very poorly on html5.
</I>&gt;<i>
</I>&gt;<i> The errors can be found on the link:
</I>&gt;<i> <A HREF="http://www.whatwg.org/specs/web-forms/current-work/#select-check-default">http://www.whatwg.org/specs/web-forms/current-work/#select-check-default</A>
</I>&gt;<i>
</I>&gt;<i> Doc Bugs:
</I>&gt;<i> 1) Treating a a form element as an HTMLCollection.
</I>&gt;<i> 2) The use of - with - to augment the scope chain is not necessary.
</I>&gt;<i> 3) Calling the &quot;elements&quot; HTMLCollection an &quot;array&quot;
</I>&gt;<i>
</I>&gt;<i> (1) The definition of HTMLFormElement does not have a specialized [[Get]]
</I>&gt;<i> for element names (nor should there be, as this is known to be
</I>&gt;<i> problematic). The example in the documetation depends on such behavior.
</I>&gt;<i>
</I>&gt;<i> (2) - with - augments the scope chain with the object. This is completely
</I>&gt;<i> unnecessary here and will create problems if, for example, there is an
</I>&gt;<i> element named &quot;watch&quot;. It is a bad practice and I see this influence in the
</I>&gt;<i> popular libraries.
</I>&gt;<i>
</I>&gt;<i> (3) There is no specification for a special [[Get]] for the &quot;elements&quot;
</I>&gt;<i> HTMLCollection as a shortcut to &quot;namedItem&quot;, either (though this would not
</I>&gt;<i> seem to be a problem, and all implementations have supported this behavior
</I>&gt;<i> for quite a long time). I did notice that the elements collection is
</I>&gt;<i> mistakenly called an 'array'. This is a serious documentation mistake of
</I>&gt;<i> the worst kind: The spreading of misinformation. It will continue influence
</I>&gt;<i> the muddy knowledge that is so common among most developers who tend want
</I>&gt;<i> to call &quot;push&quot; et c directly on that NodeList object (see the
</I>&gt;<i> &quot;dojo.NodeList&quot; for details). The elements Collection should be called an
</I>&gt;<i> HTMLCollection and this should be changed immediately.
</I>&gt;<i>
</I>&gt;<i> // WRONG
</I>&gt;<i> document.forms[0].qty,
</I>&gt;<i>
</I>&gt;<i> The &quot;elements&quot; property is what the example should use:-
</I>&gt;<i>
</I>&gt;<i> // RIGHT.
</I>&gt;<i> document.forms[0].elements.namedItem('qty');
</I>&gt;<i> document.forms[0].elements.qty; // Access via custom get
</I>&gt;<i>
</I>&gt;<i> This avoids ambiguity when having a form that has an element named &quot;name&quot;,
</I>&gt;<i> for example. It becomes ambiguous as to whether the &quot;form.name&quot; refers to
</I>&gt;<i> the element or the form's &quot;name&quot; attribute. Problems could also arise with
</I>&gt;<i> &quot;action&quot;, &quot;length&quot;, &quot;toString&quot;, &quot;elements&quot;.
</I>&gt;<i>
</I>&gt;<i> -------------------------------------------------
</I>&gt;<i> // (GS) Don't augment scope chain here.
</I>&gt;<i> with (document.forms[0]) {
</I>&gt;<i>
</I>&gt;<i> // (GS) Don't treat a form as a collection.
</I>&gt;<i> // Use the 'elements' colletion.
</I>&gt;<i>  if (qty.validity.valueMissing) {
</I>&gt;<i>    // the quantity control is required but not filled in
</I>&gt;<i>  } else if (qty.validity.typeMismatch) {
</I>&gt;<i>    // the quantity control is filled in, but it is not a number
</I>&gt;<i>  }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> And further down:-
</I>&gt;<i>
</I>&gt;<i> // (GS) Don't treat a form as a collection.
</I>&gt;<i> // Use the 'elements' colletion.
</I>&gt;<i> var myControl = document.forms[0].addr;
</I>&gt;<i>
</I>&gt;<i> if (myControl.value == '<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">a at b.c</A>') {
</I>&gt;<i>  myControl.setCustomValidity('You must enter your real address.');
</I>&gt;<i> }
</I>&gt;<i> -------------------------------------------------
</I>&gt;<i> Fixed:
</I>&gt;<i>
</I>&gt;<i> var f = document.forms[0],
</I>&gt;<i>    qv = f.elements.namedItem('qty').validity;
</I>&gt;<i>
</I>&gt;<i>  if (qv.valueMissing) {
</I>&gt;<i>    // Value required but not filled in.
</I>&gt;<i>  } else if (qv.typeMismatch) {
</I>&gt;<i>    // Value filled in, but it is not a number.
</I>&gt;<i>  }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> var addErrInvalidMsg = 'You must enter your real address.';
</I>&gt;<i> var addr = document.forms[0].elements.namedItem('addr');
</I>&gt;<i> if (addr.value === '<A HREF="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">a at b.c</A>') {
</I>&gt;<i>  addr.setCustomValidity(addErrInvalidMsg);
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057746.html">[whatwg] HTML 5 : Misconceptions Documented
</A></li>
	<LI>Next message: <A HREF="057742.html">[whatwg] Fake Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57767">[ date ]</a>
              <a href="thread.html#57767">[ thread ]</a>
              <a href="subject.html#57767">[ subject ]</a>
              <a href="author.html#57767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
