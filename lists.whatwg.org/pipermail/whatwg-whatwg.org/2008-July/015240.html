<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [whatwg] on ImageData, putImageData() and drawImage()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20on%20ImageData%2C%20putImageData%28%29%20and%20drawImage%28%29&In-Reply-To=%3C486CCBCE.3040303%40opera.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015233.html">
   <LINK REL="Next"  HREF="015234.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[whatwg] on ImageData, putImageData() and drawImage()</H1>
<!--htdig_noindex-->
    <B>Mathieu HENRI</B> 
    <A HREF="mailto:whatwg%40lists.whatwg.org?Subject=Re%3A%20%5Bwhatwg%5D%20on%20ImageData%2C%20putImageData%28%29%20and%20drawImage%28%29&In-Reply-To=%3C486CCBCE.3040303%40opera.com%3E"
       TITLE="[whatwg] on ImageData, putImageData() and drawImage()">p01 at opera.com
       </A><BR>
    <I>Thu Jul  3 05:53:34 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="015233.html">[whatwg] on ImageData, putImageData() and drawImage()
</A></li>
        <LI>Next message: <A HREF="015234.html">[whatwg] HTMLMediaElement load and autoplay
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15240">[ date ]</a>
              <a href="thread.html#15240">[ thread ]</a>
              <a href="subject.html#15240">[ subject ]</a>
              <a href="author.html#15240">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Mathieu HENRI wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> As of today the variants of the putImageData() method copy a region of 
</I>&gt;<i> an ImageData (in device pixels) straight to a Canvas (in intrinsic 
</I>&gt;<i> pixels) and do not allow to scale the region further than the obvious 
</I>&gt;<i> device to intrinsic &quot;scaling&quot;.
</I>&gt;<i> 
</I>&gt;<i> This means that if a developer needs to copy and scale a region of an 
</I>&gt;<i> ImageData, he needs to do so in 2 passes, and use a temporary Canvas.
</I>&gt;<i> 
</I>&gt;<i> Also, although the the putImageData() and drawImage() methods do more or 
</I>&gt;<i> less the same thing, their arguments differ greatly.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> This is why, in order to allow scaling of ImageData and to simplify the 
</I>&gt;<i> blit operations, I propose to:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> * remove the putImageData() method and all its variants in favor of 
</I>&gt;<i> allowing the image argument of the drawImage() methods to be an instance 
</I>&gt;<i> of either an HTMLImageElement, an HTMLCanvasElement or an ImageData.
</I>&gt;<i> 
</I>&gt;<i> * rename the remaining getImageData(sx, sy, sw, sh) method to become a 
</I>&gt;<i> new variant of the createImageData() method:
</I>&gt;<i> 
</I>&gt;<i>     createImageData(sx, sy, sw, sh)
</I>

Note that if the fear of breaking existing content is too big, we could 
limit ourselves to just add variants of drawImage() taking an ImageData 
as image argument. This addition is backward compatible and should be 
rather trivial for implementors.


&gt;<i> These modifications would make the blit and blit-related operations of 
</I>&gt;<i> the Canvas API more simple and uniform.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Kind regards,
</I>&gt;<i> 
</I>

-- 
Mathieu 'p01' HENRI
JavaScript developer, Opera Software ASA

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015233.html">[whatwg] on ImageData, putImageData() and drawImage()
</A></li>
	<LI>Next message: <A HREF="015234.html">[whatwg] HTMLMediaElement load and autoplay
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15240">[ date ]</a>
              <a href="thread.html#15240">[ thread ]</a>
              <a href="subject.html#15240">[ subject ]</a>
              <a href="author.html#15240">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org">More information about the whatwg
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
