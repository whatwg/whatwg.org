<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r5709 - [giow] (1) Make document.reload() reload the input	to document.write(), not relo [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5709%20-%20%5Bgiow%5D%20%281%29%20Make%20document.reload%28%29%20reload%20the%20input%0A%09to%20document.write%28%29%2C%20not%20relo%20%5B...%5D&In-Reply-To=%3C20101207221024.383B92C7C001%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012575.html">
   <LINK REL="Next"  HREF="012577.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r5709 - [giow] (1) Make document.reload() reload the input	to document.write(), not relo [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5709%20-%20%5Bgiow%5D%20%281%29%20Make%20document.reload%28%29%20reload%20the%20input%0A%09to%20document.write%28%29%2C%20not%20relo%20%5B...%5D&In-Reply-To=%3C20101207221024.383B92C7C001%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r5709 - [giow] (1) Make document.reload() reload the input	to document.write(), not relo [...]">whatwg at whatwg.org
       </A><BR>
    <I>Tue Dec  7 14:10:24 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="012575.html">[html5] r5708 - [giow] (2) &lt;canvas&gt; drawImage() and pattern	filtering issue Fixing http://www.w3 [...]
</A></li>
        <LI>Next message: <A HREF="012577.html">[html5] r5710 - [e] (0) make 'cookie-free' an internal term so that	XHR doesn't have to refer to [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12576">[ date ]</a>
              <a href="thread.html#12576">[ thread ]</a>
              <a href="subject.html#12576">[ subject ]</a>
              <a href="author.html#12576">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2010-12-07 14:10:23 -0800 (Tue, 07 Dec 2010)
New Revision: 5709

Modified:
   complete.html
   index
   source
Log:
[giow] (1) Make document.reload() reload the input to document.write(), not reload the URL of the page. Also, a number of editorial fixes.

Modified: complete.html
===================================================================
--- complete.html	2010-12-07 20:56:55 UTC (rev 5708)
+++ complete.html	2010-12-07 22:10:23 UTC (rev 5709)
@@ -8096,10 +8096,27 @@
   &lt;a href=#html-documents title=&quot;HTML documents&quot;&gt;HTML document&lt;/a&gt; or an &lt;a href=#xml-documents title=&quot;XML documents&quot;&gt;XML document&lt;/a&gt; affects the behavior of
   certain APIs and the case-sensitivity of some selectors.&lt;/p&gt;
 
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object has a &lt;dfn id=reload-override-flag&gt;reload override
+  flag&lt;/dfn&gt; that is originally unset. The flag is set by the &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;document.open()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;document.write()&lt;/a&gt;&lt;/code&gt; methods in certain
+  situations. When the flag is set, the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; also has
+  a &lt;dfn id=reload-override-buffer&gt;reload override buffer&lt;/dfn&gt; which is a Unicode string that
+  is used as the source of the document when it is reloaded.&lt;/p&gt;
 
+  &lt;p&gt;When the user agent is to perform &lt;dfn id=an-overridden-reload&gt;an overridden
+  reload&lt;/dfn&gt;, it must act as follows:&lt;/p&gt;
 
-  &lt;h4 id=documents-in-the-dom&gt;&lt;span class=secno&gt;3.1.1 &lt;/span&gt;Documents in the DOM&lt;/h4&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; be the value of the
+   &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;a href=#active-document&gt;active document&lt;/a&gt;'s
+   &lt;a href=#reload-override-buffer&gt;reload override buffer&lt;/a&gt;.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV reload after d.open()--&gt; the
+   &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to a resource whose source is &lt;var title=&quot;&quot;&gt;source&lt;/var&gt;. When the &lt;a href=#navigate&gt;navigate&lt;/a&gt; algorithm
+   creates a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object for this purpose, set that
+   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#reload-override-flag&gt;reload override flag&lt;/a&gt; and set
+   its &lt;a href=#reload-override-buffer&gt;reload override buffer&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;source&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;h4 id=documents-in-the-dom&gt;&lt;span class=secno&gt;3.1.1 &lt;/span&gt;Documents in the DOM&lt;/h4&gt;
+
   &lt;p&gt;All &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects (in user agents implementing
   this specification) &lt;span class=impl&gt;must&lt;/span&gt; also implement
   the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface, available using
@@ -11330,7 +11347,7 @@
   overridden. The following table lists these elements&lt;span class=impl&gt; and their &lt;span&gt;implicit ARIA semantics&lt;/span&gt;&lt;/span&gt;,
   along with the restrictions that apply to those elements. Each
   language feature (element or attribute) in a cell in the first
-  column implies, unless otherwise overriden, the ARIA semantic (role,
+  column implies, unless otherwise overridden, the ARIA semantic (role,
   state, or property) given in the cell in the second column of the
   same row, but this semantic may be overridden under the conditions
   listed in the cell in the third column of that row. In addition, any
@@ -11809,6 +11826,10 @@
    &lt;li&gt;&lt;p&gt;Change the &lt;a href=&quot;#document's-character-encoding&quot;&gt;document's character encoding&lt;/a&gt; to
    UTF-8.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#reload-override-flag&gt;reload override
+   flag&lt;/a&gt; and set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#reload-override-buffer&gt;reload
+   override buffer&lt;/a&gt; to the empty string.&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Change &lt;a href=&quot;#the-document's-address&quot;&gt;the document's address&lt;/a&gt; to the
    &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s &lt;a href=&quot;#script's-document&quot; title=&quot;script's
    document&quot;&gt;document&lt;/a&gt;'s &lt;a href=&quot;#the-document's-address&quot; title=&quot;the document's
@@ -12002,10 +12023,10 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; is undefined, the &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;open()&lt;/a&gt;&lt;/code&gt; method must be called
-    (with no arguments) on the &lt;code title=Document&gt;&lt;a href=#document&gt;document&lt;/a&gt;&lt;/code&gt;
-    object. If the user &lt;a href=#refused-to-allow-the-document-to-be-unloaded&gt;refused to allow the document to be
-    unloaded&lt;/a&gt;, then these steps must be aborted. Otherwise, the
+    &lt;p&gt;If the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; is undefined, call the
+    &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;open()&lt;/a&gt;&lt;/code&gt; method on the &lt;code title=Document&gt;&lt;a href=#document&gt;document&lt;/a&gt;&lt;/code&gt; object (with no arguments). If
+    the user &lt;a href=#refused-to-allow-the-document-to-be-unloaded&gt;refused to allow the document to be
+    unloaded&lt;/a&gt;, then abort these steps. Otherwise, the
     &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; will point at just before the end of
     the (empty) &lt;a href=#the-input-stream&gt;input stream&lt;/a&gt;.&lt;/p&gt;
 
@@ -12013,28 +12034,30 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;The string consisting of the concatenation of all the arguments
-    to the method must be inserted into the &lt;a href=#the-input-stream&gt;input stream&lt;/a&gt;
-    just before the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Insert the string consisting of the concatenation of all the
+    arguments to the method into the &lt;a href=#the-input-stream&gt;input stream&lt;/a&gt; just
+    before the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;, then the
-    method must now return without further processing of the
-    &lt;a href=#the-input-stream&gt;input stream&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#reload-override-flag&gt;reload override
+    flag&lt;/a&gt; is set, then append the string consisting of the
+    concatenation of all the arguments to the method to the
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#reload-override-buffer&gt;reload override buffer&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Otherwise, the tokenizer must process the characters that were
-    inserted, one at a time, processing resulting tokens as they are
-    emitted, and stopping when the tokenizer reaches the insertion
-    point or when the processing of the tokenizer is aborted by the
-    tree construction stage (this can happen if a &lt;code&gt;&lt;a href=#script&gt;script&lt;/a&gt;&lt;/code&gt;
-    end tag token is emitted by the tokenizer).
+    &lt;p&gt;If there is no &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;,
+    have the tokenizer process the characters that were inserted, one
+    at a time, processing resulting tokens as they are emitted, and
+    stopping when the tokenizer reaches the insertion point or when
+    the processing of the tokenizer is aborted by the tree
+    construction stage (this can happen if a &lt;code&gt;&lt;a href=#script&gt;script&lt;/a&gt;&lt;/code&gt; end
+    tag token is emitted by the tokenizer).
 
     &lt;p class=note&gt;If the &lt;code title=dom-document-write&gt;&lt;a href=#dom-document-write&gt;document.write()&lt;/a&gt;&lt;/code&gt; method was
     called from script executing inline (i.e. executing because the
@@ -12046,7 +12069,7 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Finally, the method must return.&lt;/p&gt;
+    &lt;p&gt;Finally, return from the method.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -59219,6 +59242,12 @@
    &lt;code&gt;iframe&lt;/code&gt; attributes&lt;/a&gt; of the &lt;a href=#browsing-context&gt;browsing
    context&lt;/a&gt;'s &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt;.&lt;/dd&gt;
 
+   &lt;dt&gt;If the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;a href=#active-document&gt;active
+   document&lt;/a&gt; has its &lt;a href=#reload-override-flag&gt;reload override
+   flag&lt;/a&gt; set&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;Perform &lt;a href=#an-overridden-reload&gt;an overridden reload&lt;/a&gt;.&lt;/dd&gt;
+
    &lt;dt&gt;Otherwise&lt;/dt&gt;
 
    &lt;dd&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV location.reload()--&gt; the
@@ -59230,16 +59259,20 @@
 
    &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/141">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/141</A> --&gt;
 
-  &lt;/dl&gt;&lt;p&gt;When a user requests that the current page be reloaded through a
-  user interface element, the user agent should
-  &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV user reload--&gt; the &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt; to the same resource as &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, with
-  &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;. In the case of non-idempotent
-  methods (e.g. HTTP POST), the user agent should prompt the user to
-  confirm the operation first, since otherwise transactions (e.g.
-  purchases or database modifications) could be repeated. User agents
-  may allow the user to explicitly override any caches when
-  reloading.&lt;/p&gt;
+  &lt;/dl&gt;&lt;p&gt;When a user requests that the current page of a &lt;a href=#browsing-context&gt;browsing
+  context&lt;/a&gt; be reloaded through a user interface element, the
+  user agent should &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV user reload--&gt; the
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the same resource as
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;. In the
+  case of non-idempotent methods (e.g. HTTP POST), the user agent
+  should prompt the user to confirm the operation first, since
+  otherwise transactions (e.g. purchases or database modifications)
+  could be repeated. User agents may allow the user to explicitly
+  override any caches when reloading. If &lt;a href=#browsing-context&gt;browsing
+  context&lt;/a&gt;'s &lt;a href=#active-document&gt;active document&lt;/a&gt;'s &lt;a href=#reload-override-flag&gt;reload
+  override flag&lt;/a&gt; is set, then the user agent may instead perform
+  &lt;a href=#an-overridden-reload&gt;an overridden reload&lt;/a&gt; rather than the navigation
+  described in this paragraph.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -68850,7 +68883,7 @@
   &lt;h4 id=definitions-2&gt;&lt;span class=secno&gt;8.8.1 &lt;/span&gt;Definitions&lt;/h4&gt;
 
   &lt;p&gt;The user agent must associate an &lt;dfn id=undo-transaction-history&gt;undo transaction
-  history&lt;/dfn&gt; with each &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+  history&lt;/dfn&gt; with each &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
   &lt;p&gt;The &lt;a href=#undo-transaction-history&gt;undo transaction history&lt;/a&gt; is a list of
   entries. The entries are of two types: &lt;a href=#dom-changes&gt;DOM changes&lt;/a&gt; and
@@ -68864,7 +68897,7 @@
    node.&lt;/li&gt;
 
    &lt;li&gt;Changes to the DOM hierarchy of nodes that are descendants of
-   the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object (&lt;code title=dom-Node-parentNode&gt;&lt;a href=#dom-node-parentnode&gt;parentNode&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-Node-childNodes&gt;&lt;a href=#dom-node-childnodes&gt;childNodes&lt;/a&gt;&lt;/code&gt;).&lt;/li&gt;
+   the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object (&lt;code title=dom-Node-parentNode&gt;&lt;a href=#dom-node-parentnode&gt;parentNode&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-Node-childNodes&gt;&lt;a href=#dom-node-childnodes&gt;childNodes&lt;/a&gt;&lt;/code&gt;).&lt;/li&gt;
 
    &lt;li&gt;Changes to internal state, such as a form control's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; or &lt;a href=#concept-input-checked-dirty-flag title=concept-input-checked-dirty-flag&gt;dirty checkedness
    flag&lt;/a&gt;.&lt;/li&gt;
@@ -68968,8 +69001,8 @@
   &lt;p&gt;The &lt;dfn id=dom-undomanager title=dom-undoManager&gt;&lt;code&gt;undoManager&lt;/code&gt;&lt;/dfn&gt;
   attribute of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface must return the
   object implementing the &lt;code&gt;&lt;a href=#undomanager&gt;UndoManager&lt;/a&gt;&lt;/code&gt; interface for that
-  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object's associated
-  &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object's associated &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
+  object.&lt;/p&gt;
 
   &lt;p&gt;&lt;code&gt;&lt;a href=#undomanager&gt;UndoManager&lt;/a&gt;&lt;/code&gt; objects represent their document's
   &lt;a href=#undo-transaction-history&gt;undo transaction history&lt;/a&gt;. Only &lt;a href=#undo-object&gt;undo object&lt;/a&gt;
@@ -74033,8 +74066,8 @@
   none, then the method must do nothing.&lt;/p&gt;
 
   &lt;p class=note&gt;When the &lt;code title=dom-Storage-setItem&gt;&lt;a href=#dom-storage-setitem&gt;setItem()&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-Storage-removeItem&gt;&lt;a href=#dom-storage-removeitem&gt;removeItem()&lt;/a&gt;&lt;/code&gt;, and &lt;code title=dom-Storage-clear&gt;&lt;a href=#dom-storage-clear&gt;clear()&lt;/a&gt;&lt;/code&gt; methods are invoked, events
-  are fired on other &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; objects that can access
-  the newly stored or removed data, as defined in the sections on the
+  are fired on other &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects that can access the
+  newly stored or removed data, as defined in the sections on the
   &lt;code title=dom-sessionStorage&gt;&lt;a href=#dom-sessionstorage&gt;sessionStorage&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-localStorage&gt;&lt;a href=#dom-localstorage&gt;localStorage&lt;/a&gt;&lt;/code&gt; attributes.&lt;/p&gt; &lt;!--
   not normative, see the sections below for the normative statement
   --&gt;
@@ -83961,7 +83994,7 @@
   &lt;/ul&gt;&lt;p class=note&gt;Just being off-screen does not mean the element is
   not &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt;. The presence of the &lt;code title=attr-hidden&gt;&lt;a href=#the-hidden-attribute&gt;hidden&lt;/a&gt;&lt;/code&gt; attribute normally means the
   element is not &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt;, though this might be
-  overriden by the style sheets.&lt;/p&gt;
+  overridden by the style sheets.&lt;/p&gt;
 
   &lt;/div&gt;
 

Modified: index
===================================================================
--- index	2010-12-07 20:56:55 UTC (rev 5708)
+++ index	2010-12-07 22:10:23 UTC (rev 5709)
@@ -8074,10 +8074,27 @@
   &lt;a href=#html-documents title=&quot;HTML documents&quot;&gt;HTML document&lt;/a&gt; or an &lt;a href=#xml-documents title=&quot;XML documents&quot;&gt;XML document&lt;/a&gt; affects the behavior of
   certain APIs and the case-sensitivity of some selectors.&lt;/p&gt;
 
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object has a &lt;dfn id=reload-override-flag&gt;reload override
+  flag&lt;/dfn&gt; that is originally unset. The flag is set by the &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;document.open()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;document.write()&lt;/a&gt;&lt;/code&gt; methods in certain
+  situations. When the flag is set, the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; also has
+  a &lt;dfn id=reload-override-buffer&gt;reload override buffer&lt;/dfn&gt; which is a Unicode string that
+  is used as the source of the document when it is reloaded.&lt;/p&gt;
 
+  &lt;p&gt;When the user agent is to perform &lt;dfn id=an-overridden-reload&gt;an overridden
+  reload&lt;/dfn&gt;, it must act as follows:&lt;/p&gt;
 
-  &lt;h4 id=documents-in-the-dom&gt;&lt;span class=secno&gt;3.1.1 &lt;/span&gt;Documents in the DOM&lt;/h4&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; be the value of the
+   &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;a href=#active-document&gt;active document&lt;/a&gt;'s
+   &lt;a href=#reload-override-buffer&gt;reload override buffer&lt;/a&gt;.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV reload after d.open()--&gt; the
+   &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to a resource whose source is &lt;var title=&quot;&quot;&gt;source&lt;/var&gt;. When the &lt;a href=#navigate&gt;navigate&lt;/a&gt; algorithm
+   creates a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object for this purpose, set that
+   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#reload-override-flag&gt;reload override flag&lt;/a&gt; and set
+   its &lt;a href=#reload-override-buffer&gt;reload override buffer&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;source&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;h4 id=documents-in-the-dom&gt;&lt;span class=secno&gt;3.1.1 &lt;/span&gt;Documents in the DOM&lt;/h4&gt;
+
   &lt;p&gt;All &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects (in user agents implementing
   this specification) &lt;span class=impl&gt;must&lt;/span&gt; also implement
   the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface, available using
@@ -11308,7 +11325,7 @@
   overridden. The following table lists these elements&lt;span class=impl&gt; and their &lt;span&gt;implicit ARIA semantics&lt;/span&gt;&lt;/span&gt;,
   along with the restrictions that apply to those elements. Each
   language feature (element or attribute) in a cell in the first
-  column implies, unless otherwise overriden, the ARIA semantic (role,
+  column implies, unless otherwise overridden, the ARIA semantic (role,
   state, or property) given in the cell in the second column of the
   same row, but this semantic may be overridden under the conditions
   listed in the cell in the third column of that row. In addition, any
@@ -11787,6 +11804,10 @@
    &lt;li&gt;&lt;p&gt;Change the &lt;a href=&quot;#document's-character-encoding&quot;&gt;document's character encoding&lt;/a&gt; to
    UTF-8.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#reload-override-flag&gt;reload override
+   flag&lt;/a&gt; and set the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#reload-override-buffer&gt;reload
+   override buffer&lt;/a&gt; to the empty string.&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Change &lt;a href=&quot;#the-document's-address&quot;&gt;the document's address&lt;/a&gt; to the
    &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s &lt;a href=&quot;#script's-document&quot; title=&quot;script's
    document&quot;&gt;document&lt;/a&gt;'s &lt;a href=&quot;#the-document's-address&quot; title=&quot;the document's
@@ -11980,10 +12001,10 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; is undefined, the &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;open()&lt;/a&gt;&lt;/code&gt; method must be called
-    (with no arguments) on the &lt;code title=Document&gt;&lt;a href=#document&gt;document&lt;/a&gt;&lt;/code&gt;
-    object. If the user &lt;a href=#refused-to-allow-the-document-to-be-unloaded&gt;refused to allow the document to be
-    unloaded&lt;/a&gt;, then these steps must be aborted. Otherwise, the
+    &lt;p&gt;If the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; is undefined, call the
+    &lt;code title=dom-document-open&gt;&lt;a href=#dom-document-open&gt;open()&lt;/a&gt;&lt;/code&gt; method on the &lt;code title=Document&gt;&lt;a href=#document&gt;document&lt;/a&gt;&lt;/code&gt; object (with no arguments). If
+    the user &lt;a href=#refused-to-allow-the-document-to-be-unloaded&gt;refused to allow the document to be
+    unloaded&lt;/a&gt;, then abort these steps. Otherwise, the
     &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt; will point at just before the end of
     the (empty) &lt;a href=#the-input-stream&gt;input stream&lt;/a&gt;.&lt;/p&gt;
 
@@ -11991,28 +12012,30 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;The string consisting of the concatenation of all the arguments
-    to the method must be inserted into the &lt;a href=#the-input-stream&gt;input stream&lt;/a&gt;
-    just before the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Insert the string consisting of the concatenation of all the
+    arguments to the method into the &lt;a href=#the-input-stream&gt;input stream&lt;/a&gt; just
+    before the &lt;a href=#insertion-point&gt;insertion point&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;, then the
-    method must now return without further processing of the
-    &lt;a href=#the-input-stream&gt;input stream&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;a href=#reload-override-flag&gt;reload override
+    flag&lt;/a&gt; is set, then append the string consisting of the
+    concatenation of all the arguments to the method to the
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#reload-override-buffer&gt;reload override buffer&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Otherwise, the tokenizer must process the characters that were
-    inserted, one at a time, processing resulting tokens as they are
-    emitted, and stopping when the tokenizer reaches the insertion
-    point or when the processing of the tokenizer is aborted by the
-    tree construction stage (this can happen if a &lt;code&gt;&lt;a href=#script&gt;script&lt;/a&gt;&lt;/code&gt;
-    end tag token is emitted by the tokenizer).
+    &lt;p&gt;If there is no &lt;a href=#pending-parsing-blocking-script&gt;pending parsing-blocking script&lt;/a&gt;,
+    have the tokenizer process the characters that were inserted, one
+    at a time, processing resulting tokens as they are emitted, and
+    stopping when the tokenizer reaches the insertion point or when
+    the processing of the tokenizer is aborted by the tree
+    construction stage (this can happen if a &lt;code&gt;&lt;a href=#script&gt;script&lt;/a&gt;&lt;/code&gt; end
+    tag token is emitted by the tokenizer).
 
     &lt;p class=note&gt;If the &lt;code title=dom-document-write&gt;&lt;a href=#dom-document-write&gt;document.write()&lt;/a&gt;&lt;/code&gt; method was
     called from script executing inline (i.e. executing because the
@@ -12024,7 +12047,7 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Finally, the method must return.&lt;/p&gt;
+    &lt;p&gt;Finally, return from the method.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -59200,6 +59223,12 @@
    &lt;code&gt;iframe&lt;/code&gt; attributes&lt;/a&gt; of the &lt;a href=#browsing-context&gt;browsing
    context&lt;/a&gt;'s &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt;.&lt;/dd&gt;
 
+   &lt;dt&gt;If the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;a href=#active-document&gt;active
+   document&lt;/a&gt; has its &lt;a href=#reload-override-flag&gt;reload override
+   flag&lt;/a&gt; set&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;Perform &lt;a href=#an-overridden-reload&gt;an overridden reload&lt;/a&gt;.&lt;/dd&gt;
+
    &lt;dt&gt;Otherwise&lt;/dt&gt;
 
    &lt;dd&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV location.reload()--&gt; the
@@ -59211,16 +59240,20 @@
 
    &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/141">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/141</A> --&gt;
 
-  &lt;/dl&gt;&lt;p&gt;When a user requests that the current page be reloaded through a
-  user interface element, the user agent should
-  &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV user reload--&gt; the &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt; to the same resource as &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, with
-  &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;. In the case of non-idempotent
-  methods (e.g. HTTP POST), the user agent should prompt the user to
-  confirm the operation first, since otherwise transactions (e.g.
-  purchases or database modifications) could be repeated. User agents
-  may allow the user to explicitly override any caches when
-  reloading.&lt;/p&gt;
+  &lt;/dl&gt;&lt;p&gt;When a user requests that the current page of a &lt;a href=#browsing-context&gt;browsing
+  context&lt;/a&gt; be reloaded through a user interface element, the
+  user agent should &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV user reload--&gt; the
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the same resource as
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;. In the
+  case of non-idempotent methods (e.g. HTTP POST), the user agent
+  should prompt the user to confirm the operation first, since
+  otherwise transactions (e.g. purchases or database modifications)
+  could be repeated. User agents may allow the user to explicitly
+  override any caches when reloading. If &lt;a href=#browsing-context&gt;browsing
+  context&lt;/a&gt;'s &lt;a href=#active-document&gt;active document&lt;/a&gt;'s &lt;a href=#reload-override-flag&gt;reload
+  override flag&lt;/a&gt; is set, then the user agent may instead perform
+  &lt;a href=#an-overridden-reload&gt;an overridden reload&lt;/a&gt; rather than the navigation
+  described in this paragraph.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -68857,7 +68890,7 @@
   &lt;h4 id=definitions-2&gt;&lt;span class=secno&gt;8.8.1 &lt;/span&gt;Definitions&lt;/h4&gt;
 
   &lt;p&gt;The user agent must associate an &lt;dfn id=undo-transaction-history&gt;undo transaction
-  history&lt;/dfn&gt; with each &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+  history&lt;/dfn&gt; with each &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
   &lt;p&gt;The &lt;a href=#undo-transaction-history&gt;undo transaction history&lt;/a&gt; is a list of
   entries. The entries are of two types: &lt;a href=#dom-changes&gt;DOM changes&lt;/a&gt; and
@@ -68871,7 +68904,7 @@
    node.&lt;/li&gt;
 
    &lt;li&gt;Changes to the DOM hierarchy of nodes that are descendants of
-   the &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object (&lt;code title=dom-Node-parentNode&gt;&lt;a href=#dom-node-parentnode&gt;parentNode&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-Node-childNodes&gt;&lt;a href=#dom-node-childnodes&gt;childNodes&lt;/a&gt;&lt;/code&gt;).&lt;/li&gt;
+   the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object (&lt;code title=dom-Node-parentNode&gt;&lt;a href=#dom-node-parentnode&gt;parentNode&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-Node-childNodes&gt;&lt;a href=#dom-node-childnodes&gt;childNodes&lt;/a&gt;&lt;/code&gt;).&lt;/li&gt;
 
    &lt;li&gt;Changes to internal state, such as a form control's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; or &lt;a href=#concept-input-checked-dirty-flag title=concept-input-checked-dirty-flag&gt;dirty checkedness
    flag&lt;/a&gt;.&lt;/li&gt;
@@ -68975,8 +69008,8 @@
   &lt;p&gt;The &lt;dfn id=dom-undomanager title=dom-undoManager&gt;&lt;code&gt;undoManager&lt;/code&gt;&lt;/dfn&gt;
   attribute of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; interface must return the
   object implementing the &lt;code&gt;&lt;a href=#undomanager&gt;UndoManager&lt;/a&gt;&lt;/code&gt; interface for that
-  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object's associated
-  &lt;code&gt;&lt;a href=#htmldocument&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object's associated &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
+  object.&lt;/p&gt;
 
   &lt;p&gt;&lt;code&gt;&lt;a href=#undomanager&gt;UndoManager&lt;/a&gt;&lt;/code&gt; objects represent their document's
   &lt;a href=#undo-transaction-history&gt;undo transaction history&lt;/a&gt;. Only &lt;a href=#undo-object&gt;undo object&lt;/a&gt;
@@ -79865,7 +79898,7 @@
   &lt;/ul&gt;&lt;p class=note&gt;Just being off-screen does not mean the element is
   not &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt;. The presence of the &lt;code title=attr-hidden&gt;&lt;a href=#the-hidden-attribute&gt;hidden&lt;/a&gt;&lt;/code&gt; attribute normally means the
   element is not &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt;, though this might be
-  overriden by the style sheets.&lt;/p&gt;
+  overridden by the style sheets.&lt;/p&gt;
 
   &lt;/div&gt;
 

Modified: source
===================================================================
--- source	2010-12-07 20:56:55 UTC (rev 5708)
+++ source	2010-12-07 22:10:23 UTC (rev 5709)
@@ -7990,8 +7990,35 @@
   title=&quot;XML documents&quot;&gt;XML document&lt;/span&gt; affects the behavior of
   certain APIs and the case-sensitivity of some selectors.&lt;/p&gt;
 
+  &lt;p&gt;Each &lt;code&gt;Document&lt;/code&gt; object has a &lt;dfn&gt;reload override
+  flag&lt;/dfn&gt; that is originally unset. The flag is set by the &lt;code
+  title=&quot;dom-document-open&quot;&gt;document.open()&lt;/code&gt; and &lt;code
+  title=&quot;dom-document-open&quot;&gt;document.write()&lt;/code&gt; methods in certain
+  situations. When the flag is set, the &lt;code&gt;Document&lt;/code&gt; also has
+  a &lt;dfn&gt;reload override buffer&lt;/dfn&gt; which is a Unicode string that
+  is used as the source of the document when it is reloaded.&lt;/p&gt;
 
+  &lt;p&gt;When the user agent is to perform &lt;dfn&gt;an overridden
+  reload&lt;/dfn&gt;, it must act as follows:&lt;/p&gt;
 
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;source&lt;/var&gt; be the value of the
+   &lt;span&gt;browsing context&lt;/span&gt;'s &lt;span&gt;active document&lt;/span&gt;'s
+   &lt;span&gt;reload override buffer&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt;&lt;!--DONAV reload after d.open()--&gt; the
+   &lt;span&gt;browsing context&lt;/span&gt; to a resource whose source is &lt;var
+   title=&quot;&quot;&gt;source&lt;/var&gt;. When the &lt;span&gt;navigate&lt;/span&gt; algorithm
+   creates a &lt;code&gt;Document&lt;/code&gt; object for this purpose, set that
+   &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;reload override flag&lt;/span&gt; and set
+   its &lt;span&gt;reload override buffer&lt;/span&gt; to &lt;var
+   title=&quot;&quot;&gt;source&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+
+
   &lt;h4&gt;Documents in the DOM&lt;/h4&gt;
 
   &lt;p&gt;All &lt;code&gt;Document&lt;/code&gt; objects (in user agents implementing
@@ -11716,7 +11743,7 @@
   class=&quot;impl&quot;&gt; and their &lt;span&gt;implicit ARIA semantics&lt;/span&gt;&lt;/span&gt;,
   along with the restrictions that apply to those elements. Each
   language feature (element or attribute) in a cell in the first
-  column implies, unless otherwise overriden, the ARIA semantic (role,
+  column implies, unless otherwise overridden, the ARIA semantic (role,
   state, or property) given in the cell in the second column of the
   same row, but this semantic may be overridden under the conditions
   listed in the cell in the third column of that row. In addition, any
@@ -12267,6 +12294,10 @@
    &lt;li&gt;&lt;p&gt;Change the &lt;span&gt;document's character encoding&lt;/span&gt; to
    UTF-8.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Set the &lt;code&gt;Document&lt;/code&gt; object's &lt;span&gt;reload override
+   flag&lt;/span&gt; and set the &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;reload
+   override buffer&lt;/span&gt; to the empty string.&lt;/p&gt;&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Change &lt;span&gt;the document's address&lt;/span&gt; to the
    &lt;span&gt;entry script&lt;/span&gt;'s &lt;span title=&quot;script's
    document&quot;&gt;document&lt;/span&gt;'s &lt;span title=&quot;the document's
@@ -12490,11 +12521,11 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If the &lt;span&gt;insertion point&lt;/span&gt; is undefined, the &lt;code
-    title=&quot;dom-document-open&quot;&gt;open()&lt;/code&gt; method must be called
-    (with no arguments) on the &lt;code title=&quot;Document&quot;&gt;document&lt;/code&gt;
-    object. If the user &lt;span&gt;refused to allow the document to be
-    unloaded&lt;/span&gt;, then these steps must be aborted. Otherwise, the
+    &lt;p&gt;If the &lt;span&gt;insertion point&lt;/span&gt; is undefined, call the
+    &lt;code title=&quot;dom-document-open&quot;&gt;open()&lt;/code&gt; method on the &lt;code
+    title=&quot;Document&quot;&gt;document&lt;/code&gt; object (with no arguments). If
+    the user &lt;span&gt;refused to allow the document to be
+    unloaded&lt;/span&gt;, then abort these steps. Otherwise, the
     &lt;span&gt;insertion point&lt;/span&gt; will point at just before the end of
     the (empty) &lt;span&gt;input stream&lt;/span&gt;.&lt;/p&gt;
 
@@ -12502,28 +12533,30 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;The string consisting of the concatenation of all the arguments
-    to the method must be inserted into the &lt;span&gt;input stream&lt;/span&gt;
-    just before the &lt;span&gt;insertion point&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Insert the string consisting of the concatenation of all the
+    arguments to the method into the &lt;span&gt;input stream&lt;/span&gt; just
+    before the &lt;span&gt;insertion point&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If there is a &lt;span&gt;pending parsing-blocking script&lt;/span&gt;, then the
-    method must now return without further processing of the
-    &lt;span&gt;input stream&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;code&gt;Document&lt;/code&gt; object's &lt;span&gt;reload override
+    flag&lt;/span&gt; is set, then append the string consisting of the
+    concatenation of all the arguments to the method to the
+    &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;reload override buffer&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Otherwise, the tokenizer must process the characters that were
-    inserted, one at a time, processing resulting tokens as they are
-    emitted, and stopping when the tokenizer reaches the insertion
-    point or when the processing of the tokenizer is aborted by the
-    tree construction stage (this can happen if a &lt;code&gt;script&lt;/code&gt;
-    end tag token is emitted by the tokenizer).
+    &lt;p&gt;If there is no &lt;span&gt;pending parsing-blocking script&lt;/span&gt;,
+    have the tokenizer process the characters that were inserted, one
+    at a time, processing resulting tokens as they are emitted, and
+    stopping when the tokenizer reaches the insertion point or when
+    the processing of the tokenizer is aborted by the tree
+    construction stage (this can happen if a &lt;code&gt;script&lt;/code&gt; end
+    tag token is emitted by the tokenizer).
 
     &lt;p class=&quot;note&quot;&gt;If the &lt;code
     title=&quot;dom-document-write&quot;&gt;document.write()&lt;/code&gt; method was
@@ -12536,7 +12569,7 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Finally, the method must return.&lt;/p&gt;
+    &lt;p&gt;Finally, return from the method.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -67279,6 +67312,12 @@
    &lt;code&gt;iframe&lt;/code&gt; attributes&lt;/span&gt; of the &lt;span&gt;browsing
    context&lt;/span&gt;'s &lt;span&gt;browsing context container&lt;/span&gt;.&lt;/p&gt;&lt;/dd&gt;
 
+   &lt;dt&gt;If the &lt;span&gt;browsing context&lt;/span&gt;'s &lt;span&gt;active
+   document&lt;/span&gt; has its &lt;span&gt;reload override
+   flag&lt;/span&gt; set&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;Perform &lt;span&gt;an overridden reload&lt;/span&gt;.&lt;/p&gt;&lt;/dd&gt;
+
    &lt;dt&gt;Otherwise&lt;/dt&gt;
 
    &lt;dd&gt;&lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt;&lt;!--DONAV location.reload()--&gt; the
@@ -67292,16 +67331,20 @@
 
   &lt;/dl&gt;
 
-  &lt;p&gt;When a user requests that the current page be reloaded through a
-  user interface element, the user agent should
-  &lt;span&gt;navigate&lt;/span&gt;&lt;!--DONAV user reload--&gt; the &lt;span&gt;browsing
-  context&lt;/span&gt; to the same resource as &lt;code&gt;Document&lt;/code&gt;, with
-  &lt;span&gt;replacement enabled&lt;/span&gt;. In the case of non-idempotent
-  methods (e.g. HTTP POST), the user agent should prompt the user to
-  confirm the operation first, since otherwise transactions (e.g.
-  purchases or database modifications) could be repeated. User agents
-  may allow the user to explicitly override any caches when
-  reloading.&lt;/p&gt;
+  &lt;p&gt;When a user requests that the current page of a &lt;span&gt;browsing
+  context&lt;/span&gt; be reloaded through a user interface element, the
+  user agent should &lt;span&gt;navigate&lt;/span&gt;&lt;!--DONAV user reload--&gt; the
+  &lt;span&gt;browsing context&lt;/span&gt; to the same resource as
+  &lt;code&gt;Document&lt;/code&gt;, with &lt;span&gt;replacement enabled&lt;/span&gt;. In the
+  case of non-idempotent methods (e.g. HTTP POST), the user agent
+  should prompt the user to confirm the operation first, since
+  otherwise transactions (e.g. purchases or database modifications)
+  could be repeated. User agents may allow the user to explicitly
+  override any caches when reloading. If &lt;span&gt;browsing
+  context&lt;/span&gt;'s &lt;span&gt;active document&lt;/span&gt;'s &lt;span&gt;reload
+  override flag&lt;/span&gt; is set, then the user agent may instead perform
+  &lt;span&gt;an overridden reload&lt;/span&gt; rather than the navigation
+  described in this paragraph.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -78574,7 +78617,7 @@
   &lt;h4&gt;Definitions&lt;/h4&gt;
 
   &lt;p&gt;The user agent must associate an &lt;dfn&gt;undo transaction
-  history&lt;/dfn&gt; with each &lt;code&gt;HTMLDocument&lt;/code&gt; object.&lt;/p&gt;
+  history&lt;/dfn&gt; with each &lt;code&gt;Document&lt;/code&gt; object.&lt;/p&gt;
 
   &lt;p&gt;The &lt;span&gt;undo transaction history&lt;/span&gt; is a list of
   entries. The entries are of two types: &lt;span&gt;DOM changes&lt;/span&gt; and
@@ -78590,7 +78633,7 @@
    node.&lt;/li&gt;
 
    &lt;li&gt;Changes to the DOM hierarchy of nodes that are descendants of
-   the &lt;code&gt;HTMLDocument&lt;/code&gt; object (&lt;code
+   the &lt;code&gt;Document&lt;/code&gt; object (&lt;code
    title=&quot;dom-Node-parentNode&quot;&gt;parentNode&lt;/code&gt;, &lt;code
    title=&quot;dom-Node-childNodes&quot;&gt;childNodes&lt;/code&gt;).&lt;/li&gt;
 
@@ -78705,8 +78748,8 @@
   &lt;p&gt;The &lt;dfn title=&quot;dom-undoManager&quot;&gt;&lt;code&gt;undoManager&lt;/code&gt;&lt;/dfn&gt;
   attribute of the &lt;code&gt;Window&lt;/code&gt; interface must return the
   object implementing the &lt;code&gt;UndoManager&lt;/code&gt; interface for that
-  &lt;code&gt;Window&lt;/code&gt; object's associated
-  &lt;code&gt;HTMLDocument&lt;/code&gt; object.&lt;/p&gt;
+  &lt;code&gt;Window&lt;/code&gt; object's associated &lt;code&gt;Document&lt;/code&gt;
+  object.&lt;/p&gt;
 
   &lt;p&gt;&lt;code&gt;UndoManager&lt;/code&gt; objects represent their document's
   &lt;span&gt;undo transaction history&lt;/span&gt;. Only &lt;span&gt;undo object&lt;/span&gt;
@@ -83806,8 +83849,8 @@
   title=&quot;dom-Storage-setItem&quot;&gt;setItem()&lt;/code&gt;, &lt;code
   title=&quot;dom-Storage-removeItem&quot;&gt;removeItem()&lt;/code&gt;, and &lt;code
   title=&quot;dom-Storage-clear&quot;&gt;clear()&lt;/code&gt; methods are invoked, events
-  are fired on other &lt;code&gt;HTMLDocument&lt;/code&gt; objects that can access
-  the newly stored or removed data, as defined in the sections on the
+  are fired on other &lt;code&gt;Document&lt;/code&gt; objects that can access the
+  newly stored or removed data, as defined in the sections on the
   &lt;code title=&quot;dom-sessionStorage&quot;&gt;sessionStorage&lt;/code&gt; and &lt;code
   title=&quot;dom-localStorage&quot;&gt;localStorage&lt;/code&gt; attributes.&lt;/p&gt; &lt;!--
   not normative, see the sections below for the normative statement
@@ -96197,7 +96240,7 @@
   not &lt;span&gt;being rendered&lt;/span&gt;. The presence of the &lt;code
   title=&quot;attr-hidden&quot;&gt;hidden&lt;/code&gt; attribute normally means the
   element is not &lt;span&gt;being rendered&lt;/span&gt;, though this might be
-  overriden by the style sheets.&lt;/p&gt;
+  overridden by the style sheets.&lt;/p&gt;
 
   &lt;/div&gt;
 


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012575.html">[html5] r5708 - [giow] (2) &lt;canvas&gt; drawImage() and pattern	filtering issue Fixing http://www.w3 [...]
</A></li>
	<LI>Next message: <A HREF="012577.html">[html5] r5710 - [e] (0) make 'cookie-free' an internal term so that	XHR doesn't have to refer to [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12576">[ date ]</a>
              <a href="thread.html#12576">[ thread ]</a>
              <a href="subject.html#12576">[ subject ]</a>
              <a href="author.html#12576">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
