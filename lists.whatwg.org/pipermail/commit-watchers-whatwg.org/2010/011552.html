<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r4685 - [e] (0) Add an example of forcing fallback from	&lt;source&gt;.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r4685%20-%20%5Be%5D%20%280%29%20Add%20an%20example%20of%20forcing%20fallback%20from%0A%09%3Csource%3E.&In-Reply-To=%3C20100210022745.367111C84004%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011551.html">
   <LINK REL="Next"  HREF="011553.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r4685 - [e] (0) Add an example of forcing fallback from	&lt;source&gt;.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r4685%20-%20%5Be%5D%20%280%29%20Add%20an%20example%20of%20forcing%20fallback%20from%0A%09%3Csource%3E.&In-Reply-To=%3C20100210022745.367111C84004%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r4685 - [e] (0) Add an example of forcing fallback from	&lt;source&gt;.">whatwg at whatwg.org
       </A><BR>
    <I>Tue Feb  9 18:27:45 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="011551.html">[html5] r4684 - [giow] (0) Prevent 'timeupdate' from firing faster	than it is handled.
</A></li>
        <LI>Next message: <A HREF="011553.html">[html5] r4686 - [e] (0) Try to make the appcache event sequence	clearer.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11552">[ date ]</a>
              <a href="thread.html#11552">[ thread ]</a>
              <a href="subject.html#11552">[ subject ]</a>
              <a href="author.html#11552">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2010-02-09 18:27:42 -0800 (Tue, 09 Feb 2010)
New Revision: 4685

Modified:
   complete.html
   index
   source
Log:
[e] (0) Add an example of forcing fallback from &lt;source&gt;.

Modified: complete.html
===================================================================
--- complete.html	2010-02-10 02:14:17 UTC (rev 4684)
+++ complete.html	2010-02-10 02:27:42 UTC (rev 4685)
@@ -21749,8 +21749,32 @@
 
   &lt;/div&gt;
 
+  &lt;div class=example&gt;
 
+   &lt;p&gt;If the author isn't sure if the user agents will all be able to
+   render the media resources provided, the author can listen to the
+   &lt;code title=event-error&gt;error&lt;/code&gt; event on the last
+   &lt;code&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt; element and trigger fallback behaviour:&lt;/p&gt;
 
+   &lt;pre&gt;&lt;video controls autoplay&gt;
+ &lt;source src='video.mp4' type='video/mp4; codecs=&quot;avc1.42E01E, mp4a.40.2&quot;'&gt;
+ &lt;source src='video.ogv' type='video/ogg; codecs=&quot;theora, vorbis&quot;'
+         onerror=&quot;fallback(parentNode)&quot;&gt;
+ ...
+&lt;/video&gt;
+&lt;script&gt;
+ function fallback(video) {
+   // replace &lt;video&gt; with its contents
+   while (video.hasChildNodes())
+     video.parentNode.insertBefore(video.firstChild, video);
+   video.parentNode.removeChild(video);
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+
+
   &lt;h4 id=media-elements&gt;&lt;span class=secno&gt;4.8.9 &lt;/span&gt;Media elements&lt;/h4&gt;
 
   &lt;p&gt;&lt;dfn id=media-element title=&quot;media element&quot;&gt;Media elements&lt;/dfn&gt; implement the

Modified: index
===================================================================
--- index	2010-02-10 02:14:17 UTC (rev 4684)
+++ index	2010-02-10 02:27:42 UTC (rev 4685)
@@ -21648,8 +21648,32 @@
 
   &lt;/div&gt;
 
+  &lt;div class=example&gt;
 
+   &lt;p&gt;If the author isn't sure if the user agents will all be able to
+   render the media resources provided, the author can listen to the
+   &lt;code title=event-error&gt;error&lt;/code&gt; event on the last
+   &lt;code&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt; element and trigger fallback behaviour:&lt;/p&gt;
 
+   &lt;pre&gt;&lt;video controls autoplay&gt;
+ &lt;source src='video.mp4' type='video/mp4; codecs=&quot;avc1.42E01E, mp4a.40.2&quot;'&gt;
+ &lt;source src='video.ogv' type='video/ogg; codecs=&quot;theora, vorbis&quot;'
+         onerror=&quot;fallback(parentNode)&quot;&gt;
+ ...
+&lt;/video&gt;
+&lt;script&gt;
+ function fallback(video) {
+   // replace &lt;video&gt; with its contents
+   while (video.hasChildNodes())
+     video.parentNode.insertBefore(video.firstChild, video);
+   video.parentNode.removeChild(video);
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+
+
   &lt;h4 id=media-elements&gt;&lt;span class=secno&gt;4.8.9 &lt;/span&gt;Media elements&lt;/h4&gt;
 
   &lt;p&gt;&lt;dfn id=media-element title=&quot;media element&quot;&gt;Media elements&lt;/dfn&gt; implement the

Modified: source
===================================================================
--- source	2010-02-10 02:14:17 UTC (rev 4684)
+++ source	2010-02-10 02:27:42 UTC (rev 4685)
@@ -23279,8 +23279,32 @@
 
   &lt;/div&gt;
 
+  &lt;div class=&quot;example&quot;&gt;
 
+   &lt;p&gt;If the author isn't sure if the user agents will all be able to
+   render the media resources provided, the author can listen to the
+   &lt;code title=&quot;event-error&quot;&gt;error&lt;/code&gt; event on the last
+   &lt;code&gt;source&lt;/code&gt; element and trigger fallback behaviour:&lt;/p&gt;
 
+   &lt;pre&gt;&lt;video controls autoplay&gt;
+ &lt;source src='video.mp4' type='video/mp4; codecs=&quot;avc1.42E01E, mp4a.40.2&quot;'&gt;
+ &lt;source src='video.ogv' type='video/ogg; codecs=&quot;theora, vorbis&quot;'
+         onerror=&quot;fallback(parentNode)&quot;&gt;
+ ...
+&lt;/video&gt;
+&lt;script&gt;
+ function fallback(video) {
+   // replace &lt;video&gt; with its contents
+   while (video.hasChildNodes())
+     video.parentNode.insertBefore(video.firstChild, video);
+   video.parentNode.removeChild(video);
+ }
+&lt;/script&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+
+
   &lt;h4&gt;Media elements&lt;/h4&gt;
 
   &lt;p&gt;&lt;dfn title=&quot;media element&quot;&gt;Media elements&lt;/dfn&gt; implement the


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011551.html">[html5] r4684 - [giow] (0) Prevent 'timeupdate' from firing faster	than it is handled.
</A></li>
	<LI>Next message: <A HREF="011553.html">[html5] r4686 - [e] (0) Try to make the appcache event sequence	clearer.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11552">[ date ]</a>
              <a href="thread.html#11552">[ thread ]</a>
              <a href="subject.html#11552">[ subject ]</a>
              <a href="author.html#11552">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
