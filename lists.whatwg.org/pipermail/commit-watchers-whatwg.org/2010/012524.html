<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r5657 - [] (0) Some cleanup to make the drag-and-drop model	a bit saner. Final preparati [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5657%20-%20%5B%5D%20%280%29%20Some%20cleanup%20to%20make%20the%20drag-and-drop%20model%0A%09a%20bit%20saner.%20Final%20preparati%20%5B...%5D&In-Reply-To=%3C20101029232824.20C68805817A%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012523.html">
   <LINK REL="Next"  HREF="012525.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r5657 - [] (0) Some cleanup to make the drag-and-drop model	a bit saner. Final preparati [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5657%20-%20%5B%5D%20%280%29%20Some%20cleanup%20to%20make%20the%20drag-and-drop%20model%0A%09a%20bit%20saner.%20Final%20preparati%20%5B...%5D&In-Reply-To=%3C20101029232824.20C68805817A%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r5657 - [] (0) Some cleanup to make the drag-and-drop model	a bit saner. Final preparati [...]">whatwg at whatwg.org
       </A><BR>
    <I>Fri Oct 29 16:28:24 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="012523.html">[html5] r5656 - [e] (0) xref problems
</A></li>
        <LI>Next message: <A HREF="012525.html">[html5] r5658 - [giow] (0) dropzone 5/5, part 1: skeleton of	dropzone='' section; update DND pro [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12524">[ date ]</a>
              <a href="thread.html#12524">[ thread ]</a>
              <a href="subject.html#12524">[ subject ]</a>
              <a href="author.html#12524">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2010-10-29 16:28:22 -0700 (Fri, 29 Oct 2010)
New Revision: 5657

Modified:
   complete.html
   index
   source
Log:
[] (0) Some cleanup to make the drag-and-drop model a bit saner. Final preparations for dropzone=''.

Modified: complete.html
===================================================================
--- complete.html	2010-10-29 23:14:39 UTC (rev 5656)
+++ complete.html	2010-10-29 23:28:22 UTC (rev 5657)
@@ -67323,11 +67323,15 @@
          field (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;
          element whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt;
          attribute is in the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
-         &lt;a href=#editable&gt;editable&lt;/a&gt; element&lt;/dt&gt;
+         &lt;a href=#editable&gt;editable&lt;/a&gt; element, and the &lt;a href=#drag-data-store-item-list&gt;drag data store
+         item list&lt;/a&gt; has an item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item
+         type string&lt;/a&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the
+         drag data item kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
          &lt;dd&gt;&lt;p&gt;Set the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; to the
          &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; anyway.&lt;/dd&gt;
 
+&lt;!-- dropzone --&gt;
 
          &lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is
          &lt;a href=#the-body-element&gt;the body element&lt;/a&gt;&lt;/dt&gt;
@@ -67380,12 +67384,17 @@
        (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
        whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
        the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
-       &lt;a href=#editable&gt;editable&lt;/a&gt; element&lt;/dt&gt;
+       &lt;a href=#editable&gt;editable&lt;/a&gt; element, and the &lt;a href=#drag-data-store-item-list&gt;drag data store
+       item list&lt;/a&gt; has an item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item type
+       string&lt;/a&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the drag data
+       item kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
        &lt;dd&gt;&lt;p&gt;Set the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to either
        &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;,
        as appropriate given the platform conventions.&lt;/dd&gt;
 
+&lt;!--dropzone--&gt;
+
        &lt;dt&gt;Otherwise&lt;/dt&gt;
 
        &lt;dd&gt;&lt;p&gt;Reset the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;.&lt;/dd&gt;
@@ -67412,10 +67421,23 @@
         &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
        &lt;tr&gt;&lt;td colspan=2&gt;Any other case&lt;/td&gt;
         &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
-       &lt;/table&gt;&lt;p&gt;Then, regardless of whether the &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; event was canceled or
-      not, update the drag feedback (e.g. the mouse cursor) to match
-      the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt;, as follows:&lt;/p&gt;
+       &lt;/table&gt;&lt;/li&gt;
 
+     &lt;li&gt;
+
+      &lt;p&gt;Otherwise, if the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is not
+      a DOM element, use platform-specific mechanisms to determine
+      what drag operation is being performed (none, copy, link, or
+      move), and set the &lt;i&gt;&lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt;&lt;/i&gt;
+      accordingly.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;Update the drag feedback (e.g. the mouse cursor) to match the
+      &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt;, as follows:&lt;/p&gt;
+
       &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Drag operation&lt;/th&gt;
          &lt;th&gt;Feedback&lt;/th&gt;
         &lt;/thead&gt;&lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
@@ -67428,16 +67450,6 @@
         &lt;td&gt;No operation allowed, dropping here will cancel the drag-and-drop operation.&lt;/td&gt;
        &lt;/table&gt;&lt;/li&gt;
 
-     &lt;li&gt;
-
-      &lt;p&gt;Otherwise, if the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is not
-      a DOM element, use platform-specific mechanisms to determine
-      what drag operation is being performed (none, copy, link, or
-      move), and set the &lt;i&gt;&lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt;&lt;/i&gt;
-      accordingly.&lt;/p&gt;
-
-     &lt;/li&gt;
-
     &lt;/ol&gt;&lt;/li&gt;
 
    &lt;li&gt;
@@ -67482,20 +67494,23 @@
         default action, which depends on the exact target as
         follows:&lt;/p&gt;
 
-        &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a text field
-         (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
-         whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
-         the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
-         &lt;a href=#editable&gt;editable&lt;/a&gt; element&lt;/dt&gt;
+        &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a text
+         field (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;
+         element whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt;
+         attribute is in the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
+         &lt;a href=#editable&gt;editable&lt;/a&gt; element, and the &lt;a href=#drag-data-store-item-list&gt;drag data store
+         item list&lt;/a&gt; has an item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item
+         type string&lt;/a&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the
+         drag data item kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
-         &lt;dd&gt;&lt;p&gt;If the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; has an
-         item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item type string&lt;/a&gt;
-         &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the drag data item
-         kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;, insert the actual data
-         of that item into the text field or &lt;a href=#editable&gt;editable&lt;/a&gt;
-         element in a manner consistent with platform-specific
-         conventions (e.g. inserting it at the current mouse cursor
-         position, or inserting it at the end of the field).&lt;/dd&gt;
+         &lt;dd&gt;&lt;p&gt;Insert the actual data of the first item in the
+         &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; to have &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data item type string&quot;&gt;a drag data item type
+         string&lt;/a&gt; of &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;a drag data item kind&lt;/a&gt;
+         that is &lt;i&gt;Plain Unicode string&lt;/i&gt; into the text field or
+         &lt;a href=#editable&gt;editable&lt;/a&gt; element in a manner consistent with
+         platform-specific conventions (e.g. inserting it at the
+         current mouse cursor position, or inserting it at the end of
+         the field).&lt;/dd&gt;
 
          &lt;dt&gt;Otherwise&lt;/dt&gt;
 
@@ -67647,11 +67662,6 @@
 
   &lt;h4 id=the-draggable-attribute&gt;&lt;span class=secno&gt;8.7.7 &lt;/span&gt;The &lt;dfn title=attr-draggable&gt;&lt;code&gt;draggable&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
 
-&lt;!--
-XXX DND WIP plan:
- 5. add dropzone=&quot;...&quot; feature
---&gt;
-
   &lt;p&gt;All &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; may have the &lt;code title=attr-draggable&gt;&lt;a href=#the-draggable-attribute&gt;draggable&lt;/a&gt;&lt;/code&gt; content attribute set. The
   &lt;code title=attr-draggable&gt;&lt;a href=#the-draggable-attribute&gt;draggable&lt;/a&gt;&lt;/code&gt; attribute is an
   &lt;a href=#enumerated-attribute&gt;enumerated attribute&lt;/a&gt;. It has three states. The first
@@ -67710,6 +67720,12 @@
 
 
 &lt;!--
+XXX DND WIP plan:
+ 5. add dropzone=&quot;...&quot; feature
+--&gt;
+
+
+&lt;!--
   &lt;h4&gt;Copy and paste&lt;/h4&gt;
 
   &lt;p&gt;Copy-and-paste is a form of drag-and-drop: the &quot;copy&quot; part is

Modified: index
===================================================================
--- index	2010-10-29 23:14:39 UTC (rev 5656)
+++ index	2010-10-29 23:28:22 UTC (rev 5657)
@@ -67329,11 +67329,15 @@
          field (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;
          element whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt;
          attribute is in the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
-         &lt;a href=#editable&gt;editable&lt;/a&gt; element&lt;/dt&gt;
+         &lt;a href=#editable&gt;editable&lt;/a&gt; element, and the &lt;a href=#drag-data-store-item-list&gt;drag data store
+         item list&lt;/a&gt; has an item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item
+         type string&lt;/a&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the
+         drag data item kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
          &lt;dd&gt;&lt;p&gt;Set the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; to the
          &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; anyway.&lt;/dd&gt;
 
+&lt;!-- dropzone --&gt;
 
          &lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is
          &lt;a href=#the-body-element&gt;the body element&lt;/a&gt;&lt;/dt&gt;
@@ -67386,12 +67390,17 @@
        (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
        whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
        the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
-       &lt;a href=#editable&gt;editable&lt;/a&gt; element&lt;/dt&gt;
+       &lt;a href=#editable&gt;editable&lt;/a&gt; element, and the &lt;a href=#drag-data-store-item-list&gt;drag data store
+       item list&lt;/a&gt; has an item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item type
+       string&lt;/a&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the drag data
+       item kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
        &lt;dd&gt;&lt;p&gt;Set the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to either
        &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;,
        as appropriate given the platform conventions.&lt;/dd&gt;
 
+&lt;!--dropzone--&gt;
+
        &lt;dt&gt;Otherwise&lt;/dt&gt;
 
        &lt;dd&gt;&lt;p&gt;Reset the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;.&lt;/dd&gt;
@@ -67418,10 +67427,23 @@
         &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
        &lt;tr&gt;&lt;td colspan=2&gt;Any other case&lt;/td&gt;
         &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
-       &lt;/table&gt;&lt;p&gt;Then, regardless of whether the &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; event was canceled or
-      not, update the drag feedback (e.g. the mouse cursor) to match
-      the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt;, as follows:&lt;/p&gt;
+       &lt;/table&gt;&lt;/li&gt;
 
+     &lt;li&gt;
+
+      &lt;p&gt;Otherwise, if the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is not
+      a DOM element, use platform-specific mechanisms to determine
+      what drag operation is being performed (none, copy, link, or
+      move), and set the &lt;i&gt;&lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt;&lt;/i&gt;
+      accordingly.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;Update the drag feedback (e.g. the mouse cursor) to match the
+      &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt;, as follows:&lt;/p&gt;
+
       &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Drag operation&lt;/th&gt;
          &lt;th&gt;Feedback&lt;/th&gt;
         &lt;/thead&gt;&lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
@@ -67434,16 +67456,6 @@
         &lt;td&gt;No operation allowed, dropping here will cancel the drag-and-drop operation.&lt;/td&gt;
        &lt;/table&gt;&lt;/li&gt;
 
-     &lt;li&gt;
-
-      &lt;p&gt;Otherwise, if the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is not
-      a DOM element, use platform-specific mechanisms to determine
-      what drag operation is being performed (none, copy, link, or
-      move), and set the &lt;i&gt;&lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt;&lt;/i&gt;
-      accordingly.&lt;/p&gt;
-
-     &lt;/li&gt;
-
     &lt;/ol&gt;&lt;/li&gt;
 
    &lt;li&gt;
@@ -67488,20 +67500,23 @@
         default action, which depends on the exact target as
         follows:&lt;/p&gt;
 
-        &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a text field
-         (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
-         whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
-         the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
-         &lt;a href=#editable&gt;editable&lt;/a&gt; element&lt;/dt&gt;
+        &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a text
+         field (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;
+         element whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt;
+         attribute is in the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
+         &lt;a href=#editable&gt;editable&lt;/a&gt; element, and the &lt;a href=#drag-data-store-item-list&gt;drag data store
+         item list&lt;/a&gt; has an item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item
+         type string&lt;/a&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the
+         drag data item kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
-         &lt;dd&gt;&lt;p&gt;If the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; has an
-         item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item type string&lt;/a&gt;
-         &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the drag data item
-         kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;, insert the actual data
-         of that item into the text field or &lt;a href=#editable&gt;editable&lt;/a&gt;
-         element in a manner consistent with platform-specific
-         conventions (e.g. inserting it at the current mouse cursor
-         position, or inserting it at the end of the field).&lt;/dd&gt;
+         &lt;dd&gt;&lt;p&gt;Insert the actual data of the first item in the
+         &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; to have &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data item type string&quot;&gt;a drag data item type
+         string&lt;/a&gt; of &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;a drag data item kind&lt;/a&gt;
+         that is &lt;i&gt;Plain Unicode string&lt;/i&gt; into the text field or
+         &lt;a href=#editable&gt;editable&lt;/a&gt; element in a manner consistent with
+         platform-specific conventions (e.g. inserting it at the
+         current mouse cursor position, or inserting it at the end of
+         the field).&lt;/dd&gt;
 
          &lt;dt&gt;Otherwise&lt;/dt&gt;
 
@@ -67653,11 +67668,6 @@
 
   &lt;h4 id=the-draggable-attribute&gt;&lt;span class=secno&gt;8.7.7 &lt;/span&gt;The &lt;dfn title=attr-draggable&gt;&lt;code&gt;draggable&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
 
-&lt;!--
-XXX DND WIP plan:
- 5. add dropzone=&quot;...&quot; feature
---&gt;
-
   &lt;p&gt;All &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; may have the &lt;code title=attr-draggable&gt;&lt;a href=#the-draggable-attribute&gt;draggable&lt;/a&gt;&lt;/code&gt; content attribute set. The
   &lt;code title=attr-draggable&gt;&lt;a href=#the-draggable-attribute&gt;draggable&lt;/a&gt;&lt;/code&gt; attribute is an
   &lt;a href=#enumerated-attribute&gt;enumerated attribute&lt;/a&gt;. It has three states. The first
@@ -67716,6 +67726,12 @@
 
 
 &lt;!--
+XXX DND WIP plan:
+ 5. add dropzone=&quot;...&quot; feature
+--&gt;
+
+
+&lt;!--
   &lt;h4&gt;Copy and paste&lt;/h4&gt;
 
   &lt;p&gt;Copy-and-paste is a form of drag-and-drop: the &quot;copy&quot; part is

Modified: source
===================================================================
--- source	2010-10-29 23:14:39 UTC (rev 5656)
+++ source	2010-10-29 23:28:22 UTC (rev 5657)
@@ -76776,11 +76776,15 @@
          element whose &lt;code title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt;
          attribute is in the &lt;span
          title=&quot;attr-input-type-text&quot;&gt;Text&lt;/span&gt; state) or an
-         &lt;span&gt;editable&lt;/span&gt; element&lt;/dt&gt;
+         &lt;span&gt;editable&lt;/span&gt; element, and the &lt;span&gt;drag data store
+         item list&lt;/span&gt; has an item with &lt;span&gt;the drag data item
+         type string&lt;/span&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;span&gt;the
+         drag data item kind&lt;/span&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
          &lt;dd&gt;&lt;p&gt;Set the &lt;span&gt;current target element&lt;/span&gt; to the
          &lt;span&gt;immediate user selection&lt;/span&gt; anyway.&lt;/p&gt;&lt;/dd&gt;
 
+&lt;!-- dropzone --&gt;
 
          &lt;dt&gt;If the &lt;span&gt;current target element&lt;/span&gt; is
          &lt;span&gt;the body element&lt;/span&gt;&lt;/dt&gt;
@@ -76842,12 +76846,17 @@
        (e.g. &lt;code&gt;textarea&lt;/code&gt;, or an &lt;code&gt;input&lt;/code&gt; element
        whose &lt;code title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute is in
        the &lt;span title=&quot;attr-input-type-text&quot;&gt;Text&lt;/span&gt; state) or an
-       &lt;span&gt;editable&lt;/span&gt; element&lt;/dt&gt;
+       &lt;span&gt;editable&lt;/span&gt; element, and the &lt;span&gt;drag data store
+       item list&lt;/span&gt; has an item with &lt;span&gt;the drag data item type
+       string&lt;/span&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;span&gt;the drag data
+       item kind&lt;/span&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
        &lt;dd&gt;&lt;p&gt;Set the &lt;span&gt;current drag operation&lt;/span&gt; to either
        &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;,
        as appropriate given the platform conventions.&lt;/p&gt;&lt;/dd&gt;
 
+&lt;!--dropzone--&gt;
+
        &lt;dt&gt;Otherwise&lt;/dt&gt;
 
        &lt;dd&gt;&lt;p&gt;Reset the &lt;span&gt;current drag operation&lt;/span&gt; to &quot;&lt;code
@@ -76895,11 +76904,23 @@
        &lt;/tr&gt;
       &lt;/table&gt;
 
-      &lt;p&gt;Then, regardless of whether the &lt;code
-      title=&quot;event-dragover&quot;&gt;dragover&lt;/code&gt; event was canceled or
-      not, update the drag feedback (e.g. the mouse cursor) to match
-      the &lt;span&gt;current drag operation&lt;/span&gt;, as follows:&lt;/p&gt;
+     &lt;/li&gt;
 
+     &lt;li&gt;
+
+      &lt;p&gt;Otherwise, if the &lt;span&gt;current target element&lt;/span&gt; is not
+      a DOM element, use platform-specific mechanisms to determine
+      what drag operation is being performed (none, copy, link, or
+      move), and set the &lt;i&gt;current drag operation&lt;/i&gt;
+      accordingly.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;Update the drag feedback (e.g. the mouse cursor) to match the
+      &lt;span&gt;current drag operation&lt;/span&gt;, as follows:&lt;/p&gt;
+
       &lt;table&gt;
        &lt;thead&gt;
         &lt;tr&gt;
@@ -76927,16 +76948,6 @@
 
      &lt;/li&gt;
 
-     &lt;li&gt;
-
-      &lt;p&gt;Otherwise, if the &lt;span&gt;current target element&lt;/span&gt; is not
-      a DOM element, use platform-specific mechanisms to determine
-      what drag operation is being performed (none, copy, link, or
-      move), and set the &lt;i&gt;current drag operation&lt;/i&gt;
-      accordingly.&lt;/p&gt;
-
-     &lt;/li&gt;
-
     &lt;/ol&gt;
 
    &lt;/li&gt;
@@ -76998,20 +77009,26 @@
 
         &lt;dl class=&quot;switch&quot;&gt;
 
-         &lt;dt&gt;If the &lt;span&gt;current target element&lt;/span&gt; is a text field
-         (e.g. &lt;code&gt;textarea&lt;/code&gt;, or an &lt;code&gt;input&lt;/code&gt; element
-         whose &lt;code title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute is in
-         the &lt;span title=&quot;attr-input-type-text&quot;&gt;Text&lt;/span&gt; state) or an
-         &lt;span&gt;editable&lt;/span&gt; element&lt;/dt&gt;
+         &lt;dt&gt;If the &lt;span&gt;current target element&lt;/span&gt; is a text
+         field (e.g. &lt;code&gt;textarea&lt;/code&gt;, or an &lt;code&gt;input&lt;/code&gt;
+         element whose &lt;code title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt;
+         attribute is in the &lt;span
+         title=&quot;attr-input-type-text&quot;&gt;Text&lt;/span&gt; state) or an
+         &lt;span&gt;editable&lt;/span&gt; element, and the &lt;span&gt;drag data store
+         item list&lt;/span&gt; has an item with &lt;span&gt;the drag data item
+         type string&lt;/span&gt; &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;span&gt;the
+         drag data item kind&lt;/span&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
 
-         &lt;dd&gt;&lt;p&gt;If the &lt;span&gt;drag data store item list&lt;/span&gt; has an
-         item with &lt;span&gt;the drag data item type string&lt;/span&gt;
-         &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;span&gt;the drag data item
-         kind&lt;/span&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;, insert the actual data
-         of that item into the text field or &lt;span&gt;editable&lt;/span&gt;
-         element in a manner consistent with platform-specific
-         conventions (e.g. inserting it at the current mouse cursor
-         position, or inserting it at the end of the field).&lt;/p&gt;&lt;/dd&gt;
+         &lt;dd&gt;&lt;p&gt;Insert the actual data of the first item in the
+         &lt;span&gt;drag data store item list&lt;/span&gt; to have &lt;span
+         title=&quot;the drag data item type string&quot;&gt;a drag data item type
+         string&lt;/span&gt; of &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;span
+         title=&quot;the drag data item kind&quot;&gt;a drag data item kind&lt;/span&gt;
+         that is &lt;i&gt;Plain Unicode string&lt;/i&gt; into the text field or
+         &lt;span&gt;editable&lt;/span&gt; element in a manner consistent with
+         platform-specific conventions (e.g. inserting it at the
+         current mouse cursor position, or inserting it at the end of
+         the field).&lt;/p&gt;&lt;/dd&gt;
 
          &lt;dt&gt;Otherwise&lt;/dt&gt;
 
@@ -77210,11 +77227,6 @@
 
   &lt;h4&gt;The &lt;dfn title=&quot;attr-draggable&quot;&gt;&lt;code&gt;draggable&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
 
-&lt;!--
-XXX DND WIP plan:
- 5. add dropzone=&quot;...&quot; feature
---&gt;
-
   &lt;p&gt;All &lt;span&gt;HTML elements&lt;/span&gt; may have the &lt;code
   title=&quot;attr-draggable&quot;&gt;draggable&lt;/code&gt; content attribute set. The
   &lt;code title=&quot;attr-draggable&quot;&gt;draggable&lt;/code&gt; attribute is an
@@ -77289,6 +77301,12 @@
 
 
 &lt;!--
+XXX DND WIP plan:
+ 5. add dropzone=&quot;...&quot; feature
+--&gt;
+
+
+&lt;!--
   &lt;h4&gt;Copy and paste&lt;/h4&gt;
 
   &lt;p&gt;Copy-and-paste is a form of drag-and-drop: the &quot;copy&quot; part is


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012523.html">[html5] r5656 - [e] (0) xref problems
</A></li>
	<LI>Next message: <A HREF="012525.html">[html5] r5658 - [giow] (0) dropzone 5/5, part 1: skeleton of	dropzone='' section; update DND pro [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12524">[ date ]</a>
              <a href="thread.html#12524">[ thread ]</a>
              <a href="subject.html#12524">[ subject ]</a>
              <a href="author.html#12524">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
