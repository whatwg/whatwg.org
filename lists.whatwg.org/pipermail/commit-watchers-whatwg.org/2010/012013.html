<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r5143 - [giow] (0) Captions - Stage 20.5: TimedTrackCue	constructor and some fallout fro [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5143%20-%20%5Bgiow%5D%20%280%29%20Captions%20-%20Stage%2020.5%3A%20TimedTrackCue%0A%09constructor%20and%20some%20fallout%20fro%20%5B...%5D&In-Reply-To=%3C20100708212741.92A421C8C003%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012012.html">
   <LINK REL="Next"  HREF="012014.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r5143 - [giow] (0) Captions - Stage 20.5: TimedTrackCue	constructor and some fallout fro [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5143%20-%20%5Bgiow%5D%20%280%29%20Captions%20-%20Stage%2020.5%3A%20TimedTrackCue%0A%09constructor%20and%20some%20fallout%20fro%20%5B...%5D&In-Reply-To=%3C20100708212741.92A421C8C003%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r5143 - [giow] (0) Captions - Stage 20.5: TimedTrackCue	constructor and some fallout fro [...]">whatwg at whatwg.org
       </A><BR>
    <I>Thu Jul  8 14:27:40 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="012012.html">[html5] r5142 - [giow] (0) Captions - Stage 20.5: more wip for API	definitions.
</A></li>
        <LI>Next message: <A HREF="012014.html">[html5] r5144 - [giow] (0) Captions - Stage 20.6: TimedTrackCue	attributes, first pass.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12013">[ date ]</a>
              <a href="thread.html#12013">[ thread ]</a>
              <a href="subject.html#12013">[ subject ]</a>
              <a href="author.html#12013">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2010-07-08 14:27:39 -0700 (Thu, 08 Jul 2010)
New Revision: 5143

Modified:
   complete.html
   index
   source
Log:
[giow] (0) Captions - Stage 20.5: TimedTrackCue constructor and some fallout from that.

Modified: complete.html
===================================================================
--- complete.html	2010-07-08 19:56:02 UTC (rev 5142)
+++ complete.html	2010-07-08 21:27:39 UTC (rev 5143)
@@ -26134,9 +26134,9 @@
    &lt;dd&gt;
 
     &lt;p&gt;A list of &lt;a href=#timed-track-cue title=&quot;timed track cue&quot;&gt;timed track
-    cues&lt;/a&gt;, along with rules for their rendering (e.g., for
-    &lt;a href=#websrt&gt;WebSRT&lt;/a&gt;, the &lt;a href=#rules-for-updating-the-display-of-websrt-timed-tracks&gt;rules for updating the display of
-    WebSRT timed tracks&lt;/a&gt;).&lt;/p&gt;
+    cues&lt;/a&gt;, along with &lt;dfn id=rules-for-updating-the-timed-track-rendering&gt;rules for updating the timed track
+    rendering&lt;/dfn&gt; (e.g., for &lt;a href=#websrt&gt;WebSRT&lt;/a&gt;, the &lt;a href=#rules-for-updating-the-display-of-websrt-timed-tracks&gt;rules
+    for updating the display of WebSRT timed tracks&lt;/a&gt;).&lt;/p&gt;
 
     &lt;p&gt;The &lt;a href=#timed-track-list-of-cues title=&quot;timed track list of cues&quot;&gt;list of cues of a
     timed track&lt;/a&gt; can change dynamically, either because the
@@ -26384,6 +26384,10 @@
    preferences and the requirements of the relevant specification for
    the data.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Leave the &lt;a href=#timed-track-list-of-cues&gt;timed track list of cues&lt;/a&gt; empty, and
+   associate with it the &lt;a href=#rules-for-updating-the-timed-track-rendering&gt;rules for updating the timed track
+   rendering&lt;/a&gt; appropriate for the format in question.&lt;/p&gt;
+
    &lt;li&gt;&lt;p&gt;Add the new &lt;a href=#timed-track&gt;timed track&lt;/a&gt; to the &lt;a href=#media-element&gt;media
    element&lt;/a&gt;'s &lt;a href=#list-of-timed-tracks&gt;list of timed tracks&lt;/a&gt;.&lt;/li&gt;
 
@@ -26439,7 +26443,11 @@
   the algorithm below.&lt;/p&gt;
 
   &lt;p&gt;The &lt;a href=#timed-track-list-of-cues&gt;timed track list of cues&lt;/a&gt; is initially empty. It
-  is dynamically modified when the referenced file is parsed.&lt;/p&gt;
+  is dynamically modified when the referenced file is parsed.
+  Associated with the list are the &lt;a href=#rules-for-updating-the-timed-track-rendering&gt;rules for updating the timed
+  track rendering&lt;/a&gt; appropriate for the format in question; for
+  &lt;a href=#websrt&gt;WebSRT&lt;/a&gt;, this is the &lt;a href=#rules-for-updating-the-display-of-websrt-timed-tracks&gt;rules for updating the
+  display of WebSRT timed tracks&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-track-element&gt;track&lt;/a&gt;&lt;/code&gt; element's parent element changes and
   the new parent is a &lt;a href=#media-element&gt;media element&lt;/a&gt;, then the user agent
@@ -26881,8 +26889,9 @@
     the &lt;a href=#timed-track-disabled&gt;timed track disabled&lt;/a&gt; mode.&lt;/p&gt;
 
     &lt;p&gt;If the &lt;a href=#timed-track-mode&gt;timed track mode&lt;/a&gt; was previously the
-    &lt;a href=#timed-track-showing&gt;timed track showing&lt;/a&gt; mode, then &lt;a href=#update-the-timed-track-rendering&gt;update the timed
-    track rendering&lt;/a&gt; of the &lt;a href=#media-element&gt;media element&lt;/a&gt;.&lt;/p&gt;
+    &lt;a href=#timed-track-showing&gt;timed track showing&lt;/a&gt; mode, then apply the rules for
+    updating the timed track rendering of the &lt;a href=#media-element&gt;media
+    element&lt;/a&gt; appropriate for the &lt;a href=#timed-track&gt;timed track&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -26895,8 +26904,9 @@
     the &lt;a href=#timed-track-hidden&gt;timed track hidden&lt;/a&gt; mode.&lt;/p&gt;
 
     &lt;p&gt;If the &lt;a href=#timed-track-mode&gt;timed track mode&lt;/a&gt; was previously the
-    &lt;a href=#timed-track-showing&gt;timed track showing&lt;/a&gt; mode, then &lt;a href=#update-the-timed-track-rendering&gt;update the timed
-    track rendering&lt;/a&gt; of the &lt;a href=#media-element&gt;media element&lt;/a&gt;.&lt;/p&gt;
+    &lt;a href=#timed-track-showing&gt;timed track showing&lt;/a&gt; mode, then apply the rules for
+    updating the timed track rendering of the &lt;a href=#media-element&gt;media
+    element&lt;/a&gt; appropriate for the &lt;a href=#timed-track&gt;timed track&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -26908,8 +26918,9 @@
     track&lt;/a&gt; that the &lt;code&gt;&lt;a href=#timedtrack&gt;TimedTrack&lt;/a&gt;&lt;/code&gt; object represents to
     the &lt;a href=#timed-track-showing&gt;timed track showing&lt;/a&gt; mode.&lt;/p&gt;
 
-    &lt;p&gt;&lt;a href=#update-the-timed-track-rendering&gt;Update the timed track rendering&lt;/a&gt; of the
-    &lt;a href=#media-element&gt;media element&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Apply the rules for updating the timed track rendering of the
+    &lt;a href=#media-element&gt;media element&lt;/a&gt; appropriate for the &lt;a href=#timed-track&gt;timed
+    track&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -27001,10 +27012,10 @@
     &lt;a href=#timed-track-readiness-state&gt;timed track readiness state&lt;/a&gt; to the &lt;a href=#timed-track-loaded&gt;timed track
     loaded&lt;/a&gt; state, its &lt;a href=#timed-track-mode&gt;timed track mode&lt;/a&gt; to the
     &lt;a href=#timed-track-hidden&gt;timed track hidden&lt;/a&gt; mode, and its &lt;a href=#timed-track-list-of-cues&gt;timed track
-    list of cues&lt;/a&gt; to an empty list, with the rules for its
-    interpretation being the &lt;a href=#websrt-cue-text-parsing-rules&gt;WebSRT cue text parsing
-    rules&lt;/a&gt;, the &lt;a href=#websrt-cue-text-rendering-rules&gt;WebSRT cue text rendering rules&lt;/a&gt;,
-    and the &lt;a href=#websrt-cue-text-dom-construction-rules&gt;WebSRT cue text DOM construction rules&lt;/a&gt;&lt;/p&gt;
+    list of cues&lt;/a&gt; to an empty list, associated with the
+    &lt;a href=#rules-for-updating-the-display-of-websrt-timed-tracks&gt;rules for updating the display of WebSRT timed tracks&lt;/a&gt;
+    as its &lt;a href=#rules-for-updating-the-timed-track-rendering&gt;rules for updating the timed track
+    rendering&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -27119,7 +27130,7 @@
 
   &lt;/div&gt;
 
-  &lt;hr&gt;&lt;pre class=idl&gt;[&lt;span title=dom-TimedTrackCue&gt;Constructor&lt;/span&gt;(in DOMString id, in float startTime, in float endTime, in DOMString text, in optional DOMString settings, in optional DOMString voice, in optional boolean pauseOnExit)]
+  &lt;hr&gt;&lt;pre class=idl&gt;[&lt;a href=#dom-timedtrackcue title=dom-TimedTrackCue&gt;Constructor&lt;/a&gt;(in DOMString id, in float startTime, in float endTime, in DOMString text, in optional DOMString settings, in optional DOMString voice, in optional boolean pauseOnExit)]
 interface &lt;dfn id=timedtrackcue&gt;TimedTrackCue&lt;/dfn&gt; {
   readonly attribute &lt;a href=#timedtrack&gt;TimedTrack&lt;/a&gt; &lt;span title=dom-TimedTrackCue-track&gt;track&lt;/span&gt;;
   readonly attribute DOMString &lt;span title=dom-TimedTrackCue-id&gt;id&lt;/span&gt;;
@@ -27143,7 +27154,7 @@
   readonly attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-timedtrackcue-onexit title=handler-TimedTrackCue-onexit&gt;onexit&lt;/a&gt;;
 };&lt;/pre&gt;
 
-  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; = new &lt;code title=dom-TimedTrackCue&gt;TimedTrackCue&lt;/code&gt;( &lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;text&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;settings&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;voice&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;pauseOnExit&lt;/var&gt; ] ] ] )&lt;/dt&gt;
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; = new &lt;code title=dom-TimedTrackCue&gt;&lt;a href=#dom-timedtrackcue&gt;TimedTrackCue&lt;/a&gt;&lt;/code&gt;( &lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;text&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;settings&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;voice&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;pauseOnExit&lt;/var&gt; ] ] ] )&lt;/dt&gt;
    &lt;dd&gt;
     &lt;p&gt;Returns a new &lt;code&gt;&lt;a href=#timedtrackcue&gt;TimedTrackCue&lt;/a&gt;&lt;/code&gt; object, for use with the &lt;code title=dom-MutableTimedTrack-addCue&gt;&lt;a href=#dom-mutabletimedtrack-addcue&gt;addCue()&lt;/a&gt;&lt;/code&gt; method.&lt;/p&gt;
     &lt;p&gt;The &lt;var title=&quot;&quot;&gt;id&lt;/var&gt; argument sets the &lt;a href=#timed-track-cue-identifier&gt;timed track cue identifier&lt;/a&gt;.&lt;/p&gt;
@@ -27243,11 +27254,96 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p class=XXX&gt;...&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-timedtrackcue title=dom-TimedTrackCue&gt;&lt;code&gt;TimedTrackCue(&lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;text&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;settings&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;voice&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;pauseOnExit&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; constructor, when invoked,
+  must run the following steps:&lt;/p&gt;
 
-  &lt;/div&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Create a new &lt;a href=#timed-track-cue&gt;timed track cue&lt;/a&gt; that is not
+   associated with any &lt;a href=#timed-track&gt;timed track&lt;/a&gt;. Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; be that &lt;a href=#timed-track-cue&gt;timed track cue&lt;/a&gt;.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-identifier&gt;timed track cue
+   identifier&lt;/a&gt; be the value of the &lt;var title=&quot;&quot;&gt;id&lt;/var&gt;
+   argument.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-start-time&gt;timed track cue start
+   time&lt;/a&gt; be the value of the &lt;var title=&quot;&quot;&gt;startTime&lt;/var&gt;
+   argument, interpreted as a time in seconds.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-end-time&gt;timed track cue end
+   time&lt;/a&gt; be the value of the &lt;var title=&quot;&quot;&gt;endTime&lt;/var&gt;
+   argument, interpreted as a time in seconds.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-pause-on-exit-flag&gt;timed track cue
+   pause-on-exit flag&lt;/a&gt; be true if the &lt;var title=&quot;&quot;&gt;pauseOnExit&lt;/var&gt; is present and true. Otherwise, let it
+   be false.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-voice-identifier&gt;timed track cue voice
+   identifier&lt;/a&gt; be the value of the &lt;var title=&quot;&quot;&gt;voice&lt;/var&gt;
+   argument, if it is present, or the empty string otherwise.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-text&gt;timed track cue
+   text&lt;/a&gt; be the value of the &lt;var title=&quot;&quot;&gt;text&lt;/var&gt; argument,
+   and let the rules for its interpretation be the &lt;a href=#websrt-cue-text-parsing-rules&gt;WebSRT cue
+   text parsing rules&lt;/a&gt;, the &lt;a href=#websrt-cue-text-rendering-rules&gt;WebSRT cue text rendering
+   rules&lt;/a&gt;, and the &lt;a href=#websrt-cue-text-dom-construction-rules&gt;WebSRT cue text DOM construction
+   rules&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;!-- default settings --&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-writing-direction&gt;timed track cue
+   writing direction&lt;/a&gt; be &lt;a href=#timed-track-cue-horizontal-writing-direction title=&quot;timed track cue
+   horizontal writing direction&quot;&gt;horizontal&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-snap-to-lines-flag&gt;timed track cue
+   snap-to-lines flag&lt;/a&gt; be true.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-line-position&gt;timed track cue line
+   position&lt;/a&gt; be &lt;a href=#timed-track-cue-automatic-line-position title=&quot;timed track cue automatic line
+   position&quot;&gt;auto&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-text-position&gt;timed track cue
+   text position&lt;/a&gt; be 50.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-size&gt;timed track cue
+   size&lt;/a&gt; be 100.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-alignment&gt;timed track cue
+   alignment&lt;/a&gt; be &lt;a href=#timed-track-cue-middle-alignment title=&quot;timed track cue middle
+   alignment&quot;&gt;middle alignment&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string given by the
+   &lt;var title=&quot;&quot;&gt;settings&lt;/var&gt; argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
+   string.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#parse-the-websrt-settings&gt;Parse the WebSRT settings&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return the &lt;code&gt;&lt;a href=#timedtrackcue&gt;TimedTrackCue&lt;/a&gt;&lt;/code&gt; object representing
+   &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;!-- XXX
+
+  &lt;dfn title=&quot;dom-TimedTrackCue-track&quot;&gt;&lt;code&gt;track&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-id&quot;&gt;&lt;code&gt;id&lt;/code&gt;&lt;/dfn&gt;
+
+  &lt;dfn title=&quot;dom-TimedTrackCue-startTime&quot;&gt;&lt;code&gt;startTime&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-endTime&quot;&gt;&lt;code&gt;endTime&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-pauseOnExit&quot;&gt;&lt;code&gt;pauseOnExit&lt;/code&gt;&lt;/dfn&gt;
+
+  &lt;dfn title=&quot;dom-TimedTrackCue-direction&quot;&gt;&lt;code&gt;direction&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-snapToLines&quot;&gt;&lt;code&gt;snapToLines&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-linePosition&quot;&gt;&lt;code&gt;linePosition&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-textPosition&quot;&gt;&lt;code&gt;textPosition&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-size&quot;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-alignment&quot;&gt;&lt;code&gt;alignment&lt;/code&gt;&lt;/dfn&gt;
+
+  &lt;dfn title=&quot;dom-TimedTrackCue-voice&quot;&gt;&lt;code&gt;voice&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-getCueAsSource()&quot;&gt;&lt;code&gt;getCueAsSource()&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-getCueAsHTML()&quot;&gt;&lt;code&gt;getCueAsHTML()&lt;/code&gt;&lt;/dfn&gt;
+
+--&gt;&lt;/div&gt;
+
+
   &lt;div class=impl&gt;
 
   &lt;h6 id=cue-events&gt;&lt;span class=secno&gt;4.8.10.10.6 &lt;/span&gt;Event definitions&lt;/h6&gt;
@@ -27565,7 +27661,8 @@
    U+000A LINE FEED (LF) characters.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; be a new &lt;a href=#timed-track-cue&gt;timed track
-   cue&lt;/a&gt;.&lt;/li&gt;
+   cue&lt;/a&gt; associated with &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;'s &lt;a href=#timed-track&gt;timed
+   track&lt;/a&gt;.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-identifier&gt;timed track cue
    identifier&lt;/a&gt; be the empty string.&lt;/li&gt;
@@ -27755,6 +27852,15 @@
 
    &lt;li&gt;&lt;p&gt;&lt;a href=#skip-whitespace&gt;Skip whitespace&lt;/a&gt;.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;&lt;a href=#parse-the-websrt-settings&gt;Parse the WebSRT settings&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When the user agent is to &lt;dfn id=parse-the-websrt-settings&gt;parse the WebSRT settings&lt;/dfn&gt;
+  for a &lt;a href=#timed-track-cue&gt;timed track cue&lt;/a&gt; &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;,, the
+  user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be the same variables as those of the same
+   name in the algorithm that invoked these steps.&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;&lt;i&gt;Settings&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond
    the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; then abort these
    steps.&lt;/li&gt;
@@ -86156,8 +86262,6 @@
 
   &lt;p class=XXX&gt;The &lt;dfn id=rules-for-updating-the-display-of-websrt-timed-tracks&gt;rules for updating the display of WebSRT timed tracks&lt;/dfn&gt;
 
-  &lt;p class=XXX&gt;&lt;dfn id=update-the-timed-track-rendering&gt;update the timed track rendering&lt;/dfn&gt; of a &lt;a href=#media-element&gt;media element&lt;/a&gt;&lt;/p&gt;
-
   &lt;!--
 
    list of active WebSRT or WebSRT-compatible cues and their positions

Modified: index
===================================================================
--- index	2010-07-08 19:56:02 UTC (rev 5142)
+++ index	2010-07-08 21:27:39 UTC (rev 5143)
@@ -26061,9 +26061,9 @@
    &lt;dd&gt;
 
     &lt;p&gt;A list of &lt;a href=#timed-track-cue title=&quot;timed track cue&quot;&gt;timed track
-    cues&lt;/a&gt;, along with rules for their rendering (e.g., for
-    &lt;a href=#websrt&gt;WebSRT&lt;/a&gt;, the &lt;a href=#rules-for-updating-the-display-of-websrt-timed-tracks&gt;rules for updating the display of
-    WebSRT timed tracks&lt;/a&gt;).&lt;/p&gt;
+    cues&lt;/a&gt;, along with &lt;dfn id=rules-for-updating-the-timed-track-rendering&gt;rules for updating the timed track
+    rendering&lt;/dfn&gt; (e.g., for &lt;a href=#websrt&gt;WebSRT&lt;/a&gt;, the &lt;a href=#rules-for-updating-the-display-of-websrt-timed-tracks&gt;rules
+    for updating the display of WebSRT timed tracks&lt;/a&gt;).&lt;/p&gt;
 
     &lt;p&gt;The &lt;a href=#timed-track-list-of-cues title=&quot;timed track list of cues&quot;&gt;list of cues of a
     timed track&lt;/a&gt; can change dynamically, either because the
@@ -26311,6 +26311,10 @@
    preferences and the requirements of the relevant specification for
    the data.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Leave the &lt;a href=#timed-track-list-of-cues&gt;timed track list of cues&lt;/a&gt; empty, and
+   associate with it the &lt;a href=#rules-for-updating-the-timed-track-rendering&gt;rules for updating the timed track
+   rendering&lt;/a&gt; appropriate for the format in question.&lt;/p&gt;
+
    &lt;li&gt;&lt;p&gt;Add the new &lt;a href=#timed-track&gt;timed track&lt;/a&gt; to the &lt;a href=#media-element&gt;media
    element&lt;/a&gt;'s &lt;a href=#list-of-timed-tracks&gt;list of timed tracks&lt;/a&gt;.&lt;/li&gt;
 
@@ -26366,7 +26370,11 @@
   the algorithm below.&lt;/p&gt;
 
   &lt;p&gt;The &lt;a href=#timed-track-list-of-cues&gt;timed track list of cues&lt;/a&gt; is initially empty. It
-  is dynamically modified when the referenced file is parsed.&lt;/p&gt;
+  is dynamically modified when the referenced file is parsed.
+  Associated with the list are the &lt;a href=#rules-for-updating-the-timed-track-rendering&gt;rules for updating the timed
+  track rendering&lt;/a&gt; appropriate for the format in question; for
+  &lt;a href=#websrt&gt;WebSRT&lt;/a&gt;, this is the &lt;a href=#rules-for-updating-the-display-of-websrt-timed-tracks&gt;rules for updating the
+  display of WebSRT timed tracks&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-track-element&gt;track&lt;/a&gt;&lt;/code&gt; element's parent element changes and
   the new parent is a &lt;a href=#media-element&gt;media element&lt;/a&gt;, then the user agent
@@ -26808,8 +26816,9 @@
     the &lt;a href=#timed-track-disabled&gt;timed track disabled&lt;/a&gt; mode.&lt;/p&gt;
 
     &lt;p&gt;If the &lt;a href=#timed-track-mode&gt;timed track mode&lt;/a&gt; was previously the
-    &lt;a href=#timed-track-showing&gt;timed track showing&lt;/a&gt; mode, then &lt;a href=#update-the-timed-track-rendering&gt;update the timed
-    track rendering&lt;/a&gt; of the &lt;a href=#media-element&gt;media element&lt;/a&gt;.&lt;/p&gt;
+    &lt;a href=#timed-track-showing&gt;timed track showing&lt;/a&gt; mode, then apply the rules for
+    updating the timed track rendering of the &lt;a href=#media-element&gt;media
+    element&lt;/a&gt; appropriate for the &lt;a href=#timed-track&gt;timed track&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -26822,8 +26831,9 @@
     the &lt;a href=#timed-track-hidden&gt;timed track hidden&lt;/a&gt; mode.&lt;/p&gt;
 
     &lt;p&gt;If the &lt;a href=#timed-track-mode&gt;timed track mode&lt;/a&gt; was previously the
-    &lt;a href=#timed-track-showing&gt;timed track showing&lt;/a&gt; mode, then &lt;a href=#update-the-timed-track-rendering&gt;update the timed
-    track rendering&lt;/a&gt; of the &lt;a href=#media-element&gt;media element&lt;/a&gt;.&lt;/p&gt;
+    &lt;a href=#timed-track-showing&gt;timed track showing&lt;/a&gt; mode, then apply the rules for
+    updating the timed track rendering of the &lt;a href=#media-element&gt;media
+    element&lt;/a&gt; appropriate for the &lt;a href=#timed-track&gt;timed track&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -26835,8 +26845,9 @@
     track&lt;/a&gt; that the &lt;code&gt;&lt;a href=#timedtrack&gt;TimedTrack&lt;/a&gt;&lt;/code&gt; object represents to
     the &lt;a href=#timed-track-showing&gt;timed track showing&lt;/a&gt; mode.&lt;/p&gt;
 
-    &lt;p&gt;&lt;a href=#update-the-timed-track-rendering&gt;Update the timed track rendering&lt;/a&gt; of the
-    &lt;a href=#media-element&gt;media element&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Apply the rules for updating the timed track rendering of the
+    &lt;a href=#media-element&gt;media element&lt;/a&gt; appropriate for the &lt;a href=#timed-track&gt;timed
+    track&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -26928,10 +26939,10 @@
     &lt;a href=#timed-track-readiness-state&gt;timed track readiness state&lt;/a&gt; to the &lt;a href=#timed-track-loaded&gt;timed track
     loaded&lt;/a&gt; state, its &lt;a href=#timed-track-mode&gt;timed track mode&lt;/a&gt; to the
     &lt;a href=#timed-track-hidden&gt;timed track hidden&lt;/a&gt; mode, and its &lt;a href=#timed-track-list-of-cues&gt;timed track
-    list of cues&lt;/a&gt; to an empty list, with the rules for its
-    interpretation being the &lt;a href=#websrt-cue-text-parsing-rules&gt;WebSRT cue text parsing
-    rules&lt;/a&gt;, the &lt;a href=#websrt-cue-text-rendering-rules&gt;WebSRT cue text rendering rules&lt;/a&gt;,
-    and the &lt;a href=#websrt-cue-text-dom-construction-rules&gt;WebSRT cue text DOM construction rules&lt;/a&gt;&lt;/p&gt;
+    list of cues&lt;/a&gt; to an empty list, associated with the
+    &lt;a href=#rules-for-updating-the-display-of-websrt-timed-tracks&gt;rules for updating the display of WebSRT timed tracks&lt;/a&gt;
+    as its &lt;a href=#rules-for-updating-the-timed-track-rendering&gt;rules for updating the timed track
+    rendering&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -27046,7 +27057,7 @@
 
   &lt;/div&gt;
 
-  &lt;hr&gt;&lt;pre class=idl&gt;[&lt;span title=dom-TimedTrackCue&gt;Constructor&lt;/span&gt;(in DOMString id, in float startTime, in float endTime, in DOMString text, in optional DOMString settings, in optional DOMString voice, in optional boolean pauseOnExit)]
+  &lt;hr&gt;&lt;pre class=idl&gt;[&lt;a href=#dom-timedtrackcue title=dom-TimedTrackCue&gt;Constructor&lt;/a&gt;(in DOMString id, in float startTime, in float endTime, in DOMString text, in optional DOMString settings, in optional DOMString voice, in optional boolean pauseOnExit)]
 interface &lt;dfn id=timedtrackcue&gt;TimedTrackCue&lt;/dfn&gt; {
   readonly attribute &lt;a href=#timedtrack&gt;TimedTrack&lt;/a&gt; &lt;span title=dom-TimedTrackCue-track&gt;track&lt;/span&gt;;
   readonly attribute DOMString &lt;span title=dom-TimedTrackCue-id&gt;id&lt;/span&gt;;
@@ -27070,7 +27081,7 @@
   readonly attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;a href=#handler-timedtrackcue-onexit title=handler-TimedTrackCue-onexit&gt;onexit&lt;/a&gt;;
 };&lt;/pre&gt;
 
-  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; = new &lt;code title=dom-TimedTrackCue&gt;TimedTrackCue&lt;/code&gt;( &lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;text&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;settings&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;voice&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;pauseOnExit&lt;/var&gt; ] ] ] )&lt;/dt&gt;
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; = new &lt;code title=dom-TimedTrackCue&gt;&lt;a href=#dom-timedtrackcue&gt;TimedTrackCue&lt;/a&gt;&lt;/code&gt;( &lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;text&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;settings&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;voice&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;pauseOnExit&lt;/var&gt; ] ] ] )&lt;/dt&gt;
    &lt;dd&gt;
     &lt;p&gt;Returns a new &lt;code&gt;&lt;a href=#timedtrackcue&gt;TimedTrackCue&lt;/a&gt;&lt;/code&gt; object, for use with the &lt;code title=dom-MutableTimedTrack-addCue&gt;&lt;a href=#dom-mutabletimedtrack-addcue&gt;addCue()&lt;/a&gt;&lt;/code&gt; method.&lt;/p&gt;
     &lt;p&gt;The &lt;var title=&quot;&quot;&gt;id&lt;/var&gt; argument sets the &lt;a href=#timed-track-cue-identifier&gt;timed track cue identifier&lt;/a&gt;.&lt;/p&gt;
@@ -27170,11 +27181,96 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p class=XXX&gt;...&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-timedtrackcue title=dom-TimedTrackCue&gt;&lt;code&gt;TimedTrackCue(&lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;text&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;settings&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;voice&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;pauseOnExit&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; constructor, when invoked,
+  must run the following steps:&lt;/p&gt;
 
-  &lt;/div&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Create a new &lt;a href=#timed-track-cue&gt;timed track cue&lt;/a&gt; that is not
+   associated with any &lt;a href=#timed-track&gt;timed track&lt;/a&gt;. Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; be that &lt;a href=#timed-track-cue&gt;timed track cue&lt;/a&gt;.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-identifier&gt;timed track cue
+   identifier&lt;/a&gt; be the value of the &lt;var title=&quot;&quot;&gt;id&lt;/var&gt;
+   argument.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-start-time&gt;timed track cue start
+   time&lt;/a&gt; be the value of the &lt;var title=&quot;&quot;&gt;startTime&lt;/var&gt;
+   argument, interpreted as a time in seconds.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-end-time&gt;timed track cue end
+   time&lt;/a&gt; be the value of the &lt;var title=&quot;&quot;&gt;endTime&lt;/var&gt;
+   argument, interpreted as a time in seconds.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-pause-on-exit-flag&gt;timed track cue
+   pause-on-exit flag&lt;/a&gt; be true if the &lt;var title=&quot;&quot;&gt;pauseOnExit&lt;/var&gt; is present and true. Otherwise, let it
+   be false.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-voice-identifier&gt;timed track cue voice
+   identifier&lt;/a&gt; be the value of the &lt;var title=&quot;&quot;&gt;voice&lt;/var&gt;
+   argument, if it is present, or the empty string otherwise.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-text&gt;timed track cue
+   text&lt;/a&gt; be the value of the &lt;var title=&quot;&quot;&gt;text&lt;/var&gt; argument,
+   and let the rules for its interpretation be the &lt;a href=#websrt-cue-text-parsing-rules&gt;WebSRT cue
+   text parsing rules&lt;/a&gt;, the &lt;a href=#websrt-cue-text-rendering-rules&gt;WebSRT cue text rendering
+   rules&lt;/a&gt;, and the &lt;a href=#websrt-cue-text-dom-construction-rules&gt;WebSRT cue text DOM construction
+   rules&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;!-- default settings --&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-writing-direction&gt;timed track cue
+   writing direction&lt;/a&gt; be &lt;a href=#timed-track-cue-horizontal-writing-direction title=&quot;timed track cue
+   horizontal writing direction&quot;&gt;horizontal&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-snap-to-lines-flag&gt;timed track cue
+   snap-to-lines flag&lt;/a&gt; be true.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-line-position&gt;timed track cue line
+   position&lt;/a&gt; be &lt;a href=#timed-track-cue-automatic-line-position title=&quot;timed track cue automatic line
+   position&quot;&gt;auto&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-text-position&gt;timed track cue
+   text position&lt;/a&gt; be 50.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-size&gt;timed track cue
+   size&lt;/a&gt; be 100.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-alignment&gt;timed track cue
+   alignment&lt;/a&gt; be &lt;a href=#timed-track-cue-middle-alignment title=&quot;timed track cue middle
+   alignment&quot;&gt;middle alignment&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string given by the
+   &lt;var title=&quot;&quot;&gt;settings&lt;/var&gt; argument.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
+   string.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#parse-the-websrt-settings&gt;Parse the WebSRT settings&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return the &lt;code&gt;&lt;a href=#timedtrackcue&gt;TimedTrackCue&lt;/a&gt;&lt;/code&gt; object representing
+   &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;!-- XXX
+
+  &lt;dfn title=&quot;dom-TimedTrackCue-track&quot;&gt;&lt;code&gt;track&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-id&quot;&gt;&lt;code&gt;id&lt;/code&gt;&lt;/dfn&gt;
+
+  &lt;dfn title=&quot;dom-TimedTrackCue-startTime&quot;&gt;&lt;code&gt;startTime&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-endTime&quot;&gt;&lt;code&gt;endTime&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-pauseOnExit&quot;&gt;&lt;code&gt;pauseOnExit&lt;/code&gt;&lt;/dfn&gt;
+
+  &lt;dfn title=&quot;dom-TimedTrackCue-direction&quot;&gt;&lt;code&gt;direction&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-snapToLines&quot;&gt;&lt;code&gt;snapToLines&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-linePosition&quot;&gt;&lt;code&gt;linePosition&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-textPosition&quot;&gt;&lt;code&gt;textPosition&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-size&quot;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-alignment&quot;&gt;&lt;code&gt;alignment&lt;/code&gt;&lt;/dfn&gt;
+
+  &lt;dfn title=&quot;dom-TimedTrackCue-voice&quot;&gt;&lt;code&gt;voice&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-getCueAsSource()&quot;&gt;&lt;code&gt;getCueAsSource()&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-getCueAsHTML()&quot;&gt;&lt;code&gt;getCueAsHTML()&lt;/code&gt;&lt;/dfn&gt;
+
+--&gt;&lt;/div&gt;
+
+
   &lt;div class=impl&gt;
 
   &lt;h6 id=cue-events&gt;&lt;span class=secno&gt;4.8.10.10.6 &lt;/span&gt;Event definitions&lt;/h6&gt;
@@ -27492,7 +27588,8 @@
    U+000A LINE FEED (LF) characters.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; be a new &lt;a href=#timed-track-cue&gt;timed track
-   cue&lt;/a&gt;.&lt;/li&gt;
+   cue&lt;/a&gt; associated with &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;'s &lt;a href=#timed-track&gt;timed
+   track&lt;/a&gt;.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;a href=#timed-track-cue-identifier&gt;timed track cue
    identifier&lt;/a&gt; be the empty string.&lt;/li&gt;
@@ -27682,6 +27779,15 @@
 
    &lt;li&gt;&lt;p&gt;&lt;a href=#skip-whitespace&gt;Skip whitespace&lt;/a&gt;.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;&lt;a href=#parse-the-websrt-settings&gt;Parse the WebSRT settings&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;When the user agent is to &lt;dfn id=parse-the-websrt-settings&gt;parse the WebSRT settings&lt;/dfn&gt;
+  for a &lt;a href=#timed-track-cue&gt;timed track cue&lt;/a&gt; &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;,, the
+  user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be the same variables as those of the same
+   name in the algorithm that invoked these steps.&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;&lt;i&gt;Settings&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond
    the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; then abort these
    steps.&lt;/li&gt;
@@ -79397,8 +79503,6 @@
 
   &lt;p class=XXX&gt;The &lt;dfn id=rules-for-updating-the-display-of-websrt-timed-tracks&gt;rules for updating the display of WebSRT timed tracks&lt;/dfn&gt;
 
-  &lt;p class=XXX&gt;&lt;dfn id=update-the-timed-track-rendering&gt;update the timed track rendering&lt;/dfn&gt; of a &lt;a href=#media-element&gt;media element&lt;/a&gt;&lt;/p&gt;
-
   &lt;!--
 
    list of active WebSRT or WebSRT-compatible cues and their positions

Modified: source
===================================================================
--- source	2010-07-08 19:56:02 UTC (rev 5142)
+++ source	2010-07-08 21:27:39 UTC (rev 5143)
@@ -28285,9 +28285,9 @@
    &lt;dd&gt;
 
     &lt;p&gt;A list of &lt;span title=&quot;timed track cue&quot;&gt;timed track
-    cues&lt;/span&gt;, along with rules for their rendering (e.g., for
-    &lt;span&gt;WebSRT&lt;/span&gt;, the &lt;span&gt;rules for updating the display of
-    WebSRT timed tracks&lt;/span&gt;).&lt;/p&gt;
+    cues&lt;/span&gt;, along with &lt;dfn&gt;rules for updating the timed track
+    rendering&lt;/dfn&gt; (e.g., for &lt;span&gt;WebSRT&lt;/span&gt;, the &lt;span&gt;rules
+    for updating the display of WebSRT timed tracks&lt;/span&gt;).&lt;/p&gt;
 
     &lt;p&gt;The &lt;span title=&quot;timed track list of cues&quot;&gt;list of cues of a
     timed track&lt;/span&gt; can change dynamically, either because the
@@ -28555,6 +28555,10 @@
    preferences and the requirements of the relevant specification for
    the data.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Leave the &lt;span&gt;timed track list of cues&lt;/span&gt; empty, and
+   associate with it the &lt;span&gt;rules for updating the timed track
+   rendering&lt;/span&gt; appropriate for the format in question.&lt;/p&gt;
+
    &lt;li&gt;&lt;p&gt;Add the new &lt;span&gt;timed track&lt;/span&gt; to the &lt;span&gt;media
    element&lt;/span&gt;'s &lt;span&gt;list of timed tracks&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
@@ -28625,7 +28629,11 @@
   the algorithm below.&lt;/p&gt;
 
   &lt;p&gt;The &lt;span&gt;timed track list of cues&lt;/span&gt; is initially empty. It
-  is dynamically modified when the referenced file is parsed.&lt;/p&gt;
+  is dynamically modified when the referenced file is parsed.
+  Associated with the list are the &lt;span&gt;rules for updating the timed
+  track rendering&lt;/span&gt; appropriate for the format in question; for
+  &lt;span&gt;WebSRT&lt;/span&gt;, this is the &lt;span&gt;rules for updating the
+  display of WebSRT timed tracks&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;When a &lt;code&gt;track&lt;/code&gt; element's parent element changes and
   the new parent is a &lt;span&gt;media element&lt;/span&gt;, then the user agent
@@ -29128,8 +29136,9 @@
     the &lt;span&gt;timed track disabled&lt;/span&gt; mode.&lt;/p&gt;
 
     &lt;p&gt;If the &lt;span&gt;timed track mode&lt;/span&gt; was previously the
-    &lt;span&gt;timed track showing&lt;/span&gt; mode, then &lt;span&gt;update the timed
-    track rendering&lt;/span&gt; of the &lt;span&gt;media element&lt;/span&gt;.&lt;/p&gt;
+    &lt;span&gt;timed track showing&lt;/span&gt; mode, then apply the rules for
+    updating the timed track rendering of the &lt;span&gt;media
+    element&lt;/span&gt; appropriate for the &lt;span&gt;timed track&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -29142,8 +29151,9 @@
     the &lt;span&gt;timed track hidden&lt;/span&gt; mode.&lt;/p&gt;
 
     &lt;p&gt;If the &lt;span&gt;timed track mode&lt;/span&gt; was previously the
-    &lt;span&gt;timed track showing&lt;/span&gt; mode, then &lt;span&gt;update the timed
-    track rendering&lt;/span&gt; of the &lt;span&gt;media element&lt;/span&gt;.&lt;/p&gt;
+    &lt;span&gt;timed track showing&lt;/span&gt; mode, then apply the rules for
+    updating the timed track rendering of the &lt;span&gt;media
+    element&lt;/span&gt; appropriate for the &lt;span&gt;timed track&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -29155,8 +29165,9 @@
     track&lt;/span&gt; that the &lt;code&gt;TimedTrack&lt;/code&gt; object represents to
     the &lt;span&gt;timed track showing&lt;/span&gt; mode.&lt;/p&gt;
 
-    &lt;p&gt;&lt;span&gt;Update the timed track rendering&lt;/span&gt; of the
-    &lt;span&gt;media element&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Apply the rules for updating the timed track rendering of the
+    &lt;span&gt;media element&lt;/span&gt; appropriate for the &lt;span&gt;timed
+    track&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -29265,10 +29276,10 @@
     &lt;span&gt;timed track readiness state&lt;/span&gt; to the &lt;span&gt;timed track
     loaded&lt;/span&gt; state, its &lt;span&gt;timed track mode&lt;/span&gt; to the
     &lt;span&gt;timed track hidden&lt;/span&gt; mode, and its &lt;span&gt;timed track
-    list of cues&lt;/span&gt; to an empty list, with the rules for its
-    interpretation being the &lt;span&gt;WebSRT cue text parsing
-    rules&lt;/span&gt;, the &lt;span&gt;WebSRT cue text rendering rules&lt;/span&gt;,
-    and the &lt;span&gt;WebSRT cue text DOM construction rules&lt;/span&gt;&lt;/p&gt;
+    list of cues&lt;/span&gt; to an empty list, associated with the
+    &lt;span&gt;rules for updating the display of WebSRT timed tracks&lt;/span&gt;
+    as its &lt;span&gt;rules for updating the timed track
+    rendering&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -29539,8 +29550,107 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p class=&quot;XXX&quot;&gt;...&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;dom-TimedTrackCue&quot;&gt;&lt;code&gt;TimedTrackCue(&lt;var
+  title=&quot;&quot;&gt;id&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;startTime&lt;/var&gt;, &lt;var
+  title=&quot;&quot;&gt;endTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;text&lt;/var&gt;, &lt;var
+  title=&quot;&quot;&gt;settings&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;voice&lt;/var&gt;, &lt;var
+  title=&quot;&quot;&gt;pauseOnExit&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; constructor, when invoked,
+  must run the following steps:&lt;/p&gt;
 
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Create a new &lt;span&gt;timed track cue&lt;/span&gt; that is not
+   associated with any &lt;span&gt;timed track&lt;/span&gt;. Let &lt;var
+   title=&quot;&quot;&gt;cue&lt;/var&gt; be that &lt;span&gt;timed track cue&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;timed track cue
+   identifier&lt;/span&gt; be the value of the &lt;var title=&quot;&quot;&gt;id&lt;/var&gt;
+   argument.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;timed track cue start
+   time&lt;/span&gt; be the value of the &lt;var title=&quot;&quot;&gt;startTime&lt;/var&gt;
+   argument, interpreted as a time in seconds.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;timed track cue end
+   time&lt;/span&gt; be the value of the &lt;var title=&quot;&quot;&gt;endTime&lt;/var&gt;
+   argument, interpreted as a time in seconds.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;timed track cue
+   pause-on-exit flag&lt;/span&gt; be true if the &lt;var
+   title=&quot;&quot;&gt;pauseOnExit&lt;/var&gt; is present and true. Otherwise, let it
+   be false.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;timed track cue voice
+   identifier&lt;/span&gt; be the value of the &lt;var title=&quot;&quot;&gt;voice&lt;/var&gt;
+   argument, if it is present, or the empty string otherwise.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;timed track cue
+   text&lt;/span&gt; be the value of the &lt;var title=&quot;&quot;&gt;text&lt;/var&gt; argument,
+   and let the rules for its interpretation be the &lt;span&gt;WebSRT cue
+   text parsing rules&lt;/span&gt;, the &lt;span&gt;WebSRT cue text rendering
+   rules&lt;/span&gt;, and the &lt;span&gt;WebSRT cue text DOM construction
+   rules&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;!-- default settings --&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;timed track cue
+   writing direction&lt;/span&gt; be &lt;span title=&quot;timed track cue
+   horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;timed track cue
+   snap-to-lines flag&lt;/span&gt; be true.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;timed track cue line
+   position&lt;/span&gt; be &lt;span title=&quot;timed track cue automatic line
+   position&quot;&gt;auto&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;timed track cue
+   text position&lt;/span&gt; be 50.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;timed track cue
+   size&lt;/span&gt; be 100.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;timed track cue
+   alignment&lt;/span&gt; be &lt;span title=&quot;timed track cue middle
+   alignment&quot;&gt;middle alignment&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string given by the
+   &lt;var title=&quot;&quot;&gt;settings&lt;/var&gt; argument.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
+   string.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Parse the WebSRT settings&lt;/span&gt; for &lt;var
+   title=&quot;&quot;&gt;cue&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return the &lt;code&gt;TimedTrackCue&lt;/code&gt; object representing
+   &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+&lt;!-- XXX
+
+  &lt;dfn title=&quot;dom-TimedTrackCue-track&quot;&gt;&lt;code&gt;track&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-id&quot;&gt;&lt;code&gt;id&lt;/code&gt;&lt;/dfn&gt;
+
+  &lt;dfn title=&quot;dom-TimedTrackCue-startTime&quot;&gt;&lt;code&gt;startTime&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-endTime&quot;&gt;&lt;code&gt;endTime&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-pauseOnExit&quot;&gt;&lt;code&gt;pauseOnExit&lt;/code&gt;&lt;/dfn&gt;
+
+  &lt;dfn title=&quot;dom-TimedTrackCue-direction&quot;&gt;&lt;code&gt;direction&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-snapToLines&quot;&gt;&lt;code&gt;snapToLines&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-linePosition&quot;&gt;&lt;code&gt;linePosition&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-textPosition&quot;&gt;&lt;code&gt;textPosition&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-size&quot;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-alignment&quot;&gt;&lt;code&gt;alignment&lt;/code&gt;&lt;/dfn&gt;
+
+  &lt;dfn title=&quot;dom-TimedTrackCue-voice&quot;&gt;&lt;code&gt;voice&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-getCueAsSource()&quot;&gt;&lt;code&gt;getCueAsSource()&lt;/code&gt;&lt;/dfn&gt;
+  &lt;dfn title=&quot;dom-TimedTrackCue-getCueAsHTML()&quot;&gt;&lt;code&gt;getCueAsHTML()&lt;/code&gt;&lt;/dfn&gt;
+
+--&gt;
+
   &lt;/div&gt;
 
 
@@ -29960,7 +30070,8 @@
    U+000A LINE FEED (LF) characters.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; be a new &lt;span&gt;timed track
-   cue&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+   cue&lt;/span&gt; associated with &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;'s &lt;span&gt;timed
+   track&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;timed track cue
    identifier&lt;/span&gt; be the empty string.&lt;/p&gt;&lt;/li&gt;
@@ -30173,6 +30284,21 @@
 
    &lt;li&gt;&lt;p&gt;&lt;span&gt;Skip whitespace&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Parse the WebSRT settings&lt;/span&gt; for &lt;var
+   title=&quot;&quot;&gt;cue&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;When the user agent is to &lt;dfn&gt;parse the WebSRT settings&lt;/dfn&gt;
+  for a &lt;span&gt;timed track cue&lt;/span&gt; &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;,, the
+  user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; and &lt;var
+   title=&quot;&quot;&gt;position&lt;/var&gt; be the same variables as those of the same
+   name in the algorithm that invoked these steps.&lt;/p&gt;&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;&lt;i&gt;Settings&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond
    the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; then abort these
    steps.&lt;/p&gt;&lt;/li&gt;
@@ -98272,8 +98398,6 @@
 
   &lt;p class=&quot;XXX&quot;&gt;The &lt;dfn&gt;rules for updating the display of WebSRT timed tracks&lt;/dfn&gt;
 
-  &lt;p class=&quot;XXX&quot;&gt;&lt;dfn&gt;update the timed track rendering&lt;/dfn&gt; of a &lt;span&gt;media element&lt;/span&gt;&lt;/p&gt;
-
   &lt;!--
 
    list of active WebSRT or WebSRT-compatible cues and their positions


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012012.html">[html5] r5142 - [giow] (0) Captions - Stage 20.5: more wip for API	definitions.
</A></li>
	<LI>Next message: <A HREF="012014.html">[html5] r5144 - [giow] (0) Captions - Stage 20.6: TimedTrackCue	attributes, first pass.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12013">[ date ]</a>
              <a href="thread.html#12013">[ thread ]</a>
              <a href="subject.html#12013">[ subject ]</a>
              <a href="author.html#12013">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
