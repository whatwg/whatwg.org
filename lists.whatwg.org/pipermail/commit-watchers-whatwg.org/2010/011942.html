<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r5071 - [giow] (0) Captions - Stage 2: the IDL additions.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5071%20-%20%5Bgiow%5D%20%280%29%20Captions%20-%20Stage%202%3A%20the%20IDL%20additions.&In-Reply-To=%3C20100504073659.F40C280580E3%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011941.html">
   <LINK REL="Next"  HREF="011943.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r5071 - [giow] (0) Captions - Stage 2: the IDL additions.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5071%20-%20%5Bgiow%5D%20%280%29%20Captions%20-%20Stage%202%3A%20the%20IDL%20additions.&In-Reply-To=%3C20100504073659.F40C280580E3%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r5071 - [giow] (0) Captions - Stage 2: the IDL additions.">whatwg at whatwg.org
       </A><BR>
    <I>Tue May  4 00:36:59 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="011941.html">[html5] r5070 - [e] (0) remove old cuerange stuff
</A></li>
        <LI>Next message: <A HREF="011943.html">[html5] r5072 - [giow] (0) Captions - Stage 3: defining what a	timed track and a timed track cue are.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11942">[ date ]</a>
              <a href="thread.html#11942">[ thread ]</a>
              <a href="subject.html#11942">[ subject ]</a>
              <a href="author.html#11942">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2010-05-04 00:36:58 -0700 (Tue, 04 May 2010)
New Revision: 5071

Modified:
   complete.html
   index
   source
Log:
[giow] (0) Captions - Stage 2: the IDL additions.

Modified: complete.html
===================================================================
--- complete.html	2010-05-04 04:21:19 UTC (rev 5070)
+++ complete.html	2010-05-04 07:36:58 UTC (rev 5071)
@@ -530,8 +530,9 @@
        &lt;li&gt;&lt;a href=#timed-tracks&gt;&lt;span class=secno&gt;4.8.10.10 &lt;/span&gt;Timed tracks&lt;/a&gt;
         &lt;ol&gt;
          &lt;li&gt;&lt;a href=#timed-track-model&gt;&lt;span class=secno&gt;4.8.10.10.1 &lt;/span&gt;Timed track model&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#in-band-timed-tracks&gt;&lt;span class=secno&gt;4.8.10.10.2 &lt;/span&gt;In-band timed tracks&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#websrt&gt;&lt;span class=secno&gt;4.8.10.10.3 &lt;/span&gt;WebSRT&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#event-definitions&gt;&lt;span class=secno&gt;4.8.10.10.2 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#in-band-timed-tracks&gt;&lt;span class=secno&gt;4.8.10.10.3 &lt;/span&gt;In-band timed tracks&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#websrt&gt;&lt;span class=secno&gt;4.8.10.10.4 &lt;/span&gt;WebSRT&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#user-interface&gt;&lt;span class=secno&gt;4.8.10.11 &lt;/span&gt;User interface&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#time-ranges&gt;&lt;span class=secno&gt;4.8.10.12 &lt;/span&gt;Time ranges&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#mediaevents&gt;&lt;span class=secno&gt;4.8.10.13 &lt;/span&gt;Event summary&lt;/a&gt;&lt;/li&gt;
@@ -827,7 +828,7 @@
      &lt;li&gt;&lt;a href=#scroll-to-fragid&gt;&lt;span class=secno&gt;6.5.8 &lt;/span&gt;Navigating to a fragment identifier&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#history-traversal&gt;&lt;span class=secno&gt;6.5.9 &lt;/span&gt;History traversal&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#event-definitions&gt;&lt;span class=secno&gt;6.5.9.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#event-definitions-0&gt;&lt;span class=secno&gt;6.5.9.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#unloading-documents&gt;&lt;span class=secno&gt;6.5.10 &lt;/span&gt;Unloading documents&lt;/a&gt;
       &lt;ol&gt;
        &lt;li&gt;&lt;a href=#event-definition&gt;&lt;span class=secno&gt;6.5.10.1 &lt;/span&gt;Event definition&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
@@ -971,7 +972,7 @@
      &lt;li&gt;&lt;a href=#worker-locations&gt;&lt;span class=secno&gt;9.3.5 &lt;/span&gt;Worker locations&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=#comms&gt;&lt;span class=secno&gt;10 &lt;/span&gt;Communication&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#event-definitions-0&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#event-definitions-1&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#server-sent-events&gt;&lt;span class=secno&gt;10.2 &lt;/span&gt;Server-sent events&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#server-sent-events-intro&gt;&lt;span class=secno&gt;10.2.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
@@ -992,7 +993,7 @@
      &lt;li&gt;&lt;a href=#the-websocket-interface&gt;&lt;span class=secno&gt;10.3.2 &lt;/span&gt;The &lt;code&gt;WebSocket&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#feedback-from-the-protocol&gt;&lt;span class=secno&gt;10.3.3 &lt;/span&gt;Feedback from the protocol&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#event-definitions-1&gt;&lt;span class=secno&gt;10.3.3.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#event-definitions-2&gt;&lt;span class=secno&gt;10.3.3.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#garbage-collection-1&gt;&lt;span class=secno&gt;10.3.3.2 &lt;/span&gt;Garbage collection&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#websocket-protocol title=&quot;The WebSocket protocol enables
   two-way communication between a user agent running untrusted code
@@ -23552,6 +23553,8 @@
            attribute DOMString &lt;a href=#dom-track-label title=dom-track-label&gt;label&lt;/a&gt;;
            attribute DOMString &lt;a href=#dom-track-src title=dom-track-src&gt;src&lt;/a&gt;;
            attribute DOMString &lt;a href=#dom-track-srclang title=dom-track-srclang&gt;srclang&lt;/a&gt;;
+
+  readonly attribute &lt;a href=#mediatrack&gt;MediaTrack&lt;/a&gt; &lt;span title=dom-track-track&gt;track&lt;/span&gt;;
 };&lt;/pre&gt;
    &lt;/dd&gt;
   &lt;/dl&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-track-element&gt;track&lt;/a&gt;&lt;/code&gt; element allows authors to specify explicit
@@ -23607,8 +23610,12 @@
   language, and whose &lt;code title=attr-track-label&gt;&lt;a href=#attr-track-label&gt;label&lt;/a&gt;&lt;/code&gt;
   attributes are again both missing or both have the same value.&lt;/p&gt;
 
+  &lt;p class=XXX&gt;domintro for track.track&lt;/p&gt;
+
   &lt;div class=impl&gt;
 
+  &lt;p class=XXX&gt;track.track&lt;/p&gt;
+
   &lt;p&gt;The IDL attributes &lt;dfn id=dom-track-kind title=dom-track-kind&gt;&lt;code&gt;kind&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-track-label title=dom-track-label&gt;&lt;code&gt;label&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-track-src title=dom-track-src&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt;, and &lt;dfn id=dom-track-srclang title=dom-track-srclang&gt;&lt;code&gt;srclang&lt;/code&gt;&lt;/dfn&gt; must
   &lt;a href=#reflect&gt;reflect&lt;/a&gt; the respective content attributes of the same
   name.&lt;/p&gt;
@@ -23670,8 +23677,60 @@
            attribute boolean &lt;a href=#dom-media-controls title=dom-media-controls&gt;controls&lt;/a&gt;;
            attribute float &lt;a href=#dom-media-volume title=dom-media-volume&gt;volume&lt;/a&gt;;
            attribute boolean &lt;a href=#dom-media-muted title=dom-media-muted&gt;muted&lt;/a&gt;;
-};&lt;/pre&gt;
 
+  // timed tracks
+  readonly attribute &lt;a href=#mediatrack&gt;MediaTrack&lt;/a&gt;[] &lt;span title=dom-media-tracks&gt;tracks&lt;/span&gt;;
+  &lt;a href=#mutablemediatrack&gt;MutableMediaTrack&lt;/a&gt; &lt;span title=dom-media-addTrack&gt;addTrack&lt;/span&gt;(in DOMString label, in DOMString kind, in DOMString language);
+};
+
+interface &lt;dfn id=mediatrack&gt;MediaTrack&lt;/dfn&gt; {
+  readonly attribute DOMString &lt;span title=dom-MediaTrack-kind&gt;kind&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=dom-MediaTrack-label&gt;label&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=dom-MediaTrack-language&gt;language&lt;/span&gt;;
+
+  const unsigned short &lt;span title=dom-MediaTrack-TRACK_OFF&gt;TRACK_OFF&lt;/span&gt; = 0;
+  const unsigned short &lt;span title=dom-MediaTrack-TRACK_HIDDEN&gt;TRACK_HIDDEN&lt;/span&gt; = 1;
+  const unsigned short &lt;span title=dom-MediaTrack-TRACK_SHOWING&gt;TRACK_SHOWING&lt;/span&gt; = 2;
+  readonly attribute unsigned short &lt;span title=dom-MediaTrack-mode&gt;mode&lt;/span&gt;;
+
+  readonly attribute &lt;a href=#mediacuelist&gt;MediaCueList&lt;/a&gt; &lt;span title=dom-MediaTrack-cues&gt;cues&lt;/span&gt;;
+  readonly attribute &lt;a href=#mediacuelist&gt;MediaCueList&lt;/a&gt; &lt;span title=dom-MediaTrack-activeCues&gt;activeCues&lt;/span&gt;;
+  readonly attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;span title=dom-MediaTrack-onentercue&gt;onentercue&lt;/span&gt;;
+  readonly attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;span title=dom-MediaTrack-onexitcue&gt;onexitcue&lt;/span&gt;;
+};
+
+interface &lt;dfn id=mutablemediatrack&gt;MutableMediaTrack&lt;/dfn&gt; : &lt;a href=#mediatrack&gt;MediaTrack&lt;/a&gt; {
+ void &lt;span title=dom-MutableMediaTrack-addCue&gt;addCue&quot;&gt;(in &lt;a href=#mediacue&gt;MediaCue&lt;/a&gt; cue);
+ void &lt;span title=dom-MutableMediaTrack-removeCue&gt;removeCue&quot;&gt;(in &lt;a href=#mediacue&gt;MediaCue&lt;/a&gt; cue);
+};
+
+interface &lt;dfn id=mediacuelist&gt;MediaCueList&lt;/dfn&gt; {
+  readonly attribute unsigned long &lt;span title=dom-MediaCueList-length&gt;length&lt;/span&gt;;
+  getter &lt;a href=#mediacue&gt;MediaCue&lt;/a&gt; (in unsigned long index);
+  &lt;a href=#mediacue&gt;MediaCue&lt;/a&gt; getCueById(in DOMString id);
+};
+
+[Constructor(in DOMString id, in float startTime, in float endTime, in DOMString settings, in DOMString text, in optional boolean pauseOnExit)]
+interface &lt;dfn id=mediacue&gt;MediaCue&lt;/dfn&gt; {
+  readonly attribute &lt;a href=#mediatrack&gt;MediaTrack&lt;/a&gt; &lt;span title=dom-MediaCue-track&gt;track&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=dom-MediaCue-id&gt;id&lt;/span&gt;;
+
+  readonly attribute float &lt;span title=dom-MediaCue-startTime&gt;startTime&lt;/span&gt;;
+  readonly attribute float &lt;span title=dom-MediaCue-endTime&gt;endTime&lt;/span&gt;;
+  readonly attribute boolean &lt;span title=dom-MediaCue-pauseOnExit&gt;pauseOnExit&lt;/span&gt;;
+
+  readonly attribute boolean &lt;span title=dom-MediaCue-snapToLines&gt;snapToLines&lt;/span&gt;;
+  readonly attribute long &lt;span title=dom-MediaCue-linePosition&gt;linePosition&lt;/span&gt;;
+  readonly attribute long &lt;span title=dom-MediaCue-textPosition&gt;textPosition&lt;/span&gt;;
+  readonly attribute long &lt;span title=dom-MediaCue-size&gt;size&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=dom-MediaCue-direction&gt;direction&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=dom-MediaCue-alignment&gt;alignment&lt;/span&gt;;
+
+  readonly attribute DOMString &lt;span title=dom-MediaCue-voice&gt;voice&lt;/span&gt;;
+  DOMString &lt;span title=dom-MediaCue-getCueAsSource()&gt;getCueAsSource&lt;/span&gt;();
+  &lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt; &lt;span title=dom-MediaCue-getCueAsHTML()&gt;getCueAsHTML&lt;/span&gt;();
+};&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
+
   &lt;p&gt;The &lt;dfn id=media-element-attributes&gt;media element attributes&lt;/dfn&gt;, &lt;code title=attr-media-src&gt;&lt;a href=#attr-media-src&gt;src&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-media-preload&gt;&lt;a href=#attr-media-preload&gt;preload&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-media-autoplay&gt;&lt;a href=#attr-media-autoplay&gt;autoplay&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-media-loop&gt;&lt;a href=#attr-media-loop&gt;loop&lt;/a&gt;&lt;/code&gt;, and &lt;code title=attr-media-controls&gt;&lt;a href=#attr-media-controls&gt;controls&lt;/a&gt;&lt;/code&gt;, apply to all &lt;a href=#media-element title=&quot;media element&quot;&gt;media elements&lt;/a&gt;. They are defined in
   this section.&lt;/p&gt;
 
@@ -25732,19 +25791,82 @@
 
   &lt;p class=XXX&gt;processing model for timed tracks&lt;/p&gt;
 
+&lt;!--
+  // timed tracks on HTMLMediaElement:
+  readonly attribute &lt;span&gt;MediaTrack&lt;/span&gt;[] &lt;span title=&quot;dom-media-tracks&quot;&gt;tracks&lt;/span&gt;;
+  &lt;span&gt;MutableMediaTrack&lt;/span&gt; &lt;span title=&quot;dom-media-addTrack&quot;&gt;addTrack&lt;/span&gt;(in DOMString label, in DOMString kind, in DOMString language);
+
+interface &lt;dfn&gt;MediaTrack&lt;/dfn&gt; {
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaTrack-kind&quot;&gt;kind&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaTrack-label&quot;&gt;label&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaTrack-language&quot;&gt;language&lt;/span&gt;;
+
+  const unsigned short &lt;span title=&quot;dom-MediaTrack-TRACK_OFF&quot;&gt;TRACK_OFF&lt;/span&gt; = 0;
+  const unsigned short &lt;span title=&quot;dom-MediaTrack-TRACK_HIDDEN&quot;&gt;TRACK_HIDDEN&lt;/span&gt; = 1;
+  const unsigned short &lt;span title=&quot;dom-MediaTrack-TRACK_SHOWING&quot;&gt;TRACK_SHOWING&lt;/span&gt; = 2;
+  readonly attribute unsigned short &lt;span title=&quot;dom-MediaTrack-mode&quot;&gt;mode&lt;/span&gt;;
+
+  readonly attribute &lt;span&gt;MediaCueList&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-cues&quot;&gt;cues&lt;/span&gt;;
+  readonly attribute &lt;Span&gt;MediaCueList&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-activeCues&quot;&gt;activeCues&lt;/span&gt;;
+  readonly attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-onentercue&quot;&gt;onentercue&lt;/span&gt;;
+  readonly attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-onexitcue&quot;&gt;onexitcue&lt;/span&gt;;
+};
+
+interface &lt;dfn&gt;MutableMediaTrack&lt;/dfn&gt; : &lt;span&gt;MediaTrack&lt;/span&gt; {
+ void &lt;span title=&quot;dom-MutableMediaTrack-addCue&quot;&gt;addCue&quot;&gt;(in &lt;span&gt;MediaCue&lt;/span&gt; cue);
+ void &lt;span title=&quot;dom-MutableMediaTrack-removeCue&quot;&gt;removeCue&quot;&gt;(in &lt;span&gt;MediaCue&lt;/span&gt; cue);
+};
+
+interface &lt;dfn&gt;MediaCueList&lt;/dfn&gt; {
+  readonly attribute unsigned long &lt;span title=&quot;dom-MediaCueList-length&quot;&gt;length&lt;/span&gt;;
+  getter &lt;span&gt;MediaCue&lt;/span&gt; (in unsigned long index);
+  &lt;span&gt;MediaCue&lt;/span&gt; getCueById(in DOMString id);
+};
+
+[Constructor(in DOMString id, in float startTime, in float endTime, in DOMString settings, in DOMString text, in optional boolean pauseOnExit)]
+interface &lt;dfn&gt;MediaCue&lt;/dfn&gt; {
+  readonly attribute &lt;span&gt;MediaTrack&lt;/span&gt; &lt;span title=&quot;dom-MediaCue-track&quot;&gt;track&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-id&quot;&gt;id&lt;/span&gt;;
+
+  readonly attribute float &lt;span title=&quot;dom-MediaCue-startTime&quot;&gt;startTime&lt;/span&gt;;
+  readonly attribute float &lt;span title=&quot;dom-MediaCue-endTime&quot;&gt;endTime&lt;/span&gt;;
+  readonly attribute boolean &lt;span title=&quot;dom-MediaCue-pauseOnExit&quot;&gt;pauseOnExit&lt;/span&gt;;
+
+  readonly attribute boolean &lt;span title=&quot;dom-MediaCue-snapToLines&quot;&gt;snapToLines&lt;/span&gt;;
+  readonly attribute long &lt;span title=&quot;dom-MediaCue-linePosition&quot;&gt;linePosition&lt;/span&gt;;
+  readonly attribute long &lt;span title=&quot;dom-MediaCue-textPosition&quot;&gt;textPosition&lt;/span&gt;;
+  readonly attribute long &lt;span title=&quot;dom-MediaCue-size&quot;&gt;size&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-direction&quot;&gt;direction&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-alignment&quot;&gt;alignment&lt;/span&gt;;
+
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-voice&quot;&gt;voice&lt;/span&gt;;
+  DOMString &lt;span title=&quot;dom-MediaCue-getCueAsSource()&quot;&gt;getCueAsSource&lt;/span&gt;();
+  &lt;span&gt;DocumentFragment&lt;/span&gt; &lt;span title=&quot;dom-MediaCue-getCueAsHTML()&quot;&gt;getCueAsHTML&lt;/span&gt;();
+};
+--&gt;
+
   &lt;h6 id=timed-track-model&gt;&lt;span class=secno&gt;4.8.10.10.1 &lt;/span&gt;Timed track model&lt;/h6&gt;
 
   &lt;p class=XXX&gt;...
 
-  &lt;h6 id=in-band-timed-tracks&gt;&lt;span class=secno&gt;4.8.10.10.2 &lt;/span&gt;In-band timed tracks&lt;/h6&gt;
+  &lt;h6 id=event-definitions&gt;&lt;span class=secno&gt;4.8.10.10.2 &lt;/span&gt;Event definitions&lt;/h6&gt;
 
   &lt;p class=XXX&gt;...
 
-  &lt;h6 id=websrt&gt;&lt;span class=secno&gt;4.8.10.10.3 &lt;/span&gt;WebSRT&lt;/h6&gt;
+&lt;!-- XXX
+CueEvent
+ readonly attribute MediaCue cue;
+--&gt;
 
+  &lt;h6 id=in-band-timed-tracks&gt;&lt;span class=secno&gt;4.8.10.10.3 &lt;/span&gt;In-band timed tracks&lt;/h6&gt;
+
   &lt;p class=XXX&gt;...
 
+  &lt;h6 id=websrt&gt;&lt;span class=secno&gt;4.8.10.10.4 &lt;/span&gt;WebSRT&lt;/h6&gt;
 
+  &lt;p class=XXX&gt;...
+
+
   &lt;h5 id=user-interface&gt;&lt;span class=secno&gt;4.8.10.11 &lt;/span&gt;User interface&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=attr-media-controls title=attr-media-controls&gt;&lt;code&gt;controls&lt;/code&gt;&lt;/dfn&gt;
@@ -56954,7 +57076,7 @@
   &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task source&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h5 id=event-definitions&gt;&lt;span class=secno&gt;6.5.9.1 &lt;/span&gt;Event definitions&lt;/h5&gt;
+  &lt;h5 id=event-definitions-0&gt;&lt;span class=secno&gt;6.5.9.1 &lt;/span&gt;Event definitions&lt;/h5&gt;
 
   &lt;/div&gt;
 
@@ -67729,7 +67851,7 @@
 
 
 
-  &lt;h3 id=event-definitions-0&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Event definitions&lt;/h3&gt;
+  &lt;h3 id=event-definitions-1&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Event definitions&lt;/h3&gt;
 
   &lt;p&gt;Messages in &lt;a href=#server-sent-events&gt;server-sent events&lt;/a&gt;, &lt;a href=#network&gt;Web
   sockets&lt;/a&gt;, &lt;a href=#crossDocumentMessages&gt;cross-document messaging&lt;/a&gt;, and
@@ -68945,7 +69067,7 @@
   source&lt;/dfn&gt;.&lt;/p&gt;
 
 
-  &lt;h5 id=event-definitions-1&gt;&lt;span class=secno&gt;10.3.3.1 &lt;/span&gt;Event definitions&lt;/h5&gt;
+  &lt;h5 id=event-definitions-2&gt;&lt;span class=secno&gt;10.3.3.1 &lt;/span&gt;Event definitions&lt;/h5&gt;
 
   &lt;pre class=idl&gt;interface &lt;dfn id=closeevent&gt;CloseEvent&lt;/dfn&gt; : &lt;a href=#event&gt;Event&lt;/a&gt; {
   readonly attribute boolean &lt;a href=#dom-closeevent-wasclean title=dom-CloseEvent-wasClean&gt;wasClean&lt;/a&gt;;

Modified: index
===================================================================
--- index	2010-05-04 04:21:19 UTC (rev 5070)
+++ index	2010-05-04 07:36:58 UTC (rev 5071)
@@ -539,8 +539,9 @@
        &lt;li&gt;&lt;a href=#timed-tracks&gt;&lt;span class=secno&gt;4.8.10.10 &lt;/span&gt;Timed tracks&lt;/a&gt;
         &lt;ol&gt;
          &lt;li&gt;&lt;a href=#timed-track-model&gt;&lt;span class=secno&gt;4.8.10.10.1 &lt;/span&gt;Timed track model&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#in-band-timed-tracks&gt;&lt;span class=secno&gt;4.8.10.10.2 &lt;/span&gt;In-band timed tracks&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#websrt&gt;&lt;span class=secno&gt;4.8.10.10.3 &lt;/span&gt;WebSRT&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#event-definitions&gt;&lt;span class=secno&gt;4.8.10.10.2 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#in-band-timed-tracks&gt;&lt;span class=secno&gt;4.8.10.10.3 &lt;/span&gt;In-band timed tracks&lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#websrt&gt;&lt;span class=secno&gt;4.8.10.10.4 &lt;/span&gt;WebSRT&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#user-interface&gt;&lt;span class=secno&gt;4.8.10.11 &lt;/span&gt;User interface&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#time-ranges&gt;&lt;span class=secno&gt;4.8.10.12 &lt;/span&gt;Time ranges&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#mediaevents&gt;&lt;span class=secno&gt;4.8.10.13 &lt;/span&gt;Event summary&lt;/a&gt;&lt;/li&gt;
@@ -836,7 +837,7 @@
      &lt;li&gt;&lt;a href=#scroll-to-fragid&gt;&lt;span class=secno&gt;6.5.8 &lt;/span&gt;Navigating to a fragment identifier&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#history-traversal&gt;&lt;span class=secno&gt;6.5.9 &lt;/span&gt;History traversal&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#event-definitions&gt;&lt;span class=secno&gt;6.5.9.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#event-definitions-0&gt;&lt;span class=secno&gt;6.5.9.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#unloading-documents&gt;&lt;span class=secno&gt;6.5.10 &lt;/span&gt;Unloading documents&lt;/a&gt;
       &lt;ol&gt;
        &lt;li&gt;&lt;a href=#event-definition&gt;&lt;span class=secno&gt;6.5.10.1 &lt;/span&gt;Event definition&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
@@ -942,7 +943,7 @@
    &lt;li&gt;&lt;a href=#editing-apis&gt;&lt;span class=secno&gt;8.11 &lt;/span&gt;Editing APIs&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=#comms&gt;&lt;span class=secno&gt;9 &lt;/span&gt;Communication&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#event-definitions-0&gt;&lt;span class=secno&gt;9.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#event-definitions-1&gt;&lt;span class=secno&gt;9.1 &lt;/span&gt;Event definitions&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#crossDocumentMessages&gt;&lt;span class=secno&gt;9.2 &lt;/span&gt;Cross-document messaging&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#introduction-6&gt;&lt;span class=secno&gt;9.2.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
@@ -23453,6 +23454,8 @@
            attribute DOMString &lt;a href=#dom-track-label title=dom-track-label&gt;label&lt;/a&gt;;
            attribute DOMString &lt;a href=#dom-track-src title=dom-track-src&gt;src&lt;/a&gt;;
            attribute DOMString &lt;a href=#dom-track-srclang title=dom-track-srclang&gt;srclang&lt;/a&gt;;
+
+  readonly attribute &lt;a href=#mediatrack&gt;MediaTrack&lt;/a&gt; &lt;span title=dom-track-track&gt;track&lt;/span&gt;;
 };&lt;/pre&gt;
    &lt;/dd&gt;
   &lt;/dl&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-track-element&gt;track&lt;/a&gt;&lt;/code&gt; element allows authors to specify explicit
@@ -23508,8 +23511,12 @@
   language, and whose &lt;code title=attr-track-label&gt;&lt;a href=#attr-track-label&gt;label&lt;/a&gt;&lt;/code&gt;
   attributes are again both missing or both have the same value.&lt;/p&gt;
 
+  &lt;p class=XXX&gt;domintro for track.track&lt;/p&gt;
+
   &lt;div class=impl&gt;
 
+  &lt;p class=XXX&gt;track.track&lt;/p&gt;
+
   &lt;p&gt;The IDL attributes &lt;dfn id=dom-track-kind title=dom-track-kind&gt;&lt;code&gt;kind&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-track-label title=dom-track-label&gt;&lt;code&gt;label&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=dom-track-src title=dom-track-src&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt;, and &lt;dfn id=dom-track-srclang title=dom-track-srclang&gt;&lt;code&gt;srclang&lt;/code&gt;&lt;/dfn&gt; must
   &lt;a href=#reflect&gt;reflect&lt;/a&gt; the respective content attributes of the same
   name.&lt;/p&gt;
@@ -23571,8 +23578,60 @@
            attribute boolean &lt;a href=#dom-media-controls title=dom-media-controls&gt;controls&lt;/a&gt;;
            attribute float &lt;a href=#dom-media-volume title=dom-media-volume&gt;volume&lt;/a&gt;;
            attribute boolean &lt;a href=#dom-media-muted title=dom-media-muted&gt;muted&lt;/a&gt;;
-};&lt;/pre&gt;
 
+  // timed tracks
+  readonly attribute &lt;a href=#mediatrack&gt;MediaTrack&lt;/a&gt;[] &lt;span title=dom-media-tracks&gt;tracks&lt;/span&gt;;
+  &lt;a href=#mutablemediatrack&gt;MutableMediaTrack&lt;/a&gt; &lt;span title=dom-media-addTrack&gt;addTrack&lt;/span&gt;(in DOMString label, in DOMString kind, in DOMString language);
+};
+
+interface &lt;dfn id=mediatrack&gt;MediaTrack&lt;/dfn&gt; {
+  readonly attribute DOMString &lt;span title=dom-MediaTrack-kind&gt;kind&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=dom-MediaTrack-label&gt;label&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=dom-MediaTrack-language&gt;language&lt;/span&gt;;
+
+  const unsigned short &lt;span title=dom-MediaTrack-TRACK_OFF&gt;TRACK_OFF&lt;/span&gt; = 0;
+  const unsigned short &lt;span title=dom-MediaTrack-TRACK_HIDDEN&gt;TRACK_HIDDEN&lt;/span&gt; = 1;
+  const unsigned short &lt;span title=dom-MediaTrack-TRACK_SHOWING&gt;TRACK_SHOWING&lt;/span&gt; = 2;
+  readonly attribute unsigned short &lt;span title=dom-MediaTrack-mode&gt;mode&lt;/span&gt;;
+
+  readonly attribute &lt;a href=#mediacuelist&gt;MediaCueList&lt;/a&gt; &lt;span title=dom-MediaTrack-cues&gt;cues&lt;/span&gt;;
+  readonly attribute &lt;a href=#mediacuelist&gt;MediaCueList&lt;/a&gt; &lt;span title=dom-MediaTrack-activeCues&gt;activeCues&lt;/span&gt;;
+  readonly attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;span title=dom-MediaTrack-onentercue&gt;onentercue&lt;/span&gt;;
+  readonly attribute &lt;a href=#function&gt;Function&lt;/a&gt; &lt;span title=dom-MediaTrack-onexitcue&gt;onexitcue&lt;/span&gt;;
+};
+
+interface &lt;dfn id=mutablemediatrack&gt;MutableMediaTrack&lt;/dfn&gt; : &lt;a href=#mediatrack&gt;MediaTrack&lt;/a&gt; {
+ void &lt;span title=dom-MutableMediaTrack-addCue&gt;addCue&quot;&gt;(in &lt;a href=#mediacue&gt;MediaCue&lt;/a&gt; cue);
+ void &lt;span title=dom-MutableMediaTrack-removeCue&gt;removeCue&quot;&gt;(in &lt;a href=#mediacue&gt;MediaCue&lt;/a&gt; cue);
+};
+
+interface &lt;dfn id=mediacuelist&gt;MediaCueList&lt;/dfn&gt; {
+  readonly attribute unsigned long &lt;span title=dom-MediaCueList-length&gt;length&lt;/span&gt;;
+  getter &lt;a href=#mediacue&gt;MediaCue&lt;/a&gt; (in unsigned long index);
+  &lt;a href=#mediacue&gt;MediaCue&lt;/a&gt; getCueById(in DOMString id);
+};
+
+[Constructor(in DOMString id, in float startTime, in float endTime, in DOMString settings, in DOMString text, in optional boolean pauseOnExit)]
+interface &lt;dfn id=mediacue&gt;MediaCue&lt;/dfn&gt; {
+  readonly attribute &lt;a href=#mediatrack&gt;MediaTrack&lt;/a&gt; &lt;span title=dom-MediaCue-track&gt;track&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=dom-MediaCue-id&gt;id&lt;/span&gt;;
+
+  readonly attribute float &lt;span title=dom-MediaCue-startTime&gt;startTime&lt;/span&gt;;
+  readonly attribute float &lt;span title=dom-MediaCue-endTime&gt;endTime&lt;/span&gt;;
+  readonly attribute boolean &lt;span title=dom-MediaCue-pauseOnExit&gt;pauseOnExit&lt;/span&gt;;
+
+  readonly attribute boolean &lt;span title=dom-MediaCue-snapToLines&gt;snapToLines&lt;/span&gt;;
+  readonly attribute long &lt;span title=dom-MediaCue-linePosition&gt;linePosition&lt;/span&gt;;
+  readonly attribute long &lt;span title=dom-MediaCue-textPosition&gt;textPosition&lt;/span&gt;;
+  readonly attribute long &lt;span title=dom-MediaCue-size&gt;size&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=dom-MediaCue-direction&gt;direction&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=dom-MediaCue-alignment&gt;alignment&lt;/span&gt;;
+
+  readonly attribute DOMString &lt;span title=dom-MediaCue-voice&gt;voice&lt;/span&gt;;
+  DOMString &lt;span title=dom-MediaCue-getCueAsSource()&gt;getCueAsSource&lt;/span&gt;();
+  &lt;a href=#documentfragment&gt;DocumentFragment&lt;/a&gt; &lt;span title=dom-MediaCue-getCueAsHTML()&gt;getCueAsHTML&lt;/span&gt;();
+};&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
+
   &lt;p&gt;The &lt;dfn id=media-element-attributes&gt;media element attributes&lt;/dfn&gt;, &lt;code title=attr-media-src&gt;&lt;a href=#attr-media-src&gt;src&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-media-preload&gt;&lt;a href=#attr-media-preload&gt;preload&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-media-autoplay&gt;&lt;a href=#attr-media-autoplay&gt;autoplay&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-media-loop&gt;&lt;a href=#attr-media-loop&gt;loop&lt;/a&gt;&lt;/code&gt;, and &lt;code title=attr-media-controls&gt;&lt;a href=#attr-media-controls&gt;controls&lt;/a&gt;&lt;/code&gt;, apply to all &lt;a href=#media-element title=&quot;media element&quot;&gt;media elements&lt;/a&gt;. They are defined in
   this section.&lt;/p&gt;
 
@@ -25633,19 +25692,82 @@
 
   &lt;p class=XXX&gt;processing model for timed tracks&lt;/p&gt;
 
+&lt;!--
+  // timed tracks on HTMLMediaElement:
+  readonly attribute &lt;span&gt;MediaTrack&lt;/span&gt;[] &lt;span title=&quot;dom-media-tracks&quot;&gt;tracks&lt;/span&gt;;
+  &lt;span&gt;MutableMediaTrack&lt;/span&gt; &lt;span title=&quot;dom-media-addTrack&quot;&gt;addTrack&lt;/span&gt;(in DOMString label, in DOMString kind, in DOMString language);
+
+interface &lt;dfn&gt;MediaTrack&lt;/dfn&gt; {
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaTrack-kind&quot;&gt;kind&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaTrack-label&quot;&gt;label&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaTrack-language&quot;&gt;language&lt;/span&gt;;
+
+  const unsigned short &lt;span title=&quot;dom-MediaTrack-TRACK_OFF&quot;&gt;TRACK_OFF&lt;/span&gt; = 0;
+  const unsigned short &lt;span title=&quot;dom-MediaTrack-TRACK_HIDDEN&quot;&gt;TRACK_HIDDEN&lt;/span&gt; = 1;
+  const unsigned short &lt;span title=&quot;dom-MediaTrack-TRACK_SHOWING&quot;&gt;TRACK_SHOWING&lt;/span&gt; = 2;
+  readonly attribute unsigned short &lt;span title=&quot;dom-MediaTrack-mode&quot;&gt;mode&lt;/span&gt;;
+
+  readonly attribute &lt;span&gt;MediaCueList&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-cues&quot;&gt;cues&lt;/span&gt;;
+  readonly attribute &lt;Span&gt;MediaCueList&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-activeCues&quot;&gt;activeCues&lt;/span&gt;;
+  readonly attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-onentercue&quot;&gt;onentercue&lt;/span&gt;;
+  readonly attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-onexitcue&quot;&gt;onexitcue&lt;/span&gt;;
+};
+
+interface &lt;dfn&gt;MutableMediaTrack&lt;/dfn&gt; : &lt;span&gt;MediaTrack&lt;/span&gt; {
+ void &lt;span title=&quot;dom-MutableMediaTrack-addCue&quot;&gt;addCue&quot;&gt;(in &lt;span&gt;MediaCue&lt;/span&gt; cue);
+ void &lt;span title=&quot;dom-MutableMediaTrack-removeCue&quot;&gt;removeCue&quot;&gt;(in &lt;span&gt;MediaCue&lt;/span&gt; cue);
+};
+
+interface &lt;dfn&gt;MediaCueList&lt;/dfn&gt; {
+  readonly attribute unsigned long &lt;span title=&quot;dom-MediaCueList-length&quot;&gt;length&lt;/span&gt;;
+  getter &lt;span&gt;MediaCue&lt;/span&gt; (in unsigned long index);
+  &lt;span&gt;MediaCue&lt;/span&gt; getCueById(in DOMString id);
+};
+
+[Constructor(in DOMString id, in float startTime, in float endTime, in DOMString settings, in DOMString text, in optional boolean pauseOnExit)]
+interface &lt;dfn&gt;MediaCue&lt;/dfn&gt; {
+  readonly attribute &lt;span&gt;MediaTrack&lt;/span&gt; &lt;span title=&quot;dom-MediaCue-track&quot;&gt;track&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-id&quot;&gt;id&lt;/span&gt;;
+
+  readonly attribute float &lt;span title=&quot;dom-MediaCue-startTime&quot;&gt;startTime&lt;/span&gt;;
+  readonly attribute float &lt;span title=&quot;dom-MediaCue-endTime&quot;&gt;endTime&lt;/span&gt;;
+  readonly attribute boolean &lt;span title=&quot;dom-MediaCue-pauseOnExit&quot;&gt;pauseOnExit&lt;/span&gt;;
+
+  readonly attribute boolean &lt;span title=&quot;dom-MediaCue-snapToLines&quot;&gt;snapToLines&lt;/span&gt;;
+  readonly attribute long &lt;span title=&quot;dom-MediaCue-linePosition&quot;&gt;linePosition&lt;/span&gt;;
+  readonly attribute long &lt;span title=&quot;dom-MediaCue-textPosition&quot;&gt;textPosition&lt;/span&gt;;
+  readonly attribute long &lt;span title=&quot;dom-MediaCue-size&quot;&gt;size&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-direction&quot;&gt;direction&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-alignment&quot;&gt;alignment&lt;/span&gt;;
+
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-voice&quot;&gt;voice&lt;/span&gt;;
+  DOMString &lt;span title=&quot;dom-MediaCue-getCueAsSource()&quot;&gt;getCueAsSource&lt;/span&gt;();
+  &lt;span&gt;DocumentFragment&lt;/span&gt; &lt;span title=&quot;dom-MediaCue-getCueAsHTML()&quot;&gt;getCueAsHTML&lt;/span&gt;();
+};
+--&gt;
+
   &lt;h6 id=timed-track-model&gt;&lt;span class=secno&gt;4.8.10.10.1 &lt;/span&gt;Timed track model&lt;/h6&gt;
 
   &lt;p class=XXX&gt;...
 
-  &lt;h6 id=in-band-timed-tracks&gt;&lt;span class=secno&gt;4.8.10.10.2 &lt;/span&gt;In-band timed tracks&lt;/h6&gt;
+  &lt;h6 id=event-definitions&gt;&lt;span class=secno&gt;4.8.10.10.2 &lt;/span&gt;Event definitions&lt;/h6&gt;
 
   &lt;p class=XXX&gt;...
 
-  &lt;h6 id=websrt&gt;&lt;span class=secno&gt;4.8.10.10.3 &lt;/span&gt;WebSRT&lt;/h6&gt;
+&lt;!-- XXX
+CueEvent
+ readonly attribute MediaCue cue;
+--&gt;
 
+  &lt;h6 id=in-band-timed-tracks&gt;&lt;span class=secno&gt;4.8.10.10.3 &lt;/span&gt;In-band timed tracks&lt;/h6&gt;
+
   &lt;p class=XXX&gt;...
 
+  &lt;h6 id=websrt&gt;&lt;span class=secno&gt;4.8.10.10.4 &lt;/span&gt;WebSRT&lt;/h6&gt;
 
+  &lt;p class=XXX&gt;...
+
+
   &lt;h5 id=user-interface&gt;&lt;span class=secno&gt;4.8.10.11 &lt;/span&gt;User interface&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=attr-media-controls title=attr-media-controls&gt;&lt;code&gt;controls&lt;/code&gt;&lt;/dfn&gt;
@@ -56855,7 +56977,7 @@
   &lt;a href=#dom-manipulation-task-source&gt;DOM manipulation task source&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h5 id=event-definitions&gt;&lt;span class=secno&gt;6.5.9.1 &lt;/span&gt;Event definitions&lt;/h5&gt;
+  &lt;h5 id=event-definitions-0&gt;&lt;span class=secno&gt;6.5.9.1 &lt;/span&gt;Event definitions&lt;/h5&gt;
 
   &lt;/div&gt;
 
@@ -65488,7 +65610,7 @@
 
 
 
-  &lt;h3 id=event-definitions-0&gt;&lt;span class=secno&gt;9.1 &lt;/span&gt;Event definitions&lt;/h3&gt;
+  &lt;h3 id=event-definitions-1&gt;&lt;span class=secno&gt;9.1 &lt;/span&gt;Event definitions&lt;/h3&gt;
 
   &lt;p&gt;Messages in &lt;span&gt;server-sent events&lt;/span&gt;, &lt;span&gt;Web
   sockets&lt;/span&gt;, &lt;a href=#crossDocumentMessages&gt;cross-document messaging&lt;/a&gt;, and

Modified: source
===================================================================
--- source	2010-05-04 04:21:19 UTC (rev 5070)
+++ source	2010-05-04 07:36:58 UTC (rev 5071)
@@ -25187,6 +25187,8 @@
            attribute DOMString &lt;span title=&quot;dom-track-label&quot;&gt;label&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-track-src&quot;&gt;src&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-track-srclang&quot;&gt;srclang&lt;/span&gt;;
+
+  readonly attribute &lt;span&gt;MediaTrack&lt;/span&gt; &lt;span title=&quot;dom-track-track&quot;&gt;track&lt;/span&gt;;
 };&lt;/pre&gt;
    &lt;/dd&gt;
   &lt;/dl&gt;
@@ -25257,8 +25259,12 @@
   language, and whose &lt;code title=&quot;attr-track-label&quot;&gt;label&lt;/code&gt;
   attributes are again both missing or both have the same value.&lt;/p&gt;
 
+  &lt;p class=&quot;XXX&quot;&gt;domintro for track.track&lt;/p&gt;
+
   &lt;div class=&quot;impl&quot;&gt;
 
+  &lt;p class=&quot;XXX&quot;&gt;track.track&lt;/p&gt;
+
   &lt;p&gt;The IDL attributes &lt;dfn
   title=&quot;dom-track-kind&quot;&gt;&lt;code&gt;kind&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn
   title=&quot;dom-track-label&quot;&gt;&lt;code&gt;label&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn
@@ -25324,6 +25330,58 @@
            attribute boolean &lt;span title=&quot;dom-media-controls&quot;&gt;controls&lt;/span&gt;;
            attribute float &lt;span title=&quot;dom-media-volume&quot;&gt;volume&lt;/span&gt;;
            attribute boolean &lt;span title=&quot;dom-media-muted&quot;&gt;muted&lt;/span&gt;;
+
+  // timed tracks
+  readonly attribute &lt;span&gt;MediaTrack&lt;/span&gt;[] &lt;span title=&quot;dom-media-tracks&quot;&gt;tracks&lt;/span&gt;;
+  &lt;span&gt;MutableMediaTrack&lt;/span&gt; &lt;span title=&quot;dom-media-addTrack&quot;&gt;addTrack&lt;/span&gt;(in DOMString label, in DOMString kind, in DOMString language);
+};
+
+interface &lt;dfn&gt;MediaTrack&lt;/dfn&gt; {
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaTrack-kind&quot;&gt;kind&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaTrack-label&quot;&gt;label&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaTrack-language&quot;&gt;language&lt;/span&gt;;
+
+  const unsigned short &lt;span title=&quot;dom-MediaTrack-TRACK_OFF&quot;&gt;TRACK_OFF&lt;/span&gt; = 0;
+  const unsigned short &lt;span title=&quot;dom-MediaTrack-TRACK_HIDDEN&quot;&gt;TRACK_HIDDEN&lt;/span&gt; = 1;
+  const unsigned short &lt;span title=&quot;dom-MediaTrack-TRACK_SHOWING&quot;&gt;TRACK_SHOWING&lt;/span&gt; = 2;
+  readonly attribute unsigned short &lt;span title=&quot;dom-MediaTrack-mode&quot;&gt;mode&lt;/span&gt;;
+
+  readonly attribute &lt;span&gt;MediaCueList&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-cues&quot;&gt;cues&lt;/span&gt;;
+  readonly attribute &lt;Span&gt;MediaCueList&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-activeCues&quot;&gt;activeCues&lt;/span&gt;;
+  readonly attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-onentercue&quot;&gt;onentercue&lt;/span&gt;;
+  readonly attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-onexitcue&quot;&gt;onexitcue&lt;/span&gt;;
+};
+
+interface &lt;dfn&gt;MutableMediaTrack&lt;/dfn&gt; : &lt;span&gt;MediaTrack&lt;/span&gt; {
+ void &lt;span title=&quot;dom-MutableMediaTrack-addCue&quot;&gt;addCue&quot;&gt;(in &lt;span&gt;MediaCue&lt;/span&gt; cue);
+ void &lt;span title=&quot;dom-MutableMediaTrack-removeCue&quot;&gt;removeCue&quot;&gt;(in &lt;span&gt;MediaCue&lt;/span&gt; cue);
+};
+
+interface &lt;dfn&gt;MediaCueList&lt;/dfn&gt; {
+  readonly attribute unsigned long &lt;span title=&quot;dom-MediaCueList-length&quot;&gt;length&lt;/span&gt;;
+  getter &lt;span&gt;MediaCue&lt;/span&gt; (in unsigned long index);
+  &lt;span&gt;MediaCue&lt;/span&gt; getCueById(in DOMString id);
+};
+
+[Constructor(in DOMString id, in float startTime, in float endTime, in DOMString settings, in DOMString text, in optional boolean pauseOnExit)]
+interface &lt;dfn&gt;MediaCue&lt;/dfn&gt; {
+  readonly attribute &lt;span&gt;MediaTrack&lt;/span&gt; &lt;span title=&quot;dom-MediaCue-track&quot;&gt;track&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-id&quot;&gt;id&lt;/span&gt;;
+
+  readonly attribute float &lt;span title=&quot;dom-MediaCue-startTime&quot;&gt;startTime&lt;/span&gt;;
+  readonly attribute float &lt;span title=&quot;dom-MediaCue-endTime&quot;&gt;endTime&lt;/span&gt;;
+  readonly attribute boolean &lt;span title=&quot;dom-MediaCue-pauseOnExit&quot;&gt;pauseOnExit&lt;/span&gt;;
+
+  readonly attribute boolean &lt;span title=&quot;dom-MediaCue-snapToLines&quot;&gt;snapToLines&lt;/span&gt;;
+  readonly attribute long &lt;span title=&quot;dom-MediaCue-linePosition&quot;&gt;linePosition&lt;/span&gt;;
+  readonly attribute long &lt;span title=&quot;dom-MediaCue-textPosition&quot;&gt;textPosition&lt;/span&gt;;
+  readonly attribute long &lt;span title=&quot;dom-MediaCue-size&quot;&gt;size&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-direction&quot;&gt;direction&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-alignment&quot;&gt;alignment&lt;/span&gt;;
+
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-voice&quot;&gt;voice&lt;/span&gt;;
+  DOMString &lt;span title=&quot;dom-MediaCue-getCueAsSource()&quot;&gt;getCueAsSource&lt;/span&gt;();
+  &lt;span&gt;DocumentFragment&lt;/span&gt; &lt;span title=&quot;dom-MediaCue-getCueAsHTML()&quot;&gt;getCueAsHTML&lt;/span&gt;();
 };&lt;/pre&gt;
 
   &lt;p&gt;The &lt;dfn&gt;media element attributes&lt;/dfn&gt;, &lt;code
@@ -27803,10 +27861,73 @@
 
   &lt;p class=&quot;XXX&quot;&gt;processing model for timed tracks&lt;/p&gt;
 
+&lt;!--
+  // timed tracks on HTMLMediaElement:
+  readonly attribute &lt;span&gt;MediaTrack&lt;/span&gt;[] &lt;span title=&quot;dom-media-tracks&quot;&gt;tracks&lt;/span&gt;;
+  &lt;span&gt;MutableMediaTrack&lt;/span&gt; &lt;span title=&quot;dom-media-addTrack&quot;&gt;addTrack&lt;/span&gt;(in DOMString label, in DOMString kind, in DOMString language);
+
+interface &lt;dfn&gt;MediaTrack&lt;/dfn&gt; {
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaTrack-kind&quot;&gt;kind&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaTrack-label&quot;&gt;label&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaTrack-language&quot;&gt;language&lt;/span&gt;;
+
+  const unsigned short &lt;span title=&quot;dom-MediaTrack-TRACK_OFF&quot;&gt;TRACK_OFF&lt;/span&gt; = 0;
+  const unsigned short &lt;span title=&quot;dom-MediaTrack-TRACK_HIDDEN&quot;&gt;TRACK_HIDDEN&lt;/span&gt; = 1;
+  const unsigned short &lt;span title=&quot;dom-MediaTrack-TRACK_SHOWING&quot;&gt;TRACK_SHOWING&lt;/span&gt; = 2;
+  readonly attribute unsigned short &lt;span title=&quot;dom-MediaTrack-mode&quot;&gt;mode&lt;/span&gt;;
+
+  readonly attribute &lt;span&gt;MediaCueList&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-cues&quot;&gt;cues&lt;/span&gt;;
+  readonly attribute &lt;Span&gt;MediaCueList&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-activeCues&quot;&gt;activeCues&lt;/span&gt;;
+  readonly attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-onentercue&quot;&gt;onentercue&lt;/span&gt;;
+  readonly attribute &lt;span&gt;Function&lt;/span&gt; &lt;span title=&quot;dom-MediaTrack-onexitcue&quot;&gt;onexitcue&lt;/span&gt;;
+};
+
+interface &lt;dfn&gt;MutableMediaTrack&lt;/dfn&gt; : &lt;span&gt;MediaTrack&lt;/span&gt; {
+ void &lt;span title=&quot;dom-MutableMediaTrack-addCue&quot;&gt;addCue&quot;&gt;(in &lt;span&gt;MediaCue&lt;/span&gt; cue);
+ void &lt;span title=&quot;dom-MutableMediaTrack-removeCue&quot;&gt;removeCue&quot;&gt;(in &lt;span&gt;MediaCue&lt;/span&gt; cue);
+};
+
+interface &lt;dfn&gt;MediaCueList&lt;/dfn&gt; {
+  readonly attribute unsigned long &lt;span title=&quot;dom-MediaCueList-length&quot;&gt;length&lt;/span&gt;;
+  getter &lt;span&gt;MediaCue&lt;/span&gt; (in unsigned long index);
+  &lt;span&gt;MediaCue&lt;/span&gt; getCueById(in DOMString id);
+};
+
+[Constructor(in DOMString id, in float startTime, in float endTime, in DOMString settings, in DOMString text, in optional boolean pauseOnExit)]
+interface &lt;dfn&gt;MediaCue&lt;/dfn&gt; {
+  readonly attribute &lt;span&gt;MediaTrack&lt;/span&gt; &lt;span title=&quot;dom-MediaCue-track&quot;&gt;track&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-id&quot;&gt;id&lt;/span&gt;;
+
+  readonly attribute float &lt;span title=&quot;dom-MediaCue-startTime&quot;&gt;startTime&lt;/span&gt;;
+  readonly attribute float &lt;span title=&quot;dom-MediaCue-endTime&quot;&gt;endTime&lt;/span&gt;;
+  readonly attribute boolean &lt;span title=&quot;dom-MediaCue-pauseOnExit&quot;&gt;pauseOnExit&lt;/span&gt;;
+
+  readonly attribute boolean &lt;span title=&quot;dom-MediaCue-snapToLines&quot;&gt;snapToLines&lt;/span&gt;;
+  readonly attribute long &lt;span title=&quot;dom-MediaCue-linePosition&quot;&gt;linePosition&lt;/span&gt;;
+  readonly attribute long &lt;span title=&quot;dom-MediaCue-textPosition&quot;&gt;textPosition&lt;/span&gt;;
+  readonly attribute long &lt;span title=&quot;dom-MediaCue-size&quot;&gt;size&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-direction&quot;&gt;direction&lt;/span&gt;;
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-alignment&quot;&gt;alignment&lt;/span&gt;;
+
+  readonly attribute DOMString &lt;span title=&quot;dom-MediaCue-voice&quot;&gt;voice&lt;/span&gt;;
+  DOMString &lt;span title=&quot;dom-MediaCue-getCueAsSource()&quot;&gt;getCueAsSource&lt;/span&gt;();
+  &lt;span&gt;DocumentFragment&lt;/span&gt; &lt;span title=&quot;dom-MediaCue-getCueAsHTML()&quot;&gt;getCueAsHTML&lt;/span&gt;();
+};
+--&gt;
+
   &lt;h6&gt;Timed track model&lt;/h6&gt;
 
   &lt;p class=&quot;XXX&quot;&gt;...
 
+  &lt;h6&gt;Event definitions&lt;/h6&gt;
+
+  &lt;p class=&quot;XXX&quot;&gt;...
+
+&lt;!-- XXX
+CueEvent
+ readonly attribute MediaCue cue;
+--&gt;
+
   &lt;h6&gt;In-band timed tracks&lt;/h6&gt;
 
   &lt;p class=&quot;XXX&quot;&gt;...


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011941.html">[html5] r5070 - [e] (0) remove old cuerange stuff
</A></li>
	<LI>Next message: <A HREF="011943.html">[html5] r5072 - [giow] (0) Captions - Stage 3: defining what a	timed track and a timed track cue are.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11942">[ date ]</a>
              <a href="thread.html#11942">[ thread ]</a>
              <a href="subject.html#11942">[ subject ]</a>
              <a href="author.html#11942">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
