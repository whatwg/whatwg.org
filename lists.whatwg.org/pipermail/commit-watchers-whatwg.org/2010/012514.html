<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r5647 - [giow] (0) dropzone 2/5 and 3/5: Update the spec to	use the new DND model. In th [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5647%20-%20%5Bgiow%5D%20%280%29%20dropzone%202/5%20and%203/5%3A%20Update%20the%20spec%20to%0A%09use%20the%20new%20DND%20model.%20In%20th%20%5B...%5D&In-Reply-To=%3C20101027230155.8A41C80581BA%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012513.html">
   <LINK REL="Next"  HREF="012515.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r5647 - [giow] (0) dropzone 2/5 and 3/5: Update the spec to	use the new DND model. In th [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5647%20-%20%5Bgiow%5D%20%280%29%20dropzone%202/5%20and%203/5%3A%20Update%20the%20spec%20to%0A%09use%20the%20new%20DND%20model.%20In%20th%20%5B...%5D&In-Reply-To=%3C20101027230155.8A41C80581BA%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r5647 - [giow] (0) dropzone 2/5 and 3/5: Update the spec to	use the new DND model. In th [...]">whatwg at whatwg.org
       </A><BR>
    <I>Wed Oct 27 16:01:55 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="012513.html">[html5] r5646 - [e] (0) dropzone 1/5: the new model Fixing	http://www.w3.org/Bugs/Public/show_bu [...]
</A></li>
        <LI>Next message: <A HREF="012515.html">[html5] r5648 - [giow] (0) Actually disassociate the DataTransfer	object and the drag data store [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12514">[ date ]</a>
              <a href="thread.html#12514">[ thread ]</a>
              <a href="subject.html#12514">[ subject ]</a>
              <a href="author.html#12514">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2010-10-27 16:01:54 -0700 (Wed, 27 Oct 2010)
New Revision: 5647

Modified:
   complete.html
   index
   source
Log:
[giow] (0) dropzone 2/5 and 3/5: Update the spec to use the new DND model. In theory, this makes no normative difference, but I'm sure I made some mistakes... let me know if you spot any.
Fixing <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=10712">http://www.w3.org/Bugs/Public/show_bug.cgi?id=10712</A>

Modified: complete.html
===================================================================
--- complete.html	2010-10-25 22:32:13 UTC (rev 5646)
+++ complete.html	2010-10-27 23:01:54 UTC (rev 5647)
@@ -214,7 +214,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> rel=home&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1&gt;Web Applications 1.0&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Draft Standard &mdash; 25 October 2010&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Draft Standard &mdash; 27 October 2010&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;p&gt;You can take part in this work. &lt;a href=<A HREF="http://www.whatwg.org/mailing-list">http://www.whatwg.org/mailing-list</A>&gt;Join the working group's discussion list.&lt;/a&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;Web designers!&lt;/strong&gt; We have a &lt;a href=<A HREF="http://blog.whatwg.org/faq/">http://blog.whatwg.org/faq/</A>&gt;FAQ&lt;/a&gt;, a &lt;a href=<A HREF="http://forums.whatwg.org/">http://forums.whatwg.org/</A>&gt;forum&lt;/a&gt;, and a &lt;a href=<A HREF="http://www.whatwg.org/mailing-list#help">http://www.whatwg.org/mailing-list#help</A>&gt;help mailing list&lt;/a&gt; for you!&lt;/p&gt;
    &lt;!--&lt;p class=&quot;impl&quot;&gt;&lt;strong&gt;Implementors!&lt;/strong&gt; We have a &lt;a href=&quot;<A HREF="http://www.whatwg.org/mailing-list#implementors">http://www.whatwg.org/mailing-list#implementors</A>&quot;&gt;mailing list&lt;/a&gt; for you too!&lt;/p&gt;--&gt;
@@ -958,16 +958,18 @@
    &lt;li&gt;&lt;a href=#dnd&gt;&lt;span class=secno&gt;8.7 &lt;/span&gt;Drag and drop&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#introduction-7&gt;&lt;span class=secno&gt;8.7.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-dragevent-and-datatransfer-interfaces&gt;&lt;span class=secno&gt;8.7.2 &lt;/span&gt;The &lt;code&gt;DragEvent&lt;/code&gt; and &lt;code&gt;DataTransfer&lt;/code&gt; interfaces&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#dndevents&gt;&lt;span class=secno&gt;8.7.3 &lt;/span&gt;Events fired during a drag-and-drop action&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.7.4 &lt;/span&gt;Drag-and-drop processing model&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#the-drag-data-store&gt;&lt;span class=secno&gt;8.7.2 &lt;/span&gt;The drag data store&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-datatransfer-interface&gt;&lt;span class=secno&gt;8.7.3 &lt;/span&gt;The &lt;code&gt;DataTransfer&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-dragevent-interface&gt;&lt;span class=secno&gt;8.7.4 &lt;/span&gt;The &lt;code&gt;DragEvent&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.7.5 &lt;/span&gt;Drag-and-drop processing model&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#when-the-drag-and-drop-operation-starts-or-ends-in-another-document&gt;&lt;span class=secno&gt;8.7.4.1 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
+       &lt;li&gt;&lt;a href=#when-the-drag-and-drop-operation-starts-or-ends-in-another-document&gt;&lt;span class=secno&gt;8.7.5.1 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
   document&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#when-the-drag-and-drop-operation-starts-or-ends-in-another-application&gt;&lt;span class=secno&gt;8.7.4.2 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
+       &lt;li&gt;&lt;a href=#when-the-drag-and-drop-operation-starts-or-ends-in-another-application&gt;&lt;span class=secno&gt;8.7.5.2 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
   application&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-draggable-attribute&gt;&lt;span class=secno&gt;8.7.5 &lt;/span&gt;The &lt;code&gt;draggable&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.7.6 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#dndevents&gt;&lt;span class=secno&gt;8.7.6 &lt;/span&gt;Events summary&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-draggable-attribute&gt;&lt;span class=secno&gt;8.7.7 &lt;/span&gt;The &lt;code&gt;draggable&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.7.8 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#undo&gt;&lt;span class=secno&gt;8.8 &lt;/span&gt;Undo history&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#definitions-2&gt;&lt;span class=secno&gt;8.8.1 &lt;/span&gt;Definitions&lt;/a&gt;&lt;/li&gt;
@@ -65931,138 +65933,150 @@
 
 
 
+  &lt;h4 id=the-drag-data-store&gt;&lt;span class=secno&gt;8.7.2 &lt;/span&gt;The drag data store&lt;/h4&gt;
 
-  &lt;h4 id=the-dragevent-and-datatransfer-interfaces&gt;&lt;span class=secno&gt;8.7.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; interfaces&lt;/h4&gt;
+  &lt;p&gt;The data that underlies a drag-and-drop operation, known as the
+  &lt;dfn id=drag-data-store&gt;drag data store&lt;/dfn&gt;, consists of the following information:&lt;/p&gt;
 
-  &lt;p&gt;The drag-and-drop processing model involves several events. They
-  all use the &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
+  &lt;ul&gt;&lt;li&gt;&lt;p&gt;A &lt;dfn id=drag-data-store-item-list&gt;drag data store item list&lt;/dfn&gt;, which is a list of
+   items representing the dragged data, each consisting of the
+   following information:&lt;/p&gt;
 
-  &lt;pre class=idl&gt;interface &lt;dfn id=dragevent&gt;DragEvent&lt;/dfn&gt; : &lt;span&gt;MouseEvent&lt;/span&gt; {
-  readonly attribute &lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt; &lt;a href=#dom-dragevent-datatransfer title=dom-DragEvent-dataTransfer&gt;dataTransfer&lt;/a&gt;;
+    &lt;dl&gt;&lt;dt&gt;&lt;dfn id=the-drag-data-item-type-string&gt;The drag data item type string&lt;/dfn&gt;&lt;/dt&gt;
 
-  void &lt;a href=#dom-dragevent-initdragevent title=dom-DragEvent-initDragEvent&gt;initDragEvent&lt;/a&gt;(in DOMString typeArg, in boolean canBubbleArg, in boolean cancelableArg, in any dummyArg&lt;!-- used to be viewArg, back when we had views --&gt;, in long detailArg, in long screenXArg, in long screenYArg, in long clientXArg, in long clientYArg, in boolean ctrlKeyArg, in boolean altKeyArg, in boolean shiftKeyArg, in boolean metaKeyArg, in unsigned short buttonArg, in EventTarget relatedTargetArg, in &lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt; dataTransferArg);
-};&lt;/pre&gt;
+     &lt;dd&gt;
 
-  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;event&lt;/var&gt; . &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+      &lt;p&gt;A Unicode string giving the type or format of the data,
+      generally given by a &lt;a href=#mime-type&gt;MIME type&lt;/a&gt;. Some values that
+      are not &lt;a href=#mime-type title=&quot;MIME type&quot;&gt;MIME types&lt;/a&gt; are
+      special-cased for legacy reasons. The API does not enforce the
+      use of &lt;a href=#mime-type title=&quot;MIME type&quot;&gt;MIME types&lt;/a&gt;; other values
+      can be used as well. In all cases, however, the values are all
+      &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII lowercase&lt;/a&gt; by the API.&lt;/p&gt;
 
-   &lt;dd&gt;
+     &lt;/dd&gt;
 
-    &lt;p&gt;Returns the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object for the event.&lt;/p&gt;
+     &lt;dt&gt;&lt;dfn id=the-drag-data-item-kind&gt;The drag data item kind&lt;/dfn&gt;&lt;/dt&gt;
 
-   &lt;/dd&gt;
+     &lt;dd&gt;
 
-  &lt;/dl&gt;&lt;div class=impl&gt;
+      &lt;p&gt;The kind of data:&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-dragevent-initdragevent title=dom-DragEvent-initDragEvent&gt;&lt;code&gt;initDragEvent()&lt;/code&gt;&lt;/dfn&gt;
-  method must initialize the event in a manner analogous to the
-  similarly-named method in the DOM Events interfaces, except that the
-  &lt;var title=&quot;&quot;&gt;dummyArg&lt;/var&gt; argument must be ignored. &lt;a href=#refsDOMEVENTS&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt;
+      &lt;dl&gt;&lt;dt&gt;&lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
+       &lt;dd&gt;
+        &lt;p&gt;Raw text.&lt;/p&gt;
+       &lt;/dd&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-dragevent-datatransfer title=dom-DragEvent-dataTransfer&gt;&lt;code&gt;dataTransfer&lt;/code&gt;&lt;/dfn&gt;
-  attribute of the &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface represents the
-  context information for the event.&lt;/p&gt;
+       &lt;dt&gt;&lt;i&gt;Blob&lt;/i&gt;&lt;/dt&gt;
+       &lt;dd&gt;
+        &lt;p&gt;Binary data.&lt;/p&gt;
+       &lt;/dd&gt;
 
-  &lt;/div&gt;
+       &lt;dt&gt;&lt;i&gt;File&lt;/i&gt;&lt;/dt&gt;
+       &lt;dd&gt;
+        &lt;p&gt;Binary data with a file name.&lt;/p&gt;
+       &lt;/dd&gt;
 
-  &lt;pre class=idl&gt;interface &lt;dfn id=datatransfer&gt;DataTransfer&lt;/dfn&gt; {
-           attribute DOMString &lt;a href=#dom-datatransfer-dropeffect title=dom-DataTransfer-dropEffect&gt;dropEffect&lt;/a&gt;;
-           attribute DOMString &lt;a href=#dom-datatransfer-effectallowed title=dom-DataTransfer-effectAllowed&gt;effectAllowed&lt;/a&gt;;
+      &lt;/dl&gt;&lt;/dd&gt;
 
-  readonly attribute DOMStringList &lt;a href=#dom-datatransfer-types title=dom-DataTransfer-types&gt;types&lt;/a&gt;;
-  void &lt;a href=#dom-datatransfer-cleardata title=dom-DataTransfer-clearData&gt;clearData&lt;/a&gt;(in optional DOMString format);
-  void &lt;a href=#dom-datatransfer-setdata title=dom-DataTransfer-setData&gt;setData&lt;/a&gt;(in DOMString format, in DOMString data);
-  DOMString &lt;a href=#dom-datatransfer-getdata title=dom-DataTransfer-getData&gt;getData&lt;/a&gt;(in DOMString format);
-  readonly attribute &lt;span&gt;FileList&lt;/span&gt; &lt;a href=#dom-datatransfer-files title=dom-DataTransfer-files&gt;files&lt;/a&gt;;
+     &lt;dt&gt;The actual data&lt;/dt&gt;
 
-  void &lt;a href=#dom-datatransfer-setdragimage title=dom-DataTransfer-setDragImage&gt;setDragImage&lt;/a&gt;(in Element image, in long x, in long y);
-  void &lt;a href=#dom-datatransfer-addelement title=dom-DataTransfer-addElement&gt;addElement&lt;/a&gt;(in Element element);
-};&lt;/pre&gt;
+     &lt;dd&gt;&lt;p&gt;A Unicode or binary string, optionally with a file name
+     (itself a Unicode string), as per &lt;a href=#the-drag-data-item-kind&gt;the drag data item
+     kind&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;p&gt;&lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; objects are used to expose the data
-  that underlies a drag-and-drop operation.&lt;/p&gt;
+    &lt;/dl&gt;&lt;/li&gt;
 
-  &lt;p&gt;The data that underlies a drag-and-drop operation, known as the
-  &lt;dfn id=drag-data-store&gt;drag data store&lt;/dfn&gt;, consists of an unordered list of items
-  representing the dragged data, and some information used to generate
-  the UI feedback during the drag.&lt;/p&gt;
+   &lt;li&gt;
 
-  &lt;p&gt;Each item representing dragged data in a &lt;a href=#drag-data-store&gt;drag data
-  store&lt;/a&gt; has the following information:&lt;/p&gt;
+    &lt;p&gt;The following information, used to generate the UI feedback
+    during the drag:&lt;/p&gt;
 
-  &lt;ul&gt;&lt;li&gt;
+    &lt;ul&gt;&lt;li&gt;User-agent-defined default feedback information, known as the
+     &lt;dfn id=drag-data-store-default-feedback&gt;drag data store default feedback&lt;/dfn&gt;.&lt;/li&gt;
 
-    &lt;p&gt;The type or format of the data, generally given by a &lt;a href=#mime-type&gt;MIME
-    type&lt;/a&gt;. Some values that are not &lt;a href=#mime-type title=&quot;MIME type&quot;&gt;MIME
-    types&lt;/a&gt; are special-cased for legacy reasons. The API does
-    not enforce the use of &lt;a href=#mime-type title=&quot;MIME type&quot;&gt;MIME types&lt;/a&gt;;
-    other values can be used as well. In all cases, however, the
-    values are all &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII lowercase&lt;/a&gt; by the
-    API.&lt;/p&gt;
+     &lt;li&gt;A list of zero or more elements known as the &lt;dfn id=drag-data-store-elements-list&gt;drag data
+     store elements list&lt;/dfn&gt;.&lt;/li&gt;
 
-   &lt;/li&gt;
+     &lt;li&gt;Optionally, a bitmap image and the coordinate of a point
+     within that image, known as the &lt;dfn id=drag-data-store-bitmap&gt;drag data store bitmap&lt;/dfn&gt;
+     and &lt;dfn id=drag-data-store-hot-spot-coordinate&gt;drag data store hot spot coordinate&lt;/dfn&gt;.&lt;/li&gt;
 
+    &lt;/ul&gt;&lt;/li&gt;
+
    &lt;li&gt;
 
-    &lt;p&gt;The kind of data:&lt;/p&gt;
+    &lt;p&gt;A &lt;dfn id=drag-data-store-mode&gt;drag data store mode&lt;/dfn&gt;, which is one of the
+    following:&lt;/p&gt;
 
-    &lt;dl&gt;&lt;dt&gt;Plain Unicode string&lt;/dt&gt;
+    &lt;dl&gt;&lt;dt&gt;&lt;dfn id=concept-dnd-rw title=concept-dnd-rw&gt;Read/write mode&lt;/dfn&gt;&lt;/dt&gt;
      &lt;dd&gt;
-      &lt;p&gt;Raw text.&lt;/p&gt;
+
+      &lt;p&gt;For the &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event.
+      New data can be added to the &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;.&lt;/p&gt;
+
      &lt;/dd&gt;
 
-     &lt;dt&gt;Blob&lt;/dt&gt;
+     &lt;dt&gt;&lt;dfn id=concept-dnd-ro title=concept-dnd-ro&gt;Read-only mode&lt;/dfn&gt;&lt;/dt&gt;
      &lt;dd&gt;
-      &lt;p&gt;Binary data.&lt;/p&gt;
+
+      &lt;p&gt;For the &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; event. The list of
+      items representing dragged data can be read, including the data.
+      No new data can be added.&lt;/p&gt;
+
      &lt;/dd&gt;
 
-     &lt;dt&gt;File&lt;/dt&gt;
+     &lt;dt&gt;&lt;dfn id=concept-dnd-p title=concept-dnd-p&gt;Protected mode&lt;/dfn&gt;&lt;/dt&gt;
      &lt;dd&gt;
-      &lt;p&gt;Binary data with a file name.&lt;/p&gt;
+
+      &lt;p&gt;For all other events. The formats and kinds in the &lt;a href=#drag-data-store&gt;drag
+      data store&lt;/a&gt; list of items representing dragged data can be
+      enumerated, but the data itself is unavailable and no new data can
+      be added.&lt;/p&gt;
+
      &lt;/dd&gt;
 
     &lt;/dl&gt;&lt;/li&gt;
 
-  &lt;/ul&gt;&lt;p&gt;The information in a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt; used to
-  generate the UI feedback during the drag consists of:&lt;/p&gt;
+   &lt;li&gt;
 
-  &lt;ul&gt;&lt;li&gt;A list of zero or more elements.&lt;/li&gt;
+    &lt;p&gt;A &lt;dfn id=drag-data-store-allowed-effects-state&gt;drag data store allowed effects state&lt;/dfn&gt;, which is a
+    string.&lt;/p&gt;
 
-   &lt;li&gt;Optionally, a bitmap image and the coordinate of a point within
-   that image.&lt;/li&gt;
+   &lt;/li&gt;
 
-  &lt;/ul&gt;&lt;p&gt;A &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt; is created at the start of a
-  drag-and-drop operation in the &lt;i&gt;read/write mode&lt;/i&gt;, and then
-  progresses through the following three modes as the operation
-  proceeds:&lt;/p&gt;
+  &lt;/ul&gt;&lt;p&gt;When a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt; is &lt;dfn id=create-a-drag-data-store title=&quot;create a drag
+  data store&quot;&gt;created&lt;/dfn&gt;, it must be initialized such that its
+  &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; is empty, it has no
+  &lt;a href=#drag-data-store-default-feedback&gt;drag data store default feedback&lt;/a&gt;, its &lt;a href=#drag-data-store-elements-list&gt;drag data
+  store elements list&lt;/a&gt; is empty, it has no &lt;a href=#drag-data-store-bitmap&gt;drag data store
+  bitmap&lt;/a&gt; / &lt;a href=#drag-data-store-hot-spot-coordinate&gt;drag data store hot spot coordinate&lt;/a&gt;,
+  its &lt;a href=#drag-data-store-mode&gt;drag data store mode&lt;/a&gt; is &lt;a href=#concept-dnd-p title=concept-dnd-p&gt;protected mode&lt;/a&gt;, and its &lt;a href=#drag-data-store-allowed-effects-state&gt;drag data
+  store allowed effects state&lt;/a&gt; is the string &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;.&lt;/p&gt;
 
-  &lt;dl&gt;&lt;dt&gt;Read/write mode&lt;/dt&gt;
-   &lt;dd&gt;
 
-    &lt;p&gt;At the start of the drag. New data can be added to the
-    &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;.&lt;/p&gt;
+  &lt;h4 id=the-datatransfer-interface&gt;&lt;span class=secno&gt;8.7.3 &lt;/span&gt;The &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
 
-   &lt;/dd&gt;
+  &lt;p&gt;&lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; objects are used to expose the
+  &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt; that underlies a drag-and-drop
+  operation.&lt;/p&gt;
 
-   &lt;dt&gt;Protected mode&lt;/dt&gt;
-   &lt;dd&gt;
+  &lt;pre class=idl&gt;interface &lt;dfn id=datatransfer&gt;DataTransfer&lt;/dfn&gt; {
+           attribute DOMString &lt;a href=#dom-datatransfer-dropeffect title=dom-DataTransfer-dropEffect&gt;dropEffect&lt;/a&gt;;
+           attribute DOMString &lt;a href=#dom-datatransfer-effectallowed title=dom-DataTransfer-effectAllowed&gt;effectAllowed&lt;/a&gt;;
 
-    &lt;p&gt;During the drag. The formats and kinds in the &lt;a href=#drag-data-store&gt;drag data
-    store&lt;/a&gt; list of items representing dragged data can be
-    enumerated, but the data itself is unavailable and no new data can
-    be added.&lt;/p&gt;
+  readonly attribute DOMStringList &lt;a href=#dom-datatransfer-types title=dom-DataTransfer-types&gt;types&lt;/a&gt;;
+  void &lt;a href=#dom-datatransfer-cleardata title=dom-DataTransfer-clearData&gt;clearData&lt;/a&gt;(in optional DOMString format);
+  void &lt;a href=#dom-datatransfer-setdata title=dom-DataTransfer-setData&gt;setData&lt;/a&gt;(in DOMString format, in DOMString data);
+  DOMString &lt;a href=#dom-datatransfer-getdata title=dom-DataTransfer-getData&gt;getData&lt;/a&gt;(in DOMString format);
+  readonly attribute &lt;span&gt;FileList&lt;/span&gt; &lt;a href=#dom-datatransfer-files title=dom-DataTransfer-files&gt;files&lt;/a&gt;;
 
-   &lt;/dd&gt;
+  void &lt;a href=#dom-datatransfer-setdragimage title=dom-DataTransfer-setDragImage&gt;setDragImage&lt;/a&gt;(in Element image, in long x, in long y);
+  void &lt;a href=#dom-datatransfer-addelement title=dom-DataTransfer-addElement&gt;addElement&lt;/a&gt;(in Element element);
+};&lt;/pre&gt;
 
-   &lt;dt&gt;Read-only mode&lt;/dt&gt;
-   &lt;dd&gt;
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;dataTransfer&lt;/var&gt; . &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
 
-    &lt;p&gt;After the drop. The list of items representing dragged data can
-    be read, including the data. No new data can be added.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;&lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;dataTransfer&lt;/var&gt; . &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-
    &lt;dd&gt;
 
     &lt;p&gt;Returns the kind of operation that is currently selected. If
@@ -66072,7 +66086,7 @@
 
     &lt;p&gt;Can be set, to change the selected operation.&lt;/p&gt;
 
-    &lt;p&gt;The possible values are &lt;code title=&quot;&quot;&gt;none&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;.&lt;/p&gt;
+    &lt;p&gt;The possible values are &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, and &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -66084,7 +66098,7 @@
 
     &lt;p&gt;Can be set, to change the allowed operations.&lt;/p&gt;
 
-    &lt;p&gt;The possible values are &lt;code title=&quot;&quot;&gt;none&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;,&lt;/p&gt;
+    &lt;p&gt;The possible values are &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;, and &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;,&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -66148,356 +66162,522 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;!--
+  &lt;/dl&gt;&lt;p&gt;&lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; objects are used during the &lt;a href=#dndevents&gt;drag-and-drop events&lt;/a&gt;, and are only valid while
+  those events are being dispatched.&lt;/p&gt;
 
+&lt;!--
+
 XXX
 
 plan:
- 2. replace the existing API definitions with links to this model
- 3. make it clear there's a new DataTransfer object with each event
  4. expose model with new API
  5. add dropzone=&quot;...&quot; feature
 
---&gt;&lt;div class=impl&gt;
+--&gt;
 
-  &lt;p&gt;When a &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is created, it must be
-  initialized as follows:&lt;/p&gt;
+  &lt;div class=impl&gt;
 
-  &lt;ul&gt;&lt;li&gt;The &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object must initially contain no
-   data, no elements, and have no associated image.&lt;/li&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is associated with a
+  &lt;code&gt;&lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;&lt;/code&gt; while it is valid.&lt;/p&gt;
 
-   &lt;li&gt;The &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
-   attribute must be set to &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;.&lt;/li&gt;
-
-   &lt;li&gt;The &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt;
-   attribute must be set to &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;.&lt;/li&gt;
-
-  &lt;/ul&gt;&lt;p&gt;The &lt;dfn id=dom-datatransfer-dropeffect title=dom-DataTransfer-dropEffect&gt;&lt;code&gt;dropEffect&lt;/code&gt;&lt;/dfn&gt;
+  &lt;p&gt;The &lt;dfn id=dom-datatransfer-dropeffect title=dom-DataTransfer-dropEffect&gt;&lt;code&gt;dropEffect&lt;/code&gt;&lt;/dfn&gt;
   attribute controls the drag-and-drop feedback that the user is given
-  during a drag-and-drop operation.&lt;/p&gt;
+  during a drag-and-drop operation. When the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt;
+  object is created, the &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute is
+  set to a string value. On getting, it must return its current value.
+  On setting, if the new value is one of &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;,
+  &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, or
+  &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, then the attribute's current value
+  must be set to the new value. Other values must be ignored.&lt;/p&gt;
 
-  &lt;p&gt;The attribute must ignore any attempts to set it to a value other
-  than &lt;code title=&quot;&quot;&gt;none&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;. On getting,
-  the attribute must return the last of those four values that it was
-  set to.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn id=dom-datatransfer-effectallowed title=dom-DataTransfer-effectAllowed&gt;&lt;code&gt;effectAllowed&lt;/code&gt;&lt;/dfn&gt;
   attribute is used in the drag-and-drop processing model to
   initialize the &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute
-  during the &lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; events.&lt;/p&gt;
+  during the &lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; events. When the
+  &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is created, the &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
+  attribute is set to a string value. On getting, it must return its
+  current value. On setting, if the new value is one of &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;, or &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;, then the attribute's current value
+  must be set to the new value. Other values must be ignored.&lt;/p&gt;
 
-  &lt;p&gt;The attribute must ignore any attempts to set it to a value other
-  than &lt;code title=&quot;&quot;&gt;none&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;. On getting, the attribute must return
-  the last of those values that it was set to.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn id=dom-datatransfer-types title=dom-DataTransfer-types&gt;&lt;code&gt;types&lt;/code&gt;&lt;/dfn&gt;
   attribute must return a &lt;a href=#live&gt;live&lt;/a&gt; &lt;code&gt;DOMStringList&lt;/code&gt;
-  that contains the list of formats that were added to the
-  &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object in the corresponding &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event. The same object must
-  be returned each time. If any files were included in the drag, then
-  the &lt;code&gt;DOMStringList&lt;/code&gt; object must in addition include the
-  string &quot;&lt;code title=&quot;&quot;&gt;Files&lt;/code&gt;&quot;. (This value can be
-  distinguished from the other values because it is not
-  lowercase.)&lt;/p&gt;
+  giving the strings that the following steps would produce. The same
+  object must be returned each time.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-datatransfer-cleardata title=dom-DataTransfer-clearData&gt;&lt;code&gt;clearData()&lt;/code&gt;&lt;/dfn&gt;
-  method, when called with no arguments, must clear the
-  &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object of all data (for all formats).&lt;/p&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Start with an empty list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/li&gt;
 
-  &lt;p class=note&gt;The &lt;code title=dom-DataTransfer-clearData&gt;&lt;a href=#dom-datatransfer-cleardata&gt;clearData()&lt;/a&gt;&lt;/code&gt; method does
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is no longer
+   associated with a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, the
+   &lt;code&gt;DOMStringList&lt;/code&gt; is empty. Abort these steps; return the
+   empty list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;For each item in the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt;
+   &lt;!-- in some order...? --&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item
+   kind&quot;&gt;kind&lt;/a&gt; is &lt;i&gt;Plain Unicode string&lt;/i&gt;, add an entry to
+   the list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt; consisting of the item's &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data item type string&quot;&gt;type string&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If there are any items in the &lt;a href=#drag-data-store-item-list&gt;drag data store item
+   list&lt;/a&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;kind&lt;/a&gt;
+   is &lt;i&gt;File&lt;/i&gt;, then add an entry to the list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;
+   consisting of the string &quot;&lt;code title=&quot;&quot;&gt;Files&lt;/code&gt;&quot;. (This value
+   can be distinguished from the other values because it is not
+   lowercase.)&lt;/li&gt;
+
+   &lt;!-- &lt;li&gt;&lt;p&gt;Sort the list...?&lt;/p&gt;&lt;/li&gt; --&gt;
+
+   &lt;li&gt;&lt;p&gt;The strings produced by these steps are those in the list
+   &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-datatransfer-cleardata title=dom-DataTransfer-clearData&gt;&lt;code&gt;clearData()&lt;/code&gt;&lt;/dfn&gt;
+  method must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is no longer
+   associated with a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;'s &lt;a href=#drag-data-store-mode title=&quot;drag data
+   store mode&quot;&gt;mode&lt;/a&gt; is not the &lt;a href=#concept-dnd-rw title=concept-dnd-rw&gt;read/write mode&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the method was called with no arguments, remove each item
+   in the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;kind&lt;/a&gt; is &lt;i&gt;Plain Unicode
+   string&lt;/i&gt;, and abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; be the first argument,
+   &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII lowercase&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code title=&quot;&quot;&gt;text&lt;/code&gt;&quot;, change it to &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;.&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, change it to &quot;&lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Remove each item in the &lt;a href=#drag-data-store-item-list&gt;drag data store item
+   list&lt;/a&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;kind&lt;/a&gt;
+   is &lt;i&gt;Plain Unicode string&lt;/i&gt; and whose &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data
+   item type string&quot;&gt;type string&lt;/a&gt; is equal to &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p class=note&gt;The &lt;code title=dom-DataTransfer-clearData&gt;&lt;a href=#dom-datatransfer-cleardata&gt;clearData()&lt;/a&gt;&lt;/code&gt; method does
   not affect whether any files were included in the drag, so the &lt;code title=dom-DataTransfer-types&gt;&lt;a href=#dom-datatransfer-types&gt;types&lt;/a&gt;&lt;/code&gt; attribute's list might
   still not be empty after calling &lt;code title=dom-DataTransfer-clearData&gt;&lt;a href=#dom-datatransfer-cleardata&gt;clearData()&lt;/a&gt;&lt;/code&gt; (it would
   still contain the &quot;&lt;code title=&quot;&quot;&gt;Files&lt;/code&gt;&quot; string if any files
   were included in the drag).&lt;/p&gt;
 
-  &lt;p&gt;When called with an argument, the &lt;code title=dom-DataTransfer-clearData&gt;&lt;a href=#dom-datatransfer-cleardata&gt;clearData(&lt;var title=&quot;&quot;&gt;format&lt;/var&gt;)&lt;/a&gt;&lt;/code&gt; method must clear the
-  &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object of any data associated with the
-  given &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;, &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII
-  lowercase&lt;/a&gt;. If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after conversion to
-  lowercase) is the value &quot;&lt;code title=&quot;&quot;&gt;text&lt;/code&gt;&quot;, then it must
-  be treated as &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;. If the &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after conversion to lowercase) is &quot;&lt;code title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, then it must be treated as &quot;&lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot;.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn id=dom-datatransfer-setdata title=dom-DataTransfer-setData&gt;&lt;code&gt;setData(&lt;var title=&quot;&quot;&gt;format&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
-  must add &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; to the data stored in the
-  &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object, labeled as being of the type &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;, &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII
-  lowercase&lt;/a&gt;. This must replace any previous data that had been
-  set for that format. If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after conversion
-  to lowercase) is the value &quot;&lt;code title=&quot;&quot;&gt;text&lt;/code&gt;&quot;, then it
-  must be treated as &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;. If the &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after conversion to lowercase) is &quot;&lt;code title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, then it must be treated as &quot;&lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot;.&lt;/p&gt;
+  must run the following steps:&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-datatransfer-getdata title=dom-DataTransfer-getData&gt;&lt;code&gt;getData(&lt;var title=&quot;&quot;&gt;format&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the data that
-  is associated with the type &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;
-  &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII lowercase&lt;/a&gt;, if any, and must return
-  the empty string otherwise. If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after
-  conversion to lowercase) is the value &quot;&lt;code title=&quot;&quot;&gt;text&lt;/code&gt;&quot;,
-  then it must be treated as &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;. If
-  the &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after conversion to lowercase) is
-  &quot;&lt;code title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, then the data associated with the
-  &quot;&lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot; format must be parsed as
-  appropriate for &lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt; data, and the
-  first URL from the list must be returned. If there is no data with
-  that format, or if there is but it has no URLs, then the method must
-  return the empty string. &lt;a href=#refsRFC2483&gt;[RFC2483]&lt;/a&gt;&lt;/p&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is no longer
+   associated with a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-datatransfer-files title=dom-DataTransfer-files&gt;&lt;code&gt;files&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the &lt;code&gt;FileList&lt;/code&gt; object that contains
-  the files that are stored in the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt;
-  object. There is one such object per &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt;
-  object.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;'s &lt;a href=#drag-data-store-mode title=&quot;drag data
+   store mode&quot;&gt;mode&lt;/a&gt; is not the &lt;a href=#concept-dnd-rw title=concept-dnd-rw&gt;read/write mode&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
 
-  &lt;p class=note&gt;This version of the API does not expose the types of
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; be the first argument,
+   &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII lowercase&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code title=&quot;&quot;&gt;text&lt;/code&gt;&quot;, change it to &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;.&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, change it to &quot;&lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Remove each item in the &lt;a href=#drag-data-store-item-list&gt;drag data store item
+   list&lt;/a&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;kind&lt;/a&gt;
+   is &lt;i&gt;Plain Unicode string&lt;/i&gt; and whose &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data
+   item type string&quot;&gt;type string&lt;/a&gt; is equal to &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Add an item to the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt;
+   whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;kind&lt;/a&gt; is &lt;i&gt;Plain
+   Unicode string&lt;/i&gt;, whose &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data item type
+   string&quot;&gt;type string&lt;/a&gt; is equal to &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;,
+   and whose data is the string given by the method's second
+   argument.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-datatransfer-getdata title=dom-DataTransfer-getData&gt;&lt;code&gt;getData(&lt;var title=&quot;&quot;&gt;format&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
+  must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is no longer
+   associated with a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;'s &lt;a href=#drag-data-store-mode title=&quot;drag data
+   store mode&quot;&gt;mode&lt;/a&gt; is in the &lt;a href=#concept-dnd-p title=concept-dnd-p&gt;protected mode&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; be the first argument,
+   &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII lowercase&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;convert-to-URL&lt;/var&gt; be false.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code title=&quot;&quot;&gt;text&lt;/code&gt;&quot;, change it to &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, change it to &quot;&lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot; and set &lt;var title=&quot;&quot;&gt;convert-to-URL&lt;/var&gt; to true.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If there is no item in the &lt;a href=#drag-data-store-item-list&gt;drag data store item
+   list&lt;/a&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;kind&lt;/a&gt;
+   is &lt;i&gt;Plain Unicode string&lt;/i&gt; and whose &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data
+   item type string&quot;&gt;type string&lt;/a&gt; is equal to &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;, return the empty string and abort these
+   steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; be the data of the first item
+   to the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;kind&lt;/a&gt; is &lt;i&gt;Plain Unicode
+   string&lt;/i&gt; and whose &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data item type
+   string&quot;&gt;type string&lt;/a&gt; is equal to &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;convert-to-URL&lt;/var&gt; is true, then parse
+   &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; as appropriate for &lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt; data, and then set &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; to the first URL from the list, if any, or
+   the empty string otherwise. &lt;a href=#refsRFC2483&gt;[RFC2483]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-datatransfer-files title=dom-DataTransfer-files&gt;&lt;code&gt;files&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return a &lt;a href=#live&gt;live&lt;/a&gt; &lt;code&gt;FileList&lt;/code&gt;
+  sequence consisting of &lt;code&gt;File&lt;/code&gt; objects representing the
+  files found by the following steps. The same object must be returned
+  each time. Furthermore, for a given &lt;code&gt;FileList&lt;/code&gt; object and
+  a given underlying file, the same &lt;code&gt;File&lt;/code&gt; object must be
+  used each time.&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Start with an empty list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is no longer
+   associated with a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, the
+   &lt;code&gt;FileList&lt;/code&gt; is empty. Abort these steps; return the
+   empty list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;For each item in the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt;
+   &lt;!-- in some order...? --&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item
+   kind&quot;&gt;kind&lt;/a&gt; is &lt;i&gt;File&lt;/i&gt; (not &lt;i&gt;Blob&lt;/i&gt;), add the item's
+   data (the file, in particular its name and contents, as well as its
+   &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data item type string&quot;&gt;type&lt;/a&gt;) to the
+   list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;!-- &lt;li&gt;&lt;p&gt;Sort the list...?&lt;/p&gt;&lt;/li&gt; --&gt;
+
+   &lt;li&gt;&lt;p&gt;The files found by these steps are those in the list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p class=note&gt;This version of the API does not expose the types of
   the files during the drag.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-datatransfer-setdragimage title=dom-DataTransfer-setDragImage&gt;&lt;code&gt;setDragImage(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method sets which element to use &lt;a href=#base-dnd-feedback&gt;to generate the drag feedback&lt;/a&gt;. The
-  &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; argument can be any
-  &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt;; if it is an &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element, then the
-  user agent should use the element's image (at its intrinsic size) to
-  generate the feedback, otherwise the user agent should base the
-  feedback on the given element (but the exact mechanism for doing so
-  is not specified).&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-datatransfer-setdragimage title=dom-DataTransfer-setDragImage&gt;&lt;code&gt;setDragImage(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
+  steps:&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-datatransfer-addelement title=dom-DataTransfer-addElement&gt;&lt;code&gt;addElement(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method is an alternative way of
-  specifying how the user agent is to &lt;a href=#base-dnd-feedback&gt;render the drag feedback&lt;/a&gt;. It adds an
-  element to the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is no longer
+   associated with a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
 
-  &lt;p class=note&gt;The difference between &lt;code title=dom-DataTransfer-setDragImage&gt;&lt;a href=#dom-datatransfer-setdragimage&gt;setDragImage()&lt;/a&gt;&lt;/code&gt; and
+   &lt;li&gt;&lt;p&gt;If the &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;'s &lt;a href=#drag-data-store-mode title=&quot;drag data
+   store mode&quot;&gt;mode&lt;/a&gt; is not in the &lt;a href=#concept-dnd-rw title=concept-dnd-rw&gt;read/write mode&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; argument is an
+   &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element, then set the &lt;a href=#drag-data-store-bitmap&gt;drag data store
+   bitmap&lt;/a&gt; to the element's image (at its intrinsic size);
+   otherwise, set the &lt;a href=#drag-data-store-bitmap&gt;drag data store bitmap&lt;/a&gt; to an image
+   generated from the given element (the exact mechanism for doing so
+   is not currently specified).&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the &lt;span&gt;drag data store hot spot&lt;/span&gt; to the given
+   &lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; coordinate.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-datatransfer-addelement title=dom-DataTransfer-addElement&gt;&lt;code&gt;addElement(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method is an alternative way of
+  specifying how the user agent is to &lt;a href=#base-dnd-feedback&gt;render the drag feedback&lt;/a&gt;. The method
+  must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is no longer
+   associated with a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;'s &lt;a href=#drag-data-store-mode title=&quot;drag data
+   store mode&quot;&gt;mode&lt;/a&gt; is not in the &lt;a href=#concept-dnd-rw title=concept-dnd-rw&gt;read/write mode&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Add the given &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; to the element's
+   &lt;a href=#drag-data-store-elements-list&gt;drag data store elements list&lt;/a&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p class=note&gt;The difference between &lt;code title=dom-DataTransfer-setDragImage&gt;&lt;a href=#dom-datatransfer-setdragimage&gt;setDragImage()&lt;/a&gt;&lt;/code&gt; and
   &lt;code title=dom-DataTransfer-addElement&gt;&lt;a href=#dom-datatransfer-addelement&gt;addElement()&lt;/a&gt;&lt;/code&gt; is
   that the latter automatically generates the image based on the
-  current rendering of the elements added, whereas the former uses the
-  exact specified image.&lt;/p&gt;
+  current rendering of the elements added (potentially keeping it
+  updated as the drag continues, e.g. if the elements include an
+  actively playing video), whereas the former uses the exact specified
+  image at the time the method is invoked.&lt;/p&gt;
 
   &lt;/div&gt;
 
 
-  &lt;h4 id=dndevents&gt;&lt;span class=secno&gt;8.7.3 &lt;/span&gt;Events fired during a drag-and-drop action&lt;/h4&gt;
 
-  &lt;p&gt;The following events are involved in the drag-and-drop
-  model.&lt;/p&gt;
+  &lt;h4 id=the-dragevent-interface&gt;&lt;span class=secno&gt;8.7.4 &lt;/span&gt;The &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
 
-  &lt;div class=impl&gt;
+  &lt;p&gt;The drag-and-drop processing model involves several events. They
+  all use the &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
 
-  &lt;p&gt;Whenever the processing model described below causes one of these
-  events to be fired, the event fired must use the
-  &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface defined above, must have the
-  bubbling and cancelable behaviors given in the table below, and must
-  have the context information set up as described after the table,
-  with the &lt;code title=dom-UIEvent-detail&gt;detail&lt;/code&gt; attribute
-  set to zero, the mouse and key attributes set according to the state
-  of the input devices as they would be for user interaction events,
-  and the &lt;code title=&quot;&quot;&gt;relatedTarget&lt;/code&gt; attribute set to
-  null.&lt;/p&gt;
+  &lt;pre class=idl&gt;interface &lt;dfn id=dragevent&gt;DragEvent&lt;/dfn&gt; : &lt;span&gt;MouseEvent&lt;/span&gt; {
+  readonly attribute &lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt; &lt;a href=#dom-dragevent-datatransfer title=dom-DragEvent-dataTransfer&gt;dataTransfer&lt;/a&gt;;
 
-  &lt;p&gt;If there is no relevant pointing device, the object must have its
-  &lt;code title=&quot;&quot;&gt;screenX&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;screenY&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;clientX&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;clientY&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;button&lt;/code&gt; attributes set to 0.&lt;/p&gt;
+  void &lt;a href=#dom-dragevent-initdragevent title=dom-DragEvent-initDragEvent&gt;initDragEvent&lt;/a&gt;(in DOMString typeArg, in boolean canBubbleArg, in boolean cancelableArg, in any dummyArg&lt;!-- used to be viewArg, back when we had views --&gt;, in long detailArg, in long screenXArg, in long screenYArg, in long clientXArg, in long clientYArg, in boolean ctrlKeyArg, in boolean altKeyArg, in boolean shiftKeyArg, in boolean metaKeyArg, in unsigned short buttonArg, in EventTarget relatedTargetArg, in &lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt; dataTransferArg);
+};&lt;/pre&gt;
 
-  &lt;!-- interaction event spec point --&gt;
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;event&lt;/var&gt; . &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object for the event.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;div class=impl&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-dragevent-initdragevent title=dom-DragEvent-initDragEvent&gt;&lt;code&gt;initDragEvent()&lt;/code&gt;&lt;/dfn&gt;
+  method must initialize the event in a manner analogous to the
+  similarly-named method in the DOM Events interfaces, except that the
+  &lt;var title=&quot;&quot;&gt;dummyArg&lt;/var&gt; argument must be ignored. &lt;a href=#refsDOMEVENTS&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-dragevent-datatransfer title=dom-DragEvent-dataTransfer&gt;&lt;code&gt;dataTransfer&lt;/code&gt;&lt;/dfn&gt;
+  attribute of the &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface represents the
+  context information for the event.&lt;/p&gt;
+
   &lt;/div&gt;
 
-  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt; Event Name &lt;/th&gt;
-     &lt;th&gt; Target &lt;/th&gt;
-     &lt;th&gt; Bubbles? &lt;/th&gt;
-     &lt;th&gt; Cancelable? &lt;/th&gt;
-     &lt;th&gt; &lt;code title=dom-DataTransfer-dataTransfer&gt;dataTransfer&lt;/code&gt; &lt;/th&gt;
-     &lt;th&gt; &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt; &lt;/th&gt;
-     &lt;th&gt; &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; &lt;/th&gt;
-     &lt;th&gt; Default Action &lt;/th&gt;
-    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragstart title=event-dragstart&gt;&lt;code&gt;dragstart&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#source-node&gt;Source node&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&#10003; Bubbles&lt;/td&gt;
-     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
-     &lt;td&gt;Contains &lt;a href=#source-node&gt;source node&lt;/a&gt; unless a selection is being dragged, in which case it is empty; &lt;code title=dom-datatransfer-files&gt;&lt;a href=#dom-datatransfer-files&gt;files&lt;/a&gt;&lt;/code&gt; returns any files included in the drag operation&lt;/td&gt;
-     &lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;Initiate the drag-and-drop operation&lt;/td&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-drag title=event-drag&gt;&lt;code&gt;drag&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#source-node&gt;Source node&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&#10003; Bubbles&lt;/td&gt;
-     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
-     &lt;td&gt;Empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#effectAllowed-initialization&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;Continue the drag-and-drop operation&lt;/td&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragenter title=event-dragenter&gt;&lt;code&gt;dragenter&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#immediate-user-selection&gt;Immediate user selection&lt;/a&gt; or &lt;a href=#the-body-element&gt;the body element&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&#10003; Bubbles&lt;/td&gt;
-     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
-     &lt;td&gt;Empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#effectAllowed-initialization&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#dropEffect-initialization&gt;Based on &lt;code&gt;effectAllowed&lt;/code&gt; value&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;Reject &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; as potential &lt;a href=#current-target-element title=&quot;current target element&quot;&gt;target element&lt;/a&gt;&lt;/td&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragleave title=event-dragleave&gt;&lt;code&gt;dragleave&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#current-target-element title=&quot;current target element&quot;&gt;Previous target element&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&#10003; Bubbles&lt;/td&gt;
-     &lt;td&gt;&mdash;&lt;/td&gt;
-     &lt;td&gt;Empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#effectAllowed-initialization&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;None&lt;/td&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragover title=event-dragover&gt;&lt;code&gt;dragover&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#current-target-element&gt;Current target element&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&#10003; Bubbles&lt;/td&gt;
-     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
-     &lt;td&gt;Empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#effectAllowed-initialization&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#dropEffect-initialization&gt;Based on &lt;code&gt;effectAllowed&lt;/code&gt; value&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;Reset the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to &quot;none&quot;&lt;/td&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-drop title=event-drop&gt;&lt;code&gt;drop&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#current-target-element&gt;Current target element&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&#10003; Bubbles&lt;/td&gt;
-     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
-     &lt;td&gt;&lt;code title=dom-datatransfer-getdata&gt;&lt;a href=#dom-datatransfer-getdata&gt;getData()&lt;/a&gt;&lt;/code&gt; returns data set in &lt;code title=dom-dragstart&gt;dragstart&lt;/code&gt; event; &lt;code title=dom-datatransfer-files&gt;&lt;a href=#dom-datatransfer-files&gt;files&lt;/a&gt;&lt;/code&gt; returns any files included in the drag operation&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#effectAllowed-initialization&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#current-drag-operation&gt;Current drag operation&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;Varies&lt;/td&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragend title=event-dragend&gt;&lt;code&gt;dragend&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#source-node&gt;Source node&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&#10003; Bubbles&lt;/td&gt;
-     &lt;td&gt;&mdash;&lt;/td&gt;
-     &lt;td&gt;Empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#effectAllowed-initialization&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#current-drag-operation&gt;Current drag operation&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;Varies&lt;/td&gt;
-    &lt;/table&gt;&lt;p class=note&gt;&quot;Empty&quot; in the table above means that the &lt;code title=dom-datatransfer-getdata&gt;&lt;a href=#dom-datatransfer-getdata&gt;getData()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-dataTransfer-files&gt;&lt;a href=#dom-datatransfer-files&gt;files&lt;/a&gt;&lt;/code&gt; attributes act as if
-  there is no data being dragged.&lt;/p&gt;
-
   &lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt;
-  object's contents are empty (the &lt;code title=dom-datatransfer-getdata&gt;&lt;a href=#dom-datatransfer-getdata&gt;getData()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-dataTransfer-files&gt;&lt;a href=#dom-datatransfer-files&gt;files&lt;/a&gt;&lt;/code&gt; attributes act as if
-  there is no data being dragged) except for &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; events and &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; events, for which the contents are
-  set as described in the processing model, below.&lt;/p&gt;
+  &lt;p&gt;When a user agent is required to &lt;dfn id=fire-a-dnd-event&gt;fire a DND event&lt;/dfn&gt;
+  named &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; at an element, using a particular
+  &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, the user agent must run the following
+  steps:&lt;/p&gt;
 
-  &lt;p id=effectAllowed-initialization&gt;The &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
-  attribute must be set to &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot; for
-  &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; events, and to
-  whatever value the field had after the last drag-and-drop event was
-  fired for all other events (only counting events fired by the user
-  agent for the purposes of the drag-and-drop model described
-  below).&lt;/p&gt;
+  &lt;ol&gt;&lt;li&gt;
 
-  &lt;p id=dropEffect-initialization&gt;The &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute must
-  be set to &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot; for &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt;, &lt;code title=event-drag&gt;&lt;a href=#event-drag&gt;drag&lt;/a&gt;&lt;/code&gt;, and &lt;code title=event-dragleave&gt;&lt;a href=#event-dragleave&gt;dragleave&lt;/a&gt;&lt;/code&gt; events (except when stated
-  otherwise in the algorithms given in the sections below), to the
-  value corresponding to the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; for
-  &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-dragend&gt;&lt;a href=#event-dragend&gt;dragend&lt;/a&gt;&lt;/code&gt; events, and to a value based on
-  the &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
-  attribute's value and to the drag-and-drop source, as given by the
-  following table, for the remaining events (&lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt;):&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt;, set the &lt;a href=#drag-data-store-mode&gt;drag data
+    store mode&lt;/a&gt; to the &lt;a href=#concept-dnd-rw title=concept-dnd-rw&gt;read/write
+    mode&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
-     &lt;th&gt;&lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
-    &lt;/thead&gt;&lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&lt;/td&gt;
-   &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&lt;/td&gt;
-   &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&lt;/td&gt;
-   &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&lt;/td&gt;
-   &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt; when what is being dragged is a selection from a text field&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&lt;/td&gt;
-   &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt; when what is being dragged is a selection&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&lt;/td&gt;
-   &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt; when what is being dragged is an &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element with an &lt;code&gt;href&lt;/code&gt; attribute&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&lt;/td&gt;
-   &lt;tr&gt;&lt;td&gt;Any other case&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&lt;/td&gt;
-   &lt;/table&gt;&lt;/div&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt;, set the &lt;a href=#drag-data-store-mode&gt;drag data store
+    mode&lt;/a&gt; to the &lt;a href=#concept-dnd-ro title=concept-dnd-ro&gt;read-only
+    mode&lt;/a&gt;.&lt;/p&gt;
 
+   &lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;dataTransfer&lt;/var&gt; be a newly created
+   &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object associated with the given
+   &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p id=effectAllowed-initialization&gt;Set the &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
+   attribute to the &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;'s &lt;a href=#drag-data-store-allowed-effects-state&gt;drag data
+   store allowed effects state&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p id=dropEffect-initialization&gt;Set the &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute to
+    &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot; if &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt;, &lt;code title=event-drag&gt;&lt;a href=#event-drag&gt;drag&lt;/a&gt;&lt;/code&gt;, or &lt;code title=event-dragleave&gt;&lt;a href=#event-dragleave&gt;dragleave&lt;/a&gt;&lt;/code&gt;; to the value
+    corresponding to the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; if &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; or &lt;code title=event-dragend&gt;&lt;a href=#event-dragend&gt;dragend&lt;/a&gt;&lt;/code&gt;; and to a value based on the
+    &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
+    attribute's value and to the drag-and-drop source, as given by the
+    following table, otherwise (i.e. if &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; or &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt;):&lt;/p&gt;
+
+    &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
+       &lt;th&gt;&lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
+      &lt;/thead&gt;&lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&quot;&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot; when what is being dragged is a selection from a text field&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot; when what is being dragged is a selection&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot; when what is being dragged is an &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element with an &lt;code&gt;href&lt;/code&gt; attribute&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;tr&gt;&lt;td&gt;Any other case&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;/table&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Create a &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; object and initialize it to
+    have the given name &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;, to bubble, to be
+    cancelable unless &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code title=event-dragleave&gt;&lt;a href=#event-dragleave&gt;dragleave&lt;/a&gt;&lt;/code&gt; or &lt;code title=event-dragend&gt;&lt;a href=#event-dragend&gt;dragend&lt;/a&gt;&lt;/code&gt;, and to have the &lt;code title=dom-UIEvent-detail&gt;detail&lt;/code&gt; attribute set to zero,
+    the mouse and key attributes set according to the state of the
+    input devices as they would be for user interaction events, the
+    &lt;code title=&quot;&quot;&gt;relatedTarget&lt;/code&gt; attribute set to null, and the
+    &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt;
+    attribute set to &lt;var title=&quot;&quot;&gt;dataTransfer&lt;/var&gt;, the
+    &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object created above.&lt;/p&gt;
+
+    &lt;!-- interaction event spec point --&gt;
+
+    &lt;p&gt;If there is no relevant pointing device, the object must have
+    its &lt;code title=&quot;&quot;&gt;screenX&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;screenY&lt;/code&gt;,
+    &lt;code title=&quot;&quot;&gt;clientX&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;clientY&lt;/code&gt;, and
+    &lt;code title=&quot;&quot;&gt;button&lt;/code&gt; attributes set to 0.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Dispatch the newly created &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; object at
+   the specified target element.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the &lt;a href=#drag-data-store-allowed-effects-state&gt;drag data store allowed effects state&lt;/a&gt;
+   to the current value of &lt;var title=&quot;&quot;&gt;dataTransfer&lt;/var&gt;'s &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
+   attribute.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the &lt;a href=#drag-data-store-mode&gt;drag data store mode&lt;/a&gt; back to the &lt;a href=#concept-dnd-p title=concept-dnd-p&gt;protected mode&lt;/a&gt; if it was changed in
+   the first step.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;/div&gt;
+
+
   &lt;div class=impl&gt;
 
-  &lt;h4 id=drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.7.4 &lt;/span&gt;Drag-and-drop processing model&lt;/h4&gt;
+  &lt;h4 id=drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.7.5 &lt;/span&gt;Drag-and-drop processing model&lt;/h4&gt;
 
   &lt;p&gt;When the user attempts to begin a drag operation, the user agent
-  must first determine what is being dragged. If the drag operation
-  was invoked on a selection, then it is the selection that is being
-  dragged. Otherwise, it is the first element, going up the ancestor
-  chain, starting at the node that the user tried to drag, that has
-  the IDL attribute &lt;code title=dom-draggable&gt;&lt;a href=#dom-draggable&gt;draggable&lt;/a&gt;&lt;/code&gt; set
-  to true. If there is no such element, then nothing is being dragged,
-  the drag-and-drop operation is never started, and the user agent
-  must not continue with this algorithm.&lt;/p&gt;
+  must run the following steps. User agents must act as if these steps
+  were run even if the drag actually started in another document or
+  application and the user agent was not aware that the drag was
+  occuring until it intersected with a document under the user agent's
+  purview.&lt;/p&gt;
 
-  &lt;p class=note&gt;&lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; elements and &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt;
-  elements with an &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt;
-  attribute have their &lt;code title=dom-draggable&gt;&lt;a href=#dom-draggable&gt;draggable&lt;/a&gt;&lt;/code&gt;
-  attribute set to true by default.&lt;/p&gt;
+  &lt;ol&gt;&lt;li&gt;
 
-  &lt;p&gt;If the user agent determines that something can be dragged, a
-  &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event must then be
-  fired at the &lt;a href=#source-node&gt;source node&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Determine what is being dragged, as follows:&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=source-node&gt;source node&lt;/dfn&gt; depends on the kind of drag and how it
-  was initiated. If it is a selection that is being dragged, then the
-  &lt;a href=#source-node&gt;source node&lt;/a&gt; is the text node that the user started the
-  drag on (typically the text node that the user originally
-  clicked). If the user did not specify a particular node, for example
-  if the user just told the user agent to begin a drag of &quot;the
-  selection&quot;, then the &lt;a href=#source-node&gt;source node&lt;/a&gt; is the first text node
-  containing a part of the selection. If it is not a selection that is
-  being dragged, then the &lt;a href=#source-node&gt;source node&lt;/a&gt; is the element that
-  is being dragged.&lt;/p&gt;
+    &lt;p&gt;If the drag operation was invoked on a selection, then it is
+    the selection that is being dragged.&lt;/p&gt;
 
-  &lt;p&gt;Multiple events are fired on the &lt;a href=#source-node&gt;source node&lt;/a&gt; during
-  the course of the drag-and-drop operation.&lt;/p&gt;
+    &lt;p&gt;Otherwise, if the drag operation was invoked on a
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, it is the first element, going up the
+    ancestor chain, starting at the node that the user tried to drag,
+    that has the IDL attribute &lt;code title=dom-draggable&gt;&lt;a href=#dom-draggable&gt;draggable&lt;/a&gt;&lt;/code&gt; set to true. If there is no
+    such element, then nothing is being dragged; abort these steps,
+    the drag-and-drop operation is never started.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=list-of-dragged-nodes&gt;list of dragged nodes&lt;/dfn&gt; also depends on the kind of
-  drag. If it is a selection that is being dragged, then the
-  &lt;a href=#list-of-dragged-nodes&gt;list of dragged nodes&lt;/a&gt; contains, in &lt;a href=#tree-order&gt;tree
-  order&lt;/a&gt;, every node that is partially or completely included in
-  the selection (including all their ancestors). Otherwise, the
-  &lt;a href=#list-of-dragged-nodes&gt;list of dragged nodes&lt;/a&gt; contains only the &lt;a href=#source-node&gt;source
-  node&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Otherwise, the drag operation was invoked outside the user
+    agent's purview. What is being dragged is defined by the document
+    or application where the drag was started.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;If it is a selection that is being dragged, the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; member of the
-  event must be created with no nodes. Otherwise, it must be created
-  containing just the &lt;a href=#source-node&gt;source node&lt;/a&gt;. Script can use the
-  &lt;code title=dom-DataTransfer-addElement&gt;&lt;a href=#dom-datatransfer-addelement&gt;addElement()&lt;/a&gt;&lt;/code&gt; method
-  to add further elements to the list of what is being dragged. (This
-  list is only used for rendering the drag feedback.)&lt;/p&gt;
+    &lt;p class=note&gt;&lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; elements and &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt;
+    elements with an &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt;
+    attribute have their &lt;code title=dom-draggable&gt;&lt;a href=#dom-draggable&gt;draggable&lt;/a&gt;&lt;/code&gt;
+    attribute set to true by default.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt;
-  member of the event also has data added to it, as follows:&lt;/p&gt;
+   &lt;/li&gt;
 
-  &lt;ul&gt;&lt;li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#create-a-drag-data-store&gt;Create a drag data store&lt;/a&gt;. All the DND events
+   fired subsequently by this algorithm must use this &lt;a href=#drag-data-store&gt;drag data
+   store&lt;/a&gt;.&lt;/li&gt;
 
-    &lt;p&gt;If it is a selection that is being dragged, then the user agent
-    must add the text of the selection to the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; member,
-    associated with the &lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt; format.&lt;/p&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;Establish which DOM node is the &lt;dfn id=source-node&gt;source node&lt;/dfn&gt;, as
+    follows:&lt;/p&gt;
+
+    &lt;p&gt;If it is a selection that is being dragged, then the
+    &lt;a href=#source-node&gt;source node&lt;/a&gt; is the text node that the user started
+    the drag on (typically the text node that the user originally
+    clicked). If the user did not specify a particular node, for
+    example if the user just told the user agent to begin a drag of
+    &quot;the selection&quot;, then the &lt;a href=#source-node&gt;source node&lt;/a&gt; is the first
+    text node containing a part of the selection.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if it is an element that is being dragged, then the
+    &lt;a href=#source-node&gt;source node&lt;/a&gt; is the element that is being dragged.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, the &lt;a href=#source-node&gt;source node&lt;/a&gt; is part of another
+    document or application, and user agents must not actually fire
+    events at it when this algorithm requires that they do so.&lt;/p&gt;
+
+    &lt;p class=note&gt;Multiple events are fired on the &lt;a href=#source-node&gt;source
+    node&lt;/a&gt; during the course of the drag-and-drop operation.&lt;/p&gt;
+
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If files are being dragged, then the user agent must add the
-    files to the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; member's
-    &lt;code title=dom-datatransfer-files&gt;&lt;a href=#dom-datatransfer-files&gt;files&lt;/a&gt;&lt;/code&gt; attribute's
-    &lt;code&gt;FileList&lt;/code&gt; object. (Dragging files can only happen from
+    &lt;p&gt;Determine the &lt;dfn id=list-of-dragged-nodes&gt;list of dragged nodes&lt;/dfn&gt;, as follows:&lt;/p&gt;
+
+    &lt;p&gt;If it is a selection that is being dragged, then the &lt;a href=#list-of-dragged-nodes&gt;list
+    of dragged nodes&lt;/a&gt; contains, in &lt;a href=#tree-order&gt;tree order&lt;/a&gt;,
+    every node that is partially or completely included in the
+    selection (including all their ancestors).&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, the &lt;a href=#list-of-dragged-nodes&gt;list of dragged nodes&lt;/a&gt; contains only
+    the &lt;a href=#source-node&gt;source node&lt;/a&gt;, if any.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If it is a selection that is being dragged, then add an item to
+    the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt;, with its properties
+    set as follows:&lt;/p&gt;
+
+    &lt;dl&gt;&lt;dt&gt;&lt;a href=#the-drag-data-item-type-string&gt;The drag data item type string&lt;/a&gt;
+     &lt;dd&gt;&quot;&lt;code&gt;text/plain&lt;/code&gt;&quot;&lt;/dd&gt;
+
+     &lt;dt&gt;&lt;a href=#the-drag-data-item-kind&gt;The drag data item kind&lt;/a&gt;
+     &lt;dd&gt;&lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dd&gt;
+
+     &lt;dt&gt;The actual data&lt;/dt&gt;
+     &lt;dd&gt;The text of the selection&lt;/dd&gt;
+
+    &lt;/dl&gt;&lt;p&gt;Otherwise, if any files are being dragged, then add one item
+    per file to the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt;, with their
+    properties set as follows:&lt;/p&gt;
+
+    &lt;dl&gt;&lt;dt&gt;&lt;a href=#the-drag-data-item-type-string&gt;The drag data item type string&lt;/a&gt;
+     &lt;dd&gt;The MIME type of the file, if known, or &quot;&lt;code&gt;application/octet-stream&lt;/code&gt;&quot; otherwise.&lt;/dd&gt;
+
+     &lt;dt&gt;&lt;a href=#the-drag-data-item-kind&gt;The drag data item kind&lt;/a&gt;
+     &lt;dd&gt;&lt;i&gt;File&lt;/i&gt;&lt;/dd&gt;
+
+     &lt;dt&gt;The actual data&lt;/dt&gt;
+     &lt;dd&gt;The file's contents and name.&lt;/dd&gt;
+
+    &lt;/dl&gt;&lt;p class=note&gt;Dragging files can currently only happen from
     outside a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, for example from a file
-    system manager application, and thus the &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event is actually implied
-    in this case.)&lt;/p&gt;
+    system manager application.&lt;/p&gt;
 
    &lt;/li&gt;
 
+   &lt;!-- v2: text/html as an export format --&gt;
+
 &lt;!--MD--&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;The user agent must take the &lt;a href=#list-of-dragged-nodes&gt;list of dragged nodes&lt;/a&gt;
-    and &lt;a href=#extracting-json title=&quot;extracting JSON&quot;&gt;extract the microdata from those
-    nodes into a JSON form&lt;/a&gt;, and then must add the resulting
-    string to the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; member,
-    associated with the &lt;code title=&quot;&quot;&gt;application/microdata+json&lt;/code&gt; format.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#list-of-dragged-nodes&gt;list of dragged nodes&lt;/a&gt; is not empty, then
+    &lt;a href=#extracting-json title=&quot;extracting JSON&quot;&gt;extract the microdata from those
+    nodes into a JSON form&lt;/a&gt;, and add one item to the &lt;a href=#drag-data-store-item-list&gt;drag
+    data store item list&lt;/a&gt;, with its properties set as
+    follows:&lt;/p&gt;
 
-   &lt;/li&gt;
+    &lt;dl&gt;&lt;dt&gt;&lt;a href=#the-drag-data-item-type-string&gt;The drag data item type string&lt;/a&gt;
+     &lt;dd&gt;&lt;code&gt;&lt;a href=#application/microdata+json&gt;application/microdata+json&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
 
+     &lt;dt&gt;&lt;a href=#the-drag-data-item-kind&gt;The drag data item kind&lt;/a&gt;
+     &lt;dd&gt;&lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dd&gt;
 
+     &lt;dt&gt;The actual data&lt;/dt&gt;
+     &lt;dd&gt;The resulting JSON string.&lt;/dd&gt;
+
+    &lt;/dl&gt;&lt;/li&gt;
+
+
 &lt;!-- v2: deal with multiple vCards --&gt;
 &lt;!--
    &lt;li&gt;
 
+    (if you put this back, don't forget to update this text as above)
+
     &lt;p&gt;The user agent must take the &lt;span&gt;list of dragged nodes&lt;/span&gt;
     and &lt;span title=&quot;extracting a vCard&quot;&gt;extract the vCard data from
     those nodes&lt;/span&gt;, and then must add the resulting string to the
@@ -66509,6 +66689,8 @@
 
    &lt;li&gt;
 
+    (if you put this back, don't forget to update this text as above)
+
     &lt;p&gt;The user agent must take the &lt;span&gt;list of dragged nodes&lt;/span&gt;
     and &lt;span title=&quot;extracting vEvent data&quot;&gt;extract the vEvent data
     from those nodes&lt;/span&gt;, and then must add the resulting string to
@@ -66519,11 +66701,9 @@
    &lt;/li&gt;
 --&gt;
 
-   &lt;!-- v2: text/html --&gt;
-
    &lt;li&gt;
 
-    &lt;p&gt;The user agent must run the following steps:&lt;/p&gt;
+    &lt;p&gt;Run the following substeps:&lt;/p&gt;
 
     &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt; be an empty list of &lt;a href=#absolute-url title=&quot;absolute URL&quot;&gt;absolute URLs&lt;/a&gt;.&lt;/li&gt;
 
@@ -66532,87 +66712,118 @@
       &lt;p&gt;For each &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;a href=#list-of-dragged-nodes&gt;list of
       dragged nodes&lt;/a&gt;:&lt;/p&gt;
 
-      &lt;dl&gt;&lt;dt&gt;If the node is an &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element with an &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+      &lt;dl&gt;&lt;dt&gt;If the node is an &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element with an &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt; attribute&lt;/dt&gt;
 
-       &lt;dd&gt;Add to &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt; the result of &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; the element's &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt; content attribute relative to
-       the element.&lt;/dd&gt;
+       &lt;dd&gt;Add to &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt; the result of &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; the element's &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt; content attribute
+       relative to the element.&lt;/dd&gt;
 
-       &lt;dt&gt;If the node is an &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element with an &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+       &lt;dt&gt;If the node is an &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element with an &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute&lt;/dt&gt;
 
-       &lt;dd&gt;Add to &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt; the result of &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; the element's &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; content attribute relative to the
-       element.&lt;/dd&gt;
+       &lt;dd&gt;Add to &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt; the result of &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; the element's &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; content attribute relative to
+       the element.&lt;/dd&gt;
 
        &lt;!-- v2: more --&gt;
 
       &lt;/dl&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt; is still empty, abort these
-     steps.&lt;/li&gt;
+     substeps.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;url string&lt;/var&gt; be the result of
      concatenating the strings in &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt;, in the
      order they were added, separated by a U+000D CARRIAGE RETURN
      U+000A LINE FEED character pair (CRLF).&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Add &lt;var title=&quot;&quot;&gt;url string&lt;/var&gt; to the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; member,
-     associated with the &lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;
-     format.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Add one item to the &lt;a href=#drag-data-store-item-list&gt;drag data store item
+     list&lt;/a&gt;, with its properties set as follows:&lt;/p&gt;
 
+      &lt;dl&gt;&lt;dt&gt;&lt;a href=#the-drag-data-item-type-string&gt;The drag data item type string&lt;/a&gt;
+       &lt;dd&gt;&lt;code&gt;text/uri-list&lt;/code&gt;&lt;/dd&gt;
+
+       &lt;dt&gt;&lt;a href=#the-drag-data-item-kind&gt;The drag data item kind&lt;/a&gt;
+       &lt;dd&gt;&lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dd&gt;
+
+       &lt;dt&gt;The actual data&lt;/dt&gt;
+       &lt;dd&gt;&lt;var title=&quot;&quot;&gt;url string&lt;/var&gt;&lt;/dd&gt;
+
+      &lt;/dl&gt;&lt;/li&gt;
+
     &lt;/ol&gt;&lt;/li&gt;
 
-  &lt;/ul&gt;&lt;hr&gt;&lt;p&gt;If the event is canceled, then the drag-and-drop operation must
-  not occur; the user agent must not continue with this algorithm.&lt;/p&gt;
+   &lt;li&gt;
 
-  &lt;p&gt;If it is not canceled, then the drag-and-drop operation must be
-  initiated.&lt;/p&gt;
+    &lt;p&gt;If it is an element that is being dragged, then set the
+    &lt;span&gt;drag data store list of elements&lt;/span&gt; to contain just the
+    &lt;a href=#source-node&gt;source node&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p class=note&gt;Since events with no event listeners registered are,
-  almost by definition, never canceled, drag-and-drop is always
-  available to the user if the author does not specifically prevent
-  it.&lt;/p&gt;
+    &lt;p&gt;Otherwise, update the &lt;a href=#drag-data-store-default-feedback&gt;drag data store default
+    feedback&lt;/a&gt; as appropriate for the user agent (if the user is
+    dragging the selection, then the selection would likely be the
+    basis for this feedback).&lt;/p&gt;
 
-  &lt;p id=base-dnd-feedback&gt;The drag-and-drop feedback must be
-  generated from the first of the following sources that is
-  available:&lt;/p&gt;
+    &lt;p class=note&gt;Script can use the &lt;code title=dom-DataTransfer-addElement&gt;&lt;a href=#dom-datatransfer-addelement&gt;addElement()&lt;/a&gt;&lt;/code&gt; method to
+    add further elements to the list of what is being dragged. (This
+    list is only used for rendering the drag feedback.)&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;The element specified in the last call to the &lt;code title=dom-DataTransfer-setDragImage&gt;&lt;a href=#dom-datatransfer-setdragimage&gt;setDragImage()&lt;/a&gt;&lt;/code&gt; method
-   of the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt;
-   object of the &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event,
-   if the method was called. In visual media, if this is used, the
-   &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; arguments that were
-   passed to that method should be used as hints for where to put the
-   cursor relative to the resulting image. The values are expressed as
-   distances in CSS pixels from the left side and from the top side of
-   the image respectively. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt;&lt;/li&gt;
+   &lt;/li&gt;
 
-   &lt;li&gt;The elements that were added to the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; object, both
-   before the event was fired, and during the handling of the event
-   using the &lt;code title=dom-DataTransfer-addElement&gt;&lt;a href=#dom-datatransfer-addelement&gt;addElement()&lt;/a&gt;&lt;/code&gt;
-   method, if any such elements were indeed added.&lt;/li&gt;
+   &lt;li&gt;
 
-   &lt;li&gt;The selection that the user is dragging.&lt;/li&gt;
+    &lt;p&gt;&lt;a href=#fire-a-dnd-event&gt;Fire a DND event&lt;/a&gt; named &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; at the &lt;a href=#source-node&gt;source
+    node&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;/ol&gt;&lt;p&gt;The user agent must take a note of &lt;a href=#dom-datatransfer-setdata title=dom-DataTransfer-setData&gt;the data that was placed&lt;/a&gt; in
-  the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt;
-  object. This data will be made available again when the &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; event is fired.&lt;/p&gt;
+    &lt;p&gt;If the event is canceled, then the drag-and-drop operation
+    should not occur; abort these steps.&lt;/p&gt; &lt;!-- only a should
+    because the UA can always allow the user to drag without the page
+    knowing --&gt;
 
-  &lt;p&gt;From this point until the end of the drag-and-drop operation,
-  device input events (e.g. mouse and keyboard events) must be
-  suppressed. In addition, the user agent must track all DOM changes
-  made during the drag-and-drop operation, and add them to its &lt;a href=#undo&gt;undo history&lt;/a&gt; as one atomic operation once the
+    &lt;p class=note&gt;Since events with no event listeners registered
+    are, almost by definition, never canceled, drag-and-drop is always
+    available to the user if the author does not specifically prevent
+    it.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;&lt;a href=#initiate-the-drag-and-drop-operation&gt;Initiate the drag-and-drop operation&lt;/a&gt; in a manner
+    consistent with platform conventions, and as described below.&lt;/p&gt;
+
+    &lt;p id=base-dnd-feedback&gt;The drag-and-drop feedback must be
+    generated from the first of the following sources that is
+    available:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;The &lt;a href=#drag-data-store-bitmap&gt;drag data store bitmap&lt;/a&gt;, if any. In this
+     case, the &lt;a href=#drag-data-store-hot-spot-coordinate&gt;drag data store hot spot coordinate&lt;/a&gt; should
+     be used as hints for where to put the cursor relative to the
+     resulting image. The values are expressed as distances in CSS
+     pixels from the left side and from the top side of the image
+     respectively. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt;&lt;/li&gt;
+
+     &lt;li&gt;The elements in the &lt;span&gt;drag data store element
+     list&lt;/span&gt;, if any.&lt;/li&gt;
+
+     &lt;li&gt;The &lt;a href=#drag-data-store-default-feedback&gt;drag data store default feedback&lt;/a&gt;.&lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;From the moment that the user agent is to &lt;dfn id=initiate-the-drag-and-drop-operation&gt;initiate the
+  drag-and-drop operation&lt;/dfn&gt;, until the end of the drag-and-drop
+  operation, device input events (e.g. mouse and keyboard events) must
+  be suppressed. In addition, the user agent must track all DOM
+  changes made during the drag-and-drop operation, and add them to its
+  &lt;a href=#undo&gt;undo history&lt;/a&gt; as one atomic operation once the
   drag-and-drop operation has ended.&lt;/p&gt;
 
   &lt;p&gt;During the drag operation, the element directly indicated by the
   user as the drop target is called the &lt;dfn id=immediate-user-selection&gt;immediate user
   selection&lt;/dfn&gt;. (Only elements can be selected by the user; other
-  nodes must not be made available as drop targets.)
+  nodes must not be made available as drop targets.) However, the
+  &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; is not necessarily the
+  &lt;dfn id=current-target-element&gt;current target element&lt;/dfn&gt;, which is the element currently
+  selected for the drop part of the drag-and-drop operation.&lt;/p&gt;
 
-  However, the &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; is not
-  necessarily the &lt;dfn id=current-target-element&gt;current target element&lt;/dfn&gt;, which is the
-  element currently selected for the drop part of the drag-and-drop
-  operation.
-
-  The &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; changes as the user
+  &lt;p&gt;The &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; changes as the user
   selects different elements (either by pointing at them with a
   pointing device, or by selecting them in some other way). The
   &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; changes when the &lt;a href=#immediate-user-selection&gt;immediate
@@ -66627,11 +66838,10 @@
   &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is initially null.&lt;/p&gt;
 
   &lt;p&gt;In addition, there is also a &lt;dfn id=current-drag-operation&gt;current drag operation&lt;/dfn&gt;,
-  which can take on the values &quot;none&quot;, &quot;copy&quot;, &quot;link&quot;, and &quot;move&quot;.
-  Initially, it has the value &quot;none&quot;. It is updated by the user agent
-  as described in the steps below.&lt;/p&gt;
+  which can take on the values &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, and &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;. Initially, it has the value &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;. It is updated by the user agent as described
+  in the steps below.&lt;/p&gt;
 
-  &lt;p&gt;User agents must, as soon as the drag operation is initiated and
+  &lt;p&gt;User agents must, as soon as the drag operation is &lt;a href=#initiate-the-drag-and-drop-operation title=&quot;initiate the drag-and-drop operation&quot;&gt;initiated&lt;/a&gt; and
   every 350ms (&plusmn;200ms) thereafter for as long as the drag
   operation is ongoing, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to perform the
   following steps in sequence:&lt;/p&gt;
@@ -66639,55 +66849,54 @@
   &lt;ol&gt;&lt;li&gt;
 
     &lt;p&gt;If the user agent is still performing the previous iteration of
-    the sequence (if any) when the next iteration becomes due, the
-    user agent must not execute the overdue iteration, effectively
-    &quot;skipping missed frames&quot; of the drag-and-drop operation.&lt;/p&gt;
+    the sequence (if any) when the next iteration becomes due, abort
+    these steps for this iteration (effectively &quot;skipping missed
+    frames&quot; of the drag-and-drop operation).&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;The user agent must fire a &lt;code title=event-drag&gt;&lt;a href=#event-drag&gt;drag&lt;/a&gt;&lt;/code&gt;
-    event at the &lt;a href=#source-node&gt;source node&lt;/a&gt;. If this event is canceled,
-    the user agent must set the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to
-    none (no drag operation).&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#fire-a-dnd-event&gt;Fire a DND event&lt;/a&gt; named &lt;code title=event-drag&gt;&lt;a href=#event-drag&gt;drag&lt;/a&gt;&lt;/code&gt; event at the &lt;a href=#source-node&gt;source
+    node&lt;/a&gt;. If this event is canceled, the user agent must set
+    the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot; (no drag operation).&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Next, if the &lt;code title=event-drag&gt;&lt;a href=#event-drag&gt;drag&lt;/a&gt;&lt;/code&gt; event was not
+    &lt;p&gt;If the &lt;code title=event-drag&gt;&lt;a href=#event-drag&gt;drag&lt;/a&gt;&lt;/code&gt; event was not
     canceled and the user has not ended the drag-and-drop operation,
-    the user agent must check the state of the drag-and-drop
-    operation, as follows:&lt;/p&gt;
+    check the state of the drag-and-drop operation, as follows:&lt;/p&gt;
 
     &lt;ol&gt;&lt;li&gt;
 
-      &lt;p&gt;First, if the user is indicating a different &lt;a href=#immediate-user-selection&gt;immediate
-      user selection&lt;/a&gt; than during the last iteration (or if this
-      is the first iteration), and if this &lt;a href=#immediate-user-selection&gt;immediate user
+      &lt;p&gt;If the user is indicating a different &lt;a href=#immediate-user-selection&gt;immediate user
+      selection&lt;/a&gt; than during the last iteration (or if this is
+      the first iteration), and if this &lt;a href=#immediate-user-selection&gt;immediate user
       selection&lt;/a&gt; is not the same as the &lt;a href=#current-target-element&gt;current target
-      element&lt;/a&gt;, then the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; must
-      be updated, as follows:&lt;/p&gt;
+      element&lt;/a&gt;, then update the &lt;a href=#current-target-element&gt;current target
+      element&lt;/a&gt; as follows:&lt;/p&gt;
 
       &lt;dl class=switch&gt;&lt;dt&gt;If the new &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; is null, or
        is in a non-DOM document or application&lt;/dt&gt;
 
-       &lt;dd&gt;&lt;p&gt;The user agent must set the &lt;a href=#current-target-element&gt;current target
-       element&lt;/a&gt; to the same value.&lt;/dd&gt;
+       &lt;dd&gt;&lt;p&gt;Set the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; to the same
+       value.&lt;/dd&gt;
 
        &lt;dt&gt;Otherwise&lt;/dt&gt;
 
        &lt;dd&gt;
 
-        &lt;p&gt;The user agent must fire a &lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; event at the
+        &lt;p&gt;&lt;a href=#fire-a-dnd-event&gt;Fire a DND event&lt;/a&gt; named &lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; at the
         &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt;.&lt;/p&gt;
 
-        &lt;p&gt;If the event is canceled, then the &lt;a href=#current-target-element&gt;current target
-        element&lt;/a&gt; must be set to the &lt;a href=#immediate-user-selection&gt;immediate user
+        &lt;p&gt;If the event is canceled, then set the &lt;a href=#current-target-element&gt;current target
+        element&lt;/a&gt; to the &lt;a href=#immediate-user-selection&gt;immediate user
         selection&lt;/a&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Otherwise, the user agent must act as follows:&lt;/p&gt;
+        &lt;p&gt;Otherwise, run the appropriate step from the following
+        list:&lt;/p&gt;
 
         &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a text
          field (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;
@@ -66695,26 +66904,31 @@
          attribute is in the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
          &lt;a href=#editable&gt;editable&lt;/a&gt; element&lt;/dt&gt;
 
-         &lt;dd&gt;&lt;p&gt;The &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; must be set to
-         the &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; anyway.&lt;/dd&gt;
+         &lt;dd&gt;&lt;p&gt;Set the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; to the
+         &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; anyway.&lt;/dd&gt;
 
          &lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is
          &lt;a href=#the-body-element&gt;the body element&lt;/a&gt;&lt;/dt&gt;
 
-         &lt;dd&gt;&lt;p&gt;The &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is left
+         &lt;dd&gt;&lt;p&gt;Leave the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt;
          unchanged.&lt;/dd&gt;
 
          &lt;dt&gt;Otherwise&lt;/dt&gt;
 
-         &lt;dd&gt;&lt;p&gt;The user agent must fire a &lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; event at &lt;a href=#the-body-element&gt;the
-         body element&lt;/a&gt;, and the &lt;a href=#current-target-element&gt;current target
-         element&lt;/a&gt; must be set to &lt;a href=#the-body-element&gt;the body element&lt;/a&gt;,
-         regardless of whether that event was canceled or not. (If
-         &lt;a href=#the-body-element&gt;the body element&lt;/a&gt; is null, then the &lt;a href=#current-target-element&gt;current
-         target element&lt;/a&gt; would be set to null too in this case,
-         it wouldn't be set to the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
-         object.)&lt;/dd&gt;
+         &lt;dd&gt;
 
+          &lt;p&gt;&lt;a href=#fire-a-dnd-event&gt;Fire a DND event&lt;/a&gt; named &lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; at &lt;a href=#the-body-element&gt;the body
+          element&lt;/a&gt;, and set the &lt;a href=#current-target-element&gt;current target
+          element&lt;/a&gt; to &lt;a href=#the-body-element&gt;the body element&lt;/a&gt;, regardless
+          of whether that event was canceled or not.&lt;/p&gt;
+
+          &lt;p class=note&gt;If &lt;a href=#the-body-element&gt;the body element&lt;/a&gt; is null,
+          then the event will be fired at the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
+          object (as required by the definition of &lt;a href=#the-body-element&gt;the body
+          element&lt;/a&gt;), but the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt;
+          would be set to null, not the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
+          object.&lt;/dd&gt;
+
         &lt;/dl&gt;&lt;/dd&gt;
 
       &lt;/dl&gt;&lt;/li&gt;
@@ -66723,20 +66937,21 @@
 
       &lt;p&gt;If the previous step caused the &lt;a href=#current-target-element&gt;current target
       element&lt;/a&gt; to change, and if the previous target element was
-      not null or a part of a non-DOM document, the user agent must fire
-      a &lt;code title=event-dragleave&gt;&lt;a href=#event-dragleave&gt;dragleave&lt;/a&gt;&lt;/code&gt; event at the
-      previous target element.&lt;/p&gt;
+      not null or a part of a non-DOM document, then &lt;a href=#fire-a-dnd-event&gt;fire a DND
+      event&lt;/a&gt; named &lt;code title=event-dragleave&gt;&lt;a href=#event-dragleave&gt;dragleave&lt;/a&gt;&lt;/code&gt; at the previous target
+      element.&lt;/p&gt;
 
      &lt;/li&gt;
 
      &lt;li&gt;
 
       &lt;p&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a DOM element,
-      the user agent must fire a &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; event at this &lt;a href=#current-target-element&gt;current
+      then &lt;a href=#fire-a-dnd-event&gt;fire a DND event&lt;/a&gt; named &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; at this &lt;a href=#current-target-element&gt;current
       target element&lt;/a&gt;.&lt;/p&gt;
 
       &lt;p&gt;If the &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; event is
-      not canceled, the user agent must act as follows:&lt;/p&gt;
+      not canceled, run the appropriate step from the following
+      list:&lt;/p&gt;
 
       &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a text field
        (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
@@ -66744,59 +66959,59 @@
        the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
        &lt;a href=#editable&gt;editable&lt;/a&gt; element&lt;/dt&gt;
 
-       &lt;dd&gt;&lt;p&gt;The user agent must set the &lt;a href=#current-drag-operation&gt;current drag
-       operation&lt;/a&gt; to either &quot;copy&quot; or &quot;move&quot;, as appropriate
-       given the platform conventions.&lt;/dd&gt;
+       &lt;dd&gt;&lt;p&gt;Set the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to either
+       &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;,
+       as appropriate given the platform conventions.&lt;/dd&gt;
 
        &lt;dt&gt;Otherwise&lt;/dt&gt;
 
-       &lt;dd&gt;&lt;p&gt;The user agent must reset the &lt;a href=#current-drag-operation&gt;current drag
-       operation&lt;/a&gt; to &quot;none&quot;.&lt;/dd&gt;
+       &lt;dd&gt;&lt;p&gt;Reset the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;.&lt;/dd&gt;
 
       &lt;/dl&gt;&lt;p&gt;Otherwise (if the &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; event &lt;em&gt;is&lt;/em&gt;
-      canceled), the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; must be set
-      based on the values the &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt; and
+      canceled), set the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; based on
+      the values of the &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt; and
       &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt;
-      attributes of the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; object
-      had after the event was handled, as per the following table:&lt;/p&gt;
+      attributes of the &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; object as
+      they stood after the event dispatch finished, as per the
+      following table:&lt;/p&gt;
 
       &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
          &lt;th&gt;&lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
          &lt;th&gt;Drag operation&lt;/th&gt;
-        &lt;/thead&gt;&lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;, or &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&quot;copy&quot;&lt;/td&gt;
-       &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;, or &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&quot;link&quot;&lt;/td&gt;
-       &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;, or &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&quot;move&quot;&lt;/td&gt;
+        &lt;/thead&gt;&lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;&quot;, or &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
+       &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&quot;, or &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;&lt;/td&gt;
+       &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&quot;, or &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
        &lt;tr&gt;&lt;td colspan=2&gt;Any other case&lt;/td&gt;
-        &lt;td&gt;&quot;none&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
        &lt;/table&gt;&lt;p&gt;Then, regardless of whether the &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; event was canceled or
-      not, the drag feedback (e.g. the mouse cursor) must be updated
-      to match the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt;, as
-      follows:&lt;/p&gt;
+      not, update the drag feedback (e.g. the mouse cursor) to match
+      the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt;, as follows:&lt;/p&gt;
 
       &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Drag operation&lt;/th&gt;
          &lt;th&gt;Feedback&lt;/th&gt;
-        &lt;/thead&gt;&lt;tr&gt;&lt;td&gt;&quot;copy&quot;&lt;/td&gt;
+        &lt;/thead&gt;&lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
         &lt;td&gt;Data will be copied if dropped here.&lt;/td&gt;
-       &lt;tr&gt;&lt;td&gt;&quot;link&quot;&lt;/td&gt;
+       &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;&lt;/td&gt;
         &lt;td&gt;Data will be linked if dropped here.&lt;/td&gt;
-       &lt;tr&gt;&lt;td&gt;&quot;move&quot;&lt;/td&gt;
+       &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
         &lt;td&gt;Data will be moved if dropped here.&lt;/td&gt;
-       &lt;tr&gt;&lt;td&gt;&quot;none&quot;&lt;/td&gt;
+       &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
         &lt;td&gt;No operation allowed, dropping here will cancel the drag-and-drop operation.&lt;/td&gt;
        &lt;/table&gt;&lt;/li&gt;
 
      &lt;li&gt;
 
-      &lt;p&gt;Otherwise, if the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is not a
-      DOM element, the user agent must use platform-specific mechanisms
-      to determine what drag operation is being performed (none, copy,
-      link, or move). This sets the &lt;em&gt;current drag operation&lt;/em&gt;.&lt;/p&gt;
+      &lt;p&gt;Otherwise, if the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is not
+      a DOM element, use platform-specific mechanisms to determine
+      what drag operation is being performed (none, copy, link, or
+      move), and set the &lt;i&gt;&lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt;&lt;/i&gt;
+      accordingly.&lt;/p&gt;
 
      &lt;/li&gt;
 
@@ -66807,90 +67022,88 @@
     &lt;p&gt;Otherwise, if the user ended the drag-and-drop operation (e.g.
     by releasing the mouse button in a mouse-driven drag-and-drop
     interface), or if the &lt;code title=event-drag&gt;&lt;a href=#event-drag&gt;drag&lt;/a&gt;&lt;/code&gt; event
-    was canceled, then this will be the last iteration. The user agent
-    must execute the following steps, then stop looping.&lt;/p&gt;
+    was canceled, then this will be the last iteration. Run the
+    following steps, then stop the drag-and-drop operation:&lt;/p&gt;
 
     &lt;ol&gt;&lt;li&gt;
 
-      &lt;p&gt;If the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; is none (no drag
-      operation), or, if the user ended the drag-and-drop operation by
-      canceling it (e.g. by hitting the &lt;kbd&gt;Escape&lt;/kbd&gt; key), or if
-      the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is null, then the drag
-      operation failed. If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is
-      a DOM element, the user agent must fire a &lt;code title=event-dragleave&gt;&lt;a href=#event-dragleave&gt;dragleave&lt;/a&gt;&lt;/code&gt; event at it; otherwise,
-      if it is not null, it must use platform-specific conventions for
-      drag cancellation.&lt;/p&gt;
+      &lt;p&gt;If the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; is &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot; (no drag operation), or, if the user ended
+      the drag-and-drop operation by canceling it (e.g. by hitting the
+      &lt;kbd&gt;Escape&lt;/kbd&gt; key), or if the &lt;a href=#current-target-element&gt;current target
+      element&lt;/a&gt; is null, then the drag operation failed. Run
+      these substeps:&lt;/p&gt;
 
-     &lt;/li&gt;
+      &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;dropped&lt;/var&gt; be false.&lt;/li&gt;
 
-     &lt;li&gt;
+       &lt;li&gt;&lt;p&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a DOM
+       element, &lt;a href=#fire-a-dnd-event&gt;fire a DND event&lt;/a&gt; named &lt;code title=event-dragleave&gt;&lt;a href=#event-dragleave&gt;dragleave&lt;/a&gt;&lt;/code&gt; at it; otherwise, if
+       it is not null, use platform-specific conventions for drag
+       cancellation.&lt;/p&gt;
 
-      &lt;p&gt;Otherwise, the drag operation was as success. If the
-      &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a DOM element, the user
-      agent must fire a &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; event at
-      it; otherwise, it must use platform-specific conventions for
-      indicating a drop.&lt;/p&gt;
+      &lt;/ol&gt;&lt;p&gt;Otherwise, the drag operation was as success; run these substeps:&lt;/p&gt;
 
-      &lt;p&gt;When the target is a DOM element, the &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute
-      of the event's &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; object
-      must be given the value representing the &lt;a href=#current-drag-operation&gt;current drag
-      operation&lt;/a&gt; (&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, or &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;), and the
-      object must be set up so that the &lt;code title=dom-DataTransfer-getData&gt;&lt;a href=#dom-datatransfer-getdata&gt;getData()&lt;/a&gt;&lt;/code&gt; method will
-      return the data that was added during the &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event, and the &lt;code title=dom-datatransfer-files&gt;&lt;a href=#dom-datatransfer-files&gt;files&lt;/a&gt;&lt;/code&gt; attribute will
-      return a &lt;code&gt;FileList&lt;/code&gt; object with any files that were
-      dragged.&lt;/p&gt;
+      &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;dropped&lt;/var&gt; be true.&lt;/li&gt;
 
-      &lt;p&gt;If the event is canceled, the &lt;a href=#current-drag-operation&gt;current drag
-      operation&lt;/a&gt; must be set to the value of the &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute
-      of the event's &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; object as
-      it stood after the event was handled.&lt;/p&gt;
+       &lt;li&gt;&lt;p&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a DOM
+       element, &lt;a href=#fire-a-dnd-event&gt;fire a DND event&lt;/a&gt; named &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; at it; otherwise, use
+       platform-specific conventions for indicating a drop.&lt;/li&gt;
 
-      &lt;p&gt;Otherwise, the event is not canceled, and the user agent must
-      perform the event's default action, which depends on the exact
-      target as follows:&lt;/p&gt;
+       &lt;li&gt;
 
-      &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a text field
-       (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
-       whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
-       the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
-       &lt;a href=#editable&gt;editable&lt;/a&gt; element&lt;/dt&gt;
+        &lt;p&gt;If the event is canceled, set the &lt;a href=#current-drag-operation&gt;current drag
+        operation&lt;/a&gt; to the value of the &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute
+        of the &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; object
+        as it stood after the event dispatch finished.&lt;/p&gt;
 
-       &lt;dd&gt;The user agent must insert the data associated with the
-       &lt;code&gt;text/plain&lt;/code&gt; format, if any, into the text field or
-       &lt;a href=#editable&gt;editable&lt;/a&gt; element in a manner consistent with
-       platform-specific conventions (e.g. inserting it at the current
-       mouse cursor position, or inserting it at the end of the
-       field).&lt;/dd&gt;
+        &lt;p&gt;Otherwise, the event is not canceled; perform the event's
+        default action, which depends on the exact target as
+        follows:&lt;/p&gt;
 
-       &lt;dt&gt;Otherwise&lt;/dt&gt;
+        &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a text field
+         (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
+         whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
+         the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
+         &lt;a href=#editable&gt;editable&lt;/a&gt; element&lt;/dt&gt;
 
-       &lt;dd&gt;Reset the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to
-       &quot;none&quot;.&lt;/dd&gt;
+         &lt;dd&gt;&lt;p&gt;If the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; has an
+         item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item type string&lt;/a&gt;
+         &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the drag data item
+         kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;, insert the actual data
+         of that item into the text field or &lt;a href=#editable&gt;editable&lt;/a&gt;
+         element in a manner consistent with platform-specific
+         conventions (e.g. inserting it at the current mouse cursor
+         position, or inserting it at the end of the field).&lt;/dd&gt;
 
-      &lt;/dl&gt;&lt;/li&gt;
+         &lt;dt&gt;Otherwise&lt;/dt&gt;
 
+         &lt;dd&gt;&lt;p&gt;Reset the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to
+         &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;.&lt;/p&gt;~&lt;/dd&gt;
+
+        &lt;/dl&gt;&lt;/li&gt;
+
+      &lt;/ol&gt;&lt;/li&gt;
+
      &lt;li&gt;
 
-      &lt;p&gt;Finally, the user agent must fire a &lt;code title=event-dragend&gt;&lt;a href=#event-dragend&gt;dragend&lt;/a&gt;&lt;/code&gt; event at the &lt;a href=#source-node&gt;source
-      node&lt;/a&gt;, with the &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute
-      of the event's &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; object
-      being set to the value corresponding to the &lt;a href=#current-drag-operation&gt;current drag
-      operation&lt;/a&gt;.&lt;/p&gt;
+      &lt;p&gt;&lt;a href=#fire-a-dnd-event&gt;Fire a DND event&lt;/a&gt; named &lt;code title=event-dragend&gt;&lt;a href=#event-dragend&gt;dragend&lt;/a&gt;&lt;/code&gt; at the &lt;a href=#source-node&gt;source
+      node&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p class=note&gt;The &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; can
-      change during the processing of the &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; event, if one was fired.&lt;/p&gt;
+     &lt;/li&gt;
 
-      &lt;p&gt;The event is not cancelable. After the event has been
-      handled, the user agent must act as follows:&lt;/p&gt;
+     &lt;li&gt;
 
+      &lt;p&gt;Run the appropriate steps from the following list as the
+      default action of the &lt;code title=event-dragend&gt;&lt;a href=#event-dragend&gt;dragend&lt;/a&gt;&lt;/code&gt;
+      event:&lt;/p&gt;
+
       &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a text field
        (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
        whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
        the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state), and
-       a &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; event was fired in the
-       previous step, and the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; is
-       &quot;move&quot;, and the source of the drag-and-drop operation is a
-       selection in the DOM&lt;/dt&gt;
+       &lt;var title=&quot;&quot;&gt;dropped&lt;/var&gt; is true, and the &lt;a href=#current-drag-operation&gt;current drag
+       operation&lt;/a&gt; is &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, and the
+       source of the drag-and-drop operation is a selection in the
+       DOM&lt;/dt&gt;
 
        &lt;dd&gt;The user agent should delete the range representing the
        dragged selection from the DOM.&lt;/dd&gt;
@@ -66899,10 +67112,10 @@
        (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
        whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
        the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state), and
-       a &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; event was fired in the
-       previous step, and the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; is
-       &quot;move&quot;, and the source of the drag-and-drop operation is a
-       selection in a text field&lt;/dt&gt;
+       &lt;var title=&quot;&quot;&gt;dropped&lt;/var&gt; is true, and the &lt;a href=#current-drag-operation&gt;current drag
+       operation&lt;/a&gt; is &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, and the
+       source of the drag-and-drop operation is a selection in a text
+       field&lt;/dt&gt;
 
        &lt;dd&gt;The user agent should delete the dragged selection from the
        relevant text field.&lt;/dd&gt;
@@ -66926,7 +67139,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h5 id=when-the-drag-and-drop-operation-starts-or-ends-in-another-document&gt;&lt;span class=secno&gt;8.7.4.1 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
+  &lt;h5 id=when-the-drag-and-drop-operation-starts-or-ends-in-another-document&gt;&lt;span class=secno&gt;8.7.5.1 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
   document&lt;/h5&gt;
 
   &lt;p&gt;The model described above is independent of which
@@ -66941,7 +67154,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h5 id=when-the-drag-and-drop-operation-starts-or-ends-in-another-application&gt;&lt;span class=secno&gt;8.7.4.2 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
+  &lt;h5 id=when-the-drag-and-drop-operation-starts-or-ends-in-another-application&gt;&lt;span class=secno&gt;8.7.5.2 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
   application&lt;/h5&gt;
 
   &lt;p&gt;If the drag is initiated in another application, the &lt;a href=#source-node&gt;source
@@ -66971,8 +67184,87 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=the-draggable-attribute&gt;&lt;span class=secno&gt;8.7.5 &lt;/span&gt;The &lt;dfn title=attr-draggable&gt;&lt;code&gt;draggable&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
+  &lt;h4 id=dndevents&gt;&lt;span class=secno&gt;8.7.6 &lt;/span&gt;Events summary&lt;/h4&gt;
 
+  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
+
+  &lt;p&gt;The following events are involved in the drag-and-drop
+  model.&lt;/p&gt;
+
+  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt; Event Name &lt;/th&gt;
+     &lt;th&gt; Target &lt;/th&gt;
+     &lt;!-- &lt;th&gt; Bubbles? &lt;/th&gt; --&gt;
+     &lt;th&gt; Cancelable? &lt;/th&gt;
+     &lt;th&gt; &lt;a href=#drag-data-store-mode&gt;Drag data store mode&lt;/a&gt; &lt;/th&gt;
+     &lt;!-- &lt;th&gt; &lt;code title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/code&gt; &lt;/th&gt; --&gt;
+     &lt;th&gt; &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; &lt;/th&gt;
+     &lt;th&gt; Default Action &lt;/th&gt;
+    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragstart title=event-dragstart&gt;&lt;code&gt;dragstart&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#source-node&gt;Source node&lt;/a&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#concept-dnd-rw title=concept-dnd-rw&gt;Read/write mode&lt;/a&gt;
+     &lt;!-- &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;&lt;/td&gt; --&gt;
+     &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;td&gt;Initiate the drag-and-drop operation&lt;/td&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-drag title=event-drag&gt;&lt;code&gt;drag&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#source-node&gt;Source node&lt;/a&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#concept-dnd-p title=concept-dnd-p&gt;Protected mode&lt;/a&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;td&gt;Continue the drag-and-drop operation&lt;/td&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragenter title=event-dragenter&gt;&lt;code&gt;dragenter&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#immediate-user-selection&gt;Immediate user selection&lt;/a&gt; or &lt;a href=#the-body-element&gt;the body element&lt;/a&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#concept-dnd-p title=concept-dnd-p&gt;Protected mode&lt;/a&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&lt;a href=#dropEffect-initialization&gt;Based on &lt;code&gt;effectAllowed&lt;/code&gt; value&lt;/a&gt;&lt;/td&gt;
+     &lt;td&gt;Reject &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; as potential &lt;a href=#current-target-element title=&quot;current target element&quot;&gt;target element&lt;/a&gt;&lt;/td&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragleave title=event-dragleave&gt;&lt;code&gt;dragleave&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#current-target-element title=&quot;current target element&quot;&gt;Previous target element&lt;/a&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&mdash;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#concept-dnd-p title=concept-dnd-p&gt;Protected mode&lt;/a&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;td&gt;None&lt;/td&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragover title=event-dragover&gt;&lt;code&gt;dragover&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#current-target-element&gt;Current target element&lt;/a&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#concept-dnd-p title=concept-dnd-p&gt;Protected mode&lt;/a&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&lt;a href=#dropEffect-initialization&gt;Based on &lt;code&gt;effectAllowed&lt;/code&gt; value&lt;/a&gt;&lt;/td&gt;
+     &lt;td&gt;Reset the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to &quot;none&quot;&lt;/td&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-drop title=event-drop&gt;&lt;code&gt;drop&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#current-target-element&gt;Current target element&lt;/a&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#concept-dnd-ro title=concept-dnd-ro&gt;Read-only mode&lt;/a&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&lt;a href=#current-drag-operation&gt;Current drag operation&lt;/a&gt;&lt;/td&gt;
+     &lt;td&gt;Varies&lt;/td&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragend title=event-dragend&gt;&lt;code&gt;dragend&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#source-node&gt;Source node&lt;/a&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&mdash;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#concept-dnd-p title=concept-dnd-p&gt;Protected mode&lt;/a&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&lt;a href=#current-drag-operation&gt;Current drag operation&lt;/a&gt;&lt;/td&gt;
+     &lt;td&gt;Varies&lt;/td&gt;
+    &lt;/table&gt;&lt;p&gt;Not shown in the above table: all these events bubble, and the
+  &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
+  attribute always has the value it had after the previous event was
+  fired, defaulting to &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot; in the
+  &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event.&lt;/p&gt;
+
+
+
+  &lt;h4 id=the-draggable-attribute&gt;&lt;span class=secno&gt;8.7.7 &lt;/span&gt;The &lt;dfn title=attr-draggable&gt;&lt;code&gt;draggable&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
+
   &lt;p&gt;All &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; may have the &lt;code title=attr-draggable&gt;&lt;a href=#the-draggable-attribute&gt;draggable&lt;/a&gt;&lt;/code&gt; content attribute set. The
   &lt;code title=attr-draggable&gt;&lt;a href=#the-draggable-attribute&gt;draggable&lt;/a&gt;&lt;/code&gt; attribute is an
   &lt;a href=#enumerated-attribute&gt;enumerated attribute&lt;/a&gt;. It has three states. The first
@@ -67113,7 +67405,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.7.6 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/h4&gt;
+  &lt;h4 id=security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.7.8 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/h4&gt;
 
   &lt;p&gt;User agents must not make the data added to the
   &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object during the &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event available to scripts

Modified: index
===================================================================
--- index	2010-10-25 22:32:13 UTC (rev 5646)
+++ index	2010-10-27 23:01:54 UTC (rev 5647)
@@ -218,7 +218,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> rel=home&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1&gt;HTML5 (including next generation additions still in development)&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Draft Standard &mdash; 25 October 2010&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Draft Standard &mdash; 27 October 2010&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;p&gt;You can take part in this work. &lt;a href=<A HREF="http://www.whatwg.org/mailing-list">http://www.whatwg.org/mailing-list</A>&gt;Join the working group's discussion list.&lt;/a&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;Web designers!&lt;/strong&gt; We have a &lt;a href=<A HREF="http://blog.whatwg.org/faq/">http://blog.whatwg.org/faq/</A>&gt;FAQ&lt;/a&gt;, a &lt;a href=<A HREF="http://forums.whatwg.org/">http://forums.whatwg.org/</A>&gt;forum&lt;/a&gt;, and a &lt;a href=<A HREF="http://www.whatwg.org/mailing-list#help">http://www.whatwg.org/mailing-list#help</A>&gt;help mailing list&lt;/a&gt; for you!&lt;/p&gt;
    &lt;!--&lt;p class=&quot;impl&quot;&gt;&lt;strong&gt;Implementors!&lt;/strong&gt; We have a &lt;a href=&quot;<A HREF="http://www.whatwg.org/mailing-list#implementors">http://www.whatwg.org/mailing-list#implementors</A>&quot;&gt;mailing list&lt;/a&gt; for you too!&lt;/p&gt;--&gt;
@@ -965,16 +965,18 @@
    &lt;li&gt;&lt;a href=#dnd&gt;&lt;span class=secno&gt;8.7 &lt;/span&gt;Drag and drop&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#introduction-7&gt;&lt;span class=secno&gt;8.7.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-dragevent-and-datatransfer-interfaces&gt;&lt;span class=secno&gt;8.7.2 &lt;/span&gt;The &lt;code&gt;DragEvent&lt;/code&gt; and &lt;code&gt;DataTransfer&lt;/code&gt; interfaces&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#dndevents&gt;&lt;span class=secno&gt;8.7.3 &lt;/span&gt;Events fired during a drag-and-drop action&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.7.4 &lt;/span&gt;Drag-and-drop processing model&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#the-drag-data-store&gt;&lt;span class=secno&gt;8.7.2 &lt;/span&gt;The drag data store&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-datatransfer-interface&gt;&lt;span class=secno&gt;8.7.3 &lt;/span&gt;The &lt;code&gt;DataTransfer&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-dragevent-interface&gt;&lt;span class=secno&gt;8.7.4 &lt;/span&gt;The &lt;code&gt;DragEvent&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.7.5 &lt;/span&gt;Drag-and-drop processing model&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#when-the-drag-and-drop-operation-starts-or-ends-in-another-document&gt;&lt;span class=secno&gt;8.7.4.1 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
+       &lt;li&gt;&lt;a href=#when-the-drag-and-drop-operation-starts-or-ends-in-another-document&gt;&lt;span class=secno&gt;8.7.5.1 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
   document&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#when-the-drag-and-drop-operation-starts-or-ends-in-another-application&gt;&lt;span class=secno&gt;8.7.4.2 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
+       &lt;li&gt;&lt;a href=#when-the-drag-and-drop-operation-starts-or-ends-in-another-application&gt;&lt;span class=secno&gt;8.7.5.2 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
   application&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#the-draggable-attribute&gt;&lt;span class=secno&gt;8.7.5 &lt;/span&gt;The &lt;code&gt;draggable&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.7.6 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#dndevents&gt;&lt;span class=secno&gt;8.7.6 &lt;/span&gt;Events summary&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#the-draggable-attribute&gt;&lt;span class=secno&gt;8.7.7 &lt;/span&gt;The &lt;code&gt;draggable&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.7.8 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#undo&gt;&lt;span class=secno&gt;8.8 &lt;/span&gt;Undo history&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#definitions-2&gt;&lt;span class=secno&gt;8.8.1 &lt;/span&gt;Definitions&lt;/a&gt;&lt;/li&gt;
@@ -65937,138 +65939,150 @@
 
 
 
+  &lt;h4 id=the-drag-data-store&gt;&lt;span class=secno&gt;8.7.2 &lt;/span&gt;The drag data store&lt;/h4&gt;
 
-  &lt;h4 id=the-dragevent-and-datatransfer-interfaces&gt;&lt;span class=secno&gt;8.7.2 &lt;/span&gt;The &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; interfaces&lt;/h4&gt;
+  &lt;p&gt;The data that underlies a drag-and-drop operation, known as the
+  &lt;dfn id=drag-data-store&gt;drag data store&lt;/dfn&gt;, consists of the following information:&lt;/p&gt;
 
-  &lt;p&gt;The drag-and-drop processing model involves several events. They
-  all use the &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
+  &lt;ul&gt;&lt;li&gt;&lt;p&gt;A &lt;dfn id=drag-data-store-item-list&gt;drag data store item list&lt;/dfn&gt;, which is a list of
+   items representing the dragged data, each consisting of the
+   following information:&lt;/p&gt;
 
-  &lt;pre class=idl&gt;interface &lt;dfn id=dragevent&gt;DragEvent&lt;/dfn&gt; : &lt;span&gt;MouseEvent&lt;/span&gt; {
-  readonly attribute &lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt; &lt;a href=#dom-dragevent-datatransfer title=dom-DragEvent-dataTransfer&gt;dataTransfer&lt;/a&gt;;
+    &lt;dl&gt;&lt;dt&gt;&lt;dfn id=the-drag-data-item-type-string&gt;The drag data item type string&lt;/dfn&gt;&lt;/dt&gt;
 
-  void &lt;a href=#dom-dragevent-initdragevent title=dom-DragEvent-initDragEvent&gt;initDragEvent&lt;/a&gt;(in DOMString typeArg, in boolean canBubbleArg, in boolean cancelableArg, in any dummyArg&lt;!-- used to be viewArg, back when we had views --&gt;, in long detailArg, in long screenXArg, in long screenYArg, in long clientXArg, in long clientYArg, in boolean ctrlKeyArg, in boolean altKeyArg, in boolean shiftKeyArg, in boolean metaKeyArg, in unsigned short buttonArg, in EventTarget relatedTargetArg, in &lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt; dataTransferArg);
-};&lt;/pre&gt;
+     &lt;dd&gt;
 
-  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;event&lt;/var&gt; . &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+      &lt;p&gt;A Unicode string giving the type or format of the data,
+      generally given by a &lt;a href=#mime-type&gt;MIME type&lt;/a&gt;. Some values that
+      are not &lt;a href=#mime-type title=&quot;MIME type&quot;&gt;MIME types&lt;/a&gt; are
+      special-cased for legacy reasons. The API does not enforce the
+      use of &lt;a href=#mime-type title=&quot;MIME type&quot;&gt;MIME types&lt;/a&gt;; other values
+      can be used as well. In all cases, however, the values are all
+      &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII lowercase&lt;/a&gt; by the API.&lt;/p&gt;
 
-   &lt;dd&gt;
+     &lt;/dd&gt;
 
-    &lt;p&gt;Returns the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object for the event.&lt;/p&gt;
+     &lt;dt&gt;&lt;dfn id=the-drag-data-item-kind&gt;The drag data item kind&lt;/dfn&gt;&lt;/dt&gt;
 
-   &lt;/dd&gt;
+     &lt;dd&gt;
 
-  &lt;/dl&gt;&lt;div class=impl&gt;
+      &lt;p&gt;The kind of data:&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-dragevent-initdragevent title=dom-DragEvent-initDragEvent&gt;&lt;code&gt;initDragEvent()&lt;/code&gt;&lt;/dfn&gt;
-  method must initialize the event in a manner analogous to the
-  similarly-named method in the DOM Events interfaces, except that the
-  &lt;var title=&quot;&quot;&gt;dummyArg&lt;/var&gt; argument must be ignored. &lt;a href=#refsDOMEVENTS&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt;
+      &lt;dl&gt;&lt;dt&gt;&lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
+       &lt;dd&gt;
+        &lt;p&gt;Raw text.&lt;/p&gt;
+       &lt;/dd&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-dragevent-datatransfer title=dom-DragEvent-dataTransfer&gt;&lt;code&gt;dataTransfer&lt;/code&gt;&lt;/dfn&gt;
-  attribute of the &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface represents the
-  context information for the event.&lt;/p&gt;
+       &lt;dt&gt;&lt;i&gt;Blob&lt;/i&gt;&lt;/dt&gt;
+       &lt;dd&gt;
+        &lt;p&gt;Binary data.&lt;/p&gt;
+       &lt;/dd&gt;
 
-  &lt;/div&gt;
+       &lt;dt&gt;&lt;i&gt;File&lt;/i&gt;&lt;/dt&gt;
+       &lt;dd&gt;
+        &lt;p&gt;Binary data with a file name.&lt;/p&gt;
+       &lt;/dd&gt;
 
-  &lt;pre class=idl&gt;interface &lt;dfn id=datatransfer&gt;DataTransfer&lt;/dfn&gt; {
-           attribute DOMString &lt;a href=#dom-datatransfer-dropeffect title=dom-DataTransfer-dropEffect&gt;dropEffect&lt;/a&gt;;
-           attribute DOMString &lt;a href=#dom-datatransfer-effectallowed title=dom-DataTransfer-effectAllowed&gt;effectAllowed&lt;/a&gt;;
+      &lt;/dl&gt;&lt;/dd&gt;
 
-  readonly attribute DOMStringList &lt;a href=#dom-datatransfer-types title=dom-DataTransfer-types&gt;types&lt;/a&gt;;
-  void &lt;a href=#dom-datatransfer-cleardata title=dom-DataTransfer-clearData&gt;clearData&lt;/a&gt;(in optional DOMString format);
-  void &lt;a href=#dom-datatransfer-setdata title=dom-DataTransfer-setData&gt;setData&lt;/a&gt;(in DOMString format, in DOMString data);
-  DOMString &lt;a href=#dom-datatransfer-getdata title=dom-DataTransfer-getData&gt;getData&lt;/a&gt;(in DOMString format);
-  readonly attribute &lt;span&gt;FileList&lt;/span&gt; &lt;a href=#dom-datatransfer-files title=dom-DataTransfer-files&gt;files&lt;/a&gt;;
+     &lt;dt&gt;The actual data&lt;/dt&gt;
 
-  void &lt;a href=#dom-datatransfer-setdragimage title=dom-DataTransfer-setDragImage&gt;setDragImage&lt;/a&gt;(in Element image, in long x, in long y);
-  void &lt;a href=#dom-datatransfer-addelement title=dom-DataTransfer-addElement&gt;addElement&lt;/a&gt;(in Element element);
-};&lt;/pre&gt;
+     &lt;dd&gt;&lt;p&gt;A Unicode or binary string, optionally with a file name
+     (itself a Unicode string), as per &lt;a href=#the-drag-data-item-kind&gt;the drag data item
+     kind&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;p&gt;&lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; objects are used to expose the data
-  that underlies a drag-and-drop operation.&lt;/p&gt;
+    &lt;/dl&gt;&lt;/li&gt;
 
-  &lt;p&gt;The data that underlies a drag-and-drop operation, known as the
-  &lt;dfn id=drag-data-store&gt;drag data store&lt;/dfn&gt;, consists of an unordered list of items
-  representing the dragged data, and some information used to generate
-  the UI feedback during the drag.&lt;/p&gt;
+   &lt;li&gt;
 
-  &lt;p&gt;Each item representing dragged data in a &lt;a href=#drag-data-store&gt;drag data
-  store&lt;/a&gt; has the following information:&lt;/p&gt;
+    &lt;p&gt;The following information, used to generate the UI feedback
+    during the drag:&lt;/p&gt;
 
-  &lt;ul&gt;&lt;li&gt;
+    &lt;ul&gt;&lt;li&gt;User-agent-defined default feedback information, known as the
+     &lt;dfn id=drag-data-store-default-feedback&gt;drag data store default feedback&lt;/dfn&gt;.&lt;/li&gt;
 
-    &lt;p&gt;The type or format of the data, generally given by a &lt;a href=#mime-type&gt;MIME
-    type&lt;/a&gt;. Some values that are not &lt;a href=#mime-type title=&quot;MIME type&quot;&gt;MIME
-    types&lt;/a&gt; are special-cased for legacy reasons. The API does
-    not enforce the use of &lt;a href=#mime-type title=&quot;MIME type&quot;&gt;MIME types&lt;/a&gt;;
-    other values can be used as well. In all cases, however, the
-    values are all &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII lowercase&lt;/a&gt; by the
-    API.&lt;/p&gt;
+     &lt;li&gt;A list of zero or more elements known as the &lt;dfn id=drag-data-store-elements-list&gt;drag data
+     store elements list&lt;/dfn&gt;.&lt;/li&gt;
 
-   &lt;/li&gt;
+     &lt;li&gt;Optionally, a bitmap image and the coordinate of a point
+     within that image, known as the &lt;dfn id=drag-data-store-bitmap&gt;drag data store bitmap&lt;/dfn&gt;
+     and &lt;dfn id=drag-data-store-hot-spot-coordinate&gt;drag data store hot spot coordinate&lt;/dfn&gt;.&lt;/li&gt;
 
+    &lt;/ul&gt;&lt;/li&gt;
+
    &lt;li&gt;
 
-    &lt;p&gt;The kind of data:&lt;/p&gt;
+    &lt;p&gt;A &lt;dfn id=drag-data-store-mode&gt;drag data store mode&lt;/dfn&gt;, which is one of the
+    following:&lt;/p&gt;
 
-    &lt;dl&gt;&lt;dt&gt;Plain Unicode string&lt;/dt&gt;
+    &lt;dl&gt;&lt;dt&gt;&lt;dfn id=concept-dnd-rw title=concept-dnd-rw&gt;Read/write mode&lt;/dfn&gt;&lt;/dt&gt;
      &lt;dd&gt;
-      &lt;p&gt;Raw text.&lt;/p&gt;
+
+      &lt;p&gt;For the &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event.
+      New data can be added to the &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;.&lt;/p&gt;
+
      &lt;/dd&gt;
 
-     &lt;dt&gt;Blob&lt;/dt&gt;
+     &lt;dt&gt;&lt;dfn id=concept-dnd-ro title=concept-dnd-ro&gt;Read-only mode&lt;/dfn&gt;&lt;/dt&gt;
      &lt;dd&gt;
-      &lt;p&gt;Binary data.&lt;/p&gt;
+
+      &lt;p&gt;For the &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; event. The list of
+      items representing dragged data can be read, including the data.
+      No new data can be added.&lt;/p&gt;
+
      &lt;/dd&gt;
 
-     &lt;dt&gt;File&lt;/dt&gt;
+     &lt;dt&gt;&lt;dfn id=concept-dnd-p title=concept-dnd-p&gt;Protected mode&lt;/dfn&gt;&lt;/dt&gt;
      &lt;dd&gt;
-      &lt;p&gt;Binary data with a file name.&lt;/p&gt;
+
+      &lt;p&gt;For all other events. The formats and kinds in the &lt;a href=#drag-data-store&gt;drag
+      data store&lt;/a&gt; list of items representing dragged data can be
+      enumerated, but the data itself is unavailable and no new data can
+      be added.&lt;/p&gt;
+
      &lt;/dd&gt;
 
     &lt;/dl&gt;&lt;/li&gt;
 
-  &lt;/ul&gt;&lt;p&gt;The information in a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt; used to
-  generate the UI feedback during the drag consists of:&lt;/p&gt;
+   &lt;li&gt;
 
-  &lt;ul&gt;&lt;li&gt;A list of zero or more elements.&lt;/li&gt;
+    &lt;p&gt;A &lt;dfn id=drag-data-store-allowed-effects-state&gt;drag data store allowed effects state&lt;/dfn&gt;, which is a
+    string.&lt;/p&gt;
 
-   &lt;li&gt;Optionally, a bitmap image and the coordinate of a point within
-   that image.&lt;/li&gt;
+   &lt;/li&gt;
 
-  &lt;/ul&gt;&lt;p&gt;A &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt; is created at the start of a
-  drag-and-drop operation in the &lt;i&gt;read/write mode&lt;/i&gt;, and then
-  progresses through the following three modes as the operation
-  proceeds:&lt;/p&gt;
+  &lt;/ul&gt;&lt;p&gt;When a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt; is &lt;dfn id=create-a-drag-data-store title=&quot;create a drag
+  data store&quot;&gt;created&lt;/dfn&gt;, it must be initialized such that its
+  &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; is empty, it has no
+  &lt;a href=#drag-data-store-default-feedback&gt;drag data store default feedback&lt;/a&gt;, its &lt;a href=#drag-data-store-elements-list&gt;drag data
+  store elements list&lt;/a&gt; is empty, it has no &lt;a href=#drag-data-store-bitmap&gt;drag data store
+  bitmap&lt;/a&gt; / &lt;a href=#drag-data-store-hot-spot-coordinate&gt;drag data store hot spot coordinate&lt;/a&gt;,
+  its &lt;a href=#drag-data-store-mode&gt;drag data store mode&lt;/a&gt; is &lt;a href=#concept-dnd-p title=concept-dnd-p&gt;protected mode&lt;/a&gt;, and its &lt;a href=#drag-data-store-allowed-effects-state&gt;drag data
+  store allowed effects state&lt;/a&gt; is the string &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;.&lt;/p&gt;
 
-  &lt;dl&gt;&lt;dt&gt;Read/write mode&lt;/dt&gt;
-   &lt;dd&gt;
 
-    &lt;p&gt;At the start of the drag. New data can be added to the
-    &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;.&lt;/p&gt;
+  &lt;h4 id=the-datatransfer-interface&gt;&lt;span class=secno&gt;8.7.3 &lt;/span&gt;The &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
 
-   &lt;/dd&gt;
+  &lt;p&gt;&lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; objects are used to expose the
+  &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt; that underlies a drag-and-drop
+  operation.&lt;/p&gt;
 
-   &lt;dt&gt;Protected mode&lt;/dt&gt;
-   &lt;dd&gt;
+  &lt;pre class=idl&gt;interface &lt;dfn id=datatransfer&gt;DataTransfer&lt;/dfn&gt; {
+           attribute DOMString &lt;a href=#dom-datatransfer-dropeffect title=dom-DataTransfer-dropEffect&gt;dropEffect&lt;/a&gt;;
+           attribute DOMString &lt;a href=#dom-datatransfer-effectallowed title=dom-DataTransfer-effectAllowed&gt;effectAllowed&lt;/a&gt;;
 
-    &lt;p&gt;During the drag. The formats and kinds in the &lt;a href=#drag-data-store&gt;drag data
-    store&lt;/a&gt; list of items representing dragged data can be
-    enumerated, but the data itself is unavailable and no new data can
-    be added.&lt;/p&gt;
+  readonly attribute DOMStringList &lt;a href=#dom-datatransfer-types title=dom-DataTransfer-types&gt;types&lt;/a&gt;;
+  void &lt;a href=#dom-datatransfer-cleardata title=dom-DataTransfer-clearData&gt;clearData&lt;/a&gt;(in optional DOMString format);
+  void &lt;a href=#dom-datatransfer-setdata title=dom-DataTransfer-setData&gt;setData&lt;/a&gt;(in DOMString format, in DOMString data);
+  DOMString &lt;a href=#dom-datatransfer-getdata title=dom-DataTransfer-getData&gt;getData&lt;/a&gt;(in DOMString format);
+  readonly attribute &lt;span&gt;FileList&lt;/span&gt; &lt;a href=#dom-datatransfer-files title=dom-DataTransfer-files&gt;files&lt;/a&gt;;
 
-   &lt;/dd&gt;
+  void &lt;a href=#dom-datatransfer-setdragimage title=dom-DataTransfer-setDragImage&gt;setDragImage&lt;/a&gt;(in Element image, in long x, in long y);
+  void &lt;a href=#dom-datatransfer-addelement title=dom-DataTransfer-addElement&gt;addElement&lt;/a&gt;(in Element element);
+};&lt;/pre&gt;
 
-   &lt;dt&gt;Read-only mode&lt;/dt&gt;
-   &lt;dd&gt;
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;dataTransfer&lt;/var&gt; . &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
 
-    &lt;p&gt;After the drop. The list of items representing dragged data can
-    be read, including the data. No new data can be added.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;&lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;dataTransfer&lt;/var&gt; . &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-
    &lt;dd&gt;
 
     &lt;p&gt;Returns the kind of operation that is currently selected. If
@@ -66078,7 +66092,7 @@
 
     &lt;p&gt;Can be set, to change the selected operation.&lt;/p&gt;
 
-    &lt;p&gt;The possible values are &lt;code title=&quot;&quot;&gt;none&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;.&lt;/p&gt;
+    &lt;p&gt;The possible values are &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, and &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -66090,7 +66104,7 @@
 
     &lt;p&gt;Can be set, to change the allowed operations.&lt;/p&gt;
 
-    &lt;p&gt;The possible values are &lt;code title=&quot;&quot;&gt;none&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;,&lt;/p&gt;
+    &lt;p&gt;The possible values are &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;, and &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;,&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -66154,356 +66168,522 @@
 
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;!--
+  &lt;/dl&gt;&lt;p&gt;&lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; objects are used during the &lt;a href=#dndevents&gt;drag-and-drop events&lt;/a&gt;, and are only valid while
+  those events are being dispatched.&lt;/p&gt;
 
+&lt;!--
+
 XXX
 
 plan:
- 2. replace the existing API definitions with links to this model
- 3. make it clear there's a new DataTransfer object with each event
  4. expose model with new API
  5. add dropzone=&quot;...&quot; feature
 
---&gt;&lt;div class=impl&gt;
+--&gt;
 
-  &lt;p&gt;When a &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is created, it must be
-  initialized as follows:&lt;/p&gt;
+  &lt;div class=impl&gt;
 
-  &lt;ul&gt;&lt;li&gt;The &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object must initially contain no
-   data, no elements, and have no associated image.&lt;/li&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is associated with a
+  &lt;code&gt;&lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;&lt;/code&gt; while it is valid.&lt;/p&gt;
 
-   &lt;li&gt;The &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
-   attribute must be set to &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;.&lt;/li&gt;
-
-   &lt;li&gt;The &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt;
-   attribute must be set to &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;.&lt;/li&gt;
-
-  &lt;/ul&gt;&lt;p&gt;The &lt;dfn id=dom-datatransfer-dropeffect title=dom-DataTransfer-dropEffect&gt;&lt;code&gt;dropEffect&lt;/code&gt;&lt;/dfn&gt;
+  &lt;p&gt;The &lt;dfn id=dom-datatransfer-dropeffect title=dom-DataTransfer-dropEffect&gt;&lt;code&gt;dropEffect&lt;/code&gt;&lt;/dfn&gt;
   attribute controls the drag-and-drop feedback that the user is given
-  during a drag-and-drop operation.&lt;/p&gt;
+  during a drag-and-drop operation. When the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt;
+  object is created, the &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute is
+  set to a string value. On getting, it must return its current value.
+  On setting, if the new value is one of &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;,
+  &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, or
+  &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, then the attribute's current value
+  must be set to the new value. Other values must be ignored.&lt;/p&gt;
 
-  &lt;p&gt;The attribute must ignore any attempts to set it to a value other
-  than &lt;code title=&quot;&quot;&gt;none&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;. On getting,
-  the attribute must return the last of those four values that it was
-  set to.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn id=dom-datatransfer-effectallowed title=dom-DataTransfer-effectAllowed&gt;&lt;code&gt;effectAllowed&lt;/code&gt;&lt;/dfn&gt;
   attribute is used in the drag-and-drop processing model to
   initialize the &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute
-  during the &lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; events.&lt;/p&gt;
+  during the &lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; events. When the
+  &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is created, the &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
+  attribute is set to a string value. On getting, it must return its
+  current value. On setting, if the new value is one of &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;, or &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;, then the attribute's current value
+  must be set to the new value. Other values must be ignored.&lt;/p&gt;
 
-  &lt;p&gt;The attribute must ignore any attempts to set it to a value other
-  than &lt;code title=&quot;&quot;&gt;none&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;. On getting, the attribute must return
-  the last of those values that it was set to.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn id=dom-datatransfer-types title=dom-DataTransfer-types&gt;&lt;code&gt;types&lt;/code&gt;&lt;/dfn&gt;
   attribute must return a &lt;a href=#live&gt;live&lt;/a&gt; &lt;code&gt;DOMStringList&lt;/code&gt;
-  that contains the list of formats that were added to the
-  &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object in the corresponding &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event. The same object must
-  be returned each time. If any files were included in the drag, then
-  the &lt;code&gt;DOMStringList&lt;/code&gt; object must in addition include the
-  string &quot;&lt;code title=&quot;&quot;&gt;Files&lt;/code&gt;&quot;. (This value can be
-  distinguished from the other values because it is not
-  lowercase.)&lt;/p&gt;
+  giving the strings that the following steps would produce. The same
+  object must be returned each time.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-datatransfer-cleardata title=dom-DataTransfer-clearData&gt;&lt;code&gt;clearData()&lt;/code&gt;&lt;/dfn&gt;
-  method, when called with no arguments, must clear the
-  &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object of all data (for all formats).&lt;/p&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Start with an empty list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/li&gt;
 
-  &lt;p class=note&gt;The &lt;code title=dom-DataTransfer-clearData&gt;&lt;a href=#dom-datatransfer-cleardata&gt;clearData()&lt;/a&gt;&lt;/code&gt; method does
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is no longer
+   associated with a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, the
+   &lt;code&gt;DOMStringList&lt;/code&gt; is empty. Abort these steps; return the
+   empty list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;For each item in the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt;
+   &lt;!-- in some order...? --&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item
+   kind&quot;&gt;kind&lt;/a&gt; is &lt;i&gt;Plain Unicode string&lt;/i&gt;, add an entry to
+   the list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt; consisting of the item's &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data item type string&quot;&gt;type string&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If there are any items in the &lt;a href=#drag-data-store-item-list&gt;drag data store item
+   list&lt;/a&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;kind&lt;/a&gt;
+   is &lt;i&gt;File&lt;/i&gt;, then add an entry to the list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;
+   consisting of the string &quot;&lt;code title=&quot;&quot;&gt;Files&lt;/code&gt;&quot;. (This value
+   can be distinguished from the other values because it is not
+   lowercase.)&lt;/li&gt;
+
+   &lt;!-- &lt;li&gt;&lt;p&gt;Sort the list...?&lt;/p&gt;&lt;/li&gt; --&gt;
+
+   &lt;li&gt;&lt;p&gt;The strings produced by these steps are those in the list
+   &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-datatransfer-cleardata title=dom-DataTransfer-clearData&gt;&lt;code&gt;clearData()&lt;/code&gt;&lt;/dfn&gt;
+  method must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is no longer
+   associated with a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;'s &lt;a href=#drag-data-store-mode title=&quot;drag data
+   store mode&quot;&gt;mode&lt;/a&gt; is not the &lt;a href=#concept-dnd-rw title=concept-dnd-rw&gt;read/write mode&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the method was called with no arguments, remove each item
+   in the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;kind&lt;/a&gt; is &lt;i&gt;Plain Unicode
+   string&lt;/i&gt;, and abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; be the first argument,
+   &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII lowercase&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code title=&quot;&quot;&gt;text&lt;/code&gt;&quot;, change it to &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;.&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, change it to &quot;&lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Remove each item in the &lt;a href=#drag-data-store-item-list&gt;drag data store item
+   list&lt;/a&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;kind&lt;/a&gt;
+   is &lt;i&gt;Plain Unicode string&lt;/i&gt; and whose &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data
+   item type string&quot;&gt;type string&lt;/a&gt; is equal to &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p class=note&gt;The &lt;code title=dom-DataTransfer-clearData&gt;&lt;a href=#dom-datatransfer-cleardata&gt;clearData()&lt;/a&gt;&lt;/code&gt; method does
   not affect whether any files were included in the drag, so the &lt;code title=dom-DataTransfer-types&gt;&lt;a href=#dom-datatransfer-types&gt;types&lt;/a&gt;&lt;/code&gt; attribute's list might
   still not be empty after calling &lt;code title=dom-DataTransfer-clearData&gt;&lt;a href=#dom-datatransfer-cleardata&gt;clearData()&lt;/a&gt;&lt;/code&gt; (it would
   still contain the &quot;&lt;code title=&quot;&quot;&gt;Files&lt;/code&gt;&quot; string if any files
   were included in the drag).&lt;/p&gt;
 
-  &lt;p&gt;When called with an argument, the &lt;code title=dom-DataTransfer-clearData&gt;&lt;a href=#dom-datatransfer-cleardata&gt;clearData(&lt;var title=&quot;&quot;&gt;format&lt;/var&gt;)&lt;/a&gt;&lt;/code&gt; method must clear the
-  &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object of any data associated with the
-  given &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;, &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII
-  lowercase&lt;/a&gt;. If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after conversion to
-  lowercase) is the value &quot;&lt;code title=&quot;&quot;&gt;text&lt;/code&gt;&quot;, then it must
-  be treated as &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;. If the &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after conversion to lowercase) is &quot;&lt;code title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, then it must be treated as &quot;&lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot;.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn id=dom-datatransfer-setdata title=dom-DataTransfer-setData&gt;&lt;code&gt;setData(&lt;var title=&quot;&quot;&gt;format&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
-  must add &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; to the data stored in the
-  &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object, labeled as being of the type &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;, &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII
-  lowercase&lt;/a&gt;. This must replace any previous data that had been
-  set for that format. If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after conversion
-  to lowercase) is the value &quot;&lt;code title=&quot;&quot;&gt;text&lt;/code&gt;&quot;, then it
-  must be treated as &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;. If the &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after conversion to lowercase) is &quot;&lt;code title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, then it must be treated as &quot;&lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot;.&lt;/p&gt;
+  must run the following steps:&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-datatransfer-getdata title=dom-DataTransfer-getData&gt;&lt;code&gt;getData(&lt;var title=&quot;&quot;&gt;format&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the data that
-  is associated with the type &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;
-  &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII lowercase&lt;/a&gt;, if any, and must return
-  the empty string otherwise. If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after
-  conversion to lowercase) is the value &quot;&lt;code title=&quot;&quot;&gt;text&lt;/code&gt;&quot;,
-  then it must be treated as &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;. If
-  the &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after conversion to lowercase) is
-  &quot;&lt;code title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, then the data associated with the
-  &quot;&lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot; format must be parsed as
-  appropriate for &lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt; data, and the
-  first URL from the list must be returned. If there is no data with
-  that format, or if there is but it has no URLs, then the method must
-  return the empty string. &lt;a href=#refsRFC2483&gt;[RFC2483]&lt;/a&gt;&lt;/p&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is no longer
+   associated with a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-datatransfer-files title=dom-DataTransfer-files&gt;&lt;code&gt;files&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the &lt;code&gt;FileList&lt;/code&gt; object that contains
-  the files that are stored in the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt;
-  object. There is one such object per &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt;
-  object.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;'s &lt;a href=#drag-data-store-mode title=&quot;drag data
+   store mode&quot;&gt;mode&lt;/a&gt; is not the &lt;a href=#concept-dnd-rw title=concept-dnd-rw&gt;read/write mode&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
 
-  &lt;p class=note&gt;This version of the API does not expose the types of
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; be the first argument,
+   &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII lowercase&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code title=&quot;&quot;&gt;text&lt;/code&gt;&quot;, change it to &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;.&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, change it to &quot;&lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Remove each item in the &lt;a href=#drag-data-store-item-list&gt;drag data store item
+   list&lt;/a&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;kind&lt;/a&gt;
+   is &lt;i&gt;Plain Unicode string&lt;/i&gt; and whose &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data
+   item type string&quot;&gt;type string&lt;/a&gt; is equal to &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Add an item to the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt;
+   whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;kind&lt;/a&gt; is &lt;i&gt;Plain
+   Unicode string&lt;/i&gt;, whose &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data item type
+   string&quot;&gt;type string&lt;/a&gt; is equal to &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;,
+   and whose data is the string given by the method's second
+   argument.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-datatransfer-getdata title=dom-DataTransfer-getData&gt;&lt;code&gt;getData(&lt;var title=&quot;&quot;&gt;format&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
+  must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is no longer
+   associated with a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;'s &lt;a href=#drag-data-store-mode title=&quot;drag data
+   store mode&quot;&gt;mode&lt;/a&gt; is in the &lt;a href=#concept-dnd-p title=concept-dnd-p&gt;protected mode&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; be the first argument,
+   &lt;a href=#converted-to-ascii-lowercase&gt;converted to ASCII lowercase&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;convert-to-URL&lt;/var&gt; be false.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code title=&quot;&quot;&gt;text&lt;/code&gt;&quot;, change it to &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, change it to &quot;&lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot; and set &lt;var title=&quot;&quot;&gt;convert-to-URL&lt;/var&gt; to true.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If there is no item in the &lt;a href=#drag-data-store-item-list&gt;drag data store item
+   list&lt;/a&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;kind&lt;/a&gt;
+   is &lt;i&gt;Plain Unicode string&lt;/i&gt; and whose &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data
+   item type string&quot;&gt;type string&lt;/a&gt; is equal to &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;, return the empty string and abort these
+   steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; be the data of the first item
+   to the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item kind&quot;&gt;kind&lt;/a&gt; is &lt;i&gt;Plain Unicode
+   string&lt;/i&gt; and whose &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data item type
+   string&quot;&gt;type string&lt;/a&gt; is equal to &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;convert-to-URL&lt;/var&gt; is true, then parse
+   &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; as appropriate for &lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt; data, and then set &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; to the first URL from the list, if any, or
+   the empty string otherwise. &lt;a href=#refsRFC2483&gt;[RFC2483]&lt;/a&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-datatransfer-files title=dom-DataTransfer-files&gt;&lt;code&gt;files&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return a &lt;a href=#live&gt;live&lt;/a&gt; &lt;code&gt;FileList&lt;/code&gt;
+  sequence consisting of &lt;code&gt;File&lt;/code&gt; objects representing the
+  files found by the following steps. The same object must be returned
+  each time. Furthermore, for a given &lt;code&gt;FileList&lt;/code&gt; object and
+  a given underlying file, the same &lt;code&gt;File&lt;/code&gt; object must be
+  used each time.&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Start with an empty list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is no longer
+   associated with a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, the
+   &lt;code&gt;FileList&lt;/code&gt; is empty. Abort these steps; return the
+   empty list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;For each item in the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt;
+   &lt;!-- in some order...? --&gt; whose &lt;a href=#the-drag-data-item-kind title=&quot;the drag data item
+   kind&quot;&gt;kind&lt;/a&gt; is &lt;i&gt;File&lt;/i&gt; (not &lt;i&gt;Blob&lt;/i&gt;), add the item's
+   data (the file, in particular its name and contents, as well as its
+   &lt;a href=#the-drag-data-item-type-string title=&quot;the drag data item type string&quot;&gt;type&lt;/a&gt;) to the
+   list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;!-- &lt;li&gt;&lt;p&gt;Sort the list...?&lt;/p&gt;&lt;/li&gt; --&gt;
+
+   &lt;li&gt;&lt;p&gt;The files found by these steps are those in the list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p class=note&gt;This version of the API does not expose the types of
   the files during the drag.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-datatransfer-setdragimage title=dom-DataTransfer-setDragImage&gt;&lt;code&gt;setDragImage(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method sets which element to use &lt;a href=#base-dnd-feedback&gt;to generate the drag feedback&lt;/a&gt;. The
-  &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; argument can be any
-  &lt;code&gt;&lt;a href=#element&gt;Element&lt;/a&gt;&lt;/code&gt;; if it is an &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element, then the
-  user agent should use the element's image (at its intrinsic size) to
-  generate the feedback, otherwise the user agent should base the
-  feedback on the given element (but the exact mechanism for doing so
-  is not specified).&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-datatransfer-setdragimage title=dom-DataTransfer-setDragImage&gt;&lt;code&gt;setDragImage(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
+  steps:&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-datatransfer-addelement title=dom-DataTransfer-addElement&gt;&lt;code&gt;addElement(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method is an alternative way of
-  specifying how the user agent is to &lt;a href=#base-dnd-feedback&gt;render the drag feedback&lt;/a&gt;. It adds an
-  element to the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is no longer
+   associated with a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
 
-  &lt;p class=note&gt;The difference between &lt;code title=dom-DataTransfer-setDragImage&gt;&lt;a href=#dom-datatransfer-setdragimage&gt;setDragImage()&lt;/a&gt;&lt;/code&gt; and
+   &lt;li&gt;&lt;p&gt;If the &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;'s &lt;a href=#drag-data-store-mode title=&quot;drag data
+   store mode&quot;&gt;mode&lt;/a&gt; is not in the &lt;a href=#concept-dnd-rw title=concept-dnd-rw&gt;read/write mode&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; argument is an
+   &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element, then set the &lt;a href=#drag-data-store-bitmap&gt;drag data store
+   bitmap&lt;/a&gt; to the element's image (at its intrinsic size);
+   otherwise, set the &lt;a href=#drag-data-store-bitmap&gt;drag data store bitmap&lt;/a&gt; to an image
+   generated from the given element (the exact mechanism for doing so
+   is not currently specified).&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the &lt;span&gt;drag data store hot spot&lt;/span&gt; to the given
+   &lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; coordinate.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-datatransfer-addelement title=dom-DataTransfer-addElement&gt;&lt;code&gt;addElement(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method is an alternative way of
+  specifying how the user agent is to &lt;a href=#base-dnd-feedback&gt;render the drag feedback&lt;/a&gt;. The method
+  must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object is no longer
+   associated with a &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;'s &lt;a href=#drag-data-store-mode title=&quot;drag data
+   store mode&quot;&gt;mode&lt;/a&gt; is not in the &lt;a href=#concept-dnd-rw title=concept-dnd-rw&gt;read/write mode&lt;/a&gt;, abort these steps.
+   Nothing happens.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Add the given &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; to the element's
+   &lt;a href=#drag-data-store-elements-list&gt;drag data store elements list&lt;/a&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p class=note&gt;The difference between &lt;code title=dom-DataTransfer-setDragImage&gt;&lt;a href=#dom-datatransfer-setdragimage&gt;setDragImage()&lt;/a&gt;&lt;/code&gt; and
   &lt;code title=dom-DataTransfer-addElement&gt;&lt;a href=#dom-datatransfer-addelement&gt;addElement()&lt;/a&gt;&lt;/code&gt; is
   that the latter automatically generates the image based on the
-  current rendering of the elements added, whereas the former uses the
-  exact specified image.&lt;/p&gt;
+  current rendering of the elements added (potentially keeping it
+  updated as the drag continues, e.g. if the elements include an
+  actively playing video), whereas the former uses the exact specified
+  image at the time the method is invoked.&lt;/p&gt;
 
   &lt;/div&gt;
 
 
-  &lt;h4 id=dndevents&gt;&lt;span class=secno&gt;8.7.3 &lt;/span&gt;Events fired during a drag-and-drop action&lt;/h4&gt;
 
-  &lt;p&gt;The following events are involved in the drag-and-drop
-  model.&lt;/p&gt;
+  &lt;h4 id=the-dragevent-interface&gt;&lt;span class=secno&gt;8.7.4 &lt;/span&gt;The &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
 
-  &lt;div class=impl&gt;
+  &lt;p&gt;The drag-and-drop processing model involves several events. They
+  all use the &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface.&lt;/p&gt;
 
-  &lt;p&gt;Whenever the processing model described below causes one of these
-  events to be fired, the event fired must use the
-  &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface defined above, must have the
-  bubbling and cancelable behaviors given in the table below, and must
-  have the context information set up as described after the table,
-  with the &lt;code title=dom-UIEvent-detail&gt;detail&lt;/code&gt; attribute
-  set to zero, the mouse and key attributes set according to the state
-  of the input devices as they would be for user interaction events,
-  and the &lt;code title=&quot;&quot;&gt;relatedTarget&lt;/code&gt; attribute set to
-  null.&lt;/p&gt;
+  &lt;pre class=idl&gt;interface &lt;dfn id=dragevent&gt;DragEvent&lt;/dfn&gt; : &lt;span&gt;MouseEvent&lt;/span&gt; {
+  readonly attribute &lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt; &lt;a href=#dom-dragevent-datatransfer title=dom-DragEvent-dataTransfer&gt;dataTransfer&lt;/a&gt;;
 
-  &lt;p&gt;If there is no relevant pointing device, the object must have its
-  &lt;code title=&quot;&quot;&gt;screenX&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;screenY&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;clientX&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;clientY&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;button&lt;/code&gt; attributes set to 0.&lt;/p&gt;
+  void &lt;a href=#dom-dragevent-initdragevent title=dom-DragEvent-initDragEvent&gt;initDragEvent&lt;/a&gt;(in DOMString typeArg, in boolean canBubbleArg, in boolean cancelableArg, in any dummyArg&lt;!-- used to be viewArg, back when we had views --&gt;, in long detailArg, in long screenXArg, in long screenYArg, in long clientXArg, in long clientYArg, in boolean ctrlKeyArg, in boolean altKeyArg, in boolean shiftKeyArg, in boolean metaKeyArg, in unsigned short buttonArg, in EventTarget relatedTargetArg, in &lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt; dataTransferArg);
+};&lt;/pre&gt;
 
-  &lt;!-- interaction event spec point --&gt;
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;event&lt;/var&gt; . &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns the &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object for the event.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;div class=impl&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-dragevent-initdragevent title=dom-DragEvent-initDragEvent&gt;&lt;code&gt;initDragEvent()&lt;/code&gt;&lt;/dfn&gt;
+  method must initialize the event in a manner analogous to the
+  similarly-named method in the DOM Events interfaces, except that the
+  &lt;var title=&quot;&quot;&gt;dummyArg&lt;/var&gt; argument must be ignored. &lt;a href=#refsDOMEVENTS&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-dragevent-datatransfer title=dom-DragEvent-dataTransfer&gt;&lt;code&gt;dataTransfer&lt;/code&gt;&lt;/dfn&gt;
+  attribute of the &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; interface represents the
+  context information for the event.&lt;/p&gt;
+
   &lt;/div&gt;
 
-  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt; Event Name &lt;/th&gt;
-     &lt;th&gt; Target &lt;/th&gt;
-     &lt;th&gt; Bubbles? &lt;/th&gt;
-     &lt;th&gt; Cancelable? &lt;/th&gt;
-     &lt;th&gt; &lt;code title=dom-DataTransfer-dataTransfer&gt;dataTransfer&lt;/code&gt; &lt;/th&gt;
-     &lt;th&gt; &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt; &lt;/th&gt;
-     &lt;th&gt; &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; &lt;/th&gt;
-     &lt;th&gt; Default Action &lt;/th&gt;
-    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragstart title=event-dragstart&gt;&lt;code&gt;dragstart&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#source-node&gt;Source node&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&#10003; Bubbles&lt;/td&gt;
-     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
-     &lt;td&gt;Contains &lt;a href=#source-node&gt;source node&lt;/a&gt; unless a selection is being dragged, in which case it is empty; &lt;code title=dom-datatransfer-files&gt;&lt;a href=#dom-datatransfer-files&gt;files&lt;/a&gt;&lt;/code&gt; returns any files included in the drag operation&lt;/td&gt;
-     &lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;Initiate the drag-and-drop operation&lt;/td&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-drag title=event-drag&gt;&lt;code&gt;drag&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#source-node&gt;Source node&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&#10003; Bubbles&lt;/td&gt;
-     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
-     &lt;td&gt;Empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#effectAllowed-initialization&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;Continue the drag-and-drop operation&lt;/td&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragenter title=event-dragenter&gt;&lt;code&gt;dragenter&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#immediate-user-selection&gt;Immediate user selection&lt;/a&gt; or &lt;a href=#the-body-element&gt;the body element&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&#10003; Bubbles&lt;/td&gt;
-     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
-     &lt;td&gt;Empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#effectAllowed-initialization&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#dropEffect-initialization&gt;Based on &lt;code&gt;effectAllowed&lt;/code&gt; value&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;Reject &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; as potential &lt;a href=#current-target-element title=&quot;current target element&quot;&gt;target element&lt;/a&gt;&lt;/td&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragleave title=event-dragleave&gt;&lt;code&gt;dragleave&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#current-target-element title=&quot;current target element&quot;&gt;Previous target element&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&#10003; Bubbles&lt;/td&gt;
-     &lt;td&gt;&mdash;&lt;/td&gt;
-     &lt;td&gt;Empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#effectAllowed-initialization&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;None&lt;/td&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragover title=event-dragover&gt;&lt;code&gt;dragover&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#current-target-element&gt;Current target element&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&#10003; Bubbles&lt;/td&gt;
-     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
-     &lt;td&gt;Empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#effectAllowed-initialization&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#dropEffect-initialization&gt;Based on &lt;code&gt;effectAllowed&lt;/code&gt; value&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;Reset the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to &quot;none&quot;&lt;/td&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-drop title=event-drop&gt;&lt;code&gt;drop&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#current-target-element&gt;Current target element&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&#10003; Bubbles&lt;/td&gt;
-     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
-     &lt;td&gt;&lt;code title=dom-datatransfer-getdata&gt;&lt;a href=#dom-datatransfer-getdata&gt;getData()&lt;/a&gt;&lt;/code&gt; returns data set in &lt;code title=dom-dragstart&gt;dragstart&lt;/code&gt; event; &lt;code title=dom-datatransfer-files&gt;&lt;a href=#dom-datatransfer-files&gt;files&lt;/a&gt;&lt;/code&gt; returns any files included in the drag operation&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#effectAllowed-initialization&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#current-drag-operation&gt;Current drag operation&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;Varies&lt;/td&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragend title=event-dragend&gt;&lt;code&gt;dragend&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#source-node&gt;Source node&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&#10003; Bubbles&lt;/td&gt;
-     &lt;td&gt;&mdash;&lt;/td&gt;
-     &lt;td&gt;Empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#effectAllowed-initialization&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=#current-drag-operation&gt;Current drag operation&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;Varies&lt;/td&gt;
-    &lt;/table&gt;&lt;p class=note&gt;&quot;Empty&quot; in the table above means that the &lt;code title=dom-datatransfer-getdata&gt;&lt;a href=#dom-datatransfer-getdata&gt;getData()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-dataTransfer-files&gt;&lt;a href=#dom-datatransfer-files&gt;files&lt;/a&gt;&lt;/code&gt; attributes act as if
-  there is no data being dragged.&lt;/p&gt;
-
   &lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt;
-  object's contents are empty (the &lt;code title=dom-datatransfer-getdata&gt;&lt;a href=#dom-datatransfer-getdata&gt;getData()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-dataTransfer-files&gt;&lt;a href=#dom-datatransfer-files&gt;files&lt;/a&gt;&lt;/code&gt; attributes act as if
-  there is no data being dragged) except for &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; events and &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; events, for which the contents are
-  set as described in the processing model, below.&lt;/p&gt;
+  &lt;p&gt;When a user agent is required to &lt;dfn id=fire-a-dnd-event&gt;fire a DND event&lt;/dfn&gt;
+  named &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; at an element, using a particular
+  &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;, the user agent must run the following
+  steps:&lt;/p&gt;
 
-  &lt;p id=effectAllowed-initialization&gt;The &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
-  attribute must be set to &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot; for
-  &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; events, and to
-  whatever value the field had after the last drag-and-drop event was
-  fired for all other events (only counting events fired by the user
-  agent for the purposes of the drag-and-drop model described
-  below).&lt;/p&gt;
+  &lt;ol&gt;&lt;li&gt;
 
-  &lt;p id=dropEffect-initialization&gt;The &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute must
-  be set to &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot; for &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt;, &lt;code title=event-drag&gt;&lt;a href=#event-drag&gt;drag&lt;/a&gt;&lt;/code&gt;, and &lt;code title=event-dragleave&gt;&lt;a href=#event-dragleave&gt;dragleave&lt;/a&gt;&lt;/code&gt; events (except when stated
-  otherwise in the algorithms given in the sections below), to the
-  value corresponding to the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; for
-  &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-dragend&gt;&lt;a href=#event-dragend&gt;dragend&lt;/a&gt;&lt;/code&gt; events, and to a value based on
-  the &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
-  attribute's value and to the drag-and-drop source, as given by the
-  following table, for the remaining events (&lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt;):&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt;, set the &lt;a href=#drag-data-store-mode&gt;drag data
+    store mode&lt;/a&gt; to the &lt;a href=#concept-dnd-rw title=concept-dnd-rw&gt;read/write
+    mode&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
-     &lt;th&gt;&lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
-    &lt;/thead&gt;&lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&lt;/td&gt;
-   &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&lt;/td&gt;
-   &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&lt;/td&gt;
-   &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&lt;/td&gt;
-   &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt; when what is being dragged is a selection from a text field&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&lt;/td&gt;
-   &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt; when what is being dragged is a selection&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&lt;/td&gt;
-   &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt; when what is being dragged is an &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element with an &lt;code&gt;href&lt;/code&gt; attribute&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&lt;/td&gt;
-   &lt;tr&gt;&lt;td&gt;Any other case&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&lt;/td&gt;
-   &lt;/table&gt;&lt;/div&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt;, set the &lt;a href=#drag-data-store-mode&gt;drag data store
+    mode&lt;/a&gt; to the &lt;a href=#concept-dnd-ro title=concept-dnd-ro&gt;read-only
+    mode&lt;/a&gt;.&lt;/p&gt;
 
+   &lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;dataTransfer&lt;/var&gt; be a newly created
+   &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object associated with the given
+   &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p id=effectAllowed-initialization&gt;Set the &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
+   attribute to the &lt;a href=#drag-data-store&gt;drag data store&lt;/a&gt;'s &lt;a href=#drag-data-store-allowed-effects-state&gt;drag data
+   store allowed effects state&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p id=dropEffect-initialization&gt;Set the &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute to
+    &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot; if &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt;, &lt;code title=event-drag&gt;&lt;a href=#event-drag&gt;drag&lt;/a&gt;&lt;/code&gt;, or &lt;code title=event-dragleave&gt;&lt;a href=#event-dragleave&gt;dragleave&lt;/a&gt;&lt;/code&gt;; to the value
+    corresponding to the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; if &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; or &lt;code title=event-dragend&gt;&lt;a href=#event-dragend&gt;dragend&lt;/a&gt;&lt;/code&gt;; and to a value based on the
+    &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
+    attribute's value and to the drag-and-drop source, as given by the
+    following table, otherwise (i.e. if &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; or &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt;):&lt;/p&gt;
+
+    &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
+       &lt;th&gt;&lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
+      &lt;/thead&gt;&lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&quot;&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot; when what is being dragged is a selection from a text field&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot; when what is being dragged is a selection&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot; when what is being dragged is an &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element with an &lt;code&gt;href&lt;/code&gt; attribute&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;tr&gt;&lt;td&gt;Any other case&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;/table&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Create a &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; object and initialize it to
+    have the given name &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;, to bubble, to be
+    cancelable unless &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code title=event-dragleave&gt;&lt;a href=#event-dragleave&gt;dragleave&lt;/a&gt;&lt;/code&gt; or &lt;code title=event-dragend&gt;&lt;a href=#event-dragend&gt;dragend&lt;/a&gt;&lt;/code&gt;, and to have the &lt;code title=dom-UIEvent-detail&gt;detail&lt;/code&gt; attribute set to zero,
+    the mouse and key attributes set according to the state of the
+    input devices as they would be for user interaction events, the
+    &lt;code title=&quot;&quot;&gt;relatedTarget&lt;/code&gt; attribute set to null, and the
+    &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt;
+    attribute set to &lt;var title=&quot;&quot;&gt;dataTransfer&lt;/var&gt;, the
+    &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object created above.&lt;/p&gt;
+
+    &lt;!-- interaction event spec point --&gt;
+
+    &lt;p&gt;If there is no relevant pointing device, the object must have
+    its &lt;code title=&quot;&quot;&gt;screenX&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;screenY&lt;/code&gt;,
+    &lt;code title=&quot;&quot;&gt;clientX&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;clientY&lt;/code&gt;, and
+    &lt;code title=&quot;&quot;&gt;button&lt;/code&gt; attributes set to 0.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Dispatch the newly created &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; object at
+   the specified target element.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the &lt;a href=#drag-data-store-allowed-effects-state&gt;drag data store allowed effects state&lt;/a&gt;
+   to the current value of &lt;var title=&quot;&quot;&gt;dataTransfer&lt;/var&gt;'s &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
+   attribute.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the &lt;a href=#drag-data-store-mode&gt;drag data store mode&lt;/a&gt; back to the &lt;a href=#concept-dnd-p title=concept-dnd-p&gt;protected mode&lt;/a&gt; if it was changed in
+   the first step.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;/div&gt;
+
+
   &lt;div class=impl&gt;
 
-  &lt;h4 id=drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.7.4 &lt;/span&gt;Drag-and-drop processing model&lt;/h4&gt;
+  &lt;h4 id=drag-and-drop-processing-model&gt;&lt;span class=secno&gt;8.7.5 &lt;/span&gt;Drag-and-drop processing model&lt;/h4&gt;
 
   &lt;p&gt;When the user attempts to begin a drag operation, the user agent
-  must first determine what is being dragged. If the drag operation
-  was invoked on a selection, then it is the selection that is being
-  dragged. Otherwise, it is the first element, going up the ancestor
-  chain, starting at the node that the user tried to drag, that has
-  the IDL attribute &lt;code title=dom-draggable&gt;&lt;a href=#dom-draggable&gt;draggable&lt;/a&gt;&lt;/code&gt; set
-  to true. If there is no such element, then nothing is being dragged,
-  the drag-and-drop operation is never started, and the user agent
-  must not continue with this algorithm.&lt;/p&gt;
+  must run the following steps. User agents must act as if these steps
+  were run even if the drag actually started in another document or
+  application and the user agent was not aware that the drag was
+  occuring until it intersected with a document under the user agent's
+  purview.&lt;/p&gt;
 
-  &lt;p class=note&gt;&lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; elements and &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt;
-  elements with an &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt;
-  attribute have their &lt;code title=dom-draggable&gt;&lt;a href=#dom-draggable&gt;draggable&lt;/a&gt;&lt;/code&gt;
-  attribute set to true by default.&lt;/p&gt;
+  &lt;ol&gt;&lt;li&gt;
 
-  &lt;p&gt;If the user agent determines that something can be dragged, a
-  &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event must then be
-  fired at the &lt;a href=#source-node&gt;source node&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Determine what is being dragged, as follows:&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=source-node&gt;source node&lt;/dfn&gt; depends on the kind of drag and how it
-  was initiated. If it is a selection that is being dragged, then the
-  &lt;a href=#source-node&gt;source node&lt;/a&gt; is the text node that the user started the
-  drag on (typically the text node that the user originally
-  clicked). If the user did not specify a particular node, for example
-  if the user just told the user agent to begin a drag of &quot;the
-  selection&quot;, then the &lt;a href=#source-node&gt;source node&lt;/a&gt; is the first text node
-  containing a part of the selection. If it is not a selection that is
-  being dragged, then the &lt;a href=#source-node&gt;source node&lt;/a&gt; is the element that
-  is being dragged.&lt;/p&gt;
+    &lt;p&gt;If the drag operation was invoked on a selection, then it is
+    the selection that is being dragged.&lt;/p&gt;
 
-  &lt;p&gt;Multiple events are fired on the &lt;a href=#source-node&gt;source node&lt;/a&gt; during
-  the course of the drag-and-drop operation.&lt;/p&gt;
+    &lt;p&gt;Otherwise, if the drag operation was invoked on a
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, it is the first element, going up the
+    ancestor chain, starting at the node that the user tried to drag,
+    that has the IDL attribute &lt;code title=dom-draggable&gt;&lt;a href=#dom-draggable&gt;draggable&lt;/a&gt;&lt;/code&gt; set to true. If there is no
+    such element, then nothing is being dragged; abort these steps,
+    the drag-and-drop operation is never started.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=list-of-dragged-nodes&gt;list of dragged nodes&lt;/dfn&gt; also depends on the kind of
-  drag. If it is a selection that is being dragged, then the
-  &lt;a href=#list-of-dragged-nodes&gt;list of dragged nodes&lt;/a&gt; contains, in &lt;a href=#tree-order&gt;tree
-  order&lt;/a&gt;, every node that is partially or completely included in
-  the selection (including all their ancestors). Otherwise, the
-  &lt;a href=#list-of-dragged-nodes&gt;list of dragged nodes&lt;/a&gt; contains only the &lt;a href=#source-node&gt;source
-  node&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Otherwise, the drag operation was invoked outside the user
+    agent's purview. What is being dragged is defined by the document
+    or application where the drag was started.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;If it is a selection that is being dragged, the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; member of the
-  event must be created with no nodes. Otherwise, it must be created
-  containing just the &lt;a href=#source-node&gt;source node&lt;/a&gt;. Script can use the
-  &lt;code title=dom-DataTransfer-addElement&gt;&lt;a href=#dom-datatransfer-addelement&gt;addElement()&lt;/a&gt;&lt;/code&gt; method
-  to add further elements to the list of what is being dragged. (This
-  list is only used for rendering the drag feedback.)&lt;/p&gt;
+    &lt;p class=note&gt;&lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; elements and &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt;
+    elements with an &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt;
+    attribute have their &lt;code title=dom-draggable&gt;&lt;a href=#dom-draggable&gt;draggable&lt;/a&gt;&lt;/code&gt;
+    attribute set to true by default.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt;
-  member of the event also has data added to it, as follows:&lt;/p&gt;
+   &lt;/li&gt;
 
-  &lt;ul&gt;&lt;li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#create-a-drag-data-store&gt;Create a drag data store&lt;/a&gt;. All the DND events
+   fired subsequently by this algorithm must use this &lt;a href=#drag-data-store&gt;drag data
+   store&lt;/a&gt;.&lt;/li&gt;
 
-    &lt;p&gt;If it is a selection that is being dragged, then the user agent
-    must add the text of the selection to the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; member,
-    associated with the &lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt; format.&lt;/p&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;Establish which DOM node is the &lt;dfn id=source-node&gt;source node&lt;/dfn&gt;, as
+    follows:&lt;/p&gt;
+
+    &lt;p&gt;If it is a selection that is being dragged, then the
+    &lt;a href=#source-node&gt;source node&lt;/a&gt; is the text node that the user started
+    the drag on (typically the text node that the user originally
+    clicked). If the user did not specify a particular node, for
+    example if the user just told the user agent to begin a drag of
+    &quot;the selection&quot;, then the &lt;a href=#source-node&gt;source node&lt;/a&gt; is the first
+    text node containing a part of the selection.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if it is an element that is being dragged, then the
+    &lt;a href=#source-node&gt;source node&lt;/a&gt; is the element that is being dragged.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, the &lt;a href=#source-node&gt;source node&lt;/a&gt; is part of another
+    document or application, and user agents must not actually fire
+    events at it when this algorithm requires that they do so.&lt;/p&gt;
+
+    &lt;p class=note&gt;Multiple events are fired on the &lt;a href=#source-node&gt;source
+    node&lt;/a&gt; during the course of the drag-and-drop operation.&lt;/p&gt;
+
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If files are being dragged, then the user agent must add the
-    files to the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; member's
-    &lt;code title=dom-datatransfer-files&gt;&lt;a href=#dom-datatransfer-files&gt;files&lt;/a&gt;&lt;/code&gt; attribute's
-    &lt;code&gt;FileList&lt;/code&gt; object. (Dragging files can only happen from
+    &lt;p&gt;Determine the &lt;dfn id=list-of-dragged-nodes&gt;list of dragged nodes&lt;/dfn&gt;, as follows:&lt;/p&gt;
+
+    &lt;p&gt;If it is a selection that is being dragged, then the &lt;a href=#list-of-dragged-nodes&gt;list
+    of dragged nodes&lt;/a&gt; contains, in &lt;a href=#tree-order&gt;tree order&lt;/a&gt;,
+    every node that is partially or completely included in the
+    selection (including all their ancestors).&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, the &lt;a href=#list-of-dragged-nodes&gt;list of dragged nodes&lt;/a&gt; contains only
+    the &lt;a href=#source-node&gt;source node&lt;/a&gt;, if any.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If it is a selection that is being dragged, then add an item to
+    the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt;, with its properties
+    set as follows:&lt;/p&gt;
+
+    &lt;dl&gt;&lt;dt&gt;&lt;a href=#the-drag-data-item-type-string&gt;The drag data item type string&lt;/a&gt;
+     &lt;dd&gt;&quot;&lt;code&gt;text/plain&lt;/code&gt;&quot;&lt;/dd&gt;
+
+     &lt;dt&gt;&lt;a href=#the-drag-data-item-kind&gt;The drag data item kind&lt;/a&gt;
+     &lt;dd&gt;&lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dd&gt;
+
+     &lt;dt&gt;The actual data&lt;/dt&gt;
+     &lt;dd&gt;The text of the selection&lt;/dd&gt;
+
+    &lt;/dl&gt;&lt;p&gt;Otherwise, if any files are being dragged, then add one item
+    per file to the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt;, with their
+    properties set as follows:&lt;/p&gt;
+
+    &lt;dl&gt;&lt;dt&gt;&lt;a href=#the-drag-data-item-type-string&gt;The drag data item type string&lt;/a&gt;
+     &lt;dd&gt;The MIME type of the file, if known, or &quot;&lt;code&gt;application/octet-stream&lt;/code&gt;&quot; otherwise.&lt;/dd&gt;
+
+     &lt;dt&gt;&lt;a href=#the-drag-data-item-kind&gt;The drag data item kind&lt;/a&gt;
+     &lt;dd&gt;&lt;i&gt;File&lt;/i&gt;&lt;/dd&gt;
+
+     &lt;dt&gt;The actual data&lt;/dt&gt;
+     &lt;dd&gt;The file's contents and name.&lt;/dd&gt;
+
+    &lt;/dl&gt;&lt;p class=note&gt;Dragging files can currently only happen from
     outside a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, for example from a file
-    system manager application, and thus the &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event is actually implied
-    in this case.)&lt;/p&gt;
+    system manager application.&lt;/p&gt;
 
    &lt;/li&gt;
 
+   &lt;!-- v2: text/html as an export format --&gt;
+
 &lt;!--MD--&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;The user agent must take the &lt;a href=#list-of-dragged-nodes&gt;list of dragged nodes&lt;/a&gt;
-    and &lt;a href=#extracting-json title=&quot;extracting JSON&quot;&gt;extract the microdata from those
-    nodes into a JSON form&lt;/a&gt;, and then must add the resulting
-    string to the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; member,
-    associated with the &lt;code title=&quot;&quot;&gt;application/microdata+json&lt;/code&gt; format.&lt;/p&gt;
+    &lt;p&gt;If the &lt;a href=#list-of-dragged-nodes&gt;list of dragged nodes&lt;/a&gt; is not empty, then
+    &lt;a href=#extracting-json title=&quot;extracting JSON&quot;&gt;extract the microdata from those
+    nodes into a JSON form&lt;/a&gt;, and add one item to the &lt;a href=#drag-data-store-item-list&gt;drag
+    data store item list&lt;/a&gt;, with its properties set as
+    follows:&lt;/p&gt;
 
-   &lt;/li&gt;
+    &lt;dl&gt;&lt;dt&gt;&lt;a href=#the-drag-data-item-type-string&gt;The drag data item type string&lt;/a&gt;
+     &lt;dd&gt;&lt;code&gt;&lt;a href=#application/microdata+json&gt;application/microdata+json&lt;/a&gt;&lt;/code&gt;&lt;/dd&gt;
 
+     &lt;dt&gt;&lt;a href=#the-drag-data-item-kind&gt;The drag data item kind&lt;/a&gt;
+     &lt;dd&gt;&lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dd&gt;
 
+     &lt;dt&gt;The actual data&lt;/dt&gt;
+     &lt;dd&gt;The resulting JSON string.&lt;/dd&gt;
+
+    &lt;/dl&gt;&lt;/li&gt;
+
+
 &lt;!-- v2: deal with multiple vCards --&gt;
 &lt;!--
    &lt;li&gt;
 
+    (if you put this back, don't forget to update this text as above)
+
     &lt;p&gt;The user agent must take the &lt;span&gt;list of dragged nodes&lt;/span&gt;
     and &lt;span title=&quot;extracting a vCard&quot;&gt;extract the vCard data from
     those nodes&lt;/span&gt;, and then must add the resulting string to the
@@ -66515,6 +66695,8 @@
 
    &lt;li&gt;
 
+    (if you put this back, don't forget to update this text as above)
+
     &lt;p&gt;The user agent must take the &lt;span&gt;list of dragged nodes&lt;/span&gt;
     and &lt;span title=&quot;extracting vEvent data&quot;&gt;extract the vEvent data
     from those nodes&lt;/span&gt;, and then must add the resulting string to
@@ -66525,11 +66707,9 @@
    &lt;/li&gt;
 --&gt;
 
-   &lt;!-- v2: text/html --&gt;
-
    &lt;li&gt;
 
-    &lt;p&gt;The user agent must run the following steps:&lt;/p&gt;
+    &lt;p&gt;Run the following substeps:&lt;/p&gt;
 
     &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt; be an empty list of &lt;a href=#absolute-url title=&quot;absolute URL&quot;&gt;absolute URLs&lt;/a&gt;.&lt;/li&gt;
 
@@ -66538,87 +66718,118 @@
       &lt;p&gt;For each &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;a href=#list-of-dragged-nodes&gt;list of
       dragged nodes&lt;/a&gt;:&lt;/p&gt;
 
-      &lt;dl&gt;&lt;dt&gt;If the node is an &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element with an &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+      &lt;dl&gt;&lt;dt&gt;If the node is an &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element with an &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt; attribute&lt;/dt&gt;
 
-       &lt;dd&gt;Add to &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt; the result of &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; the element's &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt; content attribute relative to
-       the element.&lt;/dd&gt;
+       &lt;dd&gt;Add to &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt; the result of &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; the element's &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt; content attribute
+       relative to the element.&lt;/dd&gt;
 
-       &lt;dt&gt;If the node is an &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element with an &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+       &lt;dt&gt;If the node is an &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element with an &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute&lt;/dt&gt;
 
-       &lt;dd&gt;Add to &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt; the result of &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; the element's &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; content attribute relative to the
-       element.&lt;/dd&gt;
+       &lt;dd&gt;Add to &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt; the result of &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; the element's &lt;code title=attr-img-src&gt;&lt;a href=#attr-img-src&gt;src&lt;/a&gt;&lt;/code&gt; content attribute relative to
+       the element.&lt;/dd&gt;
 
        &lt;!-- v2: more --&gt;
 
       &lt;/dl&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt; is still empty, abort these
-     steps.&lt;/li&gt;
+     substeps.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;url string&lt;/var&gt; be the result of
      concatenating the strings in &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt;, in the
      order they were added, separated by a U+000D CARRIAGE RETURN
      U+000A LINE FEED character pair (CRLF).&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Add &lt;var title=&quot;&quot;&gt;url string&lt;/var&gt; to the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; member,
-     associated with the &lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;
-     format.&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Add one item to the &lt;a href=#drag-data-store-item-list&gt;drag data store item
+     list&lt;/a&gt;, with its properties set as follows:&lt;/p&gt;
 
+      &lt;dl&gt;&lt;dt&gt;&lt;a href=#the-drag-data-item-type-string&gt;The drag data item type string&lt;/a&gt;
+       &lt;dd&gt;&lt;code&gt;text/uri-list&lt;/code&gt;&lt;/dd&gt;
+
+       &lt;dt&gt;&lt;a href=#the-drag-data-item-kind&gt;The drag data item kind&lt;/a&gt;
+       &lt;dd&gt;&lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dd&gt;
+
+       &lt;dt&gt;The actual data&lt;/dt&gt;
+       &lt;dd&gt;&lt;var title=&quot;&quot;&gt;url string&lt;/var&gt;&lt;/dd&gt;
+
+      &lt;/dl&gt;&lt;/li&gt;
+
     &lt;/ol&gt;&lt;/li&gt;
 
-  &lt;/ul&gt;&lt;hr&gt;&lt;p&gt;If the event is canceled, then the drag-and-drop operation must
-  not occur; the user agent must not continue with this algorithm.&lt;/p&gt;
+   &lt;li&gt;
 
-  &lt;p&gt;If it is not canceled, then the drag-and-drop operation must be
-  initiated.&lt;/p&gt;
+    &lt;p&gt;If it is an element that is being dragged, then set the
+    &lt;span&gt;drag data store list of elements&lt;/span&gt; to contain just the
+    &lt;a href=#source-node&gt;source node&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p class=note&gt;Since events with no event listeners registered are,
-  almost by definition, never canceled, drag-and-drop is always
-  available to the user if the author does not specifically prevent
-  it.&lt;/p&gt;
+    &lt;p&gt;Otherwise, update the &lt;a href=#drag-data-store-default-feedback&gt;drag data store default
+    feedback&lt;/a&gt; as appropriate for the user agent (if the user is
+    dragging the selection, then the selection would likely be the
+    basis for this feedback).&lt;/p&gt;
 
-  &lt;p id=base-dnd-feedback&gt;The drag-and-drop feedback must be
-  generated from the first of the following sources that is
-  available:&lt;/p&gt;
+    &lt;p class=note&gt;Script can use the &lt;code title=dom-DataTransfer-addElement&gt;&lt;a href=#dom-datatransfer-addelement&gt;addElement()&lt;/a&gt;&lt;/code&gt; method to
+    add further elements to the list of what is being dragged. (This
+    list is only used for rendering the drag feedback.)&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;The element specified in the last call to the &lt;code title=dom-DataTransfer-setDragImage&gt;&lt;a href=#dom-datatransfer-setdragimage&gt;setDragImage()&lt;/a&gt;&lt;/code&gt; method
-   of the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt;
-   object of the &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event,
-   if the method was called. In visual media, if this is used, the
-   &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; arguments that were
-   passed to that method should be used as hints for where to put the
-   cursor relative to the resulting image. The values are expressed as
-   distances in CSS pixels from the left side and from the top side of
-   the image respectively. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt;&lt;/li&gt;
+   &lt;/li&gt;
 
-   &lt;li&gt;The elements that were added to the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; object, both
-   before the event was fired, and during the handling of the event
-   using the &lt;code title=dom-DataTransfer-addElement&gt;&lt;a href=#dom-datatransfer-addelement&gt;addElement()&lt;/a&gt;&lt;/code&gt;
-   method, if any such elements were indeed added.&lt;/li&gt;
+   &lt;li&gt;
 
-   &lt;li&gt;The selection that the user is dragging.&lt;/li&gt;
+    &lt;p&gt;&lt;a href=#fire-a-dnd-event&gt;Fire a DND event&lt;/a&gt; named &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; at the &lt;a href=#source-node&gt;source
+    node&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;/ol&gt;&lt;p&gt;The user agent must take a note of &lt;a href=#dom-datatransfer-setdata title=dom-DataTransfer-setData&gt;the data that was placed&lt;/a&gt; in
-  the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt;
-  object. This data will be made available again when the &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; event is fired.&lt;/p&gt;
+    &lt;p&gt;If the event is canceled, then the drag-and-drop operation
+    should not occur; abort these steps.&lt;/p&gt; &lt;!-- only a should
+    because the UA can always allow the user to drag without the page
+    knowing --&gt;
 
-  &lt;p&gt;From this point until the end of the drag-and-drop operation,
-  device input events (e.g. mouse and keyboard events) must be
-  suppressed. In addition, the user agent must track all DOM changes
-  made during the drag-and-drop operation, and add them to its &lt;a href=#undo&gt;undo history&lt;/a&gt; as one atomic operation once the
+    &lt;p class=note&gt;Since events with no event listeners registered
+    are, almost by definition, never canceled, drag-and-drop is always
+    available to the user if the author does not specifically prevent
+    it.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;&lt;a href=#initiate-the-drag-and-drop-operation&gt;Initiate the drag-and-drop operation&lt;/a&gt; in a manner
+    consistent with platform conventions, and as described below.&lt;/p&gt;
+
+    &lt;p id=base-dnd-feedback&gt;The drag-and-drop feedback must be
+    generated from the first of the following sources that is
+    available:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;The &lt;a href=#drag-data-store-bitmap&gt;drag data store bitmap&lt;/a&gt;, if any. In this
+     case, the &lt;a href=#drag-data-store-hot-spot-coordinate&gt;drag data store hot spot coordinate&lt;/a&gt; should
+     be used as hints for where to put the cursor relative to the
+     resulting image. The values are expressed as distances in CSS
+     pixels from the left side and from the top side of the image
+     respectively. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt;&lt;/li&gt;
+
+     &lt;li&gt;The elements in the &lt;span&gt;drag data store element
+     list&lt;/span&gt;, if any.&lt;/li&gt;
+
+     &lt;li&gt;The &lt;a href=#drag-data-store-default-feedback&gt;drag data store default feedback&lt;/a&gt;.&lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;From the moment that the user agent is to &lt;dfn id=initiate-the-drag-and-drop-operation&gt;initiate the
+  drag-and-drop operation&lt;/dfn&gt;, until the end of the drag-and-drop
+  operation, device input events (e.g. mouse and keyboard events) must
+  be suppressed. In addition, the user agent must track all DOM
+  changes made during the drag-and-drop operation, and add them to its
+  &lt;a href=#undo&gt;undo history&lt;/a&gt; as one atomic operation once the
   drag-and-drop operation has ended.&lt;/p&gt;
 
   &lt;p&gt;During the drag operation, the element directly indicated by the
   user as the drop target is called the &lt;dfn id=immediate-user-selection&gt;immediate user
   selection&lt;/dfn&gt;. (Only elements can be selected by the user; other
-  nodes must not be made available as drop targets.)
+  nodes must not be made available as drop targets.) However, the
+  &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; is not necessarily the
+  &lt;dfn id=current-target-element&gt;current target element&lt;/dfn&gt;, which is the element currently
+  selected for the drop part of the drag-and-drop operation.&lt;/p&gt;
 
-  However, the &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; is not
-  necessarily the &lt;dfn id=current-target-element&gt;current target element&lt;/dfn&gt;, which is the
-  element currently selected for the drop part of the drag-and-drop
-  operation.
-
-  The &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; changes as the user
+  &lt;p&gt;The &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; changes as the user
   selects different elements (either by pointing at them with a
   pointing device, or by selecting them in some other way). The
   &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; changes when the &lt;a href=#immediate-user-selection&gt;immediate
@@ -66633,11 +66844,10 @@
   &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is initially null.&lt;/p&gt;
 
   &lt;p&gt;In addition, there is also a &lt;dfn id=current-drag-operation&gt;current drag operation&lt;/dfn&gt;,
-  which can take on the values &quot;none&quot;, &quot;copy&quot;, &quot;link&quot;, and &quot;move&quot;.
-  Initially, it has the value &quot;none&quot;. It is updated by the user agent
-  as described in the steps below.&lt;/p&gt;
+  which can take on the values &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, and &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;. Initially, it has the value &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;. It is updated by the user agent as described
+  in the steps below.&lt;/p&gt;
 
-  &lt;p&gt;User agents must, as soon as the drag operation is initiated and
+  &lt;p&gt;User agents must, as soon as the drag operation is &lt;a href=#initiate-the-drag-and-drop-operation title=&quot;initiate the drag-and-drop operation&quot;&gt;initiated&lt;/a&gt; and
   every 350ms (&plusmn;200ms) thereafter for as long as the drag
   operation is ongoing, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to perform the
   following steps in sequence:&lt;/p&gt;
@@ -66645,55 +66855,54 @@
   &lt;ol&gt;&lt;li&gt;
 
     &lt;p&gt;If the user agent is still performing the previous iteration of
-    the sequence (if any) when the next iteration becomes due, the
-    user agent must not execute the overdue iteration, effectively
-    &quot;skipping missed frames&quot; of the drag-and-drop operation.&lt;/p&gt;
+    the sequence (if any) when the next iteration becomes due, abort
+    these steps for this iteration (effectively &quot;skipping missed
+    frames&quot; of the drag-and-drop operation).&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;The user agent must fire a &lt;code title=event-drag&gt;&lt;a href=#event-drag&gt;drag&lt;/a&gt;&lt;/code&gt;
-    event at the &lt;a href=#source-node&gt;source node&lt;/a&gt;. If this event is canceled,
-    the user agent must set the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to
-    none (no drag operation).&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#fire-a-dnd-event&gt;Fire a DND event&lt;/a&gt; named &lt;code title=event-drag&gt;&lt;a href=#event-drag&gt;drag&lt;/a&gt;&lt;/code&gt; event at the &lt;a href=#source-node&gt;source
+    node&lt;/a&gt;. If this event is canceled, the user agent must set
+    the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot; (no drag operation).&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Next, if the &lt;code title=event-drag&gt;&lt;a href=#event-drag&gt;drag&lt;/a&gt;&lt;/code&gt; event was not
+    &lt;p&gt;If the &lt;code title=event-drag&gt;&lt;a href=#event-drag&gt;drag&lt;/a&gt;&lt;/code&gt; event was not
     canceled and the user has not ended the drag-and-drop operation,
-    the user agent must check the state of the drag-and-drop
-    operation, as follows:&lt;/p&gt;
+    check the state of the drag-and-drop operation, as follows:&lt;/p&gt;
 
     &lt;ol&gt;&lt;li&gt;
 
-      &lt;p&gt;First, if the user is indicating a different &lt;a href=#immediate-user-selection&gt;immediate
-      user selection&lt;/a&gt; than during the last iteration (or if this
-      is the first iteration), and if this &lt;a href=#immediate-user-selection&gt;immediate user
+      &lt;p&gt;If the user is indicating a different &lt;a href=#immediate-user-selection&gt;immediate user
+      selection&lt;/a&gt; than during the last iteration (or if this is
+      the first iteration), and if this &lt;a href=#immediate-user-selection&gt;immediate user
       selection&lt;/a&gt; is not the same as the &lt;a href=#current-target-element&gt;current target
-      element&lt;/a&gt;, then the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; must
-      be updated, as follows:&lt;/p&gt;
+      element&lt;/a&gt;, then update the &lt;a href=#current-target-element&gt;current target
+      element&lt;/a&gt; as follows:&lt;/p&gt;
 
       &lt;dl class=switch&gt;&lt;dt&gt;If the new &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; is null, or
        is in a non-DOM document or application&lt;/dt&gt;
 
-       &lt;dd&gt;&lt;p&gt;The user agent must set the &lt;a href=#current-target-element&gt;current target
-       element&lt;/a&gt; to the same value.&lt;/dd&gt;
+       &lt;dd&gt;&lt;p&gt;Set the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; to the same
+       value.&lt;/dd&gt;
 
        &lt;dt&gt;Otherwise&lt;/dt&gt;
 
        &lt;dd&gt;
 
-        &lt;p&gt;The user agent must fire a &lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; event at the
+        &lt;p&gt;&lt;a href=#fire-a-dnd-event&gt;Fire a DND event&lt;/a&gt; named &lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; at the
         &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt;.&lt;/p&gt;
 
-        &lt;p&gt;If the event is canceled, then the &lt;a href=#current-target-element&gt;current target
-        element&lt;/a&gt; must be set to the &lt;a href=#immediate-user-selection&gt;immediate user
+        &lt;p&gt;If the event is canceled, then set the &lt;a href=#current-target-element&gt;current target
+        element&lt;/a&gt; to the &lt;a href=#immediate-user-selection&gt;immediate user
         selection&lt;/a&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Otherwise, the user agent must act as follows:&lt;/p&gt;
+        &lt;p&gt;Otherwise, run the appropriate step from the following
+        list:&lt;/p&gt;
 
         &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a text
          field (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;
@@ -66701,26 +66910,31 @@
          attribute is in the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
          &lt;a href=#editable&gt;editable&lt;/a&gt; element&lt;/dt&gt;
 
-         &lt;dd&gt;&lt;p&gt;The &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; must be set to
-         the &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; anyway.&lt;/dd&gt;
+         &lt;dd&gt;&lt;p&gt;Set the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; to the
+         &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; anyway.&lt;/dd&gt;
 
          &lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is
          &lt;a href=#the-body-element&gt;the body element&lt;/a&gt;&lt;/dt&gt;
 
-         &lt;dd&gt;&lt;p&gt;The &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is left
+         &lt;dd&gt;&lt;p&gt;Leave the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt;
          unchanged.&lt;/dd&gt;
 
          &lt;dt&gt;Otherwise&lt;/dt&gt;
 
-         &lt;dd&gt;&lt;p&gt;The user agent must fire a &lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; event at &lt;a href=#the-body-element&gt;the
-         body element&lt;/a&gt;, and the &lt;a href=#current-target-element&gt;current target
-         element&lt;/a&gt; must be set to &lt;a href=#the-body-element&gt;the body element&lt;/a&gt;,
-         regardless of whether that event was canceled or not. (If
-         &lt;a href=#the-body-element&gt;the body element&lt;/a&gt; is null, then the &lt;a href=#current-target-element&gt;current
-         target element&lt;/a&gt; would be set to null too in this case,
-         it wouldn't be set to the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
-         object.)&lt;/dd&gt;
+         &lt;dd&gt;
 
+          &lt;p&gt;&lt;a href=#fire-a-dnd-event&gt;Fire a DND event&lt;/a&gt; named &lt;code title=event-dragenter&gt;&lt;a href=#event-dragenter&gt;dragenter&lt;/a&gt;&lt;/code&gt; at &lt;a href=#the-body-element&gt;the body
+          element&lt;/a&gt;, and set the &lt;a href=#current-target-element&gt;current target
+          element&lt;/a&gt; to &lt;a href=#the-body-element&gt;the body element&lt;/a&gt;, regardless
+          of whether that event was canceled or not.&lt;/p&gt;
+
+          &lt;p class=note&gt;If &lt;a href=#the-body-element&gt;the body element&lt;/a&gt; is null,
+          then the event will be fired at the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
+          object (as required by the definition of &lt;a href=#the-body-element&gt;the body
+          element&lt;/a&gt;), but the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt;
+          would be set to null, not the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
+          object.&lt;/dd&gt;
+
         &lt;/dl&gt;&lt;/dd&gt;
 
       &lt;/dl&gt;&lt;/li&gt;
@@ -66729,20 +66943,21 @@
 
       &lt;p&gt;If the previous step caused the &lt;a href=#current-target-element&gt;current target
       element&lt;/a&gt; to change, and if the previous target element was
-      not null or a part of a non-DOM document, the user agent must fire
-      a &lt;code title=event-dragleave&gt;&lt;a href=#event-dragleave&gt;dragleave&lt;/a&gt;&lt;/code&gt; event at the
-      previous target element.&lt;/p&gt;
+      not null or a part of a non-DOM document, then &lt;a href=#fire-a-dnd-event&gt;fire a DND
+      event&lt;/a&gt; named &lt;code title=event-dragleave&gt;&lt;a href=#event-dragleave&gt;dragleave&lt;/a&gt;&lt;/code&gt; at the previous target
+      element.&lt;/p&gt;
 
      &lt;/li&gt;
 
      &lt;li&gt;
 
       &lt;p&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a DOM element,
-      the user agent must fire a &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; event at this &lt;a href=#current-target-element&gt;current
+      then &lt;a href=#fire-a-dnd-event&gt;fire a DND event&lt;/a&gt; named &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; at this &lt;a href=#current-target-element&gt;current
       target element&lt;/a&gt;.&lt;/p&gt;
 
       &lt;p&gt;If the &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; event is
-      not canceled, the user agent must act as follows:&lt;/p&gt;
+      not canceled, run the appropriate step from the following
+      list:&lt;/p&gt;
 
       &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a text field
        (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
@@ -66750,59 +66965,59 @@
        the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
        &lt;a href=#editable&gt;editable&lt;/a&gt; element&lt;/dt&gt;
 
-       &lt;dd&gt;&lt;p&gt;The user agent must set the &lt;a href=#current-drag-operation&gt;current drag
-       operation&lt;/a&gt; to either &quot;copy&quot; or &quot;move&quot;, as appropriate
-       given the platform conventions.&lt;/dd&gt;
+       &lt;dd&gt;&lt;p&gt;Set the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to either
+       &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;,
+       as appropriate given the platform conventions.&lt;/dd&gt;
 
        &lt;dt&gt;Otherwise&lt;/dt&gt;
 
-       &lt;dd&gt;&lt;p&gt;The user agent must reset the &lt;a href=#current-drag-operation&gt;current drag
-       operation&lt;/a&gt; to &quot;none&quot;.&lt;/dd&gt;
+       &lt;dd&gt;&lt;p&gt;Reset the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;.&lt;/dd&gt;
 
       &lt;/dl&gt;&lt;p&gt;Otherwise (if the &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; event &lt;em&gt;is&lt;/em&gt;
-      canceled), the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; must be set
-      based on the values the &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt; and
+      canceled), set the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; based on
+      the values of the &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt; and
       &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt;
-      attributes of the &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; object
-      had after the event was handled, as per the following table:&lt;/p&gt;
+      attributes of the &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; object as
+      they stood after the event dispatch finished, as per the
+      following table:&lt;/p&gt;
 
       &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
          &lt;th&gt;&lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt;&lt;/th&gt;
          &lt;th&gt;Drag operation&lt;/th&gt;
-        &lt;/thead&gt;&lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;, or &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&quot;copy&quot;&lt;/td&gt;
-       &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;, or &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&quot;link&quot;&lt;/td&gt;
-       &lt;tr&gt;&lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;, or &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&quot;move&quot;&lt;/td&gt;
+        &lt;/thead&gt;&lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;&quot;, or &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
+       &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&quot;, or &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;&lt;/td&gt;
+       &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&quot;, or &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
        &lt;tr&gt;&lt;td colspan=2&gt;Any other case&lt;/td&gt;
-        &lt;td&gt;&quot;none&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
        &lt;/table&gt;&lt;p&gt;Then, regardless of whether the &lt;code title=event-dragover&gt;&lt;a href=#event-dragover&gt;dragover&lt;/a&gt;&lt;/code&gt; event was canceled or
-      not, the drag feedback (e.g. the mouse cursor) must be updated
-      to match the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt;, as
-      follows:&lt;/p&gt;
+      not, update the drag feedback (e.g. the mouse cursor) to match
+      the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt;, as follows:&lt;/p&gt;
 
       &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Drag operation&lt;/th&gt;
          &lt;th&gt;Feedback&lt;/th&gt;
-        &lt;/thead&gt;&lt;tr&gt;&lt;td&gt;&quot;copy&quot;&lt;/td&gt;
+        &lt;/thead&gt;&lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
         &lt;td&gt;Data will be copied if dropped here.&lt;/td&gt;
-       &lt;tr&gt;&lt;td&gt;&quot;link&quot;&lt;/td&gt;
+       &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;&lt;/td&gt;
         &lt;td&gt;Data will be linked if dropped here.&lt;/td&gt;
-       &lt;tr&gt;&lt;td&gt;&quot;move&quot;&lt;/td&gt;
+       &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
         &lt;td&gt;Data will be moved if dropped here.&lt;/td&gt;
-       &lt;tr&gt;&lt;td&gt;&quot;none&quot;&lt;/td&gt;
+       &lt;tr&gt;&lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
         &lt;td&gt;No operation allowed, dropping here will cancel the drag-and-drop operation.&lt;/td&gt;
        &lt;/table&gt;&lt;/li&gt;
 
      &lt;li&gt;
 
-      &lt;p&gt;Otherwise, if the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is not a
-      DOM element, the user agent must use platform-specific mechanisms
-      to determine what drag operation is being performed (none, copy,
-      link, or move). This sets the &lt;em&gt;current drag operation&lt;/em&gt;.&lt;/p&gt;
+      &lt;p&gt;Otherwise, if the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is not
+      a DOM element, use platform-specific mechanisms to determine
+      what drag operation is being performed (none, copy, link, or
+      move), and set the &lt;i&gt;&lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt;&lt;/i&gt;
+      accordingly.&lt;/p&gt;
 
      &lt;/li&gt;
 
@@ -66813,90 +67028,88 @@
     &lt;p&gt;Otherwise, if the user ended the drag-and-drop operation (e.g.
     by releasing the mouse button in a mouse-driven drag-and-drop
     interface), or if the &lt;code title=event-drag&gt;&lt;a href=#event-drag&gt;drag&lt;/a&gt;&lt;/code&gt; event
-    was canceled, then this will be the last iteration. The user agent
-    must execute the following steps, then stop looping.&lt;/p&gt;
+    was canceled, then this will be the last iteration. Run the
+    following steps, then stop the drag-and-drop operation:&lt;/p&gt;
 
     &lt;ol&gt;&lt;li&gt;
 
-      &lt;p&gt;If the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; is none (no drag
-      operation), or, if the user ended the drag-and-drop operation by
-      canceling it (e.g. by hitting the &lt;kbd&gt;Escape&lt;/kbd&gt; key), or if
-      the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is null, then the drag
-      operation failed. If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is
-      a DOM element, the user agent must fire a &lt;code title=event-dragleave&gt;&lt;a href=#event-dragleave&gt;dragleave&lt;/a&gt;&lt;/code&gt; event at it; otherwise,
-      if it is not null, it must use platform-specific conventions for
-      drag cancellation.&lt;/p&gt;
+      &lt;p&gt;If the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; is &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot; (no drag operation), or, if the user ended
+      the drag-and-drop operation by canceling it (e.g. by hitting the
+      &lt;kbd&gt;Escape&lt;/kbd&gt; key), or if the &lt;a href=#current-target-element&gt;current target
+      element&lt;/a&gt; is null, then the drag operation failed. Run
+      these substeps:&lt;/p&gt;
 
-     &lt;/li&gt;
+      &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;dropped&lt;/var&gt; be false.&lt;/li&gt;
 
-     &lt;li&gt;
+       &lt;li&gt;&lt;p&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a DOM
+       element, &lt;a href=#fire-a-dnd-event&gt;fire a DND event&lt;/a&gt; named &lt;code title=event-dragleave&gt;&lt;a href=#event-dragleave&gt;dragleave&lt;/a&gt;&lt;/code&gt; at it; otherwise, if
+       it is not null, use platform-specific conventions for drag
+       cancellation.&lt;/p&gt;
 
-      &lt;p&gt;Otherwise, the drag operation was as success. If the
-      &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a DOM element, the user
-      agent must fire a &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; event at
-      it; otherwise, it must use platform-specific conventions for
-      indicating a drop.&lt;/p&gt;
+      &lt;/ol&gt;&lt;p&gt;Otherwise, the drag operation was as success; run these substeps:&lt;/p&gt;
 
-      &lt;p&gt;When the target is a DOM element, the &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute
-      of the event's &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; object
-      must be given the value representing the &lt;a href=#current-drag-operation&gt;current drag
-      operation&lt;/a&gt; (&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, or &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;), and the
-      object must be set up so that the &lt;code title=dom-DataTransfer-getData&gt;&lt;a href=#dom-datatransfer-getdata&gt;getData()&lt;/a&gt;&lt;/code&gt; method will
-      return the data that was added during the &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event, and the &lt;code title=dom-datatransfer-files&gt;&lt;a href=#dom-datatransfer-files&gt;files&lt;/a&gt;&lt;/code&gt; attribute will
-      return a &lt;code&gt;FileList&lt;/code&gt; object with any files that were
-      dragged.&lt;/p&gt;
+      &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;dropped&lt;/var&gt; be true.&lt;/li&gt;
 
-      &lt;p&gt;If the event is canceled, the &lt;a href=#current-drag-operation&gt;current drag
-      operation&lt;/a&gt; must be set to the value of the &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute
-      of the event's &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; object as
-      it stood after the event was handled.&lt;/p&gt;
+       &lt;li&gt;&lt;p&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a DOM
+       element, &lt;a href=#fire-a-dnd-event&gt;fire a DND event&lt;/a&gt; named &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; at it; otherwise, use
+       platform-specific conventions for indicating a drop.&lt;/li&gt;
 
-      &lt;p&gt;Otherwise, the event is not canceled, and the user agent must
-      perform the event's default action, which depends on the exact
-      target as follows:&lt;/p&gt;
+       &lt;li&gt;
 
-      &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a text field
-       (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
-       whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
-       the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
-       &lt;a href=#editable&gt;editable&lt;/a&gt; element&lt;/dt&gt;
+        &lt;p&gt;If the event is canceled, set the &lt;a href=#current-drag-operation&gt;current drag
+        operation&lt;/a&gt; to the value of the &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute
+        of the &lt;code&gt;&lt;a href=#dragevent&gt;DragEvent&lt;/a&gt;&lt;/code&gt; object's &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; object
+        as it stood after the event dispatch finished.&lt;/p&gt;
 
-       &lt;dd&gt;The user agent must insert the data associated with the
-       &lt;code&gt;text/plain&lt;/code&gt; format, if any, into the text field or
-       &lt;a href=#editable&gt;editable&lt;/a&gt; element in a manner consistent with
-       platform-specific conventions (e.g. inserting it at the current
-       mouse cursor position, or inserting it at the end of the
-       field).&lt;/dd&gt;
+        &lt;p&gt;Otherwise, the event is not canceled; perform the event's
+        default action, which depends on the exact target as
+        follows:&lt;/p&gt;
 
-       &lt;dt&gt;Otherwise&lt;/dt&gt;
+        &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a text field
+         (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
+         whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
+         the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state) or an
+         &lt;a href=#editable&gt;editable&lt;/a&gt; element&lt;/dt&gt;
 
-       &lt;dd&gt;Reset the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to
-       &quot;none&quot;.&lt;/dd&gt;
+         &lt;dd&gt;&lt;p&gt;If the &lt;a href=#drag-data-store-item-list&gt;drag data store item list&lt;/a&gt; has an
+         item with &lt;a href=#the-drag-data-item-type-string&gt;the drag data item type string&lt;/a&gt;
+         &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;a href=#the-drag-data-item-kind&gt;the drag data item
+         kind&lt;/a&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;, insert the actual data
+         of that item into the text field or &lt;a href=#editable&gt;editable&lt;/a&gt;
+         element in a manner consistent with platform-specific
+         conventions (e.g. inserting it at the current mouse cursor
+         position, or inserting it at the end of the field).&lt;/dd&gt;
 
-      &lt;/dl&gt;&lt;/li&gt;
+         &lt;dt&gt;Otherwise&lt;/dt&gt;
 
+         &lt;dd&gt;&lt;p&gt;Reset the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to
+         &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;.&lt;/p&gt;~&lt;/dd&gt;
+
+        &lt;/dl&gt;&lt;/li&gt;
+
+      &lt;/ol&gt;&lt;/li&gt;
+
      &lt;li&gt;
 
-      &lt;p&gt;Finally, the user agent must fire a &lt;code title=event-dragend&gt;&lt;a href=#event-dragend&gt;dragend&lt;/a&gt;&lt;/code&gt; event at the &lt;a href=#source-node&gt;source
-      node&lt;/a&gt;, with the &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; attribute
-      of the event's &lt;code title=dom-DragEvent-dataTransfer&gt;&lt;a href=#dom-dragevent-datatransfer&gt;dataTransfer&lt;/a&gt;&lt;/code&gt; object
-      being set to the value corresponding to the &lt;a href=#current-drag-operation&gt;current drag
-      operation&lt;/a&gt;.&lt;/p&gt;
+      &lt;p&gt;&lt;a href=#fire-a-dnd-event&gt;Fire a DND event&lt;/a&gt; named &lt;code title=event-dragend&gt;&lt;a href=#event-dragend&gt;dragend&lt;/a&gt;&lt;/code&gt; at the &lt;a href=#source-node&gt;source
+      node&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p class=note&gt;The &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; can
-      change during the processing of the &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; event, if one was fired.&lt;/p&gt;
+     &lt;/li&gt;
 
-      &lt;p&gt;The event is not cancelable. After the event has been
-      handled, the user agent must act as follows:&lt;/p&gt;
+     &lt;li&gt;
 
+      &lt;p&gt;Run the appropriate steps from the following list as the
+      default action of the &lt;code title=event-dragend&gt;&lt;a href=#event-dragend&gt;dragend&lt;/a&gt;&lt;/code&gt;
+      event:&lt;/p&gt;
+
       &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;a href=#current-target-element&gt;current target element&lt;/a&gt; is a text field
        (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
        whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
        the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state), and
-       a &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; event was fired in the
-       previous step, and the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; is
-       &quot;move&quot;, and the source of the drag-and-drop operation is a
-       selection in the DOM&lt;/dt&gt;
+       &lt;var title=&quot;&quot;&gt;dropped&lt;/var&gt; is true, and the &lt;a href=#current-drag-operation&gt;current drag
+       operation&lt;/a&gt; is &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, and the
+       source of the drag-and-drop operation is a selection in the
+       DOM&lt;/dt&gt;
 
        &lt;dd&gt;The user agent should delete the range representing the
        dragged selection from the DOM.&lt;/dd&gt;
@@ -66905,10 +67118,10 @@
        (e.g. &lt;code&gt;&lt;a href=#the-textarea-element&gt;textarea&lt;/a&gt;&lt;/code&gt;, or an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element
        whose &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in
        the &lt;a href=#text-state-and-search-state title=attr-input-type-text&gt;Text&lt;/a&gt; state), and
-       a &lt;code title=event-drop&gt;&lt;a href=#event-drop&gt;drop&lt;/a&gt;&lt;/code&gt; event was fired in the
-       previous step, and the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; is
-       &quot;move&quot;, and the source of the drag-and-drop operation is a
-       selection in a text field&lt;/dt&gt;
+       &lt;var title=&quot;&quot;&gt;dropped&lt;/var&gt; is true, and the &lt;a href=#current-drag-operation&gt;current drag
+       operation&lt;/a&gt; is &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, and the
+       source of the drag-and-drop operation is a selection in a text
+       field&lt;/dt&gt;
 
        &lt;dd&gt;The user agent should delete the dragged selection from the
        relevant text field.&lt;/dd&gt;
@@ -66932,7 +67145,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h5 id=when-the-drag-and-drop-operation-starts-or-ends-in-another-document&gt;&lt;span class=secno&gt;8.7.4.1 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
+  &lt;h5 id=when-the-drag-and-drop-operation-starts-or-ends-in-another-document&gt;&lt;span class=secno&gt;8.7.5.1 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
   document&lt;/h5&gt;
 
   &lt;p&gt;The model described above is independent of which
@@ -66947,7 +67160,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h5 id=when-the-drag-and-drop-operation-starts-or-ends-in-another-application&gt;&lt;span class=secno&gt;8.7.4.2 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
+  &lt;h5 id=when-the-drag-and-drop-operation-starts-or-ends-in-another-application&gt;&lt;span class=secno&gt;8.7.5.2 &lt;/span&gt;When the drag-and-drop operation starts or ends in another
   application&lt;/h5&gt;
 
   &lt;p&gt;If the drag is initiated in another application, the &lt;a href=#source-node&gt;source
@@ -66977,8 +67190,87 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=the-draggable-attribute&gt;&lt;span class=secno&gt;8.7.5 &lt;/span&gt;The &lt;dfn title=attr-draggable&gt;&lt;code&gt;draggable&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
+  &lt;h4 id=dndevents&gt;&lt;span class=secno&gt;8.7.6 &lt;/span&gt;Events summary&lt;/h4&gt;
 
+  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
+
+  &lt;p&gt;The following events are involved in the drag-and-drop
+  model.&lt;/p&gt;
+
+  &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt; Event Name &lt;/th&gt;
+     &lt;th&gt; Target &lt;/th&gt;
+     &lt;!-- &lt;th&gt; Bubbles? &lt;/th&gt; --&gt;
+     &lt;th&gt; Cancelable? &lt;/th&gt;
+     &lt;th&gt; &lt;a href=#drag-data-store-mode&gt;Drag data store mode&lt;/a&gt; &lt;/th&gt;
+     &lt;!-- &lt;th&gt; &lt;code title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/code&gt; &lt;/th&gt; --&gt;
+     &lt;th&gt; &lt;code title=dom-DataTransfer-dropEffect&gt;&lt;a href=#dom-datatransfer-dropeffect&gt;dropEffect&lt;/a&gt;&lt;/code&gt; &lt;/th&gt;
+     &lt;th&gt; Default Action &lt;/th&gt;
+    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragstart title=event-dragstart&gt;&lt;code&gt;dragstart&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#source-node&gt;Source node&lt;/a&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#concept-dnd-rw title=concept-dnd-rw&gt;Read/write mode&lt;/a&gt;
+     &lt;!-- &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;&lt;/td&gt; --&gt;
+     &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;td&gt;Initiate the drag-and-drop operation&lt;/td&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-drag title=event-drag&gt;&lt;code&gt;drag&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#source-node&gt;Source node&lt;/a&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#concept-dnd-p title=concept-dnd-p&gt;Protected mode&lt;/a&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;td&gt;Continue the drag-and-drop operation&lt;/td&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragenter title=event-dragenter&gt;&lt;code&gt;dragenter&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#immediate-user-selection&gt;Immediate user selection&lt;/a&gt; or &lt;a href=#the-body-element&gt;the body element&lt;/a&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#concept-dnd-p title=concept-dnd-p&gt;Protected mode&lt;/a&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&lt;a href=#dropEffect-initialization&gt;Based on &lt;code&gt;effectAllowed&lt;/code&gt; value&lt;/a&gt;&lt;/td&gt;
+     &lt;td&gt;Reject &lt;a href=#immediate-user-selection&gt;immediate user selection&lt;/a&gt; as potential &lt;a href=#current-target-element title=&quot;current target element&quot;&gt;target element&lt;/a&gt;&lt;/td&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragleave title=event-dragleave&gt;&lt;code&gt;dragleave&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#current-target-element title=&quot;current target element&quot;&gt;Previous target element&lt;/a&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&mdash;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#concept-dnd-p title=concept-dnd-p&gt;Protected mode&lt;/a&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;td&gt;None&lt;/td&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragover title=event-dragover&gt;&lt;code&gt;dragover&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#current-target-element&gt;Current target element&lt;/a&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#concept-dnd-p title=concept-dnd-p&gt;Protected mode&lt;/a&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&lt;a href=#dropEffect-initialization&gt;Based on &lt;code&gt;effectAllowed&lt;/code&gt; value&lt;/a&gt;&lt;/td&gt;
+     &lt;td&gt;Reset the &lt;a href=#current-drag-operation&gt;current drag operation&lt;/a&gt; to &quot;none&quot;&lt;/td&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-drop title=event-drop&gt;&lt;code&gt;drop&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#current-target-element&gt;Current target element&lt;/a&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&#10003; Cancelable&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#concept-dnd-ro title=concept-dnd-ro&gt;Read-only mode&lt;/a&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&lt;a href=#current-drag-operation&gt;Current drag operation&lt;/a&gt;&lt;/td&gt;
+     &lt;td&gt;Varies&lt;/td&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dragend title=event-dragend&gt;&lt;code&gt;dragend&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#source-node&gt;Source node&lt;/a&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&mdash;&lt;/td&gt;
+     &lt;td&gt;&lt;a href=#concept-dnd-p title=concept-dnd-p&gt;Protected mode&lt;/a&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&lt;a href=#current-drag-operation&gt;Current drag operation&lt;/a&gt;&lt;/td&gt;
+     &lt;td&gt;Varies&lt;/td&gt;
+    &lt;/table&gt;&lt;p&gt;Not shown in the above table: all these events bubble, and the
+  &lt;code title=dom-DataTransfer-effectAllowed&gt;&lt;a href=#dom-datatransfer-effectallowed&gt;effectAllowed&lt;/a&gt;&lt;/code&gt;
+  attribute always has the value it had after the previous event was
+  fired, defaulting to &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot; in the
+  &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event.&lt;/p&gt;
+
+
+
+  &lt;h4 id=the-draggable-attribute&gt;&lt;span class=secno&gt;8.7.7 &lt;/span&gt;The &lt;dfn title=attr-draggable&gt;&lt;code&gt;draggable&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
+
   &lt;p&gt;All &lt;a href=#html-elements&gt;HTML elements&lt;/a&gt; may have the &lt;code title=attr-draggable&gt;&lt;a href=#the-draggable-attribute&gt;draggable&lt;/a&gt;&lt;/code&gt; content attribute set. The
   &lt;code title=attr-draggable&gt;&lt;a href=#the-draggable-attribute&gt;draggable&lt;/a&gt;&lt;/code&gt; attribute is an
   &lt;a href=#enumerated-attribute&gt;enumerated attribute&lt;/a&gt;. It has three states. The first
@@ -67119,7 +67411,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.7.6 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/h4&gt;
+  &lt;h4 id=security-risks-in-the-drag-and-drop-model&gt;&lt;span class=secno&gt;8.7.8 &lt;/span&gt;Security risks in the drag-and-drop model&lt;/h4&gt;
 
   &lt;p&gt;User agents must not make the data added to the
   &lt;code&gt;&lt;a href=#datatransfer&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object during the &lt;code title=event-dragstart&gt;&lt;a href=#event-dragstart&gt;dragstart&lt;/a&gt;&lt;/code&gt; event available to scripts

Modified: source
===================================================================
--- source	2010-10-25 22:32:13 UTC (rev 5646)
+++ source	2010-10-27 23:01:54 UTC (rev 5647)
@@ -75099,159 +75099,170 @@
 
 
 
+  &lt;h4&gt;The drag data store&lt;/h4&gt;
 
-  &lt;h4&gt;The &lt;code&gt;DragEvent&lt;/code&gt; and &lt;code&gt;DataTransfer&lt;/code&gt; interfaces&lt;/h4&gt;
+  &lt;p&gt;The data that underlies a drag-and-drop operation, known as the
+  &lt;dfn&gt;drag data store&lt;/dfn&gt;, consists of the following information:&lt;/p&gt;
 
-  &lt;p&gt;The drag-and-drop processing model involves several events. They
-  all use the &lt;code&gt;DragEvent&lt;/code&gt; interface.&lt;/p&gt;
+  &lt;ul&gt;
 
-  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;DragEvent&lt;/dfn&gt; : &lt;span&gt;MouseEvent&lt;/span&gt; {
-  readonly attribute &lt;span&gt;DataTransfer&lt;/span&gt; &lt;span title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/span&gt;;
+   &lt;li&gt;&lt;p&gt;A &lt;dfn&gt;drag data store item list&lt;/dfn&gt;, which is a list of
+   items representing the dragged data, each consisting of the
+   following information:&lt;/p&gt;
 
-  void &lt;span title=&quot;dom-DragEvent-initDragEvent&quot;&gt;initDragEvent&lt;/span&gt;(in DOMString typeArg, in boolean canBubbleArg, in boolean cancelableArg, in any dummyArg&lt;!-- used to be viewArg, back when we had views --&gt;, in long detailArg, in long screenXArg, in long screenYArg, in long clientXArg, in long clientYArg, in boolean ctrlKeyArg, in boolean altKeyArg, in boolean shiftKeyArg, in boolean metaKeyArg, in unsigned short buttonArg, in EventTarget relatedTargetArg, in &lt;span&gt;DataTransfer&lt;/span&gt; dataTransferArg);
-};&lt;/pre&gt;
+    &lt;dl&gt;
 
-  &lt;dl class=&quot;domintro&quot;&gt;
+     &lt;dt&gt;&lt;dfn&gt;The drag data item type string&lt;/dfn&gt;&lt;/dt&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;event&lt;/var&gt; . &lt;code title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt;&lt;/dt&gt;
+     &lt;dd&gt;
 
-   &lt;dd&gt;
+      &lt;p&gt;A Unicode string giving the type or format of the data,
+      generally given by a &lt;span&gt;MIME type&lt;/span&gt;. Some values that
+      are not &lt;span title=&quot;MIME type&quot;&gt;MIME types&lt;/span&gt; are
+      special-cased for legacy reasons. The API does not enforce the
+      use of &lt;span title=&quot;MIME type&quot;&gt;MIME types&lt;/span&gt;; other values
+      can be used as well. In all cases, however, the values are all
+      &lt;span&gt;converted to ASCII lowercase&lt;/span&gt; by the API.&lt;/p&gt;
 
-    &lt;p&gt;Returns the &lt;code&gt;DataTransfer&lt;/code&gt; object for the event.&lt;/p&gt;
+     &lt;/dd&gt;
 
-   &lt;/dd&gt;
+     &lt;dt&gt;&lt;dfn&gt;The drag data item kind&lt;/dfn&gt;&lt;/dt&gt;
 
-  &lt;/dl&gt;
+     &lt;dd&gt;
 
-  &lt;div class=&quot;impl&quot;&gt;
+      &lt;p&gt;The kind of data:&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DragEvent-initDragEvent&quot;&gt;&lt;code&gt;initDragEvent()&lt;/code&gt;&lt;/dfn&gt;
-  method must initialize the event in a manner analogous to the
-  similarly-named method in the DOM Events interfaces, except that the
-  &lt;var title=&quot;&quot;&gt;dummyArg&lt;/var&gt; argument must be ignored. &lt;a
-  href=&quot;#refsDOMEVENTS&quot;&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt;
+      &lt;dl&gt;
 
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DragEvent-dataTransfer&quot;&gt;&lt;code&gt;dataTransfer&lt;/code&gt;&lt;/dfn&gt;
-  attribute of the &lt;code&gt;DragEvent&lt;/code&gt; interface represents the
-  context information for the event.&lt;/p&gt;
+       &lt;dt&gt;&lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dt&gt;
+       &lt;dd&gt;
+        &lt;p&gt;Raw text.&lt;/p&gt;
+       &lt;/dd&gt;
 
-  &lt;/div&gt;
+       &lt;dt&gt;&lt;i&gt;Blob&lt;/i&gt;&lt;/dt&gt;
+       &lt;dd&gt;
+        &lt;p&gt;Binary data.&lt;/p&gt;
+       &lt;/dd&gt;
 
-  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;DataTransfer&lt;/dfn&gt; {
-           attribute DOMString &lt;span title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/span&gt;;
-           attribute DOMString &lt;span title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/span&gt;;
+       &lt;dt&gt;&lt;i&gt;File&lt;/i&gt;&lt;/dt&gt;
+       &lt;dd&gt;
+        &lt;p&gt;Binary data with a file name.&lt;/p&gt;
+       &lt;/dd&gt;
 
-  readonly attribute DOMStringList &lt;span title=&quot;dom-DataTransfer-types&quot;&gt;types&lt;/span&gt;;
-  void &lt;span title=&quot;dom-DataTransfer-clearData&quot;&gt;clearData&lt;/span&gt;(in optional DOMString format);
-  void &lt;span title=&quot;dom-DataTransfer-setData&quot;&gt;setData&lt;/span&gt;(in DOMString format, in DOMString data);
-  DOMString &lt;span title=&quot;dom-DataTransfer-getData&quot;&gt;getData&lt;/span&gt;(in DOMString format);
-  readonly attribute &lt;span&gt;FileList&lt;/span&gt; &lt;span title=&quot;dom-DataTransfer-files&quot;&gt;files&lt;/span&gt;;
+      &lt;/dl&gt;
 
-  void &lt;span title=&quot;dom-DataTransfer-setDragImage&quot;&gt;setDragImage&lt;/span&gt;(in Element image, in long x, in long y);
-  void &lt;span title=&quot;dom-DataTransfer-addElement&quot;&gt;addElement&lt;/span&gt;(in Element element);
-};&lt;/pre&gt;
+     &lt;/dd&gt;
 
-  &lt;p&gt;&lt;code&gt;DataTransfer&lt;/code&gt; objects are used to expose the data
-  that underlies a drag-and-drop operation.&lt;/p&gt;
+     &lt;dt&gt;The actual data&lt;/dt&gt;
 
-  &lt;p&gt;The data that underlies a drag-and-drop operation, known as the
-  &lt;dfn&gt;drag data store&lt;/dfn&gt;, consists of an unordered list of items
-  representing the dragged data, and some information used to generate
-  the UI feedback during the drag.&lt;/p&gt;
+     &lt;dd&gt;&lt;p&gt;A Unicode or binary string, optionally with a file name
+     (itself a Unicode string), as per &lt;span&gt;the drag data item
+     kind&lt;/span&gt;.&lt;/p&gt;&lt;/dd&gt;
 
-  &lt;p&gt;Each item representing dragged data in a &lt;span&gt;drag data
-  store&lt;/span&gt; has the following information:&lt;/p&gt;
+    &lt;/dl&gt;
 
-  &lt;ul&gt;
+   &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;The type or format of the data, generally given by a &lt;span&gt;MIME
-    type&lt;/span&gt;. Some values that are not &lt;span title=&quot;MIME type&quot;&gt;MIME
-    types&lt;/span&gt; are special-cased for legacy reasons. The API does
-    not enforce the use of &lt;span title=&quot;MIME type&quot;&gt;MIME types&lt;/span&gt;;
-    other values can be used as well. In all cases, however, the
-    values are all &lt;span&gt;converted to ASCII lowercase&lt;/span&gt; by the
-    API.&lt;/p&gt;
+    &lt;p&gt;The following information, used to generate the UI feedback
+    during the drag:&lt;/p&gt;
 
+    &lt;ul&gt;
+
+     &lt;li&gt;User-agent-defined default feedback information, known as the
+     &lt;dfn&gt;drag data store default feedback&lt;/dfn&gt;.&lt;/li&gt;
+
+     &lt;li&gt;A list of zero or more elements known as the &lt;dfn&gt;drag data
+     store elements list&lt;/dfn&gt;.&lt;/li&gt;
+
+     &lt;li&gt;Optionally, a bitmap image and the coordinate of a point
+     within that image, known as the &lt;dfn&gt;drag data store bitmap&lt;/dfn&gt;
+     and &lt;dfn&gt;drag data store hot spot coordinate&lt;/dfn&gt;.&lt;/li&gt;
+
+    &lt;/ul&gt;
+
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;The kind of data:&lt;/p&gt;
+    &lt;p&gt;A &lt;dfn&gt;drag data store mode&lt;/dfn&gt;, which is one of the
+    following:&lt;/p&gt;
 
     &lt;dl&gt;
 
-     &lt;dt&gt;Plain Unicode string&lt;/dt&gt;
+     &lt;dt&gt;&lt;dfn title=&quot;concept-dnd-rw&quot;&gt;Read/write mode&lt;/dfn&gt;&lt;/dt&gt;
      &lt;dd&gt;
-      &lt;p&gt;Raw text.&lt;/p&gt;
+
+      &lt;p&gt;For the &lt;code title=&quot;event-dragstart&quot;&gt;dragstart&lt;/code&gt; event.
+      New data can be added to the &lt;span&gt;drag data store&lt;/span&gt;.&lt;/p&gt;
+
      &lt;/dd&gt;
 
-     &lt;dt&gt;Blob&lt;/dt&gt;
+     &lt;dt&gt;&lt;dfn title=&quot;concept-dnd-ro&quot;&gt;Read-only mode&lt;/dfn&gt;&lt;/dt&gt;
      &lt;dd&gt;
-      &lt;p&gt;Binary data.&lt;/p&gt;
+
+      &lt;p&gt;For the &lt;code title=&quot;event-drop&quot;&gt;drop&lt;/code&gt; event. The list of
+      items representing dragged data can be read, including the data.
+      No new data can be added.&lt;/p&gt;
+
      &lt;/dd&gt;
 
-     &lt;dt&gt;File&lt;/dt&gt;
+     &lt;dt&gt;&lt;dfn title=&quot;concept-dnd-p&quot;&gt;Protected mode&lt;/dfn&gt;&lt;/dt&gt;
      &lt;dd&gt;
-      &lt;p&gt;Binary data with a file name.&lt;/p&gt;
+
+      &lt;p&gt;For all other events. The formats and kinds in the &lt;span&gt;drag
+      data store&lt;/span&gt; list of items representing dragged data can be
+      enumerated, but the data itself is unavailable and no new data can
+      be added.&lt;/p&gt;
+
      &lt;/dd&gt;
 
     &lt;/dl&gt;
 
    &lt;/li&gt;
 
-  &lt;/ul&gt;
+   &lt;li&gt;
 
-  &lt;p&gt;The information in a &lt;span&gt;drag data store&lt;/span&gt; used to
-  generate the UI feedback during the drag consists of:&lt;/p&gt;
+    &lt;p&gt;A &lt;dfn&gt;drag data store allowed effects state&lt;/dfn&gt;, which is a
+    string.&lt;/p&gt;
 
-  &lt;ul&gt;
+   &lt;/li&gt;
 
-   &lt;li&gt;A list of zero or more elements.&lt;/li&gt;
-
-   &lt;li&gt;Optionally, a bitmap image and the coordinate of a point within
-   that image.&lt;/li&gt;
-
   &lt;/ul&gt;
 
-  &lt;p&gt;A &lt;span&gt;drag data store&lt;/span&gt; is created at the start of a
-  drag-and-drop operation in the &lt;i&gt;read/write mode&lt;/i&gt;, and then
-  progresses through the following three modes as the operation
-  proceeds:&lt;/p&gt;
+  &lt;p&gt;When a &lt;span&gt;drag data store&lt;/span&gt; is &lt;dfn title=&quot;create a drag
+  data store&quot;&gt;created&lt;/dfn&gt;, it must be initialized such that its
+  &lt;span&gt;drag data store item list&lt;/span&gt; is empty, it has no
+  &lt;span&gt;drag data store default feedback&lt;/span&gt;, its &lt;span&gt;drag data
+  store elements list&lt;/span&gt; is empty, it has no &lt;span&gt;drag data store
+  bitmap&lt;/span&gt; / &lt;span&gt;drag data store hot spot coordinate&lt;/span&gt;,
+  its &lt;span&gt;drag data store mode&lt;/span&gt; is &lt;span
+  title=&quot;concept-dnd-p&quot;&gt;protected mode&lt;/span&gt;, and its &lt;span&gt;drag data
+  store allowed effects state&lt;/span&gt; is the string &quot;&lt;code
+  title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;.&lt;/p&gt;
 
-  &lt;dl&gt;
 
-   &lt;dt&gt;Read/write mode&lt;/dt&gt;
-   &lt;dd&gt;
+  &lt;h4&gt;The &lt;code&gt;DataTransfer&lt;/code&gt; interface&lt;/h4&gt;
 
-    &lt;p&gt;At the start of the drag. New data can be added to the
-    &lt;span&gt;drag data store&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;&lt;code&gt;DataTransfer&lt;/code&gt; objects are used to expose the
+  &lt;span&gt;drag data store&lt;/span&gt; that underlies a drag-and-drop
+  operation.&lt;/p&gt;
 
-   &lt;/dd&gt;
+  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;DataTransfer&lt;/dfn&gt; {
+           attribute DOMString &lt;span title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/span&gt;;
+           attribute DOMString &lt;span title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/span&gt;;
 
-   &lt;dt&gt;Protected mode&lt;/dt&gt;
-   &lt;dd&gt;
+  readonly attribute DOMStringList &lt;span title=&quot;dom-DataTransfer-types&quot;&gt;types&lt;/span&gt;;
+  void &lt;span title=&quot;dom-DataTransfer-clearData&quot;&gt;clearData&lt;/span&gt;(in optional DOMString format);
+  void &lt;span title=&quot;dom-DataTransfer-setData&quot;&gt;setData&lt;/span&gt;(in DOMString format, in DOMString data);
+  DOMString &lt;span title=&quot;dom-DataTransfer-getData&quot;&gt;getData&lt;/span&gt;(in DOMString format);
+  readonly attribute &lt;span&gt;FileList&lt;/span&gt; &lt;span title=&quot;dom-DataTransfer-files&quot;&gt;files&lt;/span&gt;;
 
-    &lt;p&gt;During the drag. The formats and kinds in the &lt;span&gt;drag data
-    store&lt;/span&gt; list of items representing dragged data can be
-    enumerated, but the data itself is unavailable and no new data can
-    be added.&lt;/p&gt;
+  void &lt;span title=&quot;dom-DataTransfer-setDragImage&quot;&gt;setDragImage&lt;/span&gt;(in Element image, in long x, in long y);
+  void &lt;span title=&quot;dom-DataTransfer-addElement&quot;&gt;addElement&lt;/span&gt;(in Element element);
+};&lt;/pre&gt;
 
-   &lt;/dd&gt;
-
-   &lt;dt&gt;Read-only mode&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;After the drop. The list of items representing dragged data can
-    be read, including the data. No new data can be added.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;
-
   &lt;dl class=&quot;domintro&quot;&gt;
 
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;dataTransfer&lt;/var&gt; . &lt;code title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
@@ -75265,9 +75276,9 @@
 
     &lt;p&gt;Can be set, to change the selected operation.&lt;/p&gt;
 
-    &lt;p&gt;The possible values are &lt;code title=&quot;&quot;&gt;none&lt;/code&gt;, &lt;code
-    title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, and &lt;code
-    title=&quot;&quot;&gt;move&lt;/code&gt;.&lt;/p&gt;
+    &lt;p&gt;The possible values are &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;, &quot;&lt;code
+    title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, and &quot;&lt;code
+    title=&quot;&quot;&gt;move&lt;/code&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -75279,11 +75290,11 @@
 
     &lt;p&gt;Can be set, to change the allowed operations.&lt;/p&gt;
 
-    &lt;p&gt;The possible values are &lt;code title=&quot;&quot;&gt;none&lt;/code&gt;, &lt;code
-    title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;, &lt;code
-    title=&quot;&quot;&gt;copyMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, &lt;code
-    title=&quot;&quot;&gt;linkMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;, &lt;code
-    title=&quot;&quot;&gt;all&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;,&lt;/p&gt;
+    &lt;p&gt;The possible values are &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;, &quot;&lt;code
+    title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;&quot;, &quot;&lt;code
+    title=&quot;&quot;&gt;copyMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, &quot;&lt;code
+    title=&quot;&quot;&gt;linkMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, &quot;&lt;code
+    title=&quot;&quot;&gt;all&lt;/code&gt;&quot;, and &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;,&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -75349,13 +75360,15 @@
 
   &lt;/dl&gt;
 
+  &lt;p&gt;&lt;code&gt;DataTransfer&lt;/code&gt; objects are used during the &lt;a
+  href=&quot;#dndevents&quot;&gt;drag-and-drop events&lt;/a&gt;, and are only valid while
+  those events are being dispatched.&lt;/p&gt;
+
 &lt;!--
 
 XXX
 
 plan:
- 2. replace the existing API definitions with links to this model
- 3. make it clear there's a new DataTransfer object with each event
  4. expose model with new API
  5. add dropzone=&quot;...&quot; feature
 
@@ -75363,67 +75376,116 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;When a &lt;code&gt;DataTransfer&lt;/code&gt; object is created, it must be
-  initialized as follows:&lt;/p&gt;
+  &lt;p&gt;A &lt;code&gt;DataTransfer&lt;/code&gt; object is associated with a
+  &lt;code&gt;drag data store&lt;/code&gt; while it is valid.&lt;/p&gt;
 
-  &lt;ul&gt;
-
-   &lt;li&gt;The &lt;code&gt;DataTransfer&lt;/code&gt; object must initially contain no
-   data, no elements, and have no associated image.&lt;/li&gt;
-
-   &lt;li&gt;The &lt;code&gt;DataTransfer&lt;/code&gt; object's &lt;code
-   title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/code&gt;
-   attribute must be set to &quot;&lt;code
-   title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;.&lt;/li&gt;
-
-   &lt;li&gt;The &lt;code title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/code&gt;
-   attribute must be set to &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;.&lt;/li&gt;
-
-  &lt;/ul&gt;
-
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-DataTransfer-dropEffect&quot;&gt;&lt;code&gt;dropEffect&lt;/code&gt;&lt;/dfn&gt;
   attribute controls the drag-and-drop feedback that the user is given
-  during a drag-and-drop operation.&lt;/p&gt;
+  during a drag-and-drop operation. When the &lt;code&gt;DataTransfer&lt;/code&gt;
+  object is created, the &lt;code
+  title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/code&gt; attribute is
+  set to a string value. On getting, it must return its current value.
+  On setting, if the new value is one of &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;,
+  &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, or
+  &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, then the attribute's current value
+  must be set to the new value. Other values must be ignored.&lt;/p&gt;
 
-  &lt;p&gt;The attribute must ignore any attempts to set it to a value other
-  than &lt;code title=&quot;&quot;&gt;none&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code
-  title=&quot;&quot;&gt;link&lt;/code&gt;, and &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;. On getting,
-  the attribute must return the last of those four values that it was
-  set to.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;&lt;code&gt;effectAllowed&lt;/code&gt;&lt;/dfn&gt;
   attribute is used in the drag-and-drop processing model to
   initialize the &lt;code
   title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/code&gt; attribute
   during the &lt;code title=&quot;event-dragenter&quot;&gt;dragenter&lt;/code&gt; and &lt;code
-  title=&quot;event-dragover&quot;&gt;dragover&lt;/code&gt; events.&lt;/p&gt;
+  title=&quot;event-dragover&quot;&gt;dragover&lt;/code&gt; events. When the
+  &lt;code&gt;DataTransfer&lt;/code&gt; object is created, the &lt;code
+  title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/code&gt;
+  attribute is set to a string value. On getting, it must return its
+  current value. On setting, if the new value is one of &quot;&lt;code
+  title=&quot;&quot;&gt;none&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code
+  title=&quot;&quot;&gt;copyLink&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;&quot;, &quot;&lt;code
+  title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&quot;, &quot;&lt;code
+  title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;, or &quot;&lt;code
+  title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;, then the attribute's current value
+  must be set to the new value. Other values must be ignored.&lt;/p&gt;
 
-  &lt;p&gt;The attribute must ignore any attempts to set it to a value other
-  than &lt;code title=&quot;&quot;&gt;none&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code
-  title=&quot;&quot;&gt;copyLink&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;, &lt;code
-  title=&quot;&quot;&gt;link&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;, &lt;code
-  title=&quot;&quot;&gt;move&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;, and &lt;code
-  title=&quot;&quot;&gt;uninitialized&lt;/code&gt;. On getting, the attribute must return
-  the last of those values that it was set to.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn title=&quot;dom-DataTransfer-types&quot;&gt;&lt;code&gt;types&lt;/code&gt;&lt;/dfn&gt;
   attribute must return a &lt;span&gt;live&lt;/span&gt; &lt;code&gt;DOMStringList&lt;/code&gt;
-  that contains the list of formats that were added to the
-  &lt;code&gt;DataTransfer&lt;/code&gt; object in the corresponding &lt;code
-  title=&quot;event-dragstart&quot;&gt;dragstart&lt;/code&gt; event. The same object must
-  be returned each time. If any files were included in the drag, then
-  the &lt;code&gt;DOMStringList&lt;/code&gt; object must in addition include the
-  string &quot;&lt;code title=&quot;&quot;&gt;Files&lt;/code&gt;&quot;. (This value can be
-  distinguished from the other values because it is not
-  lowercase.)&lt;/p&gt;
+  giving the strings that the following steps would produce. The same
+  object must be returned each time.&lt;/p&gt;
 
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Start with an empty list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;DataTransfer&lt;/code&gt; object is no longer
+   associated with a &lt;span&gt;drag data store&lt;/span&gt;, the
+   &lt;code&gt;DOMStringList&lt;/code&gt; is empty. Abort these steps; return the
+   empty list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;For each item in the &lt;span&gt;drag data store item list&lt;/span&gt;
+   &lt;!-- in some order...? --&gt; whose &lt;span title=&quot;the drag data item
+   kind&quot;&gt;kind&lt;/span&gt; is &lt;i&gt;Plain Unicode string&lt;/i&gt;, add an entry to
+   the list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt; consisting of the item's &lt;span
+   title=&quot;the drag data item type string&quot;&gt;type string&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If there are any items in the &lt;span&gt;drag data store item
+   list&lt;/span&gt; whose &lt;span title=&quot;the drag data item kind&quot;&gt;kind&lt;/span&gt;
+   is &lt;i&gt;File&lt;/i&gt;, then add an entry to the list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;
+   consisting of the string &quot;&lt;code title=&quot;&quot;&gt;Files&lt;/code&gt;&quot;. (This value
+   can be distinguished from the other values because it is not
+   lowercase.)&lt;/p&gt;&lt;/li&gt;
+
+   &lt;!-- &lt;li&gt;&lt;p&gt;Sort the list...?&lt;/p&gt;&lt;/li&gt; --&gt;
+
+   &lt;li&gt;&lt;p&gt;The strings produced by these steps are those in the list
+   &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-DataTransfer-clearData&quot;&gt;&lt;code&gt;clearData()&lt;/code&gt;&lt;/dfn&gt;
-  method, when called with no arguments, must clear the
-  &lt;code&gt;DataTransfer&lt;/code&gt; object of all data (for all formats).&lt;/p&gt;
+  method must run the following steps:&lt;/p&gt;
 
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;DataTransfer&lt;/code&gt; object is no longer
+   associated with a &lt;span&gt;drag data store&lt;/span&gt;, abort these steps.
+   Nothing happens.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;drag data store&lt;/span&gt;'s &lt;span title=&quot;drag data
+   store mode&quot;&gt;mode&lt;/span&gt; is not the &lt;span
+   title=&quot;concept-dnd-rw&quot;&gt;read/write mode&lt;/span&gt;, abort these steps.
+   Nothing happens.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the method was called with no arguments, remove each item
+   in the &lt;span&gt;drag data store item list&lt;/span&gt; whose &lt;span
+   title=&quot;the drag data item kind&quot;&gt;kind&lt;/span&gt; is &lt;i&gt;Plain Unicode
+   string&lt;/i&gt;, and abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; be the first argument,
+   &lt;span&gt;converted to ASCII lowercase&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code
+    title=&quot;&quot;&gt;text&lt;/code&gt;&quot;, change it to &quot;&lt;code
+    title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;.&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code
+    title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, change it to &quot;&lt;code
+    title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Remove each item in the &lt;span&gt;drag data store item
+   list&lt;/span&gt; whose &lt;span title=&quot;the drag data item kind&quot;&gt;kind&lt;/span&gt;
+   is &lt;i&gt;Plain Unicode string&lt;/i&gt; and whose &lt;span title=&quot;the drag data
+   item type string&quot;&gt;type string&lt;/span&gt; is equal to &lt;var
+   title=&quot;&quot;&gt;format&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
   &lt;p class=&quot;note&quot;&gt;The &lt;code
   title=&quot;dom-DataTransfer-clearData&quot;&gt;clearData()&lt;/code&gt; method does
   not affect whether any files were included in the drag, so the &lt;code
@@ -75433,292 +75495,373 @@
   still contain the &quot;&lt;code title=&quot;&quot;&gt;Files&lt;/code&gt;&quot; string if any files
   were included in the drag).&lt;/p&gt;
 
-  &lt;p&gt;When called with an argument, the &lt;code
-  title=&quot;dom-DataTransfer-clearData&quot;&gt;clearData(&lt;var
-  title=&quot;&quot;&gt;format&lt;/var&gt;)&lt;/code&gt; method must clear the
-  &lt;code&gt;DataTransfer&lt;/code&gt; object of any data associated with the
-  given &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;, &lt;span&gt;converted to ASCII
-  lowercase&lt;/span&gt;. If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after conversion to
-  lowercase) is the value &quot;&lt;code title=&quot;&quot;&gt;text&lt;/code&gt;&quot;, then it must
-  be treated as &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;. If the &lt;var
-  title=&quot;&quot;&gt;format&lt;/var&gt; (after conversion to lowercase) is &quot;&lt;code
-  title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, then it must be treated as &quot;&lt;code
-  title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot;.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn title=&quot;dom-DataTransfer-setData&quot;&gt;&lt;code&gt;setData(&lt;var
   title=&quot;&quot;&gt;format&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
-  must add &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; to the data stored in the
-  &lt;code&gt;DataTransfer&lt;/code&gt; object, labeled as being of the type &lt;var
-  title=&quot;&quot;&gt;format&lt;/var&gt;, &lt;span&gt;converted to ASCII
-  lowercase&lt;/span&gt;. This must replace any previous data that had been
-  set for that format. If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after conversion
-  to lowercase) is the value &quot;&lt;code title=&quot;&quot;&gt;text&lt;/code&gt;&quot;, then it
-  must be treated as &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;. If the &lt;var
-  title=&quot;&quot;&gt;format&lt;/var&gt; (after conversion to lowercase) is &quot;&lt;code
-  title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, then it must be treated as &quot;&lt;code
-  title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot;.&lt;/p&gt;
+  must run the following steps:&lt;/p&gt;
 
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;DataTransfer&lt;/code&gt; object is no longer
+   associated with a &lt;span&gt;drag data store&lt;/span&gt;, abort these steps.
+   Nothing happens.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;drag data store&lt;/span&gt;'s &lt;span title=&quot;drag data
+   store mode&quot;&gt;mode&lt;/span&gt; is not the &lt;span
+   title=&quot;concept-dnd-rw&quot;&gt;read/write mode&lt;/span&gt;, abort these steps.
+   Nothing happens.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; be the first argument,
+   &lt;span&gt;converted to ASCII lowercase&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code
+    title=&quot;&quot;&gt;text&lt;/code&gt;&quot;, change it to &quot;&lt;code
+    title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;.&lt;/p&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code
+    title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, change it to &quot;&lt;code
+    title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Remove each item in the &lt;span&gt;drag data store item
+   list&lt;/span&gt; whose &lt;span title=&quot;the drag data item kind&quot;&gt;kind&lt;/span&gt;
+   is &lt;i&gt;Plain Unicode string&lt;/i&gt; and whose &lt;span title=&quot;the drag data
+   item type string&quot;&gt;type string&lt;/span&gt; is equal to &lt;var
+   title=&quot;&quot;&gt;format&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Add an item to the &lt;span&gt;drag data store item list&lt;/span&gt;
+   whose &lt;span title=&quot;the drag data item kind&quot;&gt;kind&lt;/span&gt; is &lt;i&gt;Plain
+   Unicode string&lt;/i&gt;, whose &lt;span title=&quot;the drag data item type
+   string&quot;&gt;type string&lt;/span&gt; is equal to &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;,
+   and whose data is the string given by the method's second
+   argument.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
   &lt;p&gt;The &lt;dfn title=&quot;dom-DataTransfer-getData&quot;&gt;&lt;code&gt;getData(&lt;var
-  title=&quot;&quot;&gt;format&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the data that
-  is associated with the type &lt;var title=&quot;&quot;&gt;format&lt;/var&gt;
-  &lt;span&gt;converted to ASCII lowercase&lt;/span&gt;, if any, and must return
-  the empty string otherwise. If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after
-  conversion to lowercase) is the value &quot;&lt;code title=&quot;&quot;&gt;text&lt;/code&gt;&quot;,
-  then it must be treated as &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;. If
-  the &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; (after conversion to lowercase) is
-  &quot;&lt;code title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, then the data associated with the
-  &quot;&lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot; format must be parsed as
-  appropriate for &lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt; data, and the
-  first URL from the list must be returned. If there is no data with
-  that format, or if there is but it has no URLs, then the method must
-  return the empty string. &lt;a href=&quot;#refsRFC2483&quot;&gt;[RFC2483]&lt;/a&gt;&lt;/p&gt;
+  title=&quot;&quot;&gt;format&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
+  must run the following steps:&lt;/p&gt;
 
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;DataTransfer&lt;/code&gt; object is no longer
+   associated with a &lt;span&gt;drag data store&lt;/span&gt;, abort these steps.
+   Nothing happens.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;drag data store&lt;/span&gt;'s &lt;span title=&quot;drag data
+   store mode&quot;&gt;mode&lt;/span&gt; is in the &lt;span
+   title=&quot;concept-dnd-p&quot;&gt;protected mode&lt;/span&gt;, abort these steps.
+   Nothing happens.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; be the first argument,
+   &lt;span&gt;converted to ASCII lowercase&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;convert-to-URL&lt;/var&gt; be false.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code
+   title=&quot;&quot;&gt;text&lt;/code&gt;&quot;, change it to &quot;&lt;code
+   title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;format&lt;/var&gt; equals &quot;&lt;code
+   title=&quot;&quot;&gt;url&lt;/code&gt;&quot;, change it to &quot;&lt;code
+   title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;&quot; and set &lt;var
+   title=&quot;&quot;&gt;convert-to-URL&lt;/var&gt; to true.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If there is no item in the &lt;span&gt;drag data store item
+   list&lt;/span&gt; whose &lt;span title=&quot;the drag data item kind&quot;&gt;kind&lt;/span&gt;
+   is &lt;i&gt;Plain Unicode string&lt;/i&gt; and whose &lt;span title=&quot;the drag data
+   item type string&quot;&gt;type string&lt;/span&gt; is equal to &lt;var
+   title=&quot;&quot;&gt;format&lt;/var&gt;, return the empty string and abort these
+   steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; be the data of the first item
+   to the &lt;span&gt;drag data store item list&lt;/span&gt; whose &lt;span
+   title=&quot;the drag data item kind&quot;&gt;kind&lt;/span&gt; is &lt;i&gt;Plain Unicode
+   string&lt;/i&gt; and whose &lt;span title=&quot;the drag data item type
+   string&quot;&gt;type string&lt;/span&gt; is equal to &lt;var
+   title=&quot;&quot;&gt;format&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;convert-to-URL&lt;/var&gt; is true, then parse
+   &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; as appropriate for &lt;code
+   title=&quot;&quot;&gt;text/uri-list&lt;/code&gt; data, and then set &lt;var
+   title=&quot;&quot;&gt;result&lt;/var&gt; to the first URL from the list, if any, or
+   the empty string otherwise. &lt;a
+   href=&quot;#refsRFC2483&quot;&gt;[RFC2483]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
   &lt;p&gt;The &lt;dfn title=&quot;dom-DataTransfer-files&quot;&gt;&lt;code&gt;files&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the &lt;code&gt;FileList&lt;/code&gt; object that contains
-  the files that are stored in the &lt;code&gt;DataTransfer&lt;/code&gt;
-  object. There is one such object per &lt;code&gt;DataTransfer&lt;/code&gt;
-  object.&lt;/p&gt;
+  attribute must return a &lt;span&gt;live&lt;/span&gt; &lt;code&gt;FileList&lt;/code&gt;
+  sequence consisting of &lt;code&gt;File&lt;/code&gt; objects representing the
+  files found by the following steps. The same object must be returned
+  each time. Furthermore, for a given &lt;code&gt;FileList&lt;/code&gt; object and
+  a given underlying file, the same &lt;code&gt;File&lt;/code&gt; object must be
+  used each time.&lt;/p&gt;
 
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Start with an empty list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;DataTransfer&lt;/code&gt; object is no longer
+   associated with a &lt;span&gt;drag data store&lt;/span&gt;, the
+   &lt;code&gt;FileList&lt;/code&gt; is empty. Abort these steps; return the
+   empty list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;For each item in the &lt;span&gt;drag data store item list&lt;/span&gt;
+   &lt;!-- in some order...? --&gt; whose &lt;span title=&quot;the drag data item
+   kind&quot;&gt;kind&lt;/span&gt; is &lt;i&gt;File&lt;/i&gt; (not &lt;i&gt;Blob&lt;/i&gt;), add the item's
+   data (the file, in particular its name and contents, as well as its
+   &lt;span title=&quot;the drag data item type string&quot;&gt;type&lt;/span&gt;) to the
+   list &lt;var title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;!-- &lt;li&gt;&lt;p&gt;Sort the list...?&lt;/p&gt;&lt;/li&gt; --&gt;
+
+   &lt;li&gt;&lt;p&gt;The files found by these steps are those in the list &lt;var
+   title=&quot;&quot;&gt;L&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
   &lt;p class=&quot;note&quot;&gt;This version of the API does not expose the types of
   the files during the drag.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-DataTransfer-setDragImage&quot;&gt;&lt;code&gt;setDragImage(&lt;var
   title=&quot;&quot;&gt;element&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method sets which element to use &lt;a
-  href=&quot;#base-dnd-feedback&quot;&gt;to generate the drag feedback&lt;/a&gt;. The
-  &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; argument can be any
-  &lt;code&gt;Element&lt;/code&gt;; if it is an &lt;code&gt;img&lt;/code&gt; element, then the
-  user agent should use the element's image (at its intrinsic size) to
-  generate the feedback, otherwise the user agent should base the
-  feedback on the given element (but the exact mechanism for doing so
-  is not specified).&lt;/p&gt;
+  title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
+  steps:&lt;/p&gt;
 
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;DataTransfer&lt;/code&gt; object is no longer
+   associated with a &lt;span&gt;drag data store&lt;/span&gt;, abort these steps.
+   Nothing happens.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;drag data store&lt;/span&gt;'s &lt;span title=&quot;drag data
+   store mode&quot;&gt;mode&lt;/span&gt; is not in the &lt;span
+   title=&quot;concept-dnd-rw&quot;&gt;read/write mode&lt;/span&gt;, abort these steps.
+   Nothing happens.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; argument is an
+   &lt;code&gt;img&lt;/code&gt; element, then set the &lt;span&gt;drag data store
+   bitmap&lt;/span&gt; to the element's image (at its intrinsic size);
+   otherwise, set the &lt;span&gt;drag data store bitmap&lt;/span&gt; to an image
+   generated from the given element (the exact mechanism for doing so
+   is not currently specified).&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the &lt;span&gt;drag data store hot spot&lt;/span&gt; to the given
+   &lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; coordinate.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-DataTransfer-addElement&quot;&gt;&lt;code&gt;addElement(&lt;var
   title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method is an alternative way of
   specifying how the user agent is to &lt;a
-  href=&quot;#base-dnd-feedback&quot;&gt;render the drag feedback&lt;/a&gt;. It adds an
-  element to the &lt;code&gt;DataTransfer&lt;/code&gt; object.&lt;/p&gt;
+  href=&quot;#base-dnd-feedback&quot;&gt;render the drag feedback&lt;/a&gt;. The method
+  must run the following steps:&lt;/p&gt;
 
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code&gt;DataTransfer&lt;/code&gt; object is no longer
+   associated with a &lt;span&gt;drag data store&lt;/span&gt;, abort these steps.
+   Nothing happens.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;drag data store&lt;/span&gt;'s &lt;span title=&quot;drag data
+   store mode&quot;&gt;mode&lt;/span&gt; is not in the &lt;span
+   title=&quot;concept-dnd-rw&quot;&gt;read/write mode&lt;/span&gt;, abort these steps.
+   Nothing happens.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Add the given &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; to the element's
+   &lt;span&gt;drag data store elements list&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
   &lt;p class=&quot;note&quot;&gt;The difference between &lt;code
   title=&quot;dom-DataTransfer-setDragImage&quot;&gt;setDragImage()&lt;/code&gt; and
   &lt;code title=&quot;dom-DataTransfer-addElement&quot;&gt;addElement()&lt;/code&gt; is
   that the latter automatically generates the image based on the
-  current rendering of the elements added, whereas the former uses the
-  exact specified image.&lt;/p&gt;
+  current rendering of the elements added (potentially keeping it
+  updated as the drag continues, e.g. if the elements include an
+  actively playing video), whereas the former uses the exact specified
+  image at the time the method is invoked.&lt;/p&gt;
 
   &lt;/div&gt;
 
 
-  &lt;h4 id=&quot;dndevents&quot;&gt;Events fired during a drag-and-drop action&lt;/h4&gt;
 
-  &lt;p&gt;The following events are involved in the drag-and-drop
-  model.&lt;/p&gt;
+  &lt;h4&gt;The &lt;code&gt;DragEvent&lt;/code&gt; interface&lt;/h4&gt;
 
+  &lt;p&gt;The drag-and-drop processing model involves several events. They
+  all use the &lt;code&gt;DragEvent&lt;/code&gt; interface.&lt;/p&gt;
+
+  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;DragEvent&lt;/dfn&gt; : &lt;span&gt;MouseEvent&lt;/span&gt; {
+  readonly attribute &lt;span&gt;DataTransfer&lt;/span&gt; &lt;span title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/span&gt;;
+
+  void &lt;span title=&quot;dom-DragEvent-initDragEvent&quot;&gt;initDragEvent&lt;/span&gt;(in DOMString typeArg, in boolean canBubbleArg, in boolean cancelableArg, in any dummyArg&lt;!-- used to be viewArg, back when we had views --&gt;, in long detailArg, in long screenXArg, in long screenYArg, in long clientXArg, in long clientYArg, in boolean ctrlKeyArg, in boolean altKeyArg, in boolean shiftKeyArg, in boolean metaKeyArg, in unsigned short buttonArg, in EventTarget relatedTargetArg, in &lt;span&gt;DataTransfer&lt;/span&gt; dataTransferArg);
+};&lt;/pre&gt;
+
+  &lt;dl class=&quot;domintro&quot;&gt;
+
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;event&lt;/var&gt; . &lt;code title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Returns the &lt;code&gt;DataTransfer&lt;/code&gt; object for the event.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;
+
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;Whenever the processing model described below causes one of these
-  events to be fired, the event fired must use the
-  &lt;code&gt;DragEvent&lt;/code&gt; interface defined above, must have the
-  bubbling and cancelable behaviors given in the table below, and must
-  have the context information set up as described after the table,
-  with the &lt;code title=&quot;dom-UIEvent-detail&quot;&gt;detail&lt;/code&gt; attribute
-  set to zero, the mouse and key attributes set according to the state
-  of the input devices as they would be for user interaction events,
-  and the &lt;code title=&quot;&quot;&gt;relatedTarget&lt;/code&gt; attribute set to
-  null.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-DragEvent-initDragEvent&quot;&gt;&lt;code&gt;initDragEvent()&lt;/code&gt;&lt;/dfn&gt;
+  method must initialize the event in a manner analogous to the
+  similarly-named method in the DOM Events interfaces, except that the
+  &lt;var title=&quot;&quot;&gt;dummyArg&lt;/var&gt; argument must be ignored. &lt;a
+  href=&quot;#refsDOMEVENTS&quot;&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p&gt;If there is no relevant pointing device, the object must have its
-  &lt;code title=&quot;&quot;&gt;screenX&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;screenY&lt;/code&gt;, &lt;code
-  title=&quot;&quot;&gt;clientX&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;clientY&lt;/code&gt;, and &lt;code
-  title=&quot;&quot;&gt;button&lt;/code&gt; attributes set to 0.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-DragEvent-dataTransfer&quot;&gt;&lt;code&gt;dataTransfer&lt;/code&gt;&lt;/dfn&gt;
+  attribute of the &lt;code&gt;DragEvent&lt;/code&gt; interface represents the
+  context information for the event.&lt;/p&gt;
 
-  &lt;!-- interaction event spec point --&gt;
-
   &lt;/div&gt;
 
-  &lt;table&gt;
+  &lt;div class=&quot;impl&quot;&gt;
 
-   &lt;thead&gt;
-    &lt;tr&gt;
-     &lt;th&gt; Event Name &lt;/th&gt;
-     &lt;th&gt; Target &lt;/th&gt;
-     &lt;th&gt; Bubbles? &lt;/th&gt;
-     &lt;th&gt; Cancelable? &lt;/th&gt;
-     &lt;th&gt; &lt;code title=&quot;dom-DataTransfer-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt; &lt;/th&gt;
-     &lt;th&gt; &lt;code title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/code&gt; &lt;/th&gt;
-     &lt;th&gt; &lt;code title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/code&gt; &lt;/th&gt;
-     &lt;th&gt; Default Action &lt;/th&gt;
-    &lt;/tr&gt;
-   &lt;/thead&gt;
+  &lt;p&gt;When a user agent is required to &lt;dfn&gt;fire a DND event&lt;/dfn&gt;
+  named &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; at an element, using a particular
+  &lt;span&gt;drag data store&lt;/span&gt;, the user agent must run the following
+  steps:&lt;/p&gt;
 
-   &lt;tbody&gt;
+  &lt;ol&gt;
 
-    &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;event-dragstart&quot;&gt;&lt;code&gt;dragstart&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;span&gt;Source node&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt;
-     &lt;td&gt;&amp;#x2713; Cancelable&lt;/td&gt;
-     &lt;td&gt;Contains &lt;span&gt;source node&lt;/span&gt; unless a selection is being dragged, in which case it is empty; &lt;code title=&quot;dom-datatransfer-files&quot;&gt;files&lt;/code&gt; returns any files included in the drag operation&lt;/td&gt;
-     &lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;Initiate the drag-and-drop operation&lt;/td&gt;
-    &lt;/tr&gt;
+   &lt;li&gt;
 
-    &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;event-drag&quot;&gt;&lt;code&gt;drag&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;span&gt;Source node&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt;
-     &lt;td&gt;&amp;#x2713; Cancelable&lt;/td&gt;
-     &lt;td&gt;Empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=&quot;#effectAllowed-initialization&quot;&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;Continue the drag-and-drop operation&lt;/td&gt;
-    &lt;/tr&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code
+    title=&quot;event-dragstart&quot;&gt;dragstart&lt;/code&gt;, set the &lt;span&gt;drag data
+    store mode&lt;/span&gt; to the &lt;span title=&quot;concept-dnd-rw&quot;&gt;read/write
+    mode&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;event-dragenter&quot;&gt;&lt;code&gt;dragenter&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;span&gt;Immediate user selection&lt;/span&gt; or &lt;span&gt;the body element&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt;
-     &lt;td&gt;&amp;#x2713; Cancelable&lt;/td&gt;
-     &lt;td&gt;Empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=&quot;#effectAllowed-initialization&quot;&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=&quot;#dropEffect-initialization&quot;&gt;Based on &lt;code&gt;effectAllowed&lt;/code&gt; value&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;Reject &lt;span&gt;immediate user selection&lt;/span&gt; as potential &lt;span title=&quot;current target element&quot;&gt;target element&lt;/span&gt;&lt;/td&gt;
-    &lt;/tr&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code
+    title=&quot;event-drop&quot;&gt;drop&lt;/code&gt;, set the &lt;span&gt;drag data store
+    mode&lt;/span&gt; to the &lt;span title=&quot;concept-dnd-ro&quot;&gt;read-only
+    mode&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;event-dragleave&quot;&gt;&lt;code&gt;dragleave&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;span title=&quot;current target element&quot;&gt;Previous target element&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt;
-     &lt;td&gt;&mdash;&lt;/td&gt;
-     &lt;td&gt;Empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=&quot;#effectAllowed-initialization&quot;&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&lt;/td&gt;
-     &lt;td&gt;None&lt;/td&gt;
-    &lt;/tr&gt;
+   &lt;/li&gt;
 
-    &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;event-dragover&quot;&gt;&lt;code&gt;dragover&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;span&gt;Current target element&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt;
-     &lt;td&gt;&amp;#x2713; Cancelable&lt;/td&gt;
-     &lt;td&gt;Empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=&quot;#effectAllowed-initialization&quot;&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;a href=&quot;#dropEffect-initialization&quot;&gt;Based on &lt;code&gt;effectAllowed&lt;/code&gt; value&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;Reset the &lt;span&gt;current drag operation&lt;/span&gt; to &quot;none&quot;&lt;/td&gt;
-    &lt;/tr&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;dataTransfer&lt;/var&gt; be a newly created
+   &lt;code&gt;DataTransfer&lt;/code&gt; object associated with the given
+   &lt;span&gt;drag data store&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-    &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;event-drop&quot;&gt;&lt;code&gt;drop&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;span&gt;Current target element&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt;
-     &lt;td&gt;&amp;#x2713; Cancelable&lt;/td&gt;
-     &lt;td&gt;&lt;code title=&quot;dom-datatransfer-getdata&quot;&gt;getData()&lt;/code&gt; returns data set in &lt;code title=&quot;dom-dragstart&quot;&gt;dragstart&lt;/code&gt; event; &lt;code title=&quot;dom-datatransfer-files&quot;&gt;files&lt;/code&gt; returns any files included in the drag operation&lt;/td&gt;
-     &lt;td&gt;&lt;a href=&quot;#effectAllowed-initialization&quot;&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;span&gt;Current drag operation&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;Varies&lt;/td&gt;
-    &lt;/tr&gt;
+   &lt;li&gt;&lt;p id=&quot;effectAllowed-initialization&quot;&gt;Set the &lt;code
+   title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/code&gt;
+   attribute to the &lt;span&gt;drag data store&lt;/span&gt;'s &lt;span&gt;drag data
+   store allowed effects state&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-    &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;event-dragend&quot;&gt;&lt;code&gt;dragend&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;span&gt;Source node&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt;
-     &lt;td&gt;&mdash;&lt;/td&gt;
-     &lt;td&gt;Empty&lt;/td&gt;
-     &lt;td&gt;&lt;a href=&quot;#effectAllowed-initialization&quot;&gt;Same as last event&lt;/a&gt;&lt;/td&gt;
-     &lt;td&gt;&lt;span&gt;Current drag operation&lt;/span&gt;&lt;/td&gt;
-     &lt;td&gt;Varies&lt;/td&gt;
-    &lt;/tr&gt;
+   &lt;li&gt;
 
-   &lt;/tbody&gt;
+    &lt;p id=&quot;dropEffect-initialization&quot;&gt;Set the &lt;code
+    title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/code&gt; attribute to
+    &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot; if &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code
+    title=&quot;event-dragstart&quot;&gt;dragstart&lt;/code&gt;, &lt;code
+    title=&quot;event-drag&quot;&gt;drag&lt;/code&gt;, or &lt;code
+    title=&quot;event-dragleave&quot;&gt;dragleave&lt;/code&gt;; to the value
+    corresponding to the &lt;span&gt;current drag operation&lt;/span&gt; if &lt;var
+    title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code title=&quot;event-drop&quot;&gt;drop&lt;/code&gt; or &lt;code
+    title=&quot;event-dragend&quot;&gt;dragend&lt;/code&gt;; and to a value based on the
+    &lt;code title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/code&gt;
+    attribute's value and to the drag-and-drop source, as given by the
+    following table, otherwise (i.e. if &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code
+    title=&quot;event-dragenter&quot;&gt;dragenter&lt;/code&gt; or &lt;code
+    title=&quot;event-dragover&quot;&gt;dragover&lt;/code&gt;):&lt;/p&gt;
 
-  &lt;/table&gt;
+    &lt;table&gt;
+     &lt;thead&gt;
+      &lt;tr&gt;
+       &lt;th&gt;&lt;code title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/code&gt;&lt;/th&gt;
+       &lt;th&gt;&lt;code title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/code&gt;&lt;/th&gt;
+      &lt;/tr&gt;
+     &lt;/thead&gt;
+     &lt;tr&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;/tr&gt;
+     &lt;tr&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;/tr&gt;
+     &lt;tr&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&quot;&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;/tr&gt;
+     &lt;tr&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;/tr&gt;
+     &lt;tr&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot; when what is being dragged is a selection from a text field&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;/tr&gt;
+     &lt;tr&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot; when what is being dragged is a selection&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;/tr&gt;
+     &lt;tr&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot; when what is being dragged is an &lt;code&gt;a&lt;/code&gt; element with an &lt;code&gt;href&lt;/code&gt; attribute&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;/tr&gt;
+     &lt;tr&gt;
+      &lt;td&gt;Any other case&lt;/td&gt;
+      &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;/tr&gt;
+    &lt;/table&gt;
 
-  &lt;p class=&quot;note&quot;&gt;&quot;Empty&quot; in the table above means that the &lt;code
-  title=&quot;dom-datatransfer-getdata&quot;&gt;getData()&lt;/code&gt; and &lt;code
-  title=&quot;dom-dataTransfer-files&quot;&gt;files&lt;/code&gt; attributes act as if
-  there is no data being dragged.&lt;/p&gt;
+   &lt;/li&gt;
 
-  &lt;div class=&quot;impl&quot;&gt;
+   &lt;li&gt;
 
-  &lt;p&gt;The &lt;code title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt;
-  object's contents are empty (the &lt;code
-  title=&quot;dom-datatransfer-getdata&quot;&gt;getData()&lt;/code&gt; and &lt;code
-  title=&quot;dom-dataTransfer-files&quot;&gt;files&lt;/code&gt; attributes act as if
-  there is no data being dragged) except for &lt;code
-  title=&quot;event-dragstart&quot;&gt;dragstart&lt;/code&gt; events and &lt;code
-  title=&quot;event-drop&quot;&gt;drop&lt;/code&gt; events, for which the contents are
-  set as described in the processing model, below.&lt;/p&gt;
+    &lt;p&gt;Create a &lt;code&gt;DragEvent&lt;/code&gt; object and initialize it to
+    have the given name &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;, to bubble, to be
+    cancelable unless &lt;var title=&quot;&quot;&gt;e&lt;/var&gt; is &lt;code
+    title=&quot;event-dragleave&quot;&gt;dragleave&lt;/code&gt; or &lt;code
+    title=&quot;event-dragend&quot;&gt;dragend&lt;/code&gt;, and to have the &lt;code
+    title=&quot;dom-UIEvent-detail&quot;&gt;detail&lt;/code&gt; attribute set to zero,
+    the mouse and key attributes set according to the state of the
+    input devices as they would be for user interaction events, the
+    &lt;code title=&quot;&quot;&gt;relatedTarget&lt;/code&gt; attribute set to null, and the
+    &lt;code title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt;
+    attribute set to &lt;var title=&quot;&quot;&gt;dataTransfer&lt;/var&gt;, the
+    &lt;code&gt;DataTransfer&lt;/code&gt; object created above.&lt;/p&gt;
 
-  &lt;p id=&quot;effectAllowed-initialization&quot;&gt;The &lt;code
-  title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/code&gt;
-  attribute must be set to &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot; for
-  &lt;code title=&quot;event-dragstart&quot;&gt;dragstart&lt;/code&gt; events, and to
-  whatever value the field had after the last drag-and-drop event was
-  fired for all other events (only counting events fired by the user
-  agent for the purposes of the drag-and-drop model described
-  below).&lt;/p&gt;
+    &lt;!-- interaction event spec point --&gt;
 
-  &lt;p id=&quot;dropEffect-initialization&quot;&gt;The &lt;code
-  title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/code&gt; attribute must
-  be set to &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot; for &lt;code
-  title=&quot;event-dragstart&quot;&gt;dragstart&lt;/code&gt;, &lt;code
-  title=&quot;event-drag&quot;&gt;drag&lt;/code&gt;, and &lt;code
-  title=&quot;event-dragleave&quot;&gt;dragleave&lt;/code&gt; events (except when stated
-  otherwise in the algorithms given in the sections below), to the
-  value corresponding to the &lt;span&gt;current drag operation&lt;/span&gt; for
-  &lt;code title=&quot;event-drop&quot;&gt;drop&lt;/code&gt; and &lt;code
-  title=&quot;event-dragend&quot;&gt;dragend&lt;/code&gt; events, and to a value based on
-  the &lt;code
-  title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/code&gt;
-  attribute's value and to the drag-and-drop source, as given by the
-  following table, for the remaining events (&lt;code
-  title=&quot;event-dragenter&quot;&gt;dragenter&lt;/code&gt; and &lt;code
-  title=&quot;event-dragover&quot;&gt;dragover&lt;/code&gt;):&lt;/p&gt;
+    &lt;p&gt;If there is no relevant pointing device, the object must have
+    its &lt;code title=&quot;&quot;&gt;screenX&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;screenY&lt;/code&gt;,
+    &lt;code title=&quot;&quot;&gt;clientX&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;clientY&lt;/code&gt;, and
+    &lt;code title=&quot;&quot;&gt;button&lt;/code&gt; attributes set to 0.&lt;/p&gt;
 
-  &lt;table&gt;
-   &lt;thead&gt;
-    &lt;tr&gt;
-     &lt;th&gt;&lt;code title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/code&gt;&lt;/th&gt;
-     &lt;th&gt;&lt;code title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/code&gt;&lt;/th&gt;
-    &lt;/tr&gt;
-   &lt;/thead&gt;
-   &lt;tr&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&lt;/td&gt;
-   &lt;/tr&gt;
-   &lt;tr&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&lt;/td&gt;
-   &lt;/tr&gt;
-   &lt;tr&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&lt;/td&gt;
-   &lt;/tr&gt;
-   &lt;tr&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&lt;/td&gt;
-   &lt;/tr&gt;
-   &lt;tr&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt; when what is being dragged is a selection from a text field&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&lt;/td&gt;
-   &lt;/tr&gt;
-   &lt;tr&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt; when what is being dragged is a selection&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&lt;/td&gt;
-   &lt;/tr&gt;
-   &lt;tr&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt; when what is being dragged is an &lt;code&gt;a&lt;/code&gt; element with an &lt;code&gt;href&lt;/code&gt; attribute&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&lt;/td&gt;
-   &lt;/tr&gt;
-   &lt;tr&gt;
-    &lt;td&gt;Any other case&lt;/td&gt;
-    &lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&lt;/td&gt;
-   &lt;/tr&gt;
-  &lt;/table&gt;
+   &lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Dispatch the newly created &lt;code&gt;DragEvent&lt;/code&gt; object at
+   the specified target element.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the &lt;span&gt;drag data store allowed effects state&lt;/span&gt;
+   to the current value of &lt;var title=&quot;&quot;&gt;dataTransfer&lt;/var&gt;'s &lt;code
+   title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/code&gt;
+   attribute.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Set the &lt;span&gt;drag data store mode&lt;/span&gt; back to the &lt;span
+   title=&quot;concept-dnd-p&quot;&gt;protected mode&lt;/span&gt; if it was changed in
+   the first step.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
   &lt;/div&gt;
 
 
@@ -75727,98 +75870,150 @@
   &lt;h4&gt;Drag-and-drop processing model&lt;/h4&gt;
 
   &lt;p&gt;When the user attempts to begin a drag operation, the user agent
-  must first determine what is being dragged. If the drag operation
-  was invoked on a selection, then it is the selection that is being
-  dragged. Otherwise, it is the first element, going up the ancestor
-  chain, starting at the node that the user tried to drag, that has
-  the IDL attribute &lt;code title=&quot;dom-draggable&quot;&gt;draggable&lt;/code&gt; set
-  to true. If there is no such element, then nothing is being dragged,
-  the drag-and-drop operation is never started, and the user agent
-  must not continue with this algorithm.&lt;/p&gt;
+  must run the following steps. User agents must act as if these steps
+  were run even if the drag actually started in another document or
+  application and the user agent was not aware that the drag was
+  occuring until it intersected with a document under the user agent's
+  purview.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;&lt;code&gt;img&lt;/code&gt; elements and &lt;code&gt;a&lt;/code&gt;
-  elements with an &lt;code title=&quot;attr-hyperlink-href&quot;&gt;href&lt;/code&gt;
-  attribute have their &lt;code title=&quot;dom-draggable&quot;&gt;draggable&lt;/code&gt;
-  attribute set to true by default.&lt;/p&gt;
+  &lt;ol&gt;
 
-  &lt;p&gt;If the user agent determines that something can be dragged, a
-  &lt;code title=&quot;event-dragstart&quot;&gt;dragstart&lt;/code&gt; event must then be
-  fired at the &lt;span&gt;source node&lt;/span&gt;.&lt;/p&gt;
+   &lt;li&gt;
 
-  &lt;p&gt;The &lt;dfn&gt;source node&lt;/dfn&gt; depends on the kind of drag and how it
-  was initiated. If it is a selection that is being dragged, then the
-  &lt;span&gt;source node&lt;/span&gt; is the text node that the user started the
-  drag on (typically the text node that the user originally
-  clicked). If the user did not specify a particular node, for example
-  if the user just told the user agent to begin a drag of &quot;the
-  selection&quot;, then the &lt;span&gt;source node&lt;/span&gt; is the first text node
-  containing a part of the selection. If it is not a selection that is
-  being dragged, then the &lt;span&gt;source node&lt;/span&gt; is the element that
-  is being dragged.&lt;/p&gt;
+    &lt;p&gt;Determine what is being dragged, as follows:&lt;/p&gt;
 
-  &lt;p&gt;Multiple events are fired on the &lt;span&gt;source node&lt;/span&gt; during
-  the course of the drag-and-drop operation.&lt;/p&gt;
+    &lt;p&gt;If the drag operation was invoked on a selection, then it is
+    the selection that is being dragged.&lt;/p&gt;
 
-  &lt;hr&gt;
+    &lt;p&gt;Otherwise, if the drag operation was invoked on a
+    &lt;code&gt;Document&lt;/code&gt;, it is the first element, going up the
+    ancestor chain, starting at the node that the user tried to drag,
+    that has the IDL attribute &lt;code
+    title=&quot;dom-draggable&quot;&gt;draggable&lt;/code&gt; set to true. If there is no
+    such element, then nothing is being dragged; abort these steps,
+    the drag-and-drop operation is never started.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn&gt;list of dragged nodes&lt;/dfn&gt; also depends on the kind of
-  drag. If it is a selection that is being dragged, then the
-  &lt;span&gt;list of dragged nodes&lt;/span&gt; contains, in &lt;span&gt;tree
-  order&lt;/span&gt;, every node that is partially or completely included in
-  the selection (including all their ancestors). Otherwise, the
-  &lt;span&gt;list of dragged nodes&lt;/span&gt; contains only the &lt;span&gt;source
-  node&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Otherwise, the drag operation was invoked outside the user
+    agent's purview. What is being dragged is defined by the document
+    or application where the drag was started.&lt;/p&gt;
 
-  &lt;hr&gt;
+    &lt;p class=&quot;note&quot;&gt;&lt;code&gt;img&lt;/code&gt; elements and &lt;code&gt;a&lt;/code&gt;
+    elements with an &lt;code title=&quot;attr-hyperlink-href&quot;&gt;href&lt;/code&gt;
+    attribute have their &lt;code title=&quot;dom-draggable&quot;&gt;draggable&lt;/code&gt;
+    attribute set to true by default.&lt;/p&gt;
 
-  &lt;p&gt;If it is a selection that is being dragged, the &lt;code
-  title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt; member of the
-  event must be created with no nodes. Otherwise, it must be created
-  containing just the &lt;span&gt;source node&lt;/span&gt;. Script can use the
-  &lt;code title=&quot;dom-DataTransfer-addElement&quot;&gt;addElement()&lt;/code&gt; method
-  to add further elements to the list of what is being dragged. (This
-  list is only used for rendering the drag feedback.)&lt;/p&gt;
+   &lt;/li&gt;
 
-  &lt;p&gt;The &lt;code title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt;
-  member of the event also has data added to it, as follows:&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Create a drag data store&lt;/span&gt;. All the DND events
+   fired subsequently by this algorithm must use this &lt;span&gt;drag data
+   store&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-  &lt;ul&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;Establish which DOM node is the &lt;dfn&gt;source node&lt;/dfn&gt;, as
+    follows:&lt;/p&gt;
+
+    &lt;p&gt;If it is a selection that is being dragged, then the
+    &lt;span&gt;source node&lt;/span&gt; is the text node that the user started
+    the drag on (typically the text node that the user originally
+    clicked). If the user did not specify a particular node, for
+    example if the user just told the user agent to begin a drag of
+    &quot;the selection&quot;, then the &lt;span&gt;source node&lt;/span&gt; is the first
+    text node containing a part of the selection.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if it is an element that is being dragged, then the
+    &lt;span&gt;source node&lt;/span&gt; is the element that is being dragged.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, the &lt;span&gt;source node&lt;/span&gt; is part of another
+    document or application, and user agents must not actually fire
+    events at it when this algorithm requires that they do so.&lt;/p&gt;
+
+    &lt;p class=&quot;note&quot;&gt;Multiple events are fired on the &lt;span&gt;source
+    node&lt;/span&gt; during the course of the drag-and-drop operation.&lt;/p&gt;
+
+   &lt;/li&gt;
+
    &lt;li&gt;
 
-    &lt;p&gt;If it is a selection that is being dragged, then the user agent
-    must add the text of the selection to the &lt;code
-    title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt; member,
-    associated with the &lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt; format.&lt;/p&gt;
+    &lt;p&gt;Determine the &lt;dfn&gt;list of dragged nodes&lt;/dfn&gt;, as follows:&lt;/p&gt;
 
+    &lt;p&gt;If it is a selection that is being dragged, then the &lt;span&gt;list
+    of dragged nodes&lt;/span&gt; contains, in &lt;span&gt;tree order&lt;/span&gt;,
+    every node that is partially or completely included in the
+    selection (including all their ancestors).&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, the &lt;span&gt;list of dragged nodes&lt;/span&gt; contains only
+    the &lt;span&gt;source node&lt;/span&gt;, if any.&lt;/p&gt;
+
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If files are being dragged, then the user agent must add the
-    files to the &lt;code
-    title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt; member's
-    &lt;code title=&quot;dom-datatransfer-files&quot;&gt;files&lt;/code&gt; attribute's
-    &lt;code&gt;FileList&lt;/code&gt; object. (Dragging files can only happen from
+    &lt;p&gt;If it is a selection that is being dragged, then add an item to
+    the &lt;span&gt;drag data store item list&lt;/span&gt;, with its properties
+    set as follows:&lt;/p&gt;
+
+    &lt;dl&gt;
+
+     &lt;dt&gt;&lt;span&gt;The drag data item type string&lt;/span&gt;
+     &lt;dd&gt;&quot;&lt;code&gt;text/plain&lt;/code&gt;&quot;&lt;/dd&gt;
+
+     &lt;dt&gt;&lt;span&gt;The drag data item kind&lt;/span&gt;
+     &lt;dd&gt;&lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dd&gt;
+
+     &lt;dt&gt;The actual data&lt;/dt&gt;
+     &lt;dd&gt;The text of the selection&lt;/dd&gt;
+
+    &lt;/dl&gt;
+
+    &lt;p&gt;Otherwise, if any files are being dragged, then add one item
+    per file to the &lt;span&gt;drag data store item list&lt;/span&gt;, with their
+    properties set as follows:&lt;/p&gt;
+
+    &lt;dl&gt;
+
+     &lt;dt&gt;&lt;span&gt;The drag data item type string&lt;/span&gt;
+     &lt;dd&gt;The MIME type of the file, if known, or &quot;&lt;code&gt;application/octet-stream&lt;/code&gt;&quot; otherwise.&lt;/dd&gt;
+
+     &lt;dt&gt;&lt;span&gt;The drag data item kind&lt;/span&gt;
+     &lt;dd&gt;&lt;i&gt;File&lt;/i&gt;&lt;/dd&gt;
+
+     &lt;dt&gt;The actual data&lt;/dt&gt;
+     &lt;dd&gt;The file's contents and name.&lt;/dd&gt;
+
+    &lt;/dl&gt;
+
+    &lt;p class=&quot;note&quot;&gt;Dragging files can currently only happen from
     outside a &lt;span&gt;browsing context&lt;/span&gt;, for example from a file
-    system manager application, and thus the &lt;code
-    title=&quot;event-dragstart&quot;&gt;dragstart&lt;/code&gt; event is actually implied
-    in this case.)&lt;/p&gt;
+    system manager application.&lt;/p&gt;
 
    &lt;/li&gt;
 
+   &lt;!-- v2: text/html as an export format --&gt;
+
 &lt;!--END w3c-html--&gt;&lt;!--MD--&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;The user agent must take the &lt;span&gt;list of dragged nodes&lt;/span&gt;
-    and &lt;span title=&quot;extracting JSON&quot;&gt;extract the microdata from those
-    nodes into a JSON form&lt;/span&gt;, and then must add the resulting
-    string to the &lt;code
-    title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt; member,
-    associated with the &lt;code
-    title=&quot;&quot;&gt;application/microdata+json&lt;/code&gt; format.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;list of dragged nodes&lt;/span&gt; is not empty, then
+    &lt;span title=&quot;extracting JSON&quot;&gt;extract the microdata from those
+    nodes into a JSON form&lt;/span&gt;, and add one item to the &lt;span&gt;drag
+    data store item list&lt;/span&gt;, with its properties set as
+    follows:&lt;/p&gt;
 
+    &lt;dl&gt;
+
+     &lt;dt&gt;&lt;span&gt;The drag data item type string&lt;/span&gt;
+     &lt;dd&gt;&lt;code&gt;application/microdata+json&lt;/code&gt;&lt;/dd&gt;
+
+     &lt;dt&gt;&lt;span&gt;The drag data item kind&lt;/span&gt;
+     &lt;dd&gt;&lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dd&gt;
+
+     &lt;dt&gt;The actual data&lt;/dt&gt;
+     &lt;dd&gt;The resulting JSON string.&lt;/dd&gt;
+
+    &lt;/dl&gt;
+
    &lt;/li&gt;
 
 &lt;!--END complete--&gt;&lt;!--END epub--&gt;&lt;!--END html--&gt;
@@ -75833,6 +76028,8 @@
 &lt;!--
    &lt;li&gt;
 
+    (if you put this back, don't forget to update this text as above)
+
     &lt;p&gt;The user agent must take the &lt;span&gt;list of dragged nodes&lt;/span&gt;
     and &lt;span title=&quot;extracting a vCard&quot;&gt;extract the vCard data from
     those nodes&lt;/span&gt;, and then must add the resulting string to the
@@ -75844,6 +76041,8 @@
 
    &lt;li&gt;
 
+    (if you put this back, don't forget to update this text as above)
+
     &lt;p&gt;The user agent must take the &lt;span&gt;list of dragged nodes&lt;/span&gt;
     and &lt;span title=&quot;extracting vEvent data&quot;&gt;extract the vEvent data
     from those nodes&lt;/span&gt;, and then must add the resulting string to
@@ -75854,11 +76053,9 @@
    &lt;/li&gt;
 --&gt;
 
-   &lt;!-- v2: text/html --&gt;
-
    &lt;li&gt;
 
-    &lt;p&gt;The user agent must run the following steps:&lt;/p&gt;
+    &lt;p&gt;Run the following substeps:&lt;/p&gt;
 
     &lt;ol&gt;
 
@@ -75873,20 +76070,20 @@
       &lt;dl&gt;
 
        &lt;dt&gt;If the node is an &lt;code&gt;a&lt;/code&gt; element with an &lt;code
-       title=&quot;attr-hyperlink-href&quot;&gt;href&lt;/code&gt;&lt;/dt&gt;
+       title=&quot;attr-hyperlink-href&quot;&gt;href&lt;/code&gt; attribute&lt;/dt&gt;
 
        &lt;dd&gt;Add to &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt; the result of &lt;span
        title=&quot;resolve a url&quot;&gt;resolving&lt;/span&gt; the element's &lt;code
-       title=&quot;attr-hyperlink-href&quot;&gt;href&lt;/code&gt; content attribute relative to
-       the element.&lt;/dd&gt;
+       title=&quot;attr-hyperlink-href&quot;&gt;href&lt;/code&gt; content attribute
+       relative to the element.&lt;/dd&gt;
 
        &lt;dt&gt;If the node is an &lt;code&gt;img&lt;/code&gt; element with an &lt;code
-       title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt;&lt;/dt&gt;
+       title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute&lt;/dt&gt;
 
        &lt;dd&gt;Add to &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt; the result of &lt;span
        title=&quot;resolve a url&quot;&gt;resolving&lt;/span&gt; the element's &lt;code
-       title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; content attribute relative to the
-       element.&lt;/dd&gt;
+       title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; content attribute relative to
+       the element.&lt;/dd&gt;
 
        &lt;!-- v2: more --&gt;
 
@@ -75895,89 +76092,117 @@
      &lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt; is still empty, abort these
-     steps.&lt;/p&gt;&lt;/li&gt;
+     substeps.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;url string&lt;/var&gt; be the result of
      concatenating the strings in &lt;var title=&quot;&quot;&gt;urls&lt;/var&gt;, in the
      order they were added, separated by a U+000D CARRIAGE RETURN
      U+000A LINE FEED character pair (CRLF).&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Add &lt;var title=&quot;&quot;&gt;url string&lt;/var&gt; to the &lt;code
-     title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt; member,
-     associated with the &lt;code title=&quot;&quot;&gt;text/uri-list&lt;/code&gt;
-     format.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Add one item to the &lt;span&gt;drag data store item
+     list&lt;/span&gt;, with its properties set as follows:&lt;/p&gt;
 
+      &lt;dl&gt;
+
+       &lt;dt&gt;&lt;span&gt;The drag data item type string&lt;/span&gt;
+       &lt;dd&gt;&lt;code&gt;text/uri-list&lt;/code&gt;&lt;/dd&gt;
+
+       &lt;dt&gt;&lt;span&gt;The drag data item kind&lt;/span&gt;
+       &lt;dd&gt;&lt;i&gt;Plain Unicode string&lt;/i&gt;&lt;/dd&gt;
+
+       &lt;dt&gt;The actual data&lt;/dt&gt;
+       &lt;dd&gt;&lt;var title=&quot;&quot;&gt;url string&lt;/var&gt;&lt;/dd&gt;
+
+      &lt;/dl&gt;
+
+     &lt;/li&gt;
+
     &lt;/ol&gt;
 
    &lt;/li&gt;
 
-  &lt;/ul&gt;
+   &lt;li&gt;
 
-  &lt;hr&gt;
+    &lt;p&gt;If it is an element that is being dragged, then set the
+    &lt;span&gt;drag data store list of elements&lt;/span&gt; to contain just the
+    &lt;span&gt;source node&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;If the event is canceled, then the drag-and-drop operation must
-  not occur; the user agent must not continue with this algorithm.&lt;/p&gt;
+    &lt;p&gt;Otherwise, update the &lt;span&gt;drag data store default
+    feedback&lt;/span&gt; as appropriate for the user agent (if the user is
+    dragging the selection, then the selection would likely be the
+    basis for this feedback).&lt;/p&gt;
 
-  &lt;p&gt;If it is not canceled, then the drag-and-drop operation must be
-  initiated.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;Script can use the &lt;code
+    title=&quot;dom-DataTransfer-addElement&quot;&gt;addElement()&lt;/code&gt; method to
+    add further elements to the list of what is being dragged. (This
+    list is only used for rendering the drag feedback.)&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;Since events with no event listeners registered are,
-  almost by definition, never canceled, drag-and-drop is always
-  available to the user if the author does not specifically prevent
-  it.&lt;/p&gt;
+   &lt;/li&gt;
 
-  &lt;p id=&quot;base-dnd-feedback&quot;&gt;The drag-and-drop feedback must be
-  generated from the first of the following sources that is
-  available:&lt;/p&gt;
+   &lt;li&gt;
 
-  &lt;ol&gt;
+    &lt;p&gt;&lt;span&gt;Fire a DND event&lt;/span&gt; named &lt;code
+    title=&quot;event-dragstart&quot;&gt;dragstart&lt;/code&gt; at the &lt;span&gt;source
+    node&lt;/span&gt;.&lt;/p&gt;
 
-   &lt;li&gt;The element specified in the last call to the &lt;code
-   title=&quot;dom-DataTransfer-setDragImage&quot;&gt;setDragImage()&lt;/code&gt; method
-   of the &lt;code title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt;
-   object of the &lt;code title=&quot;event-dragstart&quot;&gt;dragstart&lt;/code&gt; event,
-   if the method was called. In visual media, if this is used, the
-   &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; arguments that were
-   passed to that method should be used as hints for where to put the
-   cursor relative to the resulting image. The values are expressed as
-   distances in CSS pixels from the left side and from the top side of
-   the image respectively. &lt;a href=&quot;#refsCSS&quot;&gt;[CSS]&lt;/a&gt;&lt;/li&gt;
+    &lt;p&gt;If the event is canceled, then the drag-and-drop operation
+    should not occur; abort these steps.&lt;/p&gt; &lt;!-- only a should
+    because the UA can always allow the user to drag without the page
+    knowing --&gt;
 
-   &lt;li&gt;The elements that were added to the &lt;code
-   title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt; object, both
-   before the event was fired, and during the handling of the event
-   using the &lt;code
-   title=&quot;dom-DataTransfer-addElement&quot;&gt;addElement()&lt;/code&gt;
-   method, if any such elements were indeed added.&lt;/li&gt;
+    &lt;p class=&quot;note&quot;&gt;Since events with no event listeners registered
+    are, almost by definition, never canceled, drag-and-drop is always
+    available to the user if the author does not specifically prevent
+    it.&lt;/p&gt;
 
-   &lt;li&gt;The selection that the user is dragging.&lt;/li&gt;
+   &lt;/li&gt;
 
+   &lt;li&gt;
+
+    &lt;p&gt;&lt;span&gt;Initiate the drag-and-drop operation&lt;/span&gt; in a manner
+    consistent with platform conventions, and as described below.&lt;/p&gt;
+
+    &lt;p id=&quot;base-dnd-feedback&quot;&gt;The drag-and-drop feedback must be
+    generated from the first of the following sources that is
+    available:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;The &lt;span&gt;drag data store bitmap&lt;/span&gt;, if any. In this
+     case, the &lt;span&gt;drag data store hot spot coordinate&lt;/span&gt; should
+     be used as hints for where to put the cursor relative to the
+     resulting image. The values are expressed as distances in CSS
+     pixels from the left side and from the top side of the image
+     respectively. &lt;a href=&quot;#refsCSS&quot;&gt;[CSS]&lt;/a&gt;&lt;/li&gt;
+
+     &lt;li&gt;The elements in the &lt;span&gt;drag data store element
+     list&lt;/span&gt;, if any.&lt;/li&gt;
+
+     &lt;li&gt;The &lt;span&gt;drag data store default feedback&lt;/span&gt;.&lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
   &lt;/ol&gt;
 
-  &lt;p&gt;The user agent must take a note of &lt;span
-  title=&quot;dom-DataTransfer-setData&quot;&gt;the data that was placed&lt;/span&gt; in
-  the &lt;code title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt;
-  object. This data will be made available again when the &lt;code
-  title=&quot;event-drop&quot;&gt;drop&lt;/code&gt; event is fired.&lt;/p&gt;
-
-  &lt;p&gt;From this point until the end of the drag-and-drop operation,
-  device input events (e.g. mouse and keyboard events) must be
-  suppressed. In addition, the user agent must track all DOM changes
-  made during the drag-and-drop operation, and add them to its &lt;a
-  href=&quot;#undo&quot;&gt;undo history&lt;/a&gt; as one atomic operation once the
+  &lt;p&gt;From the moment that the user agent is to &lt;dfn&gt;initiate the
+  drag-and-drop operation&lt;/dfn&gt;, until the end of the drag-and-drop
+  operation, device input events (e.g. mouse and keyboard events) must
+  be suppressed. In addition, the user agent must track all DOM
+  changes made during the drag-and-drop operation, and add them to its
+  &lt;a href=&quot;#undo&quot;&gt;undo history&lt;/a&gt; as one atomic operation once the
   drag-and-drop operation has ended.&lt;/p&gt;
 
   &lt;p&gt;During the drag operation, the element directly indicated by the
   user as the drop target is called the &lt;dfn&gt;immediate user
   selection&lt;/dfn&gt;. (Only elements can be selected by the user; other
-  nodes must not be made available as drop targets.)
+  nodes must not be made available as drop targets.) However, the
+  &lt;span&gt;immediate user selection&lt;/span&gt; is not necessarily the
+  &lt;dfn&gt;current target element&lt;/dfn&gt;, which is the element currently
+  selected for the drop part of the drag-and-drop operation.&lt;/p&gt;
 
-  However, the &lt;span&gt;immediate user selection&lt;/span&gt; is not
-  necessarily the &lt;dfn&gt;current target element&lt;/dfn&gt;, which is the
-  element currently selected for the drop part of the drag-and-drop
-  operation.
-
-  The &lt;span&gt;immediate user selection&lt;/span&gt; changes as the user
+  &lt;p&gt;The &lt;span&gt;immediate user selection&lt;/span&gt; changes as the user
   selects different elements (either by pointing at them with a
   pointing device, or by selecting them in some other way). The
   &lt;span&gt;current target element&lt;/span&gt; changes when the &lt;span&gt;immediate
@@ -75992,11 +76217,14 @@
   &lt;span&gt;current target element&lt;/span&gt; is initially null.&lt;/p&gt;
 
   &lt;p&gt;In addition, there is also a &lt;dfn&gt;current drag operation&lt;/dfn&gt;,
-  which can take on the values &quot;none&quot;, &quot;copy&quot;, &quot;link&quot;, and &quot;move&quot;.
-  Initially, it has the value &quot;none&quot;. It is updated by the user agent
-  as described in the steps below.&lt;/p&gt;
+  which can take on the values &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;, &quot;&lt;code
+  title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, and &quot;&lt;code
+  title=&quot;&quot;&gt;move&lt;/code&gt;&quot;. Initially, it has the value &quot;&lt;code
+  title=&quot;&quot;&gt;none&lt;/code&gt;&quot;. It is updated by the user agent as described
+  in the steps below.&lt;/p&gt;
 
-  &lt;p&gt;User agents must, as soon as the drag operation is initiated and
+  &lt;p&gt;User agents must, as soon as the drag operation is &lt;span
+  title=&quot;initiate the drag-and-drop operation&quot;&gt;initiated&lt;/span&gt; and
   every 350ms (&amp;#xB1;200ms) thereafter for as long as the drag
   operation is ongoing, &lt;span&gt;queue a task&lt;/span&gt; to perform the
   following steps in sequence:&lt;/p&gt;
@@ -76006,60 +76234,61 @@
    &lt;li&gt;
 
     &lt;p&gt;If the user agent is still performing the previous iteration of
-    the sequence (if any) when the next iteration becomes due, the
-    user agent must not execute the overdue iteration, effectively
-    &quot;skipping missed frames&quot; of the drag-and-drop operation.&lt;/p&gt;
+    the sequence (if any) when the next iteration becomes due, abort
+    these steps for this iteration (effectively &quot;skipping missed
+    frames&quot; of the drag-and-drop operation).&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;The user agent must fire a &lt;code title=&quot;event-drag&quot;&gt;drag&lt;/code&gt;
-    event at the &lt;span&gt;source node&lt;/span&gt;. If this event is canceled,
-    the user agent must set the &lt;span&gt;current drag operation&lt;/span&gt; to
-    none (no drag operation).&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Fire a DND event&lt;/span&gt; named &lt;code
+    title=&quot;event-drag&quot;&gt;drag&lt;/code&gt; event at the &lt;span&gt;source
+    node&lt;/span&gt;. If this event is canceled, the user agent must set
+    the &lt;span&gt;current drag operation&lt;/span&gt; to &quot;&lt;code
+    title=&quot;&quot;&gt;none&lt;/code&gt;&quot; (no drag operation).&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Next, if the &lt;code title=&quot;event-drag&quot;&gt;drag&lt;/code&gt; event was not
+    &lt;p&gt;If the &lt;code title=&quot;event-drag&quot;&gt;drag&lt;/code&gt; event was not
     canceled and the user has not ended the drag-and-drop operation,
-    the user agent must check the state of the drag-and-drop
-    operation, as follows:&lt;/p&gt;
+    check the state of the drag-and-drop operation, as follows:&lt;/p&gt;
 
     &lt;ol&gt;
 
      &lt;li&gt;
 
-      &lt;p&gt;First, if the user is indicating a different &lt;span&gt;immediate
-      user selection&lt;/span&gt; than during the last iteration (or if this
-      is the first iteration), and if this &lt;span&gt;immediate user
+      &lt;p&gt;If the user is indicating a different &lt;span&gt;immediate user
+      selection&lt;/span&gt; than during the last iteration (or if this is
+      the first iteration), and if this &lt;span&gt;immediate user
       selection&lt;/span&gt; is not the same as the &lt;span&gt;current target
-      element&lt;/span&gt;, then the &lt;span&gt;current target element&lt;/span&gt; must
-      be updated, as follows:&lt;/p&gt;
+      element&lt;/span&gt;, then update the &lt;span&gt;current target
+      element&lt;/span&gt; as follows:&lt;/p&gt;
 
       &lt;dl class=&quot;switch&quot;&gt;
 
        &lt;dt&gt;If the new &lt;span&gt;immediate user selection&lt;/span&gt; is null, or
        is in a non-DOM document or application&lt;/dt&gt;
 
-       &lt;dd&gt;&lt;p&gt;The user agent must set the &lt;span&gt;current target
-       element&lt;/span&gt; to the same value.&lt;/p&gt;&lt;/dd&gt;
+       &lt;dd&gt;&lt;p&gt;Set the &lt;span&gt;current target element&lt;/span&gt; to the same
+       value.&lt;/p&gt;&lt;/dd&gt;
 
        &lt;dt&gt;Otherwise&lt;/dt&gt;
 
        &lt;dd&gt;
 
-        &lt;p&gt;The user agent must fire a &lt;code
-        title=&quot;event-dragenter&quot;&gt;dragenter&lt;/code&gt; event at the
+        &lt;p&gt;&lt;span&gt;Fire a DND event&lt;/span&gt; named &lt;code
+        title=&quot;event-dragenter&quot;&gt;dragenter&lt;/code&gt; at the
         &lt;span&gt;immediate user selection&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;If the event is canceled, then the &lt;span&gt;current target
-        element&lt;/span&gt; must be set to the &lt;span&gt;immediate user
+        &lt;p&gt;If the event is canceled, then set the &lt;span&gt;current target
+        element&lt;/span&gt; to the &lt;span&gt;immediate user
         selection&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Otherwise, the user agent must act as follows:&lt;/p&gt;
+        &lt;p&gt;Otherwise, run the appropriate step from the following
+        list:&lt;/p&gt;
 
         &lt;dl class=&quot;switch&quot;&gt;
 
@@ -76070,27 +76299,32 @@
          title=&quot;attr-input-type-text&quot;&gt;Text&lt;/span&gt; state) or an
          &lt;span&gt;editable&lt;/span&gt; element&lt;/dt&gt;
 
-         &lt;dd&gt;&lt;p&gt;The &lt;span&gt;current target element&lt;/span&gt; must be set to
-         the &lt;span&gt;immediate user selection&lt;/span&gt; anyway.&lt;/p&gt;&lt;/dd&gt;
+         &lt;dd&gt;&lt;p&gt;Set the &lt;span&gt;current target element&lt;/span&gt; to the
+         &lt;span&gt;immediate user selection&lt;/span&gt; anyway.&lt;/p&gt;&lt;/dd&gt;
 
          &lt;dt&gt;If the &lt;span&gt;current target element&lt;/span&gt; is
          &lt;span&gt;the body element&lt;/span&gt;&lt;/dt&gt;
 
-         &lt;dd&gt;&lt;p&gt;The &lt;span&gt;current target element&lt;/span&gt; is left
+         &lt;dd&gt;&lt;p&gt;Leave the &lt;span&gt;current target element&lt;/span&gt;
          unchanged.&lt;/p&gt;&lt;/dd&gt;
 
          &lt;dt&gt;Otherwise&lt;/dt&gt;
 
-         &lt;dd&gt;&lt;p&gt;The user agent must fire a &lt;code
-         title=&quot;event-dragenter&quot;&gt;dragenter&lt;/code&gt; event at &lt;span&gt;the
-         body element&lt;/span&gt;, and the &lt;span&gt;current target
-         element&lt;/span&gt; must be set to &lt;span&gt;the body element&lt;/span&gt;,
-         regardless of whether that event was canceled or not. (If
-         &lt;span&gt;the body element&lt;/span&gt; is null, then the &lt;span&gt;current
-         target element&lt;/span&gt; would be set to null too in this case,
-         it wouldn't be set to the &lt;code&gt;Document&lt;/code&gt;
-         object.)&lt;/p&gt;&lt;/dd&gt;
+         &lt;dd&gt;
 
+          &lt;p&gt;&lt;span&gt;Fire a DND event&lt;/span&gt; named &lt;code
+          title=&quot;event-dragenter&quot;&gt;dragenter&lt;/code&gt; at &lt;span&gt;the body
+          element&lt;/span&gt;, and set the &lt;span&gt;current target
+          element&lt;/span&gt; to &lt;span&gt;the body element&lt;/span&gt;, regardless
+          of whether that event was canceled or not.&lt;/p&gt;
+
+          &lt;p class=&quot;note&quot;&gt;If &lt;span&gt;the body element&lt;/span&gt; is null,
+          then the event will be fired at the &lt;code&gt;Document&lt;/code&gt;
+          object (as required by the definition of &lt;span&gt;the body
+          element&lt;/span&gt;), but the &lt;span&gt;current target element&lt;/span&gt;
+          would be set to null, not the &lt;code&gt;Document&lt;/code&gt;
+          object.&lt;/p&gt;&lt;/dd&gt;
+
         &lt;/dl&gt;
 
        &lt;/dd&gt;
@@ -76103,21 +76337,23 @@
 
       &lt;p&gt;If the previous step caused the &lt;span&gt;current target
       element&lt;/span&gt; to change, and if the previous target element was
-      not null or a part of a non-DOM document, the user agent must fire
-      a &lt;code title=&quot;event-dragleave&quot;&gt;dragleave&lt;/code&gt; event at the
-      previous target element.&lt;/p&gt;
+      not null or a part of a non-DOM document, then &lt;span&gt;fire a DND
+      event&lt;/span&gt; named &lt;code
+      title=&quot;event-dragleave&quot;&gt;dragleave&lt;/code&gt; at the previous target
+      element.&lt;/p&gt;
 
      &lt;/li&gt;
 
      &lt;li&gt;
 
       &lt;p&gt;If the &lt;span&gt;current target element&lt;/span&gt; is a DOM element,
-      the user agent must fire a &lt;code
-      title=&quot;event-dragover&quot;&gt;dragover&lt;/code&gt; event at this &lt;span&gt;current
+      then &lt;span&gt;fire a DND event&lt;/span&gt; named &lt;code
+      title=&quot;event-dragover&quot;&gt;dragover&lt;/code&gt; at this &lt;span&gt;current
       target element&lt;/span&gt;.&lt;/p&gt;
 
       &lt;p&gt;If the &lt;code title=&quot;event-dragover&quot;&gt;dragover&lt;/code&gt; event is
-      not canceled, the user agent must act as follows:&lt;/p&gt;
+      not canceled, run the appropriate step from the following
+      list:&lt;/p&gt;
 
       &lt;dl class=&quot;switch&quot;&gt;
 
@@ -76127,26 +76363,27 @@
        the &lt;span title=&quot;attr-input-type-text&quot;&gt;Text&lt;/span&gt; state) or an
        &lt;span&gt;editable&lt;/span&gt; element&lt;/dt&gt;
 
-       &lt;dd&gt;&lt;p&gt;The user agent must set the &lt;span&gt;current drag
-       operation&lt;/span&gt; to either &quot;copy&quot; or &quot;move&quot;, as appropriate
-       given the platform conventions.&lt;/p&gt;&lt;/dd&gt;
+       &lt;dd&gt;&lt;p&gt;Set the &lt;span&gt;current drag operation&lt;/span&gt; to either
+       &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;,
+       as appropriate given the platform conventions.&lt;/p&gt;&lt;/dd&gt;
 
        &lt;dt&gt;Otherwise&lt;/dt&gt;
 
-       &lt;dd&gt;&lt;p&gt;The user agent must reset the &lt;span&gt;current drag
-       operation&lt;/span&gt; to &quot;none&quot;.&lt;/p&gt;&lt;/dd&gt;
+       &lt;dd&gt;&lt;p&gt;Reset the &lt;span&gt;current drag operation&lt;/span&gt; to &quot;&lt;code
+       title=&quot;&quot;&gt;none&lt;/code&gt;&quot;.&lt;/p&gt;&lt;/dd&gt;
 
       &lt;/dl&gt;
 
       &lt;p&gt;Otherwise (if the &lt;code
       title=&quot;event-dragover&quot;&gt;dragover&lt;/code&gt; event &lt;em&gt;is&lt;/em&gt;
-      canceled), the &lt;span&gt;current drag operation&lt;/span&gt; must be set
-      based on the values the &lt;code
+      canceled), set the &lt;span&gt;current drag operation&lt;/span&gt; based on
+      the values of the &lt;code
       title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/code&gt; and
       &lt;code title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/code&gt;
-      attributes of the &lt;code
-      title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt; object
-      had after the event was handled, as per the following table:&lt;/p&gt;
+      attributes of the &lt;code&gt;DragEvent&lt;/code&gt; object's &lt;code
+      title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt; object as
+      they stood after the event dispatch finished, as per the
+      following table:&lt;/p&gt;
 
       &lt;table&gt;
        &lt;thead&gt;
@@ -76157,31 +76394,30 @@
         &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr&gt;
-        &lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;, or &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&quot;copy&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;&quot;, or &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
-        &lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;link&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;, or &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&quot;link&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyLink&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&quot;, or &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
-        &lt;td&gt;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;, or &lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&lt;/td&gt;
-        &lt;td&gt;&quot;move&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;copyMove&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;linkMove&lt;/code&gt;&quot;, or &quot;&lt;code title=&quot;&quot;&gt;all&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
         &lt;td colspan=&quot;2&quot;&gt;Any other case&lt;/td&gt;
-        &lt;td&gt;&quot;none&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
        &lt;/tr&gt;
       &lt;/table&gt;
 
       &lt;p&gt;Then, regardless of whether the &lt;code
       title=&quot;event-dragover&quot;&gt;dragover&lt;/code&gt; event was canceled or
-      not, the drag feedback (e.g. the mouse cursor) must be updated
-      to match the &lt;span&gt;current drag operation&lt;/span&gt;, as
-      follows:&lt;/p&gt;
+      not, update the drag feedback (e.g. the mouse cursor) to match
+      the &lt;span&gt;current drag operation&lt;/span&gt;, as follows:&lt;/p&gt;
 
       &lt;table&gt;
        &lt;thead&gt;
@@ -76191,19 +76427,19 @@
         &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr&gt;
-        &lt;td&gt;&quot;copy&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;&quot;&lt;/td&gt;
         &lt;td&gt;Data will be copied if dropped here.&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
-        &lt;td&gt;&quot;link&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;link&lt;/code&gt;&quot;&lt;/td&gt;
         &lt;td&gt;Data will be linked if dropped here.&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
-        &lt;td&gt;&quot;move&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;&lt;/td&gt;
         &lt;td&gt;Data will be moved if dropped here.&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
-        &lt;td&gt;&quot;none&quot;&lt;/td&gt;
+        &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
         &lt;td&gt;No operation allowed, dropping here will cancel the drag-and-drop operation.&lt;/td&gt;
        &lt;/tr&gt;
       &lt;/table&gt;
@@ -76212,10 +76448,11 @@
 
      &lt;li&gt;
 
-      &lt;p&gt;Otherwise, if the &lt;span&gt;current target element&lt;/span&gt; is not a
-      DOM element, the user agent must use platform-specific mechanisms
-      to determine what drag operation is being performed (none, copy,
-      link, or move). This sets the &lt;em&gt;current drag operation&lt;/em&gt;.&lt;/p&gt;
+      &lt;p&gt;Otherwise, if the &lt;span&gt;current target element&lt;/span&gt; is not
+      a DOM element, use platform-specific mechanisms to determine
+      what drag operation is being performed (none, copy, link, or
+      move), and set the &lt;i&gt;current drag operation&lt;/i&gt;
+      accordingly.&lt;/p&gt;
 
      &lt;/li&gt;
 
@@ -76228,111 +76465,110 @@
     &lt;p&gt;Otherwise, if the user ended the drag-and-drop operation (e.g.
     by releasing the mouse button in a mouse-driven drag-and-drop
     interface), or if the &lt;code title=&quot;event-drag&quot;&gt;drag&lt;/code&gt; event
-    was canceled, then this will be the last iteration. The user agent
-    must execute the following steps, then stop looping.&lt;/p&gt;
+    was canceled, then this will be the last iteration. Run the
+    following steps, then stop the drag-and-drop operation:&lt;/p&gt;
 
     &lt;ol&gt;
 
      &lt;li&gt;
 
-      &lt;p&gt;If the &lt;span&gt;current drag operation&lt;/span&gt; is none (no drag
-      operation), or, if the user ended the drag-and-drop operation by
-      canceling it (e.g. by hitting the &lt;kbd&gt;Escape&lt;/kbd&gt; key), or if
-      the &lt;span&gt;current target element&lt;/span&gt; is null, then the drag
-      operation failed. If the &lt;span&gt;current target element&lt;/span&gt; is
-      a DOM element, the user agent must fire a &lt;code
-      title=&quot;event-dragleave&quot;&gt;dragleave&lt;/code&gt; event at it; otherwise,
-      if it is not null, it must use platform-specific conventions for
-      drag cancellation.&lt;/p&gt;
+      &lt;p&gt;If the &lt;span&gt;current drag operation&lt;/span&gt; is &quot;&lt;code
+      title=&quot;&quot;&gt;none&lt;/code&gt;&quot; (no drag operation), or, if the user ended
+      the drag-and-drop operation by canceling it (e.g. by hitting the
+      &lt;kbd&gt;Escape&lt;/kbd&gt; key), or if the &lt;span&gt;current target
+      element&lt;/span&gt; is null, then the drag operation failed. Run
+      these substeps:&lt;/p&gt;
 
-     &lt;/li&gt;
+      &lt;ol&gt;
 
-     &lt;li&gt;
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;dropped&lt;/var&gt; be false.&lt;/p&gt;&lt;/li&gt;
 
-      &lt;p&gt;Otherwise, the drag operation was as success. If the
-      &lt;span&gt;current target element&lt;/span&gt; is a DOM element, the user
-      agent must fire a &lt;code title=&quot;event-drop&quot;&gt;drop&lt;/code&gt; event at
-      it; otherwise, it must use platform-specific conventions for
-      indicating a drop.&lt;/p&gt;
+       &lt;li&gt;&lt;p&gt;If the &lt;span&gt;current target element&lt;/span&gt; is a DOM
+       element, &lt;span&gt;fire a DND event&lt;/span&gt; named &lt;code
+       title=&quot;event-dragleave&quot;&gt;dragleave&lt;/code&gt; at it; otherwise, if
+       it is not null, use platform-specific conventions for drag
+       cancellation.&lt;/p&gt;
 
-      &lt;p&gt;When the target is a DOM element, the &lt;code
-      title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/code&gt; attribute
-      of the event's &lt;code
-      title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt; object
-      must be given the value representing the &lt;span&gt;current drag
-      operation&lt;/span&gt; (&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;, &lt;code
-      title=&quot;&quot;&gt;link&lt;/code&gt;, or &lt;code title=&quot;&quot;&gt;move&lt;/code&gt;), and the
-      object must be set up so that the &lt;code
-      title=&quot;dom-DataTransfer-getData&quot;&gt;getData()&lt;/code&gt; method will
-      return the data that was added during the &lt;code
-      title=&quot;event-dragstart&quot;&gt;dragstart&lt;/code&gt; event, and the &lt;code
-      title=&quot;dom-datatransfer-files&quot;&gt;files&lt;/code&gt; attribute will
-      return a &lt;code&gt;FileList&lt;/code&gt; object with any files that were
-      dragged.&lt;/p&gt;
+      &lt;/ol&gt;
 
-      &lt;p&gt;If the event is canceled, the &lt;span&gt;current drag
-      operation&lt;/span&gt; must be set to the value of the &lt;code
-      title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/code&gt; attribute
-      of the event's &lt;code
-      title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt; object as
-      it stood after the event was handled.&lt;/p&gt;
+      &lt;p&gt;Otherwise, the drag operation was as success; run these substeps:&lt;/p&gt;
 
-      &lt;p&gt;Otherwise, the event is not canceled, and the user agent must
-      perform the event's default action, which depends on the exact
-      target as follows:&lt;/p&gt;
+      &lt;ol&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;dropped&lt;/var&gt; be true.&lt;/p&gt;&lt;/li&gt;
 
-       &lt;dt&gt;If the &lt;span&gt;current target element&lt;/span&gt; is a text field
-       (e.g. &lt;code&gt;textarea&lt;/code&gt;, or an &lt;code&gt;input&lt;/code&gt; element
-       whose &lt;code title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute is in
-       the &lt;span title=&quot;attr-input-type-text&quot;&gt;Text&lt;/span&gt; state) or an
-       &lt;span&gt;editable&lt;/span&gt; element&lt;/dt&gt;
+       &lt;li&gt;&lt;p&gt;If the &lt;span&gt;current target element&lt;/span&gt; is a DOM
+       element, &lt;span&gt;fire a DND event&lt;/span&gt; named &lt;code
+       title=&quot;event-drop&quot;&gt;drop&lt;/code&gt; at it; otherwise, use
+       platform-specific conventions for indicating a drop.&lt;/p&gt;&lt;/li&gt;
 
-       &lt;dd&gt;The user agent must insert the data associated with the
-       &lt;code&gt;text/plain&lt;/code&gt; format, if any, into the text field or
-       &lt;span&gt;editable&lt;/span&gt; element in a manner consistent with
-       platform-specific conventions (e.g. inserting it at the current
-       mouse cursor position, or inserting it at the end of the
-       field).&lt;/dd&gt;
+       &lt;li&gt;
 
-       &lt;dt&gt;Otherwise&lt;/dt&gt;
+        &lt;p&gt;If the event is canceled, set the &lt;span&gt;current drag
+        operation&lt;/span&gt; to the value of the &lt;code
+        title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/code&gt; attribute
+        of the &lt;code&gt;DragEvent&lt;/code&gt; object's &lt;code
+        title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt; object
+        as it stood after the event dispatch finished.&lt;/p&gt;
 
-       &lt;dd&gt;Reset the &lt;span&gt;current drag operation&lt;/span&gt; to
-       &quot;none&quot;.&lt;/dd&gt;
+        &lt;p&gt;Otherwise, the event is not canceled; perform the event's
+        default action, which depends on the exact target as
+        follows:&lt;/p&gt;
 
-      &lt;/dl&gt;
+        &lt;dl class=&quot;switch&quot;&gt;
 
+         &lt;dt&gt;If the &lt;span&gt;current target element&lt;/span&gt; is a text field
+         (e.g. &lt;code&gt;textarea&lt;/code&gt;, or an &lt;code&gt;input&lt;/code&gt; element
+         whose &lt;code title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute is in
+         the &lt;span title=&quot;attr-input-type-text&quot;&gt;Text&lt;/span&gt; state) or an
+         &lt;span&gt;editable&lt;/span&gt; element&lt;/dt&gt;
+
+         &lt;dd&gt;&lt;p&gt;If the &lt;span&gt;drag data store item list&lt;/span&gt; has an
+         item with &lt;span&gt;the drag data item type string&lt;/span&gt;
+         &quot;&lt;code&gt;text/plain&lt;/code&gt;&quot; and &lt;span&gt;the drag data item
+         kind&lt;/span&gt; &lt;i&gt;Plain Unicode string&lt;/i&gt;, insert the actual data
+         of that item into the text field or &lt;span&gt;editable&lt;/span&gt;
+         element in a manner consistent with platform-specific
+         conventions (e.g. inserting it at the current mouse cursor
+         position, or inserting it at the end of the field).&lt;/p&gt;&lt;/dd&gt;
+
+         &lt;dt&gt;Otherwise&lt;/dt&gt;
+
+         &lt;dd&gt;&lt;p&gt;Reset the &lt;span&gt;current drag operation&lt;/span&gt; to
+         &quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;.&lt;/p&gt;~&lt;/dd&gt;
+
+        &lt;/dl&gt;
+
+       &lt;/li&gt;
+
+      &lt;/ol&gt;
+
      &lt;/li&gt;
 
      &lt;li&gt;
 
-      &lt;p&gt;Finally, the user agent must fire a &lt;code
-      title=&quot;event-dragend&quot;&gt;dragend&lt;/code&gt; event at the &lt;span&gt;source
-      node&lt;/span&gt;, with the &lt;code
-      title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/code&gt; attribute
-      of the event's &lt;code
-      title=&quot;dom-DragEvent-dataTransfer&quot;&gt;dataTransfer&lt;/code&gt; object
-      being set to the value corresponding to the &lt;span&gt;current drag
-      operation&lt;/span&gt;.&lt;/p&gt;
+      &lt;p&gt;&lt;span&gt;Fire a DND event&lt;/span&gt; named &lt;code
+      title=&quot;event-dragend&quot;&gt;dragend&lt;/code&gt; at the &lt;span&gt;source
+      node&lt;/span&gt;.&lt;/p&gt;
 
-      &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;current drag operation&lt;/span&gt; can
-      change during the processing of the &lt;code
-      title=&quot;event-drop&quot;&gt;drop&lt;/code&gt; event, if one was fired.&lt;/p&gt;
+     &lt;/li&gt;
 
-      &lt;p&gt;The event is not cancelable. After the event has been
-      handled, the user agent must act as follows:&lt;/p&gt;
+     &lt;li&gt;
 
+      &lt;p&gt;Run the appropriate steps from the following list as the
+      default action of the &lt;code title=&quot;event-dragend&quot;&gt;dragend&lt;/code&gt;
+      event:&lt;/p&gt;
+
       &lt;dl class=&quot;switch&quot;&gt;
 
        &lt;dt&gt;If the &lt;span&gt;current target element&lt;/span&gt; is a text field
        (e.g. &lt;code&gt;textarea&lt;/code&gt;, or an &lt;code&gt;input&lt;/code&gt; element
        whose &lt;code title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute is in
        the &lt;span title=&quot;attr-input-type-text&quot;&gt;Text&lt;/span&gt; state), and
-       a &lt;code title=&quot;event-drop&quot;&gt;drop&lt;/code&gt; event was fired in the
-       previous step, and the &lt;span&gt;current drag operation&lt;/span&gt; is
-       &quot;move&quot;, and the source of the drag-and-drop operation is a
-       selection in the DOM&lt;/dt&gt;
+       &lt;var title=&quot;&quot;&gt;dropped&lt;/var&gt; is true, and the &lt;span&gt;current drag
+       operation&lt;/span&gt; is &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, and the
+       source of the drag-and-drop operation is a selection in the
+       DOM&lt;/dt&gt;
 
        &lt;dd&gt;The user agent should delete the range representing the
        dragged selection from the DOM.&lt;/dd&gt;
@@ -76341,10 +76577,10 @@
        (e.g. &lt;code&gt;textarea&lt;/code&gt;, or an &lt;code&gt;input&lt;/code&gt; element
        whose &lt;code title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute is in
        the &lt;span title=&quot;attr-input-type-text&quot;&gt;Text&lt;/span&gt; state), and
-       a &lt;code title=&quot;event-drop&quot;&gt;drop&lt;/code&gt; event was fired in the
-       previous step, and the &lt;span&gt;current drag operation&lt;/span&gt; is
-       &quot;move&quot;, and the source of the drag-and-drop operation is a
-       selection in a text field&lt;/dt&gt;
+       &lt;var title=&quot;&quot;&gt;dropped&lt;/var&gt; is true, and the &lt;span&gt;current drag
+       operation&lt;/span&gt; is &quot;&lt;code title=&quot;&quot;&gt;move&lt;/code&gt;&quot;, and the
+       source of the drag-and-drop operation is a selection in a text
+       field&lt;/dt&gt;
 
        &lt;dd&gt;The user agent should delete the dragged selection from the
        relevant text field.&lt;/dd&gt;
@@ -76421,6 +76657,119 @@
   &lt;/div&gt;
 
 
+  &lt;h4 id=&quot;dndevents&quot;&gt;Events summary&lt;/h4&gt;
+
+  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
+
+  &lt;p&gt;The following events are involved in the drag-and-drop
+  model.&lt;/p&gt;
+
+  &lt;table&gt;
+
+   &lt;thead&gt;
+    &lt;tr&gt;
+     &lt;th&gt; Event Name &lt;/th&gt;
+     &lt;th&gt; Target &lt;/th&gt;
+     &lt;!-- &lt;th&gt; Bubbles? &lt;/th&gt; --&gt;
+     &lt;th&gt; Cancelable? &lt;/th&gt;
+     &lt;th&gt; &lt;span&gt;Drag data store mode&lt;/span&gt; &lt;/th&gt;
+     &lt;!-- &lt;th&gt; &lt;code title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/code&gt; &lt;/th&gt; --&gt;
+     &lt;th&gt; &lt;code title=&quot;dom-DataTransfer-dropEffect&quot;&gt;dropEffect&lt;/code&gt; &lt;/th&gt;
+     &lt;th&gt; Default Action &lt;/th&gt;
+    &lt;/tr&gt;
+   &lt;/thead&gt;
+
+   &lt;tbody&gt;
+
+    &lt;tr&gt;
+     &lt;td&gt;&lt;dfn title=&quot;event-dragstart&quot;&gt;&lt;code&gt;dragstart&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;span&gt;Source node&lt;/span&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&amp;#x2713; Cancelable&lt;/td&gt;
+     &lt;td&gt;&lt;span title=&quot;concept-dnd-rw&quot;&gt;Read/write mode&lt;/span&gt;
+     &lt;!-- &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot;&lt;/td&gt; --&gt;
+     &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;td&gt;Initiate the drag-and-drop operation&lt;/td&gt;
+    &lt;/tr&gt;
+
+    &lt;tr&gt;
+     &lt;td&gt;&lt;dfn title=&quot;event-drag&quot;&gt;&lt;code&gt;drag&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;span&gt;Source node&lt;/span&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&amp;#x2713; Cancelable&lt;/td&gt;
+     &lt;td&gt;&lt;span title=&quot;concept-dnd-p&quot;&gt;Protected mode&lt;/span&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;td&gt;Continue the drag-and-drop operation&lt;/td&gt;
+    &lt;/tr&gt;
+
+    &lt;tr&gt;
+     &lt;td&gt;&lt;dfn title=&quot;event-dragenter&quot;&gt;&lt;code&gt;dragenter&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;span&gt;Immediate user selection&lt;/span&gt; or &lt;span&gt;the body element&lt;/span&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&amp;#x2713; Cancelable&lt;/td&gt;
+     &lt;td&gt;&lt;span title=&quot;concept-dnd-p&quot;&gt;Protected mode&lt;/span&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&lt;a href=&quot;#dropEffect-initialization&quot;&gt;Based on &lt;code&gt;effectAllowed&lt;/code&gt; value&lt;/a&gt;&lt;/td&gt;
+     &lt;td&gt;Reject &lt;span&gt;immediate user selection&lt;/span&gt; as potential &lt;span title=&quot;current target element&quot;&gt;target element&lt;/span&gt;&lt;/td&gt;
+    &lt;/tr&gt;
+
+    &lt;tr&gt;
+     &lt;td&gt;&lt;dfn title=&quot;event-dragleave&quot;&gt;&lt;code&gt;dragleave&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;span title=&quot;current target element&quot;&gt;Previous target element&lt;/span&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&mdash;&lt;/td&gt;
+     &lt;td&gt;&lt;span title=&quot;concept-dnd-p&quot;&gt;Protected mode&lt;/span&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&quot;&lt;code title=&quot;&quot;&gt;none&lt;/code&gt;&quot;&lt;/td&gt;
+     &lt;td&gt;None&lt;/td&gt;
+    &lt;/tr&gt;
+
+    &lt;tr&gt;
+     &lt;td&gt;&lt;dfn title=&quot;event-dragover&quot;&gt;&lt;code&gt;dragover&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;span&gt;Current target element&lt;/span&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&amp;#x2713; Cancelable&lt;/td&gt;
+     &lt;td&gt;&lt;span title=&quot;concept-dnd-p&quot;&gt;Protected mode&lt;/span&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&lt;a href=&quot;#dropEffect-initialization&quot;&gt;Based on &lt;code&gt;effectAllowed&lt;/code&gt; value&lt;/a&gt;&lt;/td&gt;
+     &lt;td&gt;Reset the &lt;span&gt;current drag operation&lt;/span&gt; to &quot;none&quot;&lt;/td&gt;
+    &lt;/tr&gt;
+
+    &lt;tr&gt;
+     &lt;td&gt;&lt;dfn title=&quot;event-drop&quot;&gt;&lt;code&gt;drop&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;span&gt;Current target element&lt;/span&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&amp;#x2713; Cancelable&lt;/td&gt;
+     &lt;td&gt;&lt;span title=&quot;concept-dnd-ro&quot;&gt;Read-only mode&lt;/span&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&lt;span&gt;Current drag operation&lt;/span&gt;&lt;/td&gt;
+     &lt;td&gt;Varies&lt;/td&gt;
+    &lt;/tr&gt;
+
+    &lt;tr&gt;
+     &lt;td&gt;&lt;dfn title=&quot;event-dragend&quot;&gt;&lt;code&gt;dragend&lt;/code&gt;&lt;/dfn&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;span&gt;Source node&lt;/span&gt;&lt;/td&gt;
+     &lt;!-- &lt;td&gt;&amp;#x2713; Bubbles&lt;/td&gt; --&gt;
+     &lt;td&gt;&mdash;&lt;/td&gt;
+     &lt;td&gt;&lt;span title=&quot;concept-dnd-p&quot;&gt;Protected mode&lt;/span&gt;
+     &lt;!-- &lt;td&gt;Same as last event&lt;/td&gt; --&gt;
+     &lt;td&gt;&lt;span&gt;Current drag operation&lt;/span&gt;&lt;/td&gt;
+     &lt;td&gt;Varies&lt;/td&gt;
+    &lt;/tr&gt;
+
+   &lt;/tbody&gt;
+
+  &lt;/table&gt;
+
+  &lt;p&gt;Not shown in the above table: all these events bubble, and the
+  &lt;code title=&quot;dom-DataTransfer-effectAllowed&quot;&gt;effectAllowed&lt;/code&gt;
+  attribute always has the value it had after the previous event was
+  fired, defaulting to &quot;&lt;code title=&quot;&quot;&gt;uninitialized&lt;/code&gt;&quot; in the
+  &lt;code title=&quot;event-dragstart&quot;&gt;dragstart&lt;/code&gt; event.&lt;/p&gt;
+
+
+
   &lt;h4&gt;The &lt;dfn title=&quot;attr-draggable&quot;&gt;&lt;code&gt;draggable&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
 
   &lt;p&gt;All &lt;span&gt;HTML elements&lt;/span&gt; may have the &lt;code


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012513.html">[html5] r5646 - [e] (0) dropzone 1/5: the new model Fixing	http://www.w3.org/Bugs/Public/show_bu [...]
</A></li>
	<LI>Next message: <A HREF="012515.html">[html5] r5648 - [giow] (0) Actually disassociate the DataTransfer	object and the drag data store [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12514">[ date ]</a>
              <a href="thread.html#12514">[ thread ]</a>
              <a href="subject.html#12514">[ subject ]</a>
              <a href="author.html#12514">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
