<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r5683 - [e] (0) Add DONAV markers wherever navigation	happens, to make updating those ca [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5683%20-%20%5Be%5D%20%280%29%20Add%20DONAV%20markers%20wherever%20navigation%0A%09happens%2C%20to%20make%20updating%20those%20ca%20%5B...%5D&In-Reply-To=%3C20101129225641.9EC9B2C7C001%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012549.html">
   <LINK REL="Next"  HREF="012551.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r5683 - [e] (0) Add DONAV markers wherever navigation	happens, to make updating those ca [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5683%20-%20%5Be%5D%20%280%29%20Add%20DONAV%20markers%20wherever%20navigation%0A%09happens%2C%20to%20make%20updating%20those%20ca%20%5B...%5D&In-Reply-To=%3C20101129225641.9EC9B2C7C001%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r5683 - [e] (0) Add DONAV markers wherever navigation	happens, to make updating those ca [...]">whatwg at whatwg.org
       </A><BR>
    <I>Mon Nov 29 14:56:41 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="012549.html">[html5] r5682 - [agiow] (2) Revert r5277's removal of '/' as a	magic value to postMessage(), sin [...]
</A></li>
        <LI>Next message: <A HREF="012551.html">[html5] r5684 - [e] (0) Refactor form submission browsing context	details. This in theory didn't [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12550">[ date ]</a>
              <a href="thread.html#12550">[ thread ]</a>
              <a href="subject.html#12550">[ subject ]</a>
              <a href="author.html#12550">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2010-11-29 14:56:34 -0800 (Mon, 29 Nov 2010)
New Revision: 5683

Modified:
   complete.html
   index
   source
Log:
[e] (0) Add DONAV markers wherever navigation happens, to make updating those cases easier.

Modified: complete.html
===================================================================
--- complete.html	2010-11-15 23:25:55 UTC (rev 5682)
+++ complete.html	2010-11-29 22:56:34 UTC (rev 5683)
@@ -214,7 +214,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> rel=home&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1&gt;Web Applications 1.0&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Draft Standard &mdash; 15 November 2010&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Draft Standard &mdash; 29 November 2010&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;p&gt;You can take part in this work. &lt;a href=<A HREF="http://www.whatwg.org/mailing-list">http://www.whatwg.org/mailing-list</A>&gt;Join the working group's discussion list.&lt;/a&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;Web designers!&lt;/strong&gt; We have a &lt;a href=<A HREF="http://blog.whatwg.org/faq/">http://blog.whatwg.org/faq/</A>&gt;FAQ&lt;/a&gt;, a &lt;a href=<A HREF="http://forums.whatwg.org/">http://forums.whatwg.org/</A>&gt;forum&lt;/a&gt;, and a &lt;a href=<A HREF="http://www.whatwg.org/mailing-list#help">http://www.whatwg.org/mailing-list#help</A>&gt;help mailing list&lt;/a&gt; for you!&lt;/p&gt;
    &lt;!--&lt;p class=&quot;impl&quot;&gt;&lt;strong&gt;Implementors!&lt;/strong&gt; We have a &lt;a href=&quot;<A HREF="http://www.whatwg.org/mailing-list#implementors">http://www.whatwg.org/mailing-list#implementors</A>&quot;&gt;mailing list&lt;/a&gt; for you too!&lt;/p&gt;--&gt;
@@ -13685,17 +13685,15 @@
        &lt;code&gt;&lt;a href=#meta&gt;meta&lt;/a&gt;&lt;/code&gt; element's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s
        &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; did not have the &lt;a href=#sandboxed-automatic-features-browsing-context-flag&gt;sandboxed
        automatic features browsing context flag&lt;/a&gt; set when the
-       &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; was created, the user agent &lt;a href=#navigate title=navigate&gt;navigates&lt;/a&gt; the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s
-       &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, with
-       &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the
-       &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; as the
-       &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/li&gt;
+       &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; was created, the user agent &lt;a href=#navigate title=navigate&gt;navigates&lt;/a&gt;&lt;!--DONAV meta refresh--&gt; the
+       &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and
+       with the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;
+       as the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/li&gt;
 
        &lt;li&gt;&lt;p&gt;Provide the user with an interface that, when selected,
-       &lt;a href=#navigate title=navigate&gt;navigates&lt;/a&gt; a &lt;a href=#browsing-context&gt;browsing
-       context&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, with the document's
-       browsing context as the &lt;a href=#source-browsing-context&gt;source browsing
-       context&lt;/a&gt;.&lt;/li&gt;
+       &lt;a href=#navigate title=navigate&gt;navigates&lt;/a&gt;&lt;!--DONAV meta
+       refresh--&gt; a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, with the document's browsing context as the
+       &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/li&gt;
 
        &lt;li&gt;&lt;p&gt;Do nothing.&lt;/li&gt;
 
@@ -22295,12 +22293,14 @@
   &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;code title=attr-iframe-srcdoc&gt;&lt;a href=#attr-iframe-srcdoc&gt;srcdoc&lt;/a&gt;&lt;/code&gt; attribute
    is specified&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; the element's &lt;a href=#browsing-context&gt;browsing
-   context&lt;/a&gt; to a resource whose &lt;a href=#content-type&gt;Content-Type&lt;/a&gt; is
-   &lt;code&gt;&lt;a href=#text/html&gt;text/html&lt;/a&gt;&lt;/code&gt;, whose &lt;a href=#url&gt;URL&lt;/a&gt; is
-   &lt;code&gt;&lt;a href=#about:srcdoc&gt;about:srcdoc&lt;/a&gt;&lt;/code&gt;, and whose data consists of the value of
-   the attribute. The resulting &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; must be
-   considered &lt;a href=#an-iframe-srcdoc-document&gt;an &lt;code&gt;iframe&lt;/code&gt; &lt;code title=attr-iframe-srcdoc&gt;srcdoc&lt;/code&gt; document&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV iframe--&gt; the element's
+   &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to a resource whose
+   &lt;a href=#content-type&gt;Content-Type&lt;/a&gt; is &lt;code&gt;&lt;a href=#text/html&gt;text/html&lt;/a&gt;&lt;/code&gt;, whose
+   &lt;a href=#url&gt;URL&lt;/a&gt; is &lt;code&gt;&lt;a href=#about:srcdoc&gt;about:srcdoc&lt;/a&gt;&lt;/code&gt;, and whose data
+   consists of the value of the attribute. The resulting
+   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; must be considered &lt;a href=#an-iframe-srcdoc-document&gt;an
+   &lt;code&gt;iframe&lt;/code&gt; &lt;code title=attr-iframe-srcdoc&gt;srcdoc&lt;/code&gt;
+   document&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;If the &lt;code title=attr-iframe-src&gt;&lt;a href=#attr-iframe-src&gt;src&lt;/a&gt;&lt;/code&gt;
    attribute is specified but the &lt;code title=attr-iframe-srcdoc&gt;&lt;a href=#attr-iframe-srcdoc&gt;srcdoc&lt;/a&gt;&lt;/code&gt; attribute is not&lt;/dt&gt;
@@ -22324,8 +22324,8 @@
      first time, &lt;code&gt;&lt;a href=#about:blank&gt;about:blank&lt;/a&gt;&lt;/code&gt; is loaded
      normally.)&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; the element's &lt;a href=#browsing-context&gt;browsing
-     context&lt;/a&gt; to the resulting &lt;a href=#absolute-url&gt;absolute
+     &lt;li&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV iframe--&gt; the element's
+     &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the resulting &lt;a href=#absolute-url&gt;absolute
      URL&lt;/a&gt;.&lt;/li&gt;
 
     &lt;/ol&gt;&lt;p&gt;&lt;i&gt;Empty&lt;/i&gt;: When the steps above require the user agent to
@@ -23771,12 +23771,12 @@
 
         &lt;p&gt;If the &lt;a href=#url&gt;URL&lt;/a&gt; of the given resource is not
         &lt;code&gt;&lt;a href=#about:blank&gt;about:blank&lt;/a&gt;&lt;/code&gt;, the element's &lt;a href=#nested-browsing-context&gt;nested browsing
-        context&lt;/a&gt; must then be &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt; to that resource, with
-        &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the
+        context&lt;/a&gt; must then be &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt;&lt;!--DONAV object--&gt; to that
+        resource, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the
         &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt; element's document's &lt;a href=#browsing-context&gt;browsing
-        context&lt;/a&gt; as the &lt;a href=#source-browsing-context&gt;source browsing
-        context&lt;/a&gt;. (The &lt;code title=attr-object-data&gt;&lt;a href=#attr-object-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute of the
-        &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt; element doesn't get updated if the
+        context&lt;/a&gt; as the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.
+        (The &lt;code title=attr-object-data&gt;&lt;a href=#attr-object-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute of
+        the &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt; element doesn't get updated if the
         browsing context gets further navigated to other
         locations.)&lt;/p&gt;
 
@@ -31313,9 +31313,9 @@
   the translation distance in the horizontal direction and the &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; argument represents the translation distance in the
   vertical direction. The arguments are in coordinate space units.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-context-2d-transform title=dom-context-2d-transform&gt;&lt;code&gt;transform(&lt;var title=&quot;&quot;&gt;a&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;b&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;c&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;d&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;f&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must multiply the
-  current transformation matrix with the matrix described by:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-context-2d-transform title=dom-context-2d-transform&gt;&lt;code&gt;transform(&lt;var title=&quot;&quot;&gt;a&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;b&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;c&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;d&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;f&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must replace the current
+  transformation matrix with the result of multiplying the current
+  transformation matrix with the matrix described by:&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -47538,10 +47538,11 @@
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; be &lt;a href=#the-form-submission-target-browsing-context&gt;the
       form submission target browsing context&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created for
-      this purpose by the steps above, then it must be navigated with
-      &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
+      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target
+      browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If
+      &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created
+      for this purpose by the steps above, then it must be navigated
+      with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -47570,19 +47571,18 @@
 
        &lt;dd&gt;Let &lt;var title=&quot;&quot;&gt;MIME type&lt;/var&gt; be &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;.&lt;/dd&gt;
 
-      &lt;/dl&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;method&lt;/var&gt; is anything but &lt;!--GET or--&gt;
-      POST, and the &lt;a href=#origin&gt;origin&lt;/a&gt; of &lt;var title=&quot;&quot;&gt;action&lt;/var&gt;
-      is not the &lt;a href=#same-origin&gt;same origin&lt;/a&gt; as that of the
-      &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt; element's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, then abort
-      these steps.&lt;/p&gt; &lt;!-- CORS, one day --&gt;
+      &lt;/dl&gt;&lt;!--&lt;p&gt;If &lt;var title=&quot;&quot;&gt;method&lt;/var&gt; is anything but (GET or)
+      POST, and the &lt;span&gt;origin&lt;/span&gt; of &lt;var title=&quot;&quot;&gt;action&lt;/var&gt;
+      is not the &lt;span&gt;same origin&lt;/span&gt; as that of the
+      &lt;code&gt;form&lt;/code&gt; element's &lt;code&gt;Document&lt;/code&gt;, then abort
+      these steps.&lt;/p&gt; [or do CORS] (this is commented out since only
+      POST can trigger this now, and that's historically
+      unrestricted)--&gt;&lt;p&gt;Otherwise, &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;action&lt;/var&gt; using the HTTP method given by &lt;var title=&quot;&quot;&gt;method&lt;/var&gt; and with &lt;var title=&quot;&quot;&gt;entity body&lt;/var&gt;
+      as the entity body, of type &lt;var title=&quot;&quot;&gt;MIME type&lt;/var&gt;. If
+      &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created
+      for this purpose by the steps above, then it must be navigated
+      with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;Otherwise, &lt;a href=#navigate&gt;navigate&lt;/a&gt; &lt;var title=&quot;&quot;&gt;target
-      browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;action&lt;/var&gt; using the
-      HTTP method given by &lt;var title=&quot;&quot;&gt;method&lt;/var&gt; and with &lt;var title=&quot;&quot;&gt;entity body&lt;/var&gt; as the entity body, of type &lt;var title=&quot;&quot;&gt;MIME type&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; was newly created for this purpose by the steps
-      above, then it must be navigated with &lt;a href=#replacement-enabled&gt;replacement
-      enabled&lt;/a&gt;.&lt;/p&gt;
-
      &lt;/dd&gt;
 
      &lt;dt&gt;&lt;dfn id=submit-get-action title=submit-get-action&gt;Get action&lt;/dfn&gt;
@@ -47591,8 +47591,8 @@
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; be &lt;a href=#the-form-submission-target-browsing-context&gt;the
       form submission target browsing context&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;action&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created for
+      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target
+      browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;action&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created for
       this purpose by the steps above, then it must be navigated with
       &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
 
@@ -47624,8 +47624,8 @@
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; be &lt;a href=#the-form-submission-target-browsing-context&gt;the
       form submission target browsing context&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; to the potentially modified &lt;var title=&quot;&quot;&gt;action&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing
+      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target
+      browsing context&lt;/var&gt; to the potentially modified &lt;var title=&quot;&quot;&gt;action&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing
       context&lt;/var&gt; was newly created for this purpose by the steps
       above, then it must be navigated with &lt;a href=#replacement-enabled&gt;replacement
       enabled&lt;/a&gt;.&lt;/p&gt;
@@ -47654,10 +47654,11 @@
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; be &lt;a href=#the-form-submission-target-browsing-context&gt;the
       form submission target browsing context&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created for
-      this purpose by the steps above, then it must be navigated with
-      &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
+      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target
+      browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If
+      &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created
+      for this purpose by the steps above, then it must be navigated
+      with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -47687,10 +47688,11 @@
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; be &lt;a href=#the-form-submission-target-browsing-context&gt;the
       form submission target browsing context&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created for
-      this purpose by the steps above, then it must be navigated with
-      &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
+      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target
+      browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If
+      &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created
+      for this purpose by the steps above, then it must be navigated
+      with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -49731,16 +49733,17 @@
   the user agent must &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt; the
   &lt;a href=#url&gt;URL&lt;/a&gt; given by the &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt; attribute of that element,
   relative to that element, and if that is successful, must
-  &lt;a href=#navigate&gt;navigate&lt;/a&gt; a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the
-  resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;. In the case of server-side
-  image maps, that &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; must have its
-  &lt;var&gt;&lt;a href=#hyperlink-suffix&gt;hyperlink suffix&lt;/a&gt;&lt;/var&gt; appended to it before the navigation is
-  started.&lt;/p&gt;
+  &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV hyperlink--&gt; a &lt;a href=#browsing-context&gt;browsing
+  context&lt;/a&gt; to the resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;. In the
+  case of server-side image maps, that &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; must
+  have its &lt;var&gt;&lt;a href=#hyperlink-suffix&gt;hyperlink suffix&lt;/a&gt;&lt;/var&gt; appended to it before the
+  navigation is started.&lt;/p&gt;
 
   &lt;p&gt;If &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; the
   &lt;a href=#url&gt;URL&lt;/a&gt; fails, the user agent may report the error to the
-  user in a user-agent-specific manner, may navigate to an error page
-  to report the error, or may ignore the error and do nothing.&lt;/p&gt;
+  user in a user-agent-specific manner, may
+  &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV hyperlink--&gt; to an error page to
+  report the error, or may ignore the error and do nothing.&lt;/p&gt;
 
   &lt;p&gt;If the user indicated a specific &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;
   when following the hyperlink, or if the user agent is configured to
@@ -57024,9 +57027,8 @@
      no name). The chosen browsing context must be this new browsing
      context.&lt;/p&gt;
 
-     &lt;p&gt;If it is immediately &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt;,
-     then the navigation will be done with &lt;a href=#replacement-enabled&gt;replacement
-     enabled&lt;/a&gt;.&lt;/dd&gt;
+     &lt;p class=note&gt;If it is immediately &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt;, then the navigation will be
+     done with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/dd&gt;
 
 
      &lt;dt&gt;If the user agent has been configured such that in this
@@ -57379,15 +57381,14 @@
   agent could override the selection of the target browsing context to
   instead target a new tab.&lt;/p&gt;
 
-  &lt;p&gt;Then, the user agent must &lt;a href=#navigate&gt;navigate&lt;/a&gt; the selected
-  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; (or
-  error) obtained from &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt;
-  &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier. If the &lt;var title=&quot;&quot;&gt;replace&lt;/var&gt;
-  is true, then &lt;a href=#replacement-enabled title=&quot;replacement enabled&quot;&gt;replacement must be
-  enabled&lt;/a&gt;; otherwise, it must not be enabled unless the
-  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; was just created as part of
-  &lt;a href=#the-rules-for-choosing-a-browsing-context-given-a-browsing-context-name&gt;the rules for choosing a browsing context given a browsing
-  context name&lt;/a&gt;. The navigation must be done with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the
+  &lt;p&gt;Then, the user agent must &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV
+  window.open()--&gt; the selected &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the
+  &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; (or error) obtained from &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;
+  earlier. If the &lt;var title=&quot;&quot;&gt;replace&lt;/var&gt; is true or if the
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; was just created as part of &lt;a href=#the-rules-for-choosing-a-browsing-context-given-a-browsing-context-name&gt;the
+  rules for choosing a browsing context given a browsing context
+  name&lt;/a&gt;, then &lt;a href=#replacement-enabled title=&quot;replacement enabled&quot;&gt;replacement must
+  be enabled&lt;/a&gt;. The navigation must be done with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the
   &lt;a href=#entry-script&gt;entry script&lt;/a&gt; as the &lt;a href=#source-browsing-context&gt;source browsing
   context&lt;/a&gt;.&lt;/p&gt;
 
@@ -58927,22 +58928,23 @@
   &lt;p&gt;When the &lt;dfn id=dom-location-assign title=dom-location-assign&gt;&lt;code&gt;assign(&lt;var title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method is invoked, the UA must
   &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt; the argument, relative to
   the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s &lt;a href=&quot;#script's-base-url&quot; title=&quot;script's base URL&quot;&gt;base
-  URL&lt;/a&gt;, and if that is successful, must &lt;a href=#navigate&gt;navigate&lt;/a&gt;
-  the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the specified &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;. If the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s
+  URL&lt;/a&gt;, and if that is successful, must
+  &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV location.href/assign--&gt; the
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the specified &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;. If the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s
   &lt;a href=#session-history&gt;session history&lt;/a&gt; contains only one
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, and that was the &lt;code&gt;&lt;a href=#about:blank&gt;about:blank&lt;/a&gt;&lt;/code&gt;
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; created when the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;
-  was created, then the navigation must be done with
-  &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt; &lt;!-- READ ME WHEN EDITING
-  THIS: IE and Firefox only seem to treat it that way if the DOM is
-  still a virgin DOM; Safari doesn't check that. Thus this might need
-  changing if testing shows the IE/Firefox behaviour is required
-  here. --&gt;
+  was created, then the navigation must be done with &lt;a href=#replacement-enabled&gt;replacement
+  enabled&lt;/a&gt;.&lt;/p&gt; &lt;!-- READ ME WHEN EDITING THIS: IE and Firefox
+  only seem to treat it that way if the DOM is still a virgin DOM;
+  Safari doesn't check that. Thus this might need changing if testing
+  shows the IE/Firefox behaviour is required here. --&gt;
 
   &lt;p&gt;When the &lt;dfn id=dom-location-replace title=dom-location-replace&gt;&lt;code&gt;replace(&lt;var title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method is invoked, the UA must
   &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt; the argument, relative to
   the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s &lt;a href=&quot;#script's-base-url&quot; title=&quot;script's base URL&quot;&gt;base
-  URL&lt;/a&gt;, and if that is successful, &lt;a href=#navigate&gt;navigate&lt;/a&gt; the
+  URL&lt;/a&gt;, and if that is successful,
+  &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV location.replace--&gt; the
   &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the specified &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;Navigation for the &lt;code title=dom-location-assign&gt;&lt;a href=#dom-location-assign&gt;assign()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-location-replace&gt;&lt;a href=#dom-location-replace&gt;replace()&lt;/a&gt;&lt;/code&gt; methods must be done
@@ -58975,24 +58977,25 @@
 
    &lt;dt&gt;Otherwise&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to
-   &lt;a href=&quot;#the-document's-current-address&quot;&gt;the document's current address&lt;/a&gt; with
-   &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;. The &lt;a href=#source-browsing-context&gt;source browsing
-   context&lt;/a&gt; must be the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; being
-   navigated.&lt;/dd&gt; &lt;!-- it appears that document.reload() always
-   uses GET and does not, e.g., re-POST. --&gt;
+   &lt;dd&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV location.reload()--&gt; the
+   &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to &lt;a href=&quot;#the-document's-current-address&quot;&gt;the document's current
+   address&lt;/a&gt; with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;. The
+   &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt; must be the &lt;a href=#browsing-context&gt;browsing
+   context&lt;/a&gt; being navigated.&lt;/dd&gt; &lt;!-- it appears that
+   document.reload() always uses GET and does not, e.g., re-POST. --&gt;
 
    &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/141">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/141</A> --&gt;
 
   &lt;/dl&gt;&lt;p&gt;When a user requests that the current page be reloaded through a
-  user interface element, the user agent should &lt;a href=#navigate&gt;navigate&lt;/a&gt;
-  the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the same resource as
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;. In the
-  case of non-idempotent methods (e.g. HTTP POST), the user agent
-  should prompt the user to confirm the operation first, since
-  otherwise transactions (e.g. purchases or database modifications)
-  could be repeated. User agents may allow the user to explicitly
-  override any caches when reloading.&lt;/p&gt;
+  user interface element, the user agent should
+  &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV user reload--&gt; the &lt;a href=#browsing-context&gt;browsing
+  context&lt;/a&gt; to the same resource as &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, with
+  &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;. In the case of non-idempotent
+  methods (e.g. HTTP POST), the user agent should prompt the user to
+  confirm the operation first, since otherwise transactions (e.g.
+  purchases or database modifications) could be repeated. User agents
+  may allow the user to explicitly override any caches when
+  reloading.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -59104,6 +59107,8 @@
   in this specification.&lt;/p&gt;
 
   &lt;!-- NAVIGATE &lt;dfn&gt;navigate&lt;/dfn&gt; --&gt;
+  &lt;!-- For places that _call_ this, as opposed to just referring to
+  it, search for &quot;DONAV&quot; --&gt;
   &lt;p&gt;When a browsing context is &lt;dfn id=navigate title=navigate&gt;navigated&lt;/dfn&gt;
   to a new resource, the user agent must run the following steps:&lt;/p&gt;
 
@@ -59136,9 +59141,10 @@
     the new resource in a new &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt;
     or in the &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt; of the
     &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;, at the user's option, in
-    which case the user agent must &lt;a href=#navigate&gt;navigate&lt;/a&gt; that
-    designated &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt; to the new
-    resource as if the user had requested it independently.&lt;/p&gt;
+    which case the user agent must &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV
+    sandbox manual load--&gt; that designated &lt;a href=#top-level-browsing-context&gt;top-level browsing
+    context&lt;/a&gt; to the new resource as if the user had requested it
+    independently.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -59946,8 +59952,9 @@
   page&lt;/a&gt;.&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If there is no longer a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object for the
-   entry in question, the user agent must &lt;a href=#navigate&gt;navigate&lt;/a&gt; the
-   browsing context to the location for that entry to perform an
+   entry in question, the user agent must
+   &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV history traversal after eviction--&gt;
+   the browsing context to the location for that entry to perform an
    &lt;a href=#entry-update&gt;entry update&lt;/a&gt; of that entry, and abort these steps. The
    &quot;&lt;a href=#navigate&gt;navigate&lt;/a&gt;&quot; algorithm reinvokes this &quot;traverse&quot;
    algorithm to complete the traversal, at which point there
@@ -64347,11 +64354,13 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; the new &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to
-    the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; that resulted from &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;
-    earlier, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the
-    &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method
-    as the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV showModalDialog--&gt; the new
+    &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;
+    that resulted from &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt;
+    &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier, with &lt;a href=#replacement-enabled&gt;replacement
+    enabled&lt;/a&gt;, and with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing
+    context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method as
+    the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -64702,10 +64711,10 @@
     a url&quot;&gt;resolve&lt;/a&gt; the resulting URL, relative to the &lt;a href=&quot;#script's-base-url&quot; title=&quot;script's base URL&quot;&gt;base URL&lt;/a&gt; of the &lt;a href=#entry-script&gt;entry
     script&lt;/a&gt; at the time the &lt;code title=dom-navigator-registerContentHandler&gt;&lt;a href=#dom-navigator-registercontenthandler&gt;registerContentHandler()&lt;/a&gt;&lt;/code&gt;
     or &lt;code title=dom-navigator-registerProtocolHandler&gt;&lt;a href=#dom-navigator-registerprotocolhandler&gt;registerProtocolHandler()&lt;/a&gt;&lt;/code&gt;
-    methods were invoked, and then &lt;a href=#navigate&gt;navigate&lt;/a&gt; an
-    appropriate &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the resulting URL
-    using the GET method (&lt;a href=#concept-http-equivalent-get title=concept-http-equivalent-get&gt;or
-    equivalent&lt;/a&gt; for non-HTTP URLs).&lt;/p&gt;
+    methods were invoked, and then &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV
+    user--&gt; an appropriate &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the
+    resulting URL using the GET method (&lt;a href=#concept-http-equivalent-get title=concept-http-equivalent-get&gt;or equivalent&lt;/a&gt; for
+    non-HTTP URLs).&lt;/p&gt;
 
     &lt;p&gt;To get the escaped version of the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; of
     the content in question, the user agent must replace every
@@ -76034,11 +76043,11 @@
    convert the input stream to the new encoding, set the &lt;a href=#concept-encoding-confidence title=concept-encoding-confidence&gt;confidence&lt;/a&gt; to
    &lt;i&gt;certain&lt;/i&gt;, and abort these steps.&lt;/li&gt;
 
-   &lt;li&gt;Otherwise, &lt;a href=#navigate&gt;navigate&lt;/a&gt; to the document again, with
-   &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and using the same &lt;a href=#source-browsing-context&gt;source
-   browsing context&lt;/a&gt;, but this time skip the &lt;a href=#encoding-sniffing-algorithm&gt;encoding
-   sniffing algorithm&lt;/a&gt; and instead just set the encoding to the
-   new encoding and the &lt;a href=#concept-encoding-confidence title=concept-encoding-confidence&gt;confidence&lt;/a&gt; to
+   &lt;li&gt;Otherwise, &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV reparse--&gt; to the
+   document again, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and using
+   the same &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;, but this time skip
+   the &lt;a href=#encoding-sniffing-algorithm&gt;encoding sniffing algorithm&lt;/a&gt; and instead just set
+   the encoding to the new encoding and the &lt;a href=#concept-encoding-confidence title=concept-encoding-confidence&gt;confidence&lt;/a&gt; to
    &lt;i&gt;certain&lt;/i&gt;. Whenever possible, this should be done without
    actually contacting the network layer (the bytes should be
    re-parsed from memory), even if, e.g., the document is marked as
@@ -86816,9 +86825,9 @@
   part of such auditing.&lt;/p&gt;
 &lt;!--PING--&gt;
 
-  &lt;p&gt;User agents are expected to allow users to &lt;a href=#navigate&gt;navigate&lt;/a&gt;
-  &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt; to the
-  resources &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;indicated&lt;/a&gt; by the &lt;code title=&quot;&quot;&gt;cite&lt;/code&gt; attributes on &lt;code&gt;&lt;a href=#the-q-element&gt;q&lt;/a&gt;&lt;/code&gt;,
+  &lt;p&gt;User agents are expected to allow users to
+  &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV cite=&quot;&quot;--&gt; &lt;a href=#browsing-context title=&quot;browsing
+  context&quot;&gt;browsing contexts&lt;/a&gt; to the resources &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;indicated&lt;/a&gt; by the &lt;code title=&quot;&quot;&gt;cite&lt;/code&gt; attributes on &lt;code&gt;&lt;a href=#the-q-element&gt;q&lt;/a&gt;&lt;/code&gt;,
   &lt;code&gt;&lt;a href=#the-blockquote-element&gt;blockquote&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-section-element&gt;section&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-article-element&gt;article&lt;/a&gt;&lt;/code&gt;,
   &lt;code&gt;&lt;a href=#the-ins-element&gt;ins&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-del-element&gt;del&lt;/a&gt;&lt;/code&gt; elements.&lt;/p&gt;
 
@@ -87674,21 +87683,20 @@
   &lt;p&gt;When the browsing context is created, if a &lt;code title=attr-frame-src&gt;src&lt;/code&gt; attribute is present, the user
   agent must &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt; the value of
   that attribute, relative to the element, and if that is successful,
-  must then &lt;a href=#navigate&gt;navigate&lt;/a&gt; the element's browsing context to
-  the resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, with &lt;a href=#replacement-enabled&gt;replacement
-  enabled&lt;/a&gt;, and with the &lt;code&gt;&lt;a href=#frame&gt;frame&lt;/a&gt;&lt;/code&gt; element's
+  must then &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV frame--&gt; the element's
+  browsing context to the resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, with
+  &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the &lt;code&gt;&lt;a href=#frame&gt;frame&lt;/a&gt;&lt;/code&gt;
+  element's document's &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; as the
+  &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Whenever the &lt;code title=attr-frame-src&gt;src&lt;/code&gt; attribute is
+  set, the user agent must &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt;
+  the value of that attribute, relative to the element, and if that is
+  successful, the nested &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; must be &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt;&lt;!--DONAV frame--&gt; to the resulting
+  &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, with the &lt;code&gt;&lt;a href=#frame&gt;frame&lt;/a&gt;&lt;/code&gt; element's
   document's &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; as the &lt;a href=#source-browsing-context&gt;source
   browsing context&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Whenever the &lt;code title=attr-frame-src&gt;src&lt;/code&gt; attribute
-  is set, the user agent must &lt;a href=#resolve-a-url title=&quot;resolve a
-  url&quot;&gt;resolve&lt;/a&gt; the value of that attribute, relative to the
-  element, and if that is successful, the nested &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt; must be &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt; to
-  the resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, with the
-  &lt;code&gt;&lt;a href=#frame&gt;frame&lt;/a&gt;&lt;/code&gt; element's document's &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt; as the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/p&gt;
-
   &lt;p&gt;When the browsing context is created, if a &lt;code title=attr-frame-name&gt;name&lt;/code&gt; attribute is present, the
   &lt;a href=#browsing-context-name&gt;browsing context name&lt;/a&gt; must be set to the value of this
   attribute; otherwise, the &lt;a href=#browsing-context-name&gt;browsing context name&lt;/a&gt; must be

Modified: index
===================================================================
--- index	2010-11-15 23:25:55 UTC (rev 5682)
+++ index	2010-11-29 22:56:34 UTC (rev 5683)
@@ -218,7 +218,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> rel=home&gt;&lt;img alt=WHATWG height=101 src=/images/logo width=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1&gt;HTML5 (including next generation additions still in development)&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Draft Standard &mdash; 15 November 2010&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Draft Standard &mdash; 29 November 2010&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;p&gt;You can take part in this work. &lt;a href=<A HREF="http://www.whatwg.org/mailing-list">http://www.whatwg.org/mailing-list</A>&gt;Join the working group's discussion list.&lt;/a&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;Web designers!&lt;/strong&gt; We have a &lt;a href=<A HREF="http://blog.whatwg.org/faq/">http://blog.whatwg.org/faq/</A>&gt;FAQ&lt;/a&gt;, a &lt;a href=<A HREF="http://forums.whatwg.org/">http://forums.whatwg.org/</A>&gt;forum&lt;/a&gt;, and a &lt;a href=<A HREF="http://www.whatwg.org/mailing-list#help">http://www.whatwg.org/mailing-list#help</A>&gt;help mailing list&lt;/a&gt; for you!&lt;/p&gt;
    &lt;!--&lt;p class=&quot;impl&quot;&gt;&lt;strong&gt;Implementors!&lt;/strong&gt; We have a &lt;a href=&quot;<A HREF="http://www.whatwg.org/mailing-list#implementors">http://www.whatwg.org/mailing-list#implementors</A>&quot;&gt;mailing list&lt;/a&gt; for you too!&lt;/p&gt;--&gt;
@@ -13662,17 +13662,15 @@
        &lt;code&gt;&lt;a href=#meta&gt;meta&lt;/a&gt;&lt;/code&gt; element's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s
        &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; did not have the &lt;a href=#sandboxed-automatic-features-browsing-context-flag&gt;sandboxed
        automatic features browsing context flag&lt;/a&gt; set when the
-       &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; was created, the user agent &lt;a href=#navigate title=navigate&gt;navigates&lt;/a&gt; the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s
-       &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, with
-       &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the
-       &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; as the
-       &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/li&gt;
+       &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; was created, the user agent &lt;a href=#navigate title=navigate&gt;navigates&lt;/a&gt;&lt;!--DONAV meta refresh--&gt; the
+       &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and
+       with the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;
+       as the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/li&gt;
 
        &lt;li&gt;&lt;p&gt;Provide the user with an interface that, when selected,
-       &lt;a href=#navigate title=navigate&gt;navigates&lt;/a&gt; a &lt;a href=#browsing-context&gt;browsing
-       context&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, with the document's
-       browsing context as the &lt;a href=#source-browsing-context&gt;source browsing
-       context&lt;/a&gt;.&lt;/li&gt;
+       &lt;a href=#navigate title=navigate&gt;navigates&lt;/a&gt;&lt;!--DONAV meta
+       refresh--&gt; a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, with the document's browsing context as the
+       &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/li&gt;
 
        &lt;li&gt;&lt;p&gt;Do nothing.&lt;/li&gt;
 
@@ -22272,12 +22270,14 @@
   &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;code title=attr-iframe-srcdoc&gt;&lt;a href=#attr-iframe-srcdoc&gt;srcdoc&lt;/a&gt;&lt;/code&gt; attribute
    is specified&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; the element's &lt;a href=#browsing-context&gt;browsing
-   context&lt;/a&gt; to a resource whose &lt;a href=#content-type&gt;Content-Type&lt;/a&gt; is
-   &lt;code&gt;&lt;a href=#text/html&gt;text/html&lt;/a&gt;&lt;/code&gt;, whose &lt;a href=#url&gt;URL&lt;/a&gt; is
-   &lt;code&gt;&lt;a href=#about:srcdoc&gt;about:srcdoc&lt;/a&gt;&lt;/code&gt;, and whose data consists of the value of
-   the attribute. The resulting &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; must be
-   considered &lt;a href=#an-iframe-srcdoc-document&gt;an &lt;code&gt;iframe&lt;/code&gt; &lt;code title=attr-iframe-srcdoc&gt;srcdoc&lt;/code&gt; document&lt;/a&gt;.&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV iframe--&gt; the element's
+   &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to a resource whose
+   &lt;a href=#content-type&gt;Content-Type&lt;/a&gt; is &lt;code&gt;&lt;a href=#text/html&gt;text/html&lt;/a&gt;&lt;/code&gt;, whose
+   &lt;a href=#url&gt;URL&lt;/a&gt; is &lt;code&gt;&lt;a href=#about:srcdoc&gt;about:srcdoc&lt;/a&gt;&lt;/code&gt;, and whose data
+   consists of the value of the attribute. The resulting
+   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; must be considered &lt;a href=#an-iframe-srcdoc-document&gt;an
+   &lt;code&gt;iframe&lt;/code&gt; &lt;code title=attr-iframe-srcdoc&gt;srcdoc&lt;/code&gt;
+   document&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;If the &lt;code title=attr-iframe-src&gt;&lt;a href=#attr-iframe-src&gt;src&lt;/a&gt;&lt;/code&gt;
    attribute is specified but the &lt;code title=attr-iframe-srcdoc&gt;&lt;a href=#attr-iframe-srcdoc&gt;srcdoc&lt;/a&gt;&lt;/code&gt; attribute is not&lt;/dt&gt;
@@ -22301,8 +22301,8 @@
      first time, &lt;code&gt;&lt;a href=#about:blank&gt;about:blank&lt;/a&gt;&lt;/code&gt; is loaded
      normally.)&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; the element's &lt;a href=#browsing-context&gt;browsing
-     context&lt;/a&gt; to the resulting &lt;a href=#absolute-url&gt;absolute
+     &lt;li&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV iframe--&gt; the element's
+     &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the resulting &lt;a href=#absolute-url&gt;absolute
      URL&lt;/a&gt;.&lt;/li&gt;
 
     &lt;/ol&gt;&lt;p&gt;&lt;i&gt;Empty&lt;/i&gt;: When the steps above require the user agent to
@@ -23751,12 +23751,12 @@
 
         &lt;p&gt;If the &lt;a href=#url&gt;URL&lt;/a&gt; of the given resource is not
         &lt;code&gt;&lt;a href=#about:blank&gt;about:blank&lt;/a&gt;&lt;/code&gt;, the element's &lt;a href=#nested-browsing-context&gt;nested browsing
-        context&lt;/a&gt; must then be &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt; to that resource, with
-        &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the
+        context&lt;/a&gt; must then be &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt;&lt;!--DONAV object--&gt; to that
+        resource, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the
         &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt; element's document's &lt;a href=#browsing-context&gt;browsing
-        context&lt;/a&gt; as the &lt;a href=#source-browsing-context&gt;source browsing
-        context&lt;/a&gt;. (The &lt;code title=attr-object-data&gt;&lt;a href=#attr-object-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute of the
-        &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt; element doesn't get updated if the
+        context&lt;/a&gt; as the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.
+        (The &lt;code title=attr-object-data&gt;&lt;a href=#attr-object-data&gt;data&lt;/a&gt;&lt;/code&gt; attribute of
+        the &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt; element doesn't get updated if the
         browsing context gets further navigated to other
         locations.)&lt;/p&gt;
 
@@ -31293,9 +31293,9 @@
   the translation distance in the horizontal direction and the &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; argument represents the translation distance in the
   vertical direction. The arguments are in coordinate space units.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-context-2d-transform title=dom-context-2d-transform&gt;&lt;code&gt;transform(&lt;var title=&quot;&quot;&gt;a&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;b&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;c&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;d&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;f&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must multiply the
-  current transformation matrix with the matrix described by:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-context-2d-transform title=dom-context-2d-transform&gt;&lt;code&gt;transform(&lt;var title=&quot;&quot;&gt;a&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;b&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;c&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;d&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;f&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must replace the current
+  transformation matrix with the result of multiplying the current
+  transformation matrix with the matrix described by:&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -47518,10 +47518,11 @@
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; be &lt;a href=#the-form-submission-target-browsing-context&gt;the
       form submission target browsing context&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created for
-      this purpose by the steps above, then it must be navigated with
-      &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
+      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target
+      browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If
+      &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created
+      for this purpose by the steps above, then it must be navigated
+      with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -47550,19 +47551,18 @@
 
        &lt;dd&gt;Let &lt;var title=&quot;&quot;&gt;MIME type&lt;/var&gt; be &quot;&lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;&quot;.&lt;/dd&gt;
 
-      &lt;/dl&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;method&lt;/var&gt; is anything but &lt;!--GET or--&gt;
-      POST, and the &lt;a href=#origin&gt;origin&lt;/a&gt; of &lt;var title=&quot;&quot;&gt;action&lt;/var&gt;
-      is not the &lt;a href=#same-origin&gt;same origin&lt;/a&gt; as that of the
-      &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt; element's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, then abort
-      these steps.&lt;/p&gt; &lt;!-- CORS, one day --&gt;
+      &lt;/dl&gt;&lt;!--&lt;p&gt;If &lt;var title=&quot;&quot;&gt;method&lt;/var&gt; is anything but (GET or)
+      POST, and the &lt;span&gt;origin&lt;/span&gt; of &lt;var title=&quot;&quot;&gt;action&lt;/var&gt;
+      is not the &lt;span&gt;same origin&lt;/span&gt; as that of the
+      &lt;code&gt;form&lt;/code&gt; element's &lt;code&gt;Document&lt;/code&gt;, then abort
+      these steps.&lt;/p&gt; [or do CORS] (this is commented out since only
+      POST can trigger this now, and that's historically
+      unrestricted)--&gt;&lt;p&gt;Otherwise, &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;action&lt;/var&gt; using the HTTP method given by &lt;var title=&quot;&quot;&gt;method&lt;/var&gt; and with &lt;var title=&quot;&quot;&gt;entity body&lt;/var&gt;
+      as the entity body, of type &lt;var title=&quot;&quot;&gt;MIME type&lt;/var&gt;. If
+      &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created
+      for this purpose by the steps above, then it must be navigated
+      with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;Otherwise, &lt;a href=#navigate&gt;navigate&lt;/a&gt; &lt;var title=&quot;&quot;&gt;target
-      browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;action&lt;/var&gt; using the
-      HTTP method given by &lt;var title=&quot;&quot;&gt;method&lt;/var&gt; and with &lt;var title=&quot;&quot;&gt;entity body&lt;/var&gt; as the entity body, of type &lt;var title=&quot;&quot;&gt;MIME type&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; was newly created for this purpose by the steps
-      above, then it must be navigated with &lt;a href=#replacement-enabled&gt;replacement
-      enabled&lt;/a&gt;.&lt;/p&gt;
-
      &lt;/dd&gt;
 
      &lt;dt&gt;&lt;dfn id=submit-get-action title=submit-get-action&gt;Get action&lt;/dfn&gt;
@@ -47571,8 +47571,8 @@
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; be &lt;a href=#the-form-submission-target-browsing-context&gt;the
       form submission target browsing context&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;action&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created for
+      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target
+      browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;action&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created for
       this purpose by the steps above, then it must be navigated with
       &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
 
@@ -47604,8 +47604,8 @@
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; be &lt;a href=#the-form-submission-target-browsing-context&gt;the
       form submission target browsing context&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; to the potentially modified &lt;var title=&quot;&quot;&gt;action&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing
+      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target
+      browsing context&lt;/var&gt; to the potentially modified &lt;var title=&quot;&quot;&gt;action&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing
       context&lt;/var&gt; was newly created for this purpose by the steps
       above, then it must be navigated with &lt;a href=#replacement-enabled&gt;replacement
       enabled&lt;/a&gt;.&lt;/p&gt;
@@ -47634,10 +47634,11 @@
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; be &lt;a href=#the-form-submission-target-browsing-context&gt;the
       form submission target browsing context&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created for
-      this purpose by the steps above, then it must be navigated with
-      &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
+      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target
+      browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If
+      &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created
+      for this purpose by the steps above, then it must be navigated
+      with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -47667,10 +47668,11 @@
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; be &lt;a href=#the-form-submission-target-browsing-context&gt;the
       form submission target browsing context&lt;/a&gt;.&lt;/p&gt;
 
-      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created for
-      this purpose by the steps above, then it must be navigated with
-      &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
+      &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target
+      browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If
+      &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created
+      for this purpose by the steps above, then it must be navigated
+      with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -49711,16 +49713,17 @@
   the user agent must &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt; the
   &lt;a href=#url&gt;URL&lt;/a&gt; given by the &lt;code title=attr-hyperlink-href&gt;&lt;a href=#attr-hyperlink-href&gt;href&lt;/a&gt;&lt;/code&gt; attribute of that element,
   relative to that element, and if that is successful, must
-  &lt;a href=#navigate&gt;navigate&lt;/a&gt; a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the
-  resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;. In the case of server-side
-  image maps, that &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; must have its
-  &lt;var&gt;&lt;a href=#hyperlink-suffix&gt;hyperlink suffix&lt;/a&gt;&lt;/var&gt; appended to it before the navigation is
-  started.&lt;/p&gt;
+  &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV hyperlink--&gt; a &lt;a href=#browsing-context&gt;browsing
+  context&lt;/a&gt; to the resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;. In the
+  case of server-side image maps, that &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; must
+  have its &lt;var&gt;&lt;a href=#hyperlink-suffix&gt;hyperlink suffix&lt;/a&gt;&lt;/var&gt; appended to it before the
+  navigation is started.&lt;/p&gt;
 
   &lt;p&gt;If &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; the
   &lt;a href=#url&gt;URL&lt;/a&gt; fails, the user agent may report the error to the
-  user in a user-agent-specific manner, may navigate to an error page
-  to report the error, or may ignore the error and do nothing.&lt;/p&gt;
+  user in a user-agent-specific manner, may
+  &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV hyperlink--&gt; to an error page to
+  report the error, or may ignore the error and do nothing.&lt;/p&gt;
 
   &lt;p&gt;If the user indicated a specific &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;
   when following the hyperlink, or if the user agent is configured to
@@ -57004,9 +57007,8 @@
      no name). The chosen browsing context must be this new browsing
      context.&lt;/p&gt;
 
-     &lt;p&gt;If it is immediately &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt;,
-     then the navigation will be done with &lt;a href=#replacement-enabled&gt;replacement
-     enabled&lt;/a&gt;.&lt;/dd&gt;
+     &lt;p class=note&gt;If it is immediately &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt;, then the navigation will be
+     done with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/dd&gt;
 
 
      &lt;dt&gt;If the user agent has been configured such that in this
@@ -57359,15 +57361,14 @@
   agent could override the selection of the target browsing context to
   instead target a new tab.&lt;/p&gt;
 
-  &lt;p&gt;Then, the user agent must &lt;a href=#navigate&gt;navigate&lt;/a&gt; the selected
-  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; (or
-  error) obtained from &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt;
-  &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier. If the &lt;var title=&quot;&quot;&gt;replace&lt;/var&gt;
-  is true, then &lt;a href=#replacement-enabled title=&quot;replacement enabled&quot;&gt;replacement must be
-  enabled&lt;/a&gt;; otherwise, it must not be enabled unless the
-  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; was just created as part of
-  &lt;a href=#the-rules-for-choosing-a-browsing-context-given-a-browsing-context-name&gt;the rules for choosing a browsing context given a browsing
-  context name&lt;/a&gt;. The navigation must be done with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the
+  &lt;p&gt;Then, the user agent must &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV
+  window.open()--&gt; the selected &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the
+  &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; (or error) obtained from &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;
+  earlier. If the &lt;var title=&quot;&quot;&gt;replace&lt;/var&gt; is true or if the
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; was just created as part of &lt;a href=#the-rules-for-choosing-a-browsing-context-given-a-browsing-context-name&gt;the
+  rules for choosing a browsing context given a browsing context
+  name&lt;/a&gt;, then &lt;a href=#replacement-enabled title=&quot;replacement enabled&quot;&gt;replacement must
+  be enabled&lt;/a&gt;. The navigation must be done with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the
   &lt;a href=#entry-script&gt;entry script&lt;/a&gt; as the &lt;a href=#source-browsing-context&gt;source browsing
   context&lt;/a&gt;.&lt;/p&gt;
 
@@ -58907,22 +58908,23 @@
   &lt;p&gt;When the &lt;dfn id=dom-location-assign title=dom-location-assign&gt;&lt;code&gt;assign(&lt;var title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method is invoked, the UA must
   &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt; the argument, relative to
   the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s &lt;a href=&quot;#script's-base-url&quot; title=&quot;script's base URL&quot;&gt;base
-  URL&lt;/a&gt;, and if that is successful, must &lt;a href=#navigate&gt;navigate&lt;/a&gt;
-  the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the specified &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;. If the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s
+  URL&lt;/a&gt;, and if that is successful, must
+  &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV location.href/assign--&gt; the
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the specified &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;. If the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s
   &lt;a href=#session-history&gt;session history&lt;/a&gt; contains only one
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, and that was the &lt;code&gt;&lt;a href=#about:blank&gt;about:blank&lt;/a&gt;&lt;/code&gt;
   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; created when the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;
-  was created, then the navigation must be done with
-  &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt; &lt;!-- READ ME WHEN EDITING
-  THIS: IE and Firefox only seem to treat it that way if the DOM is
-  still a virgin DOM; Safari doesn't check that. Thus this might need
-  changing if testing shows the IE/Firefox behaviour is required
-  here. --&gt;
+  was created, then the navigation must be done with &lt;a href=#replacement-enabled&gt;replacement
+  enabled&lt;/a&gt;.&lt;/p&gt; &lt;!-- READ ME WHEN EDITING THIS: IE and Firefox
+  only seem to treat it that way if the DOM is still a virgin DOM;
+  Safari doesn't check that. Thus this might need changing if testing
+  shows the IE/Firefox behaviour is required here. --&gt;
 
   &lt;p&gt;When the &lt;dfn id=dom-location-replace title=dom-location-replace&gt;&lt;code&gt;replace(&lt;var title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method is invoked, the UA must
   &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt; the argument, relative to
   the &lt;a href=#entry-script&gt;entry script&lt;/a&gt;'s &lt;a href=&quot;#script's-base-url&quot; title=&quot;script's base URL&quot;&gt;base
-  URL&lt;/a&gt;, and if that is successful, &lt;a href=#navigate&gt;navigate&lt;/a&gt; the
+  URL&lt;/a&gt;, and if that is successful,
+  &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV location.replace--&gt; the
   &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the specified &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;Navigation for the &lt;code title=dom-location-assign&gt;&lt;a href=#dom-location-assign&gt;assign()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-location-replace&gt;&lt;a href=#dom-location-replace&gt;replace()&lt;/a&gt;&lt;/code&gt; methods must be done
@@ -58955,24 +58957,25 @@
 
    &lt;dt&gt;Otherwise&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to
-   &lt;a href=&quot;#the-document's-current-address&quot;&gt;the document's current address&lt;/a&gt; with
-   &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;. The &lt;a href=#source-browsing-context&gt;source browsing
-   context&lt;/a&gt; must be the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; being
-   navigated.&lt;/dd&gt; &lt;!-- it appears that document.reload() always
-   uses GET and does not, e.g., re-POST. --&gt;
+   &lt;dd&gt;&lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV location.reload()--&gt; the
+   &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to &lt;a href=&quot;#the-document's-current-address&quot;&gt;the document's current
+   address&lt;/a&gt; with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;. The
+   &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt; must be the &lt;a href=#browsing-context&gt;browsing
+   context&lt;/a&gt; being navigated.&lt;/dd&gt; &lt;!-- it appears that
+   document.reload() always uses GET and does not, e.g., re-POST. --&gt;
 
    &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/141">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/141</A> --&gt;
 
   &lt;/dl&gt;&lt;p&gt;When a user requests that the current page be reloaded through a
-  user interface element, the user agent should &lt;a href=#navigate&gt;navigate&lt;/a&gt;
-  the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the same resource as
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;. In the
-  case of non-idempotent methods (e.g. HTTP POST), the user agent
-  should prompt the user to confirm the operation first, since
-  otherwise transactions (e.g. purchases or database modifications)
-  could be repeated. User agents may allow the user to explicitly
-  override any caches when reloading.&lt;/p&gt;
+  user interface element, the user agent should
+  &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV user reload--&gt; the &lt;a href=#browsing-context&gt;browsing
+  context&lt;/a&gt; to the same resource as &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, with
+  &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;. In the case of non-idempotent
+  methods (e.g. HTTP POST), the user agent should prompt the user to
+  confirm the operation first, since otherwise transactions (e.g.
+  purchases or database modifications) could be repeated. User agents
+  may allow the user to explicitly override any caches when
+  reloading.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -59084,6 +59087,8 @@
   in this specification.&lt;/p&gt;
 
   &lt;!-- NAVIGATE &lt;dfn&gt;navigate&lt;/dfn&gt; --&gt;
+  &lt;!-- For places that _call_ this, as opposed to just referring to
+  it, search for &quot;DONAV&quot; --&gt;
   &lt;p&gt;When a browsing context is &lt;dfn id=navigate title=navigate&gt;navigated&lt;/dfn&gt;
   to a new resource, the user agent must run the following steps:&lt;/p&gt;
 
@@ -59116,9 +59121,10 @@
     the new resource in a new &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt;
     or in the &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt; of the
     &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;, at the user's option, in
-    which case the user agent must &lt;a href=#navigate&gt;navigate&lt;/a&gt; that
-    designated &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt; to the new
-    resource as if the user had requested it independently.&lt;/p&gt;
+    which case the user agent must &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV
+    sandbox manual load--&gt; that designated &lt;a href=#top-level-browsing-context&gt;top-level browsing
+    context&lt;/a&gt; to the new resource as if the user had requested it
+    independently.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -59926,8 +59932,9 @@
   page&lt;/a&gt;.&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If there is no longer a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object for the
-   entry in question, the user agent must &lt;a href=#navigate&gt;navigate&lt;/a&gt; the
-   browsing context to the location for that entry to perform an
+   entry in question, the user agent must
+   &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV history traversal after eviction--&gt;
+   the browsing context to the location for that entry to perform an
    &lt;a href=#entry-update&gt;entry update&lt;/a&gt; of that entry, and abort these steps. The
    &quot;&lt;a href=#navigate&gt;navigate&lt;/a&gt;&quot; algorithm reinvokes this &quot;traverse&quot;
    algorithm to complete the traversal, at which point there
@@ -64347,11 +64354,13 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt; the new &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to
-    the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; that resulted from &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt; &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;
-    earlier, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing context&quot;&gt;browsing context&lt;/a&gt; of the
-    &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method
-    as the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=#navigate&gt;Navigate&lt;/a&gt;&lt;!--DONAV showModalDialog--&gt; the new
+    &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;
+    that resulted from &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolving&lt;/a&gt;
+    &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier, with &lt;a href=#replacement-enabled&gt;replacement
+    enabled&lt;/a&gt;, and with the &lt;a href=&quot;#script's-browsing-context&quot; title=&quot;script's browsing
+    context&quot;&gt;browsing context&lt;/a&gt; of the &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; that invoked the method as
+    the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -64702,10 +64711,10 @@
     a url&quot;&gt;resolve&lt;/a&gt; the resulting URL, relative to the &lt;a href=&quot;#script's-base-url&quot; title=&quot;script's base URL&quot;&gt;base URL&lt;/a&gt; of the &lt;a href=#entry-script&gt;entry
     script&lt;/a&gt; at the time the &lt;code title=dom-navigator-registerContentHandler&gt;&lt;a href=#dom-navigator-registercontenthandler&gt;registerContentHandler()&lt;/a&gt;&lt;/code&gt;
     or &lt;code title=dom-navigator-registerProtocolHandler&gt;&lt;a href=#dom-navigator-registerprotocolhandler&gt;registerProtocolHandler()&lt;/a&gt;&lt;/code&gt;
-    methods were invoked, and then &lt;a href=#navigate&gt;navigate&lt;/a&gt; an
-    appropriate &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the resulting URL
-    using the GET method (&lt;a href=#concept-http-equivalent-get title=concept-http-equivalent-get&gt;or
-    equivalent&lt;/a&gt; for non-HTTP URLs).&lt;/p&gt;
+    methods were invoked, and then &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV
+    user--&gt; an appropriate &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; to the
+    resulting URL using the GET method (&lt;a href=#concept-http-equivalent-get title=concept-http-equivalent-get&gt;or equivalent&lt;/a&gt; for
+    non-HTTP URLs).&lt;/p&gt;
 
     &lt;p&gt;To get the escaped version of the &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; of
     the content in question, the user agent must replace every
@@ -71948,11 +71957,11 @@
    convert the input stream to the new encoding, set the &lt;a href=#concept-encoding-confidence title=concept-encoding-confidence&gt;confidence&lt;/a&gt; to
    &lt;i&gt;certain&lt;/i&gt;, and abort these steps.&lt;/li&gt;
 
-   &lt;li&gt;Otherwise, &lt;a href=#navigate&gt;navigate&lt;/a&gt; to the document again, with
-   &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and using the same &lt;a href=#source-browsing-context&gt;source
-   browsing context&lt;/a&gt;, but this time skip the &lt;a href=#encoding-sniffing-algorithm&gt;encoding
-   sniffing algorithm&lt;/a&gt; and instead just set the encoding to the
-   new encoding and the &lt;a href=#concept-encoding-confidence title=concept-encoding-confidence&gt;confidence&lt;/a&gt; to
+   &lt;li&gt;Otherwise, &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV reparse--&gt; to the
+   document again, with &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and using
+   the same &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;, but this time skip
+   the &lt;a href=#encoding-sniffing-algorithm&gt;encoding sniffing algorithm&lt;/a&gt; and instead just set
+   the encoding to the new encoding and the &lt;a href=#concept-encoding-confidence title=concept-encoding-confidence&gt;confidence&lt;/a&gt; to
    &lt;i&gt;certain&lt;/i&gt;. Whenever possible, this should be done without
    actually contacting the network layer (the bytes should be
    re-parsed from memory), even if, e.g., the document is marked as
@@ -82730,9 +82739,9 @@
   part of such auditing.&lt;/p&gt;
 &lt;!--PING--&gt;
 
-  &lt;p&gt;User agents are expected to allow users to &lt;a href=#navigate&gt;navigate&lt;/a&gt;
-  &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt; to the
-  resources &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;indicated&lt;/a&gt; by the &lt;code title=&quot;&quot;&gt;cite&lt;/code&gt; attributes on &lt;code&gt;&lt;a href=#the-q-element&gt;q&lt;/a&gt;&lt;/code&gt;,
+  &lt;p&gt;User agents are expected to allow users to
+  &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV cite=&quot;&quot;--&gt; &lt;a href=#browsing-context title=&quot;browsing
+  context&quot;&gt;browsing contexts&lt;/a&gt; to the resources &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;indicated&lt;/a&gt; by the &lt;code title=&quot;&quot;&gt;cite&lt;/code&gt; attributes on &lt;code&gt;&lt;a href=#the-q-element&gt;q&lt;/a&gt;&lt;/code&gt;,
   &lt;code&gt;&lt;a href=#the-blockquote-element&gt;blockquote&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-section-element&gt;section&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-article-element&gt;article&lt;/a&gt;&lt;/code&gt;,
   &lt;code&gt;&lt;a href=#the-ins-element&gt;ins&lt;/a&gt;&lt;/code&gt;, and &lt;code&gt;&lt;a href=#the-del-element&gt;del&lt;/a&gt;&lt;/code&gt; elements.&lt;/p&gt;
 
@@ -83588,21 +83597,20 @@
   &lt;p&gt;When the browsing context is created, if a &lt;code title=attr-frame-src&gt;src&lt;/code&gt; attribute is present, the user
   agent must &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt; the value of
   that attribute, relative to the element, and if that is successful,
-  must then &lt;a href=#navigate&gt;navigate&lt;/a&gt; the element's browsing context to
-  the resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, with &lt;a href=#replacement-enabled&gt;replacement
-  enabled&lt;/a&gt;, and with the &lt;code&gt;&lt;a href=#frame&gt;frame&lt;/a&gt;&lt;/code&gt; element's
+  must then &lt;a href=#navigate&gt;navigate&lt;/a&gt;&lt;!--DONAV frame--&gt; the element's
+  browsing context to the resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, with
+  &lt;a href=#replacement-enabled&gt;replacement enabled&lt;/a&gt;, and with the &lt;code&gt;&lt;a href=#frame&gt;frame&lt;/a&gt;&lt;/code&gt;
+  element's document's &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; as the
+  &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Whenever the &lt;code title=attr-frame-src&gt;src&lt;/code&gt; attribute is
+  set, the user agent must &lt;a href=#resolve-a-url title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt;
+  the value of that attribute, relative to the element, and if that is
+  successful, the nested &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; must be &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt;&lt;!--DONAV frame--&gt; to the resulting
+  &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, with the &lt;code&gt;&lt;a href=#frame&gt;frame&lt;/a&gt;&lt;/code&gt; element's
   document's &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; as the &lt;a href=#source-browsing-context&gt;source
   browsing context&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Whenever the &lt;code title=attr-frame-src&gt;src&lt;/code&gt; attribute
-  is set, the user agent must &lt;a href=#resolve-a-url title=&quot;resolve a
-  url&quot;&gt;resolve&lt;/a&gt; the value of that attribute, relative to the
-  element, and if that is successful, the nested &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt; must be &lt;a href=#navigate title=navigate&gt;navigated&lt;/a&gt; to
-  the resulting &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt;, with the
-  &lt;code&gt;&lt;a href=#frame&gt;frame&lt;/a&gt;&lt;/code&gt; element's document's &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt; as the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;.&lt;/p&gt;
-
   &lt;p&gt;When the browsing context is created, if a &lt;code title=attr-frame-name&gt;name&lt;/code&gt; attribute is present, the
   &lt;a href=#browsing-context-name&gt;browsing context name&lt;/a&gt; must be set to the value of this
   attribute; otherwise, the &lt;a href=#browsing-context-name&gt;browsing context name&lt;/a&gt; must be

Modified: source
===================================================================
--- source	2010-11-15 23:25:55 UTC (rev 5682)
+++ source	2010-11-29 22:56:34 UTC (rev 5683)
@@ -14437,17 +14437,17 @@
        &lt;span&gt;browsing context&lt;/span&gt; did not have the &lt;span&gt;sandboxed
        automatic features browsing context flag&lt;/span&gt; set when the
        &lt;code&gt;Document&lt;/code&gt; was created, the user agent &lt;span
-       title=&quot;navigate&quot;&gt;navigates&lt;/span&gt; the &lt;code&gt;Document&lt;/code&gt;'s
-       &lt;span&gt;browsing context&lt;/span&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, with
-       &lt;span&gt;replacement enabled&lt;/span&gt;, and with the
-       &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;browsing context&lt;/span&gt; as the
-       &lt;span&gt;source browsing context&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+       title=&quot;navigate&quot;&gt;navigates&lt;/span&gt;&lt;!--DONAV meta refresh--&gt; the
+       &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;browsing context&lt;/span&gt; to &lt;var
+       title=&quot;&quot;&gt;url&lt;/var&gt;, with &lt;span&gt;replacement enabled&lt;/span&gt;, and
+       with the &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;browsing context&lt;/span&gt;
+       as the &lt;span&gt;source browsing context&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
        &lt;li&gt;&lt;p&gt;Provide the user with an interface that, when selected,
-       &lt;span title=&quot;navigate&quot;&gt;navigates&lt;/span&gt; a &lt;span&gt;browsing
-       context&lt;/span&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, with the document's
-       browsing context as the &lt;span&gt;source browsing
-       context&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+       &lt;span title=&quot;navigate&quot;&gt;navigates&lt;/span&gt;&lt;!--DONAV meta
+       refresh--&gt; a &lt;span&gt;browsing context&lt;/span&gt; to &lt;var
+       title=&quot;&quot;&gt;url&lt;/var&gt;, with the document's browsing context as the
+       &lt;span&gt;source browsing context&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
        &lt;li&gt;&lt;p&gt;Do nothing.&lt;/p&gt;&lt;/li&gt;
 
@@ -23839,13 +23839,14 @@
    &lt;dt&gt;If the &lt;code title=&quot;attr-iframe-srcdoc&quot;&gt;srcdoc&lt;/code&gt; attribute
    is specified&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt; the element's &lt;span&gt;browsing
-   context&lt;/span&gt; to a resource whose &lt;span&gt;Content-Type&lt;/span&gt; is
-   &lt;code&gt;text/html&lt;/code&gt;, whose &lt;span&gt;URL&lt;/span&gt; is
-   &lt;code&gt;about:srcdoc&lt;/code&gt;, and whose data consists of the value of
-   the attribute. The resulting &lt;code&gt;Document&lt;/code&gt; must be
-   considered &lt;span&gt;an &lt;code&gt;iframe&lt;/code&gt; &lt;code
-   title=&quot;attr-iframe-srcdoc&quot;&gt;srcdoc&lt;/code&gt; document&lt;/span&gt;.&lt;/p&gt;&lt;/dd&gt;
+   &lt;dd&gt;&lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt;&lt;!--DONAV iframe--&gt; the element's
+   &lt;span&gt;browsing context&lt;/span&gt; to a resource whose
+   &lt;span&gt;Content-Type&lt;/span&gt; is &lt;code&gt;text/html&lt;/code&gt;, whose
+   &lt;span&gt;URL&lt;/span&gt; is &lt;code&gt;about:srcdoc&lt;/code&gt;, and whose data
+   consists of the value of the attribute. The resulting
+   &lt;code&gt;Document&lt;/code&gt; must be considered &lt;span&gt;an
+   &lt;code&gt;iframe&lt;/code&gt; &lt;code title=&quot;attr-iframe-srcdoc&quot;&gt;srcdoc&lt;/code&gt;
+   document&lt;/span&gt;.&lt;/p&gt;&lt;/dd&gt;
 
    &lt;dt&gt;If the &lt;code title=&quot;attr-iframe-src&quot;&gt;src&lt;/code&gt;
    attribute is specified but the &lt;code
@@ -23874,8 +23875,8 @@
      first time, &lt;code&gt;about:blank&lt;/code&gt; is loaded
      normally.)&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt; the element's &lt;span&gt;browsing
-     context&lt;/span&gt; to the resulting &lt;span&gt;absolute
+     &lt;li&gt;&lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt;&lt;!--DONAV iframe--&gt; the element's
+     &lt;span&gt;browsing context&lt;/span&gt; to the resulting &lt;span&gt;absolute
      URL&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
     &lt;/ol&gt;
@@ -25512,13 +25513,12 @@
         &lt;p&gt;If the &lt;span&gt;URL&lt;/span&gt; of the given resource is not
         &lt;code&gt;about:blank&lt;/code&gt;, the element's &lt;span&gt;nested browsing
         context&lt;/span&gt; must then be &lt;span
-        title=&quot;navigate&quot;&gt;navigated&lt;/span&gt; to that resource, with
-        &lt;span&gt;replacement enabled&lt;/span&gt;, and with the
+        title=&quot;navigate&quot;&gt;navigated&lt;/span&gt;&lt;!--DONAV object--&gt; to that
+        resource, with &lt;span&gt;replacement enabled&lt;/span&gt;, and with the
         &lt;code&gt;object&lt;/code&gt; element's document's &lt;span&gt;browsing
-        context&lt;/span&gt; as the &lt;span&gt;source browsing
-        context&lt;/span&gt;. (The &lt;code
-        title=&quot;attr-object-data&quot;&gt;data&lt;/code&gt; attribute of the
-        &lt;code&gt;object&lt;/code&gt; element doesn't get updated if the
+        context&lt;/span&gt; as the &lt;span&gt;source browsing context&lt;/span&gt;.
+        (The &lt;code title=&quot;attr-object-data&quot;&gt;data&lt;/code&gt; attribute of
+        the &lt;code&gt;object&lt;/code&gt; element doesn't get updated if the
         browsing context gets further navigated to other
         locations.)&lt;/p&gt;
 
@@ -34374,10 +34374,11 @@
   vertical direction. The arguments are in coordinate space units.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;dom-context-2d-transform&quot;&gt;&lt;code&gt;transform(&lt;var
-  title=&quot;&quot;&gt;a&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;b&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;c&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;d&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;f&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must multiply the
-  current transformation matrix with the matrix described by:&lt;/p&gt;
+  title=&quot;&quot;&gt;a&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;b&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;c&lt;/var&gt;, &lt;var
+  title=&quot;&quot;&gt;d&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;e&lt;/var&gt;, &lt;var
+  title=&quot;&quot;&gt;f&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must replace the current
+  transformation matrix with the result of multiplying the current
+  transformation matrix with the matrix described by:&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -53431,11 +53432,11 @@
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; be &lt;span&gt;the
       form submission target browsing context&lt;/span&gt;.&lt;/p&gt;
 
-      &lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt; &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If &lt;var
-      title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created for
-      this purpose by the steps above, then it must be navigated with
-      &lt;span&gt;replacement enabled&lt;/span&gt;.&lt;/p&gt;
+      &lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target
+      browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If
+      &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created
+      for this purpose by the steps above, then it must be navigated
+      with &lt;span&gt;replacement enabled&lt;/span&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -53470,20 +53471,22 @@
 
       &lt;/dl&gt;
 
-      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;method&lt;/var&gt; is anything but &lt;!--GET or--&gt;
+      &lt;!--&lt;p&gt;If &lt;var title=&quot;&quot;&gt;method&lt;/var&gt; is anything but (GET or)
       POST, and the &lt;span&gt;origin&lt;/span&gt; of &lt;var title=&quot;&quot;&gt;action&lt;/var&gt;
       is not the &lt;span&gt;same origin&lt;/span&gt; as that of the
       &lt;code&gt;form&lt;/code&gt; element's &lt;code&gt;Document&lt;/code&gt;, then abort
-      these steps.&lt;/p&gt; &lt;!-- CORS, one day --&gt;
+      these steps.&lt;/p&gt; [or do CORS] (this is commented out since only
+      POST can trigger this now, and that's historically
+      unrestricted)--&gt;
 
-      &lt;p&gt;Otherwise, &lt;span&gt;navigate&lt;/span&gt; &lt;var title=&quot;&quot;&gt;target
-      browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;action&lt;/var&gt; using the
-      HTTP method given by &lt;var title=&quot;&quot;&gt;method&lt;/var&gt; and with &lt;var
-      title=&quot;&quot;&gt;entity body&lt;/var&gt; as the entity body, of type &lt;var
-      title=&quot;&quot;&gt;MIME type&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; was newly created for this purpose by the steps
-      above, then it must be navigated with &lt;span&gt;replacement
-      enabled&lt;/span&gt;.&lt;/p&gt;
+      &lt;p&gt;Otherwise, &lt;span&gt;navigate&lt;/span&gt;&lt;!--DONAV form--&gt; &lt;var
+      title=&quot;&quot;&gt;target browsing context&lt;/var&gt; to &lt;var
+      title=&quot;&quot;&gt;action&lt;/var&gt; using the HTTP method given by &lt;var
+      title=&quot;&quot;&gt;method&lt;/var&gt; and with &lt;var title=&quot;&quot;&gt;entity body&lt;/var&gt;
+      as the entity body, of type &lt;var title=&quot;&quot;&gt;MIME type&lt;/var&gt;. If
+      &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created
+      for this purpose by the steps above, then it must be navigated
+      with &lt;span&gt;replacement enabled&lt;/span&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -53493,8 +53496,8 @@
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; be &lt;span&gt;the
       form submission target browsing context&lt;/span&gt;.&lt;/p&gt;
 
-      &lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt; &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;action&lt;/var&gt;. If &lt;var
+      &lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target
+      browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;action&lt;/var&gt;. If &lt;var
       title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created for
       this purpose by the steps above, then it must be navigated with
       &lt;span&gt;replacement enabled&lt;/span&gt;.&lt;/p&gt;
@@ -53534,8 +53537,8 @@
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; be &lt;span&gt;the
       form submission target browsing context&lt;/span&gt;.&lt;/p&gt;
 
-      &lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt; &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; to the potentially modified &lt;var
+      &lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target
+      browsing context&lt;/var&gt; to the potentially modified &lt;var
       title=&quot;&quot;&gt;action&lt;/var&gt;. If &lt;var title=&quot;&quot;&gt;target browsing
       context&lt;/var&gt; was newly created for this purpose by the steps
       above, then it must be navigated with &lt;span&gt;replacement
@@ -53570,11 +53573,11 @@
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; be &lt;span&gt;the
       form submission target browsing context&lt;/span&gt;.&lt;/p&gt;
 
-      &lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt; &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If &lt;var
-      title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created for
-      this purpose by the steps above, then it must be navigated with
-      &lt;span&gt;replacement enabled&lt;/span&gt;.&lt;/p&gt;
+      &lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target
+      browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If
+      &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created
+      for this purpose by the steps above, then it must be navigated
+      with &lt;span&gt;replacement enabled&lt;/span&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -53606,11 +53609,11 @@
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; be &lt;span&gt;the
       form submission target browsing context&lt;/span&gt;.&lt;/p&gt;
 
-      &lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt; &lt;var title=&quot;&quot;&gt;target browsing
-      context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If &lt;var
-      title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created for
-      this purpose by the steps above, then it must be navigated with
-      &lt;span&gt;replacement enabled&lt;/span&gt;.&lt;/p&gt;
+      &lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt;&lt;!--DONAV form--&gt; &lt;var title=&quot;&quot;&gt;target
+      browsing context&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;destination&lt;/var&gt;. If
+      &lt;var title=&quot;&quot;&gt;target browsing context&lt;/var&gt; was newly created
+      for this purpose by the steps above, then it must be navigated
+      with &lt;span&gt;replacement enabled&lt;/span&gt;.&lt;/p&gt;
 
      &lt;/dd&gt;
 
@@ -55988,16 +55991,17 @@
   &lt;span&gt;URL&lt;/span&gt; given by the &lt;code
   title=&quot;attr-hyperlink-href&quot;&gt;href&lt;/code&gt; attribute of that element,
   relative to that element, and if that is successful, must
-  &lt;span&gt;navigate&lt;/span&gt; a &lt;span&gt;browsing context&lt;/span&gt; to the
-  resulting &lt;span&gt;absolute URL&lt;/span&gt;. In the case of server-side
-  image maps, that &lt;span&gt;absolute URL&lt;/span&gt; must have its
-  &lt;var&gt;hyperlink suffix&lt;/var&gt; appended to it before the navigation is
-  started.&lt;/p&gt;
+  &lt;span&gt;navigate&lt;/span&gt;&lt;!--DONAV hyperlink--&gt; a &lt;span&gt;browsing
+  context&lt;/span&gt; to the resulting &lt;span&gt;absolute URL&lt;/span&gt;. In the
+  case of server-side image maps, that &lt;span&gt;absolute URL&lt;/span&gt; must
+  have its &lt;var&gt;hyperlink suffix&lt;/var&gt; appended to it before the
+  navigation is started.&lt;/p&gt;
 
   &lt;p&gt;If &lt;span title=&quot;resolve a url&quot;&gt;resolving&lt;/span&gt; the
   &lt;span&gt;URL&lt;/span&gt; fails, the user agent may report the error to the
-  user in a user-agent-specific manner, may navigate to an error page
-  to report the error, or may ignore the error and do nothing.&lt;/p&gt;
+  user in a user-agent-specific manner, may
+  &lt;span&gt;navigate&lt;/span&gt;&lt;!--DONAV hyperlink--&gt; to an error page to
+  report the error, or may ignore the error and do nothing.&lt;/p&gt;
 
   &lt;p&gt;If the user indicated a specific &lt;span&gt;browsing context&lt;/span&gt;
   when following the hyperlink, or if the user agent is configured to
@@ -64788,9 +64792,9 @@
      no name). The chosen browsing context must be this new browsing
      context.&lt;/p&gt;
 
-     &lt;p&gt;If it is immediately &lt;span title=&quot;navigate&quot;&gt;navigated&lt;/span&gt;,
-     then the navigation will be done with &lt;span&gt;replacement
-     enabled&lt;/span&gt;.&lt;/p&gt;&lt;/dd&gt;
+     &lt;p class=&quot;note&quot;&gt;If it is immediately &lt;span
+     title=&quot;navigate&quot;&gt;navigated&lt;/span&gt;, then the navigation will be
+     done with &lt;span&gt;replacement enabled&lt;/span&gt;.&lt;/p&gt;&lt;/dd&gt;
 
 
      &lt;dt&gt;If the user agent has been configured such that in this
@@ -65169,15 +65173,15 @@
   agent could override the selection of the target browsing context to
   instead target a new tab.&lt;/p&gt;
 
-  &lt;p&gt;Then, the user agent must &lt;span&gt;navigate&lt;/span&gt; the selected
-  &lt;span&gt;browsing context&lt;/span&gt; to the &lt;span&gt;absolute URL&lt;/span&gt; (or
-  error) obtained from &lt;span title=&quot;resolve a url&quot;&gt;resolving&lt;/span&gt;
-  &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier. If the &lt;var title=&quot;&quot;&gt;replace&lt;/var&gt;
-  is true, then &lt;span title=&quot;replacement enabled&quot;&gt;replacement must be
-  enabled&lt;/span&gt;; otherwise, it must not be enabled unless the
-  &lt;span&gt;browsing context&lt;/span&gt; was just created as part of
-  &lt;span&gt;the rules for choosing a browsing context given a browsing
-  context name&lt;/span&gt;. The navigation must be done with the &lt;span
+  &lt;p&gt;Then, the user agent must &lt;span&gt;navigate&lt;/span&gt;&lt;!--DONAV
+  window.open()--&gt; the selected &lt;span&gt;browsing context&lt;/span&gt; to the
+  &lt;span&gt;absolute URL&lt;/span&gt; (or error) obtained from &lt;span
+  title=&quot;resolve a url&quot;&gt;resolving&lt;/span&gt; &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;
+  earlier. If the &lt;var title=&quot;&quot;&gt;replace&lt;/var&gt; is true or if the
+  &lt;span&gt;browsing context&lt;/span&gt; was just created as part of &lt;span&gt;the
+  rules for choosing a browsing context given a browsing context
+  name&lt;/span&gt;, then &lt;span title=&quot;replacement enabled&quot;&gt;replacement must
+  be enabled&lt;/span&gt;. The navigation must be done with the &lt;span
   title=&quot;script's browsing context&quot;&gt;browsing context&lt;/span&gt; of the
   &lt;span&gt;entry script&lt;/span&gt; as the &lt;span&gt;source browsing
   context&lt;/span&gt;.&lt;/p&gt;
@@ -66939,24 +66943,25 @@
   title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method is invoked, the UA must
   &lt;span title=&quot;resolve a url&quot;&gt;resolve&lt;/span&gt; the argument, relative to
   the &lt;span&gt;entry script&lt;/span&gt;'s &lt;span title=&quot;script's base URL&quot;&gt;base
-  URL&lt;/span&gt;, and if that is successful, must &lt;span&gt;navigate&lt;/span&gt;
-  the &lt;span&gt;browsing context&lt;/span&gt; to the specified &lt;var
+  URL&lt;/span&gt;, and if that is successful, must
+  &lt;span&gt;navigate&lt;/span&gt;&lt;!--DONAV location.href/assign--&gt; the
+  &lt;span&gt;browsing context&lt;/span&gt; to the specified &lt;var
   title=&quot;&quot;&gt;url&lt;/var&gt;. If the &lt;span&gt;browsing context&lt;/span&gt;'s
   &lt;span&gt;session history&lt;/span&gt; contains only one
   &lt;code&gt;Document&lt;/code&gt;, and that was the &lt;code&gt;about:blank&lt;/code&gt;
   &lt;code&gt;Document&lt;/code&gt; created when the &lt;span&gt;browsing context&lt;/span&gt;
-  was created, then the navigation must be done with
-  &lt;span&gt;replacement enabled&lt;/span&gt;.&lt;/p&gt; &lt;!-- READ ME WHEN EDITING
-  THIS: IE and Firefox only seem to treat it that way if the DOM is
-  still a virgin DOM; Safari doesn't check that. Thus this might need
-  changing if testing shows the IE/Firefox behaviour is required
-  here. --&gt;
+  was created, then the navigation must be done with &lt;span&gt;replacement
+  enabled&lt;/span&gt;.&lt;/p&gt; &lt;!-- READ ME WHEN EDITING THIS: IE and Firefox
+  only seem to treat it that way if the DOM is still a virgin DOM;
+  Safari doesn't check that. Thus this might need changing if testing
+  shows the IE/Firefox behaviour is required here. --&gt;
 
   &lt;p&gt;When the &lt;dfn title=&quot;dom-location-replace&quot;&gt;&lt;code&gt;replace(&lt;var
   title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method is invoked, the UA must
   &lt;span title=&quot;resolve a url&quot;&gt;resolve&lt;/span&gt; the argument, relative to
   the &lt;span&gt;entry script&lt;/span&gt;'s &lt;span title=&quot;script's base URL&quot;&gt;base
-  URL&lt;/span&gt;, and if that is successful, &lt;span&gt;navigate&lt;/span&gt; the
+  URL&lt;/span&gt;, and if that is successful,
+  &lt;span&gt;navigate&lt;/span&gt;&lt;!--DONAV location.replace--&gt; the
   &lt;span&gt;browsing context&lt;/span&gt; to the specified &lt;var
   title=&quot;&quot;&gt;url&lt;/var&gt; with &lt;span&gt;replacement enabled&lt;/span&gt;.&lt;/p&gt;
 
@@ -66999,26 +67004,27 @@
 
    &lt;dt&gt;Otherwise&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt; the &lt;span&gt;browsing context&lt;/span&gt; to
-   &lt;span&gt;the document's current address&lt;/span&gt; with
-   &lt;span&gt;replacement enabled&lt;/span&gt;. The &lt;span&gt;source browsing
-   context&lt;/span&gt; must be the &lt;span&gt;browsing context&lt;/span&gt; being
-   navigated.&lt;/p&gt;&lt;/dd&gt; &lt;!-- it appears that document.reload() always
-   uses GET and does not, e.g., re-POST. --&gt;
+   &lt;dd&gt;&lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt;&lt;!--DONAV location.reload()--&gt; the
+   &lt;span&gt;browsing context&lt;/span&gt; to &lt;span&gt;the document's current
+   address&lt;/span&gt; with &lt;span&gt;replacement enabled&lt;/span&gt;. The
+   &lt;span&gt;source browsing context&lt;/span&gt; must be the &lt;span&gt;browsing
+   context&lt;/span&gt; being navigated.&lt;/p&gt;&lt;/dd&gt; &lt;!-- it appears that
+   document.reload() always uses GET and does not, e.g., re-POST. --&gt;
 
    &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/141">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/141</A> --&gt;
 
   &lt;/dl&gt;
 
   &lt;p&gt;When a user requests that the current page be reloaded through a
-  user interface element, the user agent should &lt;span&gt;navigate&lt;/span&gt;
-  the &lt;span&gt;browsing context&lt;/span&gt; to the same resource as
-  &lt;code&gt;Document&lt;/code&gt;, with &lt;span&gt;replacement enabled&lt;/span&gt;. In the
-  case of non-idempotent methods (e.g. HTTP POST), the user agent
-  should prompt the user to confirm the operation first, since
-  otherwise transactions (e.g. purchases or database modifications)
-  could be repeated. User agents may allow the user to explicitly
-  override any caches when reloading.&lt;/p&gt;
+  user interface element, the user agent should
+  &lt;span&gt;navigate&lt;/span&gt;&lt;!--DONAV user reload--&gt; the &lt;span&gt;browsing
+  context&lt;/span&gt; to the same resource as &lt;code&gt;Document&lt;/code&gt;, with
+  &lt;span&gt;replacement enabled&lt;/span&gt;. In the case of non-idempotent
+  methods (e.g. HTTP POST), the user agent should prompt the user to
+  confirm the operation first, since otherwise transactions (e.g.
+  purchases or database modifications) could be repeated. User agents
+  may allow the user to explicitly override any caches when
+  reloading.&lt;/p&gt;
 
   &lt;/div&gt;
 
@@ -67152,6 +67158,8 @@
   in this specification.&lt;/p&gt;
 
   &lt;!-- NAVIGATE &lt;dfn&gt;navigate&lt;/dfn&gt; --&gt;
+  &lt;!-- For places that _call_ this, as opposed to just referring to
+  it, search for &quot;DONAV&quot; --&gt;
   &lt;p&gt;When a browsing context is &lt;dfn title=&quot;navigate&quot;&gt;navigated&lt;/dfn&gt;
   to a new resource, the user agent must run the following steps:&lt;/p&gt;
 
@@ -67187,9 +67195,10 @@
     the new resource in a new &lt;span&gt;top-level browsing context&lt;/span&gt;
     or in the &lt;span&gt;top-level browsing context&lt;/span&gt; of the
     &lt;span&gt;source browsing context&lt;/span&gt;, at the user's option, in
-    which case the user agent must &lt;span&gt;navigate&lt;/span&gt; that
-    designated &lt;span&gt;top-level browsing context&lt;/span&gt; to the new
-    resource as if the user had requested it independently.&lt;/p&gt;
+    which case the user agent must &lt;span&gt;navigate&lt;/span&gt;&lt;!--DONAV
+    sandbox manual load--&gt; that designated &lt;span&gt;top-level browsing
+    context&lt;/span&gt; to the new resource as if the user had requested it
+    independently.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -68094,8 +68103,9 @@
   &lt;ol&gt;
 
    &lt;li&gt;&lt;p&gt;If there is no longer a &lt;code&gt;Document&lt;/code&gt; object for the
-   entry in question, the user agent must &lt;span&gt;navigate&lt;/span&gt; the
-   browsing context to the location for that entry to perform an
+   entry in question, the user agent must
+   &lt;span&gt;navigate&lt;/span&gt;&lt;!--DONAV history traversal after eviction--&gt;
+   the browsing context to the location for that entry to perform an
    &lt;span&gt;entry update&lt;/span&gt; of that entry, and abort these steps. The
    &quot;&lt;span&gt;navigate&lt;/span&gt;&quot; algorithm reinvokes this &quot;traverse&quot;
    algorithm to complete the traversal, at which point there
@@ -73292,13 +73302,14 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt; the new &lt;span&gt;browsing context&lt;/span&gt; to
-    the &lt;span&gt;absolute URL&lt;/span&gt; that resulted from &lt;span
-    title=&quot;resolve a url&quot;&gt;resolving&lt;/span&gt; &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;
-    earlier, with &lt;span&gt;replacement enabled&lt;/span&gt;, and with the &lt;span
-    title=&quot;script's browsing context&quot;&gt;browsing context&lt;/span&gt; of the
-    &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; that invoked the method
-    as the &lt;span&gt;source browsing context&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Navigate&lt;/span&gt;&lt;!--DONAV showModalDialog--&gt; the new
+    &lt;span&gt;browsing context&lt;/span&gt; to the &lt;span&gt;absolute URL&lt;/span&gt;
+    that resulted from &lt;span title=&quot;resolve a url&quot;&gt;resolving&lt;/span&gt;
+    &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; earlier, with &lt;span&gt;replacement
+    enabled&lt;/span&gt;, and with the &lt;span title=&quot;script's browsing
+    context&quot;&gt;browsing context&lt;/span&gt; of the &lt;span
+    title=&quot;concept-script&quot;&gt;script&lt;/span&gt; that invoked the method as
+    the &lt;span&gt;source browsing context&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -73687,10 +73698,11 @@
     title=&quot;dom-navigator-registerContentHandler&quot;&gt;registerContentHandler()&lt;/code&gt;
     or &lt;code
     title=&quot;dom-navigator-registerProtocolHandler&quot;&gt;registerProtocolHandler()&lt;/code&gt;
-    methods were invoked, and then &lt;span&gt;navigate&lt;/span&gt; an
-    appropriate &lt;span&gt;browsing context&lt;/span&gt; to the resulting URL
-    using the GET method (&lt;span title=&quot;concept-http-equivalent-get&quot;&gt;or
-    equivalent&lt;/span&gt; for non-HTTP URLs).&lt;/p&gt;
+    methods were invoked, and then &lt;span&gt;navigate&lt;/span&gt;&lt;!--DONAV
+    user--&gt; an appropriate &lt;span&gt;browsing context&lt;/span&gt; to the
+    resulting URL using the GET method (&lt;span
+    title=&quot;concept-http-equivalent-get&quot;&gt;or equivalent&lt;/span&gt; for
+    non-HTTP URLs).&lt;/p&gt;
 
     &lt;p&gt;To get the escaped version of the &lt;span&gt;absolute URL&lt;/span&gt; of
     the content in question, the user agent must replace every
@@ -87256,11 +87268,11 @@
    title=&quot;concept-encoding-confidence&quot;&gt;confidence&lt;/span&gt; to
    &lt;i&gt;certain&lt;/i&gt;, and abort these steps.&lt;/li&gt;
 
-   &lt;li&gt;Otherwise, &lt;span&gt;navigate&lt;/span&gt; to the document again, with
-   &lt;span&gt;replacement enabled&lt;/span&gt;, and using the same &lt;span&gt;source
-   browsing context&lt;/span&gt;, but this time skip the &lt;span&gt;encoding
-   sniffing algorithm&lt;/span&gt; and instead just set the encoding to the
-   new encoding and the &lt;span
+   &lt;li&gt;Otherwise, &lt;span&gt;navigate&lt;/span&gt;&lt;!--DONAV reparse--&gt; to the
+   document again, with &lt;span&gt;replacement enabled&lt;/span&gt;, and using
+   the same &lt;span&gt;source browsing context&lt;/span&gt;, but this time skip
+   the &lt;span&gt;encoding sniffing algorithm&lt;/span&gt; and instead just set
+   the encoding to the new encoding and the &lt;span
    title=&quot;concept-encoding-confidence&quot;&gt;confidence&lt;/span&gt; to
    &lt;i&gt;certain&lt;/i&gt;. Whenever possible, this should be done without
    actually contacting the network layer (the bytes should be
@@ -99507,9 +99519,10 @@
   part of such auditing.&lt;/p&gt;
 &lt;!--START w3c-html--&gt;&lt;!--PING--&gt;
 
-  &lt;p&gt;User agents are expected to allow users to &lt;span&gt;navigate&lt;/span&gt;
-  &lt;span title=&quot;browsing context&quot;&gt;browsing contexts&lt;/span&gt; to the
-  resources &lt;span title=&quot;resolve a url&quot;&gt;indicated&lt;/span&gt; by the &lt;code
+  &lt;p&gt;User agents are expected to allow users to
+  &lt;span&gt;navigate&lt;/span&gt;&lt;!--DONAV cite=&quot;&quot;--&gt; &lt;span title=&quot;browsing
+  context&quot;&gt;browsing contexts&lt;/span&gt; to the resources &lt;span
+  title=&quot;resolve a url&quot;&gt;indicated&lt;/span&gt; by the &lt;code
   title=&quot;&quot;&gt;cite&lt;/code&gt; attributes on &lt;code&gt;q&lt;/code&gt;,
   &lt;code&gt;blockquote&lt;/code&gt;, &lt;code&gt;section&lt;/code&gt;, &lt;code&gt;article&lt;/code&gt;,
   &lt;code&gt;ins&lt;/code&gt;, and &lt;code&gt;del&lt;/code&gt; elements.&lt;/p&gt;
@@ -100518,21 +100531,21 @@
   title=&quot;attr-frame-src&quot;&gt;src&lt;/code&gt; attribute is present, the user
   agent must &lt;span title=&quot;resolve a url&quot;&gt;resolve&lt;/span&gt; the value of
   that attribute, relative to the element, and if that is successful,
-  must then &lt;span&gt;navigate&lt;/span&gt; the element's browsing context to
-  the resulting &lt;span&gt;absolute URL&lt;/span&gt;, with &lt;span&gt;replacement
-  enabled&lt;/span&gt;, and with the &lt;code&gt;frame&lt;/code&gt; element's
+  must then &lt;span&gt;navigate&lt;/span&gt;&lt;!--DONAV frame--&gt; the element's
+  browsing context to the resulting &lt;span&gt;absolute URL&lt;/span&gt;, with
+  &lt;span&gt;replacement enabled&lt;/span&gt;, and with the &lt;code&gt;frame&lt;/code&gt;
+  element's document's &lt;span&gt;browsing context&lt;/span&gt; as the
+  &lt;span&gt;source browsing context&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Whenever the &lt;code title=&quot;attr-frame-src&quot;&gt;src&lt;/code&gt; attribute is
+  set, the user agent must &lt;span title=&quot;resolve a url&quot;&gt;resolve&lt;/span&gt;
+  the value of that attribute, relative to the element, and if that is
+  successful, the nested &lt;span&gt;browsing context&lt;/span&gt; must be &lt;span
+  title=&quot;navigate&quot;&gt;navigated&lt;/span&gt;&lt;!--DONAV frame--&gt; to the resulting
+  &lt;span&gt;absolute URL&lt;/span&gt;, with the &lt;code&gt;frame&lt;/code&gt; element's
   document's &lt;span&gt;browsing context&lt;/span&gt; as the &lt;span&gt;source
   browsing context&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Whenever the &lt;code title=&quot;attr-frame-src&quot;&gt;src&lt;/code&gt; attribute
-  is set, the user agent must &lt;span title=&quot;resolve a
-  url&quot;&gt;resolve&lt;/span&gt; the value of that attribute, relative to the
-  element, and if that is successful, the nested &lt;span&gt;browsing
-  context&lt;/span&gt; must be &lt;span title=&quot;navigate&quot;&gt;navigated&lt;/span&gt; to
-  the resulting &lt;span&gt;absolute URL&lt;/span&gt;, with the
-  &lt;code&gt;frame&lt;/code&gt; element's document's &lt;span&gt;browsing
-  context&lt;/span&gt; as the &lt;span&gt;source browsing context&lt;/span&gt;.&lt;/p&gt;
-
   &lt;p&gt;When the browsing context is created, if a &lt;code
   title=&quot;attr-frame-name&quot;&gt;name&lt;/code&gt; attribute is present, the
   &lt;span&gt;browsing context name&lt;/span&gt; must be set to the value of this


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012549.html">[html5] r5682 - [agiow] (2) Revert r5277's removal of '/' as a	magic value to postMessage(), sin [...]
</A></li>
	<LI>Next message: <A HREF="012551.html">[html5] r5684 - [e] (0) Refactor form submission browsing context	details. This in theory didn't [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12550">[ date ]</a>
              <a href="thread.html#12550">[ thread ]</a>
              <a href="subject.html#12550">[ subject ]</a>
              <a href="author.html#12550">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
