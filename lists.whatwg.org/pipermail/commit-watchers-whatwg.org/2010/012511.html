<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r5644 - [e] (0) Drop &lt;datagrid&gt; entirely for now.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5644%20-%20%5Be%5D%20%280%29%20Drop%20%3Cdatagrid%3E%20entirely%20for%20now.&In-Reply-To=%3C20101022231228.02E0D1C8C003%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012510.html">
   <LINK REL="Next"  HREF="012512.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r5644 - [e] (0) Drop &lt;datagrid&gt; entirely for now.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r5644%20-%20%5Be%5D%20%280%29%20Drop%20%3Cdatagrid%3E%20entirely%20for%20now.&In-Reply-To=%3C20101022231228.02E0D1C8C003%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r5644 - [e] (0) Drop &lt;datagrid&gt; entirely for now.">whatwg at whatwg.org
       </A><BR>
    <I>Fri Oct 22 16:12:27 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="012510.html">[html5] r5643 - [giow] (2) Define how location.href='foo' aborts	parsing. Fixing http://www.w3.o [...]
</A></li>
        <LI>Next message: <A HREF="012512.html">[html5] r5645 - [e] (0) dropzone 0/4: placeholder Fixing	http://www.w3.org/Bugs/Public/show_bug. [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12511">[ date ]</a>
              <a href="thread.html#12511">[ thread ]</a>
              <a href="subject.html#12511">[ subject ]</a>
              <a href="author.html#12511">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2010-10-22 16:12:13 -0700 (Fri, 22 Oct 2010)
New Revision: 5644

Modified:
   complete.html
   index
   source
Log:
[e] (0) Drop &lt;datagrid&gt; entirely for now.

Modified: complete.html
===================================================================
--- complete.html	2010-10-22 23:07:42 UTC (rev 5643)
+++ complete.html	2010-10-22 23:12:13 UTC (rev 5644)
@@ -7924,7 +7924,6 @@
    &lt;li value=24&gt;&lt;dfn id=not_readable_err&gt;&lt;code&gt;NOT_READABLE_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!-- File API --&gt;
    &lt;li value=25&gt;&lt;dfn id=data_clone_err&gt;&lt;code&gt;DATA_CLONE_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!-- actually defined right here for now --&gt;
    &lt;li value=26&gt;&lt;dfn id=encoding_err&gt;&lt;code&gt;ENCODING_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!-- File API --&gt;
-&lt;!--v2DATAGRID   &lt;li value=&quot;..&quot;&gt;&lt;dfn&gt;&lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; --&gt; &lt;!-- actually defined right here for now --&gt;
 &lt;!--
    &lt;li value=&quot;81&quot;&gt;&lt;dfn&gt;&lt;code&gt;PARSE_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!- - actually defined in dom3ls - -&gt;
    &lt;li value=&quot;82&quot;&gt;&lt;dfn&gt;&lt;code&gt;SERIALIZE_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!- - actually defined in dom3ls - -&gt;
@@ -10224,7 +10223,6 @@
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-cite-element&gt;cite&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-code-element&gt;code&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-command&gt;command&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
-&lt;!-- v2DATAGRID   &lt;li&gt;&lt;code&gt;datagrid&lt;/code&gt;&lt;/li&gt; --&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-datalist-element&gt;datalist&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-del-element&gt;del&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
@@ -10473,7 +10471,6 @@
   &lt;ul class=&quot;brief category-list&quot;&gt;&lt;li&gt;&lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#audio&gt;audio&lt;/a&gt;&lt;/code&gt; (if the &lt;code title=attr-media-controls&gt;&lt;a href=#attr-media-controls&gt;controls&lt;/a&gt;&lt;/code&gt; attribute is present)&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-button-element&gt;button&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
-&lt;!-- v2DATAGRID   &lt;li&gt;&lt;code&gt;datagrid&lt;/code&gt;&lt;/li&gt; --&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
@@ -16364,7 +16361,6 @@
   &lt;!-- when updating this also update the category index --&gt;
   &lt;ul class=&quot;brief category-list&quot;&gt;&lt;li&gt;&lt;code&gt;&lt;a href=#the-blockquote-element&gt;blockquote&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
-&lt;!-- v2DATAGRID   &lt;li&gt;&lt;code&gt;datagrid&lt;/code&gt;&lt;/li&gt; --&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
@@ -44081,11 +44077,7 @@
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#the-datalist-element&gt;datalist&lt;/a&gt;&lt;/code&gt; element is hooked up to an
   &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element using the &lt;code title=attr-input-list&gt;&lt;a href=#attr-input-list&gt;list&lt;/a&gt;&lt;/code&gt; attribute on the
-  &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element. &lt;!-- v2DATAGRID The
-  &lt;code&gt;datalist&lt;/code&gt; element can also be used with a
-  &lt;code&gt;datagrid&lt;/code&gt; element, as the source of autocompletion hints
-  for &lt;code title=&quot;datagrid-type-editable&quot;&gt;editable&lt;/code&gt;
-  cells. --&gt;&lt;/p&gt;
+  &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
   &lt;p&gt;Each &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; element that is a descendant of the
   &lt;code&gt;&lt;a href=#the-datalist-element&gt;datalist&lt;/a&gt;&lt;/code&gt; element, that is not &lt;a href=#concept-option-disabled title=concept-option-disabled&gt;disabled&lt;/a&gt;, and whose &lt;a href=#concept-option-value title=concept-option-value&gt;value&lt;/a&gt; is a string that isn't the
@@ -45628,7 +45620,7 @@
   &lt;ul class=brief&gt;&lt;li&gt;minimum value &le; actual value &le; maximum value&lt;/li&gt;
    &lt;li&gt;minimum value &le; low boundary &le; high boundary &le; maximum value&lt;/li&gt;
    &lt;li&gt;minimum value &le; optimum point &le; maximum value&lt;/li&gt;
-  &lt;/ul&gt;&lt;!-- next two paragraphs are duplicated in the &lt;datagrid&gt; section [v2DATAGRID] --&gt;&lt;p&gt;&lt;strong&gt;UA requirements for regions of the gauge&lt;/strong&gt;: If the
+  &lt;/ul&gt;&lt;p&gt;&lt;strong&gt;UA requirements for regions of the gauge&lt;/strong&gt;: If the
   optimum point is equal to the low boundary or the high boundary, or
   anywhere in between them, then the region between the low and high
   boundaries of the gauge must be treated as the optimum region, and
@@ -47753,2601 +47745,7 @@
 
 
 
-&lt;!-- v2DATAGRID
-  &lt;h4 id=&quot;datagrid&quot;&gt;The &lt;dfn&gt;&lt;code&gt;datagrid&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
-  &lt;dl class=&quot;element&quot;&gt;
-   &lt;dt&gt;Categories&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;span&gt;Interactive content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;span&gt;Sectioning root&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dt&gt;Contexts in which this element can be used:&lt;/dt&gt;
-   &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
-   &lt;dt&gt;Content model:&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dt&gt;Content attributes:&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
-&lt;!- -v2DGS:
-   &lt;dd&gt;&lt;code title=&quot;attr-datagrid-multiple&quot;&gt;multiple&lt;/code&gt;&lt;/dd&gt;
-- -&gt;
-   &lt;dd&gt;&lt;code title=&quot;attr-datagrid-disabled&quot;&gt;disabled&lt;/code&gt;&lt;/dd&gt;
-   &lt;dt&gt;DOM interface:&lt;/dt&gt;
-   &lt;dd&gt;
-&lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLDataGridElement&lt;/dfn&gt; : &lt;span&gt;HTMLElement&lt;/span&gt; {
-&lt;!- -v2DGS:
-           attribute boolean &lt;span title=&quot;dom-datagrid-multiple&quot;&gt;multiple&lt;/span&gt;;
-- -&gt;           attribute boolean &lt;span title=&quot;dom-datagrid-disabled&quot;&gt;disabled&lt;/span&gt;;
-           attribute &lt;span&gt;DataGridListener&lt;/span&gt; &lt;span title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/span&gt;;
-&lt;!- - v2DGS:
-  readonly attribute &lt;span&gt;DataGridSelection&lt;/span&gt; &lt;span title=&quot;dom-datagrid-selection&quot;&gt;selection&lt;/span&gt;;
-- -&gt;
-  // columns
-  void &lt;span title=&quot;dom-datagrid-addColumn&quot;&gt;addColumn&lt;/span&gt;(in &lt;span&gt;Column&lt;/span&gt; id, in DOMString label, in DOMString type, in optional HTMLImageElement icon, in optional boolean sortable, in optional boolean hidden);
-           attribute DOMString &lt;span title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/span&gt;;
-           attribute boolean &lt;span title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/span&gt;;
-  void &lt;span title=&quot;dom-datagrid-clearColumns&quot;&gt;clearColumns&lt;/span&gt;();
-
-  // rows
-  void &lt;span title=&quot;dom-datagrid-renotify&quot;&gt;renotify&lt;/span&gt;();
-  void &lt;span title=&quot;dom-datagrid-setRowCount&quot;&gt;setRowCount&lt;/span&gt;(in long childCount, in long rowCount);
-  void &lt;span title=&quot;dom-datagrid-setRows&quot;&gt;setRows&lt;/span&gt;(in &lt;span&gt;RowList&lt;/span&gt; rows);
-  void &lt;span title=&quot;dom-datagrid-insertRows&quot;&gt;insertRows&lt;/span&gt;(in &lt;span&gt;RowList&lt;/span&gt; rows);
-  void &lt;span title=&quot;dom-datagrid-deleteRows&quot;&gt;deleteRows&lt;/span&gt;(in &lt;span&gt;RowIDList&lt;/span&gt; rows);
-  void &lt;span title=&quot;dom-datagrid-repaint&quot;&gt;repaint&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in DOMString column);
-  void &lt;span title=&quot;dom-datagrid-clearRows&quot;&gt;clearRows&lt;/span&gt;();
-&lt;!- -
- v2: opening and closing a row
-     moving a row's actual ID
-      - imagine new mail moving a thread up; you just want to add the new mail to the thread and move the thread's first mail to the top
-      - though actually that should probably just be done using display sorting
-- -&gt;
-};
-
-typedef DOMString &lt;dfn&gt;Column&lt;/dfn&gt;;
-typedef sequence&lt;&lt;span&gt;Column&lt;/span&gt;&gt; &lt;dfn&gt;ColumnList&lt;/dfn&gt;;
-typedef sequence&lt;any&gt; &lt;dfn&gt;Cell&lt;/dfn&gt;; // &lt;span&gt;Column&lt;/span&gt;, any... (exact types expected depend on the column type)
-typedef sequence&lt;&lt;span&gt;Cell&lt;/span&gt;&gt; &lt;dfn&gt;CellList&lt;/dfn&gt;;
-typedef sequence&lt;any&gt; &lt;dfn&gt;Row&lt;/dfn&gt;; // &lt;span&gt;RowID&lt;/span&gt;, long, long, &lt;span&gt;CellList&lt;/span&gt;, optional boolean, optional long
-typedef sequence&lt;&lt;span&gt;Row&lt;/span&gt;&gt; &lt;dfn&gt;RowList&lt;/dfn&gt;;
-typedef sequence&lt;unsigned long&gt; &lt;dfn&gt;RowID&lt;/dfn&gt;;
-typedef sequence&lt;&lt;span&gt;RowID&lt;/span&gt;&gt; &lt;dfn&gt;RowIDList&lt;/dfn&gt;;
-
-[Callback=FunctionOnly, NoInterfaceObject]
-interface &lt;dfn&gt;RenderingContext2DCallback&lt;/dfn&gt; {
-  DOMString &lt;span title=&quot;dom-Rendering2DContextCallback-handleEvent&quot;&gt;handleEvent&lt;/span&gt;(in &lt;span&gt;CanvasRenderingContext2D&lt;/span&gt; context, in unsigned long width, in unsigned long height);
-};&lt;/pre&gt;
-   &lt;/dd&gt;
-  &lt;/dl&gt;
-
- &lt;!- - v2:
-   * datagrid: cells that are links (&lt;a href=&quot;&quot;&gt;&lt;/a&gt;)
-  - -&gt;
-
-  &lt;p&gt;The &lt;code&gt;datagrid&lt;/code&gt; element &lt;span&gt;represents&lt;/span&gt; an
-  interactive representation of tree, list, or tabular data.&lt;/p&gt;
-
-  &lt;p&gt;The data being presented is provided by script using the methods
-  described in the following sections.&lt;/p&gt;
-
-&lt;!- -v2DGS:
-  &lt;p&gt;The &lt;dfn
-  title=&quot;attr-datagrid-multiple&quot;&gt;&lt;code&gt;multiple&lt;/code&gt;&lt;/dfn&gt; attribute
-  is a &lt;span&gt;boolean attribute&lt;/span&gt;. When set, it indicates that the
-  user can select more than one row at a time.&lt;/p&gt;
-- -&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;attr-datagrid-disabled&quot;&gt;&lt;code&gt;disabled&lt;/code&gt;&lt;/dfn&gt; attribute
-  is a &lt;span&gt;boolean attribute&lt;/span&gt; used to disable the
-  control. &lt;span class=&quot;impl&quot;&gt;When the attribute is set, the user
-  agent must disable the &lt;code&gt;datagrid&lt;/code&gt;, preventing the user
-  from interacting with it. The &lt;code&gt;datagrid&lt;/code&gt; element should
-  still continue to update itself when the underlying data changes,
-  though, as described in the next few sections. However, conformance
-  requirements stating that &lt;code&gt;datagrid&lt;/code&gt; elements must react
-  to users in particular ways do not apply when the
-  &lt;code&gt;datagrid&lt;/code&gt; is disabled.&lt;/span&gt;&lt;/p&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;!- -vsDGS: multiple - -&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-disabled&quot;&gt;&lt;code&gt;disabled&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute must &lt;span&gt;reflect&lt;/span&gt; the content attribute of the
-  same name.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-  &lt;!- - v2DGPA: One possible thing to be added is a way to detect when a
-  row/selection has been deleted, activated, etc, by the user (delete
-  key, enter key, etc). (v2DGPA = &lt;datagrid&gt; Perform Action) - -&gt;
-
-
-  &lt;h5&gt;Introduction&lt;/h5&gt;
-
-  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
-
-  &lt;p&gt;In the &lt;code&gt;datagrid&lt;/code&gt; data model, data is structured as a
-  set of rows representing a tree, each row being split into a number
-  of columns. The columns are always present in the data model,
-  although individual columns might be hidden in the presentation.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;Each row can have child rows. Child rows may be hidden or
-  shown, by closing or opening (respectively) the parent row.&lt;/p&gt;
-
-  &lt;p&gt;Rows are referred to by the path along the tree that one would
-  take to reach the row, using zero-based indices. Thus, the first row
-  of a list is row &quot;0&quot;, the second row is row &quot;1&quot;; the first child row
-  of the first row is row &quot;0,0&quot;, the second child row of the first row
-  is row &quot;0,1&quot;; the fourth child of the seventh child of the third
-  child of the tenth row is &quot;9,2,6,3&quot;, etc.&lt;/p&gt;
-
-  &lt;p&gt;The chains of numbers that give a row's path, or identifier, are
-  represented by arrays of positions, represented in IDL by the
-  &lt;span&gt;RowID&lt;/span&gt; interface.&lt;/p&gt;
-
-  &lt;p&gt;The root of the tree is represented by an empty array.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;Each column has a string that is used to identify it in the API,
-  a label that is shown to users interacting with the column, a type,
-  and optionally an icon.&lt;/p&gt;
-
-  &lt;p&gt;The possible types are as follows:&lt;/p&gt;
-
-  &lt;table&gt;
-   &lt;thead&gt;
-    &lt;tr&gt;
-     &lt;td&gt;Keyword
-     &lt;td&gt;Description
-   &lt;tbody&gt;
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;
-     &lt;td&gt;Simple text.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-editable&quot;&gt;editable&lt;/code&gt;
-     &lt;td&gt;Editable text.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-checkable&quot;&gt;checkable&lt;/code&gt;
-     &lt;td&gt;Text with a check box.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-list&quot;&gt;list&lt;/code&gt;
-     &lt;td&gt;A list of values that the user can switch between.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-progress&quot;&gt;progress&lt;/code&gt;
-     &lt;td&gt;A progress bar.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-meter&quot;&gt;meter&lt;/code&gt;
-     &lt;td&gt;A gauge.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;
-     &lt;td&gt;A canvas onto which arbitrary content can be drawn.
-  &lt;/table&gt;
-
-  &lt;p&gt;Each column can be flagged as sortable, in which case the user
-  will be able to sort the view using that column.&lt;/p&gt;
-
-  &lt;p&gt;Columns are not necessarily visible. A column can be created
-  invisible by default. The user can select which columns are to be
-  shown.&lt;/p&gt;
-
-  &lt;p&gt;When no columns have been added to the &lt;code&gt;datagrid&lt;/code&gt;, a
-  column with no name, whose identifier is the empty string, whose
-  type is &lt;code title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;, and which is
-  not sortable, is implied. This column is removed if any explicit
-  columns are declared.&lt;/p&gt;
-
-  &lt;p&gt;Each cell uses the type given for its column, so all cells in a
-  column present the same type of information.&lt;/p&gt;
-
-&lt;!- -v2DGS:
-  &lt;p&gt;Selection of data in a &lt;code&gt;datagrid&lt;/code&gt; operates at the row
-  level. If the &lt;code title=&quot;attr-datagrid-multiple&quot;&gt;multiple&lt;/code&gt;
-  attribute is present, multiple rows can be selected at once,
-  otherwise the user can only select one row at a time.&lt;/p&gt;
-- -&gt;
-
-  &lt;!- - v2DGDND: selection should draggable to and from datagrids - -&gt;
-
-
-  &lt;h6&gt;Example: a &lt;code&gt;datagrid&lt;/code&gt; backed by a static &lt;code&gt;table&lt;/code&gt; element&lt;/h6&gt;
-
-  ...
-
-
-  &lt;h6&gt;Example: a &lt;code&gt;datagrid&lt;/code&gt; backed by nested &lt;code&gt;ol&lt;/code&gt; elements&lt;/h6&gt;
-
-  ...
-
-
-  &lt;h6&gt;Example: a &lt;code&gt;datagrid&lt;/code&gt; backed by a server&lt;/h6&gt;
-
-  ...
-
-
-  &lt;h5&gt;Populating the &lt;code&gt;datagrid&lt;/code&gt;&lt;/h5&gt;
-
-  &lt;dl class=&quot;domintro&quot;&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Return the current object that is configured as the
-    &lt;code&gt;datagrid&lt;/code&gt; listener, if any. Returns null if there is
-    none.&lt;/p&gt;
-
-    &lt;p&gt;The listener is an object provided by the script author that
-    receives notifications when the &lt;code&gt;datagrid&lt;/code&gt; needs row
-    data to render itself, when the user opens and closes rows with
-    children, when the user edits a cell, and when the user invokes a
-    row's context menu. (The &lt;code&gt;DataGridListener&lt;/code&gt; interface
-    used for this purpose is described in the next section.)&lt;/p&gt;
-
-    &lt;p&gt;Can be set, to change the current listener.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-renotify&quot;&gt;renotify&lt;/code&gt;()&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Causes the &lt;code&gt;datagrid&lt;/code&gt; to resend notifications to the
-    listener (if any) for any rows or cells that the
-    &lt;code&gt;datagrid&lt;/code&gt; does not yet have information for.&lt;/p&gt;
-
-    &lt;!- - useful, e.g., if there is a server error and the script loses
-    track of what rows it's supposed to be reporting. - -&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-addColumn&quot;&gt;addColumn&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;label&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;icon&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;sortable&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;hidden&lt;/var&gt; ] ] ] )&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Adds a column to the &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;
-
-    &lt;p&gt;If a column with the given identifier has already been added,
-    it just replaces the information for that column.&lt;/p&gt;
-
-    &lt;p&gt;The possible types are enumerated in the previous section.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns the identifier of the column by which the data is to be
-    sorted.&lt;/p&gt;
-
-    &lt;p&gt;Can be set, to indicate that the sort order has changed. This
-    will cause the &lt;code&gt;datagrid&lt;/code&gt; to clear its position
-    information for rows, so &lt;code
-    title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; will have to be
-    called again with the new sort order.&lt;/p&gt;
-
-    &lt;p&gt;The columns are not actually sorted by the
-    &lt;code&gt;datagrid&lt;/code&gt;; the data has to be sorted by the script
-    that adds the rows to the &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns true if the data is to be sorted with smaller values
-    first; otherwise, returns false, indicating that bigger values are
-    to be put first.&lt;/p&gt;
-
-    &lt;p&gt;Can be set, to indicate that the order is about to change.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-clearColumns&quot;&gt;clearColumns&lt;/code&gt;()&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Removes all the columns in the &lt;code&gt;datagrid&lt;/code&gt;,
-    reinstating the implied column.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-setRowCount&quot;&gt;setRowCount&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;childCount&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rowCount&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Sets the numbers of rows in the &lt;code&gt;datagrid&lt;/code&gt;,
-    excluding rows that are descendants of rows that are closed.&lt;/p&gt;
-
-    &lt;p&gt;Throws a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception if the
-    arguments contradict each other or previously declared information
-    (e.g. declaring that the &lt;code&gt;datagrid&lt;/code&gt; has three rows when
-    the 12th row has been declared).&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-setRows&quot;&gt;setRows&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Updates data for rows in the &lt;code&gt;datagrid&lt;/code&gt;, or fills in
-    data for rows previously implied by a call to &lt;code
-    title=&quot;dom-datagrid-setRowCount&quot;&gt;setRowCount()&lt;/code&gt; but not
-    previously declared.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument is an array of rows, each
-    represented by a further array consisting of:&lt;/p&gt;
-
-    &lt;ol class=&quot;brief&quot;&gt;
-
-     &lt;li&gt;A &lt;code&gt;RowID&lt;/code&gt; object identifying the row.&lt;/li&gt;
-
-     &lt;li&gt;An integer giving the position of the row in its parent,
-     given the current sort order, or &amp;#x2212;1 to set other row data
-     without setting a position or changing a previously declared
-     position.&lt;/li&gt;
-
-     &lt;li&gt;An integer giving the number of children of the row, or 0 if
-     the row has no children, or &amp;#x2212;1 if the row has children but
-     the count is currently unknown. If the number of children has
-     already been set to 0 or a positive integer, then passing
-     &amp;#x2212;1 leaves the previous count unchanged.&lt;/li&gt;
-
-     &lt;li&gt;An array giving the data for zero or more cells in the row,
-     as described below.&lt;/li&gt;
-
-     &lt;li&gt;A boolean declaring whether the row is open or not. This
-     entry, if omitted, is assumed to be false (closed), unless the
-     row has already been declared as open.&lt;/li&gt;
-
-     &lt;li&gt;An integer giving the number of rows that are descendants of
-     this row, excluding those that are descendants of descendants of
-     this row that are closed. This entry can be omitted if the row is
-     closed or if it has already been declared.&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-    &lt;p&gt;The array giving the data for the cells in the row consists of
-    a further set of arrays, one per cell. The first item of each of
-    these arrays is the column's identifier; the subsequent values
-    vary based on the type of the column, as follows:&lt;/p&gt;
-
-    &lt;dl&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A string giving the cell's value.
-       &lt;li&gt;Optionally, an &lt;code&gt;img&lt;/code&gt; element giving an icon for the cell.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-editable&quot;&gt;editable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A string giving the cell's value.
-       &lt;li&gt;Optionally, a &lt;code&gt;datalist&lt;/code&gt; element giving a set of predefined options.
-       &lt;li&gt;Optionally, an &lt;code&gt;img&lt;/code&gt; element giving an icon for the cell.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-checkable&quot;&gt;checkable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A string giving the cell's value.
-       &lt;li&gt;A boolean, indicating whether the cell is checked (true) or not (false).
-       &lt;li&gt;Optionally, a boolean indicating whether the value of the cell is obscured as indeterminate (true), or not (false).
-       &lt;li&gt;Optionally, an &lt;code&gt;img&lt;/code&gt; element giving an icon for the cell.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-list&quot;&gt;list&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A string giving the cell's current value.
-       &lt;li&gt;A &lt;code&gt;select&lt;/code&gt; element giving the &lt;span title=&quot;concept-select-option-list&quot;&gt;list of options&lt;/span&gt;.
-       &lt;li&gt;Optionally, an &lt;code&gt;img&lt;/code&gt; element giving an icon for the cell.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-progress&quot;&gt;progress&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A value in the range 0.0 (no progress) to 1.0 (task complete).
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-meter&quot;&gt;meter&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A number giving the cell's value.
-       &lt;li&gt;Optionally, a number giving the maximum value, if it's not 1.
-       &lt;li&gt;Optionally, a number giving the minimum value, if it's not 0.
-       &lt;li&gt;Optionally, a number giving the highest value that is considered &quot;low&quot;.
-       &lt;li&gt;Optionally, a number giving the lowest value that is considered &quot;high&quot;.
-       &lt;li&gt;Optionally, a number giving the value that is considered optimal.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A number giving the minimum width of the cell, in CSS pixels, that is desired.
-       &lt;li&gt;A number giving the minimum height of the cell, in CSS pixels, that is desired.
-       &lt;li&gt;A function that is passed a &lt;code&gt;CanvasRenderingContext2D&lt;/code&gt; object, along with the width and height (in CSS pixels) of the cell that the context will draw on.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-    &lt;p&gt;While the rows in a single call to the &lt;code
-    title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; method can be in any
-    order, for each row, it is important that all its ancestor rows
-    and all its open previous siblings are also declared, either in
-    the same call or in an earlier one.&lt;/p&gt;
-
-    &lt;p&gt;Throws a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception if the
-    arguments contradict each other or previously declared information
-    (e.g. saying that a row's position is 5 when the parent row only
-    has 3 children, or naming a column that doesn't exist, or
-    declaring a row without declaring its parent, or changing the
-    number of children that a row has while that row and its ancestors
-    are all open).&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-insertRows&quot;&gt;insertRows&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Inserts the given rows into the &lt;code&gt;datagrid&lt;/code&gt;,
-    increasing the numbers of rows that the &lt;code&gt;datagrid&lt;/code&gt;
-    assumes are present.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument is an array of rows in
-    the same structure as the argument to the &lt;code
-    title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; method described
-    above, with the same expectations of consistency (a given row's
-    ancestors and earlier open siblings being listed either earlier or
-    in the same call as a given row). However, unlike with the &lt;code
-    title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; method, if a row is
-    inserted along with its child, the child is not included in the
-    child and row counts of the parent row; every row in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument will increase its parent's counts
-    automatically.&lt;/p&gt;
-
-    &lt;p&gt;Throws a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception if the
-    arguments contradict each other or previously declared
-    information.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-deleteRows&quot;&gt;deleteRows&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Removes the given rows from the &lt;code&gt;datagrid&lt;/code&gt;, and
-    updates the number of rows known to be in the
-    &lt;code&gt;datagrid&lt;/code&gt; accordingly. The argument is an array of
-    &lt;code&gt;RowID&lt;/code&gt; objects identifying the rows to remove.&lt;/p&gt;
-
-    &lt;p&gt;Throws a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception if the argument
-    includes a row the &lt;code&gt;datagrid&lt;/code&gt; doesn't know about.&lt;/p&gt;
-    &lt;!- - since otherwise behaviour might depend on where the user
-    scrolled! - -&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-repaint&quot;&gt;repaint&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;row&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;column&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;If the given column's type is &lt;code
-    title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;, then causes the
-    &lt;code&gt;datagrid&lt;/code&gt; to reinvoke the function that obtains the
-    desired rendering.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-clearRows&quot;&gt;clearRows&lt;/code&gt;()&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Clears the &lt;code&gt;datagrid&lt;/code&gt; of all row data, resetting it
-    to empty&lt;!- - v2DGS:, and clears the selection- -&gt;.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;h6&gt;The listener&lt;/h6&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-listener&quot;&gt;&lt;code&gt;listener&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute allows authors to specify an object that will receive all
-  the notifications from the &lt;code&gt;datagrid&lt;/code&gt;. Initially, its
-  value must be null. On getting, it must return its value. On
-  setting, its value must be set to the new value, and then the user
-  agent must &lt;span&gt;queue a task&lt;/span&gt; to call the &lt;code
-  title=&quot;dom-listener-initialize&quot;&gt;initialize()&lt;/code&gt; method with the
-  &lt;code&gt;datagrid&lt;/code&gt; element as its only argument.&lt;/p&gt;
-
-
-  &lt;h6&gt;The columns&lt;/h6&gt;
-
-  &lt;p&gt;The columns are represented by the &lt;dfn&gt;column list&lt;/dfn&gt;, an
-  ordered list of entries for columns, each of which consists of:&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;An identifier&lt;/dt&gt;
-
-   &lt;dd&gt;A string used to identify the column in the API.&lt;/dd&gt;
-
-   &lt;dt&gt;A label&lt;/dt&gt;
-
-   &lt;dd&gt;A string used in the user interface.&lt;/dd&gt;
-
-   &lt;dt&gt;A type&lt;/dt&gt;
-
-   &lt;dd&gt;One of the types described below.&lt;/dd&gt;
-
-   &lt;dt&gt;An icon&lt;/dt&gt;
-
-   &lt;dd&gt;An image, copied from an &lt;code&gt;img&lt;/code&gt; element when the
-   column was declared.&lt;/dd&gt;
-
-   &lt;dt&gt;Whether the column is sortable&lt;/dt&gt;
-
-   &lt;dd&gt;A boolean indicating whether the user can request that the data
-   be sorted by this column (true), or not (false).&lt;/dd&gt;
-
-   &lt;dt&gt;Whether the column is visible&lt;/dt&gt;
-
-   &lt;dd&gt;A boolean indicating whether the column is part of the
-   &lt;code&gt;datagrid&lt;/code&gt;'s rendering.&lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-  &lt;p&gt;Initially, the &lt;span&gt;column list&lt;/span&gt; must have a single
-  column, the &lt;dfn&gt;default column&lt;/dfn&gt;, whose identifier is the empty
-  string, whose label is the empty string, whose type is &lt;code
-  title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;, with no icon, which is not
-  sortable, and which &lt;em&gt;is&lt;/em&gt; visible.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-addColumn&quot;&gt;&lt;code&gt;addColumn(&lt;var
-  title=&quot;&quot;&gt;id&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;label&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;type&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;icon&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;sortable&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;hidden&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
-  method must run the following steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;If there is already an entry in &lt;span&gt;column list&lt;/span&gt;,
-   other than the &lt;span&gt;default column&lt;/span&gt;, whose identifier is
-   &lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt;
-   exception and abort these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; is not a string equal to one of the
-    &lt;span&gt;allowed &lt;code&gt;datagrid&lt;/code&gt; column types&lt;/span&gt;, then
-    throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception and abort these
-    steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;icon&lt;/var&gt; argument is present and not
-   null, but the given &lt;code&gt;img&lt;/code&gt; element is not in the &lt;span
-   title=&quot;img-all&quot;&gt;completely available&lt;/span&gt; state, then let &lt;var
-   title=&quot;&quot;&gt;icon&lt;/var&gt; be null.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;icon&lt;/var&gt; argument is present and not
-   null, then copy the image data from that &lt;code&gt;img&lt;/code&gt; element,
-   and let &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; be the copy of that image
-   data. Otherwise, let &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; be nothing.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Append a new entry to the &lt;span&gt;column list&lt;/span&gt;, with
-   &lt;var title=&quot;&quot;&gt;id&lt;/var&gt; as its identifier, &lt;var title=&quot;&quot;&gt;label&lt;/var&gt;
-   as its label, &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; as its type, and &lt;var
-   title=&quot;&quot;&gt;image&lt;/var&gt; as its icon. Let the column be sortable if the
-   &lt;var title=&quot;&quot;&gt;sortable&lt;/var&gt; argument is present and true, and make
-   it visible unless the &lt;var title=&quot;&quot;&gt;hidden&lt;/var&gt; argument is
-   present and true.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;column list&lt;/span&gt; contains the &lt;span&gt;default
-   column&lt;/span&gt;, then remove the &lt;span&gt;default column&lt;/span&gt; from the
-   &lt;span&gt;column list&lt;/span&gt;, discard any data for cells in that column
-   in any rows in the &lt;code&gt;datagrid&lt;/code&gt;, set &lt;code
-   title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; to &lt;var
-   title=&quot;&quot;&gt;id&lt;/var&gt;, set &lt;code
-   title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; to true,
-   and run the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort
-   steps&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-sortColumn&quot;&gt;&lt;code&gt;sortColumn&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute gives the current column used for sorting. Initially, its
-  value must be the empty string. On getting, it must return its
-  current value. On setting, if the new value doesn't match the
-  identifier of one of the columns in the &lt;span&gt;column list&lt;/span&gt;,
-  then the user agent must throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt;
-  exception. Otherwise, if the new value is not the same as its
-  current value, then the user agent must set the attribute to the new
-  value, and then run the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort
-  steps&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-sortAscending&quot;&gt;&lt;code&gt;sortAscending&lt;/code&gt;&lt;/dfn&gt;
-  IDL attribute specifies the direction that the tree is sorted in,
-  ascending (true) or descending (false). Initially, its value must be
-  true (ascending). On getting, it must return its current value. On
-  setting, if the new value is not the same as its current value, then
-  the user agent must set the attribute to the new value, and then run
-  the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort steps&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;When a column is marked as being sortable, the user agent should
-  allow the user to select that column to be the column used for
-  sorting, and should allow the user to chose whether the sort order
-  is ascending or descending.&lt;/p&gt;
-
-  &lt;p&gt;When the user changes the sort order in this manner, the user
-  agent must update the &lt;code
-  title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; and &lt;code
-  title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; attributes
-  appropriately, and then run the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort
-  steps&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort steps&lt;/span&gt;
-  are described in the next section.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-clearColumns&quot;&gt;&lt;code&gt;clearColumns()&lt;/code&gt;&lt;/dfn&gt;
-  method, if the &lt;span&gt;column list&lt;/span&gt; doesn't contain the
-  &lt;span&gt;default column&lt;/span&gt;, must empty the &lt;span&gt;column
-  list&lt;/span&gt;, append the &lt;span&gt;default column&lt;/span&gt; to the now empty
-  &lt;span&gt;column list&lt;/span&gt;, discard any data for cells in all rows in
-  the &lt;code&gt;datagrid&lt;/code&gt;, set &lt;code
-  title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; to the empty
-  string, set &lt;code
-  title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; to true, and
-  run the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort steps&lt;/span&gt;. (If the
-  &lt;span&gt;column list&lt;/span&gt; is already just the &lt;span&gt;default
-  column&lt;/span&gt;, then the method does nothing.)&lt;/p&gt;
-
-
-  &lt;h6&gt;The rows&lt;/h6&gt;
-
-  &lt;p&gt;A &lt;code&gt;datagrid&lt;/code&gt; element is intended to show a
-  representation of a tree, where typically the user only sees a
-  small part of the tree at a time.&lt;/p&gt;
-
-  &lt;p&gt;To make this efficient, the &lt;code&gt;datagrid&lt;/code&gt; element
-  &lt;em&gt;actually&lt;/em&gt; shows a small part of a &lt;em&gt;sparse&lt;/em&gt; tree, so
-  that only relevant parts of the data structure need be loaded at any
-  time. Specifically, the model requires only that all the ancestor
-  rows of the displayed rows be loaded, as well as any open earlier
-  siblings (in the displayed sort order) of the displayed rows.&lt;/p&gt;
-
-  &lt;p&gt;Conceptually, therefore, a &lt;code&gt;datagrid&lt;/code&gt; has a number of
-  related sparse data structures backing it.&lt;/p&gt;
-
-  &lt;p&gt;The first is the &lt;dfn&gt;natural order sparse data tree&lt;/dfn&gt;. This
-  is the structure in which rows are entered as they are declared, in
-  their natural order. This can differ from the order actually
-  displayed to the user. It consists of nested sparse lists of
-  rows. In the &lt;span&gt;natural order sparse data tree&lt;/span&gt;, a row will
-  always have all its parents already declared. Once a row is added to
-  this structure, it can only be removed by the &lt;code
-  title=&quot;dom-datagrid-deleteRows&quot;&gt;deleteRows()&lt;/code&gt; and &lt;code
-  title=&quot;dom-datagrid-clearRows&quot;&gt;clearRows()&lt;/code&gt; methods. The order of
-  nodes in this tree never changes; to move a node in this tree, it
-  has to be removed and then another row (with the same data)
-  reinserted elsewhere.&lt;/p&gt;
-
-  &lt;p&gt;The second structure is the &lt;dfn&gt;display order sparse data
-  tree&lt;/dfn&gt;. This is a similar structure that contains a subset of
-  the rows in the &lt;span&gt;natural order sparse data tree&lt;/span&gt;, ordered
-  in the order given by the &lt;code
-  title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; and &lt;code
-  title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; attributes, and
-  excluding rows with one or more ancestors that are closed. This tree
-  is cleared whenever the &lt;code
-  title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; and &lt;code
-  title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; attributes
-  change.&lt;/p&gt;
-
-  &lt;p&gt;The third structure is the &lt;dfn&gt;display order sparse data
-  list&lt;/dfn&gt;. This structure is a flattened representation of the
-  &lt;span&gt;display order sparse data tree&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;At any time, a number of consecutive rows in the &lt;span&gt;display
-  order sparse data list&lt;/span&gt; are physically visible to the
-  user. The &lt;code&gt;datagrid&lt;/code&gt; fires notifications to a &lt;span
-  title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/span&gt; (provided by script),
-  and the listener, or other some script, is expected to feed the
-  &lt;code&gt;datagrid&lt;/code&gt; with the information needed to render the
-  control.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;code&gt;datagrid&lt;/code&gt; has a &lt;dfn&gt;pending &lt;code&gt;datagrid&lt;/code&gt;
-  rows list&lt;/dfn&gt;, which is a list of rows in the &lt;span&gt;display order
-  sparse data list&lt;/span&gt; for which the &lt;code&gt;datagrid&lt;/code&gt; has sent
-  notifications requesting information but not yet received
-  information about.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;code&gt;datagrid&lt;/code&gt; also has a &lt;dfn&gt;pending
-  &lt;code&gt;datagrid&lt;/code&gt; &lt;em&gt;cells&lt;/em&gt; list&lt;/dfn&gt;, which is a list of
-  row/column pairs (cells) for which the &lt;code&gt;datagrid&lt;/code&gt; has
-  sent notifications requesting information but not yet received
-  information about.&lt;/p&gt;
-
-  &lt;p&gt;User agents may discard information about rows that are not
-  displayed and that are not ancestors or open earlier siblings of
-  rows or ancestors of rows that are displayed.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;These structures are different views of the collection of rows
-  that form the &lt;code&gt;datagrid&lt;/code&gt;. Each row has the following
-  information associated with it:&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;A parent&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;Either another row, or the &lt;code&gt;datagrid&lt;/code&gt; itself. This
-   is the parent of the row in the &lt;span&gt;natural order sparse data
-   tree&lt;/span&gt; and the &lt;span&gt;display order sparse data tree&lt;/span&gt;
-   for the &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;A natural order position relative to the other rows with the
-   same parent&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;This is the number of rows that precede this row under the same
-    parent in the &lt;span&gt;natural order sparse data tree&lt;/span&gt;. This
-    number can't be changed relative to other rows in the same parent;
-    to change the relative natural order of data in the
-    &lt;code&gt;datagrid&lt;/code&gt;, the original rows have to be removed and
-    new rows (with the same data but different natural positions)
-    inserted in their place. (The exact number of a row can change, as
-    new rows can be inserted above it.)&lt;/p&gt;
-
-    &lt;p&gt;A row can be identified by a &lt;code&gt;RowID&lt;/code&gt; object. This is
-    an array of numbers, consisting of the natural order positions of
-    each ancestor row and the row itself, starting from the furthest
-    ancestor. Thus, for instance, the fourth child row of the first
-    child row of the second row in a &lt;code&gt;datagrid&lt;/code&gt; would be
-    identified by a &lt;code&gt;RowID&lt;/code&gt; object whose value is &lt;code
-    title=&quot;&quot;&gt;[1, 0, 3]&lt;/code&gt;. A row's identifier changes if rows are
-    &lt;span title=&quot;dom-datagrid-insertRows&quot;&gt;inserted before it&lt;/span&gt; in
-    the &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;A display order position relative to the other rows with
-   the same parent&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;This is the number of rows that precede this row under the
-   same parent in the &lt;span&gt;display order sparse data
-   tree&lt;/span&gt;. This number can be unknown. If the sort order
-   changes, then this information is lost (as the &lt;span&gt;display order
-   sparse data tree&lt;/span&gt; is cleared).&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;A child count&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;The number of rows that have this row as a parent. If this is
-   zero, the row cannot be opened. If this is &amp;#x2212;1, then the
-   child count is unknown but the row can be opened. This value can be
-   changed by the &lt;code title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt;
-   method only if the current value is &amp;#x2212;1 or if the row or one
-   of its ancestors is closed. Otherwise, it can only be changed
-   indirectly using the &lt;code
-   title=&quot;dom-datagrid-insertRows&quot;&gt;insertRows()&lt;/code&gt; and &lt;code
-   title=&quot;dom-datagrid-deleteRows&quot;&gt;deleteRows()&lt;/code&gt; methods.&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;An open flag&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;A boolean indicating whether the row is open (true) or
-   closed (false). Once set, the flag can only be changed by the user
-   or while one of the row's ancestors is itself closed. A row can
-   also be in a third state, &quot;opening&quot;, which is treated as closed for
-   all purposes except that the user agent may indicate that the row
-   is in this special state, and except that when the row is updated
-   to have a row count, the row will switch to being open.&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;A row count&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;The number of rows that have this row as a parent or
-   ancestor, and that do not have an ancestor that is a descendant of
-   this row that is itself closed. If this is &amp;#x2212;1, then the row
-   count is unknown. This value can be changed by the &lt;code
-   title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; method only if the
-   row or one of its ancestors is closed (or opening, but not
-   open). Otherwise, it can only be changed indirectly using the &lt;code
-   title=&quot;dom-datagrid-insertRows&quot;&gt;insertRows()&lt;/code&gt; and &lt;code
-   title=&quot;dom-datagrid-deleteRows&quot;&gt;deleteRows()&lt;/code&gt;
-   methods.&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;Cells&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;The data that applies to this row. Cell data is discussed in
-   more detail below.&lt;/p&gt;&lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-  &lt;p&gt;The &lt;code&gt;datagrid&lt;/code&gt; itself also has a &lt;dfn title=&quot;datagrid
-  child count&quot;&gt;child count&lt;/dfn&gt; and a &lt;dfn title=&quot;datagrid row
-  count&quot;&gt;row count&lt;/dfn&gt;, which are analogous to the child counts and
-  row counts for rows. Initially, these must be zero.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;datagrid&lt;/code&gt; resort steps&lt;/dfn&gt;, which are
-  invoked when the sort order changes as described in the previous
-  section, are as follows:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Clear the &lt;span&gt;display order sparse data tree&lt;/span&gt;
-    (i.e. mark the display order position of all the rows in the
-    &lt;code&gt;datagrid&lt;/code&gt; as unknown).&lt;/p&gt;
-
-    &lt;p&gt;User agents may cache the position information of rows for
-    various values of &lt;code
-    title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; and &lt;code
-    title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt;, instead
-    of discarding the information altogether. If the user agent caches
-    this information, and has information that applies to the current
-    values of &lt;code title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt;
-    and &lt;code title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt;,
-    then the user agent may repopulate the &lt;span&gt;display order sparse
-    data tree&lt;/span&gt; from this information.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Clear the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt;
-    and the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells list&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-    algorithm&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;!- - v2: queue a task to fire an event, or tell the listener the
-   sort order changed, or something - -&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-renotify&quot;&gt;&lt;code&gt;renotify()&lt;/code&gt;&lt;/dfn&gt; method
-  must empty the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt;
-  and the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells list&lt;/span&gt;, and
-  invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-  algorithm&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-setRowCount&quot;&gt;&lt;code&gt;setRowCount(&lt;var
-  title=&quot;&quot;&gt;childCount&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;rowCount&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Set the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; child count&lt;/span&gt; to &lt;var
-    title=&quot;&quot;&gt;childCount&lt;/var&gt;, the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row
-    count&lt;/span&gt; to &lt;var title=&quot;&quot;&gt;rowCount&lt;/var&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span&gt;Audit the &lt;code&gt;datagrid&lt;/code&gt;&lt;/span&gt;. If this fails,
-    then revert the changes made in the previous step, throw a
-    &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception, and abort these
-    steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-    algorithm&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-setRows&quot;&gt;&lt;code&gt;setRows(&lt;var
-  title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span title=&quot;type-check a RowList object&quot;&gt;Type-check the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument&lt;/span&gt;. If this fails, throw a
-    &lt;code&gt;TypeError&lt;/code&gt; exception, and abort these steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span title=&quot;partially sort a RowList object&quot;&gt;Partially sort
-    the &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each &lt;code&gt;Row&lt;/code&gt; object in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument, in order, perform the appropriate
-    steps from the list below.&lt;/p&gt;
-
-    &lt;p class=&quot;note&quot;&gt;The changes made to the &lt;code&gt;datagrid&lt;/code&gt;'s
-    data structures in this step get reverted (as required below) if
-    any consistency errors are detected either in this step or the
-    next.&lt;/p&gt;
-
-    &lt;dl&gt;
-
-     &lt;dt&gt;If there already exists a row in the &lt;code&gt;datagrid&lt;/code&gt;'s
-     &lt;span&gt;natural order sparse data tree&lt;/span&gt; with the same
-     identifier as given by the &lt;code&gt;Row&lt;/code&gt; object's
-     &lt;code&gt;RowID&lt;/code&gt; object, and that row and all its ancestors are
-     open&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;If one of the following conditions is true, then revert all
-      the changes done in this step, throw a
-      &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception, and abort these
-      steps:&lt;/p&gt;
-
-      &lt;ul&gt;
-
-       &lt;li&gt;The value of the &lt;code&gt;Row&lt;/code&gt; object's second entry is
-       neither &amp;#x2212;1 nor equal to the child count of the
-       preexisting row.&lt;/li&gt;
-
-       &lt;li&gt;The &lt;code&gt;Row&lt;/code&gt; object has fewer than four
-       entries or more than six entries.&lt;/li&gt;
-
-       &lt;li&gt;The &lt;code&gt;Row&lt;/code&gt; object has five or more entries, and
-       its fifth entry is false.&lt;/li&gt;
-
-       &lt;li&gt;The &lt;code&gt;Row&lt;/code&gt; object has six entries, and its sixth
-       entry is not equal to the row count of the preexisting
-       row.&lt;/li&gt;
-
-      &lt;/ul&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If there already exists a row in the &lt;code&gt;datagrid&lt;/code&gt;'s
-     &lt;span&gt;natural order sparse data tree&lt;/span&gt; with the same
-     identifier as given by the &lt;code&gt;Row&lt;/code&gt; object's
-     &lt;code&gt;RowID&lt;/code&gt; object, but either that row or one of its
-     ancestors is closed&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;Set the preexisting row's child count to the value of the
-      &lt;code&gt;Row&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Row&lt;/code&gt; object has five or more entries, and
-      either its fifth entry is true and the preexisting row is closed
-      but not opening, or its fifth entry is false and the preexisting
-      row is open, then: if the preexisting row has no ancestor row
-      that is closed, then revert all the changes done in this step,
-      throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception, and abort
-      these steps; otherwise, if the fifth entry is false, then close
-      the row; otherwise, open the row.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Row&lt;/code&gt; object has six entries, set the
-      preexisting row's row count to the value of the &lt;code&gt;Row&lt;/code&gt;
-      object's sixth entry.&lt;/p&gt;
-
-      &lt;p&gt;If the preexisting row is opening, then: increase the
-      &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt; and the row counts
-      of any ancestor rows by the number of rows that the preexisting
-      row now has in its row count, then open the row.&lt;/p&gt; &lt;!- - we
-      should also &quot;update the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; rows
-      list&lt;/span&gt; and the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells
-      list&lt;/span&gt; accordingly&quot; - -&gt;
-
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;There does not exist a row in the &lt;code&gt;datagrid&lt;/code&gt;'s
-     &lt;span&gt;natural order sparse data tree&lt;/span&gt; with the same
-     identifier as given by the &lt;code&gt;Row&lt;/code&gt; object's
-     &lt;code&gt;RowID&lt;/code&gt; object&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;If the &lt;code&gt;RowID&lt;/code&gt; object has a length greater than 1,
-      then verify that there is a row identified by the
-      &lt;code&gt;RowID&lt;/code&gt; consisting of all but the last number in the
-      &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;. If there is no
-      such row present in the &lt;span&gt;natural order sparse data
-      tree&lt;/span&gt;, then revert all the changes done in this step,
-      throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception, and abort
-      these steps.&lt;/p&gt;
-
-      &lt;p&gt;Create a row and insert it into the &lt;span&gt;natural order
-      sparse data tree&lt;/span&gt;, such that its parent is the row
-      identified by the &lt;code&gt;RowID&lt;/code&gt; consisting of all but the
-      last number in the &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;,
-      or the &lt;code&gt;datagrid&lt;/code&gt; if the length of the
-      &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt; is 1; with its
-      natural order position being the last number of the
-      &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;; with the child
-      count being the value of the third entry of the &lt;code&gt;Row&lt;/code&gt;
-      object; with the row being marked closed unless the
-      &lt;code&gt;Row&lt;/code&gt; object has five or more entries and its fifth
-      entry is true, in which case the row is open; and with its row
-      count being &amp;#x2212;1 unless the &lt;code&gt;Row&lt;/code&gt; object has six
-      entries, in which case the row count is equal to the value of
-      the &lt;code&gt;Row&lt;/code&gt; object's sixth entry.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span&gt;Audit the &lt;code&gt;datagrid&lt;/code&gt;&lt;/span&gt;. If this fails,
-    then revert the changes made in the previous step, throw a
-    &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception, and abort these
-    steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each &lt;code&gt;Row&lt;/code&gt; object in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument, in order, &lt;span title=&quot;apply a Row
-    object&quot;&gt;apply the &lt;code&gt;Row&lt;/code&gt; object&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-    algorithm&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-insertRows&quot;&gt;&lt;code&gt;insertRows(&lt;var
-  title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span title=&quot;type-check a RowList object&quot;&gt;Type-check the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument&lt;/span&gt;. If this fails, throw a
-    &lt;code&gt;TypeError&lt;/code&gt; exception, and abort these steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span title=&quot;partially sort a RowList object&quot;&gt;Partially sort
-    the &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each &lt;code&gt;Row&lt;/code&gt; object in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument, in order, run the following
-    steps:&lt;/p&gt;
-
-    &lt;p class=&quot;note&quot;&gt;The changes made to the &lt;code&gt;datagrid&lt;/code&gt;'s
-    data structures in this step get reverted (as required below) if
-    any consistency errors are detected either in this step or the
-    next.&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; be the row identified by the
-      &lt;code&gt;RowID&lt;/code&gt; consisting of all but the last number in the
-      &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;, or the
-      &lt;code&gt;datagrid&lt;/code&gt; itself if the &lt;code&gt;Row&lt;/code&gt; object's
-      &lt;code&gt;RowID&lt;/code&gt; has length 0.&lt;/p&gt;
-
-      &lt;p&gt;If there is no such row present in the &lt;span&gt;natural order
-      sparse data tree&lt;/span&gt;, then revert all the changes done in
-      this algorithm, throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt;
-      exception, and abort these steps.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Increment by one the natural order position of all rows whose
-      parent is &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; and whose natural order
-      position is equal to or greater than the last number of the
-      &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If the value of the &lt;code&gt;Row&lt;/code&gt; object's second entry is
-      not &amp;#x2212;1, then increment by one the display order position
-      of all rows whose parent is &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; and whose
-      display order position is equal to or greater than the value of
-      the &lt;code&gt;Row&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-     &lt;!- -(Not sure how to really say this.)
-      &lt;p&gt;Update the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; rows
-      list&lt;/span&gt; and the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells
-      list&lt;/span&gt; accordingly.&lt;/p&gt;
-     - -&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Create a row and insert it into the &lt;span&gt;natural order
-      sparse data tree&lt;/span&gt;, such that its parent is &lt;var
-      title=&quot;&quot;&gt;parent&lt;/var&gt;; with its natural order position being the
-      last number of the &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;;
-      with the child count being the value of the third entry of the
-      &lt;code&gt;Row&lt;/code&gt; object; with the row being marked closed unless
-      the &lt;code&gt;Row&lt;/code&gt; object has five or more entries and its
-      fifth entry is true, in which case the row is open; and with its
-      row count being &amp;#x2212;1 unless the &lt;code&gt;Row&lt;/code&gt; object has
-      six entries, in which case the row count is equal to the value
-      of the &lt;code&gt;Row&lt;/code&gt; object's sixth entry.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each &lt;code&gt;Row&lt;/code&gt; object in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument, in order, &lt;span title=&quot;apply a Row
-    object&quot;&gt;apply the &lt;code&gt;Row&lt;/code&gt; object&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-    algorithm&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When an algorithm requires the user agent to &lt;dfn&gt;type-check a
-  &lt;code&gt;RowList&lt;/code&gt; object&lt;/dfn&gt; (an array), each entry in the
-  object must be checked against the following requirements. If any
-  are false, then the type-check fails, otherwise it passes.&lt;/p&gt;
-
-  &lt;ul&gt;
-
-   &lt;li&gt;&lt;p&gt;The entry is a &lt;code&gt;Row&lt;/code&gt; object (an
-   array).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The first value in the &lt;code&gt;Row&lt;/code&gt; is a
-   &lt;code&gt;RowID&lt;/code&gt; object (also an array), whose length is at least
-   1, and whose values are all integers greater than or equal to
-   zero.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The numbers in the &lt;code&gt;RowID&lt;/code&gt; object do not exactly
-   match any of the other entries in the &lt;code&gt;RowList&lt;/code&gt; object
-   (i.e. no two &lt;code&gt;Row&lt;/code&gt; objects have the same
-   identifier).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The second value in the &lt;code&gt;Row&lt;/code&gt; is an integer that
-   is either &amp;#x2212;1, zero, or a positive integer.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The third value in the &lt;code&gt;Row&lt;/code&gt; is an integer that
-   is either &amp;#x2212;1, zero, or a positive integer.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The fourth value in the &lt;code&gt;Row&lt;/code&gt; is a
-   &lt;code&gt;CellList&lt;/code&gt; object (yet another array).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Each entry in the &lt;span&gt;CellList&lt;/span&gt; object is a
-   &lt;code&gt;Cell&lt;/code&gt; object (again, an array).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Each &lt;code&gt;Cell&lt;/code&gt; object in the &lt;span&gt;CellList&lt;/span&gt;
-   object has as its first value a &lt;code&gt;Column&lt;/code&gt; object (a
-   string), and its value is the identifier of one of the columns in
-   the &lt;span&gt;column list&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Each &lt;code&gt;Cell&lt;/code&gt; object in the &lt;span&gt;CellList&lt;/span&gt;
-    object has as its second and subsequent entries values that match
-    the following requirements, as determined by the type of the
-    column identified by the first entry:&lt;/p&gt;
-
-    &lt;dl&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;The second entry's value is a string, and either there are
-      only two entries, or there are three, and the third entry is
-      an &lt;code&gt;img&lt;/code&gt; element.&lt;/p&gt;
-
-      &lt;p&gt;If there is an &lt;code&gt;img&lt;/code&gt; element specified, it is in
-      the &lt;span title=&quot;img-all&quot;&gt;completely available&lt;/span&gt; state.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-editable&quot;&gt;editable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;The second entry's value is a string, and either there are
-      only two entries, or the third entry is a
-      &lt;code&gt;datalist&lt;/code&gt; element, and either there are only three
-      entries, or there are four, and the fourth entry is an
-      &lt;code&gt;img&lt;/code&gt; element.&lt;/p&gt;
-
-      &lt;p&gt;If there is an &lt;code&gt;img&lt;/code&gt; element specified, it is in
-      the &lt;span title=&quot;img-all&quot;&gt;completely available&lt;/span&gt; state.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-checkable&quot;&gt;checkable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;The second entry's value is a string, the third entry is a
-      boolean, and either there are only three entries, or the
-      fourth entry is also a boolean, and either there are only four
-      entries, or there are five, and the fifth entry is an
-      &lt;code&gt;img&lt;/code&gt; element.&lt;/p&gt;
-
-      &lt;p&gt;If there is an &lt;code&gt;img&lt;/code&gt; element specified, it is in
-      the &lt;span title=&quot;img-all&quot;&gt;completely available&lt;/span&gt; state.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-list&quot;&gt;list&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;The second entry's value is a string, the third entry is a
-      &lt;code&gt;select&lt;/code&gt; element, and either there are only three
-      entries, or there are four, and the fourth entry is an
-      &lt;code&gt;img&lt;/code&gt; element.&lt;/p&gt;
-
-      &lt;p&gt;If there is an &lt;code&gt;img&lt;/code&gt; element specified, it is in
-      the &lt;span title=&quot;img-all&quot;&gt;completely available&lt;/span&gt; state.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-progress&quot;&gt;progress&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;There are only two entries, the second entry's value is a
-      number, and the number's value is between 0.0 and 1.0
-      inclusive.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-meter&quot;&gt;meter&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;There are at least two, but possibly up to seven, entries,
-      all entries but the first one are numbers, and the following
-      relationships hold:&lt;/p&gt;
-
-      &lt;ul class=&quot;brief&quot;&gt;
-
-       &lt;li&gt;The second entry is less than the third, or less than 1.0
-       if the third is absent.&lt;/li&gt;
-
-       &lt;li&gt;The second entry is greater than the fourth, or greater
-       than 0.0 if the fourth is absent.&lt;/li&gt;
-
-       &lt;li&gt;If there are at least three entries, the third entry is
-       greater than the fourth, or greater than zero if the fourth
-       is absent.&lt;/li&gt;
-
-       &lt;li&gt;If there are at least five entries, the fifth is not
-       greater than the third and not less than the fourth.&lt;/li&gt;
-
-       &lt;li&gt;If there are at least six entries, the sixth is not
-       greater than the third and not less than the fifth.&lt;/li&gt;
-
-       &lt;li&gt;If there are at least seven entries, the fifth is not
-       greater than the third and not less than the fourth.&lt;/li&gt;
-
-      &lt;/ul&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;There are four entries, the second and third are numbers
-      that are integers greater than zero, and the fourth is a
-      &lt;code&gt;Rendering2DContextCallback&lt;/code&gt; object (a
-      function).&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Either there are only four values in the &lt;code&gt;Row&lt;/code&gt;,
-   or the fifth value in the &lt;code&gt;Row&lt;/code&gt; is a boolean.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Either there are only four or five values in the
-   &lt;code&gt;Row&lt;/code&gt;, or there are six, and the sixth value in the
-   &lt;code&gt;Row&lt;/code&gt; an integer that is greater than or equal to
-   zero.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ul&gt;
-
-  &lt;p&gt;Where the above requirements say that a value is to be a string,
-  the user agent must apply the ToString() abstract operation to the
-  value, assume that the value was indeed a string, and use the result
-  in the rest of the algorithm as if it had that had been the value
-  passed to the method. &lt;a href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;Where the above requirements say that a value is to be a number,
-  the user agent must first apply the ToNumber() abstract operation
-  to the value, and then verify that the result is neither an Infinity
-  value nor a Not-a-Number (NaN) value. If this result is indeed
-  acceptable (i.e. finite), the user agent must use the result in the
-  rest of the algorithm as if it had that had been the value passed to
-  the method. &lt;a href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;Where the above requirements say that a value is to be an
-  integer, the user agent must first apply the ToNumber() abstract
-  operation to the value, and then verify that the result is a finite
-  integer. If so, the user agent must use the result in the rest of
-  the algorithm as if it had that had been the value passed to the
-  method. &lt;a href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;Where the above requirements say that a value is to be a boolean,
-  the user agent must apply the ToBoolean() abstract operation to the
-  value, assume that the value was indeed a boolean, and use the
-  result in the rest of the algorithm as if it had that had been the
-  value passed to the method. &lt;a href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When an algorithm requires the user agent to &lt;dfn&gt;audit the
-  &lt;code&gt;datagrid&lt;/code&gt;&lt;/dfn&gt;, the &lt;code&gt;datagrid&lt;/code&gt; must be
-  checked against the following requirements. If any are false, then
-  the audit fails, otherwise it passes.&lt;/p&gt;
-
-  &lt;ul&gt;
-
-   &lt;li&gt;There is no row whose natural order position is greater than or
-   equal to the child count of its parent row in the &lt;span&gt;natural
-   order sparse data tree&lt;/span&gt;.&lt;/li&gt;
-
-   &lt;li&gt;There is no row whose display order position is greater than or
-   equal to the child count of its parent row in the &lt;span&gt;display
-   order sparse data tree&lt;/span&gt;.&lt;/li&gt;
-
-   &lt;li&gt;There is no row such that the sum of that row's child count and
-   the row counts all the open rows that are direct children of that
-   row in the &lt;span&gt;natural order sparse data tree&lt;/span&gt; is less than
-   that row's row count.&lt;/li&gt;
-
-   &lt;li&gt;Of the rows whose child count is equal to the number of rows
-   that are direct children of that row in the &lt;span&gt;natural order
-   sparse data tree&lt;/span&gt;, there is none such that the sum of that
-   row's child count and the row counts of all the open rows that are
-   direct children of that row in the &lt;span&gt;natural order sparse data
-   tree&lt;/span&gt; is greater than that row's row count.&lt;/li&gt;
-
-  &lt;/ul&gt;
-
-  &lt;p&gt;For the purposes of this audit, the &lt;code&gt;datagrid&lt;/code&gt; must be
-  treated as the parent row of all the rows that are direct children
-  of the &lt;code&gt;datagrid&lt;/code&gt; in the &lt;span&gt;natural order sparse data
-  tree&lt;/span&gt; and the &lt;span&gt;display order sparse data tree&lt;/span&gt;. The
-  child count of this implied row is the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt;
-  child count&lt;/span&gt;, and the row count of this implied row is the
-  &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When an algorithm requires the user agent to &lt;dfn&gt;partially sort
-  a &lt;code&gt;RowList&lt;/code&gt; object&lt;/dfn&gt; (an array), the entries in the
-  object must be resorted such that &lt;code&gt;Row&lt;/code&gt; objects are
-  listed after any of their ancestors and after any of their earlier
-  siblings. In other words, for any two &lt;code&gt;Row&lt;/code&gt; objects &lt;var
-  title=&quot;&quot;&gt;a&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; in the
-  &lt;code&gt;RowList&lt;/code&gt;, where &lt;var title=&quot;&quot;&gt;a&lt;/var&gt; is before &lt;var
-  title=&quot;&quot;&gt;b&lt;/var&gt; after the sort, the following conditions must
-  hold:&lt;/p&gt;
-
-  &lt;ul&gt;
-
-   &lt;li&gt;&lt;p&gt;If their &lt;code&gt;RowID&lt;/code&gt; objects are the same length and
-   have values that are equal except for the last value, then the last
-   value of &lt;var title=&quot;&quot;&gt;a&lt;/var&gt;'s &lt;code&gt;RowID&lt;/code&gt;'s last value
-   must be less than &lt;var title=&quot;&quot;&gt;b&lt;/var&gt;'s &lt;code&gt;RowID&lt;/code&gt;'s last
-   value (i.e. earlier siblings must come before their later
-   siblings).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If their &lt;code&gt;RowID&lt;/code&gt; objects are not the same length,
-   but the values in the shorter of the two are the same as the first
-   few values in the longer one, then &lt;var title=&quot;&quot;&gt;a&lt;/var&gt;'s
-   &lt;code&gt;RowID&lt;/code&gt; must be the shorter one (i.e. ancestors must
-   come before their descendants).&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ul&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-deleteRows&quot;&gt;&lt;code&gt;deleteRows(&lt;var
-  title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If any of the entries in &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; are not
-    &lt;code&gt;RowID&lt;/code&gt; objects consisting of one or more entries whose
-    values are all integers that are greater than or equal to zero,
-    then throw a &lt;code&gt;TypeError&lt;/code&gt; exception and abort these
-    steps.&lt;/p&gt;
-
-    &lt;p&gt;To check if a value is an integer, the user agent must first
-    apply the ToNumber() abstract operation to the value, and then
-    verify that the result is a finite integer. If so, the user agent
-    must use the result in the rest of the algorithm as if it had that
-    had been the value passed to the method. &lt;a
-    href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If any of the &lt;code&gt;RowID&lt;/code&gt; objects in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument identify a row that isn't present in
-    the &lt;span&gt;natural order sparse data tree&lt;/span&gt;, then throw a
-    &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception and abort these
-    steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If any row is listed twice in the &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;
-    argument, then throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception
-    and abort these steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Sort the &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument such that the
-    entries are given in the same order as the rows they identify
-    would be visited in a pre-order, depth first traversal of the
-    &lt;span&gt;natural order sparse data tree&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each row identified by entries in &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;,
-    &lt;em&gt;in reverse order&lt;/em&gt;, run the following steps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Decrement the child count of the row's parent row, if that
-      child count is greater than zero. If the row has no parent,
-      decrement the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; child
-      count&lt;/span&gt;.&lt;/p&gt;
-
-      &lt;p&gt;If the row has a parent row, and its child count is now zero,
-      then close that row.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;delta&lt;/var&gt; be one more than the row's row
-      count if the row is open and its row count is greater than zero;
-      otherwise, let &lt;var title=&quot;&quot;&gt;delta&lt;/var&gt; be one.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; be the row.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;&lt;i&gt;Row count loop&lt;/i&gt;: Let &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; be
-      &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt;'s parent row, if any, or null if it
-      has none.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; is null, then decrement the
-      &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt; by &lt;var
-      title=&quot;&quot;&gt;delta&lt;/var&gt;. Otherwise, if &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt;
-      is open, then decrement its row count by &lt;var
-      title=&quot;&quot;&gt;delta&lt;/var&gt;.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; is not null, then jump back
-      to the step labeled &lt;i&gt;row count loop&lt;/i&gt; above.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; be the row's parent, or the
-      &lt;code&gt;datagrid&lt;/code&gt; if the row has no parent.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Decrement by one the natural order position of all rows whose
-      parent is &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; and whose natural order
-      position is equal to or greater than the row's own natural order
-      position.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If the row is in the &lt;span&gt;display order sparse data
-      tree&lt;/span&gt;, then decrement by one the display order position of
-      all rows whose parent is &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; and whose
-      display order position is equal to or greater than the row's own
-      display order position.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Clear the row and its descendants from the
-      &lt;code&gt;Datagrid&lt;/code&gt;.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-    algorithm&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-clearRows&quot;&gt;&lt;code&gt;clearRows()&lt;/code&gt;&lt;/dfn&gt; method
-  must empty the &lt;span&gt;natural order sparse data tree&lt;/span&gt;, reset
-  both the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; child count&lt;/span&gt; and the
-  &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt; to zero, and invoke the
-  &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display algorithm&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-repaint&quot;&gt;&lt;code&gt;repaint(&lt;var
-  title=&quot;&quot;&gt;row&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;column&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
-  must cause the user agent to clear its cache for the cell specified
-  by the identifier &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; and the column &lt;var
-  title=&quot;&quot;&gt;column&lt;/var&gt;, if that column's type is &lt;code
-  title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;. If the given column has
-  not been declared, or its type is not &lt;code
-  title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;, then the user agent must
-  throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception. If the given row
-  is not known, then the method must do nothing. If the cell is indeed
-  cleared, the user agent must reinvoke the previously registered
-  &lt;code&gt;RenderingContext2DCallback&lt;/code&gt; callback when it needs to
-  repaint that row.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;If a row has a child count that isn't zero, then the user agent
-  should offer to the user the option of opening and closing the
-  row.&lt;/p&gt;
-
-  &lt;p&gt;When a row is opened, if the row's row count is greater than
-  zero, then the user agent must increase the
-  &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt; and the row counts of
-  any ancestor rows by the number of rows that the newly opened row
-  has in its row count&lt;!- - we should also &quot;update the &lt;span&gt;pending
-  &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt; and the &lt;span&gt;pending
-  &lt;code&gt;datagrid&lt;/code&gt; cells list&lt;/span&gt; accordingly&quot; - -&gt;, then must
-  mark the row as open, then may fill in the &lt;span&gt;display order
-  sparse data tree&lt;/span&gt; with any information that the user agent has
-  cached about the display order positions of descendants of the newly
-  opened row, and then must invoke the &lt;code
-  title=&quot;dom-listener-rowOpened&quot;&gt;rowOpened()&lt;/code&gt; method on the
-  current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; with as
-  its first argument a &lt;code&gt;RowID&lt;/code&gt; object identifying the row
-  that was opened and as its second argument the boolean false, and
-  then must invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-  algorithm&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;On the other hand, when a row is opened and the row's row count
-  is &amp;#x2212;1, then the user agent must mark the row as opening, and
-  then must invoke the &lt;code
-  title=&quot;dom-listener-rowOpened&quot;&gt;rowOpened()&lt;/code&gt; method on the
-  current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; with as
-  its first argument a &lt;code&gt;RowID&lt;/code&gt; object identifying the row
-  that was opened and as its second argument the boolean true.&lt;/p&gt;
-
-  &lt;p&gt;When a row is closed, the user agent must decrease the
-  &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt; and the row counts of
-  any ancestor rows by the number of rows that the newly closed row
-  has in its row count, and then must invoke the &lt;code
-  title=&quot;dom-listener-rowOpened&quot;&gt;rowOpened()&lt;/code&gt; method on the
-  current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; with as
-  its first and only argument a &lt;code&gt;RowID&lt;/code&gt; object identifying
-  the row that was opened.&lt;/p&gt;
-
-
-
-  &lt;h6&gt;The cells&lt;/h6&gt;
-
-  &lt;p&gt;Each row has one cell per column. Each cell has the same type as
-  its column. The &lt;dfn&gt;allowed &lt;code&gt;datagrid&lt;/code&gt; column
-  types&lt;/dfn&gt;, what they represent, and the requirements for when the
-  user interacts with them, are as follows:&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-text&quot;&gt;&lt;code&gt;text&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents some text and an optional image.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-editable&quot;&gt;&lt;code&gt;editable&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cells represents some editable text, an optional
-    &lt;code&gt;datalist&lt;/code&gt; giving autocompletion hints, and an
-    optional image.&lt;/p&gt;
-
-    &lt;p&gt;If there is a &lt;code&gt;datalist&lt;/code&gt; element, the user agent
-    should offer the suggestions represented by that element to the
-    user. The user agent may use the suggestion's &lt;span
-    title=&quot;concept-option-label&quot;&gt;label&lt;/span&gt; to identify the
-    suggestion. If the user selects a suggestion, then the editable
-    text must be set to the selected suggestion's &lt;span
-    title=&quot;concept-option-value&quot;&gt;value&lt;/span&gt;, as if the user had
-    written that value himself.&lt;/p&gt;
-
-    &lt;p&gt;When the user edits the value, either directly or using the
-    &lt;code&gt;datalist&lt;/code&gt;, the user agent must invoke the &lt;code
-    title=&quot;dom-listener-cellChanged&quot;&gt;cellChanged()&lt;/code&gt; method on
-    the current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt;
-    with as its first argument a &lt;code&gt;RowID&lt;/code&gt; identifying the
-    cell's row, as its second argument the identifier of the cell's
-    column, as its third argument the new value, and as its fourth
-    argument the previous value.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-checkable&quot;&gt;&lt;code&gt;checkable&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents some text, a check box that optionally has
-    its value obscured as indeterminate, and an optional image.&lt;/p&gt;
-
-    &lt;p&gt;When the user checks or unchecks the check box, the user agent
-    must change the check box's state appropriately and stop obscuring
-    the check box as indeterminate (if it is obscuring it), and then
-    must invoke the &lt;code
-    title=&quot;dom-listener-cellChanged&quot;&gt;cellChanged()&lt;/code&gt; method on
-    the current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt;
-    with as its first argument a &lt;code&gt;RowID&lt;/code&gt; identifying the
-    cell's row, as its second argument the identifier of the cell's
-    column, as its third argument true if the check box is now checked
-    and false otherwise, and as its fourth argument true if the check
-    box was previously checked and false otherwise.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-list&quot;&gt;&lt;code&gt;list&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents some text giving the current value selected
-    from a dropdown list of options, a &lt;code&gt;select&lt;/code&gt; element
-    giving the list of options, and an optional image.&lt;/p&gt;
-
-    &lt;p&gt;The user agent should allow the user to change the value of the
-    cell from its current value to one of the &lt;span
-    title=&quot;concept-option-value&quot;&gt;values&lt;/span&gt; given by
-    &lt;code&gt;option&lt;/code&gt; elements in the &lt;span
-    title=&quot;concept-select-option-list&quot;&gt;list of options&lt;/span&gt; (if
-    any). The user agent may use the &lt;code&gt;option&lt;/code&gt; elements'
-    &lt;span title=&quot;concept-option-label&quot;&gt;labels&lt;/span&gt; to annotate each
-    option.&lt;/p&gt;
-
-    &lt;p&gt;When the user selects a new value from the &lt;code&gt;select&lt;/code&gt;
-    element's &lt;span title=&quot;concept-select-option-list&quot;&gt;list of
-    options&lt;/span&gt;, the user agent must invoke the &lt;code
-    title=&quot;dom-listener-cellChanged&quot;&gt;cellChanged()&lt;/code&gt; method on
-    the current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt;
-    with as its first argument a &lt;code&gt;RowID&lt;/code&gt; identifying the
-    cell's row, as its second argument the identifier of the cell's
-    column, as its third argument the new value, and as its fourth
-    argument the previous value.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-progress&quot;&gt;&lt;code&gt;progress&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents a (determinate) progress bar whose value is
-    between 0.0, indicating no progress, and 1.0, indicating the task
-    is complete.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-meter&quot;&gt;&lt;code&gt;meter&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents a gauge, described by one to six
-    numbers.&lt;/p&gt;
-
-    &lt;p&gt;The gauge's actual value is given by the first number.&lt;/p&gt;
-
-    &lt;p&gt;If there is a second number, then that number is the maximum
-    value. Otherwise, the maximum value is 1.0.&lt;/p&gt;
-
-    &lt;p&gt;If there is a third number, then that number is the minimum
-    value. Otherwise, the minimum value is 1.0.&lt;/p&gt;
-
-    &lt;p&gt;If there is a fourth number, then that number is the low
-    boundary. Otherwise, the low boundary is the minimum value.&lt;/p&gt;
-
-    &lt;p&gt;If there is a fifth number, then that number is the high
-    boundary. Otherwise, the high boundary is the maximum value.&lt;/p&gt;
-
-    &lt;p&gt;If there is a sixth number, then the optimal point is the sixth
-    number. Otherwise, the optimum point is the midpoint between the
-    minimum value and the maximum value.&lt;/p&gt;
-
-    &lt;!- - next two paragraphs copied from &lt;meter&gt;: - -&gt;
-
-    &lt;p&gt;If the optimum point is equal to the low boundary or the high
-    boundary, or anywhere in between them, then the region between the
-    low and high boundaries of the gauge must be treated as the
-    optimum region, and the low and high parts, if any, must be
-    treated as suboptimal. Otherwise, if the optimum point is less
-    than the low boundary, then the region between the minimum value
-    and the low boundary must be treated as the optimum region, the
-    region between the low boundary and the high boundary must be
-    treated as a suboptimal region, and the region between the high
-    boundary and the maximum value must be treated as an even less
-    good region. Finally, if the optimum point is higher than the high
-    boundary, then the situation is reversed; the region between the
-    high boundary and the maximum value must be treated as the optimum
-    region, the region between the high boundary and the low boundary
-    must be treated as a suboptimal region, and the remaining region
-    between the low boundary and the minimum value must be treated as
-    an even less good region.&lt;/p&gt;
-
-    &lt;p&gt;User agents should indicate the relative position of the actual
-    value to the minimum and maximum values, and the relationship
-    between the actual value and the three regions of the gauge.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-custom&quot;&gt;&lt;code&gt;custom&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents a dynamically generated graphical image.&lt;/p&gt;
-
-    &lt;p&gt;The cell will have minimum dimensions (specified in CSS
-    pixels), and a callback (in the form of a
-    &lt;code&gt;RenderingContext2DCallback&lt;/code&gt; object) to get a rendering
-    for the cell.&lt;/p&gt;
-
-    &lt;p&gt;The user agent should not allow the cell to be rendered with
-    dimensions less than the given minimum width and height.&lt;/p&gt;
-
-    &lt;p&gt;When the user agent needs to render the cell, the user agent
-    must &lt;span&gt;queue a task&lt;/span&gt; to invoke the
-    &lt;span&gt;RenderingContext2DCallback&lt;/span&gt; callback, passing it a
-    newly created &lt;code&gt;CanvasRenderingContext2D&lt;/code&gt; object whose
-    &lt;code title=&quot;dom-context-2d-canvas&quot;&gt;canvas&lt;/code&gt; IDL attribute is
-    null as the first argument, the actual cell width in CSS pixels as
-    the second argument, and the actual cell height in CSS pixels as
-    the third argument.&lt;/p&gt;
-
-    &lt;p&gt;If the user agent is able to render graphics, then it must
-    render the graphics commands that the callback executed on the
-    provided &lt;code&gt;CanvasRenderingContext2D&lt;/code&gt; object onto the
-    cell once the callback returns. The image must be clipped to the
-    dimensions of the cell. The coordinate space of the cell must be
-    aligned with that used by the 2D context such that the top left
-    corner of the cell is the 0,0 origin, with the coordinate space
-    increasing its &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; dimension towards the right
-    of the cell and its &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; axis towards the bottom
-    of the cell, and with the image not scaled (so that one CSS pixel
-    on the final rendering matches one CSS pixel in the coordinate
-    space used by the 2D context).&lt;/p&gt;
-
-    &lt;p&gt;The user agent must then decouple the
-    &lt;code&gt;CanvasRenderingContext2D&lt;/code&gt; object and any objects that
-    it created (such as &lt;code&gt;CanvasPattern&lt;/code&gt; objects or
-    &lt;code&gt;ImageData&lt;/code&gt; objects) from any real drawing surface.&lt;/p&gt;
-
-    &lt;p&gt;If the user agent is unable to render graphics, then it must
-    render the text string returned by the callback instead.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When an algorithm requires the user agent to &lt;dfn&gt;apply a
-  &lt;code&gt;Row&lt;/code&gt; object&lt;/dfn&gt;, the user agent must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If the value of the &lt;code&gt;Row&lt;/code&gt; object's second entry is
-    not &amp;#x2212;1, then run these substeps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;If there is a row with the same parent as the row
-     specified by the &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;
-     object, whose display order position is currently the same as the
-     value of the &lt;code&gt;Row&lt;/code&gt; object's second entry, then remove
-     that row from the &lt;span&gt;display order sparse data
-     tree&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Set the display order position of the row specified by the
-     &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt; to the value of the
-     &lt;code&gt;Row&lt;/code&gt; object's second entry, updating its position in
-     the &lt;span&gt;display order sparse data tree&lt;/span&gt;
-     accordingly.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If the row is in the &lt;span&gt;pending
-     &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt;, remove it.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If the fourth entry in the &lt;code&gt;Row&lt;/code&gt; object (a
-    &lt;code&gt;CellList&lt;/code&gt; object, an array) is not empty, then for
-    each &lt;code&gt;Cell&lt;/code&gt; object in that array update the cell that
-    corresponds to the column identified by the value of the first
-    entry of the &lt;code&gt;Cell&lt;/code&gt; object, by using the appropriate
-    set of steps given below as determined by the type of the
-    column. Then, if the cell is in the &lt;span&gt;pending
-    &lt;code&gt;datagrid&lt;/code&gt; cells list&lt;/span&gt;, remove it.&lt;/p&gt;
-
-    &lt;dl&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell's text to the value given in the
-      &lt;code&gt;Cell&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has three entries, then copy
-      the image data from the &lt;code&gt;img&lt;/code&gt; element given in the
-      third entry, and let the cell's image be given by that image
-      data. Otherwise, update the cell to have no image.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-editable&quot;&gt;editable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell's text to the value given in the
-      &lt;code&gt;Cell&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has three entries, then let
-      the &lt;code&gt;datalist&lt;/code&gt; element given in the third entry be
-      the &lt;code&gt;datalist&lt;/code&gt; element giving autocompletion
-      hints. Otherwise, update the cell to have no
-      &lt;code&gt;datalist&lt;/code&gt; element.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has four entries, then copy
-      the image data from the &lt;code&gt;img&lt;/code&gt; element given in the
-      fourth entry, and let the cell's image be given by that image
-      data. Otherwise, update the cell to have no image.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-checkable&quot;&gt;checkable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell's text to the value given in the
-      &lt;code&gt;Cell&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-      &lt;p&gt;Update the cell's checked state to match the value of the
-      third entry: checked if true, unchecked otherwise.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has four entries and the
-      fourth entry is true, then update the cell to be obscured as
-      indeterminate. Otherwise, the cell's state is not obscured.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has five entries, then copy
-      the image data from the &lt;code&gt;img&lt;/code&gt; element given in the
-      fifth entry, and let the cell's image be given by that image
-      data. Otherwise, update the cell to have no image.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-list&quot;&gt;list&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell's text to the value given in the
-      &lt;code&gt;Cell&lt;/code&gt; object's second entry, and the
-      &lt;code&gt;select&lt;/code&gt; element to be the one given in the
-      &lt;code&gt;Cell&lt;/code&gt; object's third entry&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has four entries, then copy
-      the image data from the &lt;code&gt;img&lt;/code&gt; element given in the
-      fourth entry, and let the cell's image be given by that image
-      data. Otherwise, update the cell to have no image.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-progress&quot;&gt;progress&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell to be a progress bar whose progress, on the
-      scale of 0.0 (no progress) to 1.0 (task complete) is given by
-      the value in the &lt;code&gt;Cell&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-meter&quot;&gt;meter&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell to be a gauge configured with the numbers
-      given by the second and subsequent entries of the
-      &lt;code&gt;Cell&lt;/code&gt; object.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell's minimum width to be the length in CSS
-      pixels given by the &lt;code&gt;Cell&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-      &lt;p&gt;Update the cell's minimum height to be the length in CSS
-      pixels given by the &lt;code&gt;Cell&lt;/code&gt; object's third entry.&lt;/p&gt;
-
-      &lt;p&gt;Update the cell's callback to be the
-      &lt;code&gt;RenderingContext2DCallback&lt;/code&gt; object given by the
-      &lt;code&gt;Cell&lt;/code&gt; object's fourth entry.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When the user agent is to run the &lt;dfn&gt;&lt;code&gt;datagrid&lt;/code&gt;
-  update display algorithm&lt;/dfn&gt;, the user agent must invoke the &lt;code
-  title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; and &lt;code
-  title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; methods on the
-  current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; such
-  that all the current visible rows in the &lt;span&gt;display order sparse
-  data list&lt;/span&gt;, and all the cells in the currently visible columns
-  on all the currently visible rows, have been covered.&lt;/p&gt;
-
-  &lt;p&gt;A row is considered covered if it is present in the &lt;span&gt;pending
-  &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt;, or if the &lt;code
-  title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; method is invoked with
-  a range that includes the row in question.&lt;/p&gt;
-
-  &lt;p&gt;A cell is considered covered if it is present in the
-  &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells list&lt;/span&gt;, or if the
-  &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; method is
-  invoked with a range that includes the row in question and a list of
-  columns that includes the cell's column, or if the &lt;code
-  title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; method is invoked
-  with a list of rows and columns that intersects the cell in
-  question. However, the &lt;code
-  title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; method can only be
-  used if the row is already present in the &lt;span&gt;display order sparse
-  data list&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; method,
-  if used, must be invoked with five arguments. The first argument
-  must be the index in the &lt;span&gt;display order sparse data list&lt;/span&gt;
-  to the first row that the user agent is requesting, known as the
-  &lt;i&gt;anchor row&lt;/i&gt;. The second argument must be the number of
-  consecutive cells for which the user agent is requesting
-  information. The third argument must be the &lt;code&gt;RowID&lt;/code&gt; of
-  the row that is the nearest ancestor in the &lt;span&gt;display order
-  sparse data &lt;em&gt;tree&lt;/em&gt;&lt;/span&gt; of the anchor row. If this is the
-  &lt;code&gt;datagrid&lt;/code&gt;, then the &lt;code&gt;RowID&lt;/code&gt; object must be an
-  empty array. The fourth argument must be the display order position
-  of the anchor row in the &lt;span&gt;display order sparse data
-  tree&lt;/span&gt;, assuming that the row identified in the third argument
-  is indeed the anchor row's parent row. The fifth and final argument
-  must be an array of the identifiers of the columns for which the
-  user agent is requesting information, in the order they were added
-  to the &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;
-
-  &lt;p&gt;As the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; method
-  is invoked, the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt;
-  must be updated to include the rows for which information has been
-  requested, excluding rows for which information is already
-  available; and the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells
-  list&lt;/span&gt; must be updated to include the cells for which
-  information has been requested on those rows.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;code title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; method,
-  if used, must be invoked with two arguments. The first argument must
-  be an array of &lt;code&gt;RowID&lt;/code&gt; objects identifying the rows for
-  which information is being requested. The second argument must be an
-  array of the identifiers of the columns for which the user agent is
-  requesting information, in the order they were added to the
-  &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;
-
-  &lt;p&gt;As the &lt;code title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt;
-  method is invoked, the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells
-  list&lt;/span&gt; must be updated to include the cells for which
-  information has been requested.&lt;/p&gt;
-
-  &lt;p&gt;Calls to these methods should be batched so that the rows and
-  cells to be covered are handled by the fewest number of calls to
-  these methods as possible. To this end, user agents may invoke the
-  &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; method for a set
-  of rows that includes some rows that are already in the
-  &lt;span&gt;display order sparse data list&lt;/span&gt;, and similarly may
-  invoke the &lt;code title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt;
-  method with row/column combinations that cover some cells for which
-  data is already known. Generally, however, user agents should avoid
-  invoking these methods with arguments that cause information to be
-  requested when it has already been requested or is already
-  known.&lt;/p&gt;
-
-  &lt;div class=&quot;example&quot;&gt;
-
-   &lt;p&gt;For example, consider a case represented by the following table,
-   where the cells marked &quot;Yes&quot; indicate that the data has already
-   been obtained, the cells marked &quot;Pending&quot; indicate that the data
-   has been previously requested but not yet obtained, and the cells
-   with just a dash indicate that no information has ever been
-   obtained, or any information that had been obtained has now been
-   discarded.&lt;/p&gt;
-
-   &lt;table&gt;
-    &lt;tr&gt; &lt;td&gt;        &lt;th&gt; Row   &lt;th&gt; Column A  &lt;th&gt; Column B
-    &lt;tr&gt; &lt;th&gt; Row 1  &lt;td&gt; -     &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 2  &lt;td&gt; Yes   &lt;td&gt; Yes       &lt;td&gt; Yes
-    &lt;tr&gt; &lt;th&gt; Row 3  &lt;td&gt; Yes   &lt;td&gt; Yes       &lt;td&gt; Yes
-    &lt;tr&gt; &lt;th&gt; Row 4  &lt;td&gt; Yes   &lt;td&gt; Yes       &lt;td&gt; Yes
-    &lt;tr&gt; &lt;th&gt; Row 5  &lt;td&gt; -     &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 6  &lt;td&gt; -     &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 7  &lt;td&gt; Yes   &lt;td&gt; Pending   &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 8  &lt;td&gt; Yes   &lt;td&gt; Pending   &lt;td&gt; Pending
-   &lt;/table&gt;
-
-   &lt;p&gt;Thus, rows 2, 3, 4, 7, and 8 are already covered, as are the
-   cells from those rows except for the cell in column B of row 7.&lt;/p&gt;
-
-   &lt;p&gt;Now consider what happens if all of these rows become visible at
-   once. The user agent has several choices, including (but not
-   limited to) the following:&lt;/p&gt;
-
-   &lt;ul&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt;
-    method for rows 1 through 8 and columns A and B all at once.&lt;/li&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt;
-    method for row 1, then fire it again for rows 5 through 7.&lt;/li&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt;
-    method for row 1, then fire it again for rows 5 and 6, and then
-    fire the &lt;code title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt;
-    method for row 7 column B.&lt;/li&gt;
-
-   &lt;/ul&gt;
-
-   &lt;p&gt;All three options are allowed, but the latter two are preferable
-   to the former, as they minimise the amount of redundant information
-   requested.&lt;/p&gt;
-
-   &lt;p&gt;In any case, the data model now looks like this:&lt;/p&gt;
-
-   &lt;table&gt;
-    &lt;tr&gt; &lt;td&gt;        &lt;th&gt; Row     &lt;th&gt; Column A  &lt;th&gt; Column B  &lt;th&gt; Column C
-    &lt;tr&gt; &lt;th&gt; Row 1  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 2  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 3  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 4  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 5  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 6  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 7  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 8  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; -
-   &lt;/table&gt;
-
-   &lt;p&gt;Now consider the case where a third column, column C, is added
-   to the data model. The user agent once again has several choices,
-   including (but not limited to) the following:&lt;/p&gt;
-
-   &lt;ul&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt;
-    method for rows 1 through 8 again, this time listing just column
-    C.&lt;/li&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt;
-    method for row 1, then fire it again for rows 5 and 6, and then
-    fire the &lt;code title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt;
-    method for the other rows (in all three cases, listing just column
-    C).&lt;/li&gt;
-
-   &lt;/ul&gt;
-
-   &lt;p&gt;The two options here are as bad as each other; the former
-   involves a lot of overlap, but the latter involves a lot of method
-   calls. Unfortunately the user agent can't do the obvious thing,
-   namely just to invoke the &lt;code
-   title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; method for all the
-   rows listing just column C, because it doesn't have the row
-   information for all the rows yet (rows 1, 5 and 6 are still
-   pending).&lt;/p&gt;
-
-   &lt;p&gt;In any case, the data model now looks like this:&lt;/p&gt;
-
-   &lt;table&gt;
-    &lt;tr&gt; &lt;td&gt;        &lt;th&gt; Row     &lt;th&gt; Column A  &lt;th&gt; Column B  &lt;th&gt; Column C
-    &lt;tr&gt; &lt;th&gt; Row 1  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 2  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 3  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 4  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 5  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 6  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 7  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 8  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-   &lt;/table&gt;
-
-   &lt;p&gt;If at this point the user scrolls around anywhere within this
-   &lt;code&gt;datagrid&lt;/code&gt;, the user agent won't fire the &lt;code
-   title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; and &lt;code
-   title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; methods, because
-   all of the rows and cells are covered.&lt;/p&gt;
-
-   &lt;p&gt;Now consider the case where the user agent receives row
-   information, but no cell information, for rows 1, 5, and 6:&lt;/p&gt;
-
-   &lt;table&gt;
-    &lt;tr&gt; &lt;td&gt;        &lt;th&gt; Row     &lt;th&gt; Column A  &lt;th&gt; Column B  &lt;th&gt; Column C
-    &lt;tr&gt; &lt;th&gt; Row 1  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 2  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 3  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 4  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 5  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 6  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 7  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 8  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-   &lt;/table&gt;
-
-   &lt;p&gt;The user agent still won't fire any methods when the user
-   scrolls, because the data is still covered. But if the script then
-   calls the &lt;code title=&quot;dom-datagrid-renotify&quot;&gt;renotify()&lt;/code&gt;
-   method, the &quot;Pending&quot; flags would get reset, and the model would
-   now look like this:&lt;/p&gt;
-
-   &lt;table&gt;
-    &lt;tr&gt; &lt;td&gt;        &lt;th&gt; Row     &lt;th&gt; Column A  &lt;th&gt; Column B  &lt;th&gt; Column C
-    &lt;tr&gt; &lt;th&gt; Row 1  &lt;td&gt; Yes     &lt;td&gt; -         &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 2  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 3  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 4  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 5  &lt;td&gt; Yes     &lt;td&gt; -         &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 6  &lt;td&gt; Yes     &lt;td&gt; -         &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 7  &lt;td&gt; Yes     &lt;td&gt; -         &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 8  &lt;td&gt; Yes     &lt;td&gt; -         &lt;td&gt; -         &lt;td&gt; -
-   &lt;/table&gt;
-
-   &lt;p&gt;Now, assuming that all eight rows and all three columns are
-   still visible, the user agent has the following choices (amongst
-   others):&lt;/p&gt;
-
-   &lt;ul&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getCells()&lt;/code&gt;
-    method for rows 1 through 8, listing all three columns.&lt;/li&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getCells()&lt;/code&gt;
-    method for rows 1 and 5 through 8, listing all three columns, and
-    then fire the method for rows 2 through 4, listing just column
-    C.&lt;/li&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getCells()&lt;/code&gt;
-    method for rows 1 and 5 through 8, listing just columns A abd B,
-    and then fire the method for rows 1 through 8, listing just column
-    C.&lt;/li&gt;
-
-   &lt;/ul&gt;
-
-   &lt;p&gt;Here the latter two are preferable because they result in less
-   overlap than the first.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;span&gt;task source&lt;/span&gt; for tasks queued on behalf of a
-  &lt;code&gt;datagrid&lt;/code&gt; is the &lt;span&gt;DOM manipulation task
-  source&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-  &lt;h5&gt;Listening to notifications from the &lt;code&gt;datagrid&lt;/code&gt;&lt;/h5&gt;
-
-  &lt;p&gt;&lt;i&gt;The conformance criteria in this section apply to any
-  implementation of the &lt;code&gt;DataGridListener&lt;/code&gt; interface,
-  including (and most commonly) the content author's
-  implementation(s).&lt;/i&gt;&lt;/p&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;// To be implemented by Web authors as a JS object
-[NoInterfaceObject]
-interface &lt;dfn&gt;DataGridListener&lt;/dfn&gt; {
-  void &lt;span title=&quot;dom-listener-initialize&quot;&gt;initialize&lt;/span&gt;(in &lt;span&gt;HTMLDataGridElement&lt;/span&gt; datagrid);
-
-  void &lt;span title=&quot;dom-listener-getRows&quot;&gt;getRows&lt;/span&gt;(in unsigned long rowIndex, in unsigned long rowCount, in &lt;span&gt;RowID&lt;/span&gt; parentRow, in unsigned long position, in &lt;span&gt;ColumnList&lt;/span&gt; columns);
-  void &lt;span title=&quot;dom-listener-getCells&quot;&gt;getCells&lt;/span&gt;(in &lt;span&gt;RowIDList&lt;/span&gt; rows, in &lt;span&gt;ColumnList&lt;/span&gt; columns);
-  void &lt;span title=&quot;dom-listener-rowOpened&quot;&gt;rowOpened&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in boolean rowCountNeeded);
-  void &lt;span title=&quot;dom-listener-rowClosed&quot;&gt;rowClosed&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row);
-
-  void &lt;span title=&quot;dom-listener-cellChanged&quot;&gt;cellChanged&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in &lt;span&gt;Column&lt;/span&gt; column, in any newValue, in any prevValue);
-  &lt;span&gt;HTMLMenuElement&lt;/span&gt; &lt;span title=&quot;dom-listener-getRowMenu&quot;&gt;getRowMenu&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row);
-&lt;!- -vsDGDND
-  boolean &lt;span title=&quot;dom-listener-canDrop&quot;&gt;canDrop&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in &lt;span&gt;RowID&lt;/span&gt; position, data);
-  boolean &lt;span title=&quot;dom-listener-dropped&quot;&gt;dropped&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in &lt;span&gt;RowID&lt;/span&gt; position, data);
-- -&gt;&lt;!- -v2DGPA
-  void &lt;span title=&quot;dom-listener-performAction&quot;&gt;performAction&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in DOMString action);
-- -&gt;};&lt;/pre&gt;
-
-  &lt;p&gt;The &lt;code&gt;DataGridListener&lt;/code&gt; interface, once implemented by
-  an object in a script and hooked up to a &lt;code&gt;datagrid&lt;/code&gt; using
-  the &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; IDL
-  attribute, receives notifications when the &lt;code&gt;datagrid&lt;/code&gt;
-  needs information (such as which rows exist) for display.&lt;/p&gt;
-
-  &lt;p&gt;The following methods may be usefully implemented:&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-initialize&quot;&gt;&lt;code&gt;initialize(&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element (the one given by
-    the &lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; argument) when the &lt;code
-    title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; attribute is
-    set.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-getRows&quot;&gt;&lt;code&gt;getRows(&lt;var title=&quot;&quot;&gt;rowIndex&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rowCount&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;parentRow&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;columns&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element when the user agent
-    finds itself needing to render rows for which it is lacking
-    information.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;rowIndex&lt;/var&gt; argument gives the flattened
-    index of the first row for which it needs information, ignoring
-    the tree structure of the &lt;code&gt;datagrid&lt;/code&gt; model, where zero
-    is the first row of the entire tree.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;rowCount&lt;/var&gt; argument gives the number of
-    rows for which the user agent would like information.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;parentRow&lt;/var&gt; argument gives the
-    &lt;code&gt;RowID&lt;/code&gt; object identifying the nearest ancestor of the
-    first row that the user agent is aware of. After the sort order
-    has changed, this will typically be the root of the tree
-    (identified by a &lt;code&gt;RowID&lt;/code&gt; object consisting of an empty
-    array).
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;columns&lt;/var&gt; argument gives the columns for
-    which the user agent is lacking information, as an array of column
-    identifiers (as passed to &lt;code
-    title=&quot;dom-datagrid-addColumn&quot;&gt;addColumn()&lt;/code&gt;).&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-getCells&quot;&gt;&lt;code&gt;getCells(&lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;columns&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element when the user agent
-    finds itself needing to render cells for which it is lacking
-    information in rows that it does know about.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument gives an array of
-    &lt;code&gt;RowID&lt;/code&gt; objects identifying the various rows for which
-    the user agent is lacking information.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;columns&lt;/var&gt; argument gives the columns for
-    which the user agent is lacking information, as an array of column
-    identifiers (as passed to &lt;code
-    title=&quot;dom-datagrid-addColumn&quot;&gt;addColumn()&lt;/code&gt;).&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-rowOpened&quot;&gt;&lt;code&gt;rowOpened(&lt;var title=&quot;&quot;&gt;row&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rowCountNeeded&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element when the user has
-    opened a row.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; argument gives an
-    &lt;code&gt;RowID&lt;/code&gt; object identifying the row that was opened.&lt;/p&gt;
-
-    &lt;p&gt;If the user agent also knows how many children that row has,
-    then the &lt;var title=&quot;&quot;&gt;rowCountNeeded&lt;/var&gt; argument will be
-    false. Otherwise, the argument will be true, and the row will
-    remain closed until the &lt;code
-    title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; method is called
-    with an accurate row count.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-rowClosed&quot;&gt;&lt;code&gt;rowClosed(&lt;var title=&quot;&quot;&gt;row&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element when the user has
-    opened a row.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; argument gives an
-    &lt;code&gt;RowID&lt;/code&gt; object identifying the row that was closed.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-cellChanged&quot;&gt;&lt;code&gt;cellChanged(&lt;var title=&quot;&quot;&gt;row&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;column&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;newValue&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;prevValue&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element when the user has
-    edited a cell or checked a check box in a cell.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; argument gives an
-    &lt;code&gt;RowID&lt;/code&gt; object identifying the row of the cell, and the
-    &lt;var title=&quot;&quot;&gt;column&lt;/var&gt; argument gives the identifier of the
-    cell's column.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;newValue&lt;/var&gt; argument gives the new value,
-    and the &lt;var title=&quot;&quot;&gt;prevValue&lt;/var&gt; argument gives the previous
-    value.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-getRowMenu&quot;&gt;&lt;code&gt;getRowMenu(&lt;var title=&quot;&quot;&gt;row&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;Must return an &lt;code&gt;HTMLMenuElement&lt;/code&gt; object that is to
-   be used as a context menu for row &lt;var title=&quot;&quot;&gt;row&lt;/var&gt;, or null
-   if there is no particular context menu. May be omitted if none of
-   the rows have a special context menu. As this method is called
-   immediately before showing the menu in question, no precautions
-   need to be taken if the return value of this method changes.&lt;/dd&gt;
-
-   &lt;!- -v2DGDND, v2DFPA- -&gt;
-
-  &lt;/dl&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;p&gt;Objects that implement the &lt;code&gt;DataGridListener&lt;/code&gt;
-  interface may omit any or all of the methods. When a method is
-  omitted, a user agent intending to call that method must instead
-  skip the method call, and must assume that the method's return value
-  is null.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-
-&lt;!- - v2DGS: &lt;datagrid&gt; selection (search for the bits marked &quot;...&quot; to see what needs filling in, at a minimum)
-
-  &lt;h5&gt;The selection&lt;/h5&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;DataGridSelection&lt;/dfn&gt; {
-  readonly attribute unsigned long &lt;span title=&quot;dom-DataGridSelection-length&quot;&gt;length&lt;/span&gt;;
-  getter &lt;span&gt;RowID&lt;/span&gt; &lt;span title=&quot;dom-DataGridSelection-item&quot;&gt;item&lt;/span&gt;(in unsigned long index);
-  boolean &lt;span title=&quot;dom-DataGridSelection-isSelected&quot;&gt;isSelected&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row);
-  void &lt;span title=&quot;dom-DataGridSelection-setSelected&quot;&gt;setSelected&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in boolean selected);
-  void &lt;span title=&quot;dom-DataGridSelection-selectAll&quot;&gt;selectAll&lt;/span&gt;();
-  void &lt;span title=&quot;dom-DataGridSelection-clear&quot;&gt;clear&lt;/span&gt;();
-};&lt;/pre&gt;
-
-  &lt;dl class=&quot;domintro&quot;&gt;
-
-   ...
-
-  &lt;/dl&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;p&gt;Each &lt;code&gt;datagrid&lt;/code&gt; element must keep track of which rows
-  are currently selected. Initially, no rows are selected. This can be
-  changed using the methods described in this section.&lt;/p&gt;
-
-  &lt;p&gt;The selection of a &lt;code&gt;datagrid&lt;/code&gt; is represented by its
-  &lt;dfn title=&quot;dom-datagrid-selection&quot;&gt;&lt;code&gt;selection&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute, which must be a &lt;code&gt;DataGridSelection&lt;/code&gt; object.&lt;/p&gt;
-
-  &lt;p&gt;&lt;code&gt;DataGridSelection&lt;/code&gt; objects represent the rows in the
-  selection. In the selection the rows must be ordered in their
-  natural order (and not, e.g., the display order). A row with an
-  ancestor that is closed cannot be selected.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DataGridSelection-length&quot;&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the number of rows currently present in the
-  selection. This is the &lt;var
-  title=&quot;dom-DataGridSelection-length&quot;&gt;length&lt;/var&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The object's &lt;span&gt;supported property indices&lt;/span&gt; are the
-  numbers in the range zero to &lt;span title=&quot;&quot;&gt;&lt;var
-  title=&quot;dom-DataGridSelection-length&quot;&gt;length&lt;/var&gt;-1&lt;/span&gt;, unless
-  the &lt;var title=&quot;dom-DataGridSelection-length&quot;&gt;length&lt;/var&gt; is zero,
-  in which case there are no &lt;span&gt;supported property
-  indices&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-DataGridSelection-item&quot;&gt;&lt;code&gt;item(&lt;var
-  title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return a
-  &lt;code&gt;RowID&lt;/code&gt; object identifying the &lt;var
-  title=&quot;&quot;&gt;index&lt;/var&gt;th row in the selection. If the argument is out
-  of range (less than zero or greater than the number of selected rows
-  minus one), then it must raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt;
-  exception. &lt;a href=&quot;#refsDOMCORE&quot;&gt;[DOMCORE]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DataGridSelection-isSelected&quot;&gt;&lt;code&gt;isSelected()&lt;/code&gt;&lt;/dfn&gt;
-  method must return the selected state of the row specified by its
-  argument. If the specified row is in the &lt;span&gt;natural order sparse
-  data tree&lt;/span&gt; and is selected, the method must return true,
-  otherwise it must return false.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DataGridSelection-setSelected&quot;&gt;&lt;code&gt;setSelected()&lt;/code&gt;&lt;/dfn&gt;
-  method takes two arguments, &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; and &lt;var
-  title=&quot;&quot;&gt;selected&lt;/var&gt;. When invoked, it must set the selection
-  state of row &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; to selected if &lt;var
-  title=&quot;&quot;&gt;selected&lt;/var&gt; is true, and unselected if it is false. If
-  &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; does not specify a row in the &lt;span&gt;natural
-  order sparse data tree&lt;/span&gt; ...
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DataGridSelection-selectAll&quot;&gt;&lt;code&gt;selectAll()&lt;/code&gt;&lt;/dfn&gt;
-  method must ...
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DataGridSelection-clear&quot;&gt;&lt;code&gt;clear()&lt;/code&gt;&lt;/dfn&gt;
-  method must mark all the rows in the &lt;code&gt;datagrid&lt;/code&gt; as not
-  selected. After a call to &lt;code
-  title=&quot;dom-DataGridSelection-clear&quot;&gt;clear()&lt;/code&gt;, the &lt;code
-  title=&quot;dom-DataGridSelection-length&quot;&gt;length&lt;/code&gt; attribute will
-  return zero.&lt;/p&gt;
-
-  &lt;p&gt;If the &lt;code&gt;datagrid&lt;/code&gt; element has a &lt;code
-  title=&quot;attr-datagrid-multiple&quot;&gt;multiple&lt;/code&gt; attribute, then the
-  user agent should allow the user to select any number of rows (zero
-  or more). If the attribute is not present, then the user agent
-  should allow the user to select a row, and must not allow the user
-  to select more than a single row at a time; selecting another one
-  must unselect all the other rows.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;This only applies to the user. Scripts can select
-  multiple rows even when the &lt;code
-  title=&quot;attr-datagrid-multiple&quot;&gt;multiple&lt;/code&gt; attribute is
-  absent.&lt;/p&gt;
-
-  ...event on selection change?...
-
-  &lt;/div&gt;
-
-  &lt;p class=&quot;note&quot;&gt;The &lt;code&gt;DataGridSelection&lt;/code&gt; interface has no
-  relation to the &lt;code&gt;Selection&lt;/code&gt; interface.&lt;/p&gt;
-
-- -&gt;
-
-
-&lt;!- -vsDGDND
-  &lt;h5&gt;Drag and drop in &lt;code&gt;datagrid&lt;/code&gt;s&lt;/h5&gt;
-
-  &lt;p&gt;&lt;i&gt;This section only applies to interactive user agents.&lt;/i&gt;&lt;/p&gt;
-
-  ...define drag and drop in datagrids; selectiondraggable...
-- -&gt;
-
---&gt;
-
   &lt;h4 id=the-command&gt;&lt;span class=secno&gt;4.11.3 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;command&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
@@ -75949,13 +73347,12 @@
   tag&lt;/a&gt; may be omitted if the &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; element is
   immediately followed by an &lt;code&gt;&lt;a href=#the-address-element&gt;address&lt;/a&gt;&lt;/code&gt;,
   &lt;code&gt;&lt;a href=#the-article-element&gt;article&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-aside-element&gt;aside&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-blockquote-element&gt;blockquote&lt;/a&gt;&lt;/code&gt;,
-  &lt;!--v2DATAGRID &lt;code&gt;datagrid&lt;/code&gt;,--&gt; &lt;code&gt;&lt;a href=#dir&gt;dir&lt;/a&gt;&lt;/code&gt;,
-  &lt;code&gt;&lt;a href=#the-div-element&gt;div&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;,
-  &lt;code&gt;&lt;a href=#the-footer-element&gt;footer&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;,
-  &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;,
-  &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h6&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-header-element&gt;header&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-hgroup-element&gt;hgroup&lt;/a&gt;&lt;/code&gt;,
-  &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#menus&gt;menu&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-nav-element&gt;nav&lt;/a&gt;&lt;/code&gt;,
-  &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-pre-element&gt;pre&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#dir&gt;dir&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-div-element&gt;div&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-footer-element&gt;footer&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h6&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-header-element&gt;header&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-hgroup-element&gt;hgroup&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#menus&gt;menu&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-nav-element&gt;nav&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-pre-element&gt;pre&lt;/a&gt;&lt;/code&gt;,
   &lt;code&gt;&lt;a href=#the-section-element&gt;section&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt;,
   element, or if there is no more content in the parent element and
   the parent element is not an &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
@@ -77323,10 +74720,9 @@
    &lt;code&gt;&lt;a href=#the-blockquote-element&gt;blockquote&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-br-element&gt;br&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-button-element&gt;button&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#center&gt;center&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-command&gt;command&lt;/a&gt;&lt;/code&gt;,
-   &lt;!--v2DDATAGRID &lt;code&gt;datagrid&lt;/code&gt;,--&gt; &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#dir&gt;dir&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-div-element&gt;div&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-figcaption-element&gt;figcaption&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#dir&gt;dir&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-div-element&gt;div&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-figcaption-element&gt;figcaption&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-footer-element&gt;footer&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#frame&gt;frame&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;,
@@ -80763,10 +78159,9 @@
 
    &lt;!-- the normal ones --&gt;
    &lt;dt&gt;A start tag whose tag name is one of: &quot;address&quot;, &quot;article&quot;,
-   &quot;aside&quot;, &quot;blockquote&quot;, &quot;center&quot;, &lt;!--v2DATAGRID&quot;datagrid&quot;,--&gt;
-   &quot;details&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;, &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;,
-   &quot;footer&quot;, &quot;header&quot;, &quot;hgroup&quot;, &quot;menu&quot;, &quot;nav&quot;, &quot;ol&quot;, &quot;p&quot;, &quot;section&quot;,
-   &quot;summary&quot;, &quot;ul&quot;&lt;/dt&gt;
+   &quot;aside&quot;, &quot;blockquote&quot;, &quot;center&quot;, &quot;details&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;,
+   &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;, &quot;footer&quot;, &quot;header&quot;, &quot;hgroup&quot;,
+   &quot;menu&quot;, &quot;nav&quot;, &quot;ol&quot;, &quot;p&quot;, &quot;section&quot;, &quot;summary&quot;, &quot;ul&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
     &lt;!-- As of May 2008 this doesn't match any browser exactly, but is
@@ -80985,11 +78380,10 @@
 
    &lt;!-- the normal ones --&gt;
    &lt;dt&gt;An end tag whose tag name is one of: &quot;address&quot;, &quot;article&quot;,
-   &quot;aside&quot;, &quot;blockquote&quot;, &quot;button&quot;, &quot;center&quot;,
-   &lt;!--v2DATAGRID&quot;datagrid&quot;,--&gt; &quot;details&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;,
-   &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;, &quot;footer&quot;, &quot;header&quot;, &quot;hgroup&quot;,
-   &quot;listing&quot;, &quot;menu&quot;, &quot;nav&quot;, &quot;ol&quot;, &quot;pre&quot;, &quot;section&quot;, &quot;summary&quot;,
-   &quot;ul&quot;&lt;/dt&gt;
+   &quot;aside&quot;, &quot;blockquote&quot;, &quot;button&quot;, &quot;center&quot;, &quot;details&quot;, &quot;dir&quot;, &quot;div&quot;,
+   &quot;dl&quot;, &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;, &quot;footer&quot;, &quot;header&quot;,
+   &quot;hgroup&quot;, &quot;listing&quot;, &quot;menu&quot;, &quot;nav&quot;, &quot;ol&quot;, &quot;pre&quot;, &quot;section&quot;,
+   &quot;summary&quot;, &quot;ul&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
     &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-scope title=&quot;has an element in scope&quot;&gt;have an element in scope&lt;/a&gt;
@@ -86779,20 +84173,6 @@
   &lt;/div&gt;
 
 
-&lt;!--v2DATAGRID
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;h4&gt;The &lt;code&gt;datagrid&lt;/code&gt; element&lt;/h4&gt;
-
-  This section will probably include details on how to render DATAGRID
-  (including &lt;span id=&quot;datagridPseudos&quot;&gt;its pseudo-elements&lt;/span&gt;),
-  drag-and-drop, etc, in a visual medium, in concert with
-  CSS. Implementation experience is desired before this section is
-  filled in.
-
-  &lt;/div&gt;
---&gt;
-
   &lt;div class=impl&gt;
 
   &lt;h4 id=the-details-element-0&gt;&lt;span class=secno&gt;14.4.3 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
@@ -91126,7 +88506,6 @@
       &lt;code&gt;&lt;a href=#the-cite-element&gt;cite&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-code-element&gt;code&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-command&gt;command&lt;/a&gt;&lt;/code&gt;;
-      &lt;!-- v2DATAGRID &lt;code&gt;datagrid&lt;/code&gt;; --&gt;
       &lt;code&gt;&lt;a href=#the-datalist-element&gt;datalist&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-del-element&gt;del&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;;
@@ -91299,7 +88678,6 @@
      &lt;td&gt;
       &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-button-element&gt;button&lt;/a&gt;&lt;/code&gt;;
-      &lt;!-- v2DATAGRID &lt;code&gt;datagrid&lt;/code&gt;; --&gt;
       &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;;
@@ -91319,7 +88697,6 @@
      &lt;td&gt;
       &lt;code&gt;&lt;a href=#the-blockquote-element&gt;blockquote&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;;
-      &lt;!-- v2DATAGRID &lt;code&gt;datagrid&lt;/code&gt;; --&gt;
       &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt;;

Modified: index
===================================================================
--- index	2010-10-22 23:07:42 UTC (rev 5643)
+++ index	2010-10-22 23:12:13 UTC (rev 5644)
@@ -7901,7 +7901,6 @@
    &lt;li value=24&gt;&lt;dfn id=not_readable_err&gt;&lt;code&gt;NOT_READABLE_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!-- File API --&gt;
    &lt;li value=25&gt;&lt;dfn id=data_clone_err&gt;&lt;code&gt;DATA_CLONE_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!-- actually defined right here for now --&gt;
    &lt;li value=26&gt;&lt;dfn id=encoding_err&gt;&lt;code&gt;ENCODING_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!-- File API --&gt;
-&lt;!--v2DATAGRID   &lt;li value=&quot;..&quot;&gt;&lt;dfn&gt;&lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; --&gt; &lt;!-- actually defined right here for now --&gt;
 &lt;!--
    &lt;li value=&quot;81&quot;&gt;&lt;dfn&gt;&lt;code&gt;PARSE_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!- - actually defined in dom3ls - -&gt;
    &lt;li value=&quot;82&quot;&gt;&lt;dfn&gt;&lt;code&gt;SERIALIZE_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!- - actually defined in dom3ls - -&gt;
@@ -10201,7 +10200,6 @@
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-cite-element&gt;cite&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-code-element&gt;code&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-command&gt;command&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
-&lt;!-- v2DATAGRID   &lt;li&gt;&lt;code&gt;datagrid&lt;/code&gt;&lt;/li&gt; --&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-datalist-element&gt;datalist&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-del-element&gt;del&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
@@ -10450,7 +10448,6 @@
   &lt;ul class=&quot;brief category-list&quot;&gt;&lt;li&gt;&lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#audio&gt;audio&lt;/a&gt;&lt;/code&gt; (if the &lt;code title=attr-media-controls&gt;&lt;a href=#attr-media-controls&gt;controls&lt;/a&gt;&lt;/code&gt; attribute is present)&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-button-element&gt;button&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
-&lt;!-- v2DATAGRID   &lt;li&gt;&lt;code&gt;datagrid&lt;/code&gt;&lt;/li&gt; --&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
@@ -16341,7 +16338,6 @@
   &lt;!-- when updating this also update the category index --&gt;
   &lt;ul class=&quot;brief category-list&quot;&gt;&lt;li&gt;&lt;code&gt;&lt;a href=#the-blockquote-element&gt;blockquote&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
-&lt;!-- v2DATAGRID   &lt;li&gt;&lt;code&gt;datagrid&lt;/code&gt;&lt;/li&gt; --&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
@@ -44061,11 +44057,7 @@
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#the-datalist-element&gt;datalist&lt;/a&gt;&lt;/code&gt; element is hooked up to an
   &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element using the &lt;code title=attr-input-list&gt;&lt;a href=#attr-input-list&gt;list&lt;/a&gt;&lt;/code&gt; attribute on the
-  &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element. &lt;!-- v2DATAGRID The
-  &lt;code&gt;datalist&lt;/code&gt; element can also be used with a
-  &lt;code&gt;datagrid&lt;/code&gt; element, as the source of autocompletion hints
-  for &lt;code title=&quot;datagrid-type-editable&quot;&gt;editable&lt;/code&gt;
-  cells. --&gt;&lt;/p&gt;
+  &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
   &lt;p&gt;Each &lt;code&gt;&lt;a href=#the-option-element&gt;option&lt;/a&gt;&lt;/code&gt; element that is a descendant of the
   &lt;code&gt;&lt;a href=#the-datalist-element&gt;datalist&lt;/a&gt;&lt;/code&gt; element, that is not &lt;a href=#concept-option-disabled title=concept-option-disabled&gt;disabled&lt;/a&gt;, and whose &lt;a href=#concept-option-value title=concept-option-value&gt;value&lt;/a&gt; is a string that isn't the
@@ -45608,7 +45600,7 @@
   &lt;ul class=brief&gt;&lt;li&gt;minimum value &le; actual value &le; maximum value&lt;/li&gt;
    &lt;li&gt;minimum value &le; low boundary &le; high boundary &le; maximum value&lt;/li&gt;
    &lt;li&gt;minimum value &le; optimum point &le; maximum value&lt;/li&gt;
-  &lt;/ul&gt;&lt;!-- next two paragraphs are duplicated in the &lt;datagrid&gt; section [v2DATAGRID] --&gt;&lt;p&gt;&lt;strong&gt;UA requirements for regions of the gauge&lt;/strong&gt;: If the
+  &lt;/ul&gt;&lt;p&gt;&lt;strong&gt;UA requirements for regions of the gauge&lt;/strong&gt;: If the
   optimum point is equal to the low boundary or the high boundary, or
   anywhere in between them, then the region between the low and high
   boundaries of the gauge must be treated as the optimum region, and
@@ -47733,2601 +47725,7 @@
 
 
 
-&lt;!-- v2DATAGRID
-  &lt;h4 id=&quot;datagrid&quot;&gt;The &lt;dfn&gt;&lt;code&gt;datagrid&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
-  &lt;dl class=&quot;element&quot;&gt;
-   &lt;dt&gt;Categories&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;span&gt;Interactive content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;span&gt;Sectioning root&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dt&gt;Contexts in which this element can be used:&lt;/dt&gt;
-   &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
-   &lt;dt&gt;Content model:&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dt&gt;Content attributes:&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
-&lt;!- -v2DGS:
-   &lt;dd&gt;&lt;code title=&quot;attr-datagrid-multiple&quot;&gt;multiple&lt;/code&gt;&lt;/dd&gt;
-- -&gt;
-   &lt;dd&gt;&lt;code title=&quot;attr-datagrid-disabled&quot;&gt;disabled&lt;/code&gt;&lt;/dd&gt;
-   &lt;dt&gt;DOM interface:&lt;/dt&gt;
-   &lt;dd&gt;
-&lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLDataGridElement&lt;/dfn&gt; : &lt;span&gt;HTMLElement&lt;/span&gt; {
-&lt;!- -v2DGS:
-           attribute boolean &lt;span title=&quot;dom-datagrid-multiple&quot;&gt;multiple&lt;/span&gt;;
-- -&gt;           attribute boolean &lt;span title=&quot;dom-datagrid-disabled&quot;&gt;disabled&lt;/span&gt;;
-           attribute &lt;span&gt;DataGridListener&lt;/span&gt; &lt;span title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/span&gt;;
-&lt;!- - v2DGS:
-  readonly attribute &lt;span&gt;DataGridSelection&lt;/span&gt; &lt;span title=&quot;dom-datagrid-selection&quot;&gt;selection&lt;/span&gt;;
-- -&gt;
-  // columns
-  void &lt;span title=&quot;dom-datagrid-addColumn&quot;&gt;addColumn&lt;/span&gt;(in &lt;span&gt;Column&lt;/span&gt; id, in DOMString label, in DOMString type, in optional HTMLImageElement icon, in optional boolean sortable, in optional boolean hidden);
-           attribute DOMString &lt;span title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/span&gt;;
-           attribute boolean &lt;span title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/span&gt;;
-  void &lt;span title=&quot;dom-datagrid-clearColumns&quot;&gt;clearColumns&lt;/span&gt;();
-
-  // rows
-  void &lt;span title=&quot;dom-datagrid-renotify&quot;&gt;renotify&lt;/span&gt;();
-  void &lt;span title=&quot;dom-datagrid-setRowCount&quot;&gt;setRowCount&lt;/span&gt;(in long childCount, in long rowCount);
-  void &lt;span title=&quot;dom-datagrid-setRows&quot;&gt;setRows&lt;/span&gt;(in &lt;span&gt;RowList&lt;/span&gt; rows);
-  void &lt;span title=&quot;dom-datagrid-insertRows&quot;&gt;insertRows&lt;/span&gt;(in &lt;span&gt;RowList&lt;/span&gt; rows);
-  void &lt;span title=&quot;dom-datagrid-deleteRows&quot;&gt;deleteRows&lt;/span&gt;(in &lt;span&gt;RowIDList&lt;/span&gt; rows);
-  void &lt;span title=&quot;dom-datagrid-repaint&quot;&gt;repaint&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in DOMString column);
-  void &lt;span title=&quot;dom-datagrid-clearRows&quot;&gt;clearRows&lt;/span&gt;();
-&lt;!- -
- v2: opening and closing a row
-     moving a row's actual ID
-      - imagine new mail moving a thread up; you just want to add the new mail to the thread and move the thread's first mail to the top
-      - though actually that should probably just be done using display sorting
-- -&gt;
-};
-
-typedef DOMString &lt;dfn&gt;Column&lt;/dfn&gt;;
-typedef sequence&lt;&lt;span&gt;Column&lt;/span&gt;&gt; &lt;dfn&gt;ColumnList&lt;/dfn&gt;;
-typedef sequence&lt;any&gt; &lt;dfn&gt;Cell&lt;/dfn&gt;; // &lt;span&gt;Column&lt;/span&gt;, any... (exact types expected depend on the column type)
-typedef sequence&lt;&lt;span&gt;Cell&lt;/span&gt;&gt; &lt;dfn&gt;CellList&lt;/dfn&gt;;
-typedef sequence&lt;any&gt; &lt;dfn&gt;Row&lt;/dfn&gt;; // &lt;span&gt;RowID&lt;/span&gt;, long, long, &lt;span&gt;CellList&lt;/span&gt;, optional boolean, optional long
-typedef sequence&lt;&lt;span&gt;Row&lt;/span&gt;&gt; &lt;dfn&gt;RowList&lt;/dfn&gt;;
-typedef sequence&lt;unsigned long&gt; &lt;dfn&gt;RowID&lt;/dfn&gt;;
-typedef sequence&lt;&lt;span&gt;RowID&lt;/span&gt;&gt; &lt;dfn&gt;RowIDList&lt;/dfn&gt;;
-
-[Callback=FunctionOnly, NoInterfaceObject]
-interface &lt;dfn&gt;RenderingContext2DCallback&lt;/dfn&gt; {
-  DOMString &lt;span title=&quot;dom-Rendering2DContextCallback-handleEvent&quot;&gt;handleEvent&lt;/span&gt;(in &lt;span&gt;CanvasRenderingContext2D&lt;/span&gt; context, in unsigned long width, in unsigned long height);
-};&lt;/pre&gt;
-   &lt;/dd&gt;
-  &lt;/dl&gt;
-
- &lt;!- - v2:
-   * datagrid: cells that are links (&lt;a href=&quot;&quot;&gt;&lt;/a&gt;)
-  - -&gt;
-
-  &lt;p&gt;The &lt;code&gt;datagrid&lt;/code&gt; element &lt;span&gt;represents&lt;/span&gt; an
-  interactive representation of tree, list, or tabular data.&lt;/p&gt;
-
-  &lt;p&gt;The data being presented is provided by script using the methods
-  described in the following sections.&lt;/p&gt;
-
-&lt;!- -v2DGS:
-  &lt;p&gt;The &lt;dfn
-  title=&quot;attr-datagrid-multiple&quot;&gt;&lt;code&gt;multiple&lt;/code&gt;&lt;/dfn&gt; attribute
-  is a &lt;span&gt;boolean attribute&lt;/span&gt;. When set, it indicates that the
-  user can select more than one row at a time.&lt;/p&gt;
-- -&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;attr-datagrid-disabled&quot;&gt;&lt;code&gt;disabled&lt;/code&gt;&lt;/dfn&gt; attribute
-  is a &lt;span&gt;boolean attribute&lt;/span&gt; used to disable the
-  control. &lt;span class=&quot;impl&quot;&gt;When the attribute is set, the user
-  agent must disable the &lt;code&gt;datagrid&lt;/code&gt;, preventing the user
-  from interacting with it. The &lt;code&gt;datagrid&lt;/code&gt; element should
-  still continue to update itself when the underlying data changes,
-  though, as described in the next few sections. However, conformance
-  requirements stating that &lt;code&gt;datagrid&lt;/code&gt; elements must react
-  to users in particular ways do not apply when the
-  &lt;code&gt;datagrid&lt;/code&gt; is disabled.&lt;/span&gt;&lt;/p&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;!- -vsDGS: multiple - -&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-disabled&quot;&gt;&lt;code&gt;disabled&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute must &lt;span&gt;reflect&lt;/span&gt; the content attribute of the
-  same name.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-  &lt;!- - v2DGPA: One possible thing to be added is a way to detect when a
-  row/selection has been deleted, activated, etc, by the user (delete
-  key, enter key, etc). (v2DGPA = &lt;datagrid&gt; Perform Action) - -&gt;
-
-
-  &lt;h5&gt;Introduction&lt;/h5&gt;
-
-  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
-
-  &lt;p&gt;In the &lt;code&gt;datagrid&lt;/code&gt; data model, data is structured as a
-  set of rows representing a tree, each row being split into a number
-  of columns. The columns are always present in the data model,
-  although individual columns might be hidden in the presentation.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;Each row can have child rows. Child rows may be hidden or
-  shown, by closing or opening (respectively) the parent row.&lt;/p&gt;
-
-  &lt;p&gt;Rows are referred to by the path along the tree that one would
-  take to reach the row, using zero-based indices. Thus, the first row
-  of a list is row &quot;0&quot;, the second row is row &quot;1&quot;; the first child row
-  of the first row is row &quot;0,0&quot;, the second child row of the first row
-  is row &quot;0,1&quot;; the fourth child of the seventh child of the third
-  child of the tenth row is &quot;9,2,6,3&quot;, etc.&lt;/p&gt;
-
-  &lt;p&gt;The chains of numbers that give a row's path, or identifier, are
-  represented by arrays of positions, represented in IDL by the
-  &lt;span&gt;RowID&lt;/span&gt; interface.&lt;/p&gt;
-
-  &lt;p&gt;The root of the tree is represented by an empty array.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;Each column has a string that is used to identify it in the API,
-  a label that is shown to users interacting with the column, a type,
-  and optionally an icon.&lt;/p&gt;
-
-  &lt;p&gt;The possible types are as follows:&lt;/p&gt;
-
-  &lt;table&gt;
-   &lt;thead&gt;
-    &lt;tr&gt;
-     &lt;td&gt;Keyword
-     &lt;td&gt;Description
-   &lt;tbody&gt;
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;
-     &lt;td&gt;Simple text.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-editable&quot;&gt;editable&lt;/code&gt;
-     &lt;td&gt;Editable text.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-checkable&quot;&gt;checkable&lt;/code&gt;
-     &lt;td&gt;Text with a check box.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-list&quot;&gt;list&lt;/code&gt;
-     &lt;td&gt;A list of values that the user can switch between.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-progress&quot;&gt;progress&lt;/code&gt;
-     &lt;td&gt;A progress bar.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-meter&quot;&gt;meter&lt;/code&gt;
-     &lt;td&gt;A gauge.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;
-     &lt;td&gt;A canvas onto which arbitrary content can be drawn.
-  &lt;/table&gt;
-
-  &lt;p&gt;Each column can be flagged as sortable, in which case the user
-  will be able to sort the view using that column.&lt;/p&gt;
-
-  &lt;p&gt;Columns are not necessarily visible. A column can be created
-  invisible by default. The user can select which columns are to be
-  shown.&lt;/p&gt;
-
-  &lt;p&gt;When no columns have been added to the &lt;code&gt;datagrid&lt;/code&gt;, a
-  column with no name, whose identifier is the empty string, whose
-  type is &lt;code title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;, and which is
-  not sortable, is implied. This column is removed if any explicit
-  columns are declared.&lt;/p&gt;
-
-  &lt;p&gt;Each cell uses the type given for its column, so all cells in a
-  column present the same type of information.&lt;/p&gt;
-
-&lt;!- -v2DGS:
-  &lt;p&gt;Selection of data in a &lt;code&gt;datagrid&lt;/code&gt; operates at the row
-  level. If the &lt;code title=&quot;attr-datagrid-multiple&quot;&gt;multiple&lt;/code&gt;
-  attribute is present, multiple rows can be selected at once,
-  otherwise the user can only select one row at a time.&lt;/p&gt;
-- -&gt;
-
-  &lt;!- - v2DGDND: selection should draggable to and from datagrids - -&gt;
-
-
-  &lt;h6&gt;Example: a &lt;code&gt;datagrid&lt;/code&gt; backed by a static &lt;code&gt;table&lt;/code&gt; element&lt;/h6&gt;
-
-  ...
-
-
-  &lt;h6&gt;Example: a &lt;code&gt;datagrid&lt;/code&gt; backed by nested &lt;code&gt;ol&lt;/code&gt; elements&lt;/h6&gt;
-
-  ...
-
-
-  &lt;h6&gt;Example: a &lt;code&gt;datagrid&lt;/code&gt; backed by a server&lt;/h6&gt;
-
-  ...
-
-
-  &lt;h5&gt;Populating the &lt;code&gt;datagrid&lt;/code&gt;&lt;/h5&gt;
-
-  &lt;dl class=&quot;domintro&quot;&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Return the current object that is configured as the
-    &lt;code&gt;datagrid&lt;/code&gt; listener, if any. Returns null if there is
-    none.&lt;/p&gt;
-
-    &lt;p&gt;The listener is an object provided by the script author that
-    receives notifications when the &lt;code&gt;datagrid&lt;/code&gt; needs row
-    data to render itself, when the user opens and closes rows with
-    children, when the user edits a cell, and when the user invokes a
-    row's context menu. (The &lt;code&gt;DataGridListener&lt;/code&gt; interface
-    used for this purpose is described in the next section.)&lt;/p&gt;
-
-    &lt;p&gt;Can be set, to change the current listener.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-renotify&quot;&gt;renotify&lt;/code&gt;()&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Causes the &lt;code&gt;datagrid&lt;/code&gt; to resend notifications to the
-    listener (if any) for any rows or cells that the
-    &lt;code&gt;datagrid&lt;/code&gt; does not yet have information for.&lt;/p&gt;
-
-    &lt;!- - useful, e.g., if there is a server error and the script loses
-    track of what rows it's supposed to be reporting. - -&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-addColumn&quot;&gt;addColumn&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;label&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;icon&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;sortable&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;hidden&lt;/var&gt; ] ] ] )&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Adds a column to the &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;
-
-    &lt;p&gt;If a column with the given identifier has already been added,
-    it just replaces the information for that column.&lt;/p&gt;
-
-    &lt;p&gt;The possible types are enumerated in the previous section.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns the identifier of the column by which the data is to be
-    sorted.&lt;/p&gt;
-
-    &lt;p&gt;Can be set, to indicate that the sort order has changed. This
-    will cause the &lt;code&gt;datagrid&lt;/code&gt; to clear its position
-    information for rows, so &lt;code
-    title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; will have to be
-    called again with the new sort order.&lt;/p&gt;
-
-    &lt;p&gt;The columns are not actually sorted by the
-    &lt;code&gt;datagrid&lt;/code&gt;; the data has to be sorted by the script
-    that adds the rows to the &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns true if the data is to be sorted with smaller values
-    first; otherwise, returns false, indicating that bigger values are
-    to be put first.&lt;/p&gt;
-
-    &lt;p&gt;Can be set, to indicate that the order is about to change.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-clearColumns&quot;&gt;clearColumns&lt;/code&gt;()&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Removes all the columns in the &lt;code&gt;datagrid&lt;/code&gt;,
-    reinstating the implied column.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-setRowCount&quot;&gt;setRowCount&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;childCount&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rowCount&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Sets the numbers of rows in the &lt;code&gt;datagrid&lt;/code&gt;,
-    excluding rows that are descendants of rows that are closed.&lt;/p&gt;
-
-    &lt;p&gt;Throws a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception if the
-    arguments contradict each other or previously declared information
-    (e.g. declaring that the &lt;code&gt;datagrid&lt;/code&gt; has three rows when
-    the 12th row has been declared).&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-setRows&quot;&gt;setRows&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Updates data for rows in the &lt;code&gt;datagrid&lt;/code&gt;, or fills in
-    data for rows previously implied by a call to &lt;code
-    title=&quot;dom-datagrid-setRowCount&quot;&gt;setRowCount()&lt;/code&gt; but not
-    previously declared.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument is an array of rows, each
-    represented by a further array consisting of:&lt;/p&gt;
-
-    &lt;ol class=&quot;brief&quot;&gt;
-
-     &lt;li&gt;A &lt;code&gt;RowID&lt;/code&gt; object identifying the row.&lt;/li&gt;
-
-     &lt;li&gt;An integer giving the position of the row in its parent,
-     given the current sort order, or &amp;#x2212;1 to set other row data
-     without setting a position or changing a previously declared
-     position.&lt;/li&gt;
-
-     &lt;li&gt;An integer giving the number of children of the row, or 0 if
-     the row has no children, or &amp;#x2212;1 if the row has children but
-     the count is currently unknown. If the number of children has
-     already been set to 0 or a positive integer, then passing
-     &amp;#x2212;1 leaves the previous count unchanged.&lt;/li&gt;
-
-     &lt;li&gt;An array giving the data for zero or more cells in the row,
-     as described below.&lt;/li&gt;
-
-     &lt;li&gt;A boolean declaring whether the row is open or not. This
-     entry, if omitted, is assumed to be false (closed), unless the
-     row has already been declared as open.&lt;/li&gt;
-
-     &lt;li&gt;An integer giving the number of rows that are descendants of
-     this row, excluding those that are descendants of descendants of
-     this row that are closed. This entry can be omitted if the row is
-     closed or if it has already been declared.&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-    &lt;p&gt;The array giving the data for the cells in the row consists of
-    a further set of arrays, one per cell. The first item of each of
-    these arrays is the column's identifier; the subsequent values
-    vary based on the type of the column, as follows:&lt;/p&gt;
-
-    &lt;dl&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A string giving the cell's value.
-       &lt;li&gt;Optionally, an &lt;code&gt;img&lt;/code&gt; element giving an icon for the cell.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-editable&quot;&gt;editable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A string giving the cell's value.
-       &lt;li&gt;Optionally, a &lt;code&gt;datalist&lt;/code&gt; element giving a set of predefined options.
-       &lt;li&gt;Optionally, an &lt;code&gt;img&lt;/code&gt; element giving an icon for the cell.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-checkable&quot;&gt;checkable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A string giving the cell's value.
-       &lt;li&gt;A boolean, indicating whether the cell is checked (true) or not (false).
-       &lt;li&gt;Optionally, a boolean indicating whether the value of the cell is obscured as indeterminate (true), or not (false).
-       &lt;li&gt;Optionally, an &lt;code&gt;img&lt;/code&gt; element giving an icon for the cell.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-list&quot;&gt;list&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A string giving the cell's current value.
-       &lt;li&gt;A &lt;code&gt;select&lt;/code&gt; element giving the &lt;span title=&quot;concept-select-option-list&quot;&gt;list of options&lt;/span&gt;.
-       &lt;li&gt;Optionally, an &lt;code&gt;img&lt;/code&gt; element giving an icon for the cell.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-progress&quot;&gt;progress&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A value in the range 0.0 (no progress) to 1.0 (task complete).
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-meter&quot;&gt;meter&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A number giving the cell's value.
-       &lt;li&gt;Optionally, a number giving the maximum value, if it's not 1.
-       &lt;li&gt;Optionally, a number giving the minimum value, if it's not 0.
-       &lt;li&gt;Optionally, a number giving the highest value that is considered &quot;low&quot;.
-       &lt;li&gt;Optionally, a number giving the lowest value that is considered &quot;high&quot;.
-       &lt;li&gt;Optionally, a number giving the value that is considered optimal.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A number giving the minimum width of the cell, in CSS pixels, that is desired.
-       &lt;li&gt;A number giving the minimum height of the cell, in CSS pixels, that is desired.
-       &lt;li&gt;A function that is passed a &lt;code&gt;CanvasRenderingContext2D&lt;/code&gt; object, along with the width and height (in CSS pixels) of the cell that the context will draw on.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-    &lt;p&gt;While the rows in a single call to the &lt;code
-    title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; method can be in any
-    order, for each row, it is important that all its ancestor rows
-    and all its open previous siblings are also declared, either in
-    the same call or in an earlier one.&lt;/p&gt;
-
-    &lt;p&gt;Throws a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception if the
-    arguments contradict each other or previously declared information
-    (e.g. saying that a row's position is 5 when the parent row only
-    has 3 children, or naming a column that doesn't exist, or
-    declaring a row without declaring its parent, or changing the
-    number of children that a row has while that row and its ancestors
-    are all open).&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-insertRows&quot;&gt;insertRows&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Inserts the given rows into the &lt;code&gt;datagrid&lt;/code&gt;,
-    increasing the numbers of rows that the &lt;code&gt;datagrid&lt;/code&gt;
-    assumes are present.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument is an array of rows in
-    the same structure as the argument to the &lt;code
-    title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; method described
-    above, with the same expectations of consistency (a given row's
-    ancestors and earlier open siblings being listed either earlier or
-    in the same call as a given row). However, unlike with the &lt;code
-    title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; method, if a row is
-    inserted along with its child, the child is not included in the
-    child and row counts of the parent row; every row in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument will increase its parent's counts
-    automatically.&lt;/p&gt;
-
-    &lt;p&gt;Throws a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception if the
-    arguments contradict each other or previously declared
-    information.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-deleteRows&quot;&gt;deleteRows&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Removes the given rows from the &lt;code&gt;datagrid&lt;/code&gt;, and
-    updates the number of rows known to be in the
-    &lt;code&gt;datagrid&lt;/code&gt; accordingly. The argument is an array of
-    &lt;code&gt;RowID&lt;/code&gt; objects identifying the rows to remove.&lt;/p&gt;
-
-    &lt;p&gt;Throws a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception if the argument
-    includes a row the &lt;code&gt;datagrid&lt;/code&gt; doesn't know about.&lt;/p&gt;
-    &lt;!- - since otherwise behaviour might depend on where the user
-    scrolled! - -&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-repaint&quot;&gt;repaint&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;row&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;column&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;If the given column's type is &lt;code
-    title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;, then causes the
-    &lt;code&gt;datagrid&lt;/code&gt; to reinvoke the function that obtains the
-    desired rendering.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-clearRows&quot;&gt;clearRows&lt;/code&gt;()&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Clears the &lt;code&gt;datagrid&lt;/code&gt; of all row data, resetting it
-    to empty&lt;!- - v2DGS:, and clears the selection- -&gt;.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;h6&gt;The listener&lt;/h6&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-listener&quot;&gt;&lt;code&gt;listener&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute allows authors to specify an object that will receive all
-  the notifications from the &lt;code&gt;datagrid&lt;/code&gt;. Initially, its
-  value must be null. On getting, it must return its value. On
-  setting, its value must be set to the new value, and then the user
-  agent must &lt;span&gt;queue a task&lt;/span&gt; to call the &lt;code
-  title=&quot;dom-listener-initialize&quot;&gt;initialize()&lt;/code&gt; method with the
-  &lt;code&gt;datagrid&lt;/code&gt; element as its only argument.&lt;/p&gt;
-
-
-  &lt;h6&gt;The columns&lt;/h6&gt;
-
-  &lt;p&gt;The columns are represented by the &lt;dfn&gt;column list&lt;/dfn&gt;, an
-  ordered list of entries for columns, each of which consists of:&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;An identifier&lt;/dt&gt;
-
-   &lt;dd&gt;A string used to identify the column in the API.&lt;/dd&gt;
-
-   &lt;dt&gt;A label&lt;/dt&gt;
-
-   &lt;dd&gt;A string used in the user interface.&lt;/dd&gt;
-
-   &lt;dt&gt;A type&lt;/dt&gt;
-
-   &lt;dd&gt;One of the types described below.&lt;/dd&gt;
-
-   &lt;dt&gt;An icon&lt;/dt&gt;
-
-   &lt;dd&gt;An image, copied from an &lt;code&gt;img&lt;/code&gt; element when the
-   column was declared.&lt;/dd&gt;
-
-   &lt;dt&gt;Whether the column is sortable&lt;/dt&gt;
-
-   &lt;dd&gt;A boolean indicating whether the user can request that the data
-   be sorted by this column (true), or not (false).&lt;/dd&gt;
-
-   &lt;dt&gt;Whether the column is visible&lt;/dt&gt;
-
-   &lt;dd&gt;A boolean indicating whether the column is part of the
-   &lt;code&gt;datagrid&lt;/code&gt;'s rendering.&lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-  &lt;p&gt;Initially, the &lt;span&gt;column list&lt;/span&gt; must have a single
-  column, the &lt;dfn&gt;default column&lt;/dfn&gt;, whose identifier is the empty
-  string, whose label is the empty string, whose type is &lt;code
-  title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;, with no icon, which is not
-  sortable, and which &lt;em&gt;is&lt;/em&gt; visible.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-addColumn&quot;&gt;&lt;code&gt;addColumn(&lt;var
-  title=&quot;&quot;&gt;id&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;label&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;type&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;icon&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;sortable&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;hidden&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
-  method must run the following steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;If there is already an entry in &lt;span&gt;column list&lt;/span&gt;,
-   other than the &lt;span&gt;default column&lt;/span&gt;, whose identifier is
-   &lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt;
-   exception and abort these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; is not a string equal to one of the
-    &lt;span&gt;allowed &lt;code&gt;datagrid&lt;/code&gt; column types&lt;/span&gt;, then
-    throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception and abort these
-    steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;icon&lt;/var&gt; argument is present and not
-   null, but the given &lt;code&gt;img&lt;/code&gt; element is not in the &lt;span
-   title=&quot;img-all&quot;&gt;completely available&lt;/span&gt; state, then let &lt;var
-   title=&quot;&quot;&gt;icon&lt;/var&gt; be null.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;icon&lt;/var&gt; argument is present and not
-   null, then copy the image data from that &lt;code&gt;img&lt;/code&gt; element,
-   and let &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; be the copy of that image
-   data. Otherwise, let &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; be nothing.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Append a new entry to the &lt;span&gt;column list&lt;/span&gt;, with
-   &lt;var title=&quot;&quot;&gt;id&lt;/var&gt; as its identifier, &lt;var title=&quot;&quot;&gt;label&lt;/var&gt;
-   as its label, &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; as its type, and &lt;var
-   title=&quot;&quot;&gt;image&lt;/var&gt; as its icon. Let the column be sortable if the
-   &lt;var title=&quot;&quot;&gt;sortable&lt;/var&gt; argument is present and true, and make
-   it visible unless the &lt;var title=&quot;&quot;&gt;hidden&lt;/var&gt; argument is
-   present and true.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;column list&lt;/span&gt; contains the &lt;span&gt;default
-   column&lt;/span&gt;, then remove the &lt;span&gt;default column&lt;/span&gt; from the
-   &lt;span&gt;column list&lt;/span&gt;, discard any data for cells in that column
-   in any rows in the &lt;code&gt;datagrid&lt;/code&gt;, set &lt;code
-   title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; to &lt;var
-   title=&quot;&quot;&gt;id&lt;/var&gt;, set &lt;code
-   title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; to true,
-   and run the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort
-   steps&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-sortColumn&quot;&gt;&lt;code&gt;sortColumn&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute gives the current column used for sorting. Initially, its
-  value must be the empty string. On getting, it must return its
-  current value. On setting, if the new value doesn't match the
-  identifier of one of the columns in the &lt;span&gt;column list&lt;/span&gt;,
-  then the user agent must throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt;
-  exception. Otherwise, if the new value is not the same as its
-  current value, then the user agent must set the attribute to the new
-  value, and then run the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort
-  steps&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-sortAscending&quot;&gt;&lt;code&gt;sortAscending&lt;/code&gt;&lt;/dfn&gt;
-  IDL attribute specifies the direction that the tree is sorted in,
-  ascending (true) or descending (false). Initially, its value must be
-  true (ascending). On getting, it must return its current value. On
-  setting, if the new value is not the same as its current value, then
-  the user agent must set the attribute to the new value, and then run
-  the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort steps&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;When a column is marked as being sortable, the user agent should
-  allow the user to select that column to be the column used for
-  sorting, and should allow the user to chose whether the sort order
-  is ascending or descending.&lt;/p&gt;
-
-  &lt;p&gt;When the user changes the sort order in this manner, the user
-  agent must update the &lt;code
-  title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; and &lt;code
-  title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; attributes
-  appropriately, and then run the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort
-  steps&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort steps&lt;/span&gt;
-  are described in the next section.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-clearColumns&quot;&gt;&lt;code&gt;clearColumns()&lt;/code&gt;&lt;/dfn&gt;
-  method, if the &lt;span&gt;column list&lt;/span&gt; doesn't contain the
-  &lt;span&gt;default column&lt;/span&gt;, must empty the &lt;span&gt;column
-  list&lt;/span&gt;, append the &lt;span&gt;default column&lt;/span&gt; to the now empty
-  &lt;span&gt;column list&lt;/span&gt;, discard any data for cells in all rows in
-  the &lt;code&gt;datagrid&lt;/code&gt;, set &lt;code
-  title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; to the empty
-  string, set &lt;code
-  title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; to true, and
-  run the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort steps&lt;/span&gt;. (If the
-  &lt;span&gt;column list&lt;/span&gt; is already just the &lt;span&gt;default
-  column&lt;/span&gt;, then the method does nothing.)&lt;/p&gt;
-
-
-  &lt;h6&gt;The rows&lt;/h6&gt;
-
-  &lt;p&gt;A &lt;code&gt;datagrid&lt;/code&gt; element is intended to show a
-  representation of a tree, where typically the user only sees a
-  small part of the tree at a time.&lt;/p&gt;
-
-  &lt;p&gt;To make this efficient, the &lt;code&gt;datagrid&lt;/code&gt; element
-  &lt;em&gt;actually&lt;/em&gt; shows a small part of a &lt;em&gt;sparse&lt;/em&gt; tree, so
-  that only relevant parts of the data structure need be loaded at any
-  time. Specifically, the model requires only that all the ancestor
-  rows of the displayed rows be loaded, as well as any open earlier
-  siblings (in the displayed sort order) of the displayed rows.&lt;/p&gt;
-
-  &lt;p&gt;Conceptually, therefore, a &lt;code&gt;datagrid&lt;/code&gt; has a number of
-  related sparse data structures backing it.&lt;/p&gt;
-
-  &lt;p&gt;The first is the &lt;dfn&gt;natural order sparse data tree&lt;/dfn&gt;. This
-  is the structure in which rows are entered as they are declared, in
-  their natural order. This can differ from the order actually
-  displayed to the user. It consists of nested sparse lists of
-  rows. In the &lt;span&gt;natural order sparse data tree&lt;/span&gt;, a row will
-  always have all its parents already declared. Once a row is added to
-  this structure, it can only be removed by the &lt;code
-  title=&quot;dom-datagrid-deleteRows&quot;&gt;deleteRows()&lt;/code&gt; and &lt;code
-  title=&quot;dom-datagrid-clearRows&quot;&gt;clearRows()&lt;/code&gt; methods. The order of
-  nodes in this tree never changes; to move a node in this tree, it
-  has to be removed and then another row (with the same data)
-  reinserted elsewhere.&lt;/p&gt;
-
-  &lt;p&gt;The second structure is the &lt;dfn&gt;display order sparse data
-  tree&lt;/dfn&gt;. This is a similar structure that contains a subset of
-  the rows in the &lt;span&gt;natural order sparse data tree&lt;/span&gt;, ordered
-  in the order given by the &lt;code
-  title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; and &lt;code
-  title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; attributes, and
-  excluding rows with one or more ancestors that are closed. This tree
-  is cleared whenever the &lt;code
-  title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; and &lt;code
-  title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; attributes
-  change.&lt;/p&gt;
-
-  &lt;p&gt;The third structure is the &lt;dfn&gt;display order sparse data
-  list&lt;/dfn&gt;. This structure is a flattened representation of the
-  &lt;span&gt;display order sparse data tree&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;At any time, a number of consecutive rows in the &lt;span&gt;display
-  order sparse data list&lt;/span&gt; are physically visible to the
-  user. The &lt;code&gt;datagrid&lt;/code&gt; fires notifications to a &lt;span
-  title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/span&gt; (provided by script),
-  and the listener, or other some script, is expected to feed the
-  &lt;code&gt;datagrid&lt;/code&gt; with the information needed to render the
-  control.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;code&gt;datagrid&lt;/code&gt; has a &lt;dfn&gt;pending &lt;code&gt;datagrid&lt;/code&gt;
-  rows list&lt;/dfn&gt;, which is a list of rows in the &lt;span&gt;display order
-  sparse data list&lt;/span&gt; for which the &lt;code&gt;datagrid&lt;/code&gt; has sent
-  notifications requesting information but not yet received
-  information about.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;code&gt;datagrid&lt;/code&gt; also has a &lt;dfn&gt;pending
-  &lt;code&gt;datagrid&lt;/code&gt; &lt;em&gt;cells&lt;/em&gt; list&lt;/dfn&gt;, which is a list of
-  row/column pairs (cells) for which the &lt;code&gt;datagrid&lt;/code&gt; has
-  sent notifications requesting information but not yet received
-  information about.&lt;/p&gt;
-
-  &lt;p&gt;User agents may discard information about rows that are not
-  displayed and that are not ancestors or open earlier siblings of
-  rows or ancestors of rows that are displayed.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;These structures are different views of the collection of rows
-  that form the &lt;code&gt;datagrid&lt;/code&gt;. Each row has the following
-  information associated with it:&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;A parent&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;Either another row, or the &lt;code&gt;datagrid&lt;/code&gt; itself. This
-   is the parent of the row in the &lt;span&gt;natural order sparse data
-   tree&lt;/span&gt; and the &lt;span&gt;display order sparse data tree&lt;/span&gt;
-   for the &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;A natural order position relative to the other rows with the
-   same parent&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;This is the number of rows that precede this row under the same
-    parent in the &lt;span&gt;natural order sparse data tree&lt;/span&gt;. This
-    number can't be changed relative to other rows in the same parent;
-    to change the relative natural order of data in the
-    &lt;code&gt;datagrid&lt;/code&gt;, the original rows have to be removed and
-    new rows (with the same data but different natural positions)
-    inserted in their place. (The exact number of a row can change, as
-    new rows can be inserted above it.)&lt;/p&gt;
-
-    &lt;p&gt;A row can be identified by a &lt;code&gt;RowID&lt;/code&gt; object. This is
-    an array of numbers, consisting of the natural order positions of
-    each ancestor row and the row itself, starting from the furthest
-    ancestor. Thus, for instance, the fourth child row of the first
-    child row of the second row in a &lt;code&gt;datagrid&lt;/code&gt; would be
-    identified by a &lt;code&gt;RowID&lt;/code&gt; object whose value is &lt;code
-    title=&quot;&quot;&gt;[1, 0, 3]&lt;/code&gt;. A row's identifier changes if rows are
-    &lt;span title=&quot;dom-datagrid-insertRows&quot;&gt;inserted before it&lt;/span&gt; in
-    the &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;A display order position relative to the other rows with
-   the same parent&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;This is the number of rows that precede this row under the
-   same parent in the &lt;span&gt;display order sparse data
-   tree&lt;/span&gt;. This number can be unknown. If the sort order
-   changes, then this information is lost (as the &lt;span&gt;display order
-   sparse data tree&lt;/span&gt; is cleared).&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;A child count&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;The number of rows that have this row as a parent. If this is
-   zero, the row cannot be opened. If this is &amp;#x2212;1, then the
-   child count is unknown but the row can be opened. This value can be
-   changed by the &lt;code title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt;
-   method only if the current value is &amp;#x2212;1 or if the row or one
-   of its ancestors is closed. Otherwise, it can only be changed
-   indirectly using the &lt;code
-   title=&quot;dom-datagrid-insertRows&quot;&gt;insertRows()&lt;/code&gt; and &lt;code
-   title=&quot;dom-datagrid-deleteRows&quot;&gt;deleteRows()&lt;/code&gt; methods.&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;An open flag&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;A boolean indicating whether the row is open (true) or
-   closed (false). Once set, the flag can only be changed by the user
-   or while one of the row's ancestors is itself closed. A row can
-   also be in a third state, &quot;opening&quot;, which is treated as closed for
-   all purposes except that the user agent may indicate that the row
-   is in this special state, and except that when the row is updated
-   to have a row count, the row will switch to being open.&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;A row count&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;The number of rows that have this row as a parent or
-   ancestor, and that do not have an ancestor that is a descendant of
-   this row that is itself closed. If this is &amp;#x2212;1, then the row
-   count is unknown. This value can be changed by the &lt;code
-   title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; method only if the
-   row or one of its ancestors is closed (or opening, but not
-   open). Otherwise, it can only be changed indirectly using the &lt;code
-   title=&quot;dom-datagrid-insertRows&quot;&gt;insertRows()&lt;/code&gt; and &lt;code
-   title=&quot;dom-datagrid-deleteRows&quot;&gt;deleteRows()&lt;/code&gt;
-   methods.&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;Cells&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;The data that applies to this row. Cell data is discussed in
-   more detail below.&lt;/p&gt;&lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-  &lt;p&gt;The &lt;code&gt;datagrid&lt;/code&gt; itself also has a &lt;dfn title=&quot;datagrid
-  child count&quot;&gt;child count&lt;/dfn&gt; and a &lt;dfn title=&quot;datagrid row
-  count&quot;&gt;row count&lt;/dfn&gt;, which are analogous to the child counts and
-  row counts for rows. Initially, these must be zero.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;datagrid&lt;/code&gt; resort steps&lt;/dfn&gt;, which are
-  invoked when the sort order changes as described in the previous
-  section, are as follows:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Clear the &lt;span&gt;display order sparse data tree&lt;/span&gt;
-    (i.e. mark the display order position of all the rows in the
-    &lt;code&gt;datagrid&lt;/code&gt; as unknown).&lt;/p&gt;
-
-    &lt;p&gt;User agents may cache the position information of rows for
-    various values of &lt;code
-    title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; and &lt;code
-    title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt;, instead
-    of discarding the information altogether. If the user agent caches
-    this information, and has information that applies to the current
-    values of &lt;code title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt;
-    and &lt;code title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt;,
-    then the user agent may repopulate the &lt;span&gt;display order sparse
-    data tree&lt;/span&gt; from this information.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Clear the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt;
-    and the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells list&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-    algorithm&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;!- - v2: queue a task to fire an event, or tell the listener the
-   sort order changed, or something - -&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-renotify&quot;&gt;&lt;code&gt;renotify()&lt;/code&gt;&lt;/dfn&gt; method
-  must empty the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt;
-  and the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells list&lt;/span&gt;, and
-  invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-  algorithm&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-setRowCount&quot;&gt;&lt;code&gt;setRowCount(&lt;var
-  title=&quot;&quot;&gt;childCount&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;rowCount&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Set the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; child count&lt;/span&gt; to &lt;var
-    title=&quot;&quot;&gt;childCount&lt;/var&gt;, the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row
-    count&lt;/span&gt; to &lt;var title=&quot;&quot;&gt;rowCount&lt;/var&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span&gt;Audit the &lt;code&gt;datagrid&lt;/code&gt;&lt;/span&gt;. If this fails,
-    then revert the changes made in the previous step, throw a
-    &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception, and abort these
-    steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-    algorithm&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-setRows&quot;&gt;&lt;code&gt;setRows(&lt;var
-  title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span title=&quot;type-check a RowList object&quot;&gt;Type-check the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument&lt;/span&gt;. If this fails, throw a
-    &lt;code&gt;TypeError&lt;/code&gt; exception, and abort these steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span title=&quot;partially sort a RowList object&quot;&gt;Partially sort
-    the &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each &lt;code&gt;Row&lt;/code&gt; object in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument, in order, perform the appropriate
-    steps from the list below.&lt;/p&gt;
-
-    &lt;p class=&quot;note&quot;&gt;The changes made to the &lt;code&gt;datagrid&lt;/code&gt;'s
-    data structures in this step get reverted (as required below) if
-    any consistency errors are detected either in this step or the
-    next.&lt;/p&gt;
-
-    &lt;dl&gt;
-
-     &lt;dt&gt;If there already exists a row in the &lt;code&gt;datagrid&lt;/code&gt;'s
-     &lt;span&gt;natural order sparse data tree&lt;/span&gt; with the same
-     identifier as given by the &lt;code&gt;Row&lt;/code&gt; object's
-     &lt;code&gt;RowID&lt;/code&gt; object, and that row and all its ancestors are
-     open&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;If one of the following conditions is true, then revert all
-      the changes done in this step, throw a
-      &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception, and abort these
-      steps:&lt;/p&gt;
-
-      &lt;ul&gt;
-
-       &lt;li&gt;The value of the &lt;code&gt;Row&lt;/code&gt; object's second entry is
-       neither &amp;#x2212;1 nor equal to the child count of the
-       preexisting row.&lt;/li&gt;
-
-       &lt;li&gt;The &lt;code&gt;Row&lt;/code&gt; object has fewer than four
-       entries or more than six entries.&lt;/li&gt;
-
-       &lt;li&gt;The &lt;code&gt;Row&lt;/code&gt; object has five or more entries, and
-       its fifth entry is false.&lt;/li&gt;
-
-       &lt;li&gt;The &lt;code&gt;Row&lt;/code&gt; object has six entries, and its sixth
-       entry is not equal to the row count of the preexisting
-       row.&lt;/li&gt;
-
-      &lt;/ul&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If there already exists a row in the &lt;code&gt;datagrid&lt;/code&gt;'s
-     &lt;span&gt;natural order sparse data tree&lt;/span&gt; with the same
-     identifier as given by the &lt;code&gt;Row&lt;/code&gt; object's
-     &lt;code&gt;RowID&lt;/code&gt; object, but either that row or one of its
-     ancestors is closed&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;Set the preexisting row's child count to the value of the
-      &lt;code&gt;Row&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Row&lt;/code&gt; object has five or more entries, and
-      either its fifth entry is true and the preexisting row is closed
-      but not opening, or its fifth entry is false and the preexisting
-      row is open, then: if the preexisting row has no ancestor row
-      that is closed, then revert all the changes done in this step,
-      throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception, and abort
-      these steps; otherwise, if the fifth entry is false, then close
-      the row; otherwise, open the row.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Row&lt;/code&gt; object has six entries, set the
-      preexisting row's row count to the value of the &lt;code&gt;Row&lt;/code&gt;
-      object's sixth entry.&lt;/p&gt;
-
-      &lt;p&gt;If the preexisting row is opening, then: increase the
-      &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt; and the row counts
-      of any ancestor rows by the number of rows that the preexisting
-      row now has in its row count, then open the row.&lt;/p&gt; &lt;!- - we
-      should also &quot;update the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; rows
-      list&lt;/span&gt; and the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells
-      list&lt;/span&gt; accordingly&quot; - -&gt;
-
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;There does not exist a row in the &lt;code&gt;datagrid&lt;/code&gt;'s
-     &lt;span&gt;natural order sparse data tree&lt;/span&gt; with the same
-     identifier as given by the &lt;code&gt;Row&lt;/code&gt; object's
-     &lt;code&gt;RowID&lt;/code&gt; object&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;If the &lt;code&gt;RowID&lt;/code&gt; object has a length greater than 1,
-      then verify that there is a row identified by the
-      &lt;code&gt;RowID&lt;/code&gt; consisting of all but the last number in the
-      &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;. If there is no
-      such row present in the &lt;span&gt;natural order sparse data
-      tree&lt;/span&gt;, then revert all the changes done in this step,
-      throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception, and abort
-      these steps.&lt;/p&gt;
-
-      &lt;p&gt;Create a row and insert it into the &lt;span&gt;natural order
-      sparse data tree&lt;/span&gt;, such that its parent is the row
-      identified by the &lt;code&gt;RowID&lt;/code&gt; consisting of all but the
-      last number in the &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;,
-      or the &lt;code&gt;datagrid&lt;/code&gt; if the length of the
-      &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt; is 1; with its
-      natural order position being the last number of the
-      &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;; with the child
-      count being the value of the third entry of the &lt;code&gt;Row&lt;/code&gt;
-      object; with the row being marked closed unless the
-      &lt;code&gt;Row&lt;/code&gt; object has five or more entries and its fifth
-      entry is true, in which case the row is open; and with its row
-      count being &amp;#x2212;1 unless the &lt;code&gt;Row&lt;/code&gt; object has six
-      entries, in which case the row count is equal to the value of
-      the &lt;code&gt;Row&lt;/code&gt; object's sixth entry.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span&gt;Audit the &lt;code&gt;datagrid&lt;/code&gt;&lt;/span&gt;. If this fails,
-    then revert the changes made in the previous step, throw a
-    &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception, and abort these
-    steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each &lt;code&gt;Row&lt;/code&gt; object in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument, in order, &lt;span title=&quot;apply a Row
-    object&quot;&gt;apply the &lt;code&gt;Row&lt;/code&gt; object&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-    algorithm&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-insertRows&quot;&gt;&lt;code&gt;insertRows(&lt;var
-  title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span title=&quot;type-check a RowList object&quot;&gt;Type-check the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument&lt;/span&gt;. If this fails, throw a
-    &lt;code&gt;TypeError&lt;/code&gt; exception, and abort these steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span title=&quot;partially sort a RowList object&quot;&gt;Partially sort
-    the &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each &lt;code&gt;Row&lt;/code&gt; object in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument, in order, run the following
-    steps:&lt;/p&gt;
-
-    &lt;p class=&quot;note&quot;&gt;The changes made to the &lt;code&gt;datagrid&lt;/code&gt;'s
-    data structures in this step get reverted (as required below) if
-    any consistency errors are detected either in this step or the
-    next.&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; be the row identified by the
-      &lt;code&gt;RowID&lt;/code&gt; consisting of all but the last number in the
-      &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;, or the
-      &lt;code&gt;datagrid&lt;/code&gt; itself if the &lt;code&gt;Row&lt;/code&gt; object's
-      &lt;code&gt;RowID&lt;/code&gt; has length 0.&lt;/p&gt;
-
-      &lt;p&gt;If there is no such row present in the &lt;span&gt;natural order
-      sparse data tree&lt;/span&gt;, then revert all the changes done in
-      this algorithm, throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt;
-      exception, and abort these steps.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Increment by one the natural order position of all rows whose
-      parent is &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; and whose natural order
-      position is equal to or greater than the last number of the
-      &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If the value of the &lt;code&gt;Row&lt;/code&gt; object's second entry is
-      not &amp;#x2212;1, then increment by one the display order position
-      of all rows whose parent is &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; and whose
-      display order position is equal to or greater than the value of
-      the &lt;code&gt;Row&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-     &lt;!- -(Not sure how to really say this.)
-      &lt;p&gt;Update the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; rows
-      list&lt;/span&gt; and the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells
-      list&lt;/span&gt; accordingly.&lt;/p&gt;
-     - -&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Create a row and insert it into the &lt;span&gt;natural order
-      sparse data tree&lt;/span&gt;, such that its parent is &lt;var
-      title=&quot;&quot;&gt;parent&lt;/var&gt;; with its natural order position being the
-      last number of the &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;;
-      with the child count being the value of the third entry of the
-      &lt;code&gt;Row&lt;/code&gt; object; with the row being marked closed unless
-      the &lt;code&gt;Row&lt;/code&gt; object has five or more entries and its
-      fifth entry is true, in which case the row is open; and with its
-      row count being &amp;#x2212;1 unless the &lt;code&gt;Row&lt;/code&gt; object has
-      six entries, in which case the row count is equal to the value
-      of the &lt;code&gt;Row&lt;/code&gt; object's sixth entry.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each &lt;code&gt;Row&lt;/code&gt; object in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument, in order, &lt;span title=&quot;apply a Row
-    object&quot;&gt;apply the &lt;code&gt;Row&lt;/code&gt; object&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-    algorithm&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When an algorithm requires the user agent to &lt;dfn&gt;type-check a
-  &lt;code&gt;RowList&lt;/code&gt; object&lt;/dfn&gt; (an array), each entry in the
-  object must be checked against the following requirements. If any
-  are false, then the type-check fails, otherwise it passes.&lt;/p&gt;
-
-  &lt;ul&gt;
-
-   &lt;li&gt;&lt;p&gt;The entry is a &lt;code&gt;Row&lt;/code&gt; object (an
-   array).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The first value in the &lt;code&gt;Row&lt;/code&gt; is a
-   &lt;code&gt;RowID&lt;/code&gt; object (also an array), whose length is at least
-   1, and whose values are all integers greater than or equal to
-   zero.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The numbers in the &lt;code&gt;RowID&lt;/code&gt; object do not exactly
-   match any of the other entries in the &lt;code&gt;RowList&lt;/code&gt; object
-   (i.e. no two &lt;code&gt;Row&lt;/code&gt; objects have the same
-   identifier).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The second value in the &lt;code&gt;Row&lt;/code&gt; is an integer that
-   is either &amp;#x2212;1, zero, or a positive integer.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The third value in the &lt;code&gt;Row&lt;/code&gt; is an integer that
-   is either &amp;#x2212;1, zero, or a positive integer.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The fourth value in the &lt;code&gt;Row&lt;/code&gt; is a
-   &lt;code&gt;CellList&lt;/code&gt; object (yet another array).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Each entry in the &lt;span&gt;CellList&lt;/span&gt; object is a
-   &lt;code&gt;Cell&lt;/code&gt; object (again, an array).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Each &lt;code&gt;Cell&lt;/code&gt; object in the &lt;span&gt;CellList&lt;/span&gt;
-   object has as its first value a &lt;code&gt;Column&lt;/code&gt; object (a
-   string), and its value is the identifier of one of the columns in
-   the &lt;span&gt;column list&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Each &lt;code&gt;Cell&lt;/code&gt; object in the &lt;span&gt;CellList&lt;/span&gt;
-    object has as its second and subsequent entries values that match
-    the following requirements, as determined by the type of the
-    column identified by the first entry:&lt;/p&gt;
-
-    &lt;dl&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;The second entry's value is a string, and either there are
-      only two entries, or there are three, and the third entry is
-      an &lt;code&gt;img&lt;/code&gt; element.&lt;/p&gt;
-
-      &lt;p&gt;If there is an &lt;code&gt;img&lt;/code&gt; element specified, it is in
-      the &lt;span title=&quot;img-all&quot;&gt;completely available&lt;/span&gt; state.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-editable&quot;&gt;editable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;The second entry's value is a string, and either there are
-      only two entries, or the third entry is a
-      &lt;code&gt;datalist&lt;/code&gt; element, and either there are only three
-      entries, or there are four, and the fourth entry is an
-      &lt;code&gt;img&lt;/code&gt; element.&lt;/p&gt;
-
-      &lt;p&gt;If there is an &lt;code&gt;img&lt;/code&gt; element specified, it is in
-      the &lt;span title=&quot;img-all&quot;&gt;completely available&lt;/span&gt; state.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-checkable&quot;&gt;checkable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;The second entry's value is a string, the third entry is a
-      boolean, and either there are only three entries, or the
-      fourth entry is also a boolean, and either there are only four
-      entries, or there are five, and the fifth entry is an
-      &lt;code&gt;img&lt;/code&gt; element.&lt;/p&gt;
-
-      &lt;p&gt;If there is an &lt;code&gt;img&lt;/code&gt; element specified, it is in
-      the &lt;span title=&quot;img-all&quot;&gt;completely available&lt;/span&gt; state.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-list&quot;&gt;list&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;The second entry's value is a string, the third entry is a
-      &lt;code&gt;select&lt;/code&gt; element, and either there are only three
-      entries, or there are four, and the fourth entry is an
-      &lt;code&gt;img&lt;/code&gt; element.&lt;/p&gt;
-
-      &lt;p&gt;If there is an &lt;code&gt;img&lt;/code&gt; element specified, it is in
-      the &lt;span title=&quot;img-all&quot;&gt;completely available&lt;/span&gt; state.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-progress&quot;&gt;progress&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;There are only two entries, the second entry's value is a
-      number, and the number's value is between 0.0 and 1.0
-      inclusive.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-meter&quot;&gt;meter&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;There are at least two, but possibly up to seven, entries,
-      all entries but the first one are numbers, and the following
-      relationships hold:&lt;/p&gt;
-
-      &lt;ul class=&quot;brief&quot;&gt;
-
-       &lt;li&gt;The second entry is less than the third, or less than 1.0
-       if the third is absent.&lt;/li&gt;
-
-       &lt;li&gt;The second entry is greater than the fourth, or greater
-       than 0.0 if the fourth is absent.&lt;/li&gt;
-
-       &lt;li&gt;If there are at least three entries, the third entry is
-       greater than the fourth, or greater than zero if the fourth
-       is absent.&lt;/li&gt;
-
-       &lt;li&gt;If there are at least five entries, the fifth is not
-       greater than the third and not less than the fourth.&lt;/li&gt;
-
-       &lt;li&gt;If there are at least six entries, the sixth is not
-       greater than the third and not less than the fifth.&lt;/li&gt;
-
-       &lt;li&gt;If there are at least seven entries, the fifth is not
-       greater than the third and not less than the fourth.&lt;/li&gt;
-
-      &lt;/ul&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;There are four entries, the second and third are numbers
-      that are integers greater than zero, and the fourth is a
-      &lt;code&gt;Rendering2DContextCallback&lt;/code&gt; object (a
-      function).&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Either there are only four values in the &lt;code&gt;Row&lt;/code&gt;,
-   or the fifth value in the &lt;code&gt;Row&lt;/code&gt; is a boolean.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Either there are only four or five values in the
-   &lt;code&gt;Row&lt;/code&gt;, or there are six, and the sixth value in the
-   &lt;code&gt;Row&lt;/code&gt; an integer that is greater than or equal to
-   zero.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ul&gt;
-
-  &lt;p&gt;Where the above requirements say that a value is to be a string,
-  the user agent must apply the ToString() abstract operation to the
-  value, assume that the value was indeed a string, and use the result
-  in the rest of the algorithm as if it had that had been the value
-  passed to the method. &lt;a href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;Where the above requirements say that a value is to be a number,
-  the user agent must first apply the ToNumber() abstract operation
-  to the value, and then verify that the result is neither an Infinity
-  value nor a Not-a-Number (NaN) value. If this result is indeed
-  acceptable (i.e. finite), the user agent must use the result in the
-  rest of the algorithm as if it had that had been the value passed to
-  the method. &lt;a href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;Where the above requirements say that a value is to be an
-  integer, the user agent must first apply the ToNumber() abstract
-  operation to the value, and then verify that the result is a finite
-  integer. If so, the user agent must use the result in the rest of
-  the algorithm as if it had that had been the value passed to the
-  method. &lt;a href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;Where the above requirements say that a value is to be a boolean,
-  the user agent must apply the ToBoolean() abstract operation to the
-  value, assume that the value was indeed a boolean, and use the
-  result in the rest of the algorithm as if it had that had been the
-  value passed to the method. &lt;a href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When an algorithm requires the user agent to &lt;dfn&gt;audit the
-  &lt;code&gt;datagrid&lt;/code&gt;&lt;/dfn&gt;, the &lt;code&gt;datagrid&lt;/code&gt; must be
-  checked against the following requirements. If any are false, then
-  the audit fails, otherwise it passes.&lt;/p&gt;
-
-  &lt;ul&gt;
-
-   &lt;li&gt;There is no row whose natural order position is greater than or
-   equal to the child count of its parent row in the &lt;span&gt;natural
-   order sparse data tree&lt;/span&gt;.&lt;/li&gt;
-
-   &lt;li&gt;There is no row whose display order position is greater than or
-   equal to the child count of its parent row in the &lt;span&gt;display
-   order sparse data tree&lt;/span&gt;.&lt;/li&gt;
-
-   &lt;li&gt;There is no row such that the sum of that row's child count and
-   the row counts all the open rows that are direct children of that
-   row in the &lt;span&gt;natural order sparse data tree&lt;/span&gt; is less than
-   that row's row count.&lt;/li&gt;
-
-   &lt;li&gt;Of the rows whose child count is equal to the number of rows
-   that are direct children of that row in the &lt;span&gt;natural order
-   sparse data tree&lt;/span&gt;, there is none such that the sum of that
-   row's child count and the row counts of all the open rows that are
-   direct children of that row in the &lt;span&gt;natural order sparse data
-   tree&lt;/span&gt; is greater than that row's row count.&lt;/li&gt;
-
-  &lt;/ul&gt;
-
-  &lt;p&gt;For the purposes of this audit, the &lt;code&gt;datagrid&lt;/code&gt; must be
-  treated as the parent row of all the rows that are direct children
-  of the &lt;code&gt;datagrid&lt;/code&gt; in the &lt;span&gt;natural order sparse data
-  tree&lt;/span&gt; and the &lt;span&gt;display order sparse data tree&lt;/span&gt;. The
-  child count of this implied row is the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt;
-  child count&lt;/span&gt;, and the row count of this implied row is the
-  &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When an algorithm requires the user agent to &lt;dfn&gt;partially sort
-  a &lt;code&gt;RowList&lt;/code&gt; object&lt;/dfn&gt; (an array), the entries in the
-  object must be resorted such that &lt;code&gt;Row&lt;/code&gt; objects are
-  listed after any of their ancestors and after any of their earlier
-  siblings. In other words, for any two &lt;code&gt;Row&lt;/code&gt; objects &lt;var
-  title=&quot;&quot;&gt;a&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; in the
-  &lt;code&gt;RowList&lt;/code&gt;, where &lt;var title=&quot;&quot;&gt;a&lt;/var&gt; is before &lt;var
-  title=&quot;&quot;&gt;b&lt;/var&gt; after the sort, the following conditions must
-  hold:&lt;/p&gt;
-
-  &lt;ul&gt;
-
-   &lt;li&gt;&lt;p&gt;If their &lt;code&gt;RowID&lt;/code&gt; objects are the same length and
-   have values that are equal except for the last value, then the last
-   value of &lt;var title=&quot;&quot;&gt;a&lt;/var&gt;'s &lt;code&gt;RowID&lt;/code&gt;'s last value
-   must be less than &lt;var title=&quot;&quot;&gt;b&lt;/var&gt;'s &lt;code&gt;RowID&lt;/code&gt;'s last
-   value (i.e. earlier siblings must come before their later
-   siblings).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If their &lt;code&gt;RowID&lt;/code&gt; objects are not the same length,
-   but the values in the shorter of the two are the same as the first
-   few values in the longer one, then &lt;var title=&quot;&quot;&gt;a&lt;/var&gt;'s
-   &lt;code&gt;RowID&lt;/code&gt; must be the shorter one (i.e. ancestors must
-   come before their descendants).&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ul&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-deleteRows&quot;&gt;&lt;code&gt;deleteRows(&lt;var
-  title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If any of the entries in &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; are not
-    &lt;code&gt;RowID&lt;/code&gt; objects consisting of one or more entries whose
-    values are all integers that are greater than or equal to zero,
-    then throw a &lt;code&gt;TypeError&lt;/code&gt; exception and abort these
-    steps.&lt;/p&gt;
-
-    &lt;p&gt;To check if a value is an integer, the user agent must first
-    apply the ToNumber() abstract operation to the value, and then
-    verify that the result is a finite integer. If so, the user agent
-    must use the result in the rest of the algorithm as if it had that
-    had been the value passed to the method. &lt;a
-    href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If any of the &lt;code&gt;RowID&lt;/code&gt; objects in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument identify a row that isn't present in
-    the &lt;span&gt;natural order sparse data tree&lt;/span&gt;, then throw a
-    &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception and abort these
-    steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If any row is listed twice in the &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;
-    argument, then throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception
-    and abort these steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Sort the &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument such that the
-    entries are given in the same order as the rows they identify
-    would be visited in a pre-order, depth first traversal of the
-    &lt;span&gt;natural order sparse data tree&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each row identified by entries in &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;,
-    &lt;em&gt;in reverse order&lt;/em&gt;, run the following steps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Decrement the child count of the row's parent row, if that
-      child count is greater than zero. If the row has no parent,
-      decrement the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; child
-      count&lt;/span&gt;.&lt;/p&gt;
-
-      &lt;p&gt;If the row has a parent row, and its child count is now zero,
-      then close that row.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;delta&lt;/var&gt; be one more than the row's row
-      count if the row is open and its row count is greater than zero;
-      otherwise, let &lt;var title=&quot;&quot;&gt;delta&lt;/var&gt; be one.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; be the row.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;&lt;i&gt;Row count loop&lt;/i&gt;: Let &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; be
-      &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt;'s parent row, if any, or null if it
-      has none.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; is null, then decrement the
-      &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt; by &lt;var
-      title=&quot;&quot;&gt;delta&lt;/var&gt;. Otherwise, if &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt;
-      is open, then decrement its row count by &lt;var
-      title=&quot;&quot;&gt;delta&lt;/var&gt;.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; is not null, then jump back
-      to the step labeled &lt;i&gt;row count loop&lt;/i&gt; above.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; be the row's parent, or the
-      &lt;code&gt;datagrid&lt;/code&gt; if the row has no parent.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Decrement by one the natural order position of all rows whose
-      parent is &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; and whose natural order
-      position is equal to or greater than the row's own natural order
-      position.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If the row is in the &lt;span&gt;display order sparse data
-      tree&lt;/span&gt;, then decrement by one the display order position of
-      all rows whose parent is &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; and whose
-      display order position is equal to or greater than the row's own
-      display order position.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Clear the row and its descendants from the
-      &lt;code&gt;Datagrid&lt;/code&gt;.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-    algorithm&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-clearRows&quot;&gt;&lt;code&gt;clearRows()&lt;/code&gt;&lt;/dfn&gt; method
-  must empty the &lt;span&gt;natural order sparse data tree&lt;/span&gt;, reset
-  both the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; child count&lt;/span&gt; and the
-  &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt; to zero, and invoke the
-  &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display algorithm&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-repaint&quot;&gt;&lt;code&gt;repaint(&lt;var
-  title=&quot;&quot;&gt;row&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;column&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
-  must cause the user agent to clear its cache for the cell specified
-  by the identifier &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; and the column &lt;var
-  title=&quot;&quot;&gt;column&lt;/var&gt;, if that column's type is &lt;code
-  title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;. If the given column has
-  not been declared, or its type is not &lt;code
-  title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;, then the user agent must
-  throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception. If the given row
-  is not known, then the method must do nothing. If the cell is indeed
-  cleared, the user agent must reinvoke the previously registered
-  &lt;code&gt;RenderingContext2DCallback&lt;/code&gt; callback when it needs to
-  repaint that row.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;If a row has a child count that isn't zero, then the user agent
-  should offer to the user the option of opening and closing the
-  row.&lt;/p&gt;
-
-  &lt;p&gt;When a row is opened, if the row's row count is greater than
-  zero, then the user agent must increase the
-  &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt; and the row counts of
-  any ancestor rows by the number of rows that the newly opened row
-  has in its row count&lt;!- - we should also &quot;update the &lt;span&gt;pending
-  &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt; and the &lt;span&gt;pending
-  &lt;code&gt;datagrid&lt;/code&gt; cells list&lt;/span&gt; accordingly&quot; - -&gt;, then must
-  mark the row as open, then may fill in the &lt;span&gt;display order
-  sparse data tree&lt;/span&gt; with any information that the user agent has
-  cached about the display order positions of descendants of the newly
-  opened row, and then must invoke the &lt;code
-  title=&quot;dom-listener-rowOpened&quot;&gt;rowOpened()&lt;/code&gt; method on the
-  current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; with as
-  its first argument a &lt;code&gt;RowID&lt;/code&gt; object identifying the row
-  that was opened and as its second argument the boolean false, and
-  then must invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-  algorithm&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;On the other hand, when a row is opened and the row's row count
-  is &amp;#x2212;1, then the user agent must mark the row as opening, and
-  then must invoke the &lt;code
-  title=&quot;dom-listener-rowOpened&quot;&gt;rowOpened()&lt;/code&gt; method on the
-  current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; with as
-  its first argument a &lt;code&gt;RowID&lt;/code&gt; object identifying the row
-  that was opened and as its second argument the boolean true.&lt;/p&gt;
-
-  &lt;p&gt;When a row is closed, the user agent must decrease the
-  &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt; and the row counts of
-  any ancestor rows by the number of rows that the newly closed row
-  has in its row count, and then must invoke the &lt;code
-  title=&quot;dom-listener-rowOpened&quot;&gt;rowOpened()&lt;/code&gt; method on the
-  current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; with as
-  its first and only argument a &lt;code&gt;RowID&lt;/code&gt; object identifying
-  the row that was opened.&lt;/p&gt;
-
-
-
-  &lt;h6&gt;The cells&lt;/h6&gt;
-
-  &lt;p&gt;Each row has one cell per column. Each cell has the same type as
-  its column. The &lt;dfn&gt;allowed &lt;code&gt;datagrid&lt;/code&gt; column
-  types&lt;/dfn&gt;, what they represent, and the requirements for when the
-  user interacts with them, are as follows:&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-text&quot;&gt;&lt;code&gt;text&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents some text and an optional image.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-editable&quot;&gt;&lt;code&gt;editable&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cells represents some editable text, an optional
-    &lt;code&gt;datalist&lt;/code&gt; giving autocompletion hints, and an
-    optional image.&lt;/p&gt;
-
-    &lt;p&gt;If there is a &lt;code&gt;datalist&lt;/code&gt; element, the user agent
-    should offer the suggestions represented by that element to the
-    user. The user agent may use the suggestion's &lt;span
-    title=&quot;concept-option-label&quot;&gt;label&lt;/span&gt; to identify the
-    suggestion. If the user selects a suggestion, then the editable
-    text must be set to the selected suggestion's &lt;span
-    title=&quot;concept-option-value&quot;&gt;value&lt;/span&gt;, as if the user had
-    written that value himself.&lt;/p&gt;
-
-    &lt;p&gt;When the user edits the value, either directly or using the
-    &lt;code&gt;datalist&lt;/code&gt;, the user agent must invoke the &lt;code
-    title=&quot;dom-listener-cellChanged&quot;&gt;cellChanged()&lt;/code&gt; method on
-    the current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt;
-    with as its first argument a &lt;code&gt;RowID&lt;/code&gt; identifying the
-    cell's row, as its second argument the identifier of the cell's
-    column, as its third argument the new value, and as its fourth
-    argument the previous value.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-checkable&quot;&gt;&lt;code&gt;checkable&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents some text, a check box that optionally has
-    its value obscured as indeterminate, and an optional image.&lt;/p&gt;
-
-    &lt;p&gt;When the user checks or unchecks the check box, the user agent
-    must change the check box's state appropriately and stop obscuring
-    the check box as indeterminate (if it is obscuring it), and then
-    must invoke the &lt;code
-    title=&quot;dom-listener-cellChanged&quot;&gt;cellChanged()&lt;/code&gt; method on
-    the current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt;
-    with as its first argument a &lt;code&gt;RowID&lt;/code&gt; identifying the
-    cell's row, as its second argument the identifier of the cell's
-    column, as its third argument true if the check box is now checked
-    and false otherwise, and as its fourth argument true if the check
-    box was previously checked and false otherwise.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-list&quot;&gt;&lt;code&gt;list&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents some text giving the current value selected
-    from a dropdown list of options, a &lt;code&gt;select&lt;/code&gt; element
-    giving the list of options, and an optional image.&lt;/p&gt;
-
-    &lt;p&gt;The user agent should allow the user to change the value of the
-    cell from its current value to one of the &lt;span
-    title=&quot;concept-option-value&quot;&gt;values&lt;/span&gt; given by
-    &lt;code&gt;option&lt;/code&gt; elements in the &lt;span
-    title=&quot;concept-select-option-list&quot;&gt;list of options&lt;/span&gt; (if
-    any). The user agent may use the &lt;code&gt;option&lt;/code&gt; elements'
-    &lt;span title=&quot;concept-option-label&quot;&gt;labels&lt;/span&gt; to annotate each
-    option.&lt;/p&gt;
-
-    &lt;p&gt;When the user selects a new value from the &lt;code&gt;select&lt;/code&gt;
-    element's &lt;span title=&quot;concept-select-option-list&quot;&gt;list of
-    options&lt;/span&gt;, the user agent must invoke the &lt;code
-    title=&quot;dom-listener-cellChanged&quot;&gt;cellChanged()&lt;/code&gt; method on
-    the current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt;
-    with as its first argument a &lt;code&gt;RowID&lt;/code&gt; identifying the
-    cell's row, as its second argument the identifier of the cell's
-    column, as its third argument the new value, and as its fourth
-    argument the previous value.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-progress&quot;&gt;&lt;code&gt;progress&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents a (determinate) progress bar whose value is
-    between 0.0, indicating no progress, and 1.0, indicating the task
-    is complete.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-meter&quot;&gt;&lt;code&gt;meter&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents a gauge, described by one to six
-    numbers.&lt;/p&gt;
-
-    &lt;p&gt;The gauge's actual value is given by the first number.&lt;/p&gt;
-
-    &lt;p&gt;If there is a second number, then that number is the maximum
-    value. Otherwise, the maximum value is 1.0.&lt;/p&gt;
-
-    &lt;p&gt;If there is a third number, then that number is the minimum
-    value. Otherwise, the minimum value is 1.0.&lt;/p&gt;
-
-    &lt;p&gt;If there is a fourth number, then that number is the low
-    boundary. Otherwise, the low boundary is the minimum value.&lt;/p&gt;
-
-    &lt;p&gt;If there is a fifth number, then that number is the high
-    boundary. Otherwise, the high boundary is the maximum value.&lt;/p&gt;
-
-    &lt;p&gt;If there is a sixth number, then the optimal point is the sixth
-    number. Otherwise, the optimum point is the midpoint between the
-    minimum value and the maximum value.&lt;/p&gt;
-
-    &lt;!- - next two paragraphs copied from &lt;meter&gt;: - -&gt;
-
-    &lt;p&gt;If the optimum point is equal to the low boundary or the high
-    boundary, or anywhere in between them, then the region between the
-    low and high boundaries of the gauge must be treated as the
-    optimum region, and the low and high parts, if any, must be
-    treated as suboptimal. Otherwise, if the optimum point is less
-    than the low boundary, then the region between the minimum value
-    and the low boundary must be treated as the optimum region, the
-    region between the low boundary and the high boundary must be
-    treated as a suboptimal region, and the region between the high
-    boundary and the maximum value must be treated as an even less
-    good region. Finally, if the optimum point is higher than the high
-    boundary, then the situation is reversed; the region between the
-    high boundary and the maximum value must be treated as the optimum
-    region, the region between the high boundary and the low boundary
-    must be treated as a suboptimal region, and the remaining region
-    between the low boundary and the minimum value must be treated as
-    an even less good region.&lt;/p&gt;
-
-    &lt;p&gt;User agents should indicate the relative position of the actual
-    value to the minimum and maximum values, and the relationship
-    between the actual value and the three regions of the gauge.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-custom&quot;&gt;&lt;code&gt;custom&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents a dynamically generated graphical image.&lt;/p&gt;
-
-    &lt;p&gt;The cell will have minimum dimensions (specified in CSS
-    pixels), and a callback (in the form of a
-    &lt;code&gt;RenderingContext2DCallback&lt;/code&gt; object) to get a rendering
-    for the cell.&lt;/p&gt;
-
-    &lt;p&gt;The user agent should not allow the cell to be rendered with
-    dimensions less than the given minimum width and height.&lt;/p&gt;
-
-    &lt;p&gt;When the user agent needs to render the cell, the user agent
-    must &lt;span&gt;queue a task&lt;/span&gt; to invoke the
-    &lt;span&gt;RenderingContext2DCallback&lt;/span&gt; callback, passing it a
-    newly created &lt;code&gt;CanvasRenderingContext2D&lt;/code&gt; object whose
-    &lt;code title=&quot;dom-context-2d-canvas&quot;&gt;canvas&lt;/code&gt; IDL attribute is
-    null as the first argument, the actual cell width in CSS pixels as
-    the second argument, and the actual cell height in CSS pixels as
-    the third argument.&lt;/p&gt;
-
-    &lt;p&gt;If the user agent is able to render graphics, then it must
-    render the graphics commands that the callback executed on the
-    provided &lt;code&gt;CanvasRenderingContext2D&lt;/code&gt; object onto the
-    cell once the callback returns. The image must be clipped to the
-    dimensions of the cell. The coordinate space of the cell must be
-    aligned with that used by the 2D context such that the top left
-    corner of the cell is the 0,0 origin, with the coordinate space
-    increasing its &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; dimension towards the right
-    of the cell and its &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; axis towards the bottom
-    of the cell, and with the image not scaled (so that one CSS pixel
-    on the final rendering matches one CSS pixel in the coordinate
-    space used by the 2D context).&lt;/p&gt;
-
-    &lt;p&gt;The user agent must then decouple the
-    &lt;code&gt;CanvasRenderingContext2D&lt;/code&gt; object and any objects that
-    it created (such as &lt;code&gt;CanvasPattern&lt;/code&gt; objects or
-    &lt;code&gt;ImageData&lt;/code&gt; objects) from any real drawing surface.&lt;/p&gt;
-
-    &lt;p&gt;If the user agent is unable to render graphics, then it must
-    render the text string returned by the callback instead.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When an algorithm requires the user agent to &lt;dfn&gt;apply a
-  &lt;code&gt;Row&lt;/code&gt; object&lt;/dfn&gt;, the user agent must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If the value of the &lt;code&gt;Row&lt;/code&gt; object's second entry is
-    not &amp;#x2212;1, then run these substeps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;If there is a row with the same parent as the row
-     specified by the &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;
-     object, whose display order position is currently the same as the
-     value of the &lt;code&gt;Row&lt;/code&gt; object's second entry, then remove
-     that row from the &lt;span&gt;display order sparse data
-     tree&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Set the display order position of the row specified by the
-     &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt; to the value of the
-     &lt;code&gt;Row&lt;/code&gt; object's second entry, updating its position in
-     the &lt;span&gt;display order sparse data tree&lt;/span&gt;
-     accordingly.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If the row is in the &lt;span&gt;pending
-     &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt;, remove it.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If the fourth entry in the &lt;code&gt;Row&lt;/code&gt; object (a
-    &lt;code&gt;CellList&lt;/code&gt; object, an array) is not empty, then for
-    each &lt;code&gt;Cell&lt;/code&gt; object in that array update the cell that
-    corresponds to the column identified by the value of the first
-    entry of the &lt;code&gt;Cell&lt;/code&gt; object, by using the appropriate
-    set of steps given below as determined by the type of the
-    column. Then, if the cell is in the &lt;span&gt;pending
-    &lt;code&gt;datagrid&lt;/code&gt; cells list&lt;/span&gt;, remove it.&lt;/p&gt;
-
-    &lt;dl&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell's text to the value given in the
-      &lt;code&gt;Cell&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has three entries, then copy
-      the image data from the &lt;code&gt;img&lt;/code&gt; element given in the
-      third entry, and let the cell's image be given by that image
-      data. Otherwise, update the cell to have no image.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-editable&quot;&gt;editable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell's text to the value given in the
-      &lt;code&gt;Cell&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has three entries, then let
-      the &lt;code&gt;datalist&lt;/code&gt; element given in the third entry be
-      the &lt;code&gt;datalist&lt;/code&gt; element giving autocompletion
-      hints. Otherwise, update the cell to have no
-      &lt;code&gt;datalist&lt;/code&gt; element.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has four entries, then copy
-      the image data from the &lt;code&gt;img&lt;/code&gt; element given in the
-      fourth entry, and let the cell's image be given by that image
-      data. Otherwise, update the cell to have no image.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-checkable&quot;&gt;checkable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell's text to the value given in the
-      &lt;code&gt;Cell&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-      &lt;p&gt;Update the cell's checked state to match the value of the
-      third entry: checked if true, unchecked otherwise.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has four entries and the
-      fourth entry is true, then update the cell to be obscured as
-      indeterminate. Otherwise, the cell's state is not obscured.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has five entries, then copy
-      the image data from the &lt;code&gt;img&lt;/code&gt; element given in the
-      fifth entry, and let the cell's image be given by that image
-      data. Otherwise, update the cell to have no image.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-list&quot;&gt;list&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell's text to the value given in the
-      &lt;code&gt;Cell&lt;/code&gt; object's second entry, and the
-      &lt;code&gt;select&lt;/code&gt; element to be the one given in the
-      &lt;code&gt;Cell&lt;/code&gt; object's third entry&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has four entries, then copy
-      the image data from the &lt;code&gt;img&lt;/code&gt; element given in the
-      fourth entry, and let the cell's image be given by that image
-      data. Otherwise, update the cell to have no image.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-progress&quot;&gt;progress&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell to be a progress bar whose progress, on the
-      scale of 0.0 (no progress) to 1.0 (task complete) is given by
-      the value in the &lt;code&gt;Cell&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-meter&quot;&gt;meter&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell to be a gauge configured with the numbers
-      given by the second and subsequent entries of the
-      &lt;code&gt;Cell&lt;/code&gt; object.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell's minimum width to be the length in CSS
-      pixels given by the &lt;code&gt;Cell&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-      &lt;p&gt;Update the cell's minimum height to be the length in CSS
-      pixels given by the &lt;code&gt;Cell&lt;/code&gt; object's third entry.&lt;/p&gt;
-
-      &lt;p&gt;Update the cell's callback to be the
-      &lt;code&gt;RenderingContext2DCallback&lt;/code&gt; object given by the
-      &lt;code&gt;Cell&lt;/code&gt; object's fourth entry.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When the user agent is to run the &lt;dfn&gt;&lt;code&gt;datagrid&lt;/code&gt;
-  update display algorithm&lt;/dfn&gt;, the user agent must invoke the &lt;code
-  title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; and &lt;code
-  title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; methods on the
-  current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; such
-  that all the current visible rows in the &lt;span&gt;display order sparse
-  data list&lt;/span&gt;, and all the cells in the currently visible columns
-  on all the currently visible rows, have been covered.&lt;/p&gt;
-
-  &lt;p&gt;A row is considered covered if it is present in the &lt;span&gt;pending
-  &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt;, or if the &lt;code
-  title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; method is invoked with
-  a range that includes the row in question.&lt;/p&gt;
-
-  &lt;p&gt;A cell is considered covered if it is present in the
-  &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells list&lt;/span&gt;, or if the
-  &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; method is
-  invoked with a range that includes the row in question and a list of
-  columns that includes the cell's column, or if the &lt;code
-  title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; method is invoked
-  with a list of rows and columns that intersects the cell in
-  question. However, the &lt;code
-  title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; method can only be
-  used if the row is already present in the &lt;span&gt;display order sparse
-  data list&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; method,
-  if used, must be invoked with five arguments. The first argument
-  must be the index in the &lt;span&gt;display order sparse data list&lt;/span&gt;
-  to the first row that the user agent is requesting, known as the
-  &lt;i&gt;anchor row&lt;/i&gt;. The second argument must be the number of
-  consecutive cells for which the user agent is requesting
-  information. The third argument must be the &lt;code&gt;RowID&lt;/code&gt; of
-  the row that is the nearest ancestor in the &lt;span&gt;display order
-  sparse data &lt;em&gt;tree&lt;/em&gt;&lt;/span&gt; of the anchor row. If this is the
-  &lt;code&gt;datagrid&lt;/code&gt;, then the &lt;code&gt;RowID&lt;/code&gt; object must be an
-  empty array. The fourth argument must be the display order position
-  of the anchor row in the &lt;span&gt;display order sparse data
-  tree&lt;/span&gt;, assuming that the row identified in the third argument
-  is indeed the anchor row's parent row. The fifth and final argument
-  must be an array of the identifiers of the columns for which the
-  user agent is requesting information, in the order they were added
-  to the &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;
-
-  &lt;p&gt;As the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; method
-  is invoked, the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt;
-  must be updated to include the rows for which information has been
-  requested, excluding rows for which information is already
-  available; and the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells
-  list&lt;/span&gt; must be updated to include the cells for which
-  information has been requested on those rows.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;code title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; method,
-  if used, must be invoked with two arguments. The first argument must
-  be an array of &lt;code&gt;RowID&lt;/code&gt; objects identifying the rows for
-  which information is being requested. The second argument must be an
-  array of the identifiers of the columns for which the user agent is
-  requesting information, in the order they were added to the
-  &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;
-
-  &lt;p&gt;As the &lt;code title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt;
-  method is invoked, the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells
-  list&lt;/span&gt; must be updated to include the cells for which
-  information has been requested.&lt;/p&gt;
-
-  &lt;p&gt;Calls to these methods should be batched so that the rows and
-  cells to be covered are handled by the fewest number of calls to
-  these methods as possible. To this end, user agents may invoke the
-  &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; method for a set
-  of rows that includes some rows that are already in the
-  &lt;span&gt;display order sparse data list&lt;/span&gt;, and similarly may
-  invoke the &lt;code title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt;
-  method with row/column combinations that cover some cells for which
-  data is already known. Generally, however, user agents should avoid
-  invoking these methods with arguments that cause information to be
-  requested when it has already been requested or is already
-  known.&lt;/p&gt;
-
-  &lt;div class=&quot;example&quot;&gt;
-
-   &lt;p&gt;For example, consider a case represented by the following table,
-   where the cells marked &quot;Yes&quot; indicate that the data has already
-   been obtained, the cells marked &quot;Pending&quot; indicate that the data
-   has been previously requested but not yet obtained, and the cells
-   with just a dash indicate that no information has ever been
-   obtained, or any information that had been obtained has now been
-   discarded.&lt;/p&gt;
-
-   &lt;table&gt;
-    &lt;tr&gt; &lt;td&gt;        &lt;th&gt; Row   &lt;th&gt; Column A  &lt;th&gt; Column B
-    &lt;tr&gt; &lt;th&gt; Row 1  &lt;td&gt; -     &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 2  &lt;td&gt; Yes   &lt;td&gt; Yes       &lt;td&gt; Yes
-    &lt;tr&gt; &lt;th&gt; Row 3  &lt;td&gt; Yes   &lt;td&gt; Yes       &lt;td&gt; Yes
-    &lt;tr&gt; &lt;th&gt; Row 4  &lt;td&gt; Yes   &lt;td&gt; Yes       &lt;td&gt; Yes
-    &lt;tr&gt; &lt;th&gt; Row 5  &lt;td&gt; -     &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 6  &lt;td&gt; -     &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 7  &lt;td&gt; Yes   &lt;td&gt; Pending   &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 8  &lt;td&gt; Yes   &lt;td&gt; Pending   &lt;td&gt; Pending
-   &lt;/table&gt;
-
-   &lt;p&gt;Thus, rows 2, 3, 4, 7, and 8 are already covered, as are the
-   cells from those rows except for the cell in column B of row 7.&lt;/p&gt;
-
-   &lt;p&gt;Now consider what happens if all of these rows become visible at
-   once. The user agent has several choices, including (but not
-   limited to) the following:&lt;/p&gt;
-
-   &lt;ul&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt;
-    method for rows 1 through 8 and columns A and B all at once.&lt;/li&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt;
-    method for row 1, then fire it again for rows 5 through 7.&lt;/li&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt;
-    method for row 1, then fire it again for rows 5 and 6, and then
-    fire the &lt;code title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt;
-    method for row 7 column B.&lt;/li&gt;
-
-   &lt;/ul&gt;
-
-   &lt;p&gt;All three options are allowed, but the latter two are preferable
-   to the former, as they minimise the amount of redundant information
-   requested.&lt;/p&gt;
-
-   &lt;p&gt;In any case, the data model now looks like this:&lt;/p&gt;
-
-   &lt;table&gt;
-    &lt;tr&gt; &lt;td&gt;        &lt;th&gt; Row     &lt;th&gt; Column A  &lt;th&gt; Column B  &lt;th&gt; Column C
-    &lt;tr&gt; &lt;th&gt; Row 1  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 2  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 3  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 4  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 5  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 6  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 7  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 8  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; -
-   &lt;/table&gt;
-
-   &lt;p&gt;Now consider the case where a third column, column C, is added
-   to the data model. The user agent once again has several choices,
-   including (but not limited to) the following:&lt;/p&gt;
-
-   &lt;ul&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt;
-    method for rows 1 through 8 again, this time listing just column
-    C.&lt;/li&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt;
-    method for row 1, then fire it again for rows 5 and 6, and then
-    fire the &lt;code title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt;
-    method for the other rows (in all three cases, listing just column
-    C).&lt;/li&gt;
-
-   &lt;/ul&gt;
-
-   &lt;p&gt;The two options here are as bad as each other; the former
-   involves a lot of overlap, but the latter involves a lot of method
-   calls. Unfortunately the user agent can't do the obvious thing,
-   namely just to invoke the &lt;code
-   title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; method for all the
-   rows listing just column C, because it doesn't have the row
-   information for all the rows yet (rows 1, 5 and 6 are still
-   pending).&lt;/p&gt;
-
-   &lt;p&gt;In any case, the data model now looks like this:&lt;/p&gt;
-
-   &lt;table&gt;
-    &lt;tr&gt; &lt;td&gt;        &lt;th&gt; Row     &lt;th&gt; Column A  &lt;th&gt; Column B  &lt;th&gt; Column C
-    &lt;tr&gt; &lt;th&gt; Row 1  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 2  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 3  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 4  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 5  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 6  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 7  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 8  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-   &lt;/table&gt;
-
-   &lt;p&gt;If at this point the user scrolls around anywhere within this
-   &lt;code&gt;datagrid&lt;/code&gt;, the user agent won't fire the &lt;code
-   title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; and &lt;code
-   title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; methods, because
-   all of the rows and cells are covered.&lt;/p&gt;
-
-   &lt;p&gt;Now consider the case where the user agent receives row
-   information, but no cell information, for rows 1, 5, and 6:&lt;/p&gt;
-
-   &lt;table&gt;
-    &lt;tr&gt; &lt;td&gt;        &lt;th&gt; Row     &lt;th&gt; Column A  &lt;th&gt; Column B  &lt;th&gt; Column C
-    &lt;tr&gt; &lt;th&gt; Row 1  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 2  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 3  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 4  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 5  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 6  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 7  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 8  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-   &lt;/table&gt;
-
-   &lt;p&gt;The user agent still won't fire any methods when the user
-   scrolls, because the data is still covered. But if the script then
-   calls the &lt;code title=&quot;dom-datagrid-renotify&quot;&gt;renotify()&lt;/code&gt;
-   method, the &quot;Pending&quot; flags would get reset, and the model would
-   now look like this:&lt;/p&gt;
-
-   &lt;table&gt;
-    &lt;tr&gt; &lt;td&gt;        &lt;th&gt; Row     &lt;th&gt; Column A  &lt;th&gt; Column B  &lt;th&gt; Column C
-    &lt;tr&gt; &lt;th&gt; Row 1  &lt;td&gt; Yes     &lt;td&gt; -         &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 2  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 3  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 4  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 5  &lt;td&gt; Yes     &lt;td&gt; -         &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 6  &lt;td&gt; Yes     &lt;td&gt; -         &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 7  &lt;td&gt; Yes     &lt;td&gt; -         &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 8  &lt;td&gt; Yes     &lt;td&gt; -         &lt;td&gt; -         &lt;td&gt; -
-   &lt;/table&gt;
-
-   &lt;p&gt;Now, assuming that all eight rows and all three columns are
-   still visible, the user agent has the following choices (amongst
-   others):&lt;/p&gt;
-
-   &lt;ul&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getCells()&lt;/code&gt;
-    method for rows 1 through 8, listing all three columns.&lt;/li&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getCells()&lt;/code&gt;
-    method for rows 1 and 5 through 8, listing all three columns, and
-    then fire the method for rows 2 through 4, listing just column
-    C.&lt;/li&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getCells()&lt;/code&gt;
-    method for rows 1 and 5 through 8, listing just columns A abd B,
-    and then fire the method for rows 1 through 8, listing just column
-    C.&lt;/li&gt;
-
-   &lt;/ul&gt;
-
-   &lt;p&gt;Here the latter two are preferable because they result in less
-   overlap than the first.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;span&gt;task source&lt;/span&gt; for tasks queued on behalf of a
-  &lt;code&gt;datagrid&lt;/code&gt; is the &lt;span&gt;DOM manipulation task
-  source&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-  &lt;h5&gt;Listening to notifications from the &lt;code&gt;datagrid&lt;/code&gt;&lt;/h5&gt;
-
-  &lt;p&gt;&lt;i&gt;The conformance criteria in this section apply to any
-  implementation of the &lt;code&gt;DataGridListener&lt;/code&gt; interface,
-  including (and most commonly) the content author's
-  implementation(s).&lt;/i&gt;&lt;/p&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;// To be implemented by Web authors as a JS object
-[NoInterfaceObject]
-interface &lt;dfn&gt;DataGridListener&lt;/dfn&gt; {
-  void &lt;span title=&quot;dom-listener-initialize&quot;&gt;initialize&lt;/span&gt;(in &lt;span&gt;HTMLDataGridElement&lt;/span&gt; datagrid);
-
-  void &lt;span title=&quot;dom-listener-getRows&quot;&gt;getRows&lt;/span&gt;(in unsigned long rowIndex, in unsigned long rowCount, in &lt;span&gt;RowID&lt;/span&gt; parentRow, in unsigned long position, in &lt;span&gt;ColumnList&lt;/span&gt; columns);
-  void &lt;span title=&quot;dom-listener-getCells&quot;&gt;getCells&lt;/span&gt;(in &lt;span&gt;RowIDList&lt;/span&gt; rows, in &lt;span&gt;ColumnList&lt;/span&gt; columns);
-  void &lt;span title=&quot;dom-listener-rowOpened&quot;&gt;rowOpened&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in boolean rowCountNeeded);
-  void &lt;span title=&quot;dom-listener-rowClosed&quot;&gt;rowClosed&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row);
-
-  void &lt;span title=&quot;dom-listener-cellChanged&quot;&gt;cellChanged&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in &lt;span&gt;Column&lt;/span&gt; column, in any newValue, in any prevValue);
-  &lt;span&gt;HTMLMenuElement&lt;/span&gt; &lt;span title=&quot;dom-listener-getRowMenu&quot;&gt;getRowMenu&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row);
-&lt;!- -vsDGDND
-  boolean &lt;span title=&quot;dom-listener-canDrop&quot;&gt;canDrop&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in &lt;span&gt;RowID&lt;/span&gt; position, data);
-  boolean &lt;span title=&quot;dom-listener-dropped&quot;&gt;dropped&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in &lt;span&gt;RowID&lt;/span&gt; position, data);
-- -&gt;&lt;!- -v2DGPA
-  void &lt;span title=&quot;dom-listener-performAction&quot;&gt;performAction&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in DOMString action);
-- -&gt;};&lt;/pre&gt;
-
-  &lt;p&gt;The &lt;code&gt;DataGridListener&lt;/code&gt; interface, once implemented by
-  an object in a script and hooked up to a &lt;code&gt;datagrid&lt;/code&gt; using
-  the &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; IDL
-  attribute, receives notifications when the &lt;code&gt;datagrid&lt;/code&gt;
-  needs information (such as which rows exist) for display.&lt;/p&gt;
-
-  &lt;p&gt;The following methods may be usefully implemented:&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-initialize&quot;&gt;&lt;code&gt;initialize(&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element (the one given by
-    the &lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; argument) when the &lt;code
-    title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; attribute is
-    set.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-getRows&quot;&gt;&lt;code&gt;getRows(&lt;var title=&quot;&quot;&gt;rowIndex&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rowCount&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;parentRow&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;columns&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element when the user agent
-    finds itself needing to render rows for which it is lacking
-    information.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;rowIndex&lt;/var&gt; argument gives the flattened
-    index of the first row for which it needs information, ignoring
-    the tree structure of the &lt;code&gt;datagrid&lt;/code&gt; model, where zero
-    is the first row of the entire tree.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;rowCount&lt;/var&gt; argument gives the number of
-    rows for which the user agent would like information.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;parentRow&lt;/var&gt; argument gives the
-    &lt;code&gt;RowID&lt;/code&gt; object identifying the nearest ancestor of the
-    first row that the user agent is aware of. After the sort order
-    has changed, this will typically be the root of the tree
-    (identified by a &lt;code&gt;RowID&lt;/code&gt; object consisting of an empty
-    array).
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;columns&lt;/var&gt; argument gives the columns for
-    which the user agent is lacking information, as an array of column
-    identifiers (as passed to &lt;code
-    title=&quot;dom-datagrid-addColumn&quot;&gt;addColumn()&lt;/code&gt;).&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-getCells&quot;&gt;&lt;code&gt;getCells(&lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;columns&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element when the user agent
-    finds itself needing to render cells for which it is lacking
-    information in rows that it does know about.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument gives an array of
-    &lt;code&gt;RowID&lt;/code&gt; objects identifying the various rows for which
-    the user agent is lacking information.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;columns&lt;/var&gt; argument gives the columns for
-    which the user agent is lacking information, as an array of column
-    identifiers (as passed to &lt;code
-    title=&quot;dom-datagrid-addColumn&quot;&gt;addColumn()&lt;/code&gt;).&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-rowOpened&quot;&gt;&lt;code&gt;rowOpened(&lt;var title=&quot;&quot;&gt;row&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rowCountNeeded&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element when the user has
-    opened a row.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; argument gives an
-    &lt;code&gt;RowID&lt;/code&gt; object identifying the row that was opened.&lt;/p&gt;
-
-    &lt;p&gt;If the user agent also knows how many children that row has,
-    then the &lt;var title=&quot;&quot;&gt;rowCountNeeded&lt;/var&gt; argument will be
-    false. Otherwise, the argument will be true, and the row will
-    remain closed until the &lt;code
-    title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; method is called
-    with an accurate row count.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-rowClosed&quot;&gt;&lt;code&gt;rowClosed(&lt;var title=&quot;&quot;&gt;row&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element when the user has
-    opened a row.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; argument gives an
-    &lt;code&gt;RowID&lt;/code&gt; object identifying the row that was closed.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-cellChanged&quot;&gt;&lt;code&gt;cellChanged(&lt;var title=&quot;&quot;&gt;row&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;column&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;newValue&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;prevValue&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element when the user has
-    edited a cell or checked a check box in a cell.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; argument gives an
-    &lt;code&gt;RowID&lt;/code&gt; object identifying the row of the cell, and the
-    &lt;var title=&quot;&quot;&gt;column&lt;/var&gt; argument gives the identifier of the
-    cell's column.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;newValue&lt;/var&gt; argument gives the new value,
-    and the &lt;var title=&quot;&quot;&gt;prevValue&lt;/var&gt; argument gives the previous
-    value.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-getRowMenu&quot;&gt;&lt;code&gt;getRowMenu(&lt;var title=&quot;&quot;&gt;row&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;Must return an &lt;code&gt;HTMLMenuElement&lt;/code&gt; object that is to
-   be used as a context menu for row &lt;var title=&quot;&quot;&gt;row&lt;/var&gt;, or null
-   if there is no particular context menu. May be omitted if none of
-   the rows have a special context menu. As this method is called
-   immediately before showing the menu in question, no precautions
-   need to be taken if the return value of this method changes.&lt;/dd&gt;
-
-   &lt;!- -v2DGDND, v2DFPA- -&gt;
-
-  &lt;/dl&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;p&gt;Objects that implement the &lt;code&gt;DataGridListener&lt;/code&gt;
-  interface may omit any or all of the methods. When a method is
-  omitted, a user agent intending to call that method must instead
-  skip the method call, and must assume that the method's return value
-  is null.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-
-&lt;!- - v2DGS: &lt;datagrid&gt; selection (search for the bits marked &quot;...&quot; to see what needs filling in, at a minimum)
-
-  &lt;h5&gt;The selection&lt;/h5&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;DataGridSelection&lt;/dfn&gt; {
-  readonly attribute unsigned long &lt;span title=&quot;dom-DataGridSelection-length&quot;&gt;length&lt;/span&gt;;
-  getter &lt;span&gt;RowID&lt;/span&gt; &lt;span title=&quot;dom-DataGridSelection-item&quot;&gt;item&lt;/span&gt;(in unsigned long index);
-  boolean &lt;span title=&quot;dom-DataGridSelection-isSelected&quot;&gt;isSelected&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row);
-  void &lt;span title=&quot;dom-DataGridSelection-setSelected&quot;&gt;setSelected&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in boolean selected);
-  void &lt;span title=&quot;dom-DataGridSelection-selectAll&quot;&gt;selectAll&lt;/span&gt;();
-  void &lt;span title=&quot;dom-DataGridSelection-clear&quot;&gt;clear&lt;/span&gt;();
-};&lt;/pre&gt;
-
-  &lt;dl class=&quot;domintro&quot;&gt;
-
-   ...
-
-  &lt;/dl&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;p&gt;Each &lt;code&gt;datagrid&lt;/code&gt; element must keep track of which rows
-  are currently selected. Initially, no rows are selected. This can be
-  changed using the methods described in this section.&lt;/p&gt;
-
-  &lt;p&gt;The selection of a &lt;code&gt;datagrid&lt;/code&gt; is represented by its
-  &lt;dfn title=&quot;dom-datagrid-selection&quot;&gt;&lt;code&gt;selection&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute, which must be a &lt;code&gt;DataGridSelection&lt;/code&gt; object.&lt;/p&gt;
-
-  &lt;p&gt;&lt;code&gt;DataGridSelection&lt;/code&gt; objects represent the rows in the
-  selection. In the selection the rows must be ordered in their
-  natural order (and not, e.g., the display order). A row with an
-  ancestor that is closed cannot be selected.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DataGridSelection-length&quot;&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the number of rows currently present in the
-  selection. This is the &lt;var
-  title=&quot;dom-DataGridSelection-length&quot;&gt;length&lt;/var&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The object's &lt;span&gt;supported property indices&lt;/span&gt; are the
-  numbers in the range zero to &lt;span title=&quot;&quot;&gt;&lt;var
-  title=&quot;dom-DataGridSelection-length&quot;&gt;length&lt;/var&gt;-1&lt;/span&gt;, unless
-  the &lt;var title=&quot;dom-DataGridSelection-length&quot;&gt;length&lt;/var&gt; is zero,
-  in which case there are no &lt;span&gt;supported property
-  indices&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-DataGridSelection-item&quot;&gt;&lt;code&gt;item(&lt;var
-  title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return a
-  &lt;code&gt;RowID&lt;/code&gt; object identifying the &lt;var
-  title=&quot;&quot;&gt;index&lt;/var&gt;th row in the selection. If the argument is out
-  of range (less than zero or greater than the number of selected rows
-  minus one), then it must raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt;
-  exception. &lt;a href=&quot;#refsDOMCORE&quot;&gt;[DOMCORE]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DataGridSelection-isSelected&quot;&gt;&lt;code&gt;isSelected()&lt;/code&gt;&lt;/dfn&gt;
-  method must return the selected state of the row specified by its
-  argument. If the specified row is in the &lt;span&gt;natural order sparse
-  data tree&lt;/span&gt; and is selected, the method must return true,
-  otherwise it must return false.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DataGridSelection-setSelected&quot;&gt;&lt;code&gt;setSelected()&lt;/code&gt;&lt;/dfn&gt;
-  method takes two arguments, &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; and &lt;var
-  title=&quot;&quot;&gt;selected&lt;/var&gt;. When invoked, it must set the selection
-  state of row &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; to selected if &lt;var
-  title=&quot;&quot;&gt;selected&lt;/var&gt; is true, and unselected if it is false. If
-  &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; does not specify a row in the &lt;span&gt;natural
-  order sparse data tree&lt;/span&gt; ...
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DataGridSelection-selectAll&quot;&gt;&lt;code&gt;selectAll()&lt;/code&gt;&lt;/dfn&gt;
-  method must ...
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DataGridSelection-clear&quot;&gt;&lt;code&gt;clear()&lt;/code&gt;&lt;/dfn&gt;
-  method must mark all the rows in the &lt;code&gt;datagrid&lt;/code&gt; as not
-  selected. After a call to &lt;code
-  title=&quot;dom-DataGridSelection-clear&quot;&gt;clear()&lt;/code&gt;, the &lt;code
-  title=&quot;dom-DataGridSelection-length&quot;&gt;length&lt;/code&gt; attribute will
-  return zero.&lt;/p&gt;
-
-  &lt;p&gt;If the &lt;code&gt;datagrid&lt;/code&gt; element has a &lt;code
-  title=&quot;attr-datagrid-multiple&quot;&gt;multiple&lt;/code&gt; attribute, then the
-  user agent should allow the user to select any number of rows (zero
-  or more). If the attribute is not present, then the user agent
-  should allow the user to select a row, and must not allow the user
-  to select more than a single row at a time; selecting another one
-  must unselect all the other rows.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;This only applies to the user. Scripts can select
-  multiple rows even when the &lt;code
-  title=&quot;attr-datagrid-multiple&quot;&gt;multiple&lt;/code&gt; attribute is
-  absent.&lt;/p&gt;
-
-  ...event on selection change?...
-
-  &lt;/div&gt;
-
-  &lt;p class=&quot;note&quot;&gt;The &lt;code&gt;DataGridSelection&lt;/code&gt; interface has no
-  relation to the &lt;code&gt;Selection&lt;/code&gt; interface.&lt;/p&gt;
-
-- -&gt;
-
-
-&lt;!- -vsDGDND
-  &lt;h5&gt;Drag and drop in &lt;code&gt;datagrid&lt;/code&gt;s&lt;/h5&gt;
-
-  &lt;p&gt;&lt;i&gt;This section only applies to interactive user agents.&lt;/i&gt;&lt;/p&gt;
-
-  ...define drag and drop in datagrids; selectiondraggable...
-- -&gt;
-
---&gt;
-
   &lt;h4 id=the-command&gt;&lt;span class=secno&gt;4.11.3 &lt;/span&gt;The &lt;dfn&gt;&lt;code&gt;command&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;&lt;dt&gt;Categories&lt;/dt&gt;
@@ -71863,13 +69261,12 @@
   tag&lt;/a&gt; may be omitted if the &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt; element is
   immediately followed by an &lt;code&gt;&lt;a href=#the-address-element&gt;address&lt;/a&gt;&lt;/code&gt;,
   &lt;code&gt;&lt;a href=#the-article-element&gt;article&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-aside-element&gt;aside&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-blockquote-element&gt;blockquote&lt;/a&gt;&lt;/code&gt;,
-  &lt;!--v2DATAGRID &lt;code&gt;datagrid&lt;/code&gt;,--&gt; &lt;code&gt;&lt;a href=#dir&gt;dir&lt;/a&gt;&lt;/code&gt;,
-  &lt;code&gt;&lt;a href=#the-div-element&gt;div&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;,
-  &lt;code&gt;&lt;a href=#the-footer-element&gt;footer&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;,
-  &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;,
-  &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h6&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-header-element&gt;header&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-hgroup-element&gt;hgroup&lt;/a&gt;&lt;/code&gt;,
-  &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#menus&gt;menu&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-nav-element&gt;nav&lt;/a&gt;&lt;/code&gt;,
-  &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-pre-element&gt;pre&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#dir&gt;dir&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-div-element&gt;div&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-footer-element&gt;footer&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h6&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-header-element&gt;header&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-hgroup-element&gt;hgroup&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-hr-element&gt;hr&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#menus&gt;menu&lt;/a&gt;&lt;/code&gt;,
+  &lt;code&gt;&lt;a href=#the-nav-element&gt;nav&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-ol-element&gt;ol&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-p-element&gt;p&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-pre-element&gt;pre&lt;/a&gt;&lt;/code&gt;,
   &lt;code&gt;&lt;a href=#the-section-element&gt;section&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=#the-ul-element&gt;ul&lt;/a&gt;&lt;/code&gt;,
   element, or if there is no more content in the parent element and
   the parent element is not an &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
@@ -73237,10 +70634,9 @@
    &lt;code&gt;&lt;a href=#the-blockquote-element&gt;blockquote&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-br-element&gt;br&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-button-element&gt;button&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#center&gt;center&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-col-element&gt;col&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-command&gt;command&lt;/a&gt;&lt;/code&gt;,
-   &lt;!--v2DDATAGRID &lt;code&gt;datagrid&lt;/code&gt;,--&gt; &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#dir&gt;dir&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-div-element&gt;div&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;,
-   &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-figcaption-element&gt;figcaption&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-dd-element&gt;dd&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#dir&gt;dir&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-div-element&gt;div&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dl-element&gt;dl&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-dt-element&gt;dt&lt;/a&gt;&lt;/code&gt;,
+   &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-figcaption-element&gt;figcaption&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-footer-element&gt;footer&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#frame&gt;frame&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#frameset&gt;frameset&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h1&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h2&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h3&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h4&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements&gt;h5&lt;/a&gt;&lt;/code&gt;,
@@ -76677,10 +74073,9 @@
 
    &lt;!-- the normal ones --&gt;
    &lt;dt&gt;A start tag whose tag name is one of: &quot;address&quot;, &quot;article&quot;,
-   &quot;aside&quot;, &quot;blockquote&quot;, &quot;center&quot;, &lt;!--v2DATAGRID&quot;datagrid&quot;,--&gt;
-   &quot;details&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;, &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;,
-   &quot;footer&quot;, &quot;header&quot;, &quot;hgroup&quot;, &quot;menu&quot;, &quot;nav&quot;, &quot;ol&quot;, &quot;p&quot;, &quot;section&quot;,
-   &quot;summary&quot;, &quot;ul&quot;&lt;/dt&gt;
+   &quot;aside&quot;, &quot;blockquote&quot;, &quot;center&quot;, &quot;details&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;,
+   &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;, &quot;footer&quot;, &quot;header&quot;, &quot;hgroup&quot;,
+   &quot;menu&quot;, &quot;nav&quot;, &quot;ol&quot;, &quot;p&quot;, &quot;section&quot;, &quot;summary&quot;, &quot;ul&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
     &lt;!-- As of May 2008 this doesn't match any browser exactly, but is
@@ -76899,11 +74294,10 @@
 
    &lt;!-- the normal ones --&gt;
    &lt;dt&gt;An end tag whose tag name is one of: &quot;address&quot;, &quot;article&quot;,
-   &quot;aside&quot;, &quot;blockquote&quot;, &quot;button&quot;, &quot;center&quot;,
-   &lt;!--v2DATAGRID&quot;datagrid&quot;,--&gt; &quot;details&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;,
-   &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;, &quot;footer&quot;, &quot;header&quot;, &quot;hgroup&quot;,
-   &quot;listing&quot;, &quot;menu&quot;, &quot;nav&quot;, &quot;ol&quot;, &quot;pre&quot;, &quot;section&quot;, &quot;summary&quot;,
-   &quot;ul&quot;&lt;/dt&gt;
+   &quot;aside&quot;, &quot;blockquote&quot;, &quot;button&quot;, &quot;center&quot;, &quot;details&quot;, &quot;dir&quot;, &quot;div&quot;,
+   &quot;dl&quot;, &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;, &quot;footer&quot;, &quot;header&quot;,
+   &quot;hgroup&quot;, &quot;listing&quot;, &quot;menu&quot;, &quot;nav&quot;, &quot;ol&quot;, &quot;pre&quot;, &quot;section&quot;,
+   &quot;summary&quot;, &quot;ul&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
     &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-scope title=&quot;has an element in scope&quot;&gt;have an element in scope&lt;/a&gt;
@@ -82693,20 +80087,6 @@
   &lt;/div&gt;
 
 
-&lt;!--v2DATAGRID
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;h4&gt;The &lt;code&gt;datagrid&lt;/code&gt; element&lt;/h4&gt;
-
-  This section will probably include details on how to render DATAGRID
-  (including &lt;span id=&quot;datagridPseudos&quot;&gt;its pseudo-elements&lt;/span&gt;),
-  drag-and-drop, etc, in a visual medium, in concert with
-  CSS. Implementation experience is desired before this section is
-  filled in.
-
-  &lt;/div&gt;
---&gt;
-
   &lt;div class=impl&gt;
 
   &lt;h4 id=the-details-element-0&gt;&lt;span class=secno&gt;12.4.3 &lt;/span&gt;The &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt; element&lt;/h4&gt;
@@ -87040,7 +84420,6 @@
       &lt;code&gt;&lt;a href=#the-cite-element&gt;cite&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-code-element&gt;code&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-command&gt;command&lt;/a&gt;&lt;/code&gt;;
-      &lt;!-- v2DATAGRID &lt;code&gt;datagrid&lt;/code&gt;; --&gt;
       &lt;code&gt;&lt;a href=#the-datalist-element&gt;datalist&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-del-element&gt;del&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;;
@@ -87213,7 +84592,6 @@
      &lt;td&gt;
       &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-button-element&gt;button&lt;/a&gt;&lt;/code&gt;;
-      &lt;!-- v2DATAGRID &lt;code&gt;datagrid&lt;/code&gt;; --&gt;
       &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-embed-element&gt;embed&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;;
@@ -87233,7 +84611,6 @@
      &lt;td&gt;
       &lt;code&gt;&lt;a href=#the-blockquote-element&gt;blockquote&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-body-element-0&gt;body&lt;/a&gt;&lt;/code&gt;;
-      &lt;!-- v2DATAGRID &lt;code&gt;datagrid&lt;/code&gt;; --&gt;
       &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt;;
       &lt;code&gt;&lt;a href=#the-figure-element&gt;figure&lt;/a&gt;&lt;/code&gt;;

Modified: source
===================================================================
--- source	2010-10-22 23:07:42 UTC (rev 5643)
+++ source	2010-10-22 23:12:13 UTC (rev 5644)
@@ -7802,7 +7802,6 @@
    &lt;li value=&quot;24&quot;&gt;&lt;dfn&gt;&lt;code&gt;NOT_READABLE_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!-- File API --&gt;
    &lt;li value=&quot;25&quot;&gt;&lt;dfn&gt;&lt;code&gt;DATA_CLONE_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!-- actually defined right here for now --&gt;
    &lt;li value=&quot;26&quot;&gt;&lt;dfn&gt;&lt;code&gt;ENCODING_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!-- File API --&gt;
-&lt;!--v2DATAGRID   &lt;li value=&quot;..&quot;&gt;&lt;dfn&gt;&lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; --&gt; &lt;!-- actually defined right here for now --&gt;
 &lt;!--
    &lt;li value=&quot;81&quot;&gt;&lt;dfn&gt;&lt;code&gt;PARSE_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!- - actually defined in dom3ls - -&gt;
    &lt;li value=&quot;82&quot;&gt;&lt;dfn&gt;&lt;code&gt;SERIALIZE_ERR&lt;/code&gt;&lt;/dfn&gt;&lt;/li&gt; &lt;!- - actually defined in dom3ls - -&gt;
@@ -10430,7 +10429,6 @@
    &lt;li&gt;&lt;code&gt;cite&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;code&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;command&lt;/code&gt;&lt;/li&gt;
-&lt;!-- v2DATAGRID   &lt;li&gt;&lt;code&gt;datagrid&lt;/code&gt;&lt;/li&gt; --&gt;
    &lt;li&gt;&lt;code&gt;datalist&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;del&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;details&lt;/code&gt;&lt;/li&gt;
@@ -10699,7 +10697,6 @@
    &lt;li&gt;&lt;code&gt;a&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;audio&lt;/code&gt; (if the &lt;code title=&quot;attr-media-controls&quot;&gt;controls&lt;/code&gt; attribute is present)&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;button&lt;/code&gt;&lt;/li&gt;
-&lt;!-- v2DATAGRID   &lt;li&gt;&lt;code&gt;datagrid&lt;/code&gt;&lt;/li&gt; --&gt;
    &lt;li&gt;&lt;code&gt;details&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;embed&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;iframe&lt;/code&gt;&lt;/li&gt;
@@ -17365,7 +17362,6 @@
   &lt;ul class=&quot;brief category-list&quot;&gt;
    &lt;li&gt;&lt;code&gt;blockquote&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;body&lt;/code&gt;&lt;/li&gt;
-&lt;!-- v2DATAGRID   &lt;li&gt;&lt;code&gt;datagrid&lt;/code&gt;&lt;/li&gt; --&gt;
    &lt;li&gt;&lt;code&gt;details&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;fieldset&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code&gt;figure&lt;/code&gt;&lt;/li&gt;
@@ -49337,11 +49333,7 @@
   &lt;p&gt;The &lt;code&gt;datalist&lt;/code&gt; element is hooked up to an
   &lt;code&gt;input&lt;/code&gt; element using the &lt;code
   title=&quot;attr-input-list&quot;&gt;list&lt;/code&gt; attribute on the
-  &lt;code&gt;input&lt;/code&gt; element. &lt;!-- v2DATAGRID The
-  &lt;code&gt;datalist&lt;/code&gt; element can also be used with a
-  &lt;code&gt;datagrid&lt;/code&gt; element, as the source of autocompletion hints
-  for &lt;code title=&quot;datagrid-type-editable&quot;&gt;editable&lt;/code&gt;
-  cells. --&gt;&lt;/p&gt;
+  &lt;code&gt;input&lt;/code&gt; element.&lt;/p&gt;
 
   &lt;p&gt;Each &lt;code&gt;option&lt;/code&gt; element that is a descendant of the
   &lt;code&gt;datalist&lt;/code&gt; element, that is not &lt;span
@@ -51163,8 +51155,6 @@
    &lt;li&gt;minimum value &le; optimum point &le; maximum value&lt;/li&gt;
   &lt;/ul&gt;
 
-  &lt;!-- next two paragraphs are duplicated in the &lt;datagrid&gt; section [v2DATAGRID] --&gt;
-
   &lt;p&gt;&lt;strong&gt;UA requirements for regions of the gauge&lt;/strong&gt;: If the
   optimum point is equal to the low boundary or the high boundary, or
   anywhere in between them, then the region between the low and high
@@ -53715,2601 +53705,7 @@
 
 
 
-&lt;!-- v2DATAGRID
-  &lt;h4 id=&quot;datagrid&quot;&gt;The &lt;dfn&gt;&lt;code&gt;datagrid&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
-  &lt;dl class=&quot;element&quot;&gt;
-   &lt;dt&gt;Categories&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;span&gt;Interactive content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dd&gt;&lt;span&gt;Sectioning root&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dt&gt;Contexts in which this element can be used:&lt;/dt&gt;
-   &lt;dd&gt;Where &lt;span&gt;flow content&lt;/span&gt; is expected.&lt;/dd&gt;
-   &lt;dt&gt;Content model:&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Flow content&lt;/span&gt;.&lt;/dd&gt;
-   &lt;dt&gt;Content attributes:&lt;/dt&gt;
-   &lt;dd&gt;&lt;span&gt;Global attributes&lt;/span&gt;&lt;/dd&gt;
-&lt;!- -v2DGS:
-   &lt;dd&gt;&lt;code title=&quot;attr-datagrid-multiple&quot;&gt;multiple&lt;/code&gt;&lt;/dd&gt;
-- -&gt;
-   &lt;dd&gt;&lt;code title=&quot;attr-datagrid-disabled&quot;&gt;disabled&lt;/code&gt;&lt;/dd&gt;
-   &lt;dt&gt;DOM interface:&lt;/dt&gt;
-   &lt;dd&gt;
-&lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLDataGridElement&lt;/dfn&gt; : &lt;span&gt;HTMLElement&lt;/span&gt; {
-&lt;!- -v2DGS:
-           attribute boolean &lt;span title=&quot;dom-datagrid-multiple&quot;&gt;multiple&lt;/span&gt;;
-- -&gt;           attribute boolean &lt;span title=&quot;dom-datagrid-disabled&quot;&gt;disabled&lt;/span&gt;;
-           attribute &lt;span&gt;DataGridListener&lt;/span&gt; &lt;span title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/span&gt;;
-&lt;!- - v2DGS:
-  readonly attribute &lt;span&gt;DataGridSelection&lt;/span&gt; &lt;span title=&quot;dom-datagrid-selection&quot;&gt;selection&lt;/span&gt;;
-- -&gt;
-  // columns
-  void &lt;span title=&quot;dom-datagrid-addColumn&quot;&gt;addColumn&lt;/span&gt;(in &lt;span&gt;Column&lt;/span&gt; id, in DOMString label, in DOMString type, in optional HTMLImageElement icon, in optional boolean sortable, in optional boolean hidden);
-           attribute DOMString &lt;span title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/span&gt;;
-           attribute boolean &lt;span title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/span&gt;;
-  void &lt;span title=&quot;dom-datagrid-clearColumns&quot;&gt;clearColumns&lt;/span&gt;();
-
-  // rows
-  void &lt;span title=&quot;dom-datagrid-renotify&quot;&gt;renotify&lt;/span&gt;();
-  void &lt;span title=&quot;dom-datagrid-setRowCount&quot;&gt;setRowCount&lt;/span&gt;(in long childCount, in long rowCount);
-  void &lt;span title=&quot;dom-datagrid-setRows&quot;&gt;setRows&lt;/span&gt;(in &lt;span&gt;RowList&lt;/span&gt; rows);
-  void &lt;span title=&quot;dom-datagrid-insertRows&quot;&gt;insertRows&lt;/span&gt;(in &lt;span&gt;RowList&lt;/span&gt; rows);
-  void &lt;span title=&quot;dom-datagrid-deleteRows&quot;&gt;deleteRows&lt;/span&gt;(in &lt;span&gt;RowIDList&lt;/span&gt; rows);
-  void &lt;span title=&quot;dom-datagrid-repaint&quot;&gt;repaint&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in DOMString column);
-  void &lt;span title=&quot;dom-datagrid-clearRows&quot;&gt;clearRows&lt;/span&gt;();
-&lt;!- -
- v2: opening and closing a row
-     moving a row's actual ID
-      - imagine new mail moving a thread up; you just want to add the new mail to the thread and move the thread's first mail to the top
-      - though actually that should probably just be done using display sorting
-- -&gt;
-};
-
-typedef DOMString &lt;dfn&gt;Column&lt;/dfn&gt;;
-typedef sequence&lt;&lt;span&gt;Column&lt;/span&gt;&gt; &lt;dfn&gt;ColumnList&lt;/dfn&gt;;
-typedef sequence&lt;any&gt; &lt;dfn&gt;Cell&lt;/dfn&gt;; // &lt;span&gt;Column&lt;/span&gt;, any... (exact types expected depend on the column type)
-typedef sequence&lt;&lt;span&gt;Cell&lt;/span&gt;&gt; &lt;dfn&gt;CellList&lt;/dfn&gt;;
-typedef sequence&lt;any&gt; &lt;dfn&gt;Row&lt;/dfn&gt;; // &lt;span&gt;RowID&lt;/span&gt;, long, long, &lt;span&gt;CellList&lt;/span&gt;, optional boolean, optional long
-typedef sequence&lt;&lt;span&gt;Row&lt;/span&gt;&gt; &lt;dfn&gt;RowList&lt;/dfn&gt;;
-typedef sequence&lt;unsigned long&gt; &lt;dfn&gt;RowID&lt;/dfn&gt;;
-typedef sequence&lt;&lt;span&gt;RowID&lt;/span&gt;&gt; &lt;dfn&gt;RowIDList&lt;/dfn&gt;;
-
-[Callback=FunctionOnly, NoInterfaceObject]
-interface &lt;dfn&gt;RenderingContext2DCallback&lt;/dfn&gt; {
-  DOMString &lt;span title=&quot;dom-Rendering2DContextCallback-handleEvent&quot;&gt;handleEvent&lt;/span&gt;(in &lt;span&gt;CanvasRenderingContext2D&lt;/span&gt; context, in unsigned long width, in unsigned long height);
-};&lt;/pre&gt;
-   &lt;/dd&gt;
-  &lt;/dl&gt;
-
- &lt;!- - v2:
-   * datagrid: cells that are links (&lt;a href=&quot;&quot;&gt;&lt;/a&gt;)
-  - -&gt;
-
-  &lt;p&gt;The &lt;code&gt;datagrid&lt;/code&gt; element &lt;span&gt;represents&lt;/span&gt; an
-  interactive representation of tree, list, or tabular data.&lt;/p&gt;
-
-  &lt;p&gt;The data being presented is provided by script using the methods
-  described in the following sections.&lt;/p&gt;
-
-&lt;!- -v2DGS:
-  &lt;p&gt;The &lt;dfn
-  title=&quot;attr-datagrid-multiple&quot;&gt;&lt;code&gt;multiple&lt;/code&gt;&lt;/dfn&gt; attribute
-  is a &lt;span&gt;boolean attribute&lt;/span&gt;. When set, it indicates that the
-  user can select more than one row at a time.&lt;/p&gt;
-- -&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;attr-datagrid-disabled&quot;&gt;&lt;code&gt;disabled&lt;/code&gt;&lt;/dfn&gt; attribute
-  is a &lt;span&gt;boolean attribute&lt;/span&gt; used to disable the
-  control. &lt;span class=&quot;impl&quot;&gt;When the attribute is set, the user
-  agent must disable the &lt;code&gt;datagrid&lt;/code&gt;, preventing the user
-  from interacting with it. The &lt;code&gt;datagrid&lt;/code&gt; element should
-  still continue to update itself when the underlying data changes,
-  though, as described in the next few sections. However, conformance
-  requirements stating that &lt;code&gt;datagrid&lt;/code&gt; elements must react
-  to users in particular ways do not apply when the
-  &lt;code&gt;datagrid&lt;/code&gt; is disabled.&lt;/span&gt;&lt;/p&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;!- -vsDGS: multiple - -&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-disabled&quot;&gt;&lt;code&gt;disabled&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute must &lt;span&gt;reflect&lt;/span&gt; the content attribute of the
-  same name.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-  &lt;!- - v2DGPA: One possible thing to be added is a way to detect when a
-  row/selection has been deleted, activated, etc, by the user (delete
-  key, enter key, etc). (v2DGPA = &lt;datagrid&gt; Perform Action) - -&gt;
-
-
-  &lt;h5&gt;Introduction&lt;/h5&gt;
-
-  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
-
-  &lt;p&gt;In the &lt;code&gt;datagrid&lt;/code&gt; data model, data is structured as a
-  set of rows representing a tree, each row being split into a number
-  of columns. The columns are always present in the data model,
-  although individual columns might be hidden in the presentation.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;Each row can have child rows. Child rows may be hidden or
-  shown, by closing or opening (respectively) the parent row.&lt;/p&gt;
-
-  &lt;p&gt;Rows are referred to by the path along the tree that one would
-  take to reach the row, using zero-based indices. Thus, the first row
-  of a list is row &quot;0&quot;, the second row is row &quot;1&quot;; the first child row
-  of the first row is row &quot;0,0&quot;, the second child row of the first row
-  is row &quot;0,1&quot;; the fourth child of the seventh child of the third
-  child of the tenth row is &quot;9,2,6,3&quot;, etc.&lt;/p&gt;
-
-  &lt;p&gt;The chains of numbers that give a row's path, or identifier, are
-  represented by arrays of positions, represented in IDL by the
-  &lt;span&gt;RowID&lt;/span&gt; interface.&lt;/p&gt;
-
-  &lt;p&gt;The root of the tree is represented by an empty array.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;Each column has a string that is used to identify it in the API,
-  a label that is shown to users interacting with the column, a type,
-  and optionally an icon.&lt;/p&gt;
-
-  &lt;p&gt;The possible types are as follows:&lt;/p&gt;
-
-  &lt;table&gt;
-   &lt;thead&gt;
-    &lt;tr&gt;
-     &lt;td&gt;Keyword
-     &lt;td&gt;Description
-   &lt;tbody&gt;
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;
-     &lt;td&gt;Simple text.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-editable&quot;&gt;editable&lt;/code&gt;
-     &lt;td&gt;Editable text.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-checkable&quot;&gt;checkable&lt;/code&gt;
-     &lt;td&gt;Text with a check box.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-list&quot;&gt;list&lt;/code&gt;
-     &lt;td&gt;A list of values that the user can switch between.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-progress&quot;&gt;progress&lt;/code&gt;
-     &lt;td&gt;A progress bar.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-meter&quot;&gt;meter&lt;/code&gt;
-     &lt;td&gt;A gauge.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;code title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;
-     &lt;td&gt;A canvas onto which arbitrary content can be drawn.
-  &lt;/table&gt;
-
-  &lt;p&gt;Each column can be flagged as sortable, in which case the user
-  will be able to sort the view using that column.&lt;/p&gt;
-
-  &lt;p&gt;Columns are not necessarily visible. A column can be created
-  invisible by default. The user can select which columns are to be
-  shown.&lt;/p&gt;
-
-  &lt;p&gt;When no columns have been added to the &lt;code&gt;datagrid&lt;/code&gt;, a
-  column with no name, whose identifier is the empty string, whose
-  type is &lt;code title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;, and which is
-  not sortable, is implied. This column is removed if any explicit
-  columns are declared.&lt;/p&gt;
-
-  &lt;p&gt;Each cell uses the type given for its column, so all cells in a
-  column present the same type of information.&lt;/p&gt;
-
-&lt;!- -v2DGS:
-  &lt;p&gt;Selection of data in a &lt;code&gt;datagrid&lt;/code&gt; operates at the row
-  level. If the &lt;code title=&quot;attr-datagrid-multiple&quot;&gt;multiple&lt;/code&gt;
-  attribute is present, multiple rows can be selected at once,
-  otherwise the user can only select one row at a time.&lt;/p&gt;
-- -&gt;
-
-  &lt;!- - v2DGDND: selection should draggable to and from datagrids - -&gt;
-
-
-  &lt;h6&gt;Example: a &lt;code&gt;datagrid&lt;/code&gt; backed by a static &lt;code&gt;table&lt;/code&gt; element&lt;/h6&gt;
-
-  ...
-
-
-  &lt;h6&gt;Example: a &lt;code&gt;datagrid&lt;/code&gt; backed by nested &lt;code&gt;ol&lt;/code&gt; elements&lt;/h6&gt;
-
-  ...
-
-
-  &lt;h6&gt;Example: a &lt;code&gt;datagrid&lt;/code&gt; backed by a server&lt;/h6&gt;
-
-  ...
-
-
-  &lt;h5&gt;Populating the &lt;code&gt;datagrid&lt;/code&gt;&lt;/h5&gt;
-
-  &lt;dl class=&quot;domintro&quot;&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Return the current object that is configured as the
-    &lt;code&gt;datagrid&lt;/code&gt; listener, if any. Returns null if there is
-    none.&lt;/p&gt;
-
-    &lt;p&gt;The listener is an object provided by the script author that
-    receives notifications when the &lt;code&gt;datagrid&lt;/code&gt; needs row
-    data to render itself, when the user opens and closes rows with
-    children, when the user edits a cell, and when the user invokes a
-    row's context menu. (The &lt;code&gt;DataGridListener&lt;/code&gt; interface
-    used for this purpose is described in the next section.)&lt;/p&gt;
-
-    &lt;p&gt;Can be set, to change the current listener.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-renotify&quot;&gt;renotify&lt;/code&gt;()&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Causes the &lt;code&gt;datagrid&lt;/code&gt; to resend notifications to the
-    listener (if any) for any rows or cells that the
-    &lt;code&gt;datagrid&lt;/code&gt; does not yet have information for.&lt;/p&gt;
-
-    &lt;!- - useful, e.g., if there is a server error and the script loses
-    track of what rows it's supposed to be reporting. - -&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-addColumn&quot;&gt;addColumn&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;label&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;icon&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;sortable&lt;/var&gt; [, &lt;var title=&quot;&quot;&gt;hidden&lt;/var&gt; ] ] ] )&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Adds a column to the &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;
-
-    &lt;p&gt;If a column with the given identifier has already been added,
-    it just replaces the information for that column.&lt;/p&gt;
-
-    &lt;p&gt;The possible types are enumerated in the previous section.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns the identifier of the column by which the data is to be
-    sorted.&lt;/p&gt;
-
-    &lt;p&gt;Can be set, to indicate that the sort order has changed. This
-    will cause the &lt;code&gt;datagrid&lt;/code&gt; to clear its position
-    information for rows, so &lt;code
-    title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; will have to be
-    called again with the new sort order.&lt;/p&gt;
-
-    &lt;p&gt;The columns are not actually sorted by the
-    &lt;code&gt;datagrid&lt;/code&gt;; the data has to be sorted by the script
-    that adds the rows to the &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Returns true if the data is to be sorted with smaller values
-    first; otherwise, returns false, indicating that bigger values are
-    to be put first.&lt;/p&gt;
-
-    &lt;p&gt;Can be set, to indicate that the order is about to change.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-clearColumns&quot;&gt;clearColumns&lt;/code&gt;()&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Removes all the columns in the &lt;code&gt;datagrid&lt;/code&gt;,
-    reinstating the implied column.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-setRowCount&quot;&gt;setRowCount&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;childCount&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rowCount&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Sets the numbers of rows in the &lt;code&gt;datagrid&lt;/code&gt;,
-    excluding rows that are descendants of rows that are closed.&lt;/p&gt;
-
-    &lt;p&gt;Throws a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception if the
-    arguments contradict each other or previously declared information
-    (e.g. declaring that the &lt;code&gt;datagrid&lt;/code&gt; has three rows when
-    the 12th row has been declared).&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-setRows&quot;&gt;setRows&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Updates data for rows in the &lt;code&gt;datagrid&lt;/code&gt;, or fills in
-    data for rows previously implied by a call to &lt;code
-    title=&quot;dom-datagrid-setRowCount&quot;&gt;setRowCount()&lt;/code&gt; but not
-    previously declared.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument is an array of rows, each
-    represented by a further array consisting of:&lt;/p&gt;
-
-    &lt;ol class=&quot;brief&quot;&gt;
-
-     &lt;li&gt;A &lt;code&gt;RowID&lt;/code&gt; object identifying the row.&lt;/li&gt;
-
-     &lt;li&gt;An integer giving the position of the row in its parent,
-     given the current sort order, or &amp;#x2212;1 to set other row data
-     without setting a position or changing a previously declared
-     position.&lt;/li&gt;
-
-     &lt;li&gt;An integer giving the number of children of the row, or 0 if
-     the row has no children, or &amp;#x2212;1 if the row has children but
-     the count is currently unknown. If the number of children has
-     already been set to 0 or a positive integer, then passing
-     &amp;#x2212;1 leaves the previous count unchanged.&lt;/li&gt;
-
-     &lt;li&gt;An array giving the data for zero or more cells in the row,
-     as described below.&lt;/li&gt;
-
-     &lt;li&gt;A boolean declaring whether the row is open or not. This
-     entry, if omitted, is assumed to be false (closed), unless the
-     row has already been declared as open.&lt;/li&gt;
-
-     &lt;li&gt;An integer giving the number of rows that are descendants of
-     this row, excluding those that are descendants of descendants of
-     this row that are closed. This entry can be omitted if the row is
-     closed or if it has already been declared.&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-    &lt;p&gt;The array giving the data for the cells in the row consists of
-    a further set of arrays, one per cell. The first item of each of
-    these arrays is the column's identifier; the subsequent values
-    vary based on the type of the column, as follows:&lt;/p&gt;
-
-    &lt;dl&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A string giving the cell's value.
-       &lt;li&gt;Optionally, an &lt;code&gt;img&lt;/code&gt; element giving an icon for the cell.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-editable&quot;&gt;editable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A string giving the cell's value.
-       &lt;li&gt;Optionally, a &lt;code&gt;datalist&lt;/code&gt; element giving a set of predefined options.
-       &lt;li&gt;Optionally, an &lt;code&gt;img&lt;/code&gt; element giving an icon for the cell.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-checkable&quot;&gt;checkable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A string giving the cell's value.
-       &lt;li&gt;A boolean, indicating whether the cell is checked (true) or not (false).
-       &lt;li&gt;Optionally, a boolean indicating whether the value of the cell is obscured as indeterminate (true), or not (false).
-       &lt;li&gt;Optionally, an &lt;code&gt;img&lt;/code&gt; element giving an icon for the cell.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-list&quot;&gt;list&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A string giving the cell's current value.
-       &lt;li&gt;A &lt;code&gt;select&lt;/code&gt; element giving the &lt;span title=&quot;concept-select-option-list&quot;&gt;list of options&lt;/span&gt;.
-       &lt;li&gt;Optionally, an &lt;code&gt;img&lt;/code&gt; element giving an icon for the cell.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-progress&quot;&gt;progress&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A value in the range 0.0 (no progress) to 1.0 (task complete).
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-meter&quot;&gt;meter&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A number giving the cell's value.
-       &lt;li&gt;Optionally, a number giving the maximum value, if it's not 1.
-       &lt;li&gt;Optionally, a number giving the minimum value, if it's not 0.
-       &lt;li&gt;Optionally, a number giving the highest value that is considered &quot;low&quot;.
-       &lt;li&gt;Optionally, a number giving the lowest value that is considered &quot;high&quot;.
-       &lt;li&gt;Optionally, a number giving the value that is considered optimal.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;code title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol class=&quot;brief&quot;&gt;
-       &lt;li&gt;A number giving the minimum width of the cell, in CSS pixels, that is desired.
-       &lt;li&gt;A number giving the minimum height of the cell, in CSS pixels, that is desired.
-       &lt;li&gt;A function that is passed a &lt;code&gt;CanvasRenderingContext2D&lt;/code&gt; object, along with the width and height (in CSS pixels) of the cell that the context will draw on.
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-    &lt;p&gt;While the rows in a single call to the &lt;code
-    title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; method can be in any
-    order, for each row, it is important that all its ancestor rows
-    and all its open previous siblings are also declared, either in
-    the same call or in an earlier one.&lt;/p&gt;
-
-    &lt;p&gt;Throws a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception if the
-    arguments contradict each other or previously declared information
-    (e.g. saying that a row's position is 5 when the parent row only
-    has 3 children, or naming a column that doesn't exist, or
-    declaring a row without declaring its parent, or changing the
-    number of children that a row has while that row and its ancestors
-    are all open).&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-insertRows&quot;&gt;insertRows&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Inserts the given rows into the &lt;code&gt;datagrid&lt;/code&gt;,
-    increasing the numbers of rows that the &lt;code&gt;datagrid&lt;/code&gt;
-    assumes are present.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument is an array of rows in
-    the same structure as the argument to the &lt;code
-    title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; method described
-    above, with the same expectations of consistency (a given row's
-    ancestors and earlier open siblings being listed either earlier or
-    in the same call as a given row). However, unlike with the &lt;code
-    title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; method, if a row is
-    inserted along with its child, the child is not included in the
-    child and row counts of the parent row; every row in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument will increase its parent's counts
-    automatically.&lt;/p&gt;
-
-    &lt;p&gt;Throws a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception if the
-    arguments contradict each other or previously declared
-    information.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-deleteRows&quot;&gt;deleteRows&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Removes the given rows from the &lt;code&gt;datagrid&lt;/code&gt;, and
-    updates the number of rows known to be in the
-    &lt;code&gt;datagrid&lt;/code&gt; accordingly. The argument is an array of
-    &lt;code&gt;RowID&lt;/code&gt; objects identifying the rows to remove.&lt;/p&gt;
-
-    &lt;p&gt;Throws a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception if the argument
-    includes a row the &lt;code&gt;datagrid&lt;/code&gt; doesn't know about.&lt;/p&gt;
-    &lt;!- - since otherwise behaviour might depend on where the user
-    scrolled! - -&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-repaint&quot;&gt;repaint&lt;/code&gt;(&lt;var title=&quot;&quot;&gt;row&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;column&lt;/var&gt;)&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;If the given column's type is &lt;code
-    title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;, then causes the
-    &lt;code&gt;datagrid&lt;/code&gt; to reinvoke the function that obtains the
-    desired rendering.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; . &lt;code title=&quot;dom-datagrid-clearRows&quot;&gt;clearRows&lt;/code&gt;()&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;Clears the &lt;code&gt;datagrid&lt;/code&gt; of all row data, resetting it
-    to empty&lt;!- - v2DGS:, and clears the selection- -&gt;.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;h6&gt;The listener&lt;/h6&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-listener&quot;&gt;&lt;code&gt;listener&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute allows authors to specify an object that will receive all
-  the notifications from the &lt;code&gt;datagrid&lt;/code&gt;. Initially, its
-  value must be null. On getting, it must return its value. On
-  setting, its value must be set to the new value, and then the user
-  agent must &lt;span&gt;queue a task&lt;/span&gt; to call the &lt;code
-  title=&quot;dom-listener-initialize&quot;&gt;initialize()&lt;/code&gt; method with the
-  &lt;code&gt;datagrid&lt;/code&gt; element as its only argument.&lt;/p&gt;
-
-
-  &lt;h6&gt;The columns&lt;/h6&gt;
-
-  &lt;p&gt;The columns are represented by the &lt;dfn&gt;column list&lt;/dfn&gt;, an
-  ordered list of entries for columns, each of which consists of:&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;An identifier&lt;/dt&gt;
-
-   &lt;dd&gt;A string used to identify the column in the API.&lt;/dd&gt;
-
-   &lt;dt&gt;A label&lt;/dt&gt;
-
-   &lt;dd&gt;A string used in the user interface.&lt;/dd&gt;
-
-   &lt;dt&gt;A type&lt;/dt&gt;
-
-   &lt;dd&gt;One of the types described below.&lt;/dd&gt;
-
-   &lt;dt&gt;An icon&lt;/dt&gt;
-
-   &lt;dd&gt;An image, copied from an &lt;code&gt;img&lt;/code&gt; element when the
-   column was declared.&lt;/dd&gt;
-
-   &lt;dt&gt;Whether the column is sortable&lt;/dt&gt;
-
-   &lt;dd&gt;A boolean indicating whether the user can request that the data
-   be sorted by this column (true), or not (false).&lt;/dd&gt;
-
-   &lt;dt&gt;Whether the column is visible&lt;/dt&gt;
-
-   &lt;dd&gt;A boolean indicating whether the column is part of the
-   &lt;code&gt;datagrid&lt;/code&gt;'s rendering.&lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-  &lt;p&gt;Initially, the &lt;span&gt;column list&lt;/span&gt; must have a single
-  column, the &lt;dfn&gt;default column&lt;/dfn&gt;, whose identifier is the empty
-  string, whose label is the empty string, whose type is &lt;code
-  title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;, with no icon, which is not
-  sortable, and which &lt;em&gt;is&lt;/em&gt; visible.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-addColumn&quot;&gt;&lt;code&gt;addColumn(&lt;var
-  title=&quot;&quot;&gt;id&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;label&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;type&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;icon&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;sortable&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;hidden&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
-  method must run the following steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;If there is already an entry in &lt;span&gt;column list&lt;/span&gt;,
-   other than the &lt;span&gt;default column&lt;/span&gt;, whose identifier is
-   &lt;var title=&quot;&quot;&gt;id&lt;/var&gt;, throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt;
-   exception and abort these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; is not a string equal to one of the
-    &lt;span&gt;allowed &lt;code&gt;datagrid&lt;/code&gt; column types&lt;/span&gt;, then
-    throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception and abort these
-    steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;icon&lt;/var&gt; argument is present and not
-   null, but the given &lt;code&gt;img&lt;/code&gt; element is not in the &lt;span
-   title=&quot;img-all&quot;&gt;completely available&lt;/span&gt; state, then let &lt;var
-   title=&quot;&quot;&gt;icon&lt;/var&gt; be null.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;icon&lt;/var&gt; argument is present and not
-   null, then copy the image data from that &lt;code&gt;img&lt;/code&gt; element,
-   and let &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; be the copy of that image
-   data. Otherwise, let &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; be nothing.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Append a new entry to the &lt;span&gt;column list&lt;/span&gt;, with
-   &lt;var title=&quot;&quot;&gt;id&lt;/var&gt; as its identifier, &lt;var title=&quot;&quot;&gt;label&lt;/var&gt;
-   as its label, &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; as its type, and &lt;var
-   title=&quot;&quot;&gt;image&lt;/var&gt; as its icon. Let the column be sortable if the
-   &lt;var title=&quot;&quot;&gt;sortable&lt;/var&gt; argument is present and true, and make
-   it visible unless the &lt;var title=&quot;&quot;&gt;hidden&lt;/var&gt; argument is
-   present and true.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;column list&lt;/span&gt; contains the &lt;span&gt;default
-   column&lt;/span&gt;, then remove the &lt;span&gt;default column&lt;/span&gt; from the
-   &lt;span&gt;column list&lt;/span&gt;, discard any data for cells in that column
-   in any rows in the &lt;code&gt;datagrid&lt;/code&gt;, set &lt;code
-   title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; to &lt;var
-   title=&quot;&quot;&gt;id&lt;/var&gt;, set &lt;code
-   title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; to true,
-   and run the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort
-   steps&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-sortColumn&quot;&gt;&lt;code&gt;sortColumn&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute gives the current column used for sorting. Initially, its
-  value must be the empty string. On getting, it must return its
-  current value. On setting, if the new value doesn't match the
-  identifier of one of the columns in the &lt;span&gt;column list&lt;/span&gt;,
-  then the user agent must throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt;
-  exception. Otherwise, if the new value is not the same as its
-  current value, then the user agent must set the attribute to the new
-  value, and then run the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort
-  steps&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-sortAscending&quot;&gt;&lt;code&gt;sortAscending&lt;/code&gt;&lt;/dfn&gt;
-  IDL attribute specifies the direction that the tree is sorted in,
-  ascending (true) or descending (false). Initially, its value must be
-  true (ascending). On getting, it must return its current value. On
-  setting, if the new value is not the same as its current value, then
-  the user agent must set the attribute to the new value, and then run
-  the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort steps&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;When a column is marked as being sortable, the user agent should
-  allow the user to select that column to be the column used for
-  sorting, and should allow the user to chose whether the sort order
-  is ascending or descending.&lt;/p&gt;
-
-  &lt;p&gt;When the user changes the sort order in this manner, the user
-  agent must update the &lt;code
-  title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; and &lt;code
-  title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; attributes
-  appropriately, and then run the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort
-  steps&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort steps&lt;/span&gt;
-  are described in the next section.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-clearColumns&quot;&gt;&lt;code&gt;clearColumns()&lt;/code&gt;&lt;/dfn&gt;
-  method, if the &lt;span&gt;column list&lt;/span&gt; doesn't contain the
-  &lt;span&gt;default column&lt;/span&gt;, must empty the &lt;span&gt;column
-  list&lt;/span&gt;, append the &lt;span&gt;default column&lt;/span&gt; to the now empty
-  &lt;span&gt;column list&lt;/span&gt;, discard any data for cells in all rows in
-  the &lt;code&gt;datagrid&lt;/code&gt;, set &lt;code
-  title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; to the empty
-  string, set &lt;code
-  title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; to true, and
-  run the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; resort steps&lt;/span&gt;. (If the
-  &lt;span&gt;column list&lt;/span&gt; is already just the &lt;span&gt;default
-  column&lt;/span&gt;, then the method does nothing.)&lt;/p&gt;
-
-
-  &lt;h6&gt;The rows&lt;/h6&gt;
-
-  &lt;p&gt;A &lt;code&gt;datagrid&lt;/code&gt; element is intended to show a
-  representation of a tree, where typically the user only sees a
-  small part of the tree at a time.&lt;/p&gt;
-
-  &lt;p&gt;To make this efficient, the &lt;code&gt;datagrid&lt;/code&gt; element
-  &lt;em&gt;actually&lt;/em&gt; shows a small part of a &lt;em&gt;sparse&lt;/em&gt; tree, so
-  that only relevant parts of the data structure need be loaded at any
-  time. Specifically, the model requires only that all the ancestor
-  rows of the displayed rows be loaded, as well as any open earlier
-  siblings (in the displayed sort order) of the displayed rows.&lt;/p&gt;
-
-  &lt;p&gt;Conceptually, therefore, a &lt;code&gt;datagrid&lt;/code&gt; has a number of
-  related sparse data structures backing it.&lt;/p&gt;
-
-  &lt;p&gt;The first is the &lt;dfn&gt;natural order sparse data tree&lt;/dfn&gt;. This
-  is the structure in which rows are entered as they are declared, in
-  their natural order. This can differ from the order actually
-  displayed to the user. It consists of nested sparse lists of
-  rows. In the &lt;span&gt;natural order sparse data tree&lt;/span&gt;, a row will
-  always have all its parents already declared. Once a row is added to
-  this structure, it can only be removed by the &lt;code
-  title=&quot;dom-datagrid-deleteRows&quot;&gt;deleteRows()&lt;/code&gt; and &lt;code
-  title=&quot;dom-datagrid-clearRows&quot;&gt;clearRows()&lt;/code&gt; methods. The order of
-  nodes in this tree never changes; to move a node in this tree, it
-  has to be removed and then another row (with the same data)
-  reinserted elsewhere.&lt;/p&gt;
-
-  &lt;p&gt;The second structure is the &lt;dfn&gt;display order sparse data
-  tree&lt;/dfn&gt;. This is a similar structure that contains a subset of
-  the rows in the &lt;span&gt;natural order sparse data tree&lt;/span&gt;, ordered
-  in the order given by the &lt;code
-  title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; and &lt;code
-  title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; attributes, and
-  excluding rows with one or more ancestors that are closed. This tree
-  is cleared whenever the &lt;code
-  title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt; and &lt;code
-  title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; attributes
-  change.&lt;/p&gt;
-
-  &lt;p&gt;The third structure is the &lt;dfn&gt;display order sparse data
-  list&lt;/dfn&gt;. This structure is a flattened representation of the
-  &lt;span&gt;display order sparse data tree&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;At any time, a number of consecutive rows in the &lt;span&gt;display
-  order sparse data list&lt;/span&gt; are physically visible to the
-  user. The &lt;code&gt;datagrid&lt;/code&gt; fires notifications to a &lt;span
-  title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/span&gt; (provided by script),
-  and the listener, or other some script, is expected to feed the
-  &lt;code&gt;datagrid&lt;/code&gt; with the information needed to render the
-  control.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;code&gt;datagrid&lt;/code&gt; has a &lt;dfn&gt;pending &lt;code&gt;datagrid&lt;/code&gt;
-  rows list&lt;/dfn&gt;, which is a list of rows in the &lt;span&gt;display order
-  sparse data list&lt;/span&gt; for which the &lt;code&gt;datagrid&lt;/code&gt; has sent
-  notifications requesting information but not yet received
-  information about.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;code&gt;datagrid&lt;/code&gt; also has a &lt;dfn&gt;pending
-  &lt;code&gt;datagrid&lt;/code&gt; &lt;em&gt;cells&lt;/em&gt; list&lt;/dfn&gt;, which is a list of
-  row/column pairs (cells) for which the &lt;code&gt;datagrid&lt;/code&gt; has
-  sent notifications requesting information but not yet received
-  information about.&lt;/p&gt;
-
-  &lt;p&gt;User agents may discard information about rows that are not
-  displayed and that are not ancestors or open earlier siblings of
-  rows or ancestors of rows that are displayed.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;These structures are different views of the collection of rows
-  that form the &lt;code&gt;datagrid&lt;/code&gt;. Each row has the following
-  information associated with it:&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;A parent&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;Either another row, or the &lt;code&gt;datagrid&lt;/code&gt; itself. This
-   is the parent of the row in the &lt;span&gt;natural order sparse data
-   tree&lt;/span&gt; and the &lt;span&gt;display order sparse data tree&lt;/span&gt;
-   for the &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;A natural order position relative to the other rows with the
-   same parent&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;This is the number of rows that precede this row under the same
-    parent in the &lt;span&gt;natural order sparse data tree&lt;/span&gt;. This
-    number can't be changed relative to other rows in the same parent;
-    to change the relative natural order of data in the
-    &lt;code&gt;datagrid&lt;/code&gt;, the original rows have to be removed and
-    new rows (with the same data but different natural positions)
-    inserted in their place. (The exact number of a row can change, as
-    new rows can be inserted above it.)&lt;/p&gt;
-
-    &lt;p&gt;A row can be identified by a &lt;code&gt;RowID&lt;/code&gt; object. This is
-    an array of numbers, consisting of the natural order positions of
-    each ancestor row and the row itself, starting from the furthest
-    ancestor. Thus, for instance, the fourth child row of the first
-    child row of the second row in a &lt;code&gt;datagrid&lt;/code&gt; would be
-    identified by a &lt;code&gt;RowID&lt;/code&gt; object whose value is &lt;code
-    title=&quot;&quot;&gt;[1, 0, 3]&lt;/code&gt;. A row's identifier changes if rows are
-    &lt;span title=&quot;dom-datagrid-insertRows&quot;&gt;inserted before it&lt;/span&gt; in
-    the &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;A display order position relative to the other rows with
-   the same parent&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;This is the number of rows that precede this row under the
-   same parent in the &lt;span&gt;display order sparse data
-   tree&lt;/span&gt;. This number can be unknown. If the sort order
-   changes, then this information is lost (as the &lt;span&gt;display order
-   sparse data tree&lt;/span&gt; is cleared).&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;A child count&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;The number of rows that have this row as a parent. If this is
-   zero, the row cannot be opened. If this is &amp;#x2212;1, then the
-   child count is unknown but the row can be opened. This value can be
-   changed by the &lt;code title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt;
-   method only if the current value is &amp;#x2212;1 or if the row or one
-   of its ancestors is closed. Otherwise, it can only be changed
-   indirectly using the &lt;code
-   title=&quot;dom-datagrid-insertRows&quot;&gt;insertRows()&lt;/code&gt; and &lt;code
-   title=&quot;dom-datagrid-deleteRows&quot;&gt;deleteRows()&lt;/code&gt; methods.&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;An open flag&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;A boolean indicating whether the row is open (true) or
-   closed (false). Once set, the flag can only be changed by the user
-   or while one of the row's ancestors is itself closed. A row can
-   also be in a third state, &quot;opening&quot;, which is treated as closed for
-   all purposes except that the user agent may indicate that the row
-   is in this special state, and except that when the row is updated
-   to have a row count, the row will switch to being open.&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;A row count&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;The number of rows that have this row as a parent or
-   ancestor, and that do not have an ancestor that is a descendant of
-   this row that is itself closed. If this is &amp;#x2212;1, then the row
-   count is unknown. This value can be changed by the &lt;code
-   title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; method only if the
-   row or one of its ancestors is closed (or opening, but not
-   open). Otherwise, it can only be changed indirectly using the &lt;code
-   title=&quot;dom-datagrid-insertRows&quot;&gt;insertRows()&lt;/code&gt; and &lt;code
-   title=&quot;dom-datagrid-deleteRows&quot;&gt;deleteRows()&lt;/code&gt;
-   methods.&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;Cells&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;The data that applies to this row. Cell data is discussed in
-   more detail below.&lt;/p&gt;&lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-  &lt;p&gt;The &lt;code&gt;datagrid&lt;/code&gt; itself also has a &lt;dfn title=&quot;datagrid
-  child count&quot;&gt;child count&lt;/dfn&gt; and a &lt;dfn title=&quot;datagrid row
-  count&quot;&gt;row count&lt;/dfn&gt;, which are analogous to the child counts and
-  row counts for rows. Initially, these must be zero.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;datagrid&lt;/code&gt; resort steps&lt;/dfn&gt;, which are
-  invoked when the sort order changes as described in the previous
-  section, are as follows:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Clear the &lt;span&gt;display order sparse data tree&lt;/span&gt;
-    (i.e. mark the display order position of all the rows in the
-    &lt;code&gt;datagrid&lt;/code&gt; as unknown).&lt;/p&gt;
-
-    &lt;p&gt;User agents may cache the position information of rows for
-    various values of &lt;code
-    title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt; and &lt;code
-    title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt;, instead
-    of discarding the information altogether. If the user agent caches
-    this information, and has information that applies to the current
-    values of &lt;code title=&quot;dom-datagrid-sortColumn&quot;&gt;sortColumn&lt;/code&gt;
-    and &lt;code title=&quot;dom-datagrid-sortAscending&quot;&gt;sortAscending&lt;/code&gt;,
-    then the user agent may repopulate the &lt;span&gt;display order sparse
-    data tree&lt;/span&gt; from this information.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Clear the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt;
-    and the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells list&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-    algorithm&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;!- - v2: queue a task to fire an event, or tell the listener the
-   sort order changed, or something - -&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-renotify&quot;&gt;&lt;code&gt;renotify()&lt;/code&gt;&lt;/dfn&gt; method
-  must empty the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt;
-  and the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells list&lt;/span&gt;, and
-  invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-  algorithm&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-setRowCount&quot;&gt;&lt;code&gt;setRowCount(&lt;var
-  title=&quot;&quot;&gt;childCount&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;rowCount&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Set the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; child count&lt;/span&gt; to &lt;var
-    title=&quot;&quot;&gt;childCount&lt;/var&gt;, the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row
-    count&lt;/span&gt; to &lt;var title=&quot;&quot;&gt;rowCount&lt;/var&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span&gt;Audit the &lt;code&gt;datagrid&lt;/code&gt;&lt;/span&gt;. If this fails,
-    then revert the changes made in the previous step, throw a
-    &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception, and abort these
-    steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-    algorithm&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-setRows&quot;&gt;&lt;code&gt;setRows(&lt;var
-  title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span title=&quot;type-check a RowList object&quot;&gt;Type-check the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument&lt;/span&gt;. If this fails, throw a
-    &lt;code&gt;TypeError&lt;/code&gt; exception, and abort these steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span title=&quot;partially sort a RowList object&quot;&gt;Partially sort
-    the &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each &lt;code&gt;Row&lt;/code&gt; object in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument, in order, perform the appropriate
-    steps from the list below.&lt;/p&gt;
-
-    &lt;p class=&quot;note&quot;&gt;The changes made to the &lt;code&gt;datagrid&lt;/code&gt;'s
-    data structures in this step get reverted (as required below) if
-    any consistency errors are detected either in this step or the
-    next.&lt;/p&gt;
-
-    &lt;dl&gt;
-
-     &lt;dt&gt;If there already exists a row in the &lt;code&gt;datagrid&lt;/code&gt;'s
-     &lt;span&gt;natural order sparse data tree&lt;/span&gt; with the same
-     identifier as given by the &lt;code&gt;Row&lt;/code&gt; object's
-     &lt;code&gt;RowID&lt;/code&gt; object, and that row and all its ancestors are
-     open&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;If one of the following conditions is true, then revert all
-      the changes done in this step, throw a
-      &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception, and abort these
-      steps:&lt;/p&gt;
-
-      &lt;ul&gt;
-
-       &lt;li&gt;The value of the &lt;code&gt;Row&lt;/code&gt; object's second entry is
-       neither &amp;#x2212;1 nor equal to the child count of the
-       preexisting row.&lt;/li&gt;
-
-       &lt;li&gt;The &lt;code&gt;Row&lt;/code&gt; object has fewer than four
-       entries or more than six entries.&lt;/li&gt;
-
-       &lt;li&gt;The &lt;code&gt;Row&lt;/code&gt; object has five or more entries, and
-       its fifth entry is false.&lt;/li&gt;
-
-       &lt;li&gt;The &lt;code&gt;Row&lt;/code&gt; object has six entries, and its sixth
-       entry is not equal to the row count of the preexisting
-       row.&lt;/li&gt;
-
-      &lt;/ul&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If there already exists a row in the &lt;code&gt;datagrid&lt;/code&gt;'s
-     &lt;span&gt;natural order sparse data tree&lt;/span&gt; with the same
-     identifier as given by the &lt;code&gt;Row&lt;/code&gt; object's
-     &lt;code&gt;RowID&lt;/code&gt; object, but either that row or one of its
-     ancestors is closed&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;Set the preexisting row's child count to the value of the
-      &lt;code&gt;Row&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Row&lt;/code&gt; object has five or more entries, and
-      either its fifth entry is true and the preexisting row is closed
-      but not opening, or its fifth entry is false and the preexisting
-      row is open, then: if the preexisting row has no ancestor row
-      that is closed, then revert all the changes done in this step,
-      throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception, and abort
-      these steps; otherwise, if the fifth entry is false, then close
-      the row; otherwise, open the row.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Row&lt;/code&gt; object has six entries, set the
-      preexisting row's row count to the value of the &lt;code&gt;Row&lt;/code&gt;
-      object's sixth entry.&lt;/p&gt;
-
-      &lt;p&gt;If the preexisting row is opening, then: increase the
-      &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt; and the row counts
-      of any ancestor rows by the number of rows that the preexisting
-      row now has in its row count, then open the row.&lt;/p&gt; &lt;!- - we
-      should also &quot;update the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; rows
-      list&lt;/span&gt; and the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells
-      list&lt;/span&gt; accordingly&quot; - -&gt;
-
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;There does not exist a row in the &lt;code&gt;datagrid&lt;/code&gt;'s
-     &lt;span&gt;natural order sparse data tree&lt;/span&gt; with the same
-     identifier as given by the &lt;code&gt;Row&lt;/code&gt; object's
-     &lt;code&gt;RowID&lt;/code&gt; object&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;If the &lt;code&gt;RowID&lt;/code&gt; object has a length greater than 1,
-      then verify that there is a row identified by the
-      &lt;code&gt;RowID&lt;/code&gt; consisting of all but the last number in the
-      &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;. If there is no
-      such row present in the &lt;span&gt;natural order sparse data
-      tree&lt;/span&gt;, then revert all the changes done in this step,
-      throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception, and abort
-      these steps.&lt;/p&gt;
-
-      &lt;p&gt;Create a row and insert it into the &lt;span&gt;natural order
-      sparse data tree&lt;/span&gt;, such that its parent is the row
-      identified by the &lt;code&gt;RowID&lt;/code&gt; consisting of all but the
-      last number in the &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;,
-      or the &lt;code&gt;datagrid&lt;/code&gt; if the length of the
-      &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt; is 1; with its
-      natural order position being the last number of the
-      &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;; with the child
-      count being the value of the third entry of the &lt;code&gt;Row&lt;/code&gt;
-      object; with the row being marked closed unless the
-      &lt;code&gt;Row&lt;/code&gt; object has five or more entries and its fifth
-      entry is true, in which case the row is open; and with its row
-      count being &amp;#x2212;1 unless the &lt;code&gt;Row&lt;/code&gt; object has six
-      entries, in which case the row count is equal to the value of
-      the &lt;code&gt;Row&lt;/code&gt; object's sixth entry.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span&gt;Audit the &lt;code&gt;datagrid&lt;/code&gt;&lt;/span&gt;. If this fails,
-    then revert the changes made in the previous step, throw a
-    &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception, and abort these
-    steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each &lt;code&gt;Row&lt;/code&gt; object in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument, in order, &lt;span title=&quot;apply a Row
-    object&quot;&gt;apply the &lt;code&gt;Row&lt;/code&gt; object&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-    algorithm&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-insertRows&quot;&gt;&lt;code&gt;insertRows(&lt;var
-  title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span title=&quot;type-check a RowList object&quot;&gt;Type-check the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument&lt;/span&gt;. If this fails, throw a
-    &lt;code&gt;TypeError&lt;/code&gt; exception, and abort these steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;span title=&quot;partially sort a RowList object&quot;&gt;Partially sort
-    the &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each &lt;code&gt;Row&lt;/code&gt; object in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument, in order, run the following
-    steps:&lt;/p&gt;
-
-    &lt;p class=&quot;note&quot;&gt;The changes made to the &lt;code&gt;datagrid&lt;/code&gt;'s
-    data structures in this step get reverted (as required below) if
-    any consistency errors are detected either in this step or the
-    next.&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; be the row identified by the
-      &lt;code&gt;RowID&lt;/code&gt; consisting of all but the last number in the
-      &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;, or the
-      &lt;code&gt;datagrid&lt;/code&gt; itself if the &lt;code&gt;Row&lt;/code&gt; object's
-      &lt;code&gt;RowID&lt;/code&gt; has length 0.&lt;/p&gt;
-
-      &lt;p&gt;If there is no such row present in the &lt;span&gt;natural order
-      sparse data tree&lt;/span&gt;, then revert all the changes done in
-      this algorithm, throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt;
-      exception, and abort these steps.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Increment by one the natural order position of all rows whose
-      parent is &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; and whose natural order
-      position is equal to or greater than the last number of the
-      &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If the value of the &lt;code&gt;Row&lt;/code&gt; object's second entry is
-      not &amp;#x2212;1, then increment by one the display order position
-      of all rows whose parent is &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; and whose
-      display order position is equal to or greater than the value of
-      the &lt;code&gt;Row&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-     &lt;!- -(Not sure how to really say this.)
-      &lt;p&gt;Update the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; rows
-      list&lt;/span&gt; and the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells
-      list&lt;/span&gt; accordingly.&lt;/p&gt;
-     - -&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Create a row and insert it into the &lt;span&gt;natural order
-      sparse data tree&lt;/span&gt;, such that its parent is &lt;var
-      title=&quot;&quot;&gt;parent&lt;/var&gt;; with its natural order position being the
-      last number of the &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;;
-      with the child count being the value of the third entry of the
-      &lt;code&gt;Row&lt;/code&gt; object; with the row being marked closed unless
-      the &lt;code&gt;Row&lt;/code&gt; object has five or more entries and its
-      fifth entry is true, in which case the row is open; and with its
-      row count being &amp;#x2212;1 unless the &lt;code&gt;Row&lt;/code&gt; object has
-      six entries, in which case the row count is equal to the value
-      of the &lt;code&gt;Row&lt;/code&gt; object's sixth entry.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each &lt;code&gt;Row&lt;/code&gt; object in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument, in order, &lt;span title=&quot;apply a Row
-    object&quot;&gt;apply the &lt;code&gt;Row&lt;/code&gt; object&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-    algorithm&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When an algorithm requires the user agent to &lt;dfn&gt;type-check a
-  &lt;code&gt;RowList&lt;/code&gt; object&lt;/dfn&gt; (an array), each entry in the
-  object must be checked against the following requirements. If any
-  are false, then the type-check fails, otherwise it passes.&lt;/p&gt;
-
-  &lt;ul&gt;
-
-   &lt;li&gt;&lt;p&gt;The entry is a &lt;code&gt;Row&lt;/code&gt; object (an
-   array).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The first value in the &lt;code&gt;Row&lt;/code&gt; is a
-   &lt;code&gt;RowID&lt;/code&gt; object (also an array), whose length is at least
-   1, and whose values are all integers greater than or equal to
-   zero.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The numbers in the &lt;code&gt;RowID&lt;/code&gt; object do not exactly
-   match any of the other entries in the &lt;code&gt;RowList&lt;/code&gt; object
-   (i.e. no two &lt;code&gt;Row&lt;/code&gt; objects have the same
-   identifier).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The second value in the &lt;code&gt;Row&lt;/code&gt; is an integer that
-   is either &amp;#x2212;1, zero, or a positive integer.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The third value in the &lt;code&gt;Row&lt;/code&gt; is an integer that
-   is either &amp;#x2212;1, zero, or a positive integer.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The fourth value in the &lt;code&gt;Row&lt;/code&gt; is a
-   &lt;code&gt;CellList&lt;/code&gt; object (yet another array).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Each entry in the &lt;span&gt;CellList&lt;/span&gt; object is a
-   &lt;code&gt;Cell&lt;/code&gt; object (again, an array).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Each &lt;code&gt;Cell&lt;/code&gt; object in the &lt;span&gt;CellList&lt;/span&gt;
-   object has as its first value a &lt;code&gt;Column&lt;/code&gt; object (a
-   string), and its value is the identifier of one of the columns in
-   the &lt;span&gt;column list&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Each &lt;code&gt;Cell&lt;/code&gt; object in the &lt;span&gt;CellList&lt;/span&gt;
-    object has as its second and subsequent entries values that match
-    the following requirements, as determined by the type of the
-    column identified by the first entry:&lt;/p&gt;
-
-    &lt;dl&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;The second entry's value is a string, and either there are
-      only two entries, or there are three, and the third entry is
-      an &lt;code&gt;img&lt;/code&gt; element.&lt;/p&gt;
-
-      &lt;p&gt;If there is an &lt;code&gt;img&lt;/code&gt; element specified, it is in
-      the &lt;span title=&quot;img-all&quot;&gt;completely available&lt;/span&gt; state.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-editable&quot;&gt;editable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;The second entry's value is a string, and either there are
-      only two entries, or the third entry is a
-      &lt;code&gt;datalist&lt;/code&gt; element, and either there are only three
-      entries, or there are four, and the fourth entry is an
-      &lt;code&gt;img&lt;/code&gt; element.&lt;/p&gt;
-
-      &lt;p&gt;If there is an &lt;code&gt;img&lt;/code&gt; element specified, it is in
-      the &lt;span title=&quot;img-all&quot;&gt;completely available&lt;/span&gt; state.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-checkable&quot;&gt;checkable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;The second entry's value is a string, the third entry is a
-      boolean, and either there are only three entries, or the
-      fourth entry is also a boolean, and either there are only four
-      entries, or there are five, and the fifth entry is an
-      &lt;code&gt;img&lt;/code&gt; element.&lt;/p&gt;
-
-      &lt;p&gt;If there is an &lt;code&gt;img&lt;/code&gt; element specified, it is in
-      the &lt;span title=&quot;img-all&quot;&gt;completely available&lt;/span&gt; state.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-list&quot;&gt;list&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;The second entry's value is a string, the third entry is a
-      &lt;code&gt;select&lt;/code&gt; element, and either there are only three
-      entries, or there are four, and the fourth entry is an
-      &lt;code&gt;img&lt;/code&gt; element.&lt;/p&gt;
-
-      &lt;p&gt;If there is an &lt;code&gt;img&lt;/code&gt; element specified, it is in
-      the &lt;span title=&quot;img-all&quot;&gt;completely available&lt;/span&gt; state.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-progress&quot;&gt;progress&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;There are only two entries, the second entry's value is a
-      number, and the number's value is between 0.0 and 1.0
-      inclusive.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-meter&quot;&gt;meter&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;There are at least two, but possibly up to seven, entries,
-      all entries but the first one are numbers, and the following
-      relationships hold:&lt;/p&gt;
-
-      &lt;ul class=&quot;brief&quot;&gt;
-
-       &lt;li&gt;The second entry is less than the third, or less than 1.0
-       if the third is absent.&lt;/li&gt;
-
-       &lt;li&gt;The second entry is greater than the fourth, or greater
-       than 0.0 if the fourth is absent.&lt;/li&gt;
-
-       &lt;li&gt;If there are at least three entries, the third entry is
-       greater than the fourth, or greater than zero if the fourth
-       is absent.&lt;/li&gt;
-
-       &lt;li&gt;If there are at least five entries, the fifth is not
-       greater than the third and not less than the fourth.&lt;/li&gt;
-
-       &lt;li&gt;If there are at least six entries, the sixth is not
-       greater than the third and not less than the fifth.&lt;/li&gt;
-
-       &lt;li&gt;If there are at least seven entries, the fifth is not
-       greater than the third and not less than the fourth.&lt;/li&gt;
-
-      &lt;/ul&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;There are four entries, the second and third are numbers
-      that are integers greater than zero, and the fourth is a
-      &lt;code&gt;Rendering2DContextCallback&lt;/code&gt; object (a
-      function).&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Either there are only four values in the &lt;code&gt;Row&lt;/code&gt;,
-   or the fifth value in the &lt;code&gt;Row&lt;/code&gt; is a boolean.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Either there are only four or five values in the
-   &lt;code&gt;Row&lt;/code&gt;, or there are six, and the sixth value in the
-   &lt;code&gt;Row&lt;/code&gt; an integer that is greater than or equal to
-   zero.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ul&gt;
-
-  &lt;p&gt;Where the above requirements say that a value is to be a string,
-  the user agent must apply the ToString() abstract operation to the
-  value, assume that the value was indeed a string, and use the result
-  in the rest of the algorithm as if it had that had been the value
-  passed to the method. &lt;a href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;Where the above requirements say that a value is to be a number,
-  the user agent must first apply the ToNumber() abstract operation
-  to the value, and then verify that the result is neither an Infinity
-  value nor a Not-a-Number (NaN) value. If this result is indeed
-  acceptable (i.e. finite), the user agent must use the result in the
-  rest of the algorithm as if it had that had been the value passed to
-  the method. &lt;a href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;Where the above requirements say that a value is to be an
-  integer, the user agent must first apply the ToNumber() abstract
-  operation to the value, and then verify that the result is a finite
-  integer. If so, the user agent must use the result in the rest of
-  the algorithm as if it had that had been the value passed to the
-  method. &lt;a href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;Where the above requirements say that a value is to be a boolean,
-  the user agent must apply the ToBoolean() abstract operation to the
-  value, assume that the value was indeed a boolean, and use the
-  result in the rest of the algorithm as if it had that had been the
-  value passed to the method. &lt;a href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When an algorithm requires the user agent to &lt;dfn&gt;audit the
-  &lt;code&gt;datagrid&lt;/code&gt;&lt;/dfn&gt;, the &lt;code&gt;datagrid&lt;/code&gt; must be
-  checked against the following requirements. If any are false, then
-  the audit fails, otherwise it passes.&lt;/p&gt;
-
-  &lt;ul&gt;
-
-   &lt;li&gt;There is no row whose natural order position is greater than or
-   equal to the child count of its parent row in the &lt;span&gt;natural
-   order sparse data tree&lt;/span&gt;.&lt;/li&gt;
-
-   &lt;li&gt;There is no row whose display order position is greater than or
-   equal to the child count of its parent row in the &lt;span&gt;display
-   order sparse data tree&lt;/span&gt;.&lt;/li&gt;
-
-   &lt;li&gt;There is no row such that the sum of that row's child count and
-   the row counts all the open rows that are direct children of that
-   row in the &lt;span&gt;natural order sparse data tree&lt;/span&gt; is less than
-   that row's row count.&lt;/li&gt;
-
-   &lt;li&gt;Of the rows whose child count is equal to the number of rows
-   that are direct children of that row in the &lt;span&gt;natural order
-   sparse data tree&lt;/span&gt;, there is none such that the sum of that
-   row's child count and the row counts of all the open rows that are
-   direct children of that row in the &lt;span&gt;natural order sparse data
-   tree&lt;/span&gt; is greater than that row's row count.&lt;/li&gt;
-
-  &lt;/ul&gt;
-
-  &lt;p&gt;For the purposes of this audit, the &lt;code&gt;datagrid&lt;/code&gt; must be
-  treated as the parent row of all the rows that are direct children
-  of the &lt;code&gt;datagrid&lt;/code&gt; in the &lt;span&gt;natural order sparse data
-  tree&lt;/span&gt; and the &lt;span&gt;display order sparse data tree&lt;/span&gt;. The
-  child count of this implied row is the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt;
-  child count&lt;/span&gt;, and the row count of this implied row is the
-  &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When an algorithm requires the user agent to &lt;dfn&gt;partially sort
-  a &lt;code&gt;RowList&lt;/code&gt; object&lt;/dfn&gt; (an array), the entries in the
-  object must be resorted such that &lt;code&gt;Row&lt;/code&gt; objects are
-  listed after any of their ancestors and after any of their earlier
-  siblings. In other words, for any two &lt;code&gt;Row&lt;/code&gt; objects &lt;var
-  title=&quot;&quot;&gt;a&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;b&lt;/var&gt; in the
-  &lt;code&gt;RowList&lt;/code&gt;, where &lt;var title=&quot;&quot;&gt;a&lt;/var&gt; is before &lt;var
-  title=&quot;&quot;&gt;b&lt;/var&gt; after the sort, the following conditions must
-  hold:&lt;/p&gt;
-
-  &lt;ul&gt;
-
-   &lt;li&gt;&lt;p&gt;If their &lt;code&gt;RowID&lt;/code&gt; objects are the same length and
-   have values that are equal except for the last value, then the last
-   value of &lt;var title=&quot;&quot;&gt;a&lt;/var&gt;'s &lt;code&gt;RowID&lt;/code&gt;'s last value
-   must be less than &lt;var title=&quot;&quot;&gt;b&lt;/var&gt;'s &lt;code&gt;RowID&lt;/code&gt;'s last
-   value (i.e. earlier siblings must come before their later
-   siblings).&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If their &lt;code&gt;RowID&lt;/code&gt; objects are not the same length,
-   but the values in the shorter of the two are the same as the first
-   few values in the longer one, then &lt;var title=&quot;&quot;&gt;a&lt;/var&gt;'s
-   &lt;code&gt;RowID&lt;/code&gt; must be the shorter one (i.e. ancestors must
-   come before their descendants).&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ul&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-deleteRows&quot;&gt;&lt;code&gt;deleteRows(&lt;var
-  title=&quot;&quot;&gt;rows&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If any of the entries in &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; are not
-    &lt;code&gt;RowID&lt;/code&gt; objects consisting of one or more entries whose
-    values are all integers that are greater than or equal to zero,
-    then throw a &lt;code&gt;TypeError&lt;/code&gt; exception and abort these
-    steps.&lt;/p&gt;
-
-    &lt;p&gt;To check if a value is an integer, the user agent must first
-    apply the ToNumber() abstract operation to the value, and then
-    verify that the result is a finite integer. If so, the user agent
-    must use the result in the rest of the algorithm as if it had that
-    had been the value passed to the method. &lt;a
-    href=&quot;#refsECMA262&quot;&gt;[ECMA262]&lt;/a&gt;&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If any of the &lt;code&gt;RowID&lt;/code&gt; objects in the &lt;var
-    title=&quot;&quot;&gt;rows&lt;/var&gt; argument identify a row that isn't present in
-    the &lt;span&gt;natural order sparse data tree&lt;/span&gt;, then throw a
-    &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception and abort these
-    steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If any row is listed twice in the &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;
-    argument, then throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception
-    and abort these steps.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Sort the &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument such that the
-    entries are given in the same order as the rows they identify
-    would be visited in a pre-order, depth first traversal of the
-    &lt;span&gt;natural order sparse data tree&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each row identified by entries in &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;,
-    &lt;em&gt;in reverse order&lt;/em&gt;, run the following steps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Decrement the child count of the row's parent row, if that
-      child count is greater than zero. If the row has no parent,
-      decrement the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; child
-      count&lt;/span&gt;.&lt;/p&gt;
-
-      &lt;p&gt;If the row has a parent row, and its child count is now zero,
-      then close that row.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;delta&lt;/var&gt; be one more than the row's row
-      count if the row is open and its row count is greater than zero;
-      otherwise, let &lt;var title=&quot;&quot;&gt;delta&lt;/var&gt; be one.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; be the row.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;&lt;i&gt;Row count loop&lt;/i&gt;: Let &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; be
-      &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt;'s parent row, if any, or null if it
-      has none.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; is null, then decrement the
-      &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt; by &lt;var
-      title=&quot;&quot;&gt;delta&lt;/var&gt;. Otherwise, if &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt;
-      is open, then decrement its row count by &lt;var
-      title=&quot;&quot;&gt;delta&lt;/var&gt;.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;ancestor&lt;/var&gt; is not null, then jump back
-      to the step labeled &lt;i&gt;row count loop&lt;/i&gt; above.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; be the row's parent, or the
-      &lt;code&gt;datagrid&lt;/code&gt; if the row has no parent.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Decrement by one the natural order position of all rows whose
-      parent is &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; and whose natural order
-      position is equal to or greater than the row's own natural order
-      position.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If the row is in the &lt;span&gt;display order sparse data
-      tree&lt;/span&gt;, then decrement by one the display order position of
-      all rows whose parent is &lt;var title=&quot;&quot;&gt;parent&lt;/var&gt; and whose
-      display order position is equal to or greater than the row's own
-      display order position.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Clear the row and its descendants from the
-      &lt;code&gt;Datagrid&lt;/code&gt;.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-    algorithm&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-datagrid-clearRows&quot;&gt;&lt;code&gt;clearRows()&lt;/code&gt;&lt;/dfn&gt; method
-  must empty the &lt;span&gt;natural order sparse data tree&lt;/span&gt;, reset
-  both the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; child count&lt;/span&gt; and the
-  &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt; to zero, and invoke the
-  &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display algorithm&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-datagrid-repaint&quot;&gt;&lt;code&gt;repaint(&lt;var
-  title=&quot;&quot;&gt;row&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;column&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
-  must cause the user agent to clear its cache for the cell specified
-  by the identifier &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; and the column &lt;var
-  title=&quot;&quot;&gt;column&lt;/var&gt;, if that column's type is &lt;code
-  title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;. If the given column has
-  not been declared, or its type is not &lt;code
-  title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;, then the user agent must
-  throw a &lt;code&gt;DATAGRID_MODEL_ERR&lt;/code&gt; exception. If the given row
-  is not known, then the method must do nothing. If the cell is indeed
-  cleared, the user agent must reinvoke the previously registered
-  &lt;code&gt;RenderingContext2DCallback&lt;/code&gt; callback when it needs to
-  repaint that row.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;If a row has a child count that isn't zero, then the user agent
-  should offer to the user the option of opening and closing the
-  row.&lt;/p&gt;
-
-  &lt;p&gt;When a row is opened, if the row's row count is greater than
-  zero, then the user agent must increase the
-  &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt; and the row counts of
-  any ancestor rows by the number of rows that the newly opened row
-  has in its row count&lt;!- - we should also &quot;update the &lt;span&gt;pending
-  &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt; and the &lt;span&gt;pending
-  &lt;code&gt;datagrid&lt;/code&gt; cells list&lt;/span&gt; accordingly&quot; - -&gt;, then must
-  mark the row as open, then may fill in the &lt;span&gt;display order
-  sparse data tree&lt;/span&gt; with any information that the user agent has
-  cached about the display order positions of descendants of the newly
-  opened row, and then must invoke the &lt;code
-  title=&quot;dom-listener-rowOpened&quot;&gt;rowOpened()&lt;/code&gt; method on the
-  current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; with as
-  its first argument a &lt;code&gt;RowID&lt;/code&gt; object identifying the row
-  that was opened and as its second argument the boolean false, and
-  then must invoke the &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; update display
-  algorithm&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;On the other hand, when a row is opened and the row's row count
-  is &amp;#x2212;1, then the user agent must mark the row as opening, and
-  then must invoke the &lt;code
-  title=&quot;dom-listener-rowOpened&quot;&gt;rowOpened()&lt;/code&gt; method on the
-  current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; with as
-  its first argument a &lt;code&gt;RowID&lt;/code&gt; object identifying the row
-  that was opened and as its second argument the boolean true.&lt;/p&gt;
-
-  &lt;p&gt;When a row is closed, the user agent must decrease the
-  &lt;span&gt;&lt;code&gt;datagrid&lt;/code&gt; row count&lt;/span&gt; and the row counts of
-  any ancestor rows by the number of rows that the newly closed row
-  has in its row count, and then must invoke the &lt;code
-  title=&quot;dom-listener-rowOpened&quot;&gt;rowOpened()&lt;/code&gt; method on the
-  current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; with as
-  its first and only argument a &lt;code&gt;RowID&lt;/code&gt; object identifying
-  the row that was opened.&lt;/p&gt;
-
-
-
-  &lt;h6&gt;The cells&lt;/h6&gt;
-
-  &lt;p&gt;Each row has one cell per column. Each cell has the same type as
-  its column. The &lt;dfn&gt;allowed &lt;code&gt;datagrid&lt;/code&gt; column
-  types&lt;/dfn&gt;, what they represent, and the requirements for when the
-  user interacts with them, are as follows:&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-text&quot;&gt;&lt;code&gt;text&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents some text and an optional image.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-editable&quot;&gt;&lt;code&gt;editable&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cells represents some editable text, an optional
-    &lt;code&gt;datalist&lt;/code&gt; giving autocompletion hints, and an
-    optional image.&lt;/p&gt;
-
-    &lt;p&gt;If there is a &lt;code&gt;datalist&lt;/code&gt; element, the user agent
-    should offer the suggestions represented by that element to the
-    user. The user agent may use the suggestion's &lt;span
-    title=&quot;concept-option-label&quot;&gt;label&lt;/span&gt; to identify the
-    suggestion. If the user selects a suggestion, then the editable
-    text must be set to the selected suggestion's &lt;span
-    title=&quot;concept-option-value&quot;&gt;value&lt;/span&gt;, as if the user had
-    written that value himself.&lt;/p&gt;
-
-    &lt;p&gt;When the user edits the value, either directly or using the
-    &lt;code&gt;datalist&lt;/code&gt;, the user agent must invoke the &lt;code
-    title=&quot;dom-listener-cellChanged&quot;&gt;cellChanged()&lt;/code&gt; method on
-    the current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt;
-    with as its first argument a &lt;code&gt;RowID&lt;/code&gt; identifying the
-    cell's row, as its second argument the identifier of the cell's
-    column, as its third argument the new value, and as its fourth
-    argument the previous value.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-checkable&quot;&gt;&lt;code&gt;checkable&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents some text, a check box that optionally has
-    its value obscured as indeterminate, and an optional image.&lt;/p&gt;
-
-    &lt;p&gt;When the user checks or unchecks the check box, the user agent
-    must change the check box's state appropriately and stop obscuring
-    the check box as indeterminate (if it is obscuring it), and then
-    must invoke the &lt;code
-    title=&quot;dom-listener-cellChanged&quot;&gt;cellChanged()&lt;/code&gt; method on
-    the current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt;
-    with as its first argument a &lt;code&gt;RowID&lt;/code&gt; identifying the
-    cell's row, as its second argument the identifier of the cell's
-    column, as its third argument true if the check box is now checked
-    and false otherwise, and as its fourth argument true if the check
-    box was previously checked and false otherwise.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-list&quot;&gt;&lt;code&gt;list&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents some text giving the current value selected
-    from a dropdown list of options, a &lt;code&gt;select&lt;/code&gt; element
-    giving the list of options, and an optional image.&lt;/p&gt;
-
-    &lt;p&gt;The user agent should allow the user to change the value of the
-    cell from its current value to one of the &lt;span
-    title=&quot;concept-option-value&quot;&gt;values&lt;/span&gt; given by
-    &lt;code&gt;option&lt;/code&gt; elements in the &lt;span
-    title=&quot;concept-select-option-list&quot;&gt;list of options&lt;/span&gt; (if
-    any). The user agent may use the &lt;code&gt;option&lt;/code&gt; elements'
-    &lt;span title=&quot;concept-option-label&quot;&gt;labels&lt;/span&gt; to annotate each
-    option.&lt;/p&gt;
-
-    &lt;p&gt;When the user selects a new value from the &lt;code&gt;select&lt;/code&gt;
-    element's &lt;span title=&quot;concept-select-option-list&quot;&gt;list of
-    options&lt;/span&gt;, the user agent must invoke the &lt;code
-    title=&quot;dom-listener-cellChanged&quot;&gt;cellChanged()&lt;/code&gt; method on
-    the current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt;
-    with as its first argument a &lt;code&gt;RowID&lt;/code&gt; identifying the
-    cell's row, as its second argument the identifier of the cell's
-    column, as its third argument the new value, and as its fourth
-    argument the previous value.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-progress&quot;&gt;&lt;code&gt;progress&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents a (determinate) progress bar whose value is
-    between 0.0, indicating no progress, and 1.0, indicating the task
-    is complete.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-meter&quot;&gt;&lt;code&gt;meter&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents a gauge, described by one to six
-    numbers.&lt;/p&gt;
-
-    &lt;p&gt;The gauge's actual value is given by the first number.&lt;/p&gt;
-
-    &lt;p&gt;If there is a second number, then that number is the maximum
-    value. Otherwise, the maximum value is 1.0.&lt;/p&gt;
-
-    &lt;p&gt;If there is a third number, then that number is the minimum
-    value. Otherwise, the minimum value is 1.0.&lt;/p&gt;
-
-    &lt;p&gt;If there is a fourth number, then that number is the low
-    boundary. Otherwise, the low boundary is the minimum value.&lt;/p&gt;
-
-    &lt;p&gt;If there is a fifth number, then that number is the high
-    boundary. Otherwise, the high boundary is the maximum value.&lt;/p&gt;
-
-    &lt;p&gt;If there is a sixth number, then the optimal point is the sixth
-    number. Otherwise, the optimum point is the midpoint between the
-    minimum value and the maximum value.&lt;/p&gt;
-
-    &lt;!- - next two paragraphs copied from &lt;meter&gt;: - -&gt;
-
-    &lt;p&gt;If the optimum point is equal to the low boundary or the high
-    boundary, or anywhere in between them, then the region between the
-    low and high boundaries of the gauge must be treated as the
-    optimum region, and the low and high parts, if any, must be
-    treated as suboptimal. Otherwise, if the optimum point is less
-    than the low boundary, then the region between the minimum value
-    and the low boundary must be treated as the optimum region, the
-    region between the low boundary and the high boundary must be
-    treated as a suboptimal region, and the region between the high
-    boundary and the maximum value must be treated as an even less
-    good region. Finally, if the optimum point is higher than the high
-    boundary, then the situation is reversed; the region between the
-    high boundary and the maximum value must be treated as the optimum
-    region, the region between the high boundary and the low boundary
-    must be treated as a suboptimal region, and the remaining region
-    between the low boundary and the minimum value must be treated as
-    an even less good region.&lt;/p&gt;
-
-    &lt;p&gt;User agents should indicate the relative position of the actual
-    value to the minimum and maximum values, and the relationship
-    between the actual value and the three regions of the gauge.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;datagrid-type-custom&quot;&gt;&lt;code&gt;custom&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;The cell represents a dynamically generated graphical image.&lt;/p&gt;
-
-    &lt;p&gt;The cell will have minimum dimensions (specified in CSS
-    pixels), and a callback (in the form of a
-    &lt;code&gt;RenderingContext2DCallback&lt;/code&gt; object) to get a rendering
-    for the cell.&lt;/p&gt;
-
-    &lt;p&gt;The user agent should not allow the cell to be rendered with
-    dimensions less than the given minimum width and height.&lt;/p&gt;
-
-    &lt;p&gt;When the user agent needs to render the cell, the user agent
-    must &lt;span&gt;queue a task&lt;/span&gt; to invoke the
-    &lt;span&gt;RenderingContext2DCallback&lt;/span&gt; callback, passing it a
-    newly created &lt;code&gt;CanvasRenderingContext2D&lt;/code&gt; object whose
-    &lt;code title=&quot;dom-context-2d-canvas&quot;&gt;canvas&lt;/code&gt; IDL attribute is
-    null as the first argument, the actual cell width in CSS pixels as
-    the second argument, and the actual cell height in CSS pixels as
-    the third argument.&lt;/p&gt;
-
-    &lt;p&gt;If the user agent is able to render graphics, then it must
-    render the graphics commands that the callback executed on the
-    provided &lt;code&gt;CanvasRenderingContext2D&lt;/code&gt; object onto the
-    cell once the callback returns. The image must be clipped to the
-    dimensions of the cell. The coordinate space of the cell must be
-    aligned with that used by the 2D context such that the top left
-    corner of the cell is the 0,0 origin, with the coordinate space
-    increasing its &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; dimension towards the right
-    of the cell and its &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; axis towards the bottom
-    of the cell, and with the image not scaled (so that one CSS pixel
-    on the final rendering matches one CSS pixel in the coordinate
-    space used by the 2D context).&lt;/p&gt;
-
-    &lt;p&gt;The user agent must then decouple the
-    &lt;code&gt;CanvasRenderingContext2D&lt;/code&gt; object and any objects that
-    it created (such as &lt;code&gt;CanvasPattern&lt;/code&gt; objects or
-    &lt;code&gt;ImageData&lt;/code&gt; objects) from any real drawing surface.&lt;/p&gt;
-
-    &lt;p&gt;If the user agent is unable to render graphics, then it must
-    render the text string returned by the callback instead.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When an algorithm requires the user agent to &lt;dfn&gt;apply a
-  &lt;code&gt;Row&lt;/code&gt; object&lt;/dfn&gt;, the user agent must run the following
-  steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If the value of the &lt;code&gt;Row&lt;/code&gt; object's second entry is
-    not &amp;#x2212;1, then run these substeps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;If there is a row with the same parent as the row
-     specified by the &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt;
-     object, whose display order position is currently the same as the
-     value of the &lt;code&gt;Row&lt;/code&gt; object's second entry, then remove
-     that row from the &lt;span&gt;display order sparse data
-     tree&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Set the display order position of the row specified by the
-     &lt;code&gt;Row&lt;/code&gt; object's &lt;code&gt;RowID&lt;/code&gt; to the value of the
-     &lt;code&gt;Row&lt;/code&gt; object's second entry, updating its position in
-     the &lt;span&gt;display order sparse data tree&lt;/span&gt;
-     accordingly.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If the row is in the &lt;span&gt;pending
-     &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt;, remove it.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If the fourth entry in the &lt;code&gt;Row&lt;/code&gt; object (a
-    &lt;code&gt;CellList&lt;/code&gt; object, an array) is not empty, then for
-    each &lt;code&gt;Cell&lt;/code&gt; object in that array update the cell that
-    corresponds to the column identified by the value of the first
-    entry of the &lt;code&gt;Cell&lt;/code&gt; object, by using the appropriate
-    set of steps given below as determined by the type of the
-    column. Then, if the cell is in the &lt;span&gt;pending
-    &lt;code&gt;datagrid&lt;/code&gt; cells list&lt;/span&gt;, remove it.&lt;/p&gt;
-
-    &lt;dl&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-text&quot;&gt;text&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell's text to the value given in the
-      &lt;code&gt;Cell&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has three entries, then copy
-      the image data from the &lt;code&gt;img&lt;/code&gt; element given in the
-      third entry, and let the cell's image be given by that image
-      data. Otherwise, update the cell to have no image.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-editable&quot;&gt;editable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell's text to the value given in the
-      &lt;code&gt;Cell&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has three entries, then let
-      the &lt;code&gt;datalist&lt;/code&gt; element given in the third entry be
-      the &lt;code&gt;datalist&lt;/code&gt; element giving autocompletion
-      hints. Otherwise, update the cell to have no
-      &lt;code&gt;datalist&lt;/code&gt; element.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has four entries, then copy
-      the image data from the &lt;code&gt;img&lt;/code&gt; element given in the
-      fourth entry, and let the cell's image be given by that image
-      data. Otherwise, update the cell to have no image.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-checkable&quot;&gt;checkable&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell's text to the value given in the
-      &lt;code&gt;Cell&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-      &lt;p&gt;Update the cell's checked state to match the value of the
-      third entry: checked if true, unchecked otherwise.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has four entries and the
-      fourth entry is true, then update the cell to be obscured as
-      indeterminate. Otherwise, the cell's state is not obscured.&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has five entries, then copy
-      the image data from the &lt;code&gt;img&lt;/code&gt; element given in the
-      fifth entry, and let the cell's image be given by that image
-      data. Otherwise, update the cell to have no image.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-list&quot;&gt;list&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell's text to the value given in the
-      &lt;code&gt;Cell&lt;/code&gt; object's second entry, and the
-      &lt;code&gt;select&lt;/code&gt; element to be the one given in the
-      &lt;code&gt;Cell&lt;/code&gt; object's third entry&lt;/p&gt;
-
-      &lt;p&gt;If the &lt;code&gt;Cell&lt;/code&gt; object has four entries, then copy
-      the image data from the &lt;code&gt;img&lt;/code&gt; element given in the
-      fourth entry, and let the cell's image be given by that image
-      data. Otherwise, update the cell to have no image.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-progress&quot;&gt;progress&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell to be a progress bar whose progress, on the
-      scale of 0.0 (no progress) to 1.0 (task complete) is given by
-      the value in the &lt;code&gt;Cell&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-meter&quot;&gt;meter&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell to be a gauge configured with the numbers
-      given by the second and subsequent entries of the
-      &lt;code&gt;Cell&lt;/code&gt; object.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If the column's type is &lt;code title=&quot;datagrid-type-custom&quot;&gt;custom&lt;/code&gt;&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;Update the cell's minimum width to be the length in CSS
-      pixels given by the &lt;code&gt;Cell&lt;/code&gt; object's second entry.&lt;/p&gt;
-
-      &lt;p&gt;Update the cell's minimum height to be the length in CSS
-      pixels given by the &lt;code&gt;Cell&lt;/code&gt; object's third entry.&lt;/p&gt;
-
-      &lt;p&gt;Update the cell's callback to be the
-      &lt;code&gt;RenderingContext2DCallback&lt;/code&gt; object given by the
-      &lt;code&gt;Cell&lt;/code&gt; object's fourth entry.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;When the user agent is to run the &lt;dfn&gt;&lt;code&gt;datagrid&lt;/code&gt;
-  update display algorithm&lt;/dfn&gt;, the user agent must invoke the &lt;code
-  title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; and &lt;code
-  title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; methods on the
-  current &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; such
-  that all the current visible rows in the &lt;span&gt;display order sparse
-  data list&lt;/span&gt;, and all the cells in the currently visible columns
-  on all the currently visible rows, have been covered.&lt;/p&gt;
-
-  &lt;p&gt;A row is considered covered if it is present in the &lt;span&gt;pending
-  &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt;, or if the &lt;code
-  title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; method is invoked with
-  a range that includes the row in question.&lt;/p&gt;
-
-  &lt;p&gt;A cell is considered covered if it is present in the
-  &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells list&lt;/span&gt;, or if the
-  &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; method is
-  invoked with a range that includes the row in question and a list of
-  columns that includes the cell's column, or if the &lt;code
-  title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; method is invoked
-  with a list of rows and columns that intersects the cell in
-  question. However, the &lt;code
-  title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; method can only be
-  used if the row is already present in the &lt;span&gt;display order sparse
-  data list&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; method,
-  if used, must be invoked with five arguments. The first argument
-  must be the index in the &lt;span&gt;display order sparse data list&lt;/span&gt;
-  to the first row that the user agent is requesting, known as the
-  &lt;i&gt;anchor row&lt;/i&gt;. The second argument must be the number of
-  consecutive cells for which the user agent is requesting
-  information. The third argument must be the &lt;code&gt;RowID&lt;/code&gt; of
-  the row that is the nearest ancestor in the &lt;span&gt;display order
-  sparse data &lt;em&gt;tree&lt;/em&gt;&lt;/span&gt; of the anchor row. If this is the
-  &lt;code&gt;datagrid&lt;/code&gt;, then the &lt;code&gt;RowID&lt;/code&gt; object must be an
-  empty array. The fourth argument must be the display order position
-  of the anchor row in the &lt;span&gt;display order sparse data
-  tree&lt;/span&gt;, assuming that the row identified in the third argument
-  is indeed the anchor row's parent row. The fifth and final argument
-  must be an array of the identifiers of the columns for which the
-  user agent is requesting information, in the order they were added
-  to the &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;
-
-  &lt;p&gt;As the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; method
-  is invoked, the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; rows list&lt;/span&gt;
-  must be updated to include the rows for which information has been
-  requested, excluding rows for which information is already
-  available; and the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells
-  list&lt;/span&gt; must be updated to include the cells for which
-  information has been requested on those rows.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;code title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; method,
-  if used, must be invoked with two arguments. The first argument must
-  be an array of &lt;code&gt;RowID&lt;/code&gt; objects identifying the rows for
-  which information is being requested. The second argument must be an
-  array of the identifiers of the columns for which the user agent is
-  requesting information, in the order they were added to the
-  &lt;code&gt;datagrid&lt;/code&gt;.&lt;/p&gt;
-
-  &lt;p&gt;As the &lt;code title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt;
-  method is invoked, the &lt;span&gt;pending &lt;code&gt;datagrid&lt;/code&gt; cells
-  list&lt;/span&gt; must be updated to include the cells for which
-  information has been requested.&lt;/p&gt;
-
-  &lt;p&gt;Calls to these methods should be batched so that the rows and
-  cells to be covered are handled by the fewest number of calls to
-  these methods as possible. To this end, user agents may invoke the
-  &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; method for a set
-  of rows that includes some rows that are already in the
-  &lt;span&gt;display order sparse data list&lt;/span&gt;, and similarly may
-  invoke the &lt;code title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt;
-  method with row/column combinations that cover some cells for which
-  data is already known. Generally, however, user agents should avoid
-  invoking these methods with arguments that cause information to be
-  requested when it has already been requested or is already
-  known.&lt;/p&gt;
-
-  &lt;div class=&quot;example&quot;&gt;
-
-   &lt;p&gt;For example, consider a case represented by the following table,
-   where the cells marked &quot;Yes&quot; indicate that the data has already
-   been obtained, the cells marked &quot;Pending&quot; indicate that the data
-   has been previously requested but not yet obtained, and the cells
-   with just a dash indicate that no information has ever been
-   obtained, or any information that had been obtained has now been
-   discarded.&lt;/p&gt;
-
-   &lt;table&gt;
-    &lt;tr&gt; &lt;td&gt;        &lt;th&gt; Row   &lt;th&gt; Column A  &lt;th&gt; Column B
-    &lt;tr&gt; &lt;th&gt; Row 1  &lt;td&gt; -     &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 2  &lt;td&gt; Yes   &lt;td&gt; Yes       &lt;td&gt; Yes
-    &lt;tr&gt; &lt;th&gt; Row 3  &lt;td&gt; Yes   &lt;td&gt; Yes       &lt;td&gt; Yes
-    &lt;tr&gt; &lt;th&gt; Row 4  &lt;td&gt; Yes   &lt;td&gt; Yes       &lt;td&gt; Yes
-    &lt;tr&gt; &lt;th&gt; Row 5  &lt;td&gt; -     &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 6  &lt;td&gt; -     &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 7  &lt;td&gt; Yes   &lt;td&gt; Pending   &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 8  &lt;td&gt; Yes   &lt;td&gt; Pending   &lt;td&gt; Pending
-   &lt;/table&gt;
-
-   &lt;p&gt;Thus, rows 2, 3, 4, 7, and 8 are already covered, as are the
-   cells from those rows except for the cell in column B of row 7.&lt;/p&gt;
-
-   &lt;p&gt;Now consider what happens if all of these rows become visible at
-   once. The user agent has several choices, including (but not
-   limited to) the following:&lt;/p&gt;
-
-   &lt;ul&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt;
-    method for rows 1 through 8 and columns A and B all at once.&lt;/li&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt;
-    method for row 1, then fire it again for rows 5 through 7.&lt;/li&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt;
-    method for row 1, then fire it again for rows 5 and 6, and then
-    fire the &lt;code title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt;
-    method for row 7 column B.&lt;/li&gt;
-
-   &lt;/ul&gt;
-
-   &lt;p&gt;All three options are allowed, but the latter two are preferable
-   to the former, as they minimise the amount of redundant information
-   requested.&lt;/p&gt;
-
-   &lt;p&gt;In any case, the data model now looks like this:&lt;/p&gt;
-
-   &lt;table&gt;
-    &lt;tr&gt; &lt;td&gt;        &lt;th&gt; Row     &lt;th&gt; Column A  &lt;th&gt; Column B  &lt;th&gt; Column C
-    &lt;tr&gt; &lt;th&gt; Row 1  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 2  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 3  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 4  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 5  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 6  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 7  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 8  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; -
-   &lt;/table&gt;
-
-   &lt;p&gt;Now consider the case where a third column, column C, is added
-   to the data model. The user agent once again has several choices,
-   including (but not limited to) the following:&lt;/p&gt;
-
-   &lt;ul&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt;
-    method for rows 1 through 8 again, this time listing just column
-    C.&lt;/li&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt;
-    method for row 1, then fire it again for rows 5 and 6, and then
-    fire the &lt;code title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt;
-    method for the other rows (in all three cases, listing just column
-    C).&lt;/li&gt;
-
-   &lt;/ul&gt;
-
-   &lt;p&gt;The two options here are as bad as each other; the former
-   involves a lot of overlap, but the latter involves a lot of method
-   calls. Unfortunately the user agent can't do the obvious thing,
-   namely just to invoke the &lt;code
-   title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; method for all the
-   rows listing just column C, because it doesn't have the row
-   information for all the rows yet (rows 1, 5 and 6 are still
-   pending).&lt;/p&gt;
-
-   &lt;p&gt;In any case, the data model now looks like this:&lt;/p&gt;
-
-   &lt;table&gt;
-    &lt;tr&gt; &lt;td&gt;        &lt;th&gt; Row     &lt;th&gt; Column A  &lt;th&gt; Column B  &lt;th&gt; Column C
-    &lt;tr&gt; &lt;th&gt; Row 1  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 2  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 3  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 4  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 5  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 6  &lt;td&gt; Pending &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 7  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 8  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-   &lt;/table&gt;
-
-   &lt;p&gt;If at this point the user scrolls around anywhere within this
-   &lt;code&gt;datagrid&lt;/code&gt;, the user agent won't fire the &lt;code
-   title=&quot;dom-listener-getRows&quot;&gt;getRows()&lt;/code&gt; and &lt;code
-   title=&quot;dom-listener-getCells&quot;&gt;getCells()&lt;/code&gt; methods, because
-   all of the rows and cells are covered.&lt;/p&gt;
-
-   &lt;p&gt;Now consider the case where the user agent receives row
-   information, but no cell information, for rows 1, 5, and 6:&lt;/p&gt;
-
-   &lt;table&gt;
-    &lt;tr&gt; &lt;td&gt;        &lt;th&gt; Row     &lt;th&gt; Column A  &lt;th&gt; Column B  &lt;th&gt; Column C
-    &lt;tr&gt; &lt;th&gt; Row 1  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 2  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 3  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 4  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 5  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 6  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 7  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-    &lt;tr&gt; &lt;th&gt; Row 8  &lt;td&gt; Yes     &lt;td&gt; Pending   &lt;td&gt; Pending   &lt;td&gt; Pending
-   &lt;/table&gt;
-
-   &lt;p&gt;The user agent still won't fire any methods when the user
-   scrolls, because the data is still covered. But if the script then
-   calls the &lt;code title=&quot;dom-datagrid-renotify&quot;&gt;renotify()&lt;/code&gt;
-   method, the &quot;Pending&quot; flags would get reset, and the model would
-   now look like this:&lt;/p&gt;
-
-   &lt;table&gt;
-    &lt;tr&gt; &lt;td&gt;        &lt;th&gt; Row     &lt;th&gt; Column A  &lt;th&gt; Column B  &lt;th&gt; Column C
-    &lt;tr&gt; &lt;th&gt; Row 1  &lt;td&gt; Yes     &lt;td&gt; -         &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 2  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 3  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 4  &lt;td&gt; Yes     &lt;td&gt; Yes       &lt;td&gt; Yes       &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 5  &lt;td&gt; Yes     &lt;td&gt; -         &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 6  &lt;td&gt; Yes     &lt;td&gt; -         &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 7  &lt;td&gt; Yes     &lt;td&gt; -         &lt;td&gt; -         &lt;td&gt; -
-    &lt;tr&gt; &lt;th&gt; Row 8  &lt;td&gt; Yes     &lt;td&gt; -         &lt;td&gt; -         &lt;td&gt; -
-   &lt;/table&gt;
-
-   &lt;p&gt;Now, assuming that all eight rows and all three columns are
-   still visible, the user agent has the following choices (amongst
-   others):&lt;/p&gt;
-
-   &lt;ul&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getCells()&lt;/code&gt;
-    method for rows 1 through 8, listing all three columns.&lt;/li&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getCells()&lt;/code&gt;
-    method for rows 1 and 5 through 8, listing all three columns, and
-    then fire the method for rows 2 through 4, listing just column
-    C.&lt;/li&gt;
-
-    &lt;li&gt;Fire the &lt;code title=&quot;dom-listener-getRows&quot;&gt;getCells()&lt;/code&gt;
-    method for rows 1 and 5 through 8, listing just columns A abd B,
-    and then fire the method for rows 1 through 8, listing just column
-    C.&lt;/li&gt;
-
-   &lt;/ul&gt;
-
-   &lt;p&gt;Here the latter two are preferable because they result in less
-   overlap than the first.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;span&gt;task source&lt;/span&gt; for tasks queued on behalf of a
-  &lt;code&gt;datagrid&lt;/code&gt; is the &lt;span&gt;DOM manipulation task
-  source&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-  &lt;h5&gt;Listening to notifications from the &lt;code&gt;datagrid&lt;/code&gt;&lt;/h5&gt;
-
-  &lt;p&gt;&lt;i&gt;The conformance criteria in this section apply to any
-  implementation of the &lt;code&gt;DataGridListener&lt;/code&gt; interface,
-  including (and most commonly) the content author's
-  implementation(s).&lt;/i&gt;&lt;/p&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;// To be implemented by Web authors as a JS object
-[NoInterfaceObject]
-interface &lt;dfn&gt;DataGridListener&lt;/dfn&gt; {
-  void &lt;span title=&quot;dom-listener-initialize&quot;&gt;initialize&lt;/span&gt;(in &lt;span&gt;HTMLDataGridElement&lt;/span&gt; datagrid);
-
-  void &lt;span title=&quot;dom-listener-getRows&quot;&gt;getRows&lt;/span&gt;(in unsigned long rowIndex, in unsigned long rowCount, in &lt;span&gt;RowID&lt;/span&gt; parentRow, in unsigned long position, in &lt;span&gt;ColumnList&lt;/span&gt; columns);
-  void &lt;span title=&quot;dom-listener-getCells&quot;&gt;getCells&lt;/span&gt;(in &lt;span&gt;RowIDList&lt;/span&gt; rows, in &lt;span&gt;ColumnList&lt;/span&gt; columns);
-  void &lt;span title=&quot;dom-listener-rowOpened&quot;&gt;rowOpened&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in boolean rowCountNeeded);
-  void &lt;span title=&quot;dom-listener-rowClosed&quot;&gt;rowClosed&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row);
-
-  void &lt;span title=&quot;dom-listener-cellChanged&quot;&gt;cellChanged&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in &lt;span&gt;Column&lt;/span&gt; column, in any newValue, in any prevValue);
-  &lt;span&gt;HTMLMenuElement&lt;/span&gt; &lt;span title=&quot;dom-listener-getRowMenu&quot;&gt;getRowMenu&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row);
-&lt;!- -vsDGDND
-  boolean &lt;span title=&quot;dom-listener-canDrop&quot;&gt;canDrop&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in &lt;span&gt;RowID&lt;/span&gt; position, data);
-  boolean &lt;span title=&quot;dom-listener-dropped&quot;&gt;dropped&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in &lt;span&gt;RowID&lt;/span&gt; position, data);
-- -&gt;&lt;!- -v2DGPA
-  void &lt;span title=&quot;dom-listener-performAction&quot;&gt;performAction&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in DOMString action);
-- -&gt;};&lt;/pre&gt;
-
-  &lt;p&gt;The &lt;code&gt;DataGridListener&lt;/code&gt; interface, once implemented by
-  an object in a script and hooked up to a &lt;code&gt;datagrid&lt;/code&gt; using
-  the &lt;code title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; IDL
-  attribute, receives notifications when the &lt;code&gt;datagrid&lt;/code&gt;
-  needs information (such as which rows exist) for display.&lt;/p&gt;
-
-  &lt;p&gt;The following methods may be usefully implemented:&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-initialize&quot;&gt;&lt;code&gt;initialize(&lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element (the one given by
-    the &lt;var title=&quot;&quot;&gt;datagrid&lt;/var&gt; argument) when the &lt;code
-    title=&quot;dom-datagrid-listener&quot;&gt;listener&lt;/code&gt; attribute is
-    set.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-getRows&quot;&gt;&lt;code&gt;getRows(&lt;var title=&quot;&quot;&gt;rowIndex&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rowCount&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;parentRow&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;columns&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element when the user agent
-    finds itself needing to render rows for which it is lacking
-    information.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;rowIndex&lt;/var&gt; argument gives the flattened
-    index of the first row for which it needs information, ignoring
-    the tree structure of the &lt;code&gt;datagrid&lt;/code&gt; model, where zero
-    is the first row of the entire tree.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;rowCount&lt;/var&gt; argument gives the number of
-    rows for which the user agent would like information.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;parentRow&lt;/var&gt; argument gives the
-    &lt;code&gt;RowID&lt;/code&gt; object identifying the nearest ancestor of the
-    first row that the user agent is aware of. After the sort order
-    has changed, this will typically be the root of the tree
-    (identified by a &lt;code&gt;RowID&lt;/code&gt; object consisting of an empty
-    array).
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;columns&lt;/var&gt; argument gives the columns for
-    which the user agent is lacking information, as an array of column
-    identifiers (as passed to &lt;code
-    title=&quot;dom-datagrid-addColumn&quot;&gt;addColumn()&lt;/code&gt;).&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-getCells&quot;&gt;&lt;code&gt;getCells(&lt;var title=&quot;&quot;&gt;rows&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;columns&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element when the user agent
-    finds itself needing to render cells for which it is lacking
-    information in rows that it does know about.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;rows&lt;/var&gt; argument gives an array of
-    &lt;code&gt;RowID&lt;/code&gt; objects identifying the various rows for which
-    the user agent is lacking information.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;columns&lt;/var&gt; argument gives the columns for
-    which the user agent is lacking information, as an array of column
-    identifiers (as passed to &lt;code
-    title=&quot;dom-datagrid-addColumn&quot;&gt;addColumn()&lt;/code&gt;).&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-rowOpened&quot;&gt;&lt;code&gt;rowOpened(&lt;var title=&quot;&quot;&gt;row&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;rowCountNeeded&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element when the user has
-    opened a row.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; argument gives an
-    &lt;code&gt;RowID&lt;/code&gt; object identifying the row that was opened.&lt;/p&gt;
-
-    &lt;p&gt;If the user agent also knows how many children that row has,
-    then the &lt;var title=&quot;&quot;&gt;rowCountNeeded&lt;/var&gt; argument will be
-    false. Otherwise, the argument will be true, and the row will
-    remain closed until the &lt;code
-    title=&quot;dom-datagrid-setRows&quot;&gt;setRows()&lt;/code&gt; method is called
-    with an accurate row count.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-rowClosed&quot;&gt;&lt;code&gt;rowClosed(&lt;var title=&quot;&quot;&gt;row&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element when the user has
-    opened a row.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; argument gives an
-    &lt;code&gt;RowID&lt;/code&gt; object identifying the row that was closed.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-cellChanged&quot;&gt;&lt;code&gt;cellChanged(&lt;var title=&quot;&quot;&gt;row&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;column&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;newValue&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;prevValue&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;Called by the &lt;code&gt;datagrid&lt;/code&gt; element when the user has
-    edited a cell or checked a check box in a cell.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; argument gives an
-    &lt;code&gt;RowID&lt;/code&gt; object identifying the row of the cell, and the
-    &lt;var title=&quot;&quot;&gt;column&lt;/var&gt; argument gives the identifier of the
-    cell's column.&lt;/p&gt;
-
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;newValue&lt;/var&gt; argument gives the new value,
-    and the &lt;var title=&quot;&quot;&gt;prevValue&lt;/var&gt; argument gives the previous
-    value.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-listener-getRowMenu&quot;&gt;&lt;code&gt;getRowMenu(&lt;var title=&quot;&quot;&gt;row&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;Must return an &lt;code&gt;HTMLMenuElement&lt;/code&gt; object that is to
-   be used as a context menu for row &lt;var title=&quot;&quot;&gt;row&lt;/var&gt;, or null
-   if there is no particular context menu. May be omitted if none of
-   the rows have a special context menu. As this method is called
-   immediately before showing the menu in question, no precautions
-   need to be taken if the return value of this method changes.&lt;/dd&gt;
-
-   &lt;!- -v2DGDND, v2DFPA- -&gt;
-
-  &lt;/dl&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;p&gt;Objects that implement the &lt;code&gt;DataGridListener&lt;/code&gt;
-  interface may omit any or all of the methods. When a method is
-  omitted, a user agent intending to call that method must instead
-  skip the method call, and must assume that the method's return value
-  is null.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-
-&lt;!- - v2DGS: &lt;datagrid&gt; selection (search for the bits marked &quot;...&quot; to see what needs filling in, at a minimum)
-
-  &lt;h5&gt;The selection&lt;/h5&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;DataGridSelection&lt;/dfn&gt; {
-  readonly attribute unsigned long &lt;span title=&quot;dom-DataGridSelection-length&quot;&gt;length&lt;/span&gt;;
-  getter &lt;span&gt;RowID&lt;/span&gt; &lt;span title=&quot;dom-DataGridSelection-item&quot;&gt;item&lt;/span&gt;(in unsigned long index);
-  boolean &lt;span title=&quot;dom-DataGridSelection-isSelected&quot;&gt;isSelected&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row);
-  void &lt;span title=&quot;dom-DataGridSelection-setSelected&quot;&gt;setSelected&lt;/span&gt;(in &lt;span&gt;RowID&lt;/span&gt; row, in boolean selected);
-  void &lt;span title=&quot;dom-DataGridSelection-selectAll&quot;&gt;selectAll&lt;/span&gt;();
-  void &lt;span title=&quot;dom-DataGridSelection-clear&quot;&gt;clear&lt;/span&gt;();
-};&lt;/pre&gt;
-
-  &lt;dl class=&quot;domintro&quot;&gt;
-
-   ...
-
-  &lt;/dl&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;p&gt;Each &lt;code&gt;datagrid&lt;/code&gt; element must keep track of which rows
-  are currently selected. Initially, no rows are selected. This can be
-  changed using the methods described in this section.&lt;/p&gt;
-
-  &lt;p&gt;The selection of a &lt;code&gt;datagrid&lt;/code&gt; is represented by its
-  &lt;dfn title=&quot;dom-datagrid-selection&quot;&gt;&lt;code&gt;selection&lt;/code&gt;&lt;/dfn&gt; IDL
-  attribute, which must be a &lt;code&gt;DataGridSelection&lt;/code&gt; object.&lt;/p&gt;
-
-  &lt;p&gt;&lt;code&gt;DataGridSelection&lt;/code&gt; objects represent the rows in the
-  selection. In the selection the rows must be ordered in their
-  natural order (and not, e.g., the display order). A row with an
-  ancestor that is closed cannot be selected.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DataGridSelection-length&quot;&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the number of rows currently present in the
-  selection. This is the &lt;var
-  title=&quot;dom-DataGridSelection-length&quot;&gt;length&lt;/var&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The object's &lt;span&gt;supported property indices&lt;/span&gt; are the
-  numbers in the range zero to &lt;span title=&quot;&quot;&gt;&lt;var
-  title=&quot;dom-DataGridSelection-length&quot;&gt;length&lt;/var&gt;-1&lt;/span&gt;, unless
-  the &lt;var title=&quot;dom-DataGridSelection-length&quot;&gt;length&lt;/var&gt; is zero,
-  in which case there are no &lt;span&gt;supported property
-  indices&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-DataGridSelection-item&quot;&gt;&lt;code&gt;item(&lt;var
-  title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return a
-  &lt;code&gt;RowID&lt;/code&gt; object identifying the &lt;var
-  title=&quot;&quot;&gt;index&lt;/var&gt;th row in the selection. If the argument is out
-  of range (less than zero or greater than the number of selected rows
-  minus one), then it must raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt;
-  exception. &lt;a href=&quot;#refsDOMCORE&quot;&gt;[DOMCORE]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DataGridSelection-isSelected&quot;&gt;&lt;code&gt;isSelected()&lt;/code&gt;&lt;/dfn&gt;
-  method must return the selected state of the row specified by its
-  argument. If the specified row is in the &lt;span&gt;natural order sparse
-  data tree&lt;/span&gt; and is selected, the method must return true,
-  otherwise it must return false.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DataGridSelection-setSelected&quot;&gt;&lt;code&gt;setSelected()&lt;/code&gt;&lt;/dfn&gt;
-  method takes two arguments, &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; and &lt;var
-  title=&quot;&quot;&gt;selected&lt;/var&gt;. When invoked, it must set the selection
-  state of row &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; to selected if &lt;var
-  title=&quot;&quot;&gt;selected&lt;/var&gt; is true, and unselected if it is false. If
-  &lt;var title=&quot;&quot;&gt;row&lt;/var&gt; does not specify a row in the &lt;span&gt;natural
-  order sparse data tree&lt;/span&gt; ...
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DataGridSelection-selectAll&quot;&gt;&lt;code&gt;selectAll()&lt;/code&gt;&lt;/dfn&gt;
-  method must ...
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-DataGridSelection-clear&quot;&gt;&lt;code&gt;clear()&lt;/code&gt;&lt;/dfn&gt;
-  method must mark all the rows in the &lt;code&gt;datagrid&lt;/code&gt; as not
-  selected. After a call to &lt;code
-  title=&quot;dom-DataGridSelection-clear&quot;&gt;clear()&lt;/code&gt;, the &lt;code
-  title=&quot;dom-DataGridSelection-length&quot;&gt;length&lt;/code&gt; attribute will
-  return zero.&lt;/p&gt;
-
-  &lt;p&gt;If the &lt;code&gt;datagrid&lt;/code&gt; element has a &lt;code
-  title=&quot;attr-datagrid-multiple&quot;&gt;multiple&lt;/code&gt; attribute, then the
-  user agent should allow the user to select any number of rows (zero
-  or more). If the attribute is not present, then the user agent
-  should allow the user to select a row, and must not allow the user
-  to select more than a single row at a time; selecting another one
-  must unselect all the other rows.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;This only applies to the user. Scripts can select
-  multiple rows even when the &lt;code
-  title=&quot;attr-datagrid-multiple&quot;&gt;multiple&lt;/code&gt; attribute is
-  absent.&lt;/p&gt;
-
-  ...event on selection change?...
-
-  &lt;/div&gt;
-
-  &lt;p class=&quot;note&quot;&gt;The &lt;code&gt;DataGridSelection&lt;/code&gt; interface has no
-  relation to the &lt;code&gt;Selection&lt;/code&gt; interface.&lt;/p&gt;
-
-- -&gt;
-
-
-&lt;!- -vsDGDND
-  &lt;h5&gt;Drag and drop in &lt;code&gt;datagrid&lt;/code&gt;s&lt;/h5&gt;
-
-  &lt;p&gt;&lt;i&gt;This section only applies to interactive user agents.&lt;/i&gt;&lt;/p&gt;
-
-  ...define drag and drop in datagrids; selectiondraggable...
-- -&gt;
-
---&gt;
-
   &lt;h4 id=&quot;the-command&quot;&gt;The &lt;dfn&gt;&lt;code&gt;command&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=&quot;element&quot;&gt;
@@ -86760,13 +84156,12 @@
   tag&lt;/span&gt; may be omitted if the &lt;code&gt;p&lt;/code&gt; element is
   immediately followed by an &lt;code&gt;address&lt;/code&gt;,
   &lt;code&gt;article&lt;/code&gt;, &lt;code&gt;aside&lt;/code&gt;, &lt;code&gt;blockquote&lt;/code&gt;,
-  &lt;!--v2DATAGRID &lt;code&gt;datagrid&lt;/code&gt;,--&gt; &lt;code&gt;dir&lt;/code&gt;,
-  &lt;code&gt;div&lt;/code&gt;, &lt;code&gt;dl&lt;/code&gt;, &lt;code&gt;fieldset&lt;/code&gt;,
-  &lt;code&gt;footer&lt;/code&gt;, &lt;code&gt;form&lt;/code&gt;, &lt;code&gt;h1&lt;/code&gt;,
-  &lt;code&gt;h2&lt;/code&gt;, &lt;code&gt;h3&lt;/code&gt;, &lt;code&gt;h4&lt;/code&gt;, &lt;code&gt;h5&lt;/code&gt;,
-  &lt;code&gt;h6&lt;/code&gt;, &lt;code&gt;header&lt;/code&gt;, &lt;code&gt;hgroup&lt;/code&gt;,
-  &lt;code&gt;hr&lt;/code&gt;, &lt;code&gt;menu&lt;/code&gt;, &lt;code&gt;nav&lt;/code&gt;,
-  &lt;code&gt;ol&lt;/code&gt;, &lt;code&gt;p&lt;/code&gt;, &lt;code&gt;pre&lt;/code&gt;,
+  &lt;code&gt;dir&lt;/code&gt;, &lt;code&gt;div&lt;/code&gt;, &lt;code&gt;dl&lt;/code&gt;,
+  &lt;code&gt;fieldset&lt;/code&gt;, &lt;code&gt;footer&lt;/code&gt;, &lt;code&gt;form&lt;/code&gt;,
+  &lt;code&gt;h1&lt;/code&gt;, &lt;code&gt;h2&lt;/code&gt;, &lt;code&gt;h3&lt;/code&gt;, &lt;code&gt;h4&lt;/code&gt;,
+  &lt;code&gt;h5&lt;/code&gt;, &lt;code&gt;h6&lt;/code&gt;, &lt;code&gt;header&lt;/code&gt;,
+  &lt;code&gt;hgroup&lt;/code&gt;, &lt;code&gt;hr&lt;/code&gt;, &lt;code&gt;menu&lt;/code&gt;,
+  &lt;code&gt;nav&lt;/code&gt;, &lt;code&gt;ol&lt;/code&gt;, &lt;code&gt;p&lt;/code&gt;, &lt;code&gt;pre&lt;/code&gt;,
   &lt;code&gt;section&lt;/code&gt;, &lt;code&gt;table&lt;/code&gt;, or &lt;code&gt;ul&lt;/code&gt;,
   element, or if there is no more content in the parent element and
   the parent element is not an &lt;code&gt;a&lt;/code&gt; element.&lt;/p&gt;
@@ -88347,10 +85742,9 @@
    &lt;code&gt;blockquote&lt;/code&gt;, &lt;code&gt;body&lt;/code&gt;, &lt;code&gt;br&lt;/code&gt;,
    &lt;code&gt;button&lt;/code&gt;, &lt;code&gt;caption&lt;/code&gt;, &lt;code&gt;center&lt;/code&gt;,
    &lt;code&gt;col&lt;/code&gt;, &lt;code&gt;colgroup&lt;/code&gt;, &lt;code&gt;command&lt;/code&gt;,
-   &lt;!--v2DDATAGRID &lt;code&gt;datagrid&lt;/code&gt;,--&gt; &lt;code&gt;dd&lt;/code&gt;,
-   &lt;code&gt;details&lt;/code&gt;, &lt;code&gt;dir&lt;/code&gt;, &lt;code&gt;div&lt;/code&gt;,
-   &lt;code&gt;dl&lt;/code&gt;, &lt;code&gt;dt&lt;/code&gt;, &lt;code&gt;embed&lt;/code&gt;,
-   &lt;code&gt;fieldset&lt;/code&gt;, &lt;code&gt;figcaption&lt;/code&gt;,
+   &lt;code&gt;dd&lt;/code&gt;, &lt;code&gt;details&lt;/code&gt;, &lt;code&gt;dir&lt;/code&gt;,
+   &lt;code&gt;div&lt;/code&gt;, &lt;code&gt;dl&lt;/code&gt;, &lt;code&gt;dt&lt;/code&gt;,
+   &lt;code&gt;embed&lt;/code&gt;, &lt;code&gt;fieldset&lt;/code&gt;, &lt;code&gt;figcaption&lt;/code&gt;,
    &lt;code&gt;figure&lt;/code&gt;, &lt;code&gt;footer&lt;/code&gt;, &lt;code&gt;form&lt;/code&gt;,
    &lt;code&gt;frame&lt;/code&gt;, &lt;code&gt;frameset&lt;/code&gt;, &lt;code&gt;h1&lt;/code&gt;,
    &lt;code&gt;h2&lt;/code&gt;, &lt;code&gt;h3&lt;/code&gt;, &lt;code&gt;h4&lt;/code&gt;, &lt;code&gt;h5&lt;/code&gt;,
@@ -92298,10 +89692,9 @@
 
    &lt;!-- the normal ones --&gt;
    &lt;dt&gt;A start tag whose tag name is one of: &quot;address&quot;, &quot;article&quot;,
-   &quot;aside&quot;, &quot;blockquote&quot;, &quot;center&quot;, &lt;!--v2DATAGRID&quot;datagrid&quot;,--&gt;
-   &quot;details&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;, &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;,
-   &quot;footer&quot;, &quot;header&quot;, &quot;hgroup&quot;, &quot;menu&quot;, &quot;nav&quot;, &quot;ol&quot;, &quot;p&quot;, &quot;section&quot;,
-   &quot;summary&quot;, &quot;ul&quot;&lt;/dt&gt;
+   &quot;aside&quot;, &quot;blockquote&quot;, &quot;center&quot;, &quot;details&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;,
+   &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;, &quot;footer&quot;, &quot;header&quot;, &quot;hgroup&quot;,
+   &quot;menu&quot;, &quot;nav&quot;, &quot;ol&quot;, &quot;p&quot;, &quot;section&quot;, &quot;summary&quot;, &quot;ul&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
     &lt;!-- As of May 2008 this doesn't match any browser exactly, but is
@@ -92528,11 +89921,10 @@
 
    &lt;!-- the normal ones --&gt;
    &lt;dt&gt;An end tag whose tag name is one of: &quot;address&quot;, &quot;article&quot;,
-   &quot;aside&quot;, &quot;blockquote&quot;, &quot;button&quot;, &quot;center&quot;,
-   &lt;!--v2DATAGRID&quot;datagrid&quot;,--&gt; &quot;details&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;,
-   &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;, &quot;footer&quot;, &quot;header&quot;, &quot;hgroup&quot;,
-   &quot;listing&quot;, &quot;menu&quot;, &quot;nav&quot;, &quot;ol&quot;, &quot;pre&quot;, &quot;section&quot;, &quot;summary&quot;,
-   &quot;ul&quot;&lt;/dt&gt;
+   &quot;aside&quot;, &quot;blockquote&quot;, &quot;button&quot;, &quot;center&quot;, &quot;details&quot;, &quot;dir&quot;, &quot;div&quot;,
+   &quot;dl&quot;, &quot;fieldset&quot;, &quot;figcaption&quot;, &quot;figure&quot;, &quot;footer&quot;, &quot;header&quot;,
+   &quot;hgroup&quot;, &quot;listing&quot;, &quot;menu&quot;, &quot;nav&quot;, &quot;ol&quot;, &quot;pre&quot;, &quot;section&quot;,
+   &quot;summary&quot;, &quot;ul&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
     &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
@@ -99089,22 +96481,8 @@
   &lt;/div&gt;
 
 
-&lt;!--v2DATAGRID
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;h4&gt;The &lt;code&gt;datagrid&lt;/code&gt; element&lt;/h4&gt;
-
-  This section will probably include details on how to render DATAGRID
-  (including &lt;span id=&quot;datagridPseudos&quot;&gt;its pseudo-elements&lt;/span&gt;),
-  drag-and-drop, etc, in a visual medium, in concert with
-  CSS. Implementation experience is desired before this section is
-  filled in.
-
-  &lt;/div&gt;
---&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
   &lt;h4&gt;The &lt;code&gt;details&lt;/code&gt; element&lt;/h4&gt;
 
   &lt;pre class=&quot;css&quot;&gt;@namespace url(<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>);
@@ -104291,7 +101669,6 @@
       &lt;code&gt;cite&lt;/code&gt;;
       &lt;code&gt;code&lt;/code&gt;;
       &lt;code&gt;command&lt;/code&gt;;
-      &lt;!-- v2DATAGRID &lt;code&gt;datagrid&lt;/code&gt;; --&gt;
       &lt;code&gt;datalist&lt;/code&gt;;
       &lt;code&gt;del&lt;/code&gt;;
       &lt;code&gt;details&lt;/code&gt;;
@@ -104469,7 +101846,6 @@
      &lt;td&gt;
       &lt;code&gt;a&lt;/code&gt;;
       &lt;code&gt;button&lt;/code&gt;;
-      &lt;!-- v2DATAGRID &lt;code&gt;datagrid&lt;/code&gt;; --&gt;
       &lt;code&gt;details&lt;/code&gt;;
       &lt;code&gt;embed&lt;/code&gt;;
       &lt;code&gt;iframe&lt;/code&gt;;
@@ -104490,7 +101866,6 @@
      &lt;td&gt;
       &lt;code&gt;blockquote&lt;/code&gt;;
       &lt;code&gt;body&lt;/code&gt;;
-      &lt;!-- v2DATAGRID &lt;code&gt;datagrid&lt;/code&gt;; --&gt;
       &lt;code&gt;details&lt;/code&gt;;
       &lt;code&gt;fieldset&lt;/code&gt;;
       &lt;code&gt;figure&lt;/code&gt;;


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012510.html">[html5] r5643 - [giow] (2) Define how location.href='foo' aborts	parsing. Fixing http://www.w3.o [...]
</A></li>
	<LI>Next message: <A HREF="012512.html">[html5] r5645 - [e] (0) dropzone 0/4: placeholder Fixing	http://www.w3.org/Bugs/Public/show_bug. [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12511">[ date ]</a>
              <a href="thread.html#12511">[ thread ]</a>
              <a href="subject.html#12511">[ subject ]</a>
              <a href="author.html#12511">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
