<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r4828 - [t] (0) Allow server to specify cookie-related	fields. (Editorial: Also, change  [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r4828%20-%20%5Bt%5D%20%280%29%20Allow%20server%20to%20specify%20cookie-related%0A%09fields.%20%28Editorial%3A%20Also%2C%20change%20%20%5B...%5D&In-Reply-To=%3C20100305015602.A432B1C85130%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011695.html">
   <LINK REL="Next"  HREF="011697.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r4828 - [t] (0) Allow server to specify cookie-related	fields. (Editorial: Also, change  [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r4828%20-%20%5Bt%5D%20%280%29%20Allow%20server%20to%20specify%20cookie-related%0A%09fields.%20%28Editorial%3A%20Also%2C%20change%20%20%5B...%5D&In-Reply-To=%3C20100305015602.A432B1C85130%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r4828 - [t] (0) Allow server to specify cookie-related	fields. (Editorial: Also, change  [...]">whatwg at whatwg.org
       </A><BR>
    <I>Thu Mar  4 17:56:02 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="011695.html">[html5] r4827 - [e] (0) stray quote Fixing	http://www.w3.org/Bugs/Public/show_bug.cgi?id=9185
</A></li>
        <LI>Next message: <A HREF="011697.html">[html5] r4829 - [giow] (0) very early draft idea of how to do the	API part of peer-to-peer commu [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11696">[ date ]</a>
              <a href="thread.html#11696">[ thread ]</a>
              <a href="subject.html#11696">[ subject ]</a>
              <a href="author.html#11696">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2010-03-04 17:56:01 -0800 (Thu, 04 Mar 2010)
New Revision: 4828

Modified:
   complete.html
   source
Log:
[t] (0) Allow server to specify cookie-related fields. (Editorial: Also, change the server-side rules to use &lt;sub&gt; like the client-side rules.)

Modified: complete.html
===================================================================
--- complete.html	2010-03-05 01:37:44 UTC (rev 4827)
+++ complete.html	2010-03-05 01:56:01 UTC (rev 4828)
@@ -67613,7 +67613,7 @@
   client's handshake to verify the correctness of the values.&lt;/p&gt;
 
   &lt;p&gt;Option fields can also be included. In this version of the
-  protocol, the only option field is &lt;code title=http-sec-websocket-protocol&gt;&lt;a href=#sec-websocket-protocol&gt;Sec-WebSocket-Protocol&lt;/a&gt;&lt;/code&gt;,
+  protocol, the main option field is &lt;code title=http-sec-websocket-protocol&gt;&lt;a href=#sec-websocket-protocol&gt;Sec-WebSocket-Protocol&lt;/a&gt;&lt;/code&gt;,
   which indicates the subprotocol that the server speaks. Web browsers
   verify that the server included the same value as was specified in
   the &lt;code&gt;&lt;a href=#websocket&gt;WebSocket&lt;/a&gt;&lt;/code&gt; constructor, so a server that speaks
@@ -67622,6 +67622,9 @@
 
   &lt;pre&gt;Sec-WebSocket-Protocol: chat&lt;/pre&gt;
 
+  &lt;p&gt;The server can also set cookie-related option fields to
+  &lt;em&gt;set&lt;/em&gt; cookies, as in HTTP.&lt;/p&gt;
+
   &lt;p&gt;After the fields, the server sends the aforementioned MD5 sum, a
   16 byte (128 bit) value, shown here as if interpreted as ASCII:&lt;/p&gt;
 
@@ -69158,17 +69161,17 @@
      value. The empty string is not the same as the null value for
      these purposes.&lt;/dd&gt;
 
-     &lt;dt&gt;&lt;var title=&quot;&quot;&gt;key1&lt;/var&gt;&lt;/dt&gt;
+     &lt;dt&gt;&lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;/dt&gt;
 
      &lt;dd&gt;The value of the &quot;&lt;code title=http-sec-websocket-key1&gt;&lt;a href=#sec-websocket-key1-and-sec-websocket-key2&gt;Sec-WebSocket-Key1&lt;/a&gt;&lt;/code&gt;&quot;
      field in the client's handshake.&lt;/dd&gt;
 
-     &lt;dt&gt;&lt;var title=&quot;&quot;&gt;key2&lt;/var&gt;&lt;/dt&gt;
+     &lt;dt&gt;&lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;&lt;/dt&gt;
 
      &lt;dd&gt;The value of the &quot;&lt;code title=http-sec-websocket-key2&gt;&lt;a href=#sec-websocket-key1-and-sec-websocket-key2&gt;Sec-WebSocket-Key2&lt;/a&gt;&lt;/code&gt;&quot;
      field in the client's handshake.&lt;/dd&gt;
 
-     &lt;dt&gt;&lt;var title=&quot;&quot;&gt;key3&lt;/var&gt;&lt;/dt&gt;
+     &lt;dt&gt;&lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;3&lt;/sub&gt;&lt;/var&gt;&lt;/dt&gt;
 
      &lt;dd&gt;The eight random bytes sent after the first 0x0D 0x0A 0x0D
      0x0A sequence in the client's handshake.&lt;/dd&gt;
@@ -69185,15 +69188,15 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;key1-number&lt;/var&gt; be the digits (characters
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; be the digits (characters
     in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9)) in
-    &lt;var title=&quot;&quot;&gt;key1&lt;/var&gt;, interpreted as a base ten integer,
-    ignoring all other characters in &lt;var title=&quot;&quot;&gt;key1&lt;/var&gt;.&lt;/p&gt;
+    &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;, interpreted as a base ten integer,
+    ignoring all other characters in &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;key2-number&lt;/var&gt; be the digits (characters
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; be the digits (characters
     in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9)) in
-    &lt;var title=&quot;&quot;&gt;key2&lt;/var&gt;, interpreted as a base ten integer,
-    ignoring all other characters in &lt;var title=&quot;&quot;&gt;key2&lt;/var&gt;.&lt;/p&gt;
+    &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;, interpreted as a base ten integer,
+    ignoring all other characters in &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;
 
     &lt;div class=example&gt;
 
@@ -69209,11 +69212,11 @@
 
 WjN}|M(6&lt;/pre&gt;
 
-     &lt;p&gt;The &lt;var title=&quot;&quot;&gt;key1-number&lt;/var&gt; would be the number
-     3,626,341,780, and the &lt;var title=&quot;&quot;&gt;key2-number&lt;/var&gt; would be
+     &lt;p&gt;The &lt;var title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; would be the number
+     3,626,341,780, and the &lt;var title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; would be
      the number 1,799,227,390.&lt;/p&gt;
 
-     &lt;p&gt;In this example, incidentally, &lt;var title=&quot;&quot;&gt;key3&lt;/var&gt; is
+     &lt;p&gt;In this example, incidentally, &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;3&lt;/sub&gt;&lt;/var&gt; is
      &quot;WjN}|M(6&quot;, or 0x57 0x6A 0x4E 0x7D 0x7C 0x4D 0x28 0x36.&lt;/p&gt;
 
     &lt;/div&gt;
@@ -69222,29 +69225,29 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;spaces1&lt;/var&gt; be the number of U+0020 SPACE
-    characters in &lt;var title=&quot;&quot;&gt;key1&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; be the number of U+0020 SPACE
+    characters in &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;spaces2&lt;/var&gt; be the number of U+0020 SPACE
-    characters in &lt;var title=&quot;&quot;&gt;key2&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; be the number of U+0020 SPACE
+    characters in &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If either &lt;var title=&quot;&quot;&gt;spaces1&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;spaces2&lt;/var&gt; is zero, then &lt;a href=#abort-the-websocket-connection&gt;abort the WebSocket
+    &lt;p&gt;If either &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; is zero, then &lt;a href=#abort-the-websocket-connection&gt;abort the WebSocket
     connection&lt;/a&gt;. This is a symptom of a cross-protocol
     attack.&lt;/p&gt;
 
-    &lt;p class=example&gt;In the example above, &lt;var title=&quot;&quot;&gt;spaces1&lt;/var&gt; would be 4 and &lt;var title=&quot;&quot;&gt;spaces2&lt;/var&gt;
+    &lt;p class=example&gt;In the example above, &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; would be 4 and &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;
     would be 10.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;key1-number&lt;/var&gt; is not an integral multiple
-    of &lt;var title=&quot;&quot;&gt;spaces1&lt;/var&gt;, then &lt;a href=#abort-the-websocket-connection&gt;abort the WebSocket
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; is not an integral multiple
+    of &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;, then &lt;a href=#abort-the-websocket-connection&gt;abort the WebSocket
     connection&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;key2-number&lt;/var&gt; is not an integral multiple
-    of &lt;var title=&quot;&quot;&gt;spaces2&lt;/var&gt;, then &lt;a href=#abort-the-websocket-connection&gt;abort the WebSocket
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; is not an integral multiple
+    of &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;, then &lt;a href=#abort-the-websocket-connection&gt;abort the WebSocket
     connection&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p class=note&gt;This can only happen if the client is not a
@@ -69254,21 +69257,21 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;part1&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;key1-number&lt;/var&gt; divided by &lt;var title=&quot;&quot;&gt;spaces1&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;part&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; divided by &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;part2&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;key2-number&lt;/var&gt; divided by &lt;var title=&quot;&quot;&gt;spaces2&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;part&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; divided by &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p class=example&gt;In the example above, &lt;var title=&quot;&quot;&gt;part1&lt;/var&gt;
-    would be 906,585,445 and &lt;var title=&quot;&quot;&gt;part2&lt;/var&gt; would be
+    &lt;p class=example&gt;In the example above, &lt;var title=&quot;&quot;&gt;part&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;
+    would be 906,585,445 and &lt;var title=&quot;&quot;&gt;part&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; would be
     179,922,739.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;challenge&lt;/var&gt; be the concatenation of &lt;var title=&quot;&quot;&gt;part1&lt;/var&gt;, expressed as a big-endian 32 bit integer,
-    &lt;var title=&quot;&quot;&gt;part2&lt;/var&gt;, expressed as a big-endian 32 bit
-    integer, and the eight bytes of &lt;var title=&quot;&quot;&gt;key3&lt;/var&gt; in the
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;challenge&lt;/var&gt; be the concatenation of &lt;var title=&quot;&quot;&gt;part&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;, expressed as a big-endian 32 bit integer,
+    &lt;var title=&quot;&quot;&gt;part&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;, expressed as a big-endian 32 bit
+    integer, and the eight bytes of &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;3&lt;/sub&gt;&lt;/var&gt; in the
     order they were sent on the wire.&lt;/p&gt;
 
     &lt;!--
@@ -69347,8 +69350,15 @@
 
      &lt;/dd&gt;
 
-    &lt;/dl&gt;&lt;/li&gt;
+    &lt;/dl&gt;&lt;p&gt;Optionally, include &quot;&lt;code title=http-setcookie&gt;Set-Cookie&lt;/code&gt;&quot;, &quot;&lt;code title=http-setcookie2&gt;Set-Cookie2&lt;/code&gt;&quot;, or other
+    cookie-related fields, with values equal to the values that would
+    be used for the identically named HTTP headers.
+     &lt;a href=#refsCOOKIES&gt;[COOKIES]&lt;/a&gt;
 
+    &lt;/p&gt;
+
+   &lt;/li&gt;
+
    &lt;li&gt;
 
     &lt;p&gt;Send two bytes 0x0D 0x0A (ASCII CRLF).&lt;/p&gt;

Modified: source
===================================================================
--- source	2010-03-05 01:37:44 UTC (rev 4827)
+++ source	2010-03-05 01:56:01 UTC (rev 4828)
@@ -75998,7 +75998,7 @@
   client's handshake to verify the correctness of the values.&lt;/p&gt;
 
   &lt;p&gt;Option fields can also be included. In this version of the
-  protocol, the only option field is &lt;code
+  protocol, the main option field is &lt;code
   title=&quot;http-sec-websocket-protocol&quot;&gt;Sec-WebSocket-Protocol&lt;/code&gt;,
   which indicates the subprotocol that the server speaks. Web browsers
   verify that the server included the same value as was specified in
@@ -76008,6 +76008,9 @@
 
   &lt;pre&gt;Sec-WebSocket-Protocol: chat&lt;/pre&gt;
 
+  &lt;p&gt;The server can also set cookie-related option fields to
+  &lt;em&gt;set&lt;/em&gt; cookies, as in HTTP.&lt;/p&gt;
+
   &lt;p&gt;After the fields, the server sends the aforementioned MD5 sum, a
   16 byte (128 bit) value, shown here as if interpreted as ASCII:&lt;/p&gt;
 
@@ -77763,19 +77766,19 @@
      value. The empty string is not the same as the null value for
      these purposes.&lt;/dd&gt;
 
-     &lt;dt&gt;&lt;var title=&quot;&quot;&gt;key1&lt;/var&gt;&lt;/dt&gt;
+     &lt;dt&gt;&lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;/dt&gt;
 
      &lt;dd&gt;The value of the &quot;&lt;code
      title=&quot;http-sec-websocket-key1&quot;&gt;Sec-WebSocket-Key1&lt;/code&gt;&quot;
      field in the client's handshake.&lt;/dd&gt;
 
-     &lt;dt&gt;&lt;var title=&quot;&quot;&gt;key2&lt;/var&gt;&lt;/dt&gt;
+     &lt;dt&gt;&lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;&lt;/dt&gt;
 
      &lt;dd&gt;The value of the &quot;&lt;code
      title=&quot;http-sec-websocket-key2&quot;&gt;Sec-WebSocket-Key2&lt;/code&gt;&quot;
      field in the client's handshake.&lt;/dd&gt;
 
-     &lt;dt&gt;&lt;var title=&quot;&quot;&gt;key3&lt;/var&gt;&lt;/dt&gt;
+     &lt;dt&gt;&lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;3&lt;/sub&gt;&lt;/var&gt;&lt;/dt&gt;
 
      &lt;dd&gt;The eight random bytes sent after the first 0x0D 0x0A 0x0D
      0x0A sequence in the client's handshake.&lt;/dd&gt;
@@ -77796,15 +77799,15 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;key1-number&lt;/var&gt; be the digits (characters
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; be the digits (characters
     in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9)) in
-    &lt;var title=&quot;&quot;&gt;key1&lt;/var&gt;, interpreted as a base ten integer,
-    ignoring all other characters in &lt;var title=&quot;&quot;&gt;key1&lt;/var&gt;.&lt;/p&gt;
+    &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;, interpreted as a base ten integer,
+    ignoring all other characters in &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;key2-number&lt;/var&gt; be the digits (characters
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; be the digits (characters
     in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9)) in
-    &lt;var title=&quot;&quot;&gt;key2&lt;/var&gt;, interpreted as a base ten integer,
-    ignoring all other characters in &lt;var title=&quot;&quot;&gt;key2&lt;/var&gt;.&lt;/p&gt;
+    &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;, interpreted as a base ten integer,
+    ignoring all other characters in &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;
 
     &lt;div class=&quot;example&quot;&gt;
 
@@ -77820,11 +77823,11 @@
 
 WjN}|M(6&lt;/pre&gt;
 
-     &lt;p&gt;The &lt;var title=&quot;&quot;&gt;key1-number&lt;/var&gt; would be the number
-     3,626,341,780, and the &lt;var title=&quot;&quot;&gt;key2-number&lt;/var&gt; would be
+     &lt;p&gt;The &lt;var title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; would be the number
+     3,626,341,780, and the &lt;var title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; would be
      the number 1,799,227,390.&lt;/p&gt;
 
-     &lt;p&gt;In this example, incidentally, &lt;var title=&quot;&quot;&gt;key3&lt;/var&gt; is
+     &lt;p&gt;In this example, incidentally, &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;3&lt;/sub&gt;&lt;/var&gt; is
      &quot;WjN}|M(6&quot;, or 0x57 0x6A 0x4E 0x7D 0x7C 0x4D 0x28 0x36.&lt;/p&gt;
 
     &lt;/div&gt;
@@ -77833,31 +77836,31 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;spaces1&lt;/var&gt; be the number of U+0020 SPACE
-    characters in &lt;var title=&quot;&quot;&gt;key1&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; be the number of U+0020 SPACE
+    characters in &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;spaces2&lt;/var&gt; be the number of U+0020 SPACE
-    characters in &lt;var title=&quot;&quot;&gt;key2&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; be the number of U+0020 SPACE
+    characters in &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If either &lt;var title=&quot;&quot;&gt;spaces1&lt;/var&gt; or &lt;var
-    title=&quot;&quot;&gt;spaces2&lt;/var&gt; is zero, then &lt;span&gt;abort the WebSocket
+    &lt;p&gt;If either &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; or &lt;var
+    title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; is zero, then &lt;span&gt;abort the WebSocket
     connection&lt;/span&gt;. This is a symptom of a cross-protocol
     attack.&lt;/p&gt;
 
     &lt;p class=&quot;example&quot;&gt;In the example above, &lt;var
-    title=&quot;&quot;&gt;spaces1&lt;/var&gt; would be 4 and &lt;var title=&quot;&quot;&gt;spaces2&lt;/var&gt;
+    title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; would be 4 and &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;
     would be 10.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;key1-number&lt;/var&gt; is not an integral multiple
-    of &lt;var title=&quot;&quot;&gt;spaces1&lt;/var&gt;, then &lt;span&gt;abort the WebSocket
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; is not an integral multiple
+    of &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;, then &lt;span&gt;abort the WebSocket
     connection&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;key2-number&lt;/var&gt; is not an integral multiple
-    of &lt;var title=&quot;&quot;&gt;spaces2&lt;/var&gt;, then &lt;span&gt;abort the WebSocket
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; is not an integral multiple
+    of &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;, then &lt;span&gt;abort the WebSocket
     connection&lt;/span&gt;.&lt;/p&gt;
 
     &lt;p class=&quot;note&quot;&gt;This can only happen if the client is not a
@@ -77867,14 +77870,14 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;part1&lt;/var&gt; be &lt;var
-    title=&quot;&quot;&gt;key1-number&lt;/var&gt; divided by &lt;var title=&quot;&quot;&gt;spaces1&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;part&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; be &lt;var
+    title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt; divided by &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;part2&lt;/var&gt; be &lt;var
-    title=&quot;&quot;&gt;key2-number&lt;/var&gt; divided by &lt;var title=&quot;&quot;&gt;spaces2&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;part&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; be &lt;var
+    title=&quot;&quot;&gt;key-number&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; divided by &lt;var title=&quot;&quot;&gt;spaces&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;p class=&quot;example&quot;&gt;In the example above, &lt;var title=&quot;&quot;&gt;part1&lt;/var&gt;
-    would be 906,585,445 and &lt;var title=&quot;&quot;&gt;part2&lt;/var&gt; would be
+    &lt;p class=&quot;example&quot;&gt;In the example above, &lt;var title=&quot;&quot;&gt;part&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;
+    would be 906,585,445 and &lt;var title=&quot;&quot;&gt;part&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt; would be
     179,922,739.&lt;/p&gt;
 
    &lt;/li&gt;
@@ -77882,9 +77885,9 @@
    &lt;li&gt;
 
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;challenge&lt;/var&gt; be the concatenation of &lt;var
-    title=&quot;&quot;&gt;part1&lt;/var&gt;, expressed as a big-endian 32 bit integer,
-    &lt;var title=&quot;&quot;&gt;part2&lt;/var&gt;, expressed as a big-endian 32 bit
-    integer, and the eight bytes of &lt;var title=&quot;&quot;&gt;key3&lt;/var&gt; in the
+    title=&quot;&quot;&gt;part&lt;sub title=&quot;&quot;&gt;1&lt;/sub&gt;&lt;/var&gt;, expressed as a big-endian 32 bit integer,
+    &lt;var title=&quot;&quot;&gt;part&lt;sub title=&quot;&quot;&gt;2&lt;/sub&gt;&lt;/var&gt;, expressed as a big-endian 32 bit
+    integer, and the eight bytes of &lt;var title=&quot;&quot;&gt;key&lt;sub title=&quot;&quot;&gt;3&lt;/sub&gt;&lt;/var&gt; in the
     order they were sent on the wire.&lt;/p&gt;
 
     &lt;!--
@@ -77970,6 +77973,19 @@
 
     &lt;/dl&gt;
 
+    &lt;p&gt;Optionally, include &quot;&lt;code
+    title=&quot;http-setcookie&quot;&gt;Set-Cookie&lt;/code&gt;&quot;, &quot;&lt;code
+    title=&quot;http-setcookie2&quot;&gt;Set-Cookie2&lt;/code&gt;&quot;, or other
+    cookie-related fields, with values equal to the values that would
+    be used for the identically named HTTP headers.
+&lt;!--END complete--&gt;
+     &lt;a href=&quot;#refsRFC2109&quot;&gt;[RFC2109]&lt;/a&gt;
+     &lt;a href=&quot;#refsRFC2965&quot;&gt;[RFC2965]&lt;/a&gt;
+&lt;!--START complete--&gt;&lt;!--END websocket-protocol--&gt;
+     &lt;a href=&quot;#refsCOOKIES&quot;&gt;[COOKIES]&lt;/a&gt;
+&lt;!--START websocket-protocol--&gt;
+    &lt;/p&gt;
+
    &lt;/li&gt;
 
    &lt;li&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011695.html">[html5] r4827 - [e] (0) stray quote Fixing	http://www.w3.org/Bugs/Public/show_bug.cgi?id=9185
</A></li>
	<LI>Next message: <A HREF="011697.html">[html5] r4829 - [giow] (0) very early draft idea of how to do the	API part of peer-to-peer commu [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11696">[ date ]</a>
              <a href="thread.html#11696">[ thread ]</a>
              <a href="subject.html#11696">[ subject ]</a>
              <a href="author.html#11696">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
