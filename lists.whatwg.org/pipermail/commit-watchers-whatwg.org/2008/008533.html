<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1634 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1634%20-%20/&In-Reply-To=%3C20080516011906.6E83A13A162%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008532.html">
   <LINK REL="Next"  HREF="008534.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1634 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1634%20-%20/&In-Reply-To=%3C20080516011906.6E83A13A162%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1634 - /">whatwg at whatwg.org
       </A><BR>
    <I>Thu May 15 18:19:06 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008532.html">[html5] r1633 - /
</A></li>
        <LI>Next message: <A HREF="008534.html">[html5] r1635 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8533">[ date ]</a>
              <a href="thread.html#8533">[ thread ]</a>
              <a href="subject.html#8533">[ subject ]</a>
              <a href="author.html#8533">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-05-15 18:19:05 -0700 (Thu, 15 May 2008)
New Revision: 1634

Modified:
   index
   source
Log:
[] (0) Mostly editorial: Introduce the concept of 'same origin' as a defined term of art; cross-reference 'origin' throughout; minor disambiguations around the term 'origin'.

Modified: index
===================================================================
--- index	2008-05-16 00:34:40 UTC (rev 1633)
+++ index	2008-05-16 01:19:05 UTC (rev 1634)
@@ -2713,8 +2713,8 @@
    whenever any of the members of an &lt;code&gt;&lt;a
    href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object are accessed by
    scripts whose &lt;a href=&quot;#effective3&quot;&gt;effective script origin&lt;/a&gt; is not the
-   same as the &lt;code&gt;Document&lt;/code&gt;'s &lt;a href=&quot;#effective3&quot;&gt;effective script
-   origin&lt;/a&gt;.
+   &lt;a href=&quot;#same-origin&quot; title=&quot;same origin&quot;&gt;same&lt;/a&gt; as the
+   &lt;code&gt;Document&lt;/code&gt;'s &lt;a href=&quot;#effective3&quot;&gt;effective script origin&lt;/a&gt;.
 
   &lt;h4 id=resource&gt;&lt;span class=secno&gt;2.1.2 &lt;/span&gt;&lt;dfn id=resource0&gt;Resource
    metadata management&lt;/dfn&gt;&lt;/h4&gt;
@@ -13953,8 +13953,9 @@
   &lt;p class=warning&gt;This, unfortunately, can be used to perform a rudimentary
    port scan of the user's local network (especially in conjunction with
    scripting, though scripting isn't actually necessary to carry out such an
-   attack). User agents may implement cross-origin access control policies
-   that mitigate this attack.
+   attack). User agents may implement &lt;a href=&quot;#origin0&quot;
+   title=origin&gt;cross-origin&lt;/a&gt; access control policies that mitigate this
+   attack.
 
   &lt;p&gt;Once the download has completed, if the image is a valid image, the user
    agent must &lt;a href=&quot;#firing4&quot;&gt;fire a &lt;code title=event-load&gt;load&lt;/code&gt;
@@ -20084,7 +20085,8 @@
    href=&quot;#canvas&quot;&gt;canvas&lt;/a&gt;&lt;/code&gt; elements&lt;/h5&gt;
 
   &lt;p&gt;&lt;strong&gt;Information leakage&lt;/strong&gt; can occur if scripts from one &lt;a
-   href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; are exposed to images from another origin.
+   href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; are exposed to images from another origin (one
+   that isn't the &lt;a href=&quot;#same-origin&quot; title=&quot;same origin&quot;&gt;same&lt;/a&gt;).
 
   &lt;p&gt;To mitigate this, &lt;code&gt;&lt;a href=&quot;#canvas&quot;&gt;canvas&lt;/a&gt;&lt;/code&gt; elements are
    defined to have a flag indicating whether they are &lt;i&gt;origin-clean&lt;/i&gt;.
@@ -20097,9 +20099,9 @@
     &lt;p&gt;The element's 2D context's &lt;code title=dom-context-2d-drawImage&gt;&lt;a
      href=&quot;#drawimage&quot;&gt;drawImage()&lt;/a&gt;&lt;/code&gt; method is called with an
      &lt;code&gt;&lt;a href=&quot;#htmlimageelement&quot;&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt; whose &lt;a
-     href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; differs from that of the
-     &lt;code&gt;Document&lt;/code&gt; object that owns the &lt;code&gt;&lt;a
-     href=&quot;#canvas&quot;&gt;canvas&lt;/a&gt;&lt;/code&gt; element.
+     href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; is not the &lt;a href=&quot;#same-origin&quot; title=&quot;same
+     origin&quot;&gt;same&lt;/a&gt; as that of the &lt;code&gt;Document&lt;/code&gt; object that owns
+     the &lt;code&gt;&lt;a href=&quot;#canvas&quot;&gt;canvas&lt;/a&gt;&lt;/code&gt; element.
 
    &lt;li&gt;
     &lt;p&gt;The element's 2D context's &lt;code title=dom-context-2d-drawImage&gt;&lt;a
@@ -20112,9 +20114,9 @@
      href=&quot;#fillstyle&quot;&gt;fillStyle&lt;/a&gt;&lt;/code&gt; attribute is set to a &lt;code&gt;&lt;a
      href=&quot;#canvaspattern0&quot;&gt;CanvasPattern&lt;/a&gt;&lt;/code&gt; object that was created
      from an &lt;code&gt;&lt;a href=&quot;#htmlimageelement&quot;&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt;
-     whose &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; differs from that of the
-     &lt;code&gt;Document&lt;/code&gt; object that owns the &lt;code&gt;&lt;a
-     href=&quot;#canvas&quot;&gt;canvas&lt;/a&gt;&lt;/code&gt; element.
+     whose &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; is not the &lt;a href=&quot;#same-origin&quot;
+     title=&quot;same origin&quot;&gt;same&lt;/a&gt; as that of the &lt;code&gt;Document&lt;/code&gt; object
+     that owns the &lt;code&gt;&lt;a href=&quot;#canvas&quot;&gt;canvas&lt;/a&gt;&lt;/code&gt; element.
 
    &lt;li&gt;
     &lt;p&gt;The element's 2D context's &lt;code title=dom-context-2d-fillStyle&gt;&lt;a
@@ -20129,9 +20131,9 @@
      &lt;code&gt;&lt;a href=&quot;#canvaspattern0&quot;&gt;CanvasPattern&lt;/a&gt;&lt;/code&gt; object that was
      created from an &lt;code&gt;&lt;a
      href=&quot;#htmlimageelement&quot;&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt; whose &lt;a
-     href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; differs from that of the
-     &lt;code&gt;Document&lt;/code&gt; object that owns the &lt;code&gt;&lt;a
-     href=&quot;#canvas&quot;&gt;canvas&lt;/a&gt;&lt;/code&gt; element.
+     href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; is not the &lt;a href=&quot;#same-origin&quot; title=&quot;same
+     origin&quot;&gt;same&lt;/a&gt; as that of the &lt;code&gt;Document&lt;/code&gt; object that owns
+     the &lt;code&gt;&lt;a href=&quot;#canvas&quot;&gt;canvas&lt;/a&gt;&lt;/code&gt; element.
 
    &lt;li&gt;
     &lt;p&gt;The element's 2D context's &lt;code title=dom-context-2d-strokeStyle&gt;&lt;a
@@ -27780,7 +27782,7 @@
     &lt;code&gt;Document&lt;/code&gt; is the &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the &lt;a
     href=&quot;#active&quot;&gt;active document&lt;/a&gt; of the new &lt;a
     href=&quot;#browsing1&quot;&gt;browsing context&lt;/a&gt;'s &lt;a href=&quot;#opener&quot;&gt;opener
-    browsing context&lt;/a&gt; at the time of its creation.
+    browsing context&lt;/a&gt; at the time of the new browsing context's creation.
 
    &lt;dt&gt;Otherwise
 
@@ -27877,9 +27879,10 @@
 
   &lt;ul&gt;
    &lt;li&gt;Either the &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the &lt;a
-    href=&quot;#active&quot;&gt;active document&lt;/a&gt; of &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; is the same
-    as the &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the &lt;a href=&quot;#active&quot;&gt;active
-    document&lt;/a&gt; of &lt;var title=&quot;&quot;&gt;B&lt;/var&gt;, or
+    href=&quot;#active&quot;&gt;active document&lt;/a&gt; of &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; is the &lt;a
+    href=&quot;#same-origin&quot; title=&quot;same origin&quot;&gt;same&lt;/a&gt; as the &lt;a
+    href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the &lt;a href=&quot;#active&quot;&gt;active document&lt;/a&gt;
+    of &lt;var title=&quot;&quot;&gt;B&lt;/var&gt;, or
 
    &lt;li&gt;The browsing context &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; an &lt;a
     href=&quot;#auxiliary0&quot;&gt;auxiliary browsing context&lt;/a&gt; and either its &lt;a
@@ -27890,10 +27893,10 @@
    &lt;li&gt;The browsing context &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; is not a &lt;a
     href=&quot;#top-level&quot;&gt;top-level browsing context&lt;/a&gt;, but there exists an
     &lt;span&gt;ancestor browsing context&lt;/span&gt; of &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; whose &lt;a
-    href=&quot;#active&quot;&gt;active document&lt;/a&gt; has the same &lt;a
-    href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; as the &lt;a href=&quot;#active&quot;&gt;active document&lt;/a&gt;
-    of &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; (possibly in fact being &lt;var title=&quot;&quot;&gt;A&lt;/var&gt;
-    itself).
+    href=&quot;#active&quot;&gt;active document&lt;/a&gt; has the &lt;a href=&quot;#same-origin&quot;
+    title=&quot;same origin&quot;&gt;same&lt;/a&gt; &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; as the &lt;a
+    href=&quot;#active&quot;&gt;active document&lt;/a&gt; of &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; (possibly in
+    fact being &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; itself).
   &lt;/ul&gt;
 
   &lt;h4 id=threads&gt;&lt;span class=secno&gt;4.1.5 &lt;/span&gt;Threads&lt;/h4&gt;
@@ -28324,8 +28327,8 @@
 
     &lt;ol&gt;
      &lt;li&gt;
-      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;uri&lt;/var&gt; be the URI for which the origin is being
-       determined.
+      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;uri&lt;/var&gt; be the URI for which the &lt;a
+       href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; is being determined.
 
      &lt;li&gt;
       &lt;p&gt;Parse &lt;var title=&quot;&quot;&gt;uri&lt;/var&gt; according to the rules described in
@@ -28343,7 +28346,7 @@
 
      &lt;li&gt;
       &lt;p&gt;If the scheme is &quot;&lt;code title=&quot;&quot;&gt;file&lt;/code&gt;&quot;, then the user agent
-       may return a UA-specific origin.
+       may return a UA-specific value.
 
      &lt;li&gt;
       &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;host&lt;/var&gt; be the &lt;host&gt;/&lt;ihost&gt;
@@ -28439,10 +28442,10 @@
      &lt;dd&gt;The owner is the script that provided the URI.
     &lt;/dl&gt;
 
-    &lt;p&gt;The &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the script is then the same as
-     the &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the owner, and the &lt;a
-     href=&quot;#effective3&quot;&gt;effective script origin&lt;/a&gt; of the script is the same
-     as the &lt;a href=&quot;#effective3&quot;&gt;effective script origin&lt;/a&gt; of the owner.&lt;/p&gt;
+    &lt;p&gt;The &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the script is then equal to the
+     &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the owner, and the &lt;a
+     href=&quot;#effective3&quot;&gt;effective script origin&lt;/a&gt; of the script is equal to
+     the &lt;a href=&quot;#effective3&quot;&gt;effective script origin&lt;/a&gt; of the owner.&lt;/p&gt;
 
    &lt;dt&gt;For &lt;code&gt;Document&lt;/code&gt; objects and images
 
@@ -28451,8 +28454,9 @@
      &lt;dt&gt;If a &lt;code&gt;Document&lt;/code&gt; or image was returned by the
       &lt;code&gt;XMLHttpRequest&lt;/code&gt; API
 
-     &lt;dd&gt;The origin and &lt;a href=&quot;#effective3&quot;&gt;effective script origin&lt;/a&gt; are
-      the same as the origin and &lt;a href=&quot;#effective3&quot;&gt;effective script
+     &lt;dd&gt;The &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; and &lt;a
+      href=&quot;#effective3&quot;&gt;effective script origin&lt;/a&gt; are equal to the &lt;a
+      href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; and &lt;a href=&quot;#effective3&quot;&gt;effective script
       origin&lt;/a&gt; of the &lt;code&gt;Document&lt;/code&gt; object that was the &lt;a
       href=&quot;#active&quot;&gt;active document&lt;/a&gt; of the &lt;code&gt;&lt;a
       href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; object of the browsing context from
@@ -28466,35 +28470,39 @@
       href=&quot;#the-javascript&quot; title=&quot;javascript
       protocol&quot;&gt;&lt;code&gt;javascript:&lt;/code&gt; URI&lt;/a&gt;
 
-     &lt;dd&gt;The origin is the same as the origin of the script of that
+     &lt;dd&gt;The &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; is equal to the &lt;a
+      href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the script of that
       &lt;code&gt;javascript:&lt;/code&gt; URI.
 
      &lt;dt&gt;If a &lt;code&gt;Document&lt;/code&gt; or image was served over the network and
       has an address that uses a URI scheme with a server-based naming
       authority
 
-     &lt;dd&gt;The origin is the origin of the full URI of the
-      &lt;code&gt;Document&lt;/code&gt; or image.
+     &lt;dd&gt;The &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; is the &lt;a
+      href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the full URI of the &lt;code&gt;Document&lt;/code&gt;
+      or image.
 
      &lt;dt&gt;If a &lt;code&gt;Document&lt;/code&gt; or image was generated from a &lt;code
       title=&quot;&quot;&gt;data:&lt;/code&gt; URI that was returned as the location of an HTTP
       redirect (or equivalent in other protocols)
 
-     &lt;dd&gt;The origin is the origin of the URI that redirected to the &lt;code
+     &lt;dd&gt;The &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; is the &lt;a
+      href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the URI that redirected to the &lt;code
       title=&quot;&quot;&gt;data:&lt;/code&gt; URI.
 
      &lt;dt&gt;If a &lt;code&gt;Document&lt;/code&gt; or image was generated from a &lt;code
       title=&quot;&quot;&gt;data:&lt;/code&gt; URI found in another &lt;code&gt;Document&lt;/code&gt; or in
       a script
 
-     &lt;dd&gt;The origin is the origin of the &lt;code&gt;Document&lt;/code&gt; or script in
+     &lt;dd&gt;The &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; is the &lt;a
+      href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the &lt;code&gt;Document&lt;/code&gt; or script in
       which the &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URI was found.
 
      &lt;dt&gt;If a &lt;code&gt;Document&lt;/code&gt; has the URI &quot;&lt;code&gt;about:blank&lt;/code&gt;&quot;
 
-     &lt;dd&gt;The origin of the &lt;code&gt;Document&lt;/code&gt; is &lt;a
-      href=&quot;#about-blank-origin&quot;&gt;the origin it was assigned when its browsing
-      context was created&lt;/a&gt;.
+     &lt;dd&gt;The &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the &lt;code&gt;Document&lt;/code&gt; is &lt;a
+      href=&quot;#about-blank-origin&quot;&gt;the &lt;span&gt;origin&lt;/span&gt; it was assigned when
+      its browsing context was created&lt;/a&gt;.
 
      &lt;dt&gt;If a &lt;code&gt;Document&lt;/code&gt; or image was obtained in some other
       manner (e.g. a &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URI typed in by the user, a
@@ -28502,8 +28510,8 @@
       title=&quot;&quot;&gt;createDocument()&lt;/code&gt; API, a &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URI
       returned as the location of an HTTP redirect, etc)
 
-     &lt;dd&gt;The origin is a globally unique identifier assigned when the
-      &lt;code&gt;Document&lt;/code&gt; or image is created.
+     &lt;dd&gt;The &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; is a globally unique identifier
+      assigned when the &lt;code&gt;Document&lt;/code&gt; or image is created.
     &lt;/dl&gt;
 
     &lt;p&gt;When a &lt;code&gt;Document&lt;/code&gt; is created, unless stated otherwise
@@ -28522,25 +28530,59 @@
    &lt;li&gt;If the &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; in question is not a
     scheme/host/port tuple, then return the empty string.
 
-   &lt;li&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; be the scheme part of the
-    origin tuple.
+   &lt;li&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; be the scheme part of the &lt;a
+    href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; tuple.
 
    &lt;li&gt;Append the string &quot;&lt;code title=&quot;&quot;&gt;://&lt;/code&gt;&quot; to &lt;var
     title=&quot;&quot;&gt;result&lt;/var&gt;.
 
    &lt;li&gt;Apply the IDNA ToUnicode algorithm to each component of the host part
-    of the origin tuple, and append the results &mdash; each component, in
-    the same order, separated by U+002E FULL STOP characters (&quot;.&quot;) &mdash; to
-    &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.
+    of the &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; tuple, and append the results
+    &mdash; each component, in the same order, separated by U+002E FULL STOP
+    characters (&quot;.&quot;) &mdash; to &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.
 
-   &lt;li&gt;If the port part of the origin tuple gives a port that is different
-    from the default port for the protocol given by the scheme part of the
-    origin tuple, then append a U+003A COLON character (&quot;:&quot;) and the given
-    port, in base ten, to &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.
+   &lt;li&gt;If the port part of the &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; tuple gives a
+    port that is different from the default port for the protocol given by
+    the scheme part of the &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; tuple, then append a
+    U+003A COLON character (&quot;:&quot;) and the given port, in base ten, to &lt;var
+    title=&quot;&quot;&gt;result&lt;/var&gt;.
 
    &lt;li&gt;Return &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.
   &lt;/ol&gt;
 
+  &lt;p&gt;Two &lt;a href=&quot;#origin0&quot; title=origin&gt;origins&lt;/a&gt; are said to be the &lt;dfn
+   id=same-origin&gt;same origin&lt;/dfn&gt; if the following algorithm returns true:
+
+  &lt;ol&gt;
+   &lt;li&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; be the first &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt;
+     being compared, and &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; be the second &lt;a
+     href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; being compared.
+
+   &lt;li&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; are both opaque
+     identifiers, and their value is equal, then return true.
+
+   &lt;li&gt;
+    &lt;p&gt;Otherwise, if either &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; or
+     both are opaque identifiers, return false.
+
+   &lt;li&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; have scheme
+     components that are not identical, return false.
+
+   &lt;li&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; have host
+     components that are not identical, return false.
+
+   &lt;li&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; have port
+     components that are not identical, return false.
+
+   &lt;li&gt;
+    &lt;p&gt;Return true.
+  &lt;/ol&gt;
+
   &lt;h4 id=relaxing&gt;&lt;span class=secno&gt;4.3.1 &lt;/span&gt;Relaxing the same-origin
    restriction&lt;/h4&gt;
 
@@ -28595,8 +28637,9 @@
    &lt;li&gt;
     &lt;p&gt;Set the port part of the &lt;a href=&quot;#effective3&quot;&gt;effective script
      origin&lt;/a&gt; tuple of the &lt;code&gt;Document&lt;/code&gt; to &quot;manual override&quot; (a
-     value that, for the purposes of comparing origins, is the same as
-     &quot;manual override&quot; but not the same as any other value).&lt;/p&gt;
+     value that, for the purposes of &lt;a href=&quot;#same-origin&quot; title=&quot;same
+     origin&quot;&gt;comparing origins&lt;/a&gt;, is identical to &quot;manual override&quot; but not
+     identical to any other value).&lt;/p&gt;
   &lt;/ol&gt;
 
   &lt;p&gt;The &lt;dfn id=domain0 title=&quot;the document's domain&quot;&gt;domain&lt;/dfn&gt; of a
@@ -28682,16 +28725,17 @@
 
   &lt;p&gt;When a browsing context is &lt;a href=&quot;#navigate&quot;
    title=navigate&gt;navigated&lt;/a&gt; to a &lt;code&gt;javascript:&lt;/code&gt; URI, and the &lt;a
-   href=&quot;#active&quot;&gt;active document&lt;/a&gt; of that browsing context has the same
-   &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; as the script given by that URI, the
+   href=&quot;#active&quot;&gt;active document&lt;/a&gt; of that browsing context has the &lt;a
+   href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt; as the script given by that URI, the
    dereference context must be the &lt;a href=&quot;#browsing1&quot;&gt;browsing context&lt;/a&gt;
    being navigated.
 
   &lt;p&gt;When a browsing context is &lt;a href=&quot;#navigate&quot;
    title=navigate&gt;navigated&lt;/a&gt; to a &lt;code&gt;javascript:&lt;/code&gt; URI, and the &lt;a
-   href=&quot;#active&quot;&gt;active document&lt;/a&gt; of that browsing context has a
-   &lt;em&gt;different&lt;/em&gt; &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; than the script given by
-   the URI, the dereference context must be an empty object.
+   href=&quot;#active&quot;&gt;active document&lt;/a&gt; of that browsing context has a an &lt;a
+   href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; that is &lt;em&gt;not&lt;/em&gt; the &lt;a href=&quot;#same-origin&quot;
+   title=&quot;same origin&quot;&gt;same&lt;/a&gt; as that of the script given by the URI, the
+   dereference context must be an empty object.
 
   &lt;p&gt;Otherwise, the dereference context must be an empty object.
 
@@ -29378,8 +29422,9 @@
       and that
 
      &lt;li&gt;have an &lt;a href=&quot;#active&quot;&gt;active document&lt;/a&gt; whose &lt;a
-      href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; is the same as the origin of the script that
-      called the &lt;code title=dom-showModalDialog&gt;&lt;a
+      href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; is the &lt;a href=&quot;#same-origin&quot; title=&quot;same
+      origin&quot;&gt;same&lt;/a&gt; as the &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the script
+      that called the &lt;code title=dom-showModalDialog&gt;&lt;a
       href=&quot;#showmodaldialog&quot;&gt;showModalDialog()&lt;/a&gt;&lt;/code&gt; method at the time
       the method was called,&lt;/li&gt;
      &lt;!-- Note that changing
@@ -29457,11 +29502,12 @@
    title=dom-modalWindow-dialogArguments&gt;&lt;code&gt;dialogArguments&lt;/code&gt;&lt;/dfn&gt;
    DOM attribute, on getting, must check whether its browsing context's &lt;a
    href=&quot;#active&quot;&gt;active document&lt;/a&gt;'s &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; is the
-   same as the &lt;a href=&quot;#dialog1&quot;&gt;dialog arguments' origin&lt;/a&gt;. If it is,
-   then the browsing context's &lt;a href=&quot;#dialog0&quot;&gt;dialog arguments&lt;/a&gt; must
-   be returned unchanged. Otherwise, if the &lt;a href=&quot;#dialog0&quot;&gt;dialog
-   arguments&lt;/a&gt; are an object, then the empty string must be returned, and
-   if the &lt;a href=&quot;#dialog0&quot;&gt;dialog arguments&lt;/a&gt; are not an object, then the
+   &lt;a href=&quot;#same-origin&quot; title=&quot;same origin&quot;&gt;same&lt;/a&gt; as the &lt;a
+   href=&quot;#dialog1&quot;&gt;dialog arguments' origin&lt;/a&gt;. If it is, then the browsing
+   context's &lt;a href=&quot;#dialog0&quot;&gt;dialog arguments&lt;/a&gt; must be returned
+   unchanged. Otherwise, if the &lt;a href=&quot;#dialog0&quot;&gt;dialog arguments&lt;/a&gt; are
+   an object, then the empty string must be returned, and if the &lt;a
+   href=&quot;#dialog0&quot;&gt;dialog arguments&lt;/a&gt; are not an object, then the
    stringification of the &lt;a href=&quot;#dialog0&quot;&gt;dialog arguments&lt;/a&gt; must be
    returned.
 
@@ -29865,7 +29911,8 @@
       attribute. The manifest is downloaded and processed during the &lt;a
       href=&quot;#application1&quot;&gt;application cache update process&lt;/a&gt;. All the &lt;a
       href=&quot;#implicit&quot; title=concept-appcache-implicit&gt;implicit entries&lt;/a&gt;
-      have the same &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; as the manifest.
+      have the &lt;a href=&quot;#same-origin&quot; title=&quot;same origin&quot;&gt;same origin&lt;/a&gt; as
+      the manifest.
 
      &lt;dt&gt;&lt;dfn id=explicit title=concept-appcache-explicit&gt;Explicit
       entries&lt;/dfn&gt;
@@ -29912,8 +29959,8 @@
     title=concept-appcache-matches-oppcache&gt;prefix match patterns&lt;/a&gt;, each
     of which is mapped to a &lt;a href=&quot;#fallback0&quot;
     title=concept-appcache-fallback&gt;fallback entry&lt;/a&gt;. Each namespace URI
-    prefix, when parsed as a URI, has the same &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt;
-    as &lt;a href=&quot;#the-manifest&quot; title=concept-appcache-manifest&gt;the
+    prefix, when parsed as a URI, has the &lt;a href=&quot;#same-origin&quot;&gt;same
+    origin&lt;/a&gt; as &lt;a href=&quot;#the-manifest&quot; title=concept-appcache-manifest&gt;the
     manifest&lt;/a&gt;.
 
    &lt;li&gt;Zero or more URIs that form the &lt;dfn id=online
@@ -30047,7 +30094,8 @@
 
   &lt;p&gt;&lt;a href=&quot;#opportunistic&quot;
    title=concept-appcache-oppcache-ns&gt;Opportunistic caching namespaces&lt;/a&gt;
-   must have the same &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; as the manifest itself.
+   must have the &lt;a href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt; as the manifest
+   itself.
 
   &lt;p&gt;An opportunistic caching namespace must not be listed more than once.
 
@@ -30227,8 +30275,9 @@
        namespace&lt;/a&gt;, then jump back to the step labeled &quot;start of line&quot;.&lt;/p&gt;
 
       &lt;p&gt;If the absolute URI or IRI corresponding to &lt;var title=&quot;&quot;&gt;part
-       one&lt;/var&gt; does not have the same &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; as the
-       manifest's URI, then jump back to the step labeled &quot;start of line&quot;.&lt;/p&gt;
+       one&lt;/var&gt; does not have the &lt;a href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt; as
+       the manifest's URI, then jump back to the step labeled &quot;start of
+       line&quot;.&lt;/p&gt;
       &lt;!-- SECURITY --&gt;
       &lt;p&gt;If the absolute URI or IRI corresponding to &lt;var title=&quot;&quot;&gt;part
        two&lt;/var&gt; has a different &lt;scheme&gt; component than the manifest's
@@ -30659,9 +30708,9 @@
   &lt;p&gt;A URI &lt;dfn id=matches title=concept-appcache-matches-oppcache&gt;matches an
    opportunistic caching namespace&lt;/dfn&gt; if there exists an &lt;a
    href=&quot;#application0&quot;&gt;application cache&lt;/a&gt; whose &lt;a href=&quot;#the-manifest&quot;
-   title=concept-appcache-manifest&gt;manifest&lt;/a&gt;'s URI has the same &lt;a
-   href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; as the URI in question, and if that application
-   cache has an &lt;a href=&quot;#opportunistic&quot;
+   title=concept-appcache-manifest&gt;manifest&lt;/a&gt;'s URI has the &lt;a
+   href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt; as the URI in question, and if that
+   application cache has an &lt;a href=&quot;#opportunistic&quot;
    title=concept-appcache-oppcache-ns&gt;opportunistic caching namespace&lt;/a&gt;
    with a &lt;path&gt; component that exactly matches the start of the
    &lt;path&gt; component of the URI being examined. If multiple
@@ -30740,9 +30789,9 @@
    &lt;dd&gt;
     &lt;ol&gt;
      &lt;li&gt;
-      &lt;p&gt;If the manifest URI does not have the same &lt;a
-       href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; as the resource's own URI, then invoke the
-       &lt;a href=&quot;#application3&quot;
+      &lt;p&gt;If the manifest URI does not have the &lt;a href=&quot;#same-origin&quot;&gt;same
+       origin&lt;/a&gt; as the resource's own URI, then invoke the &lt;a
+       href=&quot;#application3&quot;
        title=concept-appcache-init-no-attribute&gt;application cache selection
        algorithm&lt;/a&gt; again, but without a manifest, and abort these steps.
 
@@ -30839,12 +30888,12 @@
      fetch the resource from the cache and abort these steps.
 
    &lt;li&gt;
-    &lt;p&gt;If the resource's URI has the same &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; as
-     the manifest's URI, and the start of the resource's URI's &lt;path&gt;
-     component is exactly matched by the &lt;path&gt; component of an &lt;a
-     href=&quot;#opportunistic&quot; title=concept-appcache-oppcache-ns&gt;opportunistic
-     caching namespace&lt;/a&gt; in the &lt;a href=&quot;#application0&quot;&gt;application
-     cache&lt;/a&gt;, then:
+    &lt;p&gt;If the resource's URI has the &lt;a href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt;
+     as the manifest's URI, and the start of the resource's URI's
+     &lt;path&gt; component is exactly matched by the &lt;path&gt; component
+     of an &lt;a href=&quot;#opportunistic&quot;
+     title=concept-appcache-oppcache-ns&gt;opportunistic caching namespace&lt;/a&gt;
+     in the &lt;a href=&quot;#application0&quot;&gt;application cache&lt;/a&gt;, then:
 
     &lt;p&gt;Fetch the resource normally. If this results 4xx or 5xx status codes
      or equivalent, or if there were network errors (but not if the user
@@ -31667,8 +31716,9 @@
   &lt;p&gt;User agents must raise a &lt;a href=&quot;#security9&quot;&gt;security exception&lt;/a&gt;
    whenever any of the members of a &lt;code&gt;&lt;a
    href=&quot;#location2&quot;&gt;Location&lt;/a&gt;&lt;/code&gt; object are accessed by scripts whose
-   &lt;a href=&quot;#effective3&quot;&gt;effective script origin&lt;/a&gt; is not the same as the
-   &lt;code&gt;&lt;a href=&quot;#location2&quot;&gt;Location&lt;/a&gt;&lt;/code&gt; object's associated
+   &lt;a href=&quot;#effective3&quot;&gt;effective script origin&lt;/a&gt; is not the &lt;a
+   href=&quot;#same-origin&quot; title=&quot;same origin&quot;&gt;same&lt;/a&gt; as the &lt;code&gt;&lt;a
+   href=&quot;#location2&quot;&gt;Location&lt;/a&gt;&lt;/code&gt; object's associated
    &lt;code&gt;Document&lt;/code&gt;'s &lt;a href=&quot;#effective3&quot;&gt;effective script origin&lt;/a&gt;,
    with the following exceptions:
 
@@ -31772,9 +31822,9 @@
      href=&quot;#top-level&quot;&gt;top-level browsing context&lt;/a&gt;, then check if there
      are any &lt;a href=&quot;#application0&quot; title=&quot;application cache&quot;&gt;application
      caches&lt;/a&gt; that have a &lt;a href=&quot;#the-manifest&quot;
-     title=concept-appcache-manifest&gt;manifest&lt;/a&gt; with the same &lt;a
-     href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; as the URI in question, and that have this
-     URI as one of their entries (excluding entries marked as &lt;a
+     title=concept-appcache-manifest&gt;manifest&lt;/a&gt; with the &lt;a
+     href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt; as the URI in question, and that
+     have this URI as one of their entries (excluding entries marked as &lt;a
      href=&quot;#foreign&quot; title=concept-appcache-foreign&gt;foreign&lt;/a&gt;), and that
      already contain their manifest, categorised as a &lt;a href=&quot;#the-manifest&quot;
      title=concept-appcache-manifest&gt;manifest&lt;/a&gt;. If so, then the user agent
@@ -32348,17 +32398,17 @@
      &lt;li&gt;If the browsing context is a &lt;a href=&quot;#top-level&quot;&gt;top-level browsing
       context&lt;/a&gt; (and not an &lt;a href=&quot;#auxiliary0&quot;&gt;auxiliary browsing
       context&lt;/a&gt;), and the &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the
-      &lt;code&gt;Document&lt;/code&gt; of the &lt;i&gt;specified entry&lt;/i&gt; is not the same as
-      the &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the &lt;code&gt;Document&lt;/code&gt; of the
-      &lt;a href=&quot;#current1&quot;&gt;current entry&lt;/a&gt;, then the following sub-sub-steps
+      &lt;code&gt;Document&lt;/code&gt; of the &lt;i&gt;specified entry&lt;/i&gt; is not the &lt;a
+      href=&quot;#same-origin&quot; title=&quot;same origin&quot;&gt;same&lt;/a&gt; as the &lt;a
+      href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the &lt;code&gt;Document&lt;/code&gt; of the &lt;a
+      href=&quot;#current1&quot;&gt;current entry&lt;/a&gt;, then the following sub-sub-steps
       must be run:
       &lt;ol&gt;
        &lt;li&gt;The current &lt;a href=&quot;#browsing2&quot;&gt;browsing context name&lt;/a&gt; must be
         stored with all the entries in the history that are associated with
-        &lt;code&gt;Document&lt;/code&gt; objects with the same &lt;a
-        href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; as the &lt;a href=&quot;#active&quot;&gt;active
-        document&lt;/a&gt; &lt;em&gt;and&lt;/em&gt; that are contiguous with the &lt;a
-        href=&quot;#current1&quot;&gt;current entry&lt;/a&gt;.
+        &lt;code&gt;Document&lt;/code&gt; objects with the &lt;a href=&quot;#same-origin&quot;&gt;same
+        origin&lt;/a&gt; as the &lt;a href=&quot;#active&quot;&gt;active document&lt;/a&gt; &lt;em&gt;and&lt;/em&gt;
+        that are contiguous with the &lt;a href=&quot;#current1&quot;&gt;current entry&lt;/a&gt;.
 
        &lt;li id=resetBCName&gt;The browsing context's &lt;a
         href=&quot;#browsing2&quot;&gt;browsing context name&lt;/a&gt; must be unset.
@@ -32380,7 +32430,7 @@
 
        &lt;li&gt;Any &lt;a href=&quot;#browsing2&quot;&gt;browsing context name&lt;/a&gt; stored with the
         entries in the history that are associated with &lt;code&gt;Document&lt;/code&gt;
-        objects with the same &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; as the new &lt;a
+        objects with the &lt;a href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt; as the new &lt;a
         href=&quot;#active&quot;&gt;active document&lt;/a&gt;, and that are contiguous with the
         specified entry, must be cleared.
       &lt;/ol&gt;
@@ -33241,7 +33291,9 @@
    title=dom-sessionStorage&gt;&lt;a
    href=&quot;#sessionstorage&quot;&gt;sessionStorage&lt;/a&gt;&lt;/code&gt; DOM attribute. Sites can
    add data to the session storage, and it will be accessible to any page
-   from that &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; opened in that window.
+   from the same site opened in that window.&lt;/p&gt;
+  &lt;!-- we're
+  not using xrefs here because this is just an intro --&gt;
 
   &lt;div class=example&gt;
    &lt;p&gt;For example, a page could have a checkbox that the user ticks to
@@ -33304,7 +33356,7 @@
 &lt;/script&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;p&gt;Each &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; has its own separate storage area.
+  &lt;p&gt;Each site has its own separate storage area.
 
   &lt;p&gt;Storage areas (both session storage and local storage) store strings. To
    store structured data in a storage area, you must first convert it to a
@@ -33457,7 +33509,8 @@
    created, the user agent must check to see if the document's &lt;a
    href=&quot;#top-level&quot;&gt;top-level browsing context&lt;/a&gt; has allocated a session
    storage area for that document's &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt;. If it has
-   not, a new storage area for that document's origin must be created.
+   not, a new storage area for that document's &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt;
+   must be created.
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#storage0&quot;&gt;Storage&lt;/a&gt;&lt;/code&gt; object for the
    document's associated &lt;code&gt;&lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; object's
@@ -33477,7 +33530,7 @@
    context&lt;/a&gt;, or by the user following a link in an existing browsing
    context, or in some other way related to a specific &lt;code&gt;&lt;a
    href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt;, then the session storage
-   area of the origin of that &lt;code&gt;&lt;a
+   area of the &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of that &lt;code&gt;&lt;a
    href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; must be copied into the new
    browsing context when it is created. From that point on, however, the two
    session storage areas must be considered separate, not affecting each
@@ -33523,7 +33576,7 @@
    user agent must check to see if it has allocated local storage area for
    the &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the &lt;a href=&quot;#browsing1&quot;&gt;browsing
    context&lt;/a&gt; within which the script is running. If it has not, a new
-   storage area for that origin must be created.
+   storage area for that &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; must be created.
 
   &lt;p&gt;The user agent must then create a &lt;code&gt;&lt;a
    href=&quot;#storage0&quot;&gt;Storage&lt;/a&gt;&lt;/code&gt; object associated with that origin's
@@ -33642,13 +33695,14 @@
   &lt;p&gt;There are various ways of implementing this requirement. One is that if
    a script running in one browsing context accesses a local storage area,
    the UA blocks scripts in other browsing contexts when they try to access
-   the local storage area for the same origin until the first script has
-   executed to completion. (Similarly, when a script in one browsing context
-   accesses its session storage area, any scripts that have the same top
-   level browsing context and the same origin would block when accessing
-   their session storage area until the first script has executed to
-   completion.) Another (potentially more efficient but probably more
-   complex) implementation strategy is to use optimistic transactional script
+   the local storage area for the &lt;a href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt;
+   until the first script has executed to completion. (Similarly, when a
+   script in one browsing context accesses its session storage area, any
+   scripts that have the same top level browsing context and the &lt;a
+   href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt; would block when accessing their
+   session storage area until the first script has executed to completion.)
+   Another (potentially more efficient but probably more complex)
+   implementation strategy is to use optimistic transactional script
    execution. This specification does not require any particular
    implementation strategy, so long as the requirement above is met.
 
@@ -34279,9 +34333,9 @@
      local storage areas and databases.&lt;/p&gt;
 
    &lt;li&gt;
-    &lt;p&gt;Origin-tracking of persistent storage data: user agents may record the
-     origins of sites that contained content from third-party origins that
-     caused data to be stored.&lt;/p&gt;
+    &lt;p&gt;&lt;a href=&quot;#origin0&quot;&gt;Origin&lt;/a&gt;-tracking of persistent storage data:
+     user agents may record the origins of sites that contained content from
+     third-party origins that caused data to be stored.&lt;/p&gt;
 
     &lt;p&gt;If this information is then used to present the view of data currently
      in persistent storage, it would allow the user to make informed
@@ -34556,8 +34610,8 @@
 
   &lt;dl class=switch&gt;
    &lt;dt&gt;If both the URI of the &lt;code&gt;Document&lt;/code&gt; object containing the
-    hyperlink being audited and the ping URI have the same &lt;a
-    href=&quot;#origin0&quot;&gt;origin&lt;/a&gt;
+    hyperlink being audited and the ping URI have the &lt;a
+    href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt;
 
    &lt;dd&gt;The request must include a &lt;code title=&quot;&quot;&gt;Ping-From&lt;/code&gt; HTTP header
     with, as its value, the location of the document containing the
@@ -39019,7 +39073,7 @@
      attribute must be set to the value of the &lt;var title=&quot;&quot;&gt;data&lt;/var&gt;
      buffer, the &lt;code title=dom-MessageEvent-origin&gt;&lt;a
      href=&quot;#origin1&quot;&gt;origin&lt;/a&gt;&lt;/code&gt; attribute must be set to the &lt;a
-     href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the event stream, the &lt;code
+     href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of the event stream's URI, the &lt;code
      title=dom-MessageEvent-lastEventId&gt;&lt;a
      href=&quot;#lasteventid&quot;&gt;lastEventId&lt;/a&gt;&lt;/code&gt; attribute must be set to the
      &lt;span&gt;last event ID string&lt;/span&gt; of the event source, and the &lt;code
@@ -39385,17 +39439,18 @@
 
   &lt;p&gt;When this constructor is invoked, the following steps must be followed.
 
-  &lt;p&gt;First, if the domain part of the script's &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt;
-   is not a host name (e.g. it is an IP address) then the UA must raise a &lt;a
+  &lt;p&gt;First, if the host part of the script's &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; is
+   not a host name (e.g. it is an IP address) then the UA must raise a &lt;a
    href=&quot;#security9&quot;&gt;security exception&lt;/a&gt;. &lt;span class=issue&gt;We currently
    don't allow connections to be set up back to an originating IP address,
    but we could, if the subdomain is the empty string.&lt;/span&gt;
 
   &lt;p&gt;Then, if the &lt;var title=&quot;&quot;&gt;subdomain&lt;/var&gt; argument is null or the empty
-   string, the target host is the domain part of the script's &lt;a
+   string, the target host is the host part of the script's &lt;a
    href=&quot;#origin0&quot;&gt;origin&lt;/a&gt;. Otherwise, the &lt;var title=&quot;&quot;&gt;subdomain&lt;/var&gt;
-   argument is prepended to the domain part of the script's origin with a dot
-   separating the two strings, and that is the target host.
+   argument is prepended to the host part of the script's &lt;a
+   href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; with a dot separating the two strings, and that
+   is the target host.
 
   &lt;p&gt;If either:
 
@@ -40036,7 +40091,7 @@
      than a single literal U+002A ASTERISK character (&quot;*&quot;), and the &lt;a
      href=&quot;#active&quot;&gt;active document&lt;/a&gt; of the &lt;code&gt;&lt;a
      href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the method was invoked
-     does not have the same &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; as &lt;var
+     does not have the &lt;a href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt; as &lt;var
      title=&quot;&quot;&gt;targetOrigin&lt;/var&gt;, then abort these steps silently.&lt;/p&gt;
 
    &lt;li&gt;
@@ -40118,8 +40173,10 @@
   &lt;/div&gt;
 
   &lt;p class=warning&gt;The integrity of this API is based on the inability for
-   scripts of one origin to post arbitrary events (using &lt;code
-   title=&quot;&quot;&gt;dispatchEvent()&lt;/code&gt; or otherwise) to objects in other origins.
+   scripts of one &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; to post arbitrary events
+   (using &lt;code title=&quot;&quot;&gt;dispatchEvent()&lt;/code&gt; or otherwise) to objects in
+   other origins (those that are not the &lt;a href=&quot;#same-origin&quot; title=&quot;same
+   origin&quot;&gt;same&lt;/a&gt;).
 
   &lt;p class=note&gt;Implementors are urged to take extra care in the
    implementation of this feature. It allows authors to transmit information

Modified: source
===================================================================
--- source	2008-05-16 00:34:40 UTC (rev 1633)
+++ source	2008-05-16 01:19:05 UTC (rev 1634)
@@ -988,8 +988,8 @@
   &lt;p&gt;User agents must raise a &lt;span&gt;security exception&lt;/span&gt; whenever
   any of the members of an &lt;code&gt;HTMLDocument&lt;/code&gt; object are
   accessed by scripts whose &lt;span&gt;effective script origin&lt;/span&gt; is
-  not the same as the &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;effective script
-  origin&lt;/span&gt;.&lt;/p&gt;
+  not the &lt;span title=&quot;same origin&quot;&gt;same&lt;/span&gt; as the
+  &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;effective script origin&lt;/span&gt;.&lt;/p&gt;
 
 
 
@@ -11979,7 +11979,8 @@
   rudimentary port scan of the user's local network (especially in
   conjunction with scripting, though scripting isn't actually
   necessary to carry out such an attack). User agents may implement
-  cross-origin access control policies that mitigate this attack.&lt;/p&gt;
+  &lt;span title=&quot;origin&quot;&gt;cross-origin&lt;/span&gt; access control policies
+  that mitigate this attack.&lt;/p&gt;
 
   &lt;p&gt;Once the download has completed, if the image is a valid image,
   the user agent must &lt;span&gt;fire a &lt;code
@@ -12255,8 +12256,6 @@
   &lt;span&gt;reflect&lt;/span&gt; the content attribute of the same name.&lt;/p&gt;
 
 
-
-
   &lt;h4&gt;The &lt;dfn&gt;&lt;code&gt;embed&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=&quot;element&quot;&gt;
@@ -17832,7 +17831,8 @@
   &lt;h5&gt;Security with &lt;code&gt;canvas&lt;/code&gt; elements&lt;/h5&gt;
 
   &lt;p&gt;&lt;strong&gt;Information leakage&lt;/strong&gt; can occur if scripts from
-  one &lt;span&gt;origin&lt;/span&gt; are exposed to images from another origin.&lt;/p&gt;
+  one &lt;span&gt;origin&lt;/span&gt; are exposed to images from another origin
+  (one that isn't the &lt;span title=&quot;same origin&quot;&gt;same&lt;/span&gt;).&lt;/p&gt;
 
   &lt;p&gt;To mitigate this, &lt;code&gt;canvas&lt;/code&gt; elements are defined to
   have a flag indicating whether they are &lt;i&gt;origin-clean&lt;/i&gt;. All
@@ -17845,8 +17845,9 @@
    &lt;li&gt;&lt;p&gt;The element's 2D context's &lt;code
    title=&quot;dom-context-2d-drawImage&quot;&gt;drawImage()&lt;/code&gt; method is
    called with an &lt;code&gt;HTMLImageElement&lt;/code&gt; whose
-   &lt;span&gt;origin&lt;/span&gt; differs from that of the &lt;code&gt;Document&lt;/code&gt;
-   object that owns the &lt;code&gt;canvas&lt;/code&gt; element.&lt;/p&gt;&lt;/li&gt;
+   &lt;span&gt;origin&lt;/span&gt; is not the &lt;span title=&quot;same
+   origin&quot;&gt;same&lt;/span&gt; as that of the &lt;code&gt;Document&lt;/code&gt; object
+   that owns the &lt;code&gt;canvas&lt;/code&gt; element.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The element's 2D context's &lt;code
    title=&quot;dom-context-2d-drawImage&quot;&gt;drawImage()&lt;/code&gt; method is
@@ -17856,9 +17857,10 @@
    &lt;li&gt;&lt;p&gt;The element's 2D context's &lt;code
    title=&quot;dom-context-2d-fillStyle&quot;&gt;fillStyle&lt;/code&gt; attribute is set
    to a &lt;code&gt;CanvasPattern&lt;/code&gt; object that was created from an
-   &lt;code&gt;HTMLImageElement&lt;/code&gt; whose &lt;span&gt;origin&lt;/span&gt; differs
-   from that of the &lt;code&gt;Document&lt;/code&gt; object that owns the
-   &lt;code&gt;canvas&lt;/code&gt; element.&lt;/p&gt;&lt;/li&gt;
+   &lt;code&gt;HTMLImageElement&lt;/code&gt; whose &lt;span&gt;origin&lt;/span&gt; is not the
+   &lt;span title=&quot;same origin&quot;&gt;same&lt;/span&gt; as that of the
+   &lt;code&gt;Document&lt;/code&gt; object that owns the &lt;code&gt;canvas&lt;/code&gt;
+   element.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The element's 2D context's &lt;code
    title=&quot;dom-context-2d-fillStyle&quot;&gt;fillStyle&lt;/code&gt; attribute is set
@@ -17869,9 +17871,10 @@
    &lt;li&gt;&lt;p&gt;The element's 2D context's &lt;code
    title=&quot;dom-context-2d-strokeStyle&quot;&gt;strokeStyle&lt;/code&gt; attribute is
    set to a &lt;code&gt;CanvasPattern&lt;/code&gt; object that was created from an
-   &lt;code&gt;HTMLImageElement&lt;/code&gt; whose &lt;span&gt;origin&lt;/span&gt; differs
-   from that of the &lt;code&gt;Document&lt;/code&gt; object that owns the
-   &lt;code&gt;canvas&lt;/code&gt; element.&lt;/p&gt;&lt;/li&gt;
+   &lt;code&gt;HTMLImageElement&lt;/code&gt; whose &lt;span&gt;origin&lt;/span&gt; is not the
+   &lt;span title=&quot;same origin&quot;&gt;same&lt;/span&gt; as that of the
+   &lt;code&gt;Document&lt;/code&gt; object that owns the &lt;code&gt;canvas&lt;/code&gt;
+   element.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The element's 2D context's &lt;code
    title=&quot;dom-context-2d-strokeStyle&quot;&gt;strokeStyle&lt;/code&gt; attribute is
@@ -25479,7 +25482,7 @@
    &lt;code&gt;Document&lt;/code&gt; is the &lt;span&gt;origin&lt;/span&gt; of the
    &lt;span&gt;active document&lt;/span&gt; of the new &lt;span&gt;browsing
    context&lt;/span&gt;'s &lt;span&gt;opener browsing context&lt;/span&gt; at the time
-   of its creation.&lt;/dd&gt;
+   of the new browsing context's creation.&lt;/dd&gt;
 
 
    &lt;dt&gt;Otherwise&lt;/dt&gt;
@@ -25582,9 +25585,9 @@
   &lt;ul&gt;
 
    &lt;li&gt;Either the &lt;span&gt;origin&lt;/span&gt; of the &lt;span&gt;active
-   document&lt;/span&gt; of &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; is the same as the
-   &lt;span&gt;origin&lt;/span&gt; of the &lt;span&gt;active document&lt;/span&gt; of &lt;var
-   title=&quot;&quot;&gt;B&lt;/var&gt;, or&lt;/li&gt;
+   document&lt;/span&gt; of &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; is the &lt;span title=&quot;same
+   origin&quot;&gt;same&lt;/span&gt; as the &lt;span&gt;origin&lt;/span&gt; of the &lt;span&gt;active
+   document&lt;/span&gt; of &lt;var title=&quot;&quot;&gt;B&lt;/var&gt;, or&lt;/li&gt;
 
    &lt;li&gt;The browsing context &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; an &lt;span&gt;auxiliary
    browsing context&lt;/span&gt; and either its &lt;span&gt;opener browsing
@@ -25595,9 +25598,10 @@
    &lt;li&gt;The browsing context &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; is not a
    &lt;span&gt;top-level browsing context&lt;/span&gt;, but there exists an
    &lt;span&gt;ancestor browsing context&lt;/span&gt; of &lt;var title=&quot;&quot;&gt;B&lt;/var&gt;
-   whose &lt;span&gt;active document&lt;/span&gt; has the same &lt;span&gt;origin&lt;/span&gt;
-   as the &lt;span&gt;active document&lt;/span&gt; of &lt;var title=&quot;&quot;&gt;A&lt;/var&gt;
-   (possibly in fact being &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; itself).&lt;/li&gt;
+   whose &lt;span&gt;active document&lt;/span&gt; has the &lt;span title=&quot;same
+   origin&quot;&gt;same&lt;/span&gt; &lt;span&gt;origin&lt;/span&gt; as the &lt;span&gt;active
+   document&lt;/span&gt; of &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; (possibly in fact being
+   &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; itself).&lt;/li&gt;
 
   &lt;/ul&gt;
 
@@ -26047,7 +26051,7 @@
     &lt;ol&gt;
 
      &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;uri&lt;/var&gt; be the URI for which the
-     origin is being determined.&lt;/p&gt;&lt;/li&gt;
+     &lt;span&gt;origin&lt;/span&gt; is being determined.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Parse &lt;var title=&quot;&quot;&gt;uri&lt;/var&gt; according to the rules
      described in RFC 3986 and RFC 3987. &lt;a
@@ -26064,7 +26068,7 @@
      identifier.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If the scheme is &quot;&lt;code title=&quot;&quot;&gt;file&lt;/code&gt;&quot;, then the
-     user agent may return a UA-specific origin.&lt;/p&gt;&lt;/li&gt;
+     user agent may return a UA-specific value.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;host&lt;/var&gt; be the
      &lt;host&gt;/&lt;ihost&gt; component of the URI.&lt;/p&gt;&lt;/li&gt;
@@ -26173,10 +26177,10 @@
 
     &lt;/dl&gt;
 
-    &lt;p&gt;The &lt;span&gt;origin&lt;/span&gt; of the script is then the same as the
+    &lt;p&gt;The &lt;span&gt;origin&lt;/span&gt; of the script is then equal to the
     &lt;span&gt;origin&lt;/span&gt; of the owner, and the &lt;span&gt;effective script
-    origin&lt;/span&gt; of the script is the same as the &lt;span&gt;effective
-    script origin&lt;/span&gt; of the owner.&lt;/p&gt;
+    origin&lt;/span&gt; of the script is equal to the &lt;span&gt;effective script
+    origin&lt;/span&gt; of the owner.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -26189,13 +26193,14 @@
      &lt;dt&gt;If a &lt;code&gt;Document&lt;/code&gt; or image was returned by the
      &lt;code&gt;XMLHttpRequest&lt;/code&gt; API&lt;/dt&gt;
 
-     &lt;dd&gt;The origin and &lt;span&gt;effective script origin&lt;/span&gt; are the
-     same as the origin and &lt;span&gt;effective script origin&lt;/span&gt; of
-     the &lt;code&gt;Document&lt;/code&gt; object that was the &lt;span&gt;active
-     document&lt;/span&gt; of the &lt;code&gt;Window&lt;/code&gt; object of the browsing
-     context from which the &lt;code&gt;XMLHttpRequest&lt;/code&gt; constructor
-     was invoked. (That is, they track the &lt;code&gt;Document&lt;/code&gt; to
-     which the &lt;code&gt;XMLHttpRequest&lt;/code&gt; object's &lt;a
+     &lt;dd&gt;The &lt;span&gt;origin&lt;/span&gt; and &lt;span&gt;effective script
+     origin&lt;/span&gt; are equal to the &lt;span&gt;origin&lt;/span&gt; and
+     &lt;span&gt;effective script origin&lt;/span&gt; of the &lt;code&gt;Document&lt;/code&gt;
+     object that was the &lt;span&gt;active document&lt;/span&gt; of the
+     &lt;code&gt;Window&lt;/code&gt; object of the browsing context from which the
+     &lt;code&gt;XMLHttpRequest&lt;/code&gt; constructor was invoked. (That is,
+     they track the &lt;code&gt;Document&lt;/code&gt; to which the
+     &lt;code&gt;XMLHttpRequest&lt;/code&gt; object's &lt;a
      href=&quot;<A HREF="http://dev.w3.org/2006/webapi/XMLHttpRequest-2/Overview.html#document-pointer">http://dev.w3.org/2006/webapi/XMLHttpRequest-2/Overview.html#document-pointer</A>&quot;&gt;&lt;code&gt;Document&lt;/code&gt;
      pointer&lt;/a&gt; pointed when it was created.) &lt;a
      href=&quot;#refsXHR&quot;&gt;[XHR]&lt;/a&gt;&lt;/dd&gt;
@@ -26205,50 +26210,52 @@
      &lt;span title=&quot;javascript protocol&quot;&gt;&lt;code&gt;javascript:&lt;/code&gt;
      URI&lt;/span&gt;&lt;/dt&gt;
 
-     &lt;dd&gt;The origin is the same as the origin of the script of that
-     &lt;code&gt;javascript:&lt;/code&gt; URI.&lt;/dd&gt;
+     &lt;dd&gt;The &lt;span&gt;origin&lt;/span&gt; is equal to the &lt;span&gt;origin&lt;/span&gt;
+     of the script of that &lt;code&gt;javascript:&lt;/code&gt; URI.&lt;/dd&gt;
 
 
      &lt;dt&gt;If a &lt;code&gt;Document&lt;/code&gt; or image was served over the
      network and has an address that uses a URI scheme with a
      server-based naming authority&lt;/dt&gt;
 
-     &lt;dd&gt;The origin is the origin of the full URI of the
-     &lt;code&gt;Document&lt;/code&gt; or image.&lt;/dd&gt;
+     &lt;dd&gt;The &lt;span&gt;origin&lt;/span&gt; is the &lt;span&gt;origin&lt;/span&gt; of the
+     full URI of the &lt;code&gt;Document&lt;/code&gt; or image.&lt;/dd&gt;
 
 
      &lt;dt&gt;If a &lt;code&gt;Document&lt;/code&gt; or image was generated from a
-     &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URI that was returned as the location of an
-     HTTP redirect (or equivalent in other protocols)&lt;/dt&gt;
+     &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URI that was returned as the location
+     of an HTTP redirect (or equivalent in other protocols)&lt;/dt&gt;
 
-     &lt;dd&gt;The origin is the origin of the URI that redirected to the
-     &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URI.&lt;/dd&gt;
+     &lt;dd&gt;The &lt;span&gt;origin&lt;/span&gt; is the &lt;span&gt;origin&lt;/span&gt; of the URI
+     that redirected to the &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URI.&lt;/dd&gt;
 
 
      &lt;dt&gt;If a &lt;code&gt;Document&lt;/code&gt; or image was generated from a
-     &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URI found in another &lt;code&gt;Document&lt;/code&gt; or
-     in a script&lt;/dt&gt;
+     &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URI found in another
+     &lt;code&gt;Document&lt;/code&gt; or in a script&lt;/dt&gt;
 
-     &lt;dd&gt;The origin is the origin of the &lt;code&gt;Document&lt;/code&gt; or
-     script in which the &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URI was found.&lt;/dd&gt;
+     &lt;dd&gt;The &lt;span&gt;origin&lt;/span&gt; is the &lt;span&gt;origin&lt;/span&gt; of the
+     &lt;code&gt;Document&lt;/code&gt; or script in which the &lt;code
+     title=&quot;&quot;&gt;data:&lt;/code&gt; URI was found.&lt;/dd&gt;
 
 
      &lt;dt&gt;If a &lt;code&gt;Document&lt;/code&gt; has the URI
      &quot;&lt;code&gt;about:blank&lt;/code&gt;&quot;&lt;/dt&gt;
 
-     &lt;dd&gt;The origin of the &lt;code&gt;Document&lt;/code&gt; is &lt;a
-     href=&quot;#about-blank-origin&quot;&gt;the origin it was assigned when its
-     browsing context was created&lt;/a&gt;.&lt;/dd&gt;
+     &lt;dd&gt;The &lt;span&gt;origin&lt;/span&gt; of the &lt;code&gt;Document&lt;/code&gt; is &lt;a
+     href=&quot;#about-blank-origin&quot;&gt;the &lt;span&gt;origin&lt;/span&gt; it was
+     assigned when its browsing context was created&lt;/a&gt;.&lt;/dd&gt;
 
 
      &lt;dt&gt;If a &lt;code&gt;Document&lt;/code&gt; or image was obtained in some
-     other manner (e.g. a &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URI typed in by the user,
-     a &lt;code&gt;Document&lt;/code&gt; created using the &lt;code
-     title=&quot;&quot;&gt;createDocument()&lt;/code&gt; API, a &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URI
-     returned as the location of an HTTP redirect, etc)&lt;/dt&gt;
+     other manner (e.g. a &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URI typed in by
+     the user, a &lt;code&gt;Document&lt;/code&gt; created using the &lt;code
+     title=&quot;&quot;&gt;createDocument()&lt;/code&gt; API, a &lt;code
+     title=&quot;&quot;&gt;data:&lt;/code&gt; URI returned as the location of an HTTP
+     redirect, etc)&lt;/dt&gt;
 
-     &lt;dd&gt;The origin is a globally unique identifier assigned when the
-     &lt;code&gt;Document&lt;/code&gt; or image is created.&lt;/dd&gt;
+     &lt;dd&gt;The &lt;span&gt;origin&lt;/span&gt; is a globally unique identifier
+     assigned when the &lt;code&gt;Document&lt;/code&gt; or image is created.&lt;/dd&gt;
 
     &lt;/dl&gt;
 
@@ -26273,28 +26280,57 @@
    scheme/host/port tuple, then return the empty string.&lt;/li&gt;
 
    &lt;li&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; be the scheme part of
-   the origin tuple.&lt;/li&gt;
+   the &lt;span&gt;origin&lt;/span&gt; tuple.&lt;/li&gt;
 
    &lt;li&gt;Append the string &quot;&lt;code title=&quot;&quot;&gt;://&lt;/code&gt;&quot; to &lt;var
    title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/li&gt;
 
    &lt;li&gt;Apply the IDNA ToUnicode algorithm to each component of the
-   host part of the origin tuple, and append the results &mdash; each
-   component, in the same order, separated by U+002E FULL STOP
-   characters (&quot;.&quot;) &mdash; to &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/li&gt;
+   host part of the &lt;span&gt;origin&lt;/span&gt; tuple, and append the results
+   &mdash; each component, in the same order, separated by U+002E FULL
+   STOP characters (&quot;.&quot;) &mdash; to &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/li&gt;
 
-   &lt;li&gt;If the port part of the origin tuple gives a port that is
-   different from the default port for the protocol given by the
-   scheme part of the origin tuple, then append a U+003A COLON
-   character (&quot;:&quot;) and the given port, in base ten, to &lt;var
-   title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/li&gt;
+   &lt;li&gt;If the port part of the &lt;span&gt;origin&lt;/span&gt; tuple gives a port
+   that is different from the default port for the protocol given by
+   the scheme part of the &lt;span&gt;origin&lt;/span&gt; tuple, then append a
+   U+003A COLON character (&quot;:&quot;) and the given port, in base ten, to
+   &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/li&gt;
 
    &lt;li&gt;Return &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/li&gt;
 
   &lt;/ol&gt;
 
+  &lt;p&gt;Two &lt;span title=&quot;origin&quot;&gt;origins&lt;/span&gt; are said to be the
+  &lt;dfn&gt;same origin&lt;/dfn&gt; if the following algorithm returns true:&lt;/p&gt;
 
+  &lt;ol&gt;
 
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; be the first &lt;span&gt;origin&lt;/span&gt;
+   being compared, and &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; be the second
+   &lt;span&gt;origin&lt;/span&gt; being compared.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; are both
+   opaque identifiers, and their value is equal, then return
+   true.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Otherwise, if either &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; or &lt;var
+   title=&quot;&quot;&gt;B&lt;/var&gt; or both are opaque identifiers, return
+   false.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; have
+   scheme components that are not identical, return false.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; have host
+   components that are not identical, return false.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; have port
+   components that are not identical, return false.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return true.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+
   &lt;h4&gt;Relaxing the same-origin restriction&lt;/h4&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;dom-document-domain&quot;&gt;&lt;code&gt;domain&lt;/code&gt;&lt;/dfn&gt;
@@ -26377,8 +26413,9 @@
 
     &lt;p&gt;Set the port part of the &lt;span&gt;effective script origin&lt;/span&gt;
     tuple of the &lt;code&gt;Document&lt;/code&gt; to &quot;manual override&quot; (a value
-    that, for the purposes of comparing origins, is the same as
-    &quot;manual override&quot; but not the same as any other value).&lt;/p&gt;
+    that, for the purposes of &lt;span title=&quot;same origin&quot;&gt;comparing
+    origins&lt;/span&gt;, is identical to &quot;manual override&quot; but not
+    identical to any other value).&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -26479,15 +26516,16 @@
   &lt;p&gt;When a browsing context is &lt;span
   title=&quot;navigate&quot;&gt;navigated&lt;/span&gt; to a &lt;code&gt;javascript:&lt;/code&gt; URI,
   and the &lt;span&gt;active document&lt;/span&gt; of that browsing context has
-  the same &lt;span&gt;origin&lt;/span&gt; as the script given by that URI, the
+  the &lt;span&gt;same origin&lt;/span&gt; as the script given by that URI, the
   dereference context must be the &lt;span&gt;browsing context&lt;/span&gt; being
   navigated.&lt;/p&gt;
 
   &lt;p&gt;When a browsing context is &lt;span
   title=&quot;navigate&quot;&gt;navigated&lt;/span&gt; to a &lt;code&gt;javascript:&lt;/code&gt; URI,
   and the &lt;span&gt;active document&lt;/span&gt; of that browsing context has a
-  &lt;em&gt;different&lt;/em&gt; &lt;span&gt;origin&lt;/span&gt; than the script given by the
-  URI, the dereference context must be an empty object.&lt;/p&gt;
+  an &lt;span&gt;origin&lt;/span&gt; that is &lt;em&gt;not&lt;/em&gt; the &lt;span title=&quot;same
+  origin&quot;&gt;same&lt;/span&gt; as that of the script given by the URI, the
+  dereference context must be an empty object.&lt;/p&gt;
 
   &lt;p&gt;Otherwise, the dereference context must be an empty object.&lt;/p&gt;
 
@@ -27143,8 +27181,8 @@
      called, and that&lt;/li&gt;
 
      &lt;li&gt;have an &lt;span&gt;active document&lt;/span&gt; whose
-     &lt;span&gt;origin&lt;/span&gt; is the same as the origin of the script that
-     called the &lt;code
+     &lt;span&gt;origin&lt;/span&gt; is the &lt;span title=&quot;same origin&quot;&gt;same&lt;/span&gt;
+     as the &lt;span&gt;origin&lt;/span&gt; of the script that called the &lt;code
      title=&quot;dom-showModalDialog&quot;&gt;showModalDialog()&lt;/code&gt; method at
      the time the method was called,&lt;/li&gt; &lt;!-- Note that changing
      document.domain to talk to another domain doesn't make you able
@@ -27247,14 +27285,14 @@
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-modalWindow-dialogArguments&quot;&gt;&lt;code&gt;dialogArguments&lt;/code&gt;&lt;/dfn&gt;
   DOM attribute, on getting, must check whether its browsing context's
-  &lt;span&gt;active document&lt;/span&gt;'s &lt;span&gt;origin&lt;/span&gt; is the same as
-  the &lt;span&gt;dialog arguments' origin&lt;/span&gt;. If it is, then the
-  browsing context's &lt;span&gt;dialog arguments&lt;/span&gt; must be returned
-  unchanged. Otherwise, if the &lt;span&gt;dialog arguments&lt;/span&gt; are an
-  object, then the empty string must be returned, and if the
-  &lt;span&gt;dialog arguments&lt;/span&gt; are not an object, then the
-  stringification of the &lt;span&gt;dialog arguments&lt;/span&gt; must be
-  returned.
+  &lt;span&gt;active document&lt;/span&gt;'s &lt;span&gt;origin&lt;/span&gt; is the &lt;span
+  title=&quot;same origin&quot;&gt;same&lt;/span&gt; as the &lt;span&gt;dialog arguments'
+  origin&lt;/span&gt;. If it is, then the browsing context's &lt;span&gt;dialog
+  arguments&lt;/span&gt; must be returned unchanged. Otherwise, if the
+  &lt;span&gt;dialog arguments&lt;/span&gt; are an object, then the empty string
+  must be returned, and if the &lt;span&gt;dialog arguments&lt;/span&gt; are not
+  an object, then the stringification of the &lt;span&gt;dialog
+  arguments&lt;/span&gt; must be returned.
 
   &lt;p&gt;These browsing contexts also have an associated &lt;dfn&gt;return
   value&lt;/dfn&gt;. The &lt;span&gt;return value&lt;/span&gt; of a browsing context
@@ -27688,7 +27726,7 @@
      manifest is downloaded and processed during the &lt;span&gt;application
      cache update process&lt;/span&gt;. All the &lt;span
      title=&quot;concept-appcache-implicit&quot;&gt;implicit entries&lt;/span&gt; have
-     the same &lt;span&gt;origin&lt;/span&gt; as the manifest.
+     the &lt;span title=&quot;same origin&quot;&gt;same origin&lt;/span&gt; as the manifest.
 
  
      &lt;dt&gt;&lt;dfn title=&quot;concept-appcache-explicit&quot;&gt;Explicit entries&lt;/dfn&gt;
@@ -27738,8 +27776,9 @@
    title=&quot;concept-appcache-matches-oppcache&quot;&gt;prefix match
    patterns&lt;/span&gt;, each of which is mapped to a &lt;span
    title=&quot;concept-appcache-fallback&quot;&gt;fallback entry&lt;/span&gt;. Each
-   namespace URI prefix, when parsed as a URI, has the same &lt;span&gt;origin&lt;/span&gt; as &lt;span
-   title=&quot;concept-appcache-manifest&quot;&gt;the manifest&lt;/span&gt;.&lt;/li&gt;
+   namespace URI prefix, when parsed as a URI, has the &lt;span&gt;same
+   origin&lt;/span&gt; as &lt;span title=&quot;concept-appcache-manifest&quot;&gt;the
+   manifest&lt;/span&gt;.&lt;/li&gt;
 
    &lt;li&gt;Zero or more URIs that form the &lt;dfn
    title=&quot;concept-appcache-onlinewhitelist&quot;&gt;online whitelist&lt;/dfn&gt;.
@@ -27884,8 +27923,8 @@
   sections.&lt;/p&gt;
 
   &lt;p&gt;&lt;span title=&quot;concept-appcache-oppcache-ns&quot;&gt;Opportunistic caching
-  namespaces&lt;/span&gt; must have the same &lt;span&gt;origin&lt;/span&gt;
-  as the manifest itself.&lt;/p&gt;
+  namespaces&lt;/span&gt; must have the &lt;span&gt;same origin&lt;/span&gt; as the
+  manifest itself.&lt;/p&gt;
 
   &lt;p&gt;An opportunistic caching namespace must not be listed more than
   once.&lt;/p&gt;
@@ -28069,8 +28108,9 @@
       line&quot;.&lt;/p&gt;
 
       &lt;p&gt;If the absolute URI or IRI corresponding to &lt;var
-      title=&quot;&quot;&gt;part one&lt;/var&gt; does not have the same &lt;span&gt;origin&lt;/span&gt; as the manifest's URI, then jump back to
-      the step labeled &quot;start of line&quot;.&lt;/p&gt; &lt;!-- SECURITY --&gt;
+      title=&quot;&quot;&gt;part one&lt;/var&gt; does not have the &lt;span&gt;same
+      origin&lt;/span&gt; as the manifest's URI, then jump back to the step
+      labeled &quot;start of line&quot;.&lt;/p&gt; &lt;!-- SECURITY --&gt;
 
       &lt;p&gt;If the absolute URI or IRI corresponding to &lt;var
       title=&quot;&quot;&gt;part two&lt;/var&gt; has a different &lt;scheme&gt; component
@@ -28527,8 +28567,8 @@
   opportunistic caching namespace&lt;/dfn&gt; if there exists an
   &lt;span&gt;application cache&lt;/span&gt; whose &lt;span
   title=&quot;concept-appcache-manifest&quot;&gt;manifest&lt;/span&gt;'s URI has the
-  same &lt;span&gt;origin&lt;/span&gt; as the URI in question, and if
-  that application cache has an &lt;span
+  &lt;span&gt;same origin&lt;/span&gt; as the URI in question, and if that
+  application cache has an &lt;span
   title=&quot;concept-appcache-oppcache-ns&quot;&gt;opportunistic caching
   namespace&lt;/span&gt; with a &lt;path&gt; component that exactly matches
   the start of the &lt;path&gt; component of the URI being
@@ -28625,11 +28665,11 @@
 
     &lt;ol&gt;
 
-     &lt;li&gt;&lt;p&gt;If the manifest URI does not have the same
-     &lt;span&gt;origin&lt;/span&gt; as the resource's own URI, then invoke the
-     &lt;span title=&quot;concept-appcache-init-no-attribute&quot;&gt;application
-     cache selection algorithm&lt;/span&gt; again, but without a manifest,
-     and abort these steps.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If the manifest URI does not have the &lt;span&gt;same
+     origin&lt;/span&gt; as the resource's own URI, then invoke the &lt;span
+     title=&quot;concept-appcache-init-no-attribute&quot;&gt;application cache
+     selection algorithm&lt;/span&gt; again, but without a manifest, and
+     abort these steps.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If there is already an &lt;span&gt;application cache&lt;/span&gt;
      identified by this manifest URI, and the most up to date version
@@ -28725,7 +28765,7 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If the resource's URI has the same &lt;span&gt;origin&lt;/span&gt; as the
+    &lt;p&gt;If the resource's URI has the &lt;span&gt;same origin&lt;/span&gt; as the
     manifest's URI, and the start of the resource's URI's &lt;path&gt;
     component is exactly matched by the &lt;path&gt; component of an
     &lt;span title=&quot;concept-appcache-oppcache-ns&quot;&gt;opportunistic caching
@@ -29519,10 +29559,10 @@
 
   &lt;p&gt;User agents must raise a &lt;span&gt;security exception&lt;/span&gt; whenever
   any of the members of a &lt;code&gt;Location&lt;/code&gt; object are accessed by
-  scripts whose &lt;span&gt;effective script origin&lt;/span&gt; is not the same
-  as the &lt;code&gt;Location&lt;/code&gt; object's associated
-  &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;effective script origin&lt;/span&gt;, with
-  the following exceptions:&lt;/p&gt;
+  scripts whose &lt;span&gt;effective script origin&lt;/span&gt; is not the &lt;span
+  title=&quot;same origin&quot;&gt;same&lt;/span&gt; as the &lt;code&gt;Location&lt;/code&gt;
+  object's associated &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;effective script
+  origin&lt;/span&gt;, with the following exceptions:&lt;/p&gt;
 
   &lt;ul&gt;
 
@@ -29623,10 +29663,9 @@
     &lt;span&gt;top-level browsing context&lt;/span&gt;, then check if there are
     any &lt;span title=&quot;application cache&quot;&gt;application caches&lt;/span&gt; that
     have a &lt;span title=&quot;concept-appcache-manifest&quot;&gt;manifest&lt;/span&gt;
-    with the same &lt;span&gt;origin&lt;/span&gt; as the URI in
-    question, and that have this URI as one of their entries
-    (excluding entries marked as &lt;span
-    title=&quot;concept-appcache-foreign&quot;&gt;foreign&lt;/span&gt;), and that
+    with the &lt;span&gt;same origin&lt;/span&gt; as the URI in question, and that
+    have this URI as one of their entries (excluding entries marked as
+    &lt;span title=&quot;concept-appcache-foreign&quot;&gt;foreign&lt;/span&gt;), and that
     already contain their manifest, categorised as a &lt;span
     title=&quot;concept-appcache-manifest&quot;&gt;manifest&lt;/span&gt;. If so, then the
     user agent must then fetch the resource from the &lt;span
@@ -30219,19 +30258,18 @@
      &lt;li&gt;If the browsing context is a &lt;span&gt;top-level browsing
      context&lt;/span&gt; (and not an &lt;span&gt;auxiliary browsing
      context&lt;/span&gt;), and the &lt;span&gt;origin&lt;/span&gt; of the
-     &lt;code&gt;Document&lt;/code&gt; of the &lt;i&gt;specified entry&lt;/i&gt; is not
-     the same as the &lt;span&gt;origin&lt;/span&gt; of the &lt;code&gt;Document&lt;/code&gt;
-     of the &lt;span&gt;current entry&lt;/span&gt;, then the following
-     sub-sub-steps must be run:
+     &lt;code&gt;Document&lt;/code&gt; of the &lt;i&gt;specified entry&lt;/i&gt; is not the
+     &lt;span title=&quot;same origin&quot;&gt;same&lt;/span&gt; as the &lt;span&gt;origin&lt;/span&gt;
+     of the &lt;code&gt;Document&lt;/code&gt; of the &lt;span&gt;current entry&lt;/span&gt;,
+     then the following sub-sub-steps must be run:
 
       &lt;ol&gt;
 
        &lt;li&gt;The current &lt;span&gt;browsing context name&lt;/span&gt; must be
        stored with all the entries in the history that are associated
-       with &lt;code&gt;Document&lt;/code&gt; objects with the same
-       &lt;span&gt;origin&lt;/span&gt; as the &lt;span&gt;active document&lt;/span&gt;
-       &lt;em&gt;and&lt;/em&gt; that are contiguous with the &lt;span&gt;current
-       entry&lt;/span&gt;.&lt;/li&gt;
+       with &lt;code&gt;Document&lt;/code&gt; objects with the &lt;span&gt;same
+       origin&lt;/span&gt; as the &lt;span&gt;active document&lt;/span&gt; &lt;em&gt;and&lt;/em&gt;
+       that are contiguous with the &lt;span&gt;current entry&lt;/span&gt;.&lt;/li&gt;
 
        &lt;li id=&quot;resetBCName&quot;&gt;The browsing context's &lt;span&gt;browsing
        context name&lt;/span&gt; must be unset.&lt;/li&gt;
@@ -30259,7 +30297,7 @@
 
        &lt;li&gt;Any &lt;span&gt;browsing context name&lt;/span&gt; stored with the
        entries in the history that are associated with
-       &lt;code&gt;Document&lt;/code&gt; objects with the same &lt;span&gt;origin&lt;/span&gt;
+       &lt;code&gt;Document&lt;/code&gt; objects with the &lt;span&gt;same origin&lt;/span&gt;
        as the new &lt;span&gt;active document&lt;/span&gt;, and that are
        contiguous with the specified entry, must be cleared.&lt;/li&gt;
 
@@ -31050,7 +31088,8 @@
   &lt;p&gt;To address this, this specification introduces the &lt;code
   title=&quot;dom-sessionStorage&quot;&gt;sessionStorage&lt;/code&gt; DOM attribute.
   Sites can add data to the session storage, and it will be accessible
-  to any page from that &lt;span&gt;origin&lt;/span&gt; opened in that window.&lt;/p&gt;
+  to any page from the same site opened in that window.&lt;/p&gt; &lt;!-- we're
+  not using xrefs here because this is just an intro --&gt;
 
   &lt;div class=&quot;example&quot;&gt;
 
@@ -31118,7 +31157,7 @@
 
   &lt;/div&gt;
 
-  &lt;p&gt;Each &lt;span&gt;origin&lt;/span&gt; has its own separate storage area.&lt;/p&gt;
+  &lt;p&gt;Each site has its own separate storage area.&lt;/p&gt;
 
   &lt;p&gt;Storage areas (both session storage and local storage) store
   strings. To store structured data in a storage area, you must first
@@ -31264,7 +31303,7 @@
   must check to see if the document's &lt;span&gt;top-level browsing
   context&lt;/span&gt; has allocated a session storage area for that
   document's &lt;span&gt;origin&lt;/span&gt;. If it has not, a new storage area
-  for that document's origin must be created.&lt;/p&gt;
+  for that document's &lt;span&gt;origin&lt;/span&gt; must be created.&lt;/p&gt;
 
   &lt;p&gt;The &lt;code&gt;Storage&lt;/code&gt; object for the document's associated
   &lt;code&gt;Window&lt;/code&gt; object's &lt;code
@@ -31282,10 +31321,11 @@
   a script in an existing &lt;span&gt;browsing context&lt;/span&gt;, or by the
   user following a link in an existing browsing context, or in some
   other way related to a specific &lt;code&gt;HTMLDocument&lt;/code&gt;, then the
-  session storage area of the origin of that &lt;code&gt;HTMLDocument&lt;/code&gt;
-  must be copied into the new browsing context when it is created.
-  From that point on, however, the two session storage areas must be
-  considered separate, not affecting each other in any way.&lt;/p&gt;
+  session storage area of the &lt;span&gt;origin&lt;/span&gt; of that
+  &lt;code&gt;HTMLDocument&lt;/code&gt; must be copied into the new browsing
+  context when it is created.  From that point on, however, the two
+  session storage areas must be considered separate, not affecting
+  each other in any way.&lt;/p&gt;
 
   &lt;p id=&quot;sessionStorageEvent&quot;&gt;When the &lt;code
   title=&quot;dom-Storage-setItem&quot;&gt;setItem()&lt;/code&gt;, &lt;code
@@ -31322,7 +31362,8 @@
   attribute is accessed, the user agent must check to see if it has
   allocated local storage area for the &lt;span&gt;origin&lt;/span&gt; of the
   &lt;span&gt;browsing context&lt;/span&gt; within which the script is running. If
-  it has not, a new storage area for that origin must be created.&lt;/p&gt;
+  it has not, a new storage area for that &lt;span&gt;origin&lt;/span&gt; must be
+  created.&lt;/p&gt;
 
   &lt;p&gt;The user agent must then create a &lt;code&gt;Storage&lt;/code&gt; object
   associated with that origin's local storage area, and return
@@ -31441,17 +31482,17 @@
   &lt;p&gt;There are various ways of implementing this requirement. One is
   that if a script running in one browsing context accesses a local
   storage area, the UA blocks scripts in other browsing contexts when
-  they try to access the local storage area for the same origin until
-  the first script has executed to completion. (Similarly, when a
-  script in one browsing context accesses its session storage area,
-  any scripts that have the same top level browsing context and the
-  same origin would block when accessing their session storage area
-  until the first script has executed to completion.) Another
-  (potentially more efficient but probably more complex)
-  implementation strategy is to use optimistic transactional script
-  execution. This specification does not require any particular
-  implementation strategy, so long as the requirement above is
-  met.&lt;/p&gt;
+  they try to access the local storage area for the &lt;span&gt;same
+  origin&lt;/span&gt; until the first script has executed to
+  completion. (Similarly, when a script in one browsing context
+  accesses its session storage area, any scripts that have the same
+  top level browsing context and the &lt;span&gt;same origin&lt;/span&gt; would
+  block when accessing their session storage area until the first
+  script has executed to completion.) Another (potentially more
+  efficient but probably more complex) implementation strategy is to
+  use optimistic transactional script execution. This specification
+  does not require any particular implementation strategy, so long as
+  the requirement above is met.&lt;/p&gt;
 
 
 
@@ -32098,8 +32139,8 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Origin-tracking of persistent storage data: user agents may
-    record the origins of sites that contained content from
+    &lt;p&gt;&lt;span&gt;Origin&lt;/span&gt;-tracking of persistent storage data: user
+    agents may record the origins of sites that contained content from
     third-party origins that caused data to be stored.&lt;/p&gt;
 
     &lt;p&gt;If this information is then used to present the view of data
@@ -32398,8 +32439,8 @@
   &lt;dl class=&quot;switch&quot;&gt;
 
    &lt;dt&gt;If both the URI of the &lt;code&gt;Document&lt;/code&gt; object containing
-   the hyperlink being audited and the ping URI have the same
-   &lt;span&gt;origin&lt;/span&gt;&lt;/dt&gt;
+   the hyperlink being audited and the ping URI have the &lt;span&gt;same
+   origin&lt;/span&gt;&lt;/dt&gt;
 
    &lt;dd&gt;The request must include a &lt;code title=&quot;&quot;&gt;Ping-From&lt;/code&gt; HTTP
    header with, as its value, the location of the document containing
@@ -36597,12 +36638,11 @@
    title=&quot;dom-MessageEvent-data&quot;&gt;data&lt;/code&gt; attribute must be set to
    the value of the &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; buffer, the &lt;code
    title=&quot;dom-MessageEvent-origin&quot;&gt;origin&lt;/code&gt; attribute must be set
-   to the &lt;span&gt;origin&lt;/span&gt; of the event stream, the &lt;code
-   title=&quot;dom-MessageEvent-lastEventId&quot;&gt;lastEventId&lt;/code&gt;
-   attribute must be set to the &lt;span&gt;last event ID string&lt;/span&gt; of
-   the event source, and the &lt;code
-   title=&quot;dom-MessageEvent-source&quot;&gt;source&lt;/code&gt; attribute must be set
-   to null.&lt;/p&gt;&lt;/li&gt;
+   to the &lt;span&gt;origin&lt;/span&gt; of the event stream's URI, the &lt;code
+   title=&quot;dom-MessageEvent-lastEventId&quot;&gt;lastEventId&lt;/code&gt; attribute
+   must be set to the &lt;span&gt;last event ID string&lt;/span&gt; of the event
+   source, and the &lt;code title=&quot;dom-MessageEvent-source&quot;&gt;source&lt;/code&gt;
+   attribute must be set to null.&lt;/p&gt;&lt;/li&gt;
    
    &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;event name&lt;/var&gt; buffer has a value
    other than the empty string, change the type of the newly created
@@ -36971,7 +37011,7 @@
   &lt;p&gt;When this constructor is invoked, the following steps must be
   followed.&lt;/p&gt;
 
-  &lt;p&gt;First, if the domain part of the script's &lt;span&gt;origin&lt;/span&gt; is
+  &lt;p&gt;First, if the host part of the script's &lt;span&gt;origin&lt;/span&gt; is
   not a host name (e.g. it is an IP address) then the UA must raise a
   &lt;span&gt;security exception&lt;/span&gt;. &lt;span class=&quot;issue&quot;&gt;We currently
   don't allow connections to be set up back to an originating IP
@@ -36979,10 +37019,11 @@
   string.&lt;/span&gt;&lt;/p&gt;
 
   &lt;p&gt;Then, if the &lt;var title=&quot;&quot;&gt;subdomain&lt;/var&gt; argument is null or
-  the empty string, the target host is the domain part of the script's
+  the empty string, the target host is the host part of the script's
   &lt;span&gt;origin&lt;/span&gt;. Otherwise, the &lt;var title=&quot;&quot;&gt;subdomain&lt;/var&gt;
-  argument is prepended to the domain part of the script's origin with
-  a dot separating the two strings, and that is the target host.&lt;/p&gt;
+  argument is prepended to the host part of the script's
+  &lt;span&gt;origin&lt;/span&gt; with a dot separating the two strings, and that
+  is the target host.&lt;/p&gt;
 
   &lt;p&gt;If either:&lt;/p&gt;
   &lt;ul&gt;
@@ -37651,9 +37692,9 @@
     &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;targetOrigin&lt;/var&gt; argument has a value
     other than a single literal U+002A ASTERISK character (&quot;*&quot;), and
     the &lt;span&gt;active document&lt;/span&gt; of the &lt;code&gt;Window&lt;/code&gt; object
-    on which the method was invoked does not have the same
-    &lt;span&gt;origin&lt;/span&gt; as &lt;var title=&quot;&quot;&gt;targetOrigin&lt;/var&gt;, then
-    abort these steps silently.&lt;/p&gt;
+    on which the method was invoked does not have the &lt;span&gt;same
+    origin&lt;/span&gt; as &lt;var title=&quot;&quot;&gt;targetOrigin&lt;/var&gt;, then abort
+    these steps silently.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -37741,9 +37782,10 @@
   &lt;/div&gt;
 
   &lt;p class=&quot;warning&quot;&gt;The integrity of this API is based on the
-  inability for scripts of one origin to post arbitrary events (using
-  &lt;code title=&quot;&quot;&gt;dispatchEvent()&lt;/code&gt; or otherwise) to objects in
-  other origins.&lt;/p&gt;
+  inability for scripts of one &lt;span&gt;origin&lt;/span&gt; to post arbitrary
+  events (using &lt;code title=&quot;&quot;&gt;dispatchEvent()&lt;/code&gt; or otherwise) to
+  objects in other origins (those that are not the &lt;span title=&quot;same
+  origin&quot;&gt;same&lt;/span&gt;).&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;Implementors are urged to take extra care in the
   implementation of this feature. It allows authors to transmit


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008532.html">[html5] r1633 - /
</A></li>
	<LI>Next message: <A HREF="008534.html">[html5] r1635 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8533">[ date ]</a>
              <a href="thread.html#8533">[ thread ]</a>
              <a href="subject.html#8533">[ subject ]</a>
              <a href="author.html#8533">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
