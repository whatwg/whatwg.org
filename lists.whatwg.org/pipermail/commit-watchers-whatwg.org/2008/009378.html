<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2495 - [gow] (2) Clarify the requirements around	HAVE_METADATA.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2495%20-%20%5Bgow%5D%20%282%29%20Clarify%20the%20requirements%20around%0A%09HAVE_METADATA.&In-Reply-To=%3C20081201112507.49C9B141AE3%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009377.html">
   <LINK REL="Next"  HREF="009379.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2495 - [gow] (2) Clarify the requirements around	HAVE_METADATA.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2495%20-%20%5Bgow%5D%20%282%29%20Clarify%20the%20requirements%20around%0A%09HAVE_METADATA.&In-Reply-To=%3C20081201112507.49C9B141AE3%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2495 - [gow] (2) Clarify the requirements around	HAVE_METADATA.">whatwg at whatwg.org
       </A><BR>
    <I>Mon Dec  1 03:25:07 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009377.html">[html5] r2494 - [gow] (2) Clarify that playbackRate,	and allow it to be 0.0.
</A></li>
        <LI>Next message: <A HREF="009379.html">[html5] r2496 - [gow] (2) Fire 'waiting' after play() if playback	is not immediately started.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9378">[ date ]</a>
              <a href="thread.html#9378">[ thread ]</a>
              <a href="subject.html#9378">[ subject ]</a>
              <a href="author.html#9378">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-12-01 03:25:06 -0800 (Mon, 01 Dec 2008)
New Revision: 2495

Modified:
   index
   source
Log:
[gow] (2) Clarify the requirements around HAVE_METADATA.

Modified: index
===================================================================
--- index	2008-12-01 10:43:56 UTC (rev 2494)
+++ index	2008-12-01 11:25:06 UTC (rev 2495)
@@ -16566,7 +16566,7 @@
   attribute must return the &lt;a href=#concept-video-intrinsic-width title=concept-video-intrinsic-width&gt;intrinsic width&lt;/a&gt; of the
   video in CSS pixels. The &lt;dfn id=dom-video-videoheight title=dom-video-videoHeight&gt;&lt;code&gt;videoHeight&lt;/code&gt;&lt;/dfn&gt; DOM
   attribute must return the &lt;a href=#concept-video-intrinsic-height title=concept-video-intrinsic-height&gt;intrinsic height&lt;/a&gt; of
-  the video in CSS pixels. If no video data is available, then the
+  the video in CSS pixels. If the element's &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;, then the
   attributes must return 0.&lt;/p&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; element supports &lt;a href=#dimension-attributes&gt;dimension
@@ -17444,9 +17444,10 @@
         &lt;/ol&gt;&lt;/dd&gt;
 
 
-       &lt;dt&gt;Once enough of the &lt;a href=#media-data&gt;media data&lt;/a&gt; has been fetched
-       to determine the duration of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;, its
-       dimensions, and other metadata&lt;/dt&gt;
+       &lt;dt id=getting-media-metadata&gt;Once enough of the &lt;a href=#media-data&gt;media
+       data&lt;/a&gt; has been fetched to determine the duration of the
+       &lt;a href=#media-resource&gt;media resource&lt;/a&gt;, its dimensions, and other
+       metadata&lt;/dt&gt;
 
        &lt;dd&gt;
 
@@ -17459,13 +17460,20 @@
          &lt;li&gt;&lt;p&gt;Set the &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute to
          &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
 
-         &lt;li&gt;&lt;p class=note&gt;A number of attributes, including &lt;code title=dom-media-duration&gt;&lt;a href=#dom-media-duration&gt;duration&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-media-buffered&gt;&lt;a href=#dom-media-buffered&gt;buffered&lt;/a&gt;&lt;/code&gt;, and &lt;code title=dom-media-played&gt;&lt;a href=#dom-media-played&gt;played&lt;/a&gt;&lt;/code&gt;, become
-         available.&lt;/li&gt;
+         &lt;li&gt;&lt;p&gt;For &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; elements, set the &lt;code title=dom-video-videoWidth&gt;&lt;a href=#dom-video-videowidth&gt;videoWidth&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-video-videoHeight&gt;&lt;a href=#dom-video-videoheight&gt;videoHeight&lt;/a&gt;&lt;/code&gt;
+         attributes.&lt;/li&gt;
 
-         &lt;li&gt;&lt;p class=note&gt;The user agent &lt;a href=#durationChange&gt;will&lt;/a&gt; &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
-         &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-durationchange&gt;&lt;a href=#event-durationchange&gt;durationchange&lt;/a&gt;&lt;/code&gt; at the
-         element at this point.&lt;/li&gt;
+         &lt;li&gt;
 
+          &lt;p&gt;Set the &lt;code title=dom-media-duration&gt;&lt;a href=#dom-media-duration&gt;duration&lt;/a&gt;&lt;/code&gt;
+          attribute to the duration of the resource.&lt;/p&gt;
+
+          &lt;p class=note&gt;The user agent &lt;a href=#durationChange&gt;will&lt;/a&gt; &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
+          &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-durationchange&gt;&lt;a href=#event-durationchange&gt;durationchange&lt;/a&gt;&lt;/code&gt; at the
+          element at this point.&lt;/p&gt;
+
+         &lt;/li&gt;
+
          &lt;li id=fire-loadedmetadata&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to
          &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-loadedmetadata&gt;&lt;a href=#event-loadedmetadata&gt;loadedmetadata&lt;/a&gt;&lt;/code&gt; at the
          element.&lt;/li&gt;
@@ -17770,11 +17778,12 @@
 
    &lt;dt&gt;&lt;dfn id=dom-media-have_metadata title=dom-media-HAVE_METADATA&gt;&lt;code&gt;HAVE_METADATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
 
-   &lt;dd&gt;Enough of the resource has been obtained that the metadata
-   attributes are initialized (e.g. the length is known). The API will
-   no longer raise an exception when seeking. No video data is
-   available for the immediate &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;,
-   &lt;/dd&gt;
+   &lt;dd&gt;Enough of the resource has been obtained that the duration of
+   the resource is available. In the case of a &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt;
+   element, the dimensions of the video are also available. The API
+   will no longer raise an exception when seeking. No &lt;a href=#media-data&gt;media
+   data&lt;/a&gt; is available for the immediate &lt;a href=#current-playback-position&gt;current playback
+   position&lt;/a&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;&lt;dfn id=dom-media-have_current_data title=dom-media-HAVE_CURRENT_DATA&gt;&lt;code&gt;HAVE_CURRENT_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
 
@@ -18530,7 +18539,7 @@
 
    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=event-loadedmetadata title=event-loadedmetadata&gt;&lt;code&gt;loadedmetadata&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;The user agent has just received the metadata, such as duration or dimensions, for the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;.
+     &lt;td&gt;The user agent has just determined the the duration and dimensions of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;.
      &lt;td&gt;&lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; is newly equal to &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt; or greater for the first time.
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-loadeddata title=event-loadeddata&gt;&lt;code&gt;loadeddata&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;

Modified: source
===================================================================
--- source	2008-12-01 10:43:56 UTC (rev 2494)
+++ source	2008-12-01 11:25:06 UTC (rev 2495)
@@ -17772,7 +17772,9 @@
   title=&quot;dom-video-videoHeight&quot;&gt;&lt;code&gt;videoHeight&lt;/code&gt;&lt;/dfn&gt; DOM
   attribute must return the &lt;span
   title=&quot;concept-video-intrinsic-height&quot;&gt;intrinsic height&lt;/span&gt; of
-  the video in CSS pixels. If no video data is available, then the
+  the video in CSS pixels. If the element's &lt;code
+  title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is &lt;code
+  title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt;, then the
   attributes must return 0.&lt;/p&gt;
 
   &lt;p&gt;The &lt;code&gt;video&lt;/code&gt; element supports &lt;span&gt;dimension
@@ -18779,9 +18781,10 @@
        &lt;/dd&gt;
 
 
-       &lt;dt&gt;Once enough of the &lt;span&gt;media data&lt;/span&gt; has been fetched
-       to determine the duration of the &lt;span&gt;media resource&lt;/span&gt;, its
-       dimensions, and other metadata&lt;/dt&gt;
+       &lt;dt id=&quot;getting-media-metadata&quot;&gt;Once enough of the &lt;span&gt;media
+       data&lt;/span&gt; has been fetched to determine the duration of the
+       &lt;span&gt;media resource&lt;/span&gt;, its dimensions, and other
+       metadata&lt;/dt&gt;
 
        &lt;dd&gt;
 
@@ -18798,18 +18801,24 @@
          &lt;code
          title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAVE_METADATA&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p class=&quot;note&quot;&gt;A number of attributes, including &lt;code
-         title=&quot;dom-media-duration&quot;&gt;duration&lt;/code&gt;, &lt;code
-         title=&quot;dom-media-buffered&quot;&gt;buffered&lt;/code&gt;, and &lt;code
-         title=&quot;dom-media-played&quot;&gt;played&lt;/code&gt;, become
-         available.&lt;/p&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;p&gt;For &lt;code&gt;video&lt;/code&gt; elements, set the &lt;code
+         title=&quot;dom-video-videoWidth&quot;&gt;videoWidth&lt;/code&gt; and &lt;code
+         title=&quot;dom-video-videoHeight&quot;&gt;videoHeight&lt;/code&gt;
+         attributes.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p class=&quot;note&quot;&gt;The user agent &lt;a
-         href=&quot;#durationChange&quot;&gt;will&lt;/a&gt; &lt;span&gt;queue a task&lt;/span&gt; to
-         &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
-         title=&quot;event-durationchange&quot;&gt;durationchange&lt;/code&gt; at the
-         element at this point.&lt;/li&gt;
+         &lt;li&gt;
 
+          &lt;p&gt;Set the &lt;code title=&quot;dom-media-duration&quot;&gt;duration&lt;/code&gt;
+          attribute to the duration of the resource.&lt;/p&gt;
+
+          &lt;p class=&quot;note&quot;&gt;The user agent &lt;a
+          href=&quot;#durationChange&quot;&gt;will&lt;/a&gt; &lt;span&gt;queue a task&lt;/span&gt; to
+          &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
+          title=&quot;event-durationchange&quot;&gt;durationchange&lt;/code&gt; at the
+          element at this point.&lt;/p&gt;
+
+         &lt;/li&gt;
+
          &lt;li id=&quot;fire-loadedmetadata&quot;&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to
          &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
          title=&quot;event-loadedmetadata&quot;&gt;loadedmetadata&lt;/code&gt; at the
@@ -19186,11 +19195,12 @@
 
    &lt;dt&gt;&lt;dfn title=&quot;dom-media-HAVE_METADATA&quot;&gt;&lt;code&gt;HAVE_METADATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
 
-   &lt;dd&gt;Enough of the resource has been obtained that the metadata
-   attributes are initialized (e.g. the length is known). The API will
-   no longer raise an exception when seeking. No video data is
-   available for the immediate &lt;span&gt;current playback position&lt;/span&gt;,
-   &lt;/dd&gt;
+   &lt;dd&gt;Enough of the resource has been obtained that the duration of
+   the resource is available. In the case of a &lt;code&gt;video&lt;/code&gt;
+   element, the dimensions of the video are also available. The API
+   will no longer raise an exception when seeking. No &lt;span&gt;media
+   data&lt;/span&gt; is available for the immediate &lt;span&gt;current playback
+   position&lt;/span&gt;.&lt;/dd&gt;
 
    &lt;dt&gt;&lt;dfn title=&quot;dom-media-HAVE_CURRENT_DATA&quot;&gt;&lt;code&gt;HAVE_CURRENT_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
 
@@ -20109,7 +20119,7 @@
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-loadedmetadata&quot;&gt;&lt;code&gt;loadedmetadata&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;The user agent has just received the metadata, such as duration or dimensions, for the &lt;span&gt;media resource&lt;/span&gt;.
+     &lt;td&gt;The user agent has just determined the the duration and dimensions of the &lt;span&gt;media resource&lt;/span&gt;.
      &lt;td&gt;&lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; is newly equal to &lt;code title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAVE_METADATA&lt;/code&gt; or greater for the first time.
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-loadeddata&quot;&gt;&lt;code&gt;loadeddata&lt;/code&gt;&lt;/dfn&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009377.html">[html5] r2494 - [gow] (2) Clarify that playbackRate,	and allow it to be 0.0.
</A></li>
	<LI>Next message: <A HREF="009379.html">[html5] r2496 - [gow] (2) Fire 'waiting' after play() if playback	is not immediately started.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9378">[ date ]</a>
              <a href="thread.html#9378">[ thread ]</a>
              <a href="subject.html#9378">[ subject ]</a>
              <a href="author.html#9378">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
