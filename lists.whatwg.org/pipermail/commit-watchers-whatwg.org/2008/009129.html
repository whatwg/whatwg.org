<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2243 - [] (0) WF2: Revamp min/max/step, valueAsDate,	valueAsNumber, stepUp, stepDown, a [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2243%20-%20%5B%5D%20%280%29%20WF2%3A%20Revamp%20min/max/step%2C%20valueAsDate%2C%0A%09valueAsNumber%2C%20stepUp%2C%20stepDown%2C%20a%20%5B...%5D&In-Reply-To=%3C20080930031427.6BC18142731%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009128.html">
   <LINK REL="Next"  HREF="009130.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2243 - [] (0) WF2: Revamp min/max/step, valueAsDate,	valueAsNumber, stepUp, stepDown, a [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2243%20-%20%5B%5D%20%280%29%20WF2%3A%20Revamp%20min/max/step%2C%20valueAsDate%2C%0A%09valueAsNumber%2C%20stepUp%2C%20stepDown%2C%20a%20%5B...%5D&In-Reply-To=%3C20080930031427.6BC18142731%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2243 - [] (0) WF2: Revamp min/max/step, valueAsDate,	valueAsNumber, stepUp, stepDown, a [...]">whatwg at whatwg.org
       </A><BR>
    <I>Mon Sep 29 20:14:27 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009128.html">[html5] r2242 - [acgowt] (2) Change the 'floating point number'	syntax to allow an exponent.
</A></li>
        <LI>Next message: <A HREF="009130.html">[html5] r2244 - [e] (0) WF2: xref typos (used dfn instead of span)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9129">[ date ]</a>
              <a href="thread.html#9129">[ thread ]</a>
              <a href="subject.html#9129">[ subject ]</a>
              <a href="author.html#9129">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-09-29 20:14:23 -0700 (Mon, 29 Sep 2008)
New Revision: 2243

Modified:
   index
   source
Log:
[] (0) WF2: Revamp min/max/step, valueAsDate, valueAsNumber, stepUp, stepDown, and type=datetime.

Modified: index
===================================================================
--- index	2008-09-26 08:59:40 UTC (rev 2242)
+++ index	2008-09-30 03:14:23 UTC (rev 2243)
@@ -29,7 +29,7 @@
 
    &lt;h1 id=html-5&gt;HTML 5&lt;/h1&gt;
 
-   &lt;h2 class=&quot;no-num no-toc&quot; id=draft&gt;Draft Recommendation &mdash; 26
+   &lt;h2 class=&quot;no-num no-toc&quot; id=draft&gt;Draft Recommendation &mdash; 30
     September 2008&lt;/h2&gt;
 
    &lt;p&gt;You can take part in this work. &lt;a
@@ -1141,8 +1141,12 @@
             &lt;/span&gt;The &lt;code title=attr-input-readonly&gt;readonly&lt;/code&gt;
             attribute&lt;/a&gt;
 
-           &lt;li&gt;&lt;a href=&quot;#other0&quot;&gt;&lt;span class=secno&gt;4.10.4.2.4. &lt;/span&gt;Other
-            attributes&lt;/a&gt;
+           &lt;li&gt;&lt;a href=&quot;#the-min&quot;&gt;&lt;span class=secno&gt;4.10.4.2.4. &lt;/span&gt;The
+            &lt;code title=attr-input-min&gt;min&lt;/code&gt; and &lt;code
+            title=attr-input-max&gt;max&lt;/code&gt; attributes&lt;/a&gt;
+
+           &lt;li&gt;&lt;a href=&quot;#the-step&quot;&gt;&lt;span class=secno&gt;4.10.4.2.5. &lt;/span&gt;The
+            &lt;code title=attr-input-step&gt;step&lt;/code&gt; attribute&lt;/a&gt;
           &lt;/ul&gt;
 
          &lt;li&gt;&lt;a href=&quot;#common5&quot;&gt;&lt;span class=secno&gt;4.10.4.3. &lt;/span&gt;Common
@@ -1764,7 +1768,7 @@
             &lt;/span&gt;Link type &quot;&lt;code&gt;prev&lt;/code&gt;&quot;&lt;/a&gt;
           &lt;/ul&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#other1&quot;&gt;&lt;span class=secno&gt;5.11.3.20. &lt;/span&gt;Other link
+         &lt;li&gt;&lt;a href=&quot;#other0&quot;&gt;&lt;span class=secno&gt;5.11.3.20. &lt;/span&gt;Other link
           types&lt;/a&gt;
         &lt;/ul&gt;
       &lt;/ul&gt;
@@ -3496,7 +3500,7 @@
   &lt;p&gt;The &lt;dfn id=rules1&gt;rules for parsing floating point number values&lt;/dfn&gt;
    are as given in the following algorithm. As with the previous algorithms,
    when this one is invoked, the steps must be followed in the order given,
-   aborting at the first step that returns a value. This algorithm will
+   aborting at the first step that returns something. This algorithm will
    either return a number or an error. Leading spaces are ignored. Trailing
    spaces and garbage characters are ignored.
 
@@ -3553,8 +3557,7 @@
      title=&quot;&quot;&gt;value&lt;/var&gt; by that integer.
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-    title=&quot;&quot;&gt;input&lt;/var&gt;, return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; and abort these
-    steps.
+    title=&quot;&quot;&gt;input&lt;/var&gt;, return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.
 
    &lt;li&gt;
     &lt;p&gt;If the character indicated by &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a U+002E
@@ -3568,8 +3571,7 @@
       &lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
        title=&quot;&quot;&gt;input&lt;/var&gt;, or if the character indicated by &lt;var
        title=&quot;&quot;&gt;position&lt;/var&gt; is not one of U+0030 DIGIT ZERO (0) .. U+0039
-       DIGIT NINE (9), then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; and abort these
-       steps.
+       DIGIT NINE (9), then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.
 
      &lt;li&gt;
       &lt;p&gt;&lt;i&gt;Fraction loop&lt;/i&gt;: Multiply &lt;var title=&quot;&quot;&gt;divisor&lt;/var&gt; by ten.
@@ -3583,8 +3585,7 @@
 
      &lt;li&gt;
       &lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-       title=&quot;&quot;&gt;input&lt;/var&gt;, then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; and abort
-       these steps.
+       title=&quot;&quot;&gt;input&lt;/var&gt;, then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.
 
      &lt;li&gt;
       &lt;p&gt;If the character indicated by &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is one of
@@ -3603,8 +3604,7 @@
 
      &lt;li&gt;
       &lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-       title=&quot;&quot;&gt;input&lt;/var&gt;, then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; and abort
-       these steps.
+       title=&quot;&quot;&gt;input&lt;/var&gt;, then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.
 
      &lt;li&gt;
       &lt;p&gt;If the character indicated by &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a
@@ -3617,14 +3617,13 @@
 
        &lt;li&gt;
         &lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-         title=&quot;&quot;&gt;input&lt;/var&gt;, then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; and
-         abort these steps.
+         title=&quot;&quot;&gt;input&lt;/var&gt;, then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.
       &lt;/ol&gt;
 
      &lt;li&gt;
       &lt;p&gt;If the character indicated by &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not
        one of U+0030 DIGIT ZERO (0) .. U+0039 DIGIT NINE (9), then return
-       &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; and abort these steps.
+       &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.
 
      &lt;li&gt;
       &lt;p&gt;&lt;a href=&quot;#collect&quot;&gt;Collect a sequence of characters&lt;/a&gt; in the range
@@ -29627,7 +29626,23 @@
   &lt;p&gt;Each &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element has a &lt;a
    href=&quot;#value12&quot; title=concept-fe-value&gt;value&lt;/a&gt;, which is exposed by the
    &lt;code title=dom-input-value&gt;&lt;a href=&quot;#value10&quot;&gt;value&lt;/a&gt;&lt;/code&gt; DOM
-   attribute.
+   attribute. Some states define an &lt;dfn id=algorithm5
+   title=concept-input-value-string-number&gt;algorithm to convert a string to a
+   number&lt;/dfn&gt;, an &lt;dfn id=algorithm6
+   title=concept-input-value-number-string&gt;algorithm to convert a number to a
+   string&lt;/dfn&gt;, an &lt;dfn id=algorithm7
+   title=concept-input-value-string-date&gt;algorithm to convert a string to a
+   &lt;code&gt;Date&lt;/code&gt; object&lt;/dfn&gt;, and an &lt;dfn id=algorithm8
+   title=concept-input-value-date-string&gt;algorithm to convert a
+   &lt;code&gt;Date&lt;/code&gt; object to a string&lt;/dfn&gt;, which are used by &lt;code
+   title=attr-input-max&gt;&lt;a href=&quot;#max4&quot;&gt;max&lt;/a&gt;&lt;/code&gt;, &lt;code
+   title=attr-input-min&gt;&lt;a href=&quot;#min2&quot;&gt;min&lt;/a&gt;&lt;/code&gt;, &lt;code
+   title=attr-input-step&gt;&lt;a href=&quot;#step0&quot;&gt;step&lt;/a&gt;&lt;/code&gt;, &lt;code
+   title=dom-input-valueAsDate&gt;&lt;a href=&quot;#valueasdate&quot;&gt;valueAsDate&lt;/a&gt;&lt;/code&gt;,
+   &lt;code title=dom-input-valueAsNumber&gt;&lt;a
+   href=&quot;#valueasnumber&quot;&gt;valueAsNumber&lt;/a&gt;&lt;/code&gt;, &lt;code
+   title=dom-input-stepUp&gt;&lt;a href=&quot;#stepup&quot;&gt;stepUp()&lt;/a&gt;&lt;/code&gt;, and &lt;code
+   title=dom-input-stepDown&gt;&lt;a href=&quot;#stepdown&quot;&gt;stepDown()&lt;/a&gt;&lt;/code&gt;.
 
   &lt;p&gt;Each &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element has a boolean &lt;dfn
    id=mutability title=concept-input-mutability&gt;mutability flag&lt;/dfn&gt;. When
@@ -30052,61 +30067,75 @@
    href=&quot;#valid6&quot;&gt;valid UTC date and time&lt;/a&gt;, then set it to the empty
    string instead.
 
-  &lt;p&gt;The &lt;dfn id=selected title=concept-input-value-datetime&gt;selected UTC
-   date and time&lt;/dfn&gt; is the result of &lt;a href=&quot;#parse0&quot; title=&quot;parse a UTC
-   date and time&quot;&gt;parsing a UTC date and time&lt;/a&gt; from the element's &lt;a
-   href=&quot;#value12&quot; title=concept-fe-value&gt;value&lt;/a&gt;, unless that fails, in
-   which case there is no &lt;a href=&quot;#selected&quot;
-   title=concept-input-value-datetime&gt;selected UTC date and time&lt;/a&gt;.
+  &lt;p&gt;&lt;strong&gt;The &lt;a href=&quot;#algorithm11&quot;
+   title=concept-input-value-string-number&gt;algorithm to convert a string to a
+   number&lt;/a&gt;, given a string &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;&lt;/strong&gt;, is as
+   follows:
 
-  &lt;p class=big-issue&gt;&lt;strong&gt;The &lt;a href=&quot;#valueasdate1&quot;&gt;&lt;code
-   title=dom-input-valueAsDate&gt;valueAsDate&lt;/code&gt; setter algorithm&lt;/a&gt; is as
-   follows:&lt;/strong&gt; ...
+  &lt;ol&gt;
+   &lt;li&gt;
+    &lt;p&gt;&lt;a href=&quot;#parse0&quot;&gt;Parse a UTC date and time&lt;/a&gt; from &lt;var
+     title=&quot;&quot;&gt;input&lt;/var&gt;.
 
-  &lt;p class=big-issue&gt;&lt;strong&gt;The &lt;a href=&quot;#valueasnumber1&quot;&gt;&lt;code
-   title=dom-input-valueAsNumber&gt;valueAsNumber&lt;/code&gt; setter algorithm&lt;/a&gt; is
-   as follows:&lt;/strong&gt; ...
+   &lt;li&gt;
+    &lt;p&gt;If that results in an error, return an error and abort these steps.
 
-  &lt;p&gt;The &lt;code title=attr-input-min&gt;&lt;a href=&quot;#min2&quot;&gt;min&lt;/a&gt;&lt;/code&gt; attribute,
-   if specified, must have a value that is a &lt;a href=&quot;#valid6&quot;&gt;valid UTC date
-   and time&lt;/a&gt;. The &lt;dfn id=minimum title=concept-input-min-datetime&gt;minimum
-   UTC date and time&lt;/dfn&gt; is the result of &lt;a href=&quot;#parse0&quot; title=&quot;parse a
-   UTC date and time&quot;&gt;parsing a UTC date and time&lt;/a&gt; from the element's
-   &lt;code title=attr-input-min&gt;&lt;a href=&quot;#min2&quot;&gt;min&lt;/a&gt;&lt;/code&gt; attribute,
-   unless that fails, in which case there is no &lt;a href=&quot;#minimum&quot;
-   title=concept-input-min-datetime&gt;minimum UTC date and time&lt;/a&gt;.
+   &lt;li&gt;
+    &lt;p&gt;Otherwise, return the number of milliseconds elapsed from midnight UTC
+     on the morning of 1970-01-01 (the time represented by the value &quot;&lt;code
+     title=&quot;&quot;&gt;1970-01-01T00:00:00.0Z&lt;/code&gt;&quot;) to the parsed date and time,
+     ignoring leap seconds.
+  &lt;/ol&gt;
 
-  &lt;p&gt;&lt;strong&gt;Constraint validation:&lt;/strong&gt; When there is both a &lt;a
-   href=&quot;#selected&quot; title=concept-input-value-datetime&gt;selected UTC date and
-   time&lt;/a&gt; and a &lt;a href=&quot;#minimum&quot; title=concept-input-min-datetime&gt;minimum
-   UTC date and time&lt;/a&gt;, if the former is earlier than the latter, the
-   element is &lt;a href=&quot;#suffering1&quot;&gt;suffering from an underflow&lt;/a&gt;.
+  &lt;p&gt;&lt;strong&gt;The &lt;a href=&quot;#algorithm13&quot;
+   title=concept-input-value-number-string&gt;algorithm to convert a number to a
+   string&lt;/a&gt;, given a number &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;&lt;/strong&gt;, consists of
+   returning a &lt;a href=&quot;#valid6&quot;&gt;valid UTC date and time&lt;/a&gt; that represents
+   the date and time in UTC that is &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; milliseconds
+   afer midnight UTC on the morning of 1970-01-01 (the time represented by
+   the value &quot;&lt;code title=&quot;&quot;&gt;1970-01-01T00:00:00.0Z&lt;/code&gt;&quot;).
 
-  &lt;p&gt;The &lt;code title=attr-input-max&gt;&lt;a href=&quot;#max4&quot;&gt;max&lt;/a&gt;&lt;/code&gt; attribute,
+  &lt;p&gt;&lt;strong&gt;The &lt;a href=&quot;#algorithm9&quot;
+   title=concept-input-value-string-date&gt;algorithm to convert a string to a
+   &lt;code&gt;Date&lt;/code&gt; object&lt;/a&gt;, given a string &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt;&lt;/strong&gt;, is as follows:
+
+  &lt;ol&gt;
+   &lt;li&gt;
+    &lt;p&gt;&lt;a href=&quot;#parse0&quot;&gt;Parse a UTC date and time&lt;/a&gt; from &lt;var
+     title=&quot;&quot;&gt;input&lt;/var&gt;.
+
+   &lt;li&gt;
+    &lt;p&gt;If that results in an error, return an error and abort these steps.
+
+   &lt;li&gt;
+    &lt;p&gt;Otherwise, return a &lt;code&gt;Date&lt;/code&gt; object representing the parsed
+     date and time.
+  &lt;/ol&gt;
+
+  &lt;p&gt;&lt;strong&gt;The &lt;a href=&quot;#algorithm10&quot;
+   title=concept-input-value-date-string&gt;algorithm to convert a
+   &lt;code&gt;Date&lt;/code&gt; object to a string&lt;/a&gt;, given a &lt;code&gt;Date&lt;/code&gt; object
+   &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;&lt;/strong&gt;, consists of returning a &lt;a
+   href=&quot;#valid6&quot;&gt;valid UTC date and time&lt;/a&gt; that represents the date and
+   time in UTC that is represented by &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;
+  &lt;!-- MIN AND MAX: --&gt;
+
+  &lt;p&gt;The &lt;code title=attr-input-min&gt;&lt;a href=&quot;#min2&quot;&gt;min&lt;/a&gt;&lt;/code&gt; attribute,
    if specified, must have a value that is a &lt;a href=&quot;#valid6&quot;&gt;valid UTC date
-   and time&lt;/a&gt;. The &lt;dfn id=maximum title=concept-input-max-datetime&gt;maximum
-   UTC date and time&lt;/dfn&gt; is the result of &lt;a href=&quot;#parse0&quot; title=&quot;parse a
-   UTC date and time&quot;&gt;parsing a UTC date and time&lt;/a&gt; from the element's
-   &lt;code title=attr-input-max&gt;&lt;a href=&quot;#max4&quot;&gt;max&lt;/a&gt;&lt;/code&gt; attribute,
-   unless that fails, in which case there is no &lt;a href=&quot;#maximum&quot;
-   title=concept-input-max-datetime&gt;maximum UTC date and time&lt;/a&gt;.
+   and time&lt;/a&gt;. The &lt;code title=attr-input-max&gt;&lt;a
+   href=&quot;#max4&quot;&gt;max&lt;/a&gt;&lt;/code&gt; attribute, if specified, must have a value
+   that is a &lt;a href=&quot;#valid6&quot;&gt;valid UTC date and time&lt;/a&gt;.&lt;/p&gt;
+  &lt;!-- STEP: --&gt;
 
-  &lt;p&gt;&lt;strong&gt;Constraint validation:&lt;/strong&gt; When there is both a &lt;a
-   href=&quot;#selected&quot; title=concept-input-value-datetime&gt;selected UTC date and
-   time&lt;/a&gt; and a &lt;a href=&quot;#maximum&quot; title=concept-input-max-datetime&gt;maximum
-   UTC date and time&lt;/a&gt;, if the former is later than the latter, the element
-   is &lt;a href=&quot;#suffering2&quot;&gt;suffering from an overflow&lt;/a&gt;.
+  &lt;p&gt;The &lt;code title=attr-input-step&gt;&lt;a href=&quot;#step0&quot;&gt;step&lt;/a&gt;&lt;/code&gt;
+   attribute is expressed in seconds. The &lt;a href=&quot;#step-&quot;
+   title=concept-input-step-scale&gt;step scale factor&lt;/a&gt; is 1000 (which
+   converts the seconds to milliseconds, as used in the other algorithms).
+   The &lt;a href=&quot;#default2&quot; title=concept-input-step-default&gt;default step&lt;/a&gt;
+   is 60 seconds.&lt;/p&gt;
+  &lt;!-- XXX allow rounding --&gt;
 
-  &lt;p class=big-issue&gt;The &lt;code title=attr-input-step&gt;&lt;a
-   href=&quot;#step0&quot;&gt;step&lt;/a&gt;&lt;/code&gt; attribute, if specified, must have a value
-   that is a ...&lt;/p&gt;
-  &lt;!-- values: positive non-zero floating point, or &quot;any&quot; --&gt;
-  &lt;!-- units: seconds --&gt;
-  &lt;!-- default: 60 --&gt;
-  &lt;!-- zero point: min, or 1970-01-01T00:00:00.0Z --&gt;
-  &lt;!-- allow rounding --&gt;
-  &lt;!-- &lt;span&gt;suffering from a step mismatch&lt;/span&gt; --&gt;
-
   &lt;p&gt;The following common &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element
    content attributes, DOM attributes, and methods apply to the element:
    &lt;code title=attr-input-autocomplete&gt;&lt;a
@@ -30283,7 +30312,7 @@
    matches for any of the other values (i.e. duplicates are not allowed).&lt;/p&gt;
   &lt;!-- XXX the selected file(s) must either have the given types or be of the given category --&gt;
 
-  &lt;p class=big-issue&gt;... list of &lt;dfn id=selected0
+  &lt;p class=big-issue&gt;... list of &lt;dfn id=selected
    title=concept-input-type-file-selected&gt;selected files&lt;/dfn&gt;
 
   &lt;h6 id=hidden&gt;&lt;span class=secno&gt;4.10.4.1.16. &lt;/span&gt;&lt;dfn id=hidden1
@@ -30325,7 +30354,7 @@
 
   &lt;p class=big-issue&gt;...
 
-  &lt;p class=big-issue&gt;... image: &lt;dfn id=selected1
+  &lt;p class=big-issue&gt;... image: &lt;dfn id=selected0
    title=concept-input-type-image-coordinate&gt;selected coordinate&lt;/dfn&gt;
 
   &lt;h6 id=reset&gt;&lt;span class=secno&gt;4.10.4.1.19. &lt;/span&gt;&lt;dfn id=reset2
@@ -30458,30 +30487,30 @@
    href=&quot;#valid&quot;&gt;valid non-negative integer&lt;/a&gt;. If the attribute is
    specified and applying the &lt;a href=&quot;#rules&quot;&gt;rules for parsing non-negative
    integers&lt;/a&gt; to its value results in a number, then that number is the
-   element's &lt;dfn id=maximum0&gt;maximum allowed value length&lt;/dfn&gt;. If the
+   element's &lt;dfn id=maximum&gt;maximum allowed value length&lt;/dfn&gt;. If the
    attribute is omitted or parsing its value results in an error, then there
-   is no &lt;a href=&quot;#maximum0&quot;&gt;maximum allowed value length&lt;/a&gt;.
+   is no &lt;a href=&quot;#maximum&quot;&gt;maximum allowed value length&lt;/a&gt;.
 
   &lt;p&gt;If the &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element has a &lt;a
-   href=&quot;#maximum0&quot;&gt;maximum allowed value length&lt;/a&gt;, then the &lt;a
+   href=&quot;#maximum&quot;&gt;maximum allowed value length&lt;/a&gt;, then the &lt;a
    href=&quot;#codepoint&quot;&gt;codepoint length&lt;/a&gt; of the value of the element's &lt;code
    title=attr-input-value&gt;&lt;a href=&quot;#value9&quot;&gt;value&lt;/a&gt;&lt;/code&gt; attribute must
-   be equal to or less than the element's &lt;a href=&quot;#maximum0&quot;&gt;maximum allowed
+   be equal to or less than the element's &lt;a href=&quot;#maximum&quot;&gt;maximum allowed
    value length&lt;/a&gt;.
 
   &lt;p&gt;&lt;strong&gt;Constraint validation:&lt;/strong&gt; If an &lt;code&gt;&lt;a
-   href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element has a &lt;a href=&quot;#maximum0&quot;&gt;maximum
+   href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element has a &lt;a href=&quot;#maximum&quot;&gt;maximum
    allowed value length&lt;/a&gt;, and it is not &lt;a href=&quot;#dirty0&quot;
    title=concept-input-dirty&gt;dirty&lt;/a&gt;, and the &lt;a
    href=&quot;#codepoint&quot;&gt;codepoint length&lt;/a&gt; of the element's &lt;a href=&quot;#value12&quot;
    title=concept-fe-value&gt;value&lt;/a&gt; is greater than the element's &lt;a
-   href=&quot;#maximum0&quot;&gt;maximum allowed value length&lt;/a&gt;, then the element is &lt;a
+   href=&quot;#maximum&quot;&gt;maximum allowed value length&lt;/a&gt;, then the element is &lt;a
    href=&quot;#suffering0&quot;&gt;suffering from being too long&lt;/a&gt;.
 
   &lt;p&gt;User agents may prevent the user from setting the element's &lt;a
    href=&quot;#value12&quot; title=concept-fe-value&gt;value&lt;/a&gt; to a value whose &lt;a
    href=&quot;#codepoint&quot;&gt;codepoint length&lt;/a&gt; is greater than the element's &lt;a
-   href=&quot;#maximum0&quot;&gt;maximum allowed value length&lt;/a&gt;.
+   href=&quot;#maximum&quot;&gt;maximum allowed value length&lt;/a&gt;.
 
   &lt;h6 id=the-readonly&gt;&lt;span class=secno&gt;4.10.4.2.3. &lt;/span&gt;The &lt;code
    title=attr-input-readonly&gt;&lt;a href=&quot;#readonly0&quot;&gt;readonly&lt;/a&gt;&lt;/code&gt;
@@ -30498,19 +30527,121 @@
    element, the element is &lt;a href=&quot;#barred&quot;&gt;barred from constraint
    validation&lt;/a&gt;.
 
-  &lt;h6 id=other0&gt;&lt;span class=secno&gt;4.10.4.2.4. &lt;/span&gt;Other attributes&lt;/h6&gt;
+  &lt;h6 id=the-min&gt;&lt;span class=secno&gt;4.10.4.2.4. &lt;/span&gt;The &lt;code
+   title=attr-input-min&gt;&lt;a href=&quot;#min2&quot;&gt;min&lt;/a&gt;&lt;/code&gt; and &lt;code
+   title=attr-input-max&gt;&lt;a href=&quot;#max4&quot;&gt;max&lt;/a&gt;&lt;/code&gt; attributes&lt;/h6&gt;
 
   &lt;p&gt;The &lt;dfn id=min2 title=attr-input-min&gt;&lt;code&gt;min&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn
-   id=max4 title=attr-input-max&gt;&lt;code&gt;max&lt;/code&gt;&lt;/dfn&gt; attributes define a
-   range constraint on the value.
+   id=max4 title=attr-input-max&gt;&lt;code&gt;max&lt;/code&gt;&lt;/dfn&gt; attributes indicate
+   the allowed range of values for the element.
 
+  &lt;p&gt;Their syntax is defined by the section that defines the &lt;code
+   title=attr-input-type&gt;&lt;a href=&quot;#type14&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute's
+   current state.
+
+  &lt;p&gt;&lt;strong&gt;Constraint validation:&lt;/strong&gt; When the element has a &lt;code
+   title=attr-input-min&gt;&lt;a href=&quot;#min2&quot;&gt;min&lt;/a&gt;&lt;/code&gt; attribute, and the
+   result of applying the &lt;a href=&quot;#algorithm11&quot;
+   title=concept-input-value-string-number&gt;algorithm to convert a string to a
+   number&lt;/a&gt; to the string given by the element's &lt;span
+   title=concept-input-value&gt;value&lt;/span&gt; is a number, and the result of
+   applying the &lt;a href=&quot;#algorithm11&quot;
+   title=concept-input-value-string-number&gt;algorithm to convert a string to a
+   number&lt;/a&gt; to the value of the &lt;code title=attr-input-min&gt;&lt;a
+   href=&quot;#min2&quot;&gt;min&lt;/a&gt;&lt;/code&gt; attribute is also a number, and the number
+   obtained from the former is less than the number obtained from the latter,
+   the element is &lt;a href=&quot;#suffering1&quot;&gt;suffering from an underflow&lt;/a&gt;.
+
+  &lt;p&gt;&lt;strong&gt;Constraint validation:&lt;/strong&gt; When the element has a &lt;code
+   title=attr-input-max&gt;&lt;a href=&quot;#max4&quot;&gt;max&lt;/a&gt;&lt;/code&gt; attribute, and the
+   result of applying the &lt;a href=&quot;#algorithm11&quot;
+   title=concept-input-value-string-number&gt;algorithm to convert a string to a
+   number&lt;/a&gt; to the string given by the element's &lt;span
+   title=concept-input-value&gt;value&lt;/span&gt; is a number, and the result of
+   applying the &lt;a href=&quot;#algorithm11&quot;
+   title=concept-input-value-string-number&gt;algorithm to convert a string to a
+   number&lt;/a&gt; to the value of the &lt;code title=attr-input-max&gt;&lt;a
+   href=&quot;#max4&quot;&gt;max&lt;/a&gt;&lt;/code&gt; attribute is also a number, and the number
+   obtained from the former is greater than the number obtained from the
+   latter, the element is &lt;a href=&quot;#suffering2&quot;&gt;suffering from an
+   overflow&lt;/a&gt;.
+
+  &lt;p&gt;The &lt;code title=attr-input-min&gt;&lt;a href=&quot;#min2&quot;&gt;min&lt;/a&gt;&lt;/code&gt; attribute
+   also defines the &lt;a href=&quot;#step-base&quot; title=concept-input-min-zero&gt;step
+   base&lt;/a&gt;.
+
+  &lt;h6 id=the-step&gt;&lt;span class=secno&gt;4.10.4.2.5. &lt;/span&gt;The &lt;code
+   title=attr-input-step&gt;&lt;a href=&quot;#step0&quot;&gt;step&lt;/a&gt;&lt;/code&gt; attribute&lt;/h6&gt;
+
   &lt;p&gt;The &lt;dfn id=step0 title=attr-input-step&gt;&lt;code&gt;step&lt;/code&gt;&lt;/dfn&gt;
-   attribute defines the increments between allowed values.
+   attribute indicates the granularity that is expected (and required) of the
+   &lt;span title=concept-input-value&gt;value&lt;/span&gt;, by limiting the allowed
+   values. The section that defines the &lt;code title=attr-input-type&gt;&lt;a
+   href=&quot;#type14&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute's current state also defines the
+   &lt;dfn id=default2 title=concept-input-step-default&gt;default step&lt;/dfn&gt; and
+   the &lt;dfn id=step- title=concept-input-step-scale&gt;step scale factor&lt;/dfn&gt;,
+   which are used in processing the attribute as described below.
 
-  &lt;p&gt;These attributes apply for a number of different states, but as their
-   behavior varies from state to state, they are not defined here but instead
-   in the states' own sections.
+  &lt;p&gt;The &lt;code title=attr-input-step&gt;&lt;a href=&quot;#step0&quot;&gt;step&lt;/a&gt;&lt;/code&gt;
+   attribute, if specified, must either have a value that is a &lt;a
+   href=&quot;#valid1&quot;&gt;valid floating point number&lt;/a&gt; that &lt;a href=&quot;#rules1&quot;
+   title=&quot;rules for parsing floating point number values&quot;&gt;parses&lt;/a&gt; to a
+   number that is greater than zero, or must have a value that is an &lt;a
+   href=&quot;#ascii&quot;&gt;ASCII case-insensitive&lt;/a&gt; match for the string &quot;&lt;code
+   title=&quot;&quot;&gt;any&lt;/code&gt;&quot;.
 
+  &lt;p&gt;The attribute provides the &lt;dfn id=allowed
+   title=concept-input-step&gt;allowed value step&lt;/dfn&gt; for the element, as
+   follows:
+
+  &lt;ol&gt;
+   &lt;li&gt;If the attribute is absent, then the &lt;a href=&quot;#allowed&quot;
+    title=concept-input-step&gt;allowed value step&lt;/a&gt; is the &lt;a
+    href=&quot;#default2&quot; title=concept-input-step-default&gt;default step&lt;/a&gt;
+    multiplied by the &lt;a href=&quot;#step-&quot; title=concept-input-step-scale&gt;step
+    scale factor&lt;/a&gt;.
+
+   &lt;li&gt;Otherwise, if the attribute's value is an &lt;a href=&quot;#ascii&quot;&gt;ASCII
+    case-insensitive&lt;/a&gt; match for the string &quot;&lt;code title=&quot;&quot;&gt;any&lt;/code&gt;&quot;,
+    then there is no &lt;a href=&quot;#allowed&quot; title=concept-input-step&gt;allowed
+    value step&lt;/a&gt;.
+
+   &lt;li&gt;Otherwise, if the &lt;a href=&quot;#rules1&quot;&gt;rules for parsing floating point
+    number values&lt;/a&gt;, when they are applied to the attribute's value, return
+    an error, zero, or a number less than zero, then the &lt;a href=&quot;#allowed&quot;
+    title=concept-input-step&gt;allowed value step&lt;/a&gt; is the &lt;a
+    href=&quot;#default2&quot; title=concept-input-step-default&gt;default step&lt;/a&gt;
+    multiplied by the &lt;a href=&quot;#step-&quot; title=concept-input-step-scale&gt;step
+    scale factor&lt;/a&gt;.
+
+   &lt;li&gt;Otherwise, the &lt;a href=&quot;#allowed&quot; title=concept-input-step&gt;allowed
+    value step&lt;/a&gt; is the number returned by the &lt;a href=&quot;#rules1&quot;&gt;rules for
+    parsing floating point number values&lt;/a&gt; when they are applied to the
+    attribute's value, multiplied by the &lt;a href=&quot;#step-&quot;
+    title=concept-input-step-scale&gt;step scale factor&lt;/a&gt;.
+  &lt;/ol&gt;
+
+  &lt;p&gt;The &lt;dfn id=step-base title=concept-input-min-zero&gt;step base&lt;/dfn&gt; is
+   the result of applying the &lt;a href=&quot;#algorithm11&quot;
+   title=concept-input-value-string-number&gt;algorithm to convert a string to a
+   number&lt;/a&gt; to the value of the &lt;code title=attr-input-min&gt;&lt;a
+   href=&quot;#min2&quot;&gt;min&lt;/a&gt;&lt;/code&gt; attribute, unless the element does not have a
+   &lt;code title=attr-input-min&gt;&lt;a href=&quot;#min2&quot;&gt;min&lt;/a&gt;&lt;/code&gt; attribute
+   specified or the result of applying that algorithm is an error, in which
+   case the &lt;a href=&quot;#step-base&quot; title=concept-input-min-zero&gt;step base&lt;/a&gt;
+   is zero.
+
+  &lt;p&gt;&lt;strong&gt;Constraint validation:&lt;/strong&gt; When the element has an &lt;a
+   href=&quot;#allowed&quot; title=concept-input-step&gt;allowed value step&lt;/a&gt;, and the
+   result of applying the &lt;a href=&quot;#algorithm11&quot;
+   title=concept-input-value-string-number&gt;algorithm to convert a string to a
+   number&lt;/a&gt; to the string given by the element's &lt;span
+   title=concept-input-value&gt;value&lt;/span&gt; is a number, and that number
+   subtracted from the &lt;a href=&quot;#step-base&quot; title=concept-input-min-zero&gt;step
+   base&lt;/a&gt; is not an integral multiple of the &lt;a href=&quot;#allowed&quot;
+   title=concept-input-step&gt;allowed value step&lt;/a&gt;, the element is &lt;a
+   href=&quot;#suffering3&quot;&gt;suffering from a step mismatch&lt;/a&gt;.
+
   &lt;h5 id=common5&gt;&lt;span class=secno&gt;4.10.4.3. &lt;/span&gt;Common &lt;code&gt;&lt;a
    href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element APIs&lt;/h5&gt;
 
@@ -30535,20 +30666,27 @@
    element, interpreted as a date.
 
   &lt;p&gt;On getting, if the &lt;code title=dom-input-valueAsDate&gt;&lt;a
-   href=&quot;#valueasdate&quot;&gt;valueAsDate&lt;/a&gt;&lt;/code&gt; attribute applies, as defined
-   for the &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element's &lt;code
+   href=&quot;#valueasdate&quot;&gt;valueAsDate&lt;/a&gt;&lt;/code&gt; attribute does not apply, as
+   defined for the &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element's &lt;code
    title=attr-input-type&gt;&lt;a href=&quot;#type14&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute's
-   current state, then run the &lt;dfn id=valueasdate0&gt;&lt;code
-   title=dom-input-valueAsDate&gt;valueAsDate&lt;/code&gt; getter algorithm&lt;/dfn&gt;
-   defined for that state. Otherwise, return a Not-a-Number (NaN) value.
+   current state, then return null. Otherwise, run the &lt;dfn id=algorithm9
+   title=concept-input-value-string-date&gt;algorithm to convert a string to a
+   &lt;code&gt;Date&lt;/code&gt; object&lt;/dfn&gt; defined for that state; if the algorithm
+   returned a &lt;code&gt;Date&lt;/code&gt; object, then return it, otherwise, return
+   null.
 
   &lt;p&gt;On setting, if the &lt;code title=dom-input-valueAsDate&gt;&lt;a
-   href=&quot;#valueasdate&quot;&gt;valueAsDate&lt;/a&gt;&lt;/code&gt; attribute applies, as defined
-   for the &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element's &lt;code
+   href=&quot;#valueasdate&quot;&gt;valueAsDate&lt;/a&gt;&lt;/code&gt; attribute does not apply, as
+   defined for the &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element's &lt;code
    title=attr-input-type&gt;&lt;a href=&quot;#type14&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute's
-   current state, then run the &lt;dfn id=valueasdate1&gt;&lt;code
-   title=dom-input-valueAsDate&gt;valueAsDate&lt;/code&gt; setter algorithm&lt;/dfn&gt;
-   defined for that state. Otherwise, do nothing.
+   current state, then throw an &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt; exception;
+   otherwise, if the new value is null, then set the &lt;span
+   title=concept-input-value&gt;value&lt;/span&gt; of the element to the empty string;
+   otherwise, run the &lt;dfn id=algorithm10
+   title=concept-input-value-date-string&gt;algorithm to convert a
+   &lt;code&gt;Date&lt;/code&gt; object to a string&lt;/dfn&gt;, as defined for that state, on
+   the new value, and set the &lt;span title=concept-input-value&gt;value&lt;/span&gt; of
+   the element to resulting string.
 
   &lt;hr&gt;
 
@@ -30558,26 +30696,78 @@
    title=concept-fe-value&gt;value&lt;/a&gt; of the element, interpreted as a number.
 
   &lt;p&gt;On getting, if the &lt;code title=dom-input-valueAsNumber&gt;&lt;a
-   href=&quot;#valueasnumber&quot;&gt;valueAsNumber&lt;/a&gt;&lt;/code&gt; attribute applies, as
-   defined for the &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element's &lt;code
-   title=attr-input-type&gt;&lt;a href=&quot;#type14&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute's
-   current state, then run the &lt;dfn id=valueasnumber0&gt;&lt;code
-   title=dom-input-valueAsNumber&gt;valueAsNumber&lt;/code&gt; getter algorithm&lt;/dfn&gt;
-   defined for that state. Otherwise, return the &lt;a href=&quot;#value12&quot;
-   title=concept-fe-value&gt;value&lt;/a&gt; of the element, cast to the type of the
-   DOM attribute.
+   href=&quot;#valueasnumber&quot;&gt;valueAsNumber&lt;/a&gt;&lt;/code&gt; attribute does not apply,
+   as defined for the &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element's
+   &lt;code title=attr-input-type&gt;&lt;a href=&quot;#type14&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute's
+   current state, then return a Not-a-Number (NaN) value. Otherwise, run the
+   &lt;dfn id=algorithm11 title=concept-input-value-string-number&gt;algorithm to
+   convert a string to a number&lt;/dfn&gt; defined for that state; if the
+   algorithm returned a number, then return it, otherwise, return a
+   Not-a-Number (NaN) value.
 
   &lt;p&gt;On setting, if the &lt;code title=dom-input-valueAsNumber&gt;&lt;a
-   href=&quot;#valueasnumber&quot;&gt;valueAsNumber&lt;/a&gt;&lt;/code&gt; attribute applies, as
-   defined for the &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element's &lt;code
-   title=attr-input-type&gt;&lt;a href=&quot;#type14&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute's
-   current state, then run the &lt;dfn id=valueasnumber1&gt;&lt;code
-   title=dom-input-valueAsNumber&gt;valueAsNumber&lt;/code&gt; setter algorithm&lt;/dfn&gt;
-   defined for that state. Otherwise, the &lt;a href=&quot;#value12&quot;
-   title=concept-fe-value&gt;value&lt;/a&gt; must be set to the shortest possible
-   representation of the given value that is a &lt;a href=&quot;#valid1&quot;&gt;valid
-   floating point number&lt;/a&gt; in base ten.
+   href=&quot;#valueasnumber&quot;&gt;valueAsNumber&lt;/a&gt;&lt;/code&gt; attribute does not apply,
+   as defined for the &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element's
+   &lt;code title=attr-input-type&gt;&lt;a href=&quot;#type14&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute's
+   current state, then throw an &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt; exception;
+   otherwise, run the &lt;dfn id=algorithm12
+   title=concept-input-value-number-string&gt;algorithm to convert a number to a
+   string&lt;/dfn&gt;, as defined for that state, on the new value, and set the
+   &lt;span title=concept-input-value&gt;value&lt;/span&gt; of the element to resulting
+   string.
 
+  &lt;hr&gt;
+
+  &lt;p&gt;The &lt;dfn id=stepup title=dom-input-stepUp&gt;&lt;code&gt;stepUp()&lt;/code&gt;&lt;/dfn&gt;
+   and &lt;dfn id=stepdown
+   title=dom-input-stepDown&gt;&lt;code&gt;stepDown()&lt;/code&gt;&lt;/dfn&gt; methods, when
+   invoked, must run the following algorithm:
+
+  &lt;ol&gt;
+   &lt;li&gt;
+    &lt;p&gt;If the &lt;code title=dom-input-stepUp&gt;&lt;a
+     href=&quot;#stepup&quot;&gt;stepUp()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-input-stepDown&gt;&lt;a
+     href=&quot;#stepdown&quot;&gt;stepDown()&lt;/a&gt;&lt;/code&gt; methods do not apply, as defined
+     for the &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element's &lt;code
+     title=attr-input-type&gt;&lt;a href=&quot;#type14&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute's
+     current state, then throw an &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt; exception,
+     and abort these steps.
+
+   &lt;li&gt;
+    &lt;p&gt;If the element has no &lt;a href=&quot;#allowed&quot;
+     title=concept-input-step&gt;allowed value step&lt;/a&gt;, then throw a
+     &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt; exception, and abort these steps.
+
+   &lt;li&gt;
+    &lt;p&gt;If applying the &lt;a href=&quot;#algorithm11&quot;
+     title=concept-input-value-string-number&gt;algorithm to convert a string to
+     a number&lt;/a&gt; to the string given by the element's &lt;span
+     title=concept-input-value&gt;value&lt;/span&gt; results in an error, then throw
+     an &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt; exception, and abort these steps;
+     otherwise, let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the result of that
+     algorithm.
+
+   &lt;li&gt;
+    &lt;p&gt;If the method invoked was the &lt;code title=dom-input-stepDown&gt;&lt;a
+     href=&quot;#stepdown&quot;&gt;stepDown()&lt;/a&gt;&lt;/code&gt; method, negate &lt;var
+     title=&quot;&quot;&gt;value&lt;/var&gt;.
+
+   &lt;li&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the result of adding the &lt;a
+     href=&quot;#allowed&quot; title=concept-input-step&gt;allowed value step&lt;/a&gt; to &lt;var
+     title=&quot;&quot;&gt;value&lt;/var&gt;.
+
+   &lt;li&gt;
+    &lt;p&gt;Run the &lt;dfn id=algorithm13
+     title=concept-input-value-number-string&gt;algorithm to convert a number to
+     a string&lt;/dfn&gt;, as defined for the &lt;code&gt;&lt;a
+     href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-input-type&gt;&lt;a
+     href=&quot;#type14&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute's current state, on &lt;var
+     title=&quot;&quot;&gt;value&lt;/var&gt;, and set the &lt;span
+     title=concept-input-value&gt;value&lt;/span&gt; of the element to resulting
+     string.
+  &lt;/ol&gt;
+
   &lt;h6 id=others...&gt;&lt;span class=secno&gt;4.10.4.3.2. &lt;/span&gt;Others...&lt;/h6&gt;
 
   &lt;p class=big-issue&gt;... &lt;dfn id=checked1
@@ -30589,12 +30779,6 @@
   &lt;p class=big-issue&gt;... &lt;dfn id=selectedoption
    title=dom-input-selectedOption&gt;&lt;code&gt;selectedOption&lt;/code&gt;&lt;/dfn&gt;
 
-  &lt;p class=big-issue&gt;... &lt;dfn id=stepup
-   title=dom-input-stepUp&gt;&lt;code&gt;stepUp()&lt;/code&gt;&lt;/dfn&gt;
-
-  &lt;p class=big-issue&gt;... &lt;dfn id=stepdown
-   title=dom-input-stepDown&gt;&lt;code&gt;stepDown()&lt;/code&gt;&lt;/dfn&gt;
-
   &lt;h4 id=the-button&gt;&lt;span class=secno&gt;4.10.5 &lt;/span&gt;The &lt;dfn
    id=button2&gt;&lt;code&gt;button&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
@@ -30909,7 +31093,7 @@
 
   &lt;p class=big-issue&gt;...
 
-  &lt;p class=big-issue&gt;... &lt;dfn id=selected2
+  &lt;p class=big-issue&gt;... &lt;dfn id=selected1
    title=concept-option-selected&gt;selected&lt;/dfn&gt;
 
   &lt;p class=big-issue&gt;... &lt;dfn id=value11
@@ -31620,7 +31804,7 @@
        &lt;li&gt;
         &lt;p&gt;The &lt;var title=&quot;&quot;&gt;field&lt;/var&gt; element is &lt;var
          title=&quot;&quot;&gt;submitter&lt;/var&gt;, and before this algorithm was invoked the
-         user &lt;a href=&quot;#selected1&quot;
+         user &lt;a href=&quot;#selected0&quot;
          title=concept-input-type-image-coordinate&gt;indicated a
          coordinate&lt;/a&gt;. Let &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; be the x-component of the
          coordindate selected by the user, and let &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; be
@@ -31664,7 +31848,7 @@
       &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;field&lt;/var&gt; element is a &lt;code&gt;&lt;a
        href=&quot;#select&quot;&gt;select&lt;/a&gt;&lt;/code&gt; element, then for each &lt;code&gt;&lt;a
        href=&quot;#option&quot;&gt;option&lt;/a&gt;&lt;/code&gt; element in the &lt;code&gt;&lt;a
-       href=&quot;#select&quot;&gt;select&lt;/a&gt;&lt;/code&gt; element that is &lt;a href=&quot;#selected2&quot;
+       href=&quot;#select&quot;&gt;select&lt;/a&gt;&lt;/code&gt; element that is &lt;a href=&quot;#selected1&quot;
        title=concept-option-selected&gt;selected&lt;/a&gt;, append an entry in the
        &lt;var title=&quot;&quot;&gt;form data set&lt;/var&gt; with the &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; as
        the name and the &lt;a href=&quot;#value11&quot;
@@ -31676,7 +31860,7 @@
        href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element whose &lt;code
        title=attr-input-type&gt;&lt;a href=&quot;#type14&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute is
        in the &lt;span title=attr-input-type-file-state&gt;File Upload&lt;/span&gt;
-       state, then for each file &lt;a href=&quot;#selected0&quot;
+       state, then for each file &lt;a href=&quot;#selected&quot;
        title=concept-input-type-file-selected&gt;selected&lt;/a&gt; in the &lt;code&gt;&lt;a
        href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element, append an entry in the &lt;var
        title=&quot;&quot;&gt;form data set&lt;/var&gt; with the &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; as the
@@ -34362,7 +34546,7 @@
     href=&quot;#radiogroup&quot;&gt;radiogroup&lt;/a&gt;&lt;/code&gt;
 
    &lt;dd&gt;&lt;code title=attr-command-default&gt;&lt;a
-    href=&quot;#default2&quot;&gt;default&lt;/a&gt;&lt;/code&gt;
+    href=&quot;#default3&quot;&gt;default&lt;/a&gt;&lt;/code&gt;
 
    &lt;dd&gt;Also, the &lt;code title=attr-command-title&gt;&lt;a
     href=&quot;#title6&quot;&gt;title&lt;/a&gt;&lt;/code&gt; attribute has special semantics on this
@@ -34379,7 +34563,7 @@
            attribute boolean &lt;a href=&quot;#disabled10&quot; title=dom-command-disabled&gt;disabled&lt;/a&gt;;
            attribute boolean &lt;a href=&quot;#checked4&quot; title=dom-command-checked&gt;checked&lt;/a&gt;;
            attribute DOMString &lt;a href=&quot;#radiogroup0&quot; title=dom-command-radiogroup&gt;radiogroup&lt;/a&gt;;
-           attribute boolean &lt;a href=&quot;#default3&quot; title=dom-command-default&gt;default&lt;/a&gt;;
+           attribute boolean &lt;a href=&quot;#default4&quot; title=dom-command-default&gt;default&lt;/a&gt;;
  void &lt;a href=&quot;#click&quot; title=dom-command-click&gt;click&lt;/a&gt;(); // shadows &lt;code&gt;&lt;a href=&quot;#htmlelement&quot;&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;.&lt;code title=dom-click&gt;&lt;a href=&quot;#click1&quot;&gt;click()&lt;/a&gt;&lt;/code&gt;
 };&lt;/pre&gt;
 
@@ -34444,12 +34628,12 @@
 
   &lt;p&gt;If the &lt;code&gt;&lt;a href=&quot;#command0&quot;&gt;command&lt;/a&gt;&lt;/code&gt; element is used when
    &lt;span title=&quot;menu generation&quot;&gt;generating&lt;/span&gt; a &lt;span&gt;context
-   menu&lt;/span&gt;, then the &lt;dfn id=default2
+   menu&lt;/span&gt;, then the &lt;dfn id=default3
    title=attr-command-default&gt;&lt;code&gt;default&lt;/code&gt;&lt;/dfn&gt; attribute indicates,
    if present, that the command is the one that would have been invoked if
    the user had directly activated the menu's subject instead of using its
    context menu. The &lt;code title=attr-command-default&gt;&lt;a
-   href=&quot;#default2&quot;&gt;default&lt;/a&gt;&lt;/code&gt; attribute is a &lt;a
+   href=&quot;#default3&quot;&gt;default&lt;/a&gt;&lt;/code&gt; attribute is a &lt;a
    href=&quot;#boolean0&quot;&gt;boolean attribute&lt;/a&gt;.
 
   &lt;div class=example&gt;
@@ -34465,7 +34649,7 @@
    title=dom-command-disabled&gt;&lt;code&gt;disabled&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=checked4
    title=dom-command-checked&gt;&lt;code&gt;checked&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=radiogroup0
    title=dom-command-radiogroup&gt;&lt;code&gt;radiogroup&lt;/code&gt;&lt;/dfn&gt;, and &lt;dfn
-   id=default3 title=dom-command-default&gt;&lt;code&gt;default&lt;/code&gt;&lt;/dfn&gt; DOM
+   id=default4 title=dom-command-default&gt;&lt;code&gt;default&lt;/code&gt;&lt;/dfn&gt; DOM
    attributes must &lt;a href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the content attributes of
    the same name.
 
@@ -34947,7 +35131,7 @@
    this means for each facet --&gt;.
     If the element is a &lt;code&gt;&lt;a href=&quot;#command0&quot;&gt;command&lt;/a&gt;&lt;/code&gt; element
     with a &lt;code title=attr-command-default&gt;&lt;a
-    href=&quot;#default2&quot;&gt;default&lt;/a&gt;&lt;/code&gt; attribute, mark the command as being
+    href=&quot;#default3&quot;&gt;default&lt;/a&gt;&lt;/code&gt; attribute, mark the command as being
     a default command.&lt;/dd&gt;
    &lt;!-- XXX if there's an
    Icon URL for the command, it should be &lt;span
@@ -36680,9 +36864,9 @@
    data mining tools are likely to never instantiate browsing contexts.
 
   &lt;p&gt;The main &lt;a href=&quot;#view&quot;&gt;view&lt;/a&gt; through which a user primarily
-   interacts with a user agent is the &lt;dfn id=default4&gt;default view&lt;/dfn&gt;.
+   interacts with a user agent is the &lt;dfn id=default5&gt;default view&lt;/dfn&gt;.
 
-  &lt;p class=note&gt;The &lt;a href=&quot;#default4&quot;&gt;default view&lt;/a&gt; of a
+  &lt;p class=note&gt;The &lt;a href=&quot;#default5&quot;&gt;default view&lt;/a&gt; of a
    &lt;code&gt;Document&lt;/code&gt; is given by the &lt;code title=&quot;&quot;&gt;defaultView&lt;/code&gt;
    attribute on the &lt;code&gt;Document&lt;/code&gt; object's &lt;code&gt;DocumentView&lt;/code&gt;
    interface. &lt;a href=&quot;#refsDOM3VIEWS&quot;&gt;[DOM3VIEWS]&lt;/a&gt;
@@ -36880,7 +37064,7 @@
   &lt;h4 id=security2&gt;&lt;span class=secno&gt;5.1.4 &lt;/span&gt;Security&lt;/h4&gt;
 
   &lt;p&gt;A &lt;a href=&quot;#browsing1&quot;&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; is
-   &lt;dfn id=allowed&gt;allowed to navigate&lt;/dfn&gt; a second &lt;a
+   &lt;dfn id=allowed0&gt;allowed to navigate&lt;/dfn&gt; a second &lt;a
    href=&quot;#browsing1&quot;&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; if one of the
    following conditions is true:
 
@@ -36898,7 +37082,7 @@
 
    &lt;li&gt;The browsing context &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; is an &lt;a
     href=&quot;#auxiliary0&quot;&gt;auxiliary browsing context&lt;/a&gt; and &lt;var
-    title=&quot;&quot;&gt;A&lt;/var&gt; is &lt;a href=&quot;#allowed&quot;&gt;allowed to navigate&lt;/a&gt; &lt;var
+    title=&quot;&quot;&gt;A&lt;/var&gt; is &lt;a href=&quot;#allowed0&quot;&gt;allowed to navigate&lt;/a&gt; &lt;var
     title=&quot;&quot;&gt;B&lt;/var&gt;'s &lt;a href=&quot;#opener&quot;&gt;opener browsing context&lt;/a&gt;, or
 
    &lt;li&gt;The browsing context &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; is not a &lt;a
@@ -36993,7 +37177,7 @@
      and there exists a browsing context whose &lt;a href=&quot;#browsing3&quot;
      title=&quot;browsing context name&quot;&gt;name&lt;/a&gt; is the same as the given browsing
      context name, and the current browsing context is &lt;a
-     href=&quot;#allowed&quot;&gt;allowed to navigate&lt;/a&gt; that browsing context, and the
+     href=&quot;#allowed0&quot;&gt;allowed to navigate&lt;/a&gt; that browsing context, and the
      user agent determines that the two browsing contexts are related enough
      that it is ok if they reach each other, then that browsing context must
      be the chosen one. If there are multiple matching browsing contexts, the
@@ -37067,7 +37251,7 @@
 
   &lt;h3 id=the-default0&gt;&lt;span class=secno&gt;5.2 &lt;/span&gt;The default view&lt;/h3&gt;
 
-  &lt;p&gt;The &lt;code&gt;AbstractView&lt;/code&gt; object of &lt;a href=&quot;#default4&quot;
+  &lt;p&gt;The &lt;code&gt;AbstractView&lt;/code&gt; object of &lt;a href=&quot;#default5&quot;
    title=&quot;default view&quot;&gt;default views&lt;/a&gt; must also implement the &lt;code&gt;&lt;a
    href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;EventTarget&lt;/code&gt; interfaces.
 
@@ -37169,7 +37353,7 @@
    href=&quot;#browsing1&quot;&gt;browsing context&lt;/a&gt; has an associated &lt;dfn
    id=list-of2&gt;list of added properties&lt;/dfn&gt; that, when a document is &lt;a
    href=&quot;#active&quot; title=&quot;active document&quot;&gt;active&lt;/a&gt;, are available on the
-   &lt;code&gt;Document&lt;/code&gt;'s &lt;a href=&quot;#default4&quot;&gt;default view&lt;/a&gt;'s &lt;code&gt;&lt;a
+   &lt;code&gt;Document&lt;/code&gt;'s &lt;a href=&quot;#default5&quot;&gt;default view&lt;/a&gt;'s &lt;code&gt;&lt;a
    href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; object. A &lt;code&gt;Document&lt;/code&gt; object's
    &lt;a href=&quot;#list-of2&quot;&gt;list of added properties&lt;/a&gt; must be empty when the
    &lt;code&gt;Document&lt;/code&gt; object is created.
@@ -41467,7 +41651,7 @@
   &lt;ul&gt;
    &lt;li&gt;The &lt;code title=dom-location-href&gt;&lt;a href=&quot;#href5&quot;&gt;href&lt;/a&gt;&lt;/code&gt;
     setter, if the script is running in a &lt;a href=&quot;#browsing1&quot;&gt;browsing
-    context&lt;/a&gt; that is &lt;a href=&quot;#allowed&quot;&gt;allowed to navigate&lt;/a&gt; the
+    context&lt;/a&gt; that is &lt;a href=&quot;#allowed0&quot;&gt;allowed to navigate&lt;/a&gt; the
     browsing context with which the &lt;code&gt;&lt;a
     href=&quot;#location2&quot;&gt;Location&lt;/a&gt;&lt;/code&gt; object is associated
   &lt;/ul&gt;
@@ -44825,7 +45009,7 @@
    treat the keyword &quot;&lt;code title=&quot;&quot;&gt;previous&lt;/code&gt;&quot; like the &lt;code
    title=rel-prev&gt;&lt;a href=&quot;#prev&quot;&gt;prev&lt;/a&gt;&lt;/code&gt; keyword.
 
-  &lt;h5 id=other1&gt;&lt;span class=secno&gt;5.11.3.20. &lt;/span&gt;Other link types&lt;/h5&gt;
+  &lt;h5 id=other0&gt;&lt;span class=secno&gt;5.11.3.20. &lt;/span&gt;Other link types&lt;/h5&gt;
 
   &lt;p&gt;Other than the types defined above, only types defined as extensions in
    the &lt;a href=&quot;<A HREF="http://wiki.whatwg.org/wiki/RelExtensions">http://wiki.whatwg.org/wiki/RelExtensions</A>&quot;&gt;WHATWG Wiki
@@ -49461,7 +49645,7 @@
      the &lt;code title=dom-MessageEvent-source&gt;&lt;a
      href=&quot;#source3&quot;&gt;source&lt;/a&gt;&lt;/code&gt; attribute must be set to the &lt;code&gt;&lt;a
      href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; object of the &lt;a
-     href=&quot;#default4&quot;&gt;default view&lt;/a&gt; of the &lt;a href=&quot;#browsing1&quot;&gt;browsing
+     href=&quot;#default5&quot;&gt;default view&lt;/a&gt; of the &lt;a href=&quot;#browsing1&quot;&gt;browsing
      context&lt;/a&gt; for which the &lt;code&gt;Document&lt;/code&gt; object with which the
      script is associated is the &lt;a href=&quot;#active&quot;&gt;active
      document&lt;/a&gt;&lt;!--, if there is one, or null
@@ -49542,7 +49726,7 @@
      the &lt;code title=dom-MessageEvent-source&gt;&lt;a
      href=&quot;#source3&quot;&gt;source&lt;/a&gt;&lt;/code&gt; attribute must be set to the &lt;code&gt;&lt;a
      href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; object of the &lt;a
-     href=&quot;#default4&quot;&gt;default view&lt;/a&gt; of the &lt;a href=&quot;#browsing1&quot;&gt;browsing
+     href=&quot;#default5&quot;&gt;default view&lt;/a&gt; of the &lt;a href=&quot;#browsing1&quot;&gt;browsing
      context&lt;/a&gt; for which the &lt;code&gt;Document&lt;/code&gt; object with which the
      script is associated is the &lt;a href=&quot;#active&quot;&gt;active
      document&lt;/a&gt;&lt;!--, if there is one, or null

Modified: source
===================================================================
--- source	2008-09-26 08:59:40 UTC (rev 2242)
+++ source	2008-09-30 03:14:23 UTC (rev 2243)
@@ -1306,8 +1306,8 @@
   &lt;p&gt;The &lt;dfn&gt;rules for parsing floating point number values&lt;/dfn&gt; are
   as given in the following algorithm. As with the previous
   algorithms, when this one is invoked, the steps must be followed in
-  the order given, aborting at the first step that returns a
-  value. This algorithm will either return a number or an
+  the order given, aborting at the first step that returns
+  something. This algorithm will either return a number or an
   error. Leading spaces are ignored. Trailing spaces and garbage
   characters are ignored.&lt;/p&gt;
 
@@ -1365,8 +1365,7 @@
    title=&quot;&quot;&gt;value&lt;/var&gt; by that integer.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;, return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; and abort
-   these steps.&lt;/li&gt;
+   title=&quot;&quot;&gt;input&lt;/var&gt;, return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the character indicated by &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;
    is a U+002E FULL STOP (&quot;.&quot;), run these substeps:&lt;/p&gt;
@@ -1379,8 +1378,7 @@
      &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
      title=&quot;&quot;&gt;input&lt;/var&gt;, or if the character indicated by &lt;var
      title=&quot;&quot;&gt;position&lt;/var&gt; is not one of U+0030 DIGIT ZERO (0)
-     .. U+0039 DIGIT NINE (9), then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;
-     and abort these steps.&lt;/li&gt;
+     .. U+0039 DIGIT NINE (9), then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;&lt;i&gt;Fraction loop&lt;/i&gt;: Multiply &lt;var title=&quot;&quot;&gt;divisor&lt;/var&gt;
      by ten.&lt;/p&gt;&lt;/li&gt;
@@ -1393,8 +1391,7 @@
      character.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-     title=&quot;&quot;&gt;input&lt;/var&gt;, then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; and
-     abort these steps.&lt;/li&gt;
+     title=&quot;&quot;&gt;input&lt;/var&gt;, then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If the character indicated by &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;
      is one of U+0030 DIGIT ZERO (0) .. U+0039 DIGIT NINE (9), return
@@ -1415,8 +1412,7 @@
      character.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-     title=&quot;&quot;&gt;input&lt;/var&gt;, then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; and
-     abort these steps.&lt;/li&gt;
+     title=&quot;&quot;&gt;input&lt;/var&gt;, then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
 
      &lt;li&gt;
 
@@ -1431,8 +1427,8 @@
        character.&lt;/li&gt;
 
        &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-       title=&quot;&quot;&gt;input&lt;/var&gt;, then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; and
-       abort these steps.&lt;/li&gt;
+       title=&quot;&quot;&gt;input&lt;/var&gt;, then return &lt;var
+       title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
 
       &lt;/ol&gt;
 
@@ -1440,7 +1436,7 @@
 
      &lt;li&gt;&lt;p&gt;If the character indicated by &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;
      is not one of U+0030 DIGIT ZERO (0) .. U+0039 DIGIT NINE (9),
-     then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; and abort these steps.&lt;/li&gt;
+     then return &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
      U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), and interpret the
@@ -26142,7 +26138,22 @@
 
   &lt;p&gt;Each &lt;code&gt;input&lt;/code&gt; element has a &lt;span
   title=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt;, which is exposed by the &lt;code
-  title=&quot;dom-input-value&quot;&gt;value&lt;/code&gt; DOM attribute.&lt;/p&gt;
+  title=&quot;dom-input-value&quot;&gt;value&lt;/code&gt; DOM attribute. Some states
+  define an &lt;dfn title=&quot;concept-input-value-string-number&quot;&gt;algorithm
+  to convert a string to a number&lt;/dfn&gt;, an &lt;dfn
+  title=&quot;concept-input-value-number-string&quot;&gt;algorithm to convert a
+  number to a string&lt;/dfn&gt;, an &lt;dfn
+  title=&quot;concept-input-value-string-date&quot;&gt;algorithm to convert a
+  string to a &lt;code&gt;Date&lt;/code&gt; object&lt;/dfn&gt;, and an &lt;dfn
+  title=&quot;concept-input-value-date-string&quot;&gt;algorithm to convert a
+  &lt;code&gt;Date&lt;/code&gt; object to a string&lt;/dfn&gt;, which are used by
+  &lt;code title=&quot;attr-input-max&quot;&gt;max&lt;/code&gt;,
+  &lt;code title=&quot;attr-input-min&quot;&gt;min&lt;/code&gt;,
+  &lt;code title=&quot;attr-input-step&quot;&gt;step&lt;/code&gt;,
+  &lt;code title=&quot;dom-input-valueAsDate&quot;&gt;valueAsDate&lt;/code&gt;,
+  &lt;code title=&quot;dom-input-valueAsNumber&quot;&gt;valueAsNumber&lt;/code&gt;,
+  &lt;code title=&quot;dom-input-stepUp&quot;&gt;stepUp()&lt;/code&gt;, and
+  &lt;code title=&quot;dom-input-stepDown&quot;&gt;stepDown()&lt;/code&gt;.&lt;/p&gt;
 
   &lt;p&gt;Each &lt;code&gt;input&lt;/code&gt; element has a boolean &lt;dfn
   title=&quot;concept-input-mutability&quot;&gt;mutability flag&lt;/dfn&gt;. When it is
@@ -26533,62 +26544,79 @@
   of the element is not a &lt;span&gt;valid UTC date and time&lt;/span&gt;, then
   set it to the empty string instead.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;concept-input-value-datetime&quot;&gt;selected UTC date
-  and time&lt;/dfn&gt; is the result of &lt;span title=&quot;parse a UTC date and
-  time&quot;&gt;parsing a UTC date and time&lt;/span&gt; from the element's &lt;span
-  title=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt;, unless that fails, in which
-  case there is no &lt;span title=&quot;concept-input-value-datetime&quot;&gt;selected
-  UTC date and time&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;&lt;strong&gt;The &lt;span
+  title=&quot;concept-input-value-string-number&quot;&gt;algorithm to convert a
+  string to a number&lt;/span&gt;, given a string &lt;var
+  title=&quot;&quot;&gt;input&lt;/var&gt;&lt;/strong&gt;, is as follows:&lt;/p&gt;
 
-  &lt;p class=&quot;big-issue&quot;&gt;&lt;strong&gt;The &lt;span&gt;&lt;code
-  title=&quot;dom-input-valueAsDate&quot;&gt;valueAsDate&lt;/code&gt; setter
-  algorithm&lt;/span&gt; is as follows:&lt;/strong&gt; ...&lt;/p&gt;
+  &lt;ol&gt;
 
-  &lt;p class=&quot;big-issue&quot;&gt;&lt;strong&gt;The &lt;span&gt;&lt;code
-  title=&quot;dom-input-valueAsNumber&quot;&gt;valueAsNumber&lt;/code&gt; setter
-  algorithm&lt;/span&gt; is as follows:&lt;/strong&gt; ...&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Parse a UTC date and time&lt;/span&gt; from &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
-  &lt;p&gt;The &lt;code title=&quot;attr-input-min&quot;&gt;min&lt;/code&gt; attribute, if
-  specified, must have a value that is a &lt;span&gt;valid UTC date and
-  time&lt;/span&gt;. The &lt;dfn title=&quot;concept-input-min-datetime&quot;&gt;minimum UTC
-  date and time&lt;/dfn&gt; is the result of &lt;span title=&quot;parse a UTC date
-  and time&quot;&gt;parsing a UTC date and time&lt;/span&gt; from the element's
-  &lt;code title=&quot;attr-input-min&quot;&gt;min&lt;/code&gt; attribute, unless that
-  fails, in which case there is no &lt;span
-  title=&quot;concept-input-min-datetime&quot;&gt;minimum UTC date and
-  time&lt;/span&gt;.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;If that results in an error, return an error and abort these
+   steps.&lt;/p&gt;&lt;/li&gt;
 
-  &lt;p&gt;&lt;strong&gt;Constraint validation:&lt;/strong&gt; When there is both a
-  &lt;span title=&quot;concept-input-value-datetime&quot;&gt;selected UTC date and
-  time&lt;/span&gt; and a &lt;span title=&quot;concept-input-min-datetime&quot;&gt;minimum
-  UTC date and time&lt;/span&gt;, if the former is earlier than the latter,
-  the element is &lt;span&gt;suffering from an underflow&lt;/span&gt;.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;Otherwise, return the number of milliseconds elapsed from
+   midnight UTC on the morning of 1970-01-01 (the time represented by
+   the value &quot;&lt;code title=&quot;&quot;&gt;1970-01-01T00:00:00.0Z&lt;/code&gt;&quot;) to the
+   parsed date and time, ignoring leap seconds.&lt;/p&gt;&lt;/li&gt;
 
-  &lt;p&gt;The &lt;code title=&quot;attr-input-max&quot;&gt;max&lt;/code&gt; attribute, if
+  &lt;/ol&gt;
+
+  &lt;p&gt;&lt;strong&gt;The &lt;span
+  title=&quot;concept-input-value-number-string&quot;&gt;algorithm to convert a
+  number to a string&lt;/span&gt;, given a number &lt;var
+  title=&quot;&quot;&gt;input&lt;/var&gt;&lt;/strong&gt;, consists of returning a &lt;span&gt;valid
+  UTC date and time&lt;/span&gt; that represents the date and time in UTC
+  that is &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; milliseconds afer midnight UTC on
+  the morning of 1970-01-01 (the time represented by the value &quot;&lt;code
+  title=&quot;&quot;&gt;1970-01-01T00:00:00.0Z&lt;/code&gt;&quot;).&lt;/p&gt;
+
+  &lt;p&gt;&lt;strong&gt;The &lt;span
+  title=&quot;concept-input-value-string-date&quot;&gt;algorithm to convert a
+  string to a &lt;code&gt;Date&lt;/code&gt; object&lt;/span&gt;, given a string &lt;var
+  title=&quot;&quot;&gt;input&lt;/var&gt;&lt;/strong&gt;, is as follows:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Parse a UTC date and time&lt;/span&gt; from &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If that results in an error, return an error and abort these
+   steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Otherwise, return a &lt;code&gt;Date&lt;/code&gt; object representing
+   the parsed date and time.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;&lt;strong&gt;The &lt;span
+  title=&quot;concept-input-value-date-string&quot;&gt;algorithm to convert a
+  &lt;code&gt;Date&lt;/code&gt; object to a string&lt;/span&gt;, given a
+  &lt;code&gt;Date&lt;/code&gt; object &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;&lt;/strong&gt;,
+  consists of returning a &lt;span&gt;valid UTC date and time&lt;/span&gt; that
+  represents the date and time in UTC that is represented by &lt;var
+  title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;
+
+  &lt;!-- MIN AND MAX: --&gt;
+
+  &lt;p&gt;The &lt;code title=&quot;attr-input-min&quot;&gt;min&lt;/code&gt; attribute, if
   specified, must have a value that is a &lt;span&gt;valid UTC date and
-  time&lt;/span&gt;. The &lt;dfn title=&quot;concept-input-max-datetime&quot;&gt;maximum UTC
-  date and time&lt;/dfn&gt; is the result of &lt;span title=&quot;parse a UTC date
-  and time&quot;&gt;parsing a UTC date and time&lt;/span&gt; from the element's
-  &lt;code title=&quot;attr-input-max&quot;&gt;max&lt;/code&gt; attribute, unless that
-  fails, in which case there is no &lt;span
-  title=&quot;concept-input-max-datetime&quot;&gt;maximum UTC date and
+  time&lt;/span&gt;. The &lt;code title=&quot;attr-input-max&quot;&gt;max&lt;/code&gt; attribute,
+  if specified, must have a value that is a &lt;span&gt;valid UTC date and
   time&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;&lt;strong&gt;Constraint validation:&lt;/strong&gt; When there is both a
-  &lt;span title=&quot;concept-input-value-datetime&quot;&gt;selected UTC date and
-  time&lt;/span&gt; and a &lt;span title=&quot;concept-input-max-datetime&quot;&gt;maximum
-  UTC date and time&lt;/span&gt;, if the former is later than the latter,
-  the element is &lt;span&gt;suffering from an overflow&lt;/span&gt;.&lt;/p&gt;
+  &lt;!-- STEP: --&gt;
 
-  &lt;p class=&quot;big-issue&quot;&gt;The &lt;code title=&quot;attr-input-step&quot;&gt;step&lt;/code&gt;
-  attribute, if specified, must have a value that is a ...&lt;/p&gt;
+  &lt;p&gt;The &lt;code title=&quot;attr-input-step&quot;&gt;step&lt;/code&gt; attribute is
+  expressed in seconds. The &lt;span
+  title=&quot;concept-input-step-scale&quot;&gt;step scale factor&lt;/span&gt; is 1000
+  (which converts the seconds to milliseconds, as used in the other
+  algorithms). The &lt;span title=&quot;concept-input-step-default&quot;&gt;default
+  step&lt;/span&gt; is 60 seconds.&lt;/p&gt;
 
-  &lt;!-- values: positive non-zero floating point, or &quot;any&quot; --&gt;
-  &lt;!-- units: seconds --&gt;
-  &lt;!-- default: 60 --&gt;
-  &lt;!-- zero point: min, or 1970-01-01T00:00:00.0Z --&gt;
-  &lt;!-- allow rounding --&gt;
-  &lt;!-- &lt;span&gt;suffering from a step mismatch&lt;/span&gt; --&gt;
+  &lt;!-- XXX allow rounding --&gt;
 
   &lt;p&gt;The following common &lt;code&gt;input&lt;/code&gt; element content
   attributes, DOM attributes, and methods apply to the element:
@@ -26996,21 +27024,126 @@
 
 
 
-  &lt;h6&gt;Other attributes&lt;/h6&gt;
+  &lt;h6&gt;The &lt;code title=&quot;attr-input-min&quot;&gt;min&lt;/code&gt; and &lt;code
+  title=&quot;attr-input-max&quot;&gt;max&lt;/code&gt; attributes&lt;/h6&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;attr-input-min&quot;&gt;&lt;code&gt;min&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn
-  title=&quot;attr-input-max&quot;&gt;&lt;code&gt;max&lt;/code&gt;&lt;/dfn&gt; attributes define a
-  range constraint on the value.&lt;/p&gt;
+  title=&quot;attr-input-max&quot;&gt;&lt;code&gt;max&lt;/code&gt;&lt;/dfn&gt; attributes indicate
+  the allowed range of values for the element.&lt;/p&gt;
 
+  &lt;p&gt;Their syntax is defined by the section that defines the &lt;code
+  title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute's current state.&lt;/p&gt;
+
+  &lt;p&gt;&lt;strong&gt;Constraint validation:&lt;/strong&gt; When the element has a
+  &lt;code title=&quot;attr-input-min&quot;&gt;min&lt;/code&gt; attribute, and the result of
+  applying the &lt;span
+  title=&quot;concept-input-value-string-number&quot;&gt;algorithm to convert a
+  string to a number&lt;/span&gt; to the string given by the element's &lt;span
+  title=&quot;concept-input-value&quot;&gt;value&lt;/span&gt; is a number, and the result
+  of applying the &lt;span
+  title=&quot;concept-input-value-string-number&quot;&gt;algorithm to convert a
+  string to a number&lt;/span&gt; to the value of the &lt;code
+  title=&quot;attr-input-min&quot;&gt;min&lt;/code&gt; attribute is also a number, and
+  the number obtained from the former is less than the number obtained
+  from the latter, the element is &lt;span&gt;suffering from an
+  underflow&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;&lt;strong&gt;Constraint validation:&lt;/strong&gt; When the element has a
+  &lt;code title=&quot;attr-input-max&quot;&gt;max&lt;/code&gt; attribute, and the result of
+  applying the &lt;span
+  title=&quot;concept-input-value-string-number&quot;&gt;algorithm to convert a
+  string to a number&lt;/span&gt; to the string given by the element's &lt;span
+  title=&quot;concept-input-value&quot;&gt;value&lt;/span&gt; is a number, and the result
+  of applying the &lt;span
+  title=&quot;concept-input-value-string-number&quot;&gt;algorithm to convert a
+  string to a number&lt;/span&gt; to the value of the &lt;code
+  title=&quot;attr-input-max&quot;&gt;max&lt;/code&gt; attribute is also a number, and
+  the number obtained from the former is greater than the number
+  obtained from the latter, the element is &lt;span&gt;suffering from an
+  overflow&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code title=&quot;attr-input-min&quot;&gt;min&lt;/code&gt; attribute also
+  defines the &lt;span title=&quot;concept-input-min-zero&quot;&gt;step
+  base&lt;/span&gt;.&lt;/p&gt;
+
+
+  &lt;h6&gt;The &lt;code title=&quot;attr-input-step&quot;&gt;step&lt;/code&gt; attribute&lt;/h6&gt;
+
   &lt;p&gt;The &lt;dfn title=&quot;attr-input-step&quot;&gt;&lt;code&gt;step&lt;/code&gt;&lt;/dfn&gt;
-  attribute defines the increments between allowed values.&lt;/p&gt;
+  attribute indicates the granularity that is expected (and required)
+  of the &lt;span title=&quot;concept-input-value&quot;&gt;value&lt;/span&gt;, by limiting
+  the allowed values. The section that defines the &lt;code
+  title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute's current state also
+  defines the &lt;dfn title=&quot;concept-input-step-default&quot;&gt;default
+  step&lt;/dfn&gt; and the &lt;dfn title=&quot;concept-input-step-scale&quot;&gt;step
+  scale factor&lt;/dfn&gt;, which are used in processing the attribute as
+  described below.&lt;/p&gt;
 
-  &lt;p&gt;These attributes apply for a number of different states, but as
-  their behavior varies from state to state, they are not defined here
-  but instead in the states' own sections.&lt;/p&gt;
+  &lt;p&gt;The &lt;code title=&quot;attr-input-step&quot;&gt;step&lt;/code&gt; attribute, if
+  specified, must either have a value that is a &lt;span&gt;valid floating
+  point number&lt;/span&gt; that &lt;span title=&quot;rules for parsing floating
+  point number values&quot;&gt;parses&lt;/span&gt; to a number that is greater than
+  zero, or must have a value that is an &lt;span&gt;ASCII
+  case-insensitive&lt;/span&gt; match for the string &quot;&lt;code
+  title=&quot;&quot;&gt;any&lt;/code&gt;&quot;.&lt;/p&gt;
 
+  &lt;p&gt;The attribute provides the &lt;dfn
+  title=&quot;concept-input-step&quot;&gt;allowed value step&lt;/dfn&gt; for the element,
+  as follows:&lt;/p&gt;
 
+  &lt;ol&gt;
 
+   &lt;li&gt;If the attribute is absent, then the &lt;span
+   title=&quot;concept-input-step&quot;&gt;allowed value step&lt;/span&gt; is the &lt;span
+   title=&quot;concept-input-step-default&quot;&gt;default step&lt;/span&gt; multiplied
+   by the &lt;span title=&quot;concept-input-step-scale&quot;&gt;step scale
+   factor&lt;/span&gt;.&lt;/li&gt;
+
+   &lt;li&gt;Otherwise, if the attribute's value is an &lt;span&gt;ASCII
+   case-insensitive&lt;/span&gt; match for the string &quot;&lt;code
+   title=&quot;&quot;&gt;any&lt;/code&gt;&quot;, then there is no &lt;span
+   title=&quot;concept-input-step&quot;&gt;allowed value step&lt;/span&gt;.&lt;/li&gt;
+
+   &lt;li&gt;Otherwise, if the &lt;span&gt;rules for parsing floating point number
+   values&lt;/span&gt;, when they are applied to the attribute's value,
+   return an error, zero, or a number less than zero, then the &lt;span
+   title=&quot;concept-input-step&quot;&gt;allowed value step&lt;/span&gt; is the &lt;span
+   title=&quot;concept-input-step-default&quot;&gt;default step&lt;/span&gt; multiplied
+   by the &lt;span title=&quot;concept-input-step-scale&quot;&gt;step scale
+   factor&lt;/span&gt;.&lt;/li&gt;
+
+   &lt;li&gt;Otherwise, the &lt;span title=&quot;concept-input-step&quot;&gt;allowed value
+   step&lt;/span&gt; is the number returned by the &lt;span&gt;rules for parsing
+   floating point number values&lt;/span&gt; when they are applied to the
+   attribute's value, multiplied by the &lt;span
+   title=&quot;concept-input-step-scale&quot;&gt;step scale factor&lt;/span&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;concept-input-min-zero&quot;&gt;step base&lt;/dfn&gt; is the
+  result of applying the &lt;span
+  title=&quot;concept-input-value-string-number&quot;&gt;algorithm to convert a
+  string to a number&lt;/span&gt; to the value of the &lt;code
+  title=&quot;attr-input-min&quot;&gt;min&lt;/code&gt; attribute, unless the element does
+  not have a &lt;code title=&quot;attr-input-min&quot;&gt;min&lt;/code&gt; attribute
+  specified or the result of applying that algorithm is an error, in
+  which case the &lt;span title=&quot;concept-input-min-zero&quot;&gt;step base&lt;/span&gt;
+  is zero.&lt;/p&gt;
+
+  &lt;p&gt;&lt;strong&gt;Constraint validation:&lt;/strong&gt; When the element has an
+  &lt;span title=&quot;concept-input-step&quot;&gt;allowed value step&lt;/span&gt;, and the
+  result of applying the &lt;span
+  title=&quot;concept-input-value-string-number&quot;&gt;algorithm to convert a
+  string to a number&lt;/span&gt; to the string given by the element's &lt;span
+  title=&quot;concept-input-value&quot;&gt;value&lt;/span&gt; is a number, and that
+  number subtracted from the &lt;span title=&quot;concept-input-min-zero&quot;&gt;step
+  base&lt;/span&gt; is not an integral multiple of the &lt;span
+  title=&quot;concept-input-step&quot;&gt;allowed value step&lt;/span&gt;, the element is
+  &lt;span&gt;suffering from a step mismatch&lt;/span&gt;.&lt;/p&gt;
+
+
+
+
   &lt;h5&gt;Common &lt;code&gt;input&lt;/code&gt; element APIs&lt;/h5&gt;
 
   &lt;h6&gt;Value manipulation&lt;/h6&gt;
@@ -27035,59 +27168,109 @@
   as a date.&lt;/p&gt;
 
   &lt;p&gt;On getting, if the &lt;code
-  title=&quot;dom-input-valueAsDate&quot;&gt;valueAsDate&lt;/code&gt; attribute applies,
-  as defined for the &lt;code&gt;input&lt;/code&gt; element's &lt;code
+  title=&quot;dom-input-valueAsDate&quot;&gt;valueAsDate&lt;/code&gt; attribute does not
+  apply, as defined for the &lt;code&gt;input&lt;/code&gt; element's &lt;code
   title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute's current state, then
-  run the &lt;dfn&gt;&lt;code title=&quot;dom-input-valueAsDate&quot;&gt;valueAsDate&lt;/code&gt;
-  getter algorithm&lt;/dfn&gt; defined for that state. Otherwise, return a
-  Not-a-Number (NaN) value.&lt;/p&gt;
+  return null. Otherwise, run the &lt;dfn
+  title=&quot;concept-input-value-string-date&quot;&gt;algorithm to convert a
+  string to a &lt;code&gt;Date&lt;/code&gt; object&lt;/dfn&gt; defined for that state;
+  if the algorithm returned a &lt;code&gt;Date&lt;/code&gt; object, then return
+  it, otherwise, return null.&lt;/p&gt;
 
   &lt;p&gt;On setting, if the &lt;code
-  title=&quot;dom-input-valueAsDate&quot;&gt;valueAsDate&lt;/code&gt; attribute applies,
-  as defined for the &lt;code&gt;input&lt;/code&gt; element's &lt;code
+  title=&quot;dom-input-valueAsDate&quot;&gt;valueAsDate&lt;/code&gt; attribute does not
+  apply, as defined for the &lt;code&gt;input&lt;/code&gt; element's &lt;code
   title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute's current state, then
-  run the &lt;dfn&gt;&lt;code title=&quot;dom-input-valueAsDate&quot;&gt;valueAsDate&lt;/code&gt;
-  setter algorithm&lt;/dfn&gt; defined for that state. Otherwise, do
-  nothing.&lt;/p&gt;
+  throw an &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt; exception; otherwise, if
+  the new value is null, then set the &lt;span
+  title=&quot;concept-input-value&quot;&gt;value&lt;/span&gt; of the element to the empty
+  string; otherwise, run the &lt;dfn
+  title=&quot;concept-input-value-date-string&quot;&gt;algorithm to convert a
+  &lt;code&gt;Date&lt;/code&gt; object to a string&lt;/dfn&gt;, as defined for that
+  state, on the new value, and set the &lt;span
+  title=&quot;concept-input-value&quot;&gt;value&lt;/span&gt; of the element to resulting
+  string.&lt;/p&gt;
 
   &lt;hr&gt;
 
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-input-valueAsNumber&quot;&gt;&lt;code&gt;valueAsNumber&lt;/code&gt;&lt;/dfn&gt; DOM
-  attribute represents the &lt;span
-  title=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; of the element, interpreted
-  as a number.&lt;/p&gt;
+  attribute represents the &lt;span title=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt;
+  of the element, interpreted as a number.&lt;/p&gt;
 
   &lt;p&gt;On getting, if the &lt;code
-  title=&quot;dom-input-valueAsNumber&quot;&gt;valueAsNumber&lt;/code&gt; attribute
-  applies, as defined for the &lt;code&gt;input&lt;/code&gt; element's &lt;code
+  title=&quot;dom-input-valueAsNumber&quot;&gt;valueAsNumber&lt;/code&gt; attribute does
+  not apply, as defined for the &lt;code&gt;input&lt;/code&gt; element's &lt;code
   title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute's current state, then
-  run the &lt;dfn&gt;&lt;code
-  title=&quot;dom-input-valueAsNumber&quot;&gt;valueAsNumber&lt;/code&gt; getter
-  algorithm&lt;/dfn&gt; defined for that state. Otherwise, return the &lt;span
-  title=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; of the element, cast to the
-  type of the DOM attribute.&lt;/p&gt;
+  return a Not-a-Number (NaN) value. Otherwise, run the &lt;dfn
+  title=&quot;concept-input-value-string-number&quot;&gt;algorithm to convert a
+  string to a number&lt;/dfn&gt; defined for that state; if the algorithm
+  returned a number, then return it, otherwise, return a Not-a-Number
+  (NaN) value.&lt;/p&gt;
 
   &lt;p&gt;On setting, if the &lt;code
-  title=&quot;dom-input-valueAsNumber&quot;&gt;valueAsNumber&lt;/code&gt; attribute
-  applies, as defined for the &lt;code&gt;input&lt;/code&gt; element's &lt;code
+  title=&quot;dom-input-valueAsNumber&quot;&gt;valueAsNumber&lt;/code&gt; attribute does
+  not apply, as defined for the &lt;code&gt;input&lt;/code&gt; element's &lt;code
   title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute's current state, then
-  run the &lt;dfn&gt;&lt;code
-  title=&quot;dom-input-valueAsNumber&quot;&gt;valueAsNumber&lt;/code&gt; setter
-  algorithm&lt;/dfn&gt; defined for that state. Otherwise, the &lt;span
-  title=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; must be set to the shortest
-  possible representation of the given value that is a &lt;span&gt;valid
-  floating point number&lt;/span&gt; in base ten.&lt;/p&gt;
+  throw an &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt; exception; otherwise, run
+  the &lt;dfn title=&quot;concept-input-value-number-string&quot;&gt;algorithm to
+  convert a number to a string&lt;/dfn&gt;, as defined for that state, on
+  the new value, and set the &lt;span
+  title=&quot;concept-input-value&quot;&gt;value&lt;/span&gt; of the element to resulting
+  string.&lt;/p&gt;
 
+  &lt;hr&gt;
 
+  &lt;p&gt;The &lt;dfn title=&quot;dom-input-stepUp&quot;&gt;&lt;code&gt;stepUp()&lt;/code&gt;&lt;/dfn&gt; and
+  &lt;dfn title=&quot;dom-input-stepDown&quot;&gt;&lt;code&gt;stepDown()&lt;/code&gt;&lt;/dfn&gt;
+  methods, when invoked, must run the following algorithm:&lt;/p&gt;
 
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If the &lt;code title=&quot;dom-input-stepUp&quot;&gt;stepUp()&lt;/code&gt; and
+   &lt;code title=&quot;dom-input-stepDown&quot;&gt;stepDown()&lt;/code&gt; methods do not
+   apply, as defined for the &lt;code&gt;input&lt;/code&gt; element's &lt;code
+   title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute's current state, then
+   throw an &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt; exception, and abort these
+   steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the element has no &lt;span
+   title=&quot;concept-input-step&quot;&gt;allowed value step&lt;/span&gt;, then throw a
+   &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt; exception, and abort these
+   steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If applying the &lt;span
+   title=&quot;concept-input-value-string-number&quot;&gt;algorithm to convert a
+   string to a number&lt;/span&gt; to the string given by the element's
+   &lt;span title=&quot;concept-input-value&quot;&gt;value&lt;/span&gt; results in an error,
+   then throw an &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt; exception, and abort
+   these steps; otherwise, let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the result
+   of that algorithm.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the method invoked was the &lt;code
+   title=&quot;dom-input-stepDown&quot;&gt;stepDown()&lt;/code&gt; method, negate &lt;var
+   title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the result of adding the
+   &lt;span title=&quot;concept-input-step&quot;&gt;allowed value step&lt;/span&gt; to &lt;var
+   title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Run the &lt;dfn
+   title=&quot;concept-input-value-number-string&quot;&gt;algorithm to convert a
+   number to a string&lt;/dfn&gt;, as defined for the &lt;code&gt;input&lt;/code&gt;
+   element's &lt;code title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute's
+   current state, on &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, and set the &lt;span
+   title=&quot;concept-input-value&quot;&gt;value&lt;/span&gt; of the element to
+   resulting string.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+
   &lt;h6&gt;Others...&lt;/h6&gt;
 
   &lt;p class=&quot;big-issue&quot;&gt;... &lt;dfn title=&quot;dom-input-checked&quot;&gt;&lt;code&gt;checked&lt;/code&gt;&lt;/dfn&gt;&lt;/p&gt;
   &lt;p class=&quot;big-issue&quot;&gt;... &lt;dfn title=&quot;dom-input-list&quot;&gt;&lt;code&gt;list&lt;/code&gt;&lt;/dfn&gt;&lt;/p&gt;
   &lt;p class=&quot;big-issue&quot;&gt;... &lt;dfn title=&quot;dom-input-selectedOption&quot;&gt;&lt;code&gt;selectedOption&lt;/code&gt;&lt;/dfn&gt;&lt;/p&gt;
-  &lt;p class=&quot;big-issue&quot;&gt;... &lt;dfn title=&quot;dom-input-stepUp&quot;&gt;&lt;code&gt;stepUp()&lt;/code&gt;&lt;/dfn&gt;&lt;/p&gt;
-  &lt;p class=&quot;big-issue&quot;&gt;... &lt;dfn title=&quot;dom-input-stepDown&quot;&gt;&lt;code&gt;stepDown()&lt;/code&gt;&lt;/dfn&gt;&lt;/p&gt;
 
 
 


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009128.html">[html5] r2242 - [acgowt] (2) Change the 'floating point number'	syntax to allow an exponent.
</A></li>
	<LI>Next message: <A HREF="009130.html">[html5] r2244 - [e] (0) WF2: xref typos (used dfn instead of span)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9129">[ date ]</a>
              <a href="thread.html#9129">[ thread ]</a>
              <a href="subject.html#9129">[ subject ]</a>
              <a href="author.html#9129">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
