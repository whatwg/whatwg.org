<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1354 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1354%20-%20/&In-Reply-To=%3C20080307022126.5BEF638EFD2%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008255.html">
   <LINK REL="Next"  HREF="008257.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1354 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1354%20-%20/&In-Reply-To=%3C20080307022126.5BEF638EFD2%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1354 - /">whatwg at whatwg.org
       </A><BR>
    <I>Thu Mar  6 18:21:26 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008255.html">[html5] r1353 - /
</A></li>
        <LI>Next message: <A HREF="008257.html">[html5] r1355 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8256">[ date ]</a>
              <a href="thread.html#8256">[ thread ]</a>
              <a href="subject.html#8256">[ subject ]</a>
              <a href="author.html#8256">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-03-06 18:21:25 -0800 (Thu, 06 Mar 2008)
New Revision: 1354

Modified:
   index
   source
Log:
[e] (0) Move the Command APIs section down to below the Selection APIs

Modified: index
===================================================================
--- index	2008-03-07 02:19:32 UTC (rev 1353)
+++ index	2008-03-07 02:21:25 UTC (rev 1354)
@@ -1420,17 +1420,17 @@
         &lt;/span&gt;Implementation notes&lt;/a&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#command&quot;&gt;&lt;span class=secno&gt;5.5 &lt;/span&gt;Command APIs&lt;/a&gt;
-
-     &lt;li&gt;&lt;a href=&quot;#selection&quot;&gt;&lt;span class=secno&gt;5.6 &lt;/span&gt;The text selection
+     &lt;li&gt;&lt;a href=&quot;#selection&quot;&gt;&lt;span class=secno&gt;5.5 &lt;/span&gt;The text selection
       APIs&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#documentSelection&quot;&gt;&lt;span class=secno&gt;5.6.1 &lt;/span&gt;APIs
+       &lt;li&gt;&lt;a href=&quot;#documentSelection&quot;&gt;&lt;span class=secno&gt;5.5.1 &lt;/span&gt;APIs
         for the browsing context selection&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#textFieldSelection&quot;&gt;&lt;span class=secno&gt;5.6.2 &lt;/span&gt;APIs
+       &lt;li&gt;&lt;a href=&quot;#textFieldSelection&quot;&gt;&lt;span class=secno&gt;5.5.2 &lt;/span&gt;APIs
         for the text field selections&lt;/a&gt;
       &lt;/ul&gt;
+
+     &lt;li&gt;&lt;a href=&quot;#command&quot;&gt;&lt;span class=secno&gt;5.6 &lt;/span&gt;Command APIs&lt;/a&gt;
     &lt;/ul&gt;
 
    &lt;li&gt;&lt;a href=&quot;#comms&quot;&gt;&lt;span class=secno&gt;6. &lt;/span&gt;Communication&lt;/a&gt;
@@ -35187,192 +35187,8 @@
    history&lt;/a&gt; described in this section, however, such that to a script
    there is no detectable difference.
 
-  &lt;h3 id=command&gt;&lt;span class=secno&gt;5.5 &lt;/span&gt;Command APIs&lt;/h3&gt;
+  &lt;h3 id=selection&gt;&lt;span class=secno&gt;5.5 &lt;/span&gt;The text selection APIs&lt;/h3&gt;
 
-  &lt;p&gt;The &lt;dfn id=execCommand
-   title=dom-document-execCommand&gt;&lt;code&gt;execCommand(&lt;var
-   title=&quot;&quot;&gt;commandId&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;doShowUI&lt;/var&gt;, &lt;var
-   title=&quot;&quot;&gt;value&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method on the &lt;code&gt;&lt;a
-   href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface allows scripts to
-   perform actions on the &lt;a href=&quot;#a-selection&quot; title=&quot;the
-   selection&quot;&gt;current selection&lt;/a&gt; or at the current caret position.
-   Generally, these commands would be used to implement editor UI, for
-   example having a &quot;delete&quot; button on a toolbar.
-
-  &lt;p&gt;There are three variants to this method, with one, two, and three
-   arguments respectively. The &lt;var title=&quot;&quot;&gt;doShowUI&lt;/var&gt; and &lt;var
-   title=&quot;&quot;&gt;value&lt;/var&gt; parameters, even if specified, are ignored unless
-   otherwise stated.
-
-  &lt;p class=note&gt;In this specification, in fact, the &lt;var
-   title=&quot;&quot;&gt;doShowUI&lt;/var&gt; parameter is always ignored, regardless of its
-   value. It is included for historical reasons only.
-
-  &lt;p&gt;When any of these methods are invoked, user agents must act as described
-   in the list below.
-
-  &lt;p&gt;For actions marked &quot;&lt;dfn id=editing2&gt;editing hosts only&lt;/dfn&gt;&quot;, if the
-   selection is not entirely within an &lt;a href=&quot;#editing1&quot;&gt;editing host&lt;/a&gt;,
-   of if there is no selection and the caret is not inside an &lt;a
-   href=&quot;#editing1&quot;&gt;editing host&lt;/a&gt;, then the user agent must do nothing.
-
-  &lt;dl&gt;
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=undo1
-    title=command-undo&gt;&lt;code&gt;undo&lt;/code&gt;&lt;/dfn&gt;
-
-   &lt;dd&gt;The user agent must &lt;a href=&quot;#undo-moving0&quot; title=do-undo&gt;move back
-    one step&lt;/a&gt; in its &lt;a href=&quot;#undo-transaction&quot;&gt;undo transaction
-    history&lt;/a&gt;, restoring the associated state. If there is no further undo
-    information the user agent must do nothing. See the &lt;a
-    href=&quot;#undo-history&quot;&gt;undo history&lt;/a&gt;.
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=redo0
-    title=command-redo&gt;&lt;code&gt;redo&lt;/code&gt;&lt;/dfn&gt;
-
-   &lt;dd&gt;The user agent must &lt;a href=&quot;#redo-moving0&quot; title=do-redo&gt;move forward
-    one step&lt;/a&gt; in its &lt;a href=&quot;#undo-transaction&quot;&gt;undo transaction
-    history&lt;/a&gt;, restoring the associated state. If there is no further undo
-    (well, &quot;redo&quot;) information the user agent must do nothing. See the &lt;a
-    href=&quot;#undo-history&quot;&gt;undo history&lt;/a&gt;.
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=selectall0
-    title=command-selectAll&gt;&lt;code&gt;selectAll&lt;/code&gt;&lt;/dfn&gt;
-
-   &lt;dd&gt;The user agent must change the selection so that all the content in
-    the currently focused &lt;a href=&quot;#editing1&quot;&gt;editing host&lt;/a&gt; is selected.
-    If no &lt;a href=&quot;#editing1&quot;&gt;editing host&lt;/a&gt; is focused, then the content
-    of the entire document must be selected.
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=unselect
-    title=command-unselect&gt;&lt;code&gt;unselect&lt;/code&gt;&lt;/dfn&gt;
-
-   &lt;dd&gt;
-    &lt;p&gt;The user agent must change the selection so that nothing is selected.
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=superscript
-    title=command-superscript&gt;&lt;code&gt;superscript&lt;/code&gt;&lt;/dfn&gt;
-
-   &lt;dd&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; The user agent
-    must act as if the user had requested that the selection &lt;a
-    href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the semantics&lt;/a&gt; of
-    the &lt;code&gt;&lt;a href=&quot;#sup&quot;&gt;sup&lt;/a&gt;&lt;/code&gt; element (or unwrapped, or, if
-    there is no selection, have that semantic inserted or removed &mdash; the
-    exact behaviour is UA-defined).
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=subscript
-    title=command-subscript&gt;&lt;code&gt;subscript&lt;/code&gt;&lt;/dfn&gt;
-
-   &lt;dd&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; The user agent
-    must act as if the user had requested that the selection &lt;a
-    href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the semantics&lt;/a&gt; of
-    the &lt;em title=&quot;&quot;&gt;&lt;code&gt;&lt;a href=&quot;#sub&quot;&gt;sub&lt;/a&gt;&lt;/code&gt;&lt;/em&gt; element (or,
-    again, unwrapped, or have that semantic inserted or removed, as defined
-    by the UA).
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=formatblock
-    title=command-formatBlock&gt;&lt;code&gt;formatBlock&lt;/code&gt;&lt;/dfn&gt;
-
-   &lt;dd&gt;
-    &lt;p&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; This command
-     changes the semantics of the blocks containing the selection.&lt;/p&gt;
-
-    &lt;p&gt;If there is no selection, then, where in the description below refers
-     to the selection, the user agent must act as if the selection was an
-     empty range at the caret position.&lt;/p&gt;
-
-    &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; parameter is not specified or has a
-     value other than one of the following literal strings:&lt;/p&gt;
-
-    &lt;ul class=brief&gt;
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;address&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;aside&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h1&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h2&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h3&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h4&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h5&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h6&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;nav&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;p&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;pre&gt;&lt;/code&gt;&lt;/li&gt;
-     &lt;!-- XXX this list is incomplete --&gt;
-    &lt;/ul&gt;
-
-    &lt;p&gt;...then the user agent must do nothing.&lt;/p&gt;
-
-    &lt;p&gt;Otherwise, the user agent must, for every position in the selection,
-     take the furthest &lt;a href=&quot;#flow-content0&quot;&gt;flow content&lt;/a&gt; ancestor
-     element of that position that contains only &lt;a
-     href=&quot;#phrasing0&quot;&gt;phrasing content&lt;/a&gt;, and, if that element is a
-     descendant of the editing host, rename it (as if the &lt;code
-     title=&quot;&quot;&gt;Element.renameNode()&lt;/code&gt; method had been used) according to
-     the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, by stripping the leading
-     &lt;code&gt;&lt;&lt;/code&gt; character and the trailing &lt;code&gt;&gt;&lt;/code&gt; character
-     and using the rest as the new tag name, using the HTML namespace.
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=delete
-    title=command-delete&gt;&lt;code&gt;delete&lt;/code&gt;&lt;/dfn&gt;
-
-   &lt;dd&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; The user agent
-    must act as if the user had performed &lt;a href=&quot;#contenteditable-delete&quot;&gt;a
-    backspace operation&lt;/a&gt;.
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=forwarddelete
-    title=command-forwardDelete&gt;&lt;code&gt;forwardDelete&lt;/code&gt;&lt;/dfn&gt;
-
-   &lt;dd&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; The user agent
-    must act as if the user had performed &lt;a href=&quot;#contenteditable-delete&quot;&gt;a
-    forward delete operation&lt;/a&gt;.
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=insertlinebreak
-    title=command-insertLineBreak&gt;&lt;code&gt;insertLineBreak&lt;/code&gt;&lt;/dfn&gt;
-
-   &lt;dd&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; The user agent
-    must act as if the user had &lt;a href=&quot;#contenteditable-br&quot;&gt;requested a
-    line separator&lt;/a&gt;.
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=insertparagraph
-    title=command-insertParagraph&gt;&lt;code&gt;insertParagraph&lt;/code&gt;&lt;/dfn&gt;
-
-   &lt;dd&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; The user agent
-    must act as if the user had performed a &lt;a
-    href=&quot;#contenteditable-breakBlock&quot;&gt;break block&lt;/a&gt; editing action.
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=inserttext
-    title=command-insertText&gt;&lt;code&gt;insertText&lt;/code&gt;&lt;/dfn&gt;
-
-   &lt;dd&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; The user agent
-    must act as if the user had &lt;a
-    href=&quot;#contenteditable-insertText&quot;&gt;inserted text&lt;/a&gt; corresponding to the
-    &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; parameter.
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;code&gt;&lt;var
-    title=&quot;&quot;&gt;vendorID&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;customCommandID&lt;/var&gt;&lt;/code&gt;
-
-   &lt;dd&gt;User agents may implement vendor-specific extensions to this API.
-    Vendor-specific extensions to the list of commands should use the syntax
-    &lt;code&gt;&lt;var title=&quot;&quot;&gt;vendorID&lt;/var&gt;-&lt;var
-    title=&quot;&quot;&gt;customCommandID&lt;/var&gt;&lt;/code&gt; so as to prevent clashes between
-    extensions from different vendors and future additions to this
-    specification.
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is something else
-
-   &lt;dd&gt;User agents must do nothing.
-  &lt;/dl&gt;
-
-  &lt;h3 id=selection&gt;&lt;span class=secno&gt;5.6 &lt;/span&gt;The text selection APIs&lt;/h3&gt;
-
   &lt;p&gt;Every &lt;a href=&quot;#browsing0&quot;&gt;browsing context&lt;/a&gt; has &lt;dfn id=a-selection
    title=&quot;the selection&quot;&gt;a selection&lt;/dfn&gt;. The selection can be empty, and
    the selection can have more than one range (a disjointed selection). The
@@ -35428,7 +35244,7 @@
    href=&quot;#selection1&quot;&gt;::selection&lt;/a&gt;&lt;/code&gt; pseudo-element. &lt;a
    href=&quot;#refsSELECTORS&quot;&gt;[SELECTORS]&lt;/a&gt; &lt;a href=&quot;#refsCSS21&quot;&gt;[CSS21]&lt;/a&gt;
 
-  &lt;h4 id=documentSelection&gt;&lt;span class=secno&gt;5.6.1 &lt;/span&gt;APIs for the
+  &lt;h4 id=documentSelection&gt;&lt;span class=secno&gt;5.5.1 &lt;/span&gt;APIs for the
    browsing context selection&lt;/h4&gt;
 
   &lt;p&gt;The &lt;dfn id=getselection
@@ -35637,7 +35453,7 @@
    interface has no relation to the &lt;code&gt;&lt;a
    href=&quot;#datagridselection&quot;&gt;DataGridSelection&lt;/a&gt;&lt;/code&gt; interface.
 
-  &lt;h4 id=textFieldSelection&gt;&lt;span class=secno&gt;5.6.2 &lt;/span&gt;APIs for the text
+  &lt;h4 id=textFieldSelection&gt;&lt;span class=secno&gt;5.5.2 &lt;/span&gt;APIs for the text
    field selections&lt;/h4&gt;
 
   &lt;p class=big-issue&gt;When we define HTMLTextAreaElement and HTMLInputElement
@@ -35727,6 +35543,190 @@
    elements that are not displaying simple text fields, they must raise an
    &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception.
 
+  &lt;h3 id=command&gt;&lt;span class=secno&gt;5.6 &lt;/span&gt;Command APIs&lt;/h3&gt;
+
+  &lt;p&gt;The &lt;dfn id=execCommand
+   title=dom-document-execCommand&gt;&lt;code&gt;execCommand(&lt;var
+   title=&quot;&quot;&gt;commandId&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;doShowUI&lt;/var&gt;, &lt;var
+   title=&quot;&quot;&gt;value&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method on the &lt;code&gt;&lt;a
+   href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface allows scripts to
+   perform actions on the &lt;a href=&quot;#a-selection&quot; title=&quot;the
+   selection&quot;&gt;current selection&lt;/a&gt; or at the current caret position.
+   Generally, these commands would be used to implement editor UI, for
+   example having a &quot;delete&quot; button on a toolbar.
+
+  &lt;p&gt;There are three variants to this method, with one, two, and three
+   arguments respectively. The &lt;var title=&quot;&quot;&gt;doShowUI&lt;/var&gt; and &lt;var
+   title=&quot;&quot;&gt;value&lt;/var&gt; parameters, even if specified, are ignored unless
+   otherwise stated.
+
+  &lt;p class=note&gt;In this specification, in fact, the &lt;var
+   title=&quot;&quot;&gt;doShowUI&lt;/var&gt; parameter is always ignored, regardless of its
+   value. It is included for historical reasons only.
+
+  &lt;p&gt;When any of these methods are invoked, user agents must act as described
+   in the list below.
+
+  &lt;p&gt;For actions marked &quot;&lt;dfn id=editing2&gt;editing hosts only&lt;/dfn&gt;&quot;, if the
+   selection is not entirely within an &lt;a href=&quot;#editing1&quot;&gt;editing host&lt;/a&gt;,
+   of if there is no selection and the caret is not inside an &lt;a
+   href=&quot;#editing1&quot;&gt;editing host&lt;/a&gt;, then the user agent must do nothing.
+
+  &lt;dl&gt;
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=undo1
+    title=command-undo&gt;&lt;code&gt;undo&lt;/code&gt;&lt;/dfn&gt;
+
+   &lt;dd&gt;The user agent must &lt;a href=&quot;#undo-moving0&quot; title=do-undo&gt;move back
+    one step&lt;/a&gt; in its &lt;a href=&quot;#undo-transaction&quot;&gt;undo transaction
+    history&lt;/a&gt;, restoring the associated state. If there is no further undo
+    information the user agent must do nothing. See the &lt;a
+    href=&quot;#undo-history&quot;&gt;undo history&lt;/a&gt;.
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=redo0
+    title=command-redo&gt;&lt;code&gt;redo&lt;/code&gt;&lt;/dfn&gt;
+
+   &lt;dd&gt;The user agent must &lt;a href=&quot;#redo-moving0&quot; title=do-redo&gt;move forward
+    one step&lt;/a&gt; in its &lt;a href=&quot;#undo-transaction&quot;&gt;undo transaction
+    history&lt;/a&gt;, restoring the associated state. If there is no further undo
+    (well, &quot;redo&quot;) information the user agent must do nothing. See the &lt;a
+    href=&quot;#undo-history&quot;&gt;undo history&lt;/a&gt;.
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=selectall0
+    title=command-selectAll&gt;&lt;code&gt;selectAll&lt;/code&gt;&lt;/dfn&gt;
+
+   &lt;dd&gt;The user agent must change the selection so that all the content in
+    the currently focused &lt;a href=&quot;#editing1&quot;&gt;editing host&lt;/a&gt; is selected.
+    If no &lt;a href=&quot;#editing1&quot;&gt;editing host&lt;/a&gt; is focused, then the content
+    of the entire document must be selected.
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=unselect
+    title=command-unselect&gt;&lt;code&gt;unselect&lt;/code&gt;&lt;/dfn&gt;
+
+   &lt;dd&gt;
+    &lt;p&gt;The user agent must change the selection so that nothing is selected.
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=superscript
+    title=command-superscript&gt;&lt;code&gt;superscript&lt;/code&gt;&lt;/dfn&gt;
+
+   &lt;dd&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; The user agent
+    must act as if the user had requested that the selection &lt;a
+    href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the semantics&lt;/a&gt; of
+    the &lt;code&gt;&lt;a href=&quot;#sup&quot;&gt;sup&lt;/a&gt;&lt;/code&gt; element (or unwrapped, or, if
+    there is no selection, have that semantic inserted or removed &mdash; the
+    exact behaviour is UA-defined).
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=subscript
+    title=command-subscript&gt;&lt;code&gt;subscript&lt;/code&gt;&lt;/dfn&gt;
+
+   &lt;dd&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; The user agent
+    must act as if the user had requested that the selection &lt;a
+    href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the semantics&lt;/a&gt; of
+    the &lt;em title=&quot;&quot;&gt;&lt;code&gt;&lt;a href=&quot;#sub&quot;&gt;sub&lt;/a&gt;&lt;/code&gt;&lt;/em&gt; element (or,
+    again, unwrapped, or have that semantic inserted or removed, as defined
+    by the UA).
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=formatblock
+    title=command-formatBlock&gt;&lt;code&gt;formatBlock&lt;/code&gt;&lt;/dfn&gt;
+
+   &lt;dd&gt;
+    &lt;p&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; This command
+     changes the semantics of the blocks containing the selection.&lt;/p&gt;
+
+    &lt;p&gt;If there is no selection, then, where in the description below refers
+     to the selection, the user agent must act as if the selection was an
+     empty range at the caret position.&lt;/p&gt;
+
+    &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; parameter is not specified or has a
+     value other than one of the following literal strings:&lt;/p&gt;
+
+    &lt;ul class=brief&gt;
+     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;address&gt;&lt;/code&gt;
+
+     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;aside&gt;&lt;/code&gt;
+
+     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h1&gt;&lt;/code&gt;
+
+     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h2&gt;&lt;/code&gt;
+
+     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h3&gt;&lt;/code&gt;
+
+     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h4&gt;&lt;/code&gt;
+
+     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h5&gt;&lt;/code&gt;
+
+     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h6&gt;&lt;/code&gt;
+
+     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;nav&gt;&lt;/code&gt;
+
+     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;p&gt;&lt;/code&gt;
+
+     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;pre&gt;&lt;/code&gt;&lt;/li&gt;
+     &lt;!-- XXX this list is incomplete --&gt;
+    &lt;/ul&gt;
+
+    &lt;p&gt;...then the user agent must do nothing.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, the user agent must, for every position in the selection,
+     take the furthest &lt;a href=&quot;#flow-content0&quot;&gt;flow content&lt;/a&gt; ancestor
+     element of that position that contains only &lt;a
+     href=&quot;#phrasing0&quot;&gt;phrasing content&lt;/a&gt;, and, if that element is a
+     descendant of the editing host, rename it (as if the &lt;code
+     title=&quot;&quot;&gt;Element.renameNode()&lt;/code&gt; method had been used) according to
+     the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, by stripping the leading
+     &lt;code&gt;&lt;&lt;/code&gt; character and the trailing &lt;code&gt;&gt;&lt;/code&gt; character
+     and using the rest as the new tag name, using the HTML namespace.
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=delete
+    title=command-delete&gt;&lt;code&gt;delete&lt;/code&gt;&lt;/dfn&gt;
+
+   &lt;dd&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; The user agent
+    must act as if the user had performed &lt;a href=&quot;#contenteditable-delete&quot;&gt;a
+    backspace operation&lt;/a&gt;.
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=forwarddelete
+    title=command-forwardDelete&gt;&lt;code&gt;forwardDelete&lt;/code&gt;&lt;/dfn&gt;
+
+   &lt;dd&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; The user agent
+    must act as if the user had performed &lt;a href=&quot;#contenteditable-delete&quot;&gt;a
+    forward delete operation&lt;/a&gt;.
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=insertlinebreak
+    title=command-insertLineBreak&gt;&lt;code&gt;insertLineBreak&lt;/code&gt;&lt;/dfn&gt;
+
+   &lt;dd&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; The user agent
+    must act as if the user had &lt;a href=&quot;#contenteditable-br&quot;&gt;requested a
+    line separator&lt;/a&gt;.
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=insertparagraph
+    title=command-insertParagraph&gt;&lt;code&gt;insertParagraph&lt;/code&gt;&lt;/dfn&gt;
+
+   &lt;dd&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; The user agent
+    must act as if the user had performed a &lt;a
+    href=&quot;#contenteditable-breakBlock&quot;&gt;break block&lt;/a&gt; editing action.
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn id=inserttext
+    title=command-insertText&gt;&lt;code&gt;insertText&lt;/code&gt;&lt;/dfn&gt;
+
+   &lt;dd&gt;&lt;em&gt;&lt;a href=&quot;#editing2&quot;&gt;Editing hosts only.&lt;/a&gt;&lt;/em&gt; The user agent
+    must act as if the user had &lt;a
+    href=&quot;#contenteditable-insertText&quot;&gt;inserted text&lt;/a&gt; corresponding to the
+    &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; parameter.
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;code&gt;&lt;var
+    title=&quot;&quot;&gt;vendorID&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;customCommandID&lt;/var&gt;&lt;/code&gt;
+
+   &lt;dd&gt;User agents may implement vendor-specific extensions to this API.
+    Vendor-specific extensions to the list of commands should use the syntax
+    &lt;code&gt;&lt;var title=&quot;&quot;&gt;vendorID&lt;/var&gt;-&lt;var
+    title=&quot;&quot;&gt;customCommandID&lt;/var&gt;&lt;/code&gt; so as to prevent clashes between
+    extensions from different vendors and future additions to this
+    specification.
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is something else
+
+   &lt;dd&gt;User agents must do nothing.
+  &lt;/dl&gt;
+
   &lt;h2 id=comms&gt;&lt;span class=secno&gt;6. &lt;/span&gt;Communication&lt;/h2&gt;
 
   &lt;h3 id=event1&gt;&lt;span class=secno&gt;6.1 &lt;/span&gt;Event definitions&lt;/h3&gt;

Modified: source
===================================================================
--- source	2008-03-07 02:19:32 UTC (rev 1353)
+++ source	2008-03-07 02:21:25 UTC (rev 1354)
@@ -32624,166 +32624,9 @@
   no detectable difference.&lt;/p&gt;
 
 
-  &lt;h3&gt;Command APIs&lt;/h3&gt;
 
-  &lt;p&gt;The &lt;dfn id=&quot;execCommand&quot;
-  title=&quot;dom-document-execCommand&quot;&gt;&lt;code&gt;execCommand(&lt;var
-  title=&quot;&quot;&gt;commandId&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;doShowUI&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;value&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method on the
-  &lt;code&gt;HTMLDocument&lt;/code&gt; interface allows scripts to perform
-  actions on the &lt;span title=&quot;the selection&quot;&gt;current selection&lt;/span&gt;
-  or at the current caret position. Generally, these commands would be
-  used to implement editor UI, for example having a &quot;delete&quot; button on
-  a toolbar.&lt;/p&gt;
 
-  &lt;p&gt;There are three variants to this method, with one, two, and three
-  arguments respectively.  The &lt;var title=&quot;&quot;&gt;doShowUI&lt;/var&gt; and &lt;var
-  title=&quot;&quot;&gt;value&lt;/var&gt; parameters, even if specified, are ignored
-  unless otherwise stated.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;In this specification, in fact, the &lt;var
-  title=&quot;&quot;&gt;doShowUI&lt;/var&gt; parameter is always ignored, regardless of
-  its value. It is included for historical reasons only.&lt;/p&gt;
-
-  &lt;p&gt;When any of these methods are invoked, user agents must act as
-  described in the list below.&lt;/p&gt;
-
-  &lt;p&gt;For actions marked &quot;&lt;dfn&gt;editing hosts only&lt;/dfn&gt;&quot;, if the
-  selection is not entirely within an &lt;span&gt;editing host&lt;/span&gt;, of if
-  there is no selection and the caret is not inside an &lt;span&gt;editing
-  host&lt;/span&gt;, then the user agent must do nothing.&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-undo&quot;&gt;&lt;code&gt;undo&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;The user agent must &lt;span title=&quot;do-undo&quot;&gt;move back one
-   step&lt;/span&gt; in its &lt;span&gt;undo transaction history&lt;/span&gt;, restoring
-   the associated state. If there is no further undo information the
-   user agent must do nothing. See the &lt;span&gt;undo history&lt;/span&gt;.&lt;/dd&gt;
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-redo&quot;&gt;&lt;code&gt;redo&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;The user agent must &lt;span title=&quot;do-redo&quot;&gt;move forward one
-   step&lt;/span&gt; in its &lt;span&gt;undo transaction history&lt;/span&gt;, restoring
-   the associated state. If there is no further undo (well, &quot;redo&quot;)
-   information the user agent must do nothing. See the &lt;span&gt;undo
-   history&lt;/span&gt;.&lt;/dd&gt;
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-selectAll&quot;&gt;&lt;code&gt;selectAll&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;The user agent must change the selection so that all the
-   content in the currently focused &lt;span&gt;editing host&lt;/span&gt; is
-   selected. If no &lt;span&gt;editing host&lt;/span&gt; is focused, then the
-   content of the entire document must be selected.&lt;/dd&gt;
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-unselect&quot;&gt;&lt;code&gt;unselect&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;The user agent must change the selection so that nothing is
-   selected.&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-superscript&quot;&gt;&lt;code&gt;superscript&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; The user agent must act as if the
-   user had requested that the selection &lt;a
-   href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;code&gt;sup&lt;/code&gt; element (or unwrapped, or, if
-   there is no selection, have that semantic inserted or removed
-   &mdash; the exact behaviour is UA-defined).&lt;/dd&gt;
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-subscript&quot;&gt;&lt;code&gt;subscript&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; The user agent must act as if the
-   user had requested that the selection &lt;a
-   href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the
-   semantics&lt;/a&gt; of the &lt;em title=&quot;&quot;&gt;&lt;code&gt;sub&lt;/code&gt;&lt;/em&gt; element (or, again,
-   unwrapped, or have that semantic inserted or removed, as defined by
-   the UA).&lt;/dd&gt;
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-formatBlock&quot;&gt;&lt;code&gt;formatBlock&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;p&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; This command changes the
-   semantics of the blocks containing the selection.&lt;/p&gt;
-
-   &lt;p&gt;If there is no selection, then, where in the description below
-   refers to the selection, the user agent must act as if the
-   selection was an empty range at the caret position.&lt;/p&gt;
-
-   &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; parameter is not specified or
-   has a value other than one of the following literal strings:&lt;/p&gt;
-   &lt;ul class=&quot;brief&quot;&gt;
-    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;address&gt;&lt;/code&gt;&lt;/li&gt;
-    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;aside&gt;&lt;/code&gt;&lt;/li&gt;
-    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h1&gt;&lt;/code&gt;&lt;/li&gt;
-    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h2&gt;&lt;/code&gt;&lt;/li&gt;
-    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h3&gt;&lt;/code&gt;&lt;/li&gt;
-    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h4&gt;&lt;/code&gt;&lt;/li&gt;
-    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h5&gt;&lt;/code&gt;&lt;/li&gt;
-    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h6&gt;&lt;/code&gt;&lt;/li&gt;
-    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;nav&gt;&lt;/code&gt;&lt;/li&gt;
-    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;p&gt;&lt;/code&gt;&lt;/li&gt;
-    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;pre&gt;&lt;/code&gt;&lt;/li&gt;
-    &lt;!-- XXX this list is incomplete --&gt;
-   &lt;/ul&gt;
-   &lt;p&gt;...then the user agent must do nothing.&lt;/p&gt;
-
-   &lt;p&gt;Otherwise, the user agent must, for every position in the
-   selection, take the furthest &lt;span&gt;flow content&lt;/span&gt; ancestor
-   element of that position that contains only &lt;span&gt;phrasing
-   content&lt;/span&gt;, and, if that element is a descendant of the editing
-   host, rename it (as if the &lt;code
-   title=&quot;&quot;&gt;Element.renameNode()&lt;/code&gt; method had been used)
-   according to the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, by stripping the
-   leading &lt;code&gt;&lt;&lt;/code&gt; character and the trailing
-   &lt;code&gt;&gt;&lt;/code&gt; character and using the rest as the new tag name,
-   using the HTML namespace.&lt;/p&gt;&lt;/dd&gt;
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-delete&quot;&gt;&lt;code&gt;delete&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; The user agent must act as if the
-   user had performed &lt;a href=&quot;#contenteditable-delete&quot;&gt;a backspace
-   operation&lt;/a&gt;.&lt;/dd&gt;
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-forwardDelete&quot;&gt;&lt;code&gt;forwardDelete&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; The user agent must act as if the
-   user had performed &lt;a href=&quot;#contenteditable-delete&quot;&gt;a forward
-   delete operation&lt;/a&gt;.&lt;/dd&gt;
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-insertLineBreak&quot;&gt;&lt;code&gt;insertLineBreak&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; The user agent must act as if the
-   user had &lt;a href=&quot;#contenteditable-br&quot;&gt;requested a line
-   separator&lt;/a&gt;.&lt;/dd&gt;
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-insertParagraph&quot;&gt;&lt;code&gt;insertParagraph&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; The user agent must act as if the
-   user had performed a &lt;a href=&quot;#contenteditable-breakBlock&quot;&gt;break
-   block&lt;/a&gt; editing action.&lt;/dd&gt;
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-insertText&quot;&gt;&lt;code&gt;insertText&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; The user agent must act as if the
-   user had &lt;a href=&quot;#contenteditable-insertText&quot;&gt;inserted text&lt;/a&gt;
-   corresponding to the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; parameter.&lt;/dd&gt;
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;code&gt;&lt;var title=&quot;&quot;&gt;vendorID&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;customCommandID&lt;/var&gt;&lt;/code&gt;&lt;/dt&gt;
-
-   &lt;dd&gt;User agents may implement vendor-specific extensions to this
-   API. Vendor-specific extensions to the list of commands should use
-   the syntax &lt;code&gt;&lt;var title=&quot;&quot;&gt;vendorID&lt;/var&gt;-&lt;var
-   title=&quot;&quot;&gt;customCommandID&lt;/var&gt;&lt;/code&gt; so as to prevent clashes
-   between extensions from different vendors and future additions to
-   this specification.&lt;/dd&gt;
-
-   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is something else&lt;/dt&gt;
-
-   &lt;dd&gt;User agents must do nothing.&lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-
   &lt;h3 id=&quot;selection&quot;&gt;The text selection APIs&lt;/h3&gt;
 
   &lt;p&gt;Every &lt;span&gt;browsing context&lt;/span&gt; has &lt;dfn title=&quot;the
@@ -33143,6 +32986,171 @@
   exception.&lt;/p&gt;
 
 
+
+  &lt;h3&gt;Command APIs&lt;/h3&gt;
+
+  &lt;p&gt;The &lt;dfn id=&quot;execCommand&quot;
+  title=&quot;dom-document-execCommand&quot;&gt;&lt;code&gt;execCommand(&lt;var
+  title=&quot;&quot;&gt;commandId&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;doShowUI&lt;/var&gt;, &lt;var
+  title=&quot;&quot;&gt;value&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method on the
+  &lt;code&gt;HTMLDocument&lt;/code&gt; interface allows scripts to perform
+  actions on the &lt;span title=&quot;the selection&quot;&gt;current selection&lt;/span&gt;
+  or at the current caret position. Generally, these commands would be
+  used to implement editor UI, for example having a &quot;delete&quot; button on
+  a toolbar.&lt;/p&gt;
+
+  &lt;p&gt;There are three variants to this method, with one, two, and three
+  arguments respectively.  The &lt;var title=&quot;&quot;&gt;doShowUI&lt;/var&gt; and &lt;var
+  title=&quot;&quot;&gt;value&lt;/var&gt; parameters, even if specified, are ignored
+  unless otherwise stated.&lt;/p&gt;
+
+  &lt;p class=&quot;note&quot;&gt;In this specification, in fact, the &lt;var
+  title=&quot;&quot;&gt;doShowUI&lt;/var&gt; parameter is always ignored, regardless of
+  its value. It is included for historical reasons only.&lt;/p&gt;
+
+  &lt;p&gt;When any of these methods are invoked, user agents must act as
+  described in the list below.&lt;/p&gt;
+
+  &lt;p&gt;For actions marked &quot;&lt;dfn&gt;editing hosts only&lt;/dfn&gt;&quot;, if the
+  selection is not entirely within an &lt;span&gt;editing host&lt;/span&gt;, of if
+  there is no selection and the caret is not inside an &lt;span&gt;editing
+  host&lt;/span&gt;, then the user agent must do nothing.&lt;/p&gt;
+
+  &lt;dl&gt;
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-undo&quot;&gt;&lt;code&gt;undo&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;The user agent must &lt;span title=&quot;do-undo&quot;&gt;move back one
+   step&lt;/span&gt; in its &lt;span&gt;undo transaction history&lt;/span&gt;, restoring
+   the associated state. If there is no further undo information the
+   user agent must do nothing. See the &lt;span&gt;undo history&lt;/span&gt;.&lt;/dd&gt;
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-redo&quot;&gt;&lt;code&gt;redo&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;The user agent must &lt;span title=&quot;do-redo&quot;&gt;move forward one
+   step&lt;/span&gt; in its &lt;span&gt;undo transaction history&lt;/span&gt;, restoring
+   the associated state. If there is no further undo (well, &quot;redo&quot;)
+   information the user agent must do nothing. See the &lt;span&gt;undo
+   history&lt;/span&gt;.&lt;/dd&gt;
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-selectAll&quot;&gt;&lt;code&gt;selectAll&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;The user agent must change the selection so that all the
+   content in the currently focused &lt;span&gt;editing host&lt;/span&gt; is
+   selected. If no &lt;span&gt;editing host&lt;/span&gt; is focused, then the
+   content of the entire document must be selected.&lt;/dd&gt;
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-unselect&quot;&gt;&lt;code&gt;unselect&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;The user agent must change the selection so that nothing is
+   selected.&lt;/p&gt;&lt;/dd&gt;
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-superscript&quot;&gt;&lt;code&gt;superscript&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; The user agent must act as if the
+   user had requested that the selection &lt;a
+   href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the
+   semantics&lt;/a&gt; of the &lt;code&gt;sup&lt;/code&gt; element (or unwrapped, or, if
+   there is no selection, have that semantic inserted or removed
+   &mdash; the exact behaviour is UA-defined).&lt;/dd&gt;
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-subscript&quot;&gt;&lt;code&gt;subscript&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; The user agent must act as if the
+   user had requested that the selection &lt;a
+   href=&quot;#contenteditable-wrapSemantic&quot;&gt;be wrapped in the
+   semantics&lt;/a&gt; of the &lt;em title=&quot;&quot;&gt;&lt;code&gt;sub&lt;/code&gt;&lt;/em&gt; element (or, again,
+   unwrapped, or have that semantic inserted or removed, as defined by
+   the UA).&lt;/dd&gt;
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-formatBlock&quot;&gt;&lt;code&gt;formatBlock&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; This command changes the
+   semantics of the blocks containing the selection.&lt;/p&gt;
+
+   &lt;p&gt;If there is no selection, then, where in the description below
+   refers to the selection, the user agent must act as if the
+   selection was an empty range at the caret position.&lt;/p&gt;
+
+   &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; parameter is not specified or
+   has a value other than one of the following literal strings:&lt;/p&gt;
+   &lt;ul class=&quot;brief&quot;&gt;
+    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;address&gt;&lt;/code&gt;&lt;/li&gt;
+    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;aside&gt;&lt;/code&gt;&lt;/li&gt;
+    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h1&gt;&lt;/code&gt;&lt;/li&gt;
+    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h2&gt;&lt;/code&gt;&lt;/li&gt;
+    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h3&gt;&lt;/code&gt;&lt;/li&gt;
+    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h4&gt;&lt;/code&gt;&lt;/li&gt;
+    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h5&gt;&lt;/code&gt;&lt;/li&gt;
+    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h6&gt;&lt;/code&gt;&lt;/li&gt;
+    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;nav&gt;&lt;/code&gt;&lt;/li&gt;
+    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;p&gt;&lt;/code&gt;&lt;/li&gt;
+    &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;pre&gt;&lt;/code&gt;&lt;/li&gt;
+    &lt;!-- XXX this list is incomplete --&gt;
+   &lt;/ul&gt;
+   &lt;p&gt;...then the user agent must do nothing.&lt;/p&gt;
+
+   &lt;p&gt;Otherwise, the user agent must, for every position in the
+   selection, take the furthest &lt;span&gt;flow content&lt;/span&gt; ancestor
+   element of that position that contains only &lt;span&gt;phrasing
+   content&lt;/span&gt;, and, if that element is a descendant of the editing
+   host, rename it (as if the &lt;code
+   title=&quot;&quot;&gt;Element.renameNode()&lt;/code&gt; method had been used)
+   according to the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, by stripping the
+   leading &lt;code&gt;&lt;&lt;/code&gt; character and the trailing
+   &lt;code&gt;&gt;&lt;/code&gt; character and using the rest as the new tag name,
+   using the HTML namespace.&lt;/p&gt;&lt;/dd&gt;
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-delete&quot;&gt;&lt;code&gt;delete&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; The user agent must act as if the
+   user had performed &lt;a href=&quot;#contenteditable-delete&quot;&gt;a backspace
+   operation&lt;/a&gt;.&lt;/dd&gt;
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-forwardDelete&quot;&gt;&lt;code&gt;forwardDelete&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; The user agent must act as if the
+   user had performed &lt;a href=&quot;#contenteditable-delete&quot;&gt;a forward
+   delete operation&lt;/a&gt;.&lt;/dd&gt;
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-insertLineBreak&quot;&gt;&lt;code&gt;insertLineBreak&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; The user agent must act as if the
+   user had &lt;a href=&quot;#contenteditable-br&quot;&gt;requested a line
+   separator&lt;/a&gt;.&lt;/dd&gt;
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-insertParagraph&quot;&gt;&lt;code&gt;insertParagraph&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; The user agent must act as if the
+   user had performed a &lt;a href=&quot;#contenteditable-breakBlock&quot;&gt;break
+   block&lt;/a&gt; editing action.&lt;/dd&gt;
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;dfn title=&quot;command-insertText&quot;&gt;&lt;code&gt;insertText&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;em&gt;Editing hosts only.&lt;/em&gt; The user agent must act as if the
+   user had &lt;a href=&quot;#contenteditable-insertText&quot;&gt;inserted text&lt;/a&gt;
+   corresponding to the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; parameter.&lt;/dd&gt;
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is &lt;code&gt;&lt;var title=&quot;&quot;&gt;vendorID&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;customCommandID&lt;/var&gt;&lt;/code&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;User agents may implement vendor-specific extensions to this
+   API. Vendor-specific extensions to the list of commands should use
+   the syntax &lt;code&gt;&lt;var title=&quot;&quot;&gt;vendorID&lt;/var&gt;-&lt;var
+   title=&quot;&quot;&gt;customCommandID&lt;/var&gt;&lt;/code&gt; so as to prevent clashes
+   between extensions from different vendors and future additions to
+   this specification.&lt;/dd&gt;
+
+   &lt;dt&gt;If the &lt;var title=&quot;&quot;&gt;commandId&lt;/var&gt; is something else&lt;/dt&gt;
+
+   &lt;dd&gt;User agents must do nothing.&lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+
+
+
+
+
   &lt;h2 id=&quot;comms&quot;&gt;Communication&lt;/h2&gt;
 
 


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008255.html">[html5] r1353 - /
</A></li>
	<LI>Next message: <A HREF="008257.html">[html5] r1355 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8256">[ date ]</a>
              <a href="thread.html#8256">[ thread ]</a>
              <a href="subject.html#8256">[ subject ]</a>
              <a href="author.html#8256">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
