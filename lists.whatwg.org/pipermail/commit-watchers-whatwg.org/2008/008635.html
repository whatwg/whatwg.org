<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1736 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1736%20-%20/&In-Reply-To=%3C20080610211818.DE3A61B0D9C%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008634.html">
   <LINK REL="Next"  HREF="008636.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1736 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1736%20-%20/&In-Reply-To=%3C20080610211818.DE3A61B0D9C%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1736 - /">whatwg at whatwg.org
       </A><BR>
    <I>Tue Jun 10 14:18:18 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008634.html">[html5] r1735 - /
</A></li>
        <LI>Next message: <A HREF="008636.html">[html5] r1737 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8635">[ date ]</a>
              <a href="thread.html#8635">[ thread ]</a>
              <a href="subject.html#8635">[ subject ]</a>
              <a href="author.html#8635">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-06-10 14:18:18 -0700 (Tue, 10 Jun 2008)
New Revision: 1736

Modified:
   index
   source
Log:
[e] (0) bring a bunch of user interaction stuff into one section

Modified: index
===================================================================
--- index	2008-06-09 22:32:31 UTC (rev 1735)
+++ index	2008-06-10 21:18:18 UTC (rev 1736)
@@ -25,7 +25,7 @@
 
    &lt;h1 id=html-5&gt;HTML 5&lt;/h1&gt;
 
-   &lt;h2 class=&quot;no-num no-toc&quot; id=draft&gt;Draft Recommendation &mdash; 9 June
+   &lt;h2 class=&quot;no-num no-toc&quot; id=draft&gt;Draft Recommendation &mdash; 10 June
     2008&lt;/h2&gt;
 
    &lt;p&gt;You can take part in this work. &lt;a
@@ -384,648 +384,627 @@
        &lt;li&gt;&lt;a href=&quot;#classes&quot;&gt;&lt;span class=secno&gt;3.4.6 &lt;/span&gt;The
         &lt;code&gt;class&lt;/code&gt; attribute&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-irrelevant&quot;&gt;&lt;span class=secno&gt;3.4.7 &lt;/span&gt;The
-        &lt;code&gt;irrelevant&lt;/code&gt; attribute&lt;/a&gt;
-
-       &lt;li&gt;&lt;a href=&quot;#the-style&quot;&gt;&lt;span class=secno&gt;3.4.8 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-style&quot;&gt;&lt;span class=secno&gt;3.4.7 &lt;/span&gt;The
         &lt;code&gt;style&lt;/code&gt; attribute&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#embedding&quot;&gt;&lt;span class=secno&gt;3.4.9 &lt;/span&gt;Embedding
+       &lt;li&gt;&lt;a href=&quot;#embedding&quot;&gt;&lt;span class=secno&gt;3.4.8 &lt;/span&gt;Embedding
         custom non-visible data&lt;/a&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#interaction&quot;&gt;&lt;span class=secno&gt;3.5 &lt;/span&gt;Interaction&lt;/a&gt;
-      &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#activation&quot;&gt;&lt;span class=secno&gt;3.5.1
-        &lt;/span&gt;Activation&lt;/a&gt;
-
-       &lt;li&gt;&lt;a href=&quot;#focus&quot;&gt;&lt;span class=secno&gt;3.5.2 &lt;/span&gt;Focus&lt;/a&gt;
-        &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#focus-management&quot;&gt;&lt;span class=secno&gt;3.5.2.1.
-          &lt;/span&gt;Focus management&lt;/a&gt;
-
-         &lt;li&gt;&lt;a href=&quot;#sequential&quot;&gt;&lt;span class=secno&gt;3.5.2.2.
-          &lt;/span&gt;Sequential focus navigation&lt;/a&gt;
-        &lt;/ul&gt;
-
-       &lt;li&gt;&lt;a href=&quot;#scrolling&quot;&gt;&lt;span class=secno&gt;3.5.3 &lt;/span&gt;Scrolling
-        elements into view&lt;/a&gt;
-      &lt;/ul&gt;
-
-     &lt;li&gt;&lt;a href=&quot;#the-root&quot;&gt;&lt;span class=secno&gt;3.6 &lt;/span&gt;The root
+     &lt;li&gt;&lt;a href=&quot;#the-root&quot;&gt;&lt;span class=secno&gt;3.5 &lt;/span&gt;The root
       element&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#the-html&quot;&gt;&lt;span class=secno&gt;3.6.1 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-html&quot;&gt;&lt;span class=secno&gt;3.5.1 &lt;/span&gt;The
         &lt;code&gt;html&lt;/code&gt; element&lt;/a&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#document&quot;&gt;&lt;span class=secno&gt;3.7 &lt;/span&gt;Document
+     &lt;li&gt;&lt;a href=&quot;#document&quot;&gt;&lt;span class=secno&gt;3.6 &lt;/span&gt;Document
       metadata&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#the-head&quot;&gt;&lt;span class=secno&gt;3.7.1 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-head&quot;&gt;&lt;span class=secno&gt;3.6.1 &lt;/span&gt;The
         &lt;code&gt;head&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-title0&quot;&gt;&lt;span class=secno&gt;3.7.2 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-title0&quot;&gt;&lt;span class=secno&gt;3.6.2 &lt;/span&gt;The
         &lt;code&gt;title&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-base&quot;&gt;&lt;span class=secno&gt;3.7.3 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-base&quot;&gt;&lt;span class=secno&gt;3.6.3 &lt;/span&gt;The
         &lt;code&gt;base&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-link&quot;&gt;&lt;span class=secno&gt;3.7.4 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-link&quot;&gt;&lt;span class=secno&gt;3.6.4 &lt;/span&gt;The
         &lt;code&gt;link&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#meta&quot;&gt;&lt;span class=secno&gt;3.7.5 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#meta&quot;&gt;&lt;span class=secno&gt;3.6.5 &lt;/span&gt;The
         &lt;code&gt;meta&lt;/code&gt; element&lt;/a&gt;
         &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#standard&quot;&gt;&lt;span class=secno&gt;3.7.5.1. &lt;/span&gt;Standard
+         &lt;li&gt;&lt;a href=&quot;#standard&quot;&gt;&lt;span class=secno&gt;3.6.5.1. &lt;/span&gt;Standard
           metadata names&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#other&quot;&gt;&lt;span class=secno&gt;3.7.5.2. &lt;/span&gt;Other
+         &lt;li&gt;&lt;a href=&quot;#other&quot;&gt;&lt;span class=secno&gt;3.6.5.2. &lt;/span&gt;Other
           metadata names&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#pragma&quot;&gt;&lt;span class=secno&gt;3.7.5.3. &lt;/span&gt;Pragma
+         &lt;li&gt;&lt;a href=&quot;#pragma&quot;&gt;&lt;span class=secno&gt;3.6.5.3. &lt;/span&gt;Pragma
           directives&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#charset&quot;&gt;&lt;span class=secno&gt;3.7.5.4. &lt;/span&gt;Specifying
+         &lt;li&gt;&lt;a href=&quot;#charset&quot;&gt;&lt;span class=secno&gt;3.6.5.4. &lt;/span&gt;Specifying
           the document's character encoding&lt;/a&gt;
         &lt;/ul&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-style0&quot;&gt;&lt;span class=secno&gt;3.7.6 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-style0&quot;&gt;&lt;span class=secno&gt;3.6.6 &lt;/span&gt;The
         &lt;code&gt;style&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#styling&quot;&gt;&lt;span class=secno&gt;3.7.7 &lt;/span&gt;Styling&lt;/a&gt;
+       &lt;li&gt;&lt;a href=&quot;#styling&quot;&gt;&lt;span class=secno&gt;3.6.7 &lt;/span&gt;Styling&lt;/a&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#sections&quot;&gt;&lt;span class=secno&gt;3.8 &lt;/span&gt;Sections&lt;/a&gt;
+     &lt;li&gt;&lt;a href=&quot;#sections&quot;&gt;&lt;span class=secno&gt;3.7 &lt;/span&gt;Sections&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#the-body&quot;&gt;&lt;span class=secno&gt;3.8.1 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-body&quot;&gt;&lt;span class=secno&gt;3.7.1 &lt;/span&gt;The
         &lt;code&gt;body&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-section&quot;&gt;&lt;span class=secno&gt;3.8.2 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-section&quot;&gt;&lt;span class=secno&gt;3.7.2 &lt;/span&gt;The
         &lt;code&gt;section&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-nav&quot;&gt;&lt;span class=secno&gt;3.8.3 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-nav&quot;&gt;&lt;span class=secno&gt;3.7.3 &lt;/span&gt;The
         &lt;code&gt;nav&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-article&quot;&gt;&lt;span class=secno&gt;3.8.4 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-article&quot;&gt;&lt;span class=secno&gt;3.7.4 &lt;/span&gt;The
         &lt;code&gt;article&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-aside&quot;&gt;&lt;span class=secno&gt;3.8.5 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-aside&quot;&gt;&lt;span class=secno&gt;3.7.5 &lt;/span&gt;The
         &lt;code&gt;aside&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-h1&quot;&gt;&lt;span class=secno&gt;3.8.6 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-h1&quot;&gt;&lt;span class=secno&gt;3.7.6 &lt;/span&gt;The
         &lt;code&gt;h1&lt;/code&gt;, &lt;code&gt;h2&lt;/code&gt;, &lt;code&gt;h3&lt;/code&gt;, &lt;code&gt;h4&lt;/code&gt;,
         &lt;code&gt;h5&lt;/code&gt;, and &lt;code&gt;h6&lt;/code&gt; elements&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-header&quot;&gt;&lt;span class=secno&gt;3.8.7 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-header&quot;&gt;&lt;span class=secno&gt;3.7.7 &lt;/span&gt;The
         &lt;code&gt;header&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-footer&quot;&gt;&lt;span class=secno&gt;3.8.8 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-footer&quot;&gt;&lt;span class=secno&gt;3.7.8 &lt;/span&gt;The
         &lt;code&gt;footer&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-address&quot;&gt;&lt;span class=secno&gt;3.8.9 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-address&quot;&gt;&lt;span class=secno&gt;3.7.9 &lt;/span&gt;The
         &lt;code&gt;address&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#headings&quot;&gt;&lt;span class=secno&gt;3.8.10 &lt;/span&gt;Headings and
+       &lt;li&gt;&lt;a href=&quot;#headings&quot;&gt;&lt;span class=secno&gt;3.7.10 &lt;/span&gt;Headings and
         sections&lt;/a&gt;
         &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#outlines&quot;&gt;&lt;span class=secno&gt;3.8.10.1. &lt;/span&gt;Creating
+         &lt;li&gt;&lt;a href=&quot;#outlines&quot;&gt;&lt;span class=secno&gt;3.7.10.1. &lt;/span&gt;Creating
           an outline&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#distinguishing&quot;&gt;&lt;span class=secno&gt;3.8.10.2.
+         &lt;li&gt;&lt;a href=&quot;#distinguishing&quot;&gt;&lt;span class=secno&gt;3.7.10.2.
           &lt;/span&gt;Distinguishing site-wide headings from page headings&lt;/a&gt;
         &lt;/ul&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#grouping&quot;&gt;&lt;span class=secno&gt;3.9 &lt;/span&gt;Grouping
+     &lt;li&gt;&lt;a href=&quot;#grouping&quot;&gt;&lt;span class=secno&gt;3.8 &lt;/span&gt;Grouping
       content&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#the-p&quot;&gt;&lt;span class=secno&gt;3.9.1 &lt;/span&gt;The &lt;code&gt;p&lt;/code&gt;
+       &lt;li&gt;&lt;a href=&quot;#the-p&quot;&gt;&lt;span class=secno&gt;3.8.1 &lt;/span&gt;The &lt;code&gt;p&lt;/code&gt;
         element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-hr&quot;&gt;&lt;span class=secno&gt;3.9.2 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-hr&quot;&gt;&lt;span class=secno&gt;3.8.2 &lt;/span&gt;The
         &lt;code&gt;hr&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-br&quot;&gt;&lt;span class=secno&gt;3.9.3 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-br&quot;&gt;&lt;span class=secno&gt;3.8.3 &lt;/span&gt;The
         &lt;code&gt;br&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-pre&quot;&gt;&lt;span class=secno&gt;3.9.4 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-pre&quot;&gt;&lt;span class=secno&gt;3.8.4 &lt;/span&gt;The
         &lt;code&gt;pre&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-dialog&quot;&gt;&lt;span class=secno&gt;3.9.5 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-dialog&quot;&gt;&lt;span class=secno&gt;3.8.5 &lt;/span&gt;The
         &lt;code&gt;dialog&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-blockquote&quot;&gt;&lt;span class=secno&gt;3.9.6 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-blockquote&quot;&gt;&lt;span class=secno&gt;3.8.6 &lt;/span&gt;The
         &lt;code&gt;blockquote&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-ol&quot;&gt;&lt;span class=secno&gt;3.9.7 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-ol&quot;&gt;&lt;span class=secno&gt;3.8.7 &lt;/span&gt;The
         &lt;code&gt;ol&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-ul&quot;&gt;&lt;span class=secno&gt;3.9.8 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-ul&quot;&gt;&lt;span class=secno&gt;3.8.8 &lt;/span&gt;The
         &lt;code&gt;ul&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-li&quot;&gt;&lt;span class=secno&gt;3.9.9 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-li&quot;&gt;&lt;span class=secno&gt;3.8.9 &lt;/span&gt;The
         &lt;code&gt;li&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-dl&quot;&gt;&lt;span class=secno&gt;3.9.10 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-dl&quot;&gt;&lt;span class=secno&gt;3.8.10 &lt;/span&gt;The
         &lt;code&gt;dl&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-dt&quot;&gt;&lt;span class=secno&gt;3.9.11 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-dt&quot;&gt;&lt;span class=secno&gt;3.8.11 &lt;/span&gt;The
         &lt;code&gt;dt&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-dd&quot;&gt;&lt;span class=secno&gt;3.9.12 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-dd&quot;&gt;&lt;span class=secno&gt;3.8.12 &lt;/span&gt;The
         &lt;code&gt;dd&lt;/code&gt; element&lt;/a&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#text-level&quot;&gt;&lt;span class=secno&gt;3.10 &lt;/span&gt;Text-level
+     &lt;li&gt;&lt;a href=&quot;#text-level&quot;&gt;&lt;span class=secno&gt;3.9 &lt;/span&gt;Text-level
       semantics&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#the-a&quot;&gt;&lt;span class=secno&gt;3.10.1 &lt;/span&gt;The
-        &lt;code&gt;a&lt;/code&gt; element&lt;/a&gt;
+       &lt;li&gt;&lt;a href=&quot;#the-a&quot;&gt;&lt;span class=secno&gt;3.9.1 &lt;/span&gt;The &lt;code&gt;a&lt;/code&gt;
+        element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-q&quot;&gt;&lt;span class=secno&gt;3.10.2 &lt;/span&gt;The
-        &lt;code&gt;q&lt;/code&gt; element&lt;/a&gt;
+       &lt;li&gt;&lt;a href=&quot;#the-q&quot;&gt;&lt;span class=secno&gt;3.9.2 &lt;/span&gt;The &lt;code&gt;q&lt;/code&gt;
+        element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-cite&quot;&gt;&lt;span class=secno&gt;3.10.3 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-cite&quot;&gt;&lt;span class=secno&gt;3.9.3 &lt;/span&gt;The
         &lt;code&gt;cite&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-em&quot;&gt;&lt;span class=secno&gt;3.10.4 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-em&quot;&gt;&lt;span class=secno&gt;3.9.4 &lt;/span&gt;The
         &lt;code&gt;em&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-strong&quot;&gt;&lt;span class=secno&gt;3.10.5 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-strong&quot;&gt;&lt;span class=secno&gt;3.9.5 &lt;/span&gt;The
         &lt;code&gt;strong&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-small&quot;&gt;&lt;span class=secno&gt;3.10.6 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-small&quot;&gt;&lt;span class=secno&gt;3.9.6 &lt;/span&gt;The
         &lt;code&gt;small&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-mark&quot;&gt;&lt;span class=secno&gt;3.10.7 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-mark&quot;&gt;&lt;span class=secno&gt;3.9.7 &lt;/span&gt;The
         &lt;code&gt;mark&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-dfn&quot;&gt;&lt;span class=secno&gt;3.10.8 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-dfn&quot;&gt;&lt;span class=secno&gt;3.9.8 &lt;/span&gt;The
         &lt;code&gt;dfn&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-abbr&quot;&gt;&lt;span class=secno&gt;3.10.9 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-abbr&quot;&gt;&lt;span class=secno&gt;3.9.9 &lt;/span&gt;The
         &lt;code&gt;abbr&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-time&quot;&gt;&lt;span class=secno&gt;3.10.10 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-time&quot;&gt;&lt;span class=secno&gt;3.9.10 &lt;/span&gt;The
         &lt;code&gt;time&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-progress&quot;&gt;&lt;span class=secno&gt;3.10.11 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-progress&quot;&gt;&lt;span class=secno&gt;3.9.11 &lt;/span&gt;The
         &lt;code&gt;progress&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-meter&quot;&gt;&lt;span class=secno&gt;3.10.12 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-meter&quot;&gt;&lt;span class=secno&gt;3.9.12 &lt;/span&gt;The
         &lt;code&gt;meter&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-code&quot;&gt;&lt;span class=secno&gt;3.10.13 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-code&quot;&gt;&lt;span class=secno&gt;3.9.13 &lt;/span&gt;The
         &lt;code&gt;code&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-var&quot;&gt;&lt;span class=secno&gt;3.10.14 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-var&quot;&gt;&lt;span class=secno&gt;3.9.14 &lt;/span&gt;The
         &lt;code&gt;var&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-samp&quot;&gt;&lt;span class=secno&gt;3.10.15 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-samp&quot;&gt;&lt;span class=secno&gt;3.9.15 &lt;/span&gt;The
         &lt;code&gt;samp&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-kbd&quot;&gt;&lt;span class=secno&gt;3.10.16 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-kbd&quot;&gt;&lt;span class=secno&gt;3.9.16 &lt;/span&gt;The
         &lt;code&gt;kbd&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-sub&quot;&gt;&lt;span class=secno&gt;3.10.17 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-sub&quot;&gt;&lt;span class=secno&gt;3.9.17 &lt;/span&gt;The
         &lt;code&gt;sub&lt;/code&gt; and &lt;code&gt;sup&lt;/code&gt; elements&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-span&quot;&gt;&lt;span class=secno&gt;3.10.18 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-span&quot;&gt;&lt;span class=secno&gt;3.9.18 &lt;/span&gt;The
         &lt;code&gt;span&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-i&quot;&gt;&lt;span class=secno&gt;3.10.19 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-i&quot;&gt;&lt;span class=secno&gt;3.9.19 &lt;/span&gt;The
         &lt;code&gt;i&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-b&quot;&gt;&lt;span class=secno&gt;3.10.20 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-b&quot;&gt;&lt;span class=secno&gt;3.9.20 &lt;/span&gt;The
         &lt;code&gt;b&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-bdo&quot;&gt;&lt;span class=secno&gt;3.10.21 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-bdo&quot;&gt;&lt;span class=secno&gt;3.9.21 &lt;/span&gt;The
         &lt;code&gt;bdo&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-ruby&quot;&gt;&lt;span class=secno&gt;3.10.22 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-ruby&quot;&gt;&lt;span class=secno&gt;3.9.22 &lt;/span&gt;The
         &lt;code&gt;ruby&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-rt&quot;&gt;&lt;span class=secno&gt;3.10.23 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-rt&quot;&gt;&lt;span class=secno&gt;3.9.23 &lt;/span&gt;The
         &lt;code&gt;rt&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-rp&quot;&gt;&lt;span class=secno&gt;3.10.24 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-rp&quot;&gt;&lt;span class=secno&gt;3.9.24 &lt;/span&gt;The
         &lt;code&gt;rp&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#usage&quot;&gt;&lt;span class=secno&gt;3.10.25 &lt;/span&gt;Usage
-        summary&lt;/a&gt;
+       &lt;li&gt;&lt;a href=&quot;#usage&quot;&gt;&lt;span class=secno&gt;3.9.25 &lt;/span&gt;Usage summary&lt;/a&gt;
+        
 
-       &lt;li&gt;&lt;a href=&quot;#footnotes&quot;&gt;&lt;span class=secno&gt;3.10.26
-        &lt;/span&gt;Footnotes&lt;/a&gt;
+       &lt;li&gt;&lt;a href=&quot;#footnotes&quot;&gt;&lt;span class=secno&gt;3.9.26 &lt;/span&gt;Footnotes&lt;/a&gt;
+        
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#edits&quot;&gt;&lt;span class=secno&gt;3.11 &lt;/span&gt;Edits&lt;/a&gt;
+     &lt;li&gt;&lt;a href=&quot;#edits&quot;&gt;&lt;span class=secno&gt;3.10 &lt;/span&gt;Edits&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#the-ins&quot;&gt;&lt;span class=secno&gt;3.11.1 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-ins&quot;&gt;&lt;span class=secno&gt;3.10.1 &lt;/span&gt;The
         &lt;code&gt;ins&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-del&quot;&gt;&lt;span class=secno&gt;3.11.2 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-del&quot;&gt;&lt;span class=secno&gt;3.10.2 &lt;/span&gt;The
         &lt;code&gt;del&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#attributes&quot;&gt;&lt;span class=secno&gt;3.11.3 &lt;/span&gt;Attributes
+       &lt;li&gt;&lt;a href=&quot;#attributes&quot;&gt;&lt;span class=secno&gt;3.10.3 &lt;/span&gt;Attributes
         common to &lt;code&gt;ins&lt;/code&gt; and &lt;code&gt;del&lt;/code&gt; elements&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#edits0&quot;&gt;&lt;span class=secno&gt;3.11.4 &lt;/span&gt;Edits and
+       &lt;li&gt;&lt;a href=&quot;#edits0&quot;&gt;&lt;span class=secno&gt;3.10.4 &lt;/span&gt;Edits and
         paragraphs&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#edits1&quot;&gt;&lt;span class=secno&gt;3.11.5 &lt;/span&gt;Edits and
+       &lt;li&gt;&lt;a href=&quot;#edits1&quot;&gt;&lt;span class=secno&gt;3.10.5 &lt;/span&gt;Edits and
         lists&lt;/a&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#embedded0&quot;&gt;&lt;span class=secno&gt;3.12 &lt;/span&gt;Embedded
+     &lt;li&gt;&lt;a href=&quot;#embedded0&quot;&gt;&lt;span class=secno&gt;3.11 &lt;/span&gt;Embedded
       content&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#the-figure&quot;&gt;&lt;span class=secno&gt;3.12.1 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-figure&quot;&gt;&lt;span class=secno&gt;3.11.1 &lt;/span&gt;The
         &lt;code&gt;figure&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-img&quot;&gt;&lt;span class=secno&gt;3.12.2 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-img&quot;&gt;&lt;span class=secno&gt;3.11.2 &lt;/span&gt;The
         &lt;code&gt;img&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-iframe&quot;&gt;&lt;span class=secno&gt;3.12.3 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-iframe&quot;&gt;&lt;span class=secno&gt;3.11.3 &lt;/span&gt;The
         &lt;code&gt;iframe&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-embed&quot;&gt;&lt;span class=secno&gt;3.12.4 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-embed&quot;&gt;&lt;span class=secno&gt;3.11.4 &lt;/span&gt;The
         &lt;code&gt;embed&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-object&quot;&gt;&lt;span class=secno&gt;3.12.5 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-object&quot;&gt;&lt;span class=secno&gt;3.11.5 &lt;/span&gt;The
         &lt;code&gt;object&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-param&quot;&gt;&lt;span class=secno&gt;3.12.6 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-param&quot;&gt;&lt;span class=secno&gt;3.11.6 &lt;/span&gt;The
         &lt;code&gt;param&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#video&quot;&gt;&lt;span class=secno&gt;3.12.7 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#video&quot;&gt;&lt;span class=secno&gt;3.11.7 &lt;/span&gt;The
         &lt;code&gt;video&lt;/code&gt; element&lt;/a&gt;
         &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#video0&quot;&gt;&lt;span class=secno&gt;3.12.7.1. &lt;/span&gt;Video and
+         &lt;li&gt;&lt;a href=&quot;#video0&quot;&gt;&lt;span class=secno&gt;3.11.7.1. &lt;/span&gt;Video and
           audio codecs for &lt;code&gt;video&lt;/code&gt; elements&lt;/a&gt;
         &lt;/ul&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#audio&quot;&gt;&lt;span class=secno&gt;3.12.8 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#audio&quot;&gt;&lt;span class=secno&gt;3.11.8 &lt;/span&gt;The
         &lt;code&gt;audio&lt;/code&gt; element&lt;/a&gt;
         &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#audio0&quot;&gt;&lt;span class=secno&gt;3.12.8.1. &lt;/span&gt;Audio
+         &lt;li&gt;&lt;a href=&quot;#audio0&quot;&gt;&lt;span class=secno&gt;3.11.8.1. &lt;/span&gt;Audio
           codecs for &lt;code&gt;audio&lt;/code&gt; elements&lt;/a&gt;
         &lt;/ul&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-source&quot;&gt;&lt;span class=secno&gt;3.12.9 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-source&quot;&gt;&lt;span class=secno&gt;3.11.9 &lt;/span&gt;The
         &lt;code&gt;source&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#media&quot;&gt;&lt;span class=secno&gt;3.12.10 &lt;/span&gt;Media
+       &lt;li&gt;&lt;a href=&quot;#media&quot;&gt;&lt;span class=secno&gt;3.11.10 &lt;/span&gt;Media
         elements&lt;/a&gt;
         &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#error&quot;&gt;&lt;span class=secno&gt;3.12.10.1. &lt;/span&gt;Error
+         &lt;li&gt;&lt;a href=&quot;#error&quot;&gt;&lt;span class=secno&gt;3.11.10.1. &lt;/span&gt;Error
           codes&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#location&quot;&gt;&lt;span class=secno&gt;3.12.10.2. &lt;/span&gt;Location
+         &lt;li&gt;&lt;a href=&quot;#location&quot;&gt;&lt;span class=secno&gt;3.11.10.2. &lt;/span&gt;Location
           of the media resource&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#network0&quot;&gt;&lt;span class=secno&gt;3.12.10.3. &lt;/span&gt;Network
+         &lt;li&gt;&lt;a href=&quot;#network0&quot;&gt;&lt;span class=secno&gt;3.11.10.3. &lt;/span&gt;Network
           states&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#loading&quot;&gt;&lt;span class=secno&gt;3.12.10.4. &lt;/span&gt;Loading
+         &lt;li&gt;&lt;a href=&quot;#loading&quot;&gt;&lt;span class=secno&gt;3.11.10.4. &lt;/span&gt;Loading
           the media resource&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#offsets&quot;&gt;&lt;span class=secno&gt;3.12.10.5. &lt;/span&gt;Offsets
+         &lt;li&gt;&lt;a href=&quot;#offsets&quot;&gt;&lt;span class=secno&gt;3.11.10.5. &lt;/span&gt;Offsets
           into the media resource&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#the-ready&quot;&gt;&lt;span class=secno&gt;3.12.10.6. &lt;/span&gt;The
+         &lt;li&gt;&lt;a href=&quot;#the-ready&quot;&gt;&lt;span class=secno&gt;3.11.10.6. &lt;/span&gt;The
           ready states&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#playing&quot;&gt;&lt;span class=secno&gt;3.12.10.7. &lt;/span&gt;Playing
+         &lt;li&gt;&lt;a href=&quot;#playing&quot;&gt;&lt;span class=secno&gt;3.11.10.7. &lt;/span&gt;Playing
           the media resource&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#seeking&quot;&gt;&lt;span class=secno&gt;3.12.10.8.
+         &lt;li&gt;&lt;a href=&quot;#seeking&quot;&gt;&lt;span class=secno&gt;3.11.10.8.
           &lt;/span&gt;Seeking&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#cue-ranges&quot;&gt;&lt;span class=secno&gt;3.12.10.9. &lt;/span&gt;Cue
+         &lt;li&gt;&lt;a href=&quot;#cue-ranges&quot;&gt;&lt;span class=secno&gt;3.11.10.9. &lt;/span&gt;Cue
           ranges&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#user-interface&quot;&gt;&lt;span class=secno&gt;3.12.10.10.
+         &lt;li&gt;&lt;a href=&quot;#user-interface&quot;&gt;&lt;span class=secno&gt;3.11.10.10.
           &lt;/span&gt;User interface&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#time-ranges&quot;&gt;&lt;span class=secno&gt;3.12.10.11. &lt;/span&gt;Time
+         &lt;li&gt;&lt;a href=&quot;#time-ranges&quot;&gt;&lt;span class=secno&gt;3.11.10.11. &lt;/span&gt;Time
           ranges&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#byte-ranges&quot;&gt;&lt;span class=secno&gt;3.12.10.12. &lt;/span&gt;Byte
+         &lt;li&gt;&lt;a href=&quot;#byte-ranges&quot;&gt;&lt;span class=secno&gt;3.11.10.12. &lt;/span&gt;Byte
           ranges&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#mediaevents&quot;&gt;&lt;span class=secno&gt;3.12.10.13.
+         &lt;li&gt;&lt;a href=&quot;#mediaevents&quot;&gt;&lt;span class=secno&gt;3.11.10.13.
           &lt;/span&gt;Event summary&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#security0&quot;&gt;&lt;span class=secno&gt;3.12.10.14.
+         &lt;li&gt;&lt;a href=&quot;#security0&quot;&gt;&lt;span class=secno&gt;3.11.10.14.
           &lt;/span&gt;Security and privacy considerations&lt;/a&gt;
         &lt;/ul&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-canvas&quot;&gt;&lt;span class=secno&gt;3.12.11 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-canvas&quot;&gt;&lt;span class=secno&gt;3.11.11 &lt;/span&gt;The
         &lt;code&gt;canvas&lt;/code&gt; element&lt;/a&gt;
         &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#the-2d&quot;&gt;&lt;span class=secno&gt;3.12.11.1. &lt;/span&gt;The 2D
+         &lt;li&gt;&lt;a href=&quot;#the-2d&quot;&gt;&lt;span class=secno&gt;3.11.11.1. &lt;/span&gt;The 2D
           context&lt;/a&gt;
           &lt;ul class=toc&gt;
-           &lt;li&gt;&lt;a href=&quot;#the-canvas0&quot;&gt;&lt;span class=secno&gt;3.12.11.1.1.
+           &lt;li&gt;&lt;a href=&quot;#the-canvas0&quot;&gt;&lt;span class=secno&gt;3.11.11.1.1.
             &lt;/span&gt;The canvas state&lt;/a&gt;
 
-           &lt;li&gt;&lt;a href=&quot;#transformations&quot;&gt;&lt;span class=secno&gt;3.12.11.1.2.
+           &lt;li&gt;&lt;a href=&quot;#transformations&quot;&gt;&lt;span class=secno&gt;3.11.11.1.2.
             &lt;/span&gt;Transformations&lt;/a&gt;
 
-           &lt;li&gt;&lt;a href=&quot;#compositing&quot;&gt;&lt;span class=secno&gt;3.12.11.1.3.
+           &lt;li&gt;&lt;a href=&quot;#compositing&quot;&gt;&lt;span class=secno&gt;3.11.11.1.3.
             &lt;/span&gt;Compositing&lt;/a&gt;
 
-           &lt;li&gt;&lt;a href=&quot;#colors&quot;&gt;&lt;span class=secno&gt;3.12.11.1.4. &lt;/span&gt;Colors
+           &lt;li&gt;&lt;a href=&quot;#colors&quot;&gt;&lt;span class=secno&gt;3.11.11.1.4. &lt;/span&gt;Colors
             and styles&lt;/a&gt;
 
-           &lt;li&gt;&lt;a href=&quot;#line-styles&quot;&gt;&lt;span class=secno&gt;3.12.11.1.5.
+           &lt;li&gt;&lt;a href=&quot;#line-styles&quot;&gt;&lt;span class=secno&gt;3.11.11.1.5.
             &lt;/span&gt;Line styles&lt;/a&gt;
 
-           &lt;li&gt;&lt;a href=&quot;#shadows&quot;&gt;&lt;span class=secno&gt;3.12.11.1.6.
+           &lt;li&gt;&lt;a href=&quot;#shadows&quot;&gt;&lt;span class=secno&gt;3.11.11.1.6.
             &lt;/span&gt;Shadows&lt;/a&gt;
 
-           &lt;li&gt;&lt;a href=&quot;#simple&quot;&gt;&lt;span class=secno&gt;3.12.11.1.7. &lt;/span&gt;Simple
+           &lt;li&gt;&lt;a href=&quot;#simple&quot;&gt;&lt;span class=secno&gt;3.11.11.1.7. &lt;/span&gt;Simple
             shapes (rectangles)&lt;/a&gt;
 
-           &lt;li&gt;&lt;a href=&quot;#complex&quot;&gt;&lt;span class=secno&gt;3.12.11.1.8.
+           &lt;li&gt;&lt;a href=&quot;#complex&quot;&gt;&lt;span class=secno&gt;3.11.11.1.8.
             &lt;/span&gt;Complex shapes (paths)&lt;/a&gt;
 
-           &lt;li&gt;&lt;a href=&quot;#text&quot;&gt;&lt;span class=secno&gt;3.12.11.1.9. &lt;/span&gt;Text&lt;/a&gt;
+           &lt;li&gt;&lt;a href=&quot;#text&quot;&gt;&lt;span class=secno&gt;3.11.11.1.9. &lt;/span&gt;Text&lt;/a&gt;
             
 
-           &lt;li&gt;&lt;a href=&quot;#images&quot;&gt;&lt;span class=secno&gt;3.12.11.1.10.
+           &lt;li&gt;&lt;a href=&quot;#images&quot;&gt;&lt;span class=secno&gt;3.11.11.1.10.
             &lt;/span&gt;Images&lt;/a&gt;
 
-           &lt;li&gt;&lt;a href=&quot;#pixel&quot;&gt;&lt;span class=secno&gt;3.12.11.1.11. &lt;/span&gt;Pixel
+           &lt;li&gt;&lt;a href=&quot;#pixel&quot;&gt;&lt;span class=secno&gt;3.11.11.1.11. &lt;/span&gt;Pixel
             manipulation&lt;/a&gt;
 
-           &lt;li&gt;&lt;a href=&quot;#drawing&quot;&gt;&lt;span class=secno&gt;3.12.11.1.12.
+           &lt;li&gt;&lt;a href=&quot;#drawing&quot;&gt;&lt;span class=secno&gt;3.11.11.1.12.
             &lt;/span&gt;Drawing model&lt;/a&gt;
           &lt;/ul&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#color&quot;&gt;&lt;span class=secno&gt;3.12.11.2. &lt;/span&gt;Color
+         &lt;li&gt;&lt;a href=&quot;#color&quot;&gt;&lt;span class=secno&gt;3.11.11.2. &lt;/span&gt;Color
           spaces and color correction&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#security1&quot;&gt;&lt;span class=secno&gt;3.12.11.3.
+         &lt;li&gt;&lt;a href=&quot;#security1&quot;&gt;&lt;span class=secno&gt;3.11.11.3.
           &lt;/span&gt;Security with &lt;code&gt;canvas&lt;/code&gt; elements&lt;/a&gt;
         &lt;/ul&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-map&quot;&gt;&lt;span class=secno&gt;3.12.12 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-map&quot;&gt;&lt;span class=secno&gt;3.11.12 &lt;/span&gt;The
         &lt;code&gt;map&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-area&quot;&gt;&lt;span class=secno&gt;3.12.13 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-area&quot;&gt;&lt;span class=secno&gt;3.11.13 &lt;/span&gt;The
         &lt;code&gt;area&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#image-maps&quot;&gt;&lt;span class=secno&gt;3.12.14 &lt;/span&gt;Image
+       &lt;li&gt;&lt;a href=&quot;#image-maps&quot;&gt;&lt;span class=secno&gt;3.11.14 &lt;/span&gt;Image
         maps&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#mathml&quot;&gt;&lt;span class=secno&gt;3.12.15 &lt;/span&gt;MathML&lt;/a&gt;
+       &lt;li&gt;&lt;a href=&quot;#mathml&quot;&gt;&lt;span class=secno&gt;3.11.15 &lt;/span&gt;MathML&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#svg&quot;&gt;&lt;span class=secno&gt;3.12.16 &lt;/span&gt;SVG&lt;/a&gt;
+       &lt;li&gt;&lt;a href=&quot;#svg&quot;&gt;&lt;span class=secno&gt;3.11.16 &lt;/span&gt;SVG&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#dimension&quot;&gt;&lt;span class=secno&gt;3.12.17 &lt;/span&gt;Dimension
+       &lt;li&gt;&lt;a href=&quot;#dimension&quot;&gt;&lt;span class=secno&gt;3.11.17 &lt;/span&gt;Dimension
         attributes&lt;/a&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#tabular&quot;&gt;&lt;span class=secno&gt;3.13 &lt;/span&gt;Tabular data&lt;/a&gt;
+     &lt;li&gt;&lt;a href=&quot;#tabular&quot;&gt;&lt;span class=secno&gt;3.12 &lt;/span&gt;Tabular data&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#table-intro&quot;&gt;&lt;span class=secno&gt;3.13.1
+       &lt;li&gt;&lt;a href=&quot;#table-intro&quot;&gt;&lt;span class=secno&gt;3.12.1
         &lt;/span&gt;Introduction&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-table&quot;&gt;&lt;span class=secno&gt;3.13.2 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-table&quot;&gt;&lt;span class=secno&gt;3.12.2 &lt;/span&gt;The
         &lt;code&gt;table&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-caption&quot;&gt;&lt;span class=secno&gt;3.13.3 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-caption&quot;&gt;&lt;span class=secno&gt;3.12.3 &lt;/span&gt;The
         &lt;code&gt;caption&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-colgroup&quot;&gt;&lt;span class=secno&gt;3.13.4 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-colgroup&quot;&gt;&lt;span class=secno&gt;3.12.4 &lt;/span&gt;The
         &lt;code&gt;colgroup&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-col&quot;&gt;&lt;span class=secno&gt;3.13.5 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-col&quot;&gt;&lt;span class=secno&gt;3.12.5 &lt;/span&gt;The
         &lt;code&gt;col&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-tbody&quot;&gt;&lt;span class=secno&gt;3.13.6 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-tbody&quot;&gt;&lt;span class=secno&gt;3.12.6 &lt;/span&gt;The
         &lt;code&gt;tbody&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-thead&quot;&gt;&lt;span class=secno&gt;3.13.7 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-thead&quot;&gt;&lt;span class=secno&gt;3.12.7 &lt;/span&gt;The
         &lt;code&gt;thead&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-tfoot&quot;&gt;&lt;span class=secno&gt;3.13.8 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-tfoot&quot;&gt;&lt;span class=secno&gt;3.12.8 &lt;/span&gt;The
         &lt;code&gt;tfoot&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-tr&quot;&gt;&lt;span class=secno&gt;3.13.9 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-tr&quot;&gt;&lt;span class=secno&gt;3.12.9 &lt;/span&gt;The
         &lt;code&gt;tr&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-td&quot;&gt;&lt;span class=secno&gt;3.13.10 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-td&quot;&gt;&lt;span class=secno&gt;3.12.10 &lt;/span&gt;The
         &lt;code&gt;td&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-th&quot;&gt;&lt;span class=secno&gt;3.13.11 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-th&quot;&gt;&lt;span class=secno&gt;3.12.11 &lt;/span&gt;The
         &lt;code&gt;th&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#attributes0&quot;&gt;&lt;span class=secno&gt;3.13.12 &lt;/span&gt;Attributes
+       &lt;li&gt;&lt;a href=&quot;#attributes0&quot;&gt;&lt;span class=secno&gt;3.12.12 &lt;/span&gt;Attributes
         common to &lt;code&gt;td&lt;/code&gt; and &lt;code&gt;th&lt;/code&gt; elements&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#processing&quot;&gt;&lt;span class=secno&gt;3.13.13 &lt;/span&gt;Processing
+       &lt;li&gt;&lt;a href=&quot;#processing&quot;&gt;&lt;span class=secno&gt;3.12.13 &lt;/span&gt;Processing
         model&lt;/a&gt;
         &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#forming&quot;&gt;&lt;span class=secno&gt;3.13.13.1. &lt;/span&gt;Forming a
+         &lt;li&gt;&lt;a href=&quot;#forming&quot;&gt;&lt;span class=secno&gt;3.12.13.1. &lt;/span&gt;Forming a
           table&lt;/a&gt;
 
          &lt;li&gt;&lt;a href=&quot;#header-and-data-cell-semantics&quot;&gt;&lt;span
-          class=secno&gt;3.13.13.2. &lt;/span&gt;Forming relationships between data
+          class=secno&gt;3.12.13.2. &lt;/span&gt;Forming relationships between data
           cells and header cells&lt;/a&gt;
         &lt;/ul&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#forms&quot;&gt;&lt;span class=secno&gt;3.14 &lt;/span&gt;Forms&lt;/a&gt;
+     &lt;li&gt;&lt;a href=&quot;#forms&quot;&gt;&lt;span class=secno&gt;3.13 &lt;/span&gt;Forms&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#the-form&quot;&gt;&lt;span class=secno&gt;3.14.1 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-form&quot;&gt;&lt;span class=secno&gt;3.13.1 &lt;/span&gt;The
         &lt;code&gt;form&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-fieldset&quot;&gt;&lt;span class=secno&gt;3.14.2 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-fieldset&quot;&gt;&lt;span class=secno&gt;3.13.2 &lt;/span&gt;The
         &lt;code&gt;fieldset&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-input&quot;&gt;&lt;span class=secno&gt;3.14.3 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-input&quot;&gt;&lt;span class=secno&gt;3.13.3 &lt;/span&gt;The
         &lt;code&gt;input&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-button&quot;&gt;&lt;span class=secno&gt;3.14.4 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-button&quot;&gt;&lt;span class=secno&gt;3.13.4 &lt;/span&gt;The
         &lt;code&gt;button&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-label&quot;&gt;&lt;span class=secno&gt;3.14.5 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-label&quot;&gt;&lt;span class=secno&gt;3.13.5 &lt;/span&gt;The
         &lt;code&gt;label&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-select&quot;&gt;&lt;span class=secno&gt;3.14.6 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-select&quot;&gt;&lt;span class=secno&gt;3.13.6 &lt;/span&gt;The
         &lt;code&gt;select&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-datalist&quot;&gt;&lt;span class=secno&gt;3.14.7 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-datalist&quot;&gt;&lt;span class=secno&gt;3.13.7 &lt;/span&gt;The
         &lt;code&gt;datalist&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-optgroup&quot;&gt;&lt;span class=secno&gt;3.14.8 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-optgroup&quot;&gt;&lt;span class=secno&gt;3.13.8 &lt;/span&gt;The
         &lt;code&gt;optgroup&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-option&quot;&gt;&lt;span class=secno&gt;3.14.9 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-option&quot;&gt;&lt;span class=secno&gt;3.13.9 &lt;/span&gt;The
         &lt;code&gt;option&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-textarea&quot;&gt;&lt;span class=secno&gt;3.14.10 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-textarea&quot;&gt;&lt;span class=secno&gt;3.13.10 &lt;/span&gt;The
         &lt;code&gt;textarea&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-output&quot;&gt;&lt;span class=secno&gt;3.14.11 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-output&quot;&gt;&lt;span class=secno&gt;3.13.11 &lt;/span&gt;The
         &lt;code&gt;output&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#processing0&quot;&gt;&lt;span class=secno&gt;3.14.12 &lt;/span&gt;Processing
+       &lt;li&gt;&lt;a href=&quot;#processing0&quot;&gt;&lt;span class=secno&gt;3.13.12 &lt;/span&gt;Processing
         model&lt;/a&gt;
         &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#form-submission&quot;&gt;&lt;span class=secno&gt;3.14.12.1.
+         &lt;li&gt;&lt;a href=&quot;#form-submission&quot;&gt;&lt;span class=secno&gt;3.13.12.1.
           &lt;/span&gt;Form submission&lt;/a&gt;
         &lt;/ul&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#scripting0&quot;&gt;&lt;span class=secno&gt;3.15 &lt;/span&gt;Scripting&lt;/a&gt;
+     &lt;li&gt;&lt;a href=&quot;#scripting0&quot;&gt;&lt;span class=secno&gt;3.14 &lt;/span&gt;Scripting&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#script&quot;&gt;&lt;span class=secno&gt;3.15.1 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#script&quot;&gt;&lt;span class=secno&gt;3.14.1 &lt;/span&gt;The
         &lt;code&gt;script&lt;/code&gt; element&lt;/a&gt;
         &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#scriptingLanguages&quot;&gt;&lt;span class=secno&gt;3.15.1.1.
+         &lt;li&gt;&lt;a href=&quot;#scriptingLanguages&quot;&gt;&lt;span class=secno&gt;3.14.1.1.
           &lt;/span&gt;Scripting languages&lt;/a&gt;
         &lt;/ul&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-noscript&quot;&gt;&lt;span class=secno&gt;3.15.2 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-noscript&quot;&gt;&lt;span class=secno&gt;3.14.2 &lt;/span&gt;The
         &lt;code&gt;noscript&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-event-source&quot;&gt;&lt;span class=secno&gt;3.15.3 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-event-source&quot;&gt;&lt;span class=secno&gt;3.14.3 &lt;/span&gt;The
         &lt;code&gt;event-source&lt;/code&gt; element&lt;/a&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#interactive-elements&quot;&gt;&lt;span class=secno&gt;3.16
+     &lt;li&gt;&lt;a href=&quot;#interactive-elements&quot;&gt;&lt;span class=secno&gt;3.15
       &lt;/span&gt;Interactive elements&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#the-details&quot;&gt;&lt;span class=secno&gt;3.16.1 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-details&quot;&gt;&lt;span class=secno&gt;3.15.1 &lt;/span&gt;The
         &lt;code&gt;details&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#datagrid&quot;&gt;&lt;span class=secno&gt;3.16.2 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#datagrid&quot;&gt;&lt;span class=secno&gt;3.15.2 &lt;/span&gt;The
         &lt;code&gt;datagrid&lt;/code&gt; element&lt;/a&gt;
         &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#the-datagrid&quot;&gt;&lt;span class=secno&gt;3.16.2.1. &lt;/span&gt;The
+         &lt;li&gt;&lt;a href=&quot;#the-datagrid&quot;&gt;&lt;span class=secno&gt;3.15.2.1. &lt;/span&gt;The
           &lt;code&gt;datagrid&lt;/code&gt; data model&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#how-rows&quot;&gt;&lt;span class=secno&gt;3.16.2.2. &lt;/span&gt;How rows
+         &lt;li&gt;&lt;a href=&quot;#how-rows&quot;&gt;&lt;span class=secno&gt;3.15.2.2. &lt;/span&gt;How rows
           are identified&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#the-data&quot;&gt;&lt;span class=secno&gt;3.16.2.3. &lt;/span&gt;The data
+         &lt;li&gt;&lt;a href=&quot;#the-data&quot;&gt;&lt;span class=secno&gt;3.15.2.3. &lt;/span&gt;The data
           provider interface&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#the-default&quot;&gt;&lt;span class=secno&gt;3.16.2.4. &lt;/span&gt;The
+         &lt;li&gt;&lt;a href=&quot;#the-default&quot;&gt;&lt;span class=secno&gt;3.15.2.4. &lt;/span&gt;The
           default data provider&lt;/a&gt;
           &lt;ul class=toc&gt;
            &lt;li&gt;&lt;a href=&quot;#commonDefaultDataGridMethodDefinitions&quot;&gt;&lt;span
-            class=secno&gt;3.16.2.4.1. &lt;/span&gt;Common default data provider
+            class=secno&gt;3.15.2.4.1. &lt;/span&gt;Common default data provider
             method definitions for cells&lt;/a&gt;
           &lt;/ul&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#populating&quot;&gt;&lt;span class=secno&gt;3.16.2.5.
+         &lt;li&gt;&lt;a href=&quot;#populating&quot;&gt;&lt;span class=secno&gt;3.15.2.5.
           &lt;/span&gt;Populating the &lt;code&gt;datagrid&lt;/code&gt; element&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#updating&quot;&gt;&lt;span class=secno&gt;3.16.2.6. &lt;/span&gt;Updating
+         &lt;li&gt;&lt;a href=&quot;#updating&quot;&gt;&lt;span class=secno&gt;3.15.2.6. &lt;/span&gt;Updating
           the &lt;code&gt;datagrid&lt;/code&gt;&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#requirements&quot;&gt;&lt;span class=secno&gt;3.16.2.7.
+         &lt;li&gt;&lt;a href=&quot;#requirements&quot;&gt;&lt;span class=secno&gt;3.15.2.7.
           &lt;/span&gt;Requirements for interactive user agents&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#the-selection&quot;&gt;&lt;span class=secno&gt;3.16.2.8. &lt;/span&gt;The
+         &lt;li&gt;&lt;a href=&quot;#the-selection&quot;&gt;&lt;span class=secno&gt;3.15.2.8. &lt;/span&gt;The
           selection&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#columns&quot;&gt;&lt;span class=secno&gt;3.16.2.9. &lt;/span&gt;Columns
+         &lt;li&gt;&lt;a href=&quot;#columns&quot;&gt;&lt;span class=secno&gt;3.15.2.9. &lt;/span&gt;Columns
           and captions&lt;/a&gt;
         &lt;/ul&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-command&quot;&gt;&lt;span class=secno&gt;3.16.3 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-command&quot;&gt;&lt;span class=secno&gt;3.15.3 &lt;/span&gt;The
         &lt;code&gt;command&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#menus&quot;&gt;&lt;span class=secno&gt;3.16.4 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#menus&quot;&gt;&lt;span class=secno&gt;3.15.4 &lt;/span&gt;The
         &lt;code&gt;menu&lt;/code&gt; element&lt;/a&gt;
         &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#menus-intro&quot;&gt;&lt;span class=secno&gt;3.16.4.1.
+         &lt;li&gt;&lt;a href=&quot;#menus-intro&quot;&gt;&lt;span class=secno&gt;3.15.4.1.
           &lt;/span&gt;Introduction&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#building&quot;&gt;&lt;span class=secno&gt;3.16.4.2. &lt;/span&gt;Building
+         &lt;li&gt;&lt;a href=&quot;#building&quot;&gt;&lt;span class=secno&gt;3.15.4.2. &lt;/span&gt;Building
           menus and tool bars&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#context&quot;&gt;&lt;span class=secno&gt;3.16.4.3. &lt;/span&gt;Context
+         &lt;li&gt;&lt;a href=&quot;#context&quot;&gt;&lt;span class=secno&gt;3.15.4.3. &lt;/span&gt;Context
           menus&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#toolbars&quot;&gt;&lt;span class=secno&gt;3.16.4.4.
+         &lt;li&gt;&lt;a href=&quot;#toolbars&quot;&gt;&lt;span class=secno&gt;3.15.4.4.
           &lt;/span&gt;Toolbars&lt;/a&gt;
         &lt;/ul&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#commands&quot;&gt;&lt;span class=secno&gt;3.16.5 &lt;/span&gt;Commands&lt;/a&gt;
+       &lt;li&gt;&lt;a href=&quot;#commands&quot;&gt;&lt;span class=secno&gt;3.15.5 &lt;/span&gt;Commands&lt;/a&gt;
         &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#using&quot;&gt;&lt;span class=secno&gt;3.16.5.1. &lt;/span&gt;Using the
+         &lt;li&gt;&lt;a href=&quot;#using&quot;&gt;&lt;span class=secno&gt;3.15.5.1. &lt;/span&gt;Using the
           &lt;code&gt;a&lt;/code&gt; element to define a command&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#using0&quot;&gt;&lt;span class=secno&gt;3.16.5.2. &lt;/span&gt;Using the
+         &lt;li&gt;&lt;a href=&quot;#using0&quot;&gt;&lt;span class=secno&gt;3.15.5.2. &lt;/span&gt;Using the
           &lt;code&gt;button&lt;/code&gt; element to define a command&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#using1&quot;&gt;&lt;span class=secno&gt;3.16.5.3. &lt;/span&gt;Using the
+         &lt;li&gt;&lt;a href=&quot;#using1&quot;&gt;&lt;span class=secno&gt;3.15.5.3. &lt;/span&gt;Using the
           &lt;code&gt;input&lt;/code&gt; element to define a command&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#using2&quot;&gt;&lt;span class=secno&gt;3.16.5.4. &lt;/span&gt;Using the
+         &lt;li&gt;&lt;a href=&quot;#using2&quot;&gt;&lt;span class=secno&gt;3.15.5.4. &lt;/span&gt;Using the
           &lt;code&gt;option&lt;/code&gt; element to define a command&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#using3&quot;&gt;&lt;span class=secno&gt;3.16.5.5. &lt;/span&gt;Using the
+         &lt;li&gt;&lt;a href=&quot;#using3&quot;&gt;&lt;span class=secno&gt;3.15.5.5. &lt;/span&gt;Using the
           &lt;code&gt;command&lt;/code&gt; element to define a command&lt;/a&gt;
         &lt;/ul&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#datatemplate&quot;&gt;&lt;span class=secno&gt;3.17 &lt;/span&gt;Data
+     &lt;li&gt;&lt;a href=&quot;#datatemplate&quot;&gt;&lt;span class=secno&gt;3.16 &lt;/span&gt;Data
       Templates&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#introduction0&quot;&gt;&lt;span class=secno&gt;3.17.1
+       &lt;li&gt;&lt;a href=&quot;#introduction0&quot;&gt;&lt;span class=secno&gt;3.16.1
         &lt;/span&gt;Introduction&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-datatemplate&quot;&gt;&lt;span class=secno&gt;3.17.2 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-datatemplate&quot;&gt;&lt;span class=secno&gt;3.16.2 &lt;/span&gt;The
         &lt;code&gt;datatemplate&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-rule&quot;&gt;&lt;span class=secno&gt;3.17.3 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-rule&quot;&gt;&lt;span class=secno&gt;3.16.3 &lt;/span&gt;The
         &lt;code&gt;rule&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-nest&quot;&gt;&lt;span class=secno&gt;3.17.4 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-nest&quot;&gt;&lt;span class=secno&gt;3.16.4 &lt;/span&gt;The
         &lt;code&gt;nest&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#global0&quot;&gt;&lt;span class=secno&gt;3.17.5 &lt;/span&gt;Global
+       &lt;li&gt;&lt;a href=&quot;#global0&quot;&gt;&lt;span class=secno&gt;3.16.5 &lt;/span&gt;Global
         attributes for data templates&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#processing1&quot;&gt;&lt;span class=secno&gt;3.17.6 &lt;/span&gt;Processing
+       &lt;li&gt;&lt;a href=&quot;#processing1&quot;&gt;&lt;span class=secno&gt;3.16.6 &lt;/span&gt;Processing
         model&lt;/a&gt;
         &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#the-originalcontent&quot;&gt;&lt;span class=secno&gt;3.17.6.1.
+         &lt;li&gt;&lt;a href=&quot;#the-originalcontent&quot;&gt;&lt;span class=secno&gt;3.16.6.1.
           &lt;/span&gt;The &lt;code title=dom-originalContent&gt;originalContent&lt;/code&gt;
           DOM attribute&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#the-template&quot;&gt;&lt;span class=secno&gt;3.17.6.2. &lt;/span&gt;The
+         &lt;li&gt;&lt;a href=&quot;#the-template&quot;&gt;&lt;span class=secno&gt;3.16.6.2. &lt;/span&gt;The
           &lt;code title=attr-template&gt;template&lt;/code&gt; attribute&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#the-ref&quot;&gt;&lt;span class=secno&gt;3.17.6.3. &lt;/span&gt;The &lt;code
+         &lt;li&gt;&lt;a href=&quot;#the-ref&quot;&gt;&lt;span class=secno&gt;3.16.6.3. &lt;/span&gt;The &lt;code
           title=attr-ref&gt;ref&lt;/code&gt; attribute&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#the-nodedatatemplate&quot;&gt;&lt;span class=secno&gt;3.17.6.4.
+         &lt;li&gt;&lt;a href=&quot;#the-nodedatatemplate&quot;&gt;&lt;span class=secno&gt;3.16.6.4.
           &lt;/span&gt;The &lt;code&gt;NodeDataTemplate&lt;/code&gt; interface&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#mutations&quot;&gt;&lt;span class=secno&gt;3.17.6.5.
+         &lt;li&gt;&lt;a href=&quot;#mutations&quot;&gt;&lt;span class=secno&gt;3.16.6.5.
           &lt;/span&gt;Mutations&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#updating0&quot;&gt;&lt;span class=secno&gt;3.17.6.6. &lt;/span&gt;Updating
+         &lt;li&gt;&lt;a href=&quot;#updating0&quot;&gt;&lt;span class=secno&gt;3.16.6.6. &lt;/span&gt;Updating
           the generated content&lt;/a&gt;
         &lt;/ul&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#miscellaneous&quot;&gt;&lt;span class=secno&gt;3.18 &lt;/span&gt;Miscellaneous
+     &lt;li&gt;&lt;a href=&quot;#miscellaneous&quot;&gt;&lt;span class=secno&gt;3.17 &lt;/span&gt;Miscellaneous
       elements&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#the-legend&quot;&gt;&lt;span class=secno&gt;3.18.1 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-legend&quot;&gt;&lt;span class=secno&gt;3.17.1 &lt;/span&gt;The
         &lt;code&gt;legend&lt;/code&gt; element&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-div&quot;&gt;&lt;span class=secno&gt;3.18.2 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-div&quot;&gt;&lt;span class=secno&gt;3.17.2 &lt;/span&gt;The
         &lt;code&gt;div&lt;/code&gt; element&lt;/a&gt;
       &lt;/ul&gt;
     &lt;/ul&gt;
@@ -1400,7 +1379,7 @@
             &lt;/span&gt;Link type &quot;&lt;code&gt;up&lt;/code&gt;&quot;&lt;/a&gt;
           &lt;/ul&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#sequential0&quot;&gt;&lt;span class=secno&gt;4.12.3.19.
+         &lt;li&gt;&lt;a href=&quot;#sequential&quot;&gt;&lt;span class=secno&gt;4.12.3.19.
           &lt;/span&gt;Sequential link types&lt;/a&gt;
           &lt;ul class=toc&gt;
            &lt;li&gt;&lt;a href=&quot;#link-type17&quot;&gt;&lt;span class=secno&gt;4.12.3.19.1.
@@ -1425,96 +1404,113 @@
       URI manipulation&lt;/a&gt;
     &lt;/ul&gt;
 
-   &lt;li&gt;&lt;a href=&quot;#editing&quot;&gt;&lt;span class=secno&gt;5. &lt;/span&gt;Editing&lt;/a&gt;
+   &lt;li&gt;&lt;a href=&quot;#editing&quot;&gt;&lt;span class=secno&gt;5. &lt;/span&gt;User Interaction&lt;/a&gt;
     &lt;ul class=toc&gt;
      &lt;li&gt;&lt;a href=&quot;#editing-intro&quot;&gt;&lt;span class=secno&gt;5.1
       &lt;/span&gt;Introduction&lt;/a&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#contenteditable&quot;&gt;&lt;span class=secno&gt;5.2 &lt;/span&gt;The &lt;code
+     &lt;li&gt;&lt;a href=&quot;#the-irrelevant&quot;&gt;&lt;span class=secno&gt;5.2 &lt;/span&gt;The
+      &lt;code&gt;irrelevant&lt;/code&gt; attribute&lt;/a&gt;
+
+     &lt;li&gt;&lt;a href=&quot;#activation&quot;&gt;&lt;span class=secno&gt;5.3 &lt;/span&gt;Activation&lt;/a&gt;
+
+     &lt;li&gt;&lt;a href=&quot;#scrolling&quot;&gt;&lt;span class=secno&gt;5.4 &lt;/span&gt;Scrolling elements
+      into view&lt;/a&gt;
+
+     &lt;li&gt;&lt;a href=&quot;#focus&quot;&gt;&lt;span class=secno&gt;5.5 &lt;/span&gt;Focus&lt;/a&gt;
+      &lt;ul class=toc&gt;
+       &lt;li&gt;&lt;a href=&quot;#focus-management&quot;&gt;&lt;span class=secno&gt;5.5.1 &lt;/span&gt;Focus
+        management&lt;/a&gt;
+
+       &lt;li&gt;&lt;a href=&quot;#sequential0&quot;&gt;&lt;span class=secno&gt;5.5.2 &lt;/span&gt;Sequential
+        focus navigation&lt;/a&gt;
+      &lt;/ul&gt;
+
+     &lt;li&gt;&lt;a href=&quot;#selection&quot;&gt;&lt;span class=secno&gt;5.6 &lt;/span&gt;The text selection
+      APIs&lt;/a&gt;
+      &lt;ul class=toc&gt;
+       &lt;li&gt;&lt;a href=&quot;#documentSelection&quot;&gt;&lt;span class=secno&gt;5.6.1 &lt;/span&gt;APIs
+        for the browsing context selection&lt;/a&gt;
+
+       &lt;li&gt;&lt;a href=&quot;#textFieldSelection&quot;&gt;&lt;span class=secno&gt;5.6.2 &lt;/span&gt;APIs
+        for the text field selections&lt;/a&gt;
+      &lt;/ul&gt;
+
+     &lt;li&gt;&lt;a href=&quot;#contenteditable&quot;&gt;&lt;span class=secno&gt;5.7 &lt;/span&gt;The &lt;code
       title=attr-contenteditable&gt;contenteditable&lt;/code&gt; attribute&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#user-editing&quot;&gt;&lt;span class=secno&gt;5.2.1 &lt;/span&gt;User
+       &lt;li&gt;&lt;a href=&quot;#user-editing&quot;&gt;&lt;span class=secno&gt;5.7.1 &lt;/span&gt;User
         editing actions&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#making&quot;&gt;&lt;span class=secno&gt;5.2.2 &lt;/span&gt;Making entire
+       &lt;li&gt;&lt;a href=&quot;#making&quot;&gt;&lt;span class=secno&gt;5.7.2 &lt;/span&gt;Making entire
         documents editable&lt;/a&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#dnd&quot;&gt;&lt;span class=secno&gt;5.3 &lt;/span&gt;Drag and drop&lt;/a&gt;
+     &lt;li&gt;&lt;a href=&quot;#dnd&quot;&gt;&lt;span class=secno&gt;5.8 &lt;/span&gt;Drag and drop&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#introduction4&quot;&gt;&lt;span class=secno&gt;5.3.1
+       &lt;li&gt;&lt;a href=&quot;#introduction4&quot;&gt;&lt;span class=secno&gt;5.8.1
         &lt;/span&gt;Introduction&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-dragevent&quot;&gt;&lt;span class=secno&gt;5.3.2 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-dragevent&quot;&gt;&lt;span class=secno&gt;5.8.2 &lt;/span&gt;The
         &lt;code&gt;DragEvent&lt;/code&gt; and &lt;code&gt;DataTransfer&lt;/code&gt; interfaces&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#events1&quot;&gt;&lt;span class=secno&gt;5.3.3 &lt;/span&gt;Events fired
+       &lt;li&gt;&lt;a href=&quot;#events1&quot;&gt;&lt;span class=secno&gt;5.8.3 &lt;/span&gt;Events fired
         during a drag-and-drop action&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#drag-and-drop&quot;&gt;&lt;span class=secno&gt;5.3.4
+       &lt;li&gt;&lt;a href=&quot;#drag-and-drop&quot;&gt;&lt;span class=secno&gt;5.8.4
         &lt;/span&gt;Drag-and-drop processing model&lt;/a&gt;
         &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#when-the&quot;&gt;&lt;span class=secno&gt;5.3.4.1. &lt;/span&gt;When the
+         &lt;li&gt;&lt;a href=&quot;#when-the&quot;&gt;&lt;span class=secno&gt;5.8.4.1. &lt;/span&gt;When the
           drag-and-drop operation starts or ends in another document&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#when-the0&quot;&gt;&lt;span class=secno&gt;5.3.4.2. &lt;/span&gt;When the
+         &lt;li&gt;&lt;a href=&quot;#when-the0&quot;&gt;&lt;span class=secno&gt;5.8.4.2. &lt;/span&gt;When the
           drag-and-drop operation starts or ends in another application&lt;/a&gt;
         &lt;/ul&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-draggable&quot;&gt;&lt;span class=secno&gt;5.3.5 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-draggable&quot;&gt;&lt;span class=secno&gt;5.8.5 &lt;/span&gt;The
         &lt;code&gt;draggable&lt;/code&gt; attribute&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#copy-and&quot;&gt;&lt;span class=secno&gt;5.3.6 &lt;/span&gt;Copy and
+       &lt;li&gt;&lt;a href=&quot;#copy-and&quot;&gt;&lt;span class=secno&gt;5.8.6 &lt;/span&gt;Copy and
         paste&lt;/a&gt;
         &lt;ul class=toc&gt;
-         &lt;li&gt;&lt;a href=&quot;#copy-to&quot;&gt;&lt;span class=secno&gt;5.3.6.1. &lt;/span&gt;Copy to
+         &lt;li&gt;&lt;a href=&quot;#copy-to&quot;&gt;&lt;span class=secno&gt;5.8.6.1. &lt;/span&gt;Copy to
           clipboard&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#cut-to&quot;&gt;&lt;span class=secno&gt;5.3.6.2. &lt;/span&gt;Cut to
+         &lt;li&gt;&lt;a href=&quot;#cut-to&quot;&gt;&lt;span class=secno&gt;5.8.6.2. &lt;/span&gt;Cut to
           clipboard&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#paste&quot;&gt;&lt;span class=secno&gt;5.3.6.3. &lt;/span&gt;Paste from
+         &lt;li&gt;&lt;a href=&quot;#paste&quot;&gt;&lt;span class=secno&gt;5.8.6.3. &lt;/span&gt;Paste from
           clipboard&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#paste0&quot;&gt;&lt;span class=secno&gt;5.3.6.4. &lt;/span&gt;Paste from
+         &lt;li&gt;&lt;a href=&quot;#paste0&quot;&gt;&lt;span class=secno&gt;5.8.6.4. &lt;/span&gt;Paste from
           selection&lt;/a&gt;
         &lt;/ul&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#security8&quot;&gt;&lt;span class=secno&gt;5.3.7 &lt;/span&gt;Security risks
+       &lt;li&gt;&lt;a href=&quot;#security8&quot;&gt;&lt;span class=secno&gt;5.8.7 &lt;/span&gt;Security risks
         in the drag-and-drop model&lt;/a&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#undo&quot;&gt;&lt;span class=secno&gt;5.4 &lt;/span&gt;Undo history&lt;/a&gt;
+     &lt;li&gt;&lt;a href=&quot;#undo&quot;&gt;&lt;span class=secno&gt;5.9 &lt;/span&gt;Undo history&lt;/a&gt;
       &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#the-undomanager&quot;&gt;&lt;span class=secno&gt;5.4.1 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-undomanager&quot;&gt;&lt;span class=secno&gt;5.9.1 &lt;/span&gt;The
         &lt;code&gt;UndoManager&lt;/code&gt; interface&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#undo-moving&quot;&gt;&lt;span class=secno&gt;5.4.2 &lt;/span&gt;Undo: moving
+       &lt;li&gt;&lt;a href=&quot;#undo-moving&quot;&gt;&lt;span class=secno&gt;5.9.2 &lt;/span&gt;Undo: moving
         back in the undo transaction history&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#redo-moving&quot;&gt;&lt;span class=secno&gt;5.4.3 &lt;/span&gt;Redo: moving
+       &lt;li&gt;&lt;a href=&quot;#redo-moving&quot;&gt;&lt;span class=secno&gt;5.9.3 &lt;/span&gt;Redo: moving
         forward in the undo transaction history&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#the-undomanagerevent&quot;&gt;&lt;span class=secno&gt;5.4.4 &lt;/span&gt;The
+       &lt;li&gt;&lt;a href=&quot;#the-undomanagerevent&quot;&gt;&lt;span class=secno&gt;5.9.4 &lt;/span&gt;The
         &lt;code&gt;UndoManagerEvent&lt;/code&gt; interface and the &lt;code
         title=event-undo&gt;undo&lt;/code&gt; and &lt;code title=event-redo&gt;redo&lt;/code&gt;
         events&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#implementation0&quot;&gt;&lt;span class=secno&gt;5.4.5
+       &lt;li&gt;&lt;a href=&quot;#implementation0&quot;&gt;&lt;span class=secno&gt;5.9.5
         &lt;/span&gt;Implementation notes&lt;/a&gt;
       &lt;/ul&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#selection&quot;&gt;&lt;span class=secno&gt;5.5 &lt;/span&gt;The text selection
-      APIs&lt;/a&gt;
-      &lt;ul class=toc&gt;
-       &lt;li&gt;&lt;a href=&quot;#documentSelection&quot;&gt;&lt;span class=secno&gt;5.5.1 &lt;/span&gt;APIs
-        for the browsing context selection&lt;/a&gt;
-
-       &lt;li&gt;&lt;a href=&quot;#textFieldSelection&quot;&gt;&lt;span class=secno&gt;5.5.2 &lt;/span&gt;APIs
-        for the text field selections&lt;/a&gt;
-      &lt;/ul&gt;
-
-     &lt;li&gt;&lt;a href=&quot;#command&quot;&gt;&lt;span class=secno&gt;5.6 &lt;/span&gt;Command APIs&lt;/a&gt;
+     &lt;li&gt;&lt;a href=&quot;#command&quot;&gt;&lt;span class=secno&gt;5.10 &lt;/span&gt;Command APIs&lt;/a&gt;
     &lt;/ul&gt;
 
    &lt;li&gt;&lt;a href=&quot;#comms&quot;&gt;&lt;span class=secno&gt;6. &lt;/span&gt;Communication&lt;/a&gt;
@@ -2696,7 +2692,7 @@
    from &lt;code&gt;Document&lt;/code&gt;.
 
   &lt;pre class=idl&gt;interface &lt;dfn id=htmldocument&gt;HTMLDocument&lt;/dfn&gt; {
-  // &lt;a href=&quot;#resource0&quot;&gt;Resource metadata management&lt;/a&gt;
+  // &lt;a href=&quot;#resource0&quot;&gt;resource metadata management&lt;/a&gt;
   [PutForwards=href] readonly attribute &lt;a href=&quot;#location2&quot;&gt;Location&lt;/a&gt; &lt;a href=&quot;#location0&quot; title=dom-document-location&gt;location&lt;/a&gt;;
   readonly attribute DOMString &lt;a href=&quot;#url&quot; title=dom-document-URL&gt;URL&lt;/a&gt;;
            attribute DOMString &lt;a href=&quot;#domain&quot; title=dom-document-domain&gt;domain&lt;/a&gt;;
@@ -2723,7 +2719,7 @@
   NodeList &lt;a href=&quot;#getelementsbyname&quot; title=dom-document-getElementsByName&gt;getElementsByName&lt;/a&gt;(in DOMString elementName);
   NodeList &lt;a href=&quot;#getelementsbyclassname&quot; title=dom-document-getElementsByClassName&gt;getElementsByClassName&lt;/a&gt;(in DOMString classNames);
 
-  // &lt;a href=&quot;#dynamic2&quot;&gt;Dynamic markup insertion&lt;/a&gt;
+  // &lt;a href=&quot;#dynamic2&quot;&gt;dynamic markup insertion&lt;/a&gt;
            attribute DOMString &lt;a href=&quot;#innerhtml&quot; title=dom-innerHTML&gt;innerHTML&lt;/a&gt;;
   &lt;a href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt; &lt;a href=&quot;#open&quot; title=dom-document-open&gt;open&lt;/a&gt;();
   &lt;a href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt; &lt;a href=&quot;#open&quot; title=dom-document-open&gt;open&lt;/a&gt;(in DOMString type);
@@ -2734,14 +2730,10 @@
   void &lt;a href=&quot;#document.write&quot; title=dom-document-write&gt;write&lt;/a&gt;(in DOMString text);
   void &lt;a href=&quot;#document.writeln...&quot; title=dom-document-writeln&gt;writeln&lt;/a&gt;(in DOMString text);
 
-  // &lt;a href=&quot;#interaction0&quot;&gt;Interaction&lt;/a&gt;
+  // &lt;a href=&quot;#user-interaction&quot;&gt;user interaction&lt;/a&gt;
+  &lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt; &lt;a href=&quot;#getselection0&quot; title=dom-document-getSelection&gt;getSelection&lt;/a&gt;();
   readonly attribute &lt;span&gt;Element&lt;/span&gt; &lt;a href=&quot;#activeelement&quot; title=dom-document-activeElement&gt;activeElement&lt;/a&gt;;
   boolean &lt;a href=&quot;#hasfocus&quot; title=dom-document-hasFocus&gt;hasFocus&lt;/a&gt;();
-
-  // &lt;a href=&quot;#command1&quot; title=concept-command&gt;Commands&lt;/a&gt;
-  readonly attribute &lt;a href=&quot;#htmlcollection0&quot;&gt;HTMLCollection&lt;/a&gt; &lt;a href=&quot;#commands0&quot; title=dom-document-commands&gt;commands&lt;/a&gt;;
-
-  // &lt;a href=&quot;#editing0&quot;&gt;Editing&lt;/a&gt;
            attribute boolean &lt;a href=&quot;#designMode&quot; title=dom-document-designMode&gt;designMode&lt;/a&gt;;
   boolean &lt;a href=&quot;#execCommand&quot; title=dom-document-execCommand&gt;execCommand&lt;/a&gt;(in DOMString commandId);
   boolean &lt;a href=&quot;#execCommand&quot; title=dom-document-execCommand&gt;execCommand&lt;/a&gt;(in DOMString commandId, in boolean showUI);
@@ -2751,7 +2743,7 @@
   boolean &lt;a href=&quot;#querycommandstate&quot; title=dom-document-queryCommandState&gt;queryCommandState&lt;/a&gt;(in DOMString commandId);
   boolean &lt;a href=&quot;#querycommandsupported&quot; title=dom-document-queryCommandSupported&gt;queryCommandSupported&lt;/a&gt;(in DOMString commandId);
   DOMString &lt;a href=&quot;#querycommandvalue&quot; title=dom-document-queryCommandValue&gt;queryCommandValue&lt;/a&gt;(in DOMString commandId);
-  &lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt; &lt;a href=&quot;#getselection0&quot; title=dom-document-getSelection&gt;getSelection&lt;/a&gt;();
+  readonly attribute &lt;a href=&quot;#htmlcollection0&quot;&gt;HTMLCollection&lt;/a&gt; &lt;a href=&quot;#commands0&quot; title=dom-document-commands&gt;commands&lt;/a&gt;;
 };&lt;/pre&gt;
 
   &lt;p&gt;Since the &lt;code&gt;&lt;a href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt;
@@ -2972,22 +2964,18 @@
   readonly attribute &lt;a href=&quot;#domtokenlist0&quot;&gt;DOMTokenList&lt;/a&gt; &lt;a href=&quot;#classlist&quot; title=dom-classList&gt;classList&lt;/a&gt;;
   readonly attribute &lt;a href=&quot;#domstringmap0&quot;&gt;DOMStringMap&lt;/a&gt; &lt;a href=&quot;#dataset&quot; title=dom-dataset&gt;dataset&lt;/a&gt;;
 
-  // &lt;a href=&quot;#interaction0&quot;&gt;interaction&lt;/a&gt;
+  // &lt;a href=&quot;#user-interaction&quot;&gt;user interaction&lt;/a&gt;
            attribute boolean &lt;a href=&quot;#irrelevant0&quot; title=dom-irrelevant&gt;irrelevant&lt;/a&gt;;
+  void &lt;a href=&quot;#click1&quot; title=dom-click&gt;click&lt;/a&gt;();
+  void &lt;a href=&quot;#scrollintoview&quot; title=dom-scrollIntoView&gt;scrollIntoView&lt;/a&gt;();
+  void &lt;a href=&quot;#scrollintoview&quot; title=dom-scrollIntoView&gt;scrollIntoView&lt;/a&gt;(in boolean top);
            attribute long &lt;a href=&quot;#tabindex0&quot; title=dom-tabindex&gt;tabIndex&lt;/a&gt;;
-  void &lt;a href=&quot;#click&quot; title=dom-click&gt;click&lt;/a&gt;();
   void &lt;a href=&quot;#focus0&quot; title=dom-focus&gt;focus&lt;/a&gt;();
   void &lt;a href=&quot;#blur&quot; title=dom-blur&gt;blur&lt;/a&gt;();
-  void &lt;a href=&quot;#scrollintoview&quot; title=dom-scrollIntoView&gt;scrollIntoView&lt;/a&gt;();
-  void &lt;a href=&quot;#scrollintoview&quot; title=dom-scrollIntoView&gt;scrollIntoView&lt;/a&gt;(in boolean top);
-
-  // &lt;a href=&quot;#command1&quot; title=concept-command&gt;commands&lt;/a&gt;
-           attribute &lt;a href=&quot;#htmlmenuelement&quot;&gt;HTMLMenuElement&lt;/a&gt; &lt;a href=&quot;#contextmenu0&quot; title=dom-contextMenu&gt;contextMenu&lt;/a&gt;;
-
-  // &lt;a href=&quot;#editing0&quot;&gt;editing&lt;/a&gt;
            attribute boolean &lt;a href=&quot;#draggable0&quot; title=dom-draggable&gt;draggable&lt;/a&gt;;
            attribute DOMString &lt;a href=&quot;#contenteditable1&quot; title=dom-contentEditable&gt;contentEditable&lt;/a&gt;;
   readonly attribute DOMString &lt;a href=&quot;#iscontenteditable&quot; title=dom-isContentEditable&gt;isContentEditable&lt;/a&gt;;
+           attribute &lt;a href=&quot;#htmlmenuelement&quot;&gt;HTMLMenuElement&lt;/a&gt; &lt;a href=&quot;#contextmenu0&quot; title=dom-contextMenu&gt;contextMenu&lt;/a&gt;;
 
   // &lt;span&gt;styling&lt;/span&gt;
   readonly attribute &lt;span&gt;CSSStyleDeclaration&lt;/span&gt; &lt;a href=&quot;#style0&quot; title=dom-style&gt;style&lt;/a&gt;;
@@ -6615,7 +6603,7 @@
 
   &lt;p class=note&gt;The above doesn't happen for arbitrary synthetic events
    dispatched by author script. However, the &lt;code title=dom-click&gt;&lt;a
-   href=&quot;#click&quot;&gt;click()&lt;/a&gt;&lt;/code&gt; method can be used to make it happen
+   href=&quot;#click1&quot;&gt;click()&lt;/a&gt;&lt;/code&gt; method can be used to make it happen
    programmatically.
 
   &lt;p&gt;For certain form controls, this process is complicated further by &lt;a
@@ -7073,61 +7061,7 @@
    attributes must both &lt;a href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the &lt;code
    title=attr-class&gt;&lt;a href=&quot;#class&quot;&gt;class&lt;/a&gt;&lt;/code&gt; content attribute.
 
-  &lt;h4 id=the-irrelevant&gt;&lt;span class=secno&gt;3.4.7 &lt;/span&gt;The &lt;dfn id=irrelevant
-   title=attr-irrelevant&gt;&lt;code&gt;irrelevant&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
-
-  &lt;p&gt;All elements may have the &lt;code title=attr-irrelevant&gt;&lt;a
-   href=&quot;#irrelevant&quot;&gt;irrelevant&lt;/a&gt;&lt;/code&gt; content attribute set. The &lt;code
-   title=attr-irrelevant&gt;&lt;a href=&quot;#irrelevant&quot;&gt;irrelevant&lt;/a&gt;&lt;/code&gt;
-   attribute is a &lt;a href=&quot;#boolean0&quot;&gt;boolean attribute&lt;/a&gt;. When specified
-   on an element, it indicates that the element is not yet, or is no longer,
-   relevant. User agents should not render elements that have the &lt;code
-   title=attr-irrelevant&gt;&lt;a href=&quot;#irrelevant&quot;&gt;irrelevant&lt;/a&gt;&lt;/code&gt;
-   attribute specified.
-
-  &lt;div class=example&gt;
-   &lt;p&gt;In the following skeletal example, the attribute is used to hide the
-    Web game's main screen until the user logs in:&lt;/p&gt;
-
-   &lt;pre&gt;  &lt;h1&gt;The Example Game&lt;/h1&gt;
-  &lt;section id=&quot;login&quot;&gt;
-   &lt;h2&gt;Login&lt;/h2&gt;
-   &lt;form&gt;
-    ...
-    &lt;!-- calls login() once the user's credentials have been checked --&gt;
-   &lt;/form&gt;
-   &lt;script&gt;
-    function login() {
-      // switch screens
-      document.getElementById('login').irrelevant = true;
-      document.getElementById('game').irrelevant = false;
-    }
-   &lt;/script&gt;
-  &lt;/section&gt;
-  &lt;section id=&quot;game&quot; irrelevant&gt;
-   ...
-  &lt;/section&gt;&lt;/pre&gt;
-  &lt;/div&gt;
-
-  &lt;p&gt;The &lt;code title=attr-irrelevant&gt;&lt;a
-   href=&quot;#irrelevant&quot;&gt;irrelevant&lt;/a&gt;&lt;/code&gt; attribute must not be used to
-   hide content that could legitimately be shown in another presentation. For
-   example, it is incorrect to use &lt;code title=attr-irrelevant&gt;&lt;a
-   href=&quot;#irrelevant&quot;&gt;irrelevant&lt;/a&gt;&lt;/code&gt; to hide panels in a tabbed
-   dialog, because the tabbed interface is merely a kind of overflow
-   presentation &mdash; showing all the form controls in one big page with a
-   scrollbar would be equivalent, and no less correct.
-
-  &lt;p&gt;Elements in a section hidden by the &lt;code title=attr-irrelevant&gt;&lt;a
-   href=&quot;#irrelevant&quot;&gt;irrelevant&lt;/a&gt;&lt;/code&gt; attribute are still active, e.g.
-   scripts and form controls in such sections still render execute and submit
-   respectively. Only their presentation to the user changes.
-
-  &lt;p&gt;The &lt;dfn id=irrelevant0
-   title=dom-irrelevant&gt;&lt;code&gt;irrelevant&lt;/code&gt;&lt;/dfn&gt; DOM attribute must &lt;a
-   href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the content attribute of the same name.
-
-  &lt;h4 id=the-style&gt;&lt;span class=secno&gt;3.4.8 &lt;/span&gt;The &lt;dfn id=style
+  &lt;h4 id=the-style&gt;&lt;span class=secno&gt;3.4.7 &lt;/span&gt;The &lt;dfn id=style
    title=attr-style&gt;&lt;code&gt;style&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
 
   &lt;p&gt;All elements may have the &lt;code title=attr-style&gt;&lt;a
@@ -7170,7 +7104,7 @@
 background: transparent&quot;&gt;blue&lt;/span&gt;.&lt;/p&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=embedding&gt;&lt;span class=secno&gt;3.4.9 &lt;/span&gt;&lt;dfn
+  &lt;h4 id=embedding&gt;&lt;span class=secno&gt;3.4.8 &lt;/span&gt;&lt;dfn
    id=embedding0&gt;Embedding custom non-visible data&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;A &lt;dfn id=custom&gt;custom data attribute&lt;/dfn&gt; is an attribute whose name
@@ -7266,328 +7200,9 @@
    attributes or values. Specifications intended for user agents must not
    define these attributes to have any meaningful values.
 
-  &lt;h3 id=interaction&gt;&lt;span class=secno&gt;3.5 &lt;/span&gt;&lt;dfn
-   id=interaction0&gt;Interaction&lt;/dfn&gt;&lt;/h3&gt;
+  &lt;h3 id=the-root&gt;&lt;span class=secno&gt;3.5 &lt;/span&gt;The root element&lt;/h3&gt;
 
-  &lt;h4 id=activation&gt;&lt;span class=secno&gt;3.5.1 &lt;/span&gt;Activation&lt;/h4&gt;
-
-  &lt;p&gt;The &lt;dfn id=click title=dom-click&gt;click()&lt;/dfn&gt; method must &lt;a
-   href=&quot;#firing&quot;&gt;fire a &lt;code&gt;click&lt;/code&gt; event&lt;/a&gt; at the element, whose
-   default action is the &lt;span title=&quot;fire a DOMActivate event&quot;&gt;firing of a
-   further &lt;code title=event-DOMActivate&gt;DOMActivate&lt;/code&gt; event&lt;/span&gt; at
-   the same element, whose own default action is to go through all the
-   elements the &lt;code title=event-DOMActivate&gt;DOMActivate&lt;/code&gt; event
-   bubbled through (starting at the target node and going towards the
-   &lt;code&gt;Document&lt;/code&gt; node), looking for an element with an &lt;a
-   href=&quot;#activation0&quot;&gt;activation behavior&lt;/a&gt;; the first element, in reverse
-   tree order, to have one, must have its activation behavior executed.
-
-  &lt;h4 id=focus&gt;&lt;span class=secno&gt;3.5.2 &lt;/span&gt;Focus&lt;/h4&gt;
-  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%20%0A...%3Cform%3E%3Cinput%20name%3Da%20onfocus%3D%22value%2B%3D1%3Bd.name%3D%27a%27%3Bname%3D%27d%27%3Bb.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%20%0A...%3Cform%3E%3Cinput%20name%3Da%20onfocus%3D%22value%2B%3D1%3Bd.name%3D%27a%27%3Bname%3D%27d%27%3Bb.focus(</A>)%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22value%2B%3D1%3Bc.focus()%22%3E%0A%3Cinput%20name%3Dc%20onfocus%3D%22value%2B%3D1%3Bd.focus()%22%3E%0A%3Cinput%20name%3Dd%20onfocus%3D%22value%2B%3D1%3Ba.focus()%22%3E --&gt;
-  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af1%20%27%3Bb.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af1%20%27%3Bb.focus(</A>)%3Balert(document.activeElement.name)%3Bt.value%2B%3D%27af2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27ab%20%27%3B%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22t.value%2B%3D%27bf1%20%27%3Bc.focus()%3Bt.value%2B%3D%27bf2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27bb%20%27%3B%22%3E%0A%3Cinput%20name%3Dc%20onfocus%3D%22t.value%2B%3D%27cf1%20%27%3Bc.focus()%3Bt.value%2B%3D%27cf2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27cb%20%27%3B%22%3E%0A --&gt;
-  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%20onload%3D%22document.forms%5B0%5D.a.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%20onload%3D%22document.forms%5B0%5D.a.focus(</A>)%22%3E%0A...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onblur%3D%22t.value%2B%3D'ab%20'%3B%20b.focus()%3B%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22t.value%2B%3D'bf1%20'%3Ba.focus()%3Bt.value%2B%3D'bf2%20'%3B%22%20onblur%3D%22t.value%2B%3D'bb%20'%3B%22%3E --&gt;
-  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%3E...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27ab1%20%27%3Bb.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%3E...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27ab1%20%27%3Bb.focus(</A>)%3Bt.value%2B%3D%27ab2%20%27%3B%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22t.value%2B%3D%27bf1%20%27%3Ba.focus()%3Bt.value%2B%3D%27bf2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27bb%20%27%3B%22%3E --&gt;
-
-  &lt;p&gt;When an element is &lt;em&gt;focused&lt;/em&gt;, key events received by the document
-   must be targeted at that element. There may be no element focused; when no
-   element is focused, key events received by the document must be targetted
-   at &lt;a href=&quot;#the-body1&quot;&gt;the &lt;code&gt;body&lt;/code&gt; element&lt;/a&gt;.
-
-  &lt;p&gt;User agents may track focus for each &lt;a href=&quot;#browsing1&quot;&gt;browsing
-   context&lt;/a&gt; or &lt;code&gt;Document&lt;/code&gt; individually, or may support only one
-   focused elment per &lt;a href=&quot;#top-level&quot;&gt;top-level browsing context&lt;/a&gt;
-   &mdash; user agents should follow platform conventions in this regard.
-
-  &lt;p&gt;Which element(s) within a &lt;a href=&quot;#top-level&quot;&gt;top-level browsing
-   context&lt;/a&gt; currently has focus must be independent of whether or not the
-   &lt;a href=&quot;#top-level&quot;&gt;top-level browsing context&lt;/a&gt; itself has the
-   &lt;em&gt;system focus&lt;/em&gt;.
-
-  &lt;h5 id=focus-management&gt;&lt;span class=secno&gt;3.5.2.1. &lt;/span&gt;Focus management&lt;/h5&gt;
-
-  &lt;p&gt;The &lt;dfn id=focusing&gt;focusing steps&lt;/dfn&gt; are as follows:
-
-  &lt;ol&gt;
-   &lt;li&gt;
-    &lt;p&gt;If focusing the element will remove the focus from another element,
-     then run the &lt;a href=&quot;#unfocusing&quot;&gt;unfocusing steps&lt;/a&gt; for that
-     element.
-
-   &lt;li&gt;
-    &lt;p&gt;Make the element the currently focused element in its &lt;a
-     href=&quot;#top-level&quot;&gt;top-level browsing context&lt;/a&gt;.&lt;/p&gt;
-
-    &lt;p&gt;Some elements, most notably &lt;code&gt;&lt;a href=&quot;#area&quot;&gt;area&lt;/a&gt;&lt;/code&gt;, can
-     correspond to more than one distinct focusable area. If a particular
-     area was indicated when the element was focused, then that is the area
-     that must get focus; otherwise, e.g. when using the &lt;code
-     title=dom-focus&gt;&lt;a href=&quot;#focus0&quot;&gt;focus()&lt;/a&gt;&lt;/code&gt; method, the first
-     such region in tree order is the one that must be focused.&lt;/p&gt;
-
-   &lt;li&gt;
-    &lt;p&gt;&lt;a href=&quot;#firing2&quot;&gt;Fire a simple event&lt;/a&gt; that doesn't bubble called
-     &lt;code title=event-focus&gt;focus&lt;/code&gt; at the element.
-  &lt;/ol&gt;
-
-  &lt;p&gt;User agents must run the &lt;a href=&quot;#focusing&quot;&gt;focusing steps&lt;/a&gt; for an
-   element whenever the user moves the focus to a &lt;a
-   href=&quot;#focusable&quot;&gt;focusable&lt;/a&gt; element.
-
-  &lt;p&gt;The &lt;dfn id=unfocusing&gt;unfocusing steps&lt;/dfn&gt; are as follows:
-
-  &lt;ol&gt;&lt;!-- XXX onchange event for input controls --&gt;
-
-   &lt;li&gt;
-    &lt;p&gt;Unfocus the element.
-
-   &lt;li&gt;
-    &lt;p&gt;&lt;a href=&quot;#firing2&quot;&gt;Fire a simple event&lt;/a&gt; that doesn't bubble called
-     &lt;code title=event-blur&gt;blur&lt;/code&gt; at the element.
-  &lt;/ol&gt;
-
-  &lt;p&gt;User agents should run the &lt;a href=&quot;#unfocusing&quot;&gt;unfocusing steps&lt;/a&gt;
-   for an element whenever the user moves the focus away from any &lt;a
-   href=&quot;#focusable&quot;&gt;focusable&lt;/a&gt; element.
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn id=focus0 title=dom-focus&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method,
-   when invoked, must run the following algorithm:
-
-  &lt;ol&gt;
-   &lt;li&gt;
-    &lt;p&gt;If the element is marked as &lt;i&gt;&lt;a href=&quot;#locked&quot;&gt;locked for
-     focus&lt;/a&gt;&lt;/i&gt;, then abort these steps.
-
-   &lt;li&gt;
-    &lt;p&gt;If the element is not &lt;a href=&quot;#focusable&quot;&gt;focusable&lt;/a&gt;, then abort
-     these steps.
-
-   &lt;li&gt;
-    &lt;p&gt;Mark the element as &lt;dfn id=locked&gt;locked for focus&lt;/dfn&gt;.
-
-   &lt;li&gt;
-    &lt;p&gt;If the element is not already focused, run the &lt;a
-     href=&quot;#focusing&quot;&gt;focusing steps&lt;/a&gt; for the element.
-
-   &lt;li&gt;
-    &lt;p&gt;Unmark the element as &lt;i&gt;&lt;a href=&quot;#locked&quot;&gt;locked for focus&lt;/a&gt;&lt;/i&gt;.
-  &lt;/ol&gt;
-
-  &lt;p&gt;The &lt;dfn id=blur title=dom-blur&gt;&lt;code&gt;blur()&lt;/code&gt;&lt;/dfn&gt; method, when
-   invoked, should run the &lt;a href=&quot;#unfocusing&quot;&gt;unfocusing steps&lt;/a&gt; for the
-   element. User agents may selectively or uniformly ignore calls to this
-   method for usability reasons.&lt;/p&gt;
-  &lt;!-- XXX define onfocus/onblur behaviour for Window --&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn id=activeelement
-   title=dom-document-activeElement&gt;&lt;code&gt;activeElement&lt;/code&gt;&lt;/dfn&gt;
-   attribute must return the element in the document that is focused. If no
-   element in the &lt;code&gt;Document&lt;/code&gt; is focused, this must return &lt;a
-   href=&quot;#the-body1&quot;&gt;the &lt;code&gt;body&lt;/code&gt; element&lt;/a&gt;.
-
-  &lt;p&gt;The &lt;dfn id=hasfocus
-   title=dom-document-hasFocus&gt;&lt;code&gt;hasFocus()&lt;/code&gt;&lt;/dfn&gt; method must
-   return true if the document, one of its nested &lt;a href=&quot;#browsing1&quot;
-   title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt;, or any element in the
-   document or its browsing contexts currently has the system focus.
-
-  &lt;h5 id=sequential&gt;&lt;span class=secno&gt;3.5.2.2. &lt;/span&gt;Sequential focus
-   navigation&lt;/h5&gt;
-
-  &lt;p&gt;The &lt;dfn id=tabindex title=attr-tabindex&gt;&lt;code&gt;tabindex&lt;/code&gt;&lt;/dfn&gt;
-   content attribute specifies whether the element is focusable, whether it
-   can be reached using sequential focus navigation, and the relative order
-   of the element for the purposes of sequential focus navigation. The name
-   &quot;tab index&quot; comes from the common use of the &quot;tab&quot; key to navigate through
-   the focusable elements. The term &quot;tabbing&quot; refers to moving forward
-   through the focusable elements that can be reached using sequential focus
-   navigation.
-
-  &lt;p&gt;The &lt;code title=attr-tabindex&gt;&lt;a href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt;
-   attribute, if specified, must have a value that is a &lt;a
-   href=&quot;#valid0&quot;&gt;valid integer&lt;/a&gt;.
-
-  &lt;p&gt;If the attribute is specified, it must be parsed using the &lt;a
-   href=&quot;#rules0&quot;&gt;rules for parsing integers&lt;/a&gt;. The attribute's values have
-   the following meanings:
-
-  &lt;dl&gt;
-   &lt;dt&gt;If the attribute is omitted or parsing the value returns an error
-
-   &lt;dd&gt;
-    &lt;p&gt;The user agent should follow platform conventions to determine if the
-     element is to be focusable and, if so, whether the element can be
-     reached using sequential focus navigation, and if so, what its relative
-     order should be.&lt;/p&gt;
-
-   &lt;dt id=negative-tabindex&gt;If the value is a negative integer
-
-   &lt;dd&gt;
-    &lt;p&gt;The user agent must allow the element to be focused, but should not
-     allow the element to be reached using sequential focus navigation.&lt;/p&gt;
-
-   &lt;dt&gt;If the value is a zero
-
-   &lt;dd&gt;
-    &lt;p&gt;The user agent must allow the element to be focused, should allow the
-     element to be reached using sequential focus navigation, and should
-     follow platform conventions to determine the element's relative order.&lt;/p&gt;
-
-   &lt;dt&gt;If the value is greater than zero
-
-   &lt;dd&gt;
-    &lt;p&gt;The user agent must allow the element to be focused, should allow the
-     element to be reached using sequential focus navigation, and should
-     place the element in the sequential focus navigation order so that it
-     is:&lt;/p&gt;
-
-    &lt;ul&gt;
-     &lt;li&gt;before any focusable element whose &lt;code title=attr-tabindex&gt;&lt;a
-      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has been omitted or
-      whose value, when parsed, returns an error,
-
-     &lt;li&gt;before any focusable element whose &lt;code title=attr-tabindex&gt;&lt;a
-      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value equal to or
-      less than zero,
-
-     &lt;li&gt;after any element whose &lt;code title=attr-tabindex&gt;&lt;a
-      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value greater than
-      zero but less than the value of the &lt;code title=attr-tabindex&gt;&lt;a
-      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on the element,
-
-     &lt;li&gt;after any element whose &lt;code title=attr-tabindex&gt;&lt;a
-      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value equal to the
-      value of the &lt;code title=attr-tabindex&gt;&lt;a
-      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on the element but that
-      is earlier in the document in &lt;a href=&quot;#tree-order&quot;&gt;tree order&lt;/a&gt; than
-      the element,
-
-     &lt;li&gt;before any element whose &lt;code title=attr-tabindex&gt;&lt;a
-      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value equal to the
-      value of the &lt;code title=attr-tabindex&gt;&lt;a
-      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on the element but that
-      is later in the document in &lt;a href=&quot;#tree-order&quot;&gt;tree order&lt;/a&gt; than
-      the element, and
-
-     &lt;li&gt;before any element whose &lt;code title=attr-tabindex&gt;&lt;a
-      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value greater than
-      the value of the &lt;code title=attr-tabindex&gt;&lt;a
-      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on the element.
-    &lt;/ul&gt;
-  &lt;/dl&gt;
-
-  &lt;p&gt;An element is &lt;dfn id=focusable&gt;focusable&lt;/dfn&gt; if the &lt;code
-   title=attr-tabindex&gt;&lt;a href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute's
-   definition above defines the element to be focusable &lt;em&gt;and&lt;/em&gt; the
-   element is &lt;span&gt;being
-   rendered&lt;/span&gt;&lt;!-- XXX xref, define display:none as not
-  being rendered, off-screen as being rendered? --&gt;.
-
-  &lt;p&gt;When an element is focused, the element matches the CSS
-   &lt;code&gt;:focus&lt;/code&gt; pseudo-class and key events are dispatched on that
-   element in response to keyboard input.
-
-  &lt;p&gt;The &lt;dfn id=tabindex0 title=dom-tabIndex&gt;&lt;code&gt;tabIndex&lt;/code&gt;&lt;/dfn&gt; DOM
-   attribute must &lt;a href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the value of the &lt;code
-   title=attr-tabIndex&gt;&lt;a href=&quot;#tabindex&quot;&gt;tabIndex&lt;/a&gt;&lt;/code&gt; content
-   attribute. If the attribute is not present, or parsing its value returns
-   an error, then the DOM attribute must return 0 for elements that are
-   focusable and &amp;#x2212;1 for elements that are not focusable.&lt;/p&gt;
-  &lt;!--XXX
-  &lt;h5&gt;The &lt;dfn&gt;&lt;code&gt;DocumentFocus&lt;/code&gt;&lt;/dfn&gt; interface&lt;/h5&gt;
-
-  &lt;p&gt;The &lt;code&gt;DocumentFocus&lt;/code&gt; interface contains methods for
-  moving focus around the document. It can be obtained from objects
-  that implement the &lt;code&gt;Document&lt;/code&gt; interface using
-  binding-specific casting methods.&lt;/p&gt;
-
-  &lt;p class=&quot;big-issue&quot;&gt;Actually even better would be to just mix it
-  straight into those interfaces somehow.&lt;/p&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;[NoInterfaceObject] interface &lt;dfn&gt;DocumentFocus&lt;/dfn&gt; {
-  void moveFocusForward();
-  void moveFocusBackward();
-  void moveFocusUp();
-  void moveFocusRight();
-  void moveFocusDown();
-  void moveFocusLeft();
-};&lt;/pre&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;currentFocus&lt;/code&gt;&lt;/dfn&gt; attribute returns the
-  element to which key events will be sent when the document receives
-  key events.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;moveFocusForward&lt;/code&gt;&lt;/dfn&gt; method uses the
-  &lt;code&gt;'nav-index'&lt;/code&gt; property and the &lt;code
-  title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute to find the next
-  focusable element and focuses it.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;moveFocusBackward&lt;/code&gt;&lt;/dfn&gt; method uses the
-  &lt;code&gt;'nav-index'&lt;/code&gt; property and the &lt;code
-  title=&quot;attr-tabindex&gt;tabindex&lt;/code&gt; attribute to find the previous
-  focusable element and focuses it.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;moveFocusUp&lt;/code&gt;&lt;/dfn&gt; method uses the
-  &lt;code&gt;'nav-up'&lt;/code&gt; property and the &lt;code
-  title=&quot;attr-tabindex&gt;tabindex&lt;/code&gt; attribute to find an
-  appropriate focusable element and focuses it.&lt;/p&gt;
-
-  &lt;p&gt;In a similar manner, the &lt;dfn&gt;&lt;code&gt;moveFocusRight&lt;/code&gt;&lt;/dfn&gt;,
-  &lt;dfn&gt;&lt;code&gt;moveFocusDown&lt;/code&gt;&lt;/dfn&gt;, and
-  &lt;dfn&gt;&lt;code&gt;moveFocusLeft&lt;/code&gt;&lt;/dfn&gt; methods use the
-  &lt;code&gt;'nav-right'&lt;/code&gt;, &lt;code&gt;'nav-down'&lt;/code&gt;, and
-  &lt;code&gt;'nav-left'&lt;/code&gt; properties (respectively), and the &lt;code
-  title=&quot;attr-tabindex&gt;tabindex&lt;/code&gt; attribute, to find an
-  appropriate focusable element and focus it.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;code&gt;'nav-index'&lt;/code&gt;, &lt;code&gt;'nav-up'&lt;/code&gt;,
-  &lt;code&gt;'nav-right'&lt;/code&gt;, &lt;code&gt;'nav-down'&lt;/code&gt;, and
-  &lt;code&gt;'nav-left'&lt;/code&gt; properties are defined in &lt;a
-  href=&quot;#refsCSS3UI&quot;&gt;[CSS3UI]&lt;/a&gt;.&lt;/p&gt;
-
-Other things to look at are IE's focus APIs (document.activeElement,
-document.hasFocus, HTMLElement.setActive(), onBeforeActivate,
-onActivate, onBeforeDeactivate, onDeactivate, document.hasFocus):
-   <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=296471">https://bugzilla.mozilla.org/show_bug.cgi?id=296471</A>
-   <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=296469">https://bugzilla.mozilla.org/show_bug.cgi?id=296469</A>
-   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/activeelement.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/activeelement.asp</A>
-   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/setactive.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/setactive.asp</A>
-   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onbeforeactivate.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onbeforeactivate.asp</A>
-   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/focus.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/focus.asp</A>
---&gt;
-
-  &lt;h4 id=scrolling&gt;&lt;span class=secno&gt;3.5.3 &lt;/span&gt;Scrolling elements into
-   view&lt;/h4&gt;
-
-  &lt;p&gt;The &lt;dfn id=scrollintoview
-   title=dom-scrollIntoView&gt;&lt;code&gt;scrollIntoView([&lt;var
-   title=&quot;&quot;&gt;top&lt;/var&gt;])&lt;/code&gt;&lt;/dfn&gt; method, when called, must cause the
-   element on which the method was called to have the attention of the user
-   called to it.
-
-  &lt;p class=note&gt;In a speech browser, this could happen by having the current
-   playback position move to the start of the given element.
-
-  &lt;p&gt;In visual user agents, if the argument is present and has the value
-   false, the user agent should scroll the element into view such that both
-   the bottom and the top of the element are in the viewport, with the bottom
-   of the element aligned with the bottom of the viewport. If it isn't
-   possible to show the entire element in that way, or if the argument is
-   omitted or is true, then the user agent should instead align the top of
-   the element with the top of the viewport. Visual user agents should
-   further scroll horizontally as necessary to bring the element to the
-   attention of the user.
-
-  &lt;p&gt;Non-visual user agents may ignore the argument, or may treat it in some
-   media-specific manner most useful to the user.&lt;/p&gt;
-  &lt;!-- XXX maybe this should move to CSSOM --&gt;
-
-  &lt;h3 id=the-root&gt;&lt;span class=secno&gt;3.6 &lt;/span&gt;The root element&lt;/h3&gt;
-
-  &lt;h4 id=the-html&gt;&lt;span class=secno&gt;3.6.1 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-html&gt;&lt;span class=secno&gt;3.5.1 &lt;/span&gt;The &lt;dfn
    id=html&gt;&lt;code&gt;html&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -7643,9 +7258,9 @@
    href=&quot;#manifest&quot;&gt;manifest&lt;/a&gt;&lt;/code&gt; attributes, as the attributes are
    processed before those elements are seen.
 
-  &lt;h3 id=document&gt;&lt;span class=secno&gt;3.7 &lt;/span&gt;Document metadata&lt;/h3&gt;
+  &lt;h3 id=document&gt;&lt;span class=secno&gt;3.6 &lt;/span&gt;Document metadata&lt;/h3&gt;
 
-  &lt;h4 id=the-head&gt;&lt;span class=secno&gt;3.7.1 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-head&gt;&lt;span class=secno&gt;3.6.1 &lt;/span&gt;The &lt;dfn
    id=head&gt;&lt;code&gt;head&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -7675,7 +7290,7 @@
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element collects the
    document's metadata.
 
-  &lt;h4 id=the-title0&gt;&lt;span class=secno&gt;3.7.2 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-title0&gt;&lt;span class=secno&gt;3.6.2 &lt;/span&gt;The &lt;dfn
    id=title1&gt;&lt;code&gt;title&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -7741,7 +7356,7 @@
    agents should use the document's title when referring to the document in
    their user interface.
 
-  &lt;h4 id=the-base&gt;&lt;span class=secno&gt;3.7.3 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-base&gt;&lt;span class=secno&gt;3.6.3 &lt;/span&gt;The &lt;dfn
    id=base&gt;&lt;code&gt;base&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -7836,7 +7451,7 @@
    must &lt;a href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the content attributes of the same
    name.
 
-  &lt;h4 id=the-link&gt;&lt;span class=secno&gt;3.7.4 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-link&gt;&lt;span class=secno&gt;3.6.4 &lt;/span&gt;The &lt;dfn
    id=link&gt;&lt;code&gt;link&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -8113,7 +7728,7 @@
   &lt;!-- that is
   normatively required in the definition of dom-linkstyle-disabled --&gt;
 
-  &lt;h4 id=meta&gt;&lt;span class=secno&gt;3.7.5 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=meta&gt;&lt;span class=secno&gt;3.6.5 &lt;/span&gt;The &lt;dfn
    id=meta0&gt;&lt;code&gt;meta&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -8252,7 +7867,7 @@
    href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the content attribute &lt;code
    title=attr-meta-http-equiv&gt;&lt;a href=&quot;#http-equiv0&quot;&gt;http-equiv&lt;/a&gt;&lt;/code&gt;.
 
-  &lt;h5 id=standard&gt;&lt;span class=secno&gt;3.7.5.1. &lt;/span&gt;Standard metadata names&lt;/h5&gt;
+  &lt;h5 id=standard&gt;&lt;span class=secno&gt;3.6.5.1. &lt;/span&gt;Standard metadata names&lt;/h5&gt;
 
   &lt;p&gt;This specification defines a few names for the &lt;code
    title=attr-meta-name&gt;&lt;a href=&quot;#name&quot;&gt;name&lt;/a&gt;&lt;/code&gt; attribute of the
@@ -8288,7 +7903,7 @@
      pages.
   &lt;/dl&gt;
 
-  &lt;h5 id=other&gt;&lt;span class=secno&gt;3.7.5.2. &lt;/span&gt;Other metadata names&lt;/h5&gt;
+  &lt;h5 id=other&gt;&lt;span class=secno&gt;3.6.5.2. &lt;/span&gt;Other metadata names&lt;/h5&gt;
 
   &lt;p&gt;&lt;dfn id=extensions title=concept-meta-extensions&gt;Extensions to the
    predefined set of metadata names&lt;/dfn&gt; may be registered in the &lt;a
@@ -8371,7 +7986,7 @@
    href=&quot;#link&quot;&gt;link&lt;/a&gt;&lt;/code&gt; element, not the &lt;code&gt;&lt;a
    href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt; element.
 
-  &lt;h5 id=pragma&gt;&lt;span class=secno&gt;3.7.5.3. &lt;/span&gt;Pragma directives&lt;/h5&gt;
+  &lt;h5 id=pragma&gt;&lt;span class=secno&gt;3.6.5.3. &lt;/span&gt;Pragma directives&lt;/h5&gt;
 
   &lt;p&gt;When the &lt;dfn id=http-equiv
    title=attr-meta-http-equiv&gt;&lt;code&gt;http-equiv&lt;/code&gt;&lt;/dfn&gt; attribute is
@@ -8685,7 +8300,7 @@
   &lt;p&gt;There must not be more than one &lt;code&gt;&lt;a href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt;
    element with any particular state in the document at a time.
 
-  &lt;h5 id=charset&gt;&lt;span class=secno&gt;3.7.5.4. &lt;/span&gt;Specifying the document's
+  &lt;h5 id=charset&gt;&lt;span class=secno&gt;3.6.5.4. &lt;/span&gt;Specifying the document's
    character encoding&lt;/h5&gt;
   &lt;!-- XXX maybe the rest should move to &quot;writing html&quot; section,
   though if we do then we have to duplicate the requirements in the
@@ -8752,7 +8367,7 @@
   &lt;p&gt;In XHTML, the XML declaration should be used for inline character
    encoding information, if necessary.
 
-  &lt;h4 id=the-style0&gt;&lt;span class=secno&gt;3.7.6 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-style0&gt;&lt;span class=secno&gt;3.6.6 &lt;/span&gt;The &lt;dfn
    id=style1&gt;&lt;code&gt;style&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -8898,7 +8513,7 @@
    defined &lt;a href=&quot;#disabled1&quot; title=dom-linkstyle-disabled&gt;for the
    alternative style sheets DOM&lt;/a&gt;.
 
-  &lt;h4 id=styling&gt;&lt;span class=secno&gt;3.7.7 &lt;/span&gt;&lt;dfn id=styling0
+  &lt;h4 id=styling&gt;&lt;span class=secno&gt;3.6.7 &lt;/span&gt;&lt;dfn id=styling0
    title=&quot;styling processing model&quot;&gt;Styling&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#link&quot;&gt;link&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a
@@ -8984,7 +8599,7 @@
   .styleSheets, HTTP Link: headers, and the stuff about the alternative
   stylesheet API.&lt;/p&gt; XXX that will all be covered by Anne's spec --&gt;
 
-  &lt;h3 id=sections&gt;&lt;span class=secno&gt;3.8 &lt;/span&gt;Sections&lt;/h3&gt;
+  &lt;h3 id=sections&gt;&lt;span class=secno&gt;3.7 &lt;/span&gt;Sections&lt;/h3&gt;
 
   &lt;p id=applyToSection&gt;Some elements, for example &lt;code&gt;&lt;a
    href=&quot;#address&quot;&gt;address&lt;/a&gt;&lt;/code&gt; elements, are scoped to their nearest
@@ -8995,7 +8610,7 @@
    href=&quot;#sectioning0&quot;&gt;sectioning content&lt;/a&gt; ancestor is &lt;var
    title=&quot;&quot;&gt;e&lt;/var&gt;.
 
-  &lt;h4 id=the-body&gt;&lt;span class=secno&gt;3.8.1 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-body&gt;&lt;span class=secno&gt;3.7.1 &lt;/span&gt;The &lt;dfn
    id=body0&gt;&lt;code&gt;body&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -9038,7 +8653,7 @@
    element in the DOM, as per the definition of the term, and not any
    arbitrary &lt;code&gt;&lt;a href=&quot;#body0&quot;&gt;body&lt;/a&gt;&lt;/code&gt; element.
 
-  &lt;h4 id=the-section&gt;&lt;span class=secno&gt;3.8.2 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-section&gt;&lt;span class=secno&gt;3.7.2 &lt;/span&gt;The &lt;dfn
    id=section&gt;&lt;code&gt;section&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -9075,7 +8690,7 @@
    site's home page could be split into sections for an introduction, news
    items, contact information.
 
-  &lt;h4 id=the-nav&gt;&lt;span class=secno&gt;3.8.3 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-nav&gt;&lt;span class=secno&gt;3.7.3 &lt;/span&gt;The &lt;dfn
    id=nav&gt;&lt;code&gt;nav&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -9143,7 +8758,7 @@
 &lt;/body&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-article&gt;&lt;span class=secno&gt;3.8.4 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-article&gt;&lt;span class=secno&gt;3.7.4 &lt;/span&gt;The &lt;dfn
    id=article&gt;&lt;code&gt;article&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -9203,7 +8818,7 @@
    href=&quot;#address&quot;&gt;address&lt;/a&gt;&lt;/code&gt; element) does not apply to nested
    &lt;code&gt;&lt;a href=&quot;#article&quot;&gt;article&lt;/a&gt;&lt;/code&gt; elements.
 
-  &lt;h4 id=the-aside&gt;&lt;span class=secno&gt;3.8.5 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-aside&gt;&lt;span class=secno&gt;3.7.5 &lt;/span&gt;The &lt;dfn
    id=aside&gt;&lt;code&gt;aside&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -9273,7 +8888,7 @@
 ...&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-h1&gt;&lt;span class=secno&gt;3.8.6 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-h1&gt;&lt;span class=secno&gt;3.7.6 &lt;/span&gt;The &lt;dfn
    id=h1&gt;&lt;code&gt;h1&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=h2&gt;&lt;code&gt;h2&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn
    id=h3&gt;&lt;code&gt;h3&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn id=h4&gt;&lt;code&gt;h4&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn
    id=h5&gt;&lt;code&gt;h5&lt;/code&gt;&lt;/dfn&gt;, and &lt;dfn id=h6&gt;&lt;code&gt;h6&lt;/code&gt;&lt;/dfn&gt; elements&lt;/h4&gt;
@@ -9312,7 +8927,7 @@
    the highest rank, the &lt;code&gt;&lt;a href=&quot;#h6&quot;&gt;h6&lt;/a&gt;&lt;/code&gt; element has the
    lowest rank, and two elements with the same name have equal rank.
 
-  &lt;h4 id=the-header&gt;&lt;span class=secno&gt;3.8.7 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-header&gt;&lt;span class=secno&gt;3.7.7 &lt;/span&gt;The &lt;dfn
    id=header&gt;&lt;code&gt;header&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -9411,7 +9026,7 @@
 &lt;/header&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-footer&gt;&lt;span class=secno&gt;3.8.8 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-footer&gt;&lt;span class=secno&gt;3.7.8 &lt;/span&gt;The &lt;dfn
    id=footer&gt;&lt;code&gt;footer&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -9469,7 +9084,7 @@
 &lt;/body&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-address&gt;&lt;span class=secno&gt;3.8.9 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-address&gt;&lt;span class=secno&gt;3.7.9 &lt;/span&gt;The &lt;dfn
    id=address&gt;&lt;code&gt;address&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -9552,7 +9167,7 @@
    element, does not apply to its ancestor elements, e.g. the page's &lt;code&gt;&lt;a
    href=&quot;#body0&quot;&gt;body&lt;/a&gt;&lt;/code&gt;.
 
-  &lt;h4 id=headings&gt;&lt;span class=secno&gt;3.8.10 &lt;/span&gt;&lt;dfn id=headings0&gt;Headings
+  &lt;h4 id=headings&gt;&lt;span class=secno&gt;3.7.10 &lt;/span&gt;&lt;dfn id=headings0&gt;Headings
    and sections&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#h1&quot;&gt;h1&lt;/a&gt;&lt;/code&gt;&ndash;&lt;code&gt;&lt;a
@@ -9664,7 +9279,7 @@
     produce the same outline in compliant user agents.&lt;/p&gt;
   &lt;/div&gt;
 
-  &lt;h5 id=outlines&gt;&lt;span class=secno&gt;3.8.10.1. &lt;/span&gt;Creating an outline&lt;/h5&gt;
+  &lt;h5 id=outlines&gt;&lt;span class=secno&gt;3.7.10.1. &lt;/span&gt;Creating an outline&lt;/h5&gt;
 
   &lt;p&gt;This section defines an algorithm for creating an &lt;dfn
    id=outline&gt;outline&lt;/dfn&gt; for a &lt;a href=&quot;#sectioning0&quot;&gt;sectioning
@@ -9920,7 +9535,7 @@
 }&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h5 id=distinguishing&gt;&lt;span class=secno&gt;3.8.10.2. &lt;/span&gt;Distinguishing
+  &lt;h5 id=distinguishing&gt;&lt;span class=secno&gt;3.7.10.2. &lt;/span&gt;Distinguishing
    site-wide headings from page headings&lt;/h5&gt;
 
   &lt;p&gt;Given the &lt;a href=&quot;#outline&quot;&gt;outline&lt;/a&gt; of a document, but ignoring any
@@ -9961,10 +9576,10 @@
    original single page becomes the heading of the site, repeated on every
    page.
 
-  &lt;h3 id=grouping&gt;&lt;span class=secno&gt;3.9 &lt;/span&gt;Grouping content&lt;/h3&gt;
+  &lt;h3 id=grouping&gt;&lt;span class=secno&gt;3.8 &lt;/span&gt;Grouping content&lt;/h3&gt;
   &lt;!-- XXX ew, find a better section name --&gt;
 
-  &lt;h4 id=the-p&gt;&lt;span class=secno&gt;3.9.1 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-p&gt;&lt;span class=secno&gt;3.8.1 &lt;/span&gt;The &lt;dfn
    id=p&gt;&lt;code&gt;p&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -10046,7 +9661,7 @@
 &lt;/section&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-hr&gt;&lt;span class=secno&gt;3.9.2 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-hr&gt;&lt;span class=secno&gt;3.8.2 &lt;/span&gt;The &lt;dfn
    id=hr&gt;&lt;code&gt;hr&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -10076,7 +9691,7 @@
    in a story, or a transition to another topic within a section of a
    reference book.
 
-  &lt;h4 id=the-br&gt;&lt;span class=secno&gt;3.9.3 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-br&gt;&lt;span class=secno&gt;3.8.3 &lt;/span&gt;The &lt;dfn
    id=br&gt;&lt;code&gt;br&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -10151,7 +9766,7 @@
   content shouldn't go over the wire, though. We need to make it
   illegal while still defining what it means. Maybe. --&gt;
 
-  &lt;h4 id=the-pre&gt;&lt;span class=secno&gt;3.9.4 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-pre&gt;&lt;span class=secno&gt;3.8.4 &lt;/span&gt;The &lt;dfn
    id=pre&gt;&lt;code&gt;pre&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -10257,7 +9872,7 @@
 ~cdr 11dec07&lt;/pre&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-dialog&gt;&lt;span class=secno&gt;3.9.5 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-dialog&gt;&lt;span class=secno&gt;3.8.5 &lt;/span&gt;The &lt;dfn
    id=dialog&gt;&lt;code&gt;dialog&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -10324,7 +9939,7 @@
    and &lt;code&gt;&lt;a href=&quot;#blockquote&quot;&gt;blockquote&lt;/a&gt;&lt;/code&gt; elements for other
    ways to cite or quote.
 
-  &lt;h4 id=the-blockquote&gt;&lt;span class=secno&gt;3.9.6 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-blockquote&gt;&lt;span class=secno&gt;3.8.6 &lt;/span&gt;The &lt;dfn
    id=blockquote&gt;&lt;code&gt;blockquote&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -10391,7 +10006,7 @@
    href=&quot;#blockquote&quot;&gt;blockquote&lt;/a&gt;&lt;/code&gt; elements, but with the &lt;code&gt;&lt;a
    href=&quot;#dialog&quot;&gt;dialog&lt;/a&gt;&lt;/code&gt; element.
 
-  &lt;h4 id=the-ol&gt;&lt;span class=secno&gt;3.9.7 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-ol&gt;&lt;span class=secno&gt;3.8.7 &lt;/span&gt;The &lt;dfn
    id=ol&gt;&lt;code&gt;ol&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -10507,7 +10122,7 @@
 &lt;/ol&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-ul&gt;&lt;span class=secno&gt;3.9.8 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-ul&gt;&lt;span class=secno&gt;3.8.8 &lt;/span&gt;The &lt;dfn
    id=ul&gt;&lt;code&gt;ul&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -10573,7 +10188,7 @@
 &lt;/ul&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-li&gt;&lt;span class=secno&gt;3.9.9 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-li&gt;&lt;span class=secno&gt;3.8.9 &lt;/span&gt;The &lt;dfn
    id=li&gt;&lt;code&gt;li&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -10687,7 +10302,7 @@
 &lt;/figure&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-dl&gt;&lt;span class=secno&gt;3.9.10 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-dl&gt;&lt;span class=secno&gt;3.8.10 &lt;/span&gt;The &lt;dfn
    id=dl&gt;&lt;code&gt;dl&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -10848,7 +10463,7 @@
    speaker/line pair comes after the next). For an example of how to mark up
    dialogue, see the &lt;code&gt;&lt;a href=&quot;#dialog&quot;&gt;dialog&lt;/a&gt;&lt;/code&gt; element.
 
-  &lt;h4 id=the-dt&gt;&lt;span class=secno&gt;3.9.11 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-dt&gt;&lt;span class=secno&gt;3.8.11 &lt;/span&gt;The &lt;dfn
    id=dt&gt;&lt;code&gt;dt&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -10912,7 +10527,7 @@
 &lt;/dialog&gt;&lt;/pre&gt;
    &lt;!-- with thanks to <A HREF="http://bash.org/?854262">http://bash.org/?854262</A> --&gt;&lt;/div&gt;
 
-  &lt;h4 id=the-dd&gt;&lt;span class=secno&gt;3.9.12 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-dd&gt;&lt;span class=secno&gt;3.8.12 &lt;/span&gt;The &lt;dfn
    id=dd&gt;&lt;code&gt;dd&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -10948,10 +10563,10 @@
    discourse, or quote, part in a conversation (&lt;code&gt;&lt;a
    href=&quot;#dialog&quot;&gt;dialog&lt;/a&gt;&lt;/code&gt; element).
 
-  &lt;h3 id=text-level&gt;&lt;span class=secno&gt;3.10 &lt;/span&gt;Text-level semantics&lt;/h3&gt;
+  &lt;h3 id=text-level&gt;&lt;span class=secno&gt;3.9 &lt;/span&gt;Text-level semantics&lt;/h3&gt;
   &lt;!-- XXX ew, find a better section name --&gt;
 
-  &lt;h4 id=the-a&gt;&lt;span class=secno&gt;3.10.1 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-a&gt;&lt;span class=secno&gt;3.9.1 &lt;/span&gt;The &lt;dfn
    id=a&gt;&lt;code&gt;a&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -11062,7 +10677,7 @@
    &lt;li&gt;
     &lt;p&gt;If the &lt;code title=event-DOMActivate&gt;DOMActivate&lt;/code&gt; event in
      question is not &lt;span title=concept-events-trusted&gt;trusted&lt;/span&gt; (i.e.
-     a &lt;code title=dom-click&gt;&lt;a href=&quot;#click&quot;&gt;click()&lt;/a&gt;&lt;/code&gt; method call
+     a &lt;code title=dom-click&gt;&lt;a href=&quot;#click1&quot;&gt;click()&lt;/a&gt;&lt;/code&gt; method call
      was the reason for the event being dispatched), and the &lt;code&gt;&lt;a
      href=&quot;#a&quot;&gt;a&lt;/a&gt;&lt;/code&gt; element's &lt;code title=attr-hyperlink-target&gt;&lt;a
      href=&quot;#target3&quot;&gt;target&lt;/a&gt;&lt;/code&gt; attribute is &lt;span
@@ -11124,7 +10739,7 @@
    href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the &lt;code title=attr-hyperlink-rel&gt;&lt;a
    href=&quot;#rel3&quot;&gt;rel&lt;/a&gt;&lt;/code&gt; content attribute.
 
-  &lt;h4 id=the-q&gt;&lt;span class=secno&gt;3.10.2 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-q&gt;&lt;span class=secno&gt;3.9.2 &lt;/span&gt;The &lt;dfn
    id=q&gt;&lt;code&gt;q&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -11206,7 +10821,7 @@
    &lt;pre&gt;&lt;p&gt;His best argument: &lt;q&gt;I disagree!&lt;/q&gt;&lt;/p&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-cite&gt;&lt;span class=secno&gt;3.10.3 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-cite&gt;&lt;span class=secno&gt;3.9.3 &lt;/span&gt;The &lt;dfn
    id=cite2&gt;&lt;code&gt;cite&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -11332,7 +10947,7 @@
   ...&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-em&gt;&lt;span class=secno&gt;3.10.4 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-em&gt;&lt;span class=secno&gt;3.9.4 &lt;/span&gt;The &lt;dfn
    id=em&gt;&lt;code&gt;em&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -11411,7 +11026,7 @@
 
   --&gt;
 
-  &lt;h4 id=the-strong&gt;&lt;span class=secno&gt;3.10.5 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-strong&gt;&lt;span class=secno&gt;3.9.5 &lt;/span&gt;The &lt;dfn
    id=strong&gt;&lt;code&gt;strong&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -11459,7 +11074,7 @@
 ten meters.&lt;/strong&gt;&lt;/strong&gt; You have been warned.&lt;/p&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-small&gt;&lt;span class=secno&gt;3.10.6 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-small&gt;&lt;span class=secno&gt;3.9.6 &lt;/span&gt;The &lt;dfn
    id=small&gt;&lt;code&gt;small&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -11519,7 +11134,7 @@
    &lt;pre&gt;&lt;p&gt;&lt;strong&gt;&lt;small&gt;Continued use of this service will result in a kiss.&lt;/small&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-mark&gt;&lt;span class=secno&gt;3.10.7 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-mark&gt;&lt;span class=secno&gt;3.9.7 &lt;/span&gt;The &lt;dfn
    id=mark&gt;&lt;code&gt;mark&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -11666,7 +11281,7 @@
 wormhole connection.&lt;/mark&gt;&lt;/p&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-dfn&gt;&lt;span class=secno&gt;3.10.8 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-dfn&gt;&lt;span class=secno&gt;3.9.8 &lt;/span&gt;The &lt;dfn
    id=dfn&gt;&lt;code&gt;dfn&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -11763,7 +11378,7 @@
 - mpt
 --&gt;
 
-  &lt;h4 id=the-abbr&gt;&lt;span class=secno&gt;3.10.9 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-abbr&gt;&lt;span class=secno&gt;3.9.9 &lt;/span&gt;The &lt;dfn
    id=abbr&gt;&lt;code&gt;abbr&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -11855,7 +11470,7 @@
 &lt;abbr&gt;HTMLWG&lt;/abbr&gt;.&lt;/p&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-time&gt;&lt;span class=secno&gt;3.10.10 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-time&gt;&lt;span class=secno&gt;3.9.10 &lt;/span&gt;The &lt;dfn
    id=time&gt;&lt;code&gt;time&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -12005,7 +11620,7 @@
    for marking event dates in hCalendar markup. Thus the DOM APIs are likely
    to be used as ways to generate interactive calendar widgets or some such.
 
-  &lt;h4 id=the-progress&gt;&lt;span class=secno&gt;3.10.11 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-progress&gt;&lt;span class=secno&gt;3.9.11 &lt;/span&gt;The &lt;dfn
    id=progress&gt;&lt;code&gt;progress&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -12197,7 +11812,7 @@
    attribute must return &amp;#x2212;1. Otherwise, it must return the result of
    dividing the current value by the maximum value.
 
-  &lt;h4 id=the-meter&gt;&lt;span class=secno&gt;3.10.12 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-meter&gt;&lt;span class=secno&gt;3.9.12 &lt;/span&gt;The &lt;dfn
    id=meter&gt;&lt;code&gt;meter&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
   &lt;!-- Keep this after &lt;progress&gt; and NOT close to &lt;time&gt; --&gt;
 
@@ -12594,7 +12209,7 @@
 should we make the contents accessible in some way, e.g. as a tooltip?
 --&gt;
 
-  &lt;h4 id=the-code&gt;&lt;span class=secno&gt;3.10.13 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-code&gt;&lt;span class=secno&gt;3.9.13 &lt;/span&gt;The &lt;dfn
    id=code&gt;&lt;code&gt;code&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -12661,7 +12276,7 @@
   &lt;p class=note&gt;See the &lt;code&gt;&lt;a href=&quot;#pre&quot;&gt;pre&lt;/a&gt;&lt;/code&gt; element for more
    details.
 
-  &lt;h4 id=the-var&gt;&lt;span class=secno&gt;3.10.14 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-var&gt;&lt;span class=secno&gt;3.9.14 &lt;/span&gt;The &lt;dfn
    id=var&gt;&lt;code&gt;var&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -12700,7 +12315,7 @@
 flavours of ice cream to be available for purchase!&lt;/p&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-samp&gt;&lt;span class=secno&gt;3.10.15 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-samp&gt;&lt;span class=secno&gt;3.9.15 &lt;/span&gt;The &lt;dfn
    id=samp&gt;&lt;code&gt;samp&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -12750,7 +12365,7 @@
 &lt;samp class=&quot;prompt&quot;&gt;<A HREF="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">jdoe at demo</A>:~$&lt;/samp&gt; &lt;samp class=&quot;cursor&quot;&gt;_&lt;/samp&gt;&lt;/samp&gt;&lt;/pre&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-kbd&gt;&lt;span class=secno&gt;3.10.16 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-kbd&gt;&lt;span class=secno&gt;3.9.16 &lt;/span&gt;The &lt;dfn
    id=kbd&gt;&lt;code&gt;kbd&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -12811,7 +12426,7 @@
 &lt;/p&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-sub&gt;&lt;span class=secno&gt;3.10.17 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-sub&gt;&lt;span class=secno&gt;3.9.17 &lt;/span&gt;The &lt;dfn
    id=sub&gt;&lt;code&gt;sub&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=sup&gt;&lt;code&gt;sup&lt;/code&gt;&lt;/dfn&gt;
    elements&lt;/h4&gt;
 
@@ -12882,7 +12497,7 @@
    &lt;pre&gt;f(&lt;var&gt;x&lt;/var&gt;, &lt;var&gt;n&lt;/var&gt;) = log&lt;sub&gt;4&lt;/sub&gt;&lt;var&gt;x&lt;/var&gt;&lt;sup&gt;&lt;var&gt;n&lt;/var&gt;&lt;/sup&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-span&gt;&lt;span class=secno&gt;3.10.18 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-span&gt;&lt;span class=secno&gt;3.9.18 &lt;/span&gt;The &lt;dfn
    id=span&gt;&lt;code&gt;span&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -12927,7 +12542,7 @@
   &lt;/div&gt;
 --&gt;
 
-  &lt;h4 id=the-i&gt;&lt;span class=secno&gt;3.10.19 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-i&gt;&lt;span class=secno&gt;3.9.19 &lt;/span&gt;The &lt;dfn
    id=i&gt;&lt;code&gt;i&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -13006,7 +12621,7 @@
    restyled. Thus, it is not the case that content in &lt;code&gt;&lt;a
    href=&quot;#i&quot;&gt;i&lt;/a&gt;&lt;/code&gt; elements will necessarily be italicized.
 
-  &lt;h4 id=the-b&gt;&lt;span class=secno&gt;3.10.20 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-b&gt;&lt;span class=secno&gt;3.9.20 &lt;/span&gt;The &lt;dfn
    id=b&gt;&lt;code&gt;b&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -13093,7 +12708,7 @@
    restyled. Thus, it is not the case that content in &lt;code&gt;&lt;a
    href=&quot;#b&quot;&gt;b&lt;/a&gt;&lt;/code&gt; elements will necessarily be boldened.
 
-  &lt;h4 id=the-bdo&gt;&lt;span class=secno&gt;3.10.21 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-bdo&gt;&lt;span class=secno&gt;3.9.21 &lt;/span&gt;The &lt;dfn
    id=bdo&gt;&lt;code&gt;bdo&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -13149,7 +12764,7 @@
    &lt;a href=&quot;#refsCSS21&quot;&gt;[CSS21]&lt;/a&gt;&lt;/p&gt;
   &lt;!-- XXX need examples --&gt;
 
-  &lt;h4 id=the-ruby&gt;&lt;span class=secno&gt;3.10.22 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-ruby&gt;&lt;span class=secno&gt;3.9.22 &lt;/span&gt;The &lt;dfn
    id=ruby&gt;&lt;code&gt;ruby&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -13205,7 +12820,7 @@
     rendered in a smaller font above it.&quot; src=&quot;images/sample-ruby.png&quot;&gt;&lt;/p&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-rt&gt;&lt;span class=secno&gt;3.10.23 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-rt&gt;&lt;span class=secno&gt;3.9.23 &lt;/span&gt;The &lt;dfn
    id=rt&gt;&lt;code&gt;rt&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -13243,7 +12858,7 @@
    &lt;code&gt;&lt;a href=&quot;#ruby&quot;&gt;ruby&lt;/a&gt;&lt;/code&gt; element represents the same thing as
    its children.
 
-  &lt;h4 id=the-rp&gt;&lt;span class=secno&gt;3.10.24 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-rp&gt;&lt;span class=secno&gt;3.9.24 &lt;/span&gt;The &lt;dfn
    id=rp&gt;&lt;code&gt;rp&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -13306,14 +12921,14 @@
     lang=ja&gt;... &amp;#x658e; (&amp;#x3055;&amp;#x3044;) &amp;#x85e4; (&amp;#x3068;&amp;#x3046;) &amp;#x4fe1; (&amp;#x306e;&amp;#x3076;) &amp;#x7537; (&amp;#x304a;) ...&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=usage&gt;&lt;span class=secno&gt;3.10.25 &lt;/span&gt;Usage summary&lt;/h4&gt;
+  &lt;h4 id=usage&gt;&lt;span class=secno&gt;3.9.25 &lt;/span&gt;Usage summary&lt;/h4&gt;
 
   &lt;p class=big-issue&gt;We need to summarize the various elements, in particular
    to distinguish b/i/em/strong/var/q/mark/cite.&lt;/p&gt;
   &lt;!-- XXX when you do this, also reorder the elements in this section
   to bring the related ones closer together. --&gt;
 
-  &lt;h4 id=footnotes&gt;&lt;span class=secno&gt;3.10.26 &lt;/span&gt;Footnotes&lt;/h4&gt;
+  &lt;h4 id=footnotes&gt;&lt;span class=secno&gt;3.9.26 &lt;/span&gt;Footnotes&lt;/h4&gt;
 
   &lt;p&gt;HTML does not have a dedicated mechanism for marking up footnotes. Here
    are the recommended alternatives.
@@ -13394,12 +13009,12 @@
 &lt;/aside&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h3 id=edits&gt;&lt;span class=secno&gt;3.11 &lt;/span&gt;Edits&lt;/h3&gt;
+  &lt;h3 id=edits&gt;&lt;span class=secno&gt;3.10 &lt;/span&gt;Edits&lt;/h3&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#ins&quot;&gt;ins&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a
    href=&quot;#del&quot;&gt;del&lt;/a&gt;&lt;/code&gt; elements represent edits to the document.
 
-  &lt;h4 id=the-ins&gt;&lt;span class=secno&gt;3.11.1 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-ins&gt;&lt;span class=secno&gt;3.10.1 &lt;/span&gt;The &lt;dfn
    id=ins&gt;&lt;code&gt;ins&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -13498,7 +13113,7 @@
    something. Can you guess what? --&gt;
    &lt;/div&gt;
 
-  &lt;h4 id=the-del&gt;&lt;span class=secno&gt;3.11.2 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-del&gt;&lt;span class=secno&gt;3.10.2 &lt;/span&gt;The &lt;dfn
    id=del&gt;&lt;code&gt;del&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -13539,7 +13154,7 @@
   &lt;p&gt;&lt;code&gt;&lt;a href=&quot;#del&quot;&gt;del&lt;/a&gt;&lt;/code&gt; elements should not cross &lt;a
    href=&quot;#paragraph&quot; title=paragraph&gt;implied paragraph&lt;/a&gt; boundaries.
 
-  &lt;h4 id=attributes&gt;&lt;span class=secno&gt;3.11.3 &lt;/span&gt;Attributes common to
+  &lt;h4 id=attributes&gt;&lt;span class=secno&gt;3.10.3 &lt;/span&gt;Attributes common to
    &lt;code&gt;&lt;a href=&quot;#ins&quot;&gt;ins&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a
    href=&quot;#del&quot;&gt;del&lt;/a&gt;&lt;/code&gt; elements&lt;/h4&gt;
 
@@ -13588,7 +13203,7 @@
    DOM attribute must &lt;a href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the element's &lt;code
    title=&quot;&quot;&gt;datetime&lt;/code&gt; content attribute.
 
-  &lt;h4 id=edits0&gt;&lt;span class=secno&gt;3.11.4 &lt;/span&gt;Edits and paragraphs&lt;/h4&gt;
+  &lt;h4 id=edits0&gt;&lt;span class=secno&gt;3.10.4 &lt;/span&gt;Edits and paragraphs&lt;/h4&gt;
 
   &lt;p&gt;Since the &lt;code&gt;&lt;a href=&quot;#ins&quot;&gt;ins&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a
    href=&quot;#del&quot;&gt;del&lt;/a&gt;&lt;/code&gt; elements do not affect &lt;a href=&quot;#paragraph&quot;
@@ -13651,7 +13266,7 @@
    that cross across any &lt;a href=&quot;#paragraph&quot; title=paragraph&gt;implied
    paragraphs&lt;/a&gt;.
 
-  &lt;h4 id=edits1&gt;&lt;span class=secno&gt;3.11.5 &lt;/span&gt;Edits and lists&lt;/h4&gt;
+  &lt;h4 id=edits1&gt;&lt;span class=secno&gt;3.10.5 &lt;/span&gt;Edits and lists&lt;/h4&gt;
 
   &lt;p&gt;The content models of the &lt;code&gt;&lt;a href=&quot;#ol&quot;&gt;ol&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a
    href=&quot;#ul&quot;&gt;ul&lt;/a&gt;&lt;/code&gt; elements do not allow &lt;code&gt;&lt;a
@@ -13704,9 +13319,9 @@
 &lt;/ul&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h3 id=embedded0&gt;&lt;span class=secno&gt;3.12 &lt;/span&gt;Embedded content&lt;/h3&gt;
+  &lt;h3 id=embedded0&gt;&lt;span class=secno&gt;3.11 &lt;/span&gt;Embedded content&lt;/h3&gt;
 
-  &lt;h4 id=the-figure&gt;&lt;span class=secno&gt;3.12.1 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-figure&gt;&lt;span class=secno&gt;3.11.1 &lt;/span&gt;The &lt;dfn
    id=figure&gt;&lt;code&gt;figure&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -13844,7 +13459,7 @@
 &lt;/figure&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-img&gt;&lt;span class=secno&gt;3.12.2 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-img&gt;&lt;span class=secno&gt;3.11.2 &lt;/span&gt;The &lt;dfn
    id=img&gt;&lt;code&gt;img&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -14492,7 +14107,7 @@
 &lt;/article&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-iframe&gt;&lt;span class=secno&gt;3.12.3 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-iframe&gt;&lt;span class=secno&gt;3.11.3 &lt;/span&gt;The &lt;dfn
    id=iframe&gt;&lt;code&gt;iframe&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -14916,7 +14531,7 @@
    title=dom-iframe-seamless&gt;&lt;code&gt;seamless&lt;/code&gt;&lt;/dfn&gt; must &lt;a
    href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the content attributes of the same name.
 
-  &lt;h4 id=the-embed&gt;&lt;span class=secno&gt;3.12.4 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-embed&gt;&lt;span class=secno&gt;3.11.4 &lt;/span&gt;The &lt;dfn
    id=embed&gt;&lt;code&gt;embed&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -15057,7 +14672,7 @@
    href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the respective content attributes of the same
    name.
 
-  &lt;h4 id=the-object&gt;&lt;span class=secno&gt;3.12.5 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-object&gt;&lt;span class=secno&gt;3.11.5 &lt;/span&gt;The &lt;dfn
    id=object&gt;&lt;code&gt;object&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -15425,7 +15040,7 @@
 &lt;/figure&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=the-param&gt;&lt;span class=secno&gt;3.12.6 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-param&gt;&lt;span class=secno&gt;3.11.6 &lt;/span&gt;The &lt;dfn
    id=param&gt;&lt;code&gt;param&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -15481,7 +15096,7 @@
    href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the respective content attributes of the same
    name.
 
-  &lt;h4 id=video&gt;&lt;span class=secno&gt;3.12.7 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=video&gt;&lt;span class=secno&gt;3.11.7 &lt;/span&gt;The &lt;dfn
    id=video1&gt;&lt;code&gt;video&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -15712,7 +15327,7 @@
    experience. So far, browsers seem to be making the controls overlay-only,
    thus somewhat sidestepping the issue.
 
-  &lt;h5 id=video0&gt;&lt;span class=secno&gt;3.12.7.1. &lt;/span&gt;Video and audio codecs for
+  &lt;h5 id=video0&gt;&lt;span class=secno&gt;3.11.7.1. &lt;/span&gt;Video and audio codecs for
    &lt;code&gt;&lt;a href=&quot;#video1&quot;&gt;video&lt;/a&gt;&lt;/code&gt; elements&lt;/h5&gt;
 
   &lt;p&gt;User agents may support any video and audio codecs and container
@@ -15732,7 +15347,7 @@
   &lt;p class=note&gt;Certain user agents might support no codecs at all, e.g. text
    browsers running over SSH connections.
 
-  &lt;h4 id=audio&gt;&lt;span class=secno&gt;3.12.8 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=audio&gt;&lt;span class=secno&gt;3.11.8 &lt;/span&gt;The &lt;dfn
    id=audio1&gt;&lt;code&gt;audio&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -15828,7 +15443,7 @@
    href=&quot;#actively&quot;&gt;actively playing&lt;/a&gt;, audio must not play for the
    element.
 
-  &lt;h5 id=audio0&gt;&lt;span class=secno&gt;3.12.8.1. &lt;/span&gt;Audio codecs for &lt;code&gt;&lt;a
+  &lt;h5 id=audio0&gt;&lt;span class=secno&gt;3.11.8.1. &lt;/span&gt;Audio codecs for &lt;code&gt;&lt;a
    href=&quot;#audio1&quot;&gt;audio&lt;/a&gt;&lt;/code&gt; elements&lt;/h5&gt;
 
   &lt;p&gt;User agents may support any audio codecs and container formats.
@@ -15838,7 +15453,7 @@
   &lt;!-- XXX mention that this spec doesn't require native support or
   plugin support, either is fine --&gt;
 
-  &lt;h4 id=the-source&gt;&lt;span class=secno&gt;3.12.9 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-source&gt;&lt;span class=secno&gt;3.11.9 &lt;/span&gt;The &lt;dfn
    id=source&gt;&lt;code&gt;source&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -16059,7 +15674,7 @@
    href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the &lt;code title=attr-source-pixelratio&gt;&lt;a
    href=&quot;#pixelratio&quot;&gt;pixelratio&lt;/a&gt;&lt;/code&gt; content attribute.
 
-  &lt;h4 id=media&gt;&lt;span class=secno&gt;3.12.10 &lt;/span&gt;Media elements&lt;/h4&gt;
+  &lt;h4 id=media&gt;&lt;span class=secno&gt;3.11.10 &lt;/span&gt;Media elements&lt;/h4&gt;
 
   &lt;p&gt;&lt;dfn id=media7 title=&quot;media element&quot;&gt;Media elements&lt;/dfn&gt; implement the
    following interface:
@@ -16174,7 +15789,7 @@
    resource&lt;/dfn&gt; is used to refer to the complete set of media data, e.g.
    the complete video file, or complete audio file.
 
-  &lt;h5 id=error&gt;&lt;span class=secno&gt;3.12.10.1. &lt;/span&gt;Error codes&lt;/h5&gt;
+  &lt;h5 id=error&gt;&lt;span class=secno&gt;3.11.10.1. &lt;/span&gt;Error codes&lt;/h5&gt;
 
   &lt;p&gt;All &lt;a href=&quot;#media7&quot; title=&quot;media element&quot;&gt;media elements&lt;/a&gt; have an
    associated error status, which records the last error the element
@@ -16218,7 +15833,7 @@
     href=&quot;#media10&quot;&gt;media resource&lt;/a&gt;.
   &lt;/dl&gt;
 
-  &lt;h5 id=location&gt;&lt;span class=secno&gt;3.12.10.2. &lt;/span&gt;Location of the media
+  &lt;h5 id=location&gt;&lt;span class=secno&gt;3.11.10.2. &lt;/span&gt;Location of the media
    resource&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=src7 title=attr-media-src&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt; content
@@ -16338,7 +15953,7 @@
    href=&quot;#empty&quot; title=dom-media-EMPTY&gt;EMPTY&lt;/a&gt;, and the absolute URL of the
    &lt;a href=&quot;#chosen&quot;&gt;chosen media resource&lt;/a&gt; otherwise.
 
-  &lt;h5 id=network0&gt;&lt;span class=secno&gt;3.12.10.3. &lt;/span&gt;Network states&lt;/h5&gt;
+  &lt;h5 id=network0&gt;&lt;span class=secno&gt;3.11.10.3. &lt;/span&gt;Network states&lt;/h5&gt;
 
   &lt;p&gt;As &lt;a href=&quot;#media7&quot; title=&quot;media element&quot;&gt;media elements&lt;/a&gt; interact
    with the network, they go through several states. The &lt;dfn id=networkstate
@@ -16392,7 +16007,7 @@
    the &lt;code title=dom-media-networkState&gt;&lt;a
    href=&quot;#networkstate&quot;&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute changes value.
 
-  &lt;h5 id=loading&gt;&lt;span class=secno&gt;3.12.10.4. &lt;/span&gt;Loading the media
+  &lt;h5 id=loading&gt;&lt;span class=secno&gt;3.11.10.4. &lt;/span&gt;Loading the media
    resource&lt;/h5&gt;
 
   &lt;p&gt;All &lt;a href=&quot;#media7&quot; title=&quot;media element&quot;&gt;media elements&lt;/a&gt; have a
@@ -16824,7 +16439,7 @@
    radio), or if no &lt;a href=&quot;#media9&quot;&gt;media data&lt;/a&gt; is available, the
    attribute must return 0.
 
-  &lt;h5 id=offsets&gt;&lt;span class=secno&gt;3.12.10.5. &lt;/span&gt;Offsets into the media
+  &lt;h5 id=offsets&gt;&lt;span class=secno&gt;3.11.10.5. &lt;/span&gt;Offsets into the media
    resource&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=duration
@@ -17021,7 +16636,7 @@
      end.
   &lt;/ol&gt;
 
-  &lt;h5 id=the-ready&gt;&lt;span class=secno&gt;3.12.10.6. &lt;/span&gt;The ready states&lt;/h5&gt;
+  &lt;h5 id=the-ready&gt;&lt;span class=secno&gt;3.11.10.6. &lt;/span&gt;The ready states&lt;/h5&gt;
 
   &lt;p&gt;&lt;a href=&quot;#media7&quot; title=&quot;media element&quot;&gt;Media elements&lt;/a&gt; have a
    &lt;em&gt;ready state&lt;/em&gt;, which describes to what degree they are ready to be
@@ -17184,7 +16799,7 @@
    title=dom-media-autoplay&gt;&lt;code&gt;autoplay&lt;/code&gt;&lt;/dfn&gt; DOM attribute must &lt;a
    href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the content attribute of the same name.
 
-  &lt;h5 id=playing&gt;&lt;span class=secno&gt;3.12.10.7. &lt;/span&gt;Playing the media
+  &lt;h5 id=playing&gt;&lt;span class=secno&gt;3.11.10.7. &lt;/span&gt;Playing the media
    resource&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=paused title=dom-media-paused&gt;&lt;code&gt;paused&lt;/code&gt;&lt;/dfn&gt;
@@ -17491,7 +17106,7 @@
    href=&quot;#media10&quot;&gt;media resource&lt;/a&gt;, if any, that the user agent has so far
    rendered, at the time the attribute is evaluated.
 
-  &lt;h5 id=seeking&gt;&lt;span class=secno&gt;3.12.10.8. &lt;/span&gt;Seeking&lt;/h5&gt;
+  &lt;h5 id=seeking&gt;&lt;span class=secno&gt;3.11.10.8. &lt;/span&gt;Seeking&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=seeking0 title=dom-media-seeking&gt;&lt;code&gt;seeking&lt;/code&gt;&lt;/dfn&gt;
    attribute must initially have the value false.
@@ -17619,7 +17234,7 @@
    href=&quot;#duration&quot;&gt;duration&lt;/a&gt;&lt;/code&gt; attribute's value (which would equal
    the time of the last frame).
 
-  &lt;h5 id=cue-ranges&gt;&lt;span class=secno&gt;3.12.10.9. &lt;/span&gt;Cue ranges&lt;/h5&gt;
+  &lt;h5 id=cue-ranges&gt;&lt;span class=secno&gt;3.11.10.9. &lt;/span&gt;Cue ranges&lt;/h5&gt;
 
   &lt;p&gt;&lt;a href=&quot;#media7&quot; title=&quot;media element&quot;&gt;Media elements&lt;/a&gt; have a set of
    &lt;dfn id=cue-ranges0 title=&quot;cue range&quot;&gt;cue ranges&lt;/dfn&gt;. Each cue range is
@@ -17777,7 +17392,7 @@
    href=&quot;#voidcallback&quot;&gt;VoidCallback&lt;/a&gt;&lt;/code&gt; interface is the entry point
    for the callback represented by the object.
 
-  &lt;h5 id=user-interface&gt;&lt;span class=secno&gt;3.12.10.10. &lt;/span&gt;User interface&lt;/h5&gt;
+  &lt;h5 id=user-interface&gt;&lt;span class=secno&gt;3.11.10.10. &lt;/span&gt;User interface&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=controls
    title=attr-media-controls&gt;&lt;code&gt;controls&lt;/code&gt;&lt;/dfn&gt; attribute is a &lt;a
@@ -17843,7 +17458,7 @@
    title=event-volumechange&gt;&lt;a href=&quot;#volumechange&quot;&gt;volumechange&lt;/a&gt;&lt;/code&gt;
    at the &lt;a href=&quot;#media7&quot;&gt;media element&lt;/a&gt;.
 
-  &lt;h5 id=time-ranges&gt;&lt;span class=secno&gt;3.12.10.11. &lt;/span&gt;Time ranges&lt;/h5&gt;
+  &lt;h5 id=time-ranges&gt;&lt;span class=secno&gt;3.11.10.11. &lt;/span&gt;Time ranges&lt;/h5&gt;
 
   &lt;p&gt;Objects implementing the &lt;code&gt;&lt;a
    href=&quot;#timeranges&quot;&gt;TimeRanges&lt;/a&gt;&lt;/code&gt; interface represent a list of
@@ -17895,7 +17510,7 @@
    of &lt;a href=&quot;#media7&quot; title=&quot;media element&quot;&gt;media elements&lt;/a&gt; must be the
    same as that element's &lt;a href=&quot;#media10&quot;&gt;media resource&lt;/a&gt;'s timeline.
 
-  &lt;h5 id=byte-ranges&gt;&lt;span class=secno&gt;3.12.10.12. &lt;/span&gt;Byte ranges&lt;/h5&gt;
+  &lt;h5 id=byte-ranges&gt;&lt;span class=secno&gt;3.11.10.12. &lt;/span&gt;Byte ranges&lt;/h5&gt;
 
   &lt;p&gt;Objects implementing the &lt;code&gt;&lt;a
    href=&quot;#byteranges&quot;&gt;ByteRanges&lt;/a&gt;&lt;/code&gt; interface represent a list of
@@ -17944,7 +17559,7 @@
    aren't empty, and don't touch (adjacent ranges are folded into one bigger
    range).
 
-  &lt;h5 id=mediaevents&gt;&lt;span class=secno&gt;3.12.10.13. &lt;/span&gt;Event summary&lt;/h5&gt;
+  &lt;h5 id=mediaevents&gt;&lt;span class=secno&gt;3.11.10.13. &lt;/span&gt;Event summary&lt;/h5&gt;
 
   &lt;p&gt;The following events fire on &lt;a href=&quot;#media7&quot; title=&quot;media
    element&quot;&gt;media elements&lt;/a&gt; as part of the processing model described
@@ -18290,7 +17905,7 @@
      &lt;td&gt;
   &lt;/table&gt;
 
-  &lt;h5 id=security0&gt;&lt;span class=secno&gt;3.12.10.14. &lt;/span&gt;Security and privacy
+  &lt;h5 id=security0&gt;&lt;span class=secno&gt;3.11.10.14. &lt;/span&gt;Security and privacy
    considerations&lt;/h5&gt;
 
   &lt;p class=big-issue&gt;Talk about making sure interactive media files (e.g.
@@ -18298,7 +17913,7 @@
    not exposing any sensitive data like metadata from tracks in the media
    files (intranet snooping risk)
 
-  &lt;h4 id=the-canvas&gt;&lt;span class=secno&gt;3.12.11 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-canvas&gt;&lt;span class=secno&gt;3.11.11 &lt;/span&gt;The &lt;dfn
    id=canvas&gt;&lt;code&gt;canvas&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -18509,7 +18124,7 @@
    href=&quot;#todataurl&quot;&gt;toDataURL()&lt;/a&gt;&lt;/code&gt; to allow authors to more
    carefully control compression settings, image metadata, etc.
 
-  &lt;h5 id=the-2d&gt;&lt;span class=secno&gt;3.12.11.1. &lt;/span&gt;The 2D context&lt;/h5&gt;
+  &lt;h5 id=the-2d&gt;&lt;span class=secno&gt;3.11.11.1. &lt;/span&gt;The 2D context&lt;/h5&gt;
 
   &lt;p&gt;When the &lt;code title=dom-canvas-getContext&gt;&lt;a
    href=&quot;#getcontext&quot;&gt;getContext()&lt;/a&gt;&lt;/code&gt; method of a &lt;code&gt;&lt;a
@@ -18663,7 +18278,7 @@
    &gt; exceptions when passing in non-finite arguments.
   --&gt;
 
-  &lt;h6 id=the-canvas0&gt;&lt;span class=secno&gt;3.12.11.1.1. &lt;/span&gt;The canvas state&lt;/h6&gt;
+  &lt;h6 id=the-canvas0&gt;&lt;span class=secno&gt;3.11.11.1.1. &lt;/span&gt;The canvas state&lt;/h6&gt;
 
   &lt;p&gt;Each context maintains a stack of drawing states. &lt;dfn id=drawing0
    title=&quot;drawing state&quot;&gt;Drawing states&lt;/dfn&gt; consist of:
@@ -18735,7 +18350,7 @@
 &gt; But how would it interact with normal calls to ctx.restore()?
   --&gt;
 
-  &lt;h6 id=transformations&gt;&lt;span class=secno&gt;3.12.11.1.2. &lt;/span&gt;&lt;dfn
+  &lt;h6 id=transformations&gt;&lt;span class=secno&gt;3.11.11.1.2. &lt;/span&gt;&lt;dfn
    id=transformations0
    title=dom-context-2d-transformation&gt;Transformations&lt;/dfn&gt;&lt;/h6&gt;
 
@@ -18818,7 +18433,7 @@
    title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;)&lt;/code&gt; method with the same
    arguments.
 
-  &lt;h6 id=compositing&gt;&lt;span class=secno&gt;3.12.11.1.3. &lt;/span&gt;Compositing&lt;/h6&gt;
+  &lt;h6 id=compositing&gt;&lt;span class=secno&gt;3.11.11.1.3. &lt;/span&gt;Compositing&lt;/h6&gt;
 
   &lt;p&gt;All drawing operations are affected by the global compositing
    attributes, &lt;code title=dom-context-2d-globalAlpha&gt;&lt;a
@@ -18958,7 +18573,7 @@
    href=&quot;#globalcompositeoperation&quot;&gt;globalCompositeOperation&lt;/a&gt;&lt;/code&gt;
    attribute must initially have the value &lt;code&gt;source-over&lt;/code&gt;.
 
-  &lt;h6 id=colors&gt;&lt;span class=secno&gt;3.12.11.1.4. &lt;/span&gt;Colors and styles&lt;/h6&gt;
+  &lt;h6 id=colors&gt;&lt;span class=secno&gt;3.11.11.1.4. &lt;/span&gt;Colors and styles&lt;/h6&gt;
 
   &lt;p&gt;The &lt;dfn id=strokestyle
    title=dom-context-2d-strokeStyle&gt;&lt;code&gt;strokeStyle&lt;/code&gt;&lt;/dfn&gt; attribute
@@ -19238,7 +18853,7 @@
       canvas then using that canvas as the pattern.
   --&gt;
 
-  &lt;h6 id=line-styles&gt;&lt;span class=secno&gt;3.12.11.1.5. &lt;/span&gt;Line styles&lt;/h6&gt;
+  &lt;h6 id=line-styles&gt;&lt;span class=secno&gt;3.11.11.1.5. &lt;/span&gt;Line styles&lt;/h6&gt;
 
   &lt;p&gt;The &lt;dfn id=linewidth
    title=dom-context-2d-lineWidth&gt;&lt;code&gt;lineWidth&lt;/code&gt;&lt;/dfn&gt; attribute
@@ -19353,7 +18968,7 @@
 &gt; allowing whatever behavior the graphics library has.)
   --&gt;
 
-  &lt;h6 id=shadows&gt;&lt;span class=secno&gt;3.12.11.1.6. &lt;/span&gt;&lt;dfn
+  &lt;h6 id=shadows&gt;&lt;span class=secno&gt;3.11.11.1.6. &lt;/span&gt;&lt;dfn
    id=shadows0&gt;Shadows&lt;/dfn&gt;&lt;/h6&gt;
 
   &lt;p&gt;All drawing operations are affected by the four global shadow
@@ -19472,7 +19087,7 @@
      part of the drawing model described below.&lt;/p&gt;
   &lt;/ol&gt;
 
-  &lt;h6 id=simple&gt;&lt;span class=secno&gt;3.12.11.1.7. &lt;/span&gt;Simple shapes
+  &lt;h6 id=simple&gt;&lt;span class=secno&gt;3.11.11.1.7. &lt;/span&gt;Simple shapes
    (rectangles)&lt;/h6&gt;
 
   &lt;p&gt;There are three methods that immediately draw rectangles to the bitmap.
@@ -19533,7 +19148,7 @@
    will draw a line instead (the path for the outline is just a straight line
    along the non-zero dimension).
 
-  &lt;h6 id=complex&gt;&lt;span class=secno&gt;3.12.11.1.8. &lt;/span&gt;Complex shapes (paths)&lt;/h6&gt;
+  &lt;h6 id=complex&gt;&lt;span class=secno&gt;3.11.11.1.8. &lt;/span&gt;Complex shapes (paths)&lt;/h6&gt;
 
   &lt;p&gt;The context always has a current path. There is only one current path,
    it is not part of the &lt;span title=dom-context-2d-&gt;drawing state&lt;/span&gt;.
@@ -19782,7 +19397,7 @@
    If either of the arguments is infinite or NaN, then the method must return
    false.
 
-  &lt;h6 id=text&gt;&lt;span class=secno&gt;3.12.11.1.9. &lt;/span&gt;Text&lt;/h6&gt;
+  &lt;h6 id=text&gt;&lt;span class=secno&gt;3.11.11.1.9. &lt;/span&gt;Text&lt;/h6&gt;
   &lt;!-- a v3 feature --&gt;
 
   &lt;p&gt;The &lt;dfn id=font title=dom-context-2d-font&gt;&lt;code&gt;font&lt;/code&gt;&lt;/dfn&gt; DOM
@@ -20282,7 +19897,7 @@
    This would be provided in preference to a dedicated way of doing multiline
    layout.
 
-  &lt;h6 id=images&gt;&lt;span class=secno&gt;3.12.11.1.10. &lt;/span&gt;Images&lt;/h6&gt;
+  &lt;h6 id=images&gt;&lt;span class=secno&gt;3.11.11.1.10. &lt;/span&gt;Images&lt;/h6&gt;
 
   &lt;p&gt;To draw images onto the canvas, the &lt;dfn id=drawimage
    title=dom-context-2d-drawImage&gt;&lt;code&gt;drawImage&lt;/code&gt;&lt;/dfn&gt; method can be
@@ -20385,7 +20000,7 @@
   of the target element, not the rendered image (e.g. height/width
   attributes don't affect it --&gt;
 
-  &lt;h6 id=pixel&gt;&lt;span class=secno&gt;3.12.11.1.11. &lt;/span&gt;&lt;dfn id=pixel1&gt;Pixel
+  &lt;h6 id=pixel&gt;&lt;span class=secno&gt;3.11.11.1.11. &lt;/span&gt;&lt;dfn id=pixel1&gt;Pixel
    manipulation&lt;/dfn&gt;&lt;/h6&gt;
   &lt;!--
   &lt;span&gt;ImageData&lt;/span&gt; &lt;span title=&quot;dom-context-2d-createImageData&quot;&gt;createImageData&lt;/span&gt;(in float sw, in float sh);
@@ -20694,7 +20309,7 @@
 &lt;/html&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
-  &lt;h6 id=drawing&gt;&lt;span class=secno&gt;3.12.11.1.12. &lt;/span&gt;Drawing model&lt;/h6&gt;
+  &lt;h6 id=drawing&gt;&lt;span class=secno&gt;3.11.11.1.12. &lt;/span&gt;Drawing model&lt;/h6&gt;
 
   &lt;p&gt;When a shape or image is painted, user agents must follow these steps,
    in the order given (or act as if they do):
@@ -20740,7 +20355,7 @@
   &lt;p class=&quot;big-issue&quot;&gt;Well, one day.&lt;/p&gt;
 --&gt;
 
-  &lt;h5 id=color&gt;&lt;span class=secno&gt;3.12.11.2. &lt;/span&gt;Color spaces and color
+  &lt;h5 id=color&gt;&lt;span class=secno&gt;3.11.11.2. &lt;/span&gt;Color spaces and color
    correction&lt;/h5&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#canvas&quot;&gt;canvas&lt;/a&gt;&lt;/code&gt; APIs must perform color
@@ -20785,7 +20400,7 @@
    href=&quot;#todataurl&quot;&gt;toDataURL()&lt;/a&gt;&lt;/code&gt; method to the canvas, given the
    appropriate dimensions, has no visible effect.
 
-  &lt;h5 id=security1&gt;&lt;span class=secno&gt;3.12.11.3. &lt;/span&gt;Security with &lt;code&gt;&lt;a
+  &lt;h5 id=security1&gt;&lt;span class=secno&gt;3.11.11.3. &lt;/span&gt;Security with &lt;code&gt;&lt;a
    href=&quot;#canvas&quot;&gt;canvas&lt;/a&gt;&lt;/code&gt; elements&lt;/h5&gt;
 
   &lt;p&gt;&lt;strong&gt;Information leakage&lt;/strong&gt; can occur if scripts from one &lt;a
@@ -20860,7 +20475,7 @@
    &lt;i&gt;origin-clean&lt;/i&gt; flag is set to false is called, the method must
    immediately raise a security exception.
 
-  &lt;h4 id=the-map&gt;&lt;span class=secno&gt;3.12.12 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-map&gt;&lt;span class=secno&gt;3.11.12 &lt;/span&gt;The &lt;dfn
    id=map&gt;&lt;code&gt;map&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -20918,7 +20533,7 @@
    title=dom-map-name&gt;&lt;code&gt;name&lt;/code&gt;&lt;/dfn&gt; must &lt;a
    href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the content attribute of the same name.
 
-  &lt;h4 id=the-area&gt;&lt;span class=secno&gt;3.12.13 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-area&gt;&lt;span class=secno&gt;3.11.13 &lt;/span&gt;The &lt;dfn
    id=area&gt;&lt;code&gt;area&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -21135,8 +20750,8 @@
   &lt;ol&gt;
    &lt;li&gt;If the &lt;code title=event-DOMActivate&gt;DOMActivate&lt;/code&gt; event in
     question is not &lt;span title=concept-events-trusted&gt;trusted&lt;/span&gt; (i.e. a
-    &lt;code title=dom-click&gt;&lt;a href=&quot;#click&quot;&gt;click()&lt;/a&gt;&lt;/code&gt; method call was
-    the reason for the event being dispatched), and the &lt;code&gt;&lt;a
+    &lt;code title=dom-click&gt;&lt;a href=&quot;#click1&quot;&gt;click()&lt;/a&gt;&lt;/code&gt; method call
+    was the reason for the event being dispatched), and the &lt;code&gt;&lt;a
     href=&quot;#area&quot;&gt;area&lt;/a&gt;&lt;/code&gt; element's &lt;code
     title=attr-area-target&gt;target&lt;/code&gt; attribute is &lt;span
     class=big-issue&gt;...&lt;/span&gt; then raise an &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt;
@@ -21177,7 +20792,7 @@
    href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the &lt;code title=attr-hyperlink-rel&gt;&lt;a
    href=&quot;#rel3&quot;&gt;rel&lt;/a&gt;&lt;/code&gt; content attribute.
 
-  &lt;h4 id=image-maps&gt;&lt;span class=secno&gt;3.12.14 &lt;/span&gt;Image maps&lt;/h4&gt;
+  &lt;h4 id=image-maps&gt;&lt;span class=secno&gt;3.11.14 &lt;/span&gt;Image maps&lt;/h4&gt;
   &lt;!-- TESTS
   <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0A%3Cimg%20src%3D%22http%3A//hixie.ch/resources/images/smallcats%22%20usemap%3D%23a%20onclick%3Dw%28%27img%27%29%3E%0A%3Cmap%20name%3Da%3E%0A%20%3Carea%20onclick%3Dw%28%271%27%29%20coords%3D%270%25%200%25%20100%25%20100%25%27%20href%3Djavascript%3A%3E%0A%3C/map%3E">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0A%3Cimg%20src%3D%22http%3A//hixie.ch/resources/images/smallcats%22%20usemap%3D%23a%20onclick%3Dw%28%27img%27%29%3E%0A%3Cmap%20name%3Da%3E%0A%20%3Carea%20onclick%3Dw%28%271%27%29%20coords%3D%270%25%200%25%20100%25%20100%25%27%20href%3Djavascript%3A%3E%0A%3C/map%3E</A>
   <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0A%3Cbody%20onfocus%3D%22w%28document.activeElement.tagName%29%22%3E%0A%3Cimg%20src%3D%22http%3A//hixie.ch/resources/images/smallcats%22%20usemap%3D%23a%20onclick%3Dw%28%27img%27%29%20onfocus%3D%22w%28document.activeElement.tagName%29%22%3E%0A%3Cimg%20src%3D%22http%3A//hixie.ch/resources/images/sample%22%20usemap%3D%23a%20onclick%3Dw%28%27img%27%29%20onfocus%3D%22w%28document.activeElement.tagName%29%22%3E%0A%3Cmap%20name%3Da%20onfocus%3D%22w%28document.activeElement.tagName%29%22%3E%0A%20%3Carea%20onclick%3Dw%28%271%27%29%20coords%3D%270%200%2050%2050%27%20href%3Djavascript%3A%20onfocus%3D%22w%28document.activeElement.tagName%29%22%3E%0A%3C/map%3E%0A%3Cscript%3E%0A%20var%20x%20%3D%20document.getElementsByTagName%28%27img%27%29%5B0%5D%3B%0A%20x.parentNode.appendChild%28x%29%3B%0A%20document.getElementsByTagName%28%27area%27%29%5B0%5D.focus%28%29%3B%0A%3C/script%3E">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0A%3Cbody%20onfocus%3D%22w%28document.activeElement.tagName%29%22%3E%0A%3Cimg%20src%3D%22http%3A//hixie.ch/resources/images/smallcats%22%20usemap%3D%23a%20onclick%3Dw%28%27img%27%29%20onfocus%3D%22w%28document.activeElement.tagName%29%22%3E%0A%3Cimg%20src%3D%22http%3A//hixie.ch/resources/images/sample%22%20usemap%3D%23a%20onclick%3Dw%28%27img%27%29%20onfocus%3D%22w%28document.activeElement.tagName%29%22%3E%0A%3Cmap%20name%3Da%20onfocus%3D%22w%28document.activeElement.tagName%29%22%3E%0A%20%3Carea%20onclick%3Dw%28%271%27%29%20coords%3D%270%200%2050%2050%27%20href%3Djavascript%3A%20onfocus%3D%22w%28document.activeElement.tagName%29%22%3E%0A%3C/map%3E%0A%3Cscript%3E%0A%20var%20x%20%3D%20document.getElementsByTagName%28%27img%27%29%5B0%5D%3B%0A%20x.parentNode.appendChild%28x%29%3B%0A%20document.getElementsByTagName%28%27area%27%29%5B0%5D.focus%28%29%3B%0A%3C/script%3E</A>
@@ -21472,7 +21087,7 @@
    then the user agent must act as if it had rerun the algorithms for image
    maps.
 
-  &lt;h4 id=mathml&gt;&lt;span class=secno&gt;3.12.15 &lt;/span&gt;MathML&lt;/h4&gt;
+  &lt;h4 id=mathml&gt;&lt;span class=secno&gt;3.11.15 &lt;/span&gt;MathML&lt;/h4&gt;
 
   &lt;p&gt;The &lt;code&gt;math&lt;/code&gt; element from the &lt;a href=&quot;#mathml0&quot;&gt;MathML
    namespace&lt;/a&gt; falls into the &lt;a href=&quot;#embedded1&quot;&gt;embedded content&lt;/a&gt;
@@ -21497,7 +21112,7 @@
    form, interactive HTML user agents are encouraged to provide a way to
    export any MathML fragment as a namespace-well-formed XML fragment.
 
-  &lt;h4 id=svg&gt;&lt;span class=secno&gt;3.12.16 &lt;/span&gt;SVG&lt;/h4&gt;
+  &lt;h4 id=svg&gt;&lt;span class=secno&gt;3.11.16 &lt;/span&gt;SVG&lt;/h4&gt;
 
   &lt;p&gt;The &lt;code&gt;svg&lt;/code&gt; element from the &lt;a href=&quot;#svg-namespace&quot;&gt;SVG
    namespace&lt;/a&gt; falls into the &lt;a href=&quot;#embedded1&quot;&gt;embedded content&lt;/a&gt;
@@ -21507,7 +21122,7 @@
    interactive HTML user agents are encouraged to provide a way to export any
    SVG fragment as a namespace-well-formed XML fragment.
 
-  &lt;h4 id=dimension&gt;&lt;span class=secno&gt;3.12.17 &lt;/span&gt;&lt;dfn
+  &lt;h4 id=dimension&gt;&lt;span class=secno&gt;3.11.17 &lt;/span&gt;&lt;dfn
    id=dimension0&gt;Dimension attributes&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;The &lt;dfn id=width4 title=attr-dim-width&gt;&lt;code&gt;width&lt;/code&gt;&lt;/dfn&gt; and
@@ -21546,16 +21161,16 @@
    href=&quot;#video1&quot;&gt;video&lt;/a&gt;&lt;/code&gt; elements must &lt;a
    href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the content attributes of the same name.
 
-  &lt;h3 id=tabular&gt;&lt;span class=secno&gt;3.13 &lt;/span&gt;Tabular data&lt;/h3&gt;
+  &lt;h3 id=tabular&gt;&lt;span class=secno&gt;3.12 &lt;/span&gt;Tabular data&lt;/h3&gt;
 
-  &lt;h4 id=table-intro&gt;&lt;span class=secno&gt;3.13.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=table-intro&gt;&lt;span class=secno&gt;3.12.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;em&gt;This section is non-normative.&lt;/em&gt;
 
   &lt;p class=big-issue&gt;...examples, how to write tables accessibly, a brief
    mention of the table model, etc...
 
-  &lt;h4 id=the-table&gt;&lt;span class=secno&gt;3.13.2 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-table&gt;&lt;span class=secno&gt;3.12.2 &lt;/span&gt;The &lt;dfn
    id=table&gt;&lt;code&gt;table&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -21855,7 +21470,7 @@
      href=&quot;#rows&quot;&gt;rows&lt;/a&gt;&lt;/code&gt; collection from its parent.&lt;/p&gt;
   &lt;/ol&gt;
 
-  &lt;h4 id=the-caption&gt;&lt;span class=secno&gt;3.13.3 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-caption&gt;&lt;span class=secno&gt;3.12.3 &lt;/span&gt;The &lt;dfn
    id=caption0&gt;&lt;code&gt;caption&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -21889,7 +21504,7 @@
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#caption0&quot;&gt;caption&lt;/a&gt;&lt;/code&gt; element takes part in
    the &lt;a href=&quot;#table0&quot;&gt;table model&lt;/a&gt;.
 
-  &lt;h4 id=the-colgroup&gt;&lt;span class=secno&gt;3.13.4 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-colgroup&gt;&lt;span class=secno&gt;3.12.4 &lt;/span&gt;The &lt;dfn
    id=colgroup&gt;&lt;code&gt;colgroup&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -21943,7 +21558,7 @@
    same name. The value must be &lt;a href=&quot;#limited1&quot;&gt;limited to only positive
    non-zero numbers&lt;/a&gt;.
 
-  &lt;h4 id=the-col&gt;&lt;span class=secno&gt;3.13.5 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-col&gt;&lt;span class=secno&gt;3.12.5 &lt;/span&gt;The &lt;dfn
    id=col&gt;&lt;code&gt;col&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -21997,7 +21612,7 @@
    same name. The value must be &lt;a href=&quot;#limited1&quot;&gt;limited to only positive
    non-zero numbers&lt;/a&gt;.
 
-  &lt;h4 id=the-tbody&gt;&lt;span class=secno&gt;3.13.6 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-tbody&gt;&lt;span class=secno&gt;3.12.6 &lt;/span&gt;The &lt;dfn
    id=tbody&gt;&lt;code&gt;tbody&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -22085,7 +21700,7 @@
    href=&quot;#rows0&quot;&gt;rows&lt;/a&gt;&lt;/code&gt; collection, the method must instead raise an
    &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exception.
 
-  &lt;h4 id=the-thead&gt;&lt;span class=secno&gt;3.13.7 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-thead&gt;&lt;span class=secno&gt;3.12.7 &lt;/span&gt;The &lt;dfn
    id=thead0&gt;&lt;code&gt;thead&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -22128,7 +21743,7 @@
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#thead0&quot;&gt;thead&lt;/a&gt;&lt;/code&gt; element takes part in the
    &lt;a href=&quot;#table0&quot;&gt;table model&lt;/a&gt;.
 
-  &lt;h4 id=the-tfoot&gt;&lt;span class=secno&gt;3.13.8 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-tfoot&gt;&lt;span class=secno&gt;3.12.8 &lt;/span&gt;The &lt;dfn
    id=tfoot0&gt;&lt;code&gt;tfoot&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -22180,7 +21795,7 @@
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#tfoot0&quot;&gt;tfoot&lt;/a&gt;&lt;/code&gt; element takes part in the
    &lt;a href=&quot;#table0&quot;&gt;table model&lt;/a&gt;.
 
-  &lt;h4 id=the-tr&gt;&lt;span class=secno&gt;3.13.9 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-tr&gt;&lt;span class=secno&gt;3.12.9 &lt;/span&gt;The &lt;dfn
    id=tr&gt;&lt;code&gt;tr&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -22297,7 +21912,7 @@
    href=&quot;#cells&quot;&gt;cells&lt;/a&gt;&lt;/code&gt; collection, the method must instead raise
    an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exception.
 
-  &lt;h4 id=the-td&gt;&lt;span class=secno&gt;3.13.10 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-td&gt;&lt;span class=secno&gt;3.12.10 &lt;/span&gt;The &lt;dfn
    id=td&gt;&lt;code&gt;td&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -22359,7 +21974,7 @@
    attribute must &lt;a href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the content attribute of the
    same name.
 
-  &lt;h4 id=the-th&gt;&lt;span class=secno&gt;3.13.11 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-th&gt;&lt;span class=secno&gt;3.12.11 &lt;/span&gt;The &lt;dfn
    id=th&gt;&lt;code&gt;th&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -22451,7 +22066,7 @@
    attribute must &lt;a href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the content attribute of the
    same name.
 
-  &lt;h4 id=attributes0&gt;&lt;span class=secno&gt;3.13.12 &lt;/span&gt;Attributes common to
+  &lt;h4 id=attributes0&gt;&lt;span class=secno&gt;3.12.12 &lt;/span&gt;Attributes common to
    &lt;code&gt;&lt;a href=&quot;#td&quot;&gt;td&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=&quot;#th&quot;&gt;th&lt;/a&gt;&lt;/code&gt;
    elements&lt;/h4&gt;
 
@@ -22497,7 +22112,7 @@
    title=dom-tr-cells&gt;&lt;a href=&quot;#cells&quot;&gt;cells&lt;/a&gt;&lt;/code&gt; collection. If there
    is no such parent element, then the attribute must return 0.
 
-  &lt;h4 id=processing&gt;&lt;span class=secno&gt;3.13.13 &lt;/span&gt;Processing model&lt;/h4&gt;
+  &lt;h4 id=processing&gt;&lt;span class=secno&gt;3.12.13 &lt;/span&gt;Processing model&lt;/h4&gt;
 
   &lt;p&gt;The various table elements and their content attributes together define
    the &lt;dfn id=table0&gt;table model&lt;/dfn&gt;.
@@ -22601,7 +22216,7 @@
    represented by &lt;code&gt;&lt;a href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; elements and their
    descendants. Documents must not have table model errors.
 
-  &lt;h5 id=forming&gt;&lt;span class=secno&gt;3.13.13.1. &lt;/span&gt;Forming a table&lt;/h5&gt;
+  &lt;h5 id=forming&gt;&lt;span class=secno&gt;3.12.13.1. &lt;/span&gt;Forming a table&lt;/h5&gt;
 
   &lt;p&gt;To determine which elements correspond to which slots in a &lt;a
    href=&quot;#table1&quot; title=concept-table&gt;table&lt;/a&gt; associated with a &lt;code&gt;&lt;a
@@ -23097,7 +22712,7 @@
    title=&quot;&quot;&gt;x&lt;/var&gt;&nbsp;&lt;&nbsp;&lt;var title=&quot;&quot;&gt;cell&lt;sub
    title=&quot;&quot;&gt;x&lt;/sub&gt;&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;width&lt;/var&gt;&lt;/span&gt;.
 
-  &lt;h5 id=header-and-data-cell-semantics&gt;&lt;span class=secno&gt;3.13.13.2.
+  &lt;h5 id=header-and-data-cell-semantics&gt;&lt;span class=secno&gt;3.12.13.2.
    &lt;/span&gt;Forming relationships between data cells and header cells&lt;/h5&gt;
 
   &lt;p&gt;Each data cell can be assigned zero or more header cells. The &lt;dfn
@@ -23384,7 +22999,7 @@
    data cells&lt;/a&gt; when analyzing data in a &lt;a href=&quot;#table1&quot;
    title=concept-table&gt;table&lt;/a&gt;.
 
-  &lt;h3 id=forms&gt;&lt;span class=secno&gt;3.14 &lt;/span&gt;Forms&lt;/h3&gt;
+  &lt;h3 id=forms&gt;&lt;span class=secno&gt;3.13 &lt;/span&gt;Forms&lt;/h3&gt;
   &lt;!-- XXX everything in WF2 --&gt;
 
   &lt;p class=big-issue&gt;This section will contain definitions of the
@@ -23395,46 +23010,46 @@
   &lt;!-- From HTML4: BUTTON FIELDSET FORM INPUT LABEL OPTGROUP OPTION
   SELECT TEXTAREA --&gt;
 
-  &lt;h4 id=the-form&gt;&lt;span class=secno&gt;3.14.1 &lt;/span&gt;The &lt;code&gt;form&lt;/code&gt;
+  &lt;h4 id=the-form&gt;&lt;span class=secno&gt;3.13.1 &lt;/span&gt;The &lt;code&gt;form&lt;/code&gt;
    element&lt;/h4&gt;
 
-  &lt;h4 id=the-fieldset&gt;&lt;span class=secno&gt;3.14.2 &lt;/span&gt;The
+  &lt;h4 id=the-fieldset&gt;&lt;span class=secno&gt;3.13.2 &lt;/span&gt;The
    &lt;code&gt;fieldset&lt;/code&gt; element&lt;/h4&gt;
 
-  &lt;h4 id=the-input&gt;&lt;span class=secno&gt;3.14.3 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt;
+  &lt;h4 id=the-input&gt;&lt;span class=secno&gt;3.13.3 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt;
    element&lt;/h4&gt;
 
-  &lt;h4 id=the-button&gt;&lt;span class=secno&gt;3.14.4 &lt;/span&gt;The &lt;code&gt;button&lt;/code&gt;
+  &lt;h4 id=the-button&gt;&lt;span class=secno&gt;3.13.4 &lt;/span&gt;The &lt;code&gt;button&lt;/code&gt;
    element&lt;/h4&gt;
 
-  &lt;h4 id=the-label&gt;&lt;span class=secno&gt;3.14.5 &lt;/span&gt;The &lt;code&gt;label&lt;/code&gt;
+  &lt;h4 id=the-label&gt;&lt;span class=secno&gt;3.13.5 &lt;/span&gt;The &lt;code&gt;label&lt;/code&gt;
    element&lt;/h4&gt;
 
-  &lt;h4 id=the-select&gt;&lt;span class=secno&gt;3.14.6 &lt;/span&gt;The &lt;code&gt;select&lt;/code&gt;
+  &lt;h4 id=the-select&gt;&lt;span class=secno&gt;3.13.6 &lt;/span&gt;The &lt;code&gt;select&lt;/code&gt;
    element&lt;/h4&gt;
 
-  &lt;h4 id=the-datalist&gt;&lt;span class=secno&gt;3.14.7 &lt;/span&gt;The
+  &lt;h4 id=the-datalist&gt;&lt;span class=secno&gt;3.13.7 &lt;/span&gt;The
    &lt;code&gt;datalist&lt;/code&gt; element&lt;/h4&gt;
 
-  &lt;h4 id=the-optgroup&gt;&lt;span class=secno&gt;3.14.8 &lt;/span&gt;The
+  &lt;h4 id=the-optgroup&gt;&lt;span class=secno&gt;3.13.8 &lt;/span&gt;The
    &lt;code&gt;optgroup&lt;/code&gt; element&lt;/h4&gt;
 
-  &lt;h4 id=the-option&gt;&lt;span class=secno&gt;3.14.9 &lt;/span&gt;The &lt;code&gt;option&lt;/code&gt;
+  &lt;h4 id=the-option&gt;&lt;span class=secno&gt;3.13.9 &lt;/span&gt;The &lt;code&gt;option&lt;/code&gt;
    element&lt;/h4&gt;
 
-  &lt;h4 id=the-textarea&gt;&lt;span class=secno&gt;3.14.10 &lt;/span&gt;The
+  &lt;h4 id=the-textarea&gt;&lt;span class=secno&gt;3.13.10 &lt;/span&gt;The
    &lt;code&gt;textarea&lt;/code&gt; element&lt;/h4&gt;
 
-  &lt;h4 id=the-output&gt;&lt;span class=secno&gt;3.14.11 &lt;/span&gt;The &lt;code&gt;output&lt;/code&gt;
+  &lt;h4 id=the-output&gt;&lt;span class=secno&gt;3.13.11 &lt;/span&gt;The &lt;code&gt;output&lt;/code&gt;
    element&lt;/h4&gt;
 
-  &lt;h4 id=processing0&gt;&lt;span class=secno&gt;3.14.12 &lt;/span&gt;Processing model&lt;/h4&gt;
+  &lt;h4 id=processing0&gt;&lt;span class=secno&gt;3.13.12 &lt;/span&gt;Processing model&lt;/h4&gt;
 
   &lt;p class=big-issue&gt;See &lt;a
    href=&quot;<A HREF="http://www.whatwg.org/specs/web-forms/current-work/#extend-form-controls">http://www.whatwg.org/specs/web-forms/current-work/#extend-form-controls</A>&quot;&gt;WF2&lt;/a&gt;
    for now
 
-  &lt;h5 id=form-submission&gt;&lt;span class=secno&gt;3.14.12.1. &lt;/span&gt;Form submission&lt;/h5&gt;
+  &lt;h5 id=form-submission&gt;&lt;span class=secno&gt;3.13.12.1. &lt;/span&gt;Form submission&lt;/h5&gt;
 
   &lt;p class=big-issue&gt;See &lt;a
    href=&quot;<A HREF="http://www.whatwg.org/specs/web-forms/current-work/#form-submission">http://www.whatwg.org/specs/web-forms/current-work/#form-submission</A>&quot;&gt;WF2&lt;/a&gt;
@@ -23444,7 +23059,7 @@
    context whose &lt;a href=&quot;#sandboxed3&quot;&gt;sandboxed forms browsing context
    flag&lt;/a&gt; is set, it must not be submitted.
 
-  &lt;h3 id=scripting0&gt;&lt;span class=secno&gt;3.15 &lt;/span&gt;Scripting&lt;/h3&gt;
+  &lt;h3 id=scripting0&gt;&lt;span class=secno&gt;3.14 &lt;/span&gt;Scripting&lt;/h3&gt;
 
   &lt;p&gt;Scripts allow authors to add interactivity to their documents.
 
@@ -23467,7 +23082,7 @@
     without scripts by requesting the sorted table from the server.&lt;/p&gt;
   &lt;/div&gt;
 
-  &lt;h4 id=script&gt;&lt;span class=secno&gt;3.15.1 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=script&gt;&lt;span class=secno&gt;3.14.1 &lt;/span&gt;The &lt;dfn
    id=script1&gt;&lt;code&gt;script&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -23948,7 +23563,7 @@
    way as the &lt;code&gt;&lt;a href=&quot;#textcontent&quot;&gt;textContent&lt;/a&gt;&lt;/code&gt; DOM
    attribute.
 
-  &lt;h5 id=scriptingLanguages&gt;&lt;span class=secno&gt;3.15.1.1. &lt;/span&gt;Scripting
+  &lt;h5 id=scriptingLanguages&gt;&lt;span class=secno&gt;3.14.1.1. &lt;/span&gt;Scripting
    languages&lt;/h5&gt;
 
   &lt;p&gt;A user agent is said to &lt;dfn id=support&gt;support the scripting
@@ -23979,7 +23594,7 @@
    XXX we should reference #refsRFC4329 <A HREF="http://www.ietf.org/rfc/rfc4329">http://www.ietf.org/rfc/rfc4329</A>
   --&gt;
 
-  &lt;h4 id=the-noscript&gt;&lt;span class=secno&gt;3.15.2 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-noscript&gt;&lt;span class=secno&gt;3.14.2 &lt;/span&gt;The &lt;dfn
    id=noscript&gt;&lt;code&gt;noscript&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -24140,7 +23755,7 @@
    that will have &lt;code title=dom-document-designMode&gt;&lt;a
    href=&quot;#designMode&quot;&gt;designMode&lt;/a&gt;&lt;/code&gt; enabled.
 
-  &lt;h4 id=the-event-source&gt;&lt;span class=secno&gt;3.15.3 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-event-source&gt;&lt;span class=secno&gt;3.14.3 &lt;/span&gt;The &lt;dfn
    id=event-source&gt;&lt;code&gt;event-source&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -24227,10 +23842,10 @@
    attribute must &lt;a href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the content attribute of the
    same name.
 
-  &lt;h3 id=interactive-elements&gt;&lt;span class=secno&gt;3.16 &lt;/span&gt;Interactive
+  &lt;h3 id=interactive-elements&gt;&lt;span class=secno&gt;3.15 &lt;/span&gt;Interactive
    elements&lt;/h3&gt;
 
-  &lt;h4 id=the-details&gt;&lt;span class=secno&gt;3.16.1 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-details&gt;&lt;span class=secno&gt;3.15.1 &lt;/span&gt;The &lt;dfn
    id=details&gt;&lt;code&gt;details&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -24307,7 +23922,7 @@
    reflecting state has been a pain in the neck before. But is it
    semantically ok?
 
-  &lt;h4 id=datagrid&gt;&lt;span class=secno&gt;3.16.2 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=datagrid&gt;&lt;span class=secno&gt;3.15.2 &lt;/span&gt;The &lt;dfn
    id=datagrid0&gt;&lt;code&gt;datagrid&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -24400,7 +24015,7 @@
    &lt;code title=attr-datagrid-disabled&gt;&lt;a
    href=&quot;#disabled3&quot;&gt;disabled&lt;/a&gt;&lt;/code&gt; content attributes respectively.
 
-  &lt;h5 id=the-datagrid&gt;&lt;span class=secno&gt;3.16.2.1. &lt;/span&gt;The &lt;code&gt;&lt;a
+  &lt;h5 id=the-datagrid&gt;&lt;span class=secno&gt;3.15.2.1. &lt;/span&gt;The &lt;code&gt;&lt;a
    href=&quot;#datagrid0&quot;&gt;datagrid&lt;/a&gt;&lt;/code&gt; data model&lt;/h5&gt;
 
   &lt;p&gt;&lt;em&gt;This section is non-normative.&lt;/em&gt;
@@ -24447,7 +24062,7 @@
    scripted data providers.&lt;/p&gt;
   &lt;!-- XXX check xrefs --&gt;
 
-  &lt;h5 id=how-rows&gt;&lt;span class=secno&gt;3.16.2.2. &lt;/span&gt;How rows are identified&lt;/h5&gt;
+  &lt;h5 id=how-rows&gt;&lt;span class=secno&gt;3.15.2.2. &lt;/span&gt;How rows are identified&lt;/h5&gt;
 
   &lt;p&gt;The chains of numbers that give a row's path, or identifier, are
    represented by objects that implement the &lt;a
@@ -24479,7 +24094,7 @@
    href=&quot;#getchildatposition&quot;&gt;GetChildAtPosition()&lt;/a&gt;&lt;/code&gt; methods ever
    get called with the empty path.
 
-  &lt;h5 id=the-data&gt;&lt;span class=secno&gt;3.16.2.3. &lt;/span&gt;The data provider
+  &lt;h5 id=the-data&gt;&lt;span class=secno&gt;3.15.2.3. &lt;/span&gt;The data provider
    interface&lt;/h5&gt;
 
   &lt;p&gt;&lt;em&gt;The conformance criteria in this section apply to any implementation
@@ -24946,7 +24561,7 @@
 --&gt;
   &lt;/table&gt;
 
-  &lt;h5 id=the-default&gt;&lt;span class=secno&gt;3.16.2.4. &lt;/span&gt;The default data
+  &lt;h5 id=the-default&gt;&lt;span class=secno&gt;3.15.2.4. &lt;/span&gt;The default data
    provider&lt;/h5&gt;
 
   &lt;p&gt;The user agent must supply a default data provider for the case where
@@ -25449,7 +25064,7 @@
      &lt;code&gt;&lt;a href=&quot;#datagrid0&quot;&gt;datagrid&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;h6 id=commonDefaultDataGridMethodDefinitions&gt;&lt;span class=secno&gt;3.16.2.4.1.
+  &lt;h6 id=commonDefaultDataGridMethodDefinitions&gt;&lt;span class=secno&gt;3.15.2.4.1.
    &lt;/span&gt;Common default data provider method definitions for cells&lt;/h6&gt;
 
   &lt;p&gt;These definitions are used for the cell-specific methods of the default
@@ -25590,7 +25205,7 @@
   &lt;/dl&gt;
   &lt;!-- XXX Calculated cells, like in spreadsheets? --&gt;
 
-  &lt;h5 id=populating&gt;&lt;span class=secno&gt;3.16.2.5. &lt;/span&gt;Populating the
+  &lt;h5 id=populating&gt;&lt;span class=secno&gt;3.15.2.5. &lt;/span&gt;Populating the
    &lt;code&gt;&lt;a href=&quot;#datagrid0&quot;&gt;datagrid&lt;/a&gt;&lt;/code&gt; element&lt;/h5&gt;
 
   &lt;p&gt;A &lt;code&gt;&lt;a href=&quot;#datagrid0&quot;&gt;datagrid&lt;/a&gt;&lt;/code&gt; must be disabled until
@@ -26036,7 +25651,7 @@
   &lt;!-- XXX speaking of which, do we actually want that
   limitation? --&gt;
 
-  &lt;h5 id=updating&gt;&lt;span class=secno&gt;3.16.2.6. &lt;/span&gt;Updating the &lt;code&gt;&lt;a
+  &lt;h5 id=updating&gt;&lt;span class=secno&gt;3.15.2.6. &lt;/span&gt;Updating the &lt;code&gt;&lt;a
    href=&quot;#datagrid0&quot;&gt;datagrid&lt;/a&gt;&lt;/code&gt;&lt;/h5&gt;
 
   &lt;p&gt;Whenever the &lt;code title=dom-datagrid-data&gt;&lt;a
@@ -26116,7 +25731,7 @@
    href=&quot;#inconsistentDataProvider&quot;&gt;likely to result in inconsistent
    renderings&lt;/a&gt;, and the user agent is likely to disable the data grid.
 
-  &lt;h5 id=requirements&gt;&lt;span class=secno&gt;3.16.2.7. &lt;/span&gt;Requirements for
+  &lt;h5 id=requirements&gt;&lt;span class=secno&gt;3.15.2.7. &lt;/span&gt;Requirements for
    interactive user agents&lt;/h5&gt;
 
   &lt;p&gt;&lt;em&gt;This section only applies to interactive user agents.&lt;/em&gt;
@@ -26185,7 +25800,7 @@
    provider's method was invoked.&lt;/p&gt;
   &lt;!-- XXXPA &lt;p class=&quot;big-issue&quot;&gt;define actions (performAction(), etc)&lt;/p&gt; --&gt;
 
-  &lt;h5 id=the-selection&gt;&lt;span class=secno&gt;3.16.2.8. &lt;/span&gt;The selection&lt;/h5&gt;
+  &lt;h5 id=the-selection&gt;&lt;span class=secno&gt;3.15.2.8. &lt;/span&gt;The selection&lt;/h5&gt;
 
   &lt;p&gt;&lt;em&gt;This section only applies to interactive user agents. For other user
    agents, the &lt;code title=dom-datagrid-selection&gt;&lt;a
@@ -26311,7 +25926,7 @@
    relation to the &lt;code&gt;&lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt;
    interface.
 
-  &lt;h5 id=columns&gt;&lt;span class=secno&gt;3.16.2.9. &lt;/span&gt;Columns and captions&lt;/h5&gt;
+  &lt;h5 id=columns&gt;&lt;span class=secno&gt;3.15.2.9. &lt;/span&gt;Columns and captions&lt;/h5&gt;
 
   &lt;p&gt;&lt;em&gt;This section only applies to interactive user agents.&lt;/em&gt;
 
@@ -26363,7 +25978,7 @@
   &lt;p class=&quot;big-issue&quot;&gt;define drag and drop in datagrids; selectiondraggable, etc.&lt;/p&gt;
 --&gt;
 
-  &lt;h4 id=the-command&gt;&lt;span class=secno&gt;3.16.3 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-command&gt;&lt;span class=secno&gt;3.15.3 &lt;/span&gt;The &lt;dfn
    id=command0&gt;&lt;code&gt;command&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -26422,7 +26037,7 @@
            attribute boolean &lt;a href=&quot;#checked1&quot; title=dom-command-checked&gt;checked&lt;/a&gt;;
            attribute DOMString &lt;a href=&quot;#radiogroup0&quot; title=dom-command-radiogroup&gt;radiogroup&lt;/a&gt;;
            attribute boolean &lt;a href=&quot;#default2&quot; title=dom-command-default&gt;default&lt;/a&gt;;
- void &lt;a href=&quot;#click0&quot; title=dom-command-click&gt;click&lt;/a&gt;(); // shadows &lt;code&gt;&lt;a href=&quot;#htmlelement&quot;&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;.&lt;code title=dom-click&gt;&lt;a href=&quot;#click&quot;&gt;click()&lt;/a&gt;&lt;/code&gt;
+ void &lt;a href=&quot;#click&quot; title=dom-command-click&gt;click&lt;/a&gt;(); // shadows &lt;code&gt;&lt;a href=&quot;#htmlelement&quot;&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;.&lt;code title=dom-click&gt;&lt;a href=&quot;#click1&quot;&gt;click()&lt;/a&gt;&lt;/code&gt;
 };&lt;/pre&gt;
 
     &lt;p&gt;The &lt;code title=command-ro&gt;&lt;a href=&quot;#command2&quot;&gt;Command&lt;/a&gt;&lt;/code&gt;
@@ -26515,7 +26130,7 @@
    attributes must &lt;a href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; their respective namesake
    content attributes.
 
-  &lt;p&gt;The &lt;dfn id=click0 title=dom-command-click&gt;&lt;code&gt;click()&lt;/code&gt;&lt;/dfn&gt;
+  &lt;p&gt;The &lt;dfn id=click title=dom-command-click&gt;&lt;code&gt;click()&lt;/code&gt;&lt;/dfn&gt;
    method's behavior depends on the value of the &lt;code
    title=attr-command-type&gt;&lt;a href=&quot;#type13&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute of the
    element, as follows:
@@ -26576,7 +26191,7 @@
   &lt;p class=note&gt;&lt;code&gt;&lt;a href=&quot;#command0&quot;&gt;command&lt;/a&gt;&lt;/code&gt; elements are not
    rendered unless they &lt;a href=&quot;#menu&quot; title=menu&gt;form part of a menu&lt;/a&gt;.
 
-  &lt;h4 id=menus&gt;&lt;span class=secno&gt;3.16.4 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=menus&gt;&lt;span class=secno&gt;3.15.4 &lt;/span&gt;The &lt;dfn
    id=menu&gt;&lt;code&gt;menu&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -26685,7 +26300,7 @@
    the UA must invoke the &lt;code title=dom-form-submit&gt;submit()&lt;/code&gt; method
    of the &lt;code&gt;form&lt;/code&gt; element indicated by that DOM attribute.
 
-  &lt;h5 id=menus-intro&gt;&lt;span class=secno&gt;3.16.4.1. &lt;/span&gt;Introduction&lt;/h5&gt;
+  &lt;h5 id=menus-intro&gt;&lt;span class=secno&gt;3.15.4.1. &lt;/span&gt;Introduction&lt;/h5&gt;
 
   &lt;p&gt;&lt;em&gt;This section is non-normative.&lt;/em&gt;
 
@@ -26783,7 +26398,7 @@
 
 --&gt;
 
-  &lt;h5 id=building&gt;&lt;span class=secno&gt;3.16.4.2. &lt;/span&gt;&lt;dfn
+  &lt;h5 id=building&gt;&lt;span class=secno&gt;3.15.4.2. &lt;/span&gt;&lt;dfn
    id=building0&gt;Building menus and tool bars&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;A menu (or tool bar) consists of a list of zero or more of the following
@@ -26872,7 +26487,7 @@
    &lt;li&gt;Any separator at the start or end of the menu must be removed.
   &lt;/ol&gt;
 
-  &lt;h5 id=context&gt;&lt;span class=secno&gt;3.16.4.3. &lt;/span&gt;&lt;dfn id=context2&gt;Context
+  &lt;h5 id=context&gt;&lt;span class=secno&gt;3.15.4.3. &lt;/span&gt;&lt;dfn id=context2&gt;Context
    menus&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=contextmenu
@@ -26943,7 +26558,7 @@
    href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the &lt;code title=attr-contextmenu&gt;&lt;a
    href=&quot;#contextmenu&quot;&gt;contextmenu&lt;/a&gt;&lt;/code&gt; content attribute.
 
-  &lt;h5 id=toolbars&gt;&lt;span class=secno&gt;3.16.4.4. &lt;/span&gt;Toolbars&lt;/h5&gt;
+  &lt;h5 id=toolbars&gt;&lt;span class=secno&gt;3.15.4.4. &lt;/span&gt;Toolbars&lt;/h5&gt;
 
   &lt;p&gt;&lt;dfn id=toolbars0&gt;Toolbars&lt;/dfn&gt; are a kind of menu that is always
    visible.
@@ -26960,7 +26575,7 @@
   &lt;p&gt;The user agent must reflect changes made to the &lt;code&gt;&lt;a
    href=&quot;#menu&quot;&gt;menu&lt;/a&gt;&lt;/code&gt;'s DOM immediately in the UI.
 
-  &lt;h4 id=commands&gt;&lt;span class=secno&gt;3.16.5 &lt;/span&gt;Commands&lt;/h4&gt;
+  &lt;h4 id=commands&gt;&lt;span class=secno&gt;3.15.5 &lt;/span&gt;Commands&lt;/h4&gt;
 
   &lt;p&gt;A &lt;dfn id=command1 title=concept-command&gt;command&lt;/dfn&gt; is the
    abstraction behind menu items, buttons, and links. Once a command is
@@ -27053,7 +26668,7 @@
   readonly attribute boolean &lt;a href=&quot;#hidden2&quot; title=dom-command-ro-hidden&gt;hidden&lt;/a&gt;;
   readonly attribute boolean &lt;a href=&quot;#disabled7&quot; title=dom-command-ro-disabled&gt;disabled&lt;/a&gt;;              
   readonly attribute boolean &lt;a href=&quot;#checked3&quot; title=dom-command-ro-checked&gt;checked&lt;/a&gt;;              
-  void &lt;a href=&quot;#click1&quot; title=dom-command-ro-click&gt;click&lt;/a&gt;();
+  void &lt;a href=&quot;#click0&quot; title=dom-command-ro-click&gt;click&lt;/a&gt;();
   readonly attribute &lt;a href=&quot;#htmlcollection0&quot;&gt;HTMLCollection&lt;/a&gt; &lt;a href=&quot;#triggers0&quot; title=dom-command-ro-triggers&gt;triggers&lt;/a&gt;;
   readonly attribute &lt;a href=&quot;#command0&quot;&gt;Command&lt;/a&gt; &lt;span title=dom-command-ro-command&gt;command&lt;/span&gt;;
 };&lt;/pre&gt;
@@ -27141,11 +26756,11 @@
    on &lt;code&gt;input&lt;/code&gt; and &lt;code&gt;&lt;a href=&quot;#command0&quot;&gt;command&lt;/a&gt;&lt;/code&gt;
    elements.
 
-  &lt;p&gt;The &lt;dfn id=click1 title=dom-command-ro-click&gt;&lt;code&gt;click()&lt;/code&gt;&lt;/dfn&gt;
+  &lt;p&gt;The &lt;dfn id=click0 title=dom-command-ro-click&gt;&lt;code&gt;click()&lt;/code&gt;&lt;/dfn&gt;
    method must trigger the &lt;a href=&quot;#action&quot;
    title=command-facet-Action&gt;Action&lt;/a&gt; for the command. If the element does
    not define a command, this method must do nothing. This method will be
-   shadowed by the &lt;code title=dom-click&gt;&lt;a href=&quot;#click&quot;&gt;click()&lt;/a&gt;&lt;/code&gt;
+   shadowed by the &lt;code title=dom-click&gt;&lt;a href=&quot;#click1&quot;&gt;click()&lt;/a&gt;&lt;/code&gt;
    method on &lt;a href=&quot;#html-elements&quot;&gt;HTML elements&lt;/a&gt;, and is included only
    for completeness.
 
@@ -27170,7 +26785,7 @@
    href=&quot;#using7&quot;&gt;option&lt;/a&gt;&lt;/code&gt;, &lt;code title=command-element&gt;&lt;a
    href=&quot;#command3&quot;&gt;command&lt;/a&gt;&lt;/code&gt;.
 
-  &lt;h5 id=using&gt;&lt;span class=secno&gt;3.16.5.1. &lt;/span&gt;&lt;dfn id=using4
+  &lt;h5 id=using&gt;&lt;span class=secno&gt;3.15.5.1. &lt;/span&gt;&lt;dfn id=using4
    title=a-command&gt;Using the &lt;code&gt;a&lt;/code&gt; element to define a command&lt;/dfn&gt;&lt;/h5&gt;
 
   &lt;p&gt;An &lt;code&gt;&lt;a href=&quot;#a&quot;&gt;a&lt;/a&gt;&lt;/code&gt; element with an &lt;code
@@ -27227,7 +26842,7 @@
    command is to &lt;a href=&quot;#firing&quot; title=&quot;fire a click event&quot;&gt;fire a &lt;code
    title=&quot;&quot;&gt;click&lt;/code&gt; event&lt;/a&gt; at the element.
 
-  &lt;h5 id=using0&gt;&lt;span class=secno&gt;3.16.5.2. &lt;/span&gt;&lt;dfn id=using5
+  &lt;h5 id=using0&gt;&lt;span class=secno&gt;3.15.5.2. &lt;/span&gt;&lt;dfn id=using5
    title=button-command&gt;Using the &lt;code&gt;button&lt;/code&gt; element to define a
    command&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -27253,7 +26868,7 @@
    &lt;code&gt;move-up&lt;/code&gt; button type is disabled when it would have no
    effect).
 
-  &lt;h5 id=using1&gt;&lt;span class=secno&gt;3.16.5.3. &lt;/span&gt;&lt;dfn id=using6
+  &lt;h5 id=using1&gt;&lt;span class=secno&gt;3.15.5.3. &lt;/span&gt;&lt;dfn id=using6
    title=input-command&gt;Using the &lt;code&gt;input&lt;/code&gt; element to define a
    command&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -27326,7 +26941,7 @@
   is probably wrong for radio and checkbox types, depending on how we
   define &lt;input&gt;. --&gt;
 
-  &lt;h5 id=using2&gt;&lt;span class=secno&gt;3.16.5.4. &lt;/span&gt;&lt;dfn id=using7
+  &lt;h5 id=using2&gt;&lt;span class=secno&gt;3.15.5.4. &lt;/span&gt;&lt;dfn id=using7
    title=option-command&gt;Using the &lt;code&gt;option&lt;/code&gt; element to define a
    command&lt;/dfn&gt;&lt;/h5&gt;
 
@@ -27386,7 +27001,7 @@
    &lt;code&gt;select&lt;/code&gt; element (if there is one), as if the selection had
    been changed directly.
 
-  &lt;h5 id=using3&gt;&lt;span class=secno&gt;3.16.5.5. &lt;/span&gt;Using the &lt;dfn id=command3
+  &lt;h5 id=using3&gt;&lt;span class=secno&gt;3.15.5.5. &lt;/span&gt;Using the &lt;dfn id=command3
    title=command-element&gt;&lt;code&gt;command&lt;/code&gt;&lt;/dfn&gt; element to define a
    command&lt;/h5&gt;
 
@@ -27440,21 +27055,21 @@
 
   &lt;p&gt;The &lt;a href=&quot;#action&quot; title=command-facet-Action&gt;Action&lt;/a&gt; of the
    command is to invoke the behavior described in the definition of the &lt;code
-   title=dom-command-click&gt;&lt;a href=&quot;#click0&quot;&gt;click()&lt;/a&gt;&lt;/code&gt; method of the
+   title=dom-command-click&gt;&lt;a href=&quot;#click&quot;&gt;click()&lt;/a&gt;&lt;/code&gt; method of the
    &lt;code&gt;&lt;a href=&quot;#htmlcommandelement&quot;&gt;HTMLCommandElement&lt;/a&gt;&lt;/code&gt;
    interface.&lt;/p&gt;
   &lt;!-- XXX update to
   point to dom-click when we remove dom-command-click --&gt;
 
-  &lt;h3 id=datatemplate&gt;&lt;span class=secno&gt;3.17 &lt;/span&gt;Data Templates&lt;/h3&gt;
+  &lt;h3 id=datatemplate&gt;&lt;span class=secno&gt;3.16 &lt;/span&gt;Data Templates&lt;/h3&gt;
 
-  &lt;h4 id=introduction0&gt;&lt;span class=secno&gt;3.17.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction0&gt;&lt;span class=secno&gt;3.16.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;em&gt;This section is non-normative.&lt;/em&gt;
 
   &lt;p class=big-issue&gt;...examples...
 
-  &lt;h4 id=the-datatemplate&gt;&lt;span class=secno&gt;3.17.2 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-datatemplate&gt;&lt;span class=secno&gt;3.16.2 &lt;/span&gt;The &lt;dfn
    id=datatemplate0&gt;&lt;code&gt;datatemplate&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -27490,7 +27105,7 @@
    brings together the various rules that form a data template. The element
    doesn't itself do anything exciting.
 
-  &lt;h4 id=the-rule&gt;&lt;span class=secno&gt;3.17.3 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-rule&gt;&lt;span class=secno&gt;3.16.3 &lt;/span&gt;The &lt;dfn
    id=rule&gt;&lt;code&gt;rule&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -27567,7 +27182,7 @@
    attributes must &lt;a href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the &lt;code
    title=attr-rule-mode&gt;&lt;a href=&quot;#mode&quot;&gt;mode&lt;/a&gt;&lt;/code&gt; content attribute.
 
-  &lt;h4 id=the-nest&gt;&lt;span class=secno&gt;3.17.4 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-nest&gt;&lt;span class=secno&gt;3.16.4 &lt;/span&gt;The &lt;dfn
    id=nest&gt;&lt;code&gt;nest&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -27630,7 +27245,7 @@
    attribute must &lt;a href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the &lt;code
    title=attr-nest-mode&gt;&lt;a href=&quot;#mode1&quot;&gt;mode&lt;/a&gt;&lt;/code&gt; content attribute.
 
-  &lt;h4 id=global0&gt;&lt;span class=secno&gt;3.17.5 &lt;/span&gt;Global attributes for data
+  &lt;h4 id=global0&gt;&lt;span class=secno&gt;3.16.5 &lt;/span&gt;Global attributes for data
    templates&lt;/h4&gt;
   &lt;!-- authoring side, with DOM reflections --&gt;
 
@@ -27686,10 +27301,10 @@
    title=attr-registrationmark&gt;&lt;a
    href=&quot;#registrationmark&quot;&gt;registrationmark&lt;/a&gt;&lt;/code&gt; content attribute.
 
-  &lt;h4 id=processing1&gt;&lt;span class=secno&gt;3.17.6 &lt;/span&gt;Processing model&lt;/h4&gt;
+  &lt;h4 id=processing1&gt;&lt;span class=secno&gt;3.16.6 &lt;/span&gt;Processing model&lt;/h4&gt;
   &lt;!-- ua side --&gt;
 
-  &lt;h5 id=the-originalcontent&gt;&lt;span class=secno&gt;3.17.6.1. &lt;/span&gt;The &lt;code
+  &lt;h5 id=the-originalcontent&gt;&lt;span class=secno&gt;3.16.6.1. &lt;/span&gt;The &lt;code
    title=dom-originalContent&gt;&lt;a
    href=&quot;#originalcontent&quot;&gt;originalContent&lt;/a&gt;&lt;/code&gt; DOM attribute&lt;/h5&gt;
 
@@ -27707,7 +27322,7 @@
    just as the &lt;code title=dom-templateElement&gt;&lt;a
    href=&quot;#templateelement&quot;&gt;templateElement&lt;/a&gt;&lt;/code&gt; DOM attribute can.
 
-  &lt;h5 id=the-template&gt;&lt;span class=secno&gt;3.17.6.2. &lt;/span&gt;The &lt;code
+  &lt;h5 id=the-template&gt;&lt;span class=secno&gt;3.16.6.2. &lt;/span&gt;The &lt;code
    title=attr-template&gt;&lt;a href=&quot;#template&quot;&gt;template&lt;/a&gt;&lt;/code&gt; attribute&lt;/h5&gt;
 
   &lt;p&gt;&lt;dfn id=setting title=datatemplate-template-set&gt;Setting&lt;/dfn&gt;: When an
@@ -27832,7 +27447,7 @@
    &lt;code&gt;&lt;a href=&quot;#datatemplate0&quot;&gt;datatemplate&lt;/a&gt;&lt;/code&gt; element. Initially,
    the attribute must have the value null.
 
-  &lt;h5 id=the-ref&gt;&lt;span class=secno&gt;3.17.6.3. &lt;/span&gt;The &lt;code
+  &lt;h5 id=the-ref&gt;&lt;span class=secno&gt;3.16.6.3. &lt;/span&gt;The &lt;code
    title=attr-ref&gt;&lt;a href=&quot;#ref&quot;&gt;ref&lt;/a&gt;&lt;/code&gt; attribute&lt;/h5&gt;
 
   &lt;p&gt;&lt;dfn id=setting0 title=datatemplate-ref-set&gt;Setting&lt;/dfn&gt;: When an &lt;a
@@ -27920,7 +27535,7 @@
    that is also null, in which case no template is currently being applied.
    Initially, the attribute must have the value null.
 
-  &lt;h5 id=the-nodedatatemplate&gt;&lt;span class=secno&gt;3.17.6.4. &lt;/span&gt;The &lt;code&gt;&lt;a
+  &lt;h5 id=the-nodedatatemplate&gt;&lt;span class=secno&gt;3.16.6.4. &lt;/span&gt;The &lt;code&gt;&lt;a
    href=&quot;#nodedatatemplate&quot;&gt;NodeDataTemplate&lt;/a&gt;&lt;/code&gt; interface&lt;/h5&gt;
 
   &lt;p&gt;All objects that implement the &lt;code&gt;Node&lt;/code&gt; interface must also
@@ -27939,7 +27554,7 @@
    for updating the generated content&lt;/a&gt; of elements that are using the data
    template feature.
 
-  &lt;h5 id=mutations&gt;&lt;span class=secno&gt;3.17.6.5. &lt;/span&gt;Mutations&lt;/h5&gt;
+  &lt;h5 id=mutations&gt;&lt;span class=secno&gt;3.16.6.5. &lt;/span&gt;Mutations&lt;/h5&gt;
 
   &lt;p&gt;An element with a non-null &lt;code title=dom-templateElement&gt;&lt;a
    href=&quot;#templateelement&quot;&gt;templateElement&lt;/a&gt;&lt;/code&gt; is said to be a &lt;dfn
@@ -27984,7 +27599,7 @@
    a template whenever either the backing data changes or the template itself
    changes.
 
-  &lt;h5 id=updating0&gt;&lt;span class=secno&gt;3.17.6.6. &lt;/span&gt;Updating the generated
+  &lt;h5 id=updating0&gt;&lt;span class=secno&gt;3.16.6.6. &lt;/span&gt;Updating the generated
    content&lt;/h5&gt;
 
   &lt;p&gt;When the user agent is to &lt;dfn id=update title=datatemplate-regen&gt;update
@@ -28327,9 +27942,9 @@
   &lt;!-- this is basically used for expanding
   nodeValue values --&gt;
 
-  &lt;h3 id=miscellaneous&gt;&lt;span class=secno&gt;3.18 &lt;/span&gt;Miscellaneous elements&lt;/h3&gt;
+  &lt;h3 id=miscellaneous&gt;&lt;span class=secno&gt;3.17 &lt;/span&gt;Miscellaneous elements&lt;/h3&gt;
 
-  &lt;h4 id=the-legend&gt;&lt;span class=secno&gt;3.18.1 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-legend&gt;&lt;span class=secno&gt;3.17.1 &lt;/span&gt;The &lt;dfn
    id=legend&gt;&lt;code&gt;legend&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -28365,7 +27980,7 @@
    or explanatory caption for the rest of the contents of the &lt;code&gt;&lt;a
    href=&quot;#legend&quot;&gt;legend&lt;/a&gt;&lt;/code&gt; element's parent element.
 
-  &lt;h4 id=the-div&gt;&lt;span class=secno&gt;3.18.2 &lt;/span&gt;The &lt;dfn
+  &lt;h4 id=the-div&gt;&lt;span class=secno&gt;3.17.2 &lt;/span&gt;The &lt;dfn
    id=div&gt;&lt;code&gt;div&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=element&gt;
@@ -30023,10 +29638,11 @@
    have the actual dispatch use those generic terms when firing events.
 
   &lt;p&gt;Certain operations and methods are defined as firing events on elements.
-   For example, the &lt;code title=dom-click&gt;&lt;a href=&quot;#click&quot;&gt;click()&lt;/a&gt;&lt;/code&gt;
-   method on the &lt;code&gt;&lt;a href=&quot;#htmlelement&quot;&gt;HTMLElement&lt;/a&gt;&lt;/code&gt;
-   interface is defined as firing a &lt;code title=event-click&gt;click&lt;/code&gt;
-   event on the element. &lt;a href=&quot;#refsDOM3EVENTS&quot;&gt;[DOM3EVENTS]&lt;/a&gt;
+   For example, the &lt;code title=dom-click&gt;&lt;a
+   href=&quot;#click1&quot;&gt;click()&lt;/a&gt;&lt;/code&gt; method on the &lt;code&gt;&lt;a
+   href=&quot;#htmlelement&quot;&gt;HTMLElement&lt;/a&gt;&lt;/code&gt; interface is defined as firing
+   a &lt;code title=event-click&gt;click&lt;/code&gt; event on the element. &lt;a
+   href=&quot;#refsDOM3EVENTS&quot;&gt;[DOM3EVENTS]&lt;/a&gt;
 
   &lt;p&gt;&lt;dfn id=firing title=&quot;fire a click event&quot;&gt;Firing a &lt;code
    title=event-click&gt;click&lt;/code&gt; event&lt;/dfn&gt; means that a &lt;a
@@ -36800,8 +36416,7 @@
    &lt;code title=rel-up&gt;&lt;a href=&quot;#up&quot;&gt;up&lt;/a&gt;&lt;/code&gt; keywords (the interface
    hides duplicates).
 
-  &lt;h5 id=sequential0&gt;&lt;span class=secno&gt;4.12.3.19. &lt;/span&gt;Sequential link
-   types&lt;/h5&gt;
+  &lt;h5 id=sequential&gt;&lt;span class=secno&gt;4.12.3.19. &lt;/span&gt;Sequential link types&lt;/h5&gt;
 
   &lt;p&gt;Some documents form part of a sequence of documents.
 
@@ -37223,7 +36838,8 @@
   <A HREF="http://wp.netscape.com/eng/mozilla/3.0/handbook/javascript/ref_h-l.htm#84722">http://wp.netscape.com/eng/mozilla/3.0/handbook/javascript/ref_h-l.htm#84722</A>
 --&gt;
 
-  &lt;h2 id=editing&gt;&lt;span class=secno&gt;5. &lt;/span&gt;&lt;dfn id=editing0&gt;Editing&lt;/dfn&gt;&lt;/h2&gt;
+  &lt;h2 id=editing&gt;&lt;span class=secno&gt;5. &lt;/span&gt;&lt;dfn id=user-interaction&gt;User
+   Interaction&lt;/dfn&gt;&lt;/h2&gt;
 
   &lt;p&gt;This section describes various features that allow authors to enable
    users to edit documents and parts of documents interactively.
@@ -37235,7 +36851,725 @@
   &lt;p class=big-issue&gt;Would be nice to explain how these features work
    together.
 
-  &lt;h3 id=contenteditable&gt;&lt;span class=secno&gt;5.2 &lt;/span&gt;The &lt;code
+  &lt;h3 id=the-irrelevant&gt;&lt;span class=secno&gt;5.2 &lt;/span&gt;The &lt;dfn id=irrelevant
+   title=attr-irrelevant&gt;&lt;code&gt;irrelevant&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h3&gt;
+
+  &lt;p&gt;All elements may have the &lt;code title=attr-irrelevant&gt;&lt;a
+   href=&quot;#irrelevant&quot;&gt;irrelevant&lt;/a&gt;&lt;/code&gt; content attribute set. The &lt;code
+   title=attr-irrelevant&gt;&lt;a href=&quot;#irrelevant&quot;&gt;irrelevant&lt;/a&gt;&lt;/code&gt;
+   attribute is a &lt;a href=&quot;#boolean0&quot;&gt;boolean attribute&lt;/a&gt;. When specified
+   on an element, it indicates that the element is not yet, or is no longer,
+   relevant. User agents should not render elements that have the &lt;code
+   title=attr-irrelevant&gt;&lt;a href=&quot;#irrelevant&quot;&gt;irrelevant&lt;/a&gt;&lt;/code&gt;
+   attribute specified.
+
+  &lt;div class=example&gt;
+   &lt;p&gt;In the following skeletal example, the attribute is used to hide the
+    Web game's main screen until the user logs in:&lt;/p&gt;
+
+   &lt;pre&gt;  &lt;h1&gt;The Example Game&lt;/h1&gt;
+  &lt;section id=&quot;login&quot;&gt;
+   &lt;h2&gt;Login&lt;/h2&gt;
+   &lt;form&gt;
+    ...
+    &lt;!-- calls login() once the user's credentials have been checked --&gt;
+   &lt;/form&gt;
+   &lt;script&gt;
+    function login() {
+      // switch screens
+      document.getElementById('login').irrelevant = true;
+      document.getElementById('game').irrelevant = false;
+    }
+   &lt;/script&gt;
+  &lt;/section&gt;
+  &lt;section id=&quot;game&quot; irrelevant&gt;
+   ...
+  &lt;/section&gt;&lt;/pre&gt;
+  &lt;/div&gt;
+
+  &lt;p&gt;The &lt;code title=attr-irrelevant&gt;&lt;a
+   href=&quot;#irrelevant&quot;&gt;irrelevant&lt;/a&gt;&lt;/code&gt; attribute must not be used to
+   hide content that could legitimately be shown in another presentation. For
+   example, it is incorrect to use &lt;code title=attr-irrelevant&gt;&lt;a
+   href=&quot;#irrelevant&quot;&gt;irrelevant&lt;/a&gt;&lt;/code&gt; to hide panels in a tabbed
+   dialog, because the tabbed interface is merely a kind of overflow
+   presentation &mdash; showing all the form controls in one big page with a
+   scrollbar would be equivalent, and no less correct.
+
+  &lt;p&gt;Elements in a section hidden by the &lt;code title=attr-irrelevant&gt;&lt;a
+   href=&quot;#irrelevant&quot;&gt;irrelevant&lt;/a&gt;&lt;/code&gt; attribute are still active, e.g.
+   scripts and form controls in such sections still render execute and submit
+   respectively. Only their presentation to the user changes.
+
+  &lt;p&gt;The &lt;dfn id=irrelevant0
+   title=dom-irrelevant&gt;&lt;code&gt;irrelevant&lt;/code&gt;&lt;/dfn&gt; DOM attribute must &lt;a
+   href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the content attribute of the same name.
+
+  &lt;h3 id=activation&gt;&lt;span class=secno&gt;5.3 &lt;/span&gt;Activation&lt;/h3&gt;
+
+  &lt;p&gt;The &lt;dfn id=click1 title=dom-click&gt;click()&lt;/dfn&gt; method must &lt;a
+   href=&quot;#firing&quot;&gt;fire a &lt;code&gt;click&lt;/code&gt; event&lt;/a&gt; at the element, whose
+   default action is the &lt;span title=&quot;fire a DOMActivate event&quot;&gt;firing of a
+   further &lt;code title=event-DOMActivate&gt;DOMActivate&lt;/code&gt; event&lt;/span&gt; at
+   the same element, whose own default action is to go through all the
+   elements the &lt;code title=event-DOMActivate&gt;DOMActivate&lt;/code&gt; event
+   bubbled through (starting at the target node and going towards the
+   &lt;code&gt;Document&lt;/code&gt; node), looking for an element with an &lt;a
+   href=&quot;#activation0&quot;&gt;activation behavior&lt;/a&gt;; the first element, in reverse
+   tree order, to have one, must have its activation behavior executed.
+
+  &lt;h3 id=scrolling&gt;&lt;span class=secno&gt;5.4 &lt;/span&gt;Scrolling elements into view&lt;/h3&gt;
+
+  &lt;p&gt;The &lt;dfn id=scrollintoview
+   title=dom-scrollIntoView&gt;&lt;code&gt;scrollIntoView([&lt;var
+   title=&quot;&quot;&gt;top&lt;/var&gt;])&lt;/code&gt;&lt;/dfn&gt; method, when called, must cause the
+   element on which the method was called to have the attention of the user
+   called to it.
+
+  &lt;p class=note&gt;In a speech browser, this could happen by having the current
+   playback position move to the start of the given element.
+
+  &lt;p&gt;In visual user agents, if the argument is present and has the value
+   false, the user agent should scroll the element into view such that both
+   the bottom and the top of the element are in the viewport, with the bottom
+   of the element aligned with the bottom of the viewport. If it isn't
+   possible to show the entire element in that way, or if the argument is
+   omitted or is true, then the user agent should instead align the top of
+   the element with the top of the viewport. Visual user agents should
+   further scroll horizontally as necessary to bring the element to the
+   attention of the user.
+
+  &lt;p&gt;Non-visual user agents may ignore the argument, or may treat it in some
+   media-specific manner most useful to the user.&lt;/p&gt;
+  &lt;!-- XXX maybe this should move to CSSOM --&gt;
+
+  &lt;h3 id=focus&gt;&lt;span class=secno&gt;5.5 &lt;/span&gt;Focus&lt;/h3&gt;
+  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%20%0A...%3Cform%3E%3Cinput%20name%3Da%20onfocus%3D%22value%2B%3D1%3Bd.name%3D%27a%27%3Bname%3D%27d%27%3Bb.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%20%0A...%3Cform%3E%3Cinput%20name%3Da%20onfocus%3D%22value%2B%3D1%3Bd.name%3D%27a%27%3Bname%3D%27d%27%3Bb.focus(</A>)%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22value%2B%3D1%3Bc.focus()%22%3E%0A%3Cinput%20name%3Dc%20onfocus%3D%22value%2B%3D1%3Bd.focus()%22%3E%0A%3Cinput%20name%3Dd%20onfocus%3D%22value%2B%3D1%3Ba.focus()%22%3E --&gt;
+  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af1%20%27%3Bb.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af1%20%27%3Bb.focus(</A>)%3Balert(document.activeElement.name)%3Bt.value%2B%3D%27af2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27ab%20%27%3B%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22t.value%2B%3D%27bf1%20%27%3Bc.focus()%3Bt.value%2B%3D%27bf2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27bb%20%27%3B%22%3E%0A%3Cinput%20name%3Dc%20onfocus%3D%22t.value%2B%3D%27cf1%20%27%3Bc.focus()%3Bt.value%2B%3D%27cf2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27cb%20%27%3B%22%3E%0A --&gt;
+  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%20onload%3D%22document.forms%5B0%5D.a.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%20onload%3D%22document.forms%5B0%5D.a.focus(</A>)%22%3E%0A...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onblur%3D%22t.value%2B%3D'ab%20'%3B%20b.focus()%3B%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22t.value%2B%3D'bf1%20'%3Ba.focus()%3Bt.value%2B%3D'bf2%20'%3B%22%20onblur%3D%22t.value%2B%3D'bb%20'%3B%22%3E --&gt;
+  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%3E...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27ab1%20%27%3Bb.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%3E...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27ab1%20%27%3Bb.focus(</A>)%3Bt.value%2B%3D%27ab2%20%27%3B%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22t.value%2B%3D%27bf1%20%27%3Ba.focus()%3Bt.value%2B%3D%27bf2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27bb%20%27%3B%22%3E --&gt;
+
+  &lt;p&gt;When an element is &lt;em&gt;focused&lt;/em&gt;, key events received by the document
+   must be targeted at that element. There may be no element focused; when no
+   element is focused, key events received by the document must be targetted
+   at &lt;a href=&quot;#the-body1&quot;&gt;the &lt;code&gt;body&lt;/code&gt; element&lt;/a&gt;.
+
+  &lt;p&gt;User agents may track focus for each &lt;a href=&quot;#browsing1&quot;&gt;browsing
+   context&lt;/a&gt; or &lt;code&gt;Document&lt;/code&gt; individually, or may support only one
+   focused elment per &lt;a href=&quot;#top-level&quot;&gt;top-level browsing context&lt;/a&gt;
+   &mdash; user agents should follow platform conventions in this regard.
+
+  &lt;p&gt;Which element(s) within a &lt;a href=&quot;#top-level&quot;&gt;top-level browsing
+   context&lt;/a&gt; currently has focus must be independent of whether or not the
+   &lt;a href=&quot;#top-level&quot;&gt;top-level browsing context&lt;/a&gt; itself has the
+   &lt;em&gt;system focus&lt;/em&gt;.
+
+  &lt;h4 id=focus-management&gt;&lt;span class=secno&gt;5.5.1 &lt;/span&gt;Focus management&lt;/h4&gt;
+
+  &lt;p&gt;The &lt;dfn id=focusing&gt;focusing steps&lt;/dfn&gt; are as follows:
+
+  &lt;ol&gt;
+   &lt;li&gt;
+    &lt;p&gt;If focusing the element will remove the focus from another element,
+     then run the &lt;a href=&quot;#unfocusing&quot;&gt;unfocusing steps&lt;/a&gt; for that
+     element.
+
+   &lt;li&gt;
+    &lt;p&gt;Make the element the currently focused element in its &lt;a
+     href=&quot;#top-level&quot;&gt;top-level browsing context&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Some elements, most notably &lt;code&gt;&lt;a href=&quot;#area&quot;&gt;area&lt;/a&gt;&lt;/code&gt;, can
+     correspond to more than one distinct focusable area. If a particular
+     area was indicated when the element was focused, then that is the area
+     that must get focus; otherwise, e.g. when using the &lt;code
+     title=dom-focus&gt;&lt;a href=&quot;#focus0&quot;&gt;focus()&lt;/a&gt;&lt;/code&gt; method, the first
+     such region in tree order is the one that must be focused.&lt;/p&gt;
+
+   &lt;li&gt;
+    &lt;p&gt;&lt;a href=&quot;#firing2&quot;&gt;Fire a simple event&lt;/a&gt; that doesn't bubble called
+     &lt;code title=event-focus&gt;focus&lt;/code&gt; at the element.
+  &lt;/ol&gt;
+
+  &lt;p&gt;User agents must run the &lt;a href=&quot;#focusing&quot;&gt;focusing steps&lt;/a&gt; for an
+   element whenever the user moves the focus to a &lt;a
+   href=&quot;#focusable&quot;&gt;focusable&lt;/a&gt; element.
+
+  &lt;p&gt;The &lt;dfn id=unfocusing&gt;unfocusing steps&lt;/dfn&gt; are as follows:
+
+  &lt;ol&gt;&lt;!-- XXX onchange event for input controls --&gt;
+
+   &lt;li&gt;
+    &lt;p&gt;Unfocus the element.
+
+   &lt;li&gt;
+    &lt;p&gt;&lt;a href=&quot;#firing2&quot;&gt;Fire a simple event&lt;/a&gt; that doesn't bubble called
+     &lt;code title=event-blur&gt;blur&lt;/code&gt; at the element.
+  &lt;/ol&gt;
+
+  &lt;p&gt;User agents should run the &lt;a href=&quot;#unfocusing&quot;&gt;unfocusing steps&lt;/a&gt;
+   for an element whenever the user moves the focus away from any &lt;a
+   href=&quot;#focusable&quot;&gt;focusable&lt;/a&gt; element.
+
+  &lt;hr&gt;
+
+  &lt;p&gt;The &lt;dfn id=focus0 title=dom-focus&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method,
+   when invoked, must run the following algorithm:
+
+  &lt;ol&gt;
+   &lt;li&gt;
+    &lt;p&gt;If the element is marked as &lt;i&gt;&lt;a href=&quot;#locked&quot;&gt;locked for
+     focus&lt;/a&gt;&lt;/i&gt;, then abort these steps.
+
+   &lt;li&gt;
+    &lt;p&gt;If the element is not &lt;a href=&quot;#focusable&quot;&gt;focusable&lt;/a&gt;, then abort
+     these steps.
+
+   &lt;li&gt;
+    &lt;p&gt;Mark the element as &lt;dfn id=locked&gt;locked for focus&lt;/dfn&gt;.
+
+   &lt;li&gt;
+    &lt;p&gt;If the element is not already focused, run the &lt;a
+     href=&quot;#focusing&quot;&gt;focusing steps&lt;/a&gt; for the element.
+
+   &lt;li&gt;
+    &lt;p&gt;Unmark the element as &lt;i&gt;&lt;a href=&quot;#locked&quot;&gt;locked for focus&lt;/a&gt;&lt;/i&gt;.
+  &lt;/ol&gt;
+
+  &lt;p&gt;The &lt;dfn id=blur title=dom-blur&gt;&lt;code&gt;blur()&lt;/code&gt;&lt;/dfn&gt; method, when
+   invoked, should run the &lt;a href=&quot;#unfocusing&quot;&gt;unfocusing steps&lt;/a&gt; for the
+   element. User agents may selectively or uniformly ignore calls to this
+   method for usability reasons.&lt;/p&gt;
+  &lt;!-- XXX define onfocus/onblur behaviour for Window --&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;The &lt;dfn id=activeelement
+   title=dom-document-activeElement&gt;&lt;code&gt;activeElement&lt;/code&gt;&lt;/dfn&gt;
+   attribute must return the element in the document that is focused. If no
+   element in the &lt;code&gt;Document&lt;/code&gt; is focused, this must return &lt;a
+   href=&quot;#the-body1&quot;&gt;the &lt;code&gt;body&lt;/code&gt; element&lt;/a&gt;.
+
+  &lt;p&gt;The &lt;dfn id=hasfocus
+   title=dom-document-hasFocus&gt;&lt;code&gt;hasFocus()&lt;/code&gt;&lt;/dfn&gt; method must
+   return true if the document, one of its nested &lt;a href=&quot;#browsing1&quot;
+   title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt;, or any element in the
+   document or its browsing contexts currently has the system focus.
+
+  &lt;h4 id=sequential0&gt;&lt;span class=secno&gt;5.5.2 &lt;/span&gt;Sequential focus
+   navigation&lt;/h4&gt;
+
+  &lt;p&gt;The &lt;dfn id=tabindex title=attr-tabindex&gt;&lt;code&gt;tabindex&lt;/code&gt;&lt;/dfn&gt;
+   content attribute specifies whether the element is focusable, whether it
+   can be reached using sequential focus navigation, and the relative order
+   of the element for the purposes of sequential focus navigation. The name
+   &quot;tab index&quot; comes from the common use of the &quot;tab&quot; key to navigate through
+   the focusable elements. The term &quot;tabbing&quot; refers to moving forward
+   through the focusable elements that can be reached using sequential focus
+   navigation.
+
+  &lt;p&gt;The &lt;code title=attr-tabindex&gt;&lt;a href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt;
+   attribute, if specified, must have a value that is a &lt;a
+   href=&quot;#valid0&quot;&gt;valid integer&lt;/a&gt;.
+
+  &lt;p&gt;If the attribute is specified, it must be parsed using the &lt;a
+   href=&quot;#rules0&quot;&gt;rules for parsing integers&lt;/a&gt;. The attribute's values have
+   the following meanings:
+
+  &lt;dl&gt;
+   &lt;dt&gt;If the attribute is omitted or parsing the value returns an error
+
+   &lt;dd&gt;
+    &lt;p&gt;The user agent should follow platform conventions to determine if the
+     element is to be focusable and, if so, whether the element can be
+     reached using sequential focus navigation, and if so, what its relative
+     order should be.&lt;/p&gt;
+
+   &lt;dt id=negative-tabindex&gt;If the value is a negative integer
+
+   &lt;dd&gt;
+    &lt;p&gt;The user agent must allow the element to be focused, but should not
+     allow the element to be reached using sequential focus navigation.&lt;/p&gt;
+
+   &lt;dt&gt;If the value is a zero
+
+   &lt;dd&gt;
+    &lt;p&gt;The user agent must allow the element to be focused, should allow the
+     element to be reached using sequential focus navigation, and should
+     follow platform conventions to determine the element's relative order.&lt;/p&gt;
+
+   &lt;dt&gt;If the value is greater than zero
+
+   &lt;dd&gt;
+    &lt;p&gt;The user agent must allow the element to be focused, should allow the
+     element to be reached using sequential focus navigation, and should
+     place the element in the sequential focus navigation order so that it
+     is:&lt;/p&gt;
+
+    &lt;ul&gt;
+     &lt;li&gt;before any focusable element whose &lt;code title=attr-tabindex&gt;&lt;a
+      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has been omitted or
+      whose value, when parsed, returns an error,
+
+     &lt;li&gt;before any focusable element whose &lt;code title=attr-tabindex&gt;&lt;a
+      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value equal to or
+      less than zero,
+
+     &lt;li&gt;after any element whose &lt;code title=attr-tabindex&gt;&lt;a
+      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value greater than
+      zero but less than the value of the &lt;code title=attr-tabindex&gt;&lt;a
+      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on the element,
+
+     &lt;li&gt;after any element whose &lt;code title=attr-tabindex&gt;&lt;a
+      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value equal to the
+      value of the &lt;code title=attr-tabindex&gt;&lt;a
+      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on the element but that
+      is earlier in the document in &lt;a href=&quot;#tree-order&quot;&gt;tree order&lt;/a&gt; than
+      the element,
+
+     &lt;li&gt;before any element whose &lt;code title=attr-tabindex&gt;&lt;a
+      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value equal to the
+      value of the &lt;code title=attr-tabindex&gt;&lt;a
+      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on the element but that
+      is later in the document in &lt;a href=&quot;#tree-order&quot;&gt;tree order&lt;/a&gt; than
+      the element, and
+
+     &lt;li&gt;before any element whose &lt;code title=attr-tabindex&gt;&lt;a
+      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value greater than
+      the value of the &lt;code title=attr-tabindex&gt;&lt;a
+      href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on the element.
+    &lt;/ul&gt;
+  &lt;/dl&gt;
+
+  &lt;p&gt;An element is &lt;dfn id=focusable&gt;focusable&lt;/dfn&gt; if the &lt;code
+   title=attr-tabindex&gt;&lt;a href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute's
+   definition above defines the element to be focusable &lt;em&gt;and&lt;/em&gt; the
+   element is &lt;span&gt;being
+   rendered&lt;/span&gt;&lt;!-- XXX xref, define display:none as not
+  being rendered, off-screen as being rendered? --&gt;.
+
+  &lt;p&gt;When an element is focused, the element matches the CSS
+   &lt;code&gt;:focus&lt;/code&gt; pseudo-class and key events are dispatched on that
+   element in response to keyboard input.
+
+  &lt;p&gt;The &lt;dfn id=tabindex0 title=dom-tabIndex&gt;&lt;code&gt;tabIndex&lt;/code&gt;&lt;/dfn&gt; DOM
+   attribute must &lt;a href=&quot;#reflect&quot;&gt;reflect&lt;/a&gt; the value of the &lt;code
+   title=attr-tabIndex&gt;&lt;a href=&quot;#tabindex&quot;&gt;tabIndex&lt;/a&gt;&lt;/code&gt; content
+   attribute. If the attribute is not present, or parsing its value returns
+   an error, then the DOM attribute must return 0 for elements that are
+   focusable and &amp;#x2212;1 for elements that are not focusable.&lt;/p&gt;
+  &lt;!--XXX
+  &lt;h4&gt;The &lt;dfn&gt;&lt;code&gt;DocumentFocus&lt;/code&gt;&lt;/dfn&gt; interface&lt;/h4&gt;
+
+  &lt;p&gt;The &lt;code&gt;DocumentFocus&lt;/code&gt; interface contains methods for
+  moving focus around the document. It can be obtained from objects
+  that implement the &lt;code&gt;Document&lt;/code&gt; interface using
+  binding-specific casting methods.&lt;/p&gt;
+
+  &lt;p class=&quot;big-issue&quot;&gt;Actually even better would be to just mix it
+  straight into those interfaces somehow.&lt;/p&gt;
+
+  &lt;pre class=&quot;idl&quot;&gt;[NoInterfaceObject] interface &lt;dfn&gt;DocumentFocus&lt;/dfn&gt; {
+  void moveFocusForward();
+  void moveFocusBackward();
+  void moveFocusUp();
+  void moveFocusRight();
+  void moveFocusDown();
+  void moveFocusLeft();
+};&lt;/pre&gt;
+
+  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;currentFocus&lt;/code&gt;&lt;/dfn&gt; attribute returns the
+  element to which key events will be sent when the document receives
+  key events.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;moveFocusForward&lt;/code&gt;&lt;/dfn&gt; method uses the
+  &lt;code&gt;'nav-index'&lt;/code&gt; property and the &lt;code
+  title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute to find the next
+  focusable element and focuses it.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;moveFocusBackward&lt;/code&gt;&lt;/dfn&gt; method uses the
+  &lt;code&gt;'nav-index'&lt;/code&gt; property and the &lt;code
+  title=&quot;attr-tabindex&gt;tabindex&lt;/code&gt; attribute to find the previous
+  focusable element and focuses it.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;moveFocusUp&lt;/code&gt;&lt;/dfn&gt; method uses the
+  &lt;code&gt;'nav-up'&lt;/code&gt; property and the &lt;code
+  title=&quot;attr-tabindex&gt;tabindex&lt;/code&gt; attribute to find an
+  appropriate focusable element and focuses it.&lt;/p&gt;
+
+  &lt;p&gt;In a similar manner, the &lt;dfn&gt;&lt;code&gt;moveFocusRight&lt;/code&gt;&lt;/dfn&gt;,
+  &lt;dfn&gt;&lt;code&gt;moveFocusDown&lt;/code&gt;&lt;/dfn&gt;, and
+  &lt;dfn&gt;&lt;code&gt;moveFocusLeft&lt;/code&gt;&lt;/dfn&gt; methods use the
+  &lt;code&gt;'nav-right'&lt;/code&gt;, &lt;code&gt;'nav-down'&lt;/code&gt;, and
+  &lt;code&gt;'nav-left'&lt;/code&gt; properties (respectively), and the &lt;code
+  title=&quot;attr-tabindex&gt;tabindex&lt;/code&gt; attribute, to find an
+  appropriate focusable element and focus it.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;'nav-index'&lt;/code&gt;, &lt;code&gt;'nav-up'&lt;/code&gt;,
+  &lt;code&gt;'nav-right'&lt;/code&gt;, &lt;code&gt;'nav-down'&lt;/code&gt;, and
+  &lt;code&gt;'nav-left'&lt;/code&gt; properties are defined in &lt;a
+  href=&quot;#refsCSS3UI&quot;&gt;[CSS3UI]&lt;/a&gt;.&lt;/p&gt;
+
+Other things to look at are IE's focus APIs (document.activeElement,
+document.hasFocus, HTMLElement.setActive(), onBeforeActivate,
+onActivate, onBeforeDeactivate, onDeactivate, document.hasFocus):
+   <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=296471">https://bugzilla.mozilla.org/show_bug.cgi?id=296471</A>
+   <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=296469">https://bugzilla.mozilla.org/show_bug.cgi?id=296469</A>
+   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/activeelement.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/activeelement.asp</A>
+   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/setactive.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/setactive.asp</A>
+   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onbeforeactivate.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onbeforeactivate.asp</A>
+   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/focus.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/focus.asp</A>
+--&gt;
+
+  &lt;h3 id=selection&gt;&lt;span class=secno&gt;5.6 &lt;/span&gt;The text selection APIs&lt;/h3&gt;
+
+  &lt;p&gt;Every &lt;a href=&quot;#browsing1&quot;&gt;browsing context&lt;/a&gt; has &lt;dfn id=a-selection
+   title=&quot;the selection&quot;&gt;a selection&lt;/dfn&gt;. The selection can be empty, and
+   the selection can have more than one range (a disjointed selection). The
+   user should be able to change the selection. User agents are not required
+   to let the user select more than one range, and may collapse multiple
+   ranges in the selection to a single range when the user interacts with the
+   selection. (But, of course, the user agent may let the user create
+   selections with multiple ranges.)
+
+  &lt;p&gt;This one selection must be shared by all the content of the browsing
+   context (though not by nested &lt;a href=&quot;#browsing1&quot; title=&quot;browsing
+   context&quot;&gt;browsing contexts&lt;/a&gt;), including any editing hosts in the
+   document. (Editing hosts that are not inside a document cannot have a
+   selection.)
+
+  &lt;p&gt;If the selection is empty (collapsed, so that it has only one segment
+   and that segment's start and end points are the same) then the selection's
+   position should equal the caret position. When the selection is not empty,
+   this specification does not define the caret position; user agents should
+   follow platform conventions in deciding whether the caret is at the start
+   of the selection, the end of the selection, or somewhere else.
+
+  &lt;p&gt;On some platforms (such as those using Wordstar editing conventions),
+   the caret position is totally independent of the start and end of the
+   selection, even when the selection is empty. On such platforms, user
+   agents may ignore the requirement that the cursor position be linked to
+   the position of the selection altogether.
+
+  &lt;p&gt;Mostly for historical reasons, in addition to the &lt;a
+   href=&quot;#browsing1&quot;&gt;browsing context&lt;/a&gt;'s &lt;a href=&quot;#a-selection&quot; title=&quot;the
+   selection&quot;&gt;selection&lt;/a&gt;, each &lt;code&gt;textarea&lt;/code&gt; and
+   &lt;code&gt;input&lt;/code&gt; element has an independent selection. These are the
+   &lt;dfn id=text-field title=&quot;text field selection&quot;&gt;text field
+   selections&lt;/dfn&gt;.
+
+  &lt;p&gt;User agents may selectively ignore attempts to use the API to adjust the
+   selection made after the user has modified the selection. For example, if
+   the user has just selected part of a word, the user agent could ignore
+   attempts to use the API call to immediately unselect the selection
+   altogether, but could allow attempts to change the selection to select the
+   entire word.
+
+  &lt;p&gt;User agents may also allow the user to create selections that are not
+   exposed to the API.
+
+  &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#datagrid0&quot;&gt;datagrid&lt;/a&gt;&lt;/code&gt; and
+   &lt;code&gt;select&lt;/code&gt; elements also have selections, indicating which items
+   have been picked by the user. These are not discussed in this section.
+
+  &lt;p class=note&gt;This specification does not specify how selections are
+   presented to the user. The Selectors specification, in conjunction with
+   CSS, can be used to style text selections using the &lt;code&gt;&lt;a
+   href=&quot;#selection1&quot;&gt;::selection&lt;/a&gt;&lt;/code&gt; pseudo-element. &lt;a
+   href=&quot;#refsSELECTORS&quot;&gt;[SELECTORS]&lt;/a&gt; &lt;a href=&quot;#refsCSS21&quot;&gt;[CSS21]&lt;/a&gt;
+
+  &lt;h4 id=documentSelection&gt;&lt;span class=secno&gt;5.6.1 &lt;/span&gt;APIs for the
+   browsing context selection&lt;/h4&gt;
+
+  &lt;p&gt;The &lt;dfn id=getselection
+   title=dom-getSelection&gt;&lt;code&gt;getSelection()&lt;/code&gt;&lt;/dfn&gt; method on the
+   &lt;code&gt;&lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; interface must return the
+   &lt;code&gt;&lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt; object representing &lt;a
+   href=&quot;#a-selection&quot;&gt;the selection&lt;/a&gt; of that &lt;code&gt;&lt;a
+   href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; object's &lt;a href=&quot;#browsing1&quot;&gt;browsing
+   context&lt;/a&gt;.
+
+  &lt;p&gt;For historical reasons, the &lt;dfn id=getselection0
+   title=dom-document-getSelection&gt;&lt;code&gt;getSelection()&lt;/code&gt;&lt;/dfn&gt; method
+   on the &lt;code&gt;&lt;a href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface
+   must return the same &lt;code&gt;&lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt;
+   object.
+
+  &lt;pre
+   class=idl&gt;[&lt;a href=&quot;#stringify0&quot; title=dom-selection-toString&gt;Stringifies&lt;/a&gt;] interface &lt;dfn id=selection1&gt;Selection&lt;/dfn&gt; {
+  readonly attribute Node &lt;a href=&quot;#anchornode&quot; title=dom-selection-anchorNode&gt;anchorNode&lt;/a&gt;;
+  readonly attribute long &lt;a href=&quot;#anchoroffset&quot; title=dom-selection-anchorOffset&gt;anchorOffset&lt;/a&gt;;
+  readonly attribute Node &lt;a href=&quot;#focusnode&quot; title=dom-selection-focusNode&gt;focusNode&lt;/a&gt;;
+  readonly attribute long &lt;a href=&quot;#focusoffset&quot; title=dom-selection-focusOffset&gt;focusOffset&lt;/a&gt;;
+  readonly attribute boolean &lt;a href=&quot;#iscollapsed&quot; title=dom-selection-isCollapsed&gt;isCollapsed&lt;/a&gt;;
+  void &lt;a href=&quot;#collapse&quot; title=dom-selection-collapse&gt;collapse&lt;/a&gt;(in Node parentNode, in long offset);
+  void &lt;a href=&quot;#collapsetostart&quot; title=dom-selection-collapseToStart&gt;collapseToStart&lt;/a&gt;();
+  void &lt;a href=&quot;#collapsetoend&quot; title=dom-selection-collapseToEnd&gt;collapseToEnd&lt;/a&gt;();
+  void &lt;a href=&quot;#selectallchildren&quot; title=dom-selection-selectAllChildren&gt;selectAllChildren&lt;/a&gt;(in Node parentNode);
+  void &lt;a href=&quot;#deletefromdocument&quot; title=dom-selection-deleteFromDocument&gt;deleteFromDocument&lt;/a&gt;();
+  readonly attribute long &lt;a href=&quot;#rangecount&quot; title=dom-selection-rangeCount&gt;rangeCount&lt;/a&gt;;
+  Range &lt;a href=&quot;#getrangeat&quot; title=dom-selection-getRangeAt&gt;getRangeAt&lt;/a&gt;(in long index);
+  void &lt;a href=&quot;#addrange&quot; title=dom-selection-addRange&gt;addRange&lt;/a&gt;(in Range range);
+  void &lt;a href=&quot;#removerange&quot; title=dom-selection-removeRange&gt;removeRange&lt;/a&gt;(in Range range);
+  void &lt;a href=&quot;#removeallranges&quot; title=dom-selection-removeAllRanges&gt;removeAllRanges&lt;/a&gt;();
+};&lt;/pre&gt;
+  &lt;!--
+  See also:
+    <A HREF="http://lxr.mozilla.org/mozilla/source/content/base/public/nsISelection.idl">http://lxr.mozilla.org/mozilla/source/content/base/public/nsISelection.idl</A>
+  This spec doesn't have everything from there yet, in particular
+  selectionLanguageChange() and containsNode() are missing. They are missing
+  because I couldn't work out how to define them in terms of Ranges.
+
+  I also haven't included extend():
+
+    void &lt;span title=&quot;dom-selection-extend&quot;&gt;extend&lt;/span&gt;(in Node parentNode, in long offset);
+    // raise if no range
+    // raise WRONG_DOCUMENT_ERR if parentNode not in document
+    // do something
+
+  ...mostly because I can't work out how to describe what it does quickly.
+--&gt;
+
+  &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt; interface is
+   represents a list of &lt;code&gt;Range&lt;/code&gt; objects. The first item in the
+   list has index 0, and the last item has index &lt;var title=&quot;&quot;&gt;count&lt;/var&gt;-1,
+   where &lt;var title=&quot;&quot;&gt;count&lt;/var&gt; is the number of ranges in the list. &lt;a
+   href=&quot;#refsDOM2RANGE&quot;&gt;[DOM2RANGE]&lt;/a&gt;
+
+  &lt;p&gt;All of the members of the &lt;code&gt;&lt;a
+   href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt; interface are defined in terms of
+   operations on the &lt;code&gt;Range&lt;/code&gt; objects represented by this object.
+   These operations can raise exceptions, as defined for the
+   &lt;code&gt;Range&lt;/code&gt; interface; this can therefore result in the members of
+   the &lt;code&gt;&lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt; interface raising
+   exceptions as well, in addition to any explicitly called out below.&lt;/p&gt;
+  &lt;!-- XXX example --&gt;
+
+  &lt;p&gt;The &lt;dfn id=anchornode
+   title=dom-selection-anchorNode&gt;&lt;code&gt;anchorNode&lt;/code&gt;&lt;/dfn&gt; attribute
+   must return the value returned by the &lt;code title=&quot;&quot;&gt;startContainer&lt;/code&gt;
+   attribute of the last &lt;code&gt;Range&lt;/code&gt; object in the list, or null if
+   the list is empty.
+
+  &lt;p&gt;The &lt;dfn id=anchoroffset
+   title=dom-selection-anchorOffset&gt;&lt;code&gt;anchorOffset&lt;/code&gt;&lt;/dfn&gt; attribute
+   must return the value returned by the &lt;code title=&quot;&quot;&gt;startOffset&lt;/code&gt;
+   attribute of the last &lt;code&gt;Range&lt;/code&gt; object in the list, or 0 if the
+   list is empty.
+
+  &lt;p&gt;The &lt;dfn id=focusnode
+   title=dom-selection-focusNode&gt;&lt;code&gt;focusNode&lt;/code&gt;&lt;/dfn&gt; attribute must
+   return the value returned by the &lt;code title=&quot;&quot;&gt;endContainer&lt;/code&gt;
+   attribute of the last &lt;code&gt;Range&lt;/code&gt; object in the list, or null if
+   the list is empty.
+
+  &lt;p&gt;The &lt;dfn id=focusoffset
+   title=dom-selection-focusOffset&gt;&lt;code&gt;focusOffset&lt;/code&gt;&lt;/dfn&gt; attribute
+   must return the value returned by the &lt;code title=&quot;&quot;&gt;endOffset&lt;/code&gt;
+   attribute of the last &lt;code&gt;Range&lt;/code&gt; object in the list, or 0 if the
+   list is empty.
+
+  &lt;p&gt;The &lt;dfn id=iscollapsed
+   title=dom-selection-isCollapsed&gt;&lt;code&gt;isCollapsed&lt;/code&gt;&lt;/dfn&gt; attribute
+   must return true if there are zero ranges, or if there is exactly one
+   range and its &lt;code title=&quot;&quot;&gt;collapsed&lt;/code&gt; attribute is itself true.
+   Otherwise it must return false.
+
+  &lt;p&gt;The &lt;dfn id=collapse title=dom-selection-collapse&gt;&lt;code&gt;collapse(&lt;var
+   title=&quot;&quot;&gt;parentNode&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;offset&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
+   must raise a &lt;code&gt;WRONG_DOCUMENT_ERR&lt;/code&gt; DOM exception if &lt;var
+   title=&quot;&quot;&gt;parentNode&lt;/var&gt;'s &lt;code title=&quot;&quot;&gt;ownerDocument&lt;/code&gt; is not the
+   &lt;code&gt;&lt;a href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object with which
+   the &lt;code&gt;&lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt; object is associated.
+   Otherwise it is, and the method must remove all the ranges in the &lt;code&gt;&lt;a
+   href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt; list, then create a new
+   &lt;code&gt;Range&lt;/code&gt; object, add it to the list, and invoke its &lt;code
+   title=&quot;&quot;&gt;setStart()&lt;/code&gt; and &lt;code title=&quot;&quot;&gt;setEnd()&lt;/code&gt; methods with
+   the &lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;offset&lt;/var&gt; values
+   as their arguments.
+
+  &lt;p&gt;The &lt;dfn id=collapsetostart
+   title=dom-selection-collapseToStart&gt;&lt;code&gt;collapseToStart()&lt;/code&gt;&lt;/dfn&gt;
+   method must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; DOM exception if there
+   are no ranges in the list. Otherwise, it must invoke the &lt;code
+   title=dom-selection-collapse&gt;&lt;a href=&quot;#collapse&quot;&gt;collapse()&lt;/a&gt;&lt;/code&gt;
+   method with the &lt;code title=&quot;&quot;&gt;startContainer&lt;/code&gt; and &lt;code
+   title=&quot;&quot;&gt;startOffset&lt;/code&gt; values of the first &lt;code&gt;Range&lt;/code&gt; object
+   in the list as the arguments.
+
+  &lt;p&gt;The &lt;dfn id=collapsetoend
+   title=dom-selection-collapseToEnd&gt;&lt;code&gt;collapseToEnd()&lt;/code&gt;&lt;/dfn&gt;
+   method must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; DOM exception if there
+   are no ranges in the list. Otherwise, it must invoke the &lt;code
+   title=dom-selection-collapse&gt;&lt;a href=&quot;#collapse&quot;&gt;collapse()&lt;/a&gt;&lt;/code&gt;
+   method with the &lt;code title=&quot;&quot;&gt;endContainer&lt;/code&gt; and &lt;code
+   title=&quot;&quot;&gt;endOffset&lt;/code&gt; values of the last &lt;code&gt;Range&lt;/code&gt; object in
+   the list as the arguments.
+
+  &lt;p&gt;The &lt;dfn id=selectallchildren
+   title=dom-selection-selectAllChildren&gt;&lt;code&gt;selectAllChildren(&lt;var
+   title=&quot;&quot;&gt;parentNode&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must invoke the &lt;code
+   title=dom-selection-collapse&gt;&lt;a href=&quot;#collapse&quot;&gt;collapse()&lt;/a&gt;&lt;/code&gt;
+   method with the &lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt; value as the first argument
+   and 0 as the second argument, and must then invoke the &lt;code
+   title=&quot;&quot;&gt;selectNodeContents()&lt;/code&gt; method on the first (and only) range
+   in the list with the &lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt; value as the argument.
+
+  &lt;p&gt;The &lt;dfn id=deletefromdocument
+   title=dom-selection-deleteFromDocument&gt;&lt;code&gt;deleteFromDocument()&lt;/code&gt;&lt;/dfn&gt;
+   method must invoke the &lt;code title=&quot;&quot;&gt;deleteContents()&lt;/code&gt; method on
+   each range in the list, if any, from first to last.
+
+  &lt;p&gt;The &lt;dfn id=rangecount
+   title=dom-selection-rangeCount&gt;&lt;code&gt;rangeCount&lt;/code&gt;&lt;/dfn&gt; attribute
+   must return the number of ranges in the list.
+
+  &lt;p&gt;The &lt;dfn id=getrangeat
+   title=dom-selection-getRangeAt&gt;&lt;code&gt;getRangeAt(&lt;var
+   title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the &lt;var
+   title=&quot;&quot;&gt;index&lt;/var&gt;th range in the list. If &lt;var title=&quot;&quot;&gt;index&lt;/var&gt; is
+   less than zero or greater or equal to the value returned by the &lt;code
+   title=dom-selection-rangeCount&gt;&lt;a href=&quot;#rangecount&quot;&gt;rangeCount&lt;/a&gt;&lt;/code&gt;
+   attribute, then the method must raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; DOM
+   exception.
+
+  &lt;p&gt;The &lt;dfn id=addrange title=dom-selection-addRange&gt;&lt;code&gt;addRange(&lt;var
+   title=&quot;&quot;&gt;range&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must add the given &lt;var
+   title=&quot;&quot;&gt;range&lt;/var&gt; Range object to the list of selections, at the end
+   (so the newly added range is the new last range). Duplicates are not
+   prevented; a range may be added more than once in which case it appears in
+   the list more than once, which (for example) will cause &lt;a
+   href=&quot;#stringify0&quot; title=dom-selection-toString&gt;stringification&lt;/a&gt; to
+   return the range's text twice.&lt;/p&gt;
+  &lt;!-- XXX how does this interact with
+  deleteFromDocument() which acts on all ranges? --&gt;
+
+  &lt;p&gt;The &lt;dfn id=removerange
+   title=dom-selection-removeRange&gt;&lt;code&gt;removeRange(&lt;var
+   title=&quot;&quot;&gt;range&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must remove the first occurrence
+   of &lt;var title=&quot;&quot;&gt;range&lt;/var&gt; in the list of ranges, if it appears at all.
+
+  &lt;p&gt;The &lt;dfn id=removeallranges
+   title=dom-selection-removeAllRanges&gt;&lt;code&gt;removeAllRanges()&lt;/code&gt;&lt;/dfn&gt;
+   method must remove all the ranges from the list of ranges, such that the
+   &lt;code title=dom-selection-rangeCount&gt;&lt;a
+   href=&quot;#rangecount&quot;&gt;rangeCount&lt;/a&gt;&lt;/code&gt; attribute returns 0 after the
+   &lt;code title=dom-selection-removeAllRanges&gt;&lt;a
+   href=&quot;#removeallranges&quot;&gt;removeAllRanges()&lt;/a&gt;&lt;/code&gt; method is invoked
+   (and until a new range is added to the list, either through this interface
+   or via user interaction).
+
+  &lt;p&gt;Objects implementing this interface must &lt;dfn id=stringify0
+   title=dom-selection-toString&gt;stringify&lt;/dfn&gt; to a concatenation of the
+   results of invoking the &lt;code title=&quot;&quot;&gt;toString()&lt;/code&gt; method of the
+   &lt;code&gt;Range&lt;/code&gt; object on each of the ranges of the selection, in the
+   order they appear in the list (first to last).
+
+  &lt;div class=example&gt;
+   &lt;p&gt;In the following document fragment, the emphasised parts indicate the
+    selection.&lt;/p&gt;
+
+   &lt;pre&gt;&lt;p&gt;The cute girl likes &lt;em&gt;the &lt;/em&gt;&lt;cite&gt;&lt;em&gt;Oxford English&lt;/em&gt; Dictionary&lt;/cite&gt;.&lt;/p&gt;&lt;/pre&gt;
+
+   &lt;p&gt;If a script invoked &lt;code
+    title=&quot;&quot;&gt;window.getSelection().toString()&lt;/code&gt;, the return value would
+    be &quot;&lt;code&gt;the Oxford English&lt;/code&gt;&quot;.&lt;/p&gt;
+  &lt;/div&gt;
+
+  &lt;p class=note&gt;The &lt;code&gt;&lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt;
+   interface has no relation to the &lt;code&gt;&lt;a
+   href=&quot;#datagridselection&quot;&gt;DataGridSelection&lt;/a&gt;&lt;/code&gt; interface.
+
+  &lt;h4 id=textFieldSelection&gt;&lt;span class=secno&gt;5.6.2 &lt;/span&gt;APIs for the text
+   field selections&lt;/h4&gt;
+
+  &lt;p class=big-issue&gt;When we define HTMLTextAreaElement and HTMLInputElement
+   we will have to add the IDL given below to both of their IDLs.
+
+  &lt;p&gt;The &lt;code&gt;input&lt;/code&gt; and &lt;code&gt;textarea&lt;/code&gt; elements define four
+   members in their DOM interfaces for handling their text selection:
+
+  &lt;pre
+   class=idl&gt;  void &lt;a href=&quot;#select1&quot; title=&quot;dom-textarea/input-select&quot;&gt;select&lt;/a&gt;();
+           attribute unsigned long &lt;a href=&quot;#selectionstart&quot; title=&quot;dom-textarea/input-selectionStart&quot;&gt;selectionStart&lt;/a&gt;;
+           attribute unsigned long &lt;a href=&quot;#selectionend&quot; title=&quot;dom-textarea/input-selectionEnd&quot;&gt;selectionEnd&lt;/a&gt;;
+  void &lt;a href=&quot;#setselectionrange&quot; title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;setSelectionRange&lt;/a&gt;(in unsigned long start, in unsigned long end);&lt;/pre&gt;
+  &lt;!-- XXX also add textLength? it seems to be widely used --&gt;
+
+  &lt;p&gt;These methods and attributes expose and control the selection of
+   &lt;code&gt;input&lt;/code&gt; and &lt;code&gt;textarea&lt;/code&gt; text fields.
+
+  &lt;p&gt;The &lt;dfn id=select1
+   title=&quot;dom-textarea/input-select&quot;&gt;&lt;code&gt;select()&lt;/code&gt;&lt;/dfn&gt; method must
+   cause the contents of the text field to be fully selected.
+
+  &lt;p&gt;The &lt;dfn id=selectionstart
+   title=&quot;dom-textarea/input-selectionStart&quot;&gt;&lt;code&gt;selectionStart&lt;/code&gt;&lt;/dfn&gt;
+   attribute must, on getting, return the offset (in logical order) to the
+   character that immediately follows the start of the selection. If there is
+   no selection, then it must return the offset (in logical order) to the
+   character that immediately follows the text entry cursor.
+
+  &lt;p&gt;On setting, it must act as if the &lt;code
+   title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;&lt;a
+   href=&quot;#setselectionrange&quot;&gt;setSelectionRange()&lt;/a&gt;&lt;/code&gt; method had been
+   called, with the new value as the first argument, and the current value of
+   the &lt;code title=&quot;dom-textarea/input-selectionEnd&quot;&gt;&lt;a
+   href=&quot;#selectionend&quot;&gt;selectionEnd&lt;/a&gt;&lt;/code&gt; attribute as the second
+   argument, unless the current value of the &lt;code
+   title=&quot;dom-textarea/input-selectionEnd&quot;&gt;&lt;a
+   href=&quot;#selectionend&quot;&gt;selectionEnd&lt;/a&gt;&lt;/code&gt; is less than the new value,
+   in which case the second argument must also be the new value.
+
+  &lt;p&gt;The &lt;dfn id=selectionend
+   title=&quot;dom-textarea/input-selectionEnd&quot;&gt;&lt;code&gt;selectionEnd&lt;/code&gt;&lt;/dfn&gt;
+   attribute must, on getting, return the offset (in logical order) to the
+   character that immediately follows the end of the selection. If there is
+   no selection, then it must return the offset (in logical order) to the
+   character that immediately follows the text entry cursor.
+
+  &lt;p&gt;On setting, it must act as if the &lt;code
+   title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;&lt;a
+   href=&quot;#setselectionrange&quot;&gt;setSelectionRange()&lt;/a&gt;&lt;/code&gt; method had been
+   called, with the current value of the &lt;code
+   title=&quot;dom-textarea/input-selectionStart&quot;&gt;&lt;a
+   href=&quot;#selectionstart&quot;&gt;selectionStart&lt;/a&gt;&lt;/code&gt; attribute as the first
+   argument, and new value as the second argument.
+
+  &lt;p&gt;The &lt;dfn id=setselectionrange
+   title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;&lt;code&gt;setSelectionRange(&lt;var
+   title=&quot;&quot;&gt;start&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;end&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must
+   set the selection of the text field to the sequence of characters starting
+   with the character at the &lt;var title=&quot;&quot;&gt;start&lt;/var&gt;th position (in logical
+   order) and ending with the character at the &lt;span&gt;(&lt;var
+   title=&quot;&quot;&gt;end&lt;/var&gt;-1)&lt;/span&gt;th position. Arguments greater than the length
+   of the value in the text field must be treated as pointing at the end of
+   the text field. If &lt;var title=&quot;&quot;&gt;end&lt;/var&gt; is less than or equal to &lt;var
+   title=&quot;&quot;&gt;start&lt;/var&gt; then the start of the selection and the end of the
+   selection must both be placed immediately before the character with offset
+   &lt;var title=&quot;&quot;&gt;end&lt;/var&gt;. In UAs where there is no concept of an empty
+   selection, this must set the cursor to be just before the character with
+   offset &lt;var title=&quot;&quot;&gt;end&lt;/var&gt;.
+
+  &lt;div class=example&gt;
+   &lt;p&gt;To obtain the currently selected text, the following JavaScript
+    suffices:&lt;/p&gt;
+
+   &lt;pre&gt;var selectionText = control.value.substring(control.selectionStart, control.selectionEnd);&lt;/pre&gt;
+
+   &lt;p&gt;...where &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; is the &lt;code&gt;input&lt;/code&gt; or
+    &lt;code&gt;textarea&lt;/code&gt; element.&lt;/p&gt;
+  &lt;/div&gt;
+
+  &lt;p&gt;Characters with no visible rendering, such as U+200D ZERO WIDTH JOINER,
+   still count as characters. Thus, for instance, the selection can include
+   just an invisible character, and the text insertion cursor can be placed
+   to one side or another of such a character.
+
+  &lt;p&gt;When these methods and attributes are used with &lt;code&gt;input&lt;/code&gt;
+   elements that are not displaying simple text fields, they must raise an
+   &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception.
+
+  &lt;h3 id=contenteditable&gt;&lt;span class=secno&gt;5.7 &lt;/span&gt;The &lt;code
    title=attr-contenteditable&gt;&lt;a
    href=&quot;#contenteditable0&quot;&gt;contenteditable&lt;/a&gt;&lt;/code&gt; attribute&lt;/h3&gt;
 
@@ -37312,7 +37646,7 @@
 
   &lt;p&gt;If an element is &lt;a href=&quot;#editable0&quot;&gt;editable&lt;/a&gt; and its parent
    element is not, or if an element is &lt;a href=&quot;#editable0&quot;&gt;editable&lt;/a&gt; and
-   it has no parent element, then the element is an &lt;dfn id=editing1&gt;editing
+   it has no parent element, then the element is an &lt;dfn id=editing0&gt;editing
    host&lt;/dfn&gt;. Editable elements can be nested. User agents must make editing
    hosts focusable (which typically means they enter the &lt;a href=&quot;#tabindex&quot;
    title=attr-tabindex&gt;tab order&lt;/a&gt;). An editing host can contain
@@ -37332,7 +37666,7 @@
   &lt;!-- XXX would be useful to have a way to mark an element as
   unremovable. --&gt;
 
-  &lt;h4 id=user-editing&gt;&lt;span class=secno&gt;5.2.1 &lt;/span&gt;User editing actions&lt;/h4&gt;
+  &lt;h4 id=user-editing&gt;&lt;span class=secno&gt;5.7.1 &lt;/span&gt;User editing actions&lt;/h4&gt;
 
   &lt;p&gt;There are several actions that the user agent should allow the user to
    perform while the user is interacting with an editing host. How exactly
@@ -37520,7 +37854,7 @@
    href=&quot;#a-selection&quot;&gt;the selection&lt;/a&gt; followed by a request to break the
    paragraph at that position.
 
-  &lt;h4 id=making&gt;&lt;span class=secno&gt;5.2.2 &lt;/span&gt;Making entire documents
+  &lt;h4 id=making&gt;&lt;span class=secno&gt;5.7.2 &lt;/span&gt;Making entire documents
    editable&lt;/h4&gt;
 
   &lt;p&gt;Documents have a &lt;dfn id=designMode
@@ -37555,7 +37889,7 @@
    href=&quot;#designModeScriptBlocked&quot;&gt;causes scripts in general to be
    disabled&lt;/a&gt; and the document to become editable.
 
-  &lt;h3 id=dnd&gt;&lt;span class=secno&gt;5.3 &lt;/span&gt;&lt;dfn id=drag-and&gt;Drag and
+  &lt;h3 id=dnd&gt;&lt;span class=secno&gt;5.8 &lt;/span&gt;&lt;dfn id=drag-and&gt;Drag and
    drop&lt;/dfn&gt;&lt;/h3&gt;
   &lt;!--XXX
 
@@ -37611,13 +37945,13 @@
    (so if the operation is not canceled, there must be at least one element
    in the middle step).
 
-  &lt;h4 id=introduction4&gt;&lt;span class=secno&gt;5.3.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction4&gt;&lt;span class=secno&gt;5.8.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;em&gt;This section is non-normative.&lt;/em&gt;
 
   &lt;p class=big-issue&gt;It's also currently non-existent.
 
-  &lt;h4 id=the-dragevent&gt;&lt;span class=secno&gt;5.3.2 &lt;/span&gt;The &lt;code&gt;&lt;a
+  &lt;h4 id=the-dragevent&gt;&lt;span class=secno&gt;5.8.2 &lt;/span&gt;The &lt;code&gt;&lt;a
    href=&quot;#dragevent&quot;&gt;DragEvent&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a
    href=&quot;#datatransfer0&quot;&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; interfaces&lt;/h4&gt;
 
@@ -37767,7 +38101,7 @@
    the drag feedback&lt;/a&gt;. It adds an element to the &lt;code&gt;&lt;a
    href=&quot;#datatransfer0&quot;&gt;DataTransfer&lt;/a&gt;&lt;/code&gt; object.
 
-  &lt;h4 id=events1&gt;&lt;span class=secno&gt;5.3.3 &lt;/span&gt;Events fired during a
+  &lt;h4 id=events1&gt;&lt;span class=secno&gt;5.8.3 &lt;/span&gt;Events fired during a
    drag-and-drop action&lt;/h4&gt;
 
   &lt;p&gt;The following events are involved in the drag-and-drop model. Whenever
@@ -38021,7 +38355,7 @@
      &lt;td&gt;&lt;code title=&quot;&quot;&gt;copy&lt;/code&gt;
   &lt;/table&gt;
 
-  &lt;h4 id=drag-and-drop&gt;&lt;span class=secno&gt;5.3.4 &lt;/span&gt;Drag-and-drop
+  &lt;h4 id=drag-and-drop&gt;&lt;span class=secno&gt;5.8.4 &lt;/span&gt;Drag-and-drop
    processing model&lt;/h4&gt;
 
   &lt;p&gt;When the user attempts to begin a drag operation, the user agent must
@@ -38459,7 +38793,7 @@
     &lt;/ol&gt;
   &lt;/ol&gt;
 
-  &lt;h5 id=when-the&gt;&lt;span class=secno&gt;5.3.4.1. &lt;/span&gt;When the drag-and-drop
+  &lt;h5 id=when-the&gt;&lt;span class=secno&gt;5.8.4.1. &lt;/span&gt;When the drag-and-drop
    operation starts or ends in another document&lt;/h5&gt;
 
   &lt;p&gt;The model described above is independent of which &lt;code&gt;Document&lt;/code&gt;
@@ -38470,7 +38804,7 @@
   source in the events to the target, or is that obvious enough from
   the requirements in the event section above? --&gt;
 
-  &lt;h5 id=when-the0&gt;&lt;span class=secno&gt;5.3.4.2. &lt;/span&gt;When the drag-and-drop
+  &lt;h5 id=when-the0&gt;&lt;span class=secno&gt;5.8.4.2. &lt;/span&gt;When the drag-and-drop
    operation starts or ends in another application&lt;/h5&gt;
 
   &lt;p&gt;If the drag is initiated in another application, the &lt;a
@@ -38494,7 +38828,7 @@
    ended in another application from the case of a drag-and-drop operation
    being started or ended in another document from another domain.
 
-  &lt;h4 id=the-draggable&gt;&lt;span class=secno&gt;5.3.5 &lt;/span&gt;The &lt;dfn id=draggable
+  &lt;h4 id=the-draggable&gt;&lt;span class=secno&gt;5.8.5 &lt;/span&gt;The &lt;dfn id=draggable
    title=attr-draggable&gt;&lt;code&gt;draggable&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
 
   &lt;p&gt;All elements may have the &lt;code title=attr-draggable&gt;&lt;a
@@ -38544,7 +38878,7 @@
    href=&quot;#draggable&quot;&gt;draggable&lt;/a&gt;&lt;/code&gt; content attribute must be set to
    the literal value &lt;code title=&quot;&quot;&gt;true&lt;/code&gt;.
 
-  &lt;h4 id=copy-and&gt;&lt;span class=secno&gt;5.3.6 &lt;/span&gt;Copy and paste&lt;/h4&gt;
+  &lt;h4 id=copy-and&gt;&lt;span class=secno&gt;5.8.6 &lt;/span&gt;Copy and paste&lt;/h4&gt;
 
   &lt;p&gt;Copy-and-paste is a form of drag-and-drop: the &quot;copy&quot; part is equivalent
    to dragging content to another application (the &quot;clipboard&quot;), and the
@@ -38555,7 +38889,7 @@
    System) is equivalent to a drag-and-drop operation where the source is the
    selection.
 
-  &lt;h5 id=copy-to&gt;&lt;span class=secno&gt;5.3.6.1. &lt;/span&gt;Copy to clipboard&lt;/h5&gt;
+  &lt;h5 id=copy-to&gt;&lt;span class=secno&gt;5.8.6.1. &lt;/span&gt;Copy to clipboard&lt;/h5&gt;
 
   &lt;p&gt;When the user invokes a copy operation, the user agent must act as if
    the user had invoked a drag on the current selection. If the drag-and-drop
@@ -38567,14 +38901,14 @@
    agent should then follow the relevant platform-specific conventions for
    copy operations (e.g. updating the clipboard).
 
-  &lt;h5 id=cut-to&gt;&lt;span class=secno&gt;5.3.6.2. &lt;/span&gt;Cut to clipboard&lt;/h5&gt;
+  &lt;h5 id=cut-to&gt;&lt;span class=secno&gt;5.8.6.2. &lt;/span&gt;Cut to clipboard&lt;/h5&gt;
 
   &lt;p&gt;When the user invokes a cut operation, the user agent must act as if the
    user had invoked a copy operation (see the previous section), followed, if
    the copy was completed successfully, by &lt;a
    href=&quot;#contenteditable-delete&quot;&gt;a selection delete operation&lt;/a&gt;.
 
-  &lt;h5 id=paste&gt;&lt;span class=secno&gt;5.3.6.3. &lt;/span&gt;Paste from clipboard&lt;/h5&gt;
+  &lt;h5 id=paste&gt;&lt;span class=secno&gt;5.8.6.3. &lt;/span&gt;Paste from clipboard&lt;/h5&gt;
 
   &lt;p&gt;When the user invokes a clipboard paste operation, the user agent must
    act as if the user had invoked a drag on a hypothetical application
@@ -38586,7 +38920,7 @@
    keyboard focus, and then ended the drag-and-drop operation without
    canceling it.
 
-  &lt;h5 id=paste0&gt;&lt;span class=secno&gt;5.3.6.4. &lt;/span&gt;Paste from selection&lt;/h5&gt;
+  &lt;h5 id=paste0&gt;&lt;span class=secno&gt;5.8.6.4. &lt;/span&gt;Paste from selection&lt;/h5&gt;
 
   &lt;p&gt;When the user invokes a selection paste operation, the user agent must
    act as if the user had invoked a drag on the current selection, then
@@ -38594,7 +38928,7 @@
    element with the keyboard focus, and then ended the drag-and-drop
    operation without canceling it.
 
-  &lt;h4 id=security8&gt;&lt;span class=secno&gt;5.3.7 &lt;/span&gt;Security risks in the
+  &lt;h4 id=security8&gt;&lt;span class=secno&gt;5.8.7 &lt;/span&gt;Security risks in the
    drag-and-drop model&lt;/h4&gt;
 
   &lt;p&gt;User agents must not make the data added to the &lt;code&gt;&lt;a
@@ -38620,7 +38954,7 @@
    sensitive sources and dropped into hostile documents without the user's
    consent.
 
-  &lt;h3 id=undo&gt;&lt;span class=secno&gt;5.4 &lt;/span&gt;&lt;dfn id=undo-history&gt;Undo
+  &lt;h3 id=undo&gt;&lt;span class=secno&gt;5.9 &lt;/span&gt;&lt;dfn id=undo-history&gt;Undo
    history&lt;/dfn&gt;&lt;/h3&gt;
 
   &lt;p class=big-issue&gt;There has got to be a better way of doing this, surely.
@@ -38666,7 +39000,7 @@
    actions (such as interactions with server-side state, or in the
    implementation of a drawing tool).
 
-  &lt;h4 id=the-undomanager&gt;&lt;span class=secno&gt;5.4.1 &lt;/span&gt;The &lt;code&gt;&lt;a
+  &lt;h4 id=the-undomanager&gt;&lt;span class=secno&gt;5.9.1 &lt;/span&gt;The &lt;code&gt;&lt;a
    href=&quot;#undomanager&quot;&gt;UndoManager&lt;/a&gt;&lt;/code&gt; interface&lt;/h4&gt;
 
   &lt;div class=big-issue&gt;
@@ -38809,7 +39143,7 @@
    &quot;startBatchingDOMChangesForUndo()&quot; and after that the changes to the DOM
    go in as if the user had done them.
 
-  &lt;h4 id=undo-moving&gt;&lt;span class=secno&gt;5.4.2 &lt;/span&gt;&lt;dfn id=undo-moving0
+  &lt;h4 id=undo-moving&gt;&lt;span class=secno&gt;5.9.2 &lt;/span&gt;&lt;dfn id=undo-moving0
    title=do-undo&gt;Undo: moving back in the undo transaction history&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;When the user invokes an undo operation, or when the &lt;code
@@ -38851,7 +39185,7 @@
    used to populate the redo history, and will then be used if the user
    invokes the &quot;redo&quot; command to undo his undo.
 
-  &lt;h4 id=redo-moving&gt;&lt;span class=secno&gt;5.4.3 &lt;/span&gt;&lt;dfn id=redo-moving0
+  &lt;h4 id=redo-moving&gt;&lt;span class=secno&gt;5.9.3 &lt;/span&gt;&lt;dfn id=redo-moving0
    title=do-redo&gt;Redo: moving forward in the undo transaction history&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;When the user invokes a redo operation, or when the &lt;code
@@ -38890,7 +39224,7 @@
    on the &lt;code&gt;Document&lt;/code&gt; object, using the &lt;a href=&quot;#undo-object&quot;&gt;undo
    object&lt;/a&gt; entry's associated undo object as the event's data.
 
-  &lt;h4 id=the-undomanagerevent&gt;&lt;span class=secno&gt;5.4.4 &lt;/span&gt;The &lt;code&gt;&lt;a
+  &lt;h4 id=the-undomanagerevent&gt;&lt;span class=secno&gt;5.9.4 &lt;/span&gt;The &lt;code&gt;&lt;a
    href=&quot;#undomanagerevent&quot;&gt;UndoManagerEvent&lt;/a&gt;&lt;/code&gt; interface and the
    &lt;code title=event-undo&gt;&lt;a href=&quot;#undo0&quot;&gt;undo&lt;/a&gt;&lt;/code&gt; and &lt;code
    title=event-redo&gt;&lt;a href=&quot;#redo&quot;&gt;redo&lt;/a&gt;&lt;/code&gt; events&lt;/h4&gt;
@@ -38922,7 +39256,7 @@
    &lt;code title=dom-UndoManagerEvent-data&gt;&lt;a href=&quot;#data3&quot;&gt;data&lt;/a&gt;&lt;/code&gt;
    field containing the relevant &lt;a href=&quot;#undo-object&quot;&gt;undo object&lt;/a&gt;.
 
-  &lt;h4 id=implementation0&gt;&lt;span class=secno&gt;5.4.5 &lt;/span&gt;Implementation notes&lt;/h4&gt;
+  &lt;h4 id=implementation0&gt;&lt;span class=secno&gt;5.9.5 &lt;/span&gt;Implementation notes&lt;/h4&gt;
 
   &lt;p&gt;How user agents present the above conceptual model to the user is not
    defined. The undo interface could be a filtered view of the &lt;a
@@ -38939,357 +39273,8 @@
    history&lt;/a&gt; described in this section, however, such that to a script
    there is no detectable difference.
 
-  &lt;h3 id=selection&gt;&lt;span class=secno&gt;5.5 &lt;/span&gt;The text selection APIs&lt;/h3&gt;
+  &lt;h3 id=command&gt;&lt;span class=secno&gt;5.10 &lt;/span&gt;Command APIs&lt;/h3&gt;
 
-  &lt;p&gt;Every &lt;a href=&quot;#browsing1&quot;&gt;browsing context&lt;/a&gt; has &lt;dfn id=a-selection
-   title=&quot;the selection&quot;&gt;a selection&lt;/dfn&gt;. The selection can be empty, and
-   the selection can have more than one range (a disjointed selection). The
-   user should be able to change the selection. User agents are not required
-   to let the user select more than one range, and may collapse multiple
-   ranges in the selection to a single range when the user interacts with the
-   selection. (But, of course, the user agent may let the user create
-   selections with multiple ranges.)
-
-  &lt;p&gt;This one selection must be shared by all the content of the browsing
-   context (though not by nested &lt;a href=&quot;#browsing1&quot; title=&quot;browsing
-   context&quot;&gt;browsing contexts&lt;/a&gt;), including any editing hosts in the
-   document. (Editing hosts that are not inside a document cannot have a
-   selection.)
-
-  &lt;p&gt;If the selection is empty (collapsed, so that it has only one segment
-   and that segment's start and end points are the same) then the selection's
-   position should equal the caret position. When the selection is not empty,
-   this specification does not define the caret position; user agents should
-   follow platform conventions in deciding whether the caret is at the start
-   of the selection, the end of the selection, or somewhere else.
-
-  &lt;p&gt;On some platforms (such as those using Wordstar editing conventions),
-   the caret position is totally independent of the start and end of the
-   selection, even when the selection is empty. On such platforms, user
-   agents may ignore the requirement that the cursor position be linked to
-   the position of the selection altogether.
-
-  &lt;p&gt;Mostly for historical reasons, in addition to the &lt;a
-   href=&quot;#browsing1&quot;&gt;browsing context&lt;/a&gt;'s &lt;a href=&quot;#a-selection&quot; title=&quot;the
-   selection&quot;&gt;selection&lt;/a&gt;, each &lt;code&gt;textarea&lt;/code&gt; and
-   &lt;code&gt;input&lt;/code&gt; element has an independent selection. These are the
-   &lt;dfn id=text-field title=&quot;text field selection&quot;&gt;text field
-   selections&lt;/dfn&gt;.
-
-  &lt;p&gt;User agents may selectively ignore attempts to use the API to adjust the
-   selection made after the user has modified the selection. For example, if
-   the user has just selected part of a word, the user agent could ignore
-   attempts to use the API call to immediately unselect the selection
-   altogether, but could allow attempts to change the selection to select the
-   entire word.
-
-  &lt;p&gt;User agents may also allow the user to create selections that are not
-   exposed to the API.
-
-  &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#datagrid0&quot;&gt;datagrid&lt;/a&gt;&lt;/code&gt; and
-   &lt;code&gt;select&lt;/code&gt; elements also have selections, indicating which items
-   have been picked by the user. These are not discussed in this section.
-
-  &lt;p class=note&gt;This specification does not specify how selections are
-   presented to the user. The Selectors specification, in conjunction with
-   CSS, can be used to style text selections using the &lt;code&gt;&lt;a
-   href=&quot;#selection1&quot;&gt;::selection&lt;/a&gt;&lt;/code&gt; pseudo-element. &lt;a
-   href=&quot;#refsSELECTORS&quot;&gt;[SELECTORS]&lt;/a&gt; &lt;a href=&quot;#refsCSS21&quot;&gt;[CSS21]&lt;/a&gt;
-
-  &lt;h4 id=documentSelection&gt;&lt;span class=secno&gt;5.5.1 &lt;/span&gt;APIs for the
-   browsing context selection&lt;/h4&gt;
-
-  &lt;p&gt;The &lt;dfn id=getselection
-   title=dom-getSelection&gt;&lt;code&gt;getSelection()&lt;/code&gt;&lt;/dfn&gt; method on the
-   &lt;code&gt;&lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; interface must return the
-   &lt;code&gt;&lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt; object representing &lt;a
-   href=&quot;#a-selection&quot;&gt;the selection&lt;/a&gt; of that &lt;code&gt;&lt;a
-   href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; object's &lt;a href=&quot;#browsing1&quot;&gt;browsing
-   context&lt;/a&gt;.
-
-  &lt;p&gt;For historical reasons, the &lt;dfn id=getselection0
-   title=dom-document-getSelection&gt;&lt;code&gt;getSelection()&lt;/code&gt;&lt;/dfn&gt; method
-   on the &lt;code&gt;&lt;a href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; interface
-   must return the same &lt;code&gt;&lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt;
-   object.
-
-  &lt;pre
-   class=idl&gt;[&lt;a href=&quot;#stringify0&quot; title=dom-selection-toString&gt;Stringifies&lt;/a&gt;] interface &lt;dfn id=selection1&gt;Selection&lt;/dfn&gt; {
-  readonly attribute Node &lt;a href=&quot;#anchornode&quot; title=dom-selection-anchorNode&gt;anchorNode&lt;/a&gt;;
-  readonly attribute long &lt;a href=&quot;#anchoroffset&quot; title=dom-selection-anchorOffset&gt;anchorOffset&lt;/a&gt;;
-  readonly attribute Node &lt;a href=&quot;#focusnode&quot; title=dom-selection-focusNode&gt;focusNode&lt;/a&gt;;
-  readonly attribute long &lt;a href=&quot;#focusoffset&quot; title=dom-selection-focusOffset&gt;focusOffset&lt;/a&gt;;
-  readonly attribute boolean &lt;a href=&quot;#iscollapsed&quot; title=dom-selection-isCollapsed&gt;isCollapsed&lt;/a&gt;;
-  void &lt;a href=&quot;#collapse&quot; title=dom-selection-collapse&gt;collapse&lt;/a&gt;(in Node parentNode, in long offset);
-  void &lt;a href=&quot;#collapsetostart&quot; title=dom-selection-collapseToStart&gt;collapseToStart&lt;/a&gt;();
-  void &lt;a href=&quot;#collapsetoend&quot; title=dom-selection-collapseToEnd&gt;collapseToEnd&lt;/a&gt;();
-  void &lt;a href=&quot;#selectallchildren&quot; title=dom-selection-selectAllChildren&gt;selectAllChildren&lt;/a&gt;(in Node parentNode);
-  void &lt;a href=&quot;#deletefromdocument&quot; title=dom-selection-deleteFromDocument&gt;deleteFromDocument&lt;/a&gt;();
-  readonly attribute long &lt;a href=&quot;#rangecount&quot; title=dom-selection-rangeCount&gt;rangeCount&lt;/a&gt;;
-  Range &lt;a href=&quot;#getrangeat&quot; title=dom-selection-getRangeAt&gt;getRangeAt&lt;/a&gt;(in long index);
-  void &lt;a href=&quot;#addrange&quot; title=dom-selection-addRange&gt;addRange&lt;/a&gt;(in Range range);
-  void &lt;a href=&quot;#removerange&quot; title=dom-selection-removeRange&gt;removeRange&lt;/a&gt;(in Range range);
-  void &lt;a href=&quot;#removeallranges&quot; title=dom-selection-removeAllRanges&gt;removeAllRanges&lt;/a&gt;();
-};&lt;/pre&gt;
-  &lt;!--
-  See also:
-    <A HREF="http://lxr.mozilla.org/mozilla/source/content/base/public/nsISelection.idl">http://lxr.mozilla.org/mozilla/source/content/base/public/nsISelection.idl</A>
-  This spec doesn't have everything from there yet, in particular
-  selectionLanguageChange() and containsNode() are missing. They are missing
-  because I couldn't work out how to define them in terms of Ranges.
-
-  I also haven't included extend():
-
-    void &lt;span title=&quot;dom-selection-extend&quot;&gt;extend&lt;/span&gt;(in Node parentNode, in long offset);
-    // raise if no range
-    // raise WRONG_DOCUMENT_ERR if parentNode not in document
-    // do something
-
-  ...mostly because I can't work out how to describe what it does quickly.
---&gt;
-
-  &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt; interface is
-   represents a list of &lt;code&gt;Range&lt;/code&gt; objects. The first item in the
-   list has index 0, and the last item has index &lt;var title=&quot;&quot;&gt;count&lt;/var&gt;-1,
-   where &lt;var title=&quot;&quot;&gt;count&lt;/var&gt; is the number of ranges in the list. &lt;a
-   href=&quot;#refsDOM2RANGE&quot;&gt;[DOM2RANGE]&lt;/a&gt;
-
-  &lt;p&gt;All of the members of the &lt;code&gt;&lt;a
-   href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt; interface are defined in terms of
-   operations on the &lt;code&gt;Range&lt;/code&gt; objects represented by this object.
-   These operations can raise exceptions, as defined for the
-   &lt;code&gt;Range&lt;/code&gt; interface; this can therefore result in the members of
-   the &lt;code&gt;&lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt; interface raising
-   exceptions as well, in addition to any explicitly called out below.&lt;/p&gt;
-  &lt;!-- XXX example --&gt;
-
-  &lt;p&gt;The &lt;dfn id=anchornode
-   title=dom-selection-anchorNode&gt;&lt;code&gt;anchorNode&lt;/code&gt;&lt;/dfn&gt; attribute
-   must return the value returned by the &lt;code title=&quot;&quot;&gt;startContainer&lt;/code&gt;
-   attribute of the last &lt;code&gt;Range&lt;/code&gt; object in the list, or null if
-   the list is empty.
-
-  &lt;p&gt;The &lt;dfn id=anchoroffset
-   title=dom-selection-anchorOffset&gt;&lt;code&gt;anchorOffset&lt;/code&gt;&lt;/dfn&gt; attribute
-   must return the value returned by the &lt;code title=&quot;&quot;&gt;startOffset&lt;/code&gt;
-   attribute of the last &lt;code&gt;Range&lt;/code&gt; object in the list, or 0 if the
-   list is empty.
-
-  &lt;p&gt;The &lt;dfn id=focusnode
-   title=dom-selection-focusNode&gt;&lt;code&gt;focusNode&lt;/code&gt;&lt;/dfn&gt; attribute must
-   return the value returned by the &lt;code title=&quot;&quot;&gt;endContainer&lt;/code&gt;
-   attribute of the last &lt;code&gt;Range&lt;/code&gt; object in the list, or null if
-   the list is empty.
-
-  &lt;p&gt;The &lt;dfn id=focusoffset
-   title=dom-selection-focusOffset&gt;&lt;code&gt;focusOffset&lt;/code&gt;&lt;/dfn&gt; attribute
-   must return the value returned by the &lt;code title=&quot;&quot;&gt;endOffset&lt;/code&gt;
-   attribute of the last &lt;code&gt;Range&lt;/code&gt; object in the list, or 0 if the
-   list is empty.
-
-  &lt;p&gt;The &lt;dfn id=iscollapsed
-   title=dom-selection-isCollapsed&gt;&lt;code&gt;isCollapsed&lt;/code&gt;&lt;/dfn&gt; attribute
-   must return true if there are zero ranges, or if there is exactly one
-   range and its &lt;code title=&quot;&quot;&gt;collapsed&lt;/code&gt; attribute is itself true.
-   Otherwise it must return false.
-
-  &lt;p&gt;The &lt;dfn id=collapse title=dom-selection-collapse&gt;&lt;code&gt;collapse(&lt;var
-   title=&quot;&quot;&gt;parentNode&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;offset&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
-   must raise a &lt;code&gt;WRONG_DOCUMENT_ERR&lt;/code&gt; DOM exception if &lt;var
-   title=&quot;&quot;&gt;parentNode&lt;/var&gt;'s &lt;code title=&quot;&quot;&gt;ownerDocument&lt;/code&gt; is not the
-   &lt;code&gt;&lt;a href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object with which
-   the &lt;code&gt;&lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt; object is associated.
-   Otherwise it is, and the method must remove all the ranges in the &lt;code&gt;&lt;a
-   href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt; list, then create a new
-   &lt;code&gt;Range&lt;/code&gt; object, add it to the list, and invoke its &lt;code
-   title=&quot;&quot;&gt;setStart()&lt;/code&gt; and &lt;code title=&quot;&quot;&gt;setEnd()&lt;/code&gt; methods with
-   the &lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;offset&lt;/var&gt; values
-   as their arguments.
-
-  &lt;p&gt;The &lt;dfn id=collapsetostart
-   title=dom-selection-collapseToStart&gt;&lt;code&gt;collapseToStart()&lt;/code&gt;&lt;/dfn&gt;
-   method must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; DOM exception if there
-   are no ranges in the list. Otherwise, it must invoke the &lt;code
-   title=dom-selection-collapse&gt;&lt;a href=&quot;#collapse&quot;&gt;collapse()&lt;/a&gt;&lt;/code&gt;
-   method with the &lt;code title=&quot;&quot;&gt;startContainer&lt;/code&gt; and &lt;code
-   title=&quot;&quot;&gt;startOffset&lt;/code&gt; values of the first &lt;code&gt;Range&lt;/code&gt; object
-   in the list as the arguments.
-
-  &lt;p&gt;The &lt;dfn id=collapsetoend
-   title=dom-selection-collapseToEnd&gt;&lt;code&gt;collapseToEnd()&lt;/code&gt;&lt;/dfn&gt;
-   method must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; DOM exception if there
-   are no ranges in the list. Otherwise, it must invoke the &lt;code
-   title=dom-selection-collapse&gt;&lt;a href=&quot;#collapse&quot;&gt;collapse()&lt;/a&gt;&lt;/code&gt;
-   method with the &lt;code title=&quot;&quot;&gt;endContainer&lt;/code&gt; and &lt;code
-   title=&quot;&quot;&gt;endOffset&lt;/code&gt; values of the last &lt;code&gt;Range&lt;/code&gt; object in
-   the list as the arguments.
-
-  &lt;p&gt;The &lt;dfn id=selectallchildren
-   title=dom-selection-selectAllChildren&gt;&lt;code&gt;selectAllChildren(&lt;var
-   title=&quot;&quot;&gt;parentNode&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must invoke the &lt;code
-   title=dom-selection-collapse&gt;&lt;a href=&quot;#collapse&quot;&gt;collapse()&lt;/a&gt;&lt;/code&gt;
-   method with the &lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt; value as the first argument
-   and 0 as the second argument, and must then invoke the &lt;code
-   title=&quot;&quot;&gt;selectNodeContents()&lt;/code&gt; method on the first (and only) range
-   in the list with the &lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt; value as the argument.
-
-  &lt;p&gt;The &lt;dfn id=deletefromdocument
-   title=dom-selection-deleteFromDocument&gt;&lt;code&gt;deleteFromDocument()&lt;/code&gt;&lt;/dfn&gt;
-   method must invoke the &lt;code title=&quot;&quot;&gt;deleteContents()&lt;/code&gt; method on
-   each range in the list, if any, from first to last.
-
-  &lt;p&gt;The &lt;dfn id=rangecount
-   title=dom-selection-rangeCount&gt;&lt;code&gt;rangeCount&lt;/code&gt;&lt;/dfn&gt; attribute
-   must return the number of ranges in the list.
-
-  &lt;p&gt;The &lt;dfn id=getrangeat
-   title=dom-selection-getRangeAt&gt;&lt;code&gt;getRangeAt(&lt;var
-   title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the &lt;var
-   title=&quot;&quot;&gt;index&lt;/var&gt;th range in the list. If &lt;var title=&quot;&quot;&gt;index&lt;/var&gt; is
-   less than zero or greater or equal to the value returned by the &lt;code
-   title=dom-selection-rangeCount&gt;&lt;a href=&quot;#rangecount&quot;&gt;rangeCount&lt;/a&gt;&lt;/code&gt;
-   attribute, then the method must raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; DOM
-   exception.
-
-  &lt;p&gt;The &lt;dfn id=addrange title=dom-selection-addRange&gt;&lt;code&gt;addRange(&lt;var
-   title=&quot;&quot;&gt;range&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must add the given &lt;var
-   title=&quot;&quot;&gt;range&lt;/var&gt; Range object to the list of selections, at the end
-   (so the newly added range is the new last range). Duplicates are not
-   prevented; a range may be added more than once in which case it appears in
-   the list more than once, which (for example) will cause &lt;a
-   href=&quot;#stringify0&quot; title=dom-selection-toString&gt;stringification&lt;/a&gt; to
-   return the range's text twice.&lt;/p&gt;
-  &lt;!-- XXX how does this interact with
-  deleteFromDocument() which acts on all ranges? --&gt;
-
-  &lt;p&gt;The &lt;dfn id=removerange
-   title=dom-selection-removeRange&gt;&lt;code&gt;removeRange(&lt;var
-   title=&quot;&quot;&gt;range&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must remove the first occurrence
-   of &lt;var title=&quot;&quot;&gt;range&lt;/var&gt; in the list of ranges, if it appears at all.
-
-  &lt;p&gt;The &lt;dfn id=removeallranges
-   title=dom-selection-removeAllRanges&gt;&lt;code&gt;removeAllRanges()&lt;/code&gt;&lt;/dfn&gt;
-   method must remove all the ranges from the list of ranges, such that the
-   &lt;code title=dom-selection-rangeCount&gt;&lt;a
-   href=&quot;#rangecount&quot;&gt;rangeCount&lt;/a&gt;&lt;/code&gt; attribute returns 0 after the
-   &lt;code title=dom-selection-removeAllRanges&gt;&lt;a
-   href=&quot;#removeallranges&quot;&gt;removeAllRanges()&lt;/a&gt;&lt;/code&gt; method is invoked
-   (and until a new range is added to the list, either through this interface
-   or via user interaction).
-
-  &lt;p&gt;Objects implementing this interface must &lt;dfn id=stringify0
-   title=dom-selection-toString&gt;stringify&lt;/dfn&gt; to a concatenation of the
-   results of invoking the &lt;code title=&quot;&quot;&gt;toString()&lt;/code&gt; method of the
-   &lt;code&gt;Range&lt;/code&gt; object on each of the ranges of the selection, in the
-   order they appear in the list (first to last).
-
-  &lt;div class=example&gt;
-   &lt;p&gt;In the following document fragment, the emphasised parts indicate the
-    selection.&lt;/p&gt;
-
-   &lt;pre&gt;&lt;p&gt;The cute girl likes &lt;em&gt;the &lt;/em&gt;&lt;cite&gt;&lt;em&gt;Oxford English&lt;/em&gt; Dictionary&lt;/cite&gt;.&lt;/p&gt;&lt;/pre&gt;
-
-   &lt;p&gt;If a script invoked &lt;code
-    title=&quot;&quot;&gt;window.getSelection().toString()&lt;/code&gt;, the return value would
-    be &quot;&lt;code&gt;the Oxford English&lt;/code&gt;&quot;.&lt;/p&gt;
-  &lt;/div&gt;
-
-  &lt;p class=note&gt;The &lt;code&gt;&lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt;
-   interface has no relation to the &lt;code&gt;&lt;a
-   href=&quot;#datagridselection&quot;&gt;DataGridSelection&lt;/a&gt;&lt;/code&gt; interface.
-
-  &lt;h4 id=textFieldSelection&gt;&lt;span class=secno&gt;5.5.2 &lt;/span&gt;APIs for the text
-   field selections&lt;/h4&gt;
-
-  &lt;p class=big-issue&gt;When we define HTMLTextAreaElement and HTMLInputElement
-   we will have to add the IDL given below to both of their IDLs.
-
-  &lt;p&gt;The &lt;code&gt;input&lt;/code&gt; and &lt;code&gt;textarea&lt;/code&gt; elements define four
-   members in their DOM interfaces for handling their text selection:
-
-  &lt;pre
-   class=idl&gt;  void &lt;a href=&quot;#select1&quot; title=&quot;dom-textarea/input-select&quot;&gt;select&lt;/a&gt;();
-           attribute unsigned long &lt;a href=&quot;#selectionstart&quot; title=&quot;dom-textarea/input-selectionStart&quot;&gt;selectionStart&lt;/a&gt;;
-           attribute unsigned long &lt;a href=&quot;#selectionend&quot; title=&quot;dom-textarea/input-selectionEnd&quot;&gt;selectionEnd&lt;/a&gt;;
-  void &lt;a href=&quot;#setselectionrange&quot; title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;setSelectionRange&lt;/a&gt;(in unsigned long start, in unsigned long end);&lt;/pre&gt;
-  &lt;!-- XXX also add textLength? it seems to be widely used --&gt;
-
-  &lt;p&gt;These methods and attributes expose and control the selection of
-   &lt;code&gt;input&lt;/code&gt; and &lt;code&gt;textarea&lt;/code&gt; text fields.
-
-  &lt;p&gt;The &lt;dfn id=select1
-   title=&quot;dom-textarea/input-select&quot;&gt;&lt;code&gt;select()&lt;/code&gt;&lt;/dfn&gt; method must
-   cause the contents of the text field to be fully selected.
-
-  &lt;p&gt;The &lt;dfn id=selectionstart
-   title=&quot;dom-textarea/input-selectionStart&quot;&gt;&lt;code&gt;selectionStart&lt;/code&gt;&lt;/dfn&gt;
-   attribute must, on getting, return the offset (in logical order) to the
-   character that immediately follows the start of the selection. If there is
-   no selection, then it must return the offset (in logical order) to the
-   character that immediately follows the text entry cursor.
-
-  &lt;p&gt;On setting, it must act as if the &lt;code
-   title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;&lt;a
-   href=&quot;#setselectionrange&quot;&gt;setSelectionRange()&lt;/a&gt;&lt;/code&gt; method had been
-   called, with the new value as the first argument, and the current value of
-   the &lt;code title=&quot;dom-textarea/input-selectionEnd&quot;&gt;&lt;a
-   href=&quot;#selectionend&quot;&gt;selectionEnd&lt;/a&gt;&lt;/code&gt; attribute as the second
-   argument, unless the current value of the &lt;code
-   title=&quot;dom-textarea/input-selectionEnd&quot;&gt;&lt;a
-   href=&quot;#selectionend&quot;&gt;selectionEnd&lt;/a&gt;&lt;/code&gt; is less than the new value,
-   in which case the second argument must also be the new value.
-
-  &lt;p&gt;The &lt;dfn id=selectionend
-   title=&quot;dom-textarea/input-selectionEnd&quot;&gt;&lt;code&gt;selectionEnd&lt;/code&gt;&lt;/dfn&gt;
-   attribute must, on getting, return the offset (in logical order) to the
-   character that immediately follows the end of the selection. If there is
-   no selection, then it must return the offset (in logical order) to the
-   character that immediately follows the text entry cursor.
-
-  &lt;p&gt;On setting, it must act as if the &lt;code
-   title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;&lt;a
-   href=&quot;#setselectionrange&quot;&gt;setSelectionRange()&lt;/a&gt;&lt;/code&gt; method had been
-   called, with the current value of the &lt;code
-   title=&quot;dom-textarea/input-selectionStart&quot;&gt;&lt;a
-   href=&quot;#selectionstart&quot;&gt;selectionStart&lt;/a&gt;&lt;/code&gt; attribute as the first
-   argument, and new value as the second argument.
-
-  &lt;p&gt;The &lt;dfn id=setselectionrange
-   title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;&lt;code&gt;setSelectionRange(&lt;var
-   title=&quot;&quot;&gt;start&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;end&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must
-   set the selection of the text field to the sequence of characters starting
-   with the character at the &lt;var title=&quot;&quot;&gt;start&lt;/var&gt;th position (in logical
-   order) and ending with the character at the &lt;span&gt;(&lt;var
-   title=&quot;&quot;&gt;end&lt;/var&gt;-1)&lt;/span&gt;th position. Arguments greater than the length
-   of the value in the text field must be treated as pointing at the end of
-   the text field. If &lt;var title=&quot;&quot;&gt;end&lt;/var&gt; is less than or equal to &lt;var
-   title=&quot;&quot;&gt;start&lt;/var&gt; then the start of the selection and the end of the
-   selection must both be placed immediately before the character with offset
-   &lt;var title=&quot;&quot;&gt;end&lt;/var&gt;. In UAs where there is no concept of an empty
-   selection, this must set the cursor to be just before the character with
-   offset &lt;var title=&quot;&quot;&gt;end&lt;/var&gt;.
-
-  &lt;div class=example&gt;
-   &lt;p&gt;To obtain the currently selected text, the following JavaScript
-    suffices:&lt;/p&gt;
-
-   &lt;pre&gt;var selectionText = control.value.substring(control.selectionStart, control.selectionEnd);&lt;/pre&gt;
-
-   &lt;p&gt;...where &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; is the &lt;code&gt;input&lt;/code&gt; or
-    &lt;code&gt;textarea&lt;/code&gt; element.&lt;/p&gt;
-  &lt;/div&gt;
-
-  &lt;p&gt;Characters with no visible rendering, such as U+200D ZERO WIDTH JOINER,
-   still count as characters. Thus, for instance, the selection can include
-   just an invisible character, and the text insertion cursor can be placed
-   to one side or another of such a character.
-
-  &lt;p&gt;When these methods and attributes are used with &lt;code&gt;input&lt;/code&gt;
-   elements that are not displaying simple text fields, they must raise an
-   &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception.
-
-  &lt;h3 id=command&gt;&lt;span class=secno&gt;5.6 &lt;/span&gt;Command APIs&lt;/h3&gt;
-
   &lt;p&gt;The &lt;dfn id=execCommand
    title=dom-document-execCommand&gt;&lt;code&gt;execCommand(&lt;var
    title=&quot;&quot;&gt;commandId&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;showUI&lt;/var&gt;, &lt;var
@@ -39319,9 +39304,9 @@
   &lt;/ol&gt;
 
   &lt;p&gt;A document is &lt;dfn id=ready&gt;ready for editing host commands&lt;/dfn&gt; if it
-   has a selection that is entirely within an &lt;a href=&quot;#editing1&quot;&gt;editing
+   has a selection that is entirely within an &lt;a href=&quot;#editing0&quot;&gt;editing
    host&lt;/a&gt;, or if it has no selection but its caret is inside an &lt;a
-   href=&quot;#editing1&quot;&gt;editing host&lt;/a&gt;.
+   href=&quot;#editing0&quot;&gt;editing host&lt;/a&gt;.
 
   &lt;p&gt;The &lt;dfn id=querycommandenabled
    title=dom-document-queryCommandEnabled&gt;&lt;code&gt;queryCommandEnabled(&lt;var
@@ -39682,8 +39667,8 @@
     title=command-selectAll&gt;&lt;code&gt;selectAll&lt;/code&gt;&lt;/dfn&gt;
 
    &lt;dd&gt;&lt;strong&gt;Action:&lt;/strong&gt; The user agent must change the selection so
-    that all the content in the currently focused &lt;a href=&quot;#editing1&quot;&gt;editing
-    host&lt;/a&gt; is selected. If no &lt;a href=&quot;#editing1&quot;&gt;editing host&lt;/a&gt; is
+    that all the content in the currently focused &lt;a href=&quot;#editing0&quot;&gt;editing
+    host&lt;/a&gt; is selected. If no &lt;a href=&quot;#editing0&quot;&gt;editing host&lt;/a&gt; is
     focused, then the content of the entire document must be selected.
 
    &lt;dd&gt;&lt;strong&gt;Enabled When:&lt;/strong&gt; Always.
@@ -39767,7 +39752,7 @@
     completely included in the current selection.
 
    &lt;dd&gt;&lt;strong&gt;Enabled When:&lt;/strong&gt; The document has a selection that is
-    entirely within an &lt;a href=&quot;#editing1&quot;&gt;editing host&lt;/a&gt;.
+    entirely within an &lt;a href=&quot;#editing0&quot;&gt;editing host&lt;/a&gt;.
 
    &lt;dd&gt;&lt;strong&gt;Indeterminate When:&lt;/strong&gt; Never.
 

Modified: source
===================================================================
--- source	2008-06-09 22:32:31 UTC (rev 1735)
+++ source	2008-06-10 21:18:18 UTC (rev 1736)
@@ -958,7 +958,7 @@
   longer defined as inheriting from &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;
 
   &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLDocument&lt;/dfn&gt; {
-  // &lt;span&gt;Resource metadata management&lt;/span&gt;
+  // &lt;span&gt;resource metadata management&lt;/span&gt;
   [PutForwards=href] readonly attribute &lt;span&gt;Location&lt;/span&gt; &lt;span title=&quot;dom-document-location&quot;&gt;location&lt;/span&gt;;
   readonly attribute DOMString &lt;span title=&quot;dom-document-URL&quot;&gt;URL&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-document-domain&quot;&gt;domain&lt;/span&gt;;
@@ -985,7 +985,7 @@
   NodeList &lt;span title=&quot;dom-document-getElementsByName&quot;&gt;getElementsByName&lt;/span&gt;(in DOMString elementName);
   NodeList &lt;span title=&quot;dom-document-getElementsByClassName&quot;&gt;getElementsByClassName&lt;/span&gt;(in DOMString classNames);
 
-  // &lt;span&gt;Dynamic markup insertion&lt;/span&gt;
+  // &lt;span&gt;dynamic markup insertion&lt;/span&gt;
            attribute DOMString &lt;span title=&quot;dom-innerHTML&quot;&gt;innerHTML&lt;/span&gt;;
   &lt;span&gt;HTMLDocument&lt;/span&gt; &lt;span title=&quot;dom-document-open&quot;&gt;open&lt;/span&gt;();
   &lt;span&gt;HTMLDocument&lt;/span&gt; &lt;span title=&quot;dom-document-open&quot;&gt;open&lt;/span&gt;(in DOMString type);
@@ -996,14 +996,10 @@
   void &lt;span title=&quot;dom-document-write&quot;&gt;write&lt;/span&gt;(in DOMString text);
   void &lt;span title=&quot;dom-document-writeln&quot;&gt;writeln&lt;/span&gt;(in DOMString text);
 
-  // &lt;span&gt;Interaction&lt;/span&gt;
+  // &lt;span&gt;user interaction&lt;/span&gt;
+  &lt;span&gt;Selection&lt;/span&gt; &lt;span title=&quot;dom-document-getSelection&quot;&gt;getSelection&lt;/span&gt;();
   readonly attribute &lt;span&gt;Element&lt;/span&gt; &lt;span title=&quot;dom-document-activeElement&quot;&gt;activeElement&lt;/span&gt;;
   boolean &lt;span title=&quot;dom-document-hasFocus&quot;&gt;hasFocus&lt;/span&gt;();
-
-  // &lt;span title=&quot;concept-command&quot;&gt;Commands&lt;/span&gt;
-  readonly attribute &lt;span&gt;HTMLCollection&lt;/span&gt; &lt;span title=&quot;dom-document-commands&quot;&gt;commands&lt;/span&gt;;
-
-  // &lt;span&gt;Editing&lt;/span&gt;
            attribute boolean &lt;span title=&quot;dom-document-designMode&quot;&gt;designMode&lt;/span&gt;;
   boolean &lt;span title=&quot;dom-document-execCommand&quot;&gt;execCommand&lt;/span&gt;(in DOMString commandId);
   boolean &lt;span title=&quot;dom-document-execCommand&quot;&gt;execCommand&lt;/span&gt;(in DOMString commandId, in boolean showUI);
@@ -1013,7 +1009,7 @@
   boolean &lt;span title=&quot;dom-document-queryCommandState&quot;&gt;queryCommandState&lt;/span&gt;(in DOMString commandId);
   boolean &lt;span title=&quot;dom-document-queryCommandSupported&quot;&gt;queryCommandSupported&lt;/span&gt;(in DOMString commandId);
   DOMString &lt;span title=&quot;dom-document-queryCommandValue&quot;&gt;queryCommandValue&lt;/span&gt;(in DOMString commandId);
-  &lt;span&gt;Selection&lt;/span&gt; &lt;span title=&quot;dom-document-getSelection&quot;&gt;getSelection&lt;/span&gt;();
+  readonly attribute &lt;span&gt;HTMLCollection&lt;/span&gt; &lt;span title=&quot;dom-document-commands&quot;&gt;commands&lt;/span&gt;;
 };&lt;/pre&gt;
 
   &lt;p&gt;Since the &lt;code&gt;HTMLDocument&lt;/code&gt; interface holds methods and
@@ -1247,22 +1243,18 @@
   readonly attribute &lt;span&gt;DOMTokenList&lt;/span&gt; &lt;span title=&quot;dom-classList&quot;&gt;classList&lt;/span&gt;;
   readonly attribute &lt;span&gt;DOMStringMap&lt;/span&gt; &lt;span title=&quot;dom-dataset&quot;&gt;dataset&lt;/span&gt;;
 
-  // &lt;span&gt;interaction&lt;/span&gt;
+  // &lt;span&gt;user interaction&lt;/span&gt;
            attribute boolean &lt;span title=&quot;dom-irrelevant&quot;&gt;irrelevant&lt;/span&gt;;
-           attribute long &lt;span title=&quot;dom-tabindex&quot;&gt;tabIndex&lt;/span&gt;;
   void &lt;span title=&quot;dom-click&quot;&gt;click&lt;/span&gt;();
-  void &lt;span title=&quot;dom-focus&quot;&gt;focus&lt;/span&gt;();
-  void &lt;span title=&quot;dom-blur&quot;&gt;blur&lt;/span&gt;();
   void &lt;span title=&quot;dom-scrollIntoView&quot;&gt;scrollIntoView&lt;/span&gt;();
   void &lt;span title=&quot;dom-scrollIntoView&quot;&gt;scrollIntoView&lt;/span&gt;(in boolean top);
-
-  // &lt;span title=&quot;concept-command&quot;&gt;commands&lt;/span&gt;
-           attribute &lt;span&gt;HTMLMenuElement&lt;/span&gt; &lt;span title=&quot;dom-contextMenu&quot;&gt;contextMenu&lt;/span&gt;;
-
-  // &lt;span&gt;editing&lt;/span&gt;
+           attribute long &lt;span title=&quot;dom-tabindex&quot;&gt;tabIndex&lt;/span&gt;;
+  void &lt;span title=&quot;dom-focus&quot;&gt;focus&lt;/span&gt;();
+  void &lt;span title=&quot;dom-blur&quot;&gt;blur&lt;/span&gt;();
            attribute boolean &lt;span title=&quot;dom-draggable&quot;&gt;draggable&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-contentEditable&quot;&gt;contentEditable&lt;/span&gt;;
   readonly attribute DOMString &lt;span title=&quot;dom-isContentEditable&quot;&gt;isContentEditable&lt;/span&gt;;
+           attribute &lt;span&gt;HTMLMenuElement&lt;/span&gt; &lt;span title=&quot;dom-contextMenu&quot;&gt;contextMenu&lt;/span&gt;;
 
   // &lt;span&gt;styling&lt;/span&gt;
   readonly attribute &lt;span&gt;CSSStyleDeclaration&lt;/span&gt; &lt;span title=&quot;dom-style&quot;&gt;style&lt;/span&gt;;
@@ -5488,63 +5480,7 @@
   title=&quot;attr-class&quot;&gt;class&lt;/code&gt; content attribute.&lt;/p&gt;
 
 
-  &lt;h4&gt;The &lt;dfn title=&quot;attr-irrelevant&quot;&gt;&lt;code&gt;irrelevant&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
 
-  &lt;p&gt;All elements may have the &lt;code
-  title=&quot;attr-irrelevant&quot;&gt;irrelevant&lt;/code&gt; content attribute
-  set. The &lt;code title=&quot;attr-irrelevant&quot;&gt;irrelevant&lt;/code&gt; attribute
-  is a &lt;span&gt;boolean attribute&lt;/span&gt;. When specified on an element,
-  it indicates that the element is not yet, or is no longer,
-  relevant. User agents should not render elements that have the &lt;code
-  title=&quot;attr-irrelevant&quot;&gt;irrelevant&lt;/code&gt; attribute specified.&lt;/p&gt;
-
-  &lt;div class=&quot;example&quot;&gt;
-
-   &lt;p&gt;In the following skeletal example, the attribute is used to hide
-   the Web game's main screen until the user logs in:&lt;/p&gt;
-
-   &lt;pre&gt;  &lt;h1&gt;The Example Game&lt;/h1&gt;
-  &lt;section id=&quot;login&quot;&gt;
-   &lt;h2&gt;Login&lt;/h2&gt;
-   &lt;form&gt;
-    ...
-    &lt;!-- calls login() once the user's credentials have been checked --&gt;
-   &lt;/form&gt;
-   &lt;script&gt;
-    function login() {
-      // switch screens
-      document.getElementById('login').irrelevant = true;
-      document.getElementById('game').irrelevant = false;
-    }
-   &lt;/script&gt;
-  &lt;/section&gt;
-  &lt;section id=&quot;game&quot; irrelevant&gt;
-   ...
-  &lt;/section&gt;&lt;/pre&gt;
-
-  &lt;/div&gt;
-
-
-  &lt;p&gt;The &lt;code title=&quot;attr-irrelevant&quot;&gt;irrelevant&lt;/code&gt; attribute
-  must not be used to hide content that could legitimately be shown in
-  another presentation. For example, it is incorrect to use &lt;code
-  title=&quot;attr-irrelevant&quot;&gt;irrelevant&lt;/code&gt; to hide panels in a
-  tabbed dialog, because the tabbed interface is merely a kind of
-  overflow presentation &mdash; showing all the form controls in one
-  big page with a scrollbar would be equivalent, and no less
-  correct.&lt;/p&gt;
-
-  &lt;p&gt;Elements in a section hidden by the &lt;code
-  title=&quot;attr-irrelevant&quot;&gt;irrelevant&lt;/code&gt; attribute are still
-  active, e.g. scripts and form controls in such sections still render
-  execute and submit respectively. Only their presentation to the user
-  changes.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-irrelevant&quot;&gt;&lt;code&gt;irrelevant&lt;/code&gt;&lt;/dfn&gt; DOM
-  attribute must &lt;span&gt;reflect&lt;/span&gt; the content attribute of the
-  same name.&lt;/p&gt;
-
-
   &lt;h4&gt;The &lt;dfn title=&quot;attr-style&quot;&gt;&lt;code&gt;style&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h4&gt;
 
   &lt;p&gt;All elements may have the &lt;code title=&quot;attr-style&quot;&gt;style&lt;/code&gt;
@@ -5708,365 +5644,8 @@
 
 
 
-  &lt;h3&gt;&lt;dfn&gt;Interaction&lt;/dfn&gt;&lt;/h3&gt;
 
 
-  &lt;h4&gt;Activation&lt;/h4&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-click&quot;&gt;click()&lt;/dfn&gt; method must &lt;span&gt;fire a
-  &lt;code&gt;click&lt;/code&gt; event&lt;/span&gt; at the element, whose default action
-  is the &lt;span title=&quot;fire a DOMActivate event&quot;&gt;firing of a further
-  &lt;code title=&quot;event-DOMActivate&quot;&gt;DOMActivate&lt;/code&gt; event&lt;/span&gt; at
-  the same element, whose own default action is to go through all the
-  elements the &lt;code title=&quot;event-DOMActivate&quot;&gt;DOMActivate&lt;/code&gt;
-  event bubbled through (starting at the target node and going towards
-  the &lt;code&gt;Document&lt;/code&gt; node), looking for an element with an
-  &lt;span&gt;activation behavior&lt;/span&gt;; the first element, in reverse tree
-  order, to have one, must have its activation behavior executed.&lt;/p&gt;
-
-
-
-  &lt;h4&gt;Focus&lt;/h4&gt;
-
-  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%20%0A...%3Cform%3E%3Cinput%20name%3Da%20onfocus%3D%22value%2B%3D1%3Bd.name%3D%27a%27%3Bname%3D%27d%27%3Bb.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%20%0A...%3Cform%3E%3Cinput%20name%3Da%20onfocus%3D%22value%2B%3D1%3Bd.name%3D%27a%27%3Bname%3D%27d%27%3Bb.focus(</A>)%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22value%2B%3D1%3Bc.focus()%22%3E%0A%3Cinput%20name%3Dc%20onfocus%3D%22value%2B%3D1%3Bd.focus()%22%3E%0A%3Cinput%20name%3Dd%20onfocus%3D%22value%2B%3D1%3Ba.focus()%22%3E --&gt;
-
-  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af1%20%27%3Bb.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af1%20%27%3Bb.focus(</A>)%3Balert(document.activeElement.name)%3Bt.value%2B%3D%27af2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27ab%20%27%3B%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22t.value%2B%3D%27bf1%20%27%3Bc.focus()%3Bt.value%2B%3D%27bf2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27bb%20%27%3B%22%3E%0A%3Cinput%20name%3Dc%20onfocus%3D%22t.value%2B%3D%27cf1%20%27%3Bc.focus()%3Bt.value%2B%3D%27cf2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27cb%20%27%3B%22%3E%0A --&gt;
-
-  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%20onload%3D%22document.forms%5B0%5D.a.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%20onload%3D%22document.forms%5B0%5D.a.focus(</A>)%22%3E%0A...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onblur%3D%22t.value%2B%3D'ab%20'%3B%20b.focus()%3B%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22t.value%2B%3D'bf1%20'%3Ba.focus()%3Bt.value%2B%3D'bf2%20'%3B%22%20onblur%3D%22t.value%2B%3D'bb%20'%3B%22%3E --&gt;
-
-  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%3E...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27ab1%20%27%3Bb.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%3E...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27ab1%20%27%3Bb.focus(</A>)%3Bt.value%2B%3D%27ab2%20%27%3B%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22t.value%2B%3D%27bf1%20%27%3Ba.focus()%3Bt.value%2B%3D%27bf2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27bb%20%27%3B%22%3E --&gt;
-
-  &lt;p&gt;When an element is &lt;em&gt;focused&lt;/em&gt;, key events received by the
-  document must be targeted at that element. There may be no element
-  focused; when no element is focused, key events received by the
-  document must be targetted at &lt;span&gt;the &lt;code&gt;body&lt;/code&gt;
-  element&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;User agents may track focus for each &lt;span&gt;browsing
-  context&lt;/span&gt; or &lt;code&gt;Document&lt;/code&gt; individually, or may support
-  only one focused elment per &lt;span&gt;top-level browsing context&lt;/span&gt;
-  &mdash; user agents should follow platform conventions in this
-  regard.&lt;/p&gt;
-
-  &lt;p&gt;Which element(s) within a &lt;span&gt;top-level browsing context&lt;/span&gt;
-  currently has focus must be independent of whether or not the
-  &lt;span&gt;top-level browsing context&lt;/span&gt; itself has the &lt;em&gt;system
-  focus&lt;/em&gt;.&lt;/p&gt;
-
-
-  &lt;h5 id=&quot;focus-management&quot;&gt;Focus management&lt;/h5&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;focusing steps&lt;/dfn&gt; are as follows:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;If focusing the element will remove the focus from another
-   element, then run the &lt;span&gt;unfocusing steps&lt;/span&gt; for that
-   element.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Make the element the currently focused element in its
-    &lt;span&gt;top-level browsing context&lt;/span&gt;.&lt;/p&gt;
-
-    &lt;p&gt;Some elements, most notably &lt;code&gt;area&lt;/code&gt;, can correspond
-    to more than one distinct focusable area. If a particular area was
-    indicated when the element was focused, then that is the area that
-    must get focus; otherwise, e.g. when using the &lt;code
-    title=&quot;dom-focus&quot;&gt;focus()&lt;/code&gt; method, the first such region in
-    tree order is the one that must be focused.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; that doesn't bubble called
-   &lt;code title=&quot;event-focus&quot;&gt;focus&lt;/code&gt; at the element.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;User agents must run the &lt;span&gt;focusing steps&lt;/span&gt; for an
-  element whenever the user moves the focus to a
-  &lt;span&gt;focusable&lt;/span&gt; element.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;unfocusing steps&lt;/dfn&gt; are as follows:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;!-- XXX onchange event for input controls --&gt;
-
-   &lt;li&gt;&lt;p&gt;Unfocus the element.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; that doesn't bubble called
-   &lt;code title=&quot;event-blur&quot;&gt;blur&lt;/code&gt; at the element.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;User agents should run the &lt;span&gt;unfocusing steps&lt;/span&gt; for an
-  element whenever the user moves the focus away from any
-  &lt;span&gt;focusable&lt;/span&gt; element.&lt;/p&gt;
-
-  &lt;hr&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-focus&quot;&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method,
-  when invoked, must run the following algorithm:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;If the element is marked as &lt;i&gt;locked for focus&lt;/i&gt;, then abort
-   these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the element is not &lt;span&gt;focusable&lt;/span&gt;, then abort these
-   steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Mark the element as &lt;dfn&gt;locked for focus&lt;/dfn&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the element is not already focused, run the &lt;span&gt;focusing
-   steps&lt;/span&gt; for the element.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Unmark the element as &lt;i&gt;locked for focus&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-blur&quot;&gt;&lt;code&gt;blur()&lt;/code&gt;&lt;/dfn&gt; method, when
-  invoked, should run the &lt;span&gt;unfocusing steps&lt;/span&gt; for the
-  element. User agents may selectively or uniformly ignore calls to
-  this method for usability reasons.&lt;/p&gt;
-
-
-
-  &lt;!-- XXX define onfocus/onblur behaviour for Window --&gt;
-
-
-  &lt;hr&gt;
-
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-document-activeElement&quot;&gt;&lt;code&gt;activeElement&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the element in the document that is
-  focused. If no element in the &lt;code&gt;Document&lt;/code&gt; is focused, this
-  must return &lt;span&gt;the &lt;code&gt;body&lt;/code&gt; element&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-document-hasFocus&quot;&gt;&lt;code&gt;hasFocus()&lt;/code&gt;&lt;/dfn&gt; method
-  must return true if the document, one of its nested &lt;span
-  title=&quot;browsing context&quot;&gt;browsing contexts&lt;/span&gt;, or any element in
-  the document or its browsing contexts currently has the system
-  focus.&lt;/p&gt;
-
-
-  &lt;h5&gt;Sequential focus navigation&lt;/h5&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;attr-tabindex&quot;&gt;&lt;code&gt;tabindex&lt;/code&gt;&lt;/dfn&gt;
-  content attribute specifies whether the element is focusable,
-  whether it can be reached using sequential focus navigation, and the
-  relative order of the element for the purposes of sequential focus
-  navigation. The name &quot;tab index&quot; comes from the common use of the
-  &quot;tab&quot; key to navigate through the focusable elements. The term
-  &quot;tabbing&quot; refers to moving forward through the focusable elements
-  that can be reached using sequential focus navigation.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;code title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute, if
-  specified, must have a value that is a &lt;span&gt;valid
-  integer&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;If the attribute is specified, it must be parsed using the
-  &lt;span&gt;rules for parsing integers&lt;/span&gt;. The attribute's values have
-  the following meanings:&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;If the attribute is omitted or parsing the value returns an
-   error&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;The user agent should follow platform conventions to determine if
-    the element is to be focusable and, if so, whether the element can
-    be reached using sequential focus navigation, and if so, what its
-    relative order should be.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt id=&quot;negative-tabindex&quot;&gt;If the value is a negative integer&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;The user agent must allow the element to be focused, but should
-    not allow the element to be reached using sequential focus
-    navigation.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;If the value is a zero&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;The user agent must allow the element to be focused, should
-    allow the element to be reached using sequential focus navigation,
-    and should follow platform conventions to determine the element's
-    relative order.&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;If the value is greater than zero&lt;/dt&gt;
-
-   &lt;dd&gt;
-
-    &lt;p&gt;The user agent must allow the element to be focused, should
-    allow the element to be reached using sequential focus navigation,
-    and should place the element in the sequential focus navigation
-    order so that it is:&lt;/p&gt;
-
-    &lt;ul&gt;
-
-     &lt;li&gt;before any focusable element whose &lt;code
-     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has been
-     omitted or whose value, when parsed, returns an error,&lt;/li&gt;
-
-     &lt;li&gt;before any focusable element whose &lt;code
-     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value equal
-     to or less than zero,&lt;/li&gt;
-
-     &lt;li&gt;after any element whose &lt;code
-     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value
-     greater than zero but less than the value of the &lt;code
-     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute on the
-     element,&lt;/li&gt;
-
-     &lt;li&gt;after any element whose &lt;code
-     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value equal
-     to the value of the &lt;code title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt;
-     attribute on the element but that is earlier in the document in
-     &lt;span&gt;tree order&lt;/span&gt; than the element,&lt;/li&gt;
-
-     &lt;li&gt;before any element whose &lt;code
-     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value equal
-     to the value of the &lt;code title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt;
-     attribute on the element but that is later in the document in
-     &lt;span&gt;tree order&lt;/span&gt; than the element, and&lt;/li&gt;
-
-     &lt;li&gt;before any element whose &lt;code
-     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value
-     greater than the value of the &lt;code
-     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute on the
-     element.&lt;/li&gt;
-
-    &lt;/ul&gt;
-
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-  &lt;p&gt;An element is &lt;dfn&gt;focusable&lt;/dfn&gt; if the &lt;code
-  title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute's definition above
-  defines the element to be focusable &lt;em&gt;and&lt;/em&gt; the element is
-  &lt;span&gt;being rendered&lt;/span&gt;&lt;!-- XXX xref, define display:none as not
-  being rendered, off-screen as being rendered? --&gt;.&lt;/p&gt;
-
-  &lt;p&gt;When an element is focused, the element matches the CSS
-  &lt;code&gt;:focus&lt;/code&gt; pseudo-class and key events are dispatched on
-  that element in response to keyboard input.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-tabIndex&quot;&gt;&lt;code&gt;tabIndex&lt;/code&gt;&lt;/dfn&gt; DOM
-  attribute must &lt;span&gt;reflect&lt;/span&gt; the value of the &lt;code
-  title=&quot;attr-tabIndex&quot;&gt;tabIndex&lt;/code&gt; content attribute. If the
-  attribute is not present, or parsing its value returns an error,
-  then the DOM attribute must return 0 for elements that are focusable
-  and &amp;#x2212;1 for elements that are not focusable.&lt;/p&gt;
-
-
-&lt;!--XXX
-  &lt;h5&gt;The &lt;dfn&gt;&lt;code&gt;DocumentFocus&lt;/code&gt;&lt;/dfn&gt; interface&lt;/h5&gt;
-
-  &lt;p&gt;The &lt;code&gt;DocumentFocus&lt;/code&gt; interface contains methods for
-  moving focus around the document. It can be obtained from objects
-  that implement the &lt;code&gt;Document&lt;/code&gt; interface using
-  binding-specific casting methods.&lt;/p&gt;
-
-  &lt;p class=&quot;big-issue&quot;&gt;Actually even better would be to just mix it
-  straight into those interfaces somehow.&lt;/p&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;[NoInterfaceObject] interface &lt;dfn&gt;DocumentFocus&lt;/dfn&gt; {
-  void moveFocusForward();
-  void moveFocusBackward();
-  void moveFocusUp();
-  void moveFocusRight();
-  void moveFocusDown();
-  void moveFocusLeft();
-};&lt;/pre&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;currentFocus&lt;/code&gt;&lt;/dfn&gt; attribute returns the
-  element to which key events will be sent when the document receives
-  key events.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;moveFocusForward&lt;/code&gt;&lt;/dfn&gt; method uses the
-  &lt;code&gt;'nav-index'&lt;/code&gt; property and the &lt;code
-  title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute to find the next
-  focusable element and focuses it.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;moveFocusBackward&lt;/code&gt;&lt;/dfn&gt; method uses the
-  &lt;code&gt;'nav-index'&lt;/code&gt; property and the &lt;code
-  title=&quot;attr-tabindex&gt;tabindex&lt;/code&gt; attribute to find the previous
-  focusable element and focuses it.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;moveFocusUp&lt;/code&gt;&lt;/dfn&gt; method uses the
-  &lt;code&gt;'nav-up'&lt;/code&gt; property and the &lt;code
-  title=&quot;attr-tabindex&gt;tabindex&lt;/code&gt; attribute to find an
-  appropriate focusable element and focuses it.&lt;/p&gt;
-
-  &lt;p&gt;In a similar manner, the &lt;dfn&gt;&lt;code&gt;moveFocusRight&lt;/code&gt;&lt;/dfn&gt;,
-  &lt;dfn&gt;&lt;code&gt;moveFocusDown&lt;/code&gt;&lt;/dfn&gt;, and
-  &lt;dfn&gt;&lt;code&gt;moveFocusLeft&lt;/code&gt;&lt;/dfn&gt; methods use the
-  &lt;code&gt;'nav-right'&lt;/code&gt;, &lt;code&gt;'nav-down'&lt;/code&gt;, and
-  &lt;code&gt;'nav-left'&lt;/code&gt; properties (respectively), and the &lt;code
-  title=&quot;attr-tabindex&gt;tabindex&lt;/code&gt; attribute, to find an
-  appropriate focusable element and focus it.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;code&gt;'nav-index'&lt;/code&gt;, &lt;code&gt;'nav-up'&lt;/code&gt;,
-  &lt;code&gt;'nav-right'&lt;/code&gt;, &lt;code&gt;'nav-down'&lt;/code&gt;, and
-  &lt;code&gt;'nav-left'&lt;/code&gt; properties are defined in &lt;a
-  href=&quot;#refsCSS3UI&quot;&gt;[CSS3UI]&lt;/a&gt;.&lt;/p&gt;
-
-Other things to look at are IE's focus APIs (document.activeElement,
-document.hasFocus, HTMLElement.setActive(), onBeforeActivate,
-onActivate, onBeforeDeactivate, onDeactivate, document.hasFocus):
-   <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=296471">https://bugzilla.mozilla.org/show_bug.cgi?id=296471</A>
-   <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=296469">https://bugzilla.mozilla.org/show_bug.cgi?id=296469</A>
-   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/activeelement.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/activeelement.asp</A>
-   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/setactive.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/setactive.asp</A>
-   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onbeforeactivate.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onbeforeactivate.asp</A>
-   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/focus.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/focus.asp</A>
---&gt;
-
-
-  &lt;h4&gt;Scrolling elements into view&lt;/h4&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-scrollIntoView&quot;&gt;&lt;code&gt;scrollIntoView([&lt;var
-  title=&quot;&quot;&gt;top&lt;/var&gt;])&lt;/code&gt;&lt;/dfn&gt; method, when called, must cause
-  the element on which the method was called to have the attention of
-  the user called to it.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;In a speech browser, this could happen by having the
-  current playback position move to the start of the given
-  element.&lt;/p&gt;
-
-  &lt;p&gt;In visual user agents, if the argument is present and has the
-  value false, the user agent should scroll the element into view such
-  that both the bottom and the top of the element are in the viewport,
-  with the bottom of the element aligned with the bottom of the
-  viewport. If it isn't possible to show the entire element in that
-  way, or if the argument is omitted or is true, then the user agent
-  should instead align the top of the element with the top of the
-  viewport. Visual user agents should further scroll horizontally as
-  necessary to bring the element to the attention of the user.&lt;/p&gt;
-
-  &lt;p&gt;Non-visual user agents may ignore the argument, or may treat it
-  in some media-specific manner most useful to the user.&lt;/p&gt;
-
-  &lt;!-- XXX maybe this should move to CSSOM --&gt;
-
-
-
-
   &lt;h3&gt;The root element&lt;/h3&gt;
 
   &lt;h4&gt;The &lt;dfn&gt;&lt;code&gt;html&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
@@ -34910,7 +34489,7 @@
 
 
 
-  &lt;h2 id=&quot;editing&quot;&gt;&lt;dfn&gt;Editing&lt;/dfn&gt;&lt;/h2&gt;
+  &lt;h2 id=&quot;editing&quot;&gt;&lt;dfn&gt;User Interaction&lt;/dfn&gt;&lt;/h2&gt;
 
   &lt;p&gt;This section describes various features that allow authors to
   enable users to edit documents and parts of documents
@@ -34924,6 +34503,774 @@
   work together.&lt;/p&gt;
 
 
+
+  &lt;h3&gt;The &lt;dfn title=&quot;attr-irrelevant&quot;&gt;&lt;code&gt;irrelevant&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/h3&gt;
+
+  &lt;p&gt;All elements may have the &lt;code
+  title=&quot;attr-irrelevant&quot;&gt;irrelevant&lt;/code&gt; content attribute
+  set. The &lt;code title=&quot;attr-irrelevant&quot;&gt;irrelevant&lt;/code&gt; attribute
+  is a &lt;span&gt;boolean attribute&lt;/span&gt;. When specified on an element,
+  it indicates that the element is not yet, or is no longer,
+  relevant. User agents should not render elements that have the &lt;code
+  title=&quot;attr-irrelevant&quot;&gt;irrelevant&lt;/code&gt; attribute specified.&lt;/p&gt;
+
+  &lt;div class=&quot;example&quot;&gt;
+
+   &lt;p&gt;In the following skeletal example, the attribute is used to hide
+   the Web game's main screen until the user logs in:&lt;/p&gt;
+
+   &lt;pre&gt;  &lt;h1&gt;The Example Game&lt;/h1&gt;
+  &lt;section id=&quot;login&quot;&gt;
+   &lt;h2&gt;Login&lt;/h2&gt;
+   &lt;form&gt;
+    ...
+    &lt;!-- calls login() once the user's credentials have been checked --&gt;
+   &lt;/form&gt;
+   &lt;script&gt;
+    function login() {
+      // switch screens
+      document.getElementById('login').irrelevant = true;
+      document.getElementById('game').irrelevant = false;
+    }
+   &lt;/script&gt;
+  &lt;/section&gt;
+  &lt;section id=&quot;game&quot; irrelevant&gt;
+   ...
+  &lt;/section&gt;&lt;/pre&gt;
+
+  &lt;/div&gt;
+
+
+  &lt;p&gt;The &lt;code title=&quot;attr-irrelevant&quot;&gt;irrelevant&lt;/code&gt; attribute
+  must not be used to hide content that could legitimately be shown in
+  another presentation. For example, it is incorrect to use &lt;code
+  title=&quot;attr-irrelevant&quot;&gt;irrelevant&lt;/code&gt; to hide panels in a
+  tabbed dialog, because the tabbed interface is merely a kind of
+  overflow presentation &mdash; showing all the form controls in one
+  big page with a scrollbar would be equivalent, and no less
+  correct.&lt;/p&gt;
+
+  &lt;p&gt;Elements in a section hidden by the &lt;code
+  title=&quot;attr-irrelevant&quot;&gt;irrelevant&lt;/code&gt; attribute are still
+  active, e.g. scripts and form controls in such sections still render
+  execute and submit respectively. Only their presentation to the user
+  changes.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;dom-irrelevant&quot;&gt;&lt;code&gt;irrelevant&lt;/code&gt;&lt;/dfn&gt; DOM
+  attribute must &lt;span&gt;reflect&lt;/span&gt; the content attribute of the
+  same name.&lt;/p&gt;
+
+
+
+  &lt;h3&gt;Activation&lt;/h3&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;dom-click&quot;&gt;click()&lt;/dfn&gt; method must &lt;span&gt;fire a
+  &lt;code&gt;click&lt;/code&gt; event&lt;/span&gt; at the element, whose default action
+  is the &lt;span title=&quot;fire a DOMActivate event&quot;&gt;firing of a further
+  &lt;code title=&quot;event-DOMActivate&quot;&gt;DOMActivate&lt;/code&gt; event&lt;/span&gt; at
+  the same element, whose own default action is to go through all the
+  elements the &lt;code title=&quot;event-DOMActivate&quot;&gt;DOMActivate&lt;/code&gt;
+  event bubbled through (starting at the target node and going towards
+  the &lt;code&gt;Document&lt;/code&gt; node), looking for an element with an
+  &lt;span&gt;activation behavior&lt;/span&gt;; the first element, in reverse tree
+  order, to have one, must have its activation behavior executed.&lt;/p&gt;
+
+
+
+  &lt;h3&gt;Scrolling elements into view&lt;/h3&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;dom-scrollIntoView&quot;&gt;&lt;code&gt;scrollIntoView([&lt;var
+  title=&quot;&quot;&gt;top&lt;/var&gt;])&lt;/code&gt;&lt;/dfn&gt; method, when called, must cause
+  the element on which the method was called to have the attention of
+  the user called to it.&lt;/p&gt;
+
+  &lt;p class=&quot;note&quot;&gt;In a speech browser, this could happen by having the
+  current playback position move to the start of the given
+  element.&lt;/p&gt;
+
+  &lt;p&gt;In visual user agents, if the argument is present and has the
+  value false, the user agent should scroll the element into view such
+  that both the bottom and the top of the element are in the viewport,
+  with the bottom of the element aligned with the bottom of the
+  viewport. If it isn't possible to show the entire element in that
+  way, or if the argument is omitted or is true, then the user agent
+  should instead align the top of the element with the top of the
+  viewport. Visual user agents should further scroll horizontally as
+  necessary to bring the element to the attention of the user.&lt;/p&gt;
+
+  &lt;p&gt;Non-visual user agents may ignore the argument, or may treat it
+  in some media-specific manner most useful to the user.&lt;/p&gt;
+
+  &lt;!-- XXX maybe this should move to CSSOM --&gt;
+
+
+  &lt;h3&gt;Focus&lt;/h3&gt;
+
+  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%20%0A...%3Cform%3E%3Cinput%20name%3Da%20onfocus%3D%22value%2B%3D1%3Bd.name%3D%27a%27%3Bname%3D%27d%27%3Bb.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%20%0A...%3Cform%3E%3Cinput%20name%3Da%20onfocus%3D%22value%2B%3D1%3Bd.name%3D%27a%27%3Bname%3D%27d%27%3Bb.focus(</A>)%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22value%2B%3D1%3Bc.focus()%22%3E%0A%3Cinput%20name%3Dc%20onfocus%3D%22value%2B%3D1%3Bd.focus()%22%3E%0A%3Cinput%20name%3Dd%20onfocus%3D%22value%2B%3D1%3Ba.focus()%22%3E --&gt;
+
+  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af1%20%27%3Bb.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af1%20%27%3Bb.focus(</A>)%3Balert(document.activeElement.name)%3Bt.value%2B%3D%27af2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27ab%20%27%3B%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22t.value%2B%3D%27bf1%20%27%3Bc.focus()%3Bt.value%2B%3D%27bf2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27bb%20%27%3B%22%3E%0A%3Cinput%20name%3Dc%20onfocus%3D%22t.value%2B%3D%27cf1%20%27%3Bc.focus()%3Bt.value%2B%3D%27cf2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27cb%20%27%3B%22%3E%0A --&gt;
+
+  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%20onload%3D%22document.forms%5B0%5D.a.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%20onload%3D%22document.forms%5B0%5D.a.focus(</A>)%22%3E%0A...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onblur%3D%22t.value%2B%3D'ab%20'%3B%20b.focus()%3B%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22t.value%2B%3D'bf1%20'%3Ba.focus()%3Bt.value%2B%3D'bf2%20'%3B%22%20onblur%3D%22t.value%2B%3D'bb%20'%3B%22%3E --&gt;
+
+  &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%3E...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27ab1%20%27%3Bb.focus(">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%3E...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27ab1%20%27%3Bb.focus(</A>)%3Bt.value%2B%3D%27ab2%20%27%3B%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22t.value%2B%3D%27bf1%20%27%3Ba.focus()%3Bt.value%2B%3D%27bf2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27bb%20%27%3B%22%3E --&gt;
+
+  &lt;p&gt;When an element is &lt;em&gt;focused&lt;/em&gt;, key events received by the
+  document must be targeted at that element. There may be no element
+  focused; when no element is focused, key events received by the
+  document must be targetted at &lt;span&gt;the &lt;code&gt;body&lt;/code&gt;
+  element&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;User agents may track focus for each &lt;span&gt;browsing
+  context&lt;/span&gt; or &lt;code&gt;Document&lt;/code&gt; individually, or may support
+  only one focused elment per &lt;span&gt;top-level browsing context&lt;/span&gt;
+  &mdash; user agents should follow platform conventions in this
+  regard.&lt;/p&gt;
+
+  &lt;p&gt;Which element(s) within a &lt;span&gt;top-level browsing context&lt;/span&gt;
+  currently has focus must be independent of whether or not the
+  &lt;span&gt;top-level browsing context&lt;/span&gt; itself has the &lt;em&gt;system
+  focus&lt;/em&gt;.&lt;/p&gt;
+
+
+  &lt;h4 id=&quot;focus-management&quot;&gt;Focus management&lt;/h4&gt;
+
+  &lt;p&gt;The &lt;dfn&gt;focusing steps&lt;/dfn&gt; are as follows:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If focusing the element will remove the focus from another
+   element, then run the &lt;span&gt;unfocusing steps&lt;/span&gt; for that
+   element.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Make the element the currently focused element in its
+    &lt;span&gt;top-level browsing context&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Some elements, most notably &lt;code&gt;area&lt;/code&gt;, can correspond
+    to more than one distinct focusable area. If a particular area was
+    indicated when the element was focused, then that is the area that
+    must get focus; otherwise, e.g. when using the &lt;code
+    title=&quot;dom-focus&quot;&gt;focus()&lt;/code&gt; method, the first such region in
+    tree order is the one that must be focused.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; that doesn't bubble called
+   &lt;code title=&quot;event-focus&quot;&gt;focus&lt;/code&gt; at the element.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;User agents must run the &lt;span&gt;focusing steps&lt;/span&gt; for an
+  element whenever the user moves the focus to a
+  &lt;span&gt;focusable&lt;/span&gt; element.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn&gt;unfocusing steps&lt;/dfn&gt; are as follows:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;!-- XXX onchange event for input controls --&gt;
+
+   &lt;li&gt;&lt;p&gt;Unfocus the element.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; that doesn't bubble called
+   &lt;code title=&quot;event-blur&quot;&gt;blur&lt;/code&gt; at the element.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;User agents should run the &lt;span&gt;unfocusing steps&lt;/span&gt; for an
+  element whenever the user moves the focus away from any
+  &lt;span&gt;focusable&lt;/span&gt; element.&lt;/p&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;dom-focus&quot;&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method,
+  when invoked, must run the following algorithm:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If the element is marked as &lt;i&gt;locked for focus&lt;/i&gt;, then abort
+   these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the element is not &lt;span&gt;focusable&lt;/span&gt;, then abort these
+   steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Mark the element as &lt;dfn&gt;locked for focus&lt;/dfn&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the element is not already focused, run the &lt;span&gt;focusing
+   steps&lt;/span&gt; for the element.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Unmark the element as &lt;i&gt;locked for focus&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;dom-blur&quot;&gt;&lt;code&gt;blur()&lt;/code&gt;&lt;/dfn&gt; method, when
+  invoked, should run the &lt;span&gt;unfocusing steps&lt;/span&gt; for the
+  element. User agents may selectively or uniformly ignore calls to
+  this method for usability reasons.&lt;/p&gt;
+
+
+
+  &lt;!-- XXX define onfocus/onblur behaviour for Window --&gt;
+
+
+  &lt;hr&gt;
+
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-document-activeElement&quot;&gt;&lt;code&gt;activeElement&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the element in the document that is
+  focused. If no element in the &lt;code&gt;Document&lt;/code&gt; is focused, this
+  must return &lt;span&gt;the &lt;code&gt;body&lt;/code&gt; element&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-document-hasFocus&quot;&gt;&lt;code&gt;hasFocus()&lt;/code&gt;&lt;/dfn&gt; method
+  must return true if the document, one of its nested &lt;span
+  title=&quot;browsing context&quot;&gt;browsing contexts&lt;/span&gt;, or any element in
+  the document or its browsing contexts currently has the system
+  focus.&lt;/p&gt;
+
+
+  &lt;h4&gt;Sequential focus navigation&lt;/h4&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;attr-tabindex&quot;&gt;&lt;code&gt;tabindex&lt;/code&gt;&lt;/dfn&gt;
+  content attribute specifies whether the element is focusable,
+  whether it can be reached using sequential focus navigation, and the
+  relative order of the element for the purposes of sequential focus
+  navigation. The name &quot;tab index&quot; comes from the common use of the
+  &quot;tab&quot; key to navigate through the focusable elements. The term
+  &quot;tabbing&quot; refers to moving forward through the focusable elements
+  that can be reached using sequential focus navigation.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute, if
+  specified, must have a value that is a &lt;span&gt;valid
+  integer&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;If the attribute is specified, it must be parsed using the
+  &lt;span&gt;rules for parsing integers&lt;/span&gt;. The attribute's values have
+  the following meanings:&lt;/p&gt;
+
+  &lt;dl&gt;
+
+   &lt;dt&gt;If the attribute is omitted or parsing the value returns an
+   error&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;The user agent should follow platform conventions to determine if
+    the element is to be focusable and, if so, whether the element can
+    be reached using sequential focus navigation, and if so, what its
+    relative order should be.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt id=&quot;negative-tabindex&quot;&gt;If the value is a negative integer&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;The user agent must allow the element to be focused, but should
+    not allow the element to be reached using sequential focus
+    navigation.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;If the value is a zero&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;The user agent must allow the element to be focused, should
+    allow the element to be reached using sequential focus navigation,
+    and should follow platform conventions to determine the element's
+    relative order.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;If the value is greater than zero&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;The user agent must allow the element to be focused, should
+    allow the element to be reached using sequential focus navigation,
+    and should place the element in the sequential focus navigation
+    order so that it is:&lt;/p&gt;
+
+    &lt;ul&gt;
+
+     &lt;li&gt;before any focusable element whose &lt;code
+     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has been
+     omitted or whose value, when parsed, returns an error,&lt;/li&gt;
+
+     &lt;li&gt;before any focusable element whose &lt;code
+     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value equal
+     to or less than zero,&lt;/li&gt;
+
+     &lt;li&gt;after any element whose &lt;code
+     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value
+     greater than zero but less than the value of the &lt;code
+     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute on the
+     element,&lt;/li&gt;
+
+     &lt;li&gt;after any element whose &lt;code
+     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value equal
+     to the value of the &lt;code title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt;
+     attribute on the element but that is earlier in the document in
+     &lt;span&gt;tree order&lt;/span&gt; than the element,&lt;/li&gt;
+
+     &lt;li&gt;before any element whose &lt;code
+     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value equal
+     to the value of the &lt;code title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt;
+     attribute on the element but that is later in the document in
+     &lt;span&gt;tree order&lt;/span&gt; than the element, and&lt;/li&gt;
+
+     &lt;li&gt;before any element whose &lt;code
+     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value
+     greater than the value of the &lt;code
+     title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute on the
+     element.&lt;/li&gt;
+
+    &lt;/ul&gt;
+
+   &lt;/dd&gt;
+
+  &lt;/dl&gt;
+
+  &lt;p&gt;An element is &lt;dfn&gt;focusable&lt;/dfn&gt; if the &lt;code
+  title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute's definition above
+  defines the element to be focusable &lt;em&gt;and&lt;/em&gt; the element is
+  &lt;span&gt;being rendered&lt;/span&gt;&lt;!-- XXX xref, define display:none as not
+  being rendered, off-screen as being rendered? --&gt;.&lt;/p&gt;
+
+  &lt;p&gt;When an element is focused, the element matches the CSS
+  &lt;code&gt;:focus&lt;/code&gt; pseudo-class and key events are dispatched on
+  that element in response to keyboard input.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;dom-tabIndex&quot;&gt;&lt;code&gt;tabIndex&lt;/code&gt;&lt;/dfn&gt; DOM
+  attribute must &lt;span&gt;reflect&lt;/span&gt; the value of the &lt;code
+  title=&quot;attr-tabIndex&quot;&gt;tabIndex&lt;/code&gt; content attribute. If the
+  attribute is not present, or parsing its value returns an error,
+  then the DOM attribute must return 0 for elements that are focusable
+  and &amp;#x2212;1 for elements that are not focusable.&lt;/p&gt;
+
+
+&lt;!--XXX
+  &lt;h4&gt;The &lt;dfn&gt;&lt;code&gt;DocumentFocus&lt;/code&gt;&lt;/dfn&gt; interface&lt;/h4&gt;
+
+  &lt;p&gt;The &lt;code&gt;DocumentFocus&lt;/code&gt; interface contains methods for
+  moving focus around the document. It can be obtained from objects
+  that implement the &lt;code&gt;Document&lt;/code&gt; interface using
+  binding-specific casting methods.&lt;/p&gt;
+
+  &lt;p class=&quot;big-issue&quot;&gt;Actually even better would be to just mix it
+  straight into those interfaces somehow.&lt;/p&gt;
+
+  &lt;pre class=&quot;idl&quot;&gt;[NoInterfaceObject] interface &lt;dfn&gt;DocumentFocus&lt;/dfn&gt; {
+  void moveFocusForward();
+  void moveFocusBackward();
+  void moveFocusUp();
+  void moveFocusRight();
+  void moveFocusDown();
+  void moveFocusLeft();
+};&lt;/pre&gt;
+
+  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;currentFocus&lt;/code&gt;&lt;/dfn&gt; attribute returns the
+  element to which key events will be sent when the document receives
+  key events.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;moveFocusForward&lt;/code&gt;&lt;/dfn&gt; method uses the
+  &lt;code&gt;'nav-index'&lt;/code&gt; property and the &lt;code
+  title=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute to find the next
+  focusable element and focuses it.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;moveFocusBackward&lt;/code&gt;&lt;/dfn&gt; method uses the
+  &lt;code&gt;'nav-index'&lt;/code&gt; property and the &lt;code
+  title=&quot;attr-tabindex&gt;tabindex&lt;/code&gt; attribute to find the previous
+  focusable element and focuses it.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn&gt;&lt;code&gt;moveFocusUp&lt;/code&gt;&lt;/dfn&gt; method uses the
+  &lt;code&gt;'nav-up'&lt;/code&gt; property and the &lt;code
+  title=&quot;attr-tabindex&gt;tabindex&lt;/code&gt; attribute to find an
+  appropriate focusable element and focuses it.&lt;/p&gt;
+
+  &lt;p&gt;In a similar manner, the &lt;dfn&gt;&lt;code&gt;moveFocusRight&lt;/code&gt;&lt;/dfn&gt;,
+  &lt;dfn&gt;&lt;code&gt;moveFocusDown&lt;/code&gt;&lt;/dfn&gt;, and
+  &lt;dfn&gt;&lt;code&gt;moveFocusLeft&lt;/code&gt;&lt;/dfn&gt; methods use the
+  &lt;code&gt;'nav-right'&lt;/code&gt;, &lt;code&gt;'nav-down'&lt;/code&gt;, and
+  &lt;code&gt;'nav-left'&lt;/code&gt; properties (respectively), and the &lt;code
+  title=&quot;attr-tabindex&gt;tabindex&lt;/code&gt; attribute, to find an
+  appropriate focusable element and focus it.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;'nav-index'&lt;/code&gt;, &lt;code&gt;'nav-up'&lt;/code&gt;,
+  &lt;code&gt;'nav-right'&lt;/code&gt;, &lt;code&gt;'nav-down'&lt;/code&gt;, and
+  &lt;code&gt;'nav-left'&lt;/code&gt; properties are defined in &lt;a
+  href=&quot;#refsCSS3UI&quot;&gt;[CSS3UI]&lt;/a&gt;.&lt;/p&gt;
+
+Other things to look at are IE's focus APIs (document.activeElement,
+document.hasFocus, HTMLElement.setActive(), onBeforeActivate,
+onActivate, onBeforeDeactivate, onDeactivate, document.hasFocus):
+   <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=296471">https://bugzilla.mozilla.org/show_bug.cgi?id=296471</A>
+   <A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=296469">https://bugzilla.mozilla.org/show_bug.cgi?id=296469</A>
+   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/activeelement.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/activeelement.asp</A>
+   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/setactive.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/setactive.asp</A>
+   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onbeforeactivate.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onbeforeactivate.asp</A>
+   <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/focus.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/focus.asp</A>
+--&gt;
+
+
+
+  &lt;h3 id=&quot;selection&quot;&gt;The text selection APIs&lt;/h3&gt;
+
+  &lt;p&gt;Every &lt;span&gt;browsing context&lt;/span&gt; has &lt;dfn title=&quot;the
+  selection&quot;&gt;a selection&lt;/dfn&gt;. The selection can be empty, and the
+  selection can have more than one range (a disjointed selection). The
+  user should be able to change the selection. User agents are not
+  required to let the user select more than one range, and may
+  collapse multiple ranges in the selection to a single range when the
+  user interacts with the selection. (But, of course, the user agent
+  may let the user create selections with multiple ranges.)&lt;/p&gt;
+
+  &lt;p&gt;This one selection must be shared by all the content of the
+  browsing context (though not by nested &lt;span title=&quot;browsing
+  context&quot;&gt;browsing contexts&lt;/span&gt;), including any editing hosts in
+  the document. (Editing hosts that are not inside a document cannot
+  have a selection.)&lt;/p&gt;
+
+  &lt;p&gt;If the selection is empty (collapsed, so that it has only one
+  segment and that segment's start and end points are the same) then
+  the selection's position should equal the caret position. When the
+  selection is not empty, this specification does not define the caret
+  position; user agents should follow platform conventions in deciding
+  whether the caret is at the start of the selection, the end of the
+  selection, or somewhere else.&lt;/p&gt;
+
+  &lt;p&gt;On some platforms (such as those using Wordstar editing
+  conventions), the caret position is totally independent of the start
+  and end of the selection, even when the selection is empty. On such
+  platforms, user agents may ignore the requirement that the cursor
+  position be linked to the position of the selection altogether.&lt;/p&gt;
+
+  &lt;p&gt;Mostly for historical reasons, in addition to the &lt;span&gt;browsing
+  context&lt;/span&gt;'s &lt;span title=&quot;the selection&quot;&gt;selection&lt;/span&gt;, each
+  &lt;code&gt;textarea&lt;/code&gt; and &lt;code&gt;input&lt;/code&gt; element has an
+  independent selection. These are the &lt;dfn title=&quot;text field
+  selection&quot;&gt;text field selections&lt;/dfn&gt;.&lt;/p&gt;
+
+  &lt;p&gt;User agents may selectively ignore attempts to use the API to
+  adjust the selection made after the user has modified the
+  selection. For example, if the user has just selected part of a
+  word, the user agent could ignore attempts to use the API call to
+  immediately unselect the selection altogether, but could allow
+  attempts to change the selection to select the entire word.&lt;/p&gt;
+
+  &lt;p&gt;User agents may also allow the user to create selections that are
+  not exposed to the API.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;datagrid&lt;/code&gt; and &lt;code&gt;select&lt;/code&gt; elements also
+  have selections, indicating which items have been picked by the
+  user. These are not discussed in this section.&lt;/p&gt;
+
+  &lt;p class=&quot;note&quot;&gt;This specification does not specify how selections
+  are presented to the user. The Selectors specification, in
+  conjunction with CSS, can be used to style text selections using the
+  &lt;code&gt;::selection&lt;/code&gt; pseudo-element. &lt;a
+  href=&quot;#refsSELECTORS&quot;&gt;[SELECTORS]&lt;/a&gt; &lt;a
+  href=&quot;#refsCSS21&quot;&gt;[CSS21]&lt;/a&gt;&lt;/p&gt;
+
+
+
+  &lt;h4 id=&quot;documentSelection&quot;&gt;APIs for the browsing context selection&lt;/h4&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-getSelection&quot;&gt;&lt;code&gt;getSelection()&lt;/code&gt;&lt;/dfn&gt; method on
+  the &lt;code&gt;Window&lt;/code&gt; interface must return the
+  &lt;code&gt;Selection&lt;/code&gt; object representing &lt;span&gt;the
+  selection&lt;/span&gt; of that &lt;code&gt;Window&lt;/code&gt; object's
+  &lt;span&gt;browsing context&lt;/span&gt;.
+
+  &lt;p&gt;For historical reasons, the &lt;dfn
+  title=&quot;dom-document-getSelection&quot;&gt;&lt;code&gt;getSelection()&lt;/code&gt;&lt;/dfn&gt;
+  method on the &lt;code&gt;HTMLDocument&lt;/code&gt; interface must return the
+  same &lt;code&gt;Selection&lt;/code&gt; object.&lt;/p&gt;
+                                   
+  &lt;pre class=&quot;idl&quot;&gt;[&lt;span title=&quot;dom-selection-toString&quot;&gt;Stringifies&lt;/span&gt;] interface &lt;dfn&gt;Selection&lt;/dfn&gt; {
+  readonly attribute Node &lt;span title=&quot;dom-selection-anchorNode&quot;&gt;anchorNode&lt;/span&gt;;
+  readonly attribute long &lt;span title=&quot;dom-selection-anchorOffset&quot;&gt;anchorOffset&lt;/span&gt;;
+  readonly attribute Node &lt;span title=&quot;dom-selection-focusNode&quot;&gt;focusNode&lt;/span&gt;;
+  readonly attribute long &lt;span title=&quot;dom-selection-focusOffset&quot;&gt;focusOffset&lt;/span&gt;;
+  readonly attribute boolean &lt;span title=&quot;dom-selection-isCollapsed&quot;&gt;isCollapsed&lt;/span&gt;;
+  void &lt;span title=&quot;dom-selection-collapse&quot;&gt;collapse&lt;/span&gt;(in Node parentNode, in long offset);
+  void &lt;span title=&quot;dom-selection-collapseToStart&quot;&gt;collapseToStart&lt;/span&gt;();
+  void &lt;span title=&quot;dom-selection-collapseToEnd&quot;&gt;collapseToEnd&lt;/span&gt;();
+  void &lt;span title=&quot;dom-selection-selectAllChildren&quot;&gt;selectAllChildren&lt;/span&gt;(in Node parentNode);
+  void &lt;span title=&quot;dom-selection-deleteFromDocument&quot;&gt;deleteFromDocument&lt;/span&gt;();
+  readonly attribute long &lt;span title=&quot;dom-selection-rangeCount&quot;&gt;rangeCount&lt;/span&gt;;
+  Range &lt;span title=&quot;dom-selection-getRangeAt&quot;&gt;getRangeAt&lt;/span&gt;(in long index);
+  void &lt;span title=&quot;dom-selection-addRange&quot;&gt;addRange&lt;/span&gt;(in Range range);
+  void &lt;span title=&quot;dom-selection-removeRange&quot;&gt;removeRange&lt;/span&gt;(in Range range);
+  void &lt;span title=&quot;dom-selection-removeAllRanges&quot;&gt;removeAllRanges&lt;/span&gt;();
+};&lt;/pre&gt;
+&lt;!--
+  See also:
+    <A HREF="http://lxr.mozilla.org/mozilla/source/content/base/public/nsISelection.idl">http://lxr.mozilla.org/mozilla/source/content/base/public/nsISelection.idl</A>
+  This spec doesn't have everything from there yet, in particular
+  selectionLanguageChange() and containsNode() are missing. They are missing
+  because I couldn't work out how to define them in terms of Ranges.
+
+  I also haven't included extend():
+
+    void &lt;span title=&quot;dom-selection-extend&quot;&gt;extend&lt;/span&gt;(in Node parentNode, in long offset);
+    // raise if no range
+    // raise WRONG_DOCUMENT_ERR if parentNode not in document
+    // do something
+
+  ...mostly because I can't work out how to describe what it does quickly.
+--&gt;
+
+  &lt;p&gt;The &lt;code&gt;Selection&lt;/code&gt; interface is represents a list of
+  &lt;code&gt;Range&lt;/code&gt; objects. The first item in the list has index 0,
+  and the last item has index &lt;var title=&quot;&quot;&gt;count&lt;/var&gt;-1, where
+  &lt;var title=&quot;&quot;&gt;count&lt;/var&gt; is the number of ranges in the list. &lt;a
+  href=&quot;#refsDOM2RANGE&quot;&gt;[DOM2RANGE]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;All of the members of the &lt;code&gt;Selection&lt;/code&gt; interface are
+  defined in terms of operations on the &lt;code&gt;Range&lt;/code&gt; objects
+  represented by this object. These operations can raise exceptions,
+  as defined for the &lt;code&gt;Range&lt;/code&gt; interface; this can therefore
+  result in the members of the &lt;code&gt;Selection&lt;/code&gt; interface
+  raising exceptions as well, in addition to any explicitly called out
+  below.&lt;/p&gt; &lt;!-- XXX example --&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-selection-anchorNode&quot;&gt;&lt;code&gt;anchorNode&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the value returned by the &lt;code
+  title=&quot;&quot;&gt;startContainer&lt;/code&gt; attribute of the last
+  &lt;code&gt;Range&lt;/code&gt; object in the list, or null if the list is
+  empty.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-selection-anchorOffset&quot;&gt;&lt;code&gt;anchorOffset&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the value returned by the &lt;code
+  title=&quot;&quot;&gt;startOffset&lt;/code&gt; attribute of the last &lt;code&gt;Range&lt;/code&gt;
+  object in the list, or 0 if the list is empty.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-selection-focusNode&quot;&gt;&lt;code&gt;focusNode&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the value returned by the &lt;code
+  title=&quot;&quot;&gt;endContainer&lt;/code&gt; attribute of the last
+  &lt;code&gt;Range&lt;/code&gt; object in the list, or null if the list is
+  empty.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-selection-focusOffset&quot;&gt;&lt;code&gt;focusOffset&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the value returned by the &lt;code
+  title=&quot;&quot;&gt;endOffset&lt;/code&gt; attribute of the last &lt;code&gt;Range&lt;/code&gt;
+  object in the list, or 0 if the list is empty.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-selection-isCollapsed&quot;&gt;&lt;code&gt;isCollapsed&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return true if there are zero ranges, or if there is
+  exactly one range and its &lt;code title=&quot;&quot;&gt;collapsed&lt;/code&gt; attribute
+  is itself true. Otherwise it must return false.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-selection-collapse&quot;&gt;&lt;code&gt;collapse(&lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt;,
+  &lt;var title=&quot;&quot;&gt;offset&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must raise a
+  &lt;code&gt;WRONG_DOCUMENT_ERR&lt;/code&gt; DOM exception if
+  &lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt;'s &lt;code title=&quot;&quot;&gt;ownerDocument&lt;/code&gt; is not
+  the &lt;code&gt;HTMLDocument&lt;/code&gt; object with which the
+  &lt;code&gt;Selection&lt;/code&gt; object is associated. Otherwise it is, and
+  the method must remove all the ranges in the &lt;code&gt;Selection&lt;/code&gt;
+  list, then create a new &lt;code&gt;Range&lt;/code&gt; object, add it to the
+  list, and invoke its &lt;code title=&quot;&quot;&gt;setStart()&lt;/code&gt; and &lt;code
+  title=&quot;&quot;&gt;setEnd()&lt;/code&gt; methods with the &lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt; and
+  &lt;var title=&quot;&quot;&gt;offset&lt;/var&gt; values as their arguments.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-selection-collapseToStart&quot;&gt;&lt;code&gt;collapseToStart()&lt;/code&gt;&lt;/dfn&gt;
+  method must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; DOM exception if
+  there are no ranges in the list. Otherwise, it must invoke the &lt;code
+  title=&quot;dom-selection-collapse&quot;&gt;collapse()&lt;/code&gt; method with the
+  &lt;code title=&quot;&quot;&gt;startContainer&lt;/code&gt; and &lt;code
+  title=&quot;&quot;&gt;startOffset&lt;/code&gt; values of the first &lt;code&gt;Range&lt;/code&gt;
+  object in the list as the arguments.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-selection-collapseToEnd&quot;&gt;&lt;code&gt;collapseToEnd()&lt;/code&gt;&lt;/dfn&gt;
+  method must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; DOM exception if
+  there are no ranges in the list. Otherwise, it must invoke the &lt;code
+  title=&quot;dom-selection-collapse&quot;&gt;collapse()&lt;/code&gt; method with the
+  &lt;code title=&quot;&quot;&gt;endContainer&lt;/code&gt; and &lt;code
+  title=&quot;&quot;&gt;endOffset&lt;/code&gt; values of the last &lt;code&gt;Range&lt;/code&gt;
+  object in the list as the arguments.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-selection-selectAllChildren&quot;&gt;&lt;code&gt;selectAllChildren(&lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
+  method must invoke the &lt;code
+  title=&quot;dom-selection-collapse&quot;&gt;collapse()&lt;/code&gt; method with the
+  &lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt; value as the first argument and 0 as the
+  second argument, and must then invoke the &lt;code
+  title=&quot;&quot;&gt;selectNodeContents()&lt;/code&gt; method on the first (and only)
+  range in the list with the &lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt; value as the
+  argument.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-selection-deleteFromDocument&quot;&gt;&lt;code&gt;deleteFromDocument()&lt;/code&gt;&lt;/dfn&gt;
+  method must invoke the &lt;code title=&quot;&quot;&gt;deleteContents()&lt;/code&gt; method
+  on each range in the list, if any, from first to last.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-selection-rangeCount&quot;&gt;&lt;code&gt;rangeCount&lt;/code&gt;&lt;/dfn&gt;
+  attribute must return the number of ranges in the list.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-selection-getRangeAt&quot;&gt;&lt;code&gt;getRangeAt(&lt;var title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
+  method must return the &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;th range in the list. If
+  &lt;var title=&quot;&quot;&gt;index&lt;/var&gt; is less than zero or greater or equal to the value
+  returned by the &lt;code
+  title=&quot;dom-selection-rangeCount&quot;&gt;rangeCount&lt;/code&gt; attribute, then
+  the method must raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; DOM
+  exception.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-selection-addRange&quot;&gt;&lt;code&gt;addRange(&lt;var title=&quot;&quot;&gt;range&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
+  method must add the given &lt;var title=&quot;&quot;&gt;range&lt;/var&gt; Range object to the list
+  of selections, at the end (so the newly added range is the new last
+  range). Duplicates are not prevented; a range may be added more than
+  once in which case it appears in the list more than once, which (for
+  example) will cause &lt;span
+  title=&quot;dom-selection-toString&quot;&gt;stringification&lt;/span&gt; to return the
+  range's text twice.&lt;/p&gt; &lt;!-- XXX how does this interact with
+  deleteFromDocument() which acts on all ranges? --&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-selection-removeRange&quot;&gt;&lt;code&gt;removeRange(&lt;var title=&quot;&quot;&gt;range&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
+  method must remove the first occurrence of &lt;var title=&quot;&quot;&gt;range&lt;/var&gt; in the
+  list of ranges, if it appears at all.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-selection-removeAllRanges&quot;&gt;&lt;code&gt;removeAllRanges()&lt;/code&gt;&lt;/dfn&gt;
+  method must remove all the ranges from the list of ranges, such that
+  the &lt;code title=&quot;dom-selection-rangeCount&quot;&gt;rangeCount&lt;/code&gt;
+  attribute returns 0 after the &lt;code
+  title=&quot;dom-selection-removeAllRanges&quot;&gt;removeAllRanges()&lt;/code&gt;
+  method is invoked (and until a new range is added to the list,
+  either through this interface or via user interaction).&lt;/p&gt;
+
+  &lt;p&gt;Objects implementing this interface must &lt;dfn
+  title=&quot;dom-selection-toString&quot;&gt;stringify&lt;/dfn&gt; to a concatenation
+  of the results of invoking the &lt;code title=&quot;&quot;&gt;toString()&lt;/code&gt;
+  method of the &lt;code&gt;Range&lt;/code&gt; object on each of the ranges of the
+  selection, in the order they appear in the list (first to last).&lt;/p&gt;
+
+  &lt;div class=&quot;example&quot;&gt;
+   &lt;p&gt;In the following document fragment, the emphasised parts
+   indicate the selection.&lt;/p&gt;
+   &lt;pre&gt;&lt;p&gt;The cute girl likes &lt;em&gt;the &lt;/em&gt;&lt;cite&gt;&lt;em&gt;Oxford English&lt;/em&gt; Dictionary&lt;/cite&gt;.&lt;/p&gt;&lt;/pre&gt;
+   &lt;p&gt;If a script invoked &lt;code
+   title=&quot;&quot;&gt;window.getSelection().toString()&lt;/code&gt;, the return value
+   would be &quot;&lt;code&gt;the Oxford English&lt;/code&gt;&quot;.&lt;/p&gt;
+  &lt;/div&gt;
+
+  &lt;p class=&quot;note&quot;&gt;The &lt;code&gt;Selection&lt;/code&gt; interface has no relation
+  to the &lt;code&gt;DataGridSelection&lt;/code&gt; interface.&lt;/p&gt;
+
+
+  &lt;h4 id=&quot;textFieldSelection&quot;&gt;APIs for the text field selections&lt;/h4&gt;
+
+  &lt;p class=&quot;big-issue&quot;&gt;When we define HTMLTextAreaElement and
+  HTMLInputElement we will have to add the IDL given below to both of
+  their IDLs.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;code&gt;input&lt;/code&gt; and &lt;code&gt;textarea&lt;/code&gt; elements define
+  four members in their DOM interfaces for handling their text
+  selection:&lt;/p&gt;
+
+  &lt;pre class=&quot;idl&quot;&gt;  void &lt;span title=&quot;dom-textarea/input-select&quot;&gt;select&lt;/span&gt;();
+           attribute unsigned long &lt;span title=&quot;dom-textarea/input-selectionStart&quot;&gt;selectionStart&lt;/span&gt;;
+           attribute unsigned long &lt;span title=&quot;dom-textarea/input-selectionEnd&quot;&gt;selectionEnd&lt;/span&gt;;
+  void &lt;span title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;setSelectionRange&lt;/span&gt;(in unsigned long start, in unsigned long end);&lt;/pre&gt;
+&lt;!-- XXX also add textLength? it seems to be widely used --&gt;
+
+  &lt;p&gt;These methods and attributes expose and control the selection of
+  &lt;code&gt;input&lt;/code&gt; and &lt;code&gt;textarea&lt;/code&gt; text fields.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-textarea/input-select&quot;&gt;&lt;code&gt;select()&lt;/code&gt;&lt;/dfn&gt; method
+  must cause the contents of the text field to be fully selected.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-textarea/input-selectionStart&quot;&gt;&lt;code&gt;selectionStart&lt;/code&gt;&lt;/dfn&gt;
+  attribute must, on getting, return the offset (in logical order) to
+  the character that immediately follows the start of the
+  selection. If there is no selection, then it must return the offset
+  (in logical order) to the character that immediately follows the
+  text entry cursor.&lt;/p&gt;
+
+  &lt;p&gt;On setting, it must act as if the &lt;code
+  title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;setSelectionRange()&lt;/code&gt;
+  method had been called, with the new value as the first argument,
+  and the current value of the &lt;code
+  title=&quot;dom-textarea/input-selectionEnd&quot;&gt;selectionEnd&lt;/code&gt;
+  attribute as the second argument, unless the current value of the
+  &lt;code title=&quot;dom-textarea/input-selectionEnd&quot;&gt;selectionEnd&lt;/code&gt; is
+  less than the new value, in which case the second argument must also
+  be the new value.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-textarea/input-selectionEnd&quot;&gt;&lt;code&gt;selectionEnd&lt;/code&gt;&lt;/dfn&gt;
+  attribute must, on getting, return the offset (in logical order) to
+  the character that immediately follows the end of the selection. If
+  there is no selection, then it must return the offset (in logical
+  order) to the character that immediately follows the text entry
+  cursor.&lt;/p&gt;
+
+  &lt;p&gt;On setting, it must act as if the &lt;code
+  title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;setSelectionRange()&lt;/code&gt;
+  method had been called, with the current value of the &lt;code
+  title=&quot;dom-textarea/input-selectionStart&quot;&gt;selectionStart&lt;/code&gt;
+  attribute as the first argument, and new value as the second
+  argument.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn
+  title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;&lt;code&gt;setSelectionRange(&lt;var
+  title=&quot;&quot;&gt;start&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;end&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
+  must set the selection of the text field to the sequence of
+  characters starting with the character at the &lt;var
+  title=&quot;&quot;&gt;start&lt;/var&gt;th position (in logical order) and ending with
+  the character at the &lt;span&gt;(&lt;var title=&quot;&quot;&gt;end&lt;/var&gt;-1)&lt;/span&gt;th
+  position. Arguments greater than the length of the value in the text
+  field must be treated as pointing at the end of the text field. If
+  &lt;var title=&quot;&quot;&gt;end&lt;/var&gt; is less than or equal to &lt;var
+  title=&quot;&quot;&gt;start&lt;/var&gt; then the start of the selection and the end of
+  the selection must both be placed immediately before the character
+  with offset &lt;var title=&quot;&quot;&gt;end&lt;/var&gt;. In UAs where there is no
+  concept of an empty selection, this must set the cursor to be just
+  before the character with offset &lt;var title=&quot;&quot;&gt;end&lt;/var&gt;.&lt;/p&gt;
+
+  &lt;div class=&quot;example&quot;&gt;
+
+   &lt;p&gt;To obtain the currently selected text, the following JavaScript
+   suffices:&lt;/p&gt;
+
+   &lt;pre&gt;var selectionText = control.value.substring(control.selectionStart, control.selectionEnd);&lt;/pre&gt;
+
+   &lt;p&gt;...where &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; is the &lt;code&gt;input&lt;/code&gt;
+   or &lt;code&gt;textarea&lt;/code&gt; element.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;p&gt;Characters with no visible rendering, such as U+200D ZERO WIDTH
+  JOINER, still count as characters. Thus, for instance, the selection
+  can include just an invisible character, and the text insertion
+  cursor can be placed to one side or another of such a character.&lt;/p&gt;
+
+  &lt;p&gt;When these methods and attributes are used with
+  &lt;code&gt;input&lt;/code&gt; elements that are not displaying simple text
+  fields, they must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt;
+  exception.&lt;/p&gt;
+
+
+
+
   &lt;h3 id=&quot;contenteditable&quot;&gt;The &lt;code
   title=&quot;attr-contenteditable&quot;&gt;contenteditable&lt;/code&gt; attribute&lt;/h3&gt;
 
@@ -36604,360 +36951,6 @@
 
 
 
-
-  &lt;h3 id=&quot;selection&quot;&gt;The text selection APIs&lt;/h3&gt;
-
-  &lt;p&gt;Every &lt;span&gt;browsing context&lt;/span&gt; has &lt;dfn title=&quot;the
-  selection&quot;&gt;a selection&lt;/dfn&gt;. The selection can be empty, and the
-  selection can have more than one range (a disjointed selection). The
-  user should be able to change the selection. User agents are not
-  required to let the user select more than one range, and may
-  collapse multiple ranges in the selection to a single range when the
-  user interacts with the selection. (But, of course, the user agent
-  may let the user create selections with multiple ranges.)&lt;/p&gt;
-
-  &lt;p&gt;This one selection must be shared by all the content of the
-  browsing context (though not by nested &lt;span title=&quot;browsing
-  context&quot;&gt;browsing contexts&lt;/span&gt;), including any editing hosts in
-  the document. (Editing hosts that are not inside a document cannot
-  have a selection.)&lt;/p&gt;
-
-  &lt;p&gt;If the selection is empty (collapsed, so that it has only one
-  segment and that segment's start and end points are the same) then
-  the selection's position should equal the caret position. When the
-  selection is not empty, this specification does not define the caret
-  position; user agents should follow platform conventions in deciding
-  whether the caret is at the start of the selection, the end of the
-  selection, or somewhere else.&lt;/p&gt;
-
-  &lt;p&gt;On some platforms (such as those using Wordstar editing
-  conventions), the caret position is totally independent of the start
-  and end of the selection, even when the selection is empty. On such
-  platforms, user agents may ignore the requirement that the cursor
-  position be linked to the position of the selection altogether.&lt;/p&gt;
-
-  &lt;p&gt;Mostly for historical reasons, in addition to the &lt;span&gt;browsing
-  context&lt;/span&gt;'s &lt;span title=&quot;the selection&quot;&gt;selection&lt;/span&gt;, each
-  &lt;code&gt;textarea&lt;/code&gt; and &lt;code&gt;input&lt;/code&gt; element has an
-  independent selection. These are the &lt;dfn title=&quot;text field
-  selection&quot;&gt;text field selections&lt;/dfn&gt;.&lt;/p&gt;
-
-  &lt;p&gt;User agents may selectively ignore attempts to use the API to
-  adjust the selection made after the user has modified the
-  selection. For example, if the user has just selected part of a
-  word, the user agent could ignore attempts to use the API call to
-  immediately unselect the selection altogether, but could allow
-  attempts to change the selection to select the entire word.&lt;/p&gt;
-
-  &lt;p&gt;User agents may also allow the user to create selections that are
-  not exposed to the API.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;code&gt;datagrid&lt;/code&gt; and &lt;code&gt;select&lt;/code&gt; elements also
-  have selections, indicating which items have been picked by the
-  user. These are not discussed in this section.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;This specification does not specify how selections
-  are presented to the user. The Selectors specification, in
-  conjunction with CSS, can be used to style text selections using the
-  &lt;code&gt;::selection&lt;/code&gt; pseudo-element. &lt;a
-  href=&quot;#refsSELECTORS&quot;&gt;[SELECTORS]&lt;/a&gt; &lt;a
-  href=&quot;#refsCSS21&quot;&gt;[CSS21]&lt;/a&gt;&lt;/p&gt;
-
-
-
-  &lt;h4 id=&quot;documentSelection&quot;&gt;APIs for the browsing context selection&lt;/h4&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-getSelection&quot;&gt;&lt;code&gt;getSelection()&lt;/code&gt;&lt;/dfn&gt; method on
-  the &lt;code&gt;Window&lt;/code&gt; interface must return the
-  &lt;code&gt;Selection&lt;/code&gt; object representing &lt;span&gt;the
-  selection&lt;/span&gt; of that &lt;code&gt;Window&lt;/code&gt; object's
-  &lt;span&gt;browsing context&lt;/span&gt;.
-
-  &lt;p&gt;For historical reasons, the &lt;dfn
-  title=&quot;dom-document-getSelection&quot;&gt;&lt;code&gt;getSelection()&lt;/code&gt;&lt;/dfn&gt;
-  method on the &lt;code&gt;HTMLDocument&lt;/code&gt; interface must return the
-  same &lt;code&gt;Selection&lt;/code&gt; object.&lt;/p&gt;
-                                   
-  &lt;pre class=&quot;idl&quot;&gt;[&lt;span title=&quot;dom-selection-toString&quot;&gt;Stringifies&lt;/span&gt;] interface &lt;dfn&gt;Selection&lt;/dfn&gt; {
-  readonly attribute Node &lt;span title=&quot;dom-selection-anchorNode&quot;&gt;anchorNode&lt;/span&gt;;
-  readonly attribute long &lt;span title=&quot;dom-selection-anchorOffset&quot;&gt;anchorOffset&lt;/span&gt;;
-  readonly attribute Node &lt;span title=&quot;dom-selection-focusNode&quot;&gt;focusNode&lt;/span&gt;;
-  readonly attribute long &lt;span title=&quot;dom-selection-focusOffset&quot;&gt;focusOffset&lt;/span&gt;;
-  readonly attribute boolean &lt;span title=&quot;dom-selection-isCollapsed&quot;&gt;isCollapsed&lt;/span&gt;;
-  void &lt;span title=&quot;dom-selection-collapse&quot;&gt;collapse&lt;/span&gt;(in Node parentNode, in long offset);
-  void &lt;span title=&quot;dom-selection-collapseToStart&quot;&gt;collapseToStart&lt;/span&gt;();
-  void &lt;span title=&quot;dom-selection-collapseToEnd&quot;&gt;collapseToEnd&lt;/span&gt;();
-  void &lt;span title=&quot;dom-selection-selectAllChildren&quot;&gt;selectAllChildren&lt;/span&gt;(in Node parentNode);
-  void &lt;span title=&quot;dom-selection-deleteFromDocument&quot;&gt;deleteFromDocument&lt;/span&gt;();
-  readonly attribute long &lt;span title=&quot;dom-selection-rangeCount&quot;&gt;rangeCount&lt;/span&gt;;
-  Range &lt;span title=&quot;dom-selection-getRangeAt&quot;&gt;getRangeAt&lt;/span&gt;(in long index);
-  void &lt;span title=&quot;dom-selection-addRange&quot;&gt;addRange&lt;/span&gt;(in Range range);
-  void &lt;span title=&quot;dom-selection-removeRange&quot;&gt;removeRange&lt;/span&gt;(in Range range);
-  void &lt;span title=&quot;dom-selection-removeAllRanges&quot;&gt;removeAllRanges&lt;/span&gt;();
-};&lt;/pre&gt;
-&lt;!--
-  See also:
-    <A HREF="http://lxr.mozilla.org/mozilla/source/content/base/public/nsISelection.idl">http://lxr.mozilla.org/mozilla/source/content/base/public/nsISelection.idl</A>
-  This spec doesn't have everything from there yet, in particular
-  selectionLanguageChange() and containsNode() are missing. They are missing
-  because I couldn't work out how to define them in terms of Ranges.
-
-  I also haven't included extend():
-
-    void &lt;span title=&quot;dom-selection-extend&quot;&gt;extend&lt;/span&gt;(in Node parentNode, in long offset);
-    // raise if no range
-    // raise WRONG_DOCUMENT_ERR if parentNode not in document
-    // do something
-
-  ...mostly because I can't work out how to describe what it does quickly.
---&gt;
-
-  &lt;p&gt;The &lt;code&gt;Selection&lt;/code&gt; interface is represents a list of
-  &lt;code&gt;Range&lt;/code&gt; objects. The first item in the list has index 0,
-  and the last item has index &lt;var title=&quot;&quot;&gt;count&lt;/var&gt;-1, where
-  &lt;var title=&quot;&quot;&gt;count&lt;/var&gt; is the number of ranges in the list. &lt;a
-  href=&quot;#refsDOM2RANGE&quot;&gt;[DOM2RANGE]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;All of the members of the &lt;code&gt;Selection&lt;/code&gt; interface are
-  defined in terms of operations on the &lt;code&gt;Range&lt;/code&gt; objects
-  represented by this object. These operations can raise exceptions,
-  as defined for the &lt;code&gt;Range&lt;/code&gt; interface; this can therefore
-  result in the members of the &lt;code&gt;Selection&lt;/code&gt; interface
-  raising exceptions as well, in addition to any explicitly called out
-  below.&lt;/p&gt; &lt;!-- XXX example --&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-anchorNode&quot;&gt;&lt;code&gt;anchorNode&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the value returned by the &lt;code
-  title=&quot;&quot;&gt;startContainer&lt;/code&gt; attribute of the last
-  &lt;code&gt;Range&lt;/code&gt; object in the list, or null if the list is
-  empty.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-anchorOffset&quot;&gt;&lt;code&gt;anchorOffset&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the value returned by the &lt;code
-  title=&quot;&quot;&gt;startOffset&lt;/code&gt; attribute of the last &lt;code&gt;Range&lt;/code&gt;
-  object in the list, or 0 if the list is empty.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-focusNode&quot;&gt;&lt;code&gt;focusNode&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the value returned by the &lt;code
-  title=&quot;&quot;&gt;endContainer&lt;/code&gt; attribute of the last
-  &lt;code&gt;Range&lt;/code&gt; object in the list, or null if the list is
-  empty.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-focusOffset&quot;&gt;&lt;code&gt;focusOffset&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the value returned by the &lt;code
-  title=&quot;&quot;&gt;endOffset&lt;/code&gt; attribute of the last &lt;code&gt;Range&lt;/code&gt;
-  object in the list, or 0 if the list is empty.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-isCollapsed&quot;&gt;&lt;code&gt;isCollapsed&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return true if there are zero ranges, or if there is
-  exactly one range and its &lt;code title=&quot;&quot;&gt;collapsed&lt;/code&gt; attribute
-  is itself true. Otherwise it must return false.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-collapse&quot;&gt;&lt;code&gt;collapse(&lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;offset&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must raise a
-  &lt;code&gt;WRONG_DOCUMENT_ERR&lt;/code&gt; DOM exception if
-  &lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt;'s &lt;code title=&quot;&quot;&gt;ownerDocument&lt;/code&gt; is not
-  the &lt;code&gt;HTMLDocument&lt;/code&gt; object with which the
-  &lt;code&gt;Selection&lt;/code&gt; object is associated. Otherwise it is, and
-  the method must remove all the ranges in the &lt;code&gt;Selection&lt;/code&gt;
-  list, then create a new &lt;code&gt;Range&lt;/code&gt; object, add it to the
-  list, and invoke its &lt;code title=&quot;&quot;&gt;setStart()&lt;/code&gt; and &lt;code
-  title=&quot;&quot;&gt;setEnd()&lt;/code&gt; methods with the &lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt; and
-  &lt;var title=&quot;&quot;&gt;offset&lt;/var&gt; values as their arguments.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-collapseToStart&quot;&gt;&lt;code&gt;collapseToStart()&lt;/code&gt;&lt;/dfn&gt;
-  method must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; DOM exception if
-  there are no ranges in the list. Otherwise, it must invoke the &lt;code
-  title=&quot;dom-selection-collapse&quot;&gt;collapse()&lt;/code&gt; method with the
-  &lt;code title=&quot;&quot;&gt;startContainer&lt;/code&gt; and &lt;code
-  title=&quot;&quot;&gt;startOffset&lt;/code&gt; values of the first &lt;code&gt;Range&lt;/code&gt;
-  object in the list as the arguments.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-collapseToEnd&quot;&gt;&lt;code&gt;collapseToEnd()&lt;/code&gt;&lt;/dfn&gt;
-  method must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; DOM exception if
-  there are no ranges in the list. Otherwise, it must invoke the &lt;code
-  title=&quot;dom-selection-collapse&quot;&gt;collapse()&lt;/code&gt; method with the
-  &lt;code title=&quot;&quot;&gt;endContainer&lt;/code&gt; and &lt;code
-  title=&quot;&quot;&gt;endOffset&lt;/code&gt; values of the last &lt;code&gt;Range&lt;/code&gt;
-  object in the list as the arguments.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-selectAllChildren&quot;&gt;&lt;code&gt;selectAllChildren(&lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
-  method must invoke the &lt;code
-  title=&quot;dom-selection-collapse&quot;&gt;collapse()&lt;/code&gt; method with the
-  &lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt; value as the first argument and 0 as the
-  second argument, and must then invoke the &lt;code
-  title=&quot;&quot;&gt;selectNodeContents()&lt;/code&gt; method on the first (and only)
-  range in the list with the &lt;var title=&quot;&quot;&gt;parentNode&lt;/var&gt; value as the
-  argument.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-deleteFromDocument&quot;&gt;&lt;code&gt;deleteFromDocument()&lt;/code&gt;&lt;/dfn&gt;
-  method must invoke the &lt;code title=&quot;&quot;&gt;deleteContents()&lt;/code&gt; method
-  on each range in the list, if any, from first to last.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-rangeCount&quot;&gt;&lt;code&gt;rangeCount&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return the number of ranges in the list.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-getRangeAt&quot;&gt;&lt;code&gt;getRangeAt(&lt;var title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
-  method must return the &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;th range in the list. If
-  &lt;var title=&quot;&quot;&gt;index&lt;/var&gt; is less than zero or greater or equal to the value
-  returned by the &lt;code
-  title=&quot;dom-selection-rangeCount&quot;&gt;rangeCount&lt;/code&gt; attribute, then
-  the method must raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; DOM
-  exception.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-addRange&quot;&gt;&lt;code&gt;addRange(&lt;var title=&quot;&quot;&gt;range&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
-  method must add the given &lt;var title=&quot;&quot;&gt;range&lt;/var&gt; Range object to the list
-  of selections, at the end (so the newly added range is the new last
-  range). Duplicates are not prevented; a range may be added more than
-  once in which case it appears in the list more than once, which (for
-  example) will cause &lt;span
-  title=&quot;dom-selection-toString&quot;&gt;stringification&lt;/span&gt; to return the
-  range's text twice.&lt;/p&gt; &lt;!-- XXX how does this interact with
-  deleteFromDocument() which acts on all ranges? --&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-removeRange&quot;&gt;&lt;code&gt;removeRange(&lt;var title=&quot;&quot;&gt;range&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
-  method must remove the first occurrence of &lt;var title=&quot;&quot;&gt;range&lt;/var&gt; in the
-  list of ranges, if it appears at all.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-removeAllRanges&quot;&gt;&lt;code&gt;removeAllRanges()&lt;/code&gt;&lt;/dfn&gt;
-  method must remove all the ranges from the list of ranges, such that
-  the &lt;code title=&quot;dom-selection-rangeCount&quot;&gt;rangeCount&lt;/code&gt;
-  attribute returns 0 after the &lt;code
-  title=&quot;dom-selection-removeAllRanges&quot;&gt;removeAllRanges()&lt;/code&gt;
-  method is invoked (and until a new range is added to the list,
-  either through this interface or via user interaction).&lt;/p&gt;
-
-  &lt;p&gt;Objects implementing this interface must &lt;dfn
-  title=&quot;dom-selection-toString&quot;&gt;stringify&lt;/dfn&gt; to a concatenation
-  of the results of invoking the &lt;code title=&quot;&quot;&gt;toString()&lt;/code&gt;
-  method of the &lt;code&gt;Range&lt;/code&gt; object on each of the ranges of the
-  selection, in the order they appear in the list (first to last).&lt;/p&gt;
-
-  &lt;div class=&quot;example&quot;&gt;
-   &lt;p&gt;In the following document fragment, the emphasised parts
-   indicate the selection.&lt;/p&gt;
-   &lt;pre&gt;&lt;p&gt;The cute girl likes &lt;em&gt;the &lt;/em&gt;&lt;cite&gt;&lt;em&gt;Oxford English&lt;/em&gt; Dictionary&lt;/cite&gt;.&lt;/p&gt;&lt;/pre&gt;
-   &lt;p&gt;If a script invoked &lt;code
-   title=&quot;&quot;&gt;window.getSelection().toString()&lt;/code&gt;, the return value
-   would be &quot;&lt;code&gt;the Oxford English&lt;/code&gt;&quot;.&lt;/p&gt;
-  &lt;/div&gt;
-
-  &lt;p class=&quot;note&quot;&gt;The &lt;code&gt;Selection&lt;/code&gt; interface has no relation
-  to the &lt;code&gt;DataGridSelection&lt;/code&gt; interface.&lt;/p&gt;
-
-
-  &lt;h4 id=&quot;textFieldSelection&quot;&gt;APIs for the text field selections&lt;/h4&gt;
-
-  &lt;p class=&quot;big-issue&quot;&gt;When we define HTMLTextAreaElement and
-  HTMLInputElement we will have to add the IDL given below to both of
-  their IDLs.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;code&gt;input&lt;/code&gt; and &lt;code&gt;textarea&lt;/code&gt; elements define
-  four members in their DOM interfaces for handling their text
-  selection:&lt;/p&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;  void &lt;span title=&quot;dom-textarea/input-select&quot;&gt;select&lt;/span&gt;();
-           attribute unsigned long &lt;span title=&quot;dom-textarea/input-selectionStart&quot;&gt;selectionStart&lt;/span&gt;;
-           attribute unsigned long &lt;span title=&quot;dom-textarea/input-selectionEnd&quot;&gt;selectionEnd&lt;/span&gt;;
-  void &lt;span title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;setSelectionRange&lt;/span&gt;(in unsigned long start, in unsigned long end);&lt;/pre&gt;
-&lt;!-- XXX also add textLength? it seems to be widely used --&gt;
-
-  &lt;p&gt;These methods and attributes expose and control the selection of
-  &lt;code&gt;input&lt;/code&gt; and &lt;code&gt;textarea&lt;/code&gt; text fields.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-textarea/input-select&quot;&gt;&lt;code&gt;select()&lt;/code&gt;&lt;/dfn&gt; method
-  must cause the contents of the text field to be fully selected.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-textarea/input-selectionStart&quot;&gt;&lt;code&gt;selectionStart&lt;/code&gt;&lt;/dfn&gt;
-  attribute must, on getting, return the offset (in logical order) to
-  the character that immediately follows the start of the
-  selection. If there is no selection, then it must return the offset
-  (in logical order) to the character that immediately follows the
-  text entry cursor.&lt;/p&gt;
-
-  &lt;p&gt;On setting, it must act as if the &lt;code
-  title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;setSelectionRange()&lt;/code&gt;
-  method had been called, with the new value as the first argument,
-  and the current value of the &lt;code
-  title=&quot;dom-textarea/input-selectionEnd&quot;&gt;selectionEnd&lt;/code&gt;
-  attribute as the second argument, unless the current value of the
-  &lt;code title=&quot;dom-textarea/input-selectionEnd&quot;&gt;selectionEnd&lt;/code&gt; is
-  less than the new value, in which case the second argument must also
-  be the new value.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-textarea/input-selectionEnd&quot;&gt;&lt;code&gt;selectionEnd&lt;/code&gt;&lt;/dfn&gt;
-  attribute must, on getting, return the offset (in logical order) to
-  the character that immediately follows the end of the selection. If
-  there is no selection, then it must return the offset (in logical
-  order) to the character that immediately follows the text entry
-  cursor.&lt;/p&gt;
-
-  &lt;p&gt;On setting, it must act as if the &lt;code
-  title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;setSelectionRange()&lt;/code&gt;
-  method had been called, with the current value of the &lt;code
-  title=&quot;dom-textarea/input-selectionStart&quot;&gt;selectionStart&lt;/code&gt;
-  attribute as the first argument, and new value as the second
-  argument.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-textarea/input-setSelectionRange&quot;&gt;&lt;code&gt;setSelectionRange(&lt;var
-  title=&quot;&quot;&gt;start&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;end&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
-  must set the selection of the text field to the sequence of
-  characters starting with the character at the &lt;var
-  title=&quot;&quot;&gt;start&lt;/var&gt;th position (in logical order) and ending with
-  the character at the &lt;span&gt;(&lt;var title=&quot;&quot;&gt;end&lt;/var&gt;-1)&lt;/span&gt;th
-  position. Arguments greater than the length of the value in the text
-  field must be treated as pointing at the end of the text field. If
-  &lt;var title=&quot;&quot;&gt;end&lt;/var&gt; is less than or equal to &lt;var
-  title=&quot;&quot;&gt;start&lt;/var&gt; then the start of the selection and the end of
-  the selection must both be placed immediately before the character
-  with offset &lt;var title=&quot;&quot;&gt;end&lt;/var&gt;. In UAs where there is no
-  concept of an empty selection, this must set the cursor to be just
-  before the character with offset &lt;var title=&quot;&quot;&gt;end&lt;/var&gt;.&lt;/p&gt;
-
-  &lt;div class=&quot;example&quot;&gt;
-
-   &lt;p&gt;To obtain the currently selected text, the following JavaScript
-   suffices:&lt;/p&gt;
-
-   &lt;pre&gt;var selectionText = control.value.substring(control.selectionStart, control.selectionEnd);&lt;/pre&gt;
-
-   &lt;p&gt;...where &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; is the &lt;code&gt;input&lt;/code&gt;
-   or &lt;code&gt;textarea&lt;/code&gt; element.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-  &lt;p&gt;Characters with no visible rendering, such as U+200D ZERO WIDTH
-  JOINER, still count as characters. Thus, for instance, the selection
-  can include just an invisible character, and the text insertion
-  cursor can be placed to one side or another of such a character.&lt;/p&gt;
-
-  &lt;p&gt;When these methods and attributes are used with
-  &lt;code&gt;input&lt;/code&gt; elements that are not displaying simple text
-  fields, they must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt;
-  exception.&lt;/p&gt;
-
-
-
   &lt;h3&gt;Command APIs&lt;/h3&gt;
 
   &lt;p&gt;The &lt;dfn id=&quot;execCommand&quot;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008634.html">[html5] r1735 - /
</A></li>
	<LI>Next message: <A HREF="008636.html">[html5] r1737 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8635">[ date ]</a>
              <a href="thread.html#8635">[ thread ]</a>
              <a href="subject.html#8635">[ subject ]</a>
              <a href="author.html#8635">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
