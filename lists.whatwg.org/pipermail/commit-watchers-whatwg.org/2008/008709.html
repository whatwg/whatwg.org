<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1811 - [g] (2) URLify the registerContentHandler()	section. This also modified the rule [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1811%20-%20%5Bg%5D%20%282%29%20URLify%20the%20registerContentHandler%28%29%0A%09section.%20This%20also%20modified%20the%20rule%20%5B...%5D&In-Reply-To=%3C20080627002135.E423B1B0D98%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008708.html">
   <LINK REL="Next"  HREF="008710.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1811 - [g] (2) URLify the registerContentHandler()	section. This also modified the rule [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1811%20-%20%5Bg%5D%20%282%29%20URLify%20the%20registerContentHandler%28%29%0A%09section.%20This%20also%20modified%20the%20rule%20%5B...%5D&In-Reply-To=%3C20080627002135.E423B1B0D98%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1811 - [g] (2) URLify the registerContentHandler()	section. This also modified the rule [...]">whatwg at whatwg.org
       </A><BR>
    <I>Thu Jun 26 17:21:35 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008708.html">[html5] r1810 - [] (0) URLification of arguments and attributes in	IDLs
</A></li>
        <LI>Next message: <A HREF="008710.html">[html5] r1812 - [] (0) URLification of offline application cache	and of session history.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8709">[ date ]</a>
              <a href="thread.html#8709">[ thread ]</a>
              <a href="subject.html#8709">[ subject ]</a>
              <a href="author.html#8709">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-06-26 17:21:35 -0700 (Thu, 26 Jun 2008)
New Revision: 1811

Modified:
   index
   source
Log:
[g] (2) URLify the registerContentHandler() section. This also modified the rules for handling relative URLs and for escaping content here, it wasn't just s/URI/URL/ as other commits have been.

Modified: index
===================================================================
--- index	2008-06-26 23:48:35 UTC (rev 1810)
+++ index	2008-06-27 00:21:35 UTC (rev 1811)
@@ -25,7 +25,7 @@
 
    &lt;h1 id=html-5&gt;HTML 5&lt;/h1&gt;
 
-   &lt;h2 class=&quot;no-num no-toc&quot; id=draft&gt;Draft Recommendation &mdash; 26 June
+   &lt;h2 class=&quot;no-num no-toc&quot; id=draft&gt;Draft Recommendation &mdash; 27 June
     2008&lt;/h2&gt;
 
    &lt;p&gt;You can take part in this work. &lt;a
@@ -31978,46 +31978,47 @@
      parameters. Thus, if &lt;var title=&quot;&quot;&gt;mimeType&lt;/var&gt; values passed to this
      method include characters such as commas or whitespace, or include MIME
      parameters, then the handler being registered will never be used.&lt;/p&gt;
-   &lt;/dd&gt;
-   &lt;!-- XXXURL XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX \(URI\|IRI\|URL\) --&gt;
 
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;url&lt;/var&gt;
 
-   &lt;dd&gt; &lt;!-- XXXURL use url, algorithms --&gt;
-    &lt;p&gt;The URI of the page that will handle the requests. When the user agent
-     uses this URI, it must replace the first occurrence of the exact literal
-     string &quot;&lt;code&gt;%s&lt;/code&gt;&quot; with an escaped version of the URI of the
-     content in question (as defined below), and then fetch the resulting URI
-     using the GET method (or equivalent for non-HTTP URIs).&lt;/p&gt;
-    &lt;!-- XXXURL use url, algorithms --&gt;
-    &lt;p&gt;To get the escaped version of the URI, first, the domain part of the
-     URI (if any) must be converted to its punycode representation, and then,
-     every character in the URI that is not in the ranges given in the next
-     paragraph must be replaced by its UTF-8 byte representation, each byte
-     being represented by a U+0025 (%) character and two digits in the range
-     U+0030 (0) to U+0039 (9) and U+0041 (A) to U+0046 (F) giving the
-     hexadecimal representation of the byte.&lt;/p&gt;
+   &lt;dd&gt;
+    &lt;p&gt;The &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt; of the page that will handle the requests.
+     When the user agent uses this URL, it must replace the first occurrence
+     of the exact literal string &quot;&lt;code&gt;%s&lt;/code&gt;&quot; with an escaped version of
+     the URL of the content in question (as defined below), then &lt;a
+     href=&quot;#resolve&quot; title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt; the resulting URL
+     (using the &lt;a href=&quot;#document0&quot;&gt;document base URL&lt;/a&gt; of the &lt;a
+     href=&quot;#script4&quot;&gt;script document context&lt;/a&gt; of the script that
+     originally invoked the &lt;code
+     title=dom-navigator-registerContentHandler&gt;&lt;a
+     href=&quot;#registercontenthandler&quot;&gt;registerContentHandler()&lt;/a&gt;&lt;/code&gt; or
+     &lt;code title=dom-navigator-registerProtocolHandler&gt;&lt;a
+     href=&quot;#registerprotocolhandler&quot;&gt;registerProtocolHandler()&lt;/a&gt;&lt;/code&gt;
+     method), and then fetch the resulting URL using the GET method (or
+     equivalent for non-HTTP URLs).&lt;/p&gt;
 
-    &lt;p&gt;The ranges of characters that must not be escaped are: U+002D (-),
-     U+002E (.), U+0030 (0) to U+0039 (9), U+0041 (A) to U+005A (Z), U+005F
-     (_), U+0061 (a) to U+007A (z), and U+007E (~).&lt;/p&gt;
-    &lt;!-- XXXURL move that to a common algorithms section if any other
-    part of the spec needs it --&gt;
-    
+    &lt;p&gt;To get the escaped version of the URL of the content in question, the
+     user agent must &lt;a href=&quot;#resolve&quot; title=&quot;resolve a URL&quot;&gt;resolve&lt;/a&gt; the
+     URL, and then every character in the URL that doesn't match the
+     &lt;query&gt; production defined in RFC 3986 must be replaced by the
+     percent-encoded form of the character.&lt;/p&gt;
+
     &lt;div class=example&gt;
-     &lt;p&gt;If the user had visited a site that made the following call:&lt;/p&gt;
+     &lt;p&gt;If the user had visited a site at &lt;code
+      title=&quot;&quot;&gt;<A HREF="http://example.com/&lt;/code">http://example.com/&lt;/code</A>&gt; that made the following call:&lt;/p&gt;
 
-     &lt;pre&gt;navigator.registerContentHandler('application/x-soup', '<A HREF="http://example.com/soup?url=%s">http://example.com/soup?url=%s</A>', 'SoupWeb&trade;')&lt;/pre&gt;
+     &lt;pre&gt;navigator.registerContentHandler('application/x-soup', 'soup?url=%s', 'SoupWeb&trade;')&lt;/pre&gt;
 
-     &lt;p&gt;...and then clicked on a link such as:&lt;/p&gt;
+     &lt;p&gt;...and then, much later, while visiting &lt;code
+      title=&quot;&quot;&gt;<A HREF="http://www.example.net/&lt;/code">http://www.example.net/&lt;/code</A>&gt;, clicked on a link such as:&lt;/p&gt;
 
-     &lt;pre&gt;&lt;a href=&quot;<A HREF="http://www.example.net/chickenk&amp;#xEF;wi.soup">http://www.example.net/chickenk&amp;#xEF;wi.soup</A>&quot;&gt;Download our Chicken Kiwi soup!&lt;/a&gt;&lt;/pre&gt;
-     &lt;!-- XXXURL use url --&gt;
+     &lt;pre&gt;&lt;a href=&quot;chickenk&amp;#xEF;wi.soup&quot;&gt;Download our Chicken Kiwi soup!&lt;/a&gt;&lt;/pre&gt;
+
      &lt;p&gt;...then, assuming this &lt;code&gt;chickenk&amp;#xEF;wi.soup&lt;/code&gt; file was
       served with the MIME type &lt;code&gt;application/x-soup&lt;/code&gt;, the UA might
-      navigate to the following URI:&lt;/p&gt;
+      navigate to the following URL:&lt;/p&gt;
 
-     &lt;pre&gt;<A HREF="http://example.com/soup?url=http%3A%2F%2Fwww.example.net%2Fchickenk%C3%AFwi.soup&lt;/pre">http://example.com/soup?url=http%3A%2F%2Fwww.example.net%2Fchickenk%C3%AFwi.soup&lt;/pre</A>&gt;
+     &lt;pre&gt;<A HREF="http://example.com/soup?url=http://www.example.net/chickenk%C3%AFwi.soup&lt;/pre">http://example.com/soup?url=http://www.example.net/chickenk%C3%AFwi.soup&lt;/pre</A>&gt;
 
      &lt;p&gt;This site could then fetch the &lt;code&gt;chickenk&amp;#xEF;wi.soup&lt;/code&gt;
       file and do whatever it is that it does with soup (synthesize it and
@@ -32030,13 +32031,12 @@
     &lt;p&gt;A descriptive title of the handler, which the UA might use to remind
      the user what the site in question is.&lt;/p&gt;
   &lt;/dl&gt;
-  &lt;!-- XXXURL use url --&gt;
 
   &lt;p&gt;User agents should raise &lt;a href=&quot;#security9&quot; title=&quot;security
    exception&quot;&gt;security exceptions&lt;/a&gt; if the methods are called with &lt;var
    title=&quot;&quot;&gt;protocol&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;mimeType&lt;/var&gt; values that the UA
    deems to be &quot;privileged&quot;. For example, a site attempting to register a
-   handler for &lt;code&gt;http&lt;/code&gt; URIs or &lt;code&gt;text/html&lt;/code&gt; content in a
+   handler for &lt;code&gt;http&lt;/code&gt; URLs or &lt;code&gt;text/html&lt;/code&gt; content in a
    Web browser would likely cause an exception to be raised.
 
   &lt;p&gt;User agents must raise a &lt;code&gt;SYNTAX_ERR&lt;/code&gt; exception if the &lt;var
@@ -32097,11 +32097,10 @@
    against typical attacks against strings embedded in their interface, for
    example ensuring that markup or escape characters in such strings are not
    executed, that null bytes are properly handled, that over-long strings do
-   not cause crashes or buffer overruns, and so forth.&lt;/p&gt;
-  &lt;!-- XXXURL use url --&gt;
+   not cause crashes or buffer overruns, and so forth.
 
-  &lt;p&gt;&lt;strong&gt;Leaking Intranet URIs.&lt;/strong&gt; The mechanism described in this
-   section can result in secret Intranet URIs being leaked, in the following
+  &lt;p&gt;&lt;strong&gt;Leaking Intranet URLs.&lt;/strong&gt; The mechanism described in this
+   section can result in secret Intranet URLs being leaked, in the following
    manner:
 
   &lt;ol&gt;
@@ -32114,28 +32113,25 @@
    &lt;li&gt;The user agent contacts the third party and hands the third party the
     URI to the Intranet content.
   &lt;/ol&gt;
-  &lt;!-- XXXURL use url --&gt;
 
-  &lt;p&gt;No actual confidential file data is leaked in this manner, but the URIs
-   themselves could contain confidential information. For example, the URI
+  &lt;p&gt;No actual confidential file data is leaked in this manner, but the URLs
+   themselves could contain confidential information. For example, the URL
    could be
-   &lt;code&gt;<A HREF="https://www.corp.example.com/upcoming-aquisitions/samples.egf&lt;/code">https://www.corp.example.com/upcoming-aquisitions/samples.egf&lt;/code</A>&gt;,
+   &lt;code&gt;<A HREF="http://www.corp.example.com/upcoming-aquisitions/the-sample-company.egf&lt;/code">http://www.corp.example.com/upcoming-aquisitions/the-sample-company.egf&lt;/code</A>&gt;,
    which might tell the third party that Example Corporation is intending to
-   merge with Samples LLC. Implementors might wish to consider allowing
-   administrators to disable this feature for certain subdomains, content
-   types, or protocols.&lt;/p&gt;
-  &lt;!-- XXXURL use url --&gt;
+   merge with The Sample Company. Implementors might wish to consider
+   allowing administrators to disable this feature for certain subdomains,
+   content types, or protocols.
 
-  &lt;p&gt;&lt;strong&gt;Leaking secure URIs.&lt;/strong&gt; User agents should not send HTTPS
-   URIs to third-party sites registered as content handlers, in the same way
+  &lt;p&gt;&lt;strong&gt;Leaking secure URLs.&lt;/strong&gt; User agents should not send HTTPS
+   URLs to third-party sites registered as content handlers, in the same way
    that user agents do not send &lt;code&gt;Referer&lt;/code&gt; headers from secure
-   sites to third-party sites.&lt;/p&gt;
-  &lt;!-- XXXURL use url --&gt;
+   sites to third-party sites.
 
   &lt;p&gt;&lt;strong&gt;Leaking credentials.&lt;/strong&gt; User agents must never send
-   username or password information in the URIs that are escaped and included
+   username or password information in the URLs that are escaped and included
    sent to the handler sites. User agents may even avoid attempting to pass
-   to Web-based handlers the URIs of resources that are known to require
+   to Web-based handlers the URLs of resources that are known to require
    authentication to access, as such sites would be unable to access the
    resources in question without prompting the user for credentials
    themselves (a practice that would require the user to know whether to
@@ -32172,10 +32168,9 @@
 |                                                            |
 |              ( Trust kittens.example.org )  (( Cancel ))   |
 |____________________________________________________________|&lt;/pre&gt;
-  &lt;!-- XXXURL use url --&gt;
 
   &lt;p&gt;...where &quot;Kittens at work&quot; is the title of the page that invoked the
-   method, &quot;<A HREF="http://kittens.example.org/">http://kittens.example.org/</A>&quot; is the URI of that page, &quot;x-meow&quot; is
+   method, &quot;<A HREF="http://kittens.example.org/">http://kittens.example.org/</A>&quot; is the URL of that page, &quot;x-meow&quot; is
    the string that was passed to the &lt;code
    title=dom-navigator-registerProtocolHandler&gt;&lt;a
    href=&quot;#registerprotocolhandler&quot;&gt;registerProtocolHandler()&lt;/a&gt;&lt;/code&gt;
@@ -32185,12 +32180,10 @@
    argument (&lt;var title=&quot;&quot;&gt;title&lt;/var&gt;).
 
   &lt;p&gt;If the user clicks the Cancel button, then nothing further happens. If
-   the user clicks the &quot;Trust&quot; button, then the handler is remembered.&lt;/p&gt;
-  &lt;!-- XXXURL use url --&gt;
+   the user clicks the &quot;Trust&quot; button, then the handler is remembered.
 
-  &lt;p&gt;When the user then attempts to fetch a URI that uses the &quot;x-meow:&quot;
-   scheme, then it might display a dialog as follows:&lt;/p&gt;
-  &lt;!-- XXXURL use url? --&gt;
+  &lt;p&gt;When the user then attempts to fetch a URL that uses the &quot;x-meow:&quot;
+   scheme, then it might display a dialog as follows:
 
   &lt;pre&gt;||[ Unknown Protocol ]||||||||||||||||||||||||||||||||||||||||
 |                                                            |
@@ -32203,10 +32196,10 @@
 |  (o) Contact the FerretBrowser plugin registry to see if   |
 |      there is an official way to handle this resource.     |
 |                                                            |
-|  ( ) Pass this URI to a local application:                 |
+|  ( ) Pass this URL to a local application:                 |
 |      [ /no application selected/             ] ( Choose )  |
 |                                                            |
-|  ( ) Pass this URI to the &quot;Kittens-at-work displayer&quot;      |
+|  ( ) Pass this URL to the &quot;Kittens-at-work displayer&quot;      |
 |      application at &quot;kittens.example.org&quot;.                 |
 |                                                            |
 |  [ ] Always do this for resources using the &quot;x-meow&quot;       |
@@ -32226,7 +32219,8 @@
   &lt;p&gt;The &lt;code title=dom-navigator-registerContentHandler&gt;&lt;a
    href=&quot;#registercontenthandler&quot;&gt;registerContentHandler()&lt;/a&gt;&lt;/code&gt; method
    would work equivalently, but for unknown MIME types instead of unknown
-   protocols.
+   protocols.&lt;/p&gt;
+  &lt;!-- XXXURL XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX \(URI\|IRI\|URL\) --&gt;
 
   &lt;h3 id=offline&gt;&lt;span class=secno&gt;5.7 &lt;/span&gt;Offline Web applications&lt;/h3&gt;
 

Modified: source
===================================================================
--- source	2008-06-26 23:48:35 UTC (rev 1810)
+++ source	2008-06-27 00:21:35 UTC (rev 1811)
@@ -29609,53 +29609,51 @@
 
    &lt;/dd&gt;
 
-  &lt;!-- XXXURL XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX \(URI\|IRI\|URL\) --&gt;
 
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;url&lt;/var&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;!-- XXXURL use url, algorithms --&gt;
-    &lt;p&gt;The URI of the page that will handle the requests. When the
-    user agent uses this URI, it must replace the first occurrence of
-    the exact literal string &quot;&lt;code&gt;%s&lt;/code&gt;&quot; with an escaped version
-    of the URI of the content in question (as defined below), and then
-    fetch the resulting URI using the GET method (or equivalent for
-    non-HTTP URIs).&lt;/p&gt;
+    &lt;p&gt;The &lt;span&gt;URL&lt;/span&gt; of the page that will handle the
+    requests. When the user agent uses this URL, it must replace the
+    first occurrence of the exact literal string &quot;&lt;code&gt;%s&lt;/code&gt;&quot;
+    with an escaped version of the URL of the content in question (as
+    defined below), then &lt;span title=&quot;resolve a url&quot;&gt;resolve&lt;/span&gt;
+    the resulting URL (using the &lt;span&gt;document base URL&lt;/span&gt; of the
+    &lt;span&gt;script document context&lt;/span&gt; of the script that originally
+    invoked the &lt;code
+    title=&quot;dom-navigator-registerContentHandler&quot;&gt;registerContentHandler()&lt;/code&gt;
+    or &lt;code
+    title=&quot;dom-navigator-registerProtocolHandler&quot;&gt;registerProtocolHandler()&lt;/code&gt;
+    method), and then fetch the resulting URL using the GET method (or
+    equivalent for non-HTTP URLs).&lt;/p&gt;
 
-    &lt;!-- XXXURL use url, algorithms --&gt;
-    &lt;p&gt;To get the escaped version of the URI, first, the domain part
-    of the URI (if any) must be converted to its punycode
-    representation, and then, every character in the URI that is not
-    in the ranges given in the next paragraph must be replaced by its
-    UTF-8 byte representation, each byte being represented by a U+0025
-    (%) character and two digits in the range U+0030 (0) to U+0039 (9)
-    and U+0041 (A) to U+0046 (F) giving the hexadecimal representation
-    of the byte.&lt;/p&gt;
+    &lt;p&gt;To get the escaped version of the URL of the content in
+    question, the user agent must &lt;span title=&quot;resolve a
+    URL&quot;&gt;resolve&lt;/span&gt; the URL, and then every character in the URL
+    that doesn't match the &lt;query&gt; production defined in RFC
+    3986 must be replaced by the percent-encoded form of the
+    character.&lt;/p&gt;
 
-    &lt;p&gt;The ranges of characters that must not be escaped are: U+002D
-    (-), U+002E (.), U+0030 (0) to U+0039 (9), U+0041 (A) to U+005A
-    (Z), U+005F (_), U+0061 (a) to U+007A (z), and U+007E (~).&lt;/p&gt;
-
-    &lt;!-- XXXURL move that to a common algorithms section if any other
-    part of the spec needs it --&gt;
-
     &lt;div class=&quot;example&quot;&gt;
 
-     &lt;p&gt;If the user had visited a site that made the following call:&lt;/p&gt;
+     &lt;p&gt;If the user had visited a site at &lt;code
+     title=&quot;&quot;&gt;<A HREF="http://example.com/&lt;/code">http://example.com/&lt;/code</A>&gt; that made the following
+     call:&lt;/p&gt;
 
-     &lt;pre&gt;navigator.registerContentHandler('application/x-soup', '<A HREF="http://example.com/soup?url=%s">http://example.com/soup?url=%s</A>', 'SoupWeb&trade;')&lt;/pre&gt;
+     &lt;pre&gt;navigator.registerContentHandler('application/x-soup', 'soup?url=%s', 'SoupWeb&trade;')&lt;/pre&gt;
 
-     &lt;p&gt;...and then clicked on a link such as:&lt;/p&gt;
+     &lt;p&gt;...and then, much later, while visiting &lt;code
+     title=&quot;&quot;&gt;<A HREF="http://www.example.net/&lt;/code">http://www.example.net/&lt;/code</A>&gt;, clicked on a link such
+     as:&lt;/p&gt;
 
-     &lt;pre&gt;&lt;a href=&quot;<A HREF="http://www.example.net/chickenk&amp;#xEF;wi.soup">http://www.example.net/chickenk&amp;#xEF;wi.soup</A>&quot;&gt;Download our Chicken Kiwi soup!&lt;/a&gt;&lt;/pre&gt;
+     &lt;pre&gt;&lt;a href=&quot;chickenk&amp;#xEF;wi.soup&quot;&gt;Download our Chicken Kiwi soup!&lt;/a&gt;&lt;/pre&gt;
 
-     &lt;!-- XXXURL use url --&gt;
      &lt;p&gt;...then, assuming this &lt;code&gt;chickenk&amp;#xEF;wi.soup&lt;/code&gt; file
      was served with the MIME type &lt;code&gt;application/x-soup&lt;/code&gt;,
-     the UA might navigate to the following URI:&lt;/p&gt;
+     the UA might navigate to the following URL:&lt;/p&gt;
 
-     &lt;pre&gt;<A HREF="http://example.com/soup?url=http%3A%2F%2Fwww.example.net%2Fchickenk%C3%AFwi.soup&lt;/pre">http://example.com/soup?url=http%3A%2F%2Fwww.example.net%2Fchickenk%C3%AFwi.soup&lt;/pre</A>&gt;
+     &lt;pre&gt;<A HREF="http://example.com/soup?url=http://www.example.net/chickenk%C3%AFwi.soup&lt;/pre">http://example.com/soup?url=http://www.example.net/chickenk%C3%AFwi.soup&lt;/pre</A>&gt;
 
      &lt;p&gt;This site could then fetch the &lt;code&gt;chickenk&amp;#xEF;wi.soup&lt;/code&gt;
      file and do whatever it is that it does with soup (synthesize it
@@ -29676,12 +29674,11 @@
 
   &lt;/dl&gt;
 
-  &lt;!-- XXXURL use url --&gt;
   &lt;p&gt;User agents should raise &lt;span title=&quot;security
   exception&quot;&gt;security exceptions&lt;/span&gt; if the methods are called with
   &lt;var title=&quot;&quot;&gt;protocol&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;mimeType&lt;/var&gt; values
   that the UA deems to be &quot;privileged&quot;. For example, a site attempting
-  to register a handler for &lt;code&gt;http&lt;/code&gt; URIs or
+  to register a handler for &lt;code&gt;http&lt;/code&gt; URLs or
   &lt;code&gt;text/html&lt;/code&gt; content in a Web browser would likely cause
   an exception to be raised.&lt;/p&gt;
 
@@ -29750,9 +29747,8 @@
   that over-long strings do not cause crashes or buffer overruns, and
   so forth.&lt;/p&gt;
 
-  &lt;!-- XXXURL use url --&gt;
-  &lt;p&gt;&lt;strong&gt;Leaking Intranet URIs.&lt;/strong&gt; The mechanism described
-  in this section can result in secret Intranet URIs being leaked, in
+  &lt;p&gt;&lt;strong&gt;Leaking Intranet URLs.&lt;/strong&gt; The mechanism described
+  in this section can result in secret Intranet URLs being leaked, in
   the following manner:&lt;/p&gt;
 
   &lt;ol&gt;
@@ -29768,27 +29764,24 @@
 
   &lt;/ol&gt;
 
-  &lt;!-- XXXURL use url --&gt;
   &lt;p&gt;No actual confidential file data is leaked in this manner, but
-  the URIs themselves could contain confidential information. For
-  example, the URI could be
-  &lt;code&gt;<A HREF="https://www.corp.example.com/upcoming-aquisitions/samples.egf&lt;/code">https://www.corp.example.com/upcoming-aquisitions/samples.egf&lt;/code</A>&gt;,
+  the URLs themselves could contain confidential information. For
+  example, the URL could be
+  &lt;code&gt;<A HREF="http://www.corp.example.com/upcoming-aquisitions/the-sample-company.egf&lt;/code">http://www.corp.example.com/upcoming-aquisitions/the-sample-company.egf&lt;/code</A>&gt;,
   which might tell the third party that Example Corporation is
-  intending to merge with Samples LLC. Implementors might wish to
-  consider allowing administrators to disable this feature for certain
-  subdomains, content types, or protocols.&lt;/p&gt;
+  intending to merge with The Sample Company. Implementors might wish
+  to consider allowing administrators to disable this feature for
+  certain subdomains, content types, or protocols.&lt;/p&gt;
 
-  &lt;!-- XXXURL use url --&gt;
-  &lt;p&gt;&lt;strong&gt;Leaking secure URIs.&lt;/strong&gt; User agents should not send
-  HTTPS URIs to third-party sites registered as content handlers, in
+  &lt;p&gt;&lt;strong&gt;Leaking secure URLs.&lt;/strong&gt; User agents should not send
+  HTTPS URLs to third-party sites registered as content handlers, in
   the same way that user agents do not send &lt;code&gt;Referer&lt;/code&gt;
   headers from secure sites to third-party sites.&lt;/p&gt;
 
-  &lt;!-- XXXURL use url --&gt;
   &lt;p&gt;&lt;strong&gt;Leaking credentials.&lt;/strong&gt; User agents must never send
-  username or password information in the URIs that are escaped and
+  username or password information in the URLs that are escaped and
   included sent to the handler sites. User agents may even avoid
-  attempting to pass to Web-based handlers the URIs of resources
+  attempting to pass to Web-based handlers the URLs of resources
   that are known to require authentication to access, as such sites
   would be unable to access the resources in question without
   prompting the user for credentials themselves (a practice that would
@@ -29826,9 +29819,8 @@
 |              ( Trust kittens.example.org )  (( Cancel ))   |
 |____________________________________________________________|&lt;/pre&gt;
 
-  &lt;!-- XXXURL use url --&gt;
   &lt;p&gt;...where &quot;Kittens at work&quot; is the title of the page that invoked
-  the method, &quot;<A HREF="http://kittens.example.org/">http://kittens.example.org/</A>&quot; is the URI of that page,
+  the method, &quot;<A HREF="http://kittens.example.org/">http://kittens.example.org/</A>&quot; is the URL of that page,
   &quot;x-meow&quot; is the string that was passed to the &lt;code
   title=&quot;dom-navigator-registerProtocolHandler&quot;&gt;registerProtocolHandler()&lt;/code&gt;
   method as its first argument (&lt;var title=&quot;&quot;&gt;protocol&lt;/var&gt;),
@@ -29840,11 +29832,9 @@
   happens. If the user clicks the &quot;Trust&quot; button, then the handler is
   remembered.&lt;/p&gt;
 
-  &lt;!-- XXXURL use url --&gt;
-  &lt;p&gt;When the user then attempts to fetch a URI that uses the
+  &lt;p&gt;When the user then attempts to fetch a URL that uses the
   &quot;x-meow:&quot; scheme, then it might display a dialog as follows:&lt;/p&gt;
 
-  &lt;!-- XXXURL use url? --&gt;
   &lt;pre&gt;||[ Unknown Protocol ]||||||||||||||||||||||||||||||||||||||||
 |                                                            |
 | You have attempted to access:                              |
@@ -29856,10 +29846,10 @@
 |  (o) Contact the FerretBrowser plugin registry to see if   |
 |      there is an official way to handle this resource.     |
 |                                                            |
-|  ( ) Pass this URI to a local application:                 |
+|  ( ) Pass this URL to a local application:                 |
 |      [ /no application selected/             ] ( Choose )  |
 |                                                            |
-|  ( ) Pass this URI to the &quot;Kittens-at-work displayer&quot;      |
+|  ( ) Pass this URL to the &quot;Kittens-at-work displayer&quot;      |
 |      application at &quot;kittens.example.org&quot;.                 |
 |                                                            |
 |  [ ] Always do this for resources using the &quot;x-meow&quot;       |
@@ -29881,6 +29871,7 @@
   method would work equivalently, but for unknown MIME types instead
   of unknown protocols.&lt;/p&gt;
 
+  &lt;!-- XXXURL XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX \(URI\|IRI\|URL\) --&gt;
 
 
 


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008708.html">[html5] r1810 - [] (0) URLification of arguments and attributes in	IDLs
</A></li>
	<LI>Next message: <A HREF="008710.html">[html5] r1812 - [] (0) URLification of offline application cache	and of session history.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8709">[ date ]</a>
              <a href="thread.html#8709">[ thread ]</a>
              <a href="subject.html#8709">[ subject ]</a>
              <a href="author.html#8709">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
