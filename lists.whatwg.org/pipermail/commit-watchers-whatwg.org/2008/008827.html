<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1929 - [c] (0) Support &lt;embed&gt; with no src=''.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1929%20-%20%5Bc%5D%20%280%29%20Support%20%3Cembed%3E%20with%20no%20src%3D%27%27.&In-Reply-To=%3C20080724080856.14D7038DF71%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008826.html">
   <LINK REL="Next"  HREF="008828.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1929 - [c] (0) Support &lt;embed&gt; with no src=''.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1929%20-%20%5Bc%5D%20%280%29%20Support%20%3Cembed%3E%20with%20no%20src%3D%27%27.&In-Reply-To=%3C20080724080856.14D7038DF71%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1929 - [c] (0) Support &lt;embed&gt; with no src=''.">whatwg at whatwg.org
       </A><BR>
    <I>Thu Jul 24 01:08:56 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008826.html">[html5] r1928 - [e] (0) make notes about craziness of &lt;embed&gt;
</A></li>
        <LI>Next message: <A HREF="008828.html">[html5] r1930 - [e] (0) copy/paste error (credit: avk)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8827">[ date ]</a>
              <a href="thread.html#8827">[ thread ]</a>
              <a href="subject.html#8827">[ subject ]</a>
              <a href="author.html#8827">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-07-24 01:08:55 -0700 (Thu, 24 Jul 2008)
New Revision: 1929

Modified:
   index
   source
Log:
[c] (0) Support &lt;embed&gt; with no src=''.

Modified: index
===================================================================
--- index	2008-07-24 06:19:17 UTC (rev 1928)
+++ index	2008-07-24 08:08:55 UTC (rev 1929)
@@ -16499,14 +16499,29 @@
    interactive content.
 
   &lt;p&gt;The &lt;dfn id=src3 title=attr-embed-src&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt; attribute
-   gives the address of the resource being embedded. The attribute must be
-   present and contain a &lt;a href=&quot;#valid&quot;&gt;valid URL&lt;/a&gt;.
+   gives the address of the resource being embedded. The attribute, if
+   present, must contain a &lt;a href=&quot;#valid&quot;&gt;valid URL&lt;/a&gt;.
 
-  &lt;p&gt;If the &lt;code title=attr-embed-src&gt;&lt;a href=&quot;#src3&quot;&gt;src&lt;/a&gt;&lt;/code&gt;
-   attribute is missing, then the &lt;code&gt;&lt;a href=&quot;#embed&quot;&gt;embed&lt;/a&gt;&lt;/code&gt;
-   element must be ignored (it represents nothing).
+  &lt;p&gt;The &lt;dfn id=type4 title=attr-embed-type&gt;&lt;code&gt;type&lt;/code&gt;&lt;/dfn&gt;
+   attribute, if present, gives the MIME type of the plugin to instantiate.
+   The value must be a valid MIME type, optionally with parameters. If both
+   the &lt;code title=attr-embed-type&gt;&lt;a href=&quot;#type4&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute
+   and the &lt;code title=attr-embed-src&gt;&lt;a href=&quot;#src3&quot;&gt;src&lt;/a&gt;&lt;/code&gt;
+   attribute are present, then the &lt;code title=attr-embed-type&gt;&lt;a
+   href=&quot;#type4&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute must specify the same type as the
+   &lt;a href=&quot;#content-type5&quot; title=Content-Type&gt;explicit Content-Type
+   metadata&lt;/a&gt; of the resource given by the &lt;code title=attr-embed-src&gt;&lt;a
+   href=&quot;#src3&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute. &lt;a
+   href=&quot;#refsRFC2046&quot;&gt;[RFC2046]&lt;/a&gt;
 
-  &lt;p id=sandboxPluginEmbed&gt;If the &lt;a href=&quot;#sandboxed0&quot;&gt;sandboxed plugins
+  &lt;p&gt;When the element is created with neither a &lt;code title=attr-embed-src&gt;&lt;a
+   href=&quot;#src3&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute nor a &lt;code title=attr-embed-type&gt;&lt;a
+   href=&quot;#type4&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute, and when attributes are removed
+   such that neither attribute is present on the element anymore, any plugins
+   instantiated for the element must be removed, and the &lt;code&gt;&lt;a
+   href=&quot;#embed&quot;&gt;embed&lt;/a&gt;&lt;/code&gt; element represents nothing.
+
+  &lt;p id=sandboxPluginEmbed&gt;When the &lt;a href=&quot;#sandboxed0&quot;&gt;sandboxed plugins
    browsing context flag&lt;/a&gt; is set on the &lt;a href=&quot;#browsing1&quot;&gt;browsing
    context&lt;/a&gt; for which the &lt;code&gt;&lt;a href=&quot;#embed&quot;&gt;embed&lt;/a&gt;&lt;/code&gt;
    element's document is the &lt;a href=&quot;#active&quot;&gt;active document&lt;/a&gt;, then the
@@ -16527,36 +16542,20 @@
   &lt;p&gt;When the element is created with a &lt;code title=attr-embed-src&gt;&lt;a
    href=&quot;#src3&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute, and whenever the &lt;code
    title=attr-embed-src&gt;&lt;a href=&quot;#src3&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute is
-   subsequently set, if the element is not in a sandboxed browsing context,
-   user agents should fetch the specified resource, find an appropriate &lt;a
-   href=&quot;#plugin&quot;&gt;plugin&lt;/a&gt; it based on the &lt;a href=&quot;#type-of&quot;
+   subsequently set, and whenever the &lt;code title=attr-embed-type&gt;&lt;a
+   href=&quot;#type4&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute is set or removed while the
+   element has a &lt;code title=attr-embed-src&gt;&lt;a href=&quot;#src3&quot;&gt;src&lt;/a&gt;&lt;/code&gt;
+   attribute, if the element is not in a sandboxed browsing context, user
+   agents should fetch the specified resource, find and instantiate an
+   appropriate &lt;a href=&quot;#plugin&quot;&gt;plugin&lt;/a&gt; based on the &lt;a href=&quot;#type-of&quot;
    title=concept-embed-type&gt;content's type&lt;/a&gt;, and hand that &lt;a
-   href=&quot;#plugin&quot;&gt;plugin&lt;/a&gt; the content of the resource. &lt;!-- Note that this
+   href=&quot;#plugin&quot;&gt;plugin&lt;/a&gt; the content of the resource, replacing any
+   previously instantiated plugin for the element. &lt;!-- Note that this
   doesn't happen when the base URL changes. --&gt;
-   If the &lt;a href=&quot;#plugin&quot;&gt;plugin&lt;/a&gt; supports a scriptable interface, the
-   &lt;code&gt;&lt;a href=&quot;#htmlembedelement&quot;&gt;HTMLEmbedElement&lt;/a&gt;&lt;/code&gt; object
-   representing the element should expose that interfaces.
 
   &lt;p&gt;Fetching the resource must &lt;a href=&quot;#delays&quot;&gt;delay the &lt;code
    title=event-load&gt;load&lt;/code&gt; event&lt;/a&gt;.
 
-  &lt;p&gt;Any (namespace-less) attribute may be specified on the &lt;code&gt;&lt;a
-   href=&quot;#embed&quot;&gt;embed&lt;/a&gt;&lt;/code&gt; element, so long as its name is &lt;a
-   href=&quot;#xml-compatible&quot;&gt;XML-compatible&lt;/a&gt;.
-
-  &lt;p&gt;The user agent should pass the names and values of all the attributes of
-   the &lt;code&gt;&lt;a href=&quot;#embed&quot;&gt;embed&lt;/a&gt;&lt;/code&gt; element that have no namespace
-   to the &lt;a href=&quot;#plugin&quot;&gt;plugin&lt;/a&gt; used.
-
-  &lt;p&gt;The &lt;dfn id=type4 title=attr-embed-type&gt;&lt;code&gt;type&lt;/code&gt;&lt;/dfn&gt;
-   attribute, if present, gives the MIME type of the linked resource. The
-   value must be a valid MIME type, optionally with parameters. If the
-   attribute is present, its value must specify the same type as the &lt;a
-   href=&quot;#content-type5&quot; title=Content-Type&gt;explicit Content-Type
-   metadata&lt;/a&gt; of the resource given by the &lt;code title=attr-embed-src&gt;&lt;a
-   href=&quot;#src3&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute. &lt;a
-   href=&quot;#refsRFC2046&quot;&gt;[RFC2046]&lt;/a&gt;
-
   &lt;p&gt;The &lt;dfn id=type-of title=concept-embed-type&gt;type of the content&lt;/dfn&gt;
    being embedded is defined as follows:
 
@@ -16602,11 +16601,37 @@
    error responses (e.g. HTTP 500 Internal Server Error codes can still
    contain plugin data).
 
+  &lt;p&gt;When the element is created with a &lt;code title=attr-embed-type&gt;&lt;a
+   href=&quot;#type4&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute and no &lt;code
+   title=attr-embed-src&gt;&lt;a href=&quot;#src3&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute, and
+   whenever the &lt;code title=attr-embed-type&gt;&lt;a href=&quot;#type4&quot;&gt;type&lt;/a&gt;&lt;/code&gt;
+   attribute is subsequently set, so long as no &lt;code title=attr-embed-src&gt;&lt;a
+   href=&quot;#src3&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute is set, and whenever the &lt;code
+   title=attr-embed-src&gt;&lt;a href=&quot;#src3&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute is removed
+   when the element has a &lt;code title=attr-embed-type&gt;&lt;a
+   href=&quot;#type4&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute, if the element is not in a
+   sandboxed browsing context, user agents should find and instantiate an
+   appropriate &lt;a href=&quot;#plugin&quot;&gt;plugin&lt;/a&gt; based on the value of the &lt;code
+   title=attr-embed-type&gt;&lt;a href=&quot;#type4&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute.
+
+  &lt;p&gt;Any (namespace-less) attribute may be specified on the &lt;code&gt;&lt;a
+   href=&quot;#embed&quot;&gt;embed&lt;/a&gt;&lt;/code&gt; element, so long as its name is &lt;a
+   href=&quot;#xml-compatible&quot;&gt;XML-compatible&lt;/a&gt;.
+
+  &lt;p&gt;The user agent should pass the names and values of all the attributes of
+   the &lt;code&gt;&lt;a href=&quot;#embed&quot;&gt;embed&lt;/a&gt;&lt;/code&gt; element that have no namespace
+   to the &lt;a href=&quot;#plugin&quot;&gt;plugin&lt;/a&gt; used, when it is instantiated.
+
+  &lt;p&gt;If the &lt;a href=&quot;#plugin&quot;&gt;plugin&lt;/a&gt; instantiated for the &lt;code&gt;&lt;a
+   href=&quot;#embed&quot;&gt;embed&lt;/a&gt;&lt;/code&gt; element supports a scriptable interface,
+   the &lt;code&gt;&lt;a href=&quot;#htmlembedelement&quot;&gt;HTMLEmbedElement&lt;/a&gt;&lt;/code&gt; object
+   representing the element should expose that interface while the element is
+   instantiated.
+
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#embed&quot;&gt;embed&lt;/a&gt;&lt;/code&gt; element has no &lt;a
-   href=&quot;#fallback&quot;&gt;fallback content&lt;/a&gt;. If the user agent can't display the
-   specified resource, e.g. because the given type is not supported, then the
-   user agent must use a default plugin for the content. (This default could
-   be as simple as saying &quot;Unsupported Format&quot;, of course.)
+   href=&quot;#fallback&quot;&gt;fallback content&lt;/a&gt;. If the user agent can't find a
+   suitable plugin, then the user agent must use a default plugin. (This
+   default could be as simple as saying &quot;Unsupported Format&quot;.)
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#embed&quot;&gt;embed&lt;/a&gt;&lt;/code&gt; element supports &lt;a
    href=&quot;#dimension0&quot;&gt;dimension attributes&lt;/a&gt;.

Modified: source
===================================================================
--- source	2008-07-24 06:19:17 UTC (rev 1928)
+++ source	2008-07-24 08:08:55 UTC (rev 1929)
@@ -14125,14 +14125,28 @@
   content.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;attr-embed-src&quot;&gt;&lt;code&gt;src&lt;/code&gt;&lt;/dfn&gt; attribute
-  gives the address of the resource being embedded. The attribute must
-  be present and contain a &lt;span&gt;valid URL&lt;/span&gt;.&lt;/p&gt;
+  gives the address of the resource being embedded. The attribute, if
+  present, must contain a &lt;span&gt;valid URL&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;code title=&quot;attr-embed-src&quot;&gt;src&lt;/code&gt; attribute is
-  missing, then the &lt;code&gt;embed&lt;/code&gt; element must be ignored (it
-  represents nothing).&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn title=&quot;attr-embed-type&quot;&gt;&lt;code&gt;type&lt;/code&gt;&lt;/dfn&gt;
+  attribute, if present, gives the MIME type of the plugin to
+  instantiate.  The value must be a valid MIME type, optionally with
+  parameters. If both the &lt;code title=&quot;attr-embed-type&quot;&gt;type&lt;/code&gt;
+  attribute and the &lt;code title=&quot;attr-embed-src&quot;&gt;src&lt;/code&gt; attribute
+  are present, then the &lt;code title=&quot;attr-embed-type&quot;&gt;type&lt;/code&gt;
+  attribute must specify the same type as the &lt;span
+  title=&quot;Content-Type&quot;&gt;explicit Content-Type metadata&lt;/span&gt; of the
+  resource given by the &lt;code title=&quot;attr-embed-src&quot;&gt;src&lt;/code&gt;
+  attribute. &lt;a href=&quot;#refsRFC2046&quot;&gt;[RFC2046]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p id=&quot;sandboxPluginEmbed&quot;&gt;If the &lt;span&gt;sandboxed plugins browsing
+  &lt;p&gt;When the element is created with neither a &lt;code
+  title=&quot;attr-embed-src&quot;&gt;src&lt;/code&gt; attribute nor a &lt;code
+  title=&quot;attr-embed-type&quot;&gt;type&lt;/code&gt; attribute, and when attributes
+  are removed such that neither attribute is present on the element
+  anymore, any plugins instantiated for the element must be removed,
+  and the &lt;code&gt;embed&lt;/code&gt; element represents nothing.&lt;/p&gt;
+
+  &lt;p id=&quot;sandboxPluginEmbed&quot;&gt;When the &lt;span&gt;sandboxed plugins browsing
   context flag&lt;/span&gt; is set on the &lt;span&gt;browsing context&lt;/span&gt; for
   which the &lt;code&gt;embed&lt;/code&gt; element's document is the &lt;span&gt;active
   document&lt;/span&gt;, then the user agent must render the
@@ -14153,36 +14167,21 @@
 
   &lt;p&gt;When the element is created with a &lt;code
   title=&quot;attr-embed-src&quot;&gt;src&lt;/code&gt; attribute, and whenever the &lt;code
-  title=&quot;attr-embed-src&quot;&gt;src&lt;/code&gt; attribute is subsequently set, if
-  the element is not in a sandboxed browsing context, user agents
-  should fetch the specified resource, find an appropriate
-  &lt;span&gt;plugin&lt;/span&gt; it based on the &lt;span
+  title=&quot;attr-embed-src&quot;&gt;src&lt;/code&gt; attribute is subsequently set, and
+  whenever the &lt;code title=&quot;attr-embed-type&quot;&gt;type&lt;/code&gt; attribute is
+  set or removed while the element has a &lt;code
+  title=&quot;attr-embed-src&quot;&gt;src&lt;/code&gt; attribute, if the element is not
+  in a sandboxed browsing context, user agents should fetch the
+  specified resource, find and instantiate an appropriate
+  &lt;span&gt;plugin&lt;/span&gt; based on the &lt;span
   title=&quot;concept-embed-type&quot;&gt;content's type&lt;/span&gt;, and hand that
-  &lt;span&gt;plugin&lt;/span&gt; the content of the resource. &lt;!-- Note that this
-  doesn't happen when the base URL changes. --&gt; If the
-  &lt;span&gt;plugin&lt;/span&gt; supports a scriptable interface, the
-  &lt;code&gt;HTMLEmbedElement&lt;/code&gt; object representing the element should
-  expose that interfaces.&lt;/p&gt;
+  &lt;span&gt;plugin&lt;/span&gt; the content of the resource, replacing any
+  previously instantiated plugin for the element. &lt;!-- Note that this
+  doesn't happen when the base URL changes. --&gt;&lt;/p&gt;
 
   &lt;p&gt;Fetching the resource must &lt;span&gt;delay the &lt;code
   title=&quot;event-load&quot;&gt;load&lt;/code&gt; event&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Any (namespace-less) attribute may be specified on the
-  &lt;code&gt;embed&lt;/code&gt; element, so long as its name is
-  &lt;span&gt;XML-compatible&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The user agent should pass the names and values of all the
-  attributes of the &lt;code&gt;embed&lt;/code&gt; element that have no namespace
-  to the &lt;span&gt;plugin&lt;/span&gt; used.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;attr-embed-type&quot;&gt;&lt;code&gt;type&lt;/code&gt;&lt;/dfn&gt;
-  attribute, if present, gives the MIME type of the linked resource.
-  The value must be a valid MIME type, optionally with parameters. If
-  the attribute is present, its value must specify the same type as
-  the &lt;span title=&quot;Content-Type&quot;&gt;explicit Content-Type metadata&lt;/span&gt;
-  of the resource given by the &lt;code title=&quot;attr-embed-src&quot;&gt;src&lt;/code&gt;
-  attribute. &lt;a href=&quot;#refsRFC2046&quot;&gt;[RFC2046]&lt;/a&gt;&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn title=&quot;concept-embed-type&quot;&gt;type of the content&lt;/dfn&gt;
   being embedded is defined as follows:&lt;/p&gt;
 
@@ -14230,11 +14229,35 @@
   with error responses (e.g. HTTP 500 Internal Server Error codes can
   still contain plugin data).&lt;/p&gt;
 
+  &lt;p&gt;When the element is created with a &lt;code
+  title=&quot;attr-embed-type&quot;&gt;type&lt;/code&gt; attribute and no &lt;code
+  title=&quot;attr-embed-src&quot;&gt;src&lt;/code&gt; attribute, and whenever the &lt;code
+  title=&quot;attr-embed-type&quot;&gt;type&lt;/code&gt; attribute is subsequently set,
+  so long as no &lt;code title=&quot;attr-embed-src&quot;&gt;src&lt;/code&gt; attribute is
+  set, and whenever the &lt;code title=&quot;attr-embed-src&quot;&gt;src&lt;/code&gt;
+  attribute is removed when the element has a &lt;code
+  title=&quot;attr-embed-type&quot;&gt;type&lt;/code&gt; attribute, if the element is not
+  in a sandboxed browsing context, user agents should find and
+  instantiate an appropriate &lt;span&gt;plugin&lt;/span&gt; based on the value of
+  the &lt;code title=&quot;attr-embed-type&quot;&gt;type&lt;/code&gt; attribute.&lt;/p&gt;
+
+  &lt;p&gt;Any (namespace-less) attribute may be specified on the
+  &lt;code&gt;embed&lt;/code&gt; element, so long as its name is
+  &lt;span&gt;XML-compatible&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The user agent should pass the names and values of all the
+  attributes of the &lt;code&gt;embed&lt;/code&gt; element that have no namespace
+  to the &lt;span&gt;plugin&lt;/span&gt; used, when it is instantiated.&lt;/p&gt;
+
+  &lt;p&gt;If the &lt;span&gt;plugin&lt;/span&gt; instantiated for the
+  &lt;code&gt;embed&lt;/code&gt; element supports a scriptable interface, the
+  &lt;code&gt;HTMLEmbedElement&lt;/code&gt; object representing the element should
+  expose that interface while the element is instantiated.&lt;/p&gt;
+
   &lt;p&gt;The &lt;code&gt;embed&lt;/code&gt; element has no &lt;span&gt;fallback
-  content&lt;/span&gt;. If the user agent can't display the specified
-  resource, e.g. because the given type is not supported, then the
-  user agent must use a default plugin for the content. (This default
-  could be as simple as saying &quot;Unsupported Format&quot;, of course.)&lt;/p&gt;
+  content&lt;/span&gt;. If the user agent can't find a suitable plugin, then
+  the user agent must use a default plugin. (This default could be as
+  simple as saying &quot;Unsupported Format&quot;.)&lt;/p&gt;
 
   &lt;p&gt;The &lt;code&gt;embed&lt;/code&gt; element supports &lt;span&gt;dimension
   attributes&lt;/span&gt;.&lt;/p&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008826.html">[html5] r1928 - [e] (0) make notes about craziness of &lt;embed&gt;
</A></li>
	<LI>Next message: <A HREF="008828.html">[html5] r1930 - [e] (0) copy/paste error (credit: avk)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8827">[ date ]</a>
              <a href="thread.html#8827">[ thread ]</a>
              <a href="subject.html#8827">[ subject ]</a>
              <a href="author.html#8827">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
