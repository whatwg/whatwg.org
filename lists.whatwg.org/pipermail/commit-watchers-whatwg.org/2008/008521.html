<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1622 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1622%20-%20/&In-Reply-To=%3C20080515032701.9BD0313A162%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008520.html">
   <LINK REL="Next"  HREF="008522.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1622 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1622%20-%20/&In-Reply-To=%3C20080515032701.9BD0313A162%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1622 - /">whatwg at whatwg.org
       </A><BR>
    <I>Wed May 14 20:27:01 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008520.html">[html5] r1621 - /
</A></li>
        <LI>Next message: <A HREF="008522.html">[html5] r1623 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8521">[ date ]</a>
              <a href="thread.html#8521">[ thread ]</a>
              <a href="subject.html#8521">[ subject ]</a>
              <a href="author.html#8521">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-05-14 20:27:00 -0700 (Wed, 14 May 2008)
New Revision: 1622

Modified:
   index
   source
Log:
[gow] (2) Change the 'begin' event to 'loadstart'; clarify firing of events for .play()

Modified: index
===================================================================
--- index	2008-05-15 01:54:24 UTC (rev 1621)
+++ index	2008-05-15 03:27:00 UTC (rev 1622)
@@ -15753,8 +15753,9 @@
 
    &lt;li&gt;
     &lt;p&gt;The user agent must then set the &lt;a href=&quot;#begun&quot;&gt;begun flag&lt;/a&gt; to
-     true and &lt;a href=&quot;#firing6&quot;&gt;fire a progress event&lt;/a&gt; called
-     &lt;code&gt;begin&lt;/code&gt; at the &lt;a href=&quot;#media7&quot;&gt;media element&lt;/a&gt;.
+     true and &lt;a href=&quot;#firing6&quot;&gt;fire a progress event&lt;/a&gt; called &lt;code
+     title=event-loadstart&gt;&lt;a href=&quot;#loadstart&quot;&gt;loadstart&lt;/a&gt;&lt;/code&gt; at the
+     &lt;a href=&quot;#media7&quot;&gt;media element&lt;/a&gt;.
 
    &lt;li&gt;
     &lt;p&gt;The method must return, but these steps must continue.
@@ -16575,8 +16576,9 @@
    (either by being set by script or by being changed directly by the user
    agent, e.g. in response to user control) the user agent must, once any
    running scripts have finished, &lt;a href=&quot;#firing2&quot;&gt;fire a simple event&lt;/a&gt;
-   called &lt;code title=event-ratechange&gt;ratechange&lt;/code&gt; at the &lt;a
-   href=&quot;#media7&quot;&gt;media element&lt;/a&gt;.
+   called &lt;code title=event-ratechange&gt;&lt;a
+   href=&quot;#ratechange&quot;&gt;ratechange&lt;/a&gt;&lt;/code&gt; at the &lt;a href=&quot;#media7&quot;&gt;media
+   element&lt;/a&gt;.
 
   &lt;p&gt;When the &lt;dfn id=play title=dom-media-play&gt;&lt;code&gt;play()&lt;/code&gt;&lt;/dfn&gt;
    method on a &lt;a href=&quot;#media7&quot;&gt;media element&lt;/a&gt; is invoked, the user agent
@@ -16600,12 +16602,25 @@
      title=dom-media-seek&gt;seek&lt;/a&gt; to the &lt;var&gt;&lt;a href=&quot;#effective&quot;&gt;effective
      start&lt;/a&gt;&lt;/var&gt;.&lt;/p&gt;
 
+    &lt;p class=note&gt;If this involved a seek, the user agent will&lt;!--
+    XXX queued--&gt;
+     &lt;a href=&quot;#firing2&quot;&gt;fire a simple event&lt;/a&gt; called &lt;code
+     title=event-timeupdate&gt;&lt;a href=&quot;#timeupdate&quot;&gt;timeupdate&lt;/a&gt;&lt;/code&gt; at
+     the &lt;a href=&quot;#media7&quot;&gt;media element&lt;/a&gt;.&lt;/p&gt;
+
    &lt;li&gt;
     &lt;p&gt;The &lt;code title=dom-media-playbackRate&gt;&lt;a
      href=&quot;#playbackrate&quot;&gt;playbackRate&lt;/a&gt;&lt;/code&gt; attribute must be set to
      the value of the &lt;code title=dom-media-defaultPlaybackRate&gt;&lt;a
-     href=&quot;#defaultplaybackrate&quot;&gt;defaultPlaybackRate&lt;/a&gt;&lt;/code&gt; attribute.
+     href=&quot;#defaultplaybackrate&quot;&gt;defaultPlaybackRate&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
 
+    &lt;p class=note&gt;If this caused the &lt;code title=dom-media-playbackRate&gt;&lt;a
+     href=&quot;#playbackrate&quot;&gt;playbackRate&lt;/a&gt;&lt;/code&gt; attribute to change value,
+     the user agent will&lt;!-- XXX queued--&gt; &lt;a href=&quot;#firing2&quot;&gt;fire a simple
+     event&lt;/a&gt; called &lt;code title=event-ratechange&gt;&lt;a
+     href=&quot;#ratechange&quot;&gt;ratechange&lt;/a&gt;&lt;/code&gt; at the &lt;a href=&quot;#media7&quot;&gt;media
+     element&lt;/a&gt;.&lt;/p&gt;
+
    &lt;li&gt;
     &lt;p&gt;If the &lt;a href=&quot;#media7&quot;&gt;media element&lt;/a&gt;'s &lt;code
      title=dom-media-paused&gt;&lt;a href=&quot;#paused&quot;&gt;paused&lt;/a&gt;&lt;/code&gt; attribute is
@@ -16617,26 +16632,19 @@
 
    &lt;li&gt;
     &lt;p&gt;The method must then return.
+
+   &lt;li&gt;
+    &lt;p&gt;If the fourth step above changed the value of &lt;code
+     title=dom-media-paused&gt;&lt;a href=&quot;#paused&quot;&gt;paused&lt;/a&gt;&lt;/code&gt;, the user
+     agent must, after any running scripts have finished executing, and after
+     any other events triggered by this algorithm (specifically &lt;code
+     title=event-timeupdate&gt;&lt;a href=&quot;#timeupdate&quot;&gt;timeupdate&lt;/a&gt;&lt;/code&gt; and
+     &lt;code title=event-ratechange&gt;&lt;a
+     href=&quot;#ratechange&quot;&gt;ratechange&lt;/a&gt;&lt;/code&gt;) have fired, &lt;a
+     href=&quot;#firing2&quot;&gt;fire a simple event&lt;/a&gt; called &lt;code
+     title=event-pause&gt;&lt;a href=&quot;#pause1&quot;&gt;play&lt;/a&gt;&lt;/code&gt; at the element.
   &lt;/ol&gt;
 
-  &lt;p class=note&gt;If the second step above involved a seek, the user agent will
-   &lt;a href=&quot;#firing2&quot;&gt;fire a simple event&lt;/a&gt; called &lt;code
-   title=event-timeupdate&gt;&lt;a href=&quot;#timeupdate&quot;&gt;timeupdate&lt;/a&gt;&lt;/code&gt; at the
-   &lt;a href=&quot;#media7&quot;&gt;media element&lt;/a&gt;.
-
-  &lt;p class=note&gt;If the third step above caused the &lt;code
-   title=dom-media-playbackRate&gt;&lt;a
-   href=&quot;#playbackrate&quot;&gt;playbackRate&lt;/a&gt;&lt;/code&gt; attribute to change value,
-   the user agent will &lt;a href=&quot;#firing2&quot;&gt;fire a simple event&lt;/a&gt; called
-   &lt;code title=event-ratechange&gt;ratechange&lt;/code&gt; at the &lt;a
-   href=&quot;#media7&quot;&gt;media element&lt;/a&gt;.
-
-  &lt;p class=note&gt;If the fourth step above changed the value of &lt;code
-   title=dom-media-paused&gt;&lt;a href=&quot;#paused&quot;&gt;paused&lt;/a&gt;&lt;/code&gt;, the user agent
-   must &lt;a href=&quot;#firing2&quot;&gt;fire a simple event&lt;/a&gt; called &lt;code
-   title=event-play&gt;&lt;a href=&quot;#play0&quot;&gt;play&lt;/a&gt;&lt;/code&gt; at the &lt;a
-   href=&quot;#media7&quot;&gt;media element&lt;/a&gt;.
-
   &lt;p&gt;When the &lt;dfn id=pause0 title=dom-media-pause&gt;&lt;code&gt;pause()&lt;/code&gt;&lt;/dfn&gt;
    method is invoked, the user agent must run the following steps:
 
@@ -17089,7 +17097,8 @@
 
    &lt;tbody&gt;
     &lt;tr&gt;
-     &lt;td&gt;&lt;dfn id=begin title=event-begin&gt;&lt;code&gt;begin&lt;/code&gt;&lt;/dfn&gt;
+     &lt;td&gt;&lt;dfn id=loadstart title=event-loadstart&gt;&lt;code&gt;loadstart&lt;/code&gt;&lt;/dfn&gt;
+      
 
      &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt; &lt;a href=&quot;#refsPROGRESS&quot;&gt;[PROGRESS]&lt;/a&gt;
 
@@ -17356,7 +17365,7 @@
 
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn id=ratechange
-      title=event-ratehange&gt;&lt;code&gt;ratechange&lt;/code&gt;&lt;/dfn&gt;
+      title=event-ratechange&gt;&lt;code&gt;ratechange&lt;/code&gt;&lt;/dfn&gt;
 
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
 

Modified: source
===================================================================
--- source	2008-05-15 01:54:24 UTC (rev 1621)
+++ source	2008-05-15 03:27:00 UTC (rev 1622)
@@ -13691,8 +13691,9 @@
    returning the new value.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The user agent must then set the &lt;span&gt;begun flag&lt;/span&gt; to
-   true and &lt;span&gt;fire a progress event&lt;/span&gt; called
-   &lt;code&gt;begin&lt;/code&gt; at the &lt;span&gt;media element&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+   true and &lt;span&gt;fire a progress event&lt;/span&gt; called &lt;code
+   title=&quot;event-loadstart&quot;&gt;loadstart&lt;/code&gt; at the &lt;span&gt;media
+   element&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The method must return, but these steps must
    continue.&lt;/p&gt;&lt;/li&gt;
@@ -14511,17 +14512,37 @@
    exception must be reraised by the &lt;code
    title=&quot;dom-media-play&quot;&gt;play()&lt;/code&gt; method.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;span title=&quot;ended playback&quot;&gt;playback has
-   ended&lt;/span&gt;, then the user agent must set &lt;code
-   title=&quot;dom-media-currentLoop&quot;&gt;currentLoop&lt;/code&gt; to zero and &lt;span
-   title=&quot;dom-media-seek&quot;&gt;seek&lt;/span&gt; to the &lt;var&gt;effective
-   start&lt;/var&gt;.&lt;/p&gt;
+   &lt;li&gt;
 
-   &lt;li&gt;&lt;p&gt;The &lt;code title=&quot;dom-media-playbackRate&quot;&gt;playbackRate&lt;/code&gt;
-   attribute must be set to the value of the &lt;code
-   title=&quot;dom-media-defaultPlaybackRate&quot;&gt;defaultPlaybackRate&lt;/code&gt;
-   attribute.&lt;/p&gt;&lt;/li&gt;
+    &lt;p&gt;If the &lt;span title=&quot;ended playback&quot;&gt;playback has ended&lt;/span&gt;,
+    then the user agent must set &lt;code
+    title=&quot;dom-media-currentLoop&quot;&gt;currentLoop&lt;/code&gt; to zero and &lt;span
+    title=&quot;dom-media-seek&quot;&gt;seek&lt;/span&gt; to the &lt;var&gt;effective
+    start&lt;/var&gt;.&lt;/p&gt;
 
+    &lt;p class=&quot;note&quot;&gt;If this involved a seek, the user agent will&lt;!--
+    XXX queued--&gt; &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
+    title=&quot;event-timeupdate&quot;&gt;timeupdate&lt;/code&gt; at the &lt;span&gt;media
+    element&lt;/span&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;The &lt;code title=&quot;dom-media-playbackRate&quot;&gt;playbackRate&lt;/code&gt;
+    attribute must be set to the value of the &lt;code
+    title=&quot;dom-media-defaultPlaybackRate&quot;&gt;defaultPlaybackRate&lt;/code&gt;
+    attribute.&lt;/p&gt;
+
+    &lt;p class=&quot;note&quot;&gt;If this caused the &lt;code
+    title=&quot;dom-media-playbackRate&quot;&gt;playbackRate&lt;/code&gt; attribute to
+    change value, the user agent will&lt;!-- XXX queued--&gt; &lt;span&gt;fire a
+    simple event&lt;/span&gt; called &lt;code
+    title=&quot;event-ratechange&quot;&gt;ratechange&lt;/code&gt; at the &lt;span&gt;media
+    element&lt;/span&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;If the &lt;span&gt;media element&lt;/span&gt;'s &lt;code
    title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt; attribute is true, it must
    be set to false.&lt;/p&gt;&lt;/li&gt;
@@ -14531,27 +14552,18 @@
 
    &lt;li&gt;&lt;p&gt;The method must then return.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;If the fourth step above changed the value of &lt;code
+   title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt;, the user agent must, after
+   any running scripts have finished executing, and after any other
+   events triggered by this algorithm (specifically &lt;code
+   title=&quot;event-timeupdate&quot;&gt;timeupdate&lt;/code&gt; and &lt;code
+   title=&quot;event-ratechange&quot;&gt;ratechange&lt;/code&gt;) have fired, &lt;span&gt;fire
+   a simple event&lt;/span&gt; called &lt;code title=&quot;event-pause&quot;&gt;play&lt;/code&gt;
+   at the element.&lt;/p&gt;&lt;/li&gt;
+
   &lt;/ol&gt;
 
-  &lt;p class=&quot;note&quot;&gt;If the second step above involved a seek, the user
-  agent will &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
-  title=&quot;event-timeupdate&quot;&gt;timeupdate&lt;/code&gt; at the &lt;span&gt;media
-  element&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;If the third step above caused the &lt;code
-  title=&quot;dom-media-playbackRate&quot;&gt;playbackRate&lt;/code&gt; attribute to
-  change value, the user agent will &lt;span&gt;fire a simple event&lt;/span&gt;
-  called &lt;code title=&quot;event-ratechange&quot;&gt;ratechange&lt;/code&gt; at the
-  &lt;span&gt;media element&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;If the fourth step above changed the value of &lt;code
-  title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt;, the user agent must
-  &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
-  title=&quot;event-play&quot;&gt;play&lt;/code&gt; at the &lt;span&gt;media
-  element&lt;/span&gt;.&lt;/p&gt;
-
-
-
   &lt;p&gt;When the &lt;dfn title=&quot;dom-media-pause&quot;&gt;&lt;code&gt;pause()&lt;/code&gt;&lt;/dfn&gt;
   method is invoked, the user agent must run the following steps:&lt;/p&gt;
 
@@ -14989,7 +15001,7 @@
 
    &lt;tbody&gt;
     &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;event-begin&quot;&gt;&lt;code&gt;begin&lt;/code&gt;&lt;/dfn&gt;
+     &lt;td&gt;&lt;dfn title=&quot;event-loadstart&quot;&gt;&lt;code&gt;loadstart&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt; &lt;a href=&quot;#refsPROGRESS&quot;&gt;[PROGRESS]&lt;/a&gt;
      &lt;td&gt;The user agent begins fetching the &lt;span&gt;media data&lt;/span&gt;, synchronously during the &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt; method call.
      &lt;td&gt;&lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; equals &lt;code title=&quot;dom-media-LOADING&quot;&gt;LOADING&lt;/code&gt;
@@ -15081,7 +15093,7 @@
      &lt;td&gt;The user agent estimates that if playback were to be started now, the &lt;span&gt;media resource&lt;/span&gt; could be rendered at the current playback rate all the way to its end without having to stop for further buffering.
      &lt;td&gt;The &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is newly equal to &lt;code title=&quot;dom-media-CAN_PLAY_THROUGH&quot;&gt;CAN_PLAY_THROUGH&lt;/code&gt;.
     &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;event-ratehange&quot;&gt;&lt;code&gt;ratechange&lt;/code&gt;&lt;/dfn&gt;
+     &lt;td&gt;&lt;dfn title=&quot;event-ratechange&quot;&gt;&lt;code&gt;ratechange&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;Either the &lt;code title=&quot;dom-media-defaultPlaybackRate&quot;&gt;defaultPlaybackRate&lt;/code&gt; or the &lt;code title=&quot;dom-media-playbackRate&quot;&gt;playbackRate&lt;/code&gt; attribute has just been updated.
      &lt;td&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008520.html">[html5] r1621 - /
</A></li>
	<LI>Next message: <A HREF="008522.html">[html5] r1623 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8521">[ date ]</a>
              <a href="thread.html#8521">[ thread ]</a>
              <a href="subject.html#8521">[ subject ]</a>
              <a href="author.html#8521">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
