<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1845 - [e] (0) Be clearer about what should be echoed as	part of the handshake.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1845%20-%20%5Be%5D%20%280%29%20Be%20clearer%20about%20what%20should%20be%20echoed%20as%0A%09part%20of%20the%20handshake.&In-Reply-To=%3C20080703091324.6842738E626%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008742.html">
   <LINK REL="Next"  HREF="008744.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1845 - [e] (0) Be clearer about what should be echoed as	part of the handshake.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1845%20-%20%5Be%5D%20%280%29%20Be%20clearer%20about%20what%20should%20be%20echoed%20as%0A%09part%20of%20the%20handshake.&In-Reply-To=%3C20080703091324.6842738E626%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1845 - [e] (0) Be clearer about what should be echoed as	part of the handshake.">whatwg at whatwg.org
       </A><BR>
    <I>Thu Jul  3 02:13:24 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008742.html">[html5] r1844 - [] (0) Oops, got my maths wrong.
</A></li>
        <LI>Next message: <A HREF="008744.html">[html5] r1846 - [] (0) Make the length encoding big-endian to be	compatible with Perl. (credit: pt)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8743">[ date ]</a>
              <a href="thread.html#8743">[ thread ]</a>
              <a href="subject.html#8743">[ subject ]</a>
              <a href="author.html#8743">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-07-03 02:13:23 -0700 (Thu, 03 Jul 2008)
New Revision: 1845

Modified:
   index
   source
Log:
[e] (0) Be clearer about what should be echoed as part of the handshake.

Modified: index
===================================================================
--- index	2008-07-03 09:09:46 UTC (rev 1844)
+++ index	2008-07-03 09:13:23 UTC (rev 1845)
@@ -42004,8 +42004,9 @@
   &lt;p&gt;The first field consists of three tokens separated by space characters
    (byte 0x20). The middle token is the path being opened. If the server
    supports multiple paths, then the server should echo the value of this
-   field in the initial handshake, on the &lt;code
-   title=&quot;&quot;&gt;WebSocket-Location&lt;/code&gt; line.
+   field in the initial handshake, as part of the &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt;
+   given on the &lt;code title=&quot;&quot;&gt;WebSocket-Location&lt;/code&gt; line (after the
+   appropriate scheme and host).
 
   &lt;p&gt;The remaining fields consist of name-value pairs, with the name part
    separated from the value part by a colon and a space (bytes 0x3a 0x20). Of
@@ -42020,6 +42021,11 @@
      hosting environments, where one server might serve multiple hosts, and
      might therefore want to return different data.&lt;/p&gt;
 
+    &lt;p&gt;The right host has to be output as part of the &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt;
+     given on the &lt;code title=&quot;&quot;&gt;WebSocket-Location&lt;/code&gt; line of the
+     handshake described above, to verify that the server knows that it is
+     really representing that host.&lt;/p&gt;
+
    &lt;dt&gt;Origin (bytes 4f 72 69 67 69 6e)
 
    &lt;dd&gt;

Modified: source
===================================================================
--- source	2008-07-03 09:09:46 UTC (rev 1844)
+++ source	2008-07-03 09:13:23 UTC (rev 1845)
@@ -39658,8 +39658,10 @@
   &lt;p&gt;The first field consists of three tokens separated by space
   characters (byte 0x20). The middle token is the path being
   opened. If the server supports multiple paths, then the server
-  should echo the value of this field in the initial handshake, on the
-  &lt;code title=&quot;&quot;&gt;WebSocket-Location&lt;/code&gt; line.&lt;/p&gt;
+  should echo the value of this field in the initial handshake, as
+  part of the &lt;span&gt;URL&lt;/span&gt; given on the &lt;code
+  title=&quot;&quot;&gt;WebSocket-Location&lt;/code&gt; line (after the appropriate
+  scheme and host).&lt;/p&gt;
 
   &lt;p&gt;The remaining fields consist of name-value pairs, with the name
   part separated from the value part by a colon and a space (bytes
@@ -39677,6 +39679,11 @@
     multiple hosts, and might therefore want to return different
     data.&lt;/p&gt;
 
+    &lt;p&gt;The right host has to be output as part of the &lt;span&gt;URL&lt;/span&gt;
+    given on the &lt;code title=&quot;&quot;&gt;WebSocket-Location&lt;/code&gt; line of the
+    handshake described above, to verify that the server knows that it
+    is really representing that host.&lt;/p&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;Origin (bytes 4f 72 69 67 69 6e)&lt;/dt&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008742.html">[html5] r1844 - [] (0) Oops, got my maths wrong.
</A></li>
	<LI>Next message: <A HREF="008744.html">[html5] r1846 - [] (0) Make the length encoding big-endian to be	compatible with Perl. (credit: pt)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8743">[ date ]</a>
              <a href="thread.html#8743">[ thread ]</a>
              <a href="subject.html#8743">[ subject ]</a>
              <a href="author.html#8743">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
