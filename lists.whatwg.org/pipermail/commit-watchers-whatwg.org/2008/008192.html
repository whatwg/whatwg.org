<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1291 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1291%20-%20/&In-Reply-To=%3C20080229205604.66D6638E050%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008190.html">
   <LINK REL="Next"  HREF="008194.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1291 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1291%20-%20/&In-Reply-To=%3C20080229205604.66D6638E050%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1291 - /">whatwg at whatwg.org
       </A><BR>
    <I>Fri Feb 29 12:56:04 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008190.html">[html5] r1290 - /
</A></li>
        <LI>Next message: <A HREF="008194.html">[html5] r1292 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8192">[ date ]</a>
              <a href="thread.html#8192">[ thread ]</a>
              <a href="subject.html#8192">[ subject ]</a>
              <a href="author.html#8192">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-02-29 12:56:03 -0800 (Fri, 29 Feb 2008)
New Revision: 1291

Modified:
   index
   source
Log:
[e] (0) make it clear you can't have more than one BOM

Modified: index
===================================================================
--- index	2008-02-29 20:40:47 UTC (rev 1290)
+++ index	2008-02-29 20:56:03 UTC (rev 1291)
@@ -38484,8 +38484,12 @@
 
   &lt;p&gt;Given an encoding, the bytes in the input stream must be converted to
    Unicode characters for the tokeniser, as described by the rules for that
-   encoding, except that leading U+FEFF BYTE ORDER MARK characters must not
-   be stripped by the encoding layer.
+   encoding, except that the leading U+FEFF BYTE ORDER MARK character, if
+   any, must not be stripped by the encoding layer (it is stripped by the
+   rule below).&lt;/p&gt;
+  &lt;!-- this is to
+  prevent two leading BOMs from being both stripped, once by the
+  decoder, and once by the parser --&gt;
 
   &lt;p&gt;Bytes or sequences of bytes in the original byte stream that could not
    be converted to Unicode characters must be converted to U+FFFD REPLACEMENT
@@ -46301,13 +46305,13 @@
    Hickson, Antti Koivisto, Arphen Lin, Asbj&oslash;rn Ulsberg, Ben Godfrey,
    Ben Meadowcroft, Benjamin Hawkes-Lewis, Bert Bos, Billy Wong, Bjoern
    Hoehrmann, Boris Zbarsky, Brad Fults, Brad Neuberg, Brady Eidson, Brendan
-   Eich, Brett Wilson, Brian Campbell, Cameron McCormack, Carlos
+   Eich, Brett Wilson, Brian Campbell, Brian Smith, Cameron McCormack, Carlos
    Perell&oacute; Mar&iacute;n, Chao Cai, &amp;#xc724;&amp;#xc11d;&amp;#xcc2c; (Channy
    Yun), Charl van Niekerk, Charles Iliya Krempeaux, Charles McCathieNevile,
    Christian Biesinger, Christian Johansen, Chriswa, Collin Jackson, Daniel
    Brumbaugh Keeney, Daniel Glazman, Daniel Peng, Daniel Sp&aring;ng, Darin
-   Alder, Darin Fisher, Dave Singer, Dave Townsend&lt;!-- Mossop on moz
-  irc --&gt;,
+   Alder, Darin Fisher, Dave Singer, Dave Townsend&lt;!-- Mossop on
+  moz irc --&gt;,
    David Baron, David Flanagan, David H&aring;s&auml;ther, David Hyatt, Derek
    Featherstone, DeWitt Clinton, Dimitri Glazkov, dolphinling, Doron
    Rosenberg, Doug Kramer, Eira Monstad, Elliotte Harold, Erik Arvidsson,

Modified: source
===================================================================
--- source	2008-02-29 20:40:47 UTC (rev 1290)
+++ source	2008-02-29 20:56:03 UTC (rev 1291)
@@ -36038,8 +36038,11 @@
 
   &lt;p&gt;Given an encoding, the bytes in the input stream must be
   converted to Unicode characters for the tokeniser, as described by
-  the rules for that encoding, except that leading U+FEFF BYTE ORDER
-  MARK characters must not be stripped by the encoding layer.&lt;/p&gt;
+  the rules for that encoding, except that the leading U+FEFF BYTE
+  ORDER MARK character, if any, must not be stripped by the encoding
+  layer (it is stripped by the rule below).&lt;/p&gt; &lt;!-- this is to
+  prevent two leading BOMs from being both stripped, once by the
+  decoder, and once by the parser --&gt;
 
   &lt;p&gt;Bytes or sequences of bytes in the original byte stream that
   could not be converted to Unicode characters must be converted to
@@ -42254,14 +42257,14 @@
   Anthony Hickson, Antti Koivisto, Arphen Lin, Asbj&oslash;rn Ulsberg,
   Ben Godfrey, Ben Meadowcroft, Benjamin Hawkes-Lewis, Bert Bos, Billy
   Wong, Bjoern Hoehrmann, Boris Zbarsky, Brad Fults, Brad Neuberg,
-  Brady Eidson, Brendan Eich, Brett Wilson, Brian Campbell, Cameron
-  McCormack, Carlos Perell&oacute; Mar&iacute;n, Chao Cai,
-  &amp;#xc724;&amp;#xc11d;&amp;#xcc2c; (Channy Yun), Charl van Niekerk, Charles
-  Iliya Krempeaux, Charles McCathieNevile, Christian Biesinger,
-  Christian Johansen, Chriswa, Collin Jackson, Daniel Brumbaugh
-  Keeney, Daniel Glazman, Daniel Peng, Daniel Sp&aring;ng, Darin
-  Alder, Darin Fisher, Dave Singer, Dave Townsend&lt;!-- Mossop on moz
-  irc --&gt;, David Baron, David Flanagan, David H&aring;s&auml;ther,
+  Brady Eidson, Brendan Eich, Brett Wilson, Brian Campbell, Brian
+  Smith, Cameron McCormack, Carlos Perell&oacute; Mar&iacute;n, Chao
+  Cai, &amp;#xc724;&amp;#xc11d;&amp;#xcc2c; (Channy Yun), Charl van Niekerk,
+  Charles Iliya Krempeaux, Charles McCathieNevile, Christian
+  Biesinger, Christian Johansen, Chriswa, Collin Jackson, Daniel
+  Brumbaugh Keeney, Daniel Glazman, Daniel Peng, Daniel Sp&aring;ng,
+  Darin Alder, Darin Fisher, Dave Singer, Dave Townsend&lt;!-- Mossop on
+  moz irc --&gt;, David Baron, David Flanagan, David H&aring;s&auml;ther,
   David Hyatt, Derek Featherstone, DeWitt Clinton, Dimitri Glazkov,
   dolphinling, Doron Rosenberg, Doug Kramer, Eira Monstad, Elliotte
   Harold, Erik Arvidsson, Evan Martin, fantasai, Franck 'Shift'


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008190.html">[html5] r1290 - /
</A></li>
	<LI>Next message: <A HREF="008194.html">[html5] r1292 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8192">[ date ]</a>
              <a href="thread.html#8192">[ thread ]</a>
              <a href="subject.html#8192">[ subject ]</a>
              <a href="author.html#8192">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
