<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1190 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1190%20-%20/&In-Reply-To=%3C20080201053713.E7CB538EF8F%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008097.html">
   <LINK REL="Next"  HREF="008099.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1190 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1190%20-%20/&In-Reply-To=%3C20080201053713.E7CB538EF8F%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1190 - /">whatwg at whatwg.org
       </A><BR>
    <I>Thu Jan 31 21:37:13 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008097.html">[html5] r1189 - /
</A></li>
        <LI>Next message: <A HREF="008099.html">[html5] r1191 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8098">[ date ]</a>
              <a href="thread.html#8098">[ thread ]</a>
              <a href="subject.html#8098">[ subject ]</a>
              <a href="author.html#8098">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-01-31 21:37:11 -0800 (Thu, 31 Jan 2008)
New Revision: 1190

Modified:
   index
   source
Log:
[gow] (2) Remove any exceptions that would be raised by negative width or height values for any rectangles in the canvas API. (also, some minor editorial changes.)

Modified: index
===================================================================
--- index	2008-02-01 05:13:15 UTC (rev 1189)
+++ index	2008-02-01 05:37:11 UTC (rev 1190)
@@ -16386,7 +16386,7 @@
    the horizontal direction and the &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; argument represents
    the scale factor in the vertical direction. The factors are multiples. If
    either argument is Infinity the transformation matrix must be marked as
-   infinite instead of the method throwing an exception.
+   infinite.
 
   &lt;p&gt;The &lt;dfn id=rotate title=dom-context-2d-rotate&gt;&lt;code&gt;rotate(&lt;var
    title=&quot;&quot;&gt;angle&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must add the rotation
@@ -16402,8 +16402,7 @@
    the horizontal direction and the &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; argument represents
    the translation distance in the vertical direction. The arguments are in
    coordinate space units. If either argument is Infinity the transformation
-   matrix must be marked as infinite instead of the method throwing an
-   exception.
+   matrix must be marked as infinite.
 
   &lt;p&gt;The &lt;dfn id=transform
    title=dom-context-2d-transform&gt;&lt;code&gt;transform(&lt;var title=&quot;&quot;&gt;m11&lt;/var&gt;,
@@ -16436,7 +16435,7 @@
   &lt;/table&gt;
 
   &lt;p&gt;If any of the arguments are Infinity the transformation matrix must be
-   marked as infinite instead of the method throwing an exception.
+   marked as infinite.
 
   &lt;p&gt;The &lt;dfn id=settransform
    title=dom-context-2d-setTransform&gt;&lt;code&gt;setTransform(&lt;var
@@ -16448,7 +16447,7 @@
    title=&quot;&quot;&gt;m12&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;m21&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;m22&lt;/var&gt;, &lt;var
    title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;)&lt;/code&gt; method with the same
    arguments. If any of the arguments are Infinity the transformation matrix
-   must be marked as infinite instead of the method throwing an exception.
+   must be marked as infinite.
 
   &lt;h6 id=compositing&gt;&lt;span class=secno&gt;3.14.11.1.3. &lt;/span&gt;Compositing&lt;/h6&gt;
 
@@ -17117,9 +17116,6 @@
    title=dom-context-2d-globalCompositeOperation&gt;global composition
    operators&lt;/a&gt;.
 
-  &lt;p&gt;Negative values for width and height must cause the implementation to
-   raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exception.
-
   &lt;p&gt;The &lt;dfn id=clearrect
    title=dom-context-2d-clearRect&gt;&lt;code&gt;clearRect(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var
    title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;w&lt;/var&gt;, &lt;var
@@ -17330,10 +17326,6 @@
    with the point (&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;) as the only
    point in the subpath.
 
-  &lt;p&gt;Negative values for &lt;var title=&quot;&quot;&gt;w&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;h&lt;/var&gt; must
-   cause the implementation to raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt;
-   exception.
-
   &lt;p&gt;The &lt;dfn id=fill title=dom-context-2d-fill&gt;&lt;code&gt;fill()&lt;/code&gt;&lt;/dfn&gt;
    method must fill all the subpaths of the current path, using &lt;code
    title=dom-context-2d-fillStyle&gt;&lt;a href=&quot;#fillstyle&quot;&gt;fillStyle&lt;/a&gt;&lt;/code&gt;,
@@ -17449,23 +17441,31 @@
   --&gt;
   &lt;!-- createPattern() has an equivalent paragraph --&gt;
 
-  &lt;p&gt;If the rectangle given by the &lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var
-   title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;
-   arguments is not entirely within the source image, or if one of the &lt;var
-   title=&quot;&quot;&gt;sw&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments is negative or zero,
-   or if one of the &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;
-   arguments is negative, the implementation must raise an
-   &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exception.
+  &lt;p&gt;The source rectangle is the rectangle whose corners are the four points
+   (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;), (&lt;span&gt;&lt;var
+   title=&quot;&quot;&gt;sx&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;&lt;/span&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;),
+   (&lt;span&gt;&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;&lt;/span&gt;, &lt;span&gt;&lt;var
+   title=&quot;&quot;&gt;sy&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;&lt;/span&gt;), (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;,
+   &lt;span&gt;&lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;&lt;/span&gt;).
 
+  &lt;p&gt;If the source rectangle is not entirely within the source image, or if
+   one of the &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments is
+   zero, the implementation must raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt;
+   exception.
+
+  &lt;p&gt;The destination rectangle is the rectangle whose corners are the four
+   points (&lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;), (&lt;span&gt;&lt;var
+   title=&quot;&quot;&gt;dx&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;dw&lt;/var&gt;&lt;/span&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;),
+   (&lt;span&gt;&lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;dw&lt;/var&gt;&lt;/span&gt;, &lt;span&gt;&lt;var
+   title=&quot;&quot;&gt;dy&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;&lt;/span&gt;), (&lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;,
+   &lt;span&gt;&lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;&lt;/span&gt;).
+
   &lt;p&gt;When &lt;code title=dom-context-2d-drawImage&gt;&lt;a
    href=&quot;#drawimage&quot;&gt;drawImage()&lt;/a&gt;&lt;/code&gt; is invoked, the region of the
-   image specified by the source rectangle (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var
-   title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;) must be
-   painted on the region of the canvas specified by the destination rectangle
-   (&lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt;,
-   &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;), after applying the &lt;a href=&quot;#transformations0&quot;
-   title=dom-context-2d-transformation&gt;current transformation matrix&lt;/a&gt; to
-   the destination rectangle.
+   image specified by the source rectangle must be painted on the region of
+   the canvas specified by the destination rectangle, after applying the &lt;a
+   href=&quot;#transformations0&quot; title=dom-context-2d-transformation&gt;current
+   transformation matrix&lt;/a&gt; to the points of the destination rectangle.
 
   &lt;p&gt;&lt;img alt=&quot;&quot; src=&quot;images/drawImage.png&quot;&gt;&lt;/p&gt;
   &lt;!-- no alt=&quot;&quot; text
@@ -17503,12 +17503,15 @@
    title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, &lt;var
    title=&quot;&quot;&gt;sh&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return an &lt;code&gt;&lt;a
    href=&quot;#imagedata&quot;&gt;ImageData&lt;/a&gt;&lt;/code&gt; object representing the underlying
-   pixel data for the area of the canvas denoted by the rectangle which has
-   its top left corner at the (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var
-   title=&quot;&quot;&gt;sy&lt;/var&gt;) coordinate, and that has width &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;
-   and height &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;. Pixels outside the canvas must be
-   returned as transparent black. Pixels must be returned as
-   non-premultiplied alpha values.
+   pixel data for the area of the canvas denoted by the rectangle whose
+   corners are the four points (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var
+   title=&quot;&quot;&gt;sy&lt;/var&gt;), (&lt;span&gt;&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;+&lt;var
+   title=&quot;&quot;&gt;sw&lt;/var&gt;&lt;/span&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;), (&lt;span&gt;&lt;var
+   title=&quot;&quot;&gt;sx&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;&lt;/span&gt;, &lt;span&gt;&lt;var
+   title=&quot;&quot;&gt;sy&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;&lt;/span&gt;), (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;,
+   &lt;span&gt;&lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;&lt;/span&gt;). Pixels
+   outside the canvas must be returned as transparent black. Pixels must be
+   returned as non-premultiplied alpha values.
 
   &lt;p&gt;&lt;code&gt;&lt;a href=&quot;#imagedata&quot;&gt;ImageData&lt;/a&gt;&lt;/code&gt; objects must be
    initialised so that their &lt;dfn id=width2
@@ -17543,15 +17546,13 @@
   &lt;p class=note&gt;The width and height (&lt;var title=&quot;&quot;&gt;w&lt;/var&gt; and &lt;var
    title=&quot;&quot;&gt;h&lt;/var&gt;) might be different from the &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt; and
    &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments to the function, e.g. if the canvas is
-   backed by a high-resolution bitmap.
+   backed by a high-resolution bitmap, or if the &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt; and
+   &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments are negative.
 
   &lt;p&gt;If the &lt;code title=dom-context-2d-getImageData&gt;&lt;a
-   href=&quot;#getimagedata&quot;&gt;getImageData(&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var
-   title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, &lt;var
-   title=&quot;&quot;&gt;sh&lt;/var&gt;)&lt;/a&gt;&lt;/code&gt; method is called with either the &lt;var
-   title=&quot;&quot;&gt;sw&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments set to zero or
-   negative values, the method must raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt;
-   exception.
+   href=&quot;#getimagedata&quot;&gt;getImageData()&lt;/a&gt;&lt;/code&gt; method is called with
+   either the &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments set
+   to zero, the method must raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exception.
 
   &lt;p&gt;The &lt;dfn id=putimagedata
    title=dom-context-2d-putImageData&gt;&lt;code&gt;putImageData(&lt;var

Modified: source
===================================================================
--- source	2008-02-01 05:13:15 UTC (rev 1189)
+++ source	2008-02-01 05:37:11 UTC (rev 1190)
@@ -13923,8 +13923,7 @@
   the scale factor in the horizontal direction and the &lt;var
   title=&quot;&quot;&gt;y&lt;/var&gt; argument represents the scale factor in the
   vertical direction. The factors are multiples. If either argument is
-  Infinity the transformation matrix must be marked as infinite
-  instead of the method throwing an exception.&lt;/p&gt;
+  Infinity the transformation matrix must be marked as infinite.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;dom-context-2d-rotate&quot;&gt;&lt;code&gt;rotate(&lt;var
   title=&quot;&quot;&gt;angle&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must add the rotation
@@ -13940,7 +13939,7 @@
   title=&quot;&quot;&gt;y&lt;/var&gt; argument represents the translation distance in the
   vertical direction. The arguments are in coordinate space units. If
   either argument is Infinity the transformation matrix must be marked
-  as infinite instead of the method throwing an exception.&lt;/p&gt;
+  as infinite.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;dom-context-2d-transform&quot;&gt;&lt;code&gt;transform(&lt;var
   title=&quot;&quot;&gt;m11&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;m12&lt;/var&gt;, &lt;var
@@ -13967,8 +13966,7 @@
   &lt;/table&gt;
 
   &lt;p&gt;If any of the arguments are Infinity the transformation matrix
-  must be marked as infinite instead of the method throwing an
-  exception.&lt;/p&gt;
+  must be marked as infinite.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-context-2d-setTransform&quot;&gt;&lt;code&gt;setTransform(&lt;var
@@ -13981,7 +13979,7 @@
   title=&quot;&quot;&gt;m21&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;m22&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;,
   &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;)&lt;/code&gt; method with the same arguments. If
   any of the arguments are Infinity the transformation matrix must be
-  marked as infinite instead of the method throwing an exception.&lt;/p&gt;
+  marked as infinite.&lt;/p&gt;
 
 
   &lt;h6&gt;Compositing&lt;/h6&gt;
@@ -14675,10 +14673,6 @@
   title=&quot;dom-context-2d-globalCompositeOperation&quot;&gt;global composition
   operators&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Negative values for width and height must cause the
-  implementation to raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt;
-  exception.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn title=&quot;dom-context-2d-clearRect&quot;&gt;&lt;code&gt;clearRect(&lt;var
   title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;w&lt;/var&gt;, &lt;var
   title=&quot;&quot;&gt;h&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must clear the pixels in the
@@ -14914,11 +14908,7 @@
   a new subpath with the point (&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var
   title=&quot;&quot;&gt;y&lt;/var&gt;) as the only point in the subpath.&lt;/p&gt;
 
-  &lt;p&gt;Negative values for &lt;var title=&quot;&quot;&gt;w&lt;/var&gt; and &lt;var
-  title=&quot;&quot;&gt;h&lt;/var&gt; must cause the implementation to raise an
-  &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exception.&lt;/p&gt;
 
-
   &lt;p&gt;The &lt;dfn title=&quot;dom-context-2d-fill&quot;&gt;&lt;code&gt;fill()&lt;/code&gt;&lt;/dfn&gt;
   method must fill all the subpaths of the current path, using
   &lt;code title=&quot;dom-context-2d-fillStyle&quot;&gt;fillStyle&lt;/code&gt;, and using
@@ -15041,24 +15031,33 @@
   --&gt;
   &lt;!-- createPattern() has an equivalent paragraph --&gt;
 
-  &lt;p&gt;If the rectangle given by the &lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, and &lt;var
-  title=&quot;&quot;&gt;sh&lt;/var&gt; arguments is not entirely within the source image,
+  &lt;p&gt;The source rectangle is the rectangle whose corners are the four
+  points (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;), (&lt;span&gt;&lt;var
+  title=&quot;&quot;&gt;sx&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;&lt;/span&gt;, &lt;var
+  title=&quot;&quot;&gt;sy&lt;/var&gt;), (&lt;span&gt;&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;+&lt;var
+  title=&quot;&quot;&gt;sw&lt;/var&gt;&lt;/span&gt;, &lt;span&gt;&lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;+&lt;var
+  title=&quot;&quot;&gt;sh&lt;/var&gt;&lt;/span&gt;), (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;span&gt;&lt;var
+  title=&quot;&quot;&gt;sy&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;&lt;/span&gt;).&lt;/p&gt;
+
+  &lt;p&gt;If the source rectangle is not entirely within the source image,
   or if one of the &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;
-  arguments is negative or zero, or if one of the &lt;var
-  title=&quot;&quot;&gt;dw&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt; arguments is negative,
-  the implementation must raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt;
-  exception.&lt;/p&gt;
+  arguments is zero, the implementation must raise an
+  &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exception.&lt;/p&gt;
 
+  &lt;p&gt;The destination rectangle is the rectangle whose corners are the
+  four points (&lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;),
+  (&lt;span&gt;&lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;dw&lt;/var&gt;&lt;/span&gt;, &lt;var
+  title=&quot;&quot;&gt;dy&lt;/var&gt;), (&lt;span&gt;&lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;+&lt;var
+  title=&quot;&quot;&gt;dw&lt;/var&gt;&lt;/span&gt;, &lt;span&gt;&lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;+&lt;var
+  title=&quot;&quot;&gt;dh&lt;/var&gt;&lt;/span&gt;), (&lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;span&gt;&lt;var
+  title=&quot;&quot;&gt;dy&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;&lt;/span&gt;).&lt;/p&gt;
+
   &lt;p&gt;When &lt;code title=&quot;dom-context-2d-drawImage&quot;&gt;drawImage()&lt;/code&gt; is
   invoked, the region of the image specified by the source rectangle
-  (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;sw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;) must be painted on the
-  region of the canvas specified by the destination rectangle (&lt;var
-  title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;), after applying the &lt;span
+  must be painted on the region of the canvas specified by the
+  destination rectangle, after applying the &lt;span
   title=&quot;dom-context-2d-transformation&quot;&gt;current transformation
-  matrix&lt;/span&gt; to the destination rectangle.&lt;/p&gt;
+  matrix&lt;/span&gt; to the points of the destination rectangle.&lt;/p&gt;
 
   &lt;p&gt;&lt;img src=&quot;images/drawImage.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;!-- no alt=&quot;&quot; text
   since the image is just repeating what was stated in the previous
@@ -15096,12 +15095,16 @@
   title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;,
   &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return an
   &lt;code&gt;ImageData&lt;/code&gt; object representing the underlying pixel data
-  for the area of the canvas denoted by the rectangle which has its
-  top left corner at the (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;sy&lt;/var&gt;) coordinate, and that has width &lt;var
-  title=&quot;&quot;&gt;sw&lt;/var&gt; and height &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;. Pixels outside
-  the canvas must be returned as transparent black. Pixels must be
-  returned as non-premultiplied alpha values.&lt;/p&gt;
+  for the area of the canvas denoted by the rectangle whose corners
+  are the four points (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var
+  title=&quot;&quot;&gt;sy&lt;/var&gt;), (&lt;span&gt;&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;+&lt;var
+  title=&quot;&quot;&gt;sw&lt;/var&gt;&lt;/span&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;), (&lt;span&gt;&lt;var
+  title=&quot;&quot;&gt;sx&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;&lt;/span&gt;, &lt;span&gt;&lt;var
+  title=&quot;&quot;&gt;sy&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;&lt;/span&gt;), (&lt;var
+  title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;span&gt;&lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;+&lt;var
+  title=&quot;&quot;&gt;sh&lt;/var&gt;&lt;/span&gt;). Pixels outside the canvas must be
+  returned as transparent black. Pixels must be returned as
+  non-premultiplied alpha values.&lt;/p&gt;
 
   &lt;p&gt;&lt;code&gt;ImageData&lt;/code&gt; objects must be initialised so that their
   &lt;dfn title=&quot;dom-imagedata-width&quot;&gt;&lt;code&gt;width&lt;/code&gt;&lt;/dfn&gt; attribute
@@ -15136,14 +15139,14 @@
   &lt;p class=&quot;note&quot;&gt;The width and height (&lt;var title=&quot;&quot;&gt;w&lt;/var&gt; and &lt;var
   title=&quot;&quot;&gt;h&lt;/var&gt;) might be different from the &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;
   and &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments to the function, e.g. if the
-  canvas is backed by a high-resolution bitmap.&lt;/p&gt;
+  canvas is backed by a high-resolution bitmap, or if the &lt;var
+  title=&quot;&quot;&gt;sw&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments are
+  negative.&lt;/p&gt;
 
   &lt;p&gt;If the &lt;code
-  title=&quot;dom-context-2d-getImageData&quot;&gt;getImageData(&lt;var
-  title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;)&lt;/code&gt; method is called with either the &lt;var
-  title=&quot;&quot;&gt;sw&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments set to zero or
-  negative values, the method must raise an
+  title=&quot;dom-context-2d-getImageData&quot;&gt;getImageData()&lt;/code&gt; method is
+  called with either the &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt; or &lt;var
+  title=&quot;&quot;&gt;sh&lt;/var&gt; arguments set to zero, the method must raise an
   &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exception.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008097.html">[html5] r1189 - /
</A></li>
	<LI>Next message: <A HREF="008099.html">[html5] r1191 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8098">[ date ]</a>
              <a href="thread.html#8098">[ thread ]</a>
              <a href="subject.html#8098">[ subject ]</a>
              <a href="author.html#8098">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
