<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1188 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1188%20-%20/&In-Reply-To=%3C20080201020506.C9F9F38EF8F%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008095.html">
   <LINK REL="Next"  HREF="008097.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1188 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1188%20-%20/&In-Reply-To=%3C20080201020506.C9F9F38EF8F%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1188 - /">whatwg at whatwg.org
       </A><BR>
    <I>Thu Jan 31 18:05:06 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008095.html">[html5] r1187 - /
</A></li>
        <LI>Next message: <A HREF="008097.html">[html5] r1189 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8096">[ date ]</a>
              <a href="thread.html#8096">[ thread ]</a>
              <a href="subject.html#8096">[ subject ]</a>
              <a href="author.html#8096">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-01-31 18:05:05 -0800 (Thu, 31 Jan 2008)
New Revision: 1188

Modified:
   index
   source
Log:
[gow] (2) Canvas: animated images in canvas APIs; error handling for drawImage(); clipping path -&gt; clipping region, and other fixes to clipping regions; clarify stroking and filling some more; remove old -- and wrong -- note about transformations and paths; other minor edits

Modified: index
===================================================================
--- index	2008-02-01 00:39:22 UTC (rev 1187)
+++ index	2008-02-01 02:05:05 UTC (rev 1188)
@@ -16279,7 +16279,7 @@
    &lt;li&gt;The current &lt;a href=&quot;#transformations0&quot;
     title=dom-context-2d-transformation&gt;transformation matrix&lt;/a&gt;.
 
-   &lt;li&gt;The current &lt;a href=&quot;#clipping&quot;&gt;clipping path&lt;/a&gt;.
+   &lt;li&gt;The current &lt;a href=&quot;#clipping&quot;&gt;clipping region&lt;/a&gt;.
 
    &lt;li&gt;The current values of the following attributes: &lt;code
     title=dom-context-2d-strokeStyle&gt;&lt;a
@@ -16788,17 +16788,22 @@
   &lt;p&gt;The &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument must be an instance of an
    &lt;code&gt;&lt;a href=&quot;#htmlimageelement&quot;&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a
    href=&quot;#htmlcanvaselement&quot;&gt;HTMLCanvasElement&lt;/a&gt;&lt;/code&gt;. If the &lt;var
-   title=&quot;&quot;&gt;image&lt;/var&gt; is of the wrong type, the implementation must raise a
-   &lt;code&gt;TYPE_MISMATCH_ERR&lt;/code&gt; exception. If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt;
-   argument is an &lt;code&gt;&lt;a
+   title=&quot;&quot;&gt;image&lt;/var&gt; is of the wrong type or null, the implementation must
+   raise a &lt;code&gt;TYPE_MISMATCH_ERR&lt;/code&gt; exception.&lt;/p&gt;
+  &lt;!-- drawImage() has an equivalent paragraph --&gt;
+
+  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an &lt;code&gt;&lt;a
    href=&quot;#htmlimageelement&quot;&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt; object whose &lt;code
    title=dom-img-complete&gt;&lt;a href=&quot;#complete&quot;&gt;complete&lt;/a&gt;&lt;/code&gt; attribute
    is false, then the implementation must raise an
-   &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception. If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt;
-   argument is an &lt;code&gt;&lt;a
+   &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception.&lt;/p&gt;
+  &lt;!-- drawImage() has an equivalent paragraph --&gt;
+
+  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an &lt;code&gt;&lt;a
    href=&quot;#htmlcanvaselement&quot;&gt;HTMLCanvasElement&lt;/a&gt;&lt;/code&gt; object with either
    a horizonal dimension or a vertical dimension equal to zero, then the
-   implementation must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception.
+   implementation must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception.&lt;/p&gt;
+  &lt;!-- drawImage() has an equivalent paragraph --&gt;
 
   &lt;p&gt;Patterns must be painted so that the top left of the first image is
    anchored at the origin of the coordinate space, and images are then
@@ -16811,6 +16816,13 @@
    actually painted where the stroking or filling effect requires that they
    be drawn, and are affected by the current transformation matrix.
 
+  &lt;p&gt;When the &lt;code title=dom-context-2d-createPattern&gt;&lt;a
+   href=&quot;#createpattern&quot;&gt;createPattern()&lt;/a&gt;&lt;/code&gt; method is passed, as its
+   &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument, an animated image, the poster frame of
+   the animation, or the first frame of the animation if there is no poster
+   frame, must be used.&lt;/p&gt;
+  &lt;!-- drawImage() has an equivalent paragraph --&gt;
+
   &lt;p&gt;Support for patterns is optional. If the user agent doesn't support
    patterns, then &lt;code title=dom-context-2d-createPattern&gt;&lt;a
    href=&quot;#createpattern&quot;&gt;createPattern()&lt;/a&gt;&lt;/code&gt; must return null.&lt;/p&gt;
@@ -17071,8 +17083,8 @@
    title=&quot;&quot;&gt;y&lt;/var&gt;+&lt;var title=&quot;&quot;&gt;h&lt;/var&gt;&lt;/span&gt;)&lt;/span&gt;.
 
   &lt;p&gt;Shapes are painted without affecting the current path, and are subject
-   to &lt;a href=&quot;#clipping&quot; title=&quot;clipping path&quot;&gt;clipping paths&lt;/a&gt;, and, with
-   the exception of &lt;code title=dom-context-2d-clearRect&gt;&lt;a
+   to the &lt;a href=&quot;#clipping&quot; title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;,
+   and, with the exception of &lt;code title=dom-context-2d-clearRect&gt;&lt;a
    href=&quot;#clearrect&quot;&gt;clearRect()&lt;/a&gt;&lt;/code&gt;, also &lt;a href=&quot;#shadows0&quot;
    title=shadows&gt;shadow effects&lt;/a&gt;, &lt;a href=&quot;#globalalpha&quot;
    title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, and &lt;a
@@ -17087,7 +17099,7 @@
    title=dom-context-2d-clearRect&gt;&lt;code&gt;clearRect(&lt;var title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var
    title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;w&lt;/var&gt;, &lt;var
    title=&quot;&quot;&gt;h&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must clear the pixels in the
-   specified rectangle that also intersect the current clipping path to a
+   specified rectangle that also intersect the current clipping region to a
    fully transparent black, erasing any previous image. If either height or
    width are zero, this method has no effect.
 
@@ -17298,15 +17310,19 @@
    exception.
 
   &lt;p&gt;The &lt;dfn id=fill title=dom-context-2d-fill&gt;&lt;code&gt;fill()&lt;/code&gt;&lt;/dfn&gt;
-   method must fill each subpath of the current path in turn, using &lt;code
+   method must fill all the subpaths of the current path, using &lt;code
    title=dom-context-2d-fillStyle&gt;&lt;a href=&quot;#fillstyle&quot;&gt;fillStyle&lt;/a&gt;&lt;/code&gt;,
    and using the non-zero winding number rule. Open subpaths must be
    implicitly closed when being filled (without affecting the actual
    subpaths).
 
+  &lt;p class=note&gt;Thus, if two overlapping but otherwise independent subpaths
+   have opposite windings, they cancel out and result in no fill. If they
+   have the same winding, that area just gets painted once.
+
   &lt;p&gt;The &lt;dfn id=stroke
    title=dom-context-2d-stroke&gt;&lt;code&gt;stroke()&lt;/code&gt;&lt;/dfn&gt; method must stroke
-   each subpath of the current path in turn, using the &lt;code
+   all the subpaths of the current path, using the &lt;code
    title=dom-context-2d-strokeStyle&gt;&lt;a
    href=&quot;#strokestyle&quot;&gt;strokeStyle&lt;/a&gt;&lt;/code&gt;, &lt;code
    title=dom-context-2d-lineWidth&gt;&lt;a href=&quot;#linewidth&quot;&gt;lineWidth&lt;/a&gt;&lt;/code&gt;,
@@ -17316,11 +17332,15 @@
    title=dom-context-2d-miterLimit&gt;&lt;a
    href=&quot;#miterlimit&quot;&gt;miterLimit&lt;/a&gt;&lt;/code&gt; attributes.
 
+  &lt;p class=note&gt;Since the subpaths are all stroked as one, overlapping parts
+   of the paths in one stroke operation are treated as if their union was
+   what was painted.
+
   &lt;p&gt;Paths, when filled or stroked, must be painted without affecting the
    current path, and must be subject to &lt;span&gt;transformations&lt;/span&gt;, &lt;a
    href=&quot;#shadows0&quot; title=shadows&gt;shadow effects&lt;/a&gt;, &lt;a href=&quot;#globalalpha&quot;
-   title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, &lt;a href=&quot;#clipping&quot;
-   title=&quot;clipping path&quot;&gt;clipping paths&lt;/a&gt;, and &lt;a
+   title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, the &lt;a href=&quot;#clipping&quot;
+   title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;, and &lt;a
    href=&quot;#globalcompositeoperation&quot;
    title=dom-context-2d-globalCompositeOperation&gt;global composition
    operators&lt;/a&gt;.
@@ -17328,26 +17348,22 @@
   &lt;p&gt;Zero-length line segments must be pruned before stroking a path. Empty
    subpaths must be ignored.
 
-  &lt;p class=note&gt;The transformation is applied to the path when it is drawn,
-   not when the path is constructed. Thus, a single path can be constructed
-   and then drawn according to different transformations without recreating
-   the path.
-
   &lt;p&gt;The &lt;dfn id=clip title=dom-context-2d-clip&gt;&lt;code&gt;clip()&lt;/code&gt;&lt;/dfn&gt;
-   method must create a new &lt;dfn id=clipping&gt;clipping path&lt;/dfn&gt; by
-   calculating the intersection of the current clipping path and the area
+   method must create a new &lt;dfn id=clipping&gt;clipping region&lt;/dfn&gt; by
+   calculating the intersection of the current clipping region and the area
    described by the current path, using the non-zero winding number rule.
-   Open subpaths must be implicitly closed when computing the clipping path,
-   without affecting the actual subpaths.
+   Open subpaths must be implicitly closed when computing the clipping
+   region, without affecting the actual subpaths. The new clipping region
+   replaces the current clipping region.
 
-  &lt;p&gt;When the context is created, the initial clipping path is the rectangle
-   with the top left corner at (0,0) and the width and height of the
-   coordinate space.&lt;/p&gt;
+  &lt;p&gt;When the context is initialised, the clipping region must be set to the
+   rectangle with the top left corner at (0,0) and the width and height of
+   the coordinate space.&lt;/p&gt;
   &lt;!-- XXXv3
    Jordan OSETE suggests:
-    * support ways of extending the clip region (union instead of intersection)
+    * support ways of extending the clipping region (union instead of intersection)
        - also &quot;add&quot;, &quot;substract&quot;, &quot;replace&quot;, &quot;intersect&quot; and &quot;xor&quot;
-    * support ways of resetting the clip region without save/restore
+    * support ways of resetting the clipping region without save/restore
   --&gt;
 
   &lt;p&gt;The &lt;dfn id=ispointinpath
@@ -17355,9 +17371,9 @@
    title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return
    true if the point given by the &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; and &lt;var
    title=&quot;&quot;&gt;y&lt;/var&gt; coordinates passed to the method, when treated as
-   coordinates in the canvas' coordinate space unaffected by the current
-   transformation, is within the area of the canvas that would be filled if
-   the current path was to be filled; and must return false otherwise.
+   coordinates in the canvas coordinate space unaffected by the current
+   transformation, is inside the current path; and must return false
+   otherwise. Points on the path itself are considered to be inside the path.
 
   &lt;h6 id=images&gt;&lt;span class=secno&gt;3.14.11.1.9. &lt;/span&gt;Images&lt;/h6&gt;
 
@@ -17378,38 +17394,53 @@
    href=&quot;#htmlimageelement&quot;&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt; or an &lt;code&gt;&lt;a
    href=&quot;#htmlcanvaselement&quot;&gt;HTMLCanvasElement&lt;/a&gt;&lt;/code&gt; for the &lt;var
    title=&quot;&quot;&gt;image&lt;/var&gt; argument.) If not specified, the &lt;var
-   title=&quot;&quot;&gt;dw&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt; arguments default to the
+   title=&quot;&quot;&gt;dw&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt; arguments must default to the
    values of &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;, interpreted
    such that one CSS pixel in the image is treated as one unit in the canvas
    coordinate space. If the &lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;,
    &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments are omitted,
-   they default to 0, 0, the image's intrinsic width in image pixels, and the
-   image's intrinsic height in image pixels, respectively.
+   they must default to 0, 0, the image's intrinsic width in image pixels,
+   and the image's intrinsic height in image pixels, respectively.
 
   &lt;p&gt;The &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument must be an instance of an
    &lt;code&gt;&lt;a href=&quot;#htmlimageelement&quot;&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a
    href=&quot;#htmlcanvaselement&quot;&gt;HTMLCanvasElement&lt;/a&gt;&lt;/code&gt;. If the &lt;var
-   title=&quot;&quot;&gt;image&lt;/var&gt; is of the wrong type, the implementation must raise a
-   &lt;code&gt;TYPE_MISMATCH_ERR&lt;/code&gt; exception. If one of the &lt;var
-   title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, and
-   &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments is outside the size of the image, or if
-   one of the &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt; arguments is
-   negative, the implementation must raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt;
-   exception. If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an &lt;code&gt;&lt;a
+   title=&quot;&quot;&gt;image&lt;/var&gt; is of the wrong type or null, the implementation must
+   raise a &lt;code&gt;TYPE_MISMATCH_ERR&lt;/code&gt; exception.&lt;/p&gt;
+  &lt;!-- createPattern() has an equivalent paragraph --&gt;
+
+  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an &lt;code&gt;&lt;a
    href=&quot;#htmlimageelement&quot;&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt; object whose &lt;code
    title=dom-img-complete&gt;&lt;a href=&quot;#complete&quot;&gt;complete&lt;/a&gt;&lt;/code&gt; attribute
    is false, then the implementation must raise an
-   &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception.
+   &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception.&lt;/p&gt;
+  &lt;!-- createPattern() has an equivalent paragraph --&gt;
+  &lt;!-- handled by the next paragraph
+  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
+  &lt;code&gt;HTMLCanvasElement&lt;/code&gt; object with either a horizonal
+  dimension or a vertical dimension equal to zero, then the
+  implementation must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt;
+  exception.&lt;/p&gt;
+  --&gt;
+  &lt;!-- createPattern() has an equivalent paragraph --&gt;
 
+  &lt;p&gt;If the rectangle given by the &lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var
+   title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;
+   arguments is not entirely within the source image, or if one of the &lt;var
+   title=&quot;&quot;&gt;sw&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments is negative or zero,
+   or if one of the &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;
+   arguments is negative, the implementation must raise an
+   &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exception.
+
   &lt;p&gt;When &lt;code title=dom-context-2d-drawImage&gt;&lt;a
-   href=&quot;#drawimage&quot;&gt;drawImage()&lt;/a&gt;&lt;/code&gt; is invoked, the specified region
-   of the image specified by the source rectangle (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;,
-   &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;)
-   must be painted on the region of the canvas specified by the destination
-   rectangle (&lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;, &lt;var
-   title=&quot;&quot;&gt;dw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;), after applying the &lt;a
-   href=&quot;#transformations0&quot; title=dom-context-2d-transformation&gt;current
-   transformation matrix&lt;/a&gt;.
+   href=&quot;#drawimage&quot;&gt;drawImage()&lt;/a&gt;&lt;/code&gt; is invoked, the region of the
+   image specified by the source rectangle (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var
+   title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;) must be
+   painted on the region of the canvas specified by the destination rectangle
+   (&lt;var title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt;,
+   &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;), after applying the &lt;a href=&quot;#transformations0&quot;
+   title=dom-context-2d-transformation&gt;current transformation matrix&lt;/a&gt; to
+   the destination rectangle.
 
   &lt;p&gt;&lt;img alt=&quot;&quot; src=&quot;images/drawImage.png&quot;&gt;&lt;/p&gt;
   &lt;!-- no alt=&quot;&quot; text
@@ -17421,10 +17452,17 @@
    canvas, so it is possible to copy parts of a canvas onto overlapping parts
    of itself.
 
+  &lt;p&gt;When the &lt;code title=dom-context-2d-drawImage&gt;&lt;a
+   href=&quot;#drawimage&quot;&gt;drawImage()&lt;/a&gt;&lt;/code&gt; method is passed, as its &lt;var
+   title=&quot;&quot;&gt;image&lt;/var&gt; argument, an animated image, the poster frame of the
+   animation, or the first frame of the animation if there is no poster
+   frame, must be used.&lt;/p&gt;
+  &lt;!-- createPattern() has an equivalent paragraph --&gt;
+
   &lt;p&gt;Images are painted without affecting the current path, and are subject
    to &lt;a href=&quot;#shadows0&quot; title=shadows&gt;shadow effects&lt;/a&gt;, &lt;a
-   href=&quot;#globalalpha&quot; title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, &lt;a
-   href=&quot;#clipping&quot; title=&quot;clipping path&quot;&gt;clipping paths&lt;/a&gt;, and &lt;a
+   href=&quot;#globalalpha&quot; title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, the
+   &lt;a href=&quot;#clipping&quot; title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;, and &lt;a
    href=&quot;#globalcompositeoperation&quot;
    title=dom-context-2d-globalCompositeOperation&gt;global composition
    operators&lt;/a&gt;.&lt;/p&gt;
@@ -17557,8 +17595,8 @@
   &lt;p&gt;The current path, &lt;a href=&quot;#transformations0&quot;
    title=dom-context-2d-transformation&gt;transformation matrix&lt;/a&gt;, &lt;a
    href=&quot;#shadows0&quot; title=shadows&gt;shadow attributes&lt;/a&gt;, &lt;a
-   href=&quot;#globalalpha&quot; title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, &lt;a
-   href=&quot;#clipping&quot; title=&quot;clipping path&quot;&gt;clipping path&lt;/a&gt;, and &lt;a
+   href=&quot;#globalalpha&quot; title=dom-context-2d-globalAlpha&gt;global alpha&lt;/a&gt;, the
+   &lt;a href=&quot;#clipping&quot; title=&quot;clipping region&quot;&gt;clipping region&lt;/a&gt;, and &lt;a
    href=&quot;#globalcompositeoperation&quot;
    title=dom-context-2d-globalCompositeOperation&gt;global composition
    operator&lt;/a&gt; must not affect the &lt;code
@@ -17703,7 +17741,7 @@
        href=&quot;#globalalpha&quot;&gt;globalAlpha&lt;/a&gt;&lt;/code&gt;.
 
      &lt;li&gt;
-      &lt;p&gt;Within the clipping path, composite &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; over the
+      &lt;p&gt;Within the clipping region, composite &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; over the
        current canvas bitmap using the current composition operator.
     &lt;/ol&gt;
 
@@ -17713,7 +17751,7 @@
      href=&quot;#globalalpha&quot;&gt;globalAlpha&lt;/a&gt;&lt;/code&gt;.
 
    &lt;li&gt;
-    &lt;p&gt;Within the clipping path, composite &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; over the
+    &lt;p&gt;Within the clipping region, composite &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; over the
      current canvas bitmap using the current composition operator.
   &lt;/ol&gt;
   &lt;!-- XXX add xrefs in the list above --&gt;

Modified: source
===================================================================
--- source	2008-02-01 00:39:22 UTC (rev 1187)
+++ source	2008-02-01 02:05:05 UTC (rev 1188)
@@ -13825,7 +13825,7 @@
 
   &lt;ul class=&quot;brief&quot;&gt;
    &lt;li&gt;The current &lt;span title=&quot;dom-context-2d-transformation&quot;&gt;transformation matrix&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;The current &lt;span&gt;clipping path&lt;/span&gt;.&lt;/li&gt;
+   &lt;li&gt;The current &lt;span&gt;clipping region&lt;/span&gt;.&lt;/li&gt;
    &lt;li&gt;The current values of the following attributes: &lt;code
    title=&quot;dom-context-2d-strokeStyle&quot;&gt;strokeStyle&lt;/code&gt;, &lt;code
    title=&quot;dom-context-2d-fillStyle&quot;&gt;fillStyle&lt;/code&gt;, &lt;code
@@ -14307,6 +14307,8 @@
   title=&quot;dom-context-2d-createRadialGradient&quot;&gt;createRadialGradient()&lt;/code&gt;
   must always return objects when passed valid arguments.&lt;/p&gt;
 
+
+
   &lt;p&gt;Patterns are represented by objects implementing the opaque
   &lt;dfn&gt;&lt;code&gt;CanvasPattern&lt;/code&gt;&lt;/dfn&gt; interface.&lt;/p&gt;
 
@@ -14315,7 +14317,7 @@
   title=&quot;&quot;&gt;image&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;repetition&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
   method is used. The first argument gives the image to use as the
   pattern (either an &lt;code&gt;HTMLImageElement&lt;/code&gt; or an
-  &lt;code&gt;HTMLCanvasElement&lt;/code&gt;).  Modifying this image after calling
+  &lt;code&gt;HTMLCanvasElement&lt;/code&gt;). Modifying this image after calling
   the &lt;code
   title=&quot;dom-context-2d-createPattern&quot;&gt;createPattern()&lt;/code&gt; method
   must not affect the pattern. The second argument must be a string
@@ -14331,17 +14333,24 @@
 
   &lt;p&gt;The &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument must be an instance of an
   &lt;code&gt;HTMLImageElement&lt;/code&gt; or &lt;code&gt;HTMLCanvasElement&lt;/code&gt;. If
-  the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; is of the wrong type, the
+  the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; is of the wrong type or null, the
   implementation must raise a &lt;code&gt;TYPE_MISMATCH_ERR&lt;/code&gt;
-  exception. If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
+  exception.&lt;/p&gt;
+  &lt;!-- drawImage() has an equivalent paragraph --&gt;
+
+  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
   &lt;code&gt;HTMLImageElement&lt;/code&gt; object whose &lt;code
   title=&quot;dom-img-complete&quot;&gt;complete&lt;/code&gt; attribute is false, then
   the implementation must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt;
-  exception. If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
+  exception.&lt;/p&gt;
+  &lt;!-- drawImage() has an equivalent paragraph --&gt;
+
+  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
   &lt;code&gt;HTMLCanvasElement&lt;/code&gt; object with either a horizonal
   dimension or a vertical dimension equal to zero, then the
   implementation must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt;
   exception.&lt;/p&gt;
+  &lt;!-- drawImage() has an equivalent paragraph --&gt;
 
   &lt;p&gt;Patterns must be painted so that the top left of the first image
   is anchored at the origin of the coordinate space, and images are
@@ -14355,6 +14364,13 @@
   stroking or filling effect requires that they be drawn, and are
   affected by the current transformation matrix.&lt;/p&gt;
 
+  &lt;p&gt;When the &lt;code
+  title=&quot;dom-context-2d-createPattern&quot;&gt;createPattern()&lt;/code&gt; method
+  is passed, as its &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument, an animated
+  image, the poster frame of the animation, or the first frame of the
+  animation if there is no poster frame, must be used.&lt;/p&gt;
+  &lt;!-- drawImage() has an equivalent paragraph --&gt;
+
   &lt;p&gt;Support for patterns is optional. If the user agent doesn't
   support patterns, then &lt;code
   title=&quot;dom-context-2d-createPattern&quot;&gt;createPattern()&lt;/code&gt; must
@@ -14625,8 +14641,8 @@
   title=&quot;&quot;&gt;h&lt;/var&gt;&lt;/span&gt;)&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;Shapes are painted without affecting the current path, and are
-  subject to &lt;span title=&quot;clipping path&quot;&gt;clipping paths&lt;/span&gt;, and,
-  with the exception of &lt;code
+  subject to the &lt;span title=&quot;clipping region&quot;&gt;clipping region&lt;/span&gt;,
+  and, with the exception of &lt;code
   title=&quot;dom-context-2d-clearRect&quot;&gt;clearRect()&lt;/code&gt;, also &lt;span
   title=&quot;shadows&quot;&gt;shadow effects&lt;/span&gt;, &lt;span
   title=&quot;dom-context-2d-globalAlpha&quot;&gt;global alpha&lt;/span&gt;, and &lt;span
@@ -14640,8 +14656,8 @@
   &lt;p&gt;The &lt;dfn title=&quot;dom-context-2d-clearRect&quot;&gt;&lt;code&gt;clearRect(&lt;var
   title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;w&lt;/var&gt;, &lt;var
   title=&quot;&quot;&gt;h&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must clear the pixels in the
-  specified rectangle that also intersect the current clipping path to
-  a fully transparent black, erasing any previous image. If either
+  specified rectangle that also intersect the current clipping region
+  to a fully transparent black, erasing any previous image. If either
   height or width are zero, this method has no effect.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;dom-context-2d-fillRect&quot;&gt;&lt;code&gt;fillRect(&lt;var
@@ -14878,15 +14894,20 @@
 
 
   &lt;p&gt;The &lt;dfn title=&quot;dom-context-2d-fill&quot;&gt;&lt;code&gt;fill()&lt;/code&gt;&lt;/dfn&gt;
-  method must fill each subpath of the current path in turn, using
+  method must fill all the subpaths of the current path, using
   &lt;code title=&quot;dom-context-2d-fillStyle&quot;&gt;fillStyle&lt;/code&gt;, and using
   the non-zero winding number rule. Open subpaths must be implicitly
   closed when being filled (without affecting the actual
   subpaths).&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;Thus, if two overlapping but otherwise independent
+  subpaths have opposite windings, they cancel out and result in no
+  fill. If they have the same winding, that area just gets painted
+  once.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-context-2d-stroke&quot;&gt;&lt;code&gt;stroke()&lt;/code&gt;&lt;/dfn&gt; method
-  must stroke each subpath of the current path in turn, using the
+  must stroke all the subpaths of the current path, using the
   &lt;code title=&quot;dom-context-2d-strokeStyle&quot;&gt;strokeStyle&lt;/code&gt;, &lt;code
   title=&quot;dom-context-2d-lineWidth&quot;&gt;lineWidth&lt;/code&gt;, &lt;code
   title=&quot;dom-context-2d-lineCap&quot;&gt;lineCap&lt;/code&gt;, &lt;code
@@ -14894,39 +14915,40 @@
   appropriate) &lt;code
   title=&quot;dom-context-2d-miterLimit&quot;&gt;miterLimit&lt;/code&gt; attributes.&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;Since the subpaths are all stroked as one,
+  overlapping parts of the paths in one stroke operation are treated
+  as if their union was what was painted.&lt;/p&gt;
+
   &lt;p&gt;Paths, when filled or stroked, must be painted without affecting
   the current path, and must be subject to
   &lt;span&gt;transformations&lt;/span&gt;, &lt;span title=&quot;shadows&quot;&gt;shadow
   effects&lt;/span&gt;, &lt;span title=&quot;dom-context-2d-globalAlpha&quot;&gt;global
-  alpha&lt;/span&gt;, &lt;span title=&quot;clipping path&quot;&gt;clipping paths&lt;/span&gt;, and
-  &lt;span title=&quot;dom-context-2d-globalCompositeOperation&quot;&gt;global
-  composition operators&lt;/span&gt;.&lt;/p&gt;
+  alpha&lt;/span&gt;, the &lt;span title=&quot;clipping region&quot;&gt;clipping
+  region&lt;/span&gt;, and &lt;span
+  title=&quot;dom-context-2d-globalCompositeOperation&quot;&gt;global composition
+  operators&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;Zero-length line segments must be pruned before stroking a
   path. Empty subpaths must be ignored.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;The transformation is applied to the path when it is
-  drawn, not when the path is constructed. Thus, a single path can be
-  constructed and then drawn according to different transformations
-  without recreating the path.&lt;/p&gt;
 
-
   &lt;p&gt;The &lt;dfn title=&quot;dom-context-2d-clip&quot;&gt;&lt;code&gt;clip()&lt;/code&gt;&lt;/dfn&gt;
-  method must create a new &lt;dfn&gt;clipping path&lt;/dfn&gt; by calculating the
-  intersection of the current clipping path and the area described by
-  the current path, using the non-zero winding number rule. Open
-  subpaths must be implicitly closed when computing the clipping path,
-  without affecting the actual subpaths.&lt;/p&gt;
+  method must create a new &lt;dfn&gt;clipping region&lt;/dfn&gt; by calculating
+  the intersection of the current clipping region and the area
+  described by the current path, using the non-zero winding number
+  rule. Open subpaths must be implicitly closed when computing the
+  clipping region, without affecting the actual subpaths. The new
+  clipping region replaces the current clipping region.&lt;/p&gt;
 
-  &lt;p&gt;When the context is created, the initial clipping path is the
-  rectangle with the top left corner at (0,0) and the width and height
-  of the coordinate space.&lt;/p&gt;
+  &lt;p&gt;When the context is initialised, the clipping region must be set
+  to the rectangle with the top left corner at (0,0) and the width and
+  height of the coordinate space.&lt;/p&gt;
 
   &lt;!-- XXXv3
    Jordan OSETE suggests:
-    * support ways of extending the clip region (union instead of intersection)
+    * support ways of extending the clipping region (union instead of intersection)
        - also &quot;add&quot;, &quot;substract&quot;, &quot;replace&quot;, &quot;intersect&quot; and &quot;xor&quot;
-    * support ways of resetting the clip region without save/restore
+    * support ways of resetting the clipping region without save/restore
   --&gt;
 
 
@@ -14935,10 +14957,10 @@
   title=&quot;&quot;&gt;x&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must
   return true if the point given by the &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; and &lt;var
   title=&quot;&quot;&gt;y&lt;/var&gt; coordinates passed to the method, when treated as
-  coordinates in the canvas' coordinate space unaffected by the
-  current transformation, is within the area of the canvas that would
-  be filled if the current path was to be filled; and must return
-  false otherwise.&lt;/p&gt;
+  coordinates in the canvas coordinate space unaffected by the
+  current transformation, is inside the current path; and must return
+  false otherwise. Points on the path itself are considered to be
+  inside the path.&lt;/p&gt;
 
 
 
@@ -14961,39 +14983,56 @@
   overloaded with six; each of those three can take either an
   &lt;code&gt;HTMLImageElement&lt;/code&gt; or an &lt;code&gt;HTMLCanvasElement&lt;/code&gt;
   for the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument.)  If not specified, the
-  &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt; arguments default
-  to the values of &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;,
-  interpreted such that one CSS pixel in the image is treated as one
-  unit in the canvas coordinate space. If the &lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, and &lt;var
-  title=&quot;&quot;&gt;sh&lt;/var&gt; arguments are omitted, they default to 0, 0, the
-  image's intrinsic width in image pixels, and the image's intrinsic
-  height in image pixels, respectively.&lt;/p&gt;
+  &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt; arguments must
+  default to the values of &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt; and &lt;var
+  title=&quot;&quot;&gt;sh&lt;/var&gt;, interpreted such that one CSS pixel in the image
+  is treated as one unit in the canvas coordinate space. If the &lt;var
+  title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;,
+  and &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt; arguments are omitted, they must default
+  to 0, 0, the image's intrinsic width in image pixels, and the
+  image's intrinsic height in image pixels, respectively.&lt;/p&gt;
 
   &lt;p&gt;The &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument must be an instance of an
   &lt;code&gt;HTMLImageElement&lt;/code&gt; or &lt;code&gt;HTMLCanvasElement&lt;/code&gt;. If
-  the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; is of the wrong type, the
+  the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; is of the wrong type or null, the
   implementation must raise a &lt;code&gt;TYPE_MISMATCH_ERR&lt;/code&gt;
-  exception. If one of the &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;sw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, and &lt;var
-  title=&quot;&quot;&gt;sh&lt;/var&gt; arguments is outside the size of the image, or if
-  one of the &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;
-  arguments is negative, the implementation must raise an
-  &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exception. If the &lt;var
-  title=&quot;&quot;&gt;image&lt;/var&gt; argument is an &lt;code&gt;HTMLImageElement&lt;/code&gt;
-  object whose &lt;code title=&quot;dom-img-complete&quot;&gt;complete&lt;/code&gt;
-  attribute is false, then the implementation must raise an
-  &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception.&lt;/p&gt;
+  exception.&lt;/p&gt;
+  &lt;!-- createPattern() has an equivalent paragraph --&gt;
 
+  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
+  &lt;code&gt;HTMLImageElement&lt;/code&gt; object whose &lt;code
+  title=&quot;dom-img-complete&quot;&gt;complete&lt;/code&gt; attribute is false, then
+  the implementation must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt;
+  exception.&lt;/p&gt;
+  &lt;!-- createPattern() has an equivalent paragraph --&gt;
+
+  &lt;!-- handled by the next paragraph
+  &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
+  &lt;code&gt;HTMLCanvasElement&lt;/code&gt; object with either a horizonal
+  dimension or a vertical dimension equal to zero, then the
+  implementation must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt;
+  exception.&lt;/p&gt;
+  --&gt;
+  &lt;!-- createPattern() has an equivalent paragraph --&gt;
+
+  &lt;p&gt;If the rectangle given by the &lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var
+  title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt;, and &lt;var
+  title=&quot;&quot;&gt;sh&lt;/var&gt; arguments is not entirely within the source image,
+  or if one of the &lt;var title=&quot;&quot;&gt;sw&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;
+  arguments is negative or zero, or if one of the &lt;var
+  title=&quot;&quot;&gt;dw&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt; arguments is negative,
+  the implementation must raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt;
+  exception.&lt;/p&gt;
+
   &lt;p&gt;When &lt;code title=&quot;dom-context-2d-drawImage&quot;&gt;drawImage()&lt;/code&gt; is
-  invoked, the specified region of the image specified by the source
-  rectangle (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var
+  invoked, the region of the image specified by the source rectangle
+  (&lt;var title=&quot;&quot;&gt;sx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sy&lt;/var&gt;, &lt;var
   title=&quot;&quot;&gt;sw&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;sh&lt;/var&gt;) must be painted on the
   region of the canvas specified by the destination rectangle (&lt;var
   title=&quot;&quot;&gt;dx&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dy&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;dw&lt;/var&gt;,
   &lt;var title=&quot;&quot;&gt;dh&lt;/var&gt;), after applying the &lt;span
   title=&quot;dom-context-2d-transformation&quot;&gt;current transformation
-  matrix&lt;/span&gt;.&lt;/p&gt;
+  matrix&lt;/span&gt; to the destination rectangle.&lt;/p&gt;
 
   &lt;p&gt;&lt;img src=&quot;images/drawImage.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;!-- no alt=&quot;&quot; text
   since the image is just repeating what was stated in the previous
@@ -15004,10 +15043,17 @@
   back onto the canvas, so it is possible to copy parts of a canvas
   onto overlapping parts of itself.&lt;/p&gt;
 
+  &lt;p&gt;When the &lt;code
+  title=&quot;dom-context-2d-drawImage&quot;&gt;drawImage()&lt;/code&gt; method is
+  passed, as its &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument, an animated
+  image, the poster frame of the animation, or the first frame of the
+  animation if there is no poster frame, must be used.&lt;/p&gt;
+  &lt;!-- createPattern() has an equivalent paragraph --&gt;
+
   &lt;p&gt;Images are painted without affecting the current path, and are
   subject to &lt;span title=&quot;shadows&quot;&gt;shadow effects&lt;/span&gt;, &lt;span
-  title=&quot;dom-context-2d-globalAlpha&quot;&gt;global alpha&lt;/span&gt;, &lt;span
-  title=&quot;clipping path&quot;&gt;clipping paths&lt;/span&gt;, and &lt;span
+  title=&quot;dom-context-2d-globalAlpha&quot;&gt;global alpha&lt;/span&gt;, the &lt;span
+  title=&quot;clipping region&quot;&gt;clipping region&lt;/span&gt;, and &lt;span
   title=&quot;dom-context-2d-globalCompositeOperation&quot;&gt;global composition
   operators&lt;/span&gt;.&lt;/p&gt;
 
@@ -15016,6 +15062,7 @@
   attributes don't affect it --&gt;
 
 
+
   &lt;h6&gt;&lt;dfn&gt;Pixel manipulation&lt;/dfn&gt;&lt;/h6&gt;
 
   &lt;p&gt;The &lt;dfn
@@ -15139,8 +15186,8 @@
   &lt;p&gt;The current path, &lt;span
   title=&quot;dom-context-2d-transformation&quot;&gt;transformation matrix&lt;/span&gt;,
   &lt;span title=&quot;shadows&quot;&gt;shadow attributes&lt;/span&gt;, &lt;span
-  title=&quot;dom-context-2d-globalAlpha&quot;&gt;global alpha&lt;/span&gt;, &lt;span
-  title=&quot;clipping path&quot;&gt;clipping path&lt;/span&gt;, and &lt;span
+  title=&quot;dom-context-2d-globalAlpha&quot;&gt;global alpha&lt;/span&gt;, the &lt;span
+  title=&quot;clipping region&quot;&gt;clipping region&lt;/span&gt;, and &lt;span
   title=&quot;dom-context-2d-globalCompositeOperation&quot;&gt;global composition
   operator&lt;/span&gt; must not affect the &lt;code
   title=&quot;dom-context-2d-getImageData&quot;&gt;getImageData()&lt;/code&gt; and &lt;code
@@ -15286,9 +15333,9 @@
      title=&quot;&quot;&gt;B&lt;/var&gt; by &lt;code
      title=&quot;dom-context-2d-globalAlpha&quot;&gt;globalAlpha&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Within the clipping path, composite &lt;var title=&quot;&quot;&gt;B&lt;/var&gt;
-     over the current canvas bitmap using the current composition
-     operator.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Within the clipping region, composite &lt;var
+     title=&quot;&quot;&gt;B&lt;/var&gt; over the current canvas bitmap using the current
+     composition operator.&lt;/p&gt;&lt;/li&gt;
 
     &lt;/ol&gt;
 
@@ -15298,7 +15345,7 @@
    title=&quot;&quot;&gt;A&lt;/var&gt; by &lt;code
    title=&quot;dom-context-2d-globalAlpha&quot;&gt;globalAlpha&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Within the clipping path, composite &lt;var title=&quot;&quot;&gt;A&lt;/var&gt;
+   &lt;li&gt;&lt;p&gt;Within the clipping region, composite &lt;var title=&quot;&quot;&gt;A&lt;/var&gt;
    over the current canvas bitmap using the current composition
    operator.&lt;/p&gt;&lt;/li&gt;
 


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008095.html">[html5] r1187 - /
</A></li>
	<LI>Next message: <A HREF="008097.html">[html5] r1189 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8096">[ date ]</a>
              <a href="thread.html#8096">[ thread ]</a>
              <a href="subject.html#8096">[ subject ]</a>
              <a href="author.html#8096">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
