<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1814 - [] (0) URLify navigation and neighboring sections;	fix validation errors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1814%20-%20%5B%5D%20%280%29%20URLify%20navigation%20and%20neighboring%20sections%3B%0A%09fix%20validation%20errors&In-Reply-To=%3C20080627041636.3A1A01B0D98%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008711.html">
   <LINK REL="Next"  HREF="008713.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1814 - [] (0) URLify navigation and neighboring sections;	fix validation errors</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1814%20-%20%5B%5D%20%280%29%20URLify%20navigation%20and%20neighboring%20sections%3B%0A%09fix%20validation%20errors&In-Reply-To=%3C20080627041636.3A1A01B0D98%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1814 - [] (0) URLify navigation and neighboring sections;	fix validation errors">whatwg at whatwg.org
       </A><BR>
    <I>Thu Jun 26 21:16:36 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008711.html">[html5] r1813 - [] (0) URLify Location.
</A></li>
        <LI>Next message: <A HREF="008713.html">[html5] r1815 - [] (0) Urlification of the 'links' section.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8712">[ date ]</a>
              <a href="thread.html#8712">[ thread ]</a>
              <a href="subject.html#8712">[ subject ]</a>
              <a href="author.html#8712">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-06-26 21:16:35 -0700 (Thu, 26 Jun 2008)
New Revision: 1814

Modified:
   index
   source
Log:
[] (0) URLify navigation and neighboring sections; fix validation errors

Modified: index
===================================================================
--- index	2008-06-27 02:08:48 UTC (rev 1813)
+++ index	2008-06-27 04:16:35 UTC (rev 1814)
@@ -32659,10 +32659,10 @@
        &quot;start of line&quot;.&lt;/p&gt;
       &lt;!-- SECURITY --&gt;
       &lt;p&gt;If the resulting &lt;a href=&quot;#absolute&quot;&gt;absolute URL&lt;/a&gt; for &lt;var
-       title=&quot;&quot;&gt;part two has a different &lt;a href=&quot;#ltschemegt&quot;
+       title=&quot;&quot;&gt;part two&lt;/var&gt; has a different &lt;a href=&quot;#ltschemegt&quot;
        title=url-scheme&gt;&lt;scheme&gt;&lt;/a&gt; component than the manifest's URL
        (compared case-insensitively&lt;!-- XXX ASCII --&gt;), then jump back to the
-       step labeled &quot;start of line&quot;.&lt;/var&gt;&lt;/p&gt;
+       step labeled &quot;start of line&quot;.&lt;/p&gt;
 
       &lt;p&gt;Drop any the &lt;a href=&quot;#ltfragmentgt&quot;
        title=url-fragment&gt;&lt;fragment&gt;&lt;/a&gt; components of the resulting &lt;a
@@ -33437,12 +33437,13 @@
    href=&quot;#length8&quot;&gt;length&lt;/a&gt;&lt;/code&gt;-1&lt;/span&gt;.
 
   &lt;p&gt;The &lt;dfn id=itemindex4 title=dom-appcache-item&gt;&lt;code&gt;item(&lt;var
-   title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the absolute URL of
-   the &lt;a href=&quot;#dynamic3&quot; title=concept-appcache-dynamic&gt;dynamic entry&lt;/a&gt;
-   with index &lt;var title=&quot;&quot;&gt;index&lt;/var&gt; from the &lt;a
-   href=&quot;#application0&quot;&gt;application cache&lt;/a&gt;, if one is associated with the
-   &lt;code&gt;&lt;a href=&quot;#applicationcache&quot;&gt;ApplicationCache&lt;/a&gt;&lt;/code&gt; object. If
-   the object is not associated with any application cache, or if the &lt;var
+   title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the &lt;a
+   href=&quot;#absolute&quot;&gt;absolute URL&lt;/a&gt; of the &lt;a href=&quot;#dynamic3&quot;
+   title=concept-appcache-dynamic&gt;dynamic entry&lt;/a&gt; with index &lt;var
+   title=&quot;&quot;&gt;index&lt;/var&gt; from the &lt;a href=&quot;#application0&quot;&gt;application
+   cache&lt;/a&gt;, if one is associated with the &lt;code&gt;&lt;a
+   href=&quot;#applicationcache&quot;&gt;ApplicationCache&lt;/a&gt;&lt;/code&gt; object. If the object
+   is not associated with any application cache, or if the &lt;var
    title=&quot;&quot;&gt;index&lt;/var&gt; argument is lower than zero or greater than
    &lt;span&gt;&lt;code title=dom-appcache-length&gt;&lt;a
    href=&quot;#length8&quot;&gt;length&lt;/a&gt;&lt;/code&gt;-1&lt;/span&gt;, the method must instead raise
@@ -34179,8 +34180,7 @@
   &lt;p&gt;In addition, a user agent could ignore calls to &lt;code
    title=dom-history-pushState&gt;&lt;a href=&quot;#pushstate&quot;&gt;pushState()&lt;/a&gt;&lt;/code&gt;
    that are invoked on a timer, or from event handlers that do not represent
-   a clear user action, or that are invoked in rapid succession.&lt;/p&gt;
-  &lt;!-- XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXURL \(url\|uri\|iri\) --&gt;
+   a clear user action, or that are invoked in rapid succession.
 
   &lt;h3 id=browsing0&gt;&lt;span class=secno&gt;5.9 &lt;/span&gt;Browsing the Web&lt;/h3&gt;
 
@@ -34269,27 +34269,27 @@
      affect the browsing context, then abort these steps and proceed with
      that mechanism instead.
 
-   &lt;li&gt; &lt;!-- XXXURL change to URL --&gt;
+   &lt;li&gt;
     &lt;p&gt;If the new resource is to be fetched using HTTP GET or equivalent, and
      if the browsing context being navigated is a &lt;a
      href=&quot;#top-level&quot;&gt;top-level browsing context&lt;/a&gt;, then check if there
      are any &lt;a href=&quot;#application0&quot; title=&quot;application cache&quot;&gt;application
      caches&lt;/a&gt; that have a &lt;a href=&quot;#the-manifest&quot;
      title=concept-appcache-manifest&gt;manifest&lt;/a&gt; with the &lt;a
-     href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt; as the URI in question, and that
-     have this URI as one of their entries (excluding entries marked as &lt;a
+     href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt; as the URL in question, and that
+     have this URL as one of their entries (excluding entries marked as &lt;a
      href=&quot;#foreign&quot; title=concept-appcache-foreign&gt;foreign&lt;/a&gt;), and that
      already contain their manifest, categorized as a &lt;a href=&quot;#the-manifest&quot;
      title=concept-appcache-manifest&gt;manifest&lt;/a&gt;. If so, then the user agent
      must then fetch the resource from the &lt;a href=&quot;#select0&quot;
      title=concept-appcache-selection&gt;most appropriate application cache&lt;/a&gt;
      of those that match.&lt;/p&gt;
-    &lt;!-- XXXURL JSURI issue --&gt;
+
     &lt;p&gt;Otherwise, start fetching&lt;!-- XXX xref --&gt; the new resource in the
      appropriate manner (e.g. performing an HTTP GET or POST operation, or
      reading the file from disk, or executing script in the case of a &lt;a
      href=&quot;#the-javascript&quot; title=&quot;javascript protocol&quot;&gt;&lt;code
-     title=&quot;&quot;&gt;javascript:&lt;/code&gt; URI&lt;/a&gt;). If this results in a redirect,
+     title=&quot;&quot;&gt;javascript:&lt;/code&gt; URL&lt;/a&gt;). If this results in a redirect,
      return to &lt;a href=navigate-fragid-step&gt;the step labeled &quot;fragment
      identifiers&quot;&lt;/a&gt; with the new resource.&lt;/p&gt;
 
@@ -34310,10 +34310,10 @@
      user agent may allow the user to cancel this navigation attempt or start
      other navigation attempts.
 
-   &lt;li&gt; &lt;!-- XXXURL change to URL, &quot;fetch&quot;? --&gt;
+   &lt;li&gt;
     &lt;p&gt;If the resource was not fetched from an &lt;a
      href=&quot;#application0&quot;&gt;application cache&lt;/a&gt;, and was to be fetched using
-     HTTP GET or equivalent, and its URI &lt;a href=&quot;#matches&quot;
+     HTTP GET or equivalent, and its URL &lt;a href=&quot;#matches&quot;
      title=concept-appcache-matches-oppcache&gt;matches the opportunistic
      caching namespace&lt;/a&gt; of one or more application caches, and the user
      didn't cancel the navigation attempt during the previous step, then:&lt;/p&gt;
@@ -34336,13 +34336,13 @@
        title=concept-appcache-foreign&gt;foreign&lt;/a&gt;, then the user agent must
        discard the failed load and instead continue along these steps using
        &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; as the resource.&lt;/p&gt;
-      &lt;!-- XXXURL change to URL --&gt;
+
       &lt;p&gt;For the purposes of session history (and features that depend on
-       session history, e.g. bookmarking) the user agent must use the URI of
+       session history, e.g. bookmarking) the user agent must use the URL of
        the resource that was requested (the one that matched the
        opportunistic caching namespace), not the fallback resource. However,
        the user agent may indicate to the user that the original page load
-       failed, that the page used was a fallback resource, and what the URI
+       failed, that the page used was a fallback resource, and what the URL
        of the fallback resource actually is.&lt;/p&gt;
 
      &lt;dt&gt;Otherwise
@@ -34560,26 +34560,26 @@
    that must be used when determining the character encoding according to the
    rules given in the above specifications. Once the character encoding is
    established, the &lt;a href=&quot;#character1&quot;&gt;document's character encoding&lt;/a&gt;
-   must be set to that character encoding.&lt;/p&gt;
-  &lt;!-- XXXURL change to URL, (algorithms?) --&gt;
+   must be set to that character encoding.
 
   &lt;p&gt;If the root element, as parsed according to the XML specifications cited
    above, is found to be an &lt;code&gt;&lt;a href=&quot;#html&quot;&gt;html&lt;/a&gt;&lt;/code&gt; element
    with an attribute &lt;code title=attr-html-manifest&gt;&lt;a
    href=&quot;#manifest&quot;&gt;manifest&lt;/a&gt;&lt;/code&gt;, then, as soon as the element is
-   inserted into the DOM, the user agent must run the &lt;a href=&quot;#application2&quot;
+   inserted into the DOM, the user agent must &lt;a href=&quot;#resolve&quot;
+   title=&quot;resolve a url&quot;&gt;resolve&lt;/a&gt; the value of that attribute, and if that
+   is successful, must run the &lt;a href=&quot;#application2&quot;
    title=concept-appcache-init-with-attribute&gt;application cache selection
-   algorithm&lt;/a&gt; with the value of that attribute, resolved relative to the
-   &lt;span&gt;element's base URI&lt;/span&gt;, as the manifest URI. Otherwise, as soon
-   as the root element is inserted into the DOM, the user agent must run the
-   &lt;a href=&quot;#application3&quot;
+   algorithm&lt;/a&gt; with the resulting &lt;a href=&quot;#absolute&quot;&gt;absolute URL&lt;/a&gt; as
+   the manifest URL. Otherwise, if the attribute is absent or resolving it
+   fails, then as soon as the root element is inserted into the DOM, the user
+   agent must run the &lt;a href=&quot;#application3&quot;
    title=concept-appcache-init-no-attribute&gt;application cache selection
-   algorithm&lt;/a&gt; with no manifest.&lt;/p&gt;
-  &lt;!-- XXXURL change to URL --&gt;
+   algorithm&lt;/a&gt; with no manifest.
 
   &lt;p class=note&gt;Because the processing of the &lt;code
    title=attr-html-manifest&gt;&lt;a href=&quot;#manifest&quot;&gt;manifest&lt;/a&gt;&lt;/code&gt; attribute
-   happens only once the root element is parsed, any URIs referenced by
+   happens only once the root element is parsed, any URLs referenced by
    processing instructions before the root element (such as &lt;code
    title=&quot;&quot;&gt;&lt;?xml-styleesheet?&gt;&lt;/code&gt; and &lt;code
    title=&quot;&quot;&gt;&lt;?xbl?&gt;&lt;/code&gt; PIs) will be fetched from the network and
@@ -34757,12 +34757,12 @@
 
   &lt;h4 id=scroll-to-fragid&gt;&lt;span class=secno&gt;5.9.8 &lt;/span&gt;&lt;dfn id=navigating0
    title=navigate-fragid&gt;Navigating to a fragment identifier&lt;/dfn&gt;&lt;/h4&gt;
-  &lt;!-- XXXURL change to URL; XXXDOCURL? --&gt;
 
   &lt;p&gt;When a user agent is supposed to navigate to a fragment identifier, then
    the user agent must &lt;a href=&quot;#update2&quot;&gt;update the session history with the
    new page&lt;/a&gt;, where &quot;the new page&quot; has the same &lt;code&gt;Document&lt;/code&gt; as
-   before but with the URI having the newly specified fragment identifier.
+   before but with the URL having the newly specified fragment identifier.&lt;/p&gt;
+  &lt;!-- XXXDOCURL ? --&gt;
 
   &lt;p&gt;Part of that algorithm involves the user agent having to &lt;a
    href=&quot;#scroll&quot;&gt;scroll to the fragment identifier&lt;/a&gt;, which is the
@@ -34785,14 +34785,15 @@
    following processing model must be followed to determine what &lt;a
    href=&quot;#the-indicated&quot;&gt;the indicated part of the document&lt;/a&gt; is.
 
-  &lt;ol&gt;&lt;!-- XXXURL algorithms --&gt;
-
+  &lt;ol&gt;
    &lt;li&gt;
-    &lt;p&gt;Let &lt;i&gt;fragid&lt;/i&gt; be the &lt;fragment&gt; part of the URI. &lt;a
-     href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;
+    &lt;p&gt;&lt;a href=&quot;#parse0&quot; title=&quot;parse a url&quot;&gt;Parse&lt;/a&gt; the &lt;a
+     href=&quot;#url&quot;&gt;URL&lt;/a&gt;, and let &lt;i&gt;fragid&lt;/i&gt; be the &lt;a
+     href=&quot;#ltfragmentgt&quot; title=url-fragment&gt;&lt;fragment&gt;&lt;/a&gt; component
+     of the URL.
    &lt;/li&gt;
-   &lt;!-- IRI,
-   ifragment? XXXURL (refer to parsing defined in this spec) --&gt;
+   &lt;!-- parsing can't fail, since we checked earlier on
+   when navigating --&gt;
 
    &lt;li&gt;
     &lt;p&gt;If &lt;i&gt;fragid&lt;/i&gt; is the empty string, then the indicated part of the
@@ -34928,16 +34929,14 @@
     &lt;p&gt;If the &lt;i&gt;specified entry&lt;/i&gt; is a state object or the first entry for
      a &lt;code&gt;Document&lt;/code&gt;, the user agent must &lt;a href=&quot;#activating0&quot;
      title=&quot;activate the state object&quot;&gt;activate that entry&lt;/a&gt;.
-   &lt;/li&gt;
-   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
-    &lt;p&gt;If the &lt;i&gt;specified entry&lt;/i&gt; has a URI that differs from the &lt;a
+    &lt;p&gt;If the &lt;i&gt;specified entry&lt;/i&gt; has a URL that differs from the &lt;a
      href=&quot;#current1&quot;&gt;current entry&lt;/a&gt;'s only by its fragment identifier,
      and the two share the same &lt;code&gt;Document&lt;/code&gt; object, then &lt;a
      href=&quot;#firing2&quot;&gt;fire a simple event&lt;/a&gt; with the name
      &lt;code&gt;hashchanged&lt;/code&gt; at &lt;a href=&quot;#the-body1&quot;&gt;the &lt;code&gt;body&lt;/code&gt;
-     element&lt;/a&gt;, and, if the new URI has a fragment identifier, &lt;a
+     element&lt;/a&gt;, and, if the new URL has a fragment identifier, &lt;a
      href=&quot;#scroll&quot;&gt;scroll to the fragment identifier&lt;/a&gt;.
 
    &lt;li&gt;
@@ -36049,12 +36048,11 @@
    this information to the third party along with any identifying information
    (names, credit card numbers, addresses) obtained by the site. If a third
    party cooperates with multiple sites to obtain such information, a profile
-   can still be created.&lt;/p&gt;
-  &lt;!-- XXXURL change to URL --&gt;
+   can still be created.
 
   &lt;p&gt;However, user tracking is to some extent possible even with no
    cooperation from the user agent whatsoever, for instance by using session
-   identifiers in URIs, a technique already commonly used for innocuous
+   identifiers in URLs, a technique already commonly used for innocuous
    purposes but easily repurposed for user tracking (even retroactively).
    This information can then be shared with other sites, using using
    visitors' IP addresses and other user-specific data (e.g. user-agent
@@ -36137,7 +36135,8 @@
    title=&quot;&quot;&gt;?&lt;/code&gt; placeholder feature of the &lt;code
    title=dom-sqltransaction-executeSql&gt;&lt;a
    href=&quot;#executesql&quot;&gt;executeSql()&lt;/a&gt;&lt;/code&gt; method, and to never construct
-   SQL statements on the fly.
+   SQL statements on the fly.&lt;/p&gt;
+  &lt;!-- XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXURL \(url\|uri\|iri\) --&gt;
 
   &lt;h3 id=links&gt;&lt;span class=secno&gt;5.11 &lt;/span&gt;Links&lt;/h3&gt;
 

Modified: source
===================================================================
--- source	2008-06-27 02:08:48 UTC (rev 1813)
+++ source	2008-06-27 04:16:35 UTC (rev 1814)
@@ -30327,7 +30327,7 @@
       labeled &quot;start of line&quot;.&lt;/p&gt; &lt;!-- SECURITY --&gt;
 
       &lt;p&gt;If the resulting &lt;span&gt;absolute URL&lt;/span&gt; for &lt;var
-      title=&quot;&quot;&gt;part two&lt;/span&gt; has a different &lt;span
+      title=&quot;&quot;&gt;part two&lt;/var&gt; has a different &lt;span
       title=&quot;url-scheme&quot;&gt;&lt;scheme&gt;&lt;/span&gt; component than the
       manifest's URL (compared case-insensitively&lt;!-- XXX ASCII --&gt;),
       then jump back to the step labeled &quot;start of line&quot;.&lt;/p&gt;
@@ -31138,16 +31138,16 @@
   title=&quot;dom-appcache-length&quot;&gt;length&lt;/code&gt;-1&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;dom-appcache-item&quot;&gt;&lt;code&gt;item(&lt;var
-  title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the absolute
-  URL&lt;/span&gt; of the &lt;span title=&quot;concept-appcache-dynamic&quot;&gt;dynamic
-  entry&lt;/span&gt; with index &lt;var title=&quot;&quot;&gt;index&lt;/var&gt; from the
-  &lt;span&gt;application cache&lt;/span&gt;, if one is associated with the
-  &lt;code&gt;ApplicationCache&lt;/code&gt; object. If the object is not
-  associated with any application cache, or if the &lt;var
-  title=&quot;&quot;&gt;index&lt;/var&gt; argument is lower than zero or greater than
-  &lt;span&gt;&lt;code title=&quot;dom-appcache-length&quot;&gt;length&lt;/code&gt;-1&lt;/span&gt;, the
-  method must instead raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt;
-  exception.&lt;/p&gt;
+  title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the
+  &lt;span&gt;absolute URL&lt;/span&gt; of the &lt;span
+  title=&quot;concept-appcache-dynamic&quot;&gt;dynamic entry&lt;/span&gt; with index
+  &lt;var title=&quot;&quot;&gt;index&lt;/var&gt; from the &lt;span&gt;application cache&lt;/span&gt;,
+  if one is associated with the &lt;code&gt;ApplicationCache&lt;/code&gt;
+  object. If the object is not associated with any application cache,
+  or if the &lt;var title=&quot;&quot;&gt;index&lt;/var&gt; argument is lower than zero or
+  greater than &lt;span&gt;&lt;code
+  title=&quot;dom-appcache-length&quot;&gt;length&lt;/code&gt;-1&lt;/span&gt;, the method must
+  instead raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exception.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;dom-appcache-add&quot;&gt;&lt;code&gt;add(&lt;var
   title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
@@ -31860,8 +31860,8 @@
   action, or that are invoked in rapid succession.&lt;/p&gt;
 
 
-  &lt;!-- XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXURL \(url\|uri\|iri\) --&gt;
 
+
   &lt;h3&gt;Browsing the Web&lt;/h3&gt;
 
   &lt;h4&gt;Navigating across documents&lt;/h4&gt;
@@ -31945,14 +31945,13 @@
 
    &lt;li&gt;
 
-    &lt;!-- XXXURL change to URL --&gt;
     &lt;p&gt;If the new resource is to be fetched using HTTP GET or
     equivalent, and if the browsing context being navigated is a
     &lt;span&gt;top-level browsing context&lt;/span&gt;, then check if there are
     any &lt;span title=&quot;application cache&quot;&gt;application caches&lt;/span&gt; that
     have a &lt;span title=&quot;concept-appcache-manifest&quot;&gt;manifest&lt;/span&gt;
-    with the &lt;span&gt;same origin&lt;/span&gt; as the URI in question, and that
-    have this URI as one of their entries (excluding entries marked as
+    with the &lt;span&gt;same origin&lt;/span&gt; as the URL in question, and that
+    have this URL as one of their entries (excluding entries marked as
     &lt;span title=&quot;concept-appcache-foreign&quot;&gt;foreign&lt;/span&gt;), and that
     already contain their manifest, categorized as a &lt;span
     title=&quot;concept-appcache-manifest&quot;&gt;manifest&lt;/span&gt;. If so, then the
@@ -31960,12 +31959,11 @@
     title=&quot;concept-appcache-selection&quot;&gt;most appropriate application
     cache&lt;/span&gt; of those that match.&lt;/p&gt;
 
-    &lt;!-- XXXURL JSURI issue --&gt;
     &lt;p&gt;Otherwise, start fetching&lt;!-- XXX xref --&gt; the new resource in
     the appropriate manner (e.g. performing an HTTP GET or POST
     operation, or reading the file from disk, or executing script in
     the case of a &lt;span title=&quot;javascript protocol&quot;&gt;&lt;code
-    title=&quot;&quot;&gt;javascript:&lt;/code&gt; URI&lt;/span&gt;). If this results in a
+    title=&quot;&quot;&gt;javascript:&lt;/code&gt; URL&lt;/span&gt;). If this results in a
     redirect, return to &lt;a href=&quot;navigate-fragid-step&quot;&gt;the step
     labeled &quot;fragment identifiers&quot;&lt;/a&gt; with the new resource.&lt;/p&gt;
 
@@ -31990,10 +31988,9 @@
 
    &lt;li&gt;
 
-    &lt;!-- XXXURL change to URL, &quot;fetch&quot;? --&gt;
     &lt;p&gt;If the resource was not fetched from an &lt;span&gt;application
     cache&lt;/span&gt;, and was to be fetched using HTTP GET or equivalent,
-    and its URI &lt;span
+    and its URL &lt;span
     title=&quot;concept-appcache-matches-oppcache&quot;&gt;matches the
     opportunistic caching namespace&lt;/span&gt; of one or more application
     caches, and the user didn't cancel the navigation attempt during
@@ -32022,14 +32019,13 @@
       these steps using &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; as the
       resource.&lt;/p&gt;
 
-      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;For the purposes of session history (and features that depend
       on session history, e.g. bookmarking) the user agent must use
-      the URI of the resource that was requested (the one that matched
+      the URL of the resource that was requested (the one that matched
       the opportunistic caching namespace), not the fallback
       resource. However, the user agent may indicate to the user that
       the original page load failed, that the page used was a fallback
-      resource, and what the URI of the fallback resource actually
+      resource, and what the URL of the fallback resource actually
       is.&lt;/p&gt;
 
      &lt;/dd&gt;
@@ -32264,24 +32260,24 @@
   &lt;span&gt;document's character encoding&lt;/span&gt; must be set to that
   character encoding.&lt;/p&gt;
 
-  &lt;!-- XXXURL change to URL, (algorithms?) --&gt;
   &lt;p&gt;If the root element, as parsed according to the XML
   specifications cited above, is found to be an &lt;code&gt;html&lt;/code&gt;
   element with an attribute &lt;code
   title=&quot;attr-html-manifest&quot;&gt;manifest&lt;/code&gt;, then, as soon as the
-  element is inserted into the DOM, the user agent must run the &lt;span
+  element is inserted into the DOM, the user agent must &lt;span
+  title=&quot;resolve a url&quot;&gt;resolve&lt;/span&gt; the value of that attribute,
+  and if that is successful, must run the &lt;span
   title=&quot;concept-appcache-init-with-attribute&quot;&gt;application cache
-  selection algorithm&lt;/span&gt; with the value of that attribute,
-  resolved relative to the &lt;span&gt;element's base URI&lt;/span&gt;, as the
-  manifest URI. Otherwise, as soon as the root element is inserted
-  into the DOM, the user agent must run the &lt;span
+  selection algorithm&lt;/span&gt; with the resulting &lt;span&gt;absolute
+  URL&lt;/span&gt; as the manifest URL. Otherwise, if the attribute is
+  absent or resolving it fails, then as soon as the root element is
+  inserted into the DOM, the user agent must run the &lt;span
   title=&quot;concept-appcache-init-no-attribute&quot;&gt;application cache
   selection algorithm&lt;/span&gt; with no manifest.&lt;/p&gt;
 
-  &lt;!-- XXXURL change to URL --&gt;
   &lt;p class=&quot;note&quot;&gt;Because the processing of the &lt;code
   title=&quot;attr-html-manifest&quot;&gt;manifest&lt;/code&gt; attribute happens
-  only once the root element is parsed, any URIs referenced by
+  only once the root element is parsed, any URLs referenced by
   processing instructions before the root element (such as &lt;code
   title=&quot;&quot;&gt;&lt;?xml-styleesheet?&gt;&lt;/code&gt; and &lt;code
   title=&quot;&quot;&gt;&lt;?xbl?&gt;&lt;/code&gt; PIs) will be fetched from the network and
@@ -32456,12 +32452,11 @@
 
   &lt;h4 id=&quot;scroll-to-fragid&quot;&gt;&lt;dfn title=&quot;navigate-fragid&quot;&gt;Navigating to a fragment identifier&lt;/dfn&gt;&lt;/h4&gt;
 
-  &lt;!-- XXXURL change to URL; XXXDOCURL? --&gt;
   &lt;p&gt;When a user agent is supposed to navigate to a fragment
   identifier, then the user agent must &lt;span&gt;update the session
   history with the new page&lt;/span&gt;, where &quot;the new page&quot; has the same
-  &lt;code&gt;Document&lt;/code&gt; as before but with the URI having the newly
-  specified fragment identifier.&lt;/p&gt;
+  &lt;code&gt;Document&lt;/code&gt; as before but with the URL having the newly
+  specified fragment identifier.&lt;/p&gt;&lt;!-- XXXDOCURL ? --&gt;
 
   &lt;p&gt;Part of that algorithm involves the user agent having to
   &lt;span&gt;scroll to the fragment identifier&lt;/span&gt;, which is the
@@ -32487,10 +32482,11 @@
 
   &lt;ol&gt;
 
-   &lt;!-- XXXURL algorithms --&gt;
-   &lt;li&gt;&lt;p&gt;Let &lt;i&gt;fragid&lt;/i&gt; be the &lt;fragment&gt; part of the
-   URI. &lt;a href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt; &lt;!-- IRI,
-   ifragment? XXXURL (refer to parsing defined in this spec) --&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span title=&quot;parse a url&quot;&gt;Parse&lt;/span&gt; the &lt;span&gt;URL&lt;/span&gt;,
+   and let &lt;i&gt;fragid&lt;/i&gt; be the &lt;span
+   title=&quot;url-fragment&quot;&gt;&lt;fragment&gt;&lt;/span&gt; component of the
+   URL.&lt;/p&gt;&lt;/li&gt;&lt;!-- parsing can't fail, since we checked earlier on
+   when navigating --&gt;
 
    &lt;li&gt;&lt;p&gt;If &lt;i&gt;fragid&lt;/i&gt; is the empty string, then the indicated
    part of the document is the top of the document.&lt;/p&gt;&lt;/li&gt;
@@ -32638,13 +32634,12 @@
    title=&quot;activate the state object&quot;&gt;activate that
    entry&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;!-- XXXURL change to URL --&gt;
-   &lt;li&gt;&lt;p&gt;If the &lt;i&gt;specified entry&lt;/i&gt; has a URI that differs
+   &lt;li&gt;&lt;p&gt;If the &lt;i&gt;specified entry&lt;/i&gt; has a URL that differs
    from the &lt;span&gt;current entry&lt;/span&gt;'s only by its fragment
    identifier, and the two share the same &lt;code&gt;Document&lt;/code&gt;
    object, then &lt;span&gt;fire a simple event&lt;/span&gt; with the name
    &lt;code&gt;hashchanged&lt;/code&gt; at &lt;span&gt;the &lt;code&gt;body&lt;/code&gt;
-   element&lt;/span&gt;, and, if the new URI has a fragment identifier,
+   element&lt;/span&gt;, and, if the new URL has a fragment identifier,
    &lt;span&gt;scroll to the fragment identifier&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;User agents may also update other aspects of the document
@@ -33775,10 +33770,9 @@
   sites to obtain such information, a profile can still be
   created.&lt;/p&gt;
 
-  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;However, user tracking is to some extent possible even with no
   cooperation from the user agent whatsoever, for instance by using
-  session identifiers in URIs, a technique already commonly used for
+  session identifiers in URLs, a technique already commonly used for
   innocuous purposes but easily repurposed for user tracking (even
   retroactively). This information can then be shared with other
   sites, using using visitors' IP addresses and other user-specific
@@ -33873,6 +33867,8 @@
 
 
 
+  &lt;!-- XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXURL \(url\|uri\|iri\) --&gt;
+
   &lt;h3 id=&quot;links&quot;&gt;Links&lt;/h3&gt;
 
 


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008711.html">[html5] r1813 - [] (0) URLify Location.
</A></li>
	<LI>Next message: <A HREF="008713.html">[html5] r1815 - [] (0) Urlification of the 'links' section.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8712">[ date ]</a>
              <a href="thread.html#8712">[ thread ]</a>
              <a href="subject.html#8712">[ subject ]</a>
              <a href="author.html#8712">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
