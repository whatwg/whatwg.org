<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2211 - [] (0) WF2: input.value is going to be generic and	use a type-specific algorithm [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2211%20-%20%5B%5D%20%280%29%20WF2%3A%20input.value%20is%20going%20to%20be%20generic%20and%0A%09use%20a%20type-specific%20algorithm%20%5B...%5D&In-Reply-To=%3C20080918002128.9DCC438ED2A%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009096.html">
   <LINK REL="Next"  HREF="009098.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2211 - [] (0) WF2: input.value is going to be generic and	use a type-specific algorithm [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2211%20-%20%5B%5D%20%280%29%20WF2%3A%20input.value%20is%20going%20to%20be%20generic%20and%0A%09use%20a%20type-specific%20algorithm%20%5B...%5D&In-Reply-To=%3C20080918002128.9DCC438ED2A%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2211 - [] (0) WF2: input.value is going to be generic and	use a type-specific algorithm [...]">whatwg at whatwg.org
       </A><BR>
    <I>Wed Sep 17 17:21:28 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009096.html">[html5] r2210 - [] (0) WF2: Reorder the types to make more sense
</A></li>
        <LI>Next message: <A HREF="009098.html">[html5] r2212 - [] (0) WF2: Define input.valueAsDate and	input.valueAsNumber for the cases where [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9097">[ date ]</a>
              <a href="thread.html#9097">[ thread ]</a>
              <a href="subject.html#9097">[ subject ]</a>
              <a href="author.html#9097">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-09-17 17:21:27 -0700 (Wed, 17 Sep 2008)
New Revision: 2211

Modified:
   index
   source
Log:
[] (0) WF2: input.value is going to be generic and use a type-specific algorithm instead of being type-specific like the others. Also, fiddle with the way we define and use the dirty flag.

Modified: index
===================================================================
--- index	2008-09-18 00:13:17 UTC (rev 2210)
+++ index	2008-09-18 00:21:27 UTC (rev 2211)
@@ -27416,8 +27416,7 @@
    href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element depends on the state of its &lt;code
    title=attr-input-type&gt;&lt;a href=&quot;#type12&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute.
    Similarly, the &lt;code title=dom-input-checked&gt;&lt;a
-   href=&quot;#checked1&quot;&gt;checked&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-input-value&gt;&lt;a
-   href=&quot;#value8&quot;&gt;value&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-input-valueAsDate&gt;&lt;a
+   href=&quot;#checked1&quot;&gt;checked&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-input-valueAsDate&gt;&lt;a
    href=&quot;#valueasdate&quot;&gt;valueAsDate&lt;/a&gt;&lt;/code&gt;, &lt;code
    title=dom-input-valueAsNumber&gt;&lt;a
    href=&quot;#valueasnumber&quot;&gt;valueAsNumber&lt;/a&gt;&lt;/code&gt;, &lt;code
@@ -28341,47 +28340,6 @@
      &lt;td class=no&gt; &middot; &lt;!-- Button --&gt;
 
     &lt;tr&gt;
-     &lt;th&gt; &lt;code title=dom-input-value&gt;&lt;a href=&quot;#value8&quot;&gt;value&lt;/a&gt;&lt;/code&gt;
-
-     &lt;td class=yes&gt; Yes &lt;!-- Text, Password --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- E-mail --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- URL --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- Date and Time --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- Local Date and Time --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- Date --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- Month --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- Week --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- Time --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- Number --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- Range --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- Checkbox --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- Radio Button --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- File --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- Hidden --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- Submit Button --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- Image Button --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- Reset Button --&gt;
-
-     &lt;td class=no&gt; &middot; &lt;!-- Button --&gt;
-
-    &lt;tr&gt;
      &lt;th&gt; &lt;code title=dom-input-valueAsDate&gt;&lt;a
       href=&quot;#valueasdate&quot;&gt;valueAsDate&lt;/a&gt;&lt;/code&gt;
 
@@ -28641,7 +28599,9 @@
    state must be invoked.
 
   &lt;p&gt;Each &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element has a &lt;a
-   href=&quot;#value10&quot; title=concept-fe-value&gt;value&lt;/a&gt;.
+   href=&quot;#value10&quot; title=concept-fe-value&gt;value&lt;/a&gt;, which is exposed by the
+   &lt;code title=dom-input-value&gt;&lt;a href=&quot;#value8&quot;&gt;value&lt;/a&gt;&lt;/code&gt; DOM
+   attribute.
 
   &lt;p&gt;Each &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element has a boolean &lt;dfn
    id=mutability title=concept-input-mutability&gt;mutability flag&lt;/dfn&gt;. When
@@ -28661,11 +28621,17 @@
    title=concept-input-immutable&gt;&lt;a href=&quot;#immutable&quot;&gt;immutable&lt;/a&gt;&lt;/i&gt;.
 
   &lt;p&gt;Each &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element has a boolean &lt;dfn
-   id=dirty&gt;dirty flag&lt;/dfn&gt;, which must be initially set to false when the
-   element is created, and which must be set to true whenever the user
-   interacts with the control in a way that changes the &lt;a href=&quot;#value10&quot;
-   title=concept-fe-value&gt;value&lt;/a&gt;.
+   id=dirty title=concept-input-dirty-flag&gt;dirty flag&lt;/dfn&gt;. When it is true,
+   the element is said to be &lt;dfn id=dirty0
+   title=concept-input-dirty&gt;&lt;i&gt;dirty&lt;/i&gt;&lt;/dfn&gt;.
 
+  &lt;p&gt;The &lt;a href=&quot;#dirty&quot; title=concept-input-dirty-flag&gt;dirty flag&lt;/a&gt; must
+   be initially set to false (not &lt;i title=concept-input-dirty&gt;&lt;a
+   href=&quot;#dirty0&quot;&gt;dirty&lt;/a&gt;&lt;/i&gt;) when the element is created, and must be set
+   to true (&lt;i title=concept-input-dirty&gt;&lt;a href=&quot;#dirty0&quot;&gt;dirty&lt;/a&gt;&lt;/i&gt;)
+   whenever the user interacts with the control in a way that changes the &lt;a
+   href=&quot;#value10&quot; title=concept-fe-value&gt;value&lt;/a&gt;.
+
   &lt;p&gt;The &lt;dfn id=value7 title=attr-input-value&gt;&lt;code&gt;value&lt;/code&gt;&lt;/dfn&gt;
    content attribute gives the default &lt;a href=&quot;#value10&quot;
    title=concept-fe-value&gt;value&lt;/a&gt; of the &lt;code&gt;&lt;a
@@ -28679,9 +28645,11 @@
 
   &lt;p&gt;The &lt;a href=&quot;#reset5&quot; title=concept-form-reset-control&gt;reset
    algorithm&lt;/a&gt; for &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; elements is to
-   set the &lt;a href=&quot;#dirty&quot;&gt;dirty flag&lt;/a&gt; back to false, and then invoke the
-   &lt;a href=&quot;#default2&quot;&gt;default value change algorithm&lt;/a&gt; defined for the
-   &lt;code title=attr-input-type&gt;&lt;a href=&quot;#type12&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute's
+   set the &lt;a href=&quot;#dirty&quot; title=concept-input-dirty-flag&gt;dirty flag&lt;/a&gt;
+   back to false (not &lt;i title=concept-input-dirty&gt;&lt;a
+   href=&quot;#dirty0&quot;&gt;dirty&lt;/a&gt;&lt;/i&gt;), and then invoke the &lt;a
+   href=&quot;#default2&quot;&gt;default value change algorithm&lt;/a&gt; defined for the &lt;code
+   title=attr-input-type&gt;&lt;a href=&quot;#type12&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute's
    current state.
 
   &lt;p&gt;The &lt;code title=attr-fae-form&gt;&lt;a href=&quot;#form0&quot;&gt;form&lt;/a&gt;&lt;/code&gt; attribute
@@ -28761,9 +28729,9 @@
   &lt;p&gt;&lt;strong&gt;The &lt;a href=&quot;#text2&quot; title=attr-input-type-text&gt;Text&lt;/a&gt; state's
    &lt;a href=&quot;#default2&quot;&gt;default value change algorithm&lt;/a&gt; is as
    follows:&lt;/strong&gt; If the &lt;code&gt;&lt;a href=&quot;#input0&quot;&gt;input&lt;/a&gt;&lt;/code&gt; element
-   is not &lt;a href=&quot;#dirty&quot; title=&quot;dirty flag&quot;&gt;dirty&lt;/a&gt; then set the &lt;a
-   href=&quot;#value10&quot; title=concept-fe-value&gt;value&lt;/a&gt; of the element to the
-   value of the &lt;code title=attr-input-value&gt;&lt;a
+   is not &lt;i title=concept-input-dirty&gt;&lt;a href=&quot;#dirty0&quot;&gt;dirty&lt;/a&gt;&lt;/i&gt; then
+   set the &lt;a href=&quot;#value10&quot; title=concept-fe-value&gt;value&lt;/a&gt; of the element
+   to the value of the &lt;code title=attr-input-value&gt;&lt;a
    href=&quot;#value7&quot;&gt;value&lt;/a&gt;&lt;/code&gt; content attribute and &lt;a
    href=&quot;#strip&quot;&gt;strip line breaks from the value&lt;/a&gt;.
 

Modified: source
===================================================================
--- source	2008-09-18 00:13:17 UTC (rev 2210)
+++ source	2008-09-18 00:21:27 UTC (rev 2211)
@@ -24478,7 +24478,6 @@
   &lt;code&gt;input&lt;/code&gt; element depends on the state of its &lt;code
   title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute. Similarly, the &lt;code
   title=&quot;dom-input-checked&quot;&gt;checked&lt;/code&gt;, &lt;code
-  title=&quot;dom-input-value&quot;&gt;value&lt;/code&gt;, &lt;code
   title=&quot;dom-input-valueAsDate&quot;&gt;valueAsDate&lt;/code&gt;, &lt;code
   title=&quot;dom-input-valueAsNumber&quot;&gt;valueAsNumber&lt;/code&gt;, &lt;code
   title=&quot;dom-input-list&quot;&gt;list&lt;/code&gt;, and &lt;code
@@ -24978,28 +24977,6 @@
      &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Button --&gt;
 
     &lt;tr&gt;
-     &lt;th&gt; &lt;code title=&quot;dom-input-value&quot;&gt;value&lt;/code&gt;
-     &lt;td class=&quot;yes&quot;&gt; Yes &lt;!-- Text, Password --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- E-mail --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- URL --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Date and Time --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Local Date and Time --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Date --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Month --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Week --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Time --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Number --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Range --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Checkbox --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Radio Button --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- File --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Hidden --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Submit Button --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Image Button --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Reset Button --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Button --&gt;
-
-    &lt;tr&gt;
      &lt;th&gt; &lt;code title=&quot;dom-input-valueAsDate&quot;&gt;valueAsDate&lt;/code&gt;
      &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Text, Password --&gt;
      &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- E-mail --&gt;
@@ -25142,7 +25119,8 @@
   invoked.&lt;/p&gt;
 
   &lt;p&gt;Each &lt;code&gt;input&lt;/code&gt; element has a &lt;span
-  title=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt;.&lt;/p&gt;
+  title=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt;, which is exposed by the &lt;code
+  title=&quot;dom-input-value&quot;&gt;value&lt;/code&gt; DOM attribute.&lt;/p&gt;
 
   &lt;p&gt;Each &lt;code&gt;input&lt;/code&gt; element has a boolean &lt;dfn
   title=&quot;concept-input-mutability&quot;&gt;mutability flag&lt;/dfn&gt;. When it is
@@ -25162,12 +25140,18 @@
   an &lt;code&gt;input&lt;/code&gt; element &lt;i
   title=&quot;concept-input-immutable&quot;&gt;immutable&lt;/i&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Each &lt;code&gt;input&lt;/code&gt; element has a boolean &lt;dfn&gt;dirty
-  flag&lt;/dfn&gt;, which must be initially set to false when the element is
-  created, and which must be set to true whenever the user interacts
-  with the control in a way that changes the &lt;span
-  title=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;Each &lt;code&gt;input&lt;/code&gt; element has a boolean &lt;dfn
+  title=&quot;concept-input-dirty-flag&quot;&gt;dirty flag&lt;/dfn&gt;. When it is true,
+  the element is said to be &lt;dfn
+  title=&quot;concept-input-dirty&quot;&gt;&lt;i&gt;dirty&lt;/i&gt;&lt;/dfn&gt;.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;span title=&quot;concept-input-dirty-flag&quot;&gt;dirty flag&lt;/span&gt; must
+  be initially set to false (not &lt;i
+  title=&quot;concept-input-dirty&quot;&gt;dirty&lt;/i&gt;) when the element is created,
+  and must be set to true (&lt;i title=&quot;concept-input-dirty&quot;&gt;dirty&lt;/i&gt;)
+  whenever the user interacts with the control in a way that changes
+  the &lt;span title=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt;.&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn title=&quot;attr-input-value&quot;&gt;&lt;code&gt;value&lt;/code&gt;&lt;/dfn&gt;
   content attribute gives the default &lt;span
   title=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; of the &lt;code&gt;input&lt;/code&gt;
@@ -25179,8 +25163,9 @@
   attribute's current state must be invoked.&lt;/p&gt;
 
   &lt;p&gt;The &lt;span title=&quot;concept-form-reset-control&quot;&gt;reset
-  algorithm&lt;/span&gt; for &lt;code&gt;input&lt;/code&gt; elements is to set the
-  &lt;span&gt;dirty flag&lt;/span&gt; back to false, and then invoke the
+  algorithm&lt;/span&gt; for &lt;code&gt;input&lt;/code&gt; elements is to set the &lt;span
+  title=&quot;concept-input-dirty-flag&quot;&gt;dirty flag&lt;/span&gt; back to false
+  (not &lt;i title=&quot;concept-input-dirty&quot;&gt;dirty&lt;/i&gt;), and then invoke the
   &lt;span&gt;default value change algorithm&lt;/span&gt; defined for the &lt;code
   title=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute's current state.&lt;/p&gt;
 
@@ -25255,8 +25240,8 @@
 
   &lt;p&gt;&lt;strong&gt;The &lt;span title=&quot;attr-input-type-text&quot;&gt;Text&lt;/span&gt;
   state's &lt;span&gt;default value change algorithm&lt;/span&gt; is as
-  follows:&lt;/strong&gt; If the &lt;code&gt;input&lt;/code&gt; element is not &lt;span
-  title=&quot;dirty flag&quot;&gt;dirty&lt;/span&gt; then set the &lt;span
+  follows:&lt;/strong&gt; If the &lt;code&gt;input&lt;/code&gt; element is not &lt;i
+  title=&quot;concept-input-dirty&quot;&gt;dirty&lt;/i&gt; then set the &lt;span
   title=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; of the element to the value of
   the &lt;code title=&quot;attr-input-value&quot;&gt;value&lt;/code&gt; content attribute
   and &lt;span&gt;strip line breaks from the value&lt;/span&gt;.&lt;/p&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009096.html">[html5] r2210 - [] (0) WF2: Reorder the types to make more sense
</A></li>
	<LI>Next message: <A HREF="009098.html">[html5] r2212 - [] (0) WF2: Define input.valueAsDate and	input.valueAsNumber for the cases where [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9097">[ date ]</a>
              <a href="thread.html#9097">[ thread ]</a>
              <a href="subject.html#9097">[ subject ]</a>
              <a href="author.html#9097">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
