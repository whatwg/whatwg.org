<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2303 - [e] (0) The term 'insertion mode' lost its	definition at some point...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2303%20-%20%5Be%5D%20%280%29%20The%20term%20%27insertion%20mode%27%20lost%20its%0A%09definition%20at%20some%20point...&In-Reply-To=%3C20081008075612.4124938ED16%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009187.html">
   <LINK REL="Next"  HREF="009189.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2303 - [e] (0) The term 'insertion mode' lost its	definition at some point...</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2303%20-%20%5Be%5D%20%280%29%20The%20term%20%27insertion%20mode%27%20lost%20its%0A%09definition%20at%20some%20point...&In-Reply-To=%3C20081008075612.4124938ED16%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2303 - [e] (0) The term 'insertion mode' lost its	definition at some point...">whatwg at whatwg.org
       </A><BR>
    <I>Wed Oct  8 00:56:12 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009187.html">[html5] r2302 - [ct] (0) WF2: Oops,	&lt;textarea&gt; parsing wasn't fixed when it should have been. Al [...]
</A></li>
        <LI>Next message: <A HREF="009189.html">[html5] r2304 - [] (0) WF2: how to reset a &lt;textarea&gt;.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9188">[ date ]</a>
              <a href="thread.html#9188">[ thread ]</a>
              <a href="subject.html#9188">[ subject ]</a>
              <a href="author.html#9188">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-10-08 00:56:11 -0700 (Wed, 08 Oct 2008)
New Revision: 2303

Modified:
   index
   source
Log:
[e] (0) The term 'insertion mode' lost its definition at some point...

Modified: index
===================================================================
--- index	2008-10-08 07:51:40 UTC (rev 2302)
+++ index	2008-10-08 07:56:11 UTC (rev 2303)
@@ -44557,7 +44557,10 @@
 
   &lt;h5 id=the-insertion-mode&gt;&lt;span class=secno&gt;8.2.3.1 &lt;/span&gt;The insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;Initially the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#the-initial-insertion-mode title=&quot;insertion mode: initial&quot;&gt;initial&lt;/a&gt;&quot;. It can change to
+  &lt;p&gt;The &lt;dfn id=insertion-mode&gt;insertion mode&lt;/dfn&gt; is a flag that controls the primary
+  operation of the tree construction stage.&lt;/p&gt;
+
+  &lt;p&gt;Initially the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#the-initial-insertion-mode title=&quot;insertion mode: initial&quot;&gt;initial&lt;/a&gt;&quot;. It can change to
   &quot;&lt;a href=#the-before-html-insertion-mode title=&quot;insertion mode: before html&quot;&gt;before html&lt;/a&gt;&quot;,
   &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before head&lt;/a&gt;&quot;,
   &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-inheadnoscript title=&quot;insertion mode: in head noscript&quot;&gt;in head noscript&lt;/a&gt;&quot;,
@@ -44588,8 +44591,8 @@
   &quot;&lt;dfn id=using-the-rules-for&gt;using the rules for&lt;/dfn&gt; the &lt;var title=&quot;&quot;&gt;m&lt;/var&gt; insertion
   mode&quot;, where &lt;var title=&quot;&quot;&gt;m&lt;/var&gt; is one of these modes, the user
   agent must use the rules described under the &lt;var title=&quot;&quot;&gt;m&lt;/var&gt;
-  &lt;span&gt;insertion mode&lt;/span&gt;'s section, but must leave the
-  &lt;span&gt;insertion mode&lt;/span&gt; unchanged unless the rules in &lt;var title=&quot;&quot;&gt;m&lt;/var&gt; themselves switch the &lt;span&gt;insertion mode&lt;/span&gt;
+  &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;'s section, but must leave the
+  &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; unchanged unless the rules in &lt;var title=&quot;&quot;&gt;m&lt;/var&gt; themselves switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;
   to a new value.&lt;/p&gt;
 
   &lt;p&gt;When the insertion mode is switched to &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion
@@ -44620,44 +44623,44 @@
    element. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-select-element&gt;select&lt;/a&gt;&lt;/code&gt; element,
-   then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion mode: in select&quot;&gt;in select&lt;/a&gt;&quot; and abort these
+   then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion mode: in select&quot;&gt;in select&lt;/a&gt;&quot; and abort these
    steps. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; or
    &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element and &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; is false, then
-   switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-intd title=&quot;insertion
+   switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intd title=&quot;insertion
    mode: in cell&quot;&gt;in cell&lt;/a&gt;&quot; and abort these steps.&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element, then
-   switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-intr title=&quot;insertion
+   switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intr title=&quot;insertion
    mode: in row&quot;&gt;in row&lt;/a&gt;&quot; and abort these steps.&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;,
    &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt; element, then switch the
-   &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-intbody title=&quot;insertion mode: in
+   &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intbody title=&quot;insertion mode: in
    table body&quot;&gt;in table body&lt;/a&gt;&quot; and abort these steps.&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt; element,
-   then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-incaption title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/a&gt;&quot; and abort
+   then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incaption title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/a&gt;&quot; and abort
    these steps.&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element,
-   then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/a&gt;&quot; and
+   then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/a&gt;&quot; and
    abort these steps. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; element,
-   then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot; and abort these
+   then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot; and abort these
    steps.&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is an element from the &lt;a href=#mathml-namespace&gt;MathML
    namespace&lt;/a&gt;&lt;!--XXXSVG or the &lt;span&gt;SVG namespace&lt;/span&gt;--&gt;,
-   then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-inforeign title=&quot;insertion mode: in foreign content&quot;&gt;in foreign
+   then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inforeign title=&quot;insertion mode: in foreign content&quot;&gt;in foreign
    content&lt;/a&gt;&quot;, let the &lt;a href=#secondary-insertion-mode&gt;secondary insertion mode&lt;/a&gt; be
    &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot;, and abort
    these steps.&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element,
-   then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; (&quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot;! &lt;em&gt; not &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot;&lt;/em&gt;!) and abort
+   then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; (&quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot;! &lt;em&gt; not &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot;&lt;/em&gt;!) and abort
    these steps. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt; &lt;!-- This is only
    here for now in case people think that the spec accidentally
    omitted it and try to &quot;fix&quot; it. Note that noscript-in-head is also
@@ -44673,24 +44676,24 @@
    set?) --&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element,
-   then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; and abort these
+   then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; and abort these
    steps.&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;frameset&lt;/code&gt; element,
-   then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/a&gt;&quot; and abort
+   then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/a&gt;&quot; and abort
    these steps. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is an &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; element,
    then: if the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element
-   pointer&lt;/a&gt; is null, switch the &lt;span&gt;insertion mode&lt;/span&gt; to
+   pointer&lt;/a&gt; is null, switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to
    &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before head&lt;/a&gt;&quot;,
-   otherwise, switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#the-after-head-insertion-mode title=&quot;insertion mode: after head&quot;&gt;after head&lt;/a&gt;&quot;. In either
+   otherwise, switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-after-head-insertion-mode title=&quot;insertion mode: after head&quot;&gt;after head&lt;/a&gt;&quot;. In either
    case, abort these steps. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/li&gt; &lt;!-- XXX
    can the head element pointer ever be non-null when we're going
    through these steps? --&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;last&lt;/var&gt; is true, then switch the
-   &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in
+   &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in
    body&quot;&gt;in body&lt;/a&gt;&quot; and abort these steps. (&lt;a href=#fragment-case&gt;fragment
    case&lt;/a&gt;)&lt;/li&gt;
 
@@ -44708,7 +44711,7 @@
   stack is manipulated in a random access fashion as part of &lt;a href=#adoptionAgency&gt;the handling for misnested tags&lt;/a&gt;).&lt;/p&gt;
 
   &lt;p&gt;The &quot;&lt;a href=#the-before-html-insertion-mode title=&quot;insertion mode: before html&quot;&gt;before
-  html&lt;/a&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt; creates the
+  html&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; creates the
   &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; root element node, which is then added to the
   stack.&lt;/p&gt;
 
@@ -44717,7 +44720,7 @@
   element that is created as part of &lt;a href=#html-fragment-parsing-algorithm title=&quot;html fragment
   parsing algorithm&quot;&gt;that algorithm&lt;/a&gt;. (The &lt;a href=#fragment-case&gt;fragment
   case&lt;/a&gt; skips the &quot;&lt;a href=#the-before-html-insertion-mode title=&quot;insertion mode: before
-  html&quot;&gt;before html&lt;/a&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;.)&lt;/p&gt;
+  html&quot;&gt;before html&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.)&lt;/p&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=#the-html-element&gt;html&lt;/a&gt;&lt;/code&gt; node, however it is created, is the topmost
   node of the stack. It never gets popped off the stack.&lt;/p&gt;
@@ -44976,7 +44979,7 @@
   state. In the RCDATA and CDATA states, a further &lt;dfn id=escape-flag&gt;escape
   flag&lt;/dfn&gt; is used to control the behavior of the tokeniser. It is
   either true or false, and initially must be set to the false
-  state. The &lt;span&gt;insertion mode&lt;/span&gt; and the &lt;a href=#stack-of-open-elements&gt;stack of open
+  state. The &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; and the &lt;a href=#stack-of-open-elements&gt;stack of open
   elements&lt;/a&gt; also affects tokenization.&lt;/p&gt;
 
   &lt;p&gt;The output of the tokenization step is a series of zero or more
@@ -45604,7 +45607,7 @@
   case-insensitive&lt;/a&gt; match for the word &quot;DOCTYPE&quot;, then consume
   those characters and switch to the &lt;a href=#doctype-state&gt;DOCTYPE state&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Otherwise, if the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-inforeign title=&quot;insertion mode: in foreign content&quot;&gt;in foreign
+  &lt;p&gt;Otherwise, if the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-inforeign title=&quot;insertion mode: in foreign content&quot;&gt;in foreign
   content&lt;/a&gt;&quot; and the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not an element
   in the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt; and the next seven characters are
   an &lt;span&gt;ASCII case-sensitive&lt;/span&gt; match for the string &quot;[CDATA[&quot;
@@ -46283,7 +46286,7 @@
 
   &lt;p&gt;As each token is emitted from the tokeniser, the user agent must
   process the token according to the rules given in the section
-  corresponding to the current &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
+  corresponding to the current &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;When the steps below require the UA to &lt;dfn id=insert-a-character&gt;insert a
   character&lt;/dfn&gt; into a node, if that node has a child immediately
@@ -46482,9 +46485,9 @@
    flag&lt;/a&gt; to the RCDATA state.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let the &lt;a href=#original-insertion-mode&gt;original insertion mode&lt;/a&gt; be the current
-   &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
+   &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;Then, switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion mode: in CDATA/RCDATA&quot;&gt;in
+   &lt;li&gt;&lt;p&gt;Then, switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion mode: in CDATA/RCDATA&quot;&gt;in
    CDATA/RCDATA&lt;/a&gt;&quot;.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;h5 id=closing-elements-that-have-implied-end-tags&gt;&lt;span class=secno&gt;8.2.5.2 &lt;/span&gt;Closing elements that have implied end tags&lt;/h5&gt;
@@ -46543,7 +46546,7 @@
 
   &lt;h5 id=the-initial-insertion-mode&gt;&lt;span class=secno&gt;8.2.5.4 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: initial&quot;&gt;initial&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#the-initial-insertion-mode title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#the-initial-insertion-mode title=&quot;insertion
   mode: initial&quot;&gt;initial&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A character token that is one of one of U+0009 CHARACTER
@@ -46682,7 +46685,7 @@
     whose value is the empty string is not considered missing for the
     purposes of the conditions above.&lt;/p&gt;
 
-    &lt;p&gt;Then, switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#the-before-html-insertion-mode title=&quot;insertion mode: before html&quot;&gt;before html&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Then, switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-before-html-insertion-mode title=&quot;insertion mode: before html&quot;&gt;before html&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -46693,14 +46696,14 @@
 
     &lt;p&gt;Set the document to &lt;a href=#quirks-mode&gt;quirks mode&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#the-before-html-insertion-mode title=&quot;insertion mode: before html&quot;&gt;before html&lt;/a&gt;&quot;, then
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-before-html-insertion-mode title=&quot;insertion mode: before html&quot;&gt;before html&lt;/a&gt;&quot;, then
     reprocess the current token.&lt;/p&gt;
 
    &lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=the-before-html-insertion-mode&gt;&lt;span class=secno&gt;8.2.5.5 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: before html&quot;&gt;before html&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#the-before-html-insertion-mode title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#the-before-html-insertion-mode title=&quot;insertion
   mode: before html&quot;&gt;before html&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
@@ -46739,7 +46742,7 @@
     it fails, run the &lt;a href=#concept-appcache-init-no-attribute title=concept-appcache-init-no-attribute&gt;application cache
     selection algorithm&lt;/a&gt; with no manifest.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before head&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before head&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -46754,7 +46757,7 @@
     &lt;p&gt;Run the &lt;a href=#concept-appcache-init-no-attribute title=concept-appcache-init-no-attribute&gt;application cache
     selection algorithm&lt;/a&gt; with no manifest.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before head&lt;/a&gt;&quot;, then
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion mode: before head&quot;&gt;before head&lt;/a&gt;&quot;, then
     reprocess the current token.&lt;/p&gt;
 
     &lt;p class=XXX&gt;Should probably make end tags be ignored, so
@@ -46771,7 +46774,7 @@
 
   &lt;h5 id=the-before-head-insertion-mode&gt;&lt;span class=secno&gt;8.2.5.6 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: before head&quot;&gt;before head&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#the-before-head-insertion-mode title=&quot;insertion
   mode: before head&quot;&gt;before head&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A character token that is one of one of U+0009 CHARACTER
@@ -46795,8 +46798,8 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;head&quot;&lt;/dt&gt;
@@ -46807,7 +46810,7 @@
     &lt;p&gt;Set the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt;
     to the newly created &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -46836,13 +46839,13 @@
     &lt;p class=note&gt;This will result in an empty &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt;
     element being generated, with the current token being
     reprocessed in the &quot;&lt;a href=#the-after-head-insertion-mode title=&quot;insertion mode: after
-    head&quot;&gt;after head&lt;/a&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
+    head&quot;&gt;after head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=parsing-main-inhead&gt;&lt;span class=secno&gt;8.2.5.7 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in head&quot;&gt;in head&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion
   mode: in head&quot;&gt;in head&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A character token that is one of one of U+0009 CHARACTER
@@ -46867,8 +46870,8 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;command&quot;,
@@ -46925,7 +46928,7 @@
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-inheadnoscript title=&quot;insertion mode: in head noscript&quot;&gt;in head
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inheadnoscript title=&quot;insertion mode: in head noscript&quot;&gt;in head
     noscript&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -46960,9 +46963,9 @@
      the CDATA state.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Let the &lt;a href=#original-insertion-mode&gt;original insertion mode&lt;/a&gt; be the current
-     &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
+     &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion mode: in CDATA/RCDATA&quot;&gt;in
+     &lt;li&gt;&lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion mode: in CDATA/RCDATA&quot;&gt;in
      CDATA/RCDATA&lt;/a&gt;&quot;.&lt;/li&gt;
 
     &lt;/ol&gt;&lt;/dd&gt;
@@ -46974,7 +46977,7 @@
     &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element) off the &lt;a href=#stack-of-open-elements&gt;stack of open
     elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#the-after-head-insertion-mode title=&quot;insertion mode: after head&quot;&gt;after head&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-after-head-insertion-mode title=&quot;insertion mode: after head&quot;&gt;after head&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -47006,7 +47009,7 @@
 
   &lt;/dl&gt;&lt;h5 id=parsing-main-inheadnoscript&gt;&lt;span class=secno&gt;8.2.5.8 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in head noscript&quot;&gt;in head noscript&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-inheadnoscript title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-inheadnoscript title=&quot;insertion
   mode: in head noscript&quot;&gt;in head noscript&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
@@ -47016,8 +47019,8 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;An end tag whose tag name is &quot;noscript&quot;&lt;/dt&gt;
@@ -47028,7 +47031,7 @@
     elements&lt;/a&gt;; the new &lt;a href=#current-node&gt;current node&lt;/a&gt; will be a
     &lt;code&gt;&lt;a href=#the-head-element&gt;head&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -47038,8 +47041,8 @@
    &lt;dt&gt;A comment token&lt;/dt&gt;
    &lt;dt&gt;A start tag whose tag name is one of: &quot;link&quot;, &quot;meta&quot;, &quot;noframes&quot;, &quot;style&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;An end tag whose tag name is one of: &quot;br&quot;&lt;/dt&gt;
@@ -47066,7 +47069,7 @@
 
   &lt;/dl&gt;&lt;h5 id=the-after-head-insertion-mode&gt;&lt;span class=secno&gt;8.2.5.9 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after head&quot;&gt;after head&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#the-after-head-insertion-mode title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#the-after-head-insertion-mode title=&quot;insertion
   mode: after head&quot;&gt;after head&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A character token that is one of one of U+0009 CHARACTER
@@ -47091,8 +47094,8 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;body&quot;&lt;/dt&gt;
@@ -47100,7 +47103,7 @@
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -47109,7 +47112,7 @@
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -47122,8 +47125,8 @@
     &lt;p&gt;Push the node pointed to by the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/a&gt; onto the
     &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; (which will be the node
     pointed to by the &lt;a href=#head-element-pointer&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element
@@ -47147,7 +47150,7 @@
 
   &lt;/dl&gt;&lt;h5 id=parsing-main-inbody&gt;&lt;span class=secno&gt;8.2.5.10 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in body&quot;&gt;in body&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion
   mode: in body&quot;&gt;in body&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A character token&lt;/dt&gt;
@@ -47185,8 +47188,8 @@
    &quot;eventsource&quot;, &quot;link&quot;, &quot;meta&quot;, &quot;noframes&quot;, &quot;script&quot;, &quot;style&quot;,
    &quot;title&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;body&quot;&lt;/dt&gt;
@@ -47243,7 +47246,7 @@
 
     &lt;!-- the insertion mode here is forcibly &quot;in body&quot;. --&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after body&quot;&gt;after body&lt;/a&gt;&quot;. Otherwise,
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion mode: after body&quot;&gt;after body&lt;/a&gt;&quot;. Otherwise,
     ignore the token.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -47912,7 +47915,7 @@
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -48113,9 +48116,9 @@
      the RCDATA state.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Let the &lt;a href=#original-insertion-mode&gt;original insertion mode&lt;/a&gt; be the
-     current &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
+     current &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion mode: in CDATA/RCDATA&quot;&gt;in
+     &lt;li&gt;&lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion mode: in CDATA/RCDATA&quot;&gt;in
      CDATA/RCDATA&lt;/a&gt;&quot;.&lt;/li&gt;
 
     &lt;/ol&gt;&lt;/dd&gt;
@@ -48140,13 +48143,13 @@
     pointed to by the &lt;a href=#form-element-pointer&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element
     pointer&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If the &lt;span&gt;insertion mode&lt;/span&gt; is one of &lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-incaption title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/a&gt;&quot;,
+    &lt;p&gt;If the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is one of &lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-incaption title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/a&gt;&quot;,
     &quot;&lt;a href=#parsing-main-intbody title=&quot;insertion mode: in table body&quot;&gt;in table
     body&lt;/a&gt;&quot;, &quot;&lt;a href=#parsing-main-intr title=&quot;insertion mode: in row&quot;&gt;in
     row&lt;/a&gt;&quot;, or &quot;&lt;a href=#parsing-main-intd title=&quot;insertion mode: in cell&quot;&gt;in
-    cell&lt;/a&gt;&quot;, then switch the &lt;span&gt;insertion mode&lt;/span&gt; to
+    cell&lt;/a&gt;&quot;, then switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to
     &quot;&lt;a href=#parsing-main-inselectintable title=&quot;insertion mode: in select in table&quot;&gt;in select in
-    table&lt;/a&gt;&quot;. Otherwise, switch the &lt;span&gt;insertion mode&lt;/span&gt;
+    table&lt;/a&gt;&quot;. Otherwise, switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;
     to &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion mode: in select&quot;&gt;in select&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -48228,8 +48231,8 @@
     flag&quot;&gt;acknowledge the token's &lt;i&gt;self-closing flag&lt;/i&gt;&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, let the &lt;a href=#secondary-insertion-mode&gt;secondary insertion mode&lt;/a&gt; be the
-    current &lt;span&gt;insertion mode&lt;/span&gt;, and then switch the
-    &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-inforeign title=&quot;insertion mode: in
+    current &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, and then switch the
+    &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inforeign title=&quot;insertion mode: in
     foreign content&quot;&gt;in foreign content&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -48332,7 +48335,7 @@
 
   &lt;/dl&gt;&lt;h5 id=parsing-main-incdata&gt;&lt;span class=secno&gt;8.2.5.11 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in CDATA/RCDATA&quot;&gt;in CDATA/RCDATA&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-incdata title=&quot;insertion
   mode: in CDATA/RCDATA&quot;&gt;in CDATA/RCDATA&lt;/a&gt;&quot;, tokens must be
   handled as follows:&lt;/p&gt;
 
@@ -48357,7 +48360,7 @@
     &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open
     elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to the &lt;a href=#original-insertion-mode&gt;original
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#original-insertion-mode&gt;original
     insertion mode&lt;/a&gt; and reprocess the current token.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -48371,7 +48374,7 @@
     &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open
     elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to the &lt;a href=#original-insertion-mode&gt;original
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#original-insertion-mode&gt;original
     insertion mode&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;old insertion point&lt;/var&gt; have the
@@ -48437,14 +48440,14 @@
     &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; off the &lt;a href=#stack-of-open-elements&gt;stack of open
     elements&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to the &lt;a href=#original-insertion-mode&gt;original
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#original-insertion-mode&gt;original
     insertion mode&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=parsing-main-intable&gt;&lt;span class=secno&gt;8.2.5.12 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table&quot;&gt;in table&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-intable title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-intable title=&quot;insertion
   mode: in table&quot;&gt;in table&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A character token that is one of one of U+0009 CHARACTER
@@ -48482,7 +48485,7 @@
     formatting elements&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token, then
-    switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-incaption title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/a&gt;&quot;.&lt;/p&gt;
+    switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incaption title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -48493,7 +48496,7 @@
     below.)&lt;/p&gt;
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token, then
-    switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion mode: in column group&quot;&gt;in column
+    switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion mode: in column group&quot;&gt;in column
     group&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -48511,7 +48514,7 @@
     below.)&lt;/p&gt;
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token, then
-    switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-intbody title=&quot;insertion mode: in table body&quot;&gt;in table
+    switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intbody title=&quot;insertion mode: in table body&quot;&gt;in table
     body&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -48566,7 +48569,7 @@
 
     &lt;p&gt;Otherwise, process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt;
     the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in
-    head&lt;/a&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
+    head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -48614,7 +48617,7 @@
 
     &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Process the token &lt;a href=#using-the-rules-for&gt;using the
     rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in
-    body&lt;/a&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;, except that if the
+    body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;, except that if the
     &lt;a href=#current-node&gt;current node&lt;/a&gt; is a &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt;,
     &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-tfoot-element&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt;, or
     &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element, then, whenever a node would be inserted
@@ -48635,7 +48638,7 @@
 
   &lt;h5 id=parsing-main-incaption&gt;&lt;span class=secno&gt;8.2.5.13 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-incaption title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-incaption title=&quot;insertion
   mode: in caption&quot;&gt;in caption&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;An end tag whose tag name is &quot;caption&quot;&lt;/dt&gt;
@@ -48660,7 +48663,7 @@
     &lt;p&gt;&lt;a href=#clear-the-list-of-active-formatting-elements-up-to-the-last-marker&gt;Clear the list of active formatting elements up to
     the last marker&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -48687,13 +48690,13 @@
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=parsing-main-incolgroup&gt;&lt;span class=secno&gt;8.2.5.14 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-incolgroup title=&quot;insertion
   mode: in column group&quot;&gt;in column group&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A character token that is one of one of U+0009 CHARACTER
@@ -48718,8 +48721,8 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;col&quot;&lt;/dt&gt;
@@ -48744,7 +48747,7 @@
 
     &lt;p&gt;Otherwise, pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; (which will be
     a &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element) from the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;. Switch the &lt;span&gt;insertion mode&lt;/span&gt; to
+    elements&lt;/a&gt;. Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to
     &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -48780,7 +48783,7 @@
 
   &lt;/dl&gt;&lt;h5 id=parsing-main-intbody&gt;&lt;span class=secno&gt;8.2.5.15 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in table body&quot;&gt;in table body&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-intbody title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-intbody title=&quot;insertion
   mode: in table body&quot;&gt;in table body&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A start tag whose tag name is &quot;tr&quot;&lt;/dt&gt;
@@ -48790,7 +48793,7 @@
     context&lt;/a&gt;. (See below.)&lt;/p&gt;
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token, then switch
-    the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-intr title=&quot;insertion mode:
+    the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intr title=&quot;insertion mode:
     in row&quot;&gt;in row&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -48816,7 +48819,7 @@
     context&lt;/a&gt;. (See below.)&lt;/p&gt;
 
     &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; from the &lt;a href=#stack-of-open-elements&gt;stack of
-    open elements&lt;/a&gt;. Switch the &lt;span&gt;insertion mode&lt;/span&gt;
+    open elements&lt;/a&gt;. Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;
     to &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -48851,8 +48854,8 @@
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
   &lt;/dl&gt;&lt;p&gt;When the steps above require the UA to &lt;dfn id=clear-the-stack-back-to-a-table-body-context&gt;clear the stack
@@ -48869,7 +48872,7 @@
 
   &lt;h5 id=parsing-main-intr&gt;&lt;span class=secno&gt;8.2.5.16 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in row&quot;&gt;in row&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-intr title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-intr title=&quot;insertion
   mode: in row&quot;&gt;in row&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A start tag whose tag name is one of: &quot;th&quot;, &quot;td&quot;&lt;/dt&gt;
@@ -48879,7 +48882,7 @@
     context&lt;/a&gt;. (See below.)&lt;/p&gt;
 
     &lt;p&gt;&lt;a href=#insert-an-html-element&gt;Insert an HTML element&lt;/a&gt; for the token, then switch
-    the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-intd title=&quot;insertion mode:
+    the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intd title=&quot;insertion mode:
     in cell&quot;&gt;in cell&lt;/a&gt;&quot;.&lt;/p&gt;
 
     &lt;p&gt;Insert a marker at the end of the &lt;a href=#list-of-active-formatting-elements&gt;list of active
@@ -48902,7 +48905,7 @@
 
     &lt;p&gt;Pop the &lt;a href=#current-node&gt;current node&lt;/a&gt; (which will be a
     &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element) from the &lt;a href=#stack-of-open-elements&gt;stack of open
-    elements&lt;/a&gt;. Switch the &lt;span&gt;insertion mode&lt;/span&gt; to
+    elements&lt;/a&gt;. Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to
     &quot;&lt;a href=#parsing-main-intbody title=&quot;insertion mode: in table body&quot;&gt;in table
     body&lt;/a&gt;&quot;.&lt;/p&gt;
 
@@ -48943,8 +48946,8 @@
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-intable title=&quot;insertion mode: in table&quot;&gt;in table&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
   &lt;/dl&gt;&lt;p&gt;When the steps above require the UA to &lt;dfn id=clear-the-stack-back-to-a-table-row-context&gt;clear the stack
@@ -48960,7 +48963,7 @@
 
   &lt;h5 id=parsing-main-intd&gt;&lt;span class=secno&gt;8.2.5.17 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in cell&quot;&gt;in cell&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-intd title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-intd title=&quot;insertion
   mode: in cell&quot;&gt;in cell&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;An end tag whose tag name is one of: &quot;td&quot;, &quot;th&quot;&lt;/dt&gt;
@@ -48985,7 +48988,7 @@
     &lt;p&gt;&lt;a href=#clear-the-list-of-active-formatting-elements-up-to-the-last-marker&gt;Clear the list of active formatting elements up to
     the last marker&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-intr title=&quot;insertion mode: in row&quot;&gt;in row&lt;/a&gt;&quot;. (The
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-intr title=&quot;insertion mode: in row&quot;&gt;in row&lt;/a&gt;&quot;. (The
     &lt;a href=#current-node&gt;current node&lt;/a&gt; will be a &lt;code&gt;&lt;a href=#the-tr-element&gt;tr&lt;/a&gt;&lt;/code&gt; element at
     this point.)&lt;/p&gt;
 
@@ -49029,8 +49032,8 @@
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
   &lt;/dl&gt;&lt;p&gt;Where the steps above say to &lt;dfn id=close-the-cell&gt;close the cell&lt;/dfn&gt;, they
@@ -49047,14 +49050,14 @@
 
   &lt;/ol&gt;&lt;p class=note&gt;The &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; cannot
   have both a &lt;code&gt;&lt;a href=#the-td-element&gt;td&lt;/a&gt;&lt;/code&gt; and a &lt;code&gt;&lt;a href=#the-th-element&gt;th&lt;/a&gt;&lt;/code&gt; element &lt;a href=#has-an-element-in-table-scope title=&quot;has an element in table scope&quot;&gt;in table scope&lt;/a&gt; at
-  the same time, nor can it have neither when the &lt;span&gt;insertion
-  mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-intd title=&quot;insertion mode: in cell&quot;&gt;in
+  the same time, nor can it have neither when the &lt;a href=#insertion-mode&gt;insertion
+  mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-intd title=&quot;insertion mode: in cell&quot;&gt;in
   cell&lt;/a&gt;&quot;.&lt;/p&gt;
 
 
   &lt;h5 id=parsing-main-inselect&gt;&lt;span class=secno&gt;8.2.5.18 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in select&quot;&gt;in select&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion
   mode: in select&quot;&gt;in select&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A character token&lt;/dt&gt;
@@ -49077,8 +49080,8 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;option&quot;&lt;/dt&gt;
@@ -49186,7 +49189,7 @@
 
   &lt;/dl&gt;&lt;h5 id=parsing-main-inselectintable&gt;&lt;span class=secno&gt;8.2.5.19 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in select in table&quot;&gt;in select in table&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-inselectintable title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-inselectintable title=&quot;insertion
   mode: in select in table&quot;&gt;in select in table&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A start tag whose tag name is one of: &quot;caption&quot;, &quot;table&quot;,
@@ -49212,13 +49215,13 @@
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion mode: in select&quot;&gt;in select&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inselect title=&quot;insertion mode: in select&quot;&gt;in select&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=parsing-main-inforeign&gt;&lt;span class=secno&gt;8.2.5.20 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in foreign content&quot;&gt;in foreign content&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-inforeign title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-inforeign title=&quot;insertion
   mode: in foreign content&quot;&gt;in foreign content&lt;/a&gt;&quot;, tokens must be
   handled as follows:&lt;/p&gt;
 
@@ -49258,13 +49261,13 @@
     &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the
     &lt;a href=#secondary-insertion-mode&gt;secondary insertion mode&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If, after doing so, the &lt;span&gt;insertion mode&lt;/span&gt; is still
+    &lt;p&gt;If, after doing so, the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is still
     &quot;&lt;a href=#parsing-main-inforeign title=&quot;insertion mode: in foreign content&quot;&gt;in foreign
     content&lt;/a&gt;&quot;, but there is no element in scope that has a
     namespace other than the &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;&lt;!-- XXX this
     isn't well-defined; it means check to see if the bottom-most HTML
-    element on the stack is in scope --&gt;, switch the &lt;span&gt;insertion
-    mode&lt;/span&gt; to the &lt;a href=#secondary-insertion-mode&gt;secondary insertion mode&lt;/a&gt;.&lt;/p&gt;
+    element on the stack is in scope --&gt;, switch the &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt; to the &lt;a href=#secondary-insertion-mode&gt;secondary insertion mode&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -49292,7 +49295,7 @@
     the &lt;a href=#current-node&gt;current node&lt;/a&gt; is in the &lt;a href=#html-namespace-0&gt;HTML
     namespace&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to the &lt;a href=#secondary-insertion-mode&gt;secondary
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to the &lt;a href=#secondary-insertion-mode&gt;secondary
     insertion mode&lt;/a&gt;, and reprocess the token.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -49377,15 +49380,15 @@
 
   &lt;/dl&gt;&lt;h5 id=parsing-main-afterbody&gt;&lt;span class=secno&gt;8.2.5.21 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after body&quot;&gt;after body&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-afterbody title=&quot;insertion
   mode: after body&quot;&gt;after body&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A character token that is one of one of U+0009 CHARACTER
    TABULATION, U+000A LINE FEED (LF), U+000C FORM FEED (FF),
    &lt;!--U+000D CARRIAGE RETURN (CR),--&gt; or U+0020 SPACE&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A comment token&lt;/dt&gt;
@@ -49403,8 +49406,8 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;An end tag whose tag name is &quot;html&quot;&lt;/dt&gt;
@@ -49414,7 +49417,7 @@
     fragment parsing algorithm&lt;/a&gt;, this is a &lt;a href=#parse-error&gt;parse
     error&lt;/a&gt;; ignore the token.  (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#the-after-after-body-insertion-mode title=&quot;insertion mode: after after body&quot;&gt;after after
+    &lt;p&gt;Otherwise, switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-after-after-body-insertion-mode title=&quot;insertion mode: after after body&quot;&gt;after after
     body&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -49427,15 +49430,15 @@
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch the &lt;span&gt;insertion
-    mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in
+    &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch the &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in
     body&lt;/a&gt;&quot; and reprocess the token.&lt;/p&gt;
 
    &lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=parsing-main-inframeset&gt;&lt;span class=secno&gt;8.2.5.22 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-inframeset title=&quot;insertion
   mode: in frameset&quot;&gt;in frameset&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A character token that is one of one of U+0009 CHARACTER
@@ -49460,8 +49463,8 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;frameset&quot;&lt;/dt&gt;
@@ -49484,7 +49487,7 @@
     of the &lt;a href=#html-fragment-parsing-algorithm&gt;HTML fragment parsing algorithm&lt;/a&gt;
     (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;), and the &lt;a href=#current-node&gt;current
     node&lt;/a&gt; is no longer a &lt;code&gt;frameset&lt;/code&gt; element, then
-    switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#parsing-main-afterframeset title=&quot;insertion mode: after frameset&quot;&gt;after
+    switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#parsing-main-afterframeset title=&quot;insertion mode: after frameset&quot;&gt;after
     frameset&lt;/a&gt;&quot;.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -49503,8 +49506,8 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;noframes&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;An end-of-file token&lt;/dt&gt;
@@ -49528,7 +49531,7 @@
 
   &lt;/dl&gt;&lt;h5 id=parsing-main-afterframeset&gt;&lt;span class=secno&gt;8.2.5.23 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after frameset&quot;&gt;after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#parsing-main-afterframeset title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#parsing-main-afterframeset title=&quot;insertion
   mode: after frameset&quot;&gt;after frameset&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;!-- due to rules in the &quot;in frameset&quot; mode, this can't be entered in the fragment case --&gt;
@@ -49554,20 +49557,20 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;An end tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=#the-after-after-frameset-insertion-mode title=&quot;insertion mode: after after frameset&quot;&gt;after after
+    &lt;p&gt;Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; to &quot;&lt;a href=#the-after-after-frameset-insertion-mode title=&quot;insertion mode: after after frameset&quot;&gt;after after
     frameset&lt;/a&gt;&quot;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;noframes&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;An end-of-file token&lt;/dt&gt;
@@ -49588,7 +49591,7 @@
 
   &lt;h5 id=the-after-after-body-insertion-mode&gt;&lt;span class=secno&gt;8.2.5.24 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after body&quot;&gt;after after body&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#the-after-after-body-insertion-mode title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#the-after-after-body-insertion-mode title=&quot;insertion
   mode: after after body&quot;&gt;after after body&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A comment token&lt;/dt&gt;
@@ -49604,8 +49607,8 @@
    &lt;!--U+000D CARRIAGE RETURN (CR),--&gt; or U+0020 SPACE&lt;/dt&gt;
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;An end-of-file token&lt;/dt&gt;
@@ -49615,14 +49618,14 @@
 
    &lt;dt&gt;Anything else&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch the &lt;span&gt;insertion mode&lt;/span&gt;
+    &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;. Switch the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt;
     to &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; and
     reprocess the token.&lt;/p&gt;
    &lt;/dd&gt;
 
   &lt;/dl&gt;&lt;h5 id=the-after-after-frameset-insertion-mode&gt;&lt;span class=secno&gt;8.2.5.25 &lt;/span&gt;The &quot;&lt;dfn title=&quot;insertion mode: after after frameset&quot;&gt;after after frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=#the-after-after-frameset-insertion-mode title=&quot;insertion
+  &lt;p&gt;When the &lt;a href=#insertion-mode&gt;insertion mode&lt;/a&gt; is &quot;&lt;a href=#the-after-after-frameset-insertion-mode title=&quot;insertion
   mode: after after frameset&quot;&gt;after after frameset&lt;/a&gt;&quot;, tokens must be handled as follows:&lt;/p&gt;
 
   &lt;dl class=switch&gt;&lt;dt&gt;A comment token&lt;/dt&gt;
@@ -49638,8 +49641,8 @@
    &lt;!--U+000D CARRIAGE RETURN (CR),--&gt; or U+0020 SPACE&lt;/dt&gt;
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inbody title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;An end-of-file token&lt;/dt&gt;
@@ -49649,8 +49652,8 @@
 
    &lt;dt&gt;A start tag whose tag name is &quot;noframes&quot;&lt;/dt&gt;
    &lt;dd&gt;
-    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;span&gt;insertion
-    mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Process the token &lt;a href=#using-the-rules-for&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=#parsing-main-inhead title=&quot;insertion mode: in head&quot;&gt;in head&lt;/a&gt;&quot; &lt;a href=#insertion-mode&gt;insertion
+    mode&lt;/a&gt;.&lt;/p&gt;
    &lt;/dd&gt;
 
    &lt;dt&gt;Anything else&lt;/dt&gt;

Modified: source
===================================================================
--- source	2008-10-08 07:51:40 UTC (rev 2302)
+++ source	2008-10-08 07:56:11 UTC (rev 2303)
@@ -50773,6 +50773,9 @@
 
   &lt;h5&gt;The insertion mode&lt;/h5&gt;
 
+  &lt;p&gt;The &lt;dfn&gt;insertion mode&lt;/dfn&gt; is a flag that controls the primary
+  operation of the tree construction stage.&lt;/p&gt;
+
   &lt;p&gt;Initially the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;span
   title=&quot;insertion mode: initial&quot;&gt;initial&lt;/span&gt;&quot;. It can change to
   &quot;&lt;span title=&quot;insertion mode: before html&quot;&gt;before html&lt;/span&gt;&quot;,


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009187.html">[html5] r2302 - [ct] (0) WF2: Oops,	&lt;textarea&gt; parsing wasn't fixed when it should have been. Al [...]
</A></li>
	<LI>Next message: <A HREF="009189.html">[html5] r2304 - [] (0) WF2: how to reset a &lt;textarea&gt;.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9188">[ date ]</a>
              <a href="thread.html#9188">[ thread ]</a>
              <a href="subject.html#9188">[ subject ]</a>
              <a href="author.html#9188">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
