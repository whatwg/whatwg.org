<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1371 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1371%20-%20/&In-Reply-To=%3C20080309022001.43C98139DDD%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008272.html">
   <LINK REL="Next"  HREF="008274.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1371 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1371%20-%20/&In-Reply-To=%3C20080309022001.43C98139DDD%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1371 - /">whatwg at whatwg.org
       </A><BR>
    <I>Sat Mar  8 18:20:01 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008272.html">[html5] r1370 - /
</A></li>
        <LI>Next message: <A HREF="008274.html">[html5] r1372 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8273">[ date ]</a>
              <a href="thread.html#8273">[ thread ]</a>
              <a href="subject.html#8273">[ subject ]</a>
              <a href="author.html#8273">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-03-08 18:20:00 -0800 (Sat, 08 Mar 2008)
New Revision: 1371

Modified:
   index
   source
Log:
[] (0) define formatBlock more generally.

Modified: index
===================================================================
--- index	2008-03-09 01:46:02 UTC (rev 1370)
+++ index	2008-03-09 02:20:00 UTC (rev 1371)
@@ -35862,56 +35862,41 @@
     title=command-formatBlock&gt;&lt;code&gt;formatBlock&lt;/code&gt;&lt;/dfn&gt;
 
    &lt;dd&gt;
-    &lt;p&gt;&lt;strong&gt;Action:&lt;/strong&gt; This command changes the semantics of the
-     blocks containing the selection.&lt;/p&gt;
+    &lt;p&gt;&lt;strong&gt;Action:&lt;/strong&gt; The user agent must run the following steps:&lt;/p&gt;
 
-    &lt;p&gt;If there is no selection, then, where in the description below refers
-     to the selection, the user agent must act as if the selection was an
-     empty range at the caret position.&lt;/p&gt;
+    &lt;ol&gt;
+     &lt;li&gt;
+      &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument wasn't specified, abort
+       these steps without doing anything.
 
-    &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; parameter is not specified or is not
-     a case-insensitive&lt;!-- XXX ASCII--&gt; match for one of the following
-     strings:&lt;/p&gt;
+     &lt;li&gt;
+      &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument has a leading U+003C
+       LESS-THAN SIGN character ('&amp;lt') and a trailing U+003E GREATER-THAN
+       SIGN character ('&gt;'), then remove the first and last characters from
+       &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.
 
-    &lt;ul class=brief&gt;
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;address&gt;&lt;/code&gt;
+     &lt;li&gt;
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is (now) a case-insensitive&lt;!--
+      XXX ASCII--&gt;
+       match for the tag name of an element defined by this specification
+       that is defined to be a &lt;span&gt;prose element&lt;/span&gt; but not a
+       &lt;span&gt;phrasing element&lt;/span&gt;, then, for every position in the
+       selection, take the furthest &lt;a href=&quot;#flow-content0&quot;&gt;flow content&lt;/a&gt;
+       ancestor element of that position that contains only &lt;a
+       href=&quot;#phrasing0&quot;&gt;phrasing content&lt;/a&gt;, and, if that element is &lt;a
+       href=&quot;#editable0&quot;&gt;editable&lt;/a&gt;, and has a content model that allows it
+       to contain &lt;span&gt;prose content&lt;/span&gt; other than &lt;a
+       href=&quot;#phrasing0&quot;&gt;phrasing content&lt;/a&gt;, and has a parent element whose
+       content model allows that parent to contain any &lt;span&gt;prose
+       content&lt;/span&gt;, rename the element (as if the &lt;code
+       title=&quot;&quot;&gt;Element.renameNode()&lt;/code&gt; method had been used) to &lt;var
+       title=&quot;&quot;&gt;value&lt;/var&gt;, using the HTML namespace.&lt;/p&gt;
 
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;aside&gt;&lt;/code&gt;
+      &lt;p&gt;If there is no selection, then, where in the description below
+       refers to the selection, the user agent must act as if the selection
+       was an empty range (with just one position) at the caret position.&lt;/p&gt;
+    &lt;/ol&gt;
 
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;div&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h1&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h2&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h3&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h4&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h5&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h6&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;nav&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;p&gt;&lt;/code&gt;
-
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;pre&gt;&lt;/code&gt;&lt;/li&gt;
-     &lt;!-- XXX this list is incomplete --&gt;
-    &lt;/ul&gt;
-
-    &lt;p&gt;...then the user agent must do nothing.&lt;/p&gt;
-
-    &lt;p&gt;Otherwise, the user agent must, for every position in the selection,
-     take the furthest &lt;a href=&quot;#flow-content0&quot;&gt;flow content&lt;/a&gt; ancestor
-     element of that position that contains only &lt;a
-     href=&quot;#phrasing0&quot;&gt;phrasing content&lt;/a&gt;, and, if that element is a
-     descendant of the editing host, rename it (as if the &lt;code
-     title=&quot;&quot;&gt;Element.renameNode()&lt;/code&gt; method had been used) according to
-     the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, by stripping the leading
-     &lt;code&gt;&lt;&lt;/code&gt; character and the trailing &lt;code&gt;&gt;&lt;/code&gt; character
-     and using the rest as the new tag name, using the HTML namespace.&lt;/p&gt;
-
    &lt;dd&gt;&lt;strong&gt;Enabled When:&lt;/strong&gt; The document is &lt;a href=&quot;#ready&quot;&gt;ready
     for editing host commands&lt;/a&gt;.
 

Modified: source
===================================================================
--- source	2008-03-09 01:46:02 UTC (rev 1370)
+++ source	2008-03-09 02:20:00 UTC (rev 1371)
@@ -33261,46 +33261,45 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;strong&gt;Action:&lt;/strong&gt; This command changes the semantics of
-    the blocks containing the selection.&lt;/p&gt;
+    &lt;p&gt;&lt;strong&gt;Action:&lt;/strong&gt; The user agent must run the following
+    steps:&lt;/p&gt;
 
-    &lt;p&gt;If there is no selection, then, where in the description below
-    refers to the selection, the user agent must act as if the
-    selection was an empty range at the caret position.&lt;/p&gt;
+    &lt;ol&gt;
 
-    &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; parameter is not specified or
-    is not a case-insensitive&lt;!-- XXX ASCII--&gt; match for one of the
-    following strings:&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument wasn't
+     specified, abort these steps without doing anything.&lt;/p&gt;&lt;/li&gt;
 
-    &lt;ul class=&quot;brief&quot;&gt;
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;address&gt;&lt;/code&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;aside&gt;&lt;/code&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;div&gt;&lt;/code&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h1&gt;&lt;/code&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h2&gt;&lt;/code&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h3&gt;&lt;/code&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h4&gt;&lt;/code&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h5&gt;&lt;/code&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;h6&gt;&lt;/code&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;nav&gt;&lt;/code&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;p&gt;&lt;/code&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;code title=&quot;&quot;&gt;&lt;pre&gt;&lt;/code&gt;&lt;/li&gt;
-     &lt;!-- XXX this list is incomplete --&gt;
-    &lt;/ul&gt;
+     &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; argument has a leading
+     U+003C LESS-THAN SIGN character ('&amp;lt') and a trailing U+003E
+     GREATER-THAN SIGN character ('&gt;'), then remove the first and last
+     characters from &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
-    &lt;p&gt;...then the user agent must do nothing.&lt;/p&gt;
+     &lt;li&gt;
 
-    &lt;p&gt;Otherwise, the user agent must, for every position in the
-    selection, take the furthest &lt;span&gt;flow content&lt;/span&gt; ancestor
-    element of that position that contains only &lt;span&gt;phrasing
-    content&lt;/span&gt;, and, if that element is a descendant of the
-    editing host, rename it (as if the &lt;code
-    title=&quot;&quot;&gt;Element.renameNode()&lt;/code&gt; method had been used)
-    according to the &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, by stripping the
-    leading &lt;code&gt;&lt;&lt;/code&gt; character and the trailing
-    &lt;code&gt;&gt;&lt;/code&gt; character and using the rest as the new tag
-    name, using the HTML namespace.&lt;/p&gt;
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is (now) a case-insensitive&lt;!--
+      XXX ASCII--&gt; match for the tag name of an element defined by
+      this specification that is defined to be a &lt;span&gt;prose
+      element&lt;/span&gt; but not a &lt;span&gt;phrasing element&lt;/span&gt;, then,
+      for every position in the selection, take the furthest
+      &lt;span&gt;flow content&lt;/span&gt; ancestor element of that position that
+      contains only &lt;span&gt;phrasing content&lt;/span&gt;, and, if that
+      element is &lt;span&gt;editable&lt;/span&gt;, and has a content model that
+      allows it to contain &lt;span&gt;prose content&lt;/span&gt; other than
+      &lt;span&gt;phrasing content&lt;/span&gt;, and has a parent element whose
+      content model allows that parent to contain any &lt;span&gt;prose
+      content&lt;/span&gt;, rename the element (as if the &lt;code
+      title=&quot;&quot;&gt;Element.renameNode()&lt;/code&gt; method had been used) to
+      &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;, using the HTML namespace.&lt;/p&gt;
 
+      &lt;p&gt;If there is no selection, then, where in the description
+      below refers to the selection, the user agent must act as if the
+      selection was an empty range (with just one position) at the
+      caret position.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+    &lt;/ol&gt;
+
    &lt;/dd&gt;
    &lt;dd&gt;&lt;strong&gt;Enabled When:&lt;/strong&gt; The document is &lt;span&gt;ready for
    editing host commands&lt;/span&gt;.&lt;/dd&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008272.html">[html5] r1370 - /
</A></li>
	<LI>Next message: <A HREF="008274.html">[html5] r1372 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8273">[ date ]</a>
              <a href="thread.html#8273">[ thread ]</a>
              <a href="subject.html#8273">[ subject ]</a>
              <a href="author.html#8273">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
