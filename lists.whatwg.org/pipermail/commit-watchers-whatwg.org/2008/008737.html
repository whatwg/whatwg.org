<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1839 - [] (0) Allow the origin to include extra data,	such as the host's certificate. ( [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1839%20-%20%5B%5D%20%280%29%20Allow%20the%20origin%20to%20include%20extra%20data%2C%0A%09such%20as%20the%20host%27s%20certificate.%20%28%20%5B...%5D&In-Reply-To=%3C20080701230940.B2FC51B370B%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008736.html">
   <LINK REL="Next"  HREF="008738.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1839 - [] (0) Allow the origin to include extra data,	such as the host's certificate. ( [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1839%20-%20%5B%5D%20%280%29%20Allow%20the%20origin%20to%20include%20extra%20data%2C%0A%09such%20as%20the%20host%27s%20certificate.%20%28%20%5B...%5D&In-Reply-To=%3C20080701230940.B2FC51B370B%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1839 - [] (0) Allow the origin to include extra data,	such as the host's certificate. ( [...]">whatwg at whatwg.org
       </A><BR>
    <I>Tue Jul  1 16:09:40 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008736.html">[html5] r1838 - [] (0) Comment out the parts of the previous	checking that don't apply yet since [...]
</A></li>
        <LI>Next message: <A HREF="008738.html">[html5] r1840 - [] (0) Web Socket specification - replaces	TCPConnection and related interfaces. [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8737">[ date ]</a>
              <a href="thread.html#8737">[ thread ]</a>
              <a href="subject.html#8737">[ subject ]</a>
              <a href="author.html#8737">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-07-01 16:09:39 -0700 (Tue, 01 Jul 2008)
New Revision: 1839

Modified:
   index
   source
Log:
[] (0) Allow the origin to include extra data, such as the host's certificate. (credit: el)

Modified: index
===================================================================
--- index	2008-07-01 00:24:01 UTC (rev 1838)
+++ index	2008-07-01 23:09:39 UTC (rev 1839)
@@ -30513,8 +30513,12 @@
   &lt;p&gt;The &lt;dfn id=origin0&gt;origin&lt;/dfn&gt; of a resource and the &lt;dfn
    id=effective3&gt;effective script origin&lt;/dfn&gt; of a resource are both either
    opaque identifiers or tuples consisting of a scheme component, a host
-   component, and a port component.
+   component, a port component, and optionally extra data.
 
+  &lt;p class=note&gt;The extra data could include the certificate of the site when
+   using encrypted connections, to ensure that if the site's secure
+   certificate changes, the origin is considered to change as well.
+
   &lt;p&gt;These characteristics are defined as follows:
 
   &lt;dl&gt;
@@ -30583,6 +30587,12 @@
        title=&quot;&quot;&gt;host&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;port&lt;/var&gt;).
     &lt;/ol&gt;
 
+    &lt;p&gt;In addition, if the &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt; is in fact associated with
+     a &lt;code&gt;Document&lt;/code&gt; object that was created by parsing the resource
+     obtained from fetching &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt;, and this was done over a
+     secure connection, then the server's secure certificate may be added to
+     the origin as additional data.&lt;/p&gt;
+
    &lt;dt&gt;For scripts
 
    &lt;dd&gt;
@@ -30803,6 +30813,10 @@
      components that are not identical, return false.
 
    &lt;li&gt;
+    &lt;p&gt;If either &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; have
+     additional data, but that data is not identical for both, return false.
+
+   &lt;li&gt;
     &lt;p&gt;Return true.
   &lt;/ol&gt;
 
@@ -52778,9 +52792,9 @@
    David Baron, David Bloom, David Carlisle, David Flanagan, David
    H&aring;s&auml;ther, David Hyatt, Dean Edridge, Debi Orton, Derek
    Featherstone, DeWitt Clinton, Dimitri Glazkov, dolphinling, Doron
-   Rosenberg, Doug Kramer, Eira Monstad, Elliotte Harold, Erik Arvidsson,
-   Evan Martin, Evan Prodromou, fantasai, Felix Sasaki, Franck 'Shift'
-   Qu&eacute;lain, Garrett Smith, Geoffrey Garen, Geoffrey Sneddon,
+   Rosenberg, Doug Kramer, Eira Monstad, Elliotte Harold, Eric Law, Erik
+   Arvidsson, Evan Martin, Evan Prodromou, fantasai, Felix Sasaki, Franck
+   'Shift' Qu&eacute;lain, Garrett Smith, Geoffrey Garen, Geoffrey Sneddon,
    H&aring;kon Wium Lie, Henri Sivonen, Henrik Lied, Henry Mason, Hugh
    Winkler, Ignacio Javier, Ivo Emanuel Gon&ccedil;alves, J. King, Jacques
    Distler, James Graham, James Justin Harrell, James M Snell, James Perrett,
@@ -52789,8 +52803,7 @@
    Meehan, Joe Clark, Jjgod Jiang, Joel Spolsky, Johan Herland, John Boyer,
    John Bussjaeger, John Harding, Johnny Stenback, Jon Perlow, Jonathan
    Worent, Jorgen Horstink, Josh Levenberg, Joshua Randall, Jukka K. Korpela,
-   Julian Reschke, Kai Hendry, &lt;!-- Keryx
-  Web, = Lars Gunther --&gt; Kornel
+   Julian Reschke, Kai Hendry, &lt;!-- Keryx Web, = Lars Gunther --&gt; Kornel
    Lesinski, &amp;#x9ed2;&amp;#x6fa4;&amp;#x525b;&amp;#x5fd7; (KUROSAWA Takeshi), Kristof
    Zelechovski, Lachlan Hunt, Larry Page, Lars Gunther, Laura L. Carlson,
    Laura Wisewell, Laurens Holst, Lee Kowalkowski, Leif Halvard Silli, Lenny

Modified: source
===================================================================
--- source	2008-07-01 00:24:01 UTC (rev 1838)
+++ source	2008-07-01 23:09:39 UTC (rev 1839)
@@ -28005,9 +28005,14 @@
 
   &lt;p&gt;The &lt;dfn&gt;origin&lt;/dfn&gt; of a resource and the &lt;dfn&gt;effective script
   origin&lt;/dfn&gt; of a resource are both either opaque identifiers or
-  tuples consisting of a scheme component, a host component, and a
-  port component.&lt;/p&gt;
+  tuples consisting of a scheme component, a host component, a port
+  component, and optionally extra data.&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;The extra data could include the certificate of the
+  site when using encrypted connections, to ensure that if the site's
+  secure certificate changes, the origin is considered to change as
+  well.&lt;/p&gt;
+
   &lt;p&gt;These characteristics are defined as follows:&lt;/p&gt;
 
   &lt;dl&gt;
@@ -28079,6 +28084,12 @@
 
     &lt;/ol&gt;
 
+    &lt;p&gt;In addition, if the &lt;span&gt;URL&lt;/span&gt; is in fact associated with
+    a &lt;code&gt;Document&lt;/code&gt; object that was created by parsing the
+    resource obtained from fetching &lt;span&gt;URL&lt;/span&gt;, and this was
+    done over a secure connection, then the server's secure
+    certificate may be added to the origin as additional data.&lt;/p&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;For scripts&lt;/dt&gt;
@@ -28322,6 +28333,10 @@
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;B&lt;/var&gt; have port
    components that are not identical, return false.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;If either &lt;var title=&quot;&quot;&gt;A&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;B&lt;/var&gt;
+   have additional data, but that data is not identical for both,
+   return false.&lt;/p&gt;&lt;/li&gt;
+
    &lt;li&gt;&lt;p&gt;Return true.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
@@ -47942,19 +47957,19 @@
   David Flanagan, David H&aring;s&auml;ther, David Hyatt, Dean
   Edridge, Debi Orton, Derek Featherstone, DeWitt Clinton, Dimitri
   Glazkov, dolphinling, Doron Rosenberg, Doug Kramer, Eira Monstad,
-  Elliotte Harold, Erik Arvidsson, Evan Martin, Evan Prodromou,
-  fantasai, Felix Sasaki, Franck 'Shift' Qu&eacute;lain, Garrett
-  Smith, Geoffrey Garen, Geoffrey Sneddon, H&aring;kon Wium Lie, Henri
-  Sivonen, Henrik Lied, Henry Mason, Hugh Winkler, Ignacio Javier, Ivo
-  Emanuel Gon&ccedil;alves, J. King, Jacques Distler, James Graham,
-  James Justin Harrell, James M Snell, James Perrett, Jan-Klaas
-  Kollhof, Jason White, Jasper Bryant-Greene, Jeff Cutsinger, Jeff
-  Walden, Jens Bannmann, Jens Fendler, Jeroen van der Meer, Jim
-  Jewett, Jim Meehan, Joe Clark, Jjgod Jiang, Joel Spolsky, Johan
-  Herland, John Boyer, John Bussjaeger, John Harding, Johnny Stenback,
-  Jon Perlow, Jonathan Worent, Jorgen Horstink, Josh Levenberg, Joshua
-  Randall, Jukka K. Korpela, Julian Reschke, Kai Hendry, &lt;!-- Keryx
-  Web, = Lars Gunther --&gt; Kornel Lesinski,
+  Elliotte Harold, Eric Law, Erik Arvidsson, Evan Martin, Evan
+  Prodromou, fantasai, Felix Sasaki, Franck 'Shift' Qu&eacute;lain,
+  Garrett Smith, Geoffrey Garen, Geoffrey Sneddon, H&aring;kon Wium
+  Lie, Henri Sivonen, Henrik Lied, Henry Mason, Hugh Winkler, Ignacio
+  Javier, Ivo Emanuel Gon&ccedil;alves, J. King, Jacques Distler,
+  James Graham, James Justin Harrell, James M Snell, James Perrett,
+  Jan-Klaas Kollhof, Jason White, Jasper Bryant-Greene, Jeff
+  Cutsinger, Jeff Walden, Jens Bannmann, Jens Fendler, Jeroen van der
+  Meer, Jim Jewett, Jim Meehan, Joe Clark, Jjgod Jiang, Joel Spolsky,
+  Johan Herland, John Boyer, John Bussjaeger, John Harding, Johnny
+  Stenback, Jon Perlow, Jonathan Worent, Jorgen Horstink, Josh
+  Levenberg, Joshua Randall, Jukka K. Korpela, Julian Reschke, Kai
+  Hendry, &lt;!-- Keryx Web, = Lars Gunther --&gt; Kornel Lesinski,
   &amp;#x9ed2;&amp;#x6fa4;&amp;#x525b;&amp;#x5fd7; (KUROSAWA Takeshi), Kristof
   Zelechovski, Lachlan Hunt, Larry Page, Lars Gunther, Laura
   L. Carlson, Laura Wisewell, Laurens Holst, Lee Kowalkowski, Leif


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008736.html">[html5] r1838 - [] (0) Comment out the parts of the previous	checking that don't apply yet since [...]
</A></li>
	<LI>Next message: <A HREF="008738.html">[html5] r1840 - [] (0) Web Socket specification - replaces	TCPConnection and related interfaces. [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8737">[ date ]</a>
              <a href="thread.html#8737">[ thread ]</a>
              <a href="subject.html#8737">[ subject ]</a>
              <a href="author.html#8737">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
