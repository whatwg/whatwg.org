<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1793 - [] (0) Define 'valid URL' as an IRI reference and	'valid absolute URL' as an abs [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1793%20-%20%5B%5D%20%280%29%20Define%20%27valid%20URL%27%20as%20an%20IRI%20reference%20and%0A%09%27valid%20absolute%20URL%27%20as%20an%20abs%20%5B...%5D&In-Reply-To=%3C20080624010017.4C90438E218%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008690.html">
   <LINK REL="Next"  HREF="008692.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1793 - [] (0) Define 'valid URL' as an IRI reference and	'valid absolute URL' as an abs [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1793%20-%20%5B%5D%20%280%29%20Define%20%27valid%20URL%27%20as%20an%20IRI%20reference%20and%0A%09%27valid%20absolute%20URL%27%20as%20an%20abs%20%5B...%5D&In-Reply-To=%3C20080624010017.4C90438E218%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1793 - [] (0) Define 'valid URL' as an IRI reference and	'valid absolute URL' as an abs [...]">whatwg at whatwg.org
       </A><BR>
    <I>Mon Jun 23 18:00:17 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008690.html">[html5] r1792 - [e] (0) Hm, that didn't work well. Let's [...]
</A></li>
        <LI>Next message: <A HREF="008692.html">[html5] r1794 - [e] (0) Remove the paragraph that says 'URI' means	'IRI' since we'll just use 'U [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8691">[ date ]</a>
              <a href="thread.html#8691">[ thread ]</a>
              <a href="subject.html#8691">[ subject ]</a>
              <a href="author.html#8691">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-06-23 18:00:16 -0700 (Mon, 23 Jun 2008)
New Revision: 1793

Modified:
   index
   source
Log:
[] (0) Define 'valid URL' as an IRI reference and 'valid absolute URL' as an absolute IRI.

Modified: index
===================================================================
--- index	2008-06-24 00:23:35 UTC (rev 1792)
+++ index	2008-06-24 01:00:16 UTC (rev 1793)
@@ -216,7 +216,16 @@
        &lt;li&gt;&lt;a href=&quot;#terminology0&quot;&gt;&lt;span class=secno&gt;2.3.1
         &lt;/span&gt;Terminology&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#interfaces&quot;&gt;&lt;span class=secno&gt;2.3.2 &lt;/span&gt;Interfaces
+       &lt;li&gt;&lt;a href=&quot;#parsing0&quot;&gt;&lt;span class=secno&gt;2.3.2 &lt;/span&gt;Parsing
+        URLs&lt;/a&gt;
+
+       &lt;li&gt;&lt;a href=&quot;#resolving&quot;&gt;&lt;span class=secno&gt;2.3.3 &lt;/span&gt;Resolving
+        URLs&lt;/a&gt;
+
+       &lt;li&gt;&lt;a href=&quot;#open-issues&quot;&gt;&lt;span class=secno&gt;2.3.4 &lt;/span&gt;Open
+        issues&lt;/a&gt;
+
+       &lt;li&gt;&lt;a href=&quot;#interfaces&quot;&gt;&lt;span class=secno&gt;2.3.5 &lt;/span&gt;Interfaces
         for URI manipulation&lt;/a&gt;
       &lt;/ul&gt;
 
@@ -1167,7 +1176,7 @@
          &lt;li&gt;&lt;a href=&quot;#writing&quot;&gt;&lt;span class=secno&gt;5.7.3.1. &lt;/span&gt;Writing
           cache manifests&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#parsing0&quot;&gt;&lt;span class=secno&gt;5.7.3.2. &lt;/span&gt;Parsing
+         &lt;li&gt;&lt;a href=&quot;#parsing1&quot;&gt;&lt;span class=secno&gt;5.7.3.2. &lt;/span&gt;Parsing
           cache manifests&lt;/a&gt;
         &lt;/ul&gt;
 
@@ -1546,7 +1555,7 @@
        &lt;li&gt;&lt;a href=&quot;#connecting&quot;&gt;&lt;span class=secno&gt;7.2.2 &lt;/span&gt;Connecting to
         an event stream&lt;/a&gt;
 
-       &lt;li&gt;&lt;a href=&quot;#parsing1&quot;&gt;&lt;span class=secno&gt;7.2.3 &lt;/span&gt;Parsing an
+       &lt;li&gt;&lt;a href=&quot;#parsing2&quot;&gt;&lt;span class=secno&gt;7.2.3 &lt;/span&gt;Parsing an
         event stream&lt;/a&gt;
 
        &lt;li&gt;&lt;a href=&quot;#event-stream-interpretation&quot;&gt;&lt;span class=secno&gt;7.2.4
@@ -1805,7 +1814,7 @@
      &lt;li&gt;&lt;a href=&quot;#serializing&quot;&gt;&lt;span class=secno&gt;9.4 &lt;/span&gt;Serializing HTML
       fragments&lt;/a&gt;
 
-     &lt;li&gt;&lt;a href=&quot;#parsing2&quot;&gt;&lt;span class=secno&gt;9.5 &lt;/span&gt;Parsing HTML
+     &lt;li&gt;&lt;a href=&quot;#parsing3&quot;&gt;&lt;span class=secno&gt;9.5 &lt;/span&gt;Parsing HTML
       fragments&lt;/a&gt;
 
      &lt;li&gt;&lt;a href=&quot;#named&quot;&gt;&lt;span class=secno&gt;9.6 &lt;/span&gt;Named character
@@ -2702,72 +2711,74 @@
 
   &lt;ul&gt;
    &lt;li&gt;
-    &lt;p&gt;The &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt; is a valid URI.
+    &lt;p&gt;The &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt; is a valid URI reference &lt;a
+     href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt;.
 
    &lt;li&gt;
-    &lt;p&gt;The &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt; is a valid IRI and it has no query
-     component.
+    &lt;p&gt;The &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt; is a valid IRI reference and it has no
+     query component. &lt;a href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;
 
    &lt;li&gt;
-    &lt;p&gt;The &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt; is a valid IRI and its query component
-     contains no unescaped non-ASCII characters.
+    &lt;p&gt;The &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt; is a valid IRI reference and its query
+     component contains no unescaped non-ASCII characters. &lt;a
+     href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;
 
    &lt;li&gt;
-    &lt;p&gt;The &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt; is a valid IRI and the &lt;a
+    &lt;p&gt;The &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt; is a valid IRI reference and the &lt;a
      href=&quot;#character1&quot; title=&quot;document's character encoding&quot;&gt;character
-     encoding&lt;/a&gt; of the URL's &lt;code&gt;Document&lt;/code&gt; is UTF-8.
+     encoding&lt;/a&gt; of the URL's &lt;code&gt;Document&lt;/code&gt; is UTF-8. &lt;a
+     href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;
   &lt;/ul&gt;
 
+  &lt;p&gt;A &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt; is a &lt;dfn id=valid0&gt;valid absolute URL&lt;/dfn&gt; if
+   it is a &lt;a href=&quot;#valid&quot;&gt;valid URL&lt;/a&gt; and has an absolute form. &lt;a
+   href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt; &lt;a href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;
+
+  &lt;h4 id=parsing0&gt;&lt;span class=secno&gt;2.3.2 &lt;/span&gt;Parsing URLs&lt;/h4&gt;
+
+  &lt;p class=big-issue&gt;...
+
+  &lt;h4 id=resolving&gt;&lt;span class=secno&gt;2.3.3 &lt;/span&gt;Resolving URLs&lt;/h4&gt;
+
   &lt;div class=big-issue&gt;
-   &lt;p&gt;This section will do the following:&lt;/p&gt;
+   &lt;p&gt;First parse it (we need to define that. For some schemes it's not per
+    spec -- e.g. apparently for ftp: we should split from hosts on ';'). Then
+    handle each bit as follows:&lt;/p&gt;
 
-   &lt;ul&gt;
-    &lt;li&gt;define URL as IRI and replace all uses of URIs and IRIs in the rest
-     of the spec with URL
+   &lt;p&gt;scheme: no further processing (treat %-escaped characters literally,
+    treat unicode characters as unicode characters).&lt;/p&gt;
 
-    &lt;li&gt;define &quot;valid URL&quot; in terms of valid URIs and IRIs and replace that
-     concept through the spec to a pointer here, getting rid of references to
-     &lt;a href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt; &lt;a
-     href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt; outside this section
+   &lt;p&gt;host: expand %-encoded bytes to Unicode as UTF-8, treat unicode
+    characters as per IDN.&lt;/p&gt;
 
-    &lt;li&gt;define &quot;valid URL reference&quot; in terms of valid URI references and IRI
-     references and replace that concept through the spec to a pointer here,
-     getting rid of references to &lt;a href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt; &lt;a
-     href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt; outside this section
+   &lt;p&gt;path: don't expand %-encoded bytes. Re-encode unicode to UTF-8 and
+    percent-encode.&lt;/p&gt;
 
-    &lt;li&gt;define how to parse URLs (maybe by deferring to RFCs)
+   &lt;p&gt;query: don't expand %-encoded bytes. Re-encode unicode to the page's
+    encoding. Do not percent-encode.&lt;/p&gt;
+  &lt;/div&gt;
 
-    &lt;li&gt;
-     &lt;p&gt;define how to handle URIs that contain non-ascii characters (and it's
-      not the same as handling as IRIs, especially if the character encoding
-      of the document isn't UTF-8)&lt;/p&gt;
+  &lt;p class=big-issue&gt;define what it means to resolve a relative URL when the
+   base URL doesn't have a path hierarchy (e.g. data:, javascript:,
+   about:blank URLs)
 
-     &lt;p&gt;First parse it (we need to define that. For some schemes it's not per
-      spec -- e.g. apparently for ftp: we should split from hosts on ';').
-      Then handle each bit as follows:&lt;/p&gt;
+  &lt;h4 id=open-issues&gt;&lt;span class=secno&gt;2.3.4 &lt;/span&gt;Open issues&lt;/h4&gt;
 
-     &lt;p&gt;scheme: no further processing (treat %-escaped characters literally,
-      treat unicode characters as unicode characters).&lt;/p&gt;
+  &lt;div class=big-issue&gt;
+   &lt;p&gt;This section will do the following:&lt;/p&gt;
 
-     &lt;p&gt;host: expand %-encoded bytes to Unicode as UTF-8, treat unicode
-      characters as per IDN.&lt;/p&gt;
+   &lt;ul&gt;
+    &lt;li&gt;replace all uses of URIs and IRIs in the rest of the spec with URL
 
-     &lt;p&gt;path: don't expand %-encoded bytes. Re-encode unicode to UTF-8 and
-      percent-encode.&lt;/p&gt;
+    &lt;li&gt;get rid of references to &lt;a href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt; &lt;a
+     href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt; outside this section
 
-     &lt;p&gt;query: don't expand %-encoded bytes. Re-encode unicode to the page's
-      encoding. Do not percent-encode.&lt;/p&gt;
-
     &lt;li&gt;define how to resolve relative URLs in markup attributes (using
      XMLBase as defined elsewhere right now)
 
     &lt;li&gt;define how to resolve relative URLs in APIs, using the &lt;dfn
      id=scripts&gt;script's base URI&lt;/dfn&gt; maybe
 
-    &lt;li&gt;define what it means to resolve a relative URL when the base URL
-     doesn't have a path hierarchy (e.g. data:, javascript:, about:blank
-     URLs)
-
     &lt;li&gt;define &quot;an &lt;dfn id=elements3&gt;element's base URI&lt;/dfn&gt;&quot; and make the
      various places that talk about a base URI in the context of an element
      use that definition
@@ -2822,7 +2833,7 @@
   &lt;/div&gt;
   &lt;!-- XXXURL change to URL --&gt;
 
-  &lt;h4 id=interfaces&gt;&lt;span class=secno&gt;2.3.2 &lt;/span&gt;Interfaces for URI
+  &lt;h4 id=interfaces&gt;&lt;span class=secno&gt;2.3.5 &lt;/span&gt;Interfaces for URI
    manipulation&lt;/h4&gt;
   &lt;!-- XXXURL change to URL --&gt;
 
@@ -3115,7 +3126,7 @@
 
   &lt;h5 id=unsigned&gt;&lt;span class=secno&gt;2.4.3.1. &lt;/span&gt;Unsigned integers&lt;/h5&gt;
 
-  &lt;p&gt;A string is a &lt;dfn id=valid0&gt;valid non-negative integer&lt;/dfn&gt; if it
+  &lt;p&gt;A string is a &lt;dfn id=valid1&gt;valid non-negative integer&lt;/dfn&gt; if it
    consists of one of more characters in the range U+0030 DIGIT ZERO (0) to
    U+0039 DIGIT NINE (9).
 
@@ -3176,7 +3187,7 @@
 
   &lt;h5 id=signed&gt;&lt;span class=secno&gt;2.4.3.2. &lt;/span&gt;Signed integers&lt;/h5&gt;
 
-  &lt;p&gt;A string is a &lt;dfn id=valid1&gt;valid integer&lt;/dfn&gt; if it consists of one
+  &lt;p&gt;A string is a &lt;dfn id=valid2&gt;valid integer&lt;/dfn&gt; if it consists of one
    of more characters in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE
    (9), optionally prefixed with a U+002D HYPHEN-MINUS (&quot;-&quot;) character.
 
@@ -3254,7 +3265,7 @@
 
   &lt;h5 id=real-numbers&gt;&lt;span class=secno&gt;2.4.3.3. &lt;/span&gt;Real numbers&lt;/h5&gt;
 
-  &lt;p&gt;A string is a &lt;dfn id=valid2&gt;valid floating point number&lt;/dfn&gt; if it
+  &lt;p&gt;A string is a &lt;dfn id=valid3&gt;valid floating point number&lt;/dfn&gt; if it
    consists of one of more characters in the range U+0030 DIGIT ZERO (0) to
    U+0039 DIGIT NINE (9), optionally with a single U+002E FULL STOP (&quot;.&quot;)
    character somewhere (either before these numbers, in between two numbers,
@@ -3380,7 +3391,7 @@
    &lt;code&gt;&lt;a href=&quot;#progress&quot;&gt;progress&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a
    href=&quot;#meter&quot;&gt;meter&lt;/a&gt;&lt;/code&gt; elements.
 
-  &lt;p&gt;A &lt;dfn id=valid3&gt;valid denominator punctuation character&lt;/dfn&gt; is one of
+  &lt;p&gt;A &lt;dfn id=valid4&gt;valid denominator punctuation character&lt;/dfn&gt; is one of
    the characters from the table below. There is &lt;dfn id=a-value
    title=&quot;values associated with denominator punctuation characters&quot;&gt;a value
    associated with each denominator punctuation character&lt;/dfn&gt;, as shown in
@@ -3458,7 +3469,7 @@
     href=&quot;#refsUNICODE&quot;&gt;[UNICODE]&lt;/a&gt;
 
    &lt;li&gt;If there are still further characters in the string, and the next
-    character in the string is a &lt;a href=&quot;#valid3&quot;&gt;valid denominator
+    character in the string is a &lt;a href=&quot;#valid4&quot;&gt;valid denominator
     punctuation character&lt;/a&gt;, set &lt;var title=&quot;&quot;&gt;denominator&lt;/var&gt; to that
     character.
 
@@ -3481,7 +3492,7 @@
     sub-algorithm in step 9.
 
    &lt;li&gt;If there are still further characters in the string, and the next
-    character in the string is a &lt;a href=&quot;#valid3&quot;&gt;valid denominator
+    character in the string is a &lt;a href=&quot;#valid4&quot;&gt;valid denominator
     punctuation character&lt;/a&gt;, return nothing and abort these steps.
 
    &lt;li&gt;If the string contains any other characters in the range U+0030 DIGIT
@@ -3516,7 +3527,7 @@
    &lt;li&gt;Parse &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; according to the &lt;a
     href=&quot;#rules1&quot;&gt;rules for parsing floating point number values&lt;/a&gt;, to
     obtain &lt;var title=&quot;&quot;&gt;number&lt;/var&gt;. This step cannot fail (&lt;var
-    title=&quot;&quot;&gt;string&lt;/var&gt; is guaranteed to be a &lt;a href=&quot;#valid2&quot;&gt;valid
+    title=&quot;&quot;&gt;string&lt;/var&gt; is guaranteed to be a &lt;a href=&quot;#valid3&quot;&gt;valid
     floating point number&lt;/a&gt;).
 
    &lt;li&gt;Return &lt;var title=&quot;&quot;&gt;number&lt;/var&gt;.
@@ -3525,15 +3536,15 @@
   &lt;h5 id=percentages-and-dimensions&gt;&lt;span class=secno&gt;2.4.3.5.
    &lt;/span&gt;Percentages and dimensions&lt;/h5&gt;
 
-  &lt;p class=big-issue&gt;&lt;dfn id=valid4&gt;valid positive non-zero integers&lt;/dfn&gt;
+  &lt;p class=big-issue&gt;&lt;dfn id=valid5&gt;valid positive non-zero integers&lt;/dfn&gt;
    &lt;dfn id=rules2&gt;rules for parsing dimension values&lt;/dfn&gt; (only used by
    height/width on img, embed, object &mdash; lengths in css pixels or
    percentages)
 
   &lt;h5 id=lists&gt;&lt;span class=secno&gt;2.4.3.6. &lt;/span&gt;Lists of integers&lt;/h5&gt;
 
-  &lt;p&gt;A &lt;dfn id=valid5&gt;valid list of integers&lt;/dfn&gt; is a number of &lt;a
-   href=&quot;#valid1&quot; title=&quot;valid integer&quot;&gt;valid integers&lt;/a&gt; separated by
+  &lt;p&gt;A &lt;dfn id=valid6&gt;valid list of integers&lt;/dfn&gt; is a number of &lt;a
+   href=&quot;#valid2&quot; title=&quot;valid integer&quot;&gt;valid integers&lt;/a&gt; separated by
    U+002C COMMA characters, with no other characters (e.g. no &lt;a
    href=&quot;#space&quot; title=&quot;space character&quot;&gt;space characters&lt;/a&gt;). In addition,
    there might be restrictions on the number of integers that can be given,
@@ -3824,7 +3835,7 @@
 
   &lt;h5 id=specific&gt;&lt;span class=secno&gt;2.4.4.1. &lt;/span&gt;Specific moments in time&lt;/h5&gt;
 
-  &lt;p&gt;A string is a &lt;dfn id=valid6&gt;valid datetime&lt;/dfn&gt; if it has four digits
+  &lt;p&gt;A string is a &lt;dfn id=valid7&gt;valid datetime&lt;/dfn&gt; if it has four digits
    (representing the year), a literal hyphen, two digits (representing the
    month), a literal hyphen, two digits (representing the day), optionally
    some spaces, either a literal T or a space, optionally some more spaces,
@@ -3857,7 +3868,7 @@
    U+002B PLUS SIGN, and the minus U+002D (same as the hyphen).
 
   &lt;div class=example&gt;
-   &lt;p&gt;The following are some examples of dates written as &lt;a href=&quot;#valid6&quot;
+   &lt;p&gt;The following are some examples of dates written as &lt;a href=&quot;#valid7&quot;
     title=&quot;valid datetime&quot;&gt;valid datetimes&lt;/a&gt;.&lt;/p&gt;
 
    &lt;dl&gt;
@@ -3910,7 +3921,7 @@
    user agent must apply the following algorithm to the string. This will
    either return a time in UTC, with associated timezone information for
    round tripping or display purposes, or nothing, indicating the value is
-   not a &lt;a href=&quot;#valid6&quot;&gt;valid datetime&lt;/a&gt;. If at any point the algorithm
+   not a &lt;a href=&quot;#valid7&quot;&gt;valid datetime&lt;/a&gt;. If at any point the algorithm
    says that it &quot;fails&quot;, this means that it returns nothing.
 
   &lt;ol&gt;
@@ -4522,7 +4533,7 @@
 
   &lt;h4 id=time-offsets&gt;&lt;span class=secno&gt;2.4.5 &lt;/span&gt;Time offsets&lt;/h4&gt;
 
-  &lt;p class=big-issue&gt;&lt;dfn id=valid7&gt;valid time offset&lt;/dfn&gt;, &lt;dfn
+  &lt;p class=big-issue&gt;&lt;dfn id=valid8&gt;valid time offset&lt;/dfn&gt;, &lt;dfn
    id=rules4&gt;rules for parsing time offsets&lt;/dfn&gt;, &lt;dfn id=time-offset&gt;time
    offset serialization rules&lt;/dfn&gt;; in the format &quot;5d4h3m2s1ms&quot; or &quot;3m 9.2s&quot;
    or &quot;00:00:00.00&quot; or similar.
@@ -4719,7 +4730,7 @@
 
   &lt;h4 id=syntax-references&gt;&lt;span class=secno&gt;2.4.8 &lt;/span&gt;References&lt;/h4&gt;
 
-  &lt;p&gt;A &lt;dfn id=valid8&gt;valid hash-name reference&lt;/dfn&gt; to an element of type
+  &lt;p&gt;A &lt;dfn id=valid9&gt;valid hash-name reference&lt;/dfn&gt; to an element of type
    &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; is a string consisting of a U+0023 NUMBER SIGN
    (&lt;code title=&quot;&quot;&gt;#&lt;/code&gt;) character followed by a string which exactly
    matches the value of the &lt;code title=&quot;&quot;&gt;name&lt;/code&gt; attribute of an
@@ -4815,7 +4826,7 @@
    the attribute is absent, then the default value must be returned instead,
    or 0 if there is no default value. On setting, the given value must be
    converted to the shortest possible string representing the number as a &lt;a
-   href=&quot;#valid1&quot;&gt;valid integer&lt;/a&gt; in base ten and then that string must be
+   href=&quot;#valid2&quot;&gt;valid integer&lt;/a&gt; in base ten and then that string must be
    used as the new content attribute value.
 
   &lt;p&gt;If a reflecting DOM attribute is an &lt;em&gt;unsigned&lt;/em&gt; integer type
@@ -4826,7 +4837,7 @@
    hand, it fails, or if the attribute is absent, the default value must be
    returned instead, or 0 if there is no default value. On setting, the given
    value must be converted to the shortest possible string representing the
-   number as a &lt;a href=&quot;#valid0&quot;&gt;valid non-negative integer&lt;/a&gt; in base ten
+   number as a &lt;a href=&quot;#valid1&quot;&gt;valid non-negative integer&lt;/a&gt; in base ten
    and then that string must be used as the new content attribute value.
 
   &lt;p&gt;If a reflecting DOM attribute is an unsigned integer type
@@ -4841,7 +4852,7 @@
    value. On setting, if the value is zero, the user agent must fire an
    &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exception. Otherwise, the given value must be
    converted to the shortest possible string representing the number as a &lt;a
-   href=&quot;#valid0&quot;&gt;valid non-negative integer&lt;/a&gt; in base ten and then that
+   href=&quot;#valid1&quot;&gt;valid non-negative integer&lt;/a&gt; in base ten and then that
    string must be used as the new content attribute value.
 
   &lt;p&gt;If a reflecting DOM attribute is a floating point number type
@@ -4866,7 +4877,7 @@
    other hand, it fails, or if the attribute is absent, the default value
    must be returned instead, or 0.0 if there is no default value. On setting,
    the given value must be converted to the shortest possible string
-   representing the number as a &lt;a href=&quot;#valid2&quot;&gt;valid floating point
+   representing the number as a &lt;a href=&quot;#valid3&quot;&gt;valid floating point
    number&lt;/a&gt; in base ten and then that string must be used as the new
    content attribute value.
 
@@ -8569,7 +8580,7 @@
    the first are ignored.
 
   &lt;p&gt;The &lt;dfn id=target title=attr-base-target&gt;&lt;code&gt;target&lt;/code&gt;&lt;/dfn&gt;
-   attribute, if specified, must contain a &lt;a href=&quot;#valid10&quot;&gt;valid browsing
+   attribute, if specified, must contain a &lt;a href=&quot;#valid11&quot;&gt;valid browsing
    context name or keyword&lt;/a&gt;. User agents use this name when &lt;a
    href=&quot;#following0&quot;&gt;following hyperlinks&lt;/a&gt;.
 
@@ -9442,9 +9453,9 @@
      attribute must have a value consisting either of:
 
     &lt;ul&gt;
-     &lt;li&gt; just a &lt;a href=&quot;#valid0&quot;&gt;valid non-negative integer&lt;/a&gt;, or
+     &lt;li&gt; just a &lt;a href=&quot;#valid1&quot;&gt;valid non-negative integer&lt;/a&gt;, or
 
-     &lt;li&gt; a &lt;a href=&quot;#valid0&quot;&gt;valid non-negative integer&lt;/a&gt;, followed by a
+     &lt;li&gt; a &lt;a href=&quot;#valid1&quot;&gt;valid non-negative integer&lt;/a&gt;, followed by a
       U+003B SEMICOLON (&lt;code title=&quot;&quot;&gt;;&lt;/code&gt;), followed by one or more &lt;a
       href=&quot;#space&quot; title=&quot;space character&quot;&gt;space characters&lt;/a&gt;, followed by
       either a U+0055 LATIN CAPITAL LETTER U or a U+0075 LATIN SMALL LETTER
@@ -11302,7 +11313,7 @@
    attribute is omitted, the list is an ascending list (1, 2, 3, ...).
 
   &lt;p&gt;The &lt;dfn id=start0 title=attr-ol-start&gt;&lt;code&gt;start&lt;/code&gt;&lt;/dfn&gt;
-   attribute, if present, must be a &lt;a href=&quot;#valid1&quot;&gt;valid integer&lt;/a&gt;
+   attribute, if present, must be a &lt;a href=&quot;#valid2&quot;&gt;valid integer&lt;/a&gt;
    giving the ordinal value of the first list item.
 
   &lt;p&gt;If the &lt;code title=attr-ol-start&gt;&lt;a href=&quot;#start0&quot;&gt;start&lt;/a&gt;&lt;/code&gt;
@@ -11487,7 +11498,7 @@
    element.
 
   &lt;p&gt;The &lt;dfn id=value title=attr-li-value&gt;&lt;code&gt;value&lt;/code&gt;&lt;/dfn&gt;
-   attribute, if present, must be a &lt;a href=&quot;#valid1&quot;&gt;valid integer&lt;/a&gt;
+   attribute, if present, must be a &lt;a href=&quot;#valid2&quot;&gt;valid integer&lt;/a&gt;
    giving the ordinal value of the list item.
 
   &lt;p&gt;If the &lt;code title=attr-li-value&gt;&lt;a href=&quot;#value&quot;&gt;value&lt;/a&gt;&lt;/code&gt;
@@ -12944,7 +12955,7 @@
   &lt;p&gt;&lt;strong&gt;Author requirements&lt;/strong&gt;: The &lt;code
    title=attr-progress-max&gt;&lt;a href=&quot;#max&quot;&gt;max&lt;/a&gt;&lt;/code&gt; and &lt;code
    title=attr-progress-value&gt;&lt;a href=&quot;#value1&quot;&gt;value&lt;/a&gt;&lt;/code&gt; attributes,
-   when present, must have values that are &lt;a href=&quot;#valid2&quot; title=&quot;valid
+   when present, must have values that are &lt;a href=&quot;#valid3&quot; title=&quot;valid
    floating point number&quot;&gt;valid floating point numbers&lt;/a&gt;. The &lt;code
    title=attr-progress-max&gt;&lt;a href=&quot;#max&quot;&gt;max&lt;/a&gt;&lt;/code&gt; attribute, if
    present, must have a value greater than zero. The &lt;code
@@ -13159,7 +13170,7 @@
    title=attr-meter-max&gt;&lt;a href=&quot;#max1&quot;&gt;max&lt;/a&gt;&lt;/code&gt;, and &lt;code
    title=attr-meter-optimum&gt;&lt;a href=&quot;#optimum&quot;&gt;optimum&lt;/a&gt;&lt;/code&gt; attributes
    are all optional. When present, they must have values that are &lt;a
-   href=&quot;#valid2&quot; title=&quot;valid floating point number&quot;&gt;valid floating point
+   href=&quot;#valid3&quot; title=&quot;valid floating point number&quot;&gt;valid floating point
    numbers&lt;/a&gt;, and their values must satisfy the following inequalities:
 
   &lt;ul class=brief&gt;
@@ -14422,14 +14433,14 @@
 
   &lt;p&gt;If present, the &lt;code title=attr-mod-datetime&gt;&lt;a
    href=&quot;#datetime1&quot;&gt;datetime&lt;/a&gt;&lt;/code&gt; attribute must be a &lt;a
-   href=&quot;#valid6&quot;&gt;valid datetime&lt;/a&gt; value.
+   href=&quot;#valid7&quot;&gt;valid datetime&lt;/a&gt; value.
 
   &lt;p&gt;User agents must parse the &lt;code title=attr-mod-datetime&gt;&lt;a
    href=&quot;#datetime1&quot;&gt;datetime&lt;/a&gt;&lt;/code&gt; attribute according to the &lt;a
    href=&quot;#datetime-parser&quot;&gt;parse a string as a datetime value&lt;/a&gt; algorithm.
    If that doesn't return a time, then the modification has no associated
    timestamp (the value is non-conforming; it is not a &lt;a
-   href=&quot;#valid6&quot;&gt;valid datetime&lt;/a&gt;). Otherwise, the modification is marked
+   href=&quot;#valid7&quot;&gt;valid datetime&lt;/a&gt;). Otherwise, the modification is marked
    as having been made at the given datetime. User agents should use the
    associated timezone information to determine which timezone to present the
    given datetime in.
@@ -15442,7 +15453,7 @@
    will remain at the initial &lt;code&gt;about:blank&lt;/code&gt;&lt;!-- XXX xref --&gt; page.
 
   &lt;p&gt;The &lt;dfn id=name1 title=attr-iframe-name&gt;&lt;code&gt;name&lt;/code&gt;&lt;/dfn&gt;
-   attribute, if present, must be a &lt;a href=&quot;#valid9&quot;&gt;valid browsing context
+   attribute, if present, must be a &lt;a href=&quot;#valid10&quot;&gt;valid browsing context
    name&lt;/a&gt;. When the browsing context is created, if the attribute is
    present, the &lt;a href=&quot;#browsing2&quot;&gt;browsing context name&lt;/a&gt; must be set to
    the value of this attribute; otherwise, the &lt;a href=&quot;#browsing2&quot;&gt;browsing
@@ -16001,7 +16012,7 @@
    href=&quot;#type6&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attributes must be present.
 
   &lt;p&gt;The &lt;dfn id=name3 title=attr-object-name&gt;&lt;code&gt;name&lt;/code&gt;&lt;/dfn&gt;
-   attribute, if present, must be a &lt;a href=&quot;#valid9&quot;&gt;valid browsing context
+   attribute, if present, must be a &lt;a href=&quot;#valid10&quot;&gt;valid browsing context
    name&lt;/a&gt;.
 
   &lt;p&gt;When the element is created, and subsequently whenever the &lt;code
@@ -16946,7 +16957,7 @@
    allows the author to specify the pixel ratio of anamorphic &lt;a
    href=&quot;#media10&quot; title=&quot;media resource&quot;&gt;media resources&lt;/a&gt; that do not
    self-describe their pixel ratio. The attribute value, if specified, must
-   be a &lt;a href=&quot;#valid2&quot;&gt;valid floating point number&lt;/a&gt; giving the ratio of
+   be a &lt;a href=&quot;#valid3&quot;&gt;valid floating point number&lt;/a&gt; giving the ratio of
    the correct rendered width of each pixel to the actual width of each pixel
    in the image (i.e., the multiple by which the video's intrinsic width is
    to be multiplied to obtain the rendered width that gives the correct
@@ -19332,7 +19343,7 @@
    to control the size of the coordinate space: &lt;dfn id=width0
    title=attr-canvas-width&gt;&lt;code&gt;width&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=height0
    title=attr-canvas-height&gt;&lt;code&gt;height&lt;/code&gt;&lt;/dfn&gt;. These attributes, when
-   specified, must have values that are &lt;a href=&quot;#valid0&quot; title=&quot;valid
+   specified, must have values that are &lt;a href=&quot;#valid1&quot; title=&quot;valid
    non-negative integer&quot;&gt;valid non-negative integers&lt;/a&gt;. The &lt;a
    href=&quot;#rules&quot;&gt;rules for parsing non-negative integers&lt;/a&gt; must be used to
    obtain their numeric values. If an attribute is missing, or if parsing its
@@ -22096,7 +22107,7 @@
    href=&quot;#rectangle&quot; title=attr-area-shape-rect&gt;rectangle&lt;/a&gt; state.
 
   &lt;p&gt;The &lt;dfn id=coords title=attr-area-coords&gt;&lt;code&gt;coords&lt;/code&gt;&lt;/dfn&gt;
-   attribute must, if specified, contain a &lt;a href=&quot;#valid5&quot;&gt;valid list of
+   attribute must, if specified, contain a &lt;a href=&quot;#valid6&quot;&gt;valid list of
    integers&lt;/a&gt;. This attribute gives the coordinates for the shape described
    by the &lt;code title=attr-area-shape&gt;&lt;a href=&quot;#shape&quot;&gt;shape&lt;/a&gt;&lt;/code&gt;
    attribute. The processing for this attribute is described as part of the
@@ -22226,7 +22237,7 @@
    &lt;code&gt;&lt;a href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a
    href=&quot;#object&quot;&gt;object&lt;/a&gt;&lt;/code&gt; element. The &lt;code
    title=attr-area-usemap&gt;usemap&lt;/code&gt; attribute, if specified, must be a &lt;a
-   href=&quot;#valid8&quot;&gt;valid hash-name reference&lt;/a&gt; to a &lt;code&gt;&lt;a
+   href=&quot;#valid9&quot;&gt;valid hash-name reference&lt;/a&gt; to a &lt;code&gt;&lt;a
    href=&quot;#map&quot;&gt;map&lt;/a&gt;&lt;/code&gt; element.
 
   &lt;p&gt;If an &lt;code&gt;&lt;a href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element or an &lt;code&gt;&lt;a
@@ -22548,7 +22559,7 @@
    give the dimensions of the visual content of the element (the width and
    height respectively, relative to the nominal direction of the output
    medium), in CSS pixels. The attributes, if specified, must have values
-   that are &lt;a href=&quot;#valid4&quot;&gt;valid positive non-zero integers&lt;/a&gt;.
+   that are &lt;a href=&quot;#valid5&quot;&gt;valid positive non-zero integers&lt;/a&gt;.
 
   &lt;p&gt;The specified dimensions given may differ from the dimensions specified
    in the resource itself, since the resource may have a resolution that
@@ -22961,7 +22972,7 @@
   &lt;p&gt;If the &lt;code&gt;&lt;a href=&quot;#colgroup&quot;&gt;colgroup&lt;/a&gt;&lt;/code&gt; element contains no
    &lt;code&gt;&lt;a href=&quot;#col&quot;&gt;col&lt;/a&gt;&lt;/code&gt; elements, then the element may have a
    &lt;dfn id=span0 title=attr-colgroup-span&gt;&lt;code&gt;span&lt;/code&gt;&lt;/dfn&gt; content
-   attribute specified, whose value must be a &lt;a href=&quot;#valid0&quot;&gt;valid
+   attribute specified, whose value must be a &lt;a href=&quot;#valid1&quot;&gt;valid
    non-negative integer&lt;/a&gt; greater than zero.
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#colgroup&quot;&gt;colgroup&lt;/a&gt;&lt;/code&gt; element and its &lt;code
@@ -23015,7 +23026,7 @@
 
   &lt;p&gt;The element may have a &lt;dfn id=span2
    title=attr-col-span&gt;&lt;code&gt;span&lt;/code&gt;&lt;/dfn&gt; content attribute specified,
-   whose value must be a &lt;a href=&quot;#valid0&quot;&gt;valid non-negative integer&lt;/a&gt;
+   whose value must be a &lt;a href=&quot;#valid1&quot;&gt;valid non-negative integer&lt;/a&gt;
    greater than zero.
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#col&quot;&gt;col&lt;/a&gt;&lt;/code&gt; element and its &lt;code
@@ -23488,13 +23499,13 @@
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#td&quot;&gt;td&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a
    href=&quot;#th&quot;&gt;th&lt;/a&gt;&lt;/code&gt; elements may have a &lt;dfn id=colspan
    title=attr-tdth-colspan&gt;&lt;code&gt;colspan&lt;/code&gt;&lt;/dfn&gt; content attribute
-   specified, whose value must be a &lt;a href=&quot;#valid0&quot;&gt;valid non-negative
+   specified, whose value must be a &lt;a href=&quot;#valid1&quot;&gt;valid non-negative
    integer&lt;/a&gt; greater than zero.
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#td&quot;&gt;td&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a
    href=&quot;#th&quot;&gt;th&lt;/a&gt;&lt;/code&gt; elements may also have a &lt;dfn id=rowspan
    title=attr-tdth-rowspan&gt;&lt;code&gt;rowspan&lt;/code&gt;&lt;/dfn&gt; content attribute
-   specified, whose value must be a &lt;a href=&quot;#valid0&quot;&gt;valid non-negative
+   specified, whose value must be a &lt;a href=&quot;#valid1&quot;&gt;valid non-negative
    integer&lt;/a&gt;.
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#td&quot;&gt;td&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a
@@ -29727,12 +29738,13 @@
    name&lt;/dfn&gt;. By default, a browsing context has no name (its name is not
    set).
 
-  &lt;p&gt;A &lt;dfn id=valid9&gt;valid browsing context name&lt;/dfn&gt; is any string with at
-   least one character that does not start with a U+005F LOW LINE character.
-   (Names starting with an underscore are reserved for special keywords.)
+  &lt;p&gt;A &lt;dfn id=valid10&gt;valid browsing context name&lt;/dfn&gt; is any string with
+   at least one character that does not start with a U+005F LOW LINE
+   character. (Names starting with an underscore are reserved for special
+   keywords.)
 
-  &lt;p&gt;A &lt;dfn id=valid10&gt;valid browsing context name or keyword&lt;/dfn&gt; is any
-   string that is either a &lt;a href=&quot;#valid9&quot;&gt;valid browsing context name&lt;/a&gt;
+  &lt;p&gt;A &lt;dfn id=valid11&gt;valid browsing context name or keyword&lt;/dfn&gt; is any
+   string that is either a &lt;a href=&quot;#valid10&quot;&gt;valid browsing context name&lt;/a&gt;
    or that case-insensitively &lt;!-- ASCII --&gt; matches one of: &lt;code
    title=&quot;&quot;&gt;_blank&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;_self&lt;/code&gt;, &lt;code
    title=&quot;&quot;&gt;_parent&lt;/code&gt;, or &lt;code title=&quot;&quot;&gt;_top&lt;/code&gt;.
@@ -30032,7 +30044,7 @@
 
   &lt;p&gt;The second argument, &lt;var title=&quot;&quot;&gt;target&lt;/var&gt;, specifies the &lt;a
    href=&quot;#browsing2&quot; title=&quot;browsing context name&quot;&gt;name&lt;/a&gt; of the browsing
-   context that is to be navigated. It must be a &lt;a href=&quot;#valid10&quot;&gt;valid
+   context that is to be navigated. It must be a &lt;a href=&quot;#valid11&quot;&gt;valid
    browsing context name or keyword&lt;/a&gt;. If fewer than two arguments are
    provided, then the &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; argument defaults to the value
    &quot;&lt;code&gt;_blank&lt;/code&gt;&quot;.
@@ -32309,7 +32321,7 @@
 
   &lt;p&gt;URIs in manifests must not have fragment identifiers.
 
-  &lt;h5 id=parsing0&gt;&lt;span class=secno&gt;5.7.3.2. &lt;/span&gt;Parsing cache manifests&lt;/h5&gt;
+  &lt;h5 id=parsing1&gt;&lt;span class=secno&gt;5.7.3.2. &lt;/span&gt;Parsing cache manifests&lt;/h5&gt;
 
   &lt;p&gt;When a user agent is to &lt;dfn id=parse0&gt;parse a manifest&lt;/dfn&gt;, it means
    that the user agent must run the following steps:
@@ -36038,7 +36050,7 @@
 
   &lt;p&gt;The &lt;dfn id=target3
    title=attr-hyperlink-target&gt;&lt;code&gt;target&lt;/code&gt;&lt;/dfn&gt; attribute, if
-   present, must be a &lt;a href=&quot;#valid10&quot;&gt;valid browsing context name or
+   present, must be a &lt;a href=&quot;#valid11&quot;&gt;valid browsing context name or
    keyword&lt;/a&gt;. User agents use this name when &lt;a
    href=&quot;#following0&quot;&gt;following hyperlinks&lt;/a&gt;.&lt;/p&gt;
   &lt;!-- XXXURL change to URL --&gt;
@@ -36895,7 +36907,7 @@
    href=&quot;#unordered&quot;&gt;unordered set of unique space-separated tokens&lt;/a&gt;. The
    values must all be either &lt;code title=attr-link-sizes-any&gt;&lt;a
    href=&quot;#any&quot;&gt;any&lt;/a&gt;&lt;/code&gt; or a value that consists of two &lt;a
-   href=&quot;#valid0&quot; title=&quot;valid non-negative integer&quot;&gt;valid non-negative
+   href=&quot;#valid1&quot; title=&quot;valid non-negative integer&quot;&gt;valid non-negative
    integers&lt;/a&gt; that do not have a leading U+0030 DIGIT ZERO (0) character
    and that are separated by a single U+0078 LATIN SMALL LETTER X character.
 
@@ -37670,7 +37682,7 @@
 
   &lt;p&gt;The &lt;code title=attr-tabindex&gt;&lt;a href=&quot;#tabindex&quot;&gt;tabindex&lt;/a&gt;&lt;/code&gt;
    attribute, if specified, must have a value that is a &lt;a
-   href=&quot;#valid1&quot;&gt;valid integer&lt;/a&gt;.
+   href=&quot;#valid2&quot;&gt;valid integer&lt;/a&gt;.
 
   &lt;p&gt;If the attribute is specified, it must be parsed using the &lt;a
    href=&quot;#rules0&quot;&gt;rules for parsing integers&lt;/a&gt;. The attribute's values have
@@ -40654,7 +40666,7 @@
 
   &lt;p&gt;For non-HTTP protocols, UAs should act in equivalent ways.
 
-  &lt;h4 id=parsing1&gt;&lt;span class=secno&gt;7.2.3 &lt;/span&gt;Parsing an event stream&lt;/h4&gt;
+  &lt;h4 id=parsing2&gt;&lt;span class=secno&gt;7.2.3 &lt;/span&gt;Parsing an event stream&lt;/h4&gt;
 
   &lt;p&gt;This event stream format's MIME type is &lt;code&gt;text/event-stream&lt;/code&gt;.
 
@@ -49806,7 +49818,7 @@
    element's &lt;span title=syntax-start-tag&gt;start tag&lt;/span&gt; would imply the
    end tag for the &lt;code&gt;&lt;a href=&quot;#p&quot;&gt;p&lt;/a&gt;&lt;/code&gt;).
 
-  &lt;h3 id=parsing2&gt;&lt;span class=secno&gt;9.5 &lt;/span&gt;Parsing HTML fragments&lt;/h3&gt;
+  &lt;h3 id=parsing3&gt;&lt;span class=secno&gt;9.5 &lt;/span&gt;Parsing HTML fragments&lt;/h3&gt;
 
   &lt;p&gt;The following steps form the &lt;dfn id=html-fragment0&gt;HTML fragment
    parsing algorithm&lt;/dfn&gt;. The algorithm takes as input a DOM

Modified: source
===================================================================
--- source	2008-06-24 00:23:35 UTC (rev 1792)
+++ source	2008-06-24 01:00:16 UTC (rev 1793)
@@ -963,69 +963,70 @@
 
   &lt;ul&gt;
 
-   &lt;li&gt;&lt;p&gt;The &lt;span&gt;URL&lt;/span&gt; is a valid URI.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;The &lt;span&gt;URL&lt;/span&gt; is a valid URI reference &lt;a
+   href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;The &lt;span&gt;URL&lt;/span&gt; is a valid IRI and it has no query
-   component.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;The &lt;span&gt;URL&lt;/span&gt; is a valid IRI reference and it has no
+   query component. &lt;a href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;The &lt;span&gt;URL&lt;/span&gt; is a valid IRI and its query component
-   contains no unescaped non-ASCII characters.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;The &lt;span&gt;URL&lt;/span&gt; is a valid IRI reference and its query
+   component contains no unescaped non-ASCII characters. &lt;a
+   href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;The &lt;span&gt;URL&lt;/span&gt; is a valid IRI and the &lt;span
+   &lt;li&gt;&lt;p&gt;The &lt;span&gt;URL&lt;/span&gt; is a valid IRI reference and the &lt;span
    title=&quot;document's character encoding&quot;&gt;character encoding&lt;/span&gt; of
-   the URL's &lt;code&gt;Document&lt;/code&gt; is UTF-8.&lt;/p&gt;&lt;/li&gt;
+   the URL's &lt;code&gt;Document&lt;/code&gt; is UTF-8. &lt;a
+   href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ul&gt;
 
+  &lt;p&gt;A &lt;span&gt;URL&lt;/span&gt; is a &lt;dfn&gt;valid absolute URL&lt;/dfn&gt; if it is a
+  &lt;span&gt;valid URL&lt;/span&gt; and has an absolute form. &lt;a
+  href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt; &lt;a
+  href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;div class=&quot;big-issue&quot;&gt;
 
-   &lt;p&gt;This section will do the following:&lt;/p&gt;
+  &lt;h4&gt;Parsing URLs&lt;/h4&gt;
 
-   &lt;ul&gt;
+  &lt;p class=&quot;big-issue&quot;&gt;...&lt;/p&gt;
 
-    &lt;li&gt;define URL as IRI and replace all uses of URIs and IRIs in the
-    rest of the spec with URL&lt;/li&gt;
+  &lt;h4&gt;Resolving URLs&lt;/h4&gt;
 
-    &lt;li&gt;define &quot;valid URL&quot; in terms of valid URIs and IRIs and replace
-    that concept through the spec to a pointer here, getting rid of
-    references to &lt;a href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt; &lt;a
-    href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt; outside this section&lt;/li&gt;
+  &lt;div class=&quot;big-issue&quot;&gt;
+   &lt;p&gt;First parse it (we need to define that. For some schemes it's
+   not per spec -- e.g. apparently for ftp: we should split from
+   hosts on ';'). Then handle each bit as follows:&lt;/p&gt;
+   &lt;p&gt;scheme: no further processing (treat %-escaped characters literally, treat unicode characters as unicode characters).&lt;/p&gt;
+   &lt;p&gt;host: expand %-encoded bytes to Unicode as UTF-8, treat unicode characters as per IDN.&lt;/p&gt;
+   &lt;p&gt;path: don't expand %-encoded bytes. Re-encode unicode to UTF-8 and percent-encode.&lt;/p&gt;
+   &lt;p&gt;query: don't expand %-encoded bytes. Re-encode unicode to the page's encoding. Do not percent-encode.&lt;/p&gt;
+  &lt;/div&gt;
 
-    &lt;li&gt;define &quot;valid URL reference&quot; in terms of valid URI references
-    and IRI references and replace that concept through the spec to a
-    pointer here, getting rid of references to &lt;a
-    href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt; &lt;a
-    href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt; outside this section&lt;/li&gt;
+  &lt;p class=&quot;big-issue&quot;&gt;define what it means to resolve a relative URL
+  when the base URL doesn't have a path hierarchy (e.g. data:,
+  javascript:, about:blank URLs)&lt;/p&gt;
 
-    &lt;li&gt;define how to parse URLs (maybe by deferring to RFCs)&lt;/li&gt;
 
-    &lt;li&gt;
+  &lt;h4&gt;Open issues&lt;/h4&gt;
 
-     &lt;p&gt;define how to handle URIs that contain non-ascii characters
-     (and it's not the same as handling as IRIs, especially if the
-     character encoding of the document isn't UTF-8)&lt;/p&gt;
+  &lt;div class=&quot;big-issue&quot;&gt;
 
-     &lt;p&gt;First parse it (we need to define that. For some schemes it's
-     not per spec -- e.g. apparently for ftp: we should split from
-     hosts on ';'). Then handle each bit as follows:&lt;/p&gt;
-     &lt;p&gt;scheme: no further processing (treat %-escaped characters literally, treat unicode characters as unicode characters).&lt;/p&gt;
-     &lt;p&gt;host: expand %-encoded bytes to Unicode as UTF-8, treat unicode characters as per IDN.&lt;/p&gt;
-     &lt;p&gt;path: don't expand %-encoded bytes. Re-encode unicode to UTF-8 and percent-encode.&lt;/p&gt;
-     &lt;p&gt;query: don't expand %-encoded bytes. Re-encode unicode to the page's encoding. Do not percent-encode.&lt;/p&gt;
+   &lt;p&gt;This section will do the following:&lt;/p&gt;
 
-    &lt;/li&gt;
+   &lt;ul&gt;
 
+    &lt;li&gt;replace all uses of URIs and IRIs in the rest of the spec with
+    URL&lt;/li&gt;
+
+    &lt;li&gt;get rid of references to &lt;a href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt;
+    &lt;a href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt; outside this section&lt;/li&gt;
+
     &lt;li&gt;define how to resolve relative URLs in markup attributes
     (using XMLBase as defined elsewhere right now)&lt;/li&gt;
 
     &lt;li&gt;define how to resolve relative URLs in APIs, using the
     &lt;dfn&gt;script's base URI&lt;/dfn&gt; maybe&lt;/li&gt;
 
-    &lt;li&gt;define what it means to resolve a relative URL when the base
-    URL doesn't have a path hierarchy (e.g. data:, javascript:,
-    about:blank URLs)&lt;/li&gt;
-
     &lt;li&gt;define &quot;an &lt;dfn&gt;element's base URI&lt;/dfn&gt;&quot; and make the various
     places that talk about a base URI in the context of an element use
     that definition&lt;/li&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008690.html">[html5] r1792 - [e] (0) Hm, that didn't work well. Let's [...]
</A></li>
	<LI>Next message: <A HREF="008692.html">[html5] r1794 - [e] (0) Remove the paragraph that says 'URI' means	'IRI' since we'll just use 'U [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8691">[ date ]</a>
              <a href="thread.html#8691">[ thread ]</a>
              <a href="subject.html#8691">[ subject ]</a>
              <a href="author.html#8691">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
