<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2405 - [] (0) Remove bufferedBytes and totalBytes.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2405%20-%20%5B%5D%20%280%29%20Remove%20bufferedBytes%20and%20totalBytes.&In-Reply-To=%3C20081115193434.C9EB2141AE6%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009288.html">
   <LINK REL="Next"  HREF="009290.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2405 - [] (0) Remove bufferedBytes and totalBytes.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2405%20-%20%5B%5D%20%280%29%20Remove%20bufferedBytes%20and%20totalBytes.&In-Reply-To=%3C20081115193434.C9EB2141AE6%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2405 - [] (0) Remove bufferedBytes and totalBytes.">whatwg at whatwg.org
       </A><BR>
    <I>Sat Nov 15 11:34:34 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009288.html">[html5] r2404 - [gw] (2) Make &lt;source type&gt; optional. Move	canPlayType from navigator to HTMLMed [...]
</A></li>
        <LI>Next message: <A HREF="009290.html">[html5] r2406 - [gw] (2) Define pixelratio='' for values &lt;= 0.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9289">[ date ]</a>
              <a href="thread.html#9289">[ thread ]</a>
              <a href="subject.html#9289">[ subject ]</a>
              <a href="author.html#9289">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-11-15 11:34:34 -0800 (Sat, 15 Nov 2008)
New Revision: 2405

Modified:
   index
   source
Log:
[] (0) Remove bufferedBytes and totalBytes.

Modified: index
===================================================================
--- index	2008-11-15 19:28:46 UTC (rev 2404)
+++ index	2008-11-15 19:34:34 UTC (rev 2405)
@@ -447,9 +447,8 @@
        &lt;li&gt;&lt;a href=#seeking&gt;&lt;span class=secno&gt;4.8.10.10 &lt;/span&gt;Seeking&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#user-interface&gt;&lt;span class=secno&gt;4.8.10.11 &lt;/span&gt;User interface&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#time-ranges&gt;&lt;span class=secno&gt;4.8.10.12 &lt;/span&gt;Time ranges&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#byte-ranges&gt;&lt;span class=secno&gt;4.8.10.13 &lt;/span&gt;Byte ranges&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#mediaevents&gt;&lt;span class=secno&gt;4.8.10.14 &lt;/span&gt;Event summary&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#security-and-privacy-considerations&gt;&lt;span class=secno&gt;4.8.10.15 &lt;/span&gt;Security and privacy considerations&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#mediaevents&gt;&lt;span class=secno&gt;4.8.10.13 &lt;/span&gt;Event summary&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#security-and-privacy-considerations&gt;&lt;span class=secno&gt;4.8.10.14 &lt;/span&gt;Security and privacy considerations&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-canvas-element&gt;&lt;span class=secno&gt;4.8.11 &lt;/span&gt;The &lt;code&gt;canvas&lt;/code&gt; element&lt;/a&gt;
       &lt;ol&gt;
        &lt;li&gt;&lt;a href=#the-2d-context&gt;&lt;span class=secno&gt;4.8.11.1 &lt;/span&gt;The 2D context&lt;/a&gt;
@@ -16853,8 +16852,6 @@
   readonly attribute float &lt;a href=#dom-media-bufferingrate title=dom-media-bufferingRate&gt;bufferingRate&lt;/a&gt;;
   readonly attribute boolean &lt;a href=#dom-media-bufferingthrottled title=dom-media-bufferingThrottled&gt;bufferingThrottled&lt;/a&gt;;
   readonly attribute &lt;a href=#timeranges&gt;TimeRanges&lt;/a&gt; &lt;a href=#dom-media-buffered title=dom-media-buffered&gt;buffered&lt;/a&gt;;
-  readonly attribute &lt;a href=#byteranges&gt;ByteRanges&lt;/a&gt; &lt;a href=#dom-media-bufferedbytes title=dom-media-bufferedBytes&gt;bufferedBytes&lt;/a&gt;;
-  readonly attribute unsigned long &lt;a href=#dom-media-totalbytes title=dom-media-totalBytes&gt;totalBytes&lt;/a&gt;;
   void &lt;a href=#dom-media-load title=dom-media-load&gt;load&lt;/a&gt;();
   DOMString &lt;a href=#dom-navigator-canplaytype title=dom-navigator-canPlayType&gt;canPlayType&lt;/a&gt;(in DOMString type);
 
@@ -17633,30 +17630,20 @@
   attribute must return a static &lt;a href=#normalized-timeranges-object&gt;normalized
   &lt;code&gt;TimeRanges&lt;/code&gt; object&lt;/a&gt; that represents the ranges of
   the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;, if any, that the user agent has
-  buffered, at the time the attribute is evaluated.&lt;/p&gt;
+  buffered, at the time the attribute is evaluated. Users agents must
+  accurately determine the ranges available, even for media streams
+  where this can only be determined by tedious inspection.&lt;/p&gt;
 
   &lt;p class=note&gt;Typically this will be a single range anchored at
   the zero point, but if, e.g. the user agent uses HTTP range requests
   in response to seeking, then there could be multiple ranges.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-media-bufferedbytes title=dom-media-bufferedBytes&gt;&lt;code&gt;bufferedBytes&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return a static &lt;a href=#normalized-byteranges-object&gt;normalized
-  &lt;code&gt;ByteRanges&lt;/code&gt; object&lt;/a&gt; that represents the ranges of
-  the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;, if any, that the user agent has
-  buffered, at the time the attribute is evaluated.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-media-totalbytes title=dom-media-totalBytes&gt;&lt;code&gt;totalBytes&lt;/code&gt;&lt;/dfn&gt; attribute
-  must return the length of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;, in bytes,
-  if it is known and finite. If it is not known, is infinite
-  (e.g. streaming radio), or if no &lt;a href=#media-data&gt;media data&lt;/a&gt; is
-  available, the attribute must return 0.&lt;/p&gt;
-
   &lt;p&gt;User agents may discard previously buffered data.&lt;/p&gt;
 
-  &lt;p class=note&gt;Thus, a time or byte position included within a
-  range of the objects return by the &lt;code title=dom-media-buffered&gt;&lt;a href=#dom-media-buffered&gt;buffered&lt;/a&gt;&lt;/code&gt; or &lt;code title=dom-media-bufferedBytes&gt;&lt;a href=#dom-media-bufferedbytes&gt;bufferedBytes&lt;/a&gt;&lt;/code&gt; attributes at
-  one time can end up being not included in the range(s) of objects
-  returned by the same attributes at a later time.&lt;/p&gt;
+  &lt;p class=note&gt;Thus, a time position included within a range of the
+  objects return by the &lt;code title=dom-media-buffered&gt;&lt;a href=#dom-media-buffered&gt;buffered&lt;/a&gt;&lt;/code&gt; attribute at one time can
+  end up being not included in the range(s) of objects returned by the
+  same attribute at later times.&lt;/p&gt;
 
 
 
@@ -18436,54 +18423,8 @@
 
 
 
-  &lt;h5 id=byte-ranges&gt;&lt;span class=secno&gt;4.8.10.13 &lt;/span&gt;Byte ranges&lt;/h5&gt;
+  &lt;h5 id=mediaevents&gt;&lt;span class=secno&gt;4.8.10.13 &lt;/span&gt;Event summary&lt;/h5&gt;
 
-  &lt;p&gt;Objects implementing the &lt;code&gt;&lt;a href=#byteranges&gt;ByteRanges&lt;/a&gt;&lt;/code&gt; interface
-  represent a list of ranges of bytes.&lt;/p&gt;
-
-  &lt;pre class=idl&gt;interface &lt;dfn id=byteranges&gt;ByteRanges&lt;/dfn&gt; {
-  readonly attribute unsigned long &lt;a href=#dom-byteranges-length title=dom-ByteRanges-length&gt;length&lt;/a&gt;;
-  unsigned long &lt;a href=#dom-byteranges-start title=dom-ByteRanges-start&gt;start&lt;/a&gt;(in unsigned long index);
-  unsigned long &lt;a href=#dom-byteranges-end title=dom-ByteRanges-end&gt;end&lt;/a&gt;(in unsigned long index);
-};&lt;/pre&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-byteranges-length title=dom-ByteRanges-length&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt;
-  DOM attribute must return the number of ranges represented by the object.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-byteranges-start title=dom-ByteRanges-start&gt;&lt;code&gt;start(&lt;var title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the position
-  of the first byte of the &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;th range
-  represented by the object.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn id=dom-byteranges-end title=dom-ByteRanges-end&gt;&lt;code&gt;end(&lt;var title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the position
-  of the byte immediately after the last byte of the &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;th range represented by the object. (The byte
-  position returned by this method is not in the range itself. If the
-  first byte of the range is the byte at position 0, and the entire
-  stream of bytes is in the range, then the value of the position of
-  the byte returned by this method for that range will be the same as
-  the number of bytes in the stream.)&lt;/p&gt;
-
-  &lt;p&gt;These methods must raise &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exceptions
-  if called with an &lt;var title=&quot;&quot;&gt;index&lt;/var&gt; argument greater than or
-  equal to the number of ranges represented by the object.&lt;/p&gt;
-
-  &lt;p&gt;When a &lt;code&gt;&lt;a href=#byteranges&gt;ByteRanges&lt;/a&gt;&lt;/code&gt; object is said to be a
-  &lt;dfn id=normalized-byteranges-object&gt;normalized &lt;code&gt;ByteRanges&lt;/code&gt; object&lt;/dfn&gt;, the ranges it
-  represents must obey the following criteria:&lt;/p&gt;
-
-  &lt;ul&gt;&lt;li&gt;The start of a range must be greater than the end of all
-   earlier ranges.&lt;/li&gt;
-
-   &lt;li&gt;The start of a range must be less than the end of that same
-   range.&lt;/li&gt;
-
-  &lt;/ul&gt;&lt;p&gt;In other words, the ranges in such an object are ordered, don't
-  overlap, aren't empty, and don't touch (adjacent ranges are folded
-  into one bigger range).&lt;/p&gt;
-
-
-
-  &lt;h5 id=mediaevents&gt;&lt;span class=secno&gt;4.8.10.14 &lt;/span&gt;Event summary&lt;/h5&gt;
-
   &lt;p&gt;The following events fire on &lt;a href=#media-element title=&quot;media element&quot;&gt;media
   elements&lt;/a&gt; as part of the processing model described above:&lt;/p&gt;
 
@@ -18586,7 +18527,7 @@
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;Either the &lt;code title=dom-media-volume&gt;&lt;a href=#dom-media-volume&gt;volume&lt;/a&gt;&lt;/code&gt; attribute or the &lt;code title=dom-media-muted&gt;&lt;a href=#dom-media-muted&gt;muted&lt;/a&gt;&lt;/code&gt; attribute has changed. Fired after the relevant attribute's setter has returned.
      &lt;td&gt;
-  &lt;/table&gt;&lt;h5 id=security-and-privacy-considerations&gt;&lt;span class=secno&gt;4.8.10.15 &lt;/span&gt;Security and privacy considerations&lt;/h5&gt;
+  &lt;/table&gt;&lt;h5 id=security-and-privacy-considerations&gt;&lt;span class=secno&gt;4.8.10.14 &lt;/span&gt;Security and privacy considerations&lt;/h5&gt;
 
   &lt;p class=XXX&gt;Talk about making sure interactive media files
   (e.g. SVG) don't have access to the container DOM (XSS potential);

Modified: source
===================================================================
--- source	2008-11-15 19:28:46 UTC (rev 2404)
+++ source	2008-11-15 19:34:34 UTC (rev 2405)
@@ -18082,8 +18082,6 @@
   readonly attribute float &lt;span title=&quot;dom-media-bufferingRate&quot;&gt;bufferingRate&lt;/span&gt;;
   readonly attribute boolean &lt;span title=&quot;dom-media-bufferingThrottled&quot;&gt;bufferingThrottled&lt;/span&gt;;
   readonly attribute &lt;span&gt;TimeRanges&lt;/span&gt; &lt;span title=&quot;dom-media-buffered&quot;&gt;buffered&lt;/span&gt;;
-  readonly attribute &lt;span&gt;ByteRanges&lt;/span&gt; &lt;span title=&quot;dom-media-bufferedBytes&quot;&gt;bufferedBytes&lt;/span&gt;;
-  readonly attribute unsigned long &lt;span title=&quot;dom-media-totalBytes&quot;&gt;totalBytes&lt;/span&gt;;
   void &lt;span title=&quot;dom-media-load&quot;&gt;load&lt;/span&gt;();
   DOMString &lt;span title=&quot;dom-navigator-canPlayType&quot;&gt;canPlayType&lt;/span&gt;(in DOMString type);
 
@@ -19025,34 +19023,21 @@
   attribute must return a static &lt;span&gt;normalized
   &lt;code&gt;TimeRanges&lt;/code&gt; object&lt;/span&gt; that represents the ranges of
   the &lt;span&gt;media resource&lt;/span&gt;, if any, that the user agent has
-  buffered, at the time the attribute is evaluated.&lt;/p&gt;
+  buffered, at the time the attribute is evaluated. Users agents must
+  accurately determine the ranges available, even for media streams
+  where this can only be determined by tedious inspection.&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;Typically this will be a single range anchored at
   the zero point, but if, e.g. the user agent uses HTTP range requests
   in response to seeking, then there could be multiple ranges.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-media-bufferedBytes&quot;&gt;&lt;code&gt;bufferedBytes&lt;/code&gt;&lt;/dfn&gt;
-  attribute must return a static &lt;span&gt;normalized
-  &lt;code&gt;ByteRanges&lt;/code&gt; object&lt;/span&gt; that represents the ranges of
-  the &lt;span&gt;media resource&lt;/span&gt;, if any, that the user agent has
-  buffered, at the time the attribute is evaluated.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-media-totalBytes&quot;&gt;&lt;code&gt;totalBytes&lt;/code&gt;&lt;/dfn&gt; attribute
-  must return the length of the &lt;span&gt;media resource&lt;/span&gt;, in bytes,
-  if it is known and finite. If it is not known, is infinite
-  (e.g. streaming radio), or if no &lt;span&gt;media data&lt;/span&gt; is
-  available, the attribute must return 0.&lt;/p&gt;
-
   &lt;p&gt;User agents may discard previously buffered data.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;Thus, a time or byte position included within a
-  range of the objects return by the &lt;code
-  title=&quot;dom-media-buffered&quot;&gt;buffered&lt;/code&gt; or &lt;code
-  title=&quot;dom-media-bufferedBytes&quot;&gt;bufferedBytes&lt;/code&gt; attributes at
-  one time can end up being not included in the range(s) of objects
-  returned by the same attributes at a later time.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;Thus, a time position included within a range of the
+  objects return by the &lt;code
+  title=&quot;dom-media-buffered&quot;&gt;buffered&lt;/code&gt; attribute at one time can
+  end up being not included in the range(s) of objects returned by the
+  same attribute at later times.&lt;/p&gt;
 
 
 
@@ -19982,59 +19967,6 @@
 
 
 
-  &lt;h5&gt;Byte ranges&lt;/h5&gt;
-
-  &lt;p&gt;Objects implementing the &lt;code&gt;ByteRanges&lt;/code&gt; interface
-  represent a list of ranges of bytes.&lt;/p&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;ByteRanges&lt;/dfn&gt; {
-  readonly attribute unsigned long &lt;span title=&quot;dom-ByteRanges-length&quot;&gt;length&lt;/span&gt;;
-  unsigned long &lt;span title=&quot;dom-ByteRanges-start&quot;&gt;start&lt;/span&gt;(in unsigned long index);
-  unsigned long &lt;span title=&quot;dom-ByteRanges-end&quot;&gt;end&lt;/span&gt;(in unsigned long index);
-};&lt;/pre&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-ByteRanges-length&quot;&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt;
-  DOM attribute must return the number of ranges represented by the object.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-ByteRanges-start&quot;&gt;&lt;code&gt;start(&lt;var
-  title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the position
-  of the first byte of the &lt;var title=&quot;&quot;&gt;index&lt;/var&gt;th range
-  represented by the object.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-ByteRanges-end&quot;&gt;&lt;code&gt;end(&lt;var
-  title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the position
-  of the byte immediately after the last byte of the &lt;var
-  title=&quot;&quot;&gt;index&lt;/var&gt;th range represented by the object. (The byte
-  position returned by this method is not in the range itself. If the
-  first byte of the range is the byte at position 0, and the entire
-  stream of bytes is in the range, then the value of the position of
-  the byte returned by this method for that range will be the same as
-  the number of bytes in the stream.)&lt;/p&gt;
-
-  &lt;p&gt;These methods must raise &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exceptions
-  if called with an &lt;var title=&quot;&quot;&gt;index&lt;/var&gt; argument greater than or
-  equal to the number of ranges represented by the object.&lt;/p&gt;
-
-  &lt;p&gt;When a &lt;code&gt;ByteRanges&lt;/code&gt; object is said to be a
-  &lt;dfn&gt;normalized &lt;code&gt;ByteRanges&lt;/code&gt; object&lt;/dfn&gt;, the ranges it
-  represents must obey the following criteria:&lt;/p&gt;
-
-  &lt;ul&gt;
-
-   &lt;li&gt;The start of a range must be greater than the end of all
-   earlier ranges.&lt;/li&gt;
-
-   &lt;li&gt;The start of a range must be less than the end of that same
-   range.&lt;/li&gt;
-
-  &lt;/ul&gt;
-
-  &lt;p&gt;In other words, the ranges in such an object are ordered, don't
-  overlap, aren't empty, and don't touch (adjacent ranges are folded
-  into one bigger range).&lt;/p&gt;
-
-
-
   &lt;h5 id=&quot;mediaevents&quot;&gt;Event summary&lt;/h5&gt;
 
   &lt;p&gt;The following events fire on &lt;span title=&quot;media element&quot;&gt;media


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009288.html">[html5] r2404 - [gw] (2) Make &lt;source type&gt; optional. Move	canPlayType from navigator to HTMLMed [...]
</A></li>
	<LI>Next message: <A HREF="009290.html">[html5] r2406 - [gw] (2) Define pixelratio='' for values &lt;= 0.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9289">[ date ]</a>
              <a href="thread.html#9289">[ thread ]</a>
              <a href="subject.html#9289">[ subject ]</a>
              <a href="author.html#9289">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
