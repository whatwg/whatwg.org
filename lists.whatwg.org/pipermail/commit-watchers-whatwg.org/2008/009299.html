<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2415 - [c] (0) Define better the restrictions on	attributes of &lt;command&gt; (credit: hs)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2415%20-%20%5Bc%5D%20%280%29%20Define%20better%20the%20restrictions%20on%0A%09attributes%20of%20%3Ccommand%3E%20%28credit%3A%20hs%29&In-Reply-To=%3C20081118071636.3289D23477D%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009298.html">
   <LINK REL="Next"  HREF="009300.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2415 - [c] (0) Define better the restrictions on	attributes of &lt;command&gt; (credit: hs)</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2415%20-%20%5Bc%5D%20%280%29%20Define%20better%20the%20restrictions%20on%0A%09attributes%20of%20%3Ccommand%3E%20%28credit%3A%20hs%29&In-Reply-To=%3C20081118071636.3289D23477D%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2415 - [c] (0) Define better the restrictions on	attributes of &lt;command&gt; (credit: hs)">whatwg at whatwg.org
       </A><BR>
    <I>Mon Nov 17 23:16:36 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009298.html">[html5] r2414 - [gw] (2) Make &lt;iframe&gt;s not inherit the cache of	their parent.
</A></li>
        <LI>Next message: <A HREF="009300.html">[html5] r2416 - [c] (0) Change the content model of &lt;menu&gt; to be	simpler.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9299">[ date ]</a>
              <a href="thread.html#9299">[ thread ]</a>
              <a href="subject.html#9299">[ subject ]</a>
              <a href="author.html#9299">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-11-17 23:16:35 -0800 (Mon, 17 Nov 2008)
New Revision: 2415

Modified:
   index
   source
Log:
[c] (0) Define better the restrictions on attributes of &lt;command&gt; (credit: hs)

Modified: index
===================================================================
--- index	2008-11-18 04:05:57 UTC (rev 2414)
+++ index	2008-11-18 07:16:35 UTC (rev 2415)
@@ -30610,15 +30610,28 @@
   with an associated action, or a state or option that can be toggled,
   or a selection of one item from a list of items.&lt;/p&gt;
 
-  &lt;!-- XXX this should be an enumerated attribute --&gt;
+  &lt;p&gt;The attribute is an &lt;a href=#enumerated-attribute&gt;enumerated attribute&lt;/a&gt; with three
+  keywords and states. The keyword &quot;&lt;dfn id=attr-command-type-keyword-command title=attr-command-type-keyword-command&gt;&lt;code&gt;command&lt;/code&gt;&lt;/dfn&gt;&quot;
+  maps to the &lt;a href=#attr-command-type-state-command title=attr-command-type-state-command&gt;Command&lt;/a&gt; state, the
+  &lt;dfn id=attr-command-type-keyword-checkbox title=attr-command-type-keyword-checkbox&gt;&lt;code&gt;checkbox&lt;/code&gt;&lt;/dfn&gt;&quot;
+  maps to the &lt;a href=#attr-command-type-state-checkbox title=attr-command-type-state-checkbox&gt;Checkbox&lt;/a&gt;, and the
+  &quot;&lt;dfn id=attr-command-type-keyword-radio title=attr-command-type-keyword-radio&gt;&lt;code&gt;radio&lt;/code&gt;&lt;/dfn&gt;&quot;
+  keyword maps to the &lt;a href=#attr-command-type-state-radio title=attr-command-type-state-radio&gt;Radio&lt;/a&gt; state. The
+  &lt;i&gt;missing value default&lt;/i&gt; is the &lt;a href=#attr-command-type-state-command title=attr-command-type-state-command&gt;Command&lt;/a&gt; state.&lt;/p&gt;
 
-  &lt;p&gt;The attribute's value must be either &quot;&lt;code title=&quot;&quot;&gt;command&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;checkbox&lt;/code&gt;&quot;, or
-  &quot;&lt;code title=&quot;&quot;&gt;radio&lt;/code&gt;&quot;, denoting each of these three types of
-  commands respectively. The attribute may also be omitted if the
-  element is to represent the first of these types, a simple
-  command.&lt;/p&gt;
+  &lt;dl&gt;&lt;dt&gt;The &lt;dfn id=attr-command-type-state-command title=attr-command-type-state-command&gt;Command&lt;/dfn&gt; state&lt;/dt&gt;
 
-  &lt;p&gt;The &lt;dfn id=attr-command-label title=attr-command-label&gt;&lt;code&gt;label&lt;/code&gt;&lt;/dfn&gt;
+   &lt;dd&gt;&lt;p&gt;The element represents a normal command with an associated action.&lt;/dd&gt;
+
+   &lt;dt&gt;The &lt;dfn id=attr-command-type-state-checkbox title=attr-command-type-state-checkbox&gt;Checkbox&lt;/dfn&gt; state&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;The element represents a state or option that can be toggled.&lt;/dd&gt;
+
+   &lt;dt&gt;The &lt;dfn id=attr-command-type-state-radio title=attr-command-type-state-radio&gt;Radio&lt;/dfn&gt; state&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;The element represents a selection of one item from a list of items.&lt;/dd&gt;
+
+  &lt;/dl&gt;&lt;p&gt;The &lt;dfn id=attr-command-label title=attr-command-label&gt;&lt;code&gt;label&lt;/code&gt;&lt;/dfn&gt;
   attribute gives the name of the command, as shown to the user.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=attr-command-title title=attr-command-title&gt;&lt;code&gt;title&lt;/code&gt;&lt;/dfn&gt;
@@ -30645,19 +30658,26 @@
 
   &lt;p&gt;The &lt;dfn id=attr-command-checked title=attr-command-checked&gt;&lt;code&gt;checked&lt;/code&gt;&lt;/dfn&gt;
   attribute is a &lt;a href=#boolean-attribute&gt;boolean attribute&lt;/a&gt; that, if present,
-  indicates that the command is selected.&lt;/p&gt;
+  indicates that the command is selected. The attribute must be
+  omitted unless the &lt;code title=attr-command-type&gt;&lt;a href=#attr-command-type&gt;type&lt;/a&gt;&lt;/code&gt;
+  attribute is in either the &lt;a href=#attr-command-type-state-checkbox title=attr-command-type-state-checkbox&gt;Checkbox&lt;/a&gt; state or
+  the &lt;a href=#attr-command-type-state-radio title=attr-command-type-state-radio&gt;Radio&lt;/a&gt;
+  state.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=attr-command-radiogroup title=attr-command-radiogroup&gt;&lt;code&gt;radiogroup&lt;/code&gt;&lt;/dfn&gt;
   attribute gives the name of the group of commands that will be
   toggled when the command itself is toggled, for commands whose &lt;code title=attr-command-type&gt;&lt;a href=#attr-command-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute has the value &quot;&lt;code title=&quot;&quot;&gt;radio&lt;/code&gt;&quot;. The scope of the name is the child list of
-  the parent element.&lt;/p&gt;
+  the parent element. The attribute must be omitted unless the &lt;code title=attr-command-type&gt;&lt;a href=#attr-command-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is in the &lt;a href=#attr-command-type-state-radio title=attr-command-type-state-radio&gt;Radio&lt;/a&gt; state.&lt;/p&gt;
 
   &lt;p&gt;If the &lt;code&gt;&lt;a href=#the-command&gt;command&lt;/a&gt;&lt;/code&gt; element is used when &lt;span title=&quot;menu generation&quot;&gt;generating&lt;/span&gt; a &lt;span&gt;context
   menu&lt;/span&gt;, then the &lt;dfn id=attr-command-default title=attr-command-default&gt;&lt;code&gt;default&lt;/code&gt;&lt;/dfn&gt; attribute
   indicates, if present, that the command is the one that would have
   been invoked if the user had directly activated the menu's subject
   instead of using its context menu. The &lt;code title=attr-command-default&gt;&lt;a href=#attr-command-default&gt;default&lt;/a&gt;&lt;/code&gt; attribute is a
-  &lt;a href=#boolean-attribute&gt;boolean attribute&lt;/a&gt;.&lt;/p&gt;
+  &lt;a href=#boolean-attribute&gt;boolean attribute&lt;/a&gt;.  The attribute must be omitted
+  unless the &lt;code title=attr-command-type&gt;&lt;a href=#attr-command-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is
+  in the &lt;a href=#attr-command-type-state-command title=attr-command-type-state-command&gt;Command&lt;/a&gt;
+  state.&lt;/p&gt;
 
   &lt;div class=example&gt;
 
@@ -30677,9 +30697,11 @@
   method's behavior depends on the value of the &lt;code title=attr-command-type&gt;&lt;a href=#attr-command-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute of the element, as
   follows:&lt;/p&gt;
 
-  &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;code title=attr-command-type&gt;&lt;a href=#attr-command-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute
-   has the value &lt;code title=&quot;&quot;&gt;checkbox&lt;/code&gt;&lt;/dt&gt;
+  &lt;!-- XXX should integrate this better with the normal click() method --&gt;
 
+  &lt;dl class=switch&gt;&lt;dt&gt;If the &lt;code title=attr-command-type&gt;&lt;a href=#attr-command-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is
+   in the &lt;a href=#attr-command-type-state-checkbox title=attr-command-type-state-checkbox&gt;Checkbox&lt;/a&gt; state&lt;/dt&gt;
+
    &lt;dd&gt;&lt;p&gt;If the element has a &lt;code title=attr-command-checked&gt;&lt;a href=#attr-command-checked&gt;checked&lt;/a&gt;&lt;/code&gt; attribute, the UA must
    remove that attribute. Otherwise, the UA must add a &lt;code title=attr-command-checked&gt;&lt;a href=#attr-command-checked&gt;checked&lt;/a&gt;&lt;/code&gt; attribute, with the
    literal value &lt;code title=&quot;&quot;&gt;checked&lt;/code&gt;. The UA must then
@@ -30687,8 +30709,8 @@
    element.&lt;/dd&gt;
 
 
-   &lt;dt&gt;If the &lt;code title=attr-command-type&gt;&lt;a href=#attr-command-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute
-   has the value &lt;code title=&quot;&quot;&gt;radio&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;If the &lt;code title=attr-command-type&gt;&lt;a href=#attr-command-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute is
+   in the &lt;a href=#attr-command-type-state-radio title=attr-command-type-state-radio&gt;Radio&lt;/a&gt; state&lt;/dt&gt;
 
    &lt;dd&gt;&lt;p&gt;If the element has a parent, then the UA must walk the list
    of child nodes of that parent element, and for each node that is a
@@ -30712,10 +30734,6 @@
   &lt;/dl&gt;&lt;p class=note&gt;Firing a synthetic &lt;code title=event-click&gt;click&lt;/code&gt; event at the element does not cause
   any of the actions described above to happen.&lt;/p&gt;
 
-  &lt;p class=XXX&gt; should change all the above so it actually is
-  just triggered by a click event, then we could remove the shadowing
-  click() method and rely on actual events. &lt;/p&gt;
-
   &lt;p class=XXX&gt;Need to define the command=&quot;&quot; attribute&lt;/p&gt;
 
   &lt;p class=note&gt;&lt;code&gt;&lt;a href=#the-command&gt;command&lt;/a&gt;&lt;/code&gt; elements are not rendered

Modified: source
===================================================================
--- source	2008-11-18 04:05:57 UTC (rev 2414)
+++ source	2008-11-18 07:16:35 UTC (rev 2415)
@@ -34765,15 +34765,38 @@
   with an associated action, or a state or option that can be toggled,
   or a selection of one item from a list of items.&lt;/p&gt;
 
-  &lt;!-- XXX this should be an enumerated attribute --&gt;
+  &lt;p&gt;The attribute is an &lt;span&gt;enumerated attribute&lt;/span&gt; with three
+  keywords and states. The keyword &quot;&lt;dfn
+  title=&quot;attr-command-type-keyword-command&quot;&gt;&lt;code&gt;command&lt;/code&gt;&lt;/dfn&gt;&quot;
+  maps to the &lt;span
+  title=&quot;attr-command-type-state-command&quot;&gt;Command&lt;/span&gt; state, the
+  &lt;dfn
+  title=&quot;attr-command-type-keyword-checkbox&quot;&gt;&lt;code&gt;checkbox&lt;/code&gt;&lt;/dfn&gt;&quot;
+  maps to the &lt;span
+  title=&quot;attr-command-type-state-checkbox&quot;&gt;Checkbox&lt;/span&gt;, and the
+  &quot;&lt;dfn
+  title=&quot;attr-command-type-keyword-radio&quot;&gt;&lt;code&gt;radio&lt;/code&gt;&lt;/dfn&gt;&quot;
+  keyword maps to the &lt;span
+  title=&quot;attr-command-type-state-radio&quot;&gt;Radio&lt;/span&gt; state. The
+  &lt;i&gt;missing value default&lt;/i&gt; is the &lt;span
+  title=&quot;attr-command-type-state-command&quot;&gt;Command&lt;/span&gt; state.&lt;/p&gt;
 
-  &lt;p&gt;The attribute's value must be either &quot;&lt;code
-  title=&quot;&quot;&gt;command&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;checkbox&lt;/code&gt;&quot;, or
-  &quot;&lt;code title=&quot;&quot;&gt;radio&lt;/code&gt;&quot;, denoting each of these three types of
-  commands respectively. The attribute may also be omitted if the
-  element is to represent the first of these types, a simple
-  command.&lt;/p&gt;
+  &lt;dl&gt;
 
+   &lt;dt&gt;The &lt;dfn title=&quot;attr-command-type-state-command&quot;&gt;Command&lt;/dfn&gt; state&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;The element represents a normal command with an associated action.&lt;/p&gt;&lt;/dd&gt;
+
+   &lt;dt&gt;The &lt;dfn title=&quot;attr-command-type-state-checkbox&quot;&gt;Checkbox&lt;/dfn&gt; state&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;The element represents a state or option that can be toggled.&lt;/p&gt;&lt;/dd&gt;
+
+   &lt;dt&gt;The &lt;dfn title=&quot;attr-command-type-state-radio&quot;&gt;Radio&lt;/dfn&gt; state&lt;/dt&gt;
+
+   &lt;dd&gt;&lt;p&gt;The element represents a selection of one item from a list of items.&lt;/p&gt;&lt;/dd&gt;
+
+  &lt;/dl&gt;
+
   &lt;p&gt;The &lt;dfn title=&quot;attr-command-label&quot;&gt;&lt;code&gt;label&lt;/code&gt;&lt;/dfn&gt;
   attribute gives the name of the command, as shown to the user.&lt;/p&gt;
 
@@ -34804,7 +34827,12 @@
 
   &lt;p&gt;The &lt;dfn title=&quot;attr-command-checked&quot;&gt;&lt;code&gt;checked&lt;/code&gt;&lt;/dfn&gt;
   attribute is a &lt;span&gt;boolean attribute&lt;/span&gt; that, if present,
-  indicates that the command is selected.&lt;/p&gt;
+  indicates that the command is selected. The attribute must be
+  omitted unless the &lt;code title=&quot;attr-command-type&quot;&gt;type&lt;/code&gt;
+  attribute is in either the &lt;span
+  title=&quot;attr-command-type-state-checkbox&quot;&gt;Checkbox&lt;/span&gt; state or
+  the &lt;span title=&quot;attr-command-type-state-radio&quot;&gt;Radio&lt;/span&gt;
+  state.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn
   title=&quot;attr-command-radiogroup&quot;&gt;&lt;code&gt;radiogroup&lt;/code&gt;&lt;/dfn&gt;
@@ -34812,7 +34840,9 @@
   toggled when the command itself is toggled, for commands whose &lt;code
   title=&quot;attr-command-type&quot;&gt;type&lt;/code&gt; attribute has the value &quot;&lt;code
   title=&quot;&quot;&gt;radio&lt;/code&gt;&quot;. The scope of the name is the child list of
-  the parent element.&lt;/p&gt;
+  the parent element. The attribute must be omitted unless the &lt;code
+  title=&quot;attr-command-type&quot;&gt;type&lt;/code&gt; attribute is in the &lt;span
+  title=&quot;attr-command-type-state-radio&quot;&gt;Radio&lt;/span&gt; state.&lt;/p&gt;
 
   &lt;p&gt;If the &lt;code&gt;command&lt;/code&gt; element is used when &lt;span
   title=&quot;menu generation&quot;&gt;generating&lt;/span&gt; a &lt;span&gt;context
@@ -34822,7 +34852,10 @@
   been invoked if the user had directly activated the menu's subject
   instead of using its context menu. The &lt;code
   title=&quot;attr-command-default&quot;&gt;default&lt;/code&gt; attribute is a
-  &lt;span&gt;boolean attribute&lt;/span&gt;.&lt;/p&gt;
+  &lt;span&gt;boolean attribute&lt;/span&gt;.  The attribute must be omitted
+  unless the &lt;code title=&quot;attr-command-type&quot;&gt;type&lt;/code&gt; attribute is
+  in the &lt;span title=&quot;attr-command-type-state-command&quot;&gt;Command&lt;/span&gt;
+  state.&lt;/p&gt;
 
   &lt;div class=&quot;example&quot;&gt;
 
@@ -34848,10 +34881,13 @@
   title=&quot;attr-command-type&quot;&gt;type&lt;/code&gt; attribute of the element, as
   follows:&lt;/p&gt;
 
+  &lt;!-- XXX should integrate this better with the normal click() method --&gt;
+
   &lt;dl class=&quot;switch&quot;&gt;
 
-   &lt;dt&gt;If the &lt;code title=&quot;attr-command-type&quot;&gt;type&lt;/code&gt; attribute
-   has the value &lt;code title=&quot;&quot;&gt;checkbox&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;If the &lt;code title=&quot;attr-command-type&quot;&gt;type&lt;/code&gt; attribute is
+   in the &lt;span
+   title=&quot;attr-command-type-state-checkbox&quot;&gt;Checkbox&lt;/span&gt; state&lt;/dt&gt;
 
    &lt;dd&gt;&lt;p&gt;If the element has a &lt;code
    title=&quot;attr-command-checked&quot;&gt;checked&lt;/code&gt; attribute, the UA must
@@ -34862,8 +34898,9 @@
    element.&lt;/p&gt;&lt;/dd&gt;
 
 
-   &lt;dt&gt;If the &lt;code title=&quot;attr-command-type&quot;&gt;type&lt;/code&gt; attribute
-   has the value &lt;code title=&quot;&quot;&gt;radio&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;If the &lt;code title=&quot;attr-command-type&quot;&gt;type&lt;/code&gt; attribute is
+   in the &lt;span
+   title=&quot;attr-command-type-state-radio&quot;&gt;Radio&lt;/span&gt; state&lt;/dt&gt;
 
    &lt;dd&gt;&lt;p&gt;If the element has a parent, then the UA must walk the list
    of child nodes of that parent element, and for each node that is a
@@ -34894,10 +34931,6 @@
   title=&quot;event-click&quot;&gt;click&lt;/code&gt; event at the element does not cause
   any of the actions described above to happen.&lt;/p&gt;
 
-  &lt;p class=&quot;XXX&quot;&gt; should change all the above so it actually is
-  just triggered by a click event, then we could remove the shadowing
-  click() method and rely on actual events. &lt;/p&gt;
-
   &lt;p class=&quot;XXX&quot;&gt;Need to define the command=&quot;&quot; attribute&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;&lt;code&gt;command&lt;/code&gt; elements are not rendered


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009298.html">[html5] r2414 - [gw] (2) Make &lt;iframe&gt;s not inherit the cache of	their parent.
</A></li>
	<LI>Next message: <A HREF="009300.html">[html5] r2416 - [c] (0) Change the content model of &lt;menu&gt; to be	simpler.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9299">[ date ]</a>
              <a href="thread.html#9299">[ thread ]</a>
              <a href="subject.html#9299">[ subject ]</a>
              <a href="author.html#9299">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
