<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2004 - [o] (2) How to handle transparent images for	toDataURL(). Just allow the UA to p [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2004%20-%20%5Bo%5D%20%282%29%20How%20to%20handle%20transparent%20images%20for%0A%09toDataURL%28%29.%20Just%20allow%20the%20UA%20to%20p%20%5B...%5D&In-Reply-To=%3C20080805095707.386FE140A72%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008889.html">
   <LINK REL="Next"  HREF="008891.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2004 - [o] (2) How to handle transparent images for	toDataURL(). Just allow the UA to p [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2004%20-%20%5Bo%5D%20%282%29%20How%20to%20handle%20transparent%20images%20for%0A%09toDataURL%28%29.%20Just%20allow%20the%20UA%20to%20p%20%5B...%5D&In-Reply-To=%3C20080805095707.386FE140A72%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2004 - [o] (2) How to handle transparent images for	toDataURL(). Just allow the UA to p [...]">whatwg at whatwg.org
       </A><BR>
    <I>Tue Aug  5 02:57:07 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008889.html">[html5] r2003 - [e] (0) typo (credit: pt)
</A></li>
        <LI>Next message: <A HREF="008891.html">[html5] r2005 - [] (0) Define isPointInPath() uses the non-zero	winding number rule. (credit: pt)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8890">[ date ]</a>
              <a href="thread.html#8890">[ thread ]</a>
              <a href="subject.html#8890">[ subject ]</a>
              <a href="author.html#8890">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-08-05 02:57:06 -0700 (Tue, 05 Aug 2008)
New Revision: 2004

Modified:
   index
   source
Log:
[o] (2) How to handle transparent images for toDataURL(). Just allow the UA to premultiply the alpha and output that whie dropping the alpha channel, instead of worrying about the background color or whatnot. It's up to authors to make the background color non-transparent.

Modified: index
===================================================================
--- index	2008-08-05 09:28:31 UTC (rev 2003)
+++ index	2008-08-05 09:57:06 UTC (rev 2004)
@@ -20799,6 +20799,11 @@
    or even maybe &lt;code&gt;image/svg+xml&lt;/code&gt; if the implementation actually
    keeps enough information to reliably render an SVG image from the canvas.
 
+  &lt;p&gt;For image types that do not support an alpha channel, the image must be
+   composited onto a solid black background using the source-over operator,
+   and the resulting image must be the one used to create the &lt;code
+   title=&quot;&quot;&gt;data:&lt;/code&gt; URL.
+
   &lt;p&gt;Only support for &lt;code&gt;image/png&lt;/code&gt; is required. User agents may
    support other types. If the user agent does not support the requested
    type, it must return the image using the PNG format.

Modified: source
===================================================================
--- source	2008-08-05 09:28:31 UTC (rev 2003)
+++ source	2008-08-05 09:57:06 UTC (rev 2004)
@@ -18002,6 +18002,11 @@
   enough information to reliably render an SVG image from the
   canvas.&lt;/p&gt;
 
+  &lt;p&gt;For image types that do not support an alpha channel, the image
+  must be composited onto a solid black background using the
+  source-over operator, and the resulting image must be the one used
+  to create the &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URL.&lt;/p&gt;
+
   &lt;p&gt;Only support for &lt;code&gt;image/png&lt;/code&gt; is required. User agents
   may support other types. If the user agent does not support the
   requested type, it must return the image using the PNG format.&lt;/p&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008889.html">[html5] r2003 - [e] (0) typo (credit: pt)
</A></li>
	<LI>Next message: <A HREF="008891.html">[html5] r2005 - [] (0) Define isPointInPath() uses the non-zero	winding number rule. (credit: pt)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8890">[ date ]</a>
              <a href="thread.html#8890">[ thread ]</a>
              <a href="subject.html#8890">[ subject ]</a>
              <a href="author.html#8890">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
