<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1849 - [] (0) Make the Web Socket Protocol handshake more	unique. (Re: websocket HTTP r [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1849%20-%20%5B%5D%20%280%29%20Make%20the%20Web%20Socket%20Protocol%20handshake%20more%0A%09unique.%20%28Re%3A%20websocket%20HTTP%20r%20%5B...%5D&In-Reply-To=%3C20080707091753.235B4141AE8%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008746.html">
   <LINK REL="Next"  HREF="008748.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1849 - [] (0) Make the Web Socket Protocol handshake more	unique. (Re: websocket HTTP r [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1849%20-%20%5B%5D%20%280%29%20Make%20the%20Web%20Socket%20Protocol%20handshake%20more%0A%09unique.%20%28Re%3A%20websocket%20HTTP%20r%20%5B...%5D&In-Reply-To=%3C20080707091753.235B4141AE8%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1849 - [] (0) Make the Web Socket Protocol handshake more	unique. (Re: websocket HTTP r [...]">whatwg at whatwg.org
       </A><BR>
    <I>Mon Jul  7 02:17:53 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008746.html">[html5] r1848 - [e] (0) Make HTML5 agnostic regarding Cookie and	Cookie2. (Re: Web Sockets) (cre [...]
</A></li>
        <LI>Next message: <A HREF="008748.html">[html5] r1850 - [gow] (2) Define handling of poster frame on	&lt;video&gt; in more detail.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8747">[ date ]</a>
              <a href="thread.html#8747">[ thread ]</a>
              <a href="subject.html#8747">[ subject ]</a>
              <a href="author.html#8747">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-07-07 02:17:51 -0700 (Mon, 07 Jul 2008)
New Revision: 1849

Modified:
   index
   source
Log:
[] (0) Make the Web Socket Protocol handshake more unique. (Re: websocket HTTP response parsing) (credit: pt, jr)

Modified: index
===================================================================
--- index	2008-07-06 00:08:49 UTC (rev 1848)
+++ index	2008-07-07 09:17:51 UTC (rev 1849)
@@ -25,7 +25,7 @@
 
    &lt;h1 id=html-5&gt;HTML 5&lt;/h1&gt;
 
-   &lt;h2 class=&quot;no-num no-toc&quot; id=draft&gt;Draft Recommendation &mdash; 6 July
+   &lt;h2 class=&quot;no-num no-toc&quot; id=draft&gt;Draft Recommendation &mdash; 7 July
     2008&lt;/h2&gt;
 
    &lt;p&gt;You can take part in this work. &lt;a
@@ -41618,21 +41618,22 @@
     &lt;p class=note&gt;Just a CRLF (a blank line).&lt;/p&gt;
 
    &lt;li&gt;
-    &lt;p&gt;Read the first 75 bytes from the server. If the connection closes
-     before 75 bytes are received, or if the first 75 bytes aren't exactly
+    &lt;p&gt;Read the first 85 bytes from the server. If the connection closes
+     before 85 bytes are received, or if the first 85 bytes aren't exactly
      equal to the following bytes, then &lt;a href=&quot;#fail-the&quot;&gt;fail the Web
      Socket connection&lt;/a&gt; and abort these steps.&lt;/p&gt;
 
-    &lt;pre&gt;48 54 54 50 2f 31 2e 31  20 31 30 31 20 53 77 69 
-74 63 68 69 6e 67 20 50  72 6f 74 6f 63 6f 6c 73 
-0d 0a 55 70 67 72 61 64  65 3a 20 57 65 62 53 6f 
-63 6b 65 74 0d 0a 43 6f  6e 6e 65 63 74 69 6f 6e 
-3a 20 55 70 67 72 61 64  65 0d 0a&lt;/pre&gt;
+    &lt;pre&gt;48 54 54 50 2f 31 2e 31  20 31 30 31 20 57 65 62
+20 53 6f 63 6b 65 74 20  50 72 6f 74 6f 63 6f 6c
+20 48 61 6e 64 73 68 61  6b 65 0d 0a 55 70 67 72
+61 64 65 3a 20 57 65 62  53 6f 63 6b 65 74 0d 0a
+43 6f 6e 6e 65 63 74 69  6f 6e 3a 20 55 70 67 72
+61 64 65 0d 0a&lt;/pre&gt;
 
     &lt;p class=note&gt;The string
-     &quot;HTTP/1.1&nbsp;101&nbsp;Switching&nbsp;Protocols&quot;, CRLF, the string
-     &quot;Upgrade:&nbsp;WebSocket&quot;, CRLF, the string &quot;Connection:&nbsp;Upgrade&quot;,
-     CRLF.&lt;/p&gt;
+     &quot;HTTP/1.1&nbsp;101&nbsp;Web&nbsp;Socket&nbsp;Protocol&nbsp;Handshake&quot;,
+     CRLF, the string &quot;Upgrade:&nbsp;WebSocket&quot;, CRLF, the string
+     &quot;Connection:&nbsp;Upgrade&quot;, CRLF.&lt;/p&gt;
 
     &lt;p class=big-issue&gt;What if the response is a 401 asking for credentials?&lt;/p&gt;
 
@@ -41956,11 +41957,12 @@
   &lt;p&gt;Listen on a port for TCP/IP. Upon receiving a connection request, open a
    connection and send the following bytes back to the client:
 
-  &lt;pre&gt;48 54 54 50 2f 31 2e 31  20 31 30 31 20 53 77 69 
-74 63 68 69 6e 67 20 50  72 6f 74 6f 63 6f 6c 73 
-0d 0a 55 70 67 72 61 64  65 3a 20 57 65 62 53 6f 
-63 6b 65 74 0d 0a 43 6f  6e 6e 65 63 74 69 6f 6e 
-3a 20 55 70 67 72 61 64  65 0d 0a&lt;/pre&gt;
+  &lt;pre&gt;48 54 54 50 2f 31 2e 31  20 31 30 31 20 57 65 62
+20 53 6f 63 6b 65 74 20  50 72 6f 74 6f 63 6f 6c
+20 48 61 6e 64 73 68 61  6b 65 0d 0a 55 70 67 72
+61 64 65 3a 20 57 65 62  53 6f 63 6b 65 74 0d 0a
+43 6f 6e 6e 65 63 74 69  6f 6e 3a 20 55 70 67 72
+61 64 65 0d 0a&lt;/pre&gt;
 
   &lt;p&gt;Send the string &quot;&lt;code title=&quot;&quot;&gt;WebSocket-Origin&lt;/code&gt;&quot; followed by a
    U+003A COLON (&quot;:&quot;) followed by the &lt;a href=&quot;#ascii&quot; title=&quot;ASCII

Modified: source
===================================================================
--- source	2008-07-06 00:08:49 UTC (rev 1848)
+++ source	2008-07-07 09:17:51 UTC (rev 1849)
@@ -39200,19 +39200,20 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;Read the first 75 bytes from the server. If the connection
-    closes before 75 bytes are received, or if the first 75 bytes
+    &lt;p&gt;Read the first 85 bytes from the server. If the connection
+    closes before 85 bytes are received, or if the first 85 bytes
     aren't exactly equal to the following bytes, then &lt;span&gt;fail the
     Web Socket connection&lt;/span&gt; and abort these steps.&lt;/p&gt;
 
-    &lt;pre&gt;48 54 54 50 2f 31 2e 31  20 31 30 31 20 53 77 69 
-74 63 68 69 6e 67 20 50  72 6f 74 6f 63 6f 6c 73 
-0d 0a 55 70 67 72 61 64  65 3a 20 57 65 62 53 6f 
-63 6b 65 74 0d 0a 43 6f  6e 6e 65 63 74 69 6f 6e 
-3a 20 55 70 67 72 61 64  65 0d 0a&lt;/pre&gt;
+    &lt;pre&gt;48 54 54 50 2f 31 2e 31  20 31 30 31 20 57 65 62
+20 53 6f 63 6b 65 74 20  50 72 6f 74 6f 63 6f 6c
+20 48 61 6e 64 73 68 61  6b 65 0d 0a 55 70 67 72
+61 64 65 3a 20 57 65 62  53 6f 63 6b 65 74 0d 0a
+43 6f 6e 6e 65 63 74 69  6f 6e 3a 20 55 70 67 72
+61 64 65 0d 0a&lt;/pre&gt;
 
     &lt;p class=&quot;note&quot;&gt;The string
-    &quot;HTTP/1.1&nbsp;101&nbsp;Switching&nbsp;Protocols&quot;, CRLF, the
+    &quot;HTTP/1.1&nbsp;101&nbsp;Web&nbsp;Socket&nbsp;Protocol&nbsp;Handshake&quot;, CRLF, the
     string &quot;Upgrade:&nbsp;WebSocket&quot;, CRLF, the string
     &quot;Connection:&nbsp;Upgrade&quot;, CRLF.&lt;/p&gt;
 
@@ -39609,11 +39610,12 @@
   open a connection and send the following bytes back to the
   client:&lt;/p&gt;
 
-  &lt;pre&gt;48 54 54 50 2f 31 2e 31  20 31 30 31 20 53 77 69 
-74 63 68 69 6e 67 20 50  72 6f 74 6f 63 6f 6c 73 
-0d 0a 55 70 67 72 61 64  65 3a 20 57 65 62 53 6f 
-63 6b 65 74 0d 0a 43 6f  6e 6e 65 63 74 69 6f 6e 
-3a 20 55 70 67 72 61 64  65 0d 0a&lt;/pre&gt;
+  &lt;pre&gt;48 54 54 50 2f 31 2e 31  20 31 30 31 20 57 65 62
+20 53 6f 63 6b 65 74 20  50 72 6f 74 6f 63 6f 6c
+20 48 61 6e 64 73 68 61  6b 65 0d 0a 55 70 67 72
+61 64 65 3a 20 57 65 62  53 6f 63 6b 65 74 0d 0a
+43 6f 6e 6e 65 63 74 69  6f 6e 3a 20 55 70 67 72
+61 64 65 0d 0a&lt;/pre&gt;
 
   &lt;p&gt;Send the string &quot;&lt;code title=&quot;&quot;&gt;WebSocket-Origin&lt;/code&gt;&quot; followed
   by a U+003A COLON (&quot;:&quot;) followed by the &lt;span title=&quot;ASCII


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008746.html">[html5] r1848 - [e] (0) Make HTML5 agnostic regarding Cookie and	Cookie2. (Re: Web Sockets) (cre [...]
</A></li>
	<LI>Next message: <A HREF="008748.html">[html5] r1850 - [gow] (2) Define handling of poster frame on	&lt;video&gt; in more detail.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8747">[ date ]</a>
              <a href="thread.html#8747">[ thread ]</a>
              <a href="subject.html#8747">[ subject ]</a>
              <a href="author.html#8747">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
