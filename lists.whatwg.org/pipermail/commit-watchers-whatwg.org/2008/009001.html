<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2115 - [ac] (1) Address all recent alt='' feedback. For	further details see: http://lis [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2115%20-%20%5Bac%5D%20%281%29%20Address%20all%20recent%20alt%3D%27%27%20feedback.%20For%0A%09further%20details%20see%3A%20http%3A//lis%20%5B...%5D&In-Reply-To=%3C20080826081940.ACC8638DF87%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009000.html">
   <LINK REL="Next"  HREF="009002.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2115 - [ac] (1) Address all recent alt='' feedback. For	further details see: http://lis [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2115%20-%20%5Bac%5D%20%281%29%20Address%20all%20recent%20alt%3D%27%27%20feedback.%20For%0A%09further%20details%20see%3A%20http%3A//lis%20%5B...%5D&In-Reply-To=%3C20080826081940.ACC8638DF87%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2115 - [ac] (1) Address all recent alt='' feedback. For	further details see: http://lis [...]">whatwg at whatwg.org
       </A><BR>
    <I>Tue Aug 26 01:19:40 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009000.html">[html5] r2114 - [e] (0) More alt='' examples.
</A></li>
        <LI>Next message: <A HREF="009002.html">[html5] r2116 - [] (0) Change 'unload' to 'close' for MessagePorts.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9001">[ date ]</a>
              <a href="thread.html#9001">[ thread ]</a>
              <a href="subject.html#9001">[ subject ]</a>
              <a href="author.html#9001">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-08-26 01:19:38 -0700 (Tue, 26 Aug 2008)
New Revision: 2115

Modified:
   index
   source
Log:
[ac] (1) Address all recent alt='' feedback. For further details see: <A HREF="http://lists.w3.org/Archives/Public/public-html/2008Aug/0759.html">http://lists.w3.org/Archives/Public/public-html/2008Aug/0759.html</A>

Modified: index
===================================================================
--- index	2008-08-25 10:03:53 UTC (rev 2114)
+++ index	2008-08-26 08:19:38 UTC (rev 2115)
@@ -28,7 +28,7 @@
 
    &lt;h1 id=html-5&gt;HTML 5&lt;/h1&gt;
 
-   &lt;h2 class=&quot;no-num no-toc&quot; id=draft&gt;Draft Recommendation &mdash; 25 August
+   &lt;h2 class=&quot;no-num no-toc&quot; id=draft&gt;Draft Recommendation &mdash; 26 August
     2008&lt;/h2&gt;
 
    &lt;p&gt;You can take part in this work. &lt;a
@@ -11935,9 +11935,9 @@
      &lt;a href=&quot;#outline&quot;&gt;outline&lt;/a&gt;. Abort these steps.
 
    &lt;li&gt;
-    &lt;p&gt;Associate any nodes that were not associated a &lt;a href=&quot;#section0&quot;
-     title=concept-section&gt;section&lt;/a&gt; in the steps above with &lt;var
-     title=&quot;&quot;&gt;current outlinee&lt;/var&gt; as their section.
+    &lt;p&gt;Associate any nodes that were not associated with a &lt;a
+     href=&quot;#section0&quot; title=concept-section&gt;section&lt;/a&gt; in the steps above
+     with &lt;var title=&quot;&quot;&gt;current outlinee&lt;/var&gt; as their section.
 
    &lt;li&gt;
     &lt;p&gt;Associate all nodes with the heading of the &lt;a href=&quot;#section0&quot;
@@ -16147,38 +16147,9 @@
 
    &lt;dt&gt;If the &lt;code title=attr-img-src&gt;&lt;a href=&quot;#src&quot;&gt;src&lt;/a&gt;&lt;/code&gt;
     attribute is set and the &lt;code title=attr-img-alt&gt;&lt;a
-    href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute is set to a string whose first
-    character is a U+007B LEFT CURLY BRACKET character ({) and whose last
-    character is a U+007D RIGHT CURLY BRACKET character (})
+    href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute is set to a value that isn't empty
 
    &lt;dd&gt;
-    &lt;p&gt;The image is a key part of the content, and there is no textual
-     equivalent of the image available. The string consisting of all the
-     characters between the first and the last character of the value of the
-     &lt;code title=attr-img-alt&gt;&lt;a href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute gives
-     the kind of image (e.g. photo, diagram, user-uploaded image). If that
-     value is the empty string (i.e. the attribute is just &quot;&lt;code
-     title=&quot;&quot;&gt;{}&lt;/code&gt;&quot;), then even the kind of image being shown is not
-     known.&lt;/p&gt;
-
-    &lt;p&gt;If the image is &lt;i&gt;available&lt;/i&gt;, the element represents the image
-     specified by the &lt;code title=attr-img-src&gt;&lt;a href=&quot;#src&quot;&gt;src&lt;/a&gt;&lt;/code&gt;
-     attribute.&lt;/p&gt;
-
-    &lt;p&gt;If the image is not &lt;i&gt;available&lt;/i&gt; or if the user agent is not
-     configured to display the image, then the user agent should display some
-     sort of indicator that the image is not being rendered, and, if
-     possible, provide to the user the information regarding the kind of
-     image that is (as derived from the &lt;code title=attr-img-alt&gt;&lt;a
-     href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute).&lt;/p&gt;
-
-   &lt;dt&gt;If the &lt;code title=attr-img-src&gt;&lt;a href=&quot;#src&quot;&gt;src&lt;/a&gt;&lt;/code&gt;
-    attribute is set and the &lt;code title=attr-img-alt&gt;&lt;a
-    href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute is set to a value that isn't
-    matched by the previous two entries (not empty, not &quot;&lt;code
-    title=&quot;&quot;&gt;{...}&lt;/code&gt;&quot;)
-
-   &lt;dd&gt;
     &lt;p&gt;The image is a key part of the content; the &lt;code
      title=attr-img-alt&gt;&lt;a href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute gives a
      textual equivalent or replacement for the image.&lt;/p&gt;
@@ -16197,28 +16168,54 @@
     href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute is not
 
    &lt;dd&gt;
-    &lt;p&gt;The image's role in the document is unknown.&lt;/p&gt;
+    &lt;p&gt;The image might be a key part of the content, and there is no textual
+     equivalent of the image available.&lt;/p&gt;
 
     &lt;p&gt;If the image is &lt;i&gt;available&lt;/i&gt;, the element represents the image
      specified by the &lt;code title=attr-img-src&gt;&lt;a href=&quot;#src&quot;&gt;src&lt;/a&gt;&lt;/code&gt;
      attribute.&lt;/p&gt;
 
     &lt;p&gt;If the image is not &lt;i&gt;available&lt;/i&gt; or if the user agent is not
-     configured to display the image, then the user agent may display some
-     sort of indicator that the image is not being rendered.&lt;/p&gt;
+     configured to display the image, then the user agent should display some
+     sort of indicator that there is an image that is not being rendered, and
+     may, if requested by the user, or if so configured, or when required to
+     provide contextual information in response to navigation, provide
+     caption information for the image, derived as follows:&lt;/p&gt;
 
-   &lt;dt&gt;If the &lt;code title=attr-img-src&gt;&lt;a href=&quot;#src&quot;&gt;src&lt;/a&gt;&lt;/code&gt;
-    attribute is not set and the &lt;code title=attr-img-alt&gt;&lt;a
-    href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute is set to a string whose first
-    character is a U+007B LEFT CURLY BRACKET character ({) and whose last
-    character is a U+007D RIGHT CURLY BRACKET character (})
+    &lt;ol&gt;
+     &lt;li&gt;
+      &lt;p&gt;If the image has a &lt;code title=attr-title&gt;&lt;a
+       href=&quot;#title&quot;&gt;title&lt;/a&gt;&lt;/code&gt; attribute whose value is not the empty
+       string, then the value of that attribute is the caption information;
+       abort these steps.
 
-   &lt;dd&gt;
-    &lt;p&gt;The user agent should display some sort of indicator that an image is
-     missing, providing to the user the information regarding the kind of
-     image that it would be (as derived from the &lt;code title=attr-img-alt&gt;&lt;a
-     href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute).&lt;/p&gt;
+     &lt;li&gt;
+      &lt;p&gt;If the image is the child of a &lt;code&gt;&lt;a
+       href=&quot;#figure&quot;&gt;figure&lt;/a&gt;&lt;/code&gt; element that has a child &lt;code&gt;&lt;a
+       href=&quot;#legend&quot;&gt;legend&lt;/a&gt;&lt;/code&gt; element, then the contents of the
+       first such &lt;code&gt;&lt;a href=&quot;#legend&quot;&gt;legend&lt;/a&gt;&lt;/code&gt; element are the
+       caption information; abort these steps.
+     &lt;/li&gt;
+     &lt;!-- aria processing goes here --&gt;
 
+     &lt;li&gt;
+      &lt;p&gt;Run the algorithm to create the &lt;a href=&quot;#outline&quot;&gt;outline&lt;/a&gt; for
+       the document.
+
+     &lt;li&gt;
+      &lt;p&gt;If the &lt;code&gt;&lt;a href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element did not end up
+       associated with a heading in theoutline, or if there are any other
+       images that are lacking an &lt;code title=attr-img-alt&gt;&lt;a
+       href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute and that are associated with the
+       same heading in the outline as the &lt;code&gt;&lt;a href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt;
+       element in question, then there is no caption information; abort these
+       steps.
+
+     &lt;li&gt;
+      &lt;p&gt;The caption information is the heading with which the image is
+       associated according to the outline.
+    &lt;/ol&gt;
+
    &lt;dt&gt;If the &lt;code title=attr-img-src&gt;&lt;a href=&quot;#src&quot;&gt;src&lt;/a&gt;&lt;/code&gt;
     attribute is not set and either the &lt;code title=attr-img-alt&gt;&lt;a
     href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute is set to the empty string or the
@@ -16367,10 +16364,12 @@
 
    &lt;p&gt;Here it is not known at the time of publication what the image will be,
     only that it will be a coat of arms of some kind, and thus no replacement
-    text can be provided, and instead only the kind of image is provided:&lt;/p&gt;
+    text can be provided, and instead only a brief caption for the image is
+    provided, in the &lt;code title=attr-title&gt;&lt;a href=&quot;#title&quot;&gt;title&lt;/a&gt;&lt;/code&gt;
+    attribute:&lt;/p&gt;
 
    &lt;pre&gt;&lt;p&gt;The last user to have uploaded a coat of arms uploaded this one:&lt;/p&gt;
-&lt;p&gt;&lt;img src=&quot;last-uploaded-coat-of-arms.cgi&quot; alt=&quot;{user-uploaded coat of arms}&quot;&gt;&lt;/p&gt;&lt;/pre&gt;
+&lt;p&gt;&lt;img src=&quot;last-uploaded-coat-of-arms.cgi&quot; title=&quot;User-uploaded coat of arms.&quot;&gt;&lt;/p&gt;&lt;/pre&gt;
 
    &lt;p&gt;Ideally, the author would find a way to provide real replacement text
     even in this case, e.g. by asking the previous user. Not providing
@@ -16431,12 +16430,6 @@
    href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute depend on what the image is intended
    to represent, as described in the following sections.
 
-  &lt;p&gt;A general requirement that applies in all cases is that the &lt;code
-   title=attr-img-alt&gt;&lt;a href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute's value must
-   not start with a U+007B LEFT CURLY BRACKET character ({) and end with a
-   U+007D RIGHT CURLY BRACKET character (}), unless the attribute is giving
-   the &lt;em&gt;kind&lt;/em&gt; of image rather than replacement text.
-
   &lt;h6 id=a-link&gt;&lt;span class=secno&gt;4.7.2.1.1. &lt;/span&gt;A link or button
    containing nothing but the image&lt;/h6&gt;
 
@@ -16728,7 +16721,7 @@
 to both the DOM and to Script Execution. Script Execution is
 linked to the DOM, and, using document.write(), passes data to
 the Tokeniser.&lt;/p&gt;
-&lt;strong&gt;&lt;p&gt;&lt;img src=&quot;images/parsing-model-overview.png&quot; alt=&quot;&quot;
+&lt;p&gt;&lt;strong&gt;&lt;img src=&quot;images/parsing-model-overview.png&quot; alt=&quot;&quot;
         title=&quot;Flowchart representation of the parsing model.&quot;&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/pre&gt;
 
    &lt;pre&gt;&lt;!-- Using &lt;figure&gt; and &lt;legend&gt; --&gt;
@@ -16861,7 +16854,7 @@
 &lt;p&gt;You come across a flying spaghetti monster. Which side of His
 Noodliness do you wish to reach out for?&lt;/p&gt;
 &lt;strong&gt;&lt;p&gt;&lt;a href=&quot;?go=left&quot; &gt;&lt;img src=&quot;fsm-left.png&quot;  alt=&quot;Left side. &quot;&gt;&lt;/a
-  &gt;&lt;img src=&quot;fsm-middle.png&quot;  alt=&quot;&quot;
+  &gt;&lt;img src=&quot;fsm-middle.png&quot; alt=&quot;&quot;
   &gt;&lt;a href=&quot;?go=right&quot;&gt;&lt;img src=&quot;fsm-right.png&quot; alt=&quot;Right side.&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/strong&gt;&lt;/pre&gt;
   &lt;/div&gt;
 
@@ -16990,30 +16983,48 @@
      sharing an image on his blog).&lt;/p&gt;
 
     &lt;p&gt;In such cases, the &lt;code title=attr-img-alt&gt;&lt;a
-     href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute's value must be a description of
-     the &lt;em&gt;kind&lt;/em&gt; of image, surrounded by braces (&quot;{&quot; and &quot;}&quot;), if that
-     is known. The kind of image is something along the lines of &quot;photo&quot;,
-     &quot;diagram&quot;, &quot;painting&quot;, &quot;user-uploaded image&quot;, etc. If even the kind of
-     image cannot be determined, then the string &lt;code title=&quot;&quot;&gt;{}&lt;/code&gt;
-     must be used.&lt;/p&gt;
+     href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute's value may be omitted, but one of
+     the following conditions must be met as well:&lt;/p&gt;
 
+    &lt;ul&gt;
+     &lt;li&gt;The &lt;code title=attr-title&gt;&lt;a href=&quot;#title&quot;&gt;title&lt;/a&gt;&lt;/code&gt;
+      attribute is present and has a non-empty value.
+
+     &lt;li&gt;The &lt;code&gt;&lt;a href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element is in a &lt;code&gt;&lt;a
+      href=&quot;#figure&quot;&gt;figure&lt;/a&gt;&lt;/code&gt; element that contains a &lt;code&gt;&lt;a
+      href=&quot;#legend&quot;&gt;legend&lt;/a&gt;&lt;/code&gt; element that contains content other
+      than &lt;a href=&quot;#inter-element&quot;&gt;inter-element whitespace&lt;/a&gt;.
+
+     &lt;li&gt;The &lt;code&gt;&lt;a href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element is the only &lt;code&gt;&lt;a
+      href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element without an &lt;code
+      title=attr-img-alt&gt;&lt;a href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute in its &lt;a
+      href=&quot;#section0&quot; title=concept-section&gt;section&lt;/a&gt;, and its &lt;a
+      href=&quot;#section0&quot; title=concept-section&gt;section&lt;/a&gt; has an associated
+      heading.
+    &lt;/ul&gt;
+
     &lt;p class=note&gt;Such cases are to be kept to an absolute minimum. If there
      is even the slightest possibility of the author having the ability to
-     provide real alternative text, then it would not be acceptable to
-     provide the &quot;&lt;code title=&quot;&quot;&gt;{...}&lt;/code&gt;&quot;-style value.&lt;/p&gt;
+     provide real alternative text, then it would not be acceptable to omit
+     the code title=&quot;attr-img-alt&quot;&gt;alt attribute.&lt;/p&gt;
 
     &lt;div class=example&gt;
      &lt;p&gt;A photo on a photo-sharing site, if the site received the image with
       no metadata other than the caption:&lt;/p&gt;
 
      &lt;pre&gt;&lt;figure&gt;
- &lt;strong&gt;&lt;img src=&quot;1100670787_6a7c664aef.jpg&quot; alt=&quot;{photo}&quot;&gt;&lt;/strong&gt;
+ &lt;strong&gt;&lt;img src=&quot;1100670787_6a7c664aef.jpg&quot;&gt;&lt;/strong&gt;
  &lt;legend&gt;Bubbles traveled everywhere with us.&lt;/legend&gt;
 &lt;/figure&gt;&lt;/pre&gt;
 
-     &lt;p&gt;In this case, though, it would be better if a detailed description of
-      the important parts of the image obtained from the user and included on
-      the page.&lt;/p&gt;
+     &lt;p&gt;It could also be marked up like this:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;h1&gt;Bubbles traveled everywhere with us.&lt;/h1&gt;
+ &lt;strong&gt;&lt;img src=&quot;1100670787_6a7c664aef.jpg&quot;&gt;&lt;/strong&gt;&lt;/pre&gt;
+
+     &lt;p&gt;In either case, though, it would be better if a detailed description
+      of the important parts of the image obtained from the user and included
+      on the page.&lt;/p&gt;
     &lt;/div&gt;
 
     &lt;div class=example&gt;
@@ -17025,7 +17036,7 @@
  &lt;h1&gt;I took a photo&lt;/h1&gt;
  &lt;p&gt;I went out today and took a photo!&lt;/p&gt;
  &lt;figure&gt;
-  &lt;strong&gt;&lt;img src=&quot;photo2.jpeg&quot; alt=&quot;{photograph}&quot;&gt;&lt;/strong&gt;
+  &lt;strong&gt;&lt;img src=&quot;photo2.jpeg&quot;&gt;&lt;/strong&gt;
   &lt;legend&gt;A photograph taken blindly from my front porch.&lt;/legend&gt;
  &lt;/figure&gt;
 &lt;/article&gt;&lt;/pre&gt;
@@ -17052,10 +17063,12 @@
      &lt;p&gt;Sometimes the entire point of the image is that a textual description
       is not available, and the user is to provide the description. For
       instance, the point of a CAPTCHA image is to see if the user can
-      literally read the graphic. Here is one way to mark up a CAPTCHA:&lt;/p&gt;
+      literally read the graphic. Here is one way to mark up a CAPTCHA (note
+      the &lt;code title=attr-title&gt;&lt;a href=&quot;#title&quot;&gt;title&lt;/a&gt;&lt;/code&gt;
+      attribute):&lt;/p&gt;
 
      &lt;pre&gt;&lt;p&gt;&lt;label&gt;What does this image say?
-&lt;strong&gt;&lt;img src=&quot;captcha.cgi?id=8934&quot; alt=&quot;{captcha}&quot;&gt;&lt;/strong&gt;
+&lt;strong&gt;&lt;img src=&quot;captcha.cgi?id=8934&quot; title=&quot;CAPTCHA&quot;&gt;&lt;/strong&gt;
 &lt;input type=text name=captcha&gt;&lt;/label&gt;
 (If you cannot see the image, you can use an &lt;a
 href=&quot;?audio&quot;&gt;audio&lt;/a&gt; test instead.)&lt;/p&gt;&lt;/pre&gt;
@@ -17070,24 +17083,16 @@
   &lt;tr&gt; &lt;th&gt; Images &lt;th&gt; Descriptions
  &lt;tbody&gt;
   &lt;tr&gt;
-   &lt;td&gt; &lt;strong&gt;&lt;img src=&quot;2421.png&quot; alt=&quot;{}&quot;&gt;&lt;/strong&gt;
+   &lt;td&gt; &lt;strong&gt;&lt;img src=&quot;2421.png&quot; title=&quot;Image 640 by 100, filename 'banner.gif'&quot;&gt;&lt;/strong&gt;
    &lt;td&gt; &lt;input name=&quot;alt2421&quot;&gt;
   &lt;tr&gt;
-   &lt;td&gt; &lt;strong&gt;&lt;img src=&quot;2422.png&quot; alt=&quot;{}&quot;&gt;&lt;/strong&gt;
+   &lt;td&gt; &lt;strong&gt;&lt;img src=&quot;2422.png&quot; title=&quot;Image 200 by 480, filename 'ad3.gif'&quot;&gt;&lt;/strong&gt;
    &lt;td&gt; &lt;input name=&quot;alt2422&quot;&gt;
 &lt;/table&gt;&lt;/pre&gt;
-    &lt;/div&gt;
 
-    &lt;div class=example&gt;
-     &lt;p&gt;The values given in the &quot;&lt;code title=&quot;&quot;&gt;{...}&lt;/code&gt;&quot; syntax are
-      intended for the user, they are not keywords. So, for instance, in a
-      Finnish document, they would be in Finnish. The following snippet shows
-      how a photo might be marked up on a Finnish-language photo upload site,
-      when the user has not provided any replacement text:&lt;/p&gt;
-
-     &lt;pre&gt;&lt;html lang=&quot;fi&quot;&gt;
- ...
- &lt;strong&gt;&lt;img src=&quot;v3525.jpeg&quot; alt=&quot;{valokuva}&quot;&gt;&lt;/strong&gt;&lt;/pre&gt;
+     &lt;p&gt;Notice that even in this example, as much useful information as
+      possible is still included in the &lt;code title=attr-title&gt;&lt;a
+      href=&quot;#title&quot;&gt;title&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
     &lt;/div&gt;
 
     &lt;p class=note&gt;Since some users cannot use images at all (e.g. because
@@ -17095,9 +17100,11 @@
      browser, or because they are listening to the page being read out by a
      hands-free automobile voice Web browser, or simply because they are
      blind), the &lt;code title=attr-img-alt&gt;&lt;a href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt;
-     attribute is only allowed to contain the &lt;em&gt;kind&lt;/em&gt; of image rather
-     than replacement text when no alternative text is available and none can
-     be made available, e.g. on automated image gallery sites.&lt;/p&gt;
+     attribute is only allowed to be omitted rather than being provided with
+     replacement text when no alternative text is available and none can be
+     made available, as in the above examples. Lack of effort from the part
+     of the author is not an acceptable reason for omitting the &lt;code
+     title=attr-img-alt&gt;&lt;a href=&quot;#alt0&quot;&gt;alt&lt;/a&gt;&lt;/code&gt; attribute.&lt;/p&gt;
   &lt;/dl&gt;
 
   &lt;h6 id=an-image&gt;&lt;span class=secno&gt;4.7.2.1.10. &lt;/span&gt;An image not intended
@@ -17145,6 +17152,12 @@
    title=attr-title&gt;&lt;a href=&quot;#title&quot;&gt;title&lt;/a&gt;&lt;/code&gt; attribute can be used
    for supplemental information.
 
+  &lt;p class=note&gt;One way to think of alternative text is to think about what
+   how you would read the page containing the image to someone over the
+   phone, without mentioning that there is an image present. Whatever you say
+   instead of the image is typically a good start for writing the alternative
+   text.
+
   &lt;h4 id=the-iframe&gt;&lt;span class=secno&gt;4.7.3 &lt;/span&gt;The &lt;dfn
    id=iframe&gt;&lt;code&gt;iframe&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 

Modified: source
===================================================================
--- source	2008-08-25 10:03:53 UTC (rev 2114)
+++ source	2008-08-26 08:19:38 UTC (rev 2115)
@@ -9758,7 +9758,7 @@
    &lt;span&gt;sectioning root&lt;/span&gt; element in the DOM. There is no
    &lt;span&gt;outline&lt;/span&gt;. Abort these steps.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Associate any nodes that were not associated a &lt;span
+   &lt;li&gt;&lt;p&gt;Associate any nodes that were not associated with a &lt;span
    title=&quot;concept-section&quot;&gt;section&lt;/span&gt; in the steps above with &lt;var
    title=&quot;&quot;&gt;current outlinee&lt;/var&gt; as their section.&lt;/p&gt;&lt;/li&gt;
 
@@ -13626,41 +13626,10 @@
 
    &lt;dt&gt;If the &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute is set
    and the &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute is set to a
-   string whose first character is a U+007B LEFT CURLY BRACKET
-   character ({) and whose last character is a U+007D RIGHT CURLY
-   BRACKET character (})&lt;/dt&gt;
+   value that isn't empty&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;The image is a key part of the content, and there is no textual
-    equivalent of the image available. The string consisting of all
-    the characters between the first and the last character of the
-    value of the &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute gives
-    the kind of image (e.g. photo, diagram, user-uploaded image). If
-    that value is the empty string (i.e. the attribute is just &quot;&lt;code
-    title=&quot;&quot;&gt;{}&lt;/code&gt;&quot;), then even the kind of image being shown is
-    not known.&lt;/p&gt;
-
-    &lt;p&gt;If the image is &lt;i&gt;available&lt;/i&gt;, the element represents the image
-    specified by the &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt;
-    attribute.&lt;/p&gt;
-
-    &lt;p&gt;If the image is not &lt;i&gt;available&lt;/i&gt; or if the user agent is not
-    configured to display the image, then the user agent should
-    display some sort of indicator that the image is not being
-    rendered, and, if possible, provide to the user the information
-    regarding the kind of image that is (as derived from the &lt;code
-    title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute).&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;If the &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute is set
-   and the &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute is set to a
-   value that isn't matched by the previous two entries (not empty,
-   not &quot;&lt;code title=&quot;&quot;&gt;{...}&lt;/code&gt;&quot;)&lt;/dt&gt;
-
-   &lt;dd&gt;
-
     &lt;p&gt;The image is a key part of the content; the &lt;code
     title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute gives a textual
     equivalent or replacement for the image.&lt;/p&gt;
@@ -13682,31 +13651,50 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;The image's role in the document is unknown.&lt;/p&gt;
+    &lt;p&gt;The image might be a key part of the content, and there is no
+    textual equivalent of the image available.&lt;/p&gt;
 
-    &lt;p&gt;If the image is &lt;i&gt;available&lt;/i&gt;, the element represents the image
-    specified by the &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt;
+    &lt;p&gt;If the image is &lt;i&gt;available&lt;/i&gt;, the element represents the
+    image specified by the &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt;
     attribute.&lt;/p&gt;
 
-    &lt;p&gt;If the image is not &lt;i&gt;available&lt;/i&gt; or if the user agent is not
-    configured to display the image, then the user agent may display
-    some sort of indicator that the image is not being rendered.&lt;/p&gt;
+    &lt;p&gt;If the image is not &lt;i&gt;available&lt;/i&gt; or if the user agent is
+    not configured to display the image, then the user agent should
+    display some sort of indicator that there is an image that is not
+    being rendered, and may, if requested by the user, or if so
+    configured, or when required to provide contextual information in
+    response to navigation, provide caption information for the image,
+    derived as follows:&lt;/p&gt;
 
-   &lt;/dd&gt;
+    &lt;ol&gt;
 
-   &lt;dt&gt;If the &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute is not
-   set and the &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute is set
-   to a string whose first character is a U+007B LEFT CURLY BRACKET
-   character ({) and whose last character is a U+007D RIGHT CURLY
-   BRACKET character (})&lt;/dt&gt;
+     &lt;li&gt;&lt;p&gt;If the image has a &lt;code title=&quot;attr-title&quot;&gt;title&lt;/code&gt;
+     attribute whose value is not the empty string, then the value of
+     that attribute is the caption information; abort these
+     steps.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;dd&gt;
+     &lt;li&gt;&lt;p&gt;If the image is the child of a &lt;code&gt;figure&lt;/code&gt; element
+     that has a child &lt;code&gt;legend&lt;/code&gt; element, then the contents
+     of the first such &lt;code&gt;legend&lt;/code&gt; element are the caption
+     information; abort these steps.&lt;/p&gt;&lt;/li&gt;
 
-    &lt;p&gt;The user agent should display some sort of indicator that an
-    image is missing, providing to the user the information regarding
-    the kind of image that it would be (as derived from the &lt;code
-    title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute).&lt;/p&gt;
+     &lt;!-- aria processing goes here --&gt;
 
+     &lt;li&gt;&lt;p&gt;Run the algorithm to create the &lt;span&gt;outline&lt;/span&gt; for
+     the document.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If the &lt;code&gt;img&lt;/code&gt; element did not end up associated
+     with a heading in theoutline, or if there are any other images
+     that are lacking an &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt;
+     attribute and that are associated with the same heading in the
+     outline as the &lt;code&gt;img&lt;/code&gt; element in question, then there
+     is no caption information; abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;The caption information is the heading with which the
+     image is associated according to the outline.&lt;/p&gt;&lt;/li&gt;
+
+    &lt;/ol&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;If the &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute is not
@@ -13864,11 +13852,12 @@
 
    &lt;p&gt;Here it is not known at the time of publication what the image
    will be, only that it will be a coat of arms of some kind, and thus
-   no replacement text can be provided, and instead only the kind of
-   image is provided:&lt;/p&gt;
+   no replacement text can be provided, and instead only a brief
+   caption for the image is provided, in the &lt;code
+   title=&quot;attr-title&quot;&gt;title&lt;/code&gt; attribute:&lt;/p&gt;
 
    &lt;pre&gt;&lt;p&gt;The last user to have uploaded a coat of arms uploaded this one:&lt;/p&gt;
-&lt;p&gt;&lt;img src=&quot;last-uploaded-coat-of-arms.cgi&quot; alt=&quot;{user-uploaded coat of arms}&quot;&gt;&lt;/p&gt;&lt;/pre&gt;
+&lt;p&gt;&lt;img src=&quot;last-uploaded-coat-of-arms.cgi&quot; title=&quot;User-uploaded coat of arms.&quot;&gt;&lt;/p&gt;&lt;/pre&gt;
 
    &lt;p&gt;Ideally, the author would find a way to provide real replacement
    text even in this case, e.g. by asking the previous user. Not
@@ -13934,13 +13923,7 @@
   attribute depend on what the image is intended to represent, as
   described in the following sections.&lt;/p&gt;
 
-  &lt;p&gt;A general requirement that applies in all cases is that the &lt;code
-  title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute's value must not start
-  with a U+007B LEFT CURLY BRACKET character ({) and end with a U+007D
-  RIGHT CURLY BRACKET character (}), unless the attribute is giving
-  the &lt;em&gt;kind&lt;/em&gt; of image rather than replacement text.&lt;/p&gt;
 
-
   &lt;h6&gt;A link or button containing nothing but the image&lt;/h6&gt;
 
   &lt;p&gt;When an &lt;span&gt;a&lt;/span&gt; element that is a &lt;span&gt;hyperlink&lt;/span&gt;,
@@ -14256,7 +14239,7 @@
 to both the DOM and to Script Execution. Script Execution is
 linked to the DOM, and, using document.write(), passes data to
 the Tokeniser.&lt;/p&gt;
-&lt;strong&gt;&lt;p&gt;&lt;img src=&quot;images/parsing-model-overview.png&quot; alt=&quot;&quot;
+&lt;p&gt;&lt;strong&gt;&lt;img src=&quot;images/parsing-model-overview.png&quot; alt=&quot;&quot;
         title=&quot;Flowchart representation of the parsing model.&quot;&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/pre&gt;
 
    &lt;pre&gt;&lt;!-- Using &lt;figure&gt; and &lt;legend&gt; --&gt;
@@ -14401,7 +14384,7 @@
 &lt;p&gt;You come across a flying spaghetti monster. Which side of His
 Noodliness do you wish to reach out for?&lt;/p&gt;
 &lt;strong&gt;&lt;p&gt;&lt;a href=&quot;?go=left&quot; &gt;&lt;img src=&quot;fsm-left.png&quot;  alt=&quot;Left side. &quot;&gt;&lt;/a
-  &gt;&lt;img src=&quot;fsm-middle.png&quot;  alt=&quot;&quot;
+  &gt;&lt;img src=&quot;fsm-middle.png&quot; alt=&quot;&quot;
   &gt;&lt;a href=&quot;?go=right&quot;&gt;&lt;img src=&quot;fsm-right.png&quot; alt=&quot;Right side.&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/strong&gt;&lt;/pre&gt;
 
   &lt;/div&gt;
@@ -14555,18 +14538,31 @@
     (e.g. a blind photographer sharing an image on his blog).&lt;/p&gt;
 
     &lt;p&gt;In such cases, the &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt;
-    attribute's value must be a description of the &lt;em&gt;kind&lt;/em&gt; of
-    image, surrounded by braces (&quot;{&quot; and &quot;}&quot;), if that is known. The
-    kind of image is something along the lines of &quot;photo&quot;, &quot;diagram&quot;,
-    &quot;painting&quot;, &quot;user-uploaded image&quot;, etc. If even the kind of image
-    cannot be determined, then the string &lt;code title=&quot;&quot;&gt;{}&lt;/code&gt;
-    must be used.&lt;/p&gt;
+    attribute's value may be omitted, but one of the following
+    conditions must be met as well:&lt;/p&gt;
 
+    &lt;ul&gt;
+
+     &lt;li&gt;The &lt;code title=&quot;attr-title&quot;&gt;title&lt;/code&gt; attribute is
+     present and has a non-empty value.&lt;/li&gt;
+
+     &lt;li&gt;The &lt;code&gt;img&lt;/code&gt; element is in a &lt;code&gt;figure&lt;/code&gt;
+     element that contains a &lt;code&gt;legend&lt;/code&gt; element that contains
+     content other than &lt;span&gt;inter-element whitespace&lt;/span&gt;.&lt;/li&gt;
+
+     &lt;li&gt;The &lt;code&gt;img&lt;/code&gt; element is the only &lt;code&gt;img&lt;/code&gt;
+     element without an &lt;code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt;
+     attribute in its &lt;span title=&quot;concept-section&quot;&gt;section&lt;/span&gt;,
+     and its &lt;span title=&quot;concept-section&quot;&gt;section&lt;/span&gt; has an
+     associated heading.&lt;/li&gt;
+
+    &lt;/ul&gt;
+
     &lt;p class=&quot;note&quot;&gt;Such cases are to be kept to an absolute
     minimum. If there is even the slightest possibility of the author
     having the ability to provide real alternative text, then it would
-    not be acceptable to provide the &quot;&lt;code
-    title=&quot;&quot;&gt;{...}&lt;/code&gt;&quot;-style value.&lt;/p&gt;
+    not be acceptable to omit the code title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt;
+    attribute.&lt;/p&gt;
 
     &lt;div class=&quot;example&quot;&gt;
 
@@ -14574,11 +14570,16 @@
      image with no metadata other than the caption:&lt;/p&gt;
 
      &lt;pre&gt;&lt;figure&gt;
- &lt;strong&gt;&lt;img src=&quot;1100670787_6a7c664aef.jpg&quot; alt=&quot;{photo}&quot;&gt;&lt;/strong&gt;
+ &lt;strong&gt;&lt;img src=&quot;1100670787_6a7c664aef.jpg&quot;&gt;&lt;/strong&gt;
  &lt;legend&gt;Bubbles traveled everywhere with us.&lt;/legend&gt;
 &lt;/figure&gt;&lt;/pre&gt;
 
-     &lt;p&gt;In this case, though, it would be better if a detailed
+     &lt;p&gt;It could also be marked up like this:&lt;/p&gt;
+
+     &lt;pre&gt;&lt;h1&gt;Bubbles traveled everywhere with us.&lt;/h1&gt;
+ &lt;strong&gt;&lt;img src=&quot;1100670787_6a7c664aef.jpg&quot;&gt;&lt;/strong&gt;&lt;/pre&gt;
+
+     &lt;p&gt;In either case, though, it would be better if a detailed
      description of the important parts of the image obtained from the
      user and included on the page.&lt;/p&gt;
 
@@ -14594,7 +14595,7 @@
  &lt;h1&gt;I took a photo&lt;/h1&gt;
  &lt;p&gt;I went out today and took a photo!&lt;/p&gt;
  &lt;figure&gt;
-  &lt;strong&gt;&lt;img src=&quot;photo2.jpeg&quot; alt=&quot;{photograph}&quot;&gt;&lt;/strong&gt;
+  &lt;strong&gt;&lt;img src=&quot;photo2.jpeg&quot;&gt;&lt;/strong&gt;
   &lt;legend&gt;A photograph taken blindly from my front porch.&lt;/legend&gt;
  &lt;/figure&gt;
 &lt;/article&gt;&lt;/pre&gt;
@@ -14623,11 +14624,12 @@
      &lt;p&gt;Sometimes the entire point of the image is that a textual
      description is not available, and the user is to provide the
      description. For instance, the point of a CAPTCHA image is to see
-     if the user can literally read the graphic. Here is one way to mark
-     up a CAPTCHA:&lt;/p&gt;
+     if the user can literally read the graphic. Here is one way to
+     mark up a CAPTCHA (note the &lt;code title=&quot;attr-title&quot;&gt;title&lt;/code&gt;
+     attribute):&lt;/p&gt;
 
      &lt;pre&gt;&lt;p&gt;&lt;label&gt;What does this image say?
-&lt;strong&gt;&lt;img src=&quot;captcha.cgi?id=8934&quot; alt=&quot;{captcha}&quot;&gt;&lt;/strong&gt;
+&lt;strong&gt;&lt;img src=&quot;captcha.cgi?id=8934&quot; title=&quot;CAPTCHA&quot;&gt;&lt;/strong&gt;
 &lt;input type=text name=captcha&gt;&lt;/label&gt;
 (If you cannot see the image, you can use an &lt;a
 href=&quot;?audio&quot;&gt;audio&lt;/a&gt; test instead.)&lt;/p&gt;&lt;/pre&gt;
@@ -14642,28 +14644,17 @@
   &lt;tr&gt; &lt;th&gt; Images &lt;th&gt; Descriptions
  &lt;tbody&gt;
   &lt;tr&gt;
-   &lt;td&gt; &lt;strong&gt;&lt;img src=&quot;2421.png&quot; alt=&quot;{}&quot;&gt;&lt;/strong&gt;
+   &lt;td&gt; &lt;strong&gt;&lt;img src=&quot;2421.png&quot; title=&quot;Image 640 by 100, filename 'banner.gif'&quot;&gt;&lt;/strong&gt;
    &lt;td&gt; &lt;input name=&quot;alt2421&quot;&gt;
   &lt;tr&gt;
-   &lt;td&gt; &lt;strong&gt;&lt;img src=&quot;2422.png&quot; alt=&quot;{}&quot;&gt;&lt;/strong&gt;
+   &lt;td&gt; &lt;strong&gt;&lt;img src=&quot;2422.png&quot; title=&quot;Image 200 by 480, filename 'ad3.gif'&quot;&gt;&lt;/strong&gt;
    &lt;td&gt; &lt;input name=&quot;alt2422&quot;&gt;
 &lt;/table&gt;&lt;/pre&gt;
 
-    &lt;/div&gt;
+     &lt;p&gt;Notice that even in this example, as much useful information
+     as possible is still included in the &lt;code
+     title=&quot;attr-title&quot;&gt;title&lt;/code&gt; attribute.&lt;/p&gt;
 
-    &lt;div class=&quot;example&quot;&gt;
-
-     &lt;p&gt;The values given in the &quot;&lt;code title=&quot;&quot;&gt;{...}&lt;/code&gt;&quot; syntax are
-     intended for the user, they are not keywords. So, for instance, in
-     a Finnish document, they would be in Finnish. The following snippet
-     shows how a photo might be marked up on a Finnish-language photo
-     upload site, when the user has not provided any replacement
-     text:&lt;/p&gt;
-
-     &lt;pre&gt;&lt;html lang=&quot;fi&quot;&gt;
- ...
- &lt;strong&gt;&lt;img src=&quot;v3525.jpeg&quot; alt=&quot;{valokuva}&quot;&gt;&lt;/strong&gt;&lt;/pre&gt;
-
     &lt;/div&gt;
 
     &lt;p class=&quot;note&quot;&gt;Since some users cannot use images at all
@@ -14671,10 +14662,12 @@
     are using a text-only browser, or because they are listening to
     the page being read out by a hands-free automobile voice Web
     browser, or simply because they are blind), the &lt;code
-    title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute is only allowed to
-    contain the &lt;em&gt;kind&lt;/em&gt; of image rather than replacement text
-    when no alternative text is available and none can be made
-    available, e.g. on automated image gallery sites.&lt;/p&gt;
+    title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute is only allowed to be
+    omitted rather than being provided with replacement text when no
+    alternative text is available and none can be made available, as
+    in the above examples. Lack of effort from the part of the author
+    is not an acceptable reason for omitting the &lt;code
+    title=&quot;attr-img-alt&quot;&gt;alt&lt;/code&gt; attribute.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -14729,10 +14722,16 @@
   title=&quot;attr-title&quot;&gt;title&lt;/code&gt; attribute can be used for
   supplemental information.&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;One way to think of alternative text is to think
+  about what how you would read the page containing the image to
+  someone over the phone, without mentioning that there is an image
+  present. Whatever you say instead of the image is typically a good
+  start for writing the alternative text.&lt;/p&gt;
 
 
 
 
+
   &lt;h4&gt;The &lt;dfn&gt;&lt;code&gt;iframe&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=&quot;element&quot;&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009000.html">[html5] r2114 - [e] (0) More alt='' examples.
</A></li>
	<LI>Next message: <A HREF="009002.html">[html5] r2116 - [] (0) Change 'unload' to 'close' for MessagePorts.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9001">[ date ]</a>
              <a href="thread.html#9001">[ thread ]</a>
              <a href="subject.html#9001">[ subject ]</a>
              <a href="author.html#9001">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
