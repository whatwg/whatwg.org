<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1430 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1430%20-%20/&In-Reply-To=%3C20080411042809.8157813A148%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008329.html">
   <LINK REL="Next"  HREF="008331.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1430 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1430%20-%20/&In-Reply-To=%3C20080411042809.8157813A148%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1430 - /">whatwg at whatwg.org
       </A><BR>
    <I>Thu Apr 10 21:28:09 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008329.html">[html5] r1428 - /
</A></li>
        <LI>Next message: <A HREF="008331.html">[html5] r1431 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8330">[ date ]</a>
              <a href="thread.html#8330">[ thread ]</a>
              <a href="subject.html#8330">[ subject ]</a>
              <a href="author.html#8330">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-04-10 21:28:06 -0700 (Thu, 10 Apr 2008)
New Revision: 1430

Modified:
   index
   source
Log:
[] (0) Update the spec for consistency with WebIDL.

Modified: index
===================================================================
--- index	2008-04-10 21:50:13 UTC (rev 1429)
+++ index	2008-04-11 04:28:06 UTC (rev 1430)
@@ -24,7 +24,7 @@
 
    &lt;h1 id=html-5&gt;HTML 5&lt;/h1&gt;
 
-   &lt;h2 class=&quot;no-num no-toc&quot; id=working&gt;Working Draft &mdash; 10 April 2008&lt;/h2&gt;
+   &lt;h2 class=&quot;no-num no-toc&quot; id=working&gt;Working Draft &mdash; 11 April 2008&lt;/h2&gt;
 
    &lt;p&gt;You can take part in this work. &lt;a
     href=&quot;<A HREF="http://www.whatwg.org/mailing-list">http://www.whatwg.org/mailing-list</A>&quot;&gt;Join the working group's
@@ -1775,8 +1775,6 @@
       scenes&lt;/a&gt;
 
      &lt;li&gt;&lt;a href=&quot;#timers&quot;&gt;&lt;span class=secno&gt;11.4 &lt;/span&gt;Timers&lt;/a&gt;
-
-     &lt;li&gt;&lt;a href=&quot;#events2&quot;&gt;&lt;span class=secno&gt;11.5 &lt;/span&gt;Events&lt;/a&gt;
     &lt;/ul&gt;
 
    &lt;li class=no-num&gt;&lt;a href=&quot;#references&quot;&gt;References&lt;/a&gt;
@@ -2230,18 +2228,16 @@
    Not-a-Number value, a &lt;code title=big-issue&gt;NOT_SUPPORTED_ERR&lt;/code&gt;
    exception must be raised.
 
-  &lt;p&gt;Unless other specified, if a DOM attribute that is a signed numeric type
-   is assigned a negative value, a &lt;code
-   title=big-issue&gt;NOT_SUPPORTED_ERR&lt;/code&gt; exception must be raised.
-
   &lt;p&gt;Unless other specified, if a method with an argument that is a floating
    point number type (&lt;code title=&quot;&quot;&gt;float&lt;/code&gt;) is passed an Infinity or
    Not-a-Number value, a &lt;code title=big-issue&gt;NOT_SUPPORTED_ERR&lt;/code&gt;
-   exception must be raised.
+   exception must be raised.&lt;/p&gt;
+  &lt;!-- XXX DOMB --&gt;
 
   &lt;p&gt;Unless other specified, if a method is passed fewer arguments than is
    defined for that method in its IDL definition, a &lt;code
-   title=big-issue&gt;NOT_SUPPORTED_ERR&lt;/code&gt; exception must be raised.
+   title=big-issue&gt;NOT_SUPPORTED_ERR&lt;/code&gt; exception must be raised.&lt;/p&gt;
+  &lt;!-- XXX DOMB --&gt;
 
   &lt;p&gt;Unless other specified, if a method is passed more arguments than is
    defined for that method in its IDL definition, the excess arguments must
@@ -2251,20 +2247,6 @@
   requirement in the canvas section for toDataURL() and
   getContext(). --&gt;
 
-  &lt;p&gt;Unless other specified, if a method is expecting, as one of its
-   arguments, as defined by its IDL definition, an object implementing a
-   particular interface &lt;var title=&quot;&quot;&gt;X&lt;/var&gt;, and the argument passed is an
-   object whose [[Class]] property is neither that interface &lt;var
-   title=&quot;&quot;&gt;X&lt;/var&gt;, nor the name of an interface &lt;var title=&quot;&quot;&gt;Y&lt;/var&gt; where
-   this specification requires that all objects implementing interface &lt;var
-   title=&quot;&quot;&gt;Y&lt;/var&gt; also implement interface &lt;var title=&quot;&quot;&gt;X&lt;/var&gt;, nor the
-   name of an interface that inherits from the expected interface &lt;var
-   title=&quot;&quot;&gt;X&lt;/var&gt;, then a &lt;code title=&quot;&quot;&gt;TYPE_MISMATCH_ERR&lt;/code&gt; exception
-   must be raised.
-
-  &lt;p class=big-issue&gt;Anything else? Passing the wrong type of object, maybe?
-   Implied conversions to int/float?
-
   &lt;h4 id=dependencies&gt;&lt;span class=secno&gt;1.3.2 &lt;/span&gt;Dependencies&lt;/h4&gt;
 
   &lt;p&gt;This specification relies on several other underlying specifications.
@@ -2305,9 +2287,9 @@
    &lt;dd&gt;
     &lt;p&gt;Implementations that use ECMAScript to implement the APIs defined in
      this specification must implement them in a manner consistent with the
-     ECMAScript Bindings for DOM Specifications specification, as this
+     ECMAScript Bindings defined in the Web IDL specification, as this
      specification uses that specification's terminology. &lt;a
-     href=&quot;#refsEBFD&quot;&gt;[EBFD]&lt;/a&gt;&lt;/p&gt;
+     href=&quot;#refsWebIDL&quot;&gt;[WebIDL]&lt;/a&gt;&lt;/p&gt;
   &lt;/dl&gt;
 
   &lt;p&gt;This specification does not require support of any particular network
@@ -2465,34 +2447,19 @@
    visual medium; they must be considered to apply to other media in
    equivalent ways.
 
-  &lt;p&gt;Various DOM interfaces are defined in this specification using
-   pseudo-IDL. This looks like OMG IDL but isn't. For instance, method
-   overloading is used, and types from the W3C DOM specifications are used
-   without qualification. Language-specific bindings for these abstract
-   interface definitions must be derived in the way consistent with W3C DOM
-   specifications. Some interface-specific binding information for ECMAScript
-   is included in this specification.
+  &lt;p&gt;DOM interfaces defined in this specification use Web IDL. User agents
+   must implement these interfaces as defined by the Web IDL specification.
+   &lt;a href=&quot;#refsWEBIDL&quot;&gt;[WEBIDL]&lt;/a&gt;
 
-  &lt;p class=big-issue&gt;The current situation with IDL blocks is pitiful. IDL is
-   totally inadequate to properly represent what objects have to look like in
-   JS; IDL can't say if a member is enumerable, what the indexing behaviour
-   is, what the stringification behaviour is, what behaviour setting a member
-   whose type is a particular interface should be (e.g. setting of
-   document.location or element.className), what constructor an object
-   implementing an interface should claim to have, how overloads work, etc. I
-   think we should make the IDL blocks non-normative, and/or replace them
-   with something else that is better for JS while still being clear on how
-   it applies to other languages. However, we do need to have something that
-   says what types the methods take as arguments, since we have to raise
-   exceptions if they are wrong.
-
   &lt;p&gt;The construction &quot;a &lt;code&gt;Foo&lt;/code&gt; object&quot;, where &lt;code&gt;Foo&lt;/code&gt; is
    actually an interface, is sometimes used instead of the more accurate &quot;an
    object implementing the interface &lt;code&gt;Foo&lt;/code&gt;&quot;.
 
   &lt;p&gt;A DOM attribute is said to be &lt;em&gt;getting&lt;/em&gt; when its value is being
    retrieved (e.g. by author script), and is said to be &lt;em&gt;setting&lt;/em&gt; when
-   a new value is assigned to it.
+   a new value is assigned to it.&lt;/p&gt;
+  &lt;!-- XXX
+  define this in terms of [[Get]] and [[Put]] ? --&gt;
 
   &lt;p&gt;If a DOM object is said to be &lt;dfn id=live&gt;live&lt;/dfn&gt;, then that means
    that any attributes returning that object must always return the same
@@ -2616,7 +2583,7 @@
 
   &lt;pre class=idl&gt;interface &lt;dfn id=htmldocument&gt;HTMLDocument&lt;/dfn&gt; {
   // &lt;a href=&quot;#resource0&quot;&gt;Resource metadata management&lt;/a&gt;
-  readonly attribute &lt;a href=&quot;#location2&quot;&gt;Location&lt;/a&gt; &lt;a href=&quot;#location0&quot; title=dom-document-location&gt;location&lt;/a&gt;;
+  [PutForwards=href] readonly attribute &lt;a href=&quot;#location2&quot;&gt;Location&lt;/a&gt; &lt;a href=&quot;#location0&quot; title=dom-document-location&gt;location&lt;/a&gt;;
   readonly attribute DOMString &lt;a href=&quot;#url&quot; title=dom-document-URL&gt;URL&lt;/a&gt;;
            attribute DOMString &lt;a href=&quot;#domain&quot; title=dom-document-domain&gt;domain&lt;/a&gt;;
   readonly attribute DOMString &lt;a href=&quot;#referrer&quot; title=dom-document-referrer&gt;referrer&lt;/a&gt;;
@@ -3106,8 +3073,8 @@
 
   &lt;pre class=idl&gt;interface &lt;dfn id=htmlcollection0&gt;HTMLCollection&lt;/dfn&gt; {
   readonly attribute unsigned long &lt;a href=&quot;#length&quot; title=dom-HTMLCollection-length&gt;length&lt;/a&gt;;
-  Element &lt;a href=&quot;#itemindex&quot; title=dom-HTMLCollection-item&gt;item&lt;/a&gt;(in unsigned long index);
-  Element &lt;a href=&quot;#nameditem&quot; title=dom-HTMLCollection-namedItem&gt;namedItem&lt;/a&gt;(in DOMString name);
+  [IndexGetter] Element &lt;a href=&quot;#itemindex&quot; title=dom-HTMLCollection-item&gt;item&lt;/a&gt;(in unsigned long index);
+  [NameGetter] Element &lt;a href=&quot;#nameditem&quot; title=dom-HTMLCollection-namedItem&gt;namedItem&lt;/a&gt;(in DOMString name);
 };&lt;/pre&gt;
 
   &lt;p&gt;The &lt;dfn id=length
@@ -3142,16 +3109,6 @@
 
   &lt;p&gt;If no such elements are found, then the method must return null.
 
-  &lt;p&gt;In ECMAScript implementations, objects that implement the &lt;code&gt;&lt;a
-   href=&quot;#htmlcollection0&quot;&gt;HTMLCollection&lt;/a&gt;&lt;/code&gt; interface must also have
-   a [[Get]] method that, when invoked with a property name that is a number,
-   acts like the &lt;code title=dom-HTMLCollection-item&gt;&lt;a
-   href=&quot;#itemindex&quot;&gt;item()&lt;/a&gt;&lt;/code&gt; method would when invoked with that
-   argument, and when invoked with a property name that is a string, acts
-   like the &lt;code title=dom-HTMLCollection-namedItem&gt;&lt;a
-   href=&quot;#nameditem&quot;&gt;namedItem()&lt;/a&gt;&lt;/code&gt; method would when invoked with
-   that argument.
-
   &lt;h5 id=htmlformcontrolscollection&gt;&lt;span class=secno&gt;2.3.1.2.
    &lt;/span&gt;HTMLFormControlsCollection&lt;/h5&gt;
 
@@ -3162,8 +3119,8 @@
   &lt;pre
    class=idl&gt;interface &lt;dfn id=htmlformcontrolscollection0&gt;HTMLFormControlsCollection&lt;/dfn&gt; {
   readonly attribute unsigned long &lt;a href=&quot;#length0&quot; title=dom-HTMLFormControlsCollection-length&gt;length&lt;/a&gt;;
-  &lt;a href=&quot;#htmlelement&quot;&gt;HTMLElement&lt;/a&gt; &lt;a href=&quot;#itemindex0&quot; title=dom-HTMLFormControlsCollection-item&gt;item&lt;/a&gt;(in unsigned long index);
-  Object &lt;a href=&quot;#nameditem0&quot; title=dom-HTMLFormControlsCollection-namedItem&gt;namedItem&lt;/a&gt;(in DOMString name);
+  [IndexGetter] &lt;a href=&quot;#htmlelement&quot;&gt;HTMLElement&lt;/a&gt; &lt;a href=&quot;#itemindex0&quot; title=dom-HTMLFormControlsCollection-item&gt;item&lt;/a&gt;(in unsigned long index);
+  [NameGetter] Object &lt;a href=&quot;#nameditem0&quot; title=dom-HTMLFormControlsCollection-namedItem&gt;namedItem&lt;/a&gt;(in DOMString name);
 };&lt;/pre&gt;
 
   &lt;p&gt;The &lt;dfn id=length0
@@ -3207,16 +3164,6 @@
 
    &lt;li&gt;Return that &lt;code&gt;NodeList&lt;/code&gt; object.
   &lt;/ol&gt;
-
-  &lt;p&gt;In the ECMAScript DOM binding, objects implementing the &lt;code&gt;&lt;a
-   href=&quot;#htmlformcontrolscollection0&quot;&gt;HTMLFormControlsCollection&lt;/a&gt;&lt;/code&gt;
-   interface must support being dereferenced using the square bracket
-   notation, such that dereferencing with an integer index is equivalent to
-   invoking the &lt;code title=dom-HTMLFormControlsCollection-item&gt;&lt;a
-   href=&quot;#itemindex0&quot;&gt;item()&lt;/a&gt;&lt;/code&gt; method with that index, and such that
-   dereferencing with a string index is equivalent to invoking the &lt;code
-   title=dom-HTMLFormControlsCollection-namedItem&gt;&lt;a
-   href=&quot;#nameditem0&quot;&gt;namedItem()&lt;/a&gt;&lt;/code&gt; method with that index.&lt;/p&gt;
   &lt;!--
 <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E...%0A%3Cform%20name%3D%22a%22%3E%3Cinput%20id%3D%22x%22%20name%3D%22y%22%3E%3Cinput%20name%3D%22x%22%20id%3D%22y%22%3E%3C/form%3E%0A%3Cscript%3E%0A%20%20var%20x%3B%0A%20%20w%28x%20%3D%20document.forms%5B%27a%27%5D%5B%27x%27%5D%29%3B%0A%20%20w%28x.length%29%3B%0A%20%20x%5B0%5D.parentNode.removeChild%28x%5B0%5D%29%3B%0A%20%20w%28x.length%29%3B%0A%20%20w%28x%20%3D%3D%20document.forms%5B%27a%27%5D%5B%27x%27%5D%29%3B%0A%3C/script%3E%0A">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E...%0A%3Cform%20name%3D%22a%22%3E%3Cinput%20id%3D%22x%22%20name%3D%22y%22%3E%3Cinput%20name%3D%22x%22%20id%3D%22y%22%3E%3C/form%3E%0A%3Cscript%3E%0A%20%20var%20x%3B%0A%20%20w%28x%20%3D%20document.forms%5B%27a%27%5D%5B%27x%27%5D%29%3B%0A%20%20w%28x.length%29%3B%0A%20%20x%5B0%5D.parentNode.removeChild%28x%5B0%5D%29%3B%0A%20%20w%28x.length%29%3B%0A%20%20w%28x%20%3D%3D%20document.forms%5B%27a%27%5D%5B%27x%27%5D%29%3B%0A%3C/script%3E%0A</A>
 --&gt;
@@ -3231,8 +3178,8 @@
   &lt;pre
    class=idl&gt;interface &lt;dfn id=htmloptionscollection0&gt;HTMLOptionsCollection&lt;/dfn&gt; {
            attribute unsigned long &lt;a href=&quot;#length1&quot; title=dom-HTMLOptionsCollection-length&gt;length&lt;/a&gt;;
-  HTMLOptionElement &lt;a href=&quot;#itemindex1&quot; title=dom-HTMLOptionsCollection-item&gt;item&lt;/a&gt;(in unsigned long index);
-  Object &lt;a href=&quot;#nameditem1&quot; title=dom-HTMLOptionsCollection-namedItem&gt;namedItem&lt;/a&gt;(in DOMString name);
+  [IndexGetter] HTMLOptionElement &lt;a href=&quot;#itemindex1&quot; title=dom-HTMLOptionsCollection-item&gt;item&lt;/a&gt;(in unsigned long index);
+  [NameGetter] Object &lt;a href=&quot;#nameditem1&quot; title=dom-HTMLOptionsCollection-namedItem&gt;namedItem&lt;/a&gt;(in DOMString name);
 };&lt;/pre&gt;
 
   &lt;p&gt;On getting, the &lt;dfn id=length1
@@ -3295,16 +3242,6 @@
 
    &lt;li&gt;Return that &lt;code&gt;NodeList&lt;/code&gt; object.
   &lt;/ol&gt;
-
-  &lt;p&gt;In the ECMAScript DOM binding, objects implementing the &lt;code&gt;&lt;a
-   href=&quot;#htmloptionscollection0&quot;&gt;HTMLOptionsCollection&lt;/a&gt;&lt;/code&gt; interface
-   must support being dereferenced using the square bracket notation, such
-   that dereferencing with an integer index is equivalent to invoking the
-   &lt;code title=dom-HTMLOptionsCollection-item&gt;&lt;a
-   href=&quot;#itemindex1&quot;&gt;item()&lt;/a&gt;&lt;/code&gt; method with that index, and such that
-   dereferencing with a string index is equivalent to invoking the &lt;code
-   title=dom-HTMLOptionsCollection-namedItem&gt;&lt;a
-   href=&quot;#nameditem1&quot;&gt;namedItem()&lt;/a&gt;&lt;/code&gt; method with that index.&lt;/p&gt;
   &lt;!-- see also <A HREF="http://ln.hixie.ch/?start=1161042744&amp;count=1">http://ln.hixie.ch/?start=1161042744&amp;count=1</A> --&gt;
 
   &lt;p class=big-issue&gt;We may want to add &lt;code&gt;add()&lt;/code&gt; and
@@ -3329,9 +3266,10 @@
    author-implemented callback in the &lt;code&gt;&lt;a
    href=&quot;#datagrid0&quot;&gt;datagrid&lt;/a&gt;&lt;/code&gt; APIs).
 
-  &lt;pre class=idl&gt;interface &lt;dfn id=domtokenlist0&gt;DOMTokenList&lt;/dfn&gt; {
+  &lt;pre
+   class=idl&gt;[&lt;a href=&quot;#stringify&quot; title=dom-tokenlist-toString&gt;Stringifies&lt;/a&gt;] interface &lt;dfn id=domtokenlist0&gt;DOMTokenList&lt;/dfn&gt; {
   readonly attribute unsigned long &lt;a href=&quot;#length2&quot; title=dom-tokenlist-length&gt;length&lt;/a&gt;;
-  DOMString &lt;a href=&quot;#itemindex2&quot; title=dom-tokenlist-item&gt;item&lt;/a&gt;(in unsigned long index);
+  [IndexGetter] DOMString &lt;a href=&quot;#itemindex2&quot; title=dom-tokenlist-item&gt;item&lt;/a&gt;(in unsigned long index);
   boolean &lt;a href=&quot;#hastoken&quot; title=dom-tokenlist-has&gt;has&lt;/a&gt;(in DOMString token);
   void &lt;a href=&quot;#addtoken&quot; title=dom-tokenlist-add&gt;add&lt;/a&gt;(in DOMString token);
   void &lt;a href=&quot;#remove&quot; title=dom-tokenlist-remove&gt;remove&lt;/a&gt;(in DOMString token);
@@ -3354,13 +3292,6 @@
    item in this list. If &lt;var title=&quot;&quot;&gt;index&lt;/var&gt; is equal to or greater
    than the number of tokens, then the method must return null.
 
-  &lt;p&gt;In ECMAScript implementations, objects that implement the &lt;code&gt;&lt;a
-   href=&quot;#domtokenlist0&quot;&gt;DOMTokenList&lt;/a&gt;&lt;/code&gt; interface must also have a
-   [[Get]] method that, when invoked with a property name that is a number,
-   acts like the &lt;code title=dom-tokenlist-item&gt;&lt;a
-   href=&quot;#itemindex2&quot;&gt;item()&lt;/a&gt;&lt;/code&gt; method would when invoked with that
-   argument.
-
   &lt;p&gt;The &lt;dfn id=hastoken title=dom-tokenlist-has&gt;&lt;code&gt;has(&lt;var
    title=&quot;&quot;&gt;token&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
    algorithm:
@@ -3453,9 +3384,10 @@
    &lt;li&gt;Return true.
   &lt;/ol&gt;
 
-  &lt;p&gt;In the ECMAScript DOM binding, objects implementing the &lt;code&gt;&lt;a
-   href=&quot;#domtokenlist0&quot;&gt;DOMTokenList&lt;/a&gt;&lt;/code&gt; interface must stringify to
-   the object's underlying string representation.
+  &lt;p&gt;Objects implementing the &lt;code&gt;&lt;a
+   href=&quot;#domtokenlist0&quot;&gt;DOMTokenList&lt;/a&gt;&lt;/code&gt; interface must &lt;dfn
+   id=stringify title=dom-tokenlist-toString&gt;stringify&lt;/dfn&gt; to the object's
+   underlying string representation.
 
   &lt;h4 id=domstringmap&gt;&lt;span class=secno&gt;2.3.3 &lt;/span&gt;DOMStringMap&lt;/h4&gt;
 
@@ -3466,29 +3398,28 @@
    for setting names to certain values, and one for deleting names.
 
   &lt;p class=big-issue&gt;The names of the methods on this interface are temporary
-   and will be fixed when the &quot;Language Bindings for DOM Specifications&quot; spec
-   is ready to handle this case.
+   and will be fixed when the Web IDL / &quot;Language Bindings for DOM
+   Specifications&quot; spec is ready to handle this case.
 
   &lt;pre class=idl&gt;interface &lt;dfn id=domstringmap0&gt;DOMStringMap&lt;/dfn&gt; {
-  DOMString &lt;a href=&quot;#getname&quot; title=&quot;dom-stringmap-[[Get]]&quot;&gt;[[Get]]&lt;/a&gt;(in DOMString name);
-  void &lt;a href=&quot;#putname&quot; title=&quot;dom-stringmap-[[Put]]&quot;&gt;[[Put]]&lt;/a&gt;(in DOMString name, in DOMString value);
-  bool &lt;a href=&quot;#delete&quot; title=&quot;dom-stringmap-[[Delete]]&quot;&gt;[[Delete]]&lt;/a&gt;(in DOMString name);
+  [NameGetter] DOMString &lt;a href=&quot;#xxx1name&quot; title=dom-stringmap-XXX1&gt;XXX1&lt;/a&gt;(in DOMString name);
+  [NameSetter] void &lt;a href=&quot;#xxx2name&quot; title=dom-stringmap-XXX2&gt;XXX2&lt;/a&gt;(in DOMString name, in DOMString value);
+  [XXX] bool &lt;a href=&quot;#xxx3name&quot; title=dom-stringmap-XXX3&gt;XXX3&lt;/a&gt;(in DOMString name);
 };&lt;/pre&gt;
 
-  &lt;p&gt;The &lt;dfn id=getname title=&quot;dom-stringmap-[[Get]]&quot;&gt;&lt;code&gt;[[Get]](&lt;var
+  &lt;p&gt;The &lt;dfn id=xxx1name title=dom-stringmap-XXX1&gt;&lt;code&gt;XXX1(&lt;var
    title=&quot;&quot;&gt;name&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must call the algorithm for
    getting values from names, passing &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; as the name,
    and must return the corresponding value, or null if &lt;var
    title=&quot;&quot;&gt;name&lt;/var&gt; has no corresponding value.
 
-  &lt;p&gt;The &lt;dfn id=putname title=&quot;dom-stringmap-[[Put]]&quot;&gt;&lt;code&gt;[[Put]](&lt;var
+  &lt;p&gt;The &lt;dfn id=xxx2name title=dom-stringmap-XXX2&gt;&lt;code&gt;XXX2(&lt;var
    title=&quot;&quot;&gt;name&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must
    call the algorithm for setting names to certain values, passing &lt;var
    title=&quot;&quot;&gt;name&lt;/var&gt; as the name and &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; as the
    value.
 
-  &lt;p&gt;The &lt;dfn id=delete
-   title=&quot;dom-stringmap-[[Delete]]&quot;&gt;&lt;code&gt;[[Delete]](&lt;var
+  &lt;p&gt;The &lt;dfn id=xxx3name title=dom-stringmap-XXX3&gt;&lt;code&gt;XXX3(&lt;var
    title=&quot;&quot;&gt;name&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must call the algorithm for
    deleting names, passing &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; as the name, and must
    return true.
@@ -6978,7 +6909,10 @@
   that implement the &lt;code&gt;Document&lt;/code&gt; interface using
   binding-specific casting methods.&lt;/p&gt;
 
-  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;DocumentFocus&lt;/dfn&gt; {
+  &lt;p class=&quot;big-issue&quot;&gt;Actually even better would be to just mix it
+  straight into those interfaces somehow.&lt;/p&gt;
+
+  &lt;pre class=&quot;idl&quot;&gt;[NoInterfaceObject] interface &lt;dfn&gt;DocumentFocus&lt;/dfn&gt; {
   void moveFocusForward();
   void moveFocusBackward();
   void moveFocusUp();
@@ -10422,7 +10356,7 @@
 
    &lt;dd&gt;
     &lt;pre
-     class=idl&gt;interface &lt;dfn id=htmlanchorelement&gt;HTMLAnchorElement&lt;/dfn&gt; : &lt;a href=&quot;#htmlelement&quot;&gt;HTMLElement&lt;/a&gt; {
+     class=idl&gt;[Stringifies=href] interface &lt;dfn id=htmlanchorelement&gt;HTMLAnchorElement&lt;/dfn&gt; : &lt;a href=&quot;#htmlelement&quot;&gt;HTMLElement&lt;/a&gt; {
            attribute DOMString &lt;a href=&quot;#href3&quot; title=dom-a-href&gt;href&lt;/a&gt;;
            attribute DOMString &lt;a href=&quot;#target1&quot; title=dom-a-target&gt;target&lt;/a&gt;;
            attribute DOMString &lt;a href=&quot;#ping0&quot; title=dom-a-ping&gt;ping&lt;/a&gt;;
@@ -10432,7 +10366,7 @@
            attribute DOMString &lt;a href=&quot;#hreflang1&quot; title=dom-a-hreflang&gt;hreflang&lt;/a&gt;;
            attribute DOMString &lt;a href=&quot;#type3&quot; title=dom-a-type&gt;type&lt;/a&gt;;
 };&lt;/pre&gt;
-
+    &lt;!-- XXX also support the URI decomposition attributes --&gt;
     &lt;p&gt;The &lt;code title=command-ro&gt;&lt;a href=&quot;#command2&quot;&gt;Command&lt;/a&gt;&lt;/code&gt;
      interface must also be implemented by this element.&lt;/p&gt;
   &lt;/dl&gt;
@@ -16078,8 +16012,8 @@
      href=&quot;#cue-ranges0&quot; title=&quot;cue range&quot;&gt;cue ranges&lt;/a&gt; in the &lt;var
      title=&quot;&quot;&gt;other ranges&lt;/var&gt; list to &quot;false&quot; (inactive).
   &lt;/ol&gt;
-  &lt;!-- XXX the remainder of this subsection will be removed once we
-  have a way to mark up callbacks in IDL --&gt;
+  &lt;!-- XXX the remainder of this subsection may be removed if we ever
+  get a way to mark up callbacks in IDL --&gt;
 
   &lt;p&gt;Invoking a callback (an object implementing the &lt;code&gt;&lt;a
    href=&quot;#voidcallback&quot;&gt;VoidCallback&lt;/a&gt;&lt;/code&gt; interface) means calling its
@@ -16096,19 +16030,6 @@
    href=&quot;#voidcallback&quot;&gt;VoidCallback&lt;/a&gt;&lt;/code&gt; interface is the entrypoint
    for the callback represented by the object.
 
-  &lt;p&gt;In the ECMAScript DOM binding, the ECMAScript native
-   &lt;code&gt;Function&lt;/code&gt; type must implement the &lt;code&gt;&lt;a
-   href=&quot;#voidcallback&quot;&gt;VoidCallback&lt;/a&gt;&lt;/code&gt; interface such that invoking
-   the &lt;code&gt;handleEvent()&lt;/code&gt; method of that interface on the object from
-   another language binding invokes the function itself. In the ECMAScript
-   binding itself, however, the &lt;code&gt;handleEvent()&lt;/code&gt; method of the
-   interface is not directly accessible on &lt;code&gt;Function&lt;/code&gt; objects.
-   Such functions, when invoked, must be called at the scope of the &lt;a
-   href=&quot;#browsing0&quot;&gt;browsing context&lt;/a&gt;.&lt;/p&gt;
-  &lt;!--
-  XXX if you change this make sure to also look up the other mentions
-  of handleEvent() in this file --&gt;
-
   &lt;h5 id=user-interface&gt;&lt;span class=secno&gt;3.12.9.10. &lt;/span&gt;User interface&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=controls
@@ -22257,7 +22178,8 @@
    represented by objects that implement the &lt;a
    href=&quot;#rowspecification&quot;&gt;RowSpecification&lt;/a&gt; interface.
 
-  &lt;pre class=idl&gt;interface &lt;dfn id=rowspecification&gt;RowSpecification&lt;/dfn&gt; {
+  &lt;pre
+   class=idl&gt;[NoInterfaceObject] interface &lt;dfn id=rowspecification&gt;RowSpecification&lt;/dfn&gt; {
   // binding-specific interface
 };&lt;/pre&gt;
 
@@ -22291,7 +22213,7 @@
    (and most commonly) the content author's implementation(s).&lt;/em&gt;
 
   &lt;pre class=idl&gt;// To be implemented by Web authors as a JS object
-interface &lt;dfn id=datagriddataprovider&gt;DataGridDataProvider&lt;/dfn&gt; {
+[NoInterfaceObject] interface &lt;dfn id=datagriddataprovider&gt;DataGridDataProvider&lt;/dfn&gt; {
   void &lt;a href=&quot;#initialize&quot; title=dom-provider-initialize&gt;initialize&lt;/a&gt;(in HTMLDataGridElement datagrid);
   unsigned long &lt;a href=&quot;#getrowcount&quot; title=dom-provider-getRowCount&gt;getRowCount&lt;/a&gt;(in &lt;a href=&quot;#rowspecification&quot;&gt;RowSpecification&lt;/a&gt; row);
   unsigned long &lt;a href=&quot;#getchildatposition&quot; title=dom-provider-getChildAtPosition&gt;getChildAtPosition&lt;/a&gt;(in &lt;a href=&quot;#rowspecification&quot;&gt;RowSpecification&lt;/a&gt; parentRow, in unsigned long position);
@@ -23996,7 +23918,7 @@
   &lt;pre
    class=idl&gt;interface &lt;dfn id=datagridselection&gt;DataGridSelection&lt;/dfn&gt; {
   readonly attribute unsigned long &lt;span title=dom-DataGridSelection-count&gt;length&lt;/span&gt;;
-  &lt;a href=&quot;#rowspecification&quot;&gt;RowSpecification&lt;/a&gt; &lt;span title=dom-DataGridSelection-&gt;item&lt;/span&gt;(in unsigned long index);
+  [IndexGetter] &lt;a href=&quot;#rowspecification&quot;&gt;RowSpecification&lt;/a&gt; &lt;span title=dom-DataGridSelection-&gt;item&lt;/span&gt;(in unsigned long index);
   boolean &lt;a href=&quot;#isselected&quot; title=dom-DataGridSelection-isSelected&gt;isSelected&lt;/a&gt;(in &lt;a href=&quot;#rowspecification&quot;&gt;RowSpecification&lt;/a&gt; row);
   void &lt;a href=&quot;#setselected&quot; title=dom-DataGridSelection-setSelected&gt;setSelected&lt;/a&gt;(in &lt;a href=&quot;#rowspecification&quot;&gt;RowSpecification&lt;/a&gt; row, in boolean selected);
 &lt;!--  void &lt;span title=&quot;dom-DataGridSelection-addRange&quot;&gt;addRange&lt;/span&gt;(in &lt;span&gt;RowSpecification&lt;/span&gt; first, in &lt;span&gt;RowSpecification&lt;/span&gt; last);
@@ -24838,8 +24760,11 @@
    define a command also implements the &lt;code title=command-ro&gt;&lt;a
    href=&quot;#command2&quot;&gt;Command&lt;/a&gt;&lt;/code&gt; interface:
 
+  &lt;p class=big-issue&gt;Actually even better would be to just mix it straight
+   into those interfaces somehow.
+
   &lt;pre
-   class=idl&gt;interface &lt;dfn id=command2 title=command-ro&gt;Command&lt;/dfn&gt; {&lt;!--
+   class=idl&gt;[NoInterfaceObject] interface &lt;dfn id=command2 title=command-ro&gt;Command&lt;/dfn&gt; {&lt;!--
  NOTE: to avoid clashing with the HTMLCommandElement interface's names,
        the members of this interface use cross-references with the title
        dom-command-ro-foo (note the &quot;ro&quot;, which stands for &quot;readonly&quot;).
@@ -26494,12 +26419,12 @@
    title=&quot;default view&quot;&gt;default views&lt;/a&gt; must also implement the &lt;code&gt;&lt;a
    href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; object.
 
-  &lt;pre class=idl&gt;interface &lt;dfn id=window&gt;Window&lt;/dfn&gt; {
+  &lt;pre class=idl&gt;[NoInterfaceObject] interface &lt;dfn id=window&gt;Window&lt;/dfn&gt; {
   // the current browsing context
   readonly attribute &lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt; &lt;a href=&quot;#window0&quot; title=dom-window&gt;window&lt;/a&gt;;
   readonly attribute &lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt; &lt;a href=&quot;#self&quot; title=dom-self&gt;self&lt;/a&gt;;
            attribute DOMString &lt;a href=&quot;#name3&quot; title=dom-name&gt;name&lt;/a&gt;;
-  readonly attribute &lt;a href=&quot;#location2&quot;&gt;Location&lt;/a&gt; &lt;a href=&quot;#location0&quot; title=dom-document-location&gt;location&lt;/a&gt;;
+  [PutForwards=href] readonly attribute &lt;a href=&quot;#location2&quot;&gt;Location&lt;/a&gt; &lt;a href=&quot;#location0&quot; title=dom-document-location&gt;location&lt;/a&gt;;
   readonly attribute &lt;a href=&quot;#history1&quot;&gt;History&lt;/a&gt; &lt;a href=&quot;#history0&quot; title=dom-history&gt;history&lt;/a&gt;;
   readonly attribute &lt;a href=&quot;#undomanager&quot;&gt;UndoManager&lt;/a&gt; &lt;a href=&quot;#undomanager0&quot; title=dom-undoManager&gt;undoManager&lt;/a&gt;;
   &lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt; &lt;a href=&quot;#getselection&quot; title=dom-getSelection&gt;getSelection&lt;/a&gt;();
@@ -26520,6 +26445,7 @@
   // other browsing contexts
   readonly attribute &lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt; &lt;a href=&quot;#frames&quot; title=dom-frames&gt;frames&lt;/a&gt;;
   readonly attribute unsigned long &lt;a href=&quot;#length5&quot; title=dom-length&gt;length&lt;/a&gt;;
+  [IndexGetter] &lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt; &lt;a href=&quot;#xxx4index&quot; title=dom-XXX4&gt;XXX4&lt;/a&gt;(in unsigned long index);
   readonly attribute &lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt; &lt;a href=&quot;#opener0&quot; title=dom-opener&gt;opener&lt;/a&gt;;
   &lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt; &lt;a href=&quot;#open2&quot; title=dom-open&gt;open&lt;/a&gt;();
   &lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt; &lt;a href=&quot;#open2&quot; title=dom-open&gt;open&lt;/a&gt;(in DOMString url);
@@ -26565,8 +26491,7 @@
            attribute &lt;span&gt;EventListener&lt;/span&gt; &lt;a href=&quot;#onsubmit&quot; title=handler-onsubmit&gt;onsubmit&lt;/a&gt;;
            attribute &lt;span&gt;EventListener&lt;/span&gt; &lt;a href=&quot;#onunload&quot; title=handler-onunload&gt;onunload&lt;/a&gt;;
 };&lt;/pre&gt;
-  &lt;!-- XXX XMLHttpRequest
-          <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/objects/obj_window.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/objects/obj_window.asp</A>
+  &lt;!-- XXX <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/objects/obj_window.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/objects/obj_window.asp</A>
           <A HREF="http://www.mozilla.org/docs/dom/domref/dom_window_ref.html">http://www.mozilla.org/docs/dom/domref/dom_window_ref.html</A>
           <A HREF="http://lxr.mozilla.org/mozilla/source/dom/public/idl/base/nsIDOMWindow.idl">http://lxr.mozilla.org/mozilla/source/dom/public/idl/base/nsIDOMWindow.idl</A>
    --&gt;
@@ -26589,9 +26514,9 @@
   &lt;p&gt;Objects implementing the &lt;code&gt;&lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt;
    interface must also implement the &lt;code&gt;EventTarget&lt;/code&gt; interface.
 
-  &lt;p class=note&gt;&lt;code&gt;&lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; objects also &lt;a
-   href=&quot;#get&quot; title=dom-item&gt;have an implicit [[Get]] method&lt;/a&gt; which
-   returns &lt;span&gt;nested browsing contexts&lt;/span&gt;.
+  &lt;p class=note&gt;&lt;code&gt;&lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; objects also &lt;span
+   title=dom-item&gt;have an implicit [[Get]] method&lt;/span&gt; which returns
+   &lt;span&gt;nested browsing contexts&lt;/span&gt;.
 
   &lt;h4 id=security2&gt;&lt;span class=secno&gt;4.2.1 &lt;/span&gt;Security&lt;/h4&gt;
 
@@ -26750,20 +26675,19 @@
   &lt;h4 id=accessing&gt;&lt;span class=secno&gt;4.2.4 &lt;/span&gt;Accessing other browsing
    contexts&lt;/h4&gt;
 
-  &lt;p&gt;In ECMAScript implementations, objects that implement the &lt;code&gt;&lt;a
-   href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; interface must have a &lt;dfn id=get
-   title=dom-item&gt;[[Get]]&lt;/dfn&gt; method that, when invoked with a property
-   name that is a number &lt;var title=&quot;&quot;&gt;i&lt;/var&gt;, returns the &lt;var
-   title=&quot;&quot;&gt;i&lt;/var&gt;th &lt;a href=&quot;#child&quot;&gt;child browsing context&lt;/a&gt; of the &lt;a
-   href=&quot;#active&quot; title=&quot;active document&quot;&gt;active&lt;/a&gt; &lt;code&gt;Document&lt;/code&gt;,
-   sorted in document order of the elements nesting those browsing contexts.
-
   &lt;p&gt;The &lt;dfn id=length5 title=dom-length&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt; DOM
    attribute on the &lt;code&gt;&lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; interface must
    return the number of &lt;a href=&quot;#child&quot; title=&quot;child browsing context&quot;&gt;child
    browsing contexts&lt;/a&gt; of the &lt;a href=&quot;#active&quot; title=&quot;active
    document&quot;&gt;active&lt;/a&gt; &lt;code&gt;Document&lt;/code&gt;.
 
+  &lt;p&gt;The &lt;dfn id=xxx4index title=dom-XXX4&gt;&lt;code&gt;XXX4(&lt;var
+   title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the &lt;var
+   title=&quot;&quot;&gt;index&lt;/var&gt;th &lt;a href=&quot;#child&quot;&gt;child browsing context&lt;/a&gt; of the
+   &lt;a href=&quot;#active&quot; title=&quot;active document&quot;&gt;active&lt;/a&gt;
+   &lt;code&gt;Document&lt;/code&gt;, sorted in document order of the elements nesting
+   those browsing contexts.
+
   &lt;h3 id=scripting&gt;&lt;span class=secno&gt;4.3 &lt;/span&gt;Scripting&lt;/h3&gt;
 
   &lt;h4 id=running&gt;&lt;span class=secno&gt;4.3.1 &lt;/span&gt;Running executable code&lt;/h4&gt;
@@ -29855,19 +29779,6 @@
            attribute DOMString &lt;a href=&quot;#hash&quot; title=dom-location-hash&gt;hash&lt;/a&gt;;
 };&lt;/pre&gt;
 
-  &lt;p&gt;In the ECMAScript DOM binding, objects implementing this interface must
-   stringify to the same value as the &lt;code title=dom-location-href&gt;&lt;a
-   href=&quot;#href5&quot;&gt;href&lt;/a&gt;&lt;/code&gt; attribute.
-
-  &lt;p id=settingLocation&gt;In the ECMAScript DOM binding, the &lt;code
-   title=&quot;&quot;&gt;location&lt;/code&gt; members of the &lt;code&gt;&lt;a
-   href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a
-   href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; interfaces behave as if they had a
-   setter: user agents must treat attempts to set these &lt;code
-   title=&quot;&quot;&gt;location&lt;/code&gt; attributes as attempts at setting the &lt;code
-   title=dom-location-href&gt;&lt;a href=&quot;#href5&quot;&gt;href&lt;/a&gt;&lt;/code&gt; attribute of the
-   relevant &lt;code&gt;&lt;a href=&quot;#location2&quot;&gt;Location&lt;/a&gt;&lt;/code&gt; object instead.
-
   &lt;p&gt;The &lt;dfn id=href5 title=dom-location-href&gt;&lt;code&gt;href&lt;/code&gt;&lt;/dfn&gt;
    attribute returns the address of the page represented by the associated
    &lt;code&gt;Document&lt;/code&gt; object, as an absolute IRI reference.
@@ -31431,10 +31342,10 @@
   &lt;pre class=idl&gt;
 interface &lt;dfn id=storage0&gt;Storage&lt;/dfn&gt; {
   readonly attribute unsigned long &lt;a href=&quot;#length8&quot; title=dom-Storage-length&gt;length&lt;/a&gt;;
-  DOMString &lt;a href=&quot;#keyn&quot; title=dom-Storage-key&gt;key&lt;/a&gt;(in unsigned long index);
-  DOMString &lt;a href=&quot;#getitem&quot; title=dom-Storage-getItem&gt;getItem&lt;/a&gt;(in DOMString key);
-  void &lt;a href=&quot;#setitem&quot; title=dom-Storage-setItem&gt;setItem&lt;/a&gt;(in DOMString key, in DOMString data);
-  void &lt;a href=&quot;#removeitem&quot; title=dom-Storage-removeItem&gt;removeItem&lt;/a&gt;(in DOMString key);
+  [IndexGetter] DOMString &lt;a href=&quot;#keyn&quot; title=dom-Storage-key&gt;key&lt;/a&gt;(in unsigned long index);
+  [NameGetter] DOMString &lt;a href=&quot;#getitem&quot; title=dom-Storage-getItem&gt;getItem&lt;/a&gt;(in DOMString key);
+  [NameSetter] void &lt;a href=&quot;#setitem&quot; title=dom-Storage-setItem&gt;setItem&lt;/a&gt;(in DOMString key, in DOMString data);
+  [XXX] void &lt;a href=&quot;#removeitem&quot; title=dom-Storage-removeItem&gt;removeItem&lt;/a&gt;(in DOMString key); &lt;!-- XXX [[Delete]] --&gt;
 };&lt;/pre&gt;
   &lt;!-- XXX v2 ideas:
     a getInfo() method that returns an object that tells you:
@@ -31531,21 +31442,6 @@
    data storage area must either be successful, or the data storage area must
    not be changed at all.
 
-  &lt;p&gt;In the ECMAScript DOM binding, enumerating a &lt;code&gt;&lt;a
-   href=&quot;#storage0&quot;&gt;Storage&lt;/a&gt;&lt;/code&gt; object must enumerate through the
-   currently stored keys in the list the object is associated with. (It must
-   not enumerate the values or the actual members of the interface). In the
-   ECMAScript DOM binding, &lt;code&gt;&lt;a href=&quot;#storage0&quot;&gt;Storage&lt;/a&gt;&lt;/code&gt;
-   objects must support dereferencing such that getting a property that is
-   not a member of the object (i.e. is neither a member of the &lt;code&gt;&lt;a
-   href=&quot;#storage0&quot;&gt;Storage&lt;/a&gt;&lt;/code&gt; interface nor of &lt;code
-   title=dom-Object&gt;Object&lt;/code&gt;) must invoke the &lt;code
-   title=dom-Storage-getItem&gt;&lt;a href=&quot;#getitem&quot;&gt;getItem()&lt;/a&gt;&lt;/code&gt; method
-   with the property's name as the argument, and setting such a property must
-   invoke the &lt;code title=dom-Storage-setItem&gt;&lt;a
-   href=&quot;#setitem&quot;&gt;setItem()&lt;/a&gt;&lt;/code&gt; method with the property's name as
-   the first argument and the given value as the second argument.
-
   &lt;h4 id=the-sessionstorage&gt;&lt;span class=secno&gt;4.10.3 &lt;/span&gt;The &lt;code
    title=dom-sessionStorage&gt;&lt;a
    href=&quot;#sessionstorage&quot;&gt;sessionStorage&lt;/a&gt;&lt;/code&gt; attribute&lt;/h4&gt;
@@ -32229,7 +32125,7 @@
   &lt;pre
    class=idl&gt;interface &lt;dfn id=sqlresultsetrowlist&gt;SQLResultSetRowList&lt;/dfn&gt; {
   readonly attribute unsigned long &lt;a href=&quot;#length9&quot; title=dom-SQLResultSetRowList-length&gt;length&lt;/a&gt;;
-  &lt;span&gt;DOMObject&lt;/span&gt; &lt;a href=&quot;#itemindex5&quot; title=dom-SQLResultSetRowList-item&gt;item&lt;/a&gt;(in unsigned long index);
+  [IndexGetter] &lt;span&gt;DOMObject&lt;/span&gt; &lt;a href=&quot;#itemindex5&quot; title=dom-SQLResultSetRowList-item&gt;item&lt;/a&gt;(in unsigned long index);
 };&lt;/pre&gt;
 
   &lt;p&gt;&lt;code&gt;&lt;a href=&quot;#sqlresultsetrowlist&quot;&gt;SQLResultSetRowList&lt;/a&gt;&lt;/code&gt;
@@ -35511,10 +35407,10 @@
 
   &lt;pre class=idl&gt;interface &lt;dfn id=undomanager&gt;UndoManager&lt;/dfn&gt; {
   unsigned long &lt;a href=&quot;#adddata&quot; title=dom-UndoManager-add&gt;add&lt;/a&gt;(in DOMObject data, in DOMStrong title);
-  void &lt;a href=&quot;#remove2&quot; title=dom-UndoManager-remove&gt;remove&lt;/a&gt;(in unsigned long index);
+  [XXX] void &lt;a href=&quot;#remove2&quot; title=dom-UndoManager-remove&gt;remove&lt;/a&gt;(in unsigned long index); &lt;!-- XX [[Delete]] --&gt;
   void &lt;a href=&quot;#clearundo&quot; title=dom-UndoManager-clearUndo&gt;clearUndo&lt;/a&gt;();
   void &lt;a href=&quot;#clearredo&quot; title=dom-UndoManager-clearRedo&gt;clearRedo&lt;/a&gt;();
-  DOMObject &lt;a href=&quot;#itemn&quot; title=dom-UndoManager-item&gt;item&lt;/a&gt;(in unsigned long index);
+  [IndexGetter] DOMObject &lt;a href=&quot;#itemn&quot; title=dom-UndoManager-item&gt;item&lt;/a&gt;(in unsigned long index);
   readonly attribute unsigned long &lt;a href=&quot;#length10&quot; title=dom-UndoManager-length&gt;length&lt;/a&gt;;
   readonly attribute unsigned long &lt;a href=&quot;#position0&quot; title=dom-UndoManager-position&gt;position&lt;/a&gt;;
 };&lt;/pre&gt;
@@ -35526,13 +35422,6 @@
    interface for that &lt;code&gt;&lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; object's
    associated &lt;code&gt;&lt;a href=&quot;#htmldocument&quot;&gt;HTMLDocument&lt;/a&gt;&lt;/code&gt; object.
 
-  &lt;p&gt;In the ECMAScript DOM binding, objects implementing this interface must
-   also support being dereferenced using the square bracket notation, such
-   that dereferencing with an integer index is equivalent to invoking the
-   &lt;code title=dom-UndoManager-item&gt;&lt;a href=&quot;#itemn&quot;&gt;item()&lt;/a&gt;&lt;/code&gt; method
-   with that index (e.g. &lt;code title=&quot;&quot;&gt;undoManager[1]&lt;/code&gt; returns the
-   same as &lt;code title=&quot;&quot;&gt;undoManager.item(1)&lt;/code&gt;).
-
   &lt;p&gt;&lt;code&gt;&lt;a href=&quot;#undomanager&quot;&gt;UndoManager&lt;/a&gt;&lt;/code&gt; objects represent
    their document's &lt;a href=&quot;#undo-transaction&quot;&gt;undo transaction history&lt;/a&gt;.
    Only &lt;a href=&quot;#undo-object&quot;&gt;undo object&lt;/a&gt; entries are visible with this
@@ -35837,7 +35726,8 @@
    must return the same &lt;code&gt;&lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt;
    object.
 
-  &lt;pre class=idl&gt;interface &lt;dfn id=selection1&gt;Selection&lt;/dfn&gt; {
+  &lt;pre
+   class=idl&gt;[&lt;a href=&quot;#stringinfy&quot; title=dom-selection-toString&gt;Stringifies&lt;/a&gt;] interface &lt;dfn id=selection1&gt;Selection&lt;/dfn&gt; {
   readonly attribute Node &lt;a href=&quot;#anchornode&quot; title=dom-selection-anchorNode&gt;anchorNode&lt;/a&gt;;
   readonly attribute long &lt;a href=&quot;#anchoroffset&quot; title=dom-selection-anchorOffset&gt;anchorOffset&lt;/a&gt;;
   readonly attribute Node &lt;a href=&quot;#focusnode&quot; title=dom-selection-focusNode&gt;focusNode&lt;/a&gt;;
@@ -35853,7 +35743,6 @@
   void &lt;a href=&quot;#addrange&quot; title=dom-selection-addRange&gt;addRange&lt;/a&gt;(in Range range);
   void &lt;a href=&quot;#removerange&quot; title=dom-selection-removeRange&gt;removeRange&lt;/a&gt;(in Range range);
   void &lt;a href=&quot;#removeallranges&quot; title=dom-selection-removeAllRanges&gt;removeAllRanges&lt;/a&gt;();
-  DOMString &lt;a href=&quot;#tostring&quot; title=dom-selection-toString&gt;toString&lt;/a&gt;();
 };&lt;/pre&gt;
   &lt;!--
   See also:
@@ -35980,8 +35869,8 @@
    title=&quot;&quot;&gt;range&lt;/var&gt; Range object to the list of selections, at the end
    (so the newly added range is the new last range). Duplicates are not
    prevented; a range may be added more than once in which case it appears in
-   the list more than once, which (for example) will cause &lt;code
-   title=dom-selection-toString&gt;&lt;a href=&quot;#tostring&quot;&gt;toString()&lt;/a&gt;&lt;/code&gt; to
+   the list more than once, which (for example) will cause &lt;a
+   href=&quot;#stringinfy&quot; title=dom-selection-toString&gt;stringification&lt;/a&gt; to
    return the range's text twice.&lt;/p&gt;
   &lt;!-- XXX how does this interact with
   deleteFromDocument() which acts on all ranges? --&gt;
@@ -36001,19 +35890,12 @@
    (and until a new range is added to the list, either through this interface
    or via user interaction).
 
-  &lt;p&gt;The &lt;dfn id=tostring
-   title=dom-selection-toString&gt;&lt;code&gt;toString()&lt;/code&gt;&lt;/dfn&gt; method must
-   return a concatenation of the results of invoking the &lt;code
-   title=&quot;&quot;&gt;toString()&lt;/code&gt; method of the &lt;code&gt;Range&lt;/code&gt; object on each
-   of the ranges of the selection, in the order they appear in the list
-   (first to last).
+  &lt;p&gt;Objects implementing this interface must &lt;dfn id=stringinfy
+   title=dom-selection-toString&gt;stringinfy&lt;/dfn&gt; to a concatenation of the
+   results of invoking the &lt;code title=&quot;&quot;&gt;toString()&lt;/code&gt; method of the
+   &lt;code&gt;Range&lt;/code&gt; object on each of the ranges of the selection, in the
+   order they appear in the list (first to last).
 
-  &lt;p&gt;In language bindings where this is supported, objects implementing the
-   &lt;code&gt;&lt;a href=&quot;#selection1&quot;&gt;Selection&lt;/a&gt;&lt;/code&gt; interface must stringify
-   to the value returned by the object's &lt;code
-   title=dom-selection-toString&gt;&lt;a href=&quot;#tostring&quot;&gt;toString()&lt;/a&gt;&lt;/code&gt;
-   method.
-
   &lt;div class=example&gt;
    &lt;p&gt;In the following document fragment, the emphasised parts indicate the
     selection.&lt;/p&gt;
@@ -36439,7 +36321,7 @@
    &lt;dd&gt;&lt;strong&gt;Value:&lt;/strong&gt; Always the string &quot;&lt;code
     title=&quot;&quot;&gt;false&lt;/code&gt;&quot;.
 
-   &lt;dt&gt;&lt;dfn id=delete0 title=command-delete&gt;&lt;code&gt;delete&lt;/code&gt;&lt;/dfn&gt;
+   &lt;dt&gt;&lt;dfn id=delete title=command-delete&gt;&lt;code&gt;delete&lt;/code&gt;&lt;/dfn&gt;
 
    &lt;dd&gt;&lt;strong&gt;Action:&lt;/strong&gt; The user agent must act as if the user had
     performed &lt;a href=&quot;#contenteditable-delete&quot;&gt;a backspace operation&lt;/a&gt;.
@@ -48749,7 +48631,7 @@
    in due course.
 
   &lt;pre class=idl&gt;
-interface &lt;dfn id=windowtimers&gt;WindowTimers&lt;/dfn&gt; {
+[NoInterfaceObject] interface &lt;dfn id=windowtimers&gt;WindowTimers&lt;/dfn&gt; {
   // timers
   long &lt;a href=&quot;#settimeout&quot;&gt;setTimeout&lt;/a&gt;(in &lt;a href=&quot;#timeouthandler&quot;&gt;TimeoutHandler&lt;/a&gt; handler, in long timeout);
   long &lt;a href=&quot;#settimeout&quot;&gt;setTimeout&lt;/a&gt;(in &lt;a href=&quot;#timeouthandler&quot;&gt;TimeoutHandler&lt;/a&gt; handler, in long timeout, &lt;var title=&quot;&quot;&gt;arguments...&lt;/var&gt;);
@@ -48764,7 +48646,7 @@
 };
 
 interface &lt;dfn id=timeouthandler&gt;TimeoutHandler&lt;/dfn&gt; {
-  void handleEvent(&lt;var title=&quot;&quot;&gt;arguments...&lt;/var&gt;);
+  void handleEvent([Variadic] in any args);
 };
 &lt;/pre&gt;
 
@@ -48772,6 +48654,9 @@
    be obtainable from any &lt;code&gt;&lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; object
    using binding-specific casting methods.
 
+  &lt;p class=big-issue&gt;Actually even better would be to just mix it straight
+   into Window somehow.
+
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#settimeout&quot;&gt;setTimeout&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a
    href=&quot;#setinterval...&quot;&gt;setInterval&lt;/a&gt;&lt;/code&gt; methods allow authors to
    schedule timer-based events.
@@ -48787,18 +48672,6 @@
    were provided, they must be passed to the &lt;var title=&quot;&quot;&gt;handler&lt;/var&gt; as
    arguments to the &lt;code&gt;handleEvent()&lt;/code&gt; function.
 
-  &lt;p&gt;In the ECMAScript DOM binding, the ECMAScript native
-   &lt;code&gt;Function&lt;/code&gt; type must implement the &lt;code&gt;&lt;a
-   href=&quot;#timeouthandler&quot;&gt;TimeoutHandler&lt;/a&gt;&lt;/code&gt; interface such that
-   invoking the &lt;code&gt;handleEvent()&lt;/code&gt; method of that interface on the
-   object from another language binding invokes the function itself, with the
-   arguments passed to &lt;code&gt;handleEvent()&lt;/code&gt; as the arguments passed to
-   the function. In the ECMAScript DOM binding itself, however, the
-   &lt;code&gt;handleEvent()&lt;/code&gt; method of the interface is not directly
-   accessible on &lt;code&gt;Function&lt;/code&gt; objects. Such functions must be called
-   in the scope of the &lt;a href=&quot;#browsing0&quot;&gt;browsing context&lt;/a&gt; in which
-   they were created.
-
   &lt;p&gt;Alternatively, &lt;dfn id=settimeout0 title=&quot;&quot;&gt;&lt;code&gt;setTimeout(&lt;var
    title=&quot;&quot;&gt;code&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;timeout&lt;/var&gt;[, &lt;var
    title=&quot;&quot;&gt;language&lt;/var&gt;])&lt;/code&gt;&lt;/dfn&gt; may be used. This variant takes a
@@ -48835,19 +48708,6 @@
   &lt;p&gt;Timeouts must never fire while another script is executing. (Thus the
    HTML scripting model is strictly single-threaded and not reentrant.)
 
-  &lt;h3 id=events2&gt;&lt;span class=secno&gt;11.5 &lt;/span&gt;Events&lt;/h3&gt;
-
-  &lt;p id=js-function-listener&gt;In the ECMAScript DOM binding, the ECMAScript
-   native &lt;code&gt;Function&lt;/code&gt; type must implement the
-   &lt;code&gt;EventListener&lt;/code&gt; interface such that invoking the
-   &lt;code&gt;handleEvent()&lt;/code&gt; method of that interface on the object from
-   another language binding invokes the function itself, with the
-   &lt;code&gt;event&lt;/code&gt; argument as its only argument. In the ECMAScript
-   binding itself, however, the &lt;code&gt;handleEvent()&lt;/code&gt; method of the
-   interface is not directly accessible on &lt;code&gt;Function&lt;/code&gt; objects.
-   Such functions, when invoked, must be called in the scope of the &lt;a
-   href=&quot;#browsing0&quot;&gt;browsing context&lt;/a&gt; that they were created in.
-
   &lt;h2 class=no-num id=references&gt;References&lt;/h2&gt;
 
   &lt;p class=big-issue&gt;This section will be written in a future
@@ -49712,15 +49572,7 @@
 
 
 
-  &lt;p&gt;In the ECMAScript DOM binding, objects implementing this interface
-  can also be dereferenced using square bracket notation (e.g.
-  &lt;code&gt;foo[1]&lt;/code&gt; or &lt;code&gt;foo[&quot;bar&quot;]&lt;/code&gt;). Dereferencing with
-  an integer index is equivalent to invoking the &lt;code&gt;item()&lt;/code&gt;
-  method with that index, and dereferencing with a string index is
-  equivalent to invoking the &lt;code&gt;namedItem()&lt;/code&gt; method with that
-  index.&lt;/p&gt;
 
-
 &quot;you have mail&quot;: bubble notification; flash taskbar button, 
 =&gt; how do you stop advertisers?
 

Modified: source
===================================================================
--- source	2008-04-10 21:50:13 UTC (rev 1429)
+++ source	2008-04-11 04:28:06 UTC (rev 1430)
@@ -516,43 +516,25 @@
   title=&quot;big-issue&quot;&gt;NOT_SUPPORTED_ERR&lt;/code&gt; exception must be
   raised.&lt;/p&gt;
 
-  &lt;p&gt;Unless other specified, if a DOM attribute that is a signed
-  numeric type is assigned a negative value, a &lt;code
-  title=&quot;big-issue&quot;&gt;NOT_SUPPORTED_ERR&lt;/code&gt; exception must be
-  raised.&lt;/p&gt;
-
   &lt;p&gt;Unless other specified, if a method with an argument that is a
   floating point number type (&lt;code title=&quot;&quot;&gt;float&lt;/code&gt;) is passed
   an Infinity or Not-a-Number value, a &lt;code
   title=&quot;big-issue&quot;&gt;NOT_SUPPORTED_ERR&lt;/code&gt; exception must be
   raised.&lt;/p&gt;
 
+  &lt;!-- XXX DOMB --&gt;
   &lt;p&gt;Unless other specified, if a method is passed fewer
   arguments than is defined for that method in its IDL definition,
   a &lt;code title=&quot;big-issue&quot;&gt;NOT_SUPPORTED_ERR&lt;/code&gt; exception must be
   raised.&lt;/p&gt;
 
+  &lt;!-- XXX DOMB --&gt;
   &lt;p&gt;Unless other specified, if a method is passed more arguments than
   is defined for that method in its IDL definition, the excess
   arguments must be ignored.&lt;/p&gt; &lt;!-- XXX When updating this spec for
   Bindings-For-DOM-compliance, also remove or consider the equivalent
   requirement in the canvas section for toDataURL() and
   getContext(). --&gt;
-
-  &lt;p&gt;Unless other specified, if a method is expecting, as one of its
-  arguments, as defined by its IDL definition, an object implementing
-  a particular interface &lt;var title=&quot;&quot;&gt;X&lt;/var&gt;, and the argument
-  passed is an object whose [[Class]] property is neither that
-  interface &lt;var title=&quot;&quot;&gt;X&lt;/var&gt;, nor the name of an interface &lt;var
-  title=&quot;&quot;&gt;Y&lt;/var&gt; where this specification requires that all objects
-  implementing interface &lt;var title=&quot;&quot;&gt;Y&lt;/var&gt; also implement
-  interface &lt;var title=&quot;&quot;&gt;X&lt;/var&gt;, nor the name of an interface that
-  inherits from the expected interface &lt;var title=&quot;&quot;&gt;X&lt;/var&gt;, then a
-  &lt;code title=&quot;&quot;&gt;TYPE_MISMATCH_ERR&lt;/code&gt; exception must be
-  raised.&lt;/p&gt;
-
-  &lt;p class=&quot;big-issue&quot;&gt;Anything else? Passing the wrong type of
-  object, maybe? Implied conversions to int/float?&lt;/p&gt;
   
 
   &lt;h4&gt;Dependencies&lt;/h4&gt;
@@ -608,9 +590,9 @@
 
     &lt;p&gt;Implementations that use ECMAScript to implement the APIs
     defined in this specification must implement them in a manner
-    consistent with the ECMAScript Bindings for DOM Specifications
+    consistent with the ECMAScript Bindings defined in the Web IDL
     specification, as this specification uses that specification's
-    terminology. &lt;a href=&quot;#refsEBFD&quot;&gt;[EBFD]&lt;/a&gt;&lt;/p&gt;
+    terminology. &lt;a href=&quot;#refsWebIDL&quot;&gt;[WebIDL]&lt;/a&gt;&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -772,28 +754,10 @@
   imply a visual medium; they must be considered to apply to other
   media in equivalent ways.&lt;/p&gt;
 
-  &lt;p&gt;Various DOM interfaces are defined in this specification using
-  pseudo-IDL. This looks like OMG IDL but isn't. For instance, method
-  overloading is used, and types from the W3C DOM specifications are
-  used without qualification. Language-specific bindings for these
-  abstract interface definitions must be derived in the way consistent
-  with W3C DOM specifications. Some interface-specific binding
-  information for ECMAScript is included in this specification.&lt;/p&gt;
+  &lt;p&gt;DOM interfaces defined in this specification use Web IDL. User
+  agents must implement these interfaces as defined by the Web IDL
+  specification. &lt;a href=&quot;#refsWEBIDL&quot;&gt;[WEBIDL]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p class=&quot;big-issue&quot;&gt;The current situation with IDL blocks is
-  pitiful. IDL is totally inadequate to properly represent what
-  objects have to look like in JS; IDL can't say if a member is
-  enumerable, what the indexing behaviour is, what the stringification
-  behaviour is, what behaviour setting a member whose type is a
-  particular interface should be (e.g. setting of document.location or
-  element.className), what constructor an object implementing an
-  interface should claim to have, how overloads work, etc. I think we
-  should make the IDL blocks non-normative, and/or replace them with
-  something else that is better for JS while still being clear on how
-  it applies to other languages. However, we do need to have something
-  that says what types the methods take as arguments, since we have to
-  raise exceptions if they are wrong.&lt;/p&gt;
-
   &lt;p&gt;The construction &quot;a &lt;code&gt;Foo&lt;/code&gt; object&quot;, where
   &lt;code&gt;Foo&lt;/code&gt; is actually an interface, is sometimes used instead
   of the more accurate &quot;an object implementing the interface
@@ -801,7 +765,8 @@
 
   &lt;p&gt;A DOM attribute is said to be &lt;em&gt;getting&lt;/em&gt; when its value is
   being retrieved (e.g. by author script), and is said to be
-  &lt;em&gt;setting&lt;/em&gt; when a new value is assigned to it.&lt;/p&gt;
+  &lt;em&gt;setting&lt;/em&gt; when a new value is assigned to it.&lt;/p&gt; &lt;!-- XXX
+  define this in terms of [[Get]] and [[Put]] ? --&gt;
 
   &lt;p&gt;If a DOM object is said to be &lt;dfn&gt;live&lt;/dfn&gt;, then that means
   that any attributes returning that object must always return the
@@ -827,6 +792,7 @@
   paused, however.&lt;/p&gt;
 
 
+
   &lt;h4&gt;HTML vs XHTML&lt;/h4&gt;
 
   &lt;p&gt;&lt;em&gt;This section is non-normative.&lt;/em&gt;&lt;/p&gt;
@@ -932,7 +898,7 @@
 
   &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLDocument&lt;/dfn&gt; {
   // &lt;span&gt;Resource metadata management&lt;/span&gt;
-  readonly attribute &lt;span&gt;Location&lt;/span&gt; &lt;span title=&quot;dom-document-location&quot;&gt;location&lt;/span&gt;;
+  [PutForwards=href] readonly attribute &lt;span&gt;Location&lt;/span&gt; &lt;span title=&quot;dom-document-location&quot;&gt;location&lt;/span&gt;;
   readonly attribute DOMString &lt;span title=&quot;dom-document-URL&quot;&gt;URL&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-document-domain&quot;&gt;domain&lt;/span&gt;;
   readonly attribute DOMString &lt;span title=&quot;dom-document-referrer&quot;&gt;referrer&lt;/span&gt;;
@@ -1445,8 +1411,8 @@
 
   &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLCollection&lt;/dfn&gt; {
   readonly attribute unsigned long &lt;span title=&quot;dom-HTMLCollection-length&quot;&gt;length&lt;/span&gt;;
-  Element &lt;span title=&quot;dom-HTMLCollection-item&quot;&gt;item&lt;/span&gt;(in unsigned long index);
-  Element &lt;span title=&quot;dom-HTMLCollection-namedItem&quot;&gt;namedItem&lt;/span&gt;(in DOMString name);
+  [IndexGetter] Element &lt;span title=&quot;dom-HTMLCollection-item&quot;&gt;item&lt;/span&gt;(in unsigned long index);
+  [NameGetter] Element &lt;span title=&quot;dom-HTMLCollection-namedItem&quot;&gt;namedItem&lt;/span&gt;(in DOMString name);
 };&lt;/pre&gt;
 
   &lt;p&gt;The &lt;dfn
@@ -1484,17 +1450,8 @@
   &lt;p&gt;If no such elements are found, then the method must return
   null.&lt;/p&gt;
 
-  &lt;p&gt;In ECMAScript implementations, objects that implement the
-  &lt;code&gt;HTMLCollection&lt;/code&gt; interface must also have a [[Get]]
-  method that, when invoked with a property name that is a number,
-  acts like the &lt;code title=&quot;dom-HTMLCollection-item&quot;&gt;item()&lt;/code&gt;
-  method would when invoked with that argument, and when invoked with
-  a property name that is a string, acts like the &lt;code
-  title=&quot;dom-HTMLCollection-namedItem&quot;&gt;namedItem()&lt;/code&gt; method would
-  when invoked with that argument.&lt;/p&gt;
 
 
-
   &lt;h5&gt;HTMLFormControlsCollection&lt;/h5&gt;
 
   &lt;p&gt;The &lt;code&gt;HTMLFormControlsCollection&lt;/code&gt; interface represents
@@ -1502,8 +1459,8 @@
 
   &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLFormControlsCollection&lt;/dfn&gt; {
   readonly attribute unsigned long &lt;span title=&quot;dom-HTMLFormControlsCollection-length&quot;&gt;length&lt;/span&gt;;
-  &lt;span&gt;HTMLElement&lt;/span&gt; &lt;span title=&quot;dom-HTMLFormControlsCollection-item&quot;&gt;item&lt;/span&gt;(in unsigned long index);
-  Object &lt;span title=&quot;dom-HTMLFormControlsCollection-namedItem&quot;&gt;namedItem&lt;/span&gt;(in DOMString name);
+  [IndexGetter] &lt;span&gt;HTMLElement&lt;/span&gt; &lt;span title=&quot;dom-HTMLFormControlsCollection-item&quot;&gt;item&lt;/span&gt;(in unsigned long index);
+  [NameGetter] Object &lt;span title=&quot;dom-HTMLFormControlsCollection-namedItem&quot;&gt;namedItem&lt;/span&gt;(in DOMString name);
 };&lt;/pre&gt;
 
   &lt;p&gt;The &lt;dfn
@@ -1548,17 +1505,7 @@
 
   &lt;/ol&gt;
 
-  &lt;p&gt;In the ECMAScript DOM binding, objects implementing the
-  &lt;code&gt;HTMLFormControlsCollection&lt;/code&gt; interface must support being
-  dereferenced using the square bracket notation, such that
-  dereferencing with an integer index is equivalent to invoking the
-  &lt;code title=&quot;dom-HTMLFormControlsCollection-item&quot;&gt;item()&lt;/code&gt;
-  method with that index, and such that dereferencing with a string
-  index is equivalent to invoking the &lt;code
-  title=&quot;dom-HTMLFormControlsCollection-namedItem&quot;&gt;namedItem()&lt;/code&gt;
-  method with that index.&lt;/p&gt;
 
-
 &lt;!--
 <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E...%0A%3Cform%20name%3D%22a%22%3E%3Cinput%20id%3D%22x%22%20name%3D%22y%22%3E%3Cinput%20name%3D%22x%22%20id%3D%22y%22%3E%3C/form%3E%0A%3Cscript%3E%0A%20%20var%20x%3B%0A%20%20w%28x%20%3D%20document.forms%5B%27a%27%5D%5B%27x%27%5D%29%3B%0A%20%20w%28x.length%29%3B%0A%20%20x%5B0%5D.parentNode.removeChild%28x%5B0%5D%29%3B%0A%20%20w%28x.length%29%3B%0A%20%20w%28x%20%3D%3D%20document.forms%5B%27a%27%5D%5B%27x%27%5D%29%3B%0A%3C/script%3E%0A">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E...%0A%3Cform%20name%3D%22a%22%3E%3Cinput%20id%3D%22x%22%20name%3D%22y%22%3E%3Cinput%20name%3D%22x%22%20id%3D%22y%22%3E%3C/form%3E%0A%3Cscript%3E%0A%20%20var%20x%3B%0A%20%20w%28x%20%3D%20document.forms%5B%27a%27%5D%5B%27x%27%5D%29%3B%0A%20%20w%28x.length%29%3B%0A%20%20x%5B0%5D.parentNode.removeChild%28x%5B0%5D%29%3B%0A%20%20w%28x.length%29%3B%0A%20%20w%28x%20%3D%3D%20document.forms%5B%27a%27%5D%5B%27x%27%5D%29%3B%0A%3C/script%3E%0A</A>
 --&gt;
@@ -1571,8 +1518,8 @@
 
   &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLOptionsCollection&lt;/dfn&gt; {
            attribute unsigned long &lt;span title=&quot;dom-HTMLOptionsCollection-length&quot;&gt;length&lt;/span&gt;;
-  HTMLOptionElement &lt;span title=&quot;dom-HTMLOptionsCollection-item&quot;&gt;item&lt;/span&gt;(in unsigned long index);
-  Object &lt;span title=&quot;dom-HTMLOptionsCollection-namedItem&quot;&gt;namedItem&lt;/span&gt;(in DOMString name);
+  [IndexGetter] HTMLOptionElement &lt;span title=&quot;dom-HTMLOptionsCollection-item&quot;&gt;item&lt;/span&gt;(in unsigned long index);
+  [NameGetter] Object &lt;span title=&quot;dom-HTMLOptionsCollection-namedItem&quot;&gt;namedItem&lt;/span&gt;(in DOMString name);
 };&lt;/pre&gt;
 
   &lt;p&gt;On getting, the &lt;dfn
@@ -1637,16 +1584,6 @@
 
   &lt;/ol&gt;
 
-  &lt;p&gt;In the ECMAScript DOM binding, objects implementing the
-  &lt;code&gt;HTMLOptionsCollection&lt;/code&gt; interface must support being
-  dereferenced using the square bracket notation, such that
-  dereferencing with an integer index is equivalent to invoking the
-  &lt;code title=&quot;dom-HTMLOptionsCollection-item&quot;&gt;item()&lt;/code&gt;
-  method with that index, and such that dereferencing with a string
-  index is equivalent to invoking the &lt;code
-  title=&quot;dom-HTMLOptionsCollection-namedItem&quot;&gt;namedItem()&lt;/code&gt;
-  method with that index.&lt;/p&gt;
-
   &lt;!-- see also <A HREF="http://ln.hixie.ch/?start=1161042744&amp;count=1">http://ln.hixie.ch/?start=1161042744&amp;count=1</A> --&gt;
 
   &lt;p class=&quot;big-issue&quot;&gt;We may want to add &lt;code&gt;add()&lt;/code&gt; and
@@ -1670,9 +1607,9 @@
   passed to an author-implemented callback in the
   &lt;code&gt;datagrid&lt;/code&gt; APIs).&lt;/p&gt;
 
-  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;DOMTokenList&lt;/dfn&gt; {
+  &lt;pre class=&quot;idl&quot;&gt;[&lt;span title=&quot;dom-tokenlist-toString&quot;&gt;Stringifies&lt;/span&gt;] interface &lt;dfn&gt;DOMTokenList&lt;/dfn&gt; {
   readonly attribute unsigned long &lt;span title=&quot;dom-tokenlist-length&quot;&gt;length&lt;/span&gt;;
-  DOMString &lt;span title=&quot;dom-tokenlist-item&quot;&gt;item&lt;/span&gt;(in unsigned long index);
+  [IndexGetter] DOMString &lt;span title=&quot;dom-tokenlist-item&quot;&gt;item&lt;/span&gt;(in unsigned long index);
   boolean &lt;span title=&quot;dom-tokenlist-has&quot;&gt;has&lt;/span&gt;(in DOMString token);
   void &lt;span title=&quot;dom-tokenlist-add&quot;&gt;add&lt;/span&gt;(in DOMString token);
   void &lt;span title=&quot;dom-tokenlist-remove&quot;&gt;remove&lt;/span&gt;(in DOMString token);
@@ -1695,13 +1632,7 @@
   title=&quot;&quot;&gt;index&lt;/var&gt; is equal to or greater than the number of
   tokens, then the method must return null.&lt;/p&gt;
 
-  &lt;p&gt;In ECMAScript implementations, objects that implement the
-  &lt;code&gt;DOMTokenList&lt;/code&gt; interface must also have a [[Get]] method
-  that, when invoked with a property name that is a number, acts like
-  the &lt;code title=&quot;dom-tokenlist-item&quot;&gt;item()&lt;/code&gt; method would when
-  invoked with that argument.&lt;/p&gt;
 
-
   &lt;p&gt;The &lt;dfn title=&quot;dom-tokenlist-has&quot;&gt;&lt;code&gt;has(&lt;var
   title=&quot;&quot;&gt;token&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must run the following
   algorithm:&lt;/p&gt;
@@ -1804,8 +1735,8 @@
 
   &lt;/ol&gt;
 
-  &lt;p&gt;In the ECMAScript DOM binding, objects implementing the
-  &lt;code&gt;DOMTokenList&lt;/code&gt; interface must stringify to the object's
+  &lt;p&gt;Objects implementing the &lt;code&gt;DOMTokenList&lt;/code&gt; interface must
+  &lt;dfn title=&quot;dom-tokenlist-toString&quot;&gt;stringify&lt;/dfn&gt; to the object's
   underlying string representation.&lt;/p&gt;
 
 
@@ -1818,28 +1749,28 @@
   for deleting names.&lt;/p&gt;
 
   &lt;p class=&quot;big-issue&quot;&gt;The names of the methods on this interface are
-  temporary and will be fixed when the &quot;Language Bindings for DOM
-  Specifications&quot; spec is ready to handle this case.&lt;/p&gt;
+  temporary and will be fixed when the Web IDL / &quot;Language Bindings
+  for DOM Specifications&quot; spec is ready to handle this case.&lt;/p&gt;
 
   &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;DOMStringMap&lt;/dfn&gt; {
-  DOMString &lt;span title=&quot;dom-stringmap-[[Get]]&quot;&gt;[[Get]]&lt;/span&gt;(in DOMString name);
-  void &lt;span title=&quot;dom-stringmap-[[Put]]&quot;&gt;[[Put]]&lt;/span&gt;(in DOMString name, in DOMString value);
-  bool &lt;span title=&quot;dom-stringmap-[[Delete]]&quot;&gt;[[Delete]]&lt;/span&gt;(in DOMString name);
+  [NameGetter] DOMString &lt;span title=&quot;dom-stringmap-XXX1&quot;&gt;XXX1&lt;/span&gt;(in DOMString name);
+  [NameSetter] void &lt;span title=&quot;dom-stringmap-XXX2&quot;&gt;XXX2&lt;/span&gt;(in DOMString name, in DOMString value);
+  [XXX] bool &lt;span title=&quot;dom-stringmap-XXX3&quot;&gt;XXX3&lt;/span&gt;(in DOMString name);
 };&lt;/pre&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-stringmap-[[Get]]&quot;&gt;&lt;code&gt;[[Get]](&lt;var
+  &lt;p&gt;The &lt;dfn title=&quot;dom-stringmap-XXX1&quot;&gt;&lt;code&gt;XXX1(&lt;var
   title=&quot;&quot;&gt;name&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must call the algorithm for
   getting values from names, passing &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; as the
   name, and must return the corresponding value, or null if &lt;var
   title=&quot;&quot;&gt;name&lt;/var&gt; has no corresponding value.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-stringmap-[[Put]]&quot;&gt;&lt;code&gt;[[Put]](&lt;var
+  &lt;p&gt;The &lt;dfn title=&quot;dom-stringmap-XXX2&quot;&gt;&lt;code&gt;XXX2(&lt;var
   title=&quot;&quot;&gt;name&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
   must call the algorithm for setting names to certain values, passing
   &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; as the name and &lt;var title=&quot;&quot;&gt;value&lt;/var&gt;
   as the value.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-stringmap-[[Delete]]&quot;&gt;&lt;code&gt;[[Delete]](&lt;var
+  &lt;p&gt;The &lt;dfn title=&quot;dom-stringmap-XXX3&quot;&gt;&lt;code&gt;XXX3(&lt;var
   title=&quot;&quot;&gt;name&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must call the algorithm for
   deleting names, passing &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; as the name, and
   must return true.&lt;/p&gt;
@@ -5474,7 +5405,10 @@
   that implement the &lt;code&gt;Document&lt;/code&gt; interface using
   binding-specific casting methods.&lt;/p&gt;
 
-  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;DocumentFocus&lt;/dfn&gt; {
+  &lt;p class=&quot;big-issue&quot;&gt;Actually even better would be to just mix it
+  straight into those interfaces somehow.&lt;/p&gt;
+
+  &lt;pre class=&quot;idl&quot;&gt;[NoInterfaceObject] interface &lt;dfn&gt;DocumentFocus&lt;/dfn&gt; {
   void moveFocusForward();
   void moveFocusBackward();
   void moveFocusUp();
@@ -8562,7 +8496,7 @@
    &lt;dd&gt;&lt;code title=&quot;attr-hyperlink-type&quot;&gt;type&lt;/code&gt;&lt;/dd&gt;
    &lt;dt&gt;DOM interface:&lt;/dt&gt;
    &lt;dd&gt;
-&lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLAnchorElement&lt;/dfn&gt; : &lt;span&gt;HTMLElement&lt;/span&gt; {
+&lt;pre class=&quot;idl&quot;&gt;[Stringifies=href] interface &lt;dfn&gt;HTMLAnchorElement&lt;/dfn&gt; : &lt;span&gt;HTMLElement&lt;/span&gt; {
            attribute DOMString &lt;span title=&quot;dom-a-href&quot;&gt;href&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-a-target&quot;&gt;target&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-a-ping&quot;&gt;ping&lt;/span&gt;;
@@ -8571,7 +8505,7 @@
            attribute DOMString &lt;span title=&quot;dom-a-media&quot;&gt;media&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-a-hreflang&quot;&gt;hreflang&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-a-type&quot;&gt;type&lt;/span&gt;;
-};&lt;/pre&gt;
+};&lt;/pre&gt;&lt;!-- XXX also support the URI decomposition attributes --&gt;
     &lt;p&gt;The &lt;code title=&quot;command-ro&quot;&gt;Command&lt;/code&gt; interface must also be implemented by
     this element.&lt;/p&gt;
    &lt;/dd&gt;
@@ -13942,8 +13876,8 @@
   &lt;/ol&gt;
 
 
-  &lt;!-- XXX the remainder of this subsection will be removed once we
-  have a way to mark up callbacks in IDL --&gt;
+  &lt;!-- XXX the remainder of this subsection may be removed if we ever
+  get a way to mark up callbacks in IDL --&gt;
 
   &lt;p&gt;Invoking a callback (an object implementing the
   &lt;code&gt;VoidCallback&lt;/code&gt; interface) means calling its &lt;code
@@ -13960,19 +13894,7 @@
   interface is the entrypoint for the callback represented by the
   object.&lt;/p&gt;
 
-  &lt;p&gt;In the ECMAScript DOM binding, the ECMAScript native
-  &lt;code&gt;Function&lt;/code&gt; type must implement the
-  &lt;code&gt;VoidCallback&lt;/code&gt; interface such that invoking the
-  &lt;code&gt;handleEvent()&lt;/code&gt; method of that interface on the object
-  from another language binding invokes the function itself. In the
-  ECMAScript binding itself, however, the &lt;code&gt;handleEvent()&lt;/code&gt;
-  method of the interface is not directly accessible on
-  &lt;code&gt;Function&lt;/code&gt; objects. Such functions, when invoked, must be
-  called at the scope of the &lt;span&gt;browsing context&lt;/span&gt;.&lt;/p&gt; &lt;!--
-  XXX if you change this make sure to also look up the other mentions
-  of handleEvent() in this file --&gt;
 
-
   &lt;h5&gt;User interface&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;attr-media-controls&quot;&gt;&lt;code&gt;controls&lt;/code&gt;&lt;/dfn&gt;
@@ -20037,7 +19959,7 @@
   represented by objects that implement the
   &lt;span&gt;RowSpecification&lt;/span&gt; interface.&lt;/p&gt;
 
-  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;RowSpecification&lt;/dfn&gt; {
+  &lt;pre class=&quot;idl&quot;&gt;[NoInterfaceObject] interface &lt;dfn&gt;RowSpecification&lt;/dfn&gt; {
   // binding-specific interface
 };&lt;/pre&gt;
 
@@ -20069,7 +19991,7 @@
   (and most commonly) the content author's implementation(s).&lt;/em&gt;&lt;/p&gt;
 
   &lt;pre class=&quot;idl&quot;&gt;// To be implemented by Web authors as a JS object
-interface &lt;dfn&gt;DataGridDataProvider&lt;/dfn&gt; {
+[NoInterfaceObject] interface &lt;dfn&gt;DataGridDataProvider&lt;/dfn&gt; {
   void &lt;span title=&quot;dom-provider-initialize&quot;&gt;initialize&lt;/span&gt;(in HTMLDataGridElement datagrid);
   unsigned long &lt;span title=&quot;dom-provider-getRowCount&quot;&gt;getRowCount&lt;/span&gt;(in &lt;span&gt;RowSpecification&lt;/span&gt; row);
   unsigned long &lt;span title=&quot;dom-provider-getChildAtPosition&quot;&gt;getChildAtPosition&lt;/span&gt;(in &lt;span&gt;RowSpecification&lt;/span&gt; parentRow, in unsigned long position);
@@ -21704,7 +21626,7 @@
 
   &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;DataGridSelection&lt;/dfn&gt; {
   readonly attribute unsigned long &lt;span title=&quot;dom-DataGridSelection-count&quot;&gt;length&lt;/span&gt;;
-  &lt;span&gt;RowSpecification&lt;/span&gt; &lt;span title=&quot;dom-DataGridSelection-&quot;&gt;item&lt;/span&gt;(in unsigned long index);
+  [IndexGetter] &lt;span&gt;RowSpecification&lt;/span&gt; &lt;span title=&quot;dom-DataGridSelection-&quot;&gt;item&lt;/span&gt;(in unsigned long index);
   boolean &lt;span title=&quot;dom-DataGridSelection-isSelected&quot;&gt;isSelected&lt;/span&gt;(in &lt;span&gt;RowSpecification&lt;/span&gt; row);
   void &lt;span title=&quot;dom-DataGridSelection-setSelected&quot;&gt;setSelected&lt;/span&gt;(in &lt;span&gt;RowSpecification&lt;/span&gt; row, in boolean selected);
 &lt;!--  void &lt;span title=&quot;dom-DataGridSelection-addRange&quot;&gt;addRange&lt;/span&gt;(in &lt;span&gt;RowSpecification&lt;/span&gt; first, in &lt;span&gt;RowSpecification&lt;/span&gt; last);
@@ -22505,10 +22427,13 @@
   &lt;/dl&gt;
 
   &lt;p&gt;Commands are represented by elements in the DOM. Any element that
-  can define a command also implements the &lt;code title=&quot;command-ro&quot;&gt;Command&lt;/code&gt;
-  interface:&lt;/p&gt;
+  can define a command also implements the &lt;code
+  title=&quot;command-ro&quot;&gt;Command&lt;/code&gt; interface:&lt;/p&gt;
 
-  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn title=&quot;command-ro&quot;&gt;Command&lt;/dfn&gt; {&lt;!--
+  &lt;p class=&quot;big-issue&quot;&gt;Actually even better would be to just mix it
+  straight into those interfaces somehow.&lt;/p&gt;
+
+  &lt;pre class=&quot;idl&quot;&gt;[NoInterfaceObject] interface &lt;dfn title=&quot;command-ro&quot;&gt;Command&lt;/dfn&gt; {&lt;!--
  NOTE: to avoid clashing with the HTMLCommandElement interface's names,
        the members of this interface use cross-references with the title
        dom-command-ro-foo (note the &quot;ro&quot;, which stands for &quot;readonly&quot;).
@@ -24145,12 +24070,12 @@
   view&quot;&gt;default views&lt;/span&gt; must also implement the
   &lt;code&gt;Window&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;Window&lt;/dfn&gt; {
+  &lt;pre class=&quot;idl&quot;&gt;[NoInterfaceObject] interface &lt;dfn&gt;Window&lt;/dfn&gt; {
   // the current browsing context
   readonly attribute &lt;span&gt;Window&lt;/span&gt; &lt;span title=&quot;dom-window&quot;&gt;window&lt;/span&gt;;
   readonly attribute &lt;span&gt;Window&lt;/span&gt; &lt;span title=&quot;dom-self&quot;&gt;self&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-name&quot;&gt;name&lt;/span&gt;;
-  readonly attribute &lt;span&gt;Location&lt;/span&gt; &lt;span title=&quot;dom-document-location&quot;&gt;location&lt;/span&gt;;
+  [PutForwards=href] readonly attribute &lt;span&gt;Location&lt;/span&gt; &lt;span title=&quot;dom-document-location&quot;&gt;location&lt;/span&gt;;
   readonly attribute &lt;span&gt;History&lt;/span&gt; &lt;span title=&quot;dom-history&quot;&gt;history&lt;/span&gt;;
   readonly attribute &lt;span&gt;UndoManager&lt;/span&gt; &lt;span title=&quot;dom-undoManager&quot;&gt;undoManager&lt;/span&gt;;
   &lt;span&gt;Selection&lt;/span&gt; &lt;span title=&quot;dom-getSelection&quot;&gt;getSelection&lt;/span&gt;();
@@ -24171,6 +24096,7 @@
   // other browsing contexts
   readonly attribute &lt;span&gt;Window&lt;/span&gt; &lt;span title=&quot;dom-frames&quot;&gt;frames&lt;/span&gt;;
   readonly attribute unsigned long &lt;span title=&quot;dom-length&quot;&gt;length&lt;/span&gt;;
+  [IndexGetter] &lt;span&gt;Window&lt;/span&gt; &lt;span title=&quot;dom-XXX4&quot;&gt;XXX4&lt;/span&gt;(in unsigned long index);
   readonly attribute &lt;span&gt;Window&lt;/span&gt; &lt;span title=&quot;dom-opener&quot;&gt;opener&lt;/span&gt;;
   &lt;span&gt;Window&lt;/span&gt; &lt;span title=&quot;dom-open&quot;&gt;open&lt;/span&gt;();
   &lt;span&gt;Window&lt;/span&gt; &lt;span title=&quot;dom-open&quot;&gt;open&lt;/span&gt;(in DOMString url);
@@ -24217,8 +24143,7 @@
            attribute &lt;span&gt;EventListener&lt;/span&gt; &lt;span title=&quot;handler-onunload&quot;&gt;onunload&lt;/span&gt;;
 };&lt;/pre&gt;
 
- &lt;!-- XXX XMLHttpRequest
-          <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/objects/obj_window.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/objects/obj_window.asp</A>
+ &lt;!-- XXX <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/objects/obj_window.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/objects/obj_window.asp</A>
           <A HREF="http://www.mozilla.org/docs/dom/domref/dom_window_ref.html">http://www.mozilla.org/docs/dom/domref/dom_window_ref.html</A>
           <A HREF="http://lxr.mozilla.org/mozilla/source/dom/public/idl/base/nsIDOMWindow.idl">http://lxr.mozilla.org/mozilla/source/dom/public/idl/base/nsIDOMWindow.idl</A>
    --&gt;
@@ -24397,23 +24322,21 @@
 
   &lt;h4&gt;Accessing other browsing contexts&lt;/h4&gt;
 
-  &lt;p&gt;In ECMAScript implementations, objects that implement the
-  &lt;code&gt;Window&lt;/code&gt; interface must have a &lt;dfn
-  title=&quot;dom-item&quot;&gt;[[Get]]&lt;/dfn&gt; method that, when invoked with a
-  property name that is a number &lt;var title=&quot;&quot;&gt;i&lt;/var&gt;, returns the
-  &lt;var title=&quot;&quot;&gt;i&lt;/var&gt;th &lt;span&gt;child browsing context&lt;/span&gt; of the
-  &lt;span title=&quot;active document&quot;&gt;active&lt;/span&gt; &lt;code&gt;Document&lt;/code&gt;,
-  sorted in document order of the elements nesting those browsing
-  contexts.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn title=&quot;dom-length&quot;&gt;&lt;code&gt;length&lt;/code&gt;&lt;/dfn&gt; DOM
   attribute on the &lt;code&gt;Window&lt;/code&gt; interface must return the
   number of &lt;span title=&quot;child browsing context&quot;&gt;child browsing
   contexts&lt;/span&gt; of the &lt;span title=&quot;active document&quot;&gt;active&lt;/span&gt;
   &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn title=&quot;dom-XXX4&quot;&gt;&lt;code&gt;XXX4(&lt;var
+  title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the &lt;var
+  title=&quot;&quot;&gt;index&lt;/var&gt;th &lt;span&gt;child browsing context&lt;/span&gt; of the
+  &lt;span title=&quot;active document&quot;&gt;active&lt;/span&gt; &lt;code&gt;Document&lt;/code&gt;,
+  sorted in document order of the elements nesting those browsing
+  contexts.&lt;/p&gt;
 
 
+
   &lt;h3 id=&quot;scripting&quot;&gt;Scripting&lt;/h3&gt;
 
   &lt;h4&gt;Running executable code&lt;/h4&gt;
@@ -27562,18 +27485,6 @@
            attribute DOMString &lt;span title=&quot;dom-location-hash&quot;&gt;hash&lt;/span&gt;;
 };&lt;/pre&gt;
 
-  &lt;p&gt;In the ECMAScript DOM binding, objects implementing this
-  interface must stringify to the same value as the &lt;code
-  title=&quot;dom-location-href&quot;&gt;href&lt;/code&gt; attribute.&lt;/p&gt;
-
-  &lt;p id=&quot;settingLocation&quot;&gt;In the ECMAScript DOM binding, the &lt;code
-  title=&quot;&quot;&gt;location&lt;/code&gt; members of the &lt;code&gt;HTMLDocument&lt;/code&gt;
-  and &lt;code&gt;Window&lt;/code&gt; interfaces behave as if they had a setter:
-  user agents must treat attempts to set these &lt;code
-  title=&quot;&quot;&gt;location&lt;/code&gt; attributes as attempts at setting the &lt;code
-  title=&quot;dom-location-href&quot;&gt;href&lt;/code&gt; attribute of the relevant
-  &lt;code&gt;Location&lt;/code&gt; object instead.&lt;/p&gt;
-
   &lt;p&gt;The &lt;dfn title=&quot;dom-location-href&quot;&gt;&lt;code&gt;href&lt;/code&gt;&lt;/dfn&gt;
   attribute returns the address of the page represented by the
   associated &lt;code&gt;Document&lt;/code&gt; object, as an absolute IRI
@@ -29081,10 +28992,10 @@
   &lt;pre class=&quot;idl&quot;&gt;
 interface &lt;dfn&gt;Storage&lt;/dfn&gt; {
   readonly attribute unsigned long &lt;span title=&quot;dom-Storage-length&quot;&gt;length&lt;/span&gt;;
-  DOMString &lt;span title=&quot;dom-Storage-key&quot;&gt;key&lt;/span&gt;(in unsigned long index);
-  DOMString &lt;span title=&quot;dom-Storage-getItem&quot;&gt;getItem&lt;/span&gt;(in DOMString key);
-  void &lt;span title=&quot;dom-Storage-setItem&quot;&gt;setItem&lt;/span&gt;(in DOMString key, in DOMString data);
-  void &lt;span title=&quot;dom-Storage-removeItem&quot;&gt;removeItem&lt;/span&gt;(in DOMString key);
+  [IndexGetter] DOMString &lt;span title=&quot;dom-Storage-key&quot;&gt;key&lt;/span&gt;(in unsigned long index);
+  [NameGetter] DOMString &lt;span title=&quot;dom-Storage-getItem&quot;&gt;getItem&lt;/span&gt;(in DOMString key);
+  [NameSetter] void &lt;span title=&quot;dom-Storage-setItem&quot;&gt;setItem&lt;/span&gt;(in DOMString key, in DOMString data);
+  [XXX] void &lt;span title=&quot;dom-Storage-removeItem&quot;&gt;removeItem&lt;/span&gt;(in DOMString key); &lt;!-- XXX [[Delete]] --&gt;
 };&lt;/pre&gt;
 
   &lt;!-- XXX v2 ideas:
@@ -29177,21 +29088,7 @@
   area must either be successful, or the data storage area must not be
   changed at all.&lt;/p&gt;
 
-  &lt;p&gt;In the ECMAScript DOM binding, enumerating a &lt;code&gt;Storage&lt;/code&gt;
-  object must enumerate through the currently stored keys in the list
-  the object is associated with. (It must not enumerate the values or
-  the actual members of the interface). In the ECMAScript DOM binding,
-  &lt;code&gt;Storage&lt;/code&gt; objects must support dereferencing such that
-  getting a property that is not a member of the object (i.e. is
-  neither a member of the &lt;code&gt;Storage&lt;/code&gt; interface nor of &lt;code
-  title=&quot;dom-Object&quot;&gt;Object&lt;/code&gt;) must invoke the &lt;code
-  title=&quot;dom-Storage-getItem&quot;&gt;getItem()&lt;/code&gt; method with the
-  property's name as the argument, and setting such a property must
-  invoke the &lt;code title=&quot;dom-Storage-setItem&quot;&gt;setItem()&lt;/code&gt; method
-  with the property's name as the first argument and the given value
-  as the second argument.&lt;/p&gt;
 
-
   &lt;h4&gt;The &lt;code title=&quot;dom-sessionStorage&quot;&gt;sessionStorage&lt;/code&gt; attribute&lt;/h4&gt;
 
   &lt;p&gt;The &lt;dfn
@@ -29918,7 +29815,7 @@
 
   &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;SQLResultSetRowList&lt;/dfn&gt; {
   readonly attribute unsigned long &lt;span title=&quot;dom-SQLResultSetRowList-length&quot;&gt;length&lt;/span&gt;;
-  &lt;span&gt;DOMObject&lt;/span&gt; &lt;span title=&quot;dom-SQLResultSetRowList-item&quot;&gt;item&lt;/span&gt;(in unsigned long index);
+  [IndexGetter] &lt;span&gt;DOMObject&lt;/span&gt; &lt;span title=&quot;dom-SQLResultSetRowList-item&quot;&gt;item&lt;/span&gt;(in unsigned long index);
 };&lt;/pre&gt;
 
   &lt;p&gt;&lt;code&gt;SQLResultSetRowList&lt;/code&gt; objects have a &lt;dfn
@@ -33042,10 +32939,10 @@
 
   &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;UndoManager&lt;/dfn&gt; {
   unsigned long &lt;span title=&quot;dom-UndoManager-add&quot;&gt;add&lt;/span&gt;(in DOMObject data, in DOMStrong title);
-  void &lt;span title=&quot;dom-UndoManager-remove&quot;&gt;remove&lt;/span&gt;(in unsigned long index);
+  [XXX] void &lt;span title=&quot;dom-UndoManager-remove&quot;&gt;remove&lt;/span&gt;(in unsigned long index); &lt;!-- XX [[Delete]] --&gt;
   void &lt;span title=&quot;dom-UndoManager-clearUndo&quot;&gt;clearUndo&lt;/span&gt;();
   void &lt;span title=&quot;dom-UndoManager-clearRedo&quot;&gt;clearRedo&lt;/span&gt;();
-  DOMObject &lt;span title=&quot;dom-UndoManager-item&quot;&gt;item&lt;/span&gt;(in unsigned long index);
+  [IndexGetter] DOMObject &lt;span title=&quot;dom-UndoManager-item&quot;&gt;item&lt;/span&gt;(in unsigned long index);
   readonly attribute unsigned long &lt;span title=&quot;dom-UndoManager-length&quot;&gt;length&lt;/span&gt;;
   readonly attribute unsigned long &lt;span title=&quot;dom-UndoManager-position&quot;&gt;position&lt;/span&gt;;
 };&lt;/pre&gt;
@@ -33056,14 +32953,6 @@
   &lt;code&gt;Window&lt;/code&gt; object's associated
   &lt;code&gt;HTMLDocument&lt;/code&gt; object.&lt;/p&gt;
 
-  &lt;p&gt;In the ECMAScript DOM binding, objects implementing this interface
-  must also support being dereferenced using the square bracket
-  notation, such that dereferencing with an integer index is
-  equivalent to invoking the &lt;code
-  title=&quot;dom-UndoManager-item&quot;&gt;item()&lt;/code&gt; method with that index
-  (e.g. &lt;code title=&quot;&quot;&gt;undoManager[1]&lt;/code&gt; returns the same as &lt;code
-  title=&quot;&quot;&gt;undoManager.item(1)&lt;/code&gt;).&lt;/p&gt;
-
   &lt;p&gt;&lt;code&gt;UndoManager&lt;/code&gt; objects represent their document's
   &lt;span&gt;undo transaction history&lt;/span&gt;. Only &lt;span&gt;undo object&lt;/span&gt;
   entries are visible with this API, but this does not mean that
@@ -33361,7 +33250,7 @@
   method on the &lt;code&gt;HTMLDocument&lt;/code&gt; interface must return the
   same &lt;code&gt;Selection&lt;/code&gt; object.&lt;/p&gt;
                                    
-  &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;Selection&lt;/dfn&gt; {
+  &lt;pre class=&quot;idl&quot;&gt;[&lt;span title=&quot;dom-selection-toString&quot;&gt;Stringifies&lt;/span&gt;] interface &lt;dfn&gt;Selection&lt;/dfn&gt; {
   readonly attribute Node &lt;span title=&quot;dom-selection-anchorNode&quot;&gt;anchorNode&lt;/span&gt;;
   readonly attribute long &lt;span title=&quot;dom-selection-anchorOffset&quot;&gt;anchorOffset&lt;/span&gt;;
   readonly attribute Node &lt;span title=&quot;dom-selection-focusNode&quot;&gt;focusNode&lt;/span&gt;;
@@ -33377,7 +33266,6 @@
   void &lt;span title=&quot;dom-selection-addRange&quot;&gt;addRange&lt;/span&gt;(in Range range);
   void &lt;span title=&quot;dom-selection-removeRange&quot;&gt;removeRange&lt;/span&gt;(in Range range);
   void &lt;span title=&quot;dom-selection-removeAllRanges&quot;&gt;removeAllRanges&lt;/span&gt;();
-  DOMString &lt;span title=&quot;dom-selection-toString&quot;&gt;toString&lt;/span&gt;();
 };&lt;/pre&gt;
 &lt;!--
   See also:
@@ -33507,8 +33395,8 @@
   of selections, at the end (so the newly added range is the new last
   range). Duplicates are not prevented; a range may be added more than
   once in which case it appears in the list more than once, which (for
-  example) will cause &lt;code
-  title=&quot;dom-selection-toString&quot;&gt;toString()&lt;/code&gt; to return the
+  example) will cause &lt;span
+  title=&quot;dom-selection-toString&quot;&gt;stringification&lt;/span&gt; to return the
   range's text twice.&lt;/p&gt; &lt;!-- XXX how does this interact with
   deleteFromDocument() which acts on all ranges? --&gt;
 
@@ -33526,18 +33414,12 @@
   method is invoked (and until a new range is added to the list,
   either through this interface or via user interaction).&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-selection-toString&quot;&gt;&lt;code&gt;toString()&lt;/code&gt;&lt;/dfn&gt; method
-  must return a concatenation of the results of invoking the &lt;code
-  title=&quot;&quot;&gt;toString()&lt;/code&gt; method of the &lt;code&gt;Range&lt;/code&gt; object
-  on each of the ranges of the selection, in the order they appear in
-  the list (first to last).&lt;/p&gt;
+  &lt;p&gt;Objects implementing this interface must &lt;dfn
+  title=&quot;dom-selection-toString&quot;&gt;stringinfy&lt;/dfn&gt; to a concatenation
+  of the results of invoking the &lt;code title=&quot;&quot;&gt;toString()&lt;/code&gt;
+  method of the &lt;code&gt;Range&lt;/code&gt; object on each of the ranges of the
+  selection, in the order they appear in the list (first to last).&lt;/p&gt;
 
-  &lt;p&gt;In language bindings where this is supported, objects
-  implementing the &lt;code&gt;Selection&lt;/code&gt; interface must stringify to
-  the value returned by the object's &lt;code
-  title=&quot;dom-selection-toString&quot;&gt;toString()&lt;/code&gt; method.&lt;/p&gt;
-
   &lt;div class=&quot;example&quot;&gt;
    &lt;p&gt;In the following document fragment, the emphasised parts
    indicate the selection.&lt;/p&gt;
@@ -43498,7 +43380,7 @@
   specification in due course.&lt;/p&gt;
 
 &lt;pre class=&quot;idl&quot;&gt;
-interface &lt;dfn&gt;WindowTimers&lt;/dfn&gt; {
+[NoInterfaceObject] interface &lt;dfn&gt;WindowTimers&lt;/dfn&gt; {
   // timers
   long &lt;span&gt;setTimeout&lt;/span&gt;(in &lt;span&gt;TimeoutHandler&lt;/span&gt; handler, in long timeout);
   long &lt;span&gt;setTimeout&lt;/span&gt;(in &lt;span&gt;TimeoutHandler&lt;/span&gt; handler, in long timeout, &lt;var title=&quot;&quot;&gt;arguments...&lt;/var&gt;);
@@ -43513,7 +43395,7 @@
 };
 
 interface &lt;dfn&gt;TimeoutHandler&lt;/dfn&gt; {
-  void handleEvent(&lt;var title=&quot;&quot;&gt;arguments...&lt;/var&gt;);
+  void handleEvent([Variadic] in any args);
 };
 &lt;/pre&gt;
 
@@ -43521,6 +43403,9 @@
   any &lt;code&gt;Window&lt;/code&gt; object using binding-specific casting
   methods.&lt;/p&gt;
 
+  &lt;p class=&quot;big-issue&quot;&gt;Actually even better would be to just mix it
+  straight into Window somehow.&lt;/p&gt;
+
   &lt;p&gt;The &lt;code&gt;setTimeout&lt;/code&gt; and &lt;code&gt;setInterval&lt;/code&gt; methods
   allow authors to schedule timer-based events.&lt;/p&gt;
 
@@ -43536,18 +43421,6 @@
   the &lt;var title=&quot;&quot;&gt;handler&lt;/var&gt; as arguments to the
   &lt;code&gt;handleEvent()&lt;/code&gt; function.&lt;/p&gt;
 
-  &lt;p&gt;In the ECMAScript DOM binding, the ECMAScript native
-  &lt;code&gt;Function&lt;/code&gt; type must implement the
-  &lt;code&gt;TimeoutHandler&lt;/code&gt; interface such that invoking the
-  &lt;code&gt;handleEvent()&lt;/code&gt; method of that interface on the object
-  from another language binding invokes the function itself, with the
-  arguments passed to &lt;code&gt;handleEvent()&lt;/code&gt; as the arguments
-  passed to the function. In the ECMAScript DOM binding itself,
-  however, the &lt;code&gt;handleEvent()&lt;/code&gt; method of the interface is
-  not directly accessible on &lt;code&gt;Function&lt;/code&gt; objects. Such
-  functions must be called in the scope of the &lt;span&gt;browsing
-  context&lt;/span&gt; in which they were created.&lt;/p&gt;
-
   &lt;p&gt;Alternatively, &lt;dfn title=&quot;&quot;&gt;&lt;code&gt;setTimeout(&lt;var
   title=&quot;&quot;&gt;code&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;timeout&lt;/var&gt;[, &lt;var
   title=&quot;&quot;&gt;language&lt;/var&gt;])&lt;/code&gt;&lt;/dfn&gt; may be used. This variant
@@ -43582,22 +43455,9 @@
   reentrant.)&lt;/p&gt;
 
 
-  &lt;h3&gt;Events&lt;/h3&gt;
 
-  &lt;p id=&quot;js-function-listener&quot;&gt;In the ECMAScript DOM binding, the
-  ECMAScript native &lt;code&gt;Function&lt;/code&gt; type must implement the
-  &lt;code&gt;EventListener&lt;/code&gt; interface such that invoking the
-  &lt;code&gt;handleEvent()&lt;/code&gt; method of that interface on the object
-  from another language binding invokes the function itself, with the
-  &lt;code&gt;event&lt;/code&gt; argument as its only argument. In the ECMAScript
-  binding itself, however, the &lt;code&gt;handleEvent()&lt;/code&gt; method of
-  the interface is not directly accessible on &lt;code&gt;Function&lt;/code&gt;
-  objects. Such functions, when invoked, must be called in the scope
-  of the &lt;span&gt;browsing context&lt;/span&gt; that they were created in.&lt;/p&gt;
 
 
-
-
   &lt;h2 class=&quot;no-num&quot; id=&quot;references&quot;&gt;References&lt;/h2&gt;
 
   &lt;p class=&quot;big-issue&quot;&gt;This section will be written in a future
@@ -44468,15 +44328,7 @@
 
 
 
-  &lt;p&gt;In the ECMAScript DOM binding, objects implementing this interface
-  can also be dereferenced using square bracket notation (e.g.
-  &lt;code&gt;foo[1]&lt;/code&gt; or &lt;code&gt;foo[&quot;bar&quot;]&lt;/code&gt;). Dereferencing with
-  an integer index is equivalent to invoking the &lt;code&gt;item()&lt;/code&gt;
-  method with that index, and dereferencing with a string index is
-  equivalent to invoking the &lt;code&gt;namedItem()&lt;/code&gt; method with that
-  index.&lt;/p&gt;
 
-
 &quot;you have mail&quot;: bubble notification; flash taskbar button, 
 =&gt; how do you stop advertisers?
 


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008329.html">[html5] r1428 - /
</A></li>
	<LI>Next message: <A HREF="008331.html">[html5] r1431 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8330">[ date ]</a>
              <a href="thread.html#8330">[ thread ]</a>
              <a href="subject.html#8330">[ subject ]</a>
              <a href="author.html#8330">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
