<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1180 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1180%20-%20/&In-Reply-To=%3C20080131222617.1881238EF8F%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008087.html">
   <LINK REL="Next"  HREF="008089.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1180 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1180%20-%20/&In-Reply-To=%3C20080131222617.1881238EF8F%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1180 - /">whatwg at whatwg.org
       </A><BR>
    <I>Thu Jan 31 14:26:17 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008087.html">[html5] r1179 - /
</A></li>
        <LI>Next message: <A HREF="008089.html">[html5] r1181 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8088">[ date ]</a>
              <a href="thread.html#8088">[ thread ]</a>
              <a href="subject.html#8088">[ subject ]</a>
              <a href="author.html#8088">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-01-31 14:26:14 -0800 (Thu, 31 Jan 2008)
New Revision: 1180

Modified:
   index
   source
Log:
[v] (1) &lt;meta http-equiv=content-type&gt; is now defined as conforming and equivalent to &lt;meta charset&gt;

Modified: index
===================================================================
--- index	2008-01-31 21:55:58 UTC (rev 1179)
+++ index	2008-01-31 22:26:14 UTC (rev 1180)
@@ -7327,15 +7327,21 @@
    &lt;dt&gt;Contexts in which this element may be used:
 
    &lt;dd&gt;If the &lt;code title=attr-meta-charset&gt;&lt;a
-    href=&quot;#charset0&quot;&gt;charset&lt;/a&gt;&lt;/code&gt; attribute is present: as the first
-    element in a &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element.
+    href=&quot;#charset0&quot;&gt;charset&lt;/a&gt;&lt;/code&gt; attribute is present, or if the
+    element is in the &lt;a href=&quot;#content-type4&quot;
+    title=attr-meta-http-equiv-content-type&gt;Content-Type state&lt;/a&gt;: as the
+    first element in a &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element.
 
    &lt;dd&gt;If the &lt;code title=attr-meta-http-equiv&gt;&lt;a
-    href=&quot;#http-equiv0&quot;&gt;http-equiv&lt;/a&gt;&lt;/code&gt; attribute is present: in a
+    href=&quot;#http-equiv0&quot;&gt;http-equiv&lt;/a&gt;&lt;/code&gt; attribute is present, and the
+    element is not in the &lt;a href=&quot;#content-type4&quot;
+    title=attr-meta-http-equiv-content-type&gt;Content-Type state&lt;/a&gt;: in a
     &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element.
 
    &lt;dd&gt;If the &lt;code title=attr-meta-http-equiv&gt;&lt;a
-    href=&quot;#http-equiv0&quot;&gt;http-equiv&lt;/a&gt;&lt;/code&gt; attribute is present: in a
+    href=&quot;#http-equiv0&quot;&gt;http-equiv&lt;/a&gt;&lt;/code&gt; attribute is present, and the
+    element is not in the &lt;a href=&quot;#content-type4&quot;
+    title=attr-meta-http-equiv-content-type&gt;Content-Type state&lt;/a&gt;: in a
     &lt;code&gt;&lt;a href=&quot;#noscript&quot;&gt;noscript&lt;/a&gt;&lt;/code&gt; element that is a child of
     a &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element.
 
@@ -7399,9 +7405,9 @@
    must also be specified. Otherwise, it must be omitted.
 
   &lt;p&gt;The &lt;code title=attr-meta-charset&gt;&lt;a href=&quot;#charset0&quot;&gt;charset&lt;/a&gt;&lt;/code&gt;
-   attribute may only be specified in &lt;a href=&quot;#html5&quot; title=HTML5&gt;HTML
-   documents&lt;/a&gt;, it must not be used in &lt;a href=&quot;#xhtml5&quot; title=XHTML&gt;XML
-   documents&lt;/a&gt;. If the &lt;code title=attr-meta-charset&gt;&lt;a
+   attribute may be specified in &lt;a href=&quot;#html5&quot; title=HTML5&gt;HTML
+   documents&lt;/a&gt; only, it must not be used in &lt;a href=&quot;#xhtml5&quot;
+   title=XHTML&gt;XML documents&lt;/a&gt;. If the &lt;code title=attr-meta-charset&gt;&lt;a
    href=&quot;#charset0&quot;&gt;charset&lt;/a&gt;&lt;/code&gt; attribute is specified, the element
    must be the first element in &lt;a href=&quot;#the-head0&quot;&gt;the &lt;code&gt;head&lt;/code&gt;
    element&lt;/a&gt; of the file.
@@ -7587,10 +7593,14 @@
      &lt;td&gt;&lt;span title=&quot;attr-meta-http-equiv-content-language&quot;&gt;Content-Language&lt;/span&gt;
      &lt;td&gt;&lt;code title=&quot;&quot;&gt;Content-Language&lt;/code&gt;
      &lt;td&gt;Non-conforming
+--&gt;
+
     &lt;tr&gt;
-     &lt;td&gt;&lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type&lt;/span&gt;
-     &lt;td&gt;&lt;code title=&quot;&quot;&gt;Content-Type&lt;/code&gt;
-     &lt;td&gt;Non-conforming [ XXX though maybe we should allow it for migration? ]
+     &lt;td&gt;&lt;a href=&quot;#content-type4&quot;
+      title=attr-meta-http-equiv-content-type&gt;Content-Type&lt;/a&gt;
+
+     &lt;td&gt;&lt;code title=&quot;&quot;&gt;Content-Type&lt;/code&gt; &lt;!--     &lt;td&gt;Non-conforming --&gt;
+      &lt;!--
     &lt;tr&gt;
      &lt;td&gt;&lt;span title=&quot;attr-meta-http-equiv-content-script-type&quot;&gt;Content-Script-Type&lt;/span&gt;
      &lt;td&gt;&lt;code title=&quot;&quot;&gt;Content-Script-Type&lt;/code&gt;
@@ -7600,6 +7610,7 @@
      &lt;td&gt;&lt;code title=&quot;&quot;&gt;Content-Style-Type&lt;/code&gt;
      &lt;td&gt;Non-conforming
 --&gt;
+      
 
     &lt;tr&gt;
      &lt;td&gt;&lt;a href=&quot;#refresh&quot; title=attr-meta-http-equiv-refresh&gt;Refresh&lt;/a&gt;
@@ -7769,8 +7780,49 @@
     &lt;/ol&gt;
 
    &lt;dd&gt;
+
+   &lt;dt&gt;&lt;dfn id=content-type4
+    title=attr-meta-http-equiv-content-type&gt;Content-Type&lt;/dfn&gt;
+
+   &lt;dd&gt;
+    &lt;p&gt;The &lt;a href=&quot;#content-type4&quot;
+     title=attr-meta-http-equiv-content-type&gt;Content-Type state's&lt;/a&gt;
+     requirements are all handled by the parsing section of the
+     specification. The state is just an alternative form of setting the
+     &lt;code title=meta-charset&gt;charset&lt;/code&gt; attribute: it is &lt;a
+     href=&quot;#charset&quot;&gt;a character encoding declaration&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;For &lt;code&gt;&lt;a href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt; elements in the &lt;a
+     href=&quot;#content-type4&quot;
+     title=attr-meta-http-equiv-content-type&gt;Content-Type state&lt;/a&gt;, the
+     &lt;code title=attr-meta-content&gt;&lt;a href=&quot;#content0&quot;&gt;content&lt;/a&gt;&lt;/code&gt;
+     attribute must have a value consisting either of the literal string
+     &quot;&lt;code title=&quot;&quot;&gt;text/html;&lt;/code&gt;&quot;, followed by a single U+0020 SPACE
+     character, followed by the literal string &quot;&lt;code
+     title=&quot;&quot;&gt;charset=&lt;/code&gt;&quot;, followed by the character encoding name of &lt;a
+     href=&quot;#charset&quot;&gt;the character encoding declaration&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;If the document contains a &lt;code&gt;&lt;a href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt;
+     element in the &lt;a href=&quot;#content-type4&quot;
+     title=attr-meta-http-equiv-content-type&gt;Content-Type state&lt;/a&gt; then that
+     element must be the first element in the document's &lt;code&gt;&lt;a
+     href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element, and the document must not contain
+     a &lt;code&gt;&lt;a href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt; element with the &lt;code
+     title=attr-meta-charset&gt;&lt;a href=&quot;#charset0&quot;&gt;charset&lt;/a&gt;&lt;/code&gt; attribute
+     present.&lt;/p&gt;
+
+    &lt;p&gt;The &lt;a href=&quot;#content-type4&quot;
+     title=attr-meta-http-equiv-content-type&gt;Content-Type state&lt;/a&gt; may be
+     used in &lt;a href=&quot;#html5&quot; title=HTML5&gt;HTML documents&lt;/a&gt; only, elements
+     in that state must not be used in &lt;a href=&quot;#xhtml5&quot; title=XHTML&gt;XML
+     documents&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;dd&gt;
   &lt;/dl&gt;
 
+  &lt;p&gt;There must not be more than one &lt;code&gt;&lt;a href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt;
+   element with any particular state in the document at a time.
+
   &lt;h5 id=charset&gt;&lt;span class=secno&gt;3.7.5.4. &lt;/span&gt;Specifying the document's
    character encoding&lt;/h5&gt;
 
@@ -7797,7 +7849,7 @@
   &lt;!-- XXX next three paragraphs maybe should move to &quot;writing html&quot; section --&gt;
 
   &lt;p&gt;If the document does not start with a BOM, and if its encoding is not
-   explicitly given by &lt;a href=&quot;#content-type8&quot;
+   explicitly given by &lt;a href=&quot;#content-type9&quot;
    title=Content-Type&gt;Content-Type metadata&lt;/a&gt;, then the character encoding
    used must be a superset of US-ASCII (specifically, ANSI_X3.4-1968) for
    bytes in the range 0x09 - 0x0D, 0x20, 0x21, 0x22, 0x26, 0x27, 0x2C - 0x3F,
@@ -8024,7 +8076,7 @@
      the &lt;code title=attr-style-type&gt;&lt;a href=&quot;#type1&quot;&gt;type&lt;/a&gt;&lt;/code&gt; content
      attribute's value, or &lt;code title=&quot;&quot;&gt;text/css&lt;/code&gt; if that is omitted.
      For &lt;code&gt;&lt;a href=&quot;#link&quot;&gt;link&lt;/a&gt;&lt;/code&gt; elements, this is the &lt;a
-     href=&quot;#content-type8&quot; title=Content-Type&gt;Content-Type metadata of the
+     href=&quot;#content-type9&quot; title=Content-Type&gt;Content-Type metadata of the
      specified resource&lt;/a&gt;.
 
    &lt;dt&gt;The location (&lt;code title=dom-stylesheet-href&gt;href&lt;/code&gt; DOM
@@ -12593,7 +12645,7 @@
    the &lt;code&gt;&lt;a href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element.
 
   &lt;p&gt;The remote server's response metadata (e.g. an HTTP 404 status code, or
-   &lt;a href=&quot;#content-type8&quot; title=Content-Type&gt;associated Content-Type
+   &lt;a href=&quot;#content-type9&quot; title=Content-Type&gt;associated Content-Type
    headers&lt;/a&gt;) must be ignored when determining whether the resource
    obtained is a valid image or not.
 
@@ -12859,7 +12911,7 @@
     title=attr-embed-type&gt;&lt;a href=&quot;#type4&quot;&gt;type&lt;/a&gt;&lt;/code&gt; attribute is the
     &lt;span&gt;content's type&lt;/span&gt;.
 
-   &lt;li&gt;Otherwise, if the specified resource has &lt;a href=&quot;#content-type8&quot;
+   &lt;li&gt;Otherwise, if the specified resource has &lt;a href=&quot;#content-type9&quot;
     title=Content-Type&gt;explicit Content-Type metadata&lt;/a&gt;, then that is the
     &lt;span&gt;content's type&lt;/span&gt;.
 
@@ -13005,10 +13057,10 @@
        the same mechanism as for browsing contexts?&lt;/p&gt;
 
       &lt;dl class=switch&gt;
-       &lt;dt&gt;If the resource has &lt;a href=&quot;#content-type8&quot;
+       &lt;dt&gt;If the resource has &lt;a href=&quot;#content-type9&quot;
         title=Content-Type&gt;associated Content-Type metadata&lt;/a&gt;
 
-       &lt;dd&gt;The type is the type specified in &lt;a href=&quot;#content-type8&quot;
+       &lt;dd&gt;The type is the type specified in &lt;a href=&quot;#content-type9&quot;
         title=Content-Type&gt;the resource's Content-Type metadata&lt;/a&gt;.
 
        &lt;dt&gt;Otherwise, if the &lt;code title=attr-object-type&gt;&lt;a
@@ -25626,13 +25678,13 @@
    HTTP 204 No Content response.
 
   &lt;p&gt;Otherwise, the URI must be treated in a manner equivalent to an HTTP
-   resource with a 200 OK response whose &lt;a href=&quot;#content-type8&quot;
+   resource with a 200 OK response whose &lt;a href=&quot;#content-type9&quot;
    title=Content-Type&gt;Content-Type metadata&lt;/a&gt; is &lt;code
    title=&quot;&quot;&gt;text/html&lt;/code&gt; and whose response body is the dereference
    by-product, converted to a string value.
 
   &lt;p class=note&gt;Certain contexts, in particular &lt;code&gt;&lt;a
-   href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; elements, ignore the &lt;a href=&quot;#content-type8&quot;
+   href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; elements, ignore the &lt;a href=&quot;#content-type9&quot;
    title=Content-Type&gt;Content-Type metadata&lt;/a&gt;.
 
   &lt;div class=example&gt;
@@ -28649,7 +28701,7 @@
 
    &lt;li&gt;
     &lt;p&gt;If the document's out-of-band metadata (e.g. HTTP headers), not
-     counting any &lt;a href=&quot;#content-type8&quot; title=Content-Type&gt;type
+     counting any &lt;a href=&quot;#content-type9&quot; title=Content-Type&gt;type
      information&lt;/a&gt; (such as the Content-Type HTTP header), requires some
      sort of processing that will not affect the browsing context, then
      perform that processing and abort these steps.&lt;/p&gt;
@@ -28811,7 +28863,7 @@
    characters for use in the &lt;span&gt;tokeniser&lt;/span&gt;&lt;!-- XXX xref
   --&gt;. This
    process relies, in part, on character encoding information found in the
-   real &lt;a href=&quot;#content-type8&quot; title=Content-Type&gt;Content-Type metadata&lt;/a&gt;
+   real &lt;a href=&quot;#content-type9&quot; title=Content-Type&gt;Content-Type metadata&lt;/a&gt;
    of the resource; the &quot;sniffed type&quot; is not used for this purpose.&lt;/p&gt;
   &lt;!-- next two paragraphs are nearly identical to the navigate-text
   section, keep them in sync --&gt;
@@ -29137,20 +29189,20 @@
     &lt;/table&gt;
 
     &lt;p&gt;...then jump to the &lt;em title=&quot;content-type sniffing: text or
-     binary&quot;&gt;&lt;a href=&quot;#content-type4&quot;&gt;text or binary&lt;/a&gt;&lt;/em&gt; section below.&lt;/p&gt;
+     binary&quot;&gt;&lt;a href=&quot;#content-type5&quot;&gt;text or binary&lt;/a&gt;&lt;/em&gt; section below.&lt;/p&gt;
 
    &lt;li&gt;
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;official type&lt;/var&gt; be the type given by the &lt;a
-     href=&quot;#content-type8&quot; title=Content-Type&gt;Content-Type metadata&lt;/a&gt; for
+     href=&quot;#content-type9&quot; title=Content-Type&gt;Content-Type metadata&lt;/a&gt; for
      the resource (in lowercase&lt;!-- XXX ASCII case folding --&gt;, ignoring any
      parameters). If there is no such type, jump to the &lt;em
      title=&quot;content-type sniffing: unknown type&quot;&gt;&lt;a
-     href=&quot;#content-type5&quot;&gt;unknown type&lt;/a&gt;&lt;/em&gt; step below.
+     href=&quot;#content-type6&quot;&gt;unknown type&lt;/a&gt;&lt;/em&gt; step below.
 
    &lt;li&gt;
     &lt;p&gt;If &lt;var title=&quot;&quot;&gt;official type&lt;/var&gt; is &quot;unknown/unknown&quot; or
      &quot;application/unknown&quot;, jump to the &lt;em title=&quot;content-type sniffing:
-     unknown type&quot;&gt;&lt;a href=&quot;#content-type5&quot;&gt;unknown type&lt;/a&gt;&lt;/em&gt; step below.&lt;/p&gt;
+     unknown type&quot;&gt;&lt;a href=&quot;#content-type6&quot;&gt;unknown type&lt;/a&gt;&lt;/em&gt; step below.&lt;/p&gt;
     &lt;!-- In a study looking at many billions of pages whose first five
    characters were &quot;&lt;HTML&quot;, &quot;unknown/unknown&quot; was used to label
    documents about once for every 5000 pages labelled &quot;text/html&quot;, and
@@ -29171,12 +29223,12 @@
     &lt;p&gt;If &lt;var title=&quot;&quot;&gt;official type&lt;/var&gt; is an image type supported by the
      user agent (e.g. &quot;image/png&quot;, &quot;image/gif&quot;, &quot;image/jpeg&quot;, etc), then jump
      to the &lt;em title=&quot;content-type sniffing: image&quot;&gt;&lt;a
-     href=&quot;#content-type6&quot;&gt;images&lt;/a&gt;&lt;/em&gt; section below.
+     href=&quot;#content-type7&quot;&gt;images&lt;/a&gt;&lt;/em&gt; section below.
 
    &lt;li&gt;
     &lt;p&gt;If &lt;var title=&quot;&quot;&gt;official type&lt;/var&gt; is &quot;text/html&quot;, then jump to the
      &lt;em title=&quot;content-type sniffing: feed or html&quot;&gt;&lt;a
-     href=&quot;#content-type7&quot;&gt;feed or HTML&lt;/a&gt;&lt;/em&gt; section below.
+     href=&quot;#content-type8&quot;&gt;feed or HTML&lt;/a&gt;&lt;/em&gt; section below.
 
    &lt;li&gt;
     &lt;p&gt;Otherwise, the sniffed type of the resource is &lt;var title=&quot;&quot;&gt;official
@@ -29184,7 +29236,7 @@
   &lt;/ol&gt;
 
   &lt;h4 id=content-type0&gt;&lt;span class=secno&gt;4.9.1. &lt;/span&gt;&lt;dfn
-   id=content-type4&gt;Content-Type sniffing: text or binary&lt;/dfn&gt;&lt;/h4&gt;
+   id=content-type5&gt;Content-Type sniffing: text or binary&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;ol&gt;
    &lt;li&gt;
@@ -29274,7 +29326,7 @@
   &lt;/ul&gt;
 
   &lt;h4 id=content-type1&gt;&lt;span class=secno&gt;4.9.2. &lt;/span&gt;&lt;dfn
-   id=content-type5&gt;Content-Type sniffing: unknown type&lt;/dfn&gt;&lt;/h4&gt;
+   id=content-type6&gt;Content-Type sniffing: unknown type&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;ol&gt;
    &lt;li&gt;
@@ -29379,7 +29431,7 @@
     &lt;/dl&gt;
 
    &lt;li&gt;
-    &lt;p&gt;As a last-ditch effort, jump to the &lt;a href=&quot;#content-type4&quot;
+    &lt;p&gt;As a last-ditch effort, jump to the &lt;a href=&quot;#content-type5&quot;
      title=&quot;content-type sniffing: text or binary&quot;&gt;text or binary&lt;/a&gt;
      section.
   &lt;/ol&gt;
@@ -29526,7 +29578,7 @@
    then a user agent detects it as HTML anyway and allows script to execute).
 
   &lt;h4 id=content-type2&gt;&lt;span class=secno&gt;4.9.3. &lt;/span&gt;&lt;dfn
-   id=content-type6&gt;Content-Type sniffing: image&lt;/dfn&gt;&lt;/h4&gt;
+   id=content-type7&gt;Content-Type sniffing: image&lt;/dfn&gt;&lt;/h4&gt;
 
   &lt;p&gt;If the first bytes of the file match one of the byte sequences in the
    first columns of the following table, then the sniffed type of the
@@ -29588,7 +29640,7 @@
    &lt;var title=&quot;&quot;&gt;official type&lt;/var&gt;.
 
   &lt;h4 id=content-type3&gt;&lt;span class=secno&gt;4.9.4. &lt;/span&gt;&lt;dfn
-   id=content-type7&gt;Content-Type sniffing: feed or HTML&lt;/dfn&gt;&lt;/h4&gt;
+   id=content-type8&gt;Content-Type sniffing: feed or HTML&lt;/dfn&gt;&lt;/h4&gt;
   &lt;!-- mostly based on:
    <A HREF="http://blogs.msdn.com/rssteam/articles/PublishersGuide.aspx">http://blogs.msdn.com/rssteam/articles/PublishersGuide.aspx</A>
    <A HREF="http://lxr.mozilla.org/seamonkey/source/browser/components/feeds/src/nsFeedSniffer.cpp#192">http://lxr.mozilla.org/seamonkey/source/browser/components/feeds/src/nsFeedSniffer.cpp#192</A>
@@ -29759,7 +29811,7 @@
 
   &lt;h4 id=content-type&gt;&lt;span class=secno&gt;4.9.5. &lt;/span&gt;Content-Type metadata&lt;/h4&gt;
 
-  &lt;p&gt;What explicit &lt;dfn id=content-type8 title=Content-Type&gt;Content-Type
+  &lt;p&gt;What explicit &lt;dfn id=content-type9 title=Content-Type&gt;Content-Type
    metadata&lt;/dfn&gt; is associated with the resource (the resource's type
    information) depends on the protocol that was used to fetch the resource.
 
@@ -34808,7 +34860,7 @@
    domain&lt;/a&gt;, the semantics of the Access-Control HTTP header must be
    followed. &lt;a href=&quot;#refsACCESSCONTROL&quot;&gt;[ACCESSCONTROL]&lt;/a&gt;
 
-  &lt;p&gt;HTTP 200 OK responses with a &lt;a href=&quot;#content-type8&quot;&gt;Content-Type&lt;/a&gt;
+  &lt;p&gt;HTTP 200 OK responses with a &lt;a href=&quot;#content-type9&quot;&gt;Content-Type&lt;/a&gt;
    header specifying the type &lt;code&gt;application/x-dom-event-stream&lt;/code&gt;
    that are either from &lt;a href=&quot;#domain0&quot;&gt;the document's domain&lt;/a&gt; or
    explicitly allowed by the Access-Control HTTP headers must be processed
@@ -34825,7 +34877,7 @@
    five seconds.
 
   &lt;p&gt;HTTP 200 OK responses that have a &lt;a
-   href=&quot;#content-type8&quot;&gt;Content-Type&lt;/a&gt; other than
+   href=&quot;#content-type9&quot;&gt;Content-Type&lt;/a&gt; other than
    &lt;code&gt;application/x-dom-event-stream&lt;/code&gt; (or some other supported
    type), and HTTP responses whose Access-Control headers indicate that the
    resource are not to be used, must be ignored and must prevent the user
@@ -36269,9 +36321,9 @@
   &lt;p&gt;The various types of content mentioned above are described in the next
    few sections.
 
-  &lt;p&gt;In addition, there are some restrictions on how &lt;a href=&quot;#charset0&quot;
-   title=attr-meta-charset&gt;character encoding declarations&lt;/a&gt; are to be
-   serialised, as discussed in the section on that topic.
+  &lt;p&gt;In addition, there are some restrictions on how &lt;a
+   href=&quot;#charset&quot;&gt;character encoding declarations&lt;/a&gt; are to be serialised,
+   as discussed in the section on that topic.
 
   &lt;p&gt;The U+0000 NULL character must not appear anywhere in a document.
 
@@ -37096,7 +37148,7 @@
    &lt;dfn id=encoding&gt;encoding sniffing algorithm&lt;/dfn&gt;) to determine the
    character encoding to use when decoding a document in the first pass. This
    algorithm takes as input any out-of-band metadata available to the user
-   agent (e.g. the &lt;a href=&quot;#content-type8&quot; title=Content-Type&gt;Content-Type
+   agent (e.g. the &lt;a href=&quot;#content-type9&quot; title=Content-Type&gt;Content-Type
    metadata&lt;/a&gt; of the document) and all the bytes available so far, and
    returns an encoding and a &lt;dfn id=confidence
    title=concept-encoding-confidence&gt;confidence&lt;/dfn&gt;. The confidence is

Modified: source
===================================================================
--- source	2008-01-31 21:55:58 UTC (rev 1179)
+++ source	2008-01-31 22:26:14 UTC (rev 1180)
@@ -5827,9 +5827,9 @@
    &lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Metadata content&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
-   &lt;dd&gt;If the &lt;code title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute is present: as the first element in a &lt;code&gt;head&lt;/code&gt; element.&lt;/dd&gt;
-   &lt;dd&gt;If the &lt;code title=&quot;attr-meta-http-equiv&quot;&gt;http-equiv&lt;/code&gt; attribute is present: in a &lt;code&gt;head&lt;/code&gt; element.&lt;/dd&gt;
-   &lt;dd&gt;If the &lt;code title=&quot;attr-meta-http-equiv&quot;&gt;http-equiv&lt;/code&gt; attribute is present: in a &lt;code&gt;noscript&lt;/code&gt; element that is a child of a &lt;code&gt;head&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;If the &lt;code title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute is present, or if the element is in the &lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type state&lt;/span&gt;: as the first element in a &lt;code&gt;head&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;If the &lt;code title=&quot;attr-meta-http-equiv&quot;&gt;http-equiv&lt;/code&gt; attribute is present, and the element is not in the &lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type state&lt;/span&gt;: in a &lt;code&gt;head&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;If the &lt;code title=&quot;attr-meta-http-equiv&quot;&gt;http-equiv&lt;/code&gt; attribute is present, and the element is not in the &lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type state&lt;/span&gt;: in a &lt;code&gt;noscript&lt;/code&gt; element that is a child of a &lt;code&gt;head&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dd&gt;If the &lt;code title=&quot;attr-meta-name&quot;&gt;name&lt;/code&gt; attribute is present: where &lt;span&gt;metadata content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
    &lt;dd&gt;Empty.&lt;/dd&gt;
@@ -5873,7 +5873,7 @@
   also be specified. Otherwise, it must be omitted.&lt;/p&gt;
 
   &lt;p&gt;The &lt;code title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute may
-  only be specified in &lt;span title=&quot;HTML5&quot;&gt;HTML documents&lt;/span&gt;, it
+  be specified in &lt;span title=&quot;HTML5&quot;&gt;HTML documents&lt;/span&gt; only, it
   must not be used in &lt;span title=&quot;XHTML&quot;&gt;XML documents&lt;/span&gt;. If the
   &lt;code title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute is
   specified, the element must be the first element in &lt;span&gt;the
@@ -6072,10 +6072,12 @@
      &lt;td&gt;&lt;span title=&quot;attr-meta-http-equiv-content-language&quot;&gt;Content-Language&lt;/span&gt;
      &lt;td&gt;&lt;code title=&quot;&quot;&gt;Content-Language&lt;/code&gt;
      &lt;td&gt;Non-conforming
+--&gt;
     &lt;tr&gt;
      &lt;td&gt;&lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type&lt;/span&gt;
      &lt;td&gt;&lt;code title=&quot;&quot;&gt;Content-Type&lt;/code&gt;
-     &lt;td&gt;Non-conforming [ XXX though maybe we should allow it for migration? ]
+&lt;!--     &lt;td&gt;Non-conforming --&gt;
+&lt;!--
     &lt;tr&gt;
      &lt;td&gt;&lt;span title=&quot;attr-meta-http-equiv-content-script-type&quot;&gt;Content-Script-Type&lt;/span&gt;
      &lt;td&gt;&lt;code title=&quot;&quot;&gt;Content-Script-Type&lt;/code&gt;
@@ -6243,9 +6245,47 @@
 
    &lt;dd&gt;
 
+   &lt;dt&gt;&lt;dfn title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type&lt;/dfn&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;The &lt;span
+    title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type
+    state's&lt;/span&gt; requirements are all handled by the parsing section
+    of the specification. The state is just an alternative form of
+    setting the &lt;code title=&quot;meta-charset&quot;&gt;charset&lt;/code&gt; attribute:
+    it is &lt;a href=&quot;#charset&quot;&gt;a character encoding declaration&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;For &lt;code&gt;meta&lt;/code&gt; elements in the &lt;span
+    title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type
+    state&lt;/span&gt;, the &lt;code title=&quot;attr-meta-content&quot;&gt;content&lt;/code&gt;
+    attribute must have a value consisting either of the literal
+    string &quot;&lt;code title=&quot;&quot;&gt;text/html;&lt;/code&gt;&quot;, followed by a single
+    U+0020 SPACE character, followed by the literal string &quot;&lt;code
+    title=&quot;&quot;&gt;charset=&lt;/code&gt;&quot;, followed by the character encoding name
+    of &lt;a href=&quot;#charset&quot;&gt;the character encoding declaration&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;If the document contains a &lt;code&gt;meta&lt;/code&gt; element in the
+    &lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type
+    state&lt;/span&gt; then that element must be the first element in the
+    document's &lt;code&gt;head&lt;/code&gt; element, and the document must not
+    contain a &lt;code&gt;meta&lt;/code&gt; element with the &lt;code
+    title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute present.&lt;/p&gt;
+
+    &lt;p&gt;The &lt;span
+    title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type
+    state&lt;/span&gt; may be used in &lt;span title=&quot;HTML5&quot;&gt;HTML
+    documents&lt;/span&gt; only, elements in that state must not be used in
+    &lt;span title=&quot;XHTML&quot;&gt;XML documents&lt;/span&gt;.&lt;/p&gt;
+
+   &lt;dd&gt;
+
   &lt;/dl&gt;
 
+  &lt;p&gt;There must not be more than one &lt;code&gt;meta&lt;/code&gt; element with
+  any particular state in the document at a time.&lt;/p&gt;
 
+
   &lt;h5 id=&quot;charset&quot;&gt;Specifying the document's character encoding&lt;/h5&gt;
 
   &lt;p&gt;The &lt;code&gt;meta&lt;/code&gt; element may also be used to provide UAs
@@ -33607,9 +33647,9 @@
   &lt;p&gt;The various types of content mentioned above are described in the
   next few sections.&lt;/p&gt;
 
-  &lt;p&gt;In addition, there are some restrictions on how &lt;span
-  title=&quot;attr-meta-charset&quot;&gt;character encoding declarations&lt;/span&gt; are
-  to be serialised, as discussed in the section on that topic.&lt;/p&gt;
+  &lt;p&gt;In addition, there are some restrictions on how &lt;a
+  href=&quot;#charset&quot;&gt;character encoding declarations&lt;/a&gt; are to be
+  serialised, as discussed in the section on that topic.&lt;/p&gt;
 
   &lt;p&gt;The U+0000 NULL character must not appear anywhere in a
   document.&lt;/p&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008087.html">[html5] r1179 - /
</A></li>
	<LI>Next message: <A HREF="008089.html">[html5] r1181 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8088">[ date ]</a>
              <a href="thread.html#8088">[ thread ]</a>
              <a href="subject.html#8088">[ subject ]</a>
              <a href="author.html#8088">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
