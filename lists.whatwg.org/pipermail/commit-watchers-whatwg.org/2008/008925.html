<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2039 - [e] (0) Prepare the ground for insertAdjacentHTML().
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2039%20-%20%5Be%5D%20%280%29%20Prepare%20the%20ground%20for%20insertAdjacentHTML%28%29.&In-Reply-To=%3C20080811002515.0EF8038DFD7%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008924.html">
   <LINK REL="Next"  HREF="008926.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2039 - [e] (0) Prepare the ground for insertAdjacentHTML().</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2039%20-%20%5Be%5D%20%280%29%20Prepare%20the%20ground%20for%20insertAdjacentHTML%28%29.&In-Reply-To=%3C20080811002515.0EF8038DFD7%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2039 - [e] (0) Prepare the ground for insertAdjacentHTML().">whatwg at whatwg.org
       </A><BR>
    <I>Sun Aug 10 17:25:15 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008924.html">[html5] r2038 - [e] (0) xref error
</A></li>
        <LI>Next message: <A HREF="008926.html">[html5] r2040 - [] (0) Define insertAdjacentHTML().
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8925">[ date ]</a>
              <a href="thread.html#8925">[ thread ]</a>
              <a href="subject.html#8925">[ subject ]</a>
              <a href="author.html#8925">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-08-10 17:25:14 -0700 (Sun, 10 Aug 2008)
New Revision: 2039

Modified:
   index
   source
Log:
[e] (0) Prepare the ground for insertAdjacentHTML().

Modified: index
===================================================================
--- index	2008-08-11 00:07:08 UTC (rev 2038)
+++ index	2008-08-11 00:25:14 UTC (rev 2039)
@@ -28,7 +28,7 @@
 
    &lt;h1 id=html-5&gt;HTML 5&lt;/h1&gt;
 
-   &lt;h2 class=&quot;no-num no-toc&quot; id=draft&gt;Draft Recommendation &mdash; 10 August
+   &lt;h2 class=&quot;no-num no-toc&quot; id=draft&gt;Draft Recommendation &mdash; 11 August
     2008&lt;/h2&gt;
 
    &lt;p&gt;You can take part in this work. &lt;a
@@ -7634,6 +7634,7 @@
   // &lt;a href=&quot;#dynamic3&quot;&gt;dynamic markup insertion&lt;/a&gt;
            attribute DOMString &lt;a href=&quot;#innerhtml&quot; title=dom-innerHTML&gt;innerHTML&lt;/a&gt;;
            attribute DOMString &lt;a href=&quot;#outerhtml&quot; title=dom-outerHTML&gt;outerHTML&lt;/a&gt;;
+  void &lt;a href=&quot;#insertadjacenthtml&quot; title=dom-insertAdjacentHTML&gt;insertAdjacentHTML&lt;/a&gt;(in DOMString position, in DOMString data);
 
   // &lt;span&gt;metadata attributes&lt;/span&gt;
            attribute DOMString &lt;a href=&quot;#id0&quot; title=dom-id&gt;id&lt;/a&gt;;
@@ -8700,19 +8701,13 @@
   &lt;h3 id=dynamic0&gt;&lt;span class=secno&gt;3.7 &lt;/span&gt;&lt;dfn id=dynamic3&gt;Dynamic
    markup insertion&lt;/dfn&gt;&lt;/h3&gt;
 
-  &lt;p&gt;The &lt;code title=dom-document-write&gt;&lt;a
-   href=&quot;#document.write&quot;&gt;document.write()&lt;/a&gt;&lt;/code&gt; family of methods and
-   the &lt;code title=dom-innerHTML&gt;&lt;a
-   href=&quot;#innerhtml&quot;&gt;innerHTML&lt;/a&gt;&lt;/code&gt;/&lt;code title=dom-outerHTML&gt;&lt;a
-   href=&quot;#outerhtml&quot;&gt;outerHTML&lt;/a&gt;&lt;/code&gt; family of DOM attributes enable
-   script authors to dynamically insert markup into the document.
+  &lt;p&gt;APIs for dynamically inserting markup into the document interact with
+   the parser, and thus their behavior varies depending on whether they are
+   used with &lt;a href=&quot;#html-&quot;&gt;HTML documents&lt;/a&gt; (and the &lt;a
+   href=&quot;#html-0&quot;&gt;HTML parser&lt;/a&gt;) or XHTML in &lt;a href=&quot;#xml-documents&quot;&gt;XML
+   documents&lt;/a&gt; (and the &lt;span&gt;XML parser&lt;/span&gt;). The following table
+   cross-references the various versions of these APIs.
 
-  &lt;p&gt;Because these APIs interact with the parser, their behavior varies
-   depending on whether they are used with &lt;a href=&quot;#html-&quot;&gt;HTML
-   documents&lt;/a&gt; (and the &lt;a href=&quot;#html-0&quot;&gt;HTML parser&lt;/a&gt;) or XHTML in &lt;a
-   href=&quot;#xml-documents&quot;&gt;XML documents&lt;/a&gt; (and the &lt;span&gt;XML parser&lt;/span&gt;).
-   The following table cross-references the various versions of these APIs.
-
   &lt;table&gt;
    &lt;thead&gt;
     &lt;tr&gt;
@@ -8755,6 +8750,17 @@
       title=dom-outerHTML-HTML&gt;&lt;code&gt;outerHTML&lt;/code&gt; in HTML&lt;/a&gt;
 
      &lt;td&gt;&lt;a href=&quot;#outerhtml1&quot; title=dom-outerHTML-XML&gt;not supported&lt;/a&gt;
+
+    &lt;tr&gt;
+     &lt;th&gt;&lt;dfn id=insertadjacenthtml
+      title=dom-insertAdjacentHTML&gt;&lt;code&gt;insertAdjacentHTML()&lt;/code&gt;&lt;/dfn&gt;
+
+     &lt;td&gt;&lt;a href=&quot;#insertadjacenthtml0&quot;
+      title=dom-insertAdjacentHTML-HTML&gt;&lt;code&gt;insertAdjacentHTML()&lt;/code&gt; in
+      HTML&lt;/a&gt;
+
+     &lt;td&gt;&lt;a href=&quot;#insertadjacenthtml1&quot; title=dom-insertAdjacentHTML-XML&gt;not
+      supported&lt;/a&gt;
   &lt;/table&gt;
 
   &lt;p&gt;Regardless of the parsing mode, the &lt;dfn id=document.writeln...
@@ -8767,8 +8773,10 @@
   &lt;p class=note&gt;The &lt;code title=dom-innerHTML&gt;&lt;a
    href=&quot;#innerhtml&quot;&gt;innerHTML&lt;/a&gt;&lt;/code&gt; attribute applies to both
    &lt;code&gt;Element&lt;/code&gt; nodes as well as &lt;code&gt;Document&lt;/code&gt; nodes. The
-   &lt;code title=dom-outerHTML&gt;&lt;a href=&quot;#outerhtml&quot;&gt;outerHTML&lt;/a&gt;&lt;/code&gt;
-   attribute, on the other hand, only applies to &lt;code&gt;Element&lt;/code&gt; nodes.
+   &lt;code title=dom-outerHTML&gt;&lt;a href=&quot;#outerhtml&quot;&gt;outerHTML&lt;/a&gt;&lt;/code&gt; and
+   &lt;code title=dom-insertAdjacentHTML&gt;&lt;a
+   href=&quot;#insertadjacenthtml&quot;&gt;insertAdjacentHTML&lt;/a&gt;&lt;/code&gt; attributes, on
+   the other hand, only apply to &lt;code&gt;Element&lt;/code&gt; nodes.
 
   &lt;p class=note&gt;When inserted using the &lt;code title=dom-document-write&gt;&lt;a
    href=&quot;#document.write&quot;&gt;document.write()&lt;/a&gt;&lt;/code&gt; method, &lt;code&gt;&lt;a
@@ -9112,7 +9120,12 @@
      its place all the &lt;var title=&quot;&quot;&gt;new children&lt;/var&gt; nodes, preserving
      their order.&lt;/p&gt;
   &lt;/ol&gt;
-  &lt;!-- XXX must make sure we spec that innerHTML causes mutation
+
+  &lt;hr&gt;
+
+  &lt;p class=big-issue&gt;&lt;dfn id=insertadjacenthtml0
+   title=dom-insertAdjacentHTML-HTML&gt;&lt;code&gt;insertAdjacentHTML()&lt;/code&gt;&lt;/dfn&gt;&lt;/p&gt;
+  &lt;!-- XXX must make sure we spec that innerHTML et al causes mutation
   events to fire, but document.write() doesn't. (the latter is already
   req-stated in the parser section, btw) --&gt;
   &lt;!-- <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/innerhtml.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/innerhtml.asp</A> --&gt;
@@ -9257,8 +9270,10 @@
   &lt;hr&gt;
 
   &lt;p&gt;In an XML context, the &lt;dfn id=document.write0
-   title=dom-document-write-XML&gt;&lt;code&gt;document.write()&lt;/code&gt;&lt;/dfn&gt; method,
-   and the &lt;dfn id=outerhtml1
+   title=dom-document-write-XML&gt;&lt;code&gt;document.write()&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn
+   id=insertadjacenthtml1
+   title=dom-insertAdjacentHTML-XML&gt;&lt;code&gt;insertAdjacentHTML()&lt;/code&gt;&lt;/dfn&gt;
+   methods, and the &lt;dfn id=outerhtml1
    title=dom-outerHTML-XML&gt;&lt;code&gt;outerHTML&lt;/code&gt;&lt;/dfn&gt; attribute on both
    getting and setting, must raise an &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt;
    exception.&lt;/p&gt;
@@ -26202,8 +26217,8 @@
      parser&lt;/span&gt; that itself was created as part of the processing of the
      &lt;code title=dom-innerHTML-XML&gt;&lt;a href=&quot;#innerhtml1&quot;&gt;innerHTML&lt;/a&gt;&lt;/code&gt;
      attribute's setter&lt;!--
-    no need to worry about the innerHTML-HTML case, as the HTML parser
-    handles that for us, and outerHTML-XML doesn't work--&gt;,
+    no need to worry about the HTML case, as the HTML parser handles
+    that for us --&gt;,
      or if the user agent does not &lt;a href=&quot;#support&quot;&gt;support the scripting
      language&lt;/a&gt; given by &lt;var&gt;&lt;a href=&quot;#the-scripts&quot;&gt;the script's
      type&lt;/a&gt;&lt;/var&gt; for this &lt;code&gt;&lt;a href=&quot;#script1&quot;&gt;script&lt;/a&gt;&lt;/code&gt;
@@ -45941,9 +45956,10 @@
    something other than a &lt;link&gt; or a &lt;style&gt; element; you'd expect
    that to break out of the &lt;noscript&gt; but it doesn't. This is an edge
    case that doesn't affect the spec, since the algorithm for fragment
-   parsing is only used for innerHTML/outerHTML, where we know
-   scripting is enabled. (XXX except maybe if innerHTML is set from
-   another browsing context on a document with designMode set?) --&gt;
+   parsing is only used for innerHTML/outerHTML/insertAdjacentHTML(),
+   where we know scripting is enabled. (XXX except maybe if innerHTML
+   is set from another browsing context on a document with designMode
+   set?) --&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;&lt;a
     href=&quot;#body0&quot;&gt;body&lt;/a&gt;&lt;/code&gt; element, then switch the &lt;span&gt;insertion
@@ -48125,11 +48141,8 @@
    content inserted using &lt;code title=dom-document-write-HTML&gt;&lt;a
    href=&quot;#document.write...&quot;&gt;document.write()&lt;/a&gt;&lt;/code&gt; and &lt;code
    title=dom-document-writeln&gt;&lt;a
-   href=&quot;#document.writeln...&quot;&gt;document.writeln()&lt;/a&gt;&lt;/code&gt; calls.&lt;!--
-  XXX xref --&gt;
-   &lt;a href=&quot;#refsDOM3EVENTS&quot;&gt;[DOM3EVENTS]&lt;/a&gt;&lt;/p&gt;
-  &lt;!-- XXX
-  what about innerHTML? --&gt;
+   href=&quot;#document.writeln...&quot;&gt;document.writeln()&lt;/a&gt;&lt;/code&gt; calls. &lt;a
+   href=&quot;#refsDOM3EVENTS&quot;&gt;[DOM3EVENTS]&lt;/a&gt;
 
   &lt;p class=note&gt;Not all of the tag names mentioned below are conformant tag
    names in this specification; many are included to handle legacy content.
@@ -49093,10 +49106,12 @@
      element as &quot;already executed&quot; prevents it from executing when it is
      inserted into the document a few paragraphs below. Thus, scripts missing
      their end tags and scripts that were inserted using &lt;code
-     title=dom-innerHTML-HTML&gt;&lt;a
-     href=&quot;#innerhtml0&quot;&gt;innerHTML&lt;/a&gt;&lt;/code&gt;/&lt;code
-     title=dom-outerHTML-HTML&gt;&lt;a href=&quot;#outerhtml0&quot;&gt;outerHTML&lt;/a&gt;&lt;/code&gt;
-     aren't executed.&lt;/p&gt;
+     title=dom-innerHTML-HTML&gt;&lt;a href=&quot;#innerhtml0&quot;&gt;innerHTML&lt;/a&gt;&lt;/code&gt;,
+     &lt;code title=dom-outerHTML-HTML&gt;&lt;a
+     href=&quot;#outerhtml0&quot;&gt;outerHTML&lt;/a&gt;&lt;/code&gt;, or &lt;code
+     title=dom-insertAdjacentHTML-HTML&gt;&lt;a
+     href=&quot;#insertadjacenthtml0&quot;&gt;insertAdjacentHTML()&lt;/a&gt;&lt;/code&gt; aren't
+     executed.&lt;/p&gt;
 
     &lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;old insertion point&lt;/var&gt; have the same value as
      the current &lt;a href=&quot;#insertion&quot;&gt;insertion point&lt;/a&gt;. Let the &lt;a
@@ -51494,9 +51509,7 @@
      href=&quot;#html-fragment0&quot;&gt;HTML fragment parsing algorithm&lt;/a&gt;, this is a &lt;a
      href=&quot;#parse2&quot;&gt;parse error&lt;/a&gt;; ignore the token. (&lt;a
      href=&quot;#fragment&quot;&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
-    &lt;!-- can only happen for &lt;html&gt;'s own innerHTML or its children's
-    outerHTML --&gt;
-    
+
     &lt;p&gt;Otherwise, switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a
      href=&quot;#after12&quot; title=&quot;insertion mode: after after body&quot;&gt;after after
      body&lt;/a&gt;&quot;.&lt;/p&gt;

Modified: source
===================================================================
--- source	2008-08-11 00:07:08 UTC (rev 2038)
+++ source	2008-08-11 00:25:14 UTC (rev 2039)
@@ -5547,6 +5547,7 @@
   // &lt;span&gt;dynamic markup insertion&lt;/span&gt;
            attribute DOMString &lt;span title=&quot;dom-innerHTML&quot;&gt;innerHTML&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-outerHTML&quot;&gt;outerHTML&lt;/span&gt;;
+  void &lt;span title=&quot;dom-insertAdjacentHTML&quot;&gt;insertAdjacentHTML&lt;/span&gt;(in DOMString position, in DOMString data);
 
   // &lt;span&gt;metadata attributes&lt;/span&gt;
            attribute DOMString &lt;span title=&quot;dom-id&quot;&gt;id&lt;/span&gt;;
@@ -6610,20 +6611,13 @@
 
   &lt;h3&gt;&lt;dfn&gt;Dynamic markup insertion&lt;/dfn&gt;&lt;/h3&gt;
 
-  &lt;p&gt;The &lt;code title=&quot;dom-document-write&quot;&gt;document.write()&lt;/code&gt;
-  family of methods and the &lt;code
-  title=&quot;dom-innerHTML&quot;&gt;innerHTML&lt;/code&gt;/&lt;code
-  title=&quot;dom-outerHTML&quot;&gt;outerHTML&lt;/code&gt; family of DOM attributes
-  enable script authors to dynamically insert markup into the
-  document.&lt;/p&gt;
+  &lt;p&gt;APIs for dynamically inserting markup into the document interact
+  with the parser, and thus their behavior varies depending on whether
+  they are used with &lt;span&gt;HTML documents&lt;/span&gt; (and the &lt;span&gt;HTML
+  parser&lt;/span&gt;) or XHTML in &lt;span&gt;XML documents&lt;/span&gt; (and the
+  &lt;span&gt;XML parser&lt;/span&gt;). The following table cross-references the
+  various versions of these APIs.&lt;/p&gt;
 
-  &lt;p&gt;Because these APIs interact with the parser, their behavior
-  varies depending on whether they are used with &lt;span&gt;HTML
-  documents&lt;/span&gt; (and the &lt;span&gt;HTML parser&lt;/span&gt;) or XHTML in
-  &lt;span&gt;XML documents&lt;/span&gt; (and the &lt;span&gt;XML parser&lt;/span&gt;). The
-  following table cross-references the various versions of these
-  APIs.&lt;/p&gt;
-
   &lt;table&gt;
    &lt;thead&gt;
     &lt;tr&gt;
@@ -6652,6 +6646,11 @@
      &lt;td&gt;&lt;span title=&quot;dom-outerHTML-HTML&quot;&gt;&lt;code&gt;outerHTML&lt;/code&gt; in HTML&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;&lt;span title=&quot;dom-outerHTML-XML&quot;&gt;not supported&lt;/span&gt;&lt;/td&gt;
     &lt;/tr&gt;
+    &lt;tr&gt;
+     &lt;th&gt;&lt;dfn title=&quot;dom-insertAdjacentHTML&quot;&gt;&lt;code&gt;insertAdjacentHTML()&lt;/code&gt;&lt;/dfn&gt;&lt;/th&gt;
+     &lt;td&gt;&lt;span title=&quot;dom-insertAdjacentHTML-HTML&quot;&gt;&lt;code&gt;insertAdjacentHTML()&lt;/code&gt; in HTML&lt;/span&gt;&lt;/td&gt;
+     &lt;td&gt;&lt;span title=&quot;dom-insertAdjacentHTML-XML&quot;&gt;not supported&lt;/span&gt;&lt;/td&gt;
+    &lt;/tr&gt;
    &lt;/tbody&gt;
   &lt;/table&gt;
 
@@ -6665,8 +6664,9 @@
   &lt;p class=&quot;note&quot;&gt;The &lt;code title=&quot;dom-innerHTML&quot;&gt;innerHTML&lt;/code&gt;
   attribute applies to both &lt;code&gt;Element&lt;/code&gt; nodes as well as
   &lt;code&gt;Document&lt;/code&gt; nodes. The &lt;code
-  title=&quot;dom-outerHTML&quot;&gt;outerHTML&lt;/code&gt; attribute, on the other hand,
-  only applies to &lt;code&gt;Element&lt;/code&gt; nodes.&lt;/p&gt;
+  title=&quot;dom-outerHTML&quot;&gt;outerHTML&lt;/code&gt; and &lt;code
+  title=&quot;dom-insertAdjacentHTML&quot;&gt;insertAdjacentHTML&lt;/code&gt; attributes,
+  on the other hand, only apply to &lt;code&gt;Element&lt;/code&gt; nodes.&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;When inserted using the &lt;code
   title=&quot;dom-document-write&quot;&gt;document.write()&lt;/code&gt; method,
@@ -7080,7 +7080,12 @@
 
   &lt;/ol&gt;
 
-  &lt;!-- XXX must make sure we spec that innerHTML causes mutation
+  &lt;hr&gt;
+
+  &lt;p class=&quot;big-issue&quot;&gt;&lt;dfn title=&quot;dom-insertAdjacentHTML-HTML&quot;&gt;&lt;code&gt;insertAdjacentHTML()&lt;/code&gt;&lt;/dfn&gt;&lt;/p&gt;
+
+
+  &lt;!-- XXX must make sure we spec that innerHTML et al causes mutation
   events to fire, but document.write() doesn't. (the latter is already
   req-stated in the parser section, btw) --&gt;
 
@@ -7268,7 +7273,9 @@
 
   &lt;p&gt;In an XML context, the &lt;dfn
   title=&quot;dom-document-write-XML&quot;&gt;&lt;code&gt;document.write()&lt;/code&gt;&lt;/dfn&gt;
-  method, and the &lt;dfn
+  and &lt;dfn
+  title=&quot;dom-insertAdjacentHTML-XML&quot;&gt;&lt;code&gt;insertAdjacentHTML()&lt;/code&gt;&lt;/dfn&gt;
+  methods, and the &lt;dfn
   title=&quot;dom-outerHTML-XML&quot;&gt;&lt;code&gt;outerHTML&lt;/code&gt;&lt;/dfn&gt; attribute on
   both getting and setting, must raise an
   &lt;code&gt;INVALID_ACCESS_ERR&lt;/code&gt; exception.&lt;/p&gt;
@@ -23536,13 +23543,13 @@
     by an &lt;span&gt;XML parser&lt;/span&gt; that itself was created as part of
     the processing of the &lt;code
     title=&quot;dom-innerHTML-XML&quot;&gt;innerHTML&lt;/code&gt; attribute's setter&lt;!--
-    no need to worry about the innerHTML-HTML case, as the HTML parser
-    handles that for us, and outerHTML-XML doesn't work--&gt;, or if the
-    user agent does not &lt;span&gt;support the scripting language&lt;/span&gt;
-    given by &lt;var&gt;the script's type&lt;/var&gt; for this &lt;code&gt;script&lt;/code&gt;
-    element, or if the &lt;code&gt;script&lt;/code&gt; element has its
-    &lt;span&gt;&quot;already executed&quot;&lt;/span&gt; flag set, then the user agent must
-    abort these steps at this point. The script is not executed.&lt;/p&gt;
+    no need to worry about the HTML case, as the HTML parser handles
+    that for us --&gt;, or if the user agent does not &lt;span&gt;support the
+    scripting language&lt;/span&gt; given by &lt;var&gt;the script's type&lt;/var&gt;
+    for this &lt;code&gt;script&lt;/code&gt; element, or if the
+    &lt;code&gt;script&lt;/code&gt; element has its &lt;span&gt;&quot;already
+    executed&quot;&lt;/span&gt; flag set, then the user agent must abort these
+    steps at this point. The script is not executed.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -43322,9 +43329,10 @@
    something other than a &lt;link&gt; or a &lt;style&gt; element; you'd expect
    that to break out of the &lt;noscript&gt; but it doesn't. This is an edge
    case that doesn't affect the spec, since the algorithm for fragment
-   parsing is only used for innerHTML/outerHTML, where we know
-   scripting is enabled. (XXX except maybe if innerHTML is set from
-   another browsing context on a document with designMode set?) --&gt;
+   parsing is only used for innerHTML/outerHTML/insertAdjacentHTML(),
+   where we know scripting is enabled. (XXX except maybe if innerHTML
+   is set from another browsing context on a document with designMode
+   set?) --&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;body&lt;/code&gt; element,
    then switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
@@ -45174,9 +45182,8 @@
   the parser is not mutating the DOM, it is constructing it.) This
   includes the parsing of any content inserted using &lt;code
   title=&quot;dom-document-write-HTML&quot;&gt;document.write()&lt;/code&gt; and &lt;code
-  title=&quot;dom-document-writeln&quot;&gt;document.writeln()&lt;/code&gt; calls.&lt;!--
-  XXX xref --&gt; &lt;a href=&quot;#refsDOM3EVENTS&quot;&gt;[DOM3EVENTS]&lt;/a&gt;&lt;/p&gt;&lt;!-- XXX
-  what about innerHTML? --&gt;
+  title=&quot;dom-document-writeln&quot;&gt;document.writeln()&lt;/code&gt; calls. &lt;a
+  href=&quot;#refsDOM3EVENTS&quot;&gt;[DOM3EVENTS]&lt;/a&gt;&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;Not all of the tag names mentioned below are
   conformant tag names in this specification; many are included to
@@ -45913,8 +45920,10 @@
     &quot;already executed&quot; prevents it from executing when it is inserted
     into the document a few paragraphs below. Thus, scripts missing
     their end tags and scripts that were inserted using &lt;code
-    title=&quot;dom-innerHTML-HTML&quot;&gt;innerHTML&lt;/code&gt;/&lt;code
-    title=&quot;dom-outerHTML-HTML&quot;&gt;outerHTML&lt;/code&gt; aren't executed.&lt;/p&gt;
+    title=&quot;dom-innerHTML-HTML&quot;&gt;innerHTML&lt;/code&gt;, &lt;code
+    title=&quot;dom-outerHTML-HTML&quot;&gt;outerHTML&lt;/code&gt;, or &lt;code
+    title=&quot;dom-insertAdjacentHTML-HTML&quot;&gt;insertAdjacentHTML()&lt;/code&gt;
+    aren't executed.&lt;/p&gt;
 
     &lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;old insertion point&lt;/var&gt; have the
     same value as the current &lt;span&gt;insertion point&lt;/span&gt;. Let
@@ -48439,8 +48448,6 @@
     &lt;p&gt;If the parser was originally created as part of the &lt;span&gt;HTML
     fragment parsing algorithm&lt;/span&gt;, this is a &lt;span&gt;parse
     error&lt;/span&gt;; ignore the token.  (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
-    &lt;!-- can only happen for &lt;html&gt;'s own innerHTML or its children's
-    outerHTML --&gt;
 
     &lt;p&gt;Otherwise, switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
     title=&quot;insertion mode: after after body&quot;&gt;after after


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008924.html">[html5] r2038 - [e] (0) xref error
</A></li>
	<LI>Next message: <A HREF="008926.html">[html5] r2040 - [] (0) Define insertAdjacentHTML().
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8925">[ date ]</a>
              <a href="thread.html#8925">[ thread ]</a>
              <a href="subject.html#8925">[ subject ]</a>
              <a href="author.html#8925">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
