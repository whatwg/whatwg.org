<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1310 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1310%20-%20/&In-Reply-To=%3C20080303010757.314A538EEF1%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008211.html">
   <LINK REL="Next"  HREF="008213.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1310 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1310%20-%20/&In-Reply-To=%3C20080303010757.314A538EEF1%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1310 - /">whatwg at whatwg.org
       </A><BR>
    <I>Sun Mar  2 17:07:57 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008211.html">[html5] r1309 - /
</A></li>
        <LI>Next message: <A HREF="008213.html">[html5] r1311 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8212">[ date ]</a>
              <a href="thread.html#8212">[ thread ]</a>
              <a href="subject.html#8212">[ subject ]</a>
              <a href="author.html#8212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-03-02 17:07:54 -0800 (Sun, 02 Mar 2008)
New Revision: 1310

Modified:
   index
   source
Log:
[e] (0) deindent the source

Modified: index
===================================================================
--- index	2008-03-03 01:02:46 UTC (rev 1309)
+++ index	2008-03-03 01:07:54 UTC (rev 1310)
@@ -42105,13 +42105,13 @@
        href=&quot;#div&quot;&gt;div&lt;/a&gt;&lt;/code&gt; element, then stop this algorithm.
      &lt;/li&gt;
      &lt;!-- an element &lt;foo&gt; is in this
-         list if the following markup:
+     list if the following markup:
 
-             &lt;!DOCTYPE html&gt;&lt;body&gt;&lt;ol&gt;&lt;li&gt;&lt;foo&gt;&lt;li&gt;
+         &lt;!DOCTYPE html&gt;&lt;body&gt;&lt;ol&gt;&lt;li&gt;&lt;foo&gt;&lt;li&gt;
 
-         ...results in the second &lt;li&gt; not being (in any way) a
-         descendant of the first &lt;li&gt;, or if &lt;foo&gt; is a formatting
-         element that gets reopened later. --&gt;
+     ...results in the second &lt;li&gt; not being (in any way) a
+     descendant of the first &lt;li&gt;, or if &lt;foo&gt; is a formatting
+     element that gets reopened later. --&gt;
 
      &lt;li&gt;
       &lt;p&gt;Otherwise, set &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to the previous entry in the
@@ -42152,13 +42152,13 @@
        href=&quot;#div&quot;&gt;div&lt;/a&gt;&lt;/code&gt; element, then stop this algorithm.
      &lt;/li&gt;
      &lt;!-- an element &lt;foo&gt; is in this
-         list if the following markup:
+     list if the following markup:
 
-             &lt;!DOCTYPE html&gt;&lt;body&gt;&lt;ol&gt;&lt;dt&gt;&lt;foo&gt;&lt;dt&gt;
+         &lt;!DOCTYPE html&gt;&lt;body&gt;&lt;ol&gt;&lt;dt&gt;&lt;foo&gt;&lt;dt&gt;
 
-         ...results in the second &lt;li&gt; not being (in any way) a
-         descendant of the first &lt;li&gt;, or if &lt;foo&gt; is a formatting
-         element that gets reopened later. --&gt;
+     ...results in the second &lt;li&gt; not being (in any way) a
+     descendant of the first &lt;li&gt;, or if &lt;foo&gt; is a formatting
+     element that gets reopened later. --&gt;
 
      &lt;li&gt;
       &lt;p&gt;Otherwise, set &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to the previous entry in the
@@ -42206,9 +42206,9 @@
      that of the token, then pop elements from this stack until an element
      with that tag name has been popped from the stack.&lt;/p&gt;
     &lt;!-- XXX quirk (except for in certain cases?):
-        &lt;p&gt;Otherwise, act as if a start tag with the tag name given in
-        the token had been seen, then reprocess the current token.&lt;/p&gt;
-        --&gt;
+    &lt;p&gt;Otherwise, act as if a start tag with the tag name given in
+    the token had been seen, then reprocess the current token.&lt;/p&gt;
+    --&gt;
     
 
    &lt;dt&gt;An end tag whose tag name is &quot;form&quot;
@@ -42277,16 +42277,16 @@
      scope&lt;/a&gt;, then act as if an end tag with the tag name &lt;code&gt;&lt;a
      href=&quot;#p&quot;&gt;p&lt;/a&gt;&lt;/code&gt; had been seen.&lt;/p&gt;
     &lt;!-- Removed for compatibility with IE7, though all other
-             browsers do it this way. If you do put this back, make
-             sure to handle &lt;h1&gt;&lt;a&gt;&lt;h2&gt;, as in Webkit bug 12646.
-             <A HREF="http://bugs.webkit.org/show_bug.cgi?id=12646">http://bugs.webkit.org/show_bug.cgi?id=12646</A>
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has in scope&lt;/span&gt; an element whose tag
-        name is one of &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, or &quot;h6&quot;, then
-        this is a &lt;span&gt;parse error&lt;/span&gt;; pop elements from the
-        stack until an element with one of those tag names has been
-        popped from the stack.&lt;/p&gt;
-        --&gt;
+         browsers do it this way. If you do put this back, make
+         sure to handle &lt;h1&gt;&lt;a&gt;&lt;h2&gt;, as in Webkit bug 12646.
+         <A HREF="http://bugs.webkit.org/show_bug.cgi?id=12646">http://bugs.webkit.org/show_bug.cgi?id=12646</A>
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has in scope&lt;/span&gt; an element whose tag
+    name is one of &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, or &quot;h6&quot;, then
+    this is a &lt;span&gt;parse error&lt;/span&gt;; pop elements from the
+    stack until an element with one of those tag names has been
+    popped from the stack.&lt;/p&gt;
+    --&gt;
     
     &lt;p&gt;&lt;a href=&quot;#insert&quot; title=&quot;insert an html element&quot;&gt;Insert an HTML
      element&lt;/a&gt; for the token.&lt;/p&gt;
@@ -42310,14 +42310,14 @@
      from the stack until an element with one of those tag names has been
      popped from the stack.&lt;/p&gt;
     &lt;!-- XXX quirk:
-        &lt;p&gt;Otherwise, act as if a start tag with the tag name given in
-        the token had been seen, then reprocess the current token.&lt;/p&gt;
-        --&gt;
+    &lt;p&gt;Otherwise, act as if a start tag with the tag name given in
+    the token had been seen, then reprocess the current token.&lt;/p&gt;
+    --&gt;
     &lt;/dd&gt;
    &lt;!-- ADOPTION AGENCY ELEMENTS
-            Mozilla-only: bdo blink del ins sub sup q
-            Safari-only: code dfn kbd nobr samp var wbr
-            Both: a b big em font i s small strike strong tt u --&gt;
+        Mozilla-only: bdo blink del ins sub sup q
+        Safari-only: code dfn kbd nobr samp var wbr
+        Both: a b big em font i s small strike strong tt u --&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;a&quot;
 
@@ -42523,9 +42523,9 @@
      href=&quot;#formatting&quot;&gt;formatting&lt;/a&gt; category ever get cloned by this
      algorithm.&lt;/p&gt;
     &lt;!--XXX
-        &lt;div class=&quot;example&quot;&gt;
-         &lt;p class=&quot;big-issue&quot;&gt;Need an example.&lt;/p&gt;
-        &lt;/div&gt;
+    &lt;div class=&quot;example&quot;&gt;
+     &lt;p class=&quot;big-issue&quot;&gt;Need an example.&lt;/p&gt;
+    &lt;/div&gt;
 --&gt;
     
     &lt;p class=note&gt;Because of the way this algorithm causes elements to change
@@ -42637,8 +42637,8 @@
     &lt;p&gt;&lt;a href=&quot;#parse0&quot;&gt;Parse error&lt;/a&gt;. Change the token's tag name to
      &quot;img&quot; and reprocess it. (Don't ask.)&lt;/p&gt;
     &lt;!-- As of
-        2005-12, studies showed that around 0.2% of pages used the
-        &lt;image&gt; element. --&gt;
+    2005-12, studies showed that around 0.2% of pages used the
+    &lt;image&gt; element. --&gt;
     
 
    &lt;dt&gt;A start tag whose tag name is &quot;input&quot;
@@ -42652,7 +42652,7 @@
 
     &lt;p&gt;If the &lt;a href=&quot;#form-element&quot;&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element
      pointer&lt;/a&gt; is not null, then &lt;span&gt;associate&lt;/span&gt;&lt;!--XXX
-        xref! --&gt;
+    xref! --&gt;
      the &lt;code&gt;input&lt;/code&gt; element with the &lt;code&gt;form&lt;/code&gt; element
      pointed to by the &lt;a href=&quot;#form-element&quot;&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt;
      element pointer&lt;/a&gt;.&lt;/p&gt;
@@ -42717,10 +42717,10 @@
    &lt;/dd&gt;
    &lt;!-- XXX keygen support; don't forget form element pointer!
 
-       &lt;dt&gt;A start tag whose tag name is &quot;keygen&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        ...
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;keygen&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    ...
+   &lt;/dd&gt;
 --&gt;
 
    &lt;dt&gt;A start tag whose tag name is &quot;textarea&quot;
@@ -42730,7 +42730,7 @@
 
     &lt;p&gt;If the &lt;a href=&quot;#form-element&quot;&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element
      pointer&lt;/a&gt; is not null, then &lt;span&gt;associate&lt;/span&gt;&lt;!--XXX
-        xref! --&gt;
+    xref! --&gt;
      the &lt;code&gt;textarea&lt;/code&gt; element with the &lt;code&gt;form&lt;/code&gt; element
      pointed to by the &lt;a href=&quot;#form-element&quot;&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt;
      element pointer&lt;/a&gt;.&lt;/p&gt;
@@ -42820,10 +42820,10 @@
      element.&lt;/p&gt;
     &lt;!--
 Put the following into the MathML namespace if parsed:
-   math, mrow, mfrac, msqrt, mroot, mstyle, merror, mpadded, 
-   mphantom, mfenced, menclose, msub, msup, msubsup, munder, 
-   mover, munderover, mmultiscripts, mtable, mlabeledtr, mtr, 
-   mtd, maction
+math, mrow, mfrac, msqrt, mroot, mstyle, merror, mpadded, 
+mphantom, mfenced, menclose, msub, msup, msubsup, munder, 
+mover, munderover, mmultiscripts, mtable, mlabeledtr, mtr, 
+mtd, maction
 --&gt;
     
 

Modified: source
===================================================================
--- source	2008-03-03 01:02:46 UTC (rev 1309)
+++ source	2008-03-03 01:07:54 UTC (rev 1310)
@@ -38516,2561 +38516,2561 @@
 --&gt;
 
 
-      &lt;h6&gt;The &lt;dfn title=&quot;insertion mode: before head&quot;&gt;before head&lt;/dfn&gt; insertion mode&lt;/h6&gt;
+  &lt;h6&gt;The &lt;dfn title=&quot;insertion mode: before head&quot;&gt;before head&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;p&gt;Handle the token as follows:&lt;/p&gt;
+  &lt;p&gt;Handle the token as follows:&lt;/p&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-       &lt;dt&gt;An end-of-file token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A character token that is one of one of U+0009
-       CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
-       TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
-       or U+0020 SPACE&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the character&lt;/span&gt; to
-        the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A character token that is one of one of U+0009
+   CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
+   TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
+   or U+0020 SPACE&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the character&lt;/span&gt; to
+    the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A comment token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
-        node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
-        the data given in the comment token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A comment token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
+    node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
+    the data given in the comment token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
-        been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
-        body&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
+    been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;head&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;head&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Create an element for the token&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Create an element for the token&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Set the &lt;span&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element
-        pointer&lt;/span&gt; to this new element node.&lt;/p&gt;
+    &lt;p&gt;Set the &lt;span&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element
+    pointer&lt;/span&gt; to this new element node.&lt;/p&gt;
 
-        &lt;p&gt;Append the new element to the &lt;span&gt;current node&lt;/span&gt; and
-        push it onto the &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Append the new element to the &lt;span&gt;current node&lt;/span&gt; and
+    push it onto the &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-        title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+    title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag token whose tag name is one of: &quot;base&quot;, &quot;link&quot;,
-       &quot;meta&quot;, &quot;script&quot;, &quot;style&quot;, &quot;title&quot;&lt;/dt&gt;
+   &lt;dt&gt;A start tag token whose tag name is one of: &quot;base&quot;, &quot;link&quot;,
+   &quot;meta&quot;, &quot;script&quot;, &quot;style&quot;, &quot;title&quot;&lt;/dt&gt;
 
-       &lt;dd&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Act as if a start tag token with the tag name &quot;head&quot; and no
-        attributes had been seen, then reprocess the current
-        token.&lt;/p&gt;
+    &lt;p&gt;Act as if a start tag token with the tag name &quot;head&quot; and no
+    attributes had been seen, then reprocess the current
+    token.&lt;/p&gt;
 
-        &lt;p class=&quot;note&quot;&gt;This will result in a &lt;code&gt;head&lt;/code&gt;
-        element being generated, and with the current token being
-        reprocessed in the &quot;&lt;span title=&quot;insertion mode: in head&quot;&gt;in
-        head&lt;/span&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;This will result in a &lt;code&gt;head&lt;/code&gt;
+    element being generated, and with the current token being
+    reprocessed in the &quot;&lt;span title=&quot;insertion mode: in head&quot;&gt;in
+    head&lt;/span&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;head&quot;, &quot;body&quot;, &quot;html&quot;, &quot;p&quot;, &quot;br&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;head&quot;, &quot;body&quot;, &quot;html&quot;, &quot;p&quot;, &quot;br&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Act as if a start tag token with the tag name &quot;head&quot; and no
-        attributes had been seen, then reprocess the current
-        token.&lt;/p&gt;
+    &lt;p&gt;Act as if a start tag token with the tag name &quot;head&quot; and no
+    attributes had been seen, then reprocess the current
+    token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;Any other end tag&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;Any other end tag&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
 
-        &lt;p class=&quot;big-issue&quot;&gt;Do we really want to ignore end tags here?&lt;/p&gt;
+    &lt;p class=&quot;big-issue&quot;&gt;Do we really want to ignore end tags here?&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A character token that is &lt;em&gt;not&lt;/em&gt; one of U+0009 CHARACTER
-       TABULATION, U+000A LINE FEED (LF), U+000B LINE TABULATION, U+000C
-       FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt; or U+0020 SPACE&lt;/dt&gt;
-       &lt;dt&gt;Any other start tag token&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A character token that is &lt;em&gt;not&lt;/em&gt; one of U+0009 CHARACTER
+   TABULATION, U+000A LINE FEED (LF), U+000B LINE TABULATION, U+000C
+   FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt; or U+0020 SPACE&lt;/dt&gt;
+   &lt;dt&gt;Any other start tag token&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Act as if a start tag token with the tag name &quot;head&quot; and no
-        attributes had been seen, then reprocess the current
-        token.&lt;/p&gt;
+    &lt;p&gt;Act as if a start tag token with the tag name &quot;head&quot; and no
+    attributes had been seen, then reprocess the current
+    token.&lt;/p&gt;
 
-        &lt;p class=&quot;note&quot;&gt;This will result in an empty &lt;code&gt;head&lt;/code&gt;
-        element being generated, with the current token being
-        reprocessed in the &quot;&lt;span title=&quot;insertion mode: after
-        head&quot;&gt;after head&lt;/span&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;This will result in an empty &lt;code&gt;head&lt;/code&gt;
+    element being generated, with the current token being
+    reprocessed in the &quot;&lt;span title=&quot;insertion mode: after
+    head&quot;&gt;after head&lt;/span&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-      &lt;/dl&gt;
+  &lt;/dl&gt;
 
 
-      &lt;h6 id=&quot;parsing-main-inhead&quot;&gt;The &lt;dfn title=&quot;insertion mode: in head&quot;&gt;in head&lt;/dfn&gt; insertion mode&lt;/h6&gt;
+  &lt;h6 id=&quot;parsing-main-inhead&quot;&gt;The &lt;dfn title=&quot;insertion mode: in head&quot;&gt;in head&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;p&gt;Handle the token as follows.&lt;/p&gt;
+  &lt;p&gt;Handle the token as follows.&lt;/p&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-       &lt;dt&gt;An end-of-file token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A character token that is one of one of U+0009
-       CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
-       TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
-       or U+0020 SPACE&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the character&lt;/span&gt; to
-        the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A character token that is one of one of U+0009
+   CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
+   TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
+   or U+0020 SPACE&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the character&lt;/span&gt; to
+    the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A comment token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
-        node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
-        the data given in the comment token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A comment token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
+    node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
+    the data given in the comment token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
-        been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
-        body&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
+    been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;link&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
-        element&lt;/span&gt; for the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;base&quot;, &quot;link&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
+    element&lt;/span&gt; for the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;meta&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
-        element&lt;/span&gt; for the token.&lt;/p&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;meta&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
+    element&lt;/span&gt; for the token.&lt;/p&gt;
 
-        &lt;p id=&quot;meta-charset-during-parse&quot;&gt;If the element has a &lt;code
-        title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute, and its
-        value is a supported encoding, and the &lt;span
-        title=&quot;concept-encoding-confidence&quot;&gt;confidence&lt;/span&gt; is
-        currently &lt;i&gt;tentative&lt;/i&gt;, then &lt;span&gt;change the
-        encoding&lt;/span&gt; to the encoding given by the value of the
-        &lt;code title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute.&lt;/p&gt;
+    &lt;p id=&quot;meta-charset-during-parse&quot;&gt;If the element has a &lt;code
+    title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute, and its
+    value is a supported encoding, and the &lt;span
+    title=&quot;concept-encoding-confidence&quot;&gt;confidence&lt;/span&gt; is
+    currently &lt;i&gt;tentative&lt;/i&gt;, then &lt;span&gt;change the
+    encoding&lt;/span&gt; to the encoding given by the value of the
+    &lt;code title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute.&lt;/p&gt;
 
-        &lt;p&gt;Otherwise, if the element has a &lt;code
-        title=&quot;attr-meta-charset&quot;&gt;content&lt;/code&gt; attribute, and
-        applying the &lt;span&gt;algorithm for extracting an encoding from a
-        Content-Type&lt;/span&gt; to its value returns a supported encoding
-        &lt;var title=&quot;&quot;&gt;encoding&lt;/var&gt;, and the &lt;span
-        title=&quot;concept-encoding-confidence&quot;&gt;confidence&lt;/span&gt; is
-        currently &lt;i&gt;tentative&lt;/i&gt;, then &lt;span&gt;change the
-        encoding&lt;/span&gt; to the encoding &lt;var
-        title=&quot;&quot;&gt;encoding&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Otherwise, if the element has a &lt;code
+    title=&quot;attr-meta-charset&quot;&gt;content&lt;/code&gt; attribute, and
+    applying the &lt;span&gt;algorithm for extracting an encoding from a
+    Content-Type&lt;/span&gt; to its value returns a supported encoding
+    &lt;var title=&quot;&quot;&gt;encoding&lt;/var&gt;, and the &lt;span
+    title=&quot;concept-encoding-confidence&quot;&gt;confidence&lt;/span&gt; is
+    currently &lt;i&gt;tentative&lt;/i&gt;, then &lt;span&gt;change the
+    encoding&lt;/span&gt; to the encoding &lt;var
+    title=&quot;&quot;&gt;encoding&lt;/var&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;title&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Follow the &lt;span&gt;generic RCDATA parsing algorithm&lt;/span&gt;,
-        with the &lt;span&gt;&lt;code&gt;head&lt;/code&gt; element pointer&lt;/span&gt; as the
-        &lt;var title=&quot;&quot;&gt;context node&lt;/var&gt;, unless that's null, in which
-        case use the &lt;span&gt;current node&lt;/span&gt; (&lt;span&gt;fragment
-        cose&lt;/span&gt;).&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;title&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Follow the &lt;span&gt;generic RCDATA parsing algorithm&lt;/span&gt;,
+    with the &lt;span&gt;&lt;code&gt;head&lt;/code&gt; element pointer&lt;/span&gt; as the
+    &lt;var title=&quot;&quot;&gt;context node&lt;/var&gt;, unless that's null, in which
+    case use the &lt;span&gt;current node&lt;/span&gt; (&lt;span&gt;fragment
+    cose&lt;/span&gt;).&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;noscript&quot;, if &lt;span&gt;scripting is enabled&lt;/span&gt;:&lt;/dt&gt;
-       &lt;dt&gt;A start tag whose tag name is &quot;style&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Follow the &lt;span&gt;generic CDATA parsing algorithm&lt;/span&gt;,
-        with the &lt;span&gt;current node&lt;/span&gt; as the &lt;var
-        title=&quot;&quot;&gt;context node&lt;/var&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;noscript&quot;, if &lt;span&gt;scripting is enabled&lt;/span&gt;:&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;style&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Follow the &lt;span&gt;generic CDATA parsing algorithm&lt;/span&gt;,
+    with the &lt;span&gt;current node&lt;/span&gt; as the &lt;var
+    title=&quot;&quot;&gt;context node&lt;/var&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;noscript&quot;, if &lt;span&gt;scripting is disabled&lt;/span&gt;:&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;noscript&quot;, if &lt;span&gt;scripting is disabled&lt;/span&gt;:&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an HTML element&quot;&gt;Insert a
-        &lt;code&gt;noscript&lt;/code&gt; element&lt;/span&gt; for the token.&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an HTML element&quot;&gt;Insert a
+    &lt;code&gt;noscript&lt;/code&gt; element&lt;/span&gt; for the token.&lt;/p&gt;
 
-        &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-        title=&quot;insertion mode: in head noscript&quot;&gt;in head
-        noscript&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+    title=&quot;insertion mode: in head noscript&quot;&gt;in head
+    noscript&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt id=&quot;scriptTag&quot;&gt;A start tag whose tag name is &quot;script&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt id=&quot;scriptTag&quot;&gt;A start tag whose tag name is &quot;script&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Create an element for the token&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Create an element for the token&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Mark the element as being
-        &lt;span&gt;&quot;parser-inserted&quot;&lt;/span&gt;. This ensures that, if the
-        script is external, any &lt;code
-        title=&quot;dom-document-write-HTML&quot;&gt;document.write()&lt;/code&gt; calls
-        in the script will execute in-line, instead of blowing the
-        document away, as would happen in most other cases.&lt;/p&gt;
+    &lt;p&gt;Mark the element as being
+    &lt;span&gt;&quot;parser-inserted&quot;&lt;/span&gt;. This ensures that, if the
+    script is external, any &lt;code
+    title=&quot;dom-document-write-HTML&quot;&gt;document.write()&lt;/code&gt; calls
+    in the script will execute in-line, instead of blowing the
+    document away, as would happen in most other cases.&lt;/p&gt;
 
-        &lt;p&gt;Switch the tokeniser's &lt;span&gt;content model flag&lt;/span&gt; to
-        the CDATA state.&lt;/p&gt;
+    &lt;p&gt;Switch the tokeniser's &lt;span&gt;content model flag&lt;/span&gt; to
+    the CDATA state.&lt;/p&gt;
 
-        &lt;p&gt;Then, collect all the character tokens that the tokeniser
-        returns until it returns a token that is not a character
-        token, or until it stops tokenising.&lt;/p&gt;
+    &lt;p&gt;Then, collect all the character tokens that the tokeniser
+    returns until it returns a token that is not a character
+    token, or until it stops tokenising.&lt;/p&gt;
 
-        &lt;p&gt;If this process resulted in a collection of character
-        tokens, append a single &lt;code&gt;Text&lt;/code&gt; node to the
-        &lt;code&gt;script&lt;/code&gt; element node whose contents is the
-        concatenation of all those tokens' characters.&lt;/p&gt;
+    &lt;p&gt;If this process resulted in a collection of character
+    tokens, append a single &lt;code&gt;Text&lt;/code&gt; node to the
+    &lt;code&gt;script&lt;/code&gt; element node whose contents is the
+    concatenation of all those tokens' characters.&lt;/p&gt;
 
-        &lt;p&gt;The tokeniser's &lt;span&gt;content model flag&lt;/span&gt; will have
-        switched back to the PCDATA state.&lt;/p&gt;
+    &lt;p&gt;The tokeniser's &lt;span&gt;content model flag&lt;/span&gt; will have
+    switched back to the PCDATA state.&lt;/p&gt;
 
-        &lt;p&gt;If the next token is not an end tag token with the tag name
-        &quot;script&quot;, then this is a &lt;span&gt;parse error&lt;/span&gt;; mark the
-        &lt;code&gt;script&lt;/code&gt; element as &lt;span&gt;&quot;already
-        executed&quot;&lt;/span&gt;. Otherwise, the token is the
-        &lt;code&gt;script&lt;/code&gt; element's end tag, so ignore it.&lt;/p&gt;
+    &lt;p&gt;If the next token is not an end tag token with the tag name
+    &quot;script&quot;, then this is a &lt;span&gt;parse error&lt;/span&gt;; mark the
+    &lt;code&gt;script&lt;/code&gt; element as &lt;span&gt;&quot;already
+    executed&quot;&lt;/span&gt;. Otherwise, the token is the
+    &lt;code&gt;script&lt;/code&gt; element's end tag, so ignore it.&lt;/p&gt;
 
-        &lt;p&gt;If the parser was originally created for the &lt;span&gt;HTML
-        fragment parsing algorithm&lt;/span&gt;, then mark the
-        &lt;code&gt;script&lt;/code&gt; element as &lt;span&gt;&quot;already
-        executed&quot;&lt;/span&gt;, and skip the rest of the processing
-        described for this token (including the part below where
-        &quot;&lt;span title=&quot;the script that will execute as soon as the
-        parser resumes&quot;&gt;scripts that will execute as soon as the
-        parser resumes&lt;/span&gt;&quot; are executed). (&lt;span&gt;fragment
-        case&lt;/span&gt;)&lt;/p&gt;
+    &lt;p&gt;If the parser was originally created for the &lt;span&gt;HTML
+    fragment parsing algorithm&lt;/span&gt;, then mark the
+    &lt;code&gt;script&lt;/code&gt; element as &lt;span&gt;&quot;already
+    executed&quot;&lt;/span&gt;, and skip the rest of the processing
+    described for this token (including the part below where
+    &quot;&lt;span title=&quot;the script that will execute as soon as the
+    parser resumes&quot;&gt;scripts that will execute as soon as the
+    parser resumes&lt;/span&gt;&quot; are executed). (&lt;span&gt;fragment
+    case&lt;/span&gt;)&lt;/p&gt;
 
-        &lt;p class=&quot;note&quot;&gt;Marking the &lt;code&gt;script&lt;/code&gt; element as
-        &quot;already executed&quot; prevents it from executing when it is
-        inserted into the document a few paragraphs below. Thus,
-        scripts missing their end tags and scripts that were inserted
-        using &lt;code title=&quot;dom-innerHTML-HTML&quot;&gt;innerHTML&lt;/code&gt; aren't
-        executed.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;Marking the &lt;code&gt;script&lt;/code&gt; element as
+    &quot;already executed&quot; prevents it from executing when it is
+    inserted into the document a few paragraphs below. Thus,
+    scripts missing their end tags and scripts that were inserted
+    using &lt;code title=&quot;dom-innerHTML-HTML&quot;&gt;innerHTML&lt;/code&gt; aren't
+    executed.&lt;/p&gt;
 
-        &lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;old insertion point&lt;/var&gt; have the
-        same value as the current &lt;span&gt;insertion point&lt;/span&gt;. Let
-        the &lt;span&gt;insertion point&lt;/span&gt; be just before the &lt;span&gt;next
-        input character&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;old insertion point&lt;/var&gt; have the
+    same value as the current &lt;span&gt;insertion point&lt;/span&gt;. Let
+    the &lt;span&gt;insertion point&lt;/span&gt; be just before the &lt;span&gt;next
+    input character&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Append the new element to the &lt;span&gt;current node&lt;/span&gt;.
-        &lt;span title=&quot;running a script&quot;&gt;Special processing occurs when
-        a &lt;code&gt;script&lt;/code&gt; element is inserted into a
-        document&lt;/span&gt; that might cause some script to execute, which
-        might cause &lt;span title=&quot;dom-document-write-HTML&quot;&gt;new
-        characters to be inserted into the tokeniser&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Append the new element to the &lt;span&gt;current node&lt;/span&gt;.
+    &lt;span title=&quot;running a script&quot;&gt;Special processing occurs when
+    a &lt;code&gt;script&lt;/code&gt; element is inserted into a
+    document&lt;/span&gt; that might cause some script to execute, which
+    might cause &lt;span title=&quot;dom-document-write-HTML&quot;&gt;new
+    characters to be inserted into the tokeniser&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Let the &lt;span&gt;insertion point&lt;/span&gt; have the value of the
-        &lt;var title=&quot;&quot;&gt;old insertion point&lt;/var&gt;. (In other words,
-        restore the &lt;span&gt;insertion point&lt;/span&gt; to the value it had
-        before the previous paragraph. This value might be the
-        &quot;undefined&quot; value.)&lt;/p&gt;
+    &lt;p&gt;Let the &lt;span&gt;insertion point&lt;/span&gt; have the value of the
+    &lt;var title=&quot;&quot;&gt;old insertion point&lt;/var&gt;. (In other words,
+    restore the &lt;span&gt;insertion point&lt;/span&gt; to the value it had
+    before the previous paragraph. This value might be the
+    &quot;undefined&quot; value.)&lt;/p&gt;
 
-        &lt;p id=&quot;scriptTagParserResumes&quot;&gt;At this stage, if there is
-        &lt;span title=&quot;the script that will execute as soon as the
-        parser resumes&quot;&gt;a script that will execute as soon as the
-        parser resumes&lt;/span&gt;, then:&lt;/p&gt;
+    &lt;p id=&quot;scriptTagParserResumes&quot;&gt;At this stage, if there is
+    &lt;span title=&quot;the script that will execute as soon as the
+    parser resumes&quot;&gt;a script that will execute as soon as the
+    parser resumes&lt;/span&gt;, then:&lt;/p&gt;
 
-        &lt;dl class=&quot;switch&quot;&gt;
+    &lt;dl class=&quot;switch&quot;&gt;
 
-         &lt;dt&gt;If the tree construction stage is &lt;a
-         href=&quot;#nestedParsing&quot;&gt;being called reentrantly&lt;/a&gt;, say from
-         a call to &lt;code
-         title=&quot;dom-document-write-HTML&quot;&gt;document.write()&lt;/code&gt;:&lt;/dt&gt;
+     &lt;dt&gt;If the tree construction stage is &lt;a
+     href=&quot;#nestedParsing&quot;&gt;being called reentrantly&lt;/a&gt;, say from
+     a call to &lt;code
+     title=&quot;dom-document-write-HTML&quot;&gt;document.write()&lt;/code&gt;:&lt;/dt&gt;
 
-         &lt;dd&gt;&lt;p&gt;Abort the processing of any nested invokations of the
-         tokeniser, yielding control back to the caller. (Tokenisation
-         will resume when the caller returns to the &quot;outer&quot; tree
-         construction stage.)&lt;/p&gt;&lt;/dd&gt;
+     &lt;dd&gt;&lt;p&gt;Abort the processing of any nested invokations of the
+     tokeniser, yielding control back to the caller. (Tokenisation
+     will resume when the caller returns to the &quot;outer&quot; tree
+     construction stage.)&lt;/p&gt;&lt;/dd&gt;
 
-         &lt;dt&gt;Otherwise:&lt;/dt&gt;
+     &lt;dt&gt;Otherwise:&lt;/dt&gt;
 
-         &lt;dd&gt;
+     &lt;dd&gt;
 
-          &lt;p&gt;Follow these steps:&lt;/p&gt;
+      &lt;p&gt;Follow these steps:&lt;/p&gt;
 
-          &lt;ol&gt;
+      &lt;ol&gt;
 
-           &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt; be &lt;span&gt;the
-           script that will execute as soon as the parser
-           resumes&lt;/span&gt;. There is no longer &lt;span title=&quot;the script
-           that will execute as soon as the parser resumes&quot;&gt;a script
-           that will execute as soon as the parser
-           resumes&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;the script&lt;/var&gt; be &lt;span&gt;the
+       script that will execute as soon as the parser
+       resumes&lt;/span&gt;. There is no longer &lt;span title=&quot;the script
+       that will execute as soon as the parser resumes&quot;&gt;a script
+       that will execute as soon as the parser
+       resumes&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-           &lt;li&gt;&lt;p&gt;&lt;span&gt;Pause&lt;/span&gt; until the script has &lt;span&gt;completed
-           loading&lt;/span&gt;&lt;!-- XXX xref --&gt;.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;&lt;span&gt;Pause&lt;/span&gt; until the script has &lt;span&gt;completed
+       loading&lt;/span&gt;&lt;!-- XXX xref --&gt;.&lt;/p&gt;&lt;/li&gt;
 
-           &lt;li&gt;&lt;p&gt;Let the &lt;span&gt;insertion point&lt;/span&gt; be just before the
-           &lt;span&gt;next input character&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Let the &lt;span&gt;insertion point&lt;/span&gt; be just before the
+       &lt;span&gt;next input character&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-           &lt;li&gt;&lt;p&gt;&lt;span title=&quot;executing a script block&quot;&gt;Execute the
-           script&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;&lt;span title=&quot;executing a script block&quot;&gt;Execute the
+       script&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-           &lt;li&gt;&lt;p&gt;Let the &lt;span&gt;insertion point&lt;/span&gt; be undefined
-           again.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Let the &lt;span&gt;insertion point&lt;/span&gt; be undefined
+       again.&lt;/p&gt;&lt;/li&gt;
 
-           &lt;li&gt;&lt;p&gt;If there is once again &lt;span title=&quot;the script that
-           will execute as soon as the parser resumes&quot;&gt;a script that
-           will execute as soon as the parser resumes&lt;/span&gt;, then
-           repeat these steps from step 1.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;If there is once again &lt;span title=&quot;the script that
+       will execute as soon as the parser resumes&quot;&gt;a script that
+       will execute as soon as the parser resumes&lt;/span&gt;, then
+       repeat these steps from step 1.&lt;/p&gt;&lt;/li&gt;
 
-          &lt;/ol&gt;
+      &lt;/ol&gt;
 
-         &lt;/dd&gt;
+     &lt;/dd&gt;
 
-        &lt;/dl&gt;
+    &lt;/dl&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;head&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;head&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; (which will be the
-        &lt;code&gt;head&lt;/code&gt; element) off the &lt;span&gt;stack of open
-        elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; (which will be the
+    &lt;code&gt;head&lt;/code&gt; element) off the &lt;span&gt;stack of open
+    elements&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-        title=&quot;insertion mode: after head&quot;&gt;after head&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+    title=&quot;insertion mode: after head&quot;&gt;after head&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;body&quot;, &quot;html&quot;, &quot;p&quot;, &quot;br&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Act as described in the &quot;anything else&quot; entry below.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;body&quot;, &quot;html&quot;, &quot;p&quot;, &quot;br&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Act as described in the &quot;anything else&quot; entry below.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;head&quot;&lt;/dt&gt;
-       &lt;dt&gt;Any other end tag&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;head&quot;&lt;/dt&gt;
+   &lt;dt&gt;Any other end tag&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;Anything else&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Act as if an end tag token with the tag name &quot;head&quot; had
-        been seen, and reprocess the current token.&lt;/p&gt;
+    &lt;p&gt;Act as if an end tag token with the tag name &quot;head&quot; had
+    been seen, and reprocess the current token.&lt;/p&gt;
 
-        &lt;p class=&quot;big-issue&quot;&gt;In certain UAs, &lt;a
-        href=&quot;<A HREF="https://bugzilla.mozilla.org/attachment.cgi?id=180157&amp;amp;action=view">https://bugzilla.mozilla.org/attachment.cgi?id=180157&amp;action=view</A>&quot;&gt;some
-        elements&lt;/a&gt; don't trigger the &quot;in body&quot; mode straight away,
-        but instead get put into the head. Do we want to copy
-        that?&lt;/p&gt;
+    &lt;p class=&quot;big-issue&quot;&gt;In certain UAs, &lt;a
+    href=&quot;<A HREF="https://bugzilla.mozilla.org/attachment.cgi?id=180157&amp;amp;action=view">https://bugzilla.mozilla.org/attachment.cgi?id=180157&amp;action=view</A>&quot;&gt;some
+    elements&lt;/a&gt; don't trigger the &quot;in body&quot; mode straight away,
+    but instead get put into the head. Do we want to copy
+    that?&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-      &lt;/dl&gt;
+  &lt;/dl&gt;
 
 
-      &lt;h6 id=&quot;parsing-main-inheadnoscript&quot;&gt;The &lt;dfn title=&quot;insertion mode: in head noscript&quot;&gt;in head noscript&lt;/dfn&gt; insertion mode&lt;/h6&gt;
+  &lt;h6 id=&quot;parsing-main-inheadnoscript&quot;&gt;The &lt;dfn title=&quot;insertion mode: in head noscript&quot;&gt;in head noscript&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;p&gt;Handle the token as follows.&lt;/p&gt;
+  &lt;p&gt;Handle the token as follows.&lt;/p&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-       &lt;dt&gt;An end-of-file token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
-        been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
-        body&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
+    been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;noscript&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;noscript&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; (which will be a
-        &lt;code&gt;noscript&lt;/code&gt; element) from the &lt;span&gt;stack of open
-        elements&lt;/span&gt;; the new &lt;span&gt;current node&lt;/span&gt; will be a
-        &lt;code&gt;head&lt;/code&gt; element.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; (which will be a
+    &lt;code&gt;noscript&lt;/code&gt; element) from the &lt;span&gt;stack of open
+    elements&lt;/span&gt;; the new &lt;span&gt;current node&lt;/span&gt; will be a
+    &lt;code&gt;head&lt;/code&gt; element.&lt;/p&gt;
 
-        &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-        title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+    title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A character token that is one of one of U+0009
-       CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
-       TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
-       or U+0020 SPACE&lt;/dt&gt;
-       &lt;dt&gt;A comment token&lt;/dt&gt;
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;link&quot;, &quot;meta&quot;, &quot;style&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
-        been &quot;&lt;span title=&quot;insertion mode: in head&quot;&gt;in
-        head&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A character token that is one of one of U+0009
+   CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
+   TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
+   or U+0020 SPACE&lt;/dt&gt;
+   &lt;dt&gt;A comment token&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;link&quot;, &quot;meta&quot;, &quot;style&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
+    been &quot;&lt;span title=&quot;insertion mode: in head&quot;&gt;in
+    head&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;p&quot;, &quot;br&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Act as described in the &quot;anything else&quot; entry below.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;p&quot;, &quot;br&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Act as described in the &quot;anything else&quot; entry below.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;head&quot;, &quot;noscript&quot;&lt;/dt&gt;
-       &lt;dt&gt;Any other end tag&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;head&quot;, &quot;noscript&quot;&lt;/dt&gt;
+   &lt;dt&gt;Any other end tag&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Act as if an end tag with the tag
-        name &quot;noscript&quot; had been seen and reprocess the current
-        token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;Anything else&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Act as if an end tag with the tag
+    name &quot;noscript&quot; had been seen and reprocess the current
+    token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-      &lt;/dl&gt;
+  &lt;/dl&gt;
 
 
-      &lt;h6&gt;The &lt;dfn title=&quot;insertion mode: after head&quot;&gt;after head&lt;/dfn&gt; insertion mode&lt;/h6&gt;
+  &lt;h6&gt;The &lt;dfn title=&quot;insertion mode: after head&quot;&gt;after head&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;p&gt;Handle the token as follows:&lt;/p&gt;
+  &lt;p&gt;Handle the token as follows:&lt;/p&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-       &lt;dt&gt;An end-of-file token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A character token that is one of one of U+0009
-       CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
-       TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
-       or U+0020 SPACE&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the character&lt;/span&gt; to
-        the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A character token that is one of one of U+0009
+   CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
+   TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
+   or U+0020 SPACE&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the character&lt;/span&gt; to
+    the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A comment token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
-        node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
-        the data given in the comment token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A comment token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
+    node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
+    the data given in the comment token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
-        been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
-        body&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
+    been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;body&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;body&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an HTML element&quot;&gt;Insert a
-        &lt;code&gt;body&lt;/code&gt; element&lt;/span&gt; for the token.&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an HTML element&quot;&gt;Insert a
+    &lt;code&gt;body&lt;/code&gt; element&lt;/span&gt; for the token.&lt;/p&gt;
 
-        &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-        title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+    title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;frameset&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;frameset&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an HTML element&quot;&gt;Insert a
-        &lt;code&gt;frameset&lt;/code&gt; element&lt;/span&gt; for the token.&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an HTML element&quot;&gt;Insert a
+    &lt;code&gt;frameset&lt;/code&gt; element&lt;/span&gt; for the token.&lt;/p&gt;
 
-        &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-        title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+    title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag token whose tag name is one of: &quot;base&quot;, &quot;link&quot;,
-       &quot;meta&quot;, &quot;script&quot;, &quot;style&quot;, &quot;title&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag token whose tag name is one of: &quot;base&quot;, &quot;link&quot;,
+   &quot;meta&quot;, &quot;script&quot;, &quot;style&quot;, &quot;title&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Push the node pointed to by the &lt;span&gt;&lt;code
-        title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/span&gt; onto the
-        &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Push the node pointed to by the &lt;span&gt;&lt;code
+    title=&quot;&quot;&gt;head&lt;/code&gt; element pointer&lt;/span&gt; onto the
+    &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
-        been &quot;&lt;span title=&quot;insertion mode: in head&quot;&gt;in
-        head&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
+    been &quot;&lt;span title=&quot;insertion mode: in head&quot;&gt;in
+    head&lt;/span&gt;&quot;.&lt;/p&gt;
 
-        &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; (which will be the node
-        pointed to by the &lt;span&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element
-        pointer&lt;/span&gt;) off the &lt;span&gt;stack of open
-        elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; (which will be the node
+    pointed to by the &lt;span&gt;&lt;code title=&quot;&quot;&gt;head&lt;/code&gt; element
+    pointer&lt;/span&gt;) off the &lt;span&gt;stack of open
+    elements&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Act as if a start tag token with the tag name &quot;body&quot; and no
-        attributes had been seen, and then reprocess the current
-        token.&lt;/p&gt;
-       &lt;/dd&gt;
-      
-      &lt;/dl&gt;
+   &lt;dt&gt;Anything else&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Act as if a start tag token with the tag name &quot;body&quot; and no
+    attributes had been seen, and then reprocess the current
+    token.&lt;/p&gt;
+   &lt;/dd&gt;
 
+  &lt;/dl&gt;
 
-      &lt;h6 id=&quot;parsing-main-inbody&quot;&gt;The &lt;dfn title=&quot;insertion mode: in body&quot;&gt;in body&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;p&gt;Handle the token as follows:&lt;/p&gt;
+  &lt;h6 id=&quot;parsing-main-inbody&quot;&gt;The &lt;dfn title=&quot;insertion mode: in body&quot;&gt;in body&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+  &lt;p&gt;Handle the token as follows:&lt;/p&gt;
 
-       &lt;dt&gt;An end-of-file token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
-       &lt;/dd&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-       &lt;dt&gt;A character token&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
-        any.&lt;/p&gt;
+   &lt;dt&gt;A character token&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the token's
-        character&lt;/span&gt; to the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
+    any.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the token's
+    character&lt;/span&gt; to the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;dt&gt;A comment token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
-        node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
-        the data given in the comment token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A comment token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
+    node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
+    the data given in the comment token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;If this start tag token was not the first start tag token, then
-        it is a &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
-        &lt;p&gt;For each attribute on the token, check to see if the attribute
-        is already present on the top element of the &lt;span&gt;stack of open
-        elements&lt;/span&gt;. If it is not, add the attribute and its
-        corresponding value to that element.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag token whose tag name is one of: &quot;base&quot;, &quot;link&quot;,
-       &quot;meta&quot;, &quot;script&quot;, &quot;style&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
-        been &quot;&lt;span title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;If this start tag token was not the first start tag token, then
+    it is a &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;For each attribute on the token, check to see if the attribute
+    is already present on the top element of the &lt;span&gt;stack of open
+    elements&lt;/span&gt;. If it is not, add the attribute and its
+    corresponding value to that element.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;title&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Process the token as if the
-        &lt;span&gt;insertion mode&lt;/span&gt; had been &quot;&lt;span title=&quot;insertion
-        mode: in head&quot;&gt;in head&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag token whose tag name is one of: &quot;base&quot;, &quot;link&quot;,
+   &quot;meta&quot;, &quot;script&quot;, &quot;style&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
+    been &quot;&lt;span title=&quot;insertion mode: in head&quot;&gt;in head&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;body&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;title&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Process the token as if the
+    &lt;span&gt;insertion mode&lt;/span&gt; had been &quot;&lt;span title=&quot;insertion
+    mode: in head&quot;&gt;in head&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;body&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the second element on the &lt;span&gt;stack of open
-        elements&lt;/span&gt; is not a &lt;code&gt;body&lt;/code&gt; element, or, if the
-        &lt;span&gt;stack of open elements&lt;/span&gt; has only one node on it,
-        then ignore the token. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Otherwise, for each attribute on the token, check to see if
-        the attribute is already present on the &lt;code&gt;body&lt;/code&gt;
-        element (the second element) on the &lt;span&gt;stack of open
-        elements&lt;/span&gt;. If it is not, add the attribute and its
-        corresponding value to that element.&lt;/p&gt;
+    &lt;p&gt;If the second element on the &lt;span&gt;stack of open
+    elements&lt;/span&gt; is not a &lt;code&gt;body&lt;/code&gt; element, or, if the
+    &lt;span&gt;stack of open elements&lt;/span&gt; has only one node on it,
+    then ignore the token. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;Otherwise, for each attribute on the token, check to see if
+    the attribute is already present on the &lt;code&gt;body&lt;/code&gt;
+    element (the second element) on the &lt;span&gt;stack of open
+    elements&lt;/span&gt;. If it is not, add the attribute and its
+    corresponding value to that element.&lt;/p&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;body&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;If the second element in the &lt;span&gt;stack of open
-        elements&lt;/span&gt; is not a &lt;code&gt;body&lt;/code&gt; element, this is a
-        &lt;span&gt;parse error&lt;/span&gt;. Ignore the token.  (&lt;span&gt;fragment
-        case&lt;/span&gt;)&lt;/p&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;body&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Otherwise, if there is a node in the &lt;span&gt;stack of open
-        elements&lt;/span&gt; that is not either a &lt;code&gt;dd&lt;/code&gt; element,
-        a &lt;code&gt;dt&lt;/code&gt; element, an &lt;code&gt;li&lt;/code&gt; element, a
-        &lt;code&gt;p&lt;/code&gt; element, a &lt;code&gt;tbody&lt;/code&gt; element, a
-        &lt;code&gt;td&lt;/code&gt; element, a &lt;code&gt;tfoot&lt;/code&gt; element, a
-        &lt;code&gt;th&lt;/code&gt; element, a &lt;code&gt;thead&lt;/code&gt; element, a
-        &lt;code&gt;tr&lt;/code&gt; element, the &lt;code&gt;body&lt;/code&gt; element, or the
-        &lt;code&gt;html&lt;/code&gt; element, then this is a &lt;span&gt;parse
-        error&lt;/span&gt;.&lt;/li&gt;
+    &lt;p&gt;If the second element in the &lt;span&gt;stack of open
+    elements&lt;/span&gt; is not a &lt;code&gt;body&lt;/code&gt; element, this is a
+    &lt;span&gt;parse error&lt;/span&gt;. Ignore the token.  (&lt;span&gt;fragment
+    case&lt;/span&gt;)&lt;/p&gt;
 
-        &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-        title=&quot;insertion mode: after body&quot;&gt;after body&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Otherwise, if there is a node in the &lt;span&gt;stack of open
+    elements&lt;/span&gt; that is not either a &lt;code&gt;dd&lt;/code&gt; element,
+    a &lt;code&gt;dt&lt;/code&gt; element, an &lt;code&gt;li&lt;/code&gt; element, a
+    &lt;code&gt;p&lt;/code&gt; element, a &lt;code&gt;tbody&lt;/code&gt; element, a
+    &lt;code&gt;td&lt;/code&gt; element, a &lt;code&gt;tfoot&lt;/code&gt; element, a
+    &lt;code&gt;th&lt;/code&gt; element, a &lt;code&gt;thead&lt;/code&gt; element, a
+    &lt;code&gt;tr&lt;/code&gt; element, the &lt;code&gt;body&lt;/code&gt; element, or the
+    &lt;code&gt;html&lt;/code&gt; element, then this is a &lt;span&gt;parse
+    error&lt;/span&gt;.&lt;/li&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+    title=&quot;insertion mode: after body&quot;&gt;after body&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;html&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;Act as if an end tag with tag name &quot;body&quot; had been seen,
-        then, if that token wasn't ignored, reprocess the current
-        token.&lt;/p&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;html&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p class=&quot;note&quot;&gt;The fake end tag token here can only be
-        ignored in the &lt;span&gt;fragment case&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Act as if an end tag with tag name &quot;body&quot; had been seen,
+    then, if that token wasn't ignored, reprocess the current
+    token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p class=&quot;note&quot;&gt;The fake end tag token here can only be
+    ignored in the &lt;span&gt;fragment case&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;address&quot;,
-       &quot;blockquote&quot;, &quot;center&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;, &quot;fieldset&quot;,
-       &quot;listing&quot;, &quot;menu&quot;, &quot;ol&quot;, &quot;p&quot;, &quot;ul&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p class=&quot;big-issue&quot;&gt;This doesn't match browsers.&lt;/p&gt;
-        &lt;!-- XXX &lt;p&gt;&lt;i&gt;&lt;p&gt;: <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cp%3E%3Ci%3E%3Cp%3E%3C%2Fp%3E%3C%2Fi%3E%3C%2Fp%3E">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cp%3E%3Ci%3E%3Cp%3E%3C%2Fp%3E%3C%2Fi%3E%3C%2Fp%3E</A> --&gt;
-        &lt;!-- XXX &lt;p&gt;&lt;i&gt;&lt;div&gt;&lt;p&gt;: <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cp%3E%3Ci%3E%3Cdiv%3E%3Cp%3E%3C%2Fp%3E%3C%2Fdiv%3E%3C%2Fi%3E%3C%2Fp%3E">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cp%3E%3Ci%3E%3Cdiv%3E%3Cp%3E%3C%2Fp%3E%3C%2Fdiv%3E%3C%2Fi%3E%3C%2Fp%3E</A> --&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;address&quot;,
+   &quot;blockquote&quot;, &quot;center&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;, &quot;fieldset&quot;,
+   &quot;listing&quot;, &quot;menu&quot;, &quot;ol&quot;, &quot;p&quot;, &quot;ul&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
-        scope&lt;/span&gt;, then act as if an end tag with the tag name
-        &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt;
+    &lt;p class=&quot;big-issue&quot;&gt;This doesn't match browsers.&lt;/p&gt;
+    &lt;!-- XXX &lt;p&gt;&lt;i&gt;&lt;p&gt;: <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cp%3E%3Ci%3E%3Cp%3E%3C%2Fp%3E%3C%2Fi%3E%3C%2Fp%3E">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cp%3E%3Ci%3E%3Cp%3E%3C%2Fp%3E%3C%2Fi%3E%3C%2Fp%3E</A> --&gt;
+    &lt;!-- XXX &lt;p&gt;&lt;i&gt;&lt;div&gt;&lt;p&gt;: <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cp%3E%3Ci%3E%3Cdiv%3E%3Cp%3E%3C%2Fp%3E%3C%2Fdiv%3E%3C%2Fi%3E%3C%2Fp%3E">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cp%3E%3Ci%3E%3Cdiv%3E%3Cp%3E%3C%2Fp%3E%3C%2Fdiv%3E%3C%2Fi%3E%3C%2Fp%3E</A> --&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
-        element&lt;/span&gt; for the token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
+    scope&lt;/span&gt;, then act as if an end tag with the tag name
+    &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
+    element&lt;/span&gt; for the token.&lt;/p&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;pre&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
-        scope&lt;/span&gt;, then act as if an end tag with the tag name
-        &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;pre&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
-        element&lt;/span&gt; for the token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
+    scope&lt;/span&gt;, then act as if an end tag with the tag name
+    &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt;
 
-        &lt;p&gt;If the next token is a U+000A LINE FEED (LF) character
-        token, then ignore that token and move on to the next
-        one. (Newlines at the start of &lt;code&gt;pre&lt;/code&gt; blocks are
-        ignored as an authoring convenience.)&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
+    element&lt;/span&gt; for the token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;If the next token is a U+000A LINE FEED (LF) character
+    token, then ignore that token and move on to the next
+    one. (Newlines at the start of &lt;code&gt;pre&lt;/code&gt; blocks are
+    ignored as an authoring convenience.)&lt;/p&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;form&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;&lt;code title=&quot;form&quot;&gt;form&lt;/code&gt; element
-        pointer&lt;/span&gt; is not null, ignore the token with a
-        &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;form&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Otherwise:&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;&lt;code title=&quot;form&quot;&gt;form&lt;/code&gt; element
+    pointer&lt;/span&gt; is not null, ignore the token with a
+    &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
-        scope&lt;/span&gt;, then act as if an end tag with the tag name
-        &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt;
+    &lt;p&gt;Otherwise:&lt;/p&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an html Element&quot;&gt;Insert an HTML
-        element&lt;/span&gt; for the token, and set the &lt;code
-        title=&quot;form&quot;&gt;form&lt;/code&gt; element pointer to point to the
-        element created.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
+    scope&lt;/span&gt;, then act as if an end tag with the tag name
+    &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an html Element&quot;&gt;Insert an HTML
+    element&lt;/span&gt; for the token, and set the &lt;code
+    title=&quot;form&quot;&gt;form&lt;/code&gt; element pointer to point to the
+    element created.&lt;/p&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;li&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
-        scope&lt;/span&gt;, then act as if an end tag with the tag name
-        &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;li&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Run the following algorithm:&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
+    scope&lt;/span&gt;, then act as if an end tag with the tag name
+    &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt;
 
-        &lt;ol&gt;
+    &lt;p&gt;Run the following algorithm:&lt;/p&gt;
 
-         &lt;li&gt;&lt;p&gt;Initialise &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to be the &lt;span&gt;current
-         node&lt;/span&gt; (the bottommost node of the stack).&lt;/p&gt;&lt;/li&gt;
+    &lt;ol&gt;
 
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is an &lt;code&gt;li&lt;/code&gt;
-         element, then pop all the nodes from the &lt;span&gt;current
-         node&lt;/span&gt; up to &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, including &lt;var
-         title=&quot;&quot;&gt;node&lt;/var&gt;, then stop this algorithm. If more than
-         one node is popped, then this is a &lt;span&gt;parse
-         error&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Initialise &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to be the &lt;span&gt;current
+     node&lt;/span&gt; (the bottommost node of the stack).&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is not in the
-         &lt;span&gt;formatting&lt;/span&gt; category, and is not in the
-         &lt;span&gt;phrasing&lt;/span&gt; category, and is not an
-         &lt;code&gt;address&lt;/code&gt; or &lt;code&gt;div&lt;/code&gt; element, then stop
-         this algorithm.&lt;/p&gt;&lt;/li&gt; &lt;!-- an element &lt;foo&gt; is in this
-         list if the following markup:
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is an &lt;code&gt;li&lt;/code&gt;
+     element, then pop all the nodes from the &lt;span&gt;current
+     node&lt;/span&gt; up to &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, including &lt;var
+     title=&quot;&quot;&gt;node&lt;/var&gt;, then stop this algorithm. If more than
+     one node is popped, then this is a &lt;span&gt;parse
+     error&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-             &lt;!DOCTYPE html&gt;&lt;body&gt;&lt;ol&gt;&lt;li&gt;&lt;foo&gt;&lt;li&gt;
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is not in the
+     &lt;span&gt;formatting&lt;/span&gt; category, and is not in the
+     &lt;span&gt;phrasing&lt;/span&gt; category, and is not an
+     &lt;code&gt;address&lt;/code&gt; or &lt;code&gt;div&lt;/code&gt; element, then stop
+     this algorithm.&lt;/p&gt;&lt;/li&gt; &lt;!-- an element &lt;foo&gt; is in this
+     list if the following markup:
 
-         ...results in the second &lt;li&gt; not being (in any way) a
-         descendant of the first &lt;li&gt;, or if &lt;foo&gt; is a formatting
-         element that gets reopened later. --&gt;
+         &lt;!DOCTYPE html&gt;&lt;body&gt;&lt;ol&gt;&lt;li&gt;&lt;foo&gt;&lt;li&gt;
 
-         &lt;li&gt;&lt;p&gt;Otherwise, set &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to the previous entry
-         in the &lt;span&gt;stack of open elements&lt;/span&gt; and return to step
-         2.&lt;/p&gt;&lt;/li&gt;
+     ...results in the second &lt;li&gt; not being (in any way) a
+     descendant of the first &lt;li&gt;, or if &lt;foo&gt; is a formatting
+     element that gets reopened later. --&gt;
 
-        &lt;/ol&gt;
+     &lt;li&gt;&lt;p&gt;Otherwise, set &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to the previous entry
+     in the &lt;span&gt;stack of open elements&lt;/span&gt; and return to step
+     2.&lt;/p&gt;&lt;/li&gt;
 
-        &lt;p&gt;Finally, &lt;span title=&quot;insert an html element&quot;&gt;insert an
-        &lt;code&gt;li&lt;/code&gt; element&lt;/span&gt;.&lt;/p&gt;
+    &lt;/ol&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;Finally, &lt;span title=&quot;insert an html element&quot;&gt;insert an
+    &lt;code&gt;li&lt;/code&gt; element&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;dd&quot;, &quot;dt&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
-        scope&lt;/span&gt;, then act as if an end tag with the tag name
-        &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;dd&quot;, &quot;dt&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Run the following algorithm:&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
+    scope&lt;/span&gt;, then act as if an end tag with the tag name
+    &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt;
 
-        &lt;ol&gt;
+    &lt;p&gt;Run the following algorithm:&lt;/p&gt;
 
-         &lt;li&gt;&lt;p&gt;Initialise &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to be the &lt;span&gt;current
-         node&lt;/span&gt; (the bottommost node of the stack).&lt;/p&gt;&lt;/li&gt;
+    &lt;ol&gt;
 
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;dd&lt;/code&gt; or
-         &lt;code&gt;dt&lt;/code&gt; element, then pop all the nodes from the
-         &lt;span&gt;current node&lt;/span&gt; up to &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;,
-         including &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, then stop this algorithm.
-         If more than one node is popped, then this is a &lt;span&gt;parse
-         error&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Initialise &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to be the &lt;span&gt;current
+     node&lt;/span&gt; (the bottommost node of the stack).&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is not in the
-         &lt;span&gt;formatting&lt;/span&gt; category, and is not in the
-         &lt;span&gt;phrasing&lt;/span&gt; category, and is not an
-         &lt;code&gt;address&lt;/code&gt; or &lt;code&gt;div&lt;/code&gt; element, then stop
-         this algorithm.&lt;/p&gt;&lt;/li&gt; &lt;!-- an element &lt;foo&gt; is in this
-         list if the following markup:
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is a &lt;code&gt;dd&lt;/code&gt; or
+     &lt;code&gt;dt&lt;/code&gt; element, then pop all the nodes from the
+     &lt;span&gt;current node&lt;/span&gt; up to &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;,
+     including &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, then stop this algorithm.
+     If more than one node is popped, then this is a &lt;span&gt;parse
+     error&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-             &lt;!DOCTYPE html&gt;&lt;body&gt;&lt;ol&gt;&lt;dt&gt;&lt;foo&gt;&lt;dt&gt;
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is not in the
+     &lt;span&gt;formatting&lt;/span&gt; category, and is not in the
+     &lt;span&gt;phrasing&lt;/span&gt; category, and is not an
+     &lt;code&gt;address&lt;/code&gt; or &lt;code&gt;div&lt;/code&gt; element, then stop
+     this algorithm.&lt;/p&gt;&lt;/li&gt; &lt;!-- an element &lt;foo&gt; is in this
+     list if the following markup:
 
-         ...results in the second &lt;li&gt; not being (in any way) a
-         descendant of the first &lt;li&gt;, or if &lt;foo&gt; is a formatting
-         element that gets reopened later. --&gt;
+         &lt;!DOCTYPE html&gt;&lt;body&gt;&lt;ol&gt;&lt;dt&gt;&lt;foo&gt;&lt;dt&gt;
 
-         &lt;li&gt;&lt;p&gt;Otherwise, set &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to the previous entry
-         in the &lt;span&gt;stack of open elements&lt;/span&gt; and return to step
-         2.&lt;/p&gt;&lt;/li&gt;
+     ...results in the second &lt;li&gt; not being (in any way) a
+     descendant of the first &lt;li&gt;, or if &lt;foo&gt; is a formatting
+     element that gets reopened later. --&gt;
 
-        &lt;/ol&gt;
+     &lt;li&gt;&lt;p&gt;Otherwise, set &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to the previous entry
+     in the &lt;span&gt;stack of open elements&lt;/span&gt; and return to step
+     2.&lt;/p&gt;&lt;/li&gt;
 
-        &lt;p&gt;Finally, &lt;span title=&quot;insert an html element&quot;&gt;insert an
-        HTML element&lt;/span&gt; with the same tag name as the token's.&lt;/p&gt;
+    &lt;/ol&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;Finally, &lt;span title=&quot;insert an html element&quot;&gt;insert an
+    HTML element&lt;/span&gt; with the same tag name as the token's.&lt;/p&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;plaintext&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
-        scope&lt;/span&gt;, then act as if an end tag with the tag name
-        &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;plaintext&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
-        element&lt;/span&gt; for the token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
+    scope&lt;/span&gt;, then act as if an end tag with the tag name
+    &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt;
 
-        &lt;p&gt;Switch the &lt;span&gt;content model flag&lt;/span&gt; to the PLAINTEXT
-        state.&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
+    element&lt;/span&gt; for the token.&lt;/p&gt;
 
-        &lt;p class=&quot;note&quot;&gt;Once a start tag with the tag name &quot;plaintext&quot;
-        has been seen, that will be the last token ever seen other
-        than character tokens (and the end-of-file token), because
-        there is no way to switch the &lt;span&gt;content model flag&lt;/span&gt;
-        out of the PLAINTEXT state.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;content model flag&lt;/span&gt; to the PLAINTEXT
+    state.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p class=&quot;note&quot;&gt;Once a start tag with the tag name &quot;plaintext&quot;
+    has been seen, that will be the last token ever seen other
+    than character tokens (and the end-of-file token), because
+    there is no way to switch the &lt;span&gt;content model flag&lt;/span&gt;
+    out of the PLAINTEXT state.&lt;/p&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;address&quot;,
-       &quot;blockquote&quot;, &quot;center&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;, &quot;fieldset&quot;,
-       &quot;listing&quot;, &quot;menu&quot;, &quot;ol&quot;, &quot;pre&quot;, &quot;ul&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span&gt;has an
-        element in scope&lt;/span&gt; with the same tag name as that of the
-        token, then &lt;span&gt;generate implied end tags&lt;/span&gt;.&lt;/p&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;address&quot;,
+   &quot;blockquote&quot;, &quot;center&quot;, &quot;dir&quot;, &quot;div&quot;, &quot;dl&quot;, &quot;fieldset&quot;,
+   &quot;listing&quot;, &quot;menu&quot;, &quot;ol&quot;, &quot;pre&quot;, &quot;ul&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Now, if the &lt;span&gt;current node&lt;/span&gt; is not an element
-        with the same tag name as that of the token, then this is a
-        &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span&gt;has an
+    element in scope&lt;/span&gt; with the same tag name as that of the
+    token, then &lt;span&gt;generate implied end tags&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span&gt;has an
-        element in scope&lt;/span&gt; with the same tag name as that of the
-        token, then pop elements from this stack until an element with
-        that tag name has been popped from the stack.&lt;/p&gt;
+    &lt;p&gt;Now, if the &lt;span&gt;current node&lt;/span&gt; is not an element
+    with the same tag name as that of the token, then this is a
+    &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;!-- XXX quirk (except for in certain cases?):
-        &lt;p&gt;Otherwise, act as if a start tag with the tag name given in
-        the token had been seen, then reprocess the current token.&lt;/p&gt;
-        --&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span&gt;has an
+    element in scope&lt;/span&gt; with the same tag name as that of the
+    token, then pop elements from this stack until an element with
+    that tag name has been popped from the stack.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;!-- XXX quirk (except for in certain cases?):
+    &lt;p&gt;Otherwise, act as if a start tag with the tag name given in
+    the token had been seen, then reprocess the current token.&lt;/p&gt;
+    --&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;form&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span&gt;has an
-        element in scope&lt;/span&gt; with the same tag name as that of the
-        token, then &lt;span&gt;generate implied end tags&lt;/span&gt;.&lt;/p&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;form&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Now, if the &lt;span&gt;current node&lt;/span&gt; is not an element
-        with the same tag name as that of the token, then this is a
-        &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span&gt;has an
+    element in scope&lt;/span&gt; with the same tag name as that of the
+    token, then &lt;span&gt;generate implied end tags&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Otherwise, if the &lt;span&gt;current node&lt;/span&gt; is an element
-        with the same tag name as that of the token pop that element
-        from the stack.&lt;/p&gt;
+    &lt;p&gt;Now, if the &lt;span&gt;current node&lt;/span&gt; is not an element
+    with the same tag name as that of the token, then this is a
+    &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;In any case, set the &lt;span&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt;
-        element pointer&lt;/span&gt; to null.&lt;/p&gt;
+    &lt;p&gt;Otherwise, if the &lt;span&gt;current node&lt;/span&gt; is an element
+    with the same tag name as that of the token pop that element
+    from the stack.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;In any case, set the &lt;span&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt;
+    element pointer&lt;/span&gt; to null.&lt;/p&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;p&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
-        scope&lt;/span&gt;, then &lt;span&gt;generate implied end tags&lt;/span&gt;,
-        except for &lt;code&gt;p&lt;/code&gt; elements.&lt;/p&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;p&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;p&lt;/code&gt;
-        element, then this is a &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
+    scope&lt;/span&gt;, then &lt;span&gt;generate implied end tags&lt;/span&gt;,
+    except for &lt;code&gt;p&lt;/code&gt; elements.&lt;/p&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
-        scope&lt;/span&gt;, then pop elements from this stack until the
-        stack no longer &lt;span title=&quot;has an element in scope&quot;&gt;has a
-        &lt;code&gt;p&lt;/code&gt; element in scope&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;p&lt;/code&gt;
+    element, then this is a &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Otherwise, act as if a start tag with the tag name
-        &lt;code&gt;p&lt;/code&gt; had been seen, then reprocess the current
-        token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
+    scope&lt;/span&gt;, then pop elements from this stack until the
+    stack no longer &lt;span title=&quot;has an element in scope&quot;&gt;has a
+    &lt;code&gt;p&lt;/code&gt; element in scope&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;Otherwise, act as if a start tag with the tag name
+    &lt;code&gt;p&lt;/code&gt; had been seen, then reprocess the current
+    token.&lt;/p&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;dd&quot;, &quot;dt&quot;, &quot;li&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span&gt;has an
-        element in scope&lt;/span&gt; whose tag name matches the tag name of
-        the token, then &lt;span&gt;generate implied end tags&lt;/span&gt;, except
-        for elements with the same tag name as the token.&lt;/p&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;dd&quot;, &quot;dt&quot;, &quot;li&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is not an element with the
-        same tag name as the token, then this is a &lt;span&gt;parse
-        error&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span&gt;has an
+    element in scope&lt;/span&gt; whose tag name matches the tag name of
+    the token, then &lt;span&gt;generate implied end tags&lt;/span&gt;, except
+    for elements with the same tag name as the token.&lt;/p&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span&gt;has an
-        element in scope&lt;/span&gt; whose tag name matches the tag name of
-        the token, then pop elements from this stack until an element
-        with that tag name has been popped from the stack.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is not an element with the
+    same tag name as the token, then this is a &lt;span&gt;parse
+    error&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span&gt;has an
+    element in scope&lt;/span&gt; whose tag name matches the tag name of
+    the token, then pop elements from this stack until an element
+    with that tag name has been popped from the stack.&lt;/p&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;,
-       &quot;h4&quot;, &quot;h5&quot;, &quot;h6&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
-        scope&lt;/span&gt;, then act as if an end tag with the tag name
-        &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;,
+   &quot;h4&quot;, &quot;h5&quot;, &quot;h6&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;!-- Removed for compatibility with IE7, though all other
-             browsers do it this way. If you do put this back, make
-             sure to handle &lt;h1&gt;&lt;a&gt;&lt;h2&gt;, as in Webkit bug 12646.
-             <A HREF="http://bugs.webkit.org/show_bug.cgi?id=12646">http://bugs.webkit.org/show_bug.cgi?id=12646</A>
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has in scope&lt;/span&gt; an element whose tag
-        name is one of &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, or &quot;h6&quot;, then
-        this is a &lt;span&gt;parse error&lt;/span&gt;; pop elements from the
-        stack until an element with one of those tag names has been
-        popped from the stack.&lt;/p&gt;
-        --&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
+    scope&lt;/span&gt;, then act as if an end tag with the tag name
+    &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
-        element&lt;/span&gt; for the token.&lt;/p&gt;
+    &lt;!-- Removed for compatibility with IE7, though all other
+         browsers do it this way. If you do put this back, make
+         sure to handle &lt;h1&gt;&lt;a&gt;&lt;h2&gt;, as in Webkit bug 12646.
+         <A HREF="http://bugs.webkit.org/show_bug.cgi?id=12646">http://bugs.webkit.org/show_bug.cgi?id=12646</A>
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has in scope&lt;/span&gt; an element whose tag
+    name is one of &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, or &quot;h6&quot;, then
+    this is a &lt;span&gt;parse error&lt;/span&gt;; pop elements from the
+    stack until an element with one of those tag names has been
+    popped from the stack.&lt;/p&gt;
+    --&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
+    element&lt;/span&gt; for the token.&lt;/p&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;,
-       &quot;h4&quot;, &quot;h5&quot;, &quot;h6&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has in scope&lt;/span&gt; an element whose tag
-        name is one of &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, or &quot;h6&quot;, then
-        &lt;span&gt;generate implied end tags&lt;/span&gt;.&lt;/p&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;,
+   &quot;h4&quot;, &quot;h5&quot;, &quot;h6&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Now, if the &lt;span&gt;current node&lt;/span&gt; is not an element
-        with the same tag name as that of the token, then this is a
-        &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has in scope&lt;/span&gt; an element whose tag
+    name is one of &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, or &quot;h6&quot;, then
+    &lt;span&gt;generate implied end tags&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has in scope&lt;/span&gt; an element whose tag
-        name is one of &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, or &quot;h6&quot;, then pop
-        elements from the stack until an element with one of those tag
-        names has been popped from the stack.&lt;/p&gt;
+    &lt;p&gt;Now, if the &lt;span&gt;current node&lt;/span&gt; is not an element
+    with the same tag name as that of the token, then this is a
+    &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;!-- XXX quirk:
-        &lt;p&gt;Otherwise, act as if a start tag with the tag name given in
-        the token had been seen, then reprocess the current token.&lt;/p&gt;
-        --&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has in scope&lt;/span&gt; an element whose tag
+    name is one of &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, or &quot;h6&quot;, then pop
+    elements from the stack until an element with one of those tag
+    names has been popped from the stack.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;!-- XXX quirk:
+    &lt;p&gt;Otherwise, act as if a start tag with the tag name given in
+    the token had been seen, then reprocess the current token.&lt;/p&gt;
+    --&gt;
 
-       &lt;!-- ADOPTION AGENCY ELEMENTS
-            Mozilla-only: bdo blink del ins sub sup q
-            Safari-only: code dfn kbd nobr samp var wbr
-            Both: a b big em font i s small strike strong tt u --&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;a&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;!-- ADOPTION AGENCY ELEMENTS
+        Mozilla-only: bdo blink del ins sub sup q
+        Safari-only: code dfn kbd nobr samp var wbr
+        Both: a b big em font i s small strike strong tt u --&gt;
 
-        &lt;p&gt;If the &lt;span&gt;list of active formatting elements&lt;/span&gt;
-        contains an element whose tag name is &quot;a&quot; between the end of
-        the list and the last marker on the list (or the start of the
-        list if there is no marker on the list), then this is a
-        &lt;span&gt;parse error&lt;/span&gt;; act as if an end tag with the tag
-        name &quot;a&quot; had been seen, then remove that element from the
-        &lt;span&gt;list of active formatting elements&lt;/span&gt; and the
-        &lt;span&gt;stack of open elements&lt;/span&gt; if the end tag didn't
-        already remove it (it might not have if the element is not
-        &lt;span title=&quot;has an element in table scope&quot;&gt;in table
-        scope&lt;/span&gt;).&lt;/p&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;a&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p class=&quot;example&quot;&gt;In the non-conforming stream
-        &lt;code&gt;&lt;a&nbsp;href=&quot;a&quot;&gt;a&lt;table&gt;&lt;a&nbsp;href=&quot;b&quot;&gt;b&lt;/table&gt;x&lt;/code&gt;,
-        the first &lt;code&gt;a&lt;/code&gt; element would be closed upon seeing
-        the second one, and the &quot;x&quot; character would be inside a link
-        to &quot;b&quot;, not to &quot;a&quot;. This is despite the fact that the outer
-        &lt;code&gt;a&lt;/code&gt; element is not in table scope (meaning that a
-        regular &lt;code&gt;&lt;/a&gt;&lt;/code&gt; end tag at the start of the table
-        wouldn't close the outer &lt;code&gt;a&lt;/code&gt; element).&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;list of active formatting elements&lt;/span&gt;
+    contains an element whose tag name is &quot;a&quot; between the end of
+    the list and the last marker on the list (or the start of the
+    list if there is no marker on the list), then this is a
+    &lt;span&gt;parse error&lt;/span&gt;; act as if an end tag with the tag
+    name &quot;a&quot; had been seen, then remove that element from the
+    &lt;span&gt;list of active formatting elements&lt;/span&gt; and the
+    &lt;span&gt;stack of open elements&lt;/span&gt; if the end tag didn't
+    already remove it (it might not have if the element is not
+    &lt;span title=&quot;has an element in table scope&quot;&gt;in table
+    scope&lt;/span&gt;).&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
-        any.&lt;/p&gt;
+    &lt;p class=&quot;example&quot;&gt;In the non-conforming stream
+    &lt;code&gt;&lt;a&nbsp;href=&quot;a&quot;&gt;a&lt;table&gt;&lt;a&nbsp;href=&quot;b&quot;&gt;b&lt;/table&gt;x&lt;/code&gt;,
+    the first &lt;code&gt;a&lt;/code&gt; element would be closed upon seeing
+    the second one, and the &quot;x&quot; character would be inside a link
+    to &quot;b&quot;, not to &quot;a&quot;. This is despite the fact that the outer
+    &lt;code&gt;a&lt;/code&gt; element is not in table scope (meaning that a
+    regular &lt;code&gt;&lt;/a&gt;&lt;/code&gt; end tag at the start of the table
+    wouldn't close the outer &lt;code&gt;a&lt;/code&gt; element).&lt;/p&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
-        element&lt;/span&gt; for the token. Add that element to the
-        &lt;span&gt;list of active formatting elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
+    any.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
+    element&lt;/span&gt; for the token. Add that element to the
+    &lt;span&gt;list of active formatting elements&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;b&quot;, &quot;big&quot;, &quot;em&quot;,
-       &quot;font&quot;, &quot;i&quot;, &quot;s&quot;, &quot;small&quot;, &quot;strike&quot;, &quot;strong&quot;, &quot;tt&quot;, &quot;u&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
-        any.&lt;/p&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;b&quot;, &quot;big&quot;, &quot;em&quot;,
+   &quot;font&quot;, &quot;i&quot;, &quot;s&quot;, &quot;small&quot;, &quot;strike&quot;, &quot;strong&quot;, &quot;tt&quot;, &quot;u&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
-        element&lt;/span&gt; for the token. Add that element to the
-        &lt;span&gt;list of active formatting elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
+    any.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
+    element&lt;/span&gt; for the token. Add that element to the
+    &lt;span&gt;list of active formatting elements&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;nobr&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
-        any.&lt;/p&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;nobr&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has a &lt;code&gt;nobr&lt;/code&gt; element in
-        scope&lt;/span&gt;, then this is a &lt;span&gt;parse error&lt;/span&gt;. Act as
-        if an end tag with the tag name &lt;code&gt;nobr&lt;/code&gt; had been
-        seen, then once again &lt;span&gt;reconstruct the active formatting
-        elements&lt;/span&gt;, if any.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
+    any.&lt;/p&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
-        element&lt;/span&gt; for the token. Add that element to the
-        &lt;span&gt;list of active formatting elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has a &lt;code&gt;nobr&lt;/code&gt; element in
+    scope&lt;/span&gt;, then this is a &lt;span&gt;parse error&lt;/span&gt;. Act as
+    if an end tag with the tag name &lt;code&gt;nobr&lt;/code&gt; had been
+    seen, then once again &lt;span&gt;reconstruct the active formatting
+    elements&lt;/span&gt;, if any.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
+    element&lt;/span&gt; for the token. Add that element to the
+    &lt;span&gt;list of active formatting elements&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;dt id=&quot;adoptionAgency&quot;&gt;An end tag whose tag name is one of:
-       &quot;a&quot;, &quot;b&quot;, &quot;big&quot;, &quot;em&quot;, &quot;font&quot;, &quot;i&quot;, &quot;nobr&quot;, &quot;s&quot;, &quot;small&quot;,
-       &quot;strike&quot;, &quot;strong&quot;, &quot;tt&quot;, &quot;u&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;Follow these steps:&lt;/p&gt;
+   &lt;dt id=&quot;adoptionAgency&quot;&gt;An end tag whose tag name is one of:
+   &quot;a&quot;, &quot;b&quot;, &quot;big&quot;, &quot;em&quot;, &quot;font&quot;, &quot;i&quot;, &quot;nobr&quot;, &quot;s&quot;, &quot;small&quot;,
+   &quot;strike&quot;, &quot;strong&quot;, &quot;tt&quot;, &quot;u&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;ol&gt;
+    &lt;p&gt;Follow these steps:&lt;/p&gt;
 
-         &lt;li&gt;
+    &lt;ol&gt;
 
-          &lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;formatting element&lt;/var&gt; be the
-          last element in the &lt;span&gt;list of active formatting
-          elements&lt;/span&gt; that:&lt;/p&gt;
+     &lt;li&gt;
 
-          &lt;ul&gt;
+      &lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;formatting element&lt;/var&gt; be the
+      last element in the &lt;span&gt;list of active formatting
+      elements&lt;/span&gt; that:&lt;/p&gt;
 
-           &lt;li&gt;is between the end of the list and the last scope
-           marker in the list, if any, or the start of the list
-           otherwise, and&lt;/li&gt;
+      &lt;ul&gt;
 
-           &lt;li&gt;has the same tag name as the token.&lt;/li&gt;
+       &lt;li&gt;is between the end of the list and the last scope
+       marker in the list, if any, or the start of the list
+       otherwise, and&lt;/li&gt;
 
-          &lt;/ul&gt;
+       &lt;li&gt;has the same tag name as the token.&lt;/li&gt;
 
-          &lt;p&gt;If there is no such node, or, if that node is also in the
-          &lt;span&gt;stack of open elements&lt;/span&gt; but the element is not
-          &lt;span title=&quot;has an element in scope&quot;&gt;in scope&lt;/span&gt;, then
-          this is a &lt;span&gt;parse error&lt;/span&gt;. Abort these steps. The
-          token is ignored.&lt;/p&gt;
+      &lt;/ul&gt;
 
-          &lt;p&gt;Otherwise, if there is such a node, but that node is not
-          in the &lt;span&gt;stack of open elements&lt;/span&gt;, then this is a
-          &lt;span&gt;parse error&lt;/span&gt;; remove the element from the list,
-          and abort these steps.&lt;/p&gt;
+      &lt;p&gt;If there is no such node, or, if that node is also in the
+      &lt;span&gt;stack of open elements&lt;/span&gt; but the element is not
+      &lt;span title=&quot;has an element in scope&quot;&gt;in scope&lt;/span&gt;, then
+      this is a &lt;span&gt;parse error&lt;/span&gt;. Abort these steps. The
+      token is ignored.&lt;/p&gt;
 
-          &lt;p&gt;Otherwise, there is a &lt;var title=&quot;&quot;&gt;formatting
-          element&lt;/var&gt; and that element is in &lt;span title=&quot;stack of
-          open elements&quot;&gt;the stack&lt;/span&gt; and is &lt;span title=&quot;has an
-          element in scope&quot;&gt;in scope&lt;/span&gt;. If the element is not the
-          &lt;span&gt;current node&lt;/span&gt;, this is a &lt;span&gt;parse
-          error&lt;/span&gt;. In any case, proceed with the algorithm as
-          written in the following steps.&lt;/p&gt;
+      &lt;p&gt;Otherwise, if there is such a node, but that node is not
+      in the &lt;span&gt;stack of open elements&lt;/span&gt;, then this is a
+      &lt;span&gt;parse error&lt;/span&gt;; remove the element from the list,
+      and abort these steps.&lt;/p&gt;
 
-         &lt;/li&gt;
+      &lt;p&gt;Otherwise, there is a &lt;var title=&quot;&quot;&gt;formatting
+      element&lt;/var&gt; and that element is in &lt;span title=&quot;stack of
+      open elements&quot;&gt;the stack&lt;/span&gt; and is &lt;span title=&quot;has an
+      element in scope&quot;&gt;in scope&lt;/span&gt;. If the element is not the
+      &lt;span&gt;current node&lt;/span&gt;, this is a &lt;span&gt;parse
+      error&lt;/span&gt;. In any case, proceed with the algorithm as
+      written in the following steps.&lt;/p&gt;
 
-         &lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt; be the
-         topmost node in the &lt;span&gt;stack of open elements&lt;/span&gt; that
-         is lower in the stack than the &lt;var title=&quot;&quot;&gt;formatting
-         element&lt;/var&gt;, and is not an element in the
-         &lt;span&gt;phrasing&lt;/span&gt; or &lt;span&gt;formatting&lt;/span&gt;
-         categories. There might not be one.&lt;/p&gt;&lt;/li&gt;
+     &lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;If there is no &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt;,
-         then the UA must skip the subsequent steps and instead just
-         pop all the nodes from the bottom of the &lt;span&gt;stack of open
-         elements&lt;/span&gt;, from the &lt;span&gt;current node&lt;/span&gt; up to and
-         including the &lt;var title=&quot;&quot;&gt;formatting element&lt;/var&gt;, and
-         remove the &lt;var title=&quot;&quot;&gt;formatting element&lt;/var&gt; from the
-         &lt;span&gt;list of active formatting elements&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt; be the
+     topmost node in the &lt;span&gt;stack of open elements&lt;/span&gt; that
+     is lower in the stack than the &lt;var title=&quot;&quot;&gt;formatting
+     element&lt;/var&gt;, and is not an element in the
+     &lt;span&gt;phrasing&lt;/span&gt; or &lt;span&gt;formatting&lt;/span&gt;
+     categories. There might not be one.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;common ancestor&lt;/var&gt; be the element
-         immediately above the &lt;var title=&quot;&quot;&gt;formatting element&lt;/var&gt; in the
-         &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If there is no &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt;,
+     then the UA must skip the subsequent steps and instead just
+     pop all the nodes from the bottom of the &lt;span&gt;stack of open
+     elements&lt;/span&gt;, from the &lt;span&gt;current node&lt;/span&gt; up to and
+     including the &lt;var title=&quot;&quot;&gt;formatting element&lt;/var&gt;, and
+     remove the &lt;var title=&quot;&quot;&gt;formatting element&lt;/var&gt; from the
+     &lt;span&gt;list of active formatting elements&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt; has a parent node,
-         then remove the &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt; from its parent
-         node.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Let the &lt;var title=&quot;&quot;&gt;common ancestor&lt;/var&gt; be the element
+     immediately above the &lt;var title=&quot;&quot;&gt;formatting element&lt;/var&gt; in the
+     &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Let a bookmark note the position of the &lt;var
-         title=&quot;&quot;&gt;formatting element&lt;/var&gt; in the &lt;span&gt;list of active
-         formatting elements&lt;/span&gt; relative to the elements on either
-         side of it in the list.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt; has a parent node,
+     then remove the &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt; from its parent
+     node.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;
+     &lt;li&gt;&lt;p&gt;Let a bookmark note the position of the &lt;var
+     title=&quot;&quot;&gt;formatting element&lt;/var&gt; in the &lt;span&gt;list of active
+     formatting elements&lt;/span&gt; relative to the elements on either
+     side of it in the list.&lt;/p&gt;&lt;/li&gt;
 
-          &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; be the
-          &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt;. Follow these steps:&lt;/p&gt;
+     &lt;li&gt;
 
-          &lt;ol&gt;
+      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; be the
+      &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt;. Follow these steps:&lt;/p&gt;
 
-           &lt;li&gt;Let &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; be the element immediately prior to
-           &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;span&gt;stack of open
-           elements&lt;/span&gt;.&lt;/li&gt;
+      &lt;ol&gt;
 
-           &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is not in the &lt;span&gt;list of
-           active formatting elements&lt;/span&gt;, then remove &lt;var
-           title=&quot;&quot;&gt;node&lt;/var&gt; from the &lt;span&gt;stack of open
-           elements&lt;/span&gt; and then go back to step 1.&lt;/li&gt;
+       &lt;li&gt;Let &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; be the element immediately prior to
+       &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;span&gt;stack of open
+       elements&lt;/span&gt;.&lt;/li&gt;
 
-           &lt;li&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is the &lt;var
-           title=&quot;&quot;&gt;formatting element&lt;/var&gt;, then go to the next step
-           in the overall algorithm.&lt;/li&gt;
+       &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is not in the &lt;span&gt;list of
+       active formatting elements&lt;/span&gt;, then remove &lt;var
+       title=&quot;&quot;&gt;node&lt;/var&gt; from the &lt;span&gt;stack of open
+       elements&lt;/span&gt; and then go back to step 1.&lt;/li&gt;
 
-           &lt;li&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; is the &lt;var
-           title=&quot;&quot;&gt;furthest block&lt;/var&gt;, then move the aforementioned
-           bookmark to be immediately after the &lt;var
-           title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;span&gt;list of active formatting
-           elements&lt;/span&gt;.&lt;/li&gt;
+       &lt;li&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is the &lt;var
+       title=&quot;&quot;&gt;formatting element&lt;/var&gt;, then go to the next step
+       in the overall algorithm.&lt;/li&gt;
 
-           &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; has any children, perform a shallow
-           clone of &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, replace the entry for
-           &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;span&gt;list of active formatting
-           elements&lt;/span&gt; with an entry for the clone, replace the
-           entry for &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;span&gt;stack of open
-           elements&lt;/span&gt; with an entry for the clone, and let
-           &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; be the clone.&lt;/li&gt;
+       &lt;li&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; is the &lt;var
+       title=&quot;&quot;&gt;furthest block&lt;/var&gt;, then move the aforementioned
+       bookmark to be immediately after the &lt;var
+       title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;span&gt;list of active formatting
+       elements&lt;/span&gt;.&lt;/li&gt;
 
-           &lt;li&gt;Insert &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; into &lt;var
-           title=&quot;&quot;&gt;node&lt;/var&gt;, first removing it from its previous
-           parent node if any.&lt;/li&gt;
+       &lt;li&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; has any children, perform a shallow
+       clone of &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, replace the entry for
+       &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;span&gt;list of active formatting
+       elements&lt;/span&gt; with an entry for the clone, replace the
+       entry for &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; in the &lt;span&gt;stack of open
+       elements&lt;/span&gt; with an entry for the clone, and let
+       &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; be the clone.&lt;/li&gt;
 
-           &lt;li&gt;Let &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;.&lt;/li&gt;
+       &lt;li&gt;Insert &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; into &lt;var
+       title=&quot;&quot;&gt;node&lt;/var&gt;, first removing it from its previous
+       parent node if any.&lt;/li&gt;
 
-           &lt;li&gt;Return to step 1 of this inner set of steps.&lt;/li&gt;
+       &lt;li&gt;Let &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;.&lt;/li&gt;
 
-          &lt;/ol&gt;
+       &lt;li&gt;Return to step 1 of this inner set of steps.&lt;/li&gt;
 
-         &lt;/li&gt;
+      &lt;/ol&gt;
 
-         &lt;li&gt;&lt;p&gt;Insert whatever &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; ended up
-         being in the previous step into the &lt;var title=&quot;&quot;&gt;common
-         ancestor&lt;/var&gt; node, first removing it from its previous
-         parent node if any.&lt;/p&gt;&lt;/li&gt;
+     &lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Perform a shallow clone of the &lt;var title=&quot;&quot;&gt;formatting
-         element&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Insert whatever &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; ended up
+     being in the previous step into the &lt;var title=&quot;&quot;&gt;common
+     ancestor&lt;/var&gt; node, first removing it from its previous
+     parent node if any.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Take all of the child nodes of the &lt;var title=&quot;&quot;&gt;furthest
-         block&lt;/var&gt; and append them to the clone created in the last
-         step.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Perform a shallow clone of the &lt;var title=&quot;&quot;&gt;formatting
+     element&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Append that clone to the &lt;var title=&quot;&quot;&gt;furthest
-         block&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Take all of the child nodes of the &lt;var title=&quot;&quot;&gt;furthest
+     block&lt;/var&gt; and append them to the clone created in the last
+     step.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Remove the &lt;var title=&quot;&quot;&gt;formatting element&lt;/var&gt; from the
-         &lt;span&gt;list of active formatting elements&lt;/span&gt;, and insert
-         the clone into the &lt;span&gt;list of active formatting
-         elements&lt;/span&gt; at the position of the aforementioned
-         bookmark.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Append that clone to the &lt;var title=&quot;&quot;&gt;furthest
+     block&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Remove the &lt;var title=&quot;&quot;&gt;formatting element&lt;/var&gt; from the
-         &lt;span&gt;stack of open elements&lt;/span&gt;, and insert the clone
-         into the &lt;span&gt;stack of open elements&lt;/span&gt; immediately
-         after (i.e. in a more deeply nested position than) the
-         position of the &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt; in that
-         stack.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Remove the &lt;var title=&quot;&quot;&gt;formatting element&lt;/var&gt; from the
+     &lt;span&gt;list of active formatting elements&lt;/span&gt;, and insert
+     the clone into the &lt;span&gt;list of active formatting
+     elements&lt;/span&gt; at the position of the aforementioned
+     bookmark.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Jump back to step 1 in this series of steps.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Remove the &lt;var title=&quot;&quot;&gt;formatting element&lt;/var&gt; from the
+     &lt;span&gt;stack of open elements&lt;/span&gt;, and insert the clone
+     into the &lt;span&gt;stack of open elements&lt;/span&gt; immediately
+     after (i.e. in a more deeply nested position than) the
+     position of the &lt;var title=&quot;&quot;&gt;furthest block&lt;/var&gt; in that
+     stack.&lt;/p&gt;&lt;/li&gt;
 
-        &lt;/ol&gt;
+     &lt;li&gt;&lt;p&gt;Jump back to step 1 in this series of steps.&lt;/p&gt;&lt;/li&gt;
 
-        &lt;p class=&quot;note&quot;&gt;The way these steps are defined, only elements
-        in the &lt;span&gt;formatting&lt;/span&gt; category ever get cloned by
-        this algorithm.&lt;/p&gt;
+    &lt;/ol&gt;
 
+    &lt;p class=&quot;note&quot;&gt;The way these steps are defined, only elements
+    in the &lt;span&gt;formatting&lt;/span&gt; category ever get cloned by
+    this algorithm.&lt;/p&gt;
+
 &lt;!--XXX
-        &lt;div class=&quot;example&quot;&gt;
-         &lt;p class=&quot;big-issue&quot;&gt;Need an example.&lt;/p&gt;
-        &lt;/div&gt;
+    &lt;div class=&quot;example&quot;&gt;
+     &lt;p class=&quot;big-issue&quot;&gt;Need an example.&lt;/p&gt;
+    &lt;/div&gt;
 --&gt;
 
-        &lt;p class=&quot;note&quot;&gt;Because of the way this algorithm causes elements to
-        change parents, it has been dubbed the &quot;adoption agency algorithm&quot;
-        (in contrast with other possibly algorithms for dealing with
-        misnested content, which included the &quot;incest algorithm&quot;, the
-        &quot;secret affair algorithm&quot;, and the &quot;Heisenberg algorithm&quot;).&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;Because of the way this algorithm causes elements to
+    change parents, it has been dubbed the &quot;adoption agency algorithm&quot;
+    (in contrast with other possibly algorithms for dealing with
+    misnested content, which included the &quot;incest algorithm&quot;, the
+    &quot;secret affair algorithm&quot;, and the &quot;Heisenberg algorithm&quot;).&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;button&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has a &lt;code&gt;button&lt;/code&gt; element in
-        scope&lt;/span&gt;, then this is a &lt;span&gt;parse error&lt;/span&gt;;
-        act as if an end tag with the tag name &quot;button&quot; had been seen,
-        then reprocess the token.&lt;/p&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;button&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Otherwise:&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has a &lt;code&gt;button&lt;/code&gt; element in
+    scope&lt;/span&gt;, then this is a &lt;span&gt;parse error&lt;/span&gt;;
+    act as if an end tag with the tag name &quot;button&quot; had been seen,
+    then reprocess the token.&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
-        any.&lt;/p&gt;
+    &lt;p&gt;Otherwise:&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
+    any.&lt;/p&gt;
 
-        &lt;p&gt;Insert a marker at the end of the &lt;span&gt;list of active
-        formatting elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;Insert a marker at the end of the &lt;span&gt;list of active
+    formatting elements&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;dt&gt;A start tag token whose tag name is one of: &quot;marquee&quot;,
-       &quot;object&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
-        any.&lt;/p&gt;
+   &lt;dt&gt;A start tag token whose tag name is one of: &quot;marquee&quot;,
+   &quot;object&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
+    any.&lt;/p&gt;
 
-        &lt;p&gt;Insert a marker at the end of the &lt;span&gt;list of active
-        formatting elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;Insert a marker at the end of the &lt;span&gt;list of active
+    formatting elements&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;dt&gt;An end tag token whose tag name is one of: &quot;button&quot;,
-       &quot;marquee&quot;, &quot;object&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has in scope&lt;/span&gt; an element whose tag
-        name is the same as the tag name of the token, then
-        &lt;span&gt;generate implied end tags&lt;/span&gt;.&lt;/p&gt;
+   &lt;dt&gt;An end tag token whose tag name is one of: &quot;button&quot;,
+   &quot;marquee&quot;, &quot;object&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Now, if the &lt;span&gt;current node&lt;/span&gt; is not an element
-        with the same tag name as the token, then this is a
-        &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has in scope&lt;/span&gt; an element whose tag
+    name is the same as the tag name of the token, then
+    &lt;span&gt;generate implied end tags&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Now, if the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span&gt;has
-        an element in scope&lt;/span&gt; whose tag name matches the tag name
-        of the token, then pop elements from the stack until that
-        element has been popped from the stack, and &lt;span&gt;clear the
-        list of active formatting elements up to the last
-        marker&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Now, if the &lt;span&gt;current node&lt;/span&gt; is not an element
+    with the same tag name as the token, then this is a
+    &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;Now, if the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span&gt;has
+    an element in scope&lt;/span&gt; whose tag name matches the tag name
+    of the token, then pop elements from the stack until that
+    element has been popped from the stack, and &lt;span&gt;clear the
+    list of active formatting elements up to the last
+    marker&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;xmp&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
-        any.&lt;/p&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;xmp&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Follow the &lt;span&gt;generic CDATA parsing algorithm&lt;/span&gt;,
-        with the &lt;span&gt;current node&lt;/span&gt; as the &lt;var
-        title=&quot;&quot;&gt;context node&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
+    any.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;Follow the &lt;span&gt;generic CDATA parsing algorithm&lt;/span&gt;,
+    with the &lt;span&gt;current node&lt;/span&gt; as the &lt;var
+    title=&quot;&quot;&gt;context node&lt;/var&gt;.&lt;/p&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;table&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
-        scope&lt;/span&gt;, then act as if an end tag with the tag name
-        &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt; &lt;!-- XXX quirks: don't do this --&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;table&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
+    scope&lt;/span&gt;, then act as if an end tag with the tag name
+    &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt; &lt;!-- XXX quirks: don't do this --&gt;
 
-        &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-        title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+    title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;area&quot;, &quot;basefont&quot;,
-       &quot;bgsound&quot;, &quot;br&quot;, &quot;embed&quot;, &quot;img&quot;, &quot;param&quot;, &quot;spacer&quot;, &quot;wbr&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
-        any.&lt;/p&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;area&quot;, &quot;basefont&quot;,
+   &quot;bgsound&quot;, &quot;br&quot;, &quot;embed&quot;, &quot;img&quot;, &quot;param&quot;, &quot;spacer&quot;, &quot;wbr&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
-        element&lt;/span&gt; for the token. Immediately pop the
-        &lt;span&gt;current node&lt;/span&gt; off the &lt;span&gt;stack of open
-        elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
+    any.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
+    element&lt;/span&gt; for the token. Immediately pop the
+    &lt;span&gt;current node&lt;/span&gt; off the &lt;span&gt;stack of open
+    elements&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;hr&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
-        an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
-        scope&lt;/span&gt;, then act as if an end tag with the tag name
-        &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt; &lt;!-- XXX quirks: don't do this --&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;hr&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
-        element&lt;/span&gt; for the token. Immediately pop the
-        &lt;span&gt;current node&lt;/span&gt; off the &lt;span&gt;stack of open
-        elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span title=&quot;has
+    an element in scope&quot;&gt;has a &lt;code&gt;p&lt;/code&gt; element in
+    scope&lt;/span&gt;, then act as if an end tag with the tag name
+    &lt;code&gt;p&lt;/code&gt; had been seen.&lt;/p&gt; &lt;!-- XXX quirks: don't do this --&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an HTML
+    element&lt;/span&gt; for the token. Immediately pop the
+    &lt;span&gt;current node&lt;/span&gt; off the &lt;span&gt;stack of open
+    elements&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;image&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Change the token's tag name
-        to &quot;img&quot; and reprocess it. (Don't ask.)&lt;/p&gt; &lt;!-- As of
-        2005-12, studies showed that around 0.2% of pages used the
-        &lt;image&gt; element. --&gt;
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;input&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;image&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Change the token's tag name
+    to &quot;img&quot; and reprocess it. (Don't ask.)&lt;/p&gt; &lt;!-- As of
+    2005-12, studies showed that around 0.2% of pages used the
+    &lt;image&gt; element. --&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
-        any.&lt;/p&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;input&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an
-        &lt;code&gt;input&lt;/code&gt; element&lt;/span&gt; for the token.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
+    any.&lt;/p&gt;
 
-        &lt;p&gt;If the &lt;span&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element
-        pointer&lt;/span&gt; is not null, then &lt;span&gt;associate&lt;/span&gt;&lt;!--XXX
-        xref! --&gt; the &lt;code&gt;input&lt;/code&gt; element with the
-        &lt;code&gt;form&lt;/code&gt; element pointed to by the &lt;span&gt;&lt;code
-        title=&quot;&quot;&gt;form&lt;/code&gt; element pointer&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an html element&quot;&gt;Insert an
+    &lt;code&gt;input&lt;/code&gt; element&lt;/span&gt; for the token.&lt;/p&gt;
 
-        &lt;p&gt;Pop that &lt;code&gt;input&lt;/code&gt; element off the &lt;span&gt;stack of
-        open elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element
+    pointer&lt;/span&gt; is not null, then &lt;span&gt;associate&lt;/span&gt;&lt;!--XXX
+    xref! --&gt; the &lt;code&gt;input&lt;/code&gt; element with the
+    &lt;code&gt;form&lt;/code&gt; element pointed to by the &lt;span&gt;&lt;code
+    title=&quot;&quot;&gt;form&lt;/code&gt; element pointer&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p&gt;Pop that &lt;code&gt;input&lt;/code&gt; element off the &lt;span&gt;stack of
+    open elements&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;dt id=&quot;isindex&quot;&gt;A start tag whose tag name is &quot;isindex&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;/dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
+   &lt;dt id=&quot;isindex&quot;&gt;A start tag whose tag name is &quot;isindex&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element
-        pointer&lt;/span&gt; is not null, then ignore the token.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Otherwise:&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element
+    pointer&lt;/span&gt; is not null, then ignore the token.&lt;/p&gt;
 
-        &lt;p&gt;Act as if a start tag token with the tag name &quot;form&quot; had been seen.&lt;/p&gt;
+    &lt;p&gt;Otherwise:&lt;/p&gt;
 
-        &lt;p&gt;If the token has an attribute called &quot;action&quot;, set the
-        &lt;code title=&quot;attr-form-action&quot;&gt;action&lt;/code&gt; attribute on the
-        resulting &lt;code&gt;form&lt;/code&gt; element to the value of the
-        &quot;action&quot; attribute of the token.&lt;/p&gt;
+    &lt;p&gt;Act as if a start tag token with the tag name &quot;form&quot; had been seen.&lt;/p&gt;
 
-        &lt;p&gt;Act as if a start tag token with the tag name &quot;hr&quot; had been seen.&lt;/p&gt;
+    &lt;p&gt;If the token has an attribute called &quot;action&quot;, set the
+    &lt;code title=&quot;attr-form-action&quot;&gt;action&lt;/code&gt; attribute on the
+    resulting &lt;code&gt;form&lt;/code&gt; element to the value of the
+    &quot;action&quot; attribute of the token.&lt;/p&gt;
 
-        &lt;p&gt;Act as if a start tag token with the tag name &quot;p&quot; had been seen.&lt;/p&gt;
+    &lt;p&gt;Act as if a start tag token with the tag name &quot;hr&quot; had been seen.&lt;/p&gt;
 
-        &lt;p&gt;Act as if a start tag token with the tag name &quot;label&quot; had been seen.&lt;/p
+    &lt;p&gt;Act as if a start tag token with the tag name &quot;p&quot; had been seen.&lt;/p&gt;
 
-        &lt;p&gt;Act as if a stream of character tokens had been seen (see
-        below for what they should say).&lt;/p&gt;
+    &lt;p&gt;Act as if a start tag token with the tag name &quot;label&quot; had been seen.&lt;/p
 
-        &lt;p&gt;Act as if a start tag token with the tag name &quot;input&quot; had
-        been seen, with all the attributes from the &quot;isindex&quot; token
-        except &quot;name&quot;, &quot;action&quot;, and &quot;prompt&quot;. Set the &lt;code
-        title=&quot;attr-input-name&quot;&gt;name&lt;/code&gt; attribute of the resulting
-        &lt;code&gt;input&lt;/code&gt; element to the value &quot;&lt;code
-        title=&quot;&quot;&gt;isindex&lt;/code&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Act as if a stream of character tokens had been seen (see
+    below for what they should say).&lt;/p&gt;
 
-        &lt;p&gt;Act as if a stream of character tokens had been seen (see
-        below for what they should say).&lt;/p&gt;
+    &lt;p&gt;Act as if a start tag token with the tag name &quot;input&quot; had
+    been seen, with all the attributes from the &quot;isindex&quot; token
+    except &quot;name&quot;, &quot;action&quot;, and &quot;prompt&quot;. Set the &lt;code
+    title=&quot;attr-input-name&quot;&gt;name&lt;/code&gt; attribute of the resulting
+    &lt;code&gt;input&lt;/code&gt; element to the value &quot;&lt;code
+    title=&quot;&quot;&gt;isindex&lt;/code&gt;&quot;.&lt;/p&gt;
 
-        &lt;p&gt;Act as if an end tag token with the tag name &quot;label&quot; had been seen.&lt;/p&gt;
+    &lt;p&gt;Act as if a stream of character tokens had been seen (see
+    below for what they should say).&lt;/p&gt;
 
-        &lt;p&gt;Act as if an end tag token with the tag name &quot;p&quot; had been seen.&lt;/p&gt;
+    &lt;p&gt;Act as if an end tag token with the tag name &quot;label&quot; had been seen.&lt;/p&gt;
 
-        &lt;p&gt;Act as if a start tag token with the tag name &quot;hr&quot; had been seen.&lt;/p&gt;
+    &lt;p&gt;Act as if an end tag token with the tag name &quot;p&quot; had been seen.&lt;/p&gt;
 
-        &lt;p&gt;Act as if an end tag token with the tag name &quot;form&quot; had been seen.&lt;/p&gt;
+    &lt;p&gt;Act as if a start tag token with the tag name &quot;hr&quot; had been seen.&lt;/p&gt;
 
-        &lt;p&gt;If the token has an attribute with the name &quot;prompt&quot;, then
-        the first stream of characters must be the same string as
-        given in that attribute, and the second stream of characters
-        must be empty. Otherwise, the two streams of character tokens
-        together should, together with the &lt;code&gt;input&lt;/code&gt; element,
-        express the equivalent of &quot;This is a searchable index. Insert
-        your search keywords here: (input field)&quot; in the user's
-        preferred language.&lt;/p&gt;
+    &lt;p&gt;Act as if an end tag token with the tag name &quot;form&quot; had been seen.&lt;/p&gt;
 
-        &lt;p class=&quot;big-issue&quot;&gt;
-        Then need to specify that if the form submission causes just a single
-        form control, whose name is &quot;isindex&quot;, to be submitted, then we submit
-        just the value part, not the &quot;isindex=&quot; part.
-        &lt;/p&gt;
+    &lt;p&gt;If the token has an attribute with the name &quot;prompt&quot;, then
+    the first stream of characters must be the same string as
+    given in that attribute, and the second stream of characters
+    must be empty. Otherwise, the two streams of character tokens
+    together should, together with the &lt;code&gt;input&lt;/code&gt; element,
+    express the equivalent of &quot;This is a searchable index. Insert
+    your search keywords here: (input field)&quot; in the user's
+    preferred language.&lt;/p&gt;
 
-       &lt;/dd&gt;
+    &lt;p class=&quot;big-issue&quot;&gt;
+    Then need to specify that if the form submission causes just a single
+    form control, whose name is &quot;isindex&quot;, to be submitted, then we submit
+    just the value part, not the &quot;isindex=&quot; part.
+    &lt;/p&gt;
 
+   &lt;/dd&gt;
+
 &lt;!-- XXX keygen support; don't forget form element pointer!
 
-       &lt;dt&gt;A start tag whose tag name is &quot;keygen&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        ...
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;keygen&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    ...
+   &lt;/dd&gt;
 --&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;textarea&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;textarea&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Create an element for the token&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Create an element for the token&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;If the &lt;span&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element
-        pointer&lt;/span&gt; is not null, then &lt;span&gt;associate&lt;/span&gt;&lt;!--XXX
-        xref! --&gt; the &lt;code&gt;textarea&lt;/code&gt; element with the
-        &lt;code&gt;form&lt;/code&gt; element pointed to by the &lt;span&gt;&lt;code
-        title=&quot;&quot;&gt;form&lt;/code&gt; element pointer&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;&lt;code title=&quot;&quot;&gt;form&lt;/code&gt; element
+    pointer&lt;/span&gt; is not null, then &lt;span&gt;associate&lt;/span&gt;&lt;!--XXX
+    xref! --&gt; the &lt;code&gt;textarea&lt;/code&gt; element with the
+    &lt;code&gt;form&lt;/code&gt; element pointed to by the &lt;span&gt;&lt;code
+    title=&quot;&quot;&gt;form&lt;/code&gt; element pointer&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Append the new element to the &lt;span&gt;current
-        node&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Append the new element to the &lt;span&gt;current
+    node&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Switch the tokeniser's &lt;span&gt;content model flag&lt;/span&gt; to
-        the RCDATA state.&lt;/p&gt;
+    &lt;p&gt;Switch the tokeniser's &lt;span&gt;content model flag&lt;/span&gt; to
+    the RCDATA state.&lt;/p&gt;
 
-        &lt;p&gt;If the next token is a U+000A LINE FEED (LF) character
-        token, then ignore that token and move on to the next
-        one. (Newlines at the start of &lt;code&gt;textarea&lt;/code&gt; elements
-        are ignored as an authoring convenience.)&lt;/p&gt;
+    &lt;p&gt;If the next token is a U+000A LINE FEED (LF) character
+    token, then ignore that token and move on to the next
+    one. (Newlines at the start of &lt;code&gt;textarea&lt;/code&gt; elements
+    are ignored as an authoring convenience.)&lt;/p&gt;
 
-        &lt;p&gt;Then, collect all the character tokens that the tokeniser
-        returns until it returns a token that is not a character
-        token, or until it stops tokenising.&lt;/p&gt;
+    &lt;p&gt;Then, collect all the character tokens that the tokeniser
+    returns until it returns a token that is not a character
+    token, or until it stops tokenising.&lt;/p&gt;
 
-        &lt;p&gt;If this process resulted in a collection of character
-        tokens, append a single &lt;code&gt;Text&lt;/code&gt; node, whose contents
-        is the concatenation of all those tokens' characters, to the
-        new element node.&lt;/p&gt;
+    &lt;p&gt;If this process resulted in a collection of character
+    tokens, append a single &lt;code&gt;Text&lt;/code&gt; node, whose contents
+    is the concatenation of all those tokens' characters, to the
+    new element node.&lt;/p&gt;
 
-        &lt;p&gt;The tokeniser's &lt;span&gt;content model flag&lt;/span&gt; will have
-        switched back to the PCDATA state.&lt;/p&gt;
+    &lt;p&gt;The tokeniser's &lt;span&gt;content model flag&lt;/span&gt; will have
+    switched back to the PCDATA state.&lt;/p&gt;
 
-        &lt;p&gt;If the next token is an end tag token with the tag name
-        &quot;textarea&quot;, ignore it. Otherwise, this is a &lt;span&gt;parse
-        error&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the next token is an end tag token with the tag name
+    &quot;textarea&quot;, ignore it. Otherwise, this is a &lt;span&gt;parse
+    error&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;iframe&quot;,
-       &quot;noembed&quot;, &quot;noframes&quot;&lt;/dt&gt;
-       &lt;dt&gt;A start tag whose tag name is &quot;noscript&quot;, if
-       &lt;span&gt;scripting is enabled&lt;/span&gt;:&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;iframe&quot;,
+   &quot;noembed&quot;, &quot;noframes&quot;&lt;/dt&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;noscript&quot;, if
+   &lt;span&gt;scripting is enabled&lt;/span&gt;:&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Follow the &lt;span&gt;generic CDATA parsing algorithm&lt;/span&gt;,
-        with the &lt;span&gt;current node&lt;/span&gt; as the &lt;var
-        title=&quot;&quot;&gt;context node&lt;/var&gt;.&lt;/p&gt;
+    &lt;p&gt;Follow the &lt;span&gt;generic CDATA parsing algorithm&lt;/span&gt;,
+    with the &lt;span&gt;current node&lt;/span&gt; as the &lt;var
+    title=&quot;&quot;&gt;context node&lt;/var&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;select&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;select&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
-        any.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
+    any.&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
 
-        &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-        title=&quot;insertion mode: in select&quot;&gt;in select&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+    title=&quot;insertion mode: in select&quot;&gt;in select&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;br&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Act as if a start tag token with
-        the tag name &quot;br&quot; had been seen. Ignore the end tag token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;br&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Act as if a start tag token with
+    the tag name &quot;br&quot; had been seen. Ignore the end tag token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start or end tag whose tag name is one of: &quot;caption&quot;,
-       &quot;col&quot;, &quot;colgroup&quot;, &quot;frame&quot;, &quot;frameset&quot;, &quot;head&quot;, &quot;option&quot;,
-       &quot;optgroup&quot;, &quot;tbody&quot;, &quot;td&quot;, &quot;tfoot&quot;, &quot;th&quot;, &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;area&quot;, &quot;basefont&quot;,
-       &quot;bgsound&quot;, &lt;!--XXX quirks: remove br--&gt;&quot;br&quot;, &quot;embed&quot;, &quot;hr&quot;,
-       &quot;iframe&quot;, &quot;image&quot;, &quot;img&quot;, &quot;input&quot;, &quot;isindex&quot;, &quot;noembed&quot;,
-       &quot;noframes&quot;, &quot;param&quot;, &quot;select&quot;, &quot;spacer&quot;, &quot;table&quot;, &quot;textarea&quot;,
-       &quot;wbr&quot;&lt;/dt&gt; &lt;!-- add keygen if we add the start tag --&gt;
-       &lt;dt&gt;An end tag whose tag name is &quot;noscript&quot;, if &lt;span&gt;scripting
-       is enabled&lt;/span&gt;:&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start or end tag whose tag name is one of: &quot;caption&quot;,
+   &quot;col&quot;, &quot;colgroup&quot;, &quot;frame&quot;, &quot;frameset&quot;, &quot;head&quot;, &quot;option&quot;,
+   &quot;optgroup&quot;, &quot;tbody&quot;, &quot;td&quot;, &quot;tfoot&quot;, &quot;th&quot;, &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;area&quot;, &quot;basefont&quot;,
+   &quot;bgsound&quot;, &lt;!--XXX quirks: remove br--&gt;&quot;br&quot;, &quot;embed&quot;, &quot;hr&quot;,
+   &quot;iframe&quot;, &quot;image&quot;, &quot;img&quot;, &quot;input&quot;, &quot;isindex&quot;, &quot;noembed&quot;,
+   &quot;noframes&quot;, &quot;param&quot;, &quot;select&quot;, &quot;spacer&quot;, &quot;table&quot;, &quot;textarea&quot;,
+   &quot;wbr&quot;&lt;/dt&gt; &lt;!-- add keygen if we add the start tag --&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;noscript&quot;, if &lt;span&gt;scripting
+   is enabled&lt;/span&gt;:&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start or end tag whose tag name is one of:
-       &quot;event-source&quot;, &quot;section&quot;, &quot;nav&quot;, &quot;article&quot;, &quot;aside&quot;, &quot;header&quot;,
-       &quot;footer&quot;, &quot;datagrid&quot;, &quot;command&quot;&lt;/dt&gt;
+   &lt;dt&gt;A start or end tag whose tag name is one of:
+   &quot;event-source&quot;, &quot;section&quot;, &quot;nav&quot;, &quot;article&quot;, &quot;aside&quot;, &quot;header&quot;,
+   &quot;footer&quot;, &quot;datagrid&quot;, &quot;command&quot;&lt;/dt&gt;
 
-       &lt;dd&gt;
+   &lt;dd&gt;
 
-        &lt;!-- XXXX --&gt;
+    &lt;!-- XXXX --&gt;
 
-        &lt;p class=&quot;big-issue&quot;&gt;Work in progress!&lt;/p&gt;
+    &lt;p class=&quot;big-issue&quot;&gt;Work in progress!&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag token not covered by the previous entries&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag token not covered by the previous entries&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
-        any.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Reconstruct the active formatting elements&lt;/span&gt;, if
+    any.&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
 
-        &lt;p class=&quot;note&quot;&gt;This element will be a &lt;span&gt;phrasing&lt;/span&gt;
-        element.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;This element will be a &lt;span&gt;phrasing&lt;/span&gt;
+    element.&lt;/p&gt;
 
 &lt;!--
 Put the following into the MathML namespace if parsed:
-   math, mrow, mfrac, msqrt, mroot, mstyle, merror, mpadded, 
-   mphantom, mfenced, menclose, msub, msup, msubsup, munder, 
-   mover, munderover, mmultiscripts, mtable, mlabeledtr, mtr, 
-   mtd, maction
+math, mrow, mfrac, msqrt, mroot, mstyle, merror, mpadded, 
+mphantom, mfenced, menclose, msub, msup, msubsup, munder, 
+mover, munderover, mmultiscripts, mtable, mlabeledtr, mtr, 
+mtd, maction
 --&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag token not covered by the previous entries&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag token not covered by the previous entries&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Run the following algorithm:&lt;/p&gt;
+    &lt;p&gt;Run the following algorithm:&lt;/p&gt;
 
-        &lt;ol&gt;
+    &lt;ol&gt;
 
-         &lt;li&gt;&lt;p&gt;Initialise &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to be the &lt;span&gt;current
-         node&lt;/span&gt; (the bottommost node of the stack).&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Initialise &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to be the &lt;span&gt;current
+     node&lt;/span&gt; (the bottommost node of the stack).&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; has the same tag name as
-         the end tag token, then:&lt;/p&gt;
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; has the same tag name as
+     the end tag token, then:&lt;/p&gt;
 
-          &lt;ol&gt;
+      &lt;ol&gt;
 
-           &lt;li&gt;&lt;p&gt;&lt;span&gt;Generate implied end tags&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;&lt;span&gt;Generate implied end tags&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-           &lt;li&gt;&lt;p&gt;If the tag name of the end tag token does not match
-           the tag name of the &lt;span&gt;current node&lt;/span&gt;, this is a
-           &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;If the tag name of the end tag token does not match
+       the tag name of the &lt;span&gt;current node&lt;/span&gt;, this is a
+       &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-           &lt;li&gt;&lt;p&gt;Pop all the nodes from the &lt;span&gt;current node&lt;/span&gt;
-           up to &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, including &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, then stop
-           this algorithm.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;Pop all the nodes from the &lt;span&gt;current node&lt;/span&gt;
+       up to &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, including &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;, then stop
+       this algorithm.&lt;/p&gt;&lt;/li&gt;
 
-          &lt;/ol&gt;
+      &lt;/ol&gt;
 
-         &lt;/li&gt;
+     &lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is in neither
-         the &lt;span&gt;formatting&lt;/span&gt; category nor the
-         &lt;span&gt;phrasing&lt;/span&gt; category, then this is a &lt;span&gt;parse
-         error&lt;/span&gt;. Stop this algorithm. The end tag token is
-         ignored.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is in neither
+     the &lt;span&gt;formatting&lt;/span&gt; category nor the
+     &lt;span&gt;phrasing&lt;/span&gt; category, then this is a &lt;span&gt;parse
+     error&lt;/span&gt;. Stop this algorithm. The end tag token is
+     ignored.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Set &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to the previous entry in the
-         &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Set &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; to the previous entry in the
+     &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-         &lt;li&gt;&lt;p&gt;Return to step 2.&lt;/p&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;p&gt;Return to step 2.&lt;/p&gt;&lt;/li&gt;
 
-        &lt;/ol&gt;
+    &lt;/ol&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-      &lt;/dl&gt;
+  &lt;/dl&gt;
 
 
-      &lt;h6 id=&quot;parsing-main-intable&quot;&gt;The &lt;dfn title=&quot;insertion mode: in table&quot;&gt;in table&lt;/dfn&gt; insertion mode&lt;/h6&gt;
+  &lt;h6 id=&quot;parsing-main-intable&quot;&gt;The &lt;dfn title=&quot;insertion mode: in table&quot;&gt;in table&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-       &lt;dt&gt;An end-of-file token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A character token that is one of one of U+0009
-       CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
-       TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
-       or U+0020 SPACE&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the character&lt;/span&gt; to
-        the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A character token that is one of one of U+0009
+   CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
+   TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
+   or U+0020 SPACE&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the character&lt;/span&gt; to
+    the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A comment token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
-        node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
-        the data given in the comment token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A comment token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
+    node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
+    the data given in the comment token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
-        been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
-        body&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
+    been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;caption&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;caption&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Clear the stack back to a table context&lt;/span&gt;. (See
-        below.)&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Clear the stack back to a table context&lt;/span&gt;. (See
+    below.)&lt;/p&gt;
 
-        &lt;p&gt;Insert a marker at the end of the &lt;span&gt;list of active
-        formatting elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Insert a marker at the end of the &lt;span&gt;list of active
+    formatting elements&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token, then
-        switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-        title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token, then
+    switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+    title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;colgroup&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;colgroup&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Clear the stack back to a table context&lt;/span&gt;. (See
-        below.)&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Clear the stack back to a table context&lt;/span&gt;. (See
+    below.)&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token, then
-        switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-        title=&quot;insertion mode: in column group&quot;&gt;in column
-        group&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token, then
+    switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+    title=&quot;insertion mode: in column group&quot;&gt;in column
+    group&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;col&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Act as if a start tag token with the tag name &quot;colgroup&quot;
-        had been seen, then reprocess the current token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;col&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Act as if a start tag token with the tag name &quot;colgroup&quot;
+    had been seen, then reprocess the current token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;tbody&quot;, &quot;tfoot&quot;, &quot;thead&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;tbody&quot;, &quot;tfoot&quot;, &quot;thead&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Clear the stack back to a table context&lt;/span&gt;. (See
-        below.)&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Clear the stack back to a table context&lt;/span&gt;. (See
+    below.)&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token, then
-        switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-        title=&quot;insertion mode: in table body&quot;&gt;in table
-        body&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token, then
+    switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+    title=&quot;insertion mode: in table body&quot;&gt;in table
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;td&quot;, &quot;th&quot;, &quot;tr&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Act as if a start tag token with the tag name &quot;tbody&quot; had
-        been seen, then reprocess the current token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;td&quot;, &quot;th&quot;, &quot;tr&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Act as if a start tag token with the tag name &quot;tbody&quot; had
+    been seen, then reprocess the current token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;table&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;table&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Act as if an end tag token with
-        the tag name &quot;table&quot; had been seen, then, if that token wasn't
-        ignored, reprocess the current token.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Act as if an end tag token with
+    the tag name &quot;table&quot; had been seen, then, if that token wasn't
+    ignored, reprocess the current token.&lt;/p&gt;
 
-        &lt;p class=&quot;note&quot;&gt;The fake end tag token here can only be
-        ignored in the &lt;span&gt;fragment case&lt;/span&gt;.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;The fake end tag token here can only be
+    ignored in the &lt;span&gt;fragment case&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;table&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;table&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
-        title=&quot;has an element in table scope&quot;&gt;have an element in table
-        scope&lt;/span&gt; with the same tag name as the token, this is a
-        &lt;span&gt;parse error&lt;/span&gt;. Ignore the token. (&lt;span&gt;fragment
-        case&lt;/span&gt;)&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
+    title=&quot;has an element in table scope&quot;&gt;have an element in table
+    scope&lt;/span&gt; with the same tag name as the token, this is a
+    &lt;span&gt;parse error&lt;/span&gt;. Ignore the token. (&lt;span&gt;fragment
+    case&lt;/span&gt;)&lt;/p&gt;
 
-        &lt;p&gt;Otherwise:&lt;/p&gt;
+    &lt;p&gt;Otherwise:&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Generate implied end tags&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Generate implied end tags&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Now, if the &lt;span&gt;current node&lt;/span&gt; is not a
-        &lt;code&gt;table&lt;/code&gt; element, then this is a &lt;span&gt;parse
-        error&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Now, if the &lt;span&gt;current node&lt;/span&gt; is not a
+    &lt;code&gt;table&lt;/code&gt; element, then this is a &lt;span&gt;parse
+    error&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Pop elements from this stack until a &lt;code&gt;table&lt;/code&gt;
-        element has been popped from the stack.&lt;/p&gt;
+    &lt;p&gt;Pop elements from this stack until a &lt;code&gt;table&lt;/code&gt;
+    element has been popped from the stack.&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Reset the insertion mode appropriately&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Reset the insertion mode appropriately&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;body&quot;, &quot;caption&quot;,
-       &quot;col&quot;, &quot;colgroup&quot;, &quot;html&quot;, &quot;tbody&quot;, &quot;td&quot;, &quot;tfoot&quot;, &quot;th&quot;,
-       &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;body&quot;, &quot;caption&quot;,
+   &quot;col&quot;, &quot;colgroup&quot;, &quot;html&quot;, &quot;tbody&quot;, &quot;td&quot;, &quot;tfoot&quot;, &quot;th&quot;,
+   &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;Anything else&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Process the token as if the
-        &lt;span&gt;insertion mode&lt;/span&gt; was &quot;&lt;span title=&quot;insertion mode:
-        in body&quot;&gt;in body&lt;/span&gt;&quot;, with the following exception:&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Process the token as if the
+    &lt;span&gt;insertion mode&lt;/span&gt; was &quot;&lt;span title=&quot;insertion mode:
+    in body&quot;&gt;in body&lt;/span&gt;&quot;, with the following exception:&lt;/p&gt;
 
-        &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is a &lt;code&gt;table&lt;/code&gt;,
-        &lt;code&gt;tbody&lt;/code&gt;, &lt;code&gt;tfoot&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;, or
-        &lt;code&gt;tr&lt;/code&gt; element, then, whenever a node would be
-        inserted into the &lt;span&gt;current node&lt;/span&gt;, it must instead
-        be inserted into the &lt;em&gt;foster parent element&lt;/em&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is a &lt;code&gt;table&lt;/code&gt;,
+    &lt;code&gt;tbody&lt;/code&gt;, &lt;code&gt;tfoot&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;, or
+    &lt;code&gt;tr&lt;/code&gt; element, then, whenever a node would be
+    inserted into the &lt;span&gt;current node&lt;/span&gt;, it must instead
+    be inserted into the &lt;em&gt;foster parent element&lt;/em&gt;.&lt;/p&gt;
 
-        &lt;p&gt;The &lt;dfn&gt;foster parent element&lt;/dfn&gt; is the parent element
-        of the last &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of
-        open elements&lt;/span&gt;, if there is a &lt;code&gt;table&lt;/code&gt; element
-        and it has such a parent element. If there is no
-        &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open
-        elements&lt;/span&gt; (&lt;span&gt;fragment case&lt;/span&gt;), then the
-        &lt;em&gt;foster parent element&lt;/em&gt; is the first element in the
-        &lt;span&gt;stack of open elements&lt;/span&gt; (the &lt;code&gt;html&lt;/code&gt;
-        element). Otherwise, if there is a &lt;code&gt;table&lt;/code&gt; element
-        in the &lt;span&gt;stack of open elements&lt;/span&gt;, but the last
-        &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open
-        elements&lt;/span&gt; has no parent, or its parent node is not an
-        element, then the &lt;em&gt;foster parent element&lt;/em&gt; is the
-        element before the last &lt;code&gt;table&lt;/code&gt; element in the
-        &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;The &lt;dfn&gt;foster parent element&lt;/dfn&gt; is the parent element
+    of the last &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of
+    open elements&lt;/span&gt;, if there is a &lt;code&gt;table&lt;/code&gt; element
+    and it has such a parent element. If there is no
+    &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open
+    elements&lt;/span&gt; (&lt;span&gt;fragment case&lt;/span&gt;), then the
+    &lt;em&gt;foster parent element&lt;/em&gt; is the first element in the
+    &lt;span&gt;stack of open elements&lt;/span&gt; (the &lt;code&gt;html&lt;/code&gt;
+    element). Otherwise, if there is a &lt;code&gt;table&lt;/code&gt; element
+    in the &lt;span&gt;stack of open elements&lt;/span&gt;, but the last
+    &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open
+    elements&lt;/span&gt; has no parent, or its parent node is not an
+    element, then the &lt;em&gt;foster parent element&lt;/em&gt; is the
+    element before the last &lt;code&gt;table&lt;/code&gt; element in the
+    &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;If the &lt;em&gt;foster parent element&lt;/em&gt; is the parent element
-        of the last &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of
-        open elements&lt;/span&gt;, then the new node must be inserted
-        immediately &lt;em&gt;before&lt;/em&gt; the last &lt;code&gt;table&lt;/code&gt;
-        element in the &lt;span&gt;stack of open elements&lt;/span&gt; in the
-        &lt;span&gt;foster parent element&lt;/span&gt;; otherwise, the new node
-        must be &lt;em&gt;appended&lt;/em&gt; to the &lt;span&gt;foster parent
-        element&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;If the &lt;em&gt;foster parent element&lt;/em&gt; is the parent element
+    of the last &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of
+    open elements&lt;/span&gt;, then the new node must be inserted
+    immediately &lt;em&gt;before&lt;/em&gt; the last &lt;code&gt;table&lt;/code&gt;
+    element in the &lt;span&gt;stack of open elements&lt;/span&gt; in the
+    &lt;span&gt;foster parent element&lt;/span&gt;; otherwise, the new node
+    must be &lt;em&gt;appended&lt;/em&gt; to the &lt;span&gt;foster parent
+    element&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-      &lt;/dl&gt;
+  &lt;/dl&gt;
 
-      &lt;p&gt;When the steps above require the UA to &lt;dfn&gt;clear the stack
-      back to a table context&lt;/dfn&gt;, it means that the UA must, while
-      the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;table&lt;/code&gt;
-      element or an &lt;code&gt;html&lt;/code&gt; element, pop elements from the
-      &lt;span&gt;stack of open elements&lt;/span&gt;. If this causes any elements
-      to be popped from the stack, then this is a &lt;span&gt;parse
-      error&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;When the steps above require the UA to &lt;dfn&gt;clear the stack
+  back to a table context&lt;/dfn&gt;, it means that the UA must, while
+  the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;table&lt;/code&gt;
+  element or an &lt;code&gt;html&lt;/code&gt; element, pop elements from the
+  &lt;span&gt;stack of open elements&lt;/span&gt;. If this causes any elements
+  to be popped from the stack, then this is a &lt;span&gt;parse
+  error&lt;/span&gt;.&lt;/p&gt;
 
-      &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;current node&lt;/span&gt; being an
-      &lt;code&gt;html&lt;/code&gt; element after this process is a &lt;span&gt;fragment
-      case&lt;/span&gt;.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;current node&lt;/span&gt; being an
+  &lt;code&gt;html&lt;/code&gt; element after this process is a &lt;span&gt;fragment
+  case&lt;/span&gt;.&lt;/p&gt;
 
 
-      &lt;h6 id=&quot;parsing-main-incaption&quot;&gt;The &lt;dfn title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/dfn&gt; insertion mode&lt;/h6&gt;
+  &lt;h6 id=&quot;parsing-main-incaption&quot;&gt;The &lt;dfn title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;p&gt;Handle the token as follows.&lt;/p&gt;
+  &lt;p&gt;Handle the token as follows.&lt;/p&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;caption&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;caption&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
-        title=&quot;has an element in table scope&quot;&gt;have an element in table
-        scope&lt;/span&gt; with the same tag name as the token, this is a
-        &lt;span&gt;parse error&lt;/span&gt;. Ignore the token. (&lt;span&gt;fragment
-        case&lt;/span&gt;)&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
+    title=&quot;has an element in table scope&quot;&gt;have an element in table
+    scope&lt;/span&gt; with the same tag name as the token, this is a
+    &lt;span&gt;parse error&lt;/span&gt;. Ignore the token. (&lt;span&gt;fragment
+    case&lt;/span&gt;)&lt;/p&gt;
 
-        &lt;p&gt;Otherwise:&lt;/p&gt;
+    &lt;p&gt;Otherwise:&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Generate implied end tags&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Generate implied end tags&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Now, if the &lt;span&gt;current node&lt;/span&gt; is not a
-        &lt;code&gt;caption&lt;/code&gt; element, then this is a &lt;span&gt;parse
-        error&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Now, if the &lt;span&gt;current node&lt;/span&gt; is not a
+    &lt;code&gt;caption&lt;/code&gt; element, then this is a &lt;span&gt;parse
+    error&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Pop elements from this stack until a &lt;code&gt;caption&lt;/code&gt;
-        element has been popped from the stack.&lt;/p&gt;
+    &lt;p&gt;Pop elements from this stack until a &lt;code&gt;caption&lt;/code&gt;
+    element has been popped from the stack.&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Clear the list of active formatting elements up to
-        the last marker&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Clear the list of active formatting elements up to
+    the last marker&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-        title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+    title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;caption&quot;, &quot;col&quot;,
-       &quot;colgroup&quot;, &quot;tbody&quot;, &quot;td&quot;, &quot;tfoot&quot;, &quot;th&quot;, &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
-       &lt;dt&gt;An end tag whose tag name is &quot;table&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;caption&quot;, &quot;col&quot;,
+   &quot;colgroup&quot;, &quot;tbody&quot;, &quot;td&quot;, &quot;tfoot&quot;, &quot;th&quot;, &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;table&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Act as if an end tag with the tag
-        name &quot;caption&quot; had been seen, then, if that token wasn't
-        ignored, reprocess the current token.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Act as if an end tag with the tag
+    name &quot;caption&quot; had been seen, then, if that token wasn't
+    ignored, reprocess the current token.&lt;/p&gt;
 
-        &lt;p class=&quot;note&quot;&gt;The fake end tag token here can only be
-        ignored in the &lt;span&gt;fragment case&lt;/span&gt;.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;The fake end tag token here can only be
+    ignored in the &lt;span&gt;fragment case&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;body&quot;, &quot;col&quot;,
-       &quot;colgroup&quot;, &quot;html&quot;, &quot;tbody&quot;, &quot;td&quot;, &quot;tfoot&quot;, &quot;th&quot;, &quot;thead&quot;,
-       &quot;tr&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;body&quot;, &quot;col&quot;,
+   &quot;colgroup&quot;, &quot;html&quot;, &quot;tbody&quot;, &quot;td&quot;, &quot;tfoot&quot;, &quot;th&quot;, &quot;thead&quot;,
+   &quot;tr&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; was
-        &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;Anything else&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; was
+    &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-      &lt;/dl&gt;
+  &lt;/dl&gt;
 
 
-      &lt;h6 id=&quot;parsing-main-incolgroup&quot;&gt;The &lt;dfn title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/dfn&gt; insertion mode&lt;/h6&gt;
+  &lt;h6 id=&quot;parsing-main-incolgroup&quot;&gt;The &lt;dfn title=&quot;insertion mode: in column group&quot;&gt;in column group&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;p&gt;Handle the token as follows.&lt;/p&gt;
+  &lt;p&gt;Handle the token as follows.&lt;/p&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-       &lt;dt&gt;An end-of-file token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A character token that is one of one of U+0009
-       CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
-       TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
-       or U+0020 SPACE&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the character&lt;/span&gt; to
-        the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A character token that is one of one of U+0009
+   CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
+   TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
+   or U+0020 SPACE&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the character&lt;/span&gt; to
+    the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A comment token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
-        node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
-        the data given in the comment token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A comment token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
+    node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
+    the data given in the comment token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
-        been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
-        body&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
+    been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;col&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;insert an HTML element&quot;&gt;Insert a
-        &lt;code&gt;col&lt;/code&gt; element&lt;/span&gt; for the token. Immediately
-        pop the &lt;span&gt;current node&lt;/span&gt; off the &lt;span&gt;stack of open
-        elements&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;col&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an HTML element&quot;&gt;Insert a
+    &lt;code&gt;col&lt;/code&gt; element&lt;/span&gt; for the token. Immediately
+    pop the &lt;span&gt;current node&lt;/span&gt; off the &lt;span&gt;stack of open
+    elements&lt;/span&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;colgroup&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;colgroup&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is the root
-        &lt;code&gt;html&lt;/code&gt; element, then this is a &lt;span&gt;parse
-        error&lt;/span&gt;, ignore the token. (&lt;span&gt;fragment
-        case&lt;/span&gt;)&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is the root
+    &lt;code&gt;html&lt;/code&gt; element, then this is a &lt;span&gt;parse
+    error&lt;/span&gt;, ignore the token. (&lt;span&gt;fragment
+    case&lt;/span&gt;)&lt;/p&gt;
 
-        &lt;p&gt;Otherwise, pop the &lt;span&gt;current node&lt;/span&gt; (which will be
-        a &lt;code&gt;colgroup&lt;/code&gt; element) from the &lt;span&gt;stack of open
-        elements&lt;/span&gt;. Switch the &lt;span&gt;insertion mode&lt;/span&gt; to
-        &quot;&lt;span title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Otherwise, pop the &lt;span&gt;current node&lt;/span&gt; (which will be
+    a &lt;code&gt;colgroup&lt;/code&gt; element) from the &lt;span&gt;stack of open
+    elements&lt;/span&gt;. Switch the &lt;span&gt;insertion mode&lt;/span&gt; to
+    &quot;&lt;span title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;col&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;col&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;Anything else&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Act as if an end tag with the tag name &quot;colgroup&quot; had been
-        seen, and then, if that token wasn't ignored, reprocess the
-        current token.&lt;/p&gt;
+    &lt;p&gt;Act as if an end tag with the tag name &quot;colgroup&quot; had been
+    seen, and then, if that token wasn't ignored, reprocess the
+    current token.&lt;/p&gt;
 
-        &lt;p class=&quot;note&quot;&gt;The fake end tag token here can only be
-        ignored in the &lt;span&gt;fragment case&lt;/span&gt;.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;The fake end tag token here can only be
+    ignored in the &lt;span&gt;fragment case&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-      &lt;/dl&gt;
+  &lt;/dl&gt;
 
 
-      &lt;h6 id=&quot;parsing-main-intbody&quot;&gt;The &lt;dfn title=&quot;insertion mode: in table body&quot;&gt;in table body&lt;/dfn&gt; insertion mode&lt;/h6&gt;
+  &lt;h6 id=&quot;parsing-main-intbody&quot;&gt;The &lt;dfn title=&quot;insertion mode: in table body&quot;&gt;in table body&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;p&gt;Handle the token as follows.&lt;/p&gt;
+  &lt;p&gt;Handle the token as follows.&lt;/p&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;tr&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;tr&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Clear the stack back to a table body
-        context&lt;/span&gt;. (See below.)&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Clear the stack back to a table body
+    context&lt;/span&gt;. (See below.)&lt;/p&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an HTML element&quot;&gt;Insert a
-        &lt;code&gt;tr&lt;/code&gt; element&lt;/span&gt; for the token, then switch the
-        &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode:
-        in row&quot;&gt;in row&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an HTML element&quot;&gt;Insert a
+    &lt;code&gt;tr&lt;/code&gt; element&lt;/span&gt; for the token, then switch the
+    &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode:
+    in row&quot;&gt;in row&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;th&quot;, &quot;td&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Act as if a start tag with
-        the tag name &quot;tr&quot; had been seen, then reprocess the current
-        token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;th&quot;, &quot;td&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Act as if a start tag with
+    the tag name &quot;tr&quot; had been seen, then reprocess the current
+    token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;tbody&quot;, &quot;tfoot&quot;,
-       &quot;thead&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;tbody&quot;, &quot;tfoot&quot;,
+   &quot;thead&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
-        title=&quot;has an element in table scope&quot;&gt;have an element in table
-        scope&lt;/span&gt; with the same tag name as the token, this is a
-        &lt;span&gt;parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
+    title=&quot;has an element in table scope&quot;&gt;have an element in table
+    scope&lt;/span&gt; with the same tag name as the token, this is a
+    &lt;span&gt;parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
 
-        &lt;p&gt;Otherwise:&lt;/p&gt;
+    &lt;p&gt;Otherwise:&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Clear the stack back to a table body
-        context&lt;/span&gt;. (See below.)&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Clear the stack back to a table body
+    context&lt;/span&gt;. (See below.)&lt;/p&gt;
 
-        &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; from the &lt;span&gt;stack of
-        open elements&lt;/span&gt;. Switch the &lt;span&gt;insertion mode&lt;/span&gt;
-        to &quot;&lt;span title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; from the &lt;span&gt;stack of
+    open elements&lt;/span&gt;. Switch the &lt;span&gt;insertion mode&lt;/span&gt;
+    to &quot;&lt;span title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;caption&quot;, &quot;col&quot;,
-       &quot;colgroup&quot;, &quot;tbody&quot;, &quot;tfoot&quot;, &quot;thead&quot;&lt;/dt&gt;
-       &lt;dt&gt;An end tag whose tag name is &quot;table&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;caption&quot;, &quot;col&quot;,
+   &quot;colgroup&quot;, &quot;tbody&quot;, &quot;tfoot&quot;, &quot;thead&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;table&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
-        title=&quot;has an element in table scope&quot;&gt;have a
-        &lt;code&gt;tbody&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;, or &lt;code&gt;tfoot&lt;/code&gt;
-        element in table scope&lt;/span&gt;, this is a &lt;span&gt;parse
-        error&lt;/span&gt;. Ignore the token. (&lt;span&gt;fragment
-        case&lt;/span&gt;)&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
+    title=&quot;has an element in table scope&quot;&gt;have a
+    &lt;code&gt;tbody&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;, or &lt;code&gt;tfoot&lt;/code&gt;
+    element in table scope&lt;/span&gt;, this is a &lt;span&gt;parse
+    error&lt;/span&gt;. Ignore the token. (&lt;span&gt;fragment
+    case&lt;/span&gt;)&lt;/p&gt;
 
-        &lt;p&gt;Otherwise:&lt;/p&gt;
+    &lt;p&gt;Otherwise:&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Clear the stack back to a table body
-        context&lt;/span&gt;. (See below.)&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Clear the stack back to a table body
+    context&lt;/span&gt;. (See below.)&lt;/p&gt;
 
-        &lt;p&gt;Act as if an end tag with the same tag name as the
-        &lt;span&gt;current node&lt;/span&gt; (&quot;tbody&quot;, &quot;tfoot&quot;, or &quot;thead&quot;) had
-        been seen, then reprocess the current token.&lt;/p&gt;
+    &lt;p&gt;Act as if an end tag with the same tag name as the
+    &lt;span&gt;current node&lt;/span&gt; (&quot;tbody&quot;, &quot;tfoot&quot;, or &quot;thead&quot;) had
+    been seen, then reprocess the current token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;body&quot;, &quot;caption&quot;,
-       &quot;col&quot;, &quot;colgroup&quot;, &quot;html&quot;, &quot;td&quot;, &quot;th&quot;, &quot;tr&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;body&quot;, &quot;caption&quot;,
+   &quot;col&quot;, &quot;colgroup&quot;, &quot;html&quot;, &quot;td&quot;, &quot;th&quot;, &quot;tr&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; was
-        &quot;&lt;span title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;Anything else&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; was
+    &quot;&lt;span title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-      &lt;/dl&gt;
+  &lt;/dl&gt;
 
-      &lt;p&gt;When the steps above require the UA to &lt;dfn&gt;clear the stack
-      back to a table body context&lt;/dfn&gt;, it means that the UA must,
-      while the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;tbody&lt;/code&gt;,
-      &lt;code&gt;tfoot&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;, or &lt;code&gt;html&lt;/code&gt;
-      element, pop elements from the &lt;span&gt;stack of open
-      elements&lt;/span&gt;. If this causes any elements to be popped from
-      the stack, then this is a
-      &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;When the steps above require the UA to &lt;dfn&gt;clear the stack
+  back to a table body context&lt;/dfn&gt;, it means that the UA must,
+  while the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;tbody&lt;/code&gt;,
+  &lt;code&gt;tfoot&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;, or &lt;code&gt;html&lt;/code&gt;
+  element, pop elements from the &lt;span&gt;stack of open
+  elements&lt;/span&gt;. If this causes any elements to be popped from
+  the stack, then this is a
+  &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
 
-      &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;current node&lt;/span&gt; being an
-      &lt;code&gt;html&lt;/code&gt; element after this process is a &lt;span&gt;fragment
-      case&lt;/span&gt;.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;current node&lt;/span&gt; being an
+  &lt;code&gt;html&lt;/code&gt; element after this process is a &lt;span&gt;fragment
+  case&lt;/span&gt;.&lt;/p&gt;
 
 
-      &lt;h6 id=&quot;parsing-main-intr&quot;&gt;The &lt;dfn title=&quot;insertion mode: in row&quot;&gt;in row&lt;/dfn&gt; insertion mode&lt;/h6&gt;
+  &lt;h6 id=&quot;parsing-main-intr&quot;&gt;The &lt;dfn title=&quot;insertion mode: in row&quot;&gt;in row&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;p&gt;Handle the token as follows.&lt;/p&gt;
+  &lt;p&gt;Handle the token as follows.&lt;/p&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;th&quot;, &quot;td&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;th&quot;, &quot;td&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Clear the stack back to a table row
-        context&lt;/span&gt;. (See below.)&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Clear the stack back to a table row
+    context&lt;/span&gt;. (See below.)&lt;/p&gt;
 
-        &lt;p&gt;&lt;span title=&quot;insert an HTML element&quot;&gt;Insert an HTML
-        element&lt;/span&gt; for the token, then switch the &lt;span&gt;insertion
-        mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in cell&quot;&gt;in
-        cell&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;&lt;span title=&quot;insert an HTML element&quot;&gt;Insert an HTML
+    element&lt;/span&gt; for the token, then switch the &lt;span&gt;insertion
+    mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in cell&quot;&gt;in
+    cell&lt;/span&gt;&quot;.&lt;/p&gt;
 
-        &lt;p&gt;Insert a marker at the end of the &lt;span&gt;list of active
-        formatting elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Insert a marker at the end of the &lt;span&gt;list of active
+    formatting elements&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;tr&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;tr&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
-        title=&quot;has an element in table scope&quot;&gt;have an element in table
-        scope&lt;/span&gt; with the same tag name as the token, this is a
-        &lt;span&gt;parse error&lt;/span&gt;. Ignore the token. (&lt;span&gt;fragment
-        case&lt;/span&gt;)&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
+    title=&quot;has an element in table scope&quot;&gt;have an element in table
+    scope&lt;/span&gt; with the same tag name as the token, this is a
+    &lt;span&gt;parse error&lt;/span&gt;. Ignore the token. (&lt;span&gt;fragment
+    case&lt;/span&gt;)&lt;/p&gt;
 
-        &lt;p&gt;Otherwise:&lt;/p&gt;
+    &lt;p&gt;Otherwise:&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Clear the stack back to a table row
-        context&lt;/span&gt;. (See below.)&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Clear the stack back to a table row
+    context&lt;/span&gt;. (See below.)&lt;/p&gt;
 
-        &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; (which will be a
-        &lt;code&gt;tr&lt;/code&gt; element) from the &lt;span&gt;stack of open
-        elements&lt;/span&gt;. Switch the &lt;span&gt;insertion mode&lt;/span&gt; to
-        &quot;&lt;span title=&quot;insertion mode: in table body&quot;&gt;in table
-        body&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;Pop the &lt;span&gt;current node&lt;/span&gt; (which will be a
+    &lt;code&gt;tr&lt;/code&gt; element) from the &lt;span&gt;stack of open
+    elements&lt;/span&gt;. Switch the &lt;span&gt;insertion mode&lt;/span&gt; to
+    &quot;&lt;span title=&quot;insertion mode: in table body&quot;&gt;in table
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;caption&quot;, &quot;col&quot;,
-       &quot;colgroup&quot;, &quot;tbody&quot;, &quot;tfoot&quot;, &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
-       &lt;dt&gt;An end tag whose tag name is &quot;table&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;caption&quot;, &quot;col&quot;,
+   &quot;colgroup&quot;, &quot;tbody&quot;, &quot;tfoot&quot;, &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;table&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;Act as if an end tag with the tag name &quot;tr&quot; had been seen,
-        then, if that token wasn't ignored, reprocess the current
-        token.&lt;/p&gt;
+    &lt;p&gt;Act as if an end tag with the tag name &quot;tr&quot; had been seen,
+    then, if that token wasn't ignored, reprocess the current
+    token.&lt;/p&gt;
 
-        &lt;p class=&quot;note&quot;&gt;The fake end tag token here can only be
-        ignored in the &lt;span&gt;fragment case&lt;/span&gt;.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;The fake end tag token here can only be
+    ignored in the &lt;span&gt;fragment case&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;tbody&quot;, &quot;tfoot&quot;,
-       &quot;thead&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;tbody&quot;, &quot;tfoot&quot;,
+   &quot;thead&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
-        title=&quot;has an element in table scope&quot;&gt;have an element in table
-        scope&lt;/span&gt; with the same tag name as the token, this is a
-        &lt;span&gt;parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
+    title=&quot;has an element in table scope&quot;&gt;have an element in table
+    scope&lt;/span&gt; with the same tag name as the token, this is a
+    &lt;span&gt;parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
 
-        &lt;p&gt;Otherwise, act as if an end tag with the tag name &quot;tr&quot; had
-        been seen, then reprocess the current token.&lt;/p&gt;
+    &lt;p&gt;Otherwise, act as if an end tag with the tag name &quot;tr&quot; had
+    been seen, then reprocess the current token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;body&quot;, &quot;caption&quot;,
-       &quot;col&quot;, &quot;colgroup&quot;, &quot;html&quot;, &quot;td&quot;, &quot;th&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;body&quot;, &quot;caption&quot;,
+   &quot;col&quot;, &quot;colgroup&quot;, &quot;html&quot;, &quot;td&quot;, &quot;th&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; was
-        &quot;&lt;span title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;Anything else&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; was
+    &quot;&lt;span title=&quot;insertion mode: in table&quot;&gt;in table&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-      &lt;/dl&gt;
+  &lt;/dl&gt;
 
-      &lt;p&gt;When the steps above require the UA to &lt;dfn&gt;clear the stack
-      back to a table row context&lt;/dfn&gt;, it means that the UA must,
-      while the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;tr&lt;/code&gt;
-      element or an &lt;code&gt;html&lt;/code&gt; element, pop elements from the
-      &lt;span&gt;stack of open elements&lt;/span&gt;. If this causes any elements
-      to be popped from the stack, then this is a &lt;span&gt;parse
-      error&lt;/span&gt;.&lt;/p&gt;
+  &lt;p&gt;When the steps above require the UA to &lt;dfn&gt;clear the stack
+  back to a table row context&lt;/dfn&gt;, it means that the UA must,
+  while the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;tr&lt;/code&gt;
+  element or an &lt;code&gt;html&lt;/code&gt; element, pop elements from the
+  &lt;span&gt;stack of open elements&lt;/span&gt;. If this causes any elements
+  to be popped from the stack, then this is a &lt;span&gt;parse
+  error&lt;/span&gt;.&lt;/p&gt;
 
-      &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;current node&lt;/span&gt; being an
-      &lt;code&gt;html&lt;/code&gt; element after this process is a &lt;span&gt;fragment
-      case&lt;/span&gt;.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;current node&lt;/span&gt; being an
+  &lt;code&gt;html&lt;/code&gt; element after this process is a &lt;span&gt;fragment
+  case&lt;/span&gt;.&lt;/p&gt;
 
 
-      &lt;h6 id=&quot;parsing-main-intd&quot;&gt;The &lt;dfn title=&quot;insertion mode: in cell&quot;&gt;in cell&lt;/dfn&gt; insertion mode&lt;/h6&gt;
+  &lt;h6 id=&quot;parsing-main-intd&quot;&gt;The &lt;dfn title=&quot;insertion mode: in cell&quot;&gt;in cell&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;p&gt;Handle the token as follows.&lt;/p&gt;
+  &lt;p&gt;Handle the token as follows.&lt;/p&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;td&quot;, &quot;th&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;td&quot;, &quot;th&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
-        title=&quot;has an element in table scope&quot;&gt;have an element in table
-        scope&lt;/span&gt; with the same tag name as that of the token, then
-        this is a &lt;span&gt;parse error&lt;/span&gt; and the token must be
-        ignored.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
+    title=&quot;has an element in table scope&quot;&gt;have an element in table
+    scope&lt;/span&gt; with the same tag name as that of the token, then
+    this is a &lt;span&gt;parse error&lt;/span&gt; and the token must be
+    ignored.&lt;/p&gt;
 
-        &lt;p&gt;Otherwise:&lt;/p&gt;
+    &lt;p&gt;Otherwise:&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Generate implied end tags&lt;/span&gt;, except for elements
-        with the same tag name as the token.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Generate implied end tags&lt;/span&gt;, except for elements
+    with the same tag name as the token.&lt;/p&gt;
 
-        &lt;p&gt;Now, if the &lt;span&gt;current node&lt;/span&gt; is not an element
-        with the same tag name as the token, then this is a
-        &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Now, if the &lt;span&gt;current node&lt;/span&gt; is not an element
+    with the same tag name as the token, then this is a
+    &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Pop elements from this stack until an element with the same
-        tag name as the token has been popped from the stack.&lt;/p&gt;
+    &lt;p&gt;Pop elements from this stack until an element with the same
+    tag name as the token has been popped from the stack.&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Clear the list of active formatting elements up to
-        the last marker&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Clear the list of active formatting elements up to
+    the last marker&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-        title=&quot;insertion mode: in row&quot;&gt;in row&lt;/span&gt;&quot;. (The
-        &lt;span&gt;current node&lt;/span&gt; will be a &lt;code&gt;tr&lt;/code&gt; element at
-        this point.)&lt;/p&gt;
+    &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+    title=&quot;insertion mode: in row&quot;&gt;in row&lt;/span&gt;&quot;. (The
+    &lt;span&gt;current node&lt;/span&gt; will be a &lt;code&gt;tr&lt;/code&gt; element at
+    this point.)&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is one of: &quot;caption&quot;, &quot;col&quot;,
-       &quot;colgroup&quot;, &quot;tbody&quot;, &quot;td&quot;, &quot;tfoot&quot;, &quot;th&quot;, &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is one of: &quot;caption&quot;, &quot;col&quot;,
+   &quot;colgroup&quot;, &quot;tbody&quot;, &quot;td&quot;, &quot;tfoot&quot;, &quot;th&quot;, &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does
-        &lt;em&gt;not&lt;/em&gt; &lt;span title=&quot;has an element in table scope&quot;&gt;have
-        a &lt;code&gt;td&lt;/code&gt; or &lt;code&gt;th&lt;/code&gt; element in table
-        scope&lt;/span&gt;, then this is a &lt;span&gt;parse error&lt;/span&gt;; ignore
-        the token. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does
+    &lt;em&gt;not&lt;/em&gt; &lt;span title=&quot;has an element in table scope&quot;&gt;have
+    a &lt;code&gt;td&lt;/code&gt; or &lt;code&gt;th&lt;/code&gt; element in table
+    scope&lt;/span&gt;, then this is a &lt;span&gt;parse error&lt;/span&gt;; ignore
+    the token. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
 
-        &lt;p&gt;Otherwise, &lt;span&gt;close the cell&lt;/span&gt; (see below) and
-        reprocess the current token.&lt;/p&gt;
+    &lt;p&gt;Otherwise, &lt;span&gt;close the cell&lt;/span&gt; (see below) and
+    reprocess the current token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;body&quot;, &quot;caption&quot;,
-       &quot;col&quot;, &quot;colgroup&quot;, &quot;html&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;body&quot;, &quot;caption&quot;,
+   &quot;col&quot;, &quot;colgroup&quot;, &quot;html&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;table&quot;, &quot;tbody&quot;,
-       &quot;tfoot&quot;, &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;table&quot;, &quot;tbody&quot;,
+   &quot;tfoot&quot;, &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
-        title=&quot;has an element in table scope&quot;&gt;have an element in table
-        scope&lt;/span&gt; with the same tag name as that of the token
-        (which can only happen for &quot;tbody&quot;, &quot;tfoot&quot; and &quot;thead&quot;, or,
-        in the &lt;span&gt;fragment case&lt;/span&gt;), then this is a &lt;span&gt;parse
-        error&lt;/span&gt; and the token must be ignored.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
+    title=&quot;has an element in table scope&quot;&gt;have an element in table
+    scope&lt;/span&gt; with the same tag name as that of the token
+    (which can only happen for &quot;tbody&quot;, &quot;tfoot&quot; and &quot;thead&quot;, or,
+    in the &lt;span&gt;fragment case&lt;/span&gt;), then this is a &lt;span&gt;parse
+    error&lt;/span&gt; and the token must be ignored.&lt;/p&gt;
 
-        &lt;p&gt;Otherwise, &lt;span&gt;close the cell&lt;/span&gt; (see below) and
-        reprocess the current token.&lt;/p&gt;
+    &lt;p&gt;Otherwise, &lt;span&gt;close the cell&lt;/span&gt; (see below) and
+    reprocess the current token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; was
-        &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;Anything else&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; was
+    &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-      &lt;/dl&gt;
+  &lt;/dl&gt;
 
-      &lt;p&gt;Where the steps above say to &lt;dfn&gt;close the cell&lt;/dfn&gt;, they
-      mean to run the following algorithm:&lt;/p&gt;
+  &lt;p&gt;Where the steps above say to &lt;dfn&gt;close the cell&lt;/dfn&gt;, they
+  mean to run the following algorithm:&lt;/p&gt;
 
-      &lt;ol&gt;
+  &lt;ol&gt;
 
-       &lt;li&gt;&lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span
-       title=&quot;has an element in table scope&quot;&gt;has a &lt;code&gt;td&lt;/code&gt;
-       element in table scope&lt;/span&gt;, then act as if an end tag token
-       with the tag name &quot;td&quot; had been seen.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span
+   title=&quot;has an element in table scope&quot;&gt;has a &lt;code&gt;td&lt;/code&gt;
+   element in table scope&lt;/span&gt;, then act as if an end tag token
+   with the tag name &quot;td&quot; had been seen.&lt;/p&gt;&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;Otherwise, the &lt;span&gt;stack of open elements&lt;/span&gt; will
-       &lt;span title=&quot;has an element in table scope&quot;&gt;have a
-       &lt;code&gt;th&lt;/code&gt; element in table scope&lt;/span&gt;; act as if an end
-       tag token with the tag name &quot;th&quot; had been seen.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Otherwise, the &lt;span&gt;stack of open elements&lt;/span&gt; will
+   &lt;span title=&quot;has an element in table scope&quot;&gt;have a
+   &lt;code&gt;th&lt;/code&gt; element in table scope&lt;/span&gt;; act as if an end
+   tag token with the tag name &quot;th&quot; had been seen.&lt;/p&gt;&lt;/li&gt;
 
-      &lt;/ol&gt;
+  &lt;/ol&gt;
 
-      &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;stack of open elements&lt;/span&gt; cannot
-      have both a &lt;code&gt;td&lt;/code&gt; and a &lt;code&gt;th&lt;/code&gt; element &lt;span
-      title=&quot;has an element in table scope&quot;&gt;in table scope&lt;/span&gt; at
-      the same time, nor can it have neither when the &lt;span&gt;insertion
-      mode&lt;/span&gt; is &quot;&lt;span title=&quot;insertion mode: in cell&quot;&gt;in
-      cell&lt;/span&gt;&quot;.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;stack of open elements&lt;/span&gt; cannot
+  have both a &lt;code&gt;td&lt;/code&gt; and a &lt;code&gt;th&lt;/code&gt; element &lt;span
+  title=&quot;has an element in table scope&quot;&gt;in table scope&lt;/span&gt; at
+  the same time, nor can it have neither when the &lt;span&gt;insertion
+  mode&lt;/span&gt; is &quot;&lt;span title=&quot;insertion mode: in cell&quot;&gt;in
+  cell&lt;/span&gt;&quot;.&lt;/p&gt;
 
 
-      &lt;h6 id=&quot;parsing-main-inselect&quot;&gt;The &lt;dfn title=&quot;insertion mode: in select&quot;&gt;in select&lt;/dfn&gt; insertion mode&lt;/h6&gt;
+  &lt;h6 id=&quot;parsing-main-inselect&quot;&gt;The &lt;dfn title=&quot;insertion mode: in select&quot;&gt;in select&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;p&gt;Handle the token as follows:&lt;/p&gt;
+  &lt;p&gt;Handle the token as follows:&lt;/p&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-       &lt;dt&gt;An end-of-file token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A character token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the token's
-        character&lt;/span&gt; to the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A character token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the token's
+    character&lt;/span&gt; to the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A comment token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
-        node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
-        the data given in the comment token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A comment token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
+    node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
+    the data given in the comment token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
-        been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
-        body&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
+    been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;option&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;option&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is an &lt;code&gt;option&lt;/code&gt;
-        element, act as if an end tag with the tag name &quot;option&quot; had
-        been seen.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is an &lt;code&gt;option&lt;/code&gt;
+    element, act as if an end tag with the tag name &quot;option&quot; had
+    been seen.&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;optgroup&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;optgroup&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is an &lt;code&gt;option&lt;/code&gt;
-        element, act as if an end tag with the tag name &quot;option&quot; had
-        been seen.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is an &lt;code&gt;option&lt;/code&gt;
+    element, act as if an end tag with the tag name &quot;option&quot; had
+    been seen.&lt;/p&gt;
 
-        &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is an
-        &lt;code&gt;optgroup&lt;/code&gt; element, act as if an end tag with the
-        tag name &quot;optgroup&quot; had been seen.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is an
+    &lt;code&gt;optgroup&lt;/code&gt; element, act as if an end tag with the
+    tag name &quot;optgroup&quot; had been seen.&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;optgroup&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;optgroup&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;First, if the &lt;span&gt;current node&lt;/span&gt; is an
-        &lt;code&gt;option&lt;/code&gt; element, and the node immediately before
-        it in the &lt;span&gt;stack of open elements&lt;/span&gt; is an
-        &lt;code&gt;optgroup&lt;/code&gt; element, then act as if an end tag with
-        the tag name &quot;option&quot; had been seen.&lt;/p&gt;
+    &lt;p&gt;First, if the &lt;span&gt;current node&lt;/span&gt; is an
+    &lt;code&gt;option&lt;/code&gt; element, and the node immediately before
+    it in the &lt;span&gt;stack of open elements&lt;/span&gt; is an
+    &lt;code&gt;optgroup&lt;/code&gt; element, then act as if an end tag with
+    the tag name &quot;option&quot; had been seen.&lt;/p&gt;
 
-        &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is an
-        &lt;code&gt;optgroup&lt;/code&gt; element, then pop that node from the
-        &lt;span&gt;stack of open elements&lt;/span&gt;. Otherwise, this is a
-        &lt;span&gt;parse error&lt;/span&gt;, ignore the token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is an
+    &lt;code&gt;optgroup&lt;/code&gt; element, then pop that node from the
+    &lt;span&gt;stack of open elements&lt;/span&gt;. Otherwise, this is a
+    &lt;span&gt;parse error&lt;/span&gt;, ignore the token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;option&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;option&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is an &lt;code&gt;option&lt;/code&gt;
-        element, then pop that node from the &lt;span&gt;stack of open
-        elements&lt;/span&gt;. Otherwise, this is a &lt;span&gt;parse
-        error&lt;/span&gt;, ignore the token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is an &lt;code&gt;option&lt;/code&gt;
+    element, then pop that node from the &lt;span&gt;stack of open
+    elements&lt;/span&gt;. Otherwise, this is a &lt;span&gt;parse
+    error&lt;/span&gt;, ignore the token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;select&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;select&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
-        title=&quot;has an element in table scope&quot;&gt;have an element in table
-        scope&lt;/span&gt; with the same tag name as the token, this is a
-        &lt;span&gt;parse error&lt;/span&gt;. Ignore the token. (&lt;span&gt;fragment
-        case&lt;/span&gt;)&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span
+    title=&quot;has an element in table scope&quot;&gt;have an element in table
+    scope&lt;/span&gt; with the same tag name as the token, this is a
+    &lt;span&gt;parse error&lt;/span&gt;. Ignore the token. (&lt;span&gt;fragment
+    case&lt;/span&gt;)&lt;/p&gt;
 
-        &lt;p&gt;Otherwise:&lt;/p&gt;
+    &lt;p&gt;Otherwise:&lt;/p&gt;
 
-        &lt;p&gt;Pop elements from the &lt;span&gt;stack of open elements&lt;/span&gt;
-        until a &lt;code&gt;select&lt;/code&gt; element has been popped from the
-        stack.&lt;/p&gt;
+    &lt;p&gt;Pop elements from the &lt;span&gt;stack of open elements&lt;/span&gt;
+    until a &lt;code&gt;select&lt;/code&gt; element has been popped from the
+    stack.&lt;/p&gt;
 
-        &lt;p&gt;&lt;span&gt;Reset the insertion mode appropriately&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Reset the insertion mode appropriately&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;select&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;select&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Act as if the token had been
-        an end tag with the tag name &quot;select&quot; instead.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Act as if the token had been
+    an end tag with the tag name &quot;select&quot; instead.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is one of: &quot;caption&quot;, &quot;table&quot;,
-       &quot;tbody&quot;, &quot;tfoot&quot;, &quot;thead&quot;, &quot;tr&quot;, &quot;td&quot;, &quot;th&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is one of: &quot;caption&quot;, &quot;table&quot;,
+   &quot;tbody&quot;, &quot;tfoot&quot;, &quot;thead&quot;, &quot;tr&quot;, &quot;td&quot;, &quot;th&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span&gt;has an
-        element in table scope&lt;/span&gt; with the same tag name as that
-        of the token, then act as if an end tag with the tag name
-        &quot;select&quot; had been seen, and reprocess the token. Otherwise,
-        ignore the token.&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; &lt;span&gt;has an
+    element in table scope&lt;/span&gt; with the same tag name as that
+    of the token, then act as if an end tag with the tag name
+    &quot;select&quot; had been seen, and reprocess the token. Otherwise,
+    ignore the token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;Anything else&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-      &lt;/dl&gt;
+  &lt;/dl&gt;
 
 
-      &lt;h6 id=&quot;parsing-main-afterbody&quot;&gt;The &lt;dfn title=&quot;insertion mode: after body&quot;&gt;after body&lt;/dfn&gt; insertion mode&lt;/h6&gt;
+  &lt;h6 id=&quot;parsing-main-afterbody&quot;&gt;The &lt;dfn title=&quot;insertion mode: after body&quot;&gt;after body&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;p&gt;Handle the token as follows:&lt;/p&gt;
+  &lt;p&gt;Handle the token as follows:&lt;/p&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-       &lt;dt&gt;An end-of-file token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A character token that is one of one of U+0009
-       CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
-       TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
-       or U+0020 SPACE&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as it would be processed if the
-        &lt;span&gt;insertion mode&lt;/span&gt; was &quot;&lt;span title=&quot;insertion mode:
-        in body&quot;&gt;in body&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A character token that is one of one of U+0009
+   CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
+   TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
+   or U+0020 SPACE&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as it would be processed if the
+    &lt;span&gt;insertion mode&lt;/span&gt; was &quot;&lt;span title=&quot;insertion mode:
+    in body&quot;&gt;in body&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A comment token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the first element in
-        the &lt;span&gt;stack of open elements&lt;/span&gt; (the &lt;code&gt;html&lt;/code&gt;
-        element), with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
-        the data given in the comment token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A comment token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the first element in
+    the &lt;span&gt;stack of open elements&lt;/span&gt; (the &lt;code&gt;html&lt;/code&gt;
+    element), with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
+    the data given in the comment token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
-        been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
-        body&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
+    been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;html&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;html&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the parser was originally created as part of the
-        &lt;span&gt;HTML fragment parsing algorithm&lt;/span&gt;, this is a
-        &lt;span&gt;parse error&lt;/span&gt;; ignore the token. (The element will
-        be an &lt;code&gt;html&lt;/code&gt; element in this case.)
-        (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
+    &lt;p&gt;If the parser was originally created as part of the
+    &lt;span&gt;HTML fragment parsing algorithm&lt;/span&gt;, this is a
+    &lt;span&gt;parse error&lt;/span&gt;; ignore the token. (The element will
+    be an &lt;code&gt;html&lt;/code&gt; element in this case.)
+    (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
 
-        &lt;p&gt;Otherwise, switch to &lt;span&gt;the trailing end
-        phase&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Otherwise, switch to &lt;span&gt;the trailing end
+    phase&lt;/span&gt;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;Anything else&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the &lt;span&gt;insertion
-        mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
-        body&lt;/span&gt;&quot; and reprocess the token.&lt;/p&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Set the &lt;span&gt;insertion
+    mode&lt;/span&gt; to &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/span&gt;&quot; and reprocess the token.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-      &lt;/dl&gt;
+  &lt;/dl&gt;
 
 
-      &lt;h6 id=&quot;parsing-main-inframeset&quot;&gt;The &lt;dfn title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/dfn&gt; insertion mode&lt;/h6&gt;
+  &lt;h6 id=&quot;parsing-main-inframeset&quot;&gt;The &lt;dfn title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;p&gt;Handle the token as follows:&lt;/p&gt;
+  &lt;p&gt;Handle the token as follows:&lt;/p&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-       &lt;dt&gt;An end-of-file token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A character token that is one of one of U+0009
-       CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
-       TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
-       or U+0020 SPACE&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the character&lt;/span&gt; to
-        the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A character token that is one of one of U+0009
+   CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
+   TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
+   or U+0020 SPACE&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the character&lt;/span&gt; to
+    the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A comment token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
-        node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
-        the data given in the comment token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A comment token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
+    node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
+    the data given in the comment token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
-        been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
-        body&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
+    been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;frameset&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;Insert an HTML element&quot;&gt;Insert a
-        &lt;code&gt;frameset&lt;/code&gt; element&lt;/span&gt; for the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;frameset&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span title=&quot;Insert an HTML element&quot;&gt;Insert a
+    &lt;code&gt;frameset&lt;/code&gt; element&lt;/span&gt; for the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;frameset&quot;&lt;/dt&gt;
-       &lt;dd&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;frameset&quot;&lt;/dt&gt;
+   &lt;dd&gt;
 
-        &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is the root
-        &lt;code&gt;html&lt;/code&gt; element, then this is a &lt;span&gt;parse
-        error&lt;/span&gt;; ignore the token. (&lt;span&gt;fragment
-        case&lt;/span&gt;)&lt;/p&gt;
+    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is the root
+    &lt;code&gt;html&lt;/code&gt; element, then this is a &lt;span&gt;parse
+    error&lt;/span&gt;; ignore the token. (&lt;span&gt;fragment
+    case&lt;/span&gt;)&lt;/p&gt;
 
-        &lt;p&gt;Otherwise, pop the &lt;span&gt;current node&lt;/span&gt; from the
-        &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
+    &lt;p&gt;Otherwise, pop the &lt;span&gt;current node&lt;/span&gt; from the
+    &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
 
-        &lt;p&gt;If the parser was &lt;em&gt;not&lt;/em&gt; originally created as part
-        of the &lt;span&gt;HTML fragment parsing algorithm&lt;/span&gt;
-        (&lt;span&gt;fragment case&lt;/span&gt;), and the &lt;span&gt;current
-        node&lt;/span&gt; is no longer a &lt;code&gt;frameset&lt;/code&gt; element, then
-        change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
-        title=&quot;insertion mode: after frameset&quot;&gt;after
-        frameset&lt;/span&gt;&quot;.&lt;/p&gt;
+    &lt;p&gt;If the parser was &lt;em&gt;not&lt;/em&gt; originally created as part
+    of the &lt;span&gt;HTML fragment parsing algorithm&lt;/span&gt;
+    (&lt;span&gt;fragment case&lt;/span&gt;), and the &lt;span&gt;current
+    node&lt;/span&gt; is no longer a &lt;code&gt;frameset&lt;/code&gt; element, then
+    change the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
+    title=&quot;insertion mode: after frameset&quot;&gt;after
+    frameset&lt;/span&gt;&quot;.&lt;/p&gt;
 
-       &lt;/dd&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;frame&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.
-        Immediately pop the &lt;span&gt;current node&lt;/span&gt; off the
-        &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;frame&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Insert an HTML element&lt;/span&gt; for the token.
+    Immediately pop the &lt;span&gt;current node&lt;/span&gt; off the
+    &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;noframes&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
-        been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;noframes&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
+    been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;Anything else&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-      &lt;/dl&gt;
+  &lt;/dl&gt;
 
 
-      &lt;h6 id=&quot;parsing-main-afterframeset&quot;&gt;The &lt;dfn title=&quot;insertion mode: after frameset&quot;&gt;after frameset&lt;/dfn&gt; insertion mode&lt;/h6&gt;
+  &lt;h6 id=&quot;parsing-main-afterframeset&quot;&gt;The &lt;dfn title=&quot;insertion mode: after frameset&quot;&gt;after frameset&lt;/dfn&gt; insertion mode&lt;/h6&gt;
 
-      &lt;p&gt;Handle the token as follows:&lt;/p&gt;
+  &lt;p&gt;Handle the token as follows:&lt;/p&gt;
 
-      &lt;dl class=&quot;switch&quot;&gt;
+  &lt;dl class=&quot;switch&quot;&gt;
 
-       &lt;dt&gt;An end-of-file token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end-of-file token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Stop parsing, with prejudice.&lt;/span&gt;&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A character token that is one of one of U+0009
-       CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
-       TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
-       or U+0020 SPACE&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the character&lt;/span&gt; to
-        the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A character token that is one of one of U+0009
+   CHARACTER TABULATION, U+000A LINE FEED (LF), U+000B LINE
+   TABULATION, U+000C FORM FEED (FF), &lt;!--U+000D CARRIAGE RETURN (CR),--&gt;
+   or U+0020 SPACE&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span title=&quot;append a character&quot;&gt;Append the character&lt;/span&gt; to
+    the &lt;span&gt;current node&lt;/span&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A comment token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
-        node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
-        the data given in the comment token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A comment token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Append a &lt;code&gt;Comment&lt;/code&gt; node to the &lt;span&gt;current
+    node&lt;/span&gt; with the &lt;code title=&quot;&quot;&gt;data&lt;/code&gt; attribute set to
+    the data given in the comment token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A DOCTYPE token&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
-        been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
-        body&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;html&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
+    been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
+    body&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;An end tag whose tag name is &quot;html&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Switch to &lt;span&gt;the trailing end phase&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;An end tag whose tag name is &quot;html&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Switch to &lt;span&gt;the trailing end phase&lt;/span&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;A start tag whose tag name is &quot;noframes&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
-        been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot;.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;A start tag whose tag name is &quot;noframes&quot;&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;Process the token as if the &lt;span&gt;insertion mode&lt;/span&gt; had
+    been &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in body&lt;/span&gt;&quot;.&lt;/p&gt;
+   &lt;/dd&gt;
 
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
+   &lt;dt&gt;Anything else&lt;/dt&gt;
+   &lt;dd&gt;
+    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Ignore the token.&lt;/p&gt;
+   &lt;/dd&gt;
 
-      &lt;/dl&gt;
+  &lt;/dl&gt;
 
   &lt;p class=&quot;big-issue&quot;&gt;This doesn't handle UAs that don't support
   frames, or that do support frames but want to show the NOFRAMES


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008211.html">[html5] r1309 - /
</A></li>
	<LI>Next message: <A HREF="008213.html">[html5] r1311 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8212">[ date ]</a>
              <a href="thread.html#8212">[ thread ]</a>
              <a href="subject.html#8212">[ subject ]</a>
              <a href="author.html#8212">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
