<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1267 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1267%20-%20/&In-Reply-To=%3C20080227215535.DA73B139DDD%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008174.html">
   <LINK REL="Next"  HREF="008176.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1267 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1267%20-%20/&In-Reply-To=%3C20080227215535.DA73B139DDD%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1267 - /">whatwg at whatwg.org
       </A><BR>
    <I>Wed Feb 27 13:55:35 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008174.html">[html5] r1266 - /
</A></li>
        <LI>Next message: <A HREF="008176.html">[html5] r1268 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8175">[ date ]</a>
              <a href="thread.html#8175">[ thread ]</a>
              <a href="subject.html#8175">[ subject ]</a>
              <a href="author.html#8175">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-02-27 13:55:34 -0800 (Wed, 27 Feb 2008)
New Revision: 1267

Modified:
   index
   source
Log:
[c] (1) Clarify requirements for character encoding declarations

Modified: index
===================================================================
--- index	2008-02-27 21:31:36 UTC (rev 1266)
+++ index	2008-02-27 21:55:34 UTC (rev 1267)
@@ -7336,21 +7336,21 @@
    &lt;dd&gt;If the &lt;code title=attr-meta-charset&gt;&lt;a
     href=&quot;#charset0&quot;&gt;charset&lt;/a&gt;&lt;/code&gt; attribute is present, or if the
     element is in the &lt;a href=&quot;#encoding&quot;
-    title=attr-meta-http-equiv-content-type&gt;Content-Type state&lt;/a&gt;: as the
-    first element in a &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element.
+    title=attr-meta-http-equiv-content-type&gt;Encoding declaraton state&lt;/a&gt;: as
+    the first element in a &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element.
 
    &lt;dd&gt;If the &lt;code title=attr-meta-http-equiv&gt;&lt;a
     href=&quot;#http-equiv0&quot;&gt;http-equiv&lt;/a&gt;&lt;/code&gt; attribute is present, and the
     element is not in the &lt;a href=&quot;#encoding&quot;
-    title=attr-meta-http-equiv-content-type&gt;Content-Type state&lt;/a&gt;: in a
-    &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element.
+    title=attr-meta-http-equiv-content-type&gt;Encoding declaraton state&lt;/a&gt;: in
+    a &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element.
 
    &lt;dd&gt;If the &lt;code title=attr-meta-http-equiv&gt;&lt;a
     href=&quot;#http-equiv0&quot;&gt;http-equiv&lt;/a&gt;&lt;/code&gt; attribute is present, and the
     element is not in the &lt;a href=&quot;#encoding&quot;
-    title=attr-meta-http-equiv-content-type&gt;Content-Type state&lt;/a&gt;: in a
-    &lt;code&gt;&lt;a href=&quot;#noscript&quot;&gt;noscript&lt;/a&gt;&lt;/code&gt; element that is a child of
-    a &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element.
+    title=attr-meta-http-equiv-content-type&gt;Encoding declaraton state&lt;/a&gt;: in
+    a &lt;code&gt;&lt;a href=&quot;#noscript&quot;&gt;noscript&lt;/a&gt;&lt;/code&gt; element that is a child
+    of a &lt;code&gt;&lt;a href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element.
 
    &lt;dd&gt;If the &lt;code title=attr-meta-name&gt;&lt;a href=&quot;#name&quot;&gt;name&lt;/a&gt;&lt;/code&gt;
     attribute is present: where &lt;a href=&quot;#metadata0&quot;&gt;metadata content&lt;/a&gt; is
@@ -7678,19 +7678,19 @@
 
   &lt;dl&gt;
    &lt;dt&gt;&lt;dfn id=encoding title=attr-meta-http-equiv-content-type&gt;Encoding
-    declaration&lt;/dfn&gt;
+    declaration state&lt;/dfn&gt;
 
    &lt;dd&gt;
     &lt;p&gt;The &lt;a href=&quot;#encoding&quot;
-     title=attr-meta-http-equiv-content-type&gt;Content-Type state's&lt;/a&gt;
-     requirements are all handled by the parsing section of the
+     title=attr-meta-http-equiv-content-type&gt;Encoding declaration state's&lt;/a&gt;
+     user agent requirements are all handled by the parsing section of the
      specification. The state is just an alternative form of setting the
      &lt;code title=meta-charset&gt;charset&lt;/code&gt; attribute: it is &lt;a
      href=&quot;#charset&quot;&gt;a character encoding declaration&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;For &lt;code&gt;&lt;a href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt; elements in the &lt;a
-     href=&quot;#encoding&quot; title=attr-meta-http-equiv-content-type&gt;Content-Type
-     state&lt;/a&gt;, the &lt;code title=attr-meta-content&gt;&lt;a
+     href=&quot;#encoding&quot; title=attr-meta-http-equiv-content-type&gt;Encoding
+     declaraton state&lt;/a&gt;, the &lt;code title=attr-meta-content&gt;&lt;a
      href=&quot;#content0&quot;&gt;content&lt;/a&gt;&lt;/code&gt; attribute must have a value
      consisting of the literal string &quot;&lt;code title=&quot;&quot;&gt;text/html;&lt;/code&gt;&quot;,
      optionally followed by a single U+0020 SPACE character, followed by the
@@ -7700,18 +7700,18 @@
 
     &lt;p&gt;If the document contains a &lt;code&gt;&lt;a href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt;
      element in the &lt;a href=&quot;#encoding&quot;
-     title=attr-meta-http-equiv-content-type&gt;Content-Type state&lt;/a&gt; then that
-     element must be the first element in the document's &lt;code&gt;&lt;a
+     title=attr-meta-http-equiv-content-type&gt;Encoding declaraton state&lt;/a&gt;
+     then that element must be the first element in the document's &lt;code&gt;&lt;a
      href=&quot;#head&quot;&gt;head&lt;/a&gt;&lt;/code&gt; element, and the document must not contain
      a &lt;code&gt;&lt;a href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt; element with the &lt;code
      title=attr-meta-charset&gt;&lt;a href=&quot;#charset0&quot;&gt;charset&lt;/a&gt;&lt;/code&gt; attribute
      present.&lt;/p&gt;
 
     &lt;p&gt;The &lt;a href=&quot;#encoding&quot;
-     title=attr-meta-http-equiv-content-type&gt;Content-Type state&lt;/a&gt; may be
-     used in &lt;a href=&quot;#html5&quot; title=HTML5&gt;HTML documents&lt;/a&gt; only, elements
-     in that state must not be used in &lt;a href=&quot;#xhtml5&quot; title=XHTML&gt;XML
-     documents&lt;/a&gt;.&lt;/p&gt;
+     title=attr-meta-http-equiv-content-type&gt;Encoding declaraton state&lt;/a&gt;
+     may be used in &lt;a href=&quot;#html5&quot; title=HTML5&gt;HTML documents&lt;/a&gt; only,
+     elements in that state must not be used in &lt;a href=&quot;#xhtml5&quot;
+     title=XHTML&gt;XML documents&lt;/a&gt;.&lt;/p&gt;
 
    &lt;dt&gt;&lt;dfn id=default title=attr-meta-http-equiv-default-style&gt;Default style
     state&lt;/dfn&gt;
@@ -7889,7 +7889,8 @@
    provide UAs with character encoding information for &lt;a href=&quot;#html5&quot;
    title=HTML5&gt;HTML&lt;/a&gt; files, by setting the &lt;dfn id=charset0
    title=attr-meta-charset&gt;&lt;code&gt;charset&lt;/code&gt;&lt;/dfn&gt; attribute to the name
-   of a character encoding. This is called a character encoding declaration.
+   of a character encoding. This is called a character encoding declaration.&lt;/p&gt;
+  &lt;!-- XXX maybe the rest should move to &quot;writing html&quot; section --&gt;
 
   &lt;p&gt;The following restrictions apply to character encoding declarations:
 
@@ -7905,7 +7906,6 @@
    &lt;li&gt;The attribute value must be serialised without the use of character
     entity references of any kind.
   &lt;/ul&gt;
-  &lt;!-- XXX next three paragraphs maybe should move to &quot;writing html&quot; section --&gt;
 
   &lt;p&gt;If the document does not start with a BOM, and if its encoding is not
    explicitly given by &lt;a href=&quot;#content-type8&quot;
@@ -7919,7 +7919,9 @@
    and, in addition, if that encoding isn't US-ASCII itself, then the
    encoding must be specified using a &lt;code&gt;&lt;a href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt;
    element with a &lt;code title=attr-meta-charset&gt;&lt;a
-   href=&quot;#charset0&quot;&gt;charset&lt;/a&gt;&lt;/code&gt; attribute.
+   href=&quot;#charset0&quot;&gt;charset&lt;/a&gt;&lt;/code&gt; attribute or a &lt;code&gt;&lt;a
+   href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=&quot;#encoding&quot;
+   title=attr-meta-http-equiv-content-type&gt;Encoding declaraton state&lt;/a&gt;.
 
   &lt;p&gt;Authors should not use JIS_X0212-1990, x-JIS0208, and encodings based on
    EBCDIC. Authors should not use UTF-32. Authors must not use the CESU-8,

Modified: source
===================================================================
--- source	2008-02-27 21:31:36 UTC (rev 1266)
+++ source	2008-02-27 21:55:34 UTC (rev 1267)
@@ -5832,9 +5832,9 @@
    &lt;dt&gt;Categories&lt;/dt&gt;
    &lt;dd&gt;&lt;span&gt;Metadata content&lt;/span&gt;.&lt;/dd&gt;
    &lt;dt&gt;Contexts in which this element may be used:&lt;/dt&gt;
-   &lt;dd&gt;If the &lt;code title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute is present, or if the element is in the &lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type state&lt;/span&gt;: as the first element in a &lt;code&gt;head&lt;/code&gt; element.&lt;/dd&gt;
-   &lt;dd&gt;If the &lt;code title=&quot;attr-meta-http-equiv&quot;&gt;http-equiv&lt;/code&gt; attribute is present, and the element is not in the &lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type state&lt;/span&gt;: in a &lt;code&gt;head&lt;/code&gt; element.&lt;/dd&gt;
-   &lt;dd&gt;If the &lt;code title=&quot;attr-meta-http-equiv&quot;&gt;http-equiv&lt;/code&gt; attribute is present, and the element is not in the &lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type state&lt;/span&gt;: in a &lt;code&gt;noscript&lt;/code&gt; element that is a child of a &lt;code&gt;head&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;If the &lt;code title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute is present, or if the element is in the &lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Encoding declaraton state&lt;/span&gt;: as the first element in a &lt;code&gt;head&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;If the &lt;code title=&quot;attr-meta-http-equiv&quot;&gt;http-equiv&lt;/code&gt; attribute is present, and the element is not in the &lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Encoding declaraton state&lt;/span&gt;: in a &lt;code&gt;head&lt;/code&gt; element.&lt;/dd&gt;
+   &lt;dd&gt;If the &lt;code title=&quot;attr-meta-http-equiv&quot;&gt;http-equiv&lt;/code&gt; attribute is present, and the element is not in the &lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Encoding declaraton state&lt;/span&gt;: in a &lt;code&gt;noscript&lt;/code&gt; element that is a child of a &lt;code&gt;head&lt;/code&gt; element.&lt;/dd&gt;
    &lt;dd&gt;If the &lt;code title=&quot;attr-meta-name&quot;&gt;name&lt;/code&gt; attribute is present: where &lt;span&gt;metadata content&lt;/span&gt; is expected.&lt;/dd&gt;
    &lt;dt&gt;Content model:&lt;/dt&gt;
    &lt;dd&gt;Empty.&lt;/dd&gt;
@@ -6150,19 +6150,19 @@
 
   &lt;dl&gt;
 
-   &lt;dt&gt;&lt;dfn title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Encoding declaration&lt;/dfn&gt;
+   &lt;dt&gt;&lt;dfn title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Encoding declaration state&lt;/dfn&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;The &lt;span
-    title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type
-    state's&lt;/span&gt; requirements are all handled by the parsing section
-    of the specification. The state is just an alternative form of
-    setting the &lt;code title=&quot;meta-charset&quot;&gt;charset&lt;/code&gt; attribute:
-    it is &lt;a href=&quot;#charset&quot;&gt;a character encoding declaration&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;The &lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Encoding
+    declaration state's&lt;/span&gt; user agent requirements are all handled
+    by the parsing section of the specification. The state is just an
+    alternative form of setting the &lt;code
+    title=&quot;meta-charset&quot;&gt;charset&lt;/code&gt; attribute: it is &lt;a
+    href=&quot;#charset&quot;&gt;a character encoding declaration&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;For &lt;code&gt;meta&lt;/code&gt; elements in the &lt;span
-    title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type
+    title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Encoding declaraton
     state&lt;/span&gt;, the &lt;code title=&quot;attr-meta-content&quot;&gt;content&lt;/code&gt;
     attribute must have a value consisting of the literal string
     &quot;&lt;code title=&quot;&quot;&gt;text/html;&lt;/code&gt;&quot;, optionally followed by a
@@ -6172,15 +6172,15 @@
     declaration&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;If the document contains a &lt;code&gt;meta&lt;/code&gt; element in the
-    &lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type
-    state&lt;/span&gt; then that element must be the first element in the
-    document's &lt;code&gt;head&lt;/code&gt; element, and the document must not
-    contain a &lt;code&gt;meta&lt;/code&gt; element with the &lt;code
-    title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute present.&lt;/p&gt;
+    &lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Encoding
+    declaraton state&lt;/span&gt; then that element must be the first
+    element in the document's &lt;code&gt;head&lt;/code&gt; element, and the
+    document must not contain a &lt;code&gt;meta&lt;/code&gt; element with the
+    &lt;code title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute
+    present.&lt;/p&gt;
 
-    &lt;p&gt;The &lt;span
-    title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Content-Type
-    state&lt;/span&gt; may be used in &lt;span title=&quot;HTML5&quot;&gt;HTML
+    &lt;p&gt;The &lt;span title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Encoding
+    declaraton state&lt;/span&gt; may be used in &lt;span title=&quot;HTML5&quot;&gt;HTML
     documents&lt;/span&gt; only, elements in that state must not be used in
     &lt;span title=&quot;XHTML&quot;&gt;XML documents&lt;/span&gt;.&lt;/p&gt;
 
@@ -6364,6 +6364,8 @@
   the name of a character encoding. This is called a character
   encoding declaration.&lt;/p&gt;
 
+  &lt;!-- XXX maybe the rest should move to &quot;writing html&quot; section --&gt;
+
   &lt;p&gt;The following restrictions apply to character encoding
   declarations:&lt;/p&gt;
 
@@ -6382,8 +6384,6 @@
 
   &lt;/ul&gt;
 
-  &lt;!-- XXX next three paragraphs maybe should move to &quot;writing html&quot; section --&gt;
-
   &lt;p&gt;If the document does not start with a BOM, and if its encoding is
   not explicitly given by &lt;span title=&quot;Content-Type&quot;&gt;Content-Type
   metadata&lt;/span&gt;, then the character encoding used must be a superset
@@ -6393,7 +6393,10 @@
   any character sets we want to support do things outside that range?
   --&gt;, and, in addition, if that encoding isn't US-ASCII itself, then
   the encoding must be specified using a &lt;code&gt;meta&lt;/code&gt; element
-  with a &lt;code title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute.&lt;/p&gt;
+  with a &lt;code title=&quot;attr-meta-charset&quot;&gt;charset&lt;/code&gt; attribute or a
+  &lt;code&gt;meta&lt;/code&gt; element in the &lt;span
+  title=&quot;attr-meta-http-equiv-content-type&quot;&gt;Encoding declaraton
+  state&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;Authors should not use JIS_X0212-1990, x-JIS0208, and encodings
   based on EBCDIC. Authors should not use UTF-32. Authors must not use


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008174.html">[html5] r1266 - /
</A></li>
	<LI>Next message: <A HREF="008176.html">[html5] r1268 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8175">[ date ]</a>
              <a href="thread.html#8175">[ thread ]</a>
              <a href="subject.html#8175">[ subject ]</a>
              <a href="author.html#8175">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
