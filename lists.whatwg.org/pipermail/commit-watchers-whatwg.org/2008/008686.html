<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1788 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1788%20-%20/&In-Reply-To=%3C20080618212012.2171138E070%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008685.html">
   <LINK REL="Next"  HREF="008687.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1788 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1788%20-%20/&In-Reply-To=%3C20080618212012.2171138E070%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1788 - /">whatwg at whatwg.org
       </A><BR>
    <I>Wed Jun 18 14:20:12 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008685.html">[html5] r1787 - /
</A></li>
        <LI>Next message: <A HREF="008687.html">[html5] r1789 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8686">[ date ]</a>
              <a href="thread.html#8686">[ thread ]</a>
              <a href="subject.html#8686">[ subject ]</a>
              <a href="author.html#8686">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-06-18 14:20:11 -0700 (Wed, 18 Jun 2008)
New Revision: 1788

Modified:
   index
   source
Log:
[e] (0) yet more mindnumbingly boring preparation work for the upcoming URL reorg

Modified: index
===================================================================
--- index	2008-06-18 08:19:37 UTC (rev 1787)
+++ index	2008-06-18 21:20:11 UTC (rev 1788)
@@ -30940,8 +30940,7 @@
   &lt;p&gt;The &lt;code title=dom-navigator-registerContentHandler&gt;&lt;a
    href=&quot;#registercontenthandler&quot;&gt;registerContentHandler()&lt;/a&gt;&lt;/code&gt; method
    would work equivalently, but for unknown MIME types instead of unknown
-   protocols.&lt;/p&gt;
-  &lt;!-- XXXURL XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX --&gt;
+   protocols.
 
   &lt;h3 id=offline&gt;&lt;span class=secno&gt;4.7 &lt;/span&gt;Offline Web applications&lt;/h3&gt;
 
@@ -30952,15 +30951,18 @@
   &lt;p class=big-issue&gt;...
 
   &lt;h4 id=appcache&gt;&lt;span class=secno&gt;4.7.2 &lt;/span&gt;Application caches&lt;/h4&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;An &lt;dfn id=application0&gt;application cache&lt;/dfn&gt; is a collection of
    resources. An application cache is identified by the URI of a resource
-   manifest which is used to populate the cache.
+   manifest which is used to populate the cache.&lt;/p&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;Application caches are versioned, and there can be different instances
    of caches for the same manifest URI, each having a different version. A
    cache is newer than another if it was created after the other (in other
-   words, caches in a group have a chronological order).
+   words, caches in a group have a chronological order).&lt;/p&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;Each group of application caches for the same manifest URI have a common
    &lt;dfn id=update0 title=concept-appcache-status&gt;update status&lt;/dfn&gt;, which
@@ -30985,7 +30987,7 @@
   &lt;p&gt;An application cache consists of:
 
   &lt;ul&gt;
-   &lt;li&gt;
+   &lt;li&gt; &lt;!-- XXXURL change to URL --&gt;
     &lt;p&gt;One of more resources (including their out-of-band metadata, such as
      HTTP headers, if any), identified by URIs, each falling into one (or
      more) of the following categories:&lt;/p&gt;
@@ -31002,7 +31004,7 @@
       attribute.
 
      &lt;dt&gt;&lt;dfn id=the-manifest title=concept-appcache-manifest&gt;The
-      manifest&lt;/dfn&gt;
+      manifest&lt;/dfn&gt; &lt;!-- XXXURL change to URL --&gt;
 
      &lt;dd&gt;The resource corresponding to the URI that was given in an implicit
       entry's &lt;code&gt;&lt;a href=&quot;#html&quot;&gt;html&lt;/a&gt;&lt;/code&gt; element's &lt;code
@@ -31033,6 +31035,7 @@
 
      &lt;dt&gt;&lt;dfn id=opportunistically
       title=concept-appcache-oppcache&gt;Opportunistically cached entries&lt;/dfn&gt;
+      &lt;!-- XXXURL change to URL --&gt;
 
      &lt;dd&gt;Resources whose URIs &lt;a href=&quot;#matches&quot;
       title=concept-appcache-matches-oppcache&gt;matched&lt;/a&gt; an &lt;a
@@ -31046,11 +31049,13 @@
      &lt;dd&gt;Resources that were added to the cache by the &lt;code
       title=dom-appcache-add&gt;&lt;a href=&quot;#adduri&quot;&gt;add()&lt;/a&gt;&lt;/code&gt; method.
     &lt;/dl&gt;
-
+    &lt;!-- XXXURL change to URL --&gt;
     &lt;p class=note&gt;A URI in the list can be flagged with multiple different
      types, and thus an entry can end up being categorized as multiple
      entries. For example, an entry can be an explicit entry and a dynamic
      entry at the same time.&lt;/p&gt;
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;Zero or more &lt;dfn id=opportunistic
     title=concept-appcache-oppcache-ns&gt;opportunistic caching
@@ -31060,7 +31065,8 @@
     title=concept-appcache-fallback&gt;fallback entry&lt;/a&gt;. Each namespace URI
     prefix, when parsed as a URI, has the &lt;a href=&quot;#same-origin&quot;&gt;same
     origin&lt;/a&gt; as &lt;a href=&quot;#the-manifest&quot; title=concept-appcache-manifest&gt;the
-    manifest&lt;/a&gt;.
+    manifest&lt;/a&gt;.&lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;Zero or more URIs that form the &lt;dfn id=online
     title=concept-appcache-onlinewhitelist&gt;online whitelist&lt;/dfn&gt;.
@@ -31123,7 +31129,7 @@
      CHARACTER TABULATION (tab) characters, followed by a single U+0023
      NUMBER SIGN (#) character, followed by zero or more characters other
      than U+000A LINE FEED (LF) and U+000D CARRIAGE RETURN (CR) characters.&lt;/p&gt;
-
+    &lt;!-- XXXURL change to URL --&gt;
     &lt;p class=note&gt;Comments must be on a line on their own. If they were to be
      included on a line with a URI, the &quot;#&quot; would be mistaken for part of a
      fragment identifier.&lt;/p&gt;
@@ -31177,13 +31183,14 @@
      zero or more U+0020 SPACE and U+0009 CHARACTER TABULATION (tab)
      characters. &lt;a href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt; &lt;a
      href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;&lt;/p&gt;
-
+    &lt;!-- XXXURL change to URL --&gt;
     &lt;p class=note&gt;The URI or IRI references in data lines can't be empty
      strings, since those would be relative URIs to the manifest itself. Such
      lines would be confused with blank or invalid lines, anyway.&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;p&gt;Manifests may contain sections more than once. Sections may be empty.
+  &lt;p&gt;Manifests may contain sections more than once. Sections may be empty.&lt;/p&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;URIs that are to be fallback pages associated with &lt;a
    href=&quot;#opportunistic&quot; title=concept-appcache-oppcache-ns&gt;opportunistic
@@ -31197,19 +31204,23 @@
    must have the &lt;a href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt; as the manifest
    itself.
 
-  &lt;p&gt;An opportunistic caching namespace must not be listed more than once.
+  &lt;p&gt;An opportunistic caching namespace must not be listed more than once.&lt;/p&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;URIs that the user agent is to put into the &lt;a href=&quot;#online&quot;
    title=concept-appcache-onlinewhitelist&gt;online whitelist&lt;/a&gt; must all be
    specified in online whitelist sections. (This is needed for any URI that
-   the page is intending to use to communicate back to the server.)
+   the page is intending to use to communicate back to the server.)&lt;/p&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;URIs in the online whitelist section must not also be listed in explicit
    section, and must not be listed as fallback entries in the fallback
    section. (URIs in the online whitelist section may match opportunistic
-   caching namespaces, however.)
+   caching namespaces, however.)&lt;/p&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
-  &lt;p&gt;Relative URIs must be given relative to the manifest's own URI.
+  &lt;p&gt;Relative URIs must be given relative to the manifest's own URI.&lt;/p&gt;
+  &lt;!-- XXXURL change to URL; maybe have explicit support for this in the URL section? --&gt;
 
   &lt;p&gt;URIs in manifests must not have fragment identifiers.
 
@@ -31227,10 +31238,14 @@
    be replaced by U+FFFD REPLACEMENT CHARACTERs. (this isn't black-box
    testable since neither U+0000 nor U+FFFD are valid anywhere in the
    syntax and thus both will be treated the same anyway)--&gt;
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;explicit URIs&lt;/var&gt; be an initially empty list of &lt;a
      href=&quot;#explicit&quot; title=concept-appcache-explicit&gt;explicit entries&lt;/a&gt;.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;fallback URIs&lt;/var&gt; be an initially empty mapping of
@@ -31238,6 +31253,8 @@
      title=concept-appcache-oppcache-ns&gt;opportunistic caching namespaces&lt;/a&gt;
      to &lt;a href=&quot;#fallback0&quot; title=concept-appcache-fallback&gt;fallback
      entries&lt;/a&gt;.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;online whitelist URIs&lt;/var&gt; be an initially empty
@@ -31329,19 +31346,19 @@
     &lt;dl class=switch&gt;
      &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;mode&lt;/var&gt; is &quot;explicit&quot;
 
-     &lt;dd&gt;
+     &lt;dd&gt; &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is not a syntactically correct URI
        reference or IRI reference, then jump back to the step labeled &quot;start
        of line&quot;.&lt;/p&gt;
-
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;Otherwise, resolve the URI reference or IRI reference to an absolute
        URI or IRI, and drop the fragment identifier, if any.&lt;/p&gt;
-
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;Now, if the resource's URI has a different &lt;scheme&gt; component
        than the manifest's URI (compared
        case-insensitively&lt;!-- XXX ASCII --&gt;), then jump back to the step
        labeled &quot;start of line&quot;.&lt;/p&gt;
-
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;Otherwise, add this URI to the &lt;var title=&quot;&quot;&gt;explicit URIs&lt;/var&gt;.&lt;/p&gt;
 
      &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;mode&lt;/var&gt; is &quot;fallback&quot;
@@ -31359,32 +31376,32 @@
 
       &lt;p&gt;Strip any leading U+0020 SPACE or U+0009 CHARACTER TABULATION (tab)
        characters in &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt;.&lt;/p&gt;
-
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;If &lt;var title=&quot;&quot;&gt;part one&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt; are
        not both syntactically correct URI or IRI references, then jump back
        to the step labeled &quot;start of line&quot;.&lt;/p&gt;
-
+      &lt;!-- XXXURL use algorithms --&gt;
       &lt;p&gt;Resolve the URI or IRI references in &lt;var title=&quot;&quot;&gt;part one&lt;/var&gt;
        and &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt; to absolute URIs or IRIs, and drop
        the fragment identifiers, if any.&lt;/p&gt;
-
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;If the absolute URI or IRI corresponding to &lt;var title=&quot;&quot;&gt;part
        one&lt;/var&gt; is already in the &lt;var title=&quot;&quot;&gt;fallback URIs&lt;/var&gt; mapping
        as an &lt;a href=&quot;#opportunistic&quot;
        title=concept-appcache-oppcache-ns&gt;opportunistic caching
        namespace&lt;/a&gt;, then jump back to the step labeled &quot;start of line&quot;.&lt;/p&gt;
-
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;If the absolute URI or IRI corresponding to &lt;var title=&quot;&quot;&gt;part
        one&lt;/var&gt; does not have the &lt;a href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt; as
        the manifest's URI, then jump back to the step labeled &quot;start of
        line&quot;.&lt;/p&gt;
-      &lt;!-- SECURITY --&gt;
+      &lt;!-- SECURITY --&gt; &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;If the absolute URI or IRI corresponding to &lt;var title=&quot;&quot;&gt;part
        two&lt;/var&gt; has a different &lt;scheme&gt; component than the manifest's
        URI (compared case-insensitively&lt;!-- XXX
       ASCII --&gt;), then jump
        back to the step labeled &quot;start of line&quot;.&lt;/p&gt;
-
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;Otherwise, add the absolute URI or IRI corresponding to &lt;var
        title=&quot;&quot;&gt;part one&lt;/var&gt; to the &lt;var title=&quot;&quot;&gt;fallback URIs&lt;/var&gt;
        mapping as an &lt;a href=&quot;#opportunistic&quot;
@@ -31395,18 +31412,18 @@
 
      &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;mode&lt;/var&gt; is &quot;online whitelist&quot;
 
-     &lt;dd&gt;
+     &lt;dd&gt; &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is not a syntactically correct URI
        reference or IRI reference, then jump back to the step labeled &quot;start
        of line&quot;.&lt;/p&gt;
-
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;Otherwise, resolve the URI reference or IRI reference to an absolute
        URI or IRI, and drop the fragment identifier, if any.&lt;/p&gt;
-
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;Now, if the resource's URI has a different &lt;scheme&gt; component
        than the manifest's URI, then jump back to the step labeled &quot;start of
        line&quot;.&lt;/p&gt;
-
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;Otherwise, add this URI to the &lt;var title=&quot;&quot;&gt;online whitelist
        URIs&lt;/var&gt;.&lt;/p&gt;
     &lt;/dl&gt;
@@ -31414,12 +31431,15 @@
    &lt;li&gt;
     &lt;p&gt;Jump back to the step labeled &quot;start of line&quot;. (That step jumps to the
      next, and last, step when the end of the file is reached.)
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;Return the &lt;var title=&quot;&quot;&gt;explicit URIs&lt;/var&gt; list, the &lt;var
      title=&quot;&quot;&gt;fallback URIs&lt;/var&gt; mapping, and the &lt;var title=&quot;&quot;&gt;online
      whitelist URIs&lt;/var&gt;.
   &lt;/ol&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;Relative URI references and IRI references resolved to absolute URIs or
    IRIs in the above algorithm must be resolved according to section 5.1 of
@@ -31448,16 +31468,21 @@
    ui the first time they cache themselves (right now the original cache is
    done without notifications to the browsing contexts)
 
-  &lt;ol&gt;
+  &lt;ol&gt;&lt;!-- XXXURL change to URL --&gt;
+
    &lt;li&gt;
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;manifest URI&lt;/var&gt; be the URI of the &lt;a
      href=&quot;#the-manifest&quot; title=concept-appcache-manifest&gt;manifest&lt;/a&gt; of the
      cache to be updated.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cache group&lt;/var&gt; be the group of &lt;a
      href=&quot;#application0&quot; title=&quot;application cache&quot;&gt;application caches&lt;/a&gt;
      identified by &lt;var title=&quot;&quot;&gt;manifest URI&lt;/var&gt;.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cache&lt;/var&gt; be the most recently updated &lt;a
@@ -31474,7 +31499,7 @@
      &lt;i&gt;checking&lt;/i&gt;. This entire step must be performed as one atomic
      operation so as to avoid race conditions.
 
-   &lt;li&gt;
+   &lt;li&gt; &lt;!-- XXXURL change to URL --&gt;
     &lt;p&gt;If there is already a resource with the URI of &lt;var title=&quot;&quot;&gt;manifest
      URI&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;cache&lt;/var&gt;, and that resource is categorized
      as a &lt;a href=&quot;#the-manifest&quot;
@@ -31501,7 +31526,7 @@
      indicating to the user that the user agent is checking for the
      availability of updates.&lt;/p&gt;
 
-   &lt;li&gt;
+   &lt;li&gt; &lt;!-- XXXURL change to URL --&gt;
     &lt;p&gt;Fetch the resource from &lt;var title=&quot;&quot;&gt;manifest URI&lt;/var&gt;, and let &lt;var
      title=&quot;&quot;&gt;manifest&lt;/var&gt; be that resource.&lt;/p&gt;
 
@@ -31572,6 +31597,8 @@
      with a cache in &lt;var title=&quot;&quot;&gt;cache group&lt;/var&gt;. The default action of
      this event should be the display of some sort of user interface
      indicating to the user that a new version is being downloaded.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;If this is an &lt;a href=&quot;#upgrade&quot;
@@ -31581,21 +31608,29 @@
      title=&quot;&quot;&gt;manifest URI&lt;/span&gt;, being a new version in &lt;var title=&quot;&quot;&gt;cache
      group&lt;/var&gt;. Otherwise, let &lt;var title=&quot;&quot;&gt;new cache&lt;/var&gt; and &lt;var
      title=&quot;&quot;&gt;cache&lt;/var&gt; be the same version of the application cache.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt; be an empty list of URIs with flags.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;Add all the URIs in the list of &lt;a href=&quot;#explicit&quot;
      title=concept-appcache-explicit&gt;explicit entries&lt;/a&gt; obtained by parsing
      &lt;var title=&quot;&quot;&gt;manifest&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, each
      flagged with &quot;explicit entry&quot;.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;Add all the URIs in the list of &lt;a href=&quot;#fallback0&quot;
      title=concept-appcache-fallback&gt;fallback entries&lt;/a&gt; obtained by parsing
      &lt;var title=&quot;&quot;&gt;manifest&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, each
      flagged with &quot;fallback entry&quot;.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;If this is an &lt;a href=&quot;#upgrade&quot;
@@ -31608,6 +31643,8 @@
      caching namespaces&lt;/a&gt; obtained by parsing &lt;var title=&quot;&quot;&gt;manifest&lt;/var&gt;
      to &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, each flagged with &quot;opportunistic
      entry&quot;.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;If this is an &lt;a href=&quot;#upgrade&quot;
@@ -31615,6 +31652,8 @@
      URIs of &lt;a href=&quot;#implicit&quot; title=concept-appcache-implicit&gt;implicit
      entries&lt;/a&gt; in &lt;var title=&quot;&quot;&gt;cache&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;file
      list&lt;/var&gt;, each flagged with &quot;implicit entry&quot;.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;If this is an &lt;a href=&quot;#upgrade&quot;
@@ -31622,13 +31661,15 @@
      URIs of &lt;a href=&quot;#dynamic3&quot; title=concept-appcache-dynamic&gt;dynamic
      entries&lt;/a&gt; in &lt;var title=&quot;&quot;&gt;cache&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;file
      list&lt;/var&gt;, each flagged with &quot;dynamic entry&quot;.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;If any URI is in &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt; more than once, then
      merge the entries into one entry for that URI, that entry having all the
      flags that the original entries had.
 
-   &lt;li&gt;
+   &lt;li&gt; &lt;!-- XXXURL change to URL --&gt;
     &lt;p&gt;For each URI in &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, run the following
      steps. These steps may be run in parallel for two or more of the URIs at
      a time.&lt;/p&gt;
@@ -31674,27 +31715,37 @@
      &lt;li&gt;
       &lt;p&gt;Otherwise, the fetching succeeded. Store the resource in the &lt;var
        title=&quot;&quot;&gt;new cache&lt;/var&gt;.
+     &lt;/li&gt;
+     &lt;!-- XXXURL change to URL --&gt;
 
      &lt;li&gt;
       &lt;p&gt;If the URI being processed was flagged as an &quot;explicit entry&quot; in
        &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, then categorize the entry as an &lt;a
        href=&quot;#explicit&quot; title=concept-appcache-explicit&gt;explicit entry&lt;/a&gt;.
+     &lt;/li&gt;
+     &lt;!-- XXXURL change to URL --&gt;
 
      &lt;li&gt;
       &lt;p&gt;If the URI being processed was flagged as a &quot;fallback entry&quot; in &lt;var
        title=&quot;&quot;&gt;file list&lt;/var&gt;, then categorize the entry as a &lt;a
        href=&quot;#fallback0&quot; title=concept-appcache-fallback&gt;fallback entry&lt;/a&gt;.
+     &lt;/li&gt;
+     &lt;!-- XXXURL change to URL --&gt;
 
      &lt;li&gt;
       &lt;p&gt;If the URI being processed was flagged as a &quot;opportunistic entry&quot; in
        &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, then categorize the entry as an &lt;a
        href=&quot;#opportunistically&quot;
        title=concept-appcache-oppcache&gt;opportunistically cached entry&lt;/a&gt;.
+     &lt;/li&gt;
+     &lt;!-- XXXURL change to URL --&gt;
 
      &lt;li&gt;
       &lt;p&gt;If the URI being processed was flagged as an &quot;implicit entry&quot; in
        &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, then categorize the entry as a &lt;a
        href=&quot;#implicit&quot; title=concept-appcache-implicit&gt;implicit entry&lt;/a&gt;.
+     &lt;/li&gt;
+     &lt;!-- XXXURL change to URL --&gt;
 
      &lt;li&gt;
       &lt;p&gt;If the URI being processed was flagged as an &quot;dynamic entry&quot; in &lt;var
@@ -31707,6 +31758,8 @@
      if it's not there already, and categorize this entry (whether newly
      added or not) as &lt;a href=&quot;#the-manifest&quot;
      title=concept-appcache-manifest&gt;the manifest&lt;/a&gt;.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;Store the list of &lt;a href=&quot;#opportunistic&quot;
@@ -31714,6 +31767,8 @@
      and the URIs of the &lt;a href=&quot;#fallback0&quot;
      title=concept-appcache-fallback&gt;fallback entries&lt;/a&gt; that they map to,
      in the new cache.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;Store the URIs that form the new &lt;a href=&quot;#online&quot;
@@ -31738,7 +31793,7 @@
    &lt;li&gt;
     &lt;p&gt;If this is a &lt;a href=&quot;#cache&quot; title=concept-appcache-cache&gt;cache
      attempt&lt;/a&gt;, then:&lt;/p&gt;
-
+    &lt;!-- XXXURL change to URL --&gt;
     &lt;p id=flagAsCandidateForCache-result&gt;Associate any &lt;code&gt;Document&lt;/code&gt;
      objects that were &lt;a href=&quot;#flagAsCandidateForCache&quot;&gt;flagged as
      candidates&lt;/a&gt; for this manifest URI's caches with &lt;var
@@ -31804,7 +31859,8 @@
   &lt;p&gt;The processing model of application caches for offline support in Web
    applications is part of the &lt;a href=&quot;#navigate&quot;
    title=navigate&gt;navigation&lt;/a&gt; model, but references the algorithms defined
-   in this section.
+   in this section.&lt;/p&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;A URI &lt;dfn id=matches title=concept-appcache-matches-oppcache&gt;matches an
    opportunistic caching namespace&lt;/dfn&gt; if there exists an &lt;a
@@ -31820,7 +31876,7 @@
    an opportunistic caching namespace can match more than one application
    cache at a time, but only matches one namespace in each cache.
 
-  &lt;div class=example&gt;
+  &lt;div class=example&gt; &lt;!-- XXXURL change to URL --&gt;
    &lt;p&gt;If a manifest &lt;code title=&quot;&quot;&gt;<A HREF="http://example.com/app1/manifest&lt;/code">http://example.com/app1/manifest&lt;/code</A>&gt;
     declares that &lt;code title=&quot;&quot;&gt;<A HREF="http://example.com/resources/images&lt;/code">http://example.com/resources/images&lt;/code</A>&gt;
     should be opportunistically cached, and the user navigates to &lt;code
@@ -31829,6 +31885,7 @@
     title=&quot;&quot;&gt;<A HREF="http://example.com/app1/manifest&lt;/code">http://example.com/app1/manifest&lt;/code</A>&gt; contains a namespace
     with a match for that URI.&lt;/p&gt;
   &lt;/div&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;When the &lt;dfn id=application2
    title=concept-appcache-init-with-attribute&gt;application cache selection
@@ -31839,7 +31896,7 @@
    &lt;dt&gt;If the resource is not being loaded as part of navigation of a &lt;a
     href=&quot;#top-level&quot;&gt;top-level browsing context&lt;/a&gt;
 
-   &lt;dd&gt;
+   &lt;dd&gt; &lt;!-- XXXURL change to URL --&gt;
     &lt;p&gt;As an optimization, if the resource was loaded from an &lt;a
      href=&quot;#application0&quot;&gt;application cache&lt;/a&gt;, and the manifest URI of that
      cache doesn't match the manifest URI with which the algorithm was
@@ -31851,6 +31908,7 @@
      caches.&lt;/p&gt;
    &lt;/dd&gt;
    &lt;!-- otherwise, we're talking top-level browsing contexts only: --&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;dt&gt;If the resource being loaded was loaded from an application cache and
     the URI of that application cache's manifest is the same as the manifest
@@ -31860,6 +31918,8 @@
     &lt;p&gt;Associate the &lt;code&gt;Document&lt;/code&gt; with the cache from which it was
      loaded. Invoke the &lt;a href=&quot;#application1&quot;&gt;application cache update
      process&lt;/a&gt;.&lt;/p&gt;
+   &lt;/dd&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;dt&gt;If the resource being loaded was loaded from an application cache and
     the URI of that application cache's manifest is &lt;em&gt;not&lt;/em&gt; the same as
@@ -31888,13 +31948,16 @@
     but it was loaded using HTTP GET or equivalent
 
    &lt;dd&gt;
-    &lt;ol&gt;
+    &lt;ol&gt;&lt;!-- XXXURL change to URL --&gt;
+
      &lt;li&gt;
       &lt;p&gt;If the manifest URI does not have the &lt;a href=&quot;#same-origin&quot;&gt;same
        origin&lt;/a&gt; as the resource's own URI, then invoke the &lt;a
        href=&quot;#application3&quot;
        title=concept-appcache-init-no-attribute&gt;application cache selection
        algorithm&lt;/a&gt; again, but without a manifest, and abort these steps.
+     &lt;/li&gt;
+     &lt;!-- XXXURL change to URL --&gt;
 
      &lt;li&gt;
       &lt;p&gt;If there is already an &lt;a href=&quot;#application0&quot;&gt;application cache&lt;/a&gt;
@@ -31907,6 +31970,8 @@
        associate the &lt;code&gt;Document&lt;/code&gt; with that cache, invoke the &lt;a
        href=&quot;#application1&quot;&gt;application cache update process&lt;/a&gt;, and abort
        these steps.
+     &lt;/li&gt;
+     &lt;!-- XXXURL change to URL --&gt;
 
      &lt;li id=flagAsCandidateForCache&gt;
       &lt;p&gt;Flag the resource's &lt;code&gt;Document&lt;/code&gt; as a candidate for this
@@ -31914,6 +31979,8 @@
        href=&quot;#flagAsCandidateForCache-result&quot;&gt;associated with an application
        cache identified by this manifest URI&lt;/a&gt; later, when such an &lt;a
        href=&quot;#application0&quot;&gt;application cache&lt;/a&gt; is ready.
+     &lt;/li&gt;
+     &lt;!-- XXXURL change to URL --&gt;
 
      &lt;li&gt;
       &lt;p&gt;If there is already an &lt;a href=&quot;#application0&quot;&gt;application cache&lt;/a&gt;
@@ -31928,6 +31995,8 @@
        removing any other categories it might have), and abort these steps.
        (An &lt;a href=&quot;#application1&quot;&gt;application cache update process&lt;/a&gt; is
        already in progress.)
+     &lt;/li&gt;
+     &lt;!-- XXXURL change to URL --&gt;
 
      &lt;li&gt;
       &lt;p&gt;Otherwise, there is no matching &lt;a href=&quot;#application0&quot;&gt;application
@@ -31969,12 +32038,16 @@
    &lt;li&gt;
     &lt;p&gt;If the resource is not to be fetched using the HTTP GET mechanism or
      equivalent, then fetch the resource normally and abort these steps.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;If the resource's URI, ignoring its fragment identifier if any, is
      listed in the &lt;a href=&quot;#application0&quot;&gt;application cache&lt;/a&gt;'s &lt;a
      href=&quot;#online&quot; title=concept-appcache-onlinewhitelist&gt;online
      whitelist&lt;/a&gt;, then fetch the resource normally and abort these steps.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;If the resource's URI is &lt;a href=&quot;#implicit&quot;
@@ -31988,7 +32061,7 @@
      entry&lt;/a&gt; in the &lt;a href=&quot;#application0&quot;&gt;application cache&lt;/a&gt;, then
      fetch the resource from the cache and abort these steps.
 
-   &lt;li&gt;
+   &lt;li&gt; &lt;!-- XXXURL change to URL --&gt;
     &lt;p&gt;If the resource's URI has the &lt;a href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt;
      as the manifest's URI, and the start of the resource's URI's
      &lt;path&gt; component is exactly matched by the &lt;path&gt; component
@@ -32145,7 +32218,8 @@
    title=dom-appcache-add&gt;&lt;a href=&quot;#adduri&quot;&gt;add()&lt;/a&gt;&lt;/code&gt; method, with the
    oldest entry being the zeroth entry, and the most recently added entry
    having the index &lt;span&gt;&lt;code title=dom-appcache-length&gt;&lt;a
-   href=&quot;#length8&quot;&gt;length&lt;/a&gt;&lt;/code&gt;-1&lt;/span&gt;.
+   href=&quot;#length8&quot;&gt;length&lt;/a&gt;&lt;/code&gt;-1&lt;/span&gt;.&lt;/p&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;The &lt;dfn id=itemindex4 title=dom-appcache-item&gt;&lt;code&gt;item(&lt;var
    title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the absolute URI of
@@ -32167,15 +32241,21 @@
     &lt;p&gt;If the &lt;code&gt;&lt;a href=&quot;#applicationcache&quot;&gt;ApplicationCache&lt;/a&gt;&lt;/code&gt;
      object is not associated with any application cache, then raise an
      &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception and abort these steps.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;If &lt;var title=&quot;&quot;&gt;uri&lt;/var&gt; is not a valid URI reference, then raise a
      &lt;code&gt;SYNTAX_ERR&lt;/code&gt; exception and abort these steps. &lt;a
      href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt; &lt;a href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p class=big-issue&gt;resolve relative URIs; on failure, raise a
      &lt;code&gt;SYNTAX_ERR&lt;/code&gt; exception
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;If there is already a resource in in the &lt;a
@@ -32185,6 +32265,8 @@
      that entry is categorized as a &lt;a href=&quot;#dynamic3&quot;
      title=concept-appcache-dynamic&gt;dynamic entry&lt;/a&gt; and return and abort
      these steps.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL --&gt;
 
    &lt;li&gt;
     &lt;p&gt;If &lt;var title=&quot;&quot;&gt;uri&lt;/var&gt; has a different &lt;scheme&gt; component than
@@ -32193,6 +32275,8 @@
 
    &lt;li&gt;
     &lt;p&gt;Return, but do not abort these steps.
+   &lt;/li&gt;
+   &lt;!-- XXXURL change to URL, maybe xref &quot;fetch&quot;? --&gt;
 
    &lt;li&gt;
     &lt;p&gt;Fetch the resource referenced by &lt;var title=&quot;&quot;&gt;uri&lt;/var&gt;.
@@ -32222,7 +32306,8 @@
    target of Progress Events, much like the &lt;a
    href=&quot;<A HREF="http://dev.w3.org/cvsweb/~checkout~/2006/webapi/XMLHttpRequest-2/Overview.html?content-type=text/html;%20charset=utf-8#xmlhttprequesteventtarget-interface">http://dev.w3.org/cvsweb/~checkout~/2006/webapi/XMLHttpRequest-2/Overview.html?content-type=text/html;%20charset=utf-8#xmlhttprequesteventtarget-interface</A>&quot;&gt;XMLHttpRequestEventTarget&lt;/a&gt;
    interface. This would also make this far more complex to spec and
-   implement.
+   implement.&lt;/p&gt;
+  &lt;!-- XXXURL algorithms --&gt;
 
   &lt;p&gt;The &lt;dfn id=remove1 title=dom-appcache-remove&gt;&lt;code&gt;remove(&lt;var
    title=&quot;&quot;&gt;uri&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must remove the &lt;a
@@ -32411,7 +32496,8 @@
    return the object implementing the &lt;code&gt;&lt;a
    href=&quot;#history2&quot;&gt;History&lt;/a&gt;&lt;/code&gt; interface for that &lt;code&gt;&lt;a
    href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; object's &lt;a href=&quot;#active&quot;&gt;active
-   document&lt;/a&gt;.
+   document&lt;/a&gt;.&lt;/p&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;&lt;code&gt;&lt;a href=&quot;#history2&quot;&gt;History&lt;/a&gt;&lt;/code&gt; objects represent their &lt;a
    href=&quot;#browsing1&quot;&gt;browsing context&lt;/a&gt;'s session history as a flat list of
@@ -32422,7 +32508,8 @@
    position, and other information associated with it.
 
   &lt;p class=note&gt;This does not imply that the user interface need be linear.
-   See the &lt;a href=&quot;#history-notes&quot;&gt;notes below&lt;/a&gt;.
+   See the &lt;a href=&quot;#history-notes&quot;&gt;notes below&lt;/a&gt;.&lt;/p&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;URIs without associated &lt;a href=&quot;#state&quot; title=&quot;state object&quot;&gt;state
    objects&lt;/a&gt; are added to the session history as the user (or script)
@@ -32481,11 +32568,13 @@
    algorithms given below, act as if they had not. When the user or script
    navigates back or forwards to a page which has no in-memory DOM objects,
    any other entries that shared the same &lt;code&gt;Document&lt;/code&gt; object with
-   it must share the new object as well.
+   it must share the new object as well.&lt;/p&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;When state object entries are added, a URI can be provided. This URI is
    used to replace the state object entry if the &lt;code&gt;Document&lt;/code&gt; is
-   evicted.
+   evicted.&lt;/p&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;When a user agent discards the DOM from an entry in the session history,
    it must also discard all the entries that share that &lt;code&gt;Document&lt;/code&gt;
@@ -32583,15 +32672,16 @@
   &lt;p&gt;The &lt;dfn id=pushstate title=dom-history-pushState&gt;&lt;code&gt;pushState(&lt;var
    title=&quot;&quot;&gt;data&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;title&lt;/var&gt;, &lt;var
    title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method adds a state object to the
-   history.
+   history.&lt;/p&gt;
+  &lt;!-- XXXURL algorithms XXXDOCURL --&gt;
 
   &lt;p&gt;When this method is invoked, the user agent must first check the third
    argument. If a third argument is specified, then the user agent must
    verify that the third argument is a valid URI or IRI (as defined by RFC
    3986 and 3987), and if so, that, after resolving it to an absolute URI, it
-   is either identical to the document's URI, or that it differs from the
-   document's URI only in the &lt;query&gt;, &lt;abs_path&gt;, and/or
-   &lt;fragment&gt; parts, as applicable (the &lt;query&gt; and
+   is either identical to &lt;span&gt;the document's address&lt;/span&gt;, or that it
+   differs from that address only in the &lt;query&gt;, &lt;abs_path&gt;,
+   and/or &lt;fragment&gt; parts, as applicable (the &lt;query&gt; and
    &lt;abs_path&gt; parts can only be the same if the document's URI uses a
    hierarchical &lt;scheme&gt;). If the verification fails (either because
    the argument is syntactically incorrect, or differs in a way not described
@@ -32608,7 +32698,8 @@
    href=&quot;#current1&quot;&gt;current entry&lt;/a&gt; is the last entry in the session
    history, or if there are no entries after the &lt;a href=&quot;#current1&quot;&gt;current
    entry&lt;/a&gt; that reference the same &lt;code&gt;Document&lt;/code&gt; object, then no
-   entries are removed.
+   entries are removed.&lt;/p&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;Then, the user agent must add a state object entry to the session
    history, after the &lt;a href=&quot;#current1&quot;&gt;current entry&lt;/a&gt;, with the
@@ -32677,6 +32768,7 @@
      bubbles but is not cancelable and has no default action.
   &lt;/ol&gt;
   &lt;!-- XXX onpopstate should be defined somewhere --&gt;
+  &lt;!-- XXXURL check with DOM3 Events --&gt;
 
   &lt;pre
    class=idl&gt;interface &lt;dfn id=popstateevent&gt;PopStateEvent&lt;/dfn&gt; : Event {
@@ -32718,10 +32810,10 @@
    href=&quot;#active&quot;&gt;active document&lt;/a&gt;.
 
   &lt;p&gt;&lt;code&gt;&lt;a href=&quot;#location2&quot;&gt;Location&lt;/a&gt;&lt;/code&gt; objects provide a
-   representation of the URI of their document, and allow the &lt;a
-   href=&quot;#current1&quot;&gt;current entry&lt;/a&gt; of the &lt;a href=&quot;#browsing1&quot;&gt;browsing
-   context&lt;/a&gt;'s session history to be changed, by adding or replacing
-   entries in the &lt;code title=dom-history&gt;&lt;a
+   representation of &lt;span title=&quot;the document's address&quot;&gt;their document's
+   address&lt;/span&gt;, and allow the &lt;a href=&quot;#current1&quot;&gt;current entry&lt;/a&gt; of the
+   &lt;a href=&quot;#browsing1&quot;&gt;browsing context&lt;/a&gt;'s session history to be changed,
+   by adding or replacing entries in the &lt;code title=dom-history&gt;&lt;a
    href=&quot;#history1&quot;&gt;history&lt;/a&gt;&lt;/code&gt; object.
 
   &lt;pre class=idl&gt;interface &lt;dfn id=location2&gt;Location&lt;/dfn&gt; {
@@ -32730,7 +32822,8 @@
   void &lt;a href=&quot;#replace&quot; title=dom-location-replace&gt;replace&lt;/a&gt;(in DOMString url);
   void &lt;span title=dom-location-reload&gt;reload&lt;/span&gt;();
 
-  // &lt;a href=&quot;#uri-decomposition&quot;&gt;URI decomposition attributes&lt;/a&gt; &lt;!-- blame brendan for these &quot;innovative&quot; names --&gt;
+  &lt;!-- XXXURL change to URL
+ --&gt;  // &lt;a href=&quot;#uri-decomposition&quot;&gt;URI decomposition attributes&lt;/a&gt; &lt;!-- blame brendan for these &quot;innovative&quot; names --&gt;
            attribute DOMString &lt;a href=&quot;#protocol&quot; title=dom-location-protocol&gt;protocol&lt;/a&gt;;
            attribute DOMString &lt;a href=&quot;#host&quot; title=dom-location-host&gt;host&lt;/a&gt;;
            attribute DOMString &lt;a href=&quot;#hostname&quot; title=dom-location-hostname&gt;hostname&lt;/a&gt;;
@@ -32739,6 +32832,7 @@
            attribute DOMString &lt;a href=&quot;#search&quot; title=dom-location-search&gt;search&lt;/a&gt;;
            attribute DOMString &lt;a href=&quot;#hash&quot; title=dom-location-hash&gt;hash&lt;/a&gt;;
 };&lt;/pre&gt;
+  &lt;!-- XXXURL change to URL --&gt;
 
   &lt;p&gt;The &lt;dfn id=href5 title=dom-location-href&gt;&lt;code&gt;href&lt;/code&gt;&lt;/dfn&gt;
    attribute returns the address of the page represented by the associated
@@ -32785,7 +32879,8 @@
   &lt;p class=note&gt;If the &lt;a href=&quot;#script2&quot;&gt;script execution context&lt;/a&gt; of a
    script isn't a &lt;code&gt;&lt;a href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; object, then it
    can't ever get to a &lt;code&gt;&lt;a href=&quot;#location2&quot;&gt;Location&lt;/a&gt;&lt;/code&gt; object
-   to call these methods.
+   to call these methods.&lt;/p&gt;
+  &lt;!-- XXXURL algorithms --&gt;
 
   &lt;p&gt;Relative &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; arguments for &lt;code
    title=dom-location-assign&gt;&lt;a href=&quot;#assign&quot;&gt;assign()&lt;/a&gt;&lt;/code&gt; and &lt;code
@@ -32795,6 +32890,7 @@
   &lt;!-- XXX what about if
   the base URI is data: or javascript: or about: or something else
   without a way to resolve base URIs? --&gt;
+  &lt;!-- XXXURLXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX --&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#location2&quot;&gt;Location&lt;/a&gt;&lt;/code&gt; interface also has
    the complement of &lt;a href=&quot;#uri-decomposition&quot;&gt;URI decomposition

Modified: source
===================================================================
--- source	2008-06-18 08:19:37 UTC (rev 1787)
+++ source	2008-06-18 21:20:11 UTC (rev 1788)
@@ -28692,7 +28692,6 @@
   of unknown protocols.&lt;/p&gt;
 
 
-&lt;!-- XXXURL XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX --&gt;
 
 
   &lt;h3 id=&quot;offline&quot;&gt;Offline Web applications&lt;/h3&gt;
@@ -28706,16 +28705,19 @@
 
   &lt;h4 id=&quot;appcache&quot;&gt;Application caches&lt;/h4&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;An &lt;dfn&gt;application cache&lt;/dfn&gt; is a collection of resources. An
   application cache is identified by the URI of a resource
   manifest which is used to populate the cache.&lt;/p&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;Application caches are versioned, and there can be different
   instances of caches for the same manifest URI, each having a
   different version. A cache is newer than another if it was created
   after the other (in other words, caches in a group have a
   chronological order).&lt;/p&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;Each group of application caches for the same manifest URI have a
   common &lt;dfn title=&quot;concept-appcache-status&quot;&gt;update status&lt;/dfn&gt;,
   which is one of the following: &lt;i&gt;idle&lt;/i&gt;, &lt;i&gt;checking&lt;/i&gt;,
@@ -28743,6 +28745,7 @@
 
    &lt;li&gt;
 
+    &lt;!-- XXXURL change to URL --&gt;
     &lt;p&gt;One of more resources (including their out-of-band metadata,
     such as HTTP headers, if any), identified by URIs, each falling
     into one (or more) of the following categories:&lt;/p&gt;
@@ -28760,6 +28763,7 @@
  
      &lt;dt&gt;&lt;dfn title=&quot;concept-appcache-manifest&quot;&gt;The manifest&lt;/dfn&gt;
 
+    &lt;!-- XXXURL change to URL --&gt;
      &lt;dd&gt;The resource corresponding to the URI that was given in an
      implicit entry's &lt;code&gt;html&lt;/code&gt; element's &lt;code
      title=&quot;attr-html-manifest&quot;&gt;manifest&lt;/code&gt; attribute. The
@@ -28789,6 +28793,7 @@
  
      &lt;dt&gt;&lt;dfn title=&quot;concept-appcache-oppcache&quot;&gt;Opportunistically cached entries&lt;/dfn&gt;
 
+     &lt;!-- XXXURL change to URL --&gt;
      &lt;dd&gt;Resources whose URIs &lt;span
      title=&quot;concept-appcache-matches-oppcache&quot;&gt;matched&lt;/span&gt; an &lt;span
      title=&quot;concept-appcache-oppcache-ns&quot;&gt;opportunistic caching
@@ -28803,6 +28808,7 @@
 
     &lt;/dl&gt;
 
+    &lt;!-- XXXURL change to URL --&gt;
     &lt;p class=&quot;note&quot;&gt;A URI in the list can be flagged with multiple
     different types, and thus an entry can end up being categorized as
     multiple entries. For example, an entry can be an explicit entry
@@ -28810,6 +28816,7 @@
 
    &lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;Zero or more &lt;dfn
    title=&quot;concept-appcache-oppcache-ns&quot;&gt;opportunistic caching
    namespaces&lt;/dfn&gt;: URIs, used as &lt;span
@@ -28820,6 +28827,7 @@
    origin&lt;/span&gt; as &lt;span title=&quot;concept-appcache-manifest&quot;&gt;the
    manifest&lt;/span&gt;.&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;Zero or more URIs that form the &lt;dfn
    title=&quot;concept-appcache-onlinewhitelist&quot;&gt;online whitelist&lt;/dfn&gt;.
 
@@ -28889,6 +28897,7 @@
     characters other than U+000A LINE FEED (LF) and U+000D CARRIAGE
     RETURN (CR) characters.&lt;/p&gt;
 
+    &lt;!-- XXXURL change to URL --&gt;
     &lt;p class=&quot;note&quot;&gt;Comments must be on a line on their own. If they
     were to be included on a line with a URI, the &quot;#&quot; would be
     mistaken for part of a fragment identifier.&lt;/p&gt;
@@ -28945,6 +28954,7 @@
     href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt; &lt;a
     href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;&lt;/p&gt;
 
+    &lt;!-- XXXURL change to URL --&gt;
     &lt;p class=&quot;note&quot;&gt;The URI or IRI references in data lines can't be
     empty strings, since those would be relative URIs to the manifest
     itself. Such lines would be confused with blank or invalid lines,
@@ -28955,6 +28965,7 @@
   &lt;p&gt;Manifests may contain sections more than once. Sections may be
   empty.&lt;/p&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;URIs that are to be fallback pages associated with &lt;span
   title=&quot;concept-appcache-oppcache-ns&quot;&gt;opportunistic caching
   namespaces&lt;/span&gt;, and those namespaces themselves, must be given in
@@ -28970,20 +28981,24 @@
   &lt;p&gt;An opportunistic caching namespace must not be listed more than
   once.&lt;/p&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;URIs that the user agent is to put into the &lt;span
   title=&quot;concept-appcache-onlinewhitelist&quot;&gt;online whitelist&lt;/span&gt;
   must all be specified in online whitelist sections. (This is needed
   for any URI that the page is intending to use to communicate back to
   the server.)&lt;/p&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;URIs in the online whitelist section must not also be listed in
   explicit section, and must not be listed as fallback entries in the
   fallback section. (URIs in the online whitelist section may match
   opportunistic caching namespaces, however.)&lt;/p&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;Relative URIs must be given relative to the manifest's own
   URI.&lt;/p&gt;
 
+  &lt;!-- XXXURL change to URL; maybe have explicit support for this in the URL section? --&gt;
   &lt;p&gt;URIs in manifests must not have fragment identifiers.&lt;/p&gt;
 
 
@@ -29002,15 +29017,18 @@
    testable since neither U+0000 nor U+FFFD are valid anywhere in the
    syntax and thus both will be treated the same anyway)--&gt;&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;explicit URIs&lt;/var&gt; be an initially empty
    list of &lt;span title=&quot;concept-appcache-explicit&quot;&gt;explicit
    entries&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;fallback URIs&lt;/var&gt; be an initially empty
    mapping of &lt;span title=&quot;concept-appcache-oppcache-ns&quot;&gt;opportunistic
    caching namespaces&lt;/span&gt; to &lt;span
    title=&quot;concept-appcache-fallback&quot;&gt;fallback entries&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;online whitelist URIs&lt;/var&gt; be an
    initially empty list of URIs for a &lt;span
    title=&quot;concept-appcache-onlinewhitelist&quot;&gt;online
@@ -29097,18 +29115,22 @@
 
      &lt;dd&gt;
 
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is not a syntactically correct
       URI reference or IRI reference, then jump back to the step
       labeled &quot;start of line&quot;.&lt;/p&gt;
 
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;Otherwise, resolve the URI reference or IRI reference to an
       absolute URI or IRI, and drop the fragment identifier, if any.&lt;/p&gt;
 
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;Now, if the resource's URI has a different &lt;scheme&gt;
       component than the manifest's URI (compared
       case-insensitively&lt;!-- XXX ASCII --&gt;), then jump back to the
       step labeled &quot;start of line&quot;.&lt;/p&gt;
 
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;Otherwise, add this URI to the &lt;var title=&quot;&quot;&gt;explicit
       URIs&lt;/var&gt;.&lt;/p&gt;
 
@@ -29132,15 +29154,18 @@
       &lt;p&gt;Strip any leading U+0020 SPACE or U+0009 CHARACTER TABULATION
       (tab) characters in &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt;.&lt;/p&gt;
 
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;If &lt;var title=&quot;&quot;&gt;part one&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;part
       two&lt;/var&gt; are not both syntactically correct URI or IRI
       references, then jump back to the step labeled &quot;start of
       line&quot;.&lt;/p&gt;
 
+      &lt;!-- XXXURL use algorithms --&gt;
       &lt;p&gt;Resolve the URI or IRI references in &lt;var title=&quot;&quot;&gt;part
       one&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;part two&lt;/var&gt; to absolute URIs or
       IRIs, and drop the fragment identifiers, if any.&lt;/p&gt;
 
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;If the absolute URI or IRI corresponding to &lt;var
       title=&quot;&quot;&gt;part one&lt;/var&gt; is already in the &lt;var title=&quot;&quot;&gt;fallback
       URIs&lt;/var&gt; mapping as an &lt;span
@@ -29148,17 +29173,20 @@
       namespace&lt;/span&gt;, then jump back to the step labeled &quot;start of
       line&quot;.&lt;/p&gt;
 
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;If the absolute URI or IRI corresponding to &lt;var
       title=&quot;&quot;&gt;part one&lt;/var&gt; does not have the &lt;span&gt;same
       origin&lt;/span&gt; as the manifest's URI, then jump back to the step
       labeled &quot;start of line&quot;.&lt;/p&gt; &lt;!-- SECURITY --&gt;
 
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;If the absolute URI or IRI corresponding to &lt;var
       title=&quot;&quot;&gt;part two&lt;/var&gt; has a different &lt;scheme&gt; component
       than the manifest's URI (compared case-insensitively&lt;!-- XXX
       ASCII --&gt;), then jump back to the step labeled &quot;start of
       line&quot;.&lt;/p&gt;
 
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;Otherwise, add the absolute URI or IRI corresponding to &lt;var
       title=&quot;&quot;&gt;part one&lt;/var&gt; to the &lt;var title=&quot;&quot;&gt;fallback URIs&lt;/var&gt;
       mapping as an &lt;span
@@ -29173,17 +29201,21 @@
 
      &lt;dd&gt;
 
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is not a syntactically correct URI
       reference or IRI reference, then jump back to the step labeled
       &quot;start of line&quot;.&lt;/p&gt;
 
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;Otherwise, resolve the URI reference or IRI reference to an
       absolute URI or IRI, and drop the fragment identifier, if any.&lt;/p&gt;
 
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;Now, if the resource's URI has a different &lt;scheme&gt;
       component than the manifest's URI, then jump back to the step
       labeled &quot;start of line&quot;.&lt;/p&gt;
 
+      &lt;!-- XXXURL change to URL --&gt;
       &lt;p&gt;Otherwise, add this URI to the &lt;var title=&quot;&quot;&gt;online whitelist
       URIs&lt;/var&gt;.&lt;/p&gt;
 
@@ -29197,12 +29229,14 @@
    jumps to the next, and last, step when the end of the file is
    reached.)&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;Return the &lt;var title=&quot;&quot;&gt;explicit URIs&lt;/var&gt; list, the &lt;var
    title=&quot;&quot;&gt;fallback URIs&lt;/var&gt; mapping, and the &lt;var title=&quot;&quot;&gt;online
    whitelist URIs&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;Relative URI references and IRI references resolved to absolute
   URIs or IRIs in the above algorithm must be resolved according to
   section 5.1 of RFC3986 (i.e. relative to the base URI from the
@@ -29234,14 +29268,17 @@
 
   &lt;ol&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;manifest URI&lt;/var&gt; be the URI of the &lt;span
    title=&quot;concept-appcache-manifest&quot;&gt;manifest&lt;/span&gt; of the cache to
    be updated.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cache group&lt;/var&gt; be the group of &lt;span
    title=&quot;application cache&quot;&gt;application caches&lt;/span&gt; identified by
    &lt;var title=&quot;&quot;&gt;manifest URI&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cache&lt;/var&gt; be the most recently updated
    &lt;span&gt;application cache&lt;/span&gt; identified by &lt;var title=&quot;&quot;&gt;manifest
    URI&lt;/var&gt; (that is, the newest version found in &lt;var title=&quot;&quot;&gt;cache
@@ -29257,6 +29294,7 @@
 
    &lt;li&gt;
 
+    &lt;!-- XXXURL change to URL --&gt;
     &lt;p&gt;If there is already a resource with the URI of &lt;var
     title=&quot;&quot;&gt;manifest URI&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;cache&lt;/var&gt;, and
     that resource is categorized as a &lt;span
@@ -29290,6 +29328,7 @@
 
    &lt;li&gt;
 
+    &lt;!-- XXXURL change to URL --&gt;
     &lt;p&gt;Fetch the resource from &lt;var title=&quot;&quot;&gt;manifest URI&lt;/var&gt;, and
     let &lt;var title=&quot;&quot;&gt;manifest&lt;/var&gt; be that resource.&lt;/p&gt;
 
@@ -29368,6 +29407,7 @@
    be the display of some sort of user interface indicating to the
    user that a new version is being downloaded.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;If this is an &lt;span title=&quot;concept-appcache-upgrade&quot;&gt;upgrade
    attempt&lt;/span&gt;, then let &lt;var title=&quot;&quot;&gt;new cache&lt;/var&gt; be a newly
    created &lt;span&gt;application cache&lt;/span&gt; identified by &lt;span
@@ -29376,19 +29416,23 @@
    cache&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;cache&lt;/var&gt; be the same version of
    the application cache.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt; be an empty list of
    URIs with flags.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;Add all the URIs in the list of &lt;span
    title=&quot;concept-appcache-explicit&quot;&gt;explicit entries&lt;/span&gt; obtained
    by parsing &lt;var title=&quot;&quot;&gt;manifest&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;file
    list&lt;/var&gt;, each flagged with &quot;explicit entry&quot;.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;Add all the URIs in the list of &lt;span
    title=&quot;concept-appcache-fallback&quot;&gt;fallback entries&lt;/span&gt; obtained
    by parsing &lt;var title=&quot;&quot;&gt;manifest&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;file
    list&lt;/var&gt;, each flagged with &quot;fallback entry&quot;.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;If this is an &lt;span title=&quot;concept-appcache-upgrade&quot;&gt;upgrade
    attempt&lt;/span&gt;, then add all the URIs of &lt;span
    title=&quot;concept-appcache-oppcache&quot;&gt;opportunistically cached
@@ -29399,24 +29443,28 @@
    to &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, each flagged with &quot;opportunistic
    entry&quot;.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;If this is an &lt;span title=&quot;concept-appcache-upgrade&quot;&gt;upgrade
    attempt&lt;/span&gt;, then add all the URIs of &lt;span
    title=&quot;concept-appcache-implicit&quot;&gt;implicit entries&lt;/span&gt; in &lt;var
    title=&quot;&quot;&gt;cache&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, each flagged
    with &quot;implicit entry&quot;.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;If this is an &lt;span title=&quot;concept-appcache-upgrade&quot;&gt;upgrade
    attempt&lt;/span&gt;, then add all the URIs of &lt;span
    title=&quot;concept-appcache-dynamic&quot;&gt;dynamic entries&lt;/span&gt; in &lt;var
    title=&quot;&quot;&gt;cache&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, each flagged
    with &quot;dynamic entry&quot;.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;If any URI is in &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt; more than
    once, then merge the entries into one entry for that URI, that
    entry having all the flags that the original entries had.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
 
+    &lt;!-- XXXURL change to URL --&gt;
     &lt;p&gt;For each URI in &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, run the
     following steps. These steps may be run in parallel for two or
     more of the URIs at a time.&lt;/p&gt;
@@ -29462,27 +29510,32 @@
      &lt;li&gt;&lt;p&gt;Otherwise, the fetching succeeded. Store the resource in
      the &lt;var title=&quot;&quot;&gt;new cache&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
+     &lt;!-- XXXURL change to URL --&gt;
      &lt;li&gt;&lt;p&gt;If the URI being processed was flagged as an &quot;explicit
      entry&quot; in &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, then categorize the
      entry as an &lt;span title=&quot;concept-appcache-explicit&quot;&gt;explicit
      entry&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
+     &lt;!-- XXXURL change to URL --&gt;
      &lt;li&gt;&lt;p&gt;If the URI being processed was flagged as a &quot;fallback
      entry&quot; in &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, then categorize the
      entry as a &lt;span title=&quot;concept-appcache-fallback&quot;&gt;fallback
      entry&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
+     &lt;!-- XXXURL change to URL --&gt;
      &lt;li&gt;&lt;p&gt;If the URI being processed was flagged as a &quot;opportunistic
      entry&quot; in &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, then categorize the
      entry as an &lt;span
      title=&quot;concept-appcache-oppcache&quot;&gt;opportunistically cached
      entry&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
+     &lt;!-- XXXURL change to URL --&gt;
      &lt;li&gt;&lt;p&gt;If the URI being processed was flagged as an &quot;implicit
      entry&quot; in &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, then categorize the
      entry as a &lt;span title=&quot;concept-appcache-implicit&quot;&gt;implicit
      entry&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
+     &lt;!-- XXXURL change to URL --&gt;
      &lt;li&gt;&lt;p&gt;If the URI being processed was flagged as an &quot;dynamic
      entry&quot; in &lt;var title=&quot;&quot;&gt;file list&lt;/var&gt;, then categorize the
      entry as a &lt;span title=&quot;concept-appcache-dynamic&quot;&gt;dynamic
@@ -29497,12 +29550,14 @@
    (whether newly added or not) as &lt;span
    title=&quot;concept-appcache-manifest&quot;&gt;the manifest&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;Store the list of &lt;span
    title=&quot;concept-appcache-oppcache-ns&quot;&gt;opportunistic caching
    namespaces&lt;/span&gt;, and the URIs of the &lt;span
    title=&quot;concept-appcache-fallback&quot;&gt;fallback entries&lt;/span&gt; that they
    map to, in the new cache.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;Store the URIs that form the new &lt;span
    title=&quot;concept-appcache-onlinewhitelist&quot;&gt;online whitelist&lt;/span&gt; in
    the new cache.&lt;/p&gt;&lt;/li&gt;
@@ -29530,6 +29585,7 @@
     &lt;p&gt;If this is a &lt;span title=&quot;concept-appcache-cache&quot;&gt;cache
     attempt&lt;/span&gt;, then:&lt;/p&gt;
 
+    &lt;!-- XXXURL change to URL --&gt;
     &lt;p id=&quot;flagAsCandidateForCache-result&quot;&gt;Associate any
     &lt;code&gt;Document&lt;/code&gt; objects that were &lt;a
     href=&quot;#flagAsCandidateForCache&quot;&gt;flagged as candidates&lt;/a&gt; for this
@@ -29605,6 +29661,7 @@
   title=&quot;navigate&quot;&gt;navigation&lt;/span&gt; model, but references the
   algorithms defined in this section.&lt;/p&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;A URI &lt;dfn title=&quot;concept-appcache-matches-oppcache&quot;&gt;matches an
   opportunistic caching namespace&lt;/dfn&gt; if there exists an
   &lt;span&gt;application cache&lt;/span&gt; whose &lt;span
@@ -29622,6 +29679,7 @@
 
   &lt;div class=&quot;example&quot;&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;p&gt;If a manifest &lt;code
    title=&quot;&quot;&gt;<A HREF="http://example.com/app1/manifest&lt;/code">http://example.com/app1/manifest&lt;/code</A>&gt; declares that
    &lt;code title=&quot;&quot;&gt;<A HREF="http://example.com/resources/images&lt;/code">http://example.com/resources/images&lt;/code</A>&gt; should be
@@ -29633,6 +29691,7 @@
 
   &lt;/div&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;When the &lt;dfn
   title=&quot;concept-appcache-init-with-attribute&quot;&gt;application cache
   selection algorithm&lt;/dfn&gt; algorithm is invoked with a manifest URI,
@@ -29646,6 +29705,7 @@
 
    &lt;dd&gt;
 
+    &lt;!-- XXXURL change to URL --&gt;
     &lt;p&gt;As an optimization, if the resource was loaded from an
     &lt;span&gt;application cache&lt;/span&gt;, and the manifest URI of that cache
     doesn't match the manifest URI with which the algorithm was
@@ -29661,6 +29721,7 @@
 
    &lt;!-- otherwise, we're talking top-level browsing contexts only: --&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;dt&gt;If the resource being loaded was loaded from an application
    cache and the URI of that application cache's manifest is the
    same as the manifest URI with which the algorithm was invoked&lt;/dt&gt;
@@ -29671,6 +29732,7 @@
    &lt;/dd&gt;
 
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;dt&gt;If the resource being loaded was loaded from an application
    cache and the URI of that application cache's manifest is
    &lt;em&gt;not&lt;/em&gt; the same as the manifest URI with which the algorithm
@@ -29707,12 +29769,14 @@
 
     &lt;ol&gt;
 
+     &lt;!-- XXXURL change to URL --&gt;
      &lt;li&gt;&lt;p&gt;If the manifest URI does not have the &lt;span&gt;same
      origin&lt;/span&gt; as the resource's own URI, then invoke the &lt;span
      title=&quot;concept-appcache-init-no-attribute&quot;&gt;application cache
      selection algorithm&lt;/span&gt; again, but without a manifest, and
      abort these steps.&lt;/p&gt;&lt;/li&gt;
 
+     &lt;!-- XXXURL change to URL --&gt;
      &lt;li&gt;&lt;p&gt;If there is already an &lt;span&gt;application cache&lt;/span&gt;
      identified by this manifest URI, and the most up to date version
      of that &lt;span&gt;application cache&lt;/span&gt; contains a resource with
@@ -29724,6 +29788,7 @@
      &lt;span&gt;application cache update process&lt;/span&gt;, and abort these
      steps.&lt;/p&gt;&lt;/li&gt;
 
+     &lt;!-- XXXURL change to URL --&gt;
      &lt;li id=&quot;flagAsCandidateForCache&quot;&gt;&lt;p&gt;Flag the resource's
      &lt;code&gt;Document&lt;/code&gt; as a candidate for this manifest URI's
      caches, so that it will be &lt;a
@@ -29731,6 +29796,7 @@
      application cache identified by this manifest URI&lt;/a&gt; later, when
      such an &lt;span&gt;application cache&lt;/span&gt; is ready.&lt;/p&gt;&lt;/li&gt;
 
+     &lt;!-- XXXURL change to URL --&gt;
      &lt;li&gt;&lt;p&gt;If there is already an &lt;span&gt;application cache&lt;/span&gt;
      identified by this manifest URI, then the most up to date version
      of that &lt;span&gt;application cache&lt;/span&gt; does not yet contain a
@@ -29744,6 +29810,7 @@
      abort these steps. (An &lt;span&gt;application cache update
      process&lt;/span&gt; is already in progress.)&lt;/p&gt;&lt;/li&gt;
 
+     &lt;!-- XXXURL change to URL --&gt;
      &lt;li&gt;&lt;p&gt;Otherwise, there is no matching &lt;span&gt;application
      cache&lt;/span&gt;: create a new application cache identified by this
      manifest URI, store the resource in that cache, categorized as an
@@ -29790,11 +29857,13 @@
    mechanism or equivalent, then fetch the resource normally and abort
    these steps.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;If the resource's URI, ignoring its fragment identifier if
    any, is listed in the &lt;span&gt;application cache&lt;/span&gt;'s &lt;span
    title=&quot;concept-appcache-onlinewhitelist&quot;&gt;online whitelist&lt;/span&gt;,
    then fetch the resource normally and abort these steps.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;If the resource's URI is &lt;span
    title=&quot;concept-appcache-implicit&quot;&gt;an implicit entry&lt;/span&gt;, &lt;span
    title=&quot;concept-appcache-manifest&quot;&gt;the manifest&lt;/span&gt;, &lt;span
@@ -29807,6 +29876,7 @@
 
    &lt;li&gt;
 
+    &lt;!-- XXXURL change to URL --&gt;
     &lt;p&gt;If the resource's URI has the &lt;span&gt;same origin&lt;/span&gt; as the
     manifest's URI, and the start of the resource's URI's &lt;path&gt;
     component is exactly matched by the &lt;path&gt; component of an
@@ -29954,6 +30024,7 @@
   index &lt;span&gt;&lt;code
   title=&quot;dom-appcache-length&quot;&gt;length&lt;/code&gt;-1&lt;/span&gt;.&lt;/p&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;The &lt;dfn title=&quot;dom-appcache-item&quot;&gt;&lt;code&gt;item(&lt;var
   title=&quot;&quot;&gt;index&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must return the absolute
   URI of the &lt;span title=&quot;concept-appcache-dynamic&quot;&gt;dynamic
@@ -29977,14 +30048,17 @@
    &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception and abort these
    steps.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;uri&lt;/var&gt; is not a valid URI reference,
    then raise a &lt;code&gt;SYNTAX_ERR&lt;/code&gt; exception and abort these
    steps. &lt;a href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt; &lt;a
    href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p class=&quot;big-issue&quot;&gt;resolve relative URIs; on failure, raise a
    &lt;code&gt;SYNTAX_ERR&lt;/code&gt; exception&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;If there is already a resource in in the &lt;span&gt;application
    cache&lt;/span&gt; with which the &lt;code&gt;ApplicationCache&lt;/code&gt; object is
    associated that has the address &lt;var title=&quot;&quot;&gt;uri&lt;/var&gt;, then
@@ -29992,12 +30066,14 @@
    title=&quot;concept-appcache-dynamic&quot;&gt;dynamic entry&lt;/span&gt; and return
    and abort these steps.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL --&gt;
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;uri&lt;/var&gt; has a different &lt;scheme&gt;
    component than the manifest's URI, then raise a &lt;span&gt;security
    exception&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Return, but do not abort these steps.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;!-- XXXURL change to URL, maybe xref &quot;fetch&quot;? --&gt;
    &lt;li&gt;&lt;p&gt;Fetch the resource referenced by &lt;var
    title=&quot;&quot;&gt;uri&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
@@ -30030,6 +30106,7 @@
   interface. This would also make this far more complex to spec and
   implement.&lt;/p&gt;
 
+  &lt;!-- XXXURL algorithms --&gt;
   &lt;p&gt;The &lt;dfn title=&quot;dom-appcache-remove&quot;&gt;&lt;code&gt;remove(&lt;var
   title=&quot;&quot;&gt;uri&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method must remove the &lt;span
   title=&quot;concept-appcache-dynamic&quot;&gt;dynamic entry&lt;/span&gt; categorization
@@ -30210,6 +30287,7 @@
   implementing the &lt;code&gt;History&lt;/code&gt; interface for that
   &lt;code&gt;Window&lt;/code&gt; object's &lt;span&gt;active document&lt;/span&gt;.&lt;/p&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;&lt;code&gt;History&lt;/code&gt; objects represent their &lt;span&gt;browsing
   context&lt;/span&gt;'s session history as a flat list of &lt;span
   title=&quot;session history entry&quot;&gt;session history entries&lt;/span&gt;. Each
@@ -30221,6 +30299,7 @@
   &lt;p class=&quot;note&quot;&gt;This does not imply that the user interface need be
   linear. See the &lt;a href=&quot;#history-notes&quot;&gt;notes below&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;URIs without associated &lt;span title=&quot;state object&quot;&gt;state
   objects&lt;/span&gt; are added to the session history as the user (or
   script) navigates from page to page.&lt;/p&gt;
@@ -30279,10 +30358,12 @@
   &lt;code&gt;Document&lt;/code&gt; object with it must share the new object as
   well.&lt;/p&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;When state object entries are added, a URI can be provided. This
   URI is used to replace the state object entry if the
   &lt;code&gt;Document&lt;/code&gt; is evicted.&lt;/p&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;When a user agent discards the DOM from an entry in the session
   history, it must also discard all the entries that share that
   &lt;code&gt;Document&lt;/code&gt; but do not have an associated URI
@@ -30372,19 +30453,21 @@
   title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method adds a state object to the
   history.&lt;/p&gt;
 
+  &lt;!-- XXXURL algorithms XXXDOCURL --&gt;
   &lt;p&gt;When this method is invoked, the user agent must first check the
   third argument. If a third argument is specified, then the user
   agent must verify that the third argument is a valid URI or IRI (as
   defined by RFC 3986 and 3987), and if so, that, after resolving it
-  to an absolute URI, it is either identical to the document's URI, or
-  that it differs from the document's URI only in the &lt;query&gt;,
-  &lt;abs_path&gt;, and/or &lt;fragment&gt; parts, as applicable (the
-  &lt;query&gt; and &lt;abs_path&gt; parts can only be the same if the
-  document's URI uses a hierarchical &lt;scheme&gt;). If the
-  verification fails (either because the argument is syntactically
-  incorrect, or differs in a way not described as acceptable in the
-  previous sentence) then the user agent must raise a &lt;span&gt;security
-  exception&lt;/span&gt;. &lt;a href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt; &lt;a
+  to an absolute URI, it is either identical to &lt;span&gt;the document's
+  address&lt;/span&gt;, or that it differs from that address only in the
+  &lt;query&gt;, &lt;abs_path&gt;, and/or &lt;fragment&gt; parts, as
+  applicable (the &lt;query&gt; and &lt;abs_path&gt; parts can only be
+  the same if the document's URI uses a hierarchical
+  &lt;scheme&gt;). If the verification fails (either because the
+  argument is syntactically incorrect, or differs in a way not
+  described as acceptable in the previous sentence) then the user
+  agent must raise a &lt;span&gt;security exception&lt;/span&gt;. &lt;a
+  href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt; &lt;a
   href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;&lt;/p&gt;
 
   &lt;p&gt;If the third argument passes its verification step, or if the
@@ -30398,6 +30481,7 @@
   reference the same &lt;code&gt;Document&lt;/code&gt; object, then no entries are
   removed.&lt;/p&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;Then, the user agent must add a state object entry to the session
   history, after the &lt;span&gt;current entry&lt;/span&gt;, with the specified
   &lt;var title=&quot;&quot;&gt;data&lt;/var&gt; as the state object, the given &lt;var
@@ -30467,6 +30551,7 @@
 
   &lt;!-- XXX onpopstate should be defined somewhere --&gt;
 
+  &lt;!-- XXXURL check with DOM3 Events --&gt;
   &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;PopStateEvent&lt;/dfn&gt; : Event {
   readonly attribute DOMObject &lt;span title=&quot;dom-PopStateEvent-state&quot;&gt;state&lt;/span&gt;;
   void &lt;span title=&quot;dom-PopStateEvent-initPopStateEvent&quot;&gt;initPopStateEvent&lt;/span&gt;(in DOMString typeArg, in boolean canBubbleArg, in boolean cancelableArg, in DOMObject stateArg);
@@ -30505,11 +30590,12 @@
   &lt;code&gt;Location&lt;/code&gt; object for that &lt;code&gt;Window&lt;/code&gt; object's
   &lt;span&gt;active document&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;&lt;code&gt;Location&lt;/code&gt; objects provide a representation of the URI
-  of their document, and allow the &lt;span&gt;current entry&lt;/span&gt; of the
-  &lt;span&gt;browsing context&lt;/span&gt;'s session history to be changed, by
-  adding or replacing entries in the &lt;code
-  title=&quot;dom-history&quot;&gt;history&lt;/code&gt; object.&lt;/p&gt;
+  &lt;p&gt;&lt;code&gt;Location&lt;/code&gt; objects provide a representation of &lt;span
+  title=&quot;the document's address&quot;&gt;their document's address&lt;/span&gt;, and
+  allow the &lt;span&gt;current entry&lt;/span&gt; of the &lt;span&gt;browsing
+  context&lt;/span&gt;'s session history to be changed, by adding or
+  replacing entries in the &lt;code title=&quot;dom-history&quot;&gt;history&lt;/code&gt;
+  object.&lt;/p&gt;
 
   &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;Location&lt;/dfn&gt; {
   readonly attribute DOMString &lt;span title=&quot;dom-location-href&quot;&gt;href&lt;/span&gt;;
@@ -30517,7 +30603,8 @@
   void &lt;span title=&quot;dom-location-replace&quot;&gt;replace&lt;/span&gt;(in DOMString url);
   void &lt;span title=&quot;dom-location-reload&quot;&gt;reload&lt;/span&gt;();
 
-  // &lt;span&gt;URI decomposition attributes&lt;/span&gt; &lt;!-- blame brendan for these &quot;innovative&quot; names --&gt;
+  &lt;!-- XXXURL change to URL
+ --&gt;  // &lt;span&gt;URI decomposition attributes&lt;/span&gt; &lt;!-- blame brendan for these &quot;innovative&quot; names --&gt;
            attribute DOMString &lt;span title=&quot;dom-location-protocol&quot;&gt;protocol&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-location-host&quot;&gt;host&lt;/span&gt;;
            attribute DOMString &lt;span title=&quot;dom-location-hostname&quot;&gt;hostname&lt;/span&gt;;
@@ -30527,6 +30614,7 @@
            attribute DOMString &lt;span title=&quot;dom-location-hash&quot;&gt;hash&lt;/span&gt;;
 };&lt;/pre&gt;
 
+  &lt;!-- XXXURL change to URL --&gt;
   &lt;p&gt;The &lt;dfn title=&quot;dom-location-href&quot;&gt;&lt;code&gt;href&lt;/code&gt;&lt;/dfn&gt;
   attribute returns the address of the page represented by the
   associated &lt;code&gt;Document&lt;/code&gt; object, as an absolute URI or IRI
@@ -30571,6 +30659,7 @@
   script isn't a &lt;code&gt;Window&lt;/code&gt; object, then it can't ever get to
   a &lt;code&gt;Location&lt;/code&gt; object to call these methods.&lt;/p&gt;
 
+  &lt;!-- XXXURL algorithms --&gt;
   &lt;p&gt;Relative &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; arguments for &lt;code
   title=&quot;dom-location-assign&quot;&gt;assign()&lt;/code&gt; and &lt;code
   title=&quot;dom-location-replace&quot;&gt;replace()&lt;/code&gt; must be resolved
@@ -30579,6 +30668,8 @@
   the base URI is data: or javascript: or about: or something else
   without a way to resolve base URIs? --&gt;
 
+&lt;!-- XXXURLXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX --&gt;
+
   &lt;p&gt;The &lt;code&gt;Location&lt;/code&gt; interface also has the complement of
   &lt;span&gt;URI decomposition attributes&lt;/span&gt;, &lt;dfn
   title=&quot;dom-location-protocol&quot;&gt;&lt;code&gt;protocol&lt;/code&gt;&lt;/dfn&gt;, &lt;dfn


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008685.html">[html5] r1787 - /
</A></li>
	<LI>Next message: <A HREF="008687.html">[html5] r1789 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8686">[ date ]</a>
              <a href="thread.html#8686">[ thread ]</a>
              <a href="subject.html#8686">[ subject ]</a>
              <a href="author.html#8686">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
