<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2382 - [aco] (2) Define 'local date and time', 'date',	'time', and redefine 'global dat [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2382%20-%20%5Baco%5D%20%282%29%20Define%20%27local%20date%20and%20time%27%2C%20%27date%27%2C%0A%09%27time%27%2C%20and%20redefine%20%27global%20dat%20%5B...%5D&In-Reply-To=%3C20081030005813.1546E38EA77%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009265.html">
   <LINK REL="Next"  HREF="009267.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2382 - [aco] (2) Define 'local date and time', 'date',	'time', and redefine 'global dat [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2382%20-%20%5Baco%5D%20%282%29%20Define%20%27local%20date%20and%20time%27%2C%20%27date%27%2C%0A%09%27time%27%2C%20and%20redefine%20%27global%20dat%20%5B...%5D&In-Reply-To=%3C20081030005813.1546E38EA77%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2382 - [aco] (2) Define 'local date and time', 'date',	'time', and redefine 'global dat [...]">whatwg at whatwg.org
       </A><BR>
    <I>Wed Oct 29 17:58:13 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009265.html">[html5] r2381 - [] (0) Redefine datetimes to be stricter. Merge the	two definitions of timezoned [...]
</A></li>
        <LI>Next message: <A HREF="009267.html">[html5] r2383 - [aco] (2) Define 'month' syntax,	and tighten up the rest of the datetime definitions.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9266">[ date ]</a>
              <a href="thread.html#9266">[ thread ]</a>
              <a href="subject.html#9266">[ subject ]</a>
              <a href="author.html#9266">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-10-29 17:58:12 -0700 (Wed, 29 Oct 2008)
New Revision: 2382

Modified:
   index
   source
Log:
[aco] (2) Define 'local date and time', 'date', 'time', and redefine 'global date and time' in a more factored-out way.

Modified: index
===================================================================
--- index	2008-10-30 00:21:51 UTC (rev 2381)
+++ index	2008-10-30 00:58:12 UTC (rev 2382)
@@ -225,12 +225,12 @@
        &lt;li&gt;&lt;a href=#lists-of-integers&gt;&lt;span class=secno&gt;2.4.3.6 &lt;/span&gt;Lists of integers&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#dates-and-times&gt;&lt;span class=secno&gt;2.4.4 &lt;/span&gt;Dates and times&lt;/a&gt;
       &lt;ol&gt;
-       &lt;li&gt;&lt;a href=#global-dates-and-times&gt;&lt;span class=secno&gt;2.4.4.1 &lt;/span&gt;Global dates and times&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#local-dates-and-times&gt;&lt;span class=secno&gt;2.4.4.2 &lt;/span&gt;Local dates and times&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#dates&gt;&lt;span class=secno&gt;2.4.4.3 &lt;/span&gt;Dates&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#months&gt;&lt;span class=secno&gt;2.4.4.4 &lt;/span&gt;Months&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#weeks&gt;&lt;span class=secno&gt;2.4.4.5 &lt;/span&gt;Weeks&lt;/a&gt;&lt;/li&gt;
-       &lt;li&gt;&lt;a href=#times&gt;&lt;span class=secno&gt;2.4.4.6 &lt;/span&gt;Times&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#dates&gt;&lt;span class=secno&gt;2.4.4.1 &lt;/span&gt;Dates&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#times&gt;&lt;span class=secno&gt;2.4.4.2 &lt;/span&gt;Times&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#local-dates-and-times&gt;&lt;span class=secno&gt;2.4.4.3 &lt;/span&gt;Local dates and times&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#global-dates-and-times&gt;&lt;span class=secno&gt;2.4.4.4 &lt;/span&gt;Global dates and times&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#months&gt;&lt;span class=secno&gt;2.4.4.5 &lt;/span&gt;Months&lt;/a&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;a href=#weeks&gt;&lt;span class=secno&gt;2.4.4.6 &lt;/span&gt;Weeks&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#vaguer-moments-in-time&gt;&lt;span class=secno&gt;2.4.4.7 &lt;/span&gt;Vaguer moments in time&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#time-offsets&gt;&lt;span class=secno&gt;2.4.4.8 &lt;/span&gt;Time offsets&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#space-separated-tokens&gt;&lt;span class=secno&gt;2.4.5 &lt;/span&gt;Space-separated tokens&lt;/a&gt;&lt;/li&gt;
@@ -2684,59 +2684,310 @@
   &lt;em&gt;28&lt;/em&gt; otherwise. This takes into account leap years in the
   Gregorian calendar. &lt;a href=#refsGREGORIAN&gt;[GREGORIAN]&lt;/a&gt;&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn id=concept-datetime-digit title=concept-datetime-digit&gt;digits&lt;/dfn&gt; in the date
+  and time syntaxes defined in this section must be characters in the
+  range U+0030 DIGIT ZERO to U+0039 DIGIT NINE, used to express
+  numbers in base ten.&lt;/p&gt;
 
-  &lt;h5 id=global-dates-and-times&gt;&lt;span class=secno&gt;2.4.4.1 &lt;/span&gt;Global dates and times&lt;/h5&gt;
 
-  &lt;p&gt;A &lt;dfn id=concept-datetime title=concept-datetime&gt;global date and time&lt;/dfn&gt;
-  consists of a specific Gregorian date, consisting of a year, a
-  month, a day, an hour, a minute, a second, and a fraction of a
-  second, expressed with a time zone, consisting of a number of hours
-  and minutes. &lt;a href=#refsGREGORIAN&gt;[GREGORIAN]&lt;/a&gt;&lt;/p&gt;
+  &lt;h5 id=dates&gt;&lt;span class=secno&gt;2.4.4.1 &lt;/span&gt;Dates&lt;/h5&gt;
 
-  &lt;!--XXX [GREGORIAN] should point to
-  &lt;dd id=&quot;refsGREGORIAN&quot;&gt;[GREGORIAN]&lt;/dd&gt;
-  &lt;dd&gt;(Non-normative) &lt;cite&gt;Inter Gravissimas&lt;/cite&gt;, A. Lilius, C. Clavius. Gregory XIII Papal Bulls, February 1582.&lt;/dd&gt;
-  --&gt;
+  &lt;p&gt;A &lt;dfn id=concept-date title=concept-date&gt;date&lt;/dfn&gt; consists of a specific
+  Gregorian date with no timezone information, consisting of a year, a
+  month, and a day. &lt;a href=#refsGREGORIAN&gt;[GREGORIAN]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p&gt;A string is a &lt;dfn id=valid-global-date-and-time-string&gt;valid global date and time string&lt;/dfn&gt; if it
-  has the components in the following list, in the given order, and if
-  the components in the list follow the constraints given after the
+  &lt;p&gt;A string is a &lt;dfn id=valid-date-string&gt;valid date string&lt;/dfn&gt; if it has the
+  components in the following list, in the given order, and if the
+  components in the list follow the constraints given after the
   list:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;Four or more digits (representing the year)&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;Four or more &lt;a href=#concept-datetime-digit title=concept-datetime-digit&gt;digits&lt;/a&gt; (representing the year)&lt;/li&gt;
 
    &lt;li&gt;A U+002D HYPHEN-MINUS character (-).&lt;/li&gt;
 
-   &lt;li&gt;Two digits (representing the month)&lt;/li&gt;
+   &lt;li&gt;Two &lt;a href=#concept-datetime-digit title=concept-datetime-digit&gt;digits&lt;/a&gt; (representing the month)&lt;/li&gt;
 
    &lt;li&gt;A U+002D HYPHEN-MINUS character (-).&lt;/li&gt;
 
-   &lt;li&gt;Two digits (representing the day)&lt;/li&gt;
+   &lt;li&gt;Two &lt;a href=#concept-datetime-digit title=concept-datetime-digit&gt;digits&lt;/a&gt; (representing the day)&lt;/li&gt;
 
-   &lt;li&gt;A U+0054 LATIN CAPITAL LETTER T character.&lt;/li&gt;
+  &lt;/ol&gt;&lt;p&gt;The aforementioned constraints are:&lt;/p&gt;
 
-   &lt;li&gt;Two digits (representing the hour)&lt;/li&gt;
+  &lt;ul&gt;&lt;li&gt;The month &lt;var title=&quot;&quot;&gt;m&lt;/var&gt; must be in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;m&lt;/var&gt;&nbsp;&le;&nbsp;12.&lt;/li&gt;
 
+   &lt;li&gt;The day &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; must be in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;d&lt;/var&gt;&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;D&lt;/var&gt; where &lt;var title=&quot;&quot;&gt;D&lt;/var&gt; is the &lt;a href=#number-of-days-in-month-month-of-year-year title=&quot;number of days in month month of year year&quot;&gt;number of days
+   in the given month and year&lt;/a&gt;.&lt;/li&gt;
+
+  &lt;/ul&gt;&lt;p&gt;The rules to &lt;dfn id=parse-a-date-string&gt;parse a date string&lt;/dfn&gt; are as follows. This
+  will either return a date, or nothing. If at any point the algorithm
+  says that it &quot;fails&quot;, this means that it is aborted at that point
+  and returns nothing.&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string being
+   parsed.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
+   string.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#parse-a-date-component&gt;Parse a date component&lt;/a&gt; to obtain &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;. If this returns nothing, then fail.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; beyond the
+   end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;date&lt;/var&gt; be the date with year &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, and day &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;date&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The rules to &lt;dfn id=parse-a-date-component&gt;parse a date component&lt;/dfn&gt;, given an &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; string and a &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;, are
+  as follows. This will either return a year, a month, and a day, or
+  nothing. If at any point the algorithm says that it &quot;fails&quot;, this
+  means that it is aborted at that point and returns nothing.&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
+   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
+   sequence is not at least four characters long, then
+   fail. Otherwise, interpret the resulting sequence as a base-ten
+   integer. Let that number be the &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+002D HYPHEN-MINUS character,
+   then fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; forwards
+   one character.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
+   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
+   sequence is not exactly two characters long, then fail. Otherwise,
+   interpret the resulting sequence as a base-ten integer. Let that
+   number be the &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; is not a number in the range
+   1&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;month&lt;/var&gt;&nbsp;&le;&nbsp;12, then
+   fail.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maxday&lt;/var&gt; be the &lt;a href=#number-of-days-in-month-month-of-year-year&gt;number of days
+   in month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; of year &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+002D HYPHEN-MINUS character,
+   then fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; forwards
+   one character.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
+   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
+   sequence is not exactly two characters long, then fail. Otherwise,
+   interpret the resulting sequence as a base-ten integer. Let that
+   number be the &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;day&lt;/var&gt; is not a number in the range
+   1&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;month&lt;/var&gt;&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;maxday&lt;/var&gt;, then fail.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;,
+   and &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;h5 id=times&gt;&lt;span class=secno&gt;2.4.4.2 &lt;/span&gt;Times&lt;/h5&gt;
+
+  &lt;p&gt;A &lt;dfn id=concept-time title=concept-time&gt;time&lt;/dfn&gt; consists of a specific
+  time with no timezone information, consisting of an hour, a minute,
+  a second, and a fraction of a second.&lt;/p&gt;
+
+  &lt;p&gt;A string is a &lt;dfn id=valid-time-string&gt;valid time string&lt;/dfn&gt; if it has the
+  components in the following list, in the given order, and if the
+  components in the list follow the constraints given after the
+  list:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;Two &lt;a href=#concept-datetime-digit title=concept-datetime-digit&gt;digits&lt;/a&gt; (representing the hour)&lt;/li&gt;
+
    &lt;li&gt;A U+003A COLON character (:).&lt;/li&gt;
 
-   &lt;li&gt;Two digits (representing the minutes)&lt;/li&gt;
+   &lt;li&gt;Two &lt;a href=#concept-datetime-digit title=concept-datetime-digit&gt;digits&lt;/a&gt; (representing the minutes)&lt;/li&gt;
 
    &lt;li&gt;Optionally:
 
     &lt;ol&gt;&lt;li&gt;A U+003A COLON character (:).&lt;/li&gt;
 
-     &lt;li&gt;Two digits (representing the integer part of the seconds)&lt;/li&gt;
+     &lt;li&gt;Two &lt;a href=#concept-datetime-digit title=concept-datetime-digit&gt;digits&lt;/a&gt; (representing the integer part of the seconds)&lt;/li&gt;
 
      &lt;li&gt;Optionally:
 
       &lt;ol&gt;&lt;li&gt;A 002E FULL STOP character (.)&lt;/li&gt;
 
-       &lt;li&gt;One or more digits (representing the fractional part of the seconds)&lt;/li&gt;
+       &lt;li&gt;One or more &lt;a href=#concept-datetime-digit title=concept-datetime-digit&gt;digits&lt;/a&gt; (representing the fractional part of the seconds)&lt;/li&gt;
 
       &lt;/ol&gt;&lt;/li&gt;
 
     &lt;/ol&gt;&lt;/li&gt;
 
+  &lt;/ol&gt;&lt;p&gt;The aforementioned constraints are:&lt;/p&gt;
+
+  &lt;ul&gt;&lt;li&gt;The hour &lt;var title=&quot;&quot;&gt;h&lt;/var&gt; must be in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;h&lt;/var&gt;&nbsp;&le;&nbsp;23.&lt;/li&gt;
+
+   &lt;li&gt;The minute &lt;var title=&quot;&quot;&gt;m&lt;/var&gt; must be in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;m&lt;/var&gt;&nbsp;&le;&nbsp;59.&lt;/li&gt;
+
+   &lt;li&gt;If present, the second &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; (consisting of the
+   integer part and its fractional part) must be in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;s&lt;/var&gt;&nbsp;&lt;&nbsp;60.  (The
+   values 60 and 61 are not allowed: leap seconds cannot be
+   represented by datetime values.)&lt;/li&gt;
+
+  &lt;/ul&gt;&lt;p&gt;The rules to &lt;dfn id=parse-a-time-string&gt;parse a time string&lt;/dfn&gt; are as follows. This
+  will either return a time, or nothing. If at any point the algorithm
+  says that it &quot;fails&quot;, this means that it is aborted at that point
+  and returns nothing.&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string being
+   parsed.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
+   string.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#parse-a-time-component&gt;Parse a time component&lt;/a&gt; to obtain &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;. If this returns nothing, then fail.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; beyond the
+   end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; be the time with hour &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;, minute &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, and second
+   &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;time&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The rules to &lt;dfn id=parse-a-time-component&gt;parse a time component&lt;/dfn&gt;, given an &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; string and a &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;, are
+  as follows. This will either return an hour, a minute, and a second,
+  or nothing. If at any point the algorithm says that it &quot;fails&quot;, this
+  means that it is aborted at that point and returns nothing.&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
+   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
+   sequence is not exactly two characters long, then fail. Otherwise,
+   interpret the resulting sequence as a base-ten integer. Let that
+   number be the &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt; is not a number in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;&nbsp;&le;&nbsp;23, then
+   fail.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+003A COLON character, then
+   fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; forwards one
+   character.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
+   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
+   sequence is not exactly two characters long, then fail. Otherwise,
+   interpret the resulting sequence as a base-ten integer. Let that
+   number be the &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt; is not a number in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;&nbsp;&le;&nbsp;59, then
+   fail.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; be a string with the value
+   &quot;0&quot;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not beyond the end of
+    &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; and the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a U+003A COLON, then run these
+    substeps:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character
+     in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, or at the last character in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, or if the next &lt;em&gt;two&lt;/em&gt; characters in
+     &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; starting at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; are not two characters both in the range
+     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), then
+     fail.&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; that are
+     either characters in the range U+0030 DIGIT ZERO (0) to U+0039
+     DIGIT NINE (9) or U+002E FULL STOP characters. If the collected
+     sequence has more than one U+002E FULL STOP characters, or if the
+     last character in the sequence is a U+002E FULL STOP character,
+     then fail. Otherwise, let the collected string be &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; instead of its previous value.&lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Interpret &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; as a base-ten number
+   (possibly with a fractional part). Let &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;
+   be that number instead of the string version.&lt;/li&gt;
+
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; is not a number in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;second&lt;/var&gt;&nbsp;&lt;&nbsp;60, then
+   fail.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;,
+   and &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;h5 id=local-dates-and-times&gt;&lt;span class=secno&gt;2.4.4.3 &lt;/span&gt;Local dates and times&lt;/h5&gt;
+
+  &lt;p&gt;A &lt;dfn id=concept-datetime-local title=concept-datetime-local&gt;local date and time&lt;/dfn&gt;
+  consists of a specific Gregorian date, consisting of a year, a
+  month, and a day, and a time, consisting of an hour, a minute, a
+  second, and a fraction of a second, but expressed without a time
+  zone. &lt;a href=#refsGREGORIAN&gt;[GREGORIAN]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;A string is a &lt;dfn id=valid-local-date-and-time-string&gt;valid local date and time string&lt;/dfn&gt; if it
+  has the components in the following list, in the given order:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;A &lt;a href=#valid-date-string&gt;valid date string&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;A U+0054 LATIN CAPITAL LETTER T character.&lt;/li&gt;
+
+   &lt;li&gt;A &lt;a href=#valid-time-string&gt;valid time string&lt;/a&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The rules to &lt;dfn id=parse-a-local-date-and-time-string&gt;parse a local date and time string&lt;/dfn&gt; are as
+  follows. This will either return a date and time, or nothing. If at
+  any point the algorithm says that it &quot;fails&quot;, this means that it is
+  aborted at that point and returns nothing.&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string being
+   parsed.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
+   string.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#parse-a-date-component&gt;Parse a date component&lt;/a&gt; to obtain &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;. If this returns nothing, then fail.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+0054 LATIN CAPITAL LETTER T
+   character then fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;
+   forwards one character.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#parse-a-time-component&gt;Parse a time component&lt;/a&gt; to obtain &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;. If this returns nothing, then fail.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; beyond the
+   end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;date&lt;/var&gt; be the date with year &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, and day &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; be the time with hour &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;, minute &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, and second
+   &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;date&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;time&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;h5 id=global-dates-and-times&gt;&lt;span class=secno&gt;2.4.4.4 &lt;/span&gt;Global dates and times&lt;/h5&gt;
+
+  &lt;p&gt;A &lt;dfn id=concept-datetime title=concept-datetime&gt;global date and time&lt;/dfn&gt;
+  consists of a specific Gregorian date, consisting of a year, a
+  month, and a day, and a time, consisting of an hour, a minute, a
+  second, and a fraction of a second, expressed with a time zone,
+  consisting of a number of hours and minutes. &lt;a href=#refsGREGORIAN&gt;[GREGORIAN]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;!--XXX [GREGORIAN] should point to
+  &lt;dd id=&quot;refsGREGORIAN&quot;&gt;[GREGORIAN]&lt;/dd&gt;
+  &lt;dd&gt;(Non-normative) &lt;cite&gt;Inter Gravissimas&lt;/cite&gt;, A. Lilius, C. Clavius. Gregory XIII Papal Bulls, February 1582.&lt;/dd&gt;
+  --&gt;
+
+  &lt;p&gt;A string is a &lt;dfn id=valid-global-date-and-time-string&gt;valid global date and time string&lt;/dfn&gt; if it
+  has the components in the following list, in the given order, and if
+  the components in the list follow the constraints given after the
+  list:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;A &lt;a href=#valid-date-string&gt;valid date string&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;A U+0054 LATIN CAPITAL LETTER T character.&lt;/li&gt;
+
+   &lt;li&gt;A &lt;a href=#valid-time-string&gt;valid time string&lt;/a&gt;.&lt;/li&gt;
+
    &lt;li&gt;Either:
 
     &lt;ul&gt;&lt;li&gt;A U+005A LATIN CAPITAL LETTER Z character (indicating the
@@ -2748,11 +2999,11 @@
        HYPHEN-MINUS (-) character (the sign of the timezone
        offset)&lt;/li&gt;
 
-       &lt;li&gt;Two digits (representing the hours component of the timezone offset)&lt;/li&gt;
+       &lt;li&gt;Two &lt;a href=#concept-datetime-digit title=concept-datetime-digit&gt;digits&lt;/a&gt; (representing the hours component of the timezone offset)&lt;/li&gt;
 
        &lt;li&gt;A U+003A COLON character (:).&lt;/li&gt;
 
-       &lt;li&gt;Two digits (representing the minutes component of the timezone offset)&lt;/li&gt;
+       &lt;li&gt;Two &lt;a href=#concept-datetime-digit title=concept-datetime-digit&gt;digits&lt;/a&gt; (representing the minutes component of the timezone offset)&lt;/li&gt;
 
       &lt;/ol&gt;&lt;/li&gt;
 
@@ -2760,26 +3011,7 @@
 
   &lt;/ol&gt;&lt;p&gt;The aforementioned constraints are:&lt;/p&gt;
 
-  &lt;ul&gt;&lt;li&gt;The month &lt;var title=&quot;&quot;&gt;m&lt;/var&gt; must be in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;m&lt;/var&gt;&nbsp;&le;&nbsp;12.&lt;/li&gt;
-
-   &lt;li&gt;The day &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; must be in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;d&lt;/var&gt;&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;D&lt;/var&gt; where &lt;var title=&quot;&quot;&gt;D&lt;/var&gt; is the &lt;a href=#number-of-days-in-month-month-of-year-year title=&quot;number of days in month month of year year&quot;&gt;number of days
-   in the given month and year&lt;/a&gt;.&lt;/li&gt;
-
-   &lt;li&gt;The hour &lt;var title=&quot;&quot;&gt;h&lt;/var&gt; must be in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;h&lt;/var&gt;&nbsp;&le;&nbsp;23.&lt;/li&gt;
-
-   &lt;li&gt;The minute &lt;var title=&quot;&quot;&gt;m&lt;/var&gt; must be in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;m&lt;/var&gt;&nbsp;&le;&nbsp;59.&lt;/li&gt;
-
-   &lt;li&gt;If present, the second &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; (consisting of the
-   integer part and its fractional part) must be in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;s&lt;/var&gt;&nbsp;&lt;&nbsp;60.  (The
-   values 60 and 61 are not allowed: leap seconds cannot be
-   represented by datetime values.)&lt;/li&gt;
-
-   &lt;li&gt;If present, the time zone hour &lt;var title=&quot;&quot;&gt;h&lt;/var&gt; must be in
+  &lt;ul&gt;&lt;li&gt;If present, the time zone hour &lt;var title=&quot;&quot;&gt;h&lt;/var&gt; must be in
    the range 0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;h&lt;/var&gt;&nbsp;&le;&nbsp;23. (However, in practice, time
    zones do not currently ever have an hour component greater than
    14.)&lt;/li&gt;
@@ -2789,11 +3021,8 @@
    zones do not currently ever have a minute component other than 0, 30,
    or 45.)&lt;/li&gt;
 
-  &lt;/ul&gt;&lt;p&gt;The digits must be characters in the range U+0030 DIGIT ZERO to
-  U+0039 DIGIT NINE, used to express numbers in base ten.&lt;/p&gt;
+  &lt;/ul&gt;&lt;div class=example&gt;
 
-  &lt;div class=example&gt;
-
    &lt;p&gt;The following are some examples of dates written as &lt;a href=#valid-global-date-and-time-string title=&quot;valid global date and time string&quot;&gt;valid global date and
    time strings&lt;/a&gt;.&lt;/p&gt;
 
@@ -2851,109 +3080,18 @@
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
    string.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
-   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-   sequence is not at least four characters long, then
-   fail. Otherwise, interpret the resulting sequence as a base-ten
-   integer. Let that number be the &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#parse-a-date-component&gt;Parse a date component&lt;/a&gt; to obtain &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;. If this returns nothing, then fail.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+002D HYPHEN-MINUS character,
-   then fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; forwards
-   one character.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
-   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-   sequence is not exactly two characters long, then fail. Otherwise,
-   interpret the resulting sequence as a base-ten integer. Let that
-   number be the &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;.&lt;/li&gt;
-
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; is not a number in the range
-   1&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;month&lt;/var&gt;&nbsp;&le;&nbsp;12, then
-   fail.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maxday&lt;/var&gt; be the &lt;a href=#number-of-days-in-month-month-of-year-year&gt;number of days
-   in month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; of year &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;&lt;/a&gt;.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+002D HYPHEN-MINUS character,
-   then fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; forwards
-   one character.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
-   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-   sequence is not exactly two characters long, then fail. Otherwise,
-   interpret the resulting sequence as a base-ten integer. Let that
-   number be the &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;day&lt;/var&gt; is not a number in the range
-   1&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;month&lt;/var&gt;&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;maxday&lt;/var&gt;, then fail.&lt;/li&gt;
-
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+0054 LATIN CAPITAL LETTER T
    character then fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;
    forwards one character.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
-   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-   sequence is not exactly two characters long, then fail. Otherwise,
-   interpret the resulting sequence as a base-ten integer. Let that
-   number be the &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#parse-a-time-component&gt;Parse a time component&lt;/a&gt; to obtain &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;. If this returns nothing, then fail.&lt;/p&gt;
 
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt; is not a number in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;&nbsp;&le;&nbsp;23, then
-   fail.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+003A COLON character, then
-   fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; forwards one
-   character.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
-   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-   sequence is not exactly two characters long, then fail. Otherwise,
-   interpret the resulting sequence as a base-ten integer. Let that
-   number be the &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;.&lt;/li&gt;
-
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt; is not a number in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;&nbsp;&le;&nbsp;59, then
-   fail.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; be a string with the value
-   &quot;0&quot;.&lt;/li&gt;
-
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a U+003A
-    COLON, then run these substeps:&lt;/p&gt;
-
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character
-     in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, or at the last character in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, or if the next &lt;em&gt;two&lt;/em&gt; characters in
-     &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; starting at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; are not two characters both in the range
-     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), then
-     fail.&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; that are
-     either characters in the range U+0030 DIGIT ZERO (0) to U+0039
-     DIGIT NINE (9) or U+002E FULL STOP characters. If the collected
-     sequence has more than one U+002E FULL STOP characters, or if the
-     last character in the sequence is a U+002E FULL STOP character,
-     then fail. Otherwise, let the collected string be &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; instead of its previous value.&lt;/li&gt;
-
-    &lt;/ol&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Interpret &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; as a base-ten number
-   (possibly with a fractional part). Let &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;
-   be that number instead of the string version.&lt;/li&gt;
-
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; is not a number in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;second&lt;/var&gt;&nbsp;&lt;&nbsp;60, then
-   fail.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/li&gt;
-
-   &lt;li&gt;
-
     &lt;p&gt;If the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a U+005A
     LATIN CAPITAL LETTER Z, then:&lt;/p&gt;
 
@@ -3019,32 +3157,8 @@
 
    &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;timezone&lt;/var&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;h5 id=local-dates-and-times&gt;&lt;span class=secno&gt;2.4.4.2 &lt;/span&gt;Local dates and times&lt;/h5&gt;
+  &lt;/ol&gt;&lt;h5 id=months&gt;&lt;span class=secno&gt;2.4.4.5 &lt;/span&gt;Months&lt;/h5&gt;
 
-  &lt;p&gt;A &lt;dfn id=concept-datetime-local title=concept-datetime-local&gt;local date and time&lt;/dfn&gt;
-  consists of a specific Gregorian date with no timezone information,
-  consisting of a year, a month, a day, an hour, a minute, a second,
-  and a fraction of a second. &lt;a href=#refsGREGORIAN&gt;[GREGORIAN]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p class=XXX&gt;... &lt;dfn id=valid-local-date-and-time-string&gt;valid local date and time string&lt;/dfn&gt;&lt;/p&gt;
-
-  &lt;p class=XXX&gt;... rules to &lt;dfn id=parse-a-local-date-and-time-string&gt;parse a local date and time
-  string&lt;/dfn&gt;&lt;/p&gt;
-
-
-  &lt;h5 id=dates&gt;&lt;span class=secno&gt;2.4.4.3 &lt;/span&gt;Dates&lt;/h5&gt;
-
-  &lt;p&gt;A &lt;dfn id=concept-date title=concept-date&gt;date&lt;/dfn&gt; consists of a specific
-  Gregorian date with no timezone information, consisting of a year, a
-  month, and a day. &lt;a href=#refsGREGORIAN&gt;[GREGORIAN]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p class=XXX&gt;... &lt;dfn id=valid-date-string&gt;valid date string&lt;/dfn&gt;&lt;/p&gt;
-
-  &lt;p class=XXX&gt;... rules to &lt;dfn id=parse-a-date-string&gt;parse a date string&lt;/dfn&gt;&lt;/p&gt;
-
-
-  &lt;h5 id=months&gt;&lt;span class=secno&gt;2.4.4.4 &lt;/span&gt;Months&lt;/h5&gt;
-
   &lt;p&gt;A &lt;dfn id=concept-month title=concept-month&gt;month&lt;/dfn&gt; consists of a specific
   Gregorian date with no timezone information and no date information
   beyond a year and a month. &lt;a href=#refsGREGORIAN&gt;[GREGORIAN]&lt;/a&gt;&lt;/p&gt;
@@ -3054,7 +3168,7 @@
   &lt;p class=XXX&gt;... rules to &lt;dfn id=parse-a-month-string&gt;parse a month string&lt;/dfn&gt;&lt;/p&gt;
 
 
-  &lt;h5 id=weeks&gt;&lt;span class=secno&gt;2.4.4.5 &lt;/span&gt;Weeks&lt;/h5&gt;
+  &lt;h5 id=weeks&gt;&lt;span class=secno&gt;2.4.4.6 &lt;/span&gt;Weeks&lt;/h5&gt;
 
   &lt;p&gt;A &lt;dfn id=concept-week title=concept-week&gt;week&lt;/dfn&gt; consists of a specific
   Gregorian date with no timezone information and no date information
@@ -3067,18 +3181,7 @@
   &lt;p class=XXX&gt;... rules to &lt;dfn id=parse-a-week-string&gt;parse a week string&lt;/dfn&gt;&lt;/p&gt;
 
 
-  &lt;h5 id=times&gt;&lt;span class=secno&gt;2.4.4.6 &lt;/span&gt;Times&lt;/h5&gt;
 
-  &lt;p&gt;A &lt;dfn id=concept-time title=concept-time&gt;time&lt;/dfn&gt; consists of a specific
-  time with no timezone information, consisting of an hour, a minute,
-  a second, and a fraction of a second.&lt;/p&gt;
-
-  &lt;p class=XXX&gt;... &lt;dfn id=valid-time-string&gt;valid time string&lt;/dfn&gt;&lt;/p&gt;
-
-  &lt;p class=XXX&gt;... rules to &lt;dfn id=parse-a-time-string&gt;parse a time string&lt;/dfn&gt;&lt;/p&gt;
-
-
-
   &lt;h5 id=vaguer-moments-in-time&gt;&lt;span class=secno&gt;2.4.4.7 &lt;/span&gt;Vaguer moments in time&lt;/h5&gt;
 
   &lt;p&gt;This section defines &lt;dfn id=date-or-time-string title=&quot;date or time string&quot;&gt;date or

Modified: source
===================================================================
--- source	2008-10-30 00:21:51 UTC (rev 2381)
+++ source	2008-10-30 00:58:12 UTC (rev 2382)
@@ -1952,44 +1952,156 @@
   Gregorian calendar. &lt;a
   href=&quot;#refsGREGORIAN&quot;&gt;[GREGORIAN]&lt;/a&gt;&lt;/p&gt;
 
+  &lt;p&gt;The &lt;dfn title=&quot;concept-datetime-digit&quot;&gt;digits&lt;/dfn&gt; in the date
+  and time syntaxes defined in this section must be characters in the
+  range U+0030 DIGIT ZERO to U+0039 DIGIT NINE, used to express
+  numbers in base ten.&lt;/p&gt;
 
-  &lt;h5&gt;Global dates and times&lt;/h5&gt;
 
-  &lt;p&gt;A &lt;dfn title=&quot;concept-datetime&quot;&gt;global date and time&lt;/dfn&gt;
-  consists of a specific Gregorian date, consisting of a year, a
-  month, a day, an hour, a minute, a second, and a fraction of a
-  second, expressed with a time zone, consisting of a number of hours
-  and minutes. &lt;a href=&quot;#refsGREGORIAN&quot;&gt;[GREGORIAN]&lt;/a&gt;&lt;/p&gt;
+  &lt;h5&gt;Dates&lt;/h5&gt;
 
-  &lt;!--XXX [GREGORIAN] should point to
-  &lt;dd id=&quot;refsGREGORIAN&quot;&gt;[GREGORIAN]&lt;/dd&gt;
-  &lt;dd&gt;(Non-normative) &lt;cite&gt;Inter Gravissimas&lt;/cite&gt;, A. Lilius, C. Clavius. Gregory XIII Papal Bulls, February 1582.&lt;/dd&gt;
-  --&gt;
+  &lt;p&gt;A &lt;dfn title=&quot;concept-date&quot;&gt;date&lt;/dfn&gt; consists of a specific
+  Gregorian date with no timezone information, consisting of a year, a
+  month, and a day. &lt;a href=&quot;#refsGREGORIAN&quot;&gt;[GREGORIAN]&lt;/a&gt;&lt;/p&gt;
 
-  &lt;p&gt;A string is a &lt;dfn&gt;valid global date and time string&lt;/dfn&gt; if it
-  has the components in the following list, in the given order, and if
-  the components in the list follow the constraints given after the
+  &lt;p&gt;A string is a &lt;dfn&gt;valid date string&lt;/dfn&gt; if it has the
+  components in the following list, in the given order, and if the
+  components in the list follow the constraints given after the
   list:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;Four or more digits (representing the year)&lt;/li&gt;
+   &lt;li&gt;Four or more &lt;span title=&quot;concept-datetime-digit&quot;&gt;digits&lt;/span&gt; (representing the year)&lt;/li&gt;
 
    &lt;li&gt;A U+002D HYPHEN-MINUS character (-).&lt;/li&gt;
 
-   &lt;li&gt;Two digits (representing the month)&lt;/li&gt;
+   &lt;li&gt;Two &lt;span title=&quot;concept-datetime-digit&quot;&gt;digits&lt;/span&gt; (representing the month)&lt;/li&gt;
 
    &lt;li&gt;A U+002D HYPHEN-MINUS character (-).&lt;/li&gt;
 
-   &lt;li&gt;Two digits (representing the day)&lt;/li&gt;
+   &lt;li&gt;Two &lt;span title=&quot;concept-datetime-digit&quot;&gt;digits&lt;/span&gt; (representing the day)&lt;/li&gt;
 
-   &lt;li&gt;A U+0054 LATIN CAPITAL LETTER T character.&lt;/li&gt;
+  &lt;/ol&gt;
 
-   &lt;li&gt;Two digits (representing the hour)&lt;/li&gt;
+  &lt;p&gt;The aforementioned constraints are:&lt;/p&gt;
 
+  &lt;ul&gt;
+
+   &lt;li&gt;The month &lt;var title=&quot;&quot;&gt;m&lt;/var&gt; must be in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;m&lt;/var&gt;&nbsp;&le;&nbsp;12.&lt;/li&gt;
+
+   &lt;li&gt;The day &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; must be in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;d&lt;/var&gt;&nbsp;&le;&nbsp;&lt;var
+   title=&quot;&quot;&gt;D&lt;/var&gt; where &lt;var title=&quot;&quot;&gt;D&lt;/var&gt; is the &lt;span
+   title=&quot;number of days in month month of year year&quot;&gt;number of days
+   in the given month and year&lt;/span&gt;.&lt;/li&gt;
+
+  &lt;/ul&gt;
+
+  &lt;p&gt;The rules to &lt;dfn&gt;parse a date string&lt;/dfn&gt; are as follows. This
+  will either return a date, or nothing. If at any point the algorithm
+  says that it &quot;fails&quot;, this means that it is aborted at that point
+  and returns nothing.&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string being
+   parsed.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
+   string.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Parse a date component&lt;/span&gt; to obtain &lt;var
+   title=&quot;&quot;&gt;year&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, and &lt;var
+   title=&quot;&quot;&gt;day&lt;/var&gt;. If this returns nothing, then fail.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; beyond the
+   end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;date&lt;/var&gt; be the date with year &lt;var
+   title=&quot;&quot;&gt;year&lt;/var&gt;, month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, and day &lt;var
+   title=&quot;&quot;&gt;day&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;date&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;The rules to &lt;dfn&gt;parse a date component&lt;/dfn&gt;, given an &lt;var
+  title=&quot;&quot;&gt;input&lt;/var&gt; string and a &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;, are
+  as follows. This will either return a year, a month, and a day, or
+  nothing. If at any point the algorithm says that it &quot;fails&quot;, this
+  means that it is aborted at that point and returns nothing.&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
+   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
+   sequence is not at least four characters long, then
+   fail. Otherwise, interpret the resulting sequence as a base-ten
+   integer. Let that number be the &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var
+   title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+002D HYPHEN-MINUS character,
+   then fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; forwards
+   one character.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
+   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
+   sequence is not exactly two characters long, then fail. Otherwise,
+   interpret the resulting sequence as a base-ten integer. Let that
+   number be the &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; is not a number in the range
+   1&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;month&lt;/var&gt;&nbsp;&le;&nbsp;12, then
+   fail.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maxday&lt;/var&gt; be the &lt;span&gt;number of days
+   in month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; of year &lt;var
+   title=&quot;&quot;&gt;year&lt;/var&gt;&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var
+   title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+002D HYPHEN-MINUS character,
+   then fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; forwards
+   one character.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
+   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
+   sequence is not exactly two characters long, then fail. Otherwise,
+   interpret the resulting sequence as a base-ten integer. Let that
+   number be the &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;day&lt;/var&gt; is not a number in the range
+   1&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;month&lt;/var&gt;&nbsp;&le;&nbsp;&lt;var
+   title=&quot;&quot;&gt;maxday&lt;/var&gt;, then fail.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;,
+   and &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+
+
+  &lt;h5&gt;Times&lt;/h5&gt;
+
+  &lt;p&gt;A &lt;dfn title=&quot;concept-time&quot;&gt;time&lt;/dfn&gt; consists of a specific
+  time with no timezone information, consisting of an hour, a minute,
+  a second, and a fraction of a second.&lt;/p&gt;
+
+  &lt;p&gt;A string is a &lt;dfn&gt;valid time string&lt;/dfn&gt; if it has the
+  components in the following list, in the given order, and if the
+  components in the list follow the constraints given after the
+  list:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;Two &lt;span title=&quot;concept-datetime-digit&quot;&gt;digits&lt;/span&gt; (representing the hour)&lt;/li&gt;
+
    &lt;li&gt;A U+003A COLON character (:).&lt;/li&gt;
 
-   &lt;li&gt;Two digits (representing the minutes)&lt;/li&gt;
+   &lt;li&gt;Two &lt;span title=&quot;concept-datetime-digit&quot;&gt;digits&lt;/span&gt; (representing the minutes)&lt;/li&gt;
 
    &lt;li&gt;Optionally:
 
@@ -1997,7 +2109,7 @@
 
      &lt;li&gt;A U+003A COLON character (:).&lt;/li&gt;
 
-     &lt;li&gt;Two digits (representing the integer part of the seconds)&lt;/li&gt;
+     &lt;li&gt;Two &lt;span title=&quot;concept-datetime-digit&quot;&gt;digits&lt;/span&gt; (representing the integer part of the seconds)&lt;/li&gt;
 
      &lt;li&gt;Optionally:
 
@@ -2005,7 +2117,7 @@
 
        &lt;li&gt;A 002E FULL STOP character (.)&lt;/li&gt;
 
-       &lt;li&gt;One or more digits (representing the fractional part of the seconds)&lt;/li&gt;
+       &lt;li&gt;One or more &lt;span title=&quot;concept-datetime-digit&quot;&gt;digits&lt;/span&gt; (representing the fractional part of the seconds)&lt;/li&gt;
 
       &lt;/ol&gt;
 
@@ -2015,6 +2127,233 @@
 
    &lt;/li&gt;
 
+  &lt;/ol&gt;
+
+  &lt;p&gt;The aforementioned constraints are:&lt;/p&gt;
+
+  &lt;ul&gt;
+
+   &lt;li&gt;The hour &lt;var title=&quot;&quot;&gt;h&lt;/var&gt; must be in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;h&lt;/var&gt;&nbsp;&le;&nbsp;23.&lt;/li&gt;
+
+   &lt;li&gt;The minute &lt;var title=&quot;&quot;&gt;m&lt;/var&gt; must be in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;m&lt;/var&gt;&nbsp;&le;&nbsp;59.&lt;/li&gt;
+
+   &lt;li&gt;If present, the second &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; (consisting of the
+   integer part and its fractional part) must be in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;s&lt;/var&gt;&nbsp;&lt;&nbsp;60.  (The
+   values 60 and 61 are not allowed: leap seconds cannot be
+   represented by datetime values.)&lt;/li&gt;
+
+  &lt;/ul&gt;
+
+  &lt;p&gt;The rules to &lt;dfn&gt;parse a time string&lt;/dfn&gt; are as follows. This
+  will either return a time, or nothing. If at any point the algorithm
+  says that it &quot;fails&quot;, this means that it is aborted at that point
+  and returns nothing.&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string being
+   parsed.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
+   string.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Parse a time component&lt;/span&gt; to obtain &lt;var
+   title=&quot;&quot;&gt;hour&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, and &lt;var
+   title=&quot;&quot;&gt;second&lt;/var&gt;. If this returns nothing, then fail.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; beyond the
+   end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; be the time with hour &lt;var
+   title=&quot;&quot;&gt;hour&lt;/var&gt;, minute &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, and second
+   &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;time&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;The rules to &lt;dfn&gt;parse a time component&lt;/dfn&gt;, given an &lt;var
+  title=&quot;&quot;&gt;input&lt;/var&gt; string and a &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;, are
+  as follows. This will either return an hour, a minute, and a second,
+  or nothing. If at any point the algorithm says that it &quot;fails&quot;, this
+  means that it is aborted at that point and returns nothing.&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
+   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
+   sequence is not exactly two characters long, then fail. Otherwise,
+   interpret the resulting sequence as a base-ten integer. Let that
+   number be the &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt; is not a number in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;&nbsp;&le;&nbsp;23, then
+   fail.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var
+   title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+003A COLON character, then
+   fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; forwards one
+   character.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
+   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
+   sequence is not exactly two characters long, then fail. Otherwise,
+   interpret the resulting sequence as a base-ten integer. Let that
+   number be the &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt; is not a number in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;&nbsp;&le;&nbsp;59, then
+   fail.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; be a string with the value
+   &quot;0&quot;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not beyond the end of
+    &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; and the character at &lt;var
+    title=&quot;&quot;&gt;position&lt;/var&gt; is a U+003A COLON, then run these
+    substeps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character
+     in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
+     title=&quot;&quot;&gt;input&lt;/var&gt;, or at the last character in &lt;var
+     title=&quot;&quot;&gt;input&lt;/var&gt;, or if the next &lt;em&gt;two&lt;/em&gt; characters in
+     &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; starting at &lt;var
+     title=&quot;&quot;&gt;position&lt;/var&gt; are not two characters both in the range
+     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), then
+     fail.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are
+     either characters in the range U+0030 DIGIT ZERO (0) to U+0039
+     DIGIT NINE (9) or U+002E FULL STOP characters. If the collected
+     sequence has more than one U+002E FULL STOP characters, or if the
+     last character in the sequence is a U+002E FULL STOP character,
+     then fail. Otherwise, let the collected string be &lt;var
+     title=&quot;&quot;&gt;second&lt;/var&gt; instead of its previous value.&lt;/p&gt;&lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Interpret &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; as a base-ten number
+   (possibly with a fractional part). Let &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;
+   be that number instead of the string version.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; is not a number in the range
+   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;second&lt;/var&gt;&nbsp;&lt;&nbsp;60, then
+   fail.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;,
+   and &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+
+
+  &lt;h5&gt;Local dates and times&lt;/h5&gt;
+
+  &lt;p&gt;A &lt;dfn title=&quot;concept-datetime-local&quot;&gt;local date and time&lt;/dfn&gt;
+  consists of a specific Gregorian date, consisting of a year, a
+  month, and a day, and a time, consisting of an hour, a minute, a
+  second, and a fraction of a second, but expressed without a time
+  zone. &lt;a href=&quot;#refsGREGORIAN&quot;&gt;[GREGORIAN]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;A string is a &lt;dfn&gt;valid local date and time string&lt;/dfn&gt; if it
+  has the components in the following list, in the given order:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;A &lt;span&gt;valid date string&lt;/span&gt;.&lt;/li&gt;
+
+   &lt;li&gt;A U+0054 LATIN CAPITAL LETTER T character.&lt;/li&gt;
+
+   &lt;li&gt;A &lt;span&gt;valid time string&lt;/span&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;The rules to &lt;dfn&gt;parse a local date and time string&lt;/dfn&gt; are as
+  follows. This will either return a date and time, or nothing. If at
+  any point the algorithm says that it &quot;fails&quot;, this means that it is
+  aborted at that point and returns nothing.&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string being
+   parsed.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
+   string.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Parse a date component&lt;/span&gt; to obtain &lt;var
+   title=&quot;&quot;&gt;year&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, and &lt;var
+   title=&quot;&quot;&gt;day&lt;/var&gt;. If this returns nothing, then fail.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var
+   title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+0054 LATIN CAPITAL LETTER T
+   character then fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;
+   forwards one character.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Parse a time component&lt;/span&gt; to obtain &lt;var
+   title=&quot;&quot;&gt;hour&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, and &lt;var
+   title=&quot;&quot;&gt;second&lt;/var&gt;. If this returns nothing, then fail.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; beyond the
+   end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;date&lt;/var&gt; be the date with year &lt;var
+   title=&quot;&quot;&gt;year&lt;/var&gt;, month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, and day &lt;var
+   title=&quot;&quot;&gt;day&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; be the time with hour &lt;var
+   title=&quot;&quot;&gt;hour&lt;/var&gt;, minute &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, and second
+   &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;date&lt;/var&gt; and &lt;var
+   title=&quot;&quot;&gt;time&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+
+
+  &lt;h5&gt;Global dates and times&lt;/h5&gt;
+
+  &lt;p&gt;A &lt;dfn title=&quot;concept-datetime&quot;&gt;global date and time&lt;/dfn&gt;
+  consists of a specific Gregorian date, consisting of a year, a
+  month, and a day, and a time, consisting of an hour, a minute, a
+  second, and a fraction of a second, expressed with a time zone,
+  consisting of a number of hours and minutes. &lt;a
+  href=&quot;#refsGREGORIAN&quot;&gt;[GREGORIAN]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;!--XXX [GREGORIAN] should point to
+  &lt;dd id=&quot;refsGREGORIAN&quot;&gt;[GREGORIAN]&lt;/dd&gt;
+  &lt;dd&gt;(Non-normative) &lt;cite&gt;Inter Gravissimas&lt;/cite&gt;, A. Lilius, C. Clavius. Gregory XIII Papal Bulls, February 1582.&lt;/dd&gt;
+  --&gt;
+
+  &lt;p&gt;A string is a &lt;dfn&gt;valid global date and time string&lt;/dfn&gt; if it
+  has the components in the following list, in the given order, and if
+  the components in the list follow the constraints given after the
+  list:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;A &lt;span&gt;valid date string&lt;/span&gt;.&lt;/li&gt;
+
+   &lt;li&gt;A U+0054 LATIN CAPITAL LETTER T character.&lt;/li&gt;
+
+   &lt;li&gt;A &lt;span&gt;valid time string&lt;/span&gt;.&lt;/li&gt;
+
    &lt;li&gt;Either:
 
     &lt;ul&gt;
@@ -2030,11 +2369,11 @@
        HYPHEN-MINUS (-) character (the sign of the timezone
        offset)&lt;/li&gt;
 
-       &lt;li&gt;Two digits (representing the hours component of the timezone offset)&lt;/li&gt;
+       &lt;li&gt;Two &lt;span title=&quot;concept-datetime-digit&quot;&gt;digits&lt;/span&gt; (representing the hours component of the timezone offset)&lt;/li&gt;
 
        &lt;li&gt;A U+003A COLON character (:).&lt;/li&gt;
 
-       &lt;li&gt;Two digits (representing the minutes component of the timezone offset)&lt;/li&gt;
+       &lt;li&gt;Two &lt;span title=&quot;concept-datetime-digit&quot;&gt;digits&lt;/span&gt; (representing the minutes component of the timezone offset)&lt;/li&gt;
 
       &lt;/ol&gt;
 
@@ -2050,27 +2389,6 @@
 
   &lt;ul&gt;
 
-   &lt;li&gt;The month &lt;var title=&quot;&quot;&gt;m&lt;/var&gt; must be in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;m&lt;/var&gt;&nbsp;&le;&nbsp;12.&lt;/li&gt;
-
-   &lt;li&gt;The day &lt;var title=&quot;&quot;&gt;d&lt;/var&gt; must be in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;d&lt;/var&gt;&nbsp;&le;&nbsp;&lt;var
-   title=&quot;&quot;&gt;D&lt;/var&gt; where &lt;var title=&quot;&quot;&gt;D&lt;/var&gt; is the &lt;span
-   title=&quot;number of days in month month of year year&quot;&gt;number of days
-   in the given month and year&lt;/span&gt;.&lt;/li&gt;
-
-   &lt;li&gt;The hour &lt;var title=&quot;&quot;&gt;h&lt;/var&gt; must be in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;h&lt;/var&gt;&nbsp;&le;&nbsp;23.&lt;/li&gt;
-
-   &lt;li&gt;The minute &lt;var title=&quot;&quot;&gt;m&lt;/var&gt; must be in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;m&lt;/var&gt;&nbsp;&le;&nbsp;59.&lt;/li&gt;
-
-   &lt;li&gt;If present, the second &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; (consisting of the
-   integer part and its fractional part) must be in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;s&lt;/var&gt;&nbsp;&lt;&nbsp;60.  (The
-   values 60 and 61 are not allowed: leap seconds cannot be
-   represented by datetime values.)&lt;/li&gt;
-
    &lt;li&gt;If present, the time zone hour &lt;var title=&quot;&quot;&gt;h&lt;/var&gt; must be in
    the range 0&nbsp;&le;&nbsp;&lt;var
    title=&quot;&quot;&gt;h&lt;/var&gt;&nbsp;&le;&nbsp;23. (However, in practice, time
@@ -2085,9 +2403,6 @@
 
   &lt;/ul&gt;
 
-  &lt;p&gt;The digits must be characters in the range U+0030 DIGIT ZERO to
-  U+0039 DIGIT NINE, used to express numbers in base ten.&lt;/p&gt;
-
   &lt;div class=&quot;example&quot;&gt;
 
    &lt;p&gt;The following are some examples of dates written as &lt;span
@@ -2159,129 +2474,25 @@
    title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
    string.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
-   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-   sequence is not at least four characters long, then
-   fail. Otherwise, interpret the resulting sequence as a base-ten
-   integer. Let that number be the &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Parse a date component&lt;/span&gt; to obtain &lt;var
+   title=&quot;&quot;&gt;year&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, and &lt;var
+   title=&quot;&quot;&gt;day&lt;/var&gt;. If this returns nothing, then fail.&lt;/p&gt;
 
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
    title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+002D HYPHEN-MINUS character,
-   then fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; forwards
-   one character.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
-   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-   sequence is not exactly two characters long, then fail. Otherwise,
-   interpret the resulting sequence as a base-ten integer. Let that
-   number be the &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; is not a number in the range
-   1&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;month&lt;/var&gt;&nbsp;&le;&nbsp;12, then
-   fail.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maxday&lt;/var&gt; be the &lt;span&gt;number of days
-   in month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; of year &lt;var
-   title=&quot;&quot;&gt;year&lt;/var&gt;&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+002D HYPHEN-MINUS character,
-   then fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; forwards
-   one character.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
-   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-   sequence is not exactly two characters long, then fail. Otherwise,
-   interpret the resulting sequence as a base-ten integer. Let that
-   number be the &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;day&lt;/var&gt; is not a number in the range
-   1&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;month&lt;/var&gt;&nbsp;&le;&nbsp;&lt;var
-   title=&quot;&quot;&gt;maxday&lt;/var&gt;, then fail.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var
    title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+0054 LATIN CAPITAL LETTER T
    character then fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;
    forwards one character.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
-   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-   sequence is not exactly two characters long, then fail. Otherwise,
-   interpret the resulting sequence as a base-ten integer. Let that
-   number be the &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Parse a time component&lt;/span&gt; to obtain &lt;var
+   title=&quot;&quot;&gt;hour&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, and &lt;var
+   title=&quot;&quot;&gt;second&lt;/var&gt;. If this returns nothing, then fail.&lt;/p&gt;
 
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt; is not a number in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;&nbsp;&le;&nbsp;23, then
-   fail.&lt;/li&gt;
-
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+003A COLON character, then
-   fail. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; forwards one
-   character.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
-   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-   sequence is not exactly two characters long, then fail. Otherwise,
-   interpret the resulting sequence as a base-ten integer. Let that
-   number be the &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt; is not a number in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;&nbsp;&le;&nbsp;59, then
-   fail.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; be a string with the value
-   &quot;0&quot;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
    title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;If the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a U+003A
-    COLON, then run these substeps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character
-     in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
-     title=&quot;&quot;&gt;input&lt;/var&gt;, or at the last character in &lt;var
-     title=&quot;&quot;&gt;input&lt;/var&gt;, or if the next &lt;em&gt;two&lt;/em&gt; characters in
-     &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; starting at &lt;var
-     title=&quot;&quot;&gt;position&lt;/var&gt; are not two characters both in the range
-     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), then
-     fail.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are
-     either characters in the range U+0030 DIGIT ZERO (0) to U+0039
-     DIGIT NINE (9) or U+002E FULL STOP characters. If the collected
-     sequence has more than one U+002E FULL STOP characters, or if the
-     last character in the sequence is a U+002E FULL STOP character,
-     then fail. Otherwise, let the collected string be &lt;var
-     title=&quot;&quot;&gt;second&lt;/var&gt; instead of its previous value.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Interpret &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; as a base-ten number
-   (possibly with a fractional part). Let &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;
-   be that number instead of the string version.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;If &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; is not a number in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;second&lt;/var&gt;&nbsp;&lt;&nbsp;60, then
-   fail.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
     &lt;p&gt;If the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a U+005A
     LATIN CAPITAL LETTER Z, then:&lt;/p&gt;
 
@@ -2375,31 +2586,7 @@
   &lt;/ol&gt;
 
 
-  &lt;h5&gt;Local dates and times&lt;/h5&gt;
 
-  &lt;p&gt;A &lt;dfn title=&quot;concept-datetime-local&quot;&gt;local date and time&lt;/dfn&gt;
-  consists of a specific Gregorian date with no timezone information,
-  consisting of a year, a month, a day, an hour, a minute, a second,
-  and a fraction of a second. &lt;a
-  href=&quot;#refsGREGORIAN&quot;&gt;[GREGORIAN]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p class=&quot;XXX&quot;&gt;... &lt;dfn&gt;valid local date and time string&lt;/dfn&gt;&lt;/p&gt;
-
-  &lt;p class=&quot;XXX&quot;&gt;... rules to &lt;dfn&gt;parse a local date and time
-  string&lt;/dfn&gt;&lt;/p&gt;
-
-
-  &lt;h5&gt;Dates&lt;/h5&gt;
-
-  &lt;p&gt;A &lt;dfn title=&quot;concept-date&quot;&gt;date&lt;/dfn&gt; consists of a specific
-  Gregorian date with no timezone information, consisting of a year, a
-  month, and a day. &lt;a href=&quot;#refsGREGORIAN&quot;&gt;[GREGORIAN]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p class=&quot;XXX&quot;&gt;... &lt;dfn&gt;valid date string&lt;/dfn&gt;&lt;/p&gt;
-
-  &lt;p class=&quot;XXX&quot;&gt;... rules to &lt;dfn&gt;parse a date string&lt;/dfn&gt;&lt;/p&gt;
-
-
   &lt;h5&gt;Months&lt;/h5&gt;
 
   &lt;p&gt;A &lt;dfn title=&quot;concept-month&quot;&gt;month&lt;/dfn&gt; consists of a specific
@@ -2426,18 +2613,7 @@
   &lt;p class=&quot;XXX&quot;&gt;... rules to &lt;dfn&gt;parse a week string&lt;/dfn&gt;&lt;/p&gt;
 
 
-  &lt;h5&gt;Times&lt;/h5&gt;
 
-  &lt;p&gt;A &lt;dfn title=&quot;concept-time&quot;&gt;time&lt;/dfn&gt; consists of a specific
-  time with no timezone information, consisting of an hour, a minute,
-  a second, and a fraction of a second.&lt;/p&gt;
-
-  &lt;p class=&quot;XXX&quot;&gt;... &lt;dfn&gt;valid time string&lt;/dfn&gt;&lt;/p&gt;
-
-  &lt;p class=&quot;XXX&quot;&gt;... rules to &lt;dfn&gt;parse a time string&lt;/dfn&gt;&lt;/p&gt;
-
-
-
   &lt;h5&gt;Vaguer moments in time&lt;/h5&gt;
 
   &lt;p&gt;This section defines &lt;dfn title=&quot;date or time string&quot;&gt;date or


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009265.html">[html5] r2381 - [] (0) Redefine datetimes to be stricter. Merge the	two definitions of timezoned [...]
</A></li>
	<LI>Next message: <A HREF="009267.html">[html5] r2383 - [aco] (2) Define 'month' syntax,	and tighten up the rest of the datetime definitions.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9266">[ date ]</a>
              <a href="thread.html#9266">[ thread ]</a>
              <a href="subject.html#9266">[ subject ]</a>
              <a href="author.html#9266">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
