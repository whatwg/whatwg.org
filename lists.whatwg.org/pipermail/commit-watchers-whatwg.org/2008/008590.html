<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1691 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1691%20-%20/&In-Reply-To=%3C20080524084421.3E4FC152F8E%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008589.html">
   <LINK REL="Next"  HREF="008591.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1691 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1691%20-%20/&In-Reply-To=%3C20080524084421.3E4FC152F8E%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1691 - /">whatwg at whatwg.org
       </A><BR>
    <I>Sat May 24 01:44:21 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008589.html">[html5] r1690 - /
</A></li>
        <LI>Next message: <A HREF="008591.html">[html5] r1692 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8590">[ date ]</a>
              <a href="thread.html#8590">[ thread ]</a>
              <a href="subject.html#8590">[ subject ]</a>
              <a href="author.html#8590">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-05-24 01:44:20 -0700 (Sat, 24 May 2008)
New Revision: 1691

Modified:
   index
   source
Log:
[e] (0) Factor out foster parenting to ensure it is not ambiguous.

Modified: index
===================================================================
--- index	2008-05-24 01:54:50 UTC (rev 1690)
+++ index	2008-05-24 08:44:20 UTC (rev 1691)
@@ -1698,70 +1698,73 @@
          &lt;li&gt;&lt;a href=&quot;#closing&quot;&gt;&lt;span class=secno&gt;8.2.5.2. &lt;/span&gt;Closing
           elements that have implied end tags&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#the-initial&quot;&gt;&lt;span class=secno&gt;8.2.5.3. &lt;/span&gt;The
+         &lt;li&gt;&lt;a href=&quot;#foster&quot;&gt;&lt;span class=secno&gt;8.2.5.3. &lt;/span&gt;Foster
+          parenting&lt;/a&gt;
+
+         &lt;li&gt;&lt;a href=&quot;#the-initial&quot;&gt;&lt;span class=secno&gt;8.2.5.4. &lt;/span&gt;The
           &quot;initial&quot; insertion mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#the-before&quot;&gt;&lt;span class=secno&gt;8.2.5.4. &lt;/span&gt;The
+         &lt;li&gt;&lt;a href=&quot;#the-before&quot;&gt;&lt;span class=secno&gt;8.2.5.5. &lt;/span&gt;The
           &quot;before html&quot; insertion mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#the-before0&quot;&gt;&lt;span class=secno&gt;8.2.5.5. &lt;/span&gt;The
+         &lt;li&gt;&lt;a href=&quot;#the-before0&quot;&gt;&lt;span class=secno&gt;8.2.5.6. &lt;/span&gt;The
           &quot;before head&quot; insertion mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#parsing-main-inhead&quot;&gt;&lt;span class=secno&gt;8.2.5.6.
+         &lt;li&gt;&lt;a href=&quot;#parsing-main-inhead&quot;&gt;&lt;span class=secno&gt;8.2.5.7.
           &lt;/span&gt;The &quot;in head&quot; insertion mode&lt;/a&gt;
 
          &lt;li&gt;&lt;a href=&quot;#parsing-main-inheadnoscript&quot;&gt;&lt;span
-          class=secno&gt;8.2.5.7. &lt;/span&gt;The &quot;in head noscript&quot; insertion
+          class=secno&gt;8.2.5.8. &lt;/span&gt;The &quot;in head noscript&quot; insertion
           mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#the-after&quot;&gt;&lt;span class=secno&gt;8.2.5.8. &lt;/span&gt;The
+         &lt;li&gt;&lt;a href=&quot;#the-after&quot;&gt;&lt;span class=secno&gt;8.2.5.9. &lt;/span&gt;The
           &quot;after head&quot; insertion mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#parsing-main-inbody&quot;&gt;&lt;span class=secno&gt;8.2.5.9.
+         &lt;li&gt;&lt;a href=&quot;#parsing-main-inbody&quot;&gt;&lt;span class=secno&gt;8.2.5.10.
           &lt;/span&gt;The &quot;in body&quot; insertion mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#parsing-main-intable&quot;&gt;&lt;span class=secno&gt;8.2.5.10.
+         &lt;li&gt;&lt;a href=&quot;#parsing-main-intable&quot;&gt;&lt;span class=secno&gt;8.2.5.11.
           &lt;/span&gt;The &quot;in table&quot; insertion mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#parsing-main-incaption&quot;&gt;&lt;span class=secno&gt;8.2.5.11.
+         &lt;li&gt;&lt;a href=&quot;#parsing-main-incaption&quot;&gt;&lt;span class=secno&gt;8.2.5.12.
           &lt;/span&gt;The &quot;in caption&quot; insertion mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#parsing-main-incolgroup&quot;&gt;&lt;span class=secno&gt;8.2.5.12.
+         &lt;li&gt;&lt;a href=&quot;#parsing-main-incolgroup&quot;&gt;&lt;span class=secno&gt;8.2.5.13.
           &lt;/span&gt;The &quot;in column group&quot; insertion mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#parsing-main-intbody&quot;&gt;&lt;span class=secno&gt;8.2.5.13.
+         &lt;li&gt;&lt;a href=&quot;#parsing-main-intbody&quot;&gt;&lt;span class=secno&gt;8.2.5.14.
           &lt;/span&gt;The &quot;in table body&quot; insertion mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#parsing-main-intr&quot;&gt;&lt;span class=secno&gt;8.2.5.14.
+         &lt;li&gt;&lt;a href=&quot;#parsing-main-intr&quot;&gt;&lt;span class=secno&gt;8.2.5.15.
           &lt;/span&gt;The &quot;in row&quot; insertion mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#parsing-main-intd&quot;&gt;&lt;span class=secno&gt;8.2.5.15.
+         &lt;li&gt;&lt;a href=&quot;#parsing-main-intd&quot;&gt;&lt;span class=secno&gt;8.2.5.16.
           &lt;/span&gt;The &quot;in cell&quot; insertion mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#parsing-main-inselect&quot;&gt;&lt;span class=secno&gt;8.2.5.16.
+         &lt;li&gt;&lt;a href=&quot;#parsing-main-inselect&quot;&gt;&lt;span class=secno&gt;8.2.5.17.
           &lt;/span&gt;The &quot;in select&quot; insertion mode&lt;/a&gt;
 
          &lt;li&gt;&lt;a href=&quot;#parsing-main-inselectintable&quot;&gt;&lt;span
-          class=secno&gt;8.2.5.17. &lt;/span&gt;The &quot;in select in table&quot; insertion
+          class=secno&gt;8.2.5.18. &lt;/span&gt;The &quot;in select in table&quot; insertion
           mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#parsing-main-inforeign&quot;&gt;&lt;span class=secno&gt;8.2.5.18.
+         &lt;li&gt;&lt;a href=&quot;#parsing-main-inforeign&quot;&gt;&lt;span class=secno&gt;8.2.5.19.
           &lt;/span&gt;The &quot;in foreign content&quot; insertion mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#parsing-main-afterbody&quot;&gt;&lt;span class=secno&gt;8.2.5.19.
+         &lt;li&gt;&lt;a href=&quot;#parsing-main-afterbody&quot;&gt;&lt;span class=secno&gt;8.2.5.20.
           &lt;/span&gt;The &quot;after body&quot; insertion mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#parsing-main-inframeset&quot;&gt;&lt;span class=secno&gt;8.2.5.20.
+         &lt;li&gt;&lt;a href=&quot;#parsing-main-inframeset&quot;&gt;&lt;span class=secno&gt;8.2.5.21.
           &lt;/span&gt;The &quot;in frameset&quot; insertion mode&lt;/a&gt;
 
          &lt;li&gt;&lt;a href=&quot;#parsing-main-afterframeset&quot;&gt;&lt;span
-          class=secno&gt;8.2.5.21. &lt;/span&gt;The &quot;after frameset&quot; insertion
+          class=secno&gt;8.2.5.22. &lt;/span&gt;The &quot;after frameset&quot; insertion
           mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#the-after0&quot;&gt;&lt;span class=secno&gt;8.2.5.22. &lt;/span&gt;The
+         &lt;li&gt;&lt;a href=&quot;#the-after0&quot;&gt;&lt;span class=secno&gt;8.2.5.23. &lt;/span&gt;The
           &quot;after after body&quot; insertion mode&lt;/a&gt;
 
-         &lt;li&gt;&lt;a href=&quot;#the-after1&quot;&gt;&lt;span class=secno&gt;8.2.5.23. &lt;/span&gt;The
+         &lt;li&gt;&lt;a href=&quot;#the-after1&quot;&gt;&lt;span class=secno&gt;8.2.5.24. &lt;/span&gt;The
           &quot;after after frameset&quot; insertion mode&lt;/a&gt;
         &lt;/ul&gt;
 
@@ -44988,7 +44991,48 @@
    element to exclude from the process, then the UA must perform the above
    steps as if that element was not in the above list.
 
-  &lt;h5 id=the-initial&gt;&lt;span class=secno&gt;8.2.5.3. &lt;/span&gt;The &quot;&lt;dfn id=initial
+  &lt;h5 id=foster&gt;&lt;span class=secno&gt;8.2.5.3. &lt;/span&gt;Foster parenting&lt;/h5&gt;
+
+  &lt;p&gt;Foster parenting happens when content is misnested in tables.
+
+  &lt;p&gt;When a node &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is to be &lt;dfn id=foster0
+   title=&quot;foster parent&quot;&gt;foster parented&lt;/dfn&gt;, the node &lt;var
+   title=&quot;&quot;&gt;node&lt;/var&gt; must be inserted into the &lt;i&gt;&lt;a href=&quot;#foster1&quot;&gt;foster
+   parent element&lt;/a&gt;&lt;/i&gt;, and the &lt;a href=&quot;#current6&quot;&gt;current table&lt;/a&gt; must
+   be marked as &lt;dfn id=tainted&gt;tainted&lt;/dfn&gt;. (Once the &lt;a
+   href=&quot;#current6&quot;&gt;current table&lt;/a&gt; has been &lt;a
+   href=&quot;#tainted&quot;&gt;tainted&lt;/a&gt;, whitespace characters are inserted into the
+   &lt;i&gt;&lt;a href=&quot;#foster1&quot;&gt;foster parent element&lt;/a&gt;&lt;/i&gt; instead of the &lt;a
+   href=&quot;#current5&quot;&gt;current node&lt;/a&gt;.)
+
+  &lt;p&gt;The &lt;dfn id=foster1&gt;foster parent element&lt;/dfn&gt; is the parent element of
+   the last &lt;code&gt;&lt;a href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a
+   href=&quot;#stack&quot;&gt;stack of open elements&lt;/a&gt;, if there is a &lt;code&gt;&lt;a
+   href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element and it has such a parent element.
+   If there is no &lt;code&gt;&lt;a href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a
+   href=&quot;#stack&quot;&gt;stack of open elements&lt;/a&gt; (&lt;a href=&quot;#fragment&quot;&gt;fragment
+   case&lt;/a&gt;), then the &lt;em&gt;&lt;a href=&quot;#foster1&quot;&gt;foster parent element&lt;/a&gt;&lt;/em&gt;
+   is the first element in the &lt;a href=&quot;#stack&quot;&gt;stack of open elements&lt;/a&gt;
+   (the &lt;code&gt;&lt;a href=&quot;#html&quot;&gt;html&lt;/a&gt;&lt;/code&gt; element). Otherwise, if there
+   is a &lt;code&gt;&lt;a href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a
+   href=&quot;#stack&quot;&gt;stack of open elements&lt;/a&gt;, but the last &lt;code&gt;&lt;a
+   href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=&quot;#stack&quot;&gt;stack of
+   open elements&lt;/a&gt; has no parent, or its parent node is not an element,
+   then the &lt;em&gt;&lt;a href=&quot;#foster1&quot;&gt;foster parent element&lt;/a&gt;&lt;/em&gt; is the
+   element before the last &lt;code&gt;&lt;a href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element in
+   the &lt;a href=&quot;#stack&quot;&gt;stack of open elements&lt;/a&gt;.
+
+  &lt;p&gt;If the &lt;i&gt;&lt;a href=&quot;#foster1&quot;&gt;foster parent element&lt;/a&gt;&lt;/i&gt; is the parent
+   element of the last &lt;code&gt;&lt;a href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element in the
+   &lt;a href=&quot;#stack&quot;&gt;stack of open elements&lt;/a&gt;, then &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;
+   must be inserted immediately &lt;em&gt;before&lt;/em&gt; the last &lt;code&gt;&lt;a
+   href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=&quot;#stack&quot;&gt;stack of
+   open elements&lt;/a&gt; in the &lt;i&gt;&lt;a href=&quot;#foster1&quot;&gt;foster parent
+   element&lt;/a&gt;&lt;/i&gt;; otherwise, &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; must be
+   &lt;em&gt;appended&lt;/em&gt; to the &lt;i&gt;&lt;a href=&quot;#foster1&quot;&gt;foster parent
+   element&lt;/a&gt;&lt;/i&gt;.
+
+  &lt;h5 id=the-initial&gt;&lt;span class=secno&gt;8.2.5.4. &lt;/span&gt;The &quot;&lt;dfn id=initial
    title=&quot;insertion mode: initial&quot;&gt;initial&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
   &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=&quot;#initial&quot;
@@ -45294,7 +45338,7 @@
      current token.&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;h5 id=the-before&gt;&lt;span class=secno&gt;8.2.5.4. &lt;/span&gt;The &quot;&lt;dfn id=before4
+  &lt;h5 id=the-before&gt;&lt;span class=secno&gt;8.2.5.5. &lt;/span&gt;The &quot;&lt;dfn id=before4
    title=&quot;insertion mode: before html&quot;&gt;before html&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
   &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=&quot;#before4&quot;
@@ -45367,7 +45411,7 @@
    content continues being appended to the nodes as described in the next
    section.
 
-  &lt;h5 id=the-before0&gt;&lt;span class=secno&gt;8.2.5.5. &lt;/span&gt;The &quot;&lt;dfn id=before5
+  &lt;h5 id=the-before0&gt;&lt;span class=secno&gt;8.2.5.6. &lt;/span&gt;The &quot;&lt;dfn id=before5
    title=&quot;insertion mode: before head&quot;&gt;before head&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
   &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=&quot;#before5&quot;
@@ -45437,7 +45481,7 @@
      after head&quot;&gt;after head&lt;/a&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;h5 id=parsing-main-inhead&gt;&lt;span class=secno&gt;8.2.5.6. &lt;/span&gt;The &quot;&lt;dfn
+  &lt;h5 id=parsing-main-inhead&gt;&lt;span class=secno&gt;8.2.5.7. &lt;/span&gt;The &quot;&lt;dfn
    id=in-head title=&quot;insertion mode: in head&quot;&gt;in head&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
   &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=&quot;#in-head&quot;
@@ -45688,7 +45732,7 @@
      get put into the head. Do we want to copy that?&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;h5 id=parsing-main-inheadnoscript&gt;&lt;span class=secno&gt;8.2.5.7. &lt;/span&gt;The
+  &lt;h5 id=parsing-main-inheadnoscript&gt;&lt;span class=secno&gt;8.2.5.8. &lt;/span&gt;The
    &quot;&lt;dfn id=in-head0 title=&quot;insertion mode: in head noscript&quot;&gt;in head
    noscript&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
@@ -45753,7 +45797,7 @@
      name &quot;noscript&quot; had been seen and reprocess the current token.&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;h5 id=the-after&gt;&lt;span class=secno&gt;8.2.5.8. &lt;/span&gt;The &quot;&lt;dfn id=after4
+  &lt;h5 id=the-after&gt;&lt;span class=secno&gt;8.2.5.9. &lt;/span&gt;The &quot;&lt;dfn id=after4
    title=&quot;insertion mode: after head&quot;&gt;after head&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
   &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=&quot;#after4&quot;
@@ -45837,7 +45881,7 @@
      had been seen, and then reprocess the current token.&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;h5 id=parsing-main-inbody&gt;&lt;span class=secno&gt;8.2.5.9. &lt;/span&gt;The &quot;&lt;dfn
+  &lt;h5 id=parsing-main-inbody&gt;&lt;span class=secno&gt;8.2.5.10. &lt;/span&gt;The &quot;&lt;dfn
    id=in-body title=&quot;insertion mode: in body&quot;&gt;in body&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
   &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=&quot;#in-body&quot;
@@ -46428,18 +46472,8 @@
        href=&quot;#tbody&quot;&gt;tbody&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a
        href=&quot;#tfoot0&quot;&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a
        href=&quot;#thead0&quot;&gt;thead&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=&quot;#tr&quot;&gt;tr&lt;/a&gt;&lt;/code&gt;
-       element, then, insert whatever &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; ended up
-       being in the previous step into the &lt;i&gt;&lt;a href=&quot;#foster&quot;&gt;foster parent
-       element&lt;/a&gt;&lt;/i&gt;. If the &lt;i&gt;&lt;a href=&quot;#foster&quot;&gt;foster parent
-       element&lt;/a&gt;&lt;/i&gt; is the parent element of the last &lt;code&gt;&lt;a
-       href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=&quot;#stack&quot;&gt;stack
-       of open elements&lt;/a&gt;, then &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; must be
-       inserted immediately &lt;em&gt;before&lt;/em&gt; the last &lt;code&gt;&lt;a
-       href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=&quot;#stack&quot;&gt;stack
-       of open elements&lt;/a&gt; in the &lt;i&gt;&lt;a href=&quot;#foster&quot;&gt;foster parent
-       element&lt;/a&gt;&lt;/i&gt;; otherwise, &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; must be
-       &lt;em&gt;appended&lt;/em&gt; to the &lt;i&gt;&lt;a href=&quot;#foster&quot;&gt;foster parent
-       element&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
+       element, then, &lt;a href=&quot;#foster0&quot;&gt;foster parent&lt;/a&gt; whatever &lt;var
+       title=&quot;&quot;&gt;last node&lt;/var&gt; ended up being in the previous step.&lt;/p&gt;
 
       &lt;p&gt;Otherwise, append whatever &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; ended up
        being in the previous step to the &lt;var title=&quot;&quot;&gt;common ancestor&lt;/var&gt;
@@ -46903,7 +46937,7 @@
     &lt;/ol&gt;
   &lt;/dl&gt;
 
-  &lt;h5 id=parsing-main-intable&gt;&lt;span class=secno&gt;8.2.5.10. &lt;/span&gt;The &quot;&lt;dfn
+  &lt;h5 id=parsing-main-intable&gt;&lt;span class=secno&gt;8.2.5.11. &lt;/span&gt;The &quot;&lt;dfn
    id=in-table title=&quot;insertion mode: in table&quot;&gt;in table&lt;/dfn&gt;&quot; insertion
    mode&lt;/h5&gt;
 
@@ -47067,46 +47101,14 @@
     &lt;p&gt;&lt;a href=&quot;#parse1&quot;&gt;Parse error&lt;/a&gt;. Process the token &lt;a
      href=&quot;#using8&quot;&gt;using the rules for&lt;/a&gt; the &quot;&lt;a href=&quot;#in-body&quot;
      title=&quot;insertion mode: in body&quot;&gt;in body&lt;/a&gt;&quot; &lt;span&gt;insertion
-     mode&lt;/span&gt;, with the following exception:&lt;/p&gt;
-
-    &lt;p&gt;If the &lt;a href=&quot;#current5&quot;&gt;current node&lt;/a&gt; is a &lt;code&gt;&lt;a
-     href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=&quot;#tbody&quot;&gt;tbody&lt;/a&gt;&lt;/code&gt;,
-     &lt;code&gt;&lt;a href=&quot;#tfoot0&quot;&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a
+     mode&lt;/span&gt;, except that if the &lt;a href=&quot;#current5&quot;&gt;current node&lt;/a&gt; is
+     a &lt;code&gt;&lt;a href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a
+     href=&quot;#tbody&quot;&gt;tbody&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a
+     href=&quot;#tfoot0&quot;&gt;tfoot&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a
      href=&quot;#thead0&quot;&gt;thead&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=&quot;#tr&quot;&gt;tr&lt;/a&gt;&lt;/code&gt;
      element, then, whenever a node would be inserted into the &lt;a
-     href=&quot;#current5&quot;&gt;current node&lt;/a&gt;, it must instead be inserted into the
-     &lt;i&gt;&lt;a href=&quot;#foster&quot;&gt;foster parent element&lt;/a&gt;&lt;/i&gt;, and the &lt;a
-     href=&quot;#current6&quot;&gt;current table&lt;/a&gt; must be marked as &lt;dfn
-     id=tainted&gt;tainted&lt;/dfn&gt;. (Once the &lt;a href=&quot;#current6&quot;&gt;current
-     table&lt;/a&gt; has been &lt;a href=&quot;#tainted&quot;&gt;tainted&lt;/a&gt;, whitespace characters
-     are inserted into the &lt;i&gt;&lt;a href=&quot;#foster&quot;&gt;foster parent element&lt;/a&gt;&lt;/i&gt;
-     instead of the &lt;a href=&quot;#current5&quot;&gt;current node&lt;/a&gt;.)&lt;/p&gt;
-
-    &lt;p&gt;The &lt;dfn id=foster&gt;foster parent element&lt;/dfn&gt; is the parent element
-     of the last &lt;code&gt;&lt;a href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a
-     href=&quot;#stack&quot;&gt;stack of open elements&lt;/a&gt;, if there is a &lt;code&gt;&lt;a
-     href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element and it has such a parent element.
-     If there is no &lt;code&gt;&lt;a href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a
-     href=&quot;#stack&quot;&gt;stack of open elements&lt;/a&gt; (&lt;a href=&quot;#fragment&quot;&gt;fragment
-     case&lt;/a&gt;), then the &lt;em&gt;&lt;a href=&quot;#foster&quot;&gt;foster parent element&lt;/a&gt;&lt;/em&gt;
-     is the first element in the &lt;a href=&quot;#stack&quot;&gt;stack of open elements&lt;/a&gt;
-     (the &lt;code&gt;&lt;a href=&quot;#html&quot;&gt;html&lt;/a&gt;&lt;/code&gt; element). Otherwise, if there
-     is a &lt;code&gt;&lt;a href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a
-     href=&quot;#stack&quot;&gt;stack of open elements&lt;/a&gt;, but the last &lt;code&gt;&lt;a
-     href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=&quot;#stack&quot;&gt;stack of
-     open elements&lt;/a&gt; has no parent, or its parent node is not an element,
-     then the &lt;em&gt;&lt;a href=&quot;#foster&quot;&gt;foster parent element&lt;/a&gt;&lt;/em&gt; is the
-     element before the last &lt;code&gt;&lt;a href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element
-     in the &lt;a href=&quot;#stack&quot;&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
-
-    &lt;p&gt;If the &lt;i&gt;&lt;a href=&quot;#foster&quot;&gt;foster parent element&lt;/a&gt;&lt;/i&gt; is the
-     parent element of the last &lt;code&gt;&lt;a href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt;
-     element in the &lt;a href=&quot;#stack&quot;&gt;stack of open elements&lt;/a&gt;, then the new
-     node must be inserted immediately &lt;em&gt;before&lt;/em&gt; the last &lt;code&gt;&lt;a
-     href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element in the &lt;a href=&quot;#stack&quot;&gt;stack of
-     open elements&lt;/a&gt; in the &lt;i&gt;&lt;a href=&quot;#foster&quot;&gt;foster parent
-     element&lt;/a&gt;&lt;/i&gt;; otherwise, the new node must be &lt;em&gt;appended&lt;/em&gt; to
-     the &lt;i&gt;&lt;a href=&quot;#foster&quot;&gt;foster parent element&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
+     href=&quot;#current5&quot;&gt;current node&lt;/a&gt;, it must instead be &lt;a href=&quot;#foster0&quot;
+     title=&quot;foster parent&quot;&gt;foster parented&lt;/a&gt;.&lt;/p&gt;
   &lt;/dl&gt;
 
   &lt;p&gt;When the steps above require the UA to &lt;dfn id=clear2&gt;clear the stack
@@ -47120,7 +47122,7 @@
    href=&quot;#html&quot;&gt;html&lt;/a&gt;&lt;/code&gt; element after this process is a &lt;a
    href=&quot;#fragment&quot;&gt;fragment case&lt;/a&gt;.
 
-  &lt;h5 id=parsing-main-incaption&gt;&lt;span class=secno&gt;8.2.5.11. &lt;/span&gt;The &quot;&lt;dfn
+  &lt;h5 id=parsing-main-incaption&gt;&lt;span class=secno&gt;8.2.5.12. &lt;/span&gt;The &quot;&lt;dfn
    id=in-caption title=&quot;insertion mode: in caption&quot;&gt;in caption&lt;/dfn&gt;&quot;
    insertion mode&lt;/h5&gt;
 
@@ -47183,7 +47185,7 @@
      &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;h5 id=parsing-main-incolgroup&gt;&lt;span class=secno&gt;8.2.5.12. &lt;/span&gt;The &quot;&lt;dfn
+  &lt;h5 id=parsing-main-incolgroup&gt;&lt;span class=secno&gt;8.2.5.13. &lt;/span&gt;The &quot;&lt;dfn
    id=in-column title=&quot;insertion mode: in column group&quot;&gt;in column
    group&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
@@ -47268,7 +47270,7 @@
      href=&quot;#fragment&quot;&gt;fragment case&lt;/a&gt;.&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;h5 id=parsing-main-intbody&gt;&lt;span class=secno&gt;8.2.5.13. &lt;/span&gt;The &quot;&lt;dfn
+  &lt;h5 id=parsing-main-intbody&gt;&lt;span class=secno&gt;8.2.5.14. &lt;/span&gt;The &quot;&lt;dfn
    id=in-table0 title=&quot;insertion mode: in table body&quot;&gt;in table body&lt;/dfn&gt;&quot;
    insertion mode&lt;/h5&gt;
 
@@ -47358,7 +47360,7 @@
    href=&quot;#html&quot;&gt;html&lt;/a&gt;&lt;/code&gt; element after this process is a &lt;a
    href=&quot;#fragment&quot;&gt;fragment case&lt;/a&gt;.
 
-  &lt;h5 id=parsing-main-intr&gt;&lt;span class=secno&gt;8.2.5.14. &lt;/span&gt;The &quot;&lt;dfn
+  &lt;h5 id=parsing-main-intr&gt;&lt;span class=secno&gt;8.2.5.15. &lt;/span&gt;The &quot;&lt;dfn
    id=in-row title=&quot;insertion mode: in row&quot;&gt;in row&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
   &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=&quot;#in-row&quot;
@@ -47447,7 +47449,7 @@
    href=&quot;#html&quot;&gt;html&lt;/a&gt;&lt;/code&gt; element after this process is a &lt;a
    href=&quot;#fragment&quot;&gt;fragment case&lt;/a&gt;.
 
-  &lt;h5 id=parsing-main-intd&gt;&lt;span class=secno&gt;8.2.5.15. &lt;/span&gt;The &quot;&lt;dfn
+  &lt;h5 id=parsing-main-intd&gt;&lt;span class=secno&gt;8.2.5.16. &lt;/span&gt;The &quot;&lt;dfn
    id=in-cell title=&quot;insertion mode: in cell&quot;&gt;in cell&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
   &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=&quot;#in-cell&quot;
@@ -47548,7 +47550,7 @@
    neither when the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;a href=&quot;#in-cell&quot;
    title=&quot;insertion mode: in cell&quot;&gt;in cell&lt;/a&gt;&quot;.
 
-  &lt;h5 id=parsing-main-inselect&gt;&lt;span class=secno&gt;8.2.5.16. &lt;/span&gt;The &quot;&lt;dfn
+  &lt;h5 id=parsing-main-inselect&gt;&lt;span class=secno&gt;8.2.5.17. &lt;/span&gt;The &quot;&lt;dfn
    id=in-select title=&quot;insertion mode: in select&quot;&gt;in select&lt;/dfn&gt;&quot; insertion
    mode&lt;/h5&gt;
 
@@ -47670,7 +47672,7 @@
     &lt;p&gt;&lt;a href=&quot;#parse1&quot;&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;h5 id=parsing-main-inselectintable&gt;&lt;span class=secno&gt;8.2.5.17. &lt;/span&gt;The
+  &lt;h5 id=parsing-main-inselectintable&gt;&lt;span class=secno&gt;8.2.5.18. &lt;/span&gt;The
    &quot;&lt;dfn id=in-select0 title=&quot;insertion mode: in select in table&quot;&gt;in select
    in table&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
@@ -47706,7 +47708,7 @@
      &lt;span&gt;insertion mode&lt;/span&gt;.&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;h5 id=parsing-main-inforeign&gt;&lt;span class=secno&gt;8.2.5.18. &lt;/span&gt;The &quot;&lt;dfn
+  &lt;h5 id=parsing-main-inforeign&gt;&lt;span class=secno&gt;8.2.5.19. &lt;/span&gt;The &quot;&lt;dfn
    id=in-foreign title=&quot;insertion mode: in foreign content&quot;&gt;in foreign
    content&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
@@ -47868,7 +47870,7 @@
      flag&quot;&gt;acknowledge the token's &lt;i&gt;self-closing flag&lt;/i&gt;&lt;/a&gt;.&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;h5 id=parsing-main-afterbody&gt;&lt;span class=secno&gt;8.2.5.19. &lt;/span&gt;The &quot;&lt;dfn
+  &lt;h5 id=parsing-main-afterbody&gt;&lt;span class=secno&gt;8.2.5.20. &lt;/span&gt;The &quot;&lt;dfn
    id=after5 title=&quot;insertion mode: after body&quot;&gt;after body&lt;/dfn&gt;&quot; insertion
    mode&lt;/h5&gt;
 
@@ -47932,7 +47934,7 @@
      body&lt;/a&gt;&quot; and reprocess the token.&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;h5 id=parsing-main-inframeset&gt;&lt;span class=secno&gt;8.2.5.20. &lt;/span&gt;The &quot;&lt;dfn
+  &lt;h5 id=parsing-main-inframeset&gt;&lt;span class=secno&gt;8.2.5.21. &lt;/span&gt;The &quot;&lt;dfn
    id=in-frameset title=&quot;insertion mode: in frameset&quot;&gt;in frameset&lt;/dfn&gt;&quot;
    insertion mode&lt;/h5&gt;
 
@@ -48027,7 +48029,7 @@
     &lt;p&gt;&lt;a href=&quot;#parse1&quot;&gt;Parse error&lt;/a&gt;. Ignore the token.&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;h5 id=parsing-main-afterframeset&gt;&lt;span class=secno&gt;8.2.5.21. &lt;/span&gt;The
+  &lt;h5 id=parsing-main-afterframeset&gt;&lt;span class=secno&gt;8.2.5.22. &lt;/span&gt;The
    &quot;&lt;dfn id=after6 title=&quot;insertion mode: after frameset&quot;&gt;after
    frameset&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
@@ -48087,7 +48089,7 @@
    that do support frames but want to show the NOFRAMES content. Supporting
    the former is easy; supporting the latter is harder.
 
-  &lt;h5 id=the-after0&gt;&lt;span class=secno&gt;8.2.5.22. &lt;/span&gt;The &quot;&lt;dfn id=after7
+  &lt;h5 id=the-after0&gt;&lt;span class=secno&gt;8.2.5.23. &lt;/span&gt;The &quot;&lt;dfn id=after7
    title=&quot;insertion mode: after after body&quot;&gt;after after body&lt;/dfn&gt;&quot; insertion
    mode&lt;/h5&gt;
 
@@ -48129,7 +48131,7 @@
      body&lt;/a&gt;&quot; and reprocess the token.&lt;/p&gt;
   &lt;/dl&gt;
 
-  &lt;h5 id=the-after1&gt;&lt;span class=secno&gt;8.2.5.23. &lt;/span&gt;The &quot;&lt;dfn id=after8
+  &lt;h5 id=the-after1&gt;&lt;span class=secno&gt;8.2.5.24. &lt;/span&gt;The &quot;&lt;dfn id=after8
    title=&quot;insertion mode: after after frameset&quot;&gt;after after frameset&lt;/dfn&gt;&quot;
    insertion mode&lt;/h5&gt;
 

Modified: source
===================================================================
--- source	2008-05-24 01:54:50 UTC (rev 1690)
+++ source	2008-05-24 08:44:20 UTC (rev 1691)
@@ -42223,6 +42223,44 @@
   above steps as if that element was not in the above list.&lt;/p&gt;
 
 
+  &lt;h5&gt;Foster parenting&lt;/h5&gt;
+
+  &lt;p&gt;Foster parenting happens when content is misnested in tables.&lt;/p&gt;
+
+  &lt;p&gt;When a node &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; is to be &lt;dfn title=&quot;foster
+  parent&quot;&gt;foster parented&lt;/dfn&gt;, the node &lt;var title=&quot;&quot;&gt;node&lt;/var&gt;
+  must be inserted into the &lt;i&gt;foster parent element&lt;/i&gt;, and the
+  &lt;span&gt;current table&lt;/span&gt; must be marked as
+  &lt;dfn&gt;tainted&lt;/dfn&gt;. (Once the &lt;span&gt;current table&lt;/span&gt; has been
+  &lt;span&gt;tainted&lt;/span&gt;, whitespace characters are inserted into the
+  &lt;i&gt;foster parent element&lt;/i&gt; instead of the &lt;span&gt;current
+  node&lt;/span&gt;.)&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn&gt;foster parent element&lt;/dfn&gt; is the parent element of the
+  last &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open
+  elements&lt;/span&gt;, if there is a &lt;code&gt;table&lt;/code&gt; element and it has
+  such a parent element. If there is no &lt;code&gt;table&lt;/code&gt; element in
+  the &lt;span&gt;stack of open elements&lt;/span&gt; (&lt;span&gt;fragment
+  case&lt;/span&gt;), then the &lt;em&gt;foster parent element&lt;/em&gt; is the first
+  element in the &lt;span&gt;stack of open elements&lt;/span&gt; (the
+  &lt;code&gt;html&lt;/code&gt; element). Otherwise, if there is a
+  &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open
+  elements&lt;/span&gt;, but the last &lt;code&gt;table&lt;/code&gt; element in the
+  &lt;span&gt;stack of open elements&lt;/span&gt; has no parent, or its parent
+  node is not an element, then the &lt;em&gt;foster parent element&lt;/em&gt; is
+  the element before the last &lt;code&gt;table&lt;/code&gt; element in the
+  &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;If the &lt;i&gt;foster parent element&lt;/i&gt; is the parent element of the
+  last &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open
+  elements&lt;/span&gt;, then &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; must be inserted
+  immediately &lt;em&gt;before&lt;/em&gt; the last &lt;code&gt;table&lt;/code&gt; element in
+  the &lt;span&gt;stack of open elements&lt;/span&gt; in the &lt;i&gt;foster parent
+  element&lt;/i&gt;; otherwise, &lt;var title=&quot;&quot;&gt;node&lt;/var&gt; must be
+  &lt;em&gt;appended&lt;/em&gt; to the &lt;i&gt;foster parent element&lt;/i&gt;.&lt;/p&gt;
+
+
+
   &lt;h5&gt;The &quot;&lt;dfn title=&quot;insertion mode: initial&quot;&gt;initial&lt;/dfn&gt;&quot; insertion mode&lt;/h5&gt;
 
   &lt;p&gt;When the &lt;span&gt;insertion mode&lt;/span&gt; is &quot;&lt;span title=&quot;insertion
@@ -43603,17 +43641,9 @@
 
       &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;common ancestor&lt;/var&gt; node is a
       &lt;code&gt;table&lt;/code&gt;, &lt;code&gt;tbody&lt;/code&gt;, &lt;code&gt;tfoot&lt;/code&gt;,
-      &lt;code&gt;thead&lt;/code&gt;, or &lt;code&gt;tr&lt;/code&gt; element, then, insert
-      whatever &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; ended up being in the
-      previous step into the &lt;i&gt;foster parent element&lt;/i&gt;. If the
-      &lt;i&gt;foster parent element&lt;/i&gt; is the parent element of the last
-      &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open
-      elements&lt;/span&gt;, then &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt; must be
-      inserted immediately &lt;em&gt;before&lt;/em&gt; the last &lt;code&gt;table&lt;/code&gt;
-      element in the &lt;span&gt;stack of open elements&lt;/span&gt; in the
-      &lt;i&gt;foster parent element&lt;/i&gt;; otherwise, &lt;var title=&quot;&quot;&gt;last
-      node&lt;/var&gt; must be &lt;em&gt;appended&lt;/em&gt; to the &lt;i&gt;foster parent
-      element&lt;/i&gt;.&lt;/p&gt;
+      &lt;code&gt;thead&lt;/code&gt;, or &lt;code&gt;tr&lt;/code&gt; element, then,
+      &lt;span&gt;foster parent&lt;/span&gt; whatever &lt;var title=&quot;&quot;&gt;last
+      node&lt;/var&gt; ended up being in the previous step.&lt;/p&gt;
 
       &lt;p&gt;Otherwise, append whatever &lt;var title=&quot;&quot;&gt;last node&lt;/var&gt;
       ended up being in the previous step to the &lt;var title=&quot;&quot;&gt;common
@@ -44295,43 +44325,13 @@
 
     &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;. Process the token &lt;span&gt;using the
     rules for&lt;/span&gt; the &quot;&lt;span title=&quot;insertion mode: in body&quot;&gt;in
-    body&lt;/span&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;, with the following
-    exception:&lt;/p&gt;
-
-    &lt;p&gt;If the &lt;span&gt;current node&lt;/span&gt; is a &lt;code&gt;table&lt;/code&gt;,
+    body&lt;/span&gt;&quot; &lt;span&gt;insertion mode&lt;/span&gt;, except that if the
+    &lt;span&gt;current node&lt;/span&gt; is a &lt;code&gt;table&lt;/code&gt;,
     &lt;code&gt;tbody&lt;/code&gt;, &lt;code&gt;tfoot&lt;/code&gt;, &lt;code&gt;thead&lt;/code&gt;, or
     &lt;code&gt;tr&lt;/code&gt; element, then, whenever a node would be inserted
-    into the &lt;span&gt;current node&lt;/span&gt;, it must instead be inserted
-    into the &lt;i&gt;foster parent element&lt;/i&gt;, and the &lt;span&gt;current
-    table&lt;/span&gt; must be marked as &lt;dfn&gt;tainted&lt;/dfn&gt;. (Once the
-    &lt;span&gt;current table&lt;/span&gt; has been &lt;span&gt;tainted&lt;/span&gt;,
-    whitespace characters are inserted into the &lt;i&gt;foster parent
-    element&lt;/i&gt; instead of the &lt;span&gt;current node&lt;/span&gt;.)&lt;/p&gt;
+    into the &lt;span&gt;current node&lt;/span&gt;, it must instead be &lt;span
+    title=&quot;foster parent&quot;&gt;foster parented&lt;/span&gt;.&lt;/p&gt;
 
-    &lt;p&gt;The &lt;dfn&gt;foster parent element&lt;/dfn&gt; is the parent element
-    of the last &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of
-    open elements&lt;/span&gt;, if there is a &lt;code&gt;table&lt;/code&gt; element
-    and it has such a parent element. If there is no
-    &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open
-    elements&lt;/span&gt; (&lt;span&gt;fragment case&lt;/span&gt;), then the
-    &lt;em&gt;foster parent element&lt;/em&gt; is the first element in the
-    &lt;span&gt;stack of open elements&lt;/span&gt; (the &lt;code&gt;html&lt;/code&gt;
-    element). Otherwise, if there is a &lt;code&gt;table&lt;/code&gt; element
-    in the &lt;span&gt;stack of open elements&lt;/span&gt;, but the last
-    &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open
-    elements&lt;/span&gt; has no parent, or its parent node is not an
-    element, then the &lt;em&gt;foster parent element&lt;/em&gt; is the
-    element before the last &lt;code&gt;table&lt;/code&gt; element in the
-    &lt;span&gt;stack of open elements&lt;/span&gt;.&lt;/p&gt;
-
-    &lt;p&gt;If the &lt;i&gt;foster parent element&lt;/i&gt; is the parent element of
-    the last &lt;code&gt;table&lt;/code&gt; element in the &lt;span&gt;stack of open
-    elements&lt;/span&gt;, then the new node must be inserted immediately
-    &lt;em&gt;before&lt;/em&gt; the last &lt;code&gt;table&lt;/code&gt; element in the
-    &lt;span&gt;stack of open elements&lt;/span&gt; in the &lt;i&gt;foster parent
-    element&lt;/i&gt;; otherwise, the new node must be &lt;em&gt;appended&lt;/em&gt; to
-    the &lt;i&gt;foster parent element&lt;/i&gt;.&lt;/p&gt;
-
    &lt;/dd&gt;
 
   &lt;/dl&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008589.html">[html5] r1690 - /
</A></li>
	<LI>Next message: <A HREF="008591.html">[html5] r1692 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8590">[ date ]</a>
              <a href="thread.html#8590">[ thread ]</a>
              <a href="subject.html#8590">[ subject ]</a>
              <a href="author.html#8590">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
