<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2434 - [c] (0) &lt;time&gt;: Revamp the 'vaguer moments in time'	concept.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2434%20-%20%5Bc%5D%20%280%29%20%3Ctime%3E%3A%20Revamp%20the%20%27vaguer%20moments%20in%20time%27%0A%09concept.&In-Reply-To=%3C20081125104021.58A97141AE4%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009317.html">
   <LINK REL="Next"  HREF="009319.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2434 - [c] (0) &lt;time&gt;: Revamp the 'vaguer moments in time'	concept.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2434%20-%20%5Bc%5D%20%280%29%20%3Ctime%3E%3A%20Revamp%20the%20%27vaguer%20moments%20in%20time%27%0A%09concept.&In-Reply-To=%3C20081125104021.58A97141AE4%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2434 - [c] (0) &lt;time&gt;: Revamp the 'vaguer moments in time'	concept.">whatwg at whatwg.org
       </A><BR>
    <I>Tue Nov 25 02:40:21 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009317.html">[html5] r2433 - [c] (0) Ban year zero. (credit: hs)
</A></li>
        <LI>Next message: <A HREF="009319.html">[html5] r2435 - [e] (0) Update examples for prior checkin;	remove note on feedback since we didn [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9318">[ date ]</a>
              <a href="thread.html#9318">[ thread ]</a>
              <a href="subject.html#9318">[ subject ]</a>
              <a href="author.html#9318">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-11-25 02:40:20 -0800 (Tue, 25 Nov 2008)
New Revision: 2434

Modified:
   index
   source
Log:
[c] (0) &lt;time&gt;: Revamp the 'vaguer moments in time' concept.

Modified: index
===================================================================
--- index	2008-11-25 09:52:58 UTC (rev 2433)
+++ index	2008-11-25 10:40:20 UTC (rev 2434)
@@ -3165,8 +3165,32 @@
 
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/li&gt;
 
-   &lt;li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#parse-a-timezone-component&gt;Parse a timezone component&lt;/a&gt; to obtain &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;. If this returns
+   nothing, then fail.&lt;/p&gt;
 
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; beyond the
+   end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; be the moment in time at year
+   &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, day &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;, hours &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;, minute &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, second &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;,
+   subtracting &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;
+   hours and &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;
+   minutes. That moment in time is a moment in the UTC
+   timezone.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;timezone&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; hours and &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt; minutes from
+   UTC.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;timezone&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The rules to &lt;dfn id=parse-a-timezone-component&gt;parse a timezone component&lt;/dfn&gt;, given an &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; string and a &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;, are
+  as follows. This will either return timezone hours and timezone
+  minutes, or nothing. If at any point the algorithm says that it
+  &quot;fails&quot;, this means that it is aborted at that point and returns
+  nothing.&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;
+
     &lt;p&gt;If the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a U+005A
     LATIN CAPITAL LETTER Z, then:&lt;/p&gt;
 
@@ -3217,21 +3241,9 @@
 
     &lt;/ol&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; beyond the
-   end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;
+   and &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; be the moment in time at year
-   &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, day &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;, hours &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;, minute &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, second &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;,
-   subtracting &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;
-   hours and &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;
-   minutes. That moment in time is a moment in the UTC
-   timezone.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;timezone&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; hours and &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt; minutes from
-   UTC.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;timezone&lt;/var&gt;.&lt;/li&gt;
-
   &lt;/ol&gt;&lt;h5 id=weeks&gt;&lt;span class=secno&gt;2.4.4.6 &lt;/span&gt;Weeks&lt;/h5&gt;
 
   &lt;p&gt;A &lt;dfn id=concept-week title=concept-week&gt;week&lt;/dfn&gt; consists of a week-year
@@ -3323,297 +3335,100 @@
 
   &lt;/ol&gt;&lt;h5 id=vaguer-moments-in-time&gt;&lt;span class=secno&gt;2.4.4.7 &lt;/span&gt;Vaguer moments in time&lt;/h5&gt;
 
-  &lt;p&gt;This section defines &lt;dfn id=date-or-time-string title=&quot;date or time string&quot;&gt;date or
-  time strings&lt;/dfn&gt;. There are two kinds, &lt;dfn id=date-or-time-string-in-content title=&quot;date or time
-  string in content&quot;&gt;date or time strings in content&lt;/dfn&gt;, and &lt;dfn id=date-or-time-string-in-attributes title=&quot;date or time string in attributes&quot;&gt;date or time strings in
-  attributes&lt;/dfn&gt;. The only difference is in the handling of
-  whitespace characters.&lt;/p&gt;
+  &lt;p&gt;A &lt;dfn id=date-or-time-string&gt;date or time string&lt;/dfn&gt; consists of either a &lt;a href=#concept-date title=concept-date&gt;date&lt;/a&gt;, a &lt;a href=#concept-time title=concept-time&gt;time&lt;/a&gt;, or a &lt;a href=#concept-datetime title=concept-datetime&gt;global date and time&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;To parse a &lt;a href=#date-or-time-string&gt;date or time string&lt;/a&gt;, user agents must use
-  the following algorithm. A &lt;a href=#date-or-time-string&gt;date or time string&lt;/a&gt; is a
-  &lt;em&gt;valid&lt;/em&gt; date or time string if the following algorithm, when
-  run on the string, doesn't say the string is invalid.&lt;/p&gt;
-  &lt;!-- XXX should define that without reference to the algorithm --&gt;
+  &lt;p&gt;A string is a &lt;dfn id=valid-date-or-time-string&gt;valid date or time string&lt;/dfn&gt; if it is also
+  one of the following:&lt;/p&gt;
 
-  &lt;p&gt;The algorithm may return nothing (in which case the string will
-  be invalid), or it may return a date, a time, a date and a time, or
-  a date and a time and a timezone. Even if the algorithm returns
-  one or more values, the string can still be invalid.&lt;/p&gt;
+  &lt;ul&gt;&lt;li&gt;A &lt;a href=#valid-date-string&gt;valid date string&lt;/a&gt;.&lt;/li&gt;
 
-  &lt;ol&gt;&lt;!-- INIT --&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string being
-   parsed.&lt;/li&gt;
+   &lt;li&gt;A &lt;a href=#valid-time-string&gt;valid time string&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
-   string.&lt;/li&gt;
+   &lt;li&gt;A &lt;a href=#valid-global-date-and-time-string&gt;valid global date and time string&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;results&lt;/var&gt; be the collection of results
-   that are to be returned (one or more of a date, a time, and a
-   timezone), initially empty. If the algorithm aborts at any point,
-   then whatever is currently in &lt;var title=&quot;&quot;&gt;results&lt;/var&gt; must be
-   returned as the result of the algorithm.&lt;/li&gt;
+  &lt;/ul&gt;&lt;p&gt;A string is a &lt;dfn id=valid-date-or-time-string-in-content&gt;valid date or time string in content&lt;/dfn&gt; if
+  it consists of zero or more &lt;a href=#white_space&gt;White_Space&lt;/a&gt; characters,
+  followed by a &lt;a href=#valid-date-or-time-string&gt;valid date or time string&lt;/a&gt;, followed by
+  zero or more further &lt;a href=#white_space&gt;White_Space&lt;/a&gt; characters.&lt;/p&gt;
 
-   &lt;!-- LEADING WHITESPACE --&gt;
-   &lt;li&gt;&lt;p&gt;For the &quot;in content&quot; variant: &lt;a href=#skip-white_space-characters&gt;skip White_Space
-   characters&lt;/a&gt;; for the &quot;in attributes&quot; variant: &lt;a href=#skip-whitespace&gt;skip
-   whitespace&lt;/a&gt;.&lt;/li&gt;&lt;!-- XXX skip whitespace in attribute?
-   really? --&gt;
+  &lt;p&gt;The rules to &lt;dfn id=parse-a-date-or-time-string&gt;parse a date or time string&lt;/dfn&gt; are as
+  follows. The algorithm is invoked with a flag indicating if the
+  &lt;i&gt;in attribute&lt;/i&gt; variant or the &lt;i&gt;in content&lt;/i&gt; variant is to
+  be used. The algorithm will either return a &lt;a href=#concept-date title=concept-date&gt;date&lt;/a&gt;, a &lt;a href=#concept-time title=concept-time&gt;time&lt;/a&gt;, a &lt;a href=#concept-datetime title=concept-datetime&gt;global date and time&lt;/a&gt;, or nothing. If
+  at any point the algorithm says that it &quot;fails&quot;, this means that it
+  is aborted at that point and returns nothing.&lt;/p&gt;
 
-   &lt;!-- YEAR or HOUR --&gt;
-   &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
-   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-   sequence is empty, then the string is invalid; abort these
-   steps.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string being
+   parsed.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let the sequence of characters collected in the last step be
-   &lt;var title=&quot;&quot;&gt;s&lt;/var&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
+   string.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, the string is invalid; abort these
-   steps.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;For the &lt;i&gt;in content&lt;/i&gt; variant: &lt;a href=#skip-white_space-characters&gt;skip White_Space
+   characters&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is
-   &lt;em&gt;not&lt;/em&gt; a U+003A COLON character, then:&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;Set &lt;var title=&quot;&quot;&gt;start position&lt;/var&gt; to the same position
+   as &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;.&lt;/li&gt;
 
-    &lt;!-- DATE --&gt;
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not a
-     U+002D HYPHEN-MINUS (&quot;-&quot;) character either, then the string is
-     invalid, abort these steps.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Set the &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;time present&lt;/var&gt; flags to true.&lt;/li&gt;
 
-     &lt;!-- YEAR --&gt;
-     &lt;li&gt;&lt;p&gt;If the sequence &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; is not exactly four
-     digits long, then the string is invalid. (This does not stop the
-     algorithm, however.)&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#parse-a-date-component&gt;Parse a date component&lt;/a&gt; to obtain &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;. If this fails, then set the &lt;var title=&quot;&quot;&gt;date
+   present&lt;/var&gt; flag to false.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected in step 5 as
-     a base-ten integer, and let that number be &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;.&lt;/li&gt;
+   &lt;li&gt;
 
-     &lt;li&gt;&lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; past the U+002D
-     HYPHEN-MINUS (&quot;-&quot;) character.&lt;/li&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; is true, and &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, and the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a U+0054 LATIN CAPITAL LETTER T
+    character, then advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next
+    character in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;
 
-     &lt;!-- MONTH --&gt;
-     &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
-     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-     sequence is empty, then the string is invalid; abort these
-     steps.&lt;/li&gt;
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; is true, and
+    either &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; or the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+0054 LATIN CAPITAL LETTER T
+    character, then set &lt;var title=&quot;&quot;&gt;time present&lt;/var&gt; to false.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;If the sequence collected in the last step is not exactly
-     two digits long, then the string is invalid.&lt;/li&gt;
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; is false, set
+    &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; back to the same position as &lt;var title=&quot;&quot;&gt;start position&lt;/var&gt;.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected two steps ago
-     as a base-ten integer, and let that number be &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;.&lt;/li&gt;
+   &lt;/li&gt;
 
-     &lt;li&gt;If &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; is not a number in the range
-     1&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;month&lt;/var&gt;&nbsp;&le;&nbsp;12, then
-     the string is invalid, abort these steps.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;time present&lt;/var&gt; flag is true, then
+   &lt;a href=#parse-a-time-component&gt;parse a time component&lt;/a&gt; to obtain &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;. If this returns nothing, then set the &lt;var title=&quot;&quot;&gt;time present&lt;/var&gt; flag to false.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maxday&lt;/var&gt; be the &lt;a href=#number-of-days-in-month-month-of-year-year&gt;number of days
-     in month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; of year &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;&lt;/a&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If both the &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;time present&lt;/var&gt; flags are false, then fail.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, or if the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; a U+002D HYPHEN-MINUS (&quot;-&quot;)
-     character, then the string is invalid, abort these
-     steps. Otherwise, advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next
-     character.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;time present&lt;/var&gt; flag is true, but
+   &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/li&gt;
 
-     &lt;!-- DAY --&gt;
-     &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
-     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-     sequence is empty, then the string is invalid; abort these
-     steps.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;time present&lt;/var&gt; flags are both true, &lt;a href=#parse-a-timezone-component&gt;parse a
+   timezone component&lt;/a&gt; to obtain &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;. If this returns nothing, then
+   fail.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;If the sequence collected in the last step is not exactly
-     two digits long, then the string is invalid.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;For the &lt;i&gt;in content&lt;/i&gt; variant: &lt;a href=#skip-white_space-characters&gt;skip White_Space
+   characters&lt;/a&gt;.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected two steps
-     ago as a base-ten integer, and let that number be &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; beyond the
+   end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;day&lt;/var&gt; is not a number in the range
-     1&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;day&lt;/var&gt;&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;maxday&lt;/var&gt;, then the string is invalid, abort these
-     steps.&lt;/li&gt;
+   &lt;li&gt;
 
-     &lt;li&gt;&lt;p&gt;Add the date represented by &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;day&lt;/var&gt; to the &lt;var title=&quot;&quot;&gt;results&lt;/var&gt;.&lt;/li&gt;
+    &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; flag is true and the
+    &lt;var title=&quot;&quot;&gt;time present&lt;/var&gt; flag is false, then let &lt;var title=&quot;&quot;&gt;date&lt;/var&gt; be the date with year &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, and day &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;, and return &lt;var title=&quot;&quot;&gt;date&lt;/var&gt;.&lt;/p&gt;
 
-     &lt;!-- XXX we should allow the algorithm to abort here without
-     error, with just a date. --&gt;
+    &lt;p&gt;Otherwise, if the &lt;var title=&quot;&quot;&gt;time present&lt;/var&gt; flag is true
+    and the &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; flag is false, then let
+    &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; be the time with hour &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;, minute &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, and second
+    &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;, and return &lt;var title=&quot;&quot;&gt;time&lt;/var&gt;.&lt;/p&gt;
 
-     &lt;!-- WHITESPACE --&gt;
-     &lt;li&gt;&lt;p&gt;For the &quot;in content&quot; variant: &lt;a href=#skip-white_space-characters&gt;skip White_Space
-     characters&lt;/a&gt;; for the &quot;in attributes&quot; variant: &lt;a href=#skip-whitespace&gt;skip
-     whitespace&lt;/a&gt;.&lt;/li&gt;
+    &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; be the moment in time
+    at year &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;,
+    day &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;, hours &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;,
+    minute &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, second &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;, subtracting &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; hours and &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt; minutes, that moment in time being a
+    moment in the UTC timezone; let &lt;var title=&quot;&quot;&gt;timezone&lt;/var&gt; be
+    &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; hours and
+    &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt; minutes
+    from UTC; and return &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;timezone&lt;/var&gt;.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;If the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a U+0054
-     LATIN CAPITAL LETTER T, then move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;
-     forwards one character.&lt;/li&gt;
+   &lt;/li&gt;
 
-     &lt;li&gt;&lt;p&gt;For the &quot;in content&quot; variant: &lt;a href=#skip-white_space-characters&gt;skip White_Space
-     characters&lt;/a&gt;; for the &quot;in attributes&quot; variant: &lt;a href=#skip-whitespace&gt;skip
-     whitespace&lt;/a&gt;.&lt;/li&gt;
-
-     &lt;!-- at this point, if &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; points to a
-     number, we know that we passed at least one space or a T, because
-     otherwise the number would have been slurped up in the last
-     &quot;collect&quot; step. --&gt;
-
-     &lt;!-- HOUR --&gt;
-     &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
-     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-     sequence is empty, then the string is invalid; abort these
-     steps.&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; be the sequence of characters
-     collected in the last step.&lt;/li&gt;
-
-    &lt;/ol&gt;&lt;/li&gt;
-
-   &lt;!-- TIME --&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; is not exactly two digits long,
-   then the string is invalid.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected two steps
-   ago as a base-ten integer, and let that number be &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt; is not a number in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;&nbsp;&le;&nbsp;23, then
-   the string is invalid, abort these steps.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, or if the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; a U+003A COLON character,
-   then the string is invalid, abort these steps. Otherwise, advance
-   &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character.&lt;/li&gt;
-
-   &lt;!-- MINUTE --&gt;
-   &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
-   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-   sequence is empty, then the string is invalid; abort these
-   steps.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the sequence collected in the last step is not exactly
-   two digits long, then the string is invalid.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected two steps
-   ago as a base-ten integer, and let that number be &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt; is not a number in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;&nbsp;&le;&nbsp;59, then
-   the string is invalid, abort these steps.&lt;/li&gt;
-
-   &lt;!-- SECOND --&gt;
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; be 0. It might be changed to
-   another value in the next step.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not past the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; and the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a U+003A COLON character, then:&lt;/p&gt;
-
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; that are
-     either characters in the range U+0030 DIGIT ZERO (0) to U+0039
-     DIGIT NINE (9) or are U+002E FULL STOP. If the collected sequence
-     is empty, or contains more than one U+002E FULL STOP character,
-     then the string is invalid; abort these steps.&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If the first character in the sequence collected in the
-     last step is not in the range U+0030 DIGIT ZERO (0) to U+0039
-     DIGIT NINE (9), then the string is invalid.&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected two steps
-     ago as a base-ten number (possibly with a fractional part), and
-     let that number be &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;.&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; is not a number in the range
-     0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;&nbsp;&lt;&nbsp;60,
-     then the string is invalid, abort these steps.&lt;/li&gt;
-
-    &lt;/ol&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Add the time represented by &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; to the &lt;var title=&quot;&quot;&gt;results&lt;/var&gt;.&lt;/li&gt;
-
-   &lt;!-- TIME ZONE --&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;results&lt;/var&gt; has both a date and a time,
-   then:&lt;/p&gt;
-
-    &lt;ol&gt;&lt;li&gt;&lt;p&gt;For the &quot;in content&quot; variant: &lt;a href=#skip-white_space-characters&gt;skip White_Space
-     characters&lt;/a&gt;; for the &quot;in attributes&quot; variant: &lt;a href=#skip-whitespace&gt;skip
-     whitespace&lt;/a&gt;.&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then skip to the next step in the overall
-     set of steps.&lt;/p&gt;
-
-     &lt;!-- UTC --&gt;
-     &lt;li&gt;&lt;p&gt;Otherwise, if the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a U+005A LATIN CAPITAL LETTER Z,
-     then:&lt;/p&gt;
-
-      &lt;ol&gt;&lt;li&gt;&lt;p&gt;Add the timezone corresponding to UTC (zero offset) to
-       the &lt;var title=&quot;&quot;&gt;results&lt;/var&gt;.&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character
-       in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Skip to the next step in the overall set of
-       steps.&lt;/li&gt;
-
-      &lt;/ol&gt;&lt;/li&gt;
-
-     &lt;!-- EXPLICIT TIMEZONE OFFSET --&gt;
-     &lt;li&gt;&lt;p&gt;Otherwise, if the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is either a U+002B PLUS SIGN (&quot;+&quot;) or a
-     U+002D HYPHEN-MINUS (&quot;-&quot;), then:&lt;/p&gt;
-
-      &lt;ol&gt;&lt;!-- SIGN --&gt;&lt;li&gt;&lt;p&gt;If the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a
-       U+002B PLUS SIGN (&quot;+&quot;), let &lt;var title=&quot;&quot;&gt;sign&lt;/var&gt; be
-       &quot;positive&quot;. Otherwise, it's a U+002D HYPHEN-MINUS (&quot;-&quot;); let
-       &lt;var title=&quot;&quot;&gt;sign&lt;/var&gt; be &quot;negative&quot;.&lt;/li&gt;
-
-       &lt;!-- HOURS --&gt;
-       &lt;li&gt;&lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next
-       character in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the
-       range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the
-       collected sequence is not exactly two characters long, then
-       the string is invalid.&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Interpret the sequence collected in the last step as a
-       base-ten number, and let that number be &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;.&lt;/li&gt;
-
-       &lt;li&gt;If &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; is not a
-       number in the range 0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;&nbsp;&le;&nbsp;23, then
-       the string is invalid; abort these steps.&lt;/li&gt;
-
-       &lt;li&gt;If &lt;var title=&quot;&quot;&gt;sign&lt;/var&gt; is &quot;negative&quot;, then negate &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;.&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of
-       &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+003A COLON character, then
-       the string is invalid; abort these steps. Otherwise, move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; forwards one character.&lt;/li&gt;
-
-       &lt;!-- MINUTES --&gt;
-       &lt;li&gt;&lt;p&gt;&lt;a href=#collect-a-sequence-of-characters&gt;Collect a sequence of characters&lt;/a&gt; in the range
-       U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-       sequence is not exactly two characters long, then the string is invalid.&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Interpret the sequence collected in the last step as a
-       base-ten number, and let that number be &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;.&lt;/li&gt;
-
-       &lt;li&gt;If &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt; is not a
-       number in the range 0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;&nbsp;&le;&nbsp;59,
-       then the string is invalid; abort these steps.&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Add the timezone corresponding to an offset of &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; hours and &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt; minutes to the &lt;var title=&quot;&quot;&gt;results&lt;/var&gt;.&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Skip to the next step in the overall set of
-       steps.&lt;/li&gt;
-
-      &lt;/ol&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Otherwise, the string is invalid; abort these
-     steps.&lt;/li&gt;
-
-    &lt;/ol&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;For the &quot;in content&quot; variant: &lt;a href=#skip-white_space-characters&gt;skip White_Space
-   characters&lt;/a&gt;; for the &quot;in attributes&quot; variant: &lt;a href=#skip-whitespace&gt;skip
-   whitespace&lt;/a&gt;.&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; past the end
-   of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then the string is invalid.&lt;/p&gt;
-
-   &lt;li&gt;&lt;p&gt;Abort these steps (the string is parsed).&lt;/li&gt;
-
   &lt;/ol&gt;&lt;h5 id=time-offsets&gt;&lt;span class=secno&gt;2.4.4.8 &lt;/span&gt;Time offsets&lt;/h5&gt;
 
   &lt;p class=XXX&gt;&lt;dfn id=valid-time-offset&gt;valid time offset&lt;/dfn&gt;, &lt;dfn id=rules-for-parsing-time-offsets&gt;rules for
@@ -12509,14 +12324,14 @@
   &lt;/dl&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt; element represents a date and/or a time.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=attr-time-datetime title=attr-time-datetime&gt;&lt;code&gt;datetime&lt;/code&gt;&lt;/dfn&gt;
-  attribute, if present, must contain a &lt;a href=#date-or-time-string&gt;date or time
+  attribute, if present, must contain a &lt;a href=#valid-date-or-time-string&gt;valid date or time
   string&lt;/a&gt; that identifies the date or time being specified.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;code title=attr-time-datetime&gt;&lt;a href=#attr-time-datetime&gt;datetime&lt;/a&gt;&lt;/code&gt; attribute is
-  not present, then the date or time must be specified in the content
-  of the element, such that parsing the element's
-  &lt;code&gt;&lt;a href=#textcontent&gt;textContent&lt;/a&gt;&lt;/code&gt; according to the rules for parsing &lt;a href=#date-or-time-string-in-content title=&quot;date or time string in content&quot;&gt;date or time strings in
-  content&lt;/a&gt; successfully extracts a date or time.&lt;/p&gt;
+  &lt;p&gt;If the &lt;code title=attr-time-datetime&gt;&lt;a href=#attr-time-datetime&gt;datetime&lt;/a&gt;&lt;/code&gt; attribute
+  is not present, then the date or time must be specified in the
+  content of the element, such that the element's
+  &lt;code&gt;&lt;a href=#textcontent&gt;textContent&lt;/a&gt;&lt;/code&gt; is a &lt;a href=#valid-date-or-time-string-in-content&gt;valid date or time string in
+  content&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-time-datetime title=dom-time-datetime&gt;&lt;code&gt;dateTime&lt;/code&gt;&lt;/dfn&gt; DOM
   attribute must &lt;a href=#reflect&gt;reflect&lt;/a&gt; the &lt;code title=attr-time-datetime&gt;&lt;a href=#attr-time-datetime&gt;datetime&lt;/a&gt;&lt;/code&gt; content attribute.&lt;/p&gt;
@@ -12525,14 +12340,13 @@
   &lt;code&gt;&lt;a href=#the-time-element&gt;time&lt;/a&gt;&lt;/code&gt; element, must follow these steps:&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;If the &lt;code title=attr-time-datetime&gt;&lt;a href=#attr-time-datetime&gt;datetime&lt;/a&gt;&lt;/code&gt;
-   attribute is present, then parse it according to the rules for
-   parsing &lt;a href=#date-or-time-string-in-attributes title=&quot;date or time string in attributes&quot;&gt;date or
-   time strings in attributes&lt;/a&gt;, and let the result be &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/li&gt;
+   attribute is present, then use the rules to &lt;a href=#parse-a-date-or-time-string&gt;parse a date or
+   time string&lt;/a&gt; with the flag &lt;i&gt;in attribute&lt;/i&gt; from the value
+   of that attribute, and let the result be &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/li&gt;
 
-   &lt;li&gt;Otherwise, parse the element's &lt;code&gt;&lt;a href=#textcontent&gt;textContent&lt;/a&gt;&lt;/code&gt;
-   according to the rules for parsing &lt;a href=#date-or-time-string-in-attributes title=&quot;date or time string
-   in attributes&quot;&gt;date or time strings in content&lt;/a&gt;, and let the
-   result be &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/li&gt;
+   &lt;li&gt;Otherwise, use the rules to &lt;a href=#parse-a-date-or-time-string&gt;parse a date or time
+   string&lt;/a&gt; with the flag &lt;i&gt;in content&lt;/i&gt; from the element's
+   &lt;code&gt;&lt;a href=#textcontent&gt;textContent&lt;/a&gt;&lt;/code&gt;, and let the result be &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; is empty (because the parsing
    failed), then the &lt;a href=#concept-time-date title=concept-time-date&gt;date&lt;/a&gt; is
@@ -12546,10 +12360,10 @@
    timezone can only be present if both a date and a time are also
    present.)&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-time-date title=dom-time-date&gt;&lt;code&gt;date&lt;/code&gt;&lt;/dfn&gt; DOM attribute
-  must return null if the &lt;a href=#concept-time-date title=concept-time-date&gt;date&lt;/a&gt; is
-  unknown, and otherwise must return the time corresponding to
-  midnight UTC (i.e. the first second) of the given &lt;a href=#concept-time-date title=concept-time-date&gt;date&lt;/a&gt;.&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-time-date title=dom-time-date&gt;&lt;code&gt;date&lt;/code&gt;&lt;/dfn&gt; DOM
+  attribute must return null if the &lt;a href=#concept-time-date title=concept-time-date&gt;date&lt;/a&gt; is unknown, and otherwise must
+  return the time corresponding to midnight UTC (i.e. the first
+  second) of the given &lt;a href=#concept-time-date title=concept-time-date&gt;date&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-time-time title=dom-time-time&gt;&lt;code&gt;time&lt;/code&gt;&lt;/dfn&gt; DOM attribute
   must return null if the &lt;a href=#concept-time-time title=concept-time-time&gt;time&lt;/a&gt; is

Modified: source
===================================================================
--- source	2008-11-25 09:52:58 UTC (rev 2433)
+++ source	2008-11-25 10:40:20 UTC (rev 2434)
@@ -2577,6 +2577,42 @@
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
    title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Parse a timezone component&lt;/span&gt; to obtain &lt;var
+   title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; and &lt;var
+   title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;. If this returns
+   nothing, then fail.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; beyond the
+   end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; be the moment in time at year
+   &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, day &lt;var
+   title=&quot;&quot;&gt;day&lt;/var&gt;, hours &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;, minute &lt;var
+   title=&quot;&quot;&gt;minute&lt;/var&gt;, second &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;,
+   subtracting &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;
+   hours and &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;
+   minutes. That moment in time is a moment in the UTC
+   timezone.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;timezone&lt;/var&gt; be &lt;var
+   title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; hours and &lt;var
+   title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt; minutes from
+   UTC.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; and &lt;var
+   title=&quot;&quot;&gt;timezone&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;The rules to &lt;dfn&gt;parse a timezone component&lt;/dfn&gt;, given an &lt;var
+  title=&quot;&quot;&gt;input&lt;/var&gt; string and a &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;, are
+  as follows. This will either return timezone hours and timezone
+  minutes, or nothing. If at any point the algorithm says that it
+  &quot;fails&quot;, this means that it is aborted at that point and returns
+  nothing.&lt;/p&gt;
+
+  &lt;ol&gt;
+
    &lt;li&gt;
 
     &lt;p&gt;If the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a U+005A
@@ -2649,26 +2685,10 @@
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; beyond the
-   end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;
+   and &lt;var title=&quot;&quot;&gt;timezone&lt;sub
+   title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; be the moment in time at year
-   &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, day &lt;var
-   title=&quot;&quot;&gt;day&lt;/var&gt;, hours &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;, minute &lt;var
-   title=&quot;&quot;&gt;minute&lt;/var&gt;, second &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;,
-   subtracting &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;
-   hours and &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;
-   minutes. That moment in time is a moment in the UTC
-   timezone.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;timezone&lt;/var&gt; be &lt;var
-   title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; hours and &lt;var
-   title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt; minutes from
-   UTC.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; and &lt;var
-   title=&quot;&quot;&gt;timezone&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
   &lt;/ol&gt;
 
 
@@ -2785,27 +2805,41 @@
 
   &lt;h5&gt;Vaguer moments in time&lt;/h5&gt;
 
-  &lt;p&gt;This section defines &lt;dfn title=&quot;date or time string&quot;&gt;date or
-  time strings&lt;/dfn&gt;. There are two kinds, &lt;dfn title=&quot;date or time
-  string in content&quot;&gt;date or time strings in content&lt;/dfn&gt;, and &lt;dfn
-  title=&quot;date or time string in attributes&quot;&gt;date or time strings in
-  attributes&lt;/dfn&gt;. The only difference is in the handling of
-  whitespace characters.&lt;/p&gt;
+  &lt;p&gt;A &lt;dfn&gt;date or time string&lt;/dfn&gt; consists of either a &lt;span
+  title=&quot;concept-date&quot;&gt;date&lt;/span&gt;, a &lt;span
+  title=&quot;concept-time&quot;&gt;time&lt;/span&gt;, or a &lt;span
+  title=&quot;concept-datetime&quot;&gt;global date and time&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;To parse a &lt;span&gt;date or time string&lt;/span&gt;, user agents must use
-  the following algorithm. A &lt;span&gt;date or time string&lt;/span&gt; is a
-  &lt;em&gt;valid&lt;/em&gt; date or time string if the following algorithm, when
-  run on the string, doesn't say the string is invalid.&lt;/p&gt;
-  &lt;!-- XXX should define that without reference to the algorithm --&gt;
+  &lt;p&gt;A string is a &lt;dfn&gt;valid date or time string&lt;/dfn&gt; if it is also
+  one of the following:&lt;/p&gt;
 
-  &lt;p&gt;The algorithm may return nothing (in which case the string will
-  be invalid), or it may return a date, a time, a date and a time, or
-  a date and a time and a timezone. Even if the algorithm returns
-  one or more values, the string can still be invalid.&lt;/p&gt;
+  &lt;ul&gt;
 
+   &lt;li&gt;A &lt;span&gt;valid date string&lt;/span&gt;.&lt;/li&gt;
+
+   &lt;li&gt;A &lt;span&gt;valid time string&lt;/span&gt;.&lt;/li&gt;
+
+   &lt;li&gt;A &lt;span&gt;valid global date and time string&lt;/span&gt;.&lt;/li&gt;
+
+  &lt;/ul&gt;
+
+  &lt;p&gt;A string is a &lt;dfn&gt;valid date or time string in content&lt;/dfn&gt; if
+  it consists of zero or more &lt;span&gt;White_Space&lt;/span&gt; characters,
+  followed by a &lt;span&gt;valid date or time string&lt;/span&gt;, followed by
+  zero or more further &lt;span&gt;White_Space&lt;/span&gt; characters.&lt;/p&gt;
+
+  &lt;p&gt;The rules to &lt;dfn&gt;parse a date or time string&lt;/dfn&gt; are as
+  follows. The algorithm is invoked with a flag indicating if the
+  &lt;i&gt;in attribute&lt;/i&gt; variant or the &lt;i&gt;in content&lt;/i&gt; variant is to
+  be used. The algorithm will either return a &lt;span
+  title=&quot;concept-date&quot;&gt;date&lt;/span&gt;, a &lt;span
+  title=&quot;concept-time&quot;&gt;time&lt;/span&gt;, a &lt;span
+  title=&quot;concept-datetime&quot;&gt;global date and time&lt;/span&gt;, or nothing. If
+  at any point the algorithm says that it &quot;fails&quot;, this means that it
+  is aborted at that point and returns nothing.&lt;/p&gt;
+
   &lt;ol&gt;
 
-   &lt;!-- INIT --&gt;
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string being
    parsed.&lt;/p&gt;&lt;/li&gt;
 
@@ -2813,326 +2847,97 @@
    title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
    string.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;results&lt;/var&gt; be the collection of results
-   that are to be returned (one or more of a date, a time, and a
-   timezone), initially empty. If the algorithm aborts at any point,
-   then whatever is currently in &lt;var title=&quot;&quot;&gt;results&lt;/var&gt; must be
-   returned as the result of the algorithm.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;For the &lt;i&gt;in content&lt;/i&gt; variant: &lt;span&gt;skip White_Space
+   characters&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;!-- LEADING WHITESPACE --&gt;
-   &lt;li&gt;&lt;p&gt;For the &quot;in content&quot; variant: &lt;span&gt;skip White_Space
-   characters&lt;/span&gt;; for the &quot;in attributes&quot; variant: &lt;span&gt;skip
-   whitespace&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;&lt;!-- XXX skip whitespace in attribute?
-   really? --&gt;
+   &lt;li&gt;&lt;p&gt;Set &lt;var title=&quot;&quot;&gt;start position&lt;/var&gt; to the same position
+   as &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;!-- YEAR or HOUR --&gt;
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
-   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-   sequence is empty, then the string is invalid; abort these
-   steps.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Set the &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; and &lt;var
+   title=&quot;&quot;&gt;time present&lt;/var&gt; flags to true.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Let the sequence of characters collected in the last step be
-   &lt;var title=&quot;&quot;&gt;s&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Parse a date component&lt;/span&gt; to obtain &lt;var
+   title=&quot;&quot;&gt;year&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, and &lt;var
+   title=&quot;&quot;&gt;day&lt;/var&gt;. If this fails, then set the &lt;var title=&quot;&quot;&gt;date
+   present&lt;/var&gt; flag to false.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;, the string is invalid; abort these
-   steps.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is
-   &lt;em&gt;not&lt;/em&gt; a U+003A COLON character, then:&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; is true, and &lt;var
+    title=&quot;&quot;&gt;position&lt;/var&gt; is not beyond the end of &lt;var
+    title=&quot;&quot;&gt;input&lt;/var&gt;, and the character at &lt;var
+    title=&quot;&quot;&gt;position&lt;/var&gt; is a U+0054 LATIN CAPITAL LETTER T
+    character, then advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next
+    character in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;
 
-    &lt;!-- DATE --&gt;
-    &lt;ol&gt;
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; is true, and
+    either &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
+    title=&quot;&quot;&gt;input&lt;/var&gt; or the character at &lt;var
+    title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+0054 LATIN CAPITAL LETTER T
+    character, then set &lt;var title=&quot;&quot;&gt;time present&lt;/var&gt; to false.&lt;/p&gt;
 
-     &lt;li&gt;&lt;p&gt;If the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not a
-     U+002D HYPHEN-MINUS (&quot;-&quot;) character either, then the string is
-     invalid, abort these steps.&lt;/p&gt;&lt;/li&gt;
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; is false, set
+    &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; back to the same position as &lt;var
+    title=&quot;&quot;&gt;start position&lt;/var&gt;.&lt;/p&gt;
 
-     &lt;!-- YEAR --&gt;
-     &lt;li&gt;&lt;p&gt;If the sequence &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; is not exactly four
-     digits long, then the string is invalid. (This does not stop the
-     algorithm, however.)&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected in step 5 as
-     a base-ten integer, and let that number be &lt;var
-     title=&quot;&quot;&gt;year&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; past the U+002D
-     HYPHEN-MINUS (&quot;-&quot;) character.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;!-- MONTH --&gt;
-     &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
-     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-     sequence is empty, then the string is invalid; abort these
-     steps.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If the sequence collected in the last step is not exactly
-     two digits long, then the string is invalid.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected two steps ago
-     as a base-ten integer, and let that number be &lt;var
-     title=&quot;&quot;&gt;month&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;If &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; is not a number in the range
-     1&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;month&lt;/var&gt;&nbsp;&le;&nbsp;12, then
-     the string is invalid, abort these steps.&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maxday&lt;/var&gt; be the &lt;span&gt;number of days
-     in month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; of year &lt;var
-     title=&quot;&quot;&gt;year&lt;/var&gt;&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-     title=&quot;&quot;&gt;input&lt;/var&gt;, or if the character at &lt;var
-     title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; a U+002D HYPHEN-MINUS (&quot;-&quot;)
-     character, then the string is invalid, abort these
-     steps. Otherwise, advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next
-     character.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;!-- DAY --&gt;
-     &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
-     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-     sequence is empty, then the string is invalid; abort these
-     steps.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If the sequence collected in the last step is not exactly
-     two digits long, then the string is invalid.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected two steps
-     ago as a base-ten integer, and let that number be &lt;var
-     title=&quot;&quot;&gt;day&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;day&lt;/var&gt; is not a number in the range
-     1&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;day&lt;/var&gt;&nbsp;&le;&nbsp;&lt;var
-     title=&quot;&quot;&gt;maxday&lt;/var&gt;, then the string is invalid, abort these
-     steps.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Add the date represented by &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, &lt;var
-     title=&quot;&quot;&gt;month&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;day&lt;/var&gt; to the &lt;var
-     title=&quot;&quot;&gt;results&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;!-- XXX we should allow the algorithm to abort here without
-     error, with just a date. --&gt;
-
-     &lt;!-- WHITESPACE --&gt;
-     &lt;li&gt;&lt;p&gt;For the &quot;in content&quot; variant: &lt;span&gt;skip White_Space
-     characters&lt;/span&gt;; for the &quot;in attributes&quot; variant: &lt;span&gt;skip
-     whitespace&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a U+0054
-     LATIN CAPITAL LETTER T, then move &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;
-     forwards one character.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;For the &quot;in content&quot; variant: &lt;span&gt;skip White_Space
-     characters&lt;/span&gt;; for the &quot;in attributes&quot; variant: &lt;span&gt;skip
-     whitespace&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;!-- at this point, if &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; points to a
-     number, we know that we passed at least one space or a T, because
-     otherwise the number would have been slurped up in the last
-     &quot;collect&quot; step. --&gt;
-
-     &lt;!-- HOUR --&gt;
-     &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
-     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-     sequence is empty, then the string is invalid; abort these
-     steps.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; be the sequence of characters
-     collected in the last step.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
    &lt;/li&gt;
 
-   &lt;!-- TIME --&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;time present&lt;/var&gt; flag is true, then
+   &lt;span&gt;parse a time component&lt;/span&gt; to obtain &lt;var
+   title=&quot;&quot;&gt;hour&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, and &lt;var
+   title=&quot;&quot;&gt;second&lt;/var&gt;. If this returns nothing, then set the &lt;var
+   title=&quot;&quot;&gt;time present&lt;/var&gt; flag to false.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; is not exactly two digits long,
-   then the string is invalid.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If both the &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; and &lt;var
+   title=&quot;&quot;&gt;time present&lt;/var&gt; flags are false, then fail.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected two steps
-   ago as a base-ten integer, and let that number be &lt;var
-   title=&quot;&quot;&gt;hour&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;time present&lt;/var&gt; flag is true, but
+   &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
+   title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt; is not a number in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;&nbsp;&le;&nbsp;23, then
-   the string is invalid, abort these steps.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; and &lt;var
+   title=&quot;&quot;&gt;time present&lt;/var&gt; flags are both true, &lt;span&gt;parse a
+   timezone component&lt;/span&gt; to obtain &lt;var title=&quot;&quot;&gt;timezone&lt;sub
+   title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;timezone&lt;sub
+   title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;. If this returns nothing, then
+   fail.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;, or if the character at &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; a U+003A COLON character,
-   then the string is invalid, abort these steps. Otherwise, advance
-   &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;For the &lt;i&gt;in content&lt;/i&gt; variant: &lt;span&gt;skip White_Space
+   characters&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;!-- MINUTE --&gt;
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
-   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-   sequence is empty, then the string is invalid; abort these
-   steps.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; beyond the
+   end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then fail.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the sequence collected in the last step is not exactly
-   two digits long, then the string is invalid.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;
 
-   &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected two steps
-   ago as a base-ten integer, and let that number be &lt;var
-   title=&quot;&quot;&gt;minute&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+    &lt;p&gt;If the &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; flag is true and the
+    &lt;var title=&quot;&quot;&gt;time present&lt;/var&gt; flag is false, then let &lt;var
+    title=&quot;&quot;&gt;date&lt;/var&gt; be the date with year &lt;var
+    title=&quot;&quot;&gt;year&lt;/var&gt;, month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;, and day &lt;var
+    title=&quot;&quot;&gt;day&lt;/var&gt;, and return &lt;var title=&quot;&quot;&gt;date&lt;/var&gt;.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt; is not a number in the range
-   0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;&nbsp;&le;&nbsp;59, then
-   the string is invalid, abort these steps.&lt;/p&gt;&lt;/li&gt;
+    &lt;p&gt;Otherwise, if the &lt;var title=&quot;&quot;&gt;time present&lt;/var&gt; flag is true
+    and the &lt;var title=&quot;&quot;&gt;date present&lt;/var&gt; flag is false, then let
+    &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; be the time with hour &lt;var
+    title=&quot;&quot;&gt;hour&lt;/var&gt;, minute &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, and second
+    &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;, and return &lt;var
+    title=&quot;&quot;&gt;time&lt;/var&gt;.&lt;/p&gt;
 
-   &lt;!-- SECOND --&gt;
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; be 0. It might be changed to
-   another value in the next step.&lt;/p&gt;&lt;/li&gt;
+    &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; be the moment in time
+    at year &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;, month &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;,
+    day &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;, hours &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;,
+    minute &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;, second &lt;var
+    title=&quot;&quot;&gt;second&lt;/var&gt;, subtracting &lt;var title=&quot;&quot;&gt;timezone&lt;sub
+    title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; hours and &lt;var title=&quot;&quot;&gt;timezone&lt;sub
+    title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt; minutes, that moment in time being a
+    moment in the UTC timezone; let &lt;var title=&quot;&quot;&gt;timezone&lt;/var&gt; be
+    &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; hours and
+    &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt; minutes
+    from UTC; and return &lt;var title=&quot;&quot;&gt;time&lt;/var&gt; and &lt;var
+    title=&quot;&quot;&gt;timezone&lt;/var&gt;.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not past the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt; and the character at &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; is a U+003A COLON character, then:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are
-     either characters in the range U+0030 DIGIT ZERO (0) to U+0039
-     DIGIT NINE (9) or are U+002E FULL STOP. If the collected sequence
-     is empty, or contains more than one U+002E FULL STOP character,
-     then the string is invalid; abort these steps.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If the first character in the sequence collected in the
-     last step is not in the range U+0030 DIGIT ZERO (0) to U+0039
-     DIGIT NINE (9), then the string is invalid.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected two steps
-     ago as a base-ten number (possibly with a fractional part), and
-     let that number be &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; is not a number in the range
-     0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;&nbsp;&lt;&nbsp;60,
-     then the string is invalid, abort these steps.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Add the time represented by &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;, &lt;var
-   title=&quot;&quot;&gt;minute&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; to the &lt;var
-   title=&quot;&quot;&gt;results&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;!-- TIME ZONE --&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;results&lt;/var&gt; has both a date and a time,
-   then:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;For the &quot;in content&quot; variant: &lt;span&gt;skip White_Space
-     characters&lt;/span&gt;; for the &quot;in attributes&quot; variant: &lt;span&gt;skip
-     whitespace&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-     title=&quot;&quot;&gt;input&lt;/var&gt;, then skip to the next step in the overall
-     set of steps.&lt;/p&gt;
-
-     &lt;!-- UTC --&gt;
-     &lt;li&gt;&lt;p&gt;Otherwise, if the character at &lt;var
-     title=&quot;&quot;&gt;position&lt;/var&gt; is a U+005A LATIN CAPITAL LETTER Z,
-     then:&lt;/p&gt;
-
-      &lt;ol&gt;
-
-       &lt;li&gt;&lt;p&gt;Add the timezone corresponding to UTC (zero offset) to
-       the &lt;var title=&quot;&quot;&gt;results&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character
-       in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Skip to the next step in the overall set of
-       steps.&lt;/p&gt;&lt;/li&gt;
-
-      &lt;/ol&gt;
-
-     &lt;/li&gt;
-
-     &lt;!-- EXPLICIT TIMEZONE OFFSET --&gt;
-     &lt;li&gt;&lt;p&gt;Otherwise, if the character at &lt;var
-     title=&quot;&quot;&gt;position&lt;/var&gt; is either a U+002B PLUS SIGN (&quot;+&quot;) or a
-     U+002D HYPHEN-MINUS (&quot;-&quot;), then:&lt;/p&gt;
-
-      &lt;ol&gt;
-
-       &lt;!-- SIGN --&gt;
-       &lt;li&gt;&lt;p&gt;If the character at &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a
-       U+002B PLUS SIGN (&quot;+&quot;), let &lt;var title=&quot;&quot;&gt;sign&lt;/var&gt; be
-       &quot;positive&quot;. Otherwise, it's a U+002D HYPHEN-MINUS (&quot;-&quot;); let
-       &lt;var title=&quot;&quot;&gt;sign&lt;/var&gt; be &quot;negative&quot;.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;!-- HOURS --&gt;
-       &lt;li&gt;&lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next
-       character in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the
-       range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the
-       collected sequence is not exactly two characters long, then
-       the string is invalid.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Interpret the sequence collected in the last step as a
-       base-ten number, and let that number be &lt;var
-       title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;If &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; is not a
-       number in the range 0&nbsp;&le;&nbsp;&lt;var
-       title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;&nbsp;&le;&nbsp;23, then
-       the string is invalid; abort these steps.&lt;/li&gt;
-
-       &lt;li&gt;If &lt;var title=&quot;&quot;&gt;sign&lt;/var&gt; is &quot;negative&quot;, then negate &lt;var
-       title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;.&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of
-       &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var
-       title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+003A COLON character, then
-       the string is invalid; abort these steps. Otherwise, move &lt;var
-       title=&quot;&quot;&gt;position&lt;/var&gt; forwards one character.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;!-- MINUTES --&gt;
-       &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
-       U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
-       sequence is not exactly two characters long, then the string is invalid.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Interpret the sequence collected in the last step as a
-       base-ten number, and let that number be &lt;var
-       title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;If &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt; is not a
-       number in the range 0&nbsp;&le;&nbsp;&lt;var
-       title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;&nbsp;&le;&nbsp;59,
-       then the string is invalid; abort these steps.&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Add the timezone corresponding to an offset of &lt;var
-       title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; hours and &lt;var
-       title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt; minutes to the &lt;var
-       title=&quot;&quot;&gt;results&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Skip to the next step in the overall set of
-       steps.&lt;/p&gt;&lt;/li&gt;
-
-      &lt;/ol&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Otherwise, the string is invalid; abort these
-     steps.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;For the &quot;in content&quot; variant: &lt;span&gt;skip White_Space
-   characters&lt;/span&gt;; for the &quot;in attributes&quot; variant: &lt;span&gt;skip
-   whitespace&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is &lt;em&gt;not&lt;/em&gt; past the end
-   of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then the string is invalid.&lt;/p&gt;
-
-   &lt;li&gt;&lt;p&gt;Abort these steps (the string is parsed).&lt;/p&gt;&lt;/li&gt;
-
   &lt;/ol&gt;
 
 
@@ -13313,15 +13118,14 @@
   &lt;p&gt;The &lt;code&gt;time&lt;/code&gt; element represents a date and/or a time.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;attr-time-datetime&quot;&gt;&lt;code&gt;datetime&lt;/code&gt;&lt;/dfn&gt;
-  attribute, if present, must contain a &lt;span&gt;date or time
+  attribute, if present, must contain a &lt;span&gt;valid date or time
   string&lt;/span&gt; that identifies the date or time being specified.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;code title=&quot;attr-time-datetime&quot;&gt;datetime&lt;/code&gt; attribute is
-  not present, then the date or time must be specified in the content
-  of the element, such that parsing the element's
-  &lt;code&gt;textContent&lt;/code&gt; according to the rules for parsing &lt;span
-  title=&quot;date or time string in content&quot;&gt;date or time strings in
-  content&lt;/span&gt; successfully extracts a date or time.&lt;/p&gt;
+  &lt;p&gt;If the &lt;code title=&quot;attr-time-datetime&quot;&gt;datetime&lt;/code&gt; attribute
+  is not present, then the date or time must be specified in the
+  content of the element, such that the element's
+  &lt;code&gt;textContent&lt;/code&gt; is a &lt;span&gt;valid date or time string in
+  content&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;dom-time-datetime&quot;&gt;&lt;code&gt;dateTime&lt;/code&gt;&lt;/dfn&gt; DOM
   attribute must &lt;span&gt;reflect&lt;/span&gt; the &lt;code
@@ -13336,15 +13140,15 @@
   &lt;ol&gt;
 
    &lt;li&gt;If the &lt;code title=&quot;attr-time-datetime&quot;&gt;datetime&lt;/code&gt;
-   attribute is present, then parse it according to the rules for
-   parsing &lt;span title=&quot;date or time string in attributes&quot;&gt;date or
-   time strings in attributes&lt;/span&gt;, and let the result be &lt;var
+   attribute is present, then use the rules to &lt;span&gt;parse a date or
+   time string&lt;/span&gt; with the flag &lt;i&gt;in attribute&lt;/i&gt; from the value
+   of that attribute, and let the result be &lt;var
    title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/li&gt;
 
-   &lt;li&gt;Otherwise, parse the element's &lt;code&gt;textContent&lt;/code&gt;
-   according to the rules for parsing &lt;span title=&quot;date or time string
-   in attributes&quot;&gt;date or time strings in content&lt;/span&gt;, and let the
-   result be &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/li&gt;
+   &lt;li&gt;Otherwise, use the rules to &lt;span&gt;parse a date or time
+   string&lt;/span&gt; with the flag &lt;i&gt;in content&lt;/i&gt; from the element's
+   &lt;code&gt;textContent&lt;/code&gt;, and let the result be &lt;var
+   title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; is empty (because the parsing
    failed), then the &lt;span title=&quot;concept-time-date&quot;&gt;date&lt;/span&gt; is
@@ -13363,10 +13167,11 @@
 
   &lt;/ol&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-time-date&quot;&gt;&lt;code&gt;date&lt;/code&gt;&lt;/dfn&gt; DOM attribute
-  must return null if the &lt;span title=&quot;concept-time-date&quot;&gt;date&lt;/span&gt; is
-  unknown, and otherwise must return the time corresponding to
-  midnight UTC (i.e. the first second) of the given &lt;span
+  &lt;p&gt;The &lt;dfn title=&quot;dom-time-date&quot;&gt;&lt;code&gt;date&lt;/code&gt;&lt;/dfn&gt; DOM
+  attribute must return null if the &lt;span
+  title=&quot;concept-time-date&quot;&gt;date&lt;/span&gt; is unknown, and otherwise must
+  return the time corresponding to midnight UTC (i.e. the first
+  second) of the given &lt;span
   title=&quot;concept-time-date&quot;&gt;date&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;dom-time-time&quot;&gt;&lt;code&gt;time&lt;/code&gt;&lt;/dfn&gt; DOM attribute


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009317.html">[html5] r2433 - [c] (0) Ban year zero. (credit: hs)
</A></li>
	<LI>Next message: <A HREF="009319.html">[html5] r2435 - [e] (0) Update examples for prior checkin;	remove note on feedback since we didn [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9318">[ date ]</a>
              <a href="thread.html#9318">[ thread ]</a>
              <a href="subject.html#9318">[ subject ]</a>
              <a href="author.html#9318">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
