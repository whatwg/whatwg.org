<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1177 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1177%20-%20/&In-Reply-To=%3C20080131020217.911EE139DDD%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008084.html">
   <LINK REL="Next"  HREF="008086.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1177 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1177%20-%20/&In-Reply-To=%3C20080131020217.911EE139DDD%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1177 - /">whatwg at whatwg.org
       </A><BR>
    <I>Wed Jan 30 18:02:17 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008084.html">[html5] r1176 - /
</A></li>
        <LI>Next message: <A HREF="008086.html">[html5] r1178 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8085">[ date ]</a>
              <a href="thread.html#8085">[ thread ]</a>
              <a href="subject.html#8085">[ subject ]</a>
              <a href="author.html#8085">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-01-30 18:02:12 -0800 (Wed, 30 Jan 2008)
New Revision: 1177

Modified:
   index
   source
Log:
[gow] (2) Clarify img.complete; define toDataURL() with a 0x0 canvas; fix confusion in the radial gradient description; define patterns with a 0x0 input canvas; minor editorial fixes

Modified: index
===================================================================
--- index	2008-01-31 01:16:19 UTC (rev 1176)
+++ index	2008-01-31 02:02:12 UTC (rev 1177)
@@ -12585,11 +12585,12 @@
 
   &lt;p&gt;Once the download has completed, if the image is a valid image, the user
    agent must &lt;a href=&quot;#firing4&quot;&gt;fire a &lt;code title=event-load&gt;load&lt;/code&gt;
-   event&lt;/a&gt; on the &lt;code&gt;&lt;a href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element. If the
-   download fails or it completes but the image is not a valid or supported
-   image, the user agent must &lt;a href=&quot;#firing5&quot;&gt;fire an &lt;code
-   title=event-error&gt;error&lt;/code&gt; event&lt;/a&gt; on the &lt;code&gt;&lt;a
-   href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element.
+   event&lt;/a&gt; on the &lt;code&gt;&lt;a href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element (this happens
+   after &lt;code title=dom-img-complete&gt;&lt;a href=&quot;#complete&quot;&gt;complete&lt;/a&gt;&lt;/code&gt;
+   starts returning true). If the download fails or it completes but the
+   image is not a valid or supported image, the user agent must &lt;a
+   href=&quot;#firing5&quot;&gt;fire an &lt;code title=event-error&gt;error&lt;/code&gt; event&lt;/a&gt; on
+   the &lt;code&gt;&lt;a href=&quot;#img&quot;&gt;img&lt;/a&gt;&lt;/code&gt; element.
 
   &lt;p&gt;The remote server's response metadata (e.g. an HTTP 404 status code, or
    &lt;a href=&quot;#content-type8&quot; title=Content-Type&gt;associated Content-Type
@@ -12645,6 +12646,10 @@
    title=attr-img-src&gt;&lt;a href=&quot;#src&quot;&gt;src&lt;/a&gt;&lt;/code&gt; attribute, and it is a
    valid image, and false otherwise.
 
+  &lt;p class=note&gt;The value of &lt;code title=dom-img-complete&gt;&lt;a
+   href=&quot;#complete&quot;&gt;complete&lt;/a&gt;&lt;/code&gt; can change while a script is
+   executing.
+
   &lt;h4 id=the-iframe&gt;&lt;span class=secno&gt;3.14.3. &lt;/span&gt;The &lt;dfn
    id=iframe&gt;&lt;code&gt;iframe&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
@@ -15873,8 +15878,8 @@
    &lt;dd&gt;
     &lt;pre
      class=idl&gt;interface &lt;dfn id=htmlcanvaselement&gt;HTMLCanvasElement&lt;/dfn&gt; : &lt;a href=&quot;#htmlelement&quot;&gt;HTMLElement&lt;/a&gt; {
-         attribute unsigned long &lt;a href=&quot;#width1&quot; title=dom-canvas-width&gt;width&lt;/a&gt;;
-         attribute unsigned long &lt;a href=&quot;#height1&quot; title=dom-canvas-height&gt;height&lt;/a&gt;;
+           attribute unsigned long &lt;a href=&quot;#width1&quot; title=dom-canvas-width&gt;width&lt;/a&gt;;
+           attribute unsigned long &lt;a href=&quot;#height1&quot; title=dom-canvas-height&gt;height&lt;/a&gt;;
 
   DOMString &lt;a href=&quot;#todataurl&quot; title=dom-canvas-toDataURL&gt;toDataURL&lt;/a&gt;();
   DOMString &lt;a href=&quot;#todataurl0&quot; title=dom-canvas-toDataURL-type&gt;toDataURL&lt;/a&gt;(in DOMString type);
@@ -16006,6 +16011,12 @@
    containing a representation of the image as a PNG file. &lt;a
    href=&quot;#refsPNG&quot;&gt;[PNG]&lt;/a&gt;.
 
+  &lt;p&gt;If the canvas has no pixels (i.e. either its horizontal dimension or its
+   vertical dimension is zero) then the method must return the string &quot;&lt;code
+   title=&quot;&quot;&gt;data:,&lt;/code&gt;&quot;. (This is the shortest &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt;
+   URI; it represents the empty string in a &lt;code title=&quot;&quot;&gt;text/plain&lt;/code&gt;
+   resource.)
+
   &lt;p&gt;The &lt;dfn id=todataurl0
    title=dom-canvas-toDataURL-type&gt;&lt;code&gt;toDataURL(&lt;var
    title=&quot;&quot;&gt;type&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method (when called with one &lt;em&gt;or
@@ -16101,8 +16112,8 @@
            attribute DOMObject &lt;a href=&quot;#fillstyle&quot; title=dom-context-2d-fillStyle&gt;fillStyle&lt;/a&gt;; // (default black)
   &lt;a href=&quot;#canvasgradient0&quot;&gt;CanvasGradient&lt;/a&gt; &lt;a href=&quot;#createlineargradient&quot; title=dom-context-2d-createLinearGradient&gt;createLinearGradient&lt;/a&gt;(in float x0, in float y0, in float x1, in float y1);
   &lt;a href=&quot;#canvasgradient0&quot;&gt;CanvasGradient&lt;/a&gt; &lt;a href=&quot;#createradialgradient&quot; title=dom-context-2d-createRadialGradient&gt;createRadialGradient&lt;/a&gt;(in float x0, in float y0, in float r0, in float x1, in float y1, in float r1);
-  &lt;a href=&quot;#canvaspattern0&quot;&gt;CanvasPattern&lt;/a&gt; &lt;a href=&quot;#createpatternimage&quot; title=dom-context-2d-createPattern&gt;createPattern&lt;/a&gt;(in &lt;a href=&quot;#htmlimageelement&quot;&gt;HTMLImageElement&lt;/a&gt; image, in DOMString repetition);
-  &lt;a href=&quot;#canvaspattern0&quot;&gt;CanvasPattern&lt;/a&gt; &lt;a href=&quot;#createpatternimage&quot; title=dom-context-2d-createPattern&gt;createPattern&lt;/a&gt;(in &lt;a href=&quot;#htmlcanvaselement&quot;&gt;HTMLCanvasElement&lt;/a&gt; image, in DOMString repetition);
+  &lt;a href=&quot;#canvaspattern0&quot;&gt;CanvasPattern&lt;/a&gt; &lt;a href=&quot;#createpattern&quot; title=dom-context-2d-createPattern&gt;createPattern&lt;/a&gt;(in &lt;a href=&quot;#htmlimageelement&quot;&gt;HTMLImageElement&lt;/a&gt; image, in DOMString repetition);
+  &lt;a href=&quot;#canvaspattern0&quot;&gt;CanvasPattern&lt;/a&gt; &lt;a href=&quot;#createpattern&quot; title=dom-context-2d-createPattern&gt;createPattern&lt;/a&gt;(in &lt;a href=&quot;#htmlcanvaselement&quot;&gt;HTMLCanvasElement&lt;/a&gt; image, in DOMString repetition);
 
   // line caps/joins
            attribute float &lt;a href=&quot;#linewidth&quot; title=dom-context-2d-lineWidth&gt;lineWidth&lt;/a&gt;; // (default 1)
@@ -16599,6 +16610,19 @@
 
   &lt;ol&gt;
    &lt;li&gt;
+    &lt;p&gt;If &lt;span&gt;&lt;var title=&quot;&quot;&gt;x&lt;sub&gt;0&lt;/sub&gt;&lt;/var&gt;&nbsp;=&nbsp;&lt;var
+     title=&quot;&quot;&gt;x&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;/span&gt; and &lt;span&gt;&lt;var
+     title=&quot;&quot;&gt;y&lt;sub&gt;0&lt;/sub&gt;&lt;/var&gt;&nbsp;=&nbsp;&lt;var
+     title=&quot;&quot;&gt;y&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;/span&gt; and &lt;span&gt;&lt;var
+     title=&quot;&quot;&gt;r&lt;sub&gt;0&lt;/sub&gt;&lt;/var&gt;&nbsp;=&nbsp;&lt;var
+     title=&quot;&quot;&gt;r&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;/span&gt;, then the radial gradient must paint
+     nothing. Abort these steps.&lt;/p&gt;
+    &lt;!-- XXX could make this
+   paint the start colour, or the end colour, or a circle of one in
+   the other, or raise an exception --&gt;
+    
+
+   &lt;li&gt;
     &lt;p&gt;Let &lt;span&gt;x(&lt;var title=&quot;&quot;&gt;&omega;&lt;/var&gt;)&nbsp;=&nbsp;(&lt;var
      title=&quot;&quot;&gt;x&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;-&lt;var title=&quot;&quot;&gt;x&lt;sub&gt;0&lt;/sub&gt;&lt;/var&gt;)&lt;var
      title=&quot;&quot;&gt;&omega;&lt;/var&gt;&nbsp;+&nbsp;&lt;var
@@ -16636,17 +16660,6 @@
      this rendering of the gradient.
   &lt;/ol&gt;
 
-  &lt;p&gt;If &lt;span&gt;&lt;var title=&quot;&quot;&gt;x&lt;sub&gt;0&lt;/sub&gt;&lt;/var&gt;&nbsp;=&nbsp;&lt;var
-   title=&quot;&quot;&gt;x&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;/span&gt; and &lt;span&gt;&lt;var
-   title=&quot;&quot;&gt;y&lt;sub&gt;0&lt;/sub&gt;&lt;/var&gt;&nbsp;=&nbsp;&lt;var
-   title=&quot;&quot;&gt;y&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;/span&gt; and &lt;span&gt;&lt;var
-   title=&quot;&quot;&gt;r&lt;sub&gt;0&lt;/sub&gt;&lt;/var&gt;&nbsp;=&nbsp;&lt;var
-   title=&quot;&quot;&gt;r&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;/span&gt;, then the radial gradient must paint
-   nothing.&lt;/p&gt;
-  &lt;!-- XXX could make this paint the start colour,
-  or the end colour, or a circle of one in the other, or raise an
-  exception --&gt;
-
   &lt;p class=note&gt;This effectively creates a cone, touched by the two circles
    defined in the creation of the gradient, with the part of the cone before
    the start circle (0.0) using the color of the first offset, the part of
@@ -16667,15 +16680,16 @@
   &lt;p&gt;Patterns are represented by objects implementing the opaque &lt;dfn
    id=canvaspattern0&gt;&lt;code&gt;CanvasPattern&lt;/code&gt;&lt;/dfn&gt; interface.
 
-  &lt;p&gt;To create objects of this type, the &lt;dfn id=createpatternimage
-   title=dom-context-2d-createPattern&gt;&lt;code&gt;createPattern(image,
-   repetition)&lt;/code&gt;&lt;/dfn&gt; method is used. The first argument gives the
-   image to use as the pattern (either an &lt;code&gt;&lt;a
-   href=&quot;#htmlimageelement&quot;&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt; or an &lt;code&gt;&lt;a
-   href=&quot;#htmlcanvaselement&quot;&gt;HTMLCanvasElement&lt;/a&gt;&lt;/code&gt;). Modifying this
-   image after calling the &lt;code title=dom-context-2d-createPattern&gt;&lt;a
-   href=&quot;#createpatternimage&quot;&gt;createPattern()&lt;/a&gt;&lt;/code&gt; method must not
-   affect the pattern. The second argument must be a string with one of the
+  &lt;p&gt;To create objects of this type, the &lt;dfn id=createpattern
+   title=dom-context-2d-createPattern&gt;&lt;code&gt;createPattern(&lt;var
+   title=&quot;&quot;&gt;image&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;repetition&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method
+   is used. The first argument gives the image to use as the pattern (either
+   an &lt;code&gt;&lt;a href=&quot;#htmlimageelement&quot;&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt; or an
+   &lt;code&gt;&lt;a href=&quot;#htmlcanvaselement&quot;&gt;HTMLCanvasElement&lt;/a&gt;&lt;/code&gt;).
+   Modifying this image after calling the &lt;code
+   title=dom-context-2d-createPattern&gt;&lt;a
+   href=&quot;#createpattern&quot;&gt;createPattern()&lt;/a&gt;&lt;/code&gt; method must not affect
+   the pattern. The second argument must be a string with one of the
    following values: &lt;code title=&quot;&quot;&gt;repeat&lt;/code&gt;, &lt;code
    title=&quot;&quot;&gt;repeat-x&lt;/code&gt;, &lt;code title=&quot;&quot;&gt;repeat-y&lt;/code&gt;, &lt;code
    title=&quot;&quot;&gt;no-repeat&lt;/code&gt;. If the empty string or null is specified, &lt;code
@@ -16693,7 +16707,12 @@
    &lt;code&gt;TYPE_MISMATCH_ERR&lt;/code&gt; exception. If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt;
    argument is an &lt;code&gt;&lt;a
    href=&quot;#htmlimageelement&quot;&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt; object whose &lt;code
-   title=dom-attr-complete&gt;complete&lt;/code&gt; attribute is false, then the
+   title=dom-img-complete&gt;&lt;a href=&quot;#complete&quot;&gt;complete&lt;/a&gt;&lt;/code&gt; attribute
+   is false, then the implementation must raise an
+   &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception. If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt;
+   argument is an &lt;code&gt;&lt;a
+   href=&quot;#htmlcanvaselement&quot;&gt;HTMLCanvasElement&lt;/a&gt;&lt;/code&gt; object with either
+   a horizonal dimension or a vertical dimension equal to zero, then the
    implementation must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception.
 
   &lt;p&gt;Patterns must be painted so that the top left of the first image is
@@ -16702,14 +16721,14 @@
    string was specified) or vertically up and down (if the
    &lt;code&gt;repeat-y&lt;/code&gt; string was specified) or in all four directions all
    over the canvas (if the &lt;code&gt;repeat&lt;/code&gt; string was specified). The
-   images are not be scaled by this process; one CSS pixel of the image must
-   be painted on one coordinate space unit. Of course, patterns must only
+   images are not scaled by this process; one CSS pixel of the image must be
+   painted on one coordinate space unit. Of course, patterns must only
    actually painted where the stroking or filling effect requires that they
    be drawn, and are affected by the current transformation matrix.
 
   &lt;p&gt;Support for patterns is optional. If the user agent doesn't support
    patterns, then &lt;code title=dom-context-2d-createPattern&gt;&lt;a
-   href=&quot;#createpatternimage&quot;&gt;createPattern()&lt;/a&gt;&lt;/code&gt; must return null.&lt;/p&gt;
+   href=&quot;#createpattern&quot;&gt;createPattern()&lt;/a&gt;&lt;/code&gt; must return null.&lt;/p&gt;
   &lt;!--
    XXXv3 Requests for v3 features:
     * apply transforms to patterns, so you don't have to create
@@ -17253,8 +17272,9 @@
    negative, the implementation must raise an &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt;
    exception. If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an &lt;code&gt;&lt;a
    href=&quot;#htmlimageelement&quot;&gt;HTMLImageElement&lt;/a&gt;&lt;/code&gt; object whose &lt;code
-   title=dom-attr-complete&gt;complete&lt;/code&gt; attribute is false, then the
-   implementation must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception.
+   title=dom-img-complete&gt;&lt;a href=&quot;#complete&quot;&gt;complete&lt;/a&gt;&lt;/code&gt; attribute
+   is false, then the implementation must raise an
+   &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception.
 
   &lt;p&gt;When &lt;code title=dom-context-2d-drawImage&gt;&lt;a
    href=&quot;#drawimage&quot;&gt;drawImage()&lt;/a&gt;&lt;/code&gt; is invoked, the specified region
@@ -20604,7 +20624,7 @@
    &lt;dd&gt;
     &lt;pre
      class=idl&gt;interface &lt;dfn id=htmldetailselement&gt;HTMLDetailsElement&lt;/dfn&gt; : &lt;a href=&quot;#htmlelement&quot;&gt;HTMLElement&lt;/a&gt; {
-  attribute boolean &lt;a href=&quot;#open1&quot; title=dom-details-open&gt;open&lt;/a&gt;;
+           attribute boolean &lt;a href=&quot;#open1&quot; title=dom-details-open&gt;open&lt;/a&gt;;
 };&lt;/pre&gt;
   &lt;/dl&gt;
 

Modified: source
===================================================================
--- source	2008-01-31 01:16:19 UTC (rev 1176)
+++ source	2008-01-31 02:02:12 UTC (rev 1177)
@@ -10500,10 +10500,12 @@
   &lt;p&gt;Once the download has completed, if the image is a valid image,
   the user agent must &lt;span&gt;fire a &lt;code
   title=&quot;event-load&quot;&gt;load&lt;/code&gt; event&lt;/span&gt; on the &lt;code&gt;img&lt;/code&gt;
-  element. If the download fails or it completes but the image is not
-  a valid or supported image, the user agent must &lt;span&gt;fire an &lt;code
-  title=&quot;event-error&quot;&gt;error&lt;/code&gt; event&lt;/span&gt; on the &lt;code&gt;img&lt;/code&gt;
-  element.&lt;/p&gt;
+  element (this happens after &lt;code
+  title=&quot;dom-img-complete&quot;&gt;complete&lt;/code&gt; starts returning true). If
+  the download fails or it completes but the image is not a valid or
+  supported image, the user agent must &lt;span&gt;fire an &lt;code
+  title=&quot;event-error&quot;&gt;error&lt;/code&gt; event&lt;/span&gt; on the
+  &lt;code&gt;img&lt;/code&gt; element.&lt;/p&gt;
 
   &lt;p&gt;The remote server's response metadata (e.g. an HTTP 404 status
   code, or &lt;span title=&quot;Content-Type&quot;&gt;associated Content-Type
@@ -10561,7 +10563,11 @@
   &lt;code title=&quot;attr-img-src&quot;&gt;src&lt;/code&gt; attribute, and it is a valid
   image, and false otherwise.&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;The value of &lt;code
+  title=&quot;dom-img-complete&quot;&gt;complete&lt;/code&gt; can change while a script
+  is executing.&lt;/p&gt;
 
+
   &lt;h4&gt;The &lt;dfn&gt;&lt;code&gt;iframe&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
 
   &lt;dl class=&quot;element&quot;&gt;
@@ -13428,8 +13434,8 @@
    &lt;dt&gt;DOM interface:&lt;/dt&gt;
    &lt;dd&gt;
     &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLCanvasElement&lt;/dfn&gt; : &lt;span&gt;HTMLElement&lt;/span&gt; {
-         attribute unsigned long &lt;span title=&quot;dom-canvas-width&quot;&gt;width&lt;/span&gt;;
-         attribute unsigned long &lt;span title=&quot;dom-canvas-height&quot;&gt;height&lt;/span&gt;;
+           attribute unsigned long &lt;span title=&quot;dom-canvas-width&quot;&gt;width&lt;/span&gt;;
+           attribute unsigned long &lt;span title=&quot;dom-canvas-height&quot;&gt;height&lt;/span&gt;;
 
   DOMString &lt;span title=&quot;dom-canvas-toDataURL&quot;&gt;toDataURL&lt;/span&gt;();
   DOMString &lt;span title=&quot;dom-canvas-toDataURL-type&quot;&gt;toDataURL&lt;/span&gt;(in DOMString type);
@@ -13560,6 +13566,12 @@
   title=&quot;&quot;&gt;data:&lt;/code&gt; URI containing a representation of the image
   as a PNG file. &lt;a href=&quot;#refsPNG&quot;&gt;[PNG]&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;p&gt;If the canvas has no pixels (i.e. either its horizontal dimension
+  or its vertical dimension is zero) then the method must return the
+  string &quot;&lt;code title=&quot;&quot;&gt;data:,&lt;/code&gt;&quot;. (This is the shortest &lt;code
+  title=&quot;&quot;&gt;data:&lt;/code&gt; URI; it represents the empty string in a &lt;code
+  title=&quot;&quot;&gt;text/plain&lt;/code&gt; resource.)&lt;/p&gt;
+
   &lt;p&gt;The &lt;dfn title=&quot;dom-canvas-toDataURL-type&quot;&gt;&lt;code&gt;toDataURL(&lt;var
   title=&quot;&quot;&gt;type&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method (when called with one
   &lt;em&gt;or more&lt;/em&gt; arguments) must return a &lt;code&gt;data:&lt;/code&gt; URI
@@ -14141,6 +14153,16 @@
 
   &lt;ol&gt;
 
+   &lt;li&gt;&lt;p&gt;If &lt;span&gt;&lt;var title=&quot;&quot;&gt;x&lt;sub&gt;0&lt;/sub&gt;&lt;/var&gt;&nbsp;=&nbsp;&lt;var
+   title=&quot;&quot;&gt;x&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;/span&gt; and &lt;span&gt;&lt;var
+   title=&quot;&quot;&gt;y&lt;sub&gt;0&lt;/sub&gt;&lt;/var&gt;&nbsp;=&nbsp;&lt;var
+   title=&quot;&quot;&gt;y&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;/span&gt; and &lt;span&gt;&lt;var
+   title=&quot;&quot;&gt;r&lt;sub&gt;0&lt;/sub&gt;&lt;/var&gt;&nbsp;=&nbsp;&lt;var
+   title=&quot;&quot;&gt;r&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;/span&gt;, then the radial gradient must
+   paint nothing. Abort these steps.&lt;/p&gt; &lt;!-- XXX could make this
+   paint the start colour, or the end colour, or a circle of one in
+   the other, or raise an exception --&gt; &lt;/li&gt;
+
    &lt;li&gt;
 
     &lt;p&gt;Let &lt;span&gt;x(&lt;var title=&quot;&quot;&gt;&omega;&lt;/var&gt;)&nbsp;=&nbsp;(&lt;var
@@ -14186,16 +14208,6 @@
 
   &lt;/ol&gt;
 
-  &lt;p&gt;If &lt;span&gt;&lt;var title=&quot;&quot;&gt;x&lt;sub&gt;0&lt;/sub&gt;&lt;/var&gt;&nbsp;=&nbsp;&lt;var
-  title=&quot;&quot;&gt;x&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;/span&gt; and &lt;span&gt;&lt;var
-  title=&quot;&quot;&gt;y&lt;sub&gt;0&lt;/sub&gt;&lt;/var&gt;&nbsp;=&nbsp;&lt;var
-  title=&quot;&quot;&gt;y&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;/span&gt; and &lt;span&gt;&lt;var
-  title=&quot;&quot;&gt;r&lt;sub&gt;0&lt;/sub&gt;&lt;/var&gt;&nbsp;=&nbsp;&lt;var
-  title=&quot;&quot;&gt;r&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;/span&gt;, then the radial gradient must
-  paint nothing.&lt;/p&gt; &lt;!-- XXX could make this paint the start colour,
-  or the end colour, or a circle of one in the other, or raise an
-  exception --&gt;
-
   &lt;p class=&quot;note&quot;&gt;This effectively creates a cone, touched by the two
   circles defined in the creation of the gradient, with the part of
   the cone before the start circle (0.0) using the color of the first
@@ -14218,11 +14230,12 @@
   &lt;dfn&gt;&lt;code&gt;CanvasPattern&lt;/code&gt;&lt;/dfn&gt; interface.&lt;/p&gt;
 
   &lt;p&gt;To create objects of this type, the &lt;dfn
-  title=&quot;dom-context-2d-createPattern&quot;&gt;&lt;code&gt;createPattern(image,
-  repetition)&lt;/code&gt;&lt;/dfn&gt; method is used. The first argument gives
-  the image to use as the pattern (either an
-  &lt;code&gt;HTMLImageElement&lt;/code&gt; or an &lt;code&gt;HTMLCanvasElement&lt;/code&gt;).
-  Modifying this image after calling the &lt;code
+  title=&quot;dom-context-2d-createPattern&quot;&gt;&lt;code&gt;createPattern(&lt;var
+  title=&quot;&quot;&gt;image&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;repetition&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt;
+  method is used. The first argument gives the image to use as the
+  pattern (either an &lt;code&gt;HTMLImageElement&lt;/code&gt; or an
+  &lt;code&gt;HTMLCanvasElement&lt;/code&gt;).  Modifying this image after calling
+  the &lt;code
   title=&quot;dom-context-2d-createPattern&quot;&gt;createPattern()&lt;/code&gt; method
   must not affect the pattern. The second argument must be a string
   with one of the following values: &lt;code title=&quot;&quot;&gt;repeat&lt;/code&gt;,
@@ -14241,8 +14254,12 @@
   implementation must raise a &lt;code&gt;TYPE_MISMATCH_ERR&lt;/code&gt;
   exception. If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
   &lt;code&gt;HTMLImageElement&lt;/code&gt; object whose &lt;code
-  title=&quot;dom-attr-complete&quot;&gt;complete&lt;/code&gt; attribute is false, then
+  title=&quot;dom-img-complete&quot;&gt;complete&lt;/code&gt; attribute is false, then
   the implementation must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt;
+  exception. If the &lt;var title=&quot;&quot;&gt;image&lt;/var&gt; argument is an
+  &lt;code&gt;HTMLCanvasElement&lt;/code&gt; object with either a horizonal
+  dimension or a vertical dimension equal to zero, then the
+  implementation must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt;
   exception.&lt;/p&gt;
 
   &lt;p&gt;Patterns must be painted so that the top left of the first image
@@ -14251,7 +14268,7 @@
   &lt;code&gt;repeat-x&lt;/code&gt; string was specified) or vertically up and
   down (if the &lt;code&gt;repeat-y&lt;/code&gt; string was specified) or in all
   four directions all over the canvas (if the &lt;code&gt;repeat&lt;/code&gt;
-  string was specified). The images are not be scaled by this process;
+  string was specified). The images are not scaled by this process;
   one CSS pixel of the image must be painted on one coordinate space
   unit. Of course, patterns must only actually painted where the
   stroking or filling effect requires that they be drawn, and are
@@ -14841,7 +14858,7 @@
   arguments is negative, the implementation must raise an
   &lt;code&gt;INDEX_SIZE_ERR&lt;/code&gt; exception. If the &lt;var
   title=&quot;&quot;&gt;image&lt;/var&gt; argument is an &lt;code&gt;HTMLImageElement&lt;/code&gt;
-  object whose &lt;code title=&quot;dom-attr-complete&quot;&gt;complete&lt;/code&gt;
+  object whose &lt;code title=&quot;dom-img-complete&quot;&gt;complete&lt;/code&gt;
   attribute is false, then the implementation must raise an
   &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception.&lt;/p&gt;
 
@@ -18215,7 +18232,7 @@
    &lt;dt&gt;DOM interface:&lt;/dt&gt;
    &lt;dd&gt;
 &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;HTMLDetailsElement&lt;/dfn&gt; : &lt;span&gt;HTMLElement&lt;/span&gt; {
-  attribute boolean &lt;span title=&quot;dom-details-open&quot;&gt;open&lt;/span&gt;;
+           attribute boolean &lt;span title=&quot;dom-details-open&quot;&gt;open&lt;/span&gt;;
 };&lt;/pre&gt;
    &lt;/dd&gt;
   &lt;/dl&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008084.html">[html5] r1176 - /
</A></li>
	<LI>Next message: <A HREF="008086.html">[html5] r1178 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8085">[ date ]</a>
              <a href="thread.html#8085">[ thread ]</a>
              <a href="subject.html#8085">[ subject ]</a>
              <a href="author.html#8085">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
