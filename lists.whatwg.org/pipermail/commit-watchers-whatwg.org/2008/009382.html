<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2499 - [] (0) Always put javascript: into the online	whitelist. Make some comments abou [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2499%20-%20%5B%5D%20%280%29%20Always%20put%20javascript%3A%20into%20the%20online%0A%09whitelist.%20Make%20some%20comments%20abou%20%5B...%5D&In-Reply-To=%3C20081201235215.E2224141AE3%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009381.html">
   <LINK REL="Next"  HREF="009383.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2499 - [] (0) Always put javascript: into the online	whitelist. Make some comments abou [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2499%20-%20%5B%5D%20%280%29%20Always%20put%20javascript%3A%20into%20the%20online%0A%09whitelist.%20Make%20some%20comments%20abou%20%5B...%5D&In-Reply-To=%3C20081201235215.E2224141AE3%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2499 - [] (0) Always put javascript: into the online	whitelist. Make some comments abou [...]">whatwg at whatwg.org
       </A><BR>
    <I>Mon Dec  1 15:52:15 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009381.html">[html5] r2498 - [gow] (2) New plan. Introduce a 'playing' event for	when the playback actually b [...]
</A></li>
        <LI>Next message: <A HREF="009383.html">[html5] r2500 - [ct] (0) Support &lt;script&gt; in	&lt;select&gt;/&lt;optgroup&gt;/&lt;option&gt;.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9382">[ date ]</a>
              <a href="thread.html#9382">[ thread ]</a>
              <a href="subject.html#9382">[ subject ]</a>
              <a href="author.html#9382">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-12-01 15:52:15 -0800 (Mon, 01 Dec 2008)
New Revision: 2499

Modified:
   index
   source
Log:
[] (0) Always put javascript: into the online whitelist. Make some comments about HTML and HTTPS security. Vaguely define 'or equivalent' for HTTP concepts.

Modified: index
===================================================================
--- index	2008-12-01 12:31:21 UTC (rev 2498)
+++ index	2008-12-01 23:52:15 UTC (rev 2499)
@@ -247,7 +247,10 @@
      &lt;li&gt;&lt;a href=#resolving-urls&gt;&lt;span class=secno&gt;2.5.3 &lt;/span&gt;Resolving URLs&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#dynamic-changes-to-base-urls&gt;&lt;span class=secno&gt;2.5.4 &lt;/span&gt;Dynamic changes to base URLs&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#interfaces-for-url-manipulation&gt;&lt;span class=secno&gt;2.5.5 &lt;/span&gt;Interfaces for URL manipulation&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#fetching-resources&gt;&lt;span class=secno&gt;2.6 &lt;/span&gt;Fetching resources&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#fetching-resources&gt;&lt;span class=secno&gt;2.6 &lt;/span&gt;Fetching resources&lt;/a&gt;
+    &lt;ol&gt;
+     &lt;li&gt;&lt;a href=#concept-http-equivalent&gt;&lt;span class=secno&gt;2.6.1 &lt;/span&gt;Protocol concepts&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#encrypted-http-and-related-security-concerns&gt;&lt;span class=secno&gt;2.6.2 &lt;/span&gt;Encrypted HTTP and related security concerns&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#content-type-sniffing&gt;&lt;span class=secno&gt;2.7 &lt;/span&gt;Determining the type of a resource&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#content-type&gt;&lt;span class=secno&gt;2.7.1 &lt;/span&gt;Content-Type metadata&lt;/a&gt;&lt;/li&gt;
@@ -507,7 +510,7 @@
        &lt;li&gt;&lt;a href=#states-of-the-type-attribute&gt;&lt;span class=secno&gt;4.10.4.1 &lt;/span&gt;States of the &lt;code title=attr-input-type&gt;type&lt;/code&gt; attribute&lt;/a&gt;
         &lt;ol&gt;
          &lt;li&gt;&lt;a href=#hidden-state&gt;&lt;span class=secno&gt;4.10.4.1.1 &lt;/span&gt;Hidden state&lt;/a&gt;&lt;/li&gt;
-         &lt;li&gt;&lt;a href=#text-state-and-search-state&gt;&lt;span class=secno&gt;4.10.4.1.2 &lt;/span&gt;Text state and &lt;/a&gt;&lt;/li&gt;
+         &lt;li&gt;&lt;a href=#text-state-and-search-state&gt;&lt;span class=secno&gt;4.10.4.1.2 &lt;/span&gt;Text state and Search state&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=#url-state&gt;&lt;span class=secno&gt;4.10.4.1.3 &lt;/span&gt;URL state&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=#e-mail-state&gt;&lt;span class=secno&gt;4.10.4.1.4 &lt;/span&gt;E-mail state&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=#password-state&gt;&lt;span class=secno&gt;4.10.4.1.5 &lt;/span&gt;Password state&lt;/a&gt;&lt;/li&gt;
@@ -4330,11 +4333,12 @@
     &lt;p&gt;If the resource identified by the resulting &lt;a href=#absolute-url&gt;absolute
     URL&lt;/a&gt; is already being downloaded for other reasons
     (e.g. another invocation of this algorithm), and the resource is
-    to be obtained using a idempotent action (such as an HTTP GET or
-    equivalent), and the user agent is configured such that it is to
-    reuse the data from the existing download instead of initiating a
-    new one, then use the results of the existing download instead of
-    starting a new one.&lt;/p&gt;
+    to be obtained using a idempotent action (such as an HTTP GET
+    &lt;a href=#concept-http-equivalent-get title=concept-http-equivalent-get&gt;or equivalent&lt;/a&gt;),
+    and the user agent is configured such that it is to reuse the data
+    from the existing download instead of initiating a new one, then
+    use the results of the existing download instead of starting a new
+    one.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, at a time convenient to the user and the user agent,
     download the resource, applying the semantics of the relevant
@@ -4369,7 +4373,69 @@
   applicable.&lt;/p&gt;
 
 
+  &lt;h4 id=concept-http-equivalent&gt;&lt;span class=secno&gt;2.6.1 &lt;/span&gt;Protocol concepts&lt;/h4&gt;
 
+  &lt;p&gt;User agents can implement a variety of transfer protocols, but
+  this specification mostly defines behavior in terms of HTTP. &lt;a href=#refsHTTP&gt;[HTTP]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=concept-http-equivalent-get title=concept-http-equivalent-get&gt;HTTP GET
+  method&lt;/dfn&gt; is equivalent to the default retrieval action of the
+  protocol. For example, RETR in FTP. Such actions are idempotent and
+  safe, in HTTP terms.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;HTTP response
+  codes&lt;/dfn&gt; are equivalent to statuses in other protocols that have
+  the same basic meanings. For example, a &quot;file not found&quot; error is
+  equivalent to a 404 code, a server error is equivalent to a 5xx
+  code, and so on.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=concept-http-equivalent-headers title=concept-http-equivalent-headers&gt;HTTP
+  headers&lt;/dfn&gt; are equivalent to fields in other protocols that have
+  the same basic meaning. For example, the the HTTP authentication
+  headers are equivalent to the authentication aspects of the FTP
+  protocol.&lt;/p&gt;
+
+  &lt;p class=XXX&gt;If there are any specific questions with what should
+  be considered equivalent to what, let me know, and I'll make it more
+  explicit for those cases.&lt;/p&gt;
+
+
+  &lt;h4 id=encrypted-http-and-related-security-concerns&gt;&lt;span class=secno&gt;2.6.2 &lt;/span&gt;Encrypted HTTP and related security concerns&lt;/h4&gt;
+
+  &lt;p&gt;Anything in this specification that refers to HTTP also applies
+  to HTTP-over-TLS, as represented by &lt;a href=#url title=url&gt;URLs&lt;/a&gt;
+  representing the &lt;code title=&quot;&quot;&gt;https&lt;/code&gt; scheme.&lt;/p&gt;
+
+  &lt;p class=warning&gt;User agents should report certificate errors to
+  the user and must either refuse to download resources sent with
+  erroneous certificates or must act as if such resources were in fact
+  served with no encryption.&lt;/p&gt;
+
+  &lt;p&gt;Not doing so can result in users not noticing man-in-the-middle
+  attacks.&lt;/p&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;If a user connects to a server with a self-signed certificate,
+   the user agent could allow the connection but just act as if there
+   had been no encryption. If the user agent instead allowed the user
+   to override the problem and then displayed the page as if it was
+   fully and safely encrypted, the user could be easily tricked into
+   accepting man-in-the-middle connections.&lt;/p&gt;
+
+   &lt;p&gt;If a user connects to a server with full encryption, but the
+   page then refers to an external resource that has an expired
+   certificate, then the user agent will act as if the resource was
+   unavailable, possibly also reporting the problem to the user. If
+   the user agent instead allowed the resource to be used, then an
+   attacker could just look for &quot;secure&quot; sites that used resources
+   from a different host and only apply man-in-the-middle attacks to
+   that host, for example taking over scripts in the page.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+
+
   &lt;h3 id=content-type-sniffing&gt;&lt;span class=secno&gt;2.7 &lt;/span&gt;Determining the type of a resource&lt;/h3&gt;
 
   &lt;p class=warning&gt;It is imperative that the rules in this section
@@ -14296,8 +14362,9 @@
   the presentation of the image appropriately.&lt;/p&gt;
 
   &lt;p&gt;Whether the image is fetched successfully or not (e.g. whether
-  the response code was a 2xx code or equivalent) must be ignored when
-  determining the image's type and whether it is a valid image.&lt;/p&gt;
+  the response code was a 2xx code &lt;a href=#concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;or equivalent&lt;/a&gt;) must be
+  ignored when determining the image's type and whether it is a valid
+  image.&lt;/p&gt;
 
   &lt;p class=note&gt;This allows servers to return images with error
   responses, and have them displayed.&lt;/p&gt;
@@ -15954,9 +16021,9 @@
    &lt;!-- This algorithm is a monument to bad design. Go legacy! --&gt;
 
   &lt;/ol&gt;&lt;p&gt;Whether the resource is fetched successfully or not (e.g. whether
-  the response code was a 2xx code or equivalent) must be ignored when
-  determining the resource's type and when handing the resource to the
-  plugin.&lt;/p&gt;
+  the response code was a 2xx code &lt;a href=#concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;or equivalent&lt;/a&gt;) must be
+  ignored when determining the resource's type and when handing the
+  resource to the plugin.&lt;/p&gt;
 
   &lt;p class=note&gt;This allows servers to return data for plugins even
   with error responses (e.g. HTTP 500 Internal Server Error codes can
@@ -32869,8 +32936,8 @@
 
 
      &lt;dt&gt;If a script is a &lt;a href=#javascript-protocol title=&quot;javascript protocol&quot;&gt;&lt;code title=&quot;&quot;&gt;javascript:&lt;/code&gt; URL&lt;/a&gt; that was returned as the
-     location of an HTTP redirect (or equivalent in other
-     protocols)&lt;/dt&gt;
+     location of an HTTP redirect (&lt;a href=#concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;or equivalent&lt;/a&gt; in
+     other protocols)&lt;/dt&gt;
 
      &lt;dd&gt;The owner is the &lt;a href=#url&gt;URL&lt;/a&gt; that redirected to the
      &lt;a href=#javascript-protocol title=&quot;javascript protocol&quot;&gt;&lt;code title=&quot;&quot;&gt;javascript:&lt;/code&gt; URL&lt;/a&gt;.&lt;/dd&gt;
@@ -32965,7 +33032,8 @@
 
      &lt;dt&gt;If a &lt;code&gt;Document&lt;/code&gt; or image was generated from a
      &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URL that was returned as the location
-     of an HTTP redirect (or equivalent in other protocols)&lt;/dt&gt;
+     of an HTTP redirect (&lt;a href=#concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;or equivalent&lt;/a&gt; in
+     other protocols)&lt;/dt&gt;
 
      &lt;dd&gt;The &lt;a href=#origin-0&gt;origin&lt;/a&gt; is the &lt;a href=#origin-0&gt;origin&lt;/a&gt; of the
      &lt;a href=#url&gt;URL&lt;/a&gt; that redirected to the &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URL.&lt;/dd&gt;
@@ -34561,7 +34629,8 @@
     invoked the &lt;code title=dom-navigator-registerContentHandler&gt;&lt;a href=#dom-navigator-registercontenthandler&gt;registerContentHandler()&lt;/a&gt;&lt;/code&gt;
     or &lt;code title=dom-navigator-registerProtocolHandler&gt;&lt;a href=#dom-navigator-registerprotocolhandler&gt;registerProtocolHandler()&lt;/a&gt;&lt;/code&gt;
     method), and then &lt;a href=#fetch&gt;fetch&lt;/a&gt; the resulting URL using the
-    GET method (or equivalent for non-HTTP URLs).&lt;/p&gt;
+    GET method (&lt;a href=#concept-http-equivalent-get title=concept-http-equivalent-get&gt;or
+    equivalent&lt;/a&gt; for non-HTTP URLs).&lt;/p&gt;
 
     &lt;p&gt;To get the escaped version of the URL of the content in
     question, the user agent must &lt;a href=#resolve-a-url title=&quot;resolve a
@@ -35422,16 +35491,17 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If the previous step fails due to a 404 or 410 response or
-    equivalent, then run the &lt;a href=#cache-removal-steps&gt;cache removal steps&lt;/a&gt;&lt;/p&gt;
+    &lt;p&gt;If the previous step fails due to a 404 or 410 response &lt;a href=#concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;or equivalent&lt;/a&gt;, then
+    run the &lt;a href=#cache-removal-steps&gt;cache removal steps&lt;/a&gt;&lt;/p&gt;
 
     &lt;p&gt;If the previous step fails in some other way (e.g. the server
-    returns another 4xx or 5xx response or equivalent, or there is a
-    DNS error, or the connection times out, or the user cancels the
-    download, or the parser for manifests fails when checking the
-    magic signature), or if the server returned a redirect, or if the
-    resource is labeled with a MIME type other than &lt;code title=&quot;&quot;&gt;text/cache-manifest&lt;/code&gt;, then run the &lt;a href=#cache-failure-steps&gt;cache
-    failure steps&lt;/a&gt;.&lt;/p&gt;
+    returns another 4xx or 5xx response &lt;a href=#concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;or equivalent&lt;/a&gt;, or
+    there is a DNS error, or the connection times out, or the user
+    cancels the download, or the parser for manifests fails when
+    checking the magic signature), or if the server returned a
+    redirect, or if the resource is labeled with a MIME type other
+    than &lt;code title=&quot;&quot;&gt;text/cache-manifest&lt;/code&gt;, then run the
+    &lt;a href=#cache-failure-steps&gt;cache failure steps&lt;/a&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -35440,7 +35510,8 @@
     &lt;p&gt;If this is an &lt;a href=#concept-appcache-upgrade title=concept-appcache-upgrade&gt;upgrade
     attempt&lt;/a&gt; and the newly downloaded &lt;var title=&quot;&quot;&gt;manifest&lt;/var&gt; is byte-for-byte identical to the manifest
     found in &lt;var title=&quot;&quot;&gt;cache&lt;/var&gt;, or if the server reported it
-    as &quot;304 Not Modified&quot; or equivalent, then run these substeps:&lt;/p&gt;
+    as &quot;304 Not Modified&quot; &lt;a href=#concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;or equivalent&lt;/a&gt;, then
+    run these substeps:&lt;/p&gt;
 
     &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; called &lt;code title=event-noupdate&gt;noupdate&lt;/code&gt; at the
      &lt;code&gt;&lt;a href=#applicationcache&gt;ApplicationCache&lt;/a&gt;&lt;/code&gt; singleton of each &lt;a href=#browsing-context&gt;browsing
@@ -35453,9 +35524,9 @@
      &lt;li&gt;&lt;p&gt;If there are any pending downloads of &lt;a href=#concept-appcache-master title=concept-appcache-master&gt;master entries&lt;/a&gt; that are
      being stored in the cache, then wait for all of them to have
      completed. If any of these downloads fail (e.g. the server
-     returns a 4xx or 5xx response or equivalent, or there is a DNS
-     error, or the connection times out, or the user cancels the
-     download), then run the &lt;a href=#cache-failure-steps&gt;cache failure
+     returns a 4xx or 5xx response &lt;a href=#concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;or equivalent&lt;/a&gt;, or
+     there is a DNS error, or the connection times out, or the user
+     cancels the download), then run the &lt;a href=#cache-failure-steps&gt;cache failure
      steps&lt;/a&gt;.&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Let the &lt;a href=#concept-appcache-status title=concept-appcache-status&gt;status&lt;/a&gt; of the group of
@@ -35562,10 +35633,11 @@
      &lt;li&gt;
 
       &lt;p&gt;If the previous step fails (e.g. the server returns a 4xx or
-      5xx response or equivalent, or there is a DNS error, or the
-      connection times out, or the user cancels the download), or if
-      the server returned a redirect, then run the first appropriate
-      step from the following list:&lt;/p&gt;
+      5xx response &lt;a href=#concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;or
+      equivalent&lt;/a&gt;, or there is a DNS error, or the connection
+      times out, or the user cancels the download), or if the server
+      returned a redirect, then run the first appropriate step from
+      the following list:&lt;/p&gt;
 
       &lt;dl class=switch&gt;&lt;dt&gt;If the URL being processed was flagged as an &quot;explicit
        entry&quot; or a &quot;fallback entry&quot;&lt;/dt&gt;
@@ -35584,8 +35656,7 @@
 
        &lt;/dd&gt;
 
-       &lt;dt&gt;If the error was a 404 or 410 HTTP response or
-       equivalent&lt;/dt&gt;
+       &lt;dt&gt;If the error was a 404 or 410 HTTP response &lt;a href=#concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;or equivalent&lt;/a&gt;&lt;/dt&gt;
 
        &lt;dd&gt;
 
@@ -35880,8 +35951,7 @@
 
 
    &lt;dt&gt;If the resource being loaded was not loaded from an application
-   cache, but it was loaded using HTTP GET or equivalent&lt;/dt&gt;
-   &lt;dd&gt;
+   cache, but it was loaded using HTTP GET &lt;a href=#concept-http-equivalent-get title=concept-http-equivalent-get&gt;or equivalent&lt;/a&gt;&lt;/dt&gt; &lt;dd&gt;
 
     &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the manifest URL does not have the &lt;a href=#same-origin&gt;same
      origin&lt;/a&gt; as the resource's own URL, then invoke the &lt;a href=#concept-appcache-init-no-attribute title=concept-appcache-init-no-attribute&gt;application cache
@@ -35924,8 +35994,11 @@
   mechanisms appropriate to that resource's scheme:&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the resource is not to be fetched using the HTTP GET
-   mechanism or equivalent, then &lt;a href=#fetch&gt;fetch&lt;/a&gt; the resource
-   normally and abort these steps.&lt;/li&gt;
+   mechanism &lt;a href=#concept-http-equivalent-get title=concept-http-equivalent-get&gt;or
+   equivalent&lt;/a&gt;, or if it has a &lt;a href=#javascript-protocol title=&quot;javascript
+   protocol&quot;&gt;&lt;code title=&quot;&quot;&gt;javascript:&lt;/code&gt; URL&lt;/a&gt;, then
+   &lt;a href=#fetch&gt;fetch&lt;/a&gt; the resource normally and abort these
+   steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the resource's URL is &lt;a href=#concept-appcache-master title=concept-appcache-master&gt;an master entry&lt;/a&gt;, &lt;a href=#concept-appcache-manifest title=concept-appcache-manifest&gt;the manifest&lt;/a&gt;, &lt;a href=#concept-appcache-explicit title=concept-appcache-explicit&gt;an explicit entry&lt;/a&gt;, &lt;a href=#concept-appcache-fallback title=concept-appcache-fallback&gt;a fallback entry&lt;/a&gt;, or a
    &lt;a href=#concept-appcache-dynamic title=concept-appcache-dynamic&gt;dynamic entry&lt;/a&gt; in the
@@ -35941,12 +36014,12 @@
 
     &lt;p&gt;&lt;a href=#fetch&gt;Fetch&lt;/a&gt; the resource normally. If this results in a
     redirect to a resource with another &lt;a href=#origin-0&gt;origin&lt;/a&gt;
-    (indicative of a captive portal), or a 4xx or 5xx status code or
-    equivalent, or if there were network errors (but not if the user
-    canceled the download), then instead get, from the cache, the
-    resource of the &lt;a href=#concept-appcache-fallback title=concept-appcache-fallback&gt;fallback
-    entry&lt;/a&gt; corresponding to the matched namespace. Abort these
-    steps.&lt;/p&gt;
+    (indicative of a captive portal), or a 4xx or 5xx status code
+    &lt;a href=#concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;or equivalent&lt;/a&gt;,
+    or if there were network errors (but not if the user canceled the
+    download), then instead get, from the cache, the resource of the
+    &lt;a href=#concept-appcache-fallback title=concept-appcache-fallback&gt;fallback entry&lt;/a&gt;
+    corresponding to the matched namespace. Abort these steps.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -36131,8 +36204,9 @@
    &lt;li&gt;&lt;p&gt;&lt;a href=#fetch&gt;Fetch&lt;/a&gt; the resource referenced by &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If this results in a redirect, or a 4xx or 5xx status code
-   or equivalent, or if there were network errors, or if the user
-   canceled the download, then abort these steps.&lt;/li&gt;
+   &lt;a href=#concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;or equivalent&lt;/a&gt;,
+   or if there were network errors, or if the user canceled the
+   download, then abort these steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Add the fetched resource to the &lt;a href=#application-cache&gt;application
    cache&lt;/a&gt; and categorize it as a &lt;a href=#concept-appcache-dynamic title=concept-appcache-dynamic&gt;dynamic entry&lt;/a&gt;.&lt;/li&gt;
@@ -36770,8 +36844,9 @@
    &lt;a href=#active-document&gt;active document&lt;/a&gt; of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;
    being navigated, ignoring any &lt;a href=#url-fragment title=url-fragment&gt;&lt;fragment&gt;&lt;/a&gt; components of those
    &lt;a href=#url title=URL&gt;URLs&lt;/a&gt;, and the new resource is to be
-   fetched using HTTP GET or equivalent, then &lt;a href=#scroll-to-fragid title=navigate-fragid&gt;navigate to that fragment identifier&lt;/a&gt;
-   and abort these steps.&lt;/li&gt;
+   fetched using HTTP GET &lt;a href=#concept-http-equivalent-get title=concept-http-equivalent-get&gt;or
+   equivalent&lt;/a&gt;, then &lt;a href=#scroll-to-fragid title=navigate-fragid&gt;navigate to
+   that fragment identifier&lt;/a&gt; and abort these steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the new resource is to be handled by displaying some sort
    of inline content, e.g. an error message because the specified
@@ -36788,12 +36863,12 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If the new resource is to be fetched using HTTP GET or
-    equivalent, then check if there are any &lt;a href=#relevant-application-cache title=&quot;relevant
-    application cache&quot;&gt;relevant application caches&lt;/a&gt; that are
-    identified by a URL with the &lt;a href=#same-origin&gt;same origin&lt;/a&gt; as the URL
-    in question, and that have this URL as one of their entries,
-    excluding entries marked as &lt;a href=#concept-appcache-foreign title=concept-appcache-foreign&gt;foreign&lt;/a&gt;. If so, then the
+    &lt;p&gt;If the new resource is to be fetched using HTTP GET &lt;a href=#concept-http-equivalent-get title=concept-http-equivalent-get&gt;or equivalent&lt;/a&gt;, then
+    check if there are any &lt;a href=#relevant-application-cache title=&quot;relevant application
+    cache&quot;&gt;relevant application caches&lt;/a&gt; that are identified by a
+    URL with the &lt;a href=#same-origin&gt;same origin&lt;/a&gt; as the URL in question, and
+    that have this URL as one of their entries, excluding entries
+    marked as &lt;a href=#concept-appcache-foreign title=concept-appcache-foreign&gt;foreign&lt;/a&gt;. If so, then the
     user agent must then get the resource from the &lt;a href=#concept-appcache-selection title=concept-appcache-selection&gt;most appropriate application
     cache&lt;/a&gt; of those that match.&lt;/p&gt;
 
@@ -36835,17 +36910,18 @@
    &lt;li&gt;
 
     &lt;p&gt;If the resource was not fetched from an &lt;a href=#application-cache&gt;application
-    cache&lt;/a&gt;, and was to be fetched using HTTP GET or equivalent,
-    and its URL &lt;a href=#concept-appcache-matches-fallback title=concept-appcache-matches-fallback&gt;matches the fallback
-    namespace&lt;/a&gt; of one or more &lt;a href=#relevant-application-cache title=&quot;relevant application
-    cache&quot;&gt;relevant application caches&lt;/a&gt;, and the user didn't
-    cancel the navigation attempt during the previous step, and the
-    navigation attempt failed (e.g. the server returned a 4xx or 5xx
-    status code or equivalent, or there was a DNS error), then:&lt;/p&gt;
-    &lt;!-- note that a redirect can never reach this point as it is
-    handled earlier, meaning that a captive portal captures URLs in
-    fallback namespaces and you can't ever get to the fallback file of
-    a resource if you have a captive portal --&gt;
+    cache&lt;/a&gt;, and was to be fetched using HTTP GET &lt;a href=#concept-http-equivalent-get title=concept-http-equivalent-get&gt;or equivalent&lt;/a&gt;, and its
+    URL &lt;a href=#concept-appcache-matches-fallback title=concept-appcache-matches-fallback&gt;matches the
+    fallback namespace&lt;/a&gt; of one or more &lt;a href=#relevant-application-cache title=&quot;relevant
+    application cache&quot;&gt;relevant application caches&lt;/a&gt;, and the
+    user didn't cancel the navigation attempt during the previous
+    step, and the navigation attempt failed (e.g. the server returned
+    a 4xx or 5xx status code &lt;a href=#concept-http-equivalent-codes title=concept-http-equivalent-codes&gt;or equivalent&lt;/a&gt;, or
+    there was a DNS error), then:&lt;/p&gt; &lt;!-- note that a redirect can
+    never reach this point as it is handled earlier, meaning that a
+    captive portal captures URLs in fallback namespaces and you can't
+    ever get to the fallback file of a resource if you have a captive
+    portal --&gt;
 
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;a href=#concept-appcache-fallback title=concept-appcache-fallback&gt;fallback resource&lt;/a&gt;
     specified for the &lt;a href=#concept-appcache-fallback-ns title=concept-appcache-fallback-ns&gt;fallback namespace&lt;/a&gt; in
@@ -39345,9 +39421,9 @@
   used with &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; elements.&lt;/p&gt;
 
   &lt;p&gt;If a user agent follows a link defined by an &lt;code&gt;&lt;a href=#the-a-element&gt;a&lt;/a&gt;&lt;/code&gt; or
-  &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element that has the &lt;code title=rel-noreferrer&gt;&lt;a href=#link-type-noreferrer&gt;noreferrer&lt;/a&gt;&lt;/code&gt; keyword, the user agent must
-  not include a &lt;code title=&quot;&quot;&gt;Referer&lt;/code&gt; HTTP header (or
-  equivalent for other protocols) in the request.&lt;/p&gt;
+  &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element that has the &lt;code title=rel-noreferrer&gt;&lt;a href=#link-type-noreferrer&gt;noreferrer&lt;/a&gt;&lt;/code&gt; keyword, the user agent
+  must not include a &lt;code title=&quot;&quot;&gt;Referer&lt;/code&gt; HTTP header (&lt;a href=#concept-http-equivalent-headers title=concept-http-equivalent-headers&gt;or equivalent&lt;/a&gt; for
+  other protocols) in the request.&lt;/p&gt;
 
   &lt;p&gt;This keyword also &lt;a href=#noopener&gt;causes the &lt;code title=dom-opener&gt;opener&lt;/code&gt; attribute to remain null&lt;/a&gt; if the
   hyperlink creates a new &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;.&lt;/p&gt;
@@ -53875,41 +53951,42 @@
   &lt;p&gt;Thanks to Aankhen, Aaron Boodman, Aaron Leventhal, Adam Barth,
   Adam Roben, Addison Phillips, Adele Peterson, Adrian Sutton,
   Agust&iacute;n Fern&aacute;ndez, Ajai Tirumali, Alastair Campbell,
-  Alexey Feldgendler, Anders Carlsson, Andrew Gove, Andrew Sidwell,
-  Anne van Kesteren, Anthony Hickson, Anthony Ricaud, Antti Koivisto,
-  Arphen Lin, Asbj&oslash;rn Ulsberg, Ashley Sheridan, Aurelien Levy,
-  Ben Boyle, Ben Godfrey, Ben Meadowcroft, Ben Millard, Benjamin
-  Hawkes-Lewis, Bert Bos, Bill Mason, Billy Wong, Bjoern Hoehrmann,
-  Boris Zbarsky, Brad Fults, Brad Neuberg, Brady Eidson, Brendan Eich,
-  Brett Wilson, Brian Campbell, Brian Smith, Bruce Miller, Cameron
-  McCormack, Cao Yipeng, Carlos Perell&oacute; Mar&iacute;n, Chao Cai,
-  &#50980;&#49437;&#52268; (Channy Yun), Charl van Niekerk, Charles
-  Iliya Krempeaux, Charles McCathieNevile, Christian Biesinger,
-  Christian Johansen, Christian Schmidt, Chriswa, Cole Robison, Collin
-  Jackson, Daniel Barclay, Daniel Brumbaugh Keeney, Daniel Glazman,
-  Daniel Peng, Daniel Sp&aring;ng, Daniel Steinberg, Danny Sullivan,
-  Darin Adler, Darin Fisher, Dave Camp, Dave Singer, Dave Townsend&lt;!--
-  Mossop on moz irc --&gt;, David Baron, David Bloom, David Carlisle,
-  David Flanagan, David H&aring;s&auml;ther, David Hyatt, David Smith,
-  David Woolley, Dean Edridge, Debi Orton, Derek Featherstone, DeWitt
-  Clinton, Dimitri Glazkov, dolphinling, Doron Rosenberg, Doug Kramer,
-  Edward O'Connor, Eira Monstad, Elliotte Harold, Eric Carlson, Eric
-  Law, Erik Arvidsson, Evan Martin, Evan Prodromou, fantasai, Felix
-  Sasaki, Franck 'Shift' Qu&eacute;lain, Garrett Smith, Geoffrey
-  Garen, Geoffrey Sneddon, George Lund, H&aring;kon Wium Lie, Henri
-  Sivonen, Henrik Lied, Henry Mason, Hugh Winkler, Ignacio Javier, Ivo
-  Emanuel Gon&ccedil;alves, J. King, Jacques Distler, James Graham,
-  James Justin Harrell, James M Snell, James Perrett, Jan-Klaas
-  Kollhof, Jason White, Jasper Bryant-Greene, Jeff Cutsinger, Jeff
-  Schiller, Jeff Walden, Jens Bannmann, Jens Fendler, Jeroen van der
-  Meer, Jim Jewett, Jim Meehan, Joe Clark, John Fallows, Joseph
-  Kesselman, Jjgod Jiang, Joel Spolsky, Johan Herland, John Boyer,
-  John Bussjaeger, John Harding, Johnny Stenback, Jon Gibbins, Jon
-  Perlow, Jonathan Worent, Jorgen Horstink, Josh Levenberg, Joshua
-  Randall, Jukka K. Korpela, Jules Cl&eacute;ment-Ripoche, Julian
-  Reschke, Kai Hendry, &lt;!-- Keryx Web, = Lars Gunther --&gt; Kornel
-  Lesinski, &#40658;&#28580;&#21083;&#24535; (KUROSAWA Takeshi),
-  Kristof Zelechovski, Lachlan Hunt, Larry Page, Lars Gunther, Laura
+  Alex Nicolaou, Alexey Feldgendler, Anders Carlsson, Andrew Gove,
+  Andrew Sidwell, Anne van Kesteren, Anthony Hickson, Anthony Ricaud,
+  Antti Koivisto, Arphen Lin, Asbj&oslash;rn Ulsberg, Ashley Sheridan,
+  Aurelien Levy, Ben Boyle, Ben Godfrey, Ben Meadowcroft, Ben Millard,
+  Benjamin Hawkes-Lewis, Bert Bos, Bill Mason, Billy Wong, Bjoern
+  Hoehrmann, Boris Zbarsky, Brad Fults, Brad Neuberg, Brady Eidson,
+  Brendan Eich, Brett Wilson, Brian Campbell, Brian Smith, Bruce
+  Miller, Cameron McCormack, Cao Yipeng, Carlos Perell&oacute;
+  Mar&iacute;n, Chao Cai, &#50980;&#49437;&#52268; (Channy Yun), Charl
+  van Niekerk, Charles Iliya Krempeaux, Charles McCathieNevile,
+  Christian Biesinger, Christian Johansen, Christian Schmidt, Chriswa,
+  Cole Robison, Collin Jackson, Daniel Barclay, Daniel Brumbaugh
+  Keeney, Daniel Glazman, Daniel Peng, Daniel Sp&aring;ng, Daniel
+  Steinberg, Danny Sullivan, Darin Adler, Darin Fisher, Dave Camp,
+  Dave Singer, Dave Townsend&lt;!-- Mossop on moz irc --&gt;, David Baron,
+  David Bloom, David Carlisle, David Flanagan, David
+  H&aring;s&auml;ther, David Hyatt, David Smith, David Woolley, Dean
+  Edridge, Debi Orton, Derek Featherstone, DeWitt Clinton, Dimitri
+  Glazkov, dolphinling, Doron Rosenberg, Doug Kramer, Edward O'Connor,
+  Eira Monstad, Elliotte Harold, Eric Carlson, Eric Law, Erik
+  Arvidsson, Evan Martin, Evan Prodromou, fantasai, Felix Sasaki,
+  Franck 'Shift' Qu&eacute;lain, Garrett Smith, Geoffrey Garen,
+  Geoffrey Sneddon, George Lund, H&aring;kon Wium Lie, Henri Sivonen,
+  Henrik Lied, Henry Mason, Hugh Winkler, Ignacio Javier, Ivo Emanuel
+  Gon&ccedil;alves, J. King, Jacques Distler, James Graham, James
+  Justin Harrell, James M Snell, James Perrett, Jan-Klaas Kollhof,
+  Jason White, Jasper Bryant-Greene, Jeff Cutsinger, Jeff Schiller,
+  Jeff Walden, Jens Bannmann, Jens Fendler, Jeroen van der Meer, Jim
+  Jewett, Jim Meehan, Joe Clark, John Fallows, Joseph Kesselman, Jjgod
+  Jiang, Joel Spolsky, Johan Herland, John Boyer, John Bussjaeger,
+  John Harding, Johnny Stenback, Jon Gibbins, Jon Perlow, Jonathan
+  Worent, Jorgen Horstink, Josh Levenberg, Joshua Randall, Jukka
+  K. Korpela, Jules Cl&eacute;ment-Ripoche, Julian Reschke, Kai
+  Hendry, &lt;!-- Keryx Web, = Lars Gunther --&gt; Kornel Lesinski,
+  &#40658;&#28580;&#21083;&#24535; (KUROSAWA Takeshi), Kristof
+  Zelechovski, Lachlan Hunt, Larry Page, Lars Gunther, Laura
   L. Carlson, Laura Wisewell, Laurens Holst, Lee Kowalkowski, Leif
   Halvard Silli, Lenny Domnitser, L&eacute;onard Bouchet, Leons
   Petrazickis, Logan&lt;!-- on moz irc --&gt;, Loune, Maciej Stachowiak,

Modified: source
===================================================================
--- source	2008-12-01 12:31:21 UTC (rev 2498)
+++ source	2008-12-01 23:52:15 UTC (rev 2499)
@@ -4019,11 +4019,12 @@
     &lt;p&gt;If the resource identified by the resulting &lt;span&gt;absolute
     URL&lt;/span&gt; is already being downloaded for other reasons
     (e.g. another invocation of this algorithm), and the resource is
-    to be obtained using a idempotent action (such as an HTTP GET or
-    equivalent), and the user agent is configured such that it is to
-    reuse the data from the existing download instead of initiating a
-    new one, then use the results of the existing download instead of
-    starting a new one.&lt;/p&gt;
+    to be obtained using a idempotent action (such as an HTTP GET
+    &lt;span title=&quot;concept-http-equivalent-get&quot;&gt;or equivalent&lt;/span&gt;),
+    and the user agent is configured such that it is to reuse the data
+    from the existing download instead of initiating a new one, then
+    use the results of the existing download instead of starting a new
+    one.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, at a time convenient to the user and the user agent,
     download the resource, applying the semantics of the relevant
@@ -4062,7 +4063,70 @@
   applicable.&lt;/p&gt;
 
 
+  &lt;h4 id=&quot;concept-http-equivalent&quot;&gt;Protocol concepts&lt;/h4&gt;
 
+  &lt;p&gt;User agents can implement a variety of transfer protocols, but
+  this specification mostly defines behavior in terms of HTTP. &lt;a
+  href=&quot;#refsHTTP&quot;&gt;[HTTP]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;concept-http-equivalent-get&quot;&gt;HTTP GET
+  method&lt;/dfn&gt; is equivalent to the default retrieval action of the
+  protocol. For example, RETR in FTP. Such actions are idempotent and
+  safe, in HTTP terms.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;concept-http-equivalent-codes&quot;&gt;HTTP response
+  codes&lt;/dfn&gt; are equivalent to statuses in other protocols that have
+  the same basic meanings. For example, a &quot;file not found&quot; error is
+  equivalent to a 404 code, a server error is equivalent to a 5xx
+  code, and so on.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn title=&quot;concept-http-equivalent-headers&quot;&gt;HTTP
+  headers&lt;/dfn&gt; are equivalent to fields in other protocols that have
+  the same basic meaning. For example, the the HTTP authentication
+  headers are equivalent to the authentication aspects of the FTP
+  protocol.&lt;/p&gt;
+
+  &lt;p class=&quot;XXX&quot;&gt;If there are any specific questions with what should
+  be considered equivalent to what, let me know, and I'll make it more
+  explicit for those cases.&lt;/p&gt;
+
+
+  &lt;h4&gt;Encrypted HTTP and related security concerns&lt;/h4&gt;
+
+  &lt;p&gt;Anything in this specification that refers to HTTP also applies
+  to HTTP-over-TLS, as represented by &lt;span title=&quot;url&quot;&gt;URLs&lt;/span&gt;
+  representing the &lt;code title=&quot;&quot;&gt;https&lt;/code&gt; scheme.&lt;/p&gt;
+
+  &lt;p class=&quot;warning&quot;&gt;User agents should report certificate errors to
+  the user and must either refuse to download resources sent with
+  erroneous certificates or must act as if such resources were in fact
+  served with no encryption.&lt;/p&gt;
+
+  &lt;p&gt;Not doing so can result in users not noticing man-in-the-middle
+  attacks.&lt;/p&gt;
+
+  &lt;div class=&quot;example&quot;&gt;
+
+   &lt;p&gt;If a user connects to a server with a self-signed certificate,
+   the user agent could allow the connection but just act as if there
+   had been no encryption. If the user agent instead allowed the user
+   to override the problem and then displayed the page as if it was
+   fully and safely encrypted, the user could be easily tricked into
+   accepting man-in-the-middle connections.&lt;/p&gt;
+
+   &lt;p&gt;If a user connects to a server with full encryption, but the
+   page then refers to an external resource that has an expired
+   certificate, then the user agent will act as if the resource was
+   unavailable, possibly also reporting the problem to the user. If
+   the user agent instead allowed the resource to be used, then an
+   attacker could just look for &quot;secure&quot; sites that used resources
+   from a different host and only apply man-in-the-middle attacks to
+   that host, for example taking over scripts in the page.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+
+
   &lt;h3 id=&quot;content-type-sniffing&quot;&gt;Determining the type of a resource&lt;/h3&gt;
 
   &lt;p class=&quot;warning&quot;&gt;It is imperative that the rules in this section
@@ -15281,8 +15345,10 @@
   the presentation of the image appropriately.&lt;/p&gt;
 
   &lt;p&gt;Whether the image is fetched successfully or not (e.g. whether
-  the response code was a 2xx code or equivalent) must be ignored when
-  determining the image's type and whether it is a valid image.&lt;/p&gt;
+  the response code was a 2xx code &lt;span
+  title=&quot;concept-http-equivalent-codes&quot;&gt;or equivalent&lt;/span&gt;) must be
+  ignored when determining the image's type and whether it is a valid
+  image.&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;This allows servers to return images with error
   responses, and have them displayed.&lt;/p&gt;
@@ -17083,9 +17149,10 @@
   &lt;/ol&gt;
 
   &lt;p&gt;Whether the resource is fetched successfully or not (e.g. whether
-  the response code was a 2xx code or equivalent) must be ignored when
-  determining the resource's type and when handing the resource to the
-  plugin.&lt;/p&gt;
+  the response code was a 2xx code &lt;span
+  title=&quot;concept-http-equivalent-codes&quot;&gt;or equivalent&lt;/span&gt;) must be
+  ignored when determining the resource's type and when handing the
+  resource to the plugin.&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;This allows servers to return data for plugins even
   with error responses (e.g. HTTP 500 Internal Server Error codes can
@@ -37388,8 +37455,9 @@
 
      &lt;dt&gt;If a script is a &lt;span title=&quot;javascript protocol&quot;&gt;&lt;code
      title=&quot;&quot;&gt;javascript:&lt;/code&gt; URL&lt;/span&gt; that was returned as the
-     location of an HTTP redirect (or equivalent in other
-     protocols)&lt;/dt&gt;
+     location of an HTTP redirect (&lt;span
+     title=&quot;concept-http-equivalent-codes&quot;&gt;or equivalent&lt;/span&gt; in
+     other protocols)&lt;/dt&gt;
 
      &lt;dd&gt;The owner is the &lt;span&gt;URL&lt;/span&gt; that redirected to the
      &lt;span title=&quot;javascript protocol&quot;&gt;&lt;code
@@ -37496,7 +37564,9 @@
 
      &lt;dt&gt;If a &lt;code&gt;Document&lt;/code&gt; or image was generated from a
      &lt;code title=&quot;&quot;&gt;data:&lt;/code&gt; URL that was returned as the location
-     of an HTTP redirect (or equivalent in other protocols)&lt;/dt&gt;
+     of an HTTP redirect (&lt;span
+     title=&quot;concept-http-equivalent-codes&quot;&gt;or equivalent&lt;/span&gt; in
+     other protocols)&lt;/dt&gt;
 
      &lt;dd&gt;The &lt;span&gt;origin&lt;/span&gt; is the &lt;span&gt;origin&lt;/span&gt; of the
      &lt;span&gt;URL&lt;/span&gt; that redirected to the &lt;code
@@ -39316,7 +39386,8 @@
     or &lt;code
     title=&quot;dom-navigator-registerProtocolHandler&quot;&gt;registerProtocolHandler()&lt;/code&gt;
     method), and then &lt;span&gt;fetch&lt;/span&gt; the resulting URL using the
-    GET method (or equivalent for non-HTTP URLs).&lt;/p&gt;
+    GET method (&lt;span title=&quot;concept-http-equivalent-get&quot;&gt;or
+    equivalent&lt;/span&gt; for non-HTTP URLs).&lt;/p&gt;
 
     &lt;p&gt;To get the escaped version of the URL of the content in
     question, the user agent must &lt;span title=&quot;resolve a
@@ -40305,17 +40376,19 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If the previous step fails due to a 404 or 410 response or
-    equivalent, then run the &lt;span&gt;cache removal steps&lt;/span&gt;&lt;/p&gt;
+    &lt;p&gt;If the previous step fails due to a 404 or 410 response &lt;span
+    title=&quot;concept-http-equivalent-codes&quot;&gt;or equivalent&lt;/span&gt;, then
+    run the &lt;span&gt;cache removal steps&lt;/span&gt;&lt;/p&gt;
 
     &lt;p&gt;If the previous step fails in some other way (e.g. the server
-    returns another 4xx or 5xx response or equivalent, or there is a
-    DNS error, or the connection times out, or the user cancels the
-    download, or the parser for manifests fails when checking the
-    magic signature), or if the server returned a redirect, or if the
-    resource is labeled with a MIME type other than &lt;code
-    title=&quot;&quot;&gt;text/cache-manifest&lt;/code&gt;, then run the &lt;span&gt;cache
-    failure steps&lt;/span&gt;.&lt;/p&gt;
+    returns another 4xx or 5xx response &lt;span
+    title=&quot;concept-http-equivalent-codes&quot;&gt;or equivalent&lt;/span&gt;, or
+    there is a DNS error, or the connection times out, or the user
+    cancels the download, or the parser for manifests fails when
+    checking the magic signature), or if the server returned a
+    redirect, or if the resource is labeled with a MIME type other
+    than &lt;code title=&quot;&quot;&gt;text/cache-manifest&lt;/code&gt;, then run the
+    &lt;span&gt;cache failure steps&lt;/span&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -40325,7 +40398,9 @@
     attempt&lt;/span&gt; and the newly downloaded &lt;var
     title=&quot;&quot;&gt;manifest&lt;/var&gt; is byte-for-byte identical to the manifest
     found in &lt;var title=&quot;&quot;&gt;cache&lt;/var&gt;, or if the server reported it
-    as &quot;304 Not Modified&quot; or equivalent, then run these substeps:&lt;/p&gt;
+    as &quot;304 Not Modified&quot; &lt;span
+    title=&quot;concept-http-equivalent-codes&quot;&gt;or equivalent&lt;/span&gt;, then
+    run these substeps:&lt;/p&gt;
 
     &lt;ol&gt;
 
@@ -40342,9 +40417,10 @@
      title=&quot;concept-appcache-master&quot;&gt;master entries&lt;/span&gt; that are
      being stored in the cache, then wait for all of them to have
      completed. If any of these downloads fail (e.g. the server
-     returns a 4xx or 5xx response or equivalent, or there is a DNS
-     error, or the connection times out, or the user cancels the
-     download), then run the &lt;span&gt;cache failure
+     returns a 4xx or 5xx response &lt;span
+     title=&quot;concept-http-equivalent-codes&quot;&gt;or equivalent&lt;/span&gt;, or
+     there is a DNS error, or the connection times out, or the user
+     cancels the download), then run the &lt;span&gt;cache failure
      steps&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Let the &lt;span
@@ -40467,10 +40543,11 @@
      &lt;li&gt;
 
       &lt;p&gt;If the previous step fails (e.g. the server returns a 4xx or
-      5xx response or equivalent, or there is a DNS error, or the
-      connection times out, or the user cancels the download), or if
-      the server returned a redirect, then run the first appropriate
-      step from the following list:&lt;/p&gt;
+      5xx response &lt;span title=&quot;concept-http-equivalent-codes&quot;&gt;or
+      equivalent&lt;/span&gt;, or there is a DNS error, or the connection
+      times out, or the user cancels the download), or if the server
+      returned a redirect, then run the first appropriate step from
+      the following list:&lt;/p&gt;
 
       &lt;dl class=&quot;switch&quot;&gt;
 
@@ -40491,8 +40568,8 @@
 
        &lt;/dd&gt;
 
-       &lt;dt&gt;If the error was a 404 or 410 HTTP response or
-       equivalent&lt;/dt&gt;
+       &lt;dt&gt;If the error was a 404 or 410 HTTP response &lt;span
+       title=&quot;concept-http-equivalent-codes&quot;&gt;or equivalent&lt;/span&gt;&lt;/dt&gt;
 
        &lt;dd&gt;
 
@@ -40829,8 +40906,8 @@
 
 
    &lt;dt&gt;If the resource being loaded was not loaded from an application
-   cache, but it was loaded using HTTP GET or equivalent&lt;/dt&gt;
-   &lt;dd&gt;
+   cache, but it was loaded using HTTP GET &lt;span
+   title=&quot;concept-http-equivalent-get&quot;&gt;or equivalent&lt;/span&gt;&lt;/dt&gt; &lt;dd&gt;
 
     &lt;ol&gt;
 
@@ -40885,8 +40962,11 @@
   &lt;ol&gt;
 
    &lt;li&gt;&lt;p&gt;If the resource is not to be fetched using the HTTP GET
-   mechanism or equivalent, then &lt;span&gt;fetch&lt;/span&gt; the resource
-   normally and abort these steps.&lt;/p&gt;&lt;/li&gt;
+   mechanism &lt;span title=&quot;concept-http-equivalent-get&quot;&gt;or
+   equivalent&lt;/span&gt;, or if it has a &lt;span title=&quot;javascript
+   protocol&quot;&gt;&lt;code title=&quot;&quot;&gt;javascript:&lt;/code&gt; URL&lt;/span&gt;, then
+   &lt;span&gt;fetch&lt;/span&gt; the resource normally and abort these
+   steps.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the resource's URL is &lt;span
    title=&quot;concept-appcache-master&quot;&gt;an master entry&lt;/span&gt;, &lt;span
@@ -40907,12 +40987,12 @@
 
     &lt;p&gt;&lt;span&gt;Fetch&lt;/span&gt; the resource normally. If this results in a
     redirect to a resource with another &lt;span&gt;origin&lt;/span&gt;
-    (indicative of a captive portal), or a 4xx or 5xx status code or
-    equivalent, or if there were network errors (but not if the user
-    canceled the download), then instead get, from the cache, the
-    resource of the &lt;span title=&quot;concept-appcache-fallback&quot;&gt;fallback
-    entry&lt;/span&gt; corresponding to the matched namespace. Abort these
-    steps.&lt;/p&gt;
+    (indicative of a captive portal), or a 4xx or 5xx status code
+    &lt;span title=&quot;concept-http-equivalent-codes&quot;&gt;or equivalent&lt;/span&gt;,
+    or if there were network errors (but not if the user canceled the
+    download), then instead get, from the cache, the resource of the
+    &lt;span title=&quot;concept-appcache-fallback&quot;&gt;fallback entry&lt;/span&gt;
+    corresponding to the matched namespace. Abort these steps.&lt;/p&gt;
 
    &lt;/li&gt;
 
@@ -41124,8 +41204,9 @@
    title=&quot;&quot;&gt;url&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If this results in a redirect, or a 4xx or 5xx status code
-   or equivalent, or if there were network errors, or if the user
-   canceled the download, then abort these steps.&lt;/p&gt;&lt;/li&gt;
+   &lt;span title=&quot;concept-http-equivalent-codes&quot;&gt;or equivalent&lt;/span&gt;,
+   or if there were network errors, or if the user canceled the
+   download, then abort these steps.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Add the fetched resource to the &lt;span&gt;application
    cache&lt;/span&gt; and categorize it as a &lt;span
@@ -41884,9 +41965,9 @@
    being navigated, ignoring any &lt;span
    title=&quot;url-fragment&quot;&gt;&lt;fragment&gt;&lt;/span&gt; components of those
    &lt;span title=&quot;URL&quot;&gt;URLs&lt;/span&gt;, and the new resource is to be
-   fetched using HTTP GET or equivalent, then &lt;span
-   title=&quot;navigate-fragid&quot;&gt;navigate to that fragment identifier&lt;/span&gt;
-   and abort these steps.&lt;/p&gt;&lt;/li&gt;
+   fetched using HTTP GET &lt;span title=&quot;concept-http-equivalent-get&quot;&gt;or
+   equivalent&lt;/span&gt;, then &lt;span title=&quot;navigate-fragid&quot;&gt;navigate to
+   that fragment identifier&lt;/span&gt; and abort these steps.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the new resource is to be handled by displaying some sort
    of inline content, e.g. an error message because the specified
@@ -41905,12 +41986,13 @@
 
    &lt;li&gt;
 
-    &lt;p&gt;If the new resource is to be fetched using HTTP GET or
-    equivalent, then check if there are any &lt;span title=&quot;relevant
-    application cache&quot;&gt;relevant application caches&lt;/span&gt; that are
-    identified by a URL with the &lt;span&gt;same origin&lt;/span&gt; as the URL
-    in question, and that have this URL as one of their entries,
-    excluding entries marked as &lt;span
+    &lt;p&gt;If the new resource is to be fetched using HTTP GET &lt;span
+    title=&quot;concept-http-equivalent-get&quot;&gt;or equivalent&lt;/span&gt;, then
+    check if there are any &lt;span title=&quot;relevant application
+    cache&quot;&gt;relevant application caches&lt;/span&gt; that are identified by a
+    URL with the &lt;span&gt;same origin&lt;/span&gt; as the URL in question, and
+    that have this URL as one of their entries, excluding entries
+    marked as &lt;span
     title=&quot;concept-appcache-foreign&quot;&gt;foreign&lt;/span&gt;. If so, then the
     user agent must then get the resource from the &lt;span
     title=&quot;concept-appcache-selection&quot;&gt;most appropriate application
@@ -41955,18 +42037,20 @@
    &lt;li&gt;
 
     &lt;p&gt;If the resource was not fetched from an &lt;span&gt;application
-    cache&lt;/span&gt;, and was to be fetched using HTTP GET or equivalent,
-    and its URL &lt;span
-    title=&quot;concept-appcache-matches-fallback&quot;&gt;matches the fallback
-    namespace&lt;/span&gt; of one or more &lt;span title=&quot;relevant application
-    cache&quot;&gt;relevant application caches&lt;/span&gt;, and the user didn't
-    cancel the navigation attempt during the previous step, and the
-    navigation attempt failed (e.g. the server returned a 4xx or 5xx
-    status code or equivalent, or there was a DNS error), then:&lt;/p&gt;
-    &lt;!-- note that a redirect can never reach this point as it is
-    handled earlier, meaning that a captive portal captures URLs in
-    fallback namespaces and you can't ever get to the fallback file of
-    a resource if you have a captive portal --&gt;
+    cache&lt;/span&gt;, and was to be fetched using HTTP GET &lt;span
+    title=&quot;concept-http-equivalent-get&quot;&gt;or equivalent&lt;/span&gt;, and its
+    URL &lt;span title=&quot;concept-appcache-matches-fallback&quot;&gt;matches the
+    fallback namespace&lt;/span&gt; of one or more &lt;span title=&quot;relevant
+    application cache&quot;&gt;relevant application caches&lt;/span&gt;, and the
+    user didn't cancel the navigation attempt during the previous
+    step, and the navigation attempt failed (e.g. the server returned
+    a 4xx or 5xx status code &lt;span
+    title=&quot;concept-http-equivalent-codes&quot;&gt;or equivalent&lt;/span&gt;, or
+    there was a DNS error), then:&lt;/p&gt; &lt;!-- note that a redirect can
+    never reach this point as it is handled earlier, meaning that a
+    captive portal captures URLs in fallback namespaces and you can't
+    ever get to the fallback file of a resource if you have a captive
+    portal --&gt;
 
     &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;span
     title=&quot;concept-appcache-fallback&quot;&gt;fallback resource&lt;/span&gt;
@@ -44821,9 +44905,10 @@
 
   &lt;p&gt;If a user agent follows a link defined by an &lt;code&gt;a&lt;/code&gt; or
   &lt;code&gt;area&lt;/code&gt; element that has the &lt;code
-  title=&quot;rel-noreferrer&quot;&gt;noreferrer&lt;/code&gt; keyword, the user agent must
-  not include a &lt;code title=&quot;&quot;&gt;Referer&lt;/code&gt; HTTP header (or
-  equivalent for other protocols) in the request.&lt;/p&gt;
+  title=&quot;rel-noreferrer&quot;&gt;noreferrer&lt;/code&gt; keyword, the user agent
+  must not include a &lt;code title=&quot;&quot;&gt;Referer&lt;/code&gt; HTTP header (&lt;span
+  title=&quot;concept-http-equivalent-headers&quot;&gt;or equivalent&lt;/span&gt; for
+  other protocols) in the request.&lt;/p&gt;
 
   &lt;p&gt;This keyword also &lt;a href=&quot;#noopener&quot;&gt;causes the &lt;code
   title=&quot;dom-opener&quot;&gt;opener&lt;/code&gt; attribute to remain null&lt;/a&gt; if the
@@ -58835,41 +58920,42 @@
   &lt;p&gt;Thanks to Aankhen, Aaron Boodman, Aaron Leventhal, Adam Barth,
   Adam Roben, Addison Phillips, Adele Peterson, Adrian Sutton,
   Agust&iacute;n Fern&aacute;ndez, Ajai Tirumali, Alastair Campbell,
-  Alexey Feldgendler, Anders Carlsson, Andrew Gove, Andrew Sidwell,
-  Anne van Kesteren, Anthony Hickson, Anthony Ricaud, Antti Koivisto,
-  Arphen Lin, Asbj&oslash;rn Ulsberg, Ashley Sheridan, Aurelien Levy,
-  Ben Boyle, Ben Godfrey, Ben Meadowcroft, Ben Millard, Benjamin
-  Hawkes-Lewis, Bert Bos, Bill Mason, Billy Wong, Bjoern Hoehrmann,
-  Boris Zbarsky, Brad Fults, Brad Neuberg, Brady Eidson, Brendan Eich,
-  Brett Wilson, Brian Campbell, Brian Smith, Bruce Miller, Cameron
-  McCormack, Cao Yipeng, Carlos Perell&oacute; Mar&iacute;n, Chao Cai,
-  &amp;#xc724;&amp;#xc11d;&amp;#xcc2c; (Channy Yun), Charl van Niekerk, Charles
-  Iliya Krempeaux, Charles McCathieNevile, Christian Biesinger,
-  Christian Johansen, Christian Schmidt, Chriswa, Cole Robison, Collin
-  Jackson, Daniel Barclay, Daniel Brumbaugh Keeney, Daniel Glazman,
-  Daniel Peng, Daniel Sp&aring;ng, Daniel Steinberg, Danny Sullivan,
-  Darin Adler, Darin Fisher, Dave Camp, Dave Singer, Dave Townsend&lt;!--
-  Mossop on moz irc --&gt;, David Baron, David Bloom, David Carlisle,
-  David Flanagan, David H&aring;s&auml;ther, David Hyatt, David Smith,
-  David Woolley, Dean Edridge, Debi Orton, Derek Featherstone, DeWitt
-  Clinton, Dimitri Glazkov, dolphinling, Doron Rosenberg, Doug Kramer,
-  Edward O'Connor, Eira Monstad, Elliotte Harold, Eric Carlson, Eric
-  Law, Erik Arvidsson, Evan Martin, Evan Prodromou, fantasai, Felix
-  Sasaki, Franck 'Shift' Qu&eacute;lain, Garrett Smith, Geoffrey
-  Garen, Geoffrey Sneddon, George Lund, H&aring;kon Wium Lie, Henri
-  Sivonen, Henrik Lied, Henry Mason, Hugh Winkler, Ignacio Javier, Ivo
-  Emanuel Gon&ccedil;alves, J. King, Jacques Distler, James Graham,
-  James Justin Harrell, James M Snell, James Perrett, Jan-Klaas
-  Kollhof, Jason White, Jasper Bryant-Greene, Jeff Cutsinger, Jeff
-  Schiller, Jeff Walden, Jens Bannmann, Jens Fendler, Jeroen van der
-  Meer, Jim Jewett, Jim Meehan, Joe Clark, John Fallows, Joseph
-  Kesselman, Jjgod Jiang, Joel Spolsky, Johan Herland, John Boyer,
-  John Bussjaeger, John Harding, Johnny Stenback, Jon Gibbins, Jon
-  Perlow, Jonathan Worent, Jorgen Horstink, Josh Levenberg, Joshua
-  Randall, Jukka K. Korpela, Jules Cl&eacute;ment-Ripoche, Julian
-  Reschke, Kai Hendry, &lt;!-- Keryx Web, = Lars Gunther --&gt; Kornel
-  Lesinski, &amp;#x9ed2;&amp;#x6fa4;&amp;#x525b;&amp;#x5fd7; (KUROSAWA Takeshi),
-  Kristof Zelechovski, Lachlan Hunt, Larry Page, Lars Gunther, Laura
+  Alex Nicolaou, Alexey Feldgendler, Anders Carlsson, Andrew Gove,
+  Andrew Sidwell, Anne van Kesteren, Anthony Hickson, Anthony Ricaud,
+  Antti Koivisto, Arphen Lin, Asbj&oslash;rn Ulsberg, Ashley Sheridan,
+  Aurelien Levy, Ben Boyle, Ben Godfrey, Ben Meadowcroft, Ben Millard,
+  Benjamin Hawkes-Lewis, Bert Bos, Bill Mason, Billy Wong, Bjoern
+  Hoehrmann, Boris Zbarsky, Brad Fults, Brad Neuberg, Brady Eidson,
+  Brendan Eich, Brett Wilson, Brian Campbell, Brian Smith, Bruce
+  Miller, Cameron McCormack, Cao Yipeng, Carlos Perell&oacute;
+  Mar&iacute;n, Chao Cai, &amp;#xc724;&amp;#xc11d;&amp;#xcc2c; (Channy Yun), Charl
+  van Niekerk, Charles Iliya Krempeaux, Charles McCathieNevile,
+  Christian Biesinger, Christian Johansen, Christian Schmidt, Chriswa,
+  Cole Robison, Collin Jackson, Daniel Barclay, Daniel Brumbaugh
+  Keeney, Daniel Glazman, Daniel Peng, Daniel Sp&aring;ng, Daniel
+  Steinberg, Danny Sullivan, Darin Adler, Darin Fisher, Dave Camp,
+  Dave Singer, Dave Townsend&lt;!-- Mossop on moz irc --&gt;, David Baron,
+  David Bloom, David Carlisle, David Flanagan, David
+  H&aring;s&auml;ther, David Hyatt, David Smith, David Woolley, Dean
+  Edridge, Debi Orton, Derek Featherstone, DeWitt Clinton, Dimitri
+  Glazkov, dolphinling, Doron Rosenberg, Doug Kramer, Edward O'Connor,
+  Eira Monstad, Elliotte Harold, Eric Carlson, Eric Law, Erik
+  Arvidsson, Evan Martin, Evan Prodromou, fantasai, Felix Sasaki,
+  Franck 'Shift' Qu&eacute;lain, Garrett Smith, Geoffrey Garen,
+  Geoffrey Sneddon, George Lund, H&aring;kon Wium Lie, Henri Sivonen,
+  Henrik Lied, Henry Mason, Hugh Winkler, Ignacio Javier, Ivo Emanuel
+  Gon&ccedil;alves, J. King, Jacques Distler, James Graham, James
+  Justin Harrell, James M Snell, James Perrett, Jan-Klaas Kollhof,
+  Jason White, Jasper Bryant-Greene, Jeff Cutsinger, Jeff Schiller,
+  Jeff Walden, Jens Bannmann, Jens Fendler, Jeroen van der Meer, Jim
+  Jewett, Jim Meehan, Joe Clark, John Fallows, Joseph Kesselman, Jjgod
+  Jiang, Joel Spolsky, Johan Herland, John Boyer, John Bussjaeger,
+  John Harding, Johnny Stenback, Jon Gibbins, Jon Perlow, Jonathan
+  Worent, Jorgen Horstink, Josh Levenberg, Joshua Randall, Jukka
+  K. Korpela, Jules Cl&eacute;ment-Ripoche, Julian Reschke, Kai
+  Hendry, &lt;!-- Keryx Web, = Lars Gunther --&gt; Kornel Lesinski,
+  &amp;#x9ed2;&amp;#x6fa4;&amp;#x525b;&amp;#x5fd7; (KUROSAWA Takeshi), Kristof
+  Zelechovski, Lachlan Hunt, Larry Page, Lars Gunther, Laura
   L. Carlson, Laura Wisewell, Laurens Holst, Lee Kowalkowski, Leif
   Halvard Silli, Lenny Domnitser, L&eacute;onard Bouchet, Leons
   Petrazickis, Logan&lt;!-- on moz irc --&gt;, Loune, Maciej Stachowiak,


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009381.html">[html5] r2498 - [gow] (2) New plan. Introduce a 'playing' event for	when the playback actually b [...]
</A></li>
	<LI>Next message: <A HREF="009383.html">[html5] r2500 - [ct] (0) Support &lt;script&gt; in	&lt;select&gt;/&lt;optgroup&gt;/&lt;option&gt;.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9382">[ date ]</a>
              <a href="thread.html#9382">[ thread ]</a>
              <a href="subject.html#9382">[ subject ]</a>
              <a href="author.html#9382">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
