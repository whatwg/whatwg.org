<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2337 - [gwr] (2) Make the online whitelist a prefix match	feature, not an exact match f [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2337%20-%20%5Bgwr%5D%20%282%29%20Make%20the%20online%20whitelist%20a%20prefix%20match%0A%09feature%2C%20not%20an%20exact%20match%20f%20%5B...%5D&In-Reply-To=%3C20081015234412.6207738EDC6%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009221.html">
   <LINK REL="Next"  HREF="009223.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2337 - [gwr] (2) Make the online whitelist a prefix match	feature, not an exact match f [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2337%20-%20%5Bgwr%5D%20%282%29%20Make%20the%20online%20whitelist%20a%20prefix%20match%0A%09feature%2C%20not%20an%20exact%20match%20f%20%5B...%5D&In-Reply-To=%3C20081015234412.6207738EDC6%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2337 - [gwr] (2) Make the online whitelist a prefix match	feature, not an exact match f [...]">whatwg at whatwg.org
       </A><BR>
    <I>Wed Oct 15 16:44:12 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009221.html">[html5] r2336 - [e] (0) ack for last checkin and lots of other	video feedback
</A></li>
        <LI>Next message: <A HREF="009223.html">[html5] r2338 - [gwr] (2) Remove opportunistic caching;	leave only the fallback feature.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9222">[ date ]</a>
              <a href="thread.html#9222">[ thread ]</a>
              <a href="subject.html#9222">[ subject ]</a>
              <a href="author.html#9222">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-10-15 16:44:11 -0700 (Wed, 15 Oct 2008)
New Revision: 2337

Modified:
   index
   source
Log:
[gwr] (2) Make the online whitelist a prefix match feature, not an exact match feature.

Modified: index
===================================================================
--- index	2008-10-15 21:14:35 UTC (rev 2336)
+++ index	2008-10-15 23:44:11 UTC (rev 2337)
@@ -210,7 +210,7 @@
      &lt;li&gt;&lt;a href=#features-defined-in-other-specifications&gt;&lt;span class=secno&gt;2.2.2 &lt;/span&gt;Features defined in other specifications&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#common-conformance-requirements-for-apis-exposed-to-javascript&gt;&lt;span class=secno&gt;2.2.3 &lt;/span&gt;Common conformance requirements for APIs exposed to
   JavaScript&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;a href=#case-sensitivity&gt;&lt;span class=secno&gt;2.3 &lt;/span&gt;Case-sensitivity&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#case-sensitivity-and-string-comparison&gt;&lt;span class=secno&gt;2.3 &lt;/span&gt;Case-sensitivity and string comparison&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#common-microsyntaxes&gt;&lt;span class=secno&gt;2.4 &lt;/span&gt;Common microsyntaxes&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#common-parser-idioms&gt;&lt;span class=secno&gt;2.4.1 &lt;/span&gt;Common parser idioms&lt;/a&gt;&lt;/li&gt;
@@ -1892,7 +1892,7 @@
 
 
 
-  &lt;h3 id=case-sensitivity&gt;&lt;span class=secno&gt;2.3 &lt;/span&gt;Case-sensitivity&lt;/h3&gt;
+  &lt;h3 id=case-sensitivity-and-string-comparison&gt;&lt;span class=secno&gt;2.3 &lt;/span&gt;Case-sensitivity and string comparison&lt;/h3&gt;
 
   &lt;p&gt;This specification defines several comparison operators for
   strings.&lt;/p&gt;
@@ -1924,8 +1924,13 @@
   with the corresponding characters in the range U+0061 .. U+007A
   (i.e. LATIN SMALL LETTER A to LATIN SMALL LETTER Z).&lt;/p&gt;
 
+  &lt;p&gt;A string &lt;var title=&quot;&quot;&gt;pattern&lt;/var&gt; is a &lt;dfn id=prefix-match&gt;prefix match&lt;/dfn&gt;
+  for a string &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; when &lt;var title=&quot;&quot;&gt;pattern&lt;/var&gt;
+  is not longer than &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; and truncating &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;pattern&lt;/var&gt;'s length leaves the
+  two strings as matches of each other.&lt;/p&gt;
 
 
+
   &lt;h3 id=common-microsyntaxes&gt;&lt;span class=secno&gt;2.4 &lt;/span&gt;Common microsyntaxes&lt;/h3&gt;
 
   &lt;p&gt;There are various places in HTML that accept particular data
@@ -34817,23 +34822,27 @@
    mechanism or equivalent, then &lt;a href=#fetch&gt;fetch&lt;/a&gt; the resource
    normally and abort these steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the resource's URL, ignoring its fragment identifier if
-   any, is listed in the &lt;a href=#application-cache&gt;application cache&lt;/a&gt;'s &lt;a href=#concept-appcache-onlinewhitelist title=concept-appcache-onlinewhitelist&gt;online whitelist&lt;/a&gt;,
-   then &lt;a href=#fetch&gt;fetch&lt;/a&gt; the resource normally and abort these
-   steps.&lt;/li&gt;
-
    &lt;li&gt;&lt;p&gt;If the resource's URL is &lt;a href=#concept-appcache-implicit title=concept-appcache-implicit&gt;an implicit entry&lt;/a&gt;, &lt;a href=#concept-appcache-manifest title=concept-appcache-manifest&gt;the manifest&lt;/a&gt;, &lt;a href=#concept-appcache-explicit title=concept-appcache-explicit&gt;an explicit entry&lt;/a&gt;, &lt;a href=#concept-appcache-fallback title=concept-appcache-fallback&gt;a fallback entry&lt;/a&gt;, &lt;a href=#concept-appcache-oppcache title=concept-appcache-oppcache&gt;an opportunistically cached
    entry&lt;/a&gt;, or a &lt;a href=#concept-appcache-dynamic title=concept-appcache-dynamic&gt;dynamic
    entry&lt;/a&gt; in the &lt;a href=#application-cache&gt;application cache&lt;/a&gt;, then get the
    resource from the cache (instead of fetching it), and abort these
    steps.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;If there is an entry in the &lt;a href=#application-cache&gt;application cache&lt;/a&gt;'s
+   &lt;a href=#concept-appcache-onlinewhitelist title=concept-appcache-onlinewhitelist&gt;online
+   whitelist&lt;/a&gt; that has the &lt;a href=#same-origin&gt;same origin&lt;/a&gt; as the
+   resource's URL and that is a &lt;a href=#prefix-match&gt;prefix match&lt;/a&gt; for the
+   resource's URL, then &lt;a href=#fetch&gt;fetch&lt;/a&gt; the resource normally and
+   abort these steps.&lt;/li&gt;
+
    &lt;li&gt;
 
     &lt;p&gt;If the resource's URL has the &lt;a href=#same-origin&gt;same origin&lt;/a&gt; as the
-    manifest's URL, and the start of the resource's URL's &lt;a href=#url-path title=url-path&gt;&lt;path&gt;&lt;/a&gt; component is exactly matched
-    by the &lt;path&gt; component of an &lt;a href=#concept-appcache-oppcache-ns title=concept-appcache-oppcache-ns&gt;opportunistic caching
-    namespace&lt;/a&gt; in the &lt;a href=#application-cache&gt;application cache&lt;/a&gt;, then:
+    manifest's URL, and there is an &lt;a href=#concept-appcache-oppcache-ns title=concept-appcache-oppcache-ns&gt;opportunistic caching
+    namespace&lt;/a&gt; in the &lt;a href=#application-cache&gt;application cache&lt;/a&gt; whose
+    &lt;path&gt; component is a &lt;a href=#prefix-match&gt;prefix match&lt;/a&gt; for the
+    resource's URL's &lt;a href=#url-path title=url-path&gt;&lt;path&gt;&lt;/a&gt;
+    component, then:
 
     &lt;p&gt;&lt;a href=#fetch&gt;Fetch&lt;/a&gt; the resource normally. If this results 4xx
     or 5xx status codes or equivalent, or if there were network errors

Modified: source
===================================================================
--- source	2008-10-15 21:14:35 UTC (rev 2336)
+++ source	2008-10-15 23:44:11 UTC (rev 2337)
@@ -985,7 +985,7 @@
 
 
 
-  &lt;h3&gt;Case-sensitivity&lt;/h3&gt;
+  &lt;h3&gt;Case-sensitivity and string comparison&lt;/h3&gt;
 
   &lt;p&gt;This specification defines several comparison operators for
   strings.&lt;/p&gt;
@@ -1018,8 +1018,14 @@
   with the corresponding characters in the range U+0061 .. U+007A
   (i.e. LATIN SMALL LETTER A to LATIN SMALL LETTER Z).&lt;/p&gt;
 
+  &lt;p&gt;A string &lt;var title=&quot;&quot;&gt;pattern&lt;/var&gt; is a &lt;dfn&gt;prefix match&lt;/dfn&gt;
+  for a string &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; when &lt;var title=&quot;&quot;&gt;pattern&lt;/var&gt;
+  is not longer than &lt;var title=&quot;&quot;&gt;s&lt;/var&gt; and truncating &lt;var
+  title=&quot;&quot;&gt;s&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;pattern&lt;/var&gt;'s length leaves the
+  two strings as matches of each other.&lt;/p&gt;
 
 
+
   &lt;h3&gt;Common microsyntaxes&lt;/h3&gt;
 
   &lt;p&gt;There are various places in HTML that accept particular data
@@ -3487,8 +3493,6 @@
 
 
 
-
-
   &lt;h4&gt;Interfaces for URL manipulation&lt;/h4&gt;
 
  &lt;p&gt;An interface that has a complement of &lt;dfn&gt;URL decomposition
@@ -39552,12 +39556,6 @@
    mechanism or equivalent, then &lt;span&gt;fetch&lt;/span&gt; the resource
    normally and abort these steps.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the resource's URL, ignoring its fragment identifier if
-   any, is listed in the &lt;span&gt;application cache&lt;/span&gt;'s &lt;span
-   title=&quot;concept-appcache-onlinewhitelist&quot;&gt;online whitelist&lt;/span&gt;,
-   then &lt;span&gt;fetch&lt;/span&gt; the resource normally and abort these
-   steps.&lt;/p&gt;&lt;/li&gt;
-
    &lt;li&gt;&lt;p&gt;If the resource's URL is &lt;span
    title=&quot;concept-appcache-implicit&quot;&gt;an implicit entry&lt;/span&gt;, &lt;span
    title=&quot;concept-appcache-manifest&quot;&gt;the manifest&lt;/span&gt;, &lt;span
@@ -39569,14 +39567,22 @@
    resource from the cache (instead of fetching it), and abort these
    steps.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;If there is an entry in the &lt;span&gt;application cache&lt;/span&gt;'s
+   &lt;span title=&quot;concept-appcache-onlinewhitelist&quot;&gt;online
+   whitelist&lt;/span&gt; that has the &lt;span&gt;same origin&lt;/span&gt; as the
+   resource's URL and that is a &lt;span&gt;prefix match&lt;/span&gt; for the
+   resource's URL, then &lt;span&gt;fetch&lt;/span&gt; the resource normally and
+   abort these steps.&lt;/p&gt;&lt;/li&gt;
+
    &lt;li&gt;
 
     &lt;p&gt;If the resource's URL has the &lt;span&gt;same origin&lt;/span&gt; as the
-    manifest's URL, and the start of the resource's URL's &lt;span
-    title=&quot;url-path&quot;&gt;&lt;path&gt;&lt;/span&gt; component is exactly matched
-    by the &lt;path&gt; component of an &lt;span
+    manifest's URL, and there is an &lt;span
     title=&quot;concept-appcache-oppcache-ns&quot;&gt;opportunistic caching
-    namespace&lt;/span&gt; in the &lt;span&gt;application cache&lt;/span&gt;, then:
+    namespace&lt;/span&gt; in the &lt;span&gt;application cache&lt;/span&gt; whose
+    &lt;path&gt; component is a &lt;span&gt;prefix match&lt;/span&gt; for the
+    resource's URL's &lt;span title=&quot;url-path&quot;&gt;&lt;path&gt;&lt;/span&gt;
+    component, then:
 
     &lt;p&gt;&lt;span&gt;Fetch&lt;/span&gt; the resource normally. If this results 4xx
     or 5xx status codes or equivalent, or if there were network errors


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009221.html">[html5] r2336 - [e] (0) ack for last checkin and lots of other	video feedback
</A></li>
	<LI>Next message: <A HREF="009223.html">[html5] r2338 - [gwr] (2) Remove opportunistic caching;	leave only the fallback feature.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9222">[ date ]</a>
              <a href="thread.html#9222">[ thread ]</a>
              <a href="subject.html#9222">[ subject ]</a>
              <a href="author.html#9222">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
