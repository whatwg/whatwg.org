<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2330 - [gow] (2) Seriously revamp the &lt;video&gt; state	processing models and events.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2330%20-%20%5Bgow%5D%20%282%29%20Seriously%20revamp%20the%20%3Cvideo%3E%20state%0A%09processing%20models%20and%20events.&In-Reply-To=%3C20081015002653.2A40E14239F%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009214.html">
   <LINK REL="Next"  HREF="009216.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2330 - [gow] (2) Seriously revamp the &lt;video&gt; state	processing models and events.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2330%20-%20%5Bgow%5D%20%282%29%20Seriously%20revamp%20the%20%3Cvideo%3E%20state%0A%09processing%20models%20and%20events.&In-Reply-To=%3C20081015002653.2A40E14239F%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2330 - [gow] (2) Seriously revamp the &lt;video&gt; state	processing models and events.">whatwg at whatwg.org
       </A><BR>
    <I>Tue Oct 14 17:26:53 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009214.html">[html5] r2329 - [gow] (2) How to handle a moving window of	backbuffer; how to handle audio playb [...]
</A></li>
        <LI>Next message: <A HREF="009216.html">[html5] r2331 - [gow] (2) Allow UAs to not autoplay.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9215">[ date ]</a>
              <a href="thread.html#9215">[ thread ]</a>
              <a href="subject.html#9215">[ subject ]</a>
              <a href="author.html#9215">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-10-14 17:26:52 -0700 (Tue, 14 Oct 2008)
New Revision: 2330

Modified:
   index
   source
Log:
[gow] (2) Seriously revamp the &lt;video&gt; state processing models and events.

Modified: index
===================================================================
--- index	2008-10-13 22:23:42 UTC (rev 2329)
+++ index	2008-10-15 00:26:52 UTC (rev 2330)
@@ -16,7 +16,7 @@
   &lt;div class=head&gt;
    &lt;p&gt;&lt;a class=logo href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> rel=home&gt;&lt;img alt=WHATWG src=/images/logo&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;h1&gt;HTML 5&lt;/h1&gt;
-   &lt;h2 class=&quot;no-num no-toc&quot; id=draft-recommendation-&mdash;-date:-01-jan-1901&gt;Draft Recommendation &mdash; 13 October 2008&lt;/h2&gt;
+   &lt;h2 class=&quot;no-num no-toc&quot; id=draft-recommendation-&mdash;-date:-01-jan-1901&gt;Draft Recommendation &mdash; 15 October 2008&lt;/h2&gt;
    &lt;p&gt;You can take part in this work. &lt;a href=<A HREF="http://www.whatwg.org/mailing-list">http://www.whatwg.org/mailing-list</A>&gt;Join the working group's discussion list.&lt;/a&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;Web designers!&lt;/strong&gt; We have a &lt;a href=<A HREF="http://blog.whatwg.org/faq/">http://blog.whatwg.org/faq/</A>&gt;FAQ&lt;/a&gt;, a &lt;a href=<A HREF="http://forums.whatwg.org/">http://forums.whatwg.org/</A>&gt;forum&lt;/a&gt;, and a &lt;a href=<A HREF="http://www.whatwg.org/mailing-list#help">http://www.whatwg.org/mailing-list#help</A>&gt;help mailing list&lt;/a&gt; for you!&lt;/p&gt;
    &lt;dl&gt;&lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -16111,8 +16111,8 @@
   &lt;p&gt;The &lt;dfn id=dom-video-poster title=dom-video-poster&gt;&lt;code&gt;poster&lt;/code&gt;&lt;/dfn&gt; DOM
   attribute must &lt;a href=#reflect&gt;reflect&lt;/a&gt; the &lt;code title=attr-video-poster&gt;&lt;a href=#attr-video-poster&gt;poster&lt;/a&gt;&lt;/code&gt; content attribute.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;When no video data is available (the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute is
-  either &lt;code title=dom-media-EMPTY&gt;&lt;a href=#dom-media-empty&gt;EMPTY&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-media-LOADING&gt;&lt;a href=#dom-media-loading&gt;LOADING&lt;/a&gt;&lt;/code&gt;, or &lt;code title=dom-media-LOADED_METADATA&gt;&lt;a href=#dom-media-loaded_metadata&gt;LOADED_METADATA&lt;/a&gt;&lt;/code&gt;),
+  &lt;hr&gt;&lt;p&gt;When no video data is available (the element's &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is either
+  &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt; or &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt;),
   &lt;code&gt;&lt;a href=#video&gt;video&lt;/a&gt;&lt;/code&gt; elements represent either the &lt;a href=#poster-frame&gt;poster
   frame&lt;/a&gt;, or nothing.&lt;/p&gt;
 
@@ -16550,8 +16550,9 @@
   are honoured.&lt;/p&gt;
 
   &lt;p&gt;If a &lt;code&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt; element is inserted into a &lt;a href=#media-element&gt;media
-  element&lt;/a&gt; that is already in a document and whose &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; is in the &lt;code title=dom-media-EMPTY&gt;&lt;a href=#dom-media-empty&gt;EMPTY&lt;/a&gt;&lt;/code&gt; state, the user agent must
-  &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that implicitly invokes the &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt; method on the &lt;a href=#media-element&gt;media
+  element&lt;/a&gt; that is already in a document and whose &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; is in the &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt; state, the user
+  agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that implicitly invokes the
+  &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt; method on the &lt;a href=#media-element&gt;media
   element&lt;/a&gt;, and ignores any resulting exceptions. The &lt;a href=#task-source&gt;task
   source&lt;/a&gt; for this task is the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s own
   &lt;a href=#media-element-new-resource-task-source&gt;media element new resource task source&lt;/a&gt;.&lt;/p&gt;
@@ -16579,11 +16580,10 @@
   // network state
            attribute DOMString &lt;a href=#dom-media-src title=dom-media-src&gt;src&lt;/a&gt;;
   readonly attribute DOMString &lt;a href=#dom-media-currentsrc title=dom-media-currentSrc&gt;currentSrc&lt;/a&gt;;
-  const unsigned short &lt;a href=#dom-media-empty title=dom-media-EMPTY&gt;EMPTY&lt;/a&gt; = 0;
-  const unsigned short &lt;a href=#dom-media-loading title=dom-media-LOADING&gt;LOADING&lt;/a&gt; = 1;
-  const unsigned short &lt;a href=#dom-media-loaded_metadata title=dom-media-LOADED_METADATA&gt;LOADED_METADATA&lt;/a&gt; = 2;
-  const unsigned short &lt;a href=#dom-media-loaded_first_frame title=dom-media-LOADED_FIRST_FRAME&gt;LOADED_FIRST_FRAME&lt;/a&gt; = 3;
-  const unsigned short &lt;a href=#dom-media-loaded title=dom-media-LOADED&gt;LOADED&lt;/a&gt; = 4;
+  const unsigned short &lt;a href=#dom-media-network_empty title=dom-media-NETWORK_EMPTY&gt;NETWORK_EMPTY&lt;/a&gt; = 0;
+  const unsigned short &lt;a href=#dom-media-network_idle title=dom-media-NETWORK_IDLE&gt;NETWORK_IDLE&lt;/a&gt; = 1;
+  const unsigned short &lt;a href=#dom-media-network_loading title=dom-media-NETWORK_LOADING&gt;NETWORK_LOADING&lt;/a&gt; = 2;
+  const unsigned short &lt;a href=#dom-media-network_loaded title=dom-media-NETWORK_LOADED&gt;NETWORK_LOADED&lt;/a&gt; = 3;
   readonly attribute unsigned short &lt;a href=#dom-media-networkstate title=dom-media-networkState&gt;networkState&lt;/a&gt;;
   readonly attribute float &lt;a href=#dom-media-bufferingrate title=dom-media-bufferingRate&gt;bufferingRate&lt;/a&gt;;
   readonly attribute boolean &lt;a href=#dom-media-bufferingthrottled title=dom-media-bufferingThrottled&gt;bufferingThrottled&lt;/a&gt;;
@@ -16593,10 +16593,12 @@
   void &lt;a href=#dom-media-load title=dom-media-load&gt;load&lt;/a&gt;();
 
   // ready state
-  const unsigned short &lt;a href=#dom-media-data_unavailable title=dom-media-DATA_UNAVAILABLE&gt;DATA_UNAVAILABLE&lt;/a&gt; = 0;
-  const unsigned short &lt;a href=#dom-media-can_show_current_frame title=dom-media-CAN_SHOW_CURRENT_FRAME&gt;CAN_SHOW_CURRENT_FRAME&lt;/a&gt; = 1;
-  const unsigned short &lt;a href=#dom-media-can_play title=dom-media-CAN_PLAY&gt;CAN_PLAY&lt;/a&gt; = 2;
-  const unsigned short &lt;a href=#dom-media-can_play_through title=dom-media-CAN_PLAY_THROUGH&gt;CAN_PLAY_THROUGH&lt;/a&gt; = 3;
+  const unsigned short &lt;a href=#dom-media-have_nothing title=dom-media-HAVE_NOTHING&gt;HAVE_NOTHING&lt;/a&gt; = 0;
+  const unsigned short &lt;a href=#dom-media-have_metadata title=dom-media-HAVE_METADATA&gt;HAVE_METADATA&lt;/a&gt; = 1;
+  const unsigned short &lt;a href=#dom-media-have_some_data title=dom-media-HAVE_SOME_DATA&gt;HAVE_SOME_DATA&lt;/a&gt; = 2;
+  const unsigned short &lt;a href=#dom-media-have_current_data title=dom-media-HAVE_CURRENT_DATA&gt;HAVE_CURRENT_DATA&lt;/a&gt; = 3;
+  const unsigned short &lt;a href=#dom-media-have_future_data title=dom-media-HAVE_FUTURE_DATA&gt;HAVE_FUTURE_DATA&lt;/a&gt; = 4;
+  const unsigned short &lt;a href=#dom-media-have_enough_data title=dom-media-HAVE_ENOUGH_DATA&gt;HAVE_ENOUGH_DATA&lt;/a&gt; = 5;
   readonly attribute unsigned short &lt;a href=#dom-media-readystate title=dom-media-readyState&gt;readyState&lt;/a&gt;;
   readonly attribute boolean &lt;a href=#dom-media-seeking title=dom-media-seeking&gt;seeking&lt;/a&gt;;
 
@@ -16732,13 +16734,12 @@
   &lt;p&gt;If the &lt;code title=attr-media-src&gt;&lt;a href=#attr-media-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute of a
   &lt;a href=#media-element&gt;media element&lt;/a&gt; that is already in a document and whose
   &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; is in the
-  &lt;code title=dom-media-EMPTY&gt;&lt;a href=#dom-media-empty&gt;EMPTY&lt;/a&gt;&lt;/code&gt; state is added, changed,
-  or removed, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that
-  implicitly invokes the &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt;
-  method on the &lt;a href=#media-element&gt;media element&lt;/a&gt;, and ignores any resulting
-  exceptions. The &lt;a href=#task-source&gt;task source&lt;/a&gt; for this task is the
-  &lt;a href=#media-element&gt;media element&lt;/a&gt;'s own &lt;a href=#media-element-new-resource-task-source&gt;media element new resource
-  task source&lt;/a&gt;.&lt;/p&gt;
+  &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt; state is
+  added, changed, or removed, the user agent must &lt;a href=#queue-a-task&gt;queue a
+  task&lt;/a&gt; that implicitly invokes the &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt; method on the &lt;a href=#media-element&gt;media
+  element&lt;/a&gt;, and ignores any resulting exceptions. The &lt;a href=#task-source&gt;task
+  source&lt;/a&gt; for this task is the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s own
+  &lt;a href=#media-element-new-resource-task-source&gt;media element new resource task source&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p class=note&gt;If a &lt;code title=attr-media-src&gt;&lt;a href=#attr-media-src&gt;src&lt;/a&gt;&lt;/code&gt;
   attribute is specified, the resource it specifies is the &lt;a href=#media-resource&gt;media
@@ -16828,63 +16829,56 @@
   &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-media-currentsrc title=dom-media-currentSrc&gt;&lt;code&gt;currentSrc&lt;/code&gt;&lt;/dfn&gt; DOM
   attribute must return the empty string if the &lt;a href=#media-element&gt;media
   element&lt;/a&gt;'s &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; has the value
-  &lt;a href=#dom-media-empty title=dom-media-EMPTY&gt;EMPTY&lt;/a&gt;, and the &lt;a href=#absolute-url&gt;absolute
-  URL&lt;/a&gt; that is the address of the &lt;a href=#chosen-media-resource&gt;chosen media
-  resource&lt;/a&gt; otherwise.&lt;/p&gt;
+  &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt;, and the
+  &lt;a href=#absolute-url&gt;absolute URL&lt;/a&gt; that is the address of the &lt;a href=#chosen-media-resource&gt;chosen
+  media resource&lt;/a&gt; otherwise.&lt;/p&gt;
 
 
 
   &lt;h5 id=network-states&gt;&lt;span class=secno&gt;4.8.10.3 &lt;/span&gt;Network states&lt;/h5&gt;
 
   &lt;p&gt;As &lt;a href=#media-element title=&quot;media element&quot;&gt;media elements&lt;/a&gt; interact
-  with the network, they go through several states. The &lt;dfn id=dom-media-networkstate title=dom-media-networkState&gt;&lt;code&gt;networkState&lt;/code&gt;&lt;/dfn&gt;
-  attribute, on getting, must return the current network state of the
-  element, which must be one of the following values:&lt;/p&gt;
+  with the network, their current network activity is represented by
+  the &lt;dfn id=dom-media-networkstate title=dom-media-networkState&gt;&lt;code&gt;networkState&lt;/code&gt;&lt;/dfn&gt;
+  attribute. On getting, it must return the current network state of
+  the element, which must be one of the following values:&lt;/p&gt;
 
-  &lt;dl&gt;&lt;dt&gt;&lt;dfn id=dom-media-empty title=dom-media-EMPTY&gt;&lt;code&gt;EMPTY&lt;/code&gt;&lt;/dfn&gt; (numeric value 0)&lt;/dt&gt;
+  &lt;dl&gt;&lt;dt&gt;&lt;dfn id=dom-media-network_empty title=dom-media-NETWORK_EMPTY&gt;&lt;code&gt;NETWORK_EMPTY&lt;/code&gt;&lt;/dfn&gt; (numeric value 0)&lt;/dt&gt;
 
    &lt;dd&gt;The element has not yet been initialized. All attributes are in
    their initial states.&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn id=dom-media-loading title=dom-media-LOADING&gt;&lt;code&gt;LOADING&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn id=dom-media-network_idle title=dom-media-NETWORK_IDLE&gt;&lt;code&gt;NETWORK_IDLE&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
 
-   &lt;dd&gt;The element has &lt;a href=#pick-a-media-resource title=&quot;pick a media resource&quot;&gt;picked a
-   media resource&lt;/a&gt; (the &lt;a href=#chosen-media-resource&gt;chosen media resource&lt;/a&gt; is
-   available from the &lt;code title=dom-media-currentSrc&gt;&lt;a href=#dom-media-currentsrc&gt;currentSrc&lt;/a&gt;&lt;/code&gt; attribute), but none
-   of the metadata has yet been obtained and therefore all the other
-   attributes are still in their initial states.&lt;/dd&gt;
+   &lt;dd&gt;The element has a &lt;a href=#chosen-media-resource&gt;chosen media resource&lt;/a&gt;, but the
+   user agent is not using the network to obtain any more of the
+   resource than is already obtained at this time.&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn id=dom-media-loaded_metadata title=dom-media-LOADED_METADATA&gt;&lt;code&gt;LOADED_METADATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn id=dom-media-network_loading title=dom-media-NETWORK_LOADING&gt;&lt;code&gt;NETWORK_LOADING&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
 
-   &lt;dd&gt;Enough of the resource has been obtained that the metadata
-   attributes are initialized (e.g. the length is known). The API will
-   no longer raise exceptions when used.&lt;/dd&gt;
+   &lt;dd&gt;The user agent is actively trying to download data for the
+   &lt;a href=#chosen-media-resource&gt;chosen media resource&lt;/a&gt;.&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn id=dom-media-loaded_first_frame title=dom-media-LOADED_FIRST_FRAME&gt;&lt;code&gt;LOADED_FIRST_FRAME&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn id=dom-media-network_loaded title=dom-media-NETWORK_LOADED&gt;&lt;code&gt;NETWORK_LOADED&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
 
-   &lt;dd&gt;Actual &lt;a href=#media-data&gt;media data&lt;/a&gt; has been obtained. In the case
-   of video, this specifically means that a frame of video is
-   available and can be shown.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn id=dom-media-loaded title=dom-media-LOADED&gt;&lt;code&gt;LOADED&lt;/code&gt;&lt;/dfn&gt; (numeric value 4)&lt;/dt&gt;
-
    &lt;dd&gt;The entire &lt;a href=#media-resource&gt;media resource&lt;/a&gt; has been obtained and is
    available to the user agent locally. Network connectivity could be
    lost without affecting the media playback.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;p&gt;The algorithm for the &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt;
   method defined below describes exactly when the &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute changes
-  value.&lt;/p&gt;
+  value and what events fire to indicate changes in this state.&lt;/p&gt;
 
+  &lt;p class=note&gt;Some resources, e.g. streaming Web radio, can never
+  each the &lt;code title=dom-media-NETWORK_LOADED&gt;&lt;a href=#dom-media-network_loaded&gt;NETWORK_LOADED&lt;/a&gt;&lt;/code&gt; state.&lt;/p&gt;
 
 
+
   &lt;h5 id=loading-the-media-resource&gt;&lt;span class=secno&gt;4.8.10.4 &lt;/span&gt;Loading the media resource&lt;/h5&gt;
 
   &lt;p&gt;All &lt;a href=#media-element title=&quot;media element&quot;&gt;media elements&lt;/a&gt; have a
-  &lt;dfn id=begun-flag&gt;begun flag&lt;/dfn&gt;, which must begin in the false state, a
-  &lt;dfn id=loaded-first-frame-flag&gt;loaded-first-frame flag&lt;/dfn&gt;, which must begin in the false
-  state, and an &lt;dfn id=autoplaying-flag&gt;autoplaying flag&lt;/dfn&gt;, which must begin in the
-  true state.&lt;/p&gt;
+  &lt;dfn id=begun-flag&gt;begun flag&lt;/dfn&gt;, which must begin in the false state, and an
+  &lt;dfn id=autoplaying-flag&gt;autoplaying flag&lt;/dfn&gt;, which must begin in the true state.&lt;/p&gt;
 
   &lt;p&gt;When the &lt;dfn id=dom-media-load title=dom-media-load&gt;&lt;code&gt;load()&lt;/code&gt;&lt;/dfn&gt;
   method on a &lt;a href=#media-element&gt;media element&lt;/a&gt; is invoked, the user agent
@@ -16920,29 +16914,28 @@
    &lt;a href=#media-element&gt;media element&lt;/a&gt;.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The &lt;code title=dom-media-error&gt;&lt;a href=#dom-media-error&gt;error&lt;/a&gt;&lt;/code&gt; attribute
-   must be set to null, the &lt;a href=#loaded-first-frame-flag&gt;loaded-first-frame flag&lt;/a&gt; must
-   be set to false, and the &lt;a href=#autoplaying-flag&gt;autoplaying flag&lt;/a&gt; must be set
-   to true.&lt;/li&gt;
+   must be set to null and the &lt;a href=#autoplaying-flag&gt;autoplaying flag&lt;/a&gt; must be
+   set to true.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The &lt;code title=dom-media-playbackRate&gt;&lt;a href=#dom-media-playbackrate&gt;playbackRate&lt;/a&gt;&lt;/code&gt;
    attribute must be set to the value of the &lt;code title=dom-media-defaultPlaybackRate&gt;&lt;a href=#dom-media-defaultplaybackrate&gt;defaultPlaybackRate&lt;/a&gt;&lt;/code&gt;
    attribute.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; is not set to
-   &lt;a href=#dom-media-empty title=dom-media-EMPTY&gt;EMPTY&lt;/a&gt;, then the following
-   substeps must be followed:
+   &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt;, then
+   the following substeps must be followed:&lt;/p&gt;
 
     &lt;ol&gt;&lt;!--&lt;li&gt;Let &lt;var title=&quot;&quot;&gt;events&lt;/var&gt; be a list of event names,
      initially empty.&lt;/li&gt;--&gt;&lt;li&gt;The &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt;
-     attribute must be set to &lt;a href=#dom-media-empty title=dom-media-EMPTY&gt;EMPTY&lt;/a&gt;&lt;!--, and the user agent must
-     add &lt;code title=&quot;event-emptied&quot;&gt;emptied&lt;/code&gt; to the &lt;var
-     title=&quot;&quot;&gt;events&lt;/var&gt; list--&gt;.&lt;/li&gt;
+     attribute must be set to &lt;a href=#dom-media-network_empty title=dom-media-NETWORK_EMPTY&gt;NETWORK_EMPTY&lt;/a&gt;&lt;!--, and the
+     user agent must add &lt;code title=&quot;event-emptied&quot;&gt;emptied&lt;/code&gt; to
+     the &lt;var title=&quot;&quot;&gt;events&lt;/var&gt; list--&gt;.&lt;/li&gt;
 
      &lt;li&gt;If &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; is
-     not set to &lt;code title=dom-media-DATA_UNAVAILABLE&gt;&lt;a href=#dom-media-data_unavailable&gt;DATA_UNAVAILABLE&lt;/a&gt;&lt;/code&gt;, it must be set
-     to that state&lt;!-- and the user agent must add &lt;code
-     title=&quot;event-dataunavailable&quot;&gt;dataunavailable&lt;/code&gt; to the
-     &lt;var title=&quot;&quot;&gt;events&lt;/var&gt; list--&gt;.&lt;/li&gt;
+     not set to &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;, it must be
+     set to that state&lt;!-- and the user agent must add &lt;code
+     title=&quot;event-dataunavailable&quot;&gt;dataunavailable&lt;/code&gt; to the &lt;var
+     title=&quot;&quot;&gt;events&lt;/var&gt; list--&gt;.&lt;/li&gt;
 
      &lt;li&gt;If the &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; attribute
      is false, it must be set to true&lt;!--, and the user agent must add
@@ -16975,9 +16968,9 @@
    steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt;
-   attribute must be set to &lt;a href=#dom-media-loading title=dom-media-LOADING&gt;LOADING&lt;/a&gt;.&lt;/li&gt;
+   attribute must be set to &lt;a href=#dom-media-network_idle title=dom-media-NETWORK_IDLE&gt;NETWORK_IDLE&lt;/a&gt;.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p class=note&gt;The &lt;code title=dom-media-currentSrc&gt;&lt;a href=#dom-media-currentsrc&gt;currentSrc&lt;/a&gt;&lt;/code&gt; attribute starts
+   &lt;p class=note&gt;The &lt;code title=dom-media-currentSrc&gt;&lt;a href=#dom-media-currentsrc&gt;currentSrc&lt;/a&gt;&lt;/code&gt; attribute starts
    returning the new value.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The user agent must then set the &lt;a href=#begun-flag&gt;begun flag&lt;/a&gt; to
@@ -17004,10 +16997,12 @@
    &lt;li&gt;
 
     &lt;p&gt;While the fetching process is progressing, the user agent must
-    &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-progress-event&gt;fire a progress event&lt;/a&gt;
-    called &lt;code title=event-progress&gt;&lt;a href=#event-progress&gt;progress&lt;/a&gt;&lt;/code&gt; at the element
-    every 350ms (&plusmn;200ms) or for every byte received, whichever is
-    &lt;em&gt;least&lt;/em&gt; frequent.&lt;/p&gt;
+    set the &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt;
+    to &lt;code title=dom-media-NETWORK_LOADING&gt;&lt;a href=#dom-media-network_loading&gt;NETWORK_LOADING&lt;/a&gt;&lt;/code&gt;
+    and &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-progress-event&gt;fire a progress
+    event&lt;/a&gt; called &lt;code title=event-progress&gt;&lt;a href=#event-progress&gt;progress&lt;/a&gt;&lt;/code&gt;
+    at the element every 350ms (&plusmn;200ms) or for every byte
+    received, whichever is &lt;em&gt;least&lt;/em&gt; frequent.&lt;/p&gt;
 
     &lt;p&gt;If at any point the user agent has received no data for more
     than about three seconds, the user agent must &lt;a href=#queue-a-task&gt;queue a
@@ -17019,6 +17014,14 @@
     act as if it was stalled (as opposed to acting as if the
     connection was closed).&lt;/p&gt;
 
+    &lt;p&gt;User agents may decide to not download more content at any
+    time, e.g. after buffering five minutes of a one hour media
+    resource, while waiting for the user to decide whether to play the
+    resource or not, or while waiting for user input in an interactive
+    resource. When a &lt;a href=#media-element&gt;media element&lt;/a&gt;'s download has been
+    suspended, the user agent must set the &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; to &lt;code title=dom-media-NETWORK_IDLE&gt;&lt;a href=#dom-media-network_idle&gt;NETWORK_IDLE&lt;/a&gt;&lt;/code&gt; and &lt;a href=#queue-a-task&gt;queue
+    a task&lt;/a&gt; to &lt;a href=#fire-a-progress-event&gt;fire a progress event&lt;/a&gt; called &lt;code title=event-suspend&gt;&lt;a href=#event-suspend&gt;suspend&lt;/a&gt;&lt;/code&gt; at the element.&lt;/p&gt;
+
     &lt;p&gt;The user agent may use whatever means necessary to fetch the
     resource (within the constraints put forward by this and other
     specifications); for example, reconnecting to the server in the
@@ -17053,10 +17056,9 @@
        element&lt;/a&gt;.&lt;/li&gt;
 
        &lt;li&gt;The element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute
-       must be switched to the &lt;a href=#dom-media-empty title=dom-media-EMPTY&gt;EMPTY&lt;/a&gt; value and the user agent
-       must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
-       event&lt;/a&gt; called &lt;code title=event-emptied&gt;&lt;a href=#event-emptied&gt;emptied&lt;/a&gt;&lt;/code&gt;
-       at the element.&lt;/li&gt;
+       must be switched to the &lt;a href=#dom-media-network_empty title=dom-media-NETWORK_EMPTY&gt;NETWORK_EMPTY&lt;/a&gt; value and
+       the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a
+       simple event&lt;/a&gt; called &lt;code title=event-emptied&gt;&lt;a href=#event-emptied&gt;emptied&lt;/a&gt;&lt;/code&gt; at the element.&lt;/li&gt;
 
        &lt;li&gt;These steps must be aborted.&lt;/li&gt;
 
@@ -17089,10 +17091,9 @@
        element&lt;/a&gt;.&lt;/li&gt;
 
        &lt;li&gt;The element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute
-       must be switched to the &lt;a href=#dom-media-empty title=dom-media-EMPTY&gt;EMPTY&lt;/a&gt; value and the user agent
-       must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
-       event&lt;/a&gt; called &lt;code title=event-emptied&gt;&lt;a href=#event-emptied&gt;emptied&lt;/a&gt;&lt;/code&gt;
-       at the element.&lt;/li&gt;
+       must be switched to the &lt;a href=#dom-media-network_empty title=dom-media-NETWORK_EMPTY&gt;NETWORK_EMPTY&lt;/a&gt; value and
+       the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a
+       simple event&lt;/a&gt; called &lt;code title=event-emptied&gt;&lt;a href=#event-emptied&gt;emptied&lt;/a&gt;&lt;/code&gt; at the element.&lt;/li&gt;
 
        &lt;li&gt;These steps must be aborted.&lt;/li&gt;
 
@@ -17121,15 +17122,16 @@
        progress event&lt;/a&gt; called &lt;code title=event-abort&gt;&lt;a href=#event-abort&gt;abort&lt;/a&gt;&lt;/code&gt; at the &lt;a href=#media-element&gt;media
        element&lt;/a&gt;.&lt;/li&gt;
 
-       &lt;li&gt;If the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute
-       has the value &lt;code title=dom-media-LOADING&gt;&lt;a href=#dom-media-loading&gt;LOADING&lt;/a&gt;&lt;/code&gt;,
-       the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute
-       must be switched to the &lt;a href=#dom-media-empty title=dom-media-EMPTY&gt;EMPTY&lt;/a&gt; value and the user agent
-       must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
-       event&lt;/a&gt; called &lt;code title=event-emptied&gt;&lt;a href=#event-emptied&gt;emptied&lt;/a&gt;&lt;/code&gt;
-       at the element. (If the &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute
-       has a value greater than &lt;code title=dom-media-LOADING&gt;&lt;a href=#dom-media-loading&gt;LOADING&lt;/a&gt;&lt;/code&gt;, then this doesn't
-       happen; the available data, if any, will be playable.)&lt;/li&gt;
+       &lt;li&gt;If the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute has a
+       value equal to &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;, the
+       element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute
+       must be switched to the &lt;a href=#dom-media-network_empty title=dom-media-NETWORK_EMPTY&gt;NETWORK_EMPTY&lt;/a&gt; value and
+       the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a
+       simple event&lt;/a&gt; called &lt;code title=event-emptied&gt;&lt;a href=#event-emptied&gt;emptied&lt;/a&gt;&lt;/code&gt; at the element. (If the
+       &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute
+       has a value greater than &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;, then this
+       doesn't happen; the available data, if any, will be
+       playable.)&lt;/li&gt;
 
        &lt;li&gt;These steps must be aborted.&lt;/li&gt;
 
@@ -17163,8 +17165,8 @@
       &lt;ol&gt;&lt;li&gt;&lt;p&gt;The &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; must be set
        to the &lt;var&gt;&lt;a href=#effective-start&gt;effective start&lt;/a&gt;&lt;/var&gt;.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;The &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute
-       must be set to &lt;code title=dom-media-LOADED_METADATA&gt;&lt;a href=#dom-media-loaded_metadata&gt;LOADED_METADATA&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;The &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
+       attribute must be set to &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
 
        &lt;li&gt;&lt;p class=note&gt;A number of attributes, including &lt;code title=dom-media-duration&gt;&lt;a href=#dom-media-duration&gt;duration&lt;/a&gt;&lt;/code&gt;, &lt;code title=dom-media-buffered&gt;&lt;a href=#dom-media-buffered&gt;buffered&lt;/a&gt;&lt;/code&gt;, and &lt;code title=dom-media-played&gt;&lt;a href=#dom-media-played&gt;played&lt;/a&gt;&lt;/code&gt;, become
        available.&lt;/li&gt;
@@ -17173,8 +17175,8 @@
        &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-durationchange&gt;&lt;a href=#event-durationchange&gt;durationchange&lt;/a&gt;&lt;/code&gt; at the
        element at this point.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;The user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
-       &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-loadedmetadata&gt;&lt;a href=#event-loadedmetadata&gt;loadedmetadata&lt;/a&gt;&lt;/code&gt; at the
+       &lt;li id=fire-loadedmetadata&gt;&lt;p&gt;The user agent must &lt;a href=#queue-a-task&gt;queue
+       a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-loadedmetadata&gt;&lt;a href=#event-loadedmetadata&gt;loadedmetadata&lt;/a&gt;&lt;/code&gt; at the
        element.&lt;/li&gt;
 
       &lt;/ol&gt;&lt;/dd&gt;
@@ -17188,45 +17190,36 @@
 
       &lt;p&gt;The user agent must follow these substeps:&lt;/p&gt;
 
-      &lt;ol&gt;&lt;li&gt;&lt;p&gt;The &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute
-       must be set to &lt;code title=dom-media-LOADED_FIRST_FRAME&gt;&lt;a href=#dom-media-loaded_first_frame&gt;LOADED_FIRST_FRAME&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+      &lt;ol&gt;&lt;li&gt;&lt;p&gt;The &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
+       attribute must change to &lt;code title=dom-media-HAVE_CURRENT_DATA&gt;&lt;a href=#dom-media-have_current_data&gt;HAVE_CURRENT_DATA&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;The &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute must
-       change to &lt;code title=dom-media-CAN_SHOW_CURRENT_FRAME&gt;&lt;a href=#dom-media-can_show_current_frame&gt;CAN_SHOW_CURRENT_FRAME&lt;/a&gt;&lt;/code&gt;.&lt;/li&gt;
+       &lt;li&gt;&lt;p id=fire-loadeddata&gt;The user agent must &lt;a href=#queue-a-task&gt;queue a
+       task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-loadeddata&gt;&lt;a href=#event-loadeddata&gt;loadeddata&lt;/a&gt;&lt;/code&gt; at the element.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;The &lt;a href=#loaded-first-frame-flag&gt;loaded-first-frame flag&lt;/a&gt; must be set to
-       true.&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;The user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
-       &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-loadedfirstframe&gt;&lt;a href=#event-loadedfirstframe&gt;loadedfirstframe&lt;/a&gt;&lt;/code&gt; at the
-       element.&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;The user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
-       &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-canshowcurrentframe&gt;&lt;a href=#event-canshowcurrentframe&gt;canshowcurrentframe&lt;/a&gt;&lt;/code&gt; at
-       the element.&lt;/li&gt;
-
       &lt;/ol&gt;&lt;/dd&gt;
 
     &lt;/dl&gt;&lt;p&gt;When the user agent has completely fetched of the entire
-    &lt;a href=#media-resource&gt;media resource&lt;/a&gt;, it must move on to the next step.&lt;/p&gt;
+    &lt;a href=#media-resource&gt;media resource&lt;/a&gt;, it must move on to the next
+    step. This might never happen, e.g. when streaming an infinite
+    resource such as Web radio.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the fetching process completes without errors, the
    &lt;a href=#begun-flag&gt;begun flag&lt;/a&gt; must be set to false, the &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute must
-   be set to &lt;code title=dom-media-LOADED&gt;&lt;a href=#dom-media-loaded&gt;LOADED&lt;/a&gt;&lt;/code&gt;, and the
+   be set to &lt;code title=dom-media-NETWORK_LOADED&gt;&lt;a href=#dom-media-network_loaded&gt;NETWORK_LOADED&lt;/a&gt;&lt;/code&gt;, and the
    user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-progress-event&gt;fire a progress
    event&lt;/a&gt; called &lt;code title=event-load&gt;&lt;a href=#event-load&gt;load&lt;/a&gt;&lt;/code&gt; at the
    element.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;p&gt;If a &lt;a href=#media-element&gt;media element&lt;/a&gt; whose &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; has the value
-  &lt;code title=dom-media-EMPTY&gt;&lt;a href=#dom-media-empty&gt;EMPTY&lt;/a&gt;&lt;/code&gt; is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an
-  element into a document&quot;&gt;inserted into a document&lt;/a&gt;, the user
-  agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that implicitly invokes the
-  &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt; method on the &lt;a href=#media-element&gt;media
-  element&lt;/a&gt;, and ignores any resulting exceptions. The &lt;a href=#task-source&gt;task
-  source&lt;/a&gt; for this task is the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s own
-  &lt;a href=#media-element-new-resource-task-source&gt;media element new resource task source&lt;/a&gt;.&lt;/p&gt;
+  &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt; is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an element into a document&quot;&gt;inserted into a
+  document&lt;/a&gt;, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; that
+  implicitly invokes the &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt;
+  method on the &lt;a href=#media-element&gt;media element&lt;/a&gt;, and ignores any resulting
+  exceptions. The &lt;a href=#task-source&gt;task source&lt;/a&gt; for this task is the
+  &lt;a href=#media-element&gt;media element&lt;/a&gt;'s own &lt;a href=#media-element-new-resource-task-source&gt;media element new resource
+  task source&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-media-bufferingrate title=dom-media-bufferingRate&gt;&lt;code&gt;bufferingRate&lt;/code&gt;&lt;/dfn&gt;
   attribute must return the average number of bits received per second
@@ -17387,8 +17380,10 @@
    value must be set to &lt;span&gt;&lt;code title=dom-media-playCount&gt;&lt;a href=#dom-media-playcount&gt;playCount&lt;/a&gt;&lt;/code&gt;-1&lt;/span&gt; (which will
    make the current loop the last loop).&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; is in the &lt;code title=dom-media-EMPTY&gt;&lt;a href=#dom-media-empty&gt;EMPTY&lt;/a&gt;&lt;/code&gt; state or the &lt;code title=dom-media-LOADING&gt;&lt;a href=#dom-media-loading&gt;LOADING&lt;/a&gt;&lt;/code&gt; state, then the user agent
-   must at this point abort these steps.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; is in the &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt; state, then the
+   user agent must at this point abort these steps.&lt;/li&gt;
+   &lt;!-- because we don't have the duration yet, so many of the
+   following concepts are undefined --&gt;
 
    &lt;li&gt;&lt;p&gt;If the &lt;code title=dom-media-currentLoop&gt;&lt;a href=#dom-media-currentloop&gt;currentLoop&lt;/a&gt;&lt;/code&gt; is zero, and the
    &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; is before the &lt;var&gt;&lt;a href=#effective-start&gt;effective
@@ -17421,43 +17416,53 @@
   at any particular time is the greatest value describing the state of
   the element:&lt;/p&gt;
 
-  &lt;dl&gt;&lt;dt&gt;&lt;dfn id=dom-media-data_unavailable title=dom-media-DATA_UNAVAILABLE&gt;&lt;code&gt;DATA_UNAVAILABLE&lt;/code&gt;&lt;/dfn&gt; (numeric value 0)&lt;/dt&gt;
+  &lt;dl&gt;&lt;dt&gt;&lt;dfn id=dom-media-have_nothing title=dom-media-HAVE_NOTHING&gt;&lt;code&gt;HAVE_NOTHING&lt;/code&gt;&lt;/dfn&gt; (numeric value 0)&lt;/dt&gt;
 
-   &lt;dd&gt;No data for the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; is
-   available. &lt;a href=#media-element title=&quot;media element&quot;&gt;Media elements&lt;/a&gt; whose
-   &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute
-   is less than &lt;code title=dom-media-LOADED_FIRST_FRAME&gt;&lt;a href=#dom-media-loaded_first_frame&gt;LOADED_FIRST_FRAME&lt;/a&gt;&lt;/code&gt;
-   are always in the &lt;code title=dom-media-DATA_UNAVAILABLE&gt;&lt;a href=#dom-media-data_unavailable&gt;DATA_UNAVAILABLE&lt;/a&gt;&lt;/code&gt;
+   &lt;dd&gt;No information regardig the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; is
+   available. No data for the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;
+   is available. &lt;a href=#media-element title=&quot;media element&quot;&gt;Media elements&lt;/a&gt;
+   whose &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt;
+   attribute is &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt; are always in
+   the &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;
    state.&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn id=dom-media-can_show_current_frame title=dom-media-CAN_SHOW_CURRENT_FRAME&gt;&lt;code&gt;CAN_SHOW_CURRENT_FRAME&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn id=dom-media-have_metadata title=dom-media-HAVE_METADATA&gt;&lt;code&gt;HAVE_METADATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
 
+   &lt;dd&gt;Enough of the resource has been obtained that the metadata
+   attributes are initialized (e.g. the length is known). The API will
+   no longer raise an exception when seeking.&lt;/dd&gt;
+
+   &lt;dt&gt;&lt;dfn id=dom-media-have_some_data title=dom-media-HAVE_SOME_DATA&gt;&lt;code&gt;HAVE_SOME_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
+
    &lt;dd&gt;Data for the immediate &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;
+   is not available, but there is at least one playback position for
+   which the &lt;i&gt;ready state&lt;/i&gt; would have a value of &lt;code title=dom-media-HAVE_CURRENT_DATA&gt;&lt;a href=#dom-media-have_current_data&gt;HAVE_CURRENT_DATA&lt;/a&gt;&lt;/code&gt; or
+   greater.&lt;/dd&gt;
+
+   &lt;dt&gt;&lt;dfn id=dom-media-have_current_data title=dom-media-HAVE_CURRENT_DATA&gt;&lt;code&gt;HAVE_CURRENT_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
+
+   &lt;dd&gt;Data for the immediate &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;
    is available, but not enough data is available that the user agent
    could successfully advance the &lt;a href=#current-playback-position&gt;current playback
-   position&lt;/a&gt; at all without immediately reverting to the &lt;code title=dom-media-DATA_UNAVAILABLE&gt;&lt;a href=#dom-media-data_unavailable&gt;DATA_UNAVAILABLE&lt;/a&gt;&lt;/code&gt; state. In video,
-   this corresponds to the user agent having data from the current
-   frame, but not the next frame. In audio, this corresponds to the
-   user agent only having audio up to the &lt;a href=#current-playback-position&gt;current playback
-   position&lt;/a&gt;, but no further.&lt;/dd&gt;
+   position&lt;/a&gt; at all without immediately reverting to the &lt;code title=dom-media-HAVE_SOME_DATA&gt;&lt;a href=#dom-media-have_some_data&gt;HAVE_SOME_DATA&lt;/a&gt;&lt;/code&gt; state. For
+   example, in video this corresponds to the user agent having data
+   from the current frame, but not the next frame.&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn id=dom-media-can_play title=dom-media-CAN_PLAY&gt;&lt;code&gt;CAN_PLAY&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn id=dom-media-have_future_data title=dom-media-HAVE_FUTURE_DATA&gt;&lt;code&gt;HAVE_FUTURE_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 4)&lt;/dt&gt;
 
    &lt;dd&gt;Data for the immediate &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;
    is available, as well as enough data for the user agent to advance
    the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; at least a little
-   without immediately reverting to the &lt;code title=dom-media-DATA_UNAVAILABLE&gt;&lt;a href=#dom-media-data_unavailable&gt;DATA_UNAVAILABLE&lt;/a&gt;&lt;/code&gt; state. In video,
-   this corresponds to the user agent having data for the current
-   frame and the next frame. In audio, this corresponds to the user
-   agent having data beyond the &lt;a href=#current-playback-position&gt;current playback
-   position&lt;/a&gt;.&lt;/dd&gt;
+   without immediately reverting to the &lt;code title=dom-media-HAVE_SOME_DATA&gt;&lt;a href=#dom-media-have_some_data&gt;HAVE_SOME_DATA&lt;/a&gt;&lt;/code&gt; state. For
+   example, In video this corresponds to the user agent having data
+   for at least the current frame and the next frame.&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn id=dom-media-can_play_through title=dom-media-CAN_PLAY_THROUGH&gt;&lt;code&gt;CAN_PLAY_THROUGH&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn id=dom-media-have_enough_data title=dom-media-HAVE_ENOUGH_DATA&gt;&lt;code&gt;HAVE_ENOUGH_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 5)&lt;/dt&gt;
 
    &lt;dd&gt;Data for the immediate &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;
    is available, as well as enough data for the user agent to advance
    the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; at least a little
-   without immediately reverting to the &lt;code title=dom-media-DATA_UNAVAILABLE&gt;&lt;a href=#dom-media-data_unavailable&gt;DATA_UNAVAILABLE&lt;/a&gt;&lt;/code&gt; state,
+   without immediately reverting to the &lt;code title=dom-media-HAVE_SOME_DATA&gt;&lt;a href=#dom-media-have_some_data&gt;HAVE_SOME_DATA&lt;/a&gt;&lt;/code&gt; state,
    and, in addition, the user agent estimates that data is being
    fetched at a rate where the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;,
    if it were to advance at the rate given by the &lt;code title=dom-media-defaultPlaybackRate&gt;&lt;a href=#dom-media-defaultplaybackrate&gt;defaultPlaybackRate&lt;/a&gt;&lt;/code&gt;
@@ -17465,55 +17470,68 @@
    reaches the &lt;a href=#effective-end&gt;effective end&lt;/a&gt; of the &lt;a href=#media-resource&gt;media
    resource&lt;/a&gt; on the last &lt;a href=#dom-media-playcount title=dom-media-playCount&gt;loop&lt;/a&gt;.&lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;p&gt;When the ready state of a &lt;a href=#media-element&gt;media element&lt;/a&gt; whose &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; is not &lt;code title=dom-media-EMPTY&gt;&lt;a href=#dom-media-empty&gt;EMPTY&lt;/a&gt;&lt;/code&gt; changes, the user agent must
-  follow the steps given below:&lt;/p&gt;
+  &lt;/dl&gt;&lt;p&gt;When the ready state of a &lt;a href=#media-element&gt;media element&lt;/a&gt; whose &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; is not &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt; changes, the
+  user agent must follow the steps given below:&lt;/p&gt;
 
-  &lt;dl class=switch&gt;&lt;dt&gt;If the new ready state is &lt;code title=dom-media-DATA_UNAVAILABLE&gt;&lt;a href=#dom-media-data_unavailable&gt;DATA_UNAVAILABLE&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+  &lt;dl class=switch&gt;&lt;!-- going up to metadata --&gt;&lt;dt&gt;If the prevous ready state was &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;, and the new
+   ready state is &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;The user agent must &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called
-   &lt;code title=event-dataunavailable&gt;&lt;a href=#event-dataunavailable&gt;dataunavailable&lt;/a&gt;&lt;/code&gt; at the
-   element.&lt;/dd&gt;
+   &lt;dd&gt;
 
-   &lt;dt&gt;If the new ready state is &lt;code title=dom-media-CAN_SHOW_CURRENT_FRAME&gt;&lt;a href=#dom-media-can_show_current_frame&gt;CAN_SHOW_CURRENT_FRAME&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+    &lt;p class=note&gt;A &lt;code title=event-loadedmetadata&gt;&lt;a href=#event-loadedmetadata&gt;loadedmetadata&lt;/a&gt;&lt;/code&gt; DOM event &lt;a href=#fire-loadedmetadata&gt;will be fired&lt;/a&gt; as part of the &lt;code title=dom-event-load&gt;load()&lt;/code&gt; algorithm.&lt;/p&gt;
 
+   &lt;/dd&gt;
+
+   &lt;!-- going up to current --&gt;
+   &lt;dt&gt;If the prevous ready state was &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt;, and the new
+   ready state is &lt;code title=dom-media-HAVE_CURRENT_DATA&gt;&lt;a href=#dom-media-have_current_data&gt;HAVE_CURRENT_DATA&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
    &lt;dd&gt;
 
-    &lt;p&gt;If the element's &lt;a href=#loaded-first-frame-flag&gt;loaded-first-frame flag&lt;/a&gt; is true,
-    the user agent must &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-canshowcurrentframe&gt;&lt;a href=#event-canshowcurrentframe&gt;canshowcurrentframe&lt;/a&gt;&lt;/code&gt;
-    event.&lt;/p&gt;
+    &lt;p class=note&gt;A &lt;code title=event-loadeddata&gt;&lt;a href=#event-loadeddata&gt;loadeddata&lt;/a&gt;&lt;/code&gt;
+    DOM event &lt;a href=#fire-loadeddata&gt;will be fired&lt;/a&gt; as part of
+    the &lt;code title=dom-event-load&gt;load()&lt;/code&gt; algorithm.&lt;/p&gt;
 
-    &lt;p class=note&gt;The first time the &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute
-    switches to this value, the &lt;a href=#loaded-first-frame-flag&gt;loaded-first-frame flag&lt;/a&gt;
-    is false, and the event is fired &lt;a href=#handling-first-frame-available&gt;by the algorithm described
-    above&lt;/a&gt; for the &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt;
-    method, in conjunction with other steps.&lt;/p&gt;
+   &lt;/dd&gt;
 
+   &lt;!-- going down --&gt;
+   &lt;dt&gt;If the prevous ready state was &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt; or more,
+   and the new ready state is &lt;code title=dom-media-HAVE_CURRENT_DATA&gt;&lt;a href=#dom-media-have_current_data&gt;HAVE_CURRENT_DATA&lt;/a&gt;&lt;/code&gt; or
+   less&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p class=note&gt;A &lt;code title=event-waiting&gt;&lt;a href=#event-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt; DOM
+    event &lt;a href=#fire-waiting-when-waiting&gt;can be fired&lt;/a&gt;,
+    depending on the current state of playback.&lt;/p&gt;
+
    &lt;/dd&gt;
 
-   &lt;dt&gt;If the new ready state is &lt;code title=dom-media-CAN_PLAY&gt;&lt;a href=#dom-media-can_play&gt;CAN_PLAY&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+   &lt;!-- going up to future --&gt;
+   &lt;dt&gt;If the prevous ready state was &lt;code title=dom-media-HAVE_CURRENT_DATA&gt;&lt;a href=#dom-media-have_current_data&gt;HAVE_CURRENT_DATA&lt;/a&gt;&lt;/code&gt; or
+   less, and the new ready state is &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt; or
+   more&lt;/dt&gt;
 
    &lt;dd&gt;&lt;p&gt;The user agent must &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called
    &lt;code title=event-canplay&gt;&lt;a href=#event-canplay&gt;canplay&lt;/a&gt;&lt;/code&gt;.&lt;/dd&gt;
 
-   &lt;dt&gt;If the new ready state is &lt;code title=dom-media-CAN_PLAY_THROUGH&gt;&lt;a href=#dom-media-can_play_through&gt;CAN_PLAY_THROUGH&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+   &lt;dt&gt;If the new ready state is &lt;code title=dom-media-HAVE_ENOUGH_DATA&gt;&lt;a href=#dom-media-have_enough_data&gt;HAVE_ENOUGH_DATA&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;&lt;p&gt;The user agent must &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called
-   &lt;code title=event-canplaythrough&gt;&lt;a href=#event-canplaythrough&gt;canplaythrough&lt;/a&gt;&lt;/code&gt; event. If
-   the &lt;a href=#autoplaying-flag&gt;autoplaying flag&lt;/a&gt; is true, and the &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; attribute is true, and the
+   &lt;code title=event-canplaythrough&gt;&lt;a href=#event-canplaythrough&gt;canplaythrough&lt;/a&gt;&lt;/code&gt; event.
+   &lt;!-- XXX make sure it fires after canplay when fixing queueing here --&gt;
+   If the
+   &lt;a href=#autoplaying-flag&gt;autoplaying flag&lt;/a&gt; is true, and the &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; attribute is true, and the
    &lt;a href=#media-element&gt;media element&lt;/a&gt; has an &lt;code title=attr-media-autoplay&gt;&lt;a href=#attr-media-autoplay&gt;autoplay&lt;/a&gt;&lt;/code&gt; attribute specified,
    then the user agent must also set the &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; attribute to false and
    &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-play&gt;&lt;a href=#event-play&gt;play&lt;/a&gt;&lt;/code&gt;.&lt;/dd&gt;
 
   &lt;/dl&gt;&lt;p class=note&gt;It is possible for the ready state of a media
   element to jump between these states discontinuously. For example,
-  the state of a media element whose &lt;a href=#loaded-first-frame-flag&gt;loaded-first-frame
-  flag&lt;/a&gt; is false can jump straight from &lt;code title=dom-media-DATA_UNAVAILABLE&gt;&lt;a href=#dom-media-data_unavailable&gt;DATA_UNAVAILABLE&lt;/a&gt;&lt;/code&gt; to &lt;code title=dom-media-CAN_PLAY_THROUGH&gt;&lt;a href=#dom-media-can_play_through&gt;CAN_PLAY_THROUGH&lt;/a&gt;&lt;/code&gt; without
-  passing through the &lt;code title=dom-media-CAN_SHOW_CURRENT_FRAME&gt;&lt;a href=#dom-media-can_show_current_frame&gt;CAN_SHOW_CURRENT_FRAME&lt;/a&gt;&lt;/code&gt;
-  and &lt;code title=dom-media-CAN_PLAY&gt;&lt;a href=#dom-media-can_play&gt;CAN_PLAY&lt;/a&gt;&lt;/code&gt; states, and
-  thus without firing the &lt;code title=event-canshowcurrentframe&gt;&lt;a href=#event-canshowcurrentframe&gt;canshowcurrentframe&lt;/a&gt;&lt;/code&gt; and
-  &lt;code title=event-canplay&gt;&lt;a href=#event-canplay&gt;canplay&lt;/a&gt;&lt;/code&gt; events. The only state
-  that is guaranteed to be reached is the &lt;code title=dom-media-CAN_SHOW_CURRENT_FRAME&gt;&lt;a href=#dom-media-can_show_current_frame&gt;CAN_SHOW_CURRENT_FRAME&lt;/a&gt;&lt;/code&gt;
-  state, which is reached as part of the &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt; method's processing.&lt;/p&gt;
+  the state of a media element can jump straight from &lt;code title=dom-media-HAVE_SOME_DATA&gt;&lt;a href=#dom-media-have_some_data&gt;HAVE_SOME_DATA&lt;/a&gt;&lt;/code&gt; to &lt;code title=dom-media-HAVE_ENOUGH_DATA&gt;&lt;a href=#dom-media-have_enough_data&gt;HAVE_ENOUGH_DATA&lt;/a&gt;&lt;/code&gt; without
+  passing through the &lt;code title=dom-media-HAVE_CURRENT_DATA&gt;&lt;a href=#dom-media-have_current_data&gt;HAVE_CURRENT_DATA&lt;/a&gt;&lt;/code&gt; and
+  &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt;
+  states.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-media-readystate title=dom-media-readyState&gt;&lt;code&gt;readyState&lt;/code&gt;&lt;/dfn&gt; DOM
   attribute must, on getting, return the value described above that
@@ -17592,15 +17610,15 @@
   &lt;p&gt;A &lt;a href=#media-element&gt;media element&lt;/a&gt; is said to be &lt;dfn id=potentially-playing&gt;potentially
   playing&lt;/dfn&gt; when its &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt;
   attribute is false, the &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is either
-  &lt;code title=dom-media-CAN_PLAY&gt;&lt;a href=#dom-media-can_play&gt;CAN_PLAY&lt;/a&gt;&lt;/code&gt; or &lt;code title=dom-media-CAN_PLAY_THROUGH&gt;&lt;a href=#dom-media-can_play_through&gt;CAN_PLAY_THROUGH&lt;/a&gt;&lt;/code&gt;, the
-  element has not &lt;a href=#ended-playback&gt;ended playback&lt;/a&gt;, playback has not
+  &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt; or
+  &lt;code title=dom-media-HAVE_ENOUGH_DATA&gt;&lt;a href=#dom-media-have_enough_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt;,
+  the element has not &lt;a href=#ended-playback&gt;ended playback&lt;/a&gt;, playback has not
   &lt;a href=#stopped-due-to-errors&gt;stopped due to errors&lt;/a&gt;, and the element has not
   &lt;a href=#paused-for-user-interaction&gt;paused for user interaction&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;A &lt;a href=#media-element&gt;media element&lt;/a&gt; is said to have &lt;dfn id=ended-playback&gt;ended
-  playback&lt;/dfn&gt; when the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute is
-  &lt;code title=dom-media-LOADED_METADATA&gt;&lt;a href=#dom-media-loaded_metadata&gt;LOADED_METADATA&lt;/a&gt;&lt;/code&gt; or
-  greater, the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; is equal to the
+  playback&lt;/dfn&gt; when the element's &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAD_METADATA&lt;/a&gt;&lt;/code&gt; or greater, the
+  &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; is equal to the
   &lt;var&gt;&lt;a href=#effective-end&gt;effective end&lt;/a&gt;&lt;/var&gt; of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;, and the
   &lt;code title=dom-media-currentLoop&gt;&lt;a href=#dom-media-currentloop&gt;currentLoop&lt;/a&gt;&lt;/code&gt; attribute is
   equal to &lt;span&gt;&lt;code title=dom-media-playCount&gt;&lt;a href=#dom-media-playcount&gt;playCount&lt;/a&gt;&lt;/code&gt;-1&lt;/span&gt;.&lt;/p&gt;
@@ -17610,19 +17628,19 @@
   &lt;a href=#ended-playback&gt;ended playback&lt;/a&gt;, and false otherwise.&lt;/p&gt;
 
   &lt;p&gt;A &lt;a href=#media-element&gt;media element&lt;/a&gt; is said to have &lt;dfn id=stopped-due-to-errors&gt;stopped due to
-  errors&lt;/dfn&gt; when the element's &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute is
-  &lt;code title=dom-media-LOADED_METADATA&gt;&lt;a href=#dom-media-loaded_metadata&gt;LOADED_METADATA&lt;/a&gt;&lt;/code&gt; or
-  greater, and the user agent &lt;a href=#non-fatal-media-error&gt;encounters a non-fatal error&lt;/a&gt;
-  during the processing of the &lt;a href=#media-data&gt;media data&lt;/a&gt;, and due to
-  that error, is not able to play the content at the &lt;a href=#current-playback-position&gt;current
-  playback position&lt;/a&gt;.&lt;/p&gt;
+  errors&lt;/dfn&gt; when the element's &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt; or greater, and
+  the user agent &lt;a href=#non-fatal-media-error&gt;encounters a
+  non-fatal error&lt;/a&gt; during the processing of the &lt;a href=#media-data&gt;media
+  data&lt;/a&gt;, and due to that error, is not able to play the content
+  at the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;A &lt;a href=#media-element&gt;media element&lt;/a&gt; is said to have &lt;dfn id=paused-for-user-interaction&gt;paused for user
   interaction&lt;/dfn&gt; when its &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; attribute is false, the &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is either
-  &lt;code title=dom-media-CAN_PLAY&gt;&lt;a href=#dom-media-can_play&gt;CAN_PLAY&lt;/a&gt;&lt;/code&gt; or &lt;code title=dom-media-CAN_PLAY_THROUGH&gt;&lt;a href=#dom-media-can_play_through&gt;CAN_PLAY_THROUGH&lt;/a&gt;&lt;/code&gt; and the
-  user agent has reached a point in the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;
-  where the user has to make a selection for the resource to
-  continue.&lt;/p&gt;
+  &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt; or
+  &lt;code title=dom-media-HAVE_ENOUGH_DATA&gt;&lt;a href=#dom-media-have_enough_data&gt;HAVE_ENOUGH_DATA&lt;/a&gt;&lt;/code&gt; and
+  the user agent has reached a point in the &lt;a href=#media-resource&gt;media
+  resource&lt;/a&gt; where the user has to make a selection for the
+  resource to continue.&lt;/p&gt;
 
   &lt;p&gt;It is possible for a &lt;a href=#media-element&gt;media element&lt;/a&gt; to have both
   &lt;a href=#ended-playback&gt;ended playback&lt;/a&gt; and &lt;a href=#paused-for-user-interaction&gt;paused for user
@@ -17636,14 +17654,15 @@
   &lt;p id=fire-waiting-when-waiting&gt;When a &lt;a href=#media-element&gt;media element&lt;/a&gt;
   that is &lt;a href=#potentially-playing&gt;potentially playing&lt;/a&gt; stops playing because its
   &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute
-  changes to a value lower than &lt;code title=dom-media-CAN_PLAY&gt;&lt;a href=#dom-media-can_play&gt;CAN_PLAY&lt;/a&gt;&lt;/code&gt;, without the element
-  having &lt;a href=#ended-playback&gt;ended playback&lt;/a&gt;, or playback having &lt;a href=#stopped-due-to-errors&gt;stopped
-  due to errors&lt;/a&gt;, or playback having &lt;a href=#paused-for-user-interaction&gt;paused for user
-  interaction&lt;/a&gt;, or the &lt;a href=#dom-media-seek title=dom-media-seek&gt;seeking
-  algorithm&lt;/a&gt; being invoked, the user agent must &lt;a href=#queue-a-task&gt;queue a
-  task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called &lt;code title=event-timeupdate&gt;&lt;a href=#event-timeupdate&gt;timeupdate&lt;/a&gt;&lt;/code&gt; at the element, and
-  &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; called
-  &lt;code title=event-waiting&gt;&lt;a href=#event-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt; at the element.&lt;/p&gt;
+  changes to a value lower than &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt;, without
+  the element having &lt;a href=#ended-playback&gt;ended playback&lt;/a&gt;, or playback having
+  &lt;a href=#stopped-due-to-errors&gt;stopped due to errors&lt;/a&gt;, or playback having &lt;a href=#paused-for-user-interaction&gt;paused
+  for user interaction&lt;/a&gt;, or the &lt;a href=#dom-media-seek title=dom-media-seek&gt;seeking algorithm&lt;/a&gt; being invoked, the
+  user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
+  event&lt;/a&gt; called &lt;code title=event-timeupdate&gt;&lt;a href=#event-timeupdate&gt;timeupdate&lt;/a&gt;&lt;/code&gt;
+  at the element, and &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
+  event&lt;/a&gt; called &lt;code title=event-waiting&gt;&lt;a href=#event-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt; at
+  the element.&lt;/p&gt;
 
   &lt;p&gt;When &lt;code title=dom-media-currentLoop&gt;&lt;a href=#dom-media-currentloop&gt;currentLoop&lt;/a&gt;&lt;/code&gt; is
   less than &lt;span&gt;&lt;code title=dom-media-playCount&gt;&lt;a href=#dom-media-playcount&gt;playCount&lt;/a&gt;&lt;/code&gt;-1&lt;/span&gt; and the
@@ -17707,7 +17726,7 @@
   must run the following steps.&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute has
-   the value &lt;a href=#dom-media-empty title=dom-media-EMPTY&gt;EMPTY&lt;/a&gt;, then the user
+   the value &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt;, then the user
    agent must invoke the &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt;
    method and wait for it to return. If that raises an exception, that
    exception must be reraised by the &lt;code title=dom-media-play&gt;&lt;a href=#dom-media-play&gt;play()&lt;/a&gt;&lt;/code&gt; method.&lt;/li&gt;
@@ -17755,7 +17774,7 @@
   method is invoked, the user agent must run the following steps:&lt;/p&gt;
 
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute has
-   the value &lt;a href=#dom-media-empty title=dom-media-EMPTY&gt;EMPTY&lt;/a&gt;, then the user
+   the value &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt;, then the user
    agent must invoke the &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt;
    method and wait for it to return. If that raises an exception, that
    exception must be reraised by the &lt;code title=dom-media-play&gt;&lt;a href=#dom-media-play&gt;pause()&lt;/a&gt;&lt;/code&gt; method.&lt;/li&gt;
@@ -17790,17 +17809,13 @@
   playback rate) the client doesn't actually have to drop or
   interpolate any frames.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;code title=dom-media-playbackRate&gt;&lt;a href=#dom-media-playbackrate&gt;playbackRate&lt;/a&gt;&lt;/code&gt;
-  is positive and is a rate at which audio can be played back, and if
-  the audio channels are not &lt;code title=dom-media-muted&gt;&lt;a href=#dom-media-muted&gt;muted&lt;/a&gt;&lt;/code&gt;, then the audio component of
-  the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; should be played synchronised with
-  the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt;. If this rate is not 1.0,
-  the user agent may apply pitch adjustments to the audio as necessary
-  to render it faithfully. When the &lt;code title=dom-media-playbackRate&gt;&lt;a href=#dom-media-playbackrate&gt;playbackRate&lt;/a&gt;&lt;/code&gt; is negative
-  (playback is backwards), the corresponding audio must not play. When
-  the &lt;code title=dom-media-playbackRate&gt;&lt;a href=#dom-media-playbackrate&gt;playbackRate&lt;/a&gt;&lt;/code&gt; is so
-  low or so high that the user agent cannot play audio usefully, the
-  corresponding audio must not play.&lt;/p&gt;
+  &lt;p&gt;When the &lt;code title=dom-media-playbackRate&gt;&lt;a href=#dom-media-playbackrate&gt;playbackRate&lt;/a&gt;&lt;/code&gt;
+  is negative (playback is backwards), any corresponding audio must be
+  muted. When the &lt;code title=dom-media-playbackRate&gt;&lt;a href=#dom-media-playbackrate&gt;playbackRate&lt;/a&gt;&lt;/code&gt; is so low or so
+  high that the user agent cannot play audio usefully, the
+  corresponding audio must also be muted. If the &lt;code title=dom-media-playbackRate&gt;&lt;a href=#dom-media-playbackrate&gt;playbackRate&lt;/a&gt;&lt;/code&gt; is not 1.0, the
+  user agent may apply pitch adjustments to the audio as necessary to
+  render it faithfully.&lt;/p&gt;
 
   &lt;p&gt;&lt;a href=#media-element title=&quot;media element&quot;&gt;Media elements&lt;/a&gt; that are
   &lt;a href=#potentially-playing&gt;potentially playing&lt;/a&gt; while not &lt;span&gt;in a
@@ -17885,8 +17900,8 @@
   &lt;/ol&gt;&lt;p&gt;When a &lt;a href=#media-element&gt;media element&lt;/a&gt; is &lt;span&gt;removed from a
   &lt;code&gt;Document&lt;/code&gt;&lt;!-- XXX xref removed --&gt;&lt;/span&gt;, if the
   &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; attribute has a
-  value other than &lt;a href=#dom-media-empty title=dom-media-EMPTY&gt;EMPTY&lt;/a&gt; then the
-  user agent must act as if the &lt;code title=dom-media-pause&gt;&lt;a href=#dom-media-pause&gt;pause()&lt;/a&gt;&lt;/code&gt; method had been invoked.&lt;/p&gt;
+  value other than &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt; then the user
+  agent must act as if the &lt;code title=dom-media-pause&gt;&lt;a href=#dom-media-pause&gt;pause()&lt;/a&gt;&lt;/code&gt; method had been invoked.&lt;/p&gt;
 
   &lt;p class=note&gt;If the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s
   &lt;code&gt;Document&lt;/code&gt; stops being an active document, then the
@@ -17905,11 +17920,10 @@
   playback position&lt;/var&gt; in the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;, it means
   that the user agent must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; is less than
-   &lt;code title=dom-media-LOADED_METADATA&gt;&lt;a href=#dom-media-loaded_metadata&gt;LOADED_METADATA&lt;/a&gt;&lt;/code&gt;,
-   then the user agent must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt;
-   exception (if the seek was in response to a DOM method call or
-   setting of a DOM attribute), and abort these steps.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the &lt;a href=#media-element&gt;media element&lt;/a&gt;'s &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; is &lt;code title=dom-media-HAVE_NOTHING&gt;&lt;a href=#dom-media-have_nothing&gt;HAVE_NOTHING&lt;/a&gt;&lt;/code&gt;, then the user
+   agent must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception (if
+   the seek was in response to a DOM method call or setting of a DOM
+   attribute), and abort these steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If &lt;code title=dom-media-currentLoop&gt;&lt;a href=#dom-media-currentloop&gt;currentLoop&lt;/a&gt;&lt;/code&gt; is
    0, let &lt;var title=&quot;&quot;&gt;min&lt;/var&gt; be the &lt;var&gt;&lt;a href=#effective-start&gt;effective
@@ -17944,10 +17958,10 @@
    &lt;li&gt;&lt;p&gt;If the &lt;a href=#media-element&gt;media element&lt;/a&gt; was &lt;a href=#potentially-playing&gt;potentially
    playing&lt;/a&gt; immediately before it started seeking, but seeking
    caused its &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt;
-   attribute to change to a value lower than &lt;code title=dom-media-CAN_PLAY&gt;&lt;a href=#dom-media-can_play&gt;CAN_PLAY&lt;/a&gt;&lt;/code&gt;, the user agent must
-   &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt;
-   called &lt;code title=event-waiting&gt;&lt;a href=#event-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt; at the
-   element.&lt;/li&gt;
+   attribute to change to a value lower than &lt;code title=dom-media-HAVE_FUTURE_FRAME&gt;HAVE_FUTURE_FRAME&lt;/code&gt;, the
+   user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
+   event&lt;/a&gt; called &lt;code title=event-waiting&gt;&lt;a href=#event-waiting&gt;waiting&lt;/a&gt;&lt;/code&gt; at
+   the element.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If, when it reaches this step, the user agent has still not
    established whether or not the &lt;a href=#media-data&gt;media data&lt;/a&gt; for the &lt;var title=&quot;&quot;&gt;new playback position&lt;/var&gt; is available, and, if it is,
@@ -17987,6 +18001,11 @@
   as the time of the first frame plus the &lt;code title=dom-media-duration&gt;&lt;a href=#dom-media-duration&gt;duration&lt;/a&gt;&lt;/code&gt; attribute's value (which
   would equal the time of the last frame).&lt;/p&gt;
 
+  &lt;p class=note&gt;The range might be continuously changing, e.g. if
+  the user agent is buffering a sliding window on an infinite
+  stream. This is the behavior seen with DVRs viewing live TV, for
+  instance.&lt;/p&gt;
+
   &lt;p&gt;&lt;a href=#media-resource title=&quot;media resource&quot;&gt;Media resources&lt;/a&gt; might be
   internally scripted or interactive. Thus, a &lt;a href=#media-element&gt;media
   element&lt;/a&gt; could play in a non-linear fashion. If this happens,
@@ -18171,42 +18190,39 @@
    &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=event-loadstart title=event-loadstart&gt;&lt;code&gt;loadstart&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt; &lt;a href=#refsPROGRESS&gt;[PROGRESS]&lt;/a&gt;
      &lt;td&gt;The user agent begins fetching the &lt;a href=#media-data&gt;media data&lt;/a&gt;, synchronously during the &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt; method call.
-     &lt;td&gt;&lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; equals &lt;code title=dom-media-LOADING&gt;&lt;a href=#dom-media-loading&gt;LOADING&lt;/a&gt;&lt;/code&gt;
+     &lt;td&gt;&lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; equals &lt;code title=dom-media-NETWORK_LOADING&gt;&lt;a href=#dom-media-network_loading&gt;NETWORK_LOADING&lt;/a&gt;&lt;/code&gt;
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-progress title=event-progress&gt;&lt;code&gt;progress&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt; &lt;a href=#refsPROGRESS&gt;[PROGRESS]&lt;/a&gt;
      &lt;td&gt;The user agent is fetching &lt;a href=#media-data&gt;media data&lt;/a&gt;.
-     &lt;td&gt;&lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; is more than &lt;code title=dom-media-EMPTY&gt;&lt;a href=#dom-media-empty&gt;EMPTY&lt;/a&gt;&lt;/code&gt; and less than &lt;code title=dom-media-LOADED&gt;&lt;a href=#dom-media-loaded&gt;LOADED&lt;/a&gt;&lt;/code&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-loadedmetadata title=event-loadedmetadata&gt;&lt;code&gt;loadedmetadata&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;The user agent is fetching &lt;a href=#media-data&gt;media data&lt;/a&gt;, and the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;'s metadata has just been received.
-     &lt;td&gt;&lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; equals &lt;code title=dom-media-LOADED_METADATA&gt;&lt;a href=#dom-media-loaded_metadata&gt;LOADED_METADATA&lt;/a&gt;&lt;/code&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-loadedfirstframe title=event-loadedfirstframe&gt;&lt;code&gt;loadedfirstframe&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;The user agent is fetching &lt;a href=#media-data&gt;media data&lt;/a&gt;, and the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;'s first frame has just been received.
-     &lt;td&gt;&lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; equals &lt;code title=dom-media-LOADED_FIRST_FRAME&gt;&lt;a href=#dom-media-loaded_first_frame&gt;LOADED_FIRST_FRAME&lt;/a&gt;&lt;/code&gt;
+     &lt;td&gt;&lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; equals &lt;code title=dom-media-NETWORK_LOADING&gt;&lt;a href=#dom-media-network_loading&gt;NETWORK_LOADING&lt;/a&gt;&lt;/code&gt;
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-suspend title=event-suspend&gt;&lt;code&gt;suspend&lt;/code&gt;&lt;/dfn&gt;
+     &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt; &lt;a href=#refsPROGRESS&gt;[PROGRESS]&lt;/a&gt;
+     &lt;td&gt;The user agent is intentionally not currently fetching &lt;a href=#media-data&gt;media data&lt;/a&gt;, but does not have the entire &lt;a href=#media-resource&gt;media resource&lt;/a&gt; downloaded.
+     &lt;td&gt;&lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; equals &lt;code title=dom-media-NETWORK_IDLE&gt;&lt;a href=#dom-media-network_idle&gt;NETWORK_IDLE&lt;/a&gt;&lt;/code&gt;
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-load title=event-load&gt;&lt;code&gt;load&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt; &lt;a href=#refsPROGRESS&gt;[PROGRESS]&lt;/a&gt;
      &lt;td&gt;The user agent finishes fetching the entire &lt;a href=#media-resource&gt;media resource&lt;/a&gt;.
-     &lt;td&gt;&lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; equals &lt;code title=dom-media-LOADED&gt;&lt;a href=#dom-media-loaded&gt;LOADED&lt;/a&gt;&lt;/code&gt;
+     &lt;td&gt;&lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; equals &lt;code title=dom-media-NETWORK_LOADED&gt;&lt;a href=#dom-media-network_loaded&gt;NETWORK_LOADED&lt;/a&gt;&lt;/code&gt;
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-abort title=event-abort&gt;&lt;code&gt;abort&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt; &lt;a href=#refsPROGRESS&gt;[PROGRESS]&lt;/a&gt;
      &lt;td&gt;The user agent stops fetching the &lt;a href=#media-data&gt;media data&lt;/a&gt; before it is completely downloaded. This can be fired synchronously during the &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt; method call.
      &lt;td&gt;&lt;code title=dom-media-error&gt;&lt;a href=#dom-media-error&gt;error&lt;/a&gt;&lt;/code&gt; is an object with the code &lt;code title=dom-MediaError-MEDIA_ERR_ABORTED&gt;&lt;a href=#dom-mediaerror-media_err_aborted&gt;MEDIA_ERR_ABORTED&lt;/a&gt;&lt;/code&gt;.
-         &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; equals either &lt;code title=dom-media-EMPTY&gt;&lt;a href=#dom-media-empty&gt;EMPTY&lt;/a&gt;&lt;/code&gt; or &lt;code title=dom-media-LOADED&gt;&lt;a href=#dom-media-loaded&gt;LOADED&lt;/a&gt;&lt;/code&gt;, depending on when the download was aborted.
+         &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; equals either &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt; or &lt;code title=dom-media-NETWORK_LOADED&gt;&lt;a href=#dom-media-network_loaded&gt;NETWORK_LOADED&lt;/a&gt;&lt;/code&gt;, depending on when the download was aborted.
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-error title=event-error&gt;&lt;code&gt;error&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt; &lt;a href=#refsPROGRESS&gt;[PROGRESS]&lt;/a&gt;
      &lt;td&gt;An error occurs while fetching the &lt;a href=#media-data&gt;media data&lt;/a&gt;.
      &lt;td&gt;&lt;code title=dom-media-error&gt;&lt;a href=#dom-media-error&gt;error&lt;/a&gt;&lt;/code&gt; is an object with the code &lt;code title=dom-MediaError-MEDIA_ERR_NETWORK_ERROR&gt;MEDIA_ERR_NETWORK_ERROR&lt;/code&gt; or higher.
-         &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; equals either &lt;code title=dom-media-EMPTY&gt;&lt;a href=#dom-media-empty&gt;EMPTY&lt;/a&gt;&lt;/code&gt; or &lt;code title=dom-media-LOADED&gt;&lt;a href=#dom-media-loaded&gt;LOADED&lt;/a&gt;&lt;/code&gt;, depending on when the download was aborted.
+         &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; equals either &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt; or &lt;code title=dom-media-NETWORK_LOADED&gt;&lt;a href=#dom-media-network_loaded&gt;NETWORK_LOADED&lt;/a&gt;&lt;/code&gt;, depending on when the download was aborted.
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-emptied title=event-emptied&gt;&lt;code&gt;emptied&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;A &lt;a href=#media-element&gt;media element&lt;/a&gt; whose &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; was previously not in the &lt;code title=dom-media-EMPTY&gt;&lt;a href=#dom-media-empty&gt;EMPTY&lt;/a&gt;&lt;/code&gt; state has just switched to that state (either because of a fatal error during load that's about to be reported, or because the &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt; method was reinvoked, in which case it is fired synchronously during the &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt; method call).
-     &lt;td&gt;&lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; is &lt;code title=dom-media-EMPTY&gt;&lt;a href=#dom-media-empty&gt;EMPTY&lt;/a&gt;&lt;/code&gt;; all the DOM attributes are in their initial states.
+     &lt;td&gt;A &lt;a href=#media-element&gt;media element&lt;/a&gt; whose &lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; was previously not in the &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt; state has just switched to that state (either because of a fatal error during load that's about to be reported, or because the &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt; method was reinvoked, in which case it is fired synchronously during the &lt;code title=dom-media-load&gt;&lt;a href=#dom-media-load&gt;load()&lt;/a&gt;&lt;/code&gt; method call).
+     &lt;td&gt;&lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; is &lt;code title=dom-media-NETWORK_EMPTY&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt;; all the DOM attributes are in their initial states.
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-stalled title=event-stalled&gt;&lt;code&gt;stalled&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt;
      &lt;td&gt;The user agent is trying to fetch &lt;a href=#media-data&gt;media data&lt;/a&gt;, but data is unexpectedly not forthcoming.
-     &lt;td&gt;
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-play title=event-play&gt;&lt;code&gt;play&lt;/code&gt;&lt;/dfn&gt;
+     &lt;td&gt;&lt;code title=dom-media-networkState&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; is &lt;code title=dom-media-NETWORK_LOADING&gt;&lt;a href=#dom-media-network_loading&gt;NETWORK_LOADING&lt;/a&gt;&lt;/code&gt;.
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=event-play title=event-play&gt;&lt;code&gt;play&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;Playback has begun. Fired after the &lt;code title=dom-media-play&gt;&lt;a href=#dom-media-play&gt;play&lt;/a&gt;&lt;/code&gt; method has returned.
      &lt;td&gt;&lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; is newly false.
@@ -18214,12 +18230,30 @@
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;Playback has been paused. Fired after the &lt;code title=dom-media-pause&gt;&lt;a href=#dom-media-pause&gt;pause&lt;/a&gt;&lt;/code&gt; method has returned.
      &lt;td&gt;&lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; is newly true.
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=event-loadedmetadata title=event-loadedmetadata&gt;&lt;code&gt;loadedmetadata&lt;/code&gt;&lt;/dfn&gt;
+     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
+     &lt;td&gt;The user agent has just received the metadata, such as duration or dimensions, for the &lt;a href=#media-resource&gt;media resource&lt;/a&gt;.
+     &lt;td&gt;&lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; is newly equal to &lt;code title=dom-media-HAVE_METADATA&gt;&lt;a href=#dom-media-have_metadata&gt;HAVE_METADATA&lt;/a&gt;&lt;/code&gt; or greater for the first time.
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-loadeddata title=event-loadeddata&gt;&lt;code&gt;loadeddata&lt;/code&gt;&lt;/dfn&gt;
+     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
+     &lt;td&gt;The user agent can render the &lt;a href=#media-data&gt;media data&lt;/a&gt; at the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; for the first time.
+     &lt;td&gt;&lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; newly increased to &lt;code title=dom-media-HAVE_CURRENT_DATA&gt;&lt;a href=#dom-media-have_current_data&gt;HAVE_CURRENT_DATA&lt;/a&gt;&lt;/code&gt; or greater for the first time.
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-waiting title=event-waiting&gt;&lt;code&gt;waiting&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;Playback has stopped because the next frame is not available, but the user agent expects that frame to become available in due course.
-     &lt;td&gt;&lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; is either &lt;code title=dom-media-DATA_UNAVAILABLE&gt;&lt;a href=#dom-media-data_unavailable&gt;DATA_UNAVAILABLE&lt;/a&gt;&lt;/code&gt; or &lt;code title=dom-media-CAN_SHOW_CURRENT_FRAME&gt;&lt;a href=#dom-media-can_show_current_frame&gt;CAN_SHOW_CURRENT_FRAME&lt;/a&gt;&lt;/code&gt;, and &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; is false. Either &lt;code title=dom-media-seeking&gt;&lt;a href=#dom-media-seeking&gt;seeking&lt;/a&gt;&lt;/code&gt; is true, or the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; is not contained in any of the ranges in &lt;code title=dom-media-buffered&gt;&lt;a href=#dom-media-buffered&gt;buffered&lt;/a&gt;&lt;/code&gt;. It is possible for playback to stop for two other reasons without &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; being false, but those two reasons do not fire this event: maybe &lt;a href=#ended-playback title=&quot;ended playback&quot;&gt;playback ended&lt;/a&gt;, or playback &lt;a href=#stopped-due-to-errors&gt;stopped due to errors&lt;/a&gt;.
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-seeking title=event-seeking&gt;&lt;code&gt;seeking&lt;/code&gt;&lt;/dfn&gt;
+     &lt;td&gt;&lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; is newly equal to or less than &lt;code title=dom-media-HAVE_CURRENT_DATA&gt;&lt;a href=#dom-media-have_current_data&gt;HAVE_CURRENT_DATA&lt;/a&gt;&lt;/code&gt;, and &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; is false. Either &lt;code title=dom-media-seeking&gt;&lt;a href=#dom-media-seeking&gt;seeking&lt;/a&gt;&lt;/code&gt; is true, or the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; is not contained in any of the ranges in &lt;code title=dom-media-buffered&gt;&lt;a href=#dom-media-buffered&gt;buffered&lt;/a&gt;&lt;/code&gt;. It is possible for playback to stop for two other reasons without &lt;code title=dom-media-paused&gt;&lt;a href=#dom-media-paused&gt;paused&lt;/a&gt;&lt;/code&gt; being false, but those two reasons do not fire this event: maybe &lt;a href=#ended-playback title=&quot;ended playback&quot;&gt;playback ended&lt;/a&gt;, or playback &lt;a href=#stopped-due-to-errors&gt;stopped due to errors&lt;/a&gt;.
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-canplay title=event-canplay&gt;&lt;code&gt;canplay&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
+     &lt;td&gt;The user agent can resume playback of the &lt;a href=#media-data&gt;media data&lt;/a&gt;, but estimates that if playback were to be started now, the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; could not be rendered at the current playback rate up to its end without having to stop for further buffering of content.
+     &lt;td&gt;&lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; newly increased to &lt;code title=dom-media-HAVE_FUTURE_DATA&gt;&lt;a href=#dom-media-have_future_data&gt;HAVE_FUTURE_DATA&lt;/a&gt;&lt;/code&gt; or greater.
+    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-canplaythrough title=event-canplaythrough&gt;&lt;code&gt;canplaythrough&lt;/code&gt;&lt;/dfn&gt;
+     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
+     &lt;td&gt;The user agent estimates that if playback were to be started now, the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; could be rendered at the current playback rate all the way to its end without having to stop for further buffering.
+     &lt;td&gt;&lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; is newly equal to &lt;code title=dom-media-HAVE_ENOUGH_DATA&gt;&lt;a href=#dom-media-have_enough_data&gt;HAVE_ENOUGH_DATA&lt;/a&gt;&lt;/code&gt;.
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=event-seeking title=event-seeking&gt;&lt;code&gt;seeking&lt;/code&gt;&lt;/dfn&gt;
+     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;The &lt;code title=dom-media-seeking&gt;&lt;a href=#dom-media-seeking&gt;seeking&lt;/a&gt;&lt;/code&gt; DOM attribute changed to true and the seek operation is taking long enough that the user agent has time to fire the event.
      &lt;td&gt;
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-seeked title=event-seeked&gt;&lt;code&gt;seeked&lt;/code&gt;&lt;/dfn&gt;
@@ -18234,24 +18268,9 @@
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;Playback has stopped because the end of the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; was reached.
      &lt;td&gt;&lt;code title=dom-media-currentTime&gt;&lt;a href=#dom-media-currenttime&gt;currentTime&lt;/a&gt;&lt;/code&gt; equals the &lt;var&gt;&lt;a href=#effective-end&gt;effective end&lt;/a&gt;&lt;/var&gt;; &lt;code title=dom-media-ended&gt;&lt;a href=#dom-media-ended&gt;ended&lt;/a&gt;&lt;/code&gt; is true.
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-dataunavailable title=event-dataunavailable&gt;&lt;code&gt;dataunavailable&lt;/code&gt;&lt;/dfn&gt;
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;dfn id=event-ratechange title=event-ratechange&gt;&lt;code&gt;ratechange&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;The user agent cannot render the data at the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; because data for the current frame is not immediately available.
-     &lt;td&gt;The &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is newly equal to &lt;code title=DATA_UNAVAILABLE&gt;DATA_UNAVAILABLE&lt;/code&gt;.
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-canshowcurrentframe title=event-canshowcurrentframe&gt;&lt;code&gt;canshowcurrentframe&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;The user agent cannot render the data after the &lt;a href=#current-playback-position&gt;current playback position&lt;/a&gt; because data for the next frame is not immediately available.
-     &lt;td&gt;The &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is newly equal to &lt;code title=dom-media-CAN_SHOW_CURRENT_FRAME&gt;&lt;a href=#dom-media-can_show_current_frame&gt;CAN_SHOW_CURRENT_FRAME&lt;/a&gt;&lt;/code&gt;.
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-canplay title=event-canplay&gt;&lt;code&gt;canplay&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;The user agent can resume playback of the &lt;a href=#media-data&gt;media data&lt;/a&gt;, but estimates that if playback were to be started now, the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; could not be rendered at the current playback rate up to its end without having to stop for further buffering of content.
-     &lt;td&gt;The &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is newly equal to &lt;code title=dom-media-CAN_PLAY&gt;&lt;a href=#dom-media-can_play&gt;CAN_PLAY&lt;/a&gt;&lt;/code&gt;.
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-canplaythrough title=event-canplaythrough&gt;&lt;code&gt;canplaythrough&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;The user agent estimates that if playback were to be started now, the &lt;a href=#media-resource&gt;media resource&lt;/a&gt; could be rendered at the current playback rate all the way to its end without having to stop for further buffering.
-     &lt;td&gt;The &lt;code title=dom-media-readyState&gt;&lt;a href=#dom-media-readystate&gt;readyState&lt;/a&gt;&lt;/code&gt; attribute is newly equal to &lt;code title=dom-media-CAN_PLAY_THROUGH&gt;&lt;a href=#dom-media-can_play_through&gt;CAN_PLAY_THROUGH&lt;/a&gt;&lt;/code&gt;.
-    &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-ratechange title=event-ratechange&gt;&lt;code&gt;ratechange&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;Either the &lt;code title=dom-media-defaultPlaybackRate&gt;&lt;a href=#dom-media-defaultplaybackrate&gt;defaultPlaybackRate&lt;/a&gt;&lt;/code&gt; or the &lt;code title=dom-media-playbackRate&gt;&lt;a href=#dom-media-playbackrate&gt;playbackRate&lt;/a&gt;&lt;/code&gt; attribute has just been updated.
      &lt;td&gt;
     &lt;tr&gt;&lt;td&gt;&lt;dfn id=event-durationchange title=event-durationchange&gt;&lt;code&gt;durationchange&lt;/code&gt;&lt;/dfn&gt;

Modified: source
===================================================================
--- source	2008-10-13 22:23:42 UTC (rev 2329)
+++ source	2008-10-15 00:26:52 UTC (rev 2330)
@@ -17153,10 +17153,9 @@
   &lt;hr&gt;
 
   &lt;p&gt;When no video data is available (the element's &lt;code
-  title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute is
-  either &lt;code title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/code&gt;, &lt;code
-  title=&quot;dom-media-LOADING&quot;&gt;LOADING&lt;/code&gt;, or &lt;code
-  title=&quot;dom-media-LOADED_METADATA&quot;&gt;LOADED_METADATA&lt;/code&gt;),
+  title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is either
+  &lt;code title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt; or &lt;code
+  title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAVE_METADATA&lt;/code&gt;),
   &lt;code&gt;video&lt;/code&gt; elements represent either the &lt;span&gt;poster
   frame&lt;/span&gt;, or nothing.&lt;/p&gt;
 
@@ -17658,9 +17657,9 @@
   &lt;p&gt;If a &lt;code&gt;source&lt;/code&gt; element is inserted into a &lt;span&gt;media
   element&lt;/span&gt; that is already in a document and whose &lt;code
   title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; is in the &lt;code
-  title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/code&gt; state, the user agent must
-  &lt;span&gt;queue a task&lt;/span&gt; that implicitly invokes the &lt;code
-  title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt; method on the &lt;span&gt;media
+  title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt; state, the user
+  agent must &lt;span&gt;queue a task&lt;/span&gt; that implicitly invokes the
+  &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt; method on the &lt;span&gt;media
   element&lt;/span&gt;, and ignores any resulting exceptions. The &lt;span&gt;task
   source&lt;/span&gt; for this task is the &lt;span&gt;media element&lt;/span&gt;'s own
   &lt;span&gt;media element new resource task source&lt;/span&gt;.&lt;/p&gt;
@@ -17693,11 +17692,10 @@
   // network state
            attribute DOMString &lt;span title=&quot;dom-media-src&quot;&gt;src&lt;/span&gt;;
   readonly attribute DOMString &lt;span title=&quot;dom-media-currentSrc&quot;&gt;currentSrc&lt;/span&gt;;
-  const unsigned short &lt;span title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/span&gt; = 0;
-  const unsigned short &lt;span title=&quot;dom-media-LOADING&quot;&gt;LOADING&lt;/span&gt; = 1;
-  const unsigned short &lt;span title=&quot;dom-media-LOADED_METADATA&quot;&gt;LOADED_METADATA&lt;/span&gt; = 2;
-  const unsigned short &lt;span title=&quot;dom-media-LOADED_FIRST_FRAME&quot;&gt;LOADED_FIRST_FRAME&lt;/span&gt; = 3;
-  const unsigned short &lt;span title=&quot;dom-media-LOADED&quot;&gt;LOADED&lt;/span&gt; = 4;
+  const unsigned short &lt;span title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/span&gt; = 0;
+  const unsigned short &lt;span title=&quot;dom-media-NETWORK_IDLE&quot;&gt;NETWORK_IDLE&lt;/span&gt; = 1;
+  const unsigned short &lt;span title=&quot;dom-media-NETWORK_LOADING&quot;&gt;NETWORK_LOADING&lt;/span&gt; = 2;
+  const unsigned short &lt;span title=&quot;dom-media-NETWORK_LOADED&quot;&gt;NETWORK_LOADED&lt;/span&gt; = 3;
   readonly attribute unsigned short &lt;span title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/span&gt;;
   readonly attribute float &lt;span title=&quot;dom-media-bufferingRate&quot;&gt;bufferingRate&lt;/span&gt;;
   readonly attribute boolean &lt;span title=&quot;dom-media-bufferingThrottled&quot;&gt;bufferingThrottled&lt;/span&gt;;
@@ -17707,10 +17705,12 @@
   void &lt;span title=&quot;dom-media-load&quot;&gt;load&lt;/span&gt;();
 
   // ready state
-  const unsigned short &lt;span title=&quot;dom-media-DATA_UNAVAILABLE&quot;&gt;DATA_UNAVAILABLE&lt;/span&gt; = 0;
-  const unsigned short &lt;span title=&quot;dom-media-CAN_SHOW_CURRENT_FRAME&quot;&gt;CAN_SHOW_CURRENT_FRAME&lt;/span&gt; = 1;
-  const unsigned short &lt;span title=&quot;dom-media-CAN_PLAY&quot;&gt;CAN_PLAY&lt;/span&gt; = 2;
-  const unsigned short &lt;span title=&quot;dom-media-CAN_PLAY_THROUGH&quot;&gt;CAN_PLAY_THROUGH&lt;/span&gt; = 3;
+  const unsigned short &lt;span title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/span&gt; = 0;
+  const unsigned short &lt;span title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAVE_METADATA&lt;/span&gt; = 1;
+  const unsigned short &lt;span title=&quot;dom-media-HAVE_SOME_DATA&quot;&gt;HAVE_SOME_DATA&lt;/span&gt; = 2;
+  const unsigned short &lt;span title=&quot;dom-media-HAVE_CURRENT_DATA&quot;&gt;HAVE_CURRENT_DATA&lt;/span&gt; = 3;
+  const unsigned short &lt;span title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/span&gt; = 4;
+  const unsigned short &lt;span title=&quot;dom-media-HAVE_ENOUGH_DATA&quot;&gt;HAVE_ENOUGH_DATA&lt;/span&gt; = 5;
   readonly attribute unsigned short &lt;span title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/span&gt;;
   readonly attribute boolean &lt;span title=&quot;dom-media-seeking&quot;&gt;seeking&lt;/span&gt;;
 
@@ -17863,13 +17863,13 @@
   &lt;p&gt;If the &lt;code title=&quot;attr-media-src&quot;&gt;src&lt;/code&gt; attribute of a
   &lt;span&gt;media element&lt;/span&gt; that is already in a document and whose
   &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; is in the
-  &lt;code title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/code&gt; state is added, changed,
-  or removed, the user agent must &lt;span&gt;queue a task&lt;/span&gt; that
-  implicitly invokes the &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt;
-  method on the &lt;span&gt;media element&lt;/span&gt;, and ignores any resulting
-  exceptions. The &lt;span&gt;task source&lt;/span&gt; for this task is the
-  &lt;span&gt;media element&lt;/span&gt;'s own &lt;span&gt;media element new resource
-  task source&lt;/span&gt;.&lt;/p&gt;
+  &lt;code title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt; state is
+  added, changed, or removed, the user agent must &lt;span&gt;queue a
+  task&lt;/span&gt; that implicitly invokes the &lt;code
+  title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt; method on the &lt;span&gt;media
+  element&lt;/span&gt;, and ignores any resulting exceptions. The &lt;span&gt;task
+  source&lt;/span&gt; for this task is the &lt;span&gt;media element&lt;/span&gt;'s own
+  &lt;span&gt;media element new resource task source&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;If a &lt;code title=&quot;attr-media-src&quot;&gt;src&lt;/code&gt;
   attribute is specified, the resource it specifies is the &lt;span&gt;media
@@ -17979,50 +17979,41 @@
   attribute must return the empty string if the &lt;span&gt;media
   element&lt;/span&gt;'s &lt;code
   title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; has the value
-  &lt;span title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/span&gt;, and the &lt;span&gt;absolute
-  URL&lt;/span&gt; that is the address of the &lt;span&gt;chosen media
-  resource&lt;/span&gt; otherwise.&lt;/p&gt;
+  &lt;code title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt;, and the
+  &lt;span&gt;absolute URL&lt;/span&gt; that is the address of the &lt;span&gt;chosen
+  media resource&lt;/span&gt; otherwise.&lt;/p&gt;
 
 
 
   &lt;h5&gt;Network states&lt;/h5&gt;
 
   &lt;p&gt;As &lt;span title=&quot;media element&quot;&gt;media elements&lt;/span&gt; interact
-  with the network, they go through several states. The &lt;dfn
+  with the network, their current network activity is represented by
+  the &lt;dfn
   title=&quot;dom-media-networkState&quot;&gt;&lt;code&gt;networkState&lt;/code&gt;&lt;/dfn&gt;
-  attribute, on getting, must return the current network state of the
-  element, which must be one of the following values:&lt;/p&gt;
+  attribute. On getting, it must return the current network state of
+  the element, which must be one of the following values:&lt;/p&gt;
 
   &lt;dl&gt;
 
-   &lt;dt&gt;&lt;dfn title=&quot;dom-media-EMPTY&quot;&gt;&lt;code&gt;EMPTY&lt;/code&gt;&lt;/dfn&gt; (numeric value 0)&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;&lt;code&gt;NETWORK_EMPTY&lt;/code&gt;&lt;/dfn&gt; (numeric value 0)&lt;/dt&gt;
 
    &lt;dd&gt;The element has not yet been initialized. All attributes are in
    their initial states.&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn title=&quot;dom-media-LOADING&quot;&gt;&lt;code&gt;LOADING&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn title=&quot;dom-media-NETWORK_IDLE&quot;&gt;&lt;code&gt;NETWORK_IDLE&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
 
-   &lt;dd&gt;The element has &lt;span title=&quot;pick a media resource&quot;&gt;picked a
-   media resource&lt;/span&gt; (the &lt;span&gt;chosen media resource&lt;/span&gt; is
-   available from the &lt;code
-   title=&quot;dom-media-currentSrc&quot;&gt;currentSrc&lt;/code&gt; attribute), but none
-   of the metadata has yet been obtained and therefore all the other
-   attributes are still in their initial states.&lt;/dd&gt;
+   &lt;dd&gt;The element has a &lt;span&gt;chosen media resource&lt;/span&gt;, but the
+   user agent is not using the network to obtain any more of the
+   resource than is already obtained at this time.&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn title=&quot;dom-media-LOADED_METADATA&quot;&gt;&lt;code&gt;LOADED_METADATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn title=&quot;dom-media-NETWORK_LOADING&quot;&gt;&lt;code&gt;NETWORK_LOADING&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
 
-   &lt;dd&gt;Enough of the resource has been obtained that the metadata
-   attributes are initialized (e.g. the length is known). The API will
-   no longer raise exceptions when used.&lt;/dd&gt;
+   &lt;dd&gt;The user agent is actively trying to download data for the
+   &lt;span&gt;chosen media resource&lt;/span&gt;.&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn title=&quot;dom-media-LOADED_FIRST_FRAME&quot;&gt;&lt;code&gt;LOADED_FIRST_FRAME&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn title=&quot;dom-media-NETWORK_LOADED&quot;&gt;&lt;code&gt;NETWORK_LOADED&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
 
-   &lt;dd&gt;Actual &lt;span&gt;media data&lt;/span&gt; has been obtained. In the case
-   of video, this specifically means that a frame of video is
-   available and can be shown.&lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;dom-media-LOADED&quot;&gt;&lt;code&gt;LOADED&lt;/code&gt;&lt;/dfn&gt; (numeric value 4)&lt;/dt&gt;
-
    &lt;dd&gt;The entire &lt;span&gt;media resource&lt;/span&gt; has been obtained and is
    available to the user agent locally. Network connectivity could be
    lost without affecting the media playback.&lt;/dd&gt;
@@ -18032,17 +18023,19 @@
   &lt;p&gt;The algorithm for the &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt;
   method defined below describes exactly when the &lt;code
   title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute changes
-  value.&lt;/p&gt;
+  value and what events fire to indicate changes in this state.&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;Some resources, e.g. streaming Web radio, can never
+  each the &lt;code
+  title=&quot;dom-media-NETWORK_LOADED&quot;&gt;NETWORK_LOADED&lt;/code&gt; state.&lt;/p&gt;
 
 
+
   &lt;h5&gt;Loading the media resource&lt;/h5&gt;
 
   &lt;p&gt;All &lt;span title=&quot;media element&quot;&gt;media elements&lt;/span&gt; have a
-  &lt;dfn&gt;begun flag&lt;/dfn&gt;, which must begin in the false state, a
-  &lt;dfn&gt;loaded-first-frame flag&lt;/dfn&gt;, which must begin in the false
-  state, and an &lt;dfn&gt;autoplaying flag&lt;/dfn&gt;, which must begin in the
-  true state.&lt;/p&gt;
+  &lt;dfn&gt;begun flag&lt;/dfn&gt;, which must begin in the false state, and an
+  &lt;dfn&gt;autoplaying flag&lt;/dfn&gt;, which must begin in the true state.&lt;/p&gt;
 
   &lt;p&gt;When the &lt;dfn title=&quot;dom-media-load&quot;&gt;&lt;code&gt;load()&lt;/code&gt;&lt;/dfn&gt;
   method on a &lt;span&gt;media element&lt;/span&gt; is invoked, the user agent
@@ -18083,9 +18076,8 @@
    &lt;span&gt;media element&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The &lt;code title=&quot;dom-media-error&quot;&gt;error&lt;/code&gt; attribute
-   must be set to null, the &lt;span&gt;loaded-first-frame flag&lt;/span&gt; must
-   be set to false, and the &lt;span&gt;autoplaying flag&lt;/span&gt; must be set
-   to true.&lt;/p&gt;&lt;/li&gt;
+   must be set to null and the &lt;span&gt;autoplaying flag&lt;/span&gt; must be
+   set to true.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;The &lt;code title=&quot;dom-media-playbackRate&quot;&gt;playbackRate&lt;/code&gt;
    attribute must be set to the value of the &lt;code
@@ -18094,8 +18086,8 @@
 
    &lt;li&gt;&lt;p&gt;If the &lt;span&gt;media element&lt;/span&gt;'s &lt;code
    title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; is not set to
-   &lt;span title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/span&gt;, then the following
-   substeps must be followed:
+   &lt;code title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt;, then
+   the following substeps must be followed:&lt;/p&gt;
 
     &lt;ol&gt;
 
@@ -18104,16 +18096,16 @@
 
      &lt;li&gt;The &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt;
      attribute must be set to &lt;span
-     title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/span&gt;&lt;!--, and the user agent must
-     add &lt;code title=&quot;event-emptied&quot;&gt;emptied&lt;/code&gt; to the &lt;var
-     title=&quot;&quot;&gt;events&lt;/var&gt; list--&gt;.&lt;/li&gt;
+     title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/span&gt;&lt;!--, and the
+     user agent must add &lt;code title=&quot;event-emptied&quot;&gt;emptied&lt;/code&gt; to
+     the &lt;var title=&quot;&quot;&gt;events&lt;/var&gt; list--&gt;.&lt;/li&gt;
 
      &lt;li&gt;If &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; is
      not set to &lt;code
-     title=&quot;dom-media-DATA_UNAVAILABLE&quot;&gt;DATA_UNAVAILABLE&lt;/code&gt;, it must be set
-     to that state&lt;!-- and the user agent must add &lt;code
-     title=&quot;event-dataunavailable&quot;&gt;dataunavailable&lt;/code&gt; to the
-     &lt;var title=&quot;&quot;&gt;events&lt;/var&gt; list--&gt;.&lt;/li&gt;
+     title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt;, it must be
+     set to that state&lt;!-- and the user agent must add &lt;code
+     title=&quot;event-dataunavailable&quot;&gt;dataunavailable&lt;/code&gt; to the &lt;var
+     title=&quot;&quot;&gt;events&lt;/var&gt; list--&gt;.&lt;/li&gt;
 
      &lt;li&gt;If the &lt;code title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt; attribute
      is false, it must be set to true&lt;!--, and the user agent must add
@@ -18149,9 +18141,9 @@
 
    &lt;li&gt;&lt;p&gt;The &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt;
    attribute must be set to &lt;span
-   title=&quot;dom-media-LOADING&quot;&gt;LOADING&lt;/span&gt;.&lt;/li&gt;
+   title=&quot;dom-media-NETWORK_IDLE&quot;&gt;NETWORK_IDLE&lt;/span&gt;.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p class=&quot;note&quot;&gt;The &lt;code
+   &lt;p class=&quot;note&quot;&gt;The &lt;code
    title=&quot;dom-media-currentSrc&quot;&gt;currentSrc&lt;/code&gt; attribute starts
    returning the new value.&lt;/p&gt;&lt;/li&gt;
 
@@ -18179,10 +18171,12 @@
    &lt;li&gt;
 
     &lt;p&gt;While the fetching process is progressing, the user agent must
-    &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a progress event&lt;/span&gt;
-    called &lt;code title=&quot;event-progress&quot;&gt;progress&lt;/code&gt; at the element
-    every 350ms (&amp;#xB1;200ms) or for every byte received, whichever is
-    &lt;em&gt;least&lt;/em&gt; frequent.&lt;/p&gt;
+    set the &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt;
+    to &lt;code title=&quot;dom-media-NETWORK_LOADING&quot;&gt;NETWORK_LOADING&lt;/code&gt;
+    and &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a progress
+    event&lt;/span&gt; called &lt;code title=&quot;event-progress&quot;&gt;progress&lt;/code&gt;
+    at the element every 350ms (&amp;#xB1;200ms) or for every byte
+    received, whichever is &lt;em&gt;least&lt;/em&gt; frequent.&lt;/p&gt;
 
     &lt;p&gt;If at any point the user agent has received no data for more
     than about three seconds, the user agent must &lt;span&gt;queue a
@@ -18195,6 +18189,17 @@
     act as if it was stalled (as opposed to acting as if the
     connection was closed).&lt;/p&gt;
 
+    &lt;p&gt;User agents may decide to not download more content at any
+    time, e.g. after buffering five minutes of a one hour media
+    resource, while waiting for the user to decide whether to play the
+    resource or not, or while waiting for user input in an interactive
+    resource. When a &lt;span&gt;media element&lt;/span&gt;'s download has been
+    suspended, the user agent must set the &lt;code
+    title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; to &lt;code
+    title=&quot;dom-media-NETWORK_IDLE&quot;&gt;NETWORK_IDLE&lt;/code&gt; and &lt;span&gt;queue
+    a task&lt;/span&gt; to &lt;span&gt;fire a progress event&lt;/span&gt; called &lt;code
+    title=&quot;event-suspend&quot;&gt;suspend&lt;/code&gt; at the element.&lt;/p&gt;
+
     &lt;p&gt;The user agent may use whatever means necessary to fetch the
     resource (within the constraints put forward by this and other
     specifications); for example, reconnecting to the server in the
@@ -18239,10 +18244,10 @@
        &lt;li&gt;The element's &lt;code
        title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute
        must be switched to the &lt;span
-       title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/span&gt; value and the user agent
-       must &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
-       event&lt;/span&gt; called &lt;code title=&quot;event-emptied&quot;&gt;emptied&lt;/code&gt;
-       at the element.&lt;/li&gt;
+       title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/span&gt; value and
+       the user agent must &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a
+       simple event&lt;/span&gt; called &lt;code
+       title=&quot;event-emptied&quot;&gt;emptied&lt;/code&gt; at the element.&lt;/li&gt;
 
        &lt;li&gt;These steps must be aborted.&lt;/li&gt;
 
@@ -18284,10 +18289,10 @@
        &lt;li&gt;The element's &lt;code
        title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute
        must be switched to the &lt;span
-       title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/span&gt; value and the user agent
-       must &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
-       event&lt;/span&gt; called &lt;code title=&quot;event-emptied&quot;&gt;emptied&lt;/code&gt;
-       at the element.&lt;/li&gt;
+       title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/span&gt; value and
+       the user agent must &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a
+       simple event&lt;/span&gt; called &lt;code
+       title=&quot;event-emptied&quot;&gt;emptied&lt;/code&gt; at the element.&lt;/li&gt;
 
        &lt;li&gt;These steps must be aborted.&lt;/li&gt;
 
@@ -18324,19 +18329,21 @@
        element&lt;/span&gt;.&lt;/li&gt;
 
        &lt;li&gt;If the &lt;span&gt;media element&lt;/span&gt;'s &lt;code
+       title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute has a
+       value equal to &lt;code
+       title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt;, the
+       element's &lt;code
        title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute
-       has the value &lt;code title=&quot;dom-media-LOADING&quot;&gt;LOADING&lt;/code&gt;,
-       the element's &lt;code
-       title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute
        must be switched to the &lt;span
-       title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/span&gt; value and the user agent
-       must &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
-       event&lt;/span&gt; called &lt;code title=&quot;event-emptied&quot;&gt;emptied&lt;/code&gt;
-       at the element. (If the &lt;code
-       title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute
+       title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/span&gt; value and
+       the user agent must &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a
+       simple event&lt;/span&gt; called &lt;code
+       title=&quot;event-emptied&quot;&gt;emptied&lt;/code&gt; at the element. (If the
+       &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute
        has a value greater than &lt;code
-       title=&quot;dom-media-LOADING&quot;&gt;LOADING&lt;/code&gt;, then this doesn't
-       happen; the available data, if any, will be playable.)&lt;/li&gt;
+       title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt;, then this
+       doesn't happen; the available data, if any, will be
+       playable.)&lt;/li&gt;
 
        &lt;li&gt;These steps must be aborted.&lt;/li&gt;
 
@@ -18378,10 +18385,9 @@
        &lt;li&gt;&lt;p&gt;The &lt;span&gt;current playback position&lt;/span&gt; must be set
        to the &lt;var&gt;effective start&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;The &lt;code
-       title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute
-       must be set to &lt;code
-       title=&quot;dom-media-LOADED_METADATA&quot;&gt;LOADED_METADATA&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;The &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt;
+       attribute must be set to &lt;code
+       title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAVE_METADATA&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
 
        &lt;li&gt;&lt;p class=&quot;note&quot;&gt;A number of attributes, including &lt;code
        title=&quot;dom-media-duration&quot;&gt;duration&lt;/code&gt;, &lt;code
@@ -18395,8 +18401,8 @@
        title=&quot;event-durationchange&quot;&gt;durationchange&lt;/code&gt; at the
        element at this point.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;The user agent must &lt;span&gt;queue a task&lt;/span&gt; to
-       &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
+       &lt;li id=&quot;fire-loadedmetadata&quot;&gt;&lt;p&gt;The user agent must &lt;span&gt;queue
+       a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
        title=&quot;event-loadedmetadata&quot;&gt;loadedmetadata&lt;/code&gt; at the
        element.&lt;/li&gt;
 
@@ -18415,29 +18421,14 @@
 
       &lt;ol&gt;
 
-       &lt;li&gt;&lt;p&gt;The &lt;code
-       title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute
-       must be set to &lt;code
-       title=&quot;dom-media-LOADED_FIRST_FRAME&quot;&gt;LOADED_FIRST_FRAME&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p&gt;The &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt;
+       attribute must change to &lt;code
+       title=&quot;dom-media-HAVE_CURRENT_DATA&quot;&gt;HAVE_CURRENT_DATA&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;The &lt;code
-       title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute must
-       change to &lt;code
-       title=&quot;dom-media-CAN_SHOW_CURRENT_FRAME&quot;&gt;CAN_SHOW_CURRENT_FRAME&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
+       &lt;li&gt;&lt;p id=&quot;fire-loadeddata&quot;&gt;The user agent must &lt;span&gt;queue a
+       task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
+       title=&quot;event-loadeddata&quot;&gt;loadeddata&lt;/code&gt; at the element.&lt;/li&gt;
 
-       &lt;li&gt;&lt;p&gt;The &lt;span&gt;loaded-first-frame flag&lt;/span&gt; must be set to
-       true.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;The user agent must &lt;span&gt;queue a task&lt;/span&gt; to
-       &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
-       title=&quot;event-loadedfirstframe&quot;&gt;loadedfirstframe&lt;/code&gt; at the
-       element.&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;The user agent must &lt;span&gt;queue a task&lt;/span&gt; to
-       &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
-       title=&quot;event-canshowcurrentframe&quot;&gt;canshowcurrentframe&lt;/code&gt; at
-       the element.&lt;/li&gt;
-
       &lt;/ol&gt;
 
      &lt;/dd&gt;
@@ -18445,14 +18436,17 @@
     &lt;/dl&gt;
 
     &lt;p&gt;When the user agent has completely fetched of the entire
-    &lt;span&gt;media resource&lt;/span&gt;, it must move on to the next step.&lt;/p&gt;
+    &lt;span&gt;media resource&lt;/span&gt;, it must move on to the next
+    step. This might never happen, e.g. when streaming an infinite
+    resource such as Web radio.&lt;/p&gt;
 
    &lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the fetching process completes without errors, the
    &lt;span&gt;begun flag&lt;/span&gt; must be set to false, the &lt;code
    title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute must
-   be set to &lt;code title=&quot;dom-media-LOADED&quot;&gt;LOADED&lt;/code&gt;, and the
+   be set to &lt;code
+   title=&quot;dom-media-NETWORK_LOADED&quot;&gt;NETWORK_LOADED&lt;/code&gt;, and the
    user agent must &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a progress
    event&lt;/span&gt; called &lt;code title=&quot;event-load&quot;&gt;load&lt;/code&gt; at the
    element.&lt;/p&gt;&lt;/li&gt;
@@ -18461,13 +18455,14 @@
 
   &lt;p&gt;If a &lt;span&gt;media element&lt;/span&gt; whose &lt;code
   title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; has the value
-  &lt;code title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/code&gt; is &lt;span title=&quot;insert an
-  element into a document&quot;&gt;inserted into a document&lt;/span&gt;, the user
-  agent must &lt;span&gt;queue a task&lt;/span&gt; that implicitly invokes the
-  &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt; method on the &lt;span&gt;media
-  element&lt;/span&gt;, and ignores any resulting exceptions. The &lt;span&gt;task
-  source&lt;/span&gt; for this task is the &lt;span&gt;media element&lt;/span&gt;'s own
-  &lt;span&gt;media element new resource task source&lt;/span&gt;.&lt;/p&gt;
+  &lt;code title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt; is &lt;span
+  title=&quot;insert an element into a document&quot;&gt;inserted into a
+  document&lt;/span&gt;, the user agent must &lt;span&gt;queue a task&lt;/span&gt; that
+  implicitly invokes the &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt;
+  method on the &lt;span&gt;media element&lt;/span&gt;, and ignores any resulting
+  exceptions. The &lt;span&gt;task source&lt;/span&gt; for this task is the
+  &lt;span&gt;media element&lt;/span&gt;'s own &lt;span&gt;media element new resource
+  task source&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-media-bufferingRate&quot;&gt;&lt;code&gt;bufferingRate&lt;/code&gt;&lt;/dfn&gt;
@@ -18668,10 +18663,11 @@
    make the current loop the last loop).&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If the &lt;span&gt;media element&lt;/span&gt;'s &lt;code
-   title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; is in the &lt;code
-   title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/code&gt; state or the &lt;code
-   title=&quot;dom-media-LOADING&quot;&gt;LOADING&lt;/code&gt; state, then the user agent
-   must at this point abort these steps.&lt;/p&gt;&lt;/li&gt;
+   title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; is in the &lt;code
+   title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt; state, then the
+   user agent must at this point abort these steps.&lt;/p&gt;&lt;/li&gt;
+   &lt;!-- because we don't have the duration yet, so many of the
+   following concepts are undefined --&gt;
 
    &lt;li&gt;&lt;p&gt;If the &lt;code
    title=&quot;dom-media-currentLoop&quot;&gt;currentLoop&lt;/code&gt; is zero, and the
@@ -18719,48 +18715,58 @@
 
   &lt;dl&gt;
 
-   &lt;dt&gt;&lt;dfn title=&quot;dom-media-DATA_UNAVAILABLE&quot;&gt;&lt;code&gt;DATA_UNAVAILABLE&lt;/code&gt;&lt;/dfn&gt; (numeric value 0)&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn title=&quot;dom-media-HAVE_NOTHING&quot;&gt;&lt;code&gt;HAVE_NOTHING&lt;/code&gt;&lt;/dfn&gt; (numeric value 0)&lt;/dt&gt;
 
-   &lt;dd&gt;No data for the &lt;span&gt;current playback position&lt;/span&gt; is
-   available. &lt;span title=&quot;media element&quot;&gt;Media elements&lt;/span&gt; whose
-   &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute
-   is less than &lt;code
-   title=&quot;dom-media-LOADED_FIRST_FRAME&quot;&gt;LOADED_FIRST_FRAME&lt;/code&gt;
-   are always in the &lt;code
-   title=&quot;dom-media-DATA_UNAVAILABLE&quot;&gt;DATA_UNAVAILABLE&lt;/code&gt;
+   &lt;dd&gt;No information regardig the &lt;span&gt;media resource&lt;/span&gt; is
+   available. No data for the &lt;span&gt;current playback position&lt;/span&gt;
+   is available. &lt;span title=&quot;media element&quot;&gt;Media elements&lt;/span&gt;
+   whose &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt;
+   attribute is &lt;code
+   title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt; are always in
+   the &lt;code title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt;
    state.&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn title=&quot;dom-media-CAN_SHOW_CURRENT_FRAME&quot;&gt;&lt;code&gt;CAN_SHOW_CURRENT_FRAME&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn title=&quot;dom-media-HAVE_METADATA&quot;&gt;&lt;code&gt;HAVE_METADATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 1)&lt;/dt&gt;
 
+   &lt;dd&gt;Enough of the resource has been obtained that the metadata
+   attributes are initialized (e.g. the length is known). The API will
+   no longer raise an exception when seeking.&lt;/dd&gt;
+
+   &lt;dt&gt;&lt;dfn title=&quot;dom-media-HAVE_SOME_DATA&quot;&gt;&lt;code&gt;HAVE_SOME_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
+
    &lt;dd&gt;Data for the immediate &lt;span&gt;current playback position&lt;/span&gt;
+   is not available, but there is at least one playback position for
+   which the &lt;i&gt;ready state&lt;/i&gt; would have a value of &lt;code
+   title=&quot;dom-media-HAVE_CURRENT_DATA&quot;&gt;HAVE_CURRENT_DATA&lt;/code&gt; or
+   greater.&lt;/dd&gt;
+
+   &lt;dt&gt;&lt;dfn title=&quot;dom-media-HAVE_CURRENT_DATA&quot;&gt;&lt;code&gt;HAVE_CURRENT_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
+
+   &lt;dd&gt;Data for the immediate &lt;span&gt;current playback position&lt;/span&gt;
    is available, but not enough data is available that the user agent
    could successfully advance the &lt;span&gt;current playback
    position&lt;/span&gt; at all without immediately reverting to the &lt;code
-   title=&quot;dom-media-DATA_UNAVAILABLE&quot;&gt;DATA_UNAVAILABLE&lt;/code&gt; state. In video,
-   this corresponds to the user agent having data from the current
-   frame, but not the next frame. In audio, this corresponds to the
-   user agent only having audio up to the &lt;span&gt;current playback
-   position&lt;/span&gt;, but no further.&lt;/dd&gt;
+   title=&quot;dom-media-HAVE_SOME_DATA&quot;&gt;HAVE_SOME_DATA&lt;/code&gt; state. For
+   example, in video this corresponds to the user agent having data
+   from the current frame, but not the next frame.&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn title=&quot;dom-media-CAN_PLAY&quot;&gt;&lt;code&gt;CAN_PLAY&lt;/code&gt;&lt;/dfn&gt; (numeric value 2)&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;&lt;code&gt;HAVE_FUTURE_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 4)&lt;/dt&gt;
 
    &lt;dd&gt;Data for the immediate &lt;span&gt;current playback position&lt;/span&gt;
    is available, as well as enough data for the user agent to advance
    the &lt;span&gt;current playback position&lt;/span&gt; at least a little
    without immediately reverting to the &lt;code
-   title=&quot;dom-media-DATA_UNAVAILABLE&quot;&gt;DATA_UNAVAILABLE&lt;/code&gt; state. In video,
-   this corresponds to the user agent having data for the current
-   frame and the next frame. In audio, this corresponds to the user
-   agent having data beyond the &lt;span&gt;current playback
-   position&lt;/span&gt;.&lt;/dd&gt;
+   title=&quot;dom-media-HAVE_SOME_DATA&quot;&gt;HAVE_SOME_DATA&lt;/code&gt; state. For
+   example, In video this corresponds to the user agent having data
+   for at least the current frame and the next frame.&lt;/dd&gt;
 
-   &lt;dt&gt;&lt;dfn title=&quot;dom-media-CAN_PLAY_THROUGH&quot;&gt;&lt;code&gt;CAN_PLAY_THROUGH&lt;/code&gt;&lt;/dfn&gt; (numeric value 3)&lt;/dt&gt;
+   &lt;dt&gt;&lt;dfn title=&quot;dom-media-HAVE_ENOUGH_DATA&quot;&gt;&lt;code&gt;HAVE_ENOUGH_DATA&lt;/code&gt;&lt;/dfn&gt; (numeric value 5)&lt;/dt&gt;
 
    &lt;dd&gt;Data for the immediate &lt;span&gt;current playback position&lt;/span&gt;
    is available, as well as enough data for the user agent to advance
    the &lt;span&gt;current playback position&lt;/span&gt; at least a little
    without immediately reverting to the &lt;code
-   title=&quot;dom-media-DATA_UNAVAILABLE&quot;&gt;DATA_UNAVAILABLE&lt;/code&gt; state,
+   title=&quot;dom-media-HAVE_SOME_DATA&quot;&gt;HAVE_SOME_DATA&lt;/code&gt; state,
    and, in addition, the user agent estimates that data is being
    fetched at a rate where the &lt;span&gt;current playback position&lt;/span&gt;,
    if it were to advance at the rate given by the &lt;code
@@ -18774,50 +18780,73 @@
 
   &lt;p&gt;When the ready state of a &lt;span&gt;media element&lt;/span&gt; whose &lt;code
   title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; is not &lt;code
-  title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/code&gt; changes, the user agent must
-  follow the steps given below:&lt;/p&gt;
+  title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt; changes, the
+  user agent must follow the steps given below:&lt;/p&gt;
 
   &lt;dl class=&quot;switch&quot;&gt;
 
-   &lt;dt&gt;If the new ready state is &lt;code
-   title=&quot;dom-media-DATA_UNAVAILABLE&quot;&gt;DATA_UNAVAILABLE&lt;/code&gt;&lt;/dt&gt;
+   &lt;!-- going up to metadata --&gt;
+   &lt;dt&gt;If the prevous ready state was &lt;code
+   title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt;, and the new
+   ready state is &lt;code
+   title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAVE_METADATA&lt;/code&gt;&lt;/dt&gt;
 
-   &lt;dd&gt;&lt;p&gt;The user agent must &lt;span&gt;fire a simple event&lt;/span&gt; called
-   &lt;code title=&quot;event-dataunavailable&quot;&gt;dataunavailable&lt;/code&gt; at the
-   element.&lt;/p&gt;&lt;/dd&gt;
+   &lt;dd&gt;
 
-   &lt;dt&gt;If the new ready state is &lt;code
-   title=&quot;dom-media-CAN_SHOW_CURRENT_FRAME&quot;&gt;CAN_SHOW_CURRENT_FRAME&lt;/code&gt;&lt;/dt&gt;
+    &lt;p class=&quot;note&quot;&gt;A &lt;code
+    title=&quot;event-loadedmetadata&quot;&gt;loadedmetadata&lt;/code&gt; DOM event &lt;a
+    href=&quot;#fire-loadedmetadata&quot;&gt;will be fired&lt;/a&gt; as part of the &lt;code
+    title=&quot;dom-event-load&quot;&gt;load()&lt;/code&gt; algorithm.&lt;/p&gt;
 
+   &lt;/dd&gt;
+
+   &lt;!-- going up to current --&gt;
+   &lt;dt&gt;If the prevous ready state was &lt;code
+   title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAVE_METADATA&lt;/code&gt;, and the new
+   ready state is &lt;code
+   title=&quot;dom-media-HAVE_CURRENT_DATA&quot;&gt;HAVE_CURRENT_DATA&lt;/code&gt;&lt;/dt&gt;
+
    &lt;dd&gt;
 
-    &lt;p&gt;If the element's &lt;span&gt;loaded-first-frame flag&lt;/span&gt; is true,
-    the user agent must &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
-    title=&quot;event-canshowcurrentframe&quot;&gt;canshowcurrentframe&lt;/code&gt;
-    event.&lt;/p&gt;
+    &lt;p class=&quot;note&quot;&gt;A &lt;code title=&quot;event-loadeddata&quot;&gt;loadeddata&lt;/code&gt;
+    DOM event &lt;a href=&quot;#fire-loadeddata&quot;&gt;will be fired&lt;/a&gt; as part of
+    the &lt;code title=&quot;dom-event-load&quot;&gt;load()&lt;/code&gt; algorithm.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;The first time the &lt;code
-    title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute
-    switches to this value, the &lt;span&gt;loaded-first-frame flag&lt;/span&gt;
-    is false, and the event is fired &lt;a
-    href=&quot;#handling-first-frame-available&quot;&gt;by the algorithm described
-    above&lt;/a&gt; for the &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt;
-    method, in conjunction with other steps.&lt;/p&gt;
+   &lt;/dd&gt;
 
+   &lt;!-- going down --&gt;
+   &lt;dt&gt;If the prevous ready state was &lt;code
+   title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt; or more,
+   and the new ready state is &lt;code
+   title=&quot;dom-media-HAVE_CURRENT_DATA&quot;&gt;HAVE_CURRENT_DATA&lt;/code&gt; or
+   less&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p class=&quot;note&quot;&gt;A &lt;code title=&quot;event-waiting&quot;&gt;waiting&lt;/code&gt; DOM
+    event &lt;a href=&quot;#fire-waiting-when-waiting&quot;&gt;can be fired&lt;/a&gt;,
+    depending on the current state of playback.&lt;/p&gt;
+
    &lt;/dd&gt;
 
-   &lt;dt&gt;If the new ready state is &lt;code
-   title=&quot;dom-media-CAN_PLAY&quot;&gt;CAN_PLAY&lt;/code&gt;&lt;/dt&gt;
+   &lt;!-- going up to future --&gt;
+   &lt;dt&gt;If the prevous ready state was &lt;code
+   title=&quot;dom-media-HAVE_CURRENT_DATA&quot;&gt;HAVE_CURRENT_DATA&lt;/code&gt; or
+   less, and the new ready state is &lt;code
+   title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt; or
+   more&lt;/dt&gt;
 
    &lt;dd&gt;&lt;p&gt;The user agent must &lt;span&gt;fire a simple event&lt;/span&gt; called
    &lt;code title=&quot;event-canplay&quot;&gt;canplay&lt;/code&gt;.&lt;/p&gt;&lt;/dd&gt;
 
    &lt;dt&gt;If the new ready state is &lt;code
-   title=&quot;dom-media-CAN_PLAY_THROUGH&quot;&gt;CAN_PLAY_THROUGH&lt;/code&gt;&lt;/dt&gt;
+   title=&quot;dom-media-HAVE_ENOUGH_DATA&quot;&gt;HAVE_ENOUGH_DATA&lt;/code&gt;&lt;/dt&gt;
 
    &lt;dd&gt;&lt;p&gt;The user agent must &lt;span&gt;fire a simple event&lt;/span&gt; called
-   &lt;code title=&quot;event-canplaythrough&quot;&gt;canplaythrough&lt;/code&gt; event. If
-   the &lt;span&gt;autoplaying flag&lt;/span&gt; is true, and the &lt;code
+   &lt;code title=&quot;event-canplaythrough&quot;&gt;canplaythrough&lt;/code&gt; event.
+   &lt;!-- XXX make sure it fires after canplay when fixing queueing here --&gt;
+   If the
+   &lt;span&gt;autoplaying flag&lt;/span&gt; is true, and the &lt;code
    title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt; attribute is true, and the
    &lt;span&gt;media element&lt;/span&gt; has an &lt;code
    title=&quot;attr-media-autoplay&quot;&gt;autoplay&lt;/code&gt; attribute specified,
@@ -18830,20 +18859,13 @@
 
   &lt;p class=&quot;note&quot;&gt;It is possible for the ready state of a media
   element to jump between these states discontinuously. For example,
-  the state of a media element whose &lt;span&gt;loaded-first-frame
-  flag&lt;/span&gt; is false can jump straight from &lt;code
-  title=&quot;dom-media-DATA_UNAVAILABLE&quot;&gt;DATA_UNAVAILABLE&lt;/code&gt; to &lt;code
-  title=&quot;dom-media-CAN_PLAY_THROUGH&quot;&gt;CAN_PLAY_THROUGH&lt;/code&gt; without
+  the state of a media element can jump straight from &lt;code
+  title=&quot;dom-media-HAVE_SOME_DATA&quot;&gt;HAVE_SOME_DATA&lt;/code&gt; to &lt;code
+  title=&quot;dom-media-HAVE_ENOUGH_DATA&quot;&gt;HAVE_ENOUGH_DATA&lt;/code&gt; without
   passing through the &lt;code
-  title=&quot;dom-media-CAN_SHOW_CURRENT_FRAME&quot;&gt;CAN_SHOW_CURRENT_FRAME&lt;/code&gt;
-  and &lt;code title=&quot;dom-media-CAN_PLAY&quot;&gt;CAN_PLAY&lt;/code&gt; states, and
-  thus without firing the &lt;code
-  title=&quot;event-canshowcurrentframe&quot;&gt;canshowcurrentframe&lt;/code&gt; and
-  &lt;code title=&quot;event-canplay&quot;&gt;canplay&lt;/code&gt; events. The only state
-  that is guaranteed to be reached is the &lt;code
-  title=&quot;dom-media-CAN_SHOW_CURRENT_FRAME&quot;&gt;CAN_SHOW_CURRENT_FRAME&lt;/code&gt;
-  state, which is reached as part of the &lt;code
-  title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt; method's processing.&lt;/p&gt;
+  title=&quot;dom-media-HAVE_CURRENT_DATA&quot;&gt;HAVE_CURRENT_DATA&lt;/code&gt; and
+  &lt;code title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt;
+  states.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn
   title=&quot;dom-media-readyState&quot;&gt;&lt;code&gt;readyState&lt;/code&gt;&lt;/dfn&gt; DOM
@@ -18939,17 +18961,17 @@
   playing&lt;/dfn&gt; when its &lt;code title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt;
   attribute is false, the &lt;code
   title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is either
-  &lt;code title=&quot;dom-media-CAN_PLAY&quot;&gt;CAN_PLAY&lt;/code&gt; or &lt;code
-  title=&quot;dom-media-CAN_PLAY_THROUGH&quot;&gt;CAN_PLAY_THROUGH&lt;/code&gt;, the
-  element has not &lt;span&gt;ended playback&lt;/span&gt;, playback has not
+  &lt;code title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt; or
+  &lt;code title=&quot;dom-media-HAVE_ENOUGH_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt;,
+  the element has not &lt;span&gt;ended playback&lt;/span&gt;, playback has not
   &lt;span&gt;stopped due to errors&lt;/span&gt;, and the element has not
   &lt;span&gt;paused for user interaction&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;A &lt;span&gt;media element&lt;/span&gt; is said to have &lt;dfn&gt;ended
   playback&lt;/dfn&gt; when the element's &lt;code
-  title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute is
-  &lt;code title=&quot;dom-media-LOADED_METADATA&quot;&gt;LOADED_METADATA&lt;/code&gt; or
-  greater, the &lt;span&gt;current playback position&lt;/span&gt; is equal to the
+  title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is &lt;code
+  title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAD_METADATA&lt;/code&gt; or greater, the
+  &lt;span&gt;current playback position&lt;/span&gt; is equal to the
   &lt;var&gt;effective end&lt;/var&gt; of the &lt;span&gt;media resource&lt;/span&gt;, and the
   &lt;code title=&quot;dom-media-currentLoop&quot;&gt;currentLoop&lt;/code&gt; attribute is
   equal to &lt;span&gt;&lt;code
@@ -18961,23 +18983,22 @@
 
   &lt;p&gt;A &lt;span&gt;media element&lt;/span&gt; is said to have &lt;dfn&gt;stopped due to
   errors&lt;/dfn&gt; when the element's &lt;code
-  title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute is
-  &lt;code title=&quot;dom-media-LOADED_METADATA&quot;&gt;LOADED_METADATA&lt;/code&gt; or
-  greater, and the user agent &lt;a
-  href=&quot;#non-fatal-media-error&quot;&gt;encounters a non-fatal error&lt;/a&gt;
-  during the processing of the &lt;span&gt;media data&lt;/span&gt;, and due to
-  that error, is not able to play the content at the &lt;span&gt;current
-  playback position&lt;/span&gt;.&lt;/p&gt;
+  title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is &lt;code
+  title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAVE_METADATA&lt;/code&gt; or greater, and
+  the user agent &lt;a href=&quot;#non-fatal-media-error&quot;&gt;encounters a
+  non-fatal error&lt;/a&gt; during the processing of the &lt;span&gt;media
+  data&lt;/span&gt;, and due to that error, is not able to play the content
+  at the &lt;span&gt;current playback position&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;A &lt;span&gt;media element&lt;/span&gt; is said to have &lt;dfn&gt;paused for user
   interaction&lt;/dfn&gt; when its &lt;code
   title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt; attribute is false, the &lt;code
   title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is either
-  &lt;code title=&quot;dom-media-CAN_PLAY&quot;&gt;CAN_PLAY&lt;/code&gt; or &lt;code
-  title=&quot;dom-media-CAN_PLAY_THROUGH&quot;&gt;CAN_PLAY_THROUGH&lt;/code&gt; and the
-  user agent has reached a point in the &lt;span&gt;media resource&lt;/span&gt;
-  where the user has to make a selection for the resource to
-  continue.&lt;/p&gt;
+  &lt;code title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt; or
+  &lt;code title=&quot;dom-media-HAVE_ENOUGH_DATA&quot;&gt;HAVE_ENOUGH_DATA&lt;/code&gt; and
+  the user agent has reached a point in the &lt;span&gt;media
+  resource&lt;/span&gt; where the user has to make a selection for the
+  resource to continue.&lt;/p&gt;
 
   &lt;p&gt;It is possible for a &lt;span&gt;media element&lt;/span&gt; to have both
   &lt;span&gt;ended playback&lt;/span&gt; and &lt;span&gt;paused for user
@@ -18993,15 +19014,16 @@
   that is &lt;span&gt;potentially playing&lt;/span&gt; stops playing because its
   &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute
   changes to a value lower than &lt;code
-  title=&quot;dom-media-CAN_PLAY&quot;&gt;CAN_PLAY&lt;/code&gt;, without the element
-  having &lt;span&gt;ended playback&lt;/span&gt;, or playback having &lt;span&gt;stopped
-  due to errors&lt;/span&gt;, or playback having &lt;span&gt;paused for user
-  interaction&lt;/span&gt;, or the &lt;span title=&quot;dom-media-seek&quot;&gt;seeking
-  algorithm&lt;/span&gt; being invoked, the user agent must &lt;span&gt;queue a
-  task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; called &lt;code
-  title=&quot;event-timeupdate&quot;&gt;timeupdate&lt;/code&gt; at the element, and
-  &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; called
-  &lt;code title=&quot;event-waiting&quot;&gt;waiting&lt;/code&gt; at the element.&lt;/p&gt;
+  title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt;, without
+  the element having &lt;span&gt;ended playback&lt;/span&gt;, or playback having
+  &lt;span&gt;stopped due to errors&lt;/span&gt;, or playback having &lt;span&gt;paused
+  for user interaction&lt;/span&gt;, or the &lt;span
+  title=&quot;dom-media-seek&quot;&gt;seeking algorithm&lt;/span&gt; being invoked, the
+  user agent must &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
+  event&lt;/span&gt; called &lt;code title=&quot;event-timeupdate&quot;&gt;timeupdate&lt;/code&gt;
+  at the element, and &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
+  event&lt;/span&gt; called &lt;code title=&quot;event-waiting&quot;&gt;waiting&lt;/code&gt; at
+  the element.&lt;/p&gt;
 
   &lt;p&gt;When &lt;code title=&quot;dom-media-currentLoop&quot;&gt;currentLoop&lt;/code&gt; is
   less than &lt;span&gt;&lt;code
@@ -19083,7 +19105,7 @@
 
    &lt;li&gt;&lt;p&gt;If the &lt;span&gt;media element&lt;/span&gt;'s &lt;code
    title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute has
-   the value &lt;span title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/span&gt;, then the user
+   the value &lt;code title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt;, then the user
    agent must invoke the &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt;
    method and wait for it to return. If that raises an exception, that
    exception must be reraised by the &lt;code
@@ -19147,7 +19169,8 @@
 
    &lt;li&gt;&lt;p&gt;If the &lt;span&gt;media element&lt;/span&gt;'s &lt;code
    title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute has
-   the value &lt;span title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/span&gt;, then the user
+   the value &lt;code
+   title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt;, then the user
    agent must invoke the &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt;
    method and wait for it to return. If that raises an exception, that
    exception must be reraised by the &lt;code
@@ -19190,19 +19213,15 @@
   playback rate) the client doesn't actually have to drop or
   interpolate any frames.&lt;/p&gt;
 
-  &lt;p&gt;If the &lt;code title=&quot;dom-media-playbackRate&quot;&gt;playbackRate&lt;/code&gt;
-  is positive and is a rate at which audio can be played back, and if
-  the audio channels are not &lt;code
-  title=&quot;dom-media-muted&quot;&gt;muted&lt;/code&gt;, then the audio component of
-  the &lt;span&gt;media resource&lt;/span&gt; should be played synchronised with
-  the &lt;span&gt;current playback position&lt;/span&gt;. If this rate is not 1.0,
-  the user agent may apply pitch adjustments to the audio as necessary
-  to render it faithfully. When the &lt;code
-  title=&quot;dom-media-playbackRate&quot;&gt;playbackRate&lt;/code&gt; is negative
-  (playback is backwards), the corresponding audio must not play. When
-  the &lt;code title=&quot;dom-media-playbackRate&quot;&gt;playbackRate&lt;/code&gt; is so
-  low or so high that the user agent cannot play audio usefully, the
-  corresponding audio must not play.&lt;/p&gt;
+  &lt;p&gt;When the &lt;code title=&quot;dom-media-playbackRate&quot;&gt;playbackRate&lt;/code&gt;
+  is negative (playback is backwards), any corresponding audio must be
+  muted. When the &lt;code
+  title=&quot;dom-media-playbackRate&quot;&gt;playbackRate&lt;/code&gt; is so low or so
+  high that the user agent cannot play audio usefully, the
+  corresponding audio must also be muted. If the &lt;code
+  title=&quot;dom-media-playbackRate&quot;&gt;playbackRate&lt;/code&gt; is not 1.0, the
+  user agent may apply pitch adjustments to the audio as necessary to
+  render it faithfully.&lt;/p&gt;
 
   &lt;p&gt;&lt;span title=&quot;media element&quot;&gt;Media elements&lt;/span&gt; that are
   &lt;span&gt;potentially playing&lt;/span&gt; while not &lt;span&gt;in a
@@ -19299,8 +19318,9 @@
   &lt;code&gt;Document&lt;/code&gt;&lt;!-- XXX xref removed --&gt;&lt;/span&gt;, if the
   &lt;span&gt;media element&lt;/span&gt;'s &lt;code
   title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; attribute has a
-  value other than &lt;span title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/span&gt; then the
-  user agent must act as if the &lt;code
+  value other than &lt;code
+  title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt; then the user
+  agent must act as if the &lt;code
   title=&quot;dom-media-pause&quot;&gt;pause()&lt;/code&gt; method had been invoked.&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;If the &lt;span&gt;media element&lt;/span&gt;'s
@@ -19324,11 +19344,11 @@
   &lt;ol&gt;
 
    &lt;li&gt;&lt;p&gt;If the &lt;span&gt;media element&lt;/span&gt;'s &lt;code
-   title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; is less than
-   &lt;code title=&quot;dom-media-LOADED_METADATA&quot;&gt;LOADED_METADATA&lt;/code&gt;,
-   then the user agent must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt;
-   exception (if the seek was in response to a DOM method call or
-   setting of a DOM attribute), and abort these steps.&lt;/p&gt;&lt;/li&gt;
+   title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; is &lt;code
+   title=&quot;dom-media-HAVE_NOTHING&quot;&gt;HAVE_NOTHING&lt;/code&gt;, then the user
+   agent must raise an &lt;code&gt;INVALID_STATE_ERR&lt;/code&gt; exception (if
+   the seek was in response to a DOM method call or setting of a DOM
+   attribute), and abort these steps.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If &lt;code title=&quot;dom-media-currentLoop&quot;&gt;currentLoop&lt;/code&gt; is
    0, let &lt;var title=&quot;&quot;&gt;min&lt;/var&gt; be the &lt;var&gt;effective
@@ -19368,10 +19388,10 @@
    playing&lt;/span&gt; immediately before it started seeking, but seeking
    caused its &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt;
    attribute to change to a value lower than &lt;code
-   title=&quot;dom-media-CAN_PLAY&quot;&gt;CAN_PLAY&lt;/code&gt;, the user agent must
-   &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt;
-   called &lt;code title=&quot;event-waiting&quot;&gt;waiting&lt;/code&gt; at the
-   element.&lt;/p&gt;&lt;/li&gt;
+   title=&quot;dom-media-HAVE_FUTURE_FRAME&quot;&gt;HAVE_FUTURE_FRAME&lt;/code&gt;, the
+   user agent must &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
+   event&lt;/span&gt; called &lt;code title=&quot;event-waiting&quot;&gt;waiting&lt;/code&gt; at
+   the element.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If, when it reaches this step, the user agent has still not
    established whether or not the &lt;span&gt;media data&lt;/span&gt; for the &lt;var
@@ -19417,6 +19437,11 @@
   title=&quot;dom-media-duration&quot;&gt;duration&lt;/code&gt; attribute's value (which
   would equal the time of the last frame).&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;The range might be continuously changing, e.g. if
+  the user agent is buffering a sliding window on an infinite
+  stream. This is the behavior seen with DVRs viewing live TV, for
+  instance.&lt;/p&gt;
+
   &lt;p&gt;&lt;span title=&quot;media resource&quot;&gt;Media resources&lt;/span&gt; might be
   internally scripted or interactive. Thus, a &lt;span&gt;media
   element&lt;/span&gt; could play in a non-linear fashion. If this happens,
@@ -19625,49 +19650,46 @@
      &lt;td&gt;&lt;dfn title=&quot;event-loadstart&quot;&gt;&lt;code&gt;loadstart&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt; &lt;a href=&quot;#refsPROGRESS&quot;&gt;[PROGRESS]&lt;/a&gt;
      &lt;td&gt;The user agent begins fetching the &lt;span&gt;media data&lt;/span&gt;, synchronously during the &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt; method call.
-     &lt;td&gt;&lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; equals &lt;code title=&quot;dom-media-LOADING&quot;&gt;LOADING&lt;/code&gt;
+     &lt;td&gt;&lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; equals &lt;code title=&quot;dom-media-NETWORK_LOADING&quot;&gt;NETWORK_LOADING&lt;/code&gt;
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-progress&quot;&gt;&lt;code&gt;progress&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt; &lt;a href=&quot;#refsPROGRESS&quot;&gt;[PROGRESS]&lt;/a&gt;
      &lt;td&gt;The user agent is fetching &lt;span&gt;media data&lt;/span&gt;.
-     &lt;td&gt;&lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; is more than &lt;code title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/code&gt; and less than &lt;code title=&quot;dom-media-LOADED&quot;&gt;LOADED&lt;/code&gt;
+     &lt;td&gt;&lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; equals &lt;code title=&quot;dom-media-NETWORK_LOADING&quot;&gt;NETWORK_LOADING&lt;/code&gt;
     &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;event-loadedmetadata&quot;&gt;&lt;code&gt;loadedmetadata&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;The user agent is fetching &lt;span&gt;media data&lt;/span&gt;, and the &lt;span&gt;media resource&lt;/span&gt;'s metadata has just been received.
-     &lt;td&gt;&lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; equals &lt;code title=&quot;dom-media-LOADED_METADATA&quot;&gt;LOADED_METADATA&lt;/code&gt;
+     &lt;td&gt;&lt;dfn title=&quot;event-suspend&quot;&gt;&lt;code&gt;suspend&lt;/code&gt;&lt;/dfn&gt;
+     &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt; &lt;a href=&quot;#refsPROGRESS&quot;&gt;[PROGRESS]&lt;/a&gt;
+     &lt;td&gt;The user agent is intentionally not currently fetching &lt;span&gt;media data&lt;/span&gt;, but does not have the entire &lt;span&gt;media resource&lt;/span&gt; downloaded.
+     &lt;td&gt;&lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; equals &lt;code title=&quot;dom-media-NETWORK_IDLE&quot;&gt;NETWORK_IDLE&lt;/code&gt;
     &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;event-loadedfirstframe&quot;&gt;&lt;code&gt;loadedfirstframe&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;The user agent is fetching &lt;span&gt;media data&lt;/span&gt;, and the &lt;span&gt;media resource&lt;/span&gt;'s first frame has just been received.
-     &lt;td&gt;&lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; equals &lt;code title=&quot;dom-media-LOADED_FIRST_FRAME&quot;&gt;LOADED_FIRST_FRAME&lt;/code&gt;
-    &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-load&quot;&gt;&lt;code&gt;load&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt; &lt;a href=&quot;#refsPROGRESS&quot;&gt;[PROGRESS]&lt;/a&gt;
      &lt;td&gt;The user agent finishes fetching the entire &lt;span&gt;media resource&lt;/span&gt;.
-     &lt;td&gt;&lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; equals &lt;code title=&quot;dom-media-LOADED&quot;&gt;LOADED&lt;/code&gt;
+     &lt;td&gt;&lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; equals &lt;code title=&quot;dom-media-NETWORK_LOADED&quot;&gt;NETWORK_LOADED&lt;/code&gt;
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-abort&quot;&gt;&lt;code&gt;abort&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt; &lt;a href=&quot;#refsPROGRESS&quot;&gt;[PROGRESS]&lt;/a&gt;
      &lt;td&gt;The user agent stops fetching the &lt;span&gt;media data&lt;/span&gt; before it is completely downloaded. This can be fired synchronously during the &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt; method call.
      &lt;td&gt;&lt;code title=&quot;dom-media-error&quot;&gt;error&lt;/code&gt; is an object with the code &lt;code title=&quot;dom-MediaError-MEDIA_ERR_ABORTED&quot;&gt;MEDIA_ERR_ABORTED&lt;/code&gt;.
-         &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; equals either &lt;code title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/code&gt; or &lt;code title=&quot;dom-media-LOADED&quot;&gt;LOADED&lt;/code&gt;, depending on when the download was aborted.
+         &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; equals either &lt;code title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt; or &lt;code title=&quot;dom-media-NETWORK_LOADED&quot;&gt;NETWORK_LOADED&lt;/code&gt;, depending on when the download was aborted.
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-error&quot;&gt;&lt;code&gt;error&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt; &lt;a href=&quot;#refsPROGRESS&quot;&gt;[PROGRESS]&lt;/a&gt;
      &lt;td&gt;An error occurs while fetching the &lt;span&gt;media data&lt;/span&gt;.
      &lt;td&gt;&lt;code title=&quot;dom-media-error&quot;&gt;error&lt;/code&gt; is an object with the code &lt;code title=&quot;dom-MediaError-MEDIA_ERR_NETWORK_ERROR&quot;&gt;MEDIA_ERR_NETWORK_ERROR&lt;/code&gt; or higher.
-         &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; equals either &lt;code title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/code&gt; or &lt;code title=&quot;dom-media-LOADED&quot;&gt;LOADED&lt;/code&gt;, depending on when the download was aborted.
+         &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; equals either &lt;code title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt; or &lt;code title=&quot;dom-media-NETWORK_LOADED&quot;&gt;NETWORK_LOADED&lt;/code&gt;, depending on when the download was aborted.
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-emptied&quot;&gt;&lt;code&gt;emptied&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;A &lt;span&gt;media element&lt;/span&gt; whose &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; was previously not in the &lt;code title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/code&gt; state has just switched to that state (either because of a fatal error during load that's about to be reported, or because the &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt; method was reinvoked, in which case it is fired synchronously during the &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt; method call).
-     &lt;td&gt;&lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; is &lt;code title=&quot;dom-media-EMPTY&quot;&gt;EMPTY&lt;/code&gt;; all the DOM attributes are in their initial states.
+     &lt;td&gt;A &lt;span&gt;media element&lt;/span&gt; whose &lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; was previously not in the &lt;code title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt; state has just switched to that state (either because of a fatal error during load that's about to be reported, or because the &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt; method was reinvoked, in which case it is fired synchronously during the &lt;code title=&quot;dom-media-load&quot;&gt;load()&lt;/code&gt; method call).
+     &lt;td&gt;&lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; is &lt;code title=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt;; all the DOM attributes are in their initial states.
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-stalled&quot;&gt;&lt;code&gt;stalled&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;ProgressEvent&lt;/code&gt;
      &lt;td&gt;The user agent is trying to fetch &lt;span&gt;media data&lt;/span&gt;, but data is unexpectedly not forthcoming.
-     &lt;td&gt;
+     &lt;td&gt;&lt;code title=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; is &lt;code title=&quot;dom-media-NETWORK_LOADING&quot;&gt;NETWORK_LOADING&lt;/code&gt;.
+
+   &lt;tbody&gt;
     &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-play&quot;&gt;&lt;code&gt;play&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
@@ -19678,12 +19700,36 @@
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;Playback has been paused. Fired after the &lt;code title=&quot;dom-media-pause&quot;&gt;pause&lt;/code&gt; method has returned.
      &lt;td&gt;&lt;code title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt; is newly true.
+
+   &lt;tbody&gt;
     &lt;tr&gt;
+     &lt;td&gt;&lt;dfn title=&quot;event-loadedmetadata&quot;&gt;&lt;code&gt;loadedmetadata&lt;/code&gt;&lt;/dfn&gt;
+     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
+     &lt;td&gt;The user agent has just received the metadata, such as duration or dimensions, for the &lt;span&gt;media resource&lt;/span&gt;.
+     &lt;td&gt;&lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; is newly equal to &lt;code title=&quot;dom-media-HAVE_METADATA&quot;&gt;HAVE_METADATA&lt;/code&gt; or greater for the first time.
+    &lt;tr&gt;
+     &lt;td&gt;&lt;dfn title=&quot;event-loadeddata&quot;&gt;&lt;code&gt;loadeddata&lt;/code&gt;&lt;/dfn&gt;
+     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
+     &lt;td&gt;The user agent can render the &lt;span&gt;media data&lt;/span&gt; at the &lt;span&gt;current playback position&lt;/span&gt; for the first time.
+     &lt;td&gt;&lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; newly increased to &lt;code title=&quot;dom-media-HAVE_CURRENT_DATA&quot;&gt;HAVE_CURRENT_DATA&lt;/code&gt; or greater for the first time.
+    &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-waiting&quot;&gt;&lt;code&gt;waiting&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;Playback has stopped because the next frame is not available, but the user agent expects that frame to become available in due course.
-     &lt;td&gt;&lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; is either &lt;code title=&quot;dom-media-DATA_UNAVAILABLE&quot;&gt;DATA_UNAVAILABLE&lt;/code&gt; or &lt;code title=&quot;dom-media-CAN_SHOW_CURRENT_FRAME&quot;&gt;CAN_SHOW_CURRENT_FRAME&lt;/code&gt;, and &lt;code title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt; is false. Either &lt;code title=&quot;dom-media-seeking&quot;&gt;seeking&lt;/code&gt; is true, or the &lt;span&gt;current playback position&lt;/span&gt; is not contained in any of the ranges in &lt;code title=&quot;dom-media-buffered&quot;&gt;buffered&lt;/code&gt;. It is possible for playback to stop for two other reasons without &lt;code title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt; being false, but those two reasons do not fire this event: maybe &lt;span title=&quot;ended playback&quot;&gt;playback ended&lt;/span&gt;, or playback &lt;span&gt;stopped due to errors&lt;/span&gt;.
+     &lt;td&gt;&lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; is newly equal to or less than &lt;code title=&quot;dom-media-HAVE_CURRENT_DATA&quot;&gt;HAVE_CURRENT_DATA&lt;/code&gt;, and &lt;code title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt; is false. Either &lt;code title=&quot;dom-media-seeking&quot;&gt;seeking&lt;/code&gt; is true, or the &lt;span&gt;current playback position&lt;/span&gt; is not contained in any of the ranges in &lt;code title=&quot;dom-media-buffered&quot;&gt;buffered&lt;/code&gt;. It is possible for playback to stop for two other reasons without &lt;code title=&quot;dom-media-paused&quot;&gt;paused&lt;/code&gt; being false, but those two reasons do not fire this event: maybe &lt;span title=&quot;ended playback&quot;&gt;playback ended&lt;/span&gt;, or playback &lt;span&gt;stopped due to errors&lt;/span&gt;.
     &lt;tr&gt;
+     &lt;td&gt;&lt;dfn title=&quot;event-canplay&quot;&gt;&lt;code&gt;canplay&lt;/code&gt;&lt;/dfn&gt;
+     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
+     &lt;td&gt;The user agent can resume playback of the &lt;span&gt;media data&lt;/span&gt;, but estimates that if playback were to be started now, the &lt;span&gt;media resource&lt;/span&gt; could not be rendered at the current playback rate up to its end without having to stop for further buffering of content.
+     &lt;td&gt;&lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; newly increased to &lt;code title=&quot;dom-media-HAVE_FUTURE_DATA&quot;&gt;HAVE_FUTURE_DATA&lt;/code&gt; or greater.
+    &lt;tr&gt;
+     &lt;td&gt;&lt;dfn title=&quot;event-canplaythrough&quot;&gt;&lt;code&gt;canplaythrough&lt;/code&gt;&lt;/dfn&gt;
+     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
+     &lt;td&gt;The user agent estimates that if playback were to be started now, the &lt;span&gt;media resource&lt;/span&gt; could be rendered at the current playback rate all the way to its end without having to stop for further buffering.
+     &lt;td&gt;&lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; is newly equal to &lt;code title=&quot;dom-media-HAVE_ENOUGH_DATA&quot;&gt;HAVE_ENOUGH_DATA&lt;/code&gt;.
+
+   &lt;tbody&gt;
+    &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-seeking&quot;&gt;&lt;code&gt;seeking&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;The &lt;code title=&quot;dom-media-seeking&quot;&gt;seeking&lt;/code&gt; DOM attribute changed to true and the seek operation is taking long enough that the user agent has time to fire the event.
@@ -19703,27 +19749,9 @@
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;Playback has stopped because the end of the &lt;span&gt;media resource&lt;/span&gt; was reached.
      &lt;td&gt;&lt;code title=&quot;dom-media-currentTime&quot;&gt;currentTime&lt;/code&gt; equals the &lt;var&gt;effective end&lt;/var&gt;; &lt;code title=&quot;dom-media-ended&quot;&gt;ended&lt;/code&gt; is true.
+
+   &lt;tbody&gt;
     &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;event-dataunavailable&quot;&gt;&lt;code&gt;dataunavailable&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;The user agent cannot render the data at the &lt;span&gt;current playback position&lt;/span&gt; because data for the current frame is not immediately available.
-     &lt;td&gt;The &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is newly equal to &lt;code title=&quot;DATA_UNAVAILABLE&quot;&gt;DATA_UNAVAILABLE&lt;/code&gt;.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;event-canshowcurrentframe&quot;&gt;&lt;code&gt;canshowcurrentframe&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;The user agent cannot render the data after the &lt;span&gt;current playback position&lt;/span&gt; because data for the next frame is not immediately available.
-     &lt;td&gt;The &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is newly equal to &lt;code title=&quot;dom-media-CAN_SHOW_CURRENT_FRAME&quot;&gt;CAN_SHOW_CURRENT_FRAME&lt;/code&gt;.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;event-canplay&quot;&gt;&lt;code&gt;canplay&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;The user agent can resume playback of the &lt;span&gt;media data&lt;/span&gt;, but estimates that if playback were to be started now, the &lt;span&gt;media resource&lt;/span&gt; could not be rendered at the current playback rate up to its end without having to stop for further buffering of content.
-     &lt;td&gt;The &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is newly equal to &lt;code title=&quot;dom-media-CAN_PLAY&quot;&gt;CAN_PLAY&lt;/code&gt;.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;dfn title=&quot;event-canplaythrough&quot;&gt;&lt;code&gt;canplaythrough&lt;/code&gt;&lt;/dfn&gt;
-     &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
-     &lt;td&gt;The user agent estimates that if playback were to be started now, the &lt;span&gt;media resource&lt;/span&gt; could be rendered at the current playback rate all the way to its end without having to stop for further buffering.
-     &lt;td&gt;The &lt;code title=&quot;dom-media-readyState&quot;&gt;readyState&lt;/code&gt; attribute is newly equal to &lt;code title=&quot;dom-media-CAN_PLAY_THROUGH&quot;&gt;CAN_PLAY_THROUGH&lt;/code&gt;.
-    &lt;tr&gt;
      &lt;td&gt;&lt;dfn title=&quot;event-ratechange&quot;&gt;&lt;code&gt;ratechange&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt;&lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt;Either the &lt;code title=&quot;dom-media-defaultPlaybackRate&quot;&gt;defaultPlaybackRate&lt;/code&gt; or the &lt;code title=&quot;dom-media-playbackRate&quot;&gt;playbackRate&lt;/code&gt; attribute has just been updated.


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009214.html">[html5] r2329 - [gow] (2) How to handle a moving window of	backbuffer; how to handle audio playb [...]
</A></li>
	<LI>Next message: <A HREF="009216.html">[html5] r2331 - [gow] (2) Allow UAs to not autoplay.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9215">[ date ]</a>
              <a href="thread.html#9215">[ thread ]</a>
              <a href="subject.html#9215">[ subject ]</a>
              <a href="author.html#9215">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
