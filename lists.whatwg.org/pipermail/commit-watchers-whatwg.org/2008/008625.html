<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1726 - /
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1726%20-%20/&In-Reply-To=%3C20080606020515.C962A1B0D98%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008624.html">
   <LINK REL="Next"  HREF="008626.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1726 - /</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1726%20-%20/&In-Reply-To=%3C20080606020515.C962A1B0D98%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1726 - /">whatwg at whatwg.org
       </A><BR>
    <I>Thu Jun  5 19:05:15 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008624.html">[html5] r1725 - /
</A></li>
        <LI>Next message: <A HREF="008626.html">[html5] r1727 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8625">[ date ]</a>
              <a href="thread.html#8625">[ thread ]</a>
              <a href="subject.html#8625">[ subject ]</a>
              <a href="author.html#8625">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-06-05 19:05:15 -0700 (Thu, 05 Jun 2008)
New Revision: 1726

Modified:
   index
   source
Log:
[e] (0) Many editorial changes around the word 'base', from refering to RFC3986 more directly, to changing 'base ten integer' to 'base-ten integer'

Modified: index
===================================================================
--- index	2008-06-05 23:57:18 UTC (rev 1725)
+++ index	2008-06-06 02:05:15 UTC (rev 1726)
@@ -25,7 +25,7 @@
 
    &lt;h1 id=html-5&gt;HTML 5&lt;/h1&gt;
 
-   &lt;h2 class=&quot;no-num no-toc&quot; id=draft&gt;Draft Recommendation &mdash; 5 June
+   &lt;h2 class=&quot;no-num no-toc&quot; id=draft&gt;Draft Recommendation &mdash; 6 June
     2008&lt;/h2&gt;
 
    &lt;p&gt;You can take part in this work. &lt;a
@@ -5350,7 +5350,7 @@
     &lt;p&gt;&lt;a href=&quot;#collect&quot;&gt;Collect a sequence of characters&lt;/a&gt; in the range
      U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
      sequence is not exactly four characters long, then fail. Otherwise,
-     interpret the resulting sequence as a base ten integer. Let that number
+     interpret the resulting sequence as a base-ten integer. Let that number
      be the &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;.
 
    &lt;li&gt;
@@ -5363,7 +5363,7 @@
     &lt;p&gt;&lt;a href=&quot;#collect&quot;&gt;Collect a sequence of characters&lt;/a&gt; in the range
      U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
      sequence is not exactly two characters long, then fail. Otherwise,
-     interpret the resulting sequence as a base ten integer. Let that number
+     interpret the resulting sequence as a base-ten integer. Let that number
      be the &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;.
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; is not a number in the range
@@ -5383,7 +5383,7 @@
     &lt;p&gt;&lt;a href=&quot;#collect&quot;&gt;Collect a sequence of characters&lt;/a&gt; in the range
      U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
      sequence is not exactly two characters long, then fail. Otherwise,
-     interpret the resulting sequence as a base ten integer. Let that number
+     interpret the resulting sequence as a base-ten integer. Let that number
      be the &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;.
 
    &lt;li&gt;
@@ -5402,7 +5402,7 @@
     &lt;p&gt;&lt;a href=&quot;#collect&quot;&gt;Collect a sequence of characters&lt;/a&gt; in the range
      U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
      sequence is not exactly two characters long, then fail. Otherwise,
-     interpret the resulting sequence as a base ten integer. Let that number
+     interpret the resulting sequence as a base-ten integer. Let that number
      be the &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;.
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt; is not a number in the range
@@ -5418,7 +5418,7 @@
     &lt;p&gt;&lt;a href=&quot;#collect&quot;&gt;Collect a sequence of characters&lt;/a&gt; in the range
      U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
      sequence is not exactly two characters long, then fail. Otherwise,
-     interpret the resulting sequence as a base ten integer. Let that number
+     interpret the resulting sequence as a base-ten integer. Let that number
      be the &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;.
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt; is not a number in the range
@@ -5459,7 +5459,7 @@
     &lt;/ol&gt;
 
    &lt;li&gt;
-    &lt;p&gt;Interpret &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; as a base ten number (possibly
+    &lt;p&gt;Interpret &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; as a base-ten number (possibly
      with a fractional part). Let that number be &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;
      instead of the string version.
 
@@ -5510,7 +5510,7 @@
       &lt;p&gt;&lt;a href=&quot;#collect&quot;&gt;Collect a sequence of characters&lt;/a&gt; in the range
        U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
        sequence is not exactly two characters long, then fail. Otherwise,
-       interpret the resulting sequence as a base ten integer. Let that
+       interpret the resulting sequence as a base-ten integer. Let that
        number be the &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;.
 
      &lt;li&gt;If &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; is not a
@@ -5530,7 +5530,7 @@
       &lt;p&gt;&lt;a href=&quot;#collect&quot;&gt;Collect a sequence of characters&lt;/a&gt; in the range
        U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
        sequence is not exactly two characters long, then fail. Otherwise,
-       interpret the resulting sequence as a base ten integer. Let that
+       interpret the resulting sequence as a base-ten integer. Let that
        number be the &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;.
 
      &lt;li&gt;If &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt; is not a
@@ -5640,8 +5640,8 @@
        however.)
 
      &lt;li&gt;
-      &lt;p&gt;Interpret the sequence of characters collected in step 5 as a base
-       ten integer, and let that number be &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;.
+      &lt;p&gt;Interpret the sequence of characters collected in step 5 as a
+       base-ten integer, and let that number be &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;.
 
      &lt;li&gt;
       &lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; past the U+002D HYPHEN-MINUS
@@ -5660,7 +5660,7 @@
 
      &lt;li&gt;
       &lt;p&gt;Interpret the sequence of characters collected two steps ago as a
-       base ten integer, and let that number be &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;.
+       base-ten integer, and let that number be &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;.
 
      &lt;li&gt;If &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; is not a number in the range
       1&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;month&lt;/var&gt;&nbsp;&le;&nbsp;12, then the
@@ -5691,7 +5691,7 @@
 
      &lt;li&gt;
       &lt;p&gt;Interpret the sequence of characters collected two steps ago as a
-       base ten integer, and let that number be &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;.
+       base-ten integer, and let that number be &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;.
 
      &lt;li&gt;
       &lt;p&gt;If &lt;var title=&quot;&quot;&gt;day&lt;/var&gt; is not a number in the range
@@ -5745,8 +5745,8 @@
      string is invalid.
 
    &lt;li&gt;
-    &lt;p&gt;Interpret the sequence of characters collected two steps ago as a base
-     ten integer, and let that number be &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;.
+    &lt;p&gt;Interpret the sequence of characters collected two steps ago as a
+     base-ten integer, and let that number be &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;.
 
    &lt;li&gt;
     &lt;p&gt;If &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt; is not a number in the range
@@ -5772,8 +5772,8 @@
      long, then the string is invalid.
 
    &lt;li&gt;
-    &lt;p&gt;Interpret the sequence of characters collected two steps ago as a base
-     ten integer, and let that number be &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;.
+    &lt;p&gt;Interpret the sequence of characters collected two steps ago as a
+     base-ten integer, and let that number be &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;.
 
    &lt;li&gt;
     &lt;p&gt;If &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt; is not a number in the range
@@ -5806,7 +5806,7 @@
 
      &lt;li&gt;
       &lt;p&gt;Interpret the sequence of characters collected two steps ago as a
-       base ten number (possibly with a fractional part), and let that number
+       base-ten number (possibly with a fractional part), and let that number
        be &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;.
 
      &lt;li&gt;
@@ -5881,7 +5881,7 @@
          string is invalid.
 
        &lt;li&gt;
-        &lt;p&gt;Interpret the sequence collected in the last step as a base ten
+        &lt;p&gt;Interpret the sequence collected in the last step as a base-ten
          number, and let that number be &lt;var title=&quot;&quot;&gt;timezone&lt;sub
          title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;.
 
@@ -5909,7 +5909,7 @@
          string is invalid.
 
        &lt;li&gt;
-        &lt;p&gt;Interpret the sequence collected in the last step as a base ten
+        &lt;p&gt;Interpret the sequence collected in the last step as a base-ten
          number, and let that number be &lt;var title=&quot;&quot;&gt;timezone&lt;sub
          title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;.
 
@@ -6183,7 +6183,8 @@
     &lt;li&gt;define how to resolve relative URLs in markup attributes (using
      XMLBase as defined elsewhere right now)
 
-    &lt;li&gt;define how to resolve relative URLs in APIs
+    &lt;li&gt;define how to resolve relative URLs in APIs, using the &lt;dfn
+     id=scripts0&gt;script's base URI&lt;/dfn&gt; maybe
 
     &lt;li&gt;define what it means to resolve a relative URL when the base URL
      doesn't have a path hierarchy (e.g. data:, javascript:, about:blank
@@ -6207,6 +6208,13 @@
      href=&quot;#refsRFC3987&quot;&gt;[RFC3987]&lt;/a&gt;
 
     &lt;li&gt;define how to parse URLs (maybe by deferring to RFCs)
+
+    &lt;li&gt;define &quot;an &lt;dfn id=elements2&gt;element's base URI&lt;/dfn&gt;&quot; and make the
+     various places that talk about a base URI in the context of an element
+     use that definition
+
+    &lt;li&gt;make the language used to refer to resolving a base URI consistent
+     throughout, maybe make it hyperlink to a definition each time
    &lt;/ul&gt;
   &lt;/div&gt;
 
@@ -7564,10 +7572,13 @@
    href=&quot;#application2&quot; title=concept-appcache-init-with-attribute&gt;has an
    effect&lt;/a&gt; during the early stages of document load. Changing the
    attribute dynamically thus has no effect (and thus, no DOM API is provided
-   for this attribute). Furthermore, as it is processed before any &lt;code&gt;&lt;a
-   href=&quot;#base&quot;&gt;base&lt;/a&gt;&lt;/code&gt; elements are seen, its value is not subject
-   to being made relative to any base URI.
+   for this attribute).
 
+  &lt;p class=note&gt;Later &lt;code&gt;&lt;a href=&quot;#base&quot;&gt;base&lt;/a&gt;&lt;/code&gt; elements can't
+   affect the resolving of relative URIs in &lt;code title=attr-html-manifest&gt;&lt;a
+   href=&quot;#manifest&quot;&gt;manifest&lt;/a&gt;&lt;/code&gt; attributes, as the attributes are
+   processed before those elements are seen.
+
   &lt;h3 id=document&gt;&lt;span class=secno&gt;3.7 &lt;/span&gt;Document metadata&lt;/h3&gt;
 
   &lt;h4 id=the-head&gt;&lt;span class=secno&gt;3.7.1 &lt;/span&gt;The &lt;dfn
@@ -8002,12 +8013,11 @@
 
   &lt;p&gt;Some versions of HTTP defined a &lt;code title=&quot;&quot;&gt;Link:&lt;/code&gt; header, to
    be processed like a series of &lt;code&gt;&lt;a href=&quot;#link&quot;&gt;link&lt;/a&gt;&lt;/code&gt;
-   elements. When processing links, those must be taken into consideration as
-   well. For the purposes of ordering, links defined by HTTP headers must be
-   assumed to come before any links in the document, in the order that they
-   were given in the HTTP entity header. Relative URIs in these headers must
-   be resolved according to the rules given in HTTP, not relative to base
-   URIs set by the document (e.g. using a &lt;code&gt;&lt;a
+   elements. If supported, for the purposes of ordering links defined by HTTP
+   headers must be assumed to come before any links in the document, in the
+   order that they were given in the HTTP entity header. Relative URIs in
+   these headers are resolved according to the rules given in HTTP, not
+   relative to base URIs set by the document (e.g. using a &lt;code&gt;&lt;a
    href=&quot;#base&quot;&gt;base&lt;/a&gt;&lt;/code&gt; element or &lt;code
    title=attr-xml-base&gt;xml:base&lt;/code&gt; attributes). &lt;a
    href=&quot;#refsRFC2616&quot;&gt;[RFC2616]&lt;/a&gt; &lt;a href=&quot;#refsRFC2068&quot;&gt;[RFC2068]&lt;/a&gt;
@@ -8552,7 +8562,8 @@
 
      &lt;li&gt;
       &lt;p&gt;Resolve the &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; value to an absolute URI using
-       the base URI of the &lt;code&gt;&lt;a href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt; element.
+       &lt;a href=&quot;#elements2&quot; title=&quot;element's base URI&quot;&gt;the base URI&lt;/a&gt; of
+       the &lt;code&gt;&lt;a href=&quot;#meta0&quot;&gt;meta&lt;/a&gt;&lt;/code&gt; element.
 
      &lt;li&gt;
       &lt;p&gt;Perform one or more of the following steps:&lt;/p&gt;
@@ -25809,9 +25820,10 @@
     href=&quot;#rowspecification&quot;&gt;RowSpecification&lt;/a&gt;&lt;/code&gt; object representing
     the row in question. The return value is a string representing a URI (or
     IRI) to an image. Relative URIs must be interpreted relative to the
-    &lt;code&gt;&lt;a href=&quot;#datagrid0&quot;&gt;datagrid&lt;/a&gt;&lt;/code&gt;'s base URI. If the method
-    returns the empty string, null, or if the method is not defined, then the
-    row has no associated image.
+    &lt;code&gt;&lt;a href=&quot;#datagrid0&quot;&gt;datagrid&lt;/a&gt;&lt;/code&gt;'s &lt;a href=&quot;#elements2&quot;
+    title=&quot;element's base URI&quot;&gt;base URI&lt;/a&gt;. If the method returns the empty
+    string, null, or if the method is not defined, then the row has no
+    associated image.
 
    &lt;dt&gt;To obtain a context menu appropriate for a particular row
 
@@ -27143,11 +27155,11 @@
    from the element's &lt;code&gt;src&lt;/code&gt; attribute. &lt;!--If it is
   an &lt;code&gt;object&lt;/code&gt; element then the URI is taken from the
   &lt;code&gt;data&lt;/code&gt; attribute. --&gt;
-   Relative URIs must be resolved relative to the base URI of the image
-   element. &lt;!-- If it is an
-  &lt;code&gt;svg&lt;/code&gt; element then the URI is formed by taking the URI of
-  the document and appending a &quot;#&quot; (U+0023 NUMBER SIGN) and the ID of
-  the element.--&gt;
+   Relative URIs must be resolved relative to the &lt;a href=&quot;#elements2&quot;
+   title=&quot;element's base URI&quot;&gt;base URI&lt;/a&gt; of the image element.
+   &lt;!-- If it is an &lt;code&gt;svg&lt;/code&gt; element then
+  the URI is formed by taking the URI of the document and appending a
+  &quot;#&quot; (U+0023 NUMBER SIGN) and the ID of the element.--&gt;
    If no image is found, then the Icon facet is left blank.
 
   &lt;p&gt;The &lt;a href=&quot;#hidden1&quot; title=command-facet-HiddenState&gt;Hidden State&lt;/a&gt;
@@ -27352,9 +27364,10 @@
   &lt;p&gt;The &lt;a href=&quot;#icon1&quot; title=command-facet-Icon&gt;Icon&lt;/a&gt; for the command
    is the absolute URI resulting from resolving the value of the element's
    &lt;code title=attr-command-icon&gt;&lt;a href=&quot;#icon&quot;&gt;icon&lt;/a&gt;&lt;/code&gt; attribute as
-   a URI relative to the element's base URI. If the element has no &lt;code
-   title=attr-command-icon&gt;&lt;a href=&quot;#icon&quot;&gt;icon&lt;/a&gt;&lt;/code&gt; attribute then the
-   command has no &lt;a href=&quot;#icon1&quot; title=command-facet-Icon&gt;Icon&lt;/a&gt;.
+   a URI relative to the &lt;a href=&quot;#elements2&quot;&gt;element's base URI&lt;/a&gt;. If the
+   element has no &lt;code title=attr-command-icon&gt;&lt;a
+   href=&quot;#icon&quot;&gt;icon&lt;/a&gt;&lt;/code&gt; attribute then the command has no &lt;a
+   href=&quot;#icon1&quot; title=command-facet-Icon&gt;Icon&lt;/a&gt;.
 
   &lt;p&gt;The &lt;a href=&quot;#hidden1&quot; title=command-facet-HiddenState&gt;Hidden State&lt;/a&gt;
    of the command is true (hidden) if the element has a &lt;code
@@ -31320,9 +31333,10 @@
   &lt;/ol&gt;
 
   &lt;p&gt;Relative URI references and IRI references resolved to absolute URIs or
-   IRIs in the above algorithm must use the manifest's URI as the Base URI
-   from the Retrieval URI for the purposes reference resolution as defined by
-   RFC 3986. &lt;a href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt;
+   IRIs in the above algorithm must be resolved according to section 5.1 of
+   RFC3986 (i.e. relative to the base URI from the encapsulating entity or
+   the URI used to retrieve the entity, since there is no way to embed a base
+   URI in the manifest itself). &lt;a href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt;
 
   &lt;p class=note&gt;If a resource is listed in both the online whitelist and in
    the explicit section, then that resource will be downloaded and cached,
@@ -32687,10 +32701,11 @@
   &lt;p&gt;Relative &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; arguments for &lt;code
    title=dom-location-assign&gt;&lt;a href=&quot;#assign&quot;&gt;assign()&lt;/a&gt;&lt;/code&gt; and &lt;code
    title=dom-location-replace&gt;&lt;a href=&quot;#replace&quot;&gt;replace()&lt;/a&gt;&lt;/code&gt; must be
-   resolved relative to the base URI of the script that made the method call.&lt;/p&gt;
-  &lt;!-- XXX what about if the base URI is data: or
-  javascript: or about: or something else without a way to resolve
-  base URIs? --&gt;
+   resolved relative to the &lt;a href=&quot;#scripts0&quot; title=&quot;script's base
+   URI&quot;&gt;base URI of the script&lt;/a&gt; that made the method call.&lt;/p&gt;
+  &lt;!-- XXX what about if
+  the base URI is data: or javascript: or about: or something else
+  without a way to resolve base URIs? --&gt;
 
   &lt;p&gt;The &lt;code&gt;&lt;a href=&quot;#location2&quot;&gt;Location&lt;/a&gt;&lt;/code&gt; interface also has
    the complement of &lt;a href=&quot;#uri-decomposition&quot;&gt;URI decomposition
@@ -33158,7 +33173,8 @@
    href=&quot;#manifest&quot;&gt;manifest&lt;/a&gt;&lt;/code&gt;, then, as soon as the element is
    inserted into the DOM, the user agent must run the &lt;a href=&quot;#application2&quot;
    title=concept-appcache-init-with-attribute&gt;application cache selection
-   algorithm&lt;/a&gt; with the value of that attribute as the manifest URI.
+   algorithm&lt;/a&gt; with the value of that attribute, resolved relative to the
+   &lt;a href=&quot;#elements2&quot;&gt;element's base URI&lt;/a&gt;, as the manifest URI.
    Otherwise, as soon as the root element is inserted into the DOM, the user
    agent must run the &lt;a href=&quot;#application3&quot;
    title=concept-appcache-init-no-attribute&gt;application cache selection
@@ -35663,10 +35679,10 @@
    title=attr-hyperlink-ping&gt;&lt;a href=&quot;#ping&quot;&gt;ping&lt;/a&gt;&lt;/code&gt; attribute's
    value, &lt;span title=&quot;split the string on spaces&quot;&gt;split that string on
    spaces&lt;/span&gt;, treat each resulting token as a URI (resolving relative
-   URIs according to element's base URI) and then should send a request (as
-   described below) to each of the resulting URIs. This may be done in
-   parallel with the primary request, and is independent of the result of
-   that request.
+   URIs according to &lt;a href=&quot;#elements2&quot;&gt;element's base URI&lt;/a&gt;) and then
+   should send a request (as described below) to each of the resulting URIs.
+   This may be done in parallel with the primary request, and is independent
+   of the result of that request.
 
   &lt;p&gt;User agents should allow the user to adjust this behavior, for example
    in conjunction with a setting that disables the sending of HTTP &lt;code
@@ -41286,7 +41302,7 @@
     and &lt;a href=&quot;#space&quot; title=&quot;space character&quot;&gt;space characters&lt;/a&gt;.
 
    &lt;li&gt;The root element, in the form of an &lt;code&gt;&lt;a
-    href=&quot;#html&quot;&gt;html&lt;/a&gt;&lt;/code&gt; &lt;a href=&quot;#elements2&quot;
+    href=&quot;#html&quot;&gt;html&lt;/a&gt;&lt;/code&gt; &lt;a href=&quot;#elements3&quot;
     title=syntax-elements&gt;element&lt;/a&gt;.
 
    &lt;li&gt;Any number of &lt;a href=&quot;#comments0&quot; title=syntax-comments&gt;comments&lt;/a&gt;
@@ -41383,7 +41399,7 @@
 
   &lt;h4 id=elements0&gt;&lt;span class=secno&gt;8.1.2 &lt;/span&gt;Elements&lt;/h4&gt;
 
-  &lt;p&gt;There are five different kinds of &lt;dfn id=elements2
+  &lt;p&gt;There are five different kinds of &lt;dfn id=elements3
    title=syntax-elements&gt;elements&lt;/dfn&gt;: void elements, CDATA elements,
    RCDATA elements, foreign elements, and normal elements.
 
@@ -41466,7 +41482,7 @@
    is &lt;em&gt;not&lt;/em&gt; marked as self-closing can have &lt;a href=&quot;#text2&quot;
    title=syntax-text&gt;text&lt;/a&gt;, &lt;a href=&quot;#character3&quot;
    title=syntax-charref&gt;character references&lt;/a&gt;, &lt;a href=&quot;#cdata0&quot;
-   title=syntax-cdata&gt;CDATA blocks&lt;/a&gt;, other &lt;a href=&quot;#elements2&quot;
+   title=syntax-cdata&gt;CDATA blocks&lt;/a&gt;, other &lt;a href=&quot;#elements3&quot;
    title=syntax-elements&gt;elements&lt;/a&gt;, and &lt;a href=&quot;#comments0&quot;
    title=syntax-comments&gt;comments&lt;/a&gt;, but the text must not contain the
    character U+003C LESS-THAN SIGN (&lt;code&gt;&lt;&lt;/code&gt;) or an &lt;a
@@ -41475,7 +41491,7 @@
 
   &lt;p&gt;Normal elements can have &lt;a href=&quot;#text2&quot; title=syntax-text&gt;text&lt;/a&gt;, &lt;a
    href=&quot;#character3&quot; title=syntax-charref&gt;character references&lt;/a&gt;, other &lt;a
-   href=&quot;#elements2&quot; title=syntax-elements&gt;elements&lt;/a&gt;, and &lt;a
+   href=&quot;#elements3&quot; title=syntax-elements&gt;elements&lt;/a&gt;, and &lt;a
    href=&quot;#comments0&quot; title=syntax-comments&gt;comments&lt;/a&gt;, but the text must
    not contain the character U+003C LESS-THAN SIGN (&lt;code&gt;&lt;&lt;/code&gt;) or an
    &lt;a href=&quot;#ambiguous&quot; title=syntax-ambiguous-ampersand&gt;ambiguous
@@ -45894,11 +45910,17 @@
     &lt;p id=parser-appcache&gt;If the token has an attribute &quot;manifest&quot;, then run
      the &lt;a href=&quot;#application2&quot;
      title=concept-appcache-init-with-attribute&gt;application cache selection
-     algorithm&lt;/a&gt; with the value of that attribute as the manifest URI.
+     algorithm&lt;/a&gt; with the value of that attribute as the manifest URI,
+     resolving relative URIs according to section 5.1 of RFC3986 as if there
+     was no base URI embedded in content (i.e. relative to the base URI from
+     the encapsulating entity or the URI used to retrieve the entity).
      Otherwise, run the &lt;a href=&quot;#application3&quot;
      title=concept-appcache-init-no-attribute&gt;application cache selection
-     algorithm&lt;/a&gt; with no manifest.&lt;/p&gt;
-
+     algorithm&lt;/a&gt; with no manifest. &lt;a href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt;&lt;/p&gt;
+    &lt;!-- XXX when dealing with
+    microsyntaxes-urls, hoist all this into that section so we can get
+    rid of &quot;URI&quot; here --&gt;
+    
     &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;a href=&quot;#before5&quot;
      title=&quot;insertion mode: before head&quot;&gt;before head&lt;/a&gt;&quot;.&lt;/p&gt;
 

Modified: source
===================================================================
--- source	2008-06-05 23:57:18 UTC (rev 1725)
+++ source	2008-06-06 02:05:15 UTC (rev 1726)
@@ -3835,7 +3835,7 @@
    &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
    U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
    sequence is not exactly four characters long, then fail. Otherwise,
-   interpret the resulting sequence as a base ten integer. Let that
+   interpret the resulting sequence as a base-ten integer. Let that
    number be the &lt;var title=&quot;&quot;&gt;year&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
@@ -3847,7 +3847,7 @@
    &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
    U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
    sequence is not exactly two characters long, then fail. Otherwise,
-   interpret the resulting sequence as a base ten integer. Let that
+   interpret the resulting sequence as a base-ten integer. Let that
    number be the &lt;var title=&quot;&quot;&gt;month&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; is not a number in the range
@@ -3866,7 +3866,7 @@
    &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
    U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
    sequence is not exactly two characters long, then fail. Otherwise,
-   interpret the resulting sequence as a base ten integer. Let that
+   interpret the resulting sequence as a base-ten integer. Let that
    number be the &lt;var title=&quot;&quot;&gt;day&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;day&lt;/var&gt; is not a number in the range
@@ -3882,7 +3882,7 @@
    &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
    U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
    sequence is not exactly two characters long, then fail. Otherwise,
-   interpret the resulting sequence as a base ten integer. Let that
+   interpret the resulting sequence as a base-ten integer. Let that
    number be the &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt; is not a number in the range
@@ -3897,7 +3897,7 @@
    &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
    U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
    sequence is not exactly two characters long, then fail. Otherwise,
-   interpret the resulting sequence as a base ten integer. Let that
+   interpret the resulting sequence as a base-ten integer. Let that
    number be the &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;If &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt; is not a number in the range
@@ -3937,7 +3937,7 @@
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;Interpret &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; as a base ten number
+   &lt;li&gt;&lt;p&gt;Interpret &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; as a base-ten number
    (possibly with a fractional part). Let that number be &lt;var
    title=&quot;&quot;&gt;second&lt;/var&gt; instead of the string version.&lt;/p&gt;&lt;/li&gt;
 
@@ -3986,7 +3986,7 @@
      &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
      U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
      sequence is not exactly two characters long, then
-     fail. Otherwise, interpret the resulting sequence as a base ten
+     fail. Otherwise, interpret the resulting sequence as a base-ten
      integer. Let that number be the &lt;var
      title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
@@ -4007,7 +4007,7 @@
      &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; in the range
      U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
      sequence is not exactly two characters long, then
-     fail. Otherwise, interpret the resulting sequence as a base ten
+     fail. Otherwise, interpret the resulting sequence as a base-ten
      integer. Let that number be the &lt;var
      title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
@@ -4116,7 +4116,7 @@
      algorithm, however.)&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected in step 5 as
-     a base ten integer, and let that number be &lt;var
+     a base-ten integer, and let that number be &lt;var
      title=&quot;&quot;&gt;year&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; past the U+002D
@@ -4132,7 +4132,7 @@
      two digits long, then the string is invalid.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected two steps ago
-     as a base ten integer, and let that number be &lt;var
+     as a base-ten integer, and let that number be &lt;var
      title=&quot;&quot;&gt;month&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;If &lt;var title=&quot;&quot;&gt;month&lt;/var&gt; is not a number in the range
@@ -4160,7 +4160,7 @@
      two digits long, then the string is invalid.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected two steps
-     ago as a base ten integer, and let that number be &lt;var
+     ago as a base-ten integer, and let that number be &lt;var
      title=&quot;&quot;&gt;day&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;day&lt;/var&gt; is not a number in the range
@@ -4212,7 +4212,7 @@
    then the string is invalid.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected two steps
-   ago as a base ten integer, and let that number be &lt;var
+   ago as a base-ten integer, and let that number be &lt;var
    title=&quot;&quot;&gt;hour&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt; is not a number in the range
@@ -4235,7 +4235,7 @@
    two digits long, then the string is invalid.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected two steps
-   ago as a base ten integer, and let that number be &lt;var
+   ago as a base-ten integer, and let that number be &lt;var
    title=&quot;&quot;&gt;minute&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;minute&lt;/var&gt; is not a number in the range
@@ -4263,7 +4263,7 @@
      DIGIT NINE (9), then the string is invalid.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Interpret the sequence of characters collected two steps
-     ago as a base ten number (possibly with a fractional part), and
+     ago as a base-ten number (possibly with a fractional part), and
      let that number be &lt;var title=&quot;&quot;&gt;second&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;second&lt;/var&gt; is not a number in the range
@@ -4336,7 +4336,7 @@
        the string is invalid.&lt;/p&gt;&lt;/li&gt;
 
        &lt;li&gt;&lt;p&gt;Interpret the sequence collected in the last step as a
-       base ten number, and let that number be &lt;var
+       base-ten number, and let that number be &lt;var
        title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
        &lt;li&gt;If &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;hours&lt;/sub&gt;&lt;/var&gt; is not a
@@ -4359,7 +4359,7 @@
        sequence is not exactly two characters long, then the string is invalid.&lt;/p&gt;&lt;/li&gt;
 
        &lt;li&gt;&lt;p&gt;Interpret the sequence collected in the last step as a
-       base ten number, and let that number be &lt;var
+       base-ten number, and let that number be &lt;var
        title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
        &lt;li&gt;If &lt;var title=&quot;&quot;&gt;timezone&lt;sub title=&quot;&quot;&gt;minutes&lt;/sub&gt;&lt;/var&gt; is not a
@@ -4646,7 +4646,8 @@
     &lt;li&gt;define how to resolve relative URLs in markup attributes
     (using XMLBase as defined elsewhere right now)&lt;/li&gt;
 
-    &lt;li&gt;define how to resolve relative URLs in APIs&lt;/li&gt;
+    &lt;li&gt;define how to resolve relative URLs in APIs, using the
+    &lt;dfn&gt;script's base URI&lt;/dfn&gt; maybe&lt;/li&gt;
 
     &lt;li&gt;define what it means to resolve a relative URL when the base
     URL doesn't have a path hierarchy (e.g. data:, javascript:,
@@ -4672,6 +4673,14 @@
 
     &lt;li&gt;define how to parse URLs (maybe by deferring to RFCs)&lt;/li&gt;
 
+    &lt;li&gt;define &quot;an &lt;dfn&gt;element's base URI&lt;/dfn&gt;&quot; and make the various
+    places that talk about a base URI in the context of an element use
+    that definition&lt;/li&gt;
+
+    &lt;li&gt;make the language used to refer to resolving a base URI
+    consistent throughout, maybe make it hyperlink to a definition
+    each time&lt;/li&gt;
+
    &lt;/ul&gt;
 
   &lt;/div&gt;
@@ -6034,11 +6043,14 @@
   only &lt;span title=&quot;concept-appcache-init-with-attribute&quot;&gt;has an
   effect&lt;/span&gt; during the early stages of document load. Changing the
   attribute dynamically thus has no effect (and thus, no DOM API is
-  provided for this attribute). Furthermore, as it is processed before
-  any &lt;code&gt;base&lt;/code&gt; elements are seen, its value is not subject to
-  being made relative to any base URI.&lt;/p&gt;
+  provided for this attribute).&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;Later &lt;code&gt;base&lt;/code&gt; elements can't affect the
+  resolving of relative URIs in &lt;code
+  title=&quot;attr-html-manifest&quot;&gt;manifest&lt;/code&gt; attributes, as the
+  attributes are processed before those elements are seen.&lt;/p&gt;
 
+
   &lt;h3&gt;Document metadata&lt;/h3&gt;
 
   &lt;h4&gt;The &lt;dfn&gt;&lt;code&gt;head&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;
@@ -6423,11 +6435,10 @@
 
   &lt;p&gt;Some versions of HTTP defined a &lt;code title=&quot;&quot;&gt;Link:&lt;/code&gt;
   header, to be processed like a series of &lt;code&gt;link&lt;/code&gt; elements.
-  When processing links, those must be taken into consideration as
-  well. For the purposes of ordering, links defined by HTTP headers
-  must be assumed to come before any links in the document, in the
-  order that they were given in the HTTP entity header. Relative URIs
-  in these headers must be resolved according to the rules given in
+  If supported, for the purposes of ordering links defined by HTTP
+  headers must be assumed to come before any links in the document, in
+  the order that they were given in the HTTP entity header. Relative
+  URIs in these headers are resolved according to the rules given in
   HTTP, not relative to base URIs set by the document (e.g. using a
   &lt;code&gt;base&lt;/code&gt; element or &lt;code
   title=&quot;attr-xml-base&quot;&gt;xml:base&lt;/code&gt; attributes). &lt;a
@@ -6931,7 +6942,8 @@
      title=&quot;&quot;&gt;url&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;&lt;p&gt;Resolve the &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; value to an absolute
-     URI using the base URI of the &lt;code&gt;meta&lt;/code&gt; element.&lt;/p&gt;&lt;/li&gt;
+     URI using &lt;span title=&quot;element's base URI&quot;&gt;the base URI&lt;/span&gt; of
+     the &lt;code&gt;meta&lt;/code&gt; element.&lt;/p&gt;&lt;/li&gt;
 
      &lt;li&gt;
 
@@ -23575,9 +23587,9 @@
    &lt;code&gt;RowSpecification&lt;/code&gt; object representing the row in
    question. The return value is a string representing a URI (or IRI)
    to an image. Relative URIs must be interpreted relative to the
-   &lt;code&gt;datagrid&lt;/code&gt;'s base URI. If the method returns the empty
-   string, null, or if the method is not defined, then the row has no
-   associated image.&lt;/dd&gt;
+   &lt;code&gt;datagrid&lt;/code&gt;'s &lt;span title=&quot;element's base URI&quot;&gt;base
+   URI&lt;/span&gt;. If the method returns the empty string, null, or if the
+   method is not defined, then the row has no associated image.&lt;/dd&gt;
 
    &lt;dt&gt;To obtain a context menu appropriate for a particular row&lt;/dt&gt;
 
@@ -24862,11 +24874,11 @@
   be taken from the element's &lt;code&gt;src&lt;/code&gt; attribute. &lt;!--If it is
   an &lt;code&gt;object&lt;/code&gt; element then the URI is taken from the
   &lt;code&gt;data&lt;/code&gt; attribute. --&gt; Relative URIs must be resolved
-  relative to the base URI of the image element. &lt;!-- If it is an
-  &lt;code&gt;svg&lt;/code&gt; element then the URI is formed by taking the URI of
-  the document and appending a &quot;#&quot; (U+0023 NUMBER SIGN) and the ID of
-  the element.--&gt; If no image is found, then the Icon facet is left
-  blank.&lt;/p&gt;
+  relative to the &lt;span title=&quot;element's base URI&quot;&gt;base URI&lt;/span&gt; of
+  the image element. &lt;!-- If it is an &lt;code&gt;svg&lt;/code&gt; element then
+  the URI is formed by taking the URI of the document and appending a
+  &quot;#&quot; (U+0023 NUMBER SIGN) and the ID of the element.--&gt; If no image
+  is found, then the Icon facet is left blank.&lt;/p&gt;
 
   &lt;p&gt;The &lt;span title=&quot;command-facet-HiddenState&quot;&gt;Hidden State&lt;/span&gt;
   and &lt;span title=&quot;command-facet-DisabledState&quot;&gt;Disabled State&lt;/span&gt;
@@ -25071,9 +25083,9 @@
   &lt;p&gt;The &lt;span title=&quot;command-facet-Icon&quot;&gt;Icon&lt;/span&gt; for the command
   is the absolute URI resulting from resolving the value of the
   element's &lt;code title=&quot;attr-command-icon&quot;&gt;icon&lt;/code&gt; attribute as a
-  URI relative to the element's base URI. If the element has no &lt;code
-  title=&quot;attr-command-icon&quot;&gt;icon&lt;/code&gt; attribute then the command has
-  no &lt;span title=&quot;command-facet-Icon&quot;&gt;Icon&lt;/span&gt;.&lt;/p&gt;
+  URI relative to the &lt;span&gt;element's base URI&lt;/span&gt;. If the element
+  has no &lt;code title=&quot;attr-command-icon&quot;&gt;icon&lt;/code&gt; attribute then
+  the command has no &lt;span title=&quot;command-facet-Icon&quot;&gt;Icon&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;The &lt;span title=&quot;command-facet-HiddenState&quot;&gt;Hidden State&lt;/span&gt;
   of the command is true (hidden) if the element has a &lt;code
@@ -29176,9 +29188,10 @@
   &lt;/ol&gt;
 
   &lt;p&gt;Relative URI references and IRI references resolved to absolute
-  URIs or IRIs in the above algorithm must use the manifest's URI as
-  the Base URI from the Retrieval URI for the purposes reference
-  resolution as defined by RFC 3986. &lt;a
+  URIs or IRIs in the above algorithm must be resolved according to
+  section 5.1 of RFC3986 (i.e. relative to the base URI from the
+  encapsulating entity or the URI used to retrieve the entity, since
+  there is no way to embed a base URI in the manifest itself). &lt;a
   href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt;&lt;/p&gt;
 
   &lt;p class=&quot;note&quot;&gt;If a resource is listed in both the online whitelist
@@ -30545,10 +30558,10 @@
   &lt;p&gt;Relative &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; arguments for &lt;code
   title=&quot;dom-location-assign&quot;&gt;assign()&lt;/code&gt; and &lt;code
   title=&quot;dom-location-replace&quot;&gt;replace()&lt;/code&gt; must be resolved
-  relative to the base URI of the script that made the method
-  call.&lt;/p&gt; &lt;!-- XXX what about if the base URI is data: or
-  javascript: or about: or something else without a way to resolve
-  base URIs? --&gt;
+  relative to the &lt;span title=&quot;script's base URI&quot;&gt;base URI of the
+  script&lt;/span&gt; that made the method call.&lt;/p&gt; &lt;!-- XXX what about if
+  the base URI is data: or javascript: or about: or something else
+  without a way to resolve base URIs? --&gt;
 
   &lt;p&gt;The &lt;code&gt;Location&lt;/code&gt; interface also has the complement of
   &lt;span&gt;URI decomposition attributes&lt;/span&gt;, &lt;dfn
@@ -31030,10 +31043,11 @@
   &lt;p&gt;If the root element, as parsed according to the XML
   specifications cited above, is found to be an &lt;code&gt;html&lt;/code&gt;
   element with an attribute &lt;code
-  title=&quot;attr-html-manifest&quot;&gt;manifest&lt;/code&gt;, then, as soon as
-  the element is inserted into the DOM, the user agent must run the
-  &lt;span title=&quot;concept-appcache-init-with-attribute&quot;&gt;application cache
-  selection algorithm&lt;/span&gt; with the value of that attribute as the
+  title=&quot;attr-html-manifest&quot;&gt;manifest&lt;/code&gt;, then, as soon as the
+  element is inserted into the DOM, the user agent must run the &lt;span
+  title=&quot;concept-appcache-init-with-attribute&quot;&gt;application cache
+  selection algorithm&lt;/span&gt; with the value of that attribute,
+  resolved relative to the &lt;span&gt;element's base URI&lt;/span&gt;, as the
   manifest URI. Otherwise, as soon as the root element is inserted
   into the DOM, the user agent must run the &lt;span
   title=&quot;concept-appcache-init-no-attribute&quot;&gt;application cache
@@ -33490,10 +33504,10 @@
   title=&quot;attr-hyperlink-ping&quot;&gt;ping&lt;/code&gt; attribute's value, &lt;span
   title=&quot;split the string on spaces&quot;&gt;split that string on
   spaces&lt;/span&gt;, treat each resulting token as a URI (resolving
-  relative URIs according to element's base URI) and then should send
-  a request (as described below) to each of the resulting URIs. This
-  may be done in parallel with the primary request, and is independent
-  of the result of that request.&lt;/p&gt;
+  relative URIs according to &lt;span&gt;element's base URI&lt;/span&gt;) and then
+  should send a request (as described below) to each of the resulting
+  URIs. This may be done in parallel with the primary request, and is
+  independent of the result of that request.&lt;/p&gt;
 
   &lt;p&gt;User agents should allow the user to adjust this behavior, for
   example in conjunction with a setting that disables the sending of
@@ -42993,9 +43007,15 @@
     then run the &lt;span
     title=&quot;concept-appcache-init-with-attribute&quot;&gt;application cache
     selection algorithm&lt;/span&gt; with the value of that attribute as the
-    manifest URI. Otherwise, run the &lt;span
+    manifest URI, resolving relative URIs according to section 5.1 of
+    RFC3986 as if there was no base URI embedded in content
+    (i.e. relative to the base URI from the encapsulating entity or
+    the URI used to retrieve the entity). Otherwise, run the &lt;span
     title=&quot;concept-appcache-init-no-attribute&quot;&gt;application cache
-    selection algorithm&lt;/span&gt; with no manifest.&lt;/p&gt;
+    selection algorithm&lt;/span&gt; with no manifest. &lt;a
+    href=&quot;#refsRFC3986&quot;&gt;[RFC3986]&lt;/a&gt;&lt;/p&gt;&lt;!-- XXX when dealing with
+    microsyntaxes-urls, hoist all this into that section so we can get
+    rid of &quot;URI&quot; here --&gt;
 
     &lt;p&gt;Switch the &lt;span&gt;insertion mode&lt;/span&gt; to &quot;&lt;span
     title=&quot;insertion mode: before head&quot;&gt;before head&lt;/span&gt;&quot;.&lt;/p&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008624.html">[html5] r1725 - /
</A></li>
	<LI>Next message: <A HREF="008626.html">[html5] r1727 - /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8625">[ date ]</a>
              <a href="thread.html#8625">[ thread ]</a>
              <a href="subject.html#8625">[ subject ]</a>
              <a href="author.html#8625">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
