<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r2129 - [a] (0) Mention that you can omit the &lt;/option&gt; in	&lt;option&gt;&lt;optgroup&gt; too. Also, [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2129%20-%20%5Ba%5D%20%280%29%20Mention%20that%20you%20can%20omit%20the%20%3C/option%3E%20in%0A%09%3Coption%3E%3Coptgroup%3E%20too.%20Also%2C%20%5B...%5D&In-Reply-To=%3C20080829110546.2403638ECF1%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009014.html">
   <LINK REL="Next"  HREF="009016.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r2129 - [a] (0) Mention that you can omit the &lt;/option&gt; in	&lt;option&gt;&lt;optgroup&gt; too. Also, [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r2129%20-%20%5Ba%5D%20%280%29%20Mention%20that%20you%20can%20omit%20the%20%3C/option%3E%20in%0A%09%3Coption%3E%3Coptgroup%3E%20too.%20Also%2C%20%5B...%5D&In-Reply-To=%3C20080829110546.2403638ECF1%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r2129 - [a] (0) Mention that you can omit the &lt;/option&gt; in	&lt;option&gt;&lt;optgroup&gt; too. Also, [...]">whatwg at whatwg.org
       </A><BR>
    <I>Fri Aug 29 04:05:46 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009014.html">[html5] r2128 - [ct] (0) Make the parser handle &lt;option&gt; and	&lt;optgroup&gt; more usefully in the 'in [...]
</A></li>
        <LI>Next message: <A HREF="009016.html">[html5] r2130 - [ct] (0) Support definitionURL='' attribute in	MathML. (credit: hs)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9015">[ date ]</a>
              <a href="thread.html#9015">[ thread ]</a>
              <a href="subject.html#9015">[ subject ]</a>
              <a href="author.html#9015">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-08-29 04:05:44 -0700 (Fri, 29 Aug 2008)
New Revision: 2129

Modified:
   index
   source
Log:
[a] (0) Mention that you can omit the &lt;/option&gt; in &lt;option&gt;&lt;optgroup&gt; too. Also, make the text support &lt;optgroup&gt; outside of &lt;select&gt;, but comment it out since it's irrelevant for now.

Modified: index
===================================================================
--- index	2008-08-29 10:38:16 UTC (rev 2128)
+++ index	2008-08-29 11:05:44 UTC (rev 2129)
@@ -45803,18 +45803,34 @@
    href=&quot;#rp&quot;&gt;rp&lt;/a&gt;&lt;/code&gt; element is immediately followed by an &lt;code&gt;&lt;a
    href=&quot;#rt&quot;&gt;rt&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=&quot;#rp&quot;&gt;rp&lt;/a&gt;&lt;/code&gt; element, or
    if there is no more content in the parent element.&lt;/p&gt;
-  &lt;!-- &lt;/optgroup&gt; --&gt;
+  &lt;!-- &lt;/optgroup&gt; (the text assumes &lt;optgroup&gt; can only be inside a
+  &lt;select&gt;; commented out text below can handle the non-&lt;select&gt; case
+  if we ever allow it) --&gt;
 
   &lt;p&gt;An &lt;code&gt;optgroup&lt;/code&gt; element's &lt;span title=syntax-end-tag&gt;end
-   tag&lt;/span&gt; may be omitted if the &lt;code&gt;optgroup&lt;/code&gt; element is
-   immediately followed by another &lt;code&gt;optgroup&lt;/code&gt; element, or if there
-   is no more content in the parent element.&lt;/p&gt;
+   tag&lt;/span&gt; may be omitted if the &lt;code&gt;optgroup&lt;/code&gt; element
+   &lt;!--has an ancestor
+  &lt;code&gt;select&lt;/code&gt; element and--&gt; is immediately
+   followed by another &lt;code&gt;optgroup&lt;/code&gt; element, or if
+   &lt;!--all of the elements
+  that are ancestors of the &lt;code&gt;optgroup&lt;/code&gt; element, up to and
+  including the first ancestor element that is not an
+  &lt;code&gt;optgroup&lt;/code&gt; element, have no more content--&gt;
+   there is no more content in the parent element.&lt;/p&gt;
+  &lt;!-- so e.g. the max number of &lt;/optgroup&gt;s are omitted here:
+   &lt;select&gt;&lt;optgroup&gt;&lt;/select&gt;
+   &lt;p id=x&gt;&lt;optgroup&gt;&lt;/optgroup&gt;x&lt;/p&gt;
+   &lt;p id=x&gt;&lt;optgroup&gt;&lt;optgroup&gt;&lt;/optgroup&gt;&lt;/optgroup&gt;x&lt;/p&gt;
+   &lt;p&gt;&lt;optgroup id=x&gt;&lt;optgroup&gt;&lt;/optgroup&gt;x&lt;/p&gt;
+   &lt;p&gt;&lt;optgroup&gt;&lt;optgroup id=x&gt;x&lt;/p&gt;
+  --&gt;
   &lt;!-- &lt;/option&gt; --&gt;
 
   &lt;p&gt;An &lt;code&gt;option&lt;/code&gt; element's &lt;span title=syntax-end-tag&gt;end
    tag&lt;/span&gt; may be omitted if the &lt;code&gt;option&lt;/code&gt; element is
-   immediately followed by another &lt;code&gt;option&lt;/code&gt; element, or if there
-   is no more content in the parent element.&lt;/p&gt;
+   immediately followed by another &lt;code&gt;option&lt;/code&gt; element, or if it is
+   immediately followed by an &lt;code&gt;optgroup&lt;/code&gt; element, or if there is
+   no more content in the parent element.&lt;/p&gt;
   &lt;!-- &lt;colgroup&gt; --&gt;
 
   &lt;p&gt;A &lt;code&gt;&lt;a href=&quot;#colgroup&quot;&gt;colgroup&lt;/a&gt;&lt;/code&gt; element's &lt;span
@@ -45894,11 +45910,15 @@
   &lt;p&gt;For historical reasons, certain elements have extra restrictions beyond
    even the restrictions given by their content model.
 
-  &lt;p&gt;An &lt;code&gt;optgroup&lt;/code&gt; element must not contain &lt;code&gt;optgroup&lt;/code&gt;
-   elements, even though these elements are technically allowed to be nested
-   according to the content models described in this specification. (If an
-   &lt;code&gt;optgroup&lt;/code&gt; element is put inside another in the markup, it will
-   in fact imply an &lt;code&gt;optgroup&lt;/code&gt; end tag before it.)
+  &lt;p&gt;An &lt;code&gt;optgroup&lt;/code&gt; element &lt;!--that is a descendant of a
+  &lt;code&gt;select&lt;/code&gt; element--&gt;
+   must not contain &lt;code&gt;optgroup&lt;/code&gt; elements, even though these
+   elements are technically allowed to be nested according to the content
+   models described in this specification. (If an &lt;code&gt;optgroup&lt;/code&gt;
+   element is put inside another &lt;!--&lt;code&gt;optgroup&lt;/code&gt; element
+  inside a &lt;code&gt;select&lt;/code&gt; element--&gt;
+   in the markup, it will in fact imply an &lt;code&gt;optgroup&lt;/code&gt; end tag
+   before it.)
 
   &lt;p&gt;A &lt;code&gt;&lt;a href=&quot;#table&quot;&gt;table&lt;/a&gt;&lt;/code&gt; element must not contain
    &lt;code&gt;&lt;a href=&quot;#tr&quot;&gt;tr&lt;/a&gt;&lt;/code&gt; elements, even though these elements are

Modified: source
===================================================================
--- source	2008-08-29 10:38:16 UTC (rev 2128)
+++ source	2008-08-29 11:05:44 UTC (rev 2129)
@@ -43227,18 +43227,32 @@
   immediately followed by an &lt;code&gt;rt&lt;/code&gt; or &lt;code&gt;rp&lt;/code&gt;
   element, or if there is no more content in the parent element.&lt;/p&gt;
 
-  &lt;!-- &lt;/optgroup&gt; --&gt;
+  &lt;!-- &lt;/optgroup&gt; (the text assumes &lt;optgroup&gt; can only be inside a
+  &lt;select&gt;; commented out text below can handle the non-&lt;select&gt; case
+  if we ever allow it) --&gt;
   &lt;p&gt;An &lt;code&gt;optgroup&lt;/code&gt; element's &lt;span
   title=&quot;syntax-end-tag&quot;&gt;end tag&lt;/span&gt; may be omitted if the
-  &lt;code&gt;optgroup&lt;/code&gt; element is immediately followed by another
-  &lt;code&gt;optgroup&lt;/code&gt; element, or if there is no more content in the
-  parent element.&lt;/p&gt;
+  &lt;code&gt;optgroup&lt;/code&gt; element &lt;!--has an ancestor
+  &lt;code&gt;select&lt;/code&gt; element and--&gt; is immediately followed by
+  another &lt;code&gt;optgroup&lt;/code&gt; element, or if &lt;!--all of the elements
+  that are ancestors of the &lt;code&gt;optgroup&lt;/code&gt; element, up to and
+  including the first ancestor element that is not an
+  &lt;code&gt;optgroup&lt;/code&gt; element, have no more content--&gt; there is no
+  more content in the parent element.&lt;/p&gt;
+  &lt;!-- so e.g. the max number of &lt;/optgroup&gt;s are omitted here:
+   &lt;select&gt;&lt;optgroup&gt;&lt;/select&gt;
+   &lt;p id=x&gt;&lt;optgroup&gt;&lt;/optgroup&gt;x&lt;/p&gt;
+   &lt;p id=x&gt;&lt;optgroup&gt;&lt;optgroup&gt;&lt;/optgroup&gt;&lt;/optgroup&gt;x&lt;/p&gt;
+   &lt;p&gt;&lt;optgroup id=x&gt;&lt;optgroup&gt;&lt;/optgroup&gt;x&lt;/p&gt;
+   &lt;p&gt;&lt;optgroup&gt;&lt;optgroup id=x&gt;x&lt;/p&gt;
+  --&gt;
 
   &lt;!-- &lt;/option&gt; --&gt;
   &lt;p&gt;An &lt;code&gt;option&lt;/code&gt; element's &lt;span title=&quot;syntax-end-tag&quot;&gt;end
   tag&lt;/span&gt; may be omitted if the &lt;code&gt;option&lt;/code&gt; element is
   immediately followed by another &lt;code&gt;option&lt;/code&gt; element, or if
-  there is no more content in the parent element.&lt;/p&gt;
+  it is immediately followed by an &lt;code&gt;optgroup&lt;/code&gt; element, or
+  if there is no more content in the parent element.&lt;/p&gt;
 
   &lt;!-- &lt;colgroup&gt; --&gt;
   &lt;p&gt;A &lt;code&gt;colgroup&lt;/code&gt; element's &lt;span
@@ -43309,12 +43323,14 @@
   &lt;p&gt;For historical reasons, certain elements have extra restrictions
   beyond even the restrictions given by their content model.&lt;/p&gt;
 
-  &lt;p&gt;An &lt;code&gt;optgroup&lt;/code&gt; element must not contain
+  &lt;p&gt;An &lt;code&gt;optgroup&lt;/code&gt; element &lt;!--that is a descendant of a
+  &lt;code&gt;select&lt;/code&gt; element--&gt; must not contain
   &lt;code&gt;optgroup&lt;/code&gt; elements, even though these elements are
   technically allowed to be nested according to the content models
   described in this specification. (If an &lt;code&gt;optgroup&lt;/code&gt;
-  element is put inside another in the markup, it will in fact imply
-  an &lt;code&gt;optgroup&lt;/code&gt; end tag before it.)&lt;/p&gt;
+  element is put inside another &lt;!--&lt;code&gt;optgroup&lt;/code&gt; element
+  inside a &lt;code&gt;select&lt;/code&gt; element--&gt; in the markup, it will in
+  fact imply an &lt;code&gt;optgroup&lt;/code&gt; end tag before it.)&lt;/p&gt;
 
   &lt;p&gt;A &lt;code&gt;table&lt;/code&gt; element must not contain &lt;code&gt;tr&lt;/code&gt;
   elements, even though these elements are technically allowed inside


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009014.html">[html5] r2128 - [ct] (0) Make the parser handle &lt;option&gt; and	&lt;optgroup&gt; more usefully in the 'in [...]
</A></li>
	<LI>Next message: <A HREF="009016.html">[html5] r2130 - [ct] (0) Support definitionURL='' attribute in	MathML. (credit: hs)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9015">[ date ]</a>
              <a href="thread.html#9015">[ thread ]</a>
              <a href="subject.html#9015">[ subject ]</a>
              <a href="author.html#9015">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
