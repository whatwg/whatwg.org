<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r1867 - [] (0) Define the Pipe constructor;	do other maintenance work around constructors.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1867%20-%20%5B%5D%20%280%29%20Define%20the%20Pipe%20constructor%3B%0A%09do%20other%20maintenance%20work%20around%20constructors.&In-Reply-To=%3C20080712105009.4224D141AE8%40hixie.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008764.html">
   <LINK REL="Next"  HREF="008766.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r1867 - [] (0) Define the Pipe constructor;	do other maintenance work around constructors.</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r1867%20-%20%5B%5D%20%280%29%20Define%20the%20Pipe%20constructor%3B%0A%09do%20other%20maintenance%20work%20around%20constructors.&In-Reply-To=%3C20080712105009.4224D141AE8%40hixie.dreamhostps.com%3E"
       TITLE="[html5] r1867 - [] (0) Define the Pipe constructor;	do other maintenance work around constructors.">whatwg at whatwg.org
       </A><BR>
    <I>Sat Jul 12 03:50:09 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008764.html">[html5] r1866 - [t] (0) Content-sniffing for the unknown case had a	test backwards. (Re: content [...]
</A></li>
        <LI>Next message: <A HREF="008766.html">[html5] r1868 - [e] (0) typo fix (credit: pt)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8765">[ date ]</a>
              <a href="thread.html#8765">[ thread ]</a>
              <a href="subject.html#8765">[ subject ]</a>
              <a href="author.html#8765">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2008-07-12 03:50:08 -0700 (Sat, 12 Jul 2008)
New Revision: 1867

Modified:
   index
   source
Log:
[] (0) Define the Pipe constructor; do other maintenance work around constructors.

Modified: index
===================================================================
--- index	2008-07-12 02:50:09 UTC (rev 1866)
+++ index	2008-07-12 10:50:08 UTC (rev 1867)
@@ -30398,9 +30398,6 @@
      processing&lt;/span&gt;
   &lt;/dl&gt;
 
-  &lt;p class=big-issue&gt;And when constructors are invoked but without using the
-   constructor syntax...?
-
   &lt;h4 id=apis-for&gt;&lt;span class=secno&gt;5.2.3 &lt;/span&gt;APIs for creating and
    navigating browsing contexts by name&lt;/h4&gt;
 
@@ -41304,7 +41301,7 @@
 
   &lt;pre class=idl&gt;interface &lt;dfn id=websocket0&gt;WebSocket&lt;/dfn&gt; {
   // constructor
-  [Constructor] &lt;a href=&quot;#websocket0&quot;&gt;WebSocket&lt;/a&gt;(in DOMString url);
+  [&lt;a href=&quot;#websocket1&quot; title=dom-WebSocket&gt;Constructor&lt;/a&gt;] &lt;a href=&quot;#websocket0&quot;&gt;WebSocket&lt;/a&gt;(in DOMString url);
   readonly attribute DOMString &lt;a href=&quot;#url2&quot; title=dom-WebSocket-URL&gt;URL&lt;/a&gt;;
 
   // ready state
@@ -41325,18 +41322,19 @@
    implement the &lt;code&gt;EventTarget&lt;/code&gt; interface. &lt;a
    href=&quot;#refsDOM3EVENTS&quot;&gt;[DOM3EVENTS]&lt;/a&gt;
 
-  &lt;p&gt;The &lt;dfn id=websocket1 title=dom-WebSocket&gt;&lt;code&gt;WebSocket&lt;/code&gt;&lt;/dfn&gt;
-   constructor takes one argument, &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, which specifies
-   the &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt; to which to connect. When a &lt;code&gt;&lt;a
-   href=&quot;#websocket0&quot;&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object is created, the UA must &lt;a
-   href=&quot;#parse0&quot; title=&quot;parse a url&quot;&gt;parse&lt;/a&gt; this argument and verify that
-   the URL parses without failure and has a &lt;a href=&quot;#ltschemegt&quot;
-   title=url-scheme&gt;&lt;scheme&gt;&lt;/a&gt; component whose value is either &quot;&lt;code
-   title=&quot;&quot;&gt;ws&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;wss&lt;/code&gt;&quot;, when compared
-   case-insensitively&lt;!-- XXX ASCII --&gt;. If it does, it has, and it is, then
-   the user agent must asynchronously &lt;a href=&quot;#establish&quot;&gt;establish a Web
-   Socket connection&lt;/a&gt; to &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;. Otherwise, the
-   constructor must raise a &lt;code&gt;SYNTAX_ERR&lt;/code&gt; exception.
+  &lt;p&gt;The &lt;dfn id=websocket1 title=dom-WebSocket&gt;&lt;code&gt;WebSocket(&lt;var
+   title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; constructor takes one argument, &lt;var
+   title=&quot;&quot;&gt;url&lt;/var&gt;, which specifies the &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt; to which to
+   connect. When a &lt;code&gt;&lt;a href=&quot;#websocket0&quot;&gt;WebSocket&lt;/a&gt;&lt;/code&gt; object is
+   created, the UA must &lt;a href=&quot;#parse0&quot; title=&quot;parse a url&quot;&gt;parse&lt;/a&gt; this
+   argument and verify that the URL parses without failure and has a &lt;a
+   href=&quot;#ltschemegt&quot; title=url-scheme&gt;&lt;scheme&gt;&lt;/a&gt; component whose
+   value is either &quot;&lt;code title=&quot;&quot;&gt;ws&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;wss&lt;/code&gt;&quot;,
+   when compared case-insensitively&lt;!-- XXX ASCII --&gt;. If it does, it has,
+   and it is, then the user agent must asynchronously &lt;a
+   href=&quot;#establish&quot;&gt;establish a Web Socket connection&lt;/a&gt; to &lt;var
+   title=&quot;&quot;&gt;url&lt;/var&gt;. Otherwise, the constructor must raise a
+   &lt;code&gt;SYNTAX_ERR&lt;/code&gt; exception.
 
   &lt;p&gt;The &lt;dfn id=url2 title=dom-WebSocket-URL&gt;&lt;code&gt;URL&lt;/code&gt;&lt;/dfn&gt;
    attribute must return the value that was passed to the constructor.
@@ -41580,8 +41578,8 @@
 
     &lt;p&gt;Send the &lt;a href=&quot;#ascii&quot; title=&quot;ASCII serialization of an
      origin&quot;&gt;ASCII serialization&lt;/a&gt; of the &lt;a href=&quot;#origin0&quot;&gt;origin&lt;/a&gt; of
-     the script that invoked the &lt;code&gt;&lt;a
-     href=&quot;#websocket0&quot;&gt;WebSocket&lt;/a&gt;&lt;/code&gt; constructor.&lt;/p&gt;
+     the script that invoked the &lt;code title=dom-WebSocket&gt;&lt;a
+     href=&quot;#websocket1&quot;&gt;WebSocket()&lt;/a&gt;&lt;/code&gt; constructor.&lt;/p&gt;
 
     &lt;p&gt;Send the following bytes:&lt;/p&gt;
 
@@ -41777,9 +41775,10 @@
 
      &lt;dd&gt;Assume the value is a &lt;a href=&quot;#url&quot;&gt;URL&lt;/a&gt;. If the value does not
       have the &lt;a href=&quot;#same-origin&quot;&gt;same origin&lt;/a&gt; as the script that
-      invoked the &lt;code&gt;&lt;a href=&quot;#websocket0&quot;&gt;WebSocket&lt;/a&gt;&lt;/code&gt;
-      constructor, then &lt;a href=&quot;#fail-the&quot;&gt;fail the Web Socket
-      connection&lt;/a&gt; and abort these steps.
+      invoked the &lt;code title=dom-WebSocket&gt;&lt;a
+      href=&quot;#websocket1&quot;&gt;WebSocket()&lt;/a&gt;&lt;/code&gt; constructor, then &lt;a
+      href=&quot;#fail-the&quot;&gt;fail the Web Socket connection&lt;/a&gt; and abort these
+      steps.
 
      &lt;dt&gt;If the entry's name is &quot;&lt;code title=&quot;&quot;&gt;websocket-location&lt;/code&gt;&quot;
 
@@ -42272,10 +42271,9 @@
   &lt;h3 id=pipe-messaging&gt;&lt;span class=secno&gt;7.5 &lt;/span&gt;&lt;dfn
    id=pipe-messaging0&gt;Pipe messaging&lt;/dfn&gt;&lt;/h3&gt;
 
-  &lt;p class=big-issue&gt;...
-
-  &lt;pre class=idl&gt;[Constructor] interface &lt;dfn id=pipe&gt;Pipe&lt;/dfn&gt; {
-  readonly attribute &lt;a href=&quot;#pipeend0&quot;&gt;PipeEnd&lt;/a&gt; &lt;span title=dom-pipe-end1&gt;end1&lt;/span&gt;;
+  &lt;pre
+   class=idl&gt;[&lt;a href=&quot;#pipe0&quot; title=dom-Pipe&gt;Constructor&lt;/a&gt;] interface &lt;dfn id=pipe&gt;Pipe&lt;/dfn&gt; {
+  readonly attribute &lt;a href=&quot;#pipeend0&quot;&gt;PipeEnd&lt;/a&gt; &lt;a href=&quot;#end2&quot; title=dom-pipe-end1&gt;end1&lt;/a&gt;;
   readonly attribute &lt;a href=&quot;#pipeend0&quot;&gt;PipeEnd&lt;/a&gt; &lt;span title=dom-pipe-end2&gt;end2&lt;/span&gt;;
 };
 
@@ -42291,8 +42289,55 @@
            attribute &lt;span&gt;EventListener&lt;/span&gt; &lt;span title=handler-endpipe-onunload&gt;onunload&lt;/span&gt;;
 };&lt;/pre&gt;
 
-  &lt;p class=big-issue&gt;...
+  &lt;p&gt;When the &lt;dfn id=pipe0 title=dom-Pipe&gt;&lt;code&gt;Pipe()&lt;/code&gt;&lt;/dfn&gt;
+   constructor is called, it must run the following algorithm:
 
+  &lt;ol&gt;
+   &lt;li&gt;
+    &lt;p&gt;&lt;a href=&quot;#create&quot;&gt;Create a new &lt;code&gt;PipeEnd&lt;/code&gt; object&lt;/a&gt; owned
+     by the &lt;a href=&quot;#script3&quot;&gt;script browsing context&lt;/a&gt;, and let &lt;var
+     title=&quot;&quot;&gt;end1&lt;/var&gt; be that object.
+
+   &lt;li&gt;
+    &lt;p&gt;&lt;a href=&quot;#create&quot;&gt;Create a new &lt;code&gt;PipeEnd&lt;/code&gt; object&lt;/a&gt; owned
+     by the &lt;a href=&quot;#script3&quot;&gt;script browsing context&lt;/a&gt;, and let &lt;var
+     title=&quot;&quot;&gt;end2&lt;/var&gt; be that object.
+
+   &lt;li&gt;
+    &lt;p&gt;&lt;a href=&quot;#entangle&quot;&gt;Entangle&lt;/a&gt; the &lt;var title=&quot;&quot;&gt;end1&lt;/var&gt; and &lt;var
+     title=&quot;&quot;&gt;end2&lt;/var&gt; objects.
+
+   &lt;li&gt;
+    &lt;p&gt;Create a new &lt;code&gt;&lt;a href=&quot;#pipe&quot;&gt;Pipe&lt;/a&gt;&lt;/code&gt; object, and let
+     &lt;var title=&quot;&quot;&gt;pipe&lt;/var&gt; be that object.
+
+   &lt;li&gt;
+    &lt;p&gt;Let the &lt;code title=dom-pipe-end1&gt;&lt;a href=&quot;#end2&quot;&gt;end1&lt;/a&gt;&lt;/code&gt;
+     attribute of the &lt;var title=&quot;&quot;&gt;pipe&lt;/var&gt; object be &lt;var
+     title=&quot;&quot;&gt;end1&lt;/var&gt;.&lt;/p&gt;
+
+   &lt;li&gt;
+    &lt;p&gt;Let the &lt;code title=dom-pipe-end2&gt;end2&lt;/code&gt; attribute of the &lt;var
+     title=&quot;&quot;&gt;pipe&lt;/var&gt; object be &lt;var title=&quot;&quot;&gt;end2&lt;/var&gt;.&lt;/p&gt;
+
+   &lt;li&gt;
+    &lt;p&gt;Return &lt;var title=&quot;&quot;&gt;pipe&lt;/var&gt;.
+  &lt;/ol&gt;
+
+  &lt;p class=big-issue&gt;&lt;dfn id=end1 title=dom-pipe-end1&gt;&lt;code&gt;end1&lt;/code&gt;&lt;/dfn&gt;
+   &lt;dfn id=end2 title=dom-pipe-end1&gt;&lt;code&gt;end2&lt;/code&gt;&lt;/dfn&gt;
+
+  &lt;hr&gt;
+
+  &lt;p class=big-issue&gt;When the user agent is to &lt;dfn id=create&gt;create a new
+   &lt;code&gt;PipeEnd&lt;/code&gt; object&lt;/dfn&gt; owned by a &lt;code&gt;&lt;a
+   href=&quot;#window&quot;&gt;Window&lt;/a&gt;&lt;/code&gt; object &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;, it
+   must...
+
+  &lt;p class=big-issue&gt;When the user agent is to &lt;dfn
+   id=entangle&gt;entangle&lt;/dfn&gt; teo &lt;code&gt;&lt;a
+   href=&quot;#pipeend0&quot;&gt;PipeEnd&lt;/a&gt;&lt;/code&gt; objects, it must...
+
   &lt;h2 id=syntax&gt;&lt;span class=secno&gt;8. &lt;/span&gt;The HTML syntax&lt;/h2&gt;
 
   &lt;h3 id=writing0&gt;&lt;span class=secno&gt;8.1 &lt;/span&gt;Writing HTML documents&lt;/h3&gt;
@@ -46252,7 +46297,7 @@
   &lt;h5 id=creating&gt;&lt;span class=secno&gt;8.2.5.1. &lt;/span&gt;Creating and inserting
    elements&lt;/h5&gt;
 
-  &lt;p&gt;When the steps below require the UA to &lt;dfn id=create title=&quot;create an
+  &lt;p&gt;When the steps below require the UA to &lt;dfn id=create0 title=&quot;create an
    element for the token&quot;&gt;create an element for a token&lt;/dfn&gt; in a particular
    namespace, the UA must create a node implementing the interface
    appropriate for the element type corresponding to the tag name of the
@@ -46272,7 +46317,7 @@
    defined by that namespace's specification is &lt;code&gt;Element&lt;/code&gt;.
 
   &lt;p&gt;When the steps below require the UA to &lt;dfn id=insert0&gt;insert an HTML
-   element&lt;/dfn&gt; for a token, the UA must first &lt;a href=&quot;#create&quot;&gt;create an
+   element&lt;/dfn&gt; for a token, the UA must first &lt;a href=&quot;#create0&quot;&gt;create an
    element for the token&lt;/a&gt; in the &lt;a href=&quot;#html-namespace0&quot;&gt;HTML
    namespace&lt;/a&gt;, and then append this node to the &lt;a
    href=&quot;#current5&quot;&gt;current node&lt;/a&gt;, and push it onto the &lt;a
@@ -46286,7 +46331,7 @@
    happens in particular during the parsing of tables with invalid content.)
 
   &lt;p&gt;When the steps below require the UA to &lt;dfn id=insert1&gt;insert a foreign
-   element&lt;/dfn&gt; for a token, the UA must first &lt;a href=&quot;#create&quot;&gt;create an
+   element&lt;/dfn&gt; for a token, the UA must first &lt;a href=&quot;#create0&quot;&gt;create an
    element for the token&lt;/a&gt; in the given namespace, and then append this
    node to the &lt;a href=&quot;#current5&quot;&gt;current node&lt;/a&gt;, and push it onto the &lt;a
    href=&quot;#stack&quot;&gt;stack of open elements&lt;/a&gt; so that it is the new &lt;a
@@ -46509,7 +46554,7 @@
 
   &lt;ol&gt;
    &lt;li&gt;
-    &lt;p&gt;&lt;a href=&quot;#create&quot;&gt;Create an element for the token&lt;/a&gt; in the &lt;a
+    &lt;p&gt;&lt;a href=&quot;#create0&quot;&gt;Create an element for the token&lt;/a&gt; in the &lt;a
      href=&quot;#html-namespace0&quot;&gt;HTML namespace&lt;/a&gt;.
 
    &lt;li&gt;
@@ -46937,7 +46982,7 @@
    &lt;dt&gt;A start tag whose tag name is &quot;html&quot;
 
    &lt;dd&gt;
-    &lt;p&gt;&lt;a href=&quot;#create&quot;&gt;Create an element for the token&lt;/a&gt; in the &lt;a
+    &lt;p&gt;&lt;a href=&quot;#create0&quot;&gt;Create an element for the token&lt;/a&gt; in the &lt;a
      href=&quot;#html-namespace0&quot;&gt;HTML namespace&lt;/a&gt;. Append it to the
      &lt;code&gt;Document&lt;/code&gt; object. Put this element in the &lt;a
      href=&quot;#stack&quot;&gt;stack of open elements&lt;/a&gt;.&lt;/p&gt;
@@ -47154,7 +47199,7 @@
    &lt;dt id=scriptTag&gt;A start tag whose tag name is &quot;script&quot;
 
    &lt;dd&gt;
-    &lt;p&gt;&lt;a href=&quot;#create&quot;&gt;Create an element for the token&lt;/a&gt; in the &lt;a
+    &lt;p&gt;&lt;a href=&quot;#create0&quot;&gt;Create an element for the token&lt;/a&gt; in the &lt;a
      href=&quot;#html-namespace0&quot;&gt;HTML namespace&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;Mark the element as being &lt;a
@@ -48367,7 +48412,7 @@
    &lt;dt&gt;A start tag whose tag name is &quot;textarea&quot;
 
    &lt;dd&gt;
-    &lt;p&gt;&lt;a href=&quot;#create&quot;&gt;Create an element for the token&lt;/a&gt; in the &lt;a
+    &lt;p&gt;&lt;a href=&quot;#create0&quot;&gt;Create an element for the token&lt;/a&gt; in the &lt;a
      href=&quot;#html-namespace0&quot;&gt;HTML namespace&lt;/a&gt;. Append the new element to
      the &lt;a href=&quot;#current5&quot;&gt;current node&lt;/a&gt;.&lt;/p&gt;
 

Modified: source
===================================================================
--- source	2008-07-12 02:50:09 UTC (rev 1866)
+++ source	2008-07-12 10:50:08 UTC (rev 1867)
@@ -27916,11 +27916,8 @@
 
   &lt;/dl&gt;
 
-  &lt;p class=&quot;big-issue&quot;&gt;And when constructors are invoked but without
-  using the constructor syntax...?&lt;/p&gt;
 
 
-
   &lt;h4&gt;APIs for creating and navigating browsing contexts by name&lt;/h4&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;dom-open&quot;&gt;&lt;code&gt;open()&lt;/code&gt;&lt;/dfn&gt; method on
@@ -38876,7 +38873,7 @@
  
   &lt;pre class=&quot;idl&quot;&gt;interface &lt;dfn&gt;WebSocket&lt;/dfn&gt; {
   // constructor
-  [Constructor] &lt;span&gt;WebSocket&lt;/span&gt;(in DOMString url);
+  [&lt;span title=&quot;dom-WebSocket&quot;&gt;Constructor&lt;/span&gt;] &lt;span&gt;WebSocket&lt;/span&gt;(in DOMString url);
   readonly attribute DOMString &lt;span title=&quot;dom-WebSocket-URL&quot;&gt;URL&lt;/span&gt;;
 
   // ready state
@@ -38897,12 +38894,12 @@
   &lt;code&gt;EventTarget&lt;/code&gt; interface. &lt;a
   href=&quot;#refsDOM3EVENTS&quot;&gt;[DOM3EVENTS]&lt;/a&gt;
 
-  &lt;p&gt;The &lt;dfn title=&quot;dom-WebSocket&quot;&gt;&lt;code&gt;WebSocket&lt;/code&gt;&lt;/dfn&gt;
-  constructor takes one argument, &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, which
-  specifies the &lt;span&gt;URL&lt;/span&gt; to which to connect. When a
-  &lt;code&gt;WebSocket&lt;/code&gt; object is created, the UA must &lt;span
-  title=&quot;parse a url&quot;&gt;parse&lt;/span&gt; this argument and verify that the
-  URL parses without failure and has a &lt;span
+  &lt;p&gt;The &lt;dfn title=&quot;dom-WebSocket&quot;&gt;&lt;code&gt;WebSocket(&lt;var
+  title=&quot;&quot;&gt;url&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; constructor takes one argument,
+  &lt;var title=&quot;&quot;&gt;url&lt;/var&gt;, which specifies the &lt;span&gt;URL&lt;/span&gt; to
+  which to connect. When a &lt;code&gt;WebSocket&lt;/code&gt; object is created,
+  the UA must &lt;span title=&quot;parse a url&quot;&gt;parse&lt;/span&gt; this argument and
+  verify that the URL parses without failure and has a &lt;span
   title=&quot;url-scheme&quot;&gt;&lt;scheme&gt;&lt;/span&gt; component whose value is
   either &quot;&lt;code title=&quot;&quot;&gt;ws&lt;/code&gt;&quot; or &quot;&lt;code title=&quot;&quot;&gt;wss&lt;/code&gt;&quot;,
   when compared case-insensitively&lt;!-- XXX ASCII --&gt;. If it does, it
@@ -39153,7 +39150,8 @@
 
     &lt;p&gt;Send the &lt;span title=&quot;ASCII serialization of an origin&quot;&gt;ASCII
     serialization&lt;/span&gt; of the &lt;span&gt;origin&lt;/span&gt; of the script that
-    invoked the &lt;code&gt;WebSocket&lt;/code&gt; constructor.&lt;/p&gt;
+    invoked the &lt;code title=&quot;dom-WebSocket&quot;&gt;WebSocket()&lt;/code&gt;
+    constructor.&lt;/p&gt;
 
     &lt;p&gt;Send the following bytes:&lt;/p&gt;
 
@@ -39406,8 +39404,9 @@
 
      &lt;dd&gt;Assume the value is a &lt;span&gt;URL&lt;/span&gt;. If the value does not
      have the &lt;span&gt;same origin&lt;/span&gt; as the script that invoked the
-     &lt;code&gt;WebSocket&lt;/code&gt; constructor, then &lt;span&gt;fail the Web
-     Socket connection&lt;/span&gt; and abort these steps.&lt;/dd&gt;
+     &lt;code title=&quot;dom-WebSocket&quot;&gt;WebSocket()&lt;/code&gt; constructor, then
+     &lt;span&gt;fail the Web Socket connection&lt;/span&gt; and abort these
+     steps.&lt;/dd&gt;
 
 
      &lt;dt&gt;If the entry's name is &quot;&lt;code
@@ -39969,9 +39968,7 @@
 
   &lt;h3&gt;&lt;dfn&gt;Pipe messaging&lt;/dfn&gt;&lt;/h3&gt;
 
-  &lt;p class=&quot;big-issue&quot;&gt;...&lt;/p&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;[Constructor] interface &lt;dfn&gt;Pipe&lt;/dfn&gt; {
+  &lt;pre class=&quot;idl&quot;&gt;[&lt;span title=&quot;dom-Pipe&quot;&gt;Constructor&lt;/span&gt;] interface &lt;dfn&gt;Pipe&lt;/dfn&gt; {
   readonly attribute &lt;span&gt;PipeEnd&lt;/span&gt; &lt;span title=&quot;dom-pipe-end1&quot;&gt;end1&lt;/span&gt;;
   readonly attribute &lt;span&gt;PipeEnd&lt;/span&gt; &lt;span title=&quot;dom-pipe-end2&quot;&gt;end2&lt;/span&gt;;
 };
@@ -39988,10 +39985,51 @@
            attribute &lt;span&gt;EventListener&lt;/span&gt; &lt;span title=&quot;handler-endpipe-onunload&quot;&gt;onunload&lt;/span&gt;;
 };&lt;/pre&gt;
 
-  &lt;p class=&quot;big-issue&quot;&gt;...&lt;/p&gt;
+  &lt;p&gt;When the &lt;dfn title=&quot;dom-Pipe&quot;&gt;&lt;code&gt;Pipe()&lt;/code&gt;&lt;/dfn&gt;
+  constructor is called, it must run the following algorithm:&lt;/p&gt;
 
+  &lt;ol&gt;
 
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Create a new &lt;code&gt;PipeEnd&lt;/code&gt; object&lt;/span&gt; owned
+   by the &lt;span&gt;script browsing context&lt;/span&gt;, and let &lt;var
+   title=&quot;&quot;&gt;end1&lt;/var&gt; be that object.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Create a new &lt;code&gt;PipeEnd&lt;/code&gt; object&lt;/span&gt; owned
+   by the &lt;span&gt;script browsing context&lt;/span&gt;, and let &lt;var
+   title=&quot;&quot;&gt;end2&lt;/var&gt; be that object.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Entangle&lt;/span&gt; the &lt;var title=&quot;&quot;&gt;end1&lt;/var&gt; and &lt;var
+   title=&quot;&quot;&gt;end2&lt;/var&gt; objects.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Create a new &lt;code&gt;Pipe&lt;/code&gt; object, and let &lt;var
+   title=&quot;&quot;&gt;pipe&lt;/var&gt; be that object.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let the &lt;code title=&quot;dom-pipe-end1&quot;&gt;end1&lt;/code&gt; attribute of
+   the &lt;var title=&quot;&quot;&gt;pipe&lt;/var&gt; object be &lt;var
+   title=&quot;&quot;&gt;end1&lt;/var&gt;.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;Let the &lt;code title=&quot;dom-pipe-end2&quot;&gt;end2&lt;/code&gt; attribute of
+   the &lt;var title=&quot;&quot;&gt;pipe&lt;/var&gt; object be &lt;var
+   title=&quot;&quot;&gt;end2&lt;/var&gt;.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;pipe&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p class=&quot;big-issue&quot;&gt;&lt;dfn
+  title=&quot;dom-pipe-end1&quot;&gt;&lt;code&gt;end1&lt;/code&gt;&lt;/dfn&gt; &lt;dfn
+  title=&quot;dom-pipe-end1&quot;&gt;&lt;code&gt;end2&lt;/code&gt;&lt;/dfn&gt;&lt;/p&gt;
+
+  &lt;hr&gt;
+
+  &lt;p class=&quot;big-issue&quot;&gt;When the user agent is to &lt;dfn&gt;create a new
+  &lt;code&gt;PipeEnd&lt;/code&gt; object&lt;/dfn&gt; owned by a &lt;code&gt;Window&lt;/code&gt;
+  object &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;, it must...&lt;/p&gt;
+
+  &lt;p class=&quot;big-issue&quot;&gt;When the user agent is to &lt;dfn&gt;entangle&lt;/dfn&gt;
+  teo &lt;code&gt;PipeEnd&lt;/code&gt; objects, it must...&lt;/p&gt;
+
+
   &lt;h2 id=&quot;syntax&quot;&gt;The HTML syntax&lt;/h2&gt;
 
   &lt;h3&gt;Writing HTML documents&lt;/h3&gt;


</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008764.html">[html5] r1866 - [t] (0) Content-sniffing for the unknown case had a	test backwards. (Re: content [...]
</A></li>
	<LI>Next message: <A HREF="008766.html">[html5] r1868 - [e] (0) typo fix (credit: pt)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8765">[ date ]</a>
              <a href="thread.html#8765">[ thread ]</a>
              <a href="subject.html#8765">[ subject ]</a>
              <a href="author.html#8765">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
