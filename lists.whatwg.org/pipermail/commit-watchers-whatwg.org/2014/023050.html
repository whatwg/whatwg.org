<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r8433 - [ct] (3) Make &lt;/caption&gt; optional,	since that seems to be interoperably supporte [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8433%20-%20%5Bct%5D%20%283%29%20Make%20%3C/caption%3E%20optional%2C%0A%09since%20that%20seems%20to%20be%20interoperably%20supporte%20%5B...%5D&In-Reply-To=%3C20140128232441.0FFBAC3C021B%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r8433 - [ct] (3) Make &lt;/caption&gt; optional,	since that seems to be interoperably supporte [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8433%20-%20%5Bct%5D%20%283%29%20Make%20%3C/caption%3E%20optional%2C%0A%09since%20that%20seems%20to%20be%20interoperably%20supporte%20%5B...%5D&In-Reply-To=%3C20140128232441.0FFBAC3C021B%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r8433 - [ct] (3) Make &lt;/caption&gt; optional,	since that seems to be interoperably supporte [...]">whatwg at whatwg.org
       </A><BR>
    <I>Tue Jan 28 15:24:41 PST 2014</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23050">[ date ]</a>
              <a href="thread.html#23050">[ thread ]</a>
              <a href="subject.html#23050">[ subject ]</a>
              <a href="author.html#23050">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2014-01-28 15:24:40 -0800 (Tue, 28 Jan 2014)
New Revision: 8433

Modified:
   complete.html
   index
   source
Log:
[ct] (3) Make &lt;/caption&gt; optional, since that seems to be interoperably supported already anyway
Affected topics: HTML Syntax and Parsing

Modified: complete.html
===================================================================
--- complete.html	2014-01-28 23:10:11 UTC (rev 8432)
+++ complete.html	2014-01-28 23:24:40 UTC (rev 8433)
@@ -34329,7 +34329,9 @@
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#flow-content&gt;Flow content&lt;/a&gt;, but with no descendant &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
+   &lt;dd&gt;A &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-end-tag title=syntax-end-tag&gt;end tag&lt;/a&gt; can be omitted if
+   the &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt; element is not immediately followed by a &lt;a href=#space-character&gt;space character&lt;/a&gt; or
+   a &lt;a href=#syntax-comments title=syntax-comments&gt;comment&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#global-attributes&gt;Global attributes&lt;/a&gt;&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-dom title=element-dfn-dom&gt;DOM interface&lt;/a&gt;:&lt;/dt&gt;&lt;!--TOPIC:DOM APIs--&gt;
@@ -84959,6 +84961,11 @@
   the &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element is not immediately followed by a &lt;a href=#space-character&gt;space character&lt;/a&gt; or
   a &lt;a href=#syntax-comments title=syntax-comments&gt;comment&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;!-- &lt;/caption&gt; --&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-end-tag title=syntax-end-tag&gt;end tag&lt;/a&gt; may be omitted if
+  the &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt; element is not immediately followed by a &lt;a href=#space-character&gt;space character&lt;/a&gt; or
+  a &lt;a href=#syntax-comments title=syntax-comments&gt;comment&lt;/a&gt;.&lt;/p&gt;
+
   &lt;!-- &lt;/thead&gt; --&gt;
   &lt;p&gt;A &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-end-tag title=syntax-end-tag&gt;end tag&lt;/a&gt; may be omitted if
   the &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element is immediately followed by a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; or
@@ -91523,15 +91530,18 @@
    &quot;th&quot;, &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt; &lt;dt&gt;An end tag whose tag name is &quot;table&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
-
-    &lt;!-- fake &lt;/caption&gt; --&gt;
     &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-table-scope title=&quot;has an element in table
-    scope&quot;&gt;have a &lt;code&gt;caption&lt;/code&gt; element in table scope&lt;/a&gt;, ignore the token.
-    (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
+    scope&quot;&gt;have a &lt;code&gt;caption&lt;/code&gt; element in table scope&lt;/a&gt;, this is a &lt;a href=#parse-error&gt;parse
+    error&lt;/a&gt;; ignore the token. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
 
     &lt;p&gt;Otherwise:&lt;/p&gt;
 
+    &lt;!-- fake &lt;/caption&gt; --&gt;
+    &lt;p&gt;&lt;a href=#generate-implied-end-tags&gt;Generate implied end tags&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Now, if the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt; element, then this is a
+    &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/p&gt;
+
     &lt;p&gt;Pop elements from this stack until a &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt; element has been popped from the
     stack.&lt;/p&gt;
 

Modified: index
===================================================================
--- index	2014-01-28 23:10:11 UTC (rev 8432)
+++ index	2014-01-28 23:24:40 UTC (rev 8433)
@@ -34329,7 +34329,9 @@
    &lt;dt&gt;&lt;a href=#element-dfn-content-model title=element-dfn-content-model&gt;Content model&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#flow-content&gt;Flow content&lt;/a&gt;, but with no descendant &lt;code&gt;&lt;a href=#the-table-element&gt;table&lt;/a&gt;&lt;/code&gt; elements.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-tag-omission title=element-dfn-tag-omission&gt;Tag omission in text/html&lt;/a&gt;:&lt;/dt&gt;
-   &lt;dd&gt;Neither tag is omissible.&lt;/dd&gt;
+   &lt;dd&gt;A &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-end-tag title=syntax-end-tag&gt;end tag&lt;/a&gt; can be omitted if
+   the &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt; element is not immediately followed by a &lt;a href=#space-character&gt;space character&lt;/a&gt; or
+   a &lt;a href=#syntax-comments title=syntax-comments&gt;comment&lt;/a&gt;.&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-attributes title=element-dfn-attributes&gt;Content attributes&lt;/a&gt;:&lt;/dt&gt;
    &lt;dd&gt;&lt;a href=#global-attributes&gt;Global attributes&lt;/a&gt;&lt;/dd&gt;
    &lt;dt&gt;&lt;a href=#element-dfn-dom title=element-dfn-dom&gt;DOM interface&lt;/a&gt;:&lt;/dt&gt;&lt;!--TOPIC:DOM APIs--&gt;
@@ -84959,6 +84961,11 @@
   the &lt;code&gt;&lt;a href=#the-colgroup-element&gt;colgroup&lt;/a&gt;&lt;/code&gt; element is not immediately followed by a &lt;a href=#space-character&gt;space character&lt;/a&gt; or
   a &lt;a href=#syntax-comments title=syntax-comments&gt;comment&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;!-- &lt;/caption&gt; --&gt;
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-end-tag title=syntax-end-tag&gt;end tag&lt;/a&gt; may be omitted if
+  the &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt; element is not immediately followed by a &lt;a href=#space-character&gt;space character&lt;/a&gt; or
+  a &lt;a href=#syntax-comments title=syntax-comments&gt;comment&lt;/a&gt;.&lt;/p&gt;
+
   &lt;!-- &lt;/thead&gt; --&gt;
   &lt;p&gt;A &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#syntax-end-tag title=syntax-end-tag&gt;end tag&lt;/a&gt; may be omitted if
   the &lt;code&gt;&lt;a href=#the-thead-element&gt;thead&lt;/a&gt;&lt;/code&gt; element is immediately followed by a &lt;code&gt;&lt;a href=#the-tbody-element&gt;tbody&lt;/a&gt;&lt;/code&gt; or
@@ -91523,15 +91530,18 @@
    &quot;th&quot;, &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt; &lt;dt&gt;An end tag whose tag name is &quot;table&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;a href=#parse-error&gt;Parse error&lt;/a&gt;.&lt;/p&gt;
-
-    &lt;!-- fake &lt;/caption&gt; --&gt;
     &lt;p&gt;If the &lt;a href=#stack-of-open-elements&gt;stack of open elements&lt;/a&gt; does not &lt;a href=#has-an-element-in-table-scope title=&quot;has an element in table
-    scope&quot;&gt;have a &lt;code&gt;caption&lt;/code&gt; element in table scope&lt;/a&gt;, ignore the token.
-    (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
+    scope&quot;&gt;have a &lt;code&gt;caption&lt;/code&gt; element in table scope&lt;/a&gt;, this is a &lt;a href=#parse-error&gt;parse
+    error&lt;/a&gt;; ignore the token. (&lt;a href=#fragment-case&gt;fragment case&lt;/a&gt;)&lt;/p&gt;
 
     &lt;p&gt;Otherwise:&lt;/p&gt;
 
+    &lt;!-- fake &lt;/caption&gt; --&gt;
+    &lt;p&gt;&lt;a href=#generate-implied-end-tags&gt;Generate implied end tags&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Now, if the &lt;a href=#current-node&gt;current node&lt;/a&gt; is not a &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt; element, then this is a
+    &lt;a href=#parse-error&gt;parse error&lt;/a&gt;.&lt;/p&gt;
+
     &lt;p&gt;Pop elements from this stack until a &lt;code&gt;&lt;a href=#the-caption-element&gt;caption&lt;/a&gt;&lt;/code&gt; element has been popped from the
     stack.&lt;/p&gt;
 

Modified: source
===================================================================
--- source	2014-01-28 23:10:11 UTC (rev 8432)
+++ source	2014-01-28 23:24:40 UTC (rev 8433)
@@ -94598,6 +94598,11 @@
   the &lt;code&gt;colgroup&lt;/code&gt; element is not immediately followed by a &lt;span&gt;space character&lt;/span&gt; or
   a &lt;span data-x=&quot;syntax-comments&quot;&gt;comment&lt;/span&gt;.&lt;/p&gt;
 
+  &lt;!-- &lt;/caption&gt; --&gt;
+  &lt;p&gt;A &lt;code&gt;caption&lt;/code&gt; element's &lt;span data-x=&quot;syntax-end-tag&quot;&gt;end tag&lt;/span&gt; may be omitted if
+  the &lt;code&gt;caption&lt;/code&gt; element is not immediately followed by a &lt;span&gt;space character&lt;/span&gt; or
+  a &lt;span data-x=&quot;syntax-comments&quot;&gt;comment&lt;/span&gt;.&lt;/p&gt;
+
   &lt;!-- &lt;/thead&gt; --&gt;
   &lt;p&gt;A &lt;code&gt;thead&lt;/code&gt; element's &lt;span data-x=&quot;syntax-end-tag&quot;&gt;end tag&lt;/span&gt; may be omitted if
   the &lt;code&gt;thead&lt;/code&gt; element is immediately followed by a &lt;code&gt;tbody&lt;/code&gt; or
@@ -102033,15 +102038,18 @@
    &quot;th&quot;, &quot;thead&quot;, &quot;tr&quot;&lt;/dt&gt; &lt;dt&gt;An end tag whose tag name is &quot;table&quot;&lt;/dt&gt;
    &lt;dd&gt;
 
-    &lt;p&gt;&lt;span&gt;Parse error&lt;/span&gt;.&lt;/p&gt;
-
-    &lt;!-- fake &lt;/caption&gt; --&gt;
     &lt;p&gt;If the &lt;span&gt;stack of open elements&lt;/span&gt; does not &lt;span data-x=&quot;has an element in table
-    scope&quot;&gt;have a &lt;code&gt;caption&lt;/code&gt; element in table scope&lt;/span&gt;, ignore the token.
-    (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
+    scope&quot;&gt;have a &lt;code&gt;caption&lt;/code&gt; element in table scope&lt;/span&gt;, this is a &lt;span&gt;parse
+    error&lt;/span&gt;; ignore the token. (&lt;span&gt;fragment case&lt;/span&gt;)&lt;/p&gt;
 
     &lt;p&gt;Otherwise:&lt;/p&gt;
 
+    &lt;!-- fake &lt;/caption&gt; --&gt;
+    &lt;p&gt;&lt;span&gt;Generate implied end tags&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Now, if the &lt;span&gt;current node&lt;/span&gt; is not a &lt;code&gt;caption&lt;/code&gt; element, then this is a
+    &lt;span&gt;parse error&lt;/span&gt;.&lt;/p&gt;
+
     &lt;p&gt;Pop elements from this stack until a &lt;code&gt;caption&lt;/code&gt; element has been popped from the
     stack.&lt;/p&gt;
 


</PRE>
<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23050">[ date ]</a>
              <a href="thread.html#23050">[ thread ]</a>
              <a href="subject.html#23050">[ subject ]</a>
              <a href="author.html#23050">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
