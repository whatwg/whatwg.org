<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r8478 - [giow] (2) Revamp how focus is defined,	to actually handle things we've ignored  [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8478%20-%20%5Bgiow%5D%20%282%29%20Revamp%20how%20focus%20is%20defined%2C%0A%09to%20actually%20handle%20things%20we%27ve%20ignored%20%20%5B...%5D&In-Reply-To=%3C20140219223917.31149C3C281A%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r8478 - [giow] (2) Revamp how focus is defined,	to actually handle things we've ignored  [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8478%20-%20%5Bgiow%5D%20%282%29%20Revamp%20how%20focus%20is%20defined%2C%0A%09to%20actually%20handle%20things%20we%27ve%20ignored%20%20%5B...%5D&In-Reply-To=%3C20140219223917.31149C3C281A%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r8478 - [giow] (2) Revamp how focus is defined,	to actually handle things we've ignored  [...]">whatwg at whatwg.org
       </A><BR>
    <I>Wed Feb 19 14:39:17 PST 2014</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23094">[ date ]</a>
              <a href="thread.html#23094">[ thread ]</a>
              <a href="subject.html#23094">[ subject ]</a>
              <a href="author.html#23094">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2014-02-19 14:39:15 -0800 (Wed, 19 Feb 2014)
New Revision: 8478

Modified:
   complete.html
   index
   source
Log:
[giow] (2) Revamp how focus is defined, to actually handle things we've ignored before, like viewports and scrollable regions
Fixing <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=23475">https://www.w3.org/Bugs/Public/show_bug.cgi?id=23475</A>
Affected topics: CSS, Canvas, DOM APIs, HTML, Rendering

Modified: complete.html
===================================================================
--- complete.html	2014-02-11 20:54:28 UTC (rev 8477)
+++ complete.html	2014-02-19 22:39:15 UTC (rev 8478)
@@ -298,7 +298,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> class=logo&gt;&lt;img width=101 src=/images/logo alt=WHATWG height=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 11 February 2014&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 19 February 2014&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -1074,15 +1074,16 @@
    &lt;li&gt;&lt;a href=#activation&gt;&lt;span class=secno&gt;8.3 &lt;/span&gt;Activation&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#focus&gt;&lt;span class=secno&gt;8.4 &lt;/span&gt;Focus&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#sequential-focus-navigation-and-the-tabindex-attribute&gt;&lt;span class=secno&gt;8.4.1 &lt;/span&gt;Sequential focus navigation and the &lt;code title=attr-tabindex&gt;tabindex&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#focus-management&gt;&lt;span class=secno&gt;8.4.2 &lt;/span&gt;Focus management&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#document-level-focus-apis&gt;&lt;span class=secno&gt;8.4.3 &lt;/span&gt;Document-level focus APIs&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#element-level-focus-apis&gt;&lt;span class=secno&gt;8.4.4 &lt;/span&gt;Element-level focus APIs&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#introduction-7&gt;&lt;span class=secno&gt;8.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#data-model&gt;&lt;span class=secno&gt;8.4.2 &lt;/span&gt;Data model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#sequential-focus-navigation-and-the-tabindex-attribute&gt;&lt;span class=secno&gt;8.4.3 &lt;/span&gt;Sequential focus navigation and the &lt;code title=attr-tabindex&gt;tabindex&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#processing-model-5&gt;&lt;span class=secno&gt;8.4.4 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#focus-management-apis&gt;&lt;span class=secno&gt;8.4.5 &lt;/span&gt;Focus management APIs&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#assigning-keyboard-shortcuts&gt;&lt;span class=secno&gt;8.5 &lt;/span&gt;Assigning keyboard shortcuts&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-7&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#introduction-8&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-accesskey-attribute&gt;&lt;span class=secno&gt;8.5.2 &lt;/span&gt;The &lt;code&gt;accesskey&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#processing-model-5&gt;&lt;span class=secno&gt;8.5.3 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#processing-model-6&gt;&lt;span class=secno&gt;8.5.3 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#editing-0&gt;&lt;span class=secno&gt;8.6 &lt;/span&gt;Editing&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#contenteditable&gt;&lt;span class=secno&gt;8.6.1 &lt;/span&gt;Making document regions editable: The &lt;code title=attr-contenteditable&gt;contenteditable&lt;/code&gt; content attribute&lt;/a&gt;&lt;/li&gt;
@@ -1092,7 +1093,7 @@
      &lt;li&gt;&lt;a href=#spelling-and-grammar-checking&gt;&lt;span class=secno&gt;8.6.5 &lt;/span&gt;Spelling and grammar checking&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#dnd&gt;&lt;span class=secno&gt;8.7 &lt;/span&gt;Drag and drop&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-8&gt;&lt;span class=secno&gt;8.7.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#introduction-9&gt;&lt;span class=secno&gt;8.7.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-drag-data-store&gt;&lt;span class=secno&gt;8.7.2 &lt;/span&gt;The drag data store&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-datatransfer-interface&gt;&lt;span class=secno&gt;8.7.3 &lt;/span&gt;The &lt;code&gt;DataTransfer&lt;/code&gt; interface&lt;/a&gt;
       &lt;ol&gt;
@@ -1111,7 +1112,7 @@
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#server-sent-events-intro&gt;&lt;span class=secno&gt;9.2.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-eventsource-interface&gt;&lt;span class=secno&gt;9.2.2 &lt;/span&gt;The &lt;code&gt;EventSource&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#processing-model-6&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#processing-model-7&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#parsing-an-event-stream&gt;&lt;span class=secno&gt;9.2.4 &lt;/span&gt;Parsing an event stream&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#event-stream-interpretation&gt;&lt;span class=secno&gt;9.2.5 &lt;/span&gt;Interpreting an event stream&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#authoring-notes&gt;&lt;span class=secno&gt;9.2.6 &lt;/span&gt;Authoring notes&lt;/a&gt;&lt;/li&gt;
@@ -1133,7 +1134,7 @@
      &lt;li&gt;&lt;a href=#garbage-collection-1&gt;&lt;span class=secno&gt;9.3.7 &lt;/span&gt;Garbage collection&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#web-messaging&gt;&lt;span class=secno&gt;9.4 &lt;/span&gt;Cross-document messaging&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-9&gt;&lt;span class=secno&gt;9.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#introduction-10&gt;&lt;span class=secno&gt;9.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#security-postmsg&gt;&lt;span class=secno&gt;9.4.2 &lt;/span&gt;Security&lt;/a&gt;
       &lt;ol&gt;
        &lt;li&gt;&lt;a href=#authors&gt;&lt;span class=secno&gt;9.4.2.1 &lt;/span&gt;Authors&lt;/a&gt;&lt;/li&gt;
@@ -1141,7 +1142,7 @@
      &lt;li&gt;&lt;a href=#posting-messages&gt;&lt;span class=secno&gt;9.4.3 &lt;/span&gt;Posting messages&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#channel-messaging&gt;&lt;span class=secno&gt;9.5 &lt;/span&gt;Channel messaging&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-10&gt;&lt;span class=secno&gt;9.5.1 &lt;/span&gt;Introduction&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#introduction-11&gt;&lt;span class=secno&gt;9.5.1 &lt;/span&gt;Introduction&lt;/a&gt;
       &lt;ol&gt;
        &lt;li&gt;&lt;a href=#examples-4&gt;&lt;span class=secno&gt;9.5.1.1 &lt;/span&gt;Examples&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#ports-as-the-basis-of-an-object-capability-model-on-the-web&gt;&lt;span class=secno&gt;9.5.1.2 &lt;/span&gt;Ports as the basis of an object-capability model on the Web&lt;/a&gt;&lt;/li&gt;
@@ -1153,7 +1154,7 @@
    &lt;li&gt;&lt;a href=#broadcasting-to-other-browsing-contexts&gt;&lt;span class=secno&gt;9.6 &lt;/span&gt;Broadcasting to other browsing contexts&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=#workers&gt;&lt;span class=secno&gt;10 &lt;/span&gt;Web workers&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#introduction-11&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Introduction&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#introduction-12&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Introduction&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#scope-0&gt;&lt;span class=secno&gt;10.1.1 &lt;/span&gt;Scope&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#examples-5&gt;&lt;span class=secno&gt;10.1.2 &lt;/span&gt;Examples&lt;/a&gt;
@@ -1177,7 +1178,7 @@
        &lt;li&gt;&lt;a href=#shared-workers-and-the-sharedworkerglobalscope-interface&gt;&lt;span class=secno&gt;10.2.1.3 &lt;/span&gt;Shared workers and the &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt; interface&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#worker-event-loop&gt;&lt;span class=secno&gt;10.2.2 &lt;/span&gt;The event loop&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#the-worker's-lifetime&quot;&gt;&lt;span class=secno&gt;10.2.3 &lt;/span&gt;The worker's lifetime&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#processing-model-7&gt;&lt;span class=secno&gt;10.2.4 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#processing-model-8&gt;&lt;span class=secno&gt;10.2.4 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#runtime-script-errors-0&gt;&lt;span class=secno&gt;10.2.5 &lt;/span&gt;Runtime script errors&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#creating-workers&gt;&lt;span class=secno&gt;10.2.6 &lt;/span&gt;Creating workers&lt;/a&gt;
       &lt;ol&gt;
@@ -1192,7 +1193,7 @@
      &lt;li&gt;&lt;a href=#worker-locations&gt;&lt;span class=secno&gt;10.3.3 &lt;/span&gt;Worker locations&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=#webstorage&gt;&lt;span class=secno&gt;11 &lt;/span&gt;Web storage&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#introduction-12&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#introduction-13&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#storage&gt;&lt;span class=secno&gt;11.2 &lt;/span&gt;The API&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#the-storage-interface&gt;&lt;span class=secno&gt;11.2.1 &lt;/span&gt;The &lt;code&gt;Storage&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
@@ -1371,7 +1372,7 @@
    &lt;li&gt;&lt;a href=#parsing-xhtml-fragments&gt;&lt;span class=secno&gt;13.4 &lt;/span&gt;Parsing XHTML fragments&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=#rendering&gt;&lt;span class=secno&gt;14 &lt;/span&gt;Rendering&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#introduction-13&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#introduction-14&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#the-css-user-agent-style-sheet-and-presentational-hints&gt;&lt;span class=secno&gt;14.2 &lt;/span&gt;The CSS user agent style sheet and presentational hints&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#non-replaced-elements&gt;&lt;span class=secno&gt;14.3 &lt;/span&gt;Non-replaced elements&lt;/a&gt;
     &lt;ol&gt;
@@ -1396,7 +1397,7 @@
      &lt;li&gt;&lt;a href=#image-maps-0&gt;&lt;span class=secno&gt;14.4.4 &lt;/span&gt;Image maps&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#bindings&gt;&lt;span class=secno&gt;14.5 &lt;/span&gt;Bindings&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-14&gt;&lt;span class=secno&gt;14.5.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#introduction-15&gt;&lt;span class=secno&gt;14.5.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-button-element-0&gt;&lt;span class=secno&gt;14.5.2 &lt;/span&gt;The &lt;code&gt;button&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-details-element-0&gt;&lt;span class=secno&gt;14.5.3 &lt;/span&gt;The &lt;code&gt;details&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-input-element-as-a-text-entry-widget&gt;&lt;span class=secno&gt;14.5.4 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a text entry widget&lt;/a&gt;&lt;/li&gt;
@@ -31924,7 +31925,8 @@
 
   &lt;p class=note&gt;Because a &lt;code&gt;&lt;a href=#the-map-element&gt;map&lt;/a&gt;&lt;/code&gt; element (and its &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; elements) can be
   associated with multiple &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt; elements, it is possible for an
-  &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element to correspond to multiple focusable areas of the document.&lt;/p&gt;
+  &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element to correspond to multiple &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt;
+  of the document.&lt;/p&gt;
 
   &lt;p&gt;Image maps are &lt;a href=#live&gt;live&lt;/a&gt;; if the DOM is mutated, then the user agent must act as if it
   had rerun the algorithms for image maps.&lt;/p&gt;
@@ -43484,7 +43486,7 @@
   attribute specified, authors should include a &lt;dfn id=attr-input-title title=attr-input-title&gt;&lt;code&gt;title&lt;/code&gt;&lt;/dfn&gt; attribute to give a description of the pattern.
   User agents may use the contents of this attribute, if it is present, when informing the user that
   the pattern is not matched, or at any other suitable time, such as in a tooltip or read out by
-  assistive technology when the control gains focus.&lt;/p&gt;
+  assistive technology when the control &lt;a href=#gains-focus&gt;gains focus&lt;/a&gt;.&lt;/p&gt;
 
   &lt;div class=example&gt;
    &lt;p&gt;For example, the following snippet:&lt;/p&gt;
@@ -43941,7 +43943,7 @@
   &lt;div class=impl&gt;
 
   &lt;p&gt;User agents should present this hint to the user, after having &lt;a href=#strip-line-breaks title=&quot;strip line
-  breaks&quot;&gt;stripped line breaks&lt;/a&gt; from it, when the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; is the empty string or the control is not focused (or both),
+  breaks&quot;&gt;stripped line breaks&lt;/a&gt; from it, when the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; is the empty string or the control is not &lt;a href=#focused&gt;focused&lt;/a&gt; (or both),
   e.g. by displaying it inside a blank unfocused control and hiding it otherwise.&lt;/p&gt;
 
   &lt;/div&gt;
@@ -44306,13 +44308,14 @@
 
   &lt;h5 id=common-input-element-events&gt;&lt;span class=secno&gt;4.10.5.5 &lt;/span&gt;Common event behaviors&lt;/h5&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p&gt;When the &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt;
   events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt; (which is the case for all
   &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; controls other than &lt;a href=#concept-button title=concept-button&gt;buttons&lt;/a&gt; and those with
   the &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute in the &lt;a href=&quot;#hidden-state-(type=hidden)&quot; title=attr-input-type-hidden&gt;Hidden&lt;/a&gt; state), the events are fired to indicate that the
   user has interacted with the control. The &lt;dfn id=event-input-input title=event-input-input&gt;&lt;code&gt;input&lt;/code&gt;&lt;/dfn&gt;
   event fires whenever the user has modified the data of the control. The &lt;dfn id=event-input-change title=event-input-change&gt;&lt;code&gt;change&lt;/code&gt;&lt;/dfn&gt; event fires when the value is committed, if
-  that makes sense for the control, or else when the control loses focus. In all cases, the &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; event comes before the corresponding &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event (if any).&lt;/p&gt;
+  that makes sense for the control, or else when the control &lt;a href=#unfocus-causes-change-event&gt;loses focus&lt;/a&gt;. In all cases, the &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; event comes before the corresponding &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event (if any).&lt;/p&gt;
 
   &lt;p&gt;When an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element has a defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, the rules
   for dispatching these events, if they &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;, are given
@@ -44343,10 +44346,11 @@
   simple event&lt;/a&gt; that bubbles named &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; at the
   &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p class=example&gt;An example of a user interface with a commit action would be a &lt;a href=&quot;#color-state-(type=color)&quot; title=attr-input-type-color&gt;Color&lt;/a&gt; control that consists of a single button that brings
   up a color wheel: if the &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; only changes when the dialog
-  is closed, then that would be the explicit commit action. On the other hand, if the control can be
-  focused and manipulating the control changes the color interactively, then there might be no
+  is closed, then that would be the explicit commit action. On the other hand, if
+  manipulating the control changes the color interactively, then there might be no
   commit action.&lt;/p&gt;
 
   &lt;p class=example&gt;Another example of a user interface with a commit action would be a &lt;a href=&quot;#date-state-(type=date)&quot; title=attr-input-type-date&gt;Date&lt;/a&gt; control that allows both text-based user input and user
@@ -44360,15 +44364,16 @@
   action, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that
   bubbles named &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element. The
   corresponding &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event, if any, will be fired when the
-  control &lt;a href=#unfocusing-steps title=&quot;unfocusing steps&quot;&gt;loses focus&lt;/a&gt;.&lt;/p&gt;
+  control &lt;a href=#unfocus-causes-change-event&gt;loses focus&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p class=example&gt;Examples of a user changing the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; would include the user typing into a text field, pasting a
   new value into the field, or undoing an edit in that field. Some user interactions do not cause
   changes to the value, e.g. hitting the &quot;delete&quot; key in an empty text field, or replacing some text
   in the field with text from the clipboard that happens to be exactly the same text.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p class=example&gt;A &lt;a href=&quot;#range-state-(type=range)&quot; title=attr-input-type-range&gt;Range&lt;/a&gt; control in the form of a
-  slider that the user has focused and is interacting with using a keyboard would be another example
+  slider that the user has &lt;a href=#focused&gt;focused&lt;/a&gt; and is interacting with using a keyboard would be another example
   of the user changing the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; without a commit
   step.&lt;/p&gt;
 
@@ -45742,7 +45747,8 @@
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;User agents should present this hint to the user when the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; is the empty string and the control is not focused (e.g. by
+&lt;!--CLEANUP--&gt;
+  &lt;p&gt;User agents should present this hint to the user when the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; is the empty string and the control is not &lt;a href=#focused&gt;focused&lt;/a&gt; (e.g. by
   displaying it inside a blank unfocused control). All U+000D CARRIAGE RETURN U+000A LINE FEED
   character pairs (CRLF) in the hint, as well as all other U+000D CARRIAGE RETURN (CR) and U+000A
   LINE FEED (LF) characters in the hint, must be treated as line breaks when rendering the hint.
@@ -47588,8 +47594,8 @@
    &lt;li&gt;&lt;p&gt;If the user has indicated (for example, by starting to type in a form control) that he
    does not wish focus to be changed, then optionally abort these steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; that checks to see if the element is &lt;a href=#focusable&gt;focusable&lt;/a&gt;, and
-   if so, runs the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for that element. User agents may also change the
+&lt;!--CLEANUP--&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; that runs the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for the element. User agents may also change the
    scrolling position of the document, or perform some other action that brings the element to the
    user's attention. The &lt;a href=#task-source&gt;task source&lt;/a&gt; for this task is the &lt;a href=#user-interaction-task-source&gt;user interaction task
    source&lt;/a&gt;.&lt;/li&gt;
@@ -49643,7 +49649,7 @@
   owner&lt;/a&gt; is that &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
   &lt;p&gt;If the user agent supports letting the user submit a form implicitly (for example, on some
-  platforms hitting the &quot;enter&quot; key while a text field is focused implicitly submits the form), then
+  platforms hitting the &quot;enter&quot; key while a text field is &lt;a href=#focused&gt;focused&lt;/a&gt; implicitly submits the form), then
   doing so for a form whose &lt;a href=#default-button&gt;default button&lt;/a&gt; has a defined &lt;a href=#activation-behavior&gt;activation
   behavior&lt;/a&gt; must cause the user agent to &lt;a href=#run-synthetic-click-activation-steps&gt;run synthetic click activation steps&lt;/a&gt; on
   that &lt;a href=#default-button&gt;default button&lt;/a&gt;.&lt;/p&gt;
@@ -51930,8 +51936,7 @@
   &lt;p&gt;The &lt;a href=#command-facet-action title=command-facet-Action&gt;Action&lt;/a&gt; of the command is to run the following
   steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;If the element is &lt;a href=#focusable&gt;focusable&lt;/a&gt;, run the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for the
-   element.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;Run the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for the element.&lt;/li&gt;
 
    &lt;li&gt;If the element has a defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, &lt;a href=#run-synthetic-click-activation-steps&gt;run synthetic click
    activation steps&lt;/a&gt; on the element.&lt;/li&gt;
@@ -52076,21 +52081,25 @@
    &lt;li&gt;&lt;p&gt;Push &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; onto &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;'s
    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#pending-dialog-stack&gt;pending dialog stack&lt;/a&gt;.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Run the &lt;a href=#dialog-focusing-steps&gt;dialog focusing steps&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dialog-focusing-steps&gt;dialog focusing steps&lt;/dfn&gt; for a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; are as follows:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If for some reason &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; is not a &lt;a href=#control-group-owner&gt;control group owner&lt;/a&gt;
+   at this point, or if it is &lt;a href=#inert&gt;inert&lt;/a&gt;, abort these steps.&lt;/li&gt;
+
    &lt;li&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; be the first element in tree order that has an &lt;code title=attr-fe-autofocus&gt;&lt;a href=#attr-fe-autofocus&gt;autofocus&lt;/a&gt;&lt;/code&gt; attribute specified and whose nearest ancestor
-    &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element is &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;, if any.&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; be the first non-&lt;a href=#inert&gt;inert&lt;/a&gt; &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; in
+    &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;'s &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; has an &lt;code title=attr-fe-autofocus&gt;&lt;a href=#attr-fe-autofocus&gt;autofocus&lt;/a&gt;&lt;/code&gt; attribute specified.&lt;/p&gt;
 
-    &lt;p&gt;If there isn't one, then let &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; be the first element in tree order
-    that is &lt;a href=#focusable&gt;focusable&lt;/a&gt; and whose nearest ancestor &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element is &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;, if any.&lt;/p&gt;
+    &lt;p&gt;If there isn't one, then let &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; be the first non-&lt;a href=#inert&gt;inert&lt;/a&gt;
+    &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; in &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;'s &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If there isn't one of those either but &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; itself is
-    &lt;a href=#focusable&gt;focusable&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;. (This is unusual.)&lt;/p&gt;
+    &lt;p&gt;If there isn't one of those either, then let &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If there is no &lt;var title=&quot;&quot;&gt;control&lt;/var&gt;, then abort these steps.&lt;/li&gt;
-
    &lt;li&gt;&lt;p&gt;Run the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;control&lt;/var&gt;.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;p&gt;If at any time a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element is &lt;a href=#remove-an-element-from-a-document title=&quot;remove an element from a
@@ -53967,12 +53976,16 @@
   &lt;!-- CANVAS-FOCUS-FALLBACK --&gt;
   &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; &lt;a href=#embedded-content&gt;embedded content&lt;/a&gt;, the
   user can still focus descendants of the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element (in the &lt;a href=#fallback-content&gt;fallback
-  content&lt;/a&gt;). When an element is focused, it is the target of keyboard interaction events (even
+  content&lt;/a&gt;). When an element is &lt;a href=#focused&gt;focused&lt;/a&gt;, it is the target of keyboard interaction events (even
   though the element itself is not visible). This allows authors to make an interactive canvas
-  keyboard-accessible: authors should have a one-to-one mapping of interactive regions to focusable
-  elements in the &lt;a href=#fallback-content&gt;fallback content&lt;/a&gt;. (Focus has no effect on mouse interaction events.)
+  keyboard-accessible: authors should have a one-to-one mapping of interactive regions to &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable
+  areas&lt;/a&gt;&lt;/i&gt; in the &lt;a href=#fallback-content&gt;fallback content&lt;/a&gt;. (Focus has no effect on mouse interaction events.)
   &lt;a href=#refsDOMEVENTS&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt; &lt;!-- user interaction spec integration point --&gt;
 
+  &lt;p&gt;An element whose nearest &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element ancestor is &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt;
+  and &lt;a href=#represents&gt;represents&lt;/a&gt; &lt;a href=#embedded-content&gt;embedded content&lt;/a&gt; is an element that is &lt;dfn id=being-used-as-relevant-canvas-fallback-content&gt;being used as
+  relevant canvas fallback content&lt;/dfn&gt;.&lt;/p&gt;
+
   &lt;hr&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element has two attributes to control the size of the element's bitmap:
   &lt;dfn id=attr-canvas-width title=attr-canvas-width&gt;&lt;code&gt;width&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=attr-canvas-height title=attr-canvas-height&gt;&lt;code&gt;height&lt;/code&gt;&lt;/dfn&gt;. These attributes, when specified, must have
   values that are &lt;a href=#valid-non-negative-integer title=&quot;valid non-negative integer&quot;&gt;valid non-negative integers&lt;/a&gt;. &lt;span class=impl&gt;The &lt;a href=#rules-for-parsing-non-negative-integers&gt;rules for parsing non-negative integers&lt;/a&gt; must be used to obtain their
@@ -57787,7 +57800,8 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;If the given element is focused, draws a focus ring around the &lt;a href=#current-default-path&gt;current default
+&lt;!--CLEANUP--&gt;
+    &lt;p&gt;If the given element is &lt;a href=#focused&gt;focused&lt;/a&gt;, draws a focus ring around the &lt;a href=#current-default-path&gt;current default
     path&lt;/a&gt; or the given path, following the platform conventions for focus rings.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -57798,11 +57812,12 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;If the given element is focused, and the user has configured his system to draw focus rings
+&lt;!--CLEANUP--&gt;
+    &lt;p&gt;If the given element is &lt;a href=#focused&gt;focused&lt;/a&gt;, and the user has configured his system to draw focus rings
     in a particular manner (for example, high contrast focus rings), draws a focus ring around the
     &lt;a href=#current-default-path&gt;current default path&lt;/a&gt; or the given path and returns false.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, returns true if the given element is focused, and false otherwise. This can thus
+    &lt;p&gt;Otherwise, returns true if the given element is &lt;a href=#focused&gt;focused&lt;/a&gt;, and false otherwise. This can thus
     be used to determine when to draw a focus ring (see &lt;a href=#drawCustomFocusRingExample&gt;the
     example&lt;/a&gt; below).&lt;/p&gt;
 
@@ -57903,7 +57918,7 @@
 
   &lt;hr&gt;&lt;p id=dom-context-2d-drawosfocusring&gt;The &lt;dfn id=dom-context-2d-drawsystemfocusring title=dom-context-2d-drawSystemFocusRing&gt;&lt;code&gt;drawSystemFocusRing(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is not focused or is not a descendant of the element with
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is not &lt;a href=#focused&gt;focused&lt;/a&gt; or is not a descendant of the element with
    whose context the method is associated, then abort these steps.&lt;/li&gt;
 
    &lt;li&gt;
@@ -57947,7 +57962,7 @@
 
   &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-drawcustomfocusring title=dom-context-2d-drawCustomFocusRing&gt;&lt;code&gt;drawCustomFocusRing(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is not focused or is not a descendant of the element with
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is not &lt;a href=#focused&gt;focused&lt;/a&gt; or is not a descendant of the element with
    whose context the method is associated, then return false and abort these steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; be true.&lt;/li&gt;
@@ -58837,13 +58852,14 @@
   that given by the &lt;a href=&quot;#hit-region's-aria-role&quot;&gt;hit region's ARIA role&lt;/a&gt;, and whose textual representation, if any,
   is given by the &lt;a href=&quot;#hit-region's-label&quot;&gt;hit region's label&lt;/a&gt;.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p class=note&gt;Thus, for instance, a user agent on a touch-screen device could provide haptic
   feedback when the user croses over a &lt;a href=&quot;#hit-region's-bounding-circumference&quot;&gt;hit region's bounding circumference&lt;/a&gt;, and then
   read the &lt;a href=&quot;#hit-region's-label&quot;&gt;hit region's label&lt;/a&gt; to the user. Similarly, a desktop user agent with a
   virtual accessibility focus separate from the keyboard input focus could allow the user to
   navigate through the hit regions, using the virtual DOM tree described above to enable
-  hierarchical navigation. When an interactive control inside the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element is
-  focused, if the control has a corresponding region, then that &lt;a href=&quot;#hit-region's-bounding-circumference&quot;&gt;hit region's bounding
+  hierarchical navigation. When an interactive control inside the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element
+  &lt;a href=#gains-focus&gt;gains focus&lt;/a&gt;, if the control has a corresponding region, then that &lt;a href=&quot;#hit-region's-bounding-circumference&quot;&gt;hit region's bounding
   circumference&lt;/a&gt; could be used to determine what area of the display to magnify.&lt;/p&gt;
 
   &lt;/div&gt;
@@ -59440,12 +59456,13 @@
   &lt;p&gt;When a canvas is interactive, authors should include focusable elements in the element's
   fallback content corresponding to each focusable part of the canvas, as in the &lt;a href=#drawCustomFocusRingExample&gt;example above&lt;/a&gt;.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p&gt;To expose text and interactive content on a &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; to users of accessibility
   tools, authors should use the &lt;code title=dom-context-2d-addHitRegion&gt;&lt;a href=#dom-context-2d-addhitregion&gt;addHitRegion()&lt;/a&gt;&lt;/code&gt;
   API. When rendering focus rings, to ensure that focus rings have the appearance of native focus
   rings, authors should use the &lt;code title=dom-context-2d-drawSystemFocusRing&gt;&lt;a href=#dom-context-2d-drawsystemfocusring&gt;drawSystemFocusRing()&lt;/a&gt;&lt;/code&gt; method, passing it the
   element for which a ring is being drawn. This method only draws the focus ring if the element is
-  focused, so that it can simply be called whenever drawing the element, without checking whether
+  &lt;a href=#focused&gt;focused&lt;/a&gt;, so that it can simply be called whenever drawing the element, without checking whether
   the element is focused or not first.&lt;/p&gt;
 
   &lt;p id=no-text-editing-in-canvas-please&gt;Authors should avoid implementing text editing controls
@@ -60383,8 +60400,8 @@
 
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt; elements that have a &lt;code title=attr-fieldset-disabled&gt;&lt;a href=#attr-fieldset-disabled&gt;disabled&lt;/a&gt;&lt;/code&gt; attribute&lt;/li&gt;
 
-  &lt;/ul&gt;&lt;p class=note&gt;This definition is used to determine what elements can be &lt;a href=#specially-focusable title=&quot;tabindex
-  focus flag&quot;&gt;focused&lt;/a&gt; and which elements match the &lt;code title=selector-disabled&gt;&lt;a href=#selector-disabled&gt;:disabled&lt;/a&gt;&lt;/code&gt; pseudo-class.&lt;/p&gt;
+  &lt;/ul&gt;&lt;!--CLEANUP--&gt;&lt;p class=note&gt;This definition is used to determine what elements &lt;a href=#specially-focusable title=&quot;tabindex
+  focus flag&quot;&gt;can be focused&lt;/a&gt; and which elements match the &lt;code title=selector-disabled&gt;&lt;a href=#selector-disabled&gt;:disabled&lt;/a&gt;&lt;/code&gt; pseudo-class.&lt;/p&gt;
 
 
   &lt;div class=impl&gt;
@@ -60561,6 +60578,19 @@
    &lt;/dd&gt;
 
 
+   &lt;dt&gt;&lt;dfn id=selector-focus title=selector-focus&gt;&lt;code&gt;:focus&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;For the purposes of the CSS ':focus' pseudo-class, an &lt;dfn id=element-has-the-focus&gt;element has the focus&lt;/dfn&gt; when
+    its &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt; has the system focus, it is not itself a
+    &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt;, and it is one of the elements listed in the &lt;a href=#focus-chain&gt;focus
+    chain&lt;/a&gt; of the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context title=&quot;currently focused area of a top-level browsing
+    context&quot;&gt;currently focused area of the top-level browsing context&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
    &lt;dt&gt;&lt;dfn id=selector-enabled title=selector-enabled&gt;&lt;code&gt;:enabled&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -60828,8 +60858,10 @@
   &lt;/dl&gt;&lt;p class=note&gt;Another section of this specification defines the &lt;i&gt;&lt;a href=#target-element&gt;target element&lt;/a&gt;&lt;/i&gt; used with
   the &lt;code title=selector-target&gt;:target&lt;/code&gt; pseudo-class.&lt;/p&gt;
 
-  &lt;p class=note&gt;This specification does not define when an element matches the &lt;code title=selector-focus&gt;:focus&lt;/code&gt; or &lt;code title=selector-lang()&gt;:lang()&lt;/code&gt; dynamic
-  pseudo-classes, as those are all defined in sufficient detail in a language-agnostic fashion in
+&lt;!--CLEANUP--&gt;
+  &lt;p class=note&gt;This specification does not define when an element matches the
+  &lt;code title=selector-lang()&gt;:lang()&lt;/code&gt; dynamic
+  pseudo-class, as it is defined in sufficient detail in a language-agnostic fashion in
   the Selectors specification. &lt;a href=#refsSELECTORS&gt;[SELECTORS]&lt;/a&gt;&lt;/p&gt;
 
 &lt;!--REMOVE-TOPIC:CSS--&gt;
@@ -68497,8 +68529,7 @@
 
    &lt;li&gt;&lt;p&gt;Use the &lt;a href=#scroll-an-element-into-view&gt;scroll an element into view&lt;/a&gt; algorithm to scroll &lt;var title=&quot;&quot;&gt;target&lt;/var&gt; into view, with the &lt;var title=&quot;&quot;&gt;align to top flag&lt;/var&gt; set. &lt;a href=#refsCSSOMVIEW&gt;[CSSOMVIEW]&lt;/a&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;target&lt;/var&gt; is a &lt;a href=#focusable&gt;focusable&lt;/a&gt; element, run the &lt;a href=#focusing-steps&gt;focusing
-   steps&lt;/a&gt; for that element.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Run the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for that element.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;p&gt;&lt;dfn id=the-indicated-part-of-the-document&gt;The indicated part of the document&lt;/dfn&gt; is the one that the fragment identifier, if any,
   identifies. The semantics of the fragment identifier in terms of mapping it to a specific DOM Node
@@ -75915,8 +75946,7 @@
   no &lt;code title=event-mouseover&gt;&lt;a href=#event-mouseover&gt;mouseover&lt;/a&gt;&lt;/code&gt; event would be fired, and the &lt;code title=event-mousemove&gt;&lt;a href=#event-mousemove&gt;mousemove&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-click&gt;&lt;a href=#event-click&gt;click&lt;/a&gt;&lt;/code&gt; events would
   be fired on the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element rather than the paragraph.&lt;/p&gt;
 
-  &lt;p class=note&gt;When a node is inert, it also can't be &lt;a href=#focusable&gt;focusable&lt;/a&gt;, and it is disabled
-  if it is a &lt;a href=#concept-command title=concept-command&gt;command&lt;/a&gt;.&lt;/p&gt;
+  &lt;p class=note&gt;When a node is inert, it generally cannot be focused. Inert nodes that are &lt;a href=#concept-command title=concept-command&gt;commands&lt;/a&gt; will also get disabled.&lt;/p&gt;
 
   &lt;p&gt;An entire &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; can be marked as &lt;dfn id=blocked-by-a-modal-dialog&gt;blocked by a modal dialog&lt;/dfn&gt; &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;. While a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is so marked, every node that is &lt;a href=#in-a-document title=&quot;in a Document&quot;&gt;in the &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;, with the exception of the &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; element and its descendants, must be marked &lt;a href=#inert&gt;inert&lt;/a&gt;. (The
   elements excepted by this paragraph can additionally be marked &lt;a href=#inert&gt;inert&lt;/a&gt; through other
@@ -76102,33 +76132,294 @@
        <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onbeforeactivate.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onbeforeactivate.asp</A>
   --&gt;
 
-  &lt;div class=impl&gt;
+  &lt;h4 id=introduction-7&gt;&lt;span class=secno&gt;8.4.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
-  &lt;p&gt;When an element is &lt;i&gt;focused&lt;/i&gt;, key events received by the document must be targeted at that
-  element. There may be no element focused; when no element is focused, key events received by the
-  document must be targeted at &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt;, if there is one, or else at the
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s root element, if there is one. If there is no root element, key events
-  must not be fired.&lt;/p&gt;
+  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
-  &lt;p&gt;User agents may track focus for each &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; or &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
-  individually, or may support only one focused element per &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt;
-  &mdash; user agents should follow platform conventions in this regard.&lt;/p&gt;
+  &lt;p&gt;An HTML user interface typically consists of multiple interactive widgets, such as form
+  controls, scrollable regions, links, dialog boxes, browser tabs, and so forth. These widgets form
+  a hierarchy, with some (e.g. browser tabs, dialog boxes) containing others (e.g. links, form
+  controls).&lt;/p&gt;
 
-  &lt;p&gt;Which elements within a &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt; currently have focus must be
-  independent of whether or not the &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt; itself has the &lt;i&gt;system
-  focus&lt;/i&gt;.&lt;/p&gt;
+  &lt;p&gt;When interacting with an interface using a keyboard, key input is channeled from the system,
+  through the hierarchy of interactive widgets, to an active widget, which is said to be
+  &lt;i title=&quot;&quot;&gt;focused&lt;/i&gt;.&lt;/p&gt;
 
-  &lt;p id=bc-focus-ergo-bcc-focus&gt;When a &lt;a href=#child-browsing-context&gt;child browsing context&lt;/a&gt; is focused, its
-  &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt; must also have focus.&lt;/p&gt;
+  &lt;div class=example&gt;
 
-  &lt;p class=note&gt;When an element is focused, the element matches the CSS &lt;code&gt;:focus&lt;/code&gt;
-  pseudo-class.&lt;/p&gt;
+   &lt;p&gt;Consider an HTML application running in a browser tab running in a graphical environment.
+   Suppose this application had a page with some text fields and links, and was currently showing a
+   modal dialog, which itself had a text field and a button.&lt;/p&gt;
 
+   &lt;p&gt;The hierarchy of focusable widgets, in this scenario, would include the browser window, which
+   would have, amongst its children, the browser tab containing the HTML application. The tab itself
+   would have as its children the various links and text fields, as well as the dialog. The dialog
+   itself would have as its children the text field and the button.&lt;/p&gt;
+
+   &lt;p&gt;&lt;img src=<A HREF="http://images.whatwg.org/focus-tree.png">http://images.whatwg.org/focus-tree.png</A> alt=&quot;&quot;&gt;&lt;!-- purely decorative: it repeats the previous
+   paragraph, in graphical form --&gt;&lt;p&gt;If the widget with &lt;i&gt;focus&lt;/i&gt; in this example was the text field in the dialog box, then key
+   input would be channeled from the graphical system to &amp;#x2460; the Web browser, then to &amp;#x2461;
+   the tab, then to &amp;#x2462; the dialog, and finally to &amp;#x2463; the text field.&lt;/p&gt;
+
   &lt;/div&gt;
 
+  &lt;p&gt;Keyboard &lt;em&gt;events&lt;/em&gt; are always targetted at this &lt;i title=&quot;&quot;&gt;focused&lt;/i&gt; element.&lt;/p&gt;
 
-  &lt;h4 id=sequential-focus-navigation-and-the-tabindex-attribute&gt;&lt;span class=secno&gt;8.4.1 &lt;/span&gt;Sequential focus navigation and the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute&lt;/h4&gt;
 
+  &lt;h4 id=data-model&gt;&lt;span class=secno&gt;8.4.2 &lt;/span&gt;Data model&lt;/h4&gt;
+
+  &lt;p&gt;The term &lt;dfn id=focusable-area&gt;focusable area&lt;/dfn&gt; is used to refer to regions of the interface that can become
+  the target of keyboard input. Focusable areas can be elements, parts of elements, or other regions
+  managed by the user agent.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; has a &lt;dfn id=dom-anchor&gt;DOM anchor&lt;/dfn&gt;, which is a &lt;code&gt;&lt;a href=#node&gt;Node&lt;/a&gt;&lt;/code&gt; object
+  that represents the position of the &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; in the DOM. (When the &lt;i&gt;&lt;a href=#focusable-area&gt;focusable
+  area&lt;/a&gt;&lt;/i&gt; is itself a &lt;code&gt;&lt;a href=#node&gt;Node&lt;/a&gt;&lt;/code&gt;, it is its own &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt;.) The &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; is
+  used in some APIs as a substitute for the &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; when there is no other DOM object
+  to represent the &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The following table describes what objects can be &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable
+  areas&lt;/a&gt;&lt;/i&gt;. The cells in the left column describe objects that can be &lt;i title=&quot;focusable
+  area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt;; the cells in the right column describe the &lt;i title=&quot;DOM anchor&quot;&gt;&lt;a href=#dom-anchor&gt;DOM
+  anchors&lt;/a&gt;&lt;/i&gt; for those elements. (The cells that span both columns are non-normative examples.)&lt;/p&gt;
+
+  &lt;table id=table-fa&gt;&lt;thead&gt;&lt;tr&gt;&lt;th id=th-fa-area&gt;&lt;i&gt;&lt;a href=#focusable-area&gt;Focusable area&lt;/a&gt;&lt;/i&gt;
+     &lt;th id=th-fa-dom-rep&gt;&lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt;
+    &lt;tr&gt;&lt;th colspan=2 id=th-fa-examples&gt;Examples
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;th headers=th-fa-area class=data-header id=td-fa-1&gt;
+     Elements that have their &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt; set, that are not &lt;a href=#concept-element-disabled title=concept-element-disabled&gt;actually disabled&lt;/a&gt;, that are not &lt;a href=#expressly-inert-control title=&quot;expressly inert control&quot;&gt;expressly inert&lt;/a&gt;, and that are either &lt;a href=#being-rendered&gt;being
+     rendered&lt;/a&gt; or &lt;a href=#being-used-as-relevant-canvas-fallback-content&gt;being used as relevant canvas fallback content&lt;/a&gt;. &lt;!--
+     CANVAS-FOCUS-FALLBACK --&gt;
+     &lt;td headers=&quot;td-fa-1 th-fa-dom-rep&quot;&gt;
+     The element itself.
+    &lt;tr&gt;&lt;td headers=&quot;td-fa-1 th-fa-examples&quot; colspan=2&gt;
+     &lt;p class=example&gt;&lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-input-type-text&gt;&lt;a href=&quot;#text-(type=text)-state-and-search-state-(type=search)&quot;&gt;&lt;input
+     type=text&gt;&lt;/a&gt;&lt;/code&gt;, sometimes &lt;code title=a&gt;&lt;a href=#the-a-element&gt;&lt;a href=&quot;&quot;&gt;&lt;/a&gt;&lt;/code&gt; (depending on platform
+     conventions).
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;th headers=th-fa-area class=data-header id=td-fa-2&gt;
+     The shapes of &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; elements in an &lt;a href=#image-map&gt;image map&lt;/a&gt; associated with an
+     &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element that is &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt; and is not &lt;a href=#expressly-inert-control title=&quot;expressly
+     inert control&quot;&gt;expressly inert&lt;/a&gt;.
+     &lt;td headers=&quot;td-fa-2 th-fa-dom-rep&quot;&gt;
+     The &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element.
+    &lt;tr&gt;&lt;td headers=&quot;td-fa-2 th-fa-examples&quot; colspan=2&gt;
+     &lt;div class=example&gt;
+      &lt;p&gt;In the following example, the &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element creates two shapes, one on each
+      image. The &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; of the first shape is the first &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element, and the
+      &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; of the second shape is the second &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+      &lt;pre&gt;&lt;map id=wallmap&gt;&lt;area alt=&quot;Enter Door&quot; coords=&quot;10,10,100,200&quot; href=&quot;door.html&quot;&gt;&lt;/map&gt;
+...
+&lt;img src=&quot;images/innerwall.jpeg&quot; alt=&quot;There is a white wall here, with a door.&quot; usemap=&quot;#wallmap&quot;&gt;
+...
+&lt;img src=&quot;images/outerwall.jpeg&quot; alt=&quot;There is a red wall here, with a door.&quot; usemap=&quot;#wallmap&quot;&gt;&lt;/pre&gt;
+     &lt;/div&gt;
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;th headers=th-fa-area class=data-header id=td-fa-3&gt;
+     The user-agent provided subwidgets of elements that are &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt; and are not
+     &lt;a href=#concept-element-disabled title=concept-element-disabled&gt;actually disabled&lt;/a&gt; or &lt;a href=#expressly-inert-control title=&quot;expressly
+     inert control&quot;&gt;expressly inert&lt;/a&gt;.
+     &lt;td headers=&quot;td-fa-3 th-fa-dom-rep&quot;&gt;
+     The element for which the &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; is a subwidget.
+    &lt;tr&gt;&lt;td headers=&quot;td-fa-3 th-fa-examples&quot; colspan=2&gt;
+     &lt;p class=example&gt;The &lt;a href=#expose-a-user-interface-to-the-user title=&quot;expose a user interface to the user&quot;&gt;controls in the user
+     interface that is exposed to the user&lt;/a&gt; for a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element, the up and down
+     buttons in a spin-control version of &lt;code title=attr-input-type-number&gt;&lt;a href=&quot;#number-state-(type=number)&quot;&gt;&lt;input
+     type=number&gt;&lt;/a&gt;&lt;/code&gt;, the two range control widgets in a &lt;code title=attr-input-type-range&gt;&lt;a href=&quot;#range-state-(type=range)&quot;&gt;&lt;input type=range multiple&gt;&lt;/a&gt;&lt;/code&gt;, the part of a
+     &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt; element's rendering that enabled the element to be opened or closed using
+     keyboard input.&lt;/p&gt;
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;th headers=th-fa-area class=data-header id=td-fa-4&gt;
+     The scrollable regions of elements that are &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt; are not &lt;a href=#expressly-inert-control title=&quot;expressly inert control&quot;&gt;expressly inert&lt;/a&gt;. &lt;!-- the being rendered part is kinda
+     redundant, a scrollable region is a box generated for the element so by definition if the
+     element has a scrollable region it is being rendered --&gt;
+     &lt;td headers=&quot;td-fa-4 th-fa-dom-rep&quot;&gt;
+     The element for which the box that the scrollable region scrolls was created.
+    &lt;tr&gt;&lt;td headers=&quot;td-fa-4 th-fa-examples&quot; colspan=2&gt;
+     &lt;p class=example&gt;The CSS 'overflow' property's 'scroll' value typically creates a scrollable
+     region.&lt;/p&gt;
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;th headers=th-fa-area class=data-header id=td-fa-5&gt;
+     The viewport of a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that is in a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; and is not
+     &lt;a href=#inert&gt;inert&lt;/a&gt;.
+     &lt;td headers=&quot;td-fa-5 th-fa-dom-rep&quot;&gt;
+     The &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; for which the viewport was created.
+    &lt;tr&gt;&lt;td headers=&quot;td-fa-5 th-fa-examples&quot; colspan=2&gt;
+     &lt;p class=example&gt;The contents of an &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;th headers=th-fa-area class=data-header id=td-fa-6&gt;
+     Any other element or part of an element, especially to aid with accessibility or to better
+     match platform conventions.
+     &lt;td headers=&quot;td-fa-6 th-fa-dom-rep&quot;&gt;
+     The element.
+    &lt;tr&gt;&lt;td headers=&quot;td-fa-6 th-fa-examples&quot; colspan=2&gt;
+     &lt;p class=example&gt;A user agent could make all list item bullets focusable, so that a user can
+     more easily navigate lists.&lt;/p&gt;
+     &lt;p class=example&gt;Similarly, a user agent could make all elements with &lt;code title=attr-title&gt;&lt;a href=#attr-title&gt;title&lt;/a&gt;&lt;/code&gt; attributes focusable, so that their advisory information can
+     be accessed.&lt;/p&gt;
+
+  &lt;/table&gt;&lt;p id=bc-focus-ergo-bcc-focus class=note&gt;A &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt; (e.g. an
+  &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;) is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, but key events routed to a &lt;a href=#browsing-context-container&gt;browsing context
+  container&lt;/a&gt; get immediately routed to the &lt;a href=#nested-browsing-context&gt;nested browsing context&lt;/a&gt;'s &lt;a href=#active-document&gt;active
+  document&lt;/a&gt;. Similarly, in sequential focus navigation a &lt;a href=#browsing-context-container&gt;browsing context
+  container&lt;/a&gt; essentially acts merely as a placeholder for its &lt;a href=#nested-browsing-context&gt;nested browsing
+  context&lt;/a&gt;'s &lt;a href=#active-document&gt;active document&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; belongs to a &lt;dfn id=control-group&gt;control group&lt;/dfn&gt;. Each &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; has
+  an &lt;dfn id=control-group-owner title=&quot;control group owner&quot;&gt;owner&lt;/dfn&gt;. &lt;a href=#control-group-owner title=&quot;control group owner&quot;&gt;Control group
+  owners&lt;/a&gt; are &lt;dfn id=control-group-owner-object title=&quot;control group owner object&quot;&gt;control group owner objects&lt;/dfn&gt;. The
+  following are &lt;a href=#control-group-owner-object title=&quot;control group owner object&quot;&gt;control group owner objects&lt;/a&gt;:&lt;/p&gt;
+
+  &lt;ul class=brief&gt;&lt;li&gt;&lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object in &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; elements that have an &lt;code title=attr-dialog-open&gt;&lt;a href=#attr-dialog-open&gt;open&lt;/a&gt;&lt;/code&gt;
+   attribute specified and that are &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt;.&lt;/li&gt;
+
+  &lt;/ul&gt;&lt;p&gt;Each &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt; owns one &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; (though that
+  group might be empty).&lt;/p&gt;
+
+  &lt;p&gt;If the &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; of a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; is a &lt;a href=#control-group-owner-object&gt;control group owner
+  object&lt;/a&gt;, then that &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; belongs to that &lt;a href=#control-group-owner-object&gt;control group owner
+  object&lt;/a&gt;'s &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;. Otherwise, the &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; belongs to its
+  &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt;'s nearest ancestor &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;Thus, a viewport always belongs to the &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
+   for which the viewport was created, an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; control belongs to the &lt;i&gt;&lt;a href=#control-group&gt;control
+   group&lt;/a&gt;&lt;/i&gt; of its nearest ancestor &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, and an image
+   map's shapes belong to the nearest ancestor &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the
+   &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; elements (not the &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; elements &mdash; this means one
+   &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element might create multiple shapes in different &lt;i title=&quot;control
+   group&quot;&gt;&lt;a href=#control-group&gt;control groups&lt;/a&gt;&lt;/i&gt;).&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;p&gt;An element is &lt;dfn id=expressly-inert-control title=&quot;expressly inert control&quot;&gt;expressly inert&lt;/dfn&gt; if it is
+  &lt;a href=#inert&gt;inert&lt;/a&gt; but it is not a &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt; and its nearest
+  ancestor &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt; is not &lt;a href=#inert&gt;inert&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;One &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; in each non-empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; is designated the
+  &lt;dfn id=focused-area-of-the-control-group&gt;focused area of the control group&lt;/dfn&gt;. Which control is so designated changes over time,
+  based on algorithms in this specification. If a &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; is empty, it has no &lt;i title=&quot;focused area of the control group&quot;&gt;&lt;a href=#focused-area-of-the-control-group&gt;focused area&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt; can also act as the &lt;dfn id=dialog-group-manager title=&quot;dialog group
+  manager&quot;&gt;manager&lt;/dfn&gt; of a &lt;dfn id=dialog-group&gt;dialog group&lt;/dfn&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element that has an &lt;code title=attr-dialog-open&gt;&lt;a href=#attr-dialog-open&gt;open&lt;/a&gt;&lt;/code&gt;
+  attribute specified and that is &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt; (i.e. that is a &lt;a href=#control-group-owner-object&gt;control group
+  owner object&lt;/a&gt;) and is not &lt;a href=#expressly-inert-dialog title=&quot;expressly inert dialog&quot;&gt;expressly inert&lt;/a&gt;
+  belongs to the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; whose &lt;a href=#dialog-group-manager title=&quot;dialog group manager&quot;&gt;manager&lt;/a&gt; is
+  the &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element's nearest ancestor &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; is &lt;dfn id=expressly-inert-dialog title=&quot;expressly inert dialog&quot;&gt;expressly inert&lt;/dfn&gt; if it is
+  &lt;a href=#inert&gt;inert&lt;/a&gt; but its nearest ancestor &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt; is not.&lt;/p&gt;
+
+  &lt;p&gt;If no &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element has a particular &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt; as
+  its nearest ancestor &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt;, then that &lt;a href=#control-group-owner-object&gt;control group owner
+  object&lt;/a&gt; has no &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; can have a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; designated as the &lt;dfn id=focused-dialog-of-the-dialog-group&gt;focused
+  dialog of the dialog group&lt;/dfn&gt;. Which &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; is so designated changes over time,
+  based on algorithms in this specification.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;&lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;Focusable areas&lt;/a&gt;&lt;/i&gt; in &lt;i title=&quot;control group&quot;&gt;&lt;a href=#control-group&gt;control groups&lt;/a&gt;&lt;/i&gt;
+  are ordered relative to the &lt;a href=#tree-order&gt;tree order&lt;/a&gt; of their &lt;i title=&quot;DOM anchor&quot;&gt;&lt;a href=#dom-anchor&gt;DOM
+  anchors&lt;/a&gt;&lt;/i&gt;. &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;Focusable areas&lt;/a&gt;&lt;/i&gt; with the same &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; in a
+  &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; are ordered relative to their CSS box's relative positions in a pre-order,
+  depth-first traversal of the box tree. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;Elements in &lt;i title=&quot;dialog group&quot;&gt;&lt;a href=#dialog-group&gt;dialog groups&lt;/a&gt;&lt;/i&gt; are ordered in &lt;a href=#tree-order&gt;tree
+  order&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/dfn&gt; at any particular time is
+  the &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; or &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; returned by this algorithm:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the &lt;a href=#top-level-browsing-context&gt;top-level
+   browsing context&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; with a designated
+    &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the
+    designated &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;, and redo this step.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a non-empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, and the
+    designated &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt; is a &lt;a href=#browsing-context-container&gt;browsing context
+    container&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;a href=#active-document&gt;active document&lt;/a&gt; of
+    that &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt;'s &lt;a href=#nested-browsing-context&gt;nested browsing context&lt;/a&gt;, and redo
+    this step.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a non-empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, let
+    &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the designated &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control
+    group&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;An element that is the &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; of a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; is said to &lt;dfn id=gains-focus title=&quot;gains focus&quot;&gt;gain focus&lt;/dfn&gt; when that &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; becomes the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently
+  focused area of a top-level browsing context&lt;/a&gt;. When an element is the &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; of a
+  &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; of the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/a&gt;,
+  it is &lt;dfn id=focused&gt;focused&lt;/dfn&gt;.&lt;/p&gt;
+
+  &lt;div class=impl&gt;
+
+  &lt;p&gt;The &lt;dfn id=focus-chain&gt;focus chain&lt;/dfn&gt; of a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; or &lt;a href=#control-group-owner-object&gt;control group owner
+  object&lt;/a&gt; &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; is the ordered list constructed as follows:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;output&lt;/var&gt; be an empty list.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;i&gt;Loop&lt;/i&gt;: Append &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; is an &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element's shape, append
+    that &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM
+    anchor&lt;/a&gt;&lt;/i&gt; is an element that is not &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; itself, append that
+    &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; element to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; object in a
+    &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;, let &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; be that &lt;i&gt;&lt;a href=#dialog-group&gt;dialog
+    group&lt;/a&gt;&lt;/i&gt;'s &lt;a href=#dialog-group-manager title=&quot;dialog group manager&quot;&gt;manager&lt;/a&gt;, and return to the step
+    labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, let &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; be that &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;'s &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;'s
+    &lt;a href=#control-group-owner title=&quot;control group owner&quot;&gt;owner&lt;/a&gt;, and return to the step labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; in a
+    &lt;a href=#nested-browsing-context&gt;nested browsing context&lt;/a&gt;, let &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; be its
+    &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt;, and return to the step labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Return &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;
+
+    &lt;p class=note&gt;The chain starts with &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; and (if &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; is or can be the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing
+    context&lt;/a&gt;) continues up the focus hierarchy up to the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the
+    &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+  &lt;/ol&gt;&lt;/div&gt;
+
+
+  &lt;h4 id=sequential-focus-navigation-and-the-tabindex-attribute&gt;&lt;span class=secno&gt;8.4.3 &lt;/span&gt;Sequential focus navigation and the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute&lt;/h4&gt;
+
+  &lt;!-- XXX dfn sequential focus navigation --&gt;
+  &lt;!-- e.g. when tabbing into a &lt;span&gt;browsing context container&lt;/span&gt;, you defer to the Document's idea of what the first focusable area is --&gt;
+
   &lt;p&gt;The &lt;dfn id=attr-tabindex title=attr-tabindex&gt;&lt;code&gt;tabindex&lt;/code&gt;&lt;/dfn&gt; content attribute allows authors to
   control whether an element is supposed to be focusable, whether it is supposed to be reachable
   using sequential focus navigation, and what is to be the relative order of the element for the
@@ -76142,8 +76433,8 @@
   &lt;div class=impl&gt;
 
   &lt;p&gt;Each element can have a &lt;dfn id=specially-focusable&gt;tabindex focus flag&lt;/dfn&gt; set, as defined
-  below. This flag is a factor that contributes towards determining whether an element is
-  &lt;a href=#focusable&gt;focusable&lt;/a&gt;, as described in the next section.&lt;/p&gt;
+  below. This flag is a factor that contributes towards determining whether an element is a
+  &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, as described in the previous section.&lt;/p&gt;
 
   &lt;p&gt;If the attribute is specified, it must be parsed using the &lt;a href=#rules-for-parsing-integers&gt;rules for parsing
   integers&lt;/a&gt;. The attribute's values have the following meanings:&lt;/p&gt;
@@ -76153,8 +76444,9 @@
    &lt;dd&gt;
 
     &lt;p&gt;The user agent should follow platform conventions to determine if the element's
-    &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt; is set and, if so, whether the element can be reached using
-    sequential focus navigation, and if so, what its relative order should be.&lt;/p&gt;
+    &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt; is set and, if so, whether the element and any &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt; that have the element as their &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; can
+    be reached using sequential focus navigation, and if so, what their relative order should
+    be.&lt;/p&gt;
 
     &lt;p&gt;Modulo platform conventions, it is suggested that for the following elements, the
     &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt; be set:&lt;/p&gt;
@@ -76199,7 +76491,8 @@
    &lt;dd&gt;
 
     &lt;p&gt;The user agent must set the element's &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt;, but should not allow
-    the element to be reached using sequential focus navigation.&lt;/p&gt;
+    the element, or any &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt; that have the element as
+    their &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt;, to be reached using sequential focus navigation.&lt;/p&gt;
 
     &lt;p class=note&gt;One valid reason to ignore the requirement that sequential focus navigation not
     allow the author to lead to the element would be if the user's only mechanism for moving the
@@ -76214,8 +76507,10 @@
 
    &lt;dd&gt;
 
+&lt;!--CLEANUP--&gt;
     &lt;p&gt;The user agent must set the element's &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt;, should allow the
-    element to be reached using sequential focus navigation, and should follow platform conventions
+    element and any &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt; that have the element as
+    their &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; to be reached using sequential focus navigation, and should follow platform conventions
     to determine the element's relative order.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -76224,31 +76519,33 @@
 
    &lt;dd&gt;
 
+&lt;!--CLEANUP--&gt;
     &lt;p&gt;The user agent must set the element's &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt;, should allow the
-    element to be reached using sequential focus navigation, and should place the element in the
-    sequential focus navigation order so that it is:&lt;/p&gt;
+    element and any &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt; that have the element as their
+    &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; to be reached using sequential focus navigation, and should place the
+    element &mdash; referenced as &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; below &mdash; and the aforementioned &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt; in the sequential
+    focus navigation order so that they are:&lt;/p&gt;
 
-    &lt;ul&gt;&lt;li&gt;before any &lt;a href=#focusable&gt;focusable&lt;/a&gt; element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt;
+    &lt;ul&gt;&lt;!--CLEANUP--&gt;&lt;li&gt;before any &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; is an element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt;
      attribute has been omitted or whose value, when parsed, returns an error,&lt;/li&gt;
 
-     &lt;li&gt;before any &lt;a href=#focusable&gt;focusable&lt;/a&gt; element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt;
+     &lt;li&gt;before any &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; is an element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt;
      attribute has a value equal to or less than zero,&lt;/li&gt;
 
-     &lt;li&gt;after any element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
+     &lt;li&gt;after any &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; is an element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
      greater than zero but less than the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt;
-     attribute on the element,&lt;/li&gt;
+     attribute on &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;,&lt;/li&gt;
 
-     &lt;li&gt;after any element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
-     equal to the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on the element
-     but that is earlier in the document in &lt;a href=#tree-order&gt;tree order&lt;/a&gt; than the element,&lt;/li&gt;
+     &lt;li&gt;after any &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; is an element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
+     equal to the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;
+     but that is earlier in the document in &lt;a href=#tree-order&gt;tree order&lt;/a&gt; than &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;,&lt;/li&gt;
 
-     &lt;li&gt;before any element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
-     equal to the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on the element
-     but that is later in the document in &lt;a href=#tree-order&gt;tree order&lt;/a&gt; than the element, and&lt;/li&gt;
+     &lt;li&gt;before any &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; is an element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
+     equal to the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;
+     but that is later in the document in &lt;a href=#tree-order&gt;tree order&lt;/a&gt; than &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;, and&lt;/li&gt;
 
-     &lt;li&gt;before any element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
-     greater than the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on the
-     element.&lt;/li&gt;
+     &lt;li&gt;before any &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; is an element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
+     greater than the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;.&lt;/li&gt;
 
     &lt;/ul&gt;&lt;/dd&gt;
 
@@ -76258,7 +76555,7 @@
 
   &lt;p class=note&gt;This means that an element that is only focusable because of its &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute will fire a &lt;code title=event-click&gt;&lt;a href=#event-click&gt;click&lt;/a&gt;&lt;/code&gt;
   event in response to a non-mouse activation (e.g. hitting the &quot;enter&quot; key while the element is
-  focused).&lt;/p&gt;
+  &lt;a href=#focused&gt;focused&lt;/a&gt;).&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-tabindex title=dom-tabIndex&gt;&lt;code&gt;tabIndex&lt;/code&gt;&lt;/dfn&gt; IDL attribute must
   &lt;a href=#reflect&gt;reflect&lt;/a&gt; the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; content
@@ -76271,198 +76568,437 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=focus-management&gt;&lt;span class=secno&gt;8.4.2 &lt;/span&gt;Focus management&lt;/h4&gt;
+  &lt;h4 id=processing-model-5&gt;&lt;span class=secno&gt;8.4.4 &lt;/span&gt;Processing model&lt;/h4&gt;
 
-  &lt;p&gt;An element is &lt;dfn id=focusable&gt;focusable&lt;/dfn&gt; if all of the following conditions are met:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=focusing-steps&gt;focusing steps&lt;/dfn&gt; for an object &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; that is
+  either a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, or an element that is not a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, or a
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, are as follows:&lt;/p&gt;
 
-  &lt;ul&gt;&lt;li&gt;The element's &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt; is set.&lt;/li&gt;
+  &lt;ol&gt;&lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2816">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2816</A> div.focus() when it's got a scroll region --&gt;&lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2817">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2817</A> img.focus() when it's got an image map --&gt;&lt;li&gt;
 
-   &lt;li&gt;The element is either &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt; or &lt;!-- CANVAS-FOCUS-FALLBACK --&gt; is a
-   descendant of a &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element that &lt;a href=#represents&gt;represents&lt;/a&gt; &lt;a href=#embedded-content&gt;embedded
-   content&lt;/a&gt;.&lt;/li&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is neither a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element that has an
+    &lt;code title=attr-dialog-open&gt;&lt;a href=#attr-dialog-open&gt;open&lt;/a&gt;&lt;/code&gt; attribute specified and that is &lt;a href=#being-rendered&gt;being
+    rendered&lt;/a&gt; (i.e. that is a &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt;), nor a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable
+    area&lt;/a&gt;&lt;/i&gt;, then run the first matching set of steps from the following list:&lt;/p&gt;
 
-   &lt;li&gt;The element is not &lt;a href=#inert&gt;inert&lt;/a&gt;.&lt;/li&gt;
+    &lt;dl class=switch&gt;&lt;dt&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is an &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element with one or more
+     shapes that are &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt;&lt;/dt&gt;
 
-   &lt;li&gt;The element is not &lt;a href=#concept-element-disabled title=concept-element-disabled&gt;disabled&lt;/a&gt;.&lt;/li&gt;
+     &lt;dd&gt;
 
-  &lt;/ul&gt;&lt;p&gt;In addition, each shape that is generated for an &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element, any
-  user-agent-provided interface components of &lt;a href=#media-element title=&quot;media element&quot;&gt;media elements&lt;/a&gt;
-  (e.g. a play button), and distinct user interface components of form controls (e.g. &quot;up&quot; and
-  &quot;down&quot; buttons on an &lt;code title=attr-input-type-number&gt;&lt;a href=&quot;#number-state-(type=number)&quot;&gt;&lt;input type=number&gt;&lt;/a&gt;&lt;/code&gt; spin
-  control), should be &lt;a href=#focusable&gt;focusable&lt;/a&gt;, unless platform conventions dictate otherwise or
-  unless their corresponding element is &lt;a href=#concept-element-disabled title=concept-element-disabled&gt;disabled&lt;/a&gt;. (A
-  single &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element can correspond to multiple shapes, since image maps can be reused
-  with multiple images on a page.)&lt;/p&gt;
+      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the shape corresponding to the first
+      &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element in tree order that uses the image map to which the &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt;
+      element belongs.&lt;/p&gt;
 
-  &lt;p&gt;The user agent may also make part of a &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt; element's rendering
-  &lt;a href=#focusable&gt;focusable&lt;/a&gt;, to enable the element to be opened or closed using keyboard input.
-  However, this is distinct from the &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#the-summary-element&gt;summary&lt;/a&gt;&lt;/code&gt; element being
-  focusable.&lt;/p&gt;
+     &lt;/dd&gt;
 
-  &lt;p&gt;Notwithstanding the above, user agents may make &lt;em&gt;any&lt;/em&gt; element or part of an element
-  focusable, especially to aid with accessibility or to better match platform conventions.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=focusing-steps&gt;focusing steps&lt;/dfn&gt; for an element are as follows:&lt;/p&gt;
+     &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is an element with one or more scrollable regions
+     that are &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt;&lt;/dt&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the element is not &lt;a href=#in-a-document title=&quot;in a Document&quot;&gt;in a &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;, or if
-   the element's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has no &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, or if the element's
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; has no &lt;a href=#top-level-browsing-context&gt;top-level browsing
-   context&lt;/a&gt;, or if the element is not &lt;a href=#focusable&gt;focusable&lt;/a&gt;, or if the element is already
-   focused, then abort these steps.&lt;/p&gt;
+     &lt;dd&gt;
 
-   &lt;li&gt;&lt;p&gt;If focusing the element will remove the focus from another element, then run the
-   &lt;a href=#unfocusing-steps&gt;unfocusing steps&lt;/a&gt; for that element.&lt;/li&gt;
+      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the element's first scrollable region,
+      according to a pre-order, depth-first traversal of the box tree. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt;&lt;/p&gt;
 
+     &lt;/dd&gt;
+
+
+     &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt; of its
+     &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+     &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is the &lt;a href=#root-element&gt;root element&lt;/a&gt; of its
+     &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; and that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has no &lt;a href=#the-body-element-0 title=&quot;the body
+     element&quot;&gt;body element&lt;/a&gt;&lt;/dt&gt;
+
+     &lt;dd&gt;
+
+      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s viewport.&lt;/p&gt;
+
+     &lt;/dd&gt;
+
+
+     &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;&lt;/dt&gt;
+
+     &lt;dd&gt;
+
+      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s
+      &lt;a href=#active-document&gt;active document&lt;/a&gt;.&lt;/p&gt;
+
+     &lt;/dd&gt;
+
+     &lt;dt&gt;Otherwise&lt;/dt&gt;
+
+     &lt;dd&gt;
+
+      &lt;p&gt;Abort the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt;.&lt;/p&gt;
+
+     &lt;/dd&gt;
+
+    &lt;/dl&gt;&lt;/li&gt;
+
    &lt;li&gt;
 
-    &lt;p&gt;Make the element the currently focused element in its &lt;a href=#top-level-browsing-context&gt;top-level browsing
-    context&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is a &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt; that is
+    not a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, but does have a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;, and that &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;
+    has a designated &lt;a href=#focused-dialog-of-the-dialog-group title=&quot;focused dialog of the dialog group&quot;&gt;focused dialog&lt;/a&gt;, then
+    let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog
+    group&lt;/a&gt;, and redo this step.&lt;/p&gt;
 
-    &lt;p&gt;Some elements, most notably &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt;, can correspond to more than one distinct
-    focusable area. If a particular area was indicated when the element was focused, then that is
-    the area that must get focus; otherwise, e.g. when using the &lt;code title=dom-focus&gt;&lt;a href=#dom-focus&gt;focus()&lt;/a&gt;&lt;/code&gt; method, the first such region in tree order is the one that
-    must be focused.&lt;/p&gt;
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is a &lt;a href=#control-group-owner-object&gt;control group owner
+    object&lt;/a&gt; that is not a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, and its &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; is not empty,
+    then designate &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; as the &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control
+    group&lt;/a&gt;, and redo this step.&lt;/p&gt;
 
+    &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2818">http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2818</A> --&gt;
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is a &lt;a href=#browsing-context-container&gt;browsing context
+    container&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the &lt;a href=#nested-browsing-context&gt;nested browsing
+    context&lt;/a&gt;'s &lt;a href=#active-document&gt;active document&lt;/a&gt;, and redo this step.&lt;/p&gt;
+
+    &lt;p class=note&gt;A &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element can be both a &lt;a href=#control-group-owner-object&gt;control group owner
+    object&lt;/a&gt; and a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, if it has both an &lt;code title=attr-dialog-open&gt;&lt;a href=#attr-dialog-open&gt;open&lt;/a&gt;&lt;/code&gt; attribute specified and a &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute specified and is &lt;a href=#being-rendered&gt;being
+    rendered&lt;/a&gt;.&lt;/p&gt;
+
    &lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; and its &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM
+   anchor&lt;/a&gt;&lt;/i&gt; is &lt;a href=#inert&gt;inert&lt;/a&gt;, then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a
+   top-level browsing context&lt;/a&gt;, then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt; be the &lt;a href=#focus-chain&gt;focus chain&lt;/a&gt; of the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context title=&quot;currently focused area of a top-level browsing context&quot;&gt;currently focused area of the
+   top-level browsing context&lt;/a&gt; in which &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; finds
+   itself.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt; be the &lt;a href=#focus-chain&gt;focus chain&lt;/a&gt; of &lt;var title=&quot;&quot;&gt;new
+   focus target&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Run the &lt;a href=#focus-update-steps&gt;focus update steps&lt;/a&gt; with &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; respectively.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;User agents must synchronously run the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;,
+  &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt;, or &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; whenever the
+  user attempts to move the focus to &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=unfocusing-steps&gt;unfocusing steps&lt;/dfn&gt; for an object &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; that is
+  either a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; or an element that is not a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; are as
+  follows:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2819">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2819</A> --&gt;&lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2822">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2822</A> --&gt;&lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; is &lt;a href=#inert&gt;inert&lt;/a&gt;, then abort these
+   steps.&lt;/li&gt;
+
    &lt;li&gt;
 
-    &lt;p&gt;The user agent may apply relevant platform-specific conventions for focusing widgets.&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; is an &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element and one of its
+    shapes is the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/a&gt;, or, if &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; is an element with one or more scrollable regions, and one of
+    them is the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; be that &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing
+    context&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;For example, some platforms select the contents of a text field when that field
-    is focused.&lt;/p&gt;
+   &lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt; be the &lt;a href=#focus-chain&gt;focus chain&lt;/a&gt; of the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently
+   focused area of a top-level browsing context&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; is not one of the entries in &lt;var title=&quot;&quot;&gt;old
+   chain&lt;/var&gt;, then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;,
+    and the &lt;a href=#dialog-group-manager&gt;dialog group manager&lt;/a&gt; has a non-empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, then let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the designated &lt;a href=#focused-area-of-the-control-group title=&quot;focused area of the control
+    group&quot;&gt;focused area of that focus group&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, then let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the first &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; of its &lt;i&gt;&lt;a href=#control-group&gt;control
+    group&lt;/a&gt;&lt;/i&gt; (if the &lt;a href=#control-group-owner&gt;control group owner&lt;/a&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, this will
+    always be a viewport).&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be null.&lt;/p&gt;
+
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-focus&gt;&lt;a href=#event-focus&gt;focus&lt;/a&gt;&lt;/code&gt; at the element.&lt;/li&gt;
-   &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723</A> --&gt;
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is not null, then run the &lt;a href=#focusing-steps&gt;focusing
+   steps&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;User agents must synchronously run the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for an element whenever the
-  user moves the focus to a &lt;a href=#focusable&gt;focusable&lt;/a&gt; element.&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;When the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/a&gt; is somehow
+  unfocused without another element being explicitly focused in its stead, the user agent must
+  synchronously run the &lt;a href=#unfocusing-steps&gt;unfocusing steps&lt;/a&gt; for that object.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=unfocusing-steps&gt;unfocusing steps&lt;/dfn&gt; for an element are as follows:&lt;/p&gt;
+  &lt;p class=note&gt;The &lt;a href=#unfocusing-steps&gt;unfocusing steps&lt;/a&gt; do not always result in the focus changing, even
+  when applied to the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/a&gt;. For
+  example, if the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/a&gt; is a viewport,
+  then it will usually keep its focus regardless until another &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; is explicitly
+  focused with the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the element is an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element, and the &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event applies to the element, and the element does not
-   have a defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, and the user has changed the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; or its list of &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected files&lt;/a&gt; while the control was focused
-   without committing that change, then &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;&lt;a href=#event-change&gt;change&lt;/a&gt;&lt;/code&gt; at the element.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;When a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; is added to an empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, it must be designated
+  the &lt;i&gt;&lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;Unfocus the element.&lt;/li&gt;
+  &lt;p&gt;When a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; is formed, if the &lt;a href=#dialog-group-manager&gt;dialog group manager&lt;/a&gt; has an empty
+  &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, the first non-&lt;a href=#inert&gt;inert&lt;/a&gt; &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog
+  group&lt;/a&gt;&lt;/i&gt;, if any, or else the first &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; regardless of
+  &lt;a href=#inert title=inert&gt;inertness&lt;/a&gt;, must be designated the &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog
+  group&lt;/a&gt;.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-blur&gt;&lt;a href=#event-blur&gt;blur&lt;/a&gt;&lt;/code&gt; at the element.&lt;/li&gt;
-   &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723</A> --&gt;
+  &lt;p&gt;&lt;dfn id=focus-fixup-rule-one&gt;Focus fixup rule one&lt;/dfn&gt;: When the designated &lt;a href=#focused-area-of-the-control-group title=&quot;focused area of the control
+  group&quot;&gt;focused area of a control group&lt;/a&gt; is removed from that &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; in some
+  way (e.g. it stops being a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, it is removed from the DOM, it becomes &lt;a href=#expressly-inert-control title=&quot;expressly inert control&quot;&gt;expressly inert&lt;/a&gt;, etc), and the &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; is
+  still not empty: designate the first non-&lt;a href=#inert&gt;inert&lt;/a&gt; &lt;i&gt;focused area&lt;/i&gt; in that &lt;i&gt;&lt;a href=#control-group&gt;control
+  group&lt;/a&gt;&lt;/i&gt; to be the new &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt;, if any; if they are all
+  &lt;a href=#inert&gt;inert&lt;/a&gt;, then designate the first &lt;i&gt;focused area&lt;/i&gt; in that &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; to
+  be the new &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt; regardless of &lt;a href=#inert title=inert&gt;inertness&lt;/a&gt;. If such a removal instead results in the &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;
+  being empty, then there is simply no longer a &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;/ol&gt;&lt;p&gt;When an element that is focused stops being a &lt;a href=#focusable&gt;focusable&lt;/a&gt; element, or stops being
-  focused without another element being explicitly focused in its stead, the user agent should
-  synchronously run the &lt;a href=#unfocusing-steps&gt;unfocusing steps&lt;/a&gt; for the affected element only.&lt;/p&gt;
-
-  &lt;p class=example&gt;For example, this might happen because the element is removed from its
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, or has a &lt;code title=attr-hidden&gt;&lt;a href=#the-hidden-attribute&gt;hidden&lt;/a&gt;&lt;/code&gt; attribute added. It would
+  &lt;p class=example&gt;For example, this might happen because an element is removed from its
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, or has a &lt;code title=attr-hidden&gt;&lt;a href=#the-hidden-attribute&gt;hidden&lt;/a&gt;&lt;/code&gt; attribute added. It might
   also happen to an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element when the element gets &lt;a href=#concept-fe-disabled title=concept-fe-disabled&gt;disabled&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;/div&gt;
+  &lt;p&gt;&lt;dfn id=focus-fixup-rule-two&gt;Focus fixup rule two&lt;/dfn&gt;: When a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; has no designed &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused
+  dialog of the dialog group&lt;/a&gt;, and its &lt;a href=#dialog-group-manager&gt;dialog group manager&lt;/a&gt;'s &lt;i&gt;&lt;a href=#control-group&gt;control
+  group&lt;/a&gt;&lt;/i&gt; changes from being non-empty to being empty, the first non-&lt;a href=#inert&gt;inert&lt;/a&gt;
+  &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;, if any, or else the first &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in
+  the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; regardless of &lt;a href=#inert title=inert&gt;inertness&lt;/a&gt;, must be designated
+  the &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;p&gt;&lt;dfn id=focus-fixup-rule-three&gt;Focus fixup rule three&lt;/dfn&gt;: When the designated &lt;a href=#focused-dialog-of-the-dialog-group title=&quot;focused dialog of the
+  dialog group&quot;&gt;focused dialog of a dialog group&lt;/a&gt; is removed from that &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; in
+  some way (e.g. it stops &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt;, it loses its &lt;code title=attr-dialog-open&gt;&lt;a href=#attr-dialog-open&gt;open&lt;/a&gt;&lt;/code&gt; attribute, it becomes &lt;a href=#expressly-inert-dialog title=&quot;expressly inert
+  dialog&quot;&gt;expressly inert&lt;/a&gt;, etc), and there is still a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; (because the
+  &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in question was not the last &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in that &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;):
+  if the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;'s &lt;a href=#dialog-group-manager title=&quot;dialog group manager&quot;&gt;manager&lt;/a&gt;'s &lt;i&gt;&lt;a href=#control-group&gt;control
+  group&lt;/a&gt;&lt;/i&gt; is non-empty, let there be no designated &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;
+  any more; otherwise (in the case that the &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; is empty), designate the first
+  non-&lt;a href=#inert&gt;inert&lt;/a&gt; &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; to be the &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused
+  dialog of the dialog group&lt;/a&gt;, or, if they are all &lt;a href=#inert&gt;inert&lt;/a&gt;, designate the first
+  &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; to be the &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog
+  group&lt;/a&gt; regardless of &lt;a href=#inert title=inert&gt;inertness&lt;/a&gt;.&lt;/p&gt;
 
-&lt;!--TOPIC:DOM APIs--&gt;
-  &lt;h4 id=document-level-focus-apis&gt;&lt;span class=secno&gt;8.4.3 &lt;/span&gt;Document-level focus APIs&lt;/h4&gt;
+  &lt;p&gt;When the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/a&gt; was a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable
+  area&lt;/a&gt;&lt;/i&gt; but stops being a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, or when it was a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in a
+  &lt;a href=#dialog-group&gt;dialog group&lt;/a&gt; and stops being part of that &lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;, or when it
+  starts being &lt;a href=#inert&gt;inert&lt;/a&gt;, the user agent must run the following steps:&lt;/p&gt;
 
-  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-activeElement&gt;&lt;a href=#dom-document-activeelement&gt;activeElement&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+  &lt;ol&gt;&lt;!-- this is basically a special-cased version of the focusing steps --&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; be whatever the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context title=&quot;currently focused
+   area of a top-level browsing context&quot;&gt;currently focused area of the top-level browsing
+   context&lt;/a&gt; was immediately before this algorithm became applicable (e.g. before the element
+   was disabled, or the dialog was closed, or whatever caused this algorithm to tun).&lt;/li&gt;
 
-   &lt;dd&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt; be the &lt;a href=#focus-chain&gt;focus chain&lt;/a&gt; of the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context title=&quot;currently focused area of a top-level browsing context&quot;&gt;currently focused area of the
+   top-level browsing context&lt;/a&gt; at the same time.&lt;/li&gt;
 
-    &lt;p&gt;Returns the currently focused element.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;Make sure that the changes implied by the focus fixup rules &lt;a href=#focus-fixup-rule-one title=&quot;focus fixup rule
+   one&quot;&gt;one&lt;/a&gt;, &lt;a href=#focus-fixup-rule-two title=&quot;focus fixup rule two&quot;&gt;two&lt;/a&gt;, and &lt;a href=#focus-fixup-rule-three title=&quot;focus fixup
+   rule three&quot;&gt;three&lt;/a&gt; above are applied.&lt;/li&gt;
 
-   &lt;/dd&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a
+   top-level browsing context&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-hasFocus&gt;&lt;a href=#dom-document-hasfocus&gt;hasFocus&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; are the
+   same, abort these steps.&lt;/li&gt;
 
-   &lt;dd&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt; be the &lt;a href=#focus-chain&gt;focus chain&lt;/a&gt; of &lt;var title=&quot;&quot;&gt;new
+   focus target&lt;/var&gt;.&lt;/li&gt;
 
-    &lt;p&gt;Returns true if the document has focus; otherwise, returns false.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;Run the &lt;a href=#focus-update-steps&gt;focus update steps&lt;/a&gt; with &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; respectively.&lt;/li&gt;
 
-   &lt;/dd&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The &lt;dfn id=focus-update-steps&gt;focus update steps&lt;/dfn&gt;, given an &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt;, a &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt;, and a &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; respectively, are as
+  follows:&lt;/p&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=dom-window-focus&gt;&lt;a href=#dom-window-focus&gt;focus&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+  &lt;ol&gt;&lt;!-- focusin/focusout?: <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723</A> --&gt;&lt;li&gt;&lt;p&gt;If the last entry in &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt; and the last entry in &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt; are the same, pop the last entry from &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt;
+   and the last entry from &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt; and redo this step.&lt;/li&gt;
 
-   &lt;dd&gt;
+   &lt;li&gt;
 
-    &lt;p&gt;Focuses the window. Use of this method is discouraged. Allow the user to control window focus
-    instead.&lt;/p&gt;
+    &lt;p&gt;For each entry &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt;, in order, run
+    these substeps:&lt;/p&gt;
 
-   &lt;/dd&gt;
+    &lt;ol&gt;&lt;li id=unfocus-causes-change-event&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;
+     element, and the &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt; to the element, and the element does not have a
+     defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, and the user has changed the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; or its list of &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected files&lt;/a&gt; while the control was focused
+     without committing that change, then &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;&lt;a href=#event-change&gt;change&lt;/a&gt;&lt;/code&gt; at the element.&lt;/p&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=dom-window-blur&gt;&lt;a href=#dom-window-blur&gt;blur&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+     &lt;li&gt;
 
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is an element, let &lt;var title=&quot;&quot;&gt;blur event target&lt;/var&gt; be
+      &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt;.&lt;/p&gt;
+
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, let &lt;var title=&quot;&quot;&gt;blur
+      event target&lt;/var&gt; be that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+
+      &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;blur event target&lt;/var&gt; be null.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;blur event target&lt;/var&gt; is not null, &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt;
+      named &lt;code title=event-blur&gt;&lt;a href=#event-blur&gt;blur&lt;/a&gt;&lt;/code&gt; at &lt;var title=&quot;&quot;&gt;blur event target&lt;/var&gt;.&lt;/p&gt;
+
+      &lt;p class=note&gt;In some cases, e.g. if &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is an &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt;
+      element's shape, a scrollable region, or a viewport, no event is fired.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Apply any relevant platform-specific conventions for focusing &lt;var title=&quot;&quot;&gt;new focus
+   target&lt;/var&gt;. (For example, some platforms select the contents of a text field when that field is
+   focused.)&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;For each entry &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt;, in reverse
+    order, run these substeps:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element: Let &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; be the designated &lt;a href=#focused-dialog-of-the-dialog-group title=&quot;focused dialog of the dialog
+     group&quot;&gt;focused dialog of its dialog group&lt;/a&gt;.&lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;: Designate &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; as the &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt;. If its &lt;i&gt;&lt;a href=#control-group&gt;control
+      group&lt;/a&gt;&lt;/i&gt;'s &lt;a href=#control-group-owner title=&quot;control group owner&quot;&gt;owner&lt;/a&gt; is also a &lt;a href=#dialog-group-manager&gt;dialog group
+      manager&lt;/a&gt;, then let there be no designated &lt;a href=#focused-dialog-of-the-dialog-group title=&quot;focused dialog of the dialog
+      group&quot;&gt;focused dialog&lt;/a&gt; in that &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
+
+      &lt;p class=note&gt;It is possible for &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; to be both a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt;
+      element and a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, in which case it is its own &lt;a href=#control-group-owner&gt;control group
+      owner&lt;/a&gt;.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is an element, let &lt;var title=&quot;&quot;&gt;focus event target&lt;/var&gt; be
+      &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt;.&lt;/p&gt;
+
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, let &lt;var title=&quot;&quot;&gt;focus
+      event target&lt;/var&gt; be that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+
+      &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;focus event target&lt;/var&gt; be null.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;focus event target&lt;/var&gt; is not null, &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt;
+      named &lt;code title=event-focus&gt;&lt;a href=#event-focus&gt;focus&lt;/a&gt;&lt;/code&gt; at &lt;var title=&quot;&quot;&gt;focus event target&lt;/var&gt;.&lt;/p&gt;
+
+      &lt;p class=note&gt;In some cases, e.g. if &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is an &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt;
+      element's shape, a scrollable region, or a viewport, no event is fired.&lt;/p&gt;
+
+     &lt;/li&gt;
+   
+    &lt;/ol&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a key event is to be routed in a &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt;, the user agent
+  must run the follow steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target area&lt;/var&gt; be the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context title=&quot;currently focused area of a
+   top-level browsing context&quot;&gt;currently focused area of the top-level browsing
+   context&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;target area&lt;/var&gt; is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, let &lt;var title=&quot;&quot;&gt;target
+   node&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;target area&lt;/var&gt;'s &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt;. Otherwise, &lt;var title=&quot;&quot;&gt;target area&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt;; let &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt; be
+   &lt;var title=&quot;&quot;&gt;target area&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#the-body-element-0 title=&quot;the
+    body element&quot;&gt;body element&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt; be &lt;a href=#the-body-element-0&gt;the body
+    element&lt;/a&gt; of that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a
+    &lt;a href=#root-element&gt;root element&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt; be the &lt;a href=#root-element&gt;root
+    element&lt;/a&gt; of that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt; is not &lt;a href=#inert&gt;inert&lt;/a&gt;, fire the event at &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt;.&lt;/p&gt;
+
+    &lt;p class=note&gt;It is possible for the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing
+    context&lt;/a&gt; to be &lt;a href=#inert&gt;inert&lt;/a&gt;, for example if a &lt;a href=#dom-dialog-showmodal title=dom-dialog-showModal&gt;modal dialog is shown&lt;/a&gt;, and then that &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt;
+    element is made &lt;a href=#inert&gt;inert&lt;/a&gt;. It is likely to be the result of a logic error in the
+    application, though.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the event was not canceled, then let &lt;var title=&quot;&quot;&gt;target area&lt;/var&gt; handle the key
+   event. This might include &lt;a href=#run-synthetic-click-activation-steps title=&quot;run synthetic click activation steps&quot;&gt;running synthetic
+   click activation steps&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;/div&gt;
+
+
+&lt;!--TOPIC:DOM APIs--&gt;
+  &lt;h4 id=focus-management-apis&gt;&lt;span class=secno&gt;8.4.5 &lt;/span&gt;Focus management APIs&lt;/h4&gt;
+
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-activeElement&gt;&lt;a href=#dom-document-activeelement&gt;activeElement&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
    &lt;dd&gt;
 
-    &lt;p&gt;Unfocuses the window. Use of this method is discouraged. Allow the user to control window
-    focus instead.&lt;/p&gt;
+    &lt;p&gt;Returns the deepest element in the document through which or to which key events are being
+    routed. This is, roughly speaking, the focused element in the document.&lt;/p&gt;
 
+    &lt;p&gt;For the purposes of this API, when a &lt;a href=#child-browsing-context&gt;child browsing context&lt;/a&gt; is focused, its
+    &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt; is &lt;a href=#bc-focus-ergo-bcc-focus&gt;focused&lt;/a&gt; in the
+    &lt;a href=#parent-browsing-context&gt;parent browsing context&lt;/a&gt;. For example, if the user moves the focus to a text field
+    in an &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;, the &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt; is the element returned by the &lt;code title=dom-document-activeElement&gt;&lt;a href=#dom-document-activeelement&gt;activeElement&lt;/a&gt;&lt;/code&gt; API in the &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;'s
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;div class=impl&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-hasFocus&gt;&lt;a href=#dom-document-hasfocus&gt;hasFocus&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-document-activeelement title=dom-document-activeElement&gt;&lt;code&gt;activeElement&lt;/code&gt;&lt;/dfn&gt; attribute on
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return the element in the document that is focused. If no
-  element in the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is focused, this must return &lt;a href=#the-body-element-0&gt;the body
-  element&lt;/a&gt;.&lt;/p&gt;
+   &lt;dd&gt;
 
-  &lt;p class=note&gt;When a &lt;a href=#child-browsing-context&gt;child browsing context&lt;/a&gt; is focused, its &lt;a href=#browsing-context-container&gt;browsing context
-  container&lt;/a&gt; is also focused, &lt;a href=#bc-focus-ergo-bcc-focus&gt;by definition&lt;/a&gt;. For
-  example, if the user moves the focus to a text field in an &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;, the
-  &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt; is the element with focus in the &lt;a href=#parent-browsing-context&gt;parent browsing context&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Returns true if key events are being routed through or to the document; otherwise, returns
+    false. Roughly speaking, this corresponds to the document, or a documented nested inside this
+    one, being focused.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-document-hasfocus title=dom-document-hasFocus&gt;&lt;code&gt;hasFocus()&lt;/code&gt;&lt;/dfn&gt; method on
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return true if the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt; is focused, and all its &lt;a href=#ancestor-browsing-context title=&quot;ancestor browsing context&quot;&gt;ancestor browsing
-  contexts&lt;/a&gt; are also focused, and the &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt; has the
-  &lt;i&gt;system focus&lt;/i&gt;. If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has no &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; or if its
-  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; has no &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt;, then the method will
-  always return false.&lt;/p&gt;
+   &lt;/dd&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-window-focus title=dom-window-focus&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method on the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
-  object, when invoked, provides a hint to the user agent that the script believes the user might be
-  interested in the contents of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object
-  on which the method was invoked.&lt;/p&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=dom-window-focus&gt;&lt;a href=#dom-window-focus&gt;focus&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
 
-  &lt;p&gt;User agents are encouraged to have this &lt;code title=dom-window-focus&gt;&lt;a href=#dom-window-focus&gt;focus()&lt;/a&gt;&lt;/code&gt; method
-  trigger some kind of notification.&lt;/p&gt;
+   &lt;dd&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-window-blur title=dom-window-blur&gt;&lt;code&gt;blur()&lt;/code&gt;&lt;/dfn&gt; method on the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
-  object, when invoked, provides a hint to the user agent that the script believes the user probably
-  is not currently interested in the contents of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; of the
-  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the method was invoked, but that the contents might become
-  interesting again in the future.&lt;/p&gt;
+    &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2823">http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2823</A> --&gt;
 
-  &lt;p&gt;User agents are encouraged to ignore calls to this &lt;code title=dom-window-blur&gt;&lt;a href=#dom-window-blur&gt;blur()&lt;/a&gt;&lt;/code&gt;
-  method entirely.&lt;/p&gt;
+    &lt;p&gt;Moves the focus to the window's &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt;, if any.&lt;/p&gt;
 
-  &lt;p class=note&gt;Historically the &lt;code title=dom-window-blur&gt;&lt;a href=#dom-window-blur&gt;focus()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-window-blur&gt;&lt;a href=#dom-window-blur&gt;blur()&lt;/a&gt;&lt;/code&gt; methods actually affected the system focus, but hostile
-  sites widely abuse this behavior to the user's detriment.&lt;/p&gt;
+   &lt;/dd&gt;
 
-  &lt;/div&gt;
+&lt;!--
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=&quot;dom-window-blur&quot;&gt;blur&lt;/code&gt;()&lt;/dt&gt;
 
+   &lt;dd&gt;
 
-  &lt;h4 id=element-level-focus-apis&gt;&lt;span class=secno&gt;8.4.4 &lt;/span&gt;Element-level focus APIs&lt;/h4&gt;
+    &lt;p&gt;No effect.&lt;/p&gt;
 
-  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-focus&gt;&lt;a href=#dom-focus&gt;focus&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+   &lt;/dd&gt;
+--&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-focus&gt;&lt;a href=#dom-focus&gt;focus&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+
    &lt;dd&gt;
 
-    &lt;p&gt;Focuses the element.&lt;/p&gt;
+    &lt;p&gt;Moves the focus to the element.&lt;/p&gt;
 
+    &lt;p&gt;If the element is &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt;, moves the focus to the viewport instead.&lt;/p&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-blur&gt;&lt;a href=#dom-blur&gt;blur&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Unfocuses the element. Use of this method is discouraged. Focus another element instead.&lt;/p&gt;
+    &lt;p&gt;Moves the focus to the viewport. Use of this method is discouraged; if you want to focus the
+    viewport, call the &lt;code title=dom-focus&gt;&lt;a href=#dom-focus&gt;focus()&lt;/a&gt;&lt;/code&gt; method on &lt;a href=#the-body-element-0&gt;the body
+    element&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;Do not use this method to hide the focus ring if you find the focus ring unsightly. Instead,
-    use a CSS rule to override the 'outline' property. Be aware, however, that if an alternative
-    focusing style isn't made available instead, the page will be significantly less usable for
-    people who primarily navigate pages using a keyboard, or those with reduced vision who use focus
-    outlines to help them navigate the page.&lt;/p&gt;
+    use a CSS rule to override the 'outline' property, and provide a different way to show what
+    element is focused. Be aware that if an alternative focusing style isn't made available, the
+    page will be significantly less usable for people who primarily navigate pages using a keyboard,
+    or those with reduced vision who use focus outlines to help them navigate the page.&lt;/p&gt;
 
     &lt;!-- we suggest using CSS here because users can override CSS, so it's no the end of the world,
     unlike using .blur(), which cannot be easily overridden by users and completely breaks tab
@@ -76470,8 +77006,8 @@
 
     &lt;div class=example&gt;
 
-     &lt;p&gt;For example, to hide the outline from links and instead use a yellow background, you could
-     use:&lt;/p&gt;
+     &lt;p&gt;For example, to hide the outline from links and instead use a yellow background to indicate
+     focus, you could use:&lt;/p&gt;
 
      &lt;pre&gt;:link:focus, :visited:focus { outline: none; background: yellow; color: black; }&lt;/pre&gt;
 
@@ -76481,9 +77017,95 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-focus title=dom-focus&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run the
-  following algorithm:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-document-activeelement title=dom-document-activeElement&gt;&lt;code&gt;activeElement&lt;/code&gt;&lt;/dfn&gt; attribute on
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return the value returned by the following steps:&lt;/p&gt;
 
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; on which the method was
+   invoked.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; with a designated
+   &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the
+   designated &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;, and redo this step.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a non-empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the designated &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control
+   group&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;'s &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#the-body-element-0 title=&quot;the
+    body element&quot;&gt;body element&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be &lt;a href=#the-body-element-0&gt;the body
+    element&lt;/a&gt; of that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#root-element&gt;root
+    element&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;a href=#root-element&gt;root element&lt;/a&gt; of that
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be null.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-document-hasfocus title=dom-document-hasFocus&gt;&lt;code&gt;hasFocus()&lt;/code&gt;&lt;/dfn&gt; method on
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return true the value returned by the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target&lt;/var&gt; be the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; on which the method was
+   invoked.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the &lt;a href=#top-level-browsing-context&gt;top-level
+   browsing context&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; is &lt;var title=&quot;&quot;&gt;target&lt;/var&gt;, return true and abort
+   these steps.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; with a designated &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused
+    dialog of the dialog group&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the designated
+    &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;, and redo this step.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a non-empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, and the
+    designated &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt; is a &lt;a href=#browsing-context-container&gt;browsing context
+    container&lt;/a&gt;, and the &lt;a href=#active-document&gt;active document&lt;/a&gt; of that &lt;a href=#browsing-context-container&gt;browsing context
+    container&lt;/a&gt;'s &lt;a href=#nested-browsing-context&gt;nested browsing context&lt;/a&gt; is &lt;var title=&quot;&quot;&gt;target&lt;/var&gt;, then
+    return true and abort these steps.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a non-empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, and the
+    designated &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt; is a &lt;a href=#browsing-context-container&gt;browsing context
+    container&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;a href=#active-document&gt;active document&lt;/a&gt; of
+    that &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt;'s &lt;a href=#nested-browsing-context&gt;nested browsing context&lt;/a&gt;, and redo
+    this step.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, return false and abort these steps.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-window-focus title=dom-window-focus&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method on &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
+  object, when invoked, must run the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; with the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
+  object's &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;. Additionally, if this &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; is a
+  &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt;, user agents are encouraged to trigger some sort of
+  notification to indicate to the user that the page is attempting to gain focus.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-window-blur title=dom-window-blur&gt;&lt;code&gt;blur()&lt;/code&gt;&lt;/dfn&gt; method on the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
+  object, when invoked, provides a hint to the user agent that the script believes the user probably
+  is not currently interested in the contents of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; of the
+  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the method was invoked, but that the contents might become
+  interesting again in the future.&lt;/p&gt;
+
+  &lt;p&gt;User agents are encouraged to ignore calls to this &lt;code title=dom-window-blur&gt;&lt;a href=#dom-window-blur&gt;blur()&lt;/a&gt;&lt;/code&gt;
+  method entirely.&lt;/p&gt;
+
+  &lt;p class=note&gt;Historically, the &lt;code title=dom-window-blur&gt;&lt;a href=#dom-window-blur&gt;focus()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-window-blur&gt;&lt;a href=#dom-window-blur&gt;blur()&lt;/a&gt;&lt;/code&gt; methods actually affected the system-level focus of the
+  system widget (e.g. tab or window) that contained the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, but hostile
+  sites widely abuse this behavior to the user's detriment.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-focus title=dom-focus&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method on elements, when invoked, must
+  run the following algorithm:&lt;/p&gt;
+
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the element is marked as &lt;i&gt;&lt;a href=#locked-for-focus&gt;locked for focus&lt;/a&gt;&lt;/i&gt;, then abort these steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Mark the element as &lt;dfn id=locked-for-focus&gt;locked for focus&lt;/dfn&gt;.&lt;/li&gt;
@@ -76493,8 +77115,8 @@
    &lt;li&gt;&lt;p&gt;Unmark the element as &lt;i&gt;&lt;a href=#locked-for-focus&gt;locked for focus&lt;/a&gt;&lt;/i&gt;.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-blur title=dom-blur&gt;&lt;code&gt;blur()&lt;/code&gt;&lt;/dfn&gt; method, when invoked, should run the
-  &lt;a href=#unfocusing-steps&gt;unfocusing steps&lt;/a&gt; for the element on which the method was called instead. User agents
-  may selectively or uniformly ignore calls to this method for usability reasons.&lt;/p&gt;
+  &lt;a href=#unfocusing-steps&gt;unfocusing steps&lt;/a&gt; for the element on which the method was called. User agents may
+  selectively or uniformly ignore calls to this method for usability reasons.&lt;/p&gt;
 
   &lt;p class=example&gt;For example, if the &lt;code title=dom-blur&gt;&lt;a href=#dom-blur&gt;blur()&lt;/a&gt;&lt;/code&gt; method is unwisely
   being used to remove the focus ring for aesthetics reasons, the page would become unusable by
@@ -76502,13 +77124,14 @@
   page.&lt;/p&gt;
 
   &lt;/div&gt;
+
+
 &lt;!--TOPIC:HTML--&gt;
 
 
-
   &lt;h3 id=assigning-keyboard-shortcuts&gt;&lt;span class=secno&gt;8.5 &lt;/span&gt;Assigning keyboard shortcuts&lt;/h3&gt;
 
-  &lt;h4 id=introduction-7&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-8&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -76637,7 +77260,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=processing-model-5&gt;&lt;span class=secno&gt;8.5.3 &lt;/span&gt;Processing model&lt;/h4&gt;
+  &lt;h4 id=processing-model-6&gt;&lt;span class=secno&gt;8.5.3 &lt;/span&gt;Processing model&lt;/h4&gt;
 
   &lt;p&gt;An element's &lt;dfn id=assigned-access-key&gt;assigned access key&lt;/dfn&gt; is a key combination derived from the element's
   &lt;code title=attr-accesskey&gt;&lt;a href=#the-accesskey-attribute&gt;accesskey&lt;/a&gt;&lt;/code&gt; content attribute. Initially, an element must not
@@ -77133,7 +77756,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=introduction-8&gt;&lt;span class=secno&gt;8.7.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-9&gt;&lt;span class=secno&gt;8.7.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -79524,7 +80147,7 @@
   &lt;/ul&gt;&lt;p&gt;These values are not currently exposed on the interface.&lt;/p&gt;
 
 
-  &lt;h4 id=processing-model-6&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;Processing model&lt;/h4&gt;
+  &lt;h4 id=processing-model-7&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;Processing model&lt;/h4&gt;
 
   &lt;p&gt;The resource indicated in the argument to the &lt;code title=dom-EventSource&gt;&lt;a href=#dom-eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt;
   constructor is &lt;a href=#fetch title=fetch&gt;fetched&lt;/a&gt; when the constructor is run.&lt;/p&gt;
@@ -80895,7 +81518,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=introduction-9&gt;&lt;span class=secno&gt;9.4.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-10&gt;&lt;span class=secno&gt;9.4.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -81116,7 +81739,7 @@
 
   &lt;h3 id=channel-messaging&gt;&lt;span class=secno&gt;9.5 &lt;/span&gt;&lt;dfn&gt;Channel messaging&lt;/dfn&gt;&lt;/h3&gt;
 
-  &lt;h4 id=introduction-10&gt;&lt;span class=secno&gt;9.5.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-11&gt;&lt;span class=secno&gt;9.5.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -82118,7 +82741,7 @@
 
 
 
-  &lt;h3 id=introduction-11&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Introduction&lt;/h3&gt;
+  &lt;h3 id=introduction-12&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Introduction&lt;/h3&gt;
 
   &lt;h4 id=scope-0&gt;&lt;span class=secno&gt;10.1.1 &lt;/span&gt;Scope&lt;/h4&gt;
 
@@ -83351,7 +83974,7 @@
   worker&lt;/a&gt; but it is a &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h4 id=processing-model-7&gt;&lt;span class=secno&gt;10.2.4 &lt;/span&gt;Processing model&lt;/h4&gt;
+  &lt;h4 id=processing-model-8&gt;&lt;span class=secno&gt;10.2.4 &lt;/span&gt;Processing model&lt;/h4&gt;
 
   &lt;p&gt;When a user agent is to &lt;dfn id=run-a-worker&gt;run a worker&lt;/dfn&gt; for a script with &lt;a href=#url&gt;URL&lt;/a&gt; &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; and a &lt;a href=#script-settings-object&gt;script settings object&lt;/a&gt; &lt;var title=&quot;&quot;&gt;settings
   object&lt;/var&gt;, it must run the following steps:&lt;/p&gt;
@@ -84140,7 +84763,7 @@
 
 
 
-  &lt;h3 id=introduction-12&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Introduction&lt;/h3&gt;
+  &lt;h3 id=introduction-13&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Introduction&lt;/h3&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -94397,7 +95020,7 @@
   section has the same conformance implications as the RFC2119-defined term &quot;must&quot;.&lt;/i&gt;&lt;/p&gt;
 
 
-  &lt;h3 id=introduction-13&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;Introduction&lt;/h3&gt;
+  &lt;h3 id=introduction-14&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;Introduction&lt;/h3&gt;
 
   &lt;p&gt;In general, user agents are expected to support CSS, and many of the suggestions in this
   section are expressed in CSS terms. User agents that use other presentation mechanisms can derive
@@ -95937,7 +96560,7 @@
 
   &lt;h3 id=bindings&gt;&lt;span class=secno&gt;14.5 &lt;/span&gt;Bindings&lt;/h3&gt; &lt;!-- a binding --&gt;
 
-  &lt;h4 id=introduction-14&gt;&lt;span class=secno&gt;14.5.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-15&gt;&lt;span class=secno&gt;14.5.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;A number of elements have their rendering defined in terms of the 'binding' property. &lt;a href=#refsBECSS&gt;[BECSS]&lt;/a&gt;&lt;/p&gt;
 
@@ -96812,10 +97435,11 @@
   &lt;p&gt;User agents are expected to expose the &lt;a href=#advisory-information&gt;advisory information&lt;/a&gt; of elements upon user
   request, and to make the user aware of the presence of such information.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p&gt;On interactive graphical systems where the user can use a pointing device, this could take the
   form of a tooltip. When the user is unable to use a pointing device, then the user agent is
-  expected to make the content available in some other fashion, e.g. by making the element focusable
-  and always displaying the &lt;a href=#advisory-information&gt;advisory information&lt;/a&gt; of the currently focused element, or
+  expected to make the content available in some other fashion, e.g. by making the element a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;
+  and always displaying the &lt;a href=#advisory-information&gt;advisory information&lt;/a&gt; of the currently &lt;a href=#focused&gt;focused&lt;/a&gt; element, or
   by showing the &lt;a href=#advisory-information&gt;advisory information&lt;/a&gt; of the elements under the user's finger on a
   touch device as the user pans around the screen.&lt;/p&gt;
 
@@ -96826,7 +97450,7 @@
 
   &lt;div class=example&gt;
 
-   &lt;p&gt;For example, a visual user agent could make elements with a &lt;code title=attr-title&gt;&lt;a href=#attr-title&gt;title&lt;/a&gt;&lt;/code&gt; attribute focusable, and could make any focused element with a
+   &lt;p&gt;For example, a visual user agent could make elements with a &lt;code title=attr-title&gt;&lt;a href=#attr-title&gt;title&lt;/a&gt;&lt;/code&gt; attribute &lt;a href=#focusable-area title=&quot;focusable area&quot;&gt;focusable&lt;/a&gt;, and could make any &lt;a href=#focused&gt;focused&lt;/a&gt; element with a
    &lt;code title=attr-title&gt;&lt;a href=#attr-title&gt;title&lt;/a&gt;&lt;/code&gt; attribute show its tooltip under the element while the
    element has focus. This would allow a user to tab around the document to find all the advisory
    text.&lt;/p&gt;
@@ -97006,7 +97630,7 @@
    &lt;li&gt;None of the elements in the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; have any &lt;a href=#presentational-hints&gt;presentational hints&lt;/a&gt;.
    &lt;li&gt;None of the elements in the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; have any &lt;a href=#css-styling-attribute title=&quot;CSS styling attribute&quot;&gt;CSS styling attributes&lt;/a&gt;.
    &lt;li&gt;None of the elements in the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; are in any of the following namespaces: &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, &lt;a href=#svg-namespace&gt;SVG namespace&lt;/a&gt;, &lt;a href=#mathml-namespace&gt;MathML namespace&lt;/a&gt;
-   &lt;li&gt;The &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has no &lt;a href=#focusable&gt;focusable&lt;/a&gt; elements (e.g. from XLink).
+   &lt;li&gt;The &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has no &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; (e.g. from XLink) other than the viewport.
    &lt;li&gt;The &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has no &lt;a href=#hyperlink title=hyperlink&gt;hyperlinks&lt;/a&gt; (e.g. from XLink).
    &lt;li&gt;There exists no &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; whose &lt;a href=#settings-object&gt;settings object&lt;/a&gt; specifies this &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; as the &lt;a href=#responsible-document&gt;responsible document&lt;/a&gt;.
    &lt;li&gt;None of the elements in the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; have any registered event listeners.
@@ -102475,7 +103099,7 @@
     &lt;tr&gt;&lt;!-- blur --&gt;&lt;td&gt; &lt;dfn id=event-blur title=event-blur&gt;&lt;code&gt;blur&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#event&gt;Event&lt;/a&gt;&lt;/code&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;, elements
-     &lt;td&gt; Fired at nodes losing focus &lt;!-- XXX bug 23475 --&gt;
+     &lt;td&gt; Fired at nodes when they stop being &lt;a href=#focused&gt;focused&lt;/a&gt;
 
     &lt;tr&gt;&lt;!-- cancel --&gt;&lt;td&gt; &lt;dfn id=event-cancel title=event-cancel&gt;&lt;code&gt;cancel&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#event&gt;Event&lt;/a&gt;&lt;/code&gt;
@@ -102515,7 +103139,7 @@
     &lt;tr&gt;&lt;!-- focus --&gt;&lt;td&gt; &lt;dfn id=event-focus title=event-focus&gt;&lt;code&gt;focus&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#event&gt;Event&lt;/a&gt;&lt;/code&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;, elements
-     &lt;td&gt; Fired at nodes gaining focus &lt;!-- XXX bug 23475 --&gt;
+     &lt;td&gt; Fired at nodes &lt;a href=#gains-focus title=&quot;gains focus&quot;&gt;gaining focus&lt;/a&gt;
 
     &lt;tr&gt;&lt;!-- hashchange --&gt;&lt;td&gt; &lt;dfn id=event-hashchange title=event-hashchange&gt;&lt;code&gt;hashchange&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#hashchangeevent&gt;HashChangeEvent&lt;/a&gt;&lt;/code&gt;

Modified: index
===================================================================
--- index	2014-02-11 20:54:28 UTC (rev 8477)
+++ index	2014-02-19 22:39:15 UTC (rev 8478)
@@ -298,7 +298,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> class=logo&gt;&lt;img width=101 src=/images/logo alt=WHATWG height=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 11 February 2014&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 19 February 2014&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -1074,15 +1074,16 @@
    &lt;li&gt;&lt;a href=#activation&gt;&lt;span class=secno&gt;8.3 &lt;/span&gt;Activation&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#focus&gt;&lt;span class=secno&gt;8.4 &lt;/span&gt;Focus&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#sequential-focus-navigation-and-the-tabindex-attribute&gt;&lt;span class=secno&gt;8.4.1 &lt;/span&gt;Sequential focus navigation and the &lt;code title=attr-tabindex&gt;tabindex&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#focus-management&gt;&lt;span class=secno&gt;8.4.2 &lt;/span&gt;Focus management&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#document-level-focus-apis&gt;&lt;span class=secno&gt;8.4.3 &lt;/span&gt;Document-level focus APIs&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#element-level-focus-apis&gt;&lt;span class=secno&gt;8.4.4 &lt;/span&gt;Element-level focus APIs&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#introduction-7&gt;&lt;span class=secno&gt;8.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#data-model&gt;&lt;span class=secno&gt;8.4.2 &lt;/span&gt;Data model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#sequential-focus-navigation-and-the-tabindex-attribute&gt;&lt;span class=secno&gt;8.4.3 &lt;/span&gt;Sequential focus navigation and the &lt;code title=attr-tabindex&gt;tabindex&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#processing-model-5&gt;&lt;span class=secno&gt;8.4.4 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#focus-management-apis&gt;&lt;span class=secno&gt;8.4.5 &lt;/span&gt;Focus management APIs&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#assigning-keyboard-shortcuts&gt;&lt;span class=secno&gt;8.5 &lt;/span&gt;Assigning keyboard shortcuts&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-7&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#introduction-8&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-accesskey-attribute&gt;&lt;span class=secno&gt;8.5.2 &lt;/span&gt;The &lt;code&gt;accesskey&lt;/code&gt; attribute&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#processing-model-5&gt;&lt;span class=secno&gt;8.5.3 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#processing-model-6&gt;&lt;span class=secno&gt;8.5.3 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#editing-0&gt;&lt;span class=secno&gt;8.6 &lt;/span&gt;Editing&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#contenteditable&gt;&lt;span class=secno&gt;8.6.1 &lt;/span&gt;Making document regions editable: The &lt;code title=attr-contenteditable&gt;contenteditable&lt;/code&gt; content attribute&lt;/a&gt;&lt;/li&gt;
@@ -1092,7 +1093,7 @@
      &lt;li&gt;&lt;a href=#spelling-and-grammar-checking&gt;&lt;span class=secno&gt;8.6.5 &lt;/span&gt;Spelling and grammar checking&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#dnd&gt;&lt;span class=secno&gt;8.7 &lt;/span&gt;Drag and drop&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-8&gt;&lt;span class=secno&gt;8.7.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#introduction-9&gt;&lt;span class=secno&gt;8.7.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-drag-data-store&gt;&lt;span class=secno&gt;8.7.2 &lt;/span&gt;The drag data store&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-datatransfer-interface&gt;&lt;span class=secno&gt;8.7.3 &lt;/span&gt;The &lt;code&gt;DataTransfer&lt;/code&gt; interface&lt;/a&gt;
       &lt;ol&gt;
@@ -1111,7 +1112,7 @@
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#server-sent-events-intro&gt;&lt;span class=secno&gt;9.2.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-eventsource-interface&gt;&lt;span class=secno&gt;9.2.2 &lt;/span&gt;The &lt;code&gt;EventSource&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#processing-model-6&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#processing-model-7&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#parsing-an-event-stream&gt;&lt;span class=secno&gt;9.2.4 &lt;/span&gt;Parsing an event stream&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#event-stream-interpretation&gt;&lt;span class=secno&gt;9.2.5 &lt;/span&gt;Interpreting an event stream&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#authoring-notes&gt;&lt;span class=secno&gt;9.2.6 &lt;/span&gt;Authoring notes&lt;/a&gt;&lt;/li&gt;
@@ -1133,7 +1134,7 @@
      &lt;li&gt;&lt;a href=#garbage-collection-1&gt;&lt;span class=secno&gt;9.3.7 &lt;/span&gt;Garbage collection&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#web-messaging&gt;&lt;span class=secno&gt;9.4 &lt;/span&gt;Cross-document messaging&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-9&gt;&lt;span class=secno&gt;9.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#introduction-10&gt;&lt;span class=secno&gt;9.4.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#security-postmsg&gt;&lt;span class=secno&gt;9.4.2 &lt;/span&gt;Security&lt;/a&gt;
       &lt;ol&gt;
        &lt;li&gt;&lt;a href=#authors&gt;&lt;span class=secno&gt;9.4.2.1 &lt;/span&gt;Authors&lt;/a&gt;&lt;/li&gt;
@@ -1141,7 +1142,7 @@
      &lt;li&gt;&lt;a href=#posting-messages&gt;&lt;span class=secno&gt;9.4.3 &lt;/span&gt;Posting messages&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#channel-messaging&gt;&lt;span class=secno&gt;9.5 &lt;/span&gt;Channel messaging&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-10&gt;&lt;span class=secno&gt;9.5.1 &lt;/span&gt;Introduction&lt;/a&gt;
+     &lt;li&gt;&lt;a href=#introduction-11&gt;&lt;span class=secno&gt;9.5.1 &lt;/span&gt;Introduction&lt;/a&gt;
       &lt;ol&gt;
        &lt;li&gt;&lt;a href=#examples-4&gt;&lt;span class=secno&gt;9.5.1.1 &lt;/span&gt;Examples&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=#ports-as-the-basis-of-an-object-capability-model-on-the-web&gt;&lt;span class=secno&gt;9.5.1.2 &lt;/span&gt;Ports as the basis of an object-capability model on the Web&lt;/a&gt;&lt;/li&gt;
@@ -1153,7 +1154,7 @@
    &lt;li&gt;&lt;a href=#broadcasting-to-other-browsing-contexts&gt;&lt;span class=secno&gt;9.6 &lt;/span&gt;Broadcasting to other browsing contexts&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=#workers&gt;&lt;span class=secno&gt;10 &lt;/span&gt;Web workers&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#introduction-11&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Introduction&lt;/a&gt;
+   &lt;li&gt;&lt;a href=#introduction-12&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Introduction&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#scope-0&gt;&lt;span class=secno&gt;10.1.1 &lt;/span&gt;Scope&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#examples-5&gt;&lt;span class=secno&gt;10.1.2 &lt;/span&gt;Examples&lt;/a&gt;
@@ -1177,7 +1178,7 @@
        &lt;li&gt;&lt;a href=#shared-workers-and-the-sharedworkerglobalscope-interface&gt;&lt;span class=secno&gt;10.2.1.3 &lt;/span&gt;Shared workers and the &lt;code&gt;SharedWorkerGlobalScope&lt;/code&gt; interface&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#worker-event-loop&gt;&lt;span class=secno&gt;10.2.2 &lt;/span&gt;The event loop&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#the-worker's-lifetime&quot;&gt;&lt;span class=secno&gt;10.2.3 &lt;/span&gt;The worker's lifetime&lt;/a&gt;&lt;/li&gt;
-     &lt;li&gt;&lt;a href=#processing-model-7&gt;&lt;span class=secno&gt;10.2.4 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#processing-model-8&gt;&lt;span class=secno&gt;10.2.4 &lt;/span&gt;Processing model&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#runtime-script-errors-0&gt;&lt;span class=secno&gt;10.2.5 &lt;/span&gt;Runtime script errors&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#creating-workers&gt;&lt;span class=secno&gt;10.2.6 &lt;/span&gt;Creating workers&lt;/a&gt;
       &lt;ol&gt;
@@ -1192,7 +1193,7 @@
      &lt;li&gt;&lt;a href=#worker-locations&gt;&lt;span class=secno&gt;10.3.3 &lt;/span&gt;Worker locations&lt;/a&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=#webstorage&gt;&lt;span class=secno&gt;11 &lt;/span&gt;Web storage&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#introduction-12&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#introduction-13&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#storage&gt;&lt;span class=secno&gt;11.2 &lt;/span&gt;The API&lt;/a&gt;
     &lt;ol&gt;
      &lt;li&gt;&lt;a href=#the-storage-interface&gt;&lt;span class=secno&gt;11.2.1 &lt;/span&gt;The &lt;code&gt;Storage&lt;/code&gt; interface&lt;/a&gt;&lt;/li&gt;
@@ -1371,7 +1372,7 @@
    &lt;li&gt;&lt;a href=#parsing-xhtml-fragments&gt;&lt;span class=secno&gt;13.4 &lt;/span&gt;Parsing XHTML fragments&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=#rendering&gt;&lt;span class=secno&gt;14 &lt;/span&gt;Rendering&lt;/a&gt;
   &lt;ol&gt;
-   &lt;li&gt;&lt;a href=#introduction-13&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;a href=#introduction-14&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#the-css-user-agent-style-sheet-and-presentational-hints&gt;&lt;span class=secno&gt;14.2 &lt;/span&gt;The CSS user agent style sheet and presentational hints&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#non-replaced-elements&gt;&lt;span class=secno&gt;14.3 &lt;/span&gt;Non-replaced elements&lt;/a&gt;
     &lt;ol&gt;
@@ -1396,7 +1397,7 @@
      &lt;li&gt;&lt;a href=#image-maps-0&gt;&lt;span class=secno&gt;14.4.4 &lt;/span&gt;Image maps&lt;/a&gt;&lt;/ol&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=#bindings&gt;&lt;span class=secno&gt;14.5 &lt;/span&gt;Bindings&lt;/a&gt;
     &lt;ol&gt;
-     &lt;li&gt;&lt;a href=#introduction-14&gt;&lt;span class=secno&gt;14.5.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
+     &lt;li&gt;&lt;a href=#introduction-15&gt;&lt;span class=secno&gt;14.5.1 &lt;/span&gt;Introduction&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-button-element-0&gt;&lt;span class=secno&gt;14.5.2 &lt;/span&gt;The &lt;code&gt;button&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-details-element-0&gt;&lt;span class=secno&gt;14.5.3 &lt;/span&gt;The &lt;code&gt;details&lt;/code&gt; element&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=#the-input-element-as-a-text-entry-widget&gt;&lt;span class=secno&gt;14.5.4 &lt;/span&gt;The &lt;code&gt;input&lt;/code&gt; element as a text entry widget&lt;/a&gt;&lt;/li&gt;
@@ -31924,7 +31925,8 @@
 
   &lt;p class=note&gt;Because a &lt;code&gt;&lt;a href=#the-map-element&gt;map&lt;/a&gt;&lt;/code&gt; element (and its &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; elements) can be
   associated with multiple &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; and &lt;code&gt;&lt;a href=#the-object-element&gt;object&lt;/a&gt;&lt;/code&gt; elements, it is possible for an
-  &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element to correspond to multiple focusable areas of the document.&lt;/p&gt;
+  &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element to correspond to multiple &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt;
+  of the document.&lt;/p&gt;
 
   &lt;p&gt;Image maps are &lt;a href=#live&gt;live&lt;/a&gt;; if the DOM is mutated, then the user agent must act as if it
   had rerun the algorithms for image maps.&lt;/p&gt;
@@ -43484,7 +43486,7 @@
   attribute specified, authors should include a &lt;dfn id=attr-input-title title=attr-input-title&gt;&lt;code&gt;title&lt;/code&gt;&lt;/dfn&gt; attribute to give a description of the pattern.
   User agents may use the contents of this attribute, if it is present, when informing the user that
   the pattern is not matched, or at any other suitable time, such as in a tooltip or read out by
-  assistive technology when the control gains focus.&lt;/p&gt;
+  assistive technology when the control &lt;a href=#gains-focus&gt;gains focus&lt;/a&gt;.&lt;/p&gt;
 
   &lt;div class=example&gt;
    &lt;p&gt;For example, the following snippet:&lt;/p&gt;
@@ -43941,7 +43943,7 @@
   &lt;div class=impl&gt;
 
   &lt;p&gt;User agents should present this hint to the user, after having &lt;a href=#strip-line-breaks title=&quot;strip line
-  breaks&quot;&gt;stripped line breaks&lt;/a&gt; from it, when the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; is the empty string or the control is not focused (or both),
+  breaks&quot;&gt;stripped line breaks&lt;/a&gt; from it, when the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; is the empty string or the control is not &lt;a href=#focused&gt;focused&lt;/a&gt; (or both),
   e.g. by displaying it inside a blank unfocused control and hiding it otherwise.&lt;/p&gt;
 
   &lt;/div&gt;
@@ -44306,13 +44308,14 @@
 
   &lt;h5 id=common-input-element-events&gt;&lt;span class=secno&gt;4.10.5.5 &lt;/span&gt;Common event behaviors&lt;/h5&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p&gt;When the &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt;
   events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt; (which is the case for all
   &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; controls other than &lt;a href=#concept-button title=concept-button&gt;buttons&lt;/a&gt; and those with
   the &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute in the &lt;a href=&quot;#hidden-state-(type=hidden)&quot; title=attr-input-type-hidden&gt;Hidden&lt;/a&gt; state), the events are fired to indicate that the
   user has interacted with the control. The &lt;dfn id=event-input-input title=event-input-input&gt;&lt;code&gt;input&lt;/code&gt;&lt;/dfn&gt;
   event fires whenever the user has modified the data of the control. The &lt;dfn id=event-input-change title=event-input-change&gt;&lt;code&gt;change&lt;/code&gt;&lt;/dfn&gt; event fires when the value is committed, if
-  that makes sense for the control, or else when the control loses focus. In all cases, the &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; event comes before the corresponding &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event (if any).&lt;/p&gt;
+  that makes sense for the control, or else when the control &lt;a href=#unfocus-causes-change-event&gt;loses focus&lt;/a&gt;. In all cases, the &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; event comes before the corresponding &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event (if any).&lt;/p&gt;
 
   &lt;p&gt;When an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element has a defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, the rules
   for dispatching these events, if they &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;, are given
@@ -44343,10 +44346,11 @@
   simple event&lt;/a&gt; that bubbles named &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; at the
   &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p class=example&gt;An example of a user interface with a commit action would be a &lt;a href=&quot;#color-state-(type=color)&quot; title=attr-input-type-color&gt;Color&lt;/a&gt; control that consists of a single button that brings
   up a color wheel: if the &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; only changes when the dialog
-  is closed, then that would be the explicit commit action. On the other hand, if the control can be
-  focused and manipulating the control changes the color interactively, then there might be no
+  is closed, then that would be the explicit commit action. On the other hand, if
+  manipulating the control changes the color interactively, then there might be no
   commit action.&lt;/p&gt;
 
   &lt;p class=example&gt;Another example of a user interface with a commit action would be a &lt;a href=&quot;#date-state-(type=date)&quot; title=attr-input-type-date&gt;Date&lt;/a&gt; control that allows both text-based user input and user
@@ -44360,15 +44364,16 @@
   action, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that
   bubbles named &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element. The
   corresponding &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event, if any, will be fired when the
-  control &lt;a href=#unfocusing-steps title=&quot;unfocusing steps&quot;&gt;loses focus&lt;/a&gt;.&lt;/p&gt;
+  control &lt;a href=#unfocus-causes-change-event&gt;loses focus&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p class=example&gt;Examples of a user changing the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; would include the user typing into a text field, pasting a
   new value into the field, or undoing an edit in that field. Some user interactions do not cause
   changes to the value, e.g. hitting the &quot;delete&quot; key in an empty text field, or replacing some text
   in the field with text from the clipboard that happens to be exactly the same text.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p class=example&gt;A &lt;a href=&quot;#range-state-(type=range)&quot; title=attr-input-type-range&gt;Range&lt;/a&gt; control in the form of a
-  slider that the user has focused and is interacting with using a keyboard would be another example
+  slider that the user has &lt;a href=#focused&gt;focused&lt;/a&gt; and is interacting with using a keyboard would be another example
   of the user changing the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; without a commit
   step.&lt;/p&gt;
 
@@ -45742,7 +45747,8 @@
 
   &lt;div class=impl&gt;
 
-  &lt;p&gt;User agents should present this hint to the user when the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; is the empty string and the control is not focused (e.g. by
+&lt;!--CLEANUP--&gt;
+  &lt;p&gt;User agents should present this hint to the user when the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; is the empty string and the control is not &lt;a href=#focused&gt;focused&lt;/a&gt; (e.g. by
   displaying it inside a blank unfocused control). All U+000D CARRIAGE RETURN U+000A LINE FEED
   character pairs (CRLF) in the hint, as well as all other U+000D CARRIAGE RETURN (CR) and U+000A
   LINE FEED (LF) characters in the hint, must be treated as line breaks when rendering the hint.
@@ -47588,8 +47594,8 @@
    &lt;li&gt;&lt;p&gt;If the user has indicated (for example, by starting to type in a form control) that he
    does not wish focus to be changed, then optionally abort these steps.&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; that checks to see if the element is &lt;a href=#focusable&gt;focusable&lt;/a&gt;, and
-   if so, runs the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for that element. User agents may also change the
+&lt;!--CLEANUP--&gt;
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; that runs the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for the element. User agents may also change the
    scrolling position of the document, or perform some other action that brings the element to the
    user's attention. The &lt;a href=#task-source&gt;task source&lt;/a&gt; for this task is the &lt;a href=#user-interaction-task-source&gt;user interaction task
    source&lt;/a&gt;.&lt;/li&gt;
@@ -49643,7 +49649,7 @@
   owner&lt;/a&gt; is that &lt;code&gt;&lt;a href=#the-form-element&gt;form&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
   &lt;p&gt;If the user agent supports letting the user submit a form implicitly (for example, on some
-  platforms hitting the &quot;enter&quot; key while a text field is focused implicitly submits the form), then
+  platforms hitting the &quot;enter&quot; key while a text field is &lt;a href=#focused&gt;focused&lt;/a&gt; implicitly submits the form), then
   doing so for a form whose &lt;a href=#default-button&gt;default button&lt;/a&gt; has a defined &lt;a href=#activation-behavior&gt;activation
   behavior&lt;/a&gt; must cause the user agent to &lt;a href=#run-synthetic-click-activation-steps&gt;run synthetic click activation steps&lt;/a&gt; on
   that &lt;a href=#default-button&gt;default button&lt;/a&gt;.&lt;/p&gt;
@@ -51930,8 +51936,7 @@
   &lt;p&gt;The &lt;a href=#command-facet-action title=command-facet-Action&gt;Action&lt;/a&gt; of the command is to run the following
   steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;If the element is &lt;a href=#focusable&gt;focusable&lt;/a&gt;, run the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for the
-   element.&lt;/li&gt;
+  &lt;ol&gt;&lt;li&gt;Run the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for the element.&lt;/li&gt;
 
    &lt;li&gt;If the element has a defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, &lt;a href=#run-synthetic-click-activation-steps&gt;run synthetic click
    activation steps&lt;/a&gt; on the element.&lt;/li&gt;
@@ -52076,21 +52081,25 @@
    &lt;li&gt;&lt;p&gt;Push &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; onto &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;'s
    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#pending-dialog-stack&gt;pending dialog stack&lt;/a&gt;.&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Run the &lt;a href=#dialog-focusing-steps&gt;dialog focusing steps&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dialog-focusing-steps&gt;dialog focusing steps&lt;/dfn&gt; for a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; are as follows:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If for some reason &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; is not a &lt;a href=#control-group-owner&gt;control group owner&lt;/a&gt;
+   at this point, or if it is &lt;a href=#inert&gt;inert&lt;/a&gt;, abort these steps.&lt;/li&gt;
+
    &lt;li&gt;
 
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; be the first element in tree order that has an &lt;code title=attr-fe-autofocus&gt;&lt;a href=#attr-fe-autofocus&gt;autofocus&lt;/a&gt;&lt;/code&gt; attribute specified and whose nearest ancestor
-    &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element is &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;, if any.&lt;/p&gt;
+    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; be the first non-&lt;a href=#inert&gt;inert&lt;/a&gt; &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; in
+    &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;'s &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; has an &lt;code title=attr-fe-autofocus&gt;&lt;a href=#attr-fe-autofocus&gt;autofocus&lt;/a&gt;&lt;/code&gt; attribute specified.&lt;/p&gt;
 
-    &lt;p&gt;If there isn't one, then let &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; be the first element in tree order
-    that is &lt;a href=#focusable&gt;focusable&lt;/a&gt; and whose nearest ancestor &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element is &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;, if any.&lt;/p&gt;
+    &lt;p&gt;If there isn't one, then let &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; be the first non-&lt;a href=#inert&gt;inert&lt;/a&gt;
+    &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; in &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;'s &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If there isn't one of those either but &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; itself is
-    &lt;a href=#focusable&gt;focusable&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;. (This is unusual.)&lt;/p&gt;
+    &lt;p&gt;If there isn't one of those either, then let &lt;var title=&quot;&quot;&gt;control&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If there is no &lt;var title=&quot;&quot;&gt;control&lt;/var&gt;, then abort these steps.&lt;/li&gt;
-
    &lt;li&gt;&lt;p&gt;Run the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;control&lt;/var&gt;.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;p&gt;If at any time a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element is &lt;a href=#remove-an-element-from-a-document title=&quot;remove an element from a
@@ -53967,12 +53976,16 @@
   &lt;!-- CANVAS-FOCUS-FALLBACK --&gt;
   &lt;p&gt;When a &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element &lt;a href=#represents&gt;represents&lt;/a&gt; &lt;a href=#embedded-content&gt;embedded content&lt;/a&gt;, the
   user can still focus descendants of the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element (in the &lt;a href=#fallback-content&gt;fallback
-  content&lt;/a&gt;). When an element is focused, it is the target of keyboard interaction events (even
+  content&lt;/a&gt;). When an element is &lt;a href=#focused&gt;focused&lt;/a&gt;, it is the target of keyboard interaction events (even
   though the element itself is not visible). This allows authors to make an interactive canvas
-  keyboard-accessible: authors should have a one-to-one mapping of interactive regions to focusable
-  elements in the &lt;a href=#fallback-content&gt;fallback content&lt;/a&gt;. (Focus has no effect on mouse interaction events.)
+  keyboard-accessible: authors should have a one-to-one mapping of interactive regions to &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable
+  areas&lt;/a&gt;&lt;/i&gt; in the &lt;a href=#fallback-content&gt;fallback content&lt;/a&gt;. (Focus has no effect on mouse interaction events.)
   &lt;a href=#refsDOMEVENTS&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt; &lt;!-- user interaction spec integration point --&gt;
 
+  &lt;p&gt;An element whose nearest &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element ancestor is &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt;
+  and &lt;a href=#represents&gt;represents&lt;/a&gt; &lt;a href=#embedded-content&gt;embedded content&lt;/a&gt; is an element that is &lt;dfn id=being-used-as-relevant-canvas-fallback-content&gt;being used as
+  relevant canvas fallback content&lt;/dfn&gt;.&lt;/p&gt;
+
   &lt;hr&gt;&lt;p&gt;The &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element has two attributes to control the size of the element's bitmap:
   &lt;dfn id=attr-canvas-width title=attr-canvas-width&gt;&lt;code&gt;width&lt;/code&gt;&lt;/dfn&gt; and &lt;dfn id=attr-canvas-height title=attr-canvas-height&gt;&lt;code&gt;height&lt;/code&gt;&lt;/dfn&gt;. These attributes, when specified, must have
   values that are &lt;a href=#valid-non-negative-integer title=&quot;valid non-negative integer&quot;&gt;valid non-negative integers&lt;/a&gt;. &lt;span class=impl&gt;The &lt;a href=#rules-for-parsing-non-negative-integers&gt;rules for parsing non-negative integers&lt;/a&gt; must be used to obtain their
@@ -57787,7 +57800,8 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;If the given element is focused, draws a focus ring around the &lt;a href=#current-default-path&gt;current default
+&lt;!--CLEANUP--&gt;
+    &lt;p&gt;If the given element is &lt;a href=#focused&gt;focused&lt;/a&gt;, draws a focus ring around the &lt;a href=#current-default-path&gt;current default
     path&lt;/a&gt; or the given path, following the platform conventions for focus rings.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -57798,11 +57812,12 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;If the given element is focused, and the user has configured his system to draw focus rings
+&lt;!--CLEANUP--&gt;
+    &lt;p&gt;If the given element is &lt;a href=#focused&gt;focused&lt;/a&gt;, and the user has configured his system to draw focus rings
     in a particular manner (for example, high contrast focus rings), draws a focus ring around the
     &lt;a href=#current-default-path&gt;current default path&lt;/a&gt; or the given path and returns false.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, returns true if the given element is focused, and false otherwise. This can thus
+    &lt;p&gt;Otherwise, returns true if the given element is &lt;a href=#focused&gt;focused&lt;/a&gt;, and false otherwise. This can thus
     be used to determine when to draw a focus ring (see &lt;a href=#drawCustomFocusRingExample&gt;the
     example&lt;/a&gt; below).&lt;/p&gt;
 
@@ -57903,7 +57918,7 @@
 
   &lt;hr&gt;&lt;p id=dom-context-2d-drawosfocusring&gt;The &lt;dfn id=dom-context-2d-drawsystemfocusring title=dom-context-2d-drawSystemFocusRing&gt;&lt;code&gt;drawSystemFocusRing(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is not focused or is not a descendant of the element with
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is not &lt;a href=#focused&gt;focused&lt;/a&gt; or is not a descendant of the element with
    whose context the method is associated, then abort these steps.&lt;/li&gt;
 
    &lt;li&gt;
@@ -57947,7 +57962,7 @@
 
   &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-context-2d-drawcustomfocusring title=dom-context-2d-drawCustomFocusRing&gt;&lt;code&gt;drawCustomFocusRing(&lt;var title=&quot;&quot;&gt;element&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is not focused or is not a descendant of the element with
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;element&lt;/var&gt; is not &lt;a href=#focused&gt;focused&lt;/a&gt; or is not a descendant of the element with
    whose context the method is associated, then return false and abort these steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; be true.&lt;/li&gt;
@@ -58837,13 +58852,14 @@
   that given by the &lt;a href=&quot;#hit-region's-aria-role&quot;&gt;hit region's ARIA role&lt;/a&gt;, and whose textual representation, if any,
   is given by the &lt;a href=&quot;#hit-region's-label&quot;&gt;hit region's label&lt;/a&gt;.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p class=note&gt;Thus, for instance, a user agent on a touch-screen device could provide haptic
   feedback when the user croses over a &lt;a href=&quot;#hit-region's-bounding-circumference&quot;&gt;hit region's bounding circumference&lt;/a&gt;, and then
   read the &lt;a href=&quot;#hit-region's-label&quot;&gt;hit region's label&lt;/a&gt; to the user. Similarly, a desktop user agent with a
   virtual accessibility focus separate from the keyboard input focus could allow the user to
   navigate through the hit regions, using the virtual DOM tree described above to enable
-  hierarchical navigation. When an interactive control inside the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element is
-  focused, if the control has a corresponding region, then that &lt;a href=&quot;#hit-region's-bounding-circumference&quot;&gt;hit region's bounding
+  hierarchical navigation. When an interactive control inside the &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element
+  &lt;a href=#gains-focus&gt;gains focus&lt;/a&gt;, if the control has a corresponding region, then that &lt;a href=&quot;#hit-region's-bounding-circumference&quot;&gt;hit region's bounding
   circumference&lt;/a&gt; could be used to determine what area of the display to magnify.&lt;/p&gt;
 
   &lt;/div&gt;
@@ -59440,12 +59456,13 @@
   &lt;p&gt;When a canvas is interactive, authors should include focusable elements in the element's
   fallback content corresponding to each focusable part of the canvas, as in the &lt;a href=#drawCustomFocusRingExample&gt;example above&lt;/a&gt;.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p&gt;To expose text and interactive content on a &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; to users of accessibility
   tools, authors should use the &lt;code title=dom-context-2d-addHitRegion&gt;&lt;a href=#dom-context-2d-addhitregion&gt;addHitRegion()&lt;/a&gt;&lt;/code&gt;
   API. When rendering focus rings, to ensure that focus rings have the appearance of native focus
   rings, authors should use the &lt;code title=dom-context-2d-drawSystemFocusRing&gt;&lt;a href=#dom-context-2d-drawsystemfocusring&gt;drawSystemFocusRing()&lt;/a&gt;&lt;/code&gt; method, passing it the
   element for which a ring is being drawn. This method only draws the focus ring if the element is
-  focused, so that it can simply be called whenever drawing the element, without checking whether
+  &lt;a href=#focused&gt;focused&lt;/a&gt;, so that it can simply be called whenever drawing the element, without checking whether
   the element is focused or not first.&lt;/p&gt;
 
   &lt;p id=no-text-editing-in-canvas-please&gt;Authors should avoid implementing text editing controls
@@ -60383,8 +60400,8 @@
 
    &lt;li&gt;&lt;code&gt;&lt;a href=#the-fieldset-element&gt;fieldset&lt;/a&gt;&lt;/code&gt; elements that have a &lt;code title=attr-fieldset-disabled&gt;&lt;a href=#attr-fieldset-disabled&gt;disabled&lt;/a&gt;&lt;/code&gt; attribute&lt;/li&gt;
 
-  &lt;/ul&gt;&lt;p class=note&gt;This definition is used to determine what elements can be &lt;a href=#specially-focusable title=&quot;tabindex
-  focus flag&quot;&gt;focused&lt;/a&gt; and which elements match the &lt;code title=selector-disabled&gt;&lt;a href=#selector-disabled&gt;:disabled&lt;/a&gt;&lt;/code&gt; pseudo-class.&lt;/p&gt;
+  &lt;/ul&gt;&lt;!--CLEANUP--&gt;&lt;p class=note&gt;This definition is used to determine what elements &lt;a href=#specially-focusable title=&quot;tabindex
+  focus flag&quot;&gt;can be focused&lt;/a&gt; and which elements match the &lt;code title=selector-disabled&gt;&lt;a href=#selector-disabled&gt;:disabled&lt;/a&gt;&lt;/code&gt; pseudo-class.&lt;/p&gt;
 
 
   &lt;div class=impl&gt;
@@ -60561,6 +60578,19 @@
    &lt;/dd&gt;
 
 
+   &lt;dt&gt;&lt;dfn id=selector-focus title=selector-focus&gt;&lt;code&gt;:focus&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;For the purposes of the CSS ':focus' pseudo-class, an &lt;dfn id=element-has-the-focus&gt;element has the focus&lt;/dfn&gt; when
+    its &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt; has the system focus, it is not itself a
+    &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt;, and it is one of the elements listed in the &lt;a href=#focus-chain&gt;focus
+    chain&lt;/a&gt; of the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context title=&quot;currently focused area of a top-level browsing
+    context&quot;&gt;currently focused area of the top-level browsing context&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
    &lt;dt&gt;&lt;dfn id=selector-enabled title=selector-enabled&gt;&lt;code&gt;:enabled&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -60828,8 +60858,10 @@
   &lt;/dl&gt;&lt;p class=note&gt;Another section of this specification defines the &lt;i&gt;&lt;a href=#target-element&gt;target element&lt;/a&gt;&lt;/i&gt; used with
   the &lt;code title=selector-target&gt;:target&lt;/code&gt; pseudo-class.&lt;/p&gt;
 
-  &lt;p class=note&gt;This specification does not define when an element matches the &lt;code title=selector-focus&gt;:focus&lt;/code&gt; or &lt;code title=selector-lang()&gt;:lang()&lt;/code&gt; dynamic
-  pseudo-classes, as those are all defined in sufficient detail in a language-agnostic fashion in
+&lt;!--CLEANUP--&gt;
+  &lt;p class=note&gt;This specification does not define when an element matches the
+  &lt;code title=selector-lang()&gt;:lang()&lt;/code&gt; dynamic
+  pseudo-class, as it is defined in sufficient detail in a language-agnostic fashion in
   the Selectors specification. &lt;a href=#refsSELECTORS&gt;[SELECTORS]&lt;/a&gt;&lt;/p&gt;
 
 &lt;!--REMOVE-TOPIC:CSS--&gt;
@@ -68497,8 +68529,7 @@
 
    &lt;li&gt;&lt;p&gt;Use the &lt;a href=#scroll-an-element-into-view&gt;scroll an element into view&lt;/a&gt; algorithm to scroll &lt;var title=&quot;&quot;&gt;target&lt;/var&gt; into view, with the &lt;var title=&quot;&quot;&gt;align to top flag&lt;/var&gt; set. &lt;a href=#refsCSSOMVIEW&gt;[CSSOMVIEW]&lt;/a&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;target&lt;/var&gt; is a &lt;a href=#focusable&gt;focusable&lt;/a&gt; element, run the &lt;a href=#focusing-steps&gt;focusing
-   steps&lt;/a&gt; for that element.&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Run the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for that element.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;p&gt;&lt;dfn id=the-indicated-part-of-the-document&gt;The indicated part of the document&lt;/dfn&gt; is the one that the fragment identifier, if any,
   identifies. The semantics of the fragment identifier in terms of mapping it to a specific DOM Node
@@ -75915,8 +75946,7 @@
   no &lt;code title=event-mouseover&gt;&lt;a href=#event-mouseover&gt;mouseover&lt;/a&gt;&lt;/code&gt; event would be fired, and the &lt;code title=event-mousemove&gt;&lt;a href=#event-mousemove&gt;mousemove&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-click&gt;&lt;a href=#event-click&gt;click&lt;/a&gt;&lt;/code&gt; events would
   be fired on the &lt;code&gt;&lt;a href=#the-body-element&gt;body&lt;/a&gt;&lt;/code&gt; element rather than the paragraph.&lt;/p&gt;
 
-  &lt;p class=note&gt;When a node is inert, it also can't be &lt;a href=#focusable&gt;focusable&lt;/a&gt;, and it is disabled
-  if it is a &lt;a href=#concept-command title=concept-command&gt;command&lt;/a&gt;.&lt;/p&gt;
+  &lt;p class=note&gt;When a node is inert, it generally cannot be focused. Inert nodes that are &lt;a href=#concept-command title=concept-command&gt;commands&lt;/a&gt; will also get disabled.&lt;/p&gt;
 
   &lt;p&gt;An entire &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; can be marked as &lt;dfn id=blocked-by-a-modal-dialog&gt;blocked by a modal dialog&lt;/dfn&gt; &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;. While a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is so marked, every node that is &lt;a href=#in-a-document title=&quot;in a Document&quot;&gt;in the &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;, with the exception of the &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; element and its descendants, must be marked &lt;a href=#inert&gt;inert&lt;/a&gt;. (The
   elements excepted by this paragraph can additionally be marked &lt;a href=#inert&gt;inert&lt;/a&gt; through other
@@ -76102,33 +76132,294 @@
        <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onbeforeactivate.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onbeforeactivate.asp</A>
   --&gt;
 
-  &lt;div class=impl&gt;
+  &lt;h4 id=introduction-7&gt;&lt;span class=secno&gt;8.4.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
-  &lt;p&gt;When an element is &lt;i&gt;focused&lt;/i&gt;, key events received by the document must be targeted at that
-  element. There may be no element focused; when no element is focused, key events received by the
-  document must be targeted at &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt;, if there is one, or else at the
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s root element, if there is one. If there is no root element, key events
-  must not be fired.&lt;/p&gt;
+  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
-  &lt;p&gt;User agents may track focus for each &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; or &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
-  individually, or may support only one focused element per &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt;
-  &mdash; user agents should follow platform conventions in this regard.&lt;/p&gt;
+  &lt;p&gt;An HTML user interface typically consists of multiple interactive widgets, such as form
+  controls, scrollable regions, links, dialog boxes, browser tabs, and so forth. These widgets form
+  a hierarchy, with some (e.g. browser tabs, dialog boxes) containing others (e.g. links, form
+  controls).&lt;/p&gt;
 
-  &lt;p&gt;Which elements within a &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt; currently have focus must be
-  independent of whether or not the &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt; itself has the &lt;i&gt;system
-  focus&lt;/i&gt;.&lt;/p&gt;
+  &lt;p&gt;When interacting with an interface using a keyboard, key input is channeled from the system,
+  through the hierarchy of interactive widgets, to an active widget, which is said to be
+  &lt;i title=&quot;&quot;&gt;focused&lt;/i&gt;.&lt;/p&gt;
 
-  &lt;p id=bc-focus-ergo-bcc-focus&gt;When a &lt;a href=#child-browsing-context&gt;child browsing context&lt;/a&gt; is focused, its
-  &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt; must also have focus.&lt;/p&gt;
+  &lt;div class=example&gt;
 
-  &lt;p class=note&gt;When an element is focused, the element matches the CSS &lt;code&gt;:focus&lt;/code&gt;
-  pseudo-class.&lt;/p&gt;
+   &lt;p&gt;Consider an HTML application running in a browser tab running in a graphical environment.
+   Suppose this application had a page with some text fields and links, and was currently showing a
+   modal dialog, which itself had a text field and a button.&lt;/p&gt;
 
+   &lt;p&gt;The hierarchy of focusable widgets, in this scenario, would include the browser window, which
+   would have, amongst its children, the browser tab containing the HTML application. The tab itself
+   would have as its children the various links and text fields, as well as the dialog. The dialog
+   itself would have as its children the text field and the button.&lt;/p&gt;
+
+   &lt;p&gt;&lt;img src=<A HREF="http://images.whatwg.org/focus-tree.png">http://images.whatwg.org/focus-tree.png</A> alt=&quot;&quot;&gt;&lt;!-- purely decorative: it repeats the previous
+   paragraph, in graphical form --&gt;&lt;p&gt;If the widget with &lt;i&gt;focus&lt;/i&gt; in this example was the text field in the dialog box, then key
+   input would be channeled from the graphical system to &amp;#x2460; the Web browser, then to &amp;#x2461;
+   the tab, then to &amp;#x2462; the dialog, and finally to &amp;#x2463; the text field.&lt;/p&gt;
+
   &lt;/div&gt;
 
+  &lt;p&gt;Keyboard &lt;em&gt;events&lt;/em&gt; are always targetted at this &lt;i title=&quot;&quot;&gt;focused&lt;/i&gt; element.&lt;/p&gt;
 
-  &lt;h4 id=sequential-focus-navigation-and-the-tabindex-attribute&gt;&lt;span class=secno&gt;8.4.1 &lt;/span&gt;Sequential focus navigation and the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute&lt;/h4&gt;
 
+  &lt;h4 id=data-model&gt;&lt;span class=secno&gt;8.4.2 &lt;/span&gt;Data model&lt;/h4&gt;
+
+  &lt;p&gt;The term &lt;dfn id=focusable-area&gt;focusable area&lt;/dfn&gt; is used to refer to regions of the interface that can become
+  the target of keyboard input. Focusable areas can be elements, parts of elements, or other regions
+  managed by the user agent.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; has a &lt;dfn id=dom-anchor&gt;DOM anchor&lt;/dfn&gt;, which is a &lt;code&gt;&lt;a href=#node&gt;Node&lt;/a&gt;&lt;/code&gt; object
+  that represents the position of the &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; in the DOM. (When the &lt;i&gt;&lt;a href=#focusable-area&gt;focusable
+  area&lt;/a&gt;&lt;/i&gt; is itself a &lt;code&gt;&lt;a href=#node&gt;Node&lt;/a&gt;&lt;/code&gt;, it is its own &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt;.) The &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; is
+  used in some APIs as a substitute for the &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; when there is no other DOM object
+  to represent the &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The following table describes what objects can be &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable
+  areas&lt;/a&gt;&lt;/i&gt;. The cells in the left column describe objects that can be &lt;i title=&quot;focusable
+  area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt;; the cells in the right column describe the &lt;i title=&quot;DOM anchor&quot;&gt;&lt;a href=#dom-anchor&gt;DOM
+  anchors&lt;/a&gt;&lt;/i&gt; for those elements. (The cells that span both columns are non-normative examples.)&lt;/p&gt;
+
+  &lt;table id=table-fa&gt;&lt;thead&gt;&lt;tr&gt;&lt;th id=th-fa-area&gt;&lt;i&gt;&lt;a href=#focusable-area&gt;Focusable area&lt;/a&gt;&lt;/i&gt;
+     &lt;th id=th-fa-dom-rep&gt;&lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt;
+    &lt;tr&gt;&lt;th colspan=2 id=th-fa-examples&gt;Examples
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;th headers=th-fa-area class=data-header id=td-fa-1&gt;
+     Elements that have their &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt; set, that are not &lt;a href=#concept-element-disabled title=concept-element-disabled&gt;actually disabled&lt;/a&gt;, that are not &lt;a href=#expressly-inert-control title=&quot;expressly inert control&quot;&gt;expressly inert&lt;/a&gt;, and that are either &lt;a href=#being-rendered&gt;being
+     rendered&lt;/a&gt; or &lt;a href=#being-used-as-relevant-canvas-fallback-content&gt;being used as relevant canvas fallback content&lt;/a&gt;. &lt;!--
+     CANVAS-FOCUS-FALLBACK --&gt;
+     &lt;td headers=&quot;td-fa-1 th-fa-dom-rep&quot;&gt;
+     The element itself.
+    &lt;tr&gt;&lt;td headers=&quot;td-fa-1 th-fa-examples&quot; colspan=2&gt;
+     &lt;p class=example&gt;&lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;, &lt;code title=attr-input-type-text&gt;&lt;a href=&quot;#text-(type=text)-state-and-search-state-(type=search)&quot;&gt;&lt;input
+     type=text&gt;&lt;/a&gt;&lt;/code&gt;, sometimes &lt;code title=a&gt;&lt;a href=#the-a-element&gt;&lt;a href=&quot;&quot;&gt;&lt;/a&gt;&lt;/code&gt; (depending on platform
+     conventions).
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;th headers=th-fa-area class=data-header id=td-fa-2&gt;
+     The shapes of &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; elements in an &lt;a href=#image-map&gt;image map&lt;/a&gt; associated with an
+     &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element that is &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt; and is not &lt;a href=#expressly-inert-control title=&quot;expressly
+     inert control&quot;&gt;expressly inert&lt;/a&gt;.
+     &lt;td headers=&quot;td-fa-2 th-fa-dom-rep&quot;&gt;
+     The &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element.
+    &lt;tr&gt;&lt;td headers=&quot;td-fa-2 th-fa-examples&quot; colspan=2&gt;
+     &lt;div class=example&gt;
+      &lt;p&gt;In the following example, the &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element creates two shapes, one on each
+      image. The &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; of the first shape is the first &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element, and the
+      &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; of the second shape is the second &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+      &lt;pre&gt;&lt;map id=wallmap&gt;&lt;area alt=&quot;Enter Door&quot; coords=&quot;10,10,100,200&quot; href=&quot;door.html&quot;&gt;&lt;/map&gt;
+...
+&lt;img src=&quot;images/innerwall.jpeg&quot; alt=&quot;There is a white wall here, with a door.&quot; usemap=&quot;#wallmap&quot;&gt;
+...
+&lt;img src=&quot;images/outerwall.jpeg&quot; alt=&quot;There is a red wall here, with a door.&quot; usemap=&quot;#wallmap&quot;&gt;&lt;/pre&gt;
+     &lt;/div&gt;
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;th headers=th-fa-area class=data-header id=td-fa-3&gt;
+     The user-agent provided subwidgets of elements that are &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt; and are not
+     &lt;a href=#concept-element-disabled title=concept-element-disabled&gt;actually disabled&lt;/a&gt; or &lt;a href=#expressly-inert-control title=&quot;expressly
+     inert control&quot;&gt;expressly inert&lt;/a&gt;.
+     &lt;td headers=&quot;td-fa-3 th-fa-dom-rep&quot;&gt;
+     The element for which the &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; is a subwidget.
+    &lt;tr&gt;&lt;td headers=&quot;td-fa-3 th-fa-examples&quot; colspan=2&gt;
+     &lt;p class=example&gt;The &lt;a href=#expose-a-user-interface-to-the-user title=&quot;expose a user interface to the user&quot;&gt;controls in the user
+     interface that is exposed to the user&lt;/a&gt; for a &lt;code&gt;&lt;a href=#the-video-element&gt;video&lt;/a&gt;&lt;/code&gt; element, the up and down
+     buttons in a spin-control version of &lt;code title=attr-input-type-number&gt;&lt;a href=&quot;#number-state-(type=number)&quot;&gt;&lt;input
+     type=number&gt;&lt;/a&gt;&lt;/code&gt;, the two range control widgets in a &lt;code title=attr-input-type-range&gt;&lt;a href=&quot;#range-state-(type=range)&quot;&gt;&lt;input type=range multiple&gt;&lt;/a&gt;&lt;/code&gt;, the part of a
+     &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt; element's rendering that enabled the element to be opened or closed using
+     keyboard input.&lt;/p&gt;
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;th headers=th-fa-area class=data-header id=td-fa-4&gt;
+     The scrollable regions of elements that are &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt; are not &lt;a href=#expressly-inert-control title=&quot;expressly inert control&quot;&gt;expressly inert&lt;/a&gt;. &lt;!-- the being rendered part is kinda
+     redundant, a scrollable region is a box generated for the element so by definition if the
+     element has a scrollable region it is being rendered --&gt;
+     &lt;td headers=&quot;td-fa-4 th-fa-dom-rep&quot;&gt;
+     The element for which the box that the scrollable region scrolls was created.
+    &lt;tr&gt;&lt;td headers=&quot;td-fa-4 th-fa-examples&quot; colspan=2&gt;
+     &lt;p class=example&gt;The CSS 'overflow' property's 'scroll' value typically creates a scrollable
+     region.&lt;/p&gt;
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;th headers=th-fa-area class=data-header id=td-fa-5&gt;
+     The viewport of a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that is in a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; and is not
+     &lt;a href=#inert&gt;inert&lt;/a&gt;.
+     &lt;td headers=&quot;td-fa-5 th-fa-dom-rep&quot;&gt;
+     The &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; for which the viewport was created.
+    &lt;tr&gt;&lt;td headers=&quot;td-fa-5 th-fa-examples&quot; colspan=2&gt;
+     &lt;p class=example&gt;The contents of an &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
+   &lt;tbody&gt;&lt;tr&gt;&lt;th headers=th-fa-area class=data-header id=td-fa-6&gt;
+     Any other element or part of an element, especially to aid with accessibility or to better
+     match platform conventions.
+     &lt;td headers=&quot;td-fa-6 th-fa-dom-rep&quot;&gt;
+     The element.
+    &lt;tr&gt;&lt;td headers=&quot;td-fa-6 th-fa-examples&quot; colspan=2&gt;
+     &lt;p class=example&gt;A user agent could make all list item bullets focusable, so that a user can
+     more easily navigate lists.&lt;/p&gt;
+     &lt;p class=example&gt;Similarly, a user agent could make all elements with &lt;code title=attr-title&gt;&lt;a href=#attr-title&gt;title&lt;/a&gt;&lt;/code&gt; attributes focusable, so that their advisory information can
+     be accessed.&lt;/p&gt;
+
+  &lt;/table&gt;&lt;p id=bc-focus-ergo-bcc-focus class=note&gt;A &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt; (e.g. an
+  &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;) is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, but key events routed to a &lt;a href=#browsing-context-container&gt;browsing context
+  container&lt;/a&gt; get immediately routed to the &lt;a href=#nested-browsing-context&gt;nested browsing context&lt;/a&gt;'s &lt;a href=#active-document&gt;active
+  document&lt;/a&gt;. Similarly, in sequential focus navigation a &lt;a href=#browsing-context-container&gt;browsing context
+  container&lt;/a&gt; essentially acts merely as a placeholder for its &lt;a href=#nested-browsing-context&gt;nested browsing
+  context&lt;/a&gt;'s &lt;a href=#active-document&gt;active document&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; belongs to a &lt;dfn id=control-group&gt;control group&lt;/dfn&gt;. Each &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; has
+  an &lt;dfn id=control-group-owner title=&quot;control group owner&quot;&gt;owner&lt;/dfn&gt;. &lt;a href=#control-group-owner title=&quot;control group owner&quot;&gt;Control group
+  owners&lt;/a&gt; are &lt;dfn id=control-group-owner-object title=&quot;control group owner object&quot;&gt;control group owner objects&lt;/dfn&gt;. The
+  following are &lt;a href=#control-group-owner-object title=&quot;control group owner object&quot;&gt;control group owner objects&lt;/a&gt;:&lt;/p&gt;
+
+  &lt;ul class=brief&gt;&lt;li&gt;&lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object in &lt;a href=#browsing-context title=&quot;browsing context&quot;&gt;browsing contexts&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; elements that have an &lt;code title=attr-dialog-open&gt;&lt;a href=#attr-dialog-open&gt;open&lt;/a&gt;&lt;/code&gt;
+   attribute specified and that are &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt;.&lt;/li&gt;
+
+  &lt;/ul&gt;&lt;p&gt;Each &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt; owns one &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; (though that
+  group might be empty).&lt;/p&gt;
+
+  &lt;p&gt;If the &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; of a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; is a &lt;a href=#control-group-owner-object&gt;control group owner
+  object&lt;/a&gt;, then that &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; belongs to that &lt;a href=#control-group-owner-object&gt;control group owner
+  object&lt;/a&gt;'s &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;. Otherwise, the &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; belongs to its
+  &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt;'s nearest ancestor &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;div class=example&gt;
+
+   &lt;p&gt;Thus, a viewport always belongs to the &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; of the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
+   for which the viewport was created, an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; control belongs to the &lt;i&gt;&lt;a href=#control-group&gt;control
+   group&lt;/a&gt;&lt;/i&gt; of its nearest ancestor &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, and an image
+   map's shapes belong to the nearest ancestor &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the
+   &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; elements (not the &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; elements &mdash; this means one
+   &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element might create multiple shapes in different &lt;i title=&quot;control
+   group&quot;&gt;&lt;a href=#control-group&gt;control groups&lt;/a&gt;&lt;/i&gt;).&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;p&gt;An element is &lt;dfn id=expressly-inert-control title=&quot;expressly inert control&quot;&gt;expressly inert&lt;/dfn&gt; if it is
+  &lt;a href=#inert&gt;inert&lt;/a&gt; but it is not a &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt; and its nearest
+  ancestor &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt; is not &lt;a href=#inert&gt;inert&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;One &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; in each non-empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; is designated the
+  &lt;dfn id=focused-area-of-the-control-group&gt;focused area of the control group&lt;/dfn&gt;. Which control is so designated changes over time,
+  based on algorithms in this specification. If a &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; is empty, it has no &lt;i title=&quot;focused area of the control group&quot;&gt;&lt;a href=#focused-area-of-the-control-group&gt;focused area&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt; can also act as the &lt;dfn id=dialog-group-manager title=&quot;dialog group
+  manager&quot;&gt;manager&lt;/dfn&gt; of a &lt;dfn id=dialog-group&gt;dialog group&lt;/dfn&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element that has an &lt;code title=attr-dialog-open&gt;&lt;a href=#attr-dialog-open&gt;open&lt;/a&gt;&lt;/code&gt;
+  attribute specified and that is &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt; (i.e. that is a &lt;a href=#control-group-owner-object&gt;control group
+  owner object&lt;/a&gt;) and is not &lt;a href=#expressly-inert-dialog title=&quot;expressly inert dialog&quot;&gt;expressly inert&lt;/a&gt;
+  belongs to the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; whose &lt;a href=#dialog-group-manager title=&quot;dialog group manager&quot;&gt;manager&lt;/a&gt; is
+  the &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element's nearest ancestor &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;A &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; is &lt;dfn id=expressly-inert-dialog title=&quot;expressly inert dialog&quot;&gt;expressly inert&lt;/dfn&gt; if it is
+  &lt;a href=#inert&gt;inert&lt;/a&gt; but its nearest ancestor &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt; is not.&lt;/p&gt;
+
+  &lt;p&gt;If no &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element has a particular &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt; as
+  its nearest ancestor &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt;, then that &lt;a href=#control-group-owner-object&gt;control group owner
+  object&lt;/a&gt; has no &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; can have a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; designated as the &lt;dfn id=focused-dialog-of-the-dialog-group&gt;focused
+  dialog of the dialog group&lt;/dfn&gt;. Which &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; is so designated changes over time,
+  based on algorithms in this specification.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;&lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;Focusable areas&lt;/a&gt;&lt;/i&gt; in &lt;i title=&quot;control group&quot;&gt;&lt;a href=#control-group&gt;control groups&lt;/a&gt;&lt;/i&gt;
+  are ordered relative to the &lt;a href=#tree-order&gt;tree order&lt;/a&gt; of their &lt;i title=&quot;DOM anchor&quot;&gt;&lt;a href=#dom-anchor&gt;DOM
+  anchors&lt;/a&gt;&lt;/i&gt;. &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;Focusable areas&lt;/a&gt;&lt;/i&gt; with the same &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; in a
+  &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; are ordered relative to their CSS box's relative positions in a pre-order,
+  depth-first traversal of the box tree. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;Elements in &lt;i title=&quot;dialog group&quot;&gt;&lt;a href=#dialog-group&gt;dialog groups&lt;/a&gt;&lt;/i&gt; are ordered in &lt;a href=#tree-order&gt;tree
+  order&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/dfn&gt; at any particular time is
+  the &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; or &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; returned by this algorithm:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the &lt;a href=#top-level-browsing-context&gt;top-level
+   browsing context&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; with a designated
+    &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the
+    designated &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;, and redo this step.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a non-empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, and the
+    designated &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt; is a &lt;a href=#browsing-context-container&gt;browsing context
+    container&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;a href=#active-document&gt;active document&lt;/a&gt; of
+    that &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt;'s &lt;a href=#nested-browsing-context&gt;nested browsing context&lt;/a&gt;, and redo
+    this step.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a non-empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, let
+    &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the designated &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control
+    group&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;An element that is the &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; of a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; is said to &lt;dfn id=gains-focus title=&quot;gains focus&quot;&gt;gain focus&lt;/dfn&gt; when that &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; becomes the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently
+  focused area of a top-level browsing context&lt;/a&gt;. When an element is the &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; of a
+  &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; of the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/a&gt;,
+  it is &lt;dfn id=focused&gt;focused&lt;/dfn&gt;.&lt;/p&gt;
+
+  &lt;div class=impl&gt;
+
+  &lt;p&gt;The &lt;dfn id=focus-chain&gt;focus chain&lt;/dfn&gt; of a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; or &lt;a href=#control-group-owner-object&gt;control group owner
+  object&lt;/a&gt; &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; is the ordered list constructed as follows:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;output&lt;/var&gt; be an empty list.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;i&gt;Loop&lt;/i&gt;: Append &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; is an &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element's shape, append
+    that &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM
+    anchor&lt;/a&gt;&lt;/i&gt; is an element that is not &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; itself, append that
+    &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; element to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; object in a
+    &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;, let &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; be that &lt;i&gt;&lt;a href=#dialog-group&gt;dialog
+    group&lt;/a&gt;&lt;/i&gt;'s &lt;a href=#dialog-group-manager title=&quot;dialog group manager&quot;&gt;manager&lt;/a&gt;, and return to the step
+    labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, let &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; be that &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;'s &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;'s
+    &lt;a href=#control-group-owner title=&quot;control group owner&quot;&gt;owner&lt;/a&gt;, and return to the step labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; in a
+    &lt;a href=#nested-browsing-context&gt;nested browsing context&lt;/a&gt;, let &lt;var title=&quot;&quot;&gt;current object&lt;/var&gt; be its
+    &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt;, and return to the step labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Return &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;
+
+    &lt;p class=note&gt;The chain starts with &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; and (if &lt;var title=&quot;&quot;&gt;subject&lt;/var&gt; is or can be the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing
+    context&lt;/a&gt;) continues up the focus hierarchy up to the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the
+    &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+  &lt;/ol&gt;&lt;/div&gt;
+
+
+  &lt;h4 id=sequential-focus-navigation-and-the-tabindex-attribute&gt;&lt;span class=secno&gt;8.4.3 &lt;/span&gt;Sequential focus navigation and the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute&lt;/h4&gt;
+
+  &lt;!-- XXX dfn sequential focus navigation --&gt;
+  &lt;!-- e.g. when tabbing into a &lt;span&gt;browsing context container&lt;/span&gt;, you defer to the Document's idea of what the first focusable area is --&gt;
+
   &lt;p&gt;The &lt;dfn id=attr-tabindex title=attr-tabindex&gt;&lt;code&gt;tabindex&lt;/code&gt;&lt;/dfn&gt; content attribute allows authors to
   control whether an element is supposed to be focusable, whether it is supposed to be reachable
   using sequential focus navigation, and what is to be the relative order of the element for the
@@ -76142,8 +76433,8 @@
   &lt;div class=impl&gt;
 
   &lt;p&gt;Each element can have a &lt;dfn id=specially-focusable&gt;tabindex focus flag&lt;/dfn&gt; set, as defined
-  below. This flag is a factor that contributes towards determining whether an element is
-  &lt;a href=#focusable&gt;focusable&lt;/a&gt;, as described in the next section.&lt;/p&gt;
+  below. This flag is a factor that contributes towards determining whether an element is a
+  &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, as described in the previous section.&lt;/p&gt;
 
   &lt;p&gt;If the attribute is specified, it must be parsed using the &lt;a href=#rules-for-parsing-integers&gt;rules for parsing
   integers&lt;/a&gt;. The attribute's values have the following meanings:&lt;/p&gt;
@@ -76153,8 +76444,9 @@
    &lt;dd&gt;
 
     &lt;p&gt;The user agent should follow platform conventions to determine if the element's
-    &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt; is set and, if so, whether the element can be reached using
-    sequential focus navigation, and if so, what its relative order should be.&lt;/p&gt;
+    &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt; is set and, if so, whether the element and any &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt; that have the element as their &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; can
+    be reached using sequential focus navigation, and if so, what their relative order should
+    be.&lt;/p&gt;
 
     &lt;p&gt;Modulo platform conventions, it is suggested that for the following elements, the
     &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt; be set:&lt;/p&gt;
@@ -76199,7 +76491,8 @@
    &lt;dd&gt;
 
     &lt;p&gt;The user agent must set the element's &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt;, but should not allow
-    the element to be reached using sequential focus navigation.&lt;/p&gt;
+    the element, or any &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt; that have the element as
+    their &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt;, to be reached using sequential focus navigation.&lt;/p&gt;
 
     &lt;p class=note&gt;One valid reason to ignore the requirement that sequential focus navigation not
     allow the author to lead to the element would be if the user's only mechanism for moving the
@@ -76214,8 +76507,10 @@
 
    &lt;dd&gt;
 
+&lt;!--CLEANUP--&gt;
     &lt;p&gt;The user agent must set the element's &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt;, should allow the
-    element to be reached using sequential focus navigation, and should follow platform conventions
+    element and any &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt; that have the element as
+    their &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; to be reached using sequential focus navigation, and should follow platform conventions
     to determine the element's relative order.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -76224,31 +76519,33 @@
 
    &lt;dd&gt;
 
+&lt;!--CLEANUP--&gt;
     &lt;p&gt;The user agent must set the element's &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt;, should allow the
-    element to be reached using sequential focus navigation, and should place the element in the
-    sequential focus navigation order so that it is:&lt;/p&gt;
+    element and any &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt; that have the element as their
+    &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; to be reached using sequential focus navigation, and should place the
+    element &mdash; referenced as &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; below &mdash; and the aforementioned &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt; in the sequential
+    focus navigation order so that they are:&lt;/p&gt;
 
-    &lt;ul&gt;&lt;li&gt;before any &lt;a href=#focusable&gt;focusable&lt;/a&gt; element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt;
+    &lt;ul&gt;&lt;!--CLEANUP--&gt;&lt;li&gt;before any &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; is an element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt;
      attribute has been omitted or whose value, when parsed, returns an error,&lt;/li&gt;
 
-     &lt;li&gt;before any &lt;a href=#focusable&gt;focusable&lt;/a&gt; element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt;
+     &lt;li&gt;before any &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; is an element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt;
      attribute has a value equal to or less than zero,&lt;/li&gt;
 
-     &lt;li&gt;after any element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
+     &lt;li&gt;after any &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; is an element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
      greater than zero but less than the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt;
-     attribute on the element,&lt;/li&gt;
+     attribute on &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;,&lt;/li&gt;
 
-     &lt;li&gt;after any element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
-     equal to the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on the element
-     but that is earlier in the document in &lt;a href=#tree-order&gt;tree order&lt;/a&gt; than the element,&lt;/li&gt;
+     &lt;li&gt;after any &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; is an element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
+     equal to the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;
+     but that is earlier in the document in &lt;a href=#tree-order&gt;tree order&lt;/a&gt; than &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;,&lt;/li&gt;
 
-     &lt;li&gt;before any element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
-     equal to the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on the element
-     but that is later in the document in &lt;a href=#tree-order&gt;tree order&lt;/a&gt; than the element, and&lt;/li&gt;
+     &lt;li&gt;before any &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; is an element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
+     equal to the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;
+     but that is later in the document in &lt;a href=#tree-order&gt;tree order&lt;/a&gt; than &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;, and&lt;/li&gt;
 
-     &lt;li&gt;before any element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
-     greater than the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on the
-     element.&lt;/li&gt;
+     &lt;li&gt;before any &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; whose &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt; is an element whose &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute has a value
+     greater than the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute on &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;.&lt;/li&gt;
 
     &lt;/ul&gt;&lt;/dd&gt;
 
@@ -76258,7 +76555,7 @@
 
   &lt;p class=note&gt;This means that an element that is only focusable because of its &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute will fire a &lt;code title=event-click&gt;&lt;a href=#event-click&gt;click&lt;/a&gt;&lt;/code&gt;
   event in response to a non-mouse activation (e.g. hitting the &quot;enter&quot; key while the element is
-  focused).&lt;/p&gt;
+  &lt;a href=#focused&gt;focused&lt;/a&gt;).&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-tabindex title=dom-tabIndex&gt;&lt;code&gt;tabIndex&lt;/code&gt;&lt;/dfn&gt; IDL attribute must
   &lt;a href=#reflect&gt;reflect&lt;/a&gt; the value of the &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; content
@@ -76271,198 +76568,437 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=focus-management&gt;&lt;span class=secno&gt;8.4.2 &lt;/span&gt;Focus management&lt;/h4&gt;
+  &lt;h4 id=processing-model-5&gt;&lt;span class=secno&gt;8.4.4 &lt;/span&gt;Processing model&lt;/h4&gt;
 
-  &lt;p&gt;An element is &lt;dfn id=focusable&gt;focusable&lt;/dfn&gt; if all of the following conditions are met:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=focusing-steps&gt;focusing steps&lt;/dfn&gt; for an object &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; that is
+  either a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, or an element that is not a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, or a
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, are as follows:&lt;/p&gt;
 
-  &lt;ul&gt;&lt;li&gt;The element's &lt;a href=#specially-focusable&gt;tabindex focus flag&lt;/a&gt; is set.&lt;/li&gt;
+  &lt;ol&gt;&lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2816">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2816</A> div.focus() when it's got a scroll region --&gt;&lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2817">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2817</A> img.focus() when it's got an image map --&gt;&lt;li&gt;
 
-   &lt;li&gt;The element is either &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt; or &lt;!-- CANVAS-FOCUS-FALLBACK --&gt; is a
-   descendant of a &lt;code&gt;&lt;a href=#the-canvas-element&gt;canvas&lt;/a&gt;&lt;/code&gt; element that &lt;a href=#represents&gt;represents&lt;/a&gt; &lt;a href=#embedded-content&gt;embedded
-   content&lt;/a&gt;.&lt;/li&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is neither a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element that has an
+    &lt;code title=attr-dialog-open&gt;&lt;a href=#attr-dialog-open&gt;open&lt;/a&gt;&lt;/code&gt; attribute specified and that is &lt;a href=#being-rendered&gt;being
+    rendered&lt;/a&gt; (i.e. that is a &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt;), nor a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable
+    area&lt;/a&gt;&lt;/i&gt;, then run the first matching set of steps from the following list:&lt;/p&gt;
 
-   &lt;li&gt;The element is not &lt;a href=#inert&gt;inert&lt;/a&gt;.&lt;/li&gt;
+    &lt;dl class=switch&gt;&lt;dt&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is an &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element with one or more
+     shapes that are &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt;&lt;/dt&gt;
 
-   &lt;li&gt;The element is not &lt;a href=#concept-element-disabled title=concept-element-disabled&gt;disabled&lt;/a&gt;.&lt;/li&gt;
+     &lt;dd&gt;
 
-  &lt;/ul&gt;&lt;p&gt;In addition, each shape that is generated for an &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element, any
-  user-agent-provided interface components of &lt;a href=#media-element title=&quot;media element&quot;&gt;media elements&lt;/a&gt;
-  (e.g. a play button), and distinct user interface components of form controls (e.g. &quot;up&quot; and
-  &quot;down&quot; buttons on an &lt;code title=attr-input-type-number&gt;&lt;a href=&quot;#number-state-(type=number)&quot;&gt;&lt;input type=number&gt;&lt;/a&gt;&lt;/code&gt; spin
-  control), should be &lt;a href=#focusable&gt;focusable&lt;/a&gt;, unless platform conventions dictate otherwise or
-  unless their corresponding element is &lt;a href=#concept-element-disabled title=concept-element-disabled&gt;disabled&lt;/a&gt;. (A
-  single &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element can correspond to multiple shapes, since image maps can be reused
-  with multiple images on a page.)&lt;/p&gt;
+      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the shape corresponding to the first
+      &lt;code&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element in tree order that uses the image map to which the &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt;
+      element belongs.&lt;/p&gt;
 
-  &lt;p&gt;The user agent may also make part of a &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt; element's rendering
-  &lt;a href=#focusable&gt;focusable&lt;/a&gt;, to enable the element to be opened or closed using keyboard input.
-  However, this is distinct from the &lt;code&gt;&lt;a href=#the-details-element&gt;details&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=#the-summary-element&gt;summary&lt;/a&gt;&lt;/code&gt; element being
-  focusable.&lt;/p&gt;
+     &lt;/dd&gt;
 
-  &lt;p&gt;Notwithstanding the above, user agents may make &lt;em&gt;any&lt;/em&gt; element or part of an element
-  focusable, especially to aid with accessibility or to better match platform conventions.&lt;/p&gt;
 
-  &lt;hr&gt;&lt;p&gt;The &lt;dfn id=focusing-steps&gt;focusing steps&lt;/dfn&gt; for an element are as follows:&lt;/p&gt;
+     &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is an element with one or more scrollable regions
+     that are &lt;i title=&quot;focusable area&quot;&gt;&lt;a href=#focusable-area&gt;focusable areas&lt;/a&gt;&lt;/i&gt;&lt;/dt&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the element is not &lt;a href=#in-a-document title=&quot;in a Document&quot;&gt;in a &lt;code&gt;Document&lt;/code&gt;&lt;/a&gt;, or if
-   the element's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has no &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, or if the element's
-   &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; has no &lt;a href=#top-level-browsing-context&gt;top-level browsing
-   context&lt;/a&gt;, or if the element is not &lt;a href=#focusable&gt;focusable&lt;/a&gt;, or if the element is already
-   focused, then abort these steps.&lt;/p&gt;
+     &lt;dd&gt;
 
-   &lt;li&gt;&lt;p&gt;If focusing the element will remove the focus from another element, then run the
-   &lt;a href=#unfocusing-steps&gt;unfocusing steps&lt;/a&gt; for that element.&lt;/li&gt;
+      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the element's first scrollable region,
+      according to a pre-order, depth-first traversal of the box tree. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt;&lt;/p&gt;
 
+     &lt;/dd&gt;
+
+
+     &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt; of its
+     &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+     &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is the &lt;a href=#root-element&gt;root element&lt;/a&gt; of its
+     &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; and that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has no &lt;a href=#the-body-element-0 title=&quot;the body
+     element&quot;&gt;body element&lt;/a&gt;&lt;/dt&gt;
+
+     &lt;dd&gt;
+
+      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s viewport.&lt;/p&gt;
+
+     &lt;/dd&gt;
+
+
+     &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;&lt;/dt&gt;
+
+     &lt;dd&gt;
+
+      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s
+      &lt;a href=#active-document&gt;active document&lt;/a&gt;.&lt;/p&gt;
+
+     &lt;/dd&gt;
+
+     &lt;dt&gt;Otherwise&lt;/dt&gt;
+
+     &lt;dd&gt;
+
+      &lt;p&gt;Abort the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt;.&lt;/p&gt;
+
+     &lt;/dd&gt;
+
+    &lt;/dl&gt;&lt;/li&gt;
+
    &lt;li&gt;
 
-    &lt;p&gt;Make the element the currently focused element in its &lt;a href=#top-level-browsing-context&gt;top-level browsing
-    context&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is a &lt;a href=#control-group-owner-object&gt;control group owner object&lt;/a&gt; that is
+    not a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, but does have a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;, and that &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;
+    has a designated &lt;a href=#focused-dialog-of-the-dialog-group title=&quot;focused dialog of the dialog group&quot;&gt;focused dialog&lt;/a&gt;, then
+    let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog
+    group&lt;/a&gt;, and redo this step.&lt;/p&gt;
 
-    &lt;p&gt;Some elements, most notably &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt;, can correspond to more than one distinct
-    focusable area. If a particular area was indicated when the element was focused, then that is
-    the area that must get focus; otherwise, e.g. when using the &lt;code title=dom-focus&gt;&lt;a href=#dom-focus&gt;focus()&lt;/a&gt;&lt;/code&gt; method, the first such region in tree order is the one that
-    must be focused.&lt;/p&gt;
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is a &lt;a href=#control-group-owner-object&gt;control group owner
+    object&lt;/a&gt; that is not a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, and its &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; is not empty,
+    then designate &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; as the &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control
+    group&lt;/a&gt;, and redo this step.&lt;/p&gt;
 
+    &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2818">http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2818</A> --&gt;
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is a &lt;a href=#browsing-context-container&gt;browsing context
+    container&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the &lt;a href=#nested-browsing-context&gt;nested browsing
+    context&lt;/a&gt;'s &lt;a href=#active-document&gt;active document&lt;/a&gt;, and redo this step.&lt;/p&gt;
+
+    &lt;p class=note&gt;A &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element can be both a &lt;a href=#control-group-owner-object&gt;control group owner
+    object&lt;/a&gt; and a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, if it has both an &lt;code title=attr-dialog-open&gt;&lt;a href=#attr-dialog-open&gt;open&lt;/a&gt;&lt;/code&gt; attribute specified and a &lt;code title=attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute specified and is &lt;a href=#being-rendered&gt;being
+    rendered&lt;/a&gt;.&lt;/p&gt;
+
    &lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; and its &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM
+   anchor&lt;/a&gt;&lt;/i&gt; is &lt;a href=#inert&gt;inert&lt;/a&gt;, then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a
+   top-level browsing context&lt;/a&gt;, then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt; be the &lt;a href=#focus-chain&gt;focus chain&lt;/a&gt; of the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context title=&quot;currently focused area of a top-level browsing context&quot;&gt;currently focused area of the
+   top-level browsing context&lt;/a&gt; in which &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; finds
+   itself.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt; be the &lt;a href=#focus-chain&gt;focus chain&lt;/a&gt; of &lt;var title=&quot;&quot;&gt;new
+   focus target&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Run the &lt;a href=#focus-update-steps&gt;focus update steps&lt;/a&gt; with &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; respectively.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;User agents must synchronously run the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;,
+  &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt;, or &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; whenever the
+  user attempts to move the focus to &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=unfocusing-steps&gt;unfocusing steps&lt;/dfn&gt; for an object &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; that is
+  either a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; or an element that is not a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; are as
+  follows:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2819">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2819</A> --&gt;&lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2822">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2822</A> --&gt;&lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; is &lt;a href=#inert&gt;inert&lt;/a&gt;, then abort these
+   steps.&lt;/li&gt;
+
    &lt;li&gt;
 
-    &lt;p&gt;The user agent may apply relevant platform-specific conventions for focusing widgets.&lt;/p&gt;
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; is an &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt; element and one of its
+    shapes is the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/a&gt;, or, if &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; is an element with one or more scrollable regions, and one of
+    them is the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; be that &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing
+    context&lt;/a&gt;.&lt;/p&gt;
 
-    &lt;p class=note&gt;For example, some platforms select the contents of a text field when that field
-    is focused.&lt;/p&gt;
+   &lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt; be the &lt;a href=#focus-chain&gt;focus chain&lt;/a&gt; of the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently
+   focused area of a top-level browsing context&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; is not one of the entries in &lt;var title=&quot;&quot;&gt;old
+   chain&lt;/var&gt;, then abort these steps.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;,
+    and the &lt;a href=#dialog-group-manager&gt;dialog group manager&lt;/a&gt; has a non-empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, then let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the designated &lt;a href=#focused-area-of-the-control-group title=&quot;focused area of the control
+    group&quot;&gt;focused area of that focus group&lt;/a&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, then let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the first &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; of its &lt;i&gt;&lt;a href=#control-group&gt;control
+    group&lt;/a&gt;&lt;/i&gt; (if the &lt;a href=#control-group-owner&gt;control group owner&lt;/a&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, this will
+    always be a viewport).&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be null.&lt;/p&gt;
+
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-focus&gt;&lt;a href=#event-focus&gt;focus&lt;/a&gt;&lt;/code&gt; at the element.&lt;/li&gt;
-   &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723</A> --&gt;
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; is not null, then run the &lt;a href=#focusing-steps&gt;focusing
+   steps&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt;.&lt;/li&gt;
 
-  &lt;/ol&gt;&lt;p&gt;User agents must synchronously run the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; for an element whenever the
-  user moves the focus to a &lt;a href=#focusable&gt;focusable&lt;/a&gt; element.&lt;/p&gt;
+  &lt;/ol&gt;&lt;p&gt;When the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/a&gt; is somehow
+  unfocused without another element being explicitly focused in its stead, the user agent must
+  synchronously run the &lt;a href=#unfocusing-steps&gt;unfocusing steps&lt;/a&gt; for that object.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=unfocusing-steps&gt;unfocusing steps&lt;/dfn&gt; for an element are as follows:&lt;/p&gt;
+  &lt;p class=note&gt;The &lt;a href=#unfocusing-steps&gt;unfocusing steps&lt;/a&gt; do not always result in the focus changing, even
+  when applied to the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/a&gt;. For
+  example, if the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/a&gt; is a viewport,
+  then it will usually keep its focus regardless until another &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; is explicitly
+  focused with the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the element is an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element, and the &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event applies to the element, and the element does not
-   have a defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, and the user has changed the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; or its list of &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected files&lt;/a&gt; while the control was focused
-   without committing that change, then &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;&lt;a href=#event-change&gt;change&lt;/a&gt;&lt;/code&gt; at the element.&lt;/p&gt;
+  &lt;hr&gt;&lt;p&gt;When a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; is added to an empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, it must be designated
+  the &lt;i&gt;&lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;Unfocus the element.&lt;/li&gt;
+  &lt;p&gt;When a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; is formed, if the &lt;a href=#dialog-group-manager&gt;dialog group manager&lt;/a&gt; has an empty
+  &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, the first non-&lt;a href=#inert&gt;inert&lt;/a&gt; &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog
+  group&lt;/a&gt;&lt;/i&gt;, if any, or else the first &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; regardless of
+  &lt;a href=#inert title=inert&gt;inertness&lt;/a&gt;, must be designated the &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog
+  group&lt;/a&gt;.&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;a href=#fire-a-simple-event&gt;Fire a simple event&lt;/a&gt; named &lt;code title=event-blur&gt;&lt;a href=#event-blur&gt;blur&lt;/a&gt;&lt;/code&gt; at the element.&lt;/li&gt;
-   &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723</A> --&gt;
+  &lt;p&gt;&lt;dfn id=focus-fixup-rule-one&gt;Focus fixup rule one&lt;/dfn&gt;: When the designated &lt;a href=#focused-area-of-the-control-group title=&quot;focused area of the control
+  group&quot;&gt;focused area of a control group&lt;/a&gt; is removed from that &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; in some
+  way (e.g. it stops being a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, it is removed from the DOM, it becomes &lt;a href=#expressly-inert-control title=&quot;expressly inert control&quot;&gt;expressly inert&lt;/a&gt;, etc), and the &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; is
+  still not empty: designate the first non-&lt;a href=#inert&gt;inert&lt;/a&gt; &lt;i&gt;focused area&lt;/i&gt; in that &lt;i&gt;&lt;a href=#control-group&gt;control
+  group&lt;/a&gt;&lt;/i&gt; to be the new &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt;, if any; if they are all
+  &lt;a href=#inert&gt;inert&lt;/a&gt;, then designate the first &lt;i&gt;focused area&lt;/i&gt; in that &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; to
+  be the new &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt; regardless of &lt;a href=#inert title=inert&gt;inertness&lt;/a&gt;. If such a removal instead results in the &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;
+  being empty, then there is simply no longer a &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;/ol&gt;&lt;p&gt;When an element that is focused stops being a &lt;a href=#focusable&gt;focusable&lt;/a&gt; element, or stops being
-  focused without another element being explicitly focused in its stead, the user agent should
-  synchronously run the &lt;a href=#unfocusing-steps&gt;unfocusing steps&lt;/a&gt; for the affected element only.&lt;/p&gt;
-
-  &lt;p class=example&gt;For example, this might happen because the element is removed from its
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, or has a &lt;code title=attr-hidden&gt;&lt;a href=#the-hidden-attribute&gt;hidden&lt;/a&gt;&lt;/code&gt; attribute added. It would
+  &lt;p class=example&gt;For example, this might happen because an element is removed from its
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, or has a &lt;code title=attr-hidden&gt;&lt;a href=#the-hidden-attribute&gt;hidden&lt;/a&gt;&lt;/code&gt; attribute added. It might
   also happen to an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element when the element gets &lt;a href=#concept-fe-disabled title=concept-fe-disabled&gt;disabled&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;/div&gt;
+  &lt;p&gt;&lt;dfn id=focus-fixup-rule-two&gt;Focus fixup rule two&lt;/dfn&gt;: When a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; has no designed &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused
+  dialog of the dialog group&lt;/a&gt;, and its &lt;a href=#dialog-group-manager&gt;dialog group manager&lt;/a&gt;'s &lt;i&gt;&lt;a href=#control-group&gt;control
+  group&lt;/a&gt;&lt;/i&gt; changes from being non-empty to being empty, the first non-&lt;a href=#inert&gt;inert&lt;/a&gt;
+  &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;, if any, or else the first &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in
+  the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; regardless of &lt;a href=#inert title=inert&gt;inertness&lt;/a&gt;, must be designated
+  the &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;p&gt;&lt;dfn id=focus-fixup-rule-three&gt;Focus fixup rule three&lt;/dfn&gt;: When the designated &lt;a href=#focused-dialog-of-the-dialog-group title=&quot;focused dialog of the
+  dialog group&quot;&gt;focused dialog of a dialog group&lt;/a&gt; is removed from that &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; in
+  some way (e.g. it stops &lt;a href=#being-rendered&gt;being rendered&lt;/a&gt;, it loses its &lt;code title=attr-dialog-open&gt;&lt;a href=#attr-dialog-open&gt;open&lt;/a&gt;&lt;/code&gt; attribute, it becomes &lt;a href=#expressly-inert-dialog title=&quot;expressly inert
+  dialog&quot;&gt;expressly inert&lt;/a&gt;, etc), and there is still a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; (because the
+  &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in question was not the last &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in that &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;):
+  if the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;'s &lt;a href=#dialog-group-manager title=&quot;dialog group manager&quot;&gt;manager&lt;/a&gt;'s &lt;i&gt;&lt;a href=#control-group&gt;control
+  group&lt;/a&gt;&lt;/i&gt; is non-empty, let there be no designated &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;
+  any more; otherwise (in the case that the &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt; is empty), designate the first
+  non-&lt;a href=#inert&gt;inert&lt;/a&gt; &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; to be the &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused
+  dialog of the dialog group&lt;/a&gt;, or, if they are all &lt;a href=#inert&gt;inert&lt;/a&gt;, designate the first
+  &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in the &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; to be the &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog
+  group&lt;/a&gt; regardless of &lt;a href=#inert title=inert&gt;inertness&lt;/a&gt;.&lt;/p&gt;
 
-&lt;!--TOPIC:DOM APIs--&gt;
-  &lt;h4 id=document-level-focus-apis&gt;&lt;span class=secno&gt;8.4.3 &lt;/span&gt;Document-level focus APIs&lt;/h4&gt;
+  &lt;p&gt;When the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing context&lt;/a&gt; was a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable
+  area&lt;/a&gt;&lt;/i&gt; but stops being a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, or when it was a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; in a
+  &lt;a href=#dialog-group&gt;dialog group&lt;/a&gt; and stops being part of that &lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;, or when it
+  starts being &lt;a href=#inert&gt;inert&lt;/a&gt;, the user agent must run the following steps:&lt;/p&gt;
 
-  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-activeElement&gt;&lt;a href=#dom-document-activeelement&gt;activeElement&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+  &lt;ol&gt;&lt;!-- this is basically a special-cased version of the focusing steps --&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; be whatever the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context title=&quot;currently focused
+   area of a top-level browsing context&quot;&gt;currently focused area of the top-level browsing
+   context&lt;/a&gt; was immediately before this algorithm became applicable (e.g. before the element
+   was disabled, or the dialog was closed, or whatever caused this algorithm to tun).&lt;/li&gt;
 
-   &lt;dd&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt; be the &lt;a href=#focus-chain&gt;focus chain&lt;/a&gt; of the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context title=&quot;currently focused area of a top-level browsing context&quot;&gt;currently focused area of the
+   top-level browsing context&lt;/a&gt; at the same time.&lt;/li&gt;
 
-    &lt;p&gt;Returns the currently focused element.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;Make sure that the changes implied by the focus fixup rules &lt;a href=#focus-fixup-rule-one title=&quot;focus fixup rule
+   one&quot;&gt;one&lt;/a&gt;, &lt;a href=#focus-fixup-rule-two title=&quot;focus fixup rule two&quot;&gt;two&lt;/a&gt;, and &lt;a href=#focus-fixup-rule-three title=&quot;focus fixup
+   rule three&quot;&gt;three&lt;/a&gt; above are applied.&lt;/li&gt;
 
-   &lt;/dd&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; be the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a
+   top-level browsing context&lt;/a&gt;.&lt;/li&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-hasFocus&gt;&lt;a href=#dom-document-hasfocus&gt;hasFocus&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;old focus target&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; are the
+   same, abort these steps.&lt;/li&gt;
 
-   &lt;dd&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt; be the &lt;a href=#focus-chain&gt;focus chain&lt;/a&gt; of &lt;var title=&quot;&quot;&gt;new
+   focus target&lt;/var&gt;.&lt;/li&gt;
 
-    &lt;p&gt;Returns true if the document has focus; otherwise, returns false.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;Run the &lt;a href=#focus-update-steps&gt;focus update steps&lt;/a&gt; with &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; respectively.&lt;/li&gt;
 
-   &lt;/dd&gt;
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;The &lt;dfn id=focus-update-steps&gt;focus update steps&lt;/dfn&gt;, given an &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt;, a &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt;, and a &lt;var title=&quot;&quot;&gt;new focus target&lt;/var&gt; respectively, are as
+  follows:&lt;/p&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=dom-window-focus&gt;&lt;a href=#dom-window-focus&gt;focus&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+  &lt;ol&gt;&lt;!-- focusin/focusout?: <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723</A> --&gt;&lt;li&gt;&lt;p&gt;If the last entry in &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt; and the last entry in &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt; are the same, pop the last entry from &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt;
+   and the last entry from &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt; and redo this step.&lt;/li&gt;
 
-   &lt;dd&gt;
+   &lt;li&gt;
 
-    &lt;p&gt;Focuses the window. Use of this method is discouraged. Allow the user to control window focus
-    instead.&lt;/p&gt;
+    &lt;p&gt;For each entry &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;old chain&lt;/var&gt;, in order, run
+    these substeps:&lt;/p&gt;
 
-   &lt;/dd&gt;
+    &lt;ol&gt;&lt;li id=unfocus-causes-change-event&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;
+     element, and the &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt; to the element, and the element does not have a
+     defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, and the user has changed the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; or its list of &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected files&lt;/a&gt; while the control was focused
+     without committing that change, then &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;&lt;a href=#event-change&gt;change&lt;/a&gt;&lt;/code&gt; at the element.&lt;/p&gt;
 
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=dom-window-blur&gt;&lt;a href=#dom-window-blur&gt;blur&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+     &lt;li&gt;
 
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is an element, let &lt;var title=&quot;&quot;&gt;blur event target&lt;/var&gt; be
+      &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt;.&lt;/p&gt;
+
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, let &lt;var title=&quot;&quot;&gt;blur
+      event target&lt;/var&gt; be that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+
+      &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;blur event target&lt;/var&gt; be null.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;blur event target&lt;/var&gt; is not null, &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt;
+      named &lt;code title=event-blur&gt;&lt;a href=#event-blur&gt;blur&lt;/a&gt;&lt;/code&gt; at &lt;var title=&quot;&quot;&gt;blur event target&lt;/var&gt;.&lt;/p&gt;
+
+      &lt;p class=note&gt;In some cases, e.g. if &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is an &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt;
+      element's shape, a scrollable region, or a viewport, no event is fired.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+    &lt;/ol&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Apply any relevant platform-specific conventions for focusing &lt;var title=&quot;&quot;&gt;new focus
+   target&lt;/var&gt;. (For example, some platforms select the contents of a text field when that field is
+   focused.)&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;For each entry &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; in &lt;var title=&quot;&quot;&gt;new chain&lt;/var&gt;, in reverse
+    order, run these substeps:&lt;/p&gt;
+
+    &lt;ol&gt;&lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element: Let &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; be the designated &lt;a href=#focused-dialog-of-the-dialog-group title=&quot;focused dialog of the dialog
+     group&quot;&gt;focused dialog of its dialog group&lt;/a&gt;.&lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;: Designate &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; as the &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt;. If its &lt;i&gt;&lt;a href=#control-group&gt;control
+      group&lt;/a&gt;&lt;/i&gt;'s &lt;a href=#control-group-owner title=&quot;control group owner&quot;&gt;owner&lt;/a&gt; is also a &lt;a href=#dialog-group-manager&gt;dialog group
+      manager&lt;/a&gt;, then let there be no designated &lt;a href=#focused-dialog-of-the-dialog-group title=&quot;focused dialog of the dialog
+      group&quot;&gt;focused dialog&lt;/a&gt; in that &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt;.&lt;/p&gt;
+
+      &lt;p class=note&gt;It is possible for &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; to be both a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt;
+      element and a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, in which case it is its own &lt;a href=#control-group-owner&gt;control group
+      owner&lt;/a&gt;.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is an element, let &lt;var title=&quot;&quot;&gt;focus event target&lt;/var&gt; be
+      &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt;.&lt;/p&gt;
+
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, let &lt;var title=&quot;&quot;&gt;focus
+      event target&lt;/var&gt; be that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+
+      &lt;p&gt;Otherwise, let &lt;var title=&quot;&quot;&gt;focus event target&lt;/var&gt; be null.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If &lt;var title=&quot;&quot;&gt;focus event target&lt;/var&gt; is not null, &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt;
+      named &lt;code title=event-focus&gt;&lt;a href=#event-focus&gt;focus&lt;/a&gt;&lt;/code&gt; at &lt;var title=&quot;&quot;&gt;focus event target&lt;/var&gt;.&lt;/p&gt;
+
+      &lt;p class=note&gt;In some cases, e.g. if &lt;var title=&quot;&quot;&gt;entry&lt;/var&gt; is an &lt;code&gt;&lt;a href=#the-area-element&gt;area&lt;/a&gt;&lt;/code&gt;
+      element's shape, a scrollable region, or a viewport, no event is fired.&lt;/p&gt;
+
+     &lt;/li&gt;
+   
+    &lt;/ol&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;When a key event is to be routed in a &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt;, the user agent
+  must run the follow steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target area&lt;/var&gt; be the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context title=&quot;currently focused area of a
+   top-level browsing context&quot;&gt;currently focused area of the top-level browsing
+   context&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;target area&lt;/var&gt; is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, let &lt;var title=&quot;&quot;&gt;target
+   node&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;target area&lt;/var&gt;'s &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt;. Otherwise, &lt;var title=&quot;&quot;&gt;target area&lt;/var&gt; is a &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt;; let &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt; be
+   &lt;var title=&quot;&quot;&gt;target area&lt;/var&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#the-body-element-0 title=&quot;the
+    body element&quot;&gt;body element&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt; be &lt;a href=#the-body-element-0&gt;the body
+    element&lt;/a&gt; of that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a
+    &lt;a href=#root-element&gt;root element&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt; be the &lt;a href=#root-element&gt;root
+    element&lt;/a&gt; of that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt; is not &lt;a href=#inert&gt;inert&lt;/a&gt;, fire the event at &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt;.&lt;/p&gt;
+
+    &lt;p class=note&gt;It is possible for the &lt;a href=#currently-focused-area-of-a-top-level-browsing-context&gt;currently focused area of a top-level browsing
+    context&lt;/a&gt; to be &lt;a href=#inert&gt;inert&lt;/a&gt;, for example if a &lt;a href=#dom-dialog-showmodal title=dom-dialog-showModal&gt;modal dialog is shown&lt;/a&gt;, and then that &lt;code&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt;
+    element is made &lt;a href=#inert&gt;inert&lt;/a&gt;. It is likely to be the result of a logic error in the
+    application, though.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the event was not canceled, then let &lt;var title=&quot;&quot;&gt;target area&lt;/var&gt; handle the key
+   event. This might include &lt;a href=#run-synthetic-click-activation-steps title=&quot;run synthetic click activation steps&quot;&gt;running synthetic
+   click activation steps&lt;/a&gt; for &lt;var title=&quot;&quot;&gt;target node&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;/div&gt;
+
+
+&lt;!--TOPIC:DOM APIs--&gt;
+  &lt;h4 id=focus-management-apis&gt;&lt;span class=secno&gt;8.4.5 &lt;/span&gt;Focus management APIs&lt;/h4&gt;
+
+  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-activeElement&gt;&lt;a href=#dom-document-activeelement&gt;activeElement&lt;/a&gt;&lt;/code&gt;&lt;/dt&gt;
+
    &lt;dd&gt;
 
-    &lt;p&gt;Unfocuses the window. Use of this method is discouraged. Allow the user to control window
-    focus instead.&lt;/p&gt;
+    &lt;p&gt;Returns the deepest element in the document through which or to which key events are being
+    routed. This is, roughly speaking, the focused element in the document.&lt;/p&gt;
 
+    &lt;p&gt;For the purposes of this API, when a &lt;a href=#child-browsing-context&gt;child browsing context&lt;/a&gt; is focused, its
+    &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt; is &lt;a href=#bc-focus-ergo-bcc-focus&gt;focused&lt;/a&gt; in the
+    &lt;a href=#parent-browsing-context&gt;parent browsing context&lt;/a&gt;. For example, if the user moves the focus to a text field
+    in an &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;, the &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt; is the element returned by the &lt;code title=dom-document-activeElement&gt;&lt;a href=#dom-document-activeelement&gt;activeElement&lt;/a&gt;&lt;/code&gt; API in the &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;'s
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
    &lt;/dd&gt;
 
-  &lt;/dl&gt;&lt;div class=impl&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code title=dom-document-hasFocus&gt;&lt;a href=#dom-document-hasfocus&gt;hasFocus&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-document-activeelement title=dom-document-activeElement&gt;&lt;code&gt;activeElement&lt;/code&gt;&lt;/dfn&gt; attribute on
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return the element in the document that is focused. If no
-  element in the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; is focused, this must return &lt;a href=#the-body-element-0&gt;the body
-  element&lt;/a&gt;.&lt;/p&gt;
+   &lt;dd&gt;
 
-  &lt;p class=note&gt;When a &lt;a href=#child-browsing-context&gt;child browsing context&lt;/a&gt; is focused, its &lt;a href=#browsing-context-container&gt;browsing context
-  container&lt;/a&gt; is also focused, &lt;a href=#bc-focus-ergo-bcc-focus&gt;by definition&lt;/a&gt;. For
-  example, if the user moves the focus to a text field in an &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt;, the
-  &lt;code&gt;&lt;a href=#the-iframe-element&gt;iframe&lt;/a&gt;&lt;/code&gt; is the element with focus in the &lt;a href=#parent-browsing-context&gt;parent browsing context&lt;/a&gt;.&lt;/p&gt;
+    &lt;p&gt;Returns true if key events are being routed through or to the document; otherwise, returns
+    false. Roughly speaking, this corresponds to the document, or a documented nested inside this
+    one, being focused.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-document-hasfocus title=dom-document-hasFocus&gt;&lt;code&gt;hasFocus()&lt;/code&gt;&lt;/dfn&gt; method on
-  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return true if the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s &lt;a href=#browsing-context&gt;browsing
-  context&lt;/a&gt; is focused, and all its &lt;a href=#ancestor-browsing-context title=&quot;ancestor browsing context&quot;&gt;ancestor browsing
-  contexts&lt;/a&gt; are also focused, and the &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt; has the
-  &lt;i&gt;system focus&lt;/i&gt;. If the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has no &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; or if its
-  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; has no &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt;, then the method will
-  always return false.&lt;/p&gt;
+   &lt;/dd&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-window-focus title=dom-window-focus&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method on the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
-  object, when invoked, provides a hint to the user agent that the script believes the user might be
-  interested in the contents of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; of the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object
-  on which the method was invoked.&lt;/p&gt;
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=dom-window-focus&gt;&lt;a href=#dom-window-focus&gt;focus&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
 
-  &lt;p&gt;User agents are encouraged to have this &lt;code title=dom-window-focus&gt;&lt;a href=#dom-window-focus&gt;focus()&lt;/a&gt;&lt;/code&gt; method
-  trigger some kind of notification.&lt;/p&gt;
+   &lt;dd&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-window-blur title=dom-window-blur&gt;&lt;code&gt;blur()&lt;/code&gt;&lt;/dfn&gt; method on the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
-  object, when invoked, provides a hint to the user agent that the script believes the user probably
-  is not currently interested in the contents of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; of the
-  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the method was invoked, but that the contents might become
-  interesting again in the future.&lt;/p&gt;
+    &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2823">http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2823</A> --&gt;
 
-  &lt;p&gt;User agents are encouraged to ignore calls to this &lt;code title=dom-window-blur&gt;&lt;a href=#dom-window-blur&gt;blur()&lt;/a&gt;&lt;/code&gt;
-  method entirely.&lt;/p&gt;
+    &lt;p&gt;Moves the focus to the window's &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt;, if any.&lt;/p&gt;
 
-  &lt;p class=note&gt;Historically the &lt;code title=dom-window-blur&gt;&lt;a href=#dom-window-blur&gt;focus()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-window-blur&gt;&lt;a href=#dom-window-blur&gt;blur()&lt;/a&gt;&lt;/code&gt; methods actually affected the system focus, but hostile
-  sites widely abuse this behavior to the user's detriment.&lt;/p&gt;
+   &lt;/dd&gt;
 
-  &lt;/div&gt;
+&lt;!--
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code title=&quot;dom-window-blur&quot;&gt;blur&lt;/code&gt;()&lt;/dt&gt;
 
+   &lt;dd&gt;
 
-  &lt;h4 id=element-level-focus-apis&gt;&lt;span class=secno&gt;8.4.4 &lt;/span&gt;Element-level focus APIs&lt;/h4&gt;
+    &lt;p&gt;No effect.&lt;/p&gt;
 
-  &lt;dl class=domintro&gt;&lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-focus&gt;&lt;a href=#dom-focus&gt;focus&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+   &lt;/dd&gt;
+--&gt;
 
+   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-focus&gt;&lt;a href=#dom-focus&gt;focus&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
+
    &lt;dd&gt;
 
-    &lt;p&gt;Focuses the element.&lt;/p&gt;
+    &lt;p&gt;Moves the focus to the element.&lt;/p&gt;
 
+    &lt;p&gt;If the element is &lt;a href=#the-body-element-0&gt;the body element&lt;/a&gt;, moves the focus to the viewport instead.&lt;/p&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;&lt;var title=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code title=dom-blur&gt;&lt;a href=#dom-blur&gt;blur&lt;/a&gt;&lt;/code&gt;()&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Unfocuses the element. Use of this method is discouraged. Focus another element instead.&lt;/p&gt;
+    &lt;p&gt;Moves the focus to the viewport. Use of this method is discouraged; if you want to focus the
+    viewport, call the &lt;code title=dom-focus&gt;&lt;a href=#dom-focus&gt;focus()&lt;/a&gt;&lt;/code&gt; method on &lt;a href=#the-body-element-0&gt;the body
+    element&lt;/a&gt;.&lt;/p&gt;
 
     &lt;p&gt;Do not use this method to hide the focus ring if you find the focus ring unsightly. Instead,
-    use a CSS rule to override the 'outline' property. Be aware, however, that if an alternative
-    focusing style isn't made available instead, the page will be significantly less usable for
-    people who primarily navigate pages using a keyboard, or those with reduced vision who use focus
-    outlines to help them navigate the page.&lt;/p&gt;
+    use a CSS rule to override the 'outline' property, and provide a different way to show what
+    element is focused. Be aware that if an alternative focusing style isn't made available, the
+    page will be significantly less usable for people who primarily navigate pages using a keyboard,
+    or those with reduced vision who use focus outlines to help them navigate the page.&lt;/p&gt;
 
     &lt;!-- we suggest using CSS here because users can override CSS, so it's no the end of the world,
     unlike using .blur(), which cannot be easily overridden by users and completely breaks tab
@@ -76470,8 +77006,8 @@
 
     &lt;div class=example&gt;
 
-     &lt;p&gt;For example, to hide the outline from links and instead use a yellow background, you could
-     use:&lt;/p&gt;
+     &lt;p&gt;For example, to hide the outline from links and instead use a yellow background to indicate
+     focus, you could use:&lt;/p&gt;
 
      &lt;pre&gt;:link:focus, :visited:focus { outline: none; background: yellow; color: black; }&lt;/pre&gt;
 
@@ -76481,9 +77017,95 @@
 
   &lt;/dl&gt;&lt;div class=impl&gt;
 
-  &lt;p&gt;The &lt;dfn id=dom-focus title=dom-focus&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run the
-  following algorithm:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn id=dom-document-activeelement title=dom-document-activeElement&gt;&lt;code&gt;activeElement&lt;/code&gt;&lt;/dfn&gt; attribute on
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return the value returned by the following steps:&lt;/p&gt;
 
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; on which the method was
+   invoked.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; with a designated
+   &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the
+   designated &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;, and redo this step.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a non-empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the designated &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control
+   group&lt;/a&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; is a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;, let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;'s &lt;i&gt;&lt;a href=#dom-anchor&gt;DOM anchor&lt;/a&gt;&lt;/i&gt;.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#the-body-element-0 title=&quot;the
+    body element&quot;&gt;body element&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be &lt;a href=#the-body-element-0&gt;the body
+    element&lt;/a&gt; of that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#root-element&gt;root
+    element&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;a href=#root-element&gt;root element&lt;/a&gt; of that
+    &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; is a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be null.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt;.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-document-hasfocus title=dom-document-hasFocus&gt;&lt;code&gt;hasFocus()&lt;/code&gt;&lt;/dfn&gt; method on
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return true the value returned by the following steps:&lt;/p&gt;
+
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;target&lt;/var&gt; be the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; on which the method was
+   invoked.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the &lt;a href=#top-level-browsing-context&gt;top-level
+   browsing context&lt;/a&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; is &lt;var title=&quot;&quot;&gt;target&lt;/var&gt;, return true and abort
+   these steps.&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a &lt;i&gt;&lt;a href=#dialog-group&gt;dialog group&lt;/a&gt;&lt;/i&gt; with a designated &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused
+    dialog of the dialog group&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the designated
+    &lt;a href=#focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;, and redo this step.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a non-empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, and the
+    designated &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt; is a &lt;a href=#browsing-context-container&gt;browsing context
+    container&lt;/a&gt;, and the &lt;a href=#active-document&gt;active document&lt;/a&gt; of that &lt;a href=#browsing-context-container&gt;browsing context
+    container&lt;/a&gt;'s &lt;a href=#nested-browsing-context&gt;nested browsing context&lt;/a&gt; is &lt;var title=&quot;&quot;&gt;target&lt;/var&gt;, then
+    return true and abort these steps.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; has a non-empty &lt;i&gt;&lt;a href=#control-group&gt;control group&lt;/a&gt;&lt;/i&gt;, and the
+    designated &lt;a href=#focused-area-of-the-control-group&gt;focused area of the control group&lt;/a&gt; is a &lt;a href=#browsing-context-container&gt;browsing context
+    container&lt;/a&gt;, then let &lt;var title=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;a href=#active-document&gt;active document&lt;/a&gt; of
+    that &lt;a href=#browsing-context-container&gt;browsing context container&lt;/a&gt;'s &lt;a href=#nested-browsing-context&gt;nested browsing context&lt;/a&gt;, and redo
+    this step.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, return false and abort these steps.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-window-focus title=dom-window-focus&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method on &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
+  object, when invoked, must run the &lt;a href=#focusing-steps&gt;focusing steps&lt;/a&gt; with the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
+  object's &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;. Additionally, if this &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; is a
+  &lt;a href=#top-level-browsing-context&gt;top-level browsing context&lt;/a&gt;, user agents are encouraged to trigger some sort of
+  notification to indicate to the user that the page is attempting to gain focus.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-window-blur title=dom-window-blur&gt;&lt;code&gt;blur()&lt;/code&gt;&lt;/dfn&gt; method on the &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
+  object, when invoked, provides a hint to the user agent that the script believes the user probably
+  is not currently interested in the contents of the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt; of the
+  &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the method was invoked, but that the contents might become
+  interesting again in the future.&lt;/p&gt;
+
+  &lt;p&gt;User agents are encouraged to ignore calls to this &lt;code title=dom-window-blur&gt;&lt;a href=#dom-window-blur&gt;blur()&lt;/a&gt;&lt;/code&gt;
+  method entirely.&lt;/p&gt;
+
+  &lt;p class=note&gt;Historically, the &lt;code title=dom-window-blur&gt;&lt;a href=#dom-window-blur&gt;focus()&lt;/a&gt;&lt;/code&gt; and &lt;code title=dom-window-blur&gt;&lt;a href=#dom-window-blur&gt;blur()&lt;/a&gt;&lt;/code&gt; methods actually affected the system-level focus of the
+  system widget (e.g. tab or window) that contained the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, but hostile
+  sites widely abuse this behavior to the user's detriment.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn id=dom-focus title=dom-focus&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method on elements, when invoked, must
+  run the following algorithm:&lt;/p&gt;
+
   &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the element is marked as &lt;i&gt;&lt;a href=#locked-for-focus&gt;locked for focus&lt;/a&gt;&lt;/i&gt;, then abort these steps.&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Mark the element as &lt;dfn id=locked-for-focus&gt;locked for focus&lt;/dfn&gt;.&lt;/li&gt;
@@ -76493,8 +77115,8 @@
    &lt;li&gt;&lt;p&gt;Unmark the element as &lt;i&gt;&lt;a href=#locked-for-focus&gt;locked for focus&lt;/a&gt;&lt;/i&gt;.&lt;/li&gt;
 
   &lt;/ol&gt;&lt;p&gt;The &lt;dfn id=dom-blur title=dom-blur&gt;&lt;code&gt;blur()&lt;/code&gt;&lt;/dfn&gt; method, when invoked, should run the
-  &lt;a href=#unfocusing-steps&gt;unfocusing steps&lt;/a&gt; for the element on which the method was called instead. User agents
-  may selectively or uniformly ignore calls to this method for usability reasons.&lt;/p&gt;
+  &lt;a href=#unfocusing-steps&gt;unfocusing steps&lt;/a&gt; for the element on which the method was called. User agents may
+  selectively or uniformly ignore calls to this method for usability reasons.&lt;/p&gt;
 
   &lt;p class=example&gt;For example, if the &lt;code title=dom-blur&gt;&lt;a href=#dom-blur&gt;blur()&lt;/a&gt;&lt;/code&gt; method is unwisely
   being used to remove the focus ring for aesthetics reasons, the page would become unusable by
@@ -76502,13 +77124,14 @@
   page.&lt;/p&gt;
 
   &lt;/div&gt;
+
+
 &lt;!--TOPIC:HTML--&gt;
 
 
-
   &lt;h3 id=assigning-keyboard-shortcuts&gt;&lt;span class=secno&gt;8.5 &lt;/span&gt;Assigning keyboard shortcuts&lt;/h3&gt;
 
-  &lt;h4 id=introduction-7&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-8&gt;&lt;span class=secno&gt;8.5.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -76637,7 +77260,7 @@
 
   &lt;div class=impl&gt;
 
-  &lt;h4 id=processing-model-5&gt;&lt;span class=secno&gt;8.5.3 &lt;/span&gt;Processing model&lt;/h4&gt;
+  &lt;h4 id=processing-model-6&gt;&lt;span class=secno&gt;8.5.3 &lt;/span&gt;Processing model&lt;/h4&gt;
 
   &lt;p&gt;An element's &lt;dfn id=assigned-access-key&gt;assigned access key&lt;/dfn&gt; is a key combination derived from the element's
   &lt;code title=attr-accesskey&gt;&lt;a href=#the-accesskey-attribute&gt;accesskey&lt;/a&gt;&lt;/code&gt; content attribute. Initially, an element must not
@@ -77133,7 +77756,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=introduction-8&gt;&lt;span class=secno&gt;8.7.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-9&gt;&lt;span class=secno&gt;8.7.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -79524,7 +80147,7 @@
   &lt;/ul&gt;&lt;p&gt;These values are not currently exposed on the interface.&lt;/p&gt;
 
 
-  &lt;h4 id=processing-model-6&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;Processing model&lt;/h4&gt;
+  &lt;h4 id=processing-model-7&gt;&lt;span class=secno&gt;9.2.3 &lt;/span&gt;Processing model&lt;/h4&gt;
 
   &lt;p&gt;The resource indicated in the argument to the &lt;code title=dom-EventSource&gt;&lt;a href=#dom-eventsource&gt;EventSource&lt;/a&gt;&lt;/code&gt;
   constructor is &lt;a href=#fetch title=fetch&gt;fetched&lt;/a&gt; when the constructor is run.&lt;/p&gt;
@@ -80895,7 +81518,7 @@
   &lt;/div&gt;
 
 
-  &lt;h4 id=introduction-9&gt;&lt;span class=secno&gt;9.4.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-10&gt;&lt;span class=secno&gt;9.4.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -81116,7 +81739,7 @@
 
   &lt;h3 id=channel-messaging&gt;&lt;span class=secno&gt;9.5 &lt;/span&gt;&lt;dfn&gt;Channel messaging&lt;/dfn&gt;&lt;/h3&gt;
 
-  &lt;h4 id=introduction-10&gt;&lt;span class=secno&gt;9.5.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-11&gt;&lt;span class=secno&gt;9.5.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -82118,7 +82741,7 @@
 
 
 
-  &lt;h3 id=introduction-11&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Introduction&lt;/h3&gt;
+  &lt;h3 id=introduction-12&gt;&lt;span class=secno&gt;10.1 &lt;/span&gt;Introduction&lt;/h3&gt;
 
   &lt;h4 id=scope-0&gt;&lt;span class=secno&gt;10.1.1 &lt;/span&gt;Scope&lt;/h4&gt;
 
@@ -83351,7 +83974,7 @@
   worker&lt;/a&gt; but it is a &lt;a href=#permissible-worker&gt;permissible worker&lt;/a&gt;.&lt;/p&gt;
 
 
-  &lt;h4 id=processing-model-7&gt;&lt;span class=secno&gt;10.2.4 &lt;/span&gt;Processing model&lt;/h4&gt;
+  &lt;h4 id=processing-model-8&gt;&lt;span class=secno&gt;10.2.4 &lt;/span&gt;Processing model&lt;/h4&gt;
 
   &lt;p&gt;When a user agent is to &lt;dfn id=run-a-worker&gt;run a worker&lt;/dfn&gt; for a script with &lt;a href=#url&gt;URL&lt;/a&gt; &lt;var title=&quot;&quot;&gt;url&lt;/var&gt; and a &lt;a href=#script-settings-object&gt;script settings object&lt;/a&gt; &lt;var title=&quot;&quot;&gt;settings
   object&lt;/var&gt;, it must run the following steps:&lt;/p&gt;
@@ -84140,7 +84763,7 @@
 
 
 
-  &lt;h3 id=introduction-12&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Introduction&lt;/h3&gt;
+  &lt;h3 id=introduction-13&gt;&lt;span class=secno&gt;11.1 &lt;/span&gt;Introduction&lt;/h3&gt;
 
   &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
 
@@ -94397,7 +95020,7 @@
   section has the same conformance implications as the RFC2119-defined term &quot;must&quot;.&lt;/i&gt;&lt;/p&gt;
 
 
-  &lt;h3 id=introduction-13&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;Introduction&lt;/h3&gt;
+  &lt;h3 id=introduction-14&gt;&lt;span class=secno&gt;14.1 &lt;/span&gt;Introduction&lt;/h3&gt;
 
   &lt;p&gt;In general, user agents are expected to support CSS, and many of the suggestions in this
   section are expressed in CSS terms. User agents that use other presentation mechanisms can derive
@@ -95937,7 +96560,7 @@
 
   &lt;h3 id=bindings&gt;&lt;span class=secno&gt;14.5 &lt;/span&gt;Bindings&lt;/h3&gt; &lt;!-- a binding --&gt;
 
-  &lt;h4 id=introduction-14&gt;&lt;span class=secno&gt;14.5.1 &lt;/span&gt;Introduction&lt;/h4&gt;
+  &lt;h4 id=introduction-15&gt;&lt;span class=secno&gt;14.5.1 &lt;/span&gt;Introduction&lt;/h4&gt;
 
   &lt;p&gt;A number of elements have their rendering defined in terms of the 'binding' property. &lt;a href=#refsBECSS&gt;[BECSS]&lt;/a&gt;&lt;/p&gt;
 
@@ -96812,10 +97435,11 @@
   &lt;p&gt;User agents are expected to expose the &lt;a href=#advisory-information&gt;advisory information&lt;/a&gt; of elements upon user
   request, and to make the user aware of the presence of such information.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p&gt;On interactive graphical systems where the user can use a pointing device, this could take the
   form of a tooltip. When the user is unable to use a pointing device, then the user agent is
-  expected to make the content available in some other fashion, e.g. by making the element focusable
-  and always displaying the &lt;a href=#advisory-information&gt;advisory information&lt;/a&gt; of the currently focused element, or
+  expected to make the content available in some other fashion, e.g. by making the element a &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt;
+  and always displaying the &lt;a href=#advisory-information&gt;advisory information&lt;/a&gt; of the currently &lt;a href=#focused&gt;focused&lt;/a&gt; element, or
   by showing the &lt;a href=#advisory-information&gt;advisory information&lt;/a&gt; of the elements under the user's finger on a
   touch device as the user pans around the screen.&lt;/p&gt;
 
@@ -96826,7 +97450,7 @@
 
   &lt;div class=example&gt;
 
-   &lt;p&gt;For example, a visual user agent could make elements with a &lt;code title=attr-title&gt;&lt;a href=#attr-title&gt;title&lt;/a&gt;&lt;/code&gt; attribute focusable, and could make any focused element with a
+   &lt;p&gt;For example, a visual user agent could make elements with a &lt;code title=attr-title&gt;&lt;a href=#attr-title&gt;title&lt;/a&gt;&lt;/code&gt; attribute &lt;a href=#focusable-area title=&quot;focusable area&quot;&gt;focusable&lt;/a&gt;, and could make any &lt;a href=#focused&gt;focused&lt;/a&gt; element with a
    &lt;code title=attr-title&gt;&lt;a href=#attr-title&gt;title&lt;/a&gt;&lt;/code&gt; attribute show its tooltip under the element while the
    element has focus. This would allow a user to tab around the document to find all the advisory
    text.&lt;/p&gt;
@@ -97006,7 +97630,7 @@
    &lt;li&gt;None of the elements in the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; have any &lt;a href=#presentational-hints&gt;presentational hints&lt;/a&gt;.
    &lt;li&gt;None of the elements in the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; have any &lt;a href=#css-styling-attribute title=&quot;CSS styling attribute&quot;&gt;CSS styling attributes&lt;/a&gt;.
    &lt;li&gt;None of the elements in the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; are in any of the following namespaces: &lt;a href=#html-namespace-0&gt;HTML namespace&lt;/a&gt;, &lt;a href=#svg-namespace&gt;SVG namespace&lt;/a&gt;, &lt;a href=#mathml-namespace&gt;MathML namespace&lt;/a&gt;
-   &lt;li&gt;The &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has no &lt;a href=#focusable&gt;focusable&lt;/a&gt; elements (e.g. from XLink).
+   &lt;li&gt;The &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has no &lt;i&gt;&lt;a href=#focusable-area&gt;focusable area&lt;/a&gt;&lt;/i&gt; (e.g. from XLink) other than the viewport.
    &lt;li&gt;The &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has no &lt;a href=#hyperlink title=hyperlink&gt;hyperlinks&lt;/a&gt; (e.g. from XLink).
    &lt;li&gt;There exists no &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; whose &lt;a href=#settings-object&gt;settings object&lt;/a&gt; specifies this &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; as the &lt;a href=#responsible-document&gt;responsible document&lt;/a&gt;.
    &lt;li&gt;None of the elements in the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; have any registered event listeners.
@@ -102475,7 +103099,7 @@
     &lt;tr&gt;&lt;!-- blur --&gt;&lt;td&gt; &lt;dfn id=event-blur title=event-blur&gt;&lt;code&gt;blur&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#event&gt;Event&lt;/a&gt;&lt;/code&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;, elements
-     &lt;td&gt; Fired at nodes losing focus &lt;!-- XXX bug 23475 --&gt;
+     &lt;td&gt; Fired at nodes when they stop being &lt;a href=#focused&gt;focused&lt;/a&gt;
 
     &lt;tr&gt;&lt;!-- cancel --&gt;&lt;td&gt; &lt;dfn id=event-cancel title=event-cancel&gt;&lt;code&gt;cancel&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#event&gt;Event&lt;/a&gt;&lt;/code&gt;
@@ -102515,7 +103139,7 @@
     &lt;tr&gt;&lt;!-- focus --&gt;&lt;td&gt; &lt;dfn id=event-focus title=event-focus&gt;&lt;code&gt;focus&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#event&gt;Event&lt;/a&gt;&lt;/code&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;, elements
-     &lt;td&gt; Fired at nodes gaining focus &lt;!-- XXX bug 23475 --&gt;
+     &lt;td&gt; Fired at nodes &lt;a href=#gains-focus title=&quot;gains focus&quot;&gt;gaining focus&lt;/a&gt;
 
     &lt;tr&gt;&lt;!-- hashchange --&gt;&lt;td&gt; &lt;dfn id=event-hashchange title=event-hashchange&gt;&lt;code&gt;hashchange&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt; &lt;code&gt;&lt;a href=#hashchangeevent&gt;HashChangeEvent&lt;/a&gt;&lt;/code&gt;

Modified: source
===================================================================
--- source	2014-02-11 20:54:28 UTC (rev 8477)
+++ source	2014-02-19 22:39:15 UTC (rev 8478)
@@ -34587,7 +34587,8 @@
 
   &lt;p class=&quot;note&quot;&gt;Because a &lt;code&gt;map&lt;/code&gt; element (and its &lt;code&gt;area&lt;/code&gt; elements) can be
   associated with multiple &lt;code&gt;img&lt;/code&gt; and &lt;code&gt;object&lt;/code&gt; elements, it is possible for an
-  &lt;code&gt;area&lt;/code&gt; element to correspond to multiple focusable areas of the document.&lt;/p&gt;
+  &lt;code&gt;area&lt;/code&gt; element to correspond to multiple &lt;i data-x=&quot;focusable area&quot;&gt;focusable areas&lt;/i&gt;
+  of the document.&lt;/p&gt;
 
   &lt;p&gt;Image maps are &lt;span&gt;live&lt;/span&gt;; if the DOM is mutated, then the user agent must act as if it
   had rerun the algorithms for image maps.&lt;/p&gt;
@@ -47504,7 +47505,7 @@
   data-x=&quot;attr-input-title&quot;&gt;&lt;code&gt;title&lt;/code&gt;&lt;/dfn&gt; attribute to give a description of the pattern.
   User agents may use the contents of this attribute, if it is present, when informing the user that
   the pattern is not matched, or at any other suitable time, such as in a tooltip or read out by
-  assistive technology when the control gains focus.&lt;/p&gt;
+  assistive technology when the control &lt;span&gt;gains focus&lt;/span&gt;.&lt;/p&gt;
 
   &lt;div class=&quot;example&quot;&gt;
    &lt;p&gt;For example, the following snippet:&lt;/p&gt;
@@ -48048,7 +48049,7 @@
 
   &lt;p&gt;User agents should present this hint to the user, after having &lt;span data-x=&quot;strip line
   breaks&quot;&gt;stripped line breaks&lt;/span&gt; from it, when the element's &lt;span
-  data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; is the empty string or the control is not focused (or both),
+  data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; is the empty string or the control is not &lt;span&gt;focused&lt;/span&gt; (or both),
   e.g. by displaying it inside a blank unfocused control and hiding it otherwise.&lt;/p&gt;
 
   &lt;/div&gt;
@@ -48507,6 +48508,7 @@
 
   &lt;h5 id=&quot;common-input-element-events&quot;&gt;Common event behaviors&lt;/h5&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p&gt;When the &lt;code data-x=&quot;event-input-input&quot;&gt;input&lt;/code&gt; and &lt;code data-x=&quot;event-input-change&quot;&gt;change&lt;/code&gt;
   events &lt;span data-x=&quot;concept-input-apply&quot;&gt;apply&lt;/span&gt; (which is the case for all
   &lt;code&gt;input&lt;/code&gt; controls other than &lt;span data-x=&quot;concept-button&quot;&gt;buttons&lt;/span&gt; and those with
@@ -48515,7 +48517,7 @@
   user has interacted with the control. The &lt;dfn data-x=&quot;event-input-input&quot;&gt;&lt;code&gt;input&lt;/code&gt;&lt;/dfn&gt;
   event fires whenever the user has modified the data of the control. The &lt;dfn
   data-x=&quot;event-input-change&quot;&gt;&lt;code&gt;change&lt;/code&gt;&lt;/dfn&gt; event fires when the value is committed, if
-  that makes sense for the control, or else when the control loses focus. In all cases, the &lt;code
+  that makes sense for the control, or else when the control &lt;a href=&quot;#unfocus-causes-change-event&quot;&gt;loses focus&lt;/a&gt;. In all cases, the &lt;code
   data-x=&quot;event-input-input&quot;&gt;input&lt;/code&gt; event comes before the corresponding &lt;code
   data-x=&quot;event-input-change&quot;&gt;change&lt;/code&gt; event (if any).&lt;/p&gt;
 
@@ -48553,11 +48555,12 @@
   simple event&lt;/span&gt; that bubbles named &lt;code data-x=&quot;event-input-change&quot;&gt;change&lt;/code&gt; at the
   &lt;code&gt;input&lt;/code&gt; element.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p class=&quot;example&quot;&gt;An example of a user interface with a commit action would be a &lt;span
   data-x=&quot;attr-input-type-color&quot;&gt;Color&lt;/span&gt; control that consists of a single button that brings
   up a color wheel: if the &lt;span data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; only changes when the dialog
-  is closed, then that would be the explicit commit action. On the other hand, if the control can be
-  focused and manipulating the control changes the color interactively, then there might be no
+  is closed, then that would be the explicit commit action. On the other hand, if
+  manipulating the control changes the color interactively, then there might be no
   commit action.&lt;/p&gt;
 
   &lt;p class=&quot;example&quot;&gt;Another example of a user interface with a commit action would be a &lt;span
@@ -48572,7 +48575,7 @@
   action, the user agent must &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; that
   bubbles named &lt;code data-x=&quot;event-input-input&quot;&gt;input&lt;/code&gt; at the &lt;code&gt;input&lt;/code&gt; element. The
   corresponding &lt;code data-x=&quot;event-input-change&quot;&gt;change&lt;/code&gt; event, if any, will be fired when the
-  control &lt;span data-x=&quot;unfocusing steps&quot;&gt;loses focus&lt;/span&gt;.&lt;/p&gt;
+  control &lt;a href=&quot;#unfocus-causes-change-event&quot;&gt;loses focus&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p class=&quot;example&quot;&gt;Examples of a user changing the element's &lt;span
   data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; would include the user typing into a text field, pasting a
@@ -48580,8 +48583,9 @@
   changes to the value, e.g. hitting the &quot;delete&quot; key in an empty text field, or replacing some text
   in the field with text from the clipboard that happens to be exactly the same text.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p class=&quot;example&quot;&gt;A &lt;span data-x=&quot;attr-input-type-range&quot;&gt;Range&lt;/span&gt; control in the form of a
-  slider that the user has focused and is interacting with using a keyboard would be another example
+  slider that the user has &lt;span&gt;focused&lt;/span&gt; and is interacting with using a keyboard would be another example
   of the user changing the element's &lt;span data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; without a commit
   step.&lt;/p&gt;
 
@@ -50146,8 +50150,9 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p&gt;User agents should present this hint to the user when the element's &lt;span
-  data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; is the empty string and the control is not focused (e.g. by
+  data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; is the empty string and the control is not &lt;span&gt;focused&lt;/span&gt; (e.g. by
   displaying it inside a blank unfocused control). All U+000D CARRIAGE RETURN U+000A LINE FEED
   character pairs (CRLF) in the hint, as well as all other U+000D CARRIAGE RETURN (CR) and U+000A
   LINE FEED (LF) characters in the hint, must be treated as line breaks when rendering the hint.
@@ -52256,8 +52261,8 @@
    &lt;li&gt;&lt;p&gt;If the user has indicated (for example, by starting to type in a form control) that he
    does not wish focus to be changed, then optionally abort these steps.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; that checks to see if the element is &lt;span&gt;focusable&lt;/span&gt;, and
-   if so, runs the &lt;span&gt;focusing steps&lt;/span&gt; for that element. User agents may also change the
+&lt;!--CLEANUP--&gt;
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; that runs the &lt;span&gt;focusing steps&lt;/span&gt; for the element. User agents may also change the
    scrolling position of the document, or perform some other action that brings the element to the
    user's attention. The &lt;span&gt;task source&lt;/span&gt; for this task is the &lt;span&gt;user interaction task
    source&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
@@ -54658,7 +54663,7 @@
   owner&lt;/span&gt; is that &lt;code&gt;form&lt;/code&gt; element.&lt;/p&gt;
 
   &lt;p&gt;If the user agent supports letting the user submit a form implicitly (for example, on some
-  platforms hitting the &quot;enter&quot; key while a text field is focused implicitly submits the form), then
+  platforms hitting the &quot;enter&quot; key while a text field is &lt;span&gt;focused&lt;/span&gt; implicitly submits the form), then
   doing so for a form whose &lt;span&gt;default button&lt;/span&gt; has a defined &lt;span&gt;activation
   behavior&lt;/span&gt; must cause the user agent to &lt;span&gt;run synthetic click activation steps&lt;/span&gt; on
   that &lt;span&gt;default button&lt;/span&gt;.&lt;/p&gt;
@@ -57374,8 +57379,7 @@
 
   &lt;ol&gt;
 
-   &lt;li&gt;If the element is &lt;span&gt;focusable&lt;/span&gt;, run the &lt;span&gt;focusing steps&lt;/span&gt; for the
-   element.&lt;/li&gt;
+   &lt;li&gt;Run the &lt;span&gt;focusing steps&lt;/span&gt; for the element.&lt;/li&gt;
 
    &lt;li&gt;If the element has a defined &lt;span&gt;activation behavior&lt;/span&gt;, &lt;span&gt;run synthetic click
    activation steps&lt;/span&gt; on the element.&lt;/li&gt;
@@ -57539,24 +57543,32 @@
    &lt;li&gt;&lt;p&gt;Push &lt;var data-x=&quot;&quot;&gt;subject&lt;/var&gt; onto &lt;var data-x=&quot;&quot;&gt;subject&lt;/var&gt;'s
    &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;pending dialog stack&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;Run the &lt;span&gt;dialog focusing steps&lt;/span&gt; for &lt;var data-x=&quot;&quot;&gt;subject&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;The &lt;dfn&gt;dialog focusing steps&lt;/dfn&gt; for a &lt;code&gt;dialog&lt;/code&gt; element &lt;var
+  data-x=&quot;&quot;&gt;subject&lt;/var&gt; are as follows:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If for some reason &lt;var data-x=&quot;&quot;&gt;subject&lt;/var&gt; is not a &lt;span&gt;control group owner&lt;/span&gt;
+   at this point, or if it is &lt;span&gt;inert&lt;/span&gt;, abort these steps.&lt;/p&gt;&lt;/li&gt;
+
    &lt;li&gt;
 
-    &lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;control&lt;/var&gt; be the first element in tree order that has an &lt;code
-    data-x=&quot;attr-fe-autofocus&quot;&gt;autofocus&lt;/code&gt; attribute specified and whose nearest ancestor
-    &lt;code&gt;dialog&lt;/code&gt; element is &lt;var data-x=&quot;&quot;&gt;subject&lt;/var&gt;, if any.&lt;/p&gt;
+    &lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;control&lt;/var&gt; be the first non-&lt;span&gt;inert&lt;/span&gt; &lt;i&gt;focusable area&lt;/i&gt; in
+    &lt;var data-x=&quot;&quot;&gt;subject&lt;/var&gt;'s &lt;i&gt;control group&lt;/i&gt; whose &lt;i&gt;DOM anchor&lt;/i&gt; has an &lt;code
+    data-x=&quot;attr-fe-autofocus&quot;&gt;autofocus&lt;/code&gt; attribute specified.&lt;/p&gt;
 
-    &lt;p&gt;If there isn't one, then let &lt;var data-x=&quot;&quot;&gt;control&lt;/var&gt; be the first element in tree order
-    that is &lt;span&gt;focusable&lt;/span&gt; and whose nearest ancestor &lt;code&gt;dialog&lt;/code&gt; element is &lt;var
-    data-x=&quot;&quot;&gt;subject&lt;/var&gt;, if any.&lt;/p&gt;
+    &lt;p&gt;If there isn't one, then let &lt;var data-x=&quot;&quot;&gt;control&lt;/var&gt; be the first non-&lt;span&gt;inert&lt;/span&gt;
+    &lt;i&gt;focusable area&lt;/i&gt; in &lt;var data-x=&quot;&quot;&gt;subject&lt;/var&gt;'s &lt;i&gt;control group&lt;/i&gt;.&lt;/p&gt;
 
-    &lt;p&gt;If there isn't one of those either but &lt;var data-x=&quot;&quot;&gt;subject&lt;/var&gt; itself is
-    &lt;span&gt;focusable&lt;/span&gt;, then let &lt;var data-x=&quot;&quot;&gt;control&lt;/var&gt; be &lt;var
-    data-x=&quot;&quot;&gt;subject&lt;/var&gt;. (This is unusual.)&lt;/p&gt;
+    &lt;p&gt;If there isn't one of those either, then let &lt;var data-x=&quot;&quot;&gt;control&lt;/var&gt; be &lt;var
+    data-x=&quot;&quot;&gt;subject&lt;/var&gt;.&lt;/p&gt;
 
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If there is no &lt;var data-x=&quot;&quot;&gt;control&lt;/var&gt;, then abort these steps.&lt;/p&gt;&lt;/li&gt;
-
    &lt;li&gt;&lt;p&gt;Run the &lt;span&gt;focusing steps&lt;/span&gt; for &lt;var data-x=&quot;&quot;&gt;control&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
@@ -59701,12 +59713,16 @@
   &lt;!-- CANVAS-FOCUS-FALLBACK --&gt;
   &lt;p&gt;When a &lt;code&gt;canvas&lt;/code&gt; element &lt;span&gt;represents&lt;/span&gt; &lt;span&gt;embedded content&lt;/span&gt;, the
   user can still focus descendants of the &lt;code&gt;canvas&lt;/code&gt; element (in the &lt;span&gt;fallback
-  content&lt;/span&gt;). When an element is focused, it is the target of keyboard interaction events (even
+  content&lt;/span&gt;). When an element is &lt;span&gt;focused&lt;/span&gt;, it is the target of keyboard interaction events (even
   though the element itself is not visible). This allows authors to make an interactive canvas
-  keyboard-accessible: authors should have a one-to-one mapping of interactive regions to focusable
-  elements in the &lt;span&gt;fallback content&lt;/span&gt;. (Focus has no effect on mouse interaction events.)
+  keyboard-accessible: authors should have a one-to-one mapping of interactive regions to &lt;i data-x=&quot;focusable area&quot;&gt;focusable
+  areas&lt;/i&gt; in the &lt;span&gt;fallback content&lt;/span&gt;. (Focus has no effect on mouse interaction events.)
   &lt;a href=&quot;#refsDOMEVENTS&quot;&gt;[DOMEVENTS]&lt;/a&gt;&lt;/p&gt; &lt;!-- user interaction spec integration point --&gt;
 
+  &lt;p&gt;An element whose nearest &lt;code&gt;canvas&lt;/code&gt; element ancestor is &lt;span&gt;being rendered&lt;/span&gt;
+  and &lt;span&gt;represents&lt;/span&gt; &lt;span&gt;embedded content&lt;/span&gt; is an element that is &lt;dfn&gt;being used as
+  relevant canvas fallback content&lt;/dfn&gt;.&lt;/p&gt;
+
   &lt;hr&gt;
 
   &lt;p&gt;The &lt;code&gt;canvas&lt;/code&gt; element has two attributes to control the size of the element's bitmap:
@@ -64228,7 +64244,8 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;If the given element is focused, draws a focus ring around the &lt;span&gt;current default
+&lt;!--CLEANUP--&gt;
+    &lt;p&gt;If the given element is &lt;span&gt;focused&lt;/span&gt;, draws a focus ring around the &lt;span&gt;current default
     path&lt;/span&gt; or the given path, following the platform conventions for focus rings.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -64239,11 +64256,12 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;If the given element is focused, and the user has configured his system to draw focus rings
+&lt;!--CLEANUP--&gt;
+    &lt;p&gt;If the given element is &lt;span&gt;focused&lt;/span&gt;, and the user has configured his system to draw focus rings
     in a particular manner (for example, high contrast focus rings), draws a focus ring around the
     &lt;span&gt;current default path&lt;/span&gt; or the given path and returns false.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, returns true if the given element is focused, and false otherwise. This can thus
+    &lt;p&gt;Otherwise, returns true if the given element is &lt;span&gt;focused&lt;/span&gt;, and false otherwise. This can thus
     be used to determine when to draw a focus ring (see &lt;a href=&quot;#drawCustomFocusRingExample&quot;&gt;the
     example&lt;/a&gt; below).&lt;/p&gt;
 
@@ -64355,7 +64373,7 @@
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;element&lt;/var&gt; is not focused or is not a descendant of the element with
+   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;element&lt;/var&gt; is not &lt;span&gt;focused&lt;/span&gt; or is not a descendant of the element with
    whose context the method is associated, then abort these steps.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
@@ -64414,7 +64432,7 @@
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;element&lt;/var&gt; is not focused or is not a descendant of the element with
+   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;element&lt;/var&gt; is not &lt;span&gt;focused&lt;/span&gt; or is not a descendant of the element with
    whose context the method is associated, then return false and abort these steps.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;&lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;result&lt;/var&gt; be true.&lt;/p&gt;&lt;/li&gt;
@@ -65509,13 +65527,14 @@
   that given by the &lt;span&gt;hit region's ARIA role&lt;/span&gt;, and whose textual representation, if any,
   is given by the &lt;span&gt;hit region's label&lt;/span&gt;.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p class=&quot;note&quot;&gt;Thus, for instance, a user agent on a touch-screen device could provide haptic
   feedback when the user croses over a &lt;span&gt;hit region's bounding circumference&lt;/span&gt;, and then
   read the &lt;span&gt;hit region's label&lt;/span&gt; to the user. Similarly, a desktop user agent with a
   virtual accessibility focus separate from the keyboard input focus could allow the user to
   navigate through the hit regions, using the virtual DOM tree described above to enable
-  hierarchical navigation. When an interactive control inside the &lt;code&gt;canvas&lt;/code&gt; element is
-  focused, if the control has a corresponding region, then that &lt;span&gt;hit region's bounding
+  hierarchical navigation. When an interactive control inside the &lt;code&gt;canvas&lt;/code&gt; element
+  &lt;span&gt;gains focus&lt;/span&gt;, if the control has a corresponding region, then that &lt;span&gt;hit region's bounding
   circumference&lt;/span&gt; could be used to determine what area of the display to magnify.&lt;/p&gt;
 
   &lt;/div&gt;
@@ -66208,13 +66227,14 @@
   fallback content corresponding to each focusable part of the canvas, as in the &lt;a
   href=&quot;#drawCustomFocusRingExample&quot;&gt;example above&lt;/a&gt;.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p&gt;To expose text and interactive content on a &lt;code&gt;canvas&lt;/code&gt; to users of accessibility
   tools, authors should use the &lt;code data-x=&quot;dom-context-2d-addHitRegion&quot;&gt;addHitRegion()&lt;/code&gt;
   API. When rendering focus rings, to ensure that focus rings have the appearance of native focus
   rings, authors should use the &lt;code
   data-x=&quot;dom-context-2d-drawSystemFocusRing&quot;&gt;drawSystemFocusRing()&lt;/code&gt; method, passing it the
   element for which a ring is being drawn. This method only draws the focus ring if the element is
-  focused, so that it can simply be called whenever drawing the element, without checking whether
+  &lt;span&gt;focused&lt;/span&gt;, so that it can simply be called whenever drawing the element, without checking whether
   the element is focused or not first.&lt;/p&gt;
 
   &lt;p id=&quot;no-text-editing-in-canvas-please&quot;&gt;Authors should avoid implementing text editing controls
@@ -67029,8 +67049,9 @@
 
   &lt;/ul&gt;
 
-  &lt;p class=&quot;note&quot;&gt;This definition is used to determine what elements can be &lt;span data-x=&quot;tabindex
-  focus flag&quot;&gt;focused&lt;/span&gt; and which elements match the &lt;code
+&lt;!--CLEANUP--&gt;
+  &lt;p class=&quot;note&quot;&gt;This definition is used to determine what elements &lt;span data-x=&quot;tabindex
+  focus flag&quot;&gt;can be focused&lt;/span&gt; and which elements match the &lt;code
   data-x=&quot;selector-disabled&quot;&gt;:disabled&lt;/code&gt; pseudo-class.&lt;/p&gt;
 
 
@@ -67234,6 +67255,19 @@
    &lt;/dd&gt;
 
 
+   &lt;dt&gt;&lt;dfn data-x=&quot;selector-focus&quot;&gt;&lt;code&gt;:focus&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;For the purposes of the CSS ':focus' pseudo-class, an &lt;dfn&gt;element has the focus&lt;/dfn&gt; when
+    its &lt;span&gt;top-level browsing context&lt;/span&gt; has the system focus, it is not itself a
+    &lt;span&gt;browsing context container&lt;/span&gt;, and it is one of the elements listed in the &lt;span&gt;focus
+    chain&lt;/span&gt; of the &lt;span data-x=&quot;currently focused area of a top-level browsing
+    context&quot;&gt;currently focused area of the top-level browsing context&lt;/span&gt;.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+
    &lt;dt&gt;&lt;dfn data-x=&quot;selector-enabled&quot;&gt;&lt;code&gt;:enabled&lt;/code&gt;&lt;/dfn&gt;&lt;/dt&gt;
 
    &lt;dd&gt;
@@ -67562,9 +67596,10 @@
   &lt;p class=&quot;note&quot;&gt;Another section of this specification defines the &lt;i&gt;target element&lt;/i&gt; used with
   the &lt;code data-x=&quot;selector-target&quot;&gt;:target&lt;/code&gt; pseudo-class.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;This specification does not define when an element matches the &lt;code
-  data-x=&quot;selector-focus&quot;&gt;:focus&lt;/code&gt; or &lt;code data-x=&quot;selector-lang()&quot;&gt;:lang()&lt;/code&gt; dynamic
-  pseudo-classes, as those are all defined in sufficient detail in a language-agnostic fashion in
+&lt;!--CLEANUP--&gt;
+  &lt;p class=&quot;note&quot;&gt;This specification does not define when an element matches the
+  &lt;code data-x=&quot;selector-lang()&quot;&gt;:lang()&lt;/code&gt; dynamic
+  pseudo-class, as it is defined in sufficient detail in a language-agnostic fashion in
   the Selectors specification. &lt;a href=&quot;#refsSELECTORS&quot;&gt;[SELECTORS]&lt;/a&gt;&lt;/p&gt;
 
 &lt;!--REMOVE-TOPIC:CSS--&gt;
@@ -76360,8 +76395,7 @@
    data-x=&quot;&quot;&gt;target&lt;/var&gt; into view, with the &lt;var data-x=&quot;&quot;&gt;align to top flag&lt;/var&gt; set. &lt;a
    href=&quot;#refsCSSOMVIEW&quot;&gt;[CSSOMVIEW]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;target&lt;/var&gt; is a &lt;span&gt;focusable&lt;/span&gt; element, run the &lt;span&gt;focusing
-   steps&lt;/span&gt; for that element.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;Run the &lt;span&gt;focusing steps&lt;/span&gt; for that element.&lt;/p&gt;&lt;/li&gt;
 
   &lt;/ol&gt;
 
@@ -84896,8 +84930,8 @@
   data-x=&quot;event-mousemove&quot;&gt;mousemove&lt;/code&gt; and &lt;code data-x=&quot;event-click&quot;&gt;click&lt;/code&gt; events would
   be fired on the &lt;code&gt;body&lt;/code&gt; element rather than the paragraph.&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;When a node is inert, it also can't be &lt;span&gt;focusable&lt;/span&gt;, and it is disabled
-  if it is a &lt;span data-x=&quot;concept-command&quot;&gt;command&lt;/span&gt;.&lt;/p&gt;
+  &lt;p class=&quot;note&quot;&gt;When a node is inert, it generally cannot be focused. Inert nodes that are &lt;span
+  data-x=&quot;concept-command&quot;&gt;commands&lt;/span&gt; will also get disabled.&lt;/p&gt;
 
   &lt;p&gt;An entire &lt;code&gt;Document&lt;/code&gt; can be marked as &lt;dfn&gt;blocked by a modal dialog&lt;/dfn&gt; &lt;var
   data-x=&quot;&quot;&gt;subject&lt;/var&gt;. While a &lt;code&gt;Document&lt;/code&gt; is so marked, every node that is &lt;span
@@ -85112,33 +85146,345 @@
        <A HREF="http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onbeforeactivate.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onbeforeactivate.asp</A>
   --&gt;
 
+  &lt;h4&gt;Introduction&lt;/h4&gt;
+
+  &lt;!--END dev-html--&gt;&lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;&lt;!--START dev-html--&gt;
+
+  &lt;p&gt;An HTML user interface typically consists of multiple interactive widgets, such as form
+  controls, scrollable regions, links, dialog boxes, browser tabs, and so forth. These widgets form
+  a hierarchy, with some (e.g. browser tabs, dialog boxes) containing others (e.g. links, form
+  controls).&lt;/p&gt;
+
+  &lt;p&gt;When interacting with an interface using a keyboard, key input is channeled from the system,
+  through the hierarchy of interactive widgets, to an active widget, which is said to be
+  &lt;i data-x=&quot;&quot;&gt;focused&lt;/i&gt;.&lt;/p&gt;
+
+  &lt;div class=&quot;example&quot;&gt;
+
+   &lt;p&gt;Consider an HTML application running in a browser tab running in a graphical environment.
+   Suppose this application had a page with some text fields and links, and was currently showing a
+   modal dialog, which itself had a text field and a button.&lt;/p&gt;
+
+   &lt;p&gt;The hierarchy of focusable widgets, in this scenario, would include the browser window, which
+   would have, amongst its children, the browser tab containing the HTML application. The tab itself
+   would have as its children the various links and text fields, as well as the dialog. The dialog
+   itself would have as its children the text field and the button.&lt;/p&gt;
+
+   &lt;p&gt;&lt;img src=&quot;images/focus-tree.png&quot; alt=&quot;&quot;&gt; &lt;!-- purely decorative: it repeats the previous
+   paragraph, in graphical form --&gt;
+
+   &lt;p&gt;If the widget with &lt;i&gt;focus&lt;/i&gt; in this example was the text field in the dialog box, then key
+   input would be channeled from the graphical system to &amp;#x2460; the Web browser, then to &amp;#x2461;
+   the tab, then to &amp;#x2462; the dialog, and finally to &amp;#x2463; the text field.&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;p&gt;Keyboard &lt;em&gt;events&lt;/em&gt; are always targetted at this &lt;i data-x=&quot;&quot;&gt;focused&lt;/i&gt; element.&lt;/p&gt;
+
+
+  &lt;h4&gt;Data model&lt;/h4&gt;
+
+  &lt;p&gt;The term &lt;dfn&gt;focusable area&lt;/dfn&gt; is used to refer to regions of the interface that can become
+  the target of keyboard input. Focusable areas can be elements, parts of elements, or other regions
+  managed by the user agent.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;i&gt;focusable area&lt;/i&gt; has a &lt;dfn&gt;DOM anchor&lt;/dfn&gt;, which is a &lt;code&gt;Node&lt;/code&gt; object
+  that represents the position of the &lt;i&gt;focusable area&lt;/i&gt; in the DOM. (When the &lt;i&gt;focusable
+  area&lt;/i&gt; is itself a &lt;code&gt;Node&lt;/code&gt;, it is its own &lt;i&gt;DOM anchor&lt;/i&gt;.) The &lt;i&gt;DOM anchor&lt;/i&gt; is
+  used in some APIs as a substitute for the &lt;i&gt;focusable area&lt;/i&gt; when there is no other DOM object
+  to represent the &lt;i&gt;focusable area&lt;/i&gt;.&lt;/p&gt;
+
+  &lt;p&gt;The following table describes what objects can be &lt;i data-x=&quot;focusable area&quot;&gt;focusable
+  areas&lt;/i&gt;. The cells in the left column describe objects that can be &lt;i data-x=&quot;focusable
+  area&quot;&gt;focusable areas&lt;/i&gt;; the cells in the right column describe the &lt;i data-x=&quot;DOM anchor&quot;&gt;DOM
+  anchors&lt;/i&gt; for those elements. (The cells that span both columns are non-normative examples.)&lt;/p&gt;
+
+  &lt;table id=&quot;table-fa&quot;&gt;
+   &lt;thead&gt;
+    &lt;tr&gt;
+     &lt;th id=&quot;th-fa-area&quot;&gt;&lt;i&gt;Focusable area&lt;/i&gt;
+     &lt;th id=&quot;th-fa-dom-rep&quot;&gt;&lt;i&gt;DOM anchor&lt;/i&gt;
+    &lt;tr&gt;
+     &lt;th id=&quot;th-fa-examples&quot; colspan=2&gt;Examples
+
+   &lt;tbody&gt;
+    &lt;tr&gt;
+     &lt;th class=&quot;data-header&quot; headers=&quot;th-fa-area&quot; id=&quot;td-fa-1&quot;&gt;
+     Elements that have their &lt;span&gt;tabindex focus flag&lt;/span&gt; set, that are not &lt;span
+     data-x=&quot;concept-element-disabled&quot;&gt;actually disabled&lt;/span&gt;, that are not &lt;span
+     data-x=&quot;expressly inert control&quot;&gt;expressly inert&lt;/span&gt;, and that are either &lt;span&gt;being
+     rendered&lt;/span&gt; or &lt;span&gt;being used as relevant canvas fallback content&lt;/span&gt;. &lt;!--
+     CANVAS-FOCUS-FALLBACK --&gt;
+     &lt;td headers=&quot;td-fa-1 th-fa-dom-rep&quot;&gt;
+     The element itself.
+    &lt;tr&gt;
+     &lt;td headers=&quot;td-fa-1 th-fa-examples&quot; colspan=2&gt;
+     &lt;p class=&quot;example&quot;&gt;&lt;code&gt;iframe&lt;/code&gt;, &lt;code data-x=&quot;attr-input-type-text&quot;&gt;&lt;input
+     type=text&gt;&lt;/code&gt;, sometimes &lt;code data-x=&quot;a&quot;&gt;&lt;a href=&quot;&quot;&gt;&lt;/code&gt; (depending on platform
+     conventions).
+
+   &lt;tbody&gt;
+    &lt;tr&gt;
+     &lt;th class=&quot;data-header&quot; headers=&quot;th-fa-area&quot; id=&quot;td-fa-2&quot;&gt;
+     The shapes of &lt;code&gt;area&lt;/code&gt; elements in an &lt;span&gt;image map&lt;/span&gt; associated with an
+     &lt;code&gt;img&lt;/code&gt; element that is &lt;span&gt;being rendered&lt;/span&gt; and is not &lt;span data-x=&quot;expressly
+     inert control&quot;&gt;expressly inert&lt;/span&gt;.
+     &lt;td headers=&quot;td-fa-2 th-fa-dom-rep&quot;&gt;
+     The &lt;code&gt;img&lt;/code&gt; element.
+    &lt;tr&gt;
+     &lt;td headers=&quot;td-fa-2 th-fa-examples&quot; colspan=2&gt;
+     &lt;div class=&quot;example&quot;&gt;
+      &lt;p&gt;In the following example, the &lt;code&gt;area&lt;/code&gt; element creates two shapes, one on each
+      image. The &lt;i&gt;DOM anchor&lt;/i&gt; of the first shape is the first &lt;code&gt;img&lt;/code&gt; element, and the
+      &lt;i&gt;DOM anchor&lt;/i&gt; of the second shape is the second &lt;code&gt;img&lt;/code&gt; element.&lt;/p&gt;
+      &lt;pre&gt;&lt;map id=wallmap&gt;&lt;area alt=&quot;Enter Door&quot; coords=&quot;10,10,100,200&quot; href=&quot;door.html&quot;&gt;&lt;/map&gt;
+...
+&lt;img src=&quot;images/innerwall.jpeg&quot; alt=&quot;There is a white wall here, with a door.&quot; usemap=&quot;#wallmap&quot;&gt;
+...
+&lt;img src=&quot;images/outerwall.jpeg&quot; alt=&quot;There is a red wall here, with a door.&quot; usemap=&quot;#wallmap&quot;&gt;&lt;/pre&gt;
+     &lt;/div&gt;
+
+   &lt;tbody&gt;
+    &lt;tr&gt;
+     &lt;th class=&quot;data-header&quot; headers=&quot;th-fa-area&quot; id=&quot;td-fa-3&quot;&gt;
+     The user-agent provided subwidgets of elements that are &lt;span&gt;being rendered&lt;/span&gt; and are not
+     &lt;span data-x=&quot;concept-element-disabled&quot;&gt;actually disabled&lt;/span&gt; or &lt;span data-x=&quot;expressly
+     inert control&quot;&gt;expressly inert&lt;/span&gt;.
+     &lt;td headers=&quot;td-fa-3 th-fa-dom-rep&quot;&gt;
+     The element for which the &lt;i&gt;focusable area&lt;/i&gt; is a subwidget.
+    &lt;tr&gt;
+     &lt;td headers=&quot;td-fa-3 th-fa-examples&quot; colspan=2&gt;
+     &lt;p class=&quot;example&quot;&gt;The &lt;span data-x=&quot;expose a user interface to the user&quot;&gt;controls in the user
+     interface that is exposed to the user&lt;/span&gt; for a &lt;code&gt;video&lt;/code&gt; element, the up and down
+     buttons in a spin-control version of &lt;code data-x=&quot;attr-input-type-number&quot;&gt;&lt;input
+     type=number&gt;&lt;/code&gt;, the two range control widgets in a &lt;code
+     data-x=&quot;attr-input-type-range&quot;&gt;&lt;input type=range multiple&gt;&lt;/code&gt;, the part of a
+     &lt;code&gt;details&lt;/code&gt; element's rendering that enabled the element to be opened or closed using
+     keyboard input.&lt;/p&gt;
+
+   &lt;tbody&gt;
+    &lt;tr&gt;
+     &lt;th class=&quot;data-header&quot; headers=&quot;th-fa-area&quot; id=&quot;td-fa-4&quot;&gt;
+     The scrollable regions of elements that are &lt;span&gt;being rendered&lt;/span&gt; are not &lt;span
+     data-x=&quot;expressly inert control&quot;&gt;expressly inert&lt;/span&gt;. &lt;!-- the being rendered part is kinda
+     redundant, a scrollable region is a box generated for the element so by definition if the
+     element has a scrollable region it is being rendered --&gt;
+     &lt;td headers=&quot;td-fa-4 th-fa-dom-rep&quot;&gt;
+     The element for which the box that the scrollable region scrolls was created.
+    &lt;tr&gt;
+     &lt;td headers=&quot;td-fa-4 th-fa-examples&quot; colspan=2&gt;
+     &lt;p class=&quot;example&quot;&gt;The CSS 'overflow' property's 'scroll' value typically creates a scrollable
+     region.&lt;/p&gt;
+
+   &lt;tbody&gt;
+    &lt;tr&gt;
+     &lt;th class=&quot;data-header&quot; headers=&quot;th-fa-area&quot; id=&quot;td-fa-5&quot;&gt;
+     The viewport of a &lt;code&gt;Document&lt;/code&gt; that is in a &lt;span&gt;browsing context&lt;/span&gt; and is not
+     &lt;span&gt;inert&lt;/span&gt;.
+     &lt;td headers=&quot;td-fa-5 th-fa-dom-rep&quot;&gt;
+     The &lt;code&gt;Document&lt;/code&gt; for which the viewport was created.
+    &lt;tr&gt;
+     &lt;td headers=&quot;td-fa-5 th-fa-examples&quot; colspan=2&gt;
+     &lt;p class=&quot;example&quot;&gt;The contents of an &lt;code&gt;iframe&lt;/code&gt;.&lt;/p&gt;
+
+   &lt;tbody&gt;
+    &lt;tr&gt;
+     &lt;th class=&quot;data-header&quot; headers=&quot;th-fa-area&quot; id=&quot;td-fa-6&quot;&gt;
+     Any other element or part of an element, especially to aid with accessibility or to better
+     match platform conventions.
+     &lt;td headers=&quot;td-fa-6 th-fa-dom-rep&quot;&gt;
+     The element.
+    &lt;tr&gt;
+     &lt;td headers=&quot;td-fa-6 th-fa-examples&quot; colspan=2&gt;
+     &lt;p class=&quot;example&quot;&gt;A user agent could make all list item bullets focusable, so that a user can
+     more easily navigate lists.&lt;/p&gt;
+     &lt;p class=&quot;example&quot;&gt;Similarly, a user agent could make all elements with &lt;code
+     data-x=&quot;attr-title&quot;&gt;title&lt;/code&gt; attributes focusable, so that their advisory information can
+     be accessed.&lt;/p&gt;
+
+  &lt;/table&gt;
+
+  &lt;p id=&quot;bc-focus-ergo-bcc-focus&quot; class=&quot;note&quot;&gt;A &lt;span&gt;browsing context container&lt;/span&gt; (e.g. an
+  &lt;code&gt;iframe&lt;/code&gt;) is a &lt;i&gt;focusable area&lt;/i&gt;, but key events routed to a &lt;span&gt;browsing context
+  container&lt;/span&gt; get immediately routed to the &lt;span&gt;nested browsing context&lt;/span&gt;'s &lt;span&gt;active
+  document&lt;/span&gt;. Similarly, in sequential focus navigation a &lt;span&gt;browsing context
+  container&lt;/span&gt; essentially acts merely as a placeholder for its &lt;span&gt;nested browsing
+  context&lt;/span&gt;'s &lt;span&gt;active document&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;i&gt;focusable area&lt;/i&gt; belongs to a &lt;dfn&gt;control group&lt;/dfn&gt;. Each &lt;i&gt;control group&lt;/i&gt; has
+  an &lt;dfn data-x=&quot;control group owner&quot;&gt;owner&lt;/dfn&gt;. &lt;span data-x=&quot;control group owner&quot;&gt;Control group
+  owners&lt;/span&gt; are &lt;dfn data-x=&quot;control group owner object&quot;&gt;control group owner objects&lt;/dfn&gt;. The
+  following are &lt;span data-x=&quot;control group owner object&quot;&gt;control group owner objects&lt;/span&gt;:&lt;/p&gt;
+
+  &lt;ul class=&quot;brief&quot;&gt;
+
+   &lt;li&gt;&lt;code&gt;Document&lt;/code&gt; object in &lt;span data-x=&quot;browsing context&quot;&gt;browsing contexts&lt;/span&gt;.&lt;/li&gt;
+
+   &lt;li&gt;&lt;code&gt;dialog&lt;/code&gt; elements that have an &lt;code data-x=&quot;attr-dialog-open&quot;&gt;open&lt;/code&gt;
+   attribute specified and that are &lt;span&gt;being rendered&lt;/span&gt;.&lt;/li&gt;
+
+  &lt;/ul&gt;
+
+  &lt;p&gt;Each &lt;span&gt;control group owner object&lt;/span&gt; owns one &lt;i&gt;control group&lt;/i&gt; (though that
+  group might be empty).&lt;/p&gt;
+
+  &lt;p&gt;If the &lt;i&gt;DOM anchor&lt;/i&gt; of a &lt;i&gt;focusable area&lt;/i&gt; is a &lt;span&gt;control group owner
+  object&lt;/span&gt;, then that &lt;i&gt;focusable area&lt;/i&gt; belongs to that &lt;span&gt;control group owner
+  object&lt;/span&gt;'s &lt;i&gt;control group&lt;/i&gt;. Otherwise, the &lt;i&gt;focusable area&lt;/i&gt; belongs to its
+  &lt;i&gt;DOM anchor&lt;/i&gt;'s nearest ancestor &lt;span&gt;control group owner object&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;div class=&quot;example&quot;&gt;
+
+   &lt;p&gt;Thus, a viewport always belongs to the &lt;i&gt;control group&lt;/i&gt; of the &lt;code&gt;Document&lt;/code&gt;
+   for which the viewport was created, an &lt;code&gt;input&lt;/code&gt; control belongs to the &lt;i&gt;control
+   group&lt;/i&gt; of its nearest ancestor &lt;code&gt;dialog&lt;/code&gt; or &lt;code&gt;Document&lt;/code&gt;, and an image
+   map's shapes belong to the nearest ancestor &lt;code&gt;dialog&lt;/code&gt; or &lt;code&gt;Document&lt;/code&gt; of the
+   &lt;code&gt;img&lt;/code&gt; elements (not the &lt;code&gt;area&lt;/code&gt; elements &mdash; this means one
+   &lt;code&gt;area&lt;/code&gt; element might create multiple shapes in different &lt;i data-x=&quot;control
+   group&quot;&gt;control groups&lt;/i&gt;).&lt;/p&gt;
+
+  &lt;/div&gt;
+
+  &lt;p&gt;An element is &lt;dfn data-x=&quot;expressly inert control&quot;&gt;expressly inert&lt;/dfn&gt; if it is
+  &lt;span&gt;inert&lt;/span&gt; but it is not a &lt;span&gt;control group owner object&lt;/span&gt; and its nearest
+  ancestor &lt;span&gt;control group owner object&lt;/span&gt; is not &lt;span&gt;inert&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;One &lt;i&gt;focusable area&lt;/i&gt; in each non-empty &lt;i&gt;control group&lt;/i&gt; is designated the
+  &lt;dfn&gt;focused area of the control group&lt;/dfn&gt;. Which control is so designated changes over time,
+  based on algorithms in this specification. If a &lt;i&gt;control group&lt;/i&gt; is empty, it has no &lt;i
+  data-x=&quot;focused area of the control group&quot;&gt;focused area&lt;/i&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;span&gt;control group owner object&lt;/span&gt; can also act as the &lt;dfn data-x=&quot;dialog group
+  manager&quot;&gt;manager&lt;/dfn&gt; of a &lt;dfn&gt;dialog group&lt;/dfn&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;code&gt;dialog&lt;/code&gt; element that has an &lt;code data-x=&quot;attr-dialog-open&quot;&gt;open&lt;/code&gt;
+  attribute specified and that is &lt;span&gt;being rendered&lt;/span&gt; (i.e. that is a &lt;span&gt;control group
+  owner object&lt;/span&gt;) and is not &lt;span data-x=&quot;expressly inert dialog&quot;&gt;expressly inert&lt;/span&gt;
+  belongs to the &lt;i&gt;dialog group&lt;/i&gt; whose &lt;span data-x=&quot;dialog group manager&quot;&gt;manager&lt;/span&gt; is
+  the &lt;code&gt;dialog&lt;/code&gt; element's nearest ancestor &lt;span&gt;control group owner object&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;A &lt;code&gt;dialog&lt;/code&gt; is &lt;dfn data-x=&quot;expressly inert dialog&quot;&gt;expressly inert&lt;/dfn&gt; if it is
+  &lt;span&gt;inert&lt;/span&gt; but its nearest ancestor &lt;span&gt;control group owner object&lt;/span&gt; is not.&lt;/p&gt;
+
+  &lt;p&gt;If no &lt;code&gt;dialog&lt;/code&gt; element has a particular &lt;span&gt;control group owner object&lt;/span&gt; as
+  its nearest ancestor &lt;span&gt;control group owner object&lt;/span&gt;, then that &lt;span&gt;control group owner
+  object&lt;/span&gt; has no &lt;i&gt;dialog group&lt;/i&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;i&gt;dialog group&lt;/i&gt; can have a &lt;code&gt;dialog&lt;/code&gt; designated as the &lt;dfn&gt;focused
+  dialog of the dialog group&lt;/dfn&gt;. Which &lt;code&gt;dialog&lt;/code&gt; is so designated changes over time,
+  based on algorithms in this specification.&lt;/p&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;&lt;i data-x=&quot;focusable area&quot;&gt;Focusable areas&lt;/i&gt; in &lt;i data-x=&quot;control group&quot;&gt;control groups&lt;/i&gt;
+  are ordered relative to the &lt;span&gt;tree order&lt;/span&gt; of their &lt;i data-x=&quot;DOM anchor&quot;&gt;DOM
+  anchors&lt;/i&gt;. &lt;i data-x=&quot;focusable area&quot;&gt;Focusable areas&lt;/i&gt; with the same &lt;i&gt;DOM anchor&lt;/i&gt; in a
+  &lt;i&gt;control group&lt;/i&gt; are ordered relative to their CSS box's relative positions in a pre-order,
+  depth-first traversal of the box tree. &lt;a href=&quot;#refsCSS&quot;&gt;[CSS]&lt;/a&gt;&lt;/p&gt;
+
+  &lt;p&gt;Elements in &lt;i data-x=&quot;dialog group&quot;&gt;dialog groups&lt;/i&gt; are ordered in &lt;span&gt;tree
+  order&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;The &lt;dfn&gt;currently focused area of a top-level browsing context&lt;/dfn&gt; at any particular time is
+  the &lt;i&gt;focusable area&lt;/i&gt; or &lt;code&gt;dialog&lt;/code&gt; returned by this algorithm:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;code&gt;Document&lt;/code&gt; of the &lt;span&gt;top-level
+   browsing context&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; has a &lt;i&gt;dialog group&lt;/i&gt; with a designated
+    &lt;span&gt;focused dialog of the dialog group&lt;/span&gt;, then let &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; be the
+    designated &lt;span&gt;focused dialog of the dialog group&lt;/span&gt;, and redo this step.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; has a non-empty &lt;i&gt;control group&lt;/i&gt;, and the
+    designated &lt;span&gt;focused area of the control group&lt;/span&gt; is a &lt;span&gt;browsing context
+    container&lt;/span&gt;, then let &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;span&gt;active document&lt;/span&gt; of
+    that &lt;span&gt;browsing context container&lt;/span&gt;'s &lt;span&gt;nested browsing context&lt;/span&gt;, and redo
+    this step.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; has a non-empty &lt;i&gt;control group&lt;/i&gt;, let
+    &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; be the designated &lt;span&gt;focused area of the control
+    group&lt;/span&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;An element that is the &lt;i&gt;DOM anchor&lt;/i&gt; of a &lt;i&gt;focusable area&lt;/i&gt; is said to &lt;dfn
+  data-x=&quot;gains focus&quot;&gt;gain focus&lt;/dfn&gt; when that &lt;i&gt;focusable area&lt;/i&gt; becomes the &lt;span&gt;currently
+  focused area of a top-level browsing context&lt;/span&gt;. When an element is the &lt;i&gt;DOM anchor&lt;/i&gt; of a
+  &lt;i&gt;focusable area&lt;/i&gt; of the &lt;span&gt;currently focused area of a top-level browsing context&lt;/span&gt;,
+  it is &lt;dfn&gt;focused&lt;/dfn&gt;.&lt;/p&gt;
+
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;p&gt;When an element is &lt;i&gt;focused&lt;/i&gt;, key events received by the document must be targeted at that
-  element. There may be no element focused; when no element is focused, key events received by the
-  document must be targeted at &lt;span&gt;the body element&lt;/span&gt;, if there is one, or else at the
-  &lt;code&gt;Document&lt;/code&gt;'s root element, if there is one. If there is no root element, key events
-  must not be fired.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn&gt;focus chain&lt;/dfn&gt; of a &lt;i&gt;focusable area&lt;/i&gt; or &lt;span&gt;control group owner
+  object&lt;/span&gt; &lt;var data-x=&quot;&quot;&gt;subject&lt;/var&gt; is the ordered list constructed as follows:&lt;/p&gt;
 
-  &lt;p&gt;User agents may track focus for each &lt;span&gt;browsing context&lt;/span&gt; or &lt;code&gt;Document&lt;/code&gt;
-  individually, or may support only one focused element per &lt;span&gt;top-level browsing context&lt;/span&gt;
-  &mdash; user agents should follow platform conventions in this regard.&lt;/p&gt;
+  &lt;ol&gt;
 
-  &lt;p&gt;Which elements within a &lt;span&gt;top-level browsing context&lt;/span&gt; currently have focus must be
-  independent of whether or not the &lt;span&gt;top-level browsing context&lt;/span&gt; itself has the &lt;i&gt;system
-  focus&lt;/i&gt;.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;current object&lt;/var&gt; be &lt;var data-x=&quot;&quot;&gt;subject&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
-  &lt;p id=&quot;bc-focus-ergo-bcc-focus&quot;&gt;When a &lt;span&gt;child browsing context&lt;/span&gt; is focused, its
-  &lt;span&gt;browsing context container&lt;/span&gt; must also have focus.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;output&lt;/var&gt; be an empty list.&lt;/p&gt;&lt;/li&gt;
 
-  &lt;p class=&quot;note&quot;&gt;When an element is focused, the element matches the CSS &lt;code&gt;:focus&lt;/code&gt;
-  pseudo-class.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;&lt;i&gt;Loop&lt;/i&gt;: Append &lt;var data-x=&quot;&quot;&gt;current object&lt;/var&gt; to &lt;var data-x=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;current object&lt;/var&gt; is an &lt;code&gt;area&lt;/code&gt; element's shape, append
+    that &lt;code&gt;area&lt;/code&gt; element to &lt;var data-x=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var data-x=&quot;&quot;&gt;current object&lt;/var&gt; is a &lt;i&gt;focusable area&lt;/i&gt; whose &lt;i&gt;DOM
+    anchor&lt;/i&gt; is an element that is not &lt;var data-x=&quot;&quot;&gt;current object&lt;/var&gt; itself, append that
+    &lt;i&gt;DOM anchor&lt;/i&gt; element to &lt;var data-x=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var data-x=&quot;&quot;&gt;current object&lt;/var&gt; is a &lt;code&gt;dialog&lt;/code&gt; object in a
+    &lt;i&gt;dialog group&lt;/i&gt;, let &lt;var data-x=&quot;&quot;&gt;current object&lt;/var&gt; be that &lt;i&gt;dialog
+    group&lt;/i&gt;'s &lt;span data-x=&quot;dialog group manager&quot;&gt;manager&lt;/span&gt;, and return to the step
+    labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var data-x=&quot;&quot;&gt;current object&lt;/var&gt; is a &lt;i&gt;focusable area&lt;/i&gt;, let &lt;var
+    data-x=&quot;&quot;&gt;current object&lt;/var&gt; be that &lt;i&gt;focusable area&lt;/i&gt;'s &lt;i&gt;control group&lt;/i&gt;'s
+    &lt;span data-x=&quot;control group owner&quot;&gt;owner&lt;/span&gt;, and return to the step labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var data-x=&quot;&quot;&gt;current object&lt;/var&gt; is a &lt;code&gt;Document&lt;/code&gt; in a
+    &lt;span&gt;nested browsing context&lt;/span&gt;, let &lt;var data-x=&quot;&quot;&gt;current object&lt;/var&gt; be its
+    &lt;span&gt;browsing context container&lt;/span&gt;, and return to the step labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;Return &lt;var data-x=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;
+
+    &lt;p class=&quot;note&quot;&gt;The chain starts with &lt;var data-x=&quot;&quot;&gt;subject&lt;/var&gt; and (if &lt;var
+    data-x=&quot;&quot;&gt;subject&lt;/var&gt; is or can be the &lt;span&gt;currently focused area of a top-level browsing
+    context&lt;/span&gt;) continues up the focus hierarchy up to the &lt;code&gt;Document&lt;/code&gt; of the
+    &lt;span&gt;top-level browsing context&lt;/span&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+  &lt;/ol&gt;
+
   &lt;/div&gt;
 
 
   &lt;h4&gt;Sequential focus navigation and the &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute&lt;/h4&gt;
 
+  &lt;!-- XXX dfn sequential focus navigation --&gt;
+  &lt;!-- e.g. when tabbing into a &lt;span&gt;browsing context container&lt;/span&gt;, you defer to the Document's idea of what the first focusable area is --&gt;
+
   &lt;p&gt;The &lt;dfn data-x=&quot;attr-tabindex&quot;&gt;&lt;code&gt;tabindex&lt;/code&gt;&lt;/dfn&gt; content attribute allows authors to
   control whether an element is supposed to be focusable, whether it is supposed to be reachable
   using sequential focus navigation, and what is to be the relative order of the element for the
@@ -85152,8 +85498,8 @@
   &lt;div class=&quot;impl&quot;&gt;
 
   &lt;p&gt;Each element can have a &lt;dfn id=&quot;specially-focusable&quot;&gt;tabindex focus flag&lt;/dfn&gt; set, as defined
-  below. This flag is a factor that contributes towards determining whether an element is
-  &lt;span&gt;focusable&lt;/span&gt;, as described in the next section.&lt;/p&gt;
+  below. This flag is a factor that contributes towards determining whether an element is a
+  &lt;i&gt;focusable area&lt;/i&gt;, as described in the previous section.&lt;/p&gt;
 
   &lt;p&gt;If the attribute is specified, it must be parsed using the &lt;span&gt;rules for parsing
   integers&lt;/span&gt;. The attribute's values have the following meanings:&lt;/p&gt;
@@ -85165,8 +85511,10 @@
    &lt;dd&gt;
 
     &lt;p&gt;The user agent should follow platform conventions to determine if the element's
-    &lt;span&gt;tabindex focus flag&lt;/span&gt; is set and, if so, whether the element can be reached using
-    sequential focus navigation, and if so, what its relative order should be.&lt;/p&gt;
+    &lt;span&gt;tabindex focus flag&lt;/span&gt; is set and, if so, whether the element and any &lt;i
+    data-x=&quot;focusable area&quot;&gt;focusable areas&lt;/i&gt; that have the element as their &lt;i&gt;DOM anchor&lt;/i&gt; can
+    be reached using sequential focus navigation, and if so, what their relative order should
+    be.&lt;/p&gt;
 
     &lt;p&gt;Modulo platform conventions, it is suggested that for the following elements, the
     &lt;span&gt;tabindex focus flag&lt;/span&gt; be set:&lt;/p&gt;
@@ -85216,7 +85564,8 @@
    &lt;dd&gt;
 
     &lt;p&gt;The user agent must set the element's &lt;span&gt;tabindex focus flag&lt;/span&gt;, but should not allow
-    the element to be reached using sequential focus navigation.&lt;/p&gt;
+    the element, or any &lt;i data-x=&quot;focusable area&quot;&gt;focusable areas&lt;/i&gt; that have the element as
+    their &lt;i&gt;DOM anchor&lt;/i&gt;, to be reached using sequential focus navigation.&lt;/p&gt;
 
     &lt;p class=&quot;note&quot;&gt;One valid reason to ignore the requirement that sequential focus navigation not
     allow the author to lead to the element would be if the user's only mechanism for moving the
@@ -85231,8 +85580,10 @@
 
    &lt;dd&gt;
 
+&lt;!--CLEANUP--&gt;
     &lt;p&gt;The user agent must set the element's &lt;span&gt;tabindex focus flag&lt;/span&gt;, should allow the
-    element to be reached using sequential focus navigation, and should follow platform conventions
+    element and any &lt;i data-x=&quot;focusable area&quot;&gt;focusable areas&lt;/i&gt; that have the element as
+    their &lt;i&gt;DOM anchor&lt;/i&gt; to be reached using sequential focus navigation, and should follow platform conventions
     to determine the element's relative order.&lt;/p&gt;
 
    &lt;/dd&gt;
@@ -85241,33 +85592,35 @@
 
    &lt;dd&gt;
 
+&lt;!--CLEANUP--&gt;
     &lt;p&gt;The user agent must set the element's &lt;span&gt;tabindex focus flag&lt;/span&gt;, should allow the
-    element to be reached using sequential focus navigation, and should place the element in the
-    sequential focus navigation order so that it is:&lt;/p&gt;
+    element and any &lt;i data-x=&quot;focusable area&quot;&gt;focusable areas&lt;/i&gt; that have the element as their
+    &lt;i&gt;DOM anchor&lt;/i&gt; to be reached using sequential focus navigation, and should place the
+    element &mdash; referenced as &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; below &mdash; and the aforementioned &lt;i data-x=&quot;focusable area&quot;&gt;focusable areas&lt;/i&gt; in the sequential
+    focus navigation order so that they are:&lt;/p&gt;
 
-    &lt;ul&gt;
+    &lt;ul&gt;&lt;!--CLEANUP--&gt;
 
-     &lt;li&gt;before any &lt;span&gt;focusable&lt;/span&gt; element whose &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt;
+     &lt;li&gt;before any &lt;i&gt;focusable area&lt;/i&gt; whose &lt;i&gt;DOM anchor&lt;/i&gt; is an element whose &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt;
      attribute has been omitted or whose value, when parsed, returns an error,&lt;/li&gt;
 
-     &lt;li&gt;before any &lt;span&gt;focusable&lt;/span&gt; element whose &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt;
+     &lt;li&gt;before any &lt;i&gt;focusable area&lt;/i&gt; whose &lt;i&gt;DOM anchor&lt;/i&gt; is an element whose &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt;
      attribute has a value equal to or less than zero,&lt;/li&gt;
 
-     &lt;li&gt;after any element whose &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value
+     &lt;li&gt;after any &lt;i&gt;focusable area&lt;/i&gt; whose &lt;i&gt;DOM anchor&lt;/i&gt; is an element whose &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value
      greater than zero but less than the value of the &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt;
-     attribute on the element,&lt;/li&gt;
+     attribute on &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt;,&lt;/li&gt;
 
-     &lt;li&gt;after any element whose &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value
-     equal to the value of the &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute on the element
-     but that is earlier in the document in &lt;span&gt;tree order&lt;/span&gt; than the element,&lt;/li&gt;
+     &lt;li&gt;after any &lt;i&gt;focusable area&lt;/i&gt; whose &lt;i&gt;DOM anchor&lt;/i&gt; is an element whose &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value
+     equal to the value of the &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute on &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt;
+     but that is earlier in the document in &lt;span&gt;tree order&lt;/span&gt; than &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt;,&lt;/li&gt;
 
-     &lt;li&gt;before any element whose &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value
-     equal to the value of the &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute on the element
-     but that is later in the document in &lt;span&gt;tree order&lt;/span&gt; than the element, and&lt;/li&gt;
+     &lt;li&gt;before any &lt;i&gt;focusable area&lt;/i&gt; whose &lt;i&gt;DOM anchor&lt;/i&gt; is an element whose &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value
+     equal to the value of the &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute on &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt;
+     but that is later in the document in &lt;span&gt;tree order&lt;/span&gt; than &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt;, and&lt;/li&gt;
 
-     &lt;li&gt;before any element whose &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value
-     greater than the value of the &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute on the
-     element.&lt;/li&gt;
+     &lt;li&gt;before any &lt;i&gt;focusable area&lt;/i&gt; whose &lt;i&gt;DOM anchor&lt;/i&gt; is an element whose &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute has a value
+     greater than the value of the &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute on &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt;.&lt;/li&gt;
 
     &lt;/ul&gt;
 
@@ -85282,7 +85635,7 @@
   &lt;p class=&quot;note&quot;&gt;This means that an element that is only focusable because of its &lt;code
   data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute will fire a &lt;code data-x=&quot;event-click&quot;&gt;click&lt;/code&gt;
   event in response to a non-mouse activation (e.g. hitting the &quot;enter&quot; key while the element is
-  focused).&lt;/p&gt;
+  &lt;span&gt;focused&lt;/span&gt;).&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn data-x=&quot;dom-tabIndex&quot;&gt;&lt;code&gt;tabIndex&lt;/code&gt;&lt;/dfn&gt; IDL attribute must
   &lt;span&gt;reflect&lt;/span&gt; the value of the &lt;code data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; content
@@ -85295,121 +85648,440 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
-  &lt;h4 id=&quot;focus-management&quot;&gt;Focus management&lt;/h4&gt;
+  &lt;h4&gt;Processing model&lt;/h4&gt;
 
-  &lt;p&gt;An element is &lt;dfn&gt;focusable&lt;/dfn&gt; if all of the following conditions are met:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn&gt;focusing steps&lt;/dfn&gt; for an object &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; that is
+  either a &lt;i&gt;focusable area&lt;/i&gt;, or an element that is not a &lt;i&gt;focusable area&lt;/i&gt;, or a
+  &lt;span&gt;browsing context&lt;/span&gt;, are as follows:&lt;/p&gt;
 
-  &lt;ul&gt;
+  &lt;ol&gt;
 
-   &lt;li&gt;The element's &lt;span&gt;tabindex focus flag&lt;/span&gt; is set.&lt;/li&gt;
+   &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2816">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2816</A> div.focus() when it's got a scroll region --&gt;
+   &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2817">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2817</A> img.focus() when it's got an image map --&gt;
 
-   &lt;li&gt;The element is either &lt;span&gt;being rendered&lt;/span&gt; or &lt;!-- CANVAS-FOCUS-FALLBACK --&gt; is a
-   descendant of a &lt;code&gt;canvas&lt;/code&gt; element that &lt;span&gt;represents&lt;/span&gt; &lt;span&gt;embedded
-   content&lt;/span&gt;.&lt;/li&gt;
+   &lt;li&gt;
 
-   &lt;li&gt;The element is not &lt;span&gt;inert&lt;/span&gt;.&lt;/li&gt;
+    &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; is neither a &lt;code&gt;dialog&lt;/code&gt; element that has an
+    &lt;code data-x=&quot;attr-dialog-open&quot;&gt;open&lt;/code&gt; attribute specified and that is &lt;span&gt;being
+    rendered&lt;/span&gt; (i.e. that is a &lt;span&gt;control group owner object&lt;/span&gt;), nor a &lt;i&gt;focusable
+    area&lt;/i&gt;, then run the first matching set of steps from the following list:&lt;/p&gt;
 
-   &lt;li&gt;The element is not &lt;span data-x=&quot;concept-element-disabled&quot;&gt;disabled&lt;/span&gt;.&lt;/li&gt;
+    &lt;dl class=&quot;switch&quot;&gt;
 
-  &lt;/ul&gt;
+     &lt;dt&gt;If &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; is an &lt;code&gt;area&lt;/code&gt; element with one or more
+     shapes that are &lt;i data-x=&quot;focusable area&quot;&gt;focusable areas&lt;/i&gt;&lt;/dt&gt;
 
-  &lt;p&gt;In addition, each shape that is generated for an &lt;code&gt;area&lt;/code&gt; element, any
-  user-agent-provided interface components of &lt;span data-x=&quot;media element&quot;&gt;media elements&lt;/span&gt;
-  (e.g. a play button), and distinct user interface components of form controls (e.g. &quot;up&quot; and
-  &quot;down&quot; buttons on an &lt;code data-x=&quot;attr-input-type-number&quot;&gt;&lt;input type=number&gt;&lt;/code&gt; spin
-  control), should be &lt;span&gt;focusable&lt;/span&gt;, unless platform conventions dictate otherwise or
-  unless their corresponding element is &lt;span data-x=&quot;concept-element-disabled&quot;&gt;disabled&lt;/span&gt;. (A
-  single &lt;code&gt;area&lt;/code&gt; element can correspond to multiple shapes, since image maps can be reused
-  with multiple images on a page.)&lt;/p&gt;
+     &lt;dd&gt;
 
-  &lt;p&gt;The user agent may also make part of a &lt;code&gt;details&lt;/code&gt; element's rendering
-  &lt;span&gt;focusable&lt;/span&gt;, to enable the element to be opened or closed using keyboard input.
-  However, this is distinct from the &lt;code&gt;details&lt;/code&gt; or &lt;code&gt;summary&lt;/code&gt; element being
-  focusable.&lt;/p&gt;
+      &lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; be the shape corresponding to the first
+      &lt;code&gt;img&lt;/code&gt; element in tree order that uses the image map to which the &lt;code&gt;area&lt;/code&gt;
+      element belongs.&lt;/p&gt;
 
-  &lt;p&gt;Notwithstanding the above, user agents may make &lt;em&gt;any&lt;/em&gt; element or part of an element
-  focusable, especially to aid with accessibility or to better match platform conventions.&lt;/p&gt;
+     &lt;/dd&gt;
 
-  &lt;hr&gt;
 
-  &lt;p&gt;The &lt;dfn&gt;focusing steps&lt;/dfn&gt; for an element are as follows:&lt;/p&gt;
+     &lt;dt&gt;If &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; is an element with one or more scrollable regions
+     that are &lt;i data-x=&quot;focusable area&quot;&gt;focusable areas&lt;/i&gt;&lt;/dt&gt;
 
-  &lt;ol&gt;
+     &lt;dd&gt;
 
-   &lt;li&gt;&lt;p&gt;If the element is not &lt;span data-x=&quot;in a Document&quot;&gt;in a &lt;code&gt;Document&lt;/code&gt;&lt;/span&gt;, or if
-   the element's &lt;code&gt;Document&lt;/code&gt; has no &lt;span&gt;browsing context&lt;/span&gt;, or if the element's
-   &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;browsing context&lt;/span&gt; has no &lt;span&gt;top-level browsing
-   context&lt;/span&gt;, or if the element is not &lt;span&gt;focusable&lt;/span&gt;, or if the element is already
-   focused, then abort these steps.&lt;/p&gt;
+      &lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; be the element's first scrollable region,
+      according to a pre-order, depth-first traversal of the box tree. &lt;a
+      href=&quot;#refsCSS&quot;&gt;[CSS]&lt;/a&gt;&lt;/p&gt;
 
-   &lt;li&gt;&lt;p&gt;If focusing the element will remove the focus from another element, then run the
-   &lt;span&gt;unfocusing steps&lt;/span&gt; for that element.&lt;/p&gt;&lt;/li&gt;
+     &lt;/dd&gt;
 
-   &lt;li&gt;
 
-    &lt;p&gt;Make the element the currently focused element in its &lt;span&gt;top-level browsing
-    context&lt;/span&gt;.&lt;/p&gt;
+     &lt;dt&gt;If &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; is &lt;span&gt;the body element&lt;/span&gt; of its
+     &lt;code&gt;Document&lt;/code&gt;&lt;/dt&gt;
+     &lt;dt&gt;If &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; is the &lt;span&gt;root element&lt;/span&gt; of its
+     &lt;code&gt;Document&lt;/code&gt; and that &lt;code&gt;Document&lt;/code&gt; has no &lt;span data-x=&quot;the body
+     element&quot;&gt;body element&lt;/span&gt;&lt;/dt&gt;
 
-    &lt;p&gt;Some elements, most notably &lt;code&gt;area&lt;/code&gt;, can correspond to more than one distinct
-    focusable area. If a particular area was indicated when the element was focused, then that is
-    the area that must get focus; otherwise, e.g. when using the &lt;code
-    data-x=&quot;dom-focus&quot;&gt;focus()&lt;/code&gt; method, the first such region in tree order is the one that
-    must be focused.&lt;/p&gt;
+     &lt;dd&gt;
 
+      &lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; be the &lt;code&gt;Document&lt;/code&gt;'s viewport.&lt;/p&gt;
+
+     &lt;/dd&gt;
+
+
+     &lt;dt&gt;If &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; is a &lt;span&gt;browsing context&lt;/span&gt;&lt;/dt&gt;
+
+     &lt;dd&gt;
+
+      &lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; be the &lt;span&gt;browsing context&lt;/span&gt;'s
+      &lt;span&gt;active document&lt;/span&gt;.&lt;/p&gt;
+
+     &lt;/dd&gt;
+
+     &lt;dt&gt;Otherwise&lt;/dt&gt;
+
+     &lt;dd&gt;
+
+      &lt;p&gt;Abort the &lt;span&gt;focusing steps&lt;/span&gt;.&lt;/p&gt;
+
+     &lt;/dd&gt;
+
+    &lt;/dl&gt;
+
    &lt;/li&gt;
 
    &lt;li&gt;
 
-    &lt;p&gt;The user agent may apply relevant platform-specific conventions for focusing widgets.&lt;/p&gt;
+    &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; is a &lt;span&gt;control group owner object&lt;/span&gt; that is
+    not a &lt;i&gt;focusable area&lt;/i&gt;, but does have a &lt;i&gt;dialog group&lt;/i&gt;, and that &lt;i&gt;dialog group&lt;/i&gt;
+    has a designated &lt;span data-x=&quot;focused dialog of the dialog group&quot;&gt;focused dialog&lt;/span&gt;, then
+    let &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; be the &lt;span&gt;focused dialog of the dialog
+    group&lt;/span&gt;, and redo this step.&lt;/p&gt;
 
-    &lt;p class=&quot;note&quot;&gt;For example, some platforms select the contents of a text field when that field
-    is focused.&lt;/p&gt;
+    &lt;p&gt;Otherwise, if &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; is a &lt;span&gt;control group owner
+    object&lt;/span&gt; that is not a &lt;i&gt;focusable area&lt;/i&gt;, and its &lt;i&gt;control group&lt;/i&gt; is not empty,
+    then designate &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; as the &lt;span&gt;focused area of the control
+    group&lt;/span&gt;, and redo this step.&lt;/p&gt;
 
+    &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2818">http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2818</A> --&gt;
+    &lt;p&gt;Otherwise, if &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; is a &lt;span&gt;browsing context
+    container&lt;/span&gt;, then let &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; be the &lt;span&gt;nested browsing
+    context&lt;/span&gt;'s &lt;span&gt;active document&lt;/span&gt;, and redo this step.&lt;/p&gt;
+
+    &lt;p class=&quot;note&quot;&gt;A &lt;code&gt;dialog&lt;/code&gt; element can be both a &lt;span&gt;control group owner
+    object&lt;/span&gt; and a &lt;i&gt;focusable area&lt;/i&gt;, if it has both an &lt;code
+    data-x=&quot;attr-dialog-open&quot;&gt;open&lt;/code&gt; attribute specified and a &lt;code
+    data-x=&quot;attr-tabindex&quot;&gt;tabindex&lt;/code&gt; attribute specified and is &lt;span&gt;being
+    rendered&lt;/span&gt;.&lt;/p&gt;
+
    &lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; named &lt;code
-   data-x=&quot;event-focus&quot;&gt;focus&lt;/code&gt; at the element.&lt;/p&gt;&lt;/li&gt;
-   &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723</A> --&gt;
+   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; is a &lt;i&gt;focusable area&lt;/i&gt; and its &lt;i&gt;DOM
+   anchor&lt;/i&gt; is &lt;span&gt;inert&lt;/span&gt;, then abort these steps.&lt;/p&gt;&lt;/li&gt;
 
+   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; is the &lt;span&gt;currently focused area of a
+   top-level browsing context&lt;/span&gt;, then abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;old chain&lt;/var&gt; be the &lt;span&gt;focus chain&lt;/span&gt; of the &lt;span
+   data-x=&quot;currently focused area of a top-level browsing context&quot;&gt;currently focused area of the
+   top-level browsing context&lt;/span&gt; in which &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; finds
+   itself.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;new chain&lt;/var&gt; be the &lt;span&gt;focus chain&lt;/span&gt; of &lt;var data-x=&quot;&quot;&gt;new
+   focus target&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Run the &lt;span&gt;focus update steps&lt;/span&gt; with &lt;var data-x=&quot;&quot;&gt;old chain&lt;/var&gt;, &lt;var
+   data-x=&quot;&quot;&gt;new chain&lt;/var&gt;, and &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; respectively.&lt;/p&gt;&lt;/li&gt;
+
   &lt;/ol&gt;
 
-  &lt;p&gt;User agents must synchronously run the &lt;span&gt;focusing steps&lt;/span&gt; for an element whenever the
-  user moves the focus to a &lt;span&gt;focusable&lt;/span&gt; element.&lt;/p&gt;
+  &lt;p&gt;User agents must synchronously run the &lt;span&gt;focusing steps&lt;/span&gt; for a &lt;i&gt;focusable area&lt;/i&gt;,
+  &lt;code&gt;dialog&lt;/code&gt;, or &lt;span&gt;browsing context&lt;/span&gt; &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; whenever the
+  user attempts to move the focus to &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt;.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn&gt;unfocusing steps&lt;/dfn&gt; for an element are as follows:&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn&gt;unfocusing steps&lt;/dfn&gt; for an object &lt;var data-x=&quot;&quot;&gt;old focus target&lt;/var&gt; that is
+  either a &lt;i&gt;focusable area&lt;/i&gt; or an element that is not a &lt;i&gt;focusable area&lt;/i&gt; are as
+  follows:&lt;/p&gt;
 
   &lt;ol&gt;
 
-   &lt;li&gt;&lt;p&gt;If the element is an &lt;code&gt;input&lt;/code&gt; element, and the &lt;code
-   data-x=&quot;event-input-change&quot;&gt;change&lt;/code&gt; event applies to the element, and the element does not
-   have a defined &lt;span&gt;activation behavior&lt;/span&gt;, and the user has changed the element's &lt;span
-   data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; or its list of &lt;span
-   data-x=&quot;concept-input-type-file-selected&quot;&gt;selected files&lt;/span&gt; while the control was focused
-   without committing that change, then &lt;span&gt;fire a simple event&lt;/span&gt; that bubbles named &lt;code
-   data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; at the element.&lt;/p&gt;
+   &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2819">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2819</A> --&gt;
+   &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2822">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2822</A> --&gt;
 
-   &lt;li&gt;&lt;p&gt;Unfocus the element.&lt;/p&gt;&lt;/li&gt;
+   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;old focus target&lt;/var&gt; is &lt;span&gt;inert&lt;/span&gt;, then abort these
+   steps.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Fire a simple event&lt;/span&gt; named &lt;code
-   data-x=&quot;event-blur&quot;&gt;blur&lt;/code&gt; at the element.&lt;/p&gt;&lt;/li&gt;
-   &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723</A> --&gt;
+   &lt;li&gt;
 
+    &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;old focus target&lt;/var&gt; is an &lt;code&gt;area&lt;/code&gt; element and one of its
+    shapes is the &lt;span&gt;currently focused area of a top-level browsing context&lt;/span&gt;, or, if &lt;var
+    data-x=&quot;&quot;&gt;old focus target&lt;/var&gt; is an element with one or more scrollable regions, and one of
+    them is the &lt;span&gt;currently focused area of a top-level browsing context&lt;/span&gt;, then let &lt;var
+    data-x=&quot;&quot;&gt;old focus target&lt;/var&gt; be that &lt;span&gt;currently focused area of a top-level browsing
+    context&lt;/span&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;old chain&lt;/var&gt; be the &lt;span&gt;focus chain&lt;/span&gt; of the &lt;span&gt;currently
+   focused area of a top-level browsing context&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;old focus target&lt;/var&gt; is not one of the entries in &lt;var data-x=&quot;&quot;&gt;old
+   chain&lt;/var&gt;, then abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;old focus target&lt;/var&gt; is a &lt;code&gt;dialog&lt;/code&gt; in a &lt;i&gt;dialog group&lt;/i&gt;,
+    and the &lt;span&gt;dialog group manager&lt;/span&gt; has a non-empty &lt;i&gt;control group&lt;/i&gt;, then let &lt;var
+    data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; be the designated &lt;span data-x=&quot;focused area of the control
+    group&quot;&gt;focused area of that focus group&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var data-x=&quot;&quot;&gt;old focus target&lt;/var&gt; is a &lt;i&gt;focusable area&lt;/i&gt;, then let &lt;var
+    data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; be the first &lt;i&gt;focusable area&lt;/i&gt; of its &lt;i&gt;control
+    group&lt;/i&gt; (if the &lt;span&gt;control group owner&lt;/span&gt; is a &lt;code&gt;Document&lt;/code&gt;, this will
+    always be a viewport).&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, let &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; be null.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; is not null, then run the &lt;span&gt;focusing
+   steps&lt;/span&gt; for &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
   &lt;/ol&gt;
 
-  &lt;p&gt;When an element that is focused stops being a &lt;span&gt;focusable&lt;/span&gt; element, or stops being
-  focused without another element being explicitly focused in its stead, the user agent should
-  synchronously run the &lt;span&gt;unfocusing steps&lt;/span&gt; for the affected element only.&lt;/p&gt;
+  &lt;p&gt;When the &lt;span&gt;currently focused area of a top-level browsing context&lt;/span&gt; is somehow
+  unfocused without another element being explicitly focused in its stead, the user agent must
+  synchronously run the &lt;span&gt;unfocusing steps&lt;/span&gt; for that object.&lt;/p&gt;
 
-  &lt;p class=&quot;example&quot;&gt;For example, this might happen because the element is removed from its
-  &lt;code&gt;Document&lt;/code&gt;, or has a &lt;code data-x=&quot;attr-hidden&quot;&gt;hidden&lt;/code&gt; attribute added. It would
+  &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;unfocusing steps&lt;/span&gt; do not always result in the focus changing, even
+  when applied to the &lt;span&gt;currently focused area of a top-level browsing context&lt;/span&gt;. For
+  example, if the &lt;span&gt;currently focused area of a top-level browsing context&lt;/span&gt; is a viewport,
+  then it will usually keep its focus regardless until another &lt;i&gt;focusable area&lt;/i&gt; is explicitly
+  focused with the &lt;span&gt;focusing steps&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;When a &lt;i&gt;focusable area&lt;/i&gt; is added to an empty &lt;i&gt;control group&lt;/i&gt;, it must be designated
+  the &lt;i&gt;focused area of the control group&lt;/i&gt;.&lt;/p&gt;
+
+  &lt;p&gt;When a &lt;i&gt;dialog group&lt;/i&gt; is formed, if the &lt;span&gt;dialog group manager&lt;/span&gt; has an empty
+  &lt;i&gt;control group&lt;/i&gt;, the first non-&lt;span&gt;inert&lt;/span&gt; &lt;code&gt;dialog&lt;/code&gt; in the &lt;i&gt;dialog
+  group&lt;/i&gt;, if any, or else the first &lt;code&gt;dialog&lt;/code&gt; in the &lt;i&gt;dialog group&lt;/i&gt; regardless of
+  &lt;span data-x=&quot;inert&quot;&gt;inertness&lt;/span&gt;, must be designated the &lt;span&gt;focused dialog of the dialog
+  group&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;&lt;dfn&gt;Focus fixup rule one&lt;/dfn&gt;: When the designated &lt;span data-x=&quot;focused area of the control
+  group&quot;&gt;focused area of a control group&lt;/span&gt; is removed from that &lt;i&gt;control group&lt;/i&gt; in some
+  way (e.g. it stops being a &lt;i&gt;focusable area&lt;/i&gt;, it is removed from the DOM, it becomes &lt;span
+  data-x=&quot;expressly inert control&quot;&gt;expressly inert&lt;/span&gt;, etc), and the &lt;i&gt;control group&lt;/i&gt; is
+  still not empty: designate the first non-&lt;span&gt;inert&lt;/span&gt; &lt;i&gt;focused area&lt;/i&gt; in that &lt;i&gt;control
+  group&lt;/i&gt; to be the new &lt;span&gt;focused area of the control group&lt;/span&gt;, if any; if they are all
+  &lt;span&gt;inert&lt;/span&gt;, then designate the first &lt;i&gt;focused area&lt;/i&gt; in that &lt;i&gt;control group&lt;/i&gt; to
+  be the new &lt;span&gt;focused area of the control group&lt;/span&gt; regardless of &lt;span
+  data-x=&quot;inert&quot;&gt;inertness&lt;/span&gt;. If such a removal instead results in the &lt;i&gt;control group&lt;/i&gt;
+  being empty, then there is simply no longer a &lt;span&gt;focused area of the control group&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p class=&quot;example&quot;&gt;For example, this might happen because an element is removed from its
+  &lt;code&gt;Document&lt;/code&gt;, or has a &lt;code data-x=&quot;attr-hidden&quot;&gt;hidden&lt;/code&gt; attribute added. It might
   also happen to an &lt;code&gt;input&lt;/code&gt; element when the element gets &lt;span
   data-x=&quot;concept-fe-disabled&quot;&gt;disabled&lt;/span&gt;.&lt;/p&gt;
 
+  &lt;p&gt;&lt;dfn&gt;Focus fixup rule two&lt;/dfn&gt;: When a &lt;i&gt;dialog group&lt;/i&gt; has no designed &lt;span&gt;focused
+  dialog of the dialog group&lt;/span&gt;, and its &lt;span&gt;dialog group manager&lt;/span&gt;'s &lt;i&gt;control
+  group&lt;/i&gt; changes from being non-empty to being empty, the first non-&lt;span&gt;inert&lt;/span&gt;
+  &lt;code&gt;dialog&lt;/code&gt; in the &lt;i&gt;dialog group&lt;/i&gt;, if any, or else the first &lt;code&gt;dialog&lt;/code&gt; in
+  the &lt;i&gt;dialog group&lt;/i&gt; regardless of &lt;span data-x=&quot;inert&quot;&gt;inertness&lt;/span&gt;, must be designated
+  the &lt;span&gt;focused dialog of the dialog group&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;&lt;dfn&gt;Focus fixup rule three&lt;/dfn&gt;: When the designated &lt;span data-x=&quot;focused dialog of the
+  dialog group&quot;&gt;focused dialog of a dialog group&lt;/span&gt; is removed from that &lt;i&gt;dialog group&lt;/i&gt; in
+  some way (e.g. it stops &lt;span&gt;being rendered&lt;/span&gt;, it loses its &lt;code
+  data-x=&quot;attr-dialog-open&quot;&gt;open&lt;/code&gt; attribute, it becomes &lt;span data-x=&quot;expressly inert
+  dialog&quot;&gt;expressly inert&lt;/span&gt;, etc), and there is still a &lt;i&gt;dialog group&lt;/i&gt; (because the
+  &lt;code&gt;dialog&lt;/code&gt; in question was not the last &lt;code&gt;dialog&lt;/code&gt; in that &lt;i&gt;dialog group&lt;/i&gt;):
+  if the &lt;i&gt;dialog group&lt;/i&gt;'s &lt;span data-x=&quot;dialog group manager&quot;&gt;manager&lt;/span&gt;'s &lt;i&gt;control
+  group&lt;/i&gt; is non-empty, let there be no designated &lt;span&gt;focused dialog of the dialog group&lt;/span&gt;
+  any more; otherwise (in the case that the &lt;i&gt;control group&lt;/i&gt; is empty), designate the first
+  non-&lt;span&gt;inert&lt;/span&gt; &lt;code&gt;dialog&lt;/code&gt; in the &lt;i&gt;dialog group&lt;/i&gt; to be the &lt;span&gt;focused
+  dialog of the dialog group&lt;/span&gt;, or, if they are all &lt;span&gt;inert&lt;/span&gt;, designate the first
+  &lt;code&gt;dialog&lt;/code&gt; in the &lt;i&gt;dialog group&lt;/i&gt; to be the &lt;span&gt;focused dialog of the dialog
+  group&lt;/span&gt; regardless of &lt;span data-x=&quot;inert&quot;&gt;inertness&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;When the &lt;span&gt;currently focused area of a top-level browsing context&lt;/span&gt; was a &lt;i&gt;focusable
+  area&lt;/i&gt; but stops being a &lt;i&gt;focusable area&lt;/i&gt;, or when it was a &lt;code&gt;dialog&lt;/code&gt; in a
+  &lt;span&gt;dialog group&lt;/span&gt; and stops being part of that &lt;span&gt;dialog group&lt;/span&gt;, or when it
+  starts being &lt;span&gt;inert&lt;/span&gt;, the user agent must run the following steps:&lt;/p&gt;
+
+  &lt;ol&gt; &lt;!-- this is basically a special-cased version of the focusing steps --&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;old focus target&lt;/var&gt; be whatever the &lt;span data-x=&quot;currently focused
+   area of a top-level browsing context&quot;&gt;currently focused area of the top-level browsing
+   context&lt;/span&gt; was immediately before this algorithm became applicable (e.g. before the element
+   was disabled, or the dialog was closed, or whatever caused this algorithm to tun).&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;old chain&lt;/var&gt; be the &lt;span&gt;focus chain&lt;/span&gt; of the &lt;span
+   data-x=&quot;currently focused area of a top-level browsing context&quot;&gt;currently focused area of the
+   top-level browsing context&lt;/span&gt; at the same time.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Make sure that the changes implied by the focus fixup rules &lt;span data-x=&quot;focus fixup rule
+   one&quot;&gt;one&lt;/span&gt;, &lt;span data-x=&quot;focus fixup rule two&quot;&gt;two&lt;/span&gt;, and &lt;span data-x=&quot;focus fixup
+   rule three&quot;&gt;three&lt;/span&gt; above are applied.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; be the &lt;span&gt;currently focused area of a
+   top-level browsing context&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;old focus target&lt;/var&gt; and &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; are the
+   same, abort these steps.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;new chain&lt;/var&gt; be the &lt;span&gt;focus chain&lt;/span&gt; of &lt;var data-x=&quot;&quot;&gt;new
+   focus target&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Run the &lt;span&gt;focus update steps&lt;/span&gt; with &lt;var data-x=&quot;&quot;&gt;old chain&lt;/var&gt;, &lt;var
+   data-x=&quot;&quot;&gt;new chain&lt;/var&gt;, and &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; respectively.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;The &lt;dfn&gt;focus update steps&lt;/dfn&gt;, given an &lt;var data-x=&quot;&quot;&gt;old chain&lt;/var&gt;, a &lt;var
+  data-x=&quot;&quot;&gt;new chain&lt;/var&gt;, and a &lt;var data-x=&quot;&quot;&gt;new focus target&lt;/var&gt; respectively, are as
+  follows:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;!-- focusin/focusout?: <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723">http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723</A> --&gt;
+
+   &lt;li&gt;&lt;p&gt;If the last entry in &lt;var data-x=&quot;&quot;&gt;old chain&lt;/var&gt; and the last entry in &lt;var
+   data-x=&quot;&quot;&gt;new chain&lt;/var&gt; are the same, pop the last entry from &lt;var data-x=&quot;&quot;&gt;old chain&lt;/var&gt;
+   and the last entry from &lt;var data-x=&quot;&quot;&gt;new chain&lt;/var&gt; and redo this step.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;For each entry &lt;var data-x=&quot;&quot;&gt;entry&lt;/var&gt; in &lt;var data-x=&quot;&quot;&gt;old chain&lt;/var&gt;, in order, run
+    these substeps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li id=&quot;unfocus-causes-change-event&quot;&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;entry&lt;/var&gt; is an &lt;code&gt;input&lt;/code&gt;
+     element, and the &lt;code data-x=&quot;event-input-change&quot;&gt;change&lt;/code&gt; event &lt;span
+     data-x=&quot;concept-input-apply&quot;&gt;applies&lt;/span&gt; to the element, and the element does not have a
+     defined &lt;span&gt;activation behavior&lt;/span&gt;, and the user has changed the element's &lt;span
+     data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; or its list of &lt;span
+     data-x=&quot;concept-input-type-file-selected&quot;&gt;selected files&lt;/span&gt; while the control was focused
+     without committing that change, then &lt;span&gt;fire a simple event&lt;/span&gt; that bubbles named &lt;code
+     data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; at the element.&lt;/p&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;entry&lt;/var&gt; is an element, let &lt;var data-x=&quot;&quot;&gt;blur event target&lt;/var&gt; be
+      &lt;var data-x=&quot;&quot;&gt;entry&lt;/var&gt;.&lt;/p&gt;
+
+      &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;entry&lt;/var&gt; is a &lt;code&gt;Document&lt;/code&gt; object, let &lt;var data-x=&quot;&quot;&gt;blur
+      event target&lt;/var&gt; be that &lt;code&gt;Document&lt;/code&gt; object's &lt;code&gt;Window&lt;/code&gt; object.&lt;/p&gt;
+
+      &lt;p&gt;Otherwise, let &lt;var data-x=&quot;&quot;&gt;blur event target&lt;/var&gt; be null.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;blur event target&lt;/var&gt; is not null, &lt;span&gt;fire a simple event&lt;/span&gt;
+      named &lt;code data-x=&quot;event-blur&quot;&gt;blur&lt;/code&gt; at &lt;var data-x=&quot;&quot;&gt;blur event target&lt;/var&gt;.&lt;/p&gt;
+
+      &lt;p class=&quot;note&quot;&gt;In some cases, e.g. if &lt;var data-x=&quot;&quot;&gt;entry&lt;/var&gt; is an &lt;code&gt;area&lt;/code&gt;
+      element's shape, a scrollable region, or a viewport, no event is fired.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Apply any relevant platform-specific conventions for focusing &lt;var data-x=&quot;&quot;&gt;new focus
+   target&lt;/var&gt;. (For example, some platforms select the contents of a text field when that field is
+   focused.)&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;For each entry &lt;var data-x=&quot;&quot;&gt;entry&lt;/var&gt; in &lt;var data-x=&quot;&quot;&gt;new chain&lt;/var&gt;, in reverse
+    order, run these substeps:&lt;/p&gt;
+
+    &lt;ol&gt;
+
+     &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;entry&lt;/var&gt; is a &lt;code&gt;dialog&lt;/code&gt; element: Let &lt;var
+     data-x=&quot;&quot;&gt;entry&lt;/var&gt; be the designated &lt;span data-x=&quot;focused dialog of the dialog
+     group&quot;&gt;focused dialog of its dialog group&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;entry&lt;/var&gt; is a &lt;i&gt;focusable area&lt;/i&gt;: Designate &lt;var
+      data-x=&quot;&quot;&gt;entry&lt;/var&gt; as the &lt;span&gt;focused area of the control group&lt;/span&gt;. If its &lt;i&gt;control
+      group&lt;/i&gt;'s &lt;span data-x=&quot;control group owner&quot;&gt;owner&lt;/span&gt; is also a &lt;span&gt;dialog group
+      manager&lt;/span&gt;, then let there be no designated &lt;span data-x=&quot;focused dialog of the dialog
+      group&quot;&gt;focused dialog&lt;/span&gt; in that &lt;i&gt;dialog group&lt;/i&gt;.&lt;/p&gt;
+
+      &lt;p class=&quot;note&quot;&gt;It is possible for &lt;var data-x=&quot;&quot;&gt;entry&lt;/var&gt; to be both a &lt;code&gt;dialog&lt;/code&gt;
+      element and a &lt;i&gt;focusable area&lt;/i&gt;, in which case it is its own &lt;span&gt;control group
+      owner&lt;/span&gt;.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;entry&lt;/var&gt; is an element, let &lt;var data-x=&quot;&quot;&gt;focus event target&lt;/var&gt; be
+      &lt;var data-x=&quot;&quot;&gt;entry&lt;/var&gt;.&lt;/p&gt;
+
+      &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;entry&lt;/var&gt; is a &lt;code&gt;Document&lt;/code&gt; object, let &lt;var data-x=&quot;&quot;&gt;focus
+      event target&lt;/var&gt; be that &lt;code&gt;Document&lt;/code&gt; object's &lt;code&gt;Window&lt;/code&gt; object.&lt;/p&gt;
+
+      &lt;p&gt;Otherwise, let &lt;var data-x=&quot;&quot;&gt;focus event target&lt;/var&gt; be null.&lt;/p&gt;
+
+     &lt;/li&gt;
+
+     &lt;li&gt;
+
+      &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;focus event target&lt;/var&gt; is not null, &lt;span&gt;fire a simple event&lt;/span&gt;
+      named &lt;code data-x=&quot;event-focus&quot;&gt;focus&lt;/code&gt; at &lt;var data-x=&quot;&quot;&gt;focus event target&lt;/var&gt;.&lt;/p&gt;
+
+      &lt;p class=&quot;note&quot;&gt;In some cases, e.g. if &lt;var data-x=&quot;&quot;&gt;entry&lt;/var&gt; is an &lt;code&gt;area&lt;/code&gt;
+      element's shape, a scrollable region, or a viewport, no event is fired.&lt;/p&gt;
+
+     &lt;/li&gt;
+   
+    &lt;/ol&gt;
+
+   &lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;hr&gt;
+
+  &lt;p&gt;When a key event is to be routed in a &lt;span&gt;top-level browsing context&lt;/span&gt;, the user agent
+  must run the follow steps:&lt;/p&gt;
+
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;target area&lt;/var&gt; be the &lt;span data-x=&quot;currently focused area of a
+   top-level browsing context&quot;&gt;currently focused area of the top-level browsing
+   context&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;target area&lt;/var&gt; is a &lt;i&gt;focusable area&lt;/i&gt;, let &lt;var data-x=&quot;&quot;&gt;target
+   node&lt;/var&gt; be &lt;var data-x=&quot;&quot;&gt;target area&lt;/var&gt;'s &lt;i&gt;DOM anchor&lt;/i&gt;. Otherwise, &lt;var
+   data-x=&quot;&quot;&gt;target area&lt;/var&gt; is a &lt;code&gt;dialog&lt;/code&gt;; let &lt;var data-x=&quot;&quot;&gt;target node&lt;/var&gt; be
+   &lt;var data-x=&quot;&quot;&gt;target area&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;target node&lt;/var&gt; is a &lt;code&gt;Document&lt;/code&gt; that has a &lt;span data-x=&quot;the
+    body element&quot;&gt;body element&lt;/span&gt;, then let &lt;var data-x=&quot;&quot;&gt;target node&lt;/var&gt; be &lt;span&gt;the body
+    element&lt;/span&gt; of that &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Otherwise, if &lt;var data-x=&quot;&quot;&gt;target node&lt;/var&gt; is a &lt;code&gt;Document&lt;/code&gt; that has a
+    &lt;span&gt;root element&lt;/span&gt;, then let &lt;var data-x=&quot;&quot;&gt;target node&lt;/var&gt; be the &lt;span&gt;root
+    element&lt;/span&gt; of that &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;
+
+    &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;target node&lt;/var&gt; is not &lt;span&gt;inert&lt;/span&gt;, fire the event at &lt;var
+    data-x=&quot;&quot;&gt;target node&lt;/var&gt;.&lt;/p&gt;
+
+    &lt;p class=&quot;note&quot;&gt;It is possible for the &lt;span&gt;currently focused area of a top-level browsing
+    context&lt;/span&gt; to be &lt;span&gt;inert&lt;/span&gt;, for example if a &lt;span
+    data-x=&quot;dom-dialog-showModal&quot;&gt;modal dialog is shown&lt;/span&gt;, and then that &lt;code&gt;dialog&lt;/code&gt;
+    element is made &lt;span&gt;inert&lt;/span&gt;. It is likely to be the result of a logic error in the
+    application, though.&lt;/p&gt;
+
+   &lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;If the event was not canceled, then let &lt;var data-x=&quot;&quot;&gt;target area&lt;/var&gt; handle the key
+   event. This might include &lt;span data-x=&quot;run synthetic click activation steps&quot;&gt;running synthetic
+   click activation steps&lt;/span&gt; for &lt;var data-x=&quot;&quot;&gt;target node&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
   &lt;/div&gt;
 
 
 &lt;!--TOPIC:DOM APIs--&gt;
-  &lt;h4&gt;Document-level focus APIs&lt;/h4&gt;
+  &lt;h4&gt;Focus management APIs&lt;/h4&gt;
 
   &lt;dl class=&quot;domintro&quot;&gt;
 
@@ -85417,15 +86089,25 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;Returns the currently focused element.&lt;/p&gt;
+    &lt;p&gt;Returns the deepest element in the document through which or to which key events are being
+    routed. This is, roughly speaking, the focused element in the document.&lt;/p&gt;
 
+    &lt;p&gt;For the purposes of this API, when a &lt;span&gt;child browsing context&lt;/span&gt; is focused, its
+    &lt;span&gt;browsing context container&lt;/span&gt; is &lt;a href=&quot;#bc-focus-ergo-bcc-focus&quot;&gt;focused&lt;/a&gt; in the
+    &lt;span&gt;parent browsing context&lt;/span&gt;. For example, if the user moves the focus to a text field
+    in an &lt;code&gt;iframe&lt;/code&gt;, the &lt;code&gt;iframe&lt;/code&gt; is the element returned by the &lt;code
+    data-x=&quot;dom-document-activeElement&quot;&gt;activeElement&lt;/code&gt; API in the &lt;code&gt;iframe&lt;/code&gt;'s
+    &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;
+
    &lt;/dd&gt;
 
    &lt;dt&gt;&lt;var data-x=&quot;&quot;&gt;document&lt;/var&gt; . &lt;code data-x=&quot;dom-document-hasFocus&quot;&gt;hasFocus&lt;/code&gt;()&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Returns true if the document has focus; otherwise, returns false.&lt;/p&gt;
+    &lt;p&gt;Returns true if key events are being routed through or to the document; otherwise, returns
+    false. Roughly speaking, this corresponds to the document, or a documented nested inside this
+    one, being focused.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -85433,112 +86115,166 @@
 
    &lt;dd&gt;
 
-    &lt;p&gt;Focuses the window. Use of this method is discouraged. Allow the user to control window focus
-    instead.&lt;/p&gt;
+    &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2823">http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2823</A> --&gt;
 
+    &lt;p&gt;Moves the focus to the window's &lt;span&gt;browsing context container&lt;/span&gt;, if any.&lt;/p&gt;
+
    &lt;/dd&gt;
 
+&lt;!--
    &lt;dt&gt;&lt;var data-x=&quot;&quot;&gt;window&lt;/var&gt; . &lt;code data-x=&quot;dom-window-blur&quot;&gt;blur&lt;/code&gt;()&lt;/dt&gt;
 
    &lt;dd&gt;
 
-    &lt;p&gt;Unfocuses the window. Use of this method is discouraged. Allow the user to control window
-    focus instead.&lt;/p&gt;
+    &lt;p&gt;No effect.&lt;/p&gt;
 
    &lt;/dd&gt;
+--&gt;
 
+   &lt;dt&gt;&lt;var data-x=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code data-x=&quot;dom-focus&quot;&gt;focus&lt;/code&gt;()&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Moves the focus to the element.&lt;/p&gt;
+
+    &lt;p&gt;If the element is &lt;span&gt;the body element&lt;/span&gt;, moves the focus to the viewport instead.&lt;/p&gt;
+
+   &lt;/dd&gt;
+
+   &lt;dt&gt;&lt;var data-x=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code data-x=&quot;dom-blur&quot;&gt;blur&lt;/code&gt;()&lt;/dt&gt;
+
+   &lt;dd&gt;
+
+    &lt;p&gt;Moves the focus to the viewport. Use of this method is discouraged; if you want to focus the
+    viewport, call the &lt;code data-x=&quot;dom-focus&quot;&gt;focus()&lt;/code&gt; method on &lt;span&gt;the body
+    element&lt;/span&gt;.&lt;/p&gt;
+
+    &lt;p&gt;Do not use this method to hide the focus ring if you find the focus ring unsightly. Instead,
+    use a CSS rule to override the 'outline' property, and provide a different way to show what
+    element is focused. Be aware that if an alternative focusing style isn't made available, the
+    page will be significantly less usable for people who primarily navigate pages using a keyboard,
+    or those with reduced vision who use focus outlines to help them navigate the page.&lt;/p&gt;
+
+    &lt;!-- we suggest using CSS here because users can override CSS, so it's no the end of the world,
+    unlike using .blur(), which cannot be easily overridden by users and completely breaks tab
+    navigation. --&gt;
+
+    &lt;div class=&quot;example&quot;&gt;
+
+     &lt;p&gt;For example, to hide the outline from links and instead use a yellow background to indicate
+     focus, you could use:&lt;/p&gt;
+
+     &lt;pre&gt;:link:focus, :visited:focus { outline: none; background: yellow; color: black; }&lt;/pre&gt;
+
+    &lt;/div&gt;
+
+   &lt;/dd&gt;
+
   &lt;/dl&gt;
 
   &lt;div class=&quot;impl&quot;&gt;
 
   &lt;p&gt;The &lt;dfn data-x=&quot;dom-document-activeElement&quot;&gt;&lt;code&gt;activeElement&lt;/code&gt;&lt;/dfn&gt; attribute on
-  &lt;code&gt;Document&lt;/code&gt; objects must return the element in the document that is focused. If no
-  element in the &lt;code&gt;Document&lt;/code&gt; is focused, this must return &lt;span&gt;the body
-  element&lt;/span&gt;.&lt;/p&gt;
+  &lt;code&gt;Document&lt;/code&gt; objects must return the value returned by the following steps:&lt;/p&gt;
 
-  &lt;p class=&quot;note&quot;&gt;When a &lt;span&gt;child browsing context&lt;/span&gt; is focused, its &lt;span&gt;browsing context
-  container&lt;/span&gt; is also focused, &lt;a href=&quot;#bc-focus-ergo-bcc-focus&quot;&gt;by definition&lt;/a&gt;. For
-  example, if the user moves the focus to a text field in an &lt;code&gt;iframe&lt;/code&gt;, the
-  &lt;code&gt;iframe&lt;/code&gt; is the element with focus in the &lt;span&gt;parent browsing context&lt;/span&gt;.&lt;/p&gt;
+  &lt;ol&gt;
 
-  &lt;p&gt;The &lt;dfn data-x=&quot;dom-document-hasFocus&quot;&gt;&lt;code&gt;hasFocus()&lt;/code&gt;&lt;/dfn&gt; method on
-  &lt;code&gt;Document&lt;/code&gt; objects must return true if the &lt;code&gt;Document&lt;/code&gt;'s &lt;span&gt;browsing
-  context&lt;/span&gt; is focused, and all its &lt;span data-x=&quot;ancestor browsing context&quot;&gt;ancestor browsing
-  contexts&lt;/span&gt; are also focused, and the &lt;span&gt;top-level browsing context&lt;/span&gt; has the
-  &lt;i&gt;system focus&lt;/i&gt;. If the &lt;code&gt;Document&lt;/code&gt; has no &lt;span&gt;browsing context&lt;/span&gt; or if its
-  &lt;span&gt;browsing context&lt;/span&gt; has no &lt;span&gt;top-level browsing context&lt;/span&gt;, then the method will
-  always return false.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;code&gt;Document&lt;/code&gt; on which the method was
+   invoked.&lt;/p&gt;&lt;/li&gt;
 
-  &lt;p&gt;The &lt;dfn data-x=&quot;dom-window-focus&quot;&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method on the &lt;code&gt;Window&lt;/code&gt;
-  object, when invoked, provides a hint to the user agent that the script believes the user might be
-  interested in the contents of the &lt;span&gt;browsing context&lt;/span&gt; of the &lt;code&gt;Window&lt;/code&gt; object
-  on which the method was invoked.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; has a &lt;i&gt;dialog group&lt;/i&gt; with a designated
+   &lt;span&gt;focused dialog of the dialog group&lt;/span&gt;, then let &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; be the
+   designated &lt;span&gt;focused dialog of the dialog group&lt;/span&gt;, and redo this step.&lt;/p&gt;&lt;/li&gt;
 
-  &lt;p&gt;User agents are encouraged to have this &lt;code data-x=&quot;dom-window-focus&quot;&gt;focus()&lt;/code&gt; method
-  trigger some kind of notification.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; has a non-empty &lt;i&gt;control group&lt;/i&gt;, let &lt;var
+   data-x=&quot;&quot;&gt;candidate&lt;/var&gt; be the designated &lt;span&gt;focused area of the control
+   group&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn data-x=&quot;dom-window-blur&quot;&gt;&lt;code&gt;blur()&lt;/code&gt;&lt;/dfn&gt; method on the &lt;code&gt;Window&lt;/code&gt;
-  object, when invoked, provides a hint to the user agent that the script believes the user probably
-  is not currently interested in the contents of the &lt;span&gt;browsing context&lt;/span&gt; of the
-  &lt;code&gt;Window&lt;/code&gt; object on which the method was invoked, but that the contents might become
-  interesting again in the future.&lt;/p&gt;
+   &lt;/li&gt;
 
-  &lt;p&gt;User agents are encouraged to ignore calls to this &lt;code data-x=&quot;dom-window-blur&quot;&gt;blur()&lt;/code&gt;
-  method entirely.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; is a &lt;i&gt;focusable area&lt;/i&gt;, let &lt;var
+   data-x=&quot;&quot;&gt;candidate&lt;/var&gt; be &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt;'s &lt;i&gt;DOM anchor&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
 
-  &lt;p class=&quot;note&quot;&gt;Historically the &lt;code data-x=&quot;dom-window-blur&quot;&gt;focus()&lt;/code&gt; and &lt;code
-  data-x=&quot;dom-window-blur&quot;&gt;blur()&lt;/code&gt; methods actually affected the system focus, but hostile
-  sites widely abuse this behavior to the user's detriment.&lt;/p&gt;
+   &lt;li&gt;
 
-  &lt;/div&gt;
+    &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; is a &lt;code&gt;Document&lt;/code&gt; that has a &lt;span data-x=&quot;the
+    body element&quot;&gt;body element&lt;/span&gt;, then let &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; be &lt;span&gt;the body
+    element&lt;/span&gt; of that &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;
 
+    &lt;p&gt;Otherwise, if &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; is a &lt;code&gt;Document&lt;/code&gt; that has a &lt;span&gt;root
+    element&lt;/span&gt;, then let &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;span&gt;root element&lt;/span&gt; of that
+    &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;
 
-  &lt;h4&gt;Element-level focus APIs&lt;/h4&gt;
+    &lt;p&gt;Otherwise, if &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; is a &lt;code&gt;Document&lt;/code&gt;, then let &lt;var
+    data-x=&quot;&quot;&gt;candidate&lt;/var&gt; be null.&lt;/p&gt;
 
-  &lt;dl class=&quot;domintro&quot;&gt;
+   &lt;/li&gt;
 
-   &lt;dt&gt;&lt;var data-x=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code data-x=&quot;dom-focus&quot;&gt;focus&lt;/code&gt;()&lt;/dt&gt;
+   &lt;li&gt;&lt;p&gt;Return &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;dd&gt;
+  &lt;/ol&gt;
 
-    &lt;p&gt;Focuses the element.&lt;/p&gt;
+  &lt;p&gt;The &lt;dfn data-x=&quot;dom-document-hasFocus&quot;&gt;&lt;code&gt;hasFocus()&lt;/code&gt;&lt;/dfn&gt; method on
+  &lt;code&gt;Document&lt;/code&gt; objects must return true the value returned by the following steps:&lt;/p&gt;
 
-   &lt;/dd&gt;
+  &lt;ol&gt;
 
-   &lt;dt&gt;&lt;var data-x=&quot;&quot;&gt;element&lt;/var&gt; . &lt;code data-x=&quot;dom-blur&quot;&gt;blur&lt;/code&gt;()&lt;/dt&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;target&lt;/var&gt; be the &lt;code&gt;Document&lt;/code&gt; on which the method was
+   invoked.&lt;/p&gt;&lt;/li&gt;
 
-   &lt;dd&gt;
+   &lt;li&gt;&lt;p&gt;Let &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;code&gt;Document&lt;/code&gt; of the &lt;span&gt;top-level
+   browsing context&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
-    &lt;p&gt;Unfocuses the element. Use of this method is discouraged. Focus another element instead.&lt;/p&gt;
+   &lt;li&gt;&lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; is &lt;var data-x=&quot;&quot;&gt;target&lt;/var&gt;, return true and abort
+   these steps.&lt;/p&gt;&lt;/li&gt;
 
-    &lt;p&gt;Do not use this method to hide the focus ring if you find the focus ring unsightly. Instead,
-    use a CSS rule to override the 'outline' property. Be aware, however, that if an alternative
-    focusing style isn't made available instead, the page will be significantly less usable for
-    people who primarily navigate pages using a keyboard, or those with reduced vision who use focus
-    outlines to help them navigate the page.&lt;/p&gt;
+   &lt;li&gt;
 
-    &lt;!-- we suggest using CSS here because users can override CSS, so it's no the end of the world,
-    unlike using .blur(), which cannot be easily overridden by users and completely breaks tab
-    navigation. --&gt;
+    &lt;p&gt;If &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; has a &lt;i&gt;dialog group&lt;/i&gt; with a designated &lt;span&gt;focused
+    dialog of the dialog group&lt;/span&gt;, then let &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; be the designated
+    &lt;span&gt;focused dialog of the dialog group&lt;/span&gt;, and redo this step.&lt;/p&gt;
 
-    &lt;div class=&quot;example&quot;&gt;
+    &lt;p&gt;Otherwise, if &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; has a non-empty &lt;i&gt;control group&lt;/i&gt;, and the
+    designated &lt;span&gt;focused area of the control group&lt;/span&gt; is a &lt;span&gt;browsing context
+    container&lt;/span&gt;, and the &lt;span&gt;active document&lt;/span&gt; of that &lt;span&gt;browsing context
+    container&lt;/span&gt;'s &lt;span&gt;nested browsing context&lt;/span&gt; is &lt;var data-x=&quot;&quot;&gt;target&lt;/var&gt;, then
+    return true and abort these steps.&lt;/p&gt;
 
-     &lt;p&gt;For example, to hide the outline from links and instead use a yellow background, you could
-     use:&lt;/p&gt;
+    &lt;p&gt;Otherwise, if &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; has a non-empty &lt;i&gt;control group&lt;/i&gt;, and the
+    designated &lt;span&gt;focused area of the control group&lt;/span&gt; is a &lt;span&gt;browsing context
+    container&lt;/span&gt;, then let &lt;var data-x=&quot;&quot;&gt;candidate&lt;/var&gt; be the &lt;span&gt;active document&lt;/span&gt; of
+    that &lt;span&gt;browsing context container&lt;/span&gt;'s &lt;span&gt;nested browsing context&lt;/span&gt;, and redo
+    this step.&lt;/p&gt;
 
-     &lt;pre&gt;:link:focus, :visited:focus { outline: none; background: yellow; color: black; }&lt;/pre&gt;
+    &lt;p&gt;Otherwise, return false and abort these steps.&lt;/p&gt;
 
-    &lt;/div&gt;
+   &lt;/li&gt;
 
-   &lt;/dd&gt;
+  &lt;/ol&gt;
 
-  &lt;/dl&gt;
+  &lt;p&gt;The &lt;dfn data-x=&quot;dom-window-focus&quot;&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method on &lt;code&gt;Window&lt;/code&gt;
+  object, when invoked, must run the &lt;span&gt;focusing steps&lt;/span&gt; with the &lt;code&gt;Window&lt;/code&gt;
+  object's &lt;span&gt;browsing context&lt;/span&gt;. Additionally, if this &lt;span&gt;browsing context&lt;/span&gt; is a
+  &lt;span&gt;top-level browsing context&lt;/span&gt;, user agents are encouraged to trigger some sort of
+  notification to indicate to the user that the page is attempting to gain focus.&lt;/p&gt;
 
-  &lt;div class=&quot;impl&quot;&gt;
+  &lt;p&gt;The &lt;dfn data-x=&quot;dom-window-blur&quot;&gt;&lt;code&gt;blur()&lt;/code&gt;&lt;/dfn&gt; method on the &lt;code&gt;Window&lt;/code&gt;
+  object, when invoked, provides a hint to the user agent that the script believes the user probably
+  is not currently interested in the contents of the &lt;span&gt;browsing context&lt;/span&gt; of the
+  &lt;code&gt;Window&lt;/code&gt; object on which the method was invoked, but that the contents might become
+  interesting again in the future.&lt;/p&gt;
 
-  &lt;p&gt;The &lt;dfn data-x=&quot;dom-focus&quot;&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method, when invoked, must run the
-  following algorithm:&lt;/p&gt;
+  &lt;p&gt;User agents are encouraged to ignore calls to this &lt;code data-x=&quot;dom-window-blur&quot;&gt;blur()&lt;/code&gt;
+  method entirely.&lt;/p&gt;
 
+  &lt;p class=&quot;note&quot;&gt;Historically, the &lt;code data-x=&quot;dom-window-blur&quot;&gt;focus()&lt;/code&gt; and &lt;code
+  data-x=&quot;dom-window-blur&quot;&gt;blur()&lt;/code&gt; methods actually affected the system-level focus of the
+  system widget (e.g. tab or window) that contained the &lt;span&gt;browsing context&lt;/span&gt;, but hostile
+  sites widely abuse this behavior to the user's detriment.&lt;/p&gt;
+
+  &lt;p&gt;The &lt;dfn data-x=&quot;dom-focus&quot;&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method on elements, when invoked, must
+  run the following algorithm:&lt;/p&gt;
+
   &lt;ol&gt;
 
    &lt;li&gt;&lt;p&gt;If the element is marked as &lt;i&gt;locked for focus&lt;/i&gt;, then abort these steps.&lt;/p&gt;&lt;/li&gt;
@@ -85552,8 +86288,8 @@
   &lt;/ol&gt;
 
   &lt;p&gt;The &lt;dfn data-x=&quot;dom-blur&quot;&gt;&lt;code&gt;blur()&lt;/code&gt;&lt;/dfn&gt; method, when invoked, should run the
-  &lt;span&gt;unfocusing steps&lt;/span&gt; for the element on which the method was called instead. User agents
-  may selectively or uniformly ignore calls to this method for usability reasons.&lt;/p&gt;
+  &lt;span&gt;unfocusing steps&lt;/span&gt; for the element on which the method was called. User agents may
+  selectively or uniformly ignore calls to this method for usability reasons.&lt;/p&gt;
 
   &lt;p class=&quot;example&quot;&gt;For example, if the &lt;code data-x=&quot;dom-blur&quot;&gt;blur()&lt;/code&gt; method is unwisely
   being used to remove the focus ring for aesthetics reasons, the page would become unusable by
@@ -85561,10 +86297,11 @@
   page.&lt;/p&gt;
 
   &lt;/div&gt;
+
+
 &lt;!--TOPIC:HTML--&gt;
 
 
-
   &lt;h3&gt;Assigning keyboard shortcuts&lt;/h3&gt;
 
   &lt;h4&gt;Introduction&lt;/h4&gt;
@@ -107737,10 +108474,11 @@
   &lt;p&gt;User agents are expected to expose the &lt;span&gt;advisory information&lt;/span&gt; of elements upon user
   request, and to make the user aware of the presence of such information.&lt;/p&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p&gt;On interactive graphical systems where the user can use a pointing device, this could take the
   form of a tooltip. When the user is unable to use a pointing device, then the user agent is
-  expected to make the content available in some other fashion, e.g. by making the element focusable
-  and always displaying the &lt;span&gt;advisory information&lt;/span&gt; of the currently focused element, or
+  expected to make the content available in some other fashion, e.g. by making the element a &lt;i&gt;focusable area&lt;/i&gt;
+  and always displaying the &lt;span&gt;advisory information&lt;/span&gt; of the currently &lt;span&gt;focused&lt;/span&gt; element, or
   by showing the &lt;span&gt;advisory information&lt;/span&gt; of the elements under the user's finger on a
   touch device as the user pans around the screen.&lt;/p&gt;
 
@@ -107752,7 +108490,7 @@
   &lt;div class=&quot;example&quot;&gt;
 
    &lt;p&gt;For example, a visual user agent could make elements with a &lt;code
-   data-x=&quot;attr-title&quot;&gt;title&lt;/code&gt; attribute focusable, and could make any focused element with a
+   data-x=&quot;attr-title&quot;&gt;title&lt;/code&gt; attribute &lt;span data-x=&quot;focusable area&quot;&gt;focusable&lt;/span&gt;, and could make any &lt;span&gt;focused&lt;/span&gt; element with a
    &lt;code data-x=&quot;attr-title&quot;&gt;title&lt;/code&gt; attribute show its tooltip under the element while the
    element has focus. This would allow a user to tab around the document to find all the advisory
    text.&lt;/p&gt;
@@ -107937,7 +108675,7 @@
    &lt;li&gt;None of the elements in the &lt;code&gt;Document&lt;/code&gt; have any &lt;span&gt;presentational hints&lt;/span&gt;.
    &lt;li&gt;None of the elements in the &lt;code&gt;Document&lt;/code&gt; have any &lt;span data-x=&quot;CSS styling attribute&quot;&gt;CSS styling attributes&lt;/span&gt;.
    &lt;li&gt;None of the elements in the &lt;code&gt;Document&lt;/code&gt; are in any of the following namespaces: &lt;span&gt;HTML namespace&lt;/span&gt;, &lt;span&gt;SVG namespace&lt;/span&gt;, &lt;span&gt;MathML namespace&lt;/span&gt;
-   &lt;li&gt;The &lt;code&gt;Document&lt;/code&gt; has no &lt;span&gt;focusable&lt;/span&gt; elements (e.g. from XLink).
+   &lt;li&gt;The &lt;code&gt;Document&lt;/code&gt; has no &lt;i&gt;focusable area&lt;/i&gt; (e.g. from XLink) other than the viewport.
    &lt;li&gt;The &lt;code&gt;Document&lt;/code&gt; has no &lt;span data-x=&quot;hyperlink&quot;&gt;hyperlinks&lt;/span&gt; (e.g. from XLink).
    &lt;li&gt;There exists no &lt;span data-x=&quot;concept-script&quot;&gt;script&lt;/span&gt; whose &lt;span&gt;settings object&lt;/span&gt; specifies this &lt;code&gt;Document&lt;/code&gt; as the &lt;span&gt;responsible document&lt;/span&gt;.
    &lt;li&gt;None of the elements in the &lt;code&gt;Document&lt;/code&gt; have any registered event listeners.
@@ -114345,7 +115083,7 @@
      &lt;td&gt; &lt;dfn data-x=&quot;event-blur&quot;&gt;&lt;code&gt;blur&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt; &lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt; &lt;code&gt;Window&lt;/code&gt;, elements
-     &lt;td&gt; Fired at nodes losing focus &lt;!-- XXX bug 23475 --&gt;
+     &lt;td&gt; Fired at nodes when they stop being &lt;span&gt;focused&lt;/span&gt;
 
     &lt;tr&gt; &lt;!-- cancel --&gt;
      &lt;td&gt; &lt;dfn data-x=&quot;event-cancel&quot;&gt;&lt;code&gt;cancel&lt;/code&gt;&lt;/dfn&gt;
@@ -114393,7 +115131,7 @@
      &lt;td&gt; &lt;dfn data-x=&quot;event-focus&quot;&gt;&lt;code&gt;focus&lt;/code&gt;&lt;/dfn&gt;
      &lt;td&gt; &lt;code&gt;Event&lt;/code&gt;
      &lt;td&gt; &lt;code&gt;Window&lt;/code&gt;, elements
-     &lt;td&gt; Fired at nodes gaining focus &lt;!-- XXX bug 23475 --&gt;
+     &lt;td&gt; Fired at nodes &lt;span data-x=&quot;gains focus&quot;&gt;gaining focus&lt;/span&gt;
 
     &lt;tr&gt; &lt;!-- hashchange --&gt;
      &lt;td&gt; &lt;dfn data-x=&quot;event-hashchange&quot;&gt;&lt;code&gt;hashchange&lt;/code&gt;&lt;/dfn&gt;


</PRE>
<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23094">[ date ]</a>
              <a href="thread.html#23094">[ thread ]</a>
              <a href="subject.html#23094">[ subject ]</a>
              <a href="author.html#23094">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
