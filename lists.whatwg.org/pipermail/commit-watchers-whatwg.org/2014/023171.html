<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r8555 - [giow] (3) Be more explicit about handing off to	external software during naviga [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8555%20-%20%5Bgiow%5D%20%283%29%20Be%20more%20explicit%20about%20handing%20off%20to%0A%09external%20software%20during%20naviga%20%5B...%5D&In-Reply-To=%3C20140319220142.0D626C3C02AA%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r8555 - [giow] (3) Be more explicit about handing off to	external software during naviga [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8555%20-%20%5Bgiow%5D%20%283%29%20Be%20more%20explicit%20about%20handing%20off%20to%0A%09external%20software%20during%20naviga%20%5B...%5D&In-Reply-To=%3C20140319220142.0D626C3C02AA%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r8555 - [giow] (3) Be more explicit about handing off to	external software during naviga [...]">whatwg at whatwg.org
       </A><BR>
    <I>Wed Mar 19 15:01:42 PDT 2014</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23171">[ date ]</a>
              <a href="thread.html#23171">[ thread ]</a>
              <a href="subject.html#23171">[ subject ]</a>
              <a href="author.html#23171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2014-03-19 15:01:39 -0700 (Wed, 19 Mar 2014)
New Revision: 8555

Modified:
   complete.html
   index
   source
Log:
[giow] (3) Be more explicit about handing off to external software during navigation.
Affected topics: HTML

Modified: complete.html
===================================================================
--- complete.html	2014-03-18 18:36:16 UTC (rev 8554)
+++ complete.html	2014-03-19 22:01:39 UTC (rev 8555)
@@ -298,7 +298,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> class=logo&gt;&lt;img width=101 src=/images/logo alt=WHATWG height=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 18 March 2014&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 19 March 2014&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -67988,8 +67988,8 @@
 
    &lt;li&gt;&lt;p&gt;If the new resource is to be handled using a mechanism that does not affect the browsing
    context, e.g. ignoring the navigation request altogether because the specified scheme is not one
-   of the supported protocols, then abort these steps and proceed with that mechanism
-   instead.&lt;/li&gt;
+   of the supported protocols, then abort these steps and &lt;a href=#hand-off-to-external-software title=&quot;hand-off to external
+   software&quot;&gt;proceed with that mechanism instead&lt;/a&gt;.&lt;/li&gt;
 
    &lt;li&gt;
 
@@ -68453,10 +68453,21 @@
 
    &lt;li&gt;&lt;p&gt;Otherwise, the document's &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; is such that the resource will not
    affect the browsing context, e.g. because the resource is to be handed to an external application
-   or because it is an unknown type that will be processed &lt;a href=#as-a-download&gt;as a download&lt;/a&gt;. Process the
-   resource appropriately.&lt;/p&gt;
+   or because it is an unknown type that will be processed &lt;a href=#as-a-download&gt;as a download&lt;/a&gt;. &lt;a href=#hand-off-to-external-software title=&quot;hand-off to external software&quot;&gt;Process the resource appropriately&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;Some of the sections below, to which the above algorithm defers in certain cases, require the
+  &lt;/ol&gt;&lt;p&gt;When a resource is handled by &lt;dfn id=hand-off-to-external-software title=&quot;hand-off to external software&quot;&gt;passing its URL or
+  data to an external software package&lt;/dfn&gt; separate from the user agent (e.g. handing a &lt;code title=&quot;&quot;&gt;mailto:&lt;/code&gt; URL to a mail client, or a Word document to a word processor), user
+  agents should attempt to mitigate the risk that this is an attempt to exploit the target software,
+  e.g. by prompting the user to confirm that the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;'s &lt;a href=#active-document&gt;active
+  document&lt;/a&gt;'s &lt;a href=#origin&gt;origin&lt;/a&gt; is to be allowed to invoke the specified software. In
+  particular, if the &lt;a href=#navigate&gt;navigate&lt;/a&gt; algorithm, when it was invoked, was not &lt;a href=#allowed-to-show-a-popup&gt;allowed to
+  show a popup&lt;/a&gt;, the user agent should not invoke the external software package without prior
+  user confirmation.&lt;/p&gt;
+
+  &lt;p class=example&gt;For example, there could be a vulnerability in the target software's URL
+  handler which a hostile page would attempt to exploit by tricking a user into clicking a link.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;Some of the sections below, to which the above algorithm defers in certain cases, require the
   user agent to &lt;dfn id=update-the-session-history-with-the-new-page&gt;update the session history with the new page&lt;/dfn&gt;. When a user agent is
   required to do this, it must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; (associated with the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
   object of the &lt;a href=#current-entry&gt;current entry&lt;/a&gt;, not the new one) to run the following steps:&lt;/p&gt;
@@ -104659,6 +104670,7 @@
   Lobotom Dysmon,
   Logan&lt;!-- on moz irc --&gt;,
   Loune,
+  &Lstrok;ukasz Pilorz,
   Luke Kenneth Casson Leighton,
   Maciej Stachowiak,
   Magnus Kristiansen&lt;!-- Dashiva --&gt;,

Modified: index
===================================================================
--- index	2014-03-18 18:36:16 UTC (rev 8554)
+++ index	2014-03-19 22:01:39 UTC (rev 8555)
@@ -298,7 +298,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> class=logo&gt;&lt;img width=101 src=/images/logo alt=WHATWG height=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 18 March 2014&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 19 March 2014&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -67988,8 +67988,8 @@
 
    &lt;li&gt;&lt;p&gt;If the new resource is to be handled using a mechanism that does not affect the browsing
    context, e.g. ignoring the navigation request altogether because the specified scheme is not one
-   of the supported protocols, then abort these steps and proceed with that mechanism
-   instead.&lt;/li&gt;
+   of the supported protocols, then abort these steps and &lt;a href=#hand-off-to-external-software title=&quot;hand-off to external
+   software&quot;&gt;proceed with that mechanism instead&lt;/a&gt;.&lt;/li&gt;
 
    &lt;li&gt;
 
@@ -68453,10 +68453,21 @@
 
    &lt;li&gt;&lt;p&gt;Otherwise, the document's &lt;var title=&quot;&quot;&gt;type&lt;/var&gt; is such that the resource will not
    affect the browsing context, e.g. because the resource is to be handed to an external application
-   or because it is an unknown type that will be processed &lt;a href=#as-a-download&gt;as a download&lt;/a&gt;. Process the
-   resource appropriately.&lt;/p&gt;
+   or because it is an unknown type that will be processed &lt;a href=#as-a-download&gt;as a download&lt;/a&gt;. &lt;a href=#hand-off-to-external-software title=&quot;hand-off to external software&quot;&gt;Process the resource appropriately&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;/ol&gt;&lt;hr&gt;&lt;p&gt;Some of the sections below, to which the above algorithm defers in certain cases, require the
+  &lt;/ol&gt;&lt;p&gt;When a resource is handled by &lt;dfn id=hand-off-to-external-software title=&quot;hand-off to external software&quot;&gt;passing its URL or
+  data to an external software package&lt;/dfn&gt; separate from the user agent (e.g. handing a &lt;code title=&quot;&quot;&gt;mailto:&lt;/code&gt; URL to a mail client, or a Word document to a word processor), user
+  agents should attempt to mitigate the risk that this is an attempt to exploit the target software,
+  e.g. by prompting the user to confirm that the &lt;a href=#source-browsing-context&gt;source browsing context&lt;/a&gt;'s &lt;a href=#active-document&gt;active
+  document&lt;/a&gt;'s &lt;a href=#origin&gt;origin&lt;/a&gt; is to be allowed to invoke the specified software. In
+  particular, if the &lt;a href=#navigate&gt;navigate&lt;/a&gt; algorithm, when it was invoked, was not &lt;a href=#allowed-to-show-a-popup&gt;allowed to
+  show a popup&lt;/a&gt;, the user agent should not invoke the external software package without prior
+  user confirmation.&lt;/p&gt;
+
+  &lt;p class=example&gt;For example, there could be a vulnerability in the target software's URL
+  handler which a hostile page would attempt to exploit by tricking a user into clicking a link.&lt;/p&gt;
+
+  &lt;hr&gt;&lt;p&gt;Some of the sections below, to which the above algorithm defers in certain cases, require the
   user agent to &lt;dfn id=update-the-session-history-with-the-new-page&gt;update the session history with the new page&lt;/dfn&gt;. When a user agent is
   required to do this, it must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; (associated with the &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;
   object of the &lt;a href=#current-entry&gt;current entry&lt;/a&gt;, not the new one) to run the following steps:&lt;/p&gt;
@@ -104659,6 +104670,7 @@
   Lobotom Dysmon,
   Logan&lt;!-- on moz irc --&gt;,
   Loune,
+  &Lstrok;ukasz Pilorz,
   Luke Kenneth Casson Leighton,
   Maciej Stachowiak,
   Magnus Kristiansen&lt;!-- Dashiva --&gt;,

Modified: source
===================================================================
--- source	2014-03-18 18:36:16 UTC (rev 8554)
+++ source	2014-03-19 22:01:39 UTC (rev 8555)
@@ -75804,8 +75804,8 @@
 
    &lt;li&gt;&lt;p&gt;If the new resource is to be handled using a mechanism that does not affect the browsing
    context, e.g. ignoring the navigation request altogether because the specified scheme is not one
-   of the supported protocols, then abort these steps and proceed with that mechanism
-   instead.&lt;/p&gt;&lt;/li&gt;
+   of the supported protocols, then abort these steps and &lt;span data-x=&quot;hand-off to external
+   software&quot;&gt;proceed with that mechanism instead&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
 
    &lt;li&gt;
 
@@ -76318,11 +76318,24 @@
 
    &lt;li&gt;&lt;p&gt;Otherwise, the document's &lt;var data-x=&quot;&quot;&gt;type&lt;/var&gt; is such that the resource will not
    affect the browsing context, e.g. because the resource is to be handed to an external application
-   or because it is an unknown type that will be processed &lt;span&gt;as a download&lt;/span&gt;. Process the
-   resource appropriately.&lt;/p&gt;
+   or because it is an unknown type that will be processed &lt;span&gt;as a download&lt;/span&gt;. &lt;span
+   data-x=&quot;hand-off to external software&quot;&gt;Process the resource appropriately&lt;/span&gt;.&lt;/p&gt;
 
   &lt;/ol&gt;
 
+  &lt;p&gt;When a resource is handled by &lt;dfn data-x=&quot;hand-off to external software&quot;&gt;passing its URL or
+  data to an external software package&lt;/dfn&gt; separate from the user agent (e.g. handing a &lt;code
+  data-x=&quot;&quot;&gt;mailto:&lt;/code&gt; URL to a mail client, or a Word document to a word processor), user
+  agents should attempt to mitigate the risk that this is an attempt to exploit the target software,
+  e.g. by prompting the user to confirm that the &lt;span&gt;source browsing context&lt;/span&gt;'s &lt;span&gt;active
+  document&lt;/span&gt;'s &lt;span&gt;origin&lt;/span&gt; is to be allowed to invoke the specified software. In
+  particular, if the &lt;span&gt;navigate&lt;/span&gt; algorithm, when it was invoked, was not &lt;span&gt;allowed to
+  show a popup&lt;/span&gt;, the user agent should not invoke the external software package without prior
+  user confirmation.&lt;/p&gt;
+
+  &lt;p class=&quot;example&quot;&gt;For example, there could be a vulnerability in the target software's URL
+  handler which a hostile page would attempt to exploit by tricking a user into clicking a link.&lt;/p&gt;
+
   &lt;hr&gt;
 
   &lt;p&gt;Some of the sections below, to which the above algorithm defers in certain cases, require the
@@ -116892,6 +116905,7 @@
   Lobotom Dysmon,
   Logan&lt;!-- on moz irc --&gt;,
   Loune,
+  &amp;#x0141;ukasz Pilorz,
   Luke Kenneth Casson Leighton,
   Maciej Stachowiak,
   Magnus Kristiansen&lt;!-- Dashiva --&gt;,


</PRE>
<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23171">[ date ]</a>
              <a href="thread.html#23171">[ thread ]</a>
              <a href="subject.html#23171">[ subject ]</a>
              <a href="author.html#23171">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
