<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r8810 - [giow] (2) Try to match browsers better around	focus. Fixing https://www.w3.org/ [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8810%20-%20%5Bgiow%5D%20%282%29%20Try%20to%20match%20browsers%20better%20around%0A%09focus.%20Fixing%20https%3A//www.w3.org/%20%5B...%5D&In-Reply-To=%3C20140924185455.5964220237CDF0%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023412.html">
   <LINK REL="Next"  HREF="023414.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r8810 - [giow] (2) Try to match browsers better around	focus. Fixing https://www.w3.org/ [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8810%20-%20%5Bgiow%5D%20%282%29%20Try%20to%20match%20browsers%20better%20around%0A%09focus.%20Fixing%20https%3A//www.w3.org/%20%5B...%5D&In-Reply-To=%3C20140924185455.5964220237CDF0%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r8810 - [giow] (2) Try to match browsers better around	focus. Fixing https://www.w3.org/ [...]">whatwg at whatwg.org
       </A><BR>
    <I>Wed Sep 24 11:54:55 PDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="023412.html">[html5] r8809 - [e] (0) DOMStringMap Example img src missing ending	quote mark Fixing https://ww [...]
</A></li>
        <LI>Next message: <A HREF="023414.html">[html5] r8811 - [giow] (3) Add getSVGDocument() to object and	iframe also, with the same definit [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23413">[ date ]</a>
              <a href="thread.html#23413">[ thread ]</a>
              <a href="subject.html#23413">[ subject ]</a>
              <a href="author.html#23413">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2014-09-24 11:54:51 -0700 (Wed, 24 Sep 2014)
New Revision: 8810

Modified:
   complete.html
   index
   source
Log:
[giow] (2) Try to match browsers better around focus.
Fixing <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=26826">https://www.w3.org/Bugs/Public/show_bug.cgi?id=26826</A>
Affected topics: DOM APIs, HTML

Modified: complete.html
===================================================================
--- complete.html	2014-09-24 17:45:41 UTC (rev 8809)
+++ complete.html	2014-09-24 18:54:51 UTC (rev 8810)
@@ -54542,17 +54542,21 @@
       &lt;p&gt;Let &lt;var&gt;new focus target&lt;/var&gt; be the element's first scrollable region,
       according to a pre-order, depth-first traversal of the box tree. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt;&lt;/p&gt;
 
-     &lt;dt&gt;If &lt;var&gt;new focus target&lt;/var&gt; is &lt;a href=#the-body-element-2 id=processing-model-6:the-body-element-2&gt;the body element&lt;/a&gt; of its
-     &lt;code id=processing-model-6:document&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;&lt;dt&gt;If &lt;var&gt;new focus target&lt;/var&gt; is the &lt;a href=#root-element id=processing-model-6:root-element&gt;root element&lt;/a&gt; of its
-     &lt;code id=processing-model-6:document-2&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; and that &lt;code id=processing-model-6:document-3&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has no &lt;a href=#the-body-element-2 id=processing-model-6:the-body-element-2-2&gt;body element&lt;/a&gt;&lt;dd&gt;
+     &lt;dt&gt;If &lt;var&gt;new focus target&lt;/var&gt; is the &lt;a href=#root-element id=processing-model-6:root-element&gt;root element&lt;/a&gt; of its
+     &lt;code id=processing-model-6:document&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;&lt;dd&gt;
 
-      &lt;p&gt;Let &lt;var&gt;new focus target&lt;/var&gt; be the &lt;code id=processing-model-6:document-4&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s viewport.&lt;/p&gt;
+      &lt;p&gt;Let &lt;var&gt;new focus target&lt;/var&gt; be the &lt;code id=processing-model-6:document-2&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s viewport.&lt;/p&gt;
 
      &lt;dt&gt;If &lt;var&gt;new focus target&lt;/var&gt; is a &lt;a href=#browsing-context id=processing-model-6:browsing-context-2&gt;browsing context&lt;/a&gt;&lt;dd&gt;
 
       &lt;p&gt;Let &lt;var&gt;new focus target&lt;/var&gt; be the &lt;a href=#browsing-context id=processing-model-6:browsing-context-3&gt;browsing context&lt;/a&gt;'s
       &lt;a href=#active-document id=processing-model-6:active-document&gt;active document&lt;/a&gt;.&lt;/p&gt;
 
+     &lt;dt&gt;If &lt;var&gt;new focus target&lt;/var&gt; is a &lt;a href=#browsing-context-container id=processing-model-6:browsing-context-container&gt;browsing context container&lt;/a&gt;&lt;dd&gt;
+
+      &lt;p&gt;Let &lt;var&gt;new focus target&lt;/var&gt; be the &lt;a href=#browsing-context-container id=processing-model-6:browsing-context-container-2&gt;browsing context container&lt;/a&gt;'s &lt;a href=#nested-browsing-context id=processing-model-6:nested-browsing-context&gt;nested browsing context&lt;/a&gt;'s
+      &lt;a href=#active-document id=processing-model-6:active-document-2&gt;active document&lt;/a&gt;.&lt;/p&gt;
+
      &lt;dt&gt;Otherwise&lt;dd&gt;
 
       &lt;p&gt;Abort the &lt;a href=#focusing-steps id=processing-model-6:focusing-steps&gt;focusing steps&lt;/a&gt;.&lt;/p&gt;
@@ -54573,9 +54577,9 @@
     group&lt;/a&gt;, and redo this step.&lt;/p&gt;
 
     
-    &lt;p&gt;Otherwise, if &lt;var&gt;new focus target&lt;/var&gt; is a &lt;a href=#browsing-context-container id=processing-model-6:browsing-context-container&gt;browsing context
-    container&lt;/a&gt;, then let &lt;var&gt;new focus target&lt;/var&gt; be the &lt;a href=#nested-browsing-context id=processing-model-6:nested-browsing-context&gt;nested browsing
-    context&lt;/a&gt;'s &lt;a href=#active-document id=processing-model-6:active-document-2&gt;active document&lt;/a&gt;, and redo this step.&lt;/p&gt;
+    &lt;p&gt;Otherwise, if &lt;var&gt;new focus target&lt;/var&gt; is a &lt;a href=#browsing-context-container id=processing-model-6:browsing-context-container-3&gt;browsing context
+    container&lt;/a&gt;, then let &lt;var&gt;new focus target&lt;/var&gt; be the &lt;a href=#nested-browsing-context id=processing-model-6:nested-browsing-context-2&gt;nested browsing
+    context&lt;/a&gt;'s &lt;a href=#active-document id=processing-model-6:active-document-3&gt;active document&lt;/a&gt;, and redo this step.&lt;/p&gt;
 
     &lt;p class=note&gt;A &lt;code id=processing-model-6:the-dialog-element-2&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element can be both a &lt;a href=#control-group-owner-object id=processing-model-6:control-group-owner-object-4&gt;control group owner
     object&lt;/a&gt; and a &lt;a href=#focusable-area id=processing-model-6:focusable-area-8&gt;focusable area&lt;/a&gt;, if it has both an &lt;code id=processing-model-6:attr-dialog-open-2&gt;&lt;a href=#attr-dialog-open&gt;open&lt;/a&gt;&lt;/code&gt; attribute specified and a &lt;code id=processing-model-6:attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute specified and is &lt;a href=#being-rendered id=processing-model-6:being-rendered-2&gt;being
@@ -54615,7 +54619,7 @@
 
     &lt;p&gt;Otherwise, if &lt;var&gt;old focus target&lt;/var&gt; is a &lt;a href=#focusable-area id=processing-model-6:focusable-area-13&gt;focusable area&lt;/a&gt;, then let &lt;var&gt;new
     focus target&lt;/var&gt; be the first &lt;a href=#focusable-area id=processing-model-6:focusable-area-14&gt;focusable area&lt;/a&gt; of its &lt;a href=#control-group id=processing-model-6:control-group-3&gt;control group&lt;/a&gt;
-    (if the &lt;a href=#control-group-owner id=processing-model-6:control-group-owner&gt;control group owner&lt;/a&gt; is a &lt;code id=processing-model-6:document-5&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, this will always be a
+    (if the &lt;a href=#control-group-owner id=processing-model-6:control-group-owner&gt;control group owner&lt;/a&gt; is a &lt;code id=processing-model-6:document-3&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, this will always be a
     viewport).&lt;/p&gt;
 
     &lt;p&gt;Otherwise, let &lt;var&gt;new focus target&lt;/var&gt; be null.&lt;/p&gt;
@@ -54656,7 +54660,7 @@
   group&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p class=example&gt;For example, this might happen because an element is removed from its
-  &lt;code id=processing-model-6:document-6&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, or has a &lt;code id=processing-model-6:the-hidden-attribute&gt;&lt;a href=#the-hidden-attribute&gt;hidden&lt;/a&gt;&lt;/code&gt; attribute added. It might
+  &lt;code id=processing-model-6:document-4&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, or has a &lt;code id=processing-model-6:the-hidden-attribute&gt;&lt;a href=#the-hidden-attribute&gt;hidden&lt;/a&gt;&lt;/code&gt; attribute added. It might
   also happen to an &lt;code id=processing-model-6:the-input-element&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element when the element gets &lt;a href=#concept-fe-disabled id=processing-model-6:concept-fe-disabled&gt;disabled&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;&lt;dfn id=focus-fixup-rule-two&gt;Focus fixup rule two&lt;/dfn&gt;: When a &lt;a href=#dialog-group id=processing-model-6:dialog-group-7&gt;dialog group&lt;/a&gt; has no designed &lt;a href=#focused-dialog-of-the-dialog-group id=processing-model-6:focused-dialog-of-the-dialog-group-4&gt;focused
@@ -54711,8 +54715,8 @@
       &lt;p&gt;If &lt;var&gt;entry&lt;/var&gt; is an element, let &lt;var&gt;blur event target&lt;/var&gt; be
       &lt;var&gt;entry&lt;/var&gt;.&lt;/p&gt;
 
-      &lt;p&gt;If &lt;var&gt;entry&lt;/var&gt; is a &lt;code id=processing-model-6:document-7&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, let &lt;var&gt;blur
-      event target&lt;/var&gt; be that &lt;code id=processing-model-6:document-8&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;code id=processing-model-6:window&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+      &lt;p&gt;If &lt;var&gt;entry&lt;/var&gt; is a &lt;code id=processing-model-6:document-5&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, let &lt;var&gt;blur
+      event target&lt;/var&gt; be that &lt;code id=processing-model-6:document-6&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;code id=processing-model-6:window&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
       &lt;p&gt;Otherwise, let &lt;var&gt;blur event target&lt;/var&gt; be null.&lt;/p&gt;
 
@@ -54753,8 +54757,8 @@
       &lt;p&gt;If &lt;var&gt;entry&lt;/var&gt; is an element, let &lt;var&gt;focus event target&lt;/var&gt; be
       &lt;var&gt;entry&lt;/var&gt;.&lt;/p&gt;
 
-      &lt;p&gt;If &lt;var&gt;entry&lt;/var&gt; is a &lt;code id=processing-model-6:document-9&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, let &lt;var&gt;focus
-      event target&lt;/var&gt; be that &lt;code id=processing-model-6:document-10&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;code id=processing-model-6:window-2&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+      &lt;p&gt;If &lt;var&gt;entry&lt;/var&gt; is a &lt;code id=processing-model-6:document-7&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, let &lt;var&gt;focus
+      event target&lt;/var&gt; be that &lt;code id=processing-model-6:document-8&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;code id=processing-model-6:window-2&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
       &lt;p&gt;Otherwise, let &lt;var&gt;focus event target&lt;/var&gt; be null.&lt;/p&gt;
 
@@ -54780,7 +54784,7 @@
   agent must create a &lt;a href=#concept-events-trusted id=processing-model-6:concept-events-trusted&gt;trusted&lt;/a&gt; &lt;code id=processing-model-6:focusevent&gt;&lt;a href=#focusevent&gt;FocusEvent&lt;/a&gt;&lt;/code&gt;
   object, initialise it to have the given name &lt;var&gt;e&lt;/var&gt;, to not bubble, to not be
   cancelable, and to have the &lt;code id=processing-model-6:dom-focusevent-relatedtarget&gt;&lt;a href=#dom-focusevent-relatedtarget&gt;relatedTarget&lt;/a&gt;&lt;/code&gt;
-  attribute initialised to &lt;var&gt;r&lt;/var&gt;, the &lt;code id=processing-model-6:dom-uievent-view&gt;&lt;a href=#dom-uievent-view&gt;view&lt;/a&gt;&lt;/code&gt; attribute initialised to the &lt;code id=processing-model-6:window-3&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object of the &lt;code id=processing-model-6:document-11&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object of &lt;var&gt;t&lt;/var&gt;, and the &lt;code id=processing-model-6:dom-uievent-detail&gt;&lt;a href=#dom-uievent-detail&gt;detail&lt;/a&gt;&lt;/code&gt; attribute initialised to 0, and must then &lt;a href=#concept-event-dispatch id=processing-model-6:concept-event-dispatch&gt;dispatch&lt;/a&gt; the newly created &lt;code id=processing-model-6:focusevent-2&gt;&lt;a href=#focusevent&gt;FocusEvent&lt;/a&gt;&lt;/code&gt; object
+  attribute initialised to &lt;var&gt;r&lt;/var&gt;, the &lt;code id=processing-model-6:dom-uievent-view&gt;&lt;a href=#dom-uievent-view&gt;view&lt;/a&gt;&lt;/code&gt; attribute initialised to the &lt;code id=processing-model-6:window-3&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object of the &lt;code id=processing-model-6:document-9&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object of &lt;var&gt;t&lt;/var&gt;, and the &lt;code id=processing-model-6:dom-uievent-detail&gt;&lt;a href=#dom-uievent-detail&gt;detail&lt;/a&gt;&lt;/code&gt; attribute initialised to 0, and must then &lt;a href=#concept-event-dispatch id=processing-model-6:concept-event-dispatch&gt;dispatch&lt;/a&gt; the newly created &lt;code id=processing-model-6:focusevent-2&gt;&lt;a href=#focusevent&gt;FocusEvent&lt;/a&gt;&lt;/code&gt; object
   at the specified target element &lt;var&gt;t&lt;/var&gt;.&lt;/p&gt;
 
   &lt;hr&gt;
@@ -54793,12 +54797,12 @@
    node&lt;/var&gt; be &lt;var&gt;target area&lt;/var&gt;'s &lt;a href=#dom-anchor id=processing-model-6:dom-anchor-2&gt;DOM anchor&lt;/a&gt;. Otherwise, &lt;var&gt;target area&lt;/var&gt; is a &lt;code id=processing-model-6:the-dialog-element-16&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt;; let &lt;var&gt;target node&lt;/var&gt; be
    &lt;var&gt;target area&lt;/var&gt;.&lt;li&gt;
 
-    &lt;p&gt;If &lt;var&gt;target node&lt;/var&gt; is a &lt;code id=processing-model-6:document-12&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#the-body-element-2 id=processing-model-6:the-body-element-2-3&gt;body element&lt;/a&gt;, then let &lt;var&gt;target node&lt;/var&gt; be &lt;a href=#the-body-element-2 id=processing-model-6:the-body-element-2-4&gt;the body
-    element&lt;/a&gt; of that &lt;code id=processing-model-6:document-13&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+    &lt;p&gt;If &lt;var&gt;target node&lt;/var&gt; is a &lt;code id=processing-model-6:document-10&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#the-body-element-2 id=processing-model-6:the-body-element-2&gt;body element&lt;/a&gt;, then let &lt;var&gt;target node&lt;/var&gt; be &lt;a href=#the-body-element-2 id=processing-model-6:the-body-element-2-2&gt;the body
+    element&lt;/a&gt; of that &lt;code id=processing-model-6:document-11&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, if &lt;var&gt;target node&lt;/var&gt; is a &lt;code id=processing-model-6:document-14&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a
+    &lt;p&gt;Otherwise, if &lt;var&gt;target node&lt;/var&gt; is a &lt;code id=processing-model-6:document-12&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a
     &lt;a href=#root-element id=processing-model-6:root-element-2&gt;root element&lt;/a&gt;, then let &lt;var&gt;target node&lt;/var&gt; be the &lt;a href=#root-element id=processing-model-6:root-element-3&gt;root
-    element&lt;/a&gt; of that &lt;code id=processing-model-6:document-15&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+    element&lt;/a&gt; of that &lt;code id=processing-model-6:document-13&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
    &lt;li&gt;
 
@@ -54963,19 +54967,18 @@
 
     
 
-    &lt;p&gt;Moves the focus to the window's &lt;a href=#browsing-context-container id=focus-management-apis:browsing-context-container-2&gt;browsing context container&lt;/a&gt;, if any.&lt;/p&gt;
+    &lt;p&gt;Moves the focus to the window's &lt;a href=#browsing-context id=focus-management-apis:browsing-context&gt;browsing context&lt;/a&gt;, if any.&lt;/p&gt;
 
    &lt;dt&gt;&lt;var&gt;element&lt;/var&gt; . &lt;code id=focus-management-apis:dom-focus&gt;&lt;a href=#dom-focus&gt;focus&lt;/a&gt;&lt;/code&gt;()&lt;dd&gt;
 
     &lt;p&gt;Moves the focus to the element.&lt;/p&gt;
 
-    &lt;p&gt;If the element is &lt;a href=#the-body-element-2 id=focus-management-apis:the-body-element-2&gt;the body element&lt;/a&gt;, moves the focus to the viewport instead.&lt;/p&gt;
+    &lt;p&gt;If the element is a &lt;a href=#browsing-context-container id=focus-management-apis:browsing-context-container-2&gt;browsing context container&lt;/a&gt;, moves the focus to the &lt;a href=#nested-browsing-context id=focus-management-apis:nested-browsing-context&gt;nested browsing context&lt;/a&gt; instead.&lt;/p&gt;
 
    &lt;dt&gt;&lt;var&gt;element&lt;/var&gt; . &lt;code id=focus-management-apis:dom-blur&gt;&lt;a href=#dom-blur&gt;blur&lt;/a&gt;&lt;/code&gt;()&lt;dd&gt;
 
     &lt;p&gt;Moves the focus to the viewport. Use of this method is discouraged; if you want to focus the
-    viewport, call the &lt;code id=focus-management-apis:dom-focus-2&gt;&lt;a href=#dom-focus&gt;focus()&lt;/a&gt;&lt;/code&gt; method on &lt;a href=#the-body-element-2 id=focus-management-apis:the-body-element-2-2&gt;the body
-    element&lt;/a&gt;.&lt;/p&gt;
+    viewport, call the &lt;code id=focus-management-apis:dom-focus-2&gt;&lt;a href=#dom-focus&gt;focus()&lt;/a&gt;&lt;/code&gt; method on the &lt;code id=focus-management-apis:document&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s root element.&lt;/p&gt;
 
     &lt;p&gt;Do not use this method to hide the focus ring if you find the focus ring unsightly. Instead,
     use a CSS rule to override the 'outline' property, and provide a different way to show what
@@ -54999,9 +55002,9 @@
   
 
   &lt;p&gt;The &lt;dfn id=dom-document-activeelement&gt;&lt;code&gt;activeElement&lt;/code&gt;&lt;/dfn&gt; attribute on
-  &lt;code id=focus-management-apis:document&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return the value returned by the following steps:&lt;/p&gt;
+  &lt;code id=focus-management-apis:document-2&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return the value returned by the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var&gt;candidate&lt;/var&gt; be the &lt;code id=focus-management-apis:document-2&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; on which the method was
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var&gt;candidate&lt;/var&gt; be the &lt;code id=focus-management-apis:document-3&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; on which the method was
    invoked.&lt;li&gt;&lt;p&gt;If &lt;var&gt;candidate&lt;/var&gt; has a &lt;a href=#dialog-group id=focus-management-apis:dialog-group&gt;dialog group&lt;/a&gt; with a designated
    &lt;a href=#focused-dialog-of-the-dialog-group id=focus-management-apis:focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;, then let &lt;var&gt;candidate&lt;/var&gt; be the
    designated &lt;a href=#focused-dialog-of-the-dialog-group id=focus-management-apis:focused-dialog-of-the-dialog-group-2&gt;focused dialog of the dialog group&lt;/a&gt;, and redo this step.&lt;li&gt;&lt;p&gt;If &lt;var&gt;candidate&lt;/var&gt; has a non-empty &lt;a href=#control-group id=focus-management-apis:control-group&gt;control group&lt;/a&gt;, let &lt;var&gt;candidate&lt;/var&gt; be the designated &lt;a href=#focused-area-of-the-control-group id=focus-management-apis:focused-area-of-the-control-group&gt;focused area of the control
@@ -55009,22 +55012,22 @@
 
    &lt;li&gt;&lt;p&gt;If &lt;var&gt;candidate&lt;/var&gt; is a &lt;a href=#focusable-area id=focus-management-apis:focusable-area&gt;focusable area&lt;/a&gt;, let &lt;var&gt;candidate&lt;/var&gt; be &lt;var&gt;candidate&lt;/var&gt;'s &lt;a href=#dom-anchor id=focus-management-apis:dom-anchor&gt;DOM anchor&lt;/a&gt;.&lt;li&gt;
 
-    &lt;p&gt;If &lt;var&gt;candidate&lt;/var&gt; is a &lt;code id=focus-management-apis:document-3&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#the-body-element-2 id=focus-management-apis:the-body-element-2-3&gt;body element&lt;/a&gt;, then let &lt;var&gt;candidate&lt;/var&gt; be &lt;a href=#the-body-element-2 id=focus-management-apis:the-body-element-2-4&gt;the body
-    element&lt;/a&gt; of that &lt;code id=focus-management-apis:document-4&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+    &lt;p&gt;If &lt;var&gt;candidate&lt;/var&gt; is a &lt;code id=focus-management-apis:document-4&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#the-body-element-2 id=focus-management-apis:the-body-element-2&gt;body element&lt;/a&gt;, then let &lt;var&gt;candidate&lt;/var&gt; be &lt;a href=#the-body-element-2 id=focus-management-apis:the-body-element-2-2&gt;the body
+    element&lt;/a&gt; of that &lt;code id=focus-management-apis:document-5&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, if &lt;var&gt;candidate&lt;/var&gt; is a &lt;code id=focus-management-apis:document-5&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#root-element id=focus-management-apis:root-element&gt;root
+    &lt;p&gt;Otherwise, if &lt;var&gt;candidate&lt;/var&gt; is a &lt;code id=focus-management-apis:document-6&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#root-element id=focus-management-apis:root-element&gt;root
     element&lt;/a&gt;, then let &lt;var&gt;candidate&lt;/var&gt; be the &lt;a href=#root-element id=focus-management-apis:root-element-2&gt;root element&lt;/a&gt; of that
-    &lt;code id=focus-management-apis:document-6&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+    &lt;code id=focus-management-apis:document-7&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, if &lt;var&gt;candidate&lt;/var&gt; is a &lt;code id=focus-management-apis:document-7&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, then let &lt;var&gt;candidate&lt;/var&gt; be null.&lt;/p&gt;
+    &lt;p&gt;Otherwise, if &lt;var&gt;candidate&lt;/var&gt; is a &lt;code id=focus-management-apis:document-8&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, then let &lt;var&gt;candidate&lt;/var&gt; be null.&lt;/p&gt;
 
    &lt;li&gt;&lt;p&gt;Return &lt;var&gt;candidate&lt;/var&gt;.&lt;/ol&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-document-hasfocus&gt;&lt;code&gt;hasFocus()&lt;/code&gt;&lt;/dfn&gt; method on
-  &lt;code id=focus-management-apis:document-8&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return the value returned by the following steps:&lt;/p&gt;
+  &lt;code id=focus-management-apis:document-9&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return the value returned by the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var&gt;target&lt;/var&gt; be the &lt;code id=focus-management-apis:document-9&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; on which the method was
-   invoked.&lt;li&gt;&lt;p&gt;Let &lt;var&gt;candidate&lt;/var&gt; be the &lt;code id=focus-management-apis:document-10&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the &lt;a href=#top-level-browsing-context id=focus-management-apis:top-level-browsing-context&gt;top-level
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var&gt;target&lt;/var&gt; be the &lt;code id=focus-management-apis:document-10&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; on which the method was
+   invoked.&lt;li&gt;&lt;p&gt;Let &lt;var&gt;candidate&lt;/var&gt; be the &lt;code id=focus-management-apis:document-11&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the &lt;a href=#top-level-browsing-context id=focus-management-apis:top-level-browsing-context&gt;top-level
    browsing context&lt;/a&gt;.&lt;li&gt;&lt;p&gt;If &lt;var&gt;candidate&lt;/var&gt; is &lt;var&gt;target&lt;/var&gt;, return true and abort
    these steps.&lt;li&gt;
 
@@ -55035,13 +55038,13 @@
     &lt;p&gt;Otherwise, if &lt;var&gt;candidate&lt;/var&gt; has a non-empty &lt;a href=#control-group id=focus-management-apis:control-group-2&gt;control group&lt;/a&gt;, and the
     designated &lt;a href=#focused-area-of-the-control-group id=focus-management-apis:focused-area-of-the-control-group-2&gt;focused area of the control group&lt;/a&gt; is a &lt;a href=#browsing-context-container id=focus-management-apis:browsing-context-container-3&gt;browsing context
     container&lt;/a&gt;, and the &lt;a href=#active-document id=focus-management-apis:active-document&gt;active document&lt;/a&gt; of that &lt;a href=#browsing-context-container id=focus-management-apis:browsing-context-container-4&gt;browsing context
-    container&lt;/a&gt;'s &lt;a href=#nested-browsing-context id=focus-management-apis:nested-browsing-context&gt;nested browsing context&lt;/a&gt; is &lt;var&gt;target&lt;/var&gt;, then
+    container&lt;/a&gt;'s &lt;a href=#nested-browsing-context id=focus-management-apis:nested-browsing-context-2&gt;nested browsing context&lt;/a&gt; is &lt;var&gt;target&lt;/var&gt;, then
     return true and abort these steps.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, if &lt;var&gt;candidate&lt;/var&gt; has a non-empty &lt;a href=#control-group id=focus-management-apis:control-group-3&gt;control group&lt;/a&gt;, and the
     designated &lt;a href=#focused-area-of-the-control-group id=focus-management-apis:focused-area-of-the-control-group-3&gt;focused area of the control group&lt;/a&gt; is a &lt;a href=#browsing-context-container id=focus-management-apis:browsing-context-container-5&gt;browsing context
     container&lt;/a&gt;, then let &lt;var&gt;candidate&lt;/var&gt; be the &lt;a href=#active-document id=focus-management-apis:active-document-2&gt;active document&lt;/a&gt; of
-    that &lt;a href=#browsing-context-container id=focus-management-apis:browsing-context-container-6&gt;browsing context container&lt;/a&gt;'s &lt;a href=#nested-browsing-context id=focus-management-apis:nested-browsing-context-2&gt;nested browsing context&lt;/a&gt;, and redo
+    that &lt;a href=#browsing-context-container id=focus-management-apis:browsing-context-container-6&gt;browsing context container&lt;/a&gt;'s &lt;a href=#nested-browsing-context id=focus-management-apis:nested-browsing-context-3&gt;nested browsing context&lt;/a&gt;, and redo
     this step.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, return false and abort these steps.&lt;/p&gt;
@@ -55050,13 +55053,13 @@
 
   &lt;p&gt;The &lt;dfn id=dom-window-focus&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method on the &lt;code id=focus-management-apis:window&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
   object, when invoked, must run the &lt;a href=#focusing-steps id=focus-management-apis:focusing-steps&gt;focusing steps&lt;/a&gt; with the &lt;code id=focus-management-apis:window-2&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
-  object's &lt;a href=#browsing-context id=focus-management-apis:browsing-context&gt;browsing context&lt;/a&gt;. Additionally, if this &lt;a href=#browsing-context id=focus-management-apis:browsing-context-2&gt;browsing context&lt;/a&gt; is a
+  object's &lt;a href=#browsing-context id=focus-management-apis:browsing-context-2&gt;browsing context&lt;/a&gt;. Additionally, if this &lt;a href=#browsing-context id=focus-management-apis:browsing-context-3&gt;browsing context&lt;/a&gt; is a
   &lt;a href=#top-level-browsing-context id=focus-management-apis:top-level-browsing-context-2&gt;top-level browsing context&lt;/a&gt;, user agents are encouraged to trigger some sort of
   notification to indicate to the user that the page is attempting to gain focus.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-window-blur&gt;&lt;code&gt;blur()&lt;/code&gt;&lt;/dfn&gt; method on the &lt;code id=focus-management-apis:window-3&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
   object, when invoked, provides a hint to the user agent that the script believes the user probably
-  is not currently interested in the contents of the &lt;a href=#browsing-context id=focus-management-apis:browsing-context-3&gt;browsing context&lt;/a&gt; of the
+  is not currently interested in the contents of the &lt;a href=#browsing-context id=focus-management-apis:browsing-context-4&gt;browsing context&lt;/a&gt; of the
   &lt;code id=focus-management-apis:window-4&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the method was invoked, but that the contents might become
   interesting again in the future.&lt;/p&gt;
 
@@ -55064,7 +55067,7 @@
   method entirely.&lt;/p&gt;
 
   &lt;p class=note&gt;Historically, the &lt;code id=focus-management-apis:dom-window-blur-2&gt;&lt;a href=#dom-window-blur&gt;focus()&lt;/a&gt;&lt;/code&gt; and &lt;code id=focus-management-apis:dom-window-blur-3&gt;&lt;a href=#dom-window-blur&gt;blur()&lt;/a&gt;&lt;/code&gt; methods actually affected the system-level focus of the
-  system widget (e.g. tab or window) that contained the &lt;a href=#browsing-context id=focus-management-apis:browsing-context-4&gt;browsing context&lt;/a&gt;, but hostile
+  system widget (e.g. tab or window) that contained the &lt;a href=#browsing-context id=focus-management-apis:browsing-context-5&gt;browsing context&lt;/a&gt;, but hostile
   sites widely abuse this behavior to the user's detriment.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-focus&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method on elements, when invoked, must
@@ -84667,6 +84670,7 @@
   Axel Dahmen,
   Ben Boyle,
   Ben Godfrey,
+  Ben Kelly,
   Ben Lerner,
   Ben Leslie,
   Ben Meadowcroft,

Modified: index
===================================================================
--- index	2014-09-24 17:45:41 UTC (rev 8809)
+++ index	2014-09-24 18:54:51 UTC (rev 8810)
@@ -54542,17 +54542,21 @@
       &lt;p&gt;Let &lt;var&gt;new focus target&lt;/var&gt; be the element's first scrollable region,
       according to a pre-order, depth-first traversal of the box tree. &lt;a href=#refsCSS&gt;[CSS]&lt;/a&gt;&lt;/p&gt;
 
-     &lt;dt&gt;If &lt;var&gt;new focus target&lt;/var&gt; is &lt;a href=#the-body-element-2 id=processing-model-6:the-body-element-2&gt;the body element&lt;/a&gt; of its
-     &lt;code id=processing-model-6:document&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;&lt;dt&gt;If &lt;var&gt;new focus target&lt;/var&gt; is the &lt;a href=#root-element id=processing-model-6:root-element&gt;root element&lt;/a&gt; of its
-     &lt;code id=processing-model-6:document-2&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; and that &lt;code id=processing-model-6:document-3&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; has no &lt;a href=#the-body-element-2 id=processing-model-6:the-body-element-2-2&gt;body element&lt;/a&gt;&lt;dd&gt;
+     &lt;dt&gt;If &lt;var&gt;new focus target&lt;/var&gt; is the &lt;a href=#root-element id=processing-model-6:root-element&gt;root element&lt;/a&gt; of its
+     &lt;code id=processing-model-6:document&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;&lt;dd&gt;
 
-      &lt;p&gt;Let &lt;var&gt;new focus target&lt;/var&gt; be the &lt;code id=processing-model-6:document-4&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s viewport.&lt;/p&gt;
+      &lt;p&gt;Let &lt;var&gt;new focus target&lt;/var&gt; be the &lt;code id=processing-model-6:document-2&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s viewport.&lt;/p&gt;
 
      &lt;dt&gt;If &lt;var&gt;new focus target&lt;/var&gt; is a &lt;a href=#browsing-context id=processing-model-6:browsing-context-2&gt;browsing context&lt;/a&gt;&lt;dd&gt;
 
       &lt;p&gt;Let &lt;var&gt;new focus target&lt;/var&gt; be the &lt;a href=#browsing-context id=processing-model-6:browsing-context-3&gt;browsing context&lt;/a&gt;'s
       &lt;a href=#active-document id=processing-model-6:active-document&gt;active document&lt;/a&gt;.&lt;/p&gt;
 
+     &lt;dt&gt;If &lt;var&gt;new focus target&lt;/var&gt; is a &lt;a href=#browsing-context-container id=processing-model-6:browsing-context-container&gt;browsing context container&lt;/a&gt;&lt;dd&gt;
+
+      &lt;p&gt;Let &lt;var&gt;new focus target&lt;/var&gt; be the &lt;a href=#browsing-context-container id=processing-model-6:browsing-context-container-2&gt;browsing context container&lt;/a&gt;'s &lt;a href=#nested-browsing-context id=processing-model-6:nested-browsing-context&gt;nested browsing context&lt;/a&gt;'s
+      &lt;a href=#active-document id=processing-model-6:active-document-2&gt;active document&lt;/a&gt;.&lt;/p&gt;
+
      &lt;dt&gt;Otherwise&lt;dd&gt;
 
       &lt;p&gt;Abort the &lt;a href=#focusing-steps id=processing-model-6:focusing-steps&gt;focusing steps&lt;/a&gt;.&lt;/p&gt;
@@ -54573,9 +54577,9 @@
     group&lt;/a&gt;, and redo this step.&lt;/p&gt;
 
     
-    &lt;p&gt;Otherwise, if &lt;var&gt;new focus target&lt;/var&gt; is a &lt;a href=#browsing-context-container id=processing-model-6:browsing-context-container&gt;browsing context
-    container&lt;/a&gt;, then let &lt;var&gt;new focus target&lt;/var&gt; be the &lt;a href=#nested-browsing-context id=processing-model-6:nested-browsing-context&gt;nested browsing
-    context&lt;/a&gt;'s &lt;a href=#active-document id=processing-model-6:active-document-2&gt;active document&lt;/a&gt;, and redo this step.&lt;/p&gt;
+    &lt;p&gt;Otherwise, if &lt;var&gt;new focus target&lt;/var&gt; is a &lt;a href=#browsing-context-container id=processing-model-6:browsing-context-container-3&gt;browsing context
+    container&lt;/a&gt;, then let &lt;var&gt;new focus target&lt;/var&gt; be the &lt;a href=#nested-browsing-context id=processing-model-6:nested-browsing-context-2&gt;nested browsing
+    context&lt;/a&gt;'s &lt;a href=#active-document id=processing-model-6:active-document-3&gt;active document&lt;/a&gt;, and redo this step.&lt;/p&gt;
 
     &lt;p class=note&gt;A &lt;code id=processing-model-6:the-dialog-element-2&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt; element can be both a &lt;a href=#control-group-owner-object id=processing-model-6:control-group-owner-object-4&gt;control group owner
     object&lt;/a&gt; and a &lt;a href=#focusable-area id=processing-model-6:focusable-area-8&gt;focusable area&lt;/a&gt;, if it has both an &lt;code id=processing-model-6:attr-dialog-open-2&gt;&lt;a href=#attr-dialog-open&gt;open&lt;/a&gt;&lt;/code&gt; attribute specified and a &lt;code id=processing-model-6:attr-tabindex&gt;&lt;a href=#attr-tabindex&gt;tabindex&lt;/a&gt;&lt;/code&gt; attribute specified and is &lt;a href=#being-rendered id=processing-model-6:being-rendered-2&gt;being
@@ -54615,7 +54619,7 @@
 
     &lt;p&gt;Otherwise, if &lt;var&gt;old focus target&lt;/var&gt; is a &lt;a href=#focusable-area id=processing-model-6:focusable-area-13&gt;focusable area&lt;/a&gt;, then let &lt;var&gt;new
     focus target&lt;/var&gt; be the first &lt;a href=#focusable-area id=processing-model-6:focusable-area-14&gt;focusable area&lt;/a&gt; of its &lt;a href=#control-group id=processing-model-6:control-group-3&gt;control group&lt;/a&gt;
-    (if the &lt;a href=#control-group-owner id=processing-model-6:control-group-owner&gt;control group owner&lt;/a&gt; is a &lt;code id=processing-model-6:document-5&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, this will always be a
+    (if the &lt;a href=#control-group-owner id=processing-model-6:control-group-owner&gt;control group owner&lt;/a&gt; is a &lt;code id=processing-model-6:document-3&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, this will always be a
     viewport).&lt;/p&gt;
 
     &lt;p&gt;Otherwise, let &lt;var&gt;new focus target&lt;/var&gt; be null.&lt;/p&gt;
@@ -54656,7 +54660,7 @@
   group&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p class=example&gt;For example, this might happen because an element is removed from its
-  &lt;code id=processing-model-6:document-6&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, or has a &lt;code id=processing-model-6:the-hidden-attribute&gt;&lt;a href=#the-hidden-attribute&gt;hidden&lt;/a&gt;&lt;/code&gt; attribute added. It might
+  &lt;code id=processing-model-6:document-4&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, or has a &lt;code id=processing-model-6:the-hidden-attribute&gt;&lt;a href=#the-hidden-attribute&gt;hidden&lt;/a&gt;&lt;/code&gt; attribute added. It might
   also happen to an &lt;code id=processing-model-6:the-input-element&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element when the element gets &lt;a href=#concept-fe-disabled id=processing-model-6:concept-fe-disabled&gt;disabled&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;&lt;dfn id=focus-fixup-rule-two&gt;Focus fixup rule two&lt;/dfn&gt;: When a &lt;a href=#dialog-group id=processing-model-6:dialog-group-7&gt;dialog group&lt;/a&gt; has no designed &lt;a href=#focused-dialog-of-the-dialog-group id=processing-model-6:focused-dialog-of-the-dialog-group-4&gt;focused
@@ -54711,8 +54715,8 @@
       &lt;p&gt;If &lt;var&gt;entry&lt;/var&gt; is an element, let &lt;var&gt;blur event target&lt;/var&gt; be
       &lt;var&gt;entry&lt;/var&gt;.&lt;/p&gt;
 
-      &lt;p&gt;If &lt;var&gt;entry&lt;/var&gt; is a &lt;code id=processing-model-6:document-7&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, let &lt;var&gt;blur
-      event target&lt;/var&gt; be that &lt;code id=processing-model-6:document-8&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;code id=processing-model-6:window&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+      &lt;p&gt;If &lt;var&gt;entry&lt;/var&gt; is a &lt;code id=processing-model-6:document-5&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, let &lt;var&gt;blur
+      event target&lt;/var&gt; be that &lt;code id=processing-model-6:document-6&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;code id=processing-model-6:window&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
       &lt;p&gt;Otherwise, let &lt;var&gt;blur event target&lt;/var&gt; be null.&lt;/p&gt;
 
@@ -54753,8 +54757,8 @@
       &lt;p&gt;If &lt;var&gt;entry&lt;/var&gt; is an element, let &lt;var&gt;focus event target&lt;/var&gt; be
       &lt;var&gt;entry&lt;/var&gt;.&lt;/p&gt;
 
-      &lt;p&gt;If &lt;var&gt;entry&lt;/var&gt; is a &lt;code id=processing-model-6:document-9&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, let &lt;var&gt;focus
-      event target&lt;/var&gt; be that &lt;code id=processing-model-6:document-10&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;code id=processing-model-6:window-2&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
+      &lt;p&gt;If &lt;var&gt;entry&lt;/var&gt; is a &lt;code id=processing-model-6:document-7&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object, let &lt;var&gt;focus
+      event target&lt;/var&gt; be that &lt;code id=processing-model-6:document-8&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object's &lt;code id=processing-model-6:window-2&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object.&lt;/p&gt;
 
       &lt;p&gt;Otherwise, let &lt;var&gt;focus event target&lt;/var&gt; be null.&lt;/p&gt;
 
@@ -54780,7 +54784,7 @@
   agent must create a &lt;a href=#concept-events-trusted id=processing-model-6:concept-events-trusted&gt;trusted&lt;/a&gt; &lt;code id=processing-model-6:focusevent&gt;&lt;a href=#focusevent&gt;FocusEvent&lt;/a&gt;&lt;/code&gt;
   object, initialise it to have the given name &lt;var&gt;e&lt;/var&gt;, to not bubble, to not be
   cancelable, and to have the &lt;code id=processing-model-6:dom-focusevent-relatedtarget&gt;&lt;a href=#dom-focusevent-relatedtarget&gt;relatedTarget&lt;/a&gt;&lt;/code&gt;
-  attribute initialised to &lt;var&gt;r&lt;/var&gt;, the &lt;code id=processing-model-6:dom-uievent-view&gt;&lt;a href=#dom-uievent-view&gt;view&lt;/a&gt;&lt;/code&gt; attribute initialised to the &lt;code id=processing-model-6:window-3&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object of the &lt;code id=processing-model-6:document-11&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object of &lt;var&gt;t&lt;/var&gt;, and the &lt;code id=processing-model-6:dom-uievent-detail&gt;&lt;a href=#dom-uievent-detail&gt;detail&lt;/a&gt;&lt;/code&gt; attribute initialised to 0, and must then &lt;a href=#concept-event-dispatch id=processing-model-6:concept-event-dispatch&gt;dispatch&lt;/a&gt; the newly created &lt;code id=processing-model-6:focusevent-2&gt;&lt;a href=#focusevent&gt;FocusEvent&lt;/a&gt;&lt;/code&gt; object
+  attribute initialised to &lt;var&gt;r&lt;/var&gt;, the &lt;code id=processing-model-6:dom-uievent-view&gt;&lt;a href=#dom-uievent-view&gt;view&lt;/a&gt;&lt;/code&gt; attribute initialised to the &lt;code id=processing-model-6:window-3&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object of the &lt;code id=processing-model-6:document-9&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; object of &lt;var&gt;t&lt;/var&gt;, and the &lt;code id=processing-model-6:dom-uievent-detail&gt;&lt;a href=#dom-uievent-detail&gt;detail&lt;/a&gt;&lt;/code&gt; attribute initialised to 0, and must then &lt;a href=#concept-event-dispatch id=processing-model-6:concept-event-dispatch&gt;dispatch&lt;/a&gt; the newly created &lt;code id=processing-model-6:focusevent-2&gt;&lt;a href=#focusevent&gt;FocusEvent&lt;/a&gt;&lt;/code&gt; object
   at the specified target element &lt;var&gt;t&lt;/var&gt;.&lt;/p&gt;
 
   &lt;hr&gt;
@@ -54793,12 +54797,12 @@
    node&lt;/var&gt; be &lt;var&gt;target area&lt;/var&gt;'s &lt;a href=#dom-anchor id=processing-model-6:dom-anchor-2&gt;DOM anchor&lt;/a&gt;. Otherwise, &lt;var&gt;target area&lt;/var&gt; is a &lt;code id=processing-model-6:the-dialog-element-16&gt;&lt;a href=#the-dialog-element&gt;dialog&lt;/a&gt;&lt;/code&gt;; let &lt;var&gt;target node&lt;/var&gt; be
    &lt;var&gt;target area&lt;/var&gt;.&lt;li&gt;
 
-    &lt;p&gt;If &lt;var&gt;target node&lt;/var&gt; is a &lt;code id=processing-model-6:document-12&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#the-body-element-2 id=processing-model-6:the-body-element-2-3&gt;body element&lt;/a&gt;, then let &lt;var&gt;target node&lt;/var&gt; be &lt;a href=#the-body-element-2 id=processing-model-6:the-body-element-2-4&gt;the body
-    element&lt;/a&gt; of that &lt;code id=processing-model-6:document-13&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+    &lt;p&gt;If &lt;var&gt;target node&lt;/var&gt; is a &lt;code id=processing-model-6:document-10&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#the-body-element-2 id=processing-model-6:the-body-element-2&gt;body element&lt;/a&gt;, then let &lt;var&gt;target node&lt;/var&gt; be &lt;a href=#the-body-element-2 id=processing-model-6:the-body-element-2-2&gt;the body
+    element&lt;/a&gt; of that &lt;code id=processing-model-6:document-11&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, if &lt;var&gt;target node&lt;/var&gt; is a &lt;code id=processing-model-6:document-14&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a
+    &lt;p&gt;Otherwise, if &lt;var&gt;target node&lt;/var&gt; is a &lt;code id=processing-model-6:document-12&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a
     &lt;a href=#root-element id=processing-model-6:root-element-2&gt;root element&lt;/a&gt;, then let &lt;var&gt;target node&lt;/var&gt; be the &lt;a href=#root-element id=processing-model-6:root-element-3&gt;root
-    element&lt;/a&gt; of that &lt;code id=processing-model-6:document-15&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+    element&lt;/a&gt; of that &lt;code id=processing-model-6:document-13&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
    &lt;li&gt;
 
@@ -54963,19 +54967,18 @@
 
     
 
-    &lt;p&gt;Moves the focus to the window's &lt;a href=#browsing-context-container id=focus-management-apis:browsing-context-container-2&gt;browsing context container&lt;/a&gt;, if any.&lt;/p&gt;
+    &lt;p&gt;Moves the focus to the window's &lt;a href=#browsing-context id=focus-management-apis:browsing-context&gt;browsing context&lt;/a&gt;, if any.&lt;/p&gt;
 
    &lt;dt&gt;&lt;var&gt;element&lt;/var&gt; . &lt;code id=focus-management-apis:dom-focus&gt;&lt;a href=#dom-focus&gt;focus&lt;/a&gt;&lt;/code&gt;()&lt;dd&gt;
 
     &lt;p&gt;Moves the focus to the element.&lt;/p&gt;
 
-    &lt;p&gt;If the element is &lt;a href=#the-body-element-2 id=focus-management-apis:the-body-element-2&gt;the body element&lt;/a&gt;, moves the focus to the viewport instead.&lt;/p&gt;
+    &lt;p&gt;If the element is a &lt;a href=#browsing-context-container id=focus-management-apis:browsing-context-container-2&gt;browsing context container&lt;/a&gt;, moves the focus to the &lt;a href=#nested-browsing-context id=focus-management-apis:nested-browsing-context&gt;nested browsing context&lt;/a&gt; instead.&lt;/p&gt;
 
    &lt;dt&gt;&lt;var&gt;element&lt;/var&gt; . &lt;code id=focus-management-apis:dom-blur&gt;&lt;a href=#dom-blur&gt;blur&lt;/a&gt;&lt;/code&gt;()&lt;dd&gt;
 
     &lt;p&gt;Moves the focus to the viewport. Use of this method is discouraged; if you want to focus the
-    viewport, call the &lt;code id=focus-management-apis:dom-focus-2&gt;&lt;a href=#dom-focus&gt;focus()&lt;/a&gt;&lt;/code&gt; method on &lt;a href=#the-body-element-2 id=focus-management-apis:the-body-element-2-2&gt;the body
-    element&lt;/a&gt;.&lt;/p&gt;
+    viewport, call the &lt;code id=focus-management-apis:dom-focus-2&gt;&lt;a href=#dom-focus&gt;focus()&lt;/a&gt;&lt;/code&gt; method on the &lt;code id=focus-management-apis:document&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;'s root element.&lt;/p&gt;
 
     &lt;p&gt;Do not use this method to hide the focus ring if you find the focus ring unsightly. Instead,
     use a CSS rule to override the 'outline' property, and provide a different way to show what
@@ -54999,9 +55002,9 @@
   
 
   &lt;p&gt;The &lt;dfn id=dom-document-activeelement&gt;&lt;code&gt;activeElement&lt;/code&gt;&lt;/dfn&gt; attribute on
-  &lt;code id=focus-management-apis:document&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return the value returned by the following steps:&lt;/p&gt;
+  &lt;code id=focus-management-apis:document-2&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return the value returned by the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var&gt;candidate&lt;/var&gt; be the &lt;code id=focus-management-apis:document-2&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; on which the method was
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var&gt;candidate&lt;/var&gt; be the &lt;code id=focus-management-apis:document-3&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; on which the method was
    invoked.&lt;li&gt;&lt;p&gt;If &lt;var&gt;candidate&lt;/var&gt; has a &lt;a href=#dialog-group id=focus-management-apis:dialog-group&gt;dialog group&lt;/a&gt; with a designated
    &lt;a href=#focused-dialog-of-the-dialog-group id=focus-management-apis:focused-dialog-of-the-dialog-group&gt;focused dialog of the dialog group&lt;/a&gt;, then let &lt;var&gt;candidate&lt;/var&gt; be the
    designated &lt;a href=#focused-dialog-of-the-dialog-group id=focus-management-apis:focused-dialog-of-the-dialog-group-2&gt;focused dialog of the dialog group&lt;/a&gt;, and redo this step.&lt;li&gt;&lt;p&gt;If &lt;var&gt;candidate&lt;/var&gt; has a non-empty &lt;a href=#control-group id=focus-management-apis:control-group&gt;control group&lt;/a&gt;, let &lt;var&gt;candidate&lt;/var&gt; be the designated &lt;a href=#focused-area-of-the-control-group id=focus-management-apis:focused-area-of-the-control-group&gt;focused area of the control
@@ -55009,22 +55012,22 @@
 
    &lt;li&gt;&lt;p&gt;If &lt;var&gt;candidate&lt;/var&gt; is a &lt;a href=#focusable-area id=focus-management-apis:focusable-area&gt;focusable area&lt;/a&gt;, let &lt;var&gt;candidate&lt;/var&gt; be &lt;var&gt;candidate&lt;/var&gt;'s &lt;a href=#dom-anchor id=focus-management-apis:dom-anchor&gt;DOM anchor&lt;/a&gt;.&lt;li&gt;
 
-    &lt;p&gt;If &lt;var&gt;candidate&lt;/var&gt; is a &lt;code id=focus-management-apis:document-3&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#the-body-element-2 id=focus-management-apis:the-body-element-2-3&gt;body element&lt;/a&gt;, then let &lt;var&gt;candidate&lt;/var&gt; be &lt;a href=#the-body-element-2 id=focus-management-apis:the-body-element-2-4&gt;the body
-    element&lt;/a&gt; of that &lt;code id=focus-management-apis:document-4&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+    &lt;p&gt;If &lt;var&gt;candidate&lt;/var&gt; is a &lt;code id=focus-management-apis:document-4&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#the-body-element-2 id=focus-management-apis:the-body-element-2&gt;body element&lt;/a&gt;, then let &lt;var&gt;candidate&lt;/var&gt; be &lt;a href=#the-body-element-2 id=focus-management-apis:the-body-element-2-2&gt;the body
+    element&lt;/a&gt; of that &lt;code id=focus-management-apis:document-5&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, if &lt;var&gt;candidate&lt;/var&gt; is a &lt;code id=focus-management-apis:document-5&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#root-element id=focus-management-apis:root-element&gt;root
+    &lt;p&gt;Otherwise, if &lt;var&gt;candidate&lt;/var&gt; is a &lt;code id=focus-management-apis:document-6&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; that has a &lt;a href=#root-element id=focus-management-apis:root-element&gt;root
     element&lt;/a&gt;, then let &lt;var&gt;candidate&lt;/var&gt; be the &lt;a href=#root-element id=focus-management-apis:root-element-2&gt;root element&lt;/a&gt; of that
-    &lt;code id=focus-management-apis:document-6&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+    &lt;code id=focus-management-apis:document-7&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
 
-    &lt;p&gt;Otherwise, if &lt;var&gt;candidate&lt;/var&gt; is a &lt;code id=focus-management-apis:document-7&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, then let &lt;var&gt;candidate&lt;/var&gt; be null.&lt;/p&gt;
+    &lt;p&gt;Otherwise, if &lt;var&gt;candidate&lt;/var&gt; is a &lt;code id=focus-management-apis:document-8&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, then let &lt;var&gt;candidate&lt;/var&gt; be null.&lt;/p&gt;
 
    &lt;li&gt;&lt;p&gt;Return &lt;var&gt;candidate&lt;/var&gt;.&lt;/ol&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-document-hasfocus&gt;&lt;code&gt;hasFocus()&lt;/code&gt;&lt;/dfn&gt; method on
-  &lt;code id=focus-management-apis:document-8&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return the value returned by the following steps:&lt;/p&gt;
+  &lt;code id=focus-management-apis:document-9&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; objects must return the value returned by the following steps:&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var&gt;target&lt;/var&gt; be the &lt;code id=focus-management-apis:document-9&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; on which the method was
-   invoked.&lt;li&gt;&lt;p&gt;Let &lt;var&gt;candidate&lt;/var&gt; be the &lt;code id=focus-management-apis:document-10&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the &lt;a href=#top-level-browsing-context id=focus-management-apis:top-level-browsing-context&gt;top-level
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;Let &lt;var&gt;target&lt;/var&gt; be the &lt;code id=focus-management-apis:document-10&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; on which the method was
+   invoked.&lt;li&gt;&lt;p&gt;Let &lt;var&gt;candidate&lt;/var&gt; be the &lt;code id=focus-management-apis:document-11&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt; of the &lt;a href=#top-level-browsing-context id=focus-management-apis:top-level-browsing-context&gt;top-level
    browsing context&lt;/a&gt;.&lt;li&gt;&lt;p&gt;If &lt;var&gt;candidate&lt;/var&gt; is &lt;var&gt;target&lt;/var&gt;, return true and abort
    these steps.&lt;li&gt;
 
@@ -55035,13 +55038,13 @@
     &lt;p&gt;Otherwise, if &lt;var&gt;candidate&lt;/var&gt; has a non-empty &lt;a href=#control-group id=focus-management-apis:control-group-2&gt;control group&lt;/a&gt;, and the
     designated &lt;a href=#focused-area-of-the-control-group id=focus-management-apis:focused-area-of-the-control-group-2&gt;focused area of the control group&lt;/a&gt; is a &lt;a href=#browsing-context-container id=focus-management-apis:browsing-context-container-3&gt;browsing context
     container&lt;/a&gt;, and the &lt;a href=#active-document id=focus-management-apis:active-document&gt;active document&lt;/a&gt; of that &lt;a href=#browsing-context-container id=focus-management-apis:browsing-context-container-4&gt;browsing context
-    container&lt;/a&gt;'s &lt;a href=#nested-browsing-context id=focus-management-apis:nested-browsing-context&gt;nested browsing context&lt;/a&gt; is &lt;var&gt;target&lt;/var&gt;, then
+    container&lt;/a&gt;'s &lt;a href=#nested-browsing-context id=focus-management-apis:nested-browsing-context-2&gt;nested browsing context&lt;/a&gt; is &lt;var&gt;target&lt;/var&gt;, then
     return true and abort these steps.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, if &lt;var&gt;candidate&lt;/var&gt; has a non-empty &lt;a href=#control-group id=focus-management-apis:control-group-3&gt;control group&lt;/a&gt;, and the
     designated &lt;a href=#focused-area-of-the-control-group id=focus-management-apis:focused-area-of-the-control-group-3&gt;focused area of the control group&lt;/a&gt; is a &lt;a href=#browsing-context-container id=focus-management-apis:browsing-context-container-5&gt;browsing context
     container&lt;/a&gt;, then let &lt;var&gt;candidate&lt;/var&gt; be the &lt;a href=#active-document id=focus-management-apis:active-document-2&gt;active document&lt;/a&gt; of
-    that &lt;a href=#browsing-context-container id=focus-management-apis:browsing-context-container-6&gt;browsing context container&lt;/a&gt;'s &lt;a href=#nested-browsing-context id=focus-management-apis:nested-browsing-context-2&gt;nested browsing context&lt;/a&gt;, and redo
+    that &lt;a href=#browsing-context-container id=focus-management-apis:browsing-context-container-6&gt;browsing context container&lt;/a&gt;'s &lt;a href=#nested-browsing-context id=focus-management-apis:nested-browsing-context-3&gt;nested browsing context&lt;/a&gt;, and redo
     this step.&lt;/p&gt;
 
     &lt;p&gt;Otherwise, return false and abort these steps.&lt;/p&gt;
@@ -55050,13 +55053,13 @@
 
   &lt;p&gt;The &lt;dfn id=dom-window-focus&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method on the &lt;code id=focus-management-apis:window&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
   object, when invoked, must run the &lt;a href=#focusing-steps id=focus-management-apis:focusing-steps&gt;focusing steps&lt;/a&gt; with the &lt;code id=focus-management-apis:window-2&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
-  object's &lt;a href=#browsing-context id=focus-management-apis:browsing-context&gt;browsing context&lt;/a&gt;. Additionally, if this &lt;a href=#browsing-context id=focus-management-apis:browsing-context-2&gt;browsing context&lt;/a&gt; is a
+  object's &lt;a href=#browsing-context id=focus-management-apis:browsing-context-2&gt;browsing context&lt;/a&gt;. Additionally, if this &lt;a href=#browsing-context id=focus-management-apis:browsing-context-3&gt;browsing context&lt;/a&gt; is a
   &lt;a href=#top-level-browsing-context id=focus-management-apis:top-level-browsing-context-2&gt;top-level browsing context&lt;/a&gt;, user agents are encouraged to trigger some sort of
   notification to indicate to the user that the page is attempting to gain focus.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-window-blur&gt;&lt;code&gt;blur()&lt;/code&gt;&lt;/dfn&gt; method on the &lt;code id=focus-management-apis:window-3&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt;
   object, when invoked, provides a hint to the user agent that the script believes the user probably
-  is not currently interested in the contents of the &lt;a href=#browsing-context id=focus-management-apis:browsing-context-3&gt;browsing context&lt;/a&gt; of the
+  is not currently interested in the contents of the &lt;a href=#browsing-context id=focus-management-apis:browsing-context-4&gt;browsing context&lt;/a&gt; of the
   &lt;code id=focus-management-apis:window-4&gt;&lt;a href=#window&gt;Window&lt;/a&gt;&lt;/code&gt; object on which the method was invoked, but that the contents might become
   interesting again in the future.&lt;/p&gt;
 
@@ -55064,7 +55067,7 @@
   method entirely.&lt;/p&gt;
 
   &lt;p class=note&gt;Historically, the &lt;code id=focus-management-apis:dom-window-blur-2&gt;&lt;a href=#dom-window-blur&gt;focus()&lt;/a&gt;&lt;/code&gt; and &lt;code id=focus-management-apis:dom-window-blur-3&gt;&lt;a href=#dom-window-blur&gt;blur()&lt;/a&gt;&lt;/code&gt; methods actually affected the system-level focus of the
-  system widget (e.g. tab or window) that contained the &lt;a href=#browsing-context id=focus-management-apis:browsing-context-4&gt;browsing context&lt;/a&gt;, but hostile
+  system widget (e.g. tab or window) that contained the &lt;a href=#browsing-context id=focus-management-apis:browsing-context-5&gt;browsing context&lt;/a&gt;, but hostile
   sites widely abuse this behavior to the user's detriment.&lt;/p&gt;
 
   &lt;p&gt;The &lt;dfn id=dom-focus&gt;&lt;code&gt;focus()&lt;/code&gt;&lt;/dfn&gt; method on elements, when invoked, must
@@ -84667,6 +84670,7 @@
   Axel Dahmen,
   Ben Boyle,
   Ben Godfrey,
+  Ben Kelly,
   Ben Lerner,
   Ben Leslie,
   Ben Meadowcroft,

Modified: source
===================================================================
--- source	2014-09-24 17:45:41 UTC (rev 8809)
+++ source	2014-09-24 18:54:51 UTC (rev 8810)
@@ -72709,11 +72709,8 @@
      &lt;/dd&gt;
 
 
-     &lt;dt&gt;If &lt;var&gt;new focus target&lt;/var&gt; is &lt;span&gt;the body element&lt;/span&gt; of its
+     &lt;dt&gt;If &lt;var&gt;new focus target&lt;/var&gt; is the &lt;span&gt;root element&lt;/span&gt; of its
      &lt;code&gt;Document&lt;/code&gt;&lt;/dt&gt;
-     &lt;dt&gt;If &lt;var&gt;new focus target&lt;/var&gt; is the &lt;span&gt;root element&lt;/span&gt; of its
-     &lt;code&gt;Document&lt;/code&gt; and that &lt;code&gt;Document&lt;/code&gt; has no &lt;span data-x=&quot;the body
-     element&quot;&gt;body element&lt;/span&gt;&lt;/dt&gt;
 
      &lt;dd&gt;
 
@@ -72731,6 +72728,17 @@
 
      &lt;/dd&gt;
 
+
+     &lt;dt&gt;If &lt;var&gt;new focus target&lt;/var&gt; is a &lt;span&gt;browsing context container&lt;/span&gt;&lt;/dt&gt;
+
+     &lt;dd&gt;
+
+      &lt;p&gt;Let &lt;var&gt;new focus target&lt;/var&gt; be the &lt;span&gt;browsing context container&lt;/span&gt;'s &lt;span&gt;nested browsing context&lt;/span&gt;'s
+      &lt;span&gt;active document&lt;/span&gt;.&lt;/p&gt;
+
+     &lt;/dd&gt;
+
+
      &lt;dt&gt;Otherwise&lt;/dt&gt;
 
      &lt;dd&gt;
@@ -73314,7 +73322,7 @@
 
     &lt;!-- <A HREF="http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2823">http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2823</A> --&gt;
 
-    &lt;p&gt;Moves the focus to the window's &lt;span&gt;browsing context container&lt;/span&gt;, if any.&lt;/p&gt;
+    &lt;p&gt;Moves the focus to the window's &lt;span&gt;browsing context&lt;/span&gt;, if any.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -73334,7 +73342,7 @@
 
     &lt;p&gt;Moves the focus to the element.&lt;/p&gt;
 
-    &lt;p&gt;If the element is &lt;span&gt;the body element&lt;/span&gt;, moves the focus to the viewport instead.&lt;/p&gt;
+    &lt;p&gt;If the element is a &lt;span&gt;browsing context container&lt;/span&gt;, moves the focus to the &lt;span&gt;nested browsing context&lt;/span&gt; instead.&lt;/p&gt;
 
    &lt;/dd&gt;
 
@@ -73343,8 +73351,7 @@
    &lt;dd&gt;
 
     &lt;p&gt;Moves the focus to the viewport. Use of this method is discouraged; if you want to focus the
-    viewport, call the &lt;code data-x=&quot;dom-focus&quot;&gt;focus()&lt;/code&gt; method on &lt;span&gt;the body
-    element&lt;/span&gt;.&lt;/p&gt;
+    viewport, call the &lt;code data-x=&quot;dom-focus&quot;&gt;focus()&lt;/code&gt; method on the &lt;code&gt;Document&lt;/code&gt;'s root element.&lt;/p&gt;
 
     &lt;p&gt;Do not use this method to hide the focus ring if you find the focus ring unsightly. Instead,
     use a CSS rule to override the 'outline' property, and provide a different way to show what
@@ -116221,6 +116228,7 @@
   Axel Dahmen,
   Ben Boyle,
   Ben Godfrey,
+  Ben Kelly,
   Ben Lerner,
   Ben Leslie,
   Ben Meadowcroft,

</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023412.html">[html5] r8809 - [e] (0) DOMStringMap Example img src missing ending	quote mark Fixing https://ww [...]
</A></li>
	<LI>Next message: <A HREF="023414.html">[html5] r8811 - [giow] (3) Add getSVGDocument() to object and	iframe also, with the same definit [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23413">[ date ]</a>
              <a href="thread.html#23413">[ thread ]</a>
              <a href="subject.html#23413">[ subject ]</a>
              <a href="author.html#23413">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
