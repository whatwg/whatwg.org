<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r8769 - [e] (0) Integrate with DOM for 'removing steps' and	'insertion steps'. Fixing ht [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8769%20-%20%5Be%5D%20%280%29%20Integrate%20with%20DOM%20for%20%27removing%20steps%27%20and%0A%09%27insertion%20steps%27.%20Fixing%20ht%20%5B...%5D&In-Reply-To=%3C20140912182316.68D8C20237E15D%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023372.html">
   <LINK REL="Next"  HREF="023374.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r8769 - [e] (0) Integrate with DOM for 'removing steps' and	'insertion steps'. Fixing ht [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8769%20-%20%5Be%5D%20%280%29%20Integrate%20with%20DOM%20for%20%27removing%20steps%27%20and%0A%09%27insertion%20steps%27.%20Fixing%20ht%20%5B...%5D&In-Reply-To=%3C20140912182316.68D8C20237E15D%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r8769 - [e] (0) Integrate with DOM for 'removing steps' and	'insertion steps'. Fixing ht [...]">whatwg at whatwg.org
       </A><BR>
    <I>Fri Sep 12 11:23:16 PDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="023372.html">[html5] r8768 - [e] (0) Oops,	previous checkin got the wrong topic due to a missing topic line A	[...]
</A></li>
        <LI>Next message: <A HREF="023374.html">[html5] r8770 - [e] (0) Updates for secure hosting Affected topics:	HTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23373">[ date ]</a>
              <a href="thread.html#23373">[ thread ]</a>
              <a href="subject.html#23373">[ subject ]</a>
              <a href="author.html#23373">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2014-09-12 11:23:12 -0700 (Fri, 12 Sep 2014)
New Revision: 8769

Modified:
   complete.html
   index
   source
Log:
[e] (0) Integrate with DOM for 'removing steps' and 'insertion steps'.
Fixing <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=24653">https://www.w3.org/Bugs/Public/show_bug.cgi?id=24653</A>
Affected topics: DOM APIs, HTML, Video and Audio

Modified: complete.html
===================================================================
--- complete.html	2014-09-12 18:08:08 UTC (rev 8768)
+++ complete.html	2014-09-12 18:23:12 UTC (rev 8769)
@@ -1719,7 +1719,13 @@
   string, means that the length of the text is zero (i.e. not even containing spaces or &lt;a href=#control-characters id=dom-trees:control-characters&gt;control
   characters&lt;/a&gt;).&lt;/p&gt;
 
+  &lt;p&gt;A &lt;dfn id=nodes-are-inserted&gt;node &lt;var&gt;A&lt;/var&gt; is inserted&lt;/dfn&gt; into a node &lt;var&gt;B&lt;/var&gt;
+  when the &lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-insert-ext">http://dom.spec.whatwg.org/#concept-node-insert-ext</A> id=dom-trees:concept-node-insert-ext data-x-internal=concept-node-insert-ext&gt;insertion steps&lt;/a&gt; are invoked with
+  &lt;var&gt;A&lt;/var&gt; as the argument and &lt;var&gt;A&lt;/var&gt;'s new parent is &lt;var&gt;B&lt;/var&gt;. Similarly, a &lt;dfn id=nodes-are-removed&gt;node &lt;var&gt;A&lt;/var&gt; is removed&lt;/dfn&gt; from a node &lt;var&gt;B&lt;/var&gt; when the
+  &lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-remove-ext">http://dom.spec.whatwg.org/#concept-node-remove-ext</A> id=dom-trees:concept-node-remove-ext data-x-internal=concept-node-remove-ext&gt;removing steps&lt;/a&gt; are invoked with &lt;var&gt;A&lt;/var&gt; as the
+  &lt;var&gt;removedNode&lt;/var&gt; argument and &lt;var&gt;B&lt;/var&gt; as the &lt;var&gt;oldParent&lt;/var&gt; argument.&lt;/p&gt;
 
+
   &lt;h4 id=scripting-2&gt;2.1.4 Scripting&lt;/h4&gt;
 
   &lt;p&gt;The construction &quot;a &lt;code&gt;Foo&lt;/code&gt; object&quot;, where &lt;code&gt;Foo&lt;/code&gt; is
@@ -2350,7 +2356,9 @@
 
     &lt;p&gt;In particular, the following features are defined in the DOM specification: &lt;a href=#refsDOM&gt;[DOM]&lt;/a&gt;&lt;/p&gt; 
 
-    &lt;ul class=brief&gt;&lt;li&gt;&lt;dfn id=attr&gt;&lt;code&gt;Attr&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=comment-2&gt;&lt;code&gt;Comment&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=domimplementation&gt;&lt;code&gt;DOMImplementation&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=dom-document&gt;&lt;code&gt;Document&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=xmldocument&gt;&lt;code&gt;XMLDocument&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=documentfragment&gt;&lt;code&gt;DocumentFragment&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=documenttype&gt;&lt;code&gt;DocumentType&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=domexception&gt;&lt;code&gt;DOMException&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=childnode&gt;&lt;code&gt;ChildNode&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=element&gt;&lt;code&gt;Element&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=node&gt;&lt;code&gt;Node&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=nodelist&gt;&lt;code&gt;NodeList&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=processinginstruction&gt;&lt;code&gt;ProcessingInstruction&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=text&gt;&lt;code&gt;Text&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=node-document&gt;&lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-document">http://dom.spec.whatwg.org/#concept-node-document</A>&gt;node docume
 nt&lt;/a&gt;&lt;/dfn&gt; concept&lt;li&gt;&lt;dfn id=htmlcollection&gt;&lt;code&gt;HTMLCollection&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=dom-htmlcollection-length&gt;&lt;code&gt;HTMLCollection.length&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-htmlcollection-item&gt;&lt;code&gt;HTMLCollection.item()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-htmlcollection-nameditem&gt;&lt;code&gt;HTMLCollection.namedItem()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;The terms &lt;dfn id=collections&gt;collections&lt;/dfn&gt; and &lt;dfn id=represented-by-the-collection&gt;represented by the collection&lt;/dfn&gt;&lt;li&gt;&lt;dfn id=domtokenlist&gt;&lt;code&gt;DOMTokenList&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=domsettabletokenlist&gt;&lt;code&gt;DOMSettableTokenList&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=dom-domsettabletokenlist-value&gt;&lt;code&gt;DOMSettableTokenList.value&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-domimplementation-createdocument&gt;&lt;code&gt;createDocument()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-domimplementation-createhtmldocument&gt;&lt;code&gt;createHTMLDocument()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-document-createelement&gt;&lt;code&gt;createElement()&lt;/code&gt;&lt;/d
 fn&gt; method&lt;li&gt;&lt;dfn id=dom-document-createelementns&gt;&lt;code&gt;createElementNS()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-document-getelementbyid&gt;&lt;code&gt;getElementById()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-document-getelementsbyclassname&gt;&lt;code&gt;getElementsByClassName()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-node-insertbefore&gt;&lt;code&gt;insertBefore()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-node-childnodes&gt;&lt;code&gt;childNodes&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-node-localname&gt;&lt;code&gt;localName&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-node-parentnode&gt;&lt;code&gt;parentNode&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-node-namespaceuri&gt;&lt;code&gt;namespaceURI&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-element-tagname&gt;&lt;code&gt;tagName&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-element-id&gt;&lt;code&gt;id&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=textcontent&gt;&lt;code&gt;textContent&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;The &lt;dfn id=concept-node-insert&gt;insert&lt;/dfn&gt;, &lt;dfn id=concept-node-append&gt;append&lt;/dfn&gt;, &lt;dfn id=concept-node-remove&gt;remove&lt;/dfn&gt;, &lt;dfn id=concept-node-replace&gt;re
 place&lt;/dfn&gt;, and &lt;dfn id=concept-node-adopt&gt;adopt&lt;/dfn&gt; algorithms for nodes&lt;li&gt;The &lt;dfn id=nodes-are-inserted&gt;nodes are inserted&lt;/dfn&gt; and &lt;dfn id=nodes-are-removed&gt;nodes are removed&lt;/dfn&gt; concepts&lt;li&gt;An element's &lt;dfn id=concept-node-adopt-ext&gt;adopting steps&lt;/dfn&gt;&lt;li&gt;The &lt;dfn id=attribute-list&gt;attribute list&lt;/dfn&gt; concept.&lt;li&gt;The &lt;dfn id=concept-cd-data&gt;data&lt;/dfn&gt; of a text node.&lt;li&gt;&lt;dfn id=event&gt;&lt;code&gt;Event&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=eventtarget&gt;&lt;code&gt;EventTarget&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=eventinit&gt;&lt;code&gt;EventInit&lt;/code&gt;&lt;/dfn&gt; dictionary type&lt;li&gt;&lt;dfn id=dom-event-target&gt;&lt;code&gt;target&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-event-currenttarget&gt;&lt;code&gt;currentTarget&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-event-istrusted&gt;&lt;code&gt;isTrusted&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-event-initevent&gt;&lt;code&gt;initEvent()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-eventtarget-addeventlistener&gt;&lt;code&gt;addEventListener()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;The &lt;dfn id=concept-event-type&gt;type&lt;/dfn&gt; of an e
 vent&lt;li&gt;The concept of an &lt;dfn id=concept-event-listener&gt;event listener&lt;/dfn&gt; and the &lt;a href=#concept-event-listener id=dependencies:concept-event-listener&gt;event listeners&lt;/a&gt; associated with an &lt;code id=dependencies:eventtarget&gt;&lt;a href=#eventtarget&gt;EventTarget&lt;/a&gt;&lt;/code&gt;&lt;li&gt;The concept of a &lt;dfn id=concept-event-target-override&gt;target override&lt;/dfn&gt;&lt;li&gt;The concept of a regular &lt;dfn id=event-parent&gt;event parent&lt;/dfn&gt; and a &lt;dfn id=cross-boundary-event-parent&gt;cross-boundary event parent&lt;/dfn&gt;&lt;li&gt;The &lt;dfn id=&quot;document's-character-encoding&quot;&gt;encoding&lt;/dfn&gt; (herein the &lt;i&gt;character encoding&lt;/i&gt;) and &lt;dfn id=concept-document-content-type&gt;content type&lt;/dfn&gt; of a &lt;code id=dependencies:document&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;&lt;li&gt;The distinction between &lt;dfn id=xml-documents&gt;XML documents&lt;/dfn&gt; and &lt;dfn id=html-documents&gt;HTML documents&lt;/dfn&gt;&lt;li&gt;The terms &lt;dfn id=quirks-mode&gt;quirks mode&lt;/dfn&gt;, &lt;dfn id=limited-quirks-mode&gt;limited-quirks mode&lt;/dfn&gt;, and &lt;dfn id=no-quirks-mode&gt;no-q
 uirks mode&lt;/dfn&gt;&lt;li&gt;The algorithm to &lt;dfn id=concept-node-clone&gt;clone&lt;/dfn&gt; a &lt;code id=dependencies:node&gt;&lt;a href=#node&gt;Node&lt;/a&gt;&lt;/code&gt;, and the concept of &lt;dfn id=concept-node-clone-ext&gt;cloning steps&lt;/dfn&gt; used by that algorithm&lt;li&gt;The concept of &lt;dfn id=base-url-change-steps&gt;base URL change steps&lt;/dfn&gt; and the definition of what happens when an element is &lt;dfn id=affected-by-a-base-url-change&gt;affected by a base URL change&lt;/dfn&gt;&lt;li&gt;The concept of an element's &lt;dfn id=concept-id&gt;unique identifier (ID)&lt;/dfn&gt;&lt;li&gt;The concept of a DOM &lt;dfn id=concept-range&gt;range&lt;/dfn&gt;, and the terms &lt;dfn id=concept-range-start&gt;start&lt;/dfn&gt;, &lt;dfn id=concept-range-end&gt;end&lt;/dfn&gt;, and &lt;dfn id=concept-range-bp&gt;boundary point&lt;/dfn&gt; as applied to ranges.&lt;li&gt;&lt;dfn id=mutationobserver&gt;&lt;code&gt;MutationObserver&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=promise&gt;Promise&lt;/dfn&gt; interface&lt;li&gt;The &lt;dfn id=concept-resolver&gt;resolver&lt;/dfn&gt; concept&lt;li&gt;The &lt;dfn id=concept-resolver-fulfill&gt;fulfill&lt;/dfn&gt; and &lt;dfn id=concept-resolver
 -reject&gt;reject&lt;/dfn&gt; algorithms&lt;/ul&gt;
+    &lt;ul class=brief&gt;&lt;li&gt;&lt;dfn id=attr&gt;&lt;code&gt;Attr&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=comment-2&gt;&lt;code&gt;Comment&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=domimplementation&gt;&lt;code&gt;DOMImplementation&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=dom-document&gt;&lt;code&gt;Document&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=xmldocument&gt;&lt;code&gt;XMLDocument&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=documentfragment&gt;&lt;code&gt;DocumentFragment&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=documenttype&gt;&lt;code&gt;DocumentType&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=domexception&gt;&lt;code&gt;DOMException&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=childnode&gt;&lt;code&gt;ChildNode&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=element&gt;&lt;code&gt;Element&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=node&gt;&lt;code&gt;Node&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=nodelist&gt;&lt;code&gt;NodeList&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=processinginstruction&gt;&lt;code&gt;ProcessingInstruction&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=text&gt;&lt;code&gt;Text&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=node-document&gt;&lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-document">http://dom.spec.whatwg.org/#concept-node-document</A>&gt;node docume
 nt&lt;/a&gt;&lt;/dfn&gt; concept&lt;li&gt;&lt;dfn id=htmlcollection&gt;&lt;code&gt;HTMLCollection&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=dom-htmlcollection-length&gt;&lt;code&gt;HTMLCollection.length&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-htmlcollection-item&gt;&lt;code&gt;HTMLCollection.item()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-htmlcollection-nameditem&gt;&lt;code&gt;HTMLCollection.namedItem()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;The terms &lt;dfn id=collections&gt;collections&lt;/dfn&gt; and &lt;dfn id=represented-by-the-collection&gt;represented by the collection&lt;/dfn&gt;&lt;li&gt;&lt;dfn id=domtokenlist&gt;&lt;code&gt;DOMTokenList&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=domsettabletokenlist&gt;&lt;code&gt;DOMSettableTokenList&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=dom-domsettabletokenlist-value&gt;&lt;code&gt;DOMSettableTokenList.value&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-domimplementation-createdocument&gt;&lt;code&gt;createDocument()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-domimplementation-createhtmldocument&gt;&lt;code&gt;createHTMLDocument()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-document-createelement&gt;&lt;code&gt;createElement()&lt;/code&gt;&lt;/d
 fn&gt; method&lt;li&gt;&lt;dfn id=dom-document-createelementns&gt;&lt;code&gt;createElementNS()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-document-getelementbyid&gt;&lt;code&gt;getElementById()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-document-getelementsbyclassname&gt;&lt;code&gt;getElementsByClassName()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-node-insertbefore&gt;&lt;code&gt;insertBefore()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-node-childnodes&gt;&lt;code&gt;childNodes&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-node-localname&gt;&lt;code&gt;localName&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-node-parentnode&gt;&lt;code&gt;parentNode&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-node-namespaceuri&gt;&lt;code&gt;namespaceURI&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-element-tagname&gt;&lt;code&gt;tagName&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-element-id&gt;&lt;code&gt;id&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=textcontent&gt;&lt;code&gt;textContent&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;The &lt;dfn id=concept-node-insert&gt;insert&lt;/dfn&gt;, &lt;dfn id=concept-node-append&gt;append&lt;/dfn&gt;, &lt;dfn id=concept-node-remove&gt;remove&lt;/dfn&gt;, &lt;dfn id=concept-node-replace&gt;re
 place&lt;/dfn&gt;, and &lt;dfn id=concept-node-adopt&gt;adopt&lt;/dfn&gt; algorithms for nodes&lt;li&gt;The &lt;dfn id=concept-node-insert-ext&gt;&lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-insert-ext">http://dom.spec.whatwg.org/#concept-node-insert-ext</A>&gt;insertion steps&lt;/a&gt;&lt;/dfn&gt;,
+             &lt;dfn id=concept-node-remove-ext&gt;&lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-remove-ext">http://dom.spec.whatwg.org/#concept-node-remove-ext</A>&gt;removing steps&lt;/a&gt;&lt;/dfn&gt;,
+         and &lt;dfn id=concept-node-adopt-ext&gt;&lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-adopt-ext">http://dom.spec.whatwg.org/#concept-node-adopt-ext</A>&gt;adopting steps&lt;/a&gt;&lt;/dfn&gt; hooks&lt;li&gt;The &lt;dfn id=attribute-list&gt;attribute list&lt;/dfn&gt; concept.&lt;li&gt;The &lt;dfn id=concept-cd-data&gt;data&lt;/dfn&gt; of a text node.&lt;li&gt;&lt;dfn id=event&gt;&lt;code&gt;Event&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=eventtarget&gt;&lt;code&gt;EventTarget&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=eventinit&gt;&lt;code&gt;EventInit&lt;/code&gt;&lt;/dfn&gt; dictionary type&lt;li&gt;&lt;dfn id=dom-event-target&gt;&lt;code&gt;target&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-event-currenttarget&gt;&lt;code&gt;currentTarget&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-event-istrusted&gt;&lt;code&gt;isTrusted&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-event-initevent&gt;&lt;code&gt;initEvent()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-eventtarget-addeventlistener&gt;&lt;code&gt;addEventListener()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;The &lt;dfn id=concept-event-type&gt;type&lt;/dfn&gt; of an event&lt;li&gt;The concept of an &lt;dfn id=concept-event-listener&gt;event listener&lt;/dfn&gt; and the &lt;a href=#concept-event-listener id=dependencies
 :concept-event-listener&gt;event listeners&lt;/a&gt; associated with an &lt;code id=dependencies:eventtarget&gt;&lt;a href=#eventtarget&gt;EventTarget&lt;/a&gt;&lt;/code&gt;&lt;li&gt;The concept of a &lt;dfn id=concept-event-target-override&gt;target override&lt;/dfn&gt;&lt;li&gt;The concept of a regular &lt;dfn id=event-parent&gt;event parent&lt;/dfn&gt; and a &lt;dfn id=cross-boundary-event-parent&gt;cross-boundary event parent&lt;/dfn&gt;&lt;li&gt;The &lt;dfn id=&quot;document's-character-encoding&quot;&gt;encoding&lt;/dfn&gt; (herein the &lt;i&gt;character encoding&lt;/i&gt;) and &lt;dfn id=concept-document-content-type&gt;content type&lt;/dfn&gt; of a &lt;code id=dependencies:document&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;&lt;li&gt;The distinction between &lt;dfn id=xml-documents&gt;XML documents&lt;/dfn&gt; and &lt;dfn id=html-documents&gt;HTML documents&lt;/dfn&gt;&lt;li&gt;The terms &lt;dfn id=quirks-mode&gt;quirks mode&lt;/dfn&gt;, &lt;dfn id=limited-quirks-mode&gt;limited-quirks mode&lt;/dfn&gt;, and &lt;dfn id=no-quirks-mode&gt;no-quirks mode&lt;/dfn&gt;&lt;li&gt;The algorithm to &lt;dfn id=concept-node-clone&gt;clone&lt;/dfn&gt; a &lt;code id=dependencies:node&gt;&lt;a href=#node&gt;Node&lt;/a&gt;&lt;/code
 &gt;, and the concept of &lt;dfn id=concept-node-clone-ext&gt;cloning steps&lt;/dfn&gt; used by that algorithm&lt;li&gt;The concept of &lt;dfn id=base-url-change-steps&gt;base URL change steps&lt;/dfn&gt; and the definition of what happens when an element is &lt;dfn id=affected-by-a-base-url-change&gt;affected by a base URL change&lt;/dfn&gt;&lt;li&gt;The concept of an element's &lt;dfn id=concept-id&gt;unique identifier (ID)&lt;/dfn&gt;&lt;li&gt;The concept of a DOM &lt;dfn id=concept-range&gt;range&lt;/dfn&gt;, and the terms &lt;dfn id=concept-range-start&gt;start&lt;/dfn&gt;, &lt;dfn id=concept-range-end&gt;end&lt;/dfn&gt;, and &lt;dfn id=concept-range-bp&gt;boundary point&lt;/dfn&gt; as applied to ranges.&lt;li&gt;&lt;dfn id=mutationobserver&gt;&lt;code&gt;MutationObserver&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=promise&gt;Promise&lt;/dfn&gt; interface&lt;li&gt;The &lt;dfn id=concept-resolver&gt;resolver&lt;/dfn&gt; concept&lt;li&gt;The &lt;dfn id=concept-resolver-fulfill&gt;fulfill&lt;/dfn&gt; and &lt;dfn id=concept-resolver-reject&gt;reject&lt;/dfn&gt; algorithms&lt;/ul&gt;
 
     &lt;p&gt;The term &lt;dfn id=throw&gt;throw&lt;/dfn&gt; in this specification is used as defined in the DOM specification.
     The following &lt;code id=dependencies:domexception&gt;&lt;a href=#domexception&gt;DOMException&lt;/a&gt;&lt;/code&gt; types are defined in the DOM specification: &lt;a href=#refsDOM&gt;[DOM]&lt;/a&gt;&lt;/p&gt;
@@ -17959,14 +17967,14 @@
   with the &lt;i&gt;restart animation&lt;/i&gt; flag set if so stated,
   whenever that element is created,
   or has experienced &lt;a href=#relevant-mutations id=the-img-element:relevant-mutations&gt;relevant mutations&lt;/a&gt;,
-  and whenever that element's &lt;a href=#concept-node-adopt-ext id=the-img-element:concept-node-adopt-ext&gt;adopting steps&lt;/a&gt; are run.&lt;/p&gt; 
+  and whenever that element's &lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-adopt-ext">http://dom.spec.whatwg.org/#concept-node-adopt-ext</A> id=the-img-element:concept-node-adopt-ext data-x-internal=concept-node-adopt-ext&gt;adopting steps&lt;/a&gt; are run.&lt;/p&gt; 
 
   &lt;p&gt;A user agent that obtains images on demand must &lt;a href=#update-the-image-data id=the-img-element:update-the-image-data-2&gt;update the image data&lt;/a&gt; of an
   &lt;code id=the-img-element:the-img-element-11&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element whenever it needs the image data (i.e. on demand),
   but only if the &lt;code id=the-img-element:the-img-element-12&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element is in the
   &lt;a href=#img-none id=the-img-element:img-none-2&gt;unavailable&lt;/a&gt; state. When an &lt;code id=the-img-element:the-img-element-13&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element
   has experienced &lt;a href=#relevant-mutations id=the-img-element:relevant-mutations-2&gt;relevant mutations&lt;/a&gt;,
-  and whenever that element's &lt;a href=#concept-node-adopt-ext id=the-img-element:concept-node-adopt-ext-2&gt;adopting steps&lt;/a&gt; are run, if the user
+  and whenever that element's &lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-adopt-ext">http://dom.spec.whatwg.org/#concept-node-adopt-ext</A> id=the-img-element:concept-node-adopt-ext-2 data-x-internal=concept-node-adopt-ext&gt;adopting steps&lt;/a&gt; are run, if the user
   agent only obtains images on demand, the &lt;code id=the-img-element:the-img-element-14&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element must return to the &lt;a href=#img-none id=the-img-element:img-none-3&gt;unavailable&lt;/a&gt; state.&lt;/p&gt; 
 
   &lt;p&gt;The &lt;dfn id=relevant-mutations&gt;relevant mutations&lt;/dfn&gt; for an &lt;code id=the-img-element:the-img-element-15&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element are as follows:&lt;/p&gt;
@@ -21661,7 +21669,7 @@
 
   
 
-  &lt;p&gt;If a &lt;code id=the-source-element:the-source-element-4&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt; element is inserted as a child of a &lt;a href=#media-element id=the-source-element:media-element-4&gt;media element&lt;/a&gt; that
+  &lt;p&gt;If a &lt;code id=the-source-element:the-source-element-4&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt; &lt;a href=#nodes-are-inserted id=the-source-element:nodes-are-inserted&gt;element is inserted&lt;/a&gt; as a child of a &lt;a href=#media-element id=the-source-element:media-element-4&gt;media element&lt;/a&gt; that
   has no &lt;code id=the-source-element:attr-media-src-2&gt;&lt;a href=#attr-media-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute and whose &lt;code id=the-source-element:dom-media-networkstate&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; has the value &lt;code id=the-source-element:dom-media-network_empty&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt;, the user agent must invoke the &lt;a href=#media-element id=the-source-element:media-element-5&gt;media
   element&lt;/a&gt;'s &lt;a href=#concept-media-load-algorithm id=the-source-element:concept-media-load-algorithm&gt;resource selection
   algorithm&lt;/a&gt;.&lt;/p&gt;
@@ -22384,9 +22392,9 @@
         other node is the node after &lt;var&gt;pointer&lt;/var&gt;. Initially, let &lt;var&gt;pointer&lt;/var&gt; be the position between the &lt;var&gt;candidate&lt;/var&gt; node and the
         next node, if there are any, or the end of the list, if it is the last node.&lt;/p&gt;
 
-        &lt;p&gt;As nodes are inserted and removed into the &lt;a href=#media-element id=loading-the-media-resource:media-element-22&gt;media element&lt;/a&gt;, &lt;var&gt;pointer&lt;/var&gt; must be updated as follows:&lt;/p&gt;
+        &lt;p&gt;As &lt;a href=#nodes-are-inserted id=loading-the-media-resource:nodes-are-inserted&gt;nodes are inserted&lt;/a&gt; and &lt;a href=#nodes-are-removed id=loading-the-media-resource:nodes-are-removed&gt;removed&lt;/a&gt; into the &lt;a href=#media-element id=loading-the-media-resource:media-element-22&gt;media element&lt;/a&gt;, &lt;var&gt;pointer&lt;/var&gt; must be updated as follows:&lt;/p&gt;
 
-        &lt;dl&gt;&lt;dt&gt;If a new node is inserted between the two nodes that define &lt;var&gt;pointer&lt;/var&gt;&lt;dd&gt;Let &lt;var&gt;pointer&lt;/var&gt; be the point between the node before &lt;var&gt;pointer&lt;/var&gt; and the new node. In other words, insertions at &lt;var&gt;pointer&lt;/var&gt; go after &lt;var&gt;pointer&lt;/var&gt;.&lt;dt&gt;If the node before &lt;var&gt;pointer&lt;/var&gt; is removed&lt;dd&gt;Let &lt;var&gt;pointer&lt;/var&gt; be the point between the node after &lt;var&gt;pointer&lt;/var&gt; and the node before the node after &lt;var&gt;pointer&lt;/var&gt;. In
+        &lt;dl&gt;&lt;dt&gt;If a new &lt;a href=#nodes-are-inserted id=loading-the-media-resource:nodes-are-inserted-2&gt;node is inserted&lt;/a&gt; between the two nodes that define &lt;var&gt;pointer&lt;/var&gt;&lt;dd&gt;Let &lt;var&gt;pointer&lt;/var&gt; be the point between the node before &lt;var&gt;pointer&lt;/var&gt; and the new node. In other words, insertions at &lt;var&gt;pointer&lt;/var&gt; go after &lt;var&gt;pointer&lt;/var&gt;.&lt;dt&gt;If the node before &lt;var&gt;pointer&lt;/var&gt; is removed&lt;dd&gt;Let &lt;var&gt;pointer&lt;/var&gt; be the point between the node after &lt;var&gt;pointer&lt;/var&gt; and the node before the node after &lt;var&gt;pointer&lt;/var&gt;. In
          other words, &lt;var&gt;pointer&lt;/var&gt; doesn't move relative to the remaining nodes.&lt;dt&gt;If the node after &lt;var&gt;pointer&lt;/var&gt; is removed&lt;dd&gt;Let &lt;var&gt;pointer&lt;/var&gt; be the point between the node before &lt;var&gt;pointer&lt;/var&gt; and the node after the node before &lt;var&gt;pointer&lt;/var&gt;. Just
          as with the previous case, &lt;var&gt;pointer&lt;/var&gt; doesn't move relative to the remaining
          nodes.&lt;/dl&gt;

Modified: index
===================================================================
--- index	2014-09-12 18:08:08 UTC (rev 8768)
+++ index	2014-09-12 18:23:12 UTC (rev 8769)
@@ -1719,7 +1719,13 @@
   string, means that the length of the text is zero (i.e. not even containing spaces or &lt;a href=#control-characters id=dom-trees:control-characters&gt;control
   characters&lt;/a&gt;).&lt;/p&gt;
 
+  &lt;p&gt;A &lt;dfn id=nodes-are-inserted&gt;node &lt;var&gt;A&lt;/var&gt; is inserted&lt;/dfn&gt; into a node &lt;var&gt;B&lt;/var&gt;
+  when the &lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-insert-ext">http://dom.spec.whatwg.org/#concept-node-insert-ext</A> id=dom-trees:concept-node-insert-ext data-x-internal=concept-node-insert-ext&gt;insertion steps&lt;/a&gt; are invoked with
+  &lt;var&gt;A&lt;/var&gt; as the argument and &lt;var&gt;A&lt;/var&gt;'s new parent is &lt;var&gt;B&lt;/var&gt;. Similarly, a &lt;dfn id=nodes-are-removed&gt;node &lt;var&gt;A&lt;/var&gt; is removed&lt;/dfn&gt; from a node &lt;var&gt;B&lt;/var&gt; when the
+  &lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-remove-ext">http://dom.spec.whatwg.org/#concept-node-remove-ext</A> id=dom-trees:concept-node-remove-ext data-x-internal=concept-node-remove-ext&gt;removing steps&lt;/a&gt; are invoked with &lt;var&gt;A&lt;/var&gt; as the
+  &lt;var&gt;removedNode&lt;/var&gt; argument and &lt;var&gt;B&lt;/var&gt; as the &lt;var&gt;oldParent&lt;/var&gt; argument.&lt;/p&gt;
 
+
   &lt;h4 id=scripting-2&gt;2.1.4 Scripting&lt;/h4&gt;
 
   &lt;p&gt;The construction &quot;a &lt;code&gt;Foo&lt;/code&gt; object&quot;, where &lt;code&gt;Foo&lt;/code&gt; is
@@ -2350,7 +2356,9 @@
 
     &lt;p&gt;In particular, the following features are defined in the DOM specification: &lt;a href=#refsDOM&gt;[DOM]&lt;/a&gt;&lt;/p&gt; 
 
-    &lt;ul class=brief&gt;&lt;li&gt;&lt;dfn id=attr&gt;&lt;code&gt;Attr&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=comment-2&gt;&lt;code&gt;Comment&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=domimplementation&gt;&lt;code&gt;DOMImplementation&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=dom-document&gt;&lt;code&gt;Document&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=xmldocument&gt;&lt;code&gt;XMLDocument&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=documentfragment&gt;&lt;code&gt;DocumentFragment&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=documenttype&gt;&lt;code&gt;DocumentType&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=domexception&gt;&lt;code&gt;DOMException&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=childnode&gt;&lt;code&gt;ChildNode&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=element&gt;&lt;code&gt;Element&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=node&gt;&lt;code&gt;Node&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=nodelist&gt;&lt;code&gt;NodeList&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=processinginstruction&gt;&lt;code&gt;ProcessingInstruction&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=text&gt;&lt;code&gt;Text&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=node-document&gt;&lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-document">http://dom.spec.whatwg.org/#concept-node-document</A>&gt;node docume
 nt&lt;/a&gt;&lt;/dfn&gt; concept&lt;li&gt;&lt;dfn id=htmlcollection&gt;&lt;code&gt;HTMLCollection&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=dom-htmlcollection-length&gt;&lt;code&gt;HTMLCollection.length&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-htmlcollection-item&gt;&lt;code&gt;HTMLCollection.item()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-htmlcollection-nameditem&gt;&lt;code&gt;HTMLCollection.namedItem()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;The terms &lt;dfn id=collections&gt;collections&lt;/dfn&gt; and &lt;dfn id=represented-by-the-collection&gt;represented by the collection&lt;/dfn&gt;&lt;li&gt;&lt;dfn id=domtokenlist&gt;&lt;code&gt;DOMTokenList&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=domsettabletokenlist&gt;&lt;code&gt;DOMSettableTokenList&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=dom-domsettabletokenlist-value&gt;&lt;code&gt;DOMSettableTokenList.value&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-domimplementation-createdocument&gt;&lt;code&gt;createDocument()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-domimplementation-createhtmldocument&gt;&lt;code&gt;createHTMLDocument()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-document-createelement&gt;&lt;code&gt;createElement()&lt;/code&gt;&lt;/d
 fn&gt; method&lt;li&gt;&lt;dfn id=dom-document-createelementns&gt;&lt;code&gt;createElementNS()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-document-getelementbyid&gt;&lt;code&gt;getElementById()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-document-getelementsbyclassname&gt;&lt;code&gt;getElementsByClassName()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-node-insertbefore&gt;&lt;code&gt;insertBefore()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-node-childnodes&gt;&lt;code&gt;childNodes&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-node-localname&gt;&lt;code&gt;localName&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-node-parentnode&gt;&lt;code&gt;parentNode&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-node-namespaceuri&gt;&lt;code&gt;namespaceURI&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-element-tagname&gt;&lt;code&gt;tagName&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-element-id&gt;&lt;code&gt;id&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=textcontent&gt;&lt;code&gt;textContent&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;The &lt;dfn id=concept-node-insert&gt;insert&lt;/dfn&gt;, &lt;dfn id=concept-node-append&gt;append&lt;/dfn&gt;, &lt;dfn id=concept-node-remove&gt;remove&lt;/dfn&gt;, &lt;dfn id=concept-node-replace&gt;re
 place&lt;/dfn&gt;, and &lt;dfn id=concept-node-adopt&gt;adopt&lt;/dfn&gt; algorithms for nodes&lt;li&gt;The &lt;dfn id=nodes-are-inserted&gt;nodes are inserted&lt;/dfn&gt; and &lt;dfn id=nodes-are-removed&gt;nodes are removed&lt;/dfn&gt; concepts&lt;li&gt;An element's &lt;dfn id=concept-node-adopt-ext&gt;adopting steps&lt;/dfn&gt;&lt;li&gt;The &lt;dfn id=attribute-list&gt;attribute list&lt;/dfn&gt; concept.&lt;li&gt;The &lt;dfn id=concept-cd-data&gt;data&lt;/dfn&gt; of a text node.&lt;li&gt;&lt;dfn id=event&gt;&lt;code&gt;Event&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=eventtarget&gt;&lt;code&gt;EventTarget&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=eventinit&gt;&lt;code&gt;EventInit&lt;/code&gt;&lt;/dfn&gt; dictionary type&lt;li&gt;&lt;dfn id=dom-event-target&gt;&lt;code&gt;target&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-event-currenttarget&gt;&lt;code&gt;currentTarget&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-event-istrusted&gt;&lt;code&gt;isTrusted&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-event-initevent&gt;&lt;code&gt;initEvent()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-eventtarget-addeventlistener&gt;&lt;code&gt;addEventListener()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;The &lt;dfn id=concept-event-type&gt;type&lt;/dfn&gt; of an e
 vent&lt;li&gt;The concept of an &lt;dfn id=concept-event-listener&gt;event listener&lt;/dfn&gt; and the &lt;a href=#concept-event-listener id=dependencies:concept-event-listener&gt;event listeners&lt;/a&gt; associated with an &lt;code id=dependencies:eventtarget&gt;&lt;a href=#eventtarget&gt;EventTarget&lt;/a&gt;&lt;/code&gt;&lt;li&gt;The concept of a &lt;dfn id=concept-event-target-override&gt;target override&lt;/dfn&gt;&lt;li&gt;The concept of a regular &lt;dfn id=event-parent&gt;event parent&lt;/dfn&gt; and a &lt;dfn id=cross-boundary-event-parent&gt;cross-boundary event parent&lt;/dfn&gt;&lt;li&gt;The &lt;dfn id=&quot;document's-character-encoding&quot;&gt;encoding&lt;/dfn&gt; (herein the &lt;i&gt;character encoding&lt;/i&gt;) and &lt;dfn id=concept-document-content-type&gt;content type&lt;/dfn&gt; of a &lt;code id=dependencies:document&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;&lt;li&gt;The distinction between &lt;dfn id=xml-documents&gt;XML documents&lt;/dfn&gt; and &lt;dfn id=html-documents&gt;HTML documents&lt;/dfn&gt;&lt;li&gt;The terms &lt;dfn id=quirks-mode&gt;quirks mode&lt;/dfn&gt;, &lt;dfn id=limited-quirks-mode&gt;limited-quirks mode&lt;/dfn&gt;, and &lt;dfn id=no-quirks-mode&gt;no-q
 uirks mode&lt;/dfn&gt;&lt;li&gt;The algorithm to &lt;dfn id=concept-node-clone&gt;clone&lt;/dfn&gt; a &lt;code id=dependencies:node&gt;&lt;a href=#node&gt;Node&lt;/a&gt;&lt;/code&gt;, and the concept of &lt;dfn id=concept-node-clone-ext&gt;cloning steps&lt;/dfn&gt; used by that algorithm&lt;li&gt;The concept of &lt;dfn id=base-url-change-steps&gt;base URL change steps&lt;/dfn&gt; and the definition of what happens when an element is &lt;dfn id=affected-by-a-base-url-change&gt;affected by a base URL change&lt;/dfn&gt;&lt;li&gt;The concept of an element's &lt;dfn id=concept-id&gt;unique identifier (ID)&lt;/dfn&gt;&lt;li&gt;The concept of a DOM &lt;dfn id=concept-range&gt;range&lt;/dfn&gt;, and the terms &lt;dfn id=concept-range-start&gt;start&lt;/dfn&gt;, &lt;dfn id=concept-range-end&gt;end&lt;/dfn&gt;, and &lt;dfn id=concept-range-bp&gt;boundary point&lt;/dfn&gt; as applied to ranges.&lt;li&gt;&lt;dfn id=mutationobserver&gt;&lt;code&gt;MutationObserver&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=promise&gt;Promise&lt;/dfn&gt; interface&lt;li&gt;The &lt;dfn id=concept-resolver&gt;resolver&lt;/dfn&gt; concept&lt;li&gt;The &lt;dfn id=concept-resolver-fulfill&gt;fulfill&lt;/dfn&gt; and &lt;dfn id=concept-resolver
 -reject&gt;reject&lt;/dfn&gt; algorithms&lt;/ul&gt;
+    &lt;ul class=brief&gt;&lt;li&gt;&lt;dfn id=attr&gt;&lt;code&gt;Attr&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=comment-2&gt;&lt;code&gt;Comment&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=domimplementation&gt;&lt;code&gt;DOMImplementation&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=dom-document&gt;&lt;code&gt;Document&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=xmldocument&gt;&lt;code&gt;XMLDocument&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=documentfragment&gt;&lt;code&gt;DocumentFragment&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=documenttype&gt;&lt;code&gt;DocumentType&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=domexception&gt;&lt;code&gt;DOMException&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=childnode&gt;&lt;code&gt;ChildNode&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=element&gt;&lt;code&gt;Element&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=node&gt;&lt;code&gt;Node&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=nodelist&gt;&lt;code&gt;NodeList&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=processinginstruction&gt;&lt;code&gt;ProcessingInstruction&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=text&gt;&lt;code&gt;Text&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=node-document&gt;&lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-document">http://dom.spec.whatwg.org/#concept-node-document</A>&gt;node docume
 nt&lt;/a&gt;&lt;/dfn&gt; concept&lt;li&gt;&lt;dfn id=htmlcollection&gt;&lt;code&gt;HTMLCollection&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=dom-htmlcollection-length&gt;&lt;code&gt;HTMLCollection.length&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-htmlcollection-item&gt;&lt;code&gt;HTMLCollection.item()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-htmlcollection-nameditem&gt;&lt;code&gt;HTMLCollection.namedItem()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;The terms &lt;dfn id=collections&gt;collections&lt;/dfn&gt; and &lt;dfn id=represented-by-the-collection&gt;represented by the collection&lt;/dfn&gt;&lt;li&gt;&lt;dfn id=domtokenlist&gt;&lt;code&gt;DOMTokenList&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=domsettabletokenlist&gt;&lt;code&gt;DOMSettableTokenList&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=dom-domsettabletokenlist-value&gt;&lt;code&gt;DOMSettableTokenList.value&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-domimplementation-createdocument&gt;&lt;code&gt;createDocument()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-domimplementation-createhtmldocument&gt;&lt;code&gt;createHTMLDocument()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-document-createelement&gt;&lt;code&gt;createElement()&lt;/code&gt;&lt;/d
 fn&gt; method&lt;li&gt;&lt;dfn id=dom-document-createelementns&gt;&lt;code&gt;createElementNS()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-document-getelementbyid&gt;&lt;code&gt;getElementById()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-document-getelementsbyclassname&gt;&lt;code&gt;getElementsByClassName()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-node-insertbefore&gt;&lt;code&gt;insertBefore()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-node-childnodes&gt;&lt;code&gt;childNodes&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-node-localname&gt;&lt;code&gt;localName&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-node-parentnode&gt;&lt;code&gt;parentNode&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-node-namespaceuri&gt;&lt;code&gt;namespaceURI&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-element-tagname&gt;&lt;code&gt;tagName&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-element-id&gt;&lt;code&gt;id&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=textcontent&gt;&lt;code&gt;textContent&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;The &lt;dfn id=concept-node-insert&gt;insert&lt;/dfn&gt;, &lt;dfn id=concept-node-append&gt;append&lt;/dfn&gt;, &lt;dfn id=concept-node-remove&gt;remove&lt;/dfn&gt;, &lt;dfn id=concept-node-replace&gt;re
 place&lt;/dfn&gt;, and &lt;dfn id=concept-node-adopt&gt;adopt&lt;/dfn&gt; algorithms for nodes&lt;li&gt;The &lt;dfn id=concept-node-insert-ext&gt;&lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-insert-ext">http://dom.spec.whatwg.org/#concept-node-insert-ext</A>&gt;insertion steps&lt;/a&gt;&lt;/dfn&gt;,
+             &lt;dfn id=concept-node-remove-ext&gt;&lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-remove-ext">http://dom.spec.whatwg.org/#concept-node-remove-ext</A>&gt;removing steps&lt;/a&gt;&lt;/dfn&gt;,
+         and &lt;dfn id=concept-node-adopt-ext&gt;&lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-adopt-ext">http://dom.spec.whatwg.org/#concept-node-adopt-ext</A>&gt;adopting steps&lt;/a&gt;&lt;/dfn&gt; hooks&lt;li&gt;The &lt;dfn id=attribute-list&gt;attribute list&lt;/dfn&gt; concept.&lt;li&gt;The &lt;dfn id=concept-cd-data&gt;data&lt;/dfn&gt; of a text node.&lt;li&gt;&lt;dfn id=event&gt;&lt;code&gt;Event&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=eventtarget&gt;&lt;code&gt;EventTarget&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=eventinit&gt;&lt;code&gt;EventInit&lt;/code&gt;&lt;/dfn&gt; dictionary type&lt;li&gt;&lt;dfn id=dom-event-target&gt;&lt;code&gt;target&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-event-currenttarget&gt;&lt;code&gt;currentTarget&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-event-istrusted&gt;&lt;code&gt;isTrusted&lt;/code&gt;&lt;/dfn&gt; attribute&lt;li&gt;&lt;dfn id=dom-event-initevent&gt;&lt;code&gt;initEvent()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;&lt;dfn id=dom-eventtarget-addeventlistener&gt;&lt;code&gt;addEventListener()&lt;/code&gt;&lt;/dfn&gt; method&lt;li&gt;The &lt;dfn id=concept-event-type&gt;type&lt;/dfn&gt; of an event&lt;li&gt;The concept of an &lt;dfn id=concept-event-listener&gt;event listener&lt;/dfn&gt; and the &lt;a href=#concept-event-listener id=dependencies
 :concept-event-listener&gt;event listeners&lt;/a&gt; associated with an &lt;code id=dependencies:eventtarget&gt;&lt;a href=#eventtarget&gt;EventTarget&lt;/a&gt;&lt;/code&gt;&lt;li&gt;The concept of a &lt;dfn id=concept-event-target-override&gt;target override&lt;/dfn&gt;&lt;li&gt;The concept of a regular &lt;dfn id=event-parent&gt;event parent&lt;/dfn&gt; and a &lt;dfn id=cross-boundary-event-parent&gt;cross-boundary event parent&lt;/dfn&gt;&lt;li&gt;The &lt;dfn id=&quot;document's-character-encoding&quot;&gt;encoding&lt;/dfn&gt; (herein the &lt;i&gt;character encoding&lt;/i&gt;) and &lt;dfn id=concept-document-content-type&gt;content type&lt;/dfn&gt; of a &lt;code id=dependencies:document&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;&lt;li&gt;The distinction between &lt;dfn id=xml-documents&gt;XML documents&lt;/dfn&gt; and &lt;dfn id=html-documents&gt;HTML documents&lt;/dfn&gt;&lt;li&gt;The terms &lt;dfn id=quirks-mode&gt;quirks mode&lt;/dfn&gt;, &lt;dfn id=limited-quirks-mode&gt;limited-quirks mode&lt;/dfn&gt;, and &lt;dfn id=no-quirks-mode&gt;no-quirks mode&lt;/dfn&gt;&lt;li&gt;The algorithm to &lt;dfn id=concept-node-clone&gt;clone&lt;/dfn&gt; a &lt;code id=dependencies:node&gt;&lt;a href=#node&gt;Node&lt;/a&gt;&lt;/code
 &gt;, and the concept of &lt;dfn id=concept-node-clone-ext&gt;cloning steps&lt;/dfn&gt; used by that algorithm&lt;li&gt;The concept of &lt;dfn id=base-url-change-steps&gt;base URL change steps&lt;/dfn&gt; and the definition of what happens when an element is &lt;dfn id=affected-by-a-base-url-change&gt;affected by a base URL change&lt;/dfn&gt;&lt;li&gt;The concept of an element's &lt;dfn id=concept-id&gt;unique identifier (ID)&lt;/dfn&gt;&lt;li&gt;The concept of a DOM &lt;dfn id=concept-range&gt;range&lt;/dfn&gt;, and the terms &lt;dfn id=concept-range-start&gt;start&lt;/dfn&gt;, &lt;dfn id=concept-range-end&gt;end&lt;/dfn&gt;, and &lt;dfn id=concept-range-bp&gt;boundary point&lt;/dfn&gt; as applied to ranges.&lt;li&gt;&lt;dfn id=mutationobserver&gt;&lt;code&gt;MutationObserver&lt;/code&gt;&lt;/dfn&gt; interface&lt;li&gt;&lt;dfn id=promise&gt;Promise&lt;/dfn&gt; interface&lt;li&gt;The &lt;dfn id=concept-resolver&gt;resolver&lt;/dfn&gt; concept&lt;li&gt;The &lt;dfn id=concept-resolver-fulfill&gt;fulfill&lt;/dfn&gt; and &lt;dfn id=concept-resolver-reject&gt;reject&lt;/dfn&gt; algorithms&lt;/ul&gt;
 
     &lt;p&gt;The term &lt;dfn id=throw&gt;throw&lt;/dfn&gt; in this specification is used as defined in the DOM specification.
     The following &lt;code id=dependencies:domexception&gt;&lt;a href=#domexception&gt;DOMException&lt;/a&gt;&lt;/code&gt; types are defined in the DOM specification: &lt;a href=#refsDOM&gt;[DOM]&lt;/a&gt;&lt;/p&gt;
@@ -17959,14 +17967,14 @@
   with the &lt;i&gt;restart animation&lt;/i&gt; flag set if so stated,
   whenever that element is created,
   or has experienced &lt;a href=#relevant-mutations id=the-img-element:relevant-mutations&gt;relevant mutations&lt;/a&gt;,
-  and whenever that element's &lt;a href=#concept-node-adopt-ext id=the-img-element:concept-node-adopt-ext&gt;adopting steps&lt;/a&gt; are run.&lt;/p&gt; 
+  and whenever that element's &lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-adopt-ext">http://dom.spec.whatwg.org/#concept-node-adopt-ext</A> id=the-img-element:concept-node-adopt-ext data-x-internal=concept-node-adopt-ext&gt;adopting steps&lt;/a&gt; are run.&lt;/p&gt; 
 
   &lt;p&gt;A user agent that obtains images on demand must &lt;a href=#update-the-image-data id=the-img-element:update-the-image-data-2&gt;update the image data&lt;/a&gt; of an
   &lt;code id=the-img-element:the-img-element-11&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element whenever it needs the image data (i.e. on demand),
   but only if the &lt;code id=the-img-element:the-img-element-12&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element is in the
   &lt;a href=#img-none id=the-img-element:img-none-2&gt;unavailable&lt;/a&gt; state. When an &lt;code id=the-img-element:the-img-element-13&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element
   has experienced &lt;a href=#relevant-mutations id=the-img-element:relevant-mutations-2&gt;relevant mutations&lt;/a&gt;,
-  and whenever that element's &lt;a href=#concept-node-adopt-ext id=the-img-element:concept-node-adopt-ext-2&gt;adopting steps&lt;/a&gt; are run, if the user
+  and whenever that element's &lt;a href=<A HREF="http://dom.spec.whatwg.org/#concept-node-adopt-ext">http://dom.spec.whatwg.org/#concept-node-adopt-ext</A> id=the-img-element:concept-node-adopt-ext-2 data-x-internal=concept-node-adopt-ext&gt;adopting steps&lt;/a&gt; are run, if the user
   agent only obtains images on demand, the &lt;code id=the-img-element:the-img-element-14&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element must return to the &lt;a href=#img-none id=the-img-element:img-none-3&gt;unavailable&lt;/a&gt; state.&lt;/p&gt; 
 
   &lt;p&gt;The &lt;dfn id=relevant-mutations&gt;relevant mutations&lt;/dfn&gt; for an &lt;code id=the-img-element:the-img-element-15&gt;&lt;a href=#the-img-element&gt;img&lt;/a&gt;&lt;/code&gt; element are as follows:&lt;/p&gt;
@@ -21661,7 +21669,7 @@
 
   
 
-  &lt;p&gt;If a &lt;code id=the-source-element:the-source-element-4&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt; element is inserted as a child of a &lt;a href=#media-element id=the-source-element:media-element-4&gt;media element&lt;/a&gt; that
+  &lt;p&gt;If a &lt;code id=the-source-element:the-source-element-4&gt;&lt;a href=#the-source-element&gt;source&lt;/a&gt;&lt;/code&gt; &lt;a href=#nodes-are-inserted id=the-source-element:nodes-are-inserted&gt;element is inserted&lt;/a&gt; as a child of a &lt;a href=#media-element id=the-source-element:media-element-4&gt;media element&lt;/a&gt; that
   has no &lt;code id=the-source-element:attr-media-src-2&gt;&lt;a href=#attr-media-src&gt;src&lt;/a&gt;&lt;/code&gt; attribute and whose &lt;code id=the-source-element:dom-media-networkstate&gt;&lt;a href=#dom-media-networkstate&gt;networkState&lt;/a&gt;&lt;/code&gt; has the value &lt;code id=the-source-element:dom-media-network_empty&gt;&lt;a href=#dom-media-network_empty&gt;NETWORK_EMPTY&lt;/a&gt;&lt;/code&gt;, the user agent must invoke the &lt;a href=#media-element id=the-source-element:media-element-5&gt;media
   element&lt;/a&gt;'s &lt;a href=#concept-media-load-algorithm id=the-source-element:concept-media-load-algorithm&gt;resource selection
   algorithm&lt;/a&gt;.&lt;/p&gt;
@@ -22384,9 +22392,9 @@
         other node is the node after &lt;var&gt;pointer&lt;/var&gt;. Initially, let &lt;var&gt;pointer&lt;/var&gt; be the position between the &lt;var&gt;candidate&lt;/var&gt; node and the
         next node, if there are any, or the end of the list, if it is the last node.&lt;/p&gt;
 
-        &lt;p&gt;As nodes are inserted and removed into the &lt;a href=#media-element id=loading-the-media-resource:media-element-22&gt;media element&lt;/a&gt;, &lt;var&gt;pointer&lt;/var&gt; must be updated as follows:&lt;/p&gt;
+        &lt;p&gt;As &lt;a href=#nodes-are-inserted id=loading-the-media-resource:nodes-are-inserted&gt;nodes are inserted&lt;/a&gt; and &lt;a href=#nodes-are-removed id=loading-the-media-resource:nodes-are-removed&gt;removed&lt;/a&gt; into the &lt;a href=#media-element id=loading-the-media-resource:media-element-22&gt;media element&lt;/a&gt;, &lt;var&gt;pointer&lt;/var&gt; must be updated as follows:&lt;/p&gt;
 
-        &lt;dl&gt;&lt;dt&gt;If a new node is inserted between the two nodes that define &lt;var&gt;pointer&lt;/var&gt;&lt;dd&gt;Let &lt;var&gt;pointer&lt;/var&gt; be the point between the node before &lt;var&gt;pointer&lt;/var&gt; and the new node. In other words, insertions at &lt;var&gt;pointer&lt;/var&gt; go after &lt;var&gt;pointer&lt;/var&gt;.&lt;dt&gt;If the node before &lt;var&gt;pointer&lt;/var&gt; is removed&lt;dd&gt;Let &lt;var&gt;pointer&lt;/var&gt; be the point between the node after &lt;var&gt;pointer&lt;/var&gt; and the node before the node after &lt;var&gt;pointer&lt;/var&gt;. In
+        &lt;dl&gt;&lt;dt&gt;If a new &lt;a href=#nodes-are-inserted id=loading-the-media-resource:nodes-are-inserted-2&gt;node is inserted&lt;/a&gt; between the two nodes that define &lt;var&gt;pointer&lt;/var&gt;&lt;dd&gt;Let &lt;var&gt;pointer&lt;/var&gt; be the point between the node before &lt;var&gt;pointer&lt;/var&gt; and the new node. In other words, insertions at &lt;var&gt;pointer&lt;/var&gt; go after &lt;var&gt;pointer&lt;/var&gt;.&lt;dt&gt;If the node before &lt;var&gt;pointer&lt;/var&gt; is removed&lt;dd&gt;Let &lt;var&gt;pointer&lt;/var&gt; be the point between the node after &lt;var&gt;pointer&lt;/var&gt; and the node before the node after &lt;var&gt;pointer&lt;/var&gt;. In
          other words, &lt;var&gt;pointer&lt;/var&gt; doesn't move relative to the remaining nodes.&lt;dt&gt;If the node after &lt;var&gt;pointer&lt;/var&gt; is removed&lt;dd&gt;Let &lt;var&gt;pointer&lt;/var&gt; be the point between the node before &lt;var&gt;pointer&lt;/var&gt; and the node after the node before &lt;var&gt;pointer&lt;/var&gt;. Just
          as with the previous case, &lt;var&gt;pointer&lt;/var&gt; doesn't move relative to the remaining
          nodes.&lt;/dl&gt;

Modified: source
===================================================================
--- source	2014-09-12 18:08:08 UTC (rev 8768)
+++ source	2014-09-12 18:23:12 UTC (rev 8769)
@@ -2108,7 +2108,14 @@
   string, means that the length of the text is zero (i.e. not even containing spaces or &lt;span&gt;control
   characters&lt;/span&gt;).&lt;/p&gt;
 
+  &lt;p&gt;A &lt;dfn data-x=&quot;nodes are inserted&quot;&gt;node &lt;var&gt;A&lt;/var&gt; is inserted&lt;/dfn&gt; into a node &lt;var&gt;B&lt;/var&gt;
+  when the &lt;span data-x=&quot;concept-node-insert-ext&quot;&gt;insertion steps&lt;/span&gt; are invoked with
+  &lt;var&gt;A&lt;/var&gt; as the argument and &lt;var&gt;A&lt;/var&gt;'s new parent is &lt;var&gt;B&lt;/var&gt;. Similarly, a &lt;dfn
+  data-x=&quot;nodes are removed&quot;&gt;node &lt;var&gt;A&lt;/var&gt; is removed&lt;/dfn&gt; from a node &lt;var&gt;B&lt;/var&gt; when the
+  &lt;span data-x=&quot;concept-node-remove-ext&quot;&gt;removing steps&lt;/span&gt; are invoked with &lt;var&gt;A&lt;/var&gt; as the
+  &lt;var&gt;removedNode&lt;/var&gt; argument and &lt;var&gt;B&lt;/var&gt; as the &lt;var&gt;oldParent&lt;/var&gt; argument.&lt;/p&gt;
 
+
   &lt;h4&gt;Scripting&lt;/h4&gt;
 
   &lt;p&gt;The construction &quot;a &lt;code data-x=&quot;&quot;&gt;Foo&lt;/code&gt; object&quot;, where &lt;code data-x=&quot;&quot;&gt;Foo&lt;/code&gt; is
@@ -2904,8 +2911,9 @@
      &lt;li&gt;&lt;dfn&gt;&lt;code&gt;textContent&lt;/code&gt;&lt;/dfn&gt; attribute&lt;/li&gt;
 
      &lt;li&gt;The &lt;dfn data-x=&quot;concept-node-insert&quot;&gt;insert&lt;/dfn&gt;, &lt;dfn data-x=&quot;concept-node-append&quot;&gt;append&lt;/dfn&gt;, &lt;dfn data-x=&quot;concept-node-remove&quot;&gt;remove&lt;/dfn&gt;, &lt;dfn data-x=&quot;concept-node-replace&quot;&gt;replace&lt;/dfn&gt;, and &lt;dfn data-x=&quot;concept-node-adopt&quot;&gt;adopt&lt;/dfn&gt; algorithms for nodes&lt;/li&gt;
-     &lt;li&gt;The &lt;dfn&gt;nodes are inserted&lt;/dfn&gt; and &lt;dfn&gt;nodes are removed&lt;/dfn&gt; concepts&lt;/li&gt;
-     &lt;li&gt;An element's &lt;dfn data-x=&quot;concept-node-adopt-ext&quot;&gt;adopting steps&lt;/dfn&gt;&lt;/li&gt;
+     &lt;li&gt;The &lt;dfn data-x=&quot;concept-node-insert-ext&quot; data-x-href=&quot;<A HREF="http://dom.spec.whatwg.org/#concept-node-insert-ext">http://dom.spec.whatwg.org/#concept-node-insert-ext</A>&quot;&gt;insertion steps&lt;/dfn&gt;,
+             &lt;dfn data-x=&quot;concept-node-remove-ext&quot; data-x-href=&quot;<A HREF="http://dom.spec.whatwg.org/#concept-node-remove-ext">http://dom.spec.whatwg.org/#concept-node-remove-ext</A>&quot;&gt;removing steps&lt;/dfn&gt;,
+         and &lt;dfn data-x=&quot;concept-node-adopt-ext&quot; data-x-href=&quot;<A HREF="http://dom.spec.whatwg.org/#concept-node-adopt-ext">http://dom.spec.whatwg.org/#concept-node-adopt-ext</A>&quot;&gt;adopting steps&lt;/dfn&gt; hooks&lt;/li&gt;
      &lt;li&gt;The &lt;dfn&gt;attribute list&lt;/dfn&gt; concept.&lt;/li&gt;
      &lt;li&gt;The &lt;dfn data-x=&quot;concept-cd-data&quot;&gt;data&lt;/dfn&gt; of a text node.&lt;/li&gt;
 
@@ -27427,7 +27435,7 @@
 
   &lt;div w-nodev&gt;
 
-  &lt;p&gt;If a &lt;code&gt;source&lt;/code&gt; element is inserted as a child of a &lt;span&gt;media element&lt;/span&gt; that
+  &lt;p&gt;If a &lt;code&gt;source&lt;/code&gt; &lt;span data-x=&quot;nodes are inserted&quot;&gt;element is inserted&lt;/span&gt; as a child of a &lt;span&gt;media element&lt;/span&gt; that
   has no &lt;code data-x=&quot;attr-media-src&quot;&gt;src&lt;/code&gt; attribute and whose &lt;code
   data-x=&quot;dom-media-networkState&quot;&gt;networkState&lt;/code&gt; has the value &lt;code
   data-x=&quot;dom-media-NETWORK_EMPTY&quot;&gt;NETWORK_EMPTY&lt;/code&gt;, the user agent must invoke the &lt;span&gt;media
@@ -28496,11 +28504,11 @@
         other node is the node after &lt;var&gt;pointer&lt;/var&gt;. Initially, let &lt;var&gt;pointer&lt;/var&gt; be the position between the &lt;var&gt;candidate&lt;/var&gt; node and the
         next node, if there are any, or the end of the list, if it is the last node.&lt;/p&gt;
 
-        &lt;p&gt;As nodes are inserted and removed into the &lt;span&gt;media element&lt;/span&gt;, &lt;var&gt;pointer&lt;/var&gt; must be updated as follows:&lt;/p&gt;
+        &lt;p&gt;As &lt;span&gt;nodes are inserted&lt;/span&gt; and &lt;span data-x=&quot;nodes are removed&quot;&gt;removed&lt;/span&gt; into the &lt;span&gt;media element&lt;/span&gt;, &lt;var&gt;pointer&lt;/var&gt; must be updated as follows:&lt;/p&gt;
 
         &lt;dl&gt;
 
-         &lt;dt&gt;If a new node is inserted between the two nodes that define &lt;var&gt;pointer&lt;/var&gt;&lt;/dt&gt;
+         &lt;dt&gt;If a new &lt;span data-x=&quot;nodes are inserted&quot;&gt;node is inserted&lt;/span&gt; between the two nodes that define &lt;var&gt;pointer&lt;/var&gt;&lt;/dt&gt;
 
          &lt;dd&gt;Let &lt;var&gt;pointer&lt;/var&gt; be the point between the node before &lt;var&gt;pointer&lt;/var&gt; and the new node. In other words, insertions at &lt;var&gt;pointer&lt;/var&gt; go after &lt;var&gt;pointer&lt;/var&gt;.&lt;/dd&gt;
 

</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023372.html">[html5] r8768 - [e] (0) Oops,	previous checkin got the wrong topic due to a missing topic line A	[...]
</A></li>
	<LI>Next message: <A HREF="023374.html">[html5] r8770 - [e] (0) Updates for secure hosting Affected topics:	HTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23373">[ date ]</a>
              <a href="thread.html#23373">[ thread ]</a>
              <a href="subject.html#23373">[ subject ]</a>
              <a href="author.html#23373">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
