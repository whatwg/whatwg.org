<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r7834 - [e] (0) WebVTT is now being edited by Silvia	Pfeiffer. If you want to follow fur [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7834%20-%20%5Be%5D%20%280%29%20WebVTT%20is%20now%20being%20edited%20by%20Silvia%0A%09Pfeiffer.%20If%20you%20want%20to%20follow%20fur%20%5B...%5D&In-Reply-To=%3C20130414231523.634EF1C84063%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014691.html">
   <LINK REL="Next"  HREF="014693.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r7834 - [e] (0) WebVTT is now being edited by Silvia	Pfeiffer. If you want to follow fur [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7834%20-%20%5Be%5D%20%280%29%20WebVTT%20is%20now%20being%20edited%20by%20Silvia%0A%09Pfeiffer.%20If%20you%20want%20to%20follow%20fur%20%5B...%5D&In-Reply-To=%3C20130414231523.634EF1C84063%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r7834 - [e] (0) WebVTT is now being edited by Silvia	Pfeiffer. If you want to follow fur [...]">whatwg at whatwg.org
       </A><BR>
    <I>Sun Apr 14 16:15:23 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="014691.html">[html5] r7833 - [e] (0) Clarify a number of places that were	ambiguously using the word 'in'. Af [...]
</A></li>
        <LI>Next message: <A HREF="014693.html">[html5] r7835 - [giow] (3) Make adding a cue,	or changing its timings, work when the video is pa [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14692">[ date ]</a>
              <a href="thread.html#14692">[ thread ]</a>
              <a href="subject.html#14692">[ subject ]</a>
              <a href="author.html#14692">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2013-04-14 16:15:22 -0700 (Sun, 14 Apr 2013)
New Revision: 7834

Modified:
   complete.html
   index
   source
Log:
[e] (0) WebVTT is now being edited by Silvia Pfeiffer. If you want to follow further development, please subscribe to <A HREF="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">public-texttracks at w3.org</A>, the WebVTT community group's mailing list.
Affected topics: HTML, Security, Video Text Tracks

Modified: complete.html
===================================================================
--- complete.html	2013-04-14 23:03:21 UTC (rev 7833)
+++ complete.html	2013-04-14 23:15:22 UTC (rev 7834)
@@ -31885,7 +31885,6 @@
   &lt;/table&gt;&lt;/div&gt;
 
 
-&lt;!--TOPIC:Video and Audio--&gt;
   &lt;h5 id=user-interface&gt;&lt;span class=secno&gt;4.8.10.13 &lt;/span&gt;User interface&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=attr-media-controls title=attr-media-controls&gt;&lt;code&gt;controls&lt;/code&gt;&lt;/dfn&gt; attribute is a &lt;a href=#boolean-attribute&gt;boolean
@@ -100619,7 +100618,6 @@
 
 
 
-
   &lt;h2 class=no-num id=references&gt;References&lt;/h2&gt;&lt;!--REFS--&gt;
 
   &lt;p&gt;All references are normative unless marked &quot;Non-normative&quot;.&lt;/p&gt;
@@ -101028,7 +101026,6 @@
    &lt;dt id=refsWEBVTT&gt;[WEBVTT]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://dev.w3.org/html5/webvtt/">http://dev.w3.org/html5/webvtt/</A>&gt;WebVTT&lt;/a&gt;&lt;/cite&gt;, I. Hickson. W3C.&lt;/dd&gt;
 
-
    &lt;dt id=refsWHATWGWIKI&gt;[WHATWGWIKI]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://wiki.whatwg.org/">http://wiki.whatwg.org/</A>&gt;The WHATWG Wiki&lt;/a&gt;&lt;/cite&gt;. WHATWG.&lt;/dd&gt;
 

Modified: index
===================================================================
--- index	2013-04-14 23:03:21 UTC (rev 7833)
+++ index	2013-04-14 23:15:22 UTC (rev 7834)
@@ -31885,7 +31885,6 @@
   &lt;/table&gt;&lt;/div&gt;
 
 
-&lt;!--TOPIC:Video and Audio--&gt;
   &lt;h5 id=user-interface&gt;&lt;span class=secno&gt;4.8.10.13 &lt;/span&gt;User interface&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn id=attr-media-controls title=attr-media-controls&gt;&lt;code&gt;controls&lt;/code&gt;&lt;/dfn&gt; attribute is a &lt;a href=#boolean-attribute&gt;boolean
@@ -100619,7 +100618,6 @@
 
 
 
-
   &lt;h2 class=no-num id=references&gt;References&lt;/h2&gt;&lt;!--REFS--&gt;
 
   &lt;p&gt;All references are normative unless marked &quot;Non-normative&quot;.&lt;/p&gt;
@@ -101028,7 +101026,6 @@
    &lt;dt id=refsWEBVTT&gt;[WEBVTT]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://dev.w3.org/html5/webvtt/">http://dev.w3.org/html5/webvtt/</A>&gt;WebVTT&lt;/a&gt;&lt;/cite&gt;, I. Hickson. W3C.&lt;/dd&gt;
 
-
    &lt;dt id=refsWHATWGWIKI&gt;[WHATWGWIKI]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=<A HREF="http://wiki.whatwg.org/">http://wiki.whatwg.org/</A>&gt;The WHATWG Wiki&lt;/a&gt;&lt;/cite&gt;. WHATWG.&lt;/dd&gt;
 

Modified: source
===================================================================
--- source	2013-04-14 23:03:21 UTC (rev 7833)
+++ source	2013-04-14 23:15:22 UTC (rev 7834)
@@ -34287,4317 +34287,7 @@
 
   &lt;/div&gt;
 
-&lt;!--END complete--&gt;&lt;!--END dev-html--&gt;
-&lt;!--START webvtt--&gt;
 
-  &lt;!-- v2 feature requests:
-
-         Explicitly allow random comments on the line after the
-         signature line, for metadata, copyrights, etc.
-
-         Inline CSS, maybe as below. See <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=15023">http://www.w3.org/Bugs/Public/show_bug.cgi?id=15023</A>
-
-            STYLE
-            ::cue(.narration) { color: blue; }
-
-         Default settings, maybe as below. See <A HREF="http://www.w3.org/Bugs/Public/show_bug.cgi?id=15024">http://www.w3.org/Bugs/Public/show_bug.cgi?id=15024</A>
-
-            DEFAULTS
-            line:-1 align:middle size:50%
-
-  --&gt;
-
-
-  &lt;h2&gt;Introduction&lt;/h2&gt;
-
-  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;WebVTT&lt;/dfn&gt; format (Web Video Text Tracks) is a
-  format intended for marking up external text track resources.&lt;/p&gt;
-
-  &lt;p&gt;The main use for WebVTT files is captioning video content. Here
-  is a sample file that captions an interview:&lt;/p&gt;
-
-  &lt;pre&gt;WEBVTT
-
-00:11.000 --&gt; 00:13.000
-&lt;v Roger Bingham&gt;We are in New York City
-
-00:13.000 --&gt; 00:16.000
-&lt;v Roger Bingham&gt;We're actually at the Lucern Hotel, just down the street
-
-00:16.000 --&gt; 00:18.000
-&lt;v Roger Bingham&gt;from the American Museum of Natural History
-
-00:18.000 --&gt; 00:20.000
-&lt;v Roger Bingham&gt;And with me is Neil deGrasse Tyson
-
-00:20.000 --&gt; 00:22.000
-&lt;v Roger Bingham&gt;Astrophysicist, Director of the Hayden Planetarium
-
-00:22.000 --&gt; 00:24.000
-&lt;v Roger Bingham&gt;at the AMNH.
-
-00:24.000 --&gt; 00:26.000
-&lt;v Roger Bingham&gt;Thank you for walking down here.
-
-00:27.000 --&gt; 00:30.000
-&lt;v Roger Bingham&gt;And I want to do a follow-up on the last conversation we did.
-
-00:30.000 --&gt; 00:31.500 align:end size:50%
-&lt;v Roger Bingham&gt;When we e-mailed&mdash;
-
-00:30.500 --&gt; 00:32.500 align:start size:50%
-&lt;v Neil deGrasse Tyson&gt;Didn't we talk about enough in that conversation?
-
-00:32.000 --&gt; 00:35.500 align:end size:50%
-&lt;v Roger Bingham&gt;No! No no no no; 'cos 'cos obviously 'cos
-
-00:32.500 --&gt; 00:33.500 align:start size:50%
-&lt;v Neil deGrasse Tyson&gt;&lt;i&gt;Laughs&lt;/i&gt;
-
-00:35.500 --&gt; 00:38.000
-&lt;v Roger Bingham&gt;You know I'm so excited my glasses are falling off here.&lt;/pre&gt;
-
-
-
-  &lt;h3&gt;Cues with multiple lines&lt;/h3&gt;
-
-  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
-
-  &lt;p&gt;Line breaks in cues are honored. User agents will also insert extra line breaks if necessary to
-  fit the cue in the cue's width. In general, therefore, authors are encouraged to write cues all on
-  one line except when a line break is definitely necessary, and to not manually line-wrap for
-  aesthetic reasons alone.&lt;/p&gt;
-
-  &lt;div class=&quot;example&quot;&gt;
-
-   &lt;p&gt;These captions on a public service announcement video demonstrate line breaking:&lt;/p&gt;
-
-   &lt;pre&gt;WEBVTT
-
-00:01.000 --&gt; 00:04.000
-Never drink liquid nitrogen.
-
-00:05.000 --&gt; 00:09.000
-&mdash; It will perforate your stomach.
-&mdash; You could die.
-
-00:10.000 --&gt; 00:14.000
-The Organisation for Sample Public Service Announcements accepts no liability for the content of this advertisement, or for the consequences of any actions taken on the basis of the information provided.&lt;/pre&gt;
-
-   &lt;p&gt;The first cue is simple, it will probably just display on one line. The second will take two
-   lines, one for each speaker. The third will wrap to fit the width of the video, possibly taking
-   multiple lines. For example, the three cues could look like this:&lt;/p&gt;
-
-&lt;!-- 50 --&gt;
-   &lt;pre&gt;           Never drink liquid nitrogen.
-
-        &mdash; It will perforate your stomach.
-                &mdash; You could die.
-
-    The Organisation for Sample Public Service
-    Announcements accepts no liability for the
-    content of this advertisement, or for the
-     consequences of any actions taken on the
-        basis of the information provided.&lt;/pre&gt;
-
-   &lt;p&gt;If the width of the cues is smaller, the first two cues could wrap as well, as in the following
-   example. Note how the second cue's explicit line break is still honored, however:&lt;/p&gt;
-
-&lt;!-- 25 --&gt;
-   &lt;pre&gt;       Never drink
-    liquid nitrogen.
-
-  &mdash; It will perforate
-      your stomach.
-    &mdash; You could die.
-
-  The Organisation for
-  Sample Public Service
-  Announcements accepts
-  no liability for the
-     content of this
-  advertisement, or for
-   the consequences of
-  any actions taken on
-    the basis of the
-  information provided.&lt;/pre&gt;
-
-   &lt;p&gt;Also notice how the wrapping is done so as to keep the line lengths balanced.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-  &lt;h3&gt;Comments&lt;/h3&gt;
-
-  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
-
-  &lt;p&gt;Comments can be included in WebVTT files.&lt;/p&gt;
-
-  &lt;p&gt;Comments are just blocks that start with the word &quot;&lt;code title=&quot;&quot;&gt;NOTE&lt;/code&gt;&quot; (followed by a
-  space or newline). A comment ends at the first blank line.&lt;/p&gt;
-
-  &lt;div class=&quot;example&quot;&gt;
-
-   &lt;p&gt;Here, a one-line comment is used to note a possible problem with a cue.&lt;/p&gt;
-
-   &lt;pre&gt;WEBVTT
-
-00:01.000 --&gt; 00:04.000
-Never drink liquid nitrogen.
-
-NOTE I'm not sure the timing is right on the following cue.
-
-00:05.000 --&gt; 00:09.000
-&mdash; It will perforate your stomach.
-&mdash; You could die.&lt;/pre&gt;
-
-  &lt;/div&gt;
-
-  &lt;div class=&quot;example&quot;&gt;
-
-   &lt;p&gt;In this example, the author has written many comments.&lt;/p&gt;
-
-   &lt;pre&gt;WEBVTT
-
-NOTE
-This file was written by Jill. I hope
-you enjoy reading it. Some things to
-bear in mind:
-- I was lip-reading, so the cues may
-not be 100% accurate
-- I didn't pay too close attention to
-when the cues should start or end.
-
-00:01.000 --&gt; 00:04.000
-Never drink liquid nitrogen.
-
-NOTE check next cue
-
-00:05.000 --&gt; 00:09.000
-&mdash; It will perforate your stomach.
-&mdash; You could die.
-
-NOTE end of file&lt;/pre&gt;
-
-  &lt;/div&gt;
-  
-
-  &lt;h3&gt;Other features&lt;/h3&gt;
-
-  &lt;p&gt;&lt;i&gt;This section is non-normative.&lt;/i&gt;&lt;/p&gt;
-
-  &lt;p&gt;WebVTT also supports some less-often used features.&lt;/p&gt;
-
-  &lt;div class=&quot;example&quot;&gt;
-
-   &lt;p&gt;In this example, one of the cues has an identifier:&lt;/p&gt;
-
-   &lt;pre&gt;WEBVTT
-
-00:00.000 --&gt; 00:02.000
-That's an, an, that's an L!
-
-transcription-credit
-00:04.000 --&gt; 00:05.000
-Transcribed by Celestials&trade;&lt;/pre&gt;
-
-   &lt;p&gt;This allows a style sheet to specifically target that cue:&lt;/p&gt;
-
-   &lt;pre&gt;::cue(#transcription-credit) { color: red }&lt;/pre&gt;
-
-  &lt;/div&gt;
-
-  &lt;div class=&quot;example&quot;&gt;
-
-   &lt;p&gt;In this example, each cue says who is talking using voice spans. In the first cue, the span
-   specifying the speaker is also annotated with two classes, &quot;first&quot; and &quot;loud&quot;. In the third cue,
-   there is also some italics text (not associated with a specific speaker). The last cue is
-   annotated with just the class &quot;loud&quot;.&lt;/p&gt;
-
-   &lt;pre&gt;WEBVTT
-
-00:00.000 --&gt; 00:02.000
-&lt;v.first.loud Esme&gt;It's a blue apple tree!
-
-00:02.000 --&gt; 00:04.000
-&lt;v Mary&gt;No way!
-
-00:04.000 --&gt; 00:06.000
-&lt;v Esme&gt;Hee!&lt;/v&gt; &lt;i&gt;laughter&lt;/i&gt;
-
-00:06.000 --&gt; 00:08.000
-&lt;v.loud Mary&gt;That's awesome!&lt;/pre&gt;
-
-   &lt;p&gt;Notice that as a special exception, the voice spans don't have to be closed if they cover the
-   entire cue text.&lt;/p&gt;
-
-   &lt;p&gt;Style sheets can style these spans:&lt;/p&gt;
-
-   &lt;pre&gt;::cue(v[voice=&quot;Esme&quot;]) { color: blue }
-::cue(v[voice=&quot;Mary&quot;]) { color: green }
-::cue(i) { font-style: italic }
-::cue(.loud) { font-size: 2em }&lt;/pre&gt;
-
-  &lt;/div&gt;
-
-
-  &lt;h2&gt;Conformance&lt;/h2&gt;
-
-  &lt;p class=&quot;XXX&quot;&gt;This section remains to be written. In the meantime, please see the HTML standard. &lt;a href=&quot;#refsHTML&quot;&gt;[HTML]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;h3&gt;Dependencies&lt;/h3&gt;
-
-  &lt;p&gt;This specification relies upon the following terms defined in the
-  HTML standard. &lt;a href=&quot;#refsHTML&quot;&gt;[HTML]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;ul class=&quot;brief&quot;&gt;
-   &lt;li&gt;&lt;dfn&gt;MIME type&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Decoded as UTF-8, with error handling&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Case-sensitive&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Collect a sequence of characters&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;ASCII digits&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Space character&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Skip whitespace&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Split a string on spaces&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;HTML namespace&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Media element&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Current playback position&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Expose a user interface to the user&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;List of text tracks&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Text track&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Text track kind&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Text track mode&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Text track showing&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Text track cue&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Text track list of cues&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Text track cue order&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Text track cue identifier&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Text track cue start time&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Text track cue end time&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Text track cue pause-on-exit flag&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Text track cue text&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Text track cue active flag&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Text track cue display state&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Rules for updating the text track rendering&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;Rules for rendering the cue in isolation&lt;/dfn&gt;
-   &lt;li&gt;&lt;dfn&gt;&lt;code&gt;TextTrackCue&lt;/code&gt;&lt;/dfn&gt; interface
-  &lt;/ul&gt;
-
-
-  &lt;h2&gt;Data model&lt;/h2&gt;
-
-  &lt;p&gt;WebVTT cues are HTML &lt;span title=&quot;text track cue&quot;&gt;text track cues&lt;/span&gt; that additionally
-  consist of the following: &lt;a href=&quot;#refsHTML&quot;&gt;[HTML]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;text track cue writing direction&quot;&gt;A writing direction&lt;/dfn&gt;
-   &lt;dd&gt;
-    &lt;p&gt;A writing direction, either &lt;dfn title=&quot;text track cue horizontal writing
-    direction&quot;&gt;horizontal&lt;/dfn&gt; (a line extends horizontally and is positioned vertically, with
-    consecutive lines displayed below each other), &lt;dfn title=&quot;text track cue vertical growing left
-    writing direction&quot;&gt;vertical growing left&lt;/dfn&gt; (a line extends vertically and is positioned
-    horizontally, with consecutive lines displayed to the left of each other&lt;!-- used for east
-    asian--&gt;), or &lt;dfn title=&quot;text track cue vertical growing right writing direction&quot;&gt;vertical
-    growing right&lt;/dfn&gt; (a line extends vertically and is positioned horizontally, with consecutive
-    lines displayed to the right of each other&lt;!-- used for mongolian --&gt;).&lt;/p&gt;
-
-    &lt;p&gt;If the &lt;span title=&quot;text track cue writing direction&quot;&gt;writing direction&lt;/span&gt; is &lt;span
-    title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;, then &lt;span title=&quot;text
-    track cue line position&quot;&gt;line position&lt;/span&gt; percentages are relative to the height of the
-    video, and &lt;span title=&quot;text track cue text position&quot;&gt;text position&lt;/span&gt; and &lt;span title=&quot;text
-    track cue size&quot;&gt;size&lt;/span&gt; percentages are relative to the width of the video.&lt;/p&gt;
-
-    &lt;p&gt;Otherwise, &lt;span title=&quot;text track cue line position&quot;&gt;line position&lt;/span&gt; percentages are
-    relative to the width of the video, and &lt;span title=&quot;text track cue text position&quot;&gt;text
-    position&lt;/span&gt; and &lt;span title=&quot;text track cue size&quot;&gt;size&lt;/span&gt; percentages are relative to
-    the height of the video.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;text track cue snap-to-lines flag&quot;&gt;A snap-to-lines flag&lt;/dfn&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;A boolean indicating whether the &lt;span title=&quot;text track cue line position&quot;&gt;line's
-    position&lt;/span&gt; is a line position (positioned to a multiple of the line dimensions of the first
-    line of the cue), or whether it is a percentage of the dimension of the video.&lt;/p&gt;
-
-    &lt;p&gt;Cues whose &lt;span&gt;text track cue snap-to-lines flag&lt;/span&gt; is set will be placed within the
-    title-safe area on user agents that use overscan. Cues with the flag unset will be positioned as
-    requested (modulo overlap avoidance if multiple cues are in the same place).&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;text track cue line position&quot;&gt;A line position&lt;/dfn&gt;
-   &lt;dd&gt;
-    &lt;p&gt;Either a number giving the position of the lines of the cue, to be interpreted as defined by
-    the &lt;span title=&quot;text track cue writing direction&quot;&gt;writing direction&lt;/span&gt; and &lt;span
-    title=&quot;text track cue snap-to-lines flag&quot;&gt;snap-to-lines flag&lt;/span&gt; of the cue, or the special
-    value &lt;dfn title=&quot;text track cue automatic line position&quot;&gt;auto&lt;/dfn&gt;, which means the position
-    is to depend on the other active tracks.&lt;/p&gt;
-
-    &lt;p&gt;A &lt;span&gt;text track cue&lt;/span&gt; has a &lt;dfn&gt;text track cue computed line position&lt;/dfn&gt; whose
-    value is that returned by the following algorithm, which is defined in terms of the other
-    aspects of the cue:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;If the &lt;span&gt;text track cue line position&lt;/span&gt; is numeric, the &lt;span&gt;text track cue
-     snap-to-lines flag&lt;/span&gt; of the &lt;span&gt;text track cue&lt;/span&gt; is not set, and the &lt;span&gt;text
-     track cue line position&lt;/span&gt; is negative or greater than 100, then return 100 and abort these
-     steps.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If the &lt;span&gt;text track cue line position&lt;/span&gt; is numeric, return the value of the
-     &lt;span&gt;text track cue line position&lt;/span&gt; and abort these steps. (Either the &lt;span&gt;text track
-     cue snap-to-lines flag&lt;/span&gt; is set, so any value, not just those in the range 0..100, is
-     valid, or the value is in the range 0..100 and is thus valid regardless of the value of that
-     flag.)&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If the &lt;span&gt;text track cue snap-to-lines flag&lt;/span&gt; of the &lt;span&gt;text track cue&lt;/span&gt;
-     is not set, return the value 100 and abort these steps. (The &lt;span&gt;text track cue line
-     position&lt;/span&gt; is the special value &lt;span title=&quot;text track cue automatic line
-     position&quot;&gt;auto&lt;/span&gt;.)&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; be the &lt;span&gt;text track cue&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; is not in a &lt;span title=&quot;text track list of cues&quot;&gt;list of
-     cues&lt;/span&gt; of a &lt;span&gt;text track&lt;/span&gt;, or if that &lt;span&gt;text track&lt;/span&gt; is not in the
-     &lt;span&gt;list of text tracks&lt;/span&gt; of a &lt;span&gt;media element&lt;/span&gt;, return &amp;#x2212;1 and abort
-     these steps.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;track&lt;/var&gt; be the &lt;span&gt;text track&lt;/span&gt; whose &lt;span title=&quot;text
-     track list of cues&quot;&gt;list of cues&lt;/span&gt; the &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; is in.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;n&lt;/var&gt; be the number of &lt;span title=&quot;text track&quot;&gt;text tracks&lt;/span&gt;
-     whose &lt;span&gt;text track mode&lt;/span&gt; is &lt;span title=&quot;text track showing&quot;&gt;showing&lt;/span&gt; and that
-     are in the &lt;span&gt;media element&lt;/span&gt;'s &lt;span&gt;list of text tracks&lt;/span&gt; before &lt;var
-     title=&quot;&quot;&gt;track&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Increment &lt;var title=&quot;&quot;&gt;n&lt;/var&gt; by one.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Negate &lt;var title=&quot;&quot;&gt;n&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;n&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;text track cue text position&quot;&gt;A text position&lt;/dfn&gt;
-   &lt;dd&gt;
-    &lt;p&gt;A number giving the position of the text of the cue within each line, to be interpreted as a
-    percentage of the video, as defined by the &lt;span title=&quot;text track cue writing
-    direction&quot;&gt;writing direction&lt;/span&gt;.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;text track cue size&quot;&gt;A size&lt;/dfn&gt;
-   &lt;dd&gt;
-    &lt;p&gt;A number giving the size of the box within which the text of each line of the cue is to be
-    aligned, to be interpreted as a percentage of the video, as defined by the &lt;span title=&quot;text
-    track cue writing direction&quot;&gt;writing direction&lt;/span&gt;.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;text track cue alignment&quot;&gt;An alignment&lt;/dfn&gt;
-   &lt;dd&gt;
-
-    &lt;p&gt;An alignment for the text of each line of the cue, one of:&lt;/p&gt;
-
-    &lt;dl&gt;
-
-     &lt;dt&gt;&lt;dfn title=&quot;text track cue start alignment&quot;&gt;Start alignment&lt;/dfn&gt;&lt;/dt&gt;
-     &lt;dd&gt;The text is aligned towards its start side.&lt;/dd&gt;
-
-     &lt;dt&gt;&lt;dfn title=&quot;text track cue middle alignment&quot;&gt;Middle alignment&lt;/dfn&gt;&lt;/dt&gt;
-     &lt;dd&gt;The text is aligned centered between its start and end sides.&lt;/dd&gt;
-
-     &lt;dt&gt;&lt;dfn title=&quot;text track cue end alignment&quot;&gt;End alignment&lt;/dfn&gt;&lt;/dt&gt;
-     &lt;dd&gt;The text is aligned towards its end side.&lt;/dd&gt;
-
-     &lt;dt&gt;&lt;dfn title=&quot;text track cue left alignment&quot;&gt;Left alignment&lt;/dfn&gt;&lt;/dt&gt;
-     &lt;dd&gt;The text is aligned to the left.&lt;/dd&gt;
-
-     &lt;dt&gt;&lt;dfn title=&quot;text track cue right alignment&quot;&gt;Right alignment&lt;/dfn&gt;&lt;/dt&gt;
-     &lt;dd&gt;The text is aligned to the right.&lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-    &lt;p&gt;Which sides are the start and end sides depends on the Unicode bidirectional algorithm and
-    the &lt;span title=&quot;text track cue writing direction&quot;&gt;writing direction&lt;/span&gt;. &lt;a
-    href=&quot;#refsBIDI&quot;&gt;[BIDI]&lt;/a&gt;&lt;/p&gt;
-
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-  &lt;p&gt;The associated &lt;span&gt;rules for updating the text track rendering&lt;/span&gt; of WebVTT &lt;span
-  title=&quot;text track cue&quot;&gt;text track cues&lt;/span&gt; are the &lt;span&gt;rules for updating the display of
-  WebVTT text tracks&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;p&gt;When a WebVTT &lt;span&gt;text track cue&lt;/span&gt; whose &lt;span title=&quot;text track cue active flag&quot;&gt;active
-  flag&lt;/span&gt; is set has its &lt;span title=&quot;text track cue writing direction&quot;&gt;writing
-  direction&lt;/span&gt;, &lt;span title=&quot;text track cue snap-to-lines flag&quot;&gt;snap-to-lines flag&lt;/span&gt;, &lt;span
-  title=&quot;text track cue line position&quot;&gt;line position&lt;/span&gt;, &lt;span title=&quot;text track cue text
-  position&quot;&gt;text position&lt;/span&gt;, &lt;span title=&quot;text track cue size&quot;&gt;size&lt;/span&gt;, &lt;span title=&quot;text
-  track cue alignment&quot;&gt;alignment&lt;/span&gt;, or &lt;span title=&quot;text track cue text&quot;&gt;text&lt;/span&gt; change
-  value, then the user agent must empty the &lt;span&gt;text track cue display state&lt;/span&gt;, and then
-  immediately run the &lt;span&gt;text track&lt;/span&gt;'s &lt;span&gt;rules for updating the display of WebVTT text
-  tracks&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-  &lt;h2&gt;The WebVTT file format&lt;/h2&gt;
-
-  &lt;h3&gt;Syntax&lt;/h3&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT file&lt;/dfn&gt; must consist of a &lt;span&gt;WebVTT file
-  body&lt;/span&gt; encoded as UTF-8 and labeled with the &lt;span&gt;MIME
-  type&lt;/span&gt; &lt;code&gt;text/vtt&lt;/code&gt;. &lt;a href=&quot;#refsRFC3629&quot;&gt;[RFC3629]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT file body&lt;/dfn&gt; consists of the following
-  components, in the following order:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;An optional U+FEFF BYTE ORDER MARK (BOM) character.&lt;/li&gt;
-
-   &lt;li&gt;The string &quot;&lt;code title=&quot;&quot;&gt;WEBVTT&lt;/code&gt;&quot;.&lt;/li&gt;
-
-   &lt;li&gt;Optionally, either a U+0020 SPACE character or a U+0009
-   CHARACTER TABULATION (tab) character followed by any number of
-   characters that are not U+000A LINE FEED (LF) or U+000D CARRIAGE
-   RETURN (CR) characters.&lt;/li&gt; &lt;!-- allows for Emacs line --&gt;
-
-   &lt;li&gt;Two or more &lt;span title=&quot;WebVTT line terminator&quot;&gt;WebVTT line
-   terminators&lt;/span&gt;.&lt;/li&gt; &lt;!-- the first one to terminate the magic
-   line, the second one to terminate the header block: in the future,
-   we can add a metadata block before the first blank line --&gt;
-
-   &lt;li&gt;Zero or more &lt;span title=&quot;WebVTT cue&quot;&gt;WebVTT cues&lt;/span&gt; and &lt;span title=&quot;WebVTT
-   comment&quot;&gt;WebVTT comments&lt;/span&gt; separated from each other by two or more &lt;span title=&quot;WebVTT
-   line terminator&quot;&gt;WebVTT line terminators&lt;/span&gt;.&lt;/li&gt;
-
-   &lt;li&gt;Zero or more &lt;span title=&quot;WebVTT line terminator&quot;&gt;WebVTT line
-   terminators&lt;/span&gt;.&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue&lt;/dfn&gt; consists of the following components, in
-  the given order:&lt;/p&gt;
-
-  &lt;ol&gt;
-   &lt;li&gt;Optionally, a &lt;span&gt;WebVTT cue identifier&lt;/span&gt; followed by a &lt;span&gt;WebVTT line terminator&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;&lt;span&gt;WebVTT cue timings&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;Optionally, one or more U+0020 SPACE characters or U+0009 CHARACTER TABULATION (tab) characters followed by &lt;span&gt;WebVTT cue settings&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT line terminator&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;The &lt;dfn&gt;cue payload&lt;/dfn&gt;: either &lt;span&gt;WebVTT cue text&lt;/span&gt;, &lt;span&gt;WebVTT chapter title text&lt;/span&gt;, or &lt;span&gt;WebVTT metadata text&lt;/span&gt;, but it must not contain the substring &quot;&lt;code title=&quot;&quot;&gt;--&gt;&lt;/code&gt;&quot; (U+002D HYPHEN-MINUS, U+002D HYPHEN-MINUS, U+003E GREATER-THAN SIGN).&lt;/li&gt;
-  &lt;/ol&gt;
-
-  &lt;p class=&quot;note&quot;&gt;A &lt;span&gt;WebVTT cue&lt;/span&gt; corresponds to one piece
-  of time-aligned text or data in the &lt;span&gt;WebVTT file&lt;/span&gt;, for
-  example one subtitle. The &lt;span&gt;cue payload&lt;/span&gt; is the text or
-  data associated with the cue.&lt;/p&gt;
-
-  &lt;p&gt;&lt;span&gt;WebVTT chapter title text&lt;/span&gt; is syntactically a subset
-  of &lt;span&gt;WebVTT cue text&lt;/span&gt;, and &lt;span&gt;WebVTT cue text&lt;/span&gt; is
-  syntactically a subset of &lt;span&gt;WebVTT metadata text&lt;/span&gt;.
-  Conformance checkers, when validating &lt;span&gt;WebVTT&lt;/span&gt; files, may
-  offer to restrict all cues to only having &lt;span&gt;WebVTT chapter title
-  text&lt;/span&gt; or &lt;span&gt;WebVTT cue text&lt;/span&gt; as their &lt;span&gt;cue
-  payload&lt;/span&gt;; &lt;span&gt;WebVTT metadata text&lt;/span&gt; cues are only
-  useful for scripted applications (using the &lt;code
-  title=&quot;dom-TextTrack-kind-metadata&quot;&gt;metadata&lt;/code&gt; &lt;span&gt;text
-  track kind&lt;/span&gt;).&lt;/p&gt;
-
-  &lt;p&gt;A &lt;span&gt;WebVTT file&lt;/span&gt; whose cues all have a &lt;span&gt;cue
-  payload&lt;/span&gt; that is &lt;span&gt;WebVTT chapter title text&lt;/span&gt; is
-  said to be a &lt;dfn&gt;WebVTT file using chapter title text&lt;/dfn&gt;.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;span&gt;WebVTT file&lt;/span&gt; whose cues all have a &lt;span&gt;cue
-  payload&lt;/span&gt; that is &lt;span&gt;WebVTT cue text&lt;/span&gt; is said to be a
-  &lt;dfn&gt;WebVTT file using cue text&lt;/dfn&gt;. By definition, any file that
-  is a &lt;span&gt;WebVTT file using chapter title text&lt;/span&gt; is also a
-  &lt;span&gt;WebVTT file using cue text&lt;/span&gt;.&lt;/p&gt;
-
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT comment&lt;/dfn&gt; consists of the  following components, in
-  the given order:&lt;/p&gt;
-
-  &lt;ol&gt;
-   &lt;li&gt;The string &quot;&lt;code title=&quot;&quot;&gt;NOTE&lt;/code&gt;&quot;.&lt;/li&gt;
-   &lt;li&gt;Optionally, the following components, in the given order:
-    &lt;ol&gt;
-     &lt;li&gt;Either:
-      &lt;ul&gt;
-       &lt;li&gt;A U+0020 SPACE character or U+0009 CHARACTER TABULATION (tab) character.&lt;/li&gt;
-       &lt;li&gt;A &lt;span&gt;WebVTT line terminator&lt;/span&gt;.&lt;/li&gt;
-      &lt;/ul&gt;
-     &lt;li&gt;Any sequence of zero or more characters other than U+000A LINE FEED (LF) characters and
-     U+000D CARRIAGE RETURN (CR) characters, each optionally separated from the next by a
-     &lt;span&gt;WebVTT line terminator&lt;/span&gt;, except that the entire resulting string must not contain
-     the substring &quot;&lt;code title=&quot;&quot;&gt;--&gt;&lt;/code&gt;&quot; (U+002D HYPHEN-MINUS, U+002D HYPHEN-MINUS, U+003E GREATER-THAN SIGN).
-    &lt;/ol&gt;
-   &lt;/li&gt;
-  &lt;/ol&gt;
-
-  &lt;p class=&quot;note&quot;&gt;A &lt;span&gt;WebVTT comment&lt;/span&gt; is ignored by the parser.&lt;/p&gt;
-
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT line terminator&lt;/dfn&gt; consists of one of the
-  following:&lt;/p&gt;
-
-  &lt;ul class=&quot;brief&quot;&gt;
-   &lt;li&gt;A U+000D CARRIAGE RETURN U+000A LINE FEED (CRLF) character pair.&lt;/li&gt;
-   &lt;li&gt;A single U+000A LINE FEED (LF) character.&lt;/li&gt;
-   &lt;li&gt;A single U+000D CARRIAGE RETURN (CR) character.&lt;/li&gt;
-  &lt;/ul&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue identifier&lt;/dfn&gt; is any sequence of one or more
-  characters not containing the substring &quot;&lt;code title=&quot;&quot;&gt;--&gt;&lt;/code&gt;&quot;
-  (U+002D HYPHEN-MINUS, U+002D HYPHEN-MINUS, U+003E GREATER-THAN
-  SIGN), nor containing any U+000A LINE FEED (LF) characters or U+000D
-  CARRIAGE RETURN (CR) characters.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;A &lt;span&gt;WebVTT cue identifier&lt;/span&gt; can be used to
-  reference a specific cue, for example from script or CSS.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;WebVTT cue timings&lt;/dfn&gt; part of a &lt;span&gt;WebVTT
-  cue&lt;/span&gt; consists of the following components, in the given
-  order:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;!-- we could allow leading and trailing spaces and tabs, and make
-   the space between the arrow either optional or allow multiple
-   spaces or tabs --&gt;
-
-   &lt;li&gt;A &lt;span&gt;WebVTT timestamp&lt;/span&gt; representing the start time
-   offset of the cue. The time represented by this &lt;span&gt;WebVTT
-   timestamp&lt;/span&gt; must be greater than or equal to the start time
-   offsets of all previous cues in the file.&lt;/li&gt;
-
-   &lt;li&gt;One or more U+0020 SPACE characters or U+0009 CHARACTER
-   TABULATION (tab) characters.&lt;/li&gt;
-
-   &lt;li&gt;The string &quot;&lt;code title=&quot;&quot;&gt;--&gt;&lt;/code&gt;&quot; (U+002D HYPHEN-MINUS,
-   U+002D HYPHEN-MINUS, U+003E GREATER-THAN SIGN).&lt;/li&gt;
-
-   &lt;li&gt;One or more U+0020 SPACE characters or U+0009 CHARACTER
-   TABULATION (tab) characters.&lt;/li&gt;
-
-   &lt;li&gt;A &lt;span&gt;WebVTT timestamp&lt;/span&gt; representing the end time
-   offset of the cue. The time represented by this &lt;span&gt;WebVTT
-   timestamp&lt;/span&gt; must be greater than the start time offset of the
-   cue.&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p class=&quot;note&quot;&gt;The &lt;span&gt;WebVTT cue timings&lt;/span&gt; give the start
-  and end offsets of the &lt;span&gt;WebVTT cue&lt;/span&gt;. Different cues can
-  overlap. Cues are always listed ordered by their start time.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;span&gt;WebVTT file&lt;/span&gt; whose cues all have an end time offset
-  &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; greater than or equal to the end time offsets
-  of all the cues whose start time offsets are less than &lt;var
-  title=&quot;&quot;&gt;x&lt;/var&gt; is said to be a &lt;dfn&gt;WebVTT file using only nested
-  cues&lt;/dfn&gt;.&lt;/p&gt;
-
-  &lt;div class=&quot;example&quot;&gt;
-
-   &lt;p&gt;The following example matches this definition:&lt;/p&gt;
-
-  &lt;pre&gt;WEBVTT
-
-00:00.000 --&gt; 01:24.000
-Introduction
-
-00:00.000 --&gt; 00:44.000
-Topics
-
-00:44.000 --&gt; 01:19.000
-Presenters
-
-01:24.000 --&gt; 05:00.000
-Scrolling Effects
-
-01:35.000 --&gt; 03:00.000
-Achim's Demo
-
-03:00.000 --&gt; 05:00.000
-Timeline Panel&lt;/pre&gt;
-
-   &lt;p&gt;Notice how you can express the cues in this WebVTT file as a
-   tree structure:&lt;/p&gt;
-
-   &lt;ul&gt;
-    &lt;li&gt;WebVTT file
-     &lt;ul&gt;
-      &lt;li&gt;Introduction
-       &lt;ul&gt;
-        &lt;li&gt;Topics
-        &lt;li&gt;Presenters
-       &lt;/ul&gt;
-      &lt;/li&gt;
-      &lt;li&gt;Scrolling Effects
-       &lt;ul&gt;
-        &lt;li&gt;Achim's Demo
-        &lt;li&gt;Timeline Panel
-       &lt;/ul&gt;
-      &lt;/li&gt;
-     &lt;/ul&gt;
-    &lt;/li&gt;
-   &lt;/ul&gt;
-
-   &lt;p&gt;If the file has cues that can't be expressed in this fashion,
-   then they don't match the definition of a &lt;span&gt;WebVTT file using
-   only nested cues&lt;/span&gt;. For example:&lt;/p&gt;
-
-  &lt;pre&gt;WEBVTT
-
-00:00.000 --&gt; 01:00.000
-The First Minute
-
-00:30.000 --&gt; 01:30.000
-The Final Minute&lt;/pre&gt;
-
-   &lt;p&gt;In this ninety-second example, the two cues partly overlap, with
-   the first ending before the second ends and the second starting
-   before the first ends. This therefore is not a &lt;span&gt;WebVTT file
-   using only nested cues&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT timestamp&lt;/dfn&gt; representing a time in seconds and
-  fractions of a second is a &lt;span&gt;WebVTT timestamp&lt;/span&gt;
-  representing hours &lt;var
-  title=&quot;&quot;&gt;hours&lt;/var&gt;, minutes &lt;var title=&quot;&quot;&gt;minutes&lt;/var&gt;, seconds
-  &lt;var title=&quot;&quot;&gt;seconds&lt;/var&gt;, and thousandths of a second &lt;var
-  title=&quot;&quot;&gt;seconds-frac&lt;/var&gt;, calculated as follows:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;seconds&lt;/var&gt; be the integer part of the
-   time.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;seconds-frac&lt;/var&gt; be the fractional
-   component of the time, expressed as the digits of the decimal
-   fraction given to three decimal digits.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;seconds&lt;/var&gt; is greater than 59, then let
-   &lt;var title=&quot;&quot;&gt;minutes&lt;/var&gt; be the integer component of &lt;var
-   title=&quot;&quot;&gt;seconds&lt;/var&gt; divided by sixty, and then let &lt;var
-   title=&quot;&quot;&gt;seconds&lt;/var&gt; be the remainder of dividing &lt;var
-   title=&quot;&quot;&gt;seconds&lt;/var&gt; divided by sixty. Otherwise, let &lt;var
-   title=&quot;&quot;&gt;minutes&lt;/var&gt; be zero.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;minutes&lt;/var&gt; is greater than 59, then let
-   &lt;var title=&quot;&quot;&gt;hours&lt;/var&gt; be the integer component of &lt;var
-   title=&quot;&quot;&gt;minutes&lt;/var&gt; divided by sixty, and then let &lt;var
-   title=&quot;&quot;&gt;minutes&lt;/var&gt; be the remainder of dividing &lt;var
-   title=&quot;&quot;&gt;minutes&lt;/var&gt; divided by sixty. Otherwise, let &lt;var
-   title=&quot;&quot;&gt;hours&lt;/var&gt; be zero.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;A &lt;span&gt;WebVTT timestamp&lt;/span&gt; representing hours &lt;var
-  title=&quot;&quot;&gt;hours&lt;/var&gt;, minutes &lt;var title=&quot;&quot;&gt;minutes&lt;/var&gt;, seconds
-  &lt;var title=&quot;&quot;&gt;seconds&lt;/var&gt;, and thousandths of a second &lt;var
-  title=&quot;&quot;&gt;seconds-frac&lt;/var&gt;, consists of the following components,
-  in the given order:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;Optionally (required if &lt;var title=&quot;&quot;&gt;hour&lt;/var&gt; is non-zero):
-
-    &lt;ol&gt;
-
-     &lt;li&gt;Two or more &lt;span&gt;ASCII digits&lt;/span&gt;, representing the &lt;var title=&quot;&quot;&gt;hours&lt;/var&gt; as a base
-     ten integer.&lt;/li&gt;
-
-     &lt;li&gt;A U+003A COLON character (:)&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;Two &lt;span&gt;ASCII digits&lt;/span&gt;, representing the &lt;var title=&quot;&quot;&gt;minutes&lt;/var&gt; as a base ten
-   integer in the range 0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;minutes&lt;/var&gt;&nbsp;&le;&nbsp;59.&lt;/li&gt;
-
-   &lt;li&gt;A U+003A COLON character (:)&lt;/li&gt;
-
-   &lt;li&gt;Two &lt;span&gt;ASCII digits&lt;/span&gt;, representing the &lt;var title=&quot;&quot;&gt;seconds&lt;/var&gt; as a base ten
-   integer in the range 0&nbsp;&le;&nbsp;&lt;var title=&quot;&quot;&gt;seconds&lt;/var&gt;&nbsp;&le;&nbsp;59.&lt;/li&gt;
-
-   &lt;li&gt;A U+002E FULL STOP character (.).&lt;/li&gt;
-
-   &lt;li&gt;Three &lt;span&gt;ASCII digits&lt;/span&gt;, representing the thousandths of a second &lt;var
-   title=&quot;&quot;&gt;seconds-frac&lt;/var&gt; as a base ten integer.&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;WebVTT cue settings&lt;/dfn&gt; part of a &lt;span&gt;WebVTT
-  cue&lt;/span&gt; consists of zero or more of the following components, in
-  any order, separated from each other by one or more U+0020 SPACE
-  characters or U+0009 CHARACTER TABULATION (tab) characters. Each
-  component must not be included more than once per &lt;span&gt;WebVTT cue
-  settings&lt;/span&gt; string.&lt;/p&gt;
-
-  &lt;ul class=&quot;brief&quot;&gt; 
-   &lt;li&gt;A &lt;span&gt;WebVTT vertical text cue setting&lt;/span&gt;.&lt;/li&gt; &lt;!-- vertical:rl/lr --&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT line position cue setting&lt;/span&gt;.&lt;/li&gt; &lt;!-- line:100% line:1 line:-1 --&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT text position cue setting&lt;/span&gt;.&lt;/li&gt; &lt;!-- position:100% --&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT size cue setting&lt;/span&gt;.&lt;/li&gt;          &lt;!-- size:100% --&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT alignment cue setting&lt;/span&gt;.&lt;/li&gt;     &lt;!-- align:start/middle/end/left/right --&gt;
-  &lt;/ul&gt;
-
-  &lt;p class=&quot;note&quot;&gt;&lt;span&gt;WebVTT cue settings&lt;/span&gt; give configuration
-  options regarding the position and alignment of the cue. For
-  example, it allows a cue to be aligned to the left or positioned at
-  the top right.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT vertical text cue setting&lt;/dfn&gt; consists of the
-  following components, in the order given:&lt;/p&gt;
-
-  &lt;ol&gt;
-   &lt;li&gt;The string &quot;&lt;code title=&quot;&quot;&gt;vertical&lt;/code&gt;&quot;.&lt;/li&gt;
-   &lt;li&gt;A U+003A COLON character (:).&lt;/li&gt;
-   &lt;li&gt;One of the following strings: &quot;&lt;code title=&quot;&quot;&gt;rl&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;lr&lt;/code&gt;&quot;.&lt;/li&gt;
-  &lt;/ol&gt;
-
-  &lt;p class=&quot;note&quot;&gt;A &lt;span&gt;WebVTT vertical text cue setting&lt;/span&gt;
-  configures the cue to use vertical text layout rather than
-  horizontal text layout. Vertical text layout is sometimes used in
-  Japanese, for example. The default is horizontal layout.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT line position cue setting&lt;/dfn&gt; consists of the
-  following components, in the order given:&lt;/p&gt;
-
-  &lt;ol&gt;
-   &lt;li&gt;&lt;p&gt;The string &quot;&lt;code title=&quot;&quot;&gt;line&lt;/code&gt;&quot;.&lt;/p&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;p&gt;A U+003A COLON character (:).&lt;/p&gt;&lt;/li&gt;
-   &lt;li&gt;Either:
-    &lt;dl&gt;
-     &lt;dt&gt;To represent a specific position relative to the video frame&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol&gt;
-       &lt;li&gt;One or more &lt;span&gt;ASCII digits&lt;/span&gt;.&lt;/li&gt;
-       &lt;li&gt;A U+0025 PERCENT SIGN character (%).&lt;/li&gt;
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-     &lt;dt&gt;To represent a line number&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;ol&gt;
-       &lt;li&gt;Optionally a U+002D HYPHEN-MINUS character (-).&lt;/li&gt;
-       &lt;li&gt;One or more &lt;span&gt;ASCII digits&lt;/span&gt;.&lt;/li&gt;
-      &lt;/ol&gt;
-     &lt;/dd&gt;
-    &lt;/dl&gt;
-   &lt;/li&gt;
-  &lt;/ol&gt;
-
-  &lt;p class=&quot;note&quot;&gt;A &lt;span&gt;WebVTT line position cue setting&lt;/span&gt;
-  configures the position of the cue. For horizontal cues, this is the
-  vertical position. The position can be given either as a percentage,
-  which gives the distance from the top of the frame, or as a line
-  number. Line numbers are based on the size of the first line of the
-  cue. Positive line numbers count from the top of the frame (the top
-  line is numbered 0), negative line numbers from the bottom of the
-  frame (the bottom line is numbered &amp;#x2212;1).&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT text position cue setting&lt;/dfn&gt; consists of the
-  following components, in the order given:&lt;/p&gt;
-
-  &lt;ol&gt;
-   &lt;li&gt;&lt;p&gt;The string &quot;&lt;code title=&quot;&quot;&gt;position&lt;/code&gt;&quot;.&lt;/p&gt;&lt;/li&gt;
-   &lt;li&gt;A U+003A COLON character (:).&lt;/li&gt;
-   &lt;li&gt;One or more &lt;span&gt;ASCII digits&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;A U+0025 PERCENT SIGN character (%).&lt;/li&gt;
-  &lt;/ol&gt;
-
-  &lt;p class=&quot;note&quot;&gt;A &lt;span&gt;WebVTT text position cue setting&lt;/span&gt;
-  configures the position of the text in the direction orthogonal to
-  the &lt;span&gt;WebVTT line position cue setting&lt;/span&gt;. For horizontal
-  cues, this is the horizontal position. The &lt;span&gt;WebVTT text
-  position cue setting&lt;/span&gt; is given as a percentage, calculated
-  from the edge of the frame that the text begins (so for
-  left-to-right English text, the left edge).&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT size cue setting&lt;/dfn&gt; consists of the
-  following components, in the order given:&lt;/p&gt;
-
-  &lt;ol&gt;
-   &lt;li&gt;&lt;p&gt;The string &quot;&lt;code title=&quot;&quot;&gt;size&lt;/code&gt;&quot;.&lt;/p&gt;&lt;/li&gt;
-   &lt;li&gt;A U+003A COLON character (:).&lt;/li&gt;
-   &lt;li&gt;One or more &lt;span&gt;ASCII digits&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;A U+0025 PERCENT SIGN character (%).&lt;/li&gt;
-  &lt;/ol&gt;
-
-  &lt;p class=&quot;note&quot;&gt;A &lt;span&gt;WebVTT size cue setting&lt;/span&gt; configures
-  the size of the cue in the same direction as the &lt;span&gt;WebVTT text
-  position cue setting&lt;/span&gt;. For horizontal cues, this is the width
-  of the cue. It is given as a percentage of the width of the
-  frame.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT alignment cue setting&lt;/dfn&gt; consists of the
-  following components, in the order given:&lt;/p&gt;
-
-  &lt;ol&gt;
-   &lt;li&gt;&lt;p&gt;The string &quot;&lt;code title=&quot;&quot;&gt;align&lt;/code&gt;&quot;.&lt;/p&gt;&lt;/li&gt;
-   &lt;li&gt;A U+003A COLON character (:).&lt;/li&gt;
-   &lt;li&gt;One of the following strings: &quot;&lt;code title=&quot;&quot;&gt;start&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;middle&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;end&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;left&lt;/code&gt;&quot;, &quot;&lt;code title=&quot;&quot;&gt;right&lt;/code&gt;&quot;&lt;/li&gt;
-  &lt;/ol&gt;
-
-  &lt;p class=&quot;note&quot;&gt;A &lt;span&gt;WebVTT alignment cue setting&lt;/span&gt;
-  configures the alignment of the text within the cue. The keywords
-  are relative to the text direction; for left-to-right English text,
-  &quot;&lt;code title=&quot;&quot;&gt;start&lt;/code&gt;&quot; means left-aligned.&lt;/p&gt;
-
-
-  &lt;p&gt;&lt;dfn&gt;WebVTT metadata text&lt;/dfn&gt; consists of any sequence of zero
-  or more characters other than U+000A LINE FEED (LF) characters and
-  U+000D CARRIAGE RETURN (CR) characters, each optionally separated
-  from the next by a &lt;span&gt;WebVTT line terminator&lt;/span&gt;. (In other
-  words, any text that does not have two consecutive &lt;span
-  title=&quot;WebVTT line terminator&quot;&gt;WebVTT line terminators&lt;/span&gt; and
-  does not start or end with a &lt;span&gt;WebVTT line
-  terminator&lt;/span&gt;.)&lt;/p&gt;
-
-
-  &lt;p&gt;&lt;dfn&gt;WebVTT chapter title text&lt;/dfn&gt; consists of zero or more of
-  the following, each optionally separated from the next by a
-  &lt;span&gt;WebVTT line terminator&lt;/span&gt;:&lt;/p&gt;
-
-  &lt;ul&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue text span&lt;/span&gt;, representing the text of the cue.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue amp escape&lt;/span&gt;, representing a &quot;&amp;&quot; character in the text of the cue.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue lt escape&lt;/span&gt;, representing a &quot;&lt;&quot; character in the text of the cue.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue gt escape&lt;/span&gt;, representing a &quot;&gt;&quot; character in the text of the cue.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue lrm escape&lt;/span&gt;, representing a U+200E LEFT-TO-RIGHT MARK Unicode bidirectional formatting character in the text of the cue.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue rlm escape&lt;/span&gt;, representing a U+200F RIGHT-TO-LEFT MARK Unicode bidirectional formatting character in the text of the cue.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue nbsp escape&lt;/span&gt;, representing a U+00A0 NO-BREAK SPACE character in the text of the cue.&lt;/li&gt;
-  &lt;/ul&gt;
-
-
-  &lt;p&gt;&lt;dfn&gt;WebVTT cue text&lt;/dfn&gt; consists of zero or more &lt;span&gt;WebVTT
-  cue components&lt;/span&gt;, in any order, each optionally separated from
-  the next by a &lt;span&gt;WebVTT line terminator&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;WebVTT cue components&lt;/dfn&gt; are:&lt;/p&gt;
-
-  &lt;ul&gt;
-
-   &lt;li&gt;A &lt;span&gt;WebVTT cue class span&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue italics span&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue bold span&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue underline span&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue ruby span&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue voice span&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue language span&lt;/span&gt;.&lt;/li&gt;
-
-   &lt;li&gt;A &lt;span&gt;WebVTT cue timestamp&lt;/span&gt;.&lt;/li&gt;
-
-   &lt;li&gt;A &lt;span&gt;WebVTT cue text span&lt;/span&gt;, representing the text of the cue.&lt;/li&gt;
-
-   &lt;li&gt;A &lt;span&gt;WebVTT cue amp escape&lt;/span&gt;, representing a &quot;&amp;&quot; character in the text of the cue.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue lt escape&lt;/span&gt;, representing a &quot;&lt;&quot; character in the text of the cue.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue gt escape&lt;/span&gt;, representing a &quot;&gt;&quot; character in the text of the cue.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue lrm escape&lt;/span&gt;, representing a U+200E LEFT-TO-RIGHT MARK Unicode bidirectional formatting character in the text of the cue.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue rlm escape&lt;/span&gt;, representing a U+200F RIGHT-TO-LEFT MARK Unicode bidirectional formatting character in the text of the cue.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue nbsp escape&lt;/span&gt;, representing a U+00A0 NO-BREAK SPACE character in the text of the cue.&lt;/li&gt;
-
-  &lt;/ul&gt;
-
-  &lt;p&gt;&lt;dfn&gt;WebVTT cue internal text&lt;/dfn&gt; consists of an optional
-  &lt;span&gt;WebVTT line terminator&lt;/span&gt;, followed by zero or more
-  &lt;span&gt;WebVTT cue components&lt;/span&gt;, in any order, each optionally
-  followed by a &lt;span&gt;WebVTT line terminator&lt;/span&gt;.&lt;/p&gt;
-
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue class span&lt;/dfn&gt; consists of a &lt;span&gt;WebVTT cue
-  span start tag&lt;/span&gt; &quot;&lt;code title=&quot;&quot;&gt;c&lt;/code&gt;&quot; that disallows an
-  annotation, &lt;span&gt;WebVTT cue internal text&lt;/span&gt; representing cue
-  text, and a &lt;span&gt;WebVTT cue span end tag&lt;/span&gt; &quot;&lt;code
-  title=&quot;&quot;&gt;c&lt;/code&gt;&quot;.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue italics span&lt;/dfn&gt; consists of a &lt;span&gt;WebVTT
-  cue span start tag&lt;/span&gt; &quot;&lt;code title=&quot;&quot;&gt;i&lt;/code&gt;&quot; that disallows
-  an annotation, &lt;span&gt;WebVTT cue internal text&lt;/span&gt; representing
-  the italicized text, and a &lt;span&gt;WebVTT cue span end tag&lt;/span&gt;
-  &quot;&lt;code title=&quot;&quot;&gt;i&lt;/code&gt;&quot;.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue bold span&lt;/dfn&gt; consists of a &lt;span&gt;WebVTT cue
-  span start tag&lt;/span&gt; &quot;&lt;code title=&quot;&quot;&gt;b&lt;/code&gt;&quot; that disallows an
-  annotation, &lt;span&gt;WebVTT cue internal text&lt;/span&gt; representing the
-  boldened text, and a &lt;span&gt;WebVTT cue span end tag&lt;/span&gt; &quot;&lt;code
-  title=&quot;&quot;&gt;b&lt;/code&gt;&quot;.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue underline span&lt;/dfn&gt; consists of a &lt;span&gt;WebVTT
-  cue span start tag&lt;/span&gt; &quot;&lt;code title=&quot;&quot;&gt;u&lt;/code&gt;&quot; that disallows
-  an annotation, &lt;span&gt;WebVTT cue internal text&lt;/span&gt; representing
-  the underlined text, and a &lt;span&gt;WebVTT cue span end tag&lt;/span&gt;
-  &quot;&lt;code title=&quot;&quot;&gt;u&lt;/code&gt;&quot;.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue ruby span&lt;/dfn&gt; consists of the following
-  components, in the order given:&lt;/p&gt;
-
-  &lt;ol&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue span start tag&lt;/span&gt; &quot;&lt;code title=&quot;&quot;&gt;ruby&lt;/code&gt;&quot; that disallows an annotation.&lt;/li&gt;
-   &lt;li&gt;One or more occurrences of the following group of components, in the order given:
-    &lt;ol&gt;
-     &lt;li&gt;&lt;span&gt;WebVTT cue internal text&lt;/span&gt;, representing the ruby base.&lt;/li&gt;
-     &lt;li&gt;A &lt;span&gt;WebVTT cue span start tag&lt;/span&gt; &quot;&lt;code title=&quot;&quot;&gt;rt&lt;/code&gt;&quot; that disallows an annotation.&lt;/li&gt;
-     &lt;li&gt;A &lt;dfn&gt;WebVTT cue ruby text span&lt;/dfn&gt;: &lt;span&gt;WebVTT cue internal text&lt;/span&gt;, representing the ruby text component of the ruby annotation.&lt;/li&gt;
-     &lt;li&gt;A &lt;span&gt;WebVTT cue span end tag&lt;/span&gt; &quot;&lt;code title=&quot;&quot;&gt;rt&lt;/code&gt;&quot;.
-     If this is the last occurrence of this group of components in the
-     &lt;span&gt;WebVTT cue ruby span&lt;/span&gt;, then this last end tag string
-     may be omitted.&lt;/li&gt;
-    &lt;/ol&gt;
-   &lt;/li&gt;
-   &lt;li&gt;If the last end tag string was not omitted: Optionally, a &lt;span&gt;WebVTT line terminator&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;If the last end tag string was not omitted: Zero or more U+0020 SPACE characters or U+0009 CHARACTER TABULATION (tab) characters, each optionally followed by a &lt;span&gt;WebVTT line terminator&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue span end tag&lt;/span&gt; &quot;&lt;code title=&quot;&quot;&gt;ruby&lt;/code&gt;&quot;.&lt;/li&gt;
-  &lt;/ol&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue voice span&lt;/dfn&gt; consists of the following
-  components, in the order given:&lt;/p&gt;
-
-  &lt;ol&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue span start tag&lt;/span&gt; &quot;&lt;code title=&quot;&quot;&gt;v&lt;/code&gt;&quot; that requires an annotation; the annotation represents the name of the voice.&lt;/li&gt;
-   &lt;li&gt;&lt;span&gt;WebVTT cue internal text&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue span end tag&lt;/span&gt; &quot;&lt;code title=&quot;&quot;&gt;v&lt;/code&gt;&quot;. If this &lt;span&gt;WebVTT cue voice span&lt;/span&gt; is the only &lt;span title=&quot;WebVTT cue components&quot;&gt;component&lt;/span&gt; of its &lt;span&gt;WebVTT cue text&lt;/span&gt; sequence, then the end tag may be omitted for brevity.&lt;/li&gt;
-  &lt;/ol&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue language span&lt;/dfn&gt; consists of the following
-  components, in the order given:&lt;/p&gt;
-
-  &lt;ol&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue span start tag&lt;/span&gt; &quot;&lt;code title=&quot;&quot;&gt;lang&lt;/code&gt;&quot; that requires an annotation; the annotation represents the language of the following component, and must be a valid BCP 47 language tag. &lt;a href=&quot;#refsBCP47&quot;&gt;[BCP47]&lt;/a&gt;&lt;/li&gt;
-   &lt;li&gt;&lt;span&gt;WebVTT cue internal text&lt;/span&gt;.&lt;/li&gt;
-   &lt;li&gt;A &lt;span&gt;WebVTT cue span end tag&lt;/span&gt; &quot;&lt;code title=&quot;&quot;&gt;lang&lt;/code&gt;&quot;.&lt;/li&gt;
-  &lt;/ol&gt;
-
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue span start tag&lt;/dfn&gt; has a &lt;var title=&quot;&quot;&gt;tag
-  name&lt;/var&gt; and either &lt;!--allows,--&gt; requires&lt;!--,--&gt; or disallows
-  an annotation, and consists of the following components, in the
-  order given:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;A U+003C LESS-THAN SIGN character (&lt;).&lt;/li&gt;
-
-   &lt;li&gt;The &lt;var title=&quot;&quot;&gt;tag name&lt;/var&gt;.&lt;/li&gt;
-
-   &lt;li&gt;Zero or more occurrences of the following sequence:
-
-    &lt;ol&gt;
-
-     &lt;li&gt;U+002E FULL STOP character (.)&lt;/li&gt;
-
-     &lt;li&gt;One or more characters other than U+0009 CHARACTER TABULATION
-     (tab) characters, U+000A LINE FEED (LF) characters, U+000D
-     CARRIAGE RETURN (CR) characters, U+0020 SPACE characters, U+0026
-     AMPERSAND characters (&amp;), U+003C LESS-THAN SIGN characters
-     (&lt;), U+003E GREATER-THAN SIGN characters (&gt;), and U+002E FULL
-     STOP characters (.), representing a class that describes the cue
-     span's significance.&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-&lt;!--
-    &lt;dl class=&quot;switch&quot;&gt;
-
-     &lt;dt&gt;If the start tag allows an annotation:&lt;/dt&gt;
-
-     &lt;dd&gt;Optionally, a &lt;span&gt;WebVTT cue span start tag annotation&lt;/span&gt;.&lt;/dd&gt;
-
-     &lt;dt&gt;--&gt;If the start tag requires an annotation:&lt;!--&lt;/dt&gt;
-
-     &lt;dd&gt;A &lt;span&gt;WebVTT cue span start tag annotation&lt;/span&gt;.&lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-    &lt;p&gt;A &lt;dfn&gt;WebVTT cue span start tag annotation&lt;/dfn&gt; consists of--&gt;
-    a U+0020 SPACE character or a U+0009 CHARACTER TABULATION (tab)
-    character, followed by one or more of the following components,
-    the concatenation of their representations having a value that
-    contains at least one character other than U+0020 SPACE and U+0009
-    CHARACTER TABULATION (tab) characters:&lt;!--&lt;/p&gt;--&gt;
-
-    &lt;ul&gt;
-     &lt;li&gt;&lt;span&gt;WebVTT cue span start tag annotation text&lt;/span&gt;, representing the text of the annotation.&lt;/li&gt;
-     &lt;li&gt;A &lt;span&gt;WebVTT cue amp escape&lt;/span&gt;, representing a &quot;&amp;&quot; character in the text of the annotation.&lt;/li&gt;
-     &lt;li&gt;A &lt;span&gt;WebVTT cue lt escape&lt;/span&gt;, representing a &quot;&lt;&quot; character in the text of the annotation.&lt;/li&gt;
-     &lt;li&gt;A &lt;span&gt;WebVTT cue gt escape&lt;/span&gt;, representing a &quot;&gt;&quot; character in the text of the annotation.&lt;/li&gt;
-     &lt;li&gt;A &lt;span&gt;WebVTT cue lrm escape&lt;/span&gt;, representing a U+200E LEFT-TO-RIGHT MARK Unicode bidirectional formatting character in the text of the cue.&lt;/li&gt;
-     &lt;li&gt;A &lt;span&gt;WebVTT cue rlm escape&lt;/span&gt;, representing a U+200F RIGHT-TO-LEFT MARK Unicode bidirectional formatting character in the text of the cue.&lt;/li&gt;
-     &lt;li&gt;A &lt;span&gt;WebVTT cue nbsp escape&lt;/span&gt;, representing a U+00A0 NO-BREAK SPACE character in the text of the cue.&lt;/li&gt;
-    &lt;/ul&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;A U+003E GREATER-THAN SIGN character (&gt;).&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue span end tag&lt;/dfn&gt; has a &lt;var title=&quot;&quot;&gt;tag
-  name&lt;/var&gt; and consists of the following components, in the order
-  given:&lt;/p&gt;
-
-  &lt;ol&gt;
-   &lt;li&gt;A U+003C LESS-THAN SIGN character (&lt;).&lt;/li&gt;
-   &lt;li&gt;U+002F SOLIDUS character (/).&lt;/li&gt;
-   &lt;li&gt;The &lt;var title=&quot;&quot;&gt;tag name&lt;/var&gt;.&lt;/li&gt;
-   &lt;li&gt;A U+003E GREATER-THAN SIGN character (&gt;).&lt;/li&gt;
-  &lt;/ol&gt;
-
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue timestamp&lt;/dfn&gt; consists of a U+003C LESS-THAN
-  SIGN character (&lt;), followed by a &lt;span&gt;WebVTT timestamp&lt;/span&gt;
-  representing the time that the given point in the cue becomes
-  active, followed by a U+003E GREATER-THAN SIGN character (&gt;). The
-  time represented by the &lt;span&gt;WebVTT timestamp&lt;/span&gt; must be
-  greater than the times represented by any previous &lt;span
-  title=&quot;WebVTT cue timestamp&quot;&gt;WebVTT cue timestamps&lt;/span&gt; in the
-  cue, as well as greater than the cue's start time offset, and less
-  than the cue's end time offset.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue text span&lt;/dfn&gt; consists of one or more
-  characters other than U+000A LINE FEED (LF) characters, U+000D
-  CARRIAGE RETURN (CR) characters, U+0026 AMPERSAND characters (&amp;),
-  and U+003C LESS-THAN SIGN characters (&lt;).&lt;/p&gt;
-
-  &lt;p&gt;&lt;dfn&gt;WebVTT cue span start tag annotation text&lt;/dfn&gt; consists of
-  one or more characters other than U+000A LINE FEED (LF) characters,
-  U+000D CARRIAGE RETURN (CR) characters, U+0026 AMPERSAND characters
-  (&amp;), and U+003E GREATER-THAN SIGN characters (&gt;).&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue amp escape&lt;/dfn&gt; is the five character string
-  &quot;&lt;code title=&quot;&quot;&gt;&amp;amp;&lt;/code&gt;&quot;.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue lt escape&lt;/dfn&gt; is the four character string
-  &quot;&lt;code title=&quot;&quot;&gt;&amp;lt;&lt;/code&gt;&quot;.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue gt escape&lt;/dfn&gt; is the four character string
-  &quot;&lt;code title=&quot;&quot;&gt;&amp;gt;&lt;/code&gt;&quot;.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue lrm escape&lt;/dfn&gt; is the five character string
-  &quot;&lt;code title=&quot;&quot;&gt;&amp;lrm;&lt;/code&gt;&quot;.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue rlm escape&lt;/dfn&gt; is the five character string
-  &quot;&lt;code title=&quot;&quot;&gt;&amp;rlm;&lt;/code&gt;&quot;.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT cue nbsp escape&lt;/dfn&gt; is the six character string
-  &quot;&lt;code title=&quot;&quot;&gt;&amp;nbsp;&lt;/code&gt;&quot;.&lt;/p&gt;
-
-
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;h3&gt;Parsing&lt;/h3&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT parser&lt;/dfn&gt;, given an input byte stream and a
-  &lt;span&gt;text track list of cues&lt;/span&gt; &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;,
-  must &lt;span title=&quot;decoded as UTF-8, with error handling&quot;&gt;decode the
-  byte stream as UTF-8, with error handling&lt;/span&gt;, and then must
-  parse the resulting string according to the &lt;span&gt;WebVTT parser
-  algorithm&lt;/span&gt; below. This results in &lt;span title=&quot;text track
-  cue&quot;&gt;text track cues&lt;/span&gt; being added to &lt;var
-  title=&quot;&quot;&gt;output&lt;/var&gt;. &lt;a href=&quot;#refsRFC3629&quot;&gt;[RFC3629]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;A &lt;span&gt;WebVTT parser&lt;/span&gt;, specifically its conversion and
-  parsing steps, is typically run asynchronously, with the input byte
-  stream being updated incrementally as the resource is downloaded;
-  this is called an &lt;dfn&gt;incremental WebVTT parser&lt;/dfn&gt;.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;span&gt;WebVTT parser&lt;/span&gt; verifies a file signature before
-  parsing the provided byte stream. If the stream lacks this WebVTT
-  file signature, then the parser aborts.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;WebVTT parser algorithm&lt;/dfn&gt; is as follows:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string being parsed, after
-    conversion to Unicode, and with the following transformations
-    applied:&lt;/p&gt;
-
-    &lt;ul&gt;
-
-     &lt;li&gt;&lt;p&gt;Replace all U+0000 NULL characters by U+FFFD REPLACEMENT
-     CHARACTERs.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Replace each U+000D CARRIAGE RETURN U+000A LINE FEED
-     (CRLF) character pair by a single U+000A LINE FEED (LF)
-     character.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Replace all remaining U+000D CARRIAGE RETURN characters by
-     U+000A LINE FEED (LF) characters.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ul&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
-   string. In an &lt;span&gt;incremental WebVTT parser&lt;/span&gt;, when this
-   algorithm (or further algorithms that it uses) moves the &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; pointer, the user agent must wait until
-   appropriate further characters from the byte stream have been added
-   to &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; before moving the pointer, so that the
-   algorithm never reads past the end of the &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;
-   string. Once the byte stream has ended, and all characters have
-   been added to &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then the &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; pointer may, when so instructed by the
-   algorithms, be moved past the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the character indicated by &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;
-   is a U+FEFF BYTE ORDER MARK (BOM) character, advance &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; to the next character in &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-
-   &lt;li&gt;Let &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; be a string variable. Unset the
-   &lt;var title=&quot;&quot;&gt;already collected line&lt;/var&gt; flag.&lt;/li&gt;
-
-
-   &lt;!-- SIGNATURE CHECK --&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are
-   &lt;em&gt;not&lt;/em&gt; U+000A LINE FEED (LF) characters. Let &lt;var
-   title=&quot;&quot;&gt;line&lt;/var&gt; be those characters, if any.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is less than six characters
-   long, then abort these steps. The file does not start with the
-   correct &lt;span&gt;WebVTT file&lt;/span&gt; signature and was therefore not
-   successfully processed.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is exactly six characters long
-   but does not exactly equal &quot;&lt;code title=&quot;&quot;&gt;WEBVTT&lt;/code&gt;&quot;, then
-   abort these steps. The file does not start with the correct
-   &lt;span&gt;WebVTT file&lt;/span&gt; signature and was therefore not
-   successfully processed.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is more than six characters long
-   but the first six characters do not exactly equal &quot;&lt;code
-   title=&quot;&quot;&gt;WEBVTT&lt;/code&gt;&quot;, or the seventh character is neither a
-   U+0020 SPACE character nor a U+0009 CHARACTER TABULATION (tab)
-   character, then abort these steps. The file does not start with the
-   correct &lt;span&gt;WebVTT file&lt;/span&gt; signature and was therefore not
-   successfully processed.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;, then abort these steps. The file was
-   successfully processed, but it contains no useful data and so no
-   &lt;span title=&quot;text track cue&quot;&gt;text track cues&lt;/span&gt; where added to
-   &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-
-   &lt;li&gt;&lt;p&gt;The character indicated by &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a
-   U+000A LINE FEED (LF) character. Advance &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; to the next character in &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-
-   &lt;li&gt;&lt;p&gt;&lt;i title=&quot;&quot;&gt;Header&lt;/i&gt;: &lt;span&gt;Collect a sequence of
-   characters&lt;/span&gt; that are &lt;em&gt;not&lt;/em&gt; U+000A LINE FEED (LF)
-   characters. Let &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; be those characters, if
-   any.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;, then jump to the step labeled
-   &lt;i&gt;end&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;The character indicated by &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a
-   U+000A LINE FEED (LF) character. Advance &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; to the next character in &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; contains the three-character
-   substring &quot;&lt;code title=&quot;&quot;&gt;--&gt;&lt;/code&gt;&quot; (U+002D HYPHEN-MINUS, U+002D
-   HYPHEN-MINUS, U+003E GREATER-THAN SIGN), then set the &lt;var
-   title=&quot;&quot;&gt;already collected line&lt;/var&gt; flag and jump to the step
-   labeled &lt;i&gt;cue loop&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;!-- In v2, this is where we can put header metadata processing --&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is not the empty string, then
-   jump back to the step labeled &lt;i title=&quot;&quot;&gt;header&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;Cue loop&lt;/i&gt;: If the &lt;var title=&quot;&quot;&gt;already collected
-   line&lt;/var&gt; flag is set, then jump to the step labeled &lt;var
-   title=&quot;&quot;&gt;cue creation&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are
-   U+000A LINE FEED (LF) characters.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are
-   &lt;em&gt;not&lt;/em&gt; U+000A LINE FEED (LF) characters. Let &lt;var
-   title=&quot;&quot;&gt;line&lt;/var&gt; be those characters, if any.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is the empty string, then jump
-   to the step labeled &lt;i&gt;end&lt;/i&gt;. (In such a case, &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; is also forcibly past the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;&lt;!-- since we've just collected newlines, so we
-   have none of those, and we've failed to collect anything that's not
-   a newline, so we have none of that either, meaning we have nothing.
-   --&gt;.)&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;Cue creation&lt;/i&gt;: Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; be a new
-   &lt;span&gt;text track cue&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   identifier&lt;/span&gt; be the empty string.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   pause-on-exit flag&lt;/span&gt; be false.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   writing direction&lt;/span&gt; be &lt;span title=&quot;text track cue
-   horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   snap-to-lines flag&lt;/span&gt; be true.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue line
-   position&lt;/span&gt; be &lt;span title=&quot;text track cue automatic line
-   position&quot;&gt;auto&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   text position&lt;/span&gt; be 50.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   size&lt;/span&gt; be 100.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   alignment&lt;/span&gt; be &lt;span title=&quot;text track cue middle
-   alignment&quot;&gt;middle alignment&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   text&lt;/span&gt; be the empty string.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; contains the three-character
-   substring &quot;&lt;code title=&quot;&quot;&gt;--&gt;&lt;/code&gt;&quot; (U+002D HYPHEN-MINUS, U+002D
-   HYPHEN-MINUS, U+003E GREATER-THAN SIGN), then jump to the step
-   labeled &lt;i&gt;timings&lt;/i&gt; below.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   identifier&lt;/span&gt; be &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;, then discard &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; and jump
-   to the step labeled &lt;i&gt;end&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the character indicated by &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;
-   is a U+000A LINE FEED (LF) character, advance &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; to the next character in &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are
-   &lt;em&gt;not&lt;/em&gt; U+000A LINE FEED (LF) characters. Let &lt;var
-   title=&quot;&quot;&gt;line&lt;/var&gt; be those characters, if any.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is the empty string, then
-   discard &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; and jump to the step labeled &lt;i&gt;cue
-   loop&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;Timings&lt;/i&gt;: Unset the &lt;var title=&quot;&quot;&gt;already collected
-   line&lt;/var&gt; flag.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect WebVTT cue timings and settings&lt;/span&gt; from
-   &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;, using &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; for the
-   results. If that fails, jump to the step labeled &lt;i&gt;bad
-   cue&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue text&lt;/var&gt; be the empty
-   string.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;Cue text loop&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is
-   past the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then jump to the step
-   labeled &lt;i&gt;cue text processing&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the character indicated by &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;
-   is a U+000A LINE FEED (LF) character, advance &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; to the next character in &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are
-   &lt;em&gt;not&lt;/em&gt; U+000A LINE FEED (LF) characters. Let &lt;var
-   title=&quot;&quot;&gt;line&lt;/var&gt; be those characters, if any.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is the empty string, then jump
-   to the step labeled &lt;i&gt;cue text processing&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; contains the three-character
-   substring &quot;&lt;code title=&quot;&quot;&gt;--&gt;&lt;/code&gt;&quot; (U+002D HYPHEN-MINUS, U+002D
-   HYPHEN-MINUS, U+003E GREATER-THAN SIGN), then set the &lt;var
-   title=&quot;&quot;&gt;already collected line&lt;/var&gt; flag and jump to the step
-   labeled &lt;i&gt;cue text processing&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;cue text&lt;/var&gt; is not empty, append a
-   U+000A LINE FEED (LF) character to &lt;var title=&quot;&quot;&gt;cue
-   text&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue text&lt;/var&gt; be the concatenation of
-   &lt;var title=&quot;&quot;&gt;cue text&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;line&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Return to the step labeled &lt;i&gt;cue text loop&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;Cue text processing&lt;/i&gt;: Let the &lt;span&gt;text track cue text&lt;/span&gt; of &lt;var
-   title=&quot;&quot;&gt;cue&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;cue text&lt;/var&gt;, and let the &lt;span&gt;rules for rendering the cue
-   in isolation&lt;/span&gt; be the &lt;span&gt;rules for interpreting WebVTT cue text&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Add &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; to the &lt;span&gt;text track list of
-   cues&lt;/span&gt; &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Jump to the step labeled &lt;i&gt;cue loop&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;Bad cue&lt;/i&gt;: Discard &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;Bad cue loop&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is
-   past the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then jump to the step
-   labeled &lt;i&gt;end&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the character indicated by &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;
-   is a U+000A LINE FEED (LF) character, advance &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; to the next character in &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are
-   &lt;em&gt;not&lt;/em&gt; U+000A LINE FEED (LF) characters. Let &lt;var
-   title=&quot;&quot;&gt;line&lt;/var&gt; be those characters, if any.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; contains the three-character
-   substring &quot;&lt;code title=&quot;&quot;&gt;--&gt;&lt;/code&gt;&quot; (U+002D HYPHEN-MINUS, U+002D
-   HYPHEN-MINUS, U+003E GREATER-THAN SIGN), then set the &lt;var
-   title=&quot;&quot;&gt;already collected line&lt;/var&gt; flag and jump to the step
-   labeled &lt;i&gt;cue loop&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;line&lt;/var&gt; is the empty string, then jump
-   to the step labeled &lt;i&gt;cue loop&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Otherwise, jump to the step labeled &lt;i&gt;bad cue
-   loop&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;End&lt;/i&gt;: The file has ended. Abort these steps. The
-   &lt;span&gt;WebVTT parser&lt;/span&gt; has finished. The file was successfully
-   processed.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;When the algorithm above requires that the user agent
-  &lt;dfn&gt;collect WebVTT cue timings and settings&lt;/dfn&gt; from a string
-  &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; for a &lt;span&gt;text track cue&lt;/span&gt; &lt;var
-  title=&quot;&quot;&gt;cue&lt;/var&gt;, the user agent must run the following
-  algorithm.&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string being
-   parsed.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
-   string.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Skip whitespace&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a WebVTT timestamp&lt;/span&gt;. If that algorithm
-   fails, then abort these steps and return failure. Otherwise, let
-   &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue start time&lt;/span&gt;
-   be the collected time.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Skip whitespace&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;!-- we can't be beyond the end of the string until we've seen the
-   arrow, since we know the arrow is in the string and nothing we've
-   done so far would move us past the first &quot;-&quot;. --&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;!--&lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of
-   &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; or if--&gt; the character at &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+002D HYPHEN-MINUS character (-)
-   then abort these steps and return failure. Otherwise, move &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; forwards one character.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;!--&lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of
-   &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; or if--&gt; the character at &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+002D HYPHEN-MINUS character (-)
-   then abort these steps and return failure. Otherwise, move &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; forwards one character.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;!--&lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of
-   &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; or if--&gt; the character at &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+003E GREATER-THAN SIGN character
-   (&gt;) then abort these steps and return failure. Otherwise, move &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; forwards one character.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Skip whitespace&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a WebVTT timestamp&lt;/span&gt;. If that algorithm
-   fails, then abort these steps and return failure. Otherwise, let
-   &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue end time&lt;/span&gt;
-   be the collected time.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;remainder&lt;/var&gt; be the trailing substring
-   of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; starting at &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Parse the WebVTT settings&lt;/span&gt; given by &lt;var
-   title=&quot;&quot;&gt;remainder&lt;/var&gt; for &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;When the user agent is to &lt;dfn&gt;parse the WebVTT settings&lt;/dfn&gt;
-  given by a string &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; for a &lt;span&gt;text track
-  cue&lt;/span&gt; &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;, the user agent must run the
-  following steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;settings&lt;/var&gt; be the result of &lt;span
-   title=&quot;split a string on spaces&quot;&gt;splitting &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt; on spaces&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each token &lt;var title=&quot;&quot;&gt;setting&lt;/var&gt; in the list &lt;var
-    title=&quot;&quot;&gt;settings&lt;/var&gt;, run the following substeps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;setting&lt;/var&gt; does not contain a U+003A
-     COLON character (:), or if the first U+003A COLON character (:)
-     in &lt;var title=&quot;&quot;&gt;setting&lt;/var&gt; is either the first or last
-     character of &lt;var title=&quot;&quot;&gt;setting&lt;/var&gt;, then jump to the step
-     labeled &lt;i&gt;next setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; be the leading substring of
-     &lt;var title=&quot;&quot;&gt;setting&lt;/var&gt; up to and excluding the first U+003A
-     COLON character (:) in that string.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; be the trailing substring of
-     &lt;var title=&quot;&quot;&gt;setting&lt;/var&gt; starting from the character
-     immediately after the first U+003A COLON character (:) in that
-     string.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Run the appropriate substeps that apply for the value of &lt;var
-      title=&quot;&quot;&gt;name&lt;/var&gt;, as follows:&lt;/p&gt;
-
-      &lt;dl&gt;
-
-       &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is a &lt;span&gt;case-sensitive&lt;/span&gt; match for &quot;&lt;code title=&quot;&quot;&gt;vertical&lt;/code&gt;&quot;&lt;/dt&gt;
-
-       &lt;dd&gt;
-
-        &lt;ol&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is a
-         &lt;span&gt;case-sensitive&lt;/span&gt; match for the string &quot;&lt;code
-         title=&quot;&quot;&gt;rl&lt;/code&gt;&quot;, then let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s
-         &lt;span&gt;text track cue writing direction&lt;/span&gt; be &lt;span
-         title=&quot;text track cue vertical growing left writing
-         direction&quot;&gt;vertical growing left&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Otherwise, if &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is a
-         &lt;span&gt;case-sensitive&lt;/span&gt; match for the string &quot;&lt;code
-         title=&quot;&quot;&gt;lr&lt;/code&gt;&quot;, then let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s
-         &lt;span&gt;text track cue writing direction&lt;/span&gt; be &lt;span
-         title=&quot;text track cue vertical growing right writing
-         direction&quot;&gt;vertical growing right&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-        &lt;/ol&gt;
-
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is a &lt;span&gt;case-sensitive&lt;/span&gt; match for &quot;&lt;code title=&quot;&quot;&gt;line&lt;/code&gt;&quot;&lt;/dt&gt;
-
-       &lt;dd&gt;
-
-        &lt;ol&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; contains any characters other than U+002D HYPHEN-MINUS
-         characters (-), U+0025 PERCENT SIGN characters (%), and &lt;span&gt;ASCII digits&lt;/span&gt;, then
-         jump to the step labeled &lt;i&gt;next setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; does not contain at least one &lt;span title=&quot;ASCII
-         digits&quot;&gt;ASCII digit&lt;/span&gt;, then jump to the step labeled &lt;i&gt;next setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If any character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; other
-         than the first character is a U+002D HYPHEN-MINUS character
-         (-), then jump to the step labeled &lt;i&gt;next
-         setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If any character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; other
-         than the last character is a U+0025 PERCENT SIGN character
-         (%), then jump to the step labeled &lt;i&gt;next
-         setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If the first character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is
-         a U+002D HYPHEN-MINUS character (-) &lt;em&gt;and&lt;/em&gt; the last
-         character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is a U+0025 PERCENT
-         SIGN character (%), then jump to the step labeled &lt;i&gt;next
-         setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Ignoring the trailing percent sign, if any, interpret
-         &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; as a (potentially signed) integer,
-         and let &lt;var title=&quot;&quot;&gt;number&lt;/var&gt; be that number.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If the last character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is
-         a U+0025 PERCENT SIGN character (%), but &lt;var
-         title=&quot;&quot;&gt;number&lt;/var&gt; is not in the range
-         0&nbsp;&le;&nbsp;&lt;var
-         title=&quot;&quot;&gt;number&lt;/var&gt;&nbsp;&le;&nbsp;100, then jump to the
-         step labeled &lt;i&gt;next setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-         line position&lt;/span&gt; be &lt;var title=&quot;&quot;&gt;number&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If the last character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is
-         a U+0025 PERCENT SIGN character (%), then let &lt;var
-         title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue snap-to-lines
-         flag&lt;/span&gt; be false. Otherwise, let it be true.&lt;/p&gt;&lt;/li&gt;
-
-        &lt;/ol&gt;
-
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is a &lt;span&gt;case-sensitive&lt;/span&gt; match for &quot;&lt;code title=&quot;&quot;&gt;position&lt;/code&gt;&quot;&lt;/dt&gt;
-
-       &lt;dd&gt;
-
-        &lt;ol&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; contains any characters other than U+0025 PERCENT SIGN
-         characters (%) and &lt;span&gt;ASCII digits&lt;/span&gt;, then jump to the step labeled &lt;i&gt;next
-         setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; does not contain at least one &lt;span title=&quot;ASCII
-         digits&quot;&gt;ASCII digit&lt;/span&gt;, then jump to the step labeled &lt;i&gt;next setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If any character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; other
-         than the last character is a U+0025 PERCENT SIGN character
-         (%), then jump to the step labeled &lt;i&gt;next
-         setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If the last character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is
-         not a U+0025 PERCENT SIGN character (%), then jump to the
-         step labeled &lt;i&gt;next setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Ignoring the trailing percent sign, interpret &lt;var
-         title=&quot;&quot;&gt;value&lt;/var&gt; as an integer, and let &lt;var
-         title=&quot;&quot;&gt;number&lt;/var&gt; be that number.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;number&lt;/var&gt; is not in the range
-         0&nbsp;&le;&nbsp;&lt;var
-         title=&quot;&quot;&gt;number&lt;/var&gt;&nbsp;&le;&nbsp;100, then jump to the
-         step labeled &lt;i&gt;next setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue text
-         position&lt;/span&gt; be &lt;var title=&quot;&quot;&gt;number&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-        &lt;/ol&gt;
-
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is a &lt;span&gt;case-sensitive&lt;/span&gt; match for &quot;&lt;code title=&quot;&quot;&gt;size&lt;/code&gt;&quot;&lt;/dt&gt;
-
-       &lt;dd&gt;
-
-        &lt;ol&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; contains any characters other than U+0025 PERCENT SIGN
-         characters (%) and &lt;span&gt;ASCII digits&lt;/span&gt;, then jump to the step labeled &lt;i&gt;next
-         setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; does not contain at least one &lt;span title=&quot;ASCII
-         digits&quot;&gt;ASCII digit&lt;/span&gt;, then jump to the step labeled &lt;i&gt;next setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If any character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; other
-         than the last character is a U+0025 PERCENT SIGN character
-         (%), then jump to the step labeled &lt;i&gt;next
-         setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If the last character in &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is
-         not a U+0025 PERCENT SIGN character (%), then jump to the
-         step labeled &lt;i&gt;next setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Ignoring the trailing percent sign, interpret &lt;var
-         title=&quot;&quot;&gt;value&lt;/var&gt; as an integer, and let &lt;var
-         title=&quot;&quot;&gt;number&lt;/var&gt; be that number.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;number&lt;/var&gt; is not in the range
-         0&nbsp;&le;&nbsp;&lt;var
-         title=&quot;&quot;&gt;number&lt;/var&gt;&nbsp;&le;&nbsp;100, then jump to the
-         step labeled &lt;i&gt;next setting&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-         size&lt;/span&gt; be &lt;var title=&quot;&quot;&gt;number&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-        &lt;/ol&gt;
-
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;name&lt;/var&gt; is a &lt;span&gt;case-sensitive&lt;/span&gt; match for &quot;&lt;code title=&quot;&quot;&gt;align&lt;/code&gt;&quot;&lt;/dt&gt;
-
-       &lt;dd&gt;
-
-        &lt;ol&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is a
-         &lt;span&gt;case-sensitive&lt;/span&gt; match for the string &quot;&lt;code
-         title=&quot;&quot;&gt;start&lt;/code&gt;&quot;, then let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s
-         &lt;span&gt;text track cue alignment&lt;/span&gt; be &lt;span title=&quot;text
-         track cue start alignment&quot;&gt;start alignment&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is a
-         &lt;span&gt;case-sensitive&lt;/span&gt; match for the string &quot;&lt;code
-         title=&quot;&quot;&gt;middle&lt;/code&gt;&quot;, then let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s
-         &lt;span&gt;text track cue alignment&lt;/span&gt; be &lt;span title=&quot;text
-         track cue middle alignment&quot;&gt;middle alignment&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is a
-         &lt;span&gt;case-sensitive&lt;/span&gt; match for the string &quot;&lt;code
-         title=&quot;&quot;&gt;end&lt;/code&gt;&quot;, then let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s
-         &lt;span&gt;text track cue alignment&lt;/span&gt; be &lt;span title=&quot;text
-         track cue end alignment&quot;&gt;end alignment&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is a
-         &lt;span&gt;case-sensitive&lt;/span&gt; match for the string &quot;&lt;code
-         title=&quot;&quot;&gt;left&lt;/code&gt;&quot;, then let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s
-         &lt;span&gt;text track cue alignment&lt;/span&gt; be &lt;span title=&quot;text
-         track cue left alignment&quot;&gt;left alignment&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; is a
-         &lt;span&gt;case-sensitive&lt;/span&gt; match for the string &quot;&lt;code
-         title=&quot;&quot;&gt;right&lt;/code&gt;&quot;, then let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s
-         &lt;span&gt;text track cue alignment&lt;/span&gt; be &lt;span title=&quot;text
-         track cue right alignment&quot;&gt;right alignment&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-        &lt;/ol&gt;
-
-       &lt;/dd&gt;
-
-      &lt;/dl&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;&lt;i&gt;Next setting&lt;/i&gt;: Continue to the next token, if
-     any.&lt;/p&gt;&lt;/li&gt; &lt;!-- this step is just here to give the algorithms
-     above a clean way to 'break' --&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;When this specification says that a user agent is to
-  &lt;dfn&gt;collect a WebVTT timestamp&lt;/dfn&gt;, the user agent must run the
-  following steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; and &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; be the same variables as those of the same
-   name in the algorithm that invoked these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;most significant units&lt;/var&gt; be &lt;i
-   title=&quot;&quot;&gt;minutes&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;, return an error and abort these
-   steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the character indicated by &lt;var title=&quot;&quot;&gt;position&lt;/var&gt;
-   is not an &lt;span title=&quot;ASCII digits&quot;&gt;ASCII digit&lt;/span&gt;, then
-   return an error and abort these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are &lt;span&gt;ASCII digits&lt;/span&gt;, and let
-   &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; be the collected substring.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Interpret &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; as a base-ten
-   integer. Let &lt;var title=&quot;&quot;&gt;value&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt; be that
-   integer.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; is not exactly two characters
-   in length, or if &lt;var title=&quot;&quot;&gt;value&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt; is greater
-   than 59, let &lt;var title=&quot;&quot;&gt;most significant units&lt;/var&gt; be &lt;i
-   title=&quot;&quot;&gt;hours&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+003A COLON character (:), then
-   return an error and abort these steps. Otherwise, move &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; forwards one character.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are &lt;span&gt;ASCII digits&lt;/span&gt;, and let
-   &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; be the collected substring.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; is not exactly two characters
-   in length, return an error and abort these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Interpret &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; as a base-ten
-   integer. Let &lt;var title=&quot;&quot;&gt;value&lt;sub&gt;2&lt;/sub&gt;&lt;/var&gt; be that
-   integer.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;If &lt;var title=&quot;&quot;&gt;most significant units&lt;/var&gt; is &lt;i
-    title=&quot;&quot;&gt;hours&lt;/i&gt;, or if &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not
-    beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; and the character at
-    &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is a U+003A COLON character (:), run
-    these substeps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
-     title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var
-     title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+003A COLON character (:), then
-     return an error and abort these steps. Otherwise, move &lt;var
-     title=&quot;&quot;&gt;position&lt;/var&gt; forwards one character.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are &lt;span&gt;ASCII digits&lt;/span&gt;, and
-     let &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; be the collected substring.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; is not exactly two
-     characters in length, return an error and abort these
-     steps.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Interpret &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; as a base-ten
-     integer. Let &lt;var title=&quot;&quot;&gt;value&lt;sub&gt;3&lt;/sub&gt;&lt;/var&gt; be that
-     integer.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-    &lt;p&gt;Otherwise (if &lt;var title=&quot;&quot;&gt;most significant units&lt;/var&gt; is not
-    &lt;i title=&quot;&quot;&gt;hours&lt;/i&gt;, and either &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is
-    beyond the end of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, or the character at
-    &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+003A COLON character (:)),
-    let &lt;var title=&quot;&quot;&gt;value&lt;sub&gt;3&lt;/sub&gt;&lt;/var&gt; have the value of &lt;var
-    title=&quot;&quot;&gt;value&lt;sub&gt;2&lt;/sub&gt;&lt;/var&gt;, then &lt;var
-    title=&quot;&quot;&gt;value&lt;sub&gt;2&lt;/sub&gt;&lt;/var&gt; have the value of &lt;var
-    title=&quot;&quot;&gt;value&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;, then let &lt;var
-    title=&quot;&quot;&gt;value&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt; equal zero.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is beyond the end of &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt; or if the character at &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; is not a U+002E FULL STOP character (.),
-   then return an error and abort these steps. Otherwise, move &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; forwards one character.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a sequence of characters&lt;/span&gt; that are &lt;span&gt;ASCII digits&lt;/span&gt;, and let
-   &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; be the collected substring.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; is not exactly three
-   characters in length, return an error and abort these
-   steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Interpret &lt;var title=&quot;&quot;&gt;string&lt;/var&gt; as a base-ten
-   integer. Let &lt;var title=&quot;&quot;&gt;value&lt;sub&gt;4&lt;/sub&gt;&lt;/var&gt; be that
-   integer.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;value&lt;sub&gt;2&lt;/sub&gt;&lt;/var&gt; is greater than 59
-   or if &lt;var title=&quot;&quot;&gt;value&lt;sub&gt;3&lt;/sub&gt;&lt;/var&gt; is greater than 59,
-   return an error and abort these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;!-- no need to check if &lt;var title=&quot;&quot;&gt;value&lt;sub&gt;4&lt;/sub&gt;&lt;/var&gt; is
-   greater than 999, since we know it had exactly three characters in
-   the range 0-9, so we know it's a number in the range 0-999 --&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; be &lt;span title=&quot;&quot;&gt;&lt;var
-   title=&quot;&quot;&gt;value&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&times;60&times;60 + &lt;var
-   title=&quot;&quot;&gt;value&lt;sub&gt;2&lt;/sub&gt;&lt;/var&gt;&times;60 + &lt;var
-   title=&quot;&quot;&gt;value&lt;sub&gt;3&lt;/sub&gt;&lt;/var&gt; + &lt;var
-   title=&quot;&quot;&gt;value&lt;sub&gt;4&lt;/sub&gt;&lt;/var&gt;&amp;#x2215;1000&lt;/span&gt;. &lt;!-- &amp;#x00f7;
-   is the division sign if people prefer that to the slash
-   --&gt;&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-
-  &lt;h3&gt;&lt;dfn&gt;WebVTT cue text parsing rules&lt;/dfn&gt;&lt;/h3&gt;
-
-  &lt;p&gt;A &lt;dfn&gt;WebVTT Node Object&lt;/dfn&gt; is a conceptual construct used to
-  represent components of &lt;span&gt;WebVTT cue text&lt;/span&gt; so that its
-  processing can be described without reference to the underlying
-  syntax.&lt;/p&gt;
-
-  &lt;p&gt;There are two broad classes of &lt;span title=&quot;WebVTT Node
-  Object&quot;&gt;WebVTT Node Objects&lt;/span&gt;: &lt;span title=&quot;WebVTT Internal
-  Node Object&quot;&gt;WebVTT Internal Node Objects&lt;/span&gt; and &lt;span
-  title=&quot;WebVTT Leaf Node Object&quot;&gt;WebVTT Leaf Node Objects&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;&lt;dfn title=&quot;WebVTT Internal Node Object&quot;&gt;WebVTT Internal Node Objects&lt;/dfn&gt; are those that can
-  contain further &lt;span title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node Objects&lt;/span&gt;. They are conceptually
-  similar to elements in HTML or the DOM. &lt;span title=&quot;WebVTT Internal Node Object&quot;&gt;WebVTT Internal
-  Node Objects&lt;/span&gt; have an ordered list of child &lt;span title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node
-  Objects&lt;/span&gt;. The &lt;span&gt;WebVTT Internal Node Object&lt;/span&gt; is said to be the &lt;i&gt;parent&lt;/i&gt; of
-  the children. Cycles do not occur; the parent-child relationships so constructed form a tree
-  structure. &lt;span title=&quot;WebVTT Internal Node Object&quot;&gt;WebVTT Internal Node Objects&lt;/span&gt; also have
-  an ordered list of class names, known as their &lt;dfn title=&quot;WebVTT Node Object's applicable
-  classes&quot;&gt;applicable classes&lt;/dfn&gt;, and a language, known as their &lt;dfn title=&quot;WebVTT Node Object's
-  applicable language&quot;&gt;applicable language&lt;/dfn&gt;, which is to be interpreted as a BCP 47 language
-  code. &lt;a href=&quot;#refsBCP47&quot;&gt;[BCP47]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;There are several concrete classes of &lt;span title=&quot;WebVTT
-  Internal Node Object&quot;&gt;WebVTT Internal Node Objects&lt;/span&gt;:&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;List of WebVTT Node Objects&quot;&gt;Lists of WebVTT Node Objects&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;These are used as root nodes for trees of &lt;span title=&quot;WebVTT
-    Node Object&quot;&gt;WebVTT Node Objects&lt;/span&gt;.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;WebVTT Class Object&quot;&gt;WebVTT Class Objects&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;These represent spans of text (a &lt;span&gt;WebVTT cue class
-    span&lt;/span&gt;) in &lt;span&gt;WebVTT cue text&lt;/span&gt;, and are used to
-    annotate parts of the cue with &lt;span title=&quot;WebVTT Node Object's
-    applicable classes&quot;&gt;applicable classes&lt;/span&gt; without implying
-    further meaning (such as italics or bold).&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;WebVTT Italic Object&quot;&gt;WebVTT Italic Objects&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;These represent spans of italic text (a &lt;span&gt;WebVTT cue
-    italics span&lt;/span&gt;) in &lt;span&gt;WebVTT cue text&lt;/span&gt;.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;WebVTT Bold Object&quot;&gt;WebVTT Bold Objects&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;These represent spans of bold text (a &lt;span&gt;WebVTT cue
-    bold span&lt;/span&gt;) in &lt;span&gt;WebVTT cue text&lt;/span&gt;.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;WebVTT Underline Object&quot;&gt;WebVTT Underline Objects&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;These represent spans of underline text (a &lt;span&gt;WebVTT cue
-    underline span&lt;/span&gt;) in &lt;span&gt;WebVTT cue text&lt;/span&gt;.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;WebVTT Ruby Object&quot;&gt;WebVTT Ruby Objects&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;These represent spans of ruby (a &lt;span&gt;WebVTT cue
-    ruby span&lt;/span&gt;) in &lt;span&gt;WebVTT cue text&lt;/span&gt;.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;WebVTT Ruby Text Object&quot;&gt;WebVTT Ruby Text Objects&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;These represent spans of ruby text (a &lt;span&gt;WebVTT cue ruby
-    text span&lt;/span&gt;) in &lt;span&gt;WebVTT cue text&lt;/span&gt;.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;WebVTT Voice Object&quot;&gt;WebVTT Voice Objects&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;These represent spans of text associated with a specific voice
-    (a &lt;span&gt;WebVTT cue voice span&lt;/span&gt;) in &lt;span&gt;WebVTT cue
-    text&lt;/span&gt;. A &lt;span&gt;WebVTT Voice Object&lt;/span&gt; has a value, which
-    is the name of the voice.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;WebVTT Language Object&quot;&gt;WebVTT Language Objects&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;These represent spans of text (a &lt;span&gt;WebVTT cue language span&lt;/span&gt;) in &lt;span&gt;WebVTT cue
-    text&lt;/span&gt;, and are used to annotate parts of the cue where the &lt;span title=&quot;WebVTT Node
-    Object's applicable language&quot;&gt;applicable language&lt;/span&gt; might be different than the surrounding
-    text's, without implying further meaning (such as italics or bold).&lt;/p&gt;
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-  &lt;p&gt;&lt;dfn title=&quot;WebVTT Leaf Node Object&quot;&gt;WebVTT Leaf Node
-  Objects&lt;/dfn&gt; are those that contain data, such as text, and cannot
-  contain child &lt;span title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node
-  Objects&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;There are two concrete classes of &lt;span title=&quot;WebVTT Leaf Node
-  Object&quot;&gt;WebVTT Leaf Node Objects&lt;/span&gt;:&lt;/p&gt;
-
-  &lt;dl&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;WebVTT Text Object&quot;&gt;WebVTT Text Objects&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;A fragment of text. A &lt;span&gt;WebVTT Text Object&lt;/span&gt; has a
-    value, which is the text it represents.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;dfn title=&quot;WebVTT Timestamp Object&quot;&gt;WebVTT Timestamp Objects&lt;/dfn&gt;&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;A timestamp. A &lt;span&gt;WebVTT Timestamp Object&lt;/span&gt; has a
-    value, in seconds and fractions of a second, which is the time
-    represented by the timestamp.&lt;/p&gt;
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-  &lt;p&gt;To parse a string &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; supposedly containing
-  &lt;span&gt;WebVTT cue text&lt;/span&gt;, user agents must use the following
-  algorithm. This algorithm returns a &lt;span&gt;list of WebVTT Node
-  Objects&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the string being
-   parsed.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into &lt;var
-   title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of the
-   string.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; be a &lt;span&gt;List of WebVTT
-   Node Objects&lt;/span&gt;, initially empty.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;current&lt;/var&gt; be the &lt;span&gt;WebVTT Internal
-   Node Object&lt;/span&gt; &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;language stack&lt;/var&gt; be a stack of language codes, initially
-   empty.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;Loop&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end
-   of &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, return &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; and
-   abort these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;token&lt;/var&gt; be the result of invoking the
-   &lt;span&gt;WebVTT cue text tokenizer&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Run the appropriate steps given the type of &lt;var
-    title=&quot;&quot;&gt;token&lt;/var&gt;:&lt;/p&gt;
-
-    &lt;dl&gt;
-
-     &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;token&lt;/var&gt; is a string&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;ol&gt;
-
-       &lt;li&gt;&lt;p&gt;Create a &lt;span&gt;WebVTT Text Object&lt;/span&gt; whose value is
-       the value of the string token &lt;var
-       title=&quot;&quot;&gt;token&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Append the newly created &lt;span&gt;WebVTT Text Object&lt;/span&gt;
-       to &lt;var title=&quot;&quot;&gt;current&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-      &lt;/ol&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;token&lt;/var&gt; is a start tag&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;How the start tag token &lt;var title=&quot;&quot;&gt;token&lt;/var&gt; is
-      processed depends on its tag name, as follows:&lt;/p&gt;
-
-      &lt;dl&gt;
-&lt;!--
-       &lt;dt&gt;If the tag name is the empty string&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
---&gt;
-       &lt;dt&gt;If the tag name is &quot;&lt;code title=&quot;&quot;&gt;c&lt;/code&gt;&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;attach a WebVTT Internal Node
-        Object&quot;&gt;Attach&lt;/span&gt; a &lt;span&gt;WebVTT Class Object&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the tag name is &quot;&lt;code title=&quot;&quot;&gt;i&lt;/code&gt;&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;attach a WebVTT Internal Node
-        Object&quot;&gt;Attach&lt;/span&gt; a &lt;span&gt;WebVTT Italic Object&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the tag name is &quot;&lt;code title=&quot;&quot;&gt;b&lt;/code&gt;&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;attach a WebVTT Internal Node
-        Object&quot;&gt;Attach&lt;/span&gt; a &lt;span&gt;WebVTT Bold Object&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the tag name is &quot;&lt;code title=&quot;&quot;&gt;u&lt;/code&gt;&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;attach a WebVTT Internal Node
-        Object&quot;&gt;Attach&lt;/span&gt; a &lt;span&gt;WebVTT Underline Object&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the tag name is &quot;&lt;code title=&quot;&quot;&gt;ruby&lt;/code&gt;&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;attach a WebVTT Internal Node
-        Object&quot;&gt;Attach&lt;/span&gt; a &lt;span&gt;WebVTT Ruby Object&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the tag name is &quot;&lt;code title=&quot;&quot;&gt;rt&lt;/code&gt;&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;If &lt;var title=&quot;&quot;&gt;current&lt;/var&gt; is a &lt;span&gt;WebVTT Ruby
-        Object&lt;/span&gt;, then &lt;span title=&quot;attach a WebVTT Internal Node
-        Object&quot;&gt;attach&lt;/span&gt; a &lt;span&gt;WebVTT Ruby Text
-        Object&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the tag name is &quot;&lt;code title=&quot;&quot;&gt;v&lt;/code&gt;&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;&lt;span title=&quot;attach a WebVTT Internal Node
-        Object&quot;&gt;Attach&lt;/span&gt; a &lt;span&gt;WebVTT Voice Object&lt;/span&gt;, and
-        set its value to the token's annotation string, or the empty
-        string if there is no annotation string.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the tag name is &quot;&lt;code title=&quot;&quot;&gt;lang&lt;/code&gt;&quot;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Push the value of the token's annotation string, or the empty string if there is no
-        annotation string, onto the &lt;var title=&quot;&quot;&gt;language stack&lt;/var&gt;; then &lt;span title=&quot;attach a
-        WebVTT Internal Node Object&quot;&gt;attach&lt;/span&gt; a &lt;span&gt;WebVTT Language Object&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;Otherwise&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Ignore the token.&lt;/p&gt;
-       &lt;/dd&gt;
-
-      &lt;/dl&gt;
-
-      &lt;p&gt;When the steps above say to &lt;dfn&gt;attach a WebVTT Internal
-      Node Object&lt;/dfn&gt; of a particular concrete class, the user agent
-      must run the following steps:&lt;/p&gt;
-
-      &lt;ol&gt;
-
-       &lt;li&gt;&lt;p&gt;Create a new &lt;span&gt;WebVTT Internal Node Object&lt;/span&gt; of
-       the specified concrete class.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Set the new object's list of &lt;span title=&quot;WebVTT Node
-       Object's applicable classes&quot;&gt;applicable classes&lt;/span&gt; to the
-       list of classes in the token, excluding any classes that are
-       the empty string.&lt;/p&gt;
-
-       &lt;li&gt;&lt;p&gt;Set the new object's &lt;span title=&quot;WebVTT Node Object's applicable language&quot;&gt;applicable
-       language&lt;/span&gt; to the top entry on the &lt;var title=&quot;&quot;&gt;language stack&lt;/var&gt;, if the stack is
-       not empty.&lt;/p&gt;
-
-       &lt;li&gt;&lt;p&gt;Append the newly created node object to &lt;var
-       title=&quot;&quot;&gt;current&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;current&lt;/var&gt; be the newly created
-       node object.&lt;/p&gt;&lt;/li&gt;
-
-      &lt;/ol&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;token&lt;/var&gt; is an end tag&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;p&gt;If any of the following conditions is true, then let &lt;var
-      title=&quot;&quot;&gt;current&lt;/var&gt; be the parent node of &lt;var
-      title=&quot;&quot;&gt;current&lt;/var&gt;.&lt;/p&gt;
-
-      &lt;ul class=&quot;brief&quot;&gt;
-
-       &lt;li&gt;The tag name of the end tag token &lt;var title=&quot;&quot;&gt;token&lt;/var&gt;
-       is &quot;&lt;code title=&quot;&quot;&gt;c&lt;/code&gt;&quot; and &lt;var title=&quot;&quot;&gt;current&lt;/var&gt; is
-       a &lt;span&gt;WebVTT Class Object&lt;/span&gt;.&lt;/li&gt;
-
-       &lt;li&gt;The tag name of the end tag token &lt;var title=&quot;&quot;&gt;token&lt;/var&gt;
-       is &quot;&lt;code title=&quot;&quot;&gt;i&lt;/code&gt;&quot; and &lt;var title=&quot;&quot;&gt;current&lt;/var&gt; is
-       a &lt;span&gt;WebVTT Italic Object&lt;/span&gt;.&lt;/li&gt;
-
-       &lt;li&gt;The tag name of the end tag token &lt;var title=&quot;&quot;&gt;token&lt;/var&gt;
-       is &quot;&lt;code title=&quot;&quot;&gt;b&lt;/code&gt;&quot; and &lt;var title=&quot;&quot;&gt;current&lt;/var&gt; is
-       a &lt;span&gt;WebVTT Bold Object&lt;/span&gt;.&lt;/li&gt;
-
-       &lt;li&gt;The tag name of the end tag token &lt;var title=&quot;&quot;&gt;token&lt;/var&gt;
-       is &quot;&lt;code title=&quot;&quot;&gt;u&lt;/code&gt;&quot; and &lt;var title=&quot;&quot;&gt;current&lt;/var&gt; is
-       a &lt;span&gt;WebVTT Underline Object&lt;/span&gt;.&lt;/li&gt;
-
-       &lt;li&gt;The tag name of the end tag token &lt;var title=&quot;&quot;&gt;token&lt;/var&gt;
-       is &quot;&lt;code title=&quot;&quot;&gt;ruby&lt;/code&gt;&quot; and &lt;var title=&quot;&quot;&gt;current&lt;/var&gt; is
-       a &lt;span&gt;WebVTT Ruby Object&lt;/span&gt;.&lt;/li&gt;
-
-       &lt;li&gt;The tag name of the end tag token &lt;var title=&quot;&quot;&gt;token&lt;/var&gt;
-       is &quot;&lt;code title=&quot;&quot;&gt;rt&lt;/code&gt;&quot; and &lt;var title=&quot;&quot;&gt;current&lt;/var&gt; is
-       a &lt;span&gt;WebVTT Ruby Text Object&lt;/span&gt;.&lt;/li&gt;
-
-       &lt;li&gt;The tag name of the end tag token &lt;var title=&quot;&quot;&gt;token&lt;/var&gt;
-       is &quot;&lt;code title=&quot;&quot;&gt;v&lt;/code&gt;&quot; and &lt;var title=&quot;&quot;&gt;current&lt;/var&gt; is
-       a &lt;span&gt;WebVTT Voice Object&lt;/span&gt;.&lt;/li&gt;
-
-      &lt;/ul&gt;
-
-      &lt;p&gt;Otherwise, if the tag name of the end tag token &lt;var title=&quot;&quot;&gt;token&lt;/var&gt; is &quot;&lt;code
-      title=&quot;&quot;&gt;lang&lt;/code&gt;&quot; and &lt;var title=&quot;&quot;&gt;current&lt;/var&gt; is a &lt;span&gt;WebVTT Language
-      Object&lt;/span&gt;, then let &lt;var title=&quot;&quot;&gt;current&lt;/var&gt; be the parent node of &lt;var
-      title=&quot;&quot;&gt;current&lt;/var&gt;, and pop the top value from the &lt;var title=&quot;&quot;&gt;language stack&lt;/var&gt;.&lt;/p&gt;
-
-      &lt;p&gt;Otherwise, if the tag name of the end tag token &lt;var
-      title=&quot;&quot;&gt;token&lt;/var&gt; is &quot;&lt;code title=&quot;&quot;&gt;ruby&lt;/code&gt;&quot; and &lt;var
-      title=&quot;&quot;&gt;current&lt;/var&gt; is a &lt;span&gt;WebVTT Ruby Text
-      Object&lt;/span&gt;, then let &lt;var title=&quot;&quot;&gt;current&lt;/var&gt; be the
-      parent node of the parent node of &lt;var
-      title=&quot;&quot;&gt;current&lt;/var&gt;.&lt;/p&gt;
-
-      &lt;p&gt;Otherwise, ignore the token.&lt;/p&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;token&lt;/var&gt; is a timestamp tag&lt;/dt&gt;
-     &lt;dd&gt;
-
-      &lt;ol&gt;
-
-       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; be the tag value.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be a pointer into
-       &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, initially pointing at the start of
-       the string.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;&lt;span&gt;Collect a WebVTT timestamp&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;
-
-        &lt;p&gt;If that algorithm does not fail, and if &lt;var
-        title=&quot;&quot;&gt;position&lt;/var&gt; now points at the end of &lt;var
-        title=&quot;&quot;&gt;input&lt;/var&gt; (i.e. there are no trailing characters
-        after the timestamp), then create a &lt;span&gt;WebVTT Timestamp
-        Object&lt;/span&gt; whose value is the collected time, then append
-        it to &lt;var title=&quot;&quot;&gt;current&lt;/var&gt;.&lt;/p&gt;
-
-        &lt;p&gt;Otherwise, ignore the token.&lt;/p&gt;
-
-       &lt;/li&gt;
-
-      &lt;/ol&gt;
-
-     &lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Jump to the step labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;WebVTT cue text tokenizer&lt;/dfn&gt; is as follows. It emits
-  a token, which is either a string (whose value is a sequence of
-  characters), a start tag (with a tag name, a list of classes, and
-  optionally an annotation), an end tag (with a tag name), or a
-  timestamp tag (with a tag value).&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; and &lt;var
-   title=&quot;&quot;&gt;position&lt;/var&gt; be the same variables as those of the same
-   name in the algorithm that invoked these steps.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;tokenizer state&lt;/var&gt; be &lt;span&gt;WebVTT data
-   state&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; be the empty string.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt; be the empty string.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;classes&lt;/var&gt; be an empty list.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;&lt;i&gt;Loop&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; is past the end of
-    &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, let &lt;var title=&quot;&quot;&gt;c&lt;/var&gt; be an
-    end-of-file marker. Otherwise, let &lt;var title=&quot;&quot;&gt;c&lt;/var&gt; be the
-    character in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt; pointed to by &lt;var
-    title=&quot;&quot;&gt;position&lt;/var&gt;.&lt;/p&gt;
-
-    &lt;p class=&quot;note&quot;&gt;An end-of-file marker is not a Unicode character,
-    it is used to end the tokenizer.&lt;/p&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;Jump to the state given by &lt;var title=&quot;&quot;&gt;tokenizer
-    state&lt;/var&gt;:&lt;/p&gt;
-
-    &lt;dl&gt;
-
-     &lt;dt&gt;&lt;dfn&gt;WebVTT data state&lt;/dfn&gt;&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;Jump to the entry that matches the value of &lt;var
-      title=&quot;&quot;&gt;c&lt;/var&gt;:&lt;/p&gt;
-
-      &lt;dl&gt;
-
-       &lt;dt&gt;U+0026 AMPERSAND (&amp;)&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Set &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;c&lt;/var&gt;,
-        set &lt;var title=&quot;&quot;&gt;tokenizer state&lt;/var&gt; to the &lt;span&gt;WebVTT
-        escape state&lt;/span&gt;, and jump to the step labeled
-        &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;U+003C LESS-THAN SIGN (&lt;)&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;If &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; is the empty string, then set
-        &lt;var title=&quot;&quot;&gt;tokenizer state&lt;/var&gt; to the &lt;span&gt;WebVTT tag
-        state&lt;/span&gt; and jump to the step labeled &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-        &lt;p&gt;Otherwise, return a string token whose value is &lt;var
-        title=&quot;&quot;&gt;result&lt;/var&gt; and abort these steps.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;End-of-file marker&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Return a string token whose value is &lt;var
-        title=&quot;&quot;&gt;result&lt;/var&gt; and abort these steps.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append &lt;var title=&quot;&quot;&gt;c&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;
-        and jump to the step labeled &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt; 
-
-      &lt;/dl&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;dfn&gt;WebVTT escape state&lt;/dfn&gt;&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;Jump to the entry that matches the value of &lt;var
-      title=&quot;&quot;&gt;c&lt;/var&gt;:&lt;/p&gt;
-
-      &lt;dl&gt;
-
-       &lt;dt&gt;U+0026 AMPERSAND (&amp;)&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt; to &lt;var
-        title=&quot;&quot;&gt;result&lt;/var&gt;, set &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt; to &lt;var
-        title=&quot;&quot;&gt;c&lt;/var&gt;, and jump to the step labeled
-        &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;&lt;span&gt;Alphanumeric ASCII characters&lt;/span&gt;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append &lt;var title=&quot;&quot;&gt;c&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt;
-        and jump to the step labeled &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;U+003B SEMICOLON character (;)&lt;/dt&gt;
-       &lt;dd&gt;
-
-        &lt;p&gt;First, examine the value of &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt;:&lt;/p&gt;
-
-        &lt;p&gt;If &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt; is the string &quot;&lt;code
-        title=&quot;&quot;&gt;&amp;amp&lt;/code&gt;&quot;, then append a U+0026 AMPERSAND
-        character (&amp;) to &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/p&gt;
-
-        &lt;p&gt;If &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt; is the string &quot;&lt;code
-        title=&quot;&quot;&gt;&amp;lt&lt;/code&gt;&quot;, then append a U+003C LESS-THAN SIGN
-        character (&lt;) to &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/p&gt;
-
-        &lt;p&gt;If &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt; is the string &quot;&lt;code
-        title=&quot;&quot;&gt;&amp;gt&lt;/code&gt;&quot;, then append a U+003E GREATER-THAN SIGN
-        character (&gt;) to &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/p&gt;
-
-        &lt;p&gt;If &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt; is the string &quot;&lt;code
-        title=&quot;&quot;&gt;&amp;lrm&lt;/code&gt;&quot;, then append a U+200E LEFT-TO-RIGHT
-        MARK character to &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/p&gt;
-
-        &lt;p&gt;If &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt; is the string &quot;&lt;code
-        title=&quot;&quot;&gt;&amp;rlm&lt;/code&gt;&quot;, then append a U+200F RIGHT-TO-LEFT
-        MARK character to &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/p&gt;
-
-        &lt;p&gt;If &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt; is the string &quot;&lt;code
-        title=&quot;&quot;&gt;&amp;nbsp&lt;/code&gt;&quot;, then append a U+00A0 NO-BREAK
-        SPACE character to &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/p&gt;
-
-        &lt;p&gt;Otherwise, append &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt; followed by a
-        U+003B SEMICOLON character (;) to &lt;var
-        title=&quot;&quot;&gt;result&lt;/var&gt;.&lt;/p&gt;
-
-        &lt;p&gt;Then, in any case, set &lt;var title=&quot;&quot;&gt;tokenizer state&lt;/var&gt;
-        to the &lt;span&gt;WebVTT data state&lt;/span&gt;, and jump to the step
-        labeled &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-
-       &lt;/dd&gt;
-
-       &lt;dt&gt;U+003C LESS-THAN SIGN (&lt;)&lt;/dt&gt;
-       &lt;dt&gt;End-of-file marker&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt; to &lt;var
-        title=&quot;&quot;&gt;result&lt;/var&gt;, return a string token whose value is
-        &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;, and abort these steps.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt; to &lt;var
-        title=&quot;&quot;&gt;result&lt;/var&gt;, append &lt;var title=&quot;&quot;&gt;c&lt;/var&gt; to &lt;var
-        title=&quot;&quot;&gt;result&lt;/var&gt;, set &lt;var title=&quot;&quot;&gt;tokenizer state&lt;/var&gt;
-        to the &lt;span&gt;WebVTT data state&lt;/span&gt;, and jump to the step
-        labeled &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt; 
-
-      &lt;/dl&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;dfn&gt;WebVTT tag state&lt;/dfn&gt;&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;Jump to the entry that matches the value of &lt;var
-      title=&quot;&quot;&gt;c&lt;/var&gt;:&lt;/p&gt;
-
-      &lt;dl&gt;
-
-       &lt;dt&gt;U+0009 CHARACTER TABULATION (tab) character&lt;/dt&gt;
-       &lt;dt&gt;U+000A LINE FEED (LF) character&lt;/dt&gt;
-       &lt;dt&gt;U+000C FORM FEED (FF) character&lt;/dt&gt;
-       &lt;dt&gt;U+0020 SPACE character&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;!-- assert: &gt;result&lt; is the empty string --&gt;
-        &lt;p&gt;Set &lt;var title=&quot;&quot;&gt;tokenizer state&lt;/var&gt; to the &lt;span&gt;WebVTT
-        start tag annotation state&lt;/span&gt;, and jump to the step labeled
-        &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt; 
-
-       &lt;dt&gt;U+002E FULL STOP character (.)&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;!-- assert: &gt;result&lt; is the empty string --&gt;
-        &lt;p&gt;Set &lt;var title=&quot;&quot;&gt;tokenizer state&lt;/var&gt; to the &lt;span&gt;WebVTT
-        start tag class state&lt;/span&gt;, and jump to the step labeled
-        &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt; 
-
-       &lt;dt&gt;U+002F SOLIDUS character (/)&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Set &lt;var title=&quot;&quot;&gt;tokenizer state&lt;/var&gt; to the &lt;span&gt;WebVTT
-        end tag state&lt;/span&gt;, and jump to the step labeled
-        &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;&lt;span&gt;ASCII digits&lt;/span&gt;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Set &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;c&lt;/var&gt;,
-        set &lt;var title=&quot;&quot;&gt;tokenizer state&lt;/var&gt; to the &lt;span&gt;WebVTT
-        timestamp tag state&lt;/span&gt;, and jump to the step labeled
-        &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt; 
-
-       &lt;dt&gt;U+003E GREATER-THAN SIGN character (&gt;)&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character
-        in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then jump to the next &quot;end-of-file
-        marker&quot; entry below.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;End-of-file marker&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Return a start tag whose tag name is the empty string, with
-        no classes and no annotation, and abort these steps.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Set &lt;var title=&quot;&quot;&gt;result&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;c&lt;/var&gt;,
-        set &lt;var title=&quot;&quot;&gt;tokenizer state&lt;/var&gt; to the &lt;span&gt;WebVTT
-        start tag state&lt;/span&gt;, and jump to the step labeled
-        &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt; 
-
-      &lt;/dl&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;dfn&gt;WebVTT start tag state&lt;/dfn&gt;&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;Jump to the entry that matches the value of &lt;var
-      title=&quot;&quot;&gt;c&lt;/var&gt;:&lt;/p&gt;
-
-      &lt;dl&gt;
-
-       &lt;dt&gt;U+0009 CHARACTER TABULATION (tab) character&lt;/dt&gt;
-       &lt;dt&gt;U+000C FORM FEED (FF) character&lt;/dt&gt;
-       &lt;dt&gt;U+0020 SPACE character&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Set &lt;var title=&quot;&quot;&gt;tokenizer state&lt;/var&gt; to the &lt;span&gt;WebVTT
-        start tag annotation state&lt;/span&gt;, and jump to the step labeled
-        &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt; 
-
-       &lt;dt&gt;U+000A LINE FEED (LF) character&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Set &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;c&lt;/var&gt;,
-        set &lt;var title=&quot;&quot;&gt;tokenizer state&lt;/var&gt; to the &lt;span&gt;WebVTT
-        start tag annotation state&lt;/span&gt;, and jump to the step
-        labeled &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;U+002E FULL STOP character (.)&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Set &lt;var title=&quot;&quot;&gt;tokenizer state&lt;/var&gt; to the &lt;span&gt;WebVTT
-        start tag class state&lt;/span&gt;, and jump to the step labeled
-        &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt; 
-
-       &lt;dt&gt;U+003E GREATER-THAN SIGN character (&gt;)&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character
-        in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then jump to the next &quot;end-of-file
-        marker&quot; entry below.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;End-of-file marker&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Return a start tag whose tag name is &lt;var
-        title=&quot;&quot;&gt;result&lt;/var&gt;, with no classes and no annotation, and
-        abort these steps.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append &lt;var title=&quot;&quot;&gt;c&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;
-        and jump to the step labeled &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt; 
-
-      &lt;/dl&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;dfn&gt;WebVTT start tag class state&lt;/dfn&gt;&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;Jump to the entry that matches the value of &lt;var
-      title=&quot;&quot;&gt;c&lt;/var&gt;:&lt;/p&gt;
-
-      &lt;dl&gt;
-
-       &lt;dt&gt;U+0009 CHARACTER TABULATION (tab) character&lt;/dt&gt;
-       &lt;dt&gt;U+000C FORM FEED (FF) character&lt;/dt&gt;
-       &lt;dt&gt;U+0020 SPACE character&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;classes&lt;/var&gt; an entry whose value
-        is &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt;, set &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt;
-        to the empty string, set &lt;var title=&quot;&quot;&gt;tokenizer state&lt;/var&gt;
-        to the &lt;span&gt;WebVTT start tag annotation state&lt;/span&gt;, and
-        jump to the step labeled &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt; 
-
-       &lt;dt&gt;U+000A LINE FEED (LF) character&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;classes&lt;/var&gt; an entry whose value
-        is &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt;, set &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt;
-        to &lt;var title=&quot;&quot;&gt;c&lt;/var&gt;, set &lt;var title=&quot;&quot;&gt;tokenizer
-        state&lt;/var&gt; to the &lt;span&gt;WebVTT start tag annotation
-        state&lt;/span&gt;, and jump to the step labeled &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;U+002E FULL STOP character (.)&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;classes&lt;/var&gt; an entry whose value
-        is &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt;, set &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt;
-        to the empty string, and jump to the step labeled
-        &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt; 
-
-       &lt;dt&gt;U+003E GREATER-THAN SIGN character (&gt;)&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character
-        in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then jump to the next &quot;end-of-file
-        marker&quot; entry below.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;End-of-file marker&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append to &lt;var title=&quot;&quot;&gt;classes&lt;/var&gt; an entry whose value
-        is &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt;, then return a start tag whose
-        tag name is &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;, with the classes given
-        in &lt;var title=&quot;&quot;&gt;classes&lt;/var&gt; but no annotation, and abort
-        these steps.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append &lt;var title=&quot;&quot;&gt;c&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt;
-        and jump to the step labeled &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt; 
-
-      &lt;/dl&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;dfn&gt;WebVTT start tag annotation state&lt;/dfn&gt;&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;Jump to the entry that matches the value of &lt;var
-      title=&quot;&quot;&gt;c&lt;/var&gt;:&lt;/p&gt;
-
-      &lt;dl&gt;
-
-       &lt;dt&gt;U+003E GREATER-THAN SIGN character (&gt;)&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character
-        in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then jump to the next &quot;end-of-file
-        marker&quot; entry below.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;End-of-file marker&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Remove any leading or trailing &lt;span title=&quot;space
-        character&quot;&gt;space characters&lt;/span&gt; from &lt;var
-        title=&quot;&quot;&gt;buffer&lt;/var&gt;, and replace any sequence of one or more
-        consecutive &lt;span title=&quot;space character&quot;&gt;space
-        characters&lt;/span&gt; in &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt; with a single
-        U+0020 SPACE character; then, return a start tag whose tag
-        name is &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;, with the classes given in
-        &lt;var title=&quot;&quot;&gt;classes&lt;/var&gt;, and with &lt;var
-        title=&quot;&quot;&gt;buffer&lt;/var&gt; as the annotation, and abort these
-        steps.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append &lt;var title=&quot;&quot;&gt;c&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;buffer&lt;/var&gt;
-        and jump to the step labeled &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt; 
-
-      &lt;/dl&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;dfn&gt;WebVTT end tag state&lt;/dfn&gt;&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;Jump to the entry that matches the value of &lt;var
-      title=&quot;&quot;&gt;c&lt;/var&gt;:&lt;/p&gt;
-
-      &lt;dl&gt;
-
-       &lt;!-- should we ignore anything after spaces, tabs, and line feeds? --&gt;
-
-       &lt;dt&gt;U+003E GREATER-THAN SIGN character (&gt;)&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character
-        in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then jump to the next &quot;end-of-file
-        marker&quot; entry below.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;End-of-file marker&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Return an end tag whose tag name is &lt;var
-        title=&quot;&quot;&gt;result&lt;/var&gt; and abort these steps.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append &lt;var title=&quot;&quot;&gt;c&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;
-        and jump to the step labeled &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt; 
-
-      &lt;/dl&gt;
-
-     &lt;/dd&gt;
-
-     &lt;dt&gt;&lt;dfn&gt;WebVTT timestamp tag state&lt;/dfn&gt;&lt;/dt&gt;
-
-     &lt;dd&gt;
-
-      &lt;p&gt;Jump to the entry that matches the value of &lt;var
-      title=&quot;&quot;&gt;c&lt;/var&gt;:&lt;/p&gt;
-
-      &lt;dl&gt;
-
-       &lt;dt&gt;U+003E GREATER-THAN SIGN character (&gt;)&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next character
-        in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;, then jump to the next &quot;end-of-file
-        marker&quot; entry below.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;End-of-file marker&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Return a timestamp tag whose tag name is &lt;var
-        title=&quot;&quot;&gt;result&lt;/var&gt; and abort these steps.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;Anything else&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Append &lt;var title=&quot;&quot;&gt;c&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;result&lt;/var&gt;
-        and jump to the step labeled &lt;i&gt;next&lt;/i&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-      &lt;/dl&gt;
-
-     &lt;/dd&gt;
-
-    &lt;/dl&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;i&gt;Next&lt;/i&gt;: Advance &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; to the next
-   character in &lt;var title=&quot;&quot;&gt;input&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Jump to the step labeled &lt;i&gt;loop&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-
-  &lt;h3&gt;&lt;dfn&gt;WebVTT cue text DOM construction rules&lt;/dfn&gt;&lt;/h3&gt;
-
-  &lt;p&gt;To convert a &lt;span&gt;List of WebVTT Node Objects&lt;/span&gt; to a DOM
-  tree for &lt;code&gt;Document&lt;/code&gt; &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;, user
-  agents must create a tree of DOM nodes that is isomorphous to the
-  tree of &lt;span title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node Objects&lt;/span&gt;,
-  with the following mapping of &lt;span title=&quot;WebVTT Node
-  Object&quot;&gt;WebVTT Node Objects&lt;/span&gt; to DOM nodes:&lt;/p&gt;
-
-  &lt;table&gt;
-   &lt;thead&gt;
-    &lt;tr&gt;
-     &lt;th&gt;&lt;span&gt;WebVTT Node Object&lt;/span&gt;
-     &lt;th&gt;DOM node
-   &lt;tbody&gt;
-    &lt;tr&gt;
-     &lt;td&gt;&lt;span&gt;List of WebVTT Node Objects&lt;/span&gt;
-     &lt;td&gt;&lt;code&gt;DocumentFragment&lt;/code&gt; node
-    &lt;tr&gt;
-     &lt;td&gt;&lt;span&gt;WebVTT Class Object&lt;/span&gt;
-     &lt;td&gt;&lt;code&gt;HTMLElement&lt;/code&gt; element node with &lt;code title=&quot;dom-Node-localName&quot;&gt;localName&lt;/code&gt; &quot;&lt;code&gt;span&lt;/code&gt;&quot;.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;span&gt;WebVTT Italic Object&lt;/span&gt;
-     &lt;td&gt;&lt;code&gt;HTMLElement&lt;/code&gt; element node with &lt;code title=&quot;dom-Node-localName&quot;&gt;localName&lt;/code&gt; &quot;&lt;code&gt;i&lt;/code&gt;&quot;.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;span&gt;WebVTT Bold Object&lt;/span&gt;
-     &lt;td&gt;&lt;code&gt;HTMLElement&lt;/code&gt; element node with &lt;code title=&quot;dom-Node-localName&quot;&gt;localName&lt;/code&gt; &quot;&lt;code&gt;b&lt;/code&gt;&quot;.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;span&gt;WebVTT Underline Object&lt;/span&gt;
-     &lt;td&gt;&lt;code&gt;HTMLElement&lt;/code&gt; element node with &lt;code title=&quot;dom-Node-localName&quot;&gt;localName&lt;/code&gt; &quot;&lt;code&gt;u&lt;/code&gt;&quot;.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;span&gt;WebVTT Ruby Object&lt;/span&gt;
-     &lt;td&gt;&lt;code&gt;HTMLElement&lt;/code&gt; element node with &lt;code title=&quot;dom-Node-localName&quot;&gt;localName&lt;/code&gt; &quot;&lt;code&gt;ruby&lt;/code&gt;&quot;.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;span&gt;WebVTT Ruby Text Object&lt;/span&gt;
-     &lt;td&gt;&lt;code&gt;HTMLElement&lt;/code&gt; element node with &lt;code title=&quot;dom-Node-localName&quot;&gt;localName&lt;/code&gt; &quot;&lt;code&gt;rt&lt;/code&gt;&quot;.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;span&gt;WebVTT Voice Object&lt;/span&gt;
-     &lt;td&gt;&lt;code&gt;HTMLElement&lt;/code&gt; element node with &lt;code title=&quot;dom-Node-localName&quot;&gt;localName&lt;/code&gt; &quot;&lt;code&gt;span&lt;/code&gt;&quot;, and a &lt;code title=&quot;attr-title&quot;&gt;title&lt;/code&gt; attribute set to the &lt;span&gt;WebVTT Voice Object&lt;/span&gt;'s value.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;span&gt;WebVTT Class Object&lt;/span&gt;
-     &lt;td&gt;&lt;code&gt;HTMLElement&lt;/code&gt; element node with &lt;code title=&quot;dom-Node-localName&quot;&gt;localName&lt;/code&gt; &quot;&lt;code&gt;span&lt;/code&gt;&quot;, and a &lt;code title=&quot;attr-lang&quot;&gt;lang&lt;/code&gt; attribute set to the &lt;span&gt;WebVTT Language Object&lt;/span&gt;'s &lt;span title=&quot;WebVTT Node Object's applicable language&quot;&gt;applicable language&lt;/span&gt;.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;span&gt;WebVTT Text Object&lt;/span&gt;
-     &lt;td&gt;&lt;code&gt;Text&lt;/code&gt; node whose character data is the value of the &lt;span&gt;WebVTT Text Object&lt;/span&gt;.
-    &lt;tr&gt;
-     &lt;td&gt;&lt;span&gt;WebVTT Timestamp Object&lt;/span&gt;
-     &lt;td&gt;&lt;code&gt;ProcessingInstruction&lt;/code&gt; node whose &lt;code title=&quot;dom-ProcessingInstruction-target&quot;&gt;target&lt;/code&gt; is &quot;&lt;code title=&quot;&quot;&gt;timestamp&lt;/code&gt;&quot; and whose &lt;code title=&quot;dom-ProcessingInstruction-data&quot;&gt;data&lt;/code&gt; is a &lt;span&gt;WebVTT timestamp&lt;/span&gt; representing the value of the &lt;span&gt;WebVTT Timestamp Object&lt;/span&gt;, with all optional components included, with one leading zero if the &lt;var title=&quot;&quot;&gt;hours&lt;/var&gt; component is less than ten, and with no leading zeros otherwise.
-  &lt;/table&gt;
-
-  &lt;p&gt;&lt;code&gt;HTMLElement&lt;/code&gt; nodes created as part of the mapping described above must have their
-  &lt;code title=&quot;dom-Node-namespaceURI&quot;&gt;namespaceURI&lt;/code&gt; set to the &lt;span&gt;HTML namespace&lt;/span&gt;,
-  and, if the corresponding &lt;span&gt;WebVTT Internal Node Object&lt;/span&gt; has any &lt;span title=&quot;WebVTT
-  Node Object's applicable classes&quot;&gt;applicable classes&lt;/span&gt;, must have a &lt;code
-  title=&quot;attr-class&quot;&gt;class&lt;/code&gt; attribute set to the string obtained by concatenating all those
-  classes, each separated from the next by a single U+0020 SPACE character.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;code title=&quot;dom-Node-ownerDocument&quot;&gt;ownerDocument&lt;/code&gt;
-  attribute of all nodes in the DOM tree must be set to the given
-  document &lt;var title=&quot;&quot;&gt;owner&lt;/var&gt;.&lt;/p&gt;
-
-  &lt;p&gt;All characteristics of the DOM nodes that are not described above
-  or dependent on characteristics defined above must be left at their
-  initial values.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-  &lt;h2&gt;Rendering&lt;/h2&gt;
-
-  &lt;h3&gt;Cues in isolation&lt;/h3&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;rules for interpreting WebVTT cue text&lt;/dfn&gt; (e.g. for use as chapter titles) are as
-  follows:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;nodes&lt;/var&gt; be the &lt;span&gt;list of WebVTT Node Objects&lt;/span&gt; obtained by
-   applying the &lt;span&gt;WebVTT cue text parsing rules&lt;/span&gt; to the &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s
-   &lt;span&gt;text track cue text&lt;/span&gt;.&lt;/p&gt;
-
-   &lt;li&gt;&lt;p class=&quot;XXX&quot;&gt;... &lt;!-- flatten nodes and return a single string somehow --&gt;
-
-  &lt;/ol&gt;
-
-  &lt;h3&gt;Cues with video&lt;/h3&gt;
-
-  &lt;h4&gt;Processing model&lt;/h4&gt;
-
-  &lt;p&gt;The &lt;dfn&gt;rules for updating the display of WebVTT text
-  tracks&lt;/dfn&gt; render the &lt;span title=&quot;text track&quot;&gt;text
-  tracks&lt;/span&gt; of a &lt;span&gt;media element&lt;/span&gt; (specifically, a
-  &lt;code&gt;video&lt;/code&gt; element), or of another playback mechanism, by
-  applying the steps below. All the &lt;span title=&quot;text track&quot;&gt;text
-  tracks&lt;/span&gt; that use these rules for a given &lt;span&gt;media
-  element&lt;/span&gt;, or other playback mechanism, are rendered together,
-  to avoid overlapping subtitles from multiple tracks.&lt;/p&gt;
-
-  &lt;p&gt;The output of the steps below is a set of CSS boxes that covers
-  the rendering area of the &lt;span&gt;media element&lt;/span&gt; or other
-  playback mechanism, which user agents are expected to render in a
-  manner suiting the user.&lt;/p&gt;
-
-  &lt;p&gt;The rules are as follows:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;If the &lt;span&gt;media element&lt;/span&gt; is an &lt;code&gt;audio&lt;/code&gt;
-   element, or is another playback mechanism with no rendering area,
-   abort these steps. There is nothing to render.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;video&lt;/var&gt; be the &lt;span&gt;media
-   element&lt;/span&gt; or other playback mechanism.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;output&lt;/var&gt; be an empty list of
-   absolutely positioned CSS block boxes.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If the user agent is &lt;span title=&quot;expose a user interface to
-   the user&quot;&gt;exposing a user interface&lt;/span&gt; for &lt;var
-   title=&quot;&quot;&gt;video&lt;/var&gt;, add to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt; one or more
-   completely transparent positioned CSS block boxes that cover the
-   same region as the user interface.&lt;/p&gt;
-
-   &lt;li&gt;&lt;p&gt;If the last time these rules were run, the user agent was
-   not &lt;span title=&quot;expose a user interface to the user&quot;&gt;exposing a
-   user interface&lt;/span&gt; for &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;, but now it is,
-   optionally let &lt;var title=&quot;&quot;&gt;reset&lt;/var&gt; be true. Otherwise, let &lt;var
-   title=&quot;&quot;&gt;reset&lt;/var&gt; be false.&lt;/p&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;tracks&lt;/var&gt; be the subset of &lt;var
-   title=&quot;&quot;&gt;video&lt;/var&gt;'s &lt;span&gt;list of text tracks&lt;/span&gt; that have
-   as their &lt;span&gt;rules for updating the text track rendering&lt;/span&gt;
-   these &lt;span&gt;rules for updating the display of WebVTT text
-   tracks&lt;/span&gt;, and whose &lt;span&gt;text track mode&lt;/span&gt; is &lt;span
-   title=&quot;text track showing&quot;&gt;showing&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cues&lt;/var&gt; be an empty list of &lt;span
-   title=&quot;text track cue&quot;&gt;text track cues&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;For each track &lt;var title=&quot;&quot;&gt;track&lt;/var&gt; in &lt;var
-   title=&quot;&quot;&gt;tracks&lt;/var&gt;, append to &lt;var title=&quot;&quot;&gt;cues&lt;/var&gt; all the
-   &lt;span title=&quot;text track cue&quot;&gt;cues&lt;/span&gt; from &lt;var
-   title=&quot;&quot;&gt;track&lt;/var&gt;'s &lt;span title=&quot;text track list of cues&quot;&gt;list
-   of cues&lt;/span&gt; that have their &lt;span&gt;text track cue active
-   flag&lt;/span&gt; set.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;reset&lt;/var&gt; is false, then, for each
-   &lt;span&gt;text track cue&lt;/span&gt; &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; in &lt;var
-   title=&quot;&quot;&gt;cues&lt;/var&gt;: if &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track
-   cue display state&lt;/span&gt; has a set of CSS boxes, then add those
-   boxes to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;, and remove &lt;var
-   title=&quot;&quot;&gt;cue&lt;/var&gt; from &lt;var title=&quot;&quot;&gt;cues&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For each &lt;span&gt;text track cue&lt;/span&gt; &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;
-    in &lt;var title=&quot;&quot;&gt;cues&lt;/var&gt; that has not yet had corresponding CSS
-    boxes added to &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;, in &lt;span&gt;text track
-    cue order&lt;/span&gt;, run the following substeps:&lt;/p&gt;
-
-    &lt;ol&gt;
-
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;nodes&lt;/var&gt; be the &lt;span&gt;list of WebVTT
-     Node Objects&lt;/span&gt; obtained by applying the &lt;span&gt;WebVTT cue
-     text parsing rules&lt;/span&gt; to the &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s
-     &lt;span&gt;text track cue text&lt;/span&gt;.&lt;/p&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Apply the Unicode Bidirectional Algorithm's Paragraph Level
-      steps to the concatenation of the values of each &lt;span&gt;WebVTT
-      Text Object&lt;/span&gt; in &lt;var title=&quot;&quot;&gt;nodes&lt;/var&gt;, in a pre-order,
-      depth-first traversal, excluding &lt;span title=&quot;WebVTT Ruby Text
-      Object&quot;&gt;WebVTT Ruby Text Objects&lt;/span&gt; and their descendants,
-      to determine the &lt;i&gt;paragraph embedding level&lt;/i&gt; of the first
-      Unicode paragraph of the cue. &lt;a href=&quot;#refsBIDI&quot;&gt;[BIDI]&lt;/a&gt;&lt;/p&gt;
-
-      &lt;p class=&quot;note&quot;&gt;Within a cue, paragraph boundaries are only denoted by Type B characters, such
-      as U+000A LINE FEED (LF), U+0085 NEXT LINE (NEL), and U+2029 PARAGRAPH SEPARATOR. (This means
-      each line of the cue is reordered as if it was a separate paragraph.)&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If the &lt;i&gt;paragraph embedding level&lt;/i&gt; determined in the
-      previous step is even (the &lt;i&gt;paragraph direction&lt;/i&gt; is
-      left-to-right), let &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; be 'ltr',
-      otherwise, let it be 'rtl'.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is
-     &lt;span title=&quot;text track cue horizontal writing
-     direction&quot;&gt;horizontal&lt;/span&gt;, then let &lt;var
-     title=&quot;&quot;&gt;writing-mode&lt;/var&gt; be 'horizontal-tb'. Otherwise, if the
-     &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span
-     title=&quot;text track cue vertical growing left writing
-     direction&quot;&gt;vertical growing left&lt;/span&gt;, then let &lt;var
-     title=&quot;&quot;&gt;writing-mode&lt;/var&gt; be 'vertical-rl'. Otherwise, the
-     &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span
-     title=&quot;text track cue vertical growing right writing
-     direction&quot;&gt;vertical growing right&lt;/span&gt;; let &lt;var
-     title=&quot;&quot;&gt;writing-mode&lt;/var&gt; be 'vertical-lr'.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Determine the value of &lt;var title=&quot;&quot;&gt;maximum size&lt;/var&gt; for
-      &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; as per the appropriate rules from the
-      following list:&lt;/p&gt;
-
-      &lt;dl class=&quot;switch&quot;&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue start alignment&quot;&gt;start&lt;/span&gt;,
-              and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'ltr'&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue end alignment&quot;&gt;end&lt;/span&gt;,
-              and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'rtl'&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-          and the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue left alignment&quot;&gt;left&lt;/span&gt;&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing left writing direction&quot;&gt;vertical growing left&lt;/span&gt;,
-              and the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue start alignment&quot;&gt;start&lt;/span&gt;
-              or &lt;span title=&quot;text track cue left alignment&quot;&gt;left&lt;/span&gt;&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing right writing direction&quot;&gt;vertical growing right&lt;/span&gt;,
-              and the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue start alignment&quot;&gt;start&lt;/span&gt;
-              or &lt;span title=&quot;text track cue left alignment&quot;&gt;left&lt;/span&gt;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maximum size&lt;/var&gt; be the &lt;span&gt;text track cue text position&lt;/span&gt; subtracted from 100.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue end alignment&quot;&gt;end&lt;/span&gt;,
-              and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'ltr'&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue start alignment&quot;&gt;start&lt;/span&gt;,
-              and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'rtl'&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-          and the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue right alignment&quot;&gt;right&lt;/span&gt;&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing left writing direction&quot;&gt;vertical growing left&lt;/span&gt;,
-              and the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue end alignment&quot;&gt;end&lt;/span&gt;
-              or &lt;span title=&quot;text track cue right alignment&quot;&gt;right&lt;/span&gt;&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing right writing direction&quot;&gt;vertical growing right&lt;/span&gt;,
-              and the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue end alignment&quot;&gt;end&lt;/span&gt;
-              or &lt;span title=&quot;text track cue right alignment&quot;&gt;right&lt;/span&gt;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maximum size&lt;/var&gt; be the &lt;span&gt;text track cue text position&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue middle alignment&quot;&gt;middle&lt;/span&gt;,
-              the &lt;span&gt;text track cue text position&lt;/span&gt; is less than or equal to 50&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maximum size&lt;/var&gt; be the &lt;span&gt;text track cue text position&lt;/span&gt; multiplied by two.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue middle alignment&quot;&gt;middle&lt;/span&gt;,
-              the &lt;span&gt;text track cue text position&lt;/span&gt; is greater than &lt;!-- or equal to --&gt; 50&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;maximum size&lt;/var&gt; be the result of subtracting &lt;span&gt;text track cue text position&lt;/span&gt; from 100 and then multiplying the result by two.&lt;/p&gt;
-       &lt;/dd&gt;
-
-      &lt;/dl&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If the &lt;span&gt;text track cue size&lt;/span&gt; is less than &lt;var
-     title=&quot;&quot;&gt;maximum size&lt;/var&gt;, then let &lt;var title=&quot;&quot;&gt;size&lt;/var&gt; be
-     &lt;span&gt;text track cue size&lt;/span&gt;. Otherwise, let &lt;var
-     title=&quot;&quot;&gt;size&lt;/var&gt; be &lt;var title=&quot;&quot;&gt;maximum size&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is
-     &lt;span title=&quot;text track cue horizontal writing
-     direction&quot;&gt;horizontal&lt;/span&gt;, then let &lt;var title=&quot;&quot;&gt;width&lt;/var&gt;
-     be '&lt;var title=&quot;&quot;&gt;size&lt;/var&gt;&amp;#x2009;vw' and &lt;var
-     title=&quot;&quot;&gt;height&lt;/var&gt; be 'auto'. Otherwise, let &lt;var
-     title=&quot;&quot;&gt;width&lt;/var&gt; be 'auto' and &lt;var title=&quot;&quot;&gt;height&lt;/var&gt; be
-     '&lt;var title=&quot;&quot;&gt;size&lt;/var&gt;&amp;#x2009;vh'. (These are CSS values used
-     by the next section to set CSS properties for the rendering; 'vw'
-     and 'vh' are CSS units.) &lt;a
-     href=&quot;#refsCSSVALUES&quot;&gt;[CSSVALUES]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Determine the value of &lt;var title=&quot;&quot;&gt;x-position&lt;/var&gt; or &lt;var
-      title=&quot;&quot;&gt;y-position&lt;/var&gt; for &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; as per the
-      appropriate rules from the following list:&lt;/p&gt;
-
-      &lt;dl class=&quot;switch&quot;&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue start alignment&quot;&gt;start&lt;/span&gt;,
-              and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'ltr'&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue left alignment&quot;&gt;left&lt;/span&gt;,
-              and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'ltr'&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;x-position&lt;/var&gt; be the &lt;span&gt;text track cue text position&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue end alignment&quot;&gt;end&lt;/span&gt;,
-              and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'rtl'&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue left alignment&quot;&gt;left&lt;/span&gt;,
-              and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'rtl'&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;x-position&lt;/var&gt; be the &lt;span&gt;text track cue text position&lt;/span&gt; subtracted from 100.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue end alignment&quot;&gt;end&lt;/span&gt;,
-              and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'ltr'&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue right alignment&quot;&gt;right&lt;/span&gt;,
-              and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'ltr'&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;x-position&lt;/var&gt; be the &lt;span&gt;text track cue text position&lt;/span&gt; minus &lt;var title=&quot;&quot;&gt;size&lt;/var&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue start alignment&quot;&gt;start&lt;/span&gt;,
-              and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'rtl'&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue right alignment&quot;&gt;right&lt;/span&gt;,
-              and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'rtl'&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;x-position&lt;/var&gt; be the &lt;span&gt;text track cue text position&lt;/span&gt; subtracted from 100, minus &lt;var title=&quot;&quot;&gt;size&lt;/var&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing left writing direction&quot;&gt;vertical growing left&lt;/span&gt;,
-              and the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue start alignment&quot;&gt;start&lt;/span&gt;
-              or &lt;span title=&quot;text track cue left alignment&quot;&gt;left&lt;/span&gt;&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing right writing direction&quot;&gt;vertical growing right&lt;/span&gt;,
-              and the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue start alignment&quot;&gt;start&lt;/span&gt;
-              or &lt;span title=&quot;text track cue left alignment&quot;&gt;left&lt;/span&gt;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;y-position&lt;/var&gt; be the &lt;span&gt;text track cue text position&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing left writing direction&quot;&gt;vertical growing left&lt;/span&gt;,
-              and the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue end alignment&quot;&gt;end&lt;/span&gt;
-              or &lt;span title=&quot;text track cue right alignment&quot;&gt;right&lt;/span&gt;&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing right writing direction&quot;&gt;vertical growing right&lt;/span&gt;,
-              and the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue end alignment&quot;&gt;end&lt;/span&gt;
-              or &lt;span title=&quot;text track cue right alignment&quot;&gt;right&lt;/span&gt;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;y-position&lt;/var&gt; be the &lt;span&gt;text track cue text position&lt;/span&gt; minus &lt;var title=&quot;&quot;&gt;size&lt;/var&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue middle alignment&quot;&gt;middle&lt;/span&gt;,
-              and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'ltr'&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;x-position&lt;/var&gt; be the &lt;span&gt;text track cue text position&lt;/span&gt; minus half of &lt;var title=&quot;&quot;&gt;size&lt;/var&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue middle alignment&quot;&gt;middle&lt;/span&gt;,
-              and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'rtl'&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;x-position&lt;/var&gt; be the &lt;span&gt;text track cue text position&lt;/span&gt; subtracted from 100, minus half of &lt;var title=&quot;&quot;&gt;size&lt;/var&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing left writing direction&quot;&gt;vertical growing left&lt;/span&gt;,
-              and the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue middle alignment&quot;&gt;middle&lt;/span&gt;&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing right writing direction&quot;&gt;vertical growing right&lt;/span&gt;,
-              and the &lt;span&gt;text track cue alignment&lt;/span&gt; is &lt;span title=&quot;text track cue middle alignment&quot;&gt;middle&lt;/span&gt;&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;y-position&lt;/var&gt; be the &lt;span&gt;text track cue text position&lt;/span&gt; minus half of &lt;var title=&quot;&quot;&gt;size&lt;/var&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-      &lt;/dl&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Determine the value of whichever of &lt;var
-      title=&quot;&quot;&gt;x-position&lt;/var&gt; or &lt;var title=&quot;&quot;&gt;y-position&lt;/var&gt; is
-      not yet calculated for &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; as per the
-      appropriate rules from the following list:&lt;/p&gt;
-
-      &lt;dl class=&quot;switch&quot;&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              and the &lt;span&gt;text track cue snap-to-lines flag&lt;/span&gt; is set&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;y-position&lt;/var&gt; be zero.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-              and the &lt;span&gt;text track cue snap-to-lines flag&lt;/span&gt; is not set&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;y-position&lt;/var&gt; be the &lt;span&gt;text track cue computed line position&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing left writing direction&quot;&gt;vertical growing left&lt;/span&gt;,
-              and the &lt;span&gt;text track cue snap-to-lines flag&lt;/span&gt; is set&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing right writing direction&quot;&gt;vertical growing right&lt;/span&gt;,
-              and the &lt;span&gt;text track cue snap-to-lines flag&lt;/span&gt; is set&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;x-position&lt;/var&gt; be zero.&lt;/p&gt;
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing left writing direction&quot;&gt;vertical growing left&lt;/span&gt;,
-              and the &lt;span&gt;text track cue snap-to-lines flag&lt;/span&gt; is not set&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing right writing direction&quot;&gt;vertical growing right&lt;/span&gt;,
-              and the &lt;span&gt;text track cue snap-to-lines flag&lt;/span&gt; is not set&lt;/dt&gt;
-       &lt;dd&gt;
-        &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;x-position&lt;/var&gt; be the &lt;span&gt;text track cue computed line position&lt;/span&gt;.&lt;/p&gt;
-       &lt;/dd&gt;
-
-      &lt;/dl&gt;
-
-      &lt;p class=&quot;note&quot;&gt;These are not final positions, they are merely
-      temporary positions used to calculate box dimensions below.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;If the &lt;span&gt;text track cue snap-to-lines flag&lt;/span&gt; is set, then run the appropriate
-      steps from the following list:&lt;/p&gt;
-
-      &lt;dl class=&quot;switch&quot;&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;&lt;/dt&gt;
-       &lt;dd&gt;
-
-        &lt;ol&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;edge margin&lt;/var&gt; be a user-agent-defined horizontal length,
-         expressed as a percentage of the width of the &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area,
-         which will be used to define a margin at the left and right edges of the video into which
-         this cue will not be placed. In situations with overscan, this margin should be sufficient
-         to place the cue within the title-safe area. In the absence of overscan, this value should
-         be picked for aesthetics (to avoid text being aligned precisely on the left or right edge
-         of the video, which can be ugly).&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;x-position&lt;/var&gt; is less than &lt;var title=&quot;&quot;&gt;edge margin&lt;/var&gt; and
-         the sum of &lt;var title=&quot;&quot;&gt;x-position&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;size&lt;/var&gt; is more than &lt;var
-         title=&quot;&quot;&gt;edge margin&lt;/var&gt;, then increase &lt;var title=&quot;&quot;&gt;x-position&lt;/var&gt; by &lt;var
-         title=&quot;&quot;&gt;edge margin&lt;/var&gt; and decrease &lt;var title=&quot;&quot;&gt;size&lt;/var&gt; by the same
-         amount.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;right margin edge&lt;/var&gt; be 100 minus &lt;var title=&quot;&quot;&gt;edge
-         margin&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;x-position&lt;/var&gt; is less than &lt;var title=&quot;&quot;&gt;right margin
-         edge&lt;/var&gt;, and the sum of &lt;var title=&quot;&quot;&gt;x-position&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;size&lt;/var&gt; is
-         more than &lt;var title=&quot;&quot;&gt;right margin edge&lt;/var&gt;, then decrease &lt;var title=&quot;&quot;&gt;size&lt;/var&gt; by
-         &lt;var title=&quot;&quot;&gt;edge margin&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-        &lt;/ol&gt;
-
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing left writing direction&quot;&gt;vertical growing left&lt;/span&gt;&lt;/dt&gt;
-       &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing right writing direction&quot;&gt;vertical growing right&lt;/span&gt;&lt;/dt&gt;
-       &lt;dd&gt;
-
-        &lt;ol&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;edge margin&lt;/var&gt; be a user-agent-defined vertical length,
-         expressed as a percentage of the height of the &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area,
-         which will be used to define a margin at the top and bottom edges of the video into which
-         this cue will not be placed. In situations with overscan, this margin should be sufficient
-         to place the cue within the title-safe area. In the absence of overscan, this value should
-         be picked for aesthetics (to avoid text being aligned precisely on the top or bottom edge
-         of the video, which can be ugly).&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;y-position&lt;/var&gt; is less than &lt;var title=&quot;&quot;&gt;edge margin&lt;/var&gt; and
-         the sum of &lt;var title=&quot;&quot;&gt;y-position&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;size&lt;/var&gt; is more than &lt;var
-         title=&quot;&quot;&gt;edge margin&lt;/var&gt;, then increase &lt;var title=&quot;&quot;&gt;y-position&lt;/var&gt; by &lt;var
-         title=&quot;&quot;&gt;edge margin&lt;/var&gt; and decrease &lt;var title=&quot;&quot;&gt;size&lt;/var&gt; by the same
-         amount.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;bottom margin edge&lt;/var&gt; be 100 minus &lt;var title=&quot;&quot;&gt;edge
-         margin&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;y-position&lt;/var&gt; is less than &lt;var title=&quot;&quot;&gt;bottom margin
-         edge&lt;/var&gt;, and the sum of &lt;var title=&quot;&quot;&gt;y-position&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;size&lt;/var&gt; is
-         more than &lt;var title=&quot;&quot;&gt;right margin edge&lt;/var&gt;, then decrease &lt;var title=&quot;&quot;&gt;size&lt;/var&gt; by
-         &lt;var title=&quot;&quot;&gt;edge margin&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-        &lt;/ol&gt;
-
-       &lt;/dd&gt;
-
-      &lt;/dl&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;left&lt;/var&gt; be '&lt;var
-     title=&quot;&quot;&gt;x-position&lt;/var&gt;&amp;#x2009;vw' and &lt;var title=&quot;&quot;&gt;top&lt;/var&gt;
-     be '&lt;var title=&quot;&quot;&gt;y-position&lt;/var&gt;&amp;#x2009;vh'. (These again are
-     CSS values used by the next section to set CSS properties for the
-     rendering; 'vw' and 'vh' are CSS units.) &lt;a
-     href=&quot;#refsCSSVALUES&quot;&gt;[CSSVALUES]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Apply the terms of the CSS specifications to &lt;var
-      title=&quot;&quot;&gt;nodes&lt;/var&gt; within the following constraints, thus
-      obtaining a set of CSS boxes positioned relative to an initial
-      containing block: &lt;a href=&quot;#refsCSS&quot;&gt;[CSS]&lt;/a&gt;&lt;/p&gt;
-
-      &lt;ul&gt;
-
-       &lt;li&gt;&lt;p&gt;The &lt;i&gt;document tree&lt;/i&gt; is the tree of &lt;span
-       title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node Objects&lt;/span&gt; rooted at
-       &lt;var title=&quot;&quot;&gt;nodes&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;&lt;p&gt;For the purposes of processing by the CSS specification,
-       &lt;span title=&quot;WebVTT Internal Node Object&quot;&gt;WebVTT Internal Node
-       Objects&lt;/span&gt; are equivalent to elements with the same
-       contents.&lt;/p&gt;&lt;/li&gt;
-
-       &lt;li&gt;For the purposes of processing by the CSS
-       specification, &lt;span title=&quot;WebVTT Text Object&quot;&gt;WebVTT Text
-       Objects&lt;/span&gt; are equivalent to &lt;code&gt;Text&lt;/code&gt; nodes.&lt;/li&gt;
-
-       &lt;li&gt;No style sheets are associated with &lt;var
-       title=&quot;&quot;&gt;nodes&lt;/var&gt;. (The nodes are subsequently restyled
-       using style sheets after their boxes are generated, as
-       described below.)&lt;/li&gt;
-
-       &lt;li&gt;The children of the &lt;var title=&quot;&quot;&gt;nodes&lt;/var&gt; must be
-       wrapped in an anonymous box whose 'display' property has the
-       value 'inline'. This is the &lt;dfn&gt;WebVTT cue background
-       box&lt;/dfn&gt;.&lt;/li&gt;
-
-       &lt;li&gt;Runs of children of &lt;span title=&quot;WebVTT Ruby Object&quot;&gt;WebVTT
-       Ruby Objects&lt;/span&gt; that are not &lt;span title=&quot;WebVTT Ruby Text
-       Object&quot;&gt;WebVTT Ruby Text Objects&lt;/span&gt; must be wrapped in
-       anonymous boxes whose 'display' property has the value
-       'ruby-base'. &lt;a href=&quot;#refsCSSRUBY&quot;&gt;[CSSRUBY]&lt;/a&gt;&lt;/li&gt;
-
-       &lt;li&gt;Properties on &lt;span title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node
-       Objects&lt;/span&gt; have their values set as defined in the next
-       section. (That section uses some of the variables whose values
-       were calculated earlier in this algorithm.)&lt;/li&gt;
-
-       &lt;li&gt;Text runs must be wrapped according to the CSS
-       line-wrapping rules, with the following additional constraints:
-
-        &lt;ul&gt;
-
-         &lt;li&gt;Regardless of the value of the 'white-space' property,
-         lines must be wrapped at the edge of their containing blocks,
-         even if doing so requires splitting a word where there is no
-         line breaking opportunity. (Thus, normally text wraps as
-         needed, but if there is a particularly long word, it does not
-         overflow as it normally would in CSS, it is instead forcibly
-         wrapped at the box's edge.)&lt;/li&gt;
-
-         &lt;li&gt;Regardless of the value of the 'white-space' property,
-         any line breaks inserted by the user agent for the purposes
-         of line wrapping must be placed so as to minimize &Delta;
-         across each run of consecutive lines between preserved
-         newlines in the source. &Delta; for a set of lines is defined
-         as the sum over each line of the absolute of the difference
-         between the line's length and the mean line length of the
-         set.&lt;/li&gt;
-
-        &lt;/ul&gt;
-
-       &lt;/li&gt;
-
-       &lt;li&gt;The viewport (and initial containing block) is
-       &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area.&lt;/li&gt;
-
-      &lt;/ul&gt;
-
-      &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; be the boxes generated as
-      descendants of the initial containing block, along with their
-      positions.&lt;/p&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;If there are no line boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt;,
-     skip the remainder of these substeps for &lt;var
-     title=&quot;&quot;&gt;cue&lt;/var&gt;. The cue is ignored.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;
-
-      &lt;p&gt;Adjust the positions of &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; according
-      to the appropriate steps from the following list:&lt;/p&gt;
-
-      &lt;dl class=&quot;switch&quot;&gt;
-
-       &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue snap-to-lines flag&lt;/span&gt; is set&lt;/dt&gt;
-
-       &lt;dd&gt;
-
-        &lt;p&gt;Many of the steps in this algorithm vary according to the
-        &lt;span&gt;text track cue writing direction&lt;/span&gt;. Steps labeled
-        &quot;&lt;strong&gt;Horizontal&lt;/strong&gt;&quot; must be followed only when the
-        &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span
-        title=&quot;text track cue horizontal writing
-        direction&quot;&gt;horizontal&lt;/span&gt;, steps labeled
-        &quot;&lt;strong&gt;Vertical&lt;/strong&gt;&quot; must be followed when the
-        &lt;span&gt;text track cue writing direction&lt;/span&gt; is either &lt;span
-        title=&quot;text track cue vertical growing left writing
-        direction&quot;&gt;vertical growing left&lt;/span&gt; or &lt;span title=&quot;text
-        track cue vertical growing right writing direction&quot;&gt;vertical
-        growing right&lt;/span&gt;, steps labeled &quot;&lt;strong&gt;Vertical Growing
-        Left&lt;/strong&gt;&quot; must be followed only when the &lt;span&gt;text
-        track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track
-        cue vertical growing left writing direction&quot;&gt;vertical growing
-        left&lt;/span&gt;, and steps labeled &quot;&lt;strong&gt;Vertical Growing
-        Right&lt;/strong&gt;&quot; must be followed only when the &lt;span&gt;text
-        track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track
-        cue vertical growing right writing direction&quot;&gt;vertical growing
-        right&lt;/span&gt;.&lt;/p&gt;
-
-        &lt;ol&gt;
-
-         &lt;li&gt;
-
-          &lt;p&gt;&lt;strong&gt;Horizontal&lt;/strong&gt;: Let &lt;var title=&quot;&quot;&gt;margin&lt;/var&gt; be a user-agent-defined
-          vertical length which will be used to define a margin at the top and bottom edges of the
-          video into which cues will not be placed. In situations with overscan, this margin should
-          be sufficient to place all cues within the title-safe area. In the absence of overscan,
-          this value should be picked for aesthetics (to avoid text being aligned precisely on the
-          bottom edge of the video, which can be ugly).&lt;/p&gt;
-
-          &lt;p&gt;&lt;strong&gt;Vertical&lt;/strong&gt;: Let &lt;var title=&quot;&quot;&gt;margin&lt;/var&gt; be a user-agent-defined
-          horizontal length which will be used to define a margin at the left and right edges of the
-          video into which cues will not be placed. In situations with overscan, this margin should
-          be sufficient to place all cues within the title-safe area. In the absence of overscan,
-          this value should be picked for aesthetics (to avoid text being aligned precisely on the
-          left or right edges of the video, which can be ugly).&lt;/p&gt;
-
-         &lt;/li&gt;
-
-         &lt;li&gt;
-
-          &lt;p&gt;&lt;strong&gt;Horizontal&lt;/strong&gt;: Let &lt;var title=&quot;&quot;&gt;full dimension&lt;/var&gt; be the height of
-          &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area.&lt;/p&gt;
-
-          &lt;p&gt;&lt;strong&gt;Vertical&lt;/strong&gt;: Let &lt;var title=&quot;&quot;&gt;full dimension&lt;/var&gt; be the width of &lt;var
-          title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area.&lt;/p&gt;
-
-          &lt;p&gt;These dimensions must not be adjusted for overscan. (The algorithm does that
-          separately.)&lt;/p&gt;
-
-         &lt;/li&gt;
-
-         &lt;li&gt;
-
-          &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;max dimension&lt;/var&gt; be &lt;span title=&quot;&quot;&gt;&lt;var
-          title=&quot;&quot;&gt;full&nbsp;dimension&lt;/var&gt;&nbsp;-&nbsp;(2&nbsp;&times;&nbsp;&lt;var
-          title=&quot;&quot;&gt;margin&lt;/var&gt;)&lt;/span&gt;.&lt;/p&gt;
-
-         &lt;/li&gt;
-
-         &lt;li&gt;
-
-          &lt;p&gt;&lt;strong&gt;Horizontal&lt;/strong&gt;: Let &lt;var title=&quot;&quot;&gt;step&lt;/var&gt;
-          be the height of the first line box in &lt;var
-          title=&quot;&quot;&gt;boxes&lt;/var&gt;.&lt;/p&gt;
-
-          &lt;p&gt;&lt;strong&gt;Vertical&lt;/strong&gt;: Let &lt;var title=&quot;&quot;&gt;step&lt;/var&gt;
-          be the width of the first line box in &lt;var
-          title=&quot;&quot;&gt;boxes&lt;/var&gt;.&lt;/p&gt;
-
-         &lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If &lt;var title=&quot;&quot;&gt;step&lt;/var&gt; is zero, then jump to the
-         step labeled &lt;i&gt;done positioning&lt;/i&gt; below.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;line position&lt;/var&gt; be the
-         &lt;span&gt;text track cue computed line position&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;&lt;strong&gt;Vertical Growing Left&lt;/strong&gt;: Add one to
-         &lt;var title=&quot;&quot;&gt;line position&lt;/var&gt; then negate it.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; be the result of
-         multiplying &lt;var title=&quot;&quot;&gt;step&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;line
-         position&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;&lt;strong&gt;Vertical Growing Left&lt;/strong&gt;: Decrease &lt;var
-         title=&quot;&quot;&gt;position&lt;/var&gt; by the width of the bounding box of
-         the boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt;, then increase &lt;var
-         title=&quot;&quot;&gt;position&lt;/var&gt; by &lt;var title=&quot;&quot;&gt;step&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;
-
-          &lt;p&gt;If &lt;var title=&quot;&quot;&gt;line position&lt;/var&gt; is less than zero then increase &lt;var
-          title=&quot;&quot;&gt;position&lt;/var&gt; by &lt;var title=&quot;&quot;&gt;max dimension&lt;/var&gt;, and negate &lt;var
-          title=&quot;&quot;&gt;step&lt;/var&gt;.&lt;/p&gt;
-
-          &lt;p&gt;Otherwise, increase &lt;var title=&quot;&quot;&gt;position&lt;/var&gt; by &lt;var title=&quot;&quot;&gt;margin&lt;/var&gt;.&lt;/p&gt;
-
-         &lt;/li&gt;
-
-         &lt;li&gt;
-
-          &lt;p&gt;&lt;strong&gt;Horizontal&lt;/strong&gt;: Move all the boxes in &lt;var
-          title=&quot;&quot;&gt;boxes&lt;/var&gt; down by the distance given by &lt;var
-          title=&quot;&quot;&gt;position&lt;/var&gt;.&lt;/p&gt;
-
-          &lt;p&gt;&lt;strong&gt;Vertical&lt;/strong&gt;: Move all the boxes in &lt;var
-          title=&quot;&quot;&gt;boxes&lt;/var&gt; right by the distance given by &lt;var
-          title=&quot;&quot;&gt;position&lt;/var&gt;.&lt;/p&gt;
-
-         &lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Remember the position of all the boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; as their &lt;var
-         title=&quot;&quot;&gt;specified position&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;best position&lt;/var&gt; be null. It will hold a position for &lt;var
-         title=&quot;&quot;&gt;boxes&lt;/var&gt;, much like &lt;var title=&quot;&quot;&gt;specified position&lt;/var&gt; in the previous
-         step.&lt;/p&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;best position score&lt;/var&gt; be null.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;switched&lt;/var&gt; be false.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;
-
-          &lt;p&gt;&lt;strong&gt;Horizontal&lt;/strong&gt;: Let &lt;var title=&quot;&quot;&gt;title area&lt;/var&gt; be a box that covers
-          all of the &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area except for a height of &lt;var
-          title=&quot;&quot;&gt;margin&lt;/var&gt; at the top of the rendering area and a height of &lt;var
-          title=&quot;&quot;&gt;margin&lt;/var&gt; at the bottom of the rendering area.&lt;/p&gt;
-
-          &lt;p&gt;&lt;strong&gt;Vertical&lt;/strong&gt;: Let &lt;var title=&quot;&quot;&gt;title area&lt;/var&gt; be a box that covers all
-          of the &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area except for a width of &lt;var
-          title=&quot;&quot;&gt;margin&lt;/var&gt; at the left of the rendering area and a width of &lt;var
-          title=&quot;&quot;&gt;margin&lt;/var&gt; at the right of the rendering area.&lt;/p&gt;
-
-         &lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;&lt;i&gt;Step loop&lt;/i&gt;: If none of the boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; would overlap
-         any of the boxes in &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;, and all of the boxes in &lt;var
-         title=&quot;&quot;&gt;output&lt;/var&gt; are entirely within the &lt;var title=&quot;&quot;&gt;title area&lt;/var&gt; box, then jump
-         to the step labeled &lt;i&gt;done positioning&lt;/i&gt; below.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;current position score&lt;/var&gt; be the percentage of the area of the
-         bounding box of the boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; that &lt;!--overlaps the boxes in &lt;var
-         title=&quot;&quot;&gt;output&lt;/var&gt; (if any) or that--&gt; is outside the &lt;var title=&quot;&quot;&gt;title area&lt;/var&gt;
-         box.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;
-
-          &lt;p&gt;If &lt;var title=&quot;&quot;&gt;best position&lt;/var&gt; is null (i.e. this is the first run through this
-          loop, &lt;var title=&quot;&quot;&gt;switched&lt;/var&gt; is still false, the boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt;
-          are at their &lt;var title=&quot;&quot;&gt;specified position&lt;/var&gt;, and &lt;var title=&quot;&quot;&gt;best position
-          score&lt;/var&gt; is still null), or if &lt;var title=&quot;&quot;&gt;current position score&lt;/var&gt; is a lower
-          percentage than that in &lt;var title=&quot;&quot;&gt;best position score&lt;/var&gt;, then remember the
-          position of all the boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; as their &lt;var title=&quot;&quot;&gt;best
-          position&lt;/var&gt;, and set &lt;var title=&quot;&quot;&gt;best position score&lt;/var&gt; to &lt;var title=&quot;&quot;&gt;current
-          position score&lt;/var&gt;.&lt;/p&gt;
-
-         &lt;/li&gt;
-
-         &lt;li&gt;
-
-          &lt;p&gt;&lt;strong&gt;Horizontal&lt;/strong&gt;: If &lt;var title=&quot;&quot;&gt;step&lt;/var&gt; is negative and the top of the
-          first line box in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; is now above the top of the &lt;var
-          title=&quot;&quot;&gt;title area&lt;/var&gt;, or if &lt;var title=&quot;&quot;&gt;step&lt;/var&gt; is positive and the bottom of
-          the first line box in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; is now below the bottom of the &lt;var
-          title=&quot;&quot;&gt;title area&lt;/var&gt;, jump to the step labeled &lt;i&gt;switch direction&lt;/i&gt;.&lt;/p&gt;
-
-          &lt;p&gt;&lt;strong&gt;Vertical&lt;/strong&gt;: If &lt;var title=&quot;&quot;&gt;step&lt;/var&gt; is negative and the left edge of
-          the first line box in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; is now to the left of the left edge of the
-          &lt;var title=&quot;&quot;&gt;title area&lt;/var&gt;, or if &lt;var title=&quot;&quot;&gt;step&lt;/var&gt; is positive and the right
-          edge of the first line box in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; is now to the right of the right
-          edge of the &lt;var title=&quot;&quot;&gt;title area&lt;/var&gt;, jump to the step labeled &lt;i&gt;switch
-          direction&lt;/i&gt;.&lt;/p&gt;
-
-         &lt;/li&gt;
-
-         &lt;li&gt;
-
-          &lt;p&gt;&lt;strong&gt;Horizontal&lt;/strong&gt;: Move all the boxes in &lt;var
-          title=&quot;&quot;&gt;boxes&lt;/var&gt; down by the distance given by &lt;var
-          title=&quot;&quot;&gt;step&lt;/var&gt;. (If &lt;var title=&quot;&quot;&gt;step&lt;/var&gt; is
-          negative, then this will actually result in an upwards
-          movement of the boxes in absolute terms.)&lt;/p&gt;
-
-          &lt;p&gt;&lt;strong&gt;Vertical&lt;/strong&gt;: Move all the boxes in &lt;var
-          title=&quot;&quot;&gt;boxes&lt;/var&gt; right by the distance given by &lt;var
-          title=&quot;&quot;&gt;step&lt;/var&gt;. (If &lt;var title=&quot;&quot;&gt;step&lt;/var&gt; is
-          negative, then this will actually result in a leftwards
-          movement of the boxes in absolute terms.)&lt;/p&gt;
-
-         &lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Jump back to the step labeled &lt;i&gt;step loop&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;&lt;i&gt;Switch direction&lt;/i&gt;: If &lt;var title=&quot;&quot;&gt;switched&lt;/var&gt; is true, then move all the
-         boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; back to their &lt;var title=&quot;&quot;&gt;best position&lt;/var&gt;, and
-         jump to the step labeled &lt;i&gt;done positioning&lt;/i&gt; below.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Otherwise, move all the boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; back to their &lt;var
-         title=&quot;&quot;&gt;specified position&lt;/var&gt; as determined in the earlier step.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Negate &lt;var title=&quot;&quot;&gt;step&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Set &lt;var title=&quot;&quot;&gt;switched&lt;/var&gt; to true.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Jump back to the step labeled &lt;i&gt;step loop&lt;/i&gt;.&lt;/p&gt;&lt;/li&gt;
-
-        &lt;/ol&gt;
-
-       &lt;/dd&gt;
-
-       &lt;dt&gt;If &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue snap-to-lines flag&lt;/span&gt; is not set&lt;/dt&gt;
-       &lt;dd&gt;
-
-        &lt;ol&gt;
-
-         &lt;li&gt;
-
-          &lt;p&gt;Set up &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; and &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; as
-          follows:&lt;/p&gt;
-
-          &lt;dl class=&quot;switch&quot;&gt;
-
-           &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-                  and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'ltr'&lt;/dt&gt;
-           &lt;dd&gt;
-            &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; be a percentage given by the
-            &lt;span&gt;text track cue text position&lt;/span&gt;, and let &lt;var
-            title=&quot;&quot;&gt;y&lt;/var&gt; be a percentage given by the &lt;span&gt;text
-            track cue computed line position&lt;/span&gt;.&lt;/p&gt;
-           &lt;/dd&gt;
-
-           &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;,
-                  and &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt; is 'rtl'&lt;/dt&gt;
-           &lt;dd&gt;
-            &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; be a percentage given by the
-            &lt;span&gt;text track cue text position&lt;/span&gt; subtracted from
-            100, and let &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; be a percentage given
-            by the &lt;span&gt;text track cue computed line position&lt;/span&gt;.&lt;/p&gt;
-           &lt;/dd&gt;
-
-           &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing left writing direction&quot;&gt;vertical growing left&lt;/span&gt;&lt;/dt&gt;
-           &lt;dd&gt;
-            &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; be a percentage given by the
-            &lt;span&gt;text track cue computed line position&lt;/span&gt; subtracted from
-            100, and let &lt;var title=&quot;&quot;&gt;y&lt;/var&gt; be a percentage given
-            by the &lt;span&gt;text track cue text position&lt;/span&gt;.&lt;/p&gt;
-           &lt;/dd&gt;
-
-           &lt;dt&gt;If the &lt;span&gt;text track cue writing direction&lt;/span&gt; is &lt;span title=&quot;text track cue vertical growing right writing direction&quot;&gt;vertical growing right&lt;/span&gt;&lt;/dt&gt;
-           &lt;dd&gt;
-            &lt;p&gt;Let &lt;var title=&quot;&quot;&gt;x&lt;/var&gt; be a percentage given by the
-            &lt;span&gt;text track cue computed line position&lt;/span&gt;, and let &lt;var
-            title=&quot;&quot;&gt;y&lt;/var&gt; be a percentage given by the &lt;span&gt;text
-            track cue text position&lt;/span&gt;.&lt;/p&gt;
-           &lt;/dd&gt;
-
-          &lt;/dl&gt;
-
-         &lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Position the boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; such
-         that the point &lt;var title=&quot;&quot;&gt;x&lt;/var&gt;% along the width of the
-         bounding box of the boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; is
-         &lt;var title=&quot;&quot;&gt;x&lt;/var&gt;% of the way across the width of the
-         &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area, and the point
-         &lt;var title=&quot;&quot;&gt;y&lt;/var&gt;% along the height of the bounding box
-         of the boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; is &lt;var
-         title=&quot;&quot;&gt;y&lt;/var&gt;% of the way across the height of the &lt;var
-         title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area, while maintaining the
-         relative positions of the boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt;
-         to each other.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If none of the boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt;
-         would overlap any of the boxes in &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;,
-         and all the boxes in &lt;var title=&quot;&quot;&gt;output&lt;/var&gt; are within
-         the &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area, then jump to
-         the step labeled &lt;i&gt;done positioning&lt;/i&gt; below.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;If there is a position to which the boxes in &lt;var
-         title=&quot;&quot;&gt;boxes&lt;/var&gt; can be moved while maintaining the
-         relative positions of the boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt;
-         to each other such that none of the boxes in &lt;var
-         title=&quot;&quot;&gt;boxes&lt;/var&gt; would overlap any of the boxes in &lt;var
-         title=&quot;&quot;&gt;output&lt;/var&gt;, and all the boxes in &lt;var
-         title=&quot;&quot;&gt;output&lt;/var&gt; would be within the &lt;var
-         title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering area, then move the boxes in
-         &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; to the closest such position to
-         their current position, and then jump to the step labeled
-         &lt;i&gt;done positioning&lt;/i&gt; below. If there are multiple such
-         positions that are equidistant from their current position,
-         use the highest one amongst them; if there are several at
-         that height, then use the leftmost one amongst them.&lt;/p&gt;&lt;/li&gt;
-
-         &lt;li&gt;&lt;p&gt;Otherwise, jump to the step labeled &lt;i&gt;done
-         positioning&lt;/i&gt; below. (The boxes will unfortunately
-         overlap.)&lt;/p&gt;&lt;/li&gt;
-
-        &lt;/ol&gt;
-
-       &lt;/dd&gt;
-
-      &lt;/dl&gt;
-
-     &lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;&lt;i&gt;Done positioning&lt;/i&gt;: If there are any line boxes in
-     the (possibly now repositioned) &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; that do
-     not completely fit inside &lt;var title=&quot;&quot;&gt;video&lt;/var&gt;'s rendering
-     area, remove those offending line boxes from &lt;var
-     title=&quot;&quot;&gt;boxes&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-     display state&lt;/span&gt; have the CSS boxes in &lt;var
-     title=&quot;&quot;&gt;boxes&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-     &lt;li&gt;&lt;p&gt;Add the CSS boxes in &lt;var title=&quot;&quot;&gt;boxes&lt;/var&gt; to &lt;var
-     title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-    &lt;/ol&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Return &lt;var title=&quot;&quot;&gt;output&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;User agents may allow the user to override the above algorithm's
-  positioning of cues, e.g. by dragging them to another location on
-  the &lt;code&gt;video&lt;/code&gt;, or even off the &lt;code&gt;video&lt;/code&gt;
-  entirely.&lt;/p&gt;
-
-
-  &lt;h4&gt;Applying CSS properties to &lt;span title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node Objects&lt;/span&gt;&lt;/h4&gt;
-
-  &lt;p&gt;When following the &lt;span&gt;rules for updating the display of WebVTT
-  text tracks&lt;/span&gt;, user agents must set properties of &lt;span
-  title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node Objects&lt;/span&gt; at the CSS
-  user agent cascade layer as defined in this section. &lt;a
-  href=&quot;#refsCSS&quot;&gt;[CSS]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;On the (root) &lt;span&gt;List of WebVTT Node Objects&lt;/span&gt;, the
-  'position' property must be set to 'absolute', the 'unicode-bidi'
-  property must be set to 'plaintext', the 'direction' property must
-  be set to &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt;, the 'writing-mode' property
-  must be set to &lt;var title=&quot;&quot;&gt;writing-mode&lt;/var&gt;, the 'top' property
-  must be set to &lt;var title=&quot;&quot;&gt;top&lt;/var&gt;, the 'left' property must be
-  set to &lt;var title=&quot;&quot;&gt;left&lt;/var&gt;, the 'width' property must be set to
-  &lt;var title=&quot;&quot;&gt;width&lt;/var&gt;, and the 'height' property must be set to
-  &lt;var title=&quot;&quot;&gt;height&lt;/var&gt;, where &lt;var title=&quot;&quot;&gt;direction&lt;/var&gt;,
-  &lt;var title=&quot;&quot;&gt;writing-mode&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;top&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;left&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;width&lt;/var&gt;, and &lt;var
-  title=&quot;&quot;&gt;height&lt;/var&gt; are the values with those names determined by
-  the &lt;span&gt;rules for updating the display of WebVTT text
-  tracks&lt;/span&gt; for the &lt;span&gt;text track cue&lt;/span&gt; from whose &lt;span
-  title=&quot;text track cue text&quot;&gt;text&lt;/span&gt; the &lt;span&gt;List of WebVTT
-  Node Objects&lt;/span&gt; was constructed.&lt;/p&gt;
-
-  &lt;p&gt;The 'text-align' property on the (root) &lt;span&gt;List of WebVTT Node
-  Objects&lt;/span&gt; must be set to the value in the second cell of the
-  row of the table below whose first cell is the value of the
-  corresponding &lt;span title=&quot;text track cue&quot;&gt;cue&lt;/span&gt;'s &lt;span&gt;text
-  track cue alignment&lt;/span&gt;:&lt;/p&gt;
-
-  &lt;table&gt;
-   &lt;thead&gt;
-    &lt;tr&gt; &lt;th&gt;&lt;span&gt;Text track cue alignment&lt;/span&gt; &lt;th&gt; 'text-align' value
-   &lt;tbody&gt;
-    &lt;tr&gt; &lt;td&gt;&lt;span title=&quot;text track cue start alignment&quot;&gt;Start alignment&lt;/span&gt; &lt;td&gt; 'start'
-    &lt;tr&gt; &lt;td&gt;&lt;span title=&quot;text track cue middle alignment&quot;&gt;Middle alignment&lt;/span&gt; &lt;td&gt; 'center'
-    &lt;tr&gt; &lt;td&gt;&lt;span title=&quot;text track cue end alignment&quot;&gt;End alignment&lt;/span&gt; &lt;td&gt; 'end'
-    &lt;tr&gt; &lt;td&gt;&lt;span title=&quot;text track cue left alignment&quot;&gt;Left alignment&lt;/span&gt; &lt;td&gt; 'left'
-    &lt;tr&gt; &lt;td&gt;&lt;span title=&quot;text track cue right alignment&quot;&gt;Right alignment&lt;/span&gt; &lt;td&gt; 'right'
-  &lt;/table&gt;
-
-  &lt;p&gt;The 'font' shorthand property on the (root) &lt;span&gt;List of WebVTT
-  Node Objects&lt;/span&gt; must be set to '5vh sans-serif'. &lt;a
-  href=&quot;#refsCSSRUBY&quot;&gt;[CSSRUBY]&lt;/a&gt; &lt;a
-  href=&quot;#refsCSSVALUES&quot;&gt;[CSSVALUES]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;The 'color' property on the (root) &lt;span&gt;List of WebVTT Node
-  Objects&lt;/span&gt; must be set to 'rgba(255,255,255,1)'. &lt;a
-  href=&quot;#refsCSSCOLOR&quot;&gt;[CSSCOLOR]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;The 'background' shorthand property on the &lt;span&gt;WebVTT cue
-  background box&lt;/span&gt; must be set to 'rgba(0,0,0,0.8)'. &lt;a
-  href=&quot;#refsCSSCOLOR&quot;&gt;[CSSCOLOR]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;A text outline or stroke may also be set on the (root) &lt;span&gt;List
-  of WebVTT Node Objects&lt;/span&gt;, if supported.&lt;/p&gt; &lt;!-- 'text-outline'
-  is in CSS3 Text, but Tab says that's awaiting medical attention. --&gt;
-
-  &lt;p&gt;The 'white-space' property on the (root) &lt;span&gt;List of WebVTT
-  Node Objects&lt;/span&gt; must be set to 'pre-line'. &lt;a
-  href=&quot;#refsCSS&quot;&gt;[CSS]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;The 'font-style' property on &lt;span title=&quot;WebVTT Italic
-  Object&quot;&gt;WebVTT Italic Objects&lt;/span&gt; must be set to 'italic'.&lt;/p&gt;
-
-  &lt;p&gt;The 'font-weight' property on &lt;span title=&quot;WebVTT Bold
-  Object&quot;&gt;WebVTT Bold Objects&lt;/span&gt; must be set to 'bold'.&lt;/p&gt;
-
-  &lt;p&gt;The 'text-decoration' property on &lt;span title=&quot;WebVTT Underline
-  Object&quot;&gt;WebVTT Underline Objects&lt;/span&gt; must be set to 'underline'.&lt;/p&gt;
-
-  &lt;p&gt;The 'display' property on &lt;span title=&quot;WebVTT Ruby Object&quot;&gt;WebVTT
-  Ruby Objects&lt;/span&gt; must be set to 'ruby'. &lt;a
-  href=&quot;#refsCSSRUBY&quot;&gt;[CSSRUBY]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;The 'display' property on &lt;span title=&quot;WebVTT Ruby Text
-  Object&quot;&gt;WebVTT Ruby Text Objects&lt;/span&gt; must be set to
-  'ruby-text'. &lt;a href=&quot;#refsCSSRUBY&quot;&gt;[CSSRUBY]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;All other non-inherited properties must be set to their initial
-  values; inherited properties on the root &lt;span&gt;List of WebVTT Node
-  Objects&lt;/span&gt; must inherit their values from the &lt;span&gt;media
-  element&lt;/span&gt; for which the &lt;span&gt;text track cue&lt;/span&gt; is being
-  rendered, if any. If there is no &lt;span&gt;media element&lt;/span&gt; (i.e. if
-  the &lt;span&gt;text track&lt;/span&gt; is being rendered for another media
-  playback mechanism), then inherited properties on the root
-  &lt;span&gt;List of WebVTT Node Objects&lt;/span&gt; must take their initial
-  values.&lt;/p&gt;
-
-  &lt;p&gt;If there are style sheets that apply to the &lt;span&gt;media
-  element&lt;/span&gt; or other playback mechanism, then they must be
-  interpreted as defined in the next section.&lt;/p&gt;
-
-
-  &lt;h4&gt;CSS extensions&lt;/h4&gt;
-
-  &lt;p&gt;When a user agent is rendering one or more &lt;span title=&quot;text track cue&quot;&gt;text track cues&lt;/span&gt;
-  according to the &lt;span&gt;rules for updating the display of WebVTT text tracks&lt;/span&gt;, &lt;span
-  title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node Objects&lt;/span&gt; in the &lt;span&gt;list of WebVTT Node
-  Objects&lt;/span&gt; used in the rendering can be matched by certain pseudo-selectors as defined below.
-  These selectors can begin or stop matching individual &lt;span title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node
-  Objects&lt;/span&gt; while a &lt;span title=&quot;text track cue&quot;&gt;cue&lt;/span&gt; is being rendered, even in between
-  applications of the &lt;span&gt;rules for updating the display of WebVTT text tracks&lt;/span&gt; (which are
-  only run when the set of active cues changes). User agents that support the pseudo-element
-  described below must dynamically update renderings accordingly. When either 'white-space' or one
-  of the properties corresponding to the 'font' shorthand (including 'line-height') changes value,
-  then the &lt;span&gt;text track cue&lt;/span&gt;'s &lt;span&gt;text track cue display state&lt;/span&gt; must be emptied
-  and the &lt;span&gt;text track&lt;/span&gt;'s &lt;span&gt;rules for updating the text track rendering&lt;/span&gt; must be
-  immediately rerun.&lt;/p&gt;
-
-  &lt;p&gt;Pseudo-elements apply to elements that are matched by
-  selectors. For the purpose of this section, that element is the
-  &lt;i&gt;matched element&lt;/i&gt;. The pseudo-elements defined in the following
-  sections affect the styling of parts of &lt;span title=&quot;text track
-  cue&quot;&gt;text track cues&lt;/span&gt; that are being rendered for the
-  &lt;i&gt;matched element&lt;/i&gt;.&lt;/p&gt;
-
-  &lt;p class=&quot;note&quot;&gt;If the &lt;i&gt;matched element&lt;/i&gt; is not a
-  &lt;code&gt;video&lt;/code&gt; element, the pseudo-elements defined below won't
-  have any effect according to this specification.&lt;/p&gt;
-
-  &lt;p&gt;A CSS user agent that implements the &lt;span title=&quot;text
-  track&quot;&gt;text tracks&lt;/span&gt; model must implement the '::cue' and
-  '::cue(&lt;var title=&quot;&quot;&gt;selector&lt;/var&gt;)' pseudo-elements, and the &lt;span
-  title=&quot;past-pseudo-class&quot;&gt;':past'&lt;/span&gt; and &lt;span
-  title=&quot;future-pseudo-class&quot;&gt;':future'&lt;/span&gt; pseudo-classes.&lt;/p&gt;
-
-
-  &lt;h5&gt;The '::cue' pseudo-element&lt;/h5&gt;
-
-  &lt;p&gt;The '&lt;dfn title=&quot;pseudo-cue&quot;&gt;::cue&lt;/dfn&gt;' pseudo-element (with no
-  argument) matches any &lt;span&gt;List of WebVTT Node Objects&lt;/span&gt;
-  constructed for the &lt;i&gt;matched element&lt;/i&gt;, with the exception that
-  the properties corresponding to the 'background' shorthand must be
-  applied to the &lt;span&gt;WebVTT cue background box&lt;/span&gt; rather than
-  the &lt;span&gt;List of WebVTT Node Objects&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The following properties apply to the '::cue' pseudo-element with
-  no argument; other properties set on the pseudo-element must be
-  ignored:&lt;/p&gt;
-
-  &lt;ul class=&quot;brief&quot;&gt;
-   &lt;li&gt;'color'&lt;/li&gt;
-   &lt;li&gt;'opacity'&lt;/li&gt;
-   &lt;li&gt;'visibility'&lt;/li&gt;
-   &lt;li&gt;'text-decoration'&lt;/li&gt;
-   &lt;li&gt;'text-outline'&lt;/li&gt;
-   &lt;li&gt;'text-shadow'&lt;/li&gt;
-   &lt;li&gt;the properties corresponding to the 'background' shorthand&lt;/li&gt;
-   &lt;li&gt;the properties corresponding to the 'outline' shorthand&lt;/li&gt;
-   &lt;li&gt;the properties corresponding to the 'font' shorthand, including 'line-height'&lt;/li&gt;
-   &lt;li&gt;'white-space'&lt;/li&gt;
-   &lt;!-- add more... --&gt;
-   &lt;!-- definitely not:
-          display, float, position, top, left, right, bottom, width,
-          height, margin-top, margin-bottom, margin-left, margin-right,
-          clip, clear, content, cursor, direction, max-height,
-          min-height, max-width, min-width, orphans, overflow,
-          page-break-*, text-align, unicode-bidi, widows, z-index
-   --&gt;
-  &lt;/ul&gt;
-
-  &lt;p&gt;The '&lt;dfn title=&quot;pseudo-cue-selector&quot;&gt;::cue(&lt;var
-  title=&quot;&quot;&gt;selector&lt;/var&gt;)&lt;/dfn&gt;' pseudo-element with an argument must
-  have an argument that consists of a group of selectors. It matches
-  any &lt;span&gt;WebVTT Internal Node Object&lt;/span&gt; constructed for the
-  &lt;i&gt;matched element&lt;/i&gt; that also matches the given group of
-  selectors, with the nodes being treated as follows:&lt;/p&gt;
-
-  &lt;ul&gt;
-
-   &lt;li&gt;&lt;p&gt;The &lt;i&gt;document tree&lt;/i&gt; against which the selectors are
-   matched is the tree of &lt;span title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node
-   Objects&lt;/span&gt; rooted at the &lt;span&gt;list of WebVTT Node
-   Objects&lt;/span&gt; for the cue.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;&lt;span title=&quot;WebVTT Internal Node Object&quot;&gt;WebVTT Internal
-   Node Objects&lt;/span&gt; are elements in the tree.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;span title=&quot;WebVTT Leaf Node Object&quot;&gt;WebVTT Leaf Node
-   Objects&lt;/span&gt; cannot be matched.&lt;/li&gt;
-
-   &lt;li&gt;
-
-    &lt;p&gt;For the purposes of element type selectors, the names of &lt;span
-    title=&quot;WebVTT Internal Node Object&quot;&gt;WebVTT Internal Node
-    Objects&lt;/span&gt; are as given by the following table, where objects
-    having the concrete class given in a cell in the first column have
-    the name given by the second column of the same row:&lt;/p&gt;
-
-    &lt;table&gt;
-
-     &lt;thead&gt;
-      &lt;tr&gt;
-       &lt;th&gt;Concrete class
-       &lt;th&gt;Name
-
-     &lt;tbody&gt;
-      &lt;tr&gt;
-       &lt;td&gt;&lt;span title=&quot;WebVTT Class Object&quot;&gt;WebVTT Class Objects&lt;/span&gt;
-       &lt;td&gt;&lt;code title=&quot;&quot;&gt;c&lt;/code&gt;
-
-      &lt;tr&gt;
-       &lt;td&gt;&lt;span title=&quot;WebVTT Italic Object&quot;&gt;WebVTT Italic Objects&lt;/span&gt;
-       &lt;td&gt;&lt;code title=&quot;&quot;&gt;i&lt;/code&gt;
-
-      &lt;tr&gt;
-       &lt;td&gt;&lt;span title=&quot;WebVTT Bold Object&quot;&gt;WebVTT Bold Objects&lt;/span&gt;
-       &lt;td&gt;&lt;code title=&quot;&quot;&gt;b&lt;/code&gt;
-
-      &lt;tr&gt;
-       &lt;td&gt;&lt;span title=&quot;WebVTT Underline Object&quot;&gt;WebVTT Underline Objects&lt;/span&gt;
-       &lt;td&gt;&lt;code title=&quot;&quot;&gt;u&lt;/code&gt;
-
-      &lt;tr&gt;
-       &lt;td&gt;&lt;span title=&quot;WebVTT Ruby Object&quot;&gt;WebVTT Ruby Objects&lt;/span&gt;
-       &lt;td&gt;&lt;code title=&quot;&quot;&gt;ruby&lt;/code&gt;
-
-      &lt;tr&gt;
-       &lt;td&gt;&lt;span title=&quot;WebVTT Ruby Text Object&quot;&gt;WebVTT Ruby Text Objects&lt;/span&gt;
-       &lt;td&gt;&lt;code title=&quot;&quot;&gt;rt&lt;/code&gt;
-
-      &lt;tr&gt;
-       &lt;td&gt;&lt;span title=&quot;WebVTT Voice Object&quot;&gt;WebVTT Voice Objects&lt;/span&gt;
-       &lt;td&gt;&lt;code title=&quot;&quot;&gt;v&lt;/code&gt;
-
-      &lt;tr&gt;
-       &lt;td&gt;&lt;span title=&quot;WebVTT Language Object&quot;&gt;WebVTT Language Objects&lt;/span&gt;
-       &lt;td&gt;&lt;code title=&quot;&quot;&gt;lang&lt;/code&gt;
-
-      &lt;tr&gt;
-       &lt;td&gt;Other elements (specifically, &lt;span title=&quot;List of WebVTT Node Objects&quot;&gt;Lists of WebVTT Node Objects&lt;/span&gt;)
-       &lt;td&gt;No explicit name.
-
-    &lt;/table&gt;
-
-   &lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;For the purposes of element type and universal selectors,
-   &lt;span title=&quot;WebVTT Internal Node Object&quot;&gt;WebVTT Internal Node
-   Objects&lt;/span&gt; are considered as being in the namespace expressed
-   as the empty string.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;For the purposes of attribute selector matching, &lt;span title=&quot;WebVTT Internal Node
-   Object&quot;&gt;WebVTT Internal Node Objects&lt;/span&gt; have no attributes, except for &lt;span title=&quot;WebVTT
-   Voice Object&quot;&gt;WebVTT Voice Objects&lt;/span&gt;, which have a single attribute named &quot;&lt;code
-   title=&quot;&quot;&gt;voice&lt;/code&gt;&quot; whose value is the value of the &lt;span&gt;WebVTT Voice Object&lt;/span&gt;, and
-   &lt;span title=&quot;WebVTT Language Object&quot;&gt;WebVTT Language Objects&lt;/span&gt;, which have a single
-   attribute named &quot;&lt;code title=&quot;&quot;&gt;lang&lt;/code&gt;&quot; whose value is the object's &lt;span title=&quot;WebVTT Node
-   Object's applicable language&quot;&gt;applicable language&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;For the purposes of class selector matching, &lt;span
-   title=&quot;WebVTT Internal Node Object&quot;&gt;WebVTT Internal Node
-   Objects&lt;/span&gt; have the classes described as the &lt;span&gt;WebVTT
-   Node Object's applicable classes&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt; &lt;!-- ok, this
-   isn't especially well-defined, but the Selectors spec doesn't
-   really give one much to go on here. --&gt;
-
-   &lt;li&gt;&lt;p&gt;For the purposes of the &lt;code title=&quot;selector-lang&quot;&gt;:lang()&lt;/code&gt; pseudo-class, &lt;span
-   title=&quot;WebVTT Internal Node Object&quot;&gt;WebVTT Internal Node Objects&lt;/span&gt; have the language
-   described as the &lt;span&gt;WebVTT Node Object's applicable language&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;For the purposes of ID selector matching, &lt;span title=&quot;List
-   of WebVTT Node Objects&quot;&gt;Lists of WebVTT Node Objects&lt;/span&gt; have
-   the ID given by the cue's &lt;span&gt;text track cue identifier&lt;/span&gt;,
-   if any.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ul&gt;
-
-  &lt;p&gt;The following properties apply to the '::cue()' pseudo-element
-  with an argument:&lt;/p&gt;
-
-  &lt;ul class=&quot;brief&quot;&gt;
-   &lt;li&gt;'color'&lt;/li&gt;
-   &lt;li&gt;'opacity'&lt;/li&gt;
-   &lt;li&gt;'visibility'&lt;/li&gt;
-   &lt;li&gt;'text-decoration'&lt;/li&gt;
-   &lt;li&gt;'text-outline'&lt;/li&gt;
-   &lt;li&gt;'text-shadow'&lt;/li&gt;
-   &lt;li&gt;the properties corresponding to the 'background' shorthand&lt;/li&gt;
-   &lt;li&gt;the properties corresponding to the 'outline' shorthand&lt;/li&gt;
-   &lt;li&gt;properties relating to the transition and animation features&lt;/li&gt;
-   &lt;!-- add more... --&gt;
-   &lt;!-- but definitely not anything that affects dimensions of boxes, e.g. the 'font' shorthand's properties or 'white-space'; those are listed below instead --&gt;
-  &lt;/ul&gt;
-
-  &lt;!--v2
-   Would be nice to support transitions that are directional,
-   e.g. changing text fill colour or shadow size of the start of a
-   segment when the segment becomes &quot;past&quot;, and having the change
-   propagate towards the end of the segment so that it reaches the end
-   of the segment when the next segment becomes &quot;past&quot;.
-  --&gt;
-
-  &lt;p&gt;In addition, the following properties apply to the '::cue()'
-  pseudo-element with an argument when the selector does not contain
-  the &lt;span title=&quot;past-pseudo-class&quot;&gt;':past'&lt;/span&gt; and &lt;span
-  title=&quot;future-pseudo-class&quot;&gt;':future'&lt;/span&gt; pseudo-classes:&lt;/p&gt;
-
-  &lt;ul class=&quot;brief&quot;&gt;
-   &lt;li&gt;the properties corresponding to the 'font' shorthand, including 'line-height'&lt;/li&gt;
-   &lt;li&gt;'white-space'&lt;/li&gt;
-   &lt;!-- add more... --&gt;
-   &lt;!-- definitely not:
-          display, float, position, top, left, right, bottom, width,
-          height, margin-top, margin-bottom, margin-left, margin-right,
-          clip, clear, content, cursor, direction, max-height,
-          min-height, max-width, min-width, orphans, overflow,
-          page-break-*, text-align, unicode-bidi, widows, z-index
-   --&gt;
-  &lt;/ul&gt;
-
-  &lt;p&gt;Properties that do not apply must be ignored.&lt;/p&gt;
-
-  &lt;p&gt;As a special exception, the properties corresponding to the
-  'background' shorthand, when they would have been applied to the
-  &lt;span&gt;List of WebVTT Node Objects&lt;/span&gt;, must instead be applied to
-  the &lt;span&gt;WebVTT cue background box&lt;/span&gt;.&lt;/p&gt;
-
-
-  &lt;h5&gt;The ':past' and ':future' pseudo-classes&lt;/h5&gt;
-
-  &lt;p&gt;The &lt;span title=&quot;past-pseudo-class&quot;&gt;':past'&lt;/span&gt; and &lt;span
-  title=&quot;future-pseudo-class&quot;&gt;':future'&lt;/span&gt; pseudo-classes
-  sometimes match &lt;span title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node
-  Objects&lt;/span&gt;. &lt;a href=&quot;#refsSELECTORS&quot;&gt;[SELECTORS]&lt;/a&gt;&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;past-pseudo-class&quot;&gt;':past'&lt;/dfn&gt; pseudo-class
-  only matches &lt;span title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node
-  Objects&lt;/span&gt; that are &lt;i&gt;in the past&lt;/i&gt;.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;span&gt;WebVTT Node Object&lt;/span&gt; &lt;var title=&quot;&quot;&gt;c&lt;/var&gt; is
-  &lt;dfn&gt;in the past&lt;/dfn&gt; if, in a pre-order, depth-first traversal of
-  the &lt;span&gt;text track cue&lt;/span&gt;'s &lt;span&gt;List of WebVTT Node
-  Objects&lt;/span&gt;, there exists a &lt;span&gt;WebVTT Timestamp Object&lt;/span&gt;
-  whose value is less than the &lt;span&gt;current playback position&lt;/span&gt;
-  of the &lt;span&gt;media element&lt;/span&gt; that is the &lt;i&gt;matched
-  element&lt;/i&gt;, entirely after the &lt;span&gt;WebVTT Node Object&lt;/span&gt; &lt;var
-  title=&quot;&quot;&gt;c&lt;/var&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;future-pseudo-class&quot;&gt;':future'&lt;/dfn&gt; pseudo-class
-  only matches &lt;span title=&quot;WebVTT Node Object&quot;&gt;WebVTT Node
-  Objects&lt;/span&gt; that are &lt;i&gt;in the future&lt;/i&gt;.&lt;/p&gt;
-
-  &lt;p&gt;A &lt;span&gt;WebVTT Node Object&lt;/span&gt; &lt;var title=&quot;&quot;&gt;c&lt;/var&gt; is
-  &lt;dfn&gt;in the future&lt;/dfn&gt; if, in a pre-order, depth-first traversal
-  of the &lt;span&gt;text track cue&lt;/span&gt;'s &lt;span&gt;List of WebVTT Node
-  Objects&lt;/span&gt;, there exists a &lt;span&gt;WebVTT Timestamp Object&lt;/span&gt;
-  whose value is greater than the &lt;span&gt;current playback
-  position&lt;/span&gt; of the &lt;span&gt;media element&lt;/span&gt; that is the
-  &lt;i&gt;matched element&lt;/i&gt;, entirely before the &lt;span&gt;WebVTT Node
-  Object&lt;/span&gt; &lt;var title=&quot;&quot;&gt;c&lt;/var&gt;.&lt;/p&gt;
-
-
-
-  &lt;h2&gt;WebVTT API&lt;/h2&gt;
-
-  &lt;p&gt;The following interface is used to expose WebVTT cues in the DOM API:&lt;/p&gt;
-
-  &lt;pre class=&quot;idl&quot;&gt;enum &lt;dfn&gt;AutoKeyword&lt;/dfn&gt; { &quot;auto&quot; };
-[&lt;span title=&quot;dom-TextTrackCue&quot;&gt;Constructor&lt;/span&gt;(double startTime, double endTime, DOMString text)]
-interface &lt;dfn&gt;WebVTTCue&lt;/dfn&gt; : &lt;span&gt;TextTrackCue&lt;/span&gt; {
-           attribute DOMString &lt;span title=&quot;dom-TextTrackCue-vertical&quot;&gt;vertical&lt;/span&gt;;
-           attribute boolean &lt;span title=&quot;dom-TextTrackCue-snapToLines&quot;&gt;snapToLines&lt;/span&gt;;
-           attribute (long or &lt;span&gt;AutoKeyword&lt;/span&gt;) &lt;span title=&quot;dom-TextTrackCue-line&quot;&gt;line&lt;/span&gt;;
-           attribute long &lt;span title=&quot;dom-TextTrackCue-position&quot;&gt;position&lt;/span&gt;;
-           attribute long &lt;span title=&quot;dom-TextTrackCue-size&quot;&gt;size&lt;/span&gt;;
-           attribute DOMString &lt;span title=&quot;dom-TextTrackCue-align&quot;&gt;align&lt;/span&gt;;
-           attribute DOMString &lt;span title=&quot;dom-TextTrackCue-text&quot;&gt;text&lt;/span&gt;;
-  &lt;span&gt;DocumentFragment&lt;/span&gt; &lt;span title=&quot;dom-TextTrackCue-getCueAsHTML&quot;&gt;getCueAsHTML&lt;/span&gt;();
-};&lt;/pre&gt;
-
-  &lt;dl class=&quot;domintro&quot;&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; = new &lt;code title=&quot;dom-TextTrackCue&quot;&gt;WebVTTCue&lt;/code&gt;( &lt;var title=&quot;&quot;&gt;startTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;text&lt;/var&gt; )&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;Returns a new &lt;code&gt;TextTrackCue&lt;/code&gt; object, for use with the &lt;code title=&quot;dom-TextTrack-addCue&quot;&gt;addCue()&lt;/code&gt; method.&lt;/p&gt;
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;startTime&lt;/var&gt; argument sets the &lt;span&gt;text track cue start time&lt;/span&gt;.&lt;/p&gt;
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;endTime&lt;/var&gt; argument sets the &lt;span&gt;text track cue end time&lt;/span&gt;.&lt;/p&gt;
-    &lt;p&gt;The &lt;var title=&quot;&quot;&gt;text&lt;/var&gt; argument sets the &lt;span&gt;text track cue text&lt;/span&gt;.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; . &lt;span title=&quot;dom-TextTrackCue-vertical&quot;&gt;vertical&lt;/span&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;Returns a string representing the &lt;span&gt;text track cue writing direction&lt;/span&gt;, as follows:&lt;/p&gt;
-    &lt;dl class=&quot;switch&quot;&gt;
-     &lt;dt&gt;If it is &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;&lt;/dt&gt;
-     &lt;dd&gt;&lt;p&gt;The empty string.&lt;/p&gt;&lt;/dd&gt;
-     &lt;dt&gt;If it is &lt;span title=&quot;text track cue vertical growing left writing direction&quot;&gt;vertical growing left&lt;/span&gt;&lt;/dt&gt;
-     &lt;dd&gt;&lt;p&gt;The string &quot;&lt;code title=&quot;&quot;&gt;rl&lt;/code&gt;&quot;.&lt;/p&gt;&lt;/dd&gt;
-     &lt;dt&gt;If it is &lt;span title=&quot;text track cue vertical growing right writing direction&quot;&gt;vertical growing right&lt;/span&gt;&lt;/dt&gt;
-     &lt;dd&gt;&lt;p&gt;The string &quot;&lt;code title=&quot;&quot;&gt;lr&lt;/code&gt;&quot;.&lt;/p&gt;&lt;/dd&gt;
-    &lt;/dl&gt;
-    &lt;p&gt;Can be set.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; . &lt;span title=&quot;dom-TextTrackCue-snapToLines&quot;&gt;snapToLines&lt;/span&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;Returns true if the &lt;span&gt;text track cue snap-to-lines flag&lt;/span&gt; is set, false otherwise.&lt;/p&gt;
-    &lt;p&gt;Can be set.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; . &lt;span title=&quot;dom-TextTrackCue-line&quot;&gt;line&lt;/span&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;Returns the &lt;span&gt;text track cue line position&lt;/span&gt;. In the
-    case of the value being &lt;span title=&quot;text track cue automatic line
-    position&quot;&gt;auto&lt;/span&gt;, the string &quot;&lt;code title=&quot;&quot;&gt;auto&lt;/code&gt;&quot; is
-    returned.&lt;/p&gt;
-    &lt;p&gt;Can be set.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; . &lt;span title=&quot;dom-TextTrackCue-position&quot;&gt;position&lt;/span&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;Returns the &lt;span&gt;text track cue text position&lt;/span&gt;.&lt;/p&gt;
-    &lt;p&gt;Can be set.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; . &lt;span title=&quot;dom-TextTrackCue-size&quot;&gt;size&lt;/span&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;Returns the &lt;span&gt;text track cue size&lt;/span&gt;.&lt;/p&gt;
-    &lt;p&gt;Can be set.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; . &lt;span title=&quot;dom-TextTrackCue-align&quot;&gt;align&lt;/span&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;Returns a string representing the &lt;span&gt;text track cue alignment&lt;/span&gt;, as follows:&lt;/p&gt;
-    &lt;dl class=&quot;switch&quot;&gt;
-     &lt;dt&gt;If it is &lt;span title=&quot;text track cue start alignment&quot;&gt;start alignment&lt;/span&gt;&lt;/dt&gt;
-     &lt;dd&gt;&lt;p&gt;The string &quot;&lt;code title=&quot;&quot;&gt;start&lt;/code&gt;&quot;.&lt;/p&gt;&lt;/dd&gt;
-     &lt;dt&gt;If it is &lt;span title=&quot;text track cue middle alignment&quot;&gt;middle alignment&lt;/span&gt;&lt;/dt&gt;
-     &lt;dd&gt;&lt;p&gt;The string &quot;&lt;code title=&quot;&quot;&gt;middle&lt;/code&gt;&quot;.&lt;/p&gt;&lt;/dd&gt;
-     &lt;dt&gt;If it is &lt;span title=&quot;text track cue end alignment&quot;&gt;end alignment&lt;/span&gt;&lt;/dt&gt;
-     &lt;dd&gt;&lt;p&gt;The string &quot;&lt;code title=&quot;&quot;&gt;end&lt;/code&gt;&quot;.&lt;/p&gt;&lt;/dd&gt;
-     &lt;dt&gt;If it is &lt;span title=&quot;text track cue left alignment&quot;&gt;left alignment&lt;/span&gt;&lt;/dt&gt;
-     &lt;dd&gt;&lt;p&gt;The string &quot;&lt;code title=&quot;&quot;&gt;left&lt;/code&gt;&quot;.&lt;/p&gt;&lt;/dd&gt;
-     &lt;dt&gt;If it is &lt;span title=&quot;text track cue right alignment&quot;&gt;right alignment&lt;/span&gt;&lt;/dt&gt;
-     &lt;dd&gt;&lt;p&gt;The string &quot;&lt;code title=&quot;&quot;&gt;right&lt;/code&gt;&quot;.&lt;/p&gt;&lt;/dd&gt;
-    &lt;/dl&gt;
-    &lt;p&gt;Can be set.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; . &lt;span title=&quot;dom-TextTrackCue-text&quot;&gt;text&lt;/span&gt; [ = &lt;var title=&quot;&quot;&gt;value&lt;/var&gt; ]&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;Returns the &lt;span&gt;text track cue text&lt;/span&gt; in raw unparsed form.&lt;/p&gt;
-    &lt;p&gt;Can be set.&lt;/p&gt;
-   &lt;/dd&gt;
-
-   &lt;dt&gt;&lt;var title=&quot;&quot;&gt;fragment&lt;/var&gt; = &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt; . &lt;span title=&quot;dom-TextTrackCue-getCueAsHTML&quot;&gt;getCueAsHTML&lt;/span&gt;()&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;Returns the &lt;span&gt;text track cue text&lt;/span&gt; as a &lt;code&gt;DocumentFragment&lt;/code&gt; of &lt;span&gt;HTML elements&lt;/span&gt; and other DOM nodes.&lt;/p&gt;
-   &lt;/dd&gt;
-
-  &lt;/dl&gt;
-
-  &lt;div class=&quot;impl&quot;&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-TextTrackCue&quot;&gt;&lt;code&gt;WebVTTCue(&lt;var
-  title=&quot;&quot;&gt;startTime&lt;/var&gt;, &lt;var title=&quot;&quot;&gt;endTime&lt;/var&gt;, &lt;var
-  title=&quot;&quot;&gt;text&lt;/var&gt;)&lt;/code&gt;&lt;/dfn&gt; constructor, when invoked, must
-  run the following steps:&lt;/p&gt;
-
-  &lt;ol&gt;
-
-   &lt;li&gt;&lt;p&gt;Create a new &lt;span&gt;text track cue&lt;/span&gt;. Let &lt;var
-   title=&quot;&quot;&gt;cue&lt;/var&gt; be that &lt;span&gt;text track cue&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue start
-   time&lt;/span&gt; be the value of the &lt;var title=&quot;&quot;&gt;startTime&lt;/var&gt;
-   argument, interpreted as a time in seconds.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue end
-   time&lt;/span&gt; be the value of the &lt;var title=&quot;&quot;&gt;endTime&lt;/var&gt;
-   argument, interpreted as a time in seconds.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue text&lt;/span&gt; be the value of the &lt;var
-   title=&quot;&quot;&gt;text&lt;/var&gt; argument, and let the &lt;span&gt;rules for rendering the cue in isolation&lt;/span&gt;
-   be the &lt;span&gt;rules for interpreting WebVTT cue text&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;!-- default settings --&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   identifier&lt;/span&gt; be the empty string.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   pause-on-exit flag&lt;/span&gt; be false.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   writing direction&lt;/span&gt; be &lt;span title=&quot;text track cue
-   horizontal writing direction&quot;&gt;horizontal&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   snap-to-lines flag&lt;/span&gt; be true.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue line
-   position&lt;/span&gt; be &lt;span title=&quot;text track cue automatic line
-   position&quot;&gt;auto&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   text position&lt;/span&gt; be 50.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   size&lt;/span&gt; be 100.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Let &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;'s &lt;span&gt;text track cue
-   alignment&lt;/span&gt; be &lt;span title=&quot;text track cue middle
-   alignment&quot;&gt;middle alignment&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
-
-   &lt;li&gt;&lt;p&gt;Return the &lt;code&gt;TextTrackCue&lt;/code&gt; object representing
-   &lt;var title=&quot;&quot;&gt;cue&lt;/var&gt;.&lt;/p&gt;&lt;/li&gt;
-
-  &lt;/ol&gt;
-
-  &lt;p&gt;The &lt;dfn
-  title=&quot;dom-TextTrackCue-vertical&quot;&gt;&lt;code&gt;vertical&lt;/code&gt;&lt;/dfn&gt;
-  attribute, on getting, must return the string from the second cell
-  of the row in the table below whose first cell is the &lt;span&gt;text
-  track cue writing direction&lt;/span&gt; of the &lt;span&gt;text track
-  cue&lt;/span&gt; that the &lt;code&gt;TextTrackCue&lt;/code&gt; object represents:&lt;/p&gt;
-
-  &lt;table&gt;
-   &lt;thead&gt;
-    &lt;tr&gt; &lt;th&gt; &lt;span&gt;Text track cue writing direction&lt;/span&gt;
-         &lt;th&gt; &lt;code title=&quot;dom-TextTrackCue-direction&quot;&gt;direction&lt;/code&gt; value
-   &lt;tbody&gt;
-    &lt;tr&gt; &lt;td&gt; &lt;span title=&quot;text track cue horizontal writing direction&quot;&gt;Horizontal&lt;/span&gt;
-         &lt;td&gt; &quot;&lt;code title=&quot;&quot;&gt;&lt;/code&gt;&quot; (the empty string)
-    &lt;tr&gt; &lt;td&gt; &lt;span title=&quot;text track cue vertical growing left writing direction&quot;&gt;Vertical growing left&lt;/span&gt;
-         &lt;td&gt; &quot;&lt;code title=&quot;&quot;&gt;rl&lt;/code&gt;&quot;
-    &lt;tr&gt; &lt;td&gt; &lt;span title=&quot;text track cue vertical growing right writing direction&quot;&gt;Vertical growing right&lt;/span&gt;
-         &lt;td&gt; &quot;&lt;code title=&quot;&quot;&gt;lr&lt;/code&gt;&quot;
-  &lt;/table&gt;
-
-  &lt;p&gt;On setting, the &lt;span&gt;text track cue writing direction&lt;/span&gt; must be set to the value given in
-  the first cell of the row in the table above whose second cell is a &lt;span&gt;case-sensitive&lt;/span&gt;
-  match for the new value, if any. If none of the values match, then the user agent must instead
-  throw a &lt;code&gt;SyntaxError&lt;/code&gt; exception.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-TextTrackCue-snapToLines&quot;&gt;&lt;code&gt;snapToLines&lt;/code&gt;&lt;/dfn&gt; attribute, on
-  getting, must return true if the &lt;span&gt;text track cue snap-to-lines flag&lt;/span&gt; of the &lt;span&gt;text
-  track cue&lt;/span&gt; that the &lt;code&gt;TextTrackCue&lt;/code&gt; object represents is set; or false otherwise.
-  On setting, the &lt;span&gt;text track cue snap-to-lines flag&lt;/span&gt; must be set if the new value is
-  true, and must be unset otherwise.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-TextTrackCue-line&quot;&gt;&lt;code&gt;line&lt;/code&gt;&lt;/dfn&gt; attribute, on getting, must
-  return the &lt;span&gt;text track cue line position&lt;/span&gt; of the &lt;span&gt;text track cue&lt;/span&gt; that the
-  &lt;code&gt;TextTrackCue&lt;/code&gt; object represents. The special value &lt;span title=&quot;text track cue
-  automatic line position&quot;&gt;auto&lt;/span&gt; must be represented as the string &quot;&lt;code
-  title=&quot;&quot;&gt;auto&lt;/code&gt;&quot;. On setting, the &lt;span&gt;text track cue line position&lt;/span&gt; must be set to
-  the new value; if the new value is the string &quot;&lt;code title=&quot;&quot;&gt;auto&lt;/code&gt;&quot;, then it must be
-  interpreted as the special value &lt;span title=&quot;text track cue automatic line
-  position&quot;&gt;auto&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-TextTrackCue-position&quot;&gt;&lt;code&gt;position&lt;/code&gt;&lt;/dfn&gt; attribute, on getting,
-  must return the &lt;span&gt;text track cue text position&lt;/span&gt; of the &lt;span&gt;text track cue&lt;/span&gt; that
-  the &lt;code&gt;TextTrackCue&lt;/code&gt; object represents. On setting, if the new value is negative or
-  greater than 100, then an &lt;code&gt;IndexSizeError&lt;/code&gt; exception must be thrown. Otherwise, the
-  &lt;span&gt;text track cue text position&lt;/span&gt; must be set to the new value.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-TextTrackCue-size&quot;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/dfn&gt; attribute, on getting, must
-  return the &lt;span&gt;text track cue size&lt;/span&gt; of the &lt;span&gt;text track cue&lt;/span&gt; that the
-  &lt;code&gt;TextTrackCue&lt;/code&gt; object represents. On setting, if the new value is negative or greater
-  than 100, then an &lt;code&gt;IndexSizeError&lt;/code&gt; exception must be thrown. Otherwise, the &lt;span&gt;text
-  track cue size&lt;/span&gt; must be set to the new value.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-TextTrackCue-align&quot;&gt;&lt;code&gt;align&lt;/code&gt;&lt;/dfn&gt; attribute, on getting, must
-  return the string from the second cell of the row in the table below whose first cell is the
-  &lt;span&gt;text track cue alignment&lt;/span&gt; of the &lt;span&gt;text track cue&lt;/span&gt; that the
-  &lt;code&gt;TextTrackCue&lt;/code&gt; object represents:&lt;/p&gt;
-
-  &lt;table&gt;
-   &lt;thead&gt;
-    &lt;tr&gt; &lt;th&gt;&lt;span&gt;Text track cue alignment&lt;/span&gt; &lt;th&gt; &lt;code title=&quot;dom-TextTrackCue-align&quot;&gt;align&lt;/code&gt; value
-   &lt;tbody&gt;
-    &lt;tr&gt; &lt;td&gt;&lt;span title=&quot;text track cue start alignment&quot;&gt;Start alignment&lt;/span&gt; &lt;td&gt; &quot;&lt;code title=&quot;&quot;&gt;start&lt;/code&gt;&quot;
-    &lt;tr&gt; &lt;td&gt;&lt;span title=&quot;text track cue middle alignment&quot;&gt;Middle alignment&lt;/span&gt; &lt;td&gt; &quot;&lt;code title=&quot;&quot;&gt;middle&lt;/code&gt;&quot;
-    &lt;tr&gt; &lt;td&gt;&lt;span title=&quot;text track cue end alignment&quot;&gt;End alignment&lt;/span&gt; &lt;td&gt; &quot;&lt;code title=&quot;&quot;&gt;end&lt;/code&gt;&quot;
-    &lt;tr&gt; &lt;td&gt;&lt;span title=&quot;text track cue left alignment&quot;&gt;Left alignment&lt;/span&gt; &lt;td&gt; &quot;&lt;code title=&quot;&quot;&gt;left&lt;/code&gt;&quot;
-    &lt;tr&gt; &lt;td&gt;&lt;span title=&quot;text track cue right alignment&quot;&gt;Right alignment&lt;/span&gt; &lt;td&gt; &quot;&lt;code title=&quot;&quot;&gt;right&lt;/code&gt;&quot;
-  &lt;/table&gt;
-
-  &lt;p&gt;On setting, the &lt;span&gt;text track cue alignment&lt;/span&gt; must be set to the value given in the
-  first cell of the row in the table above whose second cell is a &lt;span&gt;case-sensitive&lt;/span&gt; match
-  for the new value, if any. If none of the values match, then the user agent must instead throw a
-  &lt;code&gt;SyntaxError&lt;/code&gt; exception.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-TextTrackCue-text&quot;&gt;&lt;code&gt;text&lt;/code&gt;&lt;/dfn&gt; attribute, on getting, must
-  return the raw &lt;span&gt;text track cue text&lt;/span&gt; of the &lt;span&gt;text track cue&lt;/span&gt; that the
-  &lt;code&gt;TextTrackCue&lt;/code&gt; object represents. On setting, the &lt;span&gt;text track cue text&lt;/span&gt; must
-  be set to the new value.&lt;/p&gt;
-
-  &lt;p&gt;The &lt;dfn title=&quot;dom-TextTrackCue-getCueAsHTML&quot;&gt;&lt;code&gt;getCueAsHTML()&lt;/code&gt;&lt;/dfn&gt; method must
-  convert the &lt;span&gt;text track cue text&lt;/span&gt; to a &lt;code&gt;DocumentFragment&lt;/code&gt; for the
-  &lt;span&gt;script's document&lt;/span&gt; of the &lt;span&gt;entry script&lt;/span&gt; by applying the &lt;span&gt;WebVTT cue
-  text DOM construction rules&lt;/span&gt; to the result of applying the &lt;span&gt;WebVTT cue text parsing
-  rules&lt;/span&gt; to the &lt;span&gt;text track cue text&lt;/span&gt;.&lt;/p&gt;
-
-  &lt;/div&gt;
-
-
-
-  &lt;h2&gt;IANA considerations&lt;/h2&gt;
-
-  &lt;!-- <A HREF="http://www.w3.org/2002/06/registering-mediatype.html">http://www.w3.org/2002/06/registering-mediatype.html</A> --&gt;
-
-  &lt;h3&gt;&lt;dfn&gt;&lt;code&gt;text/vtt&lt;/code&gt;&lt;/dfn&gt;&lt;/h3&gt;
-
-  &lt;p&gt;This registration is for community review and will be submitted
-  to the IESG for review, approval, and registration with IANA.&lt;/p&gt;
-
-  &lt;!--
-   To: <A HREF="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">ietf-types at iana.org</A>
-   Subject: Registration of media type text/cues
-  --&gt;
-
-  &lt;dl&gt;
-   &lt;dt&gt;Type name:&lt;/dt&gt;
-   &lt;dd&gt;text&lt;/dd&gt;
-   &lt;dt&gt;Subtype name:&lt;/dt&gt;
-   &lt;dd&gt;vtt&lt;/dd&gt;
-   &lt;dt&gt;Required parameters:&lt;/dt&gt;
-   &lt;dd&gt;No parameters&lt;/dd&gt;
-   &lt;dt&gt;Optional parameters:&lt;/dt&gt;
-   &lt;dd&gt;No parameters&lt;/dd&gt;
-   &lt;dt&gt;Encoding considerations:&lt;/dt&gt;
-   &lt;dd&gt;8bit (always UTF-8)&lt;/dd&gt;
-&lt;!--ADD-TOPIC:Security--&gt;
-   &lt;dt&gt;Security considerations:&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;Text track files themselves pose no immediate risk unless
-    sensitive information is included within the
-    data. Implementations, however, are required to follow specific
-    rules when processing text tracks, to ensure that certain
-    origin-based restrictions are honored. Failure to correctly
-    implement these rules can result in information leakage,
-    cross-site scripting attacks, and the like.&lt;/p&gt;
-   &lt;/dd&gt;
-&lt;!--REMOVE-TOPIC:Security--&gt;
-   &lt;dt&gt;Interoperability considerations:&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;p&gt;Rules for processing both conforming and non-conforming content
-    are defined in this specification.&lt;/p&gt;
-   &lt;/dd&gt;
-   &lt;dt&gt;Published specification:&lt;/dt&gt;
-   &lt;dd&gt;
-    This document is the relevant specification.
-   &lt;/dd&gt;
-   &lt;dt&gt;Applications that use this media type:&lt;/dt&gt;
-   &lt;dd&gt;
-    Web browsers and other video players.
-   &lt;/dd&gt;
-   &lt;dt&gt;Additional information:&lt;/dt&gt;
-   &lt;dd&gt;
-    &lt;dl&gt;
-     &lt;dt&gt;Magic number(s):&lt;/dt&gt;
-     &lt;dd&gt;
-      &lt;p&gt;WebVTT files all begin with one of the following byte sequences (where &quot;EOF&quot; means the end of the file):&lt;/p&gt;
-      &lt;ul class=&quot;brief&quot;&gt;
-       &lt;li&gt; EF BB BF 57 45 42 56 54 54 0A
-       &lt;li&gt; EF BB BF 57 45 42 56 54 54 0D
-       &lt;li&gt; EF BB BF 57 45 42 56 54 54 20
-       &lt;li&gt; EF BB BF 57 45 42 56 54 54 09
-       &lt;li&gt; EF BB BF 57 45 42 56 54 54 EOF
-       &lt;li&gt;          57 45 42 56 54 54 0A
-       &lt;li&gt;          57 45 42 56 54 54 0D
-       &lt;li&gt;          57 45 42 56 54 54 20
-       &lt;li&gt;          57 45 42 56 54 54 09
-       &lt;li&gt;          57 45 42 56 54 54 EOF
-      &lt;/ul&gt;
-      &lt;p class=&quot;note&quot;&gt;(An optional UTF-8 BOM, the ASCII string &quot;&lt;code title=&quot;&quot;&gt;WEBVTT&lt;/code&gt;&quot;, and finally a space, tab, line break, or the end of the file.)
-     &lt;/dd&gt;
-     &lt;dt&gt;File extension(s):&lt;/dt&gt;
-     &lt;dd&gt;&quot;&lt;code title=&quot;&quot;&gt;vtt&lt;/code&gt;&quot;&lt;/dd&gt;
-     &lt;dt&gt;Macintosh file type code(s):&lt;/dt&gt;
-     &lt;dd&gt;No specific Macintosh file type codes are recommended for this type.&lt;/dd&gt;
-    &lt;/dl&gt;
-   &lt;/dd&gt;
-   &lt;dt&gt;Person &amp; email address to contact for further information:&lt;/dt&gt;
-   &lt;dd&gt;Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">ian at hixie.ch</A>&gt;&lt;/dd&gt;
-   &lt;dt&gt;Intended usage:&lt;/dt&gt;
-   &lt;dd&gt;Common&lt;/dd&gt;
-   &lt;dt&gt;Restrictions on usage:&lt;/dt&gt;
-   &lt;dd&gt;No restrictions apply.&lt;/dd&gt;
-   &lt;dt&gt;Author:&lt;/dt&gt;
-   &lt;dd&gt;Ian Hickson &lt;<A HREF="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">ian at hixie.ch</A>&gt;&lt;/dd&gt;
-   &lt;dt&gt;Change controller:&lt;/dt&gt;
-   &lt;dd&gt;W3C&lt;/dd&gt;
-  &lt;/dl&gt;
-
-  &lt;p&gt;Fragment identifiers have no meaning with
-  &lt;code&gt;text/vtt&lt;/code&gt; resources.&lt;/p&gt;
-
-&lt;!--END webvtt--&gt;
-
-
-&lt;!--START complete--&gt;&lt;!--START dev-html--&gt;
-
-&lt;!--TOPIC:Video and Audio--&gt;
   &lt;h5&gt;User interface&lt;/h5&gt;
 
   &lt;p&gt;The &lt;dfn title=&quot;attr-media-controls&quot;&gt;&lt;code&gt;controls&lt;/code&gt;&lt;/dfn&gt; attribute is a &lt;span&gt;boolean
@@ -117251,7 +112941,6 @@
 
 &lt;!--START complete--&gt;&lt;!--START dev-html--&gt;
 &lt;!--START postmsg--&gt;&lt;!--START websocket-api--&gt;&lt;!--START storage--&gt;&lt;!--START eventsource--&gt;&lt;!--START workers--&gt;
-&lt;!--START webvtt--&gt;
 
   &lt;h2 class=&quot;no-num&quot; id=&quot;references&quot;&gt;References&lt;/h2&gt;&lt;!--REFS--&gt;
 
@@ -117764,10 +113453,8 @@
    &lt;dt id=&quot;refsWEBSTORAGE&quot;&gt;[WEBSTORAGE]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://dev.w3.org/html5/webstorage/">http://dev.w3.org/html5/webstorage/</A>&quot;&gt;Web Storage&lt;/a&gt;&lt;/cite&gt;, I. Hickson. W3C.&lt;/dd&gt;
 
-&lt;!--END webvtt--&gt;
    &lt;dt id=&quot;refsWEBVTT&quot;&gt;[WEBVTT]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://dev.w3.org/html5/webvtt/">http://dev.w3.org/html5/webvtt/</A>&quot;&gt;WebVTT&lt;/a&gt;&lt;/cite&gt;, I. Hickson. W3C.&lt;/dd&gt;
-&lt;!--START webvtt--&gt;
 
    &lt;dt id=&quot;refsWEBWORKERS&quot;&gt;[WEBWORKERS]&lt;/dt&gt;
    &lt;dd&gt;&lt;cite&gt;&lt;a href=&quot;<A HREF="http://dev.w3.org/html5/workers/">http://dev.w3.org/html5/workers/</A>&quot;&gt;Web Workers&lt;/a&gt;&lt;/cite&gt;, I. Hickson. W3C.&lt;/dd&gt;
@@ -117838,7 +113525,7 @@
   &lt;/dl&gt;
 
 
-&lt;!--END webvtt--&gt;&lt;!--END websocket-api--&gt;&lt;!--END storage--&gt;&lt;!--END eventsource--&gt;&lt;!--END workers--&gt;&lt;!--END postmsg--&gt;
+&lt;!--END websocket-api--&gt;&lt;!--END storage--&gt;&lt;!--END eventsource--&gt;&lt;!--END workers--&gt;&lt;!--END postmsg--&gt;
 
 
   &lt;h2 class=&quot;no-num&quot;&gt;Acknowledgements&lt;/h2&gt; &lt;!-- ACKS --&gt;


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014691.html">[html5] r7833 - [e] (0) Clarify a number of places that were	ambiguously using the word 'in'. Af [...]
</A></li>
	<LI>Next message: <A HREF="014693.html">[html5] r7835 - [giow] (3) Make adding a cue,	or changing its timings, work when the video is pa [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14692">[ date ]</a>
              <a href="thread.html#14692">[ thread ]</a>
              <a href="subject.html#14692">[ subject ]</a>
              <a href="author.html#14692">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
