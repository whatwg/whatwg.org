<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r8367 - [giow] (2) Revamp 'input' and 'change' event logic	for &lt;input&gt; elements. The pri [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8367%20-%20%5Bgiow%5D%20%282%29%20Revamp%20%27input%27%20and%20%27change%27%20event%20logic%0A%09for%20%3Cinput%3E%20elements.%20The%20pri%20%5B...%5D&In-Reply-To=%3C20131219000355.64FAF1536D1C0%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015221.html">
   <LINK REL="Next"  HREF="015223.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r8367 - [giow] (2) Revamp 'input' and 'change' event logic	for &lt;input&gt; elements. The pri [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r8367%20-%20%5Bgiow%5D%20%282%29%20Revamp%20%27input%27%20and%20%27change%27%20event%20logic%0A%09for%20%3Cinput%3E%20elements.%20The%20pri%20%5B...%5D&In-Reply-To=%3C20131219000355.64FAF1536D1C0%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r8367 - [giow] (2) Revamp 'input' and 'change' event logic	for &lt;input&gt; elements. The pri [...]">whatwg at whatwg.org
       </A><BR>
    <I>Wed Dec 18 16:03:55 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="015221.html">[html5] r8366 - [giow] (2) Actually,	previous checkin did not match reality. Try again for locat [...]
</A></li>
        <LI>Next message: <A HREF="015223.html">[html5] r8368 - [giow] (1) Fire 'input' events on &lt;select&gt; also.	Fixing https://www.w3.org/Bugs/ [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15222">[ date ]</a>
              <a href="thread.html#15222">[ thread ]</a>
              <a href="subject.html#15222">[ subject ]</a>
              <a href="author.html#15222">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2013-12-18 16:03:53 -0800 (Wed, 18 Dec 2013)
New Revision: 8367

Modified:
   complete.html
   index
   source
Log:
[giow] (2) Revamp 'input' and 'change' event logic for &lt;input&gt; elements. The primary goal here is to make 'input' events fire on type=checkbox, type=radio, and type=file, but this also improves the way other things here are phrased.
Fixing <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=23449">https://www.w3.org/Bugs/Public/show_bug.cgi?id=23449</A>
Affected topics: HTML

Modified: complete.html
===================================================================
--- complete.html	2013-12-18 19:30:46 UTC (rev 8366)
+++ complete.html	2013-12-19 00:03:53 UTC (rev 8367)
@@ -298,7 +298,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> class=logo&gt;&lt;img width=101 src=/images/logo alt=WHATWG height=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 18 December 2013&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 19 December 2013&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -39410,9 +39410,9 @@
      &lt;td class=yes&gt; Yes     &lt;!-- Number --&gt;
      &lt;td class=yes&gt; Yes     &lt;!-- Range --&gt;
      &lt;td class=yes&gt; Yes     &lt;!-- Color --&gt;
-     &lt;td class=no&gt; &middot; &lt;!-- Checkbox --&gt;
-&lt;!-- &lt;td class=&quot;no&quot;&gt; &middot;      Radio Button --&gt;
-     &lt;td class=no&gt; &middot; &lt;!-- File Upload --&gt;
+     &lt;td class=yes&gt; Yes     &lt;!-- Checkbox --&gt;
+&lt;!-- &lt;td class=&quot;yes&quot;&gt; Yes          Radio Button --&gt;
+     &lt;td class=yes&gt; Yes     &lt;!-- File Upload --&gt;
      &lt;td class=no&gt; &middot; &lt;!-- Submit Button --&gt;
      &lt;td class=no&gt; &middot; &lt;!-- Image Button --&gt;
      &lt;td class=no&gt; &middot; &lt;!-- Reset Button --&gt;
@@ -41770,13 +41770,14 @@
 
   &lt;div class=impl&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p&gt;If the element is &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, then: The &lt;a href=#pre-click-activation-steps&gt;pre-click
   activation steps&lt;/a&gt; consist of setting the element's &lt;a href=#concept-fe-checked title=concept-fe-checked&gt;checkedness&lt;/a&gt; to its opposite value (i.e. true if it is false,
   false if it is true), and of setting the element's &lt;code title=dom-input-indeterminate&gt;&lt;a href=#dom-input-indeterminate&gt;indeterminate&lt;/a&gt;&lt;/code&gt; IDL attribute to false. The &lt;a href=#canceled-activation-steps&gt;canceled
   activation steps&lt;/a&gt; consist of setting the &lt;a href=#concept-fe-checked title=concept-fe-checked&gt;checkedness&lt;/a&gt;
   and the element's &lt;code title=dom-input-indeterminate&gt;&lt;a href=#dom-input-indeterminate&gt;indeterminate&lt;/a&gt;&lt;/code&gt; IDL attribute back to
   the values they had before the &lt;a href=#pre-click-activation-steps&gt;pre-click activation steps&lt;/a&gt; were run. The
-  &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt; is to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the element. &lt;!-- It's not cancelable. Once this fires, the
+  &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt; is to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the element and then &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the element. &lt;!-- It's not cancelable. Once this fires, the
   control is checked, end of story. --&gt;&lt;/p&gt;
 
   &lt;p&gt;If the element is not &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, it has no &lt;a href=#activation-behavior&gt;activation
@@ -41807,7 +41808,7 @@
 
    &lt;p&gt;The &lt;code title=dom-input-value&gt;&lt;a href=#dom-input-value&gt;value&lt;/a&gt;&lt;/code&gt; IDL attribute is in mode &lt;a href=#dom-input-value-default-on title=dom-input-value-default-on&gt;default/on&lt;/a&gt;.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;.&lt;/p&gt;
+   &lt;p&gt;The &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;.&lt;/p&gt;
 
    &lt;p&gt;The following content attributes must not be specified and &lt;a href=#do-not-apply&gt;do not apply&lt;/a&gt; to the
    element:
@@ -41850,9 +41851,6 @@
    &lt;code class=no-backref title=dom-input-stepDown&gt;&lt;a href=#dom-input-stepdown&gt;stepDown()&lt;/a&gt;&lt;/code&gt;, and
    &lt;code class=no-backref title=dom-input-stepUp&gt;&lt;a href=#dom-input-stepup&gt;stepUp()&lt;/a&gt;&lt;/code&gt; methods.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code class=no-backref title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; event &lt;a href=#do-not-apply title=&quot;do not
-   apply&quot;&gt;does not apply&lt;/a&gt;.&lt;/p&gt;
-
   &lt;/div&gt;
 
 
@@ -41905,10 +41903,10 @@
 
    &lt;li&gt;The element's &lt;a href=#form-owner&gt;form owner&lt;/a&gt; changes.&lt;/li&gt;
 
-  &lt;/ul&gt;&lt;p&gt;If the element is &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, then: The &lt;a href=#pre-click-activation-steps&gt;pre-click
+  &lt;/ul&gt;&lt;!--CLEANUP--&gt;&lt;p&gt;If the element is &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, then: The &lt;a href=#pre-click-activation-steps&gt;pre-click
   activation steps&lt;/a&gt; consist of setting the element's &lt;a href=#concept-fe-checked title=concept-fe-checked&gt;checkedness&lt;/a&gt; to true. The &lt;a href=#canceled-activation-steps&gt;canceled activation steps&lt;/a&gt;
   consist of setting the element's &lt;a href=#concept-fe-checked title=concept-fe-checked&gt;checkedness&lt;/a&gt; to false. The
-  &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt; is to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the element. &lt;!-- It's not cancelable. Once this fires, the
+  &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt; is to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the element and then &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the element. &lt;!-- It's not cancelable. Once this fires, the
   control is checked, end of story. --&gt;.&lt;/p&gt;
 
   &lt;p&gt;If the element is not &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, it has no &lt;a href=#activation-behavior&gt;activation
@@ -41934,7 +41932,7 @@
 
    &lt;p&gt;The &lt;code title=dom-input-value&gt;&lt;a href=#dom-input-value&gt;value&lt;/a&gt;&lt;/code&gt; IDL attribute is in mode &lt;a href=#dom-input-value-default-on title=dom-input-value-default-on&gt;default/on&lt;/a&gt;.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;.&lt;/p&gt;
+   &lt;p&gt;The &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;.&lt;/p&gt;
 
    &lt;p&gt;The following content attributes must not be specified and &lt;a href=#do-not-apply&gt;do not apply&lt;/a&gt; to the
    element:
@@ -41977,9 +41975,6 @@
    &lt;code class=no-backref title=dom-input-stepDown&gt;&lt;a href=#dom-input-stepdown&gt;stepDown()&lt;/a&gt;&lt;/code&gt;, and
    &lt;code class=no-backref title=dom-input-stepUp&gt;&lt;a href=#dom-input-stepup&gt;stepUp()&lt;/a&gt;&lt;/code&gt; methods.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code class=no-backref title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; event &lt;a href=#do-not-apply title=&quot;do not
-   apply&quot;&gt;does not apply&lt;/a&gt;.&lt;/p&gt;
-
   &lt;/div&gt;
 
 
@@ -42008,26 +42003,46 @@
   entire directory hierarchy or multiple files with the same name from different directories. Path
   components are those separated by U+005C REVERSE SOLIDUS character (\) characters.&lt;/p&gt;
 
-  &lt;p&gt;If the element is &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, the user agent should allow the
-  user to change the files on the list, e.g. adding or removing files. Files can be from the
-  filesystem or created on the fly, e.g. a picture taken from a camera connected to the user's
-  device.&lt;/p&gt;
+  &lt;p&gt;Unless the &lt;code title=attr-input-multiple&gt;&lt;a href=#attr-input-multiple&gt;multiple&lt;/a&gt;&lt;/code&gt; attribute is set, there must be
+  no more than one file in the list of &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected
+  files&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;If the element is &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, then the element's
-  &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt; is as follows: if the algorithm is &lt;a href=#allowed-to-show-a-popup&gt;allowed to show a
-  popup&lt;/a&gt;, then asynchronously display prompt to the user requesting that the user specify the
-  &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected files&lt;/a&gt;; otherwise, do nothing.&lt;/p&gt;
+  &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt; is to run the following steps:&lt;/p&gt;
 
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the algorithm is not &lt;a href=#allowed-to-show-a-popup&gt;allowed to show a popup&lt;/a&gt;, then abort these steps
+   without doing anything else.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return, but continue running these steps asynchronously.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Optionally, wait until any prior execution of this algorithm has terminated.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;Display a prompt to the user requesting that the user specify some files. If the &lt;code title=attr-input-multiple&gt;&lt;a href=#attr-input-multiple&gt;multiple&lt;/a&gt;&lt;/code&gt; attribute is not set, there must be no more than one
+   file selected; otherwise, any number may be selected. Files can be from the filesystem or created
+   on the fly, e.g. a picture taken from a camera connected to the user's device.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;Wait for the user to have made their selection.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to first update the element's &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected files&lt;/a&gt; so that it represents the user's
+   selection, then &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element, and finally &lt;a href=#fire-a-simple-event&gt;fire a
+   simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the
+   &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;If the element is &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, the user agent should allow the
+  user to change the files on the list in other ways also, e.g. adding or removing files by
+  drag-and-drop. When the user does so, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to first
+  update the element's &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected files&lt;/a&gt; so that
+  it represents the user's new selection, then &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named
+  &lt;code title=event-input&gt;input&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element, and finally &lt;a href=#fire-a-simple-event&gt;fire
+  a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the
+  &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+
   &lt;p&gt;If the element is not &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, it has no &lt;a href=#activation-behavior&gt;activation
-  behavior&lt;/a&gt;.&lt;/p&gt;
+  behavior&lt;/a&gt; and the user agent must not allow the user to change the element's selection.&lt;/p&gt;
 
   &lt;p&gt;&lt;strong&gt;Constraint validation&lt;/strong&gt;: If the element is &lt;i title=concept-input-required&gt;&lt;a href=#concept-input-required&gt;required&lt;/a&gt;&lt;/i&gt; and the list of &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected files&lt;/a&gt; is empty, then the element is
   &lt;a href=#suffering-from-being-missing&gt;suffering from being missing&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Unless the &lt;code title=attr-input-multiple&gt;&lt;a href=#attr-input-multiple&gt;multiple&lt;/a&gt;&lt;/code&gt; attribute is set, there must be no
-  more than one file in the list of &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected
-  files&lt;/a&gt;.&lt;/p&gt;
-
   &lt;/div&gt;
 
   &lt;hr&gt;&lt;p&gt;The &lt;dfn id=attr-input-accept title=attr-input-accept&gt;&lt;code&gt;accept&lt;/code&gt;&lt;/dfn&gt; attribute may be specified to
@@ -42152,7 +42167,7 @@
 
    &lt;p&gt;The &lt;code title=dom-input-value&gt;&lt;a href=#dom-input-value&gt;value&lt;/a&gt;&lt;/code&gt; IDL attribute is in mode &lt;a href=#dom-input-value-filename title=dom-input-value-filename&gt;filename&lt;/a&gt;.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;.&lt;/p&gt;
+   &lt;p&gt;The &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;.&lt;/p&gt;
 
    &lt;p&gt;The following content attributes must not be specified and &lt;a href=#do-not-apply&gt;do not apply&lt;/a&gt; to the
    element:
@@ -42196,9 +42211,6 @@
    &lt;code class=no-backref title=dom-input-stepDown&gt;&lt;a href=#dom-input-stepdown&gt;stepDown()&lt;/a&gt;&lt;/code&gt;, and
    &lt;code class=no-backref title=dom-input-stepUp&gt;&lt;a href=#dom-input-stepup&gt;stepUp()&lt;/a&gt;&lt;/code&gt; methods.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code class=no-backref title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; event &lt;a href=#do-not-apply title=&quot;do not
-   apply&quot;&gt;does not apply&lt;/a&gt;.&lt;/p&gt;
-
   &lt;/div&gt;
 
 
@@ -43659,53 +43671,83 @@
 
   &lt;h5 id=common-input-element-events&gt;&lt;span class=secno&gt;4.10.5.5 &lt;/span&gt;Common event behaviors&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;dfn id=event-input-input title=event-input-input&gt;&lt;code&gt;input&lt;/code&gt;&lt;/dfn&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;, any time the user causes the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; to change, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
-  &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the
-  &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element. User agents may wait for a suitable break in the user's interaction
-  before queuing the task; for example, a user agent could wait for the user to have not hit a key
-  for 100ms, so as to only fire the event when the user pauses, instead of continuously for each
-  keystroke.&lt;/p&gt; &lt;!-- same text is present in the &lt;textarea&gt; section --&gt;
+  &lt;p&gt;When the &lt;code title=event-input&gt;input&lt;/code&gt; and &lt;code title=event-change&gt;change&lt;/code&gt;
+  events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt; (which is the case for all
+  &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; controls other than &lt;a href=#concept-button title=concept-button&gt;buttons&lt;/a&gt; and those with
+  the &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute in the &lt;a href=&quot;#hidden-state-(type=hidden)&quot; title=attr-input-type-hidden&gt;Hidden&lt;/a&gt; state), the events are fired to indicate that the
+  user has interacted with the control. The &lt;dfn id=event-input-input title=event-input-input&gt;&lt;code&gt;input&lt;/code&gt;&lt;/dfn&gt;
+  event fires whenever the user has modified the data of the control. The &lt;dfn id=event-input-change title=event-input-change&gt;&lt;code&gt;change&lt;/code&gt;&lt;/dfn&gt; event fires when the value is committed, if
+  that makes sense for the control, or else when the control loses focus. In all cases, the &lt;code title=event-input&gt;input&lt;/code&gt; event comes before the corresponding &lt;code title=event-change&gt;change&lt;/code&gt; event (if any).&lt;/p&gt;
 
-  &lt;p class=example&gt;Examples of a user changing the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; would include the user typing into a text field, pasting a
-  new value into the field, or undoing an edit in that field. Some user interactions do not cause
-  changes to the value, e.g. hitting the &quot;delete&quot; key in an empty text field, or replacing some text
-  in the field with text from the clipboard that happens to be exactly the same text.&lt;/p&gt;
+  &lt;p&gt;When an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element has a defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, the rules
+  for dispatching these events, if they &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;, are given
+  in the section above that defines the &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute's
+  state. (This is the case for all &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; controls with the &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute in the &lt;a href=&quot;#checkbox-state-(type=checkbox)&quot; title=attr-input-type-checkbox&gt;Checkbox&lt;/a&gt; state, the &lt;a href=&quot;#radio-button-state-(type=radio)&quot; title=attr-input-type-radio&gt;Radio Button&lt;/a&gt; state, or the &lt;a href=&quot;#file-upload-state-(type=file)&quot; title=attr-input-type-file&gt;File Upload&lt;/a&gt; state.)&lt;/p&gt;
 
-  &lt;p&gt;When the &lt;dfn id=event-input-change title=event-input-change&gt;&lt;code&gt;change&lt;/code&gt;&lt;/dfn&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;, if the element does not have an &lt;a href=#activation-behavior&gt;activation
-  behavior&lt;/a&gt; defined but uses a user interface that involves an explicit commit action, then
-  any time the user commits a change to the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; or
-  list of &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected files&lt;/a&gt;, the user agent must
-  &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+  &lt;p&gt;For &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; elements without a defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, but to
+  which these events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;, and for which the user
+  interface involves both interactive manipulation and an explicit commit action, then when the user
+  changes the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt;, the user agent must
+  &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element, and any time the user commits
+  the change, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that
+  bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
-  &lt;p class=example&gt;An example of a user interface with a commit action would be a &lt;a href=&quot;#file-upload-state-(type=file)&quot; title=attr-input-type-file&gt;File Upload&lt;/a&gt; control that consists of a single button that
-  brings up a file selection dialog: when the dialog is closed, if that the &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;file selection&lt;/a&gt; changed as a result, then the user
-  has committed a new &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;file selection&lt;/a&gt;.&lt;/p&gt;
+  &lt;p class=example&gt;An example of a user interface involving both interactive manipulation and a
+  commit action would be a &lt;a href=&quot;#range-state-(type=range)&quot; title=attr-input-type-range&gt;Range&lt;/a&gt; controls that use a
+  slider, when manipulated using a pointing device. While the user is dragging the control's knob,
+  &lt;code title=event-input&gt;input&lt;/code&gt; events would fire whenever the position changed, whereas
+  the &lt;code title=event-change&gt;change&lt;/code&gt; event would only fire when the user let go of the
+  knob, committing to a specific value.&lt;/p&gt;
 
+  &lt;p&gt;For &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; elements without a defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, but to
+  which these events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;, and for which the user
+  interface involves an explicit commit action but no intermediate manipulation, then any time the
+  user commits a change to the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt;, the user
+  agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to first &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named
+  &lt;code title=event-input&gt;input&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element, and then &lt;a href=#fire-a-simple-event&gt;fire a
+  simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the
+  &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+
+  &lt;p class=example&gt;An example of a user interface with a commit action would be a &lt;a href=&quot;#color-state-(type=color)&quot; title=attr-input-type-color&gt;Color&lt;/a&gt; control that consists of a single button that brings
+  up a color wheel: if the &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; only changes when the dialog
+  is closed, then that would be the explicit commit action. On the other hand, if the control can be
+  focused and manipulating the control changes the color interactively, then there might be no
+  commit action.&lt;/p&gt;
+
   &lt;p class=example&gt;Another example of a user interface with a commit action would be a &lt;a href=&quot;#date-state-(type=date)&quot; title=attr-input-type-date&gt;Date&lt;/a&gt; control that allows both text-based user input and user
   selection from a drop-down calendar: while text input might not have an explicit commit step,
   selecting a date from the drop down calendar and then dismissing the drop down would be a commit
   action.&lt;/p&gt;
 
-  &lt;p class=example&gt;A third example of a user interface with a commit action would be a &lt;a href=&quot;#range-state-(type=range)&quot; title=attr-input-type-range&gt;Range&lt;/a&gt; controls that use a slider. While the user is dragging
-  the control's knob, &lt;code title=event-input&gt;input&lt;/code&gt; events would fire whenever the position
-  changed, whereas the &lt;code title=event-change&gt;change&lt;/code&gt; event would only fire when the user
-  let go of the knob, committing to a specific value.&lt;/p&gt;
+  &lt;p&gt;For &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; elements without a defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, but to
+  which these events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;, any time the user causes the
+  element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; to change without an explicit commit
+  action, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that
+  bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element. The
+  corresponding &lt;code title=event-change&gt;change&lt;/code&gt; event, if any, will be fired when the
+  control &lt;a href=#unfocusing-steps title=&quot;unfocusing steps&quot;&gt;loses focus&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;When the user agent changes the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; on behalf
-  of the user (e.g. as part of a form prefilling feature), the user agent must follow these
-  steps:&lt;/p&gt;
+  &lt;p class=example&gt;Examples of a user changing the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; would include the user typing into a text field, pasting a
+  new value into the field, or undoing an edit in that field. Some user interactions do not cause
+  changes to the value, e.g. hitting the &quot;delete&quot; key in an empty text field, or replacing some text
+  in the field with text from the clipboard that happens to be exactly the same text.&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;If the &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
-   event&lt;/a&gt; that bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;
-   element.&lt;/li&gt;
+  &lt;p class=example&gt;A &lt;a href=&quot;#range-state-(type=range)&quot; title=attr-input-type-range&gt;Range&lt;/a&gt; control in the form of a
+  slider that the user has focused and is interacting with using a keyboard would be another example
+  of the user changing the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; without a commit
+  step.&lt;/p&gt;
 
-   &lt;li&gt;If the &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
-   event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the
-   &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/li&gt;
+  &lt;p&gt;In the case of &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that just fire an &lt;code title=event-input&gt;input&lt;/code&gt; event, user agents may wait for a suitable break in the user's
+  interaction before &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queuing&lt;/a&gt; the tasks; for example, a user agent
+  could wait for the user to have not hit a key for 100ms, so as to only fire the event when the
+  user pauses, instead of continuously for each keystroke. &lt;!-- similar text is present in the
+  &lt;textarea&gt; section --&gt;
 
-  &lt;/ol&gt;&lt;p class=note&gt;In addition, when the &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;, &lt;code title=event-change&gt;change&lt;/code&gt; events can
-  also be fired as part of the element's &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt; and as part of the
-  &lt;a href=#unfocusing-steps&gt;unfocusing steps&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;When the user agent is to change an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; on behalf of the user (e.g. as part of a form prefilling
+  feature), the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to first update the &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; accordingly, then &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that
+  bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element, then
+  &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at
+  the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.
 
   &lt;p class=note&gt;These events are not fired in response to changes made to the values of form
   controls by scripts. (This is to make it easier to update the values of form controls in response

Modified: index
===================================================================
--- index	2013-12-18 19:30:46 UTC (rev 8366)
+++ index	2013-12-19 00:03:53 UTC (rev 8367)
@@ -298,7 +298,7 @@
 
   &lt;header class=head id=head&gt;&lt;p&gt;&lt;a href=<A HREF="http://www.whatwg.org/">http://www.whatwg.org/</A> class=logo&gt;&lt;img width=101 src=/images/logo alt=WHATWG height=101&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;hgroup&gt;&lt;h1 class=allcaps&gt;HTML&lt;/h1&gt;
-    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 18 December 2013&lt;/h2&gt;
+    &lt;h2 class=&quot;no-num no-toc&quot;&gt;Living Standard &mdash; Last Updated 19 December 2013&lt;/h2&gt;
    &lt;/hgroup&gt;&lt;dl&gt;&lt;dt&gt;&lt;strong&gt;Web developer edition:&lt;/strong&gt;&lt;/dt&gt;
     &lt;dd&gt;&lt;strong&gt;&lt;a href=<A HREF="http://developers.whatwg.org/">http://developers.whatwg.org/</A>&gt;<A HREF="http://developers.whatwg.org/&lt;/a">http://developers.whatwg.org/&lt;/a</A>&gt;&lt;/strong&gt;&lt;/dd&gt;
     &lt;dt&gt;Multiple-page version:&lt;/dt&gt;
@@ -39410,9 +39410,9 @@
      &lt;td class=yes&gt; Yes     &lt;!-- Number --&gt;
      &lt;td class=yes&gt; Yes     &lt;!-- Range --&gt;
      &lt;td class=yes&gt; Yes     &lt;!-- Color --&gt;
-     &lt;td class=no&gt; &middot; &lt;!-- Checkbox --&gt;
-&lt;!-- &lt;td class=&quot;no&quot;&gt; &middot;      Radio Button --&gt;
-     &lt;td class=no&gt; &middot; &lt;!-- File Upload --&gt;
+     &lt;td class=yes&gt; Yes     &lt;!-- Checkbox --&gt;
+&lt;!-- &lt;td class=&quot;yes&quot;&gt; Yes          Radio Button --&gt;
+     &lt;td class=yes&gt; Yes     &lt;!-- File Upload --&gt;
      &lt;td class=no&gt; &middot; &lt;!-- Submit Button --&gt;
      &lt;td class=no&gt; &middot; &lt;!-- Image Button --&gt;
      &lt;td class=no&gt; &middot; &lt;!-- Reset Button --&gt;
@@ -41770,13 +41770,14 @@
 
   &lt;div class=impl&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p&gt;If the element is &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, then: The &lt;a href=#pre-click-activation-steps&gt;pre-click
   activation steps&lt;/a&gt; consist of setting the element's &lt;a href=#concept-fe-checked title=concept-fe-checked&gt;checkedness&lt;/a&gt; to its opposite value (i.e. true if it is false,
   false if it is true), and of setting the element's &lt;code title=dom-input-indeterminate&gt;&lt;a href=#dom-input-indeterminate&gt;indeterminate&lt;/a&gt;&lt;/code&gt; IDL attribute to false. The &lt;a href=#canceled-activation-steps&gt;canceled
   activation steps&lt;/a&gt; consist of setting the &lt;a href=#concept-fe-checked title=concept-fe-checked&gt;checkedness&lt;/a&gt;
   and the element's &lt;code title=dom-input-indeterminate&gt;&lt;a href=#dom-input-indeterminate&gt;indeterminate&lt;/a&gt;&lt;/code&gt; IDL attribute back to
   the values they had before the &lt;a href=#pre-click-activation-steps&gt;pre-click activation steps&lt;/a&gt; were run. The
-  &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt; is to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the element. &lt;!-- It's not cancelable. Once this fires, the
+  &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt; is to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the element and then &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the element. &lt;!-- It's not cancelable. Once this fires, the
   control is checked, end of story. --&gt;&lt;/p&gt;
 
   &lt;p&gt;If the element is not &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, it has no &lt;a href=#activation-behavior&gt;activation
@@ -41807,7 +41808,7 @@
 
    &lt;p&gt;The &lt;code title=dom-input-value&gt;&lt;a href=#dom-input-value&gt;value&lt;/a&gt;&lt;/code&gt; IDL attribute is in mode &lt;a href=#dom-input-value-default-on title=dom-input-value-default-on&gt;default/on&lt;/a&gt;.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;.&lt;/p&gt;
+   &lt;p&gt;The &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;.&lt;/p&gt;
 
    &lt;p&gt;The following content attributes must not be specified and &lt;a href=#do-not-apply&gt;do not apply&lt;/a&gt; to the
    element:
@@ -41850,9 +41851,6 @@
    &lt;code class=no-backref title=dom-input-stepDown&gt;&lt;a href=#dom-input-stepdown&gt;stepDown()&lt;/a&gt;&lt;/code&gt;, and
    &lt;code class=no-backref title=dom-input-stepUp&gt;&lt;a href=#dom-input-stepup&gt;stepUp()&lt;/a&gt;&lt;/code&gt; methods.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code class=no-backref title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; event &lt;a href=#do-not-apply title=&quot;do not
-   apply&quot;&gt;does not apply&lt;/a&gt;.&lt;/p&gt;
-
   &lt;/div&gt;
 
 
@@ -41905,10 +41903,10 @@
 
    &lt;li&gt;The element's &lt;a href=#form-owner&gt;form owner&lt;/a&gt; changes.&lt;/li&gt;
 
-  &lt;/ul&gt;&lt;p&gt;If the element is &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, then: The &lt;a href=#pre-click-activation-steps&gt;pre-click
+  &lt;/ul&gt;&lt;!--CLEANUP--&gt;&lt;p&gt;If the element is &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, then: The &lt;a href=#pre-click-activation-steps&gt;pre-click
   activation steps&lt;/a&gt; consist of setting the element's &lt;a href=#concept-fe-checked title=concept-fe-checked&gt;checkedness&lt;/a&gt; to true. The &lt;a href=#canceled-activation-steps&gt;canceled activation steps&lt;/a&gt;
   consist of setting the element's &lt;a href=#concept-fe-checked title=concept-fe-checked&gt;checkedness&lt;/a&gt; to false. The
-  &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt; is to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the element. &lt;!-- It's not cancelable. Once this fires, the
+  &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt; is to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the element and then &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the element. &lt;!-- It's not cancelable. Once this fires, the
   control is checked, end of story. --&gt;.&lt;/p&gt;
 
   &lt;p&gt;If the element is not &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, it has no &lt;a href=#activation-behavior&gt;activation
@@ -41934,7 +41932,7 @@
 
    &lt;p&gt;The &lt;code title=dom-input-value&gt;&lt;a href=#dom-input-value&gt;value&lt;/a&gt;&lt;/code&gt; IDL attribute is in mode &lt;a href=#dom-input-value-default-on title=dom-input-value-default-on&gt;default/on&lt;/a&gt;.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;.&lt;/p&gt;
+   &lt;p&gt;The &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;.&lt;/p&gt;
 
    &lt;p&gt;The following content attributes must not be specified and &lt;a href=#do-not-apply&gt;do not apply&lt;/a&gt; to the
    element:
@@ -41977,9 +41975,6 @@
    &lt;code class=no-backref title=dom-input-stepDown&gt;&lt;a href=#dom-input-stepdown&gt;stepDown()&lt;/a&gt;&lt;/code&gt;, and
    &lt;code class=no-backref title=dom-input-stepUp&gt;&lt;a href=#dom-input-stepup&gt;stepUp()&lt;/a&gt;&lt;/code&gt; methods.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code class=no-backref title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; event &lt;a href=#do-not-apply title=&quot;do not
-   apply&quot;&gt;does not apply&lt;/a&gt;.&lt;/p&gt;
-
   &lt;/div&gt;
 
 
@@ -42008,26 +42003,46 @@
   entire directory hierarchy or multiple files with the same name from different directories. Path
   components are those separated by U+005C REVERSE SOLIDUS character (\) characters.&lt;/p&gt;
 
-  &lt;p&gt;If the element is &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, the user agent should allow the
-  user to change the files on the list, e.g. adding or removing files. Files can be from the
-  filesystem or created on the fly, e.g. a picture taken from a camera connected to the user's
-  device.&lt;/p&gt;
+  &lt;p&gt;Unless the &lt;code title=attr-input-multiple&gt;&lt;a href=#attr-input-multiple&gt;multiple&lt;/a&gt;&lt;/code&gt; attribute is set, there must be
+  no more than one file in the list of &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected
+  files&lt;/a&gt;.&lt;/p&gt;
 
   &lt;p&gt;If the element is &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, then the element's
-  &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt; is as follows: if the algorithm is &lt;a href=#allowed-to-show-a-popup&gt;allowed to show a
-  popup&lt;/a&gt;, then asynchronously display prompt to the user requesting that the user specify the
-  &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected files&lt;/a&gt;; otherwise, do nothing.&lt;/p&gt;
+  &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt; is to run the following steps:&lt;/p&gt;
 
+  &lt;ol&gt;&lt;li&gt;&lt;p&gt;If the algorithm is not &lt;a href=#allowed-to-show-a-popup&gt;allowed to show a popup&lt;/a&gt;, then abort these steps
+   without doing anything else.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return, but continue running these steps asynchronously.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Optionally, wait until any prior execution of this algorithm has terminated.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;Display a prompt to the user requesting that the user specify some files. If the &lt;code title=attr-input-multiple&gt;&lt;a href=#attr-input-multiple&gt;multiple&lt;/a&gt;&lt;/code&gt; attribute is not set, there must be no more than one
+   file selected; otherwise, any number may be selected. Files can be from the filesystem or created
+   on the fly, e.g. a picture taken from a camera connected to the user's device.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;Wait for the user to have made their selection.&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;a href=#queue-a-task&gt;Queue a task&lt;/a&gt; to first update the element's &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected files&lt;/a&gt; so that it represents the user's
+   selection, then &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element, and finally &lt;a href=#fire-a-simple-event&gt;fire a
+   simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the
+   &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/li&gt;
+
+  &lt;/ol&gt;&lt;p&gt;If the element is &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, the user agent should allow the
+  user to change the files on the list in other ways also, e.g. adding or removing files by
+  drag-and-drop. When the user does so, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to first
+  update the element's &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected files&lt;/a&gt; so that
+  it represents the user's new selection, then &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named
+  &lt;code title=event-input&gt;input&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element, and finally &lt;a href=#fire-a-simple-event&gt;fire
+  a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the
+  &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+
   &lt;p&gt;If the element is not &lt;i title=concept-fe-mutable&gt;&lt;a href=#concept-fe-mutable&gt;mutable&lt;/a&gt;&lt;/i&gt;, it has no &lt;a href=#activation-behavior&gt;activation
-  behavior&lt;/a&gt;.&lt;/p&gt;
+  behavior&lt;/a&gt; and the user agent must not allow the user to change the element's selection.&lt;/p&gt;
 
   &lt;p&gt;&lt;strong&gt;Constraint validation&lt;/strong&gt;: If the element is &lt;i title=concept-input-required&gt;&lt;a href=#concept-input-required&gt;required&lt;/a&gt;&lt;/i&gt; and the list of &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected files&lt;/a&gt; is empty, then the element is
   &lt;a href=#suffering-from-being-missing&gt;suffering from being missing&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Unless the &lt;code title=attr-input-multiple&gt;&lt;a href=#attr-input-multiple&gt;multiple&lt;/a&gt;&lt;/code&gt; attribute is set, there must be no
-  more than one file in the list of &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected
-  files&lt;/a&gt;.&lt;/p&gt;
-
   &lt;/div&gt;
 
   &lt;hr&gt;&lt;p&gt;The &lt;dfn id=attr-input-accept title=attr-input-accept&gt;&lt;code&gt;accept&lt;/code&gt;&lt;/dfn&gt; attribute may be specified to
@@ -42152,7 +42167,7 @@
 
    &lt;p&gt;The &lt;code title=dom-input-value&gt;&lt;a href=#dom-input-value&gt;value&lt;/a&gt;&lt;/code&gt; IDL attribute is in mode &lt;a href=#dom-input-value-filename title=dom-input-value-filename&gt;filename&lt;/a&gt;.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;.&lt;/p&gt;
+   &lt;p&gt;The &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; and &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;.&lt;/p&gt;
 
    &lt;p&gt;The following content attributes must not be specified and &lt;a href=#do-not-apply&gt;do not apply&lt;/a&gt; to the
    element:
@@ -42196,9 +42211,6 @@
    &lt;code class=no-backref title=dom-input-stepDown&gt;&lt;a href=#dom-input-stepdown&gt;stepDown()&lt;/a&gt;&lt;/code&gt;, and
    &lt;code class=no-backref title=dom-input-stepUp&gt;&lt;a href=#dom-input-stepup&gt;stepUp()&lt;/a&gt;&lt;/code&gt; methods.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code class=no-backref title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; event &lt;a href=#do-not-apply title=&quot;do not
-   apply&quot;&gt;does not apply&lt;/a&gt;.&lt;/p&gt;
-
   &lt;/div&gt;
 
 
@@ -43659,53 +43671,83 @@
 
   &lt;h5 id=common-input-element-events&gt;&lt;span class=secno&gt;4.10.5.5 &lt;/span&gt;Common event behaviors&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;dfn id=event-input-input title=event-input-input&gt;&lt;code&gt;input&lt;/code&gt;&lt;/dfn&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;, any time the user causes the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; to change, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to
-  &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the
-  &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element. User agents may wait for a suitable break in the user's interaction
-  before queuing the task; for example, a user agent could wait for the user to have not hit a key
-  for 100ms, so as to only fire the event when the user pauses, instead of continuously for each
-  keystroke.&lt;/p&gt; &lt;!-- same text is present in the &lt;textarea&gt; section --&gt;
+  &lt;p&gt;When the &lt;code title=event-input&gt;input&lt;/code&gt; and &lt;code title=event-change&gt;change&lt;/code&gt;
+  events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt; (which is the case for all
+  &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; controls other than &lt;a href=#concept-button title=concept-button&gt;buttons&lt;/a&gt; and those with
+  the &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute in the &lt;a href=&quot;#hidden-state-(type=hidden)&quot; title=attr-input-type-hidden&gt;Hidden&lt;/a&gt; state), the events are fired to indicate that the
+  user has interacted with the control. The &lt;dfn id=event-input-input title=event-input-input&gt;&lt;code&gt;input&lt;/code&gt;&lt;/dfn&gt;
+  event fires whenever the user has modified the data of the control. The &lt;dfn id=event-input-change title=event-input-change&gt;&lt;code&gt;change&lt;/code&gt;&lt;/dfn&gt; event fires when the value is committed, if
+  that makes sense for the control, or else when the control loses focus. In all cases, the &lt;code title=event-input&gt;input&lt;/code&gt; event comes before the corresponding &lt;code title=event-change&gt;change&lt;/code&gt; event (if any).&lt;/p&gt;
 
-  &lt;p class=example&gt;Examples of a user changing the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; would include the user typing into a text field, pasting a
-  new value into the field, or undoing an edit in that field. Some user interactions do not cause
-  changes to the value, e.g. hitting the &quot;delete&quot; key in an empty text field, or replacing some text
-  in the field with text from the clipboard that happens to be exactly the same text.&lt;/p&gt;
+  &lt;p&gt;When an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element has a defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, the rules
+  for dispatching these events, if they &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;, are given
+  in the section above that defines the &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute's
+  state. (This is the case for all &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; controls with the &lt;code title=attr-input-type&gt;&lt;a href=#attr-input-type&gt;type&lt;/a&gt;&lt;/code&gt; attribute in the &lt;a href=&quot;#checkbox-state-(type=checkbox)&quot; title=attr-input-type-checkbox&gt;Checkbox&lt;/a&gt; state, the &lt;a href=&quot;#radio-button-state-(type=radio)&quot; title=attr-input-type-radio&gt;Radio Button&lt;/a&gt; state, or the &lt;a href=&quot;#file-upload-state-(type=file)&quot; title=attr-input-type-file&gt;File Upload&lt;/a&gt; state.)&lt;/p&gt;
 
-  &lt;p&gt;When the &lt;dfn id=event-input-change title=event-input-change&gt;&lt;code&gt;change&lt;/code&gt;&lt;/dfn&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;, if the element does not have an &lt;a href=#activation-behavior&gt;activation
-  behavior&lt;/a&gt; defined but uses a user interface that involves an explicit commit action, then
-  any time the user commits a change to the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; or
-  list of &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;selected files&lt;/a&gt;, the user agent must
-  &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+  &lt;p&gt;For &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; elements without a defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, but to
+  which these events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;, and for which the user
+  interface involves both interactive manipulation and an explicit commit action, then when the user
+  changes the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt;, the user agent must
+  &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element, and any time the user commits
+  the change, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that
+  bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
 
-  &lt;p class=example&gt;An example of a user interface with a commit action would be a &lt;a href=&quot;#file-upload-state-(type=file)&quot; title=attr-input-type-file&gt;File Upload&lt;/a&gt; control that consists of a single button that
-  brings up a file selection dialog: when the dialog is closed, if that the &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;file selection&lt;/a&gt; changed as a result, then the user
-  has committed a new &lt;a href=#concept-input-type-file-selected title=concept-input-type-file-selected&gt;file selection&lt;/a&gt;.&lt;/p&gt;
+  &lt;p class=example&gt;An example of a user interface involving both interactive manipulation and a
+  commit action would be a &lt;a href=&quot;#range-state-(type=range)&quot; title=attr-input-type-range&gt;Range&lt;/a&gt; controls that use a
+  slider, when manipulated using a pointing device. While the user is dragging the control's knob,
+  &lt;code title=event-input&gt;input&lt;/code&gt; events would fire whenever the position changed, whereas
+  the &lt;code title=event-change&gt;change&lt;/code&gt; event would only fire when the user let go of the
+  knob, committing to a specific value.&lt;/p&gt;
 
+  &lt;p&gt;For &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; elements without a defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, but to
+  which these events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;, and for which the user
+  interface involves an explicit commit action but no intermediate manipulation, then any time the
+  user commits a change to the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt;, the user
+  agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to first &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named
+  &lt;code title=event-input&gt;input&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element, and then &lt;a href=#fire-a-simple-event&gt;fire a
+  simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the
+  &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/p&gt;
+
+  &lt;p class=example&gt;An example of a user interface with a commit action would be a &lt;a href=&quot;#color-state-(type=color)&quot; title=attr-input-type-color&gt;Color&lt;/a&gt; control that consists of a single button that brings
+  up a color wheel: if the &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; only changes when the dialog
+  is closed, then that would be the explicit commit action. On the other hand, if the control can be
+  focused and manipulating the control changes the color interactively, then there might be no
+  commit action.&lt;/p&gt;
+
   &lt;p class=example&gt;Another example of a user interface with a commit action would be a &lt;a href=&quot;#date-state-(type=date)&quot; title=attr-input-type-date&gt;Date&lt;/a&gt; control that allows both text-based user input and user
   selection from a drop-down calendar: while text input might not have an explicit commit step,
   selecting a date from the drop down calendar and then dismissing the drop down would be a commit
   action.&lt;/p&gt;
 
-  &lt;p class=example&gt;A third example of a user interface with a commit action would be a &lt;a href=&quot;#range-state-(type=range)&quot; title=attr-input-type-range&gt;Range&lt;/a&gt; controls that use a slider. While the user is dragging
-  the control's knob, &lt;code title=event-input&gt;input&lt;/code&gt; events would fire whenever the position
-  changed, whereas the &lt;code title=event-change&gt;change&lt;/code&gt; event would only fire when the user
-  let go of the knob, committing to a specific value.&lt;/p&gt;
+  &lt;p&gt;For &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; elements without a defined &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt;, but to
+  which these events &lt;a href=#concept-input-apply title=concept-input-apply&gt;apply&lt;/a&gt;, any time the user causes the
+  element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; to change without an explicit commit
+  action, the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that
+  bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element. The
+  corresponding &lt;code title=event-change&gt;change&lt;/code&gt; event, if any, will be fired when the
+  control &lt;a href=#unfocusing-steps title=&quot;unfocusing steps&quot;&gt;loses focus&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;p&gt;When the user agent changes the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; on behalf
-  of the user (e.g. as part of a form prefilling feature), the user agent must follow these
-  steps:&lt;/p&gt;
+  &lt;p class=example&gt;Examples of a user changing the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; would include the user typing into a text field, pasting a
+  new value into the field, or undoing an edit in that field. Some user interactions do not cause
+  changes to the value, e.g. hitting the &quot;delete&quot; key in an empty text field, or replacing some text
+  in the field with text from the clipboard that happens to be exactly the same text.&lt;/p&gt;
 
-  &lt;ol&gt;&lt;li&gt;If the &lt;code title=event-input-input&gt;&lt;a href=#event-input-input&gt;input&lt;/a&gt;&lt;/code&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
-   event&lt;/a&gt; that bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt;
-   element.&lt;/li&gt;
+  &lt;p class=example&gt;A &lt;a href=&quot;#range-state-(type=range)&quot; title=attr-input-type-range&gt;Range&lt;/a&gt; control in the form of a
+  slider that the user has focused and is interacting with using a keyboard would be another example
+  of the user changing the element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; without a commit
+  step.&lt;/p&gt;
 
-   &lt;li&gt;If the &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;, &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to &lt;a href=#fire-a-simple-event&gt;fire a simple
-   event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at the
-   &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.&lt;/li&gt;
+  &lt;p&gt;In the case of &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; that just fire an &lt;code title=event-input&gt;input&lt;/code&gt; event, user agents may wait for a suitable break in the user's
+  interaction before &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queuing&lt;/a&gt; the tasks; for example, a user agent
+  could wait for the user to have not hit a key for 100ms, so as to only fire the event when the
+  user pauses, instead of continuously for each keystroke. &lt;!-- similar text is present in the
+  &lt;textarea&gt; section --&gt;
 
-  &lt;/ol&gt;&lt;p class=note&gt;In addition, when the &lt;code title=event-input-change&gt;&lt;a href=#event-input-change&gt;change&lt;/a&gt;&lt;/code&gt; event &lt;a href=#concept-input-apply title=concept-input-apply&gt;applies&lt;/a&gt;, &lt;code title=event-change&gt;change&lt;/code&gt; events can
-  also be fired as part of the element's &lt;a href=#activation-behavior&gt;activation behavior&lt;/a&gt; and as part of the
-  &lt;a href=#unfocusing-steps&gt;unfocusing steps&lt;/a&gt;.&lt;/p&gt;
+  &lt;p&gt;When the user agent is to change an &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element's &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; on behalf of the user (e.g. as part of a form prefilling
+  feature), the user agent must &lt;a href=#queue-a-task&gt;queue a task&lt;/a&gt; to first update the &lt;a href=#concept-fe-value title=concept-fe-value&gt;value&lt;/a&gt; accordingly, then &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that
+  bubbles named &lt;code title=event-input&gt;input&lt;/code&gt; at the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element, then
+  &lt;a href=#fire-a-simple-event&gt;fire a simple event&lt;/a&gt; that bubbles named &lt;code title=event-change&gt;change&lt;/code&gt; at
+  the &lt;code&gt;&lt;a href=#the-input-element&gt;input&lt;/a&gt;&lt;/code&gt; element.
 
   &lt;p class=note&gt;These events are not fired in response to changes made to the values of form
   controls by scripts. (This is to make it easier to update the values of form controls in response

Modified: source
===================================================================
--- source	2013-12-18 19:30:46 UTC (rev 8366)
+++ source	2013-12-19 00:03:53 UTC (rev 8367)
@@ -42963,9 +42963,9 @@
      &lt;td class=&quot;yes&quot;&gt; Yes     &lt;!-- Number --&gt;
      &lt;td class=&quot;yes&quot;&gt; Yes     &lt;!-- Range --&gt;
      &lt;td class=&quot;yes&quot;&gt; Yes     &lt;!-- Color --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Checkbox --&gt;
-&lt;!-- &lt;td class=&quot;no&quot;&gt; &middot;      Radio Button --&gt;
-     &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- File Upload --&gt;
+     &lt;td class=&quot;yes&quot;&gt; Yes     &lt;!-- Checkbox --&gt;
+&lt;!-- &lt;td class=&quot;yes&quot;&gt; Yes          Radio Button --&gt;
+     &lt;td class=&quot;yes&quot;&gt; Yes     &lt;!-- File Upload --&gt;
      &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Submit Button --&gt;
      &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Image Button --&gt;
      &lt;td class=&quot;no&quot;&gt; &middot; &lt;!-- Reset Button --&gt;
@@ -45575,6 +45575,7 @@
 
   &lt;div class=&quot;impl&quot;&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p&gt;If the element is &lt;i data-x=&quot;concept-fe-mutable&quot;&gt;mutable&lt;/i&gt;, then: The &lt;span&gt;pre-click
   activation steps&lt;/span&gt; consist of setting the element's &lt;span
   data-x=&quot;concept-fe-checked&quot;&gt;checkedness&lt;/span&gt; to its opposite value (i.e. true if it is false,
@@ -45584,6 +45585,7 @@
   and the element's &lt;code data-x=&quot;dom-input-indeterminate&quot;&gt;indeterminate&lt;/code&gt; IDL attribute back to
   the values they had before the &lt;span&gt;pre-click activation steps&lt;/span&gt; were run. The
   &lt;span&gt;activation behavior&lt;/span&gt; is to &lt;span&gt;fire a simple event&lt;/span&gt; that bubbles named &lt;code
+  data-x=&quot;event-input&quot;&gt;input&lt;/code&gt; at the element and then &lt;span&gt;fire a simple event&lt;/span&gt; that bubbles named &lt;code
   data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; at the element. &lt;!-- It's not cancelable. Once this fires, the
   control is checked, end of story. --&gt;&lt;/p&gt;
 
@@ -45624,8 +45626,9 @@
    &lt;p&gt;The &lt;code data-x=&quot;dom-input-value&quot;&gt;value&lt;/code&gt; IDL attribute is in mode &lt;span
    data-x=&quot;dom-input-value-default-on&quot;&gt;default/on&lt;/span&gt;.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code data-x=&quot;event-input-change&quot;&gt;change&lt;/code&gt; event &lt;span
-   data-x=&quot;concept-input-apply&quot;&gt;applies&lt;/span&gt;.&lt;/p&gt;
+   &lt;p&gt;The &lt;code data-x=&quot;event-input-input&quot;&gt;input&lt;/code&gt; and &lt;code
+   data-x=&quot;event-input-change&quot;&gt;change&lt;/code&gt; events &lt;span
+   data-x=&quot;concept-input-apply&quot;&gt;apply&lt;/span&gt;.&lt;/p&gt;
 
    &lt;p&gt;The following content attributes must not be specified and &lt;span&gt;do not apply&lt;/span&gt; to the
    element:
@@ -45668,9 +45671,6 @@
    &lt;code class=&quot;no-backref&quot; data-x=&quot;dom-input-stepDown&quot;&gt;stepDown()&lt;/code&gt;, and
    &lt;code class=&quot;no-backref&quot; data-x=&quot;dom-input-stepUp&quot;&gt;stepUp()&lt;/code&gt; methods.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code class=&quot;no-backref&quot; data-x=&quot;event-input-input&quot;&gt;input&lt;/code&gt; event &lt;span data-x=&quot;do not
-   apply&quot;&gt;does not apply&lt;/span&gt;.&lt;/p&gt;
-
   &lt;/div&gt;
 
 
@@ -45738,11 +45738,13 @@
 
   &lt;/ul&gt;
 
+&lt;!--CLEANUP--&gt;
   &lt;p&gt;If the element is &lt;i data-x=&quot;concept-fe-mutable&quot;&gt;mutable&lt;/i&gt;, then: The &lt;span&gt;pre-click
   activation steps&lt;/span&gt; consist of setting the element's &lt;span
   data-x=&quot;concept-fe-checked&quot;&gt;checkedness&lt;/span&gt; to true. The &lt;span&gt;canceled activation steps&lt;/span&gt;
   consist of setting the element's &lt;span data-x=&quot;concept-fe-checked&quot;&gt;checkedness&lt;/span&gt; to false. The
   &lt;span&gt;activation behavior&lt;/span&gt; is to &lt;span&gt;fire a simple event&lt;/span&gt; that bubbles named &lt;code
+  data-x=&quot;event-input&quot;&gt;input&lt;/code&gt; at the element and then &lt;span&gt;fire a simple event&lt;/span&gt; that bubbles named &lt;code
   data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; at the element. &lt;!-- It's not cancelable. Once this fires, the
   control is checked, end of story. --&gt;.&lt;/p&gt;
 
@@ -45772,8 +45774,9 @@
    &lt;p&gt;The &lt;code data-x=&quot;dom-input-value&quot;&gt;value&lt;/code&gt; IDL attribute is in mode &lt;span
    data-x=&quot;dom-input-value-default-on&quot;&gt;default/on&lt;/span&gt;.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code data-x=&quot;event-input-change&quot;&gt;change&lt;/code&gt; event &lt;span
-   data-x=&quot;concept-input-apply&quot;&gt;applies&lt;/span&gt;.&lt;/p&gt;
+   &lt;p&gt;The &lt;code data-x=&quot;event-input-input&quot;&gt;input&lt;/code&gt; and &lt;code
+   data-x=&quot;event-input-change&quot;&gt;change&lt;/code&gt; events &lt;span
+   data-x=&quot;concept-input-apply&quot;&gt;apply&lt;/span&gt;.&lt;/p&gt;
 
    &lt;p&gt;The following content attributes must not be specified and &lt;span&gt;do not apply&lt;/span&gt; to the
    element:
@@ -45816,9 +45819,6 @@
    &lt;code class=&quot;no-backref&quot; data-x=&quot;dom-input-stepDown&quot;&gt;stepDown()&lt;/code&gt;, and
    &lt;code class=&quot;no-backref&quot; data-x=&quot;dom-input-stepUp&quot;&gt;stepUp()&lt;/code&gt; methods.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code class=&quot;no-backref&quot; data-x=&quot;event-input-input&quot;&gt;input&lt;/code&gt; event &lt;span data-x=&quot;do not
-   apply&quot;&gt;does not apply&lt;/span&gt;.&lt;/p&gt;
-
   &lt;/div&gt;
 
 
@@ -45848,28 +45848,55 @@
   entire directory hierarchy or multiple files with the same name from different directories. Path
   components are those separated by U+005C REVERSE SOLIDUS character (\) characters.&lt;/p&gt;
 
-  &lt;p&gt;If the element is &lt;i data-x=&quot;concept-fe-mutable&quot;&gt;mutable&lt;/i&gt;, the user agent should allow the
-  user to change the files on the list, e.g. adding or removing files. Files can be from the
-  filesystem or created on the fly, e.g. a picture taken from a camera connected to the user's
-  device.&lt;/p&gt;
+  &lt;p&gt;Unless the &lt;code data-x=&quot;attr-input-multiple&quot;&gt;multiple&lt;/code&gt; attribute is set, there must be
+  no more than one file in the list of &lt;span data-x=&quot;concept-input-type-file-selected&quot;&gt;selected
+  files&lt;/span&gt;.&lt;/p&gt;
 
   &lt;p&gt;If the element is &lt;i data-x=&quot;concept-fe-mutable&quot;&gt;mutable&lt;/i&gt;, then the element's
-  &lt;span&gt;activation behavior&lt;/span&gt; is as follows: if the algorithm is &lt;span&gt;allowed to show a
-  popup&lt;/span&gt;, then asynchronously display prompt to the user requesting that the user specify the
-  &lt;span data-x=&quot;concept-input-type-file-selected&quot;&gt;selected files&lt;/span&gt;; otherwise, do nothing.&lt;/p&gt;
+  &lt;span&gt;activation behavior&lt;/span&gt; is to run the following steps:&lt;/p&gt;
 
+  &lt;ol&gt;
+
+   &lt;li&gt;&lt;p&gt;If the algorithm is not &lt;span&gt;allowed to show a popup&lt;/span&gt;, then abort these steps
+   without doing anything else.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Return, but continue running these steps asynchronously.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;Optionally, wait until any prior execution of this algorithm has terminated.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;Display a prompt to the user requesting that the user specify some files. If the &lt;code
+   data-x=&quot;attr-input-multiple&quot;&gt;multiple&lt;/code&gt; attribute is not set, there must be no more than one
+   file selected; otherwise, any number may be selected. Files can be from the filesystem or created
+   on the fly, e.g. a picture taken from a camera connected to the user's device.&lt;/p&gt;
+
+   &lt;li&gt;&lt;p&gt;Wait for the user to have made their selection.&lt;/p&gt;&lt;/li&gt;
+
+   &lt;li&gt;&lt;p&gt;&lt;span&gt;Queue a task&lt;/span&gt; to first update the element's &lt;span
+   data-x=&quot;concept-input-type-file-selected&quot;&gt;selected files&lt;/span&gt; so that it represents the user's
+   selection, then &lt;span&gt;fire a simple event&lt;/span&gt; that bubbles named &lt;code
+   data-x=&quot;event-input&quot;&gt;input&lt;/code&gt; at the &lt;code&gt;input&lt;/code&gt; element, and finally &lt;span&gt;fire a
+   simple event&lt;/span&gt; that bubbles named &lt;code data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; at the
+   &lt;code&gt;input&lt;/code&gt; element.&lt;/p&gt;&lt;/li&gt;
+
+  &lt;/ol&gt;
+
+  &lt;p&gt;If the element is &lt;i data-x=&quot;concept-fe-mutable&quot;&gt;mutable&lt;/i&gt;, the user agent should allow the
+  user to change the files on the list in other ways also, e.g. adding or removing files by
+  drag-and-drop. When the user does so, the user agent must &lt;span&gt;queue a task&lt;/span&gt; to first
+  update the element's &lt;span data-x=&quot;concept-input-type-file-selected&quot;&gt;selected files&lt;/span&gt; so that
+  it represents the user's new selection, then &lt;span&gt;fire a simple event&lt;/span&gt; that bubbles named
+  &lt;code data-x=&quot;event-input&quot;&gt;input&lt;/code&gt; at the &lt;code&gt;input&lt;/code&gt; element, and finally &lt;span&gt;fire
+  a simple event&lt;/span&gt; that bubbles named &lt;code data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; at the
+  &lt;code&gt;input&lt;/code&gt; element.&lt;/p&gt;
+
   &lt;p&gt;If the element is not &lt;i data-x=&quot;concept-fe-mutable&quot;&gt;mutable&lt;/i&gt;, it has no &lt;span&gt;activation
-  behavior&lt;/span&gt;.&lt;/p&gt;
+  behavior&lt;/span&gt; and the user agent must not allow the user to change the element's selection.&lt;/p&gt;
 
   &lt;p&gt;&lt;strong&gt;Constraint validation&lt;/strong&gt;: If the element is &lt;i
   data-x=&quot;concept-input-required&quot;&gt;required&lt;/i&gt; and the list of &lt;span
   data-x=&quot;concept-input-type-file-selected&quot;&gt;selected files&lt;/span&gt; is empty, then the element is
   &lt;span&gt;suffering from being missing&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;Unless the &lt;code data-x=&quot;attr-input-multiple&quot;&gt;multiple&lt;/code&gt; attribute is set, there must be no
-  more than one file in the list of &lt;span data-x=&quot;concept-input-type-file-selected&quot;&gt;selected
-  files&lt;/span&gt;.&lt;/p&gt;
-
   &lt;/div&gt;
 
   &lt;hr&gt;
@@ -46004,8 +46031,9 @@
    &lt;p&gt;The &lt;code data-x=&quot;dom-input-value&quot;&gt;value&lt;/code&gt; IDL attribute is in mode &lt;span
    data-x=&quot;dom-input-value-filename&quot;&gt;filename&lt;/span&gt;.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code data-x=&quot;event-input-change&quot;&gt;change&lt;/code&gt; event &lt;span
-   data-x=&quot;concept-input-apply&quot;&gt;applies&lt;/span&gt;.&lt;/p&gt;
+   &lt;p&gt;The &lt;code data-x=&quot;event-input-input&quot;&gt;input&lt;/code&gt; and &lt;code
+   data-x=&quot;event-input-change&quot;&gt;change&lt;/code&gt; events &lt;span
+   data-x=&quot;concept-input-apply&quot;&gt;apply&lt;/span&gt;.&lt;/p&gt;
 
    &lt;p&gt;The following content attributes must not be specified and &lt;span&gt;do not apply&lt;/span&gt; to the
    element:
@@ -46049,9 +46077,6 @@
    &lt;code class=&quot;no-backref&quot; data-x=&quot;dom-input-stepDown&quot;&gt;stepDown()&lt;/code&gt;, and
    &lt;code class=&quot;no-backref&quot; data-x=&quot;dom-input-stepUp&quot;&gt;stepUp()&lt;/code&gt; methods.&lt;/p&gt;
 
-   &lt;p&gt;The &lt;code class=&quot;no-backref&quot; data-x=&quot;event-input-input&quot;&gt;input&lt;/code&gt; event &lt;span data-x=&quot;do not
-   apply&quot;&gt;does not apply&lt;/span&gt;.&lt;/p&gt;
-
   &lt;/div&gt;
 
 
@@ -47747,34 +47772,58 @@
 
   &lt;h5 id=&quot;common-input-element-events&quot;&gt;Common event behaviors&lt;/h5&gt;
 
-  &lt;p&gt;When the &lt;dfn data-x=&quot;event-input-input&quot;&gt;&lt;code&gt;input&lt;/code&gt;&lt;/dfn&gt; event &lt;span
-  data-x=&quot;concept-input-apply&quot;&gt;applies&lt;/span&gt;, any time the user causes the element's &lt;span
-  data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; to change, the user agent must &lt;span&gt;queue a task&lt;/span&gt; to
-  &lt;span&gt;fire a simple event&lt;/span&gt; that bubbles named &lt;code data-x=&quot;event-input&quot;&gt;input&lt;/code&gt; at the
-  &lt;code&gt;input&lt;/code&gt; element. User agents may wait for a suitable break in the user's interaction
-  before queuing the task; for example, a user agent could wait for the user to have not hit a key
-  for 100ms, so as to only fire the event when the user pauses, instead of continuously for each
-  keystroke.&lt;/p&gt; &lt;!-- same text is present in the &lt;textarea&gt; section --&gt;
+  &lt;p&gt;When the &lt;code data-x=&quot;event-input&quot;&gt;input&lt;/code&gt; and &lt;code data-x=&quot;event-change&quot;&gt;change&lt;/code&gt;
+  events &lt;span data-x=&quot;concept-input-apply&quot;&gt;apply&lt;/span&gt; (which is the case for all
+  &lt;code&gt;input&lt;/code&gt; controls other than &lt;span data-x=&quot;concept-button&quot;&gt;buttons&lt;/span&gt; and those with
+  the &lt;code data-x=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute in the &lt;span
+  data-x=&quot;attr-input-type-hidden&quot;&gt;Hidden&lt;/span&gt; state), the events are fired to indicate that the
+  user has interacted with the control. The &lt;dfn data-x=&quot;event-input-input&quot;&gt;&lt;code&gt;input&lt;/code&gt;&lt;/dfn&gt;
+  event fires whenever the user has modified the data of the control. The &lt;dfn
+  data-x=&quot;event-input-change&quot;&gt;&lt;code&gt;change&lt;/code&gt;&lt;/dfn&gt; event fires when the value is committed, if
+  that makes sense for the control, or else when the control loses focus. In all cases, the &lt;code
+  data-x=&quot;event-input&quot;&gt;input&lt;/code&gt; event comes before the corresponding &lt;code
+  data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; event (if any).&lt;/p&gt;
 
-  &lt;p class=&quot;example&quot;&gt;Examples of a user changing the element's &lt;span
-  data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; would include the user typing into a text field, pasting a
-  new value into the field, or undoing an edit in that field. Some user interactions do not cause
-  changes to the value, e.g. hitting the &quot;delete&quot; key in an empty text field, or replacing some text
-  in the field with text from the clipboard that happens to be exactly the same text.&lt;/p&gt;
+  &lt;p&gt;When an &lt;code&gt;input&lt;/code&gt; element has a defined &lt;span&gt;activation behavior&lt;/span&gt;, the rules
+  for dispatching these events, if they &lt;span data-x=&quot;concept-input-apply&quot;&gt;apply&lt;/span&gt;, are given
+  in the section above that defines the &lt;code data-x=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute's
+  state. (This is the case for all &lt;code&gt;input&lt;/code&gt; controls with the &lt;code
+  data-x=&quot;attr-input-type&quot;&gt;type&lt;/code&gt; attribute in the &lt;span
+  data-x=&quot;attr-input-type-checkbox&quot;&gt;Checkbox&lt;/span&gt; state, the &lt;span
+  data-x=&quot;attr-input-type-radio&quot;&gt;Radio Button&lt;/span&gt; state, or the &lt;span
+  data-x=&quot;attr-input-type-file&quot;&gt;File Upload&lt;/span&gt; state.)&lt;/p&gt;
 
-  &lt;p&gt;When the &lt;dfn data-x=&quot;event-input-change&quot;&gt;&lt;code&gt;change&lt;/code&gt;&lt;/dfn&gt; event &lt;span
-  data-x=&quot;concept-input-apply&quot;&gt;applies&lt;/span&gt;, if the element does not have an &lt;span&gt;activation
-  behavior&lt;/span&gt; defined but uses a user interface that involves an explicit commit action, then
-  any time the user commits a change to the element's &lt;span data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; or
-  list of &lt;span data-x=&quot;concept-input-type-file-selected&quot;&gt;selected files&lt;/span&gt;, the user agent must
+  &lt;p&gt;For &lt;code&gt;input&lt;/code&gt; elements without a defined &lt;span&gt;activation behavior&lt;/span&gt;, but to
+  which these events &lt;span data-x=&quot;concept-input-apply&quot;&gt;apply&lt;/span&gt;, and for which the user
+  interface involves both interactive manipulation and an explicit commit action, then when the user
+  changes the element's &lt;span data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt;, the user agent must
   &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; that bubbles named &lt;code
-  data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; at the &lt;code&gt;input&lt;/code&gt; element.&lt;/p&gt;
+  data-x=&quot;event-input&quot;&gt;input&lt;/code&gt; at the &lt;code&gt;input&lt;/code&gt; element, and any time the user commits
+  the change, the user agent must &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; that
+  bubbles named &lt;code data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; at the &lt;code&gt;input&lt;/code&gt; element.&lt;/p&gt;
 
+  &lt;p class=&quot;example&quot;&gt;An example of a user interface involving both interactive manipulation and a
+  commit action would be a &lt;span data-x=&quot;attr-input-type-range&quot;&gt;Range&lt;/span&gt; controls that use a
+  slider, when manipulated using a pointing device. While the user is dragging the control's knob,
+  &lt;code data-x=&quot;event-input&quot;&gt;input&lt;/code&gt; events would fire whenever the position changed, whereas
+  the &lt;code data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; event would only fire when the user let go of the
+  knob, committing to a specific value.&lt;/p&gt;
+
+  &lt;p&gt;For &lt;code&gt;input&lt;/code&gt; elements without a defined &lt;span&gt;activation behavior&lt;/span&gt;, but to
+  which these events &lt;span data-x=&quot;concept-input-apply&quot;&gt;apply&lt;/span&gt;, and for which the user
+  interface involves an explicit commit action but no intermediate manipulation, then any time the
+  user commits a change to the element's &lt;span data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt;, the user
+  agent must &lt;span&gt;queue a task&lt;/span&gt; to first &lt;span&gt;fire a simple event&lt;/span&gt; that bubbles named
+  &lt;code data-x=&quot;event-input&quot;&gt;input&lt;/code&gt; at the &lt;code&gt;input&lt;/code&gt; element, and then &lt;span&gt;fire a
+  simple event&lt;/span&gt; that bubbles named &lt;code data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; at the
+  &lt;code&gt;input&lt;/code&gt; element.&lt;/p&gt;
+
   &lt;p class=&quot;example&quot;&gt;An example of a user interface with a commit action would be a &lt;span
-  data-x=&quot;attr-input-type-file&quot;&gt;File Upload&lt;/span&gt; control that consists of a single button that
-  brings up a file selection dialog: when the dialog is closed, if that the &lt;span
-  data-x=&quot;concept-input-type-file-selected&quot;&gt;file selection&lt;/span&gt; changed as a result, then the user
-  has committed a new &lt;span data-x=&quot;concept-input-type-file-selected&quot;&gt;file selection&lt;/span&gt;.&lt;/p&gt;
+  data-x=&quot;attr-input-type-color&quot;&gt;Color&lt;/span&gt; control that consists of a single button that brings
+  up a color wheel: if the &lt;span data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; only changes when the dialog
+  is closed, then that would be the explicit commit action. On the other hand, if the control can be
+  focused and manipulating the control changes the color interactively, then there might be no
+  commit action.&lt;/p&gt;
 
   &lt;p class=&quot;example&quot;&gt;Another example of a user interface with a commit action would be a &lt;span
   data-x=&quot;attr-input-type-date&quot;&gt;Date&lt;/span&gt; control that allows both text-based user input and user
@@ -47782,35 +47831,40 @@
   selecting a date from the drop down calendar and then dismissing the drop down would be a commit
   action.&lt;/p&gt;
 
-  &lt;p class=&quot;example&quot;&gt;A third example of a user interface with a commit action would be a &lt;span
-  data-x=&quot;attr-input-type-range&quot;&gt;Range&lt;/span&gt; controls that use a slider. While the user is dragging
-  the control's knob, &lt;code data-x=&quot;event-input&quot;&gt;input&lt;/code&gt; events would fire whenever the position
-  changed, whereas the &lt;code data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; event would only fire when the user
-  let go of the knob, committing to a specific value.&lt;/p&gt;
+  &lt;p&gt;For &lt;code&gt;input&lt;/code&gt; elements without a defined &lt;span&gt;activation behavior&lt;/span&gt;, but to
+  which these events &lt;span data-x=&quot;concept-input-apply&quot;&gt;apply&lt;/span&gt;, any time the user causes the
+  element's &lt;span data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; to change without an explicit commit
+  action, the user agent must &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple event&lt;/span&gt; that
+  bubbles named &lt;code data-x=&quot;event-input&quot;&gt;input&lt;/code&gt; at the &lt;code&gt;input&lt;/code&gt; element. The
+  corresponding &lt;code data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; event, if any, will be fired when the
+  control &lt;span data-x=&quot;unfocusing steps&quot;&gt;loses focus&lt;/span&gt;.&lt;/p&gt;
 
-  &lt;p&gt;When the user agent changes the element's &lt;span data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; on behalf
-  of the user (e.g. as part of a form prefilling feature), the user agent must follow these
-  steps:&lt;/p&gt;
+  &lt;p class=&quot;example&quot;&gt;Examples of a user changing the element's &lt;span
+  data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; would include the user typing into a text field, pasting a
+  new value into the field, or undoing an edit in that field. Some user interactions do not cause
+  changes to the value, e.g. hitting the &quot;delete&quot; key in an empty text field, or replacing some text
+  in the field with text from the clipboard that happens to be exactly the same text.&lt;/p&gt;
 
-  &lt;ol&gt;
+  &lt;p class=&quot;example&quot;&gt;A &lt;span data-x=&quot;attr-input-type-range&quot;&gt;Range&lt;/span&gt; control in the form of a
+  slider that the user has focused and is interacting with using a keyboard would be another example
+  of the user changing the element's &lt;span data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; without a commit
+  step.&lt;/p&gt;
 
-   &lt;li&gt;If the &lt;code data-x=&quot;event-input-input&quot;&gt;input&lt;/code&gt; event &lt;span
-   data-x=&quot;concept-input-apply&quot;&gt;applies&lt;/span&gt;, &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
-   event&lt;/span&gt; that bubbles named &lt;code data-x=&quot;event-input&quot;&gt;input&lt;/code&gt; at the &lt;code&gt;input&lt;/code&gt;
-   element.&lt;/li&gt;
+  &lt;p&gt;In the case of &lt;span data-x=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; that just fire an &lt;code
+  data-x=&quot;event-input&quot;&gt;input&lt;/code&gt; event, user agents may wait for a suitable break in the user's
+  interaction before &lt;span data-x=&quot;queue a task&quot;&gt;queuing&lt;/span&gt; the tasks; for example, a user agent
+  could wait for the user to have not hit a key for 100ms, so as to only fire the event when the
+  user pauses, instead of continuously for each keystroke. &lt;!-- similar text is present in the
+  &lt;textarea&gt; section --&gt;
 
-   &lt;li&gt;If the &lt;code data-x=&quot;event-input-change&quot;&gt;change&lt;/code&gt; event &lt;span
-   data-x=&quot;concept-input-apply&quot;&gt;applies&lt;/span&gt;, &lt;span&gt;queue a task&lt;/span&gt; to &lt;span&gt;fire a simple
-   event&lt;/span&gt; that bubbles named &lt;code data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; at the
-   &lt;code&gt;input&lt;/code&gt; element.&lt;/li&gt;
+  &lt;p&gt;When the user agent is to change an &lt;code&gt;input&lt;/code&gt; element's &lt;span
+  data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; on behalf of the user (e.g. as part of a form prefilling
+  feature), the user agent must &lt;span&gt;queue a task&lt;/span&gt; to first update the &lt;span
+  data-x=&quot;concept-fe-value&quot;&gt;value&lt;/span&gt; accordingly, then &lt;span&gt;fire a simple event&lt;/span&gt; that
+  bubbles named &lt;code data-x=&quot;event-input&quot;&gt;input&lt;/code&gt; at the &lt;code&gt;input&lt;/code&gt; element, then
+  &lt;span&gt;fire a simple event&lt;/span&gt; that bubbles named &lt;code data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; at
+  the &lt;code&gt;input&lt;/code&gt; element.&lt;/li&gt;
 
-  &lt;/ol&gt;
-
-  &lt;p class=&quot;note&quot;&gt;In addition, when the &lt;code data-x=&quot;event-input-change&quot;&gt;change&lt;/code&gt; event &lt;span
-  data-x=&quot;concept-input-apply&quot;&gt;applies&lt;/span&gt;, &lt;code data-x=&quot;event-change&quot;&gt;change&lt;/code&gt; events can
-  also be fired as part of the element's &lt;span&gt;activation behavior&lt;/span&gt; and as part of the
-  &lt;span&gt;unfocusing steps&lt;/span&gt;.&lt;/p&gt;
-
   &lt;p class=&quot;note&quot;&gt;These events are not fired in response to changes made to the values of form
   controls by scripts. (This is to make it easier to update the values of form controls in response
   to the user manipulating the controls, without having to then filter out the script's own changes


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015221.html">[html5] r8366 - [giow] (2) Actually,	previous checkin did not match reality. Try again for locat [...]
</A></li>
	<LI>Next message: <A HREF="015223.html">[html5] r8368 - [giow] (1) Fire 'input' events on &lt;select&gt; also.	Fixing https://www.w3.org/Bugs/ [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15222">[ date ]</a>
              <a href="thread.html#15222">[ thread ]</a>
              <a href="subject.html#15222">[ subject ]</a>
              <a href="author.html#15222">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
