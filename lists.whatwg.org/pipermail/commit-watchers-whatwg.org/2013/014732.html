<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [html5] r7874 - [e] (0) Try to clarify event loop terminology.	Fixing https://www.w3.org/Bugs/Pu [...]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7874%20-%20%5Be%5D%20%280%29%20Try%20to%20clarify%20event%20loop%20terminology.%0A%09Fixing%20https%3A//www.w3.org/Bugs/Pu%20%5B...%5D&In-Reply-To=%3C20130530222209.6419C1C8C07D%40ps20323.dreamhostps.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014731.html">
   <LINK REL="Next"  HREF="014733.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[html5] r7874 - [e] (0) Try to clarify event loop terminology.	Fixing https://www.w3.org/Bugs/Pu [...]</H1>
<!--htdig_noindex-->
    <B>whatwg at whatwg.org</B> 
    <A HREF="mailto:commit-watchers%40lists.whatwg.org?Subject=Re%3A%20%5Bhtml5%5D%20r7874%20-%20%5Be%5D%20%280%29%20Try%20to%20clarify%20event%20loop%20terminology.%0A%09Fixing%20https%3A//www.w3.org/Bugs/Pu%20%5B...%5D&In-Reply-To=%3C20130530222209.6419C1C8C07D%40ps20323.dreamhostps.com%3E"
       TITLE="[html5] r7874 - [e] (0) Try to clarify event loop terminology.	Fixing https://www.w3.org/Bugs/Pu [...]">whatwg at whatwg.org
       </A><BR>
    <I>Thu May 30 15:22:09 PDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="014731.html">[html5] r7873 - [giow] (2) Allow data: URLs to be given download=''	attribute names. Fixing http [...]
</A></li>
        <LI>Next message: <A HREF="014733.html">[html5] r7875 - [giow] (1) Fix the terminology for how canvases are	committed. Fixing https://ww [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14732">[ date ]</a>
              <a href="thread.html#14732">[ thread ]</a>
              <a href="subject.html#14732">[ subject ]</a>
              <a href="author.html#14732">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Author: ianh
Date: 2013-05-30 15:22:08 -0700 (Thu, 30 May 2013)
New Revision: 7874

Modified:
   complete.html
   index
   source
Log:
[e] (0) Try to clarify event loop terminology.
Fixing <A HREF="https://www.w3.org/Bugs/Public/show_bug.cgi?id=21632">https://www.w3.org/Bugs/Public/show_bug.cgi?id=21632</A>
Affected topics: HTML

Modified: complete.html
===================================================================
--- complete.html	2013-05-30 22:05:54 UTC (rev 7873)
+++ complete.html	2013-05-30 22:22:08 UTC (rev 7874)
@@ -70905,26 +70905,33 @@
    &lt;dd&gt;&lt;p&gt;Some elements have tasks that trigger in response to DOM manipulation, e.g. when that
    element is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an element into a document&quot;&gt;inserted into the document&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;/dl&gt;&lt;p&gt;When a user agent is to &lt;dfn id=queue-a-task&gt;queue a task&lt;/dfn&gt;, it must add the given task to one of the &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; of the relevant &lt;a href=#event-loop&gt;event loop&lt;/a&gt;. All the tasks from
-  one particular &lt;dfn id=task-source&gt;task source&lt;/dfn&gt; (e.g. the callbacks generated by timers, the events fired
-  for mouse movements, the tasks queued for the parser) must always be added to the same &lt;a href=#task-queue&gt;task
-  queue&lt;/a&gt;, but tasks from different &lt;a href=#task-source title=&quot;task source&quot;&gt;task sources&lt;/a&gt; may be placed
-  in different &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;.&lt;/p&gt;
+  &lt;/dl&gt;&lt;p&gt;Each &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; is associated with a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if the
+  task was queued in the context of an element, then it is the element's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if
+  the task was queued in the context of a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, then it is the
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;a href=#active-document&gt;active document&lt;/a&gt; at the time the task was queued; if
+  the task was queued by or for a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; then the document is
+  the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;p&gt;A &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; is intended for a specific &lt;a href=#event-loop&gt;event loop&lt;/a&gt;:
+  the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; that is handling &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; for the &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;'s associated &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
+  &lt;p&gt;When a user agent is to &lt;dfn id=queue-a-task&gt;queue a task&lt;/dfn&gt;, it must add the given task to one of the &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; of the relevant &lt;a href=#event-loop&gt;event loop&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; is defined as coming from a specific &lt;dfn id=task-source&gt;task
+  source&lt;/dfn&gt;. All the tasks from one particular &lt;a href=#task-source&gt;task source&lt;/a&gt; and destined to a
+  particular &lt;a href=#event-loop&gt;event loop&lt;/a&gt; (e.g. the callbacks generated by timers of a
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, the events fired for mouse movements over that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, the
+  tasks queued for the parser of that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;) must always be added to the same
+  &lt;a href=#task-queue&gt;task queue&lt;/a&gt;, but &lt;span concept-task=&quot;&quot; title=&quot;title=&quot;&gt;tasks&lt;/span&gt; from different &lt;a href=#task-source title=&quot;task source&quot;&gt;task sources&lt;/a&gt; may be placed in different &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task
+  queues&lt;/a&gt;.&lt;/p&gt;
+
   &lt;p class=example&gt;For example, a user agent could have one &lt;a href=#task-queue&gt;task queue&lt;/a&gt; for mouse and
   key events (the &lt;a href=#user-interaction-task-source&gt;user interaction task source&lt;/a&gt;), and another for everything else. The
   user agent could then give keyboard and mouse events preference over other tasks three quarters of
   the time, keeping the interface responsive but not starving other task queues, and never
   processing events from any one &lt;a href=#task-source&gt;task source&lt;/a&gt; out of order.&lt;/p&gt;
 
-  &lt;p&gt;Each &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queued&lt;/a&gt;
-  onto a &lt;a href=#task-queue&gt;task queue&lt;/a&gt; of an &lt;a href=#event-loop&gt;event loop&lt;/a&gt; defined by this specification is
-  associated with a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if the task was queued in the context of an element, then
-  it is the element's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if the task was queued in the context of a
-  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, then it is the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;a href=#active-document&gt;active
-  document&lt;/a&gt; at the time the task was queued; if the task was queued by or for a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; then the document is the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt;.&lt;/p&gt;
-
-  &lt;p&gt;A user agent may have one &lt;dfn id=storage-mutex&gt;storage mutex&lt;/dfn&gt;. This mutex is used to control access to
+  &lt;hr&gt;&lt;p&gt;A user agent may have one &lt;dfn id=storage-mutex&gt;storage mutex&lt;/dfn&gt;. This mutex is used to control access to
   shared state like cookies. At any one point, the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is either free, or
   owned by a particular &lt;a href=#event-loop&gt;event loop&lt;/a&gt; or instance of the &lt;a href=#fetch title=fetch&gt;fetching&lt;/a&gt; algorithm.&lt;/p&gt;
 

Modified: index
===================================================================
--- index	2013-05-30 22:05:54 UTC (rev 7873)
+++ index	2013-05-30 22:22:08 UTC (rev 7874)
@@ -70905,26 +70905,33 @@
    &lt;dd&gt;&lt;p&gt;Some elements have tasks that trigger in response to DOM manipulation, e.g. when that
    element is &lt;a href=#insert-an-element-into-a-document title=&quot;insert an element into a document&quot;&gt;inserted into the document&lt;/a&gt;.&lt;/p&gt;
 
-  &lt;/dl&gt;&lt;p&gt;When a user agent is to &lt;dfn id=queue-a-task&gt;queue a task&lt;/dfn&gt;, it must add the given task to one of the &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; of the relevant &lt;a href=#event-loop&gt;event loop&lt;/a&gt;. All the tasks from
-  one particular &lt;dfn id=task-source&gt;task source&lt;/dfn&gt; (e.g. the callbacks generated by timers, the events fired
-  for mouse movements, the tasks queued for the parser) must always be added to the same &lt;a href=#task-queue&gt;task
-  queue&lt;/a&gt;, but tasks from different &lt;a href=#task-source title=&quot;task source&quot;&gt;task sources&lt;/a&gt; may be placed
-  in different &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt;.&lt;/p&gt;
+  &lt;/dl&gt;&lt;p&gt;Each &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; is associated with a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if the
+  task was queued in the context of an element, then it is the element's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if
+  the task was queued in the context of a &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, then it is the
+  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;a href=#active-document&gt;active document&lt;/a&gt; at the time the task was queued; if
+  the task was queued by or for a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; then the document is
+  the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt;.&lt;/p&gt;
 
+  &lt;p&gt;A &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; is intended for a specific &lt;a href=#event-loop&gt;event loop&lt;/a&gt;:
+  the &lt;a href=#event-loop&gt;event loop&lt;/a&gt; that is handling &lt;a href=#concept-task title=concept-task&gt;tasks&lt;/a&gt; for the &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt;'s associated &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
+
+  &lt;p&gt;When a user agent is to &lt;dfn id=queue-a-task&gt;queue a task&lt;/dfn&gt;, it must add the given task to one of the &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task queues&lt;/a&gt; of the relevant &lt;a href=#event-loop&gt;event loop&lt;/a&gt;.&lt;/p&gt;
+
+  &lt;p&gt;Each &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; is defined as coming from a specific &lt;dfn id=task-source&gt;task
+  source&lt;/dfn&gt;. All the tasks from one particular &lt;a href=#task-source&gt;task source&lt;/a&gt; and destined to a
+  particular &lt;a href=#event-loop&gt;event loop&lt;/a&gt; (e.g. the callbacks generated by timers of a
+  &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, the events fired for mouse movements over that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;, the
+  tasks queued for the parser of that &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;) must always be added to the same
+  &lt;a href=#task-queue&gt;task queue&lt;/a&gt;, but &lt;span concept-task=&quot;&quot; title=&quot;title=&quot;&gt;tasks&lt;/span&gt; from different &lt;a href=#task-source title=&quot;task source&quot;&gt;task sources&lt;/a&gt; may be placed in different &lt;a href=#task-queue title=&quot;task queue&quot;&gt;task
+  queues&lt;/a&gt;.&lt;/p&gt;
+
   &lt;p class=example&gt;For example, a user agent could have one &lt;a href=#task-queue&gt;task queue&lt;/a&gt; for mouse and
   key events (the &lt;a href=#user-interaction-task-source&gt;user interaction task source&lt;/a&gt;), and another for everything else. The
   user agent could then give keyboard and mouse events preference over other tasks three quarters of
   the time, keeping the interface responsive but not starving other task queues, and never
   processing events from any one &lt;a href=#task-source&gt;task source&lt;/a&gt; out of order.&lt;/p&gt;
 
-  &lt;p&gt;Each &lt;a href=#concept-task title=concept-task&gt;task&lt;/a&gt; that is &lt;a href=#queue-a-task title=&quot;queue a task&quot;&gt;queued&lt;/a&gt;
-  onto a &lt;a href=#task-queue&gt;task queue&lt;/a&gt; of an &lt;a href=#event-loop&gt;event loop&lt;/a&gt; defined by this specification is
-  associated with a &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if the task was queued in the context of an element, then
-  it is the element's &lt;code&gt;&lt;a href=#document&gt;Document&lt;/a&gt;&lt;/code&gt;; if the task was queued in the context of a
-  &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;, then it is the &lt;a href=#browsing-context&gt;browsing context&lt;/a&gt;'s &lt;a href=#active-document&gt;active
-  document&lt;/a&gt; at the time the task was queued; if the task was queued by or for a &lt;a href=#concept-script title=concept-script&gt;script&lt;/a&gt; then the document is the &lt;a href=&quot;#script's-document&quot;&gt;script's document&lt;/a&gt;.&lt;/p&gt;
-
-  &lt;p&gt;A user agent may have one &lt;dfn id=storage-mutex&gt;storage mutex&lt;/dfn&gt;. This mutex is used to control access to
+  &lt;hr&gt;&lt;p&gt;A user agent may have one &lt;dfn id=storage-mutex&gt;storage mutex&lt;/dfn&gt;. This mutex is used to control access to
   shared state like cookies. At any one point, the &lt;a href=#storage-mutex&gt;storage mutex&lt;/a&gt; is either free, or
   owned by a particular &lt;a href=#event-loop&gt;event loop&lt;/a&gt; or instance of the &lt;a href=#fetch title=fetch&gt;fetching&lt;/a&gt; algorithm.&lt;/p&gt;
 

Modified: source
===================================================================
--- source	2013-05-30 22:05:54 UTC (rev 7873)
+++ source	2013-05-30 22:22:08 UTC (rev 7874)
@@ -79453,26 +79453,36 @@
 
   &lt;/dl&gt;
 
+  &lt;p&gt;Each &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; is associated with a &lt;code&gt;Document&lt;/code&gt;; if the
+  task was queued in the context of an element, then it is the element's &lt;code&gt;Document&lt;/code&gt;; if
+  the task was queued in the context of a &lt;span&gt;browsing context&lt;/span&gt;, then it is the
+  &lt;span&gt;browsing context&lt;/span&gt;'s &lt;span&gt;active document&lt;/span&gt; at the time the task was queued; if
+  the task was queued by or for a &lt;span title=&quot;concept-script&quot;&gt;script&lt;/span&gt; then the document is
+  the &lt;span&gt;script's document&lt;/span&gt;.&lt;/p&gt;
+
+  &lt;p&gt;A &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; is intended for a specific &lt;span&gt;event loop&lt;/span&gt;:
+  the &lt;span&gt;event loop&lt;/span&gt; that is handling &lt;span title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; for the &lt;span
+  title=&quot;concept-task&quot;&gt;task&lt;/span&gt;'s associated &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;
+
   &lt;p&gt;When a user agent is to &lt;dfn&gt;queue a task&lt;/dfn&gt;, it must add the given task to one of the &lt;span
-  title=&quot;task queue&quot;&gt;task queues&lt;/span&gt; of the relevant &lt;span&gt;event loop&lt;/span&gt;. All the tasks from
-  one particular &lt;dfn&gt;task source&lt;/dfn&gt; (e.g. the callbacks generated by timers, the events fired
-  for mouse movements, the tasks queued for the parser) must always be added to the same &lt;span&gt;task
-  queue&lt;/span&gt;, but tasks from different &lt;span title=&quot;task source&quot;&gt;task sources&lt;/span&gt; may be placed
-  in different &lt;span title=&quot;task queue&quot;&gt;task queues&lt;/span&gt;.&lt;/p&gt;
+  title=&quot;task queue&quot;&gt;task queues&lt;/span&gt; of the relevant &lt;span&gt;event loop&lt;/span&gt;.&lt;/p&gt;
 
+  &lt;p&gt;Each &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; is defined as coming from a specific &lt;dfn&gt;task
+  source&lt;/dfn&gt;. All the tasks from one particular &lt;span&gt;task source&lt;/span&gt; and destined to a
+  particular &lt;span&gt;event loop&lt;/span&gt; (e.g. the callbacks generated by timers of a
+  &lt;code&gt;Document&lt;/code&gt;, the events fired for mouse movements over that &lt;code&gt;Document&lt;/code&gt;, the
+  tasks queued for the parser of that &lt;code&gt;Document&lt;/code&gt;) must always be added to the same
+  &lt;span&gt;task queue&lt;/span&gt;, but &lt;span title=&quot;title=&quot;concept-task&quot;&gt;tasks&lt;/span&gt; from different &lt;span
+  title=&quot;task source&quot;&gt;task sources&lt;/span&gt; may be placed in different &lt;span title=&quot;task queue&quot;&gt;task
+  queues&lt;/span&gt;.&lt;/p&gt;
+
   &lt;p class=&quot;example&quot;&gt;For example, a user agent could have one &lt;span&gt;task queue&lt;/span&gt; for mouse and
   key events (the &lt;span&gt;user interaction task source&lt;/span&gt;), and another for everything else. The
   user agent could then give keyboard and mouse events preference over other tasks three quarters of
   the time, keeping the interface responsive but not starving other task queues, and never
   processing events from any one &lt;span&gt;task source&lt;/span&gt; out of order.&lt;/p&gt;
 
-  &lt;p&gt;Each &lt;span title=&quot;concept-task&quot;&gt;task&lt;/span&gt; that is &lt;span title=&quot;queue a task&quot;&gt;queued&lt;/span&gt;
-  onto a &lt;span&gt;task queue&lt;/span&gt; of an &lt;span&gt;event loop&lt;/span&gt; defined by this specification is
-  associated with a &lt;code&gt;Document&lt;/code&gt;; if the task was queued in the context of an element, then
-  it is the element's &lt;code&gt;Document&lt;/code&gt;; if the task was queued in the context of a
-  &lt;span&gt;browsing context&lt;/span&gt;, then it is the &lt;span&gt;browsing context&lt;/span&gt;'s &lt;span&gt;active
-  document&lt;/span&gt; at the time the task was queued; if the task was queued by or for a &lt;span
-  title=&quot;concept-script&quot;&gt;script&lt;/span&gt; then the document is the &lt;span&gt;script's document&lt;/span&gt;.&lt;/p&gt;
+  &lt;hr&gt;
 
   &lt;p&gt;A user agent may have one &lt;dfn&gt;storage mutex&lt;/dfn&gt;. This mutex is used to control access to
   shared state like cookies. At any one point, the &lt;span&gt;storage mutex&lt;/span&gt; is either free, or


</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014731.html">[html5] r7873 - [giow] (2) Allow data: URLs to be given download=''	attribute names. Fixing http [...]
</A></li>
	<LI>Next message: <A HREF="014733.html">[html5] r7875 - [giow] (1) Fix the terminology for how canvases are	committed. Fixing https://ww [...]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14732">[ date ]</a>
              <a href="thread.html#14732">[ thread ]</a>
              <a href="subject.html#14732">[ subject ]</a>
              <a href="author.html#14732">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">More information about the Commit-Watchers
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
